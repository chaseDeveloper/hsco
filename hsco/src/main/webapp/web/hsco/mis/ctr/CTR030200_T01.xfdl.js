(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CTR030200_T01");this.set_classname("CTR030200_T01");this.set_titletext("첨부파일");this._setFormPosition(0,0,1031,400);}_a=new Grid("grd_cmmnAtchmnfl","absolute","0","35",null,null,"0","0",this);_a.set_taborder("1");_a.set_binddataset("ds_fileList");_a.set_cellsizingtype("col");_a.set_autoenter("select");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"65\"/><Column size=\"300\"/><Column size=\"80\"/><Column size=\"80\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"40\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"파일형식\"/><Cell col=\"2\" celltype=\"head\" text=\"파일명\"/><Cell col=\"3\" text=\"확장자\"/><Cell col=\"4\" text=\"사이즈\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" displaytype=\"image\" text=\"bind:FILE_IMAGE\" autosizerow=\"limitmin\" autosizecol=\"limitmin\"/><Cell col=\"2\" displaytype=\"normal\" style=\"align:left middle;\" text=\"bind:ORGINL_FILE_NM\"/><Cell col=\"3\" text=\"bind:FILE_EXTSN\"/><Cell col=\"4\" text=\"bind:FILE_MG\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","1",null,"10","0",null,this);_a.set_taborder("3");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","30",null,"5","0",null,this);_a.set_taborder("4");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_downFiles","absolute",null,"11","85","19","0",null,this);_a.set_taborder("5");_a.set_text("선택다운로드");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Button("btn_uploadFiles","absolute",null,"11","68","19","88",null,this);_a.set_taborder("6");_a.set_text("파일업로드");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Button("btn_delFiles","absolute",null,"11","67","19","160",null,this);_a.set_taborder("7");_a.set_text("선택삭제");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Static("sta_title","absolute","0","11","120","19",null,null,this);_a.set_taborder("2");_a.set_text("첨부파일");_a.set_cssclass("sta_WF_Title03");_a.set_visible("true");this.addChild(_a.name,_a);_a=new Layout("default","",1031,400,this,function(_b){_b.set_classname("CTR030200_T01");_b.set_titletext("첨부파일");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("CTR030200_T01.xfdl","lib::comInclude.xjs");this.addIncludeScript("CTR030200_T01.xfdl","mis_lib::misUtil.xjs");this.registerScript("CTR030200_T01.xfdl",function(){this.CTR030200_T01_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.CTR030200_T01_onload=function(_a,_b){};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);};this.fn_init_dataset=function(){};this.grd_cmmnAtchmnfl_onheadclick=function(_a,_b){if(_b.col==0){var _c=_a.getCellProperty("head",_b.cell,"text");if(this.comUtils.isNullEmpty(_c)){_c="0";}if(_c=="0"){_a.setCellProperty("head",_b.cell,"text",'1');_c="1";}else{_a.setCellProperty("head",_b.cell,"text",'0');_c="0";}this.parent.parent.ds_fileList.set_enableevent(false);for(var _d=0;_d<this.parent.parent.ds_fileList.getRowCount();_d++ ){this.parent.parent.ds_fileList.setColumn(_d,"CHK",_c);}this.parent.parent.ds_fileList.set_enableevent(true);}};this.btn_delFiles_onclick=function(_a,_b){var _c=this.parent.parent.ds_fileList.findRow("CHK","1");if(_c<0){this.gfn_message("comm.데이터.선택.없음");return;}if(!this.gfn_message("confirm.선택파일.삭제여부","들")){return false;}for(var _i=this.parent.parent.ds_fileList.getRowCount()-1;_i>=0;_i-- ){var _d=this.parent.parent.ds_fileList.getColumn(_i,"CHK");if(_d=='1'){this.parent.parent.ds_fileList.deleteRow(_i);}}var _e="deleteFile";var _f="hsco/cmm/file/deleteFile.do";var _g="input1=ds_fileList:U";var _h="ds_fileList=output1";Ex.core.tran(this,_e,_f,_g,_h);};this.btn_uploadFiles_onclick=function(_a,_b){this.fn_autoFileSn("MIS","CTR",this.parent.parent.File_UpDownManager,this.parent.parent.ds_fileList,this.parent.parent.ds_cntRequest,"TBCTR_CNTRCT_REQEST","FILE_SN",["REQEST_NO","REQEST_YEAR"]);};this.btn_downFiles_onclick=function(_a,_b){var _c=this.parent.parent.ds_fileList.findRow("CHK","1");if(_c<0){this.gfn_message("comm.데이터.선택.없음");return;}for(var _h=0;_h<this.parent.parent.ds_fileList.getRowCount();_h++ ){var _d=this.parent.parent.ds_fileList.getColumn(_h,"FILE_SN");var _e=this.parent.parent.ds_fileList.getColumn(_h,"FILE_ORDR");var _f=this.parent.parent.ds_fileList.getColumn(_h,"ORGINL_FILE_NM");var _g=this.parent.parent.ds_fileList.getColumn(_h,"CHK");if(_g=='1'){this.parent.parent.File_UpDownManager.download(_d,_e,_f);}}};});this.on_initEvent=function(){this.addEventHandler("onload",this.CTR030200_T01_onload,this);this.addEventHandler("oninit",this.CTR030200_T01_oninit,this);this.grd_cmmnAtchmnfl.addEventHandler("onheadclick",this.grd_cmmnAtchmnfl_onheadclick,this);this.Static00.addEventHandler("onclick",this.Static00_onclick,this);this.btn_downFiles.addEventHandler("onclick",this.btn_downFiles_onclick,this);this.btn_uploadFiles.addEventHandler("onclick",this.btn_uploadFiles_onclick,this);this.btn_delFiles.addEventHandler("onclick",this.btn_delFiles_onclick,this);};this.loadIncludeScript("CTR030200_T01.xfdl");};})();