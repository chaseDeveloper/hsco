(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CTR010101_P01");this.set_classname("");this.set_titletext("거래처 변경관리");this._setFormPosition(0,0,866,527);}_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_bcncChangeHistList</Col><Col id=\"colId\">CHANGE_DE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">변경일자</Col></Row><Row><Col id=\"compId\">ds_bcncChangeHistList</Col><Col id=\"colId\">CHANGE_SE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">변경구분</Col></Row><Row><Col id=\"compId\">ds_bcncChangeHistList</Col><Col id=\"colId\">AFTCH</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">변경후</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BIZRNO\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_bcncChangeHistList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BIZRNO\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_DE\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_SE\" type=\"STRING\" size=\"256\"/><Column id=\"BFCHG\" type=\"STRING\" size=\"256\"/><Column id=\"AFTCH\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_changeSeAll",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/><Column id=\"VAL1\" type=\"STRING\" size=\"256\"/><Column id=\"VAL2\" type=\"STRING\" size=\"256\"/><Column id=\"VAL3\" type=\"STRING\" size=\"256\"/><Column id=\"VAL4\" type=\"STRING\" size=\"256\"/><Column id=\"INT_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"MSTK_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"ETC1\" type=\"STRING\" size=\"256\"/><Column id=\"ETC2\" type=\"STRING\" size=\"256\"/><Column id=\"ETC3\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_changeSeUse",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/><Column id=\"VAL1\" type=\"STRING\" size=\"256\"/><Column id=\"VAL2\" type=\"STRING\" size=\"256\"/><Column id=\"VAL3\" type=\"STRING\" size=\"256\"/><Column id=\"VAL4\" type=\"STRING\" size=\"256\"/><Column id=\"INT_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"MSTK_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"ETC1\" type=\"STRING\" size=\"256\"/><Column id=\"ETC2\" type=\"STRING\" size=\"256\"/><Column id=\"ETC3\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_bcncMastr",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BIZRNO\" type=\"STRING\" size=\"256\"/><Column id=\"BIZRNO_ORG\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"SRSILL_DSPSN_ENTRPRS_AT\" type=\"STRING\" size=\"256\"/><Column id=\"SOCENT_AT\" type=\"STRING\" size=\"256\"/><Column id=\"EVRFRND_AT\" type=\"STRING\" size=\"256\"/><Column id=\"ZIP\" type=\"STRING\" size=\"256\"/><Column id=\"TELNO\" type=\"STRING\" size=\"256\"/><Column id=\"FAXNO\" type=\"STRING\" size=\"256\"/><Column id=\"INDUTY\" type=\"STRING\" size=\"256\"/><Column id=\"SMLPZ_SE\" type=\"STRING\" size=\"256\"/><Column id=\"AREA_ENTRPS_AT\" type=\"STRING\" size=\"256\"/><Column id=\"DSPSN_ENTRPRS_AT\" type=\"STRING\" size=\"256\"/><Column id=\"FEMALE_ENTRPRS_AT\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_NM\" type=\"STRING\" size=\"256\"/><Column id=\"RPRSNTV\" type=\"STRING\" size=\"256\"/><Column id=\"RPRSNTV_INHBTNT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"EMAIL\" type=\"STRING\" size=\"256\"/><Column id=\"BIZCND\" type=\"STRING\" size=\"256\"/><Column id=\"LCNS_NO\" type=\"STRING\" size=\"256\"/><Column id=\"MBTLNO\" type=\"STRING\" size=\"256\"/><Column id=\"INPUT_DEPT\" type=\"STRING\" size=\"256\"/><Column id=\"RN\" type=\"STRING\" size=\"256\"/><Column id=\"DETAIL_RDNMADR\" type=\"STRING\" size=\"256\"/><Column id=\"ADRES\" type=\"STRING\" size=\"256\"/><Column id=\"DETAIL_ADRES\" type=\"STRING\" size=\"256\"/><Column id=\"PUCHAS_SELNG_SE_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"JURIRNO\" type=\"STRING\" size=\"256\"/><Column id=\"UPDT_DT_FM\" type=\"STRING\" size=\"256\"/><Column id=\"USER_NM\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_CNT\" type=\"INT\" size=\"256\"/><Column id=\"BCNC_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_bcncSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/><Column id=\"VAL1\" type=\"STRING\" size=\"256\"/><Column id=\"VAL2\" type=\"STRING\" size=\"256\"/><Column id=\"VAL3\" type=\"STRING\" size=\"256\"/><Column id=\"VAL4\" type=\"STRING\" size=\"256\"/><Column id=\"INT_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"MSTK_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"ETC1\" type=\"STRING\" size=\"256\"/><Column id=\"ETC2\" type=\"STRING\" size=\"256\"/><Column id=\"ETC3\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","15","45",null,"33","15",null,this);_a.set_taborder("10");_a.set_cssclass("div_WFSA_Box");_a.set_enable("true");this.addChild(_a.name,_a);_a=new Static("sta_BCNC_NM","absolute","6","5","98","21",null,null,this.div_search);_a.set_taborder("0");_a.set_text("거래처명(상호)");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("sta_bizrno","absolute","282","5","120","21",null,null,this.div_search);_a.set_taborder("2");_a.set_text("주민(사업자)번호");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_BCNC_NM","absolute","116","5","151","21",null,null,this.div_search);_a.set_taborder("1");_a.set_autoselect("true");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new MaskEdit("msk_bizrno","absolute","401","5","150","21",null,null,this.div_search);_a.set_taborder("4");_a.set_mask("###-##-#####");_a.set_type("string");_a.style.set_align("center middle");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new Static("Static36","absolute","1","0",null,"15","-1",null,this);_a.set_taborder("1");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static11","absolute","0","40",null,"5","0",null,this);_a.set_taborder("9");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","-1","15",null,null,"1",this);_a.set_taborder("0");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute",null,"-7","15",null,"0","1",this);_a.set_taborder("15");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static07","absolute","0","78",null,"10","0",null,this);_a.set_taborder("11");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0",null,null,"15","0","1",this);_a.set_taborder("14");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_work","absolute",null,"87","489","391","15",null,this);_a.set_taborder("13");this.addChild(_a.name,_a);_a=new Static("Static31","absolute","15","16","130","21",null,null,this);_a.set_taborder("2");_a.set_text("거래처 변경관리");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Grid("grd_bcncChangeHistList","absolute",null,null,"836","423","15","16",this);_a.set_taborder("12");_a.set_binddataset("ds_bcncChangeHistList");_a.set_autoenter("select");_a.set_cellsizingtype("col");_a.set_autofittype("col");_a.set_autoupdatetype("itemselect");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"50\" band=\"left\"/><Column size=\"110\"/><Column size=\"130\"/><Column size=\"200\"/><Column size=\"200\"/><Column size=\"140\"/><Column size=\"40\"/></Columns><Rows><Row size=\"25\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"번호\"/><Cell col=\"1\" text=\"변경일자\"/><Cell col=\"2\" text=\"변경구분\"/><Cell col=\"3\" text=\"변경전\"/><Cell col=\"4\" text=\"변경후\"/><Cell col=\"5\" text=\"비고\"/><Cell col=\"6\"/></Band><Band id=\"body\"><Cell displaytype=\"number\" text=\"expr:currow+1\"/><Cell col=\"1\" displaytype=\"date\" edittype=\"date\" style=\"align:center;\" text=\"bind:CHANGE_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"2\" displaytype=\"combo\" edittype=\"combo\" style=\"align:left;\" text=\"bind:CHANGE_SE\" combodataset=\"ds_changeSeAll\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"3\" displaytype=\"expr:dataset.parent.fn_exprEditType('displayType',currow, CHANGE_SE)\" edittype=\"none\" style=\"align:left;\" text=\"bind:BFCHG\" combodataset=\"ds_bcncSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"4\" displaytype=\"expr:dataset.parent.fn_exprEditType('displayType',currow, CHANGE_SE)\" edittype=\"expr:dataset.parent.fn_exprEditType('editType',currow, CHANGE_SE)\" style=\"align:left;\" text=\"bind:AFTCH\" combodataset=\"ds_bcncSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"5\" edittype=\"normal\" style=\"align:left;\" text=\"bind:RM\"/><Cell col=\"6\" text=\"bind:AFTCH\"/></Band><Band id=\"summary\"><Cell text=\"건수\"/><Cell col=\"1\" displaytype=\"number\" expr=\"expr:dataset.rowcount\"/><Cell col=\"2\" displaytype=\"number\"/><Cell col=\"3\"/><Cell col=\"4\"/><Cell col=\"5\"/><Cell col=\"6\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("btn_add","absolute",null,"15","50","25","227",null,this);_a.set_taborder("4");_a.set_text("신규");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_del","absolute",null,"15","50","25","174",null,this);_a.set_taborder("5");_a.set_text("삭제");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_save","absolute",null,"15","50","25","68",null,this);_a.set_taborder("7");_a.set_text("저장");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_close","absolute",null,"15","50","25","15",null,this);_a.set_taborder("8");_a.set_text("종료");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_cancel","absolute",null,"15","50","25","121",null,this);_a.set_taborder("6");_a.set_text("취소");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_excelExport","absolute",null,"52","25","19","18",null,this);_a.set_taborder("16");_a.set_cssclass("btn_WF_Gridexceldn");this.addChild(_a.name,_a);_a=new Button("btn_search","absolute",null,"15","50","25","280",null,this);_a.set_taborder("3");_a.set_text("조회");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("10");_b.set_cssclass("div_WFSA_Box");_b.set_enable("true");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",489,391,this.div_work,function(_b){_b.set_taborder("13");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",866,527,this,function(_b){_b.set_classname("");_b.set_titletext("거래처 변경관리");});this.addLayout(_a.name,_a);_a=new BindItem("item1","div_search.edt_BCNC_NM","value","ds_cond","BCNC_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","div_search.msk_bizrno","value","ds_cond","BIZRNO");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("CTR010101_P01.xfdl","lib::comInclude.xjs");this.addIncludeScript("CTR010101_P01.xfdl","mis_lib::misUtil.xjs");this.registerScript("CTR010101_P01.xfdl",function(){this.CTR010101_P01_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.CTR010101_P01_onload=function(_a,_b){};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);this.ds_bcncMastr.copyData(this.parent.arg_1);var _a=this.ds_bcncMastr.getColumn(0,"BCNC_CODE");var _b=this.ds_bcncMastr.getColumn(0,"BCNC_NM");var _c=this.ds_bcncMastr.getColumn(0,"BIZRNO");var _d=this.ds_bcncMastr.getColumn(0,"BCNC_SE");this.ds_cond.setColumn(0,"BCNC_CODE",_a);this.ds_cond.setColumn(0,"BCNC_NM",_b);this.ds_cond.setColumn(0,"BIZRNO",_c);switch(_d){case '8':this.div_search.msk_bizrno.set_mask("######-#######");break;default:this.div_search.msk_bizrno.set_mask("###-##-#####");break;}var _e=[["ds_changeSeAll","CTR005","Y","D","B"],["ds_bcncSe","CTR013","Y","D","B"]];var _f=function(_g,_h,_i){this.fn_search();};this.gfn_comboLoad(_e,_f);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);};this.fn_search=function(){this.ds_bcncChangeHistList.clearData();this.fn_transaction("selectBcncChangeHistList");};this.fn_save=function(){if(!this.gfn_checkValidation(this.ds_bcncChangeHistList,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("saveBcncChangeHistList");}};this.fn_transaction=function(_a){switch(_a){case "selectBcncChangeHistList":var _b="/hsco/mis/ctr/CTR010101/selectBcncChangeHistList.do";var _c="ds_cond=ds_cond";var _d="ds_bcncChangeHistList=ds_bcncChangeHistList";break;case "saveBcncChangeHistList":var _b="/hsco/mis/ctr/CTR010101/saveBcncChangeHistList.do";var _c="ds_bcncChangeHistList=ds_bcncChangeHistList:U";var _d="";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){this.gfn_callback_message(_a,_b,_c);}else{switch(_a){case "selectBcncChangeHistList":break;case "saveBcncChangeHistList":this.fn_search();break;}}};this.fn_insert=function(){if(this.comUtils.isDatasetUpdated(this.ds_bcncChangeHistList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}else{this.ds_bcncChangeHistList.reset();this.ds_bcncChangeHistList.applyChange();}}var _a=this.dateUtils.today();var _b=this.ds_bcncChangeHistList.addRow();this.ds_bcncChangeHistList.setColumn(_b,"BCNC_CODE",this.ds_cond.getColumn(0,"BCNC_CODE"));this.ds_bcncChangeHistList.setColumn(_b,"CHANGE_DE",_a);this.ds_bcncChangeHistList.setColumn(_b,"BIZRNO",this.ds_bcncMastr.getColumn(0,"BIZRNO"));};this.fn_delete=function(){var _a=this.ds_bcncChangeHistList.rowposition;if(_a!=this.ds_bcncChangeHistList.getRowCount()-1){this.gfn_message("fail.삭제.실패","최종 차수가 아니므로,");return false;}if(this.gfn_message("confirm.삭제여부")){this.ds_bcncChangeHistList.deleteRow(_a);}};this.fn_cancel=function(){if(this.gfn_message("confirm.변경.취소.여부")){this.ds_bcncChangeHistList.reset();this.ds_bcncChangeHistList.applyChange();return;}};this.fn_close=function(){this.close();};this.btn_excelExport_onclick=function(_a,_b){this.gfn_exportExcel(this.grd_bcncChangeHistList,"Excel File Download");};this.grd_bcncChangeHistList_onheadclick=function(_a,_b){this.gfn_gridSort(_a,_b);};this.ds_bcncChangeHistList_cancolumnchange=function(_a,_b){if(_b.columnid=="CHANGE_DE"){var _c=_a.getColumn(_b.row,"CHANGE_SE");var _d=_a.getCaseMax("CHANGE_SE == '"+_c+"'","CHANGE_DE",0,_b.row);var _e=_d;var _f=_b.newvalue;if(_f<_e){var _g=this.dateUtils.format(_e,'yyyy-mm-dd');this.gfn_message("errors.항목값.범위.이상","변경일자|"+_g+"");_a.set_enableevent(false);_a.setColumn(_b.row,_b.columnid,_b.oldvalue);_a.set_enableevent(true);return false;}}};this.ds_bcncChangeHistList_oncolumnchanged=function(_a,_b){if(_b.columnid=="CHANGE_SE"){var _c=this.ds_bcncMastr.getColumn(0,"BCNC_NM");var _d=this.ds_bcncMastr.getColumn(0,"RPRSNTV");var _e=this.ds_bcncMastr.getColumn(0,"TELNO");var _f=this.ds_bcncMastr.getColumn(0,"DETAIL_ADRES");var _g=this.ds_bcncMastr.getColumn(0,"DETAIL_RDNMADR");var _h=this.ds_bcncMastr.getColumn(0,"MBTLNUM");var _i=this.ds_bcncMastr.getColumn(0,"RPRSNTV_IHIDNUM");var _j=this.ds_bcncMastr.getColumn(0,"BCNC_SE");var _k=this.ds_bcncMastr.getColumn(0,"JURIRNO");var _l= -1;for(var _o=_b.row-1;_o>=0;_o-- ){var _m=_a.getColumn(_o,"CHANGE_SE");if(_m==_b.newvalue){_l=_o;break;}}if(_l> -1){_c=_a.getColumn(_l,"AFTCH");_d=_a.getColumn(_l,"AFTCH");_e=_a.getColumn(_l,"AFTCH");_f=_a.getColumn(_l,"AFTCH");_g=_a.getColumn(_l,"AFTCH");_h=_a.getColumn(_l,"AFTCH");_i=_a.getColumn(_l,"AFTCH");_j=_a.getColumn(_l,"AFTCH");_k=_a.getColumn(_l,"AFTCH");}if(_b.newvalue=="100"){_a.setColumn(_b.row,"BFCHG",_c);}else if(_b.newvalue=="200"){_a.setColumn(_b.row,"BFCHG",_d);}else if(_b.newvalue=="500"){_a.setColumn(_b.row,"BFCHG",_e);}else if(_b.newvalue=="400"){_a.setColumn(_b.row,"BFCHG",_f);}else if(_b.newvalue=="410"){_a.setColumn(_b.row,"BFCHG",_g);}else if(_b.newvalue=="510"){_a.setColumn(_b.row,"BFCHG",_h);}else if(_b.newvalue=="800"){_a.setColumn(_b.row,"BFCHG",_i);}else if(_b.newvalue=="900"){_a.setColumn(_b.row,"BFCHG",_j);}else if(_b.newvalue=="A00"){_a.setColumn(_b.row,"BFCHG",_k);}}if(_b.columnid=="AFTCH"){var _m=_a.getColumn(_b.row,"CHANGE_SE");if(_m=="800"){var _n=_b.newvalue;_n=this.comUtils.replaceAll(_n,'-','');if(_n.length==13){if(!this.comUtils.isJuminNo(_n)){this.gfn_message("info.형식.확인.요청","주민번호");_a.setColumn(_b.row,_b.columnid,"");}}else{this.gfn_message("info.형식.확인.요청","주민번호");_a.setColumn(_b.row,_b.columnid,"");}}}};this.fn_exprEditType=function(_a,_b,_c){if(_a=="displayType"){if(_c=='900'){return 'combo';}else{return 'normal';}}else{if(this.ds_bcncChangeHistList.getRowType(_b)==Dataset.ROWTYPE_INSERT){if(_c=='900'){return 'combo';}else{return 'normal';}}else{return 'none';}}};});this.on_initEvent=function(){this.ds_bcncChangeHistList.addEventHandler("oncolumnchanged",this.ds_bcncChangeHistList_oncolumnchanged,this);this.ds_bcncChangeHistList.addEventHandler("cancolumnchange",this.ds_bcncChangeHistList_cancolumnchange,this);this.ds_bcncMastr.addEventHandler("oncolumnchanged",this.ds_bcncMastr_oncolumnchanged,this);this.addEventHandler("oninit",this.CTR010101_P01_oninit,this);this.addEventHandler("onload",this.CTR010101_P01_onload,this);this.grd_bcncChangeHistList.addEventHandler("onheadclick",this.grd_bcncChangeHistList_onheadclick,this);this.grd_bcncChangeHistList.addEventHandler("oncellclick",this.grd_bcncChangeHistList_oncellclick,this);this.btn_add.addEventHandler("onclick",this.fn_insert,this);this.btn_del.addEventHandler("onclick",this.fn_delete,this);this.btn_save.addEventHandler("onclick",this.fn_save,this);this.btn_close.addEventHandler("onclick",this.fn_close,this);this.btn_cancel.addEventHandler("onclick",this.fn_cancel,this);this.btn_excelExport.addEventHandler("onclick",this.btn_excelExport_onclick,this);this.btn_search.addEventHandler("onclick",this.fn_search,this);};this.loadIncludeScript("CTR010101_P01.xfdl");};})();