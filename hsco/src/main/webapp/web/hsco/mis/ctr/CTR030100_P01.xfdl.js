(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CTR030100_P01");this.set_classname("CTR030100_P01");this.set_titletext("계약변경내역 관리 팝업");this.set_scrollbars("none");this._setFormPosition(0,0,1061,400);}_a=new Dataset("ds_cond_pop",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BSNS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BUDGET_YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"BSNS_SE\" type=\"STRING\" size=\"256\"/><Column id=\"BALC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"BUDGET_ACNT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BUDGET_ACNT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"EXPNDTR_UNIT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"EXPNDTR_UNIT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CA_CNT\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctr044",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cntrctChangeList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a.set_updatecontrol("true");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_CHANGE_ODR\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_SE\" type=\"STRING\" size=\"256\"/><Column id=\"AFTCH_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"AFTCH_COMPET_DE\" type=\"STRING\" size=\"256\"/><Column id=\"BFCHG_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"BFCHG_COMPET_DE\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_DE\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cntrct",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"CNST_CODE\" type=\"STRING\" size=\"4\"/><Column id=\"FLFL_MTHD\" type=\"STRING\" size=\"1\"/><Column id=\"INORG_CNTRWK_SE\" type=\"STRING\" size=\"1\"/><Column id=\"CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"SUPLY_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"VAT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"PBLANC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"BID_DE\" type=\"STRING\" size=\"8\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"CNTRCT_MTH_CODE\" type=\"STRING\" size=\"2\"/><Column id=\"CNTRCT_CHRG_MTH\" type=\"STRING\" size=\"1\"/><Column id=\"CNTRCT_CHARGER_NM\" type=\"STRING\" size=\"30\"/><Column id=\"DSGN_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"PREARNGE_PC\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"REDCN_AM\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"SCSBID_RT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"ORDER_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BID_MTHD\" type=\"STRING\" size=\"1\"/><Column id=\"PRVCNTR_PRVONSH\" type=\"STRING\" size=\"400\"/><Column id=\"UN_DCSN_CDIT_CONFM_DE\" type=\"STRING\" size=\"8\"/><Column id=\"UN_DCSN_CDIT_RELIS_DE\" type=\"STRING\" size=\"8\"/><Column id=\"INHRTN_PH_NO\" type=\"STRING\" size=\"6\"/><Column id=\"INHRTN_PH_NM\" type=\"STRING\" size=\"100\"/><Column id=\"RPRSNTV_NM\" type=\"STRING\" size=\"50\"/><Column id=\"CDIT_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"ONTPM_DIGSTN\" type=\"STRING\" size=\"1\"/><Column id=\"INHRTN_PH_ZIP\" type=\"STRING\" size=\"8\"/><Column id=\"INHRTN_PH_ADRES_1\" type=\"STRING\" size=\"200\"/><Column id=\"INHRTN_PH_ADRES_2\" type=\"STRING\" size=\"200\"/><Column id=\"BSNS_SCALE\" type=\"STRING\" size=\"2000\"/><Column id=\"CNTRCT_MTHD\" type=\"STRING\" size=\"1\"/><Column id=\"AREA_ENTRPS_RATE\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"CNTRCT_YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"PRCURE_CNTRCT_NO\" type=\"STRING\" size=\"20\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"DATE\" size=\"7\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"DATE\" size=\"7\"/><Column id=\"REQEST_NO\" type=\"STRING\" size=\"10\"/><Column id=\"REQEST_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_CHARGER\" type=\"STRING\" size=\"8\"/><Column id=\"SERVC_CNTRCT_AT\" type=\"STRING\" size=\"1\"/><Column id=\"SERVC_CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SERVC_CNTRCT_CL\" type=\"STRING\" size=\"10\"/><Column id=\"TURN_NO_AT\" type=\"STRING\" size=\"1\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"6\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a.set_useclientlayout("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"colId\">CNTRCT_NO</Col><Col id=\"msgId\">계약번호</Col><Col id=\"notNull\">Y</Col><Col id=\"compId\">ds_cntrctChangeList</Col></Row><Row><Col id=\"colId\">CHANGE_SE</Col><Col id=\"msgId\">변경구분</Col><Col id=\"notNull\">Y</Col><Col id=\"compId\">ds_cntrctChangeList</Col><Col id=\"PK\">Y</Col></Row><Row><Col id=\"colId\">CHANGE_DE</Col><Col id=\"msgId\">변경일자</Col><Col id=\"notNull\">Y</Col><Col id=\"compId\">ds_cntrctChangeList</Col><Col id=\"PK\">Y</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Grid("grd_cntrctChangeList","absolute","15","83",null,null,"15","0",this);_a.set_taborder("0");_a.set_binddataset("ds_cntrctChangeList");_a.set_autoenter("select");_a.set_cellsizingtype("col");_a.set_autoupdatetype("itemselect");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"147\"/><Column size=\"111\"/><Column size=\"140\"/><Column size=\"110\"/><Column size=\"300\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"차수\"/><Cell col=\"1\" rowspan=\"2\" text=\"변경구분\"/><Cell col=\"2\" rowspan=\"2\" text=\"변경일자\"/><Cell col=\"3\" text=\"변경전 계약금\"/><Cell col=\"4\" text=\"변경전 준공일자\"/><Cell col=\"5\" rowspan=\"2\" text=\"비고\"/><Cell row=\"1\" col=\"3\" text=\"변경후 계약금\"/><Cell row=\"1\" col=\"4\" text=\"변경후 준공일자\"/></Band><Band id=\"body\"><Cell rowspan=\"2\" text=\"bind:CNTRCT_CHANGE_ODR\"/><Cell col=\"1\" rowspan=\"2\" displaytype=\"combo\" edittype=\"expr:CNTRCT_CHANGE_ODR==null ? &quot;combo&quot; : &quot;none&quot;\" text=\"bind:CHANGE_SE\" wordwrap=\"char\" combodataset=\"ds_ctr044\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"expr:CNTRCT_CHANGE_ODR==null ? &quot;display&quot; : &quot;edit&quot;\" calendardisplaynulltype=\"none\"/><Cell col=\"2\" rowspan=\"2\" displaytype=\"date\" edittype=\"expr:currow==dataset.getRowCount()-1 ? &quot;date&quot; : &quot;none&quot;\" text=\"bind:CHANGE_DE\" calendardisplay=\"expr:currow==dataset.getRowCount()-1 ? &quot;display&quot; : &quot;edit&quot;\" calendardisplaynulltype=\"none\"/><Cell col=\"3\" displaytype=\"number\" edittype=\"none\" style=\"align:right middle;\" text=\"bind:BFCHG_CNTRCT_AMOUNT\"/><Cell col=\"4\" displaytype=\"date\" edittype=\"none\" text=\"bind:BFCHG_COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" rowspan=\"2\" displaytype=\"normal\" edittype=\"expr:currow==dataset.getRowCount()-1 ? &quot;textarea&quot; : &quot;none&quot;\" style=\"align:left middle;\" text=\"bind:RM\" wordwrap=\"char\" editlimit=\"200\" editdisplay=\"expr:currow==dataset.getRowCount()-1 ? &quot;display&quot; : &quot;edit&quot;\" editlengthunit=\"ascii\"/><Cell row=\"1\" col=\"3\" displaytype=\"number\" edittype=\"expr:(currow==dataset.getRowCount()-1) &amp;&amp; (CHANGE_SE=='1'||CHANGE_SE=='3') ? 'masknumber':'none'\" style=\"align:right middle;\" text=\"bind:AFTCH_CNTRCT_AMOUNT\" mask=\"expr:(currow==dataset.getRowCount()-1) &amp;&amp; (CHANGE_SE=='1'||CHANGE_SE=='3') ? '###,###,###,###,###':''\" editdisplay=\"expr:(currow==dataset.getRowCount()-1) &amp;&amp; (CHANGE_SE=='1'||CHANGE_SE=='3') ? 'display' : 'edit'\" editlimitbymask=\"both\"/><Cell row=\"1\" col=\"4\" displaytype=\"date\" edittype=\"expr:(currow==dataset.getRowCount()-1) &amp;&amp; (CHANGE_SE=='2'||CHANGE_SE=='3') ? 'date':'none'\" text=\"bind:AFTCH_COMPET_DE\" calendardisplay=\"expr:(currow==dataset.getRowCount()-1) &amp;&amp; (CHANGE_SE=='2'||CHANGE_SE=='3') ? 'display' : 'edit'\" calendardisplaynulltype=\"none\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static06","absolute","15","0",null,"15","15",null,this);_a.set_taborder("3");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","0","15",null,null,"0",this);_a.set_taborder("4");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static00","absolute",null,"0","15",null,"0","0",this);_a.set_taborder("5");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_insert","absolute",null,"15","50","25","174",null,this);_a.set_taborder("15");_a.set_text("신규");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_delete","absolute",null,"15","50","25","121",null,this);_a.set_taborder("16");_a.set_text("삭제");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_save","absolute",null,"15","50","25","68",null,this);_a.set_taborder("17");_a.set_text("저장");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_close","absolute",null,"15","50","25","15",null,this);_a.set_taborder("18");_a.set_text("종료");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Static("Static11","absolute","15","40",null,"5","15",null,this);_a.set_taborder("19");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","15","45",null,"33","15",null,this);_a.set_taborder("20");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_bcncNm","absolute","15","5","64","21",null,null,this.div_search);_a.set_taborder("16");_a.set_text("사업번호");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("sta_bizrno","absolute","440","5","64","21",null,null,this.div_search);_a.set_taborder("17");_a.set_text("계약번호");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","5","15",null,null,"5",this.div_search);_a.set_taborder("20");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","178","5","2",null,null,"5",this.div_search);_a.set_taborder("21");_a.set_text("2");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","425","5","15",null,null,"5",this.div_search);_a.set_taborder("22");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","619","5","2",null,null,"5",this.div_search);_a.set_taborder("23");_a.set_text("2");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_CNTRCT_NM","absolute","621","5","245","21",null,null,this.div_search);_a.set_taborder("25");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_BSNS_CODE","absolute","79","5","99","21",null,null,this.div_search);_a.set_taborder("26");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_BSNS_NM","absolute","180","5","245","21",null,null,this.div_search);_a.set_taborder("27");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new MaskEdit("msk_CNTRCT_NO","absolute","504","5","115","21",null,null,this.div_search);_a.set_taborder("28");_a.set_readonly("true");_a.set_type("string");_a.set_mask("####-###-###");_a.set_maskchar(" ");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static07","absolute","15","78",null,"5","15",null,this);_a.set_taborder("21");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_acntCode","absolute","15","18","400","19",null,null,this);_a.set_taborder("24");_a.set_text("(변경 이력관리를 위하여, 마지막행만 수정이 가능합니다)");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Button("btn_search","absolute",null,"15","50","25","227",null,this);_a.set_taborder("25");_a.set_text("조회");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("20");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1061,400,this,function(_b){_b.set_classname("CTR030100_P01");_b.set_titletext("계약변경내역 관리 팝업");_b.set_scrollbars("none");});this.addLayout(_a.name,_a);_a=new BindItem("item43","div_search.edt_CNTRCT_NM","value","ds_cond_pop","CNTRCT_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","div_search.edt_BSNS_CODE","value","ds_cond_pop","BSNS_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item3","div_search.edt_BSNS_NM","value","ds_cond_pop","BSNS_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.msk_CNTRCT_NO","value","ds_cond_pop","CNTRCT_NO");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("CTR030100_P01.xfdl","lib::comInclude.xjs");this.addIncludeScript("CTR030100_P01.xfdl","mis_lib::misUtil.xjs");this.registerScript("CTR030100_P01.xfdl",function(){this.CTR030100_P01_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.CTR030100_P01_onload=function(_a,_b){};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);this.ds_cntrct.copyData(this.parent.ds_cntrct);this.ds_cond_pop.clearData();var _a=this.ds_cond_pop.addRow();var _b=[["ds_ctr044","CTR044","Y","D","B"]];var _c=function(_d,_e,_f){this.ds_cond_pop.setColumn(_a,"BSNS_CODE",this.parent.bsnsCode);this.ds_cond_pop.setColumn(_a,"BSNS_NM",this.parent.bsnsNm);this.ds_cond_pop.setColumn(_a,"CNTRCT_NO",this.parent.cntrctNo);this.ds_cond_pop.setColumn(_a,"CNTRCT_NM",this.parent.cntrctNm);this.fn_search();};this.gfn_comboLoad(_b,_c);};this.fn_init_dataset=function(){};this.fn_search=function(){this.ds_cntrctChangeList.clearData();this.fn_transaction("SRCH");};this.fn_transaction=function(_a){switch(_a){case "SRCH":var _b="hsco/mis/ctr/CTR030100_P01/cntrctChangeList.do";var _c="input1=ds_cond_pop";var _d="ds_cntrctChangeList=output1";break;case "SAVE":var _b="hsco/mis/ctr/CTR030100_P01/cntrctChangeCUD.do";var _c="input1=ds_cntrctChangeList:U";var _d="";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){this.gfn_callback_message(_a,_b,_c);}if(_b==0){switch(_a){case "SRCH":break;case "SAVE":this.fn_search();break;}}};this.ds_cntrctChangeList_oncolumnchanged=function(_a,_b){if(_b.columnid=="CHANGE_SE"){var _c=_a.getColumn(_b.row,"BFCHG_CNTRCT_AMOUNT");var _d=_a.getColumn(_b.row,"BFCHG_COMPET_DE");_a.setColumn(_b.row,"AFTCH_CNTRCT_AMOUNT",_c);_a.setColumn(_b.row,"AFTCH_COMPET_DE",_d);}};this.btn_search_onclick=function(_a,_b){if(this.comUtils.isDatasetUpdated(this.ds_cntrctChangeList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.fn_search();};this.btn_insert_onclick=function(_a,_b){if(this.comUtils.isDatasetUpdated(this.ds_cntrctChangeList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}else{this.ds_cntrctChangeList.reset();this.ds_cntrctChangeList.applyChange();}}var _c=this.ds_cntrctChangeList.addRow();var _d=this.comUtils.getClientDate("YYYYMMDD");var _e=this.ds_cntrct.getColumn(0,"BSNS_CODE");var _f=this.ds_cntrct.getColumn(0,"CNTRCT_NO");var _g=this.ds_cntrct.getColumn(0,"CNTRCT_AMOUNT");var _h=this.ds_cntrct.getColumn(0,"COMPET_DE");var _i=this.ds_cntrctChangeList.getColumn(_c-1,"AFTCH_CNTRCT_AMOUNT");var _j=this.ds_cntrctChangeList.getColumn(_c-1,"AFTCH_COMPET_DE");var _k=_c==0?_g:_i;var _l=_c==0?_h:_j;this.ds_cntrctChangeList.setColumn(_c,"BSNS_CODE",_e);this.ds_cntrctChangeList.setColumn(_c,"CNTRCT_NO",_f);this.ds_cntrctChangeList.setColumn(_c,"CHANGE_DE",_d);this.ds_cntrctChangeList.setColumn(_c,"BFCHG_CNTRCT_AMOUNT",_k);this.ds_cntrctChangeList.setColumn(_c,"AFTCH_CNTRCT_AMOUNT",_k);this.ds_cntrctChangeList.setColumn(_c,"BFCHG_COMPET_DE",_l);this.ds_cntrctChangeList.setColumn(_c,"AFTCH_COMPET_DE",_l);};this.btn_delete_onclick=function(_a,_b){var _c=this.ds_cntrctChangeList.rowposition;if(this.ds_cntrctChangeList.getColumn(_c,"CNTRCT_CHANGE_ODR")==null){if(this.gfn_message("confirm.삭제여부")){this.ds_cntrctChangeList.deleteRow(_c);return;}}if(this.comUtils.isDatasetUpdated(this.ds_cntrctChangeList)){if(!this.gfn_message("comm.confirm","기 등록된 내역을 삭제하려면 현재 작업을 취소해야 합니다.\n계속 진행 하시겠습니까?")){return false;}else{this.ds_cntrctChangeList.reset();this.ds_cntrctChangeList.applyChange();return;}}if(_c!=this.ds_cntrctChangeList.getRowCount()-1){this.gfn_message("fail.삭제.실패","최종 차수가 아니므로,");return false;}if(this.gfn_message("confirm.삭제여부")){this.ds_cntrctChangeList.deleteRow(_c);}};this.btn_save_onclick=function(_a,_b){if(!this.gfn_checkValidation(this.ds_cntrctChangeList,this.ds_validation)){return false;}else{for(var _g=0;_g<this.ds_cntrctChangeList.getRowCount();_g++ ){var _c=this.ds_cntrctChangeList.getRowType(_g);if(_c!=Dataset.ROWTYPE_NORMAL){var _d=this.ds_cntrctChangeList.getColumn(_g,"CHANGE_SE");if(_d=='1'||_d=='3'){var _e=this.ds_cntrctChangeList.getColumn(_g,"AFTCH_CNTRCT_AMOUNT");if(this.comUtils.isNull(_e)){this.gfn_message("comm.입력.요청.를","변경후계약금");return false;}}else if(_d=='2'||_d=='3'){var _f=this.ds_cntrctChangeList.getColumn(_g,"AFTCH_COMPET_DE");if(this.comUtils.isNull(_f)){this.gfn_message("comm.입력.요청.를","변경후준공일자");return false;}}}}}if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("SAVE");}};this.btn_close_onclick=function(_a,_b){this.close();};});this.on_initEvent=function(){this.ds_cntrctChangeList.addEventHandler("oncolumnchanged",this.ds_cntrctChangeList_oncolumnchanged,this);this.ds_cntrct.addEventHandler("oncolumnchanged",this.ds_cntrct_oncolumnchanged,this);this.addEventHandler("onload",this.CTR030100_P01_onload,this);this.addEventHandler("oninit",this.CTR030100_P01_oninit,this);this.btn_insert.addEventHandler("onclick",this.btn_insert_onclick,this);this.btn_delete.addEventHandler("onclick",this.btn_delete_onclick,this);this.btn_save.addEventHandler("onclick",this.btn_save_onclick,this);this.btn_close.addEventHandler("onclick",this.btn_close_onclick,this);this.btn_search.addEventHandler("onclick",this.btn_search_onclick,this);};this.loadIncludeScript("CTR030100_P01.xfdl");};})();