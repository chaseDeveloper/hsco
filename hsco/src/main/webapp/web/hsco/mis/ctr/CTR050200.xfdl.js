(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CTR050200");this.set_classname("CTR050200");this.set_titletext("구매현황총괄");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">BSNS_CODE</Col><Col id=\"msgId\">[검색조건] 사업명</Col><Col id=\"notNull\">Y</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond",this);_a._setContents("<ColumnInfo><Column id=\"SRCH_ST_DT\" type=\"STRING\" size=\"256\"/><Column id=\"SRCH_ED_DT\" type=\"STRING\" size=\"256\"/><Column id=\"MTHD_SE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"PLAN_RT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_data",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_keystring("G:+NRMLT_AT+EXP_COL_NM,S:CNTRCT_SE");_a.set_reversesubsum("true");_a._setContents("<ColumnInfo><Column id=\"EXP_COL\" type=\"STRING\" size=\"256\"/><Column id=\"EXP_COL_NM\" type=\"STRING\" size=\"256\"/><Column id=\"NRMLT_AT\" type=\"STRING\" size=\"256\"/><Column id=\"SORT_RANK\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_DECSN_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"DECSN_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"DECSN_PER\" type=\"STRING\" size=\"256\"/><Column id=\"GOAL_RATE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctr030",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctr022",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_text("28");_a.set_visible("0");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"35","28",null,this);_a.set_taborder("1");_a.set_text("Div00");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0","5","15","21",null,null,this.div_search);_a.set_taborder("44");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Div("div_srchDept","absolute","379","5","192","22",null,null,this.div_search);_a.set_taborder("45");_a.set_async("false");_a.set_url("com::deptCode.xfdl");this.div_search.addChild(_a.name,_a);_a=new Static("sta_EMPL_SE02","absolute","339","5","38","21",null,null,this.div_search);_a.set_taborder("46");_a.set_text("부서");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Calendar("Calendar01","absolute","210","5","110","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("47");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a=new Static("Static00","absolute","195","5","13","21",null,null,this.div_search);_a.set_taborder("48");_a.set_text("~");_a.style.set_align("center");this.div_search.addChild(_a.name,_a);_a=new Calendar("Calendar00","absolute","83","5","110","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("49");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a=new Static("sta_EMPL_SE01","absolute","17","5","64","21",null,null,this.div_search);_a.set_taborder("50");_a.set_text("지출일자");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("sta_EMPL_SE05","absolute","590","5","64","21",null,null,this.div_search);_a.set_taborder("51");_a.set_text("조달구분");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("Combo01","absolute","654","5","102","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("52");_a.set_innerdataset("@ds_ctr030");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_displayrowcount("20");_a=new Static("Static01","absolute","322","5","15","21",null,null,this.div_search);_a.set_taborder("53");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static03","absolute","573","5","15","21",null,null,this.div_search);_a.set_taborder("54");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new MaskEdit("msk_PLAN_RT","absolute","835","5","54","21",null,null,this.div_search);_a.set_taborder("55");_a.set_mask("###.##");_a.style.set_align("center middle");_a.set_visible("false");this.div_search.addChild(_a.name,_a);_a=new Static("sta_PLAN_RT2","absolute","889","5","24","21",null,null,this.div_search);_a.set_taborder("56");_a.set_text("%");_a.style.set_padding("1 0 0 5");_a.set_visible("false");this.div_search.addChild(_a.name,_a);_a=new Static("sta_PLAN_RT","absolute","771","5","64","21",null,null,this.div_search);_a.set_taborder("57");_a.set_text("계획비율");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("false");this.div_search.addChild(_a.name,_a);_a=new Static("Static04","absolute","756","5","15","21",null,null,this.div_search);_a.set_taborder("58");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","35",null,"10","28",null,this);_a.set_taborder("2");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_budgetStats","absolute","0","45","168","19",null,null,this);_a.set_taborder("3");_a.set_text("총괄표");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","64",null,"5","28",null,this);_a.set_taborder("4");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd","absolute","0","69",null,null,"28","0",this);_a.set_taborder("5");_a.set_binddataset("ds_data");_a.set_cellsizingtype("col");_a.set_autoenter("select");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"200\"/><Column size=\"80\"/><Column size=\"60\"/><Column size=\"130\"/><Column size=\"130\"/><Column size=\"80\"/><Column size=\"80\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"제품구분\"/><Cell col=\"1\" text=\"계약구분\"/><Cell col=\"2\" text=\"조정필요\"/><Cell col=\"3\" text=\"총구매액\"/><Cell col=\"4\" text=\"제품구매액\"/><Cell col=\"5\" text=\"목표\"/><Cell col=\"6\" text=\"실적\"/></Band><Band id=\"body\"><Cell style=\"align:left middle;padding:0 0 0 5;background:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');background2:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');color:EXPR(NRMLT_AT == '1' ? 'red' : '');color2:EXPR(NRMLT_AT == '1' ? 'red' : '');font:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');selectbackground:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');selectcolor:EXPR(NRMLT_AT == '1' ? 'red' : '');selectfont:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');\" text=\"bind:EXP_COL_NM\" suppress=\"1\"/><Cell col=\"1\" displaytype=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'normal' : 'combo'\" style=\"align:center middle;background:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');background2:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');color:EXPR(NRMLT_AT == '1' ? 'red' : '');color2:EXPR(NRMLT_AT == '1' ? 'red' : '');font:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');selectbackground:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');selectcolor:EXPR(NRMLT_AT == '1' ? 'red' : '');selectfont:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');\" text=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '전체' : CNTRCT_SE\" combodataset=\"ds_ctr022\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"2\" displaytype=\"checkbox\" style=\"background:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');background2:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');color:EXPR(NRMLT_AT == '1' ? 'red' : '');color2:EXPR(NRMLT_AT == '1' ? 'red' : '');font:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');selectbackground:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');selectcolor:EXPR(NRMLT_AT == '1' ? 'red' : '');selectfont:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');\" text=\"bind:NRMLT_AT\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right middle;padding:0 5 0 0;background:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');background2:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');color:EXPR(NRMLT_AT == '1' ? 'red' : '');color2:EXPR(NRMLT_AT == '1' ? 'red' : '');font:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');selectbackground:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');selectcolor:EXPR(NRMLT_AT == '1' ? 'red' : '');selectfont:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');\" text=\"bind:ALL_DECSN_AMOUNT\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right middle;padding:0 5 0 0;background:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');background2:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');color:EXPR(NRMLT_AT == '1' ? 'red' : '');color2:EXPR(NRMLT_AT == '1' ? 'red' : '');font:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');selectbackground:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');selectcolor:EXPR(NRMLT_AT == '1' ? 'red' : '');selectfont:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');\" text=\"bind:DECSN_AMOUNT\"/><Cell col=\"5\" style=\"align:right middle;padding:0 5 0 0;background:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');background2:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');color:EXPR(NRMLT_AT == '1' ? 'red' : '');color2:EXPR(NRMLT_AT == '1' ? 'red' : '');font:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');selectbackground:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');selectcolor:EXPR(NRMLT_AT == '1' ? 'red' : '');selectfont:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');\" text=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP  ? &quot;-&quot; : nexacro.toNumber(GOAL_RATE,0,0,0) + '%'\"/><Cell col=\"6\" style=\"align:right middle;padding:0 5 0 0;background:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');background2:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');color:EXPR(NRMLT_AT == '1' ? 'red' : '');color2:EXPR(NRMLT_AT == '1' ? 'red' : '');font:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');selectbackground:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? '#f6f7ffff' : '');selectcolor:EXPR(NRMLT_AT == '1' ? 'red' : '');selectfont:EXPR(dataset.getRowType(currow) == Dataset.ROWTYPE_GROUP ? 'bold 9 Gulim' : '');\" text=\"expr:nexacro.round(nexacro.toNumber(DECSN_AMOUNT / ALL_DECSN_AMOUNT * 100,0,0,0),2) + '%'\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Layout("default","",1031,59,this.div_search,function(_b){_b.set_taborder("1");_b.set_text("Div00");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("CTR050200");_b.set_titletext("구매현황총괄");});this.addLayout(_a.name,_a);_a=new BindItem("item3","div_search00.cbo_ctr022","value","ds_cond","CNTRCT_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","div_search00.div_BCNC_CD","value","ds_cond","BSNS_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_search00.div_BCNC_NM","value","ds_cond","BSNS_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item7","div_search00.Cal_CNT_ST","value","ds_cond","CNTRCT_FROM_DE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item8","div_search00.Cal_CNT_ED","value","ds_cond","CNTRCT_TO_DE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","div_search00.cbo_CNT_SE00","value","ds_cond","CNTRCT_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.Calendar01","value","ds_cond","SRCH_ED_DT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item5","div_search.Calendar00","value","ds_cond","SRCH_ST_DT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item6","div_search.Combo01","value","ds_cond","MTHD_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item9","div_search.msk_PLAN_RT","value","ds_cond","PLAN_RT");this.addChild(_a.name,_a);_a.bind();_a=null;};this.loadPreloadList=function(){this._addPreloadList("fdl","com::deptCode.xfdl");};this.addIncludeScript("CTR050200.xfdl","lib::comInclude.xjs");this.addIncludeScript("CTR050200.xfdl","mis_lib::misUtil.xjs");this.registerScript("CTR050200.xfdl",function(){this.CTR050200_onload=function(_a,_b){this.gfn_initForm(this);this.fn_misFormInit(this);this.div_search.div_srchDept.fn_setBind("ds_cond","DEPT_CODE","DEPT_NM");var _c=this.dateUtils.today();this.ds_cond.clearData();var _d=this.ds_cond.addRow();this.ds_cond.setColumn(_d,"SRCH_ST_DT",_c.substr(0,4)+"0101");this.ds_cond.setColumn(_d,"SRCH_ED_DT",_c);this.ds_cond.setColumn(_d,"ENTRPRS_SE","1");if(this.gfn_authGrpId("CTR_ADMIN")!= -1){this.ds_cond.setColumn(0,"DEPT_CODE","000000");this.ds_cond.setColumn(0,"DEPT_NM","화성도시공사");this.div_search.sta_PLAN_RT.set_visible(true);this.div_search.sta_PLAN_RT2.set_visible(true);this.div_search.msk_PLAN_RT.set_visible(true);this.ds_cond.setColumn(_d,"PLAN_RT","100");}else{this.ds_cond.setColumn(0,"DEPT_CODE",this.gfn_getDeptId());this.ds_cond.setColumn(0,"DEPT_NM",this.gfn_getDeptName());this.div_search.sta_PLAN_RT.set_visible(false);this.div_search.sta_PLAN_RT2.set_visible(false);this.div_search.msk_PLAN_RT.set_visible(false);}var _e=[["ds_ctr022","CTR022","Y","A","B"],["ds_ctr030","CTR030","Y","A","B"]];var _f=function(_g,_h,_i){this.fn_search();};this.gfn_comboLoad(_e,_f);};this.fn_search=function(){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}this.ds_data.clearData();this.fn_transaction("select");};this.fn_transaction=function(_a){switch(_a){case "select":var _b="hsco/mis/ctr/CTR050200/select.do";var _c="input1=ds_cond";var _d="ds_data=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!='0'){this.gfn_callback_message(_a,_b,_c);}if(_b=='0'){switch(_a){case "select":break;}}};});this.on_initEvent=function(){this.ds_ctr030.addEventHandler("onrowposchanged",this.ds_frmtnPd_onrowposchanged,this);this.addEventHandler("onload",this.CTR050200_onload,this);};this.loadIncludeScript("CTR050200.xfdl");this.loadPreloadList();};})();