(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CTR030100_P02");this.set_classname("CTR030100_P02");this.set_titletext("업체별 계약변경내역 관리 팝업");this.set_scrollbars("none");this._setFormPosition(0,0,1000,600);}_a=new Dataset("ds_cond_pop",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BSNS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond_pop_sub",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_CHANGE_ODR\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctr044",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctr045",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cntrctChangeList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a.set_updatecontrol("true");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_CHANGE_ODR\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_SE\" type=\"STRING\" size=\"256\"/><Column id=\"AFTCH_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"AFTCH_COMPET_DE\" type=\"STRING\" size=\"256\"/><Column id=\"BFCHG_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"BFCHG_COMPET_DE\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_DE\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cntrctAcctoChangeList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a.set_updatecontrol("true");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_CHANGE_ODR\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_SE\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_DE\" type=\"STRING\" size=\"256\"/><Column id=\"BFCHG_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"AFTCH_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"BFCHG_COMPET_DE\" type=\"STRING\" size=\"256\"/><Column id=\"AFTCH_COMPET_DE\" type=\"STRING\" size=\"256\"/><Column id=\"BFCHG_QOTA_RT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"AFTCH_QOTA_RT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a.set_useclientlayout("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_cntrctAcctoChangeList</Col><Col id=\"colId\">CNTRCT_NO</Col><Col id=\"msgId\">계약번호</Col><Col id=\"notNull\">Y</Col><Col id=\"PK\">Y</Col></Row><Row><Col id=\"compId\">ds_cntrctAcctoChangeList</Col><Col id=\"colId\">CHANGE_SE</Col><Col id=\"msgId\">변경구분</Col><Col id=\"notNull\">Y</Col><Col id=\"PK\">Y</Col></Row><Row><Col id=\"compId\">ds_cntrctAcctoChangeList</Col><Col id=\"colId\">BCNC_CODE</Col><Col id=\"msgId\">거래처코드</Col><Col id=\"notNull\">Y</Col><Col id=\"PK\">Y</Col></Row><Row><Col id=\"compId\">ds_cntrctAcctoChangeList</Col><Col id=\"colId\">CHANGE_DE</Col><Col id=\"msgId\">변경일자</Col><Col id=\"notNull\">Y</Col><Col id=\"PK\">Y</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Grid("grd_cntrctAcctoChangeList","absolute","15","345",null,null,"15","0",this);_a.set_taborder("0");_a.set_binddataset("ds_cntrctAcctoChangeList");_a.set_treeusecheckbox("false");_a.set_autofittype("col");_a.set_autoenter("select");_a.set_autoupdatetype("itemselect");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"80\"/><Column size=\"200\"/><Column size=\"130\"/><Column size=\"110\"/><Column size=\"100\"/><Column size=\"300\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"No\"/><Cell col=\"1\" rowspan=\"2\" colspan=\"2\" text=\"업체\"/><Cell col=\"3\" text=\"변경전 계약금\"/><Cell col=\"4\" text=\"변경전 준공일자\"/><Cell col=\"5\" text=\"변경전 지분율\"/><Cell col=\"6\" rowspan=\"2\" text=\"비고\"/><Cell row=\"1\" col=\"3\" text=\"변경후 계약금\"/><Cell row=\"1\" col=\"4\" text=\"변경후 준공일자\"/><Cell row=\"1\" col=\"5\" text=\"변경후 지분율\"/></Band><Band id=\"body\"><Cell rowspan=\"2\" text=\"expr:currow+1\"/><Cell col=\"1\" rowspan=\"2\" text=\"bind:BCNC_CODE\" expandshow=\"show\"/><Cell col=\"2\" rowspan=\"2\" style=\"align:left middle;\" text=\"bind:BCNC_NM\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right middle;\" text=\"bind:BFCHG_CNTRCT_AMOUNT\"/><Cell col=\"4\" displaytype=\"date\" style=\"align:center middle;\" text=\"bind:BFCHG_COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:center middle;\" text=\"bind:BFCHG_QOTA_RT\" mask=\"###.##\"/><Cell col=\"6\" rowspan=\"2\" edittype=\"normal\" style=\"align:left middle;\" text=\"bind:RM\" wordwrap=\"char\" editlimit=\"200\" editdisplay=\"display\" editlengthunit=\"ascii\" tooltiptext=\"bind:RM\"/><Cell row=\"1\" col=\"3\" displaytype=\"number\" style=\"align:right middle;\" text=\"bind:AFTCH_CNTRCT_AMOUNT\"/><Cell row=\"1\" col=\"4\" displaytype=\"date\" style=\"align:center middle;\" text=\"bind:AFTCH_COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell row=\"1\" col=\"5\" displaytype=\"number\" style=\"align:center middle;\" text=\"bind:AFTCH_QOTA_RT\" editlimitbymask=\"both\" calendardisplaynulltype=\"none\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","0","15",null,null,"0",this);_a.set_taborder("4");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static00","absolute",null,"0","15",null,"0","0",this);_a.set_taborder("5");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_title01","absolute","15","321","140","19",null,null,this);_a.set_taborder("13");_a.set_text("업체별 계약변경내역");_a.set_cssclass("sta_WF_Title02");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Grid("grd_cntrctChangeList","absolute","15","112",null,"199","15",null,this);_a.set_taborder("25");_a.set_binddataset("ds_cntrctChangeList");_a.set_autoenter("select");_a.set_autofittype("col");_a.set_treeusecheckbox("false");_a.set_treeinitstatus("expand,null");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"150\"/><Column size=\"110\"/><Column size=\"130\"/><Column size=\"110\"/><Column size=\"300\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"차수\"/><Cell col=\"1\" rowspan=\"2\" text=\"변경구분\"/><Cell col=\"2\" rowspan=\"2\" text=\"변경일자\"/><Cell col=\"3\" text=\"변경전 계약금액\"/><Cell col=\"4\" text=\"변경전 준공일자\"/><Cell col=\"5\" rowspan=\"2\" text=\"비고\"/><Cell row=\"1\" col=\"3\" text=\"변경후 계약금액\"/><Cell row=\"1\" col=\"4\" text=\"변경후 준공일자\"/></Band><Band id=\"body\"><Cell rowspan=\"2\" text=\"bind:CNTRCT_CHANGE_ODR\"/><Cell col=\"1\" rowspan=\"2\" displaytype=\"combo\" text=\"bind:CHANGE_SE\" wordwrap=\"char\" combodataset=\"ds_ctr044\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" calendardisplaynulltype=\"none\"/><Cell col=\"2\" rowspan=\"2\" displaytype=\"date\" text=\"bind:CHANGE_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right middle;\" text=\"bind:BFCHG_CNTRCT_AMOUNT\"/><Cell col=\"4\" displaytype=\"date\" text=\"bind:BFCHG_COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" rowspan=\"2\" displaytype=\"normal\" style=\"align:left middle;\" text=\"bind:RM\" wordwrap=\"char\"/><Cell row=\"1\" col=\"3\" displaytype=\"number\" style=\"align:right middle;\" text=\"bind:AFTCH_CNTRCT_AMOUNT\"/><Cell row=\"1\" col=\"4\" displaytype=\"date\" text=\"bind:AFTCH_COMPET_DE\" calendardisplaynulltype=\"none\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static06","absolute","15","0",null,"15","15",null,this);_a.set_taborder("26");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_title00","absolute","15","88","140","19",null,null,this);_a.set_taborder("29");_a.set_text("계약변경내역(참고)");_a.set_cssclass("sta_WF_Title02");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Button("btn_save","absolute",null,"15","50","25","68",null,this);_a.set_taborder("32");_a.set_text("저장");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Button("btn_close","absolute",null,"15","50","25","15",null,this);_a.set_taborder("33");_a.set_text("종료");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","15","40",null,"5","15",null,this);_a.set_taborder("34");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","15","78",null,"10","15",null,this);_a.set_taborder("36");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_search","absolute",null,"15","50","25","121",null,this);_a.set_taborder("37");_a.set_text("조회");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","15","311",null,"10","15",null,this);_a.set_taborder("38");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","15","340",null,"5","15",null,this);_a.set_taborder("40");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_Add","absolute",null,"321","64","19","149",null,this);_a.set_taborder("41");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Button("btn_Delete","absolute",null,"321","64","19","82",null,this);_a.set_taborder("42");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_Cancel","absolute",null,"321","64","19","15",null,this);_a.set_taborder("43");_a.set_text("행취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Static("Static07","absolute","15","107",null,"5","15",null,this);_a.set_taborder("46");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","15","45",null,"33","15",null,this);_a.set_taborder("47");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_bcncNm","absolute","15","5","64","21",null,null,this.div_search);_a.set_taborder("29");_a.set_text("사업번호");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("sta_bizrno","absolute","440","5","64","21",null,null,this.div_search);_a.set_taborder("30");_a.set_text("계약번호");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","5","15",null,null,"5",this.div_search);_a.set_taborder("31");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","178","5","2","21",null,null,this.div_search);_a.set_taborder("32");_a.set_text("2");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","425","5","15",null,null,"31",this.div_search);_a.set_taborder("33");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","619","5","2","21",null,null,this.div_search);_a.set_taborder("34");_a.set_text("2");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_CNTRCT_NM","absolute","621","5","245","21",null,null,this.div_search);_a.set_taborder("35");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_BSNS_CODE","absolute","79","5","99","21",null,null,this.div_search);_a.set_taborder("36");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_BSNS_NM","absolute","180","5","245","21",null,null,this.div_search);_a.set_taborder("37");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new MaskEdit("msk_CNTRCT_NO","absolute","504","5","115","21",null,null,this.div_search);_a.set_taborder("38");_a.set_readonly("true");_a.set_type("string");_a.set_mask("####-###-###");_a.set_maskchar(" ");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static36","absolute","350","0",null,"5","531",null,this.div_search);_a.set_taborder("39");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static03","absolute","350","26",null,"5","531",null,this.div_search);_a.set_taborder("40");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("sta_acntCode","absolute","15","18","400","19",null,null,this);_a.set_taborder("48");_a.set_text("(변경 이력관리를 위하여, 마지막행만 수정이 가능합니다)");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("sta_title02","absolute","165","88","476","19",null,null,this);_a.set_taborder("49");_a.set_text("(계약변경내역의 '변경구분' 및 '변경일자'를 참고하여 작성해 주시기 바랍니다)");_a.style.set_color("blue");_a.style.set_padding("0 0 0 0");_a.style.set_align("left middle");_a.style.set_font("bold 9 Gulim");this.addChild(_a.name,_a);_a=new Static("sta_title03","absolute","165","321","476","19",null,null,this);_a.set_taborder("50");_a.set_text("(지분율 변경시, 해당 지분율에 맞춰 계약금액도 같이 변경해주시기 바랍니다.)");_a.style.set_color("blue");_a.style.set_padding("0 0 0 0");_a.style.set_align("left middle");_a.style.set_font("bold 9 Gulim");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("47");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1000,600,this,function(_b){_b.set_classname("CTR030100_P02");_b.set_titletext("업체별 계약변경내역 관리 팝업");_b.set_scrollbars("none");});this.addLayout(_a.name,_a);_a=new BindItem("item4","div_search00.div_bcnc_cd","value","ds_cond_pop","BCNC_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_search00.div_bcnc_nm","value","ds_cond_pop","BCNC_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","div_search.edt_BSNS_CODE","value","ds_cond_pop","BSNS_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.edt_CNTRCT_NM","value","ds_cond_pop","CNTRCT_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item3","div_search.msk_CNTRCT_NO","value","ds_cond_pop","CNTRCT_NO");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item5","div_search.edt_BSNS_NM","value","ds_cond_pop","BSNS_NM");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("CTR030100_P02.xfdl","lib::comInclude.xjs");this.addIncludeScript("CTR030100_P02.xfdl","mis_lib::misUtil.xjs");this.registerScript("CTR030100_P02.xfdl",function(){var _a= -1;this.CTR030100_P02_oninit=function(_b,_c){this.fn_init_form();this.fn_init_dataset();};this.CTR030100_P02_onload=function(_b,_c){this.grd_cntrctAcctoChangeList.setCellProperty("Body",7,"edittype","expr:(BCNC_CODE!=null) && (CHANGE_SE=='1'||CHANGE_SE=='3') ? 'masknumber':'none'");this.grd_cntrctAcctoChangeList.setCellProperty("Body",7,"mask","expr:(BCNC_CODE!=null) && (CHANGE_SE=='1'||CHANGE_SE=='3') ? '#,###,###,###,###':''");this.grd_cntrctAcctoChangeList.setCellProperty("Body",7,"editlimitbymask","both");this.grd_cntrctAcctoChangeList.setCellProperty("Body",7,"editdisplay","expr:(BCNC_CODE!=null) && (CHANGE_SE=='1'||CHANGE_SE=='3') ? 'display' : 'edit'");this.grd_cntrctAcctoChangeList.setCellProperty("Body",8,"edittype","expr:(BCNC_CODE!=null) && (CHANGE_SE=='2'||CHANGE_SE=='3') ? 'date':'none'");this.grd_cntrctAcctoChangeList.setCellProperty("Body",8,"calendardisplay","expr:(BCNC_CODE!=null) && (CHANGE_SE=='2'||CHANGE_SE=='3') ? 'display' : 'edit'");this.grd_cntrctAcctoChangeList.setCellProperty("Body",9,"edittype","expr:(BCNC_CODE!=null) && (CHANGE_SE=='4') ? 'masknumber':'none'");this.grd_cntrctAcctoChangeList.setCellProperty("Body",9,"mask","expr:(BCNC_CODE!=null) && (CHANGE_SE=='4') ? '###.##':''");this.grd_cntrctAcctoChangeList.setCellProperty("Body",9,"editlimitbymask","both");this.grd_cntrctAcctoChangeList.setCellProperty("Body",9,"editdisplay","expr:(BCNC_CODE!=null) && (CHANGE_SE=='4') ? 'display' : 'edit'");this.ds_cond_pop.clearData();var _d=this.ds_cond_pop.addRow();var _e=[["ds_ctr044","CTR044","Y","D","B"],["ds_ctr045","CTR045","Y","D","B"]];var _f=function(_g,_h,_i){this.ds_cond_pop.setColumn(_d,"BSNS_CODE",this.parent.bsnsCode);this.ds_cond_pop.setColumn(_d,"BSNS_NM",this.parent.bsnsNm);this.ds_cond_pop.setColumn(_d,"CNTRCT_NO",this.parent.cntrctNo);this.ds_cond_pop.setColumn(_d,"CNTRCT_NM",this.parent.cntrctNm);this.fn_search();};this.gfn_comboLoad(_e,_f);};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);};this.fn_init_dataset=function(){};this.fn_search=function(){this.ds_cntrctAcctoChangeList.clearData();this.ds_cntrctChangeList.clearData();this.fn_transaction("select");};this.fn_search_sub=function(){this.ds_cntrctAcctoChangeList.clearData();var _b=this.ds_cntrctChangeList.rowposition;var _c=this.ds_cntrctChangeList.getColumn(_b,"CNTRCT_NO");var _d=this.ds_cntrctChangeList.getColumn(_b,"CNTRCT_CHANGE_ODR");this.ds_cond_pop_sub.clearData();var _e=this.ds_cond_pop_sub.addRow();this.ds_cond_pop_sub.setColumn(_e,"CNTRCT_NO",_c);this.ds_cond_pop_sub.setColumn(_e,"CNTRCT_CHANGE_ODR",_d);this.fn_transaction("select_sub");};this.fn_save=function(){if(!this.gfn_checkValidation(this.ds_cntrctAcctoChangeList,this.ds_validation)){return false;}else{var _b=0;for(var _h=0;_h<this.ds_cntrctAcctoChangeList.getRowCount();_h++ ){var _c=this.ds_cntrctAcctoChangeList.getRowType(_h);if(_c!=Dataset.ROWTYPE_NORMAL){var _d=this.ds_cntrctAcctoChangeList.getColumn(_h,"CHANGE_SE");if(_d=='1'||_d=='3'){var _e=this.ds_cntrctAcctoChangeList.getColumn(_h,"AFTCH_CNTRCT_AMOUNT");if(this.comUtils.isNull(_e)){alert("변경후계약금액를(을) 입력하여 주십시오.");return false;}}else if(_d=='2'||_d=='3'){var _f=this.ds_cntrctAcctoChangeList.getColumn(_h,"AFTCH_COMPET_DE");if(this.comUtils.isNull(_f)){alert("변경후준공일자를(을) 입력하여 주십시오.");return false;}}else if(_d=='4'){var _g=this.ds_cntrctAcctoChangeList.getColumn(_h,"AFTCH_QOTA_RT");if(this.comUtils.isNull(_g)){alert("변경후지분율를(을) 입력하여 주십시오.");return false;}}}var _g=this.ds_cntrctAcctoChangeList.getColumn(_h,"AFTCH_QOTA_RT");_g=(!this.comUtils.isNull(_g)?nexacro.toNumber(_g):0);_b+=_g;}}if(_b>100){this.gfn_message("info.처리불가","변경된 지분율의 합은 100을 넘을 수 없습니다. 계약금을 변경하여 주십시오.");return false;}if(this.gfn_message("confirm.저장.여부")){_a=this.ds_cntrctChangeList.rowposition;this.fn_transaction("save");}};this.fn_transaction=function(_b){switch(_b){case "select":var _c="hsco/mis/ctr/CTR030100_P02/select.do";var _d="input1=ds_cond_pop";var _e="ds_cntrctChangeList=output1";break;case "select_sub":var _c="hsco/mis/ctr/CTR030100_P02/select_sub.do";var _d="input1=ds_cond_pop_sub";var _e="ds_cntrctAcctoChangeList=output1";break;case "save":var _c="hsco/mis/ctr/CTR030100_P02/save.do";var _d="input1=ds_cntrctAcctoChangeList:U";var _e="";break;}Ex.core.tran(this,_b,_c,_d,_e);};this.fn_callBack=function(_b,_c,_d){if(_c!=0){this.gfn_callback_message(_b,_c,_d);}if(_c==0){switch(_b){case "select":if(this.ds_cntrctChangeList.getRowCount()>0&&_a> -1){this.ds_cntrctChangeList.set_rowposition(_a);_a= -1;}break;case "save":this.fn_search();break;}}};this.fn_popupCallBack=function(_b,_c){if(_b=="BCNC_CODE"){var _d=new Dataset();var _e=_d.loadXML(_c);if(_e){var _f=_d.getColumn(0,"BCNC_CODE");var _g=_d.getColumn(0,"BCNC_NM");var _h=_d.getColumn(0,"CNTRCT_AMOUNT");var _i=_d.getColumn(0,"QOTA_RT");var _j=this.ds_cntrctAcctoChangeList.rowposition;this.ds_cntrctAcctoChangeList.setColumn(_j,"BCNC_CODE",_f);this.ds_cntrctAcctoChangeList.setColumn(_j,"BCNC_NM",_g);this.ds_cntrctAcctoChangeList.setColumn(_j,"BFCHG_CNTRCT_AMOUNT",_h);this.ds_cntrctAcctoChangeList.setColumn(_j,"AFTCH_CNTRCT_AMOUNT",_h);var _k=this.ds_cntrctChangeList.rowposition;var _l=this.ds_cntrctChangeList.getColumn(_k,"AFTCH_CNTRCT_AMOUNT");var _m=_h;var _n=nexacro.round((_m/_l)*100);this.ds_cntrctAcctoChangeList.setColumn(_j,"BFCHG_QOTA_RT",_i);this.ds_cntrctAcctoChangeList.setColumn(_j,"AFTCH_QOTA_RT",_n);}}};this.grd_onheadclick=function(_b,_c){this.gfn_gridSort(_b,_c);};this.grd_cntrctAcctoChangeList_onexpandup=function(_b,_c){if(_c.col=='1'){var _d={arg_0:this,popMode:"원도급",bsnsCode:this.ds_cond_pop.getColumn(0,"BSNS_CODE"),bsnsNm:this.ds_cond_pop.getColumn(0,"BSNS_NM"),cntrctNo:this.ds_cond_pop.getColumn(0,"CNTRCT_NO"),cntrctNm:this.ds_cond_pop.getColumn(0,"CNTRCT_NM")};this.gfn_popup("BCNC_CODE",800,530,"계약업체 선택",_d,"mis_ctr::CTR030100_P10.xfdl","fn_popupCallBack",true);}};this.ds_cntrctChangeList_onrowposchanged=function(_b,_c){this.fn_search_sub();};this.ds_cntrctAcctoChangeList_oncolumnchanged=function(_b,_c){if(_c.columnid=="CHANGE_SE"){var _d=_b.getColumn(_c.row,"BFCHG_CNTRCT_AMOUNT");var _e=_b.getColumn(_c.row,"BFCHG_COMPET_DE");var _f=_b.getColumn(_c.row,"BFCHG_QOTA_RT");_b.setColumn(_c.row,"AFTCH_CNTRCT_AMOUNT",_d);_b.setColumn(_c.row,"AFTCH_COMPET_DE",_e);_b.setColumn(_c.row,"AFTCH_QOTA_RT",_f);}else if(_c.columnid=="AFTCH_CNTRCT_AMOUNT"){var _d=_b.getColumn(_c.row,"BFCHG_CNTRCT_AMOUNT");var _g=this.ds_cntrctChangeList.rowposition;var _h=this.ds_cntrctChangeList.getColumn(_g,"AFTCH_CNTRCT_AMOUNT");var _i=_c.newvalue;_f=nexacro.round((_i/_h)*100);_b.setColumn(_c.row,"AFTCH_QOTA_RT",_f);}};this.btn_Add_onclick=function(_b,_c){var _d=this.ds_cntrctAcctoChangeList.addRow();var _e=this.ds_cntrctChangeList.rowposition;var _f=this.ds_cntrctChangeList.getColumn(_e,"BSNS_CODE");var _g=this.ds_cntrctChangeList.getColumn(_e,"CNTRCT_NO");var _h=this.ds_cntrctChangeList.getColumn(_e,"CNTRCT_CHANGE_ODR");var _i=this.ds_cntrctChangeList.getColumn(_e,"CHANGE_SE");var _j=this.ds_cntrctChangeList.getColumn(_e,"CHANGE_DE");var _k=this.ds_cntrctChangeList.getColumn(_e,"BFCHG_CNTRCT_AMOUNT");var _l=this.ds_cntrctChangeList.getColumn(_e,"AFTCH_CNTRCT_AMOUNT");var _m=this.ds_cntrctChangeList.getColumn(_e,"BFCHG_COMPET_DE");var _n=this.ds_cntrctChangeList.getColumn(_e,"AFTCH_COMPET_DE");var _o=this.ds_cntrctChangeList.getColumn(_e,"BFCHG_QOTA_RT");var _p=this.ds_cntrctChangeList.getColumn(_e,"AFTCH_QOTA_RT");this.ds_cntrctAcctoChangeList.setColumn(_d,"BSNS_CODE",_f);this.ds_cntrctAcctoChangeList.setColumn(_d,"CNTRCT_NO",_g);this.ds_cntrctAcctoChangeList.setColumn(_d,"CNTRCT_CHANGE_ODR",_h);this.ds_cntrctAcctoChangeList.setColumn(_d,"CHANGE_SE",_i);this.ds_cntrctAcctoChangeList.setColumn(_d,"CHANGE_DE",_j);this.ds_cntrctAcctoChangeList.setColumn(_d,"BFCHG_COMPET_DE",_m);this.ds_cntrctAcctoChangeList.setColumn(_d,"AFTCH_COMPET_DE",_n);};this.btn_Delete_onclick=function(_b,_c){if(this.gfn_message("confirm.삭제여부")){this.ds_cntrctAcctoChangeList.deleteRow(this.ds_cntrctAcctoChangeList.rowposition);}};this.btn_Cancel_onclick=function(_b,_c){if(Ex.util.isUpdated(this.ds_cntrctAcctoChangeList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.ds_cntrctAcctoChangeList.reset();this.ds_cntrctAcctoChangeList.applyChange();};this.btn_close_onclick=function(_b,_c){this.close();};});this.on_initEvent=function(){this.ds_cntrctChangeList.addEventHandler("onrowposchanged",this.ds_cntrctChangeList_onrowposchanged,this);this.ds_cntrctAcctoChangeList.addEventHandler("oncolumnchanged",this.ds_cntrctAcctoChangeList_oncolumnchanged,this);this.addEventHandler("onload",this.CTR030100_P02_onload,this);this.addEventHandler("oninit",this.CTR030100_P02_oninit,this);this.grd_cntrctAcctoChangeList.addEventHandler("onheadclick",this.grd_onheadclick,this);this.grd_cntrctAcctoChangeList.addEventHandler("onexpandup",this.grd_cntrctAcctoChangeList_onexpandup,this);this.grd_cntrctChangeList.addEventHandler("onheadclick",this.grd_onheadclick,this);this.btn_save.addEventHandler("onclick",this.fn_save,this);this.btn_close.addEventHandler("onclick",this.btn_close_onclick,this);this.btn_search.addEventHandler("onclick",this.fn_search,this);this.btn_Add.addEventHandler("onclick",this.btn_Add_onclick,this);this.btn_Delete.addEventHandler("onclick",this.btn_Delete_onclick,this);this.btn_Cancel.addEventHandler("onclick",this.btn_Cancel_onclick,this);};this.loadIncludeScript("CTR030100_P02.xfdl");};})();