(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CTR030100_T01");this.set_classname("CTR030100_T12");this.set_titletext("계약업무처리과정");this._setFormPosition(0,0,1031,400);}_a=new Static("Static00","absolute","0","1",null,"10","0",null,this);_a.set_taborder("1");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_cntrctJobProcessCrse","absolute","0","11","120","19",null,null,this);_a.set_taborder("2");_a.set_text("계약업무처리과정");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Grid("grd_cntrctJobProcessCrse","absolute","0","35",null,null,"0","160",this);_a.set_taborder("0");_a.set_cellsizingtype("col");_a.set_binddataset("ds_cntrctJobProcessCrse");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"100\"/><Column size=\"300\"/><Column size=\"130\"/><Column size=\"130\"/><Column size=\"130\"/><Column size=\"130\"/><Column size=\"250\"/><Column size=\"120\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"발생일\"/><Cell col=\"1\" text=\"내용\"/><Cell col=\"2\" text=\"계약금액\"/><Cell col=\"3\" text=\"지출금액\"/><Cell col=\"4\" text=\"누적지출금액\"/><Cell col=\"5\" text=\"잔액\"/><Cell col=\"6\" text=\"비고\"/><Cell col=\"7\" text=\"결의번호\"/></Band><Band id=\"body\"><Cell displaytype=\"date\" text=\"bind:OCCRRNC_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"1\" style=\"align:left middle;padding:0 0 0 5;\" text=\"bind:OCCRRNC_CN\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right middle;padding:0 5 0 0;\" text=\"bind:CNTRCT_AM\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right middle;padding:0 5 0 0;\" text=\"bind:EXPNDTR_AM\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right middle;padding:0 5 0 0;\" text=\"bind:ACCMLT_EXPNDTR_AM\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:right middle;padding:0 5 0 0;\" text=\"bind:BLCE\" autosizecol=\"limitmin\"/><Cell col=\"6\" style=\"align:left middle;padding:0 5 0 0;\" text=\"bind:SUMRY\"/><Cell col=\"7\" displaytype=\"normal\" style=\"align:center middle;padding:0 5 0 0;\" text=\"bind:DECSN_NO\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Grid("grd_inorgCtnuCntrwk","absolute","0",null,"407","126",null,"0",this);_a.set_taborder("3");_a.set_binddataset("ds_inorgCtnuCntrwk");_a.set_autoenter("select");_a.set_cellsizingtype("col");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"100\"/><Column size=\"120\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"년차\"/><Cell col=\"1\" text=\"년도\"/><Cell col=\"2\" text=\"계약금액\"/></Band><Band id=\"body\"><Cell edittype=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'normal' : 'none'\" editfilter=\"digit\" style=\"align:center middle;padding: ;\" text=\"bind:YY_ATMB\" editlimit=\"2\" editdisplay=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'display' : 'edit'\" editlengthunit=\"ascii\"/><Cell col=\"1\" edittype=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'mask' : 'none'\" style=\"align:center middle;padding: ;\" text=\"bind:YEAR\" mask=\"####\" editdisplay=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'display' : 'edit'\"/><Cell col=\"2\" displaytype=\"number\" edittype=\"masknumber\" style=\"align:right middle;padding: ;\" text=\"bind:CNTRCT_AMOUNT\" mask=\"###,###,###,###,###\" editdisplay=\"display\" editlimitbymask=\"both\"/></Band><Band id=\"summary\"><Cell colspan=\"2\" text=\"총 금액\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right middle;\" text=\"expr:dataset.getSum(&quot;CNTRCT_AMOUNT&quot;)\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","0",null,null,"10","0","150",this);_a.set_taborder("4");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_inorgCtnuCntrwk","absolute","0",null,"120","19",null,"131",this);_a.set_taborder("5");_a.set_text("계속비계약");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0",null,null,"5","0","126",this);_a.set_taborder("6");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_Add_inorgCtnuCntrwk","absolute","209",null,"64","19",null,"131",this);_a.set_taborder("7");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Button("btn_Delete_inorgCtnuCntrwk","absolute","276",null,"64","19",null,"131",this);_a.set_taborder("8");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");_a.getSetter("cancolumnchange").set("ds_frmtnPdDept_cancolumnchange");this.addChild(_a.name,_a);_a=new Button("btn_Cancel_inorgCtnuCntrwk","absolute","343",null,"64","19",null,"131",this);_a.set_taborder("9");_a.set_text("취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Grid("grd_curMangr","absolute","417",null,null,"126","0","0",this);_a.set_taborder("10");_a.set_binddataset("ds_curMangr");_a.set_cellsizingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"130\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"사번\"/><Cell col=\"2\" text=\"성명\"/><Cell col=\"3\" text=\"소속\"/><Cell col=\"4\" text=\"직종\"/><Cell col=\"5\" text=\"직급\"/><Cell col=\"6\" text=\"직위\"/><Cell col=\"7\" text=\"직렬\"/></Band><Band id=\"body\"><Cell text=\"expr:currow + 1\"/><Cell col=\"1\" text=\"bind:MANGR_EMPNO\"/><Cell col=\"2\" text=\"bind:MANGR_EMPNM\"/><Cell col=\"3\" style=\"align:left middle;\" text=\"bind:MANGR_DEPT_NM\"/><Cell col=\"4\" text=\"bind:MANGR_JSSFC_NM\"/><Cell col=\"5\" text=\"bind:MANGR_CLSF_NM\"/><Cell col=\"6\" text=\"bind:MANGR_OFCPS_NM\"/><Cell col=\"7\" text=\"bind:MANGR_JBLN_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("sta_curMangr","absolute","417",null,"120","19",null,"131",this);_a.set_taborder("11");_a.set_text("현행감독관");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static42","absolute","407","274","10",null,null,"0",this);_a.set_taborder("12");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","0","30",null,"5","0",null,this);_a.set_taborder("13");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_AddCntrctJobProcessCrse","absolute",null,"11","80","19","83",null,this);_a.set_taborder("14");_a.set_text("지출추가");_a.set_cssclass("btn_WF_Gridadd");_a.set_visible("true");this.addChild(_a.name,_a);_a=new Button("btn_DelCntrctJobProcessCrse","absolute",null,"11","80","19","0",null,this);_a.set_taborder("15");_a.set_text("지출삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Layout("default","",1031,400,this,function(_b){_b.set_classname("CTR030100_T12");_b.set_titletext("계약업무처리과정");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("CTR030100_T01.xfdl","lib::comInclude.xjs");this.addIncludeScript("CTR030100_T01.xfdl","mis_lib::misUtil.xjs");this.registerScript("CTR030100_T01.xfdl",function(){this.btn_Add_inorgCtnuCntrwk_onclick=function(_a,_b){if(this.parent.parent.ds_cntrct.getRowCount()==0){this.gfn_message("info.진행가능","계약정보 '추가' 혹은 '조회'");return false;}var _c=this.parent.parent.ds_cntrct.getColumn(0,"BSNS_CODE");var _d=this.parent.parent.ds_cntrct.getColumn(0,"CNTRCT_NO");var _e=this.parent.parent.ds_inorgCtnuCntrwk.addRow();this.parent.parent.ds_inorgCtnuCntrwk.setColumn(_e,"BSNS_CODE",_c);this.parent.parent.ds_inorgCtnuCntrwk.setColumn(_e,"CNTRCT_NO",_d);var _f="";var _g="";if(this.parent.parent.ds_inorgCtnuCntrwk.getRowCount()>1){_f=this.parent.parent.ds_inorgCtnuCntrwk.getMax("YY_ATMB")*1+1;_g=this.parent.parent.ds_inorgCtnuCntrwk.getMax("YEAR")*1+1;}else{_f=1;_g=this.parent.parent.ds_cntrct.getColumn(0,"CNTRCT_YEAR");}this.parent.parent.ds_inorgCtnuCntrwk.setColumn(_e,"YY_ATMB",_f);this.parent.parent.ds_inorgCtnuCntrwk.setColumn(_e,"YEAR",_g);};this.btn_Delete_inorgCtnuCntrwk_onclick=function(_a,_b){if(this.parent.parent.ds_cntrct.getRowCount()==0){this.gfn_message("info.진행가능","계약정보 '추가' 혹은 '조회'");return false;}if(!this.gfn_message("confirm.삭제여부")){return false;}this.parent.parent.ds_inorgCtnuCntrwk.deleteRow(this.parent.parent.ds_inorgCtnuCntrwk.rowposition);};this.btn_Cancel_inorgCtnuCntrwk_onclick=function(_a,_b){if(this.parent.parent.ds_cntrct.getRowCount()==0){this.gfn_message("info.진행가능","계약정보 '추가' 혹은 '조회'");return false;}if(Ex.util.isUpdated(this.parent.parent.ds_inorgCtnuCntrwk)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.parent.parent.ds_inorgCtnuCntrwk.reset();this.parent.parent.ds_inorgCtnuCntrwk.applyChange();};this.fn_btnOnclick=function(_a,_b){var _c="";if(_a.name=="btn_AddCntrctJobProcessCrse"){_c="ACC020410_P01";}else if(_a.name=="btn_DelCntrctJobProcessCrse"){_c="ACC020410_P02";}var _d=this.parent.parent.ds_cntrct.getColumn(0,"CNTRCT_NO");var _e={arg_0:this,cntrctNo:_d};this.gfn_popup(_c,902,752,"계약지출팝업",_e,"mis_acc::"+_c+".xfdl","fn_popupCallBack",true);};this.fn_popupCallBack=function(_a,_b){if(_a=="ACC020410_P01"||_a=="ACC020410_P02"){this.parent.parent.fn_search();}};});this.on_initEvent=function(){this.addEventHandler("onload",this.CTR030100_T12_onload,this);this.addEventHandler("oninit",this.CTR030100_T12_oninit,this);this.grd_cntrctJobProcessCrse.addEventHandler("onexpandup",this.tab_tp3_grd_thngAcptncGrp_onexpandup,this);this.btn_Add_inorgCtnuCntrwk.addEventHandler("onclick",this.btn_Add_inorgCtnuCntrwk_onclick,this);this.btn_Delete_inorgCtnuCntrwk.addEventHandler("onclick",this.btn_Delete_inorgCtnuCntrwk_onclick,this);this.btn_Cancel_inorgCtnuCntrwk.addEventHandler("onclick",this.btn_Cancel_inorgCtnuCntrwk_onclick,this);this.grd_curMangr.addEventHandler("onexpandup",this.grd_cntrctBudget_onexpandup,this);this.btn_AddCntrctJobProcessCrse.addEventHandler("onclick",this.fn_btnOnclick,this);this.btn_DelCntrctJobProcessCrse.addEventHandler("onclick",this.fn_btnOnclick,this);};this.loadIncludeScript("CTR030100_T01.xfdl");};})();