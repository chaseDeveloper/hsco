(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CTR020200_T03");this.set_classname("CTR020200");this.set_titletext("용역");this._setFormPosition(0,0,1031,662);}_a=new Static("Static00","absolute","0","0",null,"10","0",null,this);_a.set_taborder("6");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_orderPlanList","absolute","0","10",null,"19","938",null,this);_a.set_taborder("0");_a.set_text("발주계획내역");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","29",null,"5","0",null,this);_a.set_taborder("7");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_add","absolute",null,"10","64","19","134",null,this);_a.set_taborder("1");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Button("btn_delete","absolute",null,"10","64","19","67",null,this);_a.set_taborder("2");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_cancel","absolute",null,"10","64","19","0",null,this);_a.set_taborder("3");_a.set_text("행취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Grid("grd_orderPlanServcList","absolute","0","34",null,null,"0","217",this);_a.set_taborder("4");_a.set_binddataset("ds_orderPlan_t2");_a.set_cellsizingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"130\"/><Column size=\"60\"/><Column size=\"100\"/><Column size=\"250\"/><Column size=\"250\"/><Column size=\"130\"/><Column size=\"130\"/><Column size=\"80\"/><Column size=\"100\"/><Column size=\"80\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"계약의뢰(의뢰번호)\"/><Cell col=\"1\" text=\"계획\"/><Cell col=\"2\" text=\"계약종류\"/><Cell col=\"3\" text=\"사업명\"/><Cell col=\"4\" text=\"발주명\"/><Cell col=\"5\" text=\"추정금액\"/><Cell col=\"6\" text=\"금차도급액\"/><Cell col=\"7\" text=\"조달방식\"/><Cell col=\"8\" text=\"계약방법\"/><Cell col=\"9\" colspan=\"2\" text=\"담당자/담당부서\"/></Band><Band id=\"body\"><Cell text=\"bind:REQEST_NO\" mask=\"####-#-#####\" maskchar=\" \"/><Cell col=\"1\" displaytype=\"combo\" text=\"bind:ORDER_PLAN_MT\" combodataset=\"ds_orderPlanMt\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"2\" displaytype=\"combo\" style=\"align:lefts;\" text=\"bind:CNTRCT_KND_CODE\" combodataset=\"ds_servcKnd\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"3\" style=\"align:left;\" text=\"bind:BSNS_NM\"/><Cell col=\"4\" style=\"align:left;\" text=\"bind:ORDER_NM\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:right;\" text=\"bind:PRSMP_AMOUNT\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right;\" text=\"bind:THTI_ODR_OUTSRC_AM\"/><Cell col=\"7\" displaytype=\"combo\" text=\"bind:PRCURE_MTHD_CODE\" combodataset=\"ds_prcureMthd\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"8\" displaytype=\"combo\" text=\"bind:CNTRCT_MTH_SE\" combodataset=\"ds_ctr049\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"9\" text=\"bind:ORDER_EMPNM\"/><Cell col=\"10\" style=\"align:left;\" text=\"bind:ORDER_DEPT_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Div("div_servc","absolute","0",null,"522","217",null,"0",this);_a.set_taborder("5");_a.set_text(".");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","112",null,"27","10",null,this.div_servc);_a.set_taborder("38");_a.set_cssclass("sta_WF_Labelbg");this.div_servc.addChild(_a.name,_a);_a=new Static("Static51","absolute","0","34",null,"27","10",null,this.div_servc);_a.set_taborder("29");_a.set_cssclass("sta_WF_Labelbg");this.div_servc.addChild(_a.name,_a);_a=new Static("Static12","absolute","0","86",null,"27","10",null,this.div_servc);_a.set_taborder("30");_a.set_cssclass("sta_WF_Labelbg");this.div_servc.addChild(_a.name,_a);_a=new Static("Static06","absolute","0","60",null,"27","10",null,this.div_servc);_a.set_taborder("31");_a.set_cssclass("sta_WF_Labelbg");this.div_servc.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","0",null,"10","0",null,this.div_servc);_a.set_taborder("26");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_orderPlanDetailList","absolute","0","10","122","19",null,null,this.div_servc);_a.set_taborder("27");_a.set_text("발주계획상세내역");_a.set_cssclass("sta_WF_Title02");this.div_servc.addChild(_a.name,_a);_a=new Static("Static02","absolute","0","29",null,"5","0",null,this.div_servc);_a.set_taborder("28");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_servc.addChild(_a.name,_a);_a=new Static("Static03","absolute","0","164",null,"27","10",null,this.div_servc);_a.set_taborder("40");_a.set_cssclass("sta_WF_Labelbg");this.div_servc.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","138",null,"27","10",null,this.div_servc);_a.set_taborder("41");_a.set_cssclass("sta_WF_Labelbg");this.div_servc.addChild(_a.name,_a);_a=new Static("Static07","absolute","0","190",null,"27","10",null,this.div_servc);_a.set_taborder("42");_a.set_cssclass("sta_WF_Labelbg");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_orderPlanMt","absolute","0","60","100","27",null,null,this.div_servc);_a.set_taborder("43");_a.set_text("계획");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Edit("edt_bsnsCode","absolute","102","167","80","21",null,null,this.div_servc);_a.set_taborder("44");_a.set_readonly("true");_a.set_cssclass("edt_WF_Essential");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_bsnsNm","absolute","0","164","100","27",null,null,this.div_servc);_a.set_taborder("45");_a.set_text("사업명");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Edit("edt_bsnsNm","absolute","184","167","324","21",null,null,this.div_servc);_a.set_taborder("46");_a.set_readonly("true");_a.set_cssclass("edt_WF_Essential");this.div_servc.addChild(_a.name,_a);_a=new MaskEdit("msk_outsrcAmount","absolute","102","141","151","21",null,null,this.div_servc);_a.set_taborder("47");_a.set_mask("###,###,###,###,###");_a.set_limitbymask("both");_a.set_cssclass("msk_WF_Essential");_a.getSetter("maxlength").set("");_a.getSetter("inputtype").set("");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_outsrcAmount","absolute","0","138","100","27",null,null,this.div_servc);_a.set_taborder("48");_a.set_text("추정금액");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new MaskEdit("msk_thtiOdrOutsrcAm","absolute","357","141","151","21",null,null,this.div_servc);_a.set_taborder("49");_a.set_mask("###,###,###,###,###");_a.set_limitbymask("both");_a.set_cssclass("msk_WF_Essential");_a.getSetter("maxlength").set("");_a.getSetter("inputtype").set("");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_thtiOdrOutsrcAm","absolute","255","138","100","27",null,null,this.div_servc);_a.set_taborder("50");_a.set_text("금차도급액");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_orderDeptCharger","absolute","0","190","100","27",null,null,this.div_servc);_a.set_taborder("51");_a.set_text("담당자");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Edit("edt_orderEmpnm","absolute","192","193","86","21",null,null,this.div_servc);_a.set_taborder("52");_a.set_readonly("true");_a.set_cssclass("edt_WF_Essential");this.div_servc.addChild(_a.name,_a);_a=new Edit("edt_orderEmpno","absolute","102","193","88","21",null,null,this.div_servc);_a.set_taborder("53");_a.set_readonly("true");_a.set_cssclass("edt_WF_Essential");this.div_servc.addChild(_a.name,_a);_a=new Edit("edt_orderDept","absolute","382","193","126","21",null,null,this.div_servc);_a.set_taborder("54");_a.set_readonly("true");_a.set_cssclass("edt_WF_Readonly");this.div_servc.addChild(_a.name,_a);_a=new Button("btn_orderDeptChargerSearch","absolute","169","194","21","19",null,null,this.div_servc);_a.set_taborder("55");_a.set_cssclass("btn_WF_Search");this.div_servc.addChild(_a.name,_a);_a=new Button("btn_bsnsSearch","absolute","161","168","21","19",null,null,this.div_servc);_a.set_taborder("56");_a.set_cssclass("btn_WF_Search");this.div_servc.addChild(_a.name,_a);_a=new Combo("cmb_orderPlanMt","absolute","102","63","95","21",null,null,this.div_servc);this.div_servc.addChild(_a.name,_a);_a.set_taborder("57");_a.set_displaynulltext("선택");_a.set_innerdataset("ds_orderPlanMt");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_cssclass("cmb_WF_Essential");_a=new Static("sta_prcureMthdCode","absolute","255","86","100","27",null,null,this.div_servc);_a.set_taborder("58");_a.set_text("조달방식");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_cntrctMthSe","absolute","0","86","100","27",null,null,this.div_servc);_a.set_taborder("59");_a.set_text("계약방법");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Combo("cmb_cntrctMthSe","absolute","102","89","151","21",null,null,this.div_servc);this.div_servc.addChild(_a.name,_a);_a.set_taborder("60");_a.set_displaynulltext("선택");_a.set_innerdataset("ds_ctr049");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a=new Static("sta_cntrctKndCode","absolute","199","60","100","27",null,null,this.div_servc);_a.set_taborder("61");_a.set_text("종류");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Edit("edt_orderNm","absolute","102","115","406","21",null,null,this.div_servc);_a.set_taborder("62");_a.set_lengthunit("ascii");_a.set_maxlength("400");_a.set_cssclass("edt_WF_Essential");this.div_servc.addChild(_a.name,_a);_a=new Combo("cmb_cntrctKndCode","absolute","301","63","207","21",null,null,this.div_servc);this.div_servc.addChild(_a.name,_a);_a.set_taborder("63");_a.set_displaynulltext("선택");_a.set_innerdataset("ds_servcKnd");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_cssclass("cmb_WF_Essential");_a=new Static("sta_orderNm","absolute","0","112","100","27",null,null,this.div_servc);_a.set_taborder("64");_a.set_text("발주명");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Combo("cmb_prcureMthdCode","absolute","357","89","151","21",null,null,this.div_servc);this.div_servc.addChild(_a.name,_a);_a.set_taborder("65");_a.set_displaynulltext("선택");_a.set_innerdataset("ds_prcureMthd");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a=new Static("sta_orderDeptCharger00","absolute","280","190","100","27",null,null,this.div_servc);_a.set_taborder("68");_a.set_text("담당자 부서명");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_confmAt","absolute","0","34","100","27",null,null,this.div_servc);_a.set_taborder("70");_a.set_text("의뢰상태");_a.set_cssclass("sta_WF_Label");this.div_servc.addChild(_a.name,_a);_a=new Static("sta_title00","absolute","210","38","270","19",null,null,this.div_servc);_a.set_taborder("71");_a.set_text("(계약의뢰 승인 시, 수정하실 수 없습니다)");_a.style.set_color("blue");_a.style.set_padding("0 0 0 0");_a.style.set_font("bold 9 Gulim");this.div_servc.addChild(_a.name,_a);_a=new Combo("cmb_confmAt","absolute","102","37","95","21",null,null,this.div_servc);this.div_servc.addChild(_a.name,_a);_a.set_taborder("72");_a.set_readonly("true");_a.set_innerdataset("ds_com052");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_displayrowcount("12");_a.set_cssclass("cmb_WF_Readonly");_a.style.set_font("bold 9 Gulim");_a=new Grid("grd_orderBudget_t2","absolute","523",null,null,"183","0","0",this);_a.set_taborder("8");_a.set_binddataset("ds_orderBudget_t2");_a.set_cellsizingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"100\"/><Column size=\"320\"/><Column size=\"80\"/><Column size=\"150\"/><Column size=\"130\"/><Column size=\"130\"/><Column size=\"300\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"예산년도\"/><Cell col=\"1\" text=\"예산계정코드\"/><Cell col=\"2\" text=\"예산명\"/><Cell col=\"3\" text=\"부기코드\"/><Cell col=\"4\" text=\"부기명\"/><Cell col=\"5\" text=\"예산현액\"/><Cell col=\"6\" text=\"기집행금액\"/><Cell col=\"7\" text=\"비고\"/></Band><Band id=\"body\"><Cell text=\"bind:BUDGET_YEAR\"/><Cell col=\"1\" text=\"bind:BUDGET_ACNT_CODE\" expandshow=\"show\"/><Cell col=\"2\" style=\"align:left middle;\" text=\"bind:BUDGET_ACNT_NM\"/><Cell col=\"3\" text=\"bind:BUKIP_CODE\"/><Cell col=\"4\" style=\"align:left middle;\" text=\"bind:BUKIP_NM\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:right middle;\" text=\"bind:EXECUT_BUDGET_AMT\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right middle;\" text=\"bind:DECSN_AMOUNT\"/><Cell col=\"7\" edittype=\"expr:comp.parent.ableAt == '1' ? 'normal' : 'none'\" text=\"bind:RM\" editlimit=\"450\" editdisplay=\"expr:comp.parent.ableAt == '1' ? 'display' : 'edit'\" editlengthunit=\"utf8\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("sta_title","absolute","523",null,"100","19",null,"188",this);_a.set_taborder("9");_a.set_text("예산내역");_a.set_cssclass("sta_WF_Title03");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","523","445",null,"10","0",null,this);_a.set_taborder("10");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","523",null,null,"5","0","183",this);_a.set_taborder("11");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_bdgAdd","absolute",null,null,"64","19","134","188",this);_a.set_taborder("12");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Button("btn_bdgDelete","absolute",null,null,"64","19","67","188",this);_a.set_taborder("13");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_bdgCancel","absolute",null,null,"64","19","0","188",this);_a.set_taborder("14");_a.set_text("취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Static("Static03","absolute",null,"10","350","21","212",null,this);_a.set_taborder("15");_a.set_text("※ 발주 계획에 대한 예산내역을 입력하여 주십시오.");_a.style.set_border("0 solid #808080ff");_a.style.set_color("red");_a.style.set_align("right middle");_a.style.set_font("9 Gulim bold");this.addChild(_a.name,_a);_a=new Layout("default","",1031,142,this.div_servc,function(_b){_b.set_taborder("5");_b.set_text(".");});this.div_servc.addLayout(_a.name,_a);_a=new Layout("default","",1031,662,this,function(_b){_b.set_classname("CTR020200");_b.set_titletext("용역");});this.addLayout(_a.name,_a);_a=new BindItem("item7","edt_thtiOdrOutsrcAm","value","ds_orderPlan_t2","THTI_ODR_OUTSRC_AM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item5","edt_outsrcAmount","value","ds_orderPlan_t2","PRSMP_AMOUNT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item16","Div00.edt_bsnsCode","value","ds_orderPlan_t2","BSNS_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item18","Div00.edt_bsnsNm","value","ds_orderPlan_t2","BSNS_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item19","Div00.msk_outsrcAmount","value","ds_orderPlan_t2","PRSMP_AMOUNT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item20","Div00.msk_thtiOdrOutsrcAm","value","ds_orderPlan_t2","THTI_ODR_OUTSRC_AM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item21","Div00.edt_orderNo","value","ds_orderPlan_t2","ORDER_NO");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item22","Div00.edt_orderEmpnm","value","ds_orderPlan_t2","ORDER_EMPNM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item23","Div00.edt_orderEmpno","value","ds_orderPlan_t2","ORDER_DEPT_CHARGER");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item24","Div00.edt_orderDept","value","ds_orderPlan_t2","ORDER_DEPT_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item25","Div00.cmb_orderPlanMt","value","ds_orderPlan_t2","ORDER_PLAN_MT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item28","Div00.cmb_cntrctMthSe","value","ds_orderPlan_t2","CNTRCT_MTH_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item29","Div00.edt_orderNm","value","ds_orderPlan_t2","ORDER_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item30","Div00.cmb_cntrctKndCode","value","ds_orderPlan_t2","CNTRCT_KND_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item31","Div00.cmb_prcureMthdCode","value","ds_orderPlan_t2","PRCURE_MTHD_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_servc.edt_bsnsCode","value","ds_orderPlan_t2","BSNS_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_servc.edt_bsnsNm","value","ds_orderPlan_t2","BSNS_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item3","div_servc.msk_outsrcAmount","value","ds_orderPlan_t2","PRSMP_AMOUNT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item15","div_servc.msk_thtiOdrOutsrcAm","value","ds_orderPlan_t2","THTI_ODR_OUTSRC_AM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item14","div_servc.edt_orderEmpnm","value","ds_orderPlan_t2","ORDER_EMPNM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item13","div_servc.edt_orderEmpno","value","ds_orderPlan_t2","ORDER_DEPT_CHARGER");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item12","div_servc.edt_orderDept","value","ds_orderPlan_t2","ORDER_DEPT_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","div_servc.cmb_orderPlanMt","value","ds_orderPlan_t2","ORDER_PLAN_MT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item10","div_servc.cmb_cntrctMthSe","value","ds_orderPlan_t2","CNTRCT_MTH_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","div_servc.edt_orderNm","value","ds_orderPlan_t2","ORDER_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item9","div_servc.cmb_cntrctKndCode","value","ds_orderPlan_t2","CNTRCT_KND_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item17","div_servc.cmb_prcureMthdCode","value","ds_orderPlan_t2","PRCURE_MTHD_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item6","div_servc.cmb_confmAt","value","ds_orderPlan_t2","CONFM_AT");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("CTR020200_T03.xfdl","lib::comInclude.xjs");this.registerScript("CTR020200_T03.xfdl",function(){this.isAdmin=false;this.ableAt='0';this.CTR020200_T03_onload=function(_a,_b){if(this.gfn_authGrpId("CTR_ADMIN")!= -1){this.isAdmin=true;}};this.grd_orderPlanServcList_oncellclick=function(_a,_b){};this.btn_add_onclick=function(_a,_b){var _c=this.parent.parent.ds_orderPlan_t2.addRow();this.parent.parent.ds_orderPlan_t2.setColumn(_c,"ORDER_PLAN_YEAR",this.parent.parent.ds_cond.getColumn(0,"ORDER_PLAN_YEAR"));this.parent.parent.ds_orderPlan_t2.setColumn(_c,"CNTRCT_SE_CODE","2");this.parent.parent.ds_orderPlan_t2.setColumn(_c,"ORDER_DEPT_CHARGER",this.gfn_getEmpNo());this.parent.parent.ds_orderPlan_t2.setColumn(_c,"ORDER_EMPNM",this.gfn_getUserName());this.parent.parent.ds_orderPlan_t2.setColumn(_c,"ORDER_DEPT_CODE",this.gfn_getDeptId());this.parent.parent.ds_orderPlan_t2.setColumn(_c,"ORDER_DEPT_NM",this.gfn_getDeptName());};this.btn_delete_onclick=function(_a,_b){var _c=this.parent.parent.ds_orderPlan_t2.rowposition;var _d=this.parent.parent.ds_orderPlan_t2.getColumn(_c,"ABLE_AT");if(_d=='0'){alert("의뢰가 승인된 건은 변경할 수 없습니다.");return false;}if(!this.gfn_message("confirm.삭제여부")){return false;}this.parent.parent.ds_orderPlan_t2.deleteRow(this.parent.parent.ds_orderPlan_t2.rowposition);};this.btn_cancel_onclick=function(_a,_b){if(Ex.util.isUpdated(this.parent.parent.ds_orderPlan_t2)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.parent.parent.ds_orderPlan_t2.reset();this.parent.parent.ds_orderPlan_t2.applyChange();};this.grd_orderBudget_t2_onexpandup=function(_a,_b){if(_b.cell=='1'){var _c=this.parent.parent.ds_orderPlan_t2.rowposition;var _d=this.parent.parent.ds_orderPlan_t2.getColumn(_c,"ORDER_DEPT_CODE");var _e=this.parent.parent.ds_orderPlan_t2.getColumn(_c,"ORDER_DEPT_NM");var _f=this.parent.parent.ds_orderPlan_t2.getColumn(_c,"BSNS_CODE");var _g=this.parent.parent.ds_orderPlan_t2.getColumn(_c,"BSNS_NM");var _h=this.parent.parent.ds_orderPlan_t2.getOrgColumn(_c,"ORDER_DEPT_CODE");var _i=this.parent.parent.ds_orderPlan_t2.getOrgColumn(_c,"BSNS_CODE");if(_d!=_h){var _j="부서 변경 시 예산을 선택하실 수 없습니다."+"\n";_j+="변경하신 부서를 저장하신 후 진행해주시기 바랍니다.";alert(_j);return false;}if(_f!=_i){var _j="사업 변경 시 예산을 선택하실 수 없습니다."+"\n";_j+="변경하신 사업을 저장하신 후 진행해주시기 바랍니다.";alert(_j);return false;}var _k={arg_0:this,deptCode:_d,deptNm:_e,bsnsCode:_f,bsnsNm:_g};this.gfn_popup("CTR020100_P03",1024,500,"",_k,"mis_ctr::CTR020100_P03.xfdl","fn_popupCallBack",true);}};this.btn_bdgAdd_onclick=function(_a,_b){var _c=this.parent.parent.ds_orderPlan_t2.rowposition;var _d=this.parent.parent.ds_orderPlan_t2.getColumn(_c,"ORDER_PLAN_YEAR");var _e=this.parent.parent.ds_orderPlan_t2.getColumn(_c,"ORDER_PLAN_SN");if(_c<0){this.gfn_message("info.처리불가","발주계획이 존재하지 않습니다.");return false;}var _f=this.parent.parent.ds_orderBudget_t2.addRow();this.parent.parent.ds_orderBudget_t2.setColumn(_f,"ORDER_PLAN_YEAR",_d);this.parent.parent.ds_orderBudget_t2.setColumn(_f,"ORDER_PLAN_SN",_e);};this.btn_bdgDelete_onclick=function(_a,_b){var _c=this.parent.parent.ds_orderBudget_t2.rowposition;if(_c<0){this.gfn_message("info.처리불가","예산내역이 존재하지 않습니다..");return false;}if(!this.gfn_message("confirm.삭제여부")){return false;}this.parent.parent.ds_orderBudget_t2.deleteRow(this.parent.parent.ds_orderBudget_t2.rowposition);};this.btn_bdgCancel_onclick=function(_a,_b){if(Ex.util.isUpdated(this.parent.parent.ds_orderBudget_t2)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.parent.parent.ds_orderBudget_t2.reset();this.parent.parent.ds_orderBudget_t2.applyChange();};this.btn_bsnsSearch_onclick=function(_a,_b){var _c=this.parent.parent.ds_orderPlan_t2.getRowType(this.parent.parent.ds_orderPlan_t2.rowposition);if(_c==1||_c==2||_c==4){var _d=this.parent.parent.ds_cond.getColumn(0,"ORDER_PLAN_YEAR");var _e={arg_0:this,year:_d};this.gfn_popup("popBsns",500,465,"사업코드 선택",_e,"mis_acc::ACC000000_P04.xfdl","fn_popupCallBack",true);}};this.btn_orderDeptChargerSearch_onclick=function(_a,_b){var _c=this.parent.parent.ds_orderPlan_t2.getRowType(this.parent.parent.ds_orderPlan_t2.rowposition);if(_c==1||_c==2||_c==4){var _d={arg_0:this};this.gfn_popup("popEmpInfo",500,465,"사원 선택",_d,"com::empno_P01.xfdl","fn_popupCallBack",true);}};this.fn_popupCallBack=function(_a,_b){if(_a=="popBsns"){var _c=new Dataset();var _d=_c.loadXML(_b);if(_d){var _e=_c.getColumn(0,"BSNS_CODE");var _f=_c.getColumn(0,"BSNS_NM");this.div_servc.edt_bsnsCode.set_value(_e);this.div_servc.edt_bsnsNm.set_value(_f);}}if(_a=="popEmpInfo"){var _c=new Dataset();var _d=_c.loadXML(_b);if(_d){var _g=_c.getColumn(0,"EMPNM");var _h=_c.getColumn(0,"EMPNO");var _i=_c.getColumn(0,"DEPT_NM");var _j=_c.getColumn(0,"DEPT_CODE");this.div_servc.edt_orderEmpnm.set_value(_g);this.div_servc.edt_orderEmpno.set_value(_h);this.div_servc.edt_orderDept.set_value(_i);var _k=this.parent.parent.ds_orderPlan_t2.rowposition;this.parent.parent.ds_orderPlan_t2.setColumn(_k,"ORDER_DEPT_CODE",_j);}}if(_a=="CTR020100_P03"){var _c=new Dataset();var _d=_c.loadXML(_b);if(_d){var _l=this.parent.parent.ds_orderBudget_t2.rowposition;this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BUDGET_YEAR",_c.getColumn(0,"YEAR"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BSNS_SE",_c.getColumn(0,"BSNS_SE"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BALC_SE",_c.getColumn(0,"BALC_SE"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BSNS_CODE",_c.getColumn(0,"BSNS_CODE"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"DEPT_CODE",_c.getColumn(0,"DEPT_CODE"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BUDGET_ACNT_CODE",_c.getColumn(0,"BUDGET_ACNT_CODE"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BUDGET_ACNT_NM",_c.getColumn(0,"BUDGET_ACNT_NM"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BUKIP_CODE",_c.getColumn(0,"BUKIP_CODE"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"BUKIP_NM",_c.getColumn(0,"BUKIP_NM"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"EXECUT_BUDGET_AMT",_c.getColumn(0,"EXECUT_BUDGET_AMT"));this.parent.parent.ds_orderBudget_t2.setColumn(_l,"DECSN_AMOUNT",_c.getColumn(0,"DECSN_AMOUNT"));}}};});this.on_initEvent=function(){this.addEventHandler("onload",this.CTR020200_T03_onload,this);this.btn_add.addEventHandler("onclick",this.btn_add_onclick,this);this.btn_delete.addEventHandler("onclick",this.btn_delete_onclick,this);this.btn_cancel.addEventHandler("onclick",this.btn_cancel_onclick,this);this.grd_orderPlanServcList.addEventHandler("oncellclick",this.grd_orderPlanServcList_oncellclick,this);this.div_servc.btn_orderDeptChargerSearch.addEventHandler("onclick",this.btn_orderDeptChargerSearch_onclick,this);this.div_servc.btn_bsnsSearch.addEventHandler("onclick",this.btn_bsnsSearch_onclick,this);this.grd_orderBudget_t2.addEventHandler("onexpandup",this.grd_orderBudget_t2_onexpandup,this);this.Static01.addEventHandler("onclick",this.Static00_onclick,this);this.btn_bdgAdd.addEventHandler("onclick",this.btn_bdgAdd_onclick,this);this.btn_bdgDelete.addEventHandler("onclick",this.btn_bdgDelete_onclick,this);this.btn_bdgCancel.addEventHandler("onclick",this.btn_bdgCancel_onclick,this);};this.loadIncludeScript("CTR020200_T03.xfdl");};})();