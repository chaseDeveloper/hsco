(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("HRM010304");this.set_classname("");this.set_titletext("정원관리");this._setFormPosition(0,0,1059,735);}this.getSetter("inheritanceid").set("");_a=new Dataset("DS_PSNCPA_MST",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"STDR_DE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("DS_COND",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"APPLC_BGNDE1\" type=\"STRING\" size=\"256\"/><Column id=\"APPLC_BGNDE2\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("DS_PSNCPA_LIST",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"STDR_DE\" type=\"STRING\" size=\"256\"/><Column id=\"PSNCPA_SE\" type=\"STRING\" size=\"256\"/><Column id=\"EMP_SE\" type=\"STRING\" size=\"256\"/><Column id=\"JSSFC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CLSF_SE\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("DS_COND_DTL",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"STDR_DE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_jssfcSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/><Column id=\"VAL1\" type=\"STRING\" size=\"256\"/><Column id=\"VAL2\" type=\"STRING\" size=\"256\"/><Column id=\"VAL3\" type=\"STRING\" size=\"256\"/><Column id=\"VAL4\" type=\"STRING\" size=\"256\"/><Column id=\"INT_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"MSTK_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"ETC1\" type=\"STRING\" size=\"256\"/><Column id=\"ETC2\" type=\"STRING\" size=\"256\"/><Column id=\"ETC3\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_clsfSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/><Column id=\"VAL1\" type=\"STRING\" size=\"256\"/><Column id=\"VAL2\" type=\"STRING\" size=\"256\"/><Column id=\"VAL3\" type=\"STRING\" size=\"256\"/><Column id=\"VAL4\" type=\"STRING\" size=\"256\"/><Column id=\"INT_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"MSTK_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"ETC1\" type=\"STRING\" size=\"256\"/><Column id=\"ETC2\" type=\"STRING\" size=\"256\"/><Column id=\"ETC3\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_empSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/><Column id=\"VAL1\" type=\"STRING\" size=\"256\"/><Column id=\"VAL2\" type=\"STRING\" size=\"256\"/><Column id=\"VAL3\" type=\"STRING\" size=\"256\"/><Column id=\"VAL4\" type=\"STRING\" size=\"256\"/><Column id=\"INT_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"MSTK_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"ETC1\" type=\"STRING\" size=\"256\"/><Column id=\"ETC2\" type=\"STRING\" size=\"256\"/><Column id=\"ETC3\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_psncpaSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/><Column id=\"VAL1\" type=\"STRING\" size=\"256\"/><Column id=\"VAL2\" type=\"STRING\" size=\"256\"/><Column id=\"VAL3\" type=\"STRING\" size=\"256\"/><Column id=\"VAL4\" type=\"STRING\" size=\"256\"/><Column id=\"INT_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"MSTK_VAL\" type=\"STRING\" size=\"256\"/><Column id=\"ETC1\" type=\"STRING\" size=\"256\"/><Column id=\"ETC2\" type=\"STRING\" size=\"256\"/><Column id=\"ETC3\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">DS_PSNCPA_LIST</Col><Col id=\"colId\">PSNCPA_SE</Col><Col id=\"PK\">Y</Col><Col id=\"msgId\">정원구분</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"compId\">DS_PSNCPA_LIST</Col><Col id=\"colId\">EMP_SE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">직원구분</Col><Col id=\"PK\">Y</Col><Col id=\"to\"/></Row><Row><Col id=\"compId\">DS_PSNCPA_LIST</Col><Col id=\"colId\">JSSFC_SE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">직종</Col><Col id=\"from\"/><Col id=\"PK\">Y</Col></Row><Row><Col id=\"compId\">DS_PSNCPA_LIST</Col><Col id=\"colId\">CLSF_SE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">직급</Col><Col id=\"PK\">Y</Col></Row><Row><Col id=\"compId\">DS_PSNCPA_LIST</Col><Col id=\"colId\">RM</Col><Col id=\"PK\">N</Col><Col id=\"notNull\">N</Col><Col id=\"nlength\">200</Col><Col id=\"lengthChkGb\">LE</Col><Col id=\"msgId\">비고</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("DS_COND_COPY",this);_a._setContents("<ColumnInfo><Column id=\"STDR_DE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_WORK","absolute","0","66",null,null,"28","0",this);_a.set_taborder("37");_a.style.set_background("#00000000");_a.set_scrollbars("none");this.addChild(_a.name,_a);_a=new Grid("grd_PSNCPA_MST","absolute","0","0","215",null,null,"0",this.div_WORK);_a.set_taborder("0");_a.set_binddataset("DS_PSNCPA_MST");_a.set_autofittype("col");_a.set_autoenter("select");_a.set_treeinitstatus("expand,null");_a.set_treeusecheckbox("false");_a.set_treeuseimage("true");_a.set_treeuseline("true");_a.set_treeuseexpandkey("true");_a.set_cellmovingtype("none");_a.set_autosizingtype("none");_a.set_autosizebandtype("head");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"50\"/><Column size=\"115\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"개정일자\"/></Band><Band id=\"body\"><Cell expr=\"expr:currow + 1\"/><Cell col=\"1\" displaytype=\"date\" edittype=\"expr:(dataset.getRowType(currow) == 2) ? 'date' : 'none'\" text=\"bind:STDR_DE\" calendardisplaynulltype=\"none\"/></Band></Format></Formats>");this.div_WORK.addChild(_a.name,_a);_a=new Grid("grd_PSNCPA_DTL","absolute","228","0",null,null,"0","0",this.div_WORK);_a.set_taborder("1");_a.set_binddataset("DS_PSNCPA_LIST");_a.set_autoenter("select");_a.set_treeusecheckbox("false");_a.set_treeinitstatus("expand,null");_a.set_treeuseexpandkey("true");_a.set_cssclass("grd02_WF_blue");_a.set_summarytype("top");_a.set_selecttype("cell");_a.set_autosizingtype("none");_a.set_cellsizingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"50\" band=\"left\"/><Column size=\"115\"/><Column size=\"115\"/><Column size=\"115\"/><Column size=\"115\"/><Column size=\"230\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" style=\"line: ;\" text=\"정원구분\"/><Cell col=\"2\" style=\"line: ;\" text=\"직원구분\"/><Cell col=\"3\" style=\"line: ;\" text=\"직종\"/><Cell col=\"4\" style=\"line: ;\" text=\"직급\"/><Cell col=\"5\" style=\"line: ;\" text=\"비고\"/></Band><Band id=\"body\"><Cell celltype=\"head\" expr=\"expr:currow + 1\"/><Cell col=\"1\" displaytype=\"combo\" edittype=\"expr:(dataset.getRowType(currow) == 2) ? 'combo' : 'none'\" style=\"font: ;\" text=\"bind:PSNCPA_SE\" combodataset=\"ds_psncpaSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"display\"/><Cell col=\"2\" displaytype=\"combo\" edittype=\"expr:(dataset.getRowType(currow) == 2) ? 'combo' : 'none'\" style=\"line: ;\" text=\"bind:EMP_SE\" editautoselect=\"true\" editlimitbymask=\"both\" combodataset=\"ds_empSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"display\"/><Cell col=\"3\" displaytype=\"combo\" edittype=\"expr:(dataset.getRowType(currow) == 2) ? 'combo' : 'none'\" style=\"line: ;\" text=\"bind:JSSFC_SE\" editautoselect=\"true\" editlimitbymask=\"both\" combodataset=\"ds_jssfcSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"display\"/><Cell col=\"4\" displaytype=\"combo\" edittype=\"expr:(dataset.getRowType(currow) == 2) ? 'combo' : 'none'\" style=\"line: ;\" text=\"bind:CLSF_SE\" editautoselect=\"true\" editlimitbymask=\"both\" combodataset=\"ds_clsfSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"display\"/><Cell col=\"5\" displaytype=\"text\" edittype=\"text\" style=\"align:left middle;padding:0 0 0 5;\" text=\"bind:RM\" editautoselect=\"true\" editlimitbymask=\"both\" editlengthunit=\"utf8\"/></Band></Format></Formats>");this.div_WORK.addChild(_a.name,_a);_a=new Button("btn_excelDown","absolute",null,"-20","16","18","117",null,this.div_WORK);_a.set_taborder("2");_a.set_cssclass("btn_excelDown_iconBtn");this.div_WORK.addChild(_a.name,_a);_a=new Div("div_SEARCH","absolute","0","0",null,"33","28",null,this);_a.set_taborder("29");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_DEPT_DE","absolute","15","5","88","20",null,null,this.div_SEARCH);_a.set_taborder("1");_a.set_text("조회기간");_a.style.set_align("left middle");_a.style.set_font("bold 9 Dotum");_a.set_cssclass("sta_WFSA_Label");this.div_SEARCH.addChild(_a.name,_a);_a=new Static("Static03","absolute","0","0","15","31",null,null,this.div_SEARCH);_a.set_taborder("2");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_SEARCH.addChild(_a.name,_a);_a=new Calendar("cal_fdate","absolute","78","5","100","21",null,null,this.div_SEARCH);this.div_SEARCH.addChild(_a.name,_a);_a.set_taborder("0");_a.set_dateformat("yyyy-MM-dd");_a.set_value("null");_a=new Static("Static01","absolute","178","5","26","21",null,null,this.div_SEARCH);_a.set_taborder("10");_a.set_text("~");_a.style.set_align("center middle");this.div_SEARCH.addChild(_a.name,_a);_a=new Calendar("cal_tdate","absolute","203","5","100","21",null,null,this.div_SEARCH);this.div_SEARCH.addChild(_a.name,_a);_a.set_taborder("1");_a.set_dateformat("yyyy-MM-dd");_a.set_value("null");_a=new Static("Static08","absolute","0","33",null,"10","28",null,this);_a.set_taborder("45");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","43",null,"21","845",null,this);_a.set_taborder("46");_a.set_text("정원표 목록");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","62",null,"5","28",null,this);_a.set_taborder("47");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","228","43","108","21",null,null,this);_a.set_taborder("48");_a.set_text("정원 기준내역");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Button("btn_excel","absolute",null,"43","25","19","28",null,this);_a.set_taborder("49");_a.set_cssclass("btn_WF_Gridexceldn");this.addChild(_a.name,_a);_a=new Button("btn_baseCopy","absolute",null,"43","90","19","257",null,this);_a.set_taborder("213");_a.set_text("정원기준 복사");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Button("btn_rowInsert","absolute",null,"43","64","19","190",null,this);_a.set_taborder("50");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Button("btn_rowDelete","absolute",null,"43","64","19","123",null,this);_a.set_taborder("51");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_rowCancel","absolute",null,"43","64","19","56",null,this);_a.set_taborder("52");_a.set_text("행취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.div_WORK,function(_b){_b.set_taborder("37");_b.style.set_background("#00000000");_b.set_scrollbars("none");});this.div_WORK.addLayout(_a.name,_a);_a=new Layout("default","",1031,33,this.div_SEARCH,function(_b){_b.set_taborder("29");_b.set_cssclass("div_WFSA_Box");});this.div_SEARCH.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("");_b.getSetter("inheritanceid").set("");_b.set_titletext("정원관리");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_SEARCH.cal_fdate","value","DS_COND","APPLC_BGNDE1");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_SEARCH.cal_tdate","value","DS_COND","APPLC_BGNDE2");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("HRM010304.xfdl","lib::comInclude.xjs");this.addIncludeScript("HRM010304.xfdl","mis_lib::misUtil.xjs");this.registerScript("HRM010304.xfdl",function(){this.nRowPos= -1;this.sDelMode="";this.HRM010304_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.HRM010304_onload=function(_a,_b){var _c=this.Today().substr(0,4)+'0101';this.div_SEARCH.cal_fdate.set_value(_c);this.div_SEARCH.cal_tdate.set_value(this.Today());this.fn_loadCombo();this.fn_search();};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);};this.fn_loadCombo=function(){var _a=[["ds_jssfcSe","HRM001","1",""],["ds_clsfSe","HRM002","1",""],["ds_psncpaSe","HRM275","1",""],["ds_empSe","HRM276","1",""],];this.gfn_comboLoad(_a,"");};this.fn_search=function(){this.DS_PSNCPA_MST.clearData();this.DS_PSNCPA_LIST.clearData();this.fn_transaction("mainSearchList");};this.fn_save=function(){if(!this.gfn_checkValidation_NoUpdChk(this.DS_PSNCPA_LIST,this.ds_validation)){return;}if(this.sDelMode=="Y"&&Ex.util.isUpdated(this.DS_PSNCPA_MST)){if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("detailD");}}else if(Ex.util.isUpdated(this.DS_PSNCPA_LIST)){if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("detailCUD");}}};this.fn_search_dtl=function(){this.DS_PSNCPA_LIST.clearData();this.fn_transaction("detailR");};this.fn_transaction=function(_a){switch(_a){case "mainSearchList":var _b="mainSearchList";var _c="hsco/mis/hrm/HRM010304/mainSearchList.do";var _d="input1=DS_COND";var _e="DS_PSNCPA_MST=output1";break;case "detailR":var _c="hsco/mis/hrm/HRM010304/detailR.do";var _d="input1=DS_COND_DTL";var _e="DS_PSNCPA_LIST=output1";break;case "detailCUD":var _c="hsco/mis/hrm/HRM010304/detailCUD.do";var _d="input1=DS_PSNCPA_LIST:U";var _e="";break;case "detailD":var _c="hsco/mis/hrm/HRM010304/detailD.do";var _d="input1=DS_PSNCPA_MST:U";var _e="";break;case "copyData":var _c="hsco/mis/hrm/HRM010304/copyData.do";var _d="input1=DS_COND_COPY";var _e="";break;}Ex.core.tran(this,_a,_c,_d,_e);};this.fn_callBack=function(_a,_b,_c){if(_b!='0'){this.gfn_callback_message(_a,_b,_c);}if(_b=='0'){switch(_a){case "mainSearchList":if(this.nRowPos> -1){this.nRowPos= -1;}break;case "detailR":break;case "detailCUD":this.nRowPos=this.DS_PSNCPA_MST.rowposition;this.fn_search();break;case "detailD":this.sDelMode="";break;case "copyData":this.fn_search();break;}}};this.fn_insert=function(){var _a=this.DS_PSNCPA_MST.addRow();};this.fn_delete=function(){var _a=this.DS_PSNCPA_MST.rowposition;var _b=this.DS_PSNCPA_MST.getRowType(_a);var _c=this.DS_PSNCPA_LIST.rowcount;if(_c>0){if(this.gfn_message("confirm.자식데이터.삭제여부","선택한 개정일자|정원 기준내역")){this.DS_PSNCPA_MST.deleteRow(_a);}}else{this.DS_PSNCPA_MST.deleteRow(_a);}this.sDelMode='Y';};this.fn_cancel=function(){if(this.gfn_message("confirm.변경.취소.여부")){this.DS_PSNCPA_MST.reset();this.DS_PSNCPA_MST.applyChange();this.DS_PSNCPA_LIST.reset();this.DS_PSNCPA_LIST.applyChange();sDelMode='';return;}};this.btn_excel_onclick=function(_a,_b){this.gfn_exportExcel(this.div_WORK.grd_PSNCPA_DTL,"exportExl");};this.DS_PSNCPA_MST_onrowposchanged=function(_a,_b){var _c=this.DS_PSNCPA_MST.rowposition;var _d=this.DS_PSNCPA_MST.getRowType(_c);if(_d==2){this.DS_COND_DTL.clearData();this.DS_PSNCPA_LIST.clearData();}else{this.DS_COND_DTL.clearData();this.DS_COND_DTL.addRow();this.DS_COND_DTL.setColumn(0,"STDR_DE",this.DS_PSNCPA_MST.getColumn(_c,"STDR_DE"));this.fn_search_dtl();}};this.DS_PSNCPA_MST_onrowsetchanged=function(_a,_b){var _c=this.DS_PSNCPA_MST.rowposition;var _d=this.DS_PSNCPA_MST.getRowType(_c);if(_d==8){this.DS_COND_DTL.clearData();this.DS_COND_DTL.addRow();this.DS_COND_DTL.setColumn(0,"STDR_DE",this.DS_PSNCPA_MST.getColumn(_c,"STDR_DE"));this.fn_search_dtl();}};this.Today=function(){var _a="";var _b=new Date();var _a=_b.getFullYear()+"";var _c=_b.getMonth()+1;var _d=_b.getDate();if(_c.toString().length==1){_c="0"+_c;}if(_d.toString().length==1){_d="0"+_d;}_a=_a+_c+_d;return _a;};this.div_WORK_grd_PSNCPA_DTL_onkeydown=function(_a,_b){if(_b.keycode==13){var _c=_a.moveToNextCell();}};this.div_WORK_grd_PSNCPA_DTL_onheadclick=function(_a,_b){this.gfn_gridSort(_a,_b);};this.btn_rowInsert_onclick=function(_a,_b){var _c=this.DS_PSNCPA_MST.rowposition;var _d=this.DS_PSNCPA_MST.getColumn(_c,"STDR_DE");if(this.comUtils.isNotNull(_d)){var _e=this.DS_PSNCPA_LIST.addRow();this.DS_PSNCPA_LIST.setColumn(_e,"STDR_DE",_d);}else{this.gfn_message("info.처리불가","기준내역 등록할 개정일자를 선택해 주세요.");return false;}};this.btn_rowDelete_onclick=function(_a,_b){var _c=this.DS_PSNCPA_LIST.rowposition;if(_c!= -1){if(this.gfn_message("confirm.삭제여부")){this.DS_PSNCPA_LIST.deleteRow(_c);}}else{this.gfn_message("info.처리불가","삭제할 행이 없습니다.");return false;}};this.btn_rowCancel_onclick=function(_a,_b){if(Ex.util.isUpdated(this.DS_PSNCPA_LIST)){if(!application.confirm("저장하지 않은 데이터가 존재합니다.\n현재 작업을 취소하시겠습니까?")){return false;}}this.DS_PSNCPA_LIST.reset();};this.btn_baseCopy_onclick=function(_a,_b){var _c=this.DS_PSNCPA_MST.rowposition;var _d=this.DS_PSNCPA_MST.getRowType(_c);var _e=this.DS_PSNCPA_MST.getColumn(_c,"STDR_DE");if(_d!=2){this.gfn_message("info.처리불가","신규 추가된 행이 아닙니다.");return false;}if(this.comUtils.isNull(_e)){this.gfn_message("info.처리불가","기준내역 등록할 개정일자를 입력해 주세요.");return false;}if(this.gfn_message("confirm.복사.여부","이전 기준내역 일자|현재 입력된 개정일")){this.DS_COND_COPY.addRow();this.DS_COND_COPY.setColumn(0,"STDR_DE",_e);this.fn_transaction("copyData");}};});this.on_initEvent=function(){this.DS_PSNCPA_MST.addEventHandler("onrowposchanged",this.DS_PSNCPA_MST_onrowposchanged,this);this.DS_PSNCPA_MST.addEventHandler("onrowsetchanged",this.DS_PSNCPA_MST_onrowsetchanged,this);this.addEventHandler("onload",this.HRM010304_onload,this);this.addEventHandler("oninit",this.HRM010304_oninit,this);this.div_WORK.grd_PSNCPA_DTL.addEventHandler("onkeydown",this.div_WORK_grd_PSNCPA_DTL_onkeydown,this);this.div_WORK.grd_PSNCPA_DTL.addEventHandler("onheadclick",this.div_WORK_grd_PSNCPA_DTL_onheadclick,this);this.btn_excel.addEventHandler("onclick",this.btn_excel_onclick,this);this.btn_baseCopy.addEventHandler("onclick",this.btn_baseCopy_onclick,this);this.btn_rowInsert.addEventHandler("onclick",this.btn_rowInsert_onclick,this);this.btn_rowDelete.addEventHandler("onclick",this.btn_rowDelete_onclick,this);this.btn_rowCancel.addEventHandler("onclick",this.btn_rowCancel_onclick,this);};this.loadIncludeScript("HRM010304.xfdl");};})();