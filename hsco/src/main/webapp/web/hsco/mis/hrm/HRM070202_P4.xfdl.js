(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("HRM070202_P4");this.set_classname("HRM070202_P2");this.set_titletext("동승자조회팝업");this._setFormPosition(0,0,990,498);}_a=new Dataset("ds_cond",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"BGNDE\" type=\"STRING\" size=\"256\"/><Column id=\"ENDDE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"WHTHRC_AT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_carAlcFlwpsgList",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"FLWPSG_EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"FLWPSG_DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BSRP_EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"BSRP_SEQ\" type=\"STRING\" size=\"256\"/><Column id=\"DSTN_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BSRP_PURPS\" type=\"STRING\" size=\"256\"/><Column id=\"BSRP_BGNDE\" type=\"STRING\" size=\"256\"/><Column id=\"BSRP_BEGIN_TM\" type=\"STRING\" size=\"256\"/><Column id=\"BSRP_ENDDE\" type=\"STRING\" size=\"256\"/><Column id=\"BSRP_END_TM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"colId\">BGNDE</Col><Col id=\"msgId\">조회시작일</Col><Col id=\"lengthChkGb\"/><Col id=\"nlength\"/><Col id=\"compId\">ds_cond</Col><Col id=\"notNull\">Y</Col><Col id=\"from\"/><Col id=\"to\"/><Col id=\"expr\"/></Row><Row><Col id=\"colId\">ENDDE</Col><Col id=\"msgId\">조회종료일</Col><Col id=\"lengthChkGb\"/><Col id=\"nlength\"/><Col id=\"compId\">ds_cond</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">ENDDE</Col><Col id=\"msgId\">조회기간 종료일^조회기간 시작일</Col><Col id=\"from\">BGNDE</Col><Col id=\"expr\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Button("btn_close01","absolute",null,"6","20","20","13",null,this);_a.set_taborder("22");_a.set_cssclass("btn_WF_PopupClose");this.addChild(_a.name,_a);_a=new Static("Static02","absolute",null,"0","15",null,"0","2",this);_a.set_taborder("23");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static06","absolute","15","0",null,"15","15",null,this);_a.set_taborder("24");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_close02","absolute",null,"15","50","25","15",null,this);_a.set_taborder("26");_a.set_text("종료");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","0","15",null,null,"2",this);_a.set_taborder("75");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static07","absolute","15","40",null,"5","15",null,this);_a.set_taborder("79");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","15",null,null,"15","15","0",this);_a.set_taborder("117");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_title","absolute","17","17","197","21",null,null,this);_a.set_taborder("118");_a.set_text("동승자 대상 인원 현황123");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","15","78",null,"5","15",null,this);_a.set_taborder("121");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","15","45",null,"33","15",null,this);_a.set_taborder("122");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Div("div_DeptComp","absolute","436","5","170","21",null,null,this.div_search);_a.set_taborder("25");_a.set_async("false");_a.set_url("com::deptCode.xfdl");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_empnm","absolute","698","5","122","21",null,null,this.div_search);_a.set_taborder("26");this.div_search.addChild(_a.name,_a);_a=new Static("sta_empno","absolute","621","5","77","21",null,null,this.div_search);_a.set_taborder("27");_a.set_text("대상자성명");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("sta_dept","absolute","359","5","77","21",null,null,this.div_search);_a.set_taborder("28");_a.set_text("대상자부서");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","614","0","15","33",null,null,this.div_search);_a.set_taborder("29");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("sta_gnfdDe","absolute","15","6","90","19",null,null,this.div_search);_a.set_taborder("30");_a.set_text("조회출장기간");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_bgnde1","absolute","105","6","110","19",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("31");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a=new Static("Static04","absolute","215","6","18","19",null,null,this.div_search);_a.set_taborder("32");_a.set_text("~");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_bgnde2","absolute","233","6","110","19",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("33");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a=new Static("Static01","absolute","100","0","5","33",null,null,this.div_search);_a.set_taborder("34");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","344","0","15","33",null,null,this.div_search);_a.set_taborder("35");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Button("Button02","absolute",null,"15","50","25","68",null,this);_a.set_taborder("124");_a.set_text("조회");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Grid("grd_caralcFlwpsg","absolute","15","83",null,null,"15","15",this);_a.set_taborder("125");_a.set_binddataset("ds_carAlcFlwpsgList");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"120\"/><Column size=\"75\"/><Column size=\"100\"/><Column size=\"150\"/><Column size=\"300\"/><Column size=\"80\"/><Column size=\"55\"/><Column size=\"80\"/><Column size=\"55\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"소속\"/><Cell col=\"1\" text=\"사번\"/><Cell col=\"2\" text=\"성명\"/><Cell col=\"3\" text=\"목적지\"/><Cell col=\"4\" text=\"출장목적\"/><Cell col=\"5\" colspan=\"2\" text=\"출장시작일시\"/><Cell col=\"7\" colspan=\"2\" text=\"출장종료일시\"/></Band><Band id=\"body\"><Cell displaytype=\"normal\" text=\"bind:DEPT_NM\" suppress=\"0\"/><Cell col=\"1\" text=\"bind:FLWPSG_EMPNO\"/><Cell col=\"2\" style=\"align: ;\" text=\"bind:EMPNM\"/><Cell col=\"3\" cssclass=\"Cellgrd_WF_AlignLeft\" text=\"bind:DSTN_NM\" tooltiptext=\"bind:DSTN_NM\"/><Cell col=\"4\" cssclass=\"Cellgrd_WF_AlignLeft\" text=\"bind:BSRP_PURPS\" tooltiptext=\"bind:BSRP_PURPS\"/><Cell col=\"5\" displaytype=\"date\" text=\"bind:BSRP_BGNDE\" calendardisplaynulltype=\"none\"/><Cell col=\"6\" text=\"bind:BSRP_BEGIN_TM\" mask=\"##:##\"/><Cell col=\"7\" displaytype=\"date\" text=\"bind:BSRP_ENDDE\" calendardisplaynulltype=\"none\"/><Cell col=\"8\" text=\"bind:BSRP_END_TM\" mask=\"##:##\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("122");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",990,498,this,function(_b){_b.set_classname("HRM070202_P2");_b.set_titletext("동승자조회팝업");});this.addLayout(_a.name,_a);_a=new BindItem("item3","mae_SANCTN_RECOM_DE","value","DS_WRKCP","DRFT_DT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.edt_empnm","value","ds_cond","SRCH_EMPNM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","div_search.cal_bgnde1","value","ds_cond","BGNDE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_search.cal_bgnde2","value","ds_cond","ENDDE");this.addChild(_a.name,_a);_a.bind();_a=null;};this.loadPreloadList=function(){this._addPreloadList("fdl","com::deptCode.xfdl");};this.addIncludeScript("HRM070202_P4.xfdl","lib::comInclude.xjs");this.addIncludeScript("HRM070202_P4.xfdl","mis_lib::misUtil.xjs");this.registerScript("HRM070202_P4.xfdl",function(){this.fv_objForm;this.isAuth=false;this.userEmpno="";this.HRM070202_P4_onload=function(_a,_b){this.userEmpno=this.parent.arg_1;this.div_search.div_DeptComp.fn_setBind("ds_cond","DEPT_CODE","DEPT_NM");this.ds_cond.clearData();this.ds_cond.addRow();if(!this.comUtils.isNull(this.parent.arg_2)&&!this.comUtils.isNull(this.parent.arg_3)){this.ds_cond.setColumn(0,"BGNDE",this.parent.arg_2);this.ds_cond.setColumn(0,"ENDDE",this.parent.arg_3);}else{this.ds_cond.setColumn(0,"BGNDE",this.dateUtils.today());this.ds_cond.setColumn(0,"ENDDE",this.dateUtils.today());}this.ds_cond.setColumn(0,"DEPT_CODE",this.parent.arg_4);this.ds_cond.setColumn(0,"DEPT_NM",this.parent.arg_5);this.ds_cond.setColumn(0,"WHTHRC_AT",this.parent.arg_6);this.fn_search();};this.fn_search=function(){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}this.fn_transaction("selectFlwpsgList");};this.fn_transaction=function(_a){switch(_a){case "selectFlwpsgList":var _b="hsco/mis/hrm/HRM070202/selectFlwpsgList.do";var _c="input1=ds_cond";var _d="ds_carAlcFlwpsgList=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){trace(_a);if(_b!=0){this.gfn_callback_message(_a,_b,_c);}if(_b!=0){}else{switch(_a){case "selectFlwpsgList":break;}}};this.btn_close_onclick=function(_a,_b){this.close();};this.grd_caralcFlwpsg_oncelldblclick=function(_a,_b){if(_b.row>=0&&_a.rowcount>0){var _c=this.ds_carAlcFlwpsgList.getColumn(_b.row,"BSRP_EMPNO");if(this.userEmpno==_c){this.gfn_message("info.처리불가","출장자와 동일한 동승자는 선택할 수 없습니다.");return;}var _d=new Dataset();_d.copyData(this.ds_carAlcFlwpsgList);_d.clearData();var _e=_d.addRow();_d.copyRow(_e,this.ds_carAlcFlwpsgList,this.ds_carAlcFlwpsgList.rowposition);this.close(_d.saveXML());}};});this.on_initEvent=function(){this.addEventHandler("onload",this.HRM070202_P4_onload,this);this.btn_close01.addEventHandler("onclick",this.btn_close_onclick,this);this.btn_close02.addEventHandler("onclick",this.btn_close_onclick,this);this.Button02.addEventHandler("onclick",this.fn_search,this);this.grd_caralcFlwpsg.addEventHandler("oncelldblclick",this.grd_caralcFlwpsg_oncelldblclick,this);};this.loadIncludeScript("HRM070202_P4.xfdl");this.loadPreloadList();};})();