(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("ACC020203_P13");this.set_classname("UI_ACC020203_P13");this.set_titletext("원천세 계산");this._setFormPosition(0,0,609,218);}_a=new Dataset("ds_acc027",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_acc028",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_acc035",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_whtax",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"WHTAX_KND\" type=\"STRING\" size=\"256\"/><Column id=\"NM\" type=\"STRING\" size=\"256\"/><Column id=\"IHDNUM\" type=\"STRING\" size=\"256\"/><Column id=\"WHTAX_INDUTY_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"WHTAX_INCOME_SE_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DECSN_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"TAX_RT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"INCMTAX\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"IHNTS\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"TOT_TAX\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"ADRES\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_bcnc",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BANK_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"RPRSNTV\" type=\"STRING\" size=\"256\"/><Column id=\"ACNUTNO\" type=\"STRING\" size=\"256\"/><Column id=\"DPSTR_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BCNC_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"colId\">WHTAX_KND</Col><Col id=\"compId\">ds_whtax</Col><Col id=\"msgId\">원천세구분</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"colId\">NM</Col><Col id=\"compId\">ds_whtax</Col><Col id=\"msgId\">성명</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"colId\">IHDNUM</Col><Col id=\"compId\">ds_whtax</Col><Col id=\"msgId\">주민등록번호</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"colId\">DECSN_AMOUNT</Col><Col id=\"compId\">ds_whtax</Col><Col id=\"msgId\">지급총액</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"colId\">TAX_RT</Col><Col id=\"compId\">ds_whtax</Col><Col id=\"msgId\">세율</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"colId\">INCMTAX</Col><Col id=\"compId\">ds_whtax</Col><Col id=\"msgId\">소득세</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"colId\">IHNTS</Col><Col id=\"compId\">ds_whtax</Col><Col id=\"msgId\">지방소득세</Col><Col id=\"notNull\">Y</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Static("Static36","absolute","0","0",null,"15","0",null,this);_a.set_taborder("2");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","0","15",null,null,"0",this);_a.set_taborder("3");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute",null,"0","15",null,"0","0",this);_a.set_taborder("4");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","15","20","200","21",null,null,this);_a.set_taborder("5");_a.set_text("원천세 계산");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0",null,null,"15","0","0",this);_a.set_taborder("9");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_close2","absolute",null,"15","50","25","15",null,this);_a.set_taborder("11");_a.set_text("종료");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","40",null,"5","0",null,this);_a.set_taborder("12");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("Div00","absolute","15","45",null,null,"15","15",this);_a.set_taborder("15");_a.set_text("Div00");_a.set_cssclass("div_detailBox");this.addChild(_a.name,_a);_a=new Static("Static15","absolute","0","26",null,"27","0",null,this.Div00);_a.set_taborder("24");_a.set_cssclass("sta_WF_Labelbg");this.Div00.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","78",null,"27","0",null,this.Div00);_a.set_taborder("4");_a.set_cssclass("sta_WF_Labelbg");this.Div00.addChild(_a.name,_a);_a=new Static("Static27","absolute","0","0",null,"27","0",null,this.Div00);_a.set_taborder("2");_a.set_cssclass("sta_WF_Labelbg");this.Div00.addChild(_a.name,_a);_a=new Static("Static03","absolute","0","0","104","27",null,null,this.Div00);_a.set_taborder("0");_a.set_text("원천세 구분");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Combo("cmb_WHTAX_KND","absolute","106","3","216","21",null,null,this.Div00);this.Div00.addChild(_a.name,_a);_a.set_taborder("1");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_innerdataset("@ds_acc027");_a.set_cssclass("cmb_WF_Essential");_a=new Static("Static02","absolute","0","104",null,"27","0",null,this.Div00);_a.set_taborder("5");_a.set_cssclass("sta_WF_Labelbg");this.Div00.addChild(_a.name,_a);_a=new Combo("cmb_whtaxIncomeSe","absolute","106","107","216","21",null,null,this.Div00);this.Div00.addChild(_a.name,_a);_a.set_taborder("18");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_innerdataset("@ds_acc035");_a.set_enable("false");_a=new Combo("cmb_whtaxInduty","absolute","106","81","216","21",null,null,this.Div00);this.Div00.addChild(_a.name,_a);_a.set_taborder("19");_a.set_innerdataset("ds_acc028");_a.set_codecolumn("CODE");_a.set_datacolumn("ALL_CODE_NM");_a.set_displayrowcount("15");_a.set_enable("false");_a=new Static("Static11","absolute","0","104","104","27",null,null,this.Div00);_a.set_taborder("20");_a.set_text("소득구분");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Static("Static12","absolute","0","78","104","27",null,null,this.Div00);_a.set_taborder("21");_a.set_text("업종구분");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Static("Static13","absolute","0","26","104","27",null,null,this.Div00);_a.set_taborder("22");_a.set_text("성명");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Edit("Edit06","absolute","106","29","216","21",null,null,this.Div00);_a.set_taborder("25");_a.set_maxlength("15");_a.set_cssclass("edt_WF_Essential");this.Div00.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","52",null,"27","0",null,this.Div00);_a.set_taborder("32");_a.set_cssclass("sta_WF_Labelbg");this.Div00.addChild(_a.name,_a);_a=new Static("Static19","absolute","0","52","104","27",null,null,this.Div00);_a.set_taborder("33");_a.set_text("주민등록번호");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new MaskEdit("msk_caActAmt03","absolute","106","55","216","21",null,null,this.Div00);_a.set_taborder("36");_a.set_type("string");_a.set_mask("######-#######");_a.style.set_align("left middle");_a.set_cssclass("msk_WF_Essential");this.Div00.addChild(_a.name,_a);_a=new MaskEdit("msk_caActAmt02","absolute","430","3","146","21",null,null,this.Div00);_a.set_taborder("13");_a.set_mask("###,###,###,###,###");_a.set_limitbymask("integer");_a.set_cssclass("msk_WF_Essential");this.Div00.addChild(_a.name,_a);_a=new MaskEdit("msk_caActAmt00","absolute","430","29","146","21",null,null,this.Div00);_a.set_taborder("14");_a.set_readonly("false");_a.set_limitbymask("both");_a.set_cssclass("msk_WF_Essential");_a.set_mask("##0.###");this.Div00.addChild(_a.name,_a);_a=new MaskEdit("msk_caActAmt01","absolute","430","55","146","21",null,null,this.Div00);_a.set_taborder("15");_a.set_readonly("false");_a.set_mask("###,###,###,###,###");_a.set_limitbymask("integer");_a.set_cssclass("msk_WF_Essential");this.Div00.addChild(_a.name,_a);_a=new MaskEdit("msk_caActAmt04","absolute","430","107","146","21",null,null,this.Div00);_a.set_taborder("17");_a.set_readonly("true");_a.set_mask("###,###,###,###,###");_a.set_limitbymask("integer");_a.set_cssclass("msk_WF_Readonly");this.Div00.addChild(_a.name,_a);_a=new Static("Static18","absolute","324","78","104","27",null,null,this.Div00);_a.set_taborder("29");_a.set_text("지방소득세");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new MaskEdit("msk_caActAmt06","absolute","430","81","146","21",null,null,this.Div00);_a.set_taborder("31");_a.set_mask("###,###,###,###,###");_a.set_limitbymask("integer");_a.set_cssclass("msk_WF_Essential");this.Div00.addChild(_a.name,_a);_a=new Static("Static00","absolute","324","0","104","27",null,null,this.Div00);_a.set_taborder("3");_a.set_text("지급총액");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Static("Static06","absolute","324","26","104","27",null,null,this.Div00);_a.set_taborder("8");_a.set_text("세율");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Static("Static07","absolute","324","52","104","27",null,null,this.Div00);_a.set_taborder("9");_a.set_text("소득세");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Static("Static09","absolute","324","104","104","27",null,null,this.Div00);_a.set_taborder("11");_a.set_text("계");_a.set_cssclass("sta_WF_Label");this.Div00.addChild(_a.name,_a);_a=new Button("btn_proc","absolute",null,"15","50","25","68",null,this);_a.set_taborder("16");_a.set_text("적용");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Static("Static16","absolute","99","175","495","27",null,null,this);_a.set_taborder("17");_a.set_cssclass("sta_WF_Labelbg");this.addChild(_a.name,_a);_a=new Edit("Edit09","absolute","121","178","470","21",null,null,this);_a.set_taborder("18");_a.set_maxlength("100");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","15","175","104","27",null,null,this);_a.set_taborder("19");_a.set_text("주소");_a.set_cssclass("sta_WF_Label");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.Div00,function(_b){_b.set_taborder("15");_b.set_text("Div00");_b.set_cssclass("div_detailBox");});this.Div00.addLayout(_a.name,_a);_a=new Layout("default","",609,218,this,function(_b){_b.set_classname("UI_ACC020203_P13");_b.set_titletext("원천세 계산");});this.addLayout(_a.name,_a);_a=new BindItem("item60","Div00.cmb_WHTAX_KND","value","ds_whtax","WHTAX_KND");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item7","Div00.msk_caActAmt02","value","ds_whtax","DECSN_AMOUNT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","Div00.msk_caActAmt00","value","ds_whtax","TAX_RT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","Div00.msk_caActAmt01","value","ds_whtax","INCMTAX");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item3","Div00.msk_caActAmt04","value","ds_whtax","TOT_TAX");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item70","Div00.cmb_whtaxIncomeSe","value","ds_whtax","WHTAX_INCOME_SE_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item69","Div00.cmb_whtaxInduty","value","ds_whtax","WHTAX_INDUTY_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item33","Div00.Edit06","value","ds_whtax","NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","Div00.msk_caActAmt06","value","ds_whtax","IHNTS");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item5","Div00.msk_caActAmt03","value","ds_whtax","IHDNUM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item35","Edit09","value","ds_whtax","ADRES");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("ACC020203_P13.xfdl","lib::comInclude.xjs");this.registerScript("ACC020203_P13.xfdl",function(){this.dsExpDsnDetail=new Dataset();this.form_oninit=function(_a,_b){this.dsExpDsnDetail=this.getOwnerFrame().dsExpDsnDetail111;if(this.dsExpDsnDetail.getRowCount()<0||this.dsExpDsnDetail.rowposition<0){trace("error.원천세를 계산할 대상을 찾을 수 없음");this.close();}this.ds_whtax.clearData();this.ds_whtax.addRow();this.ds_whtax.setColumn(0,"DECSN_AMOUNT",this.dsExpDsnDetail.getColumn(this.dsExpDsnDetail.rowposition,"DECSN_AMOUNT"));this.ds_whtax.setColumn(0,"NM",this.dsExpDsnDetail.getColumn(this.dsExpDsnDetail.rowposition,"RCPT_MAN"));this.ds_whtax.setColumn(0,"IHDNUM",this.dsExpDsnDetail.getColumn(this.dsExpDsnDetail.rowposition,"IHDNUM"));this.ds_whtax.setColumn(0,"ADRES",this.dsExpDsnDetail.getColumn(this.dsExpDsnDetail.rowposition,"ADRES"));};this.form_onload=function(_a,_b){var _c=[["ds_acc027","ACC027","Y","S","B"],["ds_acc028","ACC028","Y","D","B"],["ds_acc035","ACC035","Y","E","B"]];var _d=function(_e,_f,_g){this.Div00.cmb_WHTAX_KND.set_index(0);this.fn_search();};this.gfn_comboLoad(_c,_d);};this.fn_search=function(){this.fn_transaction("selectBcnc");};this.fn_transaction=function(_a){switch(_a){case "selectBcnc":var _b="hsco/mis/acc/ACC020203/incExpElseCashBcnc.do";var _c="";var _d="ds_bcnc=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){this.gfn_callback_message(_a,_b,_c);if(_b==0){switch(_a){case "selectBcnc":trace(this.ds_bcnc.saveXML());break;default:break;}}};this.fn_close=function(_a,_b){this.close();};this.fn_cal=function(){var _a=this.ds_whtax.getColumn(0,"DECSN_AMOUNT");var _b=this.ds_whtax.getColumn(0,"TAX_RT");var _c=nexacro.floor(_a*_b, -1);var _d=nexacro.floor(_c*0.1, -1);this.ds_whtax.setColumn(0,"INCMTAX",_c);this.ds_whtax.setColumn(0,"IHNTS",_d);this.ds_whtax.setColumn(0,"TOT_TAX",_c+_d);};this.ds_whtax_oncolumnchanged=function(_a,_b){switch(_b.columnid){case "WHTAX_KND":var _c=this.ds_acc027.findRow("CODE",_b.newvalue);if(_c> -1){_a.setColumn(0,"TAX_RT",this.ds_acc027.getColumn(_c,"MSTK_VAL"));switch(_b.newvalue){case "10":this.Div00.cmb_whtaxInduty.set_enable(false);this.Div00.cmb_whtaxInduty.set_cssclass("");this.Div00.cmb_whtaxIncomeSe.set_enable(true);this.Div00.cmb_whtaxIncomeSe.set_cssclass("cmb_WF_Essential");_a.setColumn(0,"WHTAX_INDUTY_CODE","");break;case "15":this.Div00.cmb_whtaxInduty.set_enable(true);this.Div00.cmb_whtaxInduty.set_cssclass("cmb_WF_Essential");this.Div00.cmb_whtaxIncomeSe.set_enable(false);this.Div00.cmb_whtaxIncomeSe.set_cssclass("");_a.setColumn(0,"WHTAX_INCOME_SE_CODE","");break;default:this.Div00.cmb_whtaxInduty.set_enable(false);this.Div00.cmb_whtaxInduty.set_cssclass("");this.Div00.cmb_whtaxIncomeSe.set_enable(false);this.Div00.cmb_whtaxIncomeSe.set_cssclass("");_a.setColumn(0,"WHTAX_INDUTY_CODE","");_a.setColumn(0,"WHTAX_INCOME_SE_CODE","");break;}}else{this.Div00.cmb_whtaxInduty.set_enable(false);this.Div00.cmb_whtaxInduty.set_cssclass("");this.Div00.cmb_whtaxIncomeSe.set_enable(false);this.Div00.cmb_whtaxIncomeSe.set_cssclass("");_a.setColumn(0,"TAX_RT",0);_a.setColumn(0,"WHTAX_INDUTY_CODE","");_a.setColumn(0,"WHTAX_INCOME_SE_CODE","");}this.fn_cal();break;case "DECSN_AMOUNT":case "TAX_RT":this.fn_cal();break;case "INCMTAX":case "IHNTS":this.ds_whtax.setColumn(0,"TOT_TAX",this.ds_whtax.getColumn(0,"INCMTAX")+this.ds_whtax.getColumn(0,"IHNTS"));break;default:break;}};this.btn_proc_onclick=function(_a,_b){var _c=this.dsExpDsnDetail.rowposition;if(!this.gfn_checkValidation_NoUpdChk(this.ds_whtax,this.ds_validation)){return;}if(this.ds_whtax.getColumn(0,"WHTAX_KND")=="15"){if(this.ds_whtax.getColumn(0,"WHTAX_INDUTY_CODE")==""){this.gfn_message("comm.err","업종구분 항목을\n입력하십시오.");return;}}else if(this.ds_whtax.getColumn(0,"WHTAX_KND")=="10"){if(this.ds_whtax.getColumn(0,"WHTAX_INCOME_SE_CODE")==""){this.gfn_message("comm.err","소득구분 항목을\n입력하십시오.");return;}}this.dsExpDsnDetail.setColumn(_c,"WHTAX_KND",this.ds_whtax.getColumn(0,"WHTAX_KND"));this.dsExpDsnDetail.setColumn(_c,"DECSN_AMOUNT",this.ds_whtax.getColumn(0,"DECSN_AMOUNT")-this.ds_whtax.getColumn(0,"TOT_TAX"));this.dsExpDsnDetail.setColumn(_c,"IHDNUM",this.ds_whtax.getColumn(0,"IHDNUM"));this.dsExpDsnDetail.setColumn(_c,"WHTAX_PYMNT_TOTAMT",this.ds_whtax.getColumn(0,"DECSN_AMOUNT"));this.dsExpDsnDetail.setColumn(_c,"WHTAX_INDUTY_CODE",this.ds_whtax.getColumn(0,"WHTAX_INDUTY_CODE"));this.dsExpDsnDetail.setColumn(_c,"WHTAX_INCOME_SE_CODE",this.ds_whtax.getColumn(0,"WHTAX_INCOME_SE_CODE"));this.dsExpDsnDetail.setColumn(_c,"ADRES",this.ds_whtax.getColumn(0,"ADRES"));var _d=this.dsExpDsnDetail.addRow();this.dsExpDsnDetail.setColumn(_d,"DECSN_AMOUNT",this.ds_whtax.getColumn(0,"TOT_TAX"));this.dsExpDsnDetail.setColumn(_d,"TAXXPT_AMOUNT","0");this.dsExpDsnDetail.setColumn(_d,"SUPLY_AMOUNT","0");this.dsExpDsnDetail.setColumn(_d,"VAT","0");this.dsExpDsnDetail.setColumn(_d,"VAT_DECSN_AMOUNT","0");this.dsExpDsnDetail.setColumn(_d,"VAT_AT","0");this.dsExpDsnDetail.setColumn(_d,"RCPT_DE",this.dsExpDsnDetail.getColumn(_c,"RCPT_DE"));this.dsExpDsnDetail.setColumn(_d,"WHTAX_AT","1");this.dsExpDsnDetail.setColumn(_d,"WHTAX_KND",this.ds_whtax.getColumn(0,"WHTAX_KND"));this.dsExpDsnDetail.setColumn(_d,"NM",this.ds_whtax.getColumn(0,"NM"));this.dsExpDsnDetail.setColumn(_d,"IHDNUM",this.ds_whtax.getColumn(0,"IHDNUM"));this.dsExpDsnDetail.setColumn(_d,"WHTAX_INDUTY_CODE",this.ds_whtax.getColumn(0,"WHTAX_INDUTY_CODE"));this.dsExpDsnDetail.setColumn(_d,"WHTAX_INCOME_SE_CODE",this.ds_whtax.getColumn(0,"WHTAX_INCOME_SE_CODE"));this.dsExpDsnDetail.setColumn(_d,"INCMTAX",this.ds_whtax.getColumn(0,"INCMTAX"));this.dsExpDsnDetail.setColumn(_d,"IHNTS",this.ds_whtax.getColumn(0,"IHNTS"));this.dsExpDsnDetail.setColumn(_d,"WHTAX_PYMNT_TOTAMT",this.ds_whtax.getColumn(0,"DECSN_AMOUNT"));this.dsExpDsnDetail.setColumn(_d,"ADRES",this.ds_whtax.getColumn(0,"ADRES"));if(this.ds_bcnc.getRowCount()>0){this.dsExpDsnDetail.setColumn(_d,"BCNC_CODE",this.ds_bcnc.getColumn(0,"BCNC_CODE"));this.dsExpDsnDetail.setColumn(_d,"BCNC_NM",this.ds_bcnc.getColumn(0,"BCNC_NM"));this.dsExpDsnDetail.setColumn(_d,"RCPT_MAN",this.ds_bcnc.getColumn(0,"BCNC_NM"));this.dsExpDsnDetail.setColumn(_d,"FNNC_INSTT_CODE",this.ds_bcnc.getColumn(0,"BANK_CODE"));this.dsExpDsnDetail.setColumn(_d,"ACNUTNO",this.ds_bcnc.getColumn(0,"ACNUTNO"));}this.close();};});this.on_initEvent=function(){this.ds_acc027.addEventHandler("onrowposchanged",this.ds_frmtnPd_onrowposchanged,this);this.ds_acc028.addEventHandler("onrowposchanged",this.ds_frmtnPd_onrowposchanged,this);this.ds_acc035.addEventHandler("onrowposchanged",this.ds_frmtnPd_onrowposchanged,this);this.ds_whtax.addEventHandler("oncolumnchanged",this.ds_whtax_oncolumnchanged,this);this.addEventHandler("onload",this.form_onload,this);this.addEventHandler("oninit",this.form_oninit,this);this.btn_close2.addEventHandler("onclick",this.fn_close,this);this.btn_proc.addEventHandler("onclick",this.btn_proc_onclick,this);};this.loadIncludeScript("ACC020203_P13.xfdl");};})();