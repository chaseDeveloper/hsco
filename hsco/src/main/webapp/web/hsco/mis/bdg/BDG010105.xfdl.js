(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("BDG010105");this.set_classname("UI_BDG010105");this.set_titletext("예산사업코드관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BUDGET_YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"BUDGET_USE_AT\" type=\"STRING\" size=\"4\"/><Column id=\"CTNU_USE_AT\" type=\"STRING\" size=\"4\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">BUDGET_YEAR</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[구분회계계정] 회계년도</Col></Row><Row><Col id=\"colId\">SE_ACCNUT_ACNT_NM</Col><Col id=\"compId\">ds_bsnsAcntCode</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">구분회계명</Col></Row><Row><Col id=\"colId\">EXPNDTR_BSNS_CODE</Col><Col id=\"compId\">ds_bsnsAcntCode</Col><Col id=\"PK\">Y</Col><Col id=\"msgId\">지출단위사업코드</Col><Col id=\"notNull\">N</Col></Row><Row><Col id=\"compId\">ds_ctnu</Col><Col id=\"colId\">BUDGET_ACNT_CODE</Col><Col id=\"PK\">Y</Col><Col id=\"msgId\">예산계정코드</Col></Row><Row><Col id=\"compId\">ds_ctnu</Col><Col id=\"colId\">DETAIL_BSNS_CODE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">세부사업코드</Col></Row><Row><Col id=\"compId\">ds_ctnu</Col><Col id=\"colId\">BUDGET_ACNT_NM</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">예산계정명</Col></Row><Row><Col id=\"compId\">ds_ctnu</Col><Col id=\"colId\">YEAR</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">년도</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_bsnsAcntCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BSNS_DISTRICT_NM\" type=\"string\" size=\"32\"/><Column id=\"SUPLY_TY_NM\" type=\"string\" size=\"32\"/><Column id=\"BSNS_TY_NM\" type=\"string\" size=\"32\"/><Column id=\"SE_ACCNUT_ACNT_NM\" type=\"string\" size=\"32\"/><Column id=\"USE_AT\" type=\"string\" size=\"32\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"32\"/><Column id=\"SUPLY_TY\" type=\"string\" size=\"32\"/><Column id=\"BSNS_HSMP\" type=\"string\" size=\"32\"/><Column id=\"BSNS_DISTRICT\" type=\"string\" size=\"32\"/><Column id=\"ACCNUT_YEAR\" type=\"string\" size=\"32\"/><Column id=\"BSNS_HSMP_NM\" type=\"string\" size=\"32\"/><Column id=\"SE_ACCNUT_ACNT_CODE\" type=\"string\" size=\"32\"/><Column id=\"BUDGET_USE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"TOT_CNT\" type=\"STRING\" size=\"256\"/><Column id=\"EXPNDTR_BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CTNU_USE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"OPERTN_YEAR\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctnu",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"DETAIL_BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BUDGET_ACNT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BUDGET_ACNT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CTNU_AM\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"string\" size=\"32\"/><Column id=\"DETAIL_BSNS_CODE\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_budgetUseAt",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/></ColumnInfo><Rows><Row><Col id=\"CODE_NM\">전체</Col></Row><Row><Col id=\"CODE\">1</Col><Col id=\"CODE_NM\">사용</Col></Row><Row><Col id=\"CODE\">0</Col><Col id=\"CODE_NM\">미사용</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctnuUseAt",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/></ColumnInfo><Rows><Row><Col id=\"CODE_NM\">전체</Col></Row><Row><Col id=\"CODE\">1</Col><Col id=\"CODE_NM\">사용</Col></Row><Row><Col id=\"CODE\">0</Col><Col id=\"CODE_NM\">미사용</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","1031","0","15","735",null,null,this);_a.set_taborder("16");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute",null,"0","13","735","0",null,this);_a.set_taborder("17");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_SEARCH","absolute","0","0",null,"33","28",null,this);_a.set_taborder("19");_a.set_text("Div00");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_EMPL_SE","absolute","5","5","64","21",null,null,this.div_SEARCH);_a.set_taborder("10");_a.set_text("예산년도");_a.set_cssclass("sta_WFSA_Label");this.div_SEARCH.addChild(_a.name,_a);_a=new Spin("Spin00","absolute","74","5","76","21",null,null,this.div_SEARCH);_a.set_taborder("12");_a.set_value("0");_a.set_cssclass("spn_WF_Essential");this.div_SEARCH.addChild(_a.name,_a);_a=new Static("sta_EMPL_SE00","absolute","225","5","64","21",null,null,this.div_SEARCH);_a.set_taborder("15");_a.set_text("예산사용");_a.set_cssclass("sta_WFSA_Label");this.div_SEARCH.addChild(_a.name,_a);_a=new Static("sta_EMPL_SE01","absolute","448","5","64","21",null,null,this.div_SEARCH);_a.set_taborder("17");_a.set_text("계속비");_a.set_cssclass("sta_WFSA_Label");this.div_SEARCH.addChild(_a.name,_a);_a=new Combo("Combo00","absolute","292","5","80","19",null,null,this.div_SEARCH);this.div_SEARCH.addChild(_a.name,_a);_a.set_taborder("18");_a.set_innerdataset("@ds_budgetUseAt");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a=new Combo("Combo01","absolute","502","5","80","19",null,null,this.div_SEARCH);this.div_SEARCH.addChild(_a.name,_a);_a.set_taborder("19");_a.set_innerdataset("@ds_ctnuUseAt");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_text("전체");_a=new Static("Static36","absolute","0","33","1031","10",null,null,this);_a.set_taborder("20");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_title01","absolute","0","43","132","19",null,null,this);_a.set_taborder("21");_a.set_text("예산사업코드");_a.set_cssclass("sta_WF_Title02");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Static("Static51","absolute","0","62","1031","5",null,null,this);_a.set_taborder("22");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd","absolute","0","68",null,null,"28","166",this);_a.set_taborder("23");_a.set_binddataset("ds_bsnsAcntCode");_a.set_autoenter("select");_a.set_extendsizetype("row");_a.set_autofittype("col");_a.set_autosizingtype("row");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"100\"/><Column size=\"114\"/><Column size=\"250\"/><Column size=\"150\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"사업코드\"/><Cell col=\"2\" text=\"지출단위사업코드\"/><Cell col=\"3\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"사업코드명\"/><Cell col=\"4\" text=\"사업유형\"/><Cell col=\"5\" text=\"예산사용\"/><Cell col=\"6\" text=\"계속비\"/><Cell col=\"7\" text=\"개시년도\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:SE_ACCNUT_ACNT_CODE\" expandshow=\"expr:dataset.getRowType(currow)==Dataset.ROWTYPE_INSERT?&quot;show&quot;:&quot;hide&quot;\"/><Cell col=\"2\" displaytype=\"text\" edittype=\"expr:dataset.getColumn(currow, &quot;TOT_CNT&quot;) &gt; 0 ? 'none' : 'mask'\" style=\"align:center;\" text=\"bind:EXPNDTR_BSNS_CODE\" mask=\"##\"/><Cell col=\"3\" displaytype=\"text\" edittype=\"none\" style=\"align:left;\" text=\"bind:SE_ACCNUT_ACNT_NM\" wordwrap=\"char\" autosizerow=\"limitmin\"/><Cell col=\"4\" displaytype=\"normal\" edittype=\"none\" style=\"align:left middle;\" text=\"bind:BSNS_TY_NM\"/><Cell col=\"5\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:BUDGET_USE_AT\"/><Cell col=\"6\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CTNU_USE_AT\"/><Cell col=\"7\" displaytype=\"normal\" edittype=\"mask\" style=\"align:center;\" text=\"bind:OPERTN_YEAR\" mask=\"####\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Grid("grd00","absolute","1",null,null,"143","27","0",this);_a.set_taborder("24");_a.set_binddataset("ds_ctnu");_a.set_autoenter("select");_a.set_extendsizetype("row");_a.set_autofittype("col");_a.set_autosizingtype("row");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"100\"/><Column size=\"250\"/><Column size=\"150\"/><Column size=\"250\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"예산코드\"/><Cell col=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"예산명\"/><Cell col=\"3\" text=\"금액\"/><Cell col=\"4\" text=\"비고\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:BUDGET_ACNT_CODE\" expandshow=\"expr:dataset.getRowType(currow)==Dataset.ROWTYPE_INSERT?&quot;show&quot;:&quot;hide&quot;\"/><Cell col=\"2\" displaytype=\"text\" edittype=\"none\" style=\"align:left;\" text=\"bind:BUDGET_ACNT_NM\" wordwrap=\"char\" autosizerow=\"limitmin\"/><Cell col=\"3\" displaytype=\"number\" edittype=\"masknumber\" style=\"align:right middle;padding:0 10 0 0;\" text=\"bind:CTNU_AM\"/><Cell col=\"4\" displaytype=\"text\" edittype=\"normal\" style=\"align:left middle;\" text=\"bind:RM\"/></Band><Band id=\"summary\"><Cell/><Cell col=\"1\" text=\"합계\"/><Cell col=\"2\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right middle;\" text=\"expr:dataset.getSum(&quot;CTNU_AM&quot;)\"/><Cell col=\"4\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("sta_title00","absolute","0",null,"132","19",null,"145",this);_a.set_taborder("25");_a.set_text("계속비등록");_a.set_cssclass("sta_WF_Title02");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Button("btn_Add_B","absolute",null,null,"64","19","225","145",this);_a.set_taborder("26");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Button("btn_Delete_B","absolute",null,null,"64","19","159","145",this);_a.set_taborder("27");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_Cancel_B","absolute",null,null,"64","19","93","145",this);_a.set_taborder("28");_a.set_text("취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Button("btn_Save_M","absolute",null,null,"64","19","27","145",this);_a.set_taborder("29");_a.set_text("저장");_a.set_cssclass("btn_WF_Grid");_a.style.set_font("9 Gulim");this.addChild(_a.name,_a);_a=new Button("btn_copy","absolute",null,"40","79","21","28",null,this);_a.set_taborder("30");_a.set_text("전년도복사");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","151","7","75","20",null,null,this);_a.set_taborder("31");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","373","7","75","20",null,null,this);_a.set_taborder("32");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_SEARCH,function(_b){_b.set_taborder("19");_b.set_text("Div00");_b.set_cssclass("div_WFSA_Box");});this.div_SEARCH.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("UI_BDG010105");_b.set_titletext("예산사업코드관리");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_SEARCH.Spin00","value","ds_cond","BUDGET_YEAR");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("BDG010105.xfdl","lib::comInclude.xjs");this.addIncludeScript("BDG010105.xfdl","mis_lib::misUtil.xjs");this.registerScript("BDG010105.xfdl",function(){this.BDG010105_oninit=function(_a,_b){this.fn_init_form();this.fn_misFormInit(this);this.fn_init_dataset();};this.BDG010105_onload=function(_a,_b){};this.fn_init_form=function(){this.gfn_initForm(this);this.ds_cond.clearData();this.ds_cond.addRow();var _a=this.dateUtils.today();var _b=_a.substr(0,4);this.div_SEARCH.Combo00.set_value("1");this.ds_cond.setColumn(0,"BUDGET_YEAR",_b);this.ds_cond.setColumn(0,"BUDGET_USE_AT","1");};this.fn_init_dataset=function(){};this.fn_search=function(){this.fn_transaction("bsnsAcntCodeList");};this.fn_save=function(){if(!this.fn_checkValidation(this.ds_bsnsAcntCode,this.ds_validation)){return;}this.fn_transaction("bsnsAcntCodeCUD");this.fn_transaction("selectCtnu");};this.fn_transaction=function(_a){switch(_a){case "bsnsAcntCodeList":var _b="hsco/mis/bdg/BDG010105/bsnsAcntCodeList.do";var _c="input1=ds_cond";var _d="ds_bsnsAcntCode=output1";break;case "selectCtnu":var _e=this.ds_bsnsAcntCode.rowposition;this.ds_cond00.clearData();var _f=this.ds_cond00.addRow();this.ds_cond00.setColumn(_f,"YEAR",this.ds_bsnsAcntCode.getColumn(_e,"ACCNUT_YEAR"));this.ds_cond00.setColumn(_f,"DETAIL_BSNS_CODE",this.ds_bsnsAcntCode.getColumn(_e,"SE_ACCNUT_ACNT_CODE"));var _b="hsco/mis/bdg/BDG010105/selectCtnu.do";var _c="input1=ds_cond00";var _d="ds_ctnu=output1";break;case "bsnsAcntCodeCUD":var _b="hsco/mis/bdg/BDG010105/bsnsAcntCodeCUD.do";var _c="input1=ds_bsnsAcntCode:U";var _d="";break;case "updateCtnu":var _b="hsco/mis/bdg/BDG010105/updateCtnu.do";var _c="input1=ds_ctnu:U";var _d="";break;case "bsnsAcntCopyC":var _b="hsco/mis/bdg/BDG010105/bsnsAcntCopyC.do";var _c="input1=ds_cond";var _d="";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b==0){switch(_a){case "bsnsAcntCodeList":this.fn_transaction("selectCtnu");break;case "bsnsAcntCodeCUD":alert("저장됐습니다.");this.fn_transaction("bsnsAcntCodeList");break;case "updateCtnu":alert("저장됐습니다.");this.fn_transaction("selectCtnu");break;case "bsnsAcntCopyC":alert("복사됐습니다.");this.fn_transaction("bsnsAcntCodeList");break;default:break;}}else{this.gfn_callback_message(_a,_b,_c);}};this.fn_cancel=function(){if(this.gfn_message("confirm.취소여부")){this.ds_bsnsAcntCode.reset();this.ds_bsnsAcntCode.applyChange();}};this.ds_bsnsAcntCode_oncolumnchanged=function(_a,_b){if(_b.columnid=="EXPNDTR_BSNS_CODE"){var _c=new String(_b.newvalue);var _d=_c.indexOf(" ");if(_d> -1){if(_c.length-1==_d){_c="0"+_c.substr(0,1);}else{if(_c=="  "){_c=null;}else{_c="0"+_c.substr(1,1);}}}_a.setColumn(_b.row,"EXPNDTR_BSNS_CODE",_c);}};this.ds_bsnsAcntCode_onrowposchanged=function(_a,_b){this.fn_transaction("selectCtnu");};this.btn_Save_M_onclick=function(_a,_b){if(!this.gfn_checkValidation(this.ds_ctnu,this.ds_validation)){return;}this.fn_transaction("updateCtnu");};this.btn_Add_B_onclick=function(_a,_b){var _c=this.ds_bsnsAcntCode.rowposition;var _d=this.ds_ctnu.addRow();this.ds_ctnu.setColumn(_d,"YEAR",this.ds_bsnsAcntCode.getColumn(_c,"ACCNUT_YEAR"));this.ds_ctnu.setColumn(_d,"DETAIL_BSNS_CODE",this.ds_bsnsAcntCode.getColumn(_c,"SE_ACCNUT_ACNT_CODE"));};this.btn_Delete_B_onclick=function(_a,_b){if(!this.gfn_message("confirm.삭제여부")){return false;}this.ds_ctnu.deleteRow(this.ds_ctnu.rowposition);};this.btn_Cancel_B_onclick=function(_a,_b){if(Ex.util.isUpdated(this.ds_ctnu)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.ds_ctnu.reset();};this.tab_tabpage1_grd_onexpanddown=function(_a,_b){var _c=system.clientToScreenX(this,0);var _d=system.clientToScreenY(this,0);var _e=new ChildFrame;if(_b.col==1){var _f={arg_0:this,searchStr:this.ds_cond.saveXML(),strObj:"edt_YEAR,cbo_BSNS_SE,rdo_BALC_SE"};this.gfn_popup("BDG030101_P01",800,530,"예산계정 및 지출단위 선택",_f,"mis_bdg::BDG030101_P01.xfdl","fn_popupCallBack",true);}};this.fn_popupCallBack=function(_a,_b){if(_a=="BDG030101_P01"){var _c=new Dataset();nRowCnt=_c.loadXML(_b);if(nRowCnt){var _d=_c.getColumn(0,"BUDGET_ACNT_CODE");var _e=_c.getColumn(0,"BUDGET_ACNT_NM");var _f=this.ds_ctnu.rowposition;this.ds_ctnu.setColumn(_f,"BUDGET_ACNT_CODE",_d);this.ds_ctnu.setColumn(_f,"BUDGET_ACNT_NM",_e);}}};this.btn_onclick=function(_a,_b){if(Ex.util.isUpdated(this.ds_cond)){this.gfn_message("info.처리불가","복사하기 전에 조회 먼저 해야합니다.");return;}if(this.ds_bsnsAcntCode.getRowCount()>0){this.gfn_message("info.처리불가","해당년도에 예산사업코드가 존재하여 복사할 수 없습니다.");return;}this.fn_transaction("bsnsAcntCopyC");};this.div_SEARCH_Combo00_onitemchanged=function(_a,_b){var _c=this.div_SEARCH.Combo00.value;this.ds_cond.setColumn(0,"BUDGET_USE_AT",_c);};this.div_SEARCH_Combo01_onitemchanged=function(_a,_b){var _c=this.div_SEARCH.Combo01.value;this.ds_cond.setColumn(0,"CTNU_USE_AT",_c);};this.fn_checkValidation=function(_a,_b,_c,_d){if(this.comUtils.isNullEmpty(_c)){_c=true;}if(_a instanceof Dataset){return this.fn_checkValidDs(_a,_b,_c,_d);}};this.fn_checkValidDs=function(_a,_b,_c,_d){var _e=this.comUtils.isNullEmpty(_d)?_a.name:_d;if(!this.comUtils.isDatasetUpdated(_a)){if(_c){this.gfn_message("comm.데이터.변경.없음");}return false;}_b.filter("compId=='"+_e+"'");if(_b.getRowCount()==0){_b.filter("");return true;}if(!this.comUtils.isDatasetUpdated(_a)){_b.filter("");return false;}var _f=new Array();var _g="";var _h=_b.findRow("PK","Y");var _i=0;if(_h!= -1){_f[_i]=_b.getColumn(_h,"colId");_g="String("+_f[_i]+")";for(var _ad=_h+1;_ad<_b.getRowCount();_ad++ ){if(_b.getColumn(_ad,"PK")=='Y'){_i++ ;_f[_i]=_b.getColumn(_ad,"colId");_g+="+String("+_f[_i]+")";}}}for(var _ad=0;_ad<_b.getRowCount();_ad++ ){if(_b.getColumn(_ad,"notNull")=='Y'){var _j=_b.getColumn(_ad,"colId");var _k=_a.findRowExpr("dataset.parent.comUtils.isNullEmpty("+_j+") && (dataset.getRowType(rowidx)==Dataset.ROWTYPE_INSERT || dataset.getRowType(rowidx)==Dataset.ROWTYPE_UPDATE)");if(_k> -1){var _l=_b.getColumn(_ad,"msgId");this.gfn_message("comm.항목.입력.을",_l);_a.set_rowposition(_k);var _m=this.gfn_getBindComponent(_a,_j);if(typeof _m!="boolean"){_m.setFocus();_b.filter("");return false;}_a.set_rowposition(_k);_b.filter("");return false;}}if(!this.comUtils.isNullEmpty(_b.getColumn(_ad,"nlength"))){var _n=_b.getColumn(_ad,"nlength");var _j=_b.getColumn(_ad,"colId");var _o=_b.getColumn(_ad,"lengthChkGb");var _p=this._getOperator(_o);var _q=_a.findRowExpr("(dataset.getRowType(rowidx)==Dataset.ROWTYPE_INSERT || dataset.getRowType(rowidx)==Dataset.ROWTYPE_UPDATE) && String("+_j+").length"+_p+_n+"&& String("+_j+") != 'undefined'");if(_q!= -1){var _r=_b.getColumn(_ad,"msgId");var _s=this._getMessage(_o,_r,_n);alert(_s);_a.set_rowposition(_q);_b.filter("");return false;}}if(!this.comUtils.isNullEmpty(_b.getColumn(_ad,"from"))){var _t=_b.getColumn(_ad,"from");var _j=_b.getColumn(_ad,"colId");var _u=_a.findRowExpr("(dataset.getRowType(rowidx)==Dataset.ROWTYPE_INSERT || dataset.getRowType(rowidx)==Dataset.ROWTYPE_UPDATE) && String("+_j+")<"+_t);if(_u!= -1){var _l=_b.getColumn(_ad,"msgId");if(_l.indexOf("^")> -1){var _v=_l.split('^');this.gfn_message("errors.항목값.범위.이상",_v[0]+"|"+_v[1]);}else{this.gfn_message("errors.항목값.범위.이상",_l+" 상한값|"+_l+" 시작값");}_a.set_rowposition(_u);_b.filter("");return false;}}if(!this.comUtils.isNullEmpty(_b.getColumn(_ad,"to"))){var _w=_b.getColumn(_ad,"to");var _j=_b.getColumn(_ad,"colId");var _x=_a.findRowExpr("(dataset.getRowType(rowidx)==Dataset.ROWTYPE_INSERT || dataset.getRowType(rowidx)==Dataset.ROWTYPE_UPDATE) && String("+_j+")>"+_w);if(_x!= -1){var _l=_b.getColumn(_ad,"msgId");if(_l.indexOf("^")> -1){var _v=_l.split('^');this.gfn_message("errors.항목값.범위.이하",_v[0]+"|"+_v[1]);}else{this.gfn_message("errors.항목값.범위.이하",_l+" 시작값|"+_l+" 상한값");}_a.set_rowposition(_x);_b.filter("");return false;}}if(!this.comUtils.isNullEmpty(_b.getColumn(_ad,"expr"))){var _y=_a.findRowExpr(_b.getColumn(_ad,"expr"));if(_y!= -1){var _l=_b.getColumn(_ad,"msgId");this.gfn_message("info.표현식.검색결과.없음",_l);_a.set_rowposition(_y);_b.filter("");return false;}}var _z=_b.getColumn(_ad,"func");if(!this.comUtils.isNullEmpty(_z)){objCollFunc=this.lookupFunc(_z);if(objCollFunc!=null){var _aa=objCollFunc.call();if(!_aa){return;}}}}if(_g!=""){for(var _ad=0;_ad<_a.getRowCount();_ad++ ){if(_a.getRowType(_ad)==Dataset.ROWTYPE_INSERT||_a.getRowType(_ad)==Dataset.ROWTYPE_UPDATE){var _ab="";for(var _ae=0;_ae<_f.length;_ae++ ){_ab+=_a.getColumn(_ad,_f[_ae]);}var _ac= -1;if(_ab!="undefined"){_ac=_a.findRowExpr("rowidx!="+_ad+" && "+_g+"=='"+(_ab)+"'");}if(_ac!= -1){this.gfn_message("info.그리드.데이터.중복",(_ad+1)+"|"+(_ac+1));_a.set_rowposition(_ad);_b.filter("");return false;}}}}_b.filter("");return true;};});this.on_initEvent=function(){this.ds_bsnsAcntCode.addEventHandler("oncolumnchanged",this.ds_bsnsAcntCode_oncolumnchanged,this);this.ds_bsnsAcntCode.addEventHandler("onrowposchanged",this.ds_bsnsAcntCode_onrowposchanged,this);this.ds_ctnu.addEventHandler("oncolumnchanged",this.ds_bsnsAcntCode_oncolumnchanged,this);this.ds_cond00.addEventHandler("oncolumnchanged",this.ds_bsnsAcntCode_oncolumnchanged,this);this.ds_budgetUseAt.addEventHandler("oncolumnchanged",this.ds_bsnsAcntCode_oncolumnchanged,this);this.ds_ctnuUseAt.addEventHandler("oncolumnchanged",this.ds_bsnsAcntCode_oncolumnchanged,this);this.addEventHandler("onload",this.BDG010105_onload,this);this.addEventHandler("oninit",this.BDG010105_oninit,this);this.div_SEARCH.Spin00.addEventHandler("onspin",this.div_SEARCH_Spin00_onspin,this);this.div_SEARCH.Combo00.addEventHandler("onitemchanged",this.div_SEARCH_Combo00_onitemchanged,this);this.div_SEARCH.Combo01.addEventHandler("onitemchanged",this.div_SEARCH_Combo01_onitemchanged,this);this.grd.addEventHandler("onexpanddown",this.tab_tabpage1_grd_onexpanddown,this);this.grd00.addEventHandler("onexpanddown",this.tab_tabpage1_grd_onexpanddown,this);this.btn_Add_B.addEventHandler("onclick",this.btn_Add_B_onclick,this);this.btn_Delete_B.addEventHandler("onclick",this.btn_Delete_B_onclick,this);this.btn_Cancel_B.addEventHandler("onclick",this.btn_Cancel_B_onclick,this);this.btn_Save_M.addEventHandler("onclick",this.btn_Save_M_onclick,this);this.btn_copy.addEventHandler("onclick",this.btn_onclick,this);};this.loadIncludeScript("BDG010105.xfdl");};})();