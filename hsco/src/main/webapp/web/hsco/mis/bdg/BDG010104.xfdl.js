(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("BDG010104");this.set_classname("BDG010104");this.set_titletext("지출단위코드관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"BSNS_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BALC_SE\" type=\"STRING\" size=\"1\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_condSub",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"BSNS_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BALC_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BUDGET_ACNT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_bdg001",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_bdg002",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_acntCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"BSNS_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BALC_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BUDGET_ACNT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"BUDGET_ACNT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"ACNT_LEVEL\" type=\"STRING\" size=\"1\"/><Column id=\"UPPER_ACNT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"ELPD_EXCUT_RT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"ELPD_EXCUT_AT\" type=\"STRING\" size=\"1\"/><Column id=\"PLAN_REGIST_AT\" type=\"STRING\" size=\"1\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"DATE\" size=\"7\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"DATE\" size=\"7\"/><Column id=\"GWAN\" type=\"STRING\" size=\"256\"/><Column id=\"HANG\" type=\"STRING\" size=\"256\"/><Column id=\"SEHANG\" type=\"STRING\" size=\"256\"/><Column id=\"MOK\" type=\"STRING\" size=\"256\"/><Column id=\"BUDGET_ACNT_NM2\" type=\"STRING\" size=\"256\"/><Column id=\"EXPNDTR_UNIT_CNT\" type=\"INT\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_expndtrUnitCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"BSNS_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BALC_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BUDGET_ACNT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"EXPNDTR_UNIT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"EXPNDTR_UNIT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"DETAIL_BSNS_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"DETAIL_BSNS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"TAXITM_CODE\" type=\"STRING\" size=\"2\"/><Column id=\"TAXITM_NM\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"UNIT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"EXCUT_UNIT_AT\" type=\"STRING\" size=\"1\"/><Column id=\"ELPD_EXCUT_AT\" type=\"STRING\" size=\"2\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"DATE\" size=\"7\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"DATE\" size=\"7\"/><Column id=\"ELPD_EXCUT_RT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"BUDGET_CNRL_AT\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CHK\" type=\"STRING\" size=\"256\"/><Column id=\"BSNS_UNIT_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"colId\">YEAR</Col><Col id=\"compId\">ds_cond</Col><Col id=\"msgId\">예산년도</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"compId\">ds_cond</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">사업구분</Col><Col id=\"colId\">BSNS_SE</Col></Row><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">BALC_SE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">수지구분</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">예산년도</Col><Col id=\"colId\">YEAR</Col><Col id=\"PK\">Y</Col><Col id=\"nlength\">4</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">사업구분</Col><Col id=\"colId\">BSNS_SE</Col><Col id=\"nlength\">1</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">수지구분</Col><Col id=\"colId\">BALC_SE</Col><Col id=\"nlength\">1</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">BUDGET_ACNT_CODE</Col><Col id=\"msgId\">계정과목코드</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"nlength\">7</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">EXPNDTR_UNIT_CODE</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"nlength\">8</Col><Col id=\"msgId\">지출단위코드</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">EXPNDTR_UNIT_NM</Col><Col id=\"notNull\">Y</Col><Col id=\"nlength\">50</Col><Col id=\"msgId\">지출단위명</Col><Col id=\"lengthChkGb\">LE</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">TAXITM_CODE</Col><Col id=\"nlength\">2</Col><Col id=\"msgId\">세목코드</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">TAXITM_NM</Col><Col id=\"nlength\">50</Col><Col id=\"msgId\">세목명</Col><Col id=\"lengthChkGb\">LE</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">DEPT_CODE</Col><Col id=\"msgId\">부서코드</Col><Col id=\"notNull\">Y</Col><Col id=\"nlength\">6</Col><Col id=\"lengthChkGb\">LE</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">DEPT_NM</Col><Col id=\"msgId\">부서명</Col><Col id=\"notNull\">Y</Col><Col id=\"nlength\">50</Col><Col id=\"lengthChkGb\">LE</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">UNIT_CODE</Col><Col id=\"msgId\">지출단위코드</Col><Col id=\"notNull\">Y</Col><Col id=\"nlength\">4</Col></Row><Row><Col id=\"compId\">ds_expndtrUnitCode</Col><Col id=\"colId\">DETAIL_BSNS_CODE</Col><Col id=\"msgId\">사업코드</Col><Col id=\"PK\"/><Col id=\"notNull\">Y</Col><Col id=\"nlength\">7</Col><Col id=\"lengthChkGb\">LE</Col><Col id=\"type\"/><Col id=\"from\"/><Col id=\"to\"/><Col id=\"expr\"/><Col id=\"func\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_condSub2",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"BSNS_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BALC_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BUDGET_ACNT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"EXPNDTR_UNIT_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_useAcntCnt",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"RTN_MSG\" type=\"STRING\" size=\"256\"/><Column id=\"TOT_CNT\" type=\"BIGDECIMAL\" size=\"22\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_useYearCnt",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"RTN_MSG\" type=\"STRING\" size=\"256\"/><Column id=\"TOT_CNT\" type=\"BIGDECIMAL\" size=\"22\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_inpYn",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"INP_YN\" type=\"STRING\" size=\"1\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"BSNS_SE\" type=\"STRING\" size=\"1\"/><Column id=\"BALC_SE\" type=\"STRING\" size=\"1\"/><Column id=\"DETAIL_BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BUDGET_ACNT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_expndtrBsnsCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"EXPNDTR_BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DETAIL_BSNS_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Grid("grd_acntCode","absolute","0","67","390",null,null,"0",this);_a.set_taborder("9");_a.set_binddataset("ds_acntCode");_a.set_cellsizingtype("col");_a.set_autoenter("select");_a.set_treeinitstatus("expand,all");_a.set_treeuseimage("false");_a.set_treeusecheckbox("false");_a.set_treeuseexpandkey("true");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"35\"/><Column size=\"295\"/><Column size=\"55\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"예산계정과목\"/><Cell col=\"2\" text=\"지출단위\"/></Band><Band id=\"body\"><Cell style=\"background:EXPR(ACNT_LEVEL&gt;(YEAR&gt;=2016?'4':'3') ? '#ffffffff' : '#f6f7ff');background2:EXPR(ACNT_LEVEL&gt;(YEAR&gt;=2016?'4':'3') ? '#ffffffff' : '#f6f7ff');selectbackground: ;\" text=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'new' : currow+1\"/><Cell col=\"1\" displaytype=\"tree\" edittype=\"tree\" style=\"align:left middle;background:EXPR(ACNT_LEVEL&gt;(YEAR&gt;=2016?'4':'3') ? '#ffffffff' : '#f6f7ff');background2:EXPR(ACNT_LEVEL&gt;(YEAR&gt;=2016?'4':'3') ? '#ffffffff' : '#f6f7ff');\" text=\"bind:BUDGET_ACNT_NM2\" suppress=\"1\" suppressalign=\"first,over\" treelevel=\"bind:ACNT_LEVEL\" tooltiptext=\"bind:BUDGET_ACNT_NM2\"/><Cell col=\"2\" style=\"background:EXPR(ACNT_LEVEL&gt;(YEAR&gt;=2016?'4':'3') ? '#ffffffff' : '#f6f7ff');background2:EXPR(ACNT_LEVEL&gt;(YEAR&gt;=2016?'4':'3') ? '#ffffffff' : '#f6f7ff');\" text=\"expr:EXPNDTR_UNIT_CNT &gt; 0 ? EXPNDTR_UNIT_CNT : ''\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Grid("grd_expndtrUnitCode","absolute","400","67",null,null,"28","0",this);_a.set_taborder("10");_a.set_binddataset("ds_expndtrUnitCode");_a.set_autoenter("select");_a.set_cellsizingtype("col");_a.set_treeuseimage("false");_a.set_treeuseexpandkey("true");_a.set_treeinitstatus("expand,all");_a.set_treeusebutton("no");_a.set_treeusecheckbox("false");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"60\"/><Column size=\"100\"/><Column size=\"0\"/><Column size=\"0\"/><Column size=\"35\"/><Column size=\"70\"/><Column size=\"90\"/><Column size=\"35\"/><Column size=\"80\"/><Column size=\"45\"/><Column size=\"125\"/><Column size=\"60\"/><Column size=\"80\"/><Column size=\"70\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"집행단위\"/><Cell col=\"1\" text=\"지출단위(자동)\"/><Cell col=\"2\" colspan=\"2\" text=\"세목코드/명\"/><Cell col=\"4\" colspan=\"3\" text=\"사업코드/명\"/><Cell col=\"7\" colspan=\"2\" text=\"부서코드/명\"/><Cell col=\"9\" colspan=\"2\" text=\"지출단위코드/명\"/><Cell col=\"11\" text=\"조기집행\"/><Cell col=\"12\" text=\"조기집행율\"/><Cell col=\"13\" text=\"통제여부\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:EXCUT_UNIT_AT\"/><Cell col=\"1\" text=\"bind:EXPNDTR_UNIT_CODE\" mask=\"@@-@@-@@-@@\" tooltiptext=\"bind:EXPNDTR_UNIT_CODE\"/><Cell col=\"2\" edittype=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? &quot;mask&quot; : &quot;none&quot;\" style=\"align:center middle;font:underline 9 arial bold;selectfont:underline 9 arial bold;\" text=\"bind:TAXITM_CODE\" mask=\"##\" editdisplay=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? &quot;display&quot; : &quot;edit&quot;\" editlimitbymask=\"both\" tooltiptext=\"bind:TAXITM_CODE\"/><Cell col=\"3\" edittype=\"expr:YEAR &lt; '2016' ? 'text' : 'none'\" text=\"bind:TAXITM_NM\" tooltiptext=\"bind:TAXITM_NM\"/><Cell col=\"4\" edittype=\"expr:dataset.getColumn(currow,&quot;YEAR&quot;) &gt; 2016 ? 'none':'text'\" style=\"font:underline 9 arial bold;selectfont:underline 9 arial bold;\" text=\"bind:BSNS_UNIT_CODE\" tooltiptext=\"bind:BSNS_UNIT_CODE\"/><Cell col=\"5\" text=\"bind:DETAIL_BSNS_CODE\" editlimit=\"7\" editlengthunit=\"utf8\" expandshow=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? &quot;show&quot; : &quot;hide&quot;\" tooltiptext=\"bind:DETAIL_BSNS_CODE\"/><Cell col=\"6\" edittype=\"expr:YEAR &lt; '2016' ? 'text' : 'none'\" style=\"align:left middle;selectbackground: ;\" text=\"bind:DETAIL_BSNS_NM\" editdisplay=\"expr:YEAR &lt; '2016' ? 'display' : 'edit'\" tooltiptext=\"bind:TAXITM_NM\"/><Cell col=\"7\" style=\"font:underline 9 arial bold;selectfont:underline 9 arial bold;\" text=\"expr:(DEPT_CODE?DEPT_CODE:&quot;    &quot;).substr(2,2)\" expandshow=\"expr:dataset.getRowType(currow) != Dataset.ROWTYPE_INSERT ? &quot;hide&quot; : dataset.getColumn(currow,&quot;DEPT_CHK&quot;) ==&quot;Y&quot; ?  &quot;show&quot; : &quot;hide&quot;\" tooltiptext=\"bind:DEPT_CODE\"/><Cell col=\"8\" style=\"align:left middle;selectbackground: ;\" text=\"bind:DEPT_NM\" expandsize=\"13\" tooltiptext=\"bind:DEPT_NM\"/><Cell col=\"9\" displaytype=\"text\" edittype=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? &quot;mask&quot; : &quot;none&quot;\" style=\"align:center middle;font:underline 9 arial bold;selectfont:underline 9 arial bold;\" text=\"bind:UNIT_CODE\" mask=\"####\" editdisplay=\"expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? &quot;display&quot; : &quot;edit&quot;\"/><Cell col=\"10\" edittype=\"text\" style=\"align:left middle;\" text=\"bind:EXPNDTR_UNIT_NM\" editdisplay=\"display\" tooltiptext=\"bind:EXPNDTR_UNIT_NM\"/><Cell col=\"11\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:ELPD_EXCUT_AT\"/><Cell col=\"12\" edittype=\"expr:ELPD_EXCUT_AT=='1' ? &quot;masknumber&quot; : &quot;none&quot;\" style=\"align:right middle;\" text=\"bind:ELPD_EXCUT_RT\" mask=\"###.##%\" editdisplay=\"expr:ELPD_EXCUT_AT=='1' ? 'display' : 'edit'\" editlimitbymask=\"both\"/><Cell col=\"13\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:BUDGET_CNRL_AT\" suppress=\"0\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("btn_Add","absolute",null,"43","64","19","-70",null,this);_a.set_taborder("6");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_Delete","absolute",null,"43","64","19","-137",null,this);_a.set_taborder("7");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_Cancel","absolute",null,"43","64","19","-204",null,this);_a.set_taborder("8");_a.set_text("취소");_a.set_cssclass("btn_WF_Gridcnl");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta_acntCode","absolute","0","43","120","19",null,null,this);_a.set_taborder("3");_a.set_text("예산계정리스트");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("sta_ExpndtrUnitCode","absolute","400","43","120","19",null,null,this);_a.set_taborder("5");_a.set_text("지출단위리스트");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("0");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_YEAR","absolute","15","5","64","21",null,null,this.div_search);_a.set_taborder("1");_a.set_text("예산년도");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");_a.style.set_background("transparent");this.div_search.addChild(_a.name,_a);_a=new Static("sta_BSNS_SE","absolute","154","5","64","21",null,null,this.div_search);_a.set_taborder("4");_a.set_text("사업구분");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cbo_BSNS_SE","absolute","218","5","84","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("5");_a.set_innerdataset("@ds_bdg001");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a=new Static("sta_BALC_SE","absolute","317","5","77","21",null,null,this.div_search);_a.set_taborder("7");_a.set_text("수/지구분");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Radio("rdo_BALC_SE","absolute","394","5","100","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("8");_a.set_innerdataset("@ds_bdg002");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_direction("vertical");_a=new Static("Static36","absolute","488","0","38","5",null,null,this.div_search);_a.set_taborder("12");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static37","absolute","488",null,"38","5",null,"0",this.div_search);_a.set_taborder("13");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","5","15",null,null,"5",this.div_search);_a.set_taborder("0");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","139","5","15",null,null,"5",this.div_search);_a.set_taborder("3");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","302","5","15",null,null,"5",this.div_search);_a.set_taborder("6");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Combo("cbo_ACNT_CODE","absolute","829","5","197","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("11");_a.set_innerdataset("@ds_acntCode");_a.set_codecolumn("BUDGET_ACNT_CODE");_a.set_datacolumn("BUDGET_ACNT_NM");_a.set_type("filter");_a=new Static("sta_ACNT_CODE","absolute","765","5","64","21",null,null,this.div_search);_a.set_taborder("10");_a.set_text("계정과목");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","494","5","15",null,null,"5",this.div_search);_a.set_taborder("9");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Spin("spn_YEAR","absolute","79","5","60","21",null,null,this.div_search);_a.set_taborder("2");_a.set_value("0");_a.style.set_buttonsize("15");_a.set_max("9999");this.div_search.addChild(_a.name,_a);_a=new Static("Static03","absolute","747","5","15","21",null,null,this.div_search);_a.set_taborder("14");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Div("div_srchDept","absolute","552","5","195","21",null,null,this.div_search);_a.set_taborder("15");_a.set_async("false");_a.set_enable("false");_a.set_enableevent("false");_a.set_url("com::deptCode.xfdl");this.div_search.addChild(_a.name,_a);_a=new Static("sta_DEPT_CODE","absolute","514","5","38","21",null,null,this.div_search);_a.set_taborder("16");_a.set_text("부서");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","33",null,"10","28",null,this);_a.set_taborder("11");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","62",null,"5","28",null,this);_a.set_taborder("31");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static42","absolute","390","33","10",null,null,"0",this);_a.set_taborder("4");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","1031","0","15","735",null,null,this);_a.set_taborder("34");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute",null,"0","13","735","0",null,this);_a.set_taborder("35");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_titleAcnt","absolute","111","43","279","19",null,null,this);_a.set_taborder("36");_a.set_text("('목'단위만 지출단위의 추가가 가능합니다)");_a.style.set_color("blue");_a.style.set_padding("0 0 0 0");_a.style.set_align("right middle");_a.style.set_font("bold 9 Gulim");this.addChild(_a.name,_a);_a=new Static("sta_titleUnit","absolute","510","43",null,"19","141",null,this);_a.set_taborder("37");_a.set_text("()");_a.style.set_color("blue");_a.style.set_padding("0 0 0 0");_a.style.set_align("left middle");_a.style.set_font("bold 9 Gulim");this.addChild(_a.name,_a);_a=new Button("btn_copy","absolute",null,"42","76","21","28",null,this);_a.set_taborder("38");_a.set_text("전년도복사");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("0");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("BDG010104");_b.set_titletext("지출단위코드관리");});this.addLayout(_a.name,_a);_a=new BindItem("item1","div_search.cbo_BSNS_SE","value","ds_cond","BSNS_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_search.rdo_BALC_SE","value","ds_cond","BALC_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","div_search.cbo_ACNT_CODE","value","ds_cond","BUDGET_ACNT_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item14","div_search.spn_YEAR","value","ds_cond","YEAR");this.addChild(_a.name,_a);_a.bind();_a=null;};this.loadPreloadList=function(){this._addPreloadList("fdl","com::deptCode.xfdl");};this.addIncludeScript("BDG010104.xfdl","lib::comInclude.xjs");this.addIncludeScript("BDG010104.xfdl","mis_lib::misUtil.xjs");this.registerScript("BDG010104.xfdl",function(){this.checkDs=[this.ds_expndtrUnitCode];this.inpAt=1;this.BDG010104_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.BDG010104_onload=function(_a,_b){};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);this.div_search.div_srchDept.fn_setBind("ds_cond","DEPT_CODE","DEPT_NM");this.ds_cond.clearData();var _a=this.ds_cond.addRow();this.ds_cond.setColumn(_a,"YEAR",this.comUtils.getClientDate("YYYY"));if(this.gfn_authcode("108")!= -1){this.div_search.div_srchDept.set_enable(true);this.ds_cond.setColumn(_a,"DEPT_CODE","000000");this.ds_cond.setColumn(_a,"DEPT_NM","화성도시공사");}else{this.ds_cond.setColumn(_a,"DEPT_CODE",this.gfn_getDeptId());this.ds_cond.setColumn(_a,"DEPT_NM",this.gfn_getDeptName());}var _b=[["ds_bdg001","BDG001","Y","D","B"],["ds_bdg002","BDG002","Y","D","B"]];var _c=function(_d,_e,_f){this.ds_cond.setColumn(_a,"BSNS_SE","1");this.ds_cond.setColumn(_a,"BALC_SE","2");this.fn_search();};this.gfn_comboLoad(_b,_c);};this.fn_init_dataset=function(){};this.fn_search=function(){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}this.ds_acntCode.clearData();this.ds_expndtrUnitCode.clearData();this.fn_transaction("selectBudgetAcntCode");};this.fn_search_sub=function(){this.ds_expndtrUnitCode.clearData();if(this.ds_acntCode.getRowCount()>0){this.fn_transaction("selectExpndtrUnitCode");}};this.fn_save=function(){if(!this.gfn_checkValidation(this.ds_expndtrUnitCode,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("saveExpndtrUnitCode");}};this.fn_transaction=function(_a){switch(_a){case "selectBudgetAcntCode":var _b="/hsco/mis/bdg/BDG010104/selectBudgetAcntCode.do";var _c="input1=ds_cond";var _d="ds_acntCode=output1 ds_inpYn=output2";break;case "selectExpndtrUnitCode":var _e=this.ds_acntCode.rowposition;var _f=this.ds_acntCode.getColumn(_e,"YEAR");var _g=this.ds_acntCode.getColumn(_e,"BSNS_SE");var _h=this.ds_acntCode.getColumn(_e,"BALC_SE");var _i=this.ds_acntCode.getColumn(_e,"BUDGET_ACNT_CODE");var _j=this.ds_cond.getColumn(0,"DEPT_CODE");this.ds_condSub.clearData();var _k=this.ds_condSub.addRow();this.ds_condSub.setColumn(_k,"YEAR",_f);this.ds_condSub.setColumn(_k,"BSNS_SE",_g);this.ds_condSub.setColumn(_k,"BALC_SE",_h);this.ds_condSub.setColumn(_k,"BUDGET_ACNT_CODE",_i);this.ds_condSub.setColumn(_k,"DEPT_CODE",_j);var _b="/hsco/mis/bdg/BDG010104/selectExpndtrUnitCode.do";var _c="input1=ds_condSub";var _d="ds_expndtrUnitCode=output1";break;case "saveExpndtrUnitCode":var _b="hsco/mis/bdg/BDG010104/saveExpndtrUnitCode.do";var _c="input1=ds_expndtrUnitCode:U";var _d="";break;case "selectUseYearCnt":var _f=this.ds_cond.getColumn(0,"YEAR");this.ds_condSub2.clearData();var _k=this.ds_condSub2.addRow();this.ds_condSub2.setColumn(_k,"YEAR",_f);this.ds_useYearCnt.clearData();var _b="/hsco/mis/bdg/BDG010104/selectUseYearCnt.do";var _c="input1=ds_condSub2";var _d="ds_useYearCnt=output1";break;case "selectUseAcntCnt":var _l=this.ds_expndtrUnitCode.rowposition;var _f=this.ds_expndtrUnitCode.getColumn(_l,"YEAR");var _g=this.ds_expndtrUnitCode.getColumn(_l,"BSNS_SE");var _h=this.ds_expndtrUnitCode.getColumn(_l,"BALC_SE");var _m=this.ds_expndtrUnitCode.getColumn(_l,"BUDGET_ACNT_CODE");var _n=this.ds_expndtrUnitCode.getColumn(_l,"EXPNDTR_UNIT_CODE");this.ds_condSub2.clearData();var _k=this.ds_condSub2.addRow();this.ds_condSub2.setColumn(_k,"YEAR",_f);this.ds_condSub2.setColumn(_k,"BSNS_SE",_g);this.ds_condSub2.setColumn(_k,"BALC_SE",_h);this.ds_condSub2.setColumn(_k,"BUDGET_ACNT_CODE",_m);this.ds_condSub2.setColumn(_k,"EXPNDTR_UNIT_CODE",_n);this.ds_useAcntCnt.clearData();var _b="/hsco/mis/bdg/BDG010104/selectUseAcntCnt.do";var _c="input1=ds_condSub2";var _d="ds_useAcntCnt=output1";break;case "saveCopyPrvYear":var _b="hsco/mis/bdg/BDG010104/saveCopyPrvYear.do";var _c="input1=ds_cond";var _d="";break;case "selectBsnsAcntCode":var _b="hsco/mis/bdg/BDG010104/selectBsnsAcntCode.do";var _c="input1=ds_cond00";var _d="ds_expndtrBsnsCode=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b==0){switch(_a){case "selectBudgetAcntCode":var _d=this.ds_cond.getColumn(0,"YEAR");if(_d<2016){this.sta_titleAcnt.set_text("('목'단위만 지출단위의 추가가 가능합니다)");this.sta_titleUnit.set_text("(세목단위 지출시에도 지출단위코드를 입력바랍니다)");}else{this.sta_titleAcnt.set_text("('세목'단위만 지출단위의 추가가 가능합니다)");this.sta_titleUnit.set_text("(2016년도 이후의 세목명은 사업명으로 고정됩니다)");}this.inpAt='1';if(this.inpAt!='1'){this.sta_titleAcnt.set_text("");this.sta_titleUnit.set_text("(해당 조회조건에 부합하는 마감기간이 존재하지 않습니다.)");this.grd_expndtrUnitCode.setCellProperty("Body",0,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",2,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",5,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",8,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",9,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",10,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",11,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",12,"edittype","none");}else{this.grd_expndtrUnitCode.setCellProperty("Body",0,"edittype","checkbox");this.grd_expndtrUnitCode.setCellProperty("Body",2,"edittype","none");this.grd_expndtrUnitCode.setCellProperty("Body",5,"edittype","expr:YEAR < '2016' ? 'text' : 'none'");this.grd_expndtrUnitCode.setCellProperty("Body",8,"edittype","expr:YEAR < '2016' ? 'text' : 'none'");this.grd_expndtrUnitCode.setCellProperty("Body",9,"edittype","expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'mask' : 'none'");this.grd_expndtrUnitCode.setCellProperty("Body",10,"edittype","text");this.grd_expndtrUnitCode.setCellProperty("Body",11,"edittype","checkbox");this.grd_expndtrUnitCode.setCellProperty("Body",12,"edittype","expr:ELPD_EXCUT_AT=='1' ? 'masknumber' : 'none'");}break;case "selectExpndtrUnitCode":break;case "saveExpndtrUnitCode":this.fn_transaction("selectExpndtrUnitCode");break;case "selectUseAcntCnt":var _e=this.ds_useAcntCnt.getColumn(0,"RTN_MSG");var _f=nexacro.toNumber(this.ds_useAcntCnt.getColumn(0,"TOT_CNT"));if(_f>0){this.gfn_message("info.확인.진행가능","현 계정을 사용하는 <"+_e+"> 삭제 ",_e);return false;}if(!this.gfn_message("confirm.삭제여부")){return false;}this.ds_expndtrUnitCode.deleteRow(this.ds_expndtrUnitCode.rowposition);break;case "selectUseYearCnt":var _e=this.ds_useYearCnt.getColumn(0,"RTN_MSG");var _f=nexacro.toNumber(this.ds_useYearCnt.getColumn(0,"TOT_CNT"));if(_f>0){this.gfn_message("info.확인.진행가능","현 연도를 사용하는 <"+_e+"> 삭제 ",_e);return false;}if(this.gfn_message("confirm.복사.여부","(자동저장) 전년 지출단위|당해 지출단위")){this.fn_transaction("saveCopyPrvYear");}break;case "saveCopyPrvYear":this.fn_search();break;case "selectBsnsAcntCode":if(this.ds_cond00.getColumn(0,"YEAR")>2016){var _g=this.ds_expndtrUnitCode.rowposition;this.ds_expndtrUnitCode.setColumn(_g,"BSNS_UNIT_CODE",this.ds_expndtrBsnsCode.getColumn(0,"EXPNDTR_BSNS_CODE"));}break;}}else if(_b!='0'){this.gfn_callback_message(_a,_b,_c);}};this.fn_popupCallBack=function(_a,_b){if(_a=="bsnsPop"){var _c=new Dataset();var _d=_c.loadXML(_b);if(_d){var _e=_c.getColumn(0,"SE_ACCNUT_ACNT_CODE");var _f=_c.getColumn(0,"SE_ACCNUT_ACNT_NM");var _g=this.ds_expndtrUnitCode.rowposition;this.ds_expndtrUnitCode.setColumn(_g,"DETAIL_BSNS_CODE",_e);this.ds_expndtrUnitCode.setColumn(_g,"DETAIL_BSNS_NM",_f);this.ds_cond00.clearData();var _h=this.ds_cond00.addRow();this.ds_cond00.copyRow(_h,this.ds_cond,0);this.ds_cond00.setColumn(_h,"DETAIL_BSNS_CODE",_e);this.fn_transaction("selectBsnsAcntCode");}}if(_a=="deptPop"){var _i=new Dataset();var _d=_i.loadXML(_b);if(_d){var _j=_i.getColumn(0,"DEPT_CODE");var _k=_i.getColumn(0,"DEPT_NM");var _g=this.ds_expndtrUnitCode.rowposition;this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CODE",_j);this.ds_expndtrUnitCode.setColumn(_g,"DEPT_NM",_k);}}};this.ds_acntCode_canrowposchange=function(_a,_b){if(Ex.util.isUpdated(this.ds_expndtrUnitCode)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}};this.ds_acntCode_onrowposchanged=function(_a,_b){this.fn_search_sub();};this.ds_expndtrUnitCode_cancolumnchange=function(_a,_b){var _c=_a.getColumn(_b.row,"TAXITM_CODE");if(_b.columnid=="TAXITM_NM"){_a.findRowExpr("TAXITM_NM!=null && TAXITM_CODE=='"+_c+"'");}if(_b.columnid=="ELPD_EXCUT_RT"){if(_b.newvalue>100){this.gfn_message("errors.항목.입력값.이하","조기집행율|100%");return false;}}};this.ds_expndtrUnitCode_oncolumnchanged=function(_a,_b){if(_b.columnid=="TAXITM_CODE"){var _c=_b.newvalue;if(_c.indexOf(" ")> -1){this.gfn_message("errors.항목.타입.숫자형","세목코드");_a.setColumn(_b.row,_b.columnid,_b.oldvalue);}else if(!this.comUtils.isNull(_b.newvalue)&&(_b.newvalue+"").length==2){var _d=_c;var _e=(_a.getColumn(_b.row,"EXPNDTR_UNIT_CODE")+"").substr(2);_a.setColumn(_b.row,"EXPNDTR_UNIT_CODE",_d+""+_e);}}if(_b.columnid=="BSNS_UNIT_CODE"){var _f=_b.newvalue;if(_f.indexOf(" ")> -1){this.gfn_message("errors.항목.타입.숫자형","부서코드");_a.setColumn(_b.row,_b.columnid,_b.oldvalue);}else if(!this.comUtils.isNull(_b.newvalue)&&(_b.newvalue+"").length==2){var _d=_f;var _e=(_a.getColumn(_b.row,"EXPNDTR_UNIT_CODE")+"").substr(2);_a.setColumn(_b.row,"EXPNDTR_UNIT_CODE",_d+""+_e);}}if(_b.columnid=="DEPT_CODE"){var _g=_b.newvalue;if(_g.indexOf(" ")> -1){this.gfn_message("errors.항목.타입.숫자형","부서코드");_a.setColumn(_b.row,_b.columnid,_b.oldvalue);}else if(!this.comUtils.isNull(_b.newvalue)&&(_b.newvalue+"").length==6){var _h=(_a.getColumn(_b.row,"EXPNDTR_UNIT_CODE")+"").substr(0,2);var _d=_g.substr(2,2);var _e=(_a.getColumn(_b.row,"EXPNDTR_UNIT_CODE")+"").substr(4);_a.setColumn(_b.row,"EXPNDTR_UNIT_CODE",_h+""+_d+""+_e);}}if(_b.columnid=="DETAIL_BSNS_CODE"){var _i=_b.newvalue;if(_i.indexOf(" ")> -1){this.gfn_message("errors.항목.타입.숫자형","부서코드");_a.setColumn(_b.row,_b.columnid,_b.oldvalue);}else if(!this.comUtils.isNull(_b.newvalue)&&(_b.newvalue+"").length==7){var _h=(_a.getColumn(_b.row,"EXPNDTR_UNIT_CODE")+"").substr(0,4);}}if(_b.columnid=="UNIT_CODE"){var _j=_b.newvalue;if(_j.indexOf(" ")> -1){this.gfn_message("errors.항목.타입.숫자형","지출단위코드");_a.setColumn(_b.row,_b.columnid,_b.oldvalue);}else if(!this.comUtils.isNull(_b.newvalue)&&(_b.newvalue+"").length==4){var _h=(_a.getColumn(_b.row,"EXPNDTR_UNIT_CODE")+"").substr(0,4);var _d=_j;_a.setColumn(_b.row,"EXPNDTR_UNIT_CODE",_h+""+_d);}}if(_b.columnid=="ELPD_EXCUT_AT"){if(_b.newvalue=='1'){_a.set_enableevent(false);_a.setColumn(_b.row,"ELPD_EXCUT_RT",85);_a.set_enableevent(true);}else{_a.set_enableevent(false);_a.setColumn(_b.row,"ELPD_EXCUT_RT",0);_a.set_enableevent(true);}}};this.grd_expndtrUnitCode_onexpandup=function(_a,_b){if(_b.col=='5'){var _c=this.div_search.spn_YEAR.value;var _d={arg_0:this,year:_c};this.gfn_popup("bsnsPop",800,530,"사업선택",_d,"mis_acc::ACC000000_P04.xfdl","fn_popupCallBack",true);}if(_b.col=='7'){this.gfn_popup("deptPop",400,400,"부서선택",null,"com::deptCode_P01.xfdl","fn_popupCallBack",true);}};this.fn_insert=function(){if(this.inpAt!='1'){this.gfn_message("errors.없음.요청","해당 조회조건에 부합하는 마감기간이|예산편성마감기간 화면을");return false;}var _a=this.ds_cond.getColumn(0,"YEAR");var _b=_a<2016?4:5;var _c=_a<2016?"목":"세목";var _d=this.ds_acntCode.rowposition;var _e=this.ds_acntCode.getColumn(_d,"ACNT_LEVEL");var _f=(_e==_b?true:false);if(!_f){this.gfn_message("info.저장.초과","'"+_c+"'단위의 지출단위만");return false;}var _g=this.ds_expndtrUnitCode.addRow();this.ds_expndtrUnitCode.copyRow(_g,this.ds_acntCode,_d);this.ds_expndtrUnitCode.setColumn(_g,"EXCUT_UNIT_AT",1);if(this.ds_cond.getColumn(0,"DEPT_CODE")!="000000"){var _h=this.ds_cond.getColumn(0,"DEPT_CODE");var _i=this.ds_cond.getColumn(0,"DEPT_NM");this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CODE",_h);this.ds_expndtrUnitCode.setColumn(_g,"DEPT_NM",_i);this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CHK","N");}else{this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CODE",this.ds_expndtrUnitCode.getColumn(_g-1,"DEPT_CODE"));this.ds_expndtrUnitCode.setColumn(_g,"DEPT_NM",this.ds_expndtrUnitCode.getColumn(_g-1,"DEPT_NM"));this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CHK","Y");}this.ds_expndtrUnitCode.setColumn(_g,"EXPNDTR_UNIT_CODE","        ");this.ds_expndtrUnitCode.setColumn(_g,"BUDGET_CNRL_AT","1");if(_a>=2016){var _j=this.ds_acntCode.getColumn(_d,"BUDGET_ACNT_CODE");var _k=_j.substr(6,1).padLeft(2,"0");var _l=this.ds_acntCode.getColumn(_d,"BUDGET_ACNT_NM");this.ds_expndtrUnitCode.setColumn(_g,"TAXITM_CODE",_k);this.ds_expndtrUnitCode.setColumn(_g,"TAXITM_NM",_l);var _h=this.ds_expndtrUnitCode.getColumn(_g,"DEPT_CODE");if(_a==2016){this.ds_expndtrUnitCode.setColumn(_g,"BSNS_UNIT_CODE","01");this.ds_expndtrUnitCode.setColumn(_g,"UNIT_CODE","0100");}else{this.ds_expndtrUnitCode.setColumn(_g,"BSNS_UNIT_CODE","00");this.ds_expndtrUnitCode.setColumn(_g,"EXPNDTR_UNIT_CODE","00000000");this.ds_expndtrUnitCode.setColumn(_g,"UNIT_CODE","0100");}if(_g-1<0){this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CODE","000000");}else{this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CODE","000000");this.ds_expndtrUnitCode.setColumn(_g,"DEPT_CODE",_h);}}};this.fn_delete=function(){if(this.inpAt!='1'){this.gfn_message("errors.없음.요청","해당 조회조건에 부합하는 마감기간이|예산편성마감기간 화면을");return false;}if(this.ds_expndtrUnitCode.getRowCount()==0){return false;}this.fn_transaction("selectUseAcntCnt");};this.fn_cancel=function(){if(Ex.util.isUpdated(this.ds_expndtrUnitCode)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.ds_expndtrUnitCode.reset();};this.btn_copy_onclick=function(_a,_b){if(Ex.util.isUpdated(this.ds_cond)){this.gfn_message("info.처리불가","복사하기 전에 조회 먼저 해야합니다.");return;}if(this.inpAt!='1'){this.gfn_message("errors.없음.요청","해당 조회조건에 부합하는 마감기간이|예산편성마감기간 화면을");return false;}if(this.ds_acntCode.getSum("EXPNDTR_UNIT_CNT")>0){this.gfn_message("info.처리불가","해당년도에 지출단위코드가 존재하여 복사할 수 없습니다.");return false;}this.fn_transaction("selectUseYearCnt");};this.div_search_spn_YEAR_onchanged=function(_a,_b){};});this.on_initEvent=function(){this.ds_acntCode.addEventHandler("onrowposchanged",this.ds_acntCode_onrowposchanged,this);this.ds_acntCode.addEventHandler("canrowposchange",this.ds_acntCode_canrowposchange,this);this.ds_expndtrUnitCode.addEventHandler("oncolumnchanged",this.ds_expndtrUnitCode_oncolumnchanged,this);this.ds_expndtrUnitCode.addEventHandler("cancolumnchange",this.ds_expndtrUnitCode_cancolumnchange,this);this.addEventHandler("onload",this.BDG010104_onload,this);this.addEventHandler("oninit",this.BDG010104_oninit,this);this.grd_expndtrUnitCode.addEventHandler("onexpandup",this.grd_expndtrUnitCode_onexpandup,this);this.btn_Add.addEventHandler("onclick",this.btn_Add_onclick,this);this.btn_Delete.addEventHandler("onclick",this.btn_Delete_onclick,this);this.btn_Cancel.addEventHandler("onclick",this.btn_Cancel_onclick,this);this.div_search.spn_YEAR.addEventHandler("onchanged",this.div_search_spn_YEAR_onchanged,this);this.div_search.spn_YEAR.addEventHandler("onspin",this.div_search_spn_YEAR_onspin,this);this.btn_copy.addEventHandler("onclick",this.btn_copy_onclick,this);};this.loadIncludeScript("BDG010104.xfdl");this.loadPreloadList();};})();