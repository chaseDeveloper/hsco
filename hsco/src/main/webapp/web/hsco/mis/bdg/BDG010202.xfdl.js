(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("BDG010202");this.set_classname("BDG010202");this.set_titletext("부기코드관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"WRK_YR\" type=\"STRING\" size=\"4\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a.set_useclientlayout("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"colId\">WRK_YR</Col><Col id=\"compId\">ds_cond</Col><Col id=\"msgId\">조회년도</Col><Col id=\"notNull\">Y</Col><Col id=\"PK\"/></Row><Row><Col id=\"compId\">ds_drctMatterFlflList</Col><Col id=\"msgId\">담당자</Col><Col id=\"colId\">ICPR_EMPNO</Col><Col id=\"notNull\">Y</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_bdg028",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_bdg027",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_bdg026",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_drctMatterList",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"WRK_YR\" type=\"STRING\" size=\"0\"/><Column id=\"SN\" type=\"STRING\" size=\"0\"/><Column id=\"NSTC_DS\" type=\"STRING\" size=\"0\"/><Column id=\"NSTC_DE\" type=\"STRING\" size=\"0\"/><Column id=\"ADM_NO\" type=\"STRING\" size=\"0\"/><Column id=\"NSTC_TL\" type=\"STRING\" size=\"0\"/><Column id=\"NSTC_CTS\" type=\"STRING\" size=\"0\"/><Column id=\"PRC_TLMT_DE\" type=\"STRING\" size=\"0\"/><Column id=\"CMPL_DE\" type=\"STRING\" size=\"0\"/><Column id=\"RM\" type=\"STRING\" size=\"0\"/><Column id=\"PGRS_DS_CODE\" type=\"STRING\" size=\"0\"/><Column id=\"PFM_DE\" type=\"STRING\" size=\"0\"/><Column id=\"NSTC_CD_CODE\" type=\"STRING\" size=\"0\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"0\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"0\"/><Column id=\"TEAM_CODE\" type=\"STRING\" size=\"0\"/><Column id=\"TEAM_NM\" type=\"STRING\" size=\"0\"/><Column id=\"ICPR_EMPNO\" type=\"STRING\" size=\"0\"/><Column id=\"ICPR_EMPNM\" type=\"STRING\" size=\"0\"/><Column id=\"PFM_DS_CODE\" type=\"STRING\" size=\"0\"/><Column id=\"PFM_DTLS\" type=\"STRING\" size=\"0\"/><Column id=\"APV_AT\" type=\"STRING\" size=\"0\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"0\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_drctMatterFlflList",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"WRK_YR\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"TEAM_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"PFM_DE\" type=\"STRING\" size=\"256\"/><Column id=\"ICPR_EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"PFM_DS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"PFM_DTLS\" type=\"STRING\" size=\"256\"/><Column id=\"APV_AT\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"TEAM_NM\" type=\"STRING\" size=\"256\"/><Column id=\"ICPR_EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"ORGINL_FILE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_STRE_COURS\" type=\"STRING\" size=\"256\"/><Column id=\"STRE_FILE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_EXTSN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond2",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"WRK_YR\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond_file",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_fileList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"ORGINL_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_EXTSN\" type=\"string\" size=\"32\"/><Column id=\"FILE_STRE_COURS\" type=\"string\" size=\"32\"/><Column id=\"FILE_ID\" type=\"string\" size=\"32\"/><Column id=\"SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"SYS_SE_CODE\" type=\"string\" size=\"32\"/><Column id=\"FILE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"FILE_TY\" type=\"string\" size=\"32\"/><Column id=\"JOB_SE\" type=\"string\" size=\"32\"/><Column id=\"DELETE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"STRE_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_MG\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_CN\" type=\"string\" size=\"32\"/><Column id=\"FILE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"string\" size=\"32\"/><Column id=\"USE_AT\" type=\"string\" size=\"32\"/><Column id=\"STTUS\" type=\"string\" size=\"32\"/><Column id=\"FILE_SN\" type=\"bigdecimal\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_deptCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("0");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","0","15",null,null,"0",this.div_search);_a.set_taborder("3");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("sta_BUKIP_NM","absolute","15","5","65","21",null,null,this.div_search);_a.set_taborder("4");_a.set_text("조회년도");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Spin("spn_wrkyr","absolute","80","5","65","21",null,null,this.div_search);_a.set_taborder("0");_a.set_value("0");_a.set_max("2100");_a.set_min("1988");_a.set_cssclass("spn_WF_Essential");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","145","0","15",null,null,"0",this.div_search);_a.set_taborder("5");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("sta_BUKIP_NM00","absolute","160","5","65","21",null,null,this.div_search);_a.set_taborder("6");_a.set_text("담당부서");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Div("div_srchDept","absolute","225","5","179","21",null,null,this.div_search);_a.set_taborder("7");_a.set_async("false");_a.set_enable("false");_a.set_url("com::deptCode.xfdl");this.div_search.addChild(_a.name,_a);_a=new Static("Static04","absolute","1031","0","15","735",null,null,this);_a.set_taborder("6");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute",null,"0","13","735","0",null,this);_a.set_taborder("7");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static37","absolute","488",null,"38","5",null,"0",this);_a.set_taborder("8");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","33",null,"10","28",null,this);_a.set_taborder("9");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_drctMatterList","absolute","0","43",null,"19","919",null,this);_a.set_taborder("10");_a.set_text("지시사항 담당자 지정");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","62",null,"5","28",null,this);_a.set_taborder("11");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd_drctMatterList","absolute","0","67",null,null,"28","164",this);_a.set_taborder("1");_a.set_binddataset("ds_drctMatterList");_a.set_autoupdatetype("itemselect");_a.set_cellsizingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"80\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"200\"/><Column size=\"300\"/><Column size=\"120\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"40\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"관리번호\"/><Cell col=\"2\" text=\"진행구분\"/><Cell col=\"3\" text=\"지시구분\"/><Cell col=\"4\" text=\"지시일자\"/><Cell col=\"5\" colspan=\"2\" text=\"담당부서\"/><Cell col=\"7\" colspan=\"2\" text=\"담당팀\"/><Cell col=\"9\" colspan=\"2\" text=\"담당자\"/><Cell col=\"11\" text=\"제목\"/><Cell col=\"12\" text=\"지시내역\"/><Cell col=\"13\" text=\"처리기한\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" edittype=\"none\" text=\"bind:ADM_NO\" editlimit=\"100\" editdisplay=\"edit\" editlengthunit=\"utf8\"/><Cell col=\"2\" displaytype=\"combo\" edittype=\"none\" text=\"bind:PGRS_DS_CODE\" combodataset=\"ds_bdg026\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"edit\" calendardisplay=\"edit\"/><Cell col=\"3\" displaytype=\"combo\" edittype=\"none\" text=\"bind:NSTC_DS\" combodataset=\"ds_bdg027\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"edit\" calendardisplay=\"edit\"/><Cell col=\"4\" displaytype=\"date\" edittype=\"none\" text=\"bind:NSTC_DE\" calendardisplay=\"edit\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" edittype=\"none\" style=\"align: ;\" text=\"bind:DEPT_CODE\"/><Cell col=\"6\" edittype=\"none\" style=\"align:left;\" text=\"bind:DEPT_NM\"/><Cell col=\"7\" edittype=\"none\" style=\"align: ;\" text=\"bind:TEAM_CODE\"/><Cell col=\"8\" edittype=\"none\" style=\"align:left;\" text=\"bind:TEAM_NM\"/><Cell col=\"9\" edittype=\"none\" style=\"align: ;\" text=\"bind:ICPR_EMPNO\"/><Cell col=\"10\" edittype=\"none\" style=\"align:left;\" text=\"bind:ICPR_EMPNM\"/><Cell col=\"11\" edittype=\"none\" style=\"align:left;\" text=\"bind:NSTC_TL\" editlimit=\"1000\" editdisplay=\"edit\" editlengthunit=\"utf8\"/><Cell col=\"12\" displaytype=\"text\" edittype=\"none\" style=\"align:left;\" text=\"bind:NSTC_CTS\" editlimit=\"4000\" editdisplay=\"edit\" editlengthunit=\"utf8\"/><Cell col=\"13\" displaytype=\"date\" edittype=\"none\" text=\"bind:PRC_TLMT_DE\" calendardisplay=\"edit\" calendardisplaynulltype=\"none\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0",null,null,"10","28","154",this);_a.set_taborder("13");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_drctMatterFlflList2","absolute","0",null,"97","19",null,"135",this);_a.set_taborder("14");_a.set_text("이행내역");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","0",null,null,"5","28","130",this);_a.set_taborder("15");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd_drctMatterFlflLisDetail","absolute","0",null,null,"130","28","0",this);_a.set_taborder("2");_a.set_binddataset("ds_drctMatterFlflList");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"120\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"80\"/><Column size=\"300\"/><Column size=\"100\"/><Column size=\"45\"/><Column size=\"45\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"40\"/></Rows><Band id=\"head\"><Cell text=\"이행구분\"/><Cell col=\"1\" text=\"이행일자\"/><Cell col=\"2\" colspan=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"담당팀\"/><Cell col=\"4\" colspan=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"담당자\"/><Cell col=\"6\" text=\"이행내역\"/><Cell col=\"7\" colspan=\"3\" text=\"첨부파일\"/></Band><Band id=\"body\"><Cell displaytype=\"combo\" edittype=\"combo\" style=\"align:left;\" text=\"bind:PFM_DS_CODE\" combodataset=\"ds_bdg026\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"display\"/><Cell col=\"1\" displaytype=\"date\" edittype=\"date\" style=\"align: ;\" text=\"bind:PFM_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"2\" text=\"bind:TEAM_CODE\"/><Cell col=\"3\" style=\"align:left;\" text=\"bind:TEAM_NM\"/><Cell col=\"4\" style=\"align:left;\" text=\"bind:ICPR_EMPNO\"/><Cell col=\"5\" text=\"bind:ICPR_EMPNM\" expandshow=\"show\"/><Cell col=\"6\" displaytype=\"text\" edittype=\"textarea\" style=\"align:left;\" text=\"bind:PFM_DTLS\" editlimit=\"4000\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"7\" style=\"align:left;\" text=\"bind:ORGINL_FILE_NM\"/><Cell col=\"8\" displaytype=\"button\" edittype=\"none\" text=\"업로드\"/><Cell col=\"9\" displaytype=\"button\" text=\"삭제\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("0");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("BDG010202");_b.set_titletext("부기코드관리");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_search.spn_wrkyr","value","ds_cond","WRK_YR");this.addChild(_a.name,_a);_a.bind();_a=null;};this.loadPreloadList=function(){this._addPreloadList("fdl","com::deptCode.xfdl");};this.addIncludeScript("BDG010202.xfdl","lib::comInclude.xjs");this.addIncludeScript("BDG010202.xfdl","mis_lib::misUtil.xjs");this.addIncludeScript("BDG010202.xfdl","lib::comUpDownUtils.xjs");this.registerScript("BDG010202.xfdl",function(){this.saveRow= -1;this.File_UpDownManager=null;this.BDG010202_oninit=function(_a,_b){};this.BDG010202_onload=function(_a,_b){this.gfn_initForm(this);this.fn_misFormInit(this);this.div_search.div_srchDept.fn_setBind("ds_cond","DEPT_CODE","DEPT_NM");var _c={useMultiUpload:true,onChange:this.fn_onFileSelected,onSuccess:this.fn_onFileSuccess};this.File_UpDownManager=new this.fileUpDownManager(this,"MIS","BDG");this.File_UpDownManager.init(_c);var _d=this.dateUtils.format(this.gfn_today(),"yyyy");this.ds_cond.clearData();this.ds_cond.addRow();this.ds_cond.setColumn(0,"WRK_YR",_d);var _e=[["ds_bdg026","BDG026","1",""],["ds_bdg027","BDG027","1",""],["ds_bdg028","BDG028","1",""]];var _f=function(_g,_h,_i){this.fn_transaction("selectDeptCode");};this.gfn_comboLoad(_e,_f);};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);};this.fn_init_dataset=function(){};this.fn_search=function(){if(this.comUtils.isDatasetUpdated(this.ds_drctMatterFlflList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}this.ds_drctMatterList.set_enableevent(false);this.ds_drctMatterList.clearData();this.ds_drctMatterList.set_enableevent(true);this.fn_transaction("selectDrctMatterList");};this.fn_save=function(){if(!this.comUtils.isDatasetUpdated(this.ds_drctMatterFlflList)){this.gfn_message("comm.데이터.변경.없음");return false;}if(!this.gfn_checkValidation_NoUpdChk(this.ds_drctMatterFlflList,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){this.saveRow=this.ds_drctMatterList.rowposition;this.fn_transaction("saveDrctMatterFlflList");}};this.fn_cancel=function(){if(Ex.util.isUpdated(this.ds_drctMatterFlflList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}if(this.gfn_message("confirm.취소여부")){this.ds_drctMatterFlflList.reset();this.ds_drctMatterFlflList.applyChange();}};this.fn_transaction=function(_a){switch(_a){case "selectDeptCode":var _b="/hsco/mis/bdg/BDG010202/selectDeptCode.do";var _c="input1=ds_cond";var _d="ds_deptCode=output1";break;case "selectDrctMatterList":var _b="/hsco/mis/bdg/BDG010202/selectDrctMatterList.do";var _c="input1=ds_cond";var _d="ds_drctMatterList=output1";break;case "selectDrctMatterFlflList":var _b="/hsco/mis/bdg/BDG010202/selectDrctMatterFlflList.do";var _c="input1=ds_cond2";var _d="ds_drctMatterFlflList=output1";break;case "saveDrctMatterFlflList":var _b="/hsco/mis/bdg/BDG010202/saveDrctMatterFlflList.do";var _c="input1=ds_drctMatterFlflList:U";var _d="";break;case "selectAtchFile":var _b="hsco/cmm/file/selectAtchmnFileList.do";var _c="input1=ds_cond_file";var _d="ds_fileList=output1";break;case "deleteFile":var _b="hsco/cmm/file/deleteFile.do";var _c="input1=ds_fileList:U";var _d="ds_fileList=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!='0'){this.gfn_callback_message(_a,_b,_c);}if(_b=='0'){switch(_a){case "selectDeptCode":var _d=this.ds_deptCode.getColumn(0,"DEPT_CODE");var _e=this.ds_deptCode.getColumn(0,"DEPT_NM");this.ds_cond.setColumn(0,"DEPT_CODE",_d);this.ds_cond.setColumn(0,"DEPT_NM",_e);this.fn_search();break;case "selectDrctMatterList":if(this.saveRow> -1){this.ds_drctMatterList.set_rowposition(this.saveRow);this.saveRow= -1;}break;case "selectDrctMatterFlflList":var _f=this.ds_drctMatterFlflList.rowposition;var _g=this.ds_drctMatterFlflList.getColumn(_f,"FILE_SN");this.ds_cond_file.clearData();var _f=this.ds_cond_file.addRow();this.ds_cond_file.setColumn(_f,"FILE_SN",_g);this.fn_transaction("selectAtchFile");break;case "saveDrctMatterFlflList":this.fn_search();break;case "selectAtchFile":if(this.ds_fileList.getRowCount()>0){var _h=this.ds_fileList.rowposition;var _g=this.ds_fileList.getColumn(_h,"FILE_SN");var _i=this.ds_fileList.getColumn(_h,"ORGINL_FILE_NM");var _j=this.ds_fileList.getColumn(_h,"FILE_ORDR");var _f=this.ds_drctMatterFlflList.rowposition;this.ds_drctMatterFlflList.set_enableevent(false);this.ds_drctMatterFlflList.set_updatecontrol(false);this.ds_drctMatterFlflList.setColumn(_f,"FILE_SN",_g);this.ds_drctMatterFlflList.setColumn(_f,"ORGINL_FILE_NM",_i);this.ds_drctMatterFlflList.setColumn(_f,"FILE_ORDR",_j);this.ds_drctMatterFlflList.set_updatecontrol(true);this.ds_drctMatterFlflList.set_enableevent(true);}break;case "deleteFile":var _f=this.ds_drctMatterFlflList.rowposition;this.ds_drctMatterFlflList.setColumn(_f,"FILE_SN","");this.saveRow=this.ds_drctMatterList.rowposition;this.fn_transaction("saveDrctMatterFlflList");break;}}};this.ds_drctMatterList_onrowposchanged=function(_a,_b){this.ds_drctMatterFlflList.clearData();if(_b.newrow> -1){var _c=this.ds_cond.getColumn(0,"WRK_YR");var _d=_a.getColumn(_a.rowposition,"SN");this.ds_cond2.clearData();this.ds_cond2.addRow();this.ds_cond2.setColumn(0,"WRK_YR",_c);this.ds_cond2.setColumn(0,"SN",_d);this.fn_transaction("selectDrctMatterFlflList");}};this.ds_drctMatterFlflList_oncolumnchanged=function(_a,_b){if(_b.columnid=="PFM_DS_CODE"){if(_b.newvalue=="2"){_a.setColumn(_b.row,"PFM_DE",this.dateUtils.format(this.gfn_today(),"yyyymmdd"));}else{_a.setColumn(_b.row,"PFM_DE","");}}};this.grd_drctMatterFlflLisDetail_onexpanddown=function(_a,_b){this.fn_popup("popEmpSearch");};this.grd_drctMatterFlflLisDetail_oncellclick=function(_a,_b){if(_b.cell=='8'){if(this.ds_fileList.getRowCount()>0){this.gfn_message("info.파일.업로드.허용건수초과","1");return false;}this.fn_autoFileSn("MIS","BDG",this.File_UpDownManager,this.ds_fileList,this.ds_drctMatterFlflList,"TBBDG_DRCT_MATTER_FLFL","FILE_SN",["WRK_YR","SN","DEPT_CODE"]);}if(_b.cell=='9'){if(this.ds_fileList.getRowCount()==0){this.gfn_message("info.파일정보.없음");return false;}if(!this.gfn_message("confirm.선택파일.삭제여부","들")){return false;}this.ds_fileList.deleteAll();this.ds_cond_file.clearData();this.fn_transaction("deleteFile");}};this.fn_uploadCallback=function(){var _a=this.ds_drctMatterFlflList.rowposition;var _b=this.ds_drctMatterFlflList.getColumn(_a,"FILE_SN");this.ds_cond_file.clearData();this.ds_cond_file.addRow();this.ds_cond_file.setColumn(0,"FILE_SN",_b);this.fn_transaction("selectAtchFile");};this.fn_popup=function(_a){if(_a=="popEmpSearch"){var _b={arg_0:this};this.gfn_popup(_a,500,465,"사원선택",_b,"com::empno_P01.xfdl","fn_popupCallBack",true);}};this.fn_popupCallBack=function(_a,_b){if(_a=="popEmpSearch"){var _c=new Dataset();var _d=_c.loadXML(_b);if(_d){var _e=this.ds_drctMatterFlflList.rowposition;var _f=_c.getColumn(0,"DEPT_CODE");var _g=_c.getColumn(0,"DEPT_NM");var _h=_c.getColumn(0,"EMPNO");var _i=_c.getColumn(0,"EMPNM");this.ds_drctMatterFlflList.setColumn(_e,"TEAM_CODE",_f);this.ds_drctMatterFlflList.setColumn(_e,"TEAM_NM",_g);this.ds_drctMatterFlflList.setColumn(_e,"ICPR_EMPNO",_h);this.ds_drctMatterFlflList.setColumn(_e,"ICPR_EMPNM",_i);}}};this.ds_drctMatterList_canrowposchange=function(_a,_b){if(_a.getRowType(_b.newrow)==Dataset.ROWTYPE_INSERT){return false;}if(Ex.util.isUpdated(this.ds_drctMatterFlflList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}this.ds_drctMatterList.set_enableevent(false);this.ds_drctMatterFlflList.reset();this.ds_drctMatterFlflList.applyChange();this.ds_drctMatterList.set_enableevent(true);};});this.on_initEvent=function(){this.ds_drctMatterList.addEventHandler("onrowposchanged",this.ds_drctMatterList_onrowposchanged,this);this.ds_drctMatterList.addEventHandler("canrowposchange",this.ds_drctMatterList_canrowposchange,this);this.ds_drctMatterList.addEventHandler("oncolumnchanged",this.ds_drctMatterList_oncolumnchanged,this);this.ds_drctMatterFlflList.addEventHandler("oncolumnchanged",this.ds_drctMatterFlflList_oncolumnchanged,this);this.ds_drctMatterFlflList.addEventHandler("cancolumnchange",this.ds_drctMatterFlflList_cancolumnchange,this);this.addEventHandler("oninit",this.BDG010202_oninit,this);this.addEventHandler("onload",this.BDG010202_onload,this);this.div_search.spn_wrkyr.addEventHandler("ontextchanged",this.div_search_year1_ontextchanged,this);this.grd_drctMatterFlflLisDetail.addEventHandler("onexpanddown",this.grd_drctMatterFlflLisDetail_onexpanddown,this);this.grd_drctMatterFlflLisDetail.addEventHandler("oncellclick",this.grd_drctMatterFlflLisDetail_oncellclick,this);};this.loadIncludeScript("BDG010202.xfdl");this.loadPreloadList();};})();