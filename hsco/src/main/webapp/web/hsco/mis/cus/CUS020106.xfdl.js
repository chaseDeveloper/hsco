(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CUS020106");this.set_classname("SAL070101");this.set_titletext("SMS발송현황관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"SMS_SE\" type=\"STRING\" size=\"256\"/><Column id=\"END_DE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsLog",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"MT_PR\" type=\"STRING\" size=\"256\"/><Column id=\"MSG_KEY\" type=\"STRING\" size=\"256\"/><Column id=\"SERVICE_TYPE\" type=\"STRING\" size=\"256\"/><Column id=\"MSG_STATUS\" type=\"STRING\" size=\"256\"/><Column id=\"RECIPIENT_NUM\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_WORD5\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"MT_SEQ\" type=\"STRING\" size=\"256\"/><Column id=\"DATE_CLIENT_REQ\" type=\"STRING\" size=\"256\"/><Column id=\"CONTENT\" type=\"STRING\" size=\"256\"/><Column id=\"REG_DATE\" type=\"STRING\" size=\"256\"/><Column id=\"DATE_RSLT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sms",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"256\"/><Column id=\"END_DE\" type=\"STRING\" size=\"256\"/><Column id=\"ELCTC_CO_SMS\" type=\"STRING\" size=\"256\"/><Column id=\"ELCTC_CO_MMS\" type=\"STRING\" size=\"256\"/><Column id=\"REMNDR_CO_SMS\" type=\"STRING\" size=\"256\"/><Column id=\"REMNDR_CO_MMS\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sms_sm",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"A0\" type=\"STRING\" size=\"256\"/><Column id=\"A1\" type=\"STRING\" size=\"256\"/><Column id=\"A2\" type=\"STRING\" size=\"256\"/><Column id=\"A3\" type=\"STRING\" size=\"256\"/><Column id=\"A4\" type=\"STRING\" size=\"256\"/><Column id=\"A5\" type=\"STRING\" size=\"256\"/><Column id=\"END_DE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_deptCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"NAME\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_cond00</Col><Col id=\"colId\">DEPT_CODE</Col><Col id=\"msgId\">부서명</Col></Row><Row><Col id=\"compId\">ds_sms</Col><Col id=\"colId\">DEPT_CODE</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">부서명</Col></Row><Row><Col id=\"compId\">ds_sms</Col><Col id=\"colId\">CNTRCT_DE</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">계약일자</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"code\" type=\"INT\" size=\"256\"/><Column id=\"name\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"code\">0</Col><Col id=\"name\">SMS</Col></Row><Row><Col id=\"code\">2</Col><Col id=\"name\">MMS</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsStatus",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"code\" type=\"STRING\" size=\"256\"/><Column id=\"name\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"code\">1</Col><Col id=\"name\">전송대기</Col></Row><Row><Col id=\"code\">2</Col><Col id=\"name\">결과대기</Col></Row><Row><Col id=\"code\">3</Col><Col id=\"name\">완료</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsClient",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"RECIPIENT_NUM\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_WORD5\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"RECIPIENT_NUM\">010</Col><Col id=\"CHANGE_WORD5\">이동석</Col></Row><Row><Col id=\"RECIPIENT_NUM\">019</Col><Col id=\"CHANGE_WORD5\">정윤원</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","272","0","6","38",null,null,this);_a.set_taborder("0");_a.set_text("6");_a.set_visible("false");_a.style.set_background("bisque");_a.style.set_border("0 none transparent");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","1031","0",null,"735","13",null,this);_a.set_taborder("1");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","1046","0",null,"735","0",null,this);_a.set_taborder("2");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("3");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static07","absolute","88","26",null,"5","903",null,this.div_search);_a.set_taborder("3");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","96","0",null,"5","895",null,this.div_search);_a.set_taborder("4");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static06","absolute","0","2",null,"20","1015",null,this.div_search);_a.set_taborder("5");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","104","53",null,"5","887",null,this.div_search);_a.set_taborder("6");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","14","5","50","21",null,null,this.div_search);_a.set_taborder("7");_a.set_text("부서");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_dept_se","absolute","51","5","173","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("8");_a.set_innerdataset("ds_deptCode");_a.set_codecolumn("CODE");_a.set_datacolumn("NAME");_a.style.set_font("10 Gulim");_a.set_enable("true");_a=new Static("Static02","absolute","0","33",null,"10","28",null,this);_a.set_taborder("6");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static31","absolute","0","39","170","19",null,null,this);_a.set_taborder("7");_a.set_text("문자계약현황정보");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","0","53",null,"5","28",null,this);_a.set_taborder("8");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd_sms","absolute","0","58",null,"218","28",null,this);_a.set_taborder("9");_a.set_binddataset("ds_sms");_a.set_autofittype("col");_a.set_autoenter("select");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"51\"/><Column size=\"116\"/><Column size=\"120\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"120\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"225\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"순번\"/><Cell col=\"1\" rowspan=\"2\" text=\"부서명\"/><Cell col=\"2\" rowspan=\"2\" text=\"계약일자\"/><Cell col=\"3\" colspan=\"2\" text=\"충전건수\"/><Cell col=\"5\" rowspan=\"2\" text=\"종료일자\"/><Cell col=\"6\" colspan=\"2\" text=\"잔여건수\"/><Cell col=\"8\" rowspan=\"2\" text=\"비고\"/><Cell row=\"1\" col=\"3\" text=\"SMS\"/><Cell row=\"1\" col=\"4\" text=\"MMS\"/><Cell row=\"1\" col=\"6\" text=\"SMS\"/><Cell row=\"1\" col=\"7\" text=\"MMS\"/></Band><Band id=\"body\"><Cell displaytype=\"number\" text=\"expr:currow+1\"/><Cell col=\"1\" displaytype=\"combo\" text=\"bind:DEPT_CODE\" combodataset=\"ds_deptCode\" combocodecol=\"CODE\" combodatacol=\"NAME\"/><Cell col=\"2\" displaytype=\"date\" edittype=\"date\" text=\"bind:CNTRCT_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"3\" displaytype=\"number\" edittype=\"normal\" text=\"bind:ELCTC_CO_SMS\" editlimitbymask=\"integer\"/><Cell col=\"4\" edittype=\"normal\" text=\"bind:ELCTC_CO_MMS\" editlimitbymask=\"integer\"/><Cell col=\"5\" displaytype=\"date\" edittype=\"date\" text=\"bind:END_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"6\" displaytype=\"number\" edittype=\"normal\" text=\"bind:REMNDR_CO_SMS\" editlimitbymask=\"integer\"/><Cell col=\"7\" edittype=\"normal\" text=\"bind:REMNDR_CO_MMS\" editlimitbymask=\"integer\"/><Cell col=\"8\" edittype=\"normal\" text=\"bind:RM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","1","276",null,"10","27",null,this);_a.set_taborder("10");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","282","221","19",null,null,this);_a.set_taborder("11");_a.set_text("문자발송현황정보");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static06","absolute","-2","296",null,"5","30",null,this);_a.set_taborder("12");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd_smsLog00","absolute","0","402",null,null,"28","0",this);_a.set_taborder("13");_a.set_binddataset("ds_smsLog");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"116\"/><Column size=\"103\"/><Column size=\"51\"/><Column size=\"58\"/><Column size=\"105\"/><Column size=\"102\"/><Column size=\"74\"/><Column size=\"282\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"부서명\"/><Cell col=\"2\" text=\"발송일시\"/><Cell col=\"3\" text=\"타입\"/><Cell col=\"4\" text=\"상태\"/><Cell col=\"5\" text=\"수신번호\"/><Cell col=\"6\" text=\"수신일시\"/><Cell col=\"7\" text=\"수신자\"/><Cell col=\"8\" text=\"메시지내용\"/></Band><Band id=\"body\"><Cell displaytype=\"number\" text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:DEPT_CODE\"/><Cell col=\"2\" text=\"bind:REG_DATE\" mask=\"####-##-## ##:##\"/><Cell col=\"3\" displaytype=\"combo\" text=\"bind:SERVICE_TYPE\" combodataset=\"ds_smsSe\" combocodecol=\"code\" combodatacol=\"name\"/><Cell col=\"4\" displaytype=\"combo\" text=\"bind:MSG_STATUS\" combodataset=\"ds_smsStatus\" combocodecol=\"code\" combodatacol=\"name\"/><Cell col=\"5\" text=\"bind:RECIPIENT_NUM\"/><Cell col=\"6\" text=\"bind:DATE_RSLT\" mask=\"####-##-## ##:##\"/><Cell col=\"7\" text=\"bind:CHANGE_WORD5\"/><Cell col=\"8\" style=\"align:left;\" text=\"bind:CONTENT\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Grid("grd_smsLog01","absolute","0","301",null,"76","28",null,this);_a.set_taborder("15");_a.set_binddataset("ds_sms_sm");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"133\"/><Column size=\"120\"/><Column size=\"120\"/><Column size=\"120\"/><Column size=\"120\"/><Column size=\"120\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"문자구분\"/><Cell col=\"1\" text=\"계약건수\"/><Cell col=\"2\" text=\"이월건수\"/><Cell col=\"3\" text=\"총건수\"/><Cell col=\"4\" text=\"사용건수\"/><Cell col=\"5\" text=\"잔여건수\"/></Band><Band id=\"body\"><Cell text=\"bind:A0\"/><Cell col=\"1\" displaytype=\"number\" style=\"align:right;\" text=\"bind:A1\" combodataset=\"ds_smsSe\" combocodecol=\"code\" combodatacol=\"name\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right;\" text=\"bind:A2\" combodataset=\"ds_smsStatus\" combocodecol=\"code\" combodatacol=\"name\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;\" text=\"bind:A3\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right;\" text=\"bind:A4\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:right;\" text=\"bind:A5\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static07","absolute","1","377",null,"10","27",null,this);_a.set_taborder("16");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static09","absolute","0","383","170","19",null,null,this);_a.set_taborder("17");_a.set_text("문자발송상세정보");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static10","absolute","-2","397",null,"5","30",null,this);_a.set_taborder("18");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_Popup2","absolute",null,"35","66","21","28",null,this);_a.set_taborder("19");_a.set_text("문자발송");this.addChild(_a.name,_a);_a=new Button("Excel_down","absolute",null,"380","25","19","28",null,this);_a.set_taborder("20");_a.set_cssclass("btn_WF_Gridexceldn");this.addChild(_a.name,_a);_a=new Button("Button00","absolute",null,"35","97","21","96",null,this);_a.set_taborder("21");_a.set_text("발송테스트");this.addChild(_a.name,_a);_a=new Grid("grd_excel","absolute","871","620",null,null,"20","-8",this);_a.set_taborder("22");_a.set_binddataset("ds_smsLog");_a.set_autofittype("none");_a.set_visible("false");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"116\"/><Column size=\"103\"/><Column size=\"51\"/><Column size=\"58\"/><Column size=\"105\"/><Column size=\"102\"/><Column size=\"74\"/><Column size=\"282\"/></Columns><Rows><Row size=\"50\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell colspan=\"9\" style=\"font:bold 24 맑은 고딕;\" text=\"문자발송정보\"/><Cell row=\"1\" text=\"번호\"/><Cell row=\"1\" col=\"1\" text=\"부서명\"/><Cell row=\"1\" col=\"2\" text=\"발송일시\"/><Cell row=\"1\" col=\"3\" text=\"타입\"/><Cell row=\"1\" col=\"4\" text=\"상태\"/><Cell row=\"1\" col=\"5\" text=\"수신번호\"/><Cell row=\"1\" col=\"6\" text=\"수신일시\"/><Cell row=\"1\" col=\"7\" text=\"수신자\"/><Cell row=\"1\" col=\"8\" text=\"메시지내용\"/></Band><Band id=\"body\"><Cell displaytype=\"number\" text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:DEPT_CODE\"/><Cell col=\"2\" text=\"bind:REG_DATE\" mask=\"####-##-## ##:##\"/><Cell col=\"3\" displaytype=\"combo\" text=\"bind:SERVICE_TYPE\" combodataset=\"ds_smsSe\" combocodecol=\"code\" combodatacol=\"name\"/><Cell col=\"4\" displaytype=\"combo\" text=\"bind:MSG_STATUS\" combodataset=\"ds_smsStatus\" combocodecol=\"code\" combodatacol=\"name\"/><Cell col=\"5\" text=\"bind:RECIPIENT_NUM\"/><Cell col=\"6\" text=\"bind:DATE_RSLT\" mask=\"####-##-## ##:##\"/><Cell col=\"7\" text=\"bind:CHANGE_WORD5\"/><Cell col=\"8\" style=\"align:left;\" text=\"bind:CONTENT\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("3");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("SAL070101");_b.set_titletext("SMS발송현황관리");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("CUS020106.xfdl","lib::comInclude.xjs");this.addIncludeScript("CUS020106.xfdl","lib::comSms.xjs");this.registerScript("CUS020106.xfdl",function(){var _a=this.gfn_getDeptId();var _b=this.gfn_getDeptName();this.CUS020106_oninit=function(_c,_d){this.fn_init_form();this.fn_init_dataset();};this.CUS020106_onload=function(_c,_d){this.fn_deptcode();};this.fn_deptcode=function(){this.ds_cond00.clearData();this.ds_cond00.addRow();this.ds_cond00.setColumn(0,"DEPT_CODE","1");this.fn_transaction("selectDeptcodeList");};this.fn_init_form=function(){this.gfn_initForm(this);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);};this.fn_search=function(){this.ds_sms.clearData();this.ds_sms_sm.clearData();this.ds_smsLog.clearData();this.ds_cond00.clearData();var _c=this.ds_cond00.addRow();this.ds_cond00.setColumn(_c,"DEPT_CODE",this.div_search.cmb_dept_se.value);if(!this.gfn_checkValidation(this.ds_cond00,this.ds_validation)){return;}this.fn_transaction("selectSmsCntrctList");};this.fn_insert=function(){var _c=this.ds_sms.addRow();this.ds_sms.setColumn(_c,"DEPT_CODE",_a);var _d=this.grd_sms.setFocus(true);var _e=this.grd_sms.setCellPos(2);};this.fn_add=function(){var _c=this.ds_sms.insertRow(this.DS_SLRY_TABLE.rowposition+1);this.ds_sms.setColumn(_c,"DEPT_CODE",_a);};this.fn_delete=function(){if(this.gfn_message("confirm.삭제여부")){var _c=this.ds_sms.rowposition;this.ds_sms.deleteRow(_c);}};this.fn_cancel=function(){if(this.gfn_message("confirm.취소여부")){this.ds_sms.reset();this.ds_sms.applyChange();return;}};this.fn_save=function(){if(!this.gfn_checkValidation(this.ds_sms,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("saveSmsCntrctList");}};this.fn_transaction=function(_c){switch(_c){case "selectDeptcodeList":var _d="hsco/mis/cus/CUS020106/selectDeptcodeList.do";var _e="input1=ds_cond00";var _f="ds_deptCode=output1";break;case "selectSmstranList":var _d="hsco/mis/cus/CUS020106/selectSmstranList.do";var _e="input1=ds_cond00";var _f="ds_smsLog=output1";break;case "selectSmsCntrctList":var _d="hsco/mis/cus/CUS020106/selectSmsCntrctList.do";var _e="input1=ds_cond00";var _f="ds_sms=output1 ds_sms_sm=output2";break;case "saveSmsCntrctList":var _d="hsco/mis/cus/CUS020106/SmsCntrctCUD.do";var _e="input1=ds_sms:U";var _f="";break;}Ex.core.tran(this,_c,_d,_e,_f);};this.fn_callBack=function(_c,_d,_e){if(_d!=0){this.gfn_callback_message(_c,_d,_e);}else{switch(_c){case "selectDeptcodeList":this.div_search.cmb_dept_se.set_value(_a);this.fn_search();break;case "selectSmstranList":break;case "selectSmsCntrctList":break;case "saveSmsCntrctList":break;}}};this.btn_Popup2_onclick=function(_c,_d){var _e=system.clientToScreenX(this,10);var _f=system.clientToScreenY(this,10);var _g=new ChildFrame;_g.init("Popup1","absolute",_e,_f,800,500,null,null,"com::COM010700_P01.xfdl");_g.set_openalign("center middle");_g.set_dragmovetype("all");_g.set_showtitlebar(true);_g.showModal(this.getOwnerFrame(),{},this,"fn_callback2");};this.grd_smsLog01_oncelldblclick=function(_c,_d){this.ds_smsLog.clearData();this.ds_cond00.clearData();var _e=this.ds_cond00.addRow();this.ds_cond00.setColumn(_e,"SMS_SE",this.ds_sms_sm.getColumn(this.ds_sms_sm.rowposition,"A0"));this.ds_cond00.setColumn(_e,"DEPT_CODE",this.ds_sms_sm.getColumn(this.ds_sms_sm.rowposition,"DEPT_CODE"));this.ds_cond00.setColumn(_e,"END_DE",this.ds_sms_sm.getColumn(this.ds_sms_sm.rowposition,"END_DE"));if(!this.gfn_checkValidation(this.ds_cond00,this.ds_validation)){return;}this.fn_transaction("selectSmstranList");};this.Excel_down_onclick=function(_c,_d){this.gfn_exportExcel(this.grd_excel,"SMSLOG");};this.Button00_onclick=function(_c,_d){var _e="020100";var _f="0533500301";var _g="0";var _h="문자메시지테스트";var _i="";var _j="홍길동";var _k="순돌이";var _l="철이";var _m="순이";this.sms_MultiMessage(this,_e,_f,_g,_h,this.ds_smsClient,_i,_j,_k,_l,_m);};});this.on_initEvent=function(){this.addEventHandler("oninit",this.CUS020106_oninit,this);this.addEventHandler("onload",this.CUS020106_onload,this);this.grd_smsLog01.addEventHandler("oncelldblclick",this.grd_smsLog01_oncelldblclick,this);this.btn_Popup2.addEventHandler("onclick",this.btn_Popup2_onclick,this);this.Excel_down.addEventHandler("onclick",this.Excel_down_onclick,this);this.Button00.addEventHandler("onclick",this.Button00_onclick,this);};this.loadIncludeScript("CUS020106.xfdl");};})();