(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("CUS010104");this.set_classname("CUS010104");this.set_titletext("만족도평가 SMS 발송");this._setFormPosition(0,0,1059,700);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"PROCESS_BGN_DT\" type=\"STRING\" size=\"256\"/><Column id=\"PROCESS_END_DT\" type=\"STRING\" size=\"256\"/><Column id=\"INQRY_KND\" type=\"STRING\" size=\"256\"/><Column id=\"INQRY_KND_DETAIL\" type=\"STRING\" size=\"256\"/><Column id=\"CVPL_NO\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cvplList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"INQRY_KND\" type=\"STRING\" size=\"256\"/><Column id=\"INQRY_KND_DETAIL\" type=\"STRING\" size=\"256\"/><Column id=\"PROCESS_DT\" type=\"STRING\" size=\"256\"/><Column id=\"CVPL_NO\" type=\"STRING\" size=\"256\"/><Column id=\"SJ\" type=\"STRING\" size=\"256\"/><Column id=\"CSTMR_NM\" type=\"STRING\" size=\"256\"/><Column id=\"MBTLNO\" type=\"STRING\" size=\"256\"/><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"RCEPT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"RCEPT_COURS\" type=\"STRING\" size=\"256\"/><Column id=\"CVPL_STTUS\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_inqryKnd",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_inqryKndDetail",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sndngCnList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"SN\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_CN\" type=\"STRING\" size=\"256\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"256\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"256\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"256\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_chrctrCnInfo",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHRCTR_CN\" type=\"STRING\" size=\"256\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_SE\" type=\"STRING\" size=\"256\"/><Column id=\"RECIPIENT_NUM\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_WORD5\" type=\"STRING\" size=\"256\"/><Column id=\"ANSWTEL\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond2",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHRCTR_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cus030",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsMsg",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ANSWTEL\" type=\"STRING\" size=\"20\"/><Column id=\"MSSAGE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"RECIPIENT_NUM\" type=\"STRING\" size=\"25\"/><Column id=\"CHANGE_WORD5\" type=\"STRING\" size=\"20\"/></ColumnInfo><Rows><Row><Col id=\"ANSWTEL\">0533500301</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_rceptCours",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cvplSttus",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"MBTLNO\" type=\"STRING\" size=\"12\"/><Column id=\"NM\" type=\"STRING\" size=\"200\"/><Column id=\"CHANGE_WORD0\" type=\"STRING\" size=\"200\"/><Column id=\"CHANGE_WORD1\" type=\"STRING\" size=\"200\"/><Column id=\"CHANGE_WORD2\" type=\"STRING\" size=\"200\"/><Column id=\"CHANGE_WORD3\" type=\"STRING\" size=\"200\"/><Column id=\"CHANGE_WORD4\" type=\"STRING\" size=\"200\"/><Column id=\"CHRCTR_PREPAR_VALUE_0\" type=\"STRING\" size=\"200\"/><Column id=\"CHRCTR_PREPAR_VALUE_1\" type=\"STRING\" size=\"200\"/><Column id=\"CHRCTR_PREPAR_VALUE_2\" type=\"STRING\" size=\"200\"/><Column id=\"CHRCTR_PREPAR_VALUE_3\" type=\"STRING\" size=\"200\"/><Column id=\"CHRCTR_PREPAR_VALUE_4\" type=\"STRING\" size=\"200\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("0");_a.style.set_color("transparent");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_inqryKnd","absolute","325","5","64","21",null,null,this.div_search);_a.set_taborder("1");_a.set_text("문의종류");_a.set_cssclass("sta_WFSA_Label");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Static("sta_processDt","absolute","15","5","64","21",null,null,this.div_search);_a.set_taborder("6");_a.set_text("처리기간");_a.set_cssclass("sta_WFSA_Label");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_processBgnDt","absolute","79","5","105","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("0");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a.set_value("null");_a=new Static("Static04","absolute","184","5","21","21",null,null,this.div_search);_a.set_taborder("7");_a.set_text("~");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_processEndDt","absolute","205","5","105","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("2");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a=new Static("sta_cvplNo","absolute","627","5","64","21",null,null,this.div_search);_a.set_taborder("8");_a.set_text("민원번호");_a.set_cssclass("sta_WFSA_Label");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","123","26","50","5",null,null,this.div_search);_a.set_taborder("9");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_cvplNo","absolute","691","5","110","21",null,null,this.div_search);_a.set_taborder("5");_a.set_lengthunit("utf8");_a.set_maxlength("20");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_inqryKnd","absolute","389","5","110","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("3");_a.set_innerdataset("@ds_inqryKnd");_a.set_datacolumn("CODE_NM");_a.set_codecolumn("CODE");_a.set_index("-1");_a=new Combo("cmb_inqryKndDetail","absolute","502","5","110","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("4");_a.set_innerdataset("@ds_inqryKndDetail");_a.set_datacolumn("CODE_NM");_a.set_codecolumn("CODE");_a.set_autoskip("false");_a.set_enable("false");_a=new Static("Static00","absolute","310","4","15","34",null,null,this.div_search);_a.set_taborder("10");_a.set_text("15");_a.set_visible("false");_a.style.set_background("aqua");_a.style.set_align("center middle");_a.style.set_font("bold 9 Dotum");_a.style.set_opacity("50");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","612","4","15","34",null,null,this.div_search);_a.set_taborder("11");_a.set_text("15");_a.set_visible("false");_a.style.set_background("aqua");_a.style.set_align("center middle");_a.style.set_font("bold 9 Dotum");_a.style.set_opacity("50");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","0","15","32",null,null,this);_a.set_taborder("1");_a.set_text("15");_a.set_visible("false");_a.style.set_background("bisque");_a.style.set_border("0 none transparent");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","1031","0","15","538",null,null,this);_a.set_taborder("2");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static03","absolute",null,"0","13","538","0",null,this);_a.set_taborder("3");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_work","absolute","0","33",null,null,"28","0",this);_a.set_taborder("4");_a.style.set_border("0 solid #808080ff");this.addChild(_a.name,_a);_a=new Static("sta_cvplList","absolute","0","8","130","19",null,null,this.div_work);_a.set_taborder("5");_a.set_text("민원목록");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_cvplList","absolute","0","27",null,null,"0","10",this.div_work);_a.set_taborder("0");_a.set_binddataset("ds_cvplList");_a.set_autoenter("select");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"40\"/><Column size=\"90\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"110\"/><Column size=\"110\"/><Column size=\"90\"/><Column size=\"350\"/><Column size=\"90\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\"/><Cell col=\"1\" text=\"순번\"/><Cell col=\"2\" text=\"민원번호\"/><Cell col=\"3\" text=\"접수경로\"/><Cell col=\"4\" text=\"민원상태\"/><Cell col=\"5\" text=\"문의종류\"/><Cell col=\"6\" text=\"문의종류상세\"/><Cell col=\"7\" text=\"처리일자\"/><Cell col=\"8\" text=\"제목\"/><Cell col=\"9\" text=\"민원인성명\"/><Cell col=\"10\" text=\"핸드폰번호\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" text=\"expr:currow+1\"/><Cell col=\"2\" text=\"bind:CVPL_NO\"/><Cell col=\"3\" displaytype=\"combo\" text=\"bind:RCEPT_COURS\" combodataset=\"ds_rceptCours\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"4\" displaytype=\"combo\" text=\"bind:CVPL_STTUS\" combodataset=\"ds_cvplSttus\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"5\" displaytype=\"combo\" text=\"bind:INQRY_KND\" combodataset=\"ds_inqryKnd\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"6\" displaytype=\"combo\" text=\"bind:INQRY_KND_DETAIL\" combodataset=\"ds_inqryKndDetail\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"7\" displaytype=\"date\" text=\"bind:PROCESS_DT\" calendardisplaynulltype=\"none\"/><Cell col=\"8\" style=\"align:left;padding:0 0 0 5;\" text=\"bind:SJ\" tooltiptext=\"bind:SJ\"/><Cell col=\"9\" text=\"bind:CSTMR_NM\"/><Cell col=\"10\" text=\"bind:MBTLNO\" mask=\"expr:MBTLNO.length == 11 ? '@@@-@@@@-@@@@' : MBTLNO.length == 10 ? '@@@-@@@-@@@@' : MBTLNO.length == 9 ? '@@-@@@-@@@@' : ''\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Static("Static21","absolute","-1","0","1031","10",null,null,this.div_work);_a.set_taborder("6");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","22","1031","5",null,null,this.div_work);_a.set_taborder("7");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","656","1031","10",null,null,this.div_work);_a.set_taborder("8");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Button("btn_sendSMS","absolute",null,"6","66","19","5",null,this.div_work);_a.set_taborder("18");_a.set_text("문자발송");_a.set_cssclass("btn_WF_Process");this.div_work.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("0");_b.style.set_color("transparent");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1039,736,this.div_work,function(_b){_b.set_taborder("4");_b.style.set_border("0 solid #808080ff");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",1059,700,this,function(_b){_b.set_classname("CUS010104");_b.set_titletext("만족도평가 SMS 발송");});this.addLayout(_a.name,_a);_a=new BindItem("item2","div_search.cal_processBgnDt","value","ds_cond","PROCESS_BGN_DT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item3","div_search.cal_processEndDt","value","ds_cond","PROCESS_END_DT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item6","div_search.edt_cvplNo","value","ds_cond","CVPL_NO");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("CUS010104.xfdl","lib::comInclude.xjs");this.addIncludeScript("CUS010104.xfdl","mis_lib::misUtil.xjs");this.addIncludeScript("CUS010104.xfdl","lib::comSms.xjs");this.registerScript("CUS010104.xfdl",function(){this.CUS010104_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.CUS010104_onload=function(_a,_b){this.div_search.cal_processBgnDt.setFocus(true);};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);this.ds_cond.clearData();this.ds_cond.addRow();this.div_search.cal_processBgnDt.set_value(this.gfn_today().substring(0,6)+'01');this.div_search.cal_processEndDt.set_value(this.gfn_today());this.ds_chrctrCnInfo.addRow();this.ds_chrctrCnInfo.setColumn(0,"REGISTER_ID",this.fn_getEmpnm());var _a=[["ds_inqryKnd","CUS001",1,"전체"],["ds_inqryKndDetail","CUS003",1,"전체"],["ds_cus030","CUS030","Y","D","B"],["ds_rceptCours","CUS004",1,"전체"],["ds_cvplSttus","CUS017",1,""]];var _b=function(_c,_d,_e){this.ds_chrctrCnInfo.clearData();this.ds_chrctrCnInfo.addRow();this.ds_chrctrCnInfo.setColumn(0,"CHRCTR_CN",this.fn_getCusSmsMsg("MSG0000007"));var _f=this.ds_cus030.findRow("CODE","TEL");var _g=_f>0?this.ds_cus030.getColumn(_f,"VAL1"):"0533500301";this.ds_chrctrCnInfo.setColumn(0,"ANSWTEL",_g);this.fn_search();};this.gfn_comboLoad(_a,_b);};this.fn_init_dataset=function(){};this.fn_search=function(){this.fn_transaction("selectCvplList");};this.fn_transaction=function(_a){switch(_a){case "selectCvplList":this.ds_cond.setColumn(0,"INQRY_KND",this.div_search.cmb_inqryKnd.value);this.ds_cond.setColumn(0,"INQRY_KND_DETAIL",this.div_search.cmb_inqryKndDetail.value);this.div_work.grd_cvplList.setCellProperty("head",0,"text","0");var _b="hsco/mis/cus/CUS010104/selectCvplList.do";var _c="input02=ds_cond";var _d="ds_cvplList=output02";break;case "selectSndngCnList":this.ds_cond2.clearData();this.ds_cond2.addRow();this.ds_cond2.setColumn(0,"CHRCTR_SE","01");var _b="hsco/mis/cus/CUS010104/selectSndngCnList.do";var _c="input01=ds_cond2";var _d="ds_sndngCnList=output01";break;case "chrctrCnC":this.ds_chrctrCnInfo.setColumn(this.ds_chrctrCnInfo.rowposition,"CHRCTR_SE","01");var _b="hsco/mis/cus/CUS010104/chrctrCnC.do";var _c="input03=ds_chrctrCnInfo";var _d="";break;}var _e="";Ex.core.tran(this,_a,_b,_c,_d,_e);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){this.gfn_callback_message(_a,_b,_c);}else{switch(_a){case "selectCvplList":this.fn_transaction("selectSndngCnList");break;case "chrctrCnC":this.div_work.chk_saveCn.set_value(false);this.fn_transaction("selectSndngCnList");break;}}};this.div_search_cmb_inqryKnd_onitemchanged=function(_a,_b){if(_b.posttext=='전체'){this.div_search.cmb_inqryKndDetail.set_enable(false);this.ds_inqryKndDetail.filter("'"+_b.postvalue+"'");this.div_search.cmb_inqryKndDetail.set_index(0);}else{this.div_search.cmb_inqryKndDetail.set_enable(true);this.ds_inqryKndDetail.filter("CODE.substr(0,1) == '"+_b.postvalue+"'");this.div_search.cmb_inqryKndDetail.set_index(0);}};this.div_work_grd_sndngCnList_oncellclick=function(_a,_b){var _c=this.ds_sndngCnList.getColumn(this.ds_sndngCnList.rowposition,"CHRCTR_CN");this.div_work.txt_chrctrCn.set_value(_c);};this.ds_cond_cancolumnchange=function(_a,_b){if(_b.columnid=="PROCESS_BGN_DT"){if(this.comUtils.isNullEmpty(_b.newvalue)){_a.setColumn(_b.row,_b.oldvalue);return false;}if(_b.newvalue>this.div_search.cal_processEndDt.value){this.gfn_message("errors.시작일자.종료일자.이하","|");return false;}return true;}if(_b.columnid=="PROCESS_END_DT"){if(this.comUtils.isNullEmpty(_b.newvalue)){_a.setColumn(_b.row,_b.oldvalue);return false;}if(_b.newvalue<this.div_search.cal_processBgnDt.value){this.gfn_message("errors.종료일자.시작일자.이상","|");return false;}return true;}};this.div_work_grd_cvplList_onheadclick=function(_a,_b){if(_b.col==0){this.gfn_setGridCheckAll(_a,_b);}else{this.gfn_gridSort(_a,_b);}};this.div_work_btn_sen_onclick=function(_a,_b){this.ds_smsMsg.clearData();for(i=0;i<this.ds_cvplList.getRowCount();i++ ){if(this.ds_cvplList.getColumn(i,"CHK")=="1"){var _c=this.ds_smsMsg.addRow();this.ds_smsMsg.setColumn(_c,"RECIPIENT_NUM",this.ds_cvplList.getColumn(i,"MBTLNO"));this.ds_smsMsg.setColumn(_c,"CHANGE_WORD5",this.ds_cvplList.getColumn(i,"CSTMR_NM"));}}if(this.ds_smsMsg.getRowCount()<=0){this.gfn_message("info.처리불가","수신 대상이 선택되지 않았습니다.");return;}this.sms_MultiMessage(this,this.gfn_getDeptId(),this.ds_chrctrCnInfo.getColumn(0,"ANSWTEL"),this.div_work.txt_chrctrCn.getLength("ascii")<=80?'0':'2',this.ds_chrctrCnInfo.getColumn(0,"CHRCTR_CN"),this.ds_smsMsg,"","","","","");if(this.div_work.chk_saveCn.value==true){this.fn_transaction("chrctrCnC");}};this.div_work_btn_sendSMS_onclick=function(_a,_b){var _c=this.ds_cvplList.rowposition;var _d=this.ds_cvplList.getColumn(_c,"MBTLNO");var _e=this.ds_cvplList.getColumn(_c,"CSTMR_NM");this.ds_smsList.clearData();if(!this.comUtils.isNullEmpty(_d)){var _f=this.ds_smsList.addRow();this.ds_smsList.setColumn(_f,"MBTLNO",_d);this.ds_smsList.setColumn(_f,"NM",_e);}var _g="테스트 문자 메세지 발송";var _h={CONTENT:_g,JOB_SE:"CUS",ds:this.ds_smsList};this.gfn_popup("COM010700_P01.xfdl",800,500,"SMS발송",_h,"com::COM010700_P01.xfdl","sms_callback");};this.sms_callback=function(){};});this.on_initEvent=function(){this.ds_cond.addEventHandler("cancolumnchange",this.ds_cond_cancolumnchange,this);this.ds_cus030.addEventHandler("onrowposchanged",this.ds_frmtnPd_onrowposchanged,this);this.ds_smsList.addEventHandler("onrowposchanged",this.ds_lfsts_cntrct_onrowposchanged,this);this.ds_smsList.addEventHandler("oncolumnchanged",this.ds_lfsts_cntrct_oncolumnchanged,this);this.addEventHandler("onload",this.CUS010104_onload,this);this.addEventHandler("oninit",this.CUS010104_oninit,this);this.div_search.Static01.addEventHandler("onclick",this.Static47_onclick,this);this.div_search.cmb_inqryKnd.addEventHandler("onitemchanged",this.div_search_cmb_inqryKnd_onitemchanged,this);this.div_work.sta_cvplList.addEventHandler("onclick",this.Static00_onclick,this);this.div_work.grd_cvplList.addEventHandler("onheadclick",this.div_work_grd_cvplList_onheadclick,this);this.div_work.btn_sendSMS.addEventHandler("onclick",this.div_work_btn_sendSMS_onclick,this);};this.loadIncludeScript("CUS010104.xfdl");};})();