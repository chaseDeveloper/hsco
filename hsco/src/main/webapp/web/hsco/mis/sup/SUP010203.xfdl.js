(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("SUP010203");this.set_classname("UI_SUP010203");this.set_titletext("경영평가 결과등록");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"STDR_YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"IX_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_mngmtEvlStdr",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"EVL_CN_DFN\" type=\"string\" size=\"32\"/><Column id=\"ALLOT\" type=\"BIGDECIMAL\" size=\"32\"/><Column id=\"SORT_ORDR\" type=\"string\" size=\"32\"/><Column id=\"STDR_YEAR\" type=\"string\" size=\"32\"/><Column id=\"GPA\" type=\"BIGDECIMAL\" size=\"32\"/><Column id=\"IX_CODE\" type=\"INT\" size=\"32\"/><Column id=\"RSLT_PYMNT_RT\" type=\"string\" size=\"32\"/><Column id=\"IX_NM\" type=\"string\" size=\"32\"/><Column id=\"EVL_MTH\" type=\"string\" size=\"32\"/><Column id=\"GTSR\" type=\"BIGDECIMAL\" size=\"32\"/><Column id=\"DETAIL_EVL_MTH\" type=\"string\" size=\"32\"/><Column id=\"ELV_IX_CHARCT\" type=\"string\" size=\"32\"/><Column id=\"EVL_WGHTVAL\" type=\"string\" size=\"32\"/><Column id=\"CL_STEP\" type=\"INT\" size=\"16\"/><Column id=\"UPPER_IX_CODE\" type=\"INT\" size=\"32\"/><Column id=\"IX_DFN\" type=\"string\" size=\"32\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sup002",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmnAtchmnfl",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"FILE_ORDR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"FILE_STRE_COURS\" type=\"STRING\" size=\"2000\"/><Column id=\"STRE_FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"ORGINL_FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"FILE_EXTSN\" type=\"STRING\" size=\"20\"/><Column id=\"FILE_CN\" type=\"STRING\" size=\"4000\"/><Column id=\"FILE_MG\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"1\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"DATE\" size=\"7\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"DATE\" size=\"7\"/><Column id=\"FILE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_TY\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_rsltPymntRt",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"RSLT_PYMNT_RT\" type=\"BIGDECIMAL\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">STDR_YEAR</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">검색 기준년도</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_fileList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"ORGINL_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_EXTSN\" type=\"string\" size=\"32\"/><Column id=\"FILE_STRE_COURS\" type=\"string\" size=\"32\"/><Column id=\"FILE_ID\" type=\"string\" size=\"32\"/><Column id=\"SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"SYS_SE_CODE\" type=\"string\" size=\"32\"/><Column id=\"FILE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"FILE_TY\" type=\"string\" size=\"32\"/><Column id=\"JOB_SE\" type=\"string\" size=\"32\"/><Column id=\"DELETE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"STRE_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_MG\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_CN\" type=\"string\" size=\"32\"/><Column id=\"FILE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"string\" size=\"32\"/><Column id=\"USE_AT\" type=\"string\" size=\"32\"/><Column id=\"STTUS\" type=\"string\" size=\"32\"/><Column id=\"FILE_SN\" type=\"bigdecimal\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_mngmtEvlReprt",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"STDR_YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_search00","absolute","0","0",null,"33","28",null,this);_a.set_taborder("0");_a.set_text("Div00");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_YEAR","absolute","15","5","64","21",null,null,this.div_search00);_a.set_taborder("132");_a.set_text("기준년도");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search00.addChild(_a.name,_a);_a=new Spin("Spin00","absolute","84","5","71","21",null,null,this.div_search00);_a.set_taborder("0");_a.set_value("0");_a.set_cssclass("spn_WF_Essential");this.div_search00.addChild(_a.name,_a);_a=new Static("Static02","absolute",null,"0","13","735","0",null,this);_a.set_taborder("9");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","1031","0","15","735",null,null,this);_a.set_taborder("10");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_budgetStats","absolute","0","43","143","19",null,null,this);_a.set_taborder("1");_a.set_text("평점표");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","33",null,"10","28",null,this);_a.set_taborder("11");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","62",null,"5","28",null,this);_a.set_taborder("12");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd","absolute","0","67",null,null,"399","0",this);_a.set_taborder("3");_a.set_binddataset("ds_mngmtEvlStdr");_a.set_treeinitstatus("expand,null");_a.set_treeusecheckbox("false");_a.set_autoenter("select");_a.set_autofittype("col");_a.set_treeuseexpandkey("true");_a.set_treeuseimage("false");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"301\"/><Column size=\"70\"/><Column size=\"64\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/><Row size=\"24\" band=\"summ\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"평가지표\"/><Cell col=\"1\" text=\"평가방법\"/><Cell col=\"2\" text=\"지표성격\"/><Cell col=\"3\" text=\"배점\"/><Cell col=\"4\" text=\"평점\"/><Cell col=\"5\" text=\"득점\"/></Band><Band id=\"body\"><Cell displaytype=\"tree\" edittype=\"tree\" style=\"align:left;\" text=\"bind:IX_NM\" treelevel=\"bind:CL_STEP\"/><Cell col=\"1\" text=\"bind:EVL_MTH\"/><Cell col=\"2\" displaytype=\"combo\" text=\"bind:ELV_IX_CHARCT\" combodataset=\"ds_sup002\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"3\" style=\"align: ;\" text=\"bind:ALLOT\"/><Cell col=\"4\" displaytype=\"number\" edittype=\"expr:CL_STEP == '0' ?  'none' :  'masknumber'\" style=\"align:right;\" text=\"bind:GPA\" mask=\"expr:!GPA ? '!###.##': '!##0.00'\" editlimit=\"5\" editautoselect=\"true\" editdisplay=\"expr:CL_STEP == &quot;0&quot; ? &quot;edit&quot; : &quot;display&quot;\" editlimitbymask=\"both\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:right;\" text=\"bind:GTSR\" mask=\"expr:!GTSR ?   '###.##' : '##0.00'\"/></Band><Band id=\"summary\"><Cell colspan=\"3\" text=\"합     계\"/><Cell col=\"3\" text=\"expr:dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1' || ELV_IX_CHARCT == '2'&quot;, &quot;ALLOT&quot;)\"/><Cell col=\"4\" displaytype=\"number\" text=\"expr:nexacro.round(dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1' || ELV_IX_CHARCT == '2'&quot;, &quot;GPA * ALLOT / 100&quot;),2)\" mask=\"##0.00\"/><Cell col=\"5\" displaytype=\"number\" text=\"expr:nexacro.round(dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1' || ELV_IX_CHARCT == '2'&quot;, &quot;GTSR&quot;),2)\" mask=\"##0.00\"/><Cell row=\"1\" colspan=\"3\" text=\"정량지표\"/><Cell row=\"1\" col=\"3\" text=\"expr:dataset.getCaseSum(&quot;ELV_IX_CHARCT == '2'&quot;, &quot;ALLOT&quot;)\"/><Cell row=\"1\" col=\"4\" displaytype=\"number\" text=\"expr:dataset.getCaseSum(&quot;ELV_IX_CHARCT == '2'&quot;, &quot;GPA * ALLOT / 100&quot;) == 0 ? 0 : nexacro.round(dataset.getCaseSum(&quot;ELV_IX_CHARCT == '2'&quot;, &quot;GPA * ALLOT / 100&quot;) * 100 / dataset.getCaseSum(&quot;ELV_IX_CHARCT == '2'&quot;, &quot;ALLOT&quot;),2)\" mask=\"##0.00\"/><Cell row=\"1\" col=\"5\" displaytype=\"number\" text=\"expr:nexacro.round(dataset.getCaseSum(&quot;ELV_IX_CHARCT == '2'&quot;, &quot;GTSR&quot;),2)\" mask=\"##0.00\"/><Cell row=\"2\" colspan=\"3\" text=\"정성지표\"/><Cell row=\"2\" col=\"3\" text=\"expr:dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1'&quot;, &quot;ALLOT&quot;)\"/><Cell row=\"2\" col=\"4\" displaytype=\"number\" text=\"expr:dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1'&quot;, &quot;GPA * ALLOT / 100&quot;) == 0 ? 0 : nexacro.round(dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1'&quot;, &quot;GPA * ALLOT / 100&quot;) * 100 / dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1'&quot;, &quot;ALLOT&quot;),2)\" mask=\"##0.00\"/><Cell row=\"2\" col=\"5\" displaytype=\"number\" text=\"expr:nexacro.round(dataset.getCaseSum(&quot;ELV_IX_CHARCT == '1'&quot;, &quot;GTSR&quot;),2)\" mask=\"##0.00\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static10","absolute","660","33","10",null,null,"0",this);_a.set_taborder("14");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_budgetStats00","absolute",null,"43","143","19","246",null,this);_a.set_taborder("4");_a.set_text("성과급");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Grid("grd_cmmnAtchmnfl","absolute",null,"128","361",null,"28","0",this);_a.set_taborder("8");_a.set_autofittype("col");_a.set_binddataset("ds_fileList");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"37\"/><Column size=\"248\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"파일명\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" style=\"align:left;\" text=\"bind:ORGINL_FILE_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Div("div_detail1","absolute",null,"67","361","27","28",null,this);_a.set_taborder("5");_a.set_cssclass("div_detailBox");this.addChild(_a.name,_a);_a=new Static("Static37","absolute","94","0",null,"27","0",null,this.div_detail1);_a.set_taborder("89");_a.set_cssclass("sta_WF_Labelbg");this.div_detail1.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","0","110","27",null,null,this.div_detail1);_a.set_taborder("0");_a.set_text("성과급 지급율");_a.set_cssclass("sta_WF_Label");this.div_detail1.addChild(_a.name,_a);_a=new MaskEdit("edt_rsltPymntRt","absolute","112","3","246","21",null,null,this.div_detail1);_a.set_taborder("1");_a.set_mask("####%");_a.set_type("string");_a.set_maskchar(" ");_a.set_readonly("true");_a.set_cssclass("msk_WF_Readonly");this.div_detail1.addChild(_a.name,_a);_a=new Static("sta_budgetStats01","absolute",null,"103","213","19","176",null,this);_a.set_taborder("6");_a.set_text("경영평가 결과");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Button("btn_delFiles","absolute",null,"103","67","19","188",null,this);_a.set_taborder("15");_a.set_text("선택삭제");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Button("btn_uploadFiles","absolute",null,"103","68","19","116",null,this);_a.set_taborder("16");_a.set_text("파일업로드");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Button("btn_downFiles","absolute",null,"103","85","19","28",null,this);_a.set_taborder("17");_a.set_text("선택다운로드");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Layout("default","",1031,59,this.div_search00,function(_b){_b.set_taborder("0");_b.set_text("Div00");_b.set_cssclass("div_WFSA_Box");});this.div_search00.addLayout(_a.name,_a);_a=new Layout("default","",476,122,this.div_detail1,function(_b){_b.set_taborder("5");_b.set_cssclass("div_detailBox");});this.div_detail1.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("UI_SUP010203");_b.set_titletext("경영평가 결과등록");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_search00.Spin00","value","ds_cond","STDR_YEAR");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_detail1.edt_rsltPymntRt","value","ds_rsltPymntRt","RSLT_PYMNT_RT");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("SUP010203.xfdl","lib::comInclude.xjs");this.addIncludeScript("SUP010203.xfdl","mis_lib::misUtil.xjs");this.addIncludeScript("SUP010203.xfdl","lib::comUpDownUtils.xjs");this.registerScript("SUP010203.xfdl",function(){this.saveRow= -1;this.checkDs=[this.ds_mngmtEvlStdr];this.File_UpDownManager=null;this.SUP010203_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.SUP010203_onload=function(_a,_b){this.ds_cond.setColumn(0,"STDR_YEAR",this.dateUtils.today().substr(0,4));var _c=[["ds_sup002","SUP002","Y","D","B"]];var _d=function(_e,_f,_g){this.fn_search();};this.gfn_comboLoad(_c,_d);};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);var _a={useMultiUpload:true,onChange:this.fn_onFileSelected,onSuccess:this.fn_onFileSuccess};this.File_UpDownManager=new this.fileUpDownManager(this,"MIS","SUP");this.File_UpDownManager.init(_a);};this.fn_search=function(){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return false;}this.fn_transaction("mngmtEvlStdrList");};this.fn_save=function(){if(Ex.util.isUpdated(this.ds_mngmtEvlStdr)){this.saveRow=this.ds_mngmtEvlStdr.rowposition;this.fn_transaction("mngmtEvlStdrU");}else{this.gfn_message("comm.데이터.변경.없음");}};this.fn_transaction=function(_a){switch(_a){case "mngmtEvlStdrList":this.ds_rsltPymntRt.clearData();this.ds_fileList.clearData();var _b="hsco/mis/sup/SUP010203/mngmtEvlStdrList.do";var _c="input1=ds_cond";var _d="ds_mngmtEvlStdr=output1 ds_mngmtEvlReprt=output2 ds_rsltPymntRt=output3";break;case "mngmtEvlStdrU":var _b="hsco/mis/sup/SUP010203/mngmtEvlStdrU.do";var _c="input1=ds_mngmtEvlStdr:U";var _d="";break;case "selectAtchFile":var _b="hsco/mis/sup/SUP010203/selectAtchFile.do";var _c="input1=ds_cond";var _d="ds_fileList=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){this.gfn_callback_message(_a,_b,_c);switch(_a){case "mngmtEvlStdrList":break;case "mngmtEvlStdrU":break;case "selectAtchFile":break;default:break;}}else{switch(_a){case "mngmtEvlStdrList":if(this.saveRow> -1){this.ds_mngmtEvlStdr.set_rowposition(this.saveRow);this.saveRow= -1;}var _d=this.ds_mngmtEvlStdr.rowcount;if(_d>0){this.btn_delFiles.set_enable(true);this.btn_uploadFiles.set_enable(true);this.btn_downFiles.set_enable(true);}else{this.btn_delFiles.set_enable(false);this.btn_uploadFiles.set_enable(false);this.btn_downFiles.set_enable(false);}this.grd_cmmnAtchmnfl.setCellProperty("Head",0,"text","0");var _e=this.ds_mngmtEvlReprt.getColumn(0,"FILE_SN");this.ds_cond.setColumn(0,"FILE_SN",_e);this.fn_transaction("selectAtchFile");break;case "mngmtEvlStdrU":this.gfn_message("success.처리.성공");this.fn_transaction("mngmtEvlStdrList");break;case "selectAtchFile":break;default:break;}}};this.fn_cancel=function(_a,_b){if(this.gfn_message("confirm.취소여부")){this.ds_mngmtEvlStdr.reset();this.ds_mngmtEvlStdr.applyChange();return;}};this.ds_mngmtEvlStdr_oncolumnchanged=function(_a,_b){_a.setColumn(_b.row,"GTSR",nexacro.round(_a.getColumn(_b.row,"ALLOT")*_b.newvalue/100,2));};this.ds_mngmtEvlStdr_cancolumnchange=function(_a,_b){if(_b.columnid=="GPA"){if(_b.newvalue>100){this.gfn_message("errors.항목값.범위.이하","평점|100");return false;}}};this.btn_delFiles_onclick=function(_a,_b){var _c=this.ds_fileList.findRow("CHK","1");if(_c<0){this.gfn_message("comm.데이터.선택.없음");return;}if(!this.gfn_message("confirm.선택파일.삭제여부","들")){return false;}for(var _i=this.ds_fileList.getRowCount()-1;_i>=0;_i-- ){var _d=this.ds_fileList.getColumn(_i,"CHK");if(_d=='1'){this.ds_fileList.deleteRow(_i);}}var _e="deleteFile";var _f="hsco/cmm/file/deleteFile.do";var _g="input1=ds_fileList:U";var _h="ds_fileList=output1";Ex.core.tran(this,_e,_f,_g,_h);};this.btn_uploadFiles_onclick=function(_a,_b){this.fn_autoFileSn("MIS","SUP",this.File_UpDownManager,this.ds_fileList,this.ds_mngmtEvlReprt,"TBSUP_MNGMT_EVL_REPRT","FILE_SN",["STDR_YEAR"]);};this.btn_downFiles_onclick=function(_a,_b){var _c=this.ds_fileList.findRow("CHK","1");if(_c<0){this.gfn_message("comm.데이터.선택.없음");return;}for(var _h=0;_h<this.ds_fileList.getRowCount();_h++ ){var _d=this.ds_fileList.getColumn(_h,"FILE_SN");var _e=this.ds_fileList.getColumn(_h,"FILE_ORDR");var _f=this.ds_fileList.getColumn(_h,"ORGINL_FILE_NM");var _g=this.ds_fileList.getColumn(_h,"CHK");if(_g=='1'){this.File_UpDownManager.download(_d,_e,_f);}}};this.grd_cmmnAtchmnfl_onheadclick=function(_a,_b){if(_b.col==0){this.gfn_setGridCheckAll(_a,_b);}};this.grd_cmmnAtchmnfl_oncellclick=function(_a,_b){if(_b.cell==0){_a.setCellProperty("Head",_b.cell,"text","0");}};this.grd_onkeydown=function(_a,_b){if(_b.keycode==13){var _c=_a.moveToNextCell();}};});this.on_initEvent=function(){this.ds_mngmtEvlStdr.addEventHandler("oncolumnchanged",this.ds_mngmtEvlStdr_oncolumnchanged,this);this.ds_mngmtEvlStdr.addEventHandler("cancolumnchange",this.ds_mngmtEvlStdr_cancolumnchange,this);this.ds_sup002.addEventHandler("onrowposchanged",this.ds_frmtnPd_onrowposchanged,this);this.addEventHandler("onload",this.SUP010203_onload,this);this.addEventHandler("oninit",this.SUP010203_oninit,this);this.div_search00.sta_YEAR.addEventHandler("onclick",this.sta_YEAR_onclick,this);this.grd.addEventHandler("oncellclick",this.grd_oncellclick,this);this.grd.addEventHandler("onkeydown",this.grd_onkeydown,this);this.grd_cmmnAtchmnfl.addEventHandler("oncellclick",this.grd_cmmnAtchmnfl_oncellclick,this);this.grd_cmmnAtchmnfl.addEventHandler("onheadclick",this.grd_cmmnAtchmnfl_onheadclick,this);this.btn_delFiles.addEventHandler("onclick",this.btn_delFiles_onclick,this);this.btn_uploadFiles.addEventHandler("onclick",this.btn_uploadFiles_onclick,this);this.btn_downFiles.addEventHandler("onclick",this.btn_downFiles_onclick,this);};this.loadIncludeScript("SUP010203.xfdl");};})();