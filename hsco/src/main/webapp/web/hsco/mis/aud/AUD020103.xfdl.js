(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("AUD020103");this.set_classname("AUD020103");this.set_titletext("계약내역모니터링");this._setFormPosition(0,0,1024,768);}_a=new Dataset("ds_cntrctSttus",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_MTH_CODE\" type=\"string\" size=\"32\"/><Column id=\"TOT_WCT\" type=\"bigdecimal\" size=\"16\"/><Column id=\"PREARNGE_PC\" type=\"bigdecimal\" size=\"16\"/><Column id=\"AFTCH_COMPET_DE\" type=\"string\" size=\"32\"/><Column id=\"BSNS_CODE\" type=\"string\" size=\"32\"/><Column id=\"PRVCNTR_PRVONSH\" type=\"string\" size=\"32\"/><Column id=\"PXCOND_RT\" type=\"bigdecimal\" size=\"16\"/><Column id=\"CNTRCT_NM\" type=\"string\" size=\"32\"/><Column id=\"CNTRCT_MTH_NM\" type=\"string\" size=\"32\"/><Column id=\"CNTRCT_NO\" type=\"string\" size=\"32\"/><Column id=\"SCSBID_RT\" type=\"bigdecimal\" size=\"16\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"32\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"bigdecimal\" size=\"16\"/><Column id=\"PXCOND_AMOUNT\" type=\"bigdecimal\" size=\"16\"/><Column id=\"DSGN_ENTRPS\" type=\"string\" size=\"32\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"32\"/><Column id=\"AFTCH_CNTRCT_AMOUNT\" type=\"bigdecimal\" size=\"16\"/><Column id=\"SPRVISN_ENTRPS\" type=\"string\" size=\"32\"/><Column id=\"DSGN_AMOUNT\" type=\"bigdecimal\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"string\" size=\"32\"/><Column id=\"BSNS_SCALE\" type=\"string\" size=\"32\"/><Column id=\"BCNC_NM\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_YEAR_BGN\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"BSNS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_YEAR_END\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctr022",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"ETC1\" type=\"string\" size=\"32\"/><Column id=\"VAL2\" type=\"string\" size=\"32\"/><Column id=\"CODE_CN\" type=\"string\" size=\"32\"/><Column id=\"VAL1\" type=\"string\" size=\"32\"/><Column id=\"USE_YN\" type=\"string\" size=\"32\"/><Column id=\"ETC3\" type=\"string\" size=\"32\"/><Column id=\"VAL4\" type=\"string\" size=\"32\"/><Column id=\"ETC2\" type=\"string\" size=\"32\"/><Column id=\"VAL3\" type=\"string\" size=\"32\"/><Column id=\"CODE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"MSTK_VAL\" type=\"string\" size=\"32\"/><Column id=\"ALL_CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"CODE_NM\" type=\"string\" size=\"32\"/><Column id=\"INT_VAL\" type=\"string\" size=\"32\"/><Column id=\"GRP_CODE\" type=\"string\" size=\"32\"/><Column id=\"CODE\" type=\"string\" size=\"32\"/><Column id=\"VAL0\" type=\"string\" size=\"32\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"59","28",null,this);_a.set_taborder("0");_a.style.set_color("transparent");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","461","5","51","21",null,null,this.div_search);_a.set_taborder("1");_a.set_text("계약명");_a.set_cssclass("sta_WFSA_Label");_a.style.set_background("URL('theme://images/sta_WFSA_Label.png') left middle");this.div_search.addChild(_a.name,_a);_a=new Edit("Edit_CNT_NM","absolute","517","5","170","21",null,null,this.div_search);_a.set_taborder("2");this.div_search.addChild(_a.name,_a);_a=new Static("sta_EMPL_SE01","absolute","15","31","51","21",null,null,this.div_search);_a.set_taborder("3");_a.set_text("사업명");_a.set_cssclass("sta_WFSA_Label");_a.style.set_align("right middle");this.div_search.addChild(_a.name,_a);_a=new Edit("div_BCNC_CD","absolute","84","31","69","21",null,null,this.div_search);_a.set_taborder("5");_a.set_readonly("true");_a.set_cssclass("edt_WF_Readonly");this.div_search.addChild(_a.name,_a);_a=new Edit("div_BCNC_NM","absolute","155","31","150","21",null,null,this.div_search);_a.set_taborder("4");_a.set_readonly("false");_a.set_inputtype("dot");_a.set_inputfilter("dot");this.div_search.addChild(_a.name,_a);_a=new Static("sta_BUDGET_SE","absolute","253","5","64","21",null,null,this.div_search);_a.set_taborder("6");_a.set_text("계약구분");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cbo_CNT_SE","absolute","318","5","129","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("0");_a.set_innerdataset("ds_ctr022");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a=new Button("btn_bcncPopup","absolute","132","31","21","21",null,null,this.div_search);_a.set_taborder("7");_a.set_cssclass("btn_WF_Search");this.div_search.addChild(_a.name,_a);_a=new Spin("Spin00","absolute","84","5","68","21",null,null,this.div_search);_a.set_taborder("8");this.div_search.addChild(_a.name,_a);_a=new Static("sta_YEAR","absolute","15","5","64","21",null,null,this.div_search);_a.set_taborder("9");_a.set_text("계약년도");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","689","0","15",null,null,"0",this.div_search);_a.set_taborder("10");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Spin("Spin01","absolute","168","5","68","21",null,null,this.div_search);_a.set_taborder("11");this.div_search.addChild(_a.name,_a);_a=new Static("sta_YEAR00","absolute","156","5","8","21",null,null,this.div_search);_a.set_taborder("12");_a.set_text("~");_a.set_wordwrap("char");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","26","1031","5",null,null,this.div_search);_a.set_taborder("13");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","0",null,"1031","5",null,"0",this.div_search);_a.set_taborder("14");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Div("div_work","absolute","0","59",null,null,"28","0",this);_a.set_taborder("1");_a.style.set_border("0 solid #808080ff");this.addChild(_a.name,_a);_a=new Static("Static21","absolute","-1","0","1031","10",null,null,this.div_work);_a.set_taborder("1");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Static("sta_AUDIT_TABLE","absolute","0","10","130","19",null,null,this.div_work);_a.set_taborder("2");_a.set_text("계약정보목록");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","29","1031","5",null,null,this.div_work);_a.set_taborder("3");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Button("btn_excelDn","absolute",null,"10","25","19","0",null,this.div_work);_a.set_taborder("0");_a.set_cssclass("btn_WF_Gridexceldn");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_cntrctSttus","absolute","0","34",null,null,"0","0",this.div_work);_a.set_taborder("4");_a.set_binddataset("ds_cntrctSttus");_a.set_extendsizetype("row");_a.set_cellsizingtype("col");_a.set_autosizingtype("row");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"80\"/><Column size=\"100\"/><Column size=\"80\"/><Column size=\"140\"/><Column size=\"160\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"90\"/><Column size=\"100\"/><Column size=\"170\"/><Column size=\"150\"/><Column size=\"170\"/><Column size=\"170\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"순번\"/><Cell col=\"1\" rowspan=\"2\" colspan=\"2\" text=\"사업명\"/><Cell col=\"3\" rowspan=\"2\" colspan=\"2\" text=\"계약명\"/><Cell col=\"5\" rowspan=\"2\" text=\"사업개요\"/><Cell col=\"6\" rowspan=\"2\" text=\"총사업비\"/><Cell col=\"7\" text=\"지급액\"/><Cell col=\"8\" text=\"설계금액\"/><Cell col=\"9\" text=\"계약금액(최초)\"/><Cell col=\"10\" text=\"계약일자\"/><Cell col=\"11\" text=\"준공일자(최초)\"/><Cell col=\"12\" rowspan=\"2\" text=\"계약업체 및 계약자\"/><Cell col=\"13\" text=\"계약방법\"/><Cell col=\"14\" rowspan=\"2\" text=\"설계업체\"/><Cell col=\"15\" rowspan=\"2\" text=\"감리업체\"/><Cell row=\"1\" col=\"7\" text=\"지급율(%)\"/><Cell row=\"1\" col=\"8\" text=\"예정가격\"/><Cell row=\"1\" col=\"9\" text=\"계약금액(변경)\"/><Cell row=\"1\" col=\"10\" text=\"낙찰율(%)\"/><Cell row=\"1\" col=\"11\" text=\"준공일자(변경)\"/><Cell row=\"1\" col=\"13\" text=\"수의계약사유\"/></Band><Band id=\"body\"><Cell rowspan=\"2\" text=\"expr:currow + 1\"/><Cell col=\"1\" rowspan=\"2\" text=\"bind:BSNS_CODE\"/><Cell col=\"2\" rowspan=\"2\" style=\"align:left;\" text=\"bind:BSNS_NM\" wordwrap=\"char\" suppress=\"1\"/><Cell col=\"3\" rowspan=\"2\" text=\"bind:CNTRCT_NO\"/><Cell col=\"4\" rowspan=\"2\" style=\"align:left;\" text=\"bind:CNTRCT_NM\" wordwrap=\"char\"/><Cell col=\"5\" rowspan=\"2\" style=\"align:left;\" text=\"bind:BSNS_SCALE\" wordwrap=\"char\" autosizerow=\"limitmin\"/><Cell col=\"6\" rowspan=\"2\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:TOT_WCT\" suppress=\"1\"/><Cell col=\"7\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:PXCOND_AMOUNT\" autosizerow=\"limitmin\"/><Cell col=\"8\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:DSGN_AMOUNT\" autosizerow=\"limitmin\"/><Cell col=\"9\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:TOT_CNTRCT_AMOUNT\" autosizerow=\"limitmin\"/><Cell col=\"10\" displaytype=\"date\" text=\"bind:CNTRCT_DE\" calendardisplaynulltype=\"none\" autosizerow=\"limitmin\"/><Cell col=\"11\" displaytype=\"date\" text=\"bind:COMPET_DE\" calendardisplaynulltype=\"none\" autosizerow=\"limitmin\"/><Cell col=\"12\" rowspan=\"2\" style=\"align:left;padding:0 0 0 5;\" text=\"bind:BCNC_NM\"/><Cell col=\"13\" style=\"align:left;padding:0 0 0 5;\" text=\"bind:CNTRCT_MTH_NM\" wordwrap=\"char\" autosizerow=\"limitmin\"/><Cell col=\"14\" rowspan=\"2\" style=\"align:left;padding:0 0 0 5;\" text=\"bind:DSGN_ENTRPS\"/><Cell col=\"15\" rowspan=\"2\" style=\"align:left;padding:0 0 0 5;\" text=\"bind:SPRVISN_ENTRPS\"/><Cell row=\"1\" col=\"7\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:PXCOND_RT\" mask=\"##0.##%\" autosizerow=\"limitmin\"/><Cell row=\"1\" col=\"8\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:PREARNGE_PC\" autosizerow=\"limitmin\"/><Cell row=\"1\" col=\"9\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:AFTCH_CNTRCT_AMOUNT\" autosizerow=\"limitmin\"/><Cell row=\"1\" col=\"10\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:SCSBID_RT\" mask=\"##0.##%\" autosizerow=\"limitmin\"/><Cell row=\"1\" col=\"11\" displaytype=\"date\" text=\"bind:AFTCH_COMPET_DE\" calendardisplaynulltype=\"none\" autosizerow=\"limitmin\"/><Cell row=\"1\" col=\"13\" style=\"align:left;padding:0 0 0 5;\" text=\"bind:PRVCNTR_PRVONSH\" wordwrap=\"char\" autosizerow=\"limitmin\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Static("Static02","absolute","996","0","15","735",null,null,this);_a.set_taborder("2");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static03","absolute",null,"0","13","735","0",null,this);_a.set_taborder("3");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Layout("default","",0,59,this.div_search,function(_b){_b.set_taborder("0");_b.style.set_color("transparent");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1039,736,this.div_work,function(_b){_b.set_taborder("1");_b.style.set_border("0 solid #808080ff");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",1024,768,this,function(_b){_b.set_classname("AUD020103");_b.set_titletext("계약내역모니터링");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_search.Edit_CNT_NM","value","ds_cond","CNTRCT_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","div_search.div_BCNC_CD","value","ds_cond","BSNS_CODE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_search.div_BCNC_NM","value","ds_cond","BSNS_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item3","div_search.cbo_CNT_SE","value","ds_cond","CNTRCT_SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.Spin00","value","ds_cond","CNTRCT_YEAR_BGN");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item5","div_search.Spin01","value","ds_cond","CNTRCT_YEAR_END");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("AUD020103.xfdl","lib::comInclude.xjs");this.addIncludeScript("AUD020103.xfdl","mis_lib::misUtil.xjs");this.registerScript("AUD020103.xfdl",function(){this.checkDs=[this.ds_cntrctSttus];this.AUD020103_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.AUD020103_onload=function(_a,_b){this.div_search.cbo_CNT_SE.setFocus(true);};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);var _a=[["ds_ctr022","CTR022","Y","A","B"]];var _b=function(_c,_d,_e){this.ds_cond.clearData();this.ds_cond.addRow();this.ds_cond.setColumn(0,"CNTRCT_YEAR_BGN",this.gfn_today().substring(0,4)-5);this.ds_cond.setColumn(0,"CNTRCT_YEAR_END",this.gfn_today().substring(0,4));this.fn_search();};this.gfn_comboLoad(_a,_b);};this.fn_init_dataset=function(){};this.fn_search=function(){this.fn_transaction("SRCH");};this.fn_transaction=function(_a){switch(_a){case "SRCH":var _b="hsco/mis/acc/CTR060300/cntrctSttusList.do";var _c="input1=ds_cond";var _d="ds_cntrctSttus=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){this.gfn_callback_message(_a,_b,_c);if(_b!=0){switch(_a){case "SRCH":break;default:break;}}else{switch(_a){case "SRCH":break;default:break;}}};this.btn_excel_down_onclick=function(_a,_b){this.gfn_exportExcel(this.div_work.grd_cntrctSttus,"CNTRCT_STTUS_LIST");};this.fn_popup_onclick=function(_a,_b){this.gfn_popup("btn_bcncPopup",600,500,"사업코드 팝업",{searchStr:this.ds_cond.saveXML()},"pms_prj::popBsns.xfdl","fn_popupCallBack",true);};this.fn_popupCallBack=function(_a,_b){var _c=new Dataset();if(!this.comUtils.isNull(_b)){_c.loadXML(_b);this.ds_cond.setColumn(0,"BSNS_CODE",_c.getColumn(0,"BSNS_CODE"));this.ds_cond.setColumn(0,"BSNS_NM",_c.getColumn(0,"BSNS_NM"));}};this.div_work_grd_cntrctSttus_onheadclick=function(_a,_b){this.gfn_gridSort(_a,_b);};this.div_work_btn_excelDn_onclick=function(_a,_b){this.gfn_exportExcel(this.div_work.grd_cntrctSttus,"cntrctSttus");};this.div_work_grd_cntrctSttus_oncelldblclick=function(_a,_b){var _c={arg_0:this,bsnsCode:this.ds_cntrctSttus.getColumn(_b.row,"BSNS_CODE"),bsnsNm:this.ds_cntrctSttus.getColumn(_b.row,"BSNS_NM"),cntrctNo:this.ds_cntrctSttus.getColumn(_b.row,"CNTRCT_NO"),cntrctNm:this.ds_cntrctSttus.getColumn(_b.row,"CNTRCT_NM")};this.gfn_popup("cntrctChangeListPopup","1000","400","계약변경현황",_c,"mis_ctr::CTR030100_P11.xfdl","fn_popupCallback",true);};this.div_search_div_BCNC_NM_onkeyup=function(_a,_b){if(_b.keycode=='8'){this.div_search.div_BCNC_NM.set_value("");this.div_search.div_BCNC_CD.set_value("");}else if(_b.keycode=='46'){this.div_search.div_BCNC_NM.set_value("");this.div_search.div_BCNC_CD.set_value("");}};});this.on_initEvent=function(){this.ds_ctr022.addEventHandler("onrowposchanged",this.ds_frmtnPd_onrowposchanged,this);this.addEventHandler("oninit",this.AUD020103_oninit,this);this.addEventHandler("onload",this.AUD020103_onload,this);this.div_search.addEventHandler("onkeyup",this.div_search_onkeyup,this);this.div_search.Edit_CNT_NM.addEventHandler("oneditclick",this.div_search00_Edit_CNT_NM_oneditclick,this);this.div_search.div_BCNC_NM.addEventHandler("onkeyup",this.div_search_div_BCNC_NM_onkeyup,this);this.div_search.btn_bcncPopup.addEventHandler("onclick",this.fn_popup_onclick,this);this.div_search.sta_YEAR.addEventHandler("onclick",this.sta_YEAR_onclick,this);this.div_search.Static02.addEventHandler("onclick",this.div_search_Static02_onclick,this);this.div_search.sta_YEAR00.addEventHandler("onclick",this.sta_YEAR_onclick,this);this.div_work.sta_AUDIT_TABLE.addEventHandler("onclick",this.Static00_onclick,this);this.div_work.btn_excelDn.addEventHandler("onclick",this.div_work_btn_excelDn_onclick,this);this.div_work.grd_cntrctSttus.addEventHandler("onheadclick",this.div_work_grd_cntrctSttus_onheadclick,this);this.div_work.grd_cntrctSttus.addEventHandler("oncelldblclick",this.div_work_grd_cntrctSttus_oncelldblclick,this);};this.loadIncludeScript("AUD020103.xfdl");};})();