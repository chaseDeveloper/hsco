(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("AUD020107");this.set_classname("AUD020107");this.set_titletext("알림대상관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_grpCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"9\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"6\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"6\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"6\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"100\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_empno",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"NTCN_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_grpCode</Col><Col id=\"colId\">CODE</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"type\"/><Col id=\"nlength\"/><Col id=\"from\"/><Col id=\"to\"/><Col id=\"lengthChkGb\"/><Col id=\"msgId\">코드</Col><Col id=\"expr\"/><Col id=\"func\"/></Row><Row><Col id=\"compId\">ds_grpCode</Col><Col id=\"colId\">CODE_NM</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">코드명</Col><Col id=\"PK\"/></Row><Row><Col id=\"compId\">ds_grpCode</Col><Col id=\"colId\">CODE_ORDR</Col><Col id=\"PK\"/><Col id=\"notNull\">Y</Col><Col id=\"msgId\">코드순서</Col></Row><Row><Col id=\"compId\">ds_empno</Col><Col id=\"colId\">EMPNO</Col><Col id=\"PK\">Y</Col><Col id=\"notNull\">Y</Col><Col id=\"type\"/><Col id=\"nlength\"/><Col id=\"from\"/><Col id=\"to\"/><Col id=\"lengthChkGb\"/><Col id=\"msgId\">사번</Col><Col id=\"expr\"/><Col id=\"func\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_aud035",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"9\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"6\"/><Column id=\"CODE_CN\" type=\"STRING\" size=\"6\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"6\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"100\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond2",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"NTCN_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"USE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"NTCN_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/></Rows>");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("0");_a.style.set_color("transparent");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_codeNm","absolute","15","5","70","21",null,null,this.div_search);_a.set_taborder("1");_a.set_text("알림구분");_a.set_cssclass("sta_WFSA_Label");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_ntcnSe","absolute","89","6","110","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("2");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_innerdataset("@ds_aud035");_a.set_index("-1");_a=new Static("Static02","absolute","74","0","15",null,null,"0",this.div_search);_a.set_taborder("3");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","199","0","15",null,null,"0",this.div_search);_a.set_taborder("4");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("sta_codeNm00","absolute","215","5","70","21",null,null,this.div_search);_a.set_taborder("5");_a.set_text("사용여부");_a.set_cssclass("sta_WFSA_Label");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Radio("rdo_useAt","absolute","289","6","168","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);var _b=new Dataset("rdo_useAt_innerdataset",this.div_search.rdo_useAt);_b._setContents("<ColumnInfo><Column id=\"codecolumn\" size=\"256\"/><Column id=\"datacolumn\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"codecolumn\"/><Col id=\"datacolumn\">전체</Col></Row><Row><Col id=\"codecolumn\">1</Col><Col id=\"datacolumn\">사용</Col></Row><Row><Col id=\"codecolumn\">0</Col><Col id=\"datacolumn\">미사용</Col></Row></Rows>");_a.set_innerdataset(_b);_a.set_taborder("6");_a.set_direction("vertical");_a.set_codecolumn("codecolumn");_a.set_datacolumn("datacolumn");_a.set_index("0");_a=new Static("Static01","absolute","273","0","15",null,null,"0",this.div_search);_a.set_taborder("7");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Div("div_work","absolute","0","33",null,null,"28","0",this);_a.set_taborder("1");_a.style.set_border("0 solid #808080ff");this.addChild(_a.name,_a);_a=new Static("Static21","absolute","-1","0","1031","10",null,null,this.div_work);_a.set_taborder("5");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_grpCode","absolute","1","34",null,null,"410","10",this.div_work);_a.set_taborder("0");_a.set_binddataset("ds_grpCode");_a.set_autoenter("select");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"60\"/><Column size=\"150\"/><Column size=\"60\"/><Column size=\"300\"/><Column size=\"60\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell cssclass=\"Cellgrd_WF_HeadEssential\" text=\"코드\"/><Cell col=\"1\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"코드명\"/><Cell col=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"코드순서\"/><Cell col=\"3\" text=\"코드내용\"/><Cell col=\"4\" text=\"사용여부\"/></Band><Band id=\"body\"><Cell edittype=\"expr:dataset.getRowType(currow)==2?'normal':'none'\" text=\"bind:CODE\" maskchar=\" \" editlimit=\"2\" editdisplay=\"expr:dataset.getRowType(currow)==2 ? 'display':'edit'\" editlimitbymask=\"decimal\" editlengthunit=\"ascii\"/><Cell col=\"1\" edittype=\"expr:dataset.getRowType(currow)==2?'normal':'none'\" style=\"align:left middle;padding:0 0 0 5;\" text=\"bind:CODE_NM\" wordwrap=\"char\" editlimit=\"100\" editdisplay=\"expr:dataset.getRowType(currow)==2 ? 'display':'edit'\" editlengthunit=\"ascii\" autosizerow=\"limitmin\" autosizecol=\"limitmin\"/><Cell col=\"2\" edittype=\"masknumber\" style=\"align:right middle;padding:0 5 0 0;\" text=\"bind:CODE_ORDR\" mask=\"##\" maskchar=\" \" editdisplay=\"display\" editlimitbymask=\"integer\"/><Cell col=\"3\" edittype=\"normal\" style=\"align:left middle;padding:0 0 0 5;\" text=\"bind:CODE_CN\" wordwrap=\"char\" editlimit=\"1000\" editdisplay=\"display\" editlengthunit=\"ascii\" autosizerow=\"limitmin\" autosizecol=\"limitmin\"/><Cell col=\"4\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:USE_AT\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Static("sta_lawCodeList","absolute","0","10","130","19",null,null,this.div_work);_a.set_taborder("6");_a.set_text("알림구분");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","29","1031","5",null,null,this.div_work);_a.set_taborder("7");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Button("btn_Add_Row","absolute",null,"10","64","19","133",null,this.div_work);_a.set_taborder("1");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.div_work.addChild(_a.name,_a);_a=new Button("btn_Del_Row","absolute",null,"10","64","19","67",null,this.div_work);_a.set_taborder("2");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_work.addChild(_a.name,_a);_a=new Button("btn_Can_Row","absolute",null,"10","64","19","0",null,this.div_work);_a.set_taborder("3");_a.set_text("행취소");_a.set_cssclass("btn_WF_Gridcnl");this.div_work.addChild(_a.name,_a);_a=new Static("Static01","absolute","621","7","10","680",null,null,this.div_work);_a.set_taborder("8");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_code","absolute",null,"34","400",null,"0","10",this.div_work);_a.set_taborder("4");_a.set_binddataset("ds_empno");_a.set_autoenter("select");_a.set_autofittype("none");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"150\"/><Column size=\"80\"/><Column size=\"120\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"부서\"/><Cell col=\"1\" text=\"사번\"/><Cell col=\"2\" text=\"사원명\"/></Band><Band id=\"body\"><Cell style=\"align:left middle;padding:0 0 0 5;\" text=\"bind:DEPT_NM\"/><Cell col=\"1\" edittype=\"none\" text=\"bind:EMPNO\" expandshow=\"hide\"/><Cell col=\"2\" style=\"align:left middle;padding:0 0 0 5;\" text=\"bind:EMPNM\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Static("sta_lawCodeList00","absolute",null,"10","130","19","270",null,this.div_work);_a.set_taborder("10");_a.set_text("알림대상자");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("Static02","absolute","1031","0","15","735",null,null,this);_a.set_taborder("2");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static03","absolute",null,"0","13","735","0",null,this);_a.set_taborder("3");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_c){_c.set_taborder("0");_c.style.set_color("transparent");_c.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1039,736,this.div_work,function(_c){_c.set_taborder("1");_c.style.set_border("0 solid #808080ff");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_c){_c.set_classname("AUD020107");_c.set_titletext("알림대상관리");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_search.rdo_useAt","value","ds_cond","USE_AT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.cmb_ntcnSe","value","ds_cond","NTCN_SE");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("AUD020107.xfdl","lib::comInclude.xjs");this.addIncludeScript("AUD020107.xfdl","mis_lib::misUtil.xjs");this.registerScript("AUD020107.xfdl",function(){var _a= -1;this.AUD020107_oninit=function(_b,_c){this.fn_init_form();this.fn_init_dataset();};this.AUD020107_onload=function(_b,_c){var _d=[["ds_aud035","AUD035",1,"전체"]];var _e=function(_f,_g,_h){this.div_search.rdo_useAt.set_index(0);this.fn_search();};this.gfn_comboLoad(_d,_e);};this.fn_search=function(){this.ds_grpCode.clearData();this.ds_empno.clearData();this.ds_grpCode.applyChange();this.ds_empno.applyChange();this.fn_transaction("selectNtcnCodeList");};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);this.fn_search();};this.fn_init_dataset=function(){};this.fn_save=function(){if(!this.comUtils.isDatasetUpdated(this.ds_grpCode)&&!this.comUtils.isDatasetUpdated(this.ds_empno)){this.gfn_message("comm.내역.변경.없음");return false;}if(!this.gfn_checkValidation_NoUpdChk(this.ds_grpCode,this.ds_validation)){return;}if(!this.gfn_checkValidation_NoUpdChk(this.ds_empno,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){_a=this.ds_grpCode.rowposition;this.fn_transaction("ntcnCUD");}};this.fn_transaction=function(_b){switch(_b){case "selectNtcnCodeList":var _c="hsco/mis/aud/AUD020107/selectNtcnCodeList.do";var _d="input1=ds_cond";var _e="ds_grpCode=output1";break;case "ntcnCUD":var _c="hsco/mis/aud/AUD020107/ntcnCUD.do";var _d="input1=ds_grpCode:U input2=ds_empno:U";var _e="";break;case "selectaudDetailCodeList":this.ds_cond2.setColumn(0,"NTCN_SE",this.ds_grpCode.getColumn(this.ds_grpCode.rowposition,"CODE"));var _c="hsco/mis/aud/AUD020107/selectNtcnEmpList.do";var _d="input1=ds_cond2";var _e="ds_empno=output1";break;}var _f="";Ex.core.tran(this,_b,_c,_d,_e,_f);};this.fn_callBack=function(_b,_c,_d){if(_c!=0){this.gfn_callback_message(_b,_c,_d);}else{switch(_b){case "selectNtcnCodeList":if(_a> -1){this.ds_grpCode.set_rowposition(_a);}break;case "ntcnCUD":_a=this.ds_grpCode.rowposition;this.AUD020107_onload();break;case "selectaudDetailCodeList":if(this.ds_grpCode.rowposition==_a){_a= -1;}break;}}};this.fn_insert=function(){if(Ex.util.isUpdated(this.ds_empno)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}else{this.ds_grpCode.set_enableevent(false);var _b=this.ds_grpCode.addRow();this.ds_empno.clearData();this.ds_grpCode.setColumn(_b,"USE_AT","1");this.ds_grpCode.setColumn(_b,"CODE_ORDR",this.ds_grpCode.getRowCount());this.ds_grpCode.setColumn(_b,"CODE",(this.ds_grpCode.getRowCount()<10?"0"+this.ds_grpCode.getRowCount():this.ds_grpCode.getRowCount()));this.ds_grpCode.set_enableevent(true);}}else{this.ds_grpCode.set_enableevent(false);var _b=this.ds_grpCode.addRow();this.ds_empno.clearData();this.ds_grpCode.setColumn(_b,"USE_AT","1");this.ds_grpCode.setColumn(_b,"CODE_ORDR",this.ds_grpCode.getRowCount());this.ds_grpCode.setColumn(_b,"CODE",(this.ds_grpCode.getRowCount()<10?"0"+this.ds_grpCode.getRowCount():this.ds_grpCode.getRowCount()));this.ds_grpCode.set_enableevent(true);}};this.fn_cancel=function(){if(!this.comUtils.isDatasetUpdated(this.ds_grpCode)){this.gfn_message("comm.내역.변경.없음");}else{if(this.gfn_message("confirm.취소여부")){this.ds_grpCode.reset();this.ds_grpCode.applyChange();return;}}};this.div_Cont_btn_Add_Row01_onclick=function(_b,_c){this.gfn_popup("empnoPopup",400,400,"알림대상 선택",'',"com::empno_P01.xfdl","fn_popupCallBack",true);};this.fn_popupCallBack=function(_b,_c){if(!_c){return false;}var _d=new Dataset();_d.loadXML(_c);switch(_b){case "empnoPopup":var _e=this.ds_empno.addRow();this.ds_empno.setColumn(_e,"EMPNO",_d.getColumn(0,"EMPNO"));this.ds_empno.setColumn(_e,"EMPNM",_d.getColumn(0,"EMPNM"));this.ds_empno.setColumn(_e,"DEPT_NM",_d.getColumn(0,"DEPT_NM"));this.ds_empno.setColumn(_e,"NTCN_SE",this.ds_grpCode.getColumn(this.ds_grpCode.rowposition,"CODE"));break;}};this.div_Cont_btn_Del_Row01_onclick=function(_b,_c){if(this.gfn_message("confirm.삭제여부")){var _d=this.ds_empno.rowposition;this.ds_empno.deleteRow(_d);}};this.div_Cont_btn_Can_Row01_onclick=function(_b,_c){if(!this.comUtils.isDatasetUpdated(this.ds_empno)){this.gfn_message("comm.내역.변경.없음");}else{if(this.gfn_message("confirm.취소여부")){this.ds_empno.reset();this.ds_empno.applyChange();return;}}};this.ds_grpCode_onrowposchanged=function(_b,_c){this.ds_empno.clearData();if(_c.newrow> -1&&_b.getRowType(_c.newrow)!=Dataset.ROWTYPE_INSERT){this.fn_transaction("selectaudDetailCodeList");}};this.ds_grpCode_canrowposchange=function(_b,_c){if(Ex.util.isUpdated(this.ds_empno)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}else{this.ds_empno.applyChange();return true;}}};this.ds_grpCode_oncolumnchanged=function(_b,_c){if(_c.columnid=="CODE"){var _d=this.ds_empno.rowcount;this.ds_empno.set_enableevent(false);if(_d>0){for(var _e=0;_e<_d;_e++ ){this.ds_empno.setColumn(_e,"NTCN_SE",_c.newvalue);}}this.ds_empno.set_enableevent(true);}};});this.on_initEvent=function(){this.ds_grpCode.addEventHandler("onrowposchanged",this.ds_grpCode_onrowposchanged,this);this.ds_grpCode.addEventHandler("canrowposchange",this.ds_grpCode_canrowposchange,this);this.ds_grpCode.addEventHandler("oncolumnchanged",this.ds_grpCode_oncolumnchanged,this);this.ds_aud035.addEventHandler("onrowposchanged",this.ds_grpCode_onrowposchanged,this);this.ds_aud035.addEventHandler("canrowposchange",this.ds_grpCode_canrowposchange,this);this.addEventHandler("oninit",this.AUD020107_oninit,this);this.addEventHandler("onload",this.AUD020107_onload,this);this.div_work.btn_Add_Row.addEventHandler("onclick",this.div_Cont_btn_Add_Row01_onclick,this);this.div_work.btn_Del_Row.addEventHandler("onclick",this.div_Cont_btn_Del_Row01_onclick,this);this.div_work.btn_Can_Row.addEventHandler("onclick",this.div_Cont_btn_Can_Row01_onclick,this);};this.loadIncludeScript("AUD020107.xfdl");};})();