(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("SAL030105");this.set_classname("SAL030105");this.set_titletext("월급여확정관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_pymnt_se",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE_NM\">전체</Col></Row><Row><Col id=\"CODE_NM\">1일자</Col><Col id=\"CODE\">1</Col></Row><Row><Col id=\"CODE_NM\">20일자</Col><Col id=\"CODE\">2</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_mtSalaryCreat",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"SALARY_SE\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_YM\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_DE\" type=\"STRING\" size=\"256\"/><Column id=\"CNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"CLOS_AT\" type=\"STRING\" size=\"256\"/><Column id=\"DCSN_AT\" type=\"STRING\" size=\"256\"/><Column id=\"DCSN_DE\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_AMT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"DDC_AMT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"TOT_AMT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"OPERTOR\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_mtSalaryCreat2",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"SALARY_SE\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_YM\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_DE\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_NMPR\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"DCSN_AT\" type=\"STRING\" size=\"256\"/><Column id=\"DCSN_DE\" type=\"STRING\" size=\"256\"/><Column id=\"CALC_TOTAMT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"DDC_TOTAMT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"RL_RECPT_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"OPERTOR\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_dcsn_at",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE_NM\"/><Col id=\"CODE\"/></Row><Row><Col id=\"CODE_NM\">확정</Col><Col id=\"CODE\">1</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_year",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_SE\" type=\"STRING\" size=\"256\"/><Column id=\"DCSN_AT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond01",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_SE\" type=\"STRING\" size=\"256\"/><Column id=\"DCSN_AT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_salary_se",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE_NM\">정상</Col><Col id=\"CODE\">1</Col></Row><Row><Col id=\"CODE_NM\">정산</Col><Col id=\"CODE\">2</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_pymnt_se2",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE_NM\">복리후생비</Col><Col id=\"CODE\">1</Col></Row><Row><Col id=\"CODE_NM\">급여</Col><Col id=\"CODE\">2</Col></Row><Row><Col id=\"CODE\">4</Col><Col id=\"CODE_NM\">계약직</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond02",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DCSN_DE\" type=\"STRING\" size=\"256\"/><Column id=\"DCSN_AT\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_YM\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_SE\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_DE\" type=\"STRING\" size=\"256\"/><Column id=\"SALARY_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_pymnt_se3",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE_NM\">정규직</Col><Col id=\"CODE\">1</Col></Row><Row><Col id=\"CODE_NM\">정규직</Col><Col id=\"CODE\">2</Col></Row><Row><Col id=\"CODE\">4</Col><Col id=\"CODE_NM\">계약직</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_closAt",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"PYMNT_YM\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"STRING\" size=\"256\"/><Column id=\"CLOS_AT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","1031","0","15","735",null,null,this);_a.set_taborder("0");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute",null,"0","13","735","0",null,this);_a.set_taborder("5");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("4");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static16","absolute","15","5","91","21",null,null,this.div_search);_a.set_taborder("1");_a.set_text("지급년도");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static07","absolute","88","26",null,"5","903",null,this.div_search);_a.set_taborder("3");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","96","0",null,"5","895",null,this.div_search);_a.set_taborder("4");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static06","absolute","0","2",null,"20","1015",null,this.div_search);_a.set_taborder("5");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","104","53",null,"5","887",null,this.div_search);_a.set_taborder("6");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static03","absolute","160","2",null,"20","855",null,this.div_search);_a.set_taborder("8");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Spin("spn_yr","absolute","84","5","84","21",null,null,this.div_search);_a.set_taborder("9");_a.set_value("0");_a.set_max("9999");_a.set_cssclass("spn_WF_Essential");_a.style.set_align("center");this.div_search.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","33","1031","10",null,null,this);_a.set_taborder("6");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static31","absolute","0","39","169","19",null,null,this);_a.set_taborder("7");_a.set_text("월급여 생성내역");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0","53","1031","5",null,null,this);_a.set_taborder("8");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd_mtSalaryCreat","fixed","0","58",null,null,"28","0",this);_a.set_taborder("9");_a.set_binddataset("ds_mtSalaryCreat");_a.set_summarytype("top");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"60\"/><Column size=\"100\"/><Column size=\"60\"/><Column size=\"150\"/><Column size=\"150\"/><Column size=\"150\"/><Column size=\"22\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"지급년월\"/><Cell col=\"1\" text=\"지급순번\"/><Cell col=\"2\" text=\"지급일자\"/><Cell col=\"3\" text=\"지급인원\"/><Cell col=\"4\" text=\"지급총액\"/><Cell col=\"5\" text=\"공제총액\"/><Cell col=\"6\" text=\"실수령액\"/><Cell col=\"7\" colspan=\"2\" text=\"확정여부\"/></Band><Band id=\"body\"><Cell displaytype=\"normal\" edittype=\"none\" text=\"bind:PYMNT_YM\" mask=\"####-##\"/><Cell col=\"1\" displaytype=\"normal\" edittype=\"none\" text=\"bind:SN\" suppress=\"0\"/><Cell col=\"2\" displaytype=\"date\" text=\"bind:PYMNT_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"3\" displaytype=\"number\" style=\"align: ;\" text=\"bind:CNT\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right;\" text=\"bind:PYMNT_AMT\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:right;\" text=\"bind:DDC_AMT\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right;\" text=\"bind:TOT_AMT\"/><Cell col=\"7\" displaytype=\"image\" style=\"align:right;backgroundimage:EXPR(CLOS_AT=='1' ? &quot;image::ok.png&quot; : &quot;image::no.png&quot;);\"/><Cell col=\"8\" displaytype=\"button\" text=\"expr:CLOS_AT == &quot;1&quot; ? &quot;해제&quot; : &quot;확정&quot;\"/></Band><Band id=\"summary\"><Cell colspan=\"4\" text=\"합계\"/><Cell col=\"4\" displaytype=\"number\" text=\"expr:dataset.getSum('PYMNT_AMT')\"/><Cell col=\"5\" displaytype=\"number\" text=\"expr:dataset.getSum('DDC_AMT')\"/><Cell col=\"6\" displaytype=\"number\" text=\"expr:dataset.getSum('TOT_AMT')\"/><Cell col=\"7\" colspan=\"2\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("4");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("SAL030105");_b.set_titletext("월급여확정관리");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_search.spn_yr","value","ds_cond00","YEAR");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("SAL030105.xfdl","lib::comInclude.xjs");this.registerScript("SAL030105.xfdl",function(){this.SAL030105_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.SAL030105_onload=function(_a,_b){this.fn_search();};this.fn_init_form=function(){this.ds_cond00.clearData();this.ds_cond00.addRow();this.ds_cond00.setColumn(0,"YEAR",this.dateUtils.format(this.gfn_today(),"yyyy"));this.gfn_initForm(this);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);};this.fn_search=function(){this.ds_mtSalaryCreat.clearData();this.fn_transaction("selectMtSalaryDcsnList");};this.fn_transaction=function(_a){var _b="";var _c="fn_callBack";var _d=true;var _e=true;switch(_a){case "selectMtSalaryDcsnList":var _f="hsco/mis/sal/SAL030105/selectMtSalaryDcsnList.do";var _g="input1=ds_cond00";var _h="ds_mtSalaryCreat=output1";break;case "updateMtSalaryClosAt":var _f="hsco/mis/sal/SAL030105/updateMtSalaryClosAt.do";var _g="input1=ds_cond00 input2=ds_closAt";var _h="ds_mtSalaryCreat=output1";break;case "saveMtSalaryDcsnList":var _f="hsco/mis/sal/SAL030105/MtSalaryDcsnU.do";var _g="input3=ds_cond02";var _h="";_e=false;break;case "saveMtSalaryDcsn2List":var _f="hsco/mis/sal/SAL030105/MtSalaryDcsn2U.do";var _g="input3=ds_cond02";var _h="";break;}Ex.core.tran(this,_a,_f,_g,_h,_b,_c,_d,_e);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){this.gfn_callback_message(_a,_b,_c);}else{switch(_a){case "selectMtSalaryDcsnList":break;case "saveMtSalaryDcsnList":this.fn_search();this.gfn_message("success.처리.성공");break;case "saveMtSalaryDcsn2List":this.alert("확정취소 되었습니다.");this.fn_search();break;}}};this.btn_dcsnAt_onclick=function(_a,_b){if(this.confirm("확정하시겠습니까?")){var _c=this.ds_mtSalaryCreat.getRowCount();for(var _h=0;_h<=_c-1;_h++ ){if(this.ds_mtSalaryCreat.getColumn(_h,"CHK")=="1"){var _d=this.ds_mtSalaryCreat.getColumn(_h,"PYMNT_YM");var _e=this.ds_mtSalaryCreat.getColumn(_h,"SALARY_SE");var _f=this.ds_mtSalaryCreat.getColumn(_h,"PYMNT_DE");var _g=this.ds_mtSalaryCreat.getColumn(_h,"PYMNT_SE");}}if(!_d){this.alert("확정 할 내역을 선택하세요");return;}this.ds_cond02.clearData();this.ds_cond02.addRow();this.ds_cond02.setColumn(0,"DCSN_AT","1");this.ds_cond02.setColumn(0,"DCSN_DE",this.cal_dcsnAt.value);this.ds_cond02.setColumn(0,"SALARY_SE",_e);this.ds_cond02.setColumn(0,"PYMNT_YM",_d);this.ds_cond02.setColumn(0,"PYMNT_DE",_f);this.ds_cond02.setColumn(0,"PYMNT_SE",_g);this.fn_transaction("saveMtSalaryDcsnList");}};this.div_search01_btn_dcsnAtCancel_onclick=function(_a,_b){if(this.confirm("확정취소하시겠습니까?")){var _c=this.ds_mtSalaryCreat2.getRowCount();for(var _h=0;_h<=_c-1;_h++ ){if(this.ds_mtSalaryCreat2.getColumn(_h,"CHK")=="1"){var _d=this.ds_mtSalaryCreat2.getColumn(_h,"PYMNT_YM");var _e=this.ds_mtSalaryCreat2.getColumn(_h,"SALARY_SE");var _f=this.ds_mtSalaryCreat2.getColumn(_h,"PYMNT_DE");var _g=this.ds_mtSalaryCreat2.getColumn(_h,"PYMNT_SE");}}if(!_d){this.alert("확정 취소 할 내역을 선택하세요");return;}this.ds_cond02.clearData();this.ds_cond02.addRow();this.ds_cond02.setColumn(0,"DCSN_AT","");this.ds_cond02.setColumn(0,"DCSN_DE","");this.ds_cond02.setColumn(0,"SALARY_SE",_e);this.ds_cond02.setColumn(0,"PYMNT_YM",_d);this.ds_cond02.setColumn(0,"PYMNT_DE",_f);this.ds_cond02.setColumn(0,"PYMNT_SE",_g);this.fn_transaction("saveMtSalaryDcsn2List");}};this.grd_mtSalaryCreat_oncellclick=function(_a,_b){if(_b.cell==8){var _c=this.ds_mtSalaryCreat.getColumn(_b.row,"CLOS_AT")=="1"?"0":"1";this.ds_closAt.clearData();this.ds_closAt.addRow();this.ds_closAt.setColumn(0,"PYMNT_YM",this.ds_mtSalaryCreat.getColumn(_b.row,"PYMNT_YM"));this.ds_closAt.setColumn(0,"SN",this.ds_mtSalaryCreat.getColumn(_b.row,"SN"));this.ds_closAt.setColumn(0,"CLOS_AT",_c);this.fn_transaction("updateMtSalaryClosAt");}};});this.on_initEvent=function(){this.addEventHandler("oninit",this.SAL030105_oninit,this);this.addEventHandler("onload",this.SAL030105_onload,this);this.grd_mtSalaryCreat.addEventHandler("oncellclick",this.grd_mtSalaryCreat_oncellclick,this);};this.loadIncludeScript("SAL030105.xfdl");};})();