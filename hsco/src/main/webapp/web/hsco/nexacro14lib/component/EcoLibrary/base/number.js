if(!JsNamespace.exist("Eco.number")){JsNamespace.declare("Eco.number",{point:".",separator:",",separatorGrouping:"\\3",_adjustFloat:function(_a){return parseFloat(_a.toPrecision(14));},_getMaxPrecision:function(_a){var _b=0,_c,_d;total=0,len=_a.length;var _e=Eco.number._adjustFloat;for(var _f=0;_f<len;_f++ ){_d=_e(_a[_f]);_c=(_d.toString().match(/\.\d+/)||[''])[0].length;if(_c>_b){_b=_c;}}return _b;},plus:function(){var _a=0,_b,_c=0,_d=arguments.length;_a=Eco.number._getMaxPrecision(arguments);_a=Math.pow(10,(_a-1));for(i=0;i<_d;i++ ){_c+=(arguments[i]*_a);}return _c/_a;},divide:function(){var _a=0;var _b=0;var _c=arguments.length-1;var _d=[arguments[0]];var _e=1;var _f=Eco.number;var _g=_f._getMaxPrecision;var _h=_f._adjustFloat;do{_d.push(arguments[_e]);_e++ ;_a=Math.pow(10,(_g(_d)-1));for(var _i=0;_i<2;_i++ ){_d[_i]*=_a;}_b=_h(_d[0]/_d[1]);_b=(_d[0]/_d[1]);_d=[_b];}while( --_c)return _b;},multiply:function(){var _a=0;var _b=0;var _c=arguments.length-1;var _d=[arguments[0]];var _e=1;var _f=Eco.number;var _g=_f._getMaxPrecision;var _h=_f._adjustFloat;var _i=0;do{_d.push(arguments[_e]);_i=_g(_d);if(_i==0){_a=1;}else{_a=Math.pow(10,(_i-1));}for(var _j=0;_j<2;_j++ ){_d[_j]=_h(_d[_j]*_a);}_b=(_d[0]*_d[1]/Math.pow(_a,2));_d=[_b];_e++ ;}while( --_c)return _b;},intToHanGul:function(_a){if(!Eco.isString(_a)){_a=String(_a);}var _b=["영","일","이","삼","사","오","육","칠","팔","구"];var _c=["","만","억","조","경","해"];var _d=["영천","영백","영십","영"];var _e=[];var _f="";var _g="";if(_a.charAt(0)=="-"){_f="마이너스 ";_a=_a.substr(1,_a.length-1);}else if(_a.charAt(0)=="+"){_a=_a.substr(1,_a.length-1);}var _h=_a.indexOf('.'),_i="",_j,_k="";if(_h<0){_i=_a;_j=false;}else{_i=_a.substr(0,_h);_k=_a.substr(_h+1);_j=true;}var _l=Math.ceil(_i.length/4);sTmpPrice="";for(var _m=_i.length;_m>=0;_m-- ){sTmpPrice+=_i.substring(_m,_m-1);}_i=sTmpPrice;for(var _m=0;_m<_l;_m++ ){sSum=_c[_m]+" ";_e[_m]=_i.substr(_m*4,4);_g="";for(var _n=_e[_m].length;_n>=0;_n-- ){_g+=_e[_m].substring(_n,_n-1);}_e[_m]=_g;sPart=_e[_m].length;for(var _n=0;_n<10;_n++ ){for(var _o=0;_o<10;_o++ ){_e[_m]=_e[_m].replace(_o,_b[_o]);}}if(sPart==4){_e[_m]=_e[_m].charAt(0)+"천"+_e[_m].charAt(1)+"백"+_e[_m].charAt(2)+"십"+_e[_m].charAt(3);}else if(sPart==3){_e[_m]=_e[_m].charAt(0)+"백"+_e[_m].charAt(1)+"십"+_e[_m].charAt(2);}else if(sPart==2){_e[_m]=_e[_m].charAt(0)+"십"+_e[_m].charAt(1);}else{_e[_m]=_e[_m].charAt(0);}for(var _n=0;_n<4;_n++ ){if(_e[_m].match(_d[_n])){sPart-- ;_e[_m]=_e[_m].replace(_d[_n],"");}}if(sPart!=0){_e[_m]+=sSum;}}for(_l;_l> -1;_l-- ){_f+=_e[_l];}_f=_f.replace("undefined","");if(_j){_f+=" 소수점 ";for(var _m=0,_p=_k.length;_m<_p;_m++ ){_f+=_b[parseInt(_k.charAt(_m))];}}return _f;},intToHanJa:function(_a){if(!Eco.isString(_a)){_a=String(_a);}var _b=["零","壹","貳","參","四","五","六","七","八","九"];var _c=["","萬","億","兆"];var _d=["零千","零百","零拾","零"];var _e=[];var _f="";var _g="";if(_a.charAt(0)=="-"){_f="陰數";_a=_a.substr(1,_a.length-1);}else if(_a.charAt(0)=="+"){_a=_a.substr(1,_a.length-1);}var _h=_a.indexOf('.'),_i="",_j,_k="";if(_h<0){_i=_a;_j=false;}else{_i=_a.substr(0,_h);_k=_a.substr(_h+1);_j=true;}var _l=Math.ceil(_i.length/4);sTmpPrice="";for(var _m=_i.length;_m>=0;_m-- ){sTmpPrice+=_i.substring(_m,_m-1);}_i=sTmpPrice;for(var _m=0;_m<_l;_m++ ){sSum=_c[_m]+" ";_e[_m]=_i.substr(_m*4,4);_g="";for(var _n=_e[_m].length;_n>=0;_n-- ){_g+=_e[_m].substring(_n,_n-1);}_e[_m]=_g;sPart=_e[_m].length;for(var _n=0;_n<10;_n++ ){for(var _o=0;_o<10;_o++ ){_e[_m]=_e[_m].replace(_o,_b[_o]);}}if(sPart==4){_e[_m]=_e[_m].charAt(0)+"千"+_e[_m].charAt(1)+"百"+_e[_m].charAt(2)+"拾"+_e[_m].charAt(3);}else if(sPart==3){_e[_m]=_e[_m].charAt(0)+"百"+_e[_m].charAt(1)+"拾"+_e[_m].charAt(2);}else if(sPart==2){_e[_m]=_e[_m].charAt(0)+"拾"+_e[_m].charAt(1);}else{_e[_m]=_e[_m].charAt(0);}for(var _n=0;_n<4;_n++ ){if(_e[_m].match(_d[_n])){sPart-- ;_e[_m]=_e[_m].replace(_d[_n],"");}}if(sPart!=0){_e[_m]+=sSum;}}for(_l;_l> -1;_l-- ){_f+=_e[_l];}_f=_f.replace("undefined","");if(_j){_f+=" 小數點 ";for(var _m=0,_p=_k.length;_m<_p;_m++ ){_f+=_b[parseInt(_k.charAt(_m))];}}return _f;},bytesToSize:function(_a,_b,_c){if(_b===null||_b===undefined||_b===""){_b=1;}if(_c!==false){_c=true;}var _d=['B','KB','MB','GB','TB','PB','EB','ZB','YB'];var _e=0;while(_a>=1024){_a/=1024; ++_e;}if(!_c){return _a.toFixed(_b);}else{if(_b>0){return _a.toFixed(_b)+' '+_d[_e];}else{return Math.round(_a)+' '+_d[_e];}}},evenRound:function(_a,_b){var _c=_b||0;var _d=Math.pow(10,_c);var _e= +(_c?_a*_d:_a).toFixed(8);var _f=Math.floor(_e),_g=_e-_f;var _h=(_g==0.5)?((_f%2==0)?_f:_f+1):Math.round(_e);return _c?_h/_d:_h;},_numberMaskCache:{},_parseNumberMask:function(_a){var _b=Eco.number;var _c=_b._numberMaskCache[_a];if(_c){return _c;}var _d=false,_e=0,_f=0,_g= -1,_h=0;_a=nexacro.trimLeft(_a);if(_a.length<=0){return [_d,_e,_f,_g,_h];}_h=0;_g=0;_d=(_a.indexOf(",")>=0);var _i,_j=false;for(var _k=0,_l=_a.length;_k<_l;_k++ ){_i=_a.charAt(_k);if(_i=='.'){_j=true;}else if(_i=='#'||_i=='0'||_i=='9'||_i==','){if(_j){if(_i=='0'){_h++ ;_g=_h;}else{_h++ ;}}else{if(_i=='0'){_e++ ;}else if(_e>0){_e++ ;}_f++ ;}}}_c=[_d,_e,_f,_g,_h];_b._numberMaskCache[_a]=_c;return _c;},_numberSplit:function(_a){var _b=Eco.number;var _c=0,_d;if((_c=_a.indexOf('+'))>=0){_d= +1;_c=1;}else if((_c=_a.indexOf('-'))>=0){_d= -1;_c=1;}else{_d=0;_c=0;}var _e=_a.indexOf(_b.point,_c),_f="",_g,_h="";if(_e<0){_f=_a.substr(_c);_g=false;}else{_f=_a.substr(_c,_e-_c);_h=_a.substr(_e+1);_g=true;}return [_d,_g,_f,_h];},_removeMask:function(_a){var _b=Eco.number;_a=_a.trim();var _c=_a.length,_d,_e=_b.point,_f=_b.separator;bPoint=false,bInside=false,buf=[];for(_d=0;_d<_c;_d++ ){var _g=_a.charAt(_d);if((_g=='+'||_g=='-')&&(bInside===false)){buf.push(_g);bInside=true;}else if(nexacro.isNumeric(_g)){buf.push(_g);bInside=true;}else if(_g==_e&&bPoint===false){buf.push(_g);bPoint=true;bInside=true;}else if(_g!=_f){return "";}}return buf.join("");},_applyComma:function(_a){var _b=Eco.number;var _c=_b.separatorGrouping;var _d=_b.separator;if(_d.length>0){var _e=_a.split(""),_f=_a.length,_g=(_d.length+1)*_a.length,_h=[],_i=0,_j=_f,_k=_g,_l=0,_m;_c=_c.split("");while(_c[_l]&&_j>0){_m=_c[_l];if(_m=="\\"){_l++ ;_m=parseInt(_c[_l]);}if(_m>0){_i=_m;while(_m-- >0&&_j>0){_h[ --_k]=_e[ --_j];}if(_j>0){_h[ --_k]=_d;}}else if(_m==0&&_j>_i){_m=_i;while(_m-- >0){_h[ --_k]=_e[ --_j];}if(_j>0){_h[ --_k]=_d;}}else if(_m==0&&_j<=_i&&_j>0){_m=_j;while(_m-- >0){_h[ --_k]=_e[ --_j];}}else{break;}}return _h.slice(_k,_g+_k).join("");}return _a;},_normalizeValue:function(_a,_b){var _c=Eco.number;if(_a.length<=0){return _a;}if(_b===undefined){_b=true;}_a=_c._removeMask(_a);if(_a.charAt(_a.length-1)==_c.point){_a=_a+"0";}if(_b){var _d=(_a.charAt(0)=='-')?1:0;var _e=_c.point;while(_a.charAt(0+_d)=='0'&&_a.charAt(1+_d)!=_e&&_a.length!=(1+_d)){_a=_a.substring(0,0+_d)+_a.substr(0+_d+1,_a.length);}var _f=_a.indexOf(_e);if(_f>=0){var _g;for(_g=_a.length-1;_g>_f+1;_g-- ){if(_a.charAt(_g)!='0'){break;}}_a=_a.substring(0,_g+1);}}if(_a.charAt(0)=='+'){_a=_a.substr(1);}else if(_a.length<=0||parseFloat(_a)==0.0){if(_a.charAt(0)=='-'){_a=_a.substr(1);}}return _a;},getMaskFormatString:function(_a,_b){var _c=Eco.number;var _d=_a+"";_d=_c._normalizeValue(_d,true);var _e=0;var _f=0;var _g=_c._numberSplit(_d),_h=_g[0],_i=_g[1],_j=_g[2],_k=_g[3];_f=_j.length;_e=_k?_k.length:0;var _l=_c._parseNumberMask(_b),_m=_l[0],_n=_l[1],_o=_l[2],_p=_l[3],_q=_l[4];if(_n>_f){var _r="";for(var _s=0,_t=_n-_f;_s<_t;_s++ ){_r+="0";}_j=_r+_j;}if(_p>_e){var _r="";for(var _s=0,_t=_p-_e;_s<_t;_s++ ){_r+="0";}_k=_k+_r;}else if(_q!= -1&&_q<_e){_k=_k.substring(0,_q)+_k.substr(_e,_k.length);}if(_m){_j=_c._applyComma(_j);}if(_h<0){_d="-";}else if(_h>0){_d="+";}else{_d="";}_d+=_j;if(_k.length>0){_d+=_c.point;_d+=_k;}return _d;}});}