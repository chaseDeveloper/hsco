if(!JsNamespace.exist("Ex.vali")){JsNamespace.declare("Ex.vali",{ffobj:this,DIV_FONT_SIZE:10,DIV_FONT_HEIGHT:15,jo_ArrComp:[],jv_CompCnt:0,jo_ArrTaborder:[],jv_ArrPIdx:[],jv_ArrParentNm:[],init:function(_a){this.ffobj=_a;},isValidComp:function(_a){return this.findValidObject(_a);},findValidObject:function(_a){var _b=true;var _c="";var _d=[];_d=Eco.XComp.query(_a,"prop[_check] != '' && prop[_msg] != '' && isVisual==true && isEnable==true && typeOf != 'Static'");for(var _e=0;_e<_d.length;_e++ ){if(this.isValidComponentValue(_d[_e],true)==false){_d[_e].setFocus();_b=false;return false;}}return _b;},isValidComponentValue:function(_a,_b){var _c=_a.name;var _d=_a;var _e=Ex.util.isReplaceEmpty(_a.cssclass);var _f=Ex.util.isReplaceEmpty(_a._check);var _g=Ex.util.isReplaceEmpty(_a.readonly);var _h=Eco.isEmpty(_b)?false:true;if(_g=="true"||_g==true){return true;}if(Eco.XComp.typeOf(_d)=="Edit"||Eco.XComp.typeOf(_d)=="MaskEdit"||Eco.XComp.typeOf(_d)=="TextArea"||Eco.XComp.typeOf(_d)=="Combo"||Eco.XComp.typeOf(_d)=="CheckBox"||Eco.XComp.typeOf(_d)=="Radio"||Eco.XComp.typeOf(_d)=="Calendar"){if(_a.hasOwnProperty("_check")&&!Eco.isUndefined(_a._check)){var _i=this.isValidComFunc(_a,_h);if(_h==false&&_i==false){_a.setFocus();}return _i;}}if(_a.hasOwnProperty("_check")&&Eco.XComp.typeOf(_d)=="Grid"&&!Eco.isUndefined(_a._check)){return this.isValidGridValue(_a);}return true;},isValidComFunc:function(_a,_b){var _c=_a.name;var _d=_a;var _e=String(Ex.util.isReplaceEmpty(_a.value)).trim();var _f=String(Ex.util.isReplaceEmpty(_a._check)).toUpperCase().trim();var _g=String(Ex.util.isReplaceEmpty(_a._msg)).toUpperCase().trim();var _h=false;var _i= -1;var _j= -1;var _k= -1;var _l= -1;var _m=false;var _n=false;var _o=_f.split("|");if(Eco.isEmpty(_b)){Eco.Logger.error({message:"isValidComFunc 현재 함수는 직접 실행하실수 없습니다.",elapsed:true,stack:true});}for(var _r=0;_r<_o.length;_r++ ){var _p=String(_o[_r]).split(":");var _q=_p[0];if(_q=="MIN"){_i=nexacro.toNumber(_p[1]);}if(_q=="MAX"){_j=nexacro.toNumber(_p[1]);}if(Eco.string.startsWith(_q,"MIN_LENGTH")){_q=Ex.vali.getLengthType(_a,_q);if(Eco.isEmpty(_q)){return;}_k=nexacro.toNumber(_p[1]);}if(Eco.string.startsWith(_q,"MAX_LENGTH")){_q=Ex.vali.getLengthType(_a,_q);if(Eco.isEmpty(_q)){return;}_l=nexacro.toNumber(_p[1]);}if(_q=="NUM"){_h=true;}if(_q=="ZERO"){_m=true;}if(_q=="NULL"){_n=true;}}if(_n==true&&Eco.isEmpty(_e)){Ex.core.comMsg("alert","@항목에 값을 넣어주세요","vali","메세지",_e);return false;}if(_k>0&&Eco.string.getLength(_e,_q)<_k){Ex.core.comMsg("alert","항목은 @글자이상 입력하셔야 합니다","vali","메세지",[_g,_k]);return false;}if(_l>0&&Eco.string.getLength(_e,_q)>_l){Ex.core.comMsg("alert","@ 항목은 @글자 이하 입력하셔야 합니다.","vali","메세지",[_g,_l]);return false;}if(_h&&!Eco.isNumber(_e)){Ex.core.comMsg("alert","{0}항목은 숫자형이 아닙니다.","메세지",[_g]);return false;}if(_i>0&&_i>parseInt(_e,10)||Eco.isEmpty(_e)){Ex.core.comMsg("alert","@ 항목은 @글자 이상 입력하셔야 합니다.","vali","메세지",[_g,_i]);return false;}if(_j>0&&_j<parseInt(_e,10)||Eco.isEmpty(_e)){Ex.core.comMsg("alert","@ 항목은 @글자 이하 입력하셔야 합니다.","vali","메세지",[_g,_j]);return false;}if(_m&&(parseInt(_e,10)==0)||Eco.isEmpty(_e)){Ex.core.comMsg("alert","@ 아닙니다. @ 확인하세요","valiValue_zeroCheck","메세지",[_g]);return false;}return true;},isValiProperty:function(_a){if(!_a.hasOwnProperty("_check")&&_a.hasOwnProperty("_msg")){_a.setFocus();Eco.Logger.error({message:"unknwon prperty is _check or _msg",stack:true,elapsed:true});return false;}if(Eco.isEmpty(_a._check)||Eco.isEmpty(_a._msg)){Eco.Logger.error({message:"property  is Null :  _check or _msg",stack:true,elapsed:true});_a.setFocus();return false;}return true;},getLengthType:function(_a,_b){var _c="";if(Eco.string.endsWith(_b,"UTF8")){_c="utf8";}else if(Eco.string.endsWith(_b,"UTF16")){_c="utf16";}else if(Eco.string.endsWith(_b,"ASCII")){_c="ascii";}else{Eco.Logger.error({message:"UnKnown _check lengthtype...._check'"+_a._check+"'",elapsed:true,stack:true});_c="";}return _c;},isValidGridValue:function(_a){var _b=this.ffobj;var _c="";var _d,_e,_f,_g,_h,_i,_j,_k,_l=this._topform||this;if(Eco.isEmpty(_a.binddataset)||Eco.isEmpty(_a._check)){return true;}var _m=Eco.XComp.lookup(this.ffobj,_a.binddataset);var _n=_a._check;for(var _ag=0;_ag<_m.rowcount;_ag++ ){var _o=_m.getRowType(_ag);if(_o==8){continue;}var _p=String(_n).split("^");for(var _ah=0;_ah<_p.length;_ah++ ){var _q=_p[_ah];var _r=false;var _s= -1;var _t= -1;var _u= -1;var _v= -1;var _w=false;var _x=String(_q).split("|");var _y=_x[0];for(var _e=1;_e<_x.length;_e++ ){var _z=String(_x[_e]).split(":");var _aa=_z[0];if(_aa=="MIN"){_s=nexacro.toNumber(_z[1]);}if(_aa=="MAX"){_t=nexacro.toNumber(_z[1]);}if(Eco.string.startsWith(_aa,"MIN_LENGTH")){_aa=Ex.vali.getLengthType(_a,_aa);if(Eco.isEmpty(_aa)){return;}_u=nexacro.toNumber(_z[1]);}if(Eco.string.startsWith(_aa,"MAX_LENGTH")){_aa=Ex.vali.getLengthType(_a,_aa);if(Eco.isEmpty(_aa)){return;}_v=nexacro.toNumber(_z[1]);}if(_aa=="NUM"){_r=true;}if(_aa=="ZERO"){_w=true;}}var _ab=_a.getBindCellIndex("body",_y);var _ac=_a.getFormatColSize(_ab);if(_ac<1){continue;}var _ad=_a.getCellProperty("Body",_ab,"edittype");if(Eco.isEmpty(_ad)||_ad=="none"||_ad=="readonly"){continue;}var _ae=String(Ex.util.isReplaceEmpty(_m.getColumn(_ag,_y))).trim();var _af=_a.getCellText( -1,_ab).replace(String.fromCharCode(13),'').replace(String.fromCharCode(10),'');if(Eco.isEmpty(_ae)){Ex.core.comMsg("alert","@ 행의 @ 은(는) 필수 입력 입니다.","vali","메세지",[(_ag+1),"("+_af+")"]);Ex.vali.grd_ShwEditor(_a,_m,_ab,_ag);return false;}else if(_u>0&&Eco.string.getLength(_ae,_aa)<_u){Ex.core.comMsg("alert","@ 행의 @ 은(는) 필수 입력 입니다","vali","메세지",[_ag+1,"("+_af+")",_u]);Ex.vali.grd_ShwEditor(_a,_m,_ab,_ag);return false;}else if(_v>0&&Eco.string.getLength(_ae,_aa)>_v){Ex.core.comMsg("alert","@ 항목은 @글자 이하 입력하셔야 합니다.","vali","메세지",[10,"("+_af+")",_v]);Ex.vali.grd_ShwEditor(_a,_m,_ab,_ag);return false;}else if(_r&&!Eco.isNumber(_ae)){Ex.core.comMsg("alert","@ 번째 줄의 @ 숫자형이 아닙니다.","vali","메세지",[(_ag+1),"("+_af+")"]);Ex.vali.grd_ShwEditor(_a,_m,_ab,_ag);return false;}if(_s>0&&_s>parseInt(_ae,10)){Ex.core.comMsg("alert","@ 항목은 @글자 이상 입력하셔야 합니다.","vali","메세지",[(_ag+1),"("+_af+")",_s]);Ex.vali.grd_ShwEditor(_a,_m,_ab,_ag);return false;}if(_t>0&&_t<parseInt(_ae,10)){Ex.core.comMsg("alert","@ 항목은 @글자 이하 입력하셔야 합니다.","vali","default",[(_ag+1),"("+_af+")",_t]);Ex.vali.grd_ShwEditor(_a,_m,_ab,_ag);return false;}if(_w&&(parseInt(_ae,10)==0)){Ex.core.comMsg("alert","@ 아닙니다. @ 확인하세요","vali","default",[(_ag+1),"("+_af+")"]);Ex.vali.grd_ShwEditor(_a,_m,_ab,_ag);return false;}}}return true;},grd_ShwEditor:function(_a,_b,_c,_d){_b.set_rowposition(_d);_a.setCellPos(_c);_a.showEditor(true);}});}