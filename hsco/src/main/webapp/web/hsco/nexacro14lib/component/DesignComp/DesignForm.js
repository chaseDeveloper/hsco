if(!nexacro.DesignForm){nexacro.isDesignMode=true;nexacro._design_notify_layoutchange=1;nexacro._design_notify_div_urlload=2;nexacro._design_notify_div_httperror=3;nexacro._design_notify_theme_change=4;nexacro._design_notify_theme_updated=5;nexacro._design_notify_css_change=6;nexacro._design_notify_css_updated=7;nexacro._design_sublayout_overlaycolor=new nexacro.Style_color("#00000090");nexacro._design_css_cache=new nexacro.Collection();nexacro._design_themeid_map=new nexacro.Collection();nexacro.DesignForm_Style=function(_a){nexacro.Form_Style.call(this,_a);};var _pDesignFormStyle=nexacro._createPrototype(nexacro.Style,nexacro.DesignForm_Style);nexacro.DesignForm_Style.prototype=_pDesignFormStyle;eval(nexacro._createAlignAttributeEvalStr("_pDesignFormStyle","stepalign"));eval(nexacro._createValueAttributeEvalStr("_pDesignFormStyle","stepshowtype"));_pDesignFormStyle.__custom_emptyObject=function(){this.stepalign=null;this.stepshowtype=null;};_pDesignFormStyle.__get_custom_style_value=function(){var _a="";if(this.stepalign&&!this.stepalign._is_empty){_a+="stepalign:"+this.stepalign._value+"; ";}if(this.stepshowtype&&!this.stepshowtype._is_empty){_a+="stepshowtype:"+this.stepshowtype._value+"; ";}return _a;};nexacro.DesignForm_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.stepalign=null;this.stepshowtype=null;};var _pDesignFormCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.DesignForm_CurrentStyle);nexacro.DesignForm_CurrentStyle.prototype=_pDesignFormCurrentStyle;_pDesignFormCurrentStyle.__custom_emptyObject=_pDesignFormStyle.__custom_emptyObject;_pDesignFormCurrentStyle.__get_custom_style_value=_pDesignFormStyle.__get_custom_style_value;delete _pDesignFormStyle;delete _pDesignFormCurrentStyle;nexacro.DesignForm=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._inner_form=null;this._root_left=20;this._root_top=20;this._scroll_horz=0;this._scroll_vert=0;this._inner_form_width=0;this._inner_form_height=0;this._dot_size_x=0;this._dot_size_y=0;this._sublayoutmode_stack=[];this._active_editing_form=null;this._outer_background_value="#DCDCDC";this._inner_background_value="#eeeeee";nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.set_scrollbars("none");};var _pDesignForm=nexacro._createPrototype(nexacro.Form,nexacro.DesignForm);nexacro.DesignForm.prototype=_pDesignForm;_pDesignForm._type_name="DesignForm";eval(nexacro._createAlignAttributeEvalStr("_pDesignForm","stepalign"));eval(nexacro._createValueAttributeEvalStr("_pDesignForm","stepshowtype"));_pDesignForm.on_create_custom_style=function(){return new nexacro.DesignForm_Style(this);};_pDesignForm.on_create_custom_currentStyle=function(){return new nexacro.DesignForm_CurrentStyle();};_pDesignForm.on_create_contents=function(){nexacro.Form.prototype.on_create_contents.call(this);};_pDesignForm.on_destroy_contents=function(){this.accessport=null;nexacro.Form.prototype.on_destroy_contents.call(this);};_pDesignForm.destroy=function(){if(this._inner_form){this._inner_form.destroy();this._inner_form=null;}var _a=this.parent;if(_a._window){_a._window.destroy();}_a.destroy();nexacro.Form.prototype.destroy.call(this);};_pDesignForm._init=function(){if(application.accessport){this._setEventHandler("oninit",this.on_notify_init,this);}};_pDesignForm._get_css_typename=function(){return "Form";};_pDesignForm.reloadForm=function(){var _a=this._active_editing_form;if(_a){var _b=_a._control_element;if(_b){if(_b._step_container_elements){var _c=_b._step_container_elements;var _d=_c.length;for(var _g=0;_g<_d;_g++ ){var _e=_c[_g];_e.destroy();}}}}var _f=this._inner_form;if(_f){_f.destroy();}this._inner_form=null;this._createInnerForm();this.setOverflowClip(this._overflowclip);};_pDesignForm.createComponentByRect=function(classname,parentid,left,top,width,height,compid){var parent;if(parentid){parent=this._getChild(parentid);}if(!parent){parent=this._inner_form;}if(!compid||compid.length==0){compid=this._getNextChildID(parent,classname);}var classnameobj=eval(classname);if(classnameobj){var obj=new classnameobj(compid,null,left,top,width,height,null,null,parent);parent.addChild(compid,obj);if(obj["set_text"]){obj["set_text"](compid);}if(obj["set_taborder"]){obj["set_taborder"](this._getNextChildTaborder(parent));}obj.show();return compid;}};_pDesignForm.createTabpage=function(_a,_b,_c){var _d;if(_b){_d=this._getChild(_b);}if(!_d){return;}if(!_c||_c.length==0){_c=this._getNextChildID(_d,_a);}if(_d instanceof nexacro.Tab){_d.insertTabpage(_c,_d.getTabpageCount(),"",_c);return _c;}return;};_pDesignForm.createInvisibleObject=function(classname,objid){if(!objid||objid.length==0){objid=this._getNextChildID(this._inner_form,classname);}var classnameobj=eval(classname);if(classnameobj){var obj=new classnameobj(objid,this._inner_form);this._inner_form.addChild(objid,obj);return obj.name;}};_pDesignForm.deleteObject=function(_a){var _b=this._getChild(_a);var _c=_b.parent;if(_b&&_c){_c.removeChild(_b.id);return _b.destroyComponent();}};_pDesignForm.setProperty=function(compid,propid,propval,pseudo){var obj=this._getObject(compid);if(obj){var propids=propid.split(".");if(propids.length==1&&propid=="style"){obj.style._empty();obj.style._is_empty=false;}else if(propids.length>1&&propids[0]=="style"){var _style;if(!pseudo){_style=obj.style;}else{_style=obj._styles[pseudo];if(!_style){_style=obj._styles[pseudo]=obj.on_create_custom_style();}}if(_style){if(propids.length>2){var is_avail=true;var curobj=_style;for(var i=0;i<propids.length-1;i++ ){curobj=curobj[propids[i+1]];if(!curobj){is_avail=false;break;}}if(!is_avail||!curobj){var parent_propids=propids.slice(0);parent_propids.length=parent_propids.length-1;parent_propids[0]="currentstyle";var parent_attr=parent_propids.join(".");var current_pseudo=obj._pseudo;if(pseudo){obj.setCurrentPseudo(pseudo);}var current_value=eval("obj."+parent_attr);if(pseudo&&current_pseudo){obj.setCurrentPseudo(current_pseudo);}parent_propids[0]="style";this.setProperty(compid,parent_propids.join("."),current_value._value,pseudo);}}propids[0]="set";var setter=propids.join("_");if(_style[setter]){_style[setter](propval);}this._on_update_property(obj,propid);return;}}if(propid=="id"){propid=="name";}if(obj["set_"+propid]){obj["set_"+propid](propval);}this._on_update_property(obj,propid);return obj[propid];}};_pDesignForm.appendInlineStyleValue=function(_a,_b){var _c=null;if(_b==null){_c=_a;}else if(_a==null){_c=_b;}else{_c=this._appendInlineStyleValue(_a,_b);}return _c;};_pDesignForm.setLayoutStyle=function(_a,_b,_c){var _d=this.appendInlineStyleValue(_b,_c);this.setProperty(_a,"style",_d);};_pDesignForm.getProperty=function(_a,_b,_c){var _d=this._getObject(_a);if(_d){var _e=_b.split(".");if(_e.length==1&&_b=="style"){return this._getInlineStyleValue(_d);}else if(_e.length>1&&_e[0]=="style"){var _f;if(!_c){_f=_d.style;}else if(_d._styles[_c]){_f=_d._styles[_c];}for(var _g=0;_g<_e.length-1;_g++ ){_f=_f[_e[_g+1]];if(!_f){return;}}return _f._value?_f._value:_f;}return _d[_b];}};_pDesignForm.getCurrentStyleValue=function(compid,propid,pseudo){var obj=this._getObject(compid);if(obj){var propids=propid.split(".");if(propids.length<=1){return;}if(propids[0]!="style"){return;}if(!pseudo){pseudo="normal";}var cur_pseudo=obj._pseudo;obj.setCurrentPseudo(pseudo);propids[0]="currentstyle";var attrstr=propids.join(".");var style_obj=eval("obj."+attrstr);obj.setCurrentPseudo(cur_pseudo);if(style_obj){return style_obj._value?style_obj._value:style_obj;}}};_pDesignForm.moveComponentByRect=function(_a,_b,_c,_d,_e){var _f=this._getChild(_a);if(_f){var _g=_f.left;var _h=_f.top;var _i=_f.width;var _j=_f.height;var _k=_f.right;var _l=_f.bottom;_f.move(_b,_c,_d,_e,null,null);var _m=_f.parent;var _n;function _restorePositionValueUnit(pos){var _w_or_h;if(pos=="left"||pos=="width"||pos=="right"){_w_or_h="width";}else{_w_or_h="height";}var adjust_pos;if(pos=="right"){adjust_pos=obj._adjust_width+obj._adjust_left;}else if(pos=="bottom"){adjust_pos=obj._adjust_height+obj._adjust_top;}else{adjust_pos=eval("obj._adjust_"+pos);}eval("if (undefined === _"+pos+" || null === _"+pos+") {\n"+"   obj.set_"+pos+"(null);\n"+"} else {\n"+"   val = _"+pos+";\n"+"   if (typeof(val) == 'string' && val.indexOf('%') >= 0) {\n"+"      val = ((adjust_pos * 100) / parent._client_"+_w_or_h+");\n"+"      if (pos == 'right' || pos == 'bottom') {\n"+"         val = 100.0 - val;\n"+"      }\n"+"      val = nexacro.round(val, 2);\n"+"      obj.set_"+pos+"(val + '%');\n"+"   }\n"+"}");}if(_f.positionstep>0){_f._adjust_left-=(_f.parent._adjust_width*_f.positionstep);}_restorePositionValueUnit("left");_restorePositionValueUnit("top");_restorePositionValueUnit("width");_restorePositionValueUnit("height");_restorePositionValueUnit("right");_restorePositionValueUnit("bottom");if(_f.positionstep>0){_f._adjust_left+=(_f.parent._adjust_width*_f.positionstep);}_f._adjustPosition(_f.left,_f.top,_f.right,_f.bottom,_f.width,_f.height,_f.parent._client_width,_f.parent._client_height);}};_pDesignForm.swapPositionUnit=function(_a,_b){var _c=this._getObject(_a);if(_c){this._swapPositionUnit(_c,_b);}};_pDesignForm.moveComponent=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._getChild(_a);if(_h){return _h.move(_b,_c,_d,_e,_f,_g);}};_pDesignForm.resizeComponent=function(_a,_b,_c){var _d=this._getObject(_a);if(_d){return _d.resize(_b,_c);}};_pDesignForm.hitTestByPoint=function(_a,_b,_c){var _d=this._getObject(_c);if(_d){var _e=0;var _f=0;var _g=application.getLayoutManager();var _h=_g.getCurrentLayout(_d);if(_h){_e=_h.stepcount?_h.stepcount:0;stepwidth=_d._adjust_width;var _i=this.getZoom()/100;stepwidth*=_i;stepwidth=parseInt(stepwidth);}var _j=this._getChilds(_d);var _k=_j?_j.length:0;for(var _t=_k-1;_t>=0;_t-- ){var _l=_j[_t];if(!_l){continue;}var _m=_a;var _n=_b;var _o=this._hitTestByPoint(_l,_m,_n);if(_o==false){var _p=_l.positionstep?_l.positionstep:0;if(_p<0){for(var _u=1;_u<_e;_u++ ){_m-=stepwidth;_o=this._hitTestByPoint(_l,_m,_n);if(_o){break;}}}}if(_o){var _q=_l.url;if(_q){return this._getScopeName(_l);}var _r=this._getChilds(_l);var _s=_r?_r.length:0;if(_s>0){return this.hitTestByPoint(_m,_n,this._getScopeName(_l));}else{return this._getScopeName(_l);}}}}return _c;};_pDesignForm.hitTestByRect=function(_a,_b,_c,_d,_e,_f){var _g="";var _h=this._getObject(_e);if(_h){var _i=0;var _j=0;var _k=application.getLayoutManager();var _l=_k.getCurrentLayout(_h);if(_l){_i=_l.stepcount?_l.stepcount:0;stepwidth=_h._adjust_width;var _m=this.getZoom()/100;stepwidth*=_m;stepwidth=parseInt(stepwidth);}var _n=[];var _o=this._getChilds(_h);var _p=_o.length;for(var _ab=_p-1;_ab>=0;_ab-- ){var _q=_o[_ab];if(!_q){continue;}var _r=_a;var _s=_b;var _t=_c;var _u=_d;var _v=_q.positionstep?_q.positionstep:0;var _w=this._hitTestByRect(_q,_r,_s,_r+_t,_s+_u,_f);if(_w==false){if(_v<0){for(var _ac=1;_ac<_i;_ac++ ){_r-=stepwidth;_w=this._hitTestByRect(_q,_r,_s,_r+_t,_s+_u,_f);if(_w){break;}}}}if(_w){_n.push(this._getScopeName(_q));}var _x=_q.url;if(_x){continue;}var _y=this._getChilds(_q);var _z=_y?_y.length:0;if(_z>0){var _aa=this.hitTestByRect(_a,_b,_c,_d,this._getScopeName(_q),_f);if(_aa&&_aa.length>0){if(_g.length>0){_g+=",";}_g+=_aa;}if(_v<0){_r=_a;for(var _ac=1;_ac<_i;_ac++ ){_r-=stepwidth;_aa=this.hitTestByRect(_r,_b,_c,_d,this._getScopeName(_q),_f);if(_aa&&_aa.length>0){if(_g.length>0){_g+=",";}_g+=_aa;}}}}}if(_n.length>0){if(_g.length>0){_g+=",";}_g+=_n.join(",");}}return _g;};_pDesignForm.hitTestTracker=function(_a,_b,_c,_d){var _e=this._getObject(_d);if(_e){var _f=false;var _g=this._getClientRect(_e);if(_g[0]-7<=_a&&_a<=_g[0]+_g[2]+7&&_g[1]-7<=_b&&_b<=_g[1]+_g[3]+7){_f=true;}if(!_f){var _h=this._getObject(_c);if(!_h){return;}var _i=application.getLayoutManager();var _j=_i.getCurrentLayout(_h);if(!_j){return;}var _k=_j.stepcount?_j.stepcount:0;if(_k<2){return;}var _l=_h._adjust_width;var _m=this.getZoom()/100;_l*=_m;_l=parseInt(_l);var _n=_e;while(_n&&_n.parent&&_h!=_n.parent){_n=_n.parent;}if(!_n){return;}var _o=_n.positionstep?_n.positionstep:0;if(_o>=0){return;}if(_o<0){for(var _p=1;_p<_k;_p++ ){_g[0]+=_l;if(_g[0]-7<=_a&&_a<=_g[0]+_g[2]+7&&_g[1]-7<=_b&&_b<=_g[1]+_g[3]+7){_f=true;break;}}}}if(_f){return _g;}}return  -1;};_pDesignForm.setScroll=function(_a,_b){if(_a){this._scroll_left=_b;}else{this._scroll_top=_b;}this._recalcDesignLayout();};_pDesignForm.getComponentRect=function(_a,_b){var _c=this._getObject(_a);if(_c==this._inner_form){var _d=0;var _e=0;var _f=this._inner_form_width;var _g=this._inner_form_height;return [_d,_e,_f,_g];}else if(_b){var _d=_c._adjust_left;var _e=_c._adjust_top;var _f=_c._adjust_width;var _g=_c._adjust_height;var _h=this._findSubLayoutMode(_c);if(_h){_d=_d+this._scroll_left-_h.offset_pos[0];_e=_e+this._scroll_top-_h.offset_pos[1];}var _i=_c.parent;while(_i&&_i!=this._inner_form){_d+=_i._adjust_left;_e+=_i._adjust_top;{var _j=_i.on_find_CurrentStyle_border(_i._pseudo);var _k=(_j?_j._getBorderLeftWidth():0);_d+=_k;_e+=_k;}if(_i instanceof nexacro.Div){_h=this._findSubLayoutMode(_i);if(_h){_d=_d+this._scroll_left-_h.offset_pos[0];_e=_e+this._scroll_top-_h.offset_pos[1];}}_i=_i.parent;}return [_d,_e,_f,_g];}else{return [_c._adjust_left,_c._adjust_top,_c._adjust_width,_c._adjust_height];}};_pDesignForm.getClientRect=function(_a){var _b=this._getObject(_a);if(_b){return this._getClientRect(_b);}};_pDesignForm._get_real_dot_size=function(measure,size,v){if(measure==0){return size;}var form=this._inner_form;var formsize=eval("form._adjust_"+v);size=parseInt(formsize*size/100);return size;};_pDesignForm.setDotSize=function(_a,_b){var _c=this._get_real_dot_size(_a,_b,"width");var _d=this._get_real_dot_size(_a,_b,"height");var _e=this._active_editing_form._control_element;if(_e&&_e._handle){nexacro.__setElementHandleDotSize(_e._handle,_c,_d);}if(_e&&_e._step_container_elements&&_e._step_container_elements.length>0){var _f=_e._step_container_elements;for(var _h=0;_h<_f.length;_h++ ){var _g=_f[_h];if(_g&&_g._handle){nexacro.__setElementHandleDotSize(_g._handle,_c,_d);}}}this._dot_size_x=_c;this._dot_size_y=_d;};_pDesignForm.setDotStyle=function(_a){var _b=this._active_editing_form._control_element;if(_b&&_b._handle){nexacro.__setElementHandleDotStyle(_b._handle,_a);}if(_b&&_b._step_container_elements&&_b._step_container_elements.length>0){var _c=_b._step_container_elements;for(var _e=0;_e<_c.length;_e++ ){var _d=_c[_e];if(_d&&_d._handle){nexacro.__setElementHandleDotStyle(_d._handle,_a);}}}this._dot_style=_a;};_pDesignForm.setDotVisible=function(_a){var _b=this._active_editing_form._control_element;if(_b&&_b._handle){nexacro.__setElementHandleDotVisible(_b._handle,_a);}if(_b&&_b._step_container_elements&&_b._step_container_elements.length>0){var _c=_b._step_container_elements;for(var _e=0;_e<_c.length;_e++ ){var _d=_c[_e];if(_d&&_d._handle){nexacro.__setElementHandleDotVisible(_d._handle,_a);}}}this._dot_visible=_a;};_pDesignForm.getFormBitmap=function(){var _a=this._control_element;if(_a&&_a._handle){return nexacro.__getWindowBitmap(_a._handle);}};_pDesignForm.setBitmapSize=function(_a,_b){var _c=this.parent;if(!_c){return;}var _d=_c._window;if(!_d||!_d._handle){return;}_c.move(0,0,nexacro._getWindowHandleClientWidth(_d._handle),nexacro._getWindowHandleClientHeight(_d._handle));};_pDesignForm.setFormSize=function(_a,_b){this._inner_form_width=_a;this._inner_form_height=_b;var _c=this._inner_form;if(_c){_c.resize(this._inner_form_width,this._inner_form_height);}};_pDesignForm.DrawOffset=function(_a,_b){var _c=this._control_element;if(_c&&_c._handle){nexacro.__setElementHandleOffset(_c._handle,_a,_b);}};_pDesignForm.setRoot=function(_a,_b){this._root_left=_a;this._root_top=_b;this._recalcDesignLayout();};_pDesignForm.setDesignZoom=function(_a){var _b=this._control_element;if(_b){_b.setZoom(_a);this._recalcDesignLayout(true,false);}var _c=this._sublayoutmode_stack;if(_c.length>0){for(var _i=0;_i<_c.length;_i++ ){var _d=[0,0];var _e=_c[_i].owner_elem;var _f=_e;while(_f&&_f!=this){_d[0]+=_f.left;_d[1]+=_f.top;_f=_f._owner_elem;};_c[_i].offset_pos=_d;var _g=_c[_i].overlay_elem;var _h=_g.getContainerElement();nexacro.__setElementHandleScale(_h._handle,_a);}this._recalcDesignLayout(false,true);}};_pDesignForm.getBorderWidth=function(_a){var _b=this._getObject(_a);if(!_b){return 0;}var _c=_b.on_find_CurrentStyle_border(_b._pseudo);var _d=(_c?_c._getBorderLeftWidth():0);return _d;};_pDesignForm.setName=function(_a,_b){var _c=this._getChild(_a);if(_c){_c.set_id(_b);this._changeChildID(_c.name,_b,_c);_c.name=_b;return _b;}};_pDesignForm.setOverflowClip=function(_a){if(!this._inner_form){return;}var _b=this._inner_form._control_element;if(_b&&_b._handle){nexacro.__setElementHandleOverflowClip(_b._handle,_a);}this._overflowclip=_a;};_pDesignForm.showSubLayout=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}if(!(_c instanceof nexacro.Div)){return;}if(_b){if(this._findSubLayoutMode(_c)){return;}var _d=new nexacro.SubLayoutOverlayElement(this._control_element);_d.setLinkedControl(this);_d.create(nexacro._design_sublayout_overlaycolor);var _e=_d.getContainerElement();nexacro.__setElementHandleScale(_e._handle,this.getZoom());var _f=[0,0];var _g=_c._control_element;var _h=_g._owner_elem;var _i=_h;while(_i&&_i!=this._control_element){_f[0]+=_i.left;_f[1]+=_i.top;var _j=_i.linkedcontrol;if(_j){var _k=_j.on_find_CurrentStyle_border(_j._pseudo);_f[0]+=(_k?_k._getBorderLeftWidth():0);_f[1]+=(_k?_k._getBorderTopWidth():0);}_i=_i._owner_elem;};var _l={comp:_c,elem:_g,owner_elem:_h,overlay_elem:_d,elem_pos:[_g.left,_g.top],offset_pos:[_f[0],_f[1]]};_c._sublayoutmode_info=_l;_g._removeFromContainer();_g._appendToContainer(_e);if(this._dot_visible){this._showDotGrid(_c,true);}var _m=this;if(_c.vscrollbar){_c.vscrollbar.destroy();_c.vscrollbar=null;}if(_c.hscrollbar){_c.hscrollbar.destroy();_c.hscrollbar=null;}_c._control_element._vscroll_control=null;_c._control_element._hscroll_control=null;_c._onResetScrollBar=nexacro._emptyFn;_c._adjustPosition=function(_q,_r,_s,_t,_u,_v,_w,_x){var _y=nexacro.DesignForm.prototype._getCompStepLogicalOffset(this);nexacro.DesignForm.prototype._adjustPosition_assignPart.call(this,_q,_r,_s,_t,_u,_v,_w,_x);var _z=this._isRtl(this.parent);if(this._width!=null||(this._right!=null&&this._left!=null)){this._adjust_width=this._width!=null?this._width:_w-this._left-this._right;}if(this._height!=null||this._bottom!=null){this._adjust_height=this._height!=null?this._height:_x-this._top-this._bottom;}var _aa=_m.getZoom();var _l=this._sublayoutmode_info;if(this._left!=null||this._right!=null){this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_w-this._right-this._adjust_width;var _ab=(_l.offset_pos[0]-_m._scroll_left)+_y;this._adjust_left_ltr=this._adjust_left=(this._adjust_left+_ab);if(_z){this._adjust_left_ltr=this._right!=null?this._right:_w-this._left-this._adjust_width;}}if(this.top!=null||this._bottom!=null){this._adjust_top=this._top!=null?this._top:_x-this._bottom-this._adjust_height;var _ac=(_l.offset_pos[1]-_m._scroll_top);this._adjust_top=(this._adjust_top+_ac);}if(this.left&&this.width&&this.right){this._right=0;this.right=null;}if(this.top&&this.height&&this.bottom){this._bottom=0;this.bottom=null;}};_c.move(_c.left,_c.top,_c.width,_c.height,_c.right,_c.bottom);_c.on_update_position(false,true);if(this._active_editing_form){this._showDotGrid(this._active_editing_form,false);}this._sublayoutmode_stack.push(_l);this._active_editing_form=_c;nexacro.__setElementHandleOverflowClip(_g._handle,true);}else{var _n=this._sublayoutmode_stack;var _l;for(var _q=0;_q<_n.length;_q++ ){if(_n[_q].comp==_c){_l=_n[_q];break;}}if(_l){var _d=_l.overlay_elem;var _h=_l.owner_elem;var _o=_l.elem_pos;var _g=_l.elem;var _c=_l.comp;_g._removeFromContainer();_g._appendToContainer(_h);nexacro.__setElementHandlePosition(_g._handle,_o[0],_o[1]);nexacro.__setElementHandleOverflowClip(_g._handle,false);this._showDotGrid(_c,false);_d._removeFromContainer();_d.destroy();_n.length=_n.length-1;if(_n.length>0){this._active_editing_form=_n[_n.length-1].comp;}else{this._active_editing_form=this._inner_form;}if(this._active_editing_form){this._showDotGrid(this._active_editing_form,this._dot_visible);}_c._adjustPosition=nexacro.Component.prototype._adjustPosition;_c.move(_c.left,_c.top,_c.width,_c.height,_c.right,_c.bottom);_c.on_update_position(false,true);_c._onResetScrollBar=nexacro.Component.prototype._onResetScrollBar;var _p=_c.scrollbars;_c.set_scrollbars("none");_c.set_scrollbars(_p);}}};_pDesignForm.moveComponentToFront=function(_a){var _b=this._getObject(_a);if(_b){_b.bringToFront();}};_pDesignForm.moveComponentToPrev=function(_a){var _b=this._getObject(_a);if(_b){_b.bringToPrev();}};_pDesignForm.moveComponentToNext=function(_a){var _b=this._getObject(_a);if(_b){_b.sendToNext();}};_pDesignForm.moveComponentToBack=function(_a){var _b=this._getObject(_a);if(_b){_b.sendToBack();}};_pDesignForm.getPseudo=function(_a){var _b=this._getChild(_a);if(_b){return _b._pseudo;}};_pDesignForm.setPseudo=function(_a,_b){var _c=this._getObject(_a);if(_c){_c._stat_change(_b=="disabled"?"disable":"enable",_b);if(_c._pseudo==_b){return true;}}};_pDesignForm.addLayout=function(_a,_b,_c,_d,_e){var _f=this._getObject(_a);if(!_f){return;}if(!(_f instanceof nexacro.Form)){return;}var _g=new Layout(_b,_e,_c,_d,_f,function(_h){});_f.addLayout(_g.name,_g);};_pDesignForm.removeLayout=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}if(!(_c instanceof nexacro.Form)){return;}if(_c._current_layout_name==_b){_c._current_layout_name="";}if(_b=="default"){}else{delete _c._layout_list[_b];}};_pDesignForm.removeAllLayout=function(_a){var _b=this._getObject(_a);if(!_b){return;}if(!(_b instanceof nexacro.Form)){return;}if(_b._current_layout_name==layoutname){_b._current_layout_name="";}_b._layout_list.clear();};_pDesignForm.setLayoutProperty=function(_a,_b,_c,_d){var _e=this._getObject(_a);if(!_e){return;}if(!(_e instanceof nexacro.Form)){return;}var _f=this._getLayout(_e,_b);if(!_f){return;}if(_c=="name"&&_b=="default"){return;}if(_f["set_"+_c]){_f["set_"+_c](_d);}if(_c=="stepcount"){this._refreshStepContainer(_e,_f.stepcount);}if(_c=="name"&&_b!="default"){var _g=_e._layout_list.indexOf(_b);_e._layout_list.update_id(_g,_d);}return _f[_c];};_pDesignForm.getLayoutProperty=function(_a,_b,_c){var _d=this._getObject(_a);if(!_d){return;}if(!(_d instanceof nexacro.Form)){return;}var _e=this._getLayout(_d,_b);if(!_e){return;}return _e[_c];};_pDesignForm.changeLayout=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}if(!(_c instanceof nexacro.Form)){return;}var _d=this._getLayout(_b);if(!_d){return;}var _e=application.getLayoutManager();_e.changeLayout(_c,_d);};_pDesignForm.getCurrentLayout=function(_a){var _b=this._getObject(_a);if(!_b){return;}if(!(_b instanceof nexacro.Form)){return;}return _b._current_layout_name;};_pDesignForm.setAutoLayoutChange=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}if(!(_c instanceof nexacro.Form)){return;}_c._auto_layoutchange=_b;if(_b){_c._checkValidLayout=nexacro.FormBase.prototype._checkValidLayout;}else{_c._checkValidLayout=function(){return _c._current_layout_name;};}};_pDesignForm.refreshLayout=function(_a){var _b=this._getObject(_a);if(!_b){return;}};_pDesignForm.recalcLayout=function(_a){var _b=this._getObject(_a);if(!_b){return;}if(_b.resetScroll){_b.resetScroll();}};_pDesignForm.setContents=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}_c._setContents(_b);};_pDesignForm.setFormats=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}_c.set_formats(_b);};_pDesignForm.setInnerDataset=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}var _d=_c.id+"_innerdataset";var _e=new Dataset(_d,_c);_e._setContents(_b);_c.set_innerdataset(_e);};_pDesignForm.setActiveTabPage=function(_a,_b){var _c=this._getObject(_a);if(!_c){return;}if(_c instanceof nexacro.Tab){_c.set_tabindex(_b);}};_pDesignForm.refreshTheme=function(_a){var _b;_b=this;_b._clearCssInfo(!_a);_b._apply_formstyle(_b);_b=_b._inner_form;this._refreshTheme(_b,_a);};_pDesignForm.insertCSS=function(_a){var _b=this._inner_form;var _c=_b._cssurls;var _d=_c?_c.indexOf(_a): -1;this._loadCss(_a,true,(_d>=0?false:true));};_pDesignForm.removeCSS=function(_a){var _b=this._inner_form;var _c=_b._cssurls;if(!_c){_c=_b._cssurls=[];}var _d=_c.indexOf(_a);if(_d>=0){_c.splice(_d,1);}else{return;}_b._clearCssInfo(false);for(var _e=0;_e<_c.length;_e++ ){this._loadCss(_c[_e],false,false);}this._refreshTheme(_b,false);};_pDesignForm.updateCSS=function(_a){nexacro._design_css_cache.delete_item(_a);var _b=this._inner_form;var _c=_b._cssurls;if(!_c){_c=_b._cssurls=[];}_b._clearCssInfo(false);for(var _d=0;_d<_c.length;_d++ ){this._loadCss(_c[_d],false,false);}this._refreshTheme(_b,false);};_pDesignForm._on_update_property=function(_a,_b){if(!_a||!_b){return;}switch(_b){case "name":if(_a==this._inner_form){_a.id=_a.name;}break;case "positionstep":var _c=_a.parent;if(_c){var _d=_c._control_element;if(_d&&_d._step_container_elements&&_d._step_container_elements.length>0){var _e=_a._control_element;var _f=_e?_e._handle:null;if(_a.positionstep== -1){nexacro.__setElementHandleFixedStepNode(_f,true);nexacro.__setElementHandleStepCount(_f,_d._step_container_elements.length+1);nexacro.__setElementHandleStepWidth(_f,_c._adjust_width);}else{nexacro.__setElementHandleFixedStepNode(_f,false);}}else{var _e=_a._control_element;var _f=_e?_e._handle:null;nexacro.__setElementHandleFixedStepNode(_f,false);}_a._adjustPosition(_a.left,_a.top,_a.right,_a.bottom,_a.width,_a.height,_c._adjust_width,_c._adjust_height);_a.on_update_position(false,true);}return;break;}if(_a._control_element&&_a._control_element._step_container_elements&&_a._control_element._step_container_elements.length>0){if(_b=="style"){this._updateStepContainerStyle(_a._control_element,0xffffffff);}else{var _g=_b.split(".");if(_g.length>1&&_g[0]=="style"){switch(_g[1]){case "border":case "bordertype":this._updateStepContainerStyle(_a._control_element,0x01);break;case "background":case "gradation":this._updateStepContainerStyle(_a._control_element,0x02);break;case "color":this._updateStepContainerStyle(_a._control_element,0x04);break;case "opacity":this._updateStepContainerStyle(_a._control_element,0x08);break;}}}}};_pDesignForm._hitTestByPoint=function(_a,_b,_c){if(_a){var _d=_a._control_element;if(_d){var _e=_d;while(_e){if(_e._design_visible===false){return false;}_e=_e._parent_elem;}}var _f=this._getClientRect(_a);if(_f[0]<=_b&&_b<=_f[0]+_f[2]&&_f[1]<=_c&&_c<=_f[1]+_f[3]){return true;}}return false;};_pDesignForm._hitTestByRect=function(_a,_b,_c,_d,_e,_f){if(_a){var _g=_a._control_element;if(_g){var _h=_g;while(_h){if(_h._design_visible===false){return false;}_h=_h._parent_elem;}}var _i=this._getClientRect(_a);var _j=_i[0];var _k=_i[0]+_i[2];var _l=_i[1];var _m=_i[1]+_i[3];if(_f==0){if(_b<=_j&&_k<=_d&&_c<=_l&&_m<=_e){return true;}}else{if(_b>_k){return false;}if(_c>_m){return false;}if(_d<_k){return false;}if(_e<_m){return false;}return true;}}return false;};_pDesignForm._getClientRect=function(_a){var _b=_a._adjust_left;var _c=_a._adjust_top;var _d=_a._adjust_width;var _e=_a._adjust_height;var _f=this._findSubLayoutMode(_a);if(_f){_b=_b+this._scroll_left-_f.offset_pos[0];_c=_c+this._scroll_top-_f.offset_pos[1];}var _g=_a.parent;while(_g&&_g!=this){_b+=_g._adjust_left;_c+=_g._adjust_top;{var _h=_g.on_find_CurrentStyle_border(_g._pseudo);var _i=(_h?_h._getBorderLeftWidth():0);_b+=_i;_c+=_i;}if(_g instanceof nexacro.Div){_f=this._findSubLayoutMode(_g);if(_f){_b=_b+this._scroll_left-_f.offset_pos[0];_c=_c+this._scroll_top-_f.offset_pos[1];}}_g=_g.parent;}var _j=this.getZoom()/100;_b*=_j;_c*=_j;_d*=_j;_e*=_j;_b=parseInt(_b);_c=parseInt(_c);_d=parseInt(_d);_e=parseInt(_e);return [_b,_c,_d,_e];};_pDesignForm._recalcDesignLayout=function(_a,_b){var _c=this._inner_form;if(_a!==false&&_c){_c.move(0,0);_c.on_update_position(false,true);}var _d=this._sublayoutmode_stack;if(_b!==false&&_d.length>0){for(var _f=0;_f<_d.length;_f++ ){var _e=_d[_f].comp;_e.move(_e.left,_e.top,_e.width,_e.height,_e.right,_e.bottom);_e.on_update_position(false,true);}}this._recalcStepContainer(_c);};_pDesignForm._getNextChildID=function(_a,_b){if(!_a||!_b){trace("parent or classname is missing");return "error";}var _c=0;var _d;while(true){_d=_b+((_c<10)?"0":"")+_c;if(!_a[_d]){break;}_c++ ;}return _d;};_pDesignForm._changeChildID=function(_a,_b,_c){var _d=this.all.indexOf(_a);if(_d<0){return;}this.all.update_id(_d,_b);_d=this.components.indexOf(_a);if(_d>=0){this.components.update_id(_d,_b);}_d=this.objects.indexOf(_a);if(_d>=0){return;}{this.objects.update_id(_d,_b);}_d=this.binds.indexOf(_a);if(_d>=0){return;}{this.binds.update_id(_d,_b);}delete this[_a];this[_b]=_c;};_pDesignForm._getNextChildTaborder=function(_a){if(!_a){return  -1;}var _b= -1;var _c=this._getChilds(_a);var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(!_e){continue;}if(_e._taborder>=_b){_b=_e._taborder;}}return (_b+1);};_pDesignForm._getChilds=function(_a){if(_a instanceof nexacro.Tab){return _a.tabpages;}return _a.components;};_pDesignForm._getChild=function(childname){return eval("this._inner_form."+childname);};_pDesignForm._getObject=function(name){if(!name||name=="this"){return this._inner_form;}if(name.substring(0,4)=="this."){name=name.substring(5);}var obj=eval("this._inner_form."+name);return obj;};_pDesignForm._getInlineStyleValue=function(_a){var _b="";var _c=_a.style;if(_c){var _d=nexacro.Style.prototype;for(prop in _c){if(prop[0]=="_"){continue;}if(typeof (_c[prop])=="function"){continue;}if(_c[prop]==null){continue;}if(_d[prop]==_c[prop]){continue;}_b+=prop+": "+_c[prop]._value+"; ";}}var _e=_a._styles;if(_e){for(pseudo_style in _e){if(pseudo_style[0]=="_"){continue;}if(pseudo_style=="normal"){continue;}_c=_e[pseudo_style];_b+=":"+pseudo_style+" { ";for(prop in _c){if(prop[0]=="_"){continue;}if(typeof (_c[prop])=="function"){continue;}if(_c[prop]==null){continue;}_b+=prop+": "+_c[prop]._value+"; ";}_b+=" }; ";}}return _b;};_pDesignForm._getScopeName=function(_a){if(_a instanceof nexacro.DesignForm){return;}var _b=_a.parent;var _c=[];_c.push(_a.id);while(_b&&_b!=this&&_b!=this._inner_form){_c.push(_b.id);_b=_b.parent;}_c.reverse();return _c.join(".");};_pDesignForm._findURlLoadedAncestor=function(_a){if(!_a){return null;}var _b=null;while(_a){if(_a==this._inner_form){break;}if(_a instanceof nexacro.Div&&_a._url){_b=_a;}_a=_a.parent;}return _b;};_pDesignForm._appendInlineStyleValue=function(_a,_b){_a=nexacro._decodeXml(_a);_b=nexacro._decodeXml(_b);var _c=this._parseInlineStyleValue(_a);var _d=this._parseInlineStyleValue(_b);for(var _k in _c){if(!_d[_k]){continue;}var _e=_c[_k].split(";");var _f=_d[_k].split(";");var _g=this._parseStyleToken(_e);var _h=this._parseStyleToken(_f,_g);var _i="";for(var _l in _h){_i+=_l+":"+_h[_l]+"; ";}_c[_k]=_i;}for(var _k in _d){if(_c[_k]){continue;}_c[_k]=_d[_k];}var _j="";for(var _k in _c){if(_k=="normal"){_j+=_c[_k];}else{_j+=":"+_k+"{ "+_c[_k]+"} ";}}return _j;};_pDesignForm._parseStyleToken=function(_a,_b){var _c=_b?_b:{};for(var _g=0;_g<_a.length;_g++ ){var _d=_a[_g].split(":");var _e=_d[0].trim();if(_e==""&&_d.length==1){continue;}var _f=_d[1].trim();_c[_e]=_f;}return _c;};_pDesignForm._parseInlineStyleValue=function(_a){var _a=nexacro._decodeXml(_a);var _b=_a.split("}");var _c=_b[0].trim();var _d={};_b.pop();var _e,_f=_b.length;var _g,_h,_i;_g=_c.split("{");_i=_g[0].substring(0,_g[0].lastIndexOf(";")+1).trim();if(_i.length==0){_i=_g[0].substring(0,_g[0].length).trim();}_d["normal"]=_i;if(_f>0){for(_e=0;_e<_f;_e++ ){_g=_b[_e].split("{");_h=_g[0].substring(_g[0].lastIndexOf(":")+1).trim();_d[_h]=_g[1];}}return _d;};_pDesignForm._swapPositionUnit=function(obj,pos){if(pos!="left"&&pos!="top"&&pos!="width"&&pos!="height"&&pos!="right"&&pos!="bottom"){return;}var parent=obj.parent;if(!parent){return;}var parent_size;if(pos=="left"||pos=="width"||pos=="right"){parent_size=parent._client_width;}else{parent_size=parent._client_height;}var adjust_pos;if(pos=="right"){adjust_pos=parent_size-(obj._adjust_width+obj._adjust_left);}else if(pos=="bottom"){adjust_pos=parent_size-(obj._adjust_height+obj._adjust_top);}else{adjust_pos=eval("obj._adjust_"+pos);}var cur_prop_val=eval("obj."+pos);if(typeof (cur_prop_val)=='string'&&cur_prop_val.indexOf('%')>=0){var new_prop_val=adjust_pos;eval("obj.set_"+pos+"("+new_prop_val+");");}else if(cur_prop_val!=null){var new_prop_val=nexacro.round((adjust_pos*100)/parent_size,2);eval("obj.set_"+pos+"("+new_prop_val+" + '%');");}};_pDesignForm._findSubLayoutMode=function(_a){if(_a instanceof nexacro.Div){for(var _b=0;_b<this._sublayoutmode_stack.length;_b++ ){if(_a==this._sublayoutmode_stack[_b].comp){return this._sublayoutmode_stack[_b];}}}};_pDesignForm._getLayout=function(_a,_b){if(!_a){return;}if(!_b||_b==""||_b=="default"){return _a._default_layout;}else{return _a._layout_list[_b];}};_pDesignForm._refreshStepContainer=function(_a,_b){if(!_a){return;}if(this._active_editing_form!=_a){return;}var _c=_a._control_element;if(!_c){return;}if(!_c._step_container_elements){_c._step_container_elements=[];}var _d=_c._step_container_elements;var _e=_d.length;if(_e+1<_b){var _f=_c._parent_elem;var _g=_a._adjust_width;var _h=_a._adjust_height;for(var _l=_e;_l<_b-1;_l++ ){var _i=new nexacro.ScrollableControlElement(_f);_i.setLinkedControl(this);_i.setElementPosition(_c.left+((_l+1)*_g),_c.top);_i.setElementSize(_g,_h);_i.create();_d.push(_i);_f.sendToBackElement(_i);nexacro.__setElementHandleDotSize(_i._handle,this._dot_size_x,this._dot_size_y);nexacro.__setElementHandleDotStyle(_i._handle,this._dot_style);nexacro.__setElementHandleDotVisible(_i._handle,this._dot_visible);}}else if(_e>_b-1){for(var _l=_e-1;_l>=_b-1&&_l>=0;_l-- ){var _i=_d[_l];_i.destroy();_d[_l]=null;delete _i;}_d.length=Math.max(0,_b-1);}var _j=_a.components;var _k=_j?_j.length:0;for(var _l=0;_l<_k;_l++ ){this._on_update_property(_j[_l],"positionstep");}{var _f=_c._parent_elem;for(var _l=0;_l<_b-1;_l++ ){var _i=_d[_l];_f.sendToBackElement(_i);}}this._updateStepContainerStyle(_c,0xffffffff);};_pDesignForm._recalcStepContainer=function(_a){if(!_a){return;}var _b=_a._control_element;var _c=_b._step_container_elements;if(!_c||_c.length<1){return;}var _d=_b._parent_elem;var _e=_a._adjust_width;var _f=_a._adjust_height;for(var _l=0;_l<_c.length;_l++ ){var _g=_c[_l];_g.setElementPosition(_b.left+((_l+1)*_e),_b.top);_g.setElementSize(_e,_f);_d.sendToBackElement(_g);}var _h=this._getChilds(_a);var _i=_h?_h.length:0;for(var _l=0;_l<_i;_l++ ){var _j=_h[_l];if(_j.positionstep== -1){var _g=_j._control_element;var _k=_g?_g._handle:null;if(_k){nexacro.__setElementHandleStepWidth(_k,_e);}}}};_pDesignForm._showDotGrid=function(_a,_b){if(!_a){return;}var _c=_a._control_element;if(!_c){return;}if(_b){nexacro.__setElementHandleDotSize(_c._handle,this._dot_size_x,this._dot_size_y);nexacro.__setElementHandleDotStyle(_c._handle,this._dot_style);nexacro.__setElementHandleDotVisible(_c._handle,this._dot_visible);var _d=_c._step_container_elements;if(_d&&_d.length>0){for(var _e=0;_e<_d.length;_e++ ){_c=_d[_e];nexacro.__setElementHandleDotSize(_c._handle,this._dot_size_x,this._dot_size_y);nexacro.__setElementHandleDotStyle(_c._handle,this._dot_style);nexacro.__setElementHandleDotVisible(_c._handle,this._dot_visible);}}}else{nexacro.__setElementHandleDotVisible(_c._handle,false);var _d=_c._step_container_elements;if(_d&&_d.length>0){for(var _e=0;_e<_d.length;_e++ ){_c=_d[_e];nexacro.__setElementHandleDotVisible(_c._handle,false);}}}};_pDesignForm._updateStepContainerStyle=function(_a,_b){if(!_a){return;}var _c=_a.linkedcontrol;var _d=_a._step_container_elements;for(var _k=0;_k<_d.length;_k++ ){var _e=_d[_k];if(_b&0x01){var _f=_c.on_find_CurrentStyle_border(_c._pseudo);var _g=_c.on_find_CurrentStyle_bordertype(_c._pseudo);_e.setElementBorder(_f,_g);}if(_b&0x02){var _h=_c.on_find_CurrentStyle_background(_c._pseudo);var _i=_c.on_find_CurrentStyle_gradation(_c._pseudo);_e.setElementBackground(_h,_i);}if(_b&0x04){if(_a.color&&!_a.color.isEmpty()){_e.setElementColor(_a.color);}}if(_b&0x08){var _j=_c.on_find_CurrentStyle_opacity(_c._pseudo);if(_j){_e.setElementOpacity(_j);}}if(_b&0x10){}if(_b&0x20){}}};_pDesignForm._getCompStepLogicalOffset=function(_a){var _b=_a.parent;var _c=0;if(_b._is_form&&!(_b instanceof nexacro.DesignForm)){var _d=application.getLayoutManager();var _e=_d.getCurrentLayout(_b);if(_e&&_e.stepcount>1){var _f=_a.positionstep;if(_f===undefined){_f=0;}if(_f!==undefined){if(_f<0){_f=0;}_c=_b._adjust_width*_f;}}}return _c;};_pDesignForm._refreshTheme=function(_a,_b){if(_a._is_form){_a._clearCssInfo(!_b);}_a.currentstyle._empty();_a._control_pseudo="";_a._contents_pseudo="";_a._css_finder=null;_a._ref_css_finder=null;_a.on_apply_pseudo("");var _c=_a.components;var _d=_c?_c.length:0;for(var _h=0;_h<_d;_h++ ){var _e=_c[_h];this._refreshTheme(_e,_b);}for(var _i in _a){if(typeof (_a[_i])=="object"&&_a[_i] instanceof nexacro.Component){var _f=_a[_i];if(_a==_f){continue;}if(_f.parent!=_a){continue;}if(_f._is_subcontrol){this._refreshTheme(_f,_b);}}}if(_a==this._inner_form){var _g=this._getWindow();nexacro.__notifyToDesignWindow(_g._handle,nexacro._design_notify_css_updated,this.id,this.id);}};_pDesignForm._loadCss=function(_a,_b,_c){var _d=this._inner_form;var _e=application._getServiceLocation(_a)+".js";var _f=application._getServiceObject(_a);var _g=_d._load_manager;if(_c!==false){if(!_d._cssurls){_d._cssurls=[];}_d._cssurls.push(_a);}var _h=_g.getLocalItem(_a);if(!_h){_h=new nexacro.LoadItem(_e,"css",_g.context);_h._refresh_designform=_b;_g.localList.push(_h);var _i=_f.cachelevel;_f.cachelevel="none";_h._handle=nexacro._loadJSModule(_e,_g,this._on_load_cssmodule,false,_f,false);_f.cachelevel=_i;}};_pDesignForm._on_load_cssmodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=this;var _i=_h.getLocalItem(_a);if(_i){var _j=_i._handle;_i._handle=null;if(_b==0&&_c&&typeof (_c)=="function"){if(_i.type!="include"){_c.call(_h.context);if(_i._refresh_designform){var _k=_h.context;_k.parent.refreshTheme(false);}}}else{_i.errcode=_b;application._onHttpSystemError(_h.context,true,_h.context,_d,_a,_e,_f,_g);}return;}};_pDesignForm.on_notify_init=function(_a,_b){if(!application.accessport){return;}var _c=application.accessport.getFormAccessPort(this._url);if(_c){this.accessport=_c;_c._setTarget(this);}this._createInnerForm();};_pDesignForm._createInnerForm=function(){var _a=new nexacro.Form("_inner_form","absolute",this._root_left,this._root_top,this._inner_form_width,this._inner_form_height,null,null,this);this.addChild(_a.name,_a);_a.show();this._inner_form=_a;this._active_editing_form=_a;_a.on_create_control_element=function(_b){if(!_b){return null;}var _c;if(this._is_scrollable){_c=this.on_create_scrollable_control_element(_b);}else{_c=this.on_create_normal_control_element(_b);}return _c;};this.style.set_background(this._outer_background_value);this.style.set_border("none");_a.set_scrollbars("none");_a._design_form=this;_a._adjustPosition=function(_b,_c,_d,_e,_f,_g,_h,_i){nexacro.DesignForm.prototype._adjustPosition_assignPart.call(this,_b,_c,_d,_e,_f,_g,_h,_i);var _j=this._isRtl(this.parent);if(this._width!=null||(this._right!=null&&this._left!=null)){this._adjust_width=this._width!=null?this._width:_h-this._left-this._right;}if(this._height!=null||this._bottom!=null){this._adjust_height=this._height!=null?this._height:_i-this._top-this._bottom;}var _k=this._design_form;var _l=_k.getZoom();if(this._left!=null||this._right!=null){this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_h-this._right-this._adjust_width;var _m=this._adjust_left_ltr;_m=_k._root_left/(_l/100)-_k._scroll_left;this._adjust_left_ltr=this._adjust_left=_m;if(_j){this._adjust_left_ltr=this._right!=null?this._right:_h-this._left-this._adjust_width;}}if(this.top!=null||this._bottom!=null){this._adjust_top=this._top!=null?this._top:_i-this._bottom-this._adjust_height;var _m=this._adjust_top;_m=_k._root_top/(_l/100)-_k._scroll_top;this._adjust_top=_m;}if(this.left&&this.width&&this.right){this._right=0;this.right=null;}if(this.top&&this.height&&this.bottom){this._bottom=0;this.bottom=null;}_k._recalcStepContainer(this);};};_pDesignForm._adjustPosition_assignPart=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=null;var _j=_a;var _k=_c;var _l=this._isRtl(this.parent);if(_l){var _m=_j;_j=_k;_k=_m;}for(var _n=0;_n<6;_n++ ){switch(_n){case 0:_i=_j;if(_i!=null){if(_n%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.left=_a;this._left=_i;}break;case 1:_i=_b;if(_i!=null){if(_n%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.top=_b;this._top=_i;}break;case 2:_i=_k;if(_i!=null){if(_n%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.right=_c;this._right=_i;}break;case 3:_i=_d;if(_i!=null){if(_n%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.bottom=_d;this._bottom=_i;}break;case 4:_i=_e;if(_i!=null){if(_n%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.width=_e;this._width=_i;}break;case 5:_i=_f;if(_i!=null){if(_n%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.height=_f;this._height=_i;}break;}}};_pDesignForm._on_designform_onsize=function(){var _a=this._sublayoutmode_stack;if(_a.length>0){var _b=this._getWindow();if(!_b||!_b._handle){return;}for(var _g=0;_g<_a.length;_g++ ){var _c=_a[_g].overlay_elem;var _d=_c._parent_elem;var _e=nexacro.__getWindowHandleClientWidth(_b._handle);var _f=nexacro.__getWindowHandleClientHeight(_b._handle);nexacro.__setElementHandleSize(_c._handle,_e,_f);}}};delete _pDesignForm;nexacro.ApplicationAccessPort=function(_a){this.target=_a;this._formaccessport=[];this._block_css_notify=false;this._refresh_css=false;};var _pApplicationAccessPort=nexacro._createPrototype(nexacro.Object,nexacro.ApplicationAccessPort);nexacro.ApplicationAccessPort.prototype=_pApplicationAccessPort;_pApplicationAccessPort.setInspectorHandle=function(_a){};_pApplicationAccessPort.getObjectList=function(_a){};_pApplicationAccessPort.getObjectCount=function(_a){};_pApplicationAccessPort.getObjectByID=function(_a,_b){};_pApplicationAccessPort.getObjectByIndex=function(_a,_b){};_pApplicationAccessPort.getVariant=function(_a){};_pApplicationAccessPort.notifySelect=function(_a,_b){};_pApplicationAccessPort.setDotSize=function(_a,_b){var _c=this._formaccessport;var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f].accessport;_e.setDotSize(_a,_b);}};_pApplicationAccessPort.createFormAccessPort=function(_a){var _b=application._getFDLLocation(_a);if(_b.length>5&&_b.substring(_b.length-5)==".xfdl"){_b=_b+".js";}var _c=this._formaccessport.length;for(var _d=0;_d<_c;_d++ ){if(this._formaccessport[_d].url==_b){return this._formaccessport[_d].accessport;}}this._formaccessport.push({url:_b,accessport:new nexacro.FormAccessPort()});};_pApplicationAccessPort.removeFormAccessPort=function(_a){var _b=application._getFDLLocation(_a);if(_b.length>5&&_b.substring(_b.length-5)==".xfdl"){_b=_b+".js";}var _c=this._formaccessport;var _d=_c?_c.length:0;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e.url==_b){_e.accessport.destroy();_e.accessport=null;delete _e;_c[_f]=null;_c.splice(_f,1);break;}}};_pApplicationAccessPort.getFormAccessPort=function(_a){var _b=application._getFDLLocation(_a);if(_b.length>5&&_b.substring(_b.length-5)==".xfdl"){_b=_b+".js";}var _c=this._formaccessport.length;for(var _d=0;_d<_c;_d++ ){if(this._formaccessport[_d].url==_b){return this._formaccessport[_d].accessport;}}return null;};_pApplicationAccessPort.createDesignFrame=function(_a,_b,_c,_d){var _e=new ChildFrame("childdesignframe","absolute",null,null,_c,_d,null,null,"",this.target.mainframe);_e.set_formurl(_a);_e.set_autosize("false");_e.set_showtitlebar("false");_e.set_showstatusbar("false");_e.style.set_border("none");_e.showDesign(_a,this.target.mainframe,null,null,_b);};_pApplicationAccessPort.addConstColumn=function(_a,_b,_c,_d,_e){var _f=this._getObject(_a);if(_f&&_f instanceof nexacro.Dataset){_f._addConstColumn(_b,nexacro._decodeXml(_e),_c);}};_pApplicationAccessPort.insertConstColumn=function(_a,_b,_c,_d,_e,_f){};_pApplicationAccessPort.deleteConstColumn=function(_a,_b){var _c=this._getObject(_a);if(_c&&_c instanceof nexacro.Dataset){var _d=_c.getConstColumn(_b);if(_d){_c._constVars.delete_item(id);}}};_pApplicationAccessPort.setConstColumnProperty=function(_a,_b,_c,_d){var _e=this._getObject(_a);if(_e&&_e instanceof nexacro.Dataset){var _f=_e.getConstColumn(_b);if(_f){}}};_pApplicationAccessPort.getConstColumnProperty=function(_a,_b,_c){var _d=this._getObject(_a);if(_d&&_d instanceof nexacro.Dataset){var _e=_d.getConstColumn(_b);if(_e){if(_e[_c]){return _e[_c];}}}};_pApplicationAccessPort.addColumn=function(_a,_b,_c,_d,_e,_f){var _g=this._getObject(_a);if(_g&&_g instanceof nexacro.Dataset){_g._addColumn(_b,_c,_d,_e,_f);}};_pApplicationAccessPort.insertColumn=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._getObject(_a);if(!_h||!(_h instanceof nexacro.Dataset)){return;}if((_c in _h.colinfos)||(_c in _h._constVars)){return  -1;}var _i;if(_d==undefined){_i=1;_d="STRING";}else{_i=nexacro.DataUtils._typeint[_d.toLowerCase()];}if(_i==null){_i=1;}if(( +_e)!=( +_e)){_e=256;}var _j=_h.colinfos.length;for(var _m=_b;_m<_j;_m++ ){var _k=_h.colinfos[_m];_k._index++ ;}var _l=new nexacro.DSColumnInfo(_c,_d,_i,_e,_f,_g,_b);_h.colcount++ ;return _h.colinfos.insert_item(_b,_c,_l);};_pApplicationAccessPort.deleteColumn=function(_a,_b){var _c=this._getObject(_a);if(_c&&_c instanceof nexacro.Dataset){_c.deleteColumn(columnid);}};_pApplicationAccessPort.setColumnProperty=function(_a,_b,_c,_d){var _e=this._getObject(_a);if(_e&&_e instanceof nexacro.Dataset){var _f=_e.getColumnInfo(_b);if(_f){if(_c=="id"){if(_e.getColumnInfo(_d)){return false;}var _g=_e.colinfos._idxMap[_f.id];_e.colinfos.update_id(_g,_d);}else if(_c=="type"){_f[_c]=_d;nexacro.DSColumnInfo.call(_f,_f.id,_f.type,_f.ntype,_f.size,_f.prop,_f.sumtext,_f._index);}else{_f[_c]=_d;}}}};_pApplicationAccessPort.getColumnProperty=function(_a,_b,_c){var _d=this._getObject(_a);if(_d&&_d instanceof nexacro.Dataset){var _e=_d.getColumnInfo(_b);if(_e){if(_e[_c]){return _e[_c];}}}};_pApplicationAccessPort.addRow=function(_a){var _b=this._getObject(_a);if(_b&&_b instanceof nexacro.Dataset){_b.addRow();}};_pApplicationAccessPort.insertRow=function(_a,_b){var _c=this._getObject(_a);if(_c&&_c instanceof nexacro.Dataset){_c.insertRow(_b);}};_pApplicationAccessPort.deleteRow=function(_a,_b){var _c=this._getObject(_a);if(_c&&_c instanceof nexacro.Dataset){_c.deleteRow(_b);}};_pApplicationAccessPort.setColumn=function(_a,_b,_c,_d){var _e=this._getObject(_a);if(_e&&_e instanceof nexacro.Dataset){return _e.setColumn(_b,_c,_d);}};_pApplicationAccessPort.getColumn=function(_a,_b,_c){var _d=this._getObject(_a);if(_d&&_d instanceof nexacro.Dataset){return _d.getColumn(_b,_c);}};_pApplicationAccessPort.createFrame=function(classname,parentid,frameid){var parent;if(parentid){parent=this._getObject(parentid);}if(!parent){parent=application;}if(!frameid||frameid.length==0){frameid=this._getNextChildID(parent,classname);}var classnameobj=eval(classname);if(classnameobj){var obj=null;if(classname=="MainFrame"){if(application.mainframe){application.mainframe._destroy();application.mainframe=null;}obj=application.createMainFrame(frameid,null,null,null,null,null,null,null,parent);return frameid;}else if(classname=="ChildFrame"){obj=new classnameobj(frameid,null,null,null,null,null,null,null,"",parent);}else{obj=new classnameobj(frameid,null,null,null,null,null,null,null,parent);}parent.addChild(frameid,obj);return frameid;}};_pApplicationAccessPort.deleteFrame=function(_a){var _b=this._getObject(_a);var _c=_b.parent;if(_b&&_c){if(!_c.removeChild){trace("* no method: 'removeChild' / "+_c);return;}_c.removeChild(_b.name);return _b.destroyComponent();}};_pApplicationAccessPort.createObject=function(classname,objid){if(!objid||objid.length==0){objid=this._getNextChildID(this,classname);}var classnameobj=eval(classname);if(classnameobj){var obj=new classnameobj(objid,application);if(obj instanceof nexacro.Dataset){application._addDataset(obj.name,obj);}else{application._addObject(obj.name,obj);}return obj.name;}};_pApplicationAccessPort.deleteObject=function(_a){if(application._datasets[_a]){var _b=application._datasets.indexOf(_a);application._datasets.splice(_b,1);delete application[_a];application.all.delete_item(_a);}else if(application.images.indexOf(_a)){application.images.delete_item(_a);}else{delete application[_a];application.all.delete_item(_a);}};_pApplicationAccessPort.getProperty=function(_a,_b){var _c=this._getObject(_a);if(_c){return _c[_b];}};_pApplicationAccessPort.setProperty=function(_a,_b,_c){var _d=this._getObject(_a);if(_d){if(_d["set_"+_b]){_d["set_"+_b](_c);}}};_pApplicationAccessPort._getObject=function(objid){if(!objid||objid=="this"||objid=="application"){return application;}var obj=eval("application."+objid);if(obj){return obj;}return application.all.get_item(objid);};_pApplicationAccessPort._getNextChildID=function(_a,_b){if(!_a||!_b){trace("parent or classname is missing");return "error";}var _c=0;var _d;while(true){_d=_b+((_c<10)?"0":"")+_c;if(!_a[_d]){break;}_c++ ;}return _d;};_pApplicationAccessPort.changeTheme=function(_a){this._loadTheme(_a);this._notifyThemeChange(_a,true);return true;};_pApplicationAccessPort.refreshFormTheme=function(_a,_b){trace("_pApplicationAccessPort.refreshFormTheme : "+_a+", "+_b);var _c=this.getFormAccessPort(_b);if(!_c){return false;}var _d=application.themeid;trace("_pApplicationAccessPort.refreshFormTheme : "+_d+" to "+_a);this._block_css_notify=true;this._loadTheme(_a);_c.refreshTheme();this._block_css_notify=false;return true;};_pApplicationAccessPort._loadTheme=function(_a,_b){application._css_selectors={_is_selector:true,_has_items:false,_has_attr_items:false};var _c=_a;var _d;var _e=_c.indexOf(".xtheme");if(_e<0){_d=_c;}else if(_e>0){_d=_c.substring(0,_e);}var _f,_g;if(_d){application._clearLocalThemeCache();var _e=_d.indexOf("::");if(_e>0){var _h=_d.substring(0,_e);_d=_d.substring(_e+2);application._theme_uri="./_theme_/"+_h+"/"+_d;}else{application._theme_uri="./_theme_/"+_d;}var _i=false;if(application._localcache_path&&application._hasLocalCacheUrl(_c)){_f=application._getLocalCacheUrl(_c);if(_f){var _j=application._getServiceObject(_c);application._load_manager.loadCssModule(_f,null,null,_j);return;}_i=true;_g=this._localcache_path;}_f=application._theme_uri+"/theme.css";_f=application._getServiceLocation(_f,_g);_f+=".js";if(_i){application._addLocalCacheUrl(_c,_f);}nexacro._design_themeid_map.add_item(_f,_c);var _j=application._getServiceObject(_f);var _k=application._load_manager;var _l=_k.getLocalItem(_f);if(_l){var _m=nexacro._design_css_cache.get_item(_f);if(_m){if(_b){nexacro._design_css_cache.delete_item(_f);}else{trace("* cached css: "+_f);this._on_load_thememodule(_f,0,_m,0,0,0,0);return;}}var _e= -1;var _n=_k.localList;var _o=_n.length;for(var _r=0;_r<_o;_r++ ){var _p=_n[_r];if(_p.url==_f){_e=_r;break;}}if(_e>=0){_k.localList.splice(_e,1);_l=null;}}if(!_l){application.themeid=_a;_l=new nexacro.LoadItem(_f,"css",_k.context);_k.localList.push(_l);_k.localCnt++ ;var _q=_j.cachelevel;_j.cachelevel="none";_l._handle=nexacro._loadJSModule(_f,_k,this._on_load_thememodule,false,_j,false);_j.cachelevel=_q;}}};_pApplicationAccessPort._loadCss=function(_a,_b,_c){var _d=application._getServiceLocation(_a)+".js";var _e=application._getServiceObject(_a);var _f=application._load_manager;if(_c!==false){application._cssurls.push(_a);}var _g=_f.getLocalItem(_d);if(_g){var _h=nexacro._design_css_cache.get_item(_d);if(_h){trace("* cached css: "+_d);this._on_load_cssmodule(_d,0,_h,0,0,0,0);return;}var _i= -1;var _j=_f.localList;var _k=_j.length;for(var _n=0;_n<_k;_n++ ){var _l=_j[_n];if(_l.url==_d){_i=_n;break;}}if(_i>=0){_f.localList.splice(_i,1);_g=null;}}if(!_g){_g=new nexacro.LoadItem(_d,"css",_f.context);_g._refresh_designform=_b;_f.localList.push(_g);var _m=_e.cachelevel;_e.cachelevel="none";_g._handle=nexacro._loadJSModule(_d,_f,this._on_load_cssmodule,false,_e,false);_e.cachelevel=_m;}};_pApplicationAccessPort._on_load_thememodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=application._load_manager;var _i=_h.getLocalItem(_a);if(_i){var _j=_i._handle;_i._handle=null;if(_b==0&&_c&&typeof (_c)=="function"){if(_i.type!="include"){nexacro._design_css_cache.add_item(_a,_c);trace("* apply CSS: "+_a);_c.call(_h.context);var _k=application.accessport;var _l=application._cssurls.length;for(var _p=0;_p<_l;_p++ ){var _m=application._cssurls[_p];var _n=application._getServiceLocation(_m)+".js";var _o=_h.getLocalItem(_n);if(_o){application.accessport._loadCss(_m,_k._refresh_css,false);}else{trace("not found: "+_n);}}}}else{_i.errcode=_b;application._onHttpSystemError(_h.context,true,_h.context,_d,_a,_e,_f,_g);}return;}};_pApplicationAccessPort._on_load_cssmodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=application._load_manager;var _i=_h.getLocalItem(_a);if(_i){var _j=_i._handle;_i._handle=null;if(_b==0&&_c&&typeof (_c)=="function"){if(_i.type!="include"){nexacro._design_css_cache.add_item(_a,_c);trace("* apply CSS: "+_a);_c.call(_h.context);}}else{_i.errcode=_b;application._onHttpSystemError(_h.context,true,_h.context,_d,_a,_e,_f,_g);}return;}};_pApplicationAccessPort._notifyThemeChange=function(_a,_b){if(!this._block_css_notify){var _c=this._formaccessport;var _d=_c?_c.length:0;for(var _i=_d-1;_i>=0;_i-- ){var _e=_c[_i].accessport;if(_e){var _f=_e.target;var _g=_f._getWindow();var _h=_b?nexacro._design_notify_theme_change:nexacro._design_notify_theme_updated;nexacro.__notifyToDesignWindow(_g._handle,_h,_f.id,_a);}}}};_pApplicationAccessPort._notifyCSSChange=function(){if(!this._block_css_notify){var _a=this._formaccessport;var _b=_a?_a.length:0;for(var _f=_b-1;_f>=0;_f-- ){var _c=_a[_f].accessport;if(_c){var _d=_c.target;var _e=_d._getWindow();nexacro.__notifyToDesignWindow(_e._handle,nexacro._design_notify_css_change,_d.id,null);}}}};_pApplicationAccessPort.insertCSS=function(_a){var _b=application._cssurls;var _c=_b.indexOf(_a);this._loadCss(_a,true,(_c>=0?false:true));this._notifyCSSChange();};_pApplicationAccessPort.removeCSS=function(_a){var _b=application._cssurls;var _c=_b.indexOf(_a);if(_c>=0){_b.splice(_c,1);}else{return;}this._loadTheme(application.themeid);this._notifyCSSChange();};_pApplicationAccessPort.updateCSS=function(_a,_b){var _c=application._getServiceLocation(_a)+".js";nexacro._design_css_cache.delete_item(_c);if(_b){var _d=application._cssurls;var _e=_d.indexOf(_a);if(_e<0){return;}this._refresh_css=true;this._loadTheme(application.themeid);trace("_pApplicationAccessPort.updateCSS : "+application.themeid);this._refresh_css=false;this._notifyCSSChange();}else{var _f=this._formaccessport;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){var _h=_f[_i].accessport;if(_h){_h.updateCSS(_a);}}}};_pApplicationAccessPort.updateTheme=function(_a){this._refresh_css=false;this._loadTheme(_a,true);this._notifyThemeChange(_a,false);};delete _pApplicationAccessPort;nexacro.FormAccessPort=function(_a){this.target=_a;this.notify_handle=null;};var _pFormAccessPort=nexacro._createPrototype(nexacro.Object,nexacro.FormAccessPort);nexacro.FormAccessPort.prototype=_pFormAccessPort;_pFormAccessPort.destroy=function(){if(this.target){this.target.destroy();this.target=null;}};_pFormAccessPort.reloadForm=function(){return this.target.reloadForm();};_pFormAccessPort.setInspectorHandle=function(_a){this.notify_handle=_a;};_pFormAccessPort.getObjectList=function(_a){var _b=this.target;var _c=_b.all.length;var _d=[];for(var _f=0;_f<_c;_f++ ){var _e=_b.all[_f];if(_e&&_e._type_name==_a){_d.push(comp);}}return _d;};_pFormAccessPort.getObjectCount=function(_a){var _b=this.target;var _c=_b.all.length;var _d=0;for(var _f=0;_f<_c;_f++ ){var _e=_b.all[_f];if(_e&&_e._type_name==_a){_d++ ;}}return _d;};_pFormAccessPort.getObjectByID=function(_a,_b){var _c=_b;var _d=_c.replace("this._inner_form","this._inner_form.target");if(_d&&_d._type_name==_a){return _d;}};_pFormAccessPort.getObjectByIndex=function(_a,_b){};_pFormAccessPort.getVariant=function(varid){var evalstr=varid;evalstr.replace("this._inner_form","this._inner_form.target");return eval(evalstr);};_pFormAccessPort.notifySelect=function(_a,_b){};_pFormAccessPort._setTarget=function(_a){this.target=_a;};_pFormAccessPort.getObject=function(){return this.target;};_pFormAccessPort.createComponent=function(_a,_b,_c,_d,_e,_f,_g){return this.target.createComponentByRect(_a,_b,_c,_d,_e,_f,_g);};_pFormAccessPort.createTabpage=function(_a,_b,_c){return this.target.createTabpage(_a,_b,_c);};_pFormAccessPort.createInvisibleObject=function(_a,_b){return this.target.createInvisibleObject(_a,_b);};_pFormAccessPort.deleteObject=function(_a){return this.target.deleteObject(_a);};_pFormAccessPort.setProperty=function(_a,_b,_c,_d){return this.target.setProperty(_a,_b,_c,_d);};_pFormAccessPort.appendInlineStyleValue=function(_a,_b){return this.target.appendInlineStyleValue(_a,_b);};_pFormAccessPort.setLayoutStyle=function(_a,_b,_c){return this.target.setLayoutStyle(_a,_b,_c);};_pFormAccessPort.getProperty=function(_a,_b,_c){return this.target.getProperty(_a,_b,_c);};_pFormAccessPort.getCurrentStyleValue=function(_a,_b,_c){return this.target.getCurrentStyleValue(_a,_b,_c);};_pFormAccessPort.moveComponentByRect=function(_a,_b,_c,_d,_e){this.target.moveComponentByRect(_a,_b,_c,_d,_e);};_pFormAccessPort.moveComponent=function(_a,_b,_c,_d,_e,_f,_g){this.target.moveComponent(_a,_b,_c,_d,_e,_f,_g);};_pFormAccessPort.resizeComponent=function(_a,_b,_c){this.target.resizeComponent(_a,_b,_c);};_pFormAccessPort.swapPositionUnit=function(_a,_b){this.target.swapPositionUnit(_a,_b);};_pFormAccessPort.hitTestByPoint=function(_a,_b,_c){return this.target.hitTestByPoint(_a,_b,_c);};_pFormAccessPort.hitTestByRect=function(_a,_b,_c,_d,_e,_f){return this.target.hitTestByRect(_a,_b,_c,_d,_e,_f);};_pFormAccessPort.hitTestTracker=function(_a,_b,_c,_d){return this.target.hitTestTracker(_a,_b,_c,_d);};_pFormAccessPort.setScroll=function(_a,_b){return this.target.setScroll(_a,_b);};_pFormAccessPort.getComponentRect=function(_a,_b){return this.target.getComponentRect(_a,_b);};_pFormAccessPort.getClientRect=function(_a){return this.target.getClientRect(_a);};_pFormAccessPort.drawWindow=function(){var _a=this.target._getWindow();if(_a&&_a._handle){nexacro.__refreshDirtyRectWithCallBack(_a._handle,this.drawWindowCallBack);}};_pFormAccessPort.drawWindowCallBack=function(_a){if(_a){nexacro.__finishDrawDesignWindow(_a);}};_pFormAccessPort.setDotSize=function(_a,_b){this.target.setDotSize(_a,_b);};_pFormAccessPort.setDotStyle=function(_a){this.target.setDotStyle(_a);};_pFormAccessPort.setDotVisible=function(_a){this.target.setDotVisible(_a);};_pFormAccessPort.getFormBitmap=function(){return this.target.getFormBitmap();};_pFormAccessPort.setBitmapSize=function(_a,_b){return this.target.setBitmapSize(_a,_b);};_pFormAccessPort.setFormSize=function(_a,_b){return this.target.setFormSize(_a,_b);};_pFormAccessPort.DrawOffset=function(_a,_b){return this.target.DrawOffset(_a,_b);};_pFormAccessPort.setRoot=function(_a,_b){return this.target.setRoot(_a,_b);};_pFormAccessPort.setDesignZoom=function(_a){return this.target.setDesignZoom(_a);};_pFormAccessPort.getBorderWidth=function(_a){return this.target.getBorderWidth(_a);};_pFormAccessPort.setName=function(_a,_b){return this.target.setName(_a,_b);};_pFormAccessPort.attachDesignWindow=function(_a){var _b=this.target._getWindow();if(_b&&_b._handle){nexacro.__attachDesignWindowHandle(_b._handle,_a);}};_pFormAccessPort.detachDesignWindow=function(){var _a=this.target._getWindow();if(_a&&_a._handle){nexacro.__detachDesignWindowHandle(_a._handle);}};_pFormAccessPort.setOverflowClip=function(_a){this.target.setOverflowClip(_a);};_pFormAccessPort.showSubLayout=function(_a,_b){this.target.showSubLayout(_a,_b);};_pFormAccessPort.moveComponentToFront=function(_a){this.target.moveComponentToFront(_a);};_pFormAccessPort.moveComponentToPrev=function(_a){this.target.moveComponentToPrev(_a);};_pFormAccessPort.moveComponentToNext=function(_a){this.target.moveComponentToNext(_a);};_pFormAccessPort.moveComponentToBack=function(_a){this.target.moveComponentToBack(_a);};_pFormAccessPort.setPseudo=function(_a,_b){return this.target.setPseudo(_a,_b);};_pFormAccessPort.getPseudo=function(_a){return this.target.getPseudo(_a);};_pFormAccessPort.addLayout=function(_a,_b,_c,_d,_e){return this.target.addLayout(_a,_b,_c,_d,_e);};_pFormAccessPort.removeLayout=function(_a,_b){return this.target.removeLayout(_a,_b);};_pFormAccessPort.removeAllLayout=function(_a){return this.target.removeAllLayout(_a);};_pFormAccessPort.setLayoutProperty=function(_a,_b,_c,_d){return this.target.setLayoutProperty(_a,_b,_c,_d);};_pFormAccessPort.getLayoutProperty=function(_a,_b,_c){return this.target.getLayoutProperty(_a,_b,_c);};_pFormAccessPort.changeLayout=function(_a,_b){return this.target.changeLayout(_a,_b);};_pFormAccessPort.getCurrentLayout=function(_a){return this.target.getCurrentLayout(_a);};_pFormAccessPort.setAutoLayoutChange=function(_a,_b){return this.target.setAutoLayoutChange(_a,_b);};_pFormAccessPort.refreshLayout=function(_a){this.target.refreshLayout(_a);};_pFormAccessPort.recalcLayout=function(_a){this.target.recalcLayout(_a);};_pFormAccessPort.setContents=function(_a,_b){this.target.setContents(_a,_b);};_pFormAccessPort.setFormats=function(_a,_b){this.target.setFormats(_a,_b);};_pFormAccessPort.setInnerDataset=function(_a,_b){this.target.setInnerDataset(_a,_b);};_pFormAccessPort.setActiveTabPage=function(_a,_b){this.target.setActiveTabPage(_a,_b);};_pFormAccessPort.refreshTheme=function(){this.target.refreshTheme();};_pFormAccessPort.addConstColumn=function(_a,_b,_c,_d,_e){nexacro.ApplicationAccessPort.prototype.addConstColumn.call(this.target,_a,_b,_c,_d,_e);};_pFormAccessPort.insertConstColumn=function(_a,_b,_c,_d,_e,_f){nexacro.ApplicationAccessPort.prototype.insertConstColumn.call(this.target,_a,_b,_c,_d,_e,_f);};_pFormAccessPort.deleteConstColumn=function(_a,_b){nexacro.ApplicationAccessPort.prototype.deleteConstColumn.call(this.target,_a,_b);};_pFormAccessPort.setConstColumnProperty=function(_a,_b,_c,_d){nexacro.ApplicationAccessPort.prototype.setConstColumnProperty.call(this.target,_a,_b,_c,_d);};_pFormAccessPort.getConstColumnProperty=function(_a,_b,_c){nexacro.ApplicationAccessPort.prototype.getConstColumnProperty.call(this.target,_a,_b,_c);};_pFormAccessPort.addColumn=function(_a,_b,_c,_d,_e,_f){nexacro.ApplicationAccessPort.prototype.addColumn.call(this.target,_a,_b,_c,_d,_e,_f);};_pFormAccessPort.insertColumn=function(_a,_b,_c,_d,_e,_f,_g){nexacro.ApplicationAccessPort.prototype.insertColumn.call(this.target,_a,_b,_c,_d,_e,_f,_g);};_pFormAccessPort.deleteColumn=function(_a,_b){nexacro.ApplicationAccessPort.prototype.deleteColumn.call(this.target,_a,_b);};_pFormAccessPort.setColumnProperty=function(_a,_b,_c,_d){nexacro.ApplicationAccessPort.prototype.setColumnProperty.call(this.target,_a,_b,_c,_d);};_pFormAccessPort.getColumnProperty=function(_a,_b,_c){nexacro.ApplicationAccessPort.prototype.getColumnProperty.call(this.target,_a,_b,_c);};_pFormAccessPort.addRow=function(_a){nexacro.ApplicationAccessPort.prototype.addRow.call(this.target,_a);};_pFormAccessPort.insertRow=function(_a,_b){nexacro.ApplicationAccessPort.prototype.insertRow.call(this.target,_a,_b);};_pFormAccessPort.deleteRow=function(_a,_b){nexacro.ApplicationAccessPort.prototype.deleteRow.call(this.target,_a,_b);};_pFormAccessPort.setColumn=function(_a,_b,_c,_d){nexacro.ApplicationAccessPort.prototype.setColumn.call(this.target,_a,_b,_c,_d);};_pFormAccessPort.getColumn=function(_a,_b,_c){nexacro.ApplicationAccessPort.prototype.getColumn.call(this.target,_a,_b,_c);};_pFormAccessPort.insertCSS=function(_a){this.target.insertCSS(_a);};_pFormAccessPort.removeCSS=function(_a){this.target.removeCSS(_a);};_pFormAccessPort.updateCSS=function(_a){this.target.updateCSS(_a);};delete _pFormAccessPort;nexacro.createApplicationAccessPort=function(){if(!application.accessport){application.accessport=new nexacro.ApplicationAccessPort(application);}};nexacro.destroyApplicationAccessPort=function(){var _a=application.accessport;if(_a){var _b=_a._formaccessport;var _c=_b?_b.length:0;for(var _e=_c-1;_e>=0;_e-- ){var _d=_b[_e].accessport;if(!_d){continue;}_d.destroy();delete _d;}_b=[];delete application.accessport;application.accessport=null;}};nexacro.closeApplication=function(){if(application){var _a=application.mainframe;if(_a){_a._destroy();}application.exit();delete application;application=null;}};nexacro.getApplicationAccessPort=function(){return application.accessport;};nexacro.ChildFrame.prototype.set_formurl=function(_a){var _b=application._getFDLLocation(_a);if(this._formurl!=_b){this.formurl=_a;this._formurl=_b;var _c=this.form;if(_c){_c.destroyComponent();}_c=new nexacro.DesignForm("form","absolute",0,0,this._client_width,this._client_height,null,null,this);_c.opener=this.opener;this.form=_c;this.form._url=this._formurl;this._is_loading=false;this.form.on_notify_init();this._is_loaded=true;return _c;}};nexacro.ChildFrame.prototype.showDesign=function(_a,_b,_c,_d,_e){var _f,_g,_h,_i;if(!(_a instanceof nexacro.Frame)&&_a!=null){_g=_b;_h=_a;this.id=_h;this._arg=_c;if(_d){this.opener=_d;}}else{_g=_a;_h=this.id;this._arg=_b;if(_c){this.opener=_c;}}var _j;if(_g){_f=_g.addChild(_h,this);}if(_f== -1){_j=_g[_h];if(_j&&_j._window&&!_j._window._is_alive){if(_j._window.setActive){_j._window.setActive();}else{_j._window.focus();}return;}}else{_j=this;}application._registerPopupFrame(_h,this);_j._is_window=true;_j._window_type=2;var _k=_j._adjust_left;var _l=_j._adjust_top;var _m=_j._adjust_width;var _n=_j._adjust_height;var _o;if(this.form){this.form.opener=this.opener;}var _p=new nexacro.Window(this.name,null,false);_p._handle=_e;if(!this.autosize){this._window=new nexacro.Window(this.name,_p,false);this._window.attachFrame(this,false);this._window.create(_p,this.id,_m,_n,_k,_l,this.resizable,this.layered,this.showontaskbar);if(this._is_created){this._control_element._parent_elem=null;}this.createComponent();this.on_created();var _q=this;nexacro._observeSysEvent(this._window._handle,"resize","onresize",function(){if(_q.form){_q.form._on_designform_onsize();}});}};nexacro.Form.prototype.on_fire_onlayoutchanged=function(_a,_b,_c,_d,_e,_f,_g,_h){trace(_a.name+".on_fire_onlayoutchanged : "+_c+"->"+_d);if(this.onlayoutchanged&&this.onlayoutchanged._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_c,_e,_f,_g,_h);return this.onlayoutchanged._fireEvent(this,_i);}var _j=this._getWindow();var _k=this.getOwnerFrame();var _l=_k.form;var _m=_a.id+":"+_d;nexacro.__notifyToDesignWindow(_j._handle,nexacro._design_notify_layoutchange,_l.id,_m);return true;};nexacro.LoadManager.prototype.on_load_main=function(_a,_b,_c,_d,_e,_f,_g){if(_a==this.main_url){this.status=2;this._main_handle=null;this._is_mainloaded=false;if(_b==0&&_c&&typeof (_c)=="function"){_c.call(this.context);var _h=this.context;if(_h instanceof nexacro.Div){var _i=_h._getWindow();var _j=_h.getOwnerFrame();var _k=_j.form;var _l=_k._getScopeName(_h);nexacro.__notifyToDesignWindow(_i._handle,nexacro._design_notify_div_urlload,_k.id,_l);}}else{if(this.context==application){application._onHttpSystemError(this.context,true,this.context,"0x80010006",_a,_e,_f,_g);return;}else{application._onHttpSystemError(this.context,true,this.context,_d,_a,_e,_f,_g);var _h=this.context;if(_h instanceof nexacro.Div){var _i=_h._getWindow();var _j=_h.getOwnerFrame();var _k=_j.form;var _l=_k._getScopeName(_h);nexacro.__notifyToDesignWindow(_i._handle,nexacro._design_notify_div_httperror,_k.id,_l);}}}this._is_mainloaded=true;this._check_fire_oninit();}};nexacro.Component.prototype._adjustPosition=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro.DesignForm.prototype._getCompStepLogicalOffset(this);nexacro.DesignForm.prototype._adjustPosition_assignPart.call(this,_a,_b,_c,_d,_e,_f,_g,_h);var _j=this._isRtl(this.parent);if(this._width!=null||(this._right!=null&&this._left!=null)){this._adjust_width=this._width!=null?this._width:_g-this._left-this._right;}if(this._height!=null||this._bottom!=null){this._adjust_height=this._height!=null?this._height:_h-this._top-this._bottom;}if(this._left!=null||this._right!=null){this._adjust_left_ltr=this._adjust_left=(this._left!=null)?(_i+this._left):(_i+(_g-this._right-this._adjust_width));if(_j){this._adjust_left_ltr=this._right!=null?this._right:_g-this._left-this._adjust_width;}}if(this.top!=null||this._bottom!=null){this._adjust_top=this._top!=null?this._top:_h-this._bottom-this._adjust_height;}if(this.left&&this.width&&this.right){this._right=0;this.right=null;}if(this.top&&this.height&&this.bottom){this._bottom=0;this.bottom=null;}};this.Form=nexacro.DesignForm;nexacro.Component.prototype.on_create_popup_control_element=function(_a){var _b=new nexacro.ControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};nexacro.PopupScrollableControlElement.prototype.create=nexacro.ScrollableControlElement.prototype.create;nexacro.Component.prototype.on_create_popupscrollable_control_element=function(_a){this._is_popup=false;this._is_window=false;this._track_on=true;var _b=new nexacro.PopupScrollableControlElement(this.parent._control_element);_b.setLinkedControl(this);this._control_element=_b;return _b;};if(nexacro.Browser=="Runtime"){if(nexacro.Element){var _pElement=nexacro.Element.prototype;_pElement.setElementVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=_a;var _c=this._handle;if(_c){_b=true;if(this.linkedcontrol){if(this.linkedcontrol instanceof nexacro.Tabpage){_b=_a;}}else{_b=_a;}nexacro.__setElementHandleVisible(_c,_b);}this._design_visible=_b;}};}nexacro.SubLayoutOverlayElement=function(_a){this._parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pSubLayoutOverlayElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.SubLayoutOverlayElement);nexacro.SubLayoutOverlayElement.prototype=_pSubLayoutOverlayElement;_pSubLayoutOverlayElement._type_name="SubLayoutOverlayElement";_pSubLayoutOverlayElement.create=function(_a){var _b=this._parent_elem;if(this._parent_elem&&!this._handle){var _c=this.linkedcontrol._getWindow();this._win_handle=_c._handle;this.left=0;this.top=0;this.width=_b.width;this.height=_b.height;var _d=this._handle=this._dest_handle=nexacro.__createControlElementHandle(this,this._win_handle,this.left,this.top,this.width,this.height);_d._linked_element=this;var _e=_d.style;this.setElementColor(_a);this._owner_elem=_b;nexacro.__appendElementHandle(_b._handle,_d);this._refreshForeground(_d);var _f=this._client_element;_f.left=this.left;_f.top=this.top;_f.width=this.width;_f.height=this.height;if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pSubLayoutOverlayElement.destroy=function(){if(this._handle){nexacro.__destroyElementHandle(this._parent_elem._handle,this._handle);this._handle=null;this._client_element.destroy();}};_pSubLayoutOverlayElement.setElementColor=function(_a){nexacro.__setElementHandleBackgroundColor(this._handle,_a?_a._syscolor:0);};_pSubLayoutOverlayElement.getContainerElement=function(){return this._client_element;};_pSubLayoutOverlayElement.getRootWindowHandle=function(){return this._win_handle;};delete _pSubLayoutOverlayElement;}}