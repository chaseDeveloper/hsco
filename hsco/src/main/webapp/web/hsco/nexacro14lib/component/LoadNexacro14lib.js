if(nexacro.Browser!="Runtime"){if(!nexacro.Element){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){nexacro.__createCanvasElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_b.createElement("div");var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_c,_d);nexacro.__setDOMNodeSize(_g,_e,_f);_g._linked_element=_a;_g._element_type=9;return _g;};nexacro.__destroyCanvasElementHandle=nexacro._desyroyElementHandle;}else if(nexacro.Browser!="Edge"||nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9)){nexacro.__createCanvasElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_b.createElement("canvas");var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_c,_d);nexacro.__setDOMNodeSize(_g,_e,_f);_g._linked_element=_a;_g._element_type=9;_g._draw_ctx=_g.getContext("2d");return _g;};nexacro.__destroyCanvasElementHandle=function(_a,_b){if(_a){_a.removeChild(_b);}_b._draw_ctx=null;_b._linked_element=null;};}nexacro.__setElementHandleBringToFront=nexacro.__bringDOMNodeToFront;nexacro.__setElementHandleSendToBack=nexacro.__sendDOMNodeToBack;nexacro.__setElementHandleMoveToPrev=nexacro.__moveDOMNodeToPrev;nexacro.__setElementHandleMoveToNext=nexacro.__moveDOMNodeToNext;nexacro.__setLastFocusedElement=function(_a){if(_a){var _b=_a.linkedcontrol?_a.linkedcontrol._getWindow():(_a._parent_elem?_a._parent_elem.linkedcontrol._getWindow():null);if(_b){var _c=_b;while(true){if(_c instanceof nexacro.PopupWindow){if(_c==_c.parent){break;}_c=_c.parent;}else{break;}}if(!_c){_c=_b;}_c._last_focused_elem=_a;}}};nexacro.Element=function(_a){this.parent=_a;this._parent_elem=_a;};var _pElement=nexacro._createPrototype(nexacro.Object,nexacro.Element);nexacro.Element.prototype=_pElement;_pElement._type_name="Element";_pElement.left=0;_pElement.top=0;_pElement.width=0;_pElement.height=0;_pElement.visible=true;_pElement.mirror=false;_pElement._rtldirection="inherit";_pElement.letterspace=0;_pElement._handle=null;_pElement._dest_handle=null;_pElement._owner_elem=null;_pElement._is_nc_element=false;_pElement.clearContents=nexacro._emptyFn;_pElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=0;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.mirror){var _e=this.background;if(_e&&_e.image){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());}}if(this._rtldirection){nexacro.__setDOMNodeStyleDirection(_d,this._rtldirection);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pElement._destroyElementHandle=function(){var _a=this._handle;var _b=this._owner_elem;if(_a&&_b){_a._linked_element=null;nexacro.__removeDOMNode(_b._handle,_a);this._owner_elem=null;this._handle=this._dest_handle=null;}};_pElement._removeElementHandle=function(){var _a=this._handle;var _b=this._owner_elem;if(_a&&_b){_a._linked_element=null;nexacro.__removeDOMNode(_b._handle,_a);this._owner_elem=null;this._handle=this._dest_handle=null;}};_pElement._appendToContainer=function(_a){var _b=this._handle;if(_b&&_a._handle&&this._owner_elem==null){this._owner_elem=_a;nexacro.__appendDOMNode(_a._dest_handle,_b);}};_pElement._removeFromContainer=function(){var _a=this._owner_elem;if(_a){this._owner_elem=null;var _b=this._handle;if(_b&&_a._handle){nexacro.__unlinkDOMNode(_a._dest_handle,_b);}}};_pElement.getContainerElement=function(){return this;};_pElement.getRootWindowHandle=function(){if(this._owner_elem){return this._owner_elem.getRootWindowHandle();}return null;};_pElement._getElementBaseUrl=function(){var _a=this;while(_a&&!_a._is_form){_a=_a.parent;}if(_a&&_a._is_form){return _a._getFormBaseUrl();}return "";};_pElement.hasSetSelectionRange=function(){var _a=this._input_handle;if(_a){if(_a.setSelectionRange){return true;}}return false;};_pElement._getParentFont=function(){var _a=this._parent_elem;while(_a){if(_a.font){return _a.font;}_a=_a._parent_elem;}return null;};_pElement._getParentLetterSpace=function(){var _a=this._parent_elem;while(_a){if(_a.letterspace){return _a.letterspace;}_a=_a._parent_elem;}return 0;};_pElement._isRtl=function(_a){var _b=this._parent_elem;if(_a){_b=this;}var _c=this._rtldirection;while(_b){if(_b._rtldirection&&_b._rtldirection!="inherit"){_c=_b._rtldirection;break;}_b=_b._parent_elem;}return _c=="rtl";};_pElement.setElementPosition=function(_a,_b,_c){if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;var _d=this._handle;if(_d){var _e=this._owner_elem;var _f=false;if(_e){_f=_e.mirror;}var _g=this._isRtl();if(nexacro.OS!="iOS"&&this.parent._is_scrollable_comp&&!(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9)){nexacro.__setDOMNodeStylePos(_d.style,0,0,!_f&&this._isRtl());if(_g){nexacro.__setDOMNodeStyleTranslate(_d.style, -_a,_b);}else{nexacro.__setDOMNodeStyleTranslate(_d.style,_a,_b);}}else{nexacro.__setDOMNodeStylePos(_d.style,_a,_b,!_f&&_g);var _h=this._dest_handle;if(_h&&_d!=_h){nexacro.__setDOMNodeStylePos(_h.style,_a,_b,!_f&&_g);this.setElementScrollPos(this._scroll_left,this._scroll_top,true);}}}}};_pElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);nexacro.__setDOMNodeStyleSize(this._dest_handle.style,_a,_b);}}};_pElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleLetterSpace(_b.style,_a);}}};_pElement.setElementVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);if(nexacro.OS=="Android"||nexacro.OS=="iOS"){if(this.visible){var _c=this.zindex;if(!_c||_c<0){_c="";}nexacro.__setDOMNodeStyleZindex(_b.style,_c);}else{nexacro.__setDOMNodeStyleZindex(_b.style,nexacro._zindex_hide);}}}}};_pElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this.background;var _e=this.image;if(_d&&_d.image){var _f=this._handle;var _g=this._isRtl();if(_f){this.setElementBorder(this.border,this.bordertype);this.setElementPadding(this.padding);nexacro.__setDOMNodeStyleTransformMirror(_f.style,this.mirror&&this._isRtl());}if(this._client_element){_f=this._client_element._handle;if(_f){nexacro.__setDOMNodeStyleTransformMirror(_f.style,this.mirror&&this._isRtl());}}}}};_pElement.setElementRtlDirection=function(_a){if(this._rtldirection!=_a){this._bChangeRtl=true;this._rtldirection=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleDirection(_b.style,_a);}if(this.shadow){this.setElementShadow(this.shadow);}if(this.border){this.setElementBorder(this.border,this.bordertype);}if(this.bordertype){this.setElementBorder(this.border,this.bordertype);}if(this.padding){this.setElementPadding(this.padding);}if(this.gradation){this.setElementBackground(this.background,this.gradation);}if(this.align){this.setElementAlign(this.align);}if(this.halign&&this.valign){this.setElementAlignXY(this.halign,this.valign);}var _c=this._client_element;if(!_c||this.client_width==0||this.client_height==0){return;}this._bChangeRtl=false;}};_pElement.setElementEnable=nexacro._emptyFn;_pElement.setElementTabIndex=nexacro._emptyFn;_pElement.setElementAlign=nexacro._emptyFn;_pElement.setElementAlignXY=nexacro._emptyFn;_pElement.setElementPadding=nexacro._emptyFn;_pElement.setElementPaddingXY=nexacro._emptyFn;_pElement.setElementFont=nexacro._emptyFn;_pElement.setElementColor=nexacro._emptyFn;_pElement.setElementCursor=nexacro._emptyFn;delete _pElement;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){nexacro._VMLContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pVMLContainerElement=nexacro._createPrototype(nexacro.Element,nexacro._VMLContainerElement);nexacro._VMLContainerElement.prototype=__pVMLContainerElement;__pVMLContainerElement._type_name="VMLContainerElement";__pVMLContainerElement.bordertype=null;__pVMLContainerElement.border=null;__pVMLContainerElement.background=null;__pVMLContainerElement._inner_left=0;__pVMLContainerElement._inner_top=0;__pVMLContainerElement._inner_width=0;__pVMLContainerElement._inner_height=0;__pVMLContainerElement._outer_path="";__pVMLContainerElement._inner_path="";__pVMLContainerElement._border_handle=null;__pVMLContainerElement._backgroundtype=0;__pVMLContainerElement._applied_backgroundtype=0;__pVMLContainerElement._background_handle=null;__pVMLContainerElement._background_fill_handle=null;__pVMLContainerElement._imagetype=0;__pVMLContainerElement._applied_imagetype=0;__pVMLContainerElement._image_handle=null;__pVMLContainerElement._image_fill_handle=null;__pVMLContainerElement._img_url="";__pVMLContainerElement._img_repeat="";__pVMLContainerElement._img_bkpos_x=0;__pVMLContainerElement._img_bkpos_y=0;__pVMLContainerElement._need_update=false;__pVMLContainerElement._need_update_border=false;__pVMLContainerElement._need_update_background=false;__pVMLContainerElement._need_update_image=false;__pVMLContainerElement._is_nc_element=true;__pVMLContainerElement.create=function(_a){var _b=this._parent_elem;if(_b._handle){if(!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);var _e=_d.style;nexacro.__setDOMNodeStyleDirection(_e,"ltr");nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,0,0,this._isRtl());nexacro.__setDOMNodeStyleUnitSize(_e,"100%","100%");this._handle=this._dest_handle=_d;}if(_a){nexacro.__insertDOMNode(_b._dest_handle,this._handle,_a);}else{nexacro.__appendDOMNode(_b._dest_handle,this._handle);}this.updateVMLInfo();}};__pVMLContainerElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;if(this._owner_elem&&this._owner_elem._dest_handle){nexacro.__removeDOMNode(this._owner_elem._dest_handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;var _b=this._background_handle;if(_b){nexacro.__removeDOMNode(_a,_b);var _c=this._background_fill_handle;if(_c){nexacro.__removeDOMNode(_b,_c);}}var _d=this._border_handle;if(_d){nexacro.__removeDOMNode(_a,_d);}var _e;if(_e){nexacro.__removeDOMNode(_a,_e);var _f=this._image_fill_handle;if(_f){nexacro.__removeDOMNode(_e,_f);}}this._background_fill_handle=null;this._border_handle=null;this._background_handle=null;this._image_handle=null;this._image_fill_handle=null;}this.parent=null;this._parent_elem=null;};__pVMLContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){if(_b){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;}};__pVMLContainerElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(this.bordertype){this.setVMLBorder(this.bordertype,this.border);if(this._handle){this.updateVMLInfo();}}}};__pVMLContainerElement._createVMLOuterPath=function(_a,_b,_c,_d,_e){var _f=0,_g=_a*10,_h=0,_i=_b*10;var _j=[];if(_c>0&&_d>0){var _k=_c*10,_l=_d*10;if(_e._lefttop){_j.push('m'+_f+','+(_h+_l)+'qy'+(_f+_k)+','+_h);}else{_j.push('m'+_f+','+_h);}if(_e._righttop){_j.push('l'+(_g-_k)+','+_h+'qx'+_g+','+(_h+_l));}else{_j.push('l'+_g+','+_h);}if(_e._rightbottom){_j.push('l'+_g+','+(_i-_l)+'qy'+(_g-_k)+','+_i);}else{_j.push('l'+_g+','+_i);}if(_e._leftbottom){_j.push('l'+(_f+_k)+','+_i+'qx'+_f+','+(_i-_l));}else{_j.push('l'+_f+','+_i);}_j.push('x');}else{_j.push('m'+_f+','+_h);_j.push('l'+_g+','+_h);_j.push('l'+_g+','+_i);_j.push('l'+_f+','+_i);_j.push('x');}return _j.join('');};__pVMLContainerElement._createVMLInnerPath=function(_a,_b,_c,_d,_e,_f){var _g=_e._top_width;var _h=_e._right_width;var _i=_e._bottom_width;var _j=_e._left_width;var _k=0,_l=_a*10,_m=0,_n=_b*10;if(_e&&!_e._is_real_empty()){_k+=_j*10;_l-=_h*10;_m+=_g*10;_n-=_i*10;}if(_k>=_l||_m>=_n){return "";}var _o=[];var _p,_q;if(_c>0&&_d>0){_p=(_c-_j)*10;_q=(_d-_g)*10;if(_p>0&&_q>0&&_f._lefttop){_o.push('m'+_k+','+(_m+_q)+'qy'+(_k+_p)+','+_m);}else{_o.push('m'+_k+','+_m);}_p=(_c-_h)*10;_q=(_d-_g)*10;if(_p>0&&_q>0&&_f._righttop){_o.push('l'+(_l-_p)+','+_m+'qx'+_l+","+(_m+_q));}else{_o.push('l'+_l+','+_m);}_p=(_c-_h)*10;_q=(_d-_i)*10;if((_p>0&&_q>0)&&_f._rightbottom){_o.push('l'+_l+','+(_n-_q)+'qy'+(_l-_p)+','+_n);}else{_o.push('l'+_l+','+_n);}_p=(_c-_j)*10;_q=(_d-_i)*10;if(_p>0&&_q>0&&_f._leftbottom){_o.push('l'+(_k+_p)+','+_n+'qx'+_k+','+(_n-_q));}else{_o.push('l'+_k+','+_n);}_o.push('x');}else{_o.push('m'+_k+','+_m);_o.push('l'+_l+','+_m);_o.push('l'+_l+','+_n);_o.push('l'+_k+','+_n);_o.push('x');}return _o.join('');};__pVMLContainerElement.setVMLBorder=function(_a,_b){if(this.bordertype!=_a||this.border!=_b||this.prev_width!=this.width||this.prev_height!=this.height){var _c=this.width;var _d=this.height;if(_a&&_b){var _e=_b._getStyleObject(this._isRtl());var _f=_a._getStyleObject(this._isRtl());var _g=_e._getBorderWidth();var _h=_e._getBorderHeight();this._inner_left=_e._left_width;this._inner_top=_e._top_width;this._inner_width=_c-_g;this._inner_height=_d-_h;var _i=_e._syscolor;if(!_i||_i==""){_i=_e._top_syscolor;}this._border_color=_i;var _j=_f._radiusx,_k=_f._radiusy;var _l=0;if((_j+_j)>_c){_l=_j-Math.floor(_c/2);}if((_k+_k)>_d){var _m=_k-Math.floor(_d/2);if(_m>_l){_l=_m;}}if(_l){_j-=_l;_k-=_l;}var _n=this._createVMLOuterPath(_c,_d,_j,_k,_f);var _o=this._createVMLInnerPath(_c,_d,_j,_k,_e,_f);this._outer_path=_n;this._inner_path=_o;}else{this._inner_left=0;this._inner_top=0;this._inner_width=_c;this._inner_height=_d;this._outer_path="";var _o=this._createVMLOuterPath(_c,_d,0,0,_a);this._inner_path=_o;}this.prev_width=_c;this.prev_height=_d;this.bordertype=_a;this.border=_b;this._need_update=true;this._need_update_border=true;}};__pVMLContainerElement.setVMLBackground=function(_a,_b){if((_a&&(this.background!=_a||this.background._syscolor!=_a._syscolor))||(_a.color=="@gradation"&&(_b&&(this.gradation!=_b||this.gradation._sysvalue2!=_b._sysvalue2)))){if(_a){if(_a.color=="@gradation"&&_b&&_b._sysvalue2){this._backgroundtype=2;}else if(_a._value=="transparent"){_a._syscolor="transparent";_a._sysopacity=0;this._backgroundtype=1;}else if(_a._syscolor){this._backgroundtype=1;}else if(nexacro.BrowserVersion==8){_a._syscolor="transparent";_a._sysopacity=0;this._backgroundtype=1;}else{this._backgroundtype=0;}this.background=_a;this.gradation=_b;}else{this.background=null;this.gradation=null;this._backgroundtype=0;}this._need_update=true;this._need_update_background=true;}};__pVMLContainerElement.setVMLStretchImage=function(_a){if(this._imagetype!=2||this.img_url!=_a){this._imagetype=2;this._img_url=_a;this._img_repeat="";this._img_bkpos_x=0;this._img_bkpos_y=0;this._need_update=true;this._need_update_image=true;}};__pVMLContainerElement.setVMLRepeatImage=function(_a,_b,_c,_d,_e){if(_c==""){_c="no-repeat";}if(this._imagetype!=1||this.img_url!=_b||this._img_repeat!=_c||this._img_bkpos_x!=_d||this._img_bkpos_y!=_e){this._imagetype=1;this._img_url=_b;this._img_repeat=_c;this._img_bkpos_x=_d;this._img_bkpos_y=_e;this._need_update=true;this._need_update_image=true;}};__pVMLContainerElement.clearVMLImage=function(){if(this._imagetype!=0){this._imagetype=0;this._img_url="";this._img_repeat="";this._img_bkpos="";this._need_update_image=true;}};__pVMLContainerElement.updateVMLInfo=function(){var _a=this._handle;var _b=this.getRootWindowHandle();if(_a&&_b){var _c=this._backgroundtype;var _d=this._need_update_border;var _e=this._need_update_background;var _f=this._need_update_image;var _g=this._border_handle;var _h=this._background_handle;var _i=this._image_handle;if(_e){var _j=this._applied_backgroundtype;var _c=this._backgroundtype;if(_c==0){if(_h){nexacro.__removeDOMNode(_a,_h);var _k=this._background_fill_handle;if(_k){nexacro.__removeDOMNode(_h,_k);}this._background_handle=null;this._background_fill_handle=null;}}else if(_c==1){var _l=this.background;if(_j==0){_h=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px;' stroked='f' coordorigin='5 5' coordsize='10 10'>");_h.path=this._inner_path;if(_i){_a.insertBefore(_h,_i);}else if(_g){_a.insertBefore(_h,_g);}else{_a.appendChild(_h);}this._background_handle=_h;if(_l._syscolor=="transparent"&&nexacro.BrowserVersion==8){_h.fillcolor="none";var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill color = 'red' opacity= '0' />");_h.appendChild(_m);this._background_fill_handle=_m;}else if(_l._syscolor=="transparent"){_h.fillcolor="none";}else{var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}var _n=(_l._sysopacity/100);var _o=_l._syscolor;_m=_b.createElement("<v:fill type= 'gradient' color = '"+_o+"' opacity = '"+_n+"' color2 = '"+_o+"'"+" o:opacity2 = '"+_n+"' colors = '0 "+_o+" 1 "+_o+"' />");_h.appendChild(_m);this._background_fill_handle=_m;}}else if(_j>=1){if(_l._syscolor=="transparent"&&nexacro.BrowserVersion==8){_h.fillcolor="none";var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill color = 'red' opacity= '0' />");_h.appendChild(_m);this._background_fill_handle=_m;}else if(_l._syscolor=="transparent"){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_h.fillcolor="none";}else{var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}var _n=(_l._sysopacity/100);var _o=_l._syscolor;_m=_b.createElement("<v:fill type= 'gradient' color = '"+_o+"' opacity = '"+_n+"' color2 = '"+_o+"'"+" o:opacity2 = '"+_n+"' colors = '0 "+_o+" 1 "+_o+"' />");_h.appendChild(_m);this._background_fill_handle=_m;}}else if(_j==2){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill color = '"+_l._syscolor+"'"+" opacity= '"+(_l._sysopacity/100)+"' />");_h.appendChild(_m);this._background_fill_handle=_m;}}else{var _p=this.gradation;this._need_vmlrefresh=true;if(_j==0){_h=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px' stroked='f' coordorigin='5 5' coordsize='10 10'>");_h.path=this._inner_path;var _m=_b.createElement("<v:fill "+_p._sysvalue2+">");_h.appendChild(_m);if(_i){_a.insertBefore(_h,_i);}else if(_g){_a.insertBefore(_h,_g);}else{_a.appendChild(_h);}this._background_handle=_h;this._background_fill_handle=_m;}else if(_j==1){if(_p._sysvalue2){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill "+_p._sysvalue2+">");_h.appendChild(_m);this._background_fill_handle=_m;}}else if(_j==2){if(_p._sysvalue2){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill "+_p._sysvalue2+">");_h.appendChild(_m);this._background_fill_handle=_m;}}}this._applied_backgroundtype=_c;}else{if(_d&&_h){_h.path=this._inner_path;}}if(_f){var _q=this._applied_imagetype;var _r=this._imagetype;if(_r==0){if(_i){nexacro.__removeDOMNode(_a,_i);var _s=this._image_fill_handle;if(_s){nexacro.__removeDOMNode(_i,_s);}this._image_handle=null;this._image_fill_handle=null;}}else if(_r==1){if(_q==0){_i=_b.createElement("div");var _t=_i.style;nexacro.__setDOMNodeStyleAbsolute(_t);nexacro.__setDOMNodeStylePos(_t,this._inner_left,this._inner_top);nexacro.__setDOMNodeStyleSize(_t,this._inner_width,this._inner_height);nexacro.__setDOMNodeStyleBackgroundImage(_t,this._img_url,this._img_repeat,(this._img_bkpos_x+"% "+this._img_bkpos_y+"%"));if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;this._image_fill_handle=null;}else if(_q==1){var _t=_i.style;nexacro.__setDOMNodeStylePos(_t,this._inner_left,this._inner_top);nexacro.__setDOMNodeStyleSize(_t,this._inner_width,this._inner_height);nexacro.__setDOMNodeStyleBackgroundImage(_t,this._img_url,this._img_repeat,(this._img_bkpos_x+"% "+this._img_bkpos_y+"%"));}else{if(_i){nexacro.__removeDOMNode(_a,_i);var _s=this._image_fill_handle;if(_s){nexacro.__removeDOMNode(_i,_s);}this._image_handle=null;this._image_fill_handle=null;}_i=_b.createElement("div");var _t=_i.style;nexacro.__setDOMNodeStyleAbsolute(_t);nexacro.__setDOMNodeStylePos(_t,this._inner_left,this._inner_top);nexacro.__setDOMNodeStyleSize(_t,this._inner_width,this._inner_height);nexacro.__setDOMNodeStyleBackgroundImage(_t,this._img_url,this._img_repeat,(this._img_bkpos_x+"% "+this._img_bkpos_y+"%"));if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;if(this._image_fill_handle){nexacro.__removeDOMNode(_i,this._image_fill_handle);this._image_fill_handle=null;}}}else{if(_q==0){_i=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px;' stroked='f' coordorigin='5 5' coordsize='10 10'>");_i.path=this._inner_path;var _m=_b.createElement("<v:fill  type='frame' src='"+this._img_url+"'/>");_i.appendChild(_m);if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;this._image_fill_handle=_m;}else if(_q==1){if(_i){nexacro.__removeDOMNode(_a,_i);var _s=this._image_fill_handle;if(_s){nexacro.__removeDOMNode(_i,_s);}this._image_handle=null;this._image_fill_handle=null;}_i=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px;' stroked='f' coordorigin='5 5' coordsize='10 10'>");_i.path=this._inner_path;var _m=_b.createElement("<v:fill  type='frame' src='"+this._img_url+"'/>");_i.appendChild(_m);if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;this._image_fill_handle=_m;}else if(_q==2){_i.path=this._inner_path;var _m=this._image_fill_handle;if(_m){_m.src=this._img_url;}}}this._applied_imagetype=_r;}else{if(_d&&_i){if(_r==1){nexacro.__setDOMNodeStylePos(_t,this.left,this.top);nexacro.__setDOMNodeStyleSize(_t,this.width,this.height);}else if(_r==2){_i.path=this._inner_path;}}}if(_d){var _u=this._outer_path;if(_g){if(_u){_g.path=_u+" "+this._inner_path+" e";if(this._border_color=="transparent"||this._border_color==""){_g.fillcolor="none";}else{_g.fillcolor=this._border_color;}this._border_handle=_g;}else{nexacro.__removeDOMNode(_a,_g);this._border_handle=null;}}else if(_u){_g=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px' stroked='f' coordorigin='5 5' coordsize='10 10'>");if(_h&&nexacro.BrowserVersion==8){_a.insertBefore(_g,_h);}else{_a.appendChild(_g);}_g.path=this._outer_path+" "+this._inner_path+" e";if(this._border_color=="transparent"||this._border_color==""){_g.fillcolor="none";}else{_g.fillcolor=this._border_color;}this._border_handle=_g;}}this._need_update=false;this._need_update_border=false;this._need_update_background=false;this._need_update_image=false;}};delete __pVMLContainerElement;nexacro._RepeatImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pRepeatImageElement=nexacro._createPrototype(nexacro.Element,nexacro._RepeatImageElement);nexacro._RepeatImageElement.prototype=__pRepeatImageElement;__pRepeatImageElement._type_name="RepeatImageElement";__pRepeatImageElement._img_url="";__pRepeatImageElement._repeat="";__pRepeatImageElement._posx=0;__pRepeatImageElement._posy=0;__pRepeatImageElement._is_nc_element=true;__pRepeatImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);var _e=_d.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}if(this._img_url){nexacro.__setDOMNodeStyleBackgroundImage(_e,this._img_url,this._repeat,(this._posx+"% "+this._posy+"%"));}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_e,this.mirror&&this._isRtl());}}};__pRepeatImageElement.setElementInfo=function(_a,_b,_c,_d){if(this._img_url!=_a||this._repeat!=_b||this._posx!=_c||this._posy!=_d){this._img_url=_a;this._repeat=_b;this._posx=_c;this._posy=_d;var _e=this._handle;if(_e){nexacro.__setDOMNodeStyleBackgroundImage(_e.style,_a,_b,(_c+"% "+_d+"%"));}}};__pRepeatImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pRepeatImageElement;nexacro._StretchImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pStretchImageElement=nexacro._createPrototype(nexacro.Element,nexacro._StretchImageElement);nexacro._StretchImageElement.prototype=__pStretchImageElement;__pStretchImageElement._type_name="StretchImageElement";__pStretchImageElement._img_url="";__pStretchImageElement._is_nc_element=true;__pStretchImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("img");_d.id=this._parent_elem._handle.id+this._type_name;_d._linked_element=this;nexacro.__setDOMNodeSelectable(_d,false);nexacro.__setDOMNodeAlt(_d,this._parent_elem.accessibility_label?this._parent_elem.accessibility_label:this._parent_elem.linkedcontrol.id);var _e=_d.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);if(this._img_url){nexacro.__setImageDOMNodeImageUrl(_d,this._img_url);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_e,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{var _f=_b._dest_handle;var _g=nexacro.__getLastChildDOMNode(_f);nexacro.__insertDOMNode(_f,_d,_g);}}};__pStretchImageElement.setElementInfo=function(_a){if(this._img_url!=_a){this._img_url=_a;var _b=this._handle;if(_b){if(_a==""){nexacro.__setDOMNodeStyleVisible(_b.style,visible);}else{nexacro.__setImageDOMNodeImageUrl(_b,_a);}}}};__pStretchImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pStretchImageElement;}nexacro._QuadImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pQuadImageElement=nexacro._createPrototype(nexacro.Element,nexacro._QuadImageElement);nexacro._QuadImageElement.prototype=__pQuadImageElement;__pQuadImageElement._type_name="QuadImageElement";__pQuadImageElement._img_url="";__pQuadImageElement._lefttop_node=null;__pQuadImageElement._righttop_node=null;__pQuadImageElement._rightbottom_node=null;__pQuadImageElement._leftbottom_node=null;__pQuadImageElement._is_nc_element=true;__pQuadImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);if((this.width%2)==1){var _e="51%";}else{var _e="50%";}if((this.height%2)==1){var _f="51%";}else{var _f="50%";}var _g=_d.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_g,this.width,this.height);var _h=_c.createElement("div");lefttop_style=_h.style;nexacro.__setDOMNodeStylePosLeftTop(lefttop_style);nexacro.__setDOMNodeStyleUnitSize(lefttop_style,_e,_f);lefttop_style.backgroundRepeat="no-repeat";lefttop_style.backgroundPosition="left top";this._lefttop_node=_h;var _i=_c.createElement("div");righttop_style=_i.style;nexacro.__setDOMNodeStylePosRightTop(righttop_style);nexacro.__setDOMNodeStyleUnitSize(righttop_style,"50%",_f);righttop_style.backgroundRepeat="no-repeat";righttop_style.backgroundPosition="right top";this._righttop_node=_i;var _j=_c.createElement("div");rightbottom_style=_j.style;nexacro.__setDOMNodeStylePosRightBottom(rightbottom_style);nexacro.__setDOMNodeStyleUnitSize(rightbottom_style,"50%","50%");rightbottom_style.backgroundRepeat="no-repeat";rightbottom_style.backgroundPosition="right bottom";this._rightbottom_node=_j;var _k=_c.createElement("div");leftbottom_style=_k.style;nexacro.__setDOMNodeStylePosLeftBottom(leftbottom_style);nexacro.__setDOMNodeStyleUnitSize(leftbottom_style,_e,"50%");leftbottom_style.backgroundRepeat="no-repeat";leftbottom_style.backgroundPosition="left bottom";this._leftbottom_node=_k;if(this._img_url){var _l="url("+this._img_url+")";lefttop_style.backgroundImage=_l;righttop_style.backgroundImage=_l;rightbottom_style.backgroundImage=_l;leftbottom_style.backgroundImage=_l;}_d.appendChild(_h);_d.appendChild(_i);_d.appendChild(_j);_d.appendChild(_k);if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_g,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}}};__pQuadImageElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;if(this._owner_elem&&this._owner_elem._dest_handle){nexacro.__removeDOMNode(this._owner_elem._dest_handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._lefttop_node=null;this._righttop_node=null;this._rightbottom_node=null;this._leftbottom_node=null;}this.parent=null;this._parent_elem=null;};__pQuadImageElement.setElementInfo=function(_a){if(this._img_url!=_a){this._img_url=_a;if(this._handle){var _b="url("+_a+")";this._lefttop_node.style.backgroundImage=_b;this._righttop_node.style.backgroundImage=_b;this._rightbottom_node.style.backgroundImage=_b;this._leftbottom_node.style.backgroundImage=_b;}}};__pQuadImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pQuadImageElement;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){nexacro._EdgeImageElement=function(_a){this.parent=_a;this._parent_elem=_a;this._edge_type=0;this._applied_edge_type=0;this._img_url="";this._applied_img_url="";this._edgex=0;this._edgey=0;this._img_width=0;this._img_height=0;this._img_sizereq=false;this._image_cc_node=null;this._div_lt_node=null;this._div_rt_node=null;this._div_lb_node=null;this._div_rb_node=null;this._image_tt_node=null;this._image_rr_node=null;this._image_bb_node=null;this._image_ll_node=null;this._need_update_imagesize=false;};var __pEdgeImageElement=nexacro._createPrototype(nexacro.Element,nexacro._EdgeImageElement);nexacro._EdgeImageElement.prototype=__pEdgeImageElement;__pEdgeImageElement._type_name="EdgeImageElement";__pEdgeImageElement._is_nc_element=true;__pEdgeImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();if(_c){var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);this._applied_edge_type=0;var _e=this.width;var _f=this.height;var _g=_d.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_g,_e,_f);var _h=_c.createElement("img");var _i=_h.style;nexacro.__setDOMNodeAlt(_h,"");nexacro.__setDOMNodeStylePosLeftTop(_i);nexacro.__setDOMNodeStyleUnitSize(_i,"100%","100%");_d.appendChild(_h);this._image_cc_node=_h;if(!this._img_sizereq){if(this._img_width>0&&this._img_height>0){this._updateImgSize(_d,this._edge_type,_e,_f,this._img_url,this._img_width,this._img_height,this._edgex,this._edgey);}else if(this._img_url){var _j=nexacro._getImageSize(this._img_url,this._on_notify_imgsize,this);this._img_sizereq=true;if(_j){this._img_width=_j.width;this._img_height=_j.height;this._updateImgSize(_d,this._edge_type,_e,_f,this._img_url,_j.width,_j.height,this._edgex,this._edgey);}}}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_g,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}}}};__pEdgeImageElement.destroy=function(){var _a=this._handle;if(_a){var _b=this.getRootWindowHandle();if(_b&&_a==_b.activeElement){nexacro.__setDOMNodeFocus(this._owner_elem._dest_handle);}_a._linked_element=null;if(this._owner_elem&&this._owner_elem._dest_handle){nexacro.__removeDOMNode(this._owner_elem._dest_handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._div_lt_node=null;this._div_rt_node=null;this._div_lb_node=null;this._div_rb_node=null;this._image_tt_node=null;this._image_rr_node=null;this._image_bb_node=null;this._image_ll_node=null;this._image_cc_node=null;}this.parent=null;this._parent_elem=null;};__pEdgeImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);if(this._img_width>0&&this._img_height>0){this._updateLayout(_c,this._edge_type,_a,_b,this._img_width,this._img_height,this._edgex,this._edgey);}else{this._updateLayout(_c,0,_a,_b,this._img_width,this._img_height,this._edgex,this._edgey);}}}};__pEdgeImageElement._updateURL=function(_a,_b,_c){if(_b==3){var _d="url("+_c+")";this._div_lt_node.style.backgroundImage=_d;this._div_rt_node.style.backgroundImage=_d;this._div_lb_node.style.backgroundImage=_d;this._div_rb_node.style.backgroundImage=_d;}if(_b==1||_b==3){this._image_ll_node.src=_c;this._image_rr_node.src=_c;}if(_b==2||_b==3){this._image_tt_node.src=_c;this._image_bb_node.src=_c;}if(this._image_cc_node){this._image_cc_node.src=_c;}this._applied_img_src=_c;};__pEdgeImageElement.setElementInfo=function(_a,_b,_c){var _d=false;var _e=false;var _f=0;if(_b<0){_b=0;}if(_c<0){_c=0;}if(_b>0&&_c>0){_f=3;}else if(_c>0){_f=2;}else if(_b>0){_f=1;}if(this._img_url!=_a){this._img_url=_a;_d=true;}if(this._edge_type!=_f||this._edgex!=_b||this._edgey!=_c){this._edge_type=_f;this._edgex=_b;this._edgey=_c;_e=true;}var _g=this._handle;if(_g){var _h=this.width;var _i=this.height;if(_d){var _j=nexacro._getImageSize(this._img_url,this._on_notify_imgsize,this);this._img_sizereq=true;if(_j){this._img_sizereq=false;if(this._img_width!=_j.width||this._img_height!=_j.height){this._img_width=_j.width;this._img_height=_j.height;this._updateLayout(_g,_f,_h,_i,_j.width,_j.height,this._edgex,this._edgey);this._updateURL(_g,_f,_a);}else{this._updateURL(_g,_f,_a);}}else{this._img_sizereq=true;this._img_width=0;this._img_height=0;this._updateLayout(_g,_f,_h,_i,0,0,0,0);}}else if(_e){if(this._img_width>0&&this._img_height>0){this._updateLayout(_g,_f,_h,_i,this._img_width,this._img_height,this._edgex,this._edgey);this._updateURL(_g,_f,this._img_url);}}}else if(_d){var _j=nexacro._getImageSize(this._img_url,this._on_notify_imgsize,this);this._img_sizereq=true;if(_j){this._img_sizereq=false;this._img_width=_j.width;this._img_height=_j.height;}}};if(nexacro.BrowserVersion<=7){nexacro._makeImageClipInfo=function(_a,_b,_c,_d){return "rect("+_a+" "+_b+" "+_c+" "+_d+")";};}else{nexacro._makeImageClipInfo=function(_a,_b,_c,_d){return "rect("+_a+"px,"+_b+"px,"+_c+"px,"+_d+"px)";};}__pEdgeImageElement._createLeftRight=function(_a,_b,_c,_d,_e,_f,_g){var _h=( -_e);var _i=_d+_e+_e;var _j=_g+_e;var _k=_d-_g+_e;var _l=_a.createElement("img");node_style=_l.style;nexacro.__setDOMNodeAlt(_l,"");nexacro.__setDOMNodeStyleAbsolute(node_style);nexacro.__setDOMNodeStylePos(node_style,0,_h,this._isRtl());nexacro.__setDOMNodeStyleSize(node_style,_c,_i);node_style.clip=nexacro._makeImageClipInfo(_j,_f,_k,0);_b.appendChild(_l);var _m=_a.createElement("img");node_style=_m.style;nexacro.__setDOMNodeAlt(_m,"");nexacro.__setDOMNodeStyleAbsolute(_m.style);node_style.right="0px";node_style.top=_h+"px";nexacro.__setDOMNodeStyleSize(node_style,_c,_i);node_style.clip=nexacro._makeImageClipInfo(_j,_c,_k, -_f+_c);_b.appendChild(_m);this._image_rr_node=_m;this._image_ll_node=_l;};__pEdgeImageElement._updateLeftRight=function(_a,_b,_c,_d,_e){var _f=( -_c);var _g=_b+_c+_c;var _h=_e+_c;var _i=_b-_e+_c;var _j=this._image_ll_node.style;_j.top=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_a,_g);_j.clip=nexacro._makeImageClipInfo(_h,_d,_i,0);var _j=this._image_rr_node.style;_j.top=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_a,_g);_j.clip=nexacro._makeImageClipInfo(_h,_a,_i, -_d+_a);};__pEdgeImageElement._destroyLeftRight=function(_a){if(this._image_ll_node){nexacro.__removeDOMNode(_a,this._image_ll_node);}if(this._image_rr_node){nexacro.__removeDOMNode(_a,this._image_rr_node);}this._image_ll_node=null;this._image_rr_node=null;};__pEdgeImageElement._createTopBottom=function(_a,_b,_c,_d,_e,_f,_g){var _h=( -_e);var _i=_d+_e+_e;var _j=_f+_e;var _k=_d-_f+_e;var _l=_a.createElement("img");var _m=_l.style;nexacro.__setDOMNodeAlt(_l,"");nexacro.__setDOMNodeStyleAbsolute(_m);nexacro.__setDOMNodeStylePos(_m,_h,0,this._isRtl());nexacro.__setDOMNodeStyleSize(_m,_i,_c);_m.clip=nexacro._makeImageClipInfo(0,_k,_g,_j);_b.appendChild(_l);var _n=_a.createElement("img");var _m=_n.style;nexacro.__setDOMNodeAlt(_n,"");nexacro.__setDOMNodeStyleAbsolute(_n.style);_m.left=_h+"px";_m.bottom="0px";nexacro.__setDOMNodeStyleSize(_m,_i,_c);_m.clip=nexacro._makeImageClipInfo( -_g+_c,_k,_c,_j);_b.appendChild(_n);this._image_tt_node=_l;this._image_bb_node=_n;};__pEdgeImageElement._updateTopBottom=function(_a,_b,_c,_d,_e){var _f=( -_c);var _g=_b+_c+_c;var _h=_d+_c;var _i=_b-_d+_c;var _j=this._image_tt_node.style;_j.left=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_g,_a);_j.clip=nexacro._makeImageClipInfo(0,_i,_e,_h);var _j=this._image_bb_node.style;_j.left=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_g,_a);_j.clip=nexacro._makeImageClipInfo( -_e+_a,_i,_a,_h);};__pEdgeImageElement._destroyTopBottom=function(_a){if(this._image_tt_node){nexacro.__removeDOMNode(_a,this._image_tt_node);}if(this._image_bb_node){nexacro.__removeDOMNode(_a,this._image_bb_node);}this._image_tt_node=null;this._image_bb_node=null;};__pEdgeImageElement._createCorners=function(_a,_b,_c,_d){var _e=_a.createElement("div");var _f=_e.style;nexacro.__setDOMNodeStylePosLeftTop(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.backgroundPosition="left top";_f.fontSize="1px";_b.appendChild(_e);var _g=_a.createElement("div");_f=_g.style;nexacro.__setDOMNodeStylePosRightTop(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.fontSize="1px";_f.backgroundPosition="right top";_b.appendChild(_g);var _h=_a.createElement("div");_f=_h.style;nexacro.__setDOMNodeStylePosLeftBottom(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.backgroundPosition="left bottom";_f.fontSize="1px";_b.appendChild(_h);var _i=_a.createElement("div");_f=_i.style;nexacro.__setDOMNodeStylePosRightBottom(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.backgroundPosition="right bottom";_f.fontSize="1px";_b.appendChild(_i);this._div_lt_node=_e;this._div_rt_node=_g;this._div_lb_node=_h;this._div_rb_node=_i;};__pEdgeImageElement._updateCorners=function(_a,_b){nexacro.__setDOMNodeStyleSize(this._div_lt_node.style,_a,_b);nexacro.__setDOMNodeStyleSize(this._div_rt_node.style,_a,_b);nexacro.__setDOMNodeStyleSize(this._div_lb_node.style,_a,_b);nexacro.__setDOMNodeStyleSize(this._div_rb_node.style,_a,_b);};__pEdgeImageElement._destroyCorners=function(_a){if(this._div_lt_node){nexacro.__removeDOMNode(_a,this._div_lt_node);}if(this._div_rt_node){nexacro.__removeDOMNode(_a,this._div_rt_node);}if(this._div_lb_node){nexacro.__removeDOMNode(_a,this._div_lb_node);}if(this._div_rb_node){nexacro.__removeDOMNode(_a,this._div_rb_node);}this._div_lt_node=null;this._div_rt_node=null;this._div_lb_node=null;this._div_rb_node=null;};__pEdgeImageElement._updateLayout=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this.getRootWindowHandle();var _j=this._applied_edge_type;if(_a){if(_g>_e){_g=_e;}if(_h>_f){_h=_f;}var _k=_e-_g-_g;var _l=_f-_h-_h;var _m=0;var _n=0;var _o=_e/2;var _p=_f/2;if(_g>_o){if(_k<0){_k=_k* -1;}_m=Math.round(_g*((_c-_g-_g)/(_k))-_c+_g);}else{if(_k==0){_m=Math.round(_g*((_c-_g-_g+1)/(_e-_g-_g+1))-_g);}else{_m=Math.round(_g*((_c-_g-_g)/(_e-_g-_g))-_g);}}if(_h>_p){if(_l<0){_l=_l* -1;}_n=Math.round(_h*((_d-_h-_h)/(_l))-_d+_h);}else{if(_l==0){_n=Math.round(_h*((_d-_h-_h+1)/(_f-_h-_h+1))-_h);}else{_n=Math.round(_h*((_d-_h-_h)/(_f-_h-_h))-_h);}}if(_b==0){if(_j==1){this._destroyLeftRight(_a);}else if(_j==2){this._destroyTopBottom(_a);}else if(_j==3){this._destroyLeftRight(_a);this._destroyTopBottom(_a);this._destroyCorners(_a);}var _q=this._image_cc_node.style;nexacro.__setDOMNodeStylePosLeftTop(_q);nexacro.__setDOMNodeStyleUnitSize(_q,"100%","100%");}else if(_b==1){if(_j==1){this._updateLeftRight(_e,_d,_n,_g,_h);}else if(_j==2){this._destroyTopBottom(_a);this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);}else if(_j==3){this._destroyTopBottom(_a);this._destroyCorners(_a);this._updateLeftRight(_e,_d,_n,_g,_h);}else{this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);}}else if(_b==2){if(_j==1){this._destroyLeftRight(_a);this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}else if(_j==2){this._updateTopBottom(_f,_c,_m,_g,_h);}else if(_j==3){this._destroyLeftRight(_a);this._destroyCorners(_a);this._updateTopBottom(_f,_c,_m,_g,_h);}else{this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}}else{if(_j==0){this._createCorners(_i,_a,_g,_h);this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}if(_j==1){this._createCorners(_i,_a,_g,_h);this._updateLeftRight(_e,_d,_n,_g,_h);this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}else if(_j==2){this._createCorners(_i,_a,_g,_h);this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);this._updateTopBottom(_f,_c,_m,_g,_h);}else{this._updateCorners(_g,_h);this._updateLeftRight(_e,_d,_n,_g,_h);this._updateTopBottom(_f,_c,_m,_g,_h);}}if(_b!=0){_q=this._image_cc_node.style;nexacro.__setDOMNodeStylePos(_q,( -_m),( -_n),this._isRtl());nexacro.__setDOMNodeStyleSize(_q,(_c+_m+_m),(_d+_n+_n));_q.clip=nexacro._makeImageClipInfo(_h+_n,_c-_g+_m,_d-_h+_n,_g+_m);}this._applied_edge_type=_b;}};__pEdgeImageElement._updateImgSize=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a){var _j=false,_k=false;if(this._applied_edge_type!=_b){_j=true;_k=true;}else if(this._applied_img_url!=_e){_k=true;}if(_j||_k){this._updateLayout(_a,_b,_c,_d,_f,_g,_h,_i);this._updateURL(_a,_b,_e);}}};__pEdgeImageElement._on_notify_imgsize=function(_a,_b,_c){if(!(_b&&_c)){return;}if(_a!=this._img_url){return;}var _d=this._handle;var _e=this._edge_type;this._img_sizereq=false;this._img_width=_b;this._img_height=_c;if(_d&&_e){this._updateImgSize(_d,_e,this.width,this.height,_a,_b,_c,this._edgex,this._edgey);}};__pEdgeImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pEdgeImageElement;}else if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=10)){nexacro._EdgeImageElement=function(_a){this.parent=_a;this._parent_elem=_a;__pEdgeImageElement._node_width=0;__pEdgeImageElement._node_height=0;__pEdgeImageElement._edgex=0;__pEdgeImageElement._edgey=0;__pEdgeImageElement._img_url="";};var __pEdgeImageElement=nexacro._createPrototype(nexacro.Element,nexacro._EdgeImageElement);nexacro._EdgeImageElement.prototype=__pEdgeImageElement;__pEdgeImageElement._type_name="_EdgeImageElement";__pEdgeImageElement._is_nc_element=true;__pEdgeImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();if(_c){var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);var _e=_d.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this._node_width,this._node_height);if(this._img_url){_e.borderColor="transparent";nexacro.__setDOMNodeStyleEdgeBorder(_e,this._img_url,this._edgex,this._edgey);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_e,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}}}};__pEdgeImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=(_a-this._edgex-this._edgex);var _d=(_b-this._edgey-this._edgey);if(this._node_width!=_c||this._node_height!=_d){this._node_width=(_c<0)?0:_c;this._node_height=(_d<0)?0:_d;var _e=this._handle;if(_e){var _f=_e.style;nexacro.__setDOMNodeStyleSize(_f,_c,_d);nexacro.__setDOMNodeStyleEdgeBorder(_f,this._img_url,this._edgex,this._edgey);}}}};__pEdgeImageElement.setElementInfo=function(_a,_b,_c){if(this._img_url!=_a||this._edgex!=_b||this._edgey!=_c){this._img_url=_a;var _d=this._handle;var _e=this.width-_b-_b;var _f=this.height-_c-_c;this._edgex=_b;this._edgey=_c;if(this._node_width!=_e||this._node_height!=_f){this._node_width=(_e<0)?0:_e;this._node_height=(_f<0)?0:_f;var _d=this._handle;if(_d){var _g=_d.style;nexacro.__setDOMNodeStyleSize(_g,_e,_f);nexacro.__setDOMNodeStyleEdgeBorder(_g,this._img_url,_b,_c);}}else if(_d){nexacro.__setDOMNodeStyleEdgeBorder(this._handle.style,this._img_url,_b,_c);}}};__pEdgeImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pEdgeImageElement;}nexacro.TextBoxElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextBoxElement=nexacro._createPrototype(nexacro.Element,nexacro.TextBoxElement);nexacro.TextBoxElement.prototype=_pTextBoxElement;_pTextBoxElement._type_name="TextBoxElement";_pTextBoxElement.font=null;_pTextBoxElement.color=null;_pTextBoxElement.cursor=null;_pTextBoxElement.align=null;_pTextBoxElement.halign="left";_pTextBoxElement.valign="top";_pTextBoxElement.padding=null;_pTextBoxElement.padding_left=0;_pTextBoxElement.padding_top=0;_pTextBoxElement.padding_right=0;_pTextBoxElement.padding_bottom=0;_pTextBoxElement.text="";_pTextBoxElement.linespace=0;_pTextBoxElement.wordwrap="none";_pTextBoxElement.decoration="";_pTextBoxElement._cell_node=null;_pTextBoxElement._use_newline=true;_pTextBoxElement._default_textoverflow="ellipsis";if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=7){_pTextBoxElement._createTextElementHandle=function(_a,_b,_c,_d,_e){var _f=_a.createElement("table");var _g=_f.style;_f.cellSpacing=0;_f.cellPadding=0;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,_b,_c,this._isRtl());nexacro.__setDOMNodeStyleSize(_g,_d,_e);nexacro.__setTextDOMNodeStyleAlignXY(_g,this.halign,this.valign);var _h=_a.createElement("tbody");var _i=_a.createElement("tr");var _j=_a.createElement("td");_j.style.whiteSpace="pre";_f.appendChild(_h);_h.appendChild(_i);_i.appendChild(_j);nexacro.__setDOMNodeStyleSize(_j.style,_d,_e);this._cell_node=_j;return _f;};_pTextBoxElement._destroyTextElementHandle=function(){};_pTextBoxElement._appendTextElementHandle=function(){};_pTextBoxElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;var _d=this._cell_node;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);nexacro.__setDOMNodeStyleSize(_d.style,_a,_b);}}};}else if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){_pTextBoxElement._createTextElementHandle=function(_a,_b,_c,_d,_e){var _f=_a.createElement("div");var _g=_f.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,_b,_c,this._isRtl());nexacro.__setDOMNodeStyleSize(_g,_d,_e);var _h=_a.createElement("div");var _i=_h.style;_i.display="table-cell";_i.whiteSpace="pre";_i.textOverflow=this._default_textoverflow;nexacro.__setDOMNodeStyleSize(_i,_d,_e);this._cell_node=_h;return _f;};_pTextBoxElement._appendTextElementHandle=function(_a,_b){nexacro.__appendDOMNode(_a,_b);};_pTextBoxElement._destroyTextElementHandle=function(){nexacro.__removeDOMNode(this._handle,this._cell_node);};_pTextBoxElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}_c=this._cell_node;if(_c){_c.style.textOverflow="";nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);_c.style.textOverflow=this._default_textoverflow;}}};}_pTextBoxElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=this._createTextElementHandle(_b,this.left,this.top,this.width,this.height);_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;var _e=this._cell_node;var _f=_e.style;var _g=this._isRtl();if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_f,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}if(this.align){var _h=this.align._getStyleObject(_g);nexacro.__setDOMNodeStyleAlign(_f,_h);}else if(this.halign&&this.valign){var _i=this.halign;if(_g){_i=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}nexacro.__setDOMNodeStyleAlignXY(_f,_i,this.valign);}if(this.padding){var _j=this.padding._getStyleObject(_g);nexacro.__setDOMNodeStylePadding(_f,_j);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){if(_g){nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_right,this.padding_top,this.padding_left,this.padding_bottom);}else{nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_f,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_e,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_e,this.decoration);}else{nexacro.__setDOMNodeText(_e,this.text,this._use_newline,this.wordwrap);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._appendTextElementHandle(_c,_e);}};_pTextBoxElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}if(this._cell_node){this._destroyTextElementHandle();}this._owner_elem=null;this._handle=this._dest_handle=null;this._cell_node=null;}this.parent=null;this._parent_elem=null;};_pTextBoxElement.setParentElement=function(_a){this.parent=_a;this._parent_elem=_a;};_pTextBoxElement.setElementFont=function(_a){this.font=_a;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStyleFont(_b.style,_a);}};_pTextBoxElement.setElementColor=function(_a){this.color=_a;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStyleColor(_b.style,_a);}};_pTextBoxElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._cell_node;if(_c){_c.style.textOverflow="";nexacro.__setTextDOMNodeStyleAlign(_c.style,_b);_c.style.textOverflow=this._default_textoverflow;}};_pTextBoxElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._cell_node;if(_d){_d.style.textOverflow="";nexacro.__setTextDOMNodeStyleAlignXY(_d.style,_c,_b);_d.style.textOverflow=this._default_textoverflow;}};_pTextBoxElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStylePadding(_b.style,_a);}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8){_pTextBoxElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._cell_node;if(_e){var _f=this.width-_a-_c;var _g=this.height-_b-_d;if(this._isRtl()){nexacro.__setDOMNodeStylePaddingXY(_e.style,_c,_b,_a,_d);}else{nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}nexacro.__setDOMNodeStyleSize(_e.style,_f,_g);}};}else{_pTextBoxElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._cell_node;if(_e){var _f=this.width-_a-_c;var _g=this.height-_b-_d;if(this._isRtl()){nexacro.__setDOMNodeStylePaddingXY(_e.style,_c,_b,_a,_d);}else{nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}nexacro.__setDOMNodeStyleSize(_e.style,_f,_g);}};}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Safari"){_pTextBoxElement.setElementText=function(_a){if(this.text!==_a){if(_a==null){this.text="";}else{this.text=_a.replace(/\r\n|\r/g,"\n");}var _b=this._cell_node;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};}else{_pTextBoxElement.setElementText=function(_a){if(this.text!==_a){if(_a==null){this.text="";}else{this.text=_a.replace(/\r\n|\r|\n/g,"\r\n");}var _b=this._cell_node;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};}_pTextBoxElement.setElementLineSpace=function(_a){if(this.linespace!=_a){this.linespace=_a;var _b=this._cell_node;if(_b){var _c=this._parent_elem.linkedcontrol;if(_c){var _d=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());_a=_d[1]+nexacro._toInt(_a);}nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}}};_pTextBoxElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStyleLetterSpace(_b.style,_a);}}};_pTextBoxElement.setElementDecorateText=function(_a){if(this.decoration!=_a){this.decoration=_a;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStyleDecorateText(_b,_a);}}};_pTextBoxElement.setElementUseNewLine=function(_a){if(this._use_newline!=_a){this._use_newline=_a;var _b=this._cell_node;if(_b){if(this.wordwrap!="none"){return;}nexacro.__setDOMNodeText(cell_node,this.text,this._use_newline,this.wordwrap);}}};_pTextBoxElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){this.wordwrap=_a;var _b=this._cell_node;if(_b){if(_a!="none"){nexacro.__setDOMNodeWordWrap(_b,_a);}else if(this._use_newline){nexacro.__setDOMNodeWordWrap(_b,"none");}else{_b.innerHTML="";nexacro.__setDOMNodeWordWrap(_b,"none");}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_b,this.decoration);}else{nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}}};_pTextBoxElement.setElementTextOverFlow=function(){var _a=this._cell_node;if(_a){nexacro.__setDOMNodeStyleTextOverFlow(_a.style);}};_pTextBoxElement._setElementAccessibilityRole=function(){if(this._handle){nexacro.__setDOMNodeAccessibilityRole(this._handle,"option");}};_pTextBoxElement._setElementAccessibilityLabel=function(){if(this._parent_elem&&this._handle){var _a=this._parent_elem._makeAccessibilityLabelbyReadtype();nexacro.__setDOMNodeAccessibilityLabel(this._handle,_a);}};_pTextBoxElement._setElementTextRtlDirection=nexacro._emptyFn;delete _pTextBoxElement;nexacro.ImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pImageElement=nexacro._createPrototype(nexacro.Element,nexacro.ImageElement);nexacro.ImageElement.prototype=_pImageElement;_pImageElement._type_name="ImageElement";_pImageElement.imageurl="";_pImageElement.image_width=0;_pImageElement.image_height=0;_pImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=5;if(application._is_waitCursor){nexacro.__setDOMNodeSelectable(_c,true);}else{nexacro.__setDOMNodeSelectable(_c,false);}var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);var _e=_b.createElement("img");var _f=_e.style;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){nexacro.__setDOMNodeStyleAbsolute(_f);}nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);if(application._is_waitCursor){nexacro.__setDOMNodeSelectable(_e,true);}else{nexacro.__setDOMNodeSelectable(_e,false);}nexacro.__setDOMNodeAlt(_e,this._parent_elem.accessibility_label?this._parent_elem.accessibility_label:this._parent_elem.linkedcontrol.id);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.imageurl){nexacro.__setImageDOMNodeImageUrl(_e,this.imageurl);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_f,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_c;this._image_handle=_e;nexacro.__appendDOMNode(_a._dest_handle,_c);nexacro.__appendDOMNode(_c,_e);}};_pImageElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}if(this._image_handle){nexacro.__removeDOMNode(_a,this._image_handle);}this._owner_elem=null;this._handle=this._dest_handle=null;this._image_handle=null;}this.parent=null;this._parent_elem=null;};_pImageElement.setElementImageUrl=function(_a){var _b=this;while(!_b.linkedcontrol){_b=_b.parent;}var _c=_b.linkedcontrol._lastest_imgurl;var _d=true;if(_c!=undefined){_d=(_c==_a);}if(this.imageurl!=_a&&_d){_a=nexacro._getURIValue(_a);if(this.imageurl==_a){return;}if(_a&&!nexacro._isAbsolutePath(_a)){var _e=this._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_e);if(this.imageurl==_a){return;}}this.imageurl=_a;var _f=this._image_handle;if(_f){nexacro.__setImageDOMNodeImageUrl(_f,_a);}}};_pImageElement.setElementImageBase64=function(_a){if(this.imageurl!=_a){var _b=this._image_handle;this.imageurl=_a;if(_b){nexacro.__setImageDOMNodeImageUrl(_b,_a);}}};_pImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;if(!_a&&_b){this.mirror=_b;}var _d=this._image_handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(this._image_handle.style,this.mirror&&this._isRtl());}}};_pImageElement.setElementPosition=function(_a,_b,_c){if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;var _d=this._handle;if(_d){nexacro.__setDOMNodeStylePos(_d.style,_a,_b,this._isRtl());}}};_pImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}var _d=this._image_handle;if(_d){nexacro.__setDOMNodeStyleSize(_d.style,_a,_b);}}};_pImageElement.setElementHandleImageObject=nexacro._emptyFn;_pImageElement.getImageCount=nexacro._emptyFn;_pImageElement.setImageIndex=nexacro._emptyFn;delete _pImageElement;nexacro.AlignImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pAlignImageElement=nexacro._createPrototype(nexacro.Element,nexacro.AlignImageElement);nexacro.AlignImageElement.prototype=_pAlignImageElement;_pAlignImageElement._type_name="AlignImageElement";_pAlignImageElement.align=null;_pAlignImageElement.halign="";_pAlignImageElement.valign="";_pAlignImageElement.imageurl="";if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=7){_pAlignImageElement._image_width=0;_pAlignImageElement._image_height=0;_pAlignImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("img");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=5;nexacro.__setDOMNodeSelectable(_c,false);nexacro.__setDOMNodeAlt(_c,"");var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.imageurl){nexacro.__setImageDOMNodeImageUrl(_c,this.imageurl);}if(this.align){var _e=this.align;nexacro.__setElementHandleAlign(_c,_e.halign,_e.valign);}else if(this.halign&&this.valign){this._setElementAlignXY(_c);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pAlignImageElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._handle;if(_b){this._setElementAlignXY(_b);}};_pAlignImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(this._handle){this.setElementAlignXY(this.halign,this.valign);}}};_pAlignImageElement.setElementAlignXY=function(_a,_b){this.align=null;this.halign=_a;this.valign=_b;var _c=this._handle;if(_c){this._setElementAlignXY(_c);}};_pAlignImageElement._setElementAlignXY=function(_a){var _b=0,_c=0,_d=0,_e=0;if(this.width>0){_b=this.imageurl?this._image_width:this.width;var _f=this.halign;if(this._isRtl()){_f=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}switch(_f){case "left":_d=0;break;case "right":_d=this.width-_b;break;default:_d=((this.width-_b)/2)|0;break;}}if(this.height>0){_c=this.imageurl?this._image_height:this.height;switch(this.valign){case "top":_e=0;break;case "bottom":_e=this.height-_c;break;default:_e=((this.height-_c)/2)|0;break;}}var _g=_a.style;nexacro.__setDOMNodeStylePos(_g,_d,_e,this._isRtl());nexacro.__setDOMNodeStyleSize(_g,_b,_c);};_pAlignImageElement.setElementImageUrl=function(_a){if(this.imageurl!=_a){_a=nexacro._getURIValue(_a);if(this.imageurl==_a){return;}if(_a&&!nexacro._isAbsolutePath(_a)){var _b=this._parent_elem._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_b);if(this.imageurl==_a){return;}}this.imageurl=_a;var _c=nexacro._getImageSize(_a,this._on_loadImg,this);if(_c){this._image_width=_c.width;this._image_height=_c.height;var _d=this._handle;if(_d){nexacro.__setImageDOMNodeImageUrl(_d,_a);this.setElementAlignXY(this.halign,this.valign);}}}};_pAlignImageElement._on_loadImg=function(_a,_b,_c){var _d=this._handle;this._image_width=_b;this._image_height=_c;if(_d&&this.imageurl==_a){nexacro.__setImageDOMNodeImageUrl(_d,_a);this.setElementAlignXY(this.halign,this.valign);}};}else{_pAlignImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=6;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;_d.position="absolute";nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);_d.backgroundRepeat="no-repeat";if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.align){nexacro.__setBKImageDOMNodeStyleAlign(_d,this.align);}else if(this.halign&&this.valign){nexacro.__setBKImageDOMNodeStyleAlignXY(_d,this.halign,this.valign);}if(this.imageurl){nexacro.__setBKImageDOMNodeStyleImageUrl(_d,this.imageurl);}if(this._owner_elem.mirror){nexacro.__setDOMNodeStyleTransformMirror(_d,this._owner_elem.mirror&&this._isRtl());}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pAlignImageElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._handle;if(_b){nexacro.__setBKImageDOMNodeStyleAlign(_b.style,_a);}};_pAlignImageElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setBKImageDOMNodeStyleAlignXY(_d.style,_c,_b);}};_pAlignImageElement.setElementImageUrl=function(_a){if(this.imageurl!=_a){_a=nexacro._getURIValue(_a);if(this.imageurl==_a){return;}if(_a&&!nexacro._isAbsolutePath(_a)){var _b=this._parent_elem._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_b);if(this.imageurl==_a){return;}}this.imageurl=_a;var _c=this._handle;if(_c){nexacro.__setBKImageDOMNodeStyleImageUrl(_c.style,_a);}}};}_pAlignImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;if(!this.mirror&&_b){this.mirror=_b;}var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete _pAlignImageElement;nexacro.InputElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pInputElement=nexacro._createPrototype(nexacro.Element,nexacro.InputElement);nexacro.InputElement.prototype=_pInputElement;_pInputElement._type_name="InputElement";_pInputElement.enable=true;_pInputElement.tabindex= -1;_pInputElement.font=null;_pInputElement.color=null;_pInputElement.cursor=null;_pInputElement.align=null;_pInputElement.halign="";_pInputElement.valign="";_pInputElement.padding=null;_pInputElement.padding_left=0;_pInputElement.padding_top=0;_pInputElement.padding_right=0;_pInputElement.padding_bottom=0;_pInputElement.useime="global";_pInputElement.imemode="auto";_pInputElement.readonly=false;_pInputElement.maxlength= -1;_pInputElement.password=false;_pInputElement.text="";_pInputElement.value="";_pInputElement.displaynulltext="";_pInputElement.color=null;_pInputElement.caretcolor=null;_pInputElement.selectcolor=null;_pInputElement.selectbackground=null;_pInputElement.compositecolor=null;_pInputElement.tabindentsize=4;_pInputElement.usesoftkeyboard=true;_pInputElement.usemultiline=false;_pInputElement.linespace=0;_pInputElement.wordwrap="none";_pInputElement.type="normal";_pInputElement._keypad_type="text";_pInputElement._orgtype="text";_pInputElement._tap_blocked=false;_pInputElement._is_longpressed=false;_pInputElement._is_ios_composition=false;_pInputElement._is_ios_composition_returned=false;_pInputElement._handle=null;_pInputElement._input_handle=null;_pInputElement._display_elem=null;_pInputElement._type="text";_pInputElement._prev_x=0;_pInputElement._is_focused=false;_pInputElement._is_focusing=false;_pInputElement._accept_keyinput=false;_pInputElement._accept_blur_by_altkey=false;_pInputElement._is_mousedown=false;_pInputElement._is_input_touchstart=false;_pInputElement._isUseDelCaret=false;_pInputElement.setInputElementCompositeClear=nexacro._emptyFn;_pInputElement._setElementInputRtlDirection=nexacro._emptyFn;_pInputElement._isPreventDefault=function(_a,_b){_a=_a._getFromComponent(_a);return (_a[_b]&&_a[_b].defaultprevented);};_pInputElement._setElementInputRole=function(){var _a=this._parent_elem.accessibility_role;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeAccessibilityRole(_b,_a);}};_pInputElement._setElementInputLabel=function(){var _a=this._parent_elem._makeAccessibilityLabelbyReadtype();var _b=this._input_handle;if(_b){nexacro.__setDOMNodeAccessibilityLabel(_b,_a);}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){_pInputElement._wantAccessibilityAdditionalLabel=function(){var _a=this._parent_elem.accessibility_role;switch(_a){case "document":case "spinbutton":return false;break;default:return true;break;}};}else if(nexacro.Browser=="Chrome"){_pInputElement._wantAccessibilityAdditionalLabel=function(){return true;};}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pInputElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="";if(this.halign&&this.valign){var _c=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());_b=nexacro.__getInputHTMLStyleAlignXY(this.halign,this.valign,this.height,_c[1]);}var _d=nexacro.__getHTMLAttrEnable(this.enable)+nexacro.__getHTMLAttrReadOnly(this.readonly)+nexacro.__getHTMLAttrTabIndex(this.tabindex)+nexacro.__getHTMLAttrTabIndentSize(this.tabindentsize);var _e=nexacro.__getHTMLStyleAbsoluteTransparent()+nexacro.__getHTMLStylePos(0,0)+nexacro.__getHTMLStyleSize(this.width,this.height)+"border:none;outline:none;"+nexacro.__getHTMLStyleFont(this.font)+nexacro.__getHTMLStyleColor(this.color)+_b+nexacro.__getHTMLStyleCursor(this.cursor,"text")+nexacro.__getHTMLStylemeMode(this.imemode);var _f="";if(this.password&&this.maxlength>0){var _f=nexacro.__getHTMLAttrMaxLength(this.maxlength);}var _g=" type='"+this._type+"'";var _h=" value='"+(this.text?nexacro._encodeXml(this.text):"")+"'";var _i=" id='"+this.parent._handle.id+"_input'";var _j="<input"+_f+_g+_i+_d+_h+" style='"+_e+"'/>";_a.innerHTML=_j;var _k=_a.firstChild;_k._linked_element=this;if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_k,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_k,this._parent_elem.accessibility_role);}return _k;}};}else{_pInputElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="input";var _c=this._owner_elem.getRootWindowHandle();var _d=_c.createElement(_b);_d._linked_element=this;nexacro.__setDOMNodeId(_d,this.parent._handle.id,"_"+_b);_a.style.webkitUserSelect="initial";if(!this.enable){if(nexacro.OS=="iOS"){_d.style.opacity=1;_d.style.webkitTextFillColor=this.color?this.color._syscolor:"";}nexacro.__setDOMNodeEnable(_d,false);}if(this.readonly){nexacro.__setDOMNodeReadOnly(_d,true);}if(this.tabindex>= -1){nexacro.__setDOMNodeTabIndex(_d,this.tabindex);}if(this._type){nexacro.__changeInputDOMNodeType(_d,this._type);}if(this.password&&this.maxlength>0){nexacro.__setDOMNodeMaxLength(_d,this.maxlength);}var _e=_d.style;_e.border="none";_e.outline="none";nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);nexacro.__setDOMNodeStyleCursor(_e,this.cursor,"text");if(this.font){nexacro.__setDOMNodeStyleFont(_e,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_e,this.color);}if(this.halign&&this.valign){var _f=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_e,this.halign,this.valign,this.height,this.width,_f[1]);}if(this.tabindentsize>4){nexacro.__setDOMNodeTabIndentSize(_d,this.tabindentsize);}if(this.text){nexacro.__setDOMNodeValue(_d,this.text);}if(this.imemode){nexacro.__setDOMNodeImeMode(_d,this.imemode);}if((nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11))&&nexacro.SystemLang=="ko-KR"){if(this.type){if(this.type.indexOf("normal")== -1&&this.type.indexOf("full")== -1){nexacro.__setDOMNodeImeMode(_d,"disabled");}else{nexacro.__setDOMNodeImeMode(_d,this.imemode);}}}nexacro.__appendDOMNode(_a,_d);if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_d,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_d,this._parent_elem.accessibility_role);}return _d;}};};_pInputElement._destroyInputHandle=function(){if(this._input_handle){this._input_handle._linked_element=null;nexacro.__removeDOMNode(this._dest_handle,this._input_handle);this._input_handle=null;}};_pInputElement._createPlaceHolderElement=function(_a){var _b=this._display_elem;if(this._handle&&!_b){var _b=this._display_elem=new nexacro.TextBoxElement(this);_b.setElementSize(this.width,this.height);_b.setElementFont(this.font);_b.setElementLetterSpace(this.letterspace);_b.setElementColor(this.displaynulltextcolor);_b.setElementAlignXY(this.halign,this.valign);_b.setElementVisible(!!_a);_b.setElementText(this.displaynulltext);_b.create();nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_b._handle,true);if(nexacro.SupportTouch&&nexacro.isTouchInteraction){nexacro._observeSysEvent(_b._handle,"touchstart","ontouchstart",this._inputhandler_displayelement_ontouchstart_forward);}return _b;}};_pInputElement._destroyPlaceHolderElement=function(){if(this._display_elem){this._display_elem.destroy();this._display_elem=null;}};_pInputElement._createFakeFocusElement=function(){var _a=this._fake_input_handle;if(this._handle&&!_a){var _b=document.createElement("input");_b.type="text";var _c=_b.style;nexacro.__setDOMNodeTabIndex(_b, -1);nexacro.__setDOMNodeStyleAbsolute(_c);nexacro.__setDOMNodeStylePos(_c,0, -10,this._isRtl());nexacro.__setDOMNodeStyleSize(_c,1,1);_c.opacity=0;_c.border="0px solid #ffffff";this._fake_input_handle=_b;nexacro.__appendDOMNode(this._handle,_b);}};_pInputElement._destroyFakeFocusElement=function(){if(this._fake_input_handle){nexacro.__removeDOMNode(this._handle,this._fake_input_handle);this._fake_input_handle=null;}};_pInputElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){var _b=this._handle;var _c=_a.getRootWindowHandle();if(!_b){this._owner_elem=_a;_b=_c.createElement("div");_b.id=this._parent_elem._handle.id+this._type_name;_b._linked_element=this;_b._element_type=7;var _d=_b.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_d,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}nexacro.__setDOMNodeStyleCursor(_d,this.cursor);this._handle=this._dest_handle=_b;nexacro.__appendDOMNode(_a._dest_handle,_b);this._input_handle=this._createInputHandle();}var _e=this._display_elem;if(this.displaynulltext&&!_e){this._createPlaceHolderElement(this.value?false:true);}}};_pInputElement.destroy=function(){this._destroyPlaceHolderElement();this._destroyInputHandle();if(this._input_handle){this._input_handle._linked_element=null;nexacro.__removeDOMNode(this._dest_handle,this._input_handle);this._input_handle=null;}this.color=null;this.cursor=null;this.font=null;this.padding=null;this.selectbackground=null;this.selectcolor=null;this.letterspace=null;return nexacro.Element.prototype.destroy.call(this);};_pInputElement.setElementPosition=function(_a,_b,_c){if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;var _d=this._handle;if(_d){nexacro.__setDOMNodeStylePos(_d.style,_a,_b,this._isRtl());}var _e=this._input_handle;if(_e){nexacro.__setDOMNodeStylePos(_e.style,_a,_b,this._isRtl());}var _f=this._display_elem;if(_f){_f.setElementPosition(_a,_b,this._isRtl());}}};_pInputElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}var _d=this._input_handle;if(_d){var _e=this.getElementCaretPos();nexacro.__setDOMNodeStyleSize(_d.style,_a,_b);this.setElementAlignXY(this.halign,this.valign);var _f=this.getElementCaretPos();if((_e!= -1&&_f!= -1)&&(_e.begin!=_f.begin||_e.end!=_f.end)){this.setElementSetSelect(0,0);this.setElementSetSelect(_e.begin,_e.end);}}var _g=this._display_elem;if(_g){_g.setElementSize(_a,_b);}}};_pInputElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._parent_elem.linkedcontrol;var _c=this._input_handle;if(_c){nexacro.__setDOMNodeEnable(_c,_a);if(nexacro.OS=="iOS"&&_b){var _d=_b.on_find_CurrentStyle_color(_b._pseudo);if(_a){_c.style.opacity="";_c.style.webkitTextFillColor="";}else{_c.style.opacity=1;_c.style.webkitTextFillColor=_d._syscolor;}}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==9){this._isUseDelCaret=_a?false:true;this._deleteCaret();}}}};_pInputElement.setElementTabIndex=function(_a){if(this.tabindex!=_a){this.tabindex=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeTabIndex(_b,_a);}}};_pInputElement.setElementFont=function(_a){this.font=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleFont(_b.style,_a);}var _c=this._display_elem;if(_c){_c.setElementFont(_a);}};_pInputElement.setElementColor=function(_a){this.color=_a;var _b=this._parent_elem.linkedcontrol;var _c=this._input_handle;if(_c){if(nexacro.OS=="iOS"&&_b){if(_b._isEnable()){_c.style.opacity="";_c.style.webkitTextFillColor="";nexacro.__setDOMNodeStyleColor(_c.style,_a);}else{_c.style.opacity=1;_c.style.webkitTextFillColor=_a._syscolor;nexacro.__setDOMNodeStyleColor(_c.style,_a);}}else{nexacro.__setDOMNodeStyleColor(_c.style,_a);}}var _d=this._display_elem;if(_d){_d.setElementColor(this.displaynulltextcolor);}};_pInputElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleLetterSpace(_b.style,_a);}var _c=this._display_elem;if(_c){_c.setElementLetterSpace(_a);}}};_pInputElement.setElementCursor=function(_a){this.cursor=_a;var _b=_a;var _c=this._handle;var _d=this._input_handle;if(_c&&_d){if(!this.readonly&&this.enable&&_b&&_b._value=="auto"){_b=nexacro._getCachedStyleObj("cursor","text");}nexacro.__setDOMNodeStyleCursor(_c.style,_b);nexacro.__setDOMNodeStyleCursor(_d.style,_b);}var _e=this._display_elem;if(_e){_e.setElementCursor(_b);}};_pInputElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._input_handle;if(_c){var _d=this.padding;var _e=_d?this.width-_d.left-_d.right:this.width;var _f=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_c.style,_b._halign,_b._valign,this.height,_e,_f[1]);}var _g=this._display_elem;if(_g){_g.setElementAlign(_a);}};_pInputElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._input_handle;if(_d){var _e=this.padding;var _f=_e?this.width-_e.left-_e.right:this.width;if(_f<0){_f=0;}var _g=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_d.style,_c,_b,this.height,_f,_g[1]);}var _h=this._display_elem;if(_h){_h.setElementAlignXY(_a,_b);}};_pInputElement.setElementPadding=function(_a){this.padding=_a;var _b=this._isRtl();var _c=_a;_c=_a?_a._getStyleObject(_b^this.mirror):null;var _d=this._input_handle;if(_d){nexacro.__setDOMNodeStylePadding(_d.style,_c);}var _e=this._display_elem;if(_e){_e.setElementPadding(_c);}};_pInputElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._input_handle;if(_e){nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}};_pInputElement.setElementValue=function(_a,_b,_c){var _d=this._input_handle;var _e=this._parent_elem.linkedcontrol;var _f=_e._edit_base_api;if(!_e._is_alive){return;}var _g=(this.value===_a)?false:true;var _h=(_a=="")?true:false;if(_f){this.text=_f._text;}else{this.text=_a;}this.value=_a;if(_c){return;}if(_d){var _i=nexacro.__getDOMNodeValue(_d);var _j=(this.text==_i)?false:true;if(_g||_j||_h||_b){this._updateInputValue();}}};_pInputElement._updateInputValue=function(){var _a=this._input_handle;var _b=this._display_elem;var _c=this._parent_elem.linkedcontrol;var _d=_c._edit_base_api;var _e=this.displaynulltext;var _f=nexacro._checkActiveElement(this);var _g=nexacro.__getDOMNodeValue(_a);if(this.value!==undefined&&this.value!==null){this._setInputVisible(true);if(_g!=this.text){nexacro.__setDOMNodeValue(_a,this.text);}}else if(!_f&&_e&&_e.length>0){this._setInputVisible(false);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8&&_c._is_subcontrol&&(_c._displaymode||_c.parent._displaymode)){nexacro.__setDOMNodeValue(_a,_e);}else{if(_g!=this.text){nexacro.__setDOMNodeValue(_a,this.text);}_b.setElementText(_e);}}else{this._setInputVisible(true);if(_d&&(_d._type_name=="EditMaskString"||_d._type_name=="EditMaskNumber"||_d._type_name=="EditMaskDate")){if(_g!=this.text){nexacro.__setDOMNodeValue(_a,this.text);}}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8&&_c._is_subcontrol&&(_c._displaymode||_c.parent._displaymode)){nexacro.__setDOMNodeValue(_a," ");}else{nexacro.__setDOMNodeValue(_a,"");}}}};_pInputElement.setElementDisplayNullText=function(_a){var _b=this._handle;var _c=this._input_handle;var _d=false;if(this.displaynulltext!=_a){_d=true;this.displaynulltext=_a;}if(_b&&_c){var _e=this._display_elem;if(_a){if(!_e){this._createPlaceHolderElement(false);}}else{if(_e){this._destroyPlaceHolderElement();}}if(_d&&nexacro._isNull(this.value)){this._updateInputValue();}}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9){_pInputElement._setInputVisible=function(_a){if(this._input_visible!=_a){this._input_visible=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}var _c=this._display_elem;if(_c){_c.setElementVisible(!_a);}}};}else if(nexacro.Browser=="MobileSafari"){_pInputElement._setInputVisible=function(_a){var _b=this._input_handle;if(_b){if(!(nexacro._enableaccessibility&&nexacro._accessibilitytype==4)){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}}var _c=this._display_elem;if(_c){if(!_a){_c.setElementSize(this.width,this.height);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){nexacro.__setDOMNodeAccessibilityLabel(this._input_handle,this._parent_elem.accessibility_label+" "+this.displaynulltext);}}else{_c.setElementSize(0,0);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){nexacro.__setDOMNodeAccessibilityLabel(this._input_handle,this._parent_elem.accessibility_label);}}_c.setElementVisible(!_a);if(_a){this._is_input_touchstart=false;}}};}else{_pInputElement._setInputVisible=function(_a){var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}var _c=this._display_elem;if(_c){if(!_a){_c.setElementSize(this.width,this.height);}else{_c.setElementSize(0,0);}_c.setElementVisible(!_a);}};}_pInputElement.setElementMaxLength=function(_a){if(this.maxlength!=_a){this.maxlength=_a;var _b=this._input_handle;if(_b){if(this.password&&_a>0){nexacro.__setDOMNodeMaxLength(_b,_a);}else{_b.removeAttribute("maxlength");}}}};_pInputElement.setElementReadonly=function(_a){if(this.readonly!=_a){this.readonly=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeReadOnly(_b,_a);if(_a){this._deleteCaret();}}}};_pInputElement.setElementCaretColor=function(_a){this.caretcolor=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeCaretColor(_b,_a);}};_pInputElement.setElementSelectColor=function(_a){this.selectcolor=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeSelectColor(_b,_a);}};_pInputElement.setElementDisplayNullTextColor=function(_a){this.displaynulltextcolor=_a;var _b=this._display_elem;if(_b){_b.setElementColor(_a);}};_pInputElement.setElementSelectBackgroundColor=function(_a){this.selectbackground=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeSelectBackgroundColor(_b,_a);}};_pInputElement.setElementCompositeColor=function(_a){this.compositecolor=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeCompositeColor(_b,_a);}};_pInputElement.setElementTabindentSize=function(_a){this.tabindentsize=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeTabIndentSize(_b,_a);}};_pInputElement.setElementLineSpace=function(_a){};_pInputElement.setElementWordWrap=function(_a){};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_pInputElement.setElementPassword=function(_a){if(this.password!=_a){this.password=_a;this._type=_a?"password":"text";var _b=this.maxlength;var _c=this._input_handle;if(_c){var _d=nexacro.__changeInputDOMNodeType(_c,this._type);if(_a){if(_b>0){nexacro.__setDOMNodeMaxLength(_d,_b);}else{_d.removeAttribute("maxlength");}}else{_d.removeAttribute("maxlength");}if(_d!=_c){this._unBindEvent();_d._linked_element=this;this._input_handle=_d;this._bindEvent();if(this._is_focused){this.setElementFocus();}}}}};}else{_pInputElement.setElementPassword=function(_a){if(this.password!=_a){this.password=_a;this._type=_a?"password":"text";var _b=this.maxlength;var _c=this._input_handle;if(_c){nexacro.__changeInputDOMNodeType(_c,this._type);if(_a){if(_b>0){nexacro.__setDOMNodeMaxLength(_c,_b);}else{_c.removeAttribute("maxlength");}}else{_c.removeAttribute("maxlength");}}}};}if(nexacro.SupportTouch&&nexacro.isTouchInteraction){_pInputElement.setElementInputType=function(_a,_b){if(!_b){this._orgtype=_a;}if(_a=="number"){if(nexacro.OS!="iOS"){_a="tel";}}else if(_a=="digit"){_a="tel";}else if(_a=="tel"){_a="tel";}else if(_a!=="date"){_a="text";}if(this._type!=_a){this._type=_a;var _c=this._input_handle;if(_c){nexacro.__changeInputDOMNodeType(_c,this._type);if(nexacro.OS=="iOS"&&(this._keypad_type=="change"||this._keypad_type=="changed")){this.setElementValue(this.text);}}}};_pInputElement.setElementInputTypeKeypad=function(_a){if(_a=="string"){var _b=this._parent_elem.linkedcontrol;var _c=0;var _d=_b.mask;var _e=_d.length;var _f="@ * 9 A a Z z";for(var _l=0;_l<_e;_l++ ){var _g=_d[_l];_c=_f.indexOf(_g);if(_c>=0){break;}}if(_c<0){this._keypad_type="number";}else{this._keypad_type="text";}}else if(_a=="change"||_a=="changed"){this._keypad_type=_a;}else if(_a=="tel"){this._keypad_type=_a;}else if(_a=="digit"){this._keypad_type=_a;}else{var _c=0;var _h=_a.split(",");var _e=_h.length;var _i=[];var _j="number dot comma digit sign";for(var _l=0;_l<_e;_l++ ){var _g=_h[_l];_c=_j.search(_g);if(_c<0){break;}}if(_c>=0){this._keypad_type="number";}else{this._keypad_type="text";}}if(this._keypad_type=="number"){if(nexacro.OS=="Android"){this._type="tel";var _k=this._input_handle;if(_k){nexacro.__changeInputDOMNodeType(_k,this._type);}}}if(this._keypad_type=="digit"){if(nexacro.OS=="Android"||nexacro.OS=="iOS"){this._type="tel";var _k=this._input_handle;if(_k){nexacro.__changeInputDOMNodeType(_k,this._type);}}}};}else{if((nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11))&&nexacro.SystemLang=="ko-KR"){_pInputElement.setElementInputType=function(_a){var _b=this._input_handle;if(_b){if(_a.indexOf("normal")== -1&&_a.indexOf("full")== -1){nexacro.__setDOMNodeImeMode(_b,"disabled");}else{nexacro.__setDOMNodeImeMode(_b,this.imemode);}}this.type=_a;this._type="text";};}else{_pInputElement.setElementInputType=function(_a){this._type="text";};}_pInputElement.setElementInputTypeKeypad=function(_a){};};_pInputElement.setElementUseSoftKeyboard=function(_a){if(this.usesoftkeyboard!=_a){this.usesoftkeyboard=_a;}};_pInputElement.setElementUseIme=function(_a){if(this.useime!=_a){this.useime=_a;}};_pInputElement.setElementImeMode=function(_a){if(this.imemode!=_a){this.imemode=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeImeMode(_b,_a);}}};_pInputElement.setElementFocus=function(_a){var _b=this._input_handle;if(_b){this._is_focusing=true;this._setInputVisible(true);if(nexacro.isTouchInteraction||((nexacro.Browser=="IE")&&nexacro.SupportTouch)){if(!this._is_input_touchstart||_a){var _c=this._parent_elem.linkedcontrol;nexacro.__setInputDOMNodeFocus(_b);}this._is_input_touchstart=false;}else{nexacro.__setInputDOMNodeFocus(_b);}nexacro.__setLastFocusedElement(this);}};_pInputElement.setElementBlur=function(){var _a=this._input_handle;if(_a){nexacro.__setDOMNodeBlur(_a);}};_pInputElement.setElementSetSelect=function(_a,_b){var _c=this._input_handle;if(_c){var _d=this.getRootWindowHandle();var _e=this.getElementValue();var _f=_e.length;_b=(_b== -1?_f:_b);var _g=_b-_a;if(_d){if(_g==_f){if(nexacro.isTouchInteraction&&nexacro.OS=="iOS"){nexacro.__setDOMNodeSetSelect(_d,_c,_a,_b);}else{nexacro.__setDOMNodeSelect(_d,_c);}}else{nexacro.__setDOMNodeSetSelect(_d,_c,_a,_b);}}}};_pInputElement.getElementId=function(){var _a=this._input_handle;if(_a){return _a.id;}return  -1;};_pInputElement.inputElementAttributefillter=function(_a){if(_a=="accesskey"){return "accessKey";}else if(_a=="contenteditable"){return "contentEditable";}else if(_a=="tabindex"){return "tabIndex";}else{return _a;}};_pInputElement.getInputElementAttribute=function(_a){var _b=this._input_handle;if(_b){var _c=_b[this.inputElementAttributefillter(_a)];if(_c){return _c;}else{return undefined;}}return undefined;};_pInputElement.setInputElementAttribute=function(_a,_b){var _c=this._input_handle;if(_c){_a=this.inputElementAttributefillter(_a);if(_a){_c.setAttribute(_a,_b);return true;}else{return false;}}return false;};_pInputElement.getElementCaretPos=function(){var _a=this._input_handle;var _b=nexacro._checkActiveElement(this);if(_a&&_b){var _c=this.getRootWindowHandle();if(_c){return nexacro.__getDOMNodeCaretPos(_c,_a);}}return  -1;};_pInputElement.getElementSelectionRange=function(){var _a=this._input_handle;var _b=this.getRootWindowHandle();if(_a&&_b){var _c=nexacro.__getDOMNodeCaretPos(_b,_a);return [_c.begin,_c.end];}return [0,0];};_pInputElement.getCaretLine=function(){return 1;};_pInputElement.getScrollLeft=function(){var _a=this._input_handle;if(_a){if(nexacro.Browser=="Edge"){var _b=_a.scrollLeft;var _c=this._parent_elem.linkedcontrol;var _d=_c?_c._edit_base_api:null;if(_d&&_d._pasteAction){return _b+3;}}var _e=nexacro.__convertScrollLeftFromDOMNode(_a);return _e;}return 0;};_pInputElement.setScrollLeft=function(_a){var _b=this._input_handle;if(_b){var _c=nexacro.__convertScrollLeftFromDOMNode(_b,_a);_b.scrollLeft=_c;}};_pInputElement.getScrollTop=function(){var _a=this._input_handle;if(_a){return _a.scrollTop;}return 0;};_pInputElement.setScrollTop=function(_a){var _b=this._input_handle;if(_b){_b.scrollTop=_a;}};_pInputElement.getScrollWidth=function(){var _a=this._input_handle;if(_a){return _a.scrollWidth;}return 0;};_pInputElement.getScrollHeight=function(){var _a=this._input_handle;if(_a){return (_a.clientHeight>_a.scrollHeight?_a.clientHeight:_a.scrollHeight);}return 0;};_pInputElement.getElementValue=function(){var _a=this._input_handle;if(_a){return nexacro.__getDOMNodeValue(_a);}return "";};_pInputElement.setElementAccessibilityRole=function(_a){var _b=nexacro._roleList[_a];var _c=this._input_handle;if(_c){nexacro.__setDOMNodeAccessibilityRole(_c,_b);}};_pInputElement._checkActiveElement=function(){var _a=this._input_handle;var _b=true;if(_a){_b=nexacro._checkActiveElement(this);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pInputElement._bindEvent=function(){var _a=this._input_handle;if(typeof _a.onpropertychange!=="undefined"){_a.attachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);}else{nexacro._observeSysEvent(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._observeSysEvent(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._observeSysEvent(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._observeSysEvent(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);}nexacro._observeSysEvent(_a,"focus","onfocus",this._inputhandler_onfocus_forward);nexacro._observeSysEvent(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._observeSysEvent(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._observeSysEvent(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._observeSysEvent(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._observeSysEvent(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._observeSysEvent(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._observeSysEvent(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._observeSysEvent(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._observeSysEvent(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._observeSysEvent(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._observeSysEvent(_a,"select","onselect",this._inputhandler_onselect_forward);};_pInputElement._unBindEvent=function(){var _a=this._input_handle;if(_a){if(typeof _a.onpropertychange!=="undefined"){_a.detachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);if(_a.type!="password"){nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}}else{nexacro._stopSysObserving(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._stopSysObserving(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._stopSysObserving(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._stopSysObserving(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}nexacro._stopSysObserving(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._stopSysObserving(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._stopSysObserving(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._stopSysObserving(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._stopSysObserving(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._stopSysObserving(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._stopSysObserving(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._stopSysObserving(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._stopSysObserving(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._stopSysObserving(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._stopSysObserving(_a,"select","onselect",this._inputhandler_onselect_forward);}};_pInputElement._inputhandler_onkeyinput_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;if(_a.propertyName===undefined||_a.propertyName=="value"){return nexacro._inputhandler_onkeyinput(_b,_a);}};_pInputElement._inputhandler_oncopy_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncopy(_b,_a);};_pInputElement._inputhandler_oncut_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncut(_b,_a);};_pInputElement._inputhandler_onpaste_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onpaste(_b,_a);};_pInputElement._inputhandler_oncompositionstart_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncompositionstart(_b,_a);};_pInputElement._inputhandler_oncompositionupdate_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncompositionupdate(_b,_a);};_pInputElement._inputhandler_oncompositionend_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncompositionend(_b,_a);};_pInputElement._inputhandler_onfocus_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onfocus(_b,_a);};_pInputElement._inputhandler_onblur_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onblur(_b,_a);};_pInputElement._inputhandler_onkeypress_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onkeypress(_b,_a);};_pInputElement._inputhandler_onmousedown_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onmousedown(_b,_a);};_pInputElement._inputhandler_onmouseup_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onmouseup(_b,_a);};_pInputElement._inputhandler_lock_onmouseup_forward=nexacro._emptyFn;_pInputElement._inputhandler_onmousemove_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onmousemove(_b,_a);};_pInputElement._inputhandler_lock_onmousemove_forward=nexacro._emptyFn;_pInputElement._inputhandler_ontouchstart_forward=function(_a){};_pInputElement._inputhandler_ontouchend_forward=function(_a){};_pInputElement._inputhandler_ontouchmove_forward=function(_a){};_pInputElement._inputhandler_onkeydown_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;var _c=_b._linked_element;var _d=_c._parent_elem.linkedcontrol._edit_base_api;if(_d&&_d._is_composition()&&(_a.keyCode==37||_a.keyCode==39)){_a.preventDefault();return false;}return nexacro._inputhandler_onkeydown(_b,_a);};_pInputElement._inputhandler_onkeyup_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onkeyup(_b,_a);};_pInputElement._inputhandler_onselect_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onselect(_b,_a);};if(nexacro.OSVersion>=6.0){_pInputElement._on_sys_keyinput=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){return;}if(nexacro.BrowserVersion==8){if(this._accept_keyinput||this._is_keydown){var _f=_e._edit_base_api;if((_f._ctrlkey&&_f._keycode==86)||(_f._shiftkey&&_f._keycode==45)){_f._pasteAction=true;}_e._on_input_keyinput(this);}else{this._accept_keyinput=true;}}else{_e._on_input_keyinput(this);}};}else{_pInputElement._on_sys_keyinput=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){return;}var _f=false;if(this._accept_keyinput||this._is_keydown){if(_e._edit_base_api._is_selected()&&_e._edit_base_api._keycode!=nexacro.KeyCode_ImeInput&&_e._edit_base_api._keycode!=8&&_e._edit_base_api._keycode!=46){_f=true;}_e._on_input_keyinput(this);this._accept_keyinput=_f;}};}_pInputElement._on_sys_copy=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_copy(this);};_pInputElement._on_sys_cut=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_cut(this);};_pInputElement._on_sys_paste=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_paste(this);};_pInputElement._on_sys_compositionstart=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionstart(_a);};_pInputElement._on_sys_compositionupdate=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionupdate(_a);};_pInputElement._on_sys_compositionend=function(_a){var _b=this._parent_elem.linkedcontrol;var _c=this;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}if(_a==""&&_b._edit_base_api._is_hangul&&!_b._edit_base_api._is_hangul(_a)){_a=_b._edit_base_api.getCompositionData(this);}_b._on_input_compositionend(_a);if(!(_a==""||(_b._edit_base_api._is_hangul&&_b._edit_base_api._is_hangul(_a)))){_b._edit_base_api._block_setcaret_mousemove=true;nexacro.OnceCallbackTimer.callonce(_b,function(){_b._edit_base_api._block_setcaret_mousemove=false;_c._on_sys_keyinput(this);});}};}else{_pInputElement._bindEvent=function(){var _a=this._input_handle;if(typeof _a.onpropertychange!=="undefined"){_a.attachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);}else{nexacro._observeSysEvent(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._observeSysEvent(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._observeSysEvent(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._observeSysEvent(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);}nexacro._observeSysEvent(_a,"focus","onfocus",this._inputhandler_onfocus_forward);nexacro._observeSysEvent(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._observeSysEvent(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._observeSysEvent(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._observeSysEvent(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._observeSysEvent(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._observeSysEvent(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._observeSysEvent(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._observeSysEvent(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._observeSysEvent(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._observeSysEvent(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._observeSysEvent(_a,"select","onselect",this._inputhandler_onselect_forward);if(nexacro.OS=="iOS"){var _b=(_a.ownerDocument||_a.document);nexacro._observeSysEvent(_b,"selectionchange","onselectionchange",this._inputhandler_onselectionchange_forward);}};_pInputElement._unBindEvent=function(){var _a=this._input_handle;if(_a){var _b=(_a.ownerDocument||_a.document);if(typeof _a.onpropertychange!=="undefined"){_a.detachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);if(_a.type!="password"){nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}}else{nexacro._stopSysObserving(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._stopSysObserving(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._stopSysObserving(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._stopSysObserving(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}nexacro._stopSysObserving(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._stopSysObserving(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._stopSysObserving(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._stopSysObserving(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._stopSysObserving(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._stopSysObserving(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._stopSysObserving(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._stopSysObserving(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._stopSysObserving(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._stopSysObserving(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._stopSysObserving(_a,"select","onselect",this._inputhandler_onselect_forward);if(nexacro.OS=="iOS"){nexacro._stopSysObserving(_b,"selectionchange","onselectionchange",this._inputhandler_onselectionchange_forward);}}};_pInputElement._inputhandler_oncopy_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncopy(_b,_a);};_pInputElement._inputhandler_oncut_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncut(_b,_a);};_pInputElement._inputhandler_onpaste_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onpaste(_b,_a);};_pInputElement._inputhandler_onkeyinput_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeyinput(_b,_a);};_pInputElement._inputhandler_oncompositionstart_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncompositionstart(_b,_a);};_pInputElement._inputhandler_oncompositionupdate_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncompositionupdate(_b,_a);};_pInputElement._inputhandler_oncompositionend_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncompositionend(_b,_a);};_pInputElement._inputhandler_onfocus_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onfocus(_b,_a);};_pInputElement._inputhandler_onblur_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onblur(_b,_a);};_pInputElement._inputhandler_onkeypress_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeypress(_b,_a);};_pInputElement._inputhandler_onmousedown_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onmousedown(_b,_a);};_pInputElement._inputhandler_onmouseup_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onmouseup(_b,_a);};_pInputElement._inputhandler_lock_onmouseup_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_lock_onmouseup(_b,_a);};_pInputElement._inputhandler_onmousemove_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onmousemove(_b,_a);};_pInputElement._inputhandler_lock_onmousemove_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_lock_onmousemove(_b,_a);};_pInputElement._inputhandler_onkeydown_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeydown(_b,_a);};_pInputElement._inputhandler_onkeyup_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeyup(_b,_a);};_pInputElement._inputhandler_onselect_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onselect(_b,_a);};_pInputElement._inputhandler_onselectionchange_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onselectionchange(_b,_a);};_pInputElement._on_sys_keyinput=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_keyinput(this);};_pInputElement._on_sys_copy=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_copy(this);};_pInputElement._on_sys_cut=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_cut(this);};_pInputElement._on_sys_paste=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_paste(this);};_pInputElement._on_sys_compositionstart=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}if(nexacro.OS=="iOS"){this._is_ios_composition=true;}_b._on_input_compositionstart(_a);};_pInputElement._on_sys_compositionupdate=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionupdate(_a);};_pInputElement._on_sys_compositionend=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionend(_a);if(nexacro.OS=="iOS"){this._is_ios_composition=false;}};}_pInputElement._inputhandler_displayelement_ontouchstart_forward=function(_a){var _b=this._linked_element.parent;var _c=_b._parent_elem.linkedcontrol;var _d=_c._getWindow();var _e=_d.getCurrentFocusPaths();var _f=_c;while(_f&&_f._is_nc_control){_f=_f.parent;}if(!_f){return;}if(_e){focuspath_index=nexacro._indexOf(_e,_f);}if(focuspath_index> -1){_b._setInputVisible(true);}};_pInputElement._on_sys_focus=function(_a){var _b=this._parent_elem.linkedcontrol;var _c=_b._edit_base_api;var _d=_b._getWindow();if(_d._is_active_window){var _e=_d.getCurrentFocusPaths();var _f=_b;while(_f&&_f._is_nc_control){_f=_f.parent;}if(!_f){return;}if(nexacro.OS=="iOS"&&this._keypad_type=="change"&&!this.readonly){var _g=_b.text;var _h=this;setTimeout(function(){_c._text=_g;_h.setElementInputType("text",true);if(_b.autoselect){var _l=_c._select_text=_c._text;_c._is_apply_autoselect=true;_c.setElementCaretPos(0,_l.length,_h);}_h.setElementInputTypeKeypad("changed");},500);}_f=_f._getRootComponent(_f);var _i= -1;if(_e){_i=nexacro._indexOf(_e,_f);}if(_i== -1){var _j=_e?_e[_e.length-1]:null;if(_j){_j._re_focus=true;if(nexacro.Browser=="Safari"){if(_c._is_composition()){nexacro.OnceCallbackTimer.callonce(_j,function(){_j.on_apply_custom_setfocus();});}else{_j.on_apply_custom_setfocus();}}else{_j.on_apply_custom_setfocus();}this._updateInputValue();_j._re_focus=false;return;}}}if(this._isPreventDefault(_b,"onfocus")){return;}if(!_b._is_alive){return;}_b._on_input_focus(this,_a);var _k=this._input_handle;if(_k&&!this._is_focused){this._is_focused=true;this._setInputVisible(true);}nexacro.__setLastFocusedElement(this);};_pInputElement._on_sys_blur=function(_a){var _b=this._parent_elem.linkedcontrol;var _c=_b._getWindow();var _d= -1;var _e=_c.getCurrentFocusPaths();if(nexacro.OS=="iOS"&&(this._keypad_type=="changed"||this._keypad_type=="change")){this.setElementInputTypeKeypad(this._orgtype);this._is_first_touch=false;this._tap_blocked=false;this._is_longpressed=false;}if(this._isPreventDefault(_b,"onkillfocus")){return;}if(!_b._is_alive){return;}if(nexacro.Browser=="Edge"){var _f=this.getRootWindowHandle();if(_f.activeElement._linked_element instanceof nexacro.WebBrowserPluginElement){_f.activeElement._linked_element._parent_elem.linkedcontrol.setFocus(false);}}if((_b&&_b._edit_base_api&&_b._edit_base_api._accept_blur_event)){if(_c._is_active_window&&!_c._is_iframe_focus){var _g=_b;while(_g&&_g._is_nc_control){_g=_g.parent;}if(!_g){return;}if(_e){_d=nexacro._indexOf(_e,_g);}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9){if(_d> -1){_b._set_editbase_focusstat("blur");_b._activate_flag=true;this.setElementFocus();return;}}else if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(_d> -1){_b._activate_flag=true;}}else if(nexacro.Browser=="MobileSafari"){if(_d> -1){_b._on_killfocus();}}}}if(nexacro.OS=="iOS"){var _g=this;setTimeout(function(){_b._on_input_blur(_g,_a);var _h=_g._input_handle;if(_h&&_g._is_focused){_g._is_focused=false;if(nexacro._isNull(_g.value)&&_g.displaynulltext){_g._setInputVisible(false);}_g._is_focusing=false;}},100);}else{_b._on_input_blur(this,_a);var _h=this._input_handle;if(_h&&this._is_focused){this._is_focused=false;if(nexacro._isNull(this.value)&&this.displaynulltext){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(!this._is_focusing||_h.readOnly){this._setInputVisible(false);}}else{this._setInputVisible(false);}}this._is_focusing=false;}}var _i=nexacro._getMainWindowHandle();if(_i!=_i.parent){var _j=_e[_e.length-1];if(!nexacro._enableaccessibility&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>9)){if(!_j._has_inputElement){this._createFakeFocusElement();this._fake_input_handle.focus();this._destroyFakeFocusElement();}}}};_pInputElement._on_sys_keypress=function(_a,_b,_c,_d,_e,_f){var _g=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_g,"onkeydown")){return;}if(!_g._is_alive){return;}if(_d&&_b==118){return;}if(_a==nexacro.Event.KEY_TAB){this._event_stop=true;return;}_g._on_input_keypress(this,_a,_b,_c,_d,_e);var _h=String.fromCharCode(_a);_h=_g._edit_base_api.applyInputmode(_h);if(_h.length==1&&nexacro.isAlpha(_h)){_a=_h.charCodeAt(0);}_f.keyCode=_a;};_pInputElement._on_sys_mousedown=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4&&_e&&_e._accessibility_role=="combobox"){this._event_stop=true;return;}if(this._isPreventDefault(_e,"onlbuttondown")||this._isPreventDefault(_e,"onrbuttondown")){this._event_stop=true;return;}if(!_e._is_alive){return;}if(_e._on_input_mousedown){_e._on_input_mousedown(this,_b,_c,_d);}};_pInputElement._on_sys_touchstart=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}if(_a._on_input_touchstart){_a._on_input_touchstart(this);}};_pInputElement._on_sys_touchmove=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}if(_a._on_input_touchmove){_a._on_input_touchmove(this);}};_pInputElement._on_sys_touchend=function(){if(nexacro.OS=="iOS"){if((this._keypad_type=="number"||this._keypad_type=="digit")&&!this._tap_blocked&&!this._is_longpressed&&!this.readonly){if(this._is_focused&&this._is_focusing){var _a=this._parent_elem.linkedcontrol;var _b=_a._edit_base_api;var _c=_a.text;var _d=this;setTimeout(function(){_b._text=_c;_d.setElementInputType("text",true);if(_a.autoselect){var _e=_b._select_text=_b._text;_b._is_apply_autoselect=true;_b.setElementCaretPos(0,_e.length,_d);}_d.setElementInputTypeKeypad("changed");},500);}if(this._keypad_type=="number"){this.setElementInputType("number",true);}else if(this._keypad_type=="digit"){this.setElementInputType("digit",true);}this.setElementInputTypeKeypad("change");}if(this._tap_blocked){this._tap_blocked=false;}if(this._is_longpressed){this._is_longpressed=false;}}var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}if(_a._on_input_touchend){_a._on_input_touchend(this);}};_pInputElement._on_sys_mouseup=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onlbuttonup")||this._isPreventDefault(_e,"onrbuttonup")){this._event_stop=true;return;}if(!_e._is_alive){return;}if(_e._on_input_mouseup){_e._on_input_mouseup(this,_b,_c,_d);}};_pInputElement._on_sys_mousemove=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onmousemove")){return;}if(!_e._is_alive){return;}_e._on_input_mousemove(this);};if(nexacro.Browser!="IE"||((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&nexacro.OSVersion>=6.0)){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){_pInputElement._on_sys_keydown=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){this._event_stop=true;return;}if(!_e._is_alive){return;}_e._on_input_keydown(this,_a,_b,_c,_d);if(_a==nexacro.Event.KEY_DELETE||_a==nexacro.Event.KEY_BACKSPACE){if(nexacro.Browser=="Gecko"){return;}_e._on_input_keypress(this,_a,_a,_b,_c,_d);}if(_a==nexacro.Event.KEY_TAB){this._on_sys_keyinput(this);}this._is_keydown=true;};_pInputElement._on_sys_keyup=function(_a,_b,_c,_d){this._is_keydown=false;if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeyup")){return;}if(!_e._is_alive){return;}_e._on_input_keyup(this,_a,_b,_c,_d);this._accept_keyinput=false;};}else{_pInputElement._on_sys_keydown=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(_a==nexacro.Event.KEY_TAB){this._event_stop=true;}if(this._isPreventDefault(_e,"onkeydown")){this._event_stop=true;return;}if(!_e._is_alive){return;}_e._on_input_keydown(this,_a,_b,_c,_d);if(_a==nexacro.Event.KEY_DELETE||_a==nexacro.Event.KEY_BACKSPACE){if(nexacro.Browser=="Gecko"){return;}_e._on_input_keypress(this,_a,_a,_b,_c,_d);}};_pInputElement._on_sys_keyup=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeyup")){return;}if(!_e._is_alive){return;}_e._on_input_keyup(this,_a,_b,_c,_d);};}}else{_pInputElement._on_sys_keydown=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){this._event_stop=true;return;}if(!_e._is_alive){return;}if(_a!=16){this._accept_keyinput=true;}_e._on_input_keydown(this,_a,_b,_c,_d);if(_a==nexacro.Event.KEY_DELETE||_a==nexacro.Event.KEY_BACKSPACE){if(nexacro.Browser=="Gecko"){return;}_e._on_input_keypress(this,_a,_a,_b,_c,_d);}if(_a==nexacro.KeyCode_ImeInput||_a==nexacro.Event.KEY_BACKSPACE||_a==nexacro.Event.KEY_DELETE){this._on_sys_keyinput(this);}if(_a==18&&_b==true){this._accept_blur_by_altkey=true;}else if(_a!=18&&_b==true){this._accept_blur_by_altkey=false;}this._is_keydown=true;};_pInputElement._on_sys_keyup=function(_a,_b,_c,_d){this._is_keydown=false;if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeyup")){return;}if(!_e._is_alive){return;}_e._on_input_keyup(this,_a,_b,_c,_d);if(this._accept_blur_by_altkey==true&&document.selection){this._deleteCaret();this.setElementBlur();}this._accept_keyinput=false;this._accept_blur_by_altkey=false;};}_pInputElement._on_sys_select=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}_a._on_input_select(this);};_pInputElement._on_sys_selectionchange=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}_a._on_input_selectionchange(this);};if(nexacro.Browser=="Gecko"){_pInputElement._deleteCaret=function(){if(window.getSelection&&this._isUseDelCaret){var _a=window.getSelection();var _b=this._parent_elem.linkedcontrol;var _c=_b.getSelect();if(_c[0]==_c[1]){_a.removeAllRanges();}}};}else{_pInputElement._deleteCaret=function(){if(document.selection&&this._isUseDelCaret){var _a=document.selection.createRange();begin=0-_a.duplicate().moveStart('character', -100000);end=begin+_a.text.length;if(begin==end){document.selection.empty();}}};}_pInputElement._checkInputAutoSelect=function(){var _a=this._parent_elem.linkedcontrol;if(_a){if(_a.autoselect){return true;}}return false;};_pInputElement._refreshElement=function(){var _a=this._parent_elem.getContainerElement(this.position_step);var _b=_a.getRootWindowHandle();if(_b&&_a&&_a._handle){var _c=_b.createElement("div");_a._handle.appendChild(_c);setTimeout(function(){_a._handle.removeChild(_c);},0);}};_pInputElement._refreshElement1=function(_a){var _b=this._parent_elem.getContainerElement(this.position_step);var _c=_b.getRootWindowHandle();if(_c&&_b&&_b._handle){var _d=this._handle;if(!_a){_d.style.zIndex= -100;setTimeout(function(){_d.style.zIndex=0;},100);}else{var _e=_c.createElement("div");_d.style.outlineColor="transparent";_d.style.outlineStyle="dotted";_d.style.outlineWidth="0px";_b._handle.appendChild(_e);setTimeout(function(){_d.style.outlineColor="";_d.style.outlineStyle="";_d.style.outlineWidth="";if(_b&&_b._handle){_b._handle.removeChild(_e);}_e=null;},100);}}};delete _pInputElement;_pInputElement=null;nexacro.TextAreaElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextAreaElement=new nexacro._createPrototype(nexacro.InputElement,nexacro.TextAreaElement);nexacro.TextAreaElement.prototype=_pTextAreaElement;_pTextAreaElement._type_name="TextAreaElement";_pTextAreaElement.usemultiline=true;if(nexacro.Browser=="Chrome"){_pTextAreaElement._overflow_scroll_size=0;}else{_pTextAreaElement._overflow_scroll_size=17;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pTextAreaElement._bindEvent=function(){var _a=this._input_handle;nexacro.InputElement.prototype._bindEvent.call(this);nexacro._observeSysEvent(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);};_pTextAreaElement._unBindEvent=function(){var _a=this._input_handle;if(_a){nexacro.InputElement.prototype._unBindEvent.call(this);nexacro._stopSysObserving(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);}};_pTextAreaElement._inputhandler_onscroll_forward=function(_a){if(window.event){_a=window.event;}var _b=_a.srcElement;var _c=_b._linked_element;if(_c){var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e&&_e._cur_ldown_elem){var _f=_c.parent.scroll_top;var _g=_c.parent.scroll_left;var _h=_c.parent._hscroll_control;var _i=nexacro.__convertScrollLeftFromDOMNode(_b);if(_h&&!_h._is_tracking){_h.set_pos(_i);}var _j=_c.parent._vscroll_control;if(_j&&!_j._is_tracking){_j.set_pos(_b.scrollTop);}}}};if(nexacro.BrowserVersion<=7){_pTextAreaElement.setElementBlur=function(){var _a=this._input_handle;if(_a){nexacro.__setDOMNodeBlur(_a);nexacro._setDOMNodeRemoveCaret();}};}}else{_pTextAreaElement._bindEvent=function(){var _a=this._input_handle;nexacro.InputElement.prototype._bindEvent.call(this);nexacro._observeSysEvent(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);};_pTextAreaElement._unBindEvent=function(){var _a=this._input_handle;if(_a){nexacro.InputElement.prototype._unBindEvent.call(this);nexacro._stopSysObserving(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);}};_pTextAreaElement._inputhandler_onscroll_forward=function(_a){var _b=_a.target;var _c=_b._linked_element;if(_c){var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();var _f=_c.getElementCaretPos();if((_e&&_e._cur_ldown_elem)||(nexacro.isTouchInteraction&&(_e&&_e._cur_touch_elem||((_f&&_f!= -1)&&_f.begin!=_f.end)))){var _g=_c.parent.scroll_top;var _h=_c.parent.scroll_left;var _i=nexacro.__convertScrollLeftFromDOMNode(_b);if(_h!=_b.scrollLeft){var _j=_c.parent._hscroll_control;if(_j&&!_j._is_tracking){_j.set_pos(_i);}}if(_g!=_b.scrollTop){var _k=_c.parent._vscroll_control;if(_k&&!_k._is_tracking){_k.set_pos(_b.scrollTop);}}}}};}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pTextAreaElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="";if(this.halign&&this.valign){var _c=this.getScrollHeight();var _d=Math.max(0,this.height-_c);_b=nexacro.__getTextAreaHTMLStyleAlignXY(this.halign,this.valign,_d);}var _e=nexacro.__getTextAreaHTMLAttrEnable(this.enable)+nexacro.__getHTMLAttrReadOnly(this.readonly)+nexacro.__getHTMLAttrTabIndex(this.tabindex)+nexacro.__getHTMLAttrWordWrap(this.wordwrap);var _f=nexacro.__getTextAreaHTMLStyleAbsoluteTransparent()+nexacro.__getHTMLStylePos(0,0)+nexacro.__getHTMLStyleSize(this.width+this._overflow_scroll_size,this.height+this._overflow_scroll_size)+"border:none;outline:none;resize:none;"+nexacro.__getHTMLStyleFont(this.font)+nexacro.__getHTMLStyleColor(this.color)+_b+nexacro.__getHTMLStyleCursor(this.cursor,"text")+nexacro.__getHTMLStyleLineSpace(this.linespace)+nexacro.__getHTMLStyleWordWrap(this.wordwrap)+nexacro.__getHTMLStylemeMode(this.imemode);var _g=this.text?nexacro._encodeXml(this.text):"";var _h=" id='"+this.parent._handle.id+"_textarea'";var _i="<textarea "+_e+_h+" style='"+_f+"'/>"+_g+"</textarea>";_a.innerHTML=_i;var _j=_a.firstChild;_j._linked_element=this;if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_j,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_j,this._parent_elem.accessibility_role);};return _j;}};_pTextAreaElement.setElementSetSelect=function(_a,_b){var _c=this._input_handle;if(_c){var _d=this.getRootWindowHandle();_b=(typeof _b=='number')?_b:_a;var _e=this.getElementValue();if(_b== -1){_b=_c.value.length;var _f=_e.slice(0,_a);var _g=_e.slice(0,_b);_a-=_f.split('\r\n').length-1;_b-=_g.split('\r\n').length-1;}nexacro.__setTextAreaDOMNodeSetSelect(_d,_c,_a,_b);}};}else{_pTextAreaElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="textarea";var _c=this._owner_elem.getRootWindowHandle();var _d=_c.createElement(_b);_d._linked_element=this;nexacro.__setDOMNodeId(_d,this.parent._handle.id,"_"+_b);_a.style.webkitUserSelect="initial";if(!this.enable){if(nexacro.OS=="iOS"){_d.style.opacity=1;_d.style.webkitTextFillColor=this.color?this.color._syscolor:"";}nexacro.__setTextAreaDOMNodeEnable(_d,false);}if(this.readonly){nexacro.__setDOMNodeReadOnly(_d,true);}if(this.tabindex>= -1){nexacro.__setDOMNodeTabIndex(_d,this.tabindex);}var _e=_d.style;_e.border="none";_e.outline="none";_e.resize="none";nexacro.__setTextAreaDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this.width+this._overflow_scroll_size,this.height+this._overflow_scroll_size);nexacro.__setDOMNodeStyleCursor(_e,this.cursor,"text");if(this.font){nexacro.__setDOMNodeStyleFont(_e,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_e,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_e,this.color);}if(this.halign&&this.valign){var _f=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_e,this.halign,this.valign,this.height,this.width,_f[1]);}if(this.tabindentsize>4){nexacro.__setDOMNodeTabIndentSize(_d,this.tabindentsize);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_e,this.linespace);}nexacro.__setTextAreaDOMNodeWordWrap(_d,this.wordwrap);if(this.text){nexacro.__setDOMNodeValue(_d,this.text);}if(this.imemode){nexacro.__setDOMNodeImeMode(_d,this.imemode);}nexacro.__appendDOMNode(_a,_d);if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_d,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_d,this._parent_elem.accessibility_role);}return _d;}};_pTextAreaElement.setElementSetSelect=function(_a,_b){var _c=this._input_handle;if(_c){var _d=this.getRootWindowHandle();_b=(typeof _b=='number')?(_b== -1?_c.value.length:_b):_a;nexacro.__setTextAreaDOMNodeSetSelect(_d,_c,_a,_b);}};}_pTextAreaElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}_c=this._input_handle;if(_c){var _d=this.getElementCaretPos();var _e=_a+this._overflow_scroll_size;var _f=_b+this._overflow_scroll_size;nexacro.__setDOMNodeStyleSize(_c.style,_e,_f);if(_c.clientWidth>_a||_c.clientHeight>_b){_e+=(_a-_c.clientWidth);_f+=(_b-_c.clientHeight);nexacro.__setDOMNodeStyleSize(_c.style,_e,_f);}var _g=this.getElementCaretPos();if((_d!= -1&&_g!= -1)&&(_d.begin!=_g.begin||_d.end!=_g.end)){this.setElementSetSelect(0,0);this.setElementSetSelect(_d.begin,_d.end);}}var _h=this._display_elem;if(_h){_h.setElementSize(_a,_b);}}};_pTextAreaElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._parent_elem.linkedcontrol;var _c=this._input_handle;if(_c){nexacro.__setTextAreaDOMNodeEnable(_c,_a);if(nexacro.OS=="iOS"&&_b){var _d=_b.on_find_CurrentStyle_color(_b._pseudo);if(_a){_c.style.opacity="";}else{_c.style.opacity=1;}}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==9){this._isUseDelCaret=_a?false:true;this._deleteCaret();}}}};_pTextAreaElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._input_handle;if(_b){var _c=this.getScrollHeight();var _d=Math.max(0,this.height-_c);nexacro.__setTextAreaDOMNodeStyleAlignXY(_b.style,this.halign,this.valign,_d);}var _e=this._display_elem;if(_e){_e.setElementAlign(_a);}};_pTextAreaElement.setElementAlignXY=function(_a,_b){var _c=_a;var _d=this.padding;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _e=this._input_handle;if(_e){var _f=this.getScrollHeight();var _g=Math.max(0,this.height-_f);nexacro.__setTextAreaDOMNodeStyleAlignXY(_e.style,_c,_b,_g,_d);}var _h=this._display_elem;if(_h){_h.setElementAlignXY(_c,_b);}};_pTextAreaElement.setElementLineSpace=function(_a){this.linespace=_a;var _b=this._input_handle;if(_b){var _c=this._parent_elem.linkedcontrol;if(_c){var _d=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());_a=_d[1]+nexacro._toInt(_a);}nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}};_pTextAreaElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleLetterSpace(_b.style,_a);}}};_pTextAreaElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){this.wordwrap=_a;var _b=this._handle;var _c=this._input_handle;if(_b&&_c){nexacro.__setTextAreaDOMNodeWordWrap(_c,this.wordwrap);this._updateInputValue();}}};_pTextAreaElement.setElementPassword=function(_a){};_pTextAreaElement.getElementCaretPos=function(){var _a=this._input_handle;var _b=nexacro._checkActiveElement(this);if(_a&&_b){var _c=this.getRootWindowHandle();return nexacro.__getTextAreaDOMNodeCaretPos(_c,_a);}return  -1;};_pTextAreaElement.getElementSelectionRange=function(){var _a=this._input_handle;var _b=this.getRootWindowHandle();if(_a&&_b){var _c=nexacro.__getTextAreaDOMNodeCaretPos(_b,_a);return [_c.begin,_c.end];}return [0,0];};_pTextAreaElement.getCaretLine=function(){var _a=this._input_handle;if(_a){var _b=this.getRootWindowHandle();return nexacro.__getDOMNodeCaretLine(_b,_a);}return 0;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pTextAreaElement.getElementValue=function(){var _a=this._input_handle;if(_a){var _b=nexacro.__getDOMNodeValue(_a);if(_b){_b=_b.replace(/\r\n/g,"\n");}return _b;}return "";};_pTextAreaElement.setElementValue=function(_a,_b,_c){var _d=this._input_handle;var _e=this._parent_elem.linkedcontrol;var _f=_e._edit_base_api;if(!_e._is_alive){return;}var _g=(this.value===_a)?false:true;var _h=(_a=="")?true:false;if(_a){_a=_a.replace(/\r\n/g,"\n");}if(_f){this.text=_f._text;}else{this.text=_a;}this.value=_a;if(_c){return;}if(_d){var _i=nexacro.__getDOMNodeValue(_d);var _j=(this.text==_i)?false:true;if(_g||_j||_h||_b){this._updateInputValue();}}};}else{_pTextAreaElement.getElementValue=function(){var _a=this._input_handle;if(_a){return nexacro.__getDOMNodeValue(_a);}return "";};_pTextAreaElement.setElementValue=function(_a,_b,_c){var _d=this._input_handle;var _e=this._parent_elem.linkedcontrol;var _f=_e._edit_base_api;if(!_e._is_alive){return;}var _g=(this.value===_a)?false:true;var _h=(_a=="")?true:false;if(_a){if(typeof _a=="object"){_a=_a.toString().replace(/\r\n/g,"\n");}else{_a=_a.replace(/\r\n/g,"\n");}}if(_f){this.text=_f._text;}else{this.text=_a;}this.value=_a;if(_c){return;}if(_d){var _i=nexacro.__getDOMNodeValue(_d);var _j=(this.text==_i)?false:true;if(_g||_j||_h||_b){this._updateInputValue();}}};}_pTextAreaElement._is_prevent_enter=false;_pTextAreaElement._inputhandler_onkeydown_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target||_a.srcElement;if(this._is_prevent_enter){if(_a.keyCode==13&&(_a.altKey||_a.ctrlKey)){_a.preventDefault();}}return nexacro._inputhandler_onkeydown(_b,_a);};delete _pTextAreaElement;_pTextAreaElement=null;nexacro._inputhandler_onkeyinput=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_keyinput(nexacro._getSysEventKey(_b),_b.altKey,_b.ctrlKey,_b.shiftKey);return true;}return false;};nexacro._inputhandler_oncopy=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_copy();return true;}return false;};nexacro._inputhandler_oncut=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_cut();return true;}return false;};nexacro._inputhandler_onpaste=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_paste();return true;}return false;};nexacro._inputhandler_oncompositionupdate=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_compositionupdate(_b.data);return true;}return false;};nexacro._inputhandler_oncompositionend=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_compositionend(_b.data);return true;}return false;};nexacro._inputhandler_oncompositionstart=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_compositionstart(_b.data);return true;}return false;};nexacro._inputhandler_onfocus=function(_a,_b){var _c=_a._linked_element;if(_c){if(nexacro.isTouchInteraction&&nexacro.OS=="Android"){if(!_c.readonly&&_a.readOnly){nexacro.__setDOMNodeReadOnly(_c._input_handle,false);}}_c._on_sys_focus();return true;}return false;};nexacro._inputhandler_onblur=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_blur(_a);return true;}return false;};nexacro._inputhandler_onkeypress=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_keypress(_b.keyCode,_b.charCode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b);_c._accept_keyinput=true;if(_c._event_stop){_c._event_stop=false;nexacro._stopSysEvent(_b);}return true;}return false;};nexacro._inputhandler_onmousedown=function(_a,_b){var _c=_a._linked_element;if(_c&&_c._on_sys_mousedown){nexacro._stopPropagation(_b);_c._is_mousedown=true;var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=nexacro._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;if(nexacro.isTouchInteraction&&nexacro.OS=="Android"){if(!_c.readonly&&_a.readOnly){nexacro.__setDOMNodeReadOnly(_c._input_handle,false);}}_b.id=_g;if(nexacro.Browser=="Edge"&&!_c._checkActiveElement()&&_d.autoselect){nexacro._stopSysEvent(_b);_c._event_stop=false;}_h._syshandler_onmousedown_forward(_b);if(!_c._parent_elem){return true;}var _i=(_c._parent_elem)?_c._parent_elem.linkedcontrol._edit_base_api._is_selected():false;_c._on_sys_mousedown(_b.keyCode,_b.altKey,_b.ctrlKey,_b.shiftKey);if(_c._event_stop||(_b.ctrlKey&&!_i)){nexacro._stopSysEvent(_b);_c._event_stop=false;}_c._is_mousedown=false;return true;}return false;};nexacro._inputhandler_onmouseup=function(_a,_b){var _c=_a._linked_element;if(_c&&_c._on_sys_mouseup){nexacro._stopPropagation(_b);var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=nexacro._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;_c._useTimer=false;_c._on_sys_mouseup(_b.keyCode,_b.altKey,_b.ctrlKey,_b.shiftKey);if(_b.button!=2&&_c._useTimer){var _i={};if(nexacro.Browser=="IE"){for(var _j in _b){_i[_j]=_b[_j];}}else{_i=_b;}nexacro.OnceCallbackTimer.callonce(_d,function(){if((nexacro.Browser!="Edge"&&nexacro.Browser!="IE")&&nexacro._getSysEventBtnCode(_b)==(nexacro._is_attach_childframe?nexacro_HTMLSysEvent[_g].MOUSE_LBUTTON:nexacro_HTMLSysEvent.MOUSE_LBUTTON)){_b.id=_g;_h._syshandler_lock_onmouseup_forward(_i);}else{_h._syshandler_onmouseup_forward(_i);}});_c._useTimer=false;}else{if((nexacro.Browser!="Edge"&&nexacro.Browser!="IE")&&nexacro._getSysEventBtnCode(_b)==(nexacro._is_attach_childframe?nexacro_HTMLSysEvent[_g].MOUSE_LBUTTON:nexacro_HTMLSysEvent.MOUSE_LBUTTON)){_b.id=_g;_h._syshandler_lock_onmouseup_forward(_b);}else{_h._syshandler_onmouseup_forward(_b);}}if(_c._event_stop){if(nexacro.Browser!="Edge"&&nexacro.Browser!="IE"){_b.preventDefault();_b.stopped=true;_c._event_stop=false;}}return true;}return false;};nexacro._inputhandler_onmousemove=function(_a,_b){var _c=_a._linked_element;if(_c&&_c._on_sys_mousemove){if((nexacro.Browser!="Edge"&&nexacro.Browser!="IE")&&nexacro._getSysEventBtnCode(_b)==nexacro_HTMLSysEvent.MOUSE_LBUTTON){nexacro._stopPropagation(_b);}var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}if(_e._cur_screen_pos.x==_b.screenX&&_e._cur_screen_pos.y==_b.screenY){return false;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=nexacro._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;if((nexacro.Browser!="Edge"&&nexacro.Browser!="IE")&&nexacro._getSysEventBtnCode(_b)==(nexacro._is_attach_childframe?nexacro_HTMLSysEvent[_g].MOUSE_LBUTTON:nexacro_HTMLSysEvent.MOUSE_LBUTTON)){_b.id=_g;_h._syshandler_lock_onmousemove_forward(_b);}_c._on_sys_mousemove();if(_c._isPreventDefault(_d,"ondrag")){var _i=_c.getElementCaretPos();var _j=(_i&&_i!= -1)?_i.begin:0;if(_b.screenX>_c._prev_x){_j=(_i&&_i!= -1)?_i.end:0;}_c.setElementSetSelect(_j,_j);}_c._prev_x=_b.screenX;return true;}return false;};nexacro._inputhandler_onkeydown=function(_a,_b){var _c=_a._linked_element;if(_c){nexacro._stopPropagation(_b);var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=nexacro._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;_b.id=_g;_h._syshandler_onkeydown_forward(_b);_c._on_sys_keydown(nexacro._getSysEventKey(_b),_b.altKey,_b.ctrlKey,_b.shiftKey);if(_c._event_stop){nexacro._stopSysEvent(_b);_c._event_stop=false;}return true;}return false;};nexacro._inputhandler_onkeyup=function(_a,_b){var _c=_a._linked_element;if(_c){nexacro._stopPropagation(_b);var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}_c._on_sys_keyup(nexacro._getSysEventKey(_b),_b.altKey,_b.ctrlKey,_b.shiftKey);var _f=_e._handle;var _g=_e._custom_node_id;var _h=nexacro._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;_b.id=_g;_h._syshandler_onkeyup_forward(_b);if(_c._event_stop){nexacro._stopSysEvent(_b);_c._event_stop=false;}return true;}return false;};nexacro._inputhandler_onselect=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_select();return true;}return false;};nexacro._inputhandler_onselectionchange=function(_a,_b){var _c=_a.activeElement._linked_element;if(_c&&_c._on_sys_selectionchange){_c._on_sys_selectionchange();return true;}return false;};nexacro.ControlElementBase=function(_a){this.parent=_a;this._parent_elem=_a;};var _pControlElementBase=nexacro._createPrototype(nexacro.Element,nexacro.ControlElementBase);nexacro.ControlElementBase.prototype=_pControlElementBase;_pControlElementBase._type_name="ControlElementBase";_pControlElementBase.enable=true;_pControlElementBase.tabindex= -1;_pControlElementBase.zindex= -1;_pControlElementBase.font=null;_pControlElementBase.color=null;_pControlElementBase.cursor=null;_pControlElementBase.client_left=0;_pControlElementBase.client_top=0;_pControlElementBase.client_width=0;_pControlElementBase.client_height=0;_pControlElementBase.border=null;_pControlElementBase.bordertype=null;_pControlElementBase.background=null;_pControlElementBase.gradation=null;_pControlElementBase.opacity=100;_pControlElementBase.padding=null;_pControlElementBase.padding_left=0;_pControlElementBase.padding_top=0;_pControlElementBase.padding_right=0;_pControlElementBase.padding_bottom=0;_pControlElementBase.position_step=undefined;_pControlElementBase.linkedcontrol=null;_pControlElementBase.accessibility_role="";_pControlElementBase.accessibility_enable=false;_pControlElementBase.accessibility_label="";_pControlElementBase.accessibility_desclevel="";_pControlElementBase.accessibility_description="";_pControlElementBase.accessibility_action="";_pControlElementBase._accessibility_value=undefined;_pControlElementBase._accessibility_stat_disabled=undefined;_pControlElementBase._accessibility_stat_hidden=undefined;_pControlElementBase._accessibility_stat_checked=undefined;_pControlElementBase._accessibility_stat_pressed=undefined;_pControlElementBase._accessibility_stat_selected=undefined;_pControlElementBase._accessibility_stat_expanded=undefined;_pControlElementBase._accessibility_stat_autocomplete=undefined;_pControlElementBase._accessibility_flag_haspopup=undefined;_pControlElementBase._accessibility_flag_focusable=undefined;_pControlElementBase._accessibility_flag_readonly=undefined;_pControlElementBase._accessibility_flag_password=undefined;_pControlElementBase._accessibility_flag_multiselectable=undefined;_pControlElementBase._accessibility_flag_selectable=undefined;_pControlElementBase._accessibility_flag_defaultbutton=undefined;_pControlElementBase._accessibility_prop_itemcount=undefined;_pControlElementBase._accessibility_prop_itemindex=undefined;_pControlElementBase._accessibility_prop_valuemax=undefined;_pControlElementBase._accessibility_prop_valuemin=undefined;_pControlElementBase._dom_border=null;_pControlElementBase._inner_left=0;_pControlElementBase._inner_top=0;_pControlElementBase._inner_width=0;_pControlElementBase._inner_height=0;_pControlElementBase._node_width=0;_pControlElementBase._node_height=0;_pControlElementBase._background_style=0;_pControlElementBase._node_opacity_str="";_pControlElementBase._node_opacity=100;_pControlElementBase._node_bkcolor="";_pControlElementBase._node_gradation="";_pControlElementBase._node_bkurl="";_pControlElementBase._node_bkrepeat="";_pControlElementBase._node_bkpos="";_pControlElementBase._client_element=null;_pControlElementBase._vml_elem=null;_pControlElementBase._bkimg_elem=null;_pControlElementBase.create=nexacro._emptyFn;_pControlElementBase.destroy=nexacro._emptyFn;_pControlElementBase.clearContents=nexacro._emptyFn;_pControlElementBase.setElementStepCount=nexacro._emptyFn;_pControlElementBase.setElementStepIndex=nexacro._emptyFn;_pControlElementBase.setLinkedControl=function(_a){if(!this.linkedcontrol&&_a){this.parent=_a;this.linkedcontrol=_a;}};_pControlElementBase.setElementPositionBasis=function(_a){if(this.position!=_a){this.position=_a;if(this._handle){if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(_a.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(this._handle.style);}else{nexacro.__setDOMNodeStyleAbsolute(this._handle.style);}}}}};_pControlElementBase.setElementPositionBasis=function(_a){if(this.position!=_a){this.position=_a;if(this._handle){if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(_a.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(this._handle.style);}else{nexacro.__setDOMNodeStyleAbsolute(this._handle.style);}}}}};_pControlElementBase.setElementPositionStep=function(_a){if(this.position_step!=_a||_a== -1){this.position_step=_a;var _b=this._handle;if(_b&&this._parent_elem){var _c=this._owner_elem;var _d=this._parent_elem.getContainerElement(_a);if(_c&&_c._dest_handle&&_d&&_d._dest_handle){nexacro.__unlinkDOMNode(_c._dest_handle,this._handle);nexacro.__appendDOMNode(_d._dest_handle,this._handle);this._owner_elem=_d;}}}};_pControlElementBase.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeEnable(_b,_a);}}};_pControlElementBase.setElementTabIndex=function(_a){if(this.tabindex!=_a){this.tabindex=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeTabIndex(_b,_a);}}};_pControlElementBase.setElementZIndex=function(_a){if(this.zindex!=_a){this.zindex=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleZindex(_b.style,_a);}}};_pControlElementBase.setElementFont=nexacro._emptyFn;_pControlElementBase.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(this._client_element){this._client_element.setElementColor(_a);}};_pControlElementBase.setElementCursor=function(_a){if(this.cursor!=_a){this.cursor=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleCursor(_b.style,_a);}}};_pControlElementBase.setElementToolTip=function(_a,_b){if(_a===undefined){_a="";}if(this.tooltiptext!=_a||this.tooltiptype!=_b){this.tooltiptext=_a;this.tooltiptype=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeToolTip(_c,_a,_b);}}};_pControlElementBase.setElementShadow=function(_a){this.shadow=_a;var _b=this._handle;if(_b){var _c=_a?_a._getStyleObject(this._isRtl()):null;nexacro.__setDOMNodeStyleShadow(_b.style,_c);}};_pControlElementBase.setElementFocus=function(_a){var _b=this._handle;if(_b){nexacro.__setDOMNodeFocus(_b,_a);nexacro.__setLastFocusedElement(this);}};_pControlElementBase.setElementOpacity=function(_a){this.opacity=_a;var _b=this._handle;if(_b){this._setControlOpacity(this,_b,(parseInt(_a.value)));}};_pControlElementBase.setElementAlign=nexacro._emptyFn;_pControlElementBase.setElementAlignXY=nexacro._emptyFn;_pControlElementBase.setElementPadding=nexacro._emptyFn;_pControlElementBase.setElementPaddingXY=nexacro._emptyFn;_pControlElementBase.setElementHittestType=nexacro._emptyFn;_pControlElementBase.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;this._setControlSize(this,this._handle,_a,_b);this._updateClientSize();}};_pControlElementBase.setElementBorder=function(_a,_b){this.border=_a;this.bordertype=_b;this._setControlBorder(this,this._handle,_a,_b);this._updateClientSize();};_pControlElementBase.setElementBackground=function(_a,_b){this.background=_a;this.gradation=_b;var _c=this._isRtl();var _d=_b;var _e=_a;_d=_b?_b._getStyleObject(_c):null;_e=(_a&&_a!="none")?_a._getStyleObject(_c):null;this._setControlBackground(this,this._handle,_e,_d);};_pControlElementBase.setElementAccessibilityRole=function(_a){var _b=nexacro._roleList[_a];if(this.accessibility_role!=_b){this.accessibility_role=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeAccessibilityRole(_c,_b);}}};_pControlElementBase.setElementAccessibilityLabel=function(_a){if(this.accessibility_label!=_a){this.accessibility_label=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityLabel(_b,_a);}}};_pControlElementBase.setElementAccessibilityEnable=function(_a){if(this.accessibility_enable!=_a){this.accessibility_enable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityEnable(_b,_a);}}};_pControlElementBase.setElementAccessibilityDescription=function(_a){if(this.accessibility_description!=_a){this.accessibility_description=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityDescription(_b,_a);}}};_pControlElementBase.setElementAccessibilityDescLevel=function(_a){};_pControlElementBase.setElementAccessibilityAction=function(_a){this.accessibility_action=_a;};_pControlElementBase.setElementAccessibilityValue=function(_a,_b,_c){if(this._accessibility_value!=_a){this._accessibility_value=_a;var _d=this._handle;if(_d){nexacro.__setDOMNodeAccessibilityValue(_d,_a,_b,_c);}}};_pControlElementBase.setElementAccessibilityStatDisabled=function(_a){if(this._accessibility_stat_disabled!=_a){this._accessibility_stat_disabled=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatDisabled(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatHidden=function(_a){if(this._accessibility_stat_hidden!=_a){this._accessibility_stat_hidden=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatHidden(_b,_a);}}};_pControlElementBase.setElementAccessibilityHidden=function(_a){if(this._client_element){var _b=this._client_element._handle;if(_b){nexacro.__setDOMNodeAccessibilityHidden(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatChecked=function(_a){if(this._accessibility_stat_checked!=_a){this._accessibility_stat_checked=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatChecked(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatPressed=function(_a){if(this._accessibility_stat_pressed!=_a){this._accessibility_stat_pressed=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatPressed(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatSelected=function(_a){if(this._accessibility_stat_selected!=_a){this._accessibility_stat_selected=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatSelected(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatExpanded=function(_a){if(this._accessibility_stat_expanded!=_a){this._accessibility_stat_expanded=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatExpanded(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatAutoComplete=function(_a){if(this._accessibility_stat_autocomplete!=_a){this._accessibility_stat_autocomplete=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatAutoComplete(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagHasPopup=function(_a){if(this._accessibility_flag_haspopup!=_a){this._accessibility_flag_haspopup=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatHasPopup(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagFocusable=function(_a){if(this._accessibility_flag_focusable!=_a){this._accessibility_flag_focusable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagFocusable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagReadOnly=function(_a){if(this._accessibility_flag_readonly!=_a){this._accessibility_flag_readonly=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagReadOnly(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagPassword=function(_a){if(this._accessibility_flag_password!=_a){this._accessibility_flag_password=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagPassword(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagMultiSelectable=function(_a){if(this._accessibility_flag_multiselectable!=_a){this._accessibility_flag_multiselectable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagMultiSelectable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagSelectable=function(_a){if(this._accessibility_flag_selectable!=_a){this._accessibility_flag_selectable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagSelectable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagDefaultButton=function(_a){if(this._accessibility_flag_defaultbutton!=_a){this._accessibility_flag_defaultbutton=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagDefaultButton(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagMultiLine=function(_a){if(this._accessibility_flag_multiline!=_a){this._accessibility_flag_multiline=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagMultiLine(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoCount=function(_a){if(this._accessibility_prop_infocount!=_a){this._accessibility_prop_infocount=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoCount(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoIndex=function(_a){if(this._accessibility_prop_infoindex!=_a){this._accessibility_prop_infoindex=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoIndex(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueMax=function(_a){if(this._accessibility_prop_infovaluemax!=_a){this._accessibility_prop_infovaluemax=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoValueMax(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueMin=function(_a){if(this._accessibility_prop_infovaluemin!=_a){this._accessibility_prop_infovaluemin=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoValueMin(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueCur=function(_a){if(this._accessibility_prop_infovaluecur!=_a){this._accessibility_prop_infovaluecur=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoValueCur(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoLevel=function(_a){if(this._accessibility_prop_infolevel!=_a){this._accessibility_prop_infolevel=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoLevel(_b,_a);}}};_pControlElementBase.setElementAccessibilityHotKey=function(_a){if(this._accessibility_prop_hotkey!=_a){this._accessibility_prop_hotkey=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityHotKey(_b,_a);}}};_pControlElementBase.setElementAccessibilityActiveDescendant=function(_a){this._accessibility_prop_activedescendant=_a.linkedcontrol._unique_id;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityActiveDescendant(_b,_a.linkedcontrol._unique_id);}};_pControlElementBase.setElementAccessibilityStatFocus=function(_a){var _b;if(_a){_b=_a;}else{var _c=this._makeAccessibilityLabelbyReadtype(this);this.accessibility_readlabel=_c;_b=_c;}var _d=this._handle;if(_d){nexacro.__notifyAccessibility(_d,_b,"focus");}};_pControlElementBase.setElementAccessibilityNotifyEvent=nexacro._emptyFn;if(nexacro.Browser=="Chrome"){_pControlElementBase._refreshForeground=function(_a,_b){var _c=this._isRtl();if(!this.visible){nexacro.__setDOMNodeStyleDisplay(_a.style,"none");}if(!this.enable){nexacro.__setDOMNodeEnable(_a,false);}if(this.tabindex>= -1){nexacro.__setDOMNodeTabIndex(_a,this.tabindex);}if(this.zindex>=0){nexacro.__setDOMNodeStyleZindex(_b,this.zindex);}if(this.cursor){nexacro.__setDOMNodeStyleCursor(_b,this.cursor);}if(this.tooltiptext){nexacro.__setDOMNodeToolTip(_a,this.tooltiptext,this.tooltiptype);}if(this.shadow){var _d=this.shadow._getStyleObject(_c);nexacro.__setDOMNodeStyleShadow(_b,_d);}if(this.opacity){this._setControlOpacity(this,this._handle,(parseInt(this.opacity.value)));}if(nexacro._enableaccessibility){if(this.accessibility_role){nexacro.__setDOMNodeAccessibilityRole(_a,this.accessibility_role);}if(this.accessibility_enable){if(this.accessibility_enable){nexacro.__setDOMNodeAccessibilityEnable(_a,this.accessibility_enable);}if(this.accessibility_desclevel){nexacro.__setDOMNodeAccessibilityDescLevel(_a,this.accessibility_desclevel);}if(this.accessibility_description){nexacro.__setDOMNodeAccessibilityDescription(_a,this.accessibility_description);}var _e=this._makeAccessibilityLabelbyReadtype(this);if(_e!=this.accessibility_readlabel){this.accessibility_readlabel=_e;nexacro.__setDOMNodeAccessibilityLabel(_a,this.accessibility_readlabel);}}else{nexacro.__setDOMNodeAccessibilityEnable(_a,this.accessibility_enable);}if(this._accessibility_value){nexacro.__setDOMNodeAccessibilityValue(_a,this._accessibility_value);}if(this._accessibility_stat_disabled){nexacro.__setDOMNodeAccessibilityStatDisabled(_a,this._accessibility_stat_disabled);}if(this._accessibility_stat_hidden){nexacro.__setDOMNodeAccessibilityStatHidden(_a,this._accessibility_stat_hidden);}if(this._accessibility_stat_checked){nexacro.__setDOMNodeAccessibilityStatChecked(_a,this._accessibility_stat_checked);}if(this._accessibility_stat_pressed){nexacro.__setDOMNodeAccessibilityStatPressed(_a,this._accessibility_stat_pressed);}if(this._accessibility_stat_selected){nexacro.__setDOMNodeAccessibilityStatSelected(_a,this._accessibility_stat_selected);}if(this._accessibility_stat_expanded){nexacro.__setDOMNodeAccessibilityStatExpanded(_a,this._accessibility_stat_expanded);}if(this._accessibility_stat_autocomplete){nexacro.__setDOMNodeAccessibilityStatAutoComplete(_a,this._accessibility_stat_autocomplete);}if(this._accessibility_flag_haspopup){nexacro.__setDOMNodeAccessibilityStatHasPopup(_a,this._accessibility_flag_haspopup);}if(this._accessibility_flag_focusable){nexacro.__setDOMNodeAccessibilityFlagFocusable(_a,this._accessibility_flag_focusable);}if(this._accessibility_flag_readonly){nexacro.__setDOMNodeAccessibilityFlagReadOnly(_a,this._accessibility_flag_readonly);}if(this._accessibility_flag_password){nexacro.__setDOMNodeAccessibilityFlagPassword(_a,this._accessibility_flag_password);}if(this._accessibility_flag_multiselectable){nexacro.__setDOMNodeAccessibilityFlagMultiSelectable(_a,this._accessibility_flag_multiselectable);}if(this._accessibility_flag_selectable){nexacro.__setDOMNodeAccessibilityFlagSelectable(_a,this._accessibility_flag_selectable);}if(this._accessibility_flag_defaultbutton){nexacro.__setDOMNodeAccessibilityFlagDefaultButton(_a,this._accessibility_flag_defaultbutton);}if(this._accessibility_flag_multiline){nexacro.__setDOMNodeAccessibilityFlagMultiLine(_a,this._accessibility_flag_multiline);}if(this._accessibility_prop_itemcount){nexacro.__setDOMNodeAccessibilityInfoCount(_a,this._accessibility_prop_itemcount);}if(this._accessibility_prop_itemindex){nexacro.__setDOMNodeAccessibilityInfoIndex(_a,this._accessibility_prop_itemindex);}if(this._accessibility_prop_valuemax){nexacro.__setDOMNodeAccessibilityInfoValueMax(_a,this._accessibility_prop_valuemax);}if(this._accessibility_prop_valuemin){nexacro.__setDOMNodeAccessibilityInfoValueMin(_a,this._accessibility_prop_valuemin);}}};_pControlElementBase.setElementVisible=function(_a){var _b=this._handle;if(this.visible!=_a){this.visible=_a;if(_b){nexacro.__setDOMNodeStyleDisplay(_b.style,_a?"":"none");if(nexacro.OS=="Android"||nexacro.OS=="iOS"){if(this.visible){var _c=this.zindex;if(!_c||_c<0){_c="";}nexacro.__setDOMNodeStyleZindex(_b.style,_c);}else{nexacro.__setDOMNodeStyleZindex(_b.style,nexacro._zindex_hide);}}}}};}else{_pControlElementBase._refreshForeground=function(_a,_b){var _c=this._isRtl();if(!this.visible){nexacro.__setDOMNodeStyleVisible(_b,false);}if(!this.enable){nexacro.__setDOMNodeEnable(_a,false);}if(this.tabindex>= -1){nexacro.__setDOMNodeTabIndex(_a,this.tabindex);}if(this.zindex>=0){nexacro.__setDOMNodeStyleZindex(_b,this.zindex);}if(this.cursor){nexacro.__setDOMNodeStyleCursor(_b,this.cursor);}if(this.tooltiptext){nexacro.__setDOMNodeToolTip(_a,this.tooltiptext,this.tooltiptype);}if(this.shadow){var _d=this.shadow._getStyleObject(_c);nexacro.__setDOMNodeStyleShadow(_b,_d);}if(this.opacity){this._setControlOpacity(this,this._handle,(parseInt(this.opacity.value)));}if(nexacro._enableaccessibility){if(this.accessibility_role){nexacro.__setDOMNodeAccessibilityRole(_a,this.accessibility_role);}if(this.accessibility_enable){if(this.accessibility_enable){nexacro.__setDOMNodeAccessibilityEnable(_a,this.accessibility_enable);}if(this.accessibility_desclevel){nexacro.__setDOMNodeAccessibilityDescLevel(_a,this.accessibility_desclevel);}if(this.accessibility_description){nexacro.__setDOMNodeAccessibilityDescription(_a,this.accessibility_description);}var _e=this._makeAccessibilityLabelbyReadtype(this);if(_e!=this.accessibility_readlabel){this.accessibility_readlabel=_e;nexacro.__setDOMNodeAccessibilityLabel(_a,this.accessibility_readlabel);}}else{nexacro.__setDOMNodeAccessibilityEnable(_a,this.accessibility_enable);}if(this._accessibility_value){nexacro.__setDOMNodeAccessibilityValue(_a,this._accessibility_value);}if(this._accessibility_stat_disabled){nexacro.__setDOMNodeAccessibilityStatDisabled(_a,this._accessibility_stat_disabled);}if(this._accessibility_stat_hidden){nexacro.__setDOMNodeAccessibilityStatHidden(_a,this._accessibility_stat_hidden);}if(this._accessibility_stat_checked){nexacro.__setDOMNodeAccessibilityStatChecked(_a,this._accessibility_stat_checked);}if(this._accessibility_stat_pressed){nexacro.__setDOMNodeAccessibilityStatPressed(_a,this._accessibility_stat_pressed);}if(this._accessibility_stat_selected){nexacro.__setDOMNodeAccessibilityStatSelected(_a,this._accessibility_stat_selected);}if(this._accessibility_stat_expanded){nexacro.__setDOMNodeAccessibilityStatExpanded(_a,this._accessibility_stat_expanded);}if(this._accessibility_stat_autocomplete){nexacro.__setDOMNodeAccessibilityStatAutoComplete(_a,this._accessibility_stat_autocomplete);}if(this._accessibility_flag_haspopup){nexacro.__setDOMNodeAccessibilityStatHasPopup(_a,this._accessibility_flag_haspopup);}if(this._accessibility_flag_focusable){nexacro.__setDOMNodeAccessibilityFlagFocusable(_a,this._accessibility_flag_focusable);}if(this._accessibility_flag_readonly){nexacro.__setDOMNodeAccessibilityFlagReadOnly(_a,this._accessibility_flag_readonly);}if(this._accessibility_flag_password){nexacro.__setDOMNodeAccessibilityFlagPassword(_a,this._accessibility_flag_password);}if(this._accessibility_flag_multiselectable){nexacro.__setDOMNodeAccessibilityFlagMultiSelectable(_a,this._accessibility_flag_multiselectable);}if(this._accessibility_flag_selectable){nexacro.__setDOMNodeAccessibilityFlagSelectable(_a,this._accessibility_flag_selectable);}if(this._accessibility_flag_defaultbutton){nexacro.__setDOMNodeAccessibilityFlagDefaultButton(_a,this._accessibility_flag_defaultbutton);}if(this._accessibility_flag_multiline){nexacro.__setDOMNodeAccessibilityFlagMultiLine(_a,this._accessibility_flag_multiline);}if(this._accessibility_prop_itemcount){nexacro.__setDOMNodeAccessibilityInfoCount(_a,this._accessibility_prop_itemcount);}if(this._accessibility_prop_itemindex){nexacro.__setDOMNodeAccessibilityInfoIndex(_a,this._accessibility_prop_itemindex);}if(this._accessibility_prop_valuemax){nexacro.__setDOMNodeAccessibilityInfoValueMax(_a,this._accessibility_prop_valuemax);}if(this._accessibility_prop_valuemin){nexacro.__setDOMNodeAccessibilityInfoValueMin(_a,this._accessibility_prop_valuemin);}}};}_pControlElementBase._convertContainerLeftForRtlLayout=function(_a,_b){if(this._isRtl()){_a=this._inner_width-_b-_a;}return _a;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_pControlElementBase._refreshVMLContainerElement=function(_a,_b){if(_a&&_b&&_a._dest_handle&&_b._dest_handle&&_a._client_element&&_a._client_element._handle){var _c=_b._owner_elem;nexacro.__unlinkDOMNode(_a._handle,_b._dest_handle);nexacro.__insertDOMNode(_a._dest_handle,_b._dest_handle,_a._client_element._handle);_b._owner_elem=_c;return true;}return false;};_pControlElementBase._setControlOpacity=function(_a,_b,_c){var _d="";if(_c<0){_c=0;}if(_c<100){_d="progid:DXImageTransform.Microsoft.Alpha(opacity="+_c+")";}if(this._node_opacity_str!=_d){this._node_opacity_str=_d;if(_b){var _e=_b.style;nexacro.__setDOMNodeStyleForceVisibility(_e,true);if(_d){if(this._node_gradation){_e.filter=this._node_gradation+' '+_d;}else{_e.filter=_d;}}else{if(this._node_gradation){_e.filter=this._node_gradation;}else{_e.filter="";}}nexacro.__setDOMNodeStyleVisible(_e,this.visible);}}};if((nexacro.BrowserVersion<=6||nexacro.checkDocument.quirksMode)){_pControlElementBase._setControlSize=function(_a,_b,_c,_d){var _e=_c;var _f=_d;var _g=this.border;if(_g&&!_g._is_real_empty()){_e=_c-_g._getBorderWidth();_f=_d-_g._getBorderHeight();if(_e<0){_e=0;}if(_f<0){_f=0;}}if(this._node_width!=_c||this._node_height!=_d){this._node_width=_c;this._node_height=_d;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_c,_d);}}if(this._inner_width!=_e||this._inner_height!=_f){this._inner_width=_e;this._inner_height=_f;var _h=this._bkimage_elem;if(_h){_h.setElementSize(_e,_f);}}};}else{_pControlElementBase._setControlSize=function(_a,_b,_c,_d){var _e=_c;var _f=_d;var _g=this.border;if(_g&&!_g._is_real_empty()){_e=_c-_g._getBorderWidth();_f=_d-_g._getBorderHeight();if(_e<0){_e=0;}if(_f<0){_f=0;}}if(this._inner_width!=_e||this._inner_height!=_f){this._node_width=this._inner_width=_e;this._node_height=this._inner_height=_f;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_e,_f);}var _h=this._bkimage_elem;if(_h){_h.setElementSize(_e,_f);}}};}if((nexacro.BrowserVersion<=6||nexacro.checkDocument.quirksMode)){_pControlElementBase._isVML=function(){if(this._vml_elem){return true;}return false;};_pControlElementBase._setControlBorder=function(_a,_b,_c,_d){var _e=_a.width;var _f=_a.height;var _g=0;var _h=0;var _i=_e;var _j=_f;var _k=application.usevml;var _l=false;if(_d&&_d._isRound()){_l=true;}if(_c&&!_c._is_real_empty()){if(_k&&_l){_g=_c._left_width;_h=_c._top_width;}_i=_e-_c._getBorderWidth();_j=_f-_c._getBorderHeight();if(_i<0){_i=0;}if(_j<0){_j=0;}}var _m=(_b?_b.style:null);var _n=this._vml_elem;if(_k&&_l){if(this._dom_border){this._dom_border=null;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,null);}}this._clearDOMBackgroundOnly(_b);if(_n){_n.setElementSize(_a.width,_a.height);_n.setVMLBorder(_d,_c);this._vml_elem=_n;if(this.background){this._setControlBackground(_a,_b,this.background,this.gradation);}}else{_n=new nexacro._VMLContainerElement(_a);_n.setElementSize(_a.width,_a.height);_n.setVMLBorder(_d,_c);this._vml_elem=_n;this._setControlBackground(_a,_b,this.background,this.gradation);if(_b){var _o=_b.firstChild;_n.create(_o);}}}else{if(this._dom_border!=_c){this._dom_border=_c;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,_c);}}if(_n){_n.destroy();_n=null;this._vml_elem=_n;this._setControlBackground(_a,_b,this.background,this.gradation);}}var _p=this._inner_left!=_g||this._inner_top!=_h;var _q=this._inner_width!=_i||this._inner_height!=_j;var _r=this._bkimage_elem;if(_p){this._inner_left=_g;this._inner_top=_h;if(_r){_r.setElementPosition(_g,_h);}}if(_q){this._inner_width=_i;this._inner_height=_j;if(_r){_r.setElementSize(_i,_j);}}};}else{_pControlElementBase._isVML=function(){if(this._vml_elem){return true;}return false;};_pControlElementBase._setControlBorder=function(_a,_b,_c,_d){var _e=_a.width;var _f=_a.height;var _g=0;var _h=0;var _i=_e;var _j=_f;var _k=application.usevml;var _l=false;if(_d&&_d._isRound()){_l=true;}if(_c&&!_c._is_real_empty()){if(_k&&_l){_g=_c._left_width;_h=_c._top_width;}_i=_e-_c._getBorderWidth();_j=_f-_c._getBorderHeight();if(_i<0){_i=0;}if(_j<0){_j=0;}}var _m=this._vml_elem;if(_k&&_l){if(this._node_width!=_e||this._node_height!=_f){this._node_width=_e;this._node_height=_f;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_e,_f);}}if(this._dom_border){this._dom_border=null;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,null);}}this._clearDOMBackgroundOnly(_b);if(_m){_m.setElementSize(_a.width,_a.height);_m.setVMLBorder(_d,_c);this._vml_elem=_m;if(this.background){this._setControlBackground(_a,_b,this.background,this.gradation);}}else{_m=new nexacro._VMLContainerElement(_a);_m.setElementSize(_a.width,_a.height);_m.setVMLBorder(_d,_c);this._vml_elem=_m;this._setControlBackground(_a,_b,this.background,this.gradation);if(_b){var _n=_b.firstChild;_m.create(_n);}}}else{if(this._node_width!=_i||this._node_height!=_j){this._node_width=_i;this._node_height=_j;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_i,_j);}}if(this._dom_border!=_c){this._dom_border=_c;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,_c);}}if(_m){_m.destroy();_m=null;this._vml_elem=_m;this._setControlBackground(_a,_b,this.background,this.gradation);}}var _o=this._inner_left!=_g||this._inner_top!=_h;var _p=this._inner_width!=_i||this._inner_height!=_j;var _q=this._bkimage_elem;if(_o){this._inner_left=_g;this._inner_top=_h;if(_q){_q.setElementPosition(_g,_h);}}if(_p){this._inner_width=_i;this._inner_height=_j;if(_q){_q.setElementSize(_i,_j);}}};}_pControlElementBase._setDOMBackgroundOnly=function(_a,_b,_c){if(_a){var _d=_a?_a.style:null;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_d.backgroundColor=(_b?_b:"transparent");}if(this._node_gradation!=_c){this._node_gradation=_c;nexacro.__setDOMNodeStyleForceVisibility(_d,true);if(_c){if(this._node_opacity_str){_d.filter=_c+' '+this._node_opacity_str;}else{_d.filter=_c;}}else{if(this._node_opacity_str){_d.filter=this._node_opacity_str;}else{_d.filter="";}}nexacro.__setDOMNodeStyleVisible(_d,this.visible);}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";_d.backgroundImage="";}}else{this._node_bkcolor=_b;this._node_gradation=_c;this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";}};_pControlElementBase._setDOMBackground=function(_a,_b,_c,_d,_e,_f,_g){var _h=_f+"% "+_g+"%";if(_e==""){_e="no-repeat";}_b=(_b?_b:"transparent");if(_a){var _i=_a.style;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_i.backgroundColor=_b;}if(this._node_gradation!=_c){this._node_gradation=_c;nexacro.__setDOMNodeStyleForceVisibility(_i,true);if(_c){if(this._node_opacity_str){_i.filter=_c+' '+this._node_opacity_str;}else{_i.filter=_c;}}else{if(this._node_opacity_str){_i.filter=this._node_opacity_str;}else{_i.filter="";}}nexacro.__setDOMNodeStyleVisible(_i,this.visible);}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(this.linkedcontrol._is_subcontrol==true&&_b=="transparent"&&_d==""){_d=null;}}if(this._background_style!=0||this._node_bkurl!=_d||this._node_bkrepeat!=_e||this._node_bkpos!=_h){this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(_d){var _j="url("+_d+")";_i.backgroundImage=_j;_i.backgroundRepeat=_e;_i.backgroundPosition=_h;}else{_i.backgroundImage="";}}}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(this.linkedcontrol._is_subcontrol==true&&_b=="transparent"&&_d==""){_d=null;}}this._node_bkcolor=_b;this._node_gradation=_c;this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}}};_pControlElementBase._clearDOMBackgroundOnly=function(_a){if(_a){var _b=_a.style;if(this._node_bkcolor){this._node_bkcolor="";_b.backgroundColor="transparent";}if(this._node_gradation){this._node_gradation="";nexacro.__setDOMNodeStyleForceVisibility(_b,true);if(this._node_opacity_str){_b.filter=this._node_opacity_str;}else{_b.filter="";}nexacro.__setDOMNodeStyleVisible(_b,this.visible);}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";_b.backgroundImage="";}}else{this._node_bkcolor="";this._node_gradation="";this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";}};_pControlElementBase._clearDOMBackground=function(_a){if(_a){var _b=_a.style;if(this._node_bkcolor){this._node_bkcolor="";_b.backgroundColor="transparent";}if(this._node_gradation){this._node_gradation="";nexacro.__setDOMNodeStyleForceVisibility(_b,true);if(this._node_opacity_str){_b.filter=this._node_opacity_str;}else{_b.filter="";}nexacro.__setDOMNodeStyleVisible(_b,this.visible);}if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";this._background_style=0;_b.backgroundImage="";}}else{this._node_bkcolor="";this._node_gradation="";if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";this._background_style=0;}};_pControlElementBase._setControlBackground=function(_a,_b,_c,_d,_e){if(_c){var _f="";var _g=_c._syscolor;var _h=_c.image;var _i=_c.repeat;var _j=_c.position_x;var _k=_c.position_y;var _l=_c.imageedge_x;var _m=_c.imageedge_y;var _n=this._vml_elem;var _o=application.usevml;if(_e){_o=false;}_h=nexacro._getURIValue(_h);if(_h&&!nexacro._isAbsolutePath(_h)){var _p=this._getElementBaseUrl();_h=nexacro._getImageLocation(_h,_p);}if(_c.color=="@gradation"&&_d){_g="";_f=_d._sysvalue;}if(_o&&_c._sysopacity<100){var _q=this.bordertype;if(!_n&&_q&&_q._isRound()){this._clearDOMBackgroundOnly(_b);_n=new nexacro._VMLContainerElement(_a);_n.setElementSize(_a.width,_a.height);_n.setVMLBorder(_q,this.border);this._vml_elem=_n;if(_b){var _r=_b.firstChild;_n.create(_r);}}}if(_n){if(_h){if(_i=="quad"){this._clearDOMBackgroundOnly(_b);_n.setVMLBackground(_c,_d);_n.clearVMLImage();this._setDOMQuadImage(_a,_b,_h);}else if(_i=="stretch"){if(_l==0&&_m==0){this._clearDOMBackground(_b);_n.setVMLBackground(_c,_d);_n.setVMLStretchImage(_h);}else{this._clearDOMBackgroundOnly(_b);_n.setVMLBackground(_c,_d);_n.clearVMLImage();this._setDOMEdgeImage(_a,_b,_h,_l,_m);}}else{this._clearDOMBackground(_b);_n.setVMLBackground(_c,_d);_n.setVMLRepeatImage(_b,_h,_i,_j,_k);}}else{this._clearDOMBackground(_b);_n.clearVMLImage();_n.setVMLBackground(_c,_d);}_n.updateVMLInfo();}else{if(_h){if(_i=="quad"){this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMQuadImage(_a,_b,_h);}else if(_i=="stretch"){if(_l==0&&_m==0){this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMStretchImage(_a,_b,_h,_j,_k);}else{this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMEdgeImage(_a,_b,_h,_l,_m);}}else{if(!_i){_i="no-repeat";}if(_f){this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMRepeatImage(_a,_b,_h,_i,_j,_k);}else{this._setDOMBackground(_b,_g,_f,_h,_i,_j,_k);}}}else{this._setDOMBackground(_b,_g,_f,"","",0,0);}}}};_pControlElementBase._createControlSubElements=function(_a,_b){if(_b){var _c=_b.style;var _d=this._dom_border;if(_d&&!_d._is_real_empty()){if(_d._linecnt==1){_c.border=_d._systop;}else{var _e=_d._getStyleObject(this._isRtl());_c.borderTop=_e._systop;_c.borderRight=_e._sysright;_c.borderBottom=_e._sysbottom;_c.borderLeft=_e._sysleft;}}var _f=this._node_bkcolor;if(_f){_c.backgroundColor=_f;}var _g=this._node_gradation;nexacro.__setDOMNodeStyleForceVisibility(_c,true);if(_g){if(this._node_opacity_str){_c.filter=_g+' '+this._node_opacity_str;}else{_c.filter=_g;}}else if(this._node_opacity_str){_c.filter=this._node_opacity_str;}nexacro.__setDOMNodeStyleVisible(_c,this.visible);var _h=this._node_bkurl;if(_h){var _i="url("+_h+")";var _j=this._node_bkrepeat;var _k=this._node_bkpos;_c.backgroundImage=_i;_c.backgroundRepeat=_j;_c.backgroundPosition=_k;}var _l=this._vml_elem;if(_l){var _m=null;_l.create(null);}var _n=this._bkimage_elem;if(_n){var _m=null;if(_a._client_element){_m=_a._client_element;}_n.create(_m);}}};_pControlElementBase._destroyControlSubElements=function(){if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(this._vml_elem){this._vml_elem.destroy();this._vml_elem=null;}};_pControlElementBase._setDOMRepeatImage=function(_a,_b,_c,_d,_e,_f){if(this._background_style==1){this._bkimage_elem.setElementInfo(_c,_d,_e,_f);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _g=new nexacro._RepeatImageElement(_a);_g.setElementPosition(this._inner_left,this._inner_top);_g.setElementSize(this._inner_width,this._inner_height);_g.setElementInfo(_c,_d,_e,_f);this._bkimage_elem=_g;this._background_style=1;if(_b){var _h=null;if(_a._client_element){_h=_a._client_element;}_g.create(_h);}}};_pControlElementBase._setDOMStretchImage=function(_a,_b,_c){if(this._background_style==2){this._bkimage_elem.setElementInfo(_c);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _d=new nexacro._StretchImageElement(_a);_d.setElementPosition(this._inner_left,this._inner_top);_d.setElementSize(this._inner_width,this._inner_height);_d.setElementInfo(_c);this._bkimage_elem=_d;this._background_style=2;if(_b){var _e=null;if(_a._client_element){_e=_a._client_element;}_d.create(_e);}}};_pControlElementBase._setDOMQuadImage=function(_a,_b,_c){if(this._background_style==3){this._bkimage_elem.setElementInfo(_c);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _d=new nexacro._QuadImageElement(_a);_d.setElementPosition(this._inner_left,this._inner_top);_d.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_d.setElementInfo(_c);this._bkimage_elem=_d;this._background_style=3;if(_b){var _e=null;if(_a._client_element){_e=_a._client_element;}_d.create(_e);}}};_pControlElementBase._setDOMEdgeImage=function(_a,_b,_c,_d,_e){if(this._background_style==4){this._bkimage_elem.setElementInfo(_c,_d,_e);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _f=new nexacro._EdgeImageElement(_a);_f.setElementPosition(this._inner_left,this._inner_top);_f.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_f.setElementInfo(_c,_d,_e);this._bkimage_elem=_f;this._background_style=4;if(_b){var _g=null;if(_a._client_element){_g=_a._client_element;}_f.create(_g);}}};}else{_pControlElementBase._isVML=function(){return false;};_pControlElementBase._setControlOpacity=function(_a,_b,_c){if(this._node_opacity!=_c){this._node_opacity=_c;if(_b){if(_c>=100){_b.style.opacity=1;}else if(_c<=0){_b.style.opacity=0;}else{_b.style.opacity=_c/100;}}}};_pControlElementBase._setControlSize=function(_a,_b,_c,_d){var _e=_c;var _f=_d;var _g=this.border;if(_g&&!_g._is_real_empty()){_e=_c-_g._getBorderWidth();_f=_d-_g._getBorderHeight();if(_e<0){_e=0;}if(_f<0){_f=0;}}if(this._inner_width!=_e||this._inner_height!=_f){this._node_width=this._inner_width=_e;this._node_height=this._inner_height=_f;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_e,_f);}var _h=this._bkimage_elem;if(_h){_h.setElementSize(_e,_f);}}};_pControlElementBase._setControlBorder=function(_a,_b,_c,_d){var _e=this._isRtl(true);var _f=_c;var _g=_d;_f=_c?_c._getStyleObject(_e^this.mirror):null;_g=_d?_d._getStyleObject(_e):null;if(_b){if(_d){nexacro.__setDOMNodeStyleBorderType(_b.style,_g);}else{nexacro.__clearDOMNodeStyleBorderType(_b.style);}}this.border=_c;var _h=_a.width;var _i=_a.height;var _j=_h;var _k=_i;if(_f&&!_f._is_real_empty()){if(_b){var _l=_b.style;if(_f._linecnt==1){_l.border=_f._systop;}else{_l.borderTop=_f._systop;_l.borderRight=_f._sysright;_l.borderBottom=_f._sysbottom;_l.borderLeft=_f._sysleft;}}_j=_h-_f._getBorderWidth();_k=_i-_f._getBorderHeight();if(_j<0){_j=0;}if(_k<0){_k=0;}}else{if(_b){_b.style.border="none";}}if(this._inner_width!=_j||this._inner_height!=_k){this._node_width=this._inner_width=_j;this._node_height=this._inner_height=_k;if(_b){var _l=_b.style;_l.width=_j+"px";_l.height=_k+"px";}var _m=this._bkimage_elem;if(_m){_m.setElementSize(_j,_k);}}};_pControlElementBase._setDOMBackgroundOnly=function(_a,_b,_c){_b=(_b?_b:"transparent");if(_a){var _d=_a.style;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_d.backgroundColor=_b;}if(this._node_gradation!=_c){this._node_gradation=_c;nexacro.__setDOMNodeStyleBackgroundGradation(_d,_c);}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";_d.backgroundImage="";}}else{this._node_bkcolor=_b;this._node_gradation=_c;this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";}};_pControlElementBase._setDOMBackground=function(_a,_b,_c,_d,_e,_f,_g){var _h=_f+"% "+_g+"%";if(_e==""){_e="no-repeat";}_b=(_b?_b:"transparent");if(_a){var _i=_a.style;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_i.backgroundColor=_b;}if(this._background_style!=0||this._node_gradation!=_c||this._node_bkurl!=_d||this._node_bkrepeat!=_e||this._node_bkpos!=_h){this._node_gradation=_c;this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(nexacro.Browser=="Chrome"){if(_d&&_d.substring(0,17)=="data:image;base64"){var _j=_d.substr(0,10);var _k=_d.substr(10,_d.length-1);_d=_j+"/*"+_k;}}nexacro.__setDOMNodeStyleBackgroundImageGradation(_i,_d,_c,_e,_h);}}else{if(nexacro.Browser=="IE"&&(nexacro.BrowserVersion==9||nexacro.BrowserVersion==10)){if(this.linkedcontrol._is_subcontrol==true&&_b=="transparent"&&_d==""){_d=null;}}this._node_bkcolor=_b;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}this._node_gradation=_c;this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;}};_pControlElementBase._setControlBackground=function(_a,_b,_c,_d){if(_c){var _e="";var _f=_c._syscolor;var _g=_c.image;var _h=_c.repeat;var _i=_c.position_x;var _j=_c.position_y;var _k=_c.imageedge_x;var _l=_c.imageedge_y;var _e="";_g=nexacro._getURIValue(_g);if(_g&&!nexacro._isAbsolutePath(_g)){var _m=this._getElementBaseUrl();_g=nexacro._getImageLocation(_g,_m);}if(_c.color=="@gradation"&&_d){_f="";_e=_d._sysvalue;}if(_g){if(_h=="quad"){this._setDOMBackgroundOnly(_b,_f,_e);this._setDOMQuadImage(_a,_b,_g);}else if(_h=="stretch"&&(_k!=0||_l!=0)){this._setDOMBackgroundOnly(_b,_f,_e);this._setDOMEdgeImage(_a,_b,_g,_k,_l);}else{this._setDOMBackground(_b,_f,_e,_g,_h,_i,_j);}}else{this._setDOMBackground(_b,_f,_e,"","",0,0);}}};_pControlElementBase._createControlSubElements=function(_a,_b){if(_b){var _c=_b.style;var _d=this.bordertype;if(_d){var _e=_d._getStyleObject(this._isRtl());nexacro.__setDOMNodeStyleBorderType(_b.style,_e);}var _f=this.border;if(_f&&!_f._is_real_empty()){if(_f._linecnt==1){_c.border=_f._systop;}else{var _g=_f._getStyleObject(this._isRtl());_c.borderTop=_g._systop;_c.borderRight=_g._sysright;_c.borderBottom=_g._sysbottom;_c.borderLeft=_g._sysleft;}}var _h=this._node_bkcolor;if(_h){_c.backgroundColor=_h;}var _i=this._node_gradation;var _j=this._node_bkurl;var _k=this._node_bkrepeat;var _l=this._node_bkpos;nexacro.__setDOMNodeStyleBackgroundImageGradation(_c,_j,_i,_k,_l);var _m=this._bkimage_elem;if(_m){var _n=null;if(_a._client_element){_n=_a._client_element;}_m.create(_n);}}};_pControlElementBase._destroyControlSubElements=function(){if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}};_pControlElementBase._setDOMQuadImage=function(_a,_b,_c){if(this._background_style==3){this._bkimage_elem.setElementInfo(_c);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _d=new nexacro._QuadImageElement(_a);_d.setElementPosition(this._inner_left,this._inner_top);_d.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_d.setElementInfo(_c);this._bkimage_elem=_d;this._background_style=3;if(_b){var _e=null;if(_a._client_element){_e=_a._client_element;}_d.create(_e);}}};_pControlElementBase._setDOMEdgeImage=function(_a,_b,_c,_d,_e){if(this._background_style==4){this._bkimage_elem.setElementInfo(_c,_d,_e);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _f=new nexacro._EdgeImageElement(_a);_f.setElementPosition(this._inner_left,this._inner_top);_f.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_f.setElementInfo(_c,_d,_e);this._bkimage_elem=_f;this._background_style=4;if(_b){var _g=null;if(_a._client_element){_g=_a._client_element;}_f.create(_g);}}};}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<8){_pControlElementBase.setAccessibility=nexacro._emptyFn;_pControlElementBase.notifyAccessibility=nexacro._emptyFn;_pControlElementBase._makeAccessibilityLabelbyReadtype=nexacro._emptyFn;}else{_pControlElementBase.setAccessibility=function(_a){var _b=_a._role;var _c=_a.enable;var _d=_a._desclevel?_a._desclevel:_a.desclevel;var _e=(_a._label?_a._label:_a.label);var _f=_a._description?_a._description:_a.description;var _g=_a._action?_a._action:_a.action;var _h=this._handle;if(_h){if(_b!=this.accessibility_role&&_b!="none"){this.accessibility_role=_b;nexacro.__setDOMNodeAccessibilityRole(_h,_b);}if(_d!=this.accessibility_desclevel){this.accessibility_desclevel=_d;nexacro.__setDOMNodeAccessibilityDescLevel(_h,_d);}if(_e!=this.accessibility_label){this.accessibility_label=_e;}if(_f!=this.accessibility_description){this.accessibility_description=_f;nexacro.__setDOMNodeAccessibilityDescription(_h,_f);}if(_g!=this.accessibility_action){this.accessibility_action=_g;}var _i=this._makeAccessibilityLabelbyReadtype();if(_i!=this.accessibility_readlabel){this.accessibility_readlabel=_i;nexacro.__setDOMNodeAccessibilityLabel(_h,_i);}this.accessibility_enable=_c;}else{this.accessibility_role=_b;this.accessibility_desclevel=_d;this.accessibility_label=_e;this.accessibility_description=_f;this.accessibility_action=_g;this.accessibility_enable=_c;}};_pControlElementBase.notifyAccessibility=function(_a,_b,_c){var _d=this._makeAccessibilityLabelbyReadtype(this);this.accessibility_readlabel=_d;nexacro.__notifyAccessibility(this._handle,_a?_a:this.accessibility_readlabel,_b?_b:"notify",this,_c);};_pControlElementBase._makeAccessibilityLabelbyReadtype=function(){var _a=" ";if(this.accessibility_desclevel!="none"&&this.accessibility_desclevel!="child"){if((nexacro._accessibilitydescreadtype&0x01)==0x01){_a=nexacro.AccessibilityUtil.getAccessibilityLabel(this);}if((nexacro._accessibilitydescreadtype&0x02)==0x02&&this.accessibility_action){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityAction(this);}if((nexacro._accessibilitydescreadtype&0x04)==0x04&&this.accessibility_description){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityDescription(this);}if(nexacro.AccessibilityUtil.getAccessibilityAdditionalLabel){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityAdditionalLabel(this);}}return _a;};}nexacro.SimpleControlElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pSimpleControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.SimpleControlElement);nexacro.SimpleControlElement.prototype=_pSimpleControlElement;_pSimpleControlElement._type_name="SimpleControlElement";_pSimpleControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);if(this.mirror){var _e=this.background;if(_e&&_e.image){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());if(this._client_element&&this._client_element._handle){nexacro.__setDOMNodeStyleTransformMirror(this._client_element._handle.style,this.mirror&&this._isRtl());}}}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}};_pSimpleControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pSimpleControlElement._updateClientSize=function(){this.client_left=this._inner_left;this.client_top=this._inner_top;this.client_width=this._inner_width;this.client_height=this._inner_height;};_pSimpleControlElement.getContainerElement=function(){return this;};_pSimpleControlElement.setElementPadding=function(_a){};_pSimpleControlElement.setElementPaddingXY=function(_a,_b,_c,_d){};_pSimpleControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pSimpleControlElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pSimpleControlElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pSimpleControlElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pSimpleControlElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pSimpleControlElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pControlElementBase.saveToImage=nexacro._emptyFn;_pControlElementBase.saveToImageFile=nexacro._emptyFn;_pControlElementBase.saveToImageObject=nexacro._emptyFn;_pSimpleControlElement.setElementHScrollPos=function(_a){if(_a<0){_a=0;}if(this.scroll_left!=_a||this._reset_scrollpos){this.scroll_left=_a;var _b=this._handle;if(_b){_a=nexacro.__convertScrollLeftFromDOMNode(_b,_a);nexacro.__setDOMNodeHScrollPos(_b,_a);}}};_pSimpleControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(this.scroll_top!=_a||this._reset_scrollpos){this.scroll_top=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeVScrollPos(_b,_a);}}};_pSimpleControlElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(this.scroll_left!=_a||this.scroll_top!=_b){this.scroll_left=_a;this.scroll_top=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeOffset(_c,_a,_b);}}};_pSimpleControlElement._refreshVMLContainerElement=function(_a,_b){if(_a&&_b&&_a._dest_handle&&_b._dest_handle){var _c=_b._dest_handle.parentNode;var _d=nexacro.__getLastChildDOMNode(_c);if(_d&&_b._dest_handle!=_d){nexacro.__unlinkDOMNode(_c,_b._dest_handle);_c.insertBefore(_b._dest_handle,_d);return true;}}return false;};nexacro.ControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.ControlElement);nexacro.ControlElement.prototype=_pControlElement;_pControlElement._type_name="ControlElement";_pControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);if(this._rtldirection){nexacro.__setDOMNodeStyleDirection(_d,this._rtldirection);}}if(this._handle&&!this._client_element._handle){this._client_element.create();}if(_d){var _e=this.background;if(_e&&_e.image){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());nexacro.__setDOMNodeStyleTransformMirror(this._client_element._handle.style,this.mirror&&this._isRtl());}}}};_pControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pControlElement.getContainerElement=function(){return this._client_element;};_pControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;if(this.padding){var _e=this.padding;_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}var _f=this._client_element;if(_f){if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_f.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pControlElement._changeDOMObjectVisibility=function(_a){var _b=this.getRootWindowHandle();var _c=document.getElementsByTagName("OBJECT");var _d=this._handle.id;var _e=_a._handle.id;if(_c.length>0){for(var _h=0;_h<_c.length;_h++ ){var _f=_c[_h].parentElement._linked_element;if(_f instanceof nexacro.PluginElement){var _g=_f._parent_elem._handle.id;if(_g.indexOf(_d)> -1){if(_g.indexOf(_e)> -1){_f.setElementVisible(true);}else{_f.setElementVisible(false);}}}}}_c=document.getElementsByTagName("IFRAME");if(_c.length>0){for(var _h=0;_h<_c.length;_h++ ){var _f=_c[_h]._linked_element;if(_f instanceof nexacro.PluginElement){var _g=_f._parent_elem._handle.id;if(_g.indexOf(_d)> -1){if(_g.indexOf(_e)> -1){_f.setElementVisible(true);}else{_f.setElementVisible(false);}}}}}return;};_pControlElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;this._updateClientSize();};_pControlElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;this._updateClientSize();};_pControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pControlElement.sendToBackElement=function(_a){this._client_element.sendToBackElement(_a);};_pControlElement.bringToFrontElement=function(_a){this._client_element.bringToFrontElement(_a);};_pControlElement.moveToNextElement=function(_a,_b){this._client_element.moveToNextElement(_a,_b);};_pControlElement.moveToPrevElement=function(_a,_b){this._client_element.moveToPrevElement(_a,_b);};nexacro.FrameControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;this._border_elems=new nexacro.Collection();this._frame_node=null;};var _pFrameControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.FrameControlElement);nexacro.FrameControlElement.prototype=_pFrameControlElement;_pFrameControlElement._type_name="FrameControlElement";_pFrameControlElement._title_control=null;_pFrameControlElement._menubar_control=null;_pFrameControlElement._status_control=null;_pFrameControlElement._title_height=0;_pFrameControlElement._menu_height=0;_pFrameControlElement._status_height=0;_pFrameControlElement._title_top=0;_pFrameControlElement._title_width=0;_pFrameControlElement._menu_top=0;_pFrameControlElement._menu_width=0;_pFrameControlElement._status_top=0;_pFrameControlElement._status_width=0;_pFrameControlElement._max_child_zindex=0;_pFrameControlElement._is_window_element=false;_pFrameControlElement._resizable=false;_pFrameControlElement._doc=null;_pFrameControlElement.create=function(){if(!this._handle){if(this._parent_elem==null){var _a=this.linkedcontrol._getWindow();var _b=this._doc=_a._doc;this._owner_elem=_a;this._is_window_element=true;this.left=0;this.top=0;this.width=this._node_width=_a.clientWidth;this.height=this._node_height=_a.clientHeight;var _c;if(_a._custom_node_id){_c=this._handle=this._dest_handle=_a._dest_handle=_b.createElement("DIV");}else{_c=this._handle=this._dest_handle=_a._dest_handle;}this.linkedcontrol._unique_id=this.linkedcontrol.id;_c.id=this.linkedcontrol.id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!_a._custom_node_id&&!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){nexacro.__setDOMNodeStyleFixed(_d);}nexacro.__setDOMNodeStyleMargin(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);this._client_element.create();}else{var _e=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement();if(_e&&_e._handle&&!this._handle){this._owner_elem=_e;var _b=_e.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;var _d=_c.style;if(_e instanceof nexacro.ModalOverlayElement){if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_e._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);if(this._client_element){this._client_element.create();}this._frame_node=nexacro._createFrameNode(_c,this.left,this.top,_b);}}if(this._resizable){this._createBorderElements();this._updateBorderElementsPosition();}}else{if(this._parent_elem==null){var _a=this.linkedcontrol._getWindow();if(this._handle!=_a._dest_handle){var _f=this._handle;var _b=this._doc=_a._doc;this._owner_elem=_a;this._is_window_element=true;this.left=0;this.top=0;this.width=this._node_width=_a.clientWidth;this.height=this._node_height=_a.clientHeight;var _c=this._handle=this._dest_handle=_a._dest_handle;this.linkedcontrol._unique_id=this.linkedcontrol.id;_c.id=this.linkedcontrol.id;_c._linked_element=this;_c._element_type=1;var _d=_c.style;if(this.border){this.border=null;}this._title_height=0;this._status_height=0;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStyleMargin(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);if(_f.hasChildNodes()){var _g=_f.childNodes;for(var _i=0,_j=_g.length;_i<_j;_i++ ){var _h=_g[_i];nexacro.__appendDOMNode(_c,_h);}}this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}}};_pFrameControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._is_window_element&&(!this._owner_elem||_b)){nexacro.__removeDOMNode(_b,_a);}nexacro._destroyFrameNode(_a,this._frame_node);this._frame_node=null;this._owner_elem=null;this._doc=null;if(!this._is_window_element){this._dest_handle=null;}this._handle=null;this._destroyBorderElements();this._destroyControlSubElements();if(this._client_element){this._client_element.destroy();}this._client_element=null;this._dest_handle=null;this._title_control=null;this._menubar_control=null;this._status_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pFrameControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pFrameControlElement._appendToContainer=function(_a){var _b=this._handle;if(_b&&_a._handle&&this._owner_elem==null){this._owner_elem=_a;nexacro.__appendDOMNode(_a._dest_handle,_b);}};_pFrameControlElement._appendToContainer=function(_a){var _b=this._handle;if(_b&&_a._handle&&this._owner_elem==null){this._owner_elem=_a;nexacro.__appendDOMNode(_a._dest_handle,_b);}};_pFrameControlElement._appendToContainer=function(_a){var _b=this._handle;if(_b&&_a._handle&&this._owner_elem==null){this._owner_elem=_a;nexacro.__appendDOMNode(_a._dest_handle,_b);}};_pFrameControlElement._appendToContainer=function(_a){var _b=this._handle;if(_b&&_a._handle&&this._owner_elem==null){this._owner_elem=_a;nexacro.__appendDOMNode(_a._dest_handle,_b);}};_pFrameControlElement._removeFromContainer=function(){var _a=this._owner_elem;if(_a){this._owner_elem=null;var _b=this._handle;if(_b&&_a._handle){if(_a._dest_handle!=_b){nexacro.__unlinkDOMNode(_a._dest_handle,_b);}}}};_pFrameControlElement.getContainerElement=function(){return this._client_element;};_pFrameControlElement.getRootWindowHandle=function(){if(this._is_window_element){return this._doc;}else if(this._owner_elem){return this._owner_elem.getRootWindowHandle();}else if(this._parent&&this._parent.getRootWindowHandle){return this._parent.getRootWindowHandle();}return null;};_pFrameControlElement.setElementBorder=function(_a,_b){if(this.linkedcontrol&&this.linkedcontrol._is_window){return;}nexacro.ControlElementBase.prototype.setElementBorder.call(this,_a,_b);};_pFrameControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this._title_control;if(_e){if(!this._is_verticalmin&&(this.client_left!=_a||this._title_top!=_b||this._title_width!=_c)){this._title_top=_b;this._title_width=_c;_e.move(_a,_b,_c,this._title_height);}else if(this._is_verticalmin&&(this.client_top!=_b||this._title_top!=_b||this._title_height!=_d)){this._title_top=_b;this._title_width=_c;_e.move(_a,_b,_c,_d);}if(this._is_verticalmin!=true){_b+=this._title_height;_d-=this._title_height;if(_d<0){_d=0;}}else{_a+=this._title_width;_c-=this._title_width;if(_c<0){_c=0;}}}else{this._title_top=_b;}var _f=this._menubar_control;if(_f){var _g=_b;if(this.client_left!=_a||this._menu_top!=_b||this._menu_width!=_c){this._menu_top=_b;this._menu_width=_c;_f.move(_a,_b,_c,this._menu_height);}_b+=this._menu_height;_d-=this._menu_height;if(_d<0){_d=0;}}else{this._menu_top=_b;}var _h=this._status_control;if(_h){if(this._status_height>0){_d-=this._status_height;if(_d<0){_d=0;}}var _i=_b+_d;if(this.client_left!=_a||this._status_top!=_i||this._status_width!=_c){this._status_top=_i;this._status_width=_c;_h.move(_a,_i,_c,this._status_height);}}else{this._status_top=_b+_d;}var _j=this._client_element;if(_j){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_j.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_j.setElementSize(_c,_d);}}this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;this._updateBorderElementsPosition();};_pFrameControlElement.appendChildElement=function(_a){if(this._handle){if(!this._client_element){return;}if(_a._parent_elem==this._client_element){_a._is_nc_element=true;}else{if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this._client_element;_a._removeFromContainer();}else{_a._parent_elem=this._client_element;}}else{_a._parent_elem=this._client_element;}}_a._is_nc_element=true;_a.setElementPosition(0,0);_a.setElementSize(this.client_width,this.client_height);if(this.font){_a.setElementFont(this.font);}if(this.color){_a.setElementColor(this.color);}if(this.align){_a.setElementAlign(this.align);}else if(this.halign||this.valign){_a.setElementAlignXY(this.halign,this.valign);}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pFrameControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pFrameControlElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem&&_a._owner_elem._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);var _b=_a._border_elems;if(_b){for(var _c=0,_d=_b.length;_c<_d;_c++ ){nexacro.__setElementHandleSendToBack(_b[_c]._handle);}}}};_pFrameControlElement.bringToFrontElement=function(_a){if(this._client_element&&this._client_element._handle){this._max_child_zindex++ ;var _b=(this._max_child_zindex*10);_a.setElementZIndex(_b);var _c=_a._border_elems;if(_c){for(var _d=0,_e=_c.length;_d<_e;_d++ ){_c[_d].setElementZIndex(_b+(_d+1));}}}};_pFrameControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pFrameControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pFrameControlElement.setTitleBarControl=function(_a,_b){if(this._title_control!=_a){if(_a){_a._is_nc_control=true;this._title_control=_a;this._title_height=parseInt(_b)|0;this._title_width=0;}else{this._title_control=null;this._title_height=0;this._title_width=0;}this._updateClientSize();}else if(_a){this._title_height=parseInt(_b)|0;this._title_width=0;this._updateClientSize();}};_pFrameControlElement.setStatusBarControl=function(_a,_b){if(this._status_control!=_a){if(_a){_a._is_nc_control=true;this._status_control=_a;this._status_height=parseInt(_b)|0;this._status_width=0;}else{this._status_control=null;this._status_height=0;this._status_width=0;}this._updateClientSize();}else if(_a){this._status_height=parseInt(menu_height)|0;this._status_width=0;this._updateClientSize();}};_pFrameControlElement.setMenuBarControl=function(_a,_b){if(this._menu_control!=_a){if(_a){_a._is_nc_control=true;this._menu_control=_a;this._menu_height=parseInt(_b)|0;this._menu_width=0;_a.set_visible(this._menu_height>0);}else{this._menu_control=null;this._menu_height=0;this._menu_width=0;}this._updateClientSize();}else if(_a){this._menu_height=parseInt(_b)|0;this._menu_width=0;_a.set_visible(this._menu_height>0);}};_pFrameControlElement._createBorderElements=function(){if(this.parent==null||this._parent_elem==null){return;}if(this._border_elems.length>0){return;}var _a=Array("lt","t","rt","l","r","lb","b","rb");for(var _c=0;_c<8;_c++ ){var _b=new nexacro.FrameResizeBorderElement(this._parent_elem);_b.parent=this;this._border_elems.add_item(_a[_c],_b);}this._setResizable(this._resizable);for(var _c=0;_c<8;_c++ ){var _b=this._border_elems[_c];_b.linkedcontrol=this.linkedcontrol;_b.create();}};_pFrameControlElement._destroyBorderElements=function(){for(var _a=0,_b=this._border_elems.length;_a<_b;_a++ ){this._border_elems[_a].destroy();this._border_elems[_a]=null;}};_pFrameControlElement.setElementPosition=function(_a,_b){nexacro.ControlElementBase.prototype.setElementPosition.call(this,_a,_b);this._updateBorderElementsPosition();};_pFrameControlElement.setElementSize=function(_a,_b){nexacro.ControlElementBase.prototype.setElementSize.call(this,_a,_b);this._updateBorderElementsPosition();};_pFrameControlElement._updateBorderElementsPosition=function(){if(this._border_elems.length==0){return;}var _a=this.border;if(!_a){return;}var _b,_c,_d,_e;if(_a._linecnt==1){_b=_c=_d=_e=_a._getBorderLeftWidth();}else{_b=_a._getBorderLeftWidth();_c=_a._getBorderTopWidth();_d=_a._getBorderRightWidth();_e=_a._getBorderBottomWidth();}var _f=this._inner_width;var _g=this._inner_height;if(_b<5){var _h=5-_b;_b+=_h;_f-=_h;}if(_c<5){var _i=5-_c;_c+=_i;_g-=_i;}if(_d<5){var _j=5-_d;_d+=_j;_f-=_j;}if(_e<5){var _k=5-_e;_e+=_k;_g-=_k;}var _l=this.left;var _m=this.top;var _n=_l+this.width;var _o=_m+this.height;var _p=_l;var _q=_m;for(var _r=0;_r<8;_r++ ){this._border_elems[_r].setElementPosition(_p,_q);switch(_r){case 0:_p+=_b;break;case 1:_p+=_f;break;case 2:_p=_l;_q+=_c;break;case 3:_p+=(_b+_f);break;case 4:_p=_l;_q+=_g;break;case 5:_p+=_b;break;case 6:_p+=_f;break;case 7:break;}}for(var _r=0;_r<8;_r++ ){if(_r==0||_r==3||_r==5){_p=_b;}if(_r==1||_r==6){_p=_f;}if(_r==2||_r==4||_r==7){_p=_d;}if(_r<3){_q=_c;}else if(_r<5){_q=_g;}else{_q=_e;}this._border_elems[_r].setElementSize(_p,_q);}};_pFrameControlElement._setResizable=function(_a){this._resizable=_a;if(this._handle){if(this._border_elems.length==0){if(_a){this._createBorderElements();this._updateBorderElementsPosition();}else{return;}}var _b=Array("nw","n","ne","w","e","sw","s","se");for(var _e=0;_e<8;_e++ ){var _c=this._border_elems[_e];_c._is_track=_a;var _d;if(_a){_d=new nexacro.Style_value(_b[_e]+"-resize");}else{_d=new nexacro.Style_value("arrow");}_c.setElementCursor(_d);}}if(this._status_control){this._status_control._setResizable(_a);}};nexacro.FrameResizeBorderElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pFrameResizeBorderElement=nexacro._createPrototype(nexacro.SimpleControlElement,nexacro.FrameResizeBorderElement);nexacro.FrameResizeBorderElement.prototype=_pFrameResizeBorderElement;_pFrameResizeBorderElement._type_name="FrameResizeBorderElement";_pFrameResizeBorderElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement();if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);if(this._client_element){this._client_element.create();}}};_pFrameResizeBorderElement._on_starttrack=function(){this.linkedcontrol._on_border_starttrack(this.cursor);};_pFrameResizeBorderElement._on_endtrack=function(_a,_b,_c){this.linkedcontrol._on_border_endtrack(_a,_b,_c);};_pFrameResizeBorderElement._on_movetrack=function(_a,_b,_c){this.linkedcontrol._on_border_movetrack(_a,_b,_c);};delete _pFrameResizeBorderElement;nexacro.ModalOverlayElement=function(_a){this._parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pModalOverlayElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.ModalOverlayElement);nexacro.ModalOverlayElement.prototype=_pModalOverlayElement;_pModalOverlayElement._type_name="ModalOverlayElement";_pModalOverlayElement.create=function(_a,_b,_c){if(this._parent_elem&&!this._handle){var _d=this.linkedcontrol._getWindow();var _e=this._doc=this._parent.getRootWindowHandle();var _f=this._handle=this._dest_handle=_e.createElement("div");_f._linked_element=this;var _g=_d._handle;if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){this.width=nexacro._getWindowHandleClientWidth(_g)||_d.clientWidth;this.height=nexacro._getWindowHandleClientHeight(_g)||_d.clientHeight;}else{this.width=_d.clientWidth;this.height=_d.clientHeight;}this.zindex=_a;var _h=_f.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,0,0,this._isRtl());nexacro.__setDOMNodeStyleSize(_h,this.width,this.height);nexacro.__setDOMNodeStyleZindex(_h,_a);this.setElementColor(_b);var _i=_d;if(_c){_i._dest_handle.insertBefore(_f,_c);}else{nexacro.__appendDOMNode(_i._dest_handle,_f);}if(this._client_element){this._client_element.setElementSize(this.width,this.height);this._client_element.create();}this._refreshForeground(_i._dest_handle,_i._dest_handle.style);this._frame_node=nexacro._createFrameNode(_f,this.left,this.top,_e);}};_pModalOverlayElement.destroy=function(){if(!this._handle){return;}var _a=this.linkedcontrol._getWindow();var _b=_a;nexacro.__removeDOMNode(_b._dest_handle,this._handle);this._handle=null;this._client_element.destroy();this._client_element=null;nexacro._destroyFrameNode(this._handle,this._frame_node);this._frame_node=null;this._refreshForeground(_b._dest_handle,_b._dest_handle.style);};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_pModalOverlayElement.setElementColor=function(_a){_a=this._preventTransparentHittest(_a);this.color=_a;this._createVMLNode();};}else{_pModalOverlayElement.setElementColor=function(_a){_a=this._preventTransparentHittest(_a);this.color=_a;this._setDOMBackgroundOnly(this._handle,_a?_a._syscolor:0,null);};}_pModalOverlayElement._preventTransparentHittest=function(_a){if(!_a){return;}if(_a._value=="transparent"||_a._syscolor=="transparent"){_a._setValue("#ffffff01");}else if(_a._sysalpha==0){_a._sysalpha=1;var _b=_a._value;if(_b.length==9&&_b[7]=='0'&&_b[8]=='0'){_a._value=_b.slice(0,8)+"1";}_b=_a.value;if(_b.length==9&&_b[7]=='0'&&_b[8]=='0'){_a.value=_b.slice(0,8)+"1";}}return _a;};_pModalOverlayElement.setElementSize=function(_a,_b){var _c=nexacro.ControlElement.prototype.setElementSize.call(this,_a,_b);if(this._vml_node){var _d=_a;var _e=_b;this._vml_node.path="m 0,0 l "+_d+",0, "+_d+","+_e+", 0,"+_e+" x e";if(this._vml_fillnode){this._vml_node.removeChild(this._vml_fillnode);}var _f=this._doc;var _g=this.color;var _h=_g?_g._syscolor:0;var _i=_g?_g._sysalpha*100/255:100;var _j=_f.createElement("<v:fill color='"+_h+"' opacity='"+_i+"%'/>");this._vml_node.appendChild(_j);this._vml_fillnode=_j;}return _c;};_pModalOverlayElement._createVMLNode=function(){if(!this._handle){return;}if(this._vml_node){this._destroyVMLNode();}var _a=this.width;var _b=this.height;var _c=this._doc;var _d=_c.createElement("<v:shape stroked='f' style='position:absolute;width:"+_a+"px;height:"+_b+"px' coordorigin='0 0' coordsize='"+_a+" "+_b+"'/>");_a=parseInt(_a|1);_b=parseInt(_b|1);_d.path="m 0,0 l "+_a+",0, "+_a+","+_b+", 0,"+_b+" x e";this._handle.appendChild(_d);this._vml_node=_d;var _e=this.color;var _f=_e?_e._syscolor:0;var _g=_e?_e._sysalpha*100/255:100;var _h=_c.createElement("<v:fill color='"+_f+"' opacity='"+_g+"%'/>");_d.appendChild(_h);this._vml_fillnode=_h;};_pModalOverlayElement._destroyVMLNode=function(){if(this._handle&&this._vml_node){var _a=this._vml_node;nexacro.__removeDOMNode(this._handle,this._vml_node);this._vml_node=null;this._vml_fillnode=null;}};_pModalOverlayElement.getContainerElement=function(){return this._client_element;};_pModalOverlayElement.getRootWindowHandle=function(){return this._doc;};delete _pModalOverlayElement;nexacro.ScrollableControlElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;if(_b){var _c=new nexacro.ScrollableInnerContainerElement(this);}else{var _c=new nexacro.ScrollableContainerElement(this);}this._client_element=_c;};var _pScrollableControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.ScrollableControlElement);nexacro.ScrollableControlElement.prototype=_pScrollableControlElement;_pScrollableControlElement._type_name="ScrollableControlElement";_pScrollableControlElement._zoomFactor=100;_pScrollableControlElement.scroll_left=0;_pScrollableControlElement.scroll_top=0;_pScrollableControlElement.container_maxwidth=0;_pScrollableControlElement.container_maxheight=0;_pScrollableControlElement._hscroll_visible=false;_pScrollableControlElement._vscroll_visible=false;_pScrollableControlElement._hscroll_height=0;_pScrollableControlElement._vscroll_width=0;_pScrollableControlElement._hscroll_left=0;_pScrollableControlElement._hscroll_top=0;_pScrollableControlElement._hscroll_width=0;_pScrollableControlElement._vscroll_left=0;_pScrollableControlElement._vscroll_top=0;_pScrollableControlElement._vscroll_height=0;_pScrollableControlElement.hscroll_limit=0;_pScrollableControlElement.vscroll_limit=0;_pScrollableControlElement._scroll_showtype= -1;_pScrollableControlElement._scrollview_width_top=0;_pScrollableControlElement._step_count=0;_pScrollableControlElement._step_index= -1;_pScrollableControlElement._hscroll_control=null;_pScrollableControlElement._vscroll_control=null;_pScrollableControlElement._resizebutton_element=null;_pScrollableControlElement._step_containers=null;_pScrollableControlElement._scroll_overlap=false;_pScrollableControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}if(this._handle){var _e=this._step_count;if(_e>0){this._step_containers=[];for(var _g=0;_g<_e;_g++ ){var _f=new nexacro.ContainerElement(this._client_element);_f.setElementPosition(_g*this.client_width,0);_f.setElementSize(this.client_width,this.client_height);_f.create();_f.setElementOverFlow("");this._step_containers.push(_f);}if(this._scroll_showtype>=0){this._updateClientSize();}}}}};_pScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;var _c=this._step_containers;if(_c){var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];_e.destroy();}this._step_containers=null;}this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pScrollableControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();var _a=this._step_containers;if(_a){var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];_c.destroy();}this._step_containers=null;}}};_pScrollableControlElement.getContainerElement=function(_a){var _b=this._step_count;var _c=this._step_index;var _d=this._step_containers;if(_b>0&&_d&&_b>_a){if(_a<0||_a==null){_a=(_c> -1?_c:0);}return _d[_a];}else{return this._client_element;}};_pScrollableControlElement.setElementStepCount=function(_a){if(this._step_count!=_a){var _b=this._step_count;var _c=this._step_containers;if(_c&&this._step_count){for(var _e=0;_e<_b;_e++ ){var _d=_c[_e];_d.destroy();}this._step_containers=null;}this._step_count=_a;if(this._handle&&_a>0){this._step_containers=[];for(var _e=0;_e<_a;_e++ ){var _d=new nexacro.ContainerElement(this._client_element);_d.setElementPosition(_e*this.client_width,0);_d.setElementSize(this.client_width,this.client_height);_d.create();this._step_containers.push(_d);}}if(this._scroll_showtype>=0){this._updateClientSize();}}};_pScrollableControlElement.setElementStepIndex=function(_a){if(this._step_index!=_a){if(this._step_count>0){if(_a> -1&&this._step_count>_a){this._step_index=_a;}}else{this._step_index=_a;}}};_pScrollableControlElement.getZoom=function(){return this._zoomFactor;};_pScrollableControlElement.setZoom=function(_a){var _b=this._handle;if(_b){if(_a<0){_a=0;}this._zoomFactor=_a;var _c=this.getContainerElement(this._step_index);if(_c){this._client_element.setZoom(_a);}this._updateClientSize();}};_pScrollableControlElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;this._updateClientSize();};_pScrollableControlElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;this._updateClientSize();};_pScrollableControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this.padding;if(this.padding){_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}var _f=this._client_element;if(!_f||_c==0||_d==0){return;}var _g=this._zoomFactor/100;var _h=_c/_g;var _i=_d/_g;var _j=this._scroll_showtype;var _k=false;var _l=this.container_maxwidth;var _m=this.container_maxheight;if(_g!=1){var _n=4;_h=nexacro.floor(_h,_n);_i=nexacro.floor(_i,_n);_l=nexacro.floor(_l,_n);_m=nexacro.floor(_m,_n);}var _o=this._step_count;var _p=this._step_index;var _q=this._step_containers;if(_o>0&&_q){_k=true;}if(_j>0){var _r=false;var _s=false;var _t=0;var _u=0;if(_j==1){if(this._vscroll_control&&_m>_i){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m-_i;}if(_o>0&&_q){_l=_o*_h;}if(this._hscroll_control&&_l>_h){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}if(this._vscroll_control&&_m>_i){if(!_s){_s=true;_c-=this._vscroll_width;_h=_c/_g;}_u=_m-_i;}_t=_l-_h;}}else if(_j==2){if(this._vscroll_control){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m+this._hscroll_height-_i;}if(_o>0&&_q){_l=_o*_h;}if(this._hscroll_control){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}_t=_l-_h;}}else if(_j==31){if(this._vscroll_control){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m-_i;}if(_o>0&&_q){_l=_o*_h;}if(this._hscroll_control&&_l>_h){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}if(this._vscroll_control&&_m>_i){if(!_s){_s=true;_c-=this._vscroll_width;_h=_c/_g;}_u=_m-_i;}_t=_l-_h;}}else if(_j==32){if(this._vscroll_control&&_m>_i){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m+this._hscroll_height-_i;}if(_o>0&&_q){_l=_o*_h;}if(this._hscroll_control){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}_t=_l-_h;}}var _v=false;var _w=false;if(this.hscroll_limit!=_t){_w=true;this.hscroll_limit=_t;}if(this.vscroll_limit!=_u){_v=true;this.vscroll_limit=_u;}var _x=false;var _y=false;var _z=false;var _aa=false;if(this.scroll_top>_u){_x=true;this.scroll_top=(_u>0)?_u:0;}if(this.scroll_left>_t){_y=true;this.scroll_left=(_t>0)?_t:0;}if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_h||this.client_height!=_i||_f.width!=_h||_f.height!=_i){this.client_width=_c;this.client_height=_d;_f.setElementSize(_h,_i);if(_o>0&&_q){for(var _ad=0;_ad<_o;_ad++ ){var _ab=_q[_ad];_ab.setElementPosition(_h*_ad,0);_ab.setElementSize(_h,_d);}_p=this._step_index;var _ac=_h*_p;if(this.scroll_left!=_ac){_y=true;this.scroll_left=_ac;}}}if(_y){_f.setElementHScrollPos(this.scroll_left);}if(_x){_f.setElementVScrollPos(this.scroll_top);}if(this._vscroll_control){if(this._vscroll_control.parent.enable!=this._vscroll_control.enable){_z=true;}if(_s){if(!this._vscroll_visible){this._vscroll_visible=true;this._vscroll_control.set_visible(true);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_v){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_i,_i,this.vscroll_limit>0?true:false,this.scroll_top);}else if(_x){this._vscroll_control._setScrollPos(this.scroll_top);}if(_z){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}}else{if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_v){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left-this._vscroll_width,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_i,_i,false,this.scroll_top);}else if(_x){this._vscroll_control._setScrollPos(this.scroll_top);}if(_z){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}if(this._vscroll_visible){this._vscroll_visible=false;this._vscroll_control.set_visible(false);}}}if(this._hscroll_control){if(this._hscroll_control.parent.enable!=this._hscroll_control.enable){_aa=true;}if(_r){if(!this._hscroll_visible){this._hscroll_visible=true;this._hscroll_control.set_visible(true);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_w){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_h,_h,this.hscroll_limit>0?true:false,this.scroll_left);}else if(_y){this._hscroll_control._setScrollPos(this.scroll_left);}if(_aa){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}}else{if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_w){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top-this._hscroll_height,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_h,_h,false,this.scroll_left);}else if(_y){this._hscroll_control._setScrollPos(this.scroll_left);}if(_aa){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}if(this._hscroll_visible){this._hscroll_visible=false;this._hscroll_control.set_visible(false);}}}}else{if(_o>0&&_q){_l=_o*_h;var _t=0;if(_l>_h){_t=_l-_h;}if(this.hscroll_limit!=_t){this.hscroll_limit=_t;}}if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b);}if(this.client_width!=_h||this.client_height!=_i||_f.width!=_h||_f.height!=_i){this.client_width=_c;this.client_height=_d;_f.setElementSize(_h,_i);if(_o>0&&_q&&_o>_p){for(var _ad=0;_ad<_o;_ad++ ){var _ab=_q[_ad];_ab.setElementPosition(_h*_ad,0);_ab.setElementSize(_h,_d);}}}}};_pScrollableControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{var _d=this.getContainerElement(_a.position_step);_a._appendToContainer(_d);}}};_pScrollableControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pScrollableControlElement.sendToBackElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b.sendToBackElement(_a);};_pScrollableControlElement.bringToFrontElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b.bringToFrontElement(_a);};_pScrollableControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pScrollableControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pScrollableControlElement.bringToFrontUseZIndex=function(){var _a=this.linkedcontrol;if(_a){this.setElementZIndex(0);if(!this.visible){this.setElementVisible(true);}_a.parent._control_element._changeDOMObjectVisibility(this);}};_pScrollableControlElement.sendToBackUseZIndex=function(){var _a=this.linkedcontrol;if(_a){this.setElementZIndex( -2);if(!this.visible){this.setElementVisible(true);}_a.parent._control_element._changeDOMObjectVisibility(this);}};_pScrollableControlElement.setScrollControls=function(_a,_b,_c,_d,_e){var _f=false;if(this._scroll_showtype!=_e){this._scroll_showtype=_e;_f=true;}if(this._hscroll_control!=_a){if(_a){this._hscroll_visible=true;_a._is_nc_control=true;this._hscroll_control=_a;if(this._hscroll_height!=_c){this._hscroll_height=_c;_f=true;}}else{this._hscroll_control=null;if(this._hscroll_height){this._hscroll_height=0;_f=true;}this._hscroll_left=0;this._hscroll_top=0;this._hscroll_width=0;}}if(this._vscroll_control!=_b){if(_b){this._vscroll_visible=true;_b._is_nc_control=true;this._vscroll_control=_b;if(this._vscroll_width!=_d){this._vscroll_width=_d;_f=true;}}else{this._vscroll_control=null;if(this._vscroll_width){this._vscroll_width=0;_f=true;}this._vscroll_left=0;this._vscroll_top=0;this._vscroll_height=0;}}if(_f){this._updateClientSize();}};_pScrollableControlElement.setElementHScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(this.scroll_left!=_a||this._reset_scrollpos){this.scroll_left=_a;if(this._client_element){this._client_element.setElementHScrollPos(_a);}if(this._hscroll_control){this._hscroll_control._setScrollPos(this.scroll_left);}}};_pScrollableControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}if(this.scroll_top!=_a||this._reset_scrollpos){this.scroll_top=_a;if(this._client_element){this._client_element.setElementVScrollPos(_a);}if(this._vscroll_control){this._vscroll_control._setScrollPos(this.scroll_top);}}};_pScrollableControlElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}if(this.scroll_left!=_a||this.scroll_top!=_b){this.scroll_left=_a;this.scroll_top=_b;if(this._client_element){this._client_element.setElementScrollPos(_a,_b);}if(this._hscroll_control){this._hscroll_control._setScrollPos(this.scroll_left);}if(this._vscroll_control){this._vscroll_control._setScrollPos(this.scroll_top);}}};_pScrollableControlElement.setElementScrollMaxSize=function(_a,_b){if(this.container_maxwidth!=_a||this.container_maxheight!=_b){this.container_maxwidth=_a;this.container_maxheight=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};_pScrollableControlElement.setElementScrollbarSize=function(_a,_b){if(this._vscroll_width!=_a||this._hscroll_height!=_b){this._vscroll_width=_a;this._hscroll_height=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};_pScrollableControlElement.setElementInitPosSize=function(_a,_b,_c,_d){};_pScrollableControlElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this.background;var _e=this.image;if(_d&&_d.image){var _f=this._handle;var _g=this._isRtl(true);if(_f){this.setElementBorder(this.border,this.bordertype);this.setElementPadding(this.padding);nexacro.__setDOMNodeStyleTransformMirror(_f.style,_c&&_g);}if(this._client_element){_f=this._client_element._handle;if(_f){nexacro.__setDOMNodeStyleTransformMirror(_f.style,_c&&_g);nexacro.__setDOMNodeStylePos(_f.style,this._client_element.left,this._client_element.top,!_c&&_g);}}if(this._vscroll_control){var _h=this._vscroll_control;_f=_h._control_element._handle;if(_f){nexacro.__setDOMNodeStyleTransformMirror(_f.style,_c&&_g);nexacro.__setDOMNodeStylePos(_f.style,_h.left,_h.top,!_c&&_g);}}if(this._hscroll_control){var _i=this._hscroll_control;_f=_i._control_element._handle;if(_f){nexacro.__setDOMNodeStyleTransformMirror(_f.style,_c&&_g);nexacro.__setDOMNodeStylePos(_f.style,_i.left,_i.top,!_c&&_g);}}}}};_pScrollableControlElement.setElementRtlDirection=function(_a){nexacro.Element.prototype.setElementRtlDirection.call(this,_a);var _b=this._step_count;var _c=this._step_containers;if(_c&&this._step_count){for(var _e=0;_e<_b;_e++ ){var _d=_c[_e];_d.setElementPosition(_e*this.client_width,0,true);}}};delete _pControlElementBase;delete _pSimpleControlElement;delete _pControlElement;delete _pFrameControlElement;delete _pScrollableControlElement;nexacro.ContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pContainerElement=nexacro._createPrototype(nexacro.Element,nexacro.ContainerElement);nexacro.ContainerElement.prototype=_pContainerElement;_pContainerElement._type_name="ContainerElement";_pContainerElement.font=null;_pContainerElement.color=null;_pContainerElement._is_nc_element=true;_pContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c._linked_element=this;_c._element_type=2;if(application._is_waitCursor){nexacro.__setDOMNodeSelectable(_c,true);}else{nexacro.__setDOMNodeSelectable(_c,false);}nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;if(nexacro.Browser=="IE"&&(nexacro.BrowserVersion>=8&&nexacro.BrowserVersion<=9)){nexacro.__setDOMNodeStyleFilterTransparent(_d);}nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pContainerElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){_a._linked_element=null;if(_b){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}};_pContainerElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this.parent_elem){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this.parent_elem;_a._removeFromContainer();}else{_a._parent_elem=this.parent_elem;}}else{_a._parent_elem=this.parent_elem;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pContainerElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pContainerElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pContainerElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pContainerElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pContainerElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pContainerElement.setElementFont=nexacro._emptyFn;_pContainerElement.setElementColor=function(_a){this.color=_a;if(this._handle){nexacro.__setDOMNodeStyleColor(this._handle.style,_a);}};_pContainerElement.setElementOverFlow=function(_a){if(this._handle){nexacro.__setDOMNodeStyleOverFlow(this._handle.style,_a);}};delete _pContainerElement;nexacro.ScrollableContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pScrollableContainerElement=nexacro._createPrototype(nexacro.ContainerElement,nexacro.ScrollableContainerElement);nexacro.ScrollableContainerElement.prototype=_pScrollableContainerElement;_pScrollableContainerElement._type_name="ScrollableContainerElement";_pScrollableContainerElement._scroll_left=0;_pScrollableContainerElement._scroll_top=0;_pScrollableContainerElement._cached_scrollTop=0;_pScrollableContainerElement._cached_scrollLeft=0;_pScrollableContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeOffset(_c,this._scroll_left,this._scroll_top);}nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);}};_pScrollableContainerElement.destroy=function(){var _a=this._handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}if(nexacro._scrolled_elem_list){nexacro._scrolled_elem_list.delete_item(_a.id);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pScrollableContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;if(_b&&_b._handle){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion<=8){_pScrollableContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){var _d=_c.parent;var _e=false;if(_d._recover_vpos!=undefined){_b.scrollTop=_d._recover_vpos;_e=true;}if(_d._recover_hpos!=undefined){_b.scrollLeft=_d._recover_hpos;_e=true;}if(_e){return;}var _f=_c._scroll_top|0;var _g=_c._scroll_left|0;var _h=nexacro.__convertScrollLeftFromDOMNode(_b);_c._cached_scrollLeft=_h;_c._cached_scrollTop=_b.scrollTop;if(_g!=_c._cached_scrollLeft){var _i=_c._findScrollbarLinkedControl(_c,false);if(_i){_i.hscrollbar.set_pos(_c._cached_scrollLeft);}}if(_f!=_c._cached_scrollTop){var _i=_c._findScrollbarLinkedControl(_c,true);if(_i){_i.vscrollbar.set_pos(_c._cached_scrollTop);}}}};}else{_pScrollableContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){var _d=_c.parent;var _e=false;if(_d._recover_vpos!=undefined){_b.scrollTop=_d._recover_vpos;_d._recover_vpos=undefined;_e=true;}if(_d._recover_hpos!=undefined){_b.scrollLeft=_d._recover_hpos;_d._recover_hpos=undefined;_e=true;}if(_e){return;}var _f=_c._scroll_top|0;var _g=_c._scroll_left|0;var _h=nexacro.__convertScrollLeftFromDOMNode(_b);_c._cached_scrollLeft=_h;_c._cached_scrollTop=_b.scrollTop;if(_g!=_c._cached_scrollLeft){var _i=_c._findScrollbarLinkedControl(_c,false);if(_i){_i.hscrollbar.set_pos(_c._cached_scrollLeft);}}if(_f!=_c._cached_scrollTop){var _i=_c._findScrollbarLinkedControl(_c,true);if(_i){_i.vscrollbar.set_pos(_c._cached_scrollTop);}}}};}}else{_pScrollableContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;var _c=_b._linked_element;if(_c){var _d=_c.parent;if(_d._recover_vpos!=undefined){_b.scrollTop=_d._recover_vpos;_d._recover_vpos=undefined;return;}if(_d._recover_hpos!=undefined){_b.scrollLeft=_d._recover_hpos;_d._recover_hpos=undefined;return;}var _e=_c._scroll_top|0;var _f=_c._scroll_left|0;var _g=nexacro.__convertScrollLeftFromDOMNode(_b);_c._cached_scrollLeft=_g;_c._cached_scrollTop=_b.scrollTop;if(_f!=_c._cached_scrollLeft){var _h=_c._findScrollbarLinkedControl(_c,false);if(_h){_h.hscrollbar.set_pos(_c._cached_scrollLeft);}}if(_e!=_c._cached_scrollTop){var _h=_c._findScrollbarLinkedControl(_c,true);if(_h){_h.vscrollbar.set_pos(_c._cached_scrollTop);}}}};}_pScrollableContainerElement._findScrollbarLinkedControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){if(_b){if(_c.vscrollbar&&_c.vscrollbar._isVisible()){return _c;}}else{if(_c.hscrollbar&&_c.hscrollbar._isVisible()){return _c;}}}_a=_a.parent;}};_pScrollableContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._handle;if(_b){if(this._cached_scrollTop!=_a){nexacro.__setDOMNodeVScrollPos(_b,_a);}if(!nexacro._scrolled_elem_list){nexacro._scrolled_elem_list=new nexacro.Collection();};nexacro._scrolled_elem_list.add_item(this._handle.id,{hpos:_b.scrollLeft,vpos:_b.scrollTop});}}};_pScrollableContainerElement.setElementHScrollPos=function(_a){if(this._scroll_left!=_a||this.parent._reset_scrollpos){this._scroll_left=_a;var _b=this._handle;if(_b){_a=nexacro.__convertScrollLeftFromDOMNode(_b,_a);if(this._cached_scrollLeft!=_a){nexacro.__setDOMNodeHScrollPos(_b,_a);}if(!nexacro._scrolled_elem_list){nexacro._scrolled_elem_list=new nexacro.Collection();};nexacro._scrolled_elem_list.add_item(this._handle.id,{hpos:_b.scrollLeft,vpos:_b.scrollTop});}}};_pScrollableContainerElement.setElementScrollPos=function(_a,_b){if(this._scroll_left!=_a||this._scroll_top!=_b||this.parent._reset_scrollpos){this._scroll_left=_a;this._scroll_top=_b;var _c=this._handle;if(_c){if(this._cached_scrollTop!=_b){nexacro.__setDOMNodeVScrollPos(_c,_b);}_a=nexacro.__convertScrollLeftFromDOMNode(_c,_a);if(this._cached_scrollLeft!=_a){nexacro.__setDOMNodeHScrollPos(_c,_a);}if(!nexacro._scrolled_elem_list){nexacro._scrolled_elem_list=new nexacro.Collection();};nexacro._scrolled_elem_list.add_item(this._handle.id,{hpos:_c.scrollLeft,vpos:_c.scrollTop});}}};_pScrollableContainerElement.getZoom=function(){if(this._handle){var _a=nexacro.__getDOMNodeStyleTransformcale(this._handle.style);if(_a){return parseInt(_a*100.0);}return 100;}return 100;};_pScrollableContainerElement.setZoom=function(_a){if(this._handle){nexacro.__setDOMNodeStyleTransformScale(this._handle.style,_a/100);}};delete _pScrollableContainerElement;nexacro.ScrollableInnerContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pScrollableInnerContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.ScrollableInnerContainerElement);nexacro.ScrollableInnerContainerElement.prototype=_pScrollableInnerContainerElement;_pScrollableInnerContainerElement._type_name="ScrollableInnerContainerElement";_pScrollableInnerContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.linkedcontrol._getWindow()._doc;var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);var _d=_b.createElement("div");_d.id=_c.id+"_inner";nexacro.__setDOMNodeSelectable(_d,false);var _e=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);var _f=_d.style;_f.position="absolute";nexacro.__setDOMNodeStylePos(_f,0,0,this._isRtl());nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_e,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}this._handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);nexacro.__appendDOMNode(_c,_d);this._dest_handle=_d;if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeStyleTranslate(_f, -this._scroll_left, -this._scroll_top);}nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);}};_pScrollableInnerContainerElement.destroy=function(){var _a=this._handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pScrollableInnerContainerElement._noEventScroll=false;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pScrollableInnerContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_b.scrollLeft>0){_b.scrollLeft=0;}if(_b.scrollTop>0){_b.scrollTop=0;}}};}else{_pScrollableInnerContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;var _c=_b._linked_element;if(_c){if(_b.scrollLeft>0){_b.scrollLeft=0;}if(_b.scrollTop>0){_b.scrollTop=0;}}};}_pScrollableInnerContainerElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}this.setElementScrollPos(this._scroll_left,_a);return;};_pScrollableInnerContainerElement.setElementHScrollPos=function(_a,_b){if(_a<0){_a=0;}this.setElementScrollPos(_a,this._scroll_top,_b);return;};_pScrollableInnerContainerElement.setElementScrollPos=function(_a,_b,_c){if(_a<0){_a=0;}if(_b<0){_b=0;}if(this._scroll_left!=_a||this._scroll_top!=_b||_c){this._scroll_left=_a;this._scroll_top=_b;var _d=this._dest_handle;if(_d){if(this._isRtl()){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){nexacro.__setDOMNodeStyleTranslate(_d.style, -_a, -_b,this._isRtl());}else{nexacro.__setDOMNodeStyleTranslate(_d.style,_a, -_b);}}else{nexacro.__setDOMNodeStyleTranslate(_d.style, -_a, -_b);}}}};_pScrollableInnerContainerElement.setElementScrollMaxSize=function(_a,_b){var _c=this._dest_handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}};_pScrollableInnerContainerElement.setZoom=function(_a){if(this._handle){nexacro.__setDOMNodeStyleTransformScale(this._handle.style,_a/100);}};delete _pScrollableInnerContainerElement;nexacro.PopupControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;this._frame_node=null;};var _pPopupControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.PopupControlElement);nexacro.PopupControlElement.prototype=_pPopupControlElement;_pPopupControlElement._type_name="PopupControlElement";_pPopupControlElement._doc=null;_pPopupControlElement._is_window_element=false;_pPopupControlElement.create=function(){if(this._parent_elem==null){if(!this._handle){var _a=this.linkedcontrol;var _b=this.linkedcontrol._getWindow();var _c=this._doc=_b._doc;var _d=_b;this._is_window_element=true;var _e=_c.createElement("div");_a._unique_id=_a.parent._unique_id+'_'+_a.id;_e.id=_a._unique_id;_e._linked_element=this;_e._element_type=1;if(application._is_waitCursor){nexacro.__setDOMNodeSelectable(_e,true);}else{nexacro.__setDOMNodeSelectable(_e,false);}var _f=_e.style;nexacro.__setDOMNodeStyleAbsolute(_f);nexacro.__setDOMNodeStylePos(_f,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_f,this._node_width,this._node_height);this._handle=this._dest_handle=_e;if(_a._findOwnerElementHandle){var _g=_a._findOwnerElementHandle();if(_g.is_append){nexacro.__appendDOMNode(_g.owner_handle,_e);}else{_g.owner_handle.insertBefore(_e,_g.ref_handle);}this._owner_elem=_g.owner_handle._linked_element;}else{nexacro.__appendDOMNode(_d._dest_handle,_e);this._owner_elem=_d;}this._createControlSubElements(this,_e);this._refreshForeground(_e,_f);this._frame_node=nexacro._createFrameNode(_e,this.left,this.top,_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pPopupControlElement.getRootWindowHandle=function(){return this._doc;};_pPopupControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}nexacro._destroyFrameNode(_a,this._frame_node);this._frame_node=null;this._owner_elem=null;this._doc=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pPopupControlElement._isRtl=function(_a){var _b=this.parent._getRootComponent(this.parent);var _c=_b.getElement();if(_a){_c=this;}var _d=this._rtldirection;while(_c){if(_c._rtldirection&&_c._rtldirection!="inherit"){_d=_c._rtldirection;break;}_c=_c._parent_elem;}return _d=="rtl";};delete _pPopupControlElement;nexacro.PopupScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ScrollableContainerElement(this);this._client_element=_b;this._frame_node=null;};var _pPopupScrollableControlElement=nexacro._createPrototype(nexacro.ScrollableControlElement,nexacro.PopupScrollableControlElement);nexacro.PopupScrollableControlElement.prototype=_pPopupScrollableControlElement;_pPopupScrollableControlElement._type_name="PopupScrollableControlElement";_pPopupScrollableControlElement._doc=null;_pPopupScrollableControlElement._is_window_element=true;_pPopupScrollableControlElement.create=function(_a){if(this._parent_elem==null){if(!this._handle){var _b=this.linkedcontrol._getWindow();var _c=this._doc=_b._doc;var _d=_b;this._is_window_element=true;var _e=_c.createElement("div");var _f=this.linkedcontrol;_f._unique_id=_f.parent._unique_id+'_'+_f.id;_e.id=_f._unique_id;_e._linked_element=this;_e._element_type=1;nexacro.__setDOMNodeSelectable(_e,false);var _g=_e.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_g,this._node_width,this._node_height);this._handle=this._dest_handle=_e;if(_f._findOwnerElementHandle){var _h=_f._findOwnerElementHandle();if(_h.is_append){nexacro.__appendDOMNode(_h.owner_handle,_e);}else{_h.owner_handle.insertBefore(_e,_h.ref_handle);}this._owner_elem=_h.owner_handle._linked_element;}else{nexacro.__appendDOMNode(_d._dest_handle,_e);this._owner_elem=_d;}this._createControlSubElements(this,_e);this._refreshForeground(_e,_g);this._frame_node=nexacro._createFrameNode(_e,this.left,this.top,_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pPopupScrollableControlElement.getRootWindowHandle=function(){return this._doc;};_pPopupScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}nexacro._destroyFrameNode(_a,this._frame_node);this._frame_node=null;this._owner_elem=null;this._doc=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pPopupScrollableControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};delete _pPopupScrollableControlElement;nexacro.TextElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextElement=nexacro._createPrototype(nexacro.Element,nexacro.TextElement);nexacro.TextElement.prototype=_pTextElement;_pTextElement._type_name="TextElement";_pTextElement.font=null;_pTextElement.color=null;_pTextElement.align=null;_pTextElement.halign="";_pTextElement.valign="";_pTextElement.padding=null;_pTextElement.padding_left=0;_pTextElement.padding_top=0;_pTextElement.padding_right=0;_pTextElement.padding_bottom=0;_pTextElement.text="";_pTextElement.linespace=0;_pTextElement.letterspace=0;_pTextElement.wordwrap="none";_pTextElement.decoration="";_pTextElement._use_newline=true;_pTextElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleTextSize(_d,this.height);_d.position="absolute";nexacro.__setDOMNodeStyleTextOverFlow(_d);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_a._handle.style,this.align);}else if(this.halign&&this.valign){nexacro.__setDOMNodeStyleAlignXY(_a._handle.style,this.halign,this.valign);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_d,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_d,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_c,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_d,this.decoration);}else{nexacro.__setDOMNodeText(_c,this.text,this._use_newline,this.wordwrap);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pTextElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pTextElement.setElementFont=function(_a){this.font=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleFont(_b.style,_a);}};_pTextElement.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleColor(_b.style,_a);}};_pTextElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;var _b=this._handle;if(_b){nexacro.__setDOMNodeStylePadding(_b.style,_a);}};_pTextElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._handle;if(_e){nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}};_pTextElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._owner_elem;if(_b){var _c=_b._handle;if(_c){nexacro.__setDOMNodeStyleAlign(_c.style,_a);}}};_pTextElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._owner_elem;if(_d){var _e=_d._handle;if(_e){nexacro.__setDOMNodeStyleAlignXY(_e.style,_c,_b);}}};_pTextElement.setElementText=function(_a){if(this.text!=_a){if(_a==null){this.text="";}else{this.text=_a;}var _b=this._handle;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};_pTextElement.setElementLineSpace=function(_a){if(this.linespace!=_a){this.linespace=_a;var _b=this._handle;if(_b){var _c=this._parent_elem.linkedcontrol;if(_c){var _d=nexacro._getTextSize2(this.letterspace||this._getParentLetterSpace(),"Wj",this.font||this._getParentFont());_a=_d[1]+nexacro._toInt(_a);}nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}}};_pTextElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleLetterSpace(_b.style,_a);}}};_pTextElement.setElementDecorateText=function(_a){if(this.decoration!=_a){this.decoration=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleDecorateText(_b,_a);}}};_pTextElement.setElementUseNewLine=function(_a){if(this._use_newline!=_a){this._use_newline=_a;var _b=this._handle;if(_b){if(this.wordwrap!="none"){return;}nexacro.__setDOMNodeText(_b,this.text,_a,this.wordwrap);}}};_pTextElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){var _b=this._handle;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};_pTextElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStylePos(_c.style,_a,_b,this._isRtl());}}};_pTextElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}_c=this._cell_node;if(_c){_c.style.textOverflow="";nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);_c.style.textOverflow=this._default_textoverflow;}}};delete _pTextElement;nexacro.PluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pPluginElement=nexacro._createPrototype(nexacro.Element,nexacro.PluginElement);nexacro.PluginElement.prototype=_pPluginElement;_pPluginElement._type_name="PluginElement";_pPluginElement.license="";_pPluginElement.lpkpath="";_pPluginElement.classid="";_pPluginElement.codebase="";_pPluginElement.code="";_pPluginElement.archive="";_pPluginElement.mimetype="";_pPluginElement.pluginsrc="";_pPluginElement.plugintype="";_pPluginElement.pluginpage="";_pPluginElement.windowed=false;_pPluginElement.popupstyle=false;_pPluginElement.enable=true;_pPluginElement.font=null;_pPluginElement.color=null;_pPluginElement.cursor=null;_pPluginElement.align=null;_pPluginElement.padding=null;_pPluginElement.color=null;_pPluginElement._object_node=null;_pPluginElement._embed_node=null;_pPluginElement._params=null;_pPluginElement._events=null;_pPluginElement._object_id=null;_pPluginElement._after_append=false;_pPluginElement.create=function(){var _a;var _b;if(!this._parent_elem){_b=nexacro._managerFrameDoc;_a=_b.body;this._owner_elem=_b.body;this._owner_elem._dest_handle=_b.body;}else{_a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;_b=_a.getRootWindowHandle();}}if(_a&&!this._handle){var _c=this._createObjectElementHandle(_b,this.left,this.top,this.width,this.height,this._params);nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_d,this.align);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}this._handle=this._dest_handle=_c;var _e=this._events;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){this.addEventHandler(_e.get_id(_g),_e.get_item(_g),null);}nexacro.__appendDOMNode(_a._dest_handle,_c);this.initEvent();}};_pPluginElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._object_node=null;this._embed_node=null;}this.parent=null;this._parent_elem=null;var _c=this._params;if(_c){_c.destroy();this._params=null;}var _d=this._events;if(_d){_d.destroy();this._events=null;}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Safari"){_pPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("div");_g._linked_element=this;_g._element_type=8;var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_b,_c,this._isRtl());nexacro.__setDOMNodeStyleSize(_h,_d,_e);var _i="";if(this.lpkpath){_i+='<object classid = "clsid:5220cb21-c88d-11cf-b347-00aa00a28331">';_i+='<param name="LPKPath" value="'+this.lpkpath+'">';_i+='</object>';}if(this._parent_elem&&this.component){this._object_id=this._parent_elem._handle.id+'_'+this.component._type_name;_i+='<object id='+this._object_id+' style="position: absolute; overflow: hidden; width: '+_d+'px; height: '+_e+'px;" ';}else{_i+='<object style="position: absolute; overflow: hidden; width: '+_d+'px; height: '+_e+'px;" ';}var _j=this.classid;if(_j){_i+='classid="'+_j+'" ';}var _k=this.codebase;if(_k){_i+='codebase="'+_k+'" ';}var _l=this.code;if(_l){_i+='code="'+_l+'" ';}var _m=this.archive;if(_m){_i+='archive="'+_m+'" ';}var _n=this.mimetype;if(_n){_i+='type="'+_n+'" ';}var _o=this.data;if(_o){_i+='data="'+_o+'" ';}_i+='>';var _p=(_f?_f.length:0);for(var _s=0;_s<_p;_s++ ){_i+='<param name="'+_f.get_id(_s)+'" value="'+_f.get_item(_s)+'" />';}_i+="</object>";_g.innerHTML=_i;var _q=null;var _r=_g.firstChild;while(_r){if(_r.nodeType==1&&_r.tagName.toLowerCase()=="object"){_q=_r;}_r=_r.nextSibling;}this._object_node=_q;return _g;};}else{_pPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("object");_g._linked_element=this;_g._element_type=8;var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_b,_c,this._isRtl());nexacro.__setDOMNodeStyleSize(_h,_d,_e);var _i=this.codebase;if(_i){_g.setAttribute('codebase',_i);}var _j=this.code;if(_j){_g.setAttribute('code',_j);}var _k=this.archive;if(_k){_g.setAttribute('archive',_k);}if(nexacro.Browser=="Chrome"){var _l=this.mimetype;if(_l){_g.setAttribute('type',_l);}}if(this.pluginsrc||this.pluginpage){var _m=_a.createElement("embed");var _n=_m.style;nexacro.__setDOMNodeStyleAbsolute(_n);nexacro.__setDOMNodeStyleSize(_n,_d,_e);var _o=this.pluginsrc;if(_o){_m.setAttribute('src',_o);}var _p=this.pluginpage;if(_p){_m.setAttribute('pluginspage',_p);}var _q=this.plugintype;if(_q){_m.setAttribute('type',_q);}var _r=(_f?_f.length:0);for(var _s=0;_s<_r;_s++ ){_m.setAttribute(_f.get_id(_s),_f.get_item(_s));}this._embed_node=_m;_g.appendChild(_m);}this._object_node=_g;return _g;};}_pPluginElement._setObjectDOMParam=function(_a,_b,_c,_d){var _e=_a.createElement("param");_e.setAttribute("name",_c);_e.setAttribute("value",_d);_b.appendChild(_e);};_pPluginElement.on_update_position=function(_a,_b,_c,_d){var _e=this._object_node;if(_e){var _f=_e.style;nexacro.__setDOMNodeStyleAbsolute(_f);if(_b){nexacro.__setDOMNodeStylePos(_f,_c,_d,this._isRtl());}if(_a){nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);}}};_pPluginElement.setElementFocus=function(_a){var _b=this._object_node;if(_b){nexacro.__setDOMNodeFocus(_b,true);nexacro.__setLastFocusedElement(this);}};_pPluginElement.setElementLicense=function(_a){if(this.license!=_a){this.license=_a;}};_pPluginElement.setElementLicenseFile=function(_a){if(!this._handle&&this.lpkpath!=_a){this.lpkpath=_a;}};_pPluginElement.setElementMIMEType=function(_a){if(this.mimetype!=_a){this.mimetype=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('type',_a);}}this.setElementPluginMIMEType(_a);};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pPluginElement.setElementClassId=function(_a){if(_a){if(_a.charAt(0)=='{'){}{var _b=_a.replace(/\{|\}/g,"");_a="clsid:"+_b;}}if(this.classid!=_a){this.classid=_a;var _c=this._object_node;if(this._handle&&this._object_node){_c.setAttribute('classid',_a);}}};}else{_pPluginElement.setElementClassId=nexacro._emptyFn;}_pPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('codebase',_a);}}};_pPluginElement.setElementCode=function(_a){if(this.code!=_a){this.code=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('code',_a);}}};_pPluginElement.setElementArchive=function(_a){if(this.archive!=_a){this.archive=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('archive',_a);}}};_pPluginElement.getElementData=function(){return this.data;};_pPluginElement.setElementData=function(_a){if(this.data!=_a){this.data=_a;if(this._handle&&this._object_node){this._object_node.setAttribute('data',_a);}}};_pPluginElement.getElementParam=function(_a){if(this._handle&&this._object_node){var _b=this._object_node;var _c=_b.getElementsByTagName("param");for(var _e in _c){if(_c[_e].name==_a){return _c[_e].value;}}if(this._object_node[_a]){return this._object_node[_a];}}else{var _d=this._params;return _d.get_item(_a);}};_pPluginElement.setElementParam=function(_a,_b){var _c=this._object_node;if(this._handle&&_c){var _d=this.getRootWindowHandle();var _e=_c.getElementsByTagName("param");for(var _g in _e){if(_e[_g].name==_a){_e[_g].value=_b;this._object_node[_a]=_b;return;}}this._setObjectDOMParam(_d,_c,_a,_b);this._object_node[_a]=_b;}else{var _f=this._params;if(_f.get_item(_a)){_f.set_item(_a,_b);}else{_f.add_item(_a,_b);}}};_pPluginElement.setElementPluginSrc=function(_a){if(this.pluginsrc!=_a){this.pluginsrc=_a;if(nexacro.Browser!="Safari"&&nexacro.Browser!="IE"){var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");var _e=_c.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);_b.appendChild(_c);}_c.setAttribute('src',_a);}}else{this.setElementParam('src',_a);}}};_pPluginElement.setElementPluginMIMEType=function(_a){if(this.plugintype!=_a){this.plugintype=_a;if(nexacro.Browser!="Safari"&&nexacro.Browser!="IE"){var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");var _e=_c.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);_b.appendChild(_c);}_c.setAttribute('type',_a);}}else{this.setElementParam('type',_a);}}};_pPluginElement.setElementPluginPage=function(_a){if(this.pluginpage!=_a){this.pluginpage=_a;if(nexacro.Browser!="Safari"&&nexacro.Browser!="IE"){var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");var _e=_c.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);_b.appendChild(_c);}_c.setAttribute('pluginspage',_a);}}else{this.setElementParam('pluginpage',_a);}}};_pPluginElement.setElementWmode=function(_a){if(this.wmode!=_a){this.wmode=_a;if(nexacro.Browser!="Safari"&&nexacro.Browser!="IE"){var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");var _e=_c.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);_b.appendChild(_c);}_c.setAttribute('wmode',_a);}}else{this.setElementParam('wmode',_a);}}};_pPluginElement.callMethod=function(){if(arguments.length<1){return;}if(this._handle&&this._object_node){var fn_name=Array.prototype.shift.call(arguments);var str;if(this._object_id){str=this._object_id+'.'+fn_name;}else if(this._embed_node){str='this._embed_node.'+fn_name;}else{str='this._object_node.'+fn_name;}if(nexacro.Browser!="Chrome"&&this.plugintype=="application/x-shockwave-flash"){if(this._embed_node){var node=this._embed_node;if(this._after_append){this._object_node.removeChild(node);}this._object_node.appendChild(node);this._after_append=true;}else{var node=this._object_node;if(this._after_append){nexacro.__removeDOMNode(this._owner_elem._dest_handle,node);}nexacro.__appendDOMNode(this._owner_elem._dest_handle,node);this._after_append=true;}}str+='(';var len=arguments.length;if(len>0){str+='arguments[0]';for(var i=1;i<len;i++ ){str+=', arguments['+i+']';}}str+=');';return eval(str);}};_pPluginElement.getPluginObject=function(){if(this._handle&&this._object_node){var _a=new nexacro.PluginObject;_a._handle=this._object_node;_a._doc=this.getRootWindowHandle();return _a;}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pPluginElement.addEventHandler=function(_a,_b,_c){if(this._handle&&this._object_node&&this._object_id){var _d=this.getRootWindowHandle();var _e=_d.createElement("script");_e.setAttribute('for',this._object_id);var _f=/^function\s?([^\s(]*)/;var _g=/\(.*?\)/;var _h=_b.toString().match(_g)[0];var _i=_a+_h;var _j;_e.setAttribute('event',_i);_e.setAttribute('language','javascript');var _k,_l,_m;_k=this.component.parent;if(_k){_j="."+this.component.id+'["'+_a+'"]; \n';_j+='if (eventFn) eventFn._firePluginEvent'+_h+';';do{if(_k instanceof nexacro.MainFrame){_j='var eventFn = application.mainframe'+_j;break;}if(_k instanceof nexacro.ChildFrame){_l=_k.parent;if(_l){if(_l._is_frameset||_l._frames){var _n;var _o=_l._frames.length;for(_n=0;_n<_o;_n++ ){if(_l._frames[_n]==_k){if(_k._is_popup_frame===false){_j='._frames['+_n+']'+_j;}break;}}if(_k._is_popup_frame){_j='var eventFn = application.popupframes["'+_k.name+'"]'+_j;break;}else if(_k instanceof nexacro.MainFrame){_j='var eventFn = application.mainframe'+_j;break;}}else if(_l instanceof nexacro.MainFrame){_j='.frame'+_j;}else if(_l instanceof nexacro.Form){_j='.'+_k.id+_j;}}}else if(_k._is_frameset){_l=_k.parent;if(_l&&_l._frames){var _n;var _o=_l._frames.length;for(_n=0;_n<_o;_n++ ){if(_l._frames[_n]==_k){_j='._frames['+_n+']'+_j;break;}}}}else if(_k instanceof nexacro.Div){_j='.'+_k.id+_j;}else if(_k instanceof nexacro.Form){_j='.form'+_j;}_k=_k.parent;}while(_k)}_e.text=_j;var _p=this._parent_elem.getContainerElement(this.position_step);_p._dest_handle.appendChild(_e);return true;}else{this._events.add_item(_a,_b);}return false;};_pPluginElement.removeEventHandler=function(_a,_b,_c){if(this._handle){var _d=this.getRootWindowHandle();var _e=/^function\s?([^\s(]*)/;var _f=/\(.*?\)/;var _g=_b.toString().match(_f)[0];var _h=_a+_g;var _i;var _j=this._parent_elem.getContainerElement(this.position_step);var _k=_j._dest_handle.getElementsByTagName("script");var _l=_k.length;for(_i=0;_i<_l;_i++ ){var _m=_k[_i];if(_m){var _n=_m.getAttribute('event');if(_n===_h){var _o=_m.parentNode;_o.removeChild(_m);break;}}}}};}else{_pPluginElement.addEventHandler=function(_a,_b,_c){if(this._handle&&this._object_node){var _d=this._object_node;_d.setAttribute(_a,_a);var _e=this.getRootWindowHandle();var _f=_e.createElement("script");var _g=/^function\s?([^\s(]*)/;var _h=/\(.*?\)/;var _i=_b.toString().match(_h)[0];var _j=_a+_i;_f.setAttribute('event',_j);var _k,_l;_k=this.component.parent;if(_k){callfunc="."+this.component.id+'["'+_a+'"]; \n';callfunc+='\tif (eventFn) eventFn._firePluginEvent'+_i+';'+"\n};";do{if(_k instanceof nexacro.MainFrame){callfunc='\tvar eventFn = application.mainframe'+callfunc;break;}if(_k instanceof nexacro.ChildFrame){_l=_k.parent;if(_l){if(_l._is_frameset||_l._frames){var _m;var _n=_l._frames.length;for(_m=0;_m<_n;_m++ ){if(_l._frames[_m]==_k){if(_k._is_popup_frame===false){callfunc='._frames['+_m+']'+callfunc;}break;}}if(_k._is_popup_frame){callfunc='var eventFn = application.popupframes["'+_k.name+'"]'+callfunc;break;}else{callfunc='\tvar eventFn = application.mainframe.childframe'+callfunc;break;}}else if(_l instanceof nexacro.MainFrame){callfunc='.frame'+callfunc;}else if(_l instanceof nexacro.Form){callfunc='.'+_k.id+callfunc;}}}else if(_k._is_frameset){_l=_k.parent;if(_l&&_l._frames){var _m;var _n=_l._frames.length;for(_m=0;_m<_n;_m++ ){if(_l._frames[_m]==_k){callfunc='._frames['+_m+']'+callfunc;break;}}}}else if(_k instanceof nexacro.Div){callfunc='.'+_k.id+callfunc;}else if(_k instanceof nexacro.Form){callfunc='.form'+callfunc;}_k=_k.parent;}while(_k)}callfunc='function '+_j+'\n{\n'+callfunc;_f.text=callfunc;this._handle.appendChild(_f);return true;}else{this._events.add_item(_a,_b);}return false;};_pPluginElement.removeEventHandler=function(_a,_b,_c){if(this._handle&&this._object_node){var _d=this._object_node;_d.removeAttribute(_a);var _e=this.getRootWindowHandle();var _f=/^function\s?([^\s(]*)/;var _g=/\(.*?\)/;var _h=_b.toString().match(_g)[0];var _i=_a+_h;var _j;var _k=this._handle.getElementsByTagName("script");var _l=_k.length;for(_j=0;_j<_l;_j++ ){var _m=_k[_j];if(_m){var _n=_m.getAttribute('event');if(_n===_i){var _o=_m.parentNode;_o.removeChild(_m);break;}}}}};};_pPluginElement.getProperty=_pPluginElement.getElementParam;_pPluginElement.setProperty=_pPluginElement.setElementParam;_pPluginElement.install=nexacro._emptyFn;_pPluginElement.isInstalled=nexacro._emptyFn;_pPluginElement.isLoaded=nexacro._emptyFn;_pPluginElement.setElementPluginVisible=nexacro._emptyFn;_pPluginElement.setElementAdjustAlpha=nexacro._emptyFn;_pPluginElement.setElementWindowed=nexacro._emptyFn;_pPluginElement.setElementPopupStyle=nexacro._emptyFn;_pPluginElement.initEvent=nexacro._emptyFn;_pPluginElement.updateWindow=nexacro._emptyFn;delete _pPluginElement;nexacro.PluginObject=function(){};var _pPluginObject=nexacro._createPrototype(nexacro.Object,nexacro.PluginObject);nexacro.PluginObject.prototype=_pPluginObject;_pPluginObject._type_name="PluginObject";_pPluginObject._handle=null;_pPluginObject._doc=null;_pPluginObject._window=null;_pPluginObject.getProperty=function(_a){var _b=this._handle;if(_b!==undefined){if(_a){var _c=_b[_a];if(_c!==undefined){if(_c===null||(typeof _c!="object"&&_c!=undefined)){return _c;}var _d=new nexacro.PluginObject;_d._handle=_c;_d._window=this._window;return _d;}var _e=this._handle.getElementsByTagName("param");for(var _f in _e){if(_e[_f].name==_a){return _e[_f].value;}}}}};_pPluginObject.setProperty=function(_a,_b){if(this._handle&&_a&&_b){if(this._handle[_a]!==undefined){this._handle[_a]=_b;return;}var _c=this._handle.getElementsByTagName("param");for(var _e in _c){if(_c[_e].name==_a){_c[_e].value=_b;return;}}var _d=this._doc.createElement("param");_d.setAttribute("name",_a);_d.setAttribute("value",_b);this._handle.appendChild(_d);}};_pPluginObject._delete_property=function(_a){if(this._handle&&_a){if(this._handle[_a]){this._handle[_a]="";return;}var _b=this._handle.getElementsByTagName("param");for(var _c in _b){if(_b[_c].name==_a){this._handle.removeChild(_b[_c]);return;}}}};_pPluginObject.callMethod=function(){var fn_name,len,str,value;if(arguments.length<1){return;}if(this._handle){fn_name=Array.prototype.shift.call(arguments);str='this._handle.'+fn_name;str+='(';len=arguments.length;if(len>0){str+='arguments[0]';for(var i=1;i<len;i++ ){str+=', arguments['+i+']';}}str+=');';value=eval(str);if(value!=null&&typeof (value)=="object"){var pobject=new nexacro.PluginObject;pobject._handle=value;return pobject;}return value;}};_pPluginObject.destroy=nexacro._emptyFn;delete _pPluginObject;nexacro.WebBrowserPluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pWebBrowserPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro.WebBrowserPluginElement);nexacro.WebBrowserPluginElement.prototype=_pWebBrowserPluginElement;_pWebBrowserPluginElement._type_name="WebBrowserPluginElement";_pWebBrowserPluginElement.initEvent=nexacro._emptyFn;_pWebBrowserPluginElement._object_node=null;_pWebBrowserPluginElement._embed_node=null;_pWebBrowserPluginElement._params=null;_pWebBrowserPluginElement._events=null;_pWebBrowserPluginElement._window=null;_pWebBrowserPluginElement._document=null;_pWebBrowserPluginElement._block_node=null;_pWebBrowserPluginElement._prev_outfocus_message_elem=null;_pWebBrowserPluginElement._next_outfocus_message_elem=null;_pWebBrowserPluginElement._parent_dest_handle=null;var _iframe_eventhandler_ontouchmove=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(nexacro.OS=="iOS"){var _f=_c._nexacro_iframe_contaniner;}else{var _f=_d;}if(_c._nexacro_preTouchInfo){var _g=_a.changedTouches?_a.changedTouches.length:1;for(var _v=0;_v<_g;_v++ ){var _h=_a.changedTouches?_a.changedTouches[_v]:(_a.touches?_a.touches[0]:_a);}var _i=_h.pageX||_h.clientX;var _j=_h.pageY||_h.clientY;var _k=_h.screenX||_i;var _l=_h.screenY||_j;var _m=[_i,_j,_k,_l];function getDirection(_w,_x){var _y=_x[2]-_w[2];var _z=_x[3]-_w[3];if(Math.abs(_z)>=Math.abs(_y)){return ["y",_z];}else{return ["x",_y];}}var _n=getDirection(_c._nexacro_preTouchInfo,_m);var _o=false;if(_n[0]=="y"){var _p=_c.defaultView||_c.parentWindow;if(nexacro.OS=="iOS"){var _q=parseInt(_f.style.height);}else{var _q=nexacro._getWindowHandleClientHeight(_p);var _r=_p.innerHeight;_q=(_q>_r)?_q:_r;}var _s=_f.scrollHeight||_c.documentElement.scrollHeight;var _t=_f.scrollTop||_c.documentElement.scrollTop;if((_t==0&&_n[1]>0)||(((_s-_q)<=_t)&&_n[1]<0)){_c._nexacro_bScroll=true;_o=true;}if(_c._nexacro_bScroll){var _u=_c._nexacro_preTouchInfo[1];if((_n[1]<0&&_j>_u)||(_n[1]>0&&_j<_u)){return;}}_c._nexacro_preTouchInfo[0]=_i;_c._nexacro_preTouchInfo[1]=_j;_c._nexacro_preTouchInfo[2]=_k;_c._nexacro_preTouchInfo[3]=_l;if(_o){nexacro._syshandler_ontouchmove(window.nexacro_HTMLSysEvent,_e,_a);}else{}_c._nexacro_preTouchInfo[0]=_i;_c._nexacro_preTouchInfo[1]=_j;_c._nexacro_preTouchInfo[2]=_k;_c._nexacro_preTouchInfo[3]=_l;if(_o){nexacro._syshandler_ontouchmove(window.nexacro_HTMLSysEvent,_e,_a);}else{_c._nexacro_bScroll=false;}}}}};var _iframe_eventhandler_ontouchstart=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(nexacro.OS=="iOS"){var _f=_c._nexacro_iframe_contaniner;}else{var _f=_d;}_c._nexacro_bScroll=false;var _g=_c.defaultView||_c.parentWindow;if(nexacro.OS=="iOS"){var _h=parseInt(_f.style.height);}else{var _h=nexacro._getWindowHandleClientHeight(_g);var _i=_g.innerHeight;_h=(_h>_i)?_h:_i;}var _j=_f.scrollHeight||_c.documentElement.scrollHeight;var _k=_f.scrollTop||_c.documentElement.scrollTop;if(_k==0||(_j-_h)<=_k){var _l=_a.changedTouches?_a.changedTouches.length:1;for(var _r=0;_r<_l;_r++ ){var _m=_a.changedTouches?_a.changedTouches[_r]:(_a.touches?_a.touches[0]:_a);}var _n=_m.pageX||_m.clientX;var _o=_m.pageY||_m.clientY;var _p=_m.screenX||_n;var _q=_m.screenY||_o;_c._nexacro_preTouchInfo=[_n,_o,_p,_q];nexacro._syshandler_ontouchstart(window.nexacro_HTMLSysEvent,_e,_a);}}};var _iframe_eventhandler_ontouchend=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(_c._nexacro_bScroll){nexacro._syshandler_ontouchend(window.nexacro_HTMLSysEvent,_e,_a);}}};var _iframe_eventhandler_onmousewheel=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(nexacro.OS=="iOS"){var _f=_c._nexacro_iframe_contaniner;}else{var _f=_d;}var _g=_c.defaultView||_c.parentWindow;var _h=0;var _i=_f.scrollHeight||_c.documentElement.scrollHeight;var _j=_f.scrollTop||_c.documentElement.scrollTop;if(nexacro.OS=="iOS"){_h=parseInt(_f.style.height);}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_h=_c.documentElement.offsetHeight;}else{_h=_g.innerHeight;}}var _k=nexacro.__getWheelDeltaY(_a);if((_j==0&&_k>0)||(_i-_h<=_j&&_k<0)){nexacro._syshandler_onmousewheel(window.nexacro_HTMLSysEvent,_e,_a);}}};var _iframe_eventhandler_onmousedown=function(_a){nexacro._syshandler_ondeactivate(window.nexacro_HTMLSysEvent,_a);};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _iframe_eventhandler_onload=function(_a){if(window.event){_a=window.event;}var _b=_a.srcElement;if(!_b){return;}try{var _c=_b.contentDocument||_b.contentWindow.document;_c._nexacro_iframe_contaniner=_b._contaniner._handle;if(nexacro.SupportTouch&&nexacro.isTouchInteraction){if(nexacro.Browser=="Edge"){nexacro._observeSysEvent(_cur_win,"pointermove","ontouchmove",_iframe_eventhandler_ontouchmove);nexacro._observeSysEvent(_cur_win,"pointerdown","ontouchstart",_iframe_eventhandler_ontouchstart);nexacro._observeSysEvent(_cur_win,"pointerup","ontouchend",_iframe_eventhandler_ontouchend);}else{nexacro._observeSysEvent(_c,"MSPointerMove","ontouchmove",_iframe_eventhandler_ontouchmove);nexacro._observeSysEvent(_c,"MSPointerDown","ontouchstart",_iframe_eventhandler_ontouchstart);nexacro._observeSysEvent(_c,"MSPointerUp","ontouchend",_iframe_eventhandler_ontouchend);}}nexacro._observeSysEvent(_c,"mousewheel","onmousewheel",_iframe_eventhandler_onmousewheel);nexacro._observeSysEvent(_c,"mousedown","onmousedown",_iframe_eventhandler_onmousedown);}catch(e){;}finally{var _d=_b._linked_element;if(!_d){return;}return _d._on_frame_load(_b.contentWindow);}};}else{var _iframe_eventhandler_onload=function(_a){var _b=_a.target;if(!_b){return;}try{var _c=_b.contentDocument||_b.contentWindow.document;_c._nexacro_iframe_contaniner=_b._contaniner._handle;if(nexacro.SupportTouch){nexacro._observeSysEvent(_c,"touchmove","ontouchmove",_iframe_eventhandler_ontouchmove);nexacro._observeSysEvent(_c,"touchstart","ontouchstart",_iframe_eventhandler_ontouchstart);nexacro._observeSysEvent(_c,"touchend","ontouchend",_iframe_eventhandler_ontouchend);}nexacro._observeSysEvent(_c,"mousewheel","onmousewheel",_iframe_eventhandler_onmousewheel);nexacro._observeSysEvent(_c,"DOMMouseScroll","onmousewheel",_iframe_eventhandler_onmousewheel);nexacro._observeSysEvent(_c,"mousedown","onmousedown",_iframe_eventhandler_onmousedown);}catch(e){;}finally{var _d=_b._linked_element;if(!_d){return;}return _d._on_frame_load(_b.contentWindow);}};}_pWebBrowserPluginElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=this._createInternalFrameElementHandle(_b,this.left,this.top,this.width,this.height,this._params);_c._contaniner=_a;if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityActiveDescendant(_c,this._parent_elem.linkedcontrol._unique_id);}nexacro.__setDOMNodeSelectable(_c,true);if(nexacro.OS=="iOS"){nexacro.__setMobileIframeDOMNodeStyleScroll(_a._handle.style);}if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")&&this.visible){this._need_hide=true;}var _d=_c.style;if(!this.visible||this._need_hide){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_d,this.align);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}var _e=_b.createElement("div");var _f=_e.style;nexacro.__setDOMNodeTabIndex(_e,0);nexacro.__setDOMNodeStyleAbsolute(_f);nexacro.__setDOMNodeStylePos(_f,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_f,1,1);_f.opacity=0;_e.parent_elem=this.parent;nexacro.__appendDOMNode(_a._dest_handle,_e);nexacro._observeSysEvent(_e,"focus","onfocus",this._go_prev_focus);if(nexacro._enableaccessibility){var _g=this._prev_outfocus_message_elem=new nexacro.TextBoxElement(_a);_g.create();nexacro.__setDOMNodeTabIndex(_g._handle,0);nexacro._observeSysEvent(_g._handle,"focus","onfocus",this._iframe_onfocus_forward);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._parent_dest_handle=_a._dest_handle;if(nexacro._enableaccessibility){_g=this._next_outfocus_message_elem=new nexacro.TextBoxElement(_a);_g.create();nexacro.__setDOMNodeTabIndex(_g._handle,0);nexacro._observeSysEvent(_g._handle,"focus","onfocus",this._iframe_onfocus_forward);}_e=_b.createElement("div");_f=_e.style;nexacro.__setDOMNodeTabIndex(_e,0);nexacro.__setDOMNodeStyleAbsolute(_f);nexacro.__setDOMNodeStylePos(_f,0, +this.height-5,this._isRtl());nexacro.__setDOMNodeStyleSize(_f,1,1);_f.opacity=0;_f.border="0px solid #ffffff";_e.parent_elem=this.parent;nexacro.__appendDOMNode(_a._dest_handle,_e);nexacro._observeSysEvent(_e,"focus","onfocus",this._go_next_focus);nexacro._observeSysEvent(_c,"load","onload",_iframe_eventhandler_onload);if(nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9)||(nexacro.isTouchInteraction&&nexacro.SupportTouch)){nexacro._observeSysEvent(_c,"focusin","onfocusin",this._iframe_onfocusin_forward);nexacro._observeSysEvent(_c,"focusout","onfocusout",this._iframe_onfocusout_forward);}}};_pWebBrowserPluginElement._go_prev_focus=function(_a){var _b=_a.target?_a.target:_a.srcElement;var _c=_b.parent_elem.linkedcontrol._getForm();var _d=_c._searchPrevTabFocus(_c._last_focused,undefined,undefined,false);if(_d&&_d[0]){if(_d[0] instanceof nexacro.Form&&_d[0]._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_d[0]._last_focused);}_d[0]._setFocus(true,1,true);}};_pWebBrowserPluginElement._go_next_focus=function(_a){var _b=_a.target?_a.target:_a.srcElement;var _c=_b.parent_elem.linkedcontrol._getForm();var _d=_c._searchNextTabFocus(_c._last_focused,undefined,undefined,false);if(_d&&_d[0]){if(_d[0] instanceof nexacro.Form&&_d[0]._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_d[0]._last_focused);}_d[0]._setFocus(true,0,true);}};_pWebBrowserPluginElement._on_frame_load=function(_a){try{var _b="";var _c=this._parent_elem.linkedcontrol;if(_a){if(this._need_hide){nexacro.__setDOMNodeStyleVisible(this._handle.style,true);this._need_hide=false;}this._window=_a;this._document=_a.document;if(_a.NEXACROWEBBROWSER==undefined){_a.NEXACROWEBBROWSER=_c;}}if(this._document){_b=this._document.location.href;}}catch(e){this._window=null;this._document=null;}var _a=_c._getWindow();var _d=_a.getCurrentFocusPaths();var _e=_c;while(_e&&_e._is_nc_control){_e=_e.parent;}if(!_e){return;}var _f= -1;var _g=0;if(_d){_f=nexacro._indexOf(_d,_e);_g=_d.length;}if(_f<0&&_g>0){_d[_g-1].on_apply_custom_setfocus();}_c.on_load_handler(_b);};_pWebBrowserPluginElement.destroy=function(){if(this._prev_outfocus_message_elem){nexacro._stopSysObserving(this._prev_outfocus_message_elem._handle,"focus","onfocus",this._iframe_onfocus_forward);this._prev_outfocus_message_elem.destroy();this._prev_outfocus_message_elem=null;}if(this._next_outfocus_message_elem){this._next_outfocus_message_elem.destroy();this._next_outfocus_message_elem=null;}var _a=this._handle;if(_a){nexacro._stopSysObserving(_a,"load","onload",_iframe_eventhandler_onload);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}if(this._parent_dest_handle){var _c=null;_c=this._document?(this._document.childNodes?this._document.childNodes[0]:null):null;if(_c){nexacro.__removeAllDOMNode(_c);nexacro.__removeDOMNode(this._document,_c);_c=null;}nexacro.__removeDOMNode(this._parent_dest_handle,_a);}var _d=this._block_node;if(_d&&_b){nexacro.__removeDOMNode(_b,_d);}this._block_node=null;this._document=null;this._parent_dest_handle=null;this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;var _e=this._params;if(_e){_e.destroy();this._params=null;}var _f=this._events;if(_f){_f.destroy();this.events=null;}};_pWebBrowserPluginElement._createInternalFrameElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("iframe");_g._linked_element=this;_g._element_type=8;_g.frameBorder=0;this._object_id=this._parent_elem._handle.id+'_'+this.component._type_name;if(this._object_id){_g.setAttribute('id',this._object_id);}var _h=_g.style;_h.position="absolute";nexacro.__setDOMNodeTitle(_g,this._parent_elem.tooltiptext?this._parent_elem.tooltiptext:(this._parent_elem.accessibility_label?this._parent_elem.accessibility_label:this._parent_elem.linkedcontrol.id));nexacro.__setDOMNodeStylePos(_h,_b,_c,this._isRtl());nexacro.__setDOMNodeStyleSize(_h,_d,_e);var _i=(_f?_f.length:0);for(var _j=0;_j<_i;_j++ ){this._setInternalFrameDOMParam(_a,_g,_f.get_id(_j),_f.get_item(_j));}return _g;};_pWebBrowserPluginElement._setInternalFrameDOMParam=function(_a,_b,_c,_d){_b.setAttribute(_c,_d);};_pWebBrowserPluginElement.setElementFocus=nexacro._emptyFn;_pWebBrowserPluginElement._setElementFocus=function(_a){var _b=this._handle;if(_b){nexacro.__setDOMNodeFocus(_b,true);nexacro.__setLastFocusedElement(this);}};_pWebBrowserPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;if(this._handle){this._handle.setAttribute('codebase',_a);}}};_pWebBrowserPluginElement.getElementParam=function(_a){var _b=this._handle;if(_b){var _c=null;if(_a){if(_a==="document"){var _d=this._document;if(!_d){_d=this._document=_b.contentDocument||_b.contentWindow.document;}var _e=new nexacro.PluginObject;_e._handle=_d;return _e;}else if(_a=="window"){var _f=this._window;if(!_f){_f=this._window=_b.contentWindow;}var _e=new nexacro.PluginObject;_e._handle=_f;return _e;}_c=_b[_a];if(_c!=null&&typeof (_c)=="object"){var _e=new nexacro.PluginObject;_e._handle=_c;return _e;}return _c;}}else{var _g=this._params;return _g.get_item(_a);}};_pWebBrowserPluginElement.setElementParam=function(_a,_b){if(this._handle){var _c=this.getRootWindowHandle();this._setInternalFrameDOMParam(_c,this._handle,_a,_b);}else{var _d=this._params;_d.add_item(_a,_b);}};_pWebBrowserPluginElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._handle;if(_b){var _c=this._block_node;if(_a){if(_c){nexacro.__removeDOMNode(_c.parentNode,_c);this._block_node=null;}}else{var _d=this.getRootWindowHandle();this._block_node=_c=_d.createElement("DIV");var _e=_c.style;_e.cssText=_b.style.cssText;this.parent._setControlOpacity(this,_c,1);_e.backgroundColor="#ffffff";_e.zIndex=100000;var _f=_b.parentNode;_f.appendChild(_c);_f.insertBefore(_c,_b);}}}};_pWebBrowserPluginElement._getDoc=function(){return this._document;};_pWebBrowserPluginElement._setUrl=function(_a){if(this._handle){if(nexacro.OS=="iOS"&&nexacro._enableaccessibility){if(_a=="about:blank"){nexacro.__setDOMNodeStyleDisplay(this._handle.style,"none");}else{nexacro.__setDOMNodeStyleDisplay(this._handle.style,"initial");}}this.setElementParam("src",_a);}};_pWebBrowserPluginElement._setGo=function(){if(this._handle&&this._handle.contentWindow){try{this._handle.contentWindow.history.go(0);}catch(e){}}};_pWebBrowserPluginElement._setBack=function(){if(this._handle&&this._handle.contentWindow){try{this._handle.contentWindow.history.back();}catch(e){}}};_pWebBrowserPluginElement._setForward=function(){if(this._handle&&this._handle.contentWindow){try{this._handle.contentWindow.history.forward();}catch(e){}}};_pWebBrowserPluginElement.callMethod=function(){if(arguments.length<1){return;}var _a=arguments[0];var _b=Array.prototype.shift.call(arguments);return this._window[_b].apply(this._window,arguments);};if(nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9)||(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_pWebBrowserPluginElement._iframe_onfocusout_forward=function(_a){var _b=this._linked_element._parent_elem.linkedcontrol._getWindow();_b._is_iframe_focus=false;};_pWebBrowserPluginElement._iframe_onfocusin_forward=function(_a){var _b=this._linked_element;if(_b){_b=_b._parent_elem;if(_b){var _c=_b.linkedcontrol;if(_c){var _d=_c._getWindow();_d._is_iframe_focus=true;}_c=null;}}_b=null;};}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pWebBrowserPluginElement._iframe_onfocus_forward=function(_a){if(window.event){_a=window.event;}if(nexacro._getLocalStorage("_com_waiting",false)){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;var _c=_b._linked_element;if(_c){_c._killfocus_flag=true;}};}else{_pWebBrowserPluginElement._iframe_onfocus_forward=function(_a){if(nexacro._getLocalStorage("_com_waiting",false)){nexacro._stopSysEvent(_a);}var _b=_a.target;var _c=_b._linked_element;if(_c){_c._killfocus_flag=true;}};}_pWebBrowserPluginElement.getProperty=_pWebBrowserPluginElement.getElementParam;_pWebBrowserPluginElement.setProperty=_pWebBrowserPluginElement.setElementParam;delete _pWebBrowserPluginElement;nexacro.MediaPlayerPluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();this._node_type=null;};var _pMediaPlayerPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro.MediaPlayerPluginElement);nexacro.MediaPlayerPluginElement.prototype=_pMediaPlayerPluginElement;_pMediaPlayerPluginElement._type_name="MediaPlayerPluginElement";_pMediaPlayerPluginElement.classid="{6bf52a52-394a-11d3-b153-00c04f79faa6}";if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pMediaPlayerPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("object");_g._linked_element=this;_g._element_type=8;this._object_id=this._parent_elem._handle.id+'_'+this._type_name;if(this._object_id){_g.setAttribute('id',this._object_id);}var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_b,_c,this._isRtl());nexacro.__setDOMNodeStyleSize(_h,_d,_e);_g.setAttribute('classid',"clsid:6bf52a52-394a-11d3-b153-00c04f79faa6");_g.setAttribute('type',"video/x-ms-wmv");this._setObjectDOMParam(_a,_g,"wmode","transparent");var _i=(_f?_f.length:0);for(var _j=0;_j<_i;_j++ ){this._setObjectDOMParam(_a,_g,_f.get_id(_j),_f.get_item(_j));}this._object_node=_g;return _g;};_pMediaPlayerPluginElement.initEvent=function(){if(!this._handle){return;}var _a=this._parent_elem.linkedcontrol;var _b=this.getPluginObject();function media_eventhandler_playstatechange(_c){var _d=null;if(_c==3){_d="play";}else if(_c==2){_d="pause";}else if(_c==1){_d="stop";}if(_d&&_a){_a._on_statuschanged(_d);}}function media_eventhandler_openstatechange(_c){if(_b&&_a){var _d=_b.getProperty("controls");if(_d){var _e=_d.getProperty("currentItem");if(_e){var _f=_e.getProperty("imagesourcewidth");var _g=_e.getProperty("imagesourceheight");var _h=_e.getProperty("duration");if(_f>0&&_g>0){_a.size=_f+" * "+_g;}else{_a.size="0 * 0";}_a.duration=_h>0?_h:0;}}}}function media_eventhandler_positionchange(_c,_d){if(_a){_a._on_statuschanged(_d);}}function media_eventhandler_mediaerror(_c){var _d=_c.Error?_c.Error.errorDescription:"";var _e=_c.Error?_c.Error.errorCode:"";if(_a){_a.size=_c.imageSourceWidth+" * "+_c.imageSourceHeight;_a.duration=_c.duration;_a._on_error("NativeError",_d,_e);}}this._handle.attachEvent("PlayStateChange",media_eventhandler_playstatechange);this._handle.attachEvent("OpenStateChange",media_eventhandler_openstatechange);this._handle.attachEvent("PositionChange",media_eventhandler_positionchange);this._handle.attachEvent("MediaError",media_eventhandler_mediaerror);};_pMediaPlayerPluginElement._setMediaMute=function(_a,_b){var _c=this.getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.setProperty("mute",_b);}}};_pMediaPlayerPluginElement._setMediaControl=function(_a,_b){var _c=this.getPluginObject();if(_c){var _d="none";if(_b==true){_d="full";}_c.setProperty("uiMode",_d);}};_pMediaPlayerPluginElement._setMediaUrl=function(_a,_b){var _c=this.getPluginObject();if(_c){_c.setProperty("url",_b);}};_pMediaPlayerPluginElement._setMediaCurrentTime=function(_a,_b){var _c=this.getPluginObject();if(_c){var _d=_c.getProperty("controls");if(_d){_d.setProperty("currentPosition",_b);}}};_pMediaPlayerPluginElement._setMediaLoop=function(_a,_b){var _c=this.getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.callMethod("setMode","loop",_b);}}};_pMediaPlayerPluginElement._setMediaAutoPlay=function(_a,_b){var _c=this.getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.setProperty("autostart",_b);}}};_pMediaPlayerPluginElement._setMediaVolume=function(_a,_b){var _c=this.getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.setProperty("volume",_b);}}};_pMediaPlayerPluginElement._play=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("play");}}};_pMediaPlayerPluginElement._pause=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("pause");}}};_pMediaPlayerPluginElement._rewind=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("fastReverse");}}};_pMediaPlayerPluginElement._stop=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("stop");_b.destroy();}_a.destroy();}};}else{_pMediaPlayerPluginElement.initEvent=nexacro._emptyFn;_pMediaPlayerPluginElement._getNodeType=function(_a){var _b="video";switch(_a){case "mp3":case "wav":_b="audio";break;}return _b;};_pMediaPlayerPluginElement._getType=function(_a){var _b="video/"+_a;switch(_a){case "mp3":case "wav":_b="audio/"+_a;break;}return _b;};_pMediaPlayerPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=this.source;if(_g){var _h=(_g+"").substring(_g.lastIndexOf(".")+1).toLowerCase();}var _i=this._getType(_h);var _j=this._getNodeType(_h);var _k=_a.createElement(_j);this._node_type=_j;_k._linked_element=this;_k._element_type=8;var _l=_k.style;nexacro.__setDOMNodeStyleAbsolute(_l);nexacro.__setDOMNodeStylePos(_l,_b,_c,this._isRtl());nexacro.__setDOMNodeStyleSize(_l,_d,_e);if(_g){var _m=this._source_node=_a.createElement("source");_m.setAttribute('src',this.source);_m.setAttribute('type',this._getType(_h));_k.appendChild(_m);}nexacro._observeSysEvent(_k,"canplaythrough","oncanplaythrough",this._media_eventhandler_canplaythrough);nexacro._observeSysEvent(_k,"ended","onended",this._media_eventhandler_changedstatus);nexacro._observeSysEvent(_k,"error","onerror",this._media_eventhandler_error);nexacro._observeSysEvent(_k,"pause","onpause",this._media_eventhandler_changedstatus);nexacro._observeSysEvent(_k,"play","onplay",this._media_eventhandler_changedstatus);nexacro._observeSysEvent(_k,"progress","onprogress",this._media_eventhandler_progress);nexacro._observeSysEvent(_k,"timeupdate","ontimeupdate",this._media_eventhandler_timeupdate);this._object_node=_k;return _k;};_pMediaPlayerPluginElement._media_eventhandler_changedstatus=function(_a){var _b=_a.target._linked_element._parent_elem.linkedcontrol;_b&&_b._on_statuschanged(_a.type);};_pMediaPlayerPluginElement._media_eventhandler_timeupdate=function(_a){var _b=_a.target;var _c=_b._linked_element._parent_elem.linkedcontrol;_c&&_c._on_currenttimechanged(_b.currentTime);};_pMediaPlayerPluginElement._media_eventhandler_error=function(_a){var _b=_a.target;var _c=_b._linked_element._parent_elem.linkedcontrol;if(_c){var _d="";var _e=_b.error.code;switch(_e){case 1:_d="fetching process aborted by user";break;case 2:_d="error occurred when downloading";break;case 3:_d="error occurred when decoding";break;case 4:_d="video not supported";break;}_c._on_error("NativeError",_d,_e);}};_pMediaPlayerPluginElement._media_eventhandler_canplaythrough=function(_a){var _b=_a.target;var _c=_b._linked_element._parent_elem.linkedcontrol;_c.size=_b.videoWidth+" * "+_b.videoHeight;_c.duration=_b.duration;};_pMediaPlayerPluginElement.setElementSource=function(_a){this.source=_a;if(this._object_node){var _b=this._source_node;if(_b){this._object_node.removeChild(_b);}if(!this.source){return;}var _c=nexacro._managerFrameDoc;_b=this._source_node=_c.createElement("source");_b.setAttribute('src',_a);var _d="mp4";if(this.source){_d=(_a+"").substring(_a.lastIndexOf(".")+1).toLowerCase();}var _e=this._getType(_d);_b.setAttribute('type',_e);this._object_node.appendChild(_b);}};_pMediaPlayerPluginElement.setElementAttribute=function(_a,_b){this[_a]=_b;if(this._object_node){this._object_node.setAttribute(_a,_b);}};_pMediaPlayerPluginElement.setElementProperty=function(_a,_b){this[_a]=_b;if(this._object_node){this._object_node[_a]=_b;}};_pMediaPlayerPluginElement._play=function(){if(this._object_node){this._object_node.play();}};_pMediaPlayerPluginElement._pause=function(){if(this._object_node){this._object_node.pause();}};_pMediaPlayerPluginElement._rewind=function(){if(this._object_node){this._object_node.currentTime=0;this._object_node.play();}};_pMediaPlayerPluginElement._stop=function(){if(this._object_node){this._object_node.pause();this._object_node.currentTime=0;}};_pMediaPlayerPluginElement._setMediaMute=function(_a,_b){if(this._object_node){this._object_node.muted=_b;}};_pMediaPlayerPluginElement._setMediaControl=function(_a,_b){if(this._object_node){this._object_node.controls=_b;}};_pMediaPlayerPluginElement._setMediaUrl=function(_a,_b){this.source=_b;if(this._object_node){this._object_node.src=_b;}};_pMediaPlayerPluginElement._setMediaCurrentTime=function(_a,_b){if(this._object_node){this._object_node.currentTime=_b;}};_pMediaPlayerPluginElement._setMediaLoop=function(_a,_b){if(this._object_node){this._object_node.loop=_b;}};_pMediaPlayerPluginElement._setMediaAutoPlay=function(_a,_b){if(this._object_node){this._object_node.autoplay=_b;}};_pMediaPlayerPluginElement._setMediaVolume=function(_a,_b){_b=_b/100;if(this._object_node){this._object_node.volume=_b;}};}_pMediaPlayerPluginElement.destroy=function(){nexacro.PluginElement.prototype.destroy.call();};_pMediaPlayerPluginElement._setMediaEnable=function(_a,_b){this.enable=_b;};_pMediaPlayerPluginElement._setMediaAdjustAlpha=nexacro._emptyFn;delete _pMediaPlayerPluginElement;nexacro.CanvasElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pCanvasElement=nexacro._createPrototype(nexacro.Element,nexacro.CanvasElement);nexacro.CanvasElement.prototype=_pCanvasElement;_pCanvasElement._type_name="CanvasElement";_pCanvasElement.lineOffset=0.5;_pCanvasElement.scale=10;_pCanvasElement.scalex=0;_pCanvasElement.scaley=0;_pCanvasElement.fillStyle="#000000";_pCanvasElement.strokeStyle="#000000";_pCanvasElement.lineCap="butt";_pCanvasElement.lineJoin="miter";_pCanvasElement.lineWidth=1;_pCanvasElement.miterLimit=10;_pCanvasElement.shadowColor="#000000";_pCanvasElement._shadowColor="#000000";_pCanvasElement.shadowOffsetX=0;_pCanvasElement.shadowOffsetY=0;_pCanvasElement.shadowBlur=0;_pCanvasElement.font=null;_pCanvasElement._font=null;_pCanvasElement.textAlign="start";_pCanvasElement.textBaseline=0;_pCanvasElement.globalAlpha=1;_pCanvasElement.globalCompositeOperation=1;_pCanvasElement._status_stack=[];_pCanvasElement._matrix_stack=[];_pCanvasElement.createPattern=function(){return null;};_pCanvasElement.createLinearGradient=function(_a,_b,_c,_d){var _e=this._handle;if(_e){return nexacro.__createCanvasLinearGradient(_e,_a,_b,_c,_d);}return null;};_pCanvasElement.createRadialGradient=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){return nexacro.__createCanvasRadialGradient(_g,_a,_b,_c,_d,_e,_f);}return null;};_pCanvasElement.setElementFillStyle=function(_a){var _b=this._handle;if(_b&&_a){this.fillStyle=_a;if(_a instanceof nexacro.Style_color){nexacro.__setCanvasFillColor(_b,_a);}else{nexacro.__setCanvasFillGradation(_b,_a);}}};_pCanvasElement.setElementFont=function(_a){var _b=this._handle;if(!_a||!_b){return;}var _c=_a._sysvalue;if(!this.font||this.font._sysvalue!=_c){this.font=_a;this._font=_c;nexacro.__setCanvasFont(_b,_a,_c);}else{nexacro.__setCanvasFont(_b,_a,_c);}};_pCanvasElement.clearRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasClearRect(_e,_a,_b,_c,_d);}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pCanvasElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeStylePos(_c.style,_a,_b);}}};}else{_pCanvasElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeStylePos(_c._draw_node.style,_a,_b);}}};}_pCanvasElement.setElementGlobalAlpha=function(_a){var _b=this._handle;if(_a<0){_a=0;}if(_a>1){_a=1;}if(_b){this.globalAlpha=_a;nexacro.__setCanvasGlobalAlpha(_b,_a);}};_pCanvasElement.setElementGlobalCompositeOperation=function(_a){var _b=this._handle;if(_b&&_a){this.globalCompositeOperation=_a;nexacro.__setCanvasGlobalCompositeOperation(_b,_a);}};_pCanvasElement.setElementLineCap=function(_a){var _b=this._handle;if(_b){this.lineCap=_a;nexacro.__setCanvasLineCap(_b,_a);}};_pCanvasElement.setElementLineJoin=function(_a){var _b=this._handle;if(_b){this.lineJoin=_a;nexacro.__setCanvasLineJoin(_b,_a);}};_pCanvasElement.setElementLineWidth=function(_a){var _b=this._handle;if(_b&&isFinite(_a)){this.lineWidth=_a;this.lineOffset=_a/2;nexacro.__setCanvasLineWidth(_b,_a);}};_pCanvasElement.setElementStrokeStyle=function(_a){var _b=this._handle;if(_b&&_a){this.strokeStyle=_a;nexacro.__setCanvasStrokeStyle(_b,_a);}};_pCanvasElement.setElementMiterLimit=function(_a){var _b=this._handle;if(_b&&_a){this.miterLimit=_a;nexacro.__setCanvasMiterLimit(_b,_a);}};_pCanvasElement.setElementShadowBlur=function(_a){var _b=this._handle;if(_b){this.shadowBlur=_a;nexacro.__setCanvasShadowBlur(_b,_a);}};_pCanvasElement.setElementShadowColor=function(_a){var _b=this._handle;if(_a&&_b){this.shadowColor=_a;_b._shadowColor=nexacro._getWebColorFromXreColor(_a.value);nexacro.__setCanvasShadowColor(_b,_b._shadowColor);}};_pCanvasElement.setElementShadowOffsetX=function(_a){var _b=this._handle;if(_b){this.shadowOffsetX=_a;nexacro.__setCanvasShadowOffsetX(_b,_a);}};_pCanvasElement.setElementShadowOffsetY=function(_a){var _b=this._handle;if(_b){this.shadowOffsetY=_a;nexacro.__setCanvasShadowOffsetY(_b,_a);}};_pCanvasElement.setElementTextAlign=function(_a){var _b=this._handle;if(_b){this.textAlign=_a;nexacro.__setCanvasTextAlign(_b,_a);}};_pCanvasElement.setElementTextBaseline=function(_a){var _b=this._handle;if(_b){this.textBaseline=_a;nexacro.__setCanvasTextBaseline(_b,_a);}};_pCanvasElement.arc=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__darwCanvasArc(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.arc2=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._degreesToRadians(_d);var _h=nexacro._degreesToRadians(_e);var _i=this._handle;if(_i){nexacro.__darwCanvasArc(_i,_a,_b,_c,_g,_h,_f);}};_pCanvasElement.arcTo=function(_a,_b,_c,_d,_e){var _f=this._handle;if(_f){nexacro.__drawCanvasArcTo(_f,_a,_b,_c,_d,_e);}};_pCanvasElement.beginPath=function(){var _a=this._handle;if(_a){nexacro.__drawCanvasBeginPath(_a);}};_pCanvasElement.bezierCurveTo=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__drawCanvasBezierCurveTo(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.clip=function(){var _a=this._handle;if(_a){nexacro.__clipCanvas(_a);}};_pCanvasElement.closePath=function(){var _a=this._handle;if(_a){nexacro.__drawCanvasClosePath(_a);}};_pCanvasElement.drawImage=function(_a,_b,_c,_d,_e){var _f=this._handle;var _g=_a._handle;if(_g&&_f){nexacro.__drawCanvasImage(_f,_g,_b,_c,_d,_e);}};_pCanvasElement.fill=function(){var _a=this._handle;if(_a){nexacro.__fillCanvas(_a);}};_pCanvasElement.fillRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__fillCanvasRect(_e,_a,_b,_c,_d);}};_pCanvasElement.fillText=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasFillText(_e,_a,_b,_c,_d);}};_pCanvasElement.isPointInPath=function(_a,_b){var _c=this._handle;if(_c){return nexacro.__isPointInCanvasPath(_c,_a,_b);}return false;};_pCanvasElement.lineTo=function(_a,_b){var _c=this._handle;if(_c){nexacro.__drawCanvaslineTo(_c,_a,_b);}};_pCanvasElement.moveTo=function(_a,_b){var _c=this._handle;if(_c){nexacro.__drawCanvasmoveTo(_c,_a,_b);}};_pCanvasElement.quadraticCurveTo=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasQuadraticCurveTo(_e,_a,_b,_c,_d);}};_pCanvasElement.rect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__rectCanvas(_e,_a,_b,_c,_d);}};_pCanvasElement.rotate=function(_a){var _b=this._handle;if(_b){nexacro.__rotateCanvas(_b,_a);}};_pCanvasElement.rotate2=function(_a){var _b=nexacro._degreesToRadians(_a);this.rotate(_b);};_pCanvasElement.scale=function(_a,_b){var _c=this._handle;this.scalex=_a;this.scaley=_b;if(_c){nexacro.__scaleCanvas(_c,_a,_b);}};_pCanvasElement.setTransform=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__setCanvasTransform(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.stroke=function(){var _a=this._handle;if(_a){nexacro.__strokeCanvas(_a);}};_pCanvasElement.strokeRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasStrokeRect(_e,_a,_b,_c,_d);}};_pCanvasElement.strokeText=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasStrokeText(_e,_a,_b,_c,_d);}};_pCanvasElement.transform=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__transformCanvas(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.translate=function(_a,_b){var _c=this._handle;if(_c){nexacro.__translateCanvas(_c,_a,_b);}};_pCanvasElement.save=function(){var _a=this._handle;if(_a){nexacro.__saveCanvas(_a);}};_pCanvasElement.toDataURL=function(){var _a=this._handle;try{if(_a){return nexacro.__toDataURLCanvas(_a);}}catch(e){try{if(_a){return nexacro.__toDataURLCanvas(_a);}}catch(e){return "";}}};_pCanvasElement.restore=function(){var _a=this._handle;if(_a){nexacro.__restoreCanvas(_a);}};_pCanvasElement.drawArc=function(_a,_b,_c,_d,_e,_f,_g){if(!_g){_d=_d*(Math.PI/180);_e=_e*(Math.PI/180);}this.arc(_a,_b,_c,_d,_e,_f);};_pCanvasElement.drawFill=function(){this.fill();this.beginPath();};_pCanvasElement._setPenStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement.drawStrokeLine=function(_a,_b,_c,_d){this.moveTo(_a,_b);this.lineTo(_c,_d);this.drawStroke();};_pCanvasElement.drawStrokeVLine=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);this.drawStroke();};_pCanvasElement.drawStrokeHLine=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);this.drawStroke();};_pCanvasElement.drawFillArc=function(_a,_b,_c,_d,_e,_f){this.drawArc(_a,_b,_c,_d,_e,_f,true);this.closePath();this.fill();this.beginPath();};_pCanvasElement.drawFillArc2=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._degreesToRadians(_d);var _h=nexacro._degreesToRadians(_e);this.arc(_a,_b,_c,_g,_h,_f);this.closePath();this.fill();this.beginPath();};_pCanvasElement.halfRect=function(_a,_b,_c,_d){var _e=this.lineWidth;var _f=(_d>0)?_e: -_e;this.moveTo(_a,_b);this.lineTo(_a,_b+_d);this.lineTo(_a+_c,_b+_d);this.lineTo(_a+_c,_b);this.lineTo(_a+_c-_e,_b);this.lineTo(_a+_c-_e,_b+_d-_f);this.lineTo(_a+_e,_b+_d-_f);this.lineTo(_a+_e,_b);this.closePath();};_pCanvasElement.drawStrokeHalfRect=function(_a,_b,_c,_d){this.halfRect(_a,_b,_c,_d);this.drawStroke();};_pCanvasElement.drawStrokeRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d,true);this.drawStroke();};_pCanvasElement.drawStrokeArc=function(_a,_b,_c,_d,_e,_f){this.arc(_a,_b,_c,_d,_e,_f);this.drawStroke();};_pCanvasElement.drawStrokeArc2=function(_a,_b,_c,_d,_e,_f){this.arc2(_a,_b,_c,_d,_e,_f);this.drawStroke();};_pCanvasElement.drawStrokeInsetRect=function(_a,_b,_c,_d){this.insetRect(_a,_b,_c,_d);this.drawStroke();};_pCanvasElement.hline=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);};_pCanvasElement.vline=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);};if(!(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9)){_pCanvasElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){var _b=this._handle;if(!_b){this._owner_elem=_a;var _c=_a.getRootWindowHandle();_b=_c.createElement("div");_b._linked_element=this;_b._element_type=7;nexacro.__setDOMNodeSelectable(_b,false);this._handle=this._dest_handle=_b;var _d=_c.createElement("canvas");_b._draw_node=_d;_b._draw_ctx=_d.getContext("2d");var _e=_d.style;_e.border="none";nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setCanvasNodeSize(_d,this.width,this.height);nexacro.__setCanvasTextAlign(_b,this.textAlign);nexacro.__appendDOMNode(_b,_d);nexacro.__appendDOMNode(_a._dest_handle,_b);}}};_pCanvasElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;_a._draw_node=null;_a._draw_ctx=null;}this.parent=null;this._parent_elem=null;};_pCanvasElement._drawRotate=function(_a){var _b=this._handle;if(!_b){return;}var _c=_a*Math.PI/180;this._handle._draw_ctx.rotate(_c);};_pCanvasElement.circle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2*Math.PI,true);};_pCanvasElement.drawStrokeCircle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2*Math.PI,true);this.drawStroke();};_pCanvasElement.drawStrokeInsetArc=function(_a,_b,_c,_d,_e){var _f=this.lineWidth/2;this.drawArc(_a,_b,_c-_f,_d,_e);this.drawStroke();};_pCanvasElement.drawStrokeInsetCircle=function(_a,_b,_c){var _d=this.lineOffset;this.arc(_a,_b,_c-_d,0,2*Math.PI,true);this.drawStroke();};_pCanvasElement.drawFillRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d);this.fill();this.beginPath();};_pCanvasElement.endDraw=function(){this.beginPath();this.closePath();};_pCanvasElement.drawStroke=function(){this.stroke();this.beginPath();};_pCanvasElement.drawFillCircle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2*Math.PI,true);this.fill();this.beginPath();};_pCanvasElement.insetRect=function(_a,_b,_c,_d){if(_c==0||_d==0){return;}var _e=this.lineOffset;var _f=(_c>0)?_e: -_e;var _g=(_d>0)?_e: -_e;this.moveTo(_a+_f,_b+_g);this.lineTo(_a+_f,_b+_d-_g);this.lineTo(_a+_c-_f,_b+_d-_g);this.lineTo(_a+_c-_f,_b+_g);this.closePath();};_pCanvasElement._setLineStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._moveCanvas=function(_a,_b,_c,_d){this.left=_a||0;this.top=_b||0;this.width=_c||0;this.height=_d||0;if(this._handle){var _e=this._handle._draw_node;if(_e){_e.width=this.width;_e.height=this.height;var _f=_e.style;_f.left=this.left+"px";_f.top=this.top+"px";_f.width=this.width+"px";_f.height=this.height+"px";}}};_pCanvasElement.measureText=function(_a,_b){var _c=this._handle;if(_c){if(!_b){_b=new nexacro.Style_font(_c._draw_ctx.font);}var _d=nexacro._getTextSize(this.letterspace||this._getParentLetterSpace(),_a,_b);return {width:_d[0],height:_d[1]};}};_pCanvasElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeSize(_c._draw_node,_a,_b);}}};}else{_pCanvasElement._image_data=null;_pCanvasElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){var _b=this._handle;if(!_b){this._owner_elem=_a;var _c=_a.getRootWindowHandle();_b=_c.createElement("div");_b._linked_element=this;_b._element_type=7;_b._scale=10;_b._half_scale=5;_b._path_str="";_b._vml_str="";_b._line_scale=1;_b._matrix=nexacro._createMatrixIdentity();_b._pathArray=[];_b._image=null;_b._textBaseline=3;this._handle=this._dest_handle=_b;var _d=_c.createElement("div");_b._draw_node=_d;var _e=_d.style;_e.border="none";nexacro.__setDOMNodeStyleDirection(_e,"ltr");nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeSize(_e,this.width,this.height);if(!this.font){this.font=new nexacro.Style_font("8px Arial");}nexacro.__appendDOMNode(_b,_d);nexacro.__appendDOMNode(_a._dest_handle,_b);}}};_pCanvasElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;_a._linked_element=null;_a._pathArray=null;_a._matrix=null;_a._draw_node=null;}this.parent=null;this._parent_elem=null;};_pCanvasElement._getCoordSize=function(_a,_b){var _c=this._handle._matrix;var _d=this._handle._scale;var _e=this._handle._half_scale;return {x:Math.round(_d*(_a*_c[0][0]+_b*_c[1][0]+_c[2][0])-_e),y:Math.round(_d*(_a*_c[0][1]+_b*_c[1][1]+_c[2][1])-_e)};};_pCanvasElement._getCoordPos=function(_a,_b){var _c=this._handle._matrix;return {x:(_a*_c[0][0]+_b*_c[1][0]+_c[2][0]),y:(_a*_c[0][1]+_b*_c[1][1]+_c[2][1])};};_pCanvasElement._getLineCapStr=function(){return (this.lineCap=="butt")?"flat":this.lineCap;};_pCanvasElement._moveCanvas=function(_a,_b,_c,_d){this.left=_a||0;this.top=_b||0;this.width=_c||0;this.height=_d||0;if(this._handle&&this._handle._draw_node){var _e=this._handle._draw_node;if(_e){var _f=_e.style;_f.left=this.left+"px";_f.top=this.top+"px";_f.width=this.width+"px";_f.height=this.height+"px";}}};_pCanvasElement._setLineStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._setPenStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._circle=function(_a,_b,_c){var _d=this._handle;if(_d){var _e=_d._scale;var _f=_d._half_scale;var _g=_c*_e;var _h=_a+_g-_f;var _i=_b-_f;var _j=this._getCoordSize(_a,_b);var _k=this._getCoordSize(_h,_i);var _l=' at'+(_j.x-_g)+','+(_j.y-_g)+' '+(_j.x+_g)+','+(_j.y+_g)+' '+_k.x+','+_k.y+' '+_k.x+','+_k.y+' ';_d._pathArray.push({x:_j.x-_g,y:_j.y-_g});_d._pathArray.push({x:_j.x+_g,y:_j.y+_g});_d._pathArray.push({x:_k.x,y:_k.y});_d._path_str+=_l;}};_pCanvasElement.circle=function(_a,_b,_c,_d){if(_d){var _e=this.lineOffset;this._circle(_a,_b,_c-_e);}else{this._circle(_a,_b,_c);}};_pCanvasElement.insetRect=function(_a,_b,_c,_d){if(_c==0||_d==0){return;}var _e=(_c>0)?gap: -gap;var _f=(_d>0)?gap: -gap;this.moveTo(_a+_e,_b+_f);this.lineTo(_a+_e,_b+_d-_f);this.lineTo(_a+_c-_e,_b+_d-_f);this.lineTo(_a+_c-_e,_b+_f);this.closePath();};_pCanvasElement.drawHalfRect=function(_a,_b,_c,_d){this.halfRect(_a,_b,_c,_d);this.drawStroke();};_pCanvasElement.drawFillRect=function(_a,_b,_c,_d){this.moveTo(_a,_b);this.lineTo(_a+_c,_b);this.lineTo(_a+_c,_b+_d);this.lineTo(_a,_b+_d);this.closePath();this.fill();this.beginPath();};_pCanvasElement.strokeRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d,true);this.drawStroke();};_pCanvasElement.drawStrokeInsetArc=function(_a,_b,_c,_d,_e){var _f=this.lineWidth;this.drawArc(_a,_b,_c-_f,_d,_e);this.drawStroke();this.closePath();};_pCanvasElement.drawFillCircle=function(_a,_b,_c){this.circle(_a,_b,_c);this.fill();this.beginPath();};_pCanvasElement.drawStrokeCircle=function(_a,_b,_c){var _d=this.lineOffset;this.circle(_a,_b,_c+_d);this.circle(_a,_b,_c-_d);this.drawStroke();};_pCanvasElement.drawStrokeInsetCircle=function(_a,_b,_c){var _d=this.lineWidth;this.circle(_a,_b,_c);this.circle(_a,_b,_c-_d);this.drawStroke();};_pCanvasElement.drawStroke=function(){var _a=this._handle;var _b=_a._linked_element;if(_a&&_a._path_str){var _c="";_c+="<v:shape filled='f' stroked='t' style='position:absolute;width:10px;height:10px;' ";_c+="coordorigin='0 0' coordsize='"+_a._scale*10+' '+_a._scale*10+"' ";_c+="color='"+_a._stroke_color+"' ";_c+="strokecolor='"+_a._stroke_color+"' ";if(_a._stroke_alpha!=1){_c+="opacity='"+_a._stroke_alpha+"' ";}var _d=_b.lineWidth*_a._line_scale;_c+="joinstyle='"+_b.lineJoin+"' endcap='"+_b._getLineCapStr()+"' strokeweight='"+_d+"px' ";_c+="path='"+_a._path_str+"' />";_a._vml_str+=_c;_a._draw_node.innerHTML=_a._vml_str;_a._path_str="";}};_pCanvasElement.endDraw=function(){this.beginPath();};_pCanvasElement.measureText=function(_a,_b){var _c=this._handle;if(_c){if(!_b){return;}var _d=nexacro._getTextSize(this.letterspace||this._getParentLetterSpace(),_a,_b);return {width:_d[0],height:_d[1]};}};_pCanvasElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeSize(_c._draw_node.style,_a,_b);_c._draw_node.innerHTML="";_c._vml_str="";_c._path_str="";}}};}_pCanvasElement.drawFillText=function(_a,_b,_c,_d){this.fillText(_a,_b,_c,_d);this.beginPath();};_pCanvasElement.drawBorder=function(_a,_b,_c,_d,_e,_f){if(false&&_f&&_f.type=="round"){if(_e.width&&_e.color!=""&&_e.color!="transparent"){var _g=new nexacro.Style_color(_e.color);this.setElementStrokeStyle(_g);this.setElementLineWidth(parseInt(_e.width));var _h=_f._radiusx,_i=_f._radiusy;if(_h>0&&_i>0){var _j=0;if((_h+_h)>_c){_j=_h-Math.floor(_c/2);}if((_i+_i)>_d){var _k=_i-Math.floor(_d/2);if(_k>_j){_j=_k;}}if(_j){_h-=_j;_i-=_j;}this.moveTo(_a+_h+1000,_b);this.arcTo(_a+_c,_b,_a,_b+_i,_i);this.lineTo(bottomright.x,bottomright.y-rounding.w);this.arcTo(bottomright.x,bottomright.y,bottomright.x-rounding.w,bottomright.y,rounding.w);this.lineTo(bottomleft.x+rounding.h,bottomleft.y);this.arcTo(bottomleft.x,bottomleft.y,bottomleft.x,bottomleft.y-rounding.h,rounding.h);this.lineTo(topleft.x,topleft.y+rounding.x);this.arcTo(topleft.x,topleft.y,topleft.x+rounding.x,topleft.y,rounding.x);this.drawStroke();}else{this.drawStrokeInsetRect(_a,_b,_c,_d);}}}else if(_e&&!_e._is_empty){if(_e._linecnt==1){if(_e.width&&_e.color!=""&&_e.color!="transparent"){var _g=new nexacro.Style_color(_e.color);this.setElementStrokeStyle(_g);this.setElementLineWidth(parseInt(_e.width));this.drawStrokeInsetRect(_a,_b,_c,_d);}}else if(_e._linecnt==2){if(_e.top._isValid()){this._setLineStyle(_e.top);var _l=_e.top._width/2;this.moveTo(_a,_b+_l);this.lineTo(_a+_c,_b+_l);this.moveTo(_a,_b+_d-_l);this.lineTo(_a+_c,_b+_d-_l);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _l=_e.right._width/2;this.moveTo(_a+_c-_l,_b);this.lineTo(_a+_c-_l,_b+_d);this.moveTo(_a+_l,_b);this.lineTo(_a+_l,_b+_d);this.stroke();}}else if(_e._linecnt==3){if(_e.top._isValid()){this._setLineStyle(_e.top);var _l=_e.top._width/2;this.moveTo(_a,_b+_l);this.lineTo(_a+_c,_b+_l);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _l=_e.right._width/2;this.moveTo(_a+_c-_l,_b);this.lineTo(_a+_c-_l,_b+_d);this.moveTo(_a+_l,_b);this.lineTo(_a+_l,_b+_d);this.stroke();}if(_e.bottom._isValid()){this._setLineStyle(_e.bottom);var _l=_e.bottom._width/2;this.moveTo(_a,_b+_c-_l);this.lineTo(_a+_c,_b+_c-_l);this.stroke();}}else{if(_e.top._isValid()){this._setLineStyle(_e.top);var _l=_e.top._width/2;this.moveTo(_a,_b+_l);this.lineTo(_a+_c,_b+_l);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _l=_e.right._width/2;this.moveTo(_a+_c-_l,_b);this.lineTo(_a+_c-_l,_b+_d);this.stroke();}if(_e.bottom._isValid()){this._setLineStyle(_e.bottom);var _l=_e.bottom._width/2;this.moveTo(_a,_b+_c-_l);this.lineTo(_a+_c,_b+_c-_l);this.stroke();}if(_e.left._isValid()){this._setLineStyle(_e.left);var _l=_e.left._width/2;this.moveTo(_a+_l,_b);this.lineTo(_a+_l,_b+_d);this.stroke();}}}};_pCanvasElement=null;nexacro.CanvasGradient=function(_a){this.type_=_a;this.x0=0;this.y0=0;this.r0=0;this.x1=0;this.y1=0;this.r1=0;this.colors=[];};var _pCanvasGradient=nexacro.CanvasGradient.prototype;_pCanvasGradient.addColorStop=function(_a,_b){var _c=nexacro._getWebColorFromXreColor(_b);var _d=nexacro._getXreColorAlpha(_b)/255;this.colors.push({offset:_a,color:_c,alpha:_d});};delete _pCanvasGradient;nexacro.GridScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;this._target_vscroll_elements=null;this._target_hscroll_elements=null;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pGridScrollableControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.GridScrollableControlElement);nexacro.GridScrollableControlElement.prototype=_pGridScrollableControlElement;_pGridScrollableControlElement._type_name="GridScrollableControlElement";_pGridScrollableControlElement.scroll_left=0;_pGridScrollableControlElement.scroll_top=0;_pGridScrollableControlElement.container_maxwidth=0;_pGridScrollableControlElement.container_maxheight=0;_pGridScrollableControlElement._hscroll_visible=false;_pGridScrollableControlElement._vscroll_visible=false;_pGridScrollableControlElement._hscroll_height=0;_pGridScrollableControlElement._vscroll_width=0;_pGridScrollableControlElement._hscroll_left=0;_pGridScrollableControlElement._hscroll_top=0;_pGridScrollableControlElement._hscroll_width=0;_pGridScrollableControlElement._vscroll_left=0;_pGridScrollableControlElement._vscroll_top=0;_pGridScrollableControlElement._vscroll_height=0;_pGridScrollableControlElement.hscroll_limit=0;_pGridScrollableControlElement.vscroll_limit=0;_pGridScrollableControlElement._scroll_showtype= -1;_pGridScrollableControlElement._scrollview_width_top=0;_pGridScrollableControlElement._hscroll_control=null;_pGridScrollableControlElement._vscroll_control=null;_pGridScrollableControlElement._resizebutton_element=null;_pGridScrollableControlElement._scroll_overlap=false;_pGridScrollableControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}nexacro._observeSysEvent(this._client_element._handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);}};_pGridScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){nexacro._stopSysObserving(this._client_element._handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;if(this._target_vscroll_elements){if(nexacro._isArray(this._target_vscroll_elements)){for(var _c=0,_d=this._target_vscroll_elements.length;_c<_d;_c++ ){this._target_vscroll_elements[_c]=null;}}this._target_vscroll_elements=null;}if(this._target_hscroll_elements){if(nexacro._isArray(this._target_hscroll_elements)){for(var _c=0,_d=this._target_hscroll_elements.length;_c<_d;_c++ ){this._target_hscroll_elements[_c]=null;}}this._target_hscroll_elements=null;}this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pGridScrollableControlElement.clearContents=function(){if(this._handle){nexacro._stopSysObserving(this._client_element._handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._stopSysObserving(this._handle,"scroll","onscroll",this._syshandler_onscroll_forward);this._client_element.clearContents();}};_pGridScrollableControlElement._syshandler_onscroll_forward=function(_a){if(window.event){_a=window.event;}var _b=_a.srcElement||_a.target;_b.scrollLeft=0;_b.scrollTop=0;};_pGridScrollableControlElement.getContainerElement=function(_a){return this._client_element;};_pGridScrollableControlElement.setVertScrollElements=function(_a){this._target_vscroll_elements=_a;};_pGridScrollableControlElement.setHorzScrollElements=function(_a){this._target_hscroll_elements=_a;};_pGridScrollableControlElement.setContainerVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementVScrollPos(_a);}}else{_b.setElementVScrollPos(_a);}}};_pGridScrollableControlElement.setContainerHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementHScrollPos(_a);}}else{_b.setElementHScrollPos(_a);}}};_pGridScrollableControlElement.setContainerMaxHeight=function(_a){var _b=this._target_vscroll_elements;if(_b){this.container_maxheight=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxHeight(_a);}}else{_b._setContainerMaxHeight(_a);}}};_pGridScrollableControlElement.setContainerMaxWidth=function(_a){var _b=this._target_hscroll_elements;if(_b){this.container_maxwidth=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxWidth(_a);}}else{_b._setContainerMaxWidth(_a);}}};_pGridScrollableControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this._client_element;if(this._scroll_showtype>0){var _f=this._target_vscroll_elements,_g=_f,_h=this._target_hscroll_elements,_i=_h;if(nexacro._isArray(_f)){_g=_f[0];}if(nexacro._isArray(_h)){_i=_h[0];}var _j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;var _k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;var _l=(_g)?_g._getContainerMaxHeight():0;var _m=(_i)?_i._getContainerMaxWidth():0;var _n=(_i)?_i._getScrollLeft():0;var _o=(_g)?_g._getScrollTop():0;var _p=false;var _q=false;var _r=0;var _s=0;var _t=this._step_count;var _u=false;var _v=this._scroll_showtype;if(_v==1){if(this._vscroll_control&&_l>_j){_q=true;_c-=this._vscroll_width;_s=_l-_j;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control&&_m>_k){_p=true;_d-=this._hscroll_height;_j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;if(this._vscroll_control&&_l>_j){if(!_q){_q=true;_c-=this._vscroll_width;_k-=this._vscroll_width;}_s=_l-_j;}_r=_m-_k;}}else if(_v==2){if(this._vscroll_control){_q=true;_c-=this._vscroll_width;_s=_l+this._hscroll_height-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control){if(!_u){_p=true;_d-=this._hscroll_height;}_r=_m-_k;}}else if(_v==31){if(this._vscroll_control){_q=true;_c-=this._vscroll_width;_s=_l-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control&&_m>_k){_p=true;_d-=this._hscroll_height;_j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;if(this._vscroll_control&&_l>_j){if(!_q){_q=true;_c-=this._vscroll_width;_k-=this._vscroll_width;}_s=_l-_j;}_r=_m-_k;}}else if(_v==32){if(this._vscroll_control&&_l>_j){_q=true;_c-=this._vscroll_width;_s=_l+this._hscroll_height-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control){if(!_u){_p=true;_d-=this._hscroll_height;}_r=_m-_k;}}if(_r<0){_r=0;}if(_s<0){_s=0;}var _w=false;var _x=false;if(this.hscroll_limit!=_r){_x=true;this.hscroll_limit=_r;}if(this.vscroll_limit!=_s){_w=true;this.vscroll_limit=_s;}var _y=false;var _z=false;var _aa=false;var _ab=false;if(_o>_s){_y=true;_o=_s;}if(_n>_r){_z=true;_n=_r;}if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_e.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_e.setElementSize(_c,_d);}if(_z){this.setElementHScrollPos(_n);}if(_y){this.setElementVScrollPos(_o);}if(this._vscroll_control){if(this._vscroll_control.parent.enable!=this._vscroll_control.enable){_aa=true;}if(_q){if(!this._vscroll_visible){this._vscroll_visible=true;this._vscroll_control.set_visible(true);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_w){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,true,_o);}else{this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,true,_o);if(_y){this._vscroll_control._setScrollPos(_o);}}if(_aa){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}}else{if(this._vscroll_visible){this._vscroll_visible=false;this._vscroll_control.set_visible(false);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_w){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,false,_o);}else if(_y){this._vscroll_control._setScrollPos(_o);}if(_aa){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}}}if(this._hscroll_control){if(this._hscroll_control.parent.enable!=this._hscroll_control.enable){_ab=true;}if(_p){if(!this._hscroll_visible){this._hscroll_visible=true;this._hscroll_control.set_visible(true);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_x){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_k,_k,true,_n);}else if(_z){this._hscroll_control._setScrollPos(_n);}if(_ab){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}}else{if(this._hscroll_visible){this._hscroll_visible=false;this._hscroll_control.set_visible(false);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_x){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_k,_k,false,_n);}else if(_z){this._hscroll_control._setScrollPos(_n);}if(_ab){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}}}}else{if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_e.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_e.setElementSize(_c,_d);}}};_pGridScrollableControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=child.elem.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pGridScrollableControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pGridScrollableControlElement.sendToBackElement=function(_a){this._client_element.sendToBackElement(_a);};_pGridScrollableControlElement.bringToFrontElement=function(_a){this._client_element.bringToFrontElement(_a);};_pGridScrollableControlElement.moveToNextElement=function(_a,_b){this._client_element.moveToNextElement(_a,_b);};_pGridScrollableControlElement.moveToPrevElement=function(_a,_b){this._client_element.moveToPrevElement(_a,_b);};_pGridScrollableControlElement.setScrollControls=function(_a,_b,_c,_d,_e){var _f=false;if(this._scroll_showtype!=_e){this._scroll_showtype=_e;_f=true;}if(this._hscroll_control!=_a){if(_a){this._hscroll_visible=true;_a._is_nc_control=true;this._hscroll_control=_a;if(this._hscroll_height!=_c){this._hscroll_height=_c;_f=true;}}else{this._hscroll_control=null;if(this._hscroll_height){this._hscroll_height=0;_f=true;}this._hscroll_left=0;this._hscroll_top=0;this._hscroll_width=0;}}if(this._vscroll_control!=_b){if(_b){this._vscroll_visible=true;_b._is_nc_control=true;this._vscroll_control=_b;if(this._vscroll_width!=_d){this._vscroll_width=_d;_f=true;}}else{this._vscroll_control=null;if(this._vscroll_width){this._vscroll_width=0;_f=true;}this._vscroll_left=0;this._vscroll_top=0;this._vscroll_height=0;}}if(_f){this._updateClientSize();}};_pGridScrollableControlElement._arrangeBandOrder=function(){var _a=this.linkedcontrol;if(_a){var _b=this._client_element;var _c=null;if(_b._handle){if(_a._headBand){_c=_a._headBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,_c._handle);}if(_a._bodyBand){_c=_a._bodyBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,_c._handle);}if(_a._summBand){_c=_a._summBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,_c._handle);}if(_a._headBand){_c=_a._headBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,_c._handle);}if(_a._bodyBand){_c=_a._bodyBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,_c._handle);}if(_a._summBand){_c=_a._summBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,_c._handle);}}delete _c;}};if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){_pGridScrollableControlElement.setElementHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _c=_b._getScrollLeft();if(_c!=_a||this._reset_scrollpos){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control){this._hscroll_control._setScrollPos(_a);}}if(this.parent._procRefreshDOM==true){var _d;if(nexacro._isArray(_b)){_d=_b[0]._client_body_element;}else{_d=_b._client_body_element;}if(_d){_d._refreshDOM();}}}};_pGridScrollableControlElement.setElementVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}var _c=_b._getScrollTop();if(_c!=_a||this._reset_scrollpos){this.scroll_top=_a;this.linkedcontrol._scroll_top=_a;this.setContainerVScrollPos(_a);if(this._vscroll_control&&!this._vscroll_control._no_set_scrollinfo){this._vscroll_control._setScrollPos(_a);}}if(this.parent._procRefreshDOM==true){var _d;if(nexacro._isArray(_b)){_d=_b[0]._client_element;}else{_d=_b._client_element;}if(_d){_d._refreshDOM();}}}};}else{_pGridScrollableControlElement.setElementHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _c=_b._getScrollLeft();if(_c!=_a||this._reset_scrollpos){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control&&!this._hscroll_control._no_set_scrollinfo){this._hscroll_control._setScrollPos(_a);}}}};_pGridScrollableControlElement.setElementVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}var _c=_b._getScrollTop();this.scroll_top=_a;if(_c!=_a||this._reset_scrollpos){this.linkedcontrol._scroll_top=_a;this.setContainerVScrollPos(_a);if(this._vscroll_control&&!this._vscroll_control._no_set_scrollinfo){this._vscroll_control._setScrollPos(_a);}}}};};_pGridScrollableControlElement.setElementScrollPos=function(_a,_b){var _c=this._target_vscroll_elements;var _d=this._target_hscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}if(_b<0){_b=0;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}var _e=_c._getScrollTop();if(_e!=_b){this.scroll_top=_b;this.linkedcontrol._scroll_top=_b;this.setContainerVScrollPos(_b);if(this._vscroll_control){this._vscroll_control._setScrollPos(_b);}}}if(_d){if(nexacro._isArray(_d)){_d=_d[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _f=_d._getScrollLeft();if(_f!=_a){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control){this._hscroll_control._setScrollPos(_a);}}}};_pGridScrollableControlElement._setInnerElementScrollMaxSize=function(_a){var _b=this._target_vscroll_elements;if(_b&&_a){_b._client_element._scroll_max_arr=_a;}};_pGridScrollableControlElement.setElementScrollMaxSize=function(_a,_b){var _c=this._target_vscroll_elements;if(nexacro._isArray(_c)){_c=_c[0];}var _d=this._target_hscroll_elements;if(nexacro._isArray(_d)){_d=_d[0];}var _e=(_c)?_c._getContainerMaxHeight():0;var _f=(_d)?_d._getContainerMaxWidth():0;var _g=false;if(_f!=_a||_e!=_b){if(_e!=_b){this.setContainerMaxHeight(_b);}if(_f!=_a){this.setContainerMaxWidth(_a);}_g=true;}if(_c&&this._scroll_showtype>=0){this._updateClientSize();}return _g;};_pGridScrollableControlElement.setElementScrollMaxWidth=function(_a,_b){var _c=this._target_hscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}var _d=_c._getContainerMaxWidth();if(_d!=_a){if(_d!=_a){this.setContainerMaxWidth(_a);}if(_b&&this._scroll_showtype>=0){this._updateClientSize();}return true;}}return false;};_pGridScrollableControlElement.setElementScrollMaxHeight=function(_a,_b){var _c=this._target_vscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}var _d=_c._getContainerMaxHeight();if(_d!=_a){if(_d!=_a){this.setContainerMaxHeight(_a);}if(_b&&this._scroll_showtype>=0){this._updateClientSize();}return true;}}return false;};_pGridScrollableControlElement.setElementScrollbarSize=function(_a,_b){if(this._vscroll_width!=_a||this._hscroll_height!=_b){this._vscroll_width=_a;this._hscroll_height=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};delete _pGridScrollableControlElement;nexacro.GridBandControlElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this._type=_b;this._client_element=new nexacro.GridBandContainerElement(this);this._client_element_fix=null;this._fix_height=0;this.container_maxwidth=0;this.container_maxheight=0;};var _pGridBandControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridBandControlElement);nexacro.GridBandControlElement.prototype=_pGridBandControlElement;_pGridBandControlElement._type_name="GridBandControlElement";_pGridBandControlElement.scroll_left=0;_pGridBandControlElement.scroll_top=0;_pGridBandControlElement.create=function(){nexacro.ControlElement.prototype.create.call(this);if(this._client_element_fix){this._client_element_fix.create();}};_pGridBandControlElement.destroy=function(){if(this._client_element_fix){this._client_element_fix.destroy();this._client_element_fix=null;}return nexacro.ControlElement.prototype.destroy.call(this);};_pGridBandControlElement._setFixArea=function(_a){this._fix_height=_a;if(!this._client_element_fix){this._client_element_fix=new nexacro.GridBandContainerElement(this,true);}if(this._handle&&!this._client_element_fix._handle){this._client_element_fix.create();}this._updateClientSize();};_pGridBandControlElement.getContainerElement=function(_a){if(_a){return this._client_element_fix;}return this._client_element;};_pGridBandControlElement._setContainerMaxHeight=function(_a){if(this._type=="body"){if(this.container_maxheight!=_a){this.container_maxheight=_a;this._client_element._setScrollHeight(_a);}}};_pGridBandControlElement._resetExtendContainer=function(){this._client_element._setScrollHeight(this.container_maxheight);};_pGridBandControlElement._calculateClientHeight=function(_a){var _b=this.client_height+_a+((this.border)?this.border._getBorderHeight():0);return _b;};_pGridBandControlElement.setElementBorder=function(_a,_b){this.border=_a;this.bordertype=_b;this._setControlBorder(this,this._handle,_a,_b,true);this._updateClientSize();this._client_element._adjustPos();};_pGridBandControlElement._getContainerMaxHeight=function(){if(this._type=="body"){return this.container_maxheight;}else{return this.client_height;}};_pGridBandControlElement._getScrollLeft=function(){return this.scroll_left;};_pGridBandControlElement._getScrollTop=function(){if(this._type=="body"){return this.scroll_top;}else{return 0;}};_pGridBandControlElement._updateClientSize=function(){var _a=0;var _b=0;var _c=this._inner_width;var _d=this._inner_height;var _e=this.border;if(_e&&!_e._is_real_empty()){_c+=_e._getBorderWidth();_d+=_e._getBorderHeight();}var _f=this._fix_height;_b+=_f;_d-=_f;var _g=this._client_element_fix;if(_g){_g.setElementPosition(_a,0,this._bChangeRtl);_g.setElementSize(_c,_f);}var _h=this._client_element;if(_h){if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_h.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_h.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridBandControlElement.setElementVScrollPos=function(_a){if(this._type=="body"){this._client_element._try_user_setvpos=true;this._client_element.setElementVScrollPos(_a);this._client_element._try_user_setvpos=null;this.scroll_top=_a;}};_pGridBandControlElement._setOnScrollCallbackTarget=function(_a){if(this._type=="body"){this._client_element._grid=_a;}};_pGridBandControlElement._getExtendContainerCount=function(){if(this._client_element){return this._client_element._ext_inners.length;}return 0;};_pGridBandControlElement.setElementCursor=nexacro._emptyFn;_pGridBandControlElement.setElementShadow=nexacro._emptyFn;delete _pGridBandControlElement;nexacro.GridBandContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;this._scroll_max_arr=[];this._ext_inners=[];};var _pGridBandContainerElement;var _gridScrollMode=1;if(nexacro.Browser=="Edge"||(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"))){_gridScrollMode=0;}if(_gridScrollMode){_pGridBandContainerElement=nexacro._createPrototype(nexacro.ScrollableInnerContainerElement,nexacro.GridBandContainerElement);}else{_pGridBandContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.GridBandContainerElement);}nexacro.GridBandContainerElement.prototype=_pGridBandContainerElement;_pGridBandContainerElement._type_name="GridBandContainerElement";_pGridBandContainerElement._findScrollbarLinkedControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){_c=_c.parent;if(_b){if(_c.vscrollbar&&_c.vscrollbar._isVisible()){return _c;}}else{if(_c.hscrollbar&&_c.hscrollbar._isVisible()){return _c;}}}_a=_a.parent;}};_pGridBandContainerElement._adjustPos=function(){this.setElementPosition(this.left,this.top);if(this._dest_handle&&this._handle!=this._dest_handle){var _a=this._dest_handle.style;var _b=parseInt(_a.left);var _c=parseInt(_a.top);nexacro.__setDOMNodeStylePos(_a,_b,_c,this._isRtl());}};_pGridBandContainerElement.setElementPosition=function(_a,_b){var _c=this.parent.border;this.left=_a;this.top=_b;var _d=this._handle;if(_d){if(_c){_a=_a-_c._left_width;_b=_b-_c._top_width;}nexacro.__setDOMNodeStylePos(_d.style,_a,_b,this._isRtl());}};if(_gridScrollMode){_pGridBandContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);var _d=_b.createElement("div");_d.id=_c.id+"_inner";nexacro.__setDOMNodeSelectable(_d,false);var _e=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);var _f=_d.style;_f.position="absolute";nexacro.__setDOMNodeStylePos(_f,0,0,this._isRtl());nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_f,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}nexacro.__appendDOMNode(_c,_d);this._dest_handle=_d;this._handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._setScrollHeight(_a.container_maxheight);if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeStyleTranslate(_f, -this._scroll_left, -this._scroll_top);}nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);this._adjustPos();}};_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;if(!_b){_b=_a.srcElement;}if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;return;}var _d=_c._scroll_top|0;if(_b.scrollLeft>0){_c._noEventScroll=true;_b.scrollLeft=0;}if(_b.scrollTop>0){_c._noEventScroll=true;_b.scrollTop=0;}}};_pGridBandContainerElement._setInnerElementExtend=function(){var _a=this._handle;var _b=this._dest_handle;var _c=this._scroll_max_arr;var _d=this._owner_elem.getRootWindowHandle();this._removeExtinners();this._ext_inners=[];var _e=_c.length;if(_e>0){for(var _h=1;_h<_e;_h++ ){var _f=_d.createElement("div");_f.id=_b.id+"_ext_"+(_h-1);nexacro.__setDOMNodeSelectable(_f,false);var _g=_f.style;_g.position="absolute";nexacro.__setDOMNodeStylePos(_g,0,this.height,this._isRtl());nexacro.__setDOMNodeStyleSize(_f.style,this.width,_c[_h]-_c[_h-1]);nexacro.__appendDOMNode(_a,_f);this._ext_inners.push(_f);}}};_pGridBandContainerElement._setScrollHeight=function(_a){var _b=this._dest_handle;if(_b){if(this._scroll_max_arr&&this._scroll_max_arr.length>0){_a=this._scroll_max_arr[0];if(_a<this.height){_a=this.height;}nexacro.__setDOMNodeStyleSize(_b.style,this.width,_a);this._setInnerElementExtend();}else{if(_a<this.height){_a=this.height;}nexacro.__setDOMNodeStyleSize(_b.style,this.width,_a);}}};if(_gridScrollMode==2){_pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._dest_handle;if(_b){nexacro.__setDOMNodeStylePos(_b.style,0, -_a,this._isRtl());if(this._grid){this._grid._callback_onscroll(_a);}}}};_pGridBandContainerElement._getDestHandle=function(_a){return this._dest_handle;};}else{_pGridBandContainerElement._getDestHandle=function(_a,_b){if(_b==undefined){_b=this._getExtInnerIdx(_a);}return (_b<0)?this._dest_handle:this._ext_inners[_b];};_pGridBandContainerElement._getExtInnerIdx=function(_a){var _b=this._ext_inners;var _c=this._scroll_max_arr;var _d= -1;for(var _e=0,_f=_c.length;_e<_f;_e++ ){if(_a<_c[_e]){_d=_e-1;break;}}return _d;};_pGridBandContainerElement._changeInnerElement=function(_a,_b){var _c=this._getExtInnerIdx(_a);var _d=this._getDestHandle(_a,_c);var _e=_b.parentElement;if(_c!=null&&_c> -1){_a=_a-this._scroll_max_arr[_c];}if(_e&&(_e!=_d)){nexacro.__removeDOMNode(_e,_b);nexacro.__appendDOMNode(_d,_b);}return _a;};_pGridBandContainerElement._setInnerElementVScrollPos=function(_a){var _b=0;var _c=this._ext_inners;var _d=this._scroll_max_arr;var _e=nexacro.Browser_Transform3d?this.height:0;for(var _f=0;_f<_c.length;_f++ ){if(_a+_e>_d[_f]&&_a<_d[_f+1]){_b=_a-(_d[_f]-_e);}else{_b= -_e;}nexacro.__setDOMNodeStyleTranslate(_c[_f].style,0, -_b);}};_pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._dest_handle;if(_b){nexacro.__setDOMNodeStyleTranslateY(_b.style, -_a);this._setInnerElementVScrollPos(_a);if(this._grid){this._grid._callback_onscroll(_a);}}}};}_pGridBandContainerElement._refreshDOM=function(){if(this._handle){nexacro.__setDOMNodeVScrollPos(this._handle,1);}};_pGridBandContainerElement._removeExtinners=function(){var _a=this._handle;var _b=this._ext_inners;for(var _c=0;_c<_b.length;_c++ ){nexacro.__removeDOMNode(_a,_b[_c]);}this._ext_inners=null;};}else{_pGridBandContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeOffset(_c,this._scroll_left,this._scroll_top);}var _e=this._tempdiv=_b.createElement("div");_e._element_type=3;nexacro.__setDOMNodeStyleAbsoluteTransparent(_e.style);nexacro.__setDOMNodeStylePos(_e.style,0,0,this._isRtl());nexacro.__setDOMNodeStyleSize(_e.style,1,1);nexacro.__setDOMNodeStyleVisible(_e.style,false);nexacro.__appendDOMNode(_c,_e);this._setScrollHeight(_a.container_maxheight);nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);this._adjustPos();}};_pGridBandContainerElement.destroy=function(){var _a=this._handle;if(_a){this._removeExtinners();nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}nexacro.__removeDOMNode(_a,this._tempdiv);this._tempdiv=null;this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion<=8){_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;if(_c._grid){_c._grid._callback_onscroll(_b.scrollTop);}return;}var _d=_c._scroll_top|0;if(!_c._try_user_setvpos){if(_d!=_b.scrollTop){var _e=_c._findScrollbarLinkedControl(_c,true);if(_e){if(_e._scrollpixel=="all"){_e.vscrollbar.set_pos(_b.scrollTop);}else{_e.vscrollbar.set_pixelpos(_b.scrollTop);}}else{_b.scrollTop=_d;}}}}};}else{_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;if(_c._grid){_c._grid._callback_onscroll(_b.scrollTop);}return;}var _d=_c._scroll_top|0;if(_d!=_b.scrollTop){var _e=_c._findScrollbarLinkedControl(_c,true);if(_e){if(_e._scrollpixel=="all"){_e.vscrollbar.set_pos(_b.scrollTop);}else{_e.vscrollbar.set_pixelpos(_b.scrollTop);}}else{_b.scrollTop=_d;}}}};}}else{_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;if(_c._grid){_c._grid._callback_onscroll(_b.scrollTop);}return;}var _d=_c._scroll_top|0;if(_d!=_b.scrollTop){var _e=_c._findScrollbarLinkedControl(_c,true);if(_e){if(_e._scrollpixel=="all"){_e.vscrollbar.set_pos(_b.scrollTop);}else{_e.vscrollbar.set_pixelpos(_b.scrollTop);}}else{_b.scrollTop=_d;}}}};}_pGridBandContainerElement._setScrollHeight=function(_a){if(this._tempdiv){nexacro.__setDOMNodeStylePos(this._tempdiv.style,0,_a-1,this._isRtl());}};_pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._handle;if(_b){this._noEventScroll=true;nexacro.__setDOMNodeVScrollPos(_b,_a);}}};_pGridBandContainerElement._getDestHandle=function(_a){return this._dest_handle;};_pGridBandContainerElement._removeExtinners=function(){};};delete _pGridBandContainerElement;nexacro.GridRowControlElement=function(_a){this.parent=_a;this._parent_elem=_a;this._client_left_element=null;this._client_body_element=new nexacro.GridAreaContainerElement(this,"body");this._client_right_element=null;this._left_width=0;this._right_width=0;this._body_width=0;this._body_scroll_maxwidth=0;this.scroll_left=0;this._top=0;};var _pGridRowControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridRowControlElement);nexacro.GridRowControlElement.prototype=_pGridRowControlElement;_pGridRowControlElement._type_name="GridRowControlElement";_pGridRowControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.linkedcontrol._fixed);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=this.linkedcontrol._getWindow()._doc;var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;var _e=_a._getDestHandle(this.top);this.setElementPosition(this.left,this.top,true);nexacro.__appendDOMNode(_e,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle){if(!this._client_body_element._handle){this._client_body_element.create();}if(this._client_left_element&&!this._client_left_element._handle){this._client_left_element.create();}if(this._client_right_element&&!this._client_right_element._handle){this._client_right_element.create();}this._client_element=this._client_body_element;}}};_pGridRowControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_a.parentNode,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_body_element.destroy();if(this._client_left_element){this._client_left_element.destroy();}if(this._client_right_element){this._client_right_element.destroy();}this._client_body_element=null;this._client_left_element=null;this._client_right_element=null;this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pGridRowControlElement.clearContents=function(){if(this._handle){this._client_body_element.clearContents();if(this._client_left_element){this._client_left_element.clearContents();}if(this._client_right_element){this._client_right_element.clearContents();}}};_pGridRowControlElement.getContainerElement=function(_a){if(_a=="left"){return this._client_left_element;}else if(_a=="right"){return this._client_right_element;}return this._client_body_element;};_pGridRowControlElement.setArea=function(_a,_b){if(_a>0&&!this._client_left_element){this._client_left_element=new nexacro.GridAreaContainerElement(this,"left");}if(_b>0&&!this._client_right_element){this._client_right_element=new nexacro.GridAreaContainerElement(this,"right");}this._left_width=_a;if(this._client_left_element){this._client_left_element.setElementPosition(this.client_left,this.client_top,this._bChangeRtl);this._client_left_element.setElementSize(_a,this.client_height);}this._right_width=_b;if(this._client_right_element){this._client_right_element.setElementPosition(this.client_width-_b,this.client_top,this._bChangeRtl);this._client_right_element.setElementSize(_b,this.client_height);}this._body_width=this.client_width-_a-_b;this._client_body_element.setElementPosition(_a,this.client_top,this._bChangeRtl);this._client_body_element.setElementSize(this._body_width,this.height);};_pGridRowControlElement._updateClientSize=function(){this.client_left=this._inner_left;this.client_top=this._inner_top;this.client_width=this._inner_width;this.client_height=this._inner_height;this.setArea(this._left_width,this._right_width);};_pGridRowControlElement._setContainerMaxWidth=function(_a){if(this._body_scroll_maxwidth!=_a){this._body_scroll_maxwidth=_a;}};_pGridRowControlElement._calculateClientWidth=function(_a){var _b=this._body_width+_a;return _b;};_pGridRowControlElement._getContainerMaxWidth=function(){return this._body_scroll_maxwidth;};_pGridRowControlElement._getScrollLeft=function(){return this.scroll_left;};_pGridRowControlElement.setElementHScrollPos=function(_a){this._client_body_element.setElementHScrollPos(_a);this.scroll_left=_a;};if(_gridScrollMode==1){_pGridRowControlElement.setElementPosition=function(_a,_b,_c){var _d=this._owner_elem;if(this.left!=_a||this.top!=_b||_c){if(_d&&(this.top!=_b||_c)){this._top=_d._changeInnerElement(_b,this._handle);}this.left=_a;this.top=_b;var _e=this._handle;if(_e){nexacro.__setDOMNodeStylePos(_e.style,_a,this._top,this._isRtl());}}};}_pGridRowControlElement.setElementRtlDirection=function(_a){nexacro.Element.prototype.setElementRtlDirection.call(this,_a);this._bChangeRtl=true;this._updateClientSize();this._bChangeRtl=false;};_pGridRowControlElement.setElementCursor=nexacro._emptyFn;_pGridRowControlElement.setElementShadow=nexacro._emptyFn;delete _pGridRowControlElement;nexacro.GridAreaContainerElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this._areatype=_b;};var _pGridAreaContainerElement;if(nexacro.Browser=="Edge"){_pGridAreaContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.GridAreaContainerElement);}else{_pGridAreaContainerElement=nexacro._createPrototype(nexacro.ScrollableInnerContainerElement,nexacro.GridAreaContainerElement);}nexacro.GridAreaContainerElement.prototype=_pGridAreaContainerElement;_pGridAreaContainerElement._type_name="GridAreaContainerElement";_pGridAreaContainerElement._findScrollbarLinkedControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){_c=_c.parent.parent;if(_b){if(_c.vscrollbar&&_c.vscrollbar._isVisible()){return _c;}}else{if(_c.hscrollbar&&_c.hscrollbar._isVisible()){return _c;}}}_a=_a.parent;}};if(nexacro.Browser=="Edge"){_pGridAreaContainerElement.setElementHScrollPos=function(_a){this._scroll_left=_a;var _b=this._dest_handle;if(this._handle){_a=nexacro.__convertScrollLeftFromDOMNode(this._handle,_a);nexacro.__setDOMNodeHScrollPos(this._handle,_a);}};}else{_pGridAreaContainerElement.setElementHScrollPos=function(_a){this._scroll_left=_a;var _b=this._dest_handle;if(this._handle){var _c=this._isRtl();if(_c){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){nexacro.__setDOMNodeStyleTranslateX(_b.style, -_a,_c);}else{nexacro.__setDOMNodeStyleTranslateX(_b.style,_a);}}else{nexacro.__setDOMNodeStyleTranslateX(_b.style, -_a);}}};}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){_pGridAreaContainerElement.setElementPosition=function(_a,_b,_c){nexacro.Element.prototype.setElementPosition.call(this,_a,_b,_c);var _d=this._dest_handle;if(_d&&this._handle!=_d){var _e=this._isRtl();if(_e){nexacro.__setDOMNodeStylePos(_d.style, -_d.offsetLeft, -_d.offsetTop,_e);}else{nexacro.__setDOMNodeStylePos(_d.style,_d.offsetLeft,_d.offsetTop,_e);}}};}else{_pGridAreaContainerElement.setElementPosition=function(_a,_b,_c){nexacro.Element.prototype.setElementPosition.call(this,_a,_b,_c);var _d=this._dest_handle;if(_d&&this._handle!=_d){nexacro.__setDOMNodeStylePos(this._dest_handle.style,0,0,this._isRtl());}};}_pGridAreaContainerElement._refreshDOM=function(){if(this._handle){this._noRecovery=true;hpos=nexacro.__convertScrollLeftFromDOMNode(this._handle,1);nexacro.__setDOMNodeHScrollPos(this._handle,hpos);}};_pGridAreaContainerElement.setElementCursor=nexacro._emptyFn;_pGridAreaContainerElement.setElementShadow=nexacro._emptyFn;delete _pGridAreaContainerElement;nexacro.GridCellControlElement=function(_a,_b,_c,_d){this.parent=_a;this._parent_elem=_a;this._area=_b;this._expand_width=0;this._expand_ctrl=null;this._mode="";this._changeMode(_c,_d);};var _pGridCellControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridCellControlElement);nexacro.GridCellControlElement.prototype=_pGridCellControlElement;_pGridCellControlElement._type_name="GridCellControlElement";_pGridCellControlElement._changeMode=function(_a,_b){_a=(_a)?_a:"text";if(this._mode!==_a){var _c=this._client_element;var _d=false;if(this._mode.indexOf("text")>=0&&_a.indexOf("text")>=0){_d=true;}if(_a=="text"){this._client_element=new nexacro.GridCellTextSimpleContainerElement(this);if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){this._client_element.padding=(_b)?_b:null;}}else if(_a=="expandtext"){this._client_element=new nexacro.GridCellTextContainerElement(this);}else{this._client_element=new nexacro.GridCellContainerElement(this);}var _e=this._client_element;if(_c){if(_d){_e.font=_c.font;_e.letterspace=_c.letterspace;_e.color=_c.color;_e.cursor=_c.cursor;_e.align=_c.align;_e.halign=_c.halign;_e.valign=_c.valign;_e.text=_c.text;_e.linespace=_c.linespace;_e.wordwrap=_c.wordwrap;_e.decoration=_c.decoration;_e._cell_node=_c._cell_node;_e._use_newline=_c._use_newline;}if(this.linkedcontrol._subComp){this.linkedcontrol._subComp.destroy();this.linkedcontrol._subComp=null;}_c.destroy();}if(this._handle&&!_e._handle){_e.create();}_e.setElementSize(this.client_width,this.client_height);_e.setElementPosition(this.client_left,this.client_top);this._mode=_a;}else{if(this._mode=="text"){if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){this._client_element.padding=(_b)?_b:null;}}}return this._client_element;};_pGridCellControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this._area);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=this.linkedcontrol._getWindow()._doc;var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pGridCellControlElement._setExpandControl=function(_a,_b){this._expand_ctrl=_a;this._expand_width=_b;this._updateClientSize();};_pGridCellControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this.padding;if(this.padding){_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}if(this._mode=="text"&&(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8))){this._client_element.setElementPadding(this.padding);}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}if(this._mode=="text"&&(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8))){this._client_element.setElementPaddingXY(this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}}if(this._expand_ctrl&&this._expand_ctrl.visible==true){_c-=this._expand_width;if(_c<0){_c=0;}}var _f=this._client_element;if(_f){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_f.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridCellControlElement._setDisplay=function(_a){var _b;if(_b=this._handle){var _c=_b.style;if(_a){nexacro.__setDOMNodeStyleDisplay(_c,"");}else{nexacro.__setDOMNodeStyleDisplay(_c,"none");}}};_pGridCellControlElement.setContainerVisible=function(_a){if(this._client_element){this._client_element.setElementVisible(_a);}};_pGridCellControlElement._setControlBackground=function(_a,_b,_c,_d,_e){return nexacro.ControlElement.prototype._setControlBackground.call(this,_a,_b,_c,_d,true);};delete _pGridCellControlElement;nexacro.GridCellContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellContainerElement=nexacro._createPrototype(nexacro.ContainerElement,nexacro.GridCellContainerElement);nexacro.GridCellContainerElement.prototype=_pGridCellContainerElement;_pGridCellContainerElement._type_name="GridCellContainerElement";_pGridCellContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.linkedcontrol._getWindow()._doc;var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=2;nexacro.__setDOMNodeSelectable(_c,false);nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top,this._isRtl());nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_d,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};delete _pGridCellContainerElement;nexacro.GridCellTextContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellTextContainerElement=nexacro._createPrototype(nexacro.TextBoxElement,nexacro.GridCellTextContainerElement);nexacro.GridCellTextContainerElement.prototype=_pGridCellTextContainerElement;_pGridCellTextContainerElement._type_name="GridCellTextContainerElement";_pGridCellTextContainerElement._is_nc_element=true;_pGridCellTextContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.linkedcontrol._getWindow()._doc;var _c=this._createTextElementHandle(_b,this.left,this.top,this.width,this.height);_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;var _e=this._cell_node;var _f=_e.style;var _g=this._isRtl(true);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_f,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_f,this.align);}else if(this.halign&&this.valign){var _h=this.halign;if(_g){_h=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}nexacro.__setDOMNodeStyleAlignXY(_f,_h,this.valign);}if(this.padding){nexacro.__setDOMNodeStylePadding(_f,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_f,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_e,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_e,this.decoration);}else{nexacro.__setDOMNodeText(_e,this.text,this._use_newline,this.wordwrap);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._appendTextElementHandle(_c,_e);}};_pGridCellTextContainerElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._cell_node=null;}this.parent=null;this._parent_elem=null;};_pGridCellTextContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){_a._linked_element=null;if(_b){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}};_pGridCellTextContainerElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this.parent_elem){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this.parent_elem;_a._removeFromContainer();}else{_a._parent_elem=this.parent_elem;}}else{_a._parent_elem=this.parent_elem;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pGridCellTextContainerElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pGridCellTextContainerElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pGridCellTextContainerElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pGridCellTextContainerElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pGridCellTextContainerElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pGridCellTextContainerElement.setElementTextVisible=function(_a){var _b=this._cell_node;_a=_a&&this.visible;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}};_pGridCellTextContainerElement.setElementLineSpace=nexacro._emptyFn;delete _pGridCellTextContainerElement;nexacro.GridCellTextSimpleContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellTextSimpleContainerElement=nexacro._createPrototype(nexacro.GridCellTextContainerElement,nexacro.GridCellTextSimpleContainerElement);nexacro.GridCellTextSimpleContainerElement.prototype=_pGridCellTextSimpleContainerElement;_pGridCellTextSimpleContainerElement._type_name="GridCellTextSimpleContainerElement";if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){_pGridCellTextSimpleContainerElement._createTextElementHandle=function(_a,_b,_c,_d,_e){var _f=_a.createElement("div");var _g=_f.style;nexacro.__setDOMNodeStylePos(_g,0,0,this._isRtl());_d=this.parent._inner_width;_e=this.parent._inner_height;nexacro.__setDOMNodeStyleSize(_g,_d,_e);_g.display="table-cell";_g.whiteSpace="pre";_g.textOverflow=this._default_textoverflow;this._cell_node=_f;return _f;};_pGridCellTextSimpleContainerElement._appendTextElementHandle=nexacro._emptyFn;_pGridCellTextSimpleContainerElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){_c.style.textOverflow="";_a=this.parent._inner_width;_b=this.parent._inner_height;nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);_c.style.textOverflow=this._default_textoverflow;}}};}delete _pGridCellTextSimpleContainerElement;nexacro.EventPassOverlayElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this.width=_a.width;this.height=_a.height;this.pointer_events="none";this._target_elements=_b;this.image_url="";this._image_width=0;this._image_height=0;this.border=null;};var _pEventPassOverlayElement=nexacro._createPrototype(nexacro.TextBoxElement,nexacro.EventPassOverlayElement);nexacro.EventPassOverlayElement.prototype=_pEventPassOverlayElement;_pEventPassOverlayElement._type_name="EventPassOverlayElement";_pEventPassOverlayElement._default_textoverflow="";_pEventPassOverlayElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=this._createTextElementHandle(_b,this.left,this.top,this.width,this.height);_c.id=this._parent_elem._handle.id+'_'+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;var _e=this._cell_node;var _f=_e.style;nexacro.__setDOMNodeStyleAbsolute(_f);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.pointer_events){nexacro.__setDOMNodeStylePointerEvents(_d,this.pointer_events);}if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.letterspace){nexacro.__setDOMNodeStyleLetterSpace(_f,this.letterspace);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_f,this.align);}else if(this.halign&&this.valign){nexacro.__setDOMNodeStyleAlignXY(_f,this.halign,this.valign);}if(this.padding){nexacro.__setDOMNodeStylePadding(_f,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_f,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_e,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_e,this.decoration);}else{nexacro.__setDOMNodeText(_e,this.text,this._use_newline,this.wordwrap);}if(this.image_url){var _g=this._image_node=_b.createElement("img");nexacro.__setDOMNodeSelectable(_g,false);var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,this.left,this.top);nexacro.__setImageDOMNodeImageUrl(_g,this.image_url);nexacro.__appendDOMNode(_c,_g);var _i=nexacro._getImageSize(image_url,this._on_loadImg,this);if(_i){this._image_width=_i.width;this._image_height=_i.height;}}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._appendTextElementHandle(_c,_e);}};_pEventPassOverlayElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._destroyElementHandle();this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;this.width=null;this.height=null;this._target_elements=[];this.image_url="";this._image_width=0;this._image_height=0;this.border=null;};_pEventPassOverlayElement._destroyElementHandle=function(){var _a=this._handle;if(_a){if(this._cell_node){nexacro.__removeDOMNode(_a,this._cell_node);this._cell_node=null;}if(this._image_node){nexacro.__removeDOMNode(_a,this._image_node);this._image_node=null;}this._handle=null;this._dest_handle=null;}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){_pEventPassOverlayElement.setSelectEventPassElement=function(_a,_b){var _c=this._target_elements,_d=_c.length,_e=_c[0];if(_d>1){var _f=null,_g=null;var _h=null;var _i=0,_j=0,_k=0,_l=0;for(var _m=0;_m<_d;_m++ ){_h=nexacro._getElementXYInWindow(_c[_m]._handle);_i=_h[0];_j=_h[1];_k=_i+_c[_m].width;_l=_j+_c[_m].height;_f=this._findLinkedControl(_c[_m]);if(!_g&&_i<=_a&&_a<=_k&&_j<=_b&&_b<=_l){_e=_c[_m];_g=_f;}_f._applyMouseLeaveEvent();}}if(_g){_g._applyMouseOverEvent();}return _e;};}_pEventPassOverlayElement.setElementToolTip=function(_a,_b){if(_a===undefined){_a="";}if(this.tooltiptext!=_a||this.tooltiptype!=_b){this.tooltiptext=_a;this.tooltiptype=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeToolTip(_c,_a,_b);}}};_pEventPassOverlayElement.setTargetElements=function(_a){this._target_elements=_a;};_pEventPassOverlayElement.updateCellNodeClient=function(_a,_b,_c,_d,_e,_f){var _g=this._cell_node;var _h=this._image_node;var _i=this.parent.linkedcontrol;if(_e>=0&&_f.left>=0){_a=0;if(_e>=_f.left){_e=_e-_f.left;if(_a+_c<_i._client_width){_a-=_e;}_c+=_e;}}if(_g){var _j=this._getNodeAlignPos();nexacro.__setDOMNodeStylePos(_g.style,_a,_j[1],this._isRtl());nexacro.__setDOMNodeStyleSize(_g.style,_c,_d);}if(_h&&this.image_url){var _k=this._getNodeAlignPos(true);nexacro.__setDOMNodeStylePos(_h.style,_k[0]+_a,_k[1],this._isRtl());}};_pEventPassOverlayElement.updateElementLineHeight=function(_a){var _b=this._cell_node;if(_b&&_a!=this.linespace){nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}};_pEventPassOverlayElement.setElementAlign=function(_a){this.setElementAlignXY(_a.halign,_a.valign);this.align=_a;};_pEventPassOverlayElement.setElementAlignXY=function(_a,_b){this.align=null;this.halign=_a;this.valign=_b;var _c=this._cell_node;var _d=this._image_node;if(_c){var _e=this._getNodeAlignPos();nexacro.__setDOMNodeStylePos(_c.style,_e[0],_e[1]);}if(_d&&this.image_url){var _f=this._getNodeAlignPos(true);nexacro.__setDOMNodeStylePos(_d.style,_f[0],_f[1]);}};_pEventPassOverlayElement._getNodeAlignPos=function(_a){var _b=this._cell_node;var _c=this._image_node;var _d=(this.align)?this.align.halign:this.halign;var _e=(this.align)?this.align.valign:this.valign;if(_b&&!_a){var _f=0,_g=0;var _h=this.decoration?this.decoration:this.text;var _i=nexacro._getTextSize(this.letterspace||this._getParentLetterSpace(),_h,this.font,true,this.width,this.wordwrap);if(this.height>0&&this.height>_i[1]){if(_e=="bottom"){_i=nexacro._getTextSize(this.letterspace||this._getParentLetterSpace(),_h,this.font,true);_f=(_i)?this.height-_i[1]:0;}else if(_e=="middle"){_f=(_i)?(this.height/2)-(_i[1]/2):0;}}nexacro.__setDOMNodeStyleAlignXY(_b.style,_d,"top");return [_g,_f];}if(_c&&this.image_url&&_a){var _j=0,_k=0;if(this.height>0&&this._image_height>0&&this.height>this._image_height){if(_e=="bottom"){_j=this.height-this._image_height;}else if(_e=="middle"){_j=(this.height/2)-(this._image_height/2);}}if(this.width>0&&this._image_width>0&&this.width>this._image_width){if(_d=="right"){_k=this.width-this._image_width;}else if(_d=="center"){_k=(this.width/2)-(this._image_width/2);}}nexacro.__setDOMNodeStyleAlignXY(_c.style,"left","top");return [_k,_j];}return [0,0];};_pEventPassOverlayElement.setElementImageUrl=function(_a){if(_a){var _a=nexacro._getURIValue(_a);if(_a&&!nexacro._isAbsolutePath(_a)){var _b=this._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_b);}if(this.image_url!=_a){var _c=this._image_node;if(!_c){var _d=this._owner_elem.getRootWindowHandle();var _c=this._image_node=_d.createElement("img");nexacro.__setDOMNodeSelectable(_c,false);var _e=_c.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__appendDOMNode(this._handle,_c);}var _f=nexacro._getImageSize(_a,this._on_loadImg,this);if(_f){this._image_width=_f.width;this._image_height=_f.height;}this.image_url=_a;nexacro.__setImageDOMNodeImageUrl(_c,_a);}}else{if(this._image_node){nexacro.__removeDOMNode(this._handle,this._image_node);this._image_node=null;}this.image_url="";}};_pEventPassOverlayElement._on_loadImg=function(_a,_b,_c){this._image_width=_b;this._image_height=_c;};_pEventPassOverlayElement._setElementBorder=function(_a,_b,_c,_d){if(_a){if(_a._linecnt==1){_a._linecnt=4;}this.border=_a;var _e=(!_b&&_a.left_style)?_a._left_width:0;var _f=(!_c&&_a.top_style)?_a._top_width:0;var _g=(!_d&&_a.right_style)?_a._right_width:0;var _h=_a.bottom_style?_a._bottom_width:0;var _i=this.width-(_e+_g);var _j=this.height-(_f+_h);_i=_i>0?_i:0;_j=_j>0?_j:0;_a._sysleft=(_e)?(_e+"px "+((_a._left_syscolor)?(_a.left_style+" "+_a._left_syscolor):_a.left_style+" "+"transparent")):"";_a._systop=(_f)?(_f+"px "+((_a._top_syscolor)?(_a.top_style+" "+_a._top_syscolor):_a.top_style+" "+"transparent")):"";var _k=this._cell_node;if(_k){nexacro.__setDOMNodeStyleBorder(_k.style,_a);nexacro.__setDOMNodeSize(_k.style,_i,_j);}var _l=this._image_node;if(_l){nexacro.__setDOMNodeStyleBorder(_l.style,_a);nexacro.__setDOMNodeSize(_l.style,_i,_j);}}else if(this.border){this.border=null;}};_pEventPassOverlayElement._findLinkedControl=function(_a){var _b=null;while(!_b){_b=_a.linkedcontrol;_a=_a.parent;if(!_a){break;}}return _b;};delete _pEventPassOverlayElement;}}if(nexacro.Browser=="Runtime"){if(!nexacro.Element){nexacro.__setLastFocusedElement=function(_a){if(_a){var _b=_a.linkedcontrol?_a.linkedcontrol._getWindow():(_a._parent_elem?_a._parent_elem.linkedcontrol._getWindow():null);if(_b){var _c=_b;while(true){if(_c instanceof nexacro.PopupWindow){if(_c==_c.parent){break;}_c=_c.parent;}else{break;}}if(!_c){_c=_b;}_c._last_focused_elem=_a;}}};nexacro.Element=function(_a){this.parent=_a;this._parent_elem=_a;};var _pElement=nexacro._createPrototype(nexacro.Object,nexacro.Element);nexacro.Element.prototype=_pElement;_pElement._type_name="Element";_pElement.left=0;_pElement.top=0;_pElement.width=0;_pElement.height=0;_pElement.visible=true;_pElement.mirror=false;_pElement._rtldirection="inherit";_pElement.letterspace=0;_pElement._handle=null;_pElement._owner_elem=null;_pElement._is_nc_element=false;_pElement.clearContents=nexacro._emptyFn;_pElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createElementHandle(this,_b,this.left,this.top,this.width,this.height);if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(this.font){var _d=this.font;nexacro.__setElementHandleFont(_c,_d.face,_d.size,_d._bold,_d._italic,_d._underline,_d._strikeout,_d._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.mirror){nexacro.__setElementHandleMirror(_c,this.mirror);}if(this._rtldirection){nexacro.__setElementHandleRtlDirection(_c,this._rtldirection);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;}this.parent=null;this._parent_elem=null;};_pElement._destroyElementHandle=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){var _c=null;if(_b&&_b._handle){_c=_b._handle;}if(!this._owner_elem||_c){nexacro.__destroyElementHandle(_c,_a);}}this._owner_elem=null;this._handle=null;};_pElement._appendToContainer=function(_a){var _b=this._handle;if(_b&&_a._handle&&this._owner_elem==null){this._owner_elem=_a;nexacro.__appendElementHandle(_a._handle,_b);}};_pElement._removeFromContainer=function(){var _a=this._owner_elem;if(_a){this._owner_elem=null;var _b=this._handle;if(_b&&_a._handle){nexacro.__unlinkElementHandle(_a._handle,_b);}}};_pElement.getContainerElement=function(){return this;};_pElement.getRootWindowHandle=function(){if(this._owner_elem){return this._owner_elem.getRootWindowHandle();}return null;};_pElement._getWindowHandle=function(){return this.getRootWindowHandle();};_pElement._getElementBaseUrl=function(){var _a=this;while(_a&&!_a._is_form){_a=_a.parent;}if(_a&&_a._is_form){return _a._getFormBaseUrl();}return "";};_pElement._getElementRtlDirection=function(){var _a=this._parent_elem;var _b=this._rtldirection;while(_a){if(_a._rtldirection&&_a._rtldirection!="inherit"){_b=_a._rtldirection;break;}_a=_a._parent_elem;}return _b;};_pElement._getParentLetterSpace=function(){var _a=this._parent_elem;while(_a){if(_a.letterspace){return _a.letterspace;}_a=_a._parent_elem;}return 0;};_pElement.hasSetSelectionRange=nexacro._emptyFn;_pElement.setElementPosition=function(_a,_b,_c){if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;var _d=this._handle;if(_d){var _e=this._owner_elem;var _f=false;if(_e){_a=this._adjustRtlLayoutLeft(_a,this.width);}nexacro.__setElementHandlePosition(_d,_a,_b);}}};_pElement._adjustRtlLayoutLeft=function(_a,_b){var _c=_a;var _d=this._owner_elem;var _e=_d._inner_width?_d._inner_width:_d.width;if(this._isRtl()){if(this instanceof nexacro.ControlElementBase&&_d instanceof nexacro.ScrollableContainerElement){_e=Math.max(_e,this._parent_elem.container_maxwidth);}else if(this instanceof nexacro.ContainerElement&&_d instanceof nexacro.ScrollableContainerElement){_e=_d.parent.container_maxwidth;}else if(this instanceof nexacro.ScrollableContainerElement){if(this._parent_elem.parent instanceof nexacro.TextArea){}else{this.setElementHScrollPos(this._scroll_left,true);}}_c=_e-_b-_a;}delete _d;_d=null;return _c;};_pElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setElementHandleSize(_c,_a,_b);}if(this._isRtl()){this.setElementPosition(this.left,this.top,true);}}};_pElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLetterSpace(_b,_a);}}};_pElement.setElementVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleVisible(_b,_a);}}};_pElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this.background;var _e=this.image;if(_d&&_d.image){var _f=this._handle;if(_f){nexacro.__setElementHandleMirror(_f,this.mirror&&this._isRtl());}if(this._client_element){_f=this._client_element._handle;if(_f){nexacro.__setElementHandleMirror(_f,this.mirror&&this._isRtl());}}}}};_pElement.setElementRtlDirection=function(_a){if(this._rtldirection!=_a){this._rtldirection=_a;this._bChangeRtl=true;if(_a=="rtl"){if(this.align){this.align._createRtlValue();}if(this.shadow){this.shadow._createRtlValue();}if(this.border){this.border._createRtlValue();}if(this.bordertype){this.bordertype._createRtlValue();}if(this.padding){this.padding._createRtlValue();}if(this.gradation){this.gradation._createRtlValue();}}var _b=this._handle;if(_b){nexacro.__setElementHandleRtlDirection(_b,_a);}if(this.align){this.setElementAlign(this.align);}if(this.halign&&this.valign){this.setElementAlignXY(this.halign,this.valign);}if(this.shadow){this.setElementShadow(this.shadow);}if(this.border){this.setElementBorder(this.border,this.bordertype);}if(this.bordertype){this.setElementBorder(this.border,this.bordertype);}if(this.padding){this.setElementPadding(this.padding);}if(this.gradation){this.setElementBackground(this.background,this.gradation);}this._bChangeRtl=false;}};_pElement._isRtl=function(_a){var _b=this._parent_elem;if(_a){_b=this;}var _c=this._rtldirection;while(_b){if(_b._rtldirection&&_b._rtldirection!="inherit"){_c=_b._rtldirection;break;}_b=_b._parent_elem;}return _c=="rtl";};_pElement.setElementEnable=nexacro._emptyFn;_pElement.setElementTabIndex=nexacro._emptyFn;_pElement.setElementAlign=nexacro._emptyFn;_pElement.setElementAlignXY=nexacro._emptyFn;_pElement.setElementPadding=nexacro._emptyFn;_pElement.setElementPaddingXY=nexacro._emptyFn;_pElement.setElementFont=nexacro._emptyFn;_pElement.setElementColor=nexacro._emptyFn;_pElement.setElementCursor=nexacro._emptyFn;delete _pElement;nexacro.TextBoxElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextBoxElement=nexacro._createPrototype(nexacro.Element,nexacro.TextBoxElement);nexacro.TextBoxElement.prototype=_pTextBoxElement;_pTextBoxElement._type_name="TextBoxElement";_pTextBoxElement.font=null;_pTextBoxElement.color=null;_pTextBoxElement.cursor=null;_pTextBoxElement.align=null;_pTextBoxElement.halign="left";_pTextBoxElement.valign="top";_pTextBoxElement.padding=null;_pTextBoxElement.padding_left=0;_pTextBoxElement.padding_top=0;_pTextBoxElement.padding_right=0;_pTextBoxElement.padding_bottom=0;_pTextBoxElement.text="";_pTextBoxElement.linespace=0;_pTextBoxElement.letterspace=0;_pTextBoxElement.wordwrap="none";_pTextBoxElement.decoration="";_pTextBoxElement._use_newline=true;_pTextBoxElement._cell_node=null;_pTextBoxElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createTextElementHandle(this,_b,this.left,this.top,this.width,this.height);var _d=this._isRtl();if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.font){var _e=this.font;nexacro.__setElementHandleFont(_c,_e.face,_e.size,_e._bold,_e._italic,_e._underline,_e._strikeout,_e._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}if(this.align){var _f=this.align._getStyleObject(_d);nexacro.__setElementHandleAlign(_c,_f.halign,_f.valign);}else if(this.halign&&this.valign){var _g=this.halign;if(_d){_g=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}nexacro.__setElementHandleAlign(_c,_g,this.valign);}if(this.padding){var _h=this.padding._getStyleObject(_d);nexacro.__setElementHandlePadding(_c,_h.left,_h.top,_h.right,_h.bottom);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){if(_d){nexacro.__setElementHandlePadding(_c,this.padding_right,this.padding_top,this.padding_left,this.padding_bottom);}else{nexacro.__setElementHandlePadding(_c,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}}if(this.decoration){nexacro.__setElementHandleDecorateText(_c,this.decoration);}if(this.linespace>0){nexacro.__setElementHandleLineSpace(_c,this.linespace);}if(this.wordwrap!="none"){nexacro.__setElementHandleWordWrap(_c,this.wordwrap);}if(this.text){nexacro.__setElementHandleText(_c,this.text,this._use_newline,this.wordwrap);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pTextBoxElement.setParentElement=function(_a){this.parent=_a;this._parent_elem=_a;};_pTextBoxElement.setElementFont=function(_a){this.font=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleFont(_b,_a.face,_a.size,_a._bold,_a._italic,_a._underline,_a._strikeout,_a._antialias);}};_pTextBoxElement.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleColor(_b,_a._syscolor);}};_pTextBoxElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._handle;if(_c&&_b){nexacro.__setElementHandleAlign(_c,_b._halign,_b._valign);}};_pTextBoxElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setElementHandleAlign(_d,_c,_b);}};_pTextBoxElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;var _b=this._handle;if(_b){nexacro.__setElementHandlePadding(_b,_a.left,_a.top,_a.right,_a.bottom);}};_pTextBoxElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._handle;if(_e){var _f=this.width-_a-_c;var _g=this.height-_b-_d;if(this._isRtl()){nexacro.__setElementHandlePadding(_e,_c,_b,_a,_d);}else{nexacro.__setElementHandlePadding(_e,_a,_b,_c,_d);}}};_pTextBoxElement.setElementText=function(_a){if(this.text!=_a){if(_a==null){this.text="";}else{this.text=_a.replace(/\r\n|\r|\n/g,"\r\n");}var _b=this._handle;if(_b){nexacro.__setElementHandleText(_b,this.text,this._use_newline,this.wordwrap);}}};_pTextBoxElement.setElementLineSpace=function(_a){if(this.linespace!=_a){this.linespace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLineSpace(_b,_a);}}};_pTextBoxElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLetterSpace(_b,_a);}}};_pTextBoxElement.setElementDecorateText=function(_a){if(this.decoration!=_a){if(_a==null){this.decoration="";}else{this.decoration=_a.replace(/\r\n|\r|\n/g,"\r\n");}var _b=this._handle;if(_b){nexacro.__setElementHandleDecorateText(_b,this.decoration);}}};_pTextBoxElement.setElementUseNewLine=function(_a){if(this._use_newline!=_a){this._use_newline=_a;var _b=this._cell_node;if(_b){if(this.wordwrap!="none"){return;}this.__setElementHandleText(_b,this.text,this._use_newline,this.wordwrap);}}};_pTextBoxElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){this.wordwrap=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleWordWrap(_b,_a);}}};_pTextBoxElement._setElementTextRtlDirection=function(_a){var _b=this._handle;if(_b){nexacro.__setElementHandleRtlDirection(_b,_a);}};_pTextBoxElement.setElementTextOverFlow=nexacro._emptyFn;delete _pTextBoxElement;nexacro.ImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pImageElement=nexacro._createPrototype(nexacro.Element,nexacro.ImageElement);nexacro.ImageElement.prototype=_pImageElement;_pImageElement._type_name="ImageElement";_pImageElement.imageurl="";_pImageElement.image_width=0;_pImageElement.image_height=0;_pImageElement._img_sizereq=false;_pImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createImageElementHandle(this,_b,this.left,this.top,this.width,this.height,true);if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(this.align){var _d=this.align;nexacro.__setElementHandleAlign(_c,_d.halign,_d.valign);}else if(this.halign&&this.valign){nexacro.__setElementHandleAlign(_c,this.halign,this.valign);}if(this.imageurl&&!this._img_sizereq){nexacro.__setElementHandleImageUrl(_c,this.imageurl);}if(this.mirror){nexacro.__setElementHandleMirror(_c,this.mirror&&this._isRtl());}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pImageElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._handle;if(_c){nexacro.__setElementHandleAlign(_c,_b._halign,_b._valign);}};_pImageElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setElementHandleAlign(_d,_c,_b);}};_pImageElement.setElementImageUrl=function(_a){if(this.imageurl!=_a){if(_a&&_a.substring(0,4).toLowerCase()=="url("){_a=_a.substring(5,_a.length-2);if(this.imageurl==_a){return;}}var _b=_a;if(_a){if((!nexacro._isAbsolutePath(_a))||(application&&application.checkversion)){var _c=this._parent_elem._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_c);if(this.imageurl==_a){return;}}}this.imageurl=_a;if(_a){var _d=nexacro._getImageSize(_a,this._on_loadImg,this,undefined,_b);this._img_sizereq=true;if(_d){this._img_sizereq=false;var _e=this._handle;if(_e){nexacro.__setElementHandleImageUrl(_e,_a);}}}else{var _e=this._handle;if(_e){nexacro.__setElementHandleImageUrl(_e,_a);}}}};_pImageElement.setElementImageBase64=function(_a){if(this.imageurl!=_a){this.imageurl=_a;var _b=this._handle;if(_b){var _c=_a.indexOf(",");if(_c> -1){var _d=_a.slice(_c+1,_a.legnth);_a="data:image;base64,"+_d;}nexacro.__setElementHandleImageUrl(_b,_a);}}};_pImageElement._on_loadImg=function(_a,_b,_c){var _d=this._handle;if(this.imageurl==_a){this._img_sizereq=false;if(_d){nexacro.__setElementHandleImageUrl(_d,_a);}}};_pImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;if(!this.mirror&&_b){this.mirror=_b;}var _d=this._handle;if(_d){nexacro.__setElementHandleMirror(_d,this.mirror&&this._isRtl());}}};_pImageElement.setElementHandleImageObject=function(_a){var _b=this._handle;if(_b){nexacro.__setElementHandleImageObject(_b,_a);}};_pImageElement.destroy=function(_a,_b){if(arguments.length==0){nexacro.Element.prototype.destroy.call(this);}else{var _c=this._handle;if(_c){nexacro.__destroyElementHandle(_a,_b);this._owner_elem=null;this._handle=null;}}};_pImageElement.getImageCount=function(){var _a=this._handle;if(_a){return nexacro.__getImageElementHandleImageCount(_a);}};_pImageElement.setImageIndex=function(_a){var _b=this._handle;if(_b){nexacro.__setImageElementHandleImageIndex(_b,_a);}};delete _pImageElement;nexacro.AlignImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pAlignImageElement=nexacro._createPrototype(nexacro.Element,nexacro.AlignImageElement);nexacro.AlignImageElement.prototype=_pAlignImageElement;_pAlignImageElement._type_name="AlignImageElement";_pAlignImageElement.align=null;_pAlignImageElement.halign="";_pAlignImageElement.valign="";_pAlignImageElement.imageurl="";_pAlignImageElement._img_sizereq=false;_pAlignImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createImageElementHandle(this,_b,this.left,this.top,this.width,this.height);if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(this.align){var _d=this.align;nexacro.__setElementHandleAlign(_c,_d.halign,_d.valign);}else if(this.halign&&this.valign){nexacro.__setElementHandleAlign(_c,this.halign,this.valign);}if(this.imageurl&&!this._img_sizereq){nexacro.__setElementHandleImageUrl(_c,this.imageurl);}if(this.mirror){nexacro.__setElementHandleMirror(_c,this.mirror);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pAlignImageElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._handle;if(_c&&_b){nexacro.__setElementHandleAlign(_c,_b._halign,_b._valign);}};_pAlignImageElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setElementHandleAlign(_d,_c,_b);}};_pAlignImageElement.setElementImageUrl=function(_a){if(this.imageurl!=_a){if(_a&&_a.substring(0,4).toLowerCase()=="url("){_a=_a.substring(5,_a.length-2);if(this.imageurl==_a){return;}}var _b=_a;if(_a&&!nexacro._isAbsolutePath(_a)){var _c=this._parent_elem._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_c);if(this.imageurl==_a){return;}}this.imageurl=_a;if(_a){var _d=nexacro._getImageSize(_a,this._on_loadImg,this,undefined,_b);this._img_sizereq=true;if(_d){this._img_sizereq=false;var _e=this._handle;if(_e){nexacro.__setElementHandleImageUrl(_e,_a);}}}else{var _e=this._handle;if(_e){nexacro.__setElementHandleImageUrl(_e,_a);}}}};_pAlignImageElement._on_loadImg=function(_a,_b,_c){var _d=this._handle;if(this.imageurl==_a){this._img_sizereq=false;if(_d){nexacro.__setElementHandleImageUrl(_d,_a);}}};_pAlignImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;if(!this.mirror&&_b){this.mirror=_b;}var _d=this._handle;if(_d){nexacro.__setElementHandleMirror(_d,this.mirror&&this._isRtl());}}};delete _pAlignImageElement;nexacro.InputElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pInputElement=nexacro._createPrototype(nexacro.Element,nexacro.InputElement);nexacro.InputElement.prototype=_pInputElement;_pInputElement._type_name="InputElement";_pInputElement.enable=true;_pInputElement.tabindex= -1;_pInputElement.font=null;_pInputElement.color=null;_pInputElement.cursor=null;_pInputElement.align=null;_pInputElement.halign="";_pInputElement.valign="";_pInputElement.padding=null;_pInputElement.padding_left=0;_pInputElement.padding_top=0;_pInputElement.padding_right=0;_pInputElement.padding_bottom=0;_pInputElement.useime="global";_pInputElement.imemode="auto";_pInputElement.inputtype="normal";_pInputElement.readonly=false;_pInputElement.maxlength= -1;_pInputElement.password=false;_pInputElement.text="";_pInputElement.value="";_pInputElement.displaynulltext="";_pInputElement.color=null;_pInputElement.caretcolor=null;_pInputElement.selectcolor=null;_pInputElement.selectbackground=null;_pInputElement.compositecolor=null;_pInputElement.tabindentsize=4;_pInputElement.usesoftkeyboard=true;_pInputElement.usemultiline=false;_pInputElement.linespace=0;_pInputElement.letterspace=0;_pInputElement.wordwrap="none";_pInputElement._is_focused=false;_pInputElement.autoselect=false;_pInputElement._is_maskedit=false;_pInputElement._isPreventDefault=function(_a,_b){_a=_a._getFromComponent(_a);if(_a){return (_a[_b]&&_a[_b].defaultprevented);}return false;};_pInputElement._wantAccessibilityAdditionalLabel=function(){return true;};_pInputElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createInputElementHandle(this,_b,this.left,this.top,this.width,this.height,this.usemultiline,this._is_maskedit);if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(!this.enable){nexacro.__setElementHandleEnable(_c,false);}if(this.readonly){nexacro.__setElementHandleReadOnly(_c,true);}if(this.tabindex>=0){nexacro.__setElementHandleTabIndex(_c,this.tabindex);}if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.font){var _d=this.font;nexacro.__setElementHandleFont(_c,_d.face,_d.size,_d._bold,_d._italic,_d._underline,_d._strikeout,_d._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}if(this.cursor){nexacro.__setElementHandleCursor(_c,this.cursor.value);}if(this.align){var _e=this.align;nexacro.__setElementHandleAlign(_c,_e.halign,_e.valign);}else if(this.halign&&this.valign){nexacro.__setElementHandleAlign(_c,this.halign,this.valign);}if(this.padding){var _f=this.padding;nexacro.__setElementHandlePadding(_c,_f.left,_f.top,_f.right,_f.bottom);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setElementHandlePadding(_c,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.caretcolor){nexacro.__setInputElementHandleCaretColor(_c,this.caretcolor._syscolor);}if(this.selectcolor){nexacro.__setInputElementHandleSelectColor(_c,this.selectcolor._syscolor);}if(this.selectbackground){nexacro.__setInputElementHandleSelectBackgroundColor(_c,this.selectbackground._syscolor);}if(this.compositecolor){nexacro.__setInputElementHandleCompositeColor(_c,this.compositecolor._syscolor);}if(!this.usemultiline&&this.password){nexacro.__setInputElementHandleUsePassword(_c,true);}if(this.usemultiline){if(this.linespace>0){nexacro.__setElementHandleLineSpace(_c,this.linespace);}if(this.wordwrap!="none"){nexacro.__setElementHandleWordWrap(_c,this.wordwrap);}}if(this.tabindentsize>4){nexacro.__setElementHandleTabIndentSize(_c,this.tabindentsize);}if(this.imemode){nexacro.__setInputElementHandleImeMode(_c,this.imemode);}if(this.inputtype){nexacro.__setInputElementHandleInputType(_c,this.inputtype);}if(this.maxlength){nexacro.__setInputElementHandleMaxLength(_c,this.maxlength);}if(this.text){nexacro.__setElementHandleValue(_c,this.text);}else if(this.displaynulltext){nexacro.__setElementHandleNullTextColor(_c,this.displaynulltextcolor._syscolor);nexacro.__setElementHandleValue(_c,this.displaynulltext,true);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pInputElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleEnable(_b,_a);}}};_pInputElement.setElementTabIndex=function(_a){if(this.tabindex!=_a){this.tabindex=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleTabIndex(_b,_a);}}};_pInputElement.setElementFont=function(_a){this.font=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleFont(_b,_a.face,_a.size,_a._bold,_a._italic,_a._underline,_a._strikeout,_a._antialias);}};_pInputElement.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleColor(_b,_a._syscolor);}};_pInputElement.setElementCursor=function(_a){this.cursor=_a;var _b=this._handle;var _c=this._parent_elem?this._parent_elem._handle:null;if(_b&&_c){if(_a&&!_a._is_empty){nexacro.__setElementHandleCursor(_c,_a.value);nexacro.__setElementHandleCursor(_b,_a.value);}else{nexacro.__setElementHandleCursor(_c,_a);nexacro.__setElementHandleCursor(_b,_a);}}};_pInputElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._handle;if(_c&&_b){nexacro.__setElementHandleAlign(_c,_b._halign,_b._valign);}};_pInputElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setElementHandleAlign(_d,_c,_b);}};_pInputElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;var _b=this._handle;if(_b&&_a){var _c=this._isRtl();var _d=_a;_d=_a?_a._getStyleObject(_c^this.mirror):null;nexacro.__setElementHandlePadding(_b,_d.left,_a.top,_d.right,_a.bottom);}};_pInputElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._handle;if(_e){nexacro.__setElementHandlePadding(_e,_a,_b,_c,_d);}};_pInputElement.setElementValue=function(_a){var _b=this._handle;var _c=this._parent_elem.linkedcontrol;var _d=_c._edit_base_api;var _e=(this.value===_a)?false:true;var _f=(_a=="")?true:false;this.value=_a;if(_d){this.text=_d._text;}else{this.text=_a;}if(_b){var _g=nexacro.__getElementHandleValue(_b);var _h=(this.text==_g)?false:true;if(_e||_h||_f){this._updateInputValue();}}};_pInputElement._updateInputValue=function(){var _a=this._handle;var _b=this._parent_elem.linkedcontrol;var _c=_b._edit_base_api;if(this.value!==undefined&&this.value!==null){nexacro.__setElementHandleValue(_a,this.text);}else if(!this._is_focused&&this.displaynulltext&&this.displaynulltext.length>0){nexacro.__setElementHandleValue(_a,this.displaynulltext,true);}else{if(_c&&(_c._type_name=="EditMaskString"||_c._type_name=="EditMaskNumber"||_c._type_name=="EditMaskDate")){nexacro.__setElementHandleValue(_a,this.text);}else{nexacro.__setElementHandleValue(_a,"");}}};_pInputElement._setElementInputRtlDirection=function(_a){var _b=this._handle;if(_b){nexacro.__setElementHandleRtlDirection(_b,_a);}};_pInputElement.setElementDisplayNullText=function(_a){var _b=false;if(this.displaynulltext!=_a){_b=true;this.displaynulltext=_a;}var _c=this._handle;if(_c&&_b&&nexacro._isNull(this.value)&&!this._is_focused){nexacro.__setElementHandleNullTextColor(_c,this.displaynulltextcolor._syscolor);nexacro.__setElementHandleValue(_c,this.displaynulltext,true);}};_pInputElement.setElementMaxLength=function(_a){if(this.maxlength!=_a){this.maxlength=_a;var _b=this._handle;if(_b){nexacro.__setInputElementHandleMaxLength(_b,_a);}}};_pInputElement.setElementReadonly=function(_a){if(this.readonly!=_a){this.readonly=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleReadOnly(_b,_a);}}};_pInputElement.setElementCaretColor=function(_a){this.caretcolor=_a;var _b=this._handle;if(_b){nexacro.__setInputElementHandleCaretColor(_b,_a._syscolor);}};_pInputElement.setElementSelectColor=function(_a){this.selectcolor=_a;var _b=this._handle;if(_b){nexacro.__setInputElementHandleSelectColor(_b,_a._syscolor);}};_pInputElement.setElementDisplayNullTextColor=function(_a){this.displaynulltextcolor=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleNullTextColor(_b,_a._syscolor);}};_pInputElement.setElementSelectBackgroundColor=function(_a){this.selectbackground=_a;var _b=this._handle;if(_b){nexacro.__setInputElementHandleSelectBackgroundColor(_b,_a._syscolor);}};_pInputElement.setElementCompositeColor=function(_a){this.compositecolor=_a;var _b=this._handle;if(_b){nexacro.__setInputElementHandleCompositeColor(_b,_a._syscolor);}};_pInputElement.setElementTabindentSize=function(_a){this.tabindentsize=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleTabIndentSize(_b,_a);}};_pInputElement.setElementLineSpace=function(_a){};_pInputElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLetterSpace(_b,_a);}}};_pInputElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLetterSpace(_b,_a);}}};_pInputElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLetterSpace(_b,_a);}}};_pInputElement.setElementWordWrap=function(_a){};_pInputElement.setElementPassword=function(_a){if(this.password!=_a){this.password=_a;var _b=this._handle;if(_b&&!this.usemultiline){if(_a==true){nexacro.__setInputElementHandleSetIme(_b,"none","none");}else{nexacro.__setInputElementHandleSetIme(_b,this.useime,this.imemode);}nexacro.__setInputElementHandleUsePassword(_b,_a);}}};_pInputElement.setElementUseSoftKeyboard=function(_a){if(this.usesoftkeyboard!=_a){this.usesoftkeyboard=_a;var _b=this._handle;if(_b){nexacro.__setInputElementUseSoftKeyboard(_b,_a);}}};_pInputElement.setElementUseIme=function(_a){if(this.useime!=_a){this.useime=_a;var _b=this._handle;if(_b){nexacro.__setInputElementHandleUseIme(_b,_a);}}};_pInputElement.setElementImeMode=function(_a){if(this.imemode!=_a){this.imemode=_a;var _b=this._handle;if(_b){nexacro.__setInputElementHandleImeMode(_b,_a);}}};_pInputElement.setElementInputType=function(_a,_b,_c){if(this.inputtype!=_a){this.inputtype=_a;var _d=this._handle;if(_d){nexacro.__setInputElementHandleInputType(_d,_a);}}if(_c){var _d=this._handle;if(_d){nexacro.__setInputElementHandleUseDatePicker(_d,_b,_c);}}};_pInputElement.setElementInputTypeKeypad=function(_a){};_pInputElement.setInputElementCompositeClear=function(){var _a=this._handle;if(_a){nexacro.__setInputElementCompositeClear(_a);}};_pInputElement.setElementFocus=function(){var _a=this._handle;if(_a){if(!this._is_focused){this._is_focused=true;if(!this.value){var _b=(this._parent_elem?this._parent_elem.linkedcontrol:null);var _c=_b._edit_base_api;if(_c&&(_c._type_name=="EditMaskString"||_c._type_name=="EditMaskNumber"||_c._type_name=="EditMaskDate")){nexacro.__setElementHandleValue(_a,this.text);}else{nexacro.__setElementHandleValue(_a,"");}}nexacro.__setLastFocusedElement(this);nexacro.__setElementHandleFocus(_a);}else{}}};_pInputElement.setElementBlur=function(){var _a=this._handle;if(_a&&this._is_focused){this._is_focused=false;if(!this.value){nexacro.__setElementHandleValue(_a,this.displaynulltext,true);}nexacro.__setInputElementHandleBlur(_a);}};_pInputElement.setElementSetSelect=function(_a,_b){var _c=this._handle;if(_c){var _d=this.getElementValue();var _e=_d.length;_b=(_b== -1?_e:_b);var _f=_b-_a;if(_f==_e&&_e>0){nexacro.__setInputElementHandleSetSelect(_c,_a,_b,true);}else{nexacro.__setInputElementHandleSetSelect(_c,_a,_b,false);}}};_pInputElement.getElementCaretPos=function(){var _a=this._handle;if(_a){var _b=nexacro.__getInputElementHandleCaretPos(_a);if(_b){return {begin:_b[0],end:_b[1]};}}return  -1;};_pInputElement.getElementSelectionRange=function(){var _a=this._handle;if(_a){return nexacro.__getInputElementHandleSelectionRange(_a);}return [0,0];};_pInputElement.getCaretLine=function(){var _a=this._handle;if(_a){return nexacro.__getInputElementHandleCaretLine(_a);}return 0;};_pInputElement.getScrollLeft=function(){var _a=this._handle;var _b=0;if(_a){_b=nexacro.__getInputElementHandleScrollLeft(_a);_b=nexacro.__convertScrollLeftByRtl(this,_b);}return _b;};_pInputElement.setScrollLeft=function(_a){var _b=this._handle;if(_b){var _c=nexacro.__convertScrollLeftByRtl(this,_a);nexacro.__setInputElementHandleScrollLeft(_b,_c);}};_pInputElement.getScrollTop=function(){var _a=this._handle;if(_a){return nexacro.__getInputElementHandleScrollTop(_a);}return 0;};_pInputElement.setScrollTop=function(_a){var _b=this._handle;if(_b){nexacro.__setInputElementHandleScrollTop(_b,_a);}};_pInputElement.getScrollWidth=function(){var _a=this._handle;if(_a){return nexacro.__getInputElementHandleScrollWidth(_a);}return 0;};_pInputElement.getScrollHeight=function(){var _a=this._handle;if(_a){return nexacro.__getInputElementHandleScrollHeight(_a);}return 0;};_pInputElement.getElementValue=function(){var _a=this._handle;if(_a){return nexacro.__getElementHandleValue(_a);}return "";};_pInputElement.setElementAccessibilityRole=function(_a){};_pInputElement._checkActiveElement=function(_a){var _b=this._handle;var _c=true;if(_b){_c=nexacro._checkActiveElement(this);}return _c;};_pInputElement._setCutAction=nexacro._emptyFn;_pInputElement._deleteCaret=nexacro._emptyFn;_pInputElement._setElementInputRole=nexacro._emptyFn;_pInputElement._setElementInputLabel=nexacro._emptyFn;_pInputElement._on_sys_keyinput=function(_a,_b,_c,_d){var _e=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_e){_e._on_input_keyinput(this);return true;}return false;};_pInputElement._on_sys_keypress=function(_a,_b,_c,_d,_e){var _f=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_f){var _g=_f._getWindow();if(_g._keydown_element==null||_g._keydown_element._handle==null){return false;}var _h=_f._on_input_keypress(this,_a,_b,_c,_d,_e);if(_h!=false){return true;}}return false;};_pInputElement._on_sys_keydown=function(_a,_b,_c,_d){var _e=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_e){var _f=_e._getWindow();nexacro._syshandler_onkeydown_forward(_f,this,_a,_b,_c,_d);if(this._isPreventDefault(_e,"onkeydown")){return false;}var _g=_e._on_input_keydown(this,_a,_b,_c,_d);if(_a==nexacro.Event.KEY_DELETE||_a==nexacro.Event.KEY_BACKSPACE){_g=_e._on_input_keypress(this,_a,_a,_b,_c,_d);}if(_g!=false){return true;}}return false;};_pInputElement._on_sys_keyup=function(_a,_b,_c,_d){var _e=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_e){var _f=_e._getWindow();if(this._isPreventDefault(_e,"onkeyup")){return false;}_e._on_input_keyup(this,_a,_b,_c,_d);nexacro._syshandler_onkeyup_forward(_f,this,_a,_b,_c,_d);if(this._isPreventDefault(_e,"onkeyup")){return false;}}return false;};_pInputElement._on_sys_compositionstart=function(_a){var _b=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_b){_b._on_input_compositionstart(_a);}return false;};_pInputElement._on_sys_compositionupdate=function(_a){var _b=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_b){_b._on_input_compositionupdate(_a);}return false;};_pInputElement._on_sys_compositionend=function(_a){var _b=(this._parent_elem?this._parent_elem.linkedcontrol:null);var _c=this;if(_b){_b._on_input_compositionend(_a);}return false;};_pInputElement._on_sys_focus=function(){var _a=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_a){if(_a._on_input_focus){_a._on_input_focus(this);}var _b=this._handle;if(_b&&!this._is_focused){this._is_focused=true;}}return false;};_pInputElement._on_sys_blur=function(){var _a=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_a){if(_a._on_input_blur){_a._on_input_blur(this,this._handle);}var _b=this._handle;if(_b&&this._is_focused){this._is_focused=false;if(nexacro._isNull(this.value)&&this.displaynulltext){nexacro.__setElementHandleValue(_b,this.displaynulltext,true);}}}return false;};_pInputElement._on_sys_lbuttondown=function(_a,_b,_c,_d){var _e=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_e){_e._on_input_mousedown(this,_b,_c,_d);}return false;};_pInputElement._on_sys_lbuttonup=function(_a,_b,_c,_d){var _e=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_e){_e._on_input_mouseup(this,_b,_c,_d);}return false;};_pInputElement._on_sys_rbuttondown=function(_a,_b,_c,_d){var _e=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_e){_e._on_input_mousedown(this);}return false;};_pInputElement._on_sys_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_i){var _j=_i._getWindow();nexacro._syshandler_onrbuttonup_forward(_j,this,_a,_b,_c,_d,_e,_f,_g,_h);_i._on_input_mouseup(this);return true;}return false;};_pInputElement._on_sys_mousemove=function(_a,_b,_c,_d){var _e=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_e){_e._on_input_mousemove(this);}return false;};_pInputElement._on_sys_cut=function(){var _a=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_a){_a._on_input_cut(this);}return false;};_pInputElement._on_sys_copy=nexacro._emptyFn;_pInputElement._on_sys_paste=function(){var _a=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_a){_a._on_input_paste(this);}return false;};_pInputElement._on_sys_contextmenu=function(){var _a=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_a){var _b=_a._getWindow();nexacro._syshandler_oncontextmenu_forward(_b,this);return _a._on_contextmenu(this);}return false;};_pInputElement._on_sys_select=function(){var _a=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_a){return _a._on_input_select(this);}return false;};_pInputElement._setElementInputRole=nexacro._emptyFn;_pInputElement._bindEvent=function(){var _a=this._handle;nexacro._observeInputEvent(_a,"input","oninput",this._on_sys_keyinput);nexacro._observeInputEvent(_a,"keydown","onkeydown",this._on_sys_keydown);nexacro._observeInputEvent(_a,"keyup","onkeyup",this._on_sys_keyup);nexacro._observeInputEvent(_a,"keypress","onkeypress",this._on_sys_keypress);nexacro._observeInputEvent(_a,"compositionstart","oncompositionstart",this._on_sys_compositionstart);nexacro._observeInputEvent(_a,"compositionupdate","oncompositionupdate",this._on_sys_compositionupdate);nexacro._observeInputEvent(_a,"compositionend","oncompositionend",this._on_sys_compositionend);nexacro._observeInputEvent(_a,"focus","onfocus",this._on_sys_focus);nexacro._observeInputEvent(_a,"blur","onblur",this._on_sys_blur);nexacro._observeInputEvent(_a,"lbuttondown","onlbuttondown",this._on_sys_lbuttondown);nexacro._observeInputEvent(_a,"lbuttonup","onlbuttonup",this._on_sys_lbuttonup);nexacro._observeInputEvent(_a,"rbuttondown","onrbuttondown",this._on_sys_rbuttondown);nexacro._observeInputEvent(_a,"rbuttonup","onrbuttonup",this._on_sys_rbuttonup);nexacro._observeInputEvent(_a,"mousemove","onmousemove",this._on_sys_mousemove);if(nexacro.SupportTouch){nexacro._observeInputEvent(_a,"touchstart","ontouchstart",this._on_sys_lbuttondown);nexacro._observeInputEvent(_a,"touchend","ontouchend",this._on_sys_lbuttonup);nexacro._observeInputEvent(_a,"touchmove","ontouchmove",this._on_sys_mousemove);}nexacro._observeInputEvent(_a,"cut","oncut",this._on_sys_cut);nexacro._observeInputEvent(_a,"paste","onpaste",this._on_sys_paste);nexacro._observeInputEvent(_a,"contextmenu","oncontextmenu",this._on_sys_contextmenu);nexacro._observeInputEvent(_a,"select","onselect",this._on_sys_select);};_pInputElement._unBindEvent=function(){var _a=this._handle;nexacro._stopInputObserving(_a,"input","oninput",this._on_sys_keyinput);nexacro._stopInputObserving(_a,"keydown","onkeydown",this._on_sys_keydown);nexacro._stopInputObserving(_a,"keyup","onkeyup",this._on_sys_keyup);nexacro._stopInputObserving(_a,"keypress","onkeypress",this._on_sys_keypress);nexacro._stopInputObserving(_a,"compositionstart","oncompositionstart",this._on_sys_compositionstart);nexacro._stopInputObserving(_a,"compositionupdate","oncompositionupdate",this._on_sys_compositionupdate);nexacro._stopInputObserving(_a,"compositionend","oncompositionend",this._on_sys_compositionend);nexacro._stopInputObserving(_a,"focus","onfocus",this._on_sys_focus);nexacro._stopInputObserving(_a,"blur","onblur",this._on_sys_blur);nexacro._stopInputObserving(_a,"lbuttondown","onlbuttondown",this._on_sys_lbuttondown);nexacro._stopInputObserving(_a,"lbuttonup","onlbuttonup",this._on_sys_lbuttonup);nexacro._stopInputObserving(_a,"rbuttondown","onrbuttondown",this._on_sys_rbuttondown);nexacro._stopInputObserving(_a,"rbuttonup","onrbuttonup",this._on_sys_rbuttonup);nexacro._stopInputObserving(_a,"mousemove","onmousemove",this._on_sys_mousemove);if(nexacro.SupportTouch){nexacro._stopInputObserving(_a,"touchstart","ontouchstart",this._on_sys_lbuttondown);nexacro._stopInputObserving(_a,"touchend","ontouchend",this._on_sys_lbuttonup);nexacro._stopInputObserving(_a,"touchmove","ontouchmove",this._on_sys_mousemove);}nexacro._stopInputObserving(_a,"cut","oncut",this._on_sys_cut);nexacro._stopInputObserving(_a,"paste","onpaste",this._on_sys_paste);nexacro._stopInputObserving(_a,"contextmenu","oncontextmenu",this._on_sys_contextmenu);nexacro._stopInputObserving(_a,"select","onselect",this._on_sys_select);};delete _pInputElement;nexacro.TextAreaElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextAreaElement=new nexacro._createPrototype(nexacro.InputElement,nexacro.TextAreaElement);nexacro.TextAreaElement.prototype=_pTextAreaElement;_pTextAreaElement._type_name="TextAreaElement";_pTextAreaElement.usemultiline=true;_pTextAreaElement.setElementLineSpace=function(_a){if(this.linespace!=_a){this.linespace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLineSpace(_b,_a);}}};_pTextAreaElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLetterSpace(_b,_a);}}};_pTextAreaElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){this.wordwrap=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleWordWrap(_b,_a);}}};_pTextAreaElement._on_sys_scroll=function(_a,_b){var _c=this._parent_elem.getContainerElement(this.position_step);if(_c){var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e&&_e._cur_ldown_elem){var _f=_c.parent._hscroll_control;if(_f&&!_f._is_tracking){_f.set_pos(_b);}var _g=_c.parent._vscroll_control;if(_g&&!_g._is_tracking){_g.set_pos(_a);}}}};_pTextAreaElement._bindEvent=function(){var _a=this._handle;nexacro.InputElement.prototype._bindEvent.call(this);nexacro._observeInputEvent(_a,"scroll","onscroll",this._on_sys_scroll);};_pTextAreaElement._unbindEvent=function(){var _a=this._handle;nexacro.InputElement.prototype._unBindEvent.call(this);nexacro._stopInputObserving(_a,"scroll","onscroll",this._on_sys_scroll);};delete _pTextAreaElement;nexacro.ControlElementBase=function(_a){this.parent=_a;this._parent_elem=_a;};var _pControlElementBase=nexacro._createPrototype(nexacro.Element,nexacro.ControlElementBase);nexacro.ControlElementBase.prototype=_pControlElementBase;_pControlElementBase._type_name="ControlElementBase";_pControlElementBase.enable=true;_pControlElementBase.tabindex= -1;_pControlElementBase.zindex= -1;_pControlElementBase.font=null;_pControlElementBase.color=null;_pControlElementBase.cursor=null;_pControlElementBase.client_left=0;_pControlElementBase.client_top=0;_pControlElementBase.client_width=0;_pControlElementBase.client_height=0;_pControlElementBase.border=null;_pControlElementBase.bordertype=null;_pControlElementBase.background=null;_pControlElementBase.gradation=null;_pControlElementBase.opacity=0;_pControlElementBase.padding=null;_pControlElementBase.padding_left=0;_pControlElementBase.padding_top=0;_pControlElementBase.padding_right=0;_pControlElementBase.padding_bottom=0;_pControlElementBase.position_step=undefined;_pControlElementBase.accessibility_role="";_pControlElementBase.accessibility_enable=false;_pControlElementBase.accessibility_label="";_pControlElementBase.accessibility_desclevel="";_pControlElementBase.accessibility_description="";_pControlElementBase.accessibility_action="";_pControlElementBase._accessibility_value=undefined;_pControlElementBase._accessibility_stat_disabled=undefined;_pControlElementBase._accessibility_stat_hidden=undefined;_pControlElementBase._accessibility_stat_checked=undefined;_pControlElementBase._accessibility_stat_pressed=undefined;_pControlElementBase._accessibility_stat_selected=undefined;_pControlElementBase._accessibility_stat_expanded=undefined;_pControlElementBase._accessibility_stat_autocomplete=undefined;_pControlElementBase._accessibility_flag_haspopup=undefined;_pControlElementBase._accessibility_flag_focusable=undefined;_pControlElementBase._accessibility_flag_readonly=undefined;_pControlElementBase._accessibility_flag_password=undefined;_pControlElementBase._accessibility_flag_multiselectable=undefined;_pControlElementBase._accessibility_flag_selectable=undefined;_pControlElementBase._accessibility_flag_defaultbutton=undefined;_pControlElementBase._accessibility_flag_multiline=undefined;_pControlElementBase._accessibility_prop_itemcount=undefined;_pControlElementBase._accessibility_prop_itemindex=undefined;_pControlElementBase._accessibility_prop_valuemax=undefined;_pControlElementBase._accessibility_prop_valuemin=undefined;_pControlElementBase._accessibility_prop_hotkey=undefined;_pControlElementBase._dom_border=null;_pControlElementBase._inner_left=0;_pControlElementBase._inner_top=0;_pControlElementBase._inner_width=0;_pControlElementBase._inner_height=0;_pControlElementBase._node_width=0;_pControlElementBase._node_height=0;_pControlElementBase._background_style=0;_pControlElementBase._node_opacity_str="";_pControlElementBase._node_opacity=100;_pControlElementBase._node_bkcolor="";_pControlElementBase._node_gradation="";_pControlElementBase._node_bkurl="";_pControlElementBase._node_bkrepeat="";_pControlElementBase._node_bkpos="";_pControlElementBase.linkedcontrol=null;_pControlElementBase._client_element=null;_pControlElementBase._vml_elem=null;_pControlElementBase._bkimg_elem=null;_pControlElementBase._append_flag=false;_pControlElementBase._is_window_element=false;_pControlElementBase._img_sizereq=false;_pControlElementBase._img_url="";_pControlElementBase._hittest_type="";_pControlElementBase.create=nexacro._emptyFn;_pControlElementBase.destroy=nexacro._emptyFn;_pControlElementBase.clearContents=nexacro._emptyFn;_pControlElementBase.setElementStepCount=nexacro._emptyFn;_pControlElementBase.setElementStepIndex=nexacro._emptyFn;_pControlElementBase.setLinkedControl=function(_a){if(!this.linkedcontrol&&_a){this.parent=_a;this.linkedcontrol=_a;}};_pControlElementBase.setElementPositionStep=function(_a){if(this.position_step!=_a||_a== -1){this.position_step=_a;var _b=this._handle;if(_b&&this._parent_elem){var _c=this._owner_elem;var _d=this._parent_elem.getContainerElement(_a);if(_c&&_c._handle&&_d&&_d._handle){nexacro.__unlinkElementHandle(_c._handle,_b);nexacro.__appendElementHandle(_d._handle,_b);this._owner_elem=_d;}}}};_pControlElementBase.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleEnable(_b,_a);}}};_pControlElementBase.setElementTabIndex=function(_a){if(this.tabindex!=_a){this.tabindex=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleTabIndex(_b,_a);}}};_pControlElementBase.setElementZIndex=function(_a){if(this.zindex!=_a){this.zindex=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleZindex(_b,_a);}}};_pControlElementBase.setElementFont=function(_a){this.font=_a;if(this._client_element){this._client_element.setElementFont(_a);}};_pControlElementBase.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(this._client_element){this._client_element.setElementColor(_a);}};_pControlElementBase.setElementCursor=function(_a){this.cursor=_a;var _b=this._handle;if(_b){if(_a&&!_a._is_empty){nexacro.__setElementHandleCursor(_b,_a.value);}else{nexacro.__setElementHandleCursor(_b,_a);}}};_pControlElementBase.setElementToolTip=function(_a,_b){if(_a===undefined){_a="";}if(this.tooltiptext!=_a||this.tooltiptype!=_b){this.tooltiptext=_a;this.tooltiptype=_b;var _c=this._handle;if(_c){nexacro.__setElementHandleToolTip(_c,_a,_b);}}};_pControlElementBase.setElementShadow=function(_a){this.shadow=_a;var _b=this._handle;if(_b){var _c=_a?_a._getStyleObject(this._isRtl()):null;nexacro.__setElementHandleShadow(_b,_c.type,_c._syscolor,_c.factor,_c._offset_x,_c._offset_y);}};_pControlElementBase.setElementFocus=function(){var _a=this._handle;if(_a){nexacro.__setElementHandleFocus(_a);nexacro.__setLastFocusedElement(this);}};_pControlElementBase._isVML=function(){return false;};_pControlElementBase.setElementOpacity=function(_a){var _b=this._handle;this.opacity=parseInt(_a.value);if(_b){var _c=(this.opacity>=100)?100:(this.opacity<=0)?0:this.opacity;nexacro.__setElementHandleOpacity(_b,_c);}};_pControlElementBase.setElementAlign=nexacro._emptyFn;_pControlElementBase.setElementAlignXY=nexacro._emptyFn;_pControlElementBase.setElementPadding=nexacro._emptyFn;_pControlElementBase.setElementPaddingXY=nexacro._emptyFn;_pControlElementBase.setElementHittestType=function(_a){if(this._hittest_type!=_a){this._hittest_type=_a;if(this._handle){nexacro.__setElementHittestValue(this._handle,_a);}}};_pControlElementBase.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;this._setControlSize(_c,_a,_b);this._updateClientSize();if(this._isRtl()){this.setElementPosition(this.left,this.top,true);}}};_pControlElementBase.setElementBorder=function(_a,_b){this.border=_a;this.bordertype=_b;var _c=this._handle;this._setControlBorder(_c,_a,_b);this._updateClientSize();};_pControlElementBase.setElementBackground=function(_a,_b){this.background=_a;this.gradation=_b;var _c=this._isRtl();var _d=_b;var _e=_a;_d=_b?_b._getStyleObject(_c):null;_e=(_a&&_a!="none")?_a._getStyleObject(_c):null;if(_a&&_a.image){var _f=_a.image;if(_f&&_f.substring(0,4).toLowerCase()=="url("){_f=_f.substring(5,_f.length-2);}if(_f&&!nexacro._isAbsolutePath(_f)){var _g=this._getElementBaseUrl();_f=nexacro._getImageLocation(_f,_g);}if(this._img_url!=_f){this._img_url=_f;var _h=nexacro._getImageSize(_f,this._on_notify_imgsize,this,undefined,_a.image);if(_f.substring(0,10).toLowerCase()=="data:image"){this._img_sizereq=false;}else{this._img_sizereq=true;}if(_h&&this._img_sizereq){this._img_sizereq=false;}}}var _i=this._handle;if(_i){this._setControlBackground(_i,_e,_d);}};_pControlElementBase.setElementAccessibilityRole=function(_a){var _b=nexacro._roleList[_a];if(this.accessibility_role!=_b){this.accessibility_role=_b;var _c=this._handle;if(_c){nexacro.__setElementHandleAccessibilityRole(_c,_b);}}};_pControlElementBase.setElementAccessibilityLabel=function(_a){if(this.accessibility_label!=_a){this.accessibility_label=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityLabel(_b,_a);}}};_pControlElementBase.setElementAccessibilityEnable=function(_a){if(this.accessibility_enable!=_a){this.accessibility_enable=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityEnable(_b,_a);}}};_pControlElementBase.setElementAccessibilityDescription=function(_a){if(this.accessibility_description!=_a){this.accessibility_description=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityDescription(_b,_a);}}};_pControlElementBase.setElementAccessibilityAction=function(_a){if(this.accessibility_action!=_a){this.accessibility_action=_a;}};_pControlElementBase.setElementAccessibilityDescLevel=function(_a){if(this.accessibility_desclevel!=_a){this.accessibility_desclevel=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityDescLevel(_b,_a);}}};_pControlElementBase.setElementAccessibilityValue=function(_a){};_pControlElementBase.setElementAccessibilityStatDisabled=function(_a){if(this._accessibility_stat_disabled!=_a){this._accessibility_stat_disabled=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatDisabled(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatHidden=function(_a){if(this._accessibility_stat_hidden!=_a){this._accessibility_stat_hidden=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatHidden(_b,_a);}}};_pControlElementBase.setElementAccessibilityHidden=function(_a){};_pControlElementBase.setElementAccessibilityStatChecked=function(_a){if(this._accessibility_stat_checked!=_a){this._accessibility_stat_checked=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatChecked(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatPressed=function(_a){if(this._accessibility_stat_pressed!=_a){this._accessibility_stat_pressed=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatPressed(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatSelected=function(_a){if(this._accessibility_stat_selected!=_a){this._accessibility_stat_selected=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatSelected(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatExpanded=function(_a){if(this._accessibility_stat_expanded!=_a){this._accessibility_stat_expanded=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatExpanded(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatAutoComplete=function(_a){};_pControlElementBase.setElementAccessibilityFlagHasPopup=function(_a){if(this._accessibility_flag_haspopup!=_a){this._accessibility_flag_haspopup=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatHasPopup(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagFocusable=function(_a){if(this._accessibility_flag_focusable!=_a){this._accessibility_flag_focusable=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityFlagFocusable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagReadOnly=function(_a){if(this._accessibility_flag_readonly!=_a){this._accessibility_flag_readonly=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityFlagReadOnly(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagPassword=function(_a){if(this._accessibility_flag_password!=_a){this._accessibility_flag_password=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityFlagPassword(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagMultiSelectable=function(_a){if(this._accessibility_flag_multiselectable!=_a){this._accessibility_flag_multiselectable=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityFlagMultiSelectable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagSelectable=function(_a){if(this._accessibility_flag_selectable!=_a){this._accessibility_flag_selectable=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityFlagSelectable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagDefaultButton=function(_a){if(this._accessibility_flag_defaultbutton!=_a){this._accessibility_flag_defaultbutton=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityStatDefaultButton(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagMultiLine=function(_a){if(this._accessibility_flag_multiline!=_a){this._accessibility_flag_multiline=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityFlagMultiLine(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoCount=function(_a){if(this._accessibility_prop_infocount!=_a){this._accessibility_prop_infocount=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityInfoCount(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoIndex=function(_a){if(this._accessibility_prop_infoindex!=_a){this._accessibility_prop_infoindex=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityInfoIndex(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueMax=function(_a){if(this._accessibility_prop_infovaluemax!=_a){this._accessibility_prop_infovaluemax=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityInfoValueMax(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueMin=function(_a){if(this._accessibility_prop_infovaluemin!=_a){this._accessibility_prop_infovaluemin=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityInfoValueMin(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueCur=function(_a){if(this._accessibility_prop_infovaluecur!=_a){this._accessibility_prop_infovaluecur=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityInfoValueCur(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoLevel=function(_a){if(this._accessibility_prop_infolevel!=_a){this._accessibility_prop_infolevel=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityInfoLevel(_b,_a);}}};_pControlElementBase.setElementAccessibilityHotKey=function(_a){if(this._accessibility_prop_hotkey!=_a){this._accessibility_prop_hotkey=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityHotKey(_b,_a);}}};_pControlElementBase.setElementAccessibilityActiveDescendant=function(_a){this._accessibility_prop_activedescendant=_a.linkedcontrol._unique_id;var _b=this._handle;if(_b){nexacro.__setElementHandleAccessibilityActiveDescendant(_b,_a.linkedcontrol._unique_id);}};_pControlElementBase.setElementAccessibilityStatFocus=function(_a){var _b;if(_a){_b=_a;}else{var _c=this._makeAccessibilityLabelbyReadtype(this);this.accessibility_readlabel=_c;_b=_c;}var _d=this._handle;if(_d){nexacro.__notifyAccessibility(_d,_b,"focus");}};_pControlElementBase.setElementAccessibilityNotifyEvent=function(){var _a=this._handle;if(_a){nexacro.__setElementHandleAccessibilityNotifyEvent(_a);}return true;};_pControlElementBase._refreshForeground=function(_a){if(!this.visible){nexacro.__setElementHandleVisible(_a,false);}if(!this.enable){nexacro.__setElementHandleEnable(_a,false);}if(this.tabindex>= -1){nexacro.__setElementHandleTabIndex(_a,this.tabindex);}if(this.zindex>=0){nexacro.__setElementHandleZindex(_a,this.zindex);}if(this.cursor){nexacro.__setElementHandleCursor(_a,this.cursor.value);}if(this.tooltiptext){nexacro.__setElementHandleToolTip(_a,this.tooltiptext,this.tooltiptype);}if(this.shadow){var _b=this.shadow;nexacro.__setElementHandleShadow(_a,_b.type,_b._syscolor,_b.factor,_b._offset_x,_b._offset_y);}if(nexacro._enableaccessibility){if(this.accessibility_role){nexacro.__setElementHandleAccessibilityRole(_a,this.accessibility_role);}if(this.accessibility_enable){if(this.accessibility_enable){nexacro.__setElementHandleAccessibilityEnable(_a,this.accessibility_enable);}if(this.accessibility_desclevel){nexacro.__setElementHandleAccessibilityDescLevel(_a,this.accessibility_desclevel);}if(this.accessibility_description){nexacro.__setElementHandleAccessibilityDescription(_a,this.accessibility_description);}var _c=this._makeAccessibilityLabelbyReadtype(this);if(_c!=this.accessibility_readlabel){this.accessibility_readlabel=_c;nexacro.__setElementHandleAccessibilityLabel(_a,this.accessibility_readlabel);}}else{nexacro.__setElementHandleAccessibilityEnable(_a,this.accessibility_enable);}if(this._accessibility_stat_disabled){nexacro.__setElementHandleAccessibilityStatDisabled(_a,this._accessibility_stat_disabled);}if(this._accessibility_stat_hidden){nexacro.__setElementHandleAccessibilityStatHidden(_a,this._accessibility_stat_hidden);}if(this._accessibility_stat_checked){nexacro.__setElementHandleAccessibilityStatChecked(_a,this._accessibility_stat_checked);}if(this._accessibility_stat_pressed){nexacro.__setElementHandleAccessibilityStatPressed(_a,this._accessibility_stat_pressed);}if(this._accessibility_stat_selected){nexacro.__setElementHandleAccessibilityStatSelected(_a,this._accessibility_stat_selected);}if(this._accessibility_stat_expanded){nexacro.__setElementHandleAccessibilityStatExpanded(_a,this._accessibility_stat_expanded);}if(this._accessibility_flag_haspopup){nexacro.__setElementHandleAccessibilityStatHasPopup(_a,this._accessibility_flag_haspopup);}if(this._accessibility_flag_focusable){nexacro.__setElementHandleAccessibilityFlagFocusable(_a,this._accessibility_flag_focusable);}if(this._accessibility_flag_readonly){nexacro.__setElementHandleAccessibilityFlagReadOnly(_a,this._accessibility_flag_readonly);}if(this._accessibility_flag_password){nexacro.__setElementHandleAccessibilityFlagPassword(_a,this._accessibility_flag_password);}if(this._accessibility_flag_multiselectable){nexacro.__setElementHandleAccessibilityFlagMultiSelectable(_a,this._accessibility_flag_multiselectable);}if(this._accessibility_flag_selectable){nexacro.__setElementHandleAccessibilityFlagSelectable(_a,this._accessibility_flag_selectable);}if(this._accessibility_flag_defaultbutton){nexacro.__setElementHandleAccessibilityStatDefaultButton(_a,this._accessibility_flag_defaultbutton);}if(this._accessibility_flag_multiline){nexacro.__setElementHandleAccessibilityFlagMultiLine(_a,this._accessibility_flag_multiline);}if(this._accessibility_prop_hotkey){nexacro.__setElementHandleAccessibilityHotKey(_a,this._accessibility_prop_hotkey);}if(this._accessibility_prop_itemcount){nexacro.__setElementHandleAccessibilityInfoCount(_a,this._accessibility_prop_itemcount);}if(this._accessibility_prop_itemindex){nexacro.__setElementHandleAccessibilityInfoIndex(_a,this._accessibility_prop_itemindex);}if(this._accessibility_prop_valuemax){nexacro.__setElementHandleAccessibilityInfoValueMax(_a,this._accessibility_prop_valuemax);}if(this._accessibility_prop_valuemin){nexacro.__setElementHandleAccessibilityInfoValueMin(_a,this._accessibility_prop_valuemin);}}nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(this);};_pControlElementBase._setControlSize=function(_a,_b,_c){var _d=_b;var _e=_c;var _f=this.border;if(_f&&!_f._is_real_empty()){_d=_b-_f._getBorderWidth();_e=_c-_f._getBorderHeight();if(_d<0){_d=0;}if(_e<0){_e=0;}}if(this._inner_width!=_d||this._inner_height!=_e){this._inner_width=_d;this._inner_height=_e;if(_a){nexacro.__setElementHandleSize(_a,_b,_c);}}if(this._is_window_element){var _g=this.getRootWindowHandle();nexacro._setWindowHandleBorder(_g,this.border,this.bordertype);}};_pControlElementBase._setControlBorder=function(_a,_b,_c){var _d=this._isRtl(true);var _e=_b;var _f=_c;_e=_b?_b._getStyleObject(_d^this.mirror):null;_f=_c?_c._getStyleObject(_d):null;if(_a){if(_f){var _g=(_f._radiusx<0)?0:_f._radiusx;var _h=(_f._radiusy<0)?0:_f._radiusy;nexacro.__setElementHandleBordertype(_a,_f.type,_g,_h,_f._lefttop,_f._righttop,_f._leftbottom,_f._rightbottom);}else{nexacro.__setElementHandleBordertype(_a,"",0,0,0,0,0,0);}}var _i=this.width;var _j=this.height;if(_e&&!_e._is_real_empty()){if(_a){if(_e._linecnt==1){var _k=_e.top_style?_e._top_width:0;_k=_k<0?0:_k;nexacro.__setElementHandleBorder(_a,_e.top_style,_k,_e._top_syscolor);}else{var _l,_k,_m,_n;if(_e._linecnt==2){_k=_e.top_style?_e._top_width:0;_m=_e.right_style?_e._right_width:0;_l=_m;_n=_k;}else if(_e._linecnt==3){_k=_e.top_style?_e._top_width:0;_n=_e.bottom_style?_e._bottom_width:0;_m=_e.right_style?_e._right_width:0;_l=_m;}else{_k=_e.top_style?_e._top_width:0;_n=_e.bottom_style?_e._bottom_width:0;_l=_e.left_style?_e._left_width:0;_m=_e.right_style?_e._right_width:0;}_k=_k<0?0:_k;_n=_n<0?0:_n;_l=_l<0?0:_l;_m=_m<0?0:_m;nexacro.__setElementHandleBorderTop(_a,_e.top_style,_k,_e._top_syscolor);nexacro.__setElementHandleBorderBottom(_a,_e.bottom_style,_n,_e._bottom_syscolor);nexacro.__setElementHandleBorderLeft(_a,_e.left_style,_l,_e._left_syscolor);nexacro.__setElementHandleBorderRight(_a,_e.right_style,_m,_e._right_syscolor);}}_i=this.width-_e._getBorderWidth();_j=this.height-_e._getBorderHeight();if(_i<0){_i=0;}if(_j<0){_j=0;}}else{nexacro.__setElementHandleBorder(_a,"none",0,0);}if(this._inner_width!=_i||this._inner_height!=_j){this._inner_width=_i;this._inner_height=_j;}if(this._is_window_element){var _o=this.getRootWindowHandle();nexacro._setWindowHandleBorder(_o,_e,_f);}};_pControlElementBase._on_notify_imgsize=function(_a,_b,_c){if(!(_b&&_c)){return;}if(_a!=this._img_url){return;}this._img_sizereq=false;var _d=this._handle;if(_d){var _e=this._isRtl();var _f=this.gradation;var _g=this.background;_f=this.gradation?this.gradation._getStyleObject(_e):null;_g=(this.background&&this.background!="none")?this.background._getStyleObject(_e):null;this._setControlBackground(_d,_g,_f);}};_pControlElementBase._setControlBackground=function(_a,_b,_c){if(_b){if(_b.color=="@gradation"&&_c){nexacro.__setElementHandleBackgroundColor(_a,0);nexacro.__setElementHandleBackgroundGradation(_a,_c.style,_c._start_x,_c._start_y,_c._start_syscolor,_c._end_x,_c._end_y,_c._end_syscolor,_c._sysvalue);}else{nexacro.__setElementHandleBackgroundColor(_a,_b._syscolor);nexacro.__setElementHandleBackgroundGradation(_a,"",0,0,0,0,0,0,0,"");}var _d=_b.image;if(_d&&!this._img_sizereq){if(_d&&_d.substring(0,4).toLowerCase()=="url("){_d=_d.substring(5,_d.length-2);}if(_d&&!nexacro._isAbsolutePath(_d)){var _e=this._getElementBaseUrl();_d=nexacro._getImageLocation(_d,_e);}var _f=_b.repeat;var _g=_b.position_x;var _h=_b.position_y;var _i=_b.imageedge_x;var _j=_b.imageedge_y;nexacro.__setElementHandleBackgroundImage(_a,_d,_f,_g,_h,_i,_j);}else{nexacro.__setElementHandleBackgroundImage(_a,"",false,0,0,0,0);}}};_pControlElementBase._isVML=function(){return false;};_pControlElementBase._setDOMQuadImage=nexacro._emptyFn;_pControlElementBase._setDOMEdgeImage=nexacro._emptyFn;_pControlElementBase.setAccessibility=function(_a){var _b=_a._role;var _c=_a.enable;var _d=_a._desclevel?_a._desclevel:_a.desclevel;var _e=(_a._label?_a._label:_a.label);var _f=_a._description?_a._description:_a.description;var _g=_a._action?_a._action:_a.action;var _h=this._handle;if(_h){if(_b!=this.accessibility_role&&_b!="none"){this.accessibility_role=_b;nexacro.__setElementHandleAccessibilityRole(_h,_b);}if(_d!=this.accessibility_desclevel){this.accessibility_desclevel=_d;var _i={"none":0,"self":1,"child":2,"all":3};nexacro.__setElementHandleAccessibilityDescLevel(_h,_i[_d]);}if(_c==true&&(_d!="none"&&_d!="child")){if(_e!=this.accessibility_label){this.accessibility_label=_e;}if(_f!=this.accessibility_description){this.accessibility_description=_f;nexacro.__setElementHandleAccessibilityDescription(_h,_f);}if(_g!=this.accessibility_action){this.accessibility_action=_g;}var _j=this._makeAccessibilityLabelbyReadtype();if(_j!=this.accessibility_readlabel){this.accessibility_readlabel=_j;nexacro.__setElementHandleAccessibilityLabel(_h,_j);}}else{this.accessibility_label=_e;this.accessibility_description=_f;nexacro.__setElementHandleAccessibilityEnable(_h,_c);}this.accessibility_enable=_c;}else{this.accessibility_role=_b;this.accessibility_desclevel=_d;this.accessibility_label=_e;this.accessibility_action=_g;this.accessibility_description=_f;this.accessibility_enable=_c;}};_pControlElementBase.notifyAccessibility=function(_a,_b){var _c=this._handle;if(_c){var _d=this._makeAccessibilityLabelbyReadtype(this);this.accessibility_readlabel=_d;nexacro.__notifyAccessibility(_c,_a?_a:this.accessibility_readlabel,_b?_b:"notify");}};_pControlElementBase._makeAccessibilityLabelbyReadtype=function(){var _a="";if(this.accessibility_desclevel!="none"&&this.accessibility_desclevel!="child"){if((nexacro._accessibilitydescreadtype&0x01)==0x01){_a=nexacro.AccessibilityUtil.getAccessibilityLabel(this);}if((nexacro._accessibilitydescreadtype&0x02)==0x02&&this.accessibility_action){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityAction(this);}if((nexacro._accessibilitydescreadtype&0x04)==0x04&&this.accessibility_description){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityDescription(this);}if(nexacro.AccessibilityUtil.getAccessibilityAdditionalLabel){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityAdditionalLabel(this);}}return _a;};nexacro.SimpleControlElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pSimpleControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.SimpleControlElement);nexacro.SimpleControlElement.prototype=_pSimpleControlElement;_pSimpleControlElement._type_name="SimpleControlElement";_pSimpleControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}if(this.mirror){nexacro.__setElementHandleMirror(_c,this.mirror);}this._refreshForeground(_c);}};_pSimpleControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pSimpleControlElement._updateClientSize=function(){this.client_left=this._inner_left;this.client_top=this._inner_top;this.client_width=this._inner_width;this.client_height=this._inner_height;};_pSimpleControlElement.setElementPadding=function(_a){};_pSimpleControlElement.setElementPaddingXY=function(_a,_b,_c,_d){};_pSimpleControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._destroyElementHandle();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pSimpleControlElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pSimpleControlElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pSimpleControlElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pSimpleControlElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pSimpleControlElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};nexacro.ControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.ControlElement);nexacro.ControlElement.prototype=_pControlElement;_pControlElement._type_name="ControlElement";_pControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}if(this._rtldirection){nexacro.__setElementHandleRtlDirection(_c,this._rtldirection);}this._refreshForeground(_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}if(_c){nexacro.__setElementHandleMirror(_c,this.mirror);}}};_pControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.AccessibilityUtil.unsupportMobileApplicationAccessibility(this);nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;this._client_element.destroy();this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pControlElement.getContainerElement=function(){return this._client_element;};_pControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this.padding;if(this.padding){_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}var _f=this._client_element;if(_f){if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_f.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pControlElement.getZoom=function(){if(this._zoomFactor){return this._zoomFactor;}return 100;};_pControlElement.setZoom=function(_a){var _b=this._handle;if(_b){if(_a<0){_a=0;}this._zoomFactor=_a;nexacro.__setElementHandleScale(_b,_a);}};_pControlElement._changeDOMObjectVisibility=nexacro._emptyFn;_pControlElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;this._updateClientSize();};_pControlElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;this._updateClientSize();};_pControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._destroyElementHandle();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pControlElement.sendToBackElement=function(_a){this._client_element.sendToBackElement(_a);};_pControlElement.bringToFrontElement=function(_a){this._client_element.bringToFrontElement(_a);};_pControlElement.moveToNextElement=function(_a,_b){this._client_element.moveToNextElement(_a,_b);};_pControlElement.moveToPrevElement=function(_a,_b){this._client_element.moveToPrevElement(_a,_b);};_pControlElementBase.saveToImage=function(_a,_b,_c){var _d=this._handle;if(_d){return nexacro.__saveToImageFile(_d,_a,_b,_c);}};_pControlElementBase.saveToImageFile=function(_a,_b,_c){var _d=this._handle;if(_d){return nexacro.__saveToImageFile(_d,_a,_b,_c);}};_pControlElementBase.saveToImageObject=function(){var _a=this._handle;if(_a){return nexacro.__saveToImageObject(_a);}};nexacro.FrameControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;this._border_elems=new nexacro.Collection();};var _pFrameControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.FrameControlElement);nexacro.FrameControlElement.prototype=_pFrameControlElement;_pFrameControlElement._type_name="FrameControlElement";_pFrameControlElement._title_control=null;_pFrameControlElement._menubar_control=null;_pFrameControlElement._status_control=null;_pFrameControlElement._title_height=0;_pFrameControlElement._menu_height=0;_pFrameControlElement._status_height=0;_pFrameControlElement._title_top=0;_pFrameControlElement._title_width=0;_pFrameControlElement._menu_top=0;_pFrameControlElement._menu_width=0;_pFrameControlElement._status_top=0;_pFrameControlElement._status_width=0;_pFrameControlElement._resizable=false;_pFrameControlElement._win_handle=null;_pFrameControlElement.create=function(){if(!this._handle){if(this._parent_elem==null){var _a=this.linkedcontrol._getWindow();var _b=this._win_handle=_a._handle;this._owner_elem=_a;this._is_window_element=true;this.left=0;this.top=0;this.width=_a.clientWidth;this.height=_a.clientHeight;var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);if(this.parent){var _d=this._adjustRtlLayoutLeft(this.left,this.width);}nexacro.__setElementHandlePosition(_c,_d,this.top);this._handle=_c;nexacro.__appendElementHandle(this._owner_elem._handle,_c);if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}this._refreshForeground(_c);this._client_element.create();}else{var _e=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement();if(_e&&_e._handle&&!this._handle){this._owner_elem=_e;var _b=_e.getRootWindowHandle();var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);if(this.parent){var _d=this._adjustRtlLayoutLeft(this.left,this.width);}nexacro.__setElementHandlePosition(_c,_d,this.top);this._handle=_c;nexacro.__appendElementHandle(_e._handle,_c);if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}this._refreshForeground(_c);if(this._client_element){this._client_element.create();}}}if(this._resizable){this._createBorderElements();this._updateBorderElementsPosition();}}else{}};_pFrameControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._win_handle=null;this._handle=null;this._destroyBorderElements();if(this._client_element){this._client_element.destroy();}this._client_element=null;this._title_control=null;this._menubar_control=null;this._status_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pFrameControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pFrameControlElement.getContainerElement=function(){return this._client_element;};_pFrameControlElement.getRootWindowHandle=function(){if(this._is_window_element){return this._win_handle;}else if(this._owner_elem){return this._owner_elem.getRootWindowHandle();}else if(this._parent&&this._parent.getRootWindowHandle){return this._parent.getRootWindowHandle();}return null;};_pFrameControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this._title_control;if(_e){if(!this._is_verticalmin&&(this.client_left!=_a||this._title_top!=_b||this._title_width!=_c)){this._title_top=_b;this._title_width=_c;_e.move(_a,_b,_c,this._title_height);}else if(this._is_verticalmin&&(this.client_left!=_a||this._title_top!=_b||this._title_width!=_c)){this._title_top=_b;this._title_width=_c;_e.move(_a,_b,_c,_d);}if(this._is_verticalmin!=true){_b+=this._title_height;_d-=this._title_height;if(_d<0){_d=0;}}else{_a+=this._title_width;_c-=this._title_width;if(_c<0){_c=0;}}}else{this._title_top=_b;}var _f=this._menubar_control;if(_f){var _g=_b;if(this.client_left!=_a||this._menu_top!=_b||this._menu_width!=_c){this._menu_top=_b;this._menu_width=_c;_f.move(_a,_b,_c,this._menu_height);}_b+=this._menu_height;_d-=this._menu_height;if(_d<0){_d=0;}}else{this._menu_top=_b;}var _h=this._status_control;if(_h){if(this._status_height>0){_d-=this._status_height;if(_d<0){_d=0;}}var _i=_b+_d;if(this.client_left!=_a||this._status_top!=_i||this._status_width!=_c){this._status_top=_i;this._status_width=_c;_h.move(_a,_i,_c,this._status_height);}}else{this._status_top=_b+_d;}var _j=this._client_element;if(_j){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_j.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_j.setElementSize(_c,_d);}}this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;this._updateBorderElementsPosition();};_pFrameControlElement.appendChildElement=function(_a){if(this._handle){if(!this._client_element){return;}if(_a._parent_elem==this._client_element){_a._is_nc_element=true;}else{if(_a._handle){if(_a._doc!=this._doc){_a._parent_elem=this._client_element;_a._destroyDOMHandle();}else{_a._parent_elem=this._client_element;}}else{_a._parent_elem=this._client_element;}}_a._is_nc_element=true;_a.setElementPosition(0,0);_a.setElementSize(this.client_width,this.client_height);if(this.font){_a.setElementFont(this.font);}if(this.color){_a.setElementColor(this.color);}if(this.align){_a.setElementAlign(this.align);}else if(this.halign||this.valign){_a.setElementAlignXY(this.halign,this.valign);}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pFrameControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pFrameControlElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem&&_a._owner_elem._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);if(_a._border_elems){for(var _b=0;_b<_a._border_elems.length;_b++ ){nexacro.__setElementHandleSendToBack(_a._border_elems[_b]._handle);}}}};_pFrameControlElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem&&_a._owner_elem._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);if(_a._border_elems){for(var _b=0;_b<_a._border_elems.length;_b++ ){nexacro.__setElementHandleBringToFront(_a._border_elems[_b]._handle);}}}};_pFrameControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pFrameControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pFrameControlElement.setTitleBarControl=function(_a,_b){if(this._title_control!=_a){if(_a){_a._is_nc_control=true;this._title_control=_a;this._title_height=parseInt(_b)|0;this._title_width=0;}else{this._title_control=null;this._title_height=0;this._title_width=0;}this._updateClientSize();}else if(_a){this._title_height=parseInt(_b)|0;this._title_width=0;this._updateClientSize();}};_pFrameControlElement.setStatusBarControl=function(_a,_b){if(this._status_control!=_a){if(_a){_a._is_nc_control=true;this._status_control=_a;this._status_height=parseInt(_b)|0;this._status_width=0;}else{this._status_control=null;this._status_height=0;this._status_width=0;}this._updateClientSize();}else if(_a){this._status_height=parseInt(menu_height)|0;this._status_width=0;this._updateClientSize();}};_pFrameControlElement._createBorderElements=function(){var _a=this._parent_elem;if(this._border_elems.length>0){return;}var _b=Array("lt","t","rt","l","r","lb","b","rb");for(var _d=0;_d<8;_d++ ){var _c=new nexacro.FrameResizeBorderElement(_a);this._border_elems.add_item(_b[_d],_c);}for(var _d=0;_d<8;_d++ ){var _c=this._border_elems[_d];_c.linkedcontrol=this.linkedcontrol;_c.create();}this._setResizable(this._resizable);};_pFrameControlElement._destroyBorderElements=function(){for(var _a=0;_a<this._border_elems.length;_a++ ){this._border_elems[_a].destroy();this._border_elems[_a]=null;}};_pFrameControlElement.setElementPosition=function(_a,_b){nexacro.ControlElementBase.prototype.setElementPosition.call(this,_a,_b);this._updateBorderElementsPosition();};_pFrameControlElement.setElementSize=function(_a,_b){nexacro.ControlElementBase.prototype.setElementSize.call(this,_a,_b);this._updateBorderElementsPosition();if(this._is_window_element){var _c=this.border;var _d=this.bordertype;var _e=this.linkedcontrol._getWindow();var _f=_e._handle;nexacro.__updateWindowHandleRegion(_f,_c?_c._getBorderLeftWidth():0,_c?_c._getBorderTopWidth():0,_c?_c._getBorderRightWidth():0,_c?_c._getBorderBottomWidth():0,_d?_d.type:"normal",_d?_d.radiusx:0,_d?_d.radiusy:0,_d?_d.lefttop:true,_d?_d.righttop:true,_d?_d.leftbottom:true,_d?_d.rightbottom:true,_a,_b);}};_pFrameControlElement._updateBorderElementsPosition=function(){if(this._border_elems.length==0){return;}var _a=this.border;var _b,_c,_d,_e;if(_a){if(_a._linecnt==1){_b=_c=_d=_e=_a._getBorderLeftWidth();}else{_b=_a._getBorderLeftWidth();_c=_a._getBorderTopWidth();_d=_a._getBorderRightWidth();_e=_a._getBorderBottomWidth();}}else{_b=_c=_d=_e=0;}var _f=this._inner_width;var _g=this._inner_height;if(_b<5){var _h=5-_b;_b+=_h;_f-=_h;}if(_c<5){var _i=5-_c;_c+=_i;_g-=_i;}if(_d<5){var _j=5-_d;_d+=_j;_f-=_j;}if(_e<5){var _k=5-_e;_e+=_k;_g-=_k;}var _l=this.left;var _m=this.top;var _n=_l+this.width;var _o=_m+this.height;var _p=_l;var _q=_m;for(var _r=0;_r<8;_r++ ){this._border_elems[_r].setElementPosition(_p,_q);switch(_r){case 0:_p+=_b;break;case 1:_p+=_f;break;case 2:_p=_l;_q+=_c;break;case 3:_p+=(_b+_f);break;case 4:_p=_l;_q+=_g;break;case 5:_p+=_b;break;case 6:_p+=_f;break;case 7:break;}}for(var _r=0;_r<8;_r++ ){if(_r==0||_r==3||_r==5){_p=_b;}if(_r==1||_r==6){_p=_f;}if(_r==2||_r==4||_r==7){_p=_d;}if(_r<3){_q=_c;}else if(_r<5){_q=_g;}else{_q=_e;}this._border_elems[_r].setElementSize(_p,_q);}};_pFrameControlElement._setResizable=function(_a){this._resizable=_a;if(this._handle){if(this._border_elems.length==0){if(_a){this._createBorderElements();this._updateBorderElementsPosition();}else{return;}}var _b;if(nexacro.System.navigatorname=="nexacro"){_b=(this._is_window_element&&_a);}else{_b=(this._is_window_element&&_a);if(this._getWindowHandle()==nexacro._getMainWindowHandle()){_b=false;}}var _c=Array("nw","n","ne","w","e","sw","s","se");var _d=Array("topleft","top","topright","left","right","bottomleft","bottom","bottomright");for(var _g=0;_g<8;_g++ ){var _e=this._border_elems[_g];_e._is_track=_a;var _f;if(_a){_f=new nexacro.Style_value(_c[_g]+"-resize");}else{_f=new nexacro.Style_value("arrow");}if(_b){_e.setElementHittestType("resizingborder_"+_d[_g]);}else{_e.setElementHittestType("fixedborder");}_e.setElementCursor(_f);}}if(this._status_control){this._status_control._setResizable(_a);}};nexacro.FrameResizeBorderElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pFrameResizeBorderElement=nexacro._createPrototype(nexacro.SimpleControlElement,nexacro.FrameResizeBorderElement);nexacro.FrameResizeBorderElement.prototype=_pFrameResizeBorderElement;_pFrameResizeBorderElement._type_name="FrameResizeBorderElement";_pFrameResizeBorderElement._win_handle=null;_pFrameResizeBorderElement.create=function(){var _a;var _b;if(this._parent_elem==null){var _c=this.linkedcontrol._getWindow();_a=_c;_b=this._win_handle=_c._handle;this.left=0;this.top=0;this.width=0;this.height=0;}else{_a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement();_b=_a.getRootWindowHandle();}if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _d=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);_d._linked_element=this;var _e=_d.style;this._handle=this._dest_handle=_d;nexacro.__appendElementHandle(this._owner_elem._handle,_d);if(this.border||this.bordertype){this._setControlBorder(_d,this.border,this.bordertype);}if(this.background){this._setControlBackground(_d,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_d,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_d,this._hittest_type);}this._refreshForeground(_d);if(this._client_element){this._client_element.create();}}};_pFrameResizeBorderElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._win_handle=null;this._handle=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pFrameResizeBorderElement.getRootWindowHandle=function(){if(this._is_window_element){return this._win_handle;}else if(this._owner_elem){return this._owner_elem.getRootWindowHandle();}return null;};_pFrameResizeBorderElement._on_starttrack=function(){this.linkedcontrol._on_border_starttrack(this.cursor);};_pFrameResizeBorderElement._on_endtrack=function(_a,_b,_c){this.linkedcontrol._on_border_endtrack(_a,_b,_c);};_pFrameResizeBorderElement._on_movetrack=function(_a,_b,_c){this.linkedcontrol._on_border_movetrack(_a,_b,_c);};delete _pFrameResizeBorderElement;nexacro.ModalOverlayElement=function(_a){this._parent=_a;this._parent_elem=_a;};var _pModalOverlayElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.ModalOverlayElement);nexacro.ModalOverlayElement.prototype=_pModalOverlayElement;_pModalOverlayElement._type_name="ModalOverlayElement";_pModalOverlayElement.create=function(_a,_b,_c){if(this._parent_elem&&!this._handle){var _d=this.linkedcontrol._getWindow();this._win_handle=_d._handle;this.left=0;this.top=0;this.width=_d.clientWidth;this.height=_d.clientHeight;var _e=this._handle=this._dest_handle=nexacro.__createControlElementHandle(this,this._win_handle,this.left,this.top,this.width,this.height);_e._linked_element=this;var _f=_e.style;nexacro.__setElementHandleZindex(_e,_a);this.setElementColor(_b);var _d=this.linkedcontrol._getWindow();var _g=_d;if(_c){nexacro.__insertElementHandle(_g._handle,_e,_c);}else{nexacro.__appendElementHandle(_g._handle,_e);}this._refreshForeground(_e);}};_pModalOverlayElement.destroy=function(){if(!this._handle){return;}var _a=this.linkedcontrol._getWindow();var _b=_a;nexacro.__destroyElementHandle(_b._handle,this._handle);this._handle=null;};_pModalOverlayElement.setElementColor=function(_a){nexacro.__setElementHandleBackgroundColor(this._handle,_a?_a._syscolor:0);};_pModalOverlayElement.getContainerElement=function(){return this;};_pModalOverlayElement.getRootWindowHandle=function(){return this._win_handle;};delete _pModalOverlayElement;nexacro.ScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ScrollableContainerElement(this);this._client_element=_b;};var _pScrollableControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.ScrollableControlElement);nexacro.ScrollableControlElement.prototype=_pScrollableControlElement;_pScrollableControlElement._type_name="ScrollableControlElement";_pScrollableControlElement._zoomFactor=100;_pScrollableControlElement.scroll_left=0;_pScrollableControlElement.scroll_top=0;_pScrollableControlElement.container_maxwidth=0;_pScrollableControlElement.container_maxheight=0;_pScrollableControlElement._hscroll_visible=false;_pScrollableControlElement._vscroll_visible=false;_pScrollableControlElement._hscroll_height=0;_pScrollableControlElement._vscroll_width=0;_pScrollableControlElement._hscroll_left=0;_pScrollableControlElement._hscroll_top=0;_pScrollableControlElement._hscroll_width=0;_pScrollableControlElement._vscroll_left=0;_pScrollableControlElement._vscroll_top=0;_pScrollableControlElement._vscroll_height=0;_pScrollableControlElement.hscroll_limit=0;_pScrollableControlElement.vscroll_limit=0;_pScrollableControlElement._scroll_showtype= -1;_pScrollableControlElement._scrollview_width_top=0;_pScrollableControlElement._step_count=0;_pScrollableControlElement._step_index= -1;_pScrollableControlElement._init_left=0;_pScrollableControlElement._init_top=0;_pScrollableControlElement._init_width=0;_pScrollableControlElement._init_height=0;_pScrollableControlElement._hscroll_control=null;_pScrollableControlElement._vscroll_control=null;_pScrollableControlElement._resizebutton_element=null;_pScrollableControlElement._step_containers=null;_pScrollableControlElement._scroll_overlap=false;_pScrollableControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createScrollableControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);if(this._init_width>0||this._init_height>0){nexacro.__setElementHandleInitPosSize(_c,this._init_left,this._init_top,this._init_width,this._init_height);}if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}this._refreshForeground(_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}if(this._handle){var _d=this._step_count;if(_d>0){this._step_containers=[];for(var _f=0;_f<_d;_f++ ){var _e=new nexacro.ContainerElement(this._client_element);_e.setElementPosition(_f*this.client_width,0);_e.setElementSize(this.client_width,this.client_height);_e.create();this._step_containers.push(_e);}if(this._scroll_showtype>=0){this._updateClientSize();}}}}};_pScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;this._client_element.destroy();var _c=this._step_containers;if(_c){var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];_e.destroy();}this._step_containers=null;}this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pScrollableControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();var _a=this._step_containers;if(_a){var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];_c.destroy();}this._step_containers=null;}}};_pScrollableControlElement.getContainerElement=function(_a){var _b=this._step_count;var _c=this._step_index;var _d=this._step_containers;if(_b>0&&_d&&_b>_a){if(_a<0||_a==null){_a=(_c> -1?_c:0);}return _d[_a];}else{return this._client_element;}};_pScrollableControlElement.setElementStepCount=function(_a){if(this._step_count!=_a){var _b=this._step_count;var _c=this._step_containers;if(_c&&this._step_count){for(var _e=0;_e<_b;_e++ ){var _d=_c[_e];_d.destroy();}this._step_containers=null;}this._step_count=_a;if(this._handle&&_a>0){this._step_containers=[];for(var _e=0;_e<_a;_e++ ){var _d=new nexacro.ContainerElement(this._client_element);_d.setElementPosition(_e*this.client_width,0);_d.setElementSize(this.client_width,this.client_height);_d.create();this._step_containers.push(_d);}}if(this._scroll_showtype>=0){this._updateClientSize();}}};_pScrollableControlElement.setElementStepIndex=function(_a){if(this._step_index!=_a){if(this._step_count>0){if(_a> -1&&this._step_count>_a){this._step_index=_a;}}else{this._step_index=_a;}}};_pScrollableControlElement.getZoom=function(){return this._zoomFactor;};_pScrollableControlElement.setZoom=function(_a){var _b=this._handle;if(_b){if(_a<0){_a=0;}this._zoomFactor=_a;var _c=this.getContainerElement();nexacro.__setElementHandleScale(_c._handle,this._zoomFactor);this._updateClientSize();}};_pScrollableControlElement.setElementRtlDirection=function(_a){nexacro.Element.prototype.setElementRtlDirection.call(this,_a);var _b=this._step_count;var _c=this._step_containers;if(_c&&this._step_count){this.container_maxwidth=_b*this.client_width;for(var _e=0;_e<_b;_e++ ){var _d=_c[_e];_d.setElementPosition(_e*this.client_width,0,true);}this._client_element.setElementHScrollPos(this.client_width*this._step_index,true);}else if(this.parent instanceof nexacro.TextArea){}else{this._client_element.setElementHScrollPos(this._client_element._scroll_left,true);}};_pScrollableControlElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;this._updateClientSize();};_pScrollableControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this.padding;if(_e){_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}var _f=this._client_element;if(!_f||_c==0||_d==0){return;}var _g=this._zoomFactor/100;var _h=this._scroll_showtype;var _i=false;var _j=_c/_g;var _k=_d/_g;var _l=this.container_maxwidth;var _m=this.container_maxheight;var _n=this._vscroll_control;var _o=this._hscroll_control;var _p=this._vscroll_width;var _q=this._step_count;var _r=this._step_index;var _s=this._step_containers;if(_q>0&&_s){_i=true;}if(_h>0){var _t=false;var _u=false;var _v=0;var _w=0;if(_h==1){if(_n&&_m>_k){_u=true;_c-=_p;_j=_c/_g;_w=_m-_k;}if(_q>0&&_s){_l=_q*_j;}if(_o&&_l>_j){if(!_i){_t=true;_d-=this._hscroll_height;_k=_d/_g;}if(_n&&_m>_k){if(!_u){_u=true;_c-=_p;_j=_c/_g;}_w=_m-_k;}_v=_l-_j;}}else if(_h==2){if(_n){_u=true;_c-=_p;_j=_c/_g;_w=this.container_maxheight+this._hscroll_height-_k;}if(_q>0&&_s){_l=_q*_j;}if(_o){if(!_i){_t=true;_d-=this._hscroll_height;_k=_d/_g;}_v=_l-_j;}}else if(_h==31){if(_n){_u=true;_c-=_p;_j=_c/_g;_w=this.container_maxheight-_k;}if(_q>0&&_s){_l=_q*_j;}if(_o&&_l>_j){if(!_i){_t=true;_d-=this._hscroll_height;_k=_d/_g;}if(_n&&this.container_maxheight>_k){if(!_u){_u=true;_c-=_p;_j=_c/_g;}_w=this.container_maxheight-_k;}_v=_l-_j;}}else if(_h==32){if(_n&&this.container_maxheight>_k){_u=true;_c-=_p;_j=_c/_g;_w=this.container_maxheight+this._hscroll_height-_k;}if(_q>0&&_s){_l=_q*_j;}if(_o){if(!_i){_t=true;_d-=this._hscroll_height;_k=_d/_g;}_v=_l-_j;}}this.container_maxwidth=_l;var _x=false;var _y=false;if(this.hscroll_limit!=_v){_y=true;this.hscroll_limit=_v;}if(this.vscroll_limit!=_w){_x=true;this.vscroll_limit=_w;}var _z=false;var _aa=false;var _ab=false;var _ac=false;if(this.scroll_top>_w){_z=true;this.scroll_top=(_w>0)?_w:0;}if(this.scroll_left>_v){_aa=true;this.scroll_left=(_v>0)?_v:0;}if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_j||this.client_height!=_k||_f.width!=_j||_f.height!=_k){this.client_width=_c;this.client_height=_d;_f.setElementSize(_c,_d);if(_q>0&&_s){for(var _af=0;_af<_q;_af++ ){var _ad=_s[_af];_ad.setElementPosition(_j*_af,0);_ad.setElementSize(_c,_d);}var _ae=_c*_r;if(this.scroll_left!=_ae){_aa=true;this.scroll_left=_ae;}}}if(_aa){_f.setElementHScrollPos(this.scroll_left,true);}if(_z){_f.setElementVScrollPos(this.scroll_top);}if(_n){if(_n.parent.enable!=_n.enable){_ab=true;}if(_u){if(!this._vscroll_visible){this._vscroll_visible=true;_n.set_visible(true);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_x){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;_n._setScrollInfo(this._vscroll_left,_b,_p,this._vscroll_height,0,this.vscroll_limit,30,_d,_d,this.vscroll_limit>0?true:false,this.scroll_top);}else if(_z){_n._setScrollPos(this.scroll_top);}if(_ab){_n._setEnable(_n.parent.enable);}}else{if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_x){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;_n._setScrollInfo(this._vscroll_left-this._vscroll_width,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_k,_k,false,this.scroll_top);}else if(_z){_n._setScrollPos(this.scroll_top);}if(_ab){_n._setEnable(_n.parent.enable);}if(this._vscroll_visible){this._vscroll_visible=false;_n.set_visible(false);}}}if(_o){if(_o.parent.enable!=_o.enable){_ac=true;}if(_t){if(!this._hscroll_visible){this._hscroll_visible=true;_o.set_visible(true);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_y){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;_o._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_j,_j,this.hscroll_limit>0?true:false,this.scroll_left);}else if(_aa){_o._setScrollPos(this.scroll_left);}if(_ac){_o._setEnable(_o.parent.enable);}}else{if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_y){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;_o._setScrollInfo(_a,this._hscroll_top-this._hscroll_height,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_j,_j,false,this.scroll_left);}else if(_aa){_o._setScrollPos(this.scroll_left);}if(_ac){_o._setEnable(_o.parent.enable);}if(this._hscroll_visible){this._hscroll_visible=false;_o.set_visible(false);}}}}else{if(_q>0&&_s){_l=_q*this.client_width*_g/100;var _v=0;if(_l>_c){_v=_l-_c;}if(this.hscroll_limit!=_v){this.hscroll_limit=_v;}}if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b);}if(this.client_width!=_j||this.client_height!=_k||_f.width!=_j||_f.height!=_k){this.client_width=_c;this.client_height=_d;_f.setElementSize(_c,_d);if(_q>0&&_s&&_q>_r){for(var _af=0;_af<_q;_af++ ){var _ad=_s[_af];_ad.setElementPosition(_j*_af,0);_ad.setElementSize(_c,_d);}}}}};_pScrollableControlElement.appendChildElement=function(_a,_b){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _c=_a.getRootWindowHandle();var _d=this._client_element.getRootWindowHandle();if(_c!=_d){_a._parent_elem=this;_a._destroyElementHandle();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{var _e=this.getContainerElement(_a.position_step);if(_b===true){if(_a._handle&&_e._handle&&_a._owner_elem==null){_a._owner_elem=_e;nexacro.__appendElementHandle(_e._handle,_a._handle,_a);}}else{_a._appendToContainer(_e);}}}};_pScrollableControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pScrollableControlElement.sendToBackElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b.sendToBackElement(_a);};_pScrollableControlElement.bringToFrontElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b.bringToFrontElement(_a);};_pScrollableControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pScrollableControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pScrollableControlElement.bringToFrontUseZIndex=function(){var _a=this._parent_elem;if(_a){if(!this.visible){this.setElementVisible(true);}_a.bringToFrontElement(this);}};_pScrollableControlElement.sendToBackUseZIndex=function(){var _a=this._parent_elem;if(_a){if(!this.visible){this.setElementVisible(true);}_a.sendToBackElement(this);}};_pScrollableControlElement.setScrollControls=function(_a,_b,_c,_d,_e){var _f=false;if(this._scroll_showtype!=_e){this._scroll_showtype=_e;_f=true;}if(this._hscroll_control!=_a){if(_a){this._hscroll_visible=true;_a._is_nc_control=true;this._hscroll_control=_a;if(this._hscroll_height!=_c){this._hscroll_height=_c;_f=true;}}else{this._hscroll_control=null;if(this._hscroll_height){this._hscroll_height=0;_f=true;}this._hscroll_left=0;this._hscroll_top=0;this._hscroll_width=0;}}if(this._vscroll_control!=_b){if(_b){this._vscroll_visible=true;_b._is_nc_control=true;this._vscroll_control=_b;if(this._vscroll_width!=_d){this._vscroll_width=_d;_f=true;}}else{this._vscroll_control=null;if(this._vscroll_width){this._vscroll_width=0;_f=true;}this._vscroll_left=0;this._vscroll_top=0;this._vscroll_height=0;}}if(_f){this._updateClientSize();}};_pScrollableControlElement.setElementHScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(this.scroll_left!=_a||_b){this.scroll_left=_a;if(this._client_element){this._client_element.setElementHScrollPos(_a,_b);}if(this._hscroll_control){this._hscroll_control._setScrollPos(this.scroll_left);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._refreshForeground(this._handle);}}};_pScrollableControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}if(this.scroll_top!=_a){this.scroll_top=_a;if(this._client_element){this._client_element.setElementVScrollPos(_a);}if(this._vscroll_control){this._vscroll_control._setScrollPos(this.scroll_top);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._refreshForeground(this._handle);}}};_pScrollableControlElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}if(this.scroll_left!=_a||this.scroll_top!=_b){this.scroll_left=_a;this.scroll_top=_b;if(this._client_element){this._client_element.setElementScrollPos(_a,_b);}if(this._hscroll_control){this._hscroll_control._setScrollPos(this.scroll_left);}if(this._vscroll_control){this._vscroll_control._setScrollPos(this.scroll_top);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._refreshForeground(this._handle);}}};_pScrollableControlElement.setElementScrollMaxSize=function(_a,_b){if(this.container_maxwidth!=_a||this.container_maxheight!=_b){this.container_maxwidth=_a;this.container_maxheight=_b;if(this._scroll_showtype>=0){this._updateClientSize();}var _c=this._client_element;if(_c&&_c._handle){nexacro.__setElementHandleMaxSize(_c._handle,_a,_b);}return true;}return false;};_pScrollableControlElement.setElementScrollbarSize=function(_a,_b){if(this._vscroll_width!=_a||this._hscroll_height!=_b){this._vscroll_width=_a;this._hscroll_height=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};_pScrollableControlElement.setElementInitPosSize=function(_a,_b,_c,_d){this._init_left=_a;this._init_top=_b;this._init_width=_c;this._init_height=_d;var _e=this._handle;if(_e){nexacro.__setElementHandleInitPosSize(_e,left,top,_c,_d);}};delete _pControlElementBase;delete _pSimpleControlElement;delete _pControlElement;delete _pFrameControlElement;delete _pScrollableControlElement;nexacro.ContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pContainerElement=nexacro._createPrototype(nexacro.Element,nexacro.ContainerElement);nexacro.ContainerElement.prototype=_pContainerElement;_pContainerElement._type_name="ContainerElement";_pContainerElement.font=null;_pContainerElement.color=null;_pContainerElement._is_nc_element=true;_pContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createContainerElementHandle(this,_b,this.left,this.top,this.width,this.height);if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.font){var _d=this.font;nexacro.__setElementHandleFont(_c,_d.face,_d.size,_d._bold,_d._italic,_d._underline,_d._strikeout,_d._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pContainerElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;}this.parent=null;this._parent_elem=null;};_pContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){_a._linked_element=null;if(_b&&_b._handle){nexacro.__destroyElementHandle(_b._handle,_a);}this._owner_elem=null;this._handle=null;}};_pContainerElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this.parent_elem){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this.parent_elem;_a._removeFromContainer();}else{_a._parent_elem=this.parent_elem;}}else{_a._parent_elem=this.parent_elem;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pContainerElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pContainerElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pContainerElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pContainerElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pContainerElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pContainerElement.setElementFont=function(_a){this.font=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleFont(_b,_a.face,_a.size,_a._bold,_a._italic,_a._underline,_a._strikeout,_a._antialias);}};_pContainerElement.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleColor(_b,_a._syscolor);}};delete _pContainerElement;nexacro.ScrollableContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pScrollableContainerElement=nexacro._createPrototype(nexacro.ContainerElement,nexacro.ScrollableContainerElement);nexacro.ScrollableContainerElement.prototype=_pScrollableContainerElement;_pScrollableContainerElement._type_name="ScrollableContainerElement";_pScrollableContainerElement._scroll_left=0;_pScrollableContainerElement._scroll_top=0;_pScrollableContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createScrollableContainerElementHandle(this,_b,this.left,this.top,this.width,this.height);if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.font){var _d=this.font;nexacro.__setElementHandleFont(_c,_d.face,_d.size,_d._bold,_d._italic,_d._underline,_d._strikeout,_d._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setElementHandleOffset(_c,this._scroll_left,this._scroll_top);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pScrollableContainerElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;}this.parent=null;this._parent_elem=null;};_pScrollableContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){_a._linked_element=null;if(_b&&_b._handle){nexacro.__destroyElementHandle(_b._handle,_a);}this._owner_elem=null;this._handle=null;}};_pScrollableContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleVScrollPos(_b,_a);}}};_pScrollableContainerElement.setElementHScrollPos=function(_a,_b){if(this._scroll_left!=_a||this.parent._reset_scrollpos||this.parent._bChangeRtl||_b){this._scroll_left=_a;var _c=this._handle;if(_c){_a=nexacro.__convertScrollLeftByRtl(this,_a);nexacro.__setElementHandleHScrollPos(_c,_a);}}};_pScrollableContainerElement.setElementScrollPos=function(_a,_b){if(this._scroll_left!=_a||this._scroll_top!=_b||this.parent._reset_scrollpos){this._scroll_left=_a;this._scroll_top=_b;var _c=this._handle;if(_c){_a=nexacro.__convertScrollLeftByRtl(this,_a);nexacro.__setElementHandleOffset(_c,_a,_b);}}};_pScrollableContainerElement.getZoom=function(){return this._zoomFactor;};_pScrollableContainerElement.setZoom=function(_a){if(this._handle){this._zoomFactor=_a;nexacro.__setElementHandleScale(this._handle,_a);}};delete _pScrollableContainerElement;nexacro.PopupControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pPopupControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.PopupControlElement);nexacro.PopupControlElement.prototype=_pPopupControlElement;_pPopupControlElement._type_name="PopupControlElement";_pPopupControlElement._win_handle=null;_pPopupControlElement.create=function(_a){if(this._parent_elem==null){if(!this._handle){var _b=this.linkedcontrol;var _c=_b._getWindow();var _d=this._win_handle=_c._handle;var _e=_c;var _f=nexacro.__createControlElementHandle(this,_d,this.left,this.top,this.width,this.height);_b._unique_id=_b.parent._unique_id+'_'+_b.id;nexacro.__setElementHandleId(_f,_b._unique_id);this._handle=_f;if(_b._findOwnerElementHandle){var _g=_b._findOwnerElementHandle();if(_g.is_append){nexacro.__appendElementHandle(_g.owner_handle,_f);}else{nexacro.__insertElementHandle(_g.owner_handle,_f,_g.ref_handle);}}else{nexacro.__appendElementHandle(_d,_f);}if(this.border||this.bordertype){this._setControlBorder(_f,this.border,this.bordertype);}if(this.background){this._setControlBackground(_f,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_f,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_f,this._hittest_type);}this._refreshForeground(_f);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pPopupControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._win_handle=null;this._handle=null;this._client_element.destroy();}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pPopupControlElement.getRootWindowHandle=function(){return this._win_handle;};_pPopupControlElement.setElementPosition=function(_a,_b,_c){if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;var _d=this._handle;if(_d){var _e=this.parent;var _f=false;if(_e){_a=this._adjustRtlLayoutLeft(_a,this.width);}nexacro.__setElementHandlePosition(_d,_a,_b);}}};_pPopupControlElement._adjustRtlLayoutLeft=function(_a,_b){var _c=_a;var _d=this.parent.getMainframe();var _e=_d._control_element.client_width;if(this._isRtl()){_c=_e-_b-_a;}return _c;};_pPopupControlElement._isRtl=function(_a){var _b=this.parent._getRootComponent(this.parent);var _c=_b.getElement();if(_a){_c=this;}var _d=this._rtldirection;while(_c){if(_c._rtldirection&&_c._rtldirection!="inherit"){_d=_c._rtldirection;break;}_c=_c._parent_elem;}return _d=="rtl";};delete _pPopupControlElement;nexacro.PopupScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ScrollableContainerElement(this);this._client_element=_b;};var _pPopupScrollableControlElement=nexacro._createPrototype(nexacro.ScrollableControlElement,nexacro.PopupScrollableControlElement);nexacro.PopupScrollableControlElement.prototype=_pPopupScrollableControlElement;_pPopupScrollableControlElement._type_name="PopupScrollableControlElement";_pPopupScrollableControlElement._win_handle=null;_pPopupScrollableControlElement.create=function(_a){if(this._parent_elem==null){if(!this._handle){var _b=this.linkedcontrol;var _c=_b._getWindow();var _d=this._win_handle=_c._handle;var _e=_c;var _f=nexacro.__createScrollableControlElementHandle(this,_d,this.left,this.top,this.width,this.height);_b._unique_id=_b.parent._unique_id+'_'+_b.id;nexacro.__setElementHandleId(_f,_b._unique_id);this._handle=_f;if(_b._findOwnerElementHandle){var _g=_b._findOwnerElementHandle();if(_g.is_append){nexacro.__appendElementHandle(_g.owner_handle,_f);}else{nexacro.__insertElementHandle(_g.owner_handle,_f,_g.ref_handle);}}else{nexacro.__appendElementHandle(_d,_f);}if(this.border||this.bordertype){this._setControlBorder(_f,this.border,this.bordertype);}if(this.background){this._setControlBackground(_f,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_f,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_f,this._hittest_type);}this._refreshForeground(_f);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pPopupScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._win_handle=null;this._handle=null;this._client_element.destroy();this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pPopupScrollableControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pPopupScrollableControlElement.getRootWindowHandle=function(){return this._win_handle;};_pPopupScrollableControlElement.setElementPosition=function(_a,_b,_c){if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;var _d=this._handle;if(_d){var _e=this.parent;var _f=false;if(_e){_a=this._adjustRtlLayoutLeft(_a,this.width);}nexacro.__setElementHandlePosition(_d,_a,_b);}}};_pPopupScrollableControlElement._adjustRtlLayoutLeft=function(_a,_b){var _c=_a;var _d=this.parent.getMainframe();var _e=_d._control_element.width;if(this._isRtl()){_c=_e-_b-_a;}return _c;};delete _pPopupScrollableControlElement;nexacro.TextElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextElement=nexacro._createPrototype(nexacro.Element,nexacro.TextElement);nexacro.TextElement.prototype=_pTextElement;_pTextElement._type_name="TextElement";_pTextElement.font=null;_pTextElement.color=null;_pTextElement.align=null;_pTextElement.halign="";_pTextElement.valign="";_pTextElement.padding=null;_pTextElement.padding_left=0;_pTextElement.padding_top=0;_pTextElement.padding_right=0;_pTextElement.padding_bottom=0;_pTextElement.text="";_pTextElement.linespace=0;_pTextElement.letterspace=0;_pTextElement.wordwrap="none";_pTextElement.decoration="";_pTextElement._use_newline=true;_pTextElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createTextElementHandle(this,_b,this.left,this.top,this.width,this.height);if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.font){var _d=this.font;nexacro.__setElementHandleFont(_c,_d.face,_d.size,_d._bold,_d._italic,_d._underline,_d._strikeout,_d._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}if(this.align){var _e=this.align;nexacro.__setElementHandleAlign(_c,_e.halign,_e.valign);}else if(this.halign&&this.valign){nexacro.__setElementHandleAlign(_c,this.halign,this.valign);}if(this.padding){var _f=this.padding;nexacro.__setElementHandlePadding(_c,_f.left,_f.top,_f.right,_f.bottom);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setElementHandlePadding(_c,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.decoration){nexacro.__setElementHandleDecorateText(_c,this.decoration);}if(this.linespace>0){nexacro.__setElementHandleLineSpace(_c,this.linespace);}if(this.wordwrap!="none"){nexacro.__setElementHandleWordWrap(_c,this.wordwrap);}if(this.text){nexacro.__setElementHandleText(_c,this.text,this._use_newline,this.wordwrap);}var _g=nexacro._getTextSize(this.letterspace||this._getParentLetterSpace(),this.text,this.font,this._use_newline);nexacro.__setElementHandleSize(_c,_g[0],_g[1]);this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pTextElement.setElementFont=function(_a){this.font=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleFont(_b,_a.face,_a.size,_a._bold,_a._italic,_a._underline,_a._strikeout,_a._antialias);var _c=nexacro._getTextSize(this.letterspace||this._getParentLetterSpace(),this.text,this.font,this._use_newline);nexacro.__setElementHandleSize(_b,_c[0],_c[1]);}};_pTextElement.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleColor(_b,_a._syscolor);}};_pTextElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;var _b=this._handle;if(_b){nexacro.__setElementHandlePadding(_b,_a.left,_a.top,_a.right,_a.bottom);}};_pTextElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._handle;if(_e){nexacro.__setElementHandlePadding(_e,_a,_b,_c,_d);}};_pTextElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._handle;if(_b){nexacro.__setElementHandleAlign(_b,_a._halign,_a._valign);}};_pTextElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setElementHandleAlign(_d,_c,_b);}};_pTextElement.setElementText=function(_a){if(this.text!=_a){if(_a==null){this.text="";}else{this.text=_a.replace(/\r\n|\r|\n/g,"\r\n");}var _b=this._handle;if(_b){nexacro.__setElementHandleText(_b,this.text,this._use_newline,this.wordwrap);var _c=nexacro._getTextSize(this.letterspace||this._getParentLetterSpace(),this.text,this.font,this._use_newline);nexacro.__setElementHandleSize(_b,_c[0],_c[1]);}}};_pTextElement.setElementLetterSpace=function(_a){if(this.letterspace!=_a){this.letterspace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLetterSpace(_b,_a);}}};_pTextElement.setElementLineSpace=function(_a){if(this.linespace!=_a){this.linespace=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleLineSpace(_b,_a);}}};_pTextElement.setElementDecorateText=function(_a){if(this.decoration!=_a){this.decoration=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleDecorateText(_b,_a);}}};_pTextElement.setElementUseNewLine=function(_a){if(this._use_newline!=_a){this._use_newline=_a;var _b=this._cell_node;if(_b){if(this.wordwrap!="none"){return;}this.__setElementHandleText(cell_node,this.text,this._use_newline,this.wordwrap);}}};_pTextElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){this.wordwrap=_a;var _b=this._handle;if(_b){nexacro.__setElementHandleWordWrap(_b,this.wordwrap);}}};_pTextElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){var _d=this._owner_elem;var _e=false;if(_d){_a=this._adjustRtlLayoutLeft(_a,this.width);}nexacro.__setElementHandlePosition(_c,_a,_b);}}};delete _pTextElement;nexacro.PluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pPluginElement=nexacro._createPrototype(nexacro.Element,nexacro.PluginElement);nexacro.PluginElement.prototype=_pPluginElement;_pPluginElement._type_name="PluginElement";_pPluginElement._plugin_object=null;_pPluginElement.license="";_pPluginElement.lpkpath="";_pPluginElement.classid="";_pPluginElement.codebase="";_pPluginElement.code="";_pPluginElement.archive="";_pPluginElement.mimetype="";_pPluginElement.pluginsrc="";_pPluginElement.plugintype="";_pPluginElement.pluginpage="";_pPluginElement.pluginname="";_pPluginElement.windowed=false;_pPluginElement.popupstyle=false;_pPluginElement.adjustalpha=false;_pPluginElement.usepersistdata=false;_pPluginElement.enable=true;_pPluginElement.font=null;_pPluginElement.color=null;_pPluginElement.cursor=null;_pPluginElement.align=null;_pPluginElement.padding=null;_pPluginElement.color=null;_pPluginElement.component=null;_pPluginElement._params=null;_pPluginElement._events=null;_pPluginElement.create=function(){if(!this._handle){var _a=null;var _b=null;var _c=null;if(this._parent_elem){_b=this._parent_elem.getContainerElement(this.position_step);if(_b&&_b._handle){this._owner_elem=_b;_a=_b.getRootWindowHandle();}_c=this._parent_elem.linkedcontrol;}var _d=nexacro.__createPluginElementHandle(this,_a,this.left,this.top,this.width,this.height);if(this.classid){nexacro.__setPluginElementHandleClassId(_d,this.classid);}if(this.adjustalpha){nexacro.__setPluginElementHandleAdjustAlpha(_d,this.adjustalpha);}if(this.pluginname){nexacro.__setPluginElementHandlePluginName(_d,this.pluginname);}if(this.mimetype){nexacro.__setPluginElementHandleMIMEType(_d,this.mimetype);}if(this.pluginsrc){nexacro.__setPluginElementHandlePluginSrc(_d,this.pluginsrc);}if(this.pluginpage){nexacro.__setPluginElementHandlePluginPage(_d,this.pluginpage);}if(this.code){nexacro.__setPluginElementHandleCode(_d,this.code);}if(this.codebase){nexacro.__setPluginElementHandleCodebase(_d,this.codebase);}var _e=this._params;var _f=(_e?_e.length:0);for(var _l=0;_l<_f;_l++ ){nexacro.__setPluginElementHandleAttribute(_d,_e.get_id(_l),_e.get_item(_l));}if(this.mimetype&&this.classid==""){var _g=this._events;var _h=_g.length;for(var _l=0;_l<_h;_l++ ){this.addEventHandler(_g.get_id(_l),_g.get_item(_l));}}if(this.license||this.lpkpath){nexacro.__setPluginElementHandleLicense(_d,this.license,this.lpkpath);}if(!this.visible||(_c&&_c.visible==false)){nexacro.__setElementHandleVisible(_d,false);if(this.visible){this.visible=false;}}if(!this.enable||(_c&&_c.enable==false)){nexacro.__setElementHandleEnable(_d,false);if(this.enable){this.enable=false;}}if(this.windowed){nexacro.__setPluginElementHandleWindowed(_d,this.windowed);if(this.popupstyle){nexacro.__setPluginElementHandlePopupstyle(_d,this.popupstyle);}}if(this.letterspace){nexacro.__setElementHandleLetterSpace(_d,this.letterspace);}if(this.font){var _i=this.font;nexacro.__setElementHandleFont(_d,_i.face,_i.size,_i._bold,_i._italic,_i._underline,_i._strikeout,_i._antialias);}if(this.color){nexacro.__setElementHandleColor(_d,this.color._syscolor);}if(this.align){var _j=this.align;nexacro.__setElementHandleAlign(_d,_j.halign,_j.valign);}if(this.padding){var _k=this.padding;nexacro.__setElementHandlePadding(_d,_k.left,_k.top,_k.right,_k.bottom);}this._handle=_d;this.initEvent();if(_b&&_b._handle){nexacro.__appendElementHandle(_b._handle,_d);}nexacro.__createdPluginElementHandle(_d);this._plugin_object=new nexacro.PluginObject;if(this._plugin_object){this._plugin_object._handle=nexacro.__getPluginElementHandleObject(this._handle);}}};_pPluginElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,this._handle);}this._owner_elem=null;this._handle=null;}this.parent=null;this._parent_elem=null;var _c=this._params;if(_c){_c.destroy();this._params=null;}var _d=this._events;if(_d){_d.destroy();this._events=null;}var _e=this._plugin_object;if(_e){_e.destroy();this._plugin_object=null;}};_pPluginElement.initEvent=function(){if(this._handle){nexacro._observeWrapperEvent(this._handle,null,"on_plugin_event",this.on_plugin_event, -1,null);}};_pPluginElement.on_plugin_event=function(){var _a=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_a){var _b=arguments.length;if(_b>0){var _c=arguments[0];if(_a[_c]){var _d=_a[_c];if(_d){var _e;var _f=[];for(var _g=1,_e=0;_g<_b;_g++ ,_e++ ){_f[_e]=arguments[_g];}if(_d._firePluginEvent){_d._firePluginEvent.apply(_d,_f);}}}}}};_pPluginElement.on_update_position=function(){if(this._handle){nexacro.__updatePluginElementHandlePosition(this._handle);}};_pPluginElement.setElementFocus=function(){if(this._handle){nexacro.__setElementHandleFocus(this._handle);nexacro.__setLastFocusedElement(this);}};_pPluginElement.setElementPluginPosition=function(_a,_b){if(this._handle){this.setElementPosition(_a,_b);}};_pPluginElement.setElementLicense=function(_a){if(this.license!=_a){this.license=_a;}};_pPluginElement.setElementLicenseFile=function(_a){if(!this._handle&&this.lpkpath!=_a){this.lpkpath=_a;}};_pPluginElement.setElementMIMEType=function(_a){if(this.mimetype!=_a){this.mimetype=_a;}};_pPluginElement.setElementClassId=function(_a){if(this.classid!=_a){this.classid=_a;if(this._handle){nexacro.__setPluginElementHandleClassId(this._handle,this.classid);}}};_pPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;if(this._handle){nexacro.__setPluginElementHandleCodebase(this._handle,this.codebase);}}};_pPluginElement.setElementCode=function(_a){if(this.code!=_a){this.code=_a;}};_pPluginElement.setElementArchive=function(_a){if(this.archive!=_a){this.archive=_a;}};_pPluginElement.setElementAdjustAlpha=function(_a){if(this.adjustalpha!=_a){this.adjustalpha=_a;}};_pPluginElement.setElementUsePersistData=function(_a){if(this.usepersistdata!=_a){this.usepersistdata=_a;}};_pPluginElement.getElementData=function(){return this.data;};_pPluginElement.setElementData=function(_a){if(this.data!=_a){this.data=_a;}};_pPluginElement.getElementParam=function(_a){if(this._plugin_object){return this._plugin_object.getProperty(_a);}else{var _b=this._params;return _b.get_item(_a);}};_pPluginElement.setElementParam=function(_a,_b){if(this._plugin_object){if(_a&&_b){this._plugin_object.setProperty(_a,_b);}}else{var _c=this._params;if(_c.get_item(_a)){_c.set_item(_a,_b);}else{_c.add_item(_a,_b);}}};_pPluginElement.setElementPluginSrc=function(_a){if(this.pluginsrc!=_a){this.pluginsrc=_a;}};_pPluginElement.setElementPluginPage=function(_a){if(this.pluginpage!=_a){this.pluginpage=_a;}};_pPluginElement.setElementWindowed=function(_a){if(this.windowed!=_a){this.windowed=_a;if(this._handle){}}};_pPluginElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;if(this._handle){nexacro.__setElementHandleEnable(this._handle,_a);}}};_pPluginElement.setElementPluginVisible=function(_a){if(this._handle){nexacro.__setElementHandleVisible(this._handle,_a);}};_pPluginElement.setElementPopupStyle=function(_a){if(this.popupstyle!=_a){this.popupstyle=_a;}};_pPluginElement.setElementpluginname=function(_a){if(this.pluginname!=_a){this.pluginname=_a;}};_pPluginElement.callMethod=function(){if(arguments.length<1){return;}if(this._plugin_object){return this._plugin_object.callMethod.apply(this._plugin_object,arguments);}};_pPluginElement.getPluginObject=function(){if(this._plugin_object){return this._plugin_object;}return null;};_pPluginElement.install=function(){if(this._handle&&this.codebase){nexacro.__callPluginElementHandleInstall(this._handle);}};_pPluginElement.isInstalled=function(){if(this._handle){return nexacro.__getPluginElementHandleIsInstalled(this._handle);}return false;};_pPluginElement.isLoaded=function(){if(this._handle){return nexacro.__isPluginElementHandleLoaded(this._handle);}return false;};_pPluginElement.addEventHandler=function(name,callback){if(this._handle&&this.classid==""&&this.mimetype){var nameFromToStringRegex=/^function\s?([^\s(]*)/;var paramsFromToStringRegex=/\(\)|\(.+\)/;var params=callback.toString().match(paramsFromToStringRegex)[0];var eventValue=name+params;var callfunc;var parentFrame,parentFrame2;parentFrame=this.component.parent;if(parentFrame){callfunc="."+this.component.id+'["'+name+'"]; \n';callfunc+='if (eventFn) eventFn._firePluginEvent'+params+';';do{if(parentFrame instanceof nexacro.MainFrame){callfunc='var eventFn = application.mainframe'+callfunc;break;}if(parentFrame instanceof nexacro.ChildFrame){parentFrame2=parentFrame.parent;if(parentFrame2){if(parentFrame2._is_frameset||parentFrame2._frames){var frmidx;var frmlen=parentFrame2._frames.length;for(frmidx=0;frmidx<frmlen;frmidx++ ){if(parentFrame2._frames[frmidx]==parentFrame){callfunc='._frames['+frmidx+']'+callfunc;break;}}if(parentFrame._is_popup_frame){callfunc='var eventFn = application.mainframe'+callfunc;break;}}else if(parentFrame2 instanceof nexacro.MainFrame){callfunc='.frame'+callfunc;}else if(parentFrame2 instanceof nexacro.Form){callfunc='.'+parentFrame.id+callfunc;}}}if(parentFrame2._is_frameset){parentFrame2=parentFrame.parent;if(parentFrame2&&parentFrame2._frames){var frmidx;var frmlen=parentFrame2._frames.length;for(frmidx=0;frmidx<frmlen;frmidx++ ){if(parentFrame2._frames[frmidx]==parentFrame){callfunc='._frames['+frmidx+']'+callfunc;break;}}}}else if(parentFrame instanceof nexacro.Div){callfunc='.'+parentFrame.id+callfunc;}else if(parentFrame instanceof nexacro.Form){callfunc='.form'+callfunc;}parentFrame=parentFrame.parent;}while(parentFrame)}callfunc='callback = function'+params+'\n{\n'+callfunc+"\n}";nexacro.__appendGlobalScript(name,eval(callfunc));}else{this._events.add_item(name,callback);}};_pPluginElement.removeEventHandler=function(_a,_b){if(this._handle&&this.classid==""&&this.mimetype){nexacro.__removeGlobalScript(_a);}else{this._events.delete_item(_a);}};_pPluginElement.updateWindow=function(){if(this.windowed==true){nexacro.__updatePluginElementHandleWindow(this._handle);}};_pPluginElement.getProperty=_pPluginElement.getElementParam;_pPluginElement.setProperty=_pPluginElement.setElementParam;_pPluginElement.setElementPluginMIMEType=nexacro._emptyFn;_pPluginElement._setElementFocus=_pPluginElement.setElementFocus;delete _pPluginElement;nexacro.PluginObject=function(){};var _pPluginObject=nexacro._createPrototype(nexacro.Object,nexacro.PluginObject);nexacro.PluginObject.prototype=_pPluginObject;_pPluginObject._type_name="PluginObject";_pPluginObject._handle=null;_pPluginObject.getProperty=function(_a){if(this._handle){if(_a){var _b=nexacro.__getPluginObjectHandleAttribute(this._handle,_a);if(_b!=null&&typeof (_b)=="object"){var _c=new nexacro.PluginObject;_c._handle=_b;return _c;}return _b;}}};_pPluginObject.setProperty=function(_a,_b){if(this._handle){if(_a){nexacro.__setPluginObjectHandleAttribute(this._handle,_a,_b);}}};_pPluginObject.callMethod=function(){if(arguments.length<1){return;}if(this._handle){Array.prototype.unshift.call(arguments,this._handle);var _a=nexacro.__callPluginObjectHandleMethod.apply(nexacro,arguments);if(_a!=null&&typeof (_a)=="object"){var _b=new nexacro.PluginObject;_b._handle=_a;return _b;}return _a;}};_pPluginObject.callScriptMethod=function(){if(arguments.length<1){return;}if(this._handle){Array.prototype.unshift.call(arguments,this._handle);var _a=nexacro.__callPluginObjectHandleScriptMethod.apply(nexacro,arguments);if(_a!=null&&typeof (_a)=="object"){var _b=new nexacro.PluginObject;_b._handle=_a;return _b;}return _a;}};_pPluginObject.destroy=function(){if(this._handle){nexacro.__destroyPluginObjectHandle(this._handle);this._handle=null;}};delete _pPluginObject;nexacro.WebBrowserPluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pWebBrowserPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro.WebBrowserPluginElement);nexacro.WebBrowserPluginElement.prototype=_pWebBrowserPluginElement;_pWebBrowserPluginElement._type_name="WebBrowserPluginElement";_pWebBrowserPluginElement.windowed=true;_pWebBrowserPluginElement.classid="{8856F961-340A-11D0-A96B-00C04FD705A2}";_pWebBrowserPluginElement.pluginname="WebBrowser";_pWebBrowserPluginElement.src="";_pWebBrowserPluginElement.initEvent=function(){if(this._handle){nexacro._observeWrapperEvent(this._handle,null,"on_plugin_event",this.on_plugin_event);}};_pWebBrowserPluginElement.on_plugin_event=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_k){if(_a=="DocumentComplete"){var _l=this.getElementParam("LocationURL");if(_l==_c){_a="onloadcompleted";if(_k.on_load_handler){var _m=_k._getWindow();var _n=_m.getCurrentFocusPaths();var _o=_k;while(_o&&_o._is_nc_control){_o=_o.parent;}if(!_o){return;}var _p= -1;var _q=0;if(_n){_p=nexacro._indexOf(_n,_o);_q=_n.length;}if(_p<0&&_q>0){_n[_q-1].on_apply_custom_setfocus();}nexacro.__restorePluginElementHandleWindowFocus(this._handle);return _k.on_load_handler(_c);}}}else if(_a=="TitleChange"){_k.on_fire_onusernotify(_k,_b);}if(_k[_a]){var _r=_k[_a];if(_r){return _r._fireEvent(this,_b,_c,_d,_e,_f,_g,_h,_i,_j);}}}};_pWebBrowserPluginElement._getDoc=function(){return null;};_pWebBrowserPluginElement._setUrl=function(_a){if(this._plugin_object){this._setSharedVariablesToCookie(_a);this._plugin_object.callMethod("Navigate",_a);}};_pWebBrowserPluginElement._setGo=function(){if(this._plugin_object){this._plugin_object.callMethod("Refresh");}};_pWebBrowserPluginElement._setBack=function(){if(this._plugin_object){var _a=this._plugin_object.callMethod("GoBack");if(_a){return _a.toLowerCase()=="true"?true:false;}}};_pWebBrowserPluginElement._setForward=function(){if(this._plugin_object){var _a=this._plugin_object.callMethod("GoForward");if(_a){return _a.toLowerCase()=="true"?true:false;}}};_pWebBrowserPluginElement.getProperty=function(_a){if(this._plugin_object){if(_a=="window"){var _b=this._plugin_object.getProperty("document");if(_b){return _b.getProperty("parentWindow");}}return this._plugin_object.getProperty(_a);}else{var _c=this._params;return _c.get_item(_a);}};_pWebBrowserPluginElement.callMethod=function(){if(arguments.length<1){return;}if(this._plugin_object){return nexacro._pluginCallMethod(this,arguments);}};_pWebBrowserPluginElement._setSharedVariablesToCookie=function(_a){var _b=application._cookie_variables;var _c=0;if(_b){_c=_b.length;}var _d="";for(var _g=0;_g<_c;_g++ ){var _e=_b[_g];var _f=nexacro._getCookie(_e);_d+=(_e+'='+_f+';');}if(_c){nexacro._setSharedVariablesToCookie(_a,_d);}};delete _pWebBrowserPluginElement;nexacro.MediaPlayerPluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pMediaPlayerPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro.MediaPlayerPluginElement);nexacro.MediaPlayerPluginElement.prototype=_pMediaPlayerPluginElement;_pMediaPlayerPluginElement._type_name="MediaPlayerPluginElement";_pMediaPlayerPluginElement.windowed=true;_pMediaPlayerPluginElement.classid="{6bf52a52-394a-11d3-b153-00c04f79faa6}";_pMediaPlayerPluginElement.initEvent=function(){if(this._handle){nexacro._observeWrapperEvent(this._handle,null,"on_plugin_event",this.on_plugin_event);}};_pMediaPlayerPluginElement.on_plugin_event=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(_k){if(_a=="PlayStateChange"){var _l=null;if(_b==3){_l="play";}else if(_b==2){_l="pause";}else if(_b==1){_l="stop";}if(_l){_k._on_statuschanged(_l);}}else if(_a=="OpenStateChange"){var _m=this._plugin_object.getProperty("controls");if(_m){var _n=_m.getProperty("currentItem");if(_n){var _o=_n.getProperty("imagesourcewidth");var _p=_n.getProperty("imagesourceheight");var _q=_n.getProperty("duration");if(_o>0&&_p>0){_k.size=_o+" * "+_p;}else{_k.size="0 * 0";}_k.duration=_q>0?_q:0;_n.destroy();}_m.destroy();}}else if(_a=="PositionChange"){_k._on_currenttimechanged(_c);}else if(_a=="MediaError"){var _m=this._plugin_object.getProperty("error");if(_m){var _n=_m.getProperty("Item");var _r="error";var _s=_b;if(_n){_r=_n.getProperty("errorDescription");_s=_n.getProperty("errorCode");_n.destroy();}_m.destroy();_k._on_error("NativeError",_r,_s);}}if(_k[_a]){var _t=_k[_a];if(_t){return _t._fireEvent(this,_b,_c,_d,_e,_f,_g,_h,_i,_j);}}}};_pMediaPlayerPluginElement._setMediaMute=function(_a,_b){if(this._plugin_object){var _c=this._plugin_object.getProperty("settings");if(_c){_c.setProperty("mute",_b);_c.destroy();}}};_pMediaPlayerPluginElement._setMediaControl=function(_a,_b){if(this._plugin_object){var _c="none";if(_b==true){_c="full";}this._plugin_object.setProperty("uiMode",_c);}};_pMediaPlayerPluginElement._setMediaUrl=function(_a,_b){if(this._plugin_object){this._plugin_object.setProperty("url",_b);}};_pMediaPlayerPluginElement._setMediaCurrentTime=function(_a,_b){if(this._plugin_object){var _c=this._plugin_object.getProperty("controls");if(_c){_c.setProperty("currentPosition",_b);_c.destroy();}}};_pMediaPlayerPluginElement._setMediaLoop=function(_a,_b){if(this._plugin_object){var _c=this._plugin_object.getProperty("settings");if(_c){_c.callMethod("setMode","loop",_b);_c.destroy();}}};_pMediaPlayerPluginElement._setMediaAutoPlay=function(_a,_b){if(this._plugin_object){var _c=this._plugin_object.getProperty("settings");if(_c){_c.setProperty("autostart",_b);_c.destroy();}}};_pMediaPlayerPluginElement._setMediaVolume=function(_a,_b){if(this._plugin_object){var _c=this._plugin_object.getProperty("settings");if(_c){_c.setProperty("volume",_b);_c.destroy();}}};_pMediaPlayerPluginElement._setMediaEnable=function(_a,_b){if(this.enable!=_b){this.enable=_b;if(this._handle){nexacro.__setElementHandleEnable(this._handle,_b);}}};_pMediaPlayerPluginElement._setMediaAdjustAlpha=function(_a){this.adjustalpha=_a;if(this._handle){nexacro.__setPluginElementHandleAdjustAlpha(this._handle,this.adjustalpha);}};_pMediaPlayerPluginElement._play=function(){if(this._plugin_object){var _a=this._plugin_object.getProperty("controls");if(_a){_a.callMethod("play");_a.destroy();}}};_pMediaPlayerPluginElement._pause=function(){if(this._plugin_object){var _a=this._plugin_object.getProperty("controls");if(_a){_a.callMethod("pause");_a.destroy();}}};_pMediaPlayerPluginElement._rewind=function(){if(this._plugin_object){var _a=this._plugin_object.getProperty("controls");if(_a){_a.callMethod("fastReverse");_a.destroy();}}};_pMediaPlayerPluginElement._stop=function(){if(this._plugin_object){var _a=this._plugin_object.getProperty("controls");if(_a){_a.callMethod("stop");_a.destroy();}}};_pMediaPlayerPluginElement.destroy=function(){nexacro.PluginElement.prototype.destroy.call(this);};delete _pMediaPlayerPluginElement;nexacro.GoogleMapPluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pGoogleMapPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro.GoogleMapPluginElement);nexacro.GoogleMapPluginElement.prototype=_pGoogleMapPluginElement;_pGoogleMapPluginElement._type_name="GoogleMapElement";_pGoogleMapPluginElement.pluginname="GoogleMap";_pGoogleMapPluginElement.destroy=function(){nexacro.PluginElement.prototype.destroy.call(this);};_pGoogleMapPluginElement._setLoad=function(_a){if(this._plugin_object){this.callMethod("load",_a);}};_pGoogleMapPluginElement._setDestroy=function(_a){if(this._plugin_object){this.callMethod("destroy",_a);}};_pGoogleMapPluginElement._getAddress=function(_a){if(this._plugin_object){this.callMethod("getAddress",_a);}};_pGoogleMapPluginElement._getCoordinates=function(_a){if(this._plugin_object){this.callMethod("getCoordinates",_a);}};_pGoogleMapPluginElement._setRemove=function(_a){if(this._plugin_object){this.callMethod("removeItem",_a);}};_pGoogleMapPluginElement._setMarker=function(_a){if(this._plugin_object){this.callMethod("Marker",_a);}};_pGoogleMapPluginElement._setPolyline=function(_a){if(this._plugin_object){this.callMethod("Polyline",_a);}};_pGoogleMapPluginElement._setPolygon=function(_a){if(this._plugin_object){this.callMethod("Polygon",_a);}};_pGoogleMapPluginElement.initEvent=function(){if(this._handle){nexacro._observeWrapperEvent(this._handle,null,"on_plugin_event",this.on_plugin_event, -1,null);}};_pGoogleMapPluginElement.on_plugin_event=function(evt_id,args){var comp=(this._parent_elem?this._parent_elem.linkedcontrol:null);if(comp){var objArgs=eval("("+args+")");if(evt_id=="GoogleMap"){if(objArgs.eventid=="onload"){if(comp.on_load_handler){return comp.on_load_handler(objArgs.eventid,objArgs.centerlocation,objArgs.coordinates,objArgs.viewmode,objArgs.zoomlevel,objArgs.addresses);}}else if(objArgs.eventid=="onerror"){if(comp.on_error_handler){return comp.on_error_handler(objArgs.eventid,objArgs.errorcode,objArgs.errormsg);}}else if(objArgs.eventid=="onrecvsuccess"){if(comp.on_recvsuccess_handler){return comp.on_recvsuccess_handler(objArgs.eventid,objArgs.centerlocation,objArgs.coordinates,objArgs.viewmode,objArgs.zoomlevel,objArgs.addresses);}}else if(objArgs.eventid=="onclick"){if(comp.on_click_handler){return comp.on_click_handler(objArgs.eventid,objArgs.location);}}else if(objArgs.eventid=="ondrag"){if(comp.on_drag_handler){return comp.on_drag_handler(objArgs.eventid,objArgs.location);}}else if(objArgs.eventid=="onmapdragstart"){if(comp.on_mapdragstart_handler){return comp.on_mapdragstart_handler(objArgs.eventid,objArgs.location);}}else if(objArgs.eventid=="onmapdrag"){if(comp.on_mapdrag_handler){return comp.on_mapdrag_handler(objArgs.eventid,objArgs.location);}}else if(objArgs.eventid=="onmapdragend"){if(comp.on_mapdragend_handler){return comp.on_mapdragend_handler(objArgs.eventid,objArgs.location);}}}}};delete _pGoogleMapPluginElement;nexacro.CanvasElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pCanvasElement=nexacro._createPrototype(nexacro.Element,nexacro.CanvasElement);nexacro.CanvasElement.prototype=_pCanvasElement;_pCanvasElement._type_name="CanvasElement";_pCanvasElement.lineOffset=0.5;_pCanvasElement.scale=10;_pCanvasElement.half_scale=5;_pCanvasElement.scalex=0;_pCanvasElement.scaley=0;_pCanvasElement.fillStyle=null;_pCanvasElement.strokeColor="#000000";_pCanvasElement.lineCap='butt';_pCanvasElement.lineJoin='miter';_pCanvasElement.lineWidth=1;_pCanvasElement.miterLimit=10;_pCanvasElement.shadowColor=null;_pCanvasElement.shadowOffsetX=0;_pCanvasElement.shadowOffsetY=0;_pCanvasElement.shadowBlur=0;_pCanvasElement.font=null;_pCanvasElement.textAlign="left";_pCanvasElement.textBaseline=0;_pCanvasElement.globalAlpha=1;_pCanvasElement.globalCompositeOperation=1;_pCanvasElement._fillStyle_rgb="#000000";_pCanvasElement.strokeStyle_rgb="#000000";_pCanvasElement.shadowColor_rgb="#000000";_pCanvasElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){var _b=this._handle;if(!_b){this._owner_elem=_a;var _c=_a.getRootWindowHandle();_b=nexacro.__createCanvasElementHandle(this,_c,this.left,this.top,this.width,this.height);if(!this.font){this.font=new nexacro.Style_font("8px Arial");nexacro.__setCanvasElementHandleFont(_b,this.font.face,this.font.size,this.font._bold,this.font._italic,this.font._underline,this.font._strikeout,this.font._antialias);}if(!this.visible){nexacro.__setElementHandleVisible(_b,false);}this._handle=_b;nexacro.__appendElementHandle(_a._handle,_b);}}};_pCanvasElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;}this.parent=null;this._parent_elem=null;};_pCanvasElement.setElementFillStyle=function(_a){var _b=this._handle;if(_b&&_a){this.fillStyle=_a;if(_a instanceof nexacro.Style_color){nexacro.__setCanvasElementHandleFillColor(_b,nexacro._getWebColorFromXreColor(_a.value));}else{nexacro.__setCanvasFillGradation(_b,_a.style,_a._start_x,_a._start_y,nexacro._getWebColorFromXreColor(_a.start_color),_a._end_x,_a._end_y,nexacro._getWebColorFromXreColor(_a.end_color),_a._sysvalue);}}};_pCanvasElement.setElementFont=function(_a){if(!_a){return;}this.font=_a;var _b=this._handle;if(_b){nexacro.__setCanvasElementHandleFont(_b,_a.face,_a.size,_a._bold,_a._italic,_a._underline,_a._strikeout,_a._antialias);}};_pCanvasElement.setElementGlobalAlpha=function(_a){if(_a<0){_a=0;}if(_a>1){_a=1;}this.globalAlpha=_a;var _b=this._handle;if(_b){nexacro.__setCanvasElementHandleGlobalAlpha(_b,_a);}};_pCanvasElement.setElementGlobalCompositeOperation=function(_a){this.globalCompositeOperation=_a;var _b=this._handle;if(_b){nexacro.__setCanvasElementHandleGlobalCompositoperation(_b,_a);}};_pCanvasElement.setElementLineCap=function(_a){var _b=this._handle;if(_b){this.lineCap=_a;nexacro.__setCanvasElementHandleLineCap(_b,_a);}};_pCanvasElement.setElementLineJoin=function(_a){var _b=this._handle;if(_b){this.lineJoin=_a;nexacro.__setCanvasElementHandleLineJoin(_b,_a);}};_pCanvasElement.setElementLineWidth=function(_a){var _b=this._handle;if(_b&&isFinite(_a)){this.lineWidth=_a;this.lineOffset=Math.round(_a/2);nexacro.__setCanvasElementHandleLineWidth(_b,_a);}};_pCanvasElement.setElementMiterLimit=function(_a){var _b=this._handle;if(_b){this.miterLimit=_a;nexacro.__setCanvasElementHandleMiterLimit(_b,_a);}};_pCanvasElement.setElementShadowBlur=function(_a){var _b=this._handle;if(_b){this.shadowBlur=_a;nexacro.__setCanvasElementHandleShadowBlur(_b,_a);}};_pCanvasElement.setElementShadowColor=function(_a){var _b=this._handle;if(_b){this.shadowColor=_a;nexacro.__setCanvasElementHandleShadowColor(_b,nexacro._getWebColorFromXreColor(_a.value));}};_pCanvasElement.setElementShadowOffsetX=function(_a){var _b=this._handle;if(_b){this.shadowOffsetX=_a;nexacro.__setCanvasElementHandleShadowOffsetx(_b,_a);}};_pCanvasElement.setElementShadowOffsetY=function(_a){var _b=this._handle;if(_b){this.shadowOffsetY=_a;nexacro.__setCanvasElementHandleShadowOffsety(_b,_a);}};_pCanvasElement.setElementStrokeStyle=function(_a){var _b=this._handle;if(_b&&_a){this.strokeStyle=_a;nexacro.__setCanvasElementHandleStrokeColor(_b,nexacro._getWebColorFromXreColor(_a.value));}};_pCanvasElement.setElementTextAlign=function(_a){var _b=this._handle;if(_b){this.textAlign=_a;nexacro.__setCanvasElementHandleTextAlign(_b,_a);}};_pCanvasElement.setElementTextBaseline=function(_a){var _b=this._handle;if(_b){this.textBaseline=_a;nexacro.__setCanvasElementHandleTextBaseline(_b,_a);}};_pCanvasElement.arc=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__plotCanvasElementHandleArcPath(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.arcTo=function(_a,_b,_c,_d,_e){var _f=this._handle;if(_f){nexacro.__plotCanvasElementHandleArcToPath(_f,_a,_b,_c,_d,_e);}};_pCanvasElement.beginPath=function(){var _a=this._handle;if(_a){nexacro.__plotCanvasElementHandleBeginPath(_a);}};_pCanvasElement.bezierCurveTo=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__plotCanvasElementHandleBezierCurveToPath(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.clearRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__clearCanvasElementHandleRect(_e,_a,_b,_c,_d);}};_pCanvasElement.clip=function(){var _a=this._handle;if(_a){nexacro.__clipCanvasElementHandle(_a);}};_pCanvasElement.closePath=function(){var _a=this._handle;if(_a){nexacro.__plotCanvasElementHandleClosePath(_a);}};_pCanvasElement.createImageData=function(_a,_b){var _c=this._handle;if(_c){return nexacro.__createCanvasElementHandleImageData(_c,_a,_b);}};_pCanvasElement.drawImage=function(_a,_b,_c,_d,_e){var _f=this._handle;if(_f){var _g=_a.src;if(_g&&_g.substring(0,4).toLowerCase()=="url("){_g=_g.substring(5,_g.length-2);}if(_g&&!nexacro._isAbsolutePath(_g)){var _h=this._parent_elem._getElementBaseUrl();_g=nexacro._getImageLocation(_g);}nexacro.__drawCanvasElementHandleImage(_f,_g,_b,_c,_d,_e);}};_pCanvasElement.fill=function(){var _a=this._handle;if(_a){nexacro.__fillCanvasElementHandlePath(_a);}};_pCanvasElement.fillRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__fillCanvasElementHandleRect(_e,_a,_b,_c,_d);}};_pCanvasElement.fillText=function(_a,_b,_c,_d){var _e=this._handle;if(_e){var _f=this.font;if(_f){nexacro.__setCanvasElementHandleFont(_e,_f.face,_f.size,_f._bold,_f._italic,_f._underline,_f._strikeout,_f._antialias);}var _g=this.fillStyle;if(_g){nexacro.__setCanvasElementHandleFillColor(_e,nexacro._getWebColorFromXreColor(_g.value));}nexacro.__fillCanvasElementHandleText(_e,_a,_b,_c,_d);}};_pCanvasElement.getImageData=function(_a,_b,_c,_d){var _e=this._handle;if(_e){return nexacro.__getCanvasElementHandleImageData(_e,_a,_b,_c,_d);}};_pCanvasElement.isPointInPath=function(_a,_b){var _c=this._handle;if(_c){return nexacro.__isPointInCanvasElementHandlePath(_c,_a,_b);}};_pCanvasElement.lineTo=function(_a,_b){var _c=this._handle;if(_c){nexacro.__plotCanvasElementHandleLineToPath(_c,_a,_b);}};_pCanvasElement.moveTo=function(_a,_b){var _c=this._handle;if(_c){nexacro.__plotCanvasElementHandleMoveToPath(_c,_a,_b);}};_pCanvasElement.putImageData=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._handle;if(_h){nexacro.__putCanvasElementHandleImageData(_h,_a,_b,_c,_d,_e,_f,_g);}};_pCanvasElement.quadraticCurveTo=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__plotCanvasElementHandleQuadraticCurveToPath(_e,_a,_b,_c,_d);}};_pCanvasElement.rect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__plotCanvasElementHandleRectPath(_e,_a,_b,_c,_d);}};_pCanvasElement.rotate=function(_a){var _b=this._handle;if(_b){nexacro.__rotateCanvasElementHandle(_b,_a);}};_pCanvasElement.rotate2=function(_a){var _b=this._handle;if(_b){var _c=_a*Math.PI/180;nexacro.__rotateCanvasElementHandle(_b,_c);}};_pCanvasElement.scale=function(_a,_b){var _c=this._handle;this.scalex=_a;this.scaley=_b;if(_c){nexacro.__scaleCanvasElementHandle(_c,_a,_b);}};_pCanvasElement.setTransform=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__setCanvasElementHandleTransform(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.stroke=function(){var _a=this._handle;if(_a){nexacro.__strokeCanvasElementHandlePath(_a);}};_pCanvasElement.strokeRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__strokeCanvasElementHandleRect(_e,_a,_b,_c,_d);}};_pCanvasElement.strokeText=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__strokeCanvasElementHandleText(_e,_a,_b,_c,_d);}};_pCanvasElement.transform=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__transformCanvasElementHandle(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.translate=function(_a,_b){var _c=this._handle;if(_c){nexacro.__translateCanvasElementHandle(_c,_a,_b);}};_pCanvasElement.arc2=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){var _h=_d*Math.PI/180;var _i=_e*Math.PI/180;nexacro.__plotCanvasElementHandleArcPath(_g,_a,_b,_c,_h,_i,_f);}};_pCanvasElement.circle=function(_a,_b,_c){var _d=this._handle;if(_d){nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c,0,2*Math.PI,true);}};_pCanvasElement.drawStrokeArc=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){this.arc(_a,_b,_c,_d,_e,_f);nexacro.__strokeCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawStrokeArc2=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){this.arc2(_a,_b,_c,_d,_e,_f);nexacro.__strokeCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawStrokeCircle=function(_a,_b,_c){var _d=this._handle;if(_d){nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c,0,2*Math.PI,true);nexacro.__strokeCanvasElementHandlePath(_d);nexacro.__plotCanvasElementHandleBeginPath(_d);}};_pCanvasElement.drawStrokeHalfRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){this.halfRect(_a,_b,_c,_d);nexacro.__strokeCanvasElementHandlePath(_e);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.drawStrokeLine=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__plotCanvasElementHandleMoveToPath(_e,_a,_b);nexacro.__plotCanvasElementHandleLineToPath(_e,_c,_d);this.drawStroke();}};_pCanvasElement.drawStrokeVLine=function(_a,_b,_c){var _d=this._handle;if(_d){nexacro.__plotCanvasElementHandleMoveToPath(_d,_a,_b);nexacro.__plotCanvasElementHandleLineToPath(_d,_a,_c);this.drawStroke();}};_pCanvasElement.drawStrokeHLine=function(_a,_b,_c){var _d=this._handle;if(_d){nexacro.__plotCanvasElementHandleMoveToPath(_d,_b,_a);nexacro.__plotCanvasElementHandleLineToPath(_d,_c,_a);this.drawStroke();}};_pCanvasElement.drawStrokeInsetArc=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){var _h=this.lineOffset;_d=_d*(Math.PI/180);_e=_e*(Math.PI/180);nexacro.__plotCanvasElementHandleArcPath(_g,_a,_b,_c-_h,_d,_e,_f);nexacro.__strokeCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawStrokeInsetCircle=function(_a,_b,_c){var _d=this._handle;if(_d){var _e=this.lineOffset;nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c-_e,0,2*Math.PI,true);nexacro.__strokeCanvasElementHandlePath(_d);nexacro.__plotCanvasElementHandleBeginPath(_d);}};_pCanvasElement.drawStrokeInsetRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){this.insetRect(_a,_b,_c,_d);nexacro.__strokeCanvasElementHandlePath(_e);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.drawStrokeRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__plotCanvasElementHandleRectPath(_e,_a,_b,_c,_d);nexacro.__strokeCanvasElementHandlePath(_e);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.drawFillRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__plotCanvasElementHandleRectPath(_e,_a,_b,_c,_d);nexacro.__fillCanvasElementHandlePath(_e);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.drawFillText=function(_a,_b,_c,_d){var _e=this._handle;if(_e){var _f=this.font;if(_f){nexacro.__setCanvasElementHandleFont(_e,_f.face,_f.size,_f._bold,_f._italic,_f._underline,_f._strikeout,_f._antialias);}var _g=this.fillStyle;if(_g){nexacro.__setCanvasElementHandleFillColor(_e,nexacro._getWebColorFromXreColor(_g.value));}nexacro.__fillCanvasElementHandleText(_e,_a,_b,_c,_d);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.endDraw=function(){var _a=this._handle;if(_a){nexacro.__plotCanvasElementHandleBeginPath(_a);nexacro.__plotCanvasElementHandleClosePath(_a);}};_pCanvasElement.drawFill=function(){var _a=this._handle;if(_a){nexacro.__fillCanvasElementHandlePath(_a);nexacro.__plotCanvasElementHandleBeginPath(_a);}};_pCanvasElement.drawStroke=function(){var _a=this._handle;if(_a){nexacro.__strokeCanvasElementHandlePath(_a);nexacro.__plotCanvasElementHandleBeginPath(_a);}};_pCanvasElement.drawFillArc=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){this.arc(_a,_b,_c,_d,_e,_f);nexacro.__plotCanvasElementHandleClosePath(_g);nexacro.__fillCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawFillArc2=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){this.arc2(_a,_b,_c,_d,_e,_f);nexacro.__plotCanvasElementHandleClosePath(_g);nexacro.__fillCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawFillCircle=function(_a,_b,_c){var _d=this._handle;if(_d){nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c,0,2*Math.PI,true);nexacro.__fillCanvasElementHandlePath(_d);nexacro.__plotCanvasElementHandleBeginPath(_d);}};_pCanvasElement.halfRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__plotCanvasElementHandleMoveToPath(_e,_a,_b);nexacro.__plotCanvasElementHandleLineToPath(_e,_a,_b+_d);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_c,_b+_d);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_c,_b);}};_pCanvasElement.hline=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);};_pCanvasElement.vline=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);};_pCanvasElement.insetRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){if(_c==0||_d==0){return;}var _f=this.lineOffset;var _g=(_c>0)?_f: -_f;var _h=(_d>0)?_f: -_f;nexacro.__plotCanvasElementHandleMoveToPath(_e,_a+_g,_b+_h);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_g,_b+_d-_h);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_c-_g,_b+_d-_h);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_c-_g,_b+_h);nexacro.__plotCanvasElementHandleClosePath(_e);}};_pCanvasElement.save=function(){var _a=this._handle;if(_a){nexacro.__saveCanvasElementHandle(_a);}};_pCanvasElement.restore=function(){var _a=this._handle;if(_a){return nexacro.__restoreCanvasElementHandle(_a);}};_pCanvasElement.drawBorder=function(_a,_b,_c,_d,_e,_f){if(_e&&!_e._is_empty){if(_e._linecnt==1){if(_e.width&&_e.color!=""&&_e.color!="transparent"){var _g=new nexacro.Style_color(_e.color);this.setElementStrokeStyle(_g);this.setElementLineWidth(_e.width);this.drawStrokeInsetRect(_a,_b,_c,_d);}}else if(_e._linecnt==2){if(_e.top._isValid()){this._setLineStyle(_e.top);var _h=_e.top._width/2;this.moveTo(_a,_b+_h);this.lineTo(_a+_c,_b+_h);this.moveTo(_a,_b+_d-_h);this.lineTo(_a+_c,_b+_d-_h);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _h=_e.right._width/2;this.moveTo(_a+_c-_h,_b);this.lineTo(_a+_c-_h,_b+_d);this.moveTo(_a+_h,_b);this.lineTo(_a+_h,_b+_d);this.stroke();}}else if(_e._linecnt==3){if(_e.top._isValid()){this._setLineStyle(_e.top);var _h=_e.top._width/2;this.moveTo(_a,_b+_h);this.lineTo(_a+_c,_b+_h);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _h=_e.right._width/2;this.moveTo(_a+_c-_h,_b);this.lineTo(_a+_c-_h,_b+_d);this.moveTo(_a+_h,_b);this.lineTo(_a+_h,_b+_d);this.stroke();}if(_e.bottom._isValid()){this._setLineStyle(_e.bottom);var _h=_e.bottom._width/2;this.moveTo(_a,_b+_c-_h);this.lineTo(_a+_c,_b+_c-_h);this.stroke();}}else{if(_e.top._isValid()){this._setLineStyle(_e.top);var _h=_e.top._width/2;this.moveTo(_a,_b+_h);this.lineTo(_a+_c,_b+_h);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _h=_e.right._width/2;this.moveTo(_a+_c-_h,_b);this.lineTo(_a+_c-_h,_b+_d);this.stroke();}if(_e.bottom._isValid()){this._setLineStyle(_e.bottom);var _h=_e.bottom._width/2;this.moveTo(_a,_b+_c-_h);this.lineTo(_a+_c,_b+_c-_h);this.stroke();}if(_e.left._isValid()){this._setLineStyle(_e.left);var _h=_e.left._width/2;this.moveTo(_a+_h,_b);this.lineTo(_a+_h,_b+_d);this.stroke();}}}};_pCanvasElement.toDataURL=function(){};_pCanvasElement._setLineStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._setPenStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._moveCanvas=function(_a,_b,_c,_d){this.left=_a||0;this.top=_b||0;this.width=_c||0;this.height=_d||0;var _e=this._handle;if(_e){nexacro.__setElementHandleSize(_e,_c,_d);nexacro.__setElementHandlePosition(_e,_a,_b);}};_pCanvasElement=null;nexacro.GridScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;this._target_vscroll_elements=null;this._target_hscroll_elements=null;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pGridScrollableControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.GridScrollableControlElement);nexacro.GridScrollableControlElement.prototype=_pGridScrollableControlElement;_pGridScrollableControlElement._type_name="GridScrollableControlElement";_pGridScrollableControlElement.scroll_left=0;_pGridScrollableControlElement.scroll_top=0;_pGridScrollableControlElement.container_maxwidth=0;_pGridScrollableControlElement.container_maxheight=0;_pGridScrollableControlElement._hscroll_visible=false;_pGridScrollableControlElement._vscroll_visible=false;_pGridScrollableControlElement._hscroll_height=0;_pGridScrollableControlElement._vscroll_width=0;_pGridScrollableControlElement._hscroll_left=0;_pGridScrollableControlElement._hscroll_top=0;_pGridScrollableControlElement._hscroll_width=0;_pGridScrollableControlElement._vscroll_left=0;_pGridScrollableControlElement._vscroll_top=0;_pGridScrollableControlElement._vscroll_height=0;_pGridScrollableControlElement.hscroll_limit=0;_pGridScrollableControlElement.vscroll_limit=0;_pGridScrollableControlElement._scroll_showtype= -1;_pGridScrollableControlElement._scrollview_width_top=0;_pGridScrollableControlElement._hscroll_control=null;_pGridScrollableControlElement._vscroll_control=null;_pGridScrollableControlElement._resizebutton_element=null;_pGridScrollableControlElement._scroll_overlap=false;_pGridScrollableControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}this._refreshForeground(_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pGridScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;this._client_element.destroy();this.linkedcontrol=null;this._target_vscroll_elements=null;this._target_hscroll_elements=null;this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pGridScrollableControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pGridScrollableControlElement.getContainerElement=function(){return this._client_element;};_pGridScrollableControlElement.setVertScrollElements=function(_a){this._target_vscroll_elements=_a;};_pGridScrollableControlElement.setHorzScrollElements=function(_a){this._target_hscroll_elements=_a;};_pGridScrollableControlElement.setContainerVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementVScrollPos(_a);}}else{_b.setElementVScrollPos(_a);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._refreshForeground(this._handle);}}};_pGridScrollableControlElement.setContainerHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementHScrollPos(_a);}}else{_b.setElementHScrollPos(_a);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._refreshForeground(this._handle);}}};_pGridScrollableControlElement.setContainerMaxHeight=function(_a){var _b=this._target_vscroll_elements;if(_b){this.container_maxheight=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxHeight(_a);}}else{_b._setContainerMaxHeight(_a);}}};_pGridScrollableControlElement.setContainerMaxWidth=function(_a){var _b=this._target_hscroll_elements;if(_b){this.container_maxwidth=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxWidth(_a);}}else{_b._setContainerMaxWidth(_a);}}};_pGridScrollableControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this._client_element;if(this._scroll_showtype>0){var _f=this._target_vscroll_elements,_g=_f,_h=this._target_hscroll_elements,_i=_h;if(nexacro._isArray(_f)){_g=_f[0];}if(nexacro._isArray(_h)){_i=_h[0];}var _j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;var _k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;var _l=(_g)?_g._getContainerMaxHeight():0;var _m=(_i)?_i._getContainerMaxWidth():0;var _n=(_i)?_i._getScrollLeft():0;var _o=(_g)?_g._getScrollTop():0;var _p=false;var _q=false;var _r=0;var _s=0;var _t=this._step_count;var _u=false;var _v=this._scroll_showtype;if(_v==1){if(this._vscroll_control&&_l>_j){_q=true;_c-=this._vscroll_width;_s=_l-_j;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control&&_m>_k){_p=true;_d-=this._hscroll_height;_j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;if(this._vscroll_control&&_l>_j){if(!_q){_q=true;_c-=this._vscroll_width;_k-=this._vscroll_width;}_s=_l-_j;}_r=_m-_k;}}else if(_v==2){if(this._vscroll_control){_q=true;_c-=this._vscroll_width;_s=_l+this._hscroll_height-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control){if(!_u){_p=true;_d-=this._hscroll_height;}_r=_m-_k;}}else if(_v==31){if(this._vscroll_control){_q=true;_c-=this._vscroll_width;_s=_l-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control&&_m>_k){_p=true;_d-=this._hscroll_height;_j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;if(this._vscroll_control&&_l>_j){if(!_q){_q=true;_c-=this._vscroll_width;_k=(_i)?_i._calculateClientWidth( -this._vscroll_width): -this._vscroll_width;}_s=_l-_j;}_r=_m-_k;}}else if(_v==32){if(this._vscroll_control&&_l>_j){_q=true;_c-=this._vscroll_width;_s=_l+this._hscroll_height-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control){if(!_u){_p=true;_d-=this._hscroll_height;}_r=_m-_k;}}if(_r<0){_r=0;}if(_s<0){_s=0;}var _w=false;var _x=false;if(this.hscroll_limit!=_r){_x=true;this.hscroll_limit=_r;}if(this.vscroll_limit!=_s){_w=true;this.vscroll_limit=_s;}var _y=false;var _z=false;var _aa=false;var _ab=false;if(_o>_s){_y=true;_o=_s;}if(_n>_r){_z=true;_n=_r;}if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_e.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_e.setElementSize(_c,_d);}if(_z){this.setElementHScrollPos(_n);}if(_y){this.setElementVScrollPos(_o);}if(this._vscroll_control){if(this._vscroll_control.parent.enable!=this._vscroll_control.enable){_aa=true;}if(_q){if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_w){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,true,_o);}else{this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,true,_o);if(_y){this._vscroll_control._setScrollPos(_o);}}if(_aa){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}if(!this._vscroll_visible){this._vscroll_visible=true;this._vscroll_control.set_visible(true);}}else{if(this._vscroll_visible){this._vscroll_visible=false;this._vscroll_control.set_visible(false);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_w){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,false,_o);}else if(_y){this._vscroll_control._setScrollPos(_o);}if(_aa){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}}}if(this._hscroll_control){if(this._hscroll_control.parent.enable!=this._hscroll_control.enable){_ab=true;}if(_p){if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_x){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_k,_k,true,_n);}else if(_z){this._hscroll_control._setScrollPos(_n);}if(_ab){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}if(!this._hscroll_visible){this._hscroll_visible=true;this._hscroll_control.set_visible(true);}}else{if(this._hscroll_visible){this._hscroll_visible=false;this._hscroll_control.set_visible(false);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_x){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_k,_k,false,_n);}else if(_z){this._hscroll_control._setScrollPos(_n);}if(_ab){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}}}}else{if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_e.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_e.setElementSize(_c,_d);}}};_pGridScrollableControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._destroyElementHandle();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pGridScrollableControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pGridScrollableControlElement.sendToBackElement=function(_a){this._client_element.sendToBackElement(_a);};_pGridScrollableControlElement.bringToFrontElement=function(_a){this._client_element.bringToFrontElement(_a);};_pGridScrollableControlElement.moveToNextElement=function(_a,_b){this._client_element.moveToNextElement(_a,_b);};_pGridScrollableControlElement.moveToPrevElement=function(_a,_b){this._client_element.moveToPrevElement(_a,_b);};_pGridScrollableControlElement.setScrollControls=function(_a,_b,_c,_d,_e){var _f=false;if(this._scroll_showtype!=_e){this._scroll_showtype=_e;_f=true;}if(this._hscroll_control!=_a){if(_a){this._hscroll_visible=true;_a._is_nc_control=true;this._hscroll_control=_a;if(this._hscroll_height!=_c){this._hscroll_height=_c;_f=true;}}else{this._hscroll_control=null;if(this._hscroll_height){this._hscroll_height=0;_f=true;}this._hscroll_left=0;this._hscroll_top=0;this._hscroll_width=0;}}if(this._vscroll_control!=_b){if(_b){this._vscroll_visible=true;_b._is_nc_control=true;this._vscroll_control=_b;if(this._vscroll_width!=_d){this._vscroll_width=_d;_f=true;}}else{this._vscroll_control=null;if(this._vscroll_width){this._vscroll_width=0;_f=true;}this._vscroll_left=0;this._vscroll_top=0;this._vscroll_height=0;}}if(_f){this._updateClientSize();}};_pGridScrollableControlElement._arrangeBandOrder=nexacro._emptyFn;_pGridScrollableControlElement.setElementHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _c=_b._getScrollLeft();if(_c!=_a||this._reset_scrollpos){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control){this._hscroll_control._setScrollPos(_a);}}}};_pGridScrollableControlElement.setElementVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}var _c=_b._getScrollTop();this.scroll_top=_a;if(_c!=_a||this._reset_scrollpos){this.linkedcontrol._scroll_top=_a;this.setContainerVScrollPos(_a);if(this._vscroll_control&&!this._vscroll_control._no_set_scrollinfo){this._vscroll_control._setScrollPos(_a);}}}};_pGridScrollableControlElement.setElementScrollPos=function(_a,_b){var _c=this._target_vscroll_element;var _d=this._target_hscroll_element;if(_d){if(nexacro._isArray(_d)){_d=_d[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _e=_d._getScrollLeft();if(_e!=_a){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control&&!this._hscroll_control._no_set_scrollinfo){this._hscroll_control._setScrollPos(_a);}}}if(_c){if(nexacro._isArray(_c)){_c=_c[0];}if(_b<0){_b=0;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}var _f=_c._getScrollTop();if(_f!=_b){this.scroll_top=_b;this.linkedcontrol._scroll_top=_b;this.setContainerVScrollPos(_b);if(this._vscroll_control&&!this._vscroll_control._no_set_scrollinfo){this._vscroll_control._setScrollPos(_b);}}}};_pGridScrollableControlElement._setInnerElementScrollMaxSize=nexacro._emptyFn;_pGridScrollableControlElement.setElementScrollMaxSize=function(_a,_b){var _c=this._target_vscroll_elements;if(nexacro._isArray(_c)){_c=_c[0];}var _d=this._target_hscroll_elements;if(nexacro._isArray(_d)){_d=_d[0];}var _e=(_c)?_c._getContainerMaxHeight():0;var _f=(_d)?_d._getContainerMaxWidth():0;var _g=false;if(_f!=_a||_e!=_b){if(_e!=_b){this.setContainerMaxHeight(_b);}if(_f!=_a){this.setContainerMaxWidth(_a);}_g=true;}if(_c&&this._scroll_showtype>=0){this._updateClientSize();}return _g;};_pGridScrollableControlElement.setElementScrollMaxHeight=function(_a,_b){var _c=this._target_hscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}var _d=_c._getContainerMaxWidth();if(_d!=_a){if(_d!=_a){this.setContainerMaxWidth(_a);}if(_b&&this._scroll_showtype>=0){this._updateClientSize();}return true;}}return false;};_pGridScrollableControlElement._setScrollMaxHeight=function(_a,_b){var _c=this._target_vscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}var _d=_c._getContainerMaxHeight();if(_d!=_a){if(_d!=_a){this.setContainerMaxHeight(_a);}if(_b&&this._scroll_showtype>=0){this._updateClientSize();}return true;}}return false;};_pGridScrollableControlElement.setElementScrollbarSize=function(_a,_b){if(this._vscroll_width!=_a||this._hscroll_height!=_b){this._vscroll_width=_a;this._hscroll_height=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};delete _pGridScrollableControlElement;nexacro.GridBandControlElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this._type=_b;this._client_element=new nexacro.GridBandContainerElement(this);this._client_element_fix=null;this._fix_height=0;this.container_maxwidth=0;this.container_maxheight=0;};var _pGridBandControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridBandControlElement);nexacro.GridBandControlElement.prototype=_pGridBandControlElement;_pGridBandControlElement._type_name="GridBandControlElement";_pGridBandControlElement.scroll_left=0;_pGridBandControlElement.scroll_top=0;_pGridBandControlElement.create=function(){nexacro.ControlElement.prototype.create.call(this);if(this._client_element_fix){this._client_element_fix.create();}};_pGridBandControlElement.destroy=function(){if(this._client_element_fix){this._client_element_fix.destroy();this._client_element_fix=null;}return nexacro.ControlElement.prototype.destroy.call(this);};_pGridBandControlElement._setFixArea=function(_a){this._fix_height=_a;if(!this._client_element_fix){this._client_element_fix=new nexacro.GridBandContainerElement(this,true);}if(this._handle&&!this._client_element_fix._handle){this._client_element_fix.create();}this._updateClientSize();};_pGridBandControlElement.getContainerElement=function(_a){if(_a){return this._client_element_fix;}return this._client_element;};_pGridBandControlElement._setContainerMaxHeight=function(_a){if(this._type=="body"){if(this.container_maxheight!=_a){this.container_maxheight=_a;}}};_pGridBandControlElement._resetExtendContainer=function(){};_pGridBandControlElement._calculateClientHeight=function(_a){var _b=this.client_height+_a+((this.border)?this.border._getBorderHeight():0);return _b;};_pGridBandControlElement.setElementBorder=function(_a,_b){this.border=_a;this.bordertype=_b;this._setControlBorder(this._handle,_a,_b,true);this._updateClientSize();this._client_element._adjustPos();};_pGridBandControlElement._getContainerMaxHeight=function(){if(this._type=="body"){return this.container_maxheight;}else{return this.client_height;}};_pGridBandControlElement._getScrollLeft=function(){return this.scroll_left;};_pGridBandControlElement._getScrollTop=function(){if(this._type=="body"){return this.scroll_top;}else{return 0;}};_pGridBandControlElement._updateClientSize=function(){var _a=0;var _b=0;var _c=this._inner_width;var _d=this._inner_height;var _e=this.border;if(_e&&!_e._is_real_empty()){_c+=_e._getBorderWidth();_d+=_e._getBorderHeight();}var _f=this._fix_height;_b+=_f;_d-=_f;var _g=this._client_element_fix;if(_g){_g.setElementPosition(_a,0,this._bChangeRtl);_g.setElementSize(_c,_f);}var _h=this._client_element;if(_h){if(this.client_left!=_a||this.client_top!=_b||this._bChangeRtl){this.client_left=_a;this.client_top=_b;_h.setElementPosition(_a,_b,this._bChangeRtl);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_h.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridBandControlElement.setElementVScrollPos=function(_a){if(this._type=="body"){this._client_element.setElementVScrollPos(_a);this.scroll_top=_a;}};_pGridBandControlElement._setOnScrollCallbackFunc=function(_a,_b){if(this._type=="body"){this._client_element._callback_onscroll=_b;this._client_element._grid=_a;}};_pGridBandControlElement._getExtendContainerCount=function(){return 0;};delete _pGridBandControlElement;nexacro.GridBandContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;this._callback_onscroll=null;};var _pGridBandContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.GridBandContainerElement);nexacro.GridBandContainerElement.prototype=_pGridBandContainerElement;_pGridBandContainerElement._type_name="GridBandContainerElement";_pGridBandContainerElement._container_maxwidth=0;_pGridBandContainerElement._container_maxheight=0;_pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;if(!this.parent._no_setscroll){var _b=this._handle;if(_b){nexacro.__setElementHandleVScrollPos(_b,_a);if(this._callback_onscroll){this._callback_onscroll.call(this._grid);}}}}};_pGridBandContainerElement._adjustPos=function(){nexacro.__setElementHandleBackgroundColor(this._handle,0);this.setElementPosition(this.left,this.top);};_pGridBandContainerElement.setElementPosition=function(_a,_b){var _c=this.parent.border;this.left=_a;this.top=_b;var _d=this._handle;if(_d){if(_c){_a=_a-_c._left_width;_b=_b-_c._top_width;}var _e=this._owner_elem;var _f=false;if(_e){_a=this._adjustRtlLayoutLeft(_a,this.width);}nexacro.__setElementHandlePosition(_d,_a,_b);}};_pGridBandContainerElement.create=function(){var _a=nexacro.ScrollableContainerElement.prototype.create.call(this);this._adjustPos();return _a;};delete _pGridBandContainerElement;nexacro.GridRowControlElement=function(_a){this.parent=_a;this._parent_elem=_a;this._client_left_element=null;this._client_body_element=new nexacro.GridAreaContainerElement(this,"body");this._client_right_element=null;this._left_width=0;this._right_width=0;this._body_width=0;this._body_scroll_maxwidth=0;this.scroll_left=0;};var _pGridRowControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridRowControlElement);nexacro.GridRowControlElement.prototype=_pGridRowControlElement;_pGridRowControlElement._type_name="GridRowControlElement";_pGridRowControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.linkedcontrol._fixed);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}this._refreshForeground(_c);}if(this._handle){if(!this._client_body_element._handle){this._client_body_element.create();}if(this._client_left_element&&!this._client_left_element._handle){this._client_left_element.create();}if(this._client_right_element&&!this._client_right_element._handle){this._client_right_element.create();}this._client_element=this._client_body_element;}}};_pGridRowControlElement.destroy=function(){var _a=this._handle;if(_a){var _b=null;if(this._owner_elem&&this._owner_elem._handle){_b=this._owner_elem._handle;}if(!this._owner_elem||_b){nexacro.__destroyElementHandle(_b,_a);}this._owner_elem=null;this._handle=null;this._client_body_element.destroy();if(this._client_left_element){this._client_left_element.destroy();}if(this._client_right_element){this._client_right_element.destroy();}this._client_body_element=null;this._client_left_element=null;this._client_right_element=null;this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pGridRowControlElement.clearContents=function(){if(this._handle){this._client_body_element.clearContents();if(this._client_left_element){this._client_left_element.clearContents();}if(this._client_right_element){this._client_right_element.clearContents();}}};_pGridRowControlElement.getContainerElement=function(_a){if(_a=="left"){return this._client_left_element;}else if(_a=="right"){return this._client_right_element;}return this._client_body_element;};_pGridRowControlElement.setArea=function(_a,_b){if(_a>0&&!this._client_left_element){this._client_left_element=new nexacro.GridAreaContainerElement(this,"left");}if(_b>0&&!this._client_right_element){this._client_right_element=new nexacro.GridAreaContainerElement(this,"right");}this._left_width=_a;if(this._client_left_element){this._client_left_element.setElementPosition(this.client_left,this.client_top,this._bChangeRtl||this._isRtl());this._client_left_element.setElementSize(_a,this.client_height);}this._right_width=_b;if(this._client_right_element){this._client_right_element.setElementPosition(this.client_width-_b,this.client_top,this._bChangeRtl||this._isRtl());this._client_right_element.setElementSize(_b,this.client_height);}this._body_width=this.client_width-_a-_b;this._client_body_element.setElementPosition(_a,this.client_top,this._bChangeRtl||this._isRtl());this._client_body_element.setElementSize(this._body_width,this.height);};_pGridRowControlElement._updateClientSize=function(){this.client_left=this._inner_left;this.client_top=this._inner_top;this.client_width=this._inner_width;this.client_height=this._inner_height;this.setArea(this._left_width,this._right_width);};_pGridRowControlElement._setContainerMaxWidth=function(_a){if(this._body_scroll_maxwidth!=_a){this._body_scroll_maxwidth=_a;}};_pGridRowControlElement._calculateClientWidth=function(_a){var _b=this._body_width+_a;return _b;};_pGridRowControlElement._getContainerMaxWidth=function(){return this._body_scroll_maxwidth;};_pGridRowControlElement._getScrollLeft=function(){return this.scroll_left;};_pGridRowControlElement.setElementHScrollPos=function(_a){this._client_body_element.setElementHScrollPos(_a);this.scroll_left=_a;};_pGridRowControlElement.setElementRtlDirection=function(_a){nexacro.Element.prototype.setElementRtlDirection.call(this,_a);this._bChangeRtl=true;this._updateClientSize();this._bChangeRtl=false;};delete _pGridRowControlElement;nexacro.GridAreaContainerElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this._areatype=_b;};var _pGridAreaContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.GridAreaContainerElement);nexacro.GridAreaContainerElement.prototype=_pGridAreaContainerElement;_pGridAreaContainerElement._type_name="GridAreaContainerElement";_pGridAreaContainerElement._container_maxwidth=0;_pGridAreaContainerElement._container_maxheight=0;_pGridAreaContainerElement.setElementHScrollPos=function(_a,_b){if(this._scroll_left!=_a||this.parent._reset_scrollpos||this.parent._bChangeRtl||_b){this._scroll_left=_a;var _c=this._handle;if(_c){_a=nexacro.__convertScrollLeftByRtl(this._parent_elem._parent_elem,_a);nexacro.__setElementHandleHScrollPos(_c,_a);}}};delete _pGridAreaContainerElement;nexacro.GridCellControlElement=function(_a,_b,_c,_d){this.parent=_a;this._parent_elem=_a;this._area=_b;this._expand_width=0;this._expand_ctrl=null;this._mode="";this._changeMode(_c,_d);};var _pGridCellControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridCellControlElement);nexacro.GridCellControlElement.prototype=_pGridCellControlElement;_pGridCellControlElement._type_name="GridCellControlElement";_pGridCellControlElement._changeMode=function(_a,_b){_a=(_a)?_a:"text";if(this._mode!==_a){var _c=this._client_element;var _d=false;if(this._mode.indexOf("text")>=0&&_a.indexOf("text")>=0){_d=true;}if(_a=="text"){this._client_element=new nexacro.GridCellTextSimpleContainerElement(this);}else if(_a=="expandtext"){this._client_element=new nexacro.GridCellTextContainerElement(this);}else{this._client_element=new nexacro.GridCellContainerElement(this);}var _e=this._client_element;if(_c){if(_d){_e.font=_c.font;_e.letterspace=_c.letterspace;_e.color=_c.color;_e.cursor=_c.cursor;_e.align=_c.align;_e.halign=_c.halign;_e.valign=_c.valign;_e.text=_c.text;_e.linespace=_c.linespace;_e.wordwrap=_c.wordwrap;_e.decoration=_c.decoration;_e._cell_node=_c._cell_node;_e._use_newline=_c._use_newline;}if(this.linkedcontrol._subComp){this.linkedcontrol._subComp.destroy();this.linkedcontrol._subComp=null;}_c.destroy();}if(this._handle&&!_e._handle){_e.create();}_e.setElementSize(this.client_width,this.client_height);_e.setElementPosition(this.client_left,this.client_top,true);this._mode=_a;}else{}return this._client_element;};_pGridCellControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this._area);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;nexacro.__setElementHandleId(_c,this.linkedcontrol._unique_id);this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);if(this.border||this.bordertype){this._setControlBorder(_c,this.border,this.bordertype);}if(this.background){this._setControlBackground(_c,this.background,this.gradation);}if(this.opacity){nexacro.__setElementHandleOpacity(_c,this.opacity);}if(this._hittest_type){nexacro.__setElementHittestValue(_c,this._hittest_type);}this._refreshForeground(_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pGridCellControlElement._setExpandControl=function(_a,_b){this._expand_ctrl=_a;this._expand_width=_b;this._updateClientSize();};_pGridCellControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this.padding;if(this.padding){_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}if(this._expand_ctrl&&this._expand_ctrl.visible==true){_c-=this._expand_width;if(_c<0){_c=0;}}var _f=this._client_element;if(_f){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_f.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridCellControlElement._setDisplay=nexacro._emptyFn;_pGridCellControlElement.setContainerVisible=function(_a){if(this._client_element){this._client_element.setElementVisible(_a);}};_pGridCellControlElement._adjustRtlLayoutLeft=function(_a,_b){var _c=_a;if(this._isRtl()){var _d=Math.max(this._parent_elem.width,this._parent_elem._body_scroll_maxwidth);_c=_d-_b-_a;}return _c;};delete _pGridCellControlElement;nexacro.GridCellContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellContainerElement=nexacro._createPrototype(nexacro.ContainerElement,nexacro.GridCellContainerElement);nexacro.GridCellContainerElement.prototype=_pGridCellContainerElement;_pGridCellContainerElement._type_name="GridCellContainerElement";_pGridCellContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createContainerElementHandle(this,_b,this.left,this.top,this.width,this.height);if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.font){var _d=this.font;nexacro.__setElementHandleFont(_c,_d.face,_d.size,_d._bold,_d._italic,_d._underline,_d._strikeout,_d._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};delete _pGridCellContainerElement;}nexacro.GridCellTextContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellTextContainerElement=nexacro._createPrototype(nexacro.TextBoxElement,nexacro.GridCellTextContainerElement);nexacro.GridCellTextContainerElement.prototype=_pGridCellTextContainerElement;_pGridCellTextContainerElement._type_name="GridCellTextContainerElement";_pGridCellTextContainerElement._is_nc_element=true;_pGridCellTextContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createTextElementHandle(this,_b,this.left,this.top,this.width,this.height);var _d=this._isRtl(true);if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(this.letterspace){nexacro.__setElementHandleLetterSpace(_c,this.letterspace);}if(this.font){var _e=this.font;nexacro.__setElementHandleFont(_c,_e.face,_e.size,_e._bold,_e._italic,_e._underline,_e._strikeout,_e._antialias);}if(this.color){nexacro.__setElementHandleColor(_c,this.color._syscolor);}if(this.align){var _f=this.align;nexacro.__setElementHandleAlign(_c,_f.halign,_f.valign);}else if(this.halign&&this.valign){var _g=this.halign;if(_d){_g=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}nexacro.__setElementHandleAlign(_c,_g,this.valign);}if(this.padding){var _h=this.padding;nexacro.__setElementHandlePadding(_c,_h.left,_h.top,_h.right,_h.bottom);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setElementHandlePadding(_c,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.decoration){nexacro.__setElementHandleDecorateText(_c,this.decoration);}if(this.linespace>0){nexacro.__setElementHandleLineSpace(_c,this.linespace);}if(this.wordwrap!="none"){nexacro.__setElementHandleWordWrap(_c,this.wordwrap);}if(this.text){nexacro.__setElementHandleText(_c,this.text);}this._handle=_c;nexacro.__appendElementHandle(_a._handle,_c);}};_pGridCellTextContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){_a._linked_element=null;if(_b&&_b._handle){nexacro.__destroyElementHandle(_b._handle,_a);}this._owner_elem=null;this._handle=null;}};_pGridCellTextContainerElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this.parent_elem){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this.parent_elem;_a._removeFromContainer();}else{_a._parent_elem=this.parent_elem;}}else{_a._parent_elem=this.parent_elem;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pGridCellTextContainerElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pGridCellTextContainerElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pGridCellTextContainerElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pGridCellTextContainerElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pGridCellTextContainerElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pGridCellTextContainerElement.setElementTextVisible=function(_a){var _b=this._handle;_a=_a&&this.visible;if(_b){nexacro.__setElementHandleVisible(_b,_a);}};delete _pGridCellTextContainerElement;nexacro.GridCellTextSimpleContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellTextSimpleContainerElement=nexacro._createPrototype(nexacro.GridCellTextContainerElement,nexacro.GridCellTextSimpleContainerElement);nexacro.GridCellTextSimpleContainerElement.prototype=_pGridCellTextSimpleContainerElement;_pGridCellTextSimpleContainerElement._type_name="GridCellTextSimpleContainerElement";delete _pGridCellTextSimpleContainerElement;nexacro.EventPassOverlayElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this.width=_a.width;this.height=_a.height;this.pointer_events="none";this._target_elements=_b;this.image_url="";this._image_width=0;this._image_height=0;this.border=null;};var _pEventPassOverlayElement=nexacro._createPrototype(nexacro.TextBoxElement,nexacro.EventPassOverlayElement);nexacro.EventPassOverlayElement.prototype=_pEventPassOverlayElement;_pEventPassOverlayElement._type_name="EventPassOverlayElement";_pEventPassOverlayElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=nexacro.__createControlElementHandle(this,_b,this.left,this.top,this.width,this.height);var _d=nexacro.__createTextElementHandle(this,_b,0,0,this.width,this.height);if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}if(this.letterspace){nexacro.__setElementHandleLetterSpace(_d,this.letterspace);}if(this.font){var _e=this.font;nexacro.__setElementHandleFont(_d,_e.face,_e.size,_e._bold,_e._italic,_e._underline,_e._strikeout,_e._antialias);}if(this.color){nexacro.__setElementHandleColor(_d,this.color._syscolor);}if(this.align){var _f=this.align;nexacro.__setElementHandleAlign(_d,_f.halign,_f.valign);}else if(this.halign&&this.valign){nexacro.__setElementHandleAlign(_d,this.halign,this.valign);}if(this.decoration){nexacro.__setElementHandleDecorateText(_d,this.decoration);}if(this.linespace>0){nexacro.__setElementHandleLineSpace(_d,this.linespace);}if(this.wordwrap!="none"){nexacro.__setElementHandleWordWrap(_d,this.wordwrap);}if(this.text){nexacro.__setElementHandleText(_d,this.text,this._use_newline,this.wordwrap);}if(this.image_url){var _g=this._image_handle=nexacro.__createImageElementHandle(this,_b,0,0,this._image_width,this._image_height,true);nexacro.__setElementHandleImageUrl(_g,this.image_url);nexacro.__appendElementHandle(_c,_g);}this._handle=_d;this._control_handle=_c;nexacro.__appendElementHandle(_c,_d);nexacro.__appendElementHandle(_a._handle,_c);}};_pEventPassOverlayElement.destroy=function(){this._destroyElementHandle();this.parent=null;this._parent_elem=null;this.width=null;this.height=null;this._target_elements=[];this.image_url="";this._image_width=0;this._image_height=0;this.border=null;};_pEventPassOverlayElement._destroyElementHandle=function(){var _a=this._control_handle;if(_a){if(this._handle){nexacro.__destroyElementHandle(_a,this._handle);this._handle=null;}if(this._image_handle){nexacro.__destroyElementHandle(_a,this._image_handle);this._image_handle=null;}if(this._owner_elem){var _b=this._owner_elem._handle;if(_b){nexacro.__destroyElementHandle(_b,_a);}_b=null;this._owner_elem=null;}_a=null;this._control_handle=null;}};_pEventPassOverlayElement.setElementVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._control_handle;if(_b){nexacro.__setElementHandleVisible(_b,_a);}}};_pEventPassOverlayElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._control_handle;if(_c){var _d=this._owner_elem;var _e=false;if(_d){_a=this._adjustRtlLayoutLeft(_a,this.width);}nexacro.__setElementHandlePosition(_c,_a,_b);}}};_pEventPassOverlayElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._control_handle;if(_c){nexacro.__setElementHandleSize(_c,_a,_b);nexacro.__setElementHandleSize(this._handle,_a,_b);}}};_pEventPassOverlayElement.setElementCursor=function(_a){var _b=this._control_handle;if(_b){if(_a&&!_a._is_empty){nexacro.__setElementHandleCursor(_b,_a.value);}else{nexacro.__setElementHandleCursor(_b,_a);}}};_pEventPassOverlayElement.setSelectEventPassElement=function(_a,_b){var _c=this._target_elements,_d=_c.length,_e=_c[0];if(_d>1){var _f=null,_g=null;var _h=null;var _i=0,_j=0,_k=0,_l=0;for(var _m=0;_m<_d;_m++ ){_h=nexacro._getElementXYInWindow(_c[_m]._handle);_i=_h[0];_j=_h[1];_k=_i+_c[_m].width;_l=_j+_c[_m].height;_f=this._findLinkedControl(_c[_m]);if(!_g&&_i<=_a&&_a<=_k&&_j<=_b&&_b<=_l){_e=_c[_m];_g=_f;if(_e&&_e instanceof nexacro.GridCellControlElement){if(_e._expand_ctrl!=null){if((_i+_e._expand_ctrl.left)<=_a&&_a<=(_i+_e._expand_ctrl.left+_e._expand_ctrl.width)&&(_j+_e._expand_ctrl.top)<=_b&&_b<=(_j+_e._expand_ctrl.top+_e._expand_ctrl.height)){_e=(_e._expand_ctrl._text_elem!=null)?_e._expand_ctrl._text_elem:(_e._expand_ctrl._img_elem!=null)?_e._expand_ctrl._img_elem:_e._expand_ctrl;}}}}if(_f){_f._applyMouseLeaveEvent();}}}if(_g){_g._applyMouseOverEvent();}return _e;};_pEventPassOverlayElement.setElementToolTip=function(_a,_b){if(_a===undefined){_a="";}if(this.tooltiptext!=_a||this.tooltiptype!=_b){this.tooltiptext=_a;this.tooltiptype=_b;var _c=this._control_handle;if(_c){nexacro.__setElementHandleToolTip(_c,_a,_b);}}};_pEventPassOverlayElement.setTargetElements=function(_a){this._target_elements=_a;};_pEventPassOverlayElement._setNodeAlignPos=function(_a,_b,_c){if(_a){var _d=0;var _e=(_b-this._image_width)/2;var _f=this.valign?this.valign:this.align.valign;if(_f=="bottom"){_d=_c-this._image_height;}else if(_f=="middle"){_d=(_c-this._image_height)/2;}nexacro.__setElementHandlePosition(_a,_e,_d);}};_pEventPassOverlayElement.updateCellNodeClient=function(_a,_b,_c,_d,_e,_f){var _g=this._control_handle;if(_g){adjust_left=(_f.left>0)?_f.left:0;if(_e>adjust_left){_e=_e-adjust_left;_a-=_e;_c+=_e;}var _h=this._owner_elem;var _i=false;if(_h){_a=this._adjustRtlLayoutLeft(_a,this.width);}nexacro.__setElementHandlePosition(_g,_a,_b);nexacro.__setElementHandleSize(_g,_c,_d);nexacro.__setElementHandleSize(this._handle,_c,_d);this._setNodeAlignPos(this._image_handle,_c,_d);}};_pEventPassOverlayElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setElementHandleAlign(_d,_c,_b);}this._setNodeAlignPos(this._image_handle,this.width,this.height);};_pEventPassOverlayElement.setElementImageUrl=function(_a){if(this.image_url!=_a){var _a=nexacro._getURIValue(_a);var _b=_a;if(_a&&!nexacro._isAbsolutePath(_a)){var _c=this._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_c);}var _d=this._image_handle;if(!_d){var _e=this._owner_elem.getRootWindowHandle();_d=this._image_handle=nexacro.__createImageElementHandle(this,_e,0,0,this._image_width,this._image_height,true);nexacro.__appendElementHandle(this._control_handle,_d);}this.image_url=_a;if(_a){var _f=nexacro._getImageSize(_a,this._on_loadImg,this,undefined,_b);this._img_sizereq=true;if(_f){this._img_sizereq=false;this._image_width=_f.width;this._image_height=_f.height;nexacro.__setElementHandleImageUrl(_d,_a);nexacro.__setElementHandleSize(_d,_f.width,_f.height);}}else{nexacro.__setElementHandleImageUrl(_d,_a);}}};_pEventPassOverlayElement._setElementBorder=function(_a,_b,_c,_d){if(_a){this.border=_a;var _e=this._control_handle;if(_e){if(_a._linecnt==1){_a._linecnt=4;}var _f=(!_b&&_a.left_style)?_a._left_width:0;var _g=(!_c&&_a.top_style)?_a._top_width:0;var _h=(!_d&&_a.right_style)?_a._right_width:0;var _i=_a.bottom_style?_a._bottom_width:0;_f=_f<0?0:(!_b&&this.width<=_f)?_f-(_f-this.width):_f;_g=_g<0?0:_g;_h=_h<0?0:(!_d&&this.width<=_h)?_h-(_h-this.width):_h;_i=_i<0?0:this.height<=_i?_i-(_i-this.height):_i;nexacro.__setElementHandleBorderTop(_e,_a.top_style,_g,_a._top_syscolor);nexacro.__setElementHandleBorderBottom(_e,_a.bottom_style,_i,_a._bottom_syscolor);nexacro.__setElementHandleBorderLeft(_e,_a.left_style,_f,_a._left_syscolor);nexacro.__setElementHandleBorderRight(_e,_a.right_style,_h,_a._right_syscolor);}}else if(this.border){this.border=null;}};_pEventPassOverlayElement._findLinkedControl=function(_a){var _b=null;while(!_b){_b=_a.linkedcontrol;_a=_a.parent;if(!_a){break;}}return _b;};_pEventPassOverlayElement._on_loadImg=nexacro._emptyFn;_pEventPassOverlayElement.updateElementLineHeight=nexacro._emptyFn;_pEventPassOverlayElement.setElementPadding=nexacro._emptyFn;_pEventPassOverlayElement.setElementPaddingXY=nexacro._emptyFn;delete _pEventPassOverlayElement;}if(!nexacro.Component){nexacro.__position9xObj=function(_a){if(_a){this._target=_a;}this.left=0;this.top=0;this.right=0;this.bottom=0;this.width=0;this.height=0;this.x=0;this.y=0;this._value="absolute 0 0 0 0";};__pPosition9xObj=nexacro._createPrototype(nexacro.Object,nexacro.__position9xObj);nexacro.__position9xObj.prototype=__pPosition9xObj;__pPosition9xObj.style="absolute";__pPosition9xObj.x=0;__pPosition9xObj.y=0;__pPosition9xObj._bsize=false;__pPosition9xObj._bmove=false;__pPosition9xObj.toString=function(){return this._value;};__pPosition9xObj._emptyObject=function(){this._value="absolute 0 0 0 0";this.style="absolute";this.left=0;this.right=0;this.top=0;this.bottom=0;this.x=0;this.y=0;this.width=0;this.height=0;};__pPosition9xObj._updateValue=function(){this.width=this.right-this.left;this.height=this.bottom-this.top;this.x=this.left;this.y=this.top;this._value="absolute "+this.left+' '+this.top+' '+this.right+' '+this.bottom;};__pPosition9xObj._update=function(){this.width=this.right-this.left;this.height=this.bottom-this.top;this.x=this.left;this.y=this.top;var _a="absolute "+this.left+' '+this.top+' '+this.right+' '+this.bottom;if(_a!=this._value){this._value=_a;if(this._target!=null){this._target._adjustPosition(this.left,this.top,null,null,this.width,this.height,this._target.parent._client_width,this._target.parent._client_height);this._target.on_update_position(this._bsize,this._bmove);this._bsize=false;this._bmove=false;}}};__pPosition9xObj._set=function(_a){var _b=(_a==null)?"":_a.toString().trim();if(_b!=this._value){if(_b==""){this._emptyObject();}else{var _c=_b.split(/\s+/);switch(_c.length){case 4:this.left=parseInt(_c[0])|0;this.top=parseInt(_c[1])|0;this.right=parseInt(_c[2])|0;this.bottom=parseInt(_c[3])|0;break;case 5:this.left=parseInt(_c[1])|0;this.top=parseInt(_c[2])|0;this.right=parseInt(_c[3])|0;this.bottom=parseInt(_c[4])|0;break;default:this._emptyObject();break;}this._update();}}};__pPosition9xObj.set_style=function(_a){if(_a!=this.style){if(_a=="absolute"){this.style="absolute";}}};__pPosition9xObj.set_left=function(_a){var _b=parseInt(_a)|0;if(_b>this.right){this.right=_b;}if(_b!=this.left){this.left=_b;this._bmove=true;this._bsize=true;this._update();}};__pPosition9xObj.set_top=function(_a){var _b=parseInt(_a)|0;if(_b>this.bottom){this.bottom=_b;}if(_b!=this.top){this.top=_b;this._bmove=true;this._bsize=true;this._update();}};__pPosition9xObj.set_right=function(_a){var _b=parseInt(_a)|0;if(this.left>_b){this.left=_b;}if(_b!=this.right){this.right=_b;this._bsize=true;this._update();}};__pPosition9xObj.set_bottom=function(_a){var _b=parseInt(_a)|0;if(this.top>_b){this.top=_b;}if(_b!=this.bottom){this.bottom=_b;this._bsize=true;this._update();}};__pPosition9xObj.set_x=function(_a){var _b=parseInt(_a)|0;if(_b!=this.left){this.left=_b;this.right=this.left+this.width;this._bsize=true;this._bmove=true;this._update();}};__pPosition9xObj.set_y=function(_a){var _b=parseInt(_a)|0;if(_b!=this.top){this.top=_b;this.bottom=this.top+this.height;this._bsize=true;this._bmove=true;this._update();}};__pPosition9xObj.set_width=function(_a){if(_a<0){_a=0;}var _b=this.left+(parseInt(_a)|0);if(_b!=this.right){this.right=_b;this._bsize=true;this._update();}};__pPosition9xObj.set_height=function(_a){if(_a<0){_a=0;}var _b=this.top+(parseInt(_a)|0);if(_b!=this.bottom){this.bottom=_b;this._bsize=true;this._update();}};delete __pPosition9xObj;nexacro.__position29xObj=function(_a){if(_a){this._target=_a;}this._value="absolute l:0 w:0 t:0 h:0";};__pPosition29xObj=nexacro._createPrototype(nexacro.Object,nexacro.__position29xObj);nexacro.__position29xObj.prototype=__pPosition29xObj;__pPosition29xObj.style="absolute";__pPosition29xObj.left=null;__pPosition29xObj.right=null;__pPosition29xObj.top=null;__pPosition29xObj.bottom=null;__pPosition29xObj.width=null;__pPosition29xObj.height=null;__pPosition29xObj._bsize=false;__pPosition29xObj._bmove=false;__pPosition29xObj.toString=function(){return this._value;};__pPosition29xObj._emptyObject=function(){this._value="absolute l:0 t:0 w:0 h:0";this.style="absolute";this.left=null;this.right=null;this.top=null;this.bottom=null;this.width=null;this.height=null;};__pPosition29xObj._updateValue=function(){var _a=this.left,_b=this.right,_c=this.top,_d=this.bottom,_e=this.width,_f=this.height;var _g=[];var _h=0;if(_a!=undefined){_g[_h++ ]="l:"+_a;}if(_b!=undefined){_g[_h++ ]="r:"+_b;}if(_e!=undefined){_g[_h++ ]="w:"+_e;}if(_c!=undefined){_g[_h++ ]="t:"+_c;}if(_d!=undefined){_g[_h++ ]="b:"+_d;}if(_f!=undefined){_g[_h++ ]="h:"+_f;}this._value="absolute "+_g[0]+' '+_g[1]+' '+_g[2]+' '+_g[3];};__pPosition29xObj.set_left=function(_a){if(this.left!=_a){this.left=_a;this._target.set_left(_a);}};__pPosition29xObj.set_top=function(_a){if(this.top!=_a){this.top=_a;this._target.set_top(_a);}};__pPosition29xObj.set_right=function(_a){if(this.right!=_a){this.right=_a;this._target.set_right(_a);}};__pPosition29xObj.set_bottom=function(_a){if(this.bottom!=_a){this.bottom=_a;this._target.set_bottom(_a);}};__pPosition29xObj.set_width=function(_a){if(this.width!=_a){this.width=_a;this._target.set_width(_a);}};__pPosition29xObj.set_height=function(_a){if(this.height!=_a){this.height=_a;this._target.set_height(_a);}};delete __pPosition29xObj;nexacro.Component=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this.id=this.name=_a||null;if(_i){this.parent=_i;this._refform=this._findForm(_i);}else{this.parent=null;this._refform=null;}this.position=_b?_b:"absolute";var _j=_i?this.parent._adjust_width:null;var _k=_i?this.parent._adjust_height:null;this._adjustPosition(_c,_d,_g,_h,_e,_f,_j,_k);this.style=this.on_create_custom_style();this.currentstyle=this.on_create_custom_currentStyle();this._styles={};this._enable_redraw_history={};};var _pComponent=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Component);nexacro.Component.prototype=_pComponent;_pComponent._type_name="Component";_pComponent.expr="";_pComponent.cssclass="";_pComponent.visible=true;_pComponent.enable=true;_pComponent.taborder="";_pComponent.tabstop=true;_pComponent.hotkey="";_pComponent.transparenthittest=false;_pComponent.enableredraw=true;_pComponent.enableevent=true;_pComponent.tooltiptype="default";_pComponent.tooltiptext="";_pComponent.scrollbars="none";_pComponent.hotkey=null;_pComponent.rtldirection=null;_pComponent.positionstep=0;_pComponent._css_finder=null;_pComponent._ref_css_finder=null;_pComponent._refcssobj=null;_pComponent._refcssid="";_pComponent._client_left=0;_pComponent._client_top=0;_pComponent._client_width=0;_pComponent._client_height=0;_pComponent._adjust_left= -1;_pComponent._adjust_top= -1;_pComponent._adjust_width= -1;_pComponent._adjust_height= -1;_pComponent._client_left_ltr=0;_pComponent._adjust_left_ltr= -1;_pComponent._is_loading=false;_pComponent._is_created=false;_pComponent._is_alive=true;_pComponent._status="enable";_pComponent._selected=false;_pComponent._pushed=false;_pComponent._readonly=false;_pComponent._is_created_contents=false;_pComponent._has_dirty_pos=false;_pComponent._has_dirty_rect=false;_pComponent._pseudo="normal";_pComponent._control_pseudo="";_pComponent._contents_pseudo="";_pComponent._apply_pushed_pseudo=false;_pComponent._apply_client_padding=true;_pComponent._apply_client_border=false;_pComponent._is_component=true;_pComponent._is_subcontrol=false;_pComponent._is_reference_control=true;_pComponent._is_form=false;_pComponent._is_frame=false;_pComponent._is_window=false;_pComponent._is_nc_control=false;_pComponent._is_simple_control=false;_pComponent._is_scrollable=false;_pComponent._is_popup_control=false;_pComponent._is_band_control=false;_pComponent._is_band_vert_paging=false;_pComponent._is_area_scroll=false;_pComponent._is_focus_accept=true;_pComponent._is_comp_focus=false;_pComponent._is_drag=false;_pComponent._control_element=null;_pComponent._zindex=null;_pComponent._bind_event=null;_pComponent._taborder= -1;_pComponent._display_text="";_pComponent._real_enable=null;_pComponent._real_visible=false;_pComponent._vml_visible=true;_pComponent._last_focused=null;_pComponent._hotkey=null;_pComponent._track_capture=true;_pComponent._focus_direction= -1;_pComponent._rtldirection=undefined;_pComponent._re_focus=false;_pComponent._scrollbars=0;_pComponent._scroll_showtype= -1;_pComponent._scroll_top=0;_pComponent._scroll_left=0;_pComponent._scroll_height=0;_pComponent.hscrollbar=null;_pComponent.vscrollbar=null;_pComponent._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};_pComponent.initProperties=function(){};_pComponent.initEvents=function(){};_pComponent._resizePopupInbound=nexacro._emptyFn;nexacro.Component._default_color=nexacro._getCachedStyleObj("color","red");nexacro.Component._default_margin=nexacro._getCachedStyleObj("margin","0 0 0 0");nexacro.Component._default_padding=nexacro._getCachedStyleObj("padding","0 0 0 0");nexacro.Component._default_font=nexacro._getCachedStyleObj("font","Dotum,9");nexacro.Component._default_center_align=nexacro._getCachedStyleObj("align","center middle");nexacro.Component._default_left_align=nexacro._getCachedStyleObj("align","left middle");nexacro.Component._default_right_align=nexacro._getCachedStyleObj("align","right middle");nexacro.Component._default_step_align=nexacro._getCachedStyleObj("align","center bottom");nexacro.Component._default_textarea_align=nexacro._getCachedStyleObj("align","left top");nexacro.Component._default_align=nexacro.Component._default_center_align;nexacro.Component._default_buttonimg_align=nexacro._getCachedStyleObj("align","lefttext middle");nexacro.Component._default_opacity=nexacro._getCachedStyleObj("opacity","100");nexacro.Component._default_cursor=nexacro._getCachedStyleObj("cursor","auto");nexacro.Component._wait_cursor=nexacro._getCachedStyleObj("cursor","wait");nexacro.Component._default_accessibility=nexacro._getCachedStyleObj("accessibility","");nexacro.Component._default_shadow=nexacro._getCachedStyleObj("shadow","");nexacro.Component._default_rtlimagemirroring=nexacro._getCachedStyleObj("rtlimagemirroring","false");nexacro.Component._default_letterspace=nexacro._getCachedStyleObj("letterspace","0");nexacro.Component.SCROLLBAR_DEFAULT_SIZE=17;nexacro.Component._status_table={"enable_normal":"normal","enable_disabled":"normal","enable_focused":"focused","enable_mouseover":"mouseover","enable_selected":"selected","enable_pushed":"pushed","enable_readonly":"readonly","enable_deactivate":"deactivate","disable_normal":"disabled","disable_disabled":"disabled","disable_focused":"disabled","disable_mouseover":"disabled","disable_selected":"disabled","disable_pushed":"disabled","disable_readonly":"disabled","focus_normal":"focused","focus_disabled":"disabled","focus_focused":"focused","focus_mouseover":"mouseover","focus_selected":"selected","focus_pushed":"pushed","focus_readonly":"focused","readonly_normal":"readonly","readonly_disabled":"disabled","readonly_focused":"focused","readonly_mouseover":"mouseover","readonly_selected":"selected","readonly_pushed":"pushed","readonly_readonly":"readonly"};_pComponent._width=null;_pComponent._height=null;_pComponent._left=null;_pComponent._top=null;_pComponent._right=null;_pComponent._bottom=null;_pComponent.left=null;_pComponent.top=null;_pComponent.right=null;_pComponent.bottom=null;_pComponent.width=null;_pComponent.height=null;_pComponent._overedobj=null;_pComponent._dragging_cursor=null;_pComponent.__setPosition9x=function(_a){if(_a.indexOf(":")>=0){var _b=_a.split(/\s+/);var _c=0;var _d="",_e="";var _f=0;var _g={left:null,top:null,right:null,bottom:null,width:null,height:null};var _h=this._adjust_left;var _i=this._adjust_top;var _j=this._adjust_width;var _k=this._adjust_height;var _l=false,_m=false;this.position="absolute";if(_b.length==5){this.position=_b[0];_c=1;}var _n=_b.length;for(_c;_c<_n;_c++ ){_d=_b[_c].toString();_f=_d.indexOf(":");_e=_d.substring(0,_f);_d=_d.substring(_f+1);switch(_e){case "l":_g.left=_d;break;case "t":_g.top=_d;break;case "r":_g.right=_d;break;case "b":_g.bottom=_d;break;case "w":_g.width=_d;break;case "h":_g.height=_d;break;}}this._adjustPosition(_g.left,_g.top,_g.right,_g.bottom,_g.width,_g.height,this.parent._client_width,this.parent._client_height);}else{var _b=_a.split(/\s+/);var _g={left:0,top:0,right:0,bottom:0};var _h=this._adjust_left;var _i=this._adjust_top;var _j=this._adjust_width;var _k=this._adjust_height;var _l=false,_m=false;switch(_b.length){case 4:this.position="absolute";_g.left=(parseInt(_b[0])|0);_g.top=(parseInt(_b[1])|0);_g.right=(parseInt(_b[2])|0);_g.bottom=(parseInt(_b[3])|0);break;case 5:this.position=(parseInt(_b[0])||"absolute");_g.left=(parseInt(_b[1])|0);_g.top=(parseInt(_b[2])|0);_g.right=(parseInt(_b[3])|0);_g.bottom=(parseInt(_b[4])|0);break;default:this.position="absolute";_g.left=0;_g.top=0;_g.right=0;_g.bottom=0;break;}var _o=_g.right-_g.left;var _p=_g.bottom-_g.top;this._adjustPosition(_g.left,_g.top,null,null,_o,_p,this.parent._client_width,this.parent._client_height);}if(this._adjust_width!=_j||this._adjust_height!=_k){_l=true;}if(this._adjust_left!=_h||this._adjust_top!=_i){_m=true;}this.on_update_position(_l,_m);};_pComponent.__getPosition9x=function(_a){var _b=new nexacro.__position9xObj(_a);_b.left=this._adjust_left;_b.top=this._adjust_top;_b.right=this._adjust_left+this._adjust_width;_b.bottom=this._adjust_top+this._adjust_height;_b._updateValue();return _b;};_pComponent.__getPosition29x=function(_a){var _b=new nexacro.__position29xObj(_a);_b.left=this.left;_b.top=this.top;_b.right=this.right;_b.bottom=this.bottom;_b.width=this.width;_b.height=this.height;_b._updateValue();return _b;};_pComponent.set_position=function(_a){if(this.position!=_a){this.position=_a;this.on_apply_position(_a);}};_pComponent.on_apply_position=function(_a){var _b=this.getElement();if(_b){_b.setElementPositionBasis(_a);}};_pComponent._adjustPosition=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=null;var _j=_a;var _k=_c;var _l=this._isRtl(this.parent);if(_l){}if(this.parent&&this.parent._is_form&&this.parent.parent&&this.parent.parent._is_frame){var _m=this.parent;var _n=_m.getZoom();if(_n!=100){_g=(_g*100)/_n;_h=(_h*100)/_n;}}for(var _o=0;_o<6;_o++ ){switch(_o){case 0:_i=_j;if(_i!=null){if(_o%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.left=_a;this._left=_i;}break;case 1:_i=_b;if(_i!=null){if(_o%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.top=_b;this._top=_i;}break;case 2:_i=_k;if(_i!=null){if(_o%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.right=_c;this._right=_i;}break;case 3:_i=_d;if(_i!=null){if(_o%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.bottom=_d;this._bottom=_i;}break;case 4:_i=_e;if(_i!=null){if(_o%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.width=_e;this._width=_i;}break;case 5:_i=_f;if(_i!=null){if(_o%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.height=_f;this._height=_i;}break;}}if(this._width!=null||(this._right!=null&&this._left!=null)){this._adjust_width=this._width!=null?this._width:_g-this._left-this._right;}if(this._height!=null||this._bottom!=null){this._adjust_height=this._height!=null?this._height:_h-this._top-this._bottom;}if(this._left!=null||this._right!=null){this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_g-this._right-this._adjust_width;if(_l){this._adjust_left_ltr=this._right!=null?this._right:_g-this._left-this._adjust_width;}}if(this.top!=null||this._bottom!=null){this._adjust_top=this._top!=null?this._top:_h-this._bottom-this._adjust_height;}if(this.left&&this.width&&this.right){this._right=0;this.right=null;}if(this.top&&this.height&&this.bottom){this._bottom=0;this.bottom=null;}};_pComponent._convToPixel=function(_a,_b){if(typeof (_a)=="string"&&_a.indexOf("%")>=0){return parseInt(_b*(parseFloat(_a)/100));}return (parseInt(_a)|0);};_pComponent._setAllZeroPixel=function(){var _a=false,_b=false;if(this._adjust_left!=0||this._adjust_top!=0){this.left=0;this.top=0;_a=true;}if(this._adjust_width!=0||this._adjust_height!=0){this.width=0;this.height=0;_b=true;}this._update_position(_b,_a);};_pComponent.set_left=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.left!=_a){this.left=_a;if(_a===null||_a===undefined){this._left=null;if(this._right&&!this._width){this.set_width(this._adjust_width);}else if(!this._right&&this._width){var _b=this._adjust_left+this._adjust_width;this.set_right(this.parent._client_width-_b);}return;}if(this.right&&this.width){this.width=null;this._width=null;}this._update_position(false,true);}};_pComponent.set_top=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.top!=_a){this.top=_a;if(_a===null||_a===undefined){this._top=null;if(this._bottom&&!this._height){this.set_height(this._adjust_height);}else if(!this._bottom&&this._height){var _b=this._adjust_top+this._adjust_height;this.set_bottom(this.parent._client_height-_b);}return;}if(this.bottom&&this.height){this.height=null;this._height=null;}this._update_position(false,true);}};_pComponent.set_right=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.right!=_a){this.right=_a;if(_a===null||_a===undefined){this._right=null;if(this._left&&!this._width){this.set_width(this._adjust_width);}else if(!this._left&&this._width){this.set_left(this._adjust_left);}return;}if(!nexacro._isNull(this.left)&&!nexacro._isNull(this.width)){this.width=null;this._width=null;}this._update_position(true,true);}};_pComponent.set_bottom=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.bottom!=_a){this.bottom=_a;if(_a===null||_a===undefined){this._bottom=null;if(this._top&&!this._height){this.set_height(this._adjust_height);}else if(!this._top&&this._height){this.set_top(this._adjust_top);}return;}if(!nexacro._isNull(this.top)&&!nexacro._isNull(this.height)){this.height=null;this._height=null;}this._update_position(true,true);}};_pComponent.set_width=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.width!=_a){var _b=this.width;this.width=_a;if(_a===null||_a===undefined){this._width=null;if(this._left> -1&&!this._right){var _c=this._adjust_left+this._adjust_width;this.set_right(this.parent._client_width-_c);}else if(!this._left&&this._right> -1){this.set_left(this._adjust_left);}return;}if(!nexacro._isNull(this.left)&&!nexacro._isNull(this.right)){this.right=null;this._right=null;}this._update_position(true,false);if(_b==0&&this.cssclass){this.on_apply_prop_class();}}};_pComponent.set_height=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.height!=_a){var _b=this.height;this.height=_a;if(_a===null||_a===undefined){this._height=null;if(this._top&&!this._bottom){var _c=this._adjust_top+this._adjust_height;this.set_bottom(this.parent._client_height-_c);}else if(!this._top&&this._bottom){this.set_top(this._adjust_top);}return;}if(!nexacro._isNull(this.top)&&!nexacro._isNull(this.bottom)){this.bottom=null;this._bottom=null;}this._update_position(true,false);if(_b==0&&this.cssclass){this.on_apply_prop_class();}}};_pComponent.getPixelLeft=function(){return this._left;};_pComponent.getPixelTop=function(){return this._top;};_pComponent.getPixelRight=function(){return this._right;};_pComponent.getPixelBottom=function(){return this._bottom;};_pComponent.getPixelWidth=function(){return this._width;};_pComponent.getPixelHeight=function(){return this._height;};_pComponent.getOffsetLeft=function(){return this._adjust_left;};_pComponent.getOffsetTop=function(){return this._adjust_top;};_pComponent.getOffsetRight=function(){return this._adjust_left+this._adjust_width;};_pComponent.getOffsetBottom=function(){return this._adjust_top+this._adjust_height;};_pComponent.getOffsetWidth=function(){return this._adjust_width;};_pComponent.getOffsetHeight=function(){return this._adjust_height;};_pComponent.setOffsetLeft=function(_a){return this.set_left(_a);};_pComponent.setOffsetTop=function(_a){this.set_top(_a);};_pComponent.setOffsetRight=function(_a){this.set_width((_a|0)-this._adjust_left);};_pComponent.setOffsetBottom=function(_a){this.set_height((_a|0)-this._adjust_top);};_pComponent.setOffsetWidth=function(_a){this.set_width(_a);};_pComponent.setOffsetHeight=function(_a){this.set_height(_a);};_pComponent._getAccessibilityRole=function(_a){return _a.role?_a.role:this._accessibility_role;};_pComponent._getAccessibilityLabel=function(_a){var _b="";return (_b=this._getLinkedLabel(_a.label))?_b:this.on_get_style_accessibility_label();};_pComponent._on_getAccessibilityAdditionalLabel=function(){return "";};_pComponent._on_getAccessibilityAdditionalRole=function(){if(this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="heading"){return " heading";}return "";};_pComponent._getAccessibilityDescLevel=function(_a){if(_a=="none"||_a=="child"){return _a;}var _b=this.parent;if(_b&&_b._getDescLevel){return _b._getDescLevel();}else{return _a;}};_pComponent._getAccessibilityDescription=function(_a){var _b="";return (_b=this._getLinkedDescription(_a.description))?_b:this.on_get_style_accessibility_description();};_pComponent._getAccessibilityAction=function(_a){var _b=this._getLinkedAction(_a.action);return _b?_b:(_b=this.on_get_style_accessibility_action())?_b:"";};_pComponent._getAccessibilityReadLabel=function(){var _a=this.getElement();if(_a&&_a.accessibility_readlabel){return _a.accessibility_readlabel;}return "";};_pComponent.on_get_style_accessibility_label=function(){var _a="";_a=this.text?this.text:this.value;return _a;};_pComponent.on_get_style_accessibility_description=function(){return this.tooltiptext;};_pComponent.on_get_style_accessibility_action=function(){return "";};_pComponent._getLinkedLabel=function(_a){if(_a){if(_a.match("@")){var _b=_a.substr(_a.search("@")+1,_a.length);var _c=this._getFormChildById(_b);if(_c){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);return _c._getAccessibilityLabel(_d);}else{return;}}}return _a;};_pComponent._getLinkedDescription=function(_a){if(_a){if(_a.match("@")){var _b=_a.substr(_a.search("@")+1,_a.length);var _c=this._getFormChildById(_b);if(_c){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);return _c._getAccessibilityDescription(_d);}else{return;}}}return _a;};_pComponent._getDescLevel=function(){if(this!=application){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a){var _b=_a.desclevel;var _c=this.parent;if(_b=="none"||_b=="self"){return "none";}else if(_c&&_c._getDescLevel){return _c._getDescLevel();}}}return "all";};_pComponent._getLinkedAction=function(_a){if(_a){if(_a.match("@")){var _b=_a.substr(_a.search("@")+1,_a.length);var _c=this._getFormChildById(_b);if(_c){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);return _c._getAccessibilityAction(_d);}else{return;}}}return _a;};_pComponent._getFormChildById=function(_a){return this.parent[_a];};_pComponent._getAccessibilityParentValue=function(_a){var _b="";var _c=nexacro._accessibilitydescreadtype;if((_c&0x01)==0x01){var _d=this._getAccessibilityLabel(_a);if(_d){_b=_d;}}if((_c&0x02)==0x02&&this.accessibility_action){var _e=" "+this._getAccessibilityAction(_a);if(_e){_b+=_e;}}if((_c&0x04)==0x04&&this.accessibility_description){var _f=" "+this._getAccessibilityDescription(_a);if(_f){_b+=_f;}}return _b;};_pComponent._make_accessibility_value=function(_a){var _b=this._getAccessibilityDescLevel(_a.desclevel);var _c="none";var _d=" ";var _e="";var _f="";if(_a.enable&&(_b!="none"&&_b!="child")){_c=this._getAccessibilityRole(_a);_d=this._getAccessibilityLabel(_a);_e=this._getAccessibilityDescription(_a);_f=this._getAccessibilityAction(_a);}else if(nexacro._accessibilitytype==4){_c=this._getAccessibilityRole(_a);}var _g=_a.enable?"enable":"disable";if(!_c){_c="none";}if(!_d){_d=" ";}var _h=_c+" "+_g+" "+_b+" '"+_d+"' '"+_e+"' '"+_f+"'";var _i=nexacro._roleList[_c];var _j=nexacro._getCachedStyleObj("accessibility",_h);if(!_j._role||_j.desclevel!=_a.desclevel||_j._role!=_i||_j._label!=_d||_j._description!=_e||_j._action!=_f){_j._role=nexacro._roleList[_c];_j._label=_d;_j._description=_e;_j._action=_f;_j._desclevel=_b;return _j;}else{return _j;}return _a;};_pComponent._refreshAccessibilityValue=function(){if(nexacro._enableaccessibility&&(nexacro._accessibilitytype==4||nexacro._accessibilitytype==5)){var _a=this.getElement();var _b=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_b&&_a){_b=this._make_accessibility_value(_b);_a.setAccessibility(_b);}}};_pComponent._setAccessibilityRole=nexacro._emptyFn;_pComponent._setAccessibilityLabel=nexacro._emptyFn;_pComponent._setAccessibilityEnable=nexacro._emptyFn;_pComponent._setAccessibilityDescription=nexacro._emptyFn;_pComponent._setAccessibilityDescLevel=nexacro._emptyFn;_pComponent._setAccessibilityStatDisabled=nexacro._emptyFn;_pComponent._setAccessibilityStatHidden=nexacro._emptyFn;_pComponent._setAccessibilityStatChecked=nexacro._emptyFn;_pComponent._setAccessibilityStatPressed=nexacro._emptyFn;_pComponent._setAccessibilityStatSelected=nexacro._emptyFn;_pComponent._setAccessibilityStatExpanded=nexacro._emptyFn;_pComponent._setAccessibilityFlagHasPopup=nexacro._emptyFn;_pComponent._setAccessibilityFlagFocusable=nexacro._emptyFn;_pComponent._setAccessibilityFlagReadOnly=nexacro._emptyFn;_pComponent._setAccessibilityFlagPassword=nexacro._emptyFn;_pComponent._setAccessibilityFlagMultiSelectable=nexacro._emptyFn;_pComponent._setAccessibilityFlagSelectable=nexacro._emptyFn;_pComponent._setAccessibilityFlagDefaultButton=nexacro._emptyFn;_pComponent._setAccessibilityFlagMultiLine=nexacro._emptyFn;_pComponent._setAccessibilityInfoCount=nexacro._emptyFn;_pComponent._setAccessibilityInfoIndex=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueMax=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueMin=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueCur=nexacro._emptyFn;_pComponent._setAccessibilityInfoLevel=nexacro._emptyFn;_pComponent._setAccessibilityHotKey=nexacro._emptyFn;_pComponent._setAccessibilityActiveDescendant=nexacro._emptyFn;_pComponent._notifyAccessibility=nexacro._emptyFn;_pComponent._setAccessibilityStatFlag=nexacro._emptyFn;_pComponent._isAccessibilityEnable=nexacro._echoFn;_pComponent._isItemAccessibilityEnable=nexacro._echoFn;_pComponent._setAccessibilityValue=nexacro._emptyFn;_pComponent._setAccessibilityStatFocus=nexacro._emptyFn;_pComponent._getNextAccessibilityOrderIndex=nexacro._emptyFn;_pComponent._get_css_typename=function(){return this._type_name;};_pComponent._get_css_assumedtypename=function(){return this._type_name;};_pComponent._make_css_finder=function(){var _a;if(this._is_popup_frame){_a=this;}else{_a=this._refform;}if(!_a){return null;}else{if(_a._is_frame){if(_a._is_popup_frame){_a=this;}else{_a=application;}}else{while(_a&&!_a._is_form){if(_a._is_application){break;}_a=_a.parent;if(!_a){return null;}}}}var _b=this._ref_css_finder;if(!_b){this._makeCssRefInfo();}var _c=this._css_finder;if(!_c){var _d=[];var _e=_a._find_csslist;if(!_e){_e=_a._make_find_csslist();}var _f=_e.length;var _g="";var _h=this._get_css_typename();var _i=this._get_css_assumedtypename();var _j="";if(_h!=_i){_j=_i;}var _k=false,_l=false;var _m=false,_n=false;var _o;var _p;var _q;var _r;var _s;var _t=this._refcssid;if(this._refcssid){for(var _ae=0;_ae<_f;_ae++ ){_o=_e[_ae];_p=_o[_t];if(_p){_d.push(_p);_l=true;}}}_g=this.cssclass;if(_g){_g="."+_g;if(_j){var _u=_j+_g;for(var _ae=0;_ae<_f;_ae++ ){_o=_e[_ae];_s=_o[_u];if(_s){_d.push(_s);_n=true;_k=true;}}}if(_h){var _v=_h+_g;for(var _ae=0;_ae<_f;_ae++ ){_o=_e[_ae];_s=_o[_v];if(_s){_d.push(_s);_m=true;_k=true;}}}for(var _ae=0;_ae<_f;_ae++ ){_o=_e[_ae];_r=_o[_g];if(_r){_d.push(_r);_k=true;}}}if(_j){for(var _ae=0;_ae<_f;_ae++ ){_o=_e[_ae];_q=_o[_j];if(_q){_d.push(_q);_n=true;}}}if(_h){for(var _ae=0;_ae<_f;_ae++ ){_o=_e[_ae];_q=_o[_h];if(_q){_d.push(_q);_m=true;}}}var _w="";if(_k||_l||_m||_n){if(_j){_w+=_j;}else{_w+=_h;}if(_l){_w+="_"+_t;this._cssfind_useid=true;}if(_k){_w+="_"+this.cssclass;}}if(!_w){_c={};_c._finder_name=_h;}else{_c=_a._cssfinder_cache[_w];if(!_c){_c={};var _x,_y;var _z=_d.length;for(var _ae=_z-1;_ae>=0;_ae-- ){var _aa=_d[_ae];for(var _af in _aa){if(!_aa.hasOwnProperty(_af)){continue;}var _ab=_aa[_af];if(_ab._is_selector){continue;}for(_x in _ab){if(!_ab.hasOwnProperty(_x)){continue;}_y=_ab[_x];if(!_c[_x]){_c[_x]={};}_c[_x][_af]=_y;}}}_c._finder_name=_w;_c._find_selectors=_d;_a._cssfinder_cache[_w]=_c;}}this._css_finder=_c;}if(!_b){var _ac=this._refcssobj;var _ad=this._refcssid;if(_ac&&_ac._is_component&&_ad){if(!this._is_frame||(this._is_frame&&!this._is_popup_frame)){this._ref_css_finder=_ac._make_refcss_finder(_ad,4);}}}return _c;};_pComponent._make_refcss_finder=function(_a,_b){var _c;if(this._is_popup_frame){_c=this;}else{_c=this._refform;}if(!_c){return null;}this._makeCssRefInfo();var _d=this._refcssid;var _e=_a;var _f=_d?(_d+_a):_a;var _g=null;var _h=this._refcssobj;if(_b-- >0&&_h&&_h._is_component&&_d){if(!this._is_frame||(this._is_frame&&!this._is_popup_frame)){_g=_h._make_refcss_finder(_f,_b);}}var _i=this._css_finder;var _j;if(!_g){if(!_i){_i=this._make_css_finder();}if(this._cssfind_useid){_j=_i._finder_name+"_"+_f;}else{_j=_i._finder_name+"_"+_e;}}else{if(this._cssfind_useid){_j=_g._finder_name+"_"+_f;}else{_j=_g._finder_name+"_"+_e;}}var _k=_c._cssfinder_cache[_j];if(!_k){var _l=[];if(_g){var _m=_g._find_selectors;if(_m){var _n;var _o=_m.length;for(var _y=0;_y<_o;_y++ ){_n=_m[_y];_l.push(_n);}}}if(_d){var _p=_c._find_csslist;if(!_p){_p=_c._make_find_csslist();}var _n;var _q;var _o=_p.length;for(var _y=0;_y<_o;_y++ ){_n=_p[_y];if(_q=_n[_f]){_l.push(_q);}}}var _r=_i._find_selectors;if(_r){var _n,_s;var _o=_r.length;for(var _y=0;_y<_o;_y++ ){_n=_r[_y];if(_s=_n[_a]){_l.push(_s);}}}var _t,_u;var _v=_l.length;if(_v>0){_k={};for(var _y=_v-1;_y>=0;_y-- ){var _w=_l[_y];for(var _z in _w){if(_z.charAt(0)=='$'){continue;}var _x=_w[_z];if(_x._is_selector){continue;}for(_t in _x){if(!_x.hasOwnProperty(_t)){continue;}_u=_x[_t];if(!_k[_t]){_k[_t]={};}_k[_t][_z]=_u;}}}if(this._cssfind_useid&&this._is_component&&this._is_subcontrol){_j=_i._finder_name+"_"+"#"+this.parent.id+_f;}_k._finder_name=_j;_k._find_selectors=_l;_c._cssfinder_cache[_j]=_k;}}return _k;};_pComponent._find_comp_pseudo_obj=function(_a,_b,_c){var _d;var _e=this._css_finder;do{if(_b!="normal"){var _f=this._styles[_b];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}var _g=(this._readonly&&_b!="readonly");if(_g){var _h=this._styles["readonly"];if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}var _i=this.style;if((_d=_i[_a])&&(!_d._is_empty)){break;}if(!_e){_e=this._make_css_finder();}var _j=this._ref_css_finder;var _k=(_j?_j[_b]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}var _l=(_e?_e[_b]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}if(_g){_k=(_j?_j["readonly"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["readonly"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}_k=(_j?_j["normal"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["normal"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}else{if(this._readonly){var _h=this._styles["readonly"];if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}var _i=this.style;if((_d=_i[_a])&&(!_d._is_empty)){break;}if(!_e){_e=this._make_css_finder();}var _j=this._ref_css_finder;var _k,_l;if(this._readonly){_k=(_j?_j["readonly"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["readonly"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}_k=(_j?_j["normal"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["normal"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}}while(false)if(_d&&!_d._is_empty){var _m=_d._type_name.toLowerCase();if(_c&&_m!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return null;};_pComponent._find_comp_pseudo_obj_from_finder=function(_a,_b,_c){var _d;var _e=this._css_finder;do{if(_b!="normal"){if(!_e){_e=this._make_css_finder();}var _f=this._ref_css_finder;var _g=(_f?_f[_b]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}var _h=(_e?_e[_b]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}if(this._readonly&&_b!="readonly"){_g=(_f?_f["readonly"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["readonly"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}_g=(_f?_f["normal"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["normal"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}else{if(!_e){_e=this._make_css_finder();}var _f=this._ref_css_finder;var _g,_h;if(this._readonly){_g=(_f?_f["readonly"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["readonly"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}_g=(_f?_f["normal"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["normal"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}}while(false)if(_d&&!_d._is_empty){var _i=_d._type_name.toLowerCase();if(_c&&_i!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return null;};_pComponent._makeCssRefInfo=function(){if(!this._refcssobj){var _a=this.parent;if(_a&&_a._is_component){this._refcssobj=_a;}}if(!this._refcssid&&this.id){this._refcssid="#"+this.id;}return this._refcssobj;};_pComponent._find_ctrl_pseudo_obj=_pComponent._find_comp_pseudo_obj;_pComponent._find_typedctrl_pseudo_obj=_pComponent._find_comp_pseudo_obj;_pComponent._contains=function(_a){while(_a){if(_a==this){return true;}_a=_a.parent;}return false;};_pComponent._getRootComponent=function(_a){var _b=_a;while(_b&&(_b._is_subcontrol||!_b._is_component)){if(_b==_b.parent){return null;}_b=_b.parent;}return _b;};_pComponent._getPopupRootComponent=function(_a){var _b=_a;while(_b&&(_b._is_subcontrol||!_b._is_component)&&!_b.popupwindow){if(_b==_b.parent){return null;}_b=_b.parent;}return _b;};_pComponent._getElementRootControl=function(_a){var _b=_a;while(_b&&!_b.linkedcontrol){_b=_b.parent;}var _c=_b.linkedcontrol;while(_c&&!_c._is_subcontrol){if(_c==_c.parent){break;}_c=_c.parent;}return _c;};_pComponent._getMainForm=function(){var _a=this;while(_a){if(_a._is_frame){return _a.form;}if(!_a._is_form&&_a._refform){_a=_a._refform;}else if(_a.parent){_a=_a.parent;}else{if(_a._is_form){return _a;}return null;}}return null;};_pComponent._getRootWindowComponent=function(_a){var _b=_a?_a:this;while(_b){if(_b._is_window){return _b;}if(_b._isPopupVisible()){return _b;}if(_b==_b.parent){break;}_b=_b.parent;}return null;};_pComponent._isPopupVisible=function(){return false;};_pComponent._closePopup=function(){var _a=this.popupwindow;if(_a){_a._closePopup();}};_pComponent._getReferenceComponent=function(_a){var _b=_a;while(_b&&!_b._is_reference_control){if(_b==_b.parent){return null;}_b=_b.parent;}return _b;};_pComponent._getReferenceContext=function(){return this._refform;};_pComponent._centerPopup=function(_a,_b,_c){var _d=this._getOwnerFrame();if(!_d){return;}var _e=_d._getWindow();_d=_e?_e.frame:null;if(!_d){return;}var _f=nexacro._getElementPositionInFrame(_d.getElement());var _g=((_d.width/2)-(_b/2));var _h=((_d.height/2)-(_c/2));_h=_h<0?0:_h;_c=_c>_d.height?_d.height:_c;_a._popup((_g+_f.x),(_h+_f.y),_b,_c);};_pComponent._getPopupType=function(){var _a=this.on_find_CurrentStyle_popuptype(this._pseudo);if(!_a){return nexacro._getLocalStorage("popuptype","normal");}return _a._value;};_pComponent._getDlgCode=function(_a,_b,_c,_d){return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:false,want_touchstart:false,want_touchmove:false};};_pComponent.set_scrollbars=function(_a){if(_a!=this.scrollbars||!this._is_created){switch(_a){case "none":this._scrollbars=0;break;case "autovert":this._scrollbars=1;break;case "autohorz":this._scrollbars=2;break;case "autoboth":this._scrollbars=3;break;case "fixedvert":this._scrollbars=4;break;case "fixedhorz":this._scrollbars=8;break;case "fixedboth":this._scrollbars=12;break;case "alwaysvert":this._scrollbars=16;break;case "alwayshorz":this._scrollbars=32;break;default:this._scrollbars=3;_a="autoboth";}this.scrollbars=_a;if(this._control_element&&this._is_created){this._onResetScrollBar();}}return _a;};_pComponent.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}return true;};_pComponent.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}return true;};_pComponent._onRecalcScrollSize=nexacro._emptyFn;_pComponent._onResetScrollBar=function(){if(!this._is_scrollable){return;}var _a=this._control_element;if(_a){var _b=false;var _c=false;var _d=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _e=_d;var _f=_d;var _g=0;var _h=false;var _i=false;switch(this._scrollbars){case 0:break;case 1:_h=true;_g=1;break;case 2:_i=true;_g=1;break;case 3:_h=true;_i=true;_g=1;break;case 4:_h=true;_g=2;break;case 8:_i=true;_g=2;break;case 12:_h=true;_i=true;_g=2;break;case 16:_h=true;_i=true;_g=31;break;case 32:_h=true;_i=true;_g=32;break;}if(_i&&!this.hscrollbar){this.hscrollbar=this._createHScrollBar(_d);if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(this._client_width,_e);}_b=true;}else if(_i&&this.hscrollbar){if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(this._client_width,_e);_a._hscroll_height=_e;}}else if(!_i&&this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}if(_h&&!this.vscrollbar){this.vscrollbar=this._createVScrollBar(_d);if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,this._client_height);}_c=true;}else if(_h&&this.vscrollbar){if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,this._client_height);_a._vscroll_width=_f;}}else if(!_h&&this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}_a.setScrollControls(this.hscrollbar,this.vscrollbar,_e,_f,_g);if(_b){this.hscrollbar.createComponent();}if(_c){this.vscrollbar.createComponent();}if(_a._handle){if(this.hscrollbar&&!this.hscrollbar._is_created){this.hscrollbar.on_created();}if(this.vscrollbar&&!this.vscrollbar._is_created){this.vscrollbar.on_created();}}this._updateClientSize(_a);}};_pComponent._cancelEvent=function(_a){};_pComponent._createVScrollBar=function(_a){var _b=new nexacro.ScrollBarCtrl("vscrollbar","absolute",0,0,_a,this._client_width,null,null,this);_b._setDirection("vert");_b._setEventHandler("onscroll",this.on_vscroll,this);_b.on_update_style_scrollbarsize();return _b;};_pComponent._createHScrollBar=function(_a){var _b=new nexacro.ScrollBarCtrl("hscrollbar","absolute",0,0,this._client_width,_a,null,null,this);_b._setDirection("horz");_b._setEventHandler("onscroll",this.on_hscroll,this);_b.on_update_style_scrollbarsize();return _b;};_pComponent._isWheelScrollable=function(_a){var _b=this._control_element;if(!_b){return false;}var _c=_b.scroll_top;var _d=_b.container_maxheight;var _e=this._client_height;if((_c+_e>=_d&&_a<0)||(_c==0&&_a>0)){return false;}return true;};_pComponent._getResultPseudo=function(_a,_b){if(_b==""||_b=="enabled"){_b="normal";}return nexacro.Component._status_table[_a+"_"+_b];};_pComponent.getCurrentPseudo=function(){return this._pseudo;};_pComponent.setCurrentPseudo=function(_a){var _b=this._getResultPseudo(this._status,_a);if(_b){this._stat_change(this.status,_a);}return _b;};_pComponent._stat_change=function(_a,_b){this.on_change_status(_a,_b);};_pComponent.on_change_status=function(_a,_b){var _c;switch(_a){case "enable":if(this._status!="focus"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "disable":this._status="disable";break;case "focus":if(this._status!="disable"){this._status="focus";}break;case "notfocus":if(this._status!="disable"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "select":this._selected=true;break;case "notselect":this._selected=false;break;case "push":this._pushed=true;break;case "notpush":this._pushed=false;if(this._selected&&_b=="normal"){_b="selected";}break;case "readonly":if(!this._readonly){this._readonly=true;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="enable"){this._status="readonly";}break;case "writable":if(this._readonly){this._readonly=false;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="readonly"){this._status="enable";}break;}this.on_apply_pseudo(_b);this._setAccessibilityStatFlag(this._status,_b);};_pComponent.on_apply_custom_pseudo=function(_a){};_pComponent.on_apply_pseudo=function(_a,_b){var _c=this.parent;var _d=(nexacro._is_enable_setting)?this.enable:this.enable&&this._real_enable;if(_c&&!_c._is_application&&this._getWindow()==_c._getWindow()){while(_c!=null){if(!_c._is_frame||(_c._is_frame&&!_c._is_popup_frame)){if(_c._is_subcontrol==false){if(_c._real_enable==false||_c.enable==false){_d=false;break;}}if(_c.parent&&!_c.parent._is_application&&_c._getWindow()!=_c.parent._getWindow()){break;}_c=_c.parent;}else{break;}}}if(this._setEnable(_d)){return;}this._pseudo=_a=this._getResultPseudo(this._status,_a);var _e=this._control_element;if(this.visible&&_e){if(!_b){this._updateControl(_e,_a);}this._updateContents(_e,_a);}};_pComponent._find_pseudo_obj=_pComponent._find_comp_pseudo_obj;_pComponent.on_create_custom_style=function(){return new nexacro.Style(this);};_pComponent.on_create_custom_currentStyle=function(){return new nexacro.CurrentStyle(this);};_pComponent._updateCurrentStyle=function(_a){var _b=this._find_pseudo_obj(_a,this._pseudo);if(_b){if(_b!=this.currentstyle[_a]){this.currentstyle[_a]=_b;return true;}}return false;};_pComponent.on_find_CurrentStyle_background=function(_a){return this._find_pseudo_obj("background",_a,"background");};_pComponent.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pComponent.on_find_CurrentStyle_bordertype=function(_a){return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pComponent.on_find_CurrentStyle_gradation=function(_a){return this._find_pseudo_obj("gradation",_a,"gradation");};_pComponent.on_find_CurrentStyle_opacity=function(_a){var _b=this._find_pseudo_obj("opacity",_a,"opacity");return (_b)?_b:nexacro.Component._default_opacity;};_pComponent.on_find_CurrentStyle_shadow=function(_a){return this._find_pseudo_obj("shadow",_a,"shadow");};_pComponent.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a,"cursor");}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a,"cursor");}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a,"cursor");}return (_b)?_b:nexacro.Component._default_cursor;};_pComponent.on_find_CurrentStyle_margin=function(_a){var _b=this._find_pseudo_obj("margin",_a,"margin");return (_b)?_b:nexacro.Component._default_margin;};_pComponent.on_find_CurrentStyle_padding=function(_a){var _b=this._find_pseudo_obj("padding",_a,"padding");return (_b)?_b:nexacro.Component._default_padding;};_pComponent.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");return (_b)?_b:nexacro.Component._default_align;};_pComponent.on_find_CurrentStyle_font=function(_a){var _b=this._find_pseudo_obj("font",_a,"font");if(!_b){_b=this._find_inherit_pseudo_obj("font",_a,"font");}return (_b)?_b:nexacro.Component._default_font;};_pComponent.on_find_CurrentStyle_color=function(_a){var _b=this._find_pseudo_obj("color",_a,"color");if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pComponent.on_find_CurrentStyle_accessibility=function(_a){var _b=this._find_pseudo_obj("accessibility",_a,"accessibility");return _b?_b:nexacro.Component._default_accessibility;};_pComponent.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pComponent.on_find_CurrentStyle_letterspace=function(_a){var _b=this._find_pseudo_obj("letterspace",_a,"letterspace");return _b?_b:nexacro.Component._default_letterspace;};_pComponent._find_inherit_pseudo_obj=function(_a,_b,_c){var _d=this._find_pseudo_obj(_a,_b,_c);if(!_d){var _e=this._refcssobj;if(!_e){_e=this._makeCssRefInfo();}if(_e&&_e._is_component){_d=_e._find_inherit_pseudo_obj(_a,_b,_c);}}if(_d&&!_d._is_empty){var _f=_d._type_name.toLowerCase();if(_c&&_f!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}}return _d;};_pComponent.on_find_CurrentStyle_glow=function(){};_pComponent.on_find_CurrentStyle_blur=function(){};_pComponent.on_update_style_margin=function(){this.on_apply_style_margin(this.currentstyle.margin=this.on_find_CurrentStyle_margin(this._pseudo));};_pComponent.on_update_style_border=function(){this.on_apply_style_border(this.currentstyle.border=this.on_find_CurrentStyle_border(this._pseudo));};_pComponent.on_update_style_bordertype=function(){this.on_apply_style_bordertype(this.currentstyle.bordertype=this.on_find_CurrentStyle_bordertype(this._pseudo));};_pComponent.on_update_style_background=function(){this.on_apply_style_background(this.currentstyle.background=this.on_find_CurrentStyle_background(this._pseudo));};_pComponent.on_update_style_gradation=function(){this.on_apply_style_gradation(this.currentstyle.gradation=this.on_find_CurrentStyle_gradation(this._pseudo));};_pComponent.on_update_style_opacity=function(){this.on_apply_style_opacity(this.currentstyle.opacity=this.on_find_CurrentStyle_opacity(this._pseudo));};_pComponent.on_update_style_shadow=function(){this.on_apply_style_shadow(this.currentstyle.shadow=this.on_find_CurrentStyle_shadow(this._pseudo));};_pComponent.on_update_style_cursor=function(){this.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));};_pComponent.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);if(this._apply_client_padding){var _b=this._control_element;_b.setElementPadding(_a);this._updateClientSize(_b);}else{this.on_apply_style_padding(_a);}};_pComponent.on_update_style_align=function(){this.on_apply_style_align(this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo));};_pComponent.on_update_style_font=function(){this.on_apply_style_font(this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo));};_pComponent.on_update_style_color=function(){this.on_apply_style_color(this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo));};_pComponent.on_update_style_accessibility=function(){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);this.on_apply_style_accessibility(this.currentstyle.accessibility=this._make_accessibility_value(_a));};_pComponent.on_update_style_rtlimagemirroring=function(){return;};_pComponent.on_update_style_letterspace=function(){var _a=this.on_find_CurrentStyle_letterspace(this._pseudo);this.on_apply_style_letterspace(this.currentstyle.letterspace=_a);};_pComponent.on_update_style_glow=function(){};_pComponent.on_update_style_blur=function(){};_pComponent.on_apply_style_margin=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b&&this._margin!=_a){this._margin=_a;this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);_b.setElementVisible(this.visible);_b.setElementPosition(this._adjust_left,this._adjust_top);_b.setElementSize(this._adjust_width,this._adjust_height);}};_pComponent.on_apply_style_border=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_a,_c.bordertype);_b.setElementBackground(_c.background,_c.gradation);this._updateClientSize(_b);if(this._is_form){this._onResetScrollBar();}}};_pComponent.on_apply_style_bordertype=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_c.border,_a);_b.setElementBackground(_c.background,_c.gradation);this._updateClientSize(_b);if(this._is_form){this._onResetScrollBar();}}};_pComponent.on_apply_style_background=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBackground(_a,this.currentstyle.gradation);}};_pComponent.on_apply_style_gradation=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBackground(this.currentstyle.background,_a);}};_pComponent.on_apply_style_opacity=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementOpacity(_a);}};_pComponent.on_apply_style_shadow=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_a=(_a==undefined)?nexacro.Component._default_shadow:_a;_b.setElementShadow(_a);}};_pComponent.on_apply_style_cursor=function(_a){var _b=this._control_element;if(_b){_b.setElementCursor(_a);}};_pComponent.on_apply_style_control_padding=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b&&_a){_b.setElementPadding(_a);}};_pComponent.on_apply_style_accessibility=function(_a){var _b=this._control_element;if(_b&&_a){_b.setAccessibility(_a);}};_pComponent.on_apply_style_rtlimagemirroring=function(_a){return;};_pComponent.on_apply_style_letterspace=function(_a){var _b=this._text_elem;if(_b&&_a){_b.setElementLetterSpace(_a);}};_pComponent.on_apply_style_padding=function(_a){};_pComponent.on_apply_style_align=function(_a){};_pComponent.on_apply_style_font=function(_a){};_pComponent.on_apply_style_color=function(_a){};_pComponent.on_apply_style_glow=function(_a){};_pComponent.on_apply_style_blur=function(_a){};_pComponent.on_apply_custom_class=function(){};_pComponent.on_apply_text=function(){};_pComponent.on_apply_expr=function(){};_pComponent.on_apply_prop_enable=function(_a){if(this._is_scrollable==true){if(this.vscrollbar){this.vscrollbar._setEnable(_a);}if(this.hscrollbar){this.hscrollbar._setEnable(_a);}}};_pComponent.on_apply_prop_class=function(){this.currentstyle._empty();this._css_finder=null;this._ref_css_finder=null;this._control_pseudo="";this._contents_pseudo="";this._cssfinder_cache={};var _a=(!this._pseudo)?"normal":this._pseudo;if(this.vscrollbar){this.vscrollbar.on_apply_prop_class();}if(this.hscrollbar){this.hscrollbar.on_apply_prop_class();}this._onResetScrollBar();this.on_apply_pseudo(_a);this.on_apply_custom_class(_a);};_pComponent.on_apply_prop_taborder=function(){if(this.tabstop){this._setAccessibilityFlagFocusable(this._taborder>=0?true:false);}};_pComponent.on_apply_custom_setfocus=function(_a){var _b=this._control_element;if(_b){var _c=((_a=="lbutton")?false:nexacro._enableaccessibility);_b.setElementFocus(_c);}};_pComponent.on_apply_prop_tooltip=function(){var _a=this._control_element;if(_a&&!this._is_subcontrol){_a.setElementToolTip(this.tooltiptext,this.tooltiptype);}};_pComponent.on_apply_prop_rtldirection=function(){var _a=this._control_element;var _b=this._rtldirection;if(_a){_a.setElementRtlDirection(_b);_a.setElementPosition(_a.left,_a.top,true);}if(this.vscrollbar){this.vscrollbar._setRtlDirection(this._rtldirection);}if(this.hscrollbar){this.hscrollbar._setRtlDirection(this._rtldirection);}};_pComponent.on_apply_locale=nexacro._emptyFn;_pComponent.on_create_contents=function(){};_pComponent.on_created_contents=function(){};_pComponent.on_destroy_contents=function(){};_pComponent.on_created=function(_a){if(!this._is_loading){var _b=null;if(!this._is_window){_b=this.parent?this.parent._control_element:null;if(!_b){return false;}}if(!_a){_a=this._getWindow();}var _c=this._control_element;var _d=this._isEnable();if((this._real_enable==null&&_d==false)||(this._real_enable&&this._real_enable!=_d)){this._real_enable=_d;this._stat_change(_d?"enable":"disable",this._pseudo);this.on_apply_prop_enable(_d);}else{this._real_enable=_d;}if(_c){_c.create(_a);if(!_c._handle){return;}}if(!this._is_subcontrol){this._registerHotkey();}if(this._is_created!=true){this.on_created_contents();}this._is_created=true;if(this._is_subcontrol){nexacro._addSubComponent(this);}this._orientation=nexacro._getMobileOrientation();}};_pComponent.on_change_containerPos=function(_a,_b){};_pComponent.on_change_containerRect=function(_a,_b){};_pComponent.on_create_normal_control_element=function(_a){var _b=new nexacro.ControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_scrollable_control_element=function(_a){var _b=this._is_form;if(nexacro.OS=="iOS"&&nexacro._isHybrid()){_b=false;}var _c=new nexacro.ScrollableControlElement(_a,_b);_c.setLinkedControl(this);this._control_element=_c;return _c;};_pComponent.on_create_frame_control_element=function(_a){var _b=new nexacro.FrameControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_tablecell_control_element=function(_a){var _b=new nexacro.CellControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_simple_control_element=function(_a){var _b=new nexacro.SimpleControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_popup_control_element=function(_a){var _b=new nexacro.PopupControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_popupscrollable_control_element=function(_a){var _b=new nexacro.PopupScrollableControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_band_control_element=function(_a){var _b=new nexacro.BandControlElement(_a,this._is_band_vert_paging);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_area_scroll_control_element=function(_a){var _b=new nexacro.ScrollableAreaControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_control_element=function(_a){var _b=null;if(this._is_simple_control){_b=this.on_create_simple_control_element(_a);}else if(this._is_tablecell){_b=this.on_create_tablecell_control_element(_a);}else if(this._is_frame){_b=this.on_create_frame_control_element(_a);}else if(this._is_scrollable){_b=this.on_create_scrollable_control_element(_a);}else if(this._is_band_control){_b=this.on_create_band_control_element(_a);}else if(this._is_area_scroll){this._is_scrollable=true;_b=this.on_create_area_scroll_control_element(_a);}else if(this._is_popup_control){_b=this.on_create_popup_control_element(_a);}else{_b=this.on_create_normal_control_element(_a);}return _b;};_pComponent.createComponent=function(_a){var _b=null;if(!this._is_window){_b=this.parent?this.parent._control_element:null;if(!_b){return false;}}var _c=this._control_element;if(!_c){_c=this.on_create_control_element(_b);if(this._is_nc_control){_c._is_nc_element=true;}var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.text||this.expr){this.on_apply_text();}if(this._taborder>=0){this.on_apply_prop_taborder();}if(this.tooltiptext){this.on_apply_prop_tooltip();}this.on_apply_positionstep(this.positionstep);if(!_a&&_b&&_b._handle){var _e=this._getWindow();this.on_created(_e);}}return true;};_pComponent.destroyComponent=function(){if(!this._is_alive){return;}this._is_alive=false;if(!this._is_subcontrol){this._unregisterHotkey();}if(nexacro._enableaccessibility){if(application._accessibilityHistoryList){application._remove_accessibility_history(this);}}this._clearEventListeners();if(this.parent&&this.parent._overedobj&&this.parent._overedobj==this){this.parent._overedobj=null;}if(this.parent&&this.parent.removeChild){this.parent.removeChild(this.id);}else{var _a=this._getWindow();if(_a){_a._removeFromCurrentFocusPath(this);}}if(this._control_element){this._control_element.destroy();this._control_element=null;}if(this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}if(this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}this.on_destroy_contents();if(this._subctrlitems){nexacro._deleteAllSubComponent(this);}if(this._is_subcontrol&&this.parent&&this.parent._subctrlitems){nexacro._deleteSubComponent(this,this.parent);}this._is_created=false;if(this._refform){this._refform=null;}if(this.parent){this.parent=null;}if(this._refobj){this._refobj=null;}if(this.hotkey){this.hotkey=null;}if(this.rtldirection){this.rtldirection=null;}if(this._refcssobj){this._refcssobj=null;}if(this._overedobj){this._overedobj=null;}if(this._event_list){this._event_list=null;}if(this._last_focused){this._last_focused=null;}this._delete_style();if(this.currentstyle){this.currentstyle._empty();this.currentstyle=null;}this._css_finder=null;this._ref_css_finder=null;this._enable_redraw_history=null;return true;};_pComponent._delete_style=function(){if(this.style){this.style.destroy();this.style=null;}if(this._styles){var _a=this._styles;for(var _c in _a){var _b=_a[_c];if(_b.destroy){_b.destroy();_b=null;}}this._styles=null;}};_pComponent._initControl=function(_a,_b){var _c=this.visible;if(!this.visible){_a.setElementVisible(false);}else{_a.setElementVisible(true);}var _d=this.on_find_CurrentStyle_margin(_b);var _e=this.currentstyle;if(_d&&_d!=_e.margin){_e.margin=_d;this._margin=_d;}if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width||this.parent._init_width,this.parent._client_height||this.parent._init_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);this._updateControl(_a,_b);};_pComponent._isEnableRedraw=function(){var _a=this._getFromComponent(this);if(!_a.enableredraw){if(!_a._enable_redraw_history["common_updatestyle"]){_a._enable_redraw_history["common_updatestyle"]=[];}this._is_applyenableredraw=false;_a._enable_redraw_history["common_updatestyle"].push(this);}return _a.enableredraw;};_pComponent._updateCursor=function(_a){if(nexacro._cur_track_info||nexacro._cur_extra_track_info){return;}var _b=this.currentstyle;if(!_a){_a=this.on_find_CurrentStyle_cursor(this._pseudo);}_b.cursor=_a;this._control_element.setElementCursor(_a);_a=null;};_pComponent._updateControl=function(_a,_b){if(!this._isEnableRedraw()){return;}if(nexacro._cur_track_info&&_b=="mouseover"){return;}var _c=false;if(this._adjust_width!=0&&this._adjust_height!=0){_c=true;}if(_a&&this._control_pseudo!=_b){this._control_pseudo=_b;var _d=this.currentstyle;var _e=this.on_find_CurrentStyle_border(_b);var _f=this.on_find_CurrentStyle_bordertype(_b);var _g=this.on_find_CurrentStyle_background(_b);var _h=this.on_find_CurrentStyle_gradation(_b);var _i=(_g!=_d.background);var _j=(_f!=_d.bordertype);var _k=(_e!=_d.border);var _l=(_h!=_d.gradation);if(_k||_j||_i||_l){this._apply_client_border=_k;_d.bordertype=_f;_d.border=_e;_d.background=_g;_d.gradation=_h;if(_c){_a.setElementBorder(_e,_f);_a.setElementBackground(_g,_h);}}_e=_f=_g=_h=null;_i=_j=_k=_l=null;var _m=this.on_find_CurrentStyle_opacity(_b);if(_m&&_m!=_d.opacity){_d.opacity=_m;if(_c){_a.setElementOpacity(_m);}}_m=null;var _n=this.on_find_CurrentStyle_shadow(_b);if(_n&&_n!=_d.shadow){_d.shadow=_n;if(_c){_a.setElementShadow(_n);}}_n=null;if(!nexacro._cur_track_info&&!nexacro._cur_extra_track_info){var _o=this.on_find_CurrentStyle_cursor(_b);if(_o&&_o!=_d.cursor){_d.cursor=_o;if(_c){_a.setElementCursor(_o);}}_o=null;}if(nexacro._enableaccessibility){var _p=this.on_find_CurrentStyle_accessibility(_b);if(_p&&_p!=_d.accessibility){_d.accessibility=this._make_accessibility_value(_p);if(_c){_a.setAccessibility(_d.accessibility);}}_p=null;}if(this._apply_client_padding){var _q=this.on_find_CurrentStyle_padding(_b);if(_q&&_q!=_d.padding){_d.padding=_q;if(_c){_a.setElementPadding(_q);}}_q=null;}if(_c){this._updateClientSize(_a);}_d=null;return true;}return false;};_pComponent._initContents=function(_a,_b){if(this._contents_pseudo!=_b){this._contents_pseudo=_b;var _c=this.currentstyle;this.on_apply_custom_pseudo(_b);this.on_create_contents();this._is_created_contents=true;if(this._has_dirty_pos){this.on_change_containerPos(this._adjust_left,this._adjust_top);this._has_dirty_pos=false;}if(this._has_dirty_rect){this.on_change_containerRect(this._client_width,this._client_height);this._has_dirty_rect=false;}}this._is_loading=false;};_pComponent._updateContents=function(_a,_b){if(!this._isEnableRedraw()){return;}if(nexacro._cur_track_info&&_b=="mouseover"){return;}if(this._contents_pseudo!=_b&&this._adjust_width!=0&&this._adjust_height!=0){this._contents_pseudo=_b;this.on_apply_custom_pseudo(_b);}};_pComponent._updateClientSize=function(_a){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;if(this._client_left!=_b||this._client_top!=_c){this._client_left=_b;this._client_top=_c;if(this._is_created_contents){this.on_change_containerPos(_b,_c);}else{this._has_dirty_pos=true;}}if(this._client_width!=_d||this._client_height!=_e){this._client_width=_d;this._client_height=_e;if(this._is_created_contents){this.on_change_containerRect(_d,_e);nexacro._redrawVMLBorder(this);}else{this._has_dirty_rect=true;}}};_pComponent._applyZoomPopup=nexacro._emptyFn;_pComponent.on_update_position=function(_a,_b){var _c=this._control_element;if(_c){var _d=this._bChangeRtl;if(_c._isRtl()){if(_a||_b){_d=true;}}_c.setElementPosition(this._adjust_left,this._adjust_top,_d);if(!isNaN(this._adjust_width)||!isNaN(this._adjust_height)){_c.setElementSize(this._adjust_width,this._adjust_height);}this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pComponent._applysetPosition=function(_a,_b,_c,_d){var _e=this._adjust_left;var _f=this._adjust_top;var _g=this._adjust_width;var _h=this._adjust_height;this._adjustPosition(_a,_b,null,null,_c,_d,this.parent._client_width,this.parent._client_height);var _i=this._control_element;if(_i){_i.setElementPosition(this._adjust_left,this._adjust_top);_i.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_i);if(_e!=this._adjust_left||_f!=this._adjust_top){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_g!=this._adjust_width||_h!=this._adjust_height){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pComponent.set_positionstep=function(_a){if(_a===""||_a===null||_a===undefined){_a=0;}else{_a=parseInt(_a)|0;}if(this.positionstep!==_a){this._beforepositionstep=this.positionstep;this.positionstep=_a;this.on_apply_positionstep(_a);}};_pComponent.on_apply_positionstep=function(_a){var _b=this.getElement();if(_b){if(_a==null){_a=0;}_b.setElementPositionStep(_a);}};_pComponent.set_style=function(_a){_a=nexacro._decodeXml(_a);var _b=_a.split("}");var _c=_b[0].trim();var _d=this._styles={};_b.pop();var _e,_f=_b.length;var _g,_h,_i;_g=_c.split("{");_i=_g[0].substring(0,_g[0].lastIndexOf(";")+1).trim();if(_i.length==0){_i=_g[0].substring(0,_g[0].length).trim();}var _j=(this.style._value!=_i);if(_j){this.style._setValue(_i);}if(_f>0){for(_e=0;_e<_f;_e++ ){_g=_b[_e].split("{");_h=_g[0].substring(_g[0].lastIndexOf(":")+1).trim();var _k=this.on_create_custom_style();_k._setValue(_g[1]);_d[_h]=_k;}}if(_j){this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}return this.style._value;};_pComponent.set_name=function(_a){this.name=_a;};_pComponent.set_text=function(_a){var _b=nexacro._toString(_a);if(_b!=this.text){this.text=_b;this._display_text=_b;this.on_apply_text();}};_pComponent.set_expr=function(_a){var _b=nexacro._toString(_a);if(_b!=this.expr){this.expr=_b;this.on_apply_expr();}};_pComponent.set_cssclass=function(_a){if(_a!=this.cssclass){this.cssclass=_a;if(this.parent){if(this._is_created){this.on_apply_prop_class();}}}};_pComponent.set_visible=function(_a){if(_a===undefined||_a===null){return;}var _b=this._control_element;_a=nexacro._toBoolean(_a);if(this.visible!=_a){var _c=this._getWindow();var _d;if(!_a&&this._is_created&&this.parent){if(_c&&_c._indexOfCurrentFocusPaths(this)> -1){var _e=this._getForm();var _f=this.tabstop;this.tabstop=false;_d=_e._searchNextTabFocus(_e._last_focused);this.tabstop=_f;}}this.visible=_a;if(_b){_b.setElementVisible(_a);this._setAccessibilityStatHidden(!_a);if(this.visible){nexacro._resetVML(this);var _g=this.parent;if(!this._is_subcontrol&&this._is_created&&_g&&_g._is_created){if(_c&&_c._focus_list&&_c._indexOfCurrentFocusPaths(_g)==_c._getCurrentFocusPathsLength()-1){var _e=this._getForm();if(!_e||(_e&&!_e._last_focused)){this._on_focus(true);}}}this.on_apply_pseudo(this._pseudo);}else{var _g=this.parent;if(!this._is_subcontrol&&_g){if(_c&&_c._indexOfCurrentFocusPaths(this)> -1){_c._removeFromCurrentFocusPath(this,false);if(_d&&_d[0]){_d[0]._on_focus(true);}}}}}}};nexacro._is_enable_setting=false;_pComponent.set_enable=function(_a){var _b=this._getForm();var _c=_b?_b._searchNextTabFocus(this):null;_a=nexacro._toBoolean(_a);if(this.enable!=_a){var _d=this._getWindow();var _e;if(!this._is_subcontrol&&!_a&&this._is_created&&this.parent){if(_d&&_d._indexOfCurrentFocusPaths(this)> -1){var _b=this._getForm();var _f=this.tabstop;this.tabstop=false;_e=_b._searchNextTabFocus(this);this.tabstop=_f;}}var _g=this._control_element;this.enable=_a;if(this._is_created){var _h=(this.parent._real_enable&&_a);if(this instanceof nexacro.MainFrame){_h=_a;}if(this._real_enable!=_h){nexacro._is_enable_setting=true;this._setEnable(_h);nexacro._is_enable_setting=false;var _i=this.parent;if(!this._is_subcontrol&&this._is_created&&_i&&_i._is_created){if(_h){if(_d&&_d._indexOfCurrentFocusPaths(_i)==_d._getCurrentFocusPathsLength()-1&&!_i._last_focused){this._on_focus(true);}}else{if(_d&&_d._indexOfCurrentFocusPaths(this)> -1){_d._removeFromCurrentFocusPath(this,false);if(_e&&_e[0]){_e[0]._on_focus(true);}}else if(_d){var _f=this.tabstop;this.tabstop=false;var _j=false;var _k=_b;while(_k&&_k instanceof nexacro.FormBase){var _i=_k.parent;if(_i&&_i._last_focused==_k){_k=_i;}else{_j=true;break;}}this.tabstop=_f;if(_c&&_c[0]&&!_j&&this==_b._last_focused){_c[0]._on_focus(true);}}}}}}else{if(this._real_enable!=null&&this._real_enable!=undefined&&this.parent){nexacro._is_enable_setting=true;this._setEnable(this.parent._isEnable()&&this.enable);nexacro._is_enable_setting=false;}}}};_pComponent._is_enable_changing=false;_pComponent._setEnable=function(_a){if(this._is_enable_changing){return false;}var _b=(_a&&this.enable);if(this._real_enable!=_b){var _c=this._control_element;this._real_enable=_b;if(_b){this._status="enable";this._pseudo="normal";}else{this._status="disable";this._pseudo="disabled";}this._is_enable_changing=true;this._stat_change(this._status,this._pseudo);this._is_enable_changing=false;this.on_apply_prop_enable(this._real_enable);return true;}return false;};_pComponent.set_taborder=function(_a){if(_a>=0&&_a!==this.taborder){this.taborder=_a;this._taborder=(( +_a)!=( +_a))? -1:parseInt(_a);this.on_apply_prop_taborder();}return _a;};_pComponent.set_tabstop=function(_a){_a=nexacro._toBoolean(_a);if(this.tabstop){if(!_a){this.tabstop=_a;this.on_apply_prop_taborder();}}else{if(_a){this.tabstop=_a;this.on_apply_prop_taborder();}}return _a;};_pComponent.on_get_prop_tabstop=function(){return this.tabstop;};_pComponent._isFocusAcceptable=function(){return this._is_focus_accept;};_pComponent.set_tooltiptext=function(_a){if(_a!=this.tooltiptext){if(!_a){_a="";}this.tooltiptext=_a;this.on_apply_prop_tooltip();}return _a;};_pComponent.set_tooltiptype=function(_a){if(_a!=this.tooltiptype){this.tooltiptype=_a;this.on_apply_prop_tooltip();}return _a;};_pComponent.set_enableevent=function(_a){this.enableevent=nexacro._toBoolean(_a);return _a;};_pComponent.set_enableredraw=function(_a){this.enableredraw=nexacro._toBoolean(_a);if(this.enableredraw){this.on_apply_enableredraw();}return _a;};_pComponent.on_apply_enableredraw=function(){if(this._enable_redraw_history["common_updatestyle"]){var _a=this._enable_redraw_history["common_updatestyle"];var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(!_c._is_alive||_c._is_applyenableredraw){continue;}_c._control_pseudo="";_c._contents_pseudo="";_c.on_apply_pseudo(_c._pseudo);_c._is_applyenableredraw=true;}this._enable_redraw_history["common_updatestyle"]=[];}this._enable_redraw_history={};};_pComponent.set_transparenthittest=function(_a){};_pComponent._on_last_lbuttonup=nexacro._emptyFn;_pComponent._on_last_keyup=nexacro._emptyFn;_pComponent.set_hotkey=function(_a){var _b=this._hotkey;if(_b){this._unregisterHotkey();}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.hotkey=null;this._hotkey=null;delete _c;}else{this.hotkey=_c._toString();this._hotkey=_c;if(this._is_created){this._registerHotkey();}}};_pComponent.set_rtldirection=function(_a){var _b=this.rtldirection;if(_b!=_a){this.rtldirection=_a;this._setRtlDirection(_a);}return _a;};_pComponent.set_locale=nexacro._emptyFn;_pComponent._registerHotkey=function(){var _a=this._hotkey;if(!_a||_a._is_registered){return;}this._setAccessibilityHotKey(this.hotkey);var _b=this._getMainForm();if(this._is_frame||this==_b){var _c=this.getOwnerFrame();if(_c){nexacro._registerHotkeyComp(_c,this,_a);}}else{if(_b){nexacro._registerHotkeyComp(_b,this,_a);}}};_pComponent._unregisterHotkey=function(){var _a=this._hotkey;if(!_a||!_a._is_registered){return;}var _b=this._getMainForm();if(this._is_frame||this==_b){var _c=this.getOwnerFrame();if(_c){nexacro._unregisterHotkeyComp(_c,this,_a);}}else{if(_b){nexacro._unregisterHotkeyComp(_b,this,_a);}else{delete this._hotkey;this._hotkey=null;}}};_pComponent._processHotkey=function(_a,_b,_c,_d){var _e=this._getMainForm();if(!this._is_frame&&this!=_e){if(_e){var _f=_e._processHotkey(_a,_b,_c,_d,this);if(_f&&this._grid&&this._grid._after_recreate_contents_all){this._grid._on_last_keyup();}return _f;}}};_pComponent._on_hotkey=function(_a,_b,_c,_d){this.setFocus();};_pComponent._saveScrollPos=function(){};_pComponent._applyScrollPos=function(){};_pComponent.bringToFront=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=this._child_list;var _d=_b.length;var _e=_d-1;var _f=nexacro._indexOf(_b,this);if(_f>=0&&_f<_e){_b.splice(_f,1);_b.splice(_e,0,this);var _g=_a.getElement();var _h=this._control_element;if(_c!=null||_c!=undefined){for(var _j=0,_k=_c.length;_j<_k;_j++ ){var _i=_c[_j];_i._saveScrollPos();}}_g.bringToFrontElement(_h);if(_c!=null||_c!=undefined){for(var _j=0,_k=_c.length;_j<_k;_j++ ){var _i=_c[_j];_i._applyScrollPos();}}}}};_pComponent.bringToPrev=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=this._child_list;var _d=_b.length;var _e=_d-1;var _f=nexacro._indexOf(_b,this);if(_f>=0&&_f<_e){if(_c!=null||_c!=undefined){for(var _h=0,_i=_c.length;_h<_i;_h++ ){var _g=_c[_h];_g._saveScrollPos();}}this.moveToPrev(_b[_f+1]);if(_c!=null||_c!=undefined){for(var _h=0,_i=_c.length;_h<_i;_h++ ){var _g=_c[_h];_g._applyScrollPos();}}}}};_pComponent.moveToNext=function(_a){if(this.parent){var _b=this.parent;var _c=(nexacro._isString(_a))?_b[_a]:_a;if(_c==null){return;}var _d=_b._child_list;var _e=nexacro._indexOf(_d,this);var _f=nexacro._indexOf(_d,_c);if(_e<0||_f<0){return;}if(_e> -1&&_f> -1&&_e!=_f-1){_d.splice(_e,1);var _g=nexacro._indexOf(_d,_c);_d.splice(_g,0,this);var _h=_b.getElement();_h.moveToNextElement(this._control_element,_c.getElement());}}};_pComponent.moveToPrev=function(_a){if(this.parent){var _b=this.parent;var _c=(nexacro._isString(_a))?_b[_a]:_a;if(_c==null){return;}var _d=_b._child_list;var _e=nexacro._indexOf(_d,this);var _f=nexacro._indexOf(_d,_c);if(_e<0||_f<0){return;}if(_e> -1&&_f> -1&&_e!=_f+1){_d.splice(_e,1);var _g=nexacro._indexOf(_d,_c);_d.splice(_g+1,0,this);var _h=_b.getElement();_h.moveToPrevElement(this._control_element,_c.getElement());}}};_pComponent.sendToBack=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=nexacro._indexOf(_b,this);if(_c>0){_b.splice(_c,1);_b.splice(0,0,this);var _d=_a.getElement();_d.sendToBackElement(this._control_element);}}};_pComponent.sendToNext=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=nexacro._indexOf(_b,this);if(_c>0){this.moveToNext(_b[_c-1]);}}};_pComponent.create=function(){this.initProperties();this.initEvents();};_pComponent._destroy=function(){return this.destroy();};_pComponent.destroy=function(){if(!this._is_alive){return;}return this.destroyComponent();};_pComponent.init=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_a){this.id=this.name=_a;}this.position=_b?_b:"absolute";var _i=this._adjust_left;var _j=this._adjust_top;var _k=this._adjust_width;var _l=this._adjust_height;var _m=false,_n=false;if(arguments.length>=6){this._adjustPosition(_c,_d,_g,_h,_e,_f,this.parent?this.parent._client_width:0,this.parent?this.parent._client_height:0);if(this._adjust_width!=_k||this._adjust_height!=_l){_m=true;}if(this._adjust_left!=_i||this._adjust_top!=_j){_n=true;}this.on_update_position(_m,_n);}};_pComponent._getPosRight=function(){return this._adjust_left+this._adjust_width;};_pComponent._getPosBottom=function(){return this._adjust_top+this._adjust_height;};_pComponent.move=function(_a,_b,_c,_d,_e,_f){var _g=this._adjust_left;var _h=this._adjust_top;var _i=this._adjust_width;var _j=this._adjust_height;var _k=false,_l=false;var _m=false;if(_c==null&&_e==null){_c=this.width;_e=this.right;}if(_d==null&&_f==null){_d=this.height;_f=this.bottom;}this._adjustPosition(_a,_b,_e,_f,_c,_d,this.parent._client_width,this.parent._client_height);if(this._adjust_width!=_i||this._adjust_height!=_j){_k=true;if(_i==0||_j==0){_m=true;}}if(this._adjust_left!=_g||this._adjust_top!=_h||(this._isRtl(this.parent)&&this._left!=null)){_l=true;}if(this._isPopupVisible&&this._isPopupVisible()){var _n=nexacro._getMobileOrientation();if(this._orientation!=_n){this._orientation=_n;_k=true;}}this.on_update_position(_k,_l);if(this._control_element){if(_m){this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";}var _o=this._getResultPseudo(this._status,this._pseudo);this._updateControl(this._control_element,_o);this._updateContents(this._control_element,_o);}};_pComponent.move_default=null;_pComponent._popup_frame_focus=function(){if(nexacro.Browser=="Runtime"){if(this._is_popup_frame){this._getWindowHandle().focus();}}else{var _a=this;while(_a){if(_a._is_frame&&_a._is_popup_frame){break;}_a=_a.parent;}if(_a){var _b=_a._getWindow();var _c=_b._handle;if(_b&&_c){if(nexacro.Browser=="Chrome"){var _d=_b.parent;_d._setChildWindowFocus(_c);}else{_c.focus();}}}}};_pComponent._setFocus=function(_a,_b,_c){if(_b> -1||_b<4){this._focus_direction=_b;}else{this._focus_direction= -1;}if(_c==true){this._block_inner_focus=true;this.setFocus(_a);this._block_inner_focus=false;}else{return this.setFocus(_a);}};_pComponent.setFocus=function(_a,_b){var _c=this._getRootWindow();if(!this.getElement()){return;}var _d=_c._isActiveLayerComponent(this);if(!_d){return;}if(!this._isVisible()||!this._isEnable()||!this._isFocusAcceptable()){return;}this._popup_frame_focus();if(_a===undefined){_a=true;}var _e;if(_b===undefined){_e=nexacro._enableaccessibility;}else{_e=!_b;}var _f,_g=false;if(_e){if(this instanceof nexacro.Form){if(this._block_inner_focus){_f=true;}this._block_inner_focus=true;if(this._last_focused){if(_c._indexOfCurrentFocusPaths(this._last_focused)>=0){_g=true;_c._removeFromCurrentFocusPath(this._last_focused);}else{this._last_focused=null;}}}}var _h=this._focus_direction;if(_a){var _i=this,_j,_k=this;if(!this._block_inner_focus){while(_i){_j=_i._getLastFocused();if(!_j){_j=_i._getTabOrderFirst();}if(_j){_k=_j;}_i=_j;}_k._resetScrollPos(_k,_k._adjust_left,_k._adjust_top,_k._adjust_left+_k._adjust_width,_k._adjust_top+_k._adjust_height,_h);}else{nexacro.Component.prototype._resetScrollPos.call(this,this,this._adjust_left,this._adjust_top,this._adjust_left+this._adjust_width,this._adjust_top+this._adjust_height,_h);}}var _l=this._find_lastFocused(this);var _m="focus";if(_h==0){_m="tabkey";}else if(_h==1){_m="shifttabkey";}else if(_h==2){_m="downkey";}else if(_h==3){_m="upkey";}this._focus_direction= -1;var _n=this._getRootForm();_n._is_comp_focus=true;this._on_focus(true,_m);_n._is_comp_focus=false;if(_g){this.on_apply_custom_setfocus();}if(this._block_inner_focus&&!_f){this._block_inner_focus=false;}return _l;};_pComponent.redraw=function(){};_pComponent.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){var _c=this.getElement();if(_c&&_c._handle&&_c._vml_elem){_c._refreshVMLContainerElement(_c,_c._vml_elem);}return;}var _d=this._adjust_width;var _e=this._adjust_height;var _f=false;if(_d!=this._adjust_left+_a||_e!=this._adjust_top+_b){this.width=_a;this.height=_b;_f=true;}this._update_position(_f,false);};_pComponent._update_position=function(_a,_b){var _c=this._adjust_left;var _d=this._adjust_top;var _e=this._adjust_width;var _f=this._adjust_height;var _g=false;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._adjust_width!=_e||this._adjust_height!=_f){_a=true;if(_e==0||_f==0){_g=true;}}if(this._adjust_left!=_c||this._adjust_top!=_d){_b=true;}this.on_update_position(_a,_b);if(_g){this.currentstyle._empty();this.on_apply_pseudo(this._pseudo);}};_pComponent._on_afterHideWaitComp=function(_a){if(this._pseudo!=_a){this._stat_change(this._status,_a);}};_pComponent.saveToImage=function(_a,_b,_c){if(this._control_element){return this._control_element.saveToImageFile(_a,_b,_c);}};_pComponent.saveToImageFile=function(_a,_b,_c){if(this._control_element){return this._control_element.saveToImageFile(_a,_b,_c);}};_pComponent.saveToImageObject=function(){if(this._control_element){return this._control_element.saveToImageObject();}};_pComponent.applyto_bindSource=function(_a,_b){if(!this._bind_event){return true;}var _c={propid:_a,val:_b};var _d=this._bind_event._fireEvent(this,_c);return _d;};_pComponent.on_getBindableProperties=function(){};_pComponent.show=function(){if(nexacro._load_session_timer){nexacro._load_session_timer.stop();if(nexacro._load_session_timer.callback){nexacro._load_session_timer.callback.call();}}var _a=this.parent;if(_a){var _b=this._control_element;if(!_b){if(this.createComponent(true)){this.on_created();}}else{}var _c=this._getRootForm();if(_c&&_c._bind_manager){_c._bind_manager._delayBinds();}}};_pComponent._resizeBorder=function(){var _a=this._adust_width;var _b=this._adjust_height;var _c=this.on_find_CurrentStyle_border(this._pseudo);if(_c){var _d=nexacro._cloneStyleObject(_c);var _e=false;if(_a<(_d.left_width+_d.right_width)){_d.left_width=_a;_d.right_width=0;_e=true;}if(_b<(_d.top_width+_d.bottom_width)){_d.top_width=_b;_d.bottom_width=0;_e=true;}if(_e){this._control_element.setElementBorder(_d,this.currentstyle.bordertype);}}};_pComponent._isVisible=function(){var _a=this;while(_a!=null){if(_a._is_frame&&_a._is_popup_frame){break;}if(_a.visible==false){return false;}_a=_a.parent;}return true;};_pComponent._isEnable=function(){var _a=this;while(_a!=null){if(_a._is_frame&&_a._is_popup_frame){break;}if(_a._real_enable==false||_a.enable==false){return false;}_a=_a.parent;}return true;};_pComponent._isPropEnable=function(){var _a=this;while(_a!=null){if(_a._is_frame&&_a._is_popup_frame){break;}if(_a.enable==false){return false;}_a=_a.parent;}return true;};_pComponent._isAccessibilityRoleHeading=function(){if(this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="heading"){return true;}else{return false;}};_pComponent._isEditableComponent=function(_a){if(this.readonly!==undefined){if(_a&&_a.match(this._type_name)){if(this._type_name=="Edit"){var _b=_a.split(",");for(var _c=0,_d=_b.length;_c<_d;_c++ ){if(_b[_c].trim()==this._type_name){return true;}}}else{return true;}}else if(_a=="All"||_a==""){return true;}else{return false;}}return false;};_pComponent._getForm=function(){return this._refform;};_pComponent._getRootForm=function(){var _a=this._refform;while((_a&&_a._is_form==false)||(_a&&_a._is_form&&(_a instanceof nexacro.Div||_a instanceof nexacro.Tabpage||_a instanceof nexacro.Tab))){_a=_a.parent;}return _a;};_pComponent._findDataset=function(_a){if(_a&&_a.length>0){var _b=this[_a];if(_b&&(_b._type_name=="Dataset")){return _b;}if(this._refform){var _b=this._refform.lookup(_a);if(_b&&(_b._type_name=="Dataset")){return _b;}}}return undefined;};_pComponent._findForm=function(_a){var _b=_a;while(_b&&_b._is_form==false){_b=_b.parent;}return _b;};_pComponent._getOwnerFrame=function(){var _a=this;while(_a&&!_a._is_frame){_a=_a.parent;}return _a;};_pComponent._getWindow=function(){var _a=this.parent;if(_a){return _a._getWindow();}var _b=this._refform;if(_b&&_b!=this){return _b._getWindow();}return nexacro._findWindow(nexacro._getMainWindowHandle());};_pComponent._getRootWindow=function(){var _a=this._getWindow();while(_a){if(_a.frame){return _a;}_a=_a.parent;}return this._getWindow();};_pComponent._getWindowHandle=function(){var _a=this._getWindow();if(_a){return _a._handle;}return null;};_pComponent._getLastFocused=function(){return this._last_focused;};_pComponent._find_lastFocused=function(){var _a=this._getMainForm();if(!_a){return null;}var _b=_a._last_focused;while(_b&&_b._is_form){var _c=_b._getLastFocused();if(!_c){break;}_b=_c;}return _b;};_pComponent._getDragData=function(){if(this.text){return this.text;}return null;};_pComponent.getElement=function(){return this._control_element;};_pComponent.getMainframe=function(){if(nexacro._is_attach_childframe){return this._getWindow().frame;}return application.mainframe;};_pComponent._getScrollable=function(_a,_b,_c,_d){if(!this._is_scrollable){return false;}var _e,_f,_g=this.vscrollbar;if(_b&&_g&&_g.enable){_f=_g.pos+_d;if(_f<_g._max&&_f>=_g._min){_e={y:true};}}var _h=this.hscrollbar;if(_a&&_h&&_h.enable){_f=_h.pos+_c;if(_f<_h._max&&_f>_h._min){if(_e){_e.x=true;}else{_e={x:true};}}}return _e;};_pComponent._getRefFormBaseUrl=function(){if(this._refform){return this._refform._getFormBaseUrl();}};_pComponent._getScreenPosition=function(){var _a=this._control_element;if(_a){var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=nexacro._getElementScreenPosition(_a);var _d=_c.x;var _e=_c.y;return {x:_d,y:_e};}return {x:0,y:0};};_pComponent._getWindowPosition=function(){var _a=this._control_element;if(_a){var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=nexacro._getElementXYInWindow(_a._handle);var _d=_c[0]-(_b?_b._getBorderLeftWidth():0);var _e=_c[1]-(_b?_b._getBorderTopWidth():0);return {x:_d,y:_e};}return {x:0,y:0};};_pComponent._isRtl=function(_a){if(!_a){_a=this;}return _a._rtldirection=="rtl";};_pComponent._setRtlDirection=function(_a){var _b=this.rtldirection;var _c=this._rtldirection;if(_a=="inherit"){var _d=this.parent._rtldirection;if(_c!=_d){_c=_d;}}else if(_c!=_a){if(_b==_a){_c=_a;}else if(!_b||_b=="inherit"){_c=_a;}}if(_c!=this._rtldirection){this._rtldirection=_c;this.on_apply_prop_rtldirection();}};_pComponent._convertLeftForRtlLayout=function(_a,_b){return _a;};_pComponent._setLocale=function(_a){if(!this.locale){this._locale=_a;this.on_apply_locale();}};_pComponent._getLocale=function(){if(this._locale===undefined){return undefined;}var _a=nexacro.System.locale;var _b=this;while(_b){if(_b._locale){_a=_b._locale;break;}_b=_b.parent;}return _a;};_pComponent._getCumulativeZoomFactor=function(){var _a=this;var _b=100;while(_a&&!(_a instanceof nexacro.Frame)){if(_a.getZoom){var _c=_a.getZoom();if(_c!=100){_b*=(_c/100.0);}}_a=_a.parent;}return _b;};_pComponent._getFixedOffsetValue=function(){var _a=0,_b=0;if(this.right!=null){_a=0;}else if(this.width!=null){var _c=this.width;if(typeof (_c)=="string"&&_c.indexOf("%")>=0){if(parseFloat(_c)<=100){_a=0;}else{_a=this.getOffsetRight();}}else{_a=this.getOffsetRight();}}if(this.bottom!=null){_b=0;}else if(this.height!=null){var _c=this.height;if(typeof (_c)=="string"&&_c.indexOf("%")>=0){if(parseFloat(_c)<=100){_b=0;}else{_b=this.getOffsetBottom();}}else{_b=this.getOffsetBottom();}}return {right:_a,bottom:_b};};_pComponent._setAccessibilityNotifyEvent=function(_a){var _b=this.getElement();if(_b&&_b.accessibility_enable){if(_a!==undefined){this._resetScrollPos(this,this._adjust_left,this._adjust_top,this._adjust_left+this._adjust_width,this._adjust_top+this._adjust_height,(_a>0)?0:1);}_b.setElementAccessibilityNotifyEvent();var _c=this._getForm();if(_c){var _d=_c._getWindow();_d._accessibility_last_focused_comp=this._getRootComponent(this);}return true;}return false;};_pComponent._setAccessibilityInfoByHover=function(){return this._setAccessibilityNotifyEvent();};_pComponent._clearAccessibilityInfoByHover=nexacro._emptyFn;_pComponent._applyMouseLeaveEvent=nexacro._emptyFn;_pComponent._applyMouseOverEvent=nexacro._emptyFn;delete _pComponent;}if(!nexacro.PopupComponent){nexacro.PopupComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.visible=false;this._is_window=true;this._attached_comp=null;this._is_subcontrol=true;this._call_comp=null;};var _pPopupComponent=nexacro.PopupComponent.prototype=nexacro._createPrototype(nexacro.Component,nexacro.PopupComponent);_pPopupComponent._type_name="PopupComponent";_pPopupComponent._is_popup_control=true;_pPopupComponent._is_selfclose=true;_pPopupComponent._default_zindex=nexacro._zindex_popup;_pPopupComponent._track_capture=true;_pPopupComponent.on_create_control_element=function(_a){var _b=this.on_create_popup_control_element(_a);if(_b&&this._default_zindex>0){var _c=this._default_zindex;var _d=this._getWindow();if(_d){var _e=_d._getComponentLayerInfo(this);if(_e){_c=Math.max(_e.popup_zindex,this._default_zindex);}_e=null;}_b.setElementZIndex(_c);}return _b;};_pPopupComponent.on_created=function(_a){if(!this._is_created){nexacro.Component.prototype.on_created.call(this,_a);}var _b=this._control_element;if(!this.visible&&_b){_b.setElementPosition(0,0);_b.setElementSize(1,1);}};_pPopupComponent.destroyComponent=function(){this._is_alive=false;if(this.visible){nexacro._removePopupComponent(this);this.visible=false;}if(nexacro._enableaccessibility){if(application._accessibilityHistoryList&&!this._is_subcontrol){application._remove_accessibility_history(this);}}var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);_a._releaseCaptureLock(this._attached_comp);this._track_capture=false;}if(this._subctrlitems){nexacro._deleteAllSubComponent(this);}if(this._is_subcontrol&&this.parent&&this.parent._subctrlitems){nexacro._deleteSubComponent(this,this.parent);}if(this.parent&&this.parent.removeChild){this.parent.removeChild(this.id);}if(this._control_element){this._control_element.destroy();this._control_element=null;}this._clearEventListeners();this.on_destroy_contents();this._is_created=false;return true;};_pPopupComponent.on_change_containerRect=function(_a,_b){var _c=this._attached_comp;if(_c){var _d=_c._adjust_left;var _e=_c._adjust_top;var _f=_c._adjust_width;var _g=_c._adjust_height;var _h=false,_i=false;var _j=false;_c._adjustPosition(0,0,null,null,_a,_b,this._client_width,this._client_height);if(_c._adjust_width!=_f||_c._adjust_height!=_g){_h=true;if(_f==0||_g==0){_j=true;}}if(_c._adjust_left!=_d||_c._adjust_top!=_e){_i=true;}if(_c._isPopupVisible&&_c._isPopupVisible()){_h=true;}_c.on_update_position(_h,_i);if(_c._control_element){if(_j){_c.currentstyle._empty();_c._control_pseudo="";_c._contents_pseudo="";}var _k=_c._getResultPseudo(_c._status,_c._pseudo);_c._updateControl(_c._control_element,_k);_c._updateContents(_c._control_element,_k);}}};_pPopupComponent._contains=function(_a){while(_a){if(_a==this._attached_comp){return true;}_a=_a.parent;}return false;};_pPopupComponent.set_visible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._control_element;if(_b){_b.setElementVisible(_a);if(this.visible){if(!this._is_subcontrol){if(this.parent._last_focused){this._call_comp=this.parent._last_focused;}else{this._call_comp=this.parent;}}var _c=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_b,_c);this._updateContents(_b,_c);}else{if(this instanceof nexacro.WaitComponent){var _c=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_b,_c);}_b.setElementPosition(0,0);_b.setElementSize(1,1);}if(nexacro._enableaccessibility&&this._attached_comp){this._attached_comp._setAccessibilityStatExpanded(_a);this._attached_comp._setAccessibilityStatHidden(_a);}if(this.visible){nexacro._resetVML(this);}if(this._is_selfclose){if(!_a){var _d=this._attached_comp;if(_d&&_d.on_fire_oncloseup){_d.on_fire_oncloseup(_d);}nexacro._removePopupComponent(this);var _e=this._getWindow();_e._removeFromCurrentFocusPath(this,false);if(!this._is_subcontrol){var _f=this.parent._last_focused;if(!_f){this._call_comp._on_focus(true);}else{_f._on_focus(this);}}}else{nexacro._appendPopupComponent(this);}}}}};_pPopupComponent._attach=function(_a){this._attached_comp=_a;nexacro._addSubComponent(this,_a);var _b=this._control_element;if(_a&&_a!=this&&_a._control_element&&_b){var _c=_a._control_element;if(_c){var _d=_c._parent_elem;if(_a._is_created&&_d!=_b){_c._removeFromContainer();}_c._parent_elem=_b;}if(_a._is_created){_c._appendToContainer(_b);}}};_pPopupComponent._detach=function(_a){if(this._attached_comp==_a&&_a!=this){this._attached_comp=null;var _b=this._control_element;var _c=_a._control_element;if(_c&&_b){if(_a._is_created){_c._removeFromContainer();}_c._parent_elem=null;}}};_pPopupComponent._is_popup=function(_a){return this.visible;};_pPopupComponent._popup=function(_a,_b,_c,_d){if(!this._attached_comp){return;}var _e=this._getWindow();if(_e&&this._track_capture){_e._setCaptureLock(this._attached_comp,true,false);}var _f=this._control_element;if(_f){var _g=this.getMainframe();if(_g){_a=_g._convertLeftForRtlLayout(_a,_c);}_f.setElementPosition(_a,_b);_f.setElementSize(_c,_d);this._updateClientSize(_f);}this.set_visible(true);};_pPopupComponent._popupBy=function(_a,_b,_c,_d,_e){if(!this._attached_comp||!_a){return;}var _f,_g;var _h=nexacro._getElementPositionInFrame(_a.getElement());var _i=this.getMainframe();if(_i){var _j=_i._control_element;if(this._attached_comp._isRtl()){_h.x=_j.client_width-_a._adjust_width-_h.x;}}var _k=_a.on_find_CurrentStyle_border(_a._pseudo);var _l={x:_h.x,y:_h.y};var _m=this._getWindow();_f=_l.x+_b-(_m?_m._custom_node_left:0);_g=_l.y+_c-(_m?_m._custom_node_top:0);var _n=_m.clientWidth;var _o=_m.clientHeight;if(_f+_d>_n){var _p=_f-_d;if(_p<0){_f=0;if(_d>_n){_d=_n;}}else{_f=_p;}}if(_g+_e>_o){var _q=_o-_e;if(_q<0){_g=0;_e=_o;}else{_g=_q;}}if(_m&&this._track_capture){_m._setCaptureLock(this._attached_comp,true,false);}var _j=this._control_element;if(_j){_j.setElementPosition(_f,_g);_j.setElementSize(_d,_e);this._updateClientSize(_j);}this.set_visible(true);};_pPopupComponent._closePopup=function(){var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this._attached_comp);}this.set_visible(false);};_pPopupComponent._findOwnerElementHandle=function(){var _a={};_a.owner_handle=null;_a.is_append=true;_a.ref_handle=null;var _b=this._getWindow();if(_b){var _c;if(this instanceof nexacro.WaitComponent){_c={};_c.popup_zindex=nexacro._zindex_waitcursor;}else{_c=_b._getComponentLayerInfo(this);}if(_c.is_modal){var _d=_c.frame;var _e=_d._modal_overlay_elem;_a.owner_handle=_e._handle;_a.is_append=true;}else{if(_c.ref_first_modal_frame){var _d=_c.ref_first_modal_frame;_a.owner_handle=_b._dest_handle;_a.is_append=false;_a.ref_handle=_d._modal_overlay_elem._handle;}else{_a.owner_handle=_b._dest_handle;_a._is_append=true;}}}return _a;};delete _pPopupComponent;}if(!nexacro.WaitComponent){nexacro.WaitComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.visible=false;this._img_elem=null;this._image_width=0;this._image_height=0;this._context_list=[];this._is_subcontrol=false;this._is_focus_accept=false;};var _pWaitComponent=nexacro.WaitComponent.prototype=nexacro._createPrototype(nexacro.PopupComponent,nexacro.WaitComponent);_pWaitComponent._type_name="WaitComponent";_pWaitComponent._is_popup_control=true;_pWaitComponent._is_selfclose=false;_pWaitComponent._default_zindex=nexacro._zindex_waitcursor;_pWaitComponent.on_create_contents=function(){var _a=this.getElement();if(_a){this._img_elem=new nexacro.ImageElement(_a);}};_pWaitComponent.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._img_elem;if(_b){_b.setElementVisible(true);_b.create();}}if(nexacro._enableaccessibility){var _c=this.currentstyle;var _d=nexacro.Component._default_accessibility;if(_d&&_d!=_c.accessibility){_c.accessibility=this._make_accessibility_value(_d);_a.setAccessibility(_c.accessibility);}if(nexacro._accessibilitytype==4){if(_a&&_a._handle){nexacro.__setDOMNodeAccessibilityHidden(_a._handle,true);}}}};_pWaitComponent.on_change_containerRect=function(_a,_b){var _c=this._img_elem;if(_c){var _d=Math.round((_a-this._image_width)/2);var _e=Math.round((_b-this._image_height)/2);_c.setElementPosition(_d,_e);_c.setElementSize(this._image_width,this._image_height);}};_pWaitComponent._getAccessibilityLabel=function(_a){return "Wait Cursor";};_pWaitComponent._on_loadimage=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this._img_elem;if(_d&&_b>0&&_c>0){this._image_width=_b;this._image_height=_c;var _e=this._adjust_width;var _f=this._adjust_height;var _g=Math.round((_e-_b)/2);var _h=Math.round((_f-_c)/2);_d.setElementPosition(_g,_h);_d.setElementSize(_b,_c);_d.setElementImageUrl(_a);}};_pWaitComponent.setImage=function(_a){var _b=this._img_elem;if(_b){var _c=nexacro._getImageSize(_a,this._on_loadimage,this);if(_c){this._image_width=_c.width;this._image_height=_c.height;var _d=this._adjust_width;var _e=this._adjust_height;var _f=Math.round((_d-_c.width)/2);var _g=Math.round((_e-_c.height)/2);_b.setElementPosition(_f,_g);_b.setElementSize(_c.width,_c.height);_b.setElementImageUrl(_a);}}};_pWaitComponent._updateControl=function(_a,_b){if(_a){this._control_pseudo=_b;if(this._control_pseudo!=_b){if(nexacro.Browser=="Runtime"){var _c=nexacro._getCachedStyleObj("background","#ffffff01");_a.setElementBackground(_c,null);}}return true;}return false;};_pWaitComponent.on_destroy_contents=function(){if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}};_pWaitComponent.show=function(){if(!this._is_created||!this.parent){return;}var _a=this._getWindow();if(_a){var _b,_c,_d,_e;_b=_a.getLeft();_c=_a.getTop();if(_a.frame){var _f=_a.frame;_d=_f.getOffsetWidth();_e=_f.getOffsetHeight();}else{_d=_a.getClientWidth();_e=_a.getClientHeight();}_a._setCaptureLock(this,true,true);this._adjustPosition(0,0,null,null,_d,_e,_d,_e);this.on_update_position(true,true);var _g=this._control_element;if(_g){_g.setElementPosition(0,0);_g.setElementSize(_d,_e);this._updateClientSize(_g);var _h=nexacro.Component._wait_cursor;var _i=this.currentstyle;if(_h&&_i.cursor!=_h){_i.cursor=_h;_g.setElementCursor(_h);}}this.set_visible(true);}};_pWaitComponent.hide=function(){var _a=this._getWindow();if(_a){_a._releaseCaptureLock(this);var _b=this._control_element;if(_b){_b.setElementSize(1,1);this._updateClientSize(_b);}}if(this._is_created&&this._is_alive){var _c=this.parent;while(_c){if(_c._is_form){break;}_c=_c._last_focused;}this.set_visible(false);var _d=nexacro._getHoverElement(_a);var _e=_a.findComponent(_d,0,0)[0];if(_c){var _f=_c._last_focused;var _g;if(_f){if(_c._obj_mousemove&&(_c._obj_mousemove!=_f)){_f._on_afterHideWaitComp("normal");if(_c._obj_mousemove instanceof nexacro.WaitComponent){_g=nexacro._getCachedStyleObj("cursor","arrow");}else{_g=_c._obj_mousemove.currentstyle.cursor;}}else{var _h=false;var _i=_e;while(_i){if(_i==_f){_h=true;break;}_i=_i.parent;}if(_h){_f._on_afterHideWaitComp(_f._pseudo);_g=_f.currentstyle?_f.currentstyle.cursor:null;}else{_f._on_afterHideWaitComp("normal");if(_e){_e._on_afterHideWaitComp("mouseover");_g=_e?_e.currentstyle?_e.currentstyle.cursor:null:null;}}}var _j=this.currentstyle;if(_g!=_j.cursor){_j.cursor=_g;this._control_element.setElementCursor(_g);}}else{_g=_e?_e.currentstyle?_e.currentstyle.cursor:null:null;var _j=this.currentstyle;if(_g!=_j.cursor){_j.cursor=_g;this._control_element.setElementCursor(_g);}}}}};_pWaitComponent._addContext=function(_a){if(_a){this._context_list.push(_a);}};_pWaitComponent._removeContext=function(_a){if(!_a){return;}var _b=nexacro._indexOf(this._context_list,_a);if(_b>=0){this._context_list[_b]=null;delete this._context_list[_b];this._context_list.shift();}};_pWaitComponent.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return true;};_pWaitComponent._on_keydown=function(_a,_b,_c,_d,_e){if(_b==nexacro.Event.KEY_TAB){_a._event_stop=true;}else if(_b==nexacro.Event.KEY_ESC){_a._event_stop=true;var _f=this._context_list;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){var _h=_f[_i];if(_h instanceof nexacro.Form){_h._stopTransaction();}}}return true;};delete _pWaitComponent;}if(!nexacro.CanvasComponent){nexacro.CanvasComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.id=this.name=_a||null;this.enableevent=false;this._apply_client_padding=false;this._canvas=null;this._drawn=false;this._control_element=null;this._inner_elem=null;};var _pCanvasComponent=nexacro._createPrototype(nexacro.Component,nexacro.CanvasComponent);nexacro.CanvasComponent.prototype=_pCanvasComponent;_pCanvasComponent._type_name="CanvasComp";_pCanvasComponent.on_create_contents=function(){var _a=this.getElement();var _b=new nexacro.CanvasElement(_a);if(_b){_b.setElementPosition(0,0);_b.setElementSize(this._client_width,this._client_height);}this._canvas=_b;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pCanvasComponent.on_created_contents=function(){var _a=this._canvas;if(_a){_a.create();}this.ondraw(_a);};}else{_pCanvasComponent.on_created_contents=function(){var _a=this._canvas;if(_a){_a.create();}this.ondraw(_a);};}_pCanvasComponent._initInner=function(){this.on_apply_pseudo();this.on_apply_custom_pseudo();};_pCanvasComponent.on_destroy_contents=function(){if(this._canvas){this._canvas.destroy();this._canvas=null;}};_pCanvasComponent.on_change_containerRect=function(_a,_b){if(this._canvas){this._canvas._moveCanvas(0,0,_a,_b);this._drawn=false;this.ondraw(this._canvas);}};_pCanvasComponent.ondraw=function(_a){};_pCanvasComponent.redraw=function(){this.ondraw(this._canvas);};delete _pCanvasComponent;nexacro.CanvasCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pCanvasCtrl=nexacro.CanvasCtrl.prototype=nexacro._createPrototype(nexacro.CanvasComponent,nexacro.CanvasCtrl);nexacro._setForControlStyleFinder(_pCanvasCtrl);delete _pCanvasCtrl;}if(nexacro.Component){var _pComponent=nexacro.Component.prototype;_pComponent._resetScrollPos=function(_a,_b,_c,_d,_e,_f){if(this._is_frame){return;}if(!this._is_popup_control&&this.parent&&this.parent!=this){this.parent._resetScrollPos(this,_b,_c,_d,_e,_f);}};_pComponent._getSameParent=function(_a){if(!_a){return;}var _b=this.parent;var _c=0;var _d=[];while(_b){_c=nexacro._indexOf(_a,_b);_d.push(_b);if(_c> -1||_b._is_window||(_b._is_frame&&(_b._window_type==1||_b._window_type==4))){return [_d,_c];}_b=_b.parent;}};_pComponent._setLastFocus=function(_a){if(_a&&!_a._is_popup_control){if(_a&&nexacro._enableaccessibility&&nexacro._accessibilitytype==5){_a._setAccessibilityNotifyEvent(1);}if(this==_a){this._last_focused=null;return;}var _b=this;while(_b&&_b._is_form){_b._last_focused=_a;_a=_b;_b=_b.parent;}}};_pComponent._getTabOrderFirst=function(){return null;};_pComponent._setCurFocusPathsByCurPos=function(_a,_b){var _c=_b?_b:this._getRootWindow();var _d=[];var _e=_a.parent;_c.clearCurrentFocusPaths();if(_c.frame==_a){return;}while(_e){_d.push(_e);if(_e==_c.frame||(_e._is_frame&&(_e._window_type==1||_e._window_type==4))){break;}_e=_e.parent;}for(var _f=_d.length;_f>0;_f-- ){_c.addCurrentFocusPaths(_d[_f-1]);}};_pComponent._getRecalcCanvasXY=function(_a,_b,_c){var _d=0,_e=0;var _f=0,_g=0;var _h=this._getRootForm();var _i=this._getRootComponent(this);if(this.parent&&!(this instanceof nexacro.ScrollBarCtrl)){var _j=this.parent._control_element;if(_j&&_j instanceof nexacro.ScrollableControlElement){_d=_j.scroll_left;_e=_j.scroll_top;_j=null;}if(_h&&_h!=this&&!this._is_subcontrol&&_h==_i.parent){var _j=_h._control_element;if(_j){_f=_j.border?_j.border._left_width:0;_g=_j.border?_j.border._top_width:0;}}}if(this.isPopup&&this.isPopup()){var _j=this.getElement();if(_j){_b+=_j.left-_d||0;_c+=_j.top-_e||0;}}else{_b+=this._adjust_left+_f-_d||0;_c+=this._adjust_top+_g-_e||0;}var _k=this._getWindow();var _l=this.currentstyle;var _m=_k.findComponent(_a);if(_m!=this){if(_l&&_l.padding){_b+=_l.padding.left;_c+=_l.padding.top;}if(_l&&_l.border){_b+=_l.border._left_width;_c+=_l.border._top_width;}}return [_b,_c];};_pComponent._getClientXY=function(_a,_b){var _c=0,_d=0,_e=0,_f=0,_g=this.currentstyle;var _h=0,_i=0;if(this._is_form&&!(this instanceof nexacro.ScrollBarCtrl)){var _j=this._control_element;if(_j&&_j instanceof nexacro.ScrollableControlElement){_h=_j.scroll_left;_i=_j.scroll_top;_j=null;}}if(_g){if(_g.border){_d=_g.border._top_width;_c=_g.border._left_width||_g.border._top_width;}}var _k=_a-_c+_h||0;var _l=_b-_d+_i||0;return [_k,_l];};_pComponent._isParentdefaultprevented=function(_a,_b){var _c=_a.parent;while(_c){if(!_c._getFromComponent){return false;}var _d=_c._getFromComponent(_c);var _e=_d["on"+_b];if(!_e||(_e&&!_e.defaultprevented)){_c=_c.parent;if(_d instanceof nexacro.MainFrame){return false;}}else{return true;}}return false;};_pComponent._setfocusing_comp=null;_pComponent._on_focus=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive||!this.visible||!this._isEnable()||this._is_loading){return;}var _g=this._getRootWindow();if(_a){var _h=_g.getCurrentFocusPaths();var _i=this;if(_i._isFocusAcceptable()==false){return;}while(_i&&_i._is_nc_control){_i=_i.parent;}if(!_i){return;}var _j= -1;if(_h){_j=nexacro._indexOf(_h,_i);}if(_j> -1){if(_j==_h.length-1){if(this._getTabOrderFirst(nexacro._enableaccessibility)==null){if(_g._is_active_window==false){_g._on_sys_activate();}return;}}else{if(!(this instanceof nexacro.PopupDiv)){if(_g._is_active_window==false){_g._on_sys_activate();}return;}}}var _k=this;var _e=this._getRootComponent(_i);var _l=null;if(_h&&_h.length){_l=_i._getSameParent(_h);}if(_l){var _m=_l[1];var _n=_h[_h.length-1];var _o=this._getRootComponent(_n);var _p=_h.slice(_m+1);_p=_p.reverse();var _q=_l[0];if(_q&&(_q.length>0)){var _r;for(var _af=0,_ag=_q.length;_af<_ag;_af++ ){_r=_q[_af];if(_r&&_r._isFocusAcceptable()==false){return;}}}var _s;if(_q&&(_q.length>1)){var _r,_t;for(var _af=0,_ag=_q.length;_af<_ag;_af++ ){_r=_q[_af];if(_r&&_r.components){_r._last_focused=(_t?_t:_i);}_t=_r;}}else{if(_i.parent&&_i.parent.components){if(_i.parent._last_focused&&!_i.parent._last_focused.selectStatus){_i.parent._last_focused._stat_change("notfocus","normal");}_i.parent._last_focused=_i;}}if(_p&&_p.length>0){for(var _af=0,_ag=_p.length;_af<_ag;_af++ ){_s=_p[_af];if(_s&&_s._is_alive&&!_s._is_killfocusing){_s._is_killfocusing=true;var _u=_g.getCurrentFocusPaths().slice(0);_g._removeFromCurrentFocusPath(_s,false,_e,_k);if(_s.enableevent){_g._setfocusing_comp=_e;var _v=_g.getCurrentFocusPaths().slice(0);_s.on_fire_onkillfocus(_e,_k);var _w=_g.getCurrentFocusPaths();var _x=(_v.length!=_w.length);if(!_x){for(var _ah=0,_ai=_v.length;_ah<_ai;_ah++ ){if(_v[_ah]!=_w[_ah]||(_u.length==_v.length&&_u[_ah]==_v[_ah])||(_u.length!=_v.length&&_u[_ah]!=_v[_ah])){_x=true;break;}}}if(_x){if(_s._input_element){_s._lose_focus_comp=_s;}_s._is_killfocusing=false;return;}}_s._is_killfocusing=false;}}}if(_q&&(_q.length>1)){var _y=_q[_q.length-2];_i._setCurFocusPathsByCurPos(_y,_g);_y._on_focus(false,_b,_o,_n,_e,_k);}else{_i._setCurFocusPathsByCurPos(_i,_g);_i._on_focus(false,_b,_o,_n,_e,_k);}}else{_i._setCurFocusPathsByCurPos(_i,_g);_i._on_focus(false,_b,_c,_d);}}else{var _z=this._getLastFocused();if(!_z||(_z&&(!_z.visible||!_z.enable))){var _aa=nexacro._enableaccessibility;_z=this._getTabOrderFirst(_aa);}if(_z&&_z.visible&&!this._block_inner_focus){if(_g._is_active_window!==false){if(this._pseudo=="pushed"){this._stat_change("focus","pushed");}else{this._stat_change("focus","focused");}}else{if(this._pseudo!="pushed"){if(this instanceof nexacro.Frame){this._change_state_activate(true);}}}{var _ab=_g.getCurrentFocusPaths();var _v=null;if(_ab){_v=_ab.slice(0);}if(!this._is_comp_focus){this.on_fire_onsetfocus(_c,_d);}if(_ab){var _w=_g.getCurrentFocusPaths();var _x=(_v.length!=_w.length);if(!_x){for(var _ah=0,_ag=_v.length;_ah<_ag;_ah++ ){if(_v[_ah]!=_w[_ah]){_x=true;break;}}}if(_x){return;}}}this._setLastFocus(_z);_g._removeFromCurrentFocusPath(this);_g.addCurrentFocusPaths(this);_z._on_focus(false,_b,_c,_d,_e,_f);}else{var _ac;if(_f&&this!=_f){var _ad=_f;while(_ad&&!(_ad._is_window)){if(_ad==this){_ac=true;break;}_ad=_ad.parent;}}if(_b=="lbuttondown"&&_ac==true){this._stat_change("focus","mouseover");}else{if(_g._is_active_window!==false){if(this._pseudo=="pushed"){this._stat_change("focus","pushed");}else{this._stat_change("focus","focused");}}}{var _ab=_g.getCurrentFocusPaths();var _v=null;if(_ab){_v=_ab.slice(0);}if(!this._is_comp_focus){this.on_fire_onsetfocus(_c,_d);}if(_ab){var _w=_g.getCurrentFocusPaths();var _x=(_v.length!=_w.length);if(!_x){for(var _ah=0,_ag=_v.length;_ah<_ag;_ah++ ){if(_v[_ah]!=_w[_ah]){_x=true;break;}}}if(_x){return;}}}if(nexacro._enableaccessibility){this._setAccessibilityStatFocus(_b);}this._setLastFocus(this);_g.addCurrentFocusPaths(this);this.on_apply_custom_setfocus(_b,_a);if(_ac){var _ae=null;_ad=_f;while(_ad&&this!=_ad){if(_ad instanceof nexacro.Form){break;}_ae=_ad;_ad=_ad.parent;}if(_ae&&!_ae._is_application){_ae._on_focus(false,_b,_c,_d,_e,_f);}}}}};_pComponent._on_activate=function(){if(!this._is_alive){return;}if(!this._isSelected()){this._stat_change("focus","normal");}};_pComponent._on_deactivate=function(){if(!this._is_alive){return;}if(!this._isSelected()){this._stat_change("notfocus","normal");}if(this._on_killfocus){this._on_killfocus(null,null);}};_pComponent._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_j[0],_j[1],this,this);this.on_click_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i);}};_pComponent.on_click_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return;};_pComponent._on_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this._getFromComponent(this);if(!_j.onlbuttonup||(_j.onlbuttonup&&!_j.onlbuttonup.defaultprevented)){if(this.visible&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_ondblclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);this.on_dblclick_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i);}}};_pComponent.on_dblclick_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(nexacro._isMobile&&nexacro._isMobile()){if(_a instanceof nexacro.InputElement){_a.setElementFocus(true);}}return;};_pComponent._focus_refer_comp=null;_pComponent._getFromComponent=function(_a){var _b=_a;if(_a._is_subcontrol){_b=this._getRootComponent(_a);}return _b;};_pComponent._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro._skipDragEventAfterMsgBox=false;var _m=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);var _n=this._getFromComponent(this);if(!_n.onlbuttondown||(_n.onlbuttondown&&!_n.onlbuttondown.defaultprevented)){this.on_lbuttondown_default_action(_a,this._focus_refer_comp,_f,_g);_m=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _m;};_pComponent._on_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro._skipDragEventAfterMsgBox=false;var _n;if(_m){_n=this._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true,_m);}var _o=this._getFromComponent(this);if(!_o.onlbuttondown||(_o.onlbuttondown&&!_o.onlbuttondown.defaultprevented)){if(_m){this.on_lbuttondown_default_action(_a,this._focus_refer_comp,_f,_g);}_n=this._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false,_m);}return _n;};_pComponent._on_bubble_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}var _o=this._getWindow();if(_j===undefined){var _p;if(!_l){_p=this;_l=this._focus_refer_comp=this;if(!_l._is_reference_control){_l=this._focus_refer_comp=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){if(_n){var _q=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],this,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],this,_l);}}if(_j===false){_j=undefined;}var _r;if(_n){if(this._is_track){_r=false;}if(this._is_repeat){_r=true;}}else{_r=this.on_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}if(_r){return;}else if(_r===false){_j=_r;}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _s=this._getRecalcCanvasXY(_a,_f,_g);_f=_s[0];_g=_s[1];if(this._is_subcontrol){return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){if(!_n){nexacro._setDragInfo(_o,_a,_o._curWindowX,_o._curWindowY,null,null);}return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this.visible&&this._isEnable()&&_n){var _q=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],_k,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],_k,_l);}}if((this._is_popup_frame&&this._is_window)){return;}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _s=this._getRecalcCanvasXY(_a,_f,_g);_f=_s[0];_g=_s[1];return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent._on_bubble_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}var _n=this._getWindow();if(_j===undefined){var _o;if(!_l){_o=this;_l=this._focus_refer_comp=this;if(!_l._is_reference_control){_l=this._focus_refer_comp=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _p=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l);}if(_j===false){_j=undefined;}if(_m){var _q=this.on_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(_q){return;}}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_f,_g);_f=_r[0];_g=_r[1];if(this._is_subcontrol){return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){nexacro._setDragInfo(_n,_a,_n._curWindowX,_n._curWindowY,null,null);return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){var _p=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_f,_g);_f=_r[0];_g=_r[1];return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m);}}};_pComponent.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._getWindow();if(_l===this){if(this._apply_pushed_pseudo){this._stat_change("push","pushed");this._is_pushed_area=true;this._is_push=true;}}if(this._is_track){nexacro._setTrackInfo(_n,this,_n._curWindowX,_n._curWindowY);return false;}else{if(this.getOwnerFrame){if(this instanceof nexacro.ChildFrame){return false;}var _o=this.getOwnerFrame();if(_o&&_o.form){var _p=_o.form;if(_p&&_p._is_track){nexacro._setTrackInfo(_n,this,_n._curWindowX,_n._curWindowY);return false;}}}}if(this._is_repeat){nexacro._setRepeatInfo(this,_n,_l,_n._curWindowX,_n._curWindowY,_f,_g);return true;}};_pComponent.on_lbuttondown_default_action=function(_a,_b,_c,_d){var _e=this._getWindow();if(this.visible&&this._isEnable()&&_b){if(nexacro.OS=="iOS"){var _f=this._getRootWindow().getCurrentFocusPaths();var _g=_f.length;var _h=_f[_g-1];if(_h){if(!_h._input_element||_h._input_element&&!_h._input_element._is_ios_composition){_b._on_focus(true,"lbuttondown");}else if(_h._input_element&&_h._input_element._is_ios_composition){if(_h._input_element._input_handle&&_b!=_h&&_h instanceof nexacro.MaskEdit){_h._input_element._input_handle.blur();_b._on_focus(true,"lbuttondown");}else{_h._input_element._is_ios_composition_returned=true;_h._input_element._input_handle.blur();}}}}else{_b._on_focus(true,"lbuttondown");}}else{var _i=_e._findComponentForEvent(_a,0,0);if(_i&&_i[0]){_i[0]._on_focus(true,"lbuttondown");}}};_pComponent._on_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);var _n=this._getFromComponent(this);if(_n&&(!_n.onrbuttondown||(_n.onrbuttondown&&!_n.onrbuttondown.defaultprevented))){this.on_rbuttondown_default_action(_a,this._focus_refer_comp,_f,_g);_m=this._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _m;};_pComponent._on_bubble_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this._focus_refer_comp=this;if(!_l._is_reference_control){_l=this._focus_refer_comp=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}else{_j=this.on_fire_sys_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}if(_j===false){_j=undefined;}}if((!this.onrbuttondown||(this.onrbuttondown&&!this.onrbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}else{_j=this.on_fire_sys_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onrbuttondown||(this.onrbuttondown&&!this.onrbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m);}}};_pComponent.on_rbuttondown_default_action=function(_a,_b,_c,_d){var _e=this._getWindow();if(this.visible&&this._isEnable()&&_b){if(nexacro.OS=="iOS"){var _f=this._getRootWindow().getCurrentFocusPaths();var _g=_f.length;var _h=_f[_g-1];if(!_h._input_element||_h._input_element&&!_h._input_element._is_ios_composition){_b._on_focus(true,"rbuttondown");}else if(_h._input_element&&_h._input_element._is_ios_composition){if(_h._input_element._input_handle&&_b!=_h&&_h instanceof nexacro.MaskEdit){_h._input_element._input_handle.blur();_b._on_focus(true,"rbuttondown");}else if(!(_h instanceof nexacro.MaskEdit)){_h._input_element._input_handle.blur();}}}else{_b._on_focus(true,"rbuttondown");}}else{var _i=_e._findComponentForEvent(_a,0,0);if(_i&&_i[0]){_i[0]._on_focus(true,"rbuttondown");}}};_pComponent._lbuttonup_first_comp=null;_pComponent._lbuttonup_event_bubbles=undefined;_pComponent._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);var _o=this._getFromComponent(this);if(_o&&(!_o.onlbuttonup||(_o.onlbuttonup&&!_o.onlbuttonup.defaultprevented))){this.on_lbuttonup_default_action();_n=this._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_touch_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n;var _o=this._getFromComponent(this);if(_o&&(!_o.onlbuttonup||(_o.onlbuttonup&&!_o.onlbuttonup.defaultprevented))){_n=this._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_touch_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_j===undefined){this._lbuttonup_event_bubbles=undefined;if(!_l){this._lbuttonup_first_comp=this;_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}this.on_lbuttonup_basic_action();if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{this._lbuttonup_event_bubbles=_j;if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}this._is_drag=false;if(_j===undefined){this._lbuttonup_event_bubbles=undefined;if(!_l){this._lbuttonup_first_comp=this;_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(_n){this.on_lbuttonup_basic_action();}if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}else{_j=this.on_fire_sys_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}if(_j===false){_j=undefined;}}if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{this._lbuttonup_event_bubbles=_j;if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}else{_j=this.on_fire_sys_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_lbuttonup_basic_action=function(){if(this._apply_pushed_pseudo){this._is_push=false;if(this._is_pushed_area){if(nexacro.isTouchInteraction||nexacro.SupportTouch){this._stat_change("notpush","normal");}else{this._stat_change("notpush","mouseover");}this._is_pushed_area=false;}}};_pComponent.on_lbuttonup_default_action=function(){};_pComponent._on_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);var _o=this._getFromComponent(this);if(_o&&(!_o.onrbuttonup||(_o.onrbuttonup&&!_o.onrbuttonup.defaultprevented))){this.on_rbuttonup_default_action();_n=this._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(_n){this.on_rbuttonup_basic_action();}if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}else{_j=this.on_fire_sys_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}if(_j===false){_j=undefined;}}if((!this.onrbuttonup||(this.onrbuttonup&&!this.onrbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}else{_j=this.on_fire_sys_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onrbuttonup||(this.onrbuttonup&&!this.onrbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_rbuttonup_basic_action=function(){if(this._apply_pushed_pseudo){this._is_push=false;if(this._is_pushed_area){if(nexacro.isTouchInteraction){this._stat_change("notpush","normal");}else{this._stat_change("notpush","mouseover");}this._is_pushed_area=false;}}};_pComponent.on_rbuttonup_default_action=function(){};_pComponent._on_mouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);if(!this._is_alive){return _n;}var _o=this._getFromComponent(this);if(_o&&(!_o.onmouseup||(_o.onmouseup&&!_o.onmouseup.defaultprevented))){this.on_mouseup_default_action();_n=this._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_mouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}else{_j=this.on_fire_sys_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}if(_j===false){_j=undefined;}}if((!this.onmouseup||(this.onmouseup&&!this.onmouseup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}else{_j=this.on_fire_sys_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onmouseup||(this.onmouseup&&!this.onmouseup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,false,_k,_l,_m,_n);}}};_pComponent.on_mouseup_default_action=function(){};_pComponent._on_mousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);if(!this._is_alive){return _m;}var _n=this._getFromComponent(this);if(!_n.onmousedown||(_n.onmousedown&&!_n.onmousedown.defaultprevented)){this.on_mousedown_default_action();_m=this._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _m;};_pComponent._on_bubble_mousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}else{_j=this.on_fire_sys_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}if(_j===false){_j=undefined;}}if((!this.onmousedown||(this.onmousedown&&!this.onmousedown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}else{_j=this.on_fire_sys_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onmousedown||(this.onmousedown&&!this.onmousedown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,false,_k,_l,_m);}}};_pComponent.on_mousedown_default_action=function(){};_pComponent._on_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro._current_popups.length>0){var _m=this._getWindow();var _n=_m.findComponent(_a,0,0);if(_n&&_n[0]){var _o=nexacro._current_popups[0];var _p=this._getRootWindowComponent(this);var _q=_o.parent;if(_o._track_capture&&(!_o._contains(_n[0])&&_p!=_q)){return;}}}if(!this._is_created){return;}var _r=this._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);if(!this._is_alive){return _r;}var _s=this._getFromComponent(this);if(!_s.onmousemove||(_s.onmousemove&&!_s.onmousemove.defaultprevented)){this.on_mousemove_default_action();_r=this._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _r;};_pComponent._on_bubble_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}if(_j===undefined){var _n=this._is_subcontrol?true:false;if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){if(_m){this.on_mousemove_basic_action(_n);}var _o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l);}else{_j=this.on_fire_sys_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l);}if(_j===false){_j=undefined;}}if(this.parent){this.parent._overedobj=this;}if((!this.onmousemove||(this.onmousemove&&!this.onmousemove.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(_n){return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){if(_m){this.on_mousemove_basic_action();}var _o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l);}else{_j=this.on_fire_sys_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l);}}if(this.parent){this.parent._overedobj=this;}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onmousemove||(this.onmousemove&&!this.onmousemove.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,false,_k,_l,_m);}}};_pComponent.on_mousemove_basic_action=function(_a){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else if(!_a||!this._isSelected()){if(!nexacro.isTouchInteraction){this._stat_change("","mouseover");if(this._dragging_cursor){this._dragging_cursor=null;var _b=this.on_find_CurrentStyle_cursor(this._pseudo);this._updateCursor(_b);}}}};_pComponent.on_mousemove_default_action=function(){};_pComponent._mouseenter_event_bubbles=undefined;_pComponent._on_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(nexacro._current_popups.length>0){var _n=this._getWindow();var _o=_n.findComponent(_a,0,0);if(_o&&_o[0]){var _p=nexacro._current_popups[0];var _q=this._getRootWindowComponent(this);var _r=_p.parent;if(_p._track_capture&&(!_p._contains(_o[0])&&_q!=_r)){return;}}}if(!this._is_created){return;}var _s=this._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);if(!this._is_alive){return _s;}var _t=this._getFromComponent(this);if(!_t.onmouseenter||(_t.onmouseenter&&!_t.onmouseenter.defaultprevented)){this.on_mouseenter_default_action();_s=this._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _s;};_pComponent._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_k===undefined){var _o;var _p=this._is_subcontrol?true:false;if(!_m){_o=this;_m=this;if(!_m._is_reference_control){_m=this._getReferenceComponent(_m);}}if(this.visible&&this._isEnable()){this.on_mouseenter_basic_action(_p);if(_p){if(_b&&this._contains(_b)){return true;}if(_o==this){var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}if(_k===false){_k=undefined;}}}else{_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return true;}var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}}}if((!this.onmouseenter||(this.onmouseenter&&!this.onmouseenter.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];if(_p){return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,null,_m,_n);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,this,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onmouseenter||(this.onmouseenter&&!this.onmouseenter.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,false,_i,_j,_l,_m,_n);}}};_pComponent.on_mouseenter_basic_action=function(_a){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else if(!_a||!this._isSelected()){if(!nexacro.isTouchInteraction){this._stat_change("","mouseover");if(this._dragging_cursor){this._dragging_cursor=null;var _b=this.on_find_CurrentStyle_cursor(this._pseudo);this._updateCursor(_b);}}}};_pComponent.on_mouseenter_default_action=function(){};_pComponent._on_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(nexacro.Browser=="Runtime"){if(_b&&this==_b&&this.parent&&this.parent instanceof nexacro.Radio){return;}}if(nexacro._current_popups.length>0){var _n=this._getWindow();var _o=_n.findComponent(_a,0,0);if(_o&&_o[0]){var _p=nexacro._current_popups[0];var _q=this._getRootWindowComponent(this);var _r=_p.parent;if(_p._track_capture&&(!_p._contains(_o[0])&&_q!=_r)){return;}}}var _s=this._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);if(!this._is_alive){return _s;}var _t=this._getFromComponent(this);if(!_t.onmouseleave||(_t.onmouseleave&&!_t.onmouseleave.defaultprevented)){this.on_mouseleave_default_action(_b);_s=this._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _s;};_pComponent._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(nexacro.Browser=="Runtime"){if(_b&&this==_b&&this.parent&&this.parent instanceof nexacro.Radio){return;}}if(_k===undefined){var _o;var _p=this._is_subcontrol?true:false;if(!_m){_o=this;_m=this;if(!_m._is_reference_control){_m=this._getReferenceComponent(_m);}}if(this.visible&&this._isEnable()){this.on_mouseleave_basic_action(_p);if(_p){if(_b&&this._contains(_b)){return true;}if(_o==this){var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}if(_k===false){_k=undefined;}}}else{_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return true;}var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}}}if((!this.onmouseleave||(this.onmouseleave&&!this.onmouseleave.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];if(_p){return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,null,_m,_n);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,this,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _q=this._getClientXY(_g,_h);if(_n){this.on_mouseleave_basic_action(_p);_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onmouseleave||(this.onmouseleave&&!this.onmouseleave.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,_l,_m,_n);}}};_pComponent._isSelected=function(){return this._selected;};_pComponent.on_mouseleave_basic_action=function(_a){if(_a){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else if(!this._isSelected()){var _b=this;var _c=true;while(_b){if(_b._is_alive==false){_c=false;break;}_b=_b.parent;}if(_c){this._stat_change("","normal");}}}else{if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else if(this._isSelected()){this._stat_change("select","selected");}else{if(this._is_form){this._stat_change("","normal");}else{if(this._find_lastFocused(this)==this){this._stat_change("","normal");}else{this._stat_change("notfocus","normal");}}}}};_pComponent.on_mouseleave_default_action=function(_a){};_pComponent._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){return this._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);};_pComponent._on_bubble_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}if(_l===undefined){if(!_n){_n=this;if(!_n._is_reference_control){_n=this._getReferenceComponent(_n);}}if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[1],this,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[1],this,_n);if(_r){return false;}if(this.vscrollbar&&this.vscrollbar.enable&&this.vscrollbar.visible){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(this.hscrollbar&&this.hscrollbar.enable&&this.hscrollbar.visible){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}if(_l===false){_l=undefined;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){var _y=this._getRecalcCanvasXY(_a,_h,_i);_h=_y[0];_i=_y[1];if(this._is_subcontrol){return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,null,_n,_o);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,this,_n,_o);}}}}}}else{if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);if(_r){return false;}if(this.vscrollbar&&this.vscrollbar.enable&&this.vscrollbar.visible){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OS=="Mac OS"){if(this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}}if((this._is_popup_frame&&!this._is_window)){return;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){var _y=this._getRecalcCanvasXY(_a,_h,_i);_h=_y[0];_i=_y[1];return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,_m,_n,_o);}}}}}};_pComponent._setVScrollDefaultAction=function(_a,_b){_a._setPos(_a.pos-_b,"mousewheel");};_pComponent._setHScrollDefaultAction=function(_a,_b){_a._setPos(_a.pos-_b,"mousewheel");};_pComponent.on_mousewheel_default_action=function(){};_pComponent._init_drag_info=function(){nexacro._cur_drag_info=null;};_pComponent._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro._skipDragEventAfterMsgBox){this._init_drag_info();return false;}var _m=this._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);var _n=this._getFromComponent(this);if(_n&&(_n.ondrag&&_n.ondrag.defaultprevented)){this._init_drag_info();}return _m;};_pComponent._on_bubble_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}this._is_drag=true;if(_j===undefined){var _m;if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}var _n=this._getFromComponent(this);if(this._is_subcontrol){_m=true;}else{if(this.visible&&this._isEnable()){_m=false;var _o=this._getClientXY(_f,_g);_j=this.on_fire_user_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_l);if(!_j||_j[0]!==true){if(!this.ondrag||(_n.ondrag&&!_n.ondrag.defaultprevented)){this.on_fire_sys_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_l);}}}}if((!_j||_j[0]!==true)){if((!_n.ondrag||(_n.ondrag&&!_n.ondrag.stoppropagation))&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(_m){return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l);}}}return _j;}else{if((!_j||_j[0]!==true)&&this.parent&&!this.parent._is_application){var _o=this._getClientXY(_f,_g);if(this.visible&&this._isEnable()){_j=this.on_fire_user_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,this);}if(!_j||_j[0]!==true){var _n=this._getFromComponent(this);if(this.visible&&this._isEnable()){if(!_n.ondrag||(_n.ondrag&&!_n.ondrag.defaultprevented)){this.on_fire_sys_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,this);}}if((this._is_popup_frame&&!this._is_window)){return false;}if((!_n.ondrag||(_n.ondrag&&!_n.ondrag.stoppropagation))&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l);}}}return _j;}};_pComponent.on_drag_default_action=function(){};_pComponent._on_drop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){var _q=_b?_b._input_element:null;if(_q&&_q.enable){var _r=_q._parent_elem.linkedcontrol._edit_base_api._is_selected();if(_c==this&&(!_r||_d==null||_d==undefined||_d=="")){return;}}var _s=this._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,true);if(!this._is_alive){return;}var _t=this._getFromComponent(this);if(!_t.ondrop||(_t.ondrop&&!_t.ondrop.defaultprevented)){this.on_drop_default_action();_s=this._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false);}return _s;};_pComponent._on_bubble_drop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){if(!this._is_alive){return;}if(_n===undefined){var _r;if(!_p){_p=this;if(!_p._is_reference_control){_p=this._getReferenceComponent(_p);}}if(this.visible&&this._isEnable()){this.on_drop_basic_action();var _s=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],this,_p);}else{_n=this.on_fire_sys_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],this,_p);}}if((!this.ondrop||(this.ondrop&&!this.ondrop.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _t=this._getRecalcCanvasXY(_a,_j,_k);_j=_t[0];_k=_t[1];if(this._is_subcontrol){var _u=this._getRootComponent(this);return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_u,_p,_q);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,this,_p,_q);}}}else{if(this.visible&&this._isEnable()){var _s=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],_o,_p);}else{_n=this.on_fire_sys_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],_o,_p);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.ondrop||(this.ondrop&&!this.ondrop.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _t=this._getRecalcCanvasXY(_a,_j,_k);_j=_t[0];_k=_t[1];return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,_o,_p,_q);}}};_pComponent.on_drop_basic_action=function(){if(this._dragging_cursor){this._dragging_cursor=null;var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this._updateCursor(_a);}};_pComponent.on_drop_default_action=function(){};_pComponent._on_dragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){var _s=_b?_b._input_element:null;if(_s&&_s.enable){var _t=_s._parent_elem.linkedcontrol._edit_base_api._is_selected();if(!_t||_d==null||_d==undefined||_d==""){return;}}var _u=this._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,true);var _v=this._getFromComponent(this);if(!_v.ondragmove||(_v.ondragmove&&!_v.ondragmove.defaultprevented)){this.on_dragmove_default_action();_u=this._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false,_q,_r);}else if(_v.ondragmove&&_v.ondragmove.defaultprevented){this._init_drag_info();}return _u;};_pComponent._on_bubble_dragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(!this._is_alive){return;}if(_n===undefined){var _t;if(!_p){_p=this;if(!_p._is_reference_control){_p=this._getReferenceComponent(_p);}}if(this._is_subcontrol){_t=true;this.on_dragmove_basic_action();}else{_t=false;if(this.visible&&this._isEnable()){this.on_dragmove_basic_action();var _u=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_u[0],_u[1],this,_p);}else{_n=this.on_fire_sys_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_u[0],_u[1],this,_p,_r,_s);}}}if((!this.ondragmove||(this.ondragmove&&!this.ondragmove.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _v=this._getRecalcCanvasXY(_a,_j,_k);_j=_v[0];_k=_v[1];if(_t){return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,null,_p,_q,_r,_s);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,this,_p,_q,_r,_s);}}}else{if(this.visible&&this._isEnable()){var _u=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_u[0],_u[1],_o,_p);}else{_n=this.on_fire_sys_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_u[0],_u[1],_o,_p,_r,_s);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.ondragmove||(this.ondragmove&&!this.ondragmove.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _v=this._getRecalcCanvasXY(_a,_j,_k);_j=_v[0];_k=_v[1];return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,_o,_p,_q,_r,_s);}}};_pComponent.on_dragmove_basic_action=function(){var _a=nexacro._cur_drag_info;var _b=this._getWindow();if(_a&&_a.targetwin==_b){var _c=_a.target;if(_c&&_c!=this){var _d=_c.on_find_CurrentStyle_cursor(_c._pseudo);this._updateCursor(_d);this._dragging_cursor=_d;}}};_pComponent.on_dragmove_default_action=function(){};_pComponent._on_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r=_c?_c._input_element:null;if(_r&&_r.enable){var _s=_r._parent_elem.linkedcontrol._edit_base_api._is_selected();if(!_s||_e==null||_e==undefined||_e==""){return;}}var _t=this._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,true);var _u=this._getFromComponent(this);if(!_u.ondragenter||(_u.ondragenter&&!_u.ondragenter.defaultprevented)){this.on_dragenter_default_action();_t=this._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,false);}else if(_u.ondragenter&&_u.ondragenter.defaultprevented){this._init_drag_info();}return _t;};_pComponent._on_bubble_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){this._dragenter_first_comp=this;_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_b==this){this.on_dragenter_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragenter_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,this,_q,_r);}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}this._stat_change("","mouseover");}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pComponent.on_dragenter_basic_action=function(){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else{this._stat_change("","mouseover");}};_pComponent.on_dragenter_default_action=function(_a){};_pComponent._on_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r=_c?_c._input_element:null;if(_r&&_r.enable){var _s=_r._parent_elem.linkedcontrol._edit_base_api._is_selected();if(!_s||_e==null||_e==undefined||_e==""){return;}}var _t=this._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,true);var _u=this._getFromComponent(this);if(!_u.ondragleave||(_u.ondragleave&&!_u.ondragleave.defaultprevented)){this.on_dragleave_default_action();_t=this._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,false);}return _t;};_pComponent._on_bubble_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_p==this){this.on_dragleave_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragleave_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else{return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,this,_q,_r);}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}if(!_b||!this._contains(_b)){this._stat_change("","normal");}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pComponent.on_dragleave_basic_action=function(){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else{this._stat_change("","normal");}};_pComponent.on_dragleave_default_action=function(){};_pComponent._on_keydown=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._on_bubble_keydown(_a,_b,_c,_d,_e,_f,_g,_h,true);if(!this._is_alive){return _i;}var _j=this._getFromComponent(this);if(!_j.onkeydown||(_j.onkeydown&&!_j.onkeydown.defaultprevented)){this.on_keydown_default_action();_i=this._on_bubble_keydown(_a,_b,_c,_d,_e,_f,_g,_h,false);}return _i;};_pComponent._on_bubble_keydown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;if(!_h._is_reference_control){_h=this._getReferenceComponent(_h);}}if(this.visible&&this._isEnable()){if(_i&&!this._is_hotkey){_f=this.on_fire_user_onkeydown(_b,_c,_d,_e,this,_h);}else{_f=this.on_fire_sys_onkeydown(_b,_c,_d,_e,this,_h);this._is_hotkey=false;}if(_f===false){_f=undefined;}}if((!this.onkeydown||(this.onkeydown&&!this.onkeydown.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,_f,null,_h,_i);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()){if(_i){_f=this.on_fire_user_onkeydown(_b,_c,_d,_e,_g,_h);}else{_f=this.on_fire_sys_onkeydown(_b,_c,_d,_e,_g,_h);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onkeydown||(this.onkeydown&&!this.onkeydown.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_keydown_default_action=function(){};_pComponent._on_keyup=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_b==nexacro.Event.KEY_TAB){var _i=this._getWindow();var _j=_i.findComponent(_a);if(_j._is_subcontrol){_j=_j._getRootComponent(_j);}var _k=_i.findComponent(_i._keydown_element);if(_k&&_k._is_subcontrol){_k=_k._getRootComponent(_k);}if(!this.acceptstab&&_j!=_k){return;}}var _l=this._on_bubble_keyup(_a,_b,_c,_d,_e,_f,_g,_h,true);var _m=this._getFromComponent(this);if(_m&&(!_m.onkeyup||(_m.onkeyup&&!_m.onkeyup.defaultprevented))){this.on_keyup_default_action();_l=this._on_bubble_keyup(_a,_b,_c,_d,_e,_f,_g,_h,false);}return _l;};_pComponent._on_bubble_keyup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;if(!_h._is_reference_control){_h=this._getReferenceComponent(_h);}}if(this.visible&&this._isEnable()){if(_i){_f=this.on_fire_user_onkeyup(_b,_c,_d,_e,this,_h);}else if(!this._is_popup_frame||(this._is_popup_frame&&!this._is_window)){_f=this.on_fire_sys_onkeyup(_b,_c,_d,_e,this,_h);}if(_f===false){_f=undefined;}}if((!this.onkeyup||(this.onkeyup&&!this.onkeyup.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()){if(_i){_f=this.on_fire_user_onkeyup(_b,_c,_d,_e,_g,_h);}else{_f=this.on_fire_sys_onkeyup(_b,_c,_d,_e,_g,_h);}}if((this._is_popup_frame&&!this._is_window)){return;}if((!this.onkeyup||(this.onkeyup&&!this.onkeyup.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_keyup_default_action=function(){};_pComponent._on_keypress=function(_a,_b,_c,_d,_e){};_pComponent._on_contextmenu=function(_a,_b,_c,_d){var _e=this._isEnable();var _f=_e;if(!this._is_alive){return _f;}if(_e){if(nexacro.Browser=="IE"||nexacro.Browser=="Edge"){var _g=this._getWindow();var _h=_g.findComponent(_g._last_focused_elem,0,0);if(_h[0]&&(_h[0]._edit_base_api||_h[0]._input_element)){if(_a instanceof nexacro.InputElement&&this!==_h[0]){var _i=_h[0]._input_element;var _j=_i.getElementSelectionRange();var _k=_h[0]._edit_base_api;_k.setElementCaretPos(_j[0],_j[1],_i);}}}var _l=this._getFromComponent(this);var _m=nexacro.Browser=="Safari"?_l.onrbuttondown:_l.onrbuttonup;if(_m&&_m.defaultprevented){_f=false;}else{_f=this._on_bubble_contextmenu(_b,_c,_d,true);_m=_l.oncontextmenu;if(!_m||(_m&&!_m.defaultprevented)){_f=this._on_bubble_contextmenu(_b,_c,_d,false);}else{_f=false;}}}return _f;};_pComponent._on_bubble_contextmenu=function(_a,_b,_c,_d){var _e=true;if(!this._is_alive){return;}if(_a===undefined){if(!_c){_c=this;if(!_c._is_reference_control){_c=this._getReferenceComponent(_c);}}if(_d){this._on_contextmenu_basic_action();}else{_e=this._on_contextmenu_default_action();}if(this.visible&&this._isEnable()){var _f=_d?this.on_fire_user_oncontextmenu:this.on_fire_sys_oncontextmenu;_a=_f.call(this,this,_c);}if((!this.oncontextmenu||(this.oncontextmenu&&!this.oncontextmenu.stoppropagation))&&(_a!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_contextmenu(_a,null,_c,_d);}else{return this.parent._on_bubble_contextmenu(false,null,_c,_d);}}}else{if(this.visible&&this._isEnable()){var _f=_d?this.on_fire_user_oncontextmenu:this.on_fire_sys_oncontextmenu;_a=_f.call(this,this,_c);}if((!this.oncontextmenu||(this.oncontextmenu&&!this.oncontextmenu.stoppropagation))&&(_a!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_contextmenu(false,_b,_c,_d);}}return _e;};_pComponent._on_contextmenu_basic_action=function(){return;};_pComponent._on_contextmenu_default_action=function(){var _a=this;var _b=_a._type;var _c=application?application.usecontextmenu:"all";var _d=(_a.usecontextmenu!==undefined)?_a.usecontextmenu:true;if(_c=="all"){if(_a instanceof nexacro.Form||_a instanceof nexacro.Edit||_a instanceof nexacro.MaskEdit||_a instanceof nexacro.TextArea){if(_d){return true;}}return false;}else if(_c=="form"){if(_a instanceof nexacro.Form){return true;}return false;}else if(_c=="edit"){if(_a instanceof nexacro.Edit||_a instanceof nexacro.MaskEdit||_a instanceof nexacro.TextArea){if(_d){return true;}}return false;}else{return false;}};_pComponent._on_touchstart=function(_a,_b,_c,_d,_e,_f){this._on_bubble_touchstart(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);var _h=_g.ontouchstart;if(!_h||(_h&&!_h.defaultprevented)){this._on_bubble_touchstart(_a,_b,_c,_d,_e,_f,false);}};_pComponent._on_bubble_touchstart=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(_d===undefined){if(!_f){_f=this;if(!_f._is_reference_control){_f=this._getReferenceComponent(_f);}}if(_g){this.on_touchstart_basic_action(_a,_c,_f);}else{this.on_touchstart_default_action();}if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){var _h=_g?this.on_fire_user_ontouchstart:this.on_fire_sys_ontouchstart;_d=_h.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchstart(_a,_b,_c,_d,null,_f,_g);}else{var _j="select";if(this.selectscrollmode){if(this.selectscrollmode=="default"){_j=(nexacro.isTouchInteraction)?"scroll":"select";}else{_j=this.selectscrollmode;}}if(_b.length==1&&_j=="select"){var _k=_a._start_win;var _l=_a._start_elem;nexacro._setDragInfo(_k,_l,_k._curWindowX,_k._curWindowY,null,null);}return this.parent._on_bubble_touchstart(_a,_b,_c,false,this,_f,_g);}}}else{if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);var _h=_g?this.on_fire_user_ontouchstart:this.on_fire_sys_ontouchstart;_d=_h.call(this,_b,_c,_e,_f);}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchstart(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchstart_basic_action=function(_a,_b,_c){var _d=_a.getFirstTouchInputInfo(_b);if(_d){if(this._apply_pushed_pseudo){this._stat_change("push","pushed");this._is_pushed_area=true;this._is_push=true;}var _e=_d._elem;if(nexacro._current_popups.length>0){nexacro._checkClosePopupComponent(this,true);}var _f=this._getWindow();if(this._is_track){nexacro._setTrackInfo(_f,this,_f._curWindowX,_f._curWindowY);return false;}if(this._is_repeat){nexacro._setRepeatInfo(this,_f,_c,_f._curWindowX,_f._curWindowY,_b[0].canvasX,_b[0].canvasY);return true;}}};_pComponent.on_touchstart_default_action=function(){};_pComponent._on_touchmove=function(_a,_b,_c,_d,_e,_f){this._on_bubble_touchmove(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);var _h=_g.ontouchmove;if(!_h||(_h&&!_h.defaultprevented)){this._on_bubble_touchmove(_a,_b,_c,_d,_e,_f,false);}};_pComponent._on_bubble_touchmove=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(_d===undefined){if(!_f){_f=this;if(!_f._is_reference_control){_f=this._getReferenceComponent(_f);}}if(_g){this.on_touchmove_basic_action();}else{this.on_touchmove_default_action();}if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){var _h=_g?this.on_fire_user_ontouchmove:this.on_fire_sys_ontouchmove;_d=_h.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}var _i=this.ontouchmove;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchmove(_a,_b,_c,_d,null,_f,_g);}else{return this.parent._on_bubble_touchmove(_a,_b,_c,false,this,_f,_g);}}}else{if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);var _h=_g?this.on_fire_user_ontouchmove:this.on_fire_sys_ontouchmove;_d=_h.call(this,_b,_c,this,_f);}var _i=this.ontouchmove;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchmove(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchmove_basic_action=function(){};_pComponent.on_touchmove_default_action=function(){};_pComponent._on_touchend=function(_a,_b,_c,_d,_e,_f){this._on_bubble_touchend(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);if(_g){var _h=_g.ontouchend;if(!_h||(_h&&!_h.defaultprevented)){this._on_bubble_touchend(_a,_b,_c,_d,_e,_f,false);}if(_h&&_h.defaultprevented){return true;}}};_pComponent._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(_d===undefined){if(!_f){_f=this;if(!_f._is_reference_control){_f=this._getReferenceComponent(_f);}}if(_g){this.on_touchend_basic_action(_a,_c);}else{this.on_touchend_default_action();}if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){var _h=_g?this.on_fire_user_ontouchend:this.on_fire_sys_ontouchend;_d=_h.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchend(_a,_b,_c,_d,null,_f,_g);}else{return this.parent._on_bubble_touchend(_a,_b,_c,false,this,_f,_g);}}}else{if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);var _h=_g?this.on_fire_user_ontouchend:this.on_fire_sys_ontouchend;_d=_h.call(this,_b,_c,this,_f);}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchend(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchend_basic_action=function(_a,_b){var _c=_a.getFirstTouchInputInfo(_b);if(_c){if(this._apply_pushed_pseudo){this._is_push=false;if(this._is_pushed_area){if(nexacro.isTouchInteraction||nexacro.SupportTouch){this._stat_change("notpush","normal");}else{this._stat_change("notpush","mouseover");}this._is_pushed_area=false;}}}};_pComponent.on_touchend_default_action=function(){};_pComponent._on_touchcancel=function(_a,_b,_c,_d,_e,_f){this._on_bubble_touchcancel(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);if(_g){var _h=_g.ontouchcancel;if(!_h||(_h&&!_h.defaultprevented)){this._on_bubble_touchcancel(_a,_b,_c,_d,_e,_f,false);}if(_h&&_h.defaultprevented){return true;}}};_pComponent._on_bubble_touchcancel=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(_d===undefined){if(!_f){_f=this;if(!_f._is_reference_control){_f=this._getReferenceComponent(_f);}}if(_g){this.on_touchcancel_basic_action(_a,_c);}else{this.on_touchcancel_default_action();}if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){var _h=_g?this.on_fire_user_ontouchcancel:this.on_fire_sys_ontouchcancel;if(_h){_d=_h.call(this,_b,_c,this,_f);}if(_d===false){_d=undefined;}}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchcancel(_a,_b,_c,_d,null,_f,_g);}else{return this.parent._on_bubble_touchcancel(_a,_b,_c,false,this,_f,_g);}}}else{if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);var _h=_g?this.on_fire_user_ontouchcancel:this.on_fire_sys_ontouchcancel;if(_h){_d=_h.call(this,_b,_c,this,_f);}}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchcancel(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchcancel_basic_action=function(_a,_b){var _c=_a.getFirstTouchInputInfo(_b);if(nexacro.Browser!="Runtime"||(nexacro.Browser=="Runtime"&&_c)){if(this._apply_pushed_pseudo){this._is_push=false;if(this._is_pushed_area){if(nexacro.isTouchInteraction){this._stat_change("notpush","normal");}else{this._stat_change("notpush","mouseover");}this._is_pushed_area=false;}}}};_pComponent.on_touchcancel_default_action=function(){};_pComponent._on_tap=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!this._is_alive){return;}this._on_bubble_tap(_a,_b,_c,_d,_e,_f,_g,_h,true);var _i=this._getFromComponent(this);var _j=_i?_i.ontap:null;if(!_j||(_j&&!_j.defaultprevented)){this._on_bubble_tap(_a,_b,_c,_d,_e,_f,_g,_h,false);}};_pComponent._on_bubble_tap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){var _j=false;if(!_h){_h=this._focus_refer_comp=this;if(!_h._is_reference_control){_h=this._focus_refer_comp=this._getReferenceComponent(_h);}_j=true;}if(_i){if(_j){this.on_tap_basic_action(_a,_b,_c,_d,_e,_f,_g,_h);}}else{this.on_tap_default_action(_a,_b,_c,_d,_e,_f,_g,_h);}if(this.visible&&this._isEnable()){var _k=this._getClientXY(_b,_c);if(!_i||(_i&&application.enabletouchevent&&this.enableevent)){var _l=_i?this.on_fire_user_ontap:this.on_fire_sys_ontap;_f=_l.call(this,_a,_d,_e,_b,_c,_k[0],_k[1],this,_h);if(_f===false){_f=undefined;}}}var _m=this.ontap;if((!_m||(_m&&!_m.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _n=this._getRecalcCanvasXY(_a,_b,_c);_b=_n[0];_c=_n[1];if(this._is_subcontrol){return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()&&application.enabletouchevent&&this.enableevent){var _k=this._getClientXY(_b,_c);var _l=_i?this.on_fire_user_ontap:this.on_fire_sys_ontap;_f=_l.call(this,_a,_d,_e,_b,_c,_k[0],_k[1],_g,_h);}var _m=this.ontap;if((!_m||(_m&&!_m.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _n=this._getRecalcCanvasXY(_a,_b,_c);_b=_n[0];_c=_n[1];return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._getWindow();if(this.visible&&this._isEnable()&&_h){if(nexacro.OS=="iOS"){var _j=this._getRootWindow().getCurrentFocusPaths();var _k=_j.length;var _l=_j[_k-1];if(_l){if(!_l._input_element||_l._input_element&&!_l._input_element._is_ios_composition){_h._on_focus(true,"tap");}else if(_l._input_element&&_l._input_element._is_ios_composition){if(_l._input_element._input_handle&&_h!=_l&&_l instanceof nexacro.MaskEdit){_l._input_element._input_handle.blur();_h._on_focus(true,"tap");}else{_l._input_element._is_ios_composition_returned=true;_l._input_element._input_handle.blur();}}}}else{_h._on_focus(true,"tap");}}else{var _m=_i._findComponentForEvent(_a,0,0);if(_m&&_m[0]){_m[0]._on_focus(true,"tap");}}if(nexacro.OS!="Windows"||nexacro.Browser!="Runtime"){this._on_click(_a,"touch",false,false,false,_b,_c,_d,_e);}};_pComponent.on_tap_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_dbltap=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!this._is_alive){return;}this._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,_g,_h,true);var _i=this._getFromComponent(this);var _j=_i?_i.ondbltap:null;if(!_j||(_j&&!_j.defaultprevented)){this._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,_g,_h,false);}};_pComponent._on_bubble_dbltap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;if(!_h._is_reference_control){_h=this._getReferenceComponent(_h);}}if(_i){this.on_dbltap_basic_action(_a,_b,_c,_d,_e,_g,_h);}else{this.on_dbltap_default_action(_a,_b,_c,_d,_e,_g,_h);}if(this.visible&&this._isEnable()){var _j=this._getClientXY(_b,_c);if(!_i||(_i&&application.enabletouchevent&&this.enableevent)){var _k=_i?this.on_fire_user_ondbltap:this.on_fire_sys_ondbltap;_f=_k.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],this,_h);if(_f===false){_f=undefined;}}}var _l=this.ondbltap;if((!_l||(_l&&!_l.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _m=this._getRecalcCanvasXY(_a,_b,_c);_b=_m[0];_c=_m[1];if(this._is_subcontrol){return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()&&application.enabletouchevent&&this.enableevent){var _j=this._getClientXY(_b,_c);var _k=_i?this.on_fire_user_ondbltap:this.on_fire_sys_ondbltap;_f=_k.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],_g,_h);}var _l=this.ondbltap;if((!_l||(_l&&!_l.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _m=this._getRecalcCanvasXY(_a,_b,_c);_b=_m[0];_c=_m[1];return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_dbltap_basic_action=function(){};_pComponent.on_dbltap_default_action=function(){};_pComponent._on_pinchstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onpinchstart;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"pinchstart")){return true;}this._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_pinchstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_g===undefined){if(!_i){_i=this;if(!_i._is_reference_control){_i=this._getReferenceComponent(_i);}}if(_k){this.on_pinchstart_basic_action();}else{this.on_pinchstart_default_action();}if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchstart:this.on_fire_sys_onpinchstart;_g=_l.call(this,_a,_b,_c,_d,this,_i);if(_g===false){_g=undefined;}}}var _m=this.onpinchstart;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,null,_i,_j,_k);}else{return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,false,this,_i,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchstart:this.on_fire_sys_onpinchstart;_g=_l.call(this,_a,_b,_c,_d,_h,_i);}}var _m=this.onpinchstart;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,false,_h,_i,_j,_k);}}};_pComponent.on_pinchstart_basic_action=function(){};_pComponent.on_pinchstart_default_action=function(){};_pComponent._on_pinch=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onpinch;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"pinch")){return true;}this._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_pinch=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_g===undefined){if(!_i){_i=this;if(!_i._is_reference_control){_i=this._getReferenceComponent(_i);}}if(_k){this.on_pinch_basic_action();}else{this.on_pinch_default_action();}if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinch:this.on_fire_sys_onpinch;_g=_l.call(this,_a,_b,_c,_d,_e,_f,this,_i);if(_g===false){_g=undefined;}}}var _m=this.onpinch;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,null,_i,_j,_k);}else{return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,false,this,_i,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinch:this.on_fire_sys_onpinch;_g=_l.call(this,_a,_b,_c,_d,_e,_f,_h,_i);}}var _m=this.onpinch;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,false,_h,_i,_j,_k);}}};_pComponent.on_pinch_basic_action=function(){};_pComponent.on_pinch_default_action=function(){};_pComponent._on_pinchend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onpinchend;if(!_l||(_l&&!_l.defaultprevented)){this._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}};_pComponent._on_bubble_pinchend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_g===undefined){if(!_i){_i=this;if(!_i._is_reference_control){_i=this._getReferenceComponent(_i);}}if(_k){this.on_pinchend_basic_action();}else{this.on_pinchend_default_action();}if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchend:this.on_fire_sys_onpinchend;_g=_l.call(this,_a,_b,_c,_d,this,_i);if(_g===false){_g=undefined;}}}var _m=this.onpinchend;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,null,_i,_j,_k);}else{return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,false,this,_i,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchend:this.on_fire_sys_onpinchend;_g=_l.call(this,_a,_b,_c,_d,_h,_i);}}var _m=this.onpinchend;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,false,_h,_i,_j,_k);}}};_pComponent.on_pinchend_basic_action=function(){};_pComponent.on_pinchend_default_action=function(){};_pComponent._on_flingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}this._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onflingstart;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"flingstart")){return true;}this._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_flingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_k){this.on_flingstart_basic_action();}else{this.on_flingstart_default_action();}if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingstart:this.on_fire_sys_onflingstart;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _m=this.onflingstart;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingstart:this.on_fire_sys_onflingstart;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _m=this.onflingstart;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_flingstart_basic_action=function(){};_pComponent.on_flingstart_default_action=function(){};_pComponent._on_fling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}this._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onfling;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"fling")){return true;}this._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_fling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=this._getFromComponent(this);if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_k){this.on_fling_basic_action();}else{this.on_fling_default_action();}if(this.visible&&this._isEnable()){if((!_k&&(!_l.onfling||(_l.onfling&&!_l.onfling.defaultprevented)))||(_k&&application.enabletouchevent&&this.enableevent)){var _m=_k?this.on_fire_user_onfling:this.on_fire_sys_onfling;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _n=this.onfling;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this.visible&&this._isEnable()){if((!_k&&(!_l.onfling||(_l.onfling&&!_l.onfling.defaultprevented)))||(_k&&application.enabletouchevent&&this.enableevent)){var _m=_k?this.on_fire_user_onfling:this.on_fire_sys_onfling;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _n=this.onfling;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_fling_basic_action=function(){};_pComponent.on_fling_default_action=function(){};_pComponent._on_flingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}this._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onflingend;if(!_l||(_l&&!_l.defaultprevented)){this._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(this instanceof nexacro.Form){if(nexacro.OS=="iOS"){var _m=this._getWindow();var _n=_m.getCurrentFocusPaths();var _o=_n[_n.length-1];var _p=_o._input_element;if(_p){nexacro._deleteRefreshNode();nexacro._refreshCaret(_o);}}}};_pComponent._on_bubble_flingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_k){this.on_flingend_basic_action();}else{this.on_flingend_default_action();}if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingend:this.on_fire_sys_onflingend;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _m=this.onflingend;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingend:this.on_fire_sys_onflingend;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _m=this.onflingend;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_flingend_basic_action=function(){};_pComponent.on_flingend_default_action=function(){};_pComponent._on_longpress=function(_a,_b,_c,_d,_e){this._on_bubble_longpress(_a,_b,_c,_d,_e,true);var _f=this._getFromComponent(this);var _g=_f.onlongpress;if(!_g||(_g&&!_g.defaultprevented)){this._on_bubble_longpress(_a,_b,_c,_d,_e,false);}};_pComponent._on_bubble_longpress=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}if(_c===undefined){if(!_e){_e=this;if(!_e._is_reference_control){_e=this._getReferenceComponent(_e);}}if(_f){this.on_longpress_basic_action();}else{this.on_longpress_default_action();}if(this.visible&&this._isEnable()&&(!_f||(_f&&this.enableevent))){var _g=_f?this.on_fire_user_onlongpress:this.on_fire_sys_onlongpress;_c=_g.call(this,_a,_b,this,_e);if(_c===false){_c=undefined;}}var _h=this.onlongpress;if((!_h||(_h&&!_h.stoppropagation))&&(_c!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_longpress(_a,_b,_c,null,_e,_f);}else{return this.parent._on_bubble_longpress(_a,_b,false,this,_e,_f);}}}else{if(this.visible&&this._isEnable()&&(!_f||(_f&&this.enableevent))){var _g=_f?this.on_fire_user_onlongpress:this.on_fire_sys_onlongpress;_c=_g.call(this,_a,_b,_d,_e);}var _h=this.onlongpress;if((!_h||(_h&&!_h.stoppropagation))&&(_c!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_longpress(_a,_b,false,_d,_e,_f);}}};_pComponent.on_longpress_basic_action=function(){};_pComponent.on_longpress_default_action=function(){};_pComponent._on_slidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,true);var _l=this._getFromComponent(this);var _m=_l.onslidestart;if(!_m||(_m&&!_m.defaultprevented)){if(this._isParentdefaultprevented(_l,"slidestart")){return true;}this._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false);}if(_m&&_m.defaultprevented){return true;}};_pComponent._on_bubble_slidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_l){this.on_slidestart_basic_action();}else{this.on_slidestart_default_action();}if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslidestart:this.on_fire_sys_onslidestart;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _n=this.onslidestart;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k,_l);}else{return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k,_l);}}}else{if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslidestart:this.on_fire_sys_onslidestart;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _n=this.onslidestart;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k,_l);}}};_pComponent.on_slidestart_basic_action=function(){};_pComponent.on_slidestart_default_action=function(){};_pComponent._on_slide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,true);var _l=this._getFromComponent(this);var _m=_l.onslide;if(!_m||(_m&&!_m.defaultprevented)){if(this._isParentdefaultprevented(_l,"slide")){return true;}this._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false);}if(_m&&_m.defaultprevented){return true;}};_pComponent._on_bubble_slide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}var _m=this._getFromComponent(this);if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_l){this.on_slide_basic_action();}else{this.on_slide_default_action();}if(this.visible&&this._isEnable()){if((!_l&&(!_m.onslide||(_m.onslide&&!_m.onslide.defaultprevented)))||(_l&&application.enabletouchevent&&this.enableevent)){var _n=_l?this.on_fire_user_onslide:this.on_fire_sys_onslide;_h=_n.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _o=this.onslide;if((!_o||(_o&&!_o.stoppropagation))&&(_h!==true)&&this.parent){if(this.parent._is_application){if(!_l&&_b._scroll_comp==null&&!application._cur_track_info){if(nexacro._allow_default_pinchzoom&&_f!=0&&Math.abs(_f)>Math.abs(_g)){_b._scroll_end=true;_b._scroll_direction=(_f>0)? -10:10;}else if(_g!=0){_b._scroll_end=true;_b._scroll_direction=(_g>0)? -1:1;}}return;}if(this._is_subcontrol){return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k,_l);}else{return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k,_l);}}}else{if(this.visible&&this._isEnable()){if((!_l&&(!_m.onslide||(_m.onslide&&!_m.onslide.defaultprevented)))||(_l&&application.enabletouchevent&&this.enableevent)){var _n=_l?this.on_fire_user_onslide:this.on_fire_sys_onslide;_h=_n.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _o=this.onslide;if((!_o||(_o&&!_o.stoppropagation))&&(_h!==true)&&this.parent){if(this.parent._is_application){if(!_l&&_b._scroll_comp==null&&!application._cur_track_info){if(nexacro._allow_default_pinchzoom&&_f!=0&&Math.abs(_f)>Math.abs(_g)){_b._scroll_end=true;_b._scroll_direction=(_f>0)? -10:10;}else if(_g!=0){_b._scroll_end=true;_b._scroll_direction=(_g>0)? -1:1;}}return;}return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k,_l);}}};_pComponent.on_slide_basic_action=function(){};_pComponent.on_slide_default_action=function(){};_pComponent._on_slideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,true);var _l=this._getFromComponent(this);var _m=_l.onslideend;if(!_m||(_m&&!_m.defaultprevented)){this._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false);}};_pComponent._on_bubble_slideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_l){this.on_slideend_basic_action();}else{this.on_slideend_default_action();}if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslideend:this.on_fire_sys_onslideend;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _n=this.onslideend;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k,_l);}else{return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k,_l);}}}else{if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslideend:this.on_fire_sys_onslideend;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _n=this.onslideend;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k,_l);}}};_pComponent.on_slideend_basic_action=function(){};_pComponent.on_slideend_default_action=function(){};_pComponent._on_zoom=function(_a,_b,_c){if(!this._is_alive){return;}if(this.visible&&this._isEnable()){this.setZoom(_a);if(this.enableevent){this.on_fire_onzoom(_a,this,_c);}}};_pComponent._on_accessibilitygesture=function(_a,_b,_c,_d){var _e=this._on_bubble_accessibilitygesture(_a,_b,_c,_d,true);if(!this._is_alive){return _e;}var _f=this._getFromComponent(this);if(!_f.onaccessibilitygesture||(_f.onaccessibilitygesture&&!_f.onaccessibilitygesture.defaultprevented)){this.on_accessibilitygesture_default_action();_e=this._on_bubble_accessibilitygesture(_a,_b,_c,_d,false);}return _e;};_pComponent._on_bubble_accessibilitygesture=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}if(_b===undefined){if(!_d){_d=this;if(!_d._is_reference_control){_d=this._getReferenceComponent(_d);}}if((this.visible&&this._isEnable())||(this.visible&&nexacro._enableaccessibility&&nexacro._accessibilitytype==5)){if(_e&&!this._is_hotkey){_b=this.on_fire_user_onaccessibilitygesture(_a,this,_d);}else{_b=this.on_fire_sys_onaccessibilitygesture(_a,this,_d);this._is_hotkey=false;}if(_b===false){_b=undefined;}}if((!this.onaccessibilitygesture||(this.onaccessibilitygesture&&!this.onaccessibilitygesture.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_accessibilitygesture(_a,_b,null,_d,_e);}else{return this.parent._on_bubble_accessibilitygesture(_a,false,this,_d,_e);}}}else{if(this.visible&&this._isEnable()){if(_e){_b=this.on_fire_user_onaccessibilitygesture(_a,_c,_d);}else{_b=this.on_fire_sys_onaccessibilitygesture(_a,_c,_d);}}if((!this.accessibilitygesture||(this.accessibilitygesture&&!this.accessibilitygesture.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_accessibilitygesture(_a,false,_c,_d,_e);}}};_pComponent.on_accessibilitygesture_default_action=function(){};_pComponent._on_orientationchange=function(_a){if(!this._is_alive){return;}if(this.visible&&this._isEnable()){if(this.enableevent){this.on_fire_onorientationchange(_a);}}};_pComponent._on_starttrack=nexacro._emptyFn;_pComponent._on_movetrack=nexacro._emptyFn;_pComponent._on_endtrack=nexacro._emptyFn;_pComponent._on_startrepeat=nexacro._emptyFn;_pComponent._on_repeat=nexacro._emptyFn;_pComponent._on_endrepeat=nexacro._emptyFn;_pComponent.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onclick&&this.onclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);var _n=this.onclick._fireEvent(this,_m);_m.destroy();_m=null;return _n;}return false;};_pComponent.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro._fireBeforeDblclick(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this.ondblclick&&this.ondblclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"ondblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.ondblclick._fireEvent(this,_m);}return false;};_pComponent.on_fire_onkillfocus=function(_a,_b){if(this.onkillfocus&&this.onkillfocus._has_handlers){var _c=new nexacro.KillFocusEventInfo(this,"onkillfocus",_a,_b);return this.onkillfocus._fireEvent(this,_c);}return false;};_pComponent.on_fire_onsetfocus=function(_a,_b){if(this._is_precessing_setfocus){return false;}if(this.onsetfocus&&this.onsetfocus._has_handlers){var _c=new nexacro.SetFocusEventInfo(this,"onsetfocus",_a,_b);this._is_precessing_setfocus=true;var _d=this.onsetfocus._fireEvent(this,_c);this._is_precessing_setfocus=false;return _d;}return false;};_pComponent.on_fire_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f);return this.onkeydown._fireEvent(this,_g);}return false;};_pComponent.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f);return this.onkeydown._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f);return this.onkeydown._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireEvent(this,_g);}return false;};_pComponent.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseenter._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseenter._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseenter._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseleave._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseleave._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseleave._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousemove._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousemove._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousemove._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _o=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n);return this.onmousewheel._fireEvent(this,_o);}return false;};_pComponent.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _o=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n);return this.onmousewheel._fireSysEvent(this,_o);}return false;};_pComponent.on_fire_user_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _o=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n);return this.onmousewheel._fireUserEvent(this,_o);}return false;};_pComponent.on_fire_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=new nexacro.DragEventInfo(this,"ondrag",_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return [this.ondrag._fireEvent(this,_o),this,_m,_n,_o.userdata];}return [false];};_pComponent.on_fire_sys_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=new nexacro.DragEventInfo(this,"ondrag",_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return [this.ondrag._fireSysEvent(this,_o),this,_m,_n,_o.userdata];}return [false];};_pComponent.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.selectscrollmode&&(this.selectscrollmode=="scroll"||(nexacro._isMobile&&nexacro._isMobile()&&this.selectscrollmode=="default"))){var _n=nexacro._cur_drag_info;return [false,this,_l,_n.data,_n.userdata];}if(this.ondrag&&this.ondrag._has_handlers){var _o=this._getDragData();var _p=new nexacro.DragEventInfo(this,"ondrag",_o,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return [this.ondrag._fireUserEvent(this,_p),this,_m,_o,_p.userdata];}return [false];};_pComponent.on_fire_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondrop._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondrop._fireSysEvent(this,_q);}return false;};_pComponent.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this==_a&&this._is_drag){return false;}if(_a&&(!_a.selectscrollmode||_a.selectscrollmode=="select"||(nexacro._isDesktop()&&_a.selectscrollmode=="default"))){if(this.ondrop&&this.ondrop._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondrop._fireUserEvent(this,_q);}}return false;};_pComponent.on_fire_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragenter._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragenter._fireSysEvent(this,_q);}return false;};_pComponent.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(!_a.selectscrollmode||_a.selectscrollmode=="select"||(nexacro._isDesktop()&&_a.selectscrollmode=="default")){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragenter._fireUserEvent(this,_q);}}return false;};_pComponent.on_fire_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragleave._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragleave._fireSysEvent(this,_q);}return false;};_pComponent.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(!_a.selectscrollmode||_a.selectscrollmode=="select"||(nexacro._isDesktop()&&_a.selectscrollmode=="default")){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragleave._fireUserEvent(this,_q);}}return false;};_pComponent.on_fire_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragmove._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(_a&&_a.selectscrollmode&&(_a.selectscrollmode=="scroll"||(nexacro._isMobile&&nexacro._isMobile()&&_a.selectscrollmode=="default"))){var _s=0;var _t=false;var _u=false;if(_q!=0&&_a.hscrollbar&&_a.hscrollbar.enable&&(_a.dragscrolltype!="none"&&_a.dragscrolltype!="vert")){if(_q<0){if(_a.hscrollbar.pos<_a.hscrollbar.max){_t=true;}}else{if(_a.hscrollbar.pos>0){_t=true;}}}if(_r!=0&&_a.vscrollbar&&_a.vscrollbar.enable&&(_a.dragscrolltype!="none"&&_a.dragscrolltype!="horz")){if(_r<0){if(_a.vscrollbar.pos<_a.vscrollbar.max){_u=true;}}else{if(_a.vscrollbar.pos>0){_u=true;}}}if(_a.dragscrolltype=="all"&&(_t||_u)){_s=3;}else if(_t&&_u){if(Math.abs(_r)<Math.abs(_q)){_s=2;}else{_s=1;}}else if(_t){_s=2;}else if(_u){_s=1;}if((_s==3||_s==2)&&_q!=0&&_a.hscrollbar&&_a.hscrollbar.enable){_a.hscrollbar._setPos(_a.hscrollbar.pos-_q);}if((_s==3||_s==1)&&_r!=0&&_a.vscrollbar&&_a.vscrollbar.enable){_a.vscrollbar._setPos(_a.vscrollbar.pos-_r);}}if(this.ondragmove&&this.ondragmove._has_handlers){var _v=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragmove._fireSysEvent(this,_v);}return false;};_pComponent.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(_a&&(!_a.selectscrollmode||_a.selectscrollmode=="select"||(nexacro._isDesktop()&&_a.selectscrollmode=="default"))){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragmove._fireUserEvent(this,_q);}}return false;};_pComponent.on_fire_onmove=function(_a,_b){if(this.onmove&&this.onmove._has_handlers){var _c=new nexacro.MoveEventInfo(this,"onmove",_a,_b);return this.onmove._fireEvent(this,_c);}return false;};_pComponent.on_fire_onsize=function(_a,_b){if(this.onsize&&this.onsize._has_handlers){var _c=new nexacro.SizeEventInfo(this,"onsize",_a,_b);return this.onsize._fireEvent(this,_c);}return false;};_pComponent.on_fire_oncontextmenu=function(_a,_b){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _c=new nexacro.ContextMenuEventInfo(this,"oncontextmenu",_a,_b);return this.ontouchstart._fireEvent(this,_c);}return false;};_pComponent.on_fire_user_oncontextmenu=function(_a,_b){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _c=new nexacro.ContextMenuEventInfo(this,"oncontextmenu",_a,_b);return this.oncontextmenu._fireUserEvent(this,_c);}return false;};_pComponent.on_fire_sys_oncontextmenu=function(_a,_b){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _c=new nexacro.ContextMenuEventInfo(this,"oncontextmenu",_a,_b);return this.oncontextmenu._fireSysEvent(this,_c);}return true;};_pComponent.on_fire_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontap=function(){if(this.ontap&&this.ontap._has_handlers){var _a=new nexacro.TapEventInfo(this,"ontap");return this.ontap._fireEvent(this,_a);}return false;};_pComponent.on_fire_user_ontap=_pComponent.on_fire_ontap;_pComponent.on_fire_sys_ontap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pComponent.on_fire_ondbltap=function(){if(this.ondbltap&&this.ondbltap._has_handlers){var _a=new nexacro.TapEventInfo(this,"ondbltap");return this.ondbltap._fireEvent(this,_a);}return false;};_pComponent.on_fire_user_ondbltap=_pComponent.on_fire_ondbltap;_pComponent.on_fire_sys_ondbltap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._on_dblclick(_a,"touch",false,false,false,_d,_e,_b,_c);return true;};_pComponent.on_fire_onpinchstart=function(_a,_b,_c,_d,_e,_f){if(this.onpinchstart&&this.onpinchstart._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchstart",_b,_c,_d,_e,_f);return this.onpinchstart._fireEvent(this,_g);}return false;};_pComponent.on_fire_user_onpinchstart=function(_a,_b,_c,_d,_e,_f){if(this.onpinchstart&&this.onpinchstart._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchstart",_b,_c,_d,_e,_f);return this.onpinchstart._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_sys_onpinchstart=function(_a,_b,_c,_d,_e,_f){if(this.onpinchstart&&this.onpinchstart._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchstart",_b,_c,_d,_e,_f);return this.onpinchstart._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onpinch&&this.onpinch._has_handlers){var _i=new nexacro.PinchEventInfo(this,"onpinch",_b,_c,_d,_g,_h);return this.onpinch._fireEvent(this,_i);}return false;};_pComponent.on_fire_user_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onpinch&&this.onpinch._has_handlers){var _i=new nexacro.PinchEventInfo(this,"onpinch",_b,_c,_d,_g,_h);return this.onpinch._fireUserEvent(this,_i);}return false;};_pComponent.on_fire_sys_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this instanceof nexacro.Form){if(this._is_popup_control){return true;}if(this.parent&&this.parent instanceof nexacro.ChildFrame){var _i=Math.abs(_d)/_e;var _j=_d>0?1: -1;var _k=(1.0+(_j*_i));var _l=this.getZoom()||100;_l=_l*_k;if(!nexacro._allow_default_pinchzoom){var _m=application._curscreen;if(_m){var _n=_m._zoommin*100;var _o=_m._zoommax*100;if(_n!==undefined&&_o!==undefined&&_n>=_o){return true;}if(_n!=undefined&&_n>=0&&_l<_n){_l=_n;}if(_o!=undefined&&_o>=0&&_l>_o){_l=_o;}}}this._on_zoom(_l,this,_h);return true;}}return false;};_pComponent.on_fire_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireEvent(this,_g);}return false;};_pComponent.on_fire_user_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_sys_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingstart&&this.onflingstart._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingstart",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingstart._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingstart&&this.onflingstart._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingstart",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingstart._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pComponent.on_fire_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onfling&&this.onfling._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onfling",null,_c,_d,_e,_f,_g,_h,_i);return this.onfling._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onfling&&this.onfling._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onfling",null,_c,_d,_e,_f,_g,_h,_i);return this.onfling._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_b._scroll_comp==this){_b._proc_scroll=true;return true;}return false;};_pComponent.on_fire_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingend&&this.onflingend._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingend",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingend._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingend&&this.onflingend._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingend",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingend._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent.on_fire_onlongpress=function(_a,_b,_c,_d){if(this.onlongpress&&this.onlongpress._has_handlers){var _e=new nexacro.LongPressEventInfo(this,"onlongpress",_b,_c,_d);return this.onlongpress._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_onlongpress=function(_a,_b,_c,_d){if(this.onlongpress&&this.onlongpress._has_handlers){var _e=new nexacro.LongPressEventInfo(this,"onlongpress",_b,_c,_d);return this.onlongpress._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_onlongpress=function(_a,_b,_c,_d){if(this.onlongpress&&this.onlongpress._has_handlers){var _e=new nexacro.LongPressEventInfo(this,"onlongpress",_b,_c,_d);return this.onlongpress._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslidestart&&this.onslidestart._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslidestart",_c,_d,_e,_f,_g,_h,_i);return this.onslidestart._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslidestart&&this.onslidestart._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslidestart",_c,_d,_e,_f,_g,_h,_i);return this.onslidestart._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslidestart&&this.onslidestart._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslidestart",_c,_d,_e,_f,_g,_h,_i);return this.onslidestart._fireSysEvent(this,_j);}return false;};_pComponent.on_fire_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslide&&this.onslide._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslide",_c,_d,_e,_f,_g,_h,_i);return this.onslide._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslide&&this.onslide._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslide",_c,_d,_e,_f,_g,_h,_i);return this.onslide._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(nexacro._cur_track_info){if(nexacro._cur_track_info.target._no_slide_scroll==true){return true;}}if(!this.hscrollbar&&!this.vscrollbar){return false;}var _j=_b._scroll_comp;var _k=_b._scroll_mode;if(_j){if(_j!=this){return false;}}else{var _l=false;var _m=false;if(_f!=0&&this.hscrollbar&&this.hscrollbar.enable&&(this.dragscrolltype!="none"&&this.dragscrolltype!="vert")){if(_f<0){if(this.hscrollbar.pos<this.hscrollbar.max){_l=true;}}else{if(this.hscrollbar.pos>0){_l=true;}}}if(_g!=0&&this.vscrollbar&&this.vscrollbar.enable&&(this.dragscrolltype!="none"&&this.dragscrolltype!="horz")){if(_g<0){if(this.vscrollbar.pos<this.vscrollbar.max){_m=true;}}else{if(this.vscrollbar.pos>0){_m=true;}}}if(this.dragscrolltype=="all"&&(_l||_m)){_k=3;}else if(_l&&_m){if(Math.abs(_g)<Math.abs(_f)){_k=2;}else{_k=1;}}else if(_l){_k=2;}else if(_m){_k=1;}if(this.selectscrollmode!=undefined){var _n;if(this.selectscrollmode=="default"){_n=(nexacro.SupportTouch||nexacro.isTouchInteraction)?"scroll":"select";}else{_n=this.selectscrollmode;}if(_n=="select"){_k=0;}}if(_k>0){_j=this;_b._scroll_end=false;_b._scroll_comp=this;_b._scroll_mode=_k;}else{return false;}}if(this.getZoom){var _o=this.getZoom();if(_o!=100){_f/=(_o/100.0);_g/=(_o/100.0);}}if((_k==3||_k==2)&&_f!=0&&this.hscrollbar&&this.hscrollbar.enable){this.hscrollbar._setPos(this.hscrollbar.pos-_f,"slide");}if((_k==3||_k==1)&&_g!=0&&this.vscrollbar&&this.vscrollbar.enable){this.vscrollbar._setPos(this.vscrollbar.pos-_g,"slide");}return true;};_pComponent.on_fire_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslideend&&this.onslideend._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslideend",_c,_d,_e,_f,_g,_h,_i);return this.onslideend._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslideend&&this.onslideend._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslideend",_c,_d,_e,_f,_g,_h,_i);return this.onslideend._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslideend&&this.onslideend._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslideend",_c,_d,_e,_f,_g,_h,_i);return this.onslideend._fireSysEvent(this,_j);}return false;};_pComponent.on_fire_onzoom=function(_a,_b,_c){if(this.onzoom&&this.onzoom._has_handlers){var _d=new nexacro.ZoomEventInfo(this,"onzoom",_a,_b,_c);return this.onzoom._fireEvent(this,_d);}return false;};_pComponent.on_fire_user_onzoom=function(_a,_b,_c){if(this.onzoom&&this.onzoom._has_handlers){var _d=new nexacro.ZoomEventInfo(this,"onzoom",_a,_b,_c);return this.onzoom._fireUserEvent(this,_d);}return false;};_pComponent.on_fire_sys_onzoom=function(_a,_b,_c){if(this.onzoom&&this.onzoom._has_handlers){var _d=new nexacro.ZoomEventInfo(this,"onzoom",_a,_b,_c);return this.onzoom._fireSysEvent(this,_d);}return false;};_pComponent.on_fire_onorientationchange=function(_a){if(this.onorientationchange&&this.onorientationchange._has_handlers){var _b=new nexacro.OrientationChangeEventInfo(this,"onorientationchange",_a);return this.onorientationchange._fireEvent(this,_b);}return false;};_pComponent.on_fire_user_onaccessibilitygesture=function(_a,_b,_c){};_pComponent.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){};delete _pComponent;}if(!nexacro.Dataset){nexacro._getXMLTagData=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f=_e+_c.length;var _g=_a.indexOf(_d,_f);if(_g> -1){var _h=_a.substring(_f,_g);return [_h,"",_e,_g+_d.length];}else{var _h=_a.substring(_f);return [_h,"",_e,_a.length];}}return null;};nexacro._getXMLTagData2=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f;var _g=_e+_c.length;var _h=_a.indexOf(">",_g);if(_h<0){return null;}else if(_h>0&&_a.charAt(_h-1)=='/'){_f=_a.substring(_g,_h-1).trim();return ["",_f,_e,_h];}else{_f=_a.substring(_g,_h).trim();}_h++ ;var _i=_a.indexOf(_d,_h);if(_i> -1){var _j=_a.substring(_h,_i);return [_j,_f,_e,_i+_d.length];}else{var _j=_a.substring(_h);return [_j,_f,_e,_a.length];}}return null;};nexacro._getXMLTagData3=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f=_e+_c.length;if(_a.charAt(_f)==" "){var _g;var _h=_f+1;var _i=_a.indexOf(">",_h);if(_i<0){return null;}else if(_i>0&&_a.charAt(_i-1)=='/'){_g=_a.substring(_h,_i-1).trim();return ["",_g,_e,_i];}else{_g=_a.substring(_h,_i).trim();}_i++ ;var _j=_a.indexOf(_d,_i);if(_j> -1){var _k=_a.substring(_i,_j);return [_k,_g,_e,_j+_d.length];}else{var _k=_a.substring(_i);return [_k,_g,_e,_a.length];}}else if(_a.charAt(_f)=="/"){_f=_f+1;if(_a.charAt(_f)==">"){return ["","",_e,_f];}}else{if(_a.charAt(_e+1)==">"){_e=_e+1;}var _i=_e+_c.length;var _j=_a.indexOf(_d,_i);if(_j> -1){var _k=_a.substring(_i,_j);return [_k,"",_e,_j+_d.length];}else{var _k=_a.substring(_i);return [_k,"",_e,_a.length];}}}return null;};nexacro._getXMLTagData4=function(_a,_b,_c){var _d=_a.indexOf(_c,_b);if(_d> -1){var _e=_d+_c.length;var _f=_a.indexOf("/>",_e);if(_f> -1){var _g=_a.substring(_e,_f).trim();return ["",_g,_e,_f+2];}else{var _g=_a.substring(_e).trim();return ["",_g,_e,_a.length];}}return null;};nexacro._getXMLAttributeID=function(_a){var _b=_a.indexOf("id=\"");if(_b> -1){var _c=_b+4;var _d=_a.indexOf("\"",_c);if(_d> -1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeType=function(_a){var _b=_a.indexOf("type=\"");if(_b> -1){var _c=_b+6;var _d=_a.indexOf("\"",_c);if(_d> -1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeData=function(_a,_b){var _c=_a.indexOf(_b+"=\"");if(_c> -1){var _d=_c+_b.length+2;var _e=_a.indexOf("\"",_d);if(_e> -1){return _a.substring(_d,_e);}return "";}return null;};nexacro.Date=function(_a,_b,_c,_d,_e,_f,_g){if(_a==null){this._timecheck=true;this.date=new Date();}else if(_b==null&&typeof _a=="string"){this._timecheck=true;this.date=new Date(_a);}else if(_c==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);this.date=new Date(_a,_b);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_d==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);this.date=new Date(_a,_b,_c);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_e==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);this.date=new Date(_a,_b,_c,_d);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_f==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);this.date=new Date(_a,_b,_c,_d,_e);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_g==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else{this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);_g=(parseInt(_g,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f,_g);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}return;};var _pDate=nexacro._createPrototype(nexacro.Object,nexacro.Date);nexacro.Date.prototype=_pDate;_pDate._type_name="Date";_pDate.getFullYear=function(){return this.date.getFullYear();};_pDate.setFullYear=function(_a,_b,_c){if(_c!=null){this.date.setFullYear(_a,_b,_c);}else if(_b!=null){this.date.setFullYear(_a,_b);}else{this.date.setFullYear(_a);}};_pDate.getYear=function(){return this.date.getYear();};_pDate.setYear=function(_a,_b,_c){if(_c!=null){this.date.setYear(_a,_b,_c);}else if(_b!=null){this.date.setYear(_a,_b);}else{this.date.setYear(_a);}};_pDate.getMonth=function(){return this.date.getMonth();};_pDate.setMonth=function(_a,_b){if(_b==null){this.date.setMonth(_a);}else{this.date.setMonth(_a,_b);}};_pDate.getDate=function(){return this.date.getDate();};_pDate.setDate=function(_a){this.date.setDate(_a);};_pDate.getDay=function(){return this.date.getDay();};_pDate.getHours=function(){return this.date.getHours();};_pDate.setHours=function(_a,_b,_c,_d){if(_d!=null){this.date.setHours(_a,_b,_c,_d);}else if(_c!=null){this.date.setHours(_a,_b,_c);}else if(_b!=null){this.date.setHours(_a,_b);}else{this.date.setHours(_a);}};_pDate.getMinutes=function(){return this.date.getMinutes();};_pDate.setMinutes=function(_a,_b,_c){if(_c!=null){this.date.setMinutes(_a,_b,_c);}else if(_b!=null){this.date.setMinutes(_a,_b);}else{this.date.setMinutes(_a);}};_pDate.getSeconds=function(){return this.date.getSeconds();};_pDate.setSeconds=function(_a,_b){if(_b!=null){this.date.setSeconds(_a,_b);}else{this.date.setSeconds(_a);}};_pDate.getMilliseconds=function(){return this.date.getMilliseconds();};_pDate.setMilliseconds=function(_a){this.date.setMilliseconds(_a);};_pDate.getTime=function(){return this.date.getTime();};_pDate.setTime=function(_a){this.date.setTime(_a);};_pDate.getTimezoneOffset=function(){return this.date.getTimezoneOffset();};_pDate.getUTCFullYear=function(){return this.date.getUTCFullYear();};_pDate.setUTCFullYear=function(_a,_b,_c){if(_c!=null){this.date.setUTCFullYear(_a,_b,_c);}else if(_b!=null){this.date.setUTCFullYear(_a,_b);}else{this.date.setUTCFullYear(_a);}};_pDate.getUTCMonth=function(){return this.date.getUTCMonth();};_pDate.setUTCMonth=function(_a,_b){if(_b==null){this.date.setUTCMonth(_a);}else{this.date.setUTCMonth(_a,_b);}};_pDate.getUTCDate=function(){return this.date.getUTCDate();};_pDate.setUTCDate=function(_a){this.date.setUTCDate(_a);};_pDate.getUTCDay=function(){return this.date.getUTCDay();};_pDate.getUTCHours=function(){return this.date.getUTCHours();};_pDate.setUTCHours=function(_a,_b,_c,_d){if(_d!=null){this.date.setUTCHours(_a,_b,_c,_d);}else if(_c!=null){this.date.setUTCHours(_a,_b,_c);}else if(_b!=null){this.date.setUTCHours(_a,_b);}else{this.date.setUTCHours(_a);}};_pDate.getUTCMinutes=function(){return this.date.getUTCMinutes();};_pDate.setUTCMinutes=function(_a,_b,_c){if(_c!=null){this.date.setUTCMinutes(_a,_b,_c);}else if(_b!=null){this.date.setUTCMinutes(_a,_b);}else{this.date.setUTCMinutes(_a);}};_pDate.getUTCSeconds=function(){return this.date.getUTCSeconds();};_pDate.setUTCSeconds=function(_a,_b){if(_b==null){this.date.setUTCSeconds(_a);}else{this.date.setUTCSeconds(_a,_b);}};_pDate.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds();};_pDate.setUTCMilliseconds=function(_a){this.date.setUTCMilliseconds(_a);};_pDate.parse=function(_a){return this.date.parse(_a);};_pDate.UTC=function(_a,_b,_c,_d,_e,_f,_g){return this.date.UTC(_a,_b,_c,_d,_e,_f,_g);};_pDate.valueOf=function(){return this.toString();};_pDate.toGMTString=function(){return this.date.toGMTString();};_pDate.toDateString=function(){return this.date.toDateString();};_pDate.toTimeString=function(){return this.date.toTimeString();};_pDate.toLocaleDateString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_format);return _c;};_pDate.toLocaleTimeString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.time_format);return _c;};_pDate.toString=function(){var _a=this.getFullYear();var _b=this.getMonth()+1;var _c=this.getDate();var _d=this.getHours();var _e=this.getMinutes();var _f=this.getSeconds();var _g=this.getMilliseconds();_a=_a!==null?this.toZeroDigitString(_a,4):"0000";_b=_b!==null?this.toZeroDigitString(_b,2):_b;_c=_c!==null?this.toZeroDigitString(_c,2):_c;_d=_d!==null?this.toZeroDigitString(_d,2):_d;_e=_e!==null?this.toZeroDigitString(_e,2):_e;_f=_f!==null?this.toZeroDigitString(_f,2):_f;_g=_g!==null?this.toZeroDigitString(_g,3):_g;if(this._timecheck){if(this._timeonly){return ""+_d+_e+_f+_g;}else{return ""+_a+_b+_c+_d+_e+_f+_g;}}else{return ""+_a+_b+_c;}};_pDate.toLocaleString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_time_format);return _c;};_pDate.toUTCString=function(){return this.date.toUTCString();};_pDate.toZeroDigitString=function(_a,_b){var _c="";_a=_a.toString();var _d=_a.length;if(_d<_b){for(var _e=0;_e<_b-_d;_e++ ){_c+="0";}}return _c+_a;};_pDate.getLocaleFormatString=function(_a,_b,_c){var _d=nexacro.Locale.getLocaleInfo(_a);var _e=_b;_e=_e.replace(/%r/g,_d.time_format_ampm);_e=_e.replace(/%x/g,_d.date_format);_e=_e.replace(/%X/g,_d.time_format);_e=_e.replace(/%T/g,"%H:%M:%S");if(_c===true){_e=_e.replace(/%Y/g,"\u200E%Y");_e=_e.replace(/%y/g,"\u200E%y");_e=_e.replace(/%d/g,"\u200E%d");_e=_e.replace(/%e/g,"\u200E%e");}_e=_e.replace(/%a/g,this.toLocaleWeekDayString(_a,"short"));_e=_e.replace(/%A/g,this.toLocaleWeekDayString(_a,"long"));_e=_e.replace(/%b/g,this.toLocaleMonthString(_a,"short"));_e=_e.replace(/%B/g,this.toLocaleMonthString(_a,"long"));_e=_e.replace(/%p/g,this.toLocaleAMPMString(_a));_e=_e.replace(/%y/g,this.getYear());_e=_e.replace(/%Y/g,this.getFullYear());_e=_e.replace(/%n/g,this.getMonth()+1);_e=_e.replace(/%m/g,nexacro._toString(this.getMonth()+1).padLeft(2,"0"));_e=_e.replace(/%d/g,nexacro._toString(this.getDate()).padLeft(2,"0"));_e=_e.replace(/%e/g,this.getDate());_e=_e.replace(/%H/g,this.getHours());_e=_e.replace(/%l/g,this.getHours());_e=_e.replace(/%I/g,this.getHours());_e=_e.replace(/%M/g,this.getMinutes());_e=_e.replace(/%S/g,this.getSeconds());_e=_e.replace(/\\a/g,"a");_e=_e.replace(/\\m/g,"m");_e=_e.replace(/\\d/g,"d");return _e;};_pDate.toLocaleWeekDayString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getDay();var _e="";switch(_b){case "short":{_e=_c.weekday_names_short[_d];}break;case "narrow":{_e=_c.weekday_names_narrow[_d];}break;case "long":default:{_e=_c.weekday_names_long[_d];}break;}return _e;};_pDate.toLocaleMonthString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getMonth();var _e="";switch(_b){case "short":{_e=_c.month_names_short[_d];}break;case "narrow":{_e=_c.month_names_narrow[_d];}break;case "long":default:{_e=_c.month_names_long[_d];}break;}return _e;};_pDate.toLocaleAMPMString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getHours();var _d="";if((_c%12)%2){_d=_b.ampm[1];if(!_d){_d="PM";}}else{_d=_b.ampm[0];if(!_d){_d="AM";}}return _d;};delete _pDate;nexacro.DataUtils={_undefined_type:0,_string_type:1,_int_type:2,_float_type:3,_bicdecimal_type:4,_dete_type:5,_time_type:6,_datetime_type:7,_bolb_type:8,_variant_type:9,_typecodes:{"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,"string":1,"int":2,"float":3,"double":3,"decimal":3,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typeint:{"string":1,"int":2,"float":3,"double":3,"decimal":4,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typenames:["undefined","STRING","INT","DOUBLE","BIGDECIMAL","DATE","TIME","DATETIME","BLOB","VARIANT"],_default_sizes:[8,32,4,8,16,6,9,17,256,0],_default_values:[undefined,"",0,0.0,0.0,null,null,null,null,null],_boolean_values:{"false":false,"False":false,"FALSE":false,"no":false,"No":false,"NO":false,"n":false,"N":false,"off":false,"Off":false,"OFF":false,"0":false,"true":true,"True":true,"TRUE":true,"yes":true,"Yes":true,"YES":true,"y":true,"Y":true,"on":true,"On":true,"ON":true,"1":true},_init_date:new Date(0),_max_milliseconds:100000000*24*60*60*1000,_min_milliseconds: -100000000*24*60*60*1000,getDefaultValue:function(_a){return nexacro.DataUtils._default_values[_a.toLowerCase()];},getDefaultSize:function(_a){return nexacro.DataUtils._default_sizes[_a.toLowerCase()];},toTypeCode:function(_a){var _b=nexacro.DataUtils._typeint[_a.toLowerCase()];return (_b==null)?0:_b;},toTypeName:function(_a){var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?"undefined":_b;},findDataType:function(_a){if((typeof _a)=="object"){return (_a instanceof Date)?7:0;}var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?0:_b;},isBinary:function(_a){return (_a==12);},toString:function(_a){if(_a==null){return _a;}if(_a instanceof Date){return nexacro.DataUtils._formatDateTime(_a);}return _a.toString();},toStringFromText:function(_a){return _a;},toStringFromXMLText:function(_a){return nexacro._decodeXml(_a);},toTextFromString:function(_a){return _a;},toXMLTextFromString:function(_a){return nexacro._encodeXml(_a);},toInt:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toIntFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toTextFromInt:function(_a){return (_a==null)?undefined:_a+"";},toBoolean:function(_a){if(typeof _a=="string"){_a=this._boolean_values[_a];}return (_a?true:false);},toBooleanFromText:function(_a){_a=this._boolean_values[_a];return (_a?true:false);},toTextFromBoolean:function(_a){return (_a==null)?_a:_a+"";},toFloat:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toFloatFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromFloat:function(_a){return (_a==null)?undefined:(_a+"");},toNumber:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toNumberFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromNumber:function(_a){return (_a==null)?undefined:(_a+"");},toDecimal:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else if(_a instanceof Date){return new nexacro.Decimal(_a.getTime());}return (isFinite(_a))?new nexacro.Decimal(_a):"";},toDecimalFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return undefined;}else{return new nexacro.Decimal(_a);}},toTextFromDecimal:function(_a){return (_a==null)?undefined:_a.toString();},toDate:function(_a){if(_a==null||_a===undefined){return undefined;}else if(_a===""){return "";}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"DATE");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToDate(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToDate(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"DATE");},toTextFromDate:function(_a){return (_a==null)?null:nexacro.DataUtils._formatDate(_a);},toTime:function(_a){if(_a==null||_a===undefined){return undefined;}else if(_a===""){return "";}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"TIME");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToTime(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"TIME");},toTextFromTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatTime(_a);},toDateTime:function(_a){if(_a==null||_a===undefined){return undefined;}else if(_a===""){return "";}if((typeof _a)=="string"){if(isNaN( +_a)){return "";}return nexacro.DataUtils._parseDateTime(_a,"DATETIME");}if(_a instanceof Date){return _a;}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"DATETIME");},toTextFromDateTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatDateTime(_a);},toBlob:function(_a){return _a;},toBlobFromText:function(_a){return _a;},toTextFromBlob:function(_a){return _a;},toVariant:function(_a){return _a;},toVariantFromText:function(_a){return _a;},toTextFromVariant:function(_a){return (_a==null)?_a:(_a+"");},convert:function(_a,_b){switch(_b){case 1:return this.toString(_a);case 2:return this.toInt(_a);case 3:return this.toFloat(_a);case 4:return this.toDecimal(_a);case 5:return this.toDate(_a);case 6:return this.toTime(_a);case 7:return this.toDateTime(_a);case 8:return this.toBlob(_a);default:return this.toVariant(_a);}return "";},_datetimeToDate:function(_a){_a.setHours(0);_a.setMinutes(0);_a.setSeconds(0);_a.setMilliseconds(0);return _a;},_datetimeToTime:function(_a){_a.setFullYear(0);_a.setMonth(0);_a.setDate(1);return _a;},_parseDateTime:function(_a,_b){_a=_a.trim();_b=_b.toUpperCase();switch(_b){case "DATETIME":var _c=_a.substring(0,4);var _d=_a.substring(4,6);var _e=_a.substring(6,8);var _f=_a.substring(8,10);var _g=_a.substring(10,12);var _h=_a.substring(12,14);var _i=_a.substring(14,17);if(isNaN(parseInt(_c))||isNaN(parseInt(_d))||isNaN(parseInt(_e))||isNaN(parseInt(_f))||isNaN(parseInt(_g))||isNaN(parseInt(_h))||isNaN(parseInt(_i))){return null;}else if(_c&&_d&&_e&&_f&&_g&&_h&&_i){return nexacro.DataUtils._toDateTime(_c,_d,_e,_f,_g,_h,_i);}else{return null;}case "DATE":var _c=_a.substring(0,4);var _d=_a.substring(4,6);var _e=_a.substring(6,8);if(isNaN(parseInt(_c))||isNaN(parseInt(_d))||isNaN(parseInt(_e))){return null;}else if(_c&&_d&&_e){return nexacro.DataUtils._toDate(_c,_d,_e);}else{return null;}case "TIME":var _f=_a.substring(0,2);var _g=_a.substring(2,4);var _h=_a.substring(4,6);var _i=_a.substring(6,9);if(isNaN(parseInt(_f))||isNaN(parseInt(_g))||isNaN(parseInt(_h))||isNaN(parseInt(_i))){return null;}else if(_f&&_g&&_h&&_i){return nexacro.DataUtils._toTime(_f,_g,_h,_i);}else{return null;}}return "";},_formatDate:function(_a){if(!_a){return undefined;}return this._leftPad(_a.getFullYear()*10000+(_a.getMonth()+1)*100+_a.getDate(),8);},_formatTime:function(_a){if(!_a){return undefined;}var _b="";var _c=_a.getMilliseconds();_b=this._leftPad(_c,3);return this._leftPad(_a.getHours()*10000+_a.getMinutes()*100+_a.getSeconds(),6)+_b;},_formatDateTime:function(_a){if(isNaN(_a)){return undefined;}var _b=this._leftPad(_a.getFullYear()*10000+(_a.getMonth()+1)*100+_a.getDate(),8);var _c="";var _d=_a.getMilliseconds();_c=this._leftPad(_d,3);var _e=this._leftPad(_a.getHours()*10000+_a.getMinutes()*100+_a.getSeconds(),6)+_c;return _b+_e;},_toDate:function(_a,_b,_c){var _d=new nexacro.Date(_a,_b-1,_c);return (( +_d)!=( +_d))?undefined:_d;},_toTime:function(_a,_b,_c,_d){var _e=new nexacro.Date(0,0,1,_a,_b,_c,_d);return (( +_e)!=( +_e))?undefined:_e;},_toDateTime:function(_a,_b,_c,_d,_e,_f,_g){var _h=new nexacro.Date(_a,_b-1,_c,_d,_e,_f,_g);return (( +_h)!=( +_h))?undefined:_h;},_isValidTime:function(_a){return (_a<=this._MAX_MILLISECONDS&&_a>=this._MIN_MILLISECONDS);},_leftPad:function(_a,_b){_a=_a+"";var _c=_b-_a.length;switch(_c){case 0:return _a;case 1:return "0"+_a;case 2:return "00"+_a;case 3:return "000"+_a;case 4:return "0000"+_a;case 5:return "00000"+_a;}return _a;}};nexacro.ExprParser=function(){this.output=[];this._itemidx= -1;this._itempos=0;this._prevtype= -1;};_pExprParser=nexacro._createPrototype(nexacro.Object,nexacro.ExprParser);nexacro.ExprParser.prototype=_pExprParser;_pExprParser.whitespace=nexacro._gen_arrmap("\n\r\t ".split(''));_pExprParser.wordchars=nexacro._gen_arrmap("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(''));_pExprParser.punct=nexacro._gen_arrmap("+ - * / % & ++ -- = += -= *= /= %= == === != <> !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(' '));_pExprParser.line_starters=nexacro._gen_arrmap("continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(','));_pExprParser.regexp_hanja=/[\u2E80-\u2EFF]|[\u31C0-\u31EF]|[\u3200-\u32FF]|[\u3400-\u4DBF]|[\u4E00-\u9FBF]|[\uF900-\uFAFF]/;_pExprParser.regexp_nipon=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u31F0-\u31FF]|[\uFF01-\uFFEF]|[\u3000-\u3002]|[\u300C]|[\u300D]|[\u309B]|[\u309C]|[\u2010-\u201F]/;_pExprParser.regexp_greek=/[\u0370-\u03FF]/;_pExprParser.regexp_hangul=/[ㄱ-ㅎ]|[ㅏ-ㅣ]|[가-힣]/;_pExprParser.regexp_greek=/[\u0370-\u03FF]/;_pExprParser.regexp_num=/^[0-9]+[Ee]$/;_pExprParser.is_ternary_op=function(){var _a=0,_b=0;var _c=this.output;var _d=_c.length-1;function is_ternary_op_loop(){if(_d>=0){switch(_c[_d]){case ':':if(_a===0){_b++ ;}break;case '?':if(_a===0){if(_b===0){return true;}else{_b-- ;}}break;case '{':if(_a===0){return false;}_a-- ;break;case '(':case '[':_a-- ;break;case ')':case ']':case '}':_a++ ;break;}_d-- ;return false;}return true;}while(true){if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}}};_pExprParser.append=function(_a,_b){var _c=this.output;var _d=_c.length;if(_b==2&&this._prevtype==2){_c[_d-1].tok+=_a;return;}if(_b==10){if(this._prevtype==2){_c[_d-1].tok+=_a;return;}else if(_d==0){_c[_d]={type:2,tok:_a,pos: -1};this._prevtype=1;return;}}else if(_b==4){this._itempos=0;}else if(_b==5&&this._prevtype==0){_c[_d-1].type=1;this._itempos=0;}var _e={type:_b,tok:_a,pos:this._itempos};_c[_d]=_e;if(_b==10&&this._prevtype==0){if(this._itempos>=0){this._itempos++ ;}}else if(_b==5||_b==7||_b==9){this._itempos=0;}else if(_b==6||_b==8){this._itempos= -1;}this._prevtype=_b;};_pExprParser.tokenizeExpr=function(_a){this.input=_a;var _b=this.output;var _c=true;if(_a&&_a.indexOf("(/")> -1){_c=false;}var _d="";var _e="";var _f="";var _g= -1;var _h=_a+"";var _i=_h.length;var _j=0;if(_j>=_i){return 0;}while(true){if(_j>=_i){return _b.length;}var _k;var _l=_h.charAt(_j);_j++ ;if(_c){while(_l in this.whitespace){if(_j>=_i){return _b.length;}_l=_h.charAt(_j);_j++ ;}}var _m=_c?false:_k in this.whitespace;if(_l in this.wordchars||_m||this.regexp_hangul.test(_l)||this.regexp_hanja.test(_l)||this.regexp_nipon.test(_l)||this.regexp_greek.test(_l)){if(_j<_i){_k=_h.charAt(_j);while(_k in this.wordchars||_m||this.regexp_hangul.test(_k)||this.regexp_hanja.test(_k)||this.regexp_nipon.test(_k)||this.regexp_greek.test(_k)){_l+=_k;_j++ ;if(_j>=_i){break;}_k=_h.charAt(_j);}}if(_j<_i&&this.regexp_num.test(_l)&&(_k==='-'||_k==='+')){var _n=_h.charAt(_j);_j+=1;this.parse_pos=_j;_k=_h.charAt(_j);while(_k in this.wordchars||_m||this.regexp_hangul.test(_k)||this.regexp_hanja.test(_k)||this.regexp_nipon.test(_k)||this.regexp_greek.test(_k)){_l+=_k;_j++ ;if(_j>=_i){break;}_k=_h.charAt(_j);}this.append(_l,3);continue;}if(_l=='in'){this.append(_l,4);}else{var _o=parseFloat(_l);if(isFinite(_o)){this.append(_l,2);}else{this.append(_l,0);}}continue;}if(_l=='('){this.append(_l,5);continue;}if(_l==')'){this.append(_l,6);continue;}if(_l=='['){this.append(_l,7);continue;}if(_l==']'){this.append(_l,8);continue;}if(_l==','){this.append(_l,9);continue;}if(_l=='{'){this.append(_l,10);continue;}if(_l=='}'){this.append(_l,11);continue;}if(_l==';'){this.append(_l,12);continue;}if(_l=="\\"){_l+=_h.charAt(_j);_j++ ;this.append(_l,4);continue;}if(_l=="'"||_l=='"'){while(_j<_i){var _p=_l;var _q=false;_k=_h.charAt(_j);_l+=_k;_j++ ;while(_q||_k!=_p){if(!_q){_q=(_k=='\\');}else{_q=false;}_k=_h.charAt(_j);_l+=_k;_j++ ;if(_j>=_i){break;}}if(_k==_p){this.append(_l,3);break;}return  -1;}continue;}if(_l=='/'){_k=_h.charAt(_j);if(_k=='*'){_l+=_k;_j++ ;while(_j<_i){_k=_h.charAt(_j);_l+=_k;_j++ ;if(_k=='*'){if(_j>=_i){break;}_k=_h.charAt(_j);_l+=_k;_j++ ;if(_k=='/'){continue;}}}return  -1;}if(_k=='/'){_l+=_k;_j++ ;_k=_h.charAt(_j);while(_j<_i){_k=_h.charAt(_j);if(_k=="\r"||_k=="\n"){_j+=1;continue;}_l+=_k;_j++ ;}continue;}if(nexacro._indexOf([ -1,4,5,7,9],_b._prevtype)>=0){while(_j<_i){var _q=false;var _r=false;_k=_h.charAt(_j);_l+=_k;_j++ ;while(_q||_r||_k!='/'){if(!_q){_q=(_k=='\\');if(_k=='['){_r=true;}else if(_k==']'){_r=false;}}else{_q=false;}_k=_h.charAt(_j);_l+=_k;_j++ ;}if(_k!='/'){return  -1;}_k=_h.charAt(_j);while(_j<_i&&(_k in this.wordchars||this.regexp_hangul.test(_l)||this.regexp_hanja.test(_l)||this.regexp_nipon.test(_l)||this.regexp_greek.test(_l))){_l+=_k;_j++ ;_k=_h.charAt(_j);}this.append(_l,3);break;}continue;}}if(_l in this.punct){while(_j<_i){_k=_h.charAt(_j);if((_l+_k) in this.punct){_l+=_k;_j++ ;}else{break;}}if(_l.charAt(0)=='='){if(_l!='=='&&_l!='==='){if(_j>=_i){return  -1;}}}this.append(_l,4);continue;}if(_l=='.'){this.append(_l,10);continue;}if(_l==' '){this.append(_l,11);continue;}this.append(_l,3);continue;}};_pExprParser.makeSubExpr=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_e.length;var _g=_a.colinfos;var _h=_a._constVars;var _i;var _j=_b;function makeSubExpr_loop(_k){if(_j<_c){var _l=_e[_j];if(_j!=0&&_l.type==4){_d+=_l.tok;}else{var _m="";if(_l.type==0&&_l.pos==0){var _i=_l.tok;if((_g!=undefined&&_i in _g)||(_h!=undefined&&_i in _h)){if(_j<(_c-1)&&_e[_j+1].type==7){var _n=0;var _o;for(_o=_j+2;_o<_c;_o++ ){if(_e[_o].type==7){bcbt++ ;}if(_e[_o].type==8){if(_n==0){break;}else{_n-- ;}}}if(_o<_c&&_o>(_j+2)){var _p=_k.makeSubExpr(_a,_j+2,_o);if(_p!=null){_d+="dataset.getColumn("+_p+", '"+_i+"')";_j=_o;}else{return undefined;}}else{return undefined;}}else{_d+="dataset.getColumn(rowidx, '"+_i+"')";}}else if(_i=="new"){_d+=_i+" ";}else{_d+=_i;}}else{_d+=_l.tok;}}_j++ ;return false;}return true;}while(true){if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}}return _d;};_pExprParser.makeExpr=function(_a,_b){var _c=this.tokenizeExpr(_b);var _d=this.makeSubExpr(_a,0,this.output.length);return _d;};_pExprParser.makeSubEval=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_e.length;var _g;var _h=_b;function makeSubEval_loop(){if(_h<_c){var _i=_e[_h];if(_h!=0&&_i.type==4){_d+=' ';_d+=_i.tok;_d+=' ';}else{var _j="";if(_i.type==0&&_i.pos==0){var _g=_i.tok;if(_g=="var"){}else{_d+=_g;}}else if(_i.type==1&&_i.pos==0){var _g=_i.tok;_d+=_g;}else{_d+=_i.tok;}}_h++ ;return false;}return true;}while(true){if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}}return _d;};_pExprParser.makeEval=function(_a,_b){var _c=this.tokenizeExpr(_b);var _d=this.makeSubEval(_a,0,this.output.length);return _d;};delete _pExprParser;nexacro.VariableList=function(){nexacro.Collection.call(this);};var _pVariableList=nexacro._createPrototype(nexacro.Collection,nexacro.VariableList);nexacro.VariableList.prototype=_pVariableList;_pVariableList._type_name="VariableList";_pVariableList._updateID=function(_a,_b){var _c=this[_a];if(_c!=_b){_c=_b;this[_a]=_c;}return this.update_id(_a,_b);};_pVariableList.deleteItem=function(_a){return this.delete_item(_a);};delete _pVariableList;nexacro.DSColumnInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=_a;this.name=_a;this.type=_b;this.ntype=_c;this.size=_d;this.prop=_e;this.sumtext=_f;this._index=_g;switch(_c){case 1:this._toText=nexacro.DataUtils.toTextFromString;this._fromText=nexacro.DataUtils.toStringFromText;this._fromVal=nexacro.DataUtils.toString;this._toXMLText=nexacro.DataUtils.toXMLTextFromString;this._fromXMLText=nexacro.DataUtils.toStringFromXMLText;break;case 2:this._toText=nexacro.DataUtils.toTextFromInt;this._fromText=nexacro.DataUtils.toIntFromText;this._fromVal=nexacro.DataUtils.toInt;this._toXMLText=nexacro.DataUtils.toTextFromInt;this._fromXMLText=nexacro.DataUtils.toIntFromText;break;case 3:this._toText=nexacro.DataUtils.toTextFromFloat;this._fromText=nexacro.DataUtils.toFloatFromText;this._fromVal=nexacro.DataUtils.toFloat;this._toXMLText=nexacro.DataUtils.toTextFromFloat;this._fromXMLText=nexacro.DataUtils.toFloatFromText;break;case 4:this._toText=nexacro.DataUtils.toTextFromDecimal;this._fromText=nexacro.DataUtils.toDecimalFromText;this._fromVal=nexacro.DataUtils.toDecimal;this._toXMLText=nexacro.DataUtils.toTextFromDecimal;this._fromXMLText=nexacro.DataUtils.toDecimalFromText;break;case 5:this._toText=nexacro.DataUtils.toTextFromDate;this._fromText=nexacro.DataUtils.toDateFromText;this._fromVal=nexacro.DataUtils.toDate;this._toXMLText=nexacro.DataUtils.toTextFromDate;this._fromXMLText=nexacro.DataUtils.toDateFromText;break;case 6:this._toText=nexacro.DataUtils.toTextFromTime;this._fromText=nexacro.DataUtils.toTimeFromText;this._fromVal=nexacro.DataUtils.toTime;this._toXMLText=nexacro.DataUtils.toTextFromTime;this._fromXMLText=nexacro.DataUtils.toTimeFromText;break;case 7:this._toText=nexacro.DataUtils.toTextFromDateTime;this._fromText=nexacro.DataUtils.toDateTimeFromText;this._fromVal=nexacro.DataUtils.toDateTime;this._toXMLText=nexacro.DataUtils.toTextFromDateTime;this._fromXMLText=nexacro.DataUtils.toDateTimeFromText;break;case 8:this._toText=nexacro.DataUtils.toTextFromBlob;this._fromText=nexacro.DataUtils.toBlobFromText;this._fromVal=nexacro.DataUtils.toBlob;this._toXMLText=nexacro.DataUtils.toTextFromBlob;this._fromXMLText=nexacro.DataUtils.toBlobFromText;break;default:this._toText=nexacro.DataUtils.toTextFromvariant;this._fromText=nexacro.DataUtils.toVariantFromText;this._fromVal=nexacro.DataUtils.toVariant;this._toXMLText=nexacro.DataUtils.toTextFromvariant;this._fromXMLText=nexacro.DataUtils.toVariantFromText;break;}};var _pDSColumnInfo=nexacro._createPrototype(nexacro.Object,nexacro.DSColumnInfo);nexacro.DSColumnInfo.prototype=_pDSColumnInfo;_pDSColumnInfo._type_name="DSColumnInfo";_pDSColumnInfo.set_size=function(_a){_a=parseInt(_a)|0;if(this.size!=_a){if(!(( +_a)!=( +_a))){this.size=_a;}}};_pDSColumnInfo.set_type=function(_a){_a=nexacro._toString(_a);if(this.type!=_a){this.type=_a;this.ntype=nexacro.DataUtils._typeint[_a.toLowerCase()];}};_pDSColumnInfo.set_prop=function(_a){_a=nexacro._toString(_a);if(this.prop!=_a){this.prop=_a;}};_pDSColumnInfo.set_sumtext=function(_a){_a=nexacro._toString(_a);if(this.sumtext!=_a){this.sumtext=_a;}};delete _pDSColumnInfo;nexacro.DSColumnInfoList=function(){nexacro.Collection.apply(this);};var _pDSColumnInfoList=nexacro._createPrototype(nexacro.Collection,nexacro.DSColumnInfoList);nexacro.DSColumnInfoList.prototype=_pDSColumnInfoList;_pDSColumnInfoList._type_name="DSColumnInfoList";_pDSColumnInfoList._updateID=function(_a,_b){var _c=this[_a];if(_c.id!=_b){_c.set_id(_b);this[_a]=_c;}return this.update_id(_a,_b);};_pDSColumnInfoList.deleteItem=function(_a){return this.delete_item(_a);};delete _pDSColumnInfoList;nexacro.DSColChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"oncolumnchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.col=_d;this.colidx=_e;this.columnid=_f;this.oldvalue=_g;this.newvalue=_h;};var _pDSColChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSColChangeEventInfo);nexacro.DSColChangeEventInfo.prototype=_pDSColChangeEventInfo;_pDSColChangeEventInfo._type_name="DSColChangeEventInfo";delete _pDSColChangeEventInfo;nexacro.DSLoadEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onload";this.fromobject=this.fromreferenceobject=_a;this.errorcode=_c;this.errormsg=_d;this.reason=_e;};var _pDSLoadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSLoadEventInfo);nexacro.DSLoadEventInfo.prototype=_pDSLoadEventInfo;_pDSLoadEventInfo._type_name="DSLoadEventInfo";delete _pDSLoadEventInfo;nexacro.DSRowPosChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowposchanged";this.fromobject=this.fromreferenceobject=_a;this.newrow=_d;this.oldrow=_c;this.reason=_e;};var _pDSRowPosChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowPosChangeEventInfo);nexacro.DSRowPosChangeEventInfo.prototype=_pDSRowPosChangeEventInfo;_pDSRowPosChangeEventInfo._type_name="DSRowPosChangeEventInfo";delete _pDSRowPosChangeEventInfo;nexacro.DSRowsetChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowsetchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.count=_d;this.reason=_e;};var _pDSRowsetChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowsetChangeEventInfo);nexacro.DSRowsetChangeEventInfo.prototype=_pDSRowsetChangeEventInfo;_pDSRowsetChangeEventInfo._type_name="DSRowsetChangeEventInfo";delete _pDSRowsetChangeEventInfo;nexacro.Dataset=function(_a,_b){this.id=this.name=_a;if(_b){this.parent=_b;}this.colinfos=new nexacro.DSColumnInfoList();this.colcount=0;this.constcount=0;this.rowcount=0;this.rowposition= -1;this.loadstatus=false;this.enableevent=true;this.updatecontrol=true;this.keystring="";this.filterstr="";this.loadkeymode="keep";this.loadfiltermode="keep";this.reversesubsum=false;this.arguments="";this.firefirstcount=0;this.firenextcount=0;this.useclientlayout=false;this._event_list={"onload":1,"cancolumnchange":1,"oncolumnchanged":1,"onvaluechanged":1,"canrowposchange":1,"onrowposchanged":1,"onrowsetchanged":1};this._constVars=new nexacro.VariableList();this._constVars2=new nexacro.VariableList();this._rawRecords=[];this._viewRecords=this._rawRecords;this._deletedRecords=[];this._onworkcompleted=new nexacro.EventListener("onworkcompleted");this._is_loaded=false;this._keycols=[];this._keycols.max_keylevel=0;this._exprFuncs={};this._defaultKeyStr="";this._defaultFilterStr="";this._eventstat=true;this._deleteRows=[];};var _pDataset=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Dataset);nexacro.Dataset.prototype=_pDataset;_pDataset._type_name="Dataset";_pDataset._isData=true;nexacro.Dataset.LOADMODE_KEEP=0;nexacro.Dataset.LOADMODE_RESET=1;nexacro.Dataset._LOADMODE_ENUM={"keep":0,"reset":1};_pDataset.on_created=function(){};_pDataset.destroy=function(){if(this.colinfos){this.colinfos.clear();delete this.colinfos;this.colinfos=null;}if(this._constVars){this._constVars.clear();delete this._constVars;this._constVars=null;}if(this._constVars2){this._constVars2.clear();delete this._constVars2;this._constVars2=null;}if(this._onworkcompleted){this._onworkcompleted._clearAll();delete this._onworkcompleted;this._onworkcompleted=null;}this._rawRecords=null;this._viewRecords=null;this._deletedRecords=null;this._keycols=null;this._deleteRows=null;this._event_list=null;this._exprFuncs=null;nexacro.EventSinkObject.prototype.destroy.call(this);};_pDataset.set_name=function(_a){this.id=this.name=_a;};_pDataset.set_enableevent=function(_a){_a=nexacro._toBoolean(_a);if(this.enableevent!=_a){this.enableevent=_a;this._eventstat=(_a&&!this.loadstatus);if(_a){this.on_fire_onrowsetchanged( -1, -1,41);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _b=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_b);}}}};_pDataset.set_updatecontrol=function(_a){this.updatecontrol=nexacro._toBoolean(_a);};_pDataset.set_rowposition=function(_a){_a=parseInt(_a,10)|0;if(isFinite(_a)){this._setRowPosition(_a,undefined,51);}return this.rowposition;};_pDataset.colinfos=null;_pDataset.set_keystring=function(_a){_a=_a?_a.toString():"";this.keystring=_a;this.on_apply_keystring();return this.keystring;};_pDataset.on_apply_keystring=function(){this.updateSortGroup(this.keystring,true);};_pDataset.set_filterstr=function(_a){var _b=_a.toString();if(_b!=this.filterstr){this.filter(_b);}return this.filterstr;};_pDataset.set_loadkeymode=function(_a){if(this.loadkeymode!=_a){this.loadkeymode=_a;}};_pDataset.set_loadfiltermode=function(_a){if(this.loadfiltermode!=_a){this.loadfiltermode=_a;}};_pDataset.set_reversesubsum=function(_a){_a=nexacro._toBoolean(_a);if(this.reversesubsum!=_a){this.reversesubsum=_a;this.on_apply_reversesubsum();}};_pDataset.on_apply_reversesubsum=function(){if(this.keystring){this.updateSortGroup(this.keystring);}};_pDataset.set_useclientlayout=function(_a){if(_a==false||_a==0||_a=="false"){this.useclientlayout=false;}else{this.useclientlayout=true;}};_pDataset.on_fire_onload=function(_a,_b,_c){var _d=this.onload;if(_d&&_d._has_handlers){var _e=new nexacro.DSLoadEventInfo(this,"onload",_a,_b,_c);_d._fireEvent(this,_e);}};_pDataset.on_fire_onrowsetchanged=function(_a,_b,_c){var _d=this.onrowsetchanged;if(_d&&_d._has_handlers){var _e=new nexacro.DSRowsetChangeEventInfo(this,"onrowsetchanged",_a,_b,_c);_d._fireEvent(this,_e);}};_pDataset.on_fire_canrowposchange=function(_a){var _b=this.canrowposchange;if(_b&&_b._has_handlers){_a.eventid="canrowposchange";var _c=_b._fireCheckEvent(this,_a);if(_c===undefined){_c=true;}_c=nexacro._toBoolean(_c);if(_c){this.rowposition=_a.newrow;}return _c;}return true;};_pDataset.on_fire_onrowposchanged=function(_a){var _b=this.onrowposchanged;if(_b&&_b._has_handlers){_a.eventid="onrowposchanged";_b._fireEvent(this,_a);}};_pDataset.on_fire_cancolumnchange=function(_a){var _b=this.cancolumnchange;if(_b&&_b._has_handlers){if(!_b._firestat){_a.eventid="cancolumnchange";_b._firestat=true;var _c=_b._fireCheckEvent(this,_a);_b._firestat=false;return (_c==undefined)?true:_c;}else if(_b._firestat){}else{return false;}}return true;};_pDataset.on_fire_oncolumnchanged=function(_a){var _b=this.oncolumnchanged;if(_b&&_b._has_handlers){if(!_b._firestat){_b._firestat=true;_a.eventid="oncolumnchanged";_b._fireEvent(this,_a);_b._firestat=false;}else{_a.eventid="oncolumnchanged";_b._fireEvent(this,_a,true);}}};_pDataset.on_fire_onvaluechanged=function(_a){var _b=this.onvaluechanged;if(_b&&_b._has_handlers){_a.eventid="onvaluechanged";_b._fireEvent(this,_a);}};_pDataset.clear=function(){var _a=this.rowposition;var _b=this.rowcount;this._clearAll();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,24);if(_a>=0&&_a==this.rowposition){this._forcesetRowPosition( -1,51);}}else{this.rowposition= -1;}return _b;};_pDataset.getColCount=function(){return this.colcount;};_pDataset.getConstCount=function(){return this._constVars.length;};_pDataset.getRowCount=function(){return this._viewRecords.length;};_pDataset.getDeletedRowCount=function(){return this._deletedRecords.length;};_pDataset.getDeletedRowset=function(){return this._deletedRecords;};_pDataset.addConstColumn=function(_a,_b){var _c=this._addConstColumn(_a,_b);if(_c>=0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}return _c;};_pDataset.addColumn=function(_a,_b,_c){var _d=this._addColumn(_a,_b,_c);if(_d>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _d;};_pDataset.addColumnInfo=function(_a,_b){var _c=this._addColumnInfo(_a,_b);if(_c>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _c;};_pDataset.appendColList=function(_a){var _b=this._appendColList(_a);if(_b>0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _b;};_pDataset.deleteColumn=function(_a){var _b=this.colinfos;var _c=_b?_b.indexOf(_a): -1;if(isNaN(_a)||_c===undefined){_c= -1;}else if(typeof (_a)=="number"){_c=_a;}var _d=_c!= -1?_b[_c]._index: -1;var _e=this._deleteColumn(_a);if(_e){if(!this.updatecontrol&&_c>=0){var _f=_b.length;var _g= -1;for(var _j=_c;_j<_f;_j++ ){_g=_b[_j]._index;_b[_j]._index=_d;_d=_g;}_f=this._rawRecords?this._rawRecords.length:0;for(var _j=0;_j<_f;_j++ ){this._rawRecords[_j].splice(_c,1);this._rawRecords._orgcolstrings[_j].splice(_c,1);}}this._clearAllExprs();var _h=this._constVars.length+this.colinfos.length;var _i=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);if(_h==0&&_i>=0){this._forcesetRowPosition( -1,51);}}else if(_h==0&&_i>=0){this.rowposition= -1;}}return _e;};_pDataset.getColID=function(_a){if(( +_a)!=( +_a)){_a=0;}if(_a>=this.colinfos.length){return this._constVars.get_id(_a-this.colinfos.length);}else{return this.colinfos.get_id(_a);}};_pDataset.getConstColID=function(_a){if(( +_a)!=( +_a)){_a=0;}return this._constVars.get_id(_a);};_pDataset.getColumnInfo=function(_a){if(typeof (_a)=="string"){if(this.colinfos.indexOf(_a)> -1){return this.colinfos[_a];}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}return (this.colinfos[_a]==undefined)?null:this.colinfos[_a];}return null;};_pDataset.updateColID=function(_a,_b){if(typeof (_a)=="string"){if(this.colinfos.indexOf(_a)> -1){_a=this.colinfos.indexOf(_a);}else if(this._constVars.indexOf(_a)> -1){return this.updateConstColID(_a,_b);}else{return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(!this.colinfos[_a]){var _c=_a-this.colinfos.length;if(this._constVars[_c]){return this.updateConstColID(_c,_b);}else{return  -1;}}}var _d=this.colinfos._updateID(_a,_b);if(_d&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);var _e=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_e);return _a;}return  -1;};_pDataset.updateConstColID=function(_a,_b){if(typeof (_a)=="string"){if(this._constVars.indexOf(_a)> -1){_a=this._constVars.indexOf(_a);}else{return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(!this._constVars[_a]){return  -1;}}var _c=this._constVars._updateID(_a,_b);if(_c&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);var _d=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_d);return _a;}return  -1;};_pDataset.addRow=function(){if(this.colinfos.length<=0){return  -1;}var _a=this.updatecontrol?2:1;var _b=this._appendRow(_a);if(_b>=0){var _c=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged(_b,1,12);}if(_c==this.rowposition){this._setRowPosition(_b,undefined,51);}}return _b;};_pDataset.insertRow=function(_a){if(_a<0){return _a;}if(isNaN(_a)){_a=0;}var _b=this.updatecontrol?2:1;var _c=this._insertRow(_a,_b);if(_c>=0&&this._eventstat){var _d=this.rowposition;this.on_fire_onrowsetchanged(_c,1,12);if(_d==this.rowposition){this._setRowPosition(_c,undefined,51,true);}}return _c;};_pDataset.deleteRow=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}var _b=this._deleteRow(_a);if(_b>=0){if(this._eventstat){var _c=this.rowposition;this.on_fire_onrowsetchanged(_b,1,20);var _d=this.rowposition;if(_c==_d){if(_d>_b){this._setRowPosition(_d-1,undefined,52);}else if(_d==_b){if(this.rowcount==0){this._forcesetRowPosition( -1,51);}else{if(_d==this.rowcount){this._forcesetRowPosition(this.rowcount-1,51);}else{this._setRowPosition(_d,undefined,53,true);}}}}}else{var _c=this.rowposition;var _d=this.rowposition;if(_d>_b){this.rowposition=_d-1;}else if(_d==_b){if(this.rowcount==0){this.rowposition= -1;}else{if(_d==this.rowcount){this.rowposition=this.rowcount-1;}}}}}return _b>=0?true:false;};_pDataset.moveRow=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return  -1;}}if(( +_b)!=( +_b)){_b=0;}else{if(_b<0){return  -1;}}var _c=this._moveRow(_a,_b);if(_c>=0&&this._eventstat){var _d=this.rowposition;var _e,_f;if(_a>_b){_e=_b;_f=(_a-_b+1);}else{_e=_a;_f=(_b-_a+1);}this.on_fire_onrowsetchanged(_e,_f,32);if(_d==this.rowposition){if(_d==_a){this._setRowPosition(_b,undefined,52);}else if(_a>_b&&_d>=_b&&_d<_a){this._setRowPosition(_d+1,undefined,52);}else if(_a<_b&&_d>_a&&_d<_b){this._setRowPosition(_d-1,undefined,52);}}}return _c;};_pDataset.exchangeRow=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}if(( +_b)!=( +_b)){_b=0;}else{if(_b<0||_b>=this.rowcount){return false;}}if(this._exchangeRow(_a,_b)&&this._eventstat){var _c=this.rowposition;this.on_fire_onrowsetchanged(_a,1,33);this.on_fire_onrowsetchanged(_b,1,33);if(_c==this.rowposition){if(_c==_a){this._setRowPosition(_b,undefined,52);}else if(_c==_b){this._setRowPosition(_a,undefined,52);}}return true;}return false;};_pDataset.deleteAll=function(){var _a=this.rowposition;var _b=this._deleteAll();if(_b>0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,22);if(_a==this.rowposition){this._forcesetRowPosition( -1,51);}}return _b;};_pDataset.clearData=function(){var _a=this.rowposition;var _b=this._clearData();if(_b>0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,23);if(_a>=0&&_a==this.rowposition){this._forcesetRowPosition( -1,51);}}else{this.rowposition= -1;}return _b;};_pDataset.deleteMultiRows=function(_a){if(typeof (_a)!="object"){return 0;}var _b=this.rowposition;var _c=this._viewRecords[_b];_a.sort(function(_g,_h){return _g-_h;});var _d=this._deleteMultiRows(_a);if(_d>0){this.rowcount-=_d;var _e= -1;if(_c!=null){_e=nexacro._indexOf(this._viewRecords,_c);}if(this._eventstat){this._deleteRows=_a;this.on_fire_onrowsetchanged( -1,_d,20);if(_b==this.rowposition){if(_b>_e){if(this.rowcount<=0){this._forcesetRowPosition( -1,51);}else if(_e== -1){if(_b<this.rowcount){this._setRowPosition(_b,undefined,53);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}else{this._forcesetRowPosition(this.rowcount-1,51);}}else{this._setRowPosition(_e,undefined,52);}}}}else{this.rowposition=_e;}}return _d;};_pDataset.filterRow=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return;}}var _b=this.rowposition;var _c=this._filterRow(_a);if(_c){if(this._eventstat){this.on_fire_onrowsetchanged(_a,1,31);if(_b==this.rowposition){if(_b>_a){this._setRowPosition(_b-1,undefined,52);}else if(_b==_a){if(this.rowcount==0){this._forcesetRowPosition( -1,51);}else{if(_b==this.rowcount){this._forcesetRowPosition(this.rowcount-1,51);}else{this._setRowPosition(_b,undefined,53);}}}}}else{if(_b>_a){this.rowposition=(_b-1);}else if(_b==_a){if(_b>this.rowcount){_b=this.rowcount-1;}this.rowposition=_b;}}}};_pDataset.getRowType=function(_a){if(( +_a)!=( +_a)){_a=0;}else{_a=( +_a)|0;if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;return _b[_a]._rtype;};_pDataset.getRowLevel=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;return _b[_a]._level;};_pDataset.getGroupRangeStart=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return  -1;}}var _b=this._viewRecords;if(_b[_a]._rtype==16){return _b[_a]._grpstart;}else{return _a;}};_pDataset.getGroupRangeCount=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;if(_b[_a]._rtype==16){return _b[_a]._grpend-_b[_a]._grpstart;}else{return 1;}};_pDataset.setRowType=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}var _c=this._viewRecords;if(_b==null||this.updatecontrol==true){return false;}var _d= -1;switch(_b){case 0:case 1:case 2:case 4:case 8:case 16:_d=_b;break;default:switch(_b.toString().toUpperCase()){case 'E':_d=0;break;case 'I':_d=2;break;case 'U':_d=4;break;case 'D':_d=8;break;case 'G':_d=16;break;default:_d=1;break;}}if(_d== -1){return false;}if(_c[_a]._rtype!=_d){if(_c[_a]._rtype==4){if(_c[_a]._orgrow){delete _c[_a]["_orgrow"];}}if(_d==4){var _e=[];var _f=_c[_a].length;for(var _g=0;_g<_f;_g++ ){_e[_g]=_c[_a][_g];}_c[_a]._orgrow=_e;}}_c[_a]._rtype=_d;if(this.enableevent){this.on_fire_onrowsetchanged(_a,1,40);}return true;};_pDataset.getConstColumn=function(_a){if(typeof (_a)=="string"){if(this._constVars.indexOf(_a)> -1){return this._constVars.get_item(_a);}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}return this._constVars.get_item(_a);}};_pDataset.getColumn=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}var _c=_a;var _d;if(typeof (_b)!="string"){if(( +_b)!=( +_b)||_b==undefined){_b=0;}_d=this.colinfos[_b];if(_d==null){if(typeof (_b)=="number"){_b-=this.colinfos.length;}return this._constVars[_b];}}else{if(this.colinfos.indexOf(_b)> -1){_d=this.colinfos[_b];}else if(this._constVars.indexOf(_b)> -1){return this._constVars[_b];}else{return;}}var _e=this._viewRecords[_c];if(_e==null){return undefined;}var _f=_e[_d._index];if((_d.type=="datetime"||_d.type=="DATETIME")&&_f){return _f;}return _e[_d._index];};_pDataset.getColumnSet=function(_a,_b,_c){return null;};_pDataset.getOrgColumn=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){}else if(this._constVars.indexOf(_b)> -1){return this._constVars[_b];}else{return;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}}var _c=this.colinfos[_b];if(_c==undefined){return;}var _d=this._viewRecords[_a];if(_d==null){return undefined;}return _d._orgrow?_d._orgrow[_c._index]:_d[_c._index];};_pDataset.getDeletedColumn=function(_a,_b){_a=parseInt(_a,10)|0;if(( +_a)!=( +_a)){_a=0;}if(_a<0||_a>=this._deletedRecords.length){return undefined;}_a+=1;var _c;var _d=this._rawRecords.length;var _e;for(_c=0;_c<_d&&_a>0;_c++ ){if(this._rawRecords[_c]._rtype==8){_e=this._rawRecords[_c];_a-- ;}}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){_b=this.colinfos.indexOf(_b);}else{return;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}}if(_e==null){return undefined;}return _e[_b];};_pDataset.setConstColumn=function(_a,_b){var _c=this._constVars;var _d;var _e=_c.indexOf(_a);if(typeof (_a)=="string"){if(_e<0||_e==undefined){return false;}else{_d=_e;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a<0||_a>=_c.length){return false;}else{_d=_a;}}if(this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _f=_c[_d];if(_b==_f){return false;}var _g=_c.get_id(_d);var _h=new nexacro.DSColChangeEventInfo(this,"cancolumnchange", -1,_d+this.colinfos.length, -1,_g,_f,_b);if(this.on_fire_cancolumnchange(_h)){_b=_h.newvalue;if(_b!=_f){_c.set_item(_d,_b);this.on_fire_oncolumnchanged(_h);this.on_fire_onvaluechanged(_h);return true;}}return false;}else{_c.set_item(_d,_b);return true;}};_pDataset.setColumn=function(_a,_b,_c){return this._setColumn(_a,_b,_c,null);};_pDataset._setColumn=function(_a,_b,_c,_d){var _e=_a;if(( +_e)!=( +_e)){_e=0;}else{if(_e<0||_e>=this.rowcount){return false;}}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){_b=this.colinfos.indexOf(_b);}else if(this._constVars.indexOf(_b)> -1){return this.setConstColumn(_b,_c);}else{return false;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}if(!this.colinfos[_b]){var _f=_b-this.colinfos.length;if(this._constVars[_f]){return this.setConstColumn(_f,_c);}else{return false;}}}var _g=this.colinfos[_b];_g._index=_b;var _h=this._viewRecords[_e];if(_h!=null){if(this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _i=_h[_g._index];var _j=_g._fromVal(_c);var _k=this._getColumnType(_b);if(_i===_j){return false;}if(_k>=4&&_k<=7){if(_k==4){if(_j&&_i&&_i.hi==_j.hi&&_i.lo==_j.lo){return false;}}else{if(_j&&_i&&_i.getTime()==_j.getTime()){return false;}}}var _l=new nexacro.DSColChangeEventInfo(this,"cancolumnchange",_e,_g._index, -1,_g.id,_i,_j);if(this.on_fire_cancolumnchange(_l)){_j=_g._fromVal(_l.newvalue);if(_l.newvalue!=_j&&!_j){return false;}if(this._updateColumn(_e,_h,_g._index,_j)){_l.newvalue=_j;this.on_fire_oncolumnchanged(_l);this.on_fire_onvaluechanged(_l);return true;}}else{if(_d){_d.status="cancolumnchange";}}}else{var _m=true;_j=_g._fromVal(_c);if(_c!=_j&&!_j){return false;}this._updateColumn(_e,_h,_g._index,_j);return _m;}}return false;};_pDataset.copyRow=function(_a,_b,_c,_d){if(_b==null){return false;}if(( +_a)!=( +_a)){_a=0;}if(( +_c)!=( +_c)){_c=0;}if(_a<0||_a>=this.rowcount){return false;}if(_b._type_name!="Dataset"){return false;}if(_c<0||_c>=_b.rowcount){return false;}var _e=_b.colinfos;var _f=this.colinfos;var _g=this._viewRecords[_a];if(_d!=null&&_d.length>0){var _h=_d==""?_f:_d.split(',');var _i=_h.length;var _j=0;function copyRow_loop(_m){if(_j<_i){var _n=_h[_j].split('=');var _o=_n.length;for(var _u=0;_u<_o;_u++ ){_n[_u]=_n[_u].trim();}var _p,_q;if(_o==2){_p=_n[1];_q=_n[0];var _r=_e.indexOf(_p);var _s=_f.indexOf(_q);if(_r>=0&&_s>=0){var _t=_f[_s]._fromVal(_b.getColumn(_c,_r));_m._updateColumn(_a,_g,_s,_t);}}_j++ ;return false;}return true;}while(true){if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}}}else{var _k=_b._viewRecords[_c];var _i=_e.length;var _j=0;function copyRow_loop2(_m){if(_j<_i){var _n=_e[_j];var _o=_f.indexOf(_n.id);if(_o!=null){var _p=_f[_o]._fromVal(_k[_n._index]);_m._updateColumn(_a,_g,_o,_p);}_j++ ;return false;}return true;}while(true){if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}}}if(this._eventstat&&((this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _l=new nexacro.DSColChangeEventInfo(this,"oncolumnchanged",_a, -1, -1,"",undefined,"");this.on_fire_oncolumnchanged(_l);this.on_fire_onvaluechanged(_l);}return true;};_pDataset.filter=function(_a){if(_a!=null){var _b=_a.toString();this.filterstr=_b;this._filterFn=null;if(!this.loadstatus&&this._rawRecords.length>0){var _c=this._viewRecords;var _d=this.rowposition;var _e=_c[_d];this._reFilter();this._resetSortGroup();var _f=nexacro._indexOf(this._viewRecords,_e);if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,31);if(_d==this.rowposition){if(this.rowcount){if(_d>=0&&_d!=_f){this._setRowPosition(_f,undefined,52);}else{this._forcesetRowPosition(_f,51);}}else{this._forcesetRowPosition( -1,51);}}}else{this.rowposition=_f;}}else if(!this.loadstatus){this._defaultFilterStr=_b;}return true;}return false;};_pDataset.updateSortGroup=function(_a,_b){var _c=true;if(arguments.length<2){if(_a){_a=_a.toString();this.keystring=_a;}else{if(!this.keystring){_c=false;}}}else{if(!_b){_c=false;}}if(_c){var _d=false;if(this.keystring==""||this.keystring=="S:"||this.keystring=="G:"){_d=true;}if(this.keystring&&!_d){var _e=this._viewRecords;var _f=this.rowposition;var _g=_e[_f];this._clearKeyCols();if(!this.loadstatus&&this._rawRecords.length>0){this._resetSortGroup();}}else{this._deleteAllGroupData();var _e=this._viewRecords;var _f=this.rowposition;var _g=_e[_f];this._clearKeyCols();if(!this.loadstatus&&this._rawRecords.length>0){this._viewRecords=this._rawRecords;this._reFilter();}}var _h=nexacro._indexOf(this._viewRecords,_g);if(this.enableevent){this.on_fire_onrowsetchanged( -1, -1,30);if(_f==this.rowposition){if(_f>=0&&_f!=_h){this._setRowPosition(_h,undefined,52);}}}else{this.rowposition=_h;}}return _c;};_pDataset.copyData=function(_a,_b){if(!_a||_a._type_name!="Dataset"){return  -1;}_b=nexacro._toBoolean(_b);var _c=this.rowposition;var _d=(this.filterstr!=null&&this.filterstr!="")?true:false;var _e=(this.keystring==""||this.keystring=="S:"||this.keystring=="G:")?true:false;this._clearAll();var _f=this;var _g=false;while(_f&&!_f._is_frame){_f=_f.parent;}if(_f){_g=nexacro._isPopupFrame(_f.id);}if(_g){var _h=_a._saveSSV("","",_b);var _i=String.fromCharCode(30);if(_h){var _j=_h.split(_i);if(_j.length){var _k=0;var _l=true;if(_j){this._bWorkingstatus=true;while(_j[_k].substring(0,7)!="Dataset"){_k++ ;}if(_k<_j.length){_k++ ;var _m=this._getColLinesFromSSVLines(_j,_k);_k+=_m.length;if(_l&&this.firefirstcount>0){_k=this._loadFromSSVArray(_m,_j,_k,this.firefirstcount,false,_l);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_k=this._loadFromSSVArray(_m,_j,_k, -1,false,false);}}else{_k=this._loadFromSSVArray(_m,_j,_k, -1,false,_l);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_l?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;}}}}else{this._copyData(_a,_b);}var _n=!this.loadstatus&&this._rawRecords.length>0;var _o=!this.loadstatus&&this._rawRecords.length>0;this._eventstat=!this.loadstatus&&this.enableevent;if(_d){var _p=this.filterstr.toString();this.filterstr=_p;this._filterFn=null;}if(_e){this._deleteAllGroupData();this._clearKeyCols();if(_o&&_n){this._viewRecords=this._rawRecords;}}if(_o&&_n){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onrowsetchanged( -1,this.rowcount,11);}if(_c==this.rowposition){if(this.rowcount>0){if(_c!=0){this._setRowPosition(0,undefined,51);}else if(this.id!=_a.id){this.rowposition= -1;this._setRowPosition(_c,undefined,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _q=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_q);}}}else if(_c> -1){this._forcesetRowPosition( -1,51);}}this.loadstatus=false;this._eventstat=this.enableevent;return this.rowcount;};_pDataset.mergeData=function(_a){if(!_a||_a._type_name!="Dataset"){return  -1;}var _b=0;if(_a._rawRecords.length>0){var _c=this.loadstatus;this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;_b=this._mergeData(_a);this.loadstatus=_c;this._eventstat=!this.loadstatus&&this.enableevent;var _d=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged( -1,_b,13);}if(_d==this.rowposition&&_d== -1&&_b>0){this._setRowPosition(0,undefined,51);}this.loadstatus=false;this._eventstat=this.enableevent;}return this.rowcount;};_pDataset.appendData=function(_a,_b,_c){if(!_a||_a._type_name!="Dataset"){return  -1;}if(_a._viewRecords.length>0){var _d=this.loadstatus;this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;this._appendData(_a,_b,_c);this.loadstatus=_d;this._eventstat=!this.loadstatus&&this.enableevent;var _e=this.rowposition;if(this._eventstat){if(this.keystring&&this._keycols.length>0){this._resetSortGroup();}this.on_fire_onrowsetchanged( -1,this.rowcount,12);}if(_e==this.rowposition&&_e== -1&&this.rowcount>0){this._setRowPosition(0,undefined,51);}this.loadstatus=false;this._eventstat=this.enableevent;return this.rowcount;}return 0;};_pDataset.loadFromDOM=function(_a,_b){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);if(_a!=null){this._bWorkingstatus=true;var _c;if(_a.nodeName=="Dataset"){_c=_a;}else{var _d=_a.getElementsByTagName("Dataset");_c=_d[0];}var _e=0;if(_b&&this.firefirstcount>0){_e=this._loadFromDOM(_c,_e,this.firefirstcount,this.useclientlayout,_b);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_e=this._loadFromDOM(_c,_e, -1,this.useclientlayout,false);}}else{_e=this._loadFromDOM(_c,_e, -1,this.useclientlayout,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;return this.rowcount;}};_pDataset.loadFromXMLStr=function(_a,_b){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);this._bWorkingstatus=true;if(_a){this._bWorkingstatus=true;if(_b&&this.firefirstcount>0){var _c=this._loadFromXMLStr(_a,0,this.firefirstcount,this.useclientlayout,_b);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromXMLStr(_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromXMLStr(_a,0, -1,this.useclientlayout,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;return this.rowcount;}};_pDataset.loadXML=function(_a,_b){return this.loadFromXMLStr(_a,_b);};_pDataset.loadFromPPXArray=function(_a,_b,_c,_d){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].charAt(0)!="D"){_c++ ;}if(_c<_b){_c++ ;var _e=this._getColLinesFromPPXLines(_a,_c);_c+=_e.length;if(_d&&this.firefirstcount>0){_c=this._loadFromPPXArray(_e,_a,_c,this.firefirstcount,this.useclientlayout,_d);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromPPXArray(_e,_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromPPXArray(_e,_a,_c, -1,this.useclientlayout,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset._saveXML=function(_a,_b,_c,_d){if(!_c){_c=0;}var _e=(_a?_a:this.id);var _f="N";switch(_b){case "A":case "a":case "all":case "All":_f="A";break;case "U":case "u":case "update":case "Update":_f="U";break;case "N":case "n":case "normal":case "Normal":_f="N";break;case "V":case "v":case "view":case "View":_f="V";break;}var _g;var _h;var _i=[];this.__writeXMLData(_i,"<Dataset id=\""+_e+"\">",_c++ );if(this._constVars.length+this.colinfos.length){this.__writeXMLData(_i,"<ColumnInfo>",_c++ );_h=this._constVars.length;_g=0;function saveXML_constcol_loop(_n){if(_g<_h){var _o=_n._constVars.get_id(_g);var _p=_n._constVars[_g];var _q=_n._constVars2[_g];if(_p){_n.__writeXMLData(_i,"<ConstColumn id=\""+_o+"\""+(_q?_q:"")+" value=\""+_p+"\" />",_c);}else{_n.__writeXMLData(_i,"<ConstColumn id=\""+_o+"\""+(_q?_q:"")+" />",_c);}_g++ ;return false;}return true;}while(true){if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}}_h=this.colinfos.length;_g=0;function saveXML_colinfo_loop(_n){if(_g<_h){var _o=_n.colinfos[_g];var _p=_o.id;var _q=_o.type?_o.type:nexacro.DataUtils.toTypeName(_o.ntype);var _r=_o.size;var _s=_o.prop;if(_s=="NONE"||_s==null||(typeof _s)=="number"||_s==""){_n.__writeXMLData(_i,"<Column id=\""+_p+"\" type=\""+_q+"\" size=\""+_r+"\"  />",_c);}else{_n.__writeXMLData(_i,"<Column id=\""+_p+"\" type=\""+_q+"\" size=\""+_r+"\" prop=\""+_s.toLowerCase()+"\" />",_c);}_g++ ;return false;}return true;}while(true){if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}}this.__writeXMLData(_i,"</ColumnInfo>", --_c);}else{this.__writeXMLData(_i,"<ColumnInfo />",_c);}_h=0;var _j=this._rawRecords;if(_j){_h=_j.length;}var _k=this._viewRecords;var _l=_k?_k.length:0;if(_h){this.__writeXMLData(_i,"<Rows>",_c++ );var _m;if(_f=="A"){_g=0;function saveXML_row_loop1(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==1||_m._rtype==2||_m._rtype==4||_m._rtype==8){_n.__writeXMLCrudRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}}}else if(_f=="U"){_g=0;function saveXML_row_loop2(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==2||_m._rtype==4||_m._rtype==8){_n.__writeXMLCrudRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}}}else if(_f=="V"){_g=0;function saveXML_row_loop4(_n){if(_g<_l){_m=_k[_g];_n.__writeXMLNormalRow(_i,_m,_c,_d);_g++ ;return false;}return true;}while(true){if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}}}else{_g=0;function saveXML_row_loop3(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==1||_m._rtype==2||_m._rtype==4){_n.__writeXMLNormalRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}}}this.__writeXMLData(_i,"</Rows>", --_c);}else{this.__writeXMLData(_i,"<Rows>",_c);this.__writeXMLData(_i,"</Rows>",_c);}this.__writeXMLData(_i,"</Dataset>", --_c);return _i.join("\n");};_pDataset.saveXML=function(_a,_b,_c){return this._saveXML(_a,_b,_c,true);};_pDataset.loadFromSSVArray=function(_a,_b,_c,_d,_e){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].substring(0,7)!="Dataset"){_c++ ;}if(_c<_b){_c++ ;var _f=this._getColLinesFromSSVLines(_a,_c);_c+=_f.length;if(_d&&this.firefirstcount>0){_c=this._loadFromSSVArray(_f,_a,_c,this.firefirstcount,this.useclientlayout,_d,_e);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromSSVArray(_f,_a,_c, -1,this.useclientlayout,false,_e);}}else{_c=this._loadFromSSVArray(_f,_a,_c, -1,this.useclientlayout,_d,_e);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset._loadSSV=function(_a,_b){var _c=String.fromCharCode(30);if(_a){var _d=_a.split(_c);if(_d.length){this.loadFromSSVArray(_d,_d.length,0,_b);}}return this.rowcount;};_pDataset.loadSSV=function(_a,_b){return this._loadSSV(_a,_b);};_pDataset._saveSSV=function(_a,_b,_c){var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=this.id;if(_a&&_a.length>0){_f=_a;}var _g="N";switch(_b){case "A":case "a":case "all":case "All":_g="A";break;case "U":case "u":case "update":case "Update":_g="U";break;}var _h;var _i;var _j=[];this.__writeData(_j,"Dataset:"+_f+_d);_i=this._constVars.length;if(_i>0){_h=0;this.__writeData(_j,"_Const_"+_e);function saveSSV_constcol_loop(_m){if(_h<_i){var _n=_m._constVars.get_id(_h);var _o=_m._constVars[_h];if(_o){if(_h==(_i-1)){_m.__writeData(_j,_e+_n+"="+_o+_d);}else{_m.__writeData(_j,_e+_n+"="+_o+_e);}}else{if(_h==(_i-1)){_m.__writeData(_j,_e+_n+"="+_d);}else{_m.__writeData(_j,_e+_n+"="+_e);}}_h++ ;return false;}return true;}while(true){if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}}}_i=this.colinfos.length;if(_i>0){this.__writeData(_j,"_RowType_"+_e);_h=0;function saveSSV_colinfo_loop(_m){if(_h<_i){var _n=_m.colinfos[_h];var _o=_n.id;var _p=_n.type?_n.type:nexacro.DataUtils.toTypeName(_n.ntype);var _q=_n.size;if(_q){if(_h==(_i-1)){_m.__writeData(_j,_o+":"+_p+"("+_q+")"+_d);}else{_m.__writeData(_j,_o+":"+_p+"("+_q+")"+_e);}}else{if(_h==(_i-1)){_m.__writeData(_j,_o+":"+_p+_d);}else{_m.__writeData(_j,_o+":"+_p+_e);}}_h++ ;return false;}return true;}while(true){if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}}}else{this.__writeData(_j,"_RowType_"+_d);}_i=0;var _k=_c?this._viewRecords:this._rawRecords;if(_k){_i=_k.length;}if(_i){var _l;if(_g=="A"){_h=0;function saveSSV_row_loop1(_m){if(_h<_i){_l=_k[_h];if(_l._rtype==1||_l._rtype==2||_l._rtype==4||_l._rtype==8){_m.__writeSSVCrudRow(_j,_l);}_h++ ;return false;}return true;}while(true){if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}}}else if(_g=="U"){_h=0;function saveSSV_row_loop2(_m){if(_h<_i){_l=_k[_h];if(_l._rtype==2||_l._rtype==4||_l._rtype==8){_m.__writeSSVCrudRow(_j,_l);}_h++ ;return false;}return true;}while(true){if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}}}else{_h=0;function saveSSV_row_loop3(_m){if(_h<_i){_l=_k[_h];if(_l._rtype==1||_l._rtype==2||_l._rtype==4){_m.__writeSSVNormalRow(_j,_l);}_h++ ;return false;}return true;}while(true){if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}}}}_j.push(_d);return _j.join("");};_pDataset.saveSSV=function(_a,_b){return this._saveSSV(_a,_b);};_pDataset.loadFromCSVArray=function(_a,_b,_c,_d){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].substring(0,7)!="Dataset"){_c++ ;}if(_c<_b){_c++ ;var _e=_a[_c++ ];if(_d&&this.firefirstcount>0){_c=this._loadFromCSVArray(_e,_a,_c,this.firefirstcount,this.useclientlayout,_d);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromCSVArray(_e,_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromCSVArray(_e,_a,_c, -1,this.useclientlayout,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset.loadCSV=function(_a,_b){if(_a){var _c=_a.split(/\r\n|\n/);if(_c.length){this.loadFromCSVArray(_c,_c.length,0,_b);}}return this.rowcount;};_pDataset._saveCSV=function(_a,_b){var _c=this.id;if(_a&&_a.length>0){_c=_a;}if(_b){var _d="N";switch(_b){case "A":case "a":case "all":case "All":var _d="A";break;case "U":case "u":case "update":case "Update":var _d="U";break;}}var _e;var _f;var _g=[];this.__writeData(_g,"Dataset:"+_c+"\r\n");_f=this.colinfos.length;if(_f>0){_e=0;function saveCSV_colinfo_loop(_j){if(_e<_f){var _k=_j.colinfos[_e];var _l=_k.id;var _m=_k.type?_k.type:nexacro.DataUtils.toTypeName(_k.ntype);var _n=_k.size;if(_n){if(_e==(_f-1)){_j.__writeData(_g,_l+":"+_m+"("+_n+")\r\n");}else{_j.__writeData(_g,_l+":"+_m+"("+_n+"),");}}else{if(_e==(_f-1)){_j.__writeData(_g,_l+":"+_m+"\r\n");}else{_j.__writeData(_g,_l+":"+_m+",");}}_e++ ;return false;}return true;}while(true){if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}if(saveCSV_colinfo_loop(this)){break;}}}else{this.__writeData(_g,"\r\n");}_f=0;var _h=this._rawRecords;if(_h){_f=_h.length;}if(_f){var _i;if(_d=="A"){_e=0;function saveCSV_row_loop_all(_j){if(_e<_f){_i=_h[_e];if(_i._rtype==1||_i._rtype==2||_i._rtype==4||_i._rtype==8){_j.__writeCSVCrudRow(_g,_i);}_e++ ;return false;}return true;}while(true){if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}if(saveCSV_row_loop_all(this)){break;}}}else if(_d=="U"){_e=0;function saveCSV_row_loop_update(_j){if(_e<_f){_i=_h[_e];if(_i._rtype==2||_i._rtype==4||_i._rtype==8){_j.__writeCSVCrudRow(_g,_i);}_e++ ;return false;}return true;}while(true){if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}if(saveCSV_row_loop_update(this)){break;}}}else{_e=0;function saveCSV_row_loop(_j){if(_e<_f){_i=_h[_e];if(_i._rtype==1||_i._rtype==2||_i._rtype==4){_j.__writeCSVRowData(_g,_i,_d);}_e++ ;return false;}return true;}while(true){if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}}}}_g.push("\r\n");return _g.join("");};_pDataset.saveCSV=function(_a){return this._saveCSV(_a);};_pDataset.loadBIN=function(_a){if(_a){var _b=nexacro._convertDatasetBINToSSV(_a);if(_b){return this.loadSSV(_b);}}return this.rowcount;};_pDataset.saveBIN=function(_a,_b){var _c=this.saveSSV(_a,_b);if(_c){return nexacro._convertDatasetSSVToBIN(_c);}return _c;};_pDataset.applyChange=function(){var _a=this._rawRecords;var _b=_a.length;var _c=_b-1;function applyChange_loop(){if(_c>=0){var _d=_a[_c];if(_d._rtype==0||_d._rtype==8){_a.splice(_c,1);}else{_d._rtype=1;if(_d._orgrow){delete _d["_orgrow"];}}_c-- ;return false;}return true;}while(true){if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}}this._deletedRecords=[];if(this.enableevent){this.on_fire_onrowsetchanged( -1,_b,40);}};_pDataset.reset=function(){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;var _a=this.rowposition;var _b=this._rawRecords;var _c=_b.length;var _d=_c-1;function reset_loop(){if(_d>=0){var _e=_b[_d];if(_e._rtype==0||_e._rtype==2){_b.splice(_d,1);}else if(_e._rtype==4){_e._rtype=1;if(_e._orgrow){var _f=_e.length;for(var _g=0;_g<_f;_g++ ){_e[_g]=_e._orgrow[_g];}delete _e["_orgrow"];}}else if(_e._rtype==8){_e._rtype=1;}_d-- ;return false;}return true;}while(true){if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}}if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=this._rawRecords;this._reFilter();this._deletedRecords.splice(0,this._deletedRecords.length);this.loadstatus=false;this._eventstat=this.enableevent;this.rowcount=this._viewRecords.length;if(this._eventstat){this._bWorkingstatus=true;this.on_fire_onload(0,"",2);if(this.rowposition>=this.rowcount&&this.rowcount>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(this.rowposition,51);}this._bWorkingstatus=false;}};_pDataset.assign=function(_a){if(!_a||_a._type_name!="Dataset"){return  -1;}this._eventstat=this.enableevent;var _b=this.rowposition;this._clearAll();this._assign(_a);if(this.filterstr){this.filter(this.filterstr);}if(this.keystring){this.on_apply_keystring();}if(this._eventstat){this.on_fire_onrowsetchanged( -1,this.rowcount,10);}if(_b==this.rowposition){if(this.rowcount>0){if(_b!=0){this._setRowPosition(0,undefined,51);}else if(this.id!=_a.id){this.rowposition= -1;this._setRowPosition(_b,undefined,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _c=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_c);}}}else if(_b> -1){this._forcesetRowPosition( -1,51);}}return this.rowcount;};_pDataset.identifyExpr=function(_a){if(typeof (_a)!="string"){return _a;}_a=_a+"";var _b=_a.substr(0,4).toUpperCase();if(_b=="EXPR"||_b=="BIND"){var _c=_a.substr(4).trim();if(/^expr(\s*):|^bind(\s*):/.test(_a)){_a=_c.substr(1);}else{_a=_c.substring(1,_c.length-1);}var _d=new nexacro.ExprParser();var _e=_d.makeExpr(this,_a);var _f=nexacro._createInlineFunc(_e,["currow","rowidx","comp","dataset"]);if(_f){_a=_f.call(null,this.rowposition,this.rowposition,this,this);}}return _a;};_pDataset.lookup=function(_a,_b,_c){var _d=this._viewRecords;var _e=0;var _f=_d.length;_a=this.identifyExpr(_a);var _g=this.findRow(_a,_b,_e,_f);return (_g== -1)?undefined:this.getColumn(_g,_c);};_pDataset._lookupRaw=function(_a,_b,_c){var _d=this._viewRecords;this._viewRecords=this._rawRecords;this._checkRowData=this._checkRawRowData;var _e=0;var _f=this._viewRecords.length;_a=this.identifyExpr(_a);var _g=this.findRow(_a,_b,_e,_f);var _h=(_g== -1)?undefined:this.getColumn(_g,_c);this._checkRowData=this._checkViewRowData;this._viewRecords=_d;return _h;};_pDataset.lookupAs=function(_a,_b,_c){var _d=this._viewRecords.slice(0,this._viewRecords.length);var _e=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);var _f=0;var _g=_e.length;_a=this.identifyExpr(_a);var _h=this.findRowAs(_a,_b,_f,_g);var _i=(_h== -1)?undefined:this.getColumn(_h,_c);this._viewRecords=_d.slice(0,this._rawRecords.length);return _i;};_pDataset.findRow=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f;var _g= -1;var _h= -1;if(typeof (_a)=="string"){_h=this.colinfos.indexOf(_a);if(_h==undefined){_g=this._constVars.indexOf(_a);}if(!(( +_a)!=( +_a))){return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a> -1&&_a<this.colcount){var _i=this.colinfos.length;if(_a<_i){_h=_a;}else{_g=_a-_i;}}else{return  -1;}}if(_h>=0){return this._findRow(_h,_b,_c,_d);}if(_g>=0){_f=this._constVars[_g];if(_f==_b&&_d>0){return _c;}else{return  -1;}}var _j=this._exprFuncs[_a];if(_j==null){_j=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _j!="function"){return  -1;}var _k=_c;function findRow_loop(_l){if(_k<_d){var _m=_e[_k];if(_l._checkRowData(_m)){_f=_j.call(this,_k,_k,null,_l);if(_f==_b){return true;}}_k++ ;return false;}return true;}while(true){if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}}return (_k<_d)?_k: -1;};_pDataset.findRowExpr=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=this._exprFuncs[_a];if(_e==null){_e=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _e!="function"){return  -1;}var _f=_b;function findRowExpr_loop(_g){if(_f<_c){var _h=_d[_f];if(_g._checkRowData(_h)){var _i=_e.call(_g,_f,_f,null,_g);if(_i){return true;}}_f++ ;return false;}return true;}while(true){if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}}return (_f<_c)?_f: -1;};_pDataset.findRowAs=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f;var _g= -1;var _h= -1;if(typeof (_a)=="string"){_h=this.colinfos.indexOf(_a);if(_h==undefined||_h<0){_g=this._constVars.indexOf(_a);}if(!(( +_a)!=( +_a))){return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a> -1&&_a<this.colcount){var _i=this.colinfos.length;if(_a<_i){_h=_a;}else{_g=_a-_i;}}else{return  -1;}}if(_h>=0){return this._findRowAs(_h,_b,_c,_d);}if(_g>=0){_f=this._constVars[_g];if(this._isLike(_f,_b)&&_d>0){return 0;}else{return  -1;}}var _j=this._exprFuncs[_a];if(_j==null){_j=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _j!="function"){return  -1;}var _k=_c;function findRowAs_loop(_l){if(_k<_d){var _m=_e[_k];if(_l._checkRowData(_m)){_f=_j.call(_l,_k,_k,null,_l);if(_l._isLike(_f,_b)){return true;}}_k++ ;return false;}return true;}while(true){if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}}return (_k<_d)?_k: -1;};_pDataset.getSum=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e*this._getCount(_b,_c, -1);}var _f=this._constVars.indexOf(_a);if(_f>=0){_e=this._constVars[_f];if((typeof _e)=="number"){return _e*this._getCount(_b,_c, -1);}else if(_e instanceof nexacro.Decimal){var _g=new nexacro.Decimal(this._getCount(_b,_c, -1));_g.mulDecimal(_e);return _g.isNaN()?0:_g;}else{return 0;}}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getSum(_f,_b,_c, -1,this._getColumnType(_f));}var _h=this._exprFuncs[_a];if(_h==null){_h=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _h!="function"){return 0;}var _g=0;var _i;var _j=_b;function getSum_loop(_k){if(_j<_c){if(_k._checkRowData(_d[_j])){_i=_h.call(_k,_j,_j,null,_k);if((_g instanceof nexacro.Decimal)==false){if((_i instanceof nexacro.Decimal)==false){_g+=( +_i);}else{_g=new nexacro.Decimal(_g);_g.addDecimal(_i);}}else{if((_i instanceof nexacro.Decimal)==false){_g.addDouble(_i);}else{_g.addDecimal(_i);}}}_j++ ;return false;}return true;}while(true){if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}}if(_g instanceof nexacro.Decimal){return _g.isNaN()?0:_g;}return ( +_g)!=( +_g)?0:_g;};_pDataset.getMin=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._constVars[_f];}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getMin(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=undefined;var _i=_b;function getMin_loop(_j){if(_i<_c){if(_j._checkRowData(_d[_i])){_e=_g.call(_j,_i,_i,null,_j);if(_h==null){_h=_e;}else if((_e instanceof nexacro.Decimal)==false){if(_e!=null&&_e<_h){_h=_e;}}else if(_e!=null){var _k=new nexacro.Decimal(_h);if((_e.hi<_k.hi)||(_e.hi==_k.hi&&_e.lo<_k.lo)){_h=_e;}}}_i++ ;return false;}return true;}while(true){if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset.getMax=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._constVars[_f];}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getMax(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=undefined;var _i=_b;function getMax_loop(_j){if(_i<_c){if(_j._checkRowData(_d[_i])){_e=_g.call(_j,_i,_i,null,_j);if(_h==null){_h=_e;}else if((_e instanceof nexacro.Decimal)==false){if(_e!=null&&_e>_h){_h=_e;}}else if(_e!=null){var _k=new nexacro.Decimal(_h);if((_e.hi>_k.hi)||(_e.hi==_k.hi&&_e.lo>_k.lo)){_h=_e;}}}_i++ ;return false;}return true;}while(true){if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset.getAvg=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){_e=this._constVars[_f];if(((typeof _e)=="number")||(_e instanceof nexacro.Decimal)){return _e;}else{return Infinity;}}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getAvg(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return Infinity;}var _h=0;var _i=0;var _j=_b;function getAvg_loop(_k){if(_j<_c){if(_k._checkRowData(_d[_j])){_e=_g.call(_k,_j,_j,null,_k);if(_e!=null){_h++ ;if((_i instanceof nexacro.Decimal)==false){if((_e instanceof nexacro.Decimal)==false){_i+=( +_e);}else{_i=new nexacro.Decimal(_i);_i.addDecimal(_e);}}else{if((_e instanceof nexacro.Decimal)==false){_i.addDouble(_e);}else{_i.addDecimal(_e);}}}}_j++ ;return false;}return true;}while(true){if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}}if(_h==0){return Infinity;}if(_i instanceof nexacro.Decimal){_i.divDouble(_h);}else{_i=_i/_h;}return _i;};_pDataset.getCaseCount=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}if(!_c||_c<0||_c>_d.length){_c=_d.length;}var _e=parseFloat(_a);if(isFinite(_e)){return this._getCount(_b,_c, -1);}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._getCount(_b,_c, -1);}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getCount(_b,_c, -1);}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return 0;}var _h=0;var _i=null;for(var _j=_b;_j<_c;_j++ ){if(this._checkRowData(_d[_j])){_i=_g.call(this,_j,_j,null,this);if(_i===true){_h++ ;}}}return _h;};_pDataset.getCaseSum=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f*this.getCaseCount(_a,_c,_d);}var _g=this._constVars.indexOf(_b);if(_g>=0){_f=this._constVars[_g];if((typeof _f)=="number"){return _f*this.getCaseCount(_a,_c,_d);}else if(_f instanceof nexacro.Decimal){var _h=new nexacro.Decimal(this.getCaseCount(_a,_c,_d));_h.mulDecimal(_f);return _h.isNaN()?0:_h;}else{return 0;}}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseSum(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _i=this._exprFuncs[_b];if(_i==null){_i=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _i!="function"){return 0;}var _j=this._exprFuncs[_a];if(_j==null){_j=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _j!="function"){return 0;}var _h=0;var _k;var _l=null;var _m=_c;function getCaseSum_loop(_n){if(_m<_d){if(_n._checkRowData(_e[_m])){_l=_j.call(_n,_m,_m,null,_n);if(_l===true){_k=_i.call(_n,_m,_m,null,_n);if((_h instanceof nexacro.Decimal)==false){if((_k instanceof nexacro.Decimal)==false){_h+=( +_k);}else{_h=new nexacro.Decimal(_h);_h.addDecimal(_k);}}else{if((_k instanceof nexacro.Decimal)==false){_h.addDouble(_k);}else{_h.addDecimal(_k);}}}}_m++ ;return false;}return true;}while(true){if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?0:_h;}return ( +_h)!=( +_h)?0:_h;};_pDataset.getCaseMin=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){return this._constVars[_g];}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseMin(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return undefined;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return undefined;}var _j=undefined;var _k=null;var _l=_c;function getCaseMin_loop(_m){if(_l<_d){if(_m._checkRowData(_e[_l])){_k=_i.call(_m,_l,_l,null,_m);if(_k===true){_f=_h.call(_m,_l,_l,null,_m);if(_j==null){_j=_f;}else if((_f instanceof nexacro.Decimal)==false){if(_f!=null&&_f<_j){_j=_f;}}else if(_f!=null){var _n=new nexacro.Decimal(_j);if((_f.hi<_n.hi)||(_f.hi==_n.hi&&_f.lo<_n.lo)){_j=_f;}}}}_l++ ;return false;}return true;}while(true){if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset.getCaseMax=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){return this._constVars[_g];}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseMax(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return undefined;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return undefined;}var _j=undefined;var _k=null;var _l=_c;function getCaseMax_loop(_m){if(_l<_d){if(_m._checkRowData(_e[_l])){_k=_i.call(_m,_l,_l,null,_m);if(_k===true){_f=_h.call(_m,_l,_l,null,_m);if(_j==null){_j=_f;}else if((_f instanceof nexacro.Decimal)==false){if(_f!=null&&_f>_j){_j=_f;}}else if(_f!=null){var _n=new nexacro.Decimal(_j);if((_f.hi>_n.hi)||(_f.hi==_n.hi&&_f.lo>_n.lo)){_j=_f;}}}}_l++ ;return false;}return true;}while(true){if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset.getCaseAvg=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){_f=this._constVars[_g];if(((typeof _f)=="number")||(_f instanceof nexacro.Decimal)){return _f;}else{return Infinity;}}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseAvg(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return Infinity;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return Infinity;}var _j=0;var _k=0;var _l=null;var _m=_c;function getCaseAvg_loop(_n){if(_m<_d){if(_n._checkRowData(_e[_m])){_l=_i.call(_n,_m,_m,null,_n);if(_l===true){_f=_h.call(_n,_m,_m,null,_n);if(_f!=null){_j++ ;if((_k instanceof nexacro.Decimal)==false){if((_f instanceof nexacro.Decimal)==false){_k+=( +_f);}else{_k=new nexacro.Decimal(_k);_k.addDecimal(_f);}}else{if((_f instanceof nexacro.Decimal)==false){_k.addDouble(_f);}else{_k.addDecimal(_f);}}}}}_m++ ;return false;}return true;}while(true){if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}}if(_j==0){return Infinity;}if(_k instanceof nexacro.Decimal){_k.divDouble(_j);}else{_k=_k/_j;}return _k;};_pDataset.getCountNF=function(_a){var _b=this._getNotDelRec();var _c= -1;var _d="";if(_a){if(typeof (_a)=="string"){_c=this.colinfos.indexOf(_a);if(!(_c>=0)){return 0;}}else if(typeof (_a)=="number"){_c=_a;_d=this.colinfos.get_id(_c);if(!_d){return 0;}}else{return 0;}var _e=this._viewRecords;this._viewRecords=_b;this._checkRowData=this._checkRawRowData;var _f=0;var _g=this._rawRecords.length;var _h=this._getCount(_f,_g, -1,_c,true);this._checkRowData=this._checkViewRowData;this._viewRecords=_e;return _h;}return _b.length;};_pDataset.getSumNF=function(_a,_b,_c){return this._calcNFData(this.getSum,_a,_b,_c);};_pDataset.getMinNF=function(_a,_b,_c){return this._calcNFData(this.getMin,_a,_b,_c);};_pDataset.getMaxNF=function(_a,_b,_c){return this._calcNFData(this.getMax,_a,_b,_c);};_pDataset.getAvgNF=function(_a,_b,_c){return this._calcNFData(this.getAvg,_a,_b,_c);};_pDataset.findMaxLengthRow=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}if(!_c||_c>_d.length){_c=_d.length;}var _e=parseInt(_a)|0;if(isFinite(_e)){if(_e>=0){return this._findMaxLengthRow(_e,_b,_c);}else{return  -1;}}var _f=this._constVars.indexOf(_a);if(_f>=0){return (this._constVars[_f])?this._constVars[_f].toString().length:0;}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._findMaxLengthRow(_f,_b,_c);}return  -1;};_pDataset.findMaxLengthRowNF=function(_a,_b,_c){return this._calcNFData(this.findMaxLengthRow,_a,_b,_c);};_pDataset._endIdx=function(_a,_b,_c){var _d=this._viewRecords.length;if(_c){switch(_a){case 1:return 0;case 4:if(_b<0||_b>=_d){return _d;}if(( +_b)!=( +_b)){return 0;}return _b;default:return _d;}}else{if(_a==3){if(_b<0||_b>_d){return _d;}if(( +_b)!=( +_b)){return 0;}return _b;}return _d;}};_pDataset._clearAllExprs=function(){this._exprFuncs=null;this._exprFuncs={};};_pDataset._clearAll=function(){this.colinfos=null;var _a=this.rowcount;this.colinfos=new nexacro.DSColumnInfoList();this._constVars=new nexacro.VariableList();this._rawRecords.splice(0,this._rawRecords.length);if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._deletedRecords.splice(0,this._deletedRecords.length);this._viewRecords=null;this._rawRecords=null;this._deletedRecords=null;this._rawRecords=[];this._deletedRecords=[];this._viewRecords=this._rawRecords;this.colcount=0;this.constcount=0;this.rowcount=0;this._keycols.splice(0,this._keycols.length);this._keycols.max_keylevel=0;if(this.loadkeymode.toLowerCase()=="reset"){this.keystring=this._defaultKeyStr;}if(this.loadfiltermode.toLowerCase()=="reset"){this.filterstr=this._defaultFilterStr;}this._filterFn=null;this._clearAllExprs();return _a;};_pDataset._clearData=function(){var _a=this.rowcount;this._rawRecords.splice(0,this._rawRecords.length);if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=this._rawRecords;this._deletedRecords.splice(0,this._deletedRecords.length);this._deletedRecords=null;this._deletedRecords=[];this.rowcount=0;return _a;};_pDataset._forcesetRowPosition=function(_a,_b){if(_a<0||_a>=this.rowcount){_a= -1;}var _c=this.rowposition;if(_a!=_c&&_a<this.rowcount){if(this.canrowposchange&&this.canrowposchange._has_handlers&&_c!= -1){var _d=new nexacro.DSRowPosChangeEventInfo(this,"canrowposchange",_c,_a,_b);var _e=this.on_fire_canrowposchange(_d);if(_e==false){return;}}if(this.onrowposchanged&&this.onrowposchanged._has_handlers){var _d=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_c,_a,_b);this.rowposition=_a;this.on_fire_onrowposchanged(_d);}else{this.rowposition=_a;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _d=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",_a, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_d);}};_pDataset._setRowPosition=function(_a,_b,_c,_d){if(_a<0||_a>=this.rowcount){_a= -1;}var _e=this.rowposition;if(_a!=_e||(_c==53&&_a==_e)){if((this.canrowposchange&&this.canrowposchange._has_handlers)||(this.onrowposchanged&&this.onrowposchanged._has_handlers)){var _f=new nexacro.DSRowPosChangeEventInfo(this,"canrowposchange",_e,_a,_c);if(this.canrowposchange&&this.canrowposchange._has_handlers&&this._eventstat&&_b===undefined&&(_e>= -1&&_e<this.rowcount)){var _g=this.on_fire_canrowposchange(_f);if(_g==false){return;}if(_a!=_f.newrow){_a=_f.newrow;}if(_a>=0||_a<this.rowcount){this.rowposition=_a;if(!this._is_loaded){return;}if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_f);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else{if(_a>=0||_a<this.rowcount){this.rowposition=_a;if(!this._is_loaded){return;}if(this._eventstat){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_f);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}}}else{this.rowposition=_a;if(!this._is_loaded){return;}if(this._eventstat&&this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else if(_d){if(!this._is_loaded){return;}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}return this.rowposition;};_pDataset._splitKeyCols=function(_a){var _b=[];var _c,_d;if(_a.charAt(0)!='+'&&_a.charAt(0)!='-'){_a='+'+_a;}_c=_a.indexOf('+');_d=_a.indexOf('-');var _e=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);var _f=0;while(_e>=0){_c=_a.indexOf('+',_e+1);_d=_a.indexOf('-',_e+1);var _g=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);if(_g<0){_b[_f]=_a.substr(_e);_f++ ;}else{_b[_f]=_a.substr(_e,_g-_e);_f++ ;}_e=_g;}delete _f;return _b;};_pDataset._clearKeyCols=function(){this._keycols.splice(0,this._keycols.length);this._keycols.max_keylevel=0;};_pDataset._parseKeyCols=function(){var _a=this._keycols.length;if(_a>0){return _a;}var _b=this.keystring;if(_b.length>0){var _c=0;var _d=_b.split(',');var _e=_d.length-1;function _parseKeyCols_loop(_f){if(_e>=0){var _g=_d[_e].trim();if(_g.length==0){_e-- ;return false;}var _h=_g.indexOf(':');if(_h<=0||(_g.charAt(0)!='S'&&_g.charAt(0)!='s')){_c++ ;}var _i;if(_h>=0){_i=_f._splitKeyCols(_g.substr(_h+1));}else{_i=_f._splitKeyCols(_g);}var _j=_i.length-1;function _parseKeyCols_loop2(){if(_j>=0){var _k=_i[_j].trim();if(_k.length==0){_j-- ;return false;}var _l;var _m= -1;var _n=false;if(_k.charAt(0)=='-'){_l=_k.substr(1);_m=_f.colinfos.indexOf(_l);_n=true;}else if(_k.charAt(0)=='+'){_l=_k.substr(1);_m=_f.colinfos.indexOf(_l);_n=false;}else{_l=_k;_m=_f.colinfos.indexOf(_l);_n=false;}if(_m>=0){_f._keycols[_a]={level:_c,colid:_l,colidx:_m,descending:_n};_a++ ;}_j-- ;return false;}return true;}while(true){if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}}_e-- ;return false;}return true;}while(true){if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}}}this._keycols.max_keylevel=_c;return _a;};_pDataset._getLocale=function(){var _a=nexacro.System.locale;var _b=this;while(_b){if(_b._locale){_a=_b._locale;break;}_b=_b.parent;}if(_a.indexOf("_")> -1){_a=_a.substr(0,2);}return _a;};_pDataset._createSortFunc=function(){var _a=this._keycols;var _b=_a.length;var _c=this._getLocale();var _d=this;return function(_e,_f){for(var _l=_b-1;_l>=0;_l-- ){var _g=_a[_l];var _h=_e[_g.colidx];var _i=_f[_g.colidx];var _j=0;var _k=_d.colinfos[_g.colidx].type.toLowerCase();if(!nexacro._isDecimal(_h)){if(_h!=null){if(_h!=_i){if(_i!=null){if((_i instanceof nexacro.Decimal)==false){if(_k=="string"){if(nexacro.BrowserLang.indexOf(_c)>=0){_j=_h.localeCompare(_i);}else{_j=_h.localeCompare(_i,_c);}}else{_j=(_h>_i?1: -1);}}else{_j=((_h.hi>_i.hi||(_h.hi>=_i.hi&&_h.lo>_i.lo))?1: -1);}}else{_j=1;}}else{_j=0;}}else if(_h!=_i){_j= -1;}else{_j=0;}}else{if(nexacro._isDecimal(_i)){_j=(_h.hi==_i.hi&&_h.lo==_i.lo)?0:((_h.hi>_i.hi||(_h.hi>=_i.hi&&_h.lo>_i.lo))?1: -1);}else{_j=1;}}if(_j!=0){return (_g.descending)? -_j:_j;}}_j=(_e._rawidx>_f._rawidx)?1: -1;return (_g.descending)? -_j:_j;};};_pDataset._sortData=function(){var _a=this._viewRecords;if(_a.length>0){if(this._viewRecords===this._rawRecords){_a=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _b=this._createSortFunc();_a.sort(_b);}};_pDataset._deleteAllGroupData=function(){var _a=this._viewRecords;var _b=_a.length;var _c=_b-1;function _deleteAllGroupData_loop(){if(_c>=0){if(_a[_c]._level>0){_a.splice(_c,1);}_c-- ;return false;}return true;}while(true){if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}}};_pDataset._calcGroupData=function(_a,_b){var _c=this.colinfos;var _d=_c.length;var _e=_a._grpstart;var _f=_a._grpend;var _g=_a._level;var _h=this._viewRecords[_e];var _i=0;function _calcGroupData_loop(_j){if(_i<_d){var _k=_c[_i].prop;var _l=_c[_i].ntype;if(_k&&_k.length>0){_k=_k.toLowerCase();}switch(_k){case "count":_a[_i]=_j._getCount(_e,_f, -1);break;case "sum":_a[_i]=_j._getSum(_i,_e,_f, -1,_l);break;case "max":_a[_i]=_j._getMax(_i,_e,_f, -1,_l);break;case "min":_a[_i]=_j._getMin(_i,_e,_f, -1,_l);break;case "avg":_a[_i]=_j._getAvg(_i,_e,_f, -1,_l);break;case "text":_a[_i]=_c[_i].sumtext;break;case "key":_a[_i]=_h[_i];break;default:if(_b[_i]>=_g){_a[_i]=_h[_i];}else{switch(_l){case 2:case 3:case 4:_a[_i]=_j._getSum(_i,_e,_f, -1,_l);break;default:_a[_i]=_c[_i].sumtext;break;}}break;}_i++ ;return false;}return true;}while(true){if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}}};_pDataset._createGroupData=function(){var _a=this._keycols;var _b=_a.max_keylevel;var _c=this._viewRecords;if(_b==0||this._viewRecords.length==0){return;}var _d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var _e=_a.length;var _f=[];var _g=0;function _createGroupData_init_loop(){if(_g<_e){_f[_a[_g].colidx]=_a[_g].level;_g++ ;return false;}return true;}while(true){if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}}var _h,_i;var _j=this._viewRecords.length;var _k=this._viewRecords[0];var _l,_m;var _n,_o;var _p=1;function _createGroupData_loop(_s){if(_p<_j){_l=_s._viewRecords[_p];_n=0;var _t=_e-1;function _createGroupData_chk_loop(){if(_t>=0){if(_a[_t].level==0){_t-- ;return false;}if(_l[_a[_t].colidx] instanceof nexacro.Decimal&&_k[_a[_t].colidx] instanceof nexacro.Decimal){if(!_l[_a[_t].colidx].isEqual(_k[_a[_t].colidx])){_n=_a[_t].level;return true;}}else if(_l[_a[_t].colidx]!=_k[_a[_t].colidx]){_n=_a[_t].level;return true;}_t-- ;return false;}return true;}while(true){if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}}if(_n!=0){var _q=1;function _createGroupData_grp_loop(){if(_q<=_n){_m=[];_m._level=_q;_h=_d[_q];_i=_p;_m._grpstart=_h;_m._grpend=_i;_m._rtype=16;_s._calcGroupData(_m,_f);if(_s.reversesubsum){_c.splice(_h,0,_m);}else{_c.splice(_i,0,_m);}_m=null;_j++ ;_p++ ;_q++ ;return false;}return true;}while(true){if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}}_k=_l;_q=1;function _createGroupData_lastgrp_loop(){if(_q<=_n){_d[_q]=_p;_q++ ;return false;}return true;}while(true){if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}}}_p++ ;return false;}return true;}while(true){if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}}var _q=1;var _r=_c.length;function _createGroupData_last_loop(_s){if(_q<=_b){_m=[];_m._level=_q;_h=_d[_q];_i=_r;_m._grpstart=_h;_m._grpend=_i;_m._rtype=16;_s._calcGroupData(_m,_f);if(_s.reversesubsum){_c.splice(_h,0,_m);}else{_c[_r]=_m;}_r++ ;_q++ ;_m=null;return false;}return true;}while(true){if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}}delete _r;};_pDataset._resetSortGroup=function(){var _a=this.rowposition;if(this.rowposition== -1){var _a=0;}var _b=this._viewRecords[_a];if(this._parseKeyCols()>0&&this._rawRecords.length>0){if(this._rawRecords!=this._viewRecords){if(this._viewRecords.length==0){_b=null;return false;}this._deleteAllGroupData();}else{this._viewRecords=null;this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}this._sortData();this._createGroupData();this.rowcount=this._viewRecords.length;}_b=null;return false;};_pDataset._adjustGroupRowData=function(_a){var _b=this._keycols;if(_b.max_keylevel==0){return false;}var _c=_b.length;var _d=[];var _e=0;function _adjustGroupRowData_init_loop(){if(_e<_c){_d[_b[_e].colidx]=_b[_e].level;_e++ ;return false;}return true;}while(true){if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}}var _f=this._viewRecords;var _g=_f.length;var _h;var _i=_a;function _adjustGroupRowData_loop(_j){if(_i<_g){_h=_f[_i];if(_h&&_h._rtype==16&&_h._grpend>=_a){_h._grpend-- ;if(_h._grpstart<=_a){if(_h._grpend<=_h._grpstart){_f.splice(_i,1);_i-- ;}else{_j._calcGroupData(_h,_d);}}else{_h._grpstart-- ;}}_i++ ;return false;}return true;}while(true){if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}}_d=null;return true;};_pDataset._updateGroupRowData=function(_a){var _b=this._keycols;if(_b.max_keylevel==0){return false;}var _c=_b.length;if(_c==0){return false;}var _d=[];var _e=0;function _updateGroupRowData_init_loop(){if(_e<_c){_d[_b[_e].colidx]=_b[_e].level;_e++ ;return false;}return true;}while(true){if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}}var _f=this._viewRecords;var _g=_f.length;var _h;var _i=_a;function _updateGroupRowData_loop(_j){if(_i<_g){_h=_f[_i];if(_h._rtype==16&&_h._grpstart<=_a&&_h._grpend>=_a){_j._calcGroupData(_h,_d);}_i++ ;return false;}return true;}while(true){if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}}_d=null;return true;};_pDataset._removeEmptyRows=function(){var _a=this._rawRecords;var _b=_a.length;var _c=_b-1;function _removeEmptyRows_rm_loop(){if(_c>=0){if(_a[_c]._rtype==0){_a.splice(_c,1);}_c-- ;return false;}return true;}while(true){if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}}_b=_a.length;var _c=0;function _removeEmptyRows_adj_loop(){if(_c<_b){_a[_c]._rawidx=_c;_c++ ;return false;}return true;}while(true){if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}}};_pDataset._reFilter=function(){var _a;if(this.filterstr.length>0){_a=this._viewRecords;if(_a!=this._rawRecords){_a.splice(0,_a.length);}_a=this._viewRecords=this._getNotDelRec();if(this._filterFn==null){var _b=this._createExprFunc(this.filterstr);if(typeof _b=="function"){this._filterFn=_b;}}if(this._filterFn){var _c=this._filterFn;var _d=_a.length;var _e;var _f=_d-1;function _reFilter_loop(_g){if(_f>=0){_e=_c.call(_g,_f,_f,null,_g);if(!_e||_a[_f]._rtype==8){_a.splice(_f,1);}_f-- ;return false;}return true;}while(true){if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}}}}else{_a=this._viewRecords;if(_a!=this._rawRecords){_a.splice(0,_a.length);}this._viewRecords=this._getNotDelRec();}_a=null;this.rowcount=this._viewRecords.length;};_pDataset._getConstColIndex=function(_a){return this._constVars.indexOf(_a);};_pDataset._getDataColIndex=function(_a){return this.colinfos.indexOf(_a);};_pDataset._addConstColumn=function(_a,_b,_c,_d){if(_a in this.colinfos){return  -1;}if(_a in this._constVars){var _e=this._constVars.get_item(_a);if(_b!=_e){this._constVars.set_item(_a,_b);return this._constVars.indexOf(_a);}else{return  -1;}}if(_c){_c=nexacro.DataUtils._typecodes[_c.toLowerCase()];_b=nexacro.DataUtils.convert(_b,_c);}var _f="";if(_c){_f+=" type=\""+nexacro.DataUtils._typenames[_c]+"\"";}if(_d){_f+=" size=\""+_d+"\"";}if(_f){this._constVars2.add(_a,_f);}this.constcount++ ;this.colcount++ ;return this._constVars.add(_a,_b);};_pDataset._addColumn=function(_a,_b,_c,_d,_e){if(this.colinfos){if(this.colinfos[_a]&&this.colinfos[_a].name!=""){if(nexacro.Browser=="IE"&&this.colinfos[_a].name===undefined){}else{return  -1;}}}if(this._constVars){if(this._constVars[_a]&&this._constVars[_a].name!=""){if(nexacro.Browser=="IE"&&this._constVars[_a].name===undefined){}else{return  -1;}}}var _f;if(_b==undefined){_f=1;_b="STRING";}else{_f=nexacro.DataUtils._typeint[_b.toLowerCase()];}if(_f==null){_f=1;}if(( +_c)!=( +_c)){_c=256;}var _g=this.colinfos.length;var _h=new nexacro.DSColumnInfo(_a,_b,_f,_c,_d,_e,_g);this.colcount++ ;return this.colinfos.add(_a,_h);};_pDataset._addColumnInfo=function(_a,_b){if((_a in this.colinfos)||(_a in this._constVars)){return  -1;}var _c=this.colinfos.length;var _d=new nexacro.DSColumnInfo(_a,_b.type,_b.ntype,_b.size,_b.prop,_b.sumtext,_c);this.colcount++ ;return this.colinfos.add(_a,_d);};_pDataset._appendColList=function(_a){if(_a._type_name=="DSColumnInfoList"){var _b=_a.length;var _c=0;var _d=this.colinfos.length;if(_b>0){var _e=0;function _appendColList_loop(_f){if(_e<_b){var _g=_a[_e];var _h=_g.id;if((_h in _f.colinfos)||(_h in _f._constVars)){_e++ ;return false;}var _i=new nexacro.DSColumnInfo(_h,_g.type,_g.ntype,_g.size,_g.prop,_g.sumtext,_d);_f.colinfos.add(_h,_i);_d++ ;_c++ ;_e++ ;return false;}return true;}while(true){if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}}if(_c>0){this.colcount+=_c;}}return _c;}return 0;};_pDataset._deleteColumn=function(_a){if(this.updatecontrol){return false;}var _b=this._constVars;var _c=this.colinfos;if(typeof (_a)=="string"){var _d=_b.indexOf(_a);if(_c.indexOf(_a)> -1){_a=_c.indexOf(_a);}else if(_b.indexOf(_a)> -1){_a=_b.indexOf(_a)+_c.length;}else{return false;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}}if(this.colinfos.deleteItem(_a)> -1){this.colcount-- ;return true;}else{if(_b.deleteItem(_a-this.colinfos.length)> -1){this.constcount-- ;this.colcount-- ;return true;}}return false;};_pDataset._appendRow=function(_a){var _b=[];_b._rawidx=this._rawRecords.length;_b._level=0;_b._rtype=_a;_b._orgcolstrings=[];this._rawRecords[_b._rawidx]=_b;var _c=this._viewRecords.length;if(this._rawRecords!=this._viewRecords){this._viewRecords[_c]=_b;_c++ ;}this.rowcount=_c;_b=null;delete _c;return this.rowcount-1;};_pDataset._insertRow=function(_a,_b){var _c=this._viewRecords;if(_a>=_c.length){return this._appendRow(_b);}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _d=[];_d._rawidx=this._rawRecords.length;_d._rtype=_b;_d._level=0;var _e=this._rawRecords;var _f=_e.length;var _g=0;for(var _h=0;_h<_f;_h++ ){if(_e[_h]._rtype==8){_g++ ;}if(_h==_a+_g){break;}}this._rawRecords.splice(_a+_g,0,_d);_c.splice(_a,0,_d);this._removeEmptyRows();this.rowcount=this._viewRecords.length;_d=null;return _a;};_pDataset._deleteRow=function(_a){if(!(( +_a)!=( +_a))){_a=parseInt(_a)|0;}if(_a<0){return  -1;}var _b=this._viewRecords;if(_a>=_b.length){return  -1;}if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _c=_b[_a];if(_c){var _d=this._deletedRecords.length;if(this.updatecontrol){if(_c._rtype==1){_c._rtype=8;this._deletedRecords[_d]=_c;_d++ ;_b.splice(_a,1);}else if(_c._rtype==2){_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}else if(_c._rtype==4){var _e=_c._orgrow;var _f=this.colinfos.length;for(var _g=0;_g<_f;_g++ ){_c[_g]=_e[_g];}delete _c._orgrow;this._deletedRecords[_d]=_c;_d++ ;_b.splice(_a,1);_c._rtype=8;}else if(_c._rtype==16){_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}else{return  -1;}}else{_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}this.rowcount=this._viewRecords.length;}return _a;};_pDataset._moveRow=function(_a,_b){var _c=this._viewRecords;var _d=this._rawRecords[_a];if(this._rawRecords.length<=0){return  -1;}if(_a>=_c.length||_b>=_c.length||_a==_b){return  -1;}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);this._rawRecords.splice(_a,1);this._rawRecords.splice(_b,0,_d);}else{var _e=this._findrawRecords(_a);var _f=this._findrawRecords(_b);this._rawRecords.splice(_e.idx,1);this._rawRecords.splice(_f.idx,0,_e.obj);}_d=_c[_a];_c.splice(_a,1);_c.splice(_b,0,_d);return _b;};_pDataset._findrawRecords=function(_a){var _b=_a,_c;for(var _d=0;_d<this._rawRecords.length;_d++ ){if(this._rawRecords[_d]._rtype==8){continue;}if(_b==0){_c=this._rawRecords[_d];break;}_b-- ;}return {obj:_c,idx:_d};};_pDataset._exchangeRow=function(_a,_b){var _c=this._viewRecords;if(this._rawRecords.length<=0){return  -1;}if(_a>=_c.length||_b>=_c.length||_a==_b){return false;}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _d=this._rawRecords[_a];this._rawRecords[_a]=_c[_b];this._rawRecords[_b]=_d;_d=_c[_a];_c[_a]=_c[_b];_c[_b]=_d;return true;};_pDataset._deleteAll=function(){var _a=this._viewRecords;var _b=_a.length;var _c=0;var _d=0;var _e=this._deletedRecords.length;var _f=this.updatecontrol;var _g=this._deletedRecords;function _deleteAll_loop(_h){if(_d<_b){var _i=_a[_d];if(_f){if(_i._rtype==1){_i._rtype=8;_g[_e]=_i;_e++ ;}else if(_i._rtype==2){_i._rtype=0;_c++ ;}else if(_i._rtype==4){var _j=_i._orgrow;var _k=_h.colinfos.length;for(var _l=0;_l<_k;_l++ ){_i[_l]=_j[_l];}delete _i._orgrow;_i._rtype=8;_g[_e]=_i;_e++ ;}}else{_i._rtype=0;_c++ ;}_d++ ;return false;}return true;}while(true){if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}}if(this._rawRecords==this._viewRecords){this._viewRecords=[];}else{this._viewRecords.splice(0,this._viewRecords.length);}if(_c>0){this._removeEmptyRows();}this.rowcount=0;if(this.loadkeymode.toLowerCase()=="reset"){this.keystring=this._defaultKeyStr;this.on_apply_keystring();}return _b;};_pDataset._deleteMultiRows=function(_a){var _b=this._viewRecords;if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _c=this._deletedRecords;var _d=_b.length;var _e=[];var _f=0;var _g;var _h;var _i=0;var _j= -1;var _k=_c.length;var _l=0;var _m=0;function _deleteMultiRows_loop(_n){if(_i<_d){_j=_a[_f];_g=_b[_i];_h=_b[_j-_m];if(_g==_h){if(_n.updatecontrol){if(_g._rtype==1){_g._rtype=8;_c[_k]=_g;_k++ ;_f++ ;}else if(_g._rtype==2){_g._rtype=0;_n._removeEmptyRows();_f++ ;}else if(_g._rtype==4){var _o=_g._orgrow;var _p=_n.colinfos.length;for(var _q=0;_q<_p;_q++ ){_g[_q]=_o[_q];}delete _g._orgrow;_g._rtype=8;_c[_k]=_g;_k++ ;_f++ ;}}else{_g._rtype=0;_n._removeEmptyRows();_b.splice(_i,1);_d-- ;_i-- ;_f++ ;_m++ ;}}else{_e[_l]=_g;_l++ ;}_i++ ;return false;}return true;}while(true){if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}}delete _k;delete _l;if(_f>0){if(this._rawRecords!=this._viewRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=_e;}_e=null;return _f;};_pDataset._filterRow=function(_a){var _b=this._viewRecords;if(_a>=_b.length){return false;}if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}_b.splice(_a,1);this._adjustGroupRowData(_a);this.rowcount=this._viewRecords.length;return true;};_pDataset._updateColumn=function(_a,_b,_c,_d){var _e=_b[_c];if(_e===_d||_b._rtype==16){return false;}if(_b._rtype==1&&this.updatecontrol){var _f=[];var _g=_b.length;var _h=0;function _updateColumn_loop(){if(_h<_g){_f[_h]=_b[_h];_h++ ;return false;}return true;}while(true){if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}}_b._orgrow=_f;_b._rtype=4;_f=null;}else if(_b._rtype==4&&this.updatecontrol){if(_b._orgrow){var _i=this.colinfos.length;_b[_c]=_d;if(!_b._orgcolstrings){_b._orgcolstrings=[];}_b._orgcolstrings[_c]=_d;var _j=true;for(var _k=0;_k<_i;_k++ ){if(_b[_k] instanceof nexacro.Decimal){if(_b._orgrow[_k] instanceof nexacro.Decimal){if(_b[_k].isEqual(_b._orgrow[_k])==false){_j=false;break;}}else if(_b[_k]!=_b._orgrow[_k]){_j=false;break;}}else if(_b[_k] instanceof nexacro.Date){if(_b._orgrow[_k] instanceof nexacro.Date){if(_b[_k].valueOf()!=_b._orgrow[_k].valueOf()){_j=false;break;}}else if(_b[_k]!=_b._orgrow[_k]){_j=false;break;}}else if(!(_b[_k]==""&&_b._orgrow[_k]==undefined)&&_b[_k]!=_b._orgrow[_k]){_j=false;break;}}if(_j==true){delete _b["_orgrow"];_b._rtype=1;}}}_b[_c]=_d;if(!_b._orgcolstrings){_b._orgcolstrings=[];}_b._orgcolstrings[_c]=_d;this._updateGroupRowData(_a);return true;};_pDataset._setLayout=function(_a){this.colinfos=_a.colinfos;this._constVars=_a._constVars;};_pDataset._setRawData=function(_a,_b){this._rawRecords=_a;this._viewRecords=this._rawRecords;this._deletedRecords=_b;};_pDataset._createExprFunc=function(_a){var _b=new nexacro.ExprParser();var _c=_b.makeExpr(this,_a);var _d=nexacro._createInlineFunc(_c,["currow","rowidx","comp","dataset"]);return _d;};_pDataset._getColumnSize=function(_a){if(( +_a)!=( +_a)){if(this.colinfos[_a]){return this.colinfos[_a].size;}else if(this._conVars[_a]){return this._colVars[_a].size;}else{return undefined;}}else{if(_a<0||_a>=this.colcount){return undefined;}var _b=this.colinfos.length;if(this.colinfos[_a]){return this.colinfos[_a].size;}else{return this._colVars[_a-_b].size;}}};_pDataset._getColumnType=function(_a){if(_a in this.colinfos){return this.colinfos[_a].ntype;}if(_a in this._constVars){var _b=this._constVars[_a];var _c=(typeof _b);if(_c=="number"){return 2;}return nexacro.DataUtils._typecodes[_c];}};_pDataset._isConstColumn=function(_a){if(( +_a)!=( +_a)){if(this._constVars[_a]){return true;}else{return false;}}else{var _b=this.colinfos.length;if(_a<this.colcount&&_a>=_b){return true;}else{return false;}}};_pDataset._copyConstColList=function(_a){if(_a._type_name=="VariableList"){var _b=_a.length;var _c=0;var _d=this._constVars.length;if(_b>0){var _e=0;function _copyConstColList_loop(_f){if(_e<_b){var _g=_a.get_id(_e);if((_g in _f.colinfos)||(_g in _f._constVars)){_e++ ;return false;}_f._constVars.add(_g,_a[_e]);_d++ ;_c++ ;_e++ ;return false;}return true;}while(true){if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}}if(_c>0){this.count+=_c;this.constcount+=_c;}}return _c;}return 0;};_pDataset._copyRowList=function(_a){var _b=_a.length;var _c=0;var _d=this._rawRecords.length;var _e=this._viewRecords.length;var _f=this._rawRecords.length;var _g=0;function _copyRowList_loop(_h){if(_g<_b){var _i=_a[_g];var _j=_i._level;var _k=_i._rtype;if((_j==0)&&(_k==1||_k==2||_k==4)){var _l=[];_l._level=0;_l._rawidx=_d;_l._rtype=1;var _m=_i.length;for(var _n=0;_n<_m;_n++ ){_l[_n]=_i[_n];}if(_h._rawRecords!=_h._viewRecords){_h._viewRecords[_e]=_l;_e++ ;}_h._rawRecords[_f]=_l;_f++ ;_l=null;}_i=null;_d++ ;_c++ ;_g++ ;return false;}return true;}while(true){if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}}delete _f;delete _e;return _c;};_pDataset._copyData=function(_a,_b){if(this.name==undefined){this.id=this.name=_a.id;}this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);if(_b==true){if(_a._viewRecords.length>0){this._copyRowList(_a._viewRecords);}}else{if(_a._rawRecords.length>0){this._copyRowList(_a._rawRecords);}}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._mergeData=function(_a){var _b=_a._rawRecords.length;var _c=0;var _d=this._rawRecords.length;var _e=_d;var _f=this.colinfos.length;var _g=this._viewRecords.length;var _h=this._rawRecords.length;var _i=0;function _mergeData_loop(_j){if(_i<_b){var _k=_a._rawRecords[_i];var _l=_k._level;var _m=_k._rtype;if((_l==0)&&(_m==1||_m==2||_m==4)){var _n=[];_n._level=0;_n._rawidx=_e;_n._rtype=1;if(_j._rawRecords!=_j._viewRecords){_j._viewRecords[_g]=_n;_g++ ;}_j._rawRecords[_h]=_n;_h++ ;for(var _q=0;_q<_f;_q++ ){var _o=_j.colinfos.get_id(_q);var _p=_a.colinfos.indexOf(_o);if(_p!=null){_n[_q]=_j.colinfos[_q]._fromVal(_k[_p]);}}_e++ ;_c++ ;}_i++ ;return false;}return true;}while(true){if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}}delete _g;delete _h;if(_c>0){this.rowcount+=_c;}return _c;};_pDataset._appendConstColList=function(_a,_b){if(_a._type_name=="VariableList"){var _c=this._constVars.length;var _d=0;var _e=Math.min(_c,_a.length);if(_c>0){if(_b){var _f=0;function _appendConstColList_loop(_g){if(_f<_c){var _h=_g._constVars.get_id(_f);var _i=_a.indexOf(_h);if(_i!=null){_g._constVars.set_item(_f,_a[_i]);_d++ ;}_f++ ;return false;}return true;}while(true){if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}}}else{var _f=0;function _appendConstColList_loop2(_g){if(_f<_e){_g._constVars.set_item(_f,_a[_f]);_d++ ;_f++ ;return false;}return true;}while(true){if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}}}}return _d;}return 0;};_pDataset._appendRowList=function(_a,_b){var _c=_a._viewRecords.length;var _d=0;var _e=this._rawRecords.length;var _f=this.colinfos.length;var _g=Math.min(_f,_a._rawRecords[0].length);var _h=this._viewRecords.length;var _i=this._rawRecords.length;var _j=0;function _appendRowList_loop(_k){if(_j<_c){var _l=_a._viewRecords[_j];var _m=_l._level;var _n=_l._rtype;if((_m==0)&&(_n==1||_n==2||_n==4)){var _o=[];_o._level=0;_o._rawidx=_e;_o._rtype=1;if(_b==true||_b=="true"){var _p=0;function _appendRowList_loop2(){if(_p<_f){var _q=_k.colinfos.get_id(_p);var _r=_a.colinfos.indexOf(_q);if(_r!=null){_o[_p]=nexacro.DataUtils.convert(_l[_r],_k.colinfos[_p].ntype);}_p++ ;return false;}return true;}while(true){if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}}}else{var _p=0;function _appendRowList_loop3(){if(_p<_g){_o[_p]=nexacro.DataUtils.convert(_l[_p],_k.colinfos[_p].ntype);_p++ ;return false;}return true;}while(true){if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}}}if(_k._rawRecords!=_k._viewRecords){_k._viewRecords[_h]=_o;_h++ ;}_k._rawRecords[_i]=_o;_i++ ;}_e++ ;_d++ ;_j++ ;return false;}return true;}while(true){if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}}delete _h;delete _i;return _d;};_pDataset._appendData=function(_a,_b,_c){if(this.colcount==0){this._appendColList(_a.colinfos);if(_c==true){this._copyConstColList(_a._constVars);}}else{if(_c==true&&_a._constVars.length>0){this._appendConstColList(_a._constVars,_b);}}if(_a._viewRecords.length>0){this._appendRowList(_a,_b);}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._bWorkingstatus=false;_pDataset._endLoad=function(_a,_b,_c){this._is_loaded=true;this._bWorkingstatus=true;this._reFilter();this._resetSortGroup();if(this._eventstat){this.on_fire_onload(_a,_b,_c);if(this._viewRecords&&this._viewRecords.length>0){var _d=this.rowposition== -1?0:this.rowposition;if(_d>=this.rowcount){_d= -1;}var _e=this.rowposition;if(_d!=_e||(_c==3&&_b=="SUCCESS"&&_d>0)){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){var _f=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_e,_d,51);if(_d>=0||_d<this.rowcount){this.rowposition=_d;this.on_fire_onrowposchanged(_f);}}else{this.rowposition=_d;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else if(this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pDataset._setContents=function(_a){var _b="<Dataset id=\""+this.id+"\">"+_a+"</Dataset>";if(_b.length){var _c=nexacro._parseXMLDocument(_b);if(_c){if(_c.nodeName=="Dataset"){this._loadFromDOM(_c);}else{var _d=_c.getElementsByTagName("Dataset");this._loadFromDOM(_d[0]);}this.rowposition= -1;}_c=null;}this.updateSortGroup();if(this.parent&&(this.parent!=application&&this.parent._is_form==false)){this.on_created();}};}else{_pDataset._setContents=function(_a){if(_a.length){this._loadFromXMLStr(_a);this.rowposition= -1;}this.updateSortGroup();if(this.parent&&(this.parent!=application&&this.parent._is_form==false)){this.on_created();}};}_pDataset._loadFromDOM=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(_a==null){this.loadstatus=false;this._eventstat=this.enableevent;return 0;}if(!_b){_b=0;}if(!_c){_c= -1;}this._setColInfoFromDOM(_a,_d);_b=this._loadRecordFromDOM(_a,_b,_c);var _f=this._viewRecords;var _g=this._deletedRecords;var _h=this._rawRecords;if(_g.length>0){_f=this._viewRecords=[];var _i=_h.length;var _j=_f.length;var _k=0;function _loadFromDOM_delrow_loop(){if(_k<_i){_currowData=_h[_k];if(_currowData._rtype!=8){_f[_j]=_currowData;_j++ ;}_k++ ;return false;}return true;}while(true){if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}}}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=_f.length;this.loadstatus=false;this._eventstat=this.enableevent;_f=null;_g=null;_h=null;return _b;};_pDataset._setColInfoFromDOM=function(_a,_b){var _c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q;if(_b){;}else{_j=_a.getElementsByTagName("ConstColumn");_f=(_j?_j.length:0);_c=0;function _loadFromDOM_const_loop(_r){if(_c<_f){_n=_j[_c];_p=_n.getAttribute("id");if(_p.length){_r._addConstColumn(_p,_n.getAttribute("value"),_n.getAttribute("type"));}_c++ ;return false;}return true;}while(true){if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}}_j=_a.getElementsByTagName("Column");_f=(_j?_j.length:0);_c=0;function _loadFromDOM_col_loop(_r){if(_c<_f){_n=_j[_c];_p=_n.getAttribute("id");if(_p.length){_r._addColumn(_p,_n.getAttribute("type"),_n.getAttribute("size"),_n.getAttribute("prop"),_n.getAttribute("sumtext"));}_c++ ;return false;}return true;}while(true){if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}}_j=null;}};_pDataset._loadRecordFromDOM=function(_a,_b,_c){var _d=this.colinfos;var _e;var _f,_g;_f=_a.getElementsByTagName("Row");var _h=(_f?_f.length:0);var _i=this._rawRecords;var _j=this._deletedRecords;var _k=_i.length;var _l=_j.length;var _m=_d.length;function _loadFromDOM_row_loop(){if(_b<_h){var _n=new Array(_m);_n._rawidx=_b;_n._level=0;var _o;for(var _r=0;_r<_m;_r++ ){_o=_d[_r];if(_o.ntype>=4&&_o.ntype<=7){_n[_o._index]=null;}}_rowElem=_f[_b];type=_rowElem.getAttribute("type");if(type==null){_n._rtype=1;}else if(type.charAt(0)=='I'||type.charAt(0)=='i'){_n._rtype=2;}else if(type.charAt(0)=='U'||type.charAt(0)=='u'){_n._rtype=4;}else if(type.charAt(0)=='D'||type.charAt(0)=='d'){_n._rtype=8;}else{_n._rtype=1;}_g=_rowElem.getElementsByTagName("Col");len=(_g?_g.length:0);var _p;for(j=0;j<len;j++ ){_colElem=_g[j];id=_colElem.getAttribute("id");_e=_d[id];if(_e){_p=_colElem.firstChild;if(_p){_n[_e._index]=_e._fromText(_p.nodeValue);}else{_n[_e._index]="";}}}_g=null;if(_n._rtype==4){_orgrowElems=_rowElem.getElementsByTagName("OrgRow");orgcnt=(_orgrowElems?_orgrowElems.length:0);if(orgcnt){var _q=new Array(_m);for(var _s=0;_s<_m;_s++ ){if(_d[_s].ntype>=4&&_d[_s].ntype<=7){_q[_d[_s]._index]=null;}}_g=_orgrowElems[0].getElementsByTagName("Col");len=(_g?_g.length:0);for(j=0;j<len;j++ ){_colElem=_g[j];id=_colElem.getAttribute("id");_e=_d[id];if(_e){_p=_colElem.firstChild;if(_p){_q[_e._index]=_e._fromText(_p.nodeValue);}}}_n._orgrow=_q;}}if(_n._rtype==8){_j[_l]=_n;_l++ ;}_i[_k]=_n;if(!_i._orgcolstrings){_i._orgcolstrings=[];}_i._orgcolstrings[_k]=_n;_k++ ;_b++ ;_n=null;if(_c>0&&(_k-_l)==_c){return true;}return false;}return true;}while(true){if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}}_f=null;_g=null;_i=null;_j=null;delete _k;delete _l;return _b;};_pDataset._setColInfoFromXMLStr=function(_a,_b){var _c=0;var _d=nexacro._getXMLTagData(_a,_c,"<ColumnInfo>","</ColumnInfo>");if(_d){_c=_d[3];var _e=_d[0];var _f=0;function _loadFromXMLStr_const_loop(_h){var _i=nexacro._getXMLTagData2(_e,_f,"<ConstColumn ","</ConstColumn>");if(_i==null){return true;}_f=_i[3];var _j=_i[1];var _k=nexacro._getXMLAttributeID(_j);var _l=nexacro._getXMLAttributeData(_j,"value");if(_k.length){var _m=false;if(_b){var _n=_h._constVars;var _o=_n?_n.length:0;for(var _r=0;_r<_o;_r++ ){_m=true;if(_n.get_id(_r)==_k){_m=false;break;}}}if(!_m){var _p=nexacro._getXMLAttributeType(_j);var _q=nexacro._getXMLAttributeData(_j,"size");_h._addConstColumn(_k,nexacro._decodeXml(_l),_p,_q);}}return false;}while(true){if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}}var _g=0;function _loadFromXMLStr_col_loop(_h){var _d=nexacro._getXMLTagData4(_e,_g,"<Column ");if(_d==null){return true;}_g=_d[3];var _i=_d[1];var _j=nexacro._getXMLAttributeID(_i);if(_j&&_j.length){var _k=nexacro._getXMLAttributeType(_i);var _l=nexacro._getXMLAttributeData(_i,"size");var _m=nexacro._getXMLAttributeData(_i,"prop");var _n=nexacro._getXMLAttributeData(_i,"sumtext");_h._addColumn(_j,_k,_l,_m,_n);}return false;}while(true){if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}}}return _c;};_pDataset._loadRecordFromXMLStr=function(_a,_b,_c){var _d=this.colinfos;var _e=this._rawRecords;var _f=this._deletedRecords;var _g=_e.length;var _h=_f.length;var _i=_d.length;var _j=0;if(_b> -1){function _loadFromXMLStr_row_loop(){var _k;var _l;var _m=nexacro._getXMLTagData3(_a,_b,"<Row","</Row>");if(_m==null){return true;}_b=_m[3];_k=_m[0];_l=_m[1];var _n=new Array(_i);_n._rawidx=_j;_n._level=0;_n._orgcolstrings=[];for(var _v=0;_v<_i;_v++ ){if(_d[_v].ntype>=4&&_d[_v].ntype<=7){_n[_d[_v]._index]=undefined;}}_j++ ;if(_l){var _o=nexacro._getXMLAttributeType(_l);if(!_o){_n._rtype=1;}else{var _p=_o.charAt(0);if(_p=='I'||_p=='i'){_n._rtype=2;}else if(_p=='U'||_p=='u'){_n._rtype=4;}else if(_p=='D'||_p=='d'){_n._rtype=8;}else{_n._rtype=1;}}}else{_n._rtype=1;}if(_n._rtype==4){var _q=nexacro._getXMLTagData(_k,0,"<OrgRow>","</OrgRow>");if(_q){_k=_k.substring(0,_q[2])+_k.substring(_q[3]);var _r=_q[0];var _s=new Array(_i);for(var _w=0;_w<_i;_w++ ){if(_d[_w].ntype>=4&&_d[_w].ntype<=7){_s[_d[_w]._index]=null;}}var _t=0;function _loadFromXMLStr_colvalue_loop2(){var _x=nexacro._getXMLTagData2(_r,_t,"<Col ","</Col>");if(_x==null){return true;}_t=_x[3];var _l=_x[1];var _y=nexacro._getXMLAttributeID(_l);var _z=_d[_y];if(_z){_s[_z._index]=_z._fromXMLText(_x[0]);}return false;}while(true){if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}}_n._orgrow=_s;}}var _u=0;function _loadFromXMLStr_colvalue_loop(){if(_k){var _x=nexacro._getXMLTagData2(_k,_u,"<Col ","</Col>");if(_x==null){return true;}_u=_x[3];var _l=_x[1];var _y=nexacro._getXMLAttributeID(_l);var _z=_d[_y];if(_z){_n[_z._index]=_z._fromXMLText(_x[0]);if(!_n._orgcolstrings){_n._orgcolstrings=[];}_n._orgcolstrings[_z._index]=_n[_z._index];}return false;}return true;}while(true){if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}}if(_n._rtype==8){_f[_h]=_n;_h++ ;}_e[_g]=_n;_g++ ;_k=null;_l=null;_m=null;_n=null;if(_c>0&&(_g-_h)==_c){return true;}return false;}while(true){if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}}}_e=null;_f=null;return _b;};_pDataset._loadFromXMLStr=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(!_b){_b=0;}if(!_c){_c= -1;}if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(!_a){this.loadstatus=false;this._eventstat=this.enableevent;return 0;}if(_d){if(_b<=0){if(this._constVars&&this._constVars.length>0){_b=this._setColInfoFromXMLStr(_a,_d);_b=_a.indexOf("<Rows>",_b);}else{_b=_a.indexOf("<Rows>");}if(_b> -1){_b+=6;}}}else{if(_b<=0){_b=this._setColInfoFromXMLStr(_a);_b=_a.indexOf("<Rows>",_b);if(_b> -1){_b+=6;}}}if(_b> -1){_b=this._loadRecordFromXMLStr(_a,_b,_c);}var _f=this._viewRecords;var _g=this._rawRecords;var _h=this._deletedRecords;var _i=this.colinfos;if(_h.length>0){_f=this._viewRecords=[];var _j=_g.length;var _k=_f.length;var _l=0;function _loadFromXMLStr_delrow_loop(){if(_l<_j){var _m=_g[_l];if(_m._rtype!=8){_f[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=_i.length+this.constcount;this.rowcount=_f.length;this.loadstatus=false;this._eventstat=this.enableevent;_f=null;_g=null;_h=null;_i=null;return _b;};_pDataset._loadFromPPXArray=function(_a,_b,_c,_d,_e,_f){var _g=String.fromCharCode(31);this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}if(!_a||_a.length==0){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}this._setColInfoFromPPXLines(_a,_e);_c=this._loadRecordFromPPXLines(_b,_c,_d);var _h=this._deletedRecords.length;if(_h){var _i=this._viewRecords=[];var _j=this._rawRecords;len=_j.length;var _k=_i.length;var _l=0;function _loadFromPPXArray_delrow_loop(){if(_l<len){var _m=_j[_l];if(_m._rtype!=8){_i[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._getColLinesFromPPXLines=function(_a,_b){var _c=_a.length;var _d=_b;while(true){var _e=_a[_d].charAt(0);if(_d<_c&&(_e=="C"||_e=="V")){_d++ ;}else{break;}}return _a.slice(_b,_d);};_pDataset._setColInfoFromPPXLines=function(_a,_b){var _c=String.fromCharCode(31);var _d=null;var _e=_a.length;var _f=0;if(!_b){function _setColInfoFromPPXLines_loop(_g){if(_f<_e){var _h=_a[_f];var _i=_h.charAt(0);if(_i=='V'){var _j=_h.split(_c);_g._addConstColumn(_j[1],_j[3],_j[2]);_f++ ;return false;}else if(_i=='C'){var _j=_h.split(_c);_g._addColumn(_j[1],_j[2],_j[3],_j[4],_j[5]);_f++ ;return false;}return true;}return true;}while(true){if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}}}else{function _setColInfoFromPPXLines_const_loop(_g){if(_f<_e){var _h=_a[_f];var _i=_h.charAt(0);if(_i=='V'){var _j=_h.split(_c);if(_j[1] in _g._constVars){_g._addConstColumn(_j[1],_j[3],_j[2]);}_f++ ;return false;}else if(_i=='C'){_f++ ;return false;}return true;}return true;}while(true){if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}if(_setColInfoFromPPXLines_const_loop(this)){break;}}}};_pDataset._loadRecordFromPPXLines=function(_a,_b,_c){var _d=String.fromCharCode(31);var _e=this.colinfos;var _f=this._rawRecords;var _g=this._deletedRecords;var _h=_f.length;var _i=_g.length;var _j=_e.length;var _k=_a.length;if(_b<_k){function _loadRecordFromPPXLines_row_loop(){if(_b<_k){var _l=_a[_b];var _m=_l.charAt(0);if(_m=='n'||_m=='i'||_m=='u'||_m=='d'){var _n=new Array(_j);_n._rawidx=_h;_n._level=0;if(_m=='i'){_n._rtype=2;}else if(_m=='u'){_n._rtype=4;}else if(_m=='d'){_n._rtype=8;}else{_n._rtype=1;}}else if(_m=='o'){_b++ ;return false;}else{return true;}var _o=_l.split(_d);var _p=_o.length;var _q=1;for(var _r=0;_r<_p;_r++ ){if(_o[_r]==String.fromCharCode(3)){_o[_r]=undefined;}}function _loadRecordFromPPXLines_colvalue_loop(){if(_q<_p){var _s=_o[_q];var _t=_e[_s];if(_t){_n[_t._index]=_t._fromText(_o[_q+1]);}_q+=2;return false;}return true;}while(true){if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}}if(_n._rtype==8){_g[_i]=_n;_i++ ;}_f[_h]=_n;if(!_f._orgcolstrings){_f._orgcolstrings=[];}_f._orgcolstrings[_h]=_n;_h++ ;_b++ ;if(_c>0&&(_h-_i)==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}}}_e=null;_f=null;_g=null;return _b;};_pDataset._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t","\t\t\t\t\t\t\t"];_pDataset.__writeXMLData=function(_a,_b,_c){_a.push(this._TABS[_c]+_b);};_pDataset.__writeXMLNormalRow=function(_a,_b,_c,_d){this.__writeXMLData(_a,"<Row>",_c++ );this.__writeXMLRowData(_a,_b,_c,_d);this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLCrudRow=function(_a,_b,_c,_d){var _e="<Row";switch(_b._rtype){case 1:break;case 2:_e+=" type=\"insert\"";break;case 4:_e+=" type=\"update\"";break;case 8:_e+=" type=\"delete\"";break;}_e+=">";this.__writeXMLData(_a,_e,_c++ );this.__writeXMLRowData(_a,_b,_c);if(_b._rtype==4&&_b._orgrow){this.__writeXMLData(_a,"<OrgRow>",_c++ );this.__writeXMLRowData(_a,_b._orgrow,_c,_d);this.__writeXMLData(_a,"</OrgRow>", --_c);}this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLRowData=function(_a,_b,_c,_d){var _e=this.colinfos.length;var _f;var _g;var _h=0;function __writeColData_loop(_i){if(_h<_e){_f=_i.colinfos[_h].id;idx=_i.colinfos[_h]._index;if(_b._orgcolstrings&&!!_d){_g=_b._orgcolstrings[idx];}else{_g=_i.colinfos[_h]._toXMLText(_b[idx]);}if(_g!=null){if(_g.length==0){_i.__writeXMLData(_a,"<Col id=\""+_f+"\" />",_c);}else{_i.__writeXMLData(_a,"<Col id=\""+_f+"\">"+_g.toString()+"</Col>",_c);}}_h++ ;return false;}return true;}while(true){if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}}};_pDataset.__MakeDataConvertFunc=function(){var _a=this.colinfos;var _b=_a.length;var _c="(function () { return function (arr) { ";for(var _e=0;_e<_b;_e++ ){var _d=_a[_e];switch(_d.ntype){case 1:break;case 2:_c+="arr["+_e+"] = nexacro.DataUtils.toIntFromText(arr["+_e+"]); ";break;case 3:_c+="arr["+_e+"] = nexacro.DataUtils.toFloatFromText(arr["+_e+"]); ";break;case 4:_c+="arr["+_e+"] = nexacro.DataUtils.toDecimalFromText(arr["+_e+"]); ";break;case 5:_c+="arr["+_e+"] = nexacro.DataUtils.toDateFromText(arr["+_e+"]); ";break;case 6:_c+="arr["+_e+"] = nexacro.DataUtils.toTimeFromText(arr["+_e+"]); ";break;case 7:_c+="arr["+_e+"] = nexacro.DataUtils.toDateTimeFromText(arr["+_e+"]); ";break;case 8:_c+="arr["+_e+"] = nexacro.DataUtils.toBlobFromText(arr["+_e+"]); ";break;default:_c+="arr["+_e+"] = nexacro.DataUtils.toTextFromvariant(arr["+_e+"]); ";break;}}_c+="return arr; }; })();";return nexacro._executeEvalStr(_c);};_pDataset.__ssvMakeDataMappingFunc=function(_a){var _b=String.fromCharCode(31);var _c={};var _d=_a.split(_b);var _e=_d.length;for(var _m=1;_m<_e;_m++ ){var _f=_d[_m].split(":");var _g=_f[0];_c[_g]=_m-1;}var _h=this.colinfos;var _i=_h.length;var _j="(function () { return function (arr) { return [";for(var _m=0;_m<_i;_m++ ){var _k=_h[_m];var _l=_c[_k.id];if(_l!=null){switch(_k.ntype){case 1:_j+="arr["+_l+"]";break;case 2:_j+="nexacro.DataUtils.toIntFromText(arr["+_l+"])";break;case 3:_j+="nexacro.DataUtils.toFloatFromText(arr["+_l+"])";break;case 4:_j+="nexacro.DataUtils.toDecimalFromText(arr["+_l+"])";break;case 5:_j+="nexacro.DataUtils.toDateFromText(arr["+_l+"])";break;case 6:_j+="nexacro.DataUtils.toTimeFromText(arr["+_l+"])";break;case 7:_j+="nexacro.DataUtils.toDateTimeFromText(arr["+_l+"])";break;case 8:_j+="nexacro.DataUtils.toBlobFromText(arr["+_l+"])";break;default:_j+="nexacro.DataUtils.toTextFromvariant(arr["+_l+"])";break;}}if(_m!=(_i-1)){_j+=",";}}_c=null;_j+="]; }; })();";return nexacro._executeEvalStr(_j);};_pDataset.__ssvSetConstColInfo=function(_a){var _b=String.fromCharCode(31);var _c=_a.split(_b);var _d=_c.length;var _e=0;function __ssvSetConstColInfo_loop(_f){if(_e<_d){var _g=_c[_e].split("=");var _h=_g[0];if(_h&&_h!="_Const_"){var _i=_g[1];var _j=_h.split(":");var _k=_j[0];var _l=_j[1];if(_l){var _m=_l.indexOf("(");if(_m> -1){_l=_l.substring(0,_m);}}_f._addConstColumn(_k,_i,_l);}_e++ ;return false;}return true;}while(true){if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}}};_pDataset.__ssvSetColInfo=function(_a){var _b=String.fromCharCode(31);var _c=0;var _d=_a.split(_b);var _c=_d.length;var _e=0;function __ssvSetColInfo_loop(_f){if(_e<_c){var _g=_d[_e].split(":");var _h=_g[0];var _i,_j;if(_h&&_h!="_RowType_"){var _k=_g[1];if(_k){var _l=_k.indexOf("(");if(_l> -1){_i=_k.substring(0,_l).toUpperCase();_j=_k.substring(_l+1,_k.indexOf(")",_l+1))|0;}else{_i=_k;}}else{_i="STRING";_j=256;}_f._addColumn(_h,_i,_j,_g[2],_g[3]);}_e++ ;return false;}return true;}while(true){if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}}return _c;};_pDataset._loadFromSSVArray=function(_a,_b,_c,_d,_e,_f,_g){var _h=String.fromCharCode(31);this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _i=this._setColInfoFromSSVLines(_a,_e);if(!_i){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}_c=this._loadRecordFromSSVLines(_b,_c,_d,_i,_g);var _j=this._deletedRecords.length;if(_j){var _k=this._viewRecords=[];var _l=this._rawRecords;len=_l.length;var _m=_k.length;var _n=0;function _loadFromSSVArray_viewRecords_loop(){if(_n<len){var _o=_l[_n];if(_o._rtype!=8){_k[_m]=_o;_m++ ;}_n++ ;return false;}return true;}while(true){if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._getColLinesFromSSVLines=function(_a,_b){var _c=_a.length;var _d=_b;if(_d<_c&&_a[_d].substring(0,7)=="_Const_"){_d++ ;}if(_d<_c&&_a[_d].substring(0,9)=="_RowType_"){_d++ ;}return _a.slice(_b,_d);};_pDataset._setColInfoFromSSVLines=function(_a,_b){if(!_a||_a.length==0){return null;}var _c=null;var _d=_a.length;var _e=0;if(_b){while(_e<_d&&_a[_e].substring(0,9)!="_RowType_"){_e++ ;}if(_e>=_d){return null;}_c=this.__ssvMakeDataMappingFunc(_a[_e]);}else{if(_e<_d&&_a[_e].substring(0,7)=="_Const_"){this.__ssvSetConstColInfo(_a[_e]);_e++ ;}if(_e>_d){return null;}if(_e<_d&&_a[_e].substring(0,9)=="_RowType_"){this.__ssvSetColInfo(_a[_e]);_e++ ;}if(_e>_d){return null;}_c=this.__MakeDataConvertFunc();}return _c;};_pDataset._loadRecordFromSSVLines=function(_a,_b,_c,_d,_e){var _f=String.fromCharCode(31);var _g=String.fromCharCode(3);var _h=this._rawRecords;var _i=this._deletedRecords;var _j=_h.length;var _k=_i.length;var _l=_a.length;function _loadRecordFromSSVLines_loop(_m){if(_b<_l){var _n=_a[_b];if(_n==""){_b++ ;return true;}var _o=_n.split(_f);type=_o[0];_o.shift();for(var _r=0,_s=_o.length;_r<_s;_r++ ){if(_o[_r]==_g){_o[_r]=undefined;}}_o=_d(_o);_o._rawidx=_j;_o._level=0;if(_m){_o._rtype=1;_h[_j]=_o;}else{if(type==null){_o._rtype=1;}else{var _p=type.charAt(0);if(_p=='I'||_p=='i'){_o._rtype=2;}else if(_p=='U'||_p=='u'){_o._rtype=4;}else if(_p=='D'||_p=='d'){_o._rtype=8;}else{_o._rtype=1;}}if(_o._rtype==4){if(_b<(_l-1)&&(_a[_b+1].charAt(0)=='O'||_a[_b+1].charAt(0)=='o')){var _q=_a[_b+1].split(_f);_q.shift();_q=_d(_q);_o._orgrow=_q;}}else if(_o._rtype==8){_i[_k]=_o;_k++ ;}_h[_j]=_o;if(!_h._orgcolstrings){_h._orgcolstrings=[];}_h._orgcolstrings[_j]=_o;}_j++ ;_b++ ;if(_c>0&&(_j-_k)==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}}return _b;};_pDataset.__writeData=function(_a,_b){_a.push(_b);};_pDataset.__getRowTypeChar=function(_a){var _b=null;switch(_a){case 1:_b="N";break;case 2:_b="I";break;case 4:_b="U";break;case 8:_b="D";break;case  -1:_b="O";break;}return _b;};_pDataset.__writeSSVNormalRow=function(_a,_b){this.__writeSSVRowData(_a,"N",_b);};_pDataset.__writeSSVCrudRow=function(_a,_b){this.__writeSSVRowData(_a,this.__getRowTypeChar(_b._rtype),_b);if(_b._rtype==4&&_b._orgrow){this.__writeSSVRowData(_a,this.__getRowTypeChar( -1),_b._orgrow);}};_pDataset.__writeSSVRowData=function(_a,_b,_c){var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);this.__writeData(_a,_b+_e);var _f=this.colinfos.length;var _g=0;function __writeSSVColData_loop(_h){if(_g<_f){idx=_h.colinfos[_g]._index;var _i=_h.colinfos[_g]._toText(_c[idx]);if(_i===undefined){_i=String.fromCharCode(3);}if(_i!=null){if(_g==(_f-1)){_h.__writeData(_a,_i+_d);}else{_h.__writeData(_a,_i+_e);}}else{if(_g==(_f-1)){_h.__writeData(_a,_d);}else{_h.__writeData(_a,_e);}}_g++ ;return false;}return true;}while(true){if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}}};nexacro.__splitCSVRowData=function(_a,_b){var _c=_a.split(",");var _d=_c.length;var _e=0;function __splitCSVRowData_loop1(){if(_e<_d){var _f=_c[_e];var _g=_f.charAt(0);if(_g=="\""||_g=="\'"){while(_f.length>0&&(_f[_f.length-1]=="\r"||_f[_f.length-1]=="\n")){_f=_f.substring(0,_f.length-1);}while(_f.length>0&&_f[_f.length-1]!=_g){if(_e<=_d){_f+=","+_c.splice(_e+1,1);_d-- ;}else{break;}}_c[_e]=nexacro._unQuoteStr(_f);}_e++ ;return false;}return true;}while(true){if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}}return _c;};_pDataset.__csvMakeDataMappingFunc=function(_a,_b){var _c={};for(var _k=0;_k<_b;_k++ ){var _d=_a[_k].split(":");var _e=_d[0];_c[_e]=_k;}var _f=this.colinfos;var _g=_f.length;var _h="(function () { return function (arr) { return [";for(var _k=0;_k<_g;_k++ ){var _i=_f[_k];var _j=_c[_i.id];if(_j!=null){switch(_i.ntype){case 1:_h+="arr["+_j+"]";break;case 2:_h+="nexacro.DataUtils.toIntFromText(arr["+_j+"])";break;case 3:_h+="nexacro.DataUtils.toFloatFromText(arr["+_j+"])";break;case 4:_h+="nexacro.DataUtils.toDecimalFromText(arr["+_j+"])";break;case 5:_h+="nexacro.DataUtils.toDateFromText(arr["+_j+"])";break;case 6:_h+="nexacro.DataUtils.toTimeFromText(arr["+_j+"])";break;case 7:_h+="nexacro.DataUtils.toDateTimeFromText(arr["+_j+"])";break;case 8:_h+="nexacro.DataUtils.toBlobFromText(arr["+_j+"])";break;default:_h+="nexacro.DataUtils.toTextFromvariant(arr["+_j+"])";break;}}if(_k!=(_g-1)){_h+=",";}}_h+="]; }; })();";_c=null;return nexacro._executeEvalStr(_h);};_pDataset.__csvSetColInfo=function(_a){var _b=String.fromCharCode(31);var _c=_a.split(",");var _d=_c.length;var _e=0;function __csvSetColInfo_loop(_f){if(_e<_d){var _g=_c[_e].split(":");var _h=_g[0];var _i,_j;if(_h){var _k=_g[1];if(_k){var _l=_k.indexOf("(");if(_l> -1){_i=_k.substring(0,_l).toUpperCase();_j=_k.substring(_l+1,_k.indexOf(")",_l+1))|0;}else{_i=_k.toUpperCase();}}else{_i="STRING";_j=256;}_f._addColumn(_h,_i,_j,_g[2],_g[3]);}_e++ ;return false;}return true;}while(true){if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}}return _d;};_pDataset._loadFromCSVArray=function(_a,_b,_c,_d,_e,_f){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _g=this._setColInfoFromCSVLine(_a,_e);if(!_g){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}var _c=this._loadRecordFromCSVLines(_b,_c,_d,_g);var _h=this._deletedRecords.length;if(_h){var _i=this._viewRecords=[];var _j=this._rawRecords;len=_j.length;var _k=_i.length;var _l=0;function _loadFromCSVArray_delrow_loop(){if(_l<len){var _m=_j[_l];if(_m._rtype!=8){_i[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._setColInfoFromCSVLine=function(_a,_b){if(!_a||_a.length==0){return null;}var _c=null;if(_b){var _d=_a.split(",");csvColCnt=_d.length;_c=this.__csvMakeDataMappingFunc(_d,csvColCnt);}else{csvColCnt=this.__csvSetColInfo(_a);_c=this.__MakeDataConvertFunc();}return _c;};_pDataset._loadRecordFromCSVLines=function(_a,_b,_c,_d){var _e=this._rawRecords;var _f=this._deletedRecords;var _g=_e.length;var _h=_f.length;var _i=_a.length;function _loadRecordFromCSVLines_loop(){if(_b<_i){var _j=_a[_b];if(_j==""){_b++ ;return true;}var _k=nexacro.__splitCSVRowData(_j,csvColCnt);_k=_d(_k);_k._rawidx=_g;_k._level=0;_k._rtype=1;_e[_g]=_k;if(!_e._orgcolstrings){_e._orgcolstrings=[];}_e._orgcolstrings[_g]=_k;_g++ ;_b++ ;if(_c>0&&_g==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}}return _b;};_pDataset.__writeCSVCrudRow=function(_a,_b){this.__writeCSVRowData(_a,_b,this.__getRowTypeChar(_b._rtype));if(_b._rtype==4&&_b._orgrow){this.__writeCSVRowData(_a,_b._orgrow,this.__getRowTypeChar( -1));}};_pDataset.__writeCSVRowData=function(_a,_b,_c){var _d=this.colinfos.length;var _e=0;var _f="\r\n";var _g=",";if(_c){this.__writeData(_a,_c+_g);}function __writeCSVColData_loop(_h){if(_e<_d){var _i=_h.colinfos[_e];var _j=_i._index;var _k=_i._toText(_b[_j]);if(_k!=null){if(_i.ntype==1){if(_e==(_d-1)){_h.__writeData(_a,nexacro._quoteStr(_k)+_f);}else{_h.__writeData(_a,nexacro._quoteStr(_k)+_g);}}else{if(_e==(_d-1)){_h.__writeData(_a,_k+_f);}else{_h.__writeData(_a,_k+_g);}}}else{if(_e==(_d-1)){_h.__writeData(_a,_f);}else{_h.__writeData(_a,_g);}}_e++ ;return false;}return true;}while(true){if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}}};_pDataset._assignRowList=function(_a){var _b=_a.length;var _c=this._rawRecords.length;var _d=0;var _e=this._deletedRecords.length;var _f=this._viewRecords.length;var _g=this._rawRecords.length;var _h=0;function _assignRowList_loop(_i){if(_h<_b){var _j=_a[_h];var _k=_j._level;var _l=_j._rtype;if(_k==0){var _m=[];_m._level=_k;_m._rawidx=_c;_m._rtype=_l;var _n=_j.length;var _o=0;function _assignRowList_loop2(){if(_o<_n){_m[_o]=_j[_o];_o++ ;return false;}return true;}while(true){if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}}if(_j._orgrow){var _p=_j._orgrow;var _q=[];_q._level=_p._level;_q._rawidx=_c;_q._rtype=_p._rtype;var _n=_p.length;var _o=0;function _assignRowList_loop3(){if(_o<_n){_q[_o]=_p[_o];_o++ ;return false;}return true;}while(true){if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}}_m._orgrow=_q;}if(_l==8){_i._deletedRecords[_e]=_m;_e++ ;}if(_l==1||_l==2||_l==4){if(_i._rawRecords!=_i._viewRecords){_i._viewRecords[_f]=_m;_f++ ;}}else{if(_i._rawRecords==_i._viewRecords){_i._viewRecords=_i._rawRecords.slice(0,_i._rawRecords.length);_f=_i._viewRecords.length;}}_i._rawRecords[_g]=_m;_g++ ;_c++ ;_d++ ;}_h++ ;return false;}return true;}while(true){if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}}delete _e;delete _f;delete _g;return _d;};_pDataset._assign=function(_a){this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);this._assignRowList(_a._rawRecords);this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._isLike=function(_a,_b){var _c=_a;var _d=_b;if(_c instanceof nexacro.Decimal&&_d instanceof nexacro.Decimal){if(_c.isEqual(_d)){return true;}}else if(_c instanceof nexacro.Decimal){_c=_c.toString();}else if(_d instanceof nexacro.Decimal){_d=_d.toString();}if(_c==_d){if(_c===0){_c=_c+"";}if(_d===0){_d=_d+"";}if(_c==_d){return true;}}if(_a&&nexacro._isString(_b)){if(_b.length==0){return false;}if(!nexacro._isString(_a)){_a=_a+"";}if(_a.slice(0,_b.length)==_b){return true;}}return false;};_pDataset._findRow=function(_a,_b,_c,_d){var _e=this._viewRecords;var _f;var _g=_c;function _findRow_loop(_h){if(_g<_d){_f=_e[_g];if(_h._checkRowData(_f)){var _i=_f[_a];var _j=_b;if(_i instanceof nexacro.Decimal&&_j instanceof nexacro.Decimal){if(_i.isEqual(_j)){return true;}}else if(_i instanceof nexacro.Decimal){_i=_i.toString();}else if(_j instanceof nexacro.Decimal){_j=_j.toString();}if(_i==_j){if(_i===0){_i=_i+"";}if(_j===0){_j=_j+"";}if(_i==_j){return true;}}}_g++ ;return false;}return true;}while(true){if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}}return (_g<_d)?_g: -1;};_pDataset._findRowAs=function(_a,_b,_c,_d){var _e=this._viewRecords;var _f;var _g=_c;function _findRowAs_loop(_h){if(_g<_d){_f=_e[_g];if(_h._checkRowData(_f)){if(_h._isLike(_f[_a],_b)){return true;}}_g++ ;return false;}return true;}while(true){if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}}return (_g<_d)?_g: -1;};_pDataset._checkViewRowData=function(_a){return (_a._level==0);};_pDataset._checkRawRowData=function(_a){var _b=_a._level;var _c=_a._rtype;return ((_b==0)&&(_c==1||_c==2||_c==4));};_pDataset._getNotDelRec=function(){var _a=this._rawRecords.slice(0,this._rawRecords.length);var _b=_a.length-1;for(var _c=_b;_c> -1;_c-- ){if(_a[_c]._rtype==8){_a.splice(_c,1);}}return _a;};_pDataset._checkRowData=_pDataset._checkViewRowData;_pDataset._getCount=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g,_h;var _i=0;var _j=_a;function _getCount_loop(_k){if(_j<_b){if(_j==_f.length){return true;}_g=_f[_j];if(_k._checkRowData(_g)){if(_e==true){_h=_g[_d];if(_h){_i++ ;}}else{_i++ ;}}_j++ ;return false;}return true;}while(true){if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}}return _i;};_pDataset._getSum=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=0;var _i=_b;if(_e==1||_e==8){return 0;}if(_e!=4){function _getSum_loop(_j){if(_i<_c){_g=_f[_i];if(_g._rtype==16){_i++ ;return false;}var _k=_g[_a];if(!nexacro._isNumber(_k)){if(!_k){_k=0;}else{if(_e==3){_k=parseFloat(_k);}else{_k=parseInt(_k,10);}}}if(_j._checkRowData(_g)){_h+=( +_k);}_i++ ;return false;}return true;}while(true){if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}}}else{_h=new nexacro.Decimal;function _getSumDecimal_loop(_j){if(_i<_c){_g=_f[_i];if((_g[_a]!=null)&&(_g[_a]!="")&&(_g[_a]!=undefined)&&_j._checkRowData(_g)){var _k=nexacro.DataUtils.toDecimal(_g[_a]);_h.addDecimal(_k);}_i++ ;return false;}return true;}while(true){if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?0:_h;}return ( +_h)!=( +_h)?0:_h;};_pDataset._getMin=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=undefined,_i=undefined;var _j=_b;if(_e!=4){function _getMin_loop(_l){if(_j<_c){_g=_f[_j];if(_l._checkRowData(_g)){_i=_g[_a];if(_i!==""&&(_h===""||_h==null||_i<_h)){_h=_i;}}_j++ ;return false;}return true;}while(true){if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}}}else{var _k;function _getMinDecimal_loop(_l){if(_j<_c){_g=_f[_j];if(_l._checkRowData(_g)&&_g[_a]!=null){_k=_g[_a];if(_h===""||_h==null||_k.hi<_h.hi||(_k.hi==_h.hi&&_k.lo<_h.lo)){_h=_k;}}_j++ ;return false;}return true;}while(true){if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}else if(_e==1){return _h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset._getMax=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=undefined,_i=undefined;var _j=_b;if(_e!=4){function _getMax_loop(_k){if(_j<_c){_g=_f[_j];if(_k._checkRowData(_g)){_i=_g[_a];if(_i!==""&&(_h==null||_i>_h)){_h=_i;}}_j++ ;return false;}return true;}while(true){if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}}}else{function _getMaxDecimal_loop(_k){if(_j<_c){_g=_f[_j];if(_k._checkRowData(_g)&&_g[_a]!=null){var _l=_g[_a];if(_h==""||_h==null||_l.hi>_h.hi||(_l.hi==_h.hi&&_l.lo>_h.lo)){_h=_l;}}_j++ ;return false;}return true;}while(true){if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}else if(_e==1){return _h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset._getAvg=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=0;var _i=0;var _j=_b;if(_e!=4){function _getAvg_loop(_k){if(_j<_c){_g=_f[_j];if(nexacro._isNumber(_g[_a])&&_k._checkRowData(_g)){_h++ ;_i+=( +_g[_a]);}_j++ ;return false;}return true;}while(true){if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}}}else{_i=new nexacro.Decimal;function _getAvgDecimal_loop(_k){if(_j<_c){_g=_f[_j];if(_k._checkRowData(_g)){if((_g[_a] instanceof nexacro.Decimal)){_h++ ;_i.addDecimal(_g[_a]);}}_j++ ;return false;}return true;}while(true){if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}}}if(_h==0){return Infinity;}if(_i instanceof nexacro.Decimal){_i.divDouble(_h);}else{_i=_i/_h;}return _i;};_pDataset._getCaseSum=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return 0;}var _h=this._viewRecords;var _i;var _j=0;var _k=null;var _l=_c;if(_f!=4){function _getCaseSum_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){if((_i[_b]!=null)&&(_i[_b]!="")&&(_i[_b]!=undefined)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){_j+=( +_i[_b]);}}}_l++ ;return false;}return true;}while(true){if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}}}else{_j=new nexacro.Decimal;function _getCaseSumDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){if((_i[_b]!=null)&&(_i[_b]!="")&&(_i[_b]!=undefined)){if(_i[_b]!=null){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){_j.addDecimal(_i[_b]);}}}}_l++ ;return false;}return true;}while(true){if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?0:_j;}return ( +_j)!=( +_j)?0:_j;};_pDataset._getCaseMin=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=this._viewRecords;var _i;var _j=undefined;var _k=null;var _l=_c;if(_f!=4){function _getCaseMin_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_j==null||_i[_b]<_j){_j=_i[_b];}}}_l++ ;return false;}return true;}while(true){if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}}}else{function _getCaseMinDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_i[_b]!=null){var _n=_i[_b];if(_j==null||_n.hi<_j.hi||(_n.hi==_j.hi&&_n.lo<_j.lo)){_j=_n;}}}}_l++ ;return false;}return true;}while(true){if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}else if(_f==1){return _j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset._getCaseMax=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=this._viewRecords;var _i;var _j=undefined;var _k=null;var _l=_c;if(_f!=4){function _getCaseMax_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_j==null||_i[_b]>_j){_j=_i[_b];}}}_l++ ;return false;}return true;}while(true){if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}}}else{function _getCaseMaxDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_i[_b]!=null){var _n=_i[_b];if(_j==null||_n.hi>_j.hi||(_n.hi==_j.hi&&_n.lo>_j.lo)){_j=_n;}}}}_l++ ;return false;}return true;}while(true){if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}else if(_f==1){return _j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset._getCaseAvg=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return Number.NaN;}var _h=this._viewRecords;var _i;var _j=0;var _k=0;var _l;var _m=null;var _n=_c;if(_f!=4){function _getCaseAvg_loop(_o){if(_n<_d){_i=_h[_n];if(_o._checkRowData(_i)){_m=_g.call(_o,_n,_n,null,_o);if(_m===true){_j++ ;if(_i[_b]){_k+= +_i[_b];}}}_n++ ;return false;}return true;}while(true){if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}}}else{function _getCaseAvgDecimal_loop(_o){if(_n<_d){_i=_h[_n];if(_o._checkRowData(_i)){_m=_g.call(_o,_n,_n,null,_o);if(_m===true){_j++ ;if(_i[_b]){_l=_i[_b];if((_k instanceof nexacro.Decimal)==false){if((_l instanceof nexacro.Decimal)==false){_k+=( +_l);}else{_k=new nexacro.Decimal(_k);_k.addDecimal(_l);}}else{if((_l instanceof nexacro.Decimal)==false){_k.addDouble(_l);}else{_k.addDecimal(_l);}}}}}_n++ ;return false;}return true;}while(true){if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}}}if(_j==0){return Infinity;}if(_k instanceof nexacro.Decimal){_k.divDouble(_j);}else{_k=_k/_j;}return _k;};_pDataset._calcNFData=function(_a,_b,_c,_d){var _e=this._viewRecords;this._viewRecords=this._rawRecords;this._checkRowData=this._checkRawRowData;var _f="";if(_d===undefined){if(_c===undefined){_f=_a.call(this,_b);}else{_f=_a.call(this,_b,_c);}}else{_f=_a.call(this,_b,_c,_d);}this._checkRowData=this._checkViewRowData;this._viewRecords=_e;return _f;};_pDataset._findMaxLengthRow=function(_a,_b,_c){var _d=this._viewRecords;var _e;var _f=undefined;var _g= -1;var _h=_b;function _findMaxLengthRow_loop(_i){if(_h<_c){_e=_d[_h];if(_i._checkRowData(_e)){if(_e[_a]){var _j=_e[_a].toString().length;if(_f==null||_j>_f){_f=_j;_g=_h;}}}_h++ ;return false;}return true;}while(true){if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}}return _g;};delete _pDataset;nexacro.TransactionItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){nexacro.CommunicationItem.call(this,_a,"data",false,_i,_j);this.context=_b;this.svcid=_c;this.inDatasetsParam=_d;this.outDatasetsParam=_e;this.inputDatasets=this._parseDSParam(_d);this.outputDatasets=this._parseDSParam(_e);this.argsParam=_f;this.parameters=this._parseVarParam(_f);this.datatype=(!_g?0:_g);this._sendData=this._serializeData();this._usewaitcursor=_h&&application.usewaitcursor;this._remain_data=null;this._progress_data=null;this._progress_cnt=0;this._is_unknowntype_data=false;this._responseData=null;this._has_firstcount_dataset=this._hasFirstCountDs();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<8){this._check_responseXML=true;}else{this._check_responseXML=false;}var _l=nexacro._getLocalStorage("_cookie_variables",[]);if((!_l||_l.length==0)&&!this.parameters&&!this.inputDatasets){this._http_method="GET";}else{this._http_method="POST";}this._is_bulk=_k;};var _pTransactionItem=nexacro._createPrototype(nexacro.CommunicationItem,nexacro.TransactionItem);nexacro.TransactionItem.prototype=_pTransactionItem;_pTransactionItem._handle=null;_pTransactionItem.callbackList=[];_pTransactionItem.type="data";_pTransactionItem.bcache=false;_pTransactionItem._type_name="TransactionItem";_pTransactionItem.on_start=function(){if(this._usewaitcursor){this._showWaitCursor(this.context);}application._appendCommContext(this.context);application.on_fire_oncommunication(application,0);};_pTransactionItem.on_load_data=function(_a,_b,_c){var _d=null;var _e=null;var _f;var _g=this.bcache;var _h=null;this._addCookieToGlobalVariable(_b);if(_a&&_a._type_name=="DataCache"){_g=false;_f=_a._loadData(this);}else{if(_a&&this._protocol<0){_a=this.on_decrypt(_a);}if(this._progress_data){this.on_progress_data(_a,true);_f=this._progress_data._error_info;if(_g){var _i=null;_d=new nexacro.Collection();for(var _s in this._progress_data._datasets){if(this._progress_data._datasets[_s]._isEnable){_i=this._progress_data._datasets[_s]._target_ds;_d.add_item(_i.id,new nexacro._DataSetCache(_i.id,_i.colinfos,_i._constVars,_i._rawRecords));}}this._progress_data._datasets=null;_e=this._progress_data._parameters;}}else{_h=this._deserializeData(_a,0);if(_g){_e=_h[1];_d=_h[2];}_f=_h[0];}}if(!this._is_bulk){if(_g){var _j=nexacro._DataCacheList[this.path];if(!_j){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_e,_d,_c,this.version);}else{_j.parameters=_e;_j.datasets=_d;_j.last_modified=_c?_c:"";_j.version=this.version;}_j=null;}}_e=null;_d=null;_a=null;_h=null;var _k=0;var _l="SUCCESS";if(_f){_k=_f[0];_l=_f[1];_f=null;}if(this._usewaitcursor){this._hideWaitCursor(this.context);}application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);var _m=this.callbackList;var _n=_m.length;if(_n>0){var _o=this.context._load_manager;var _p=_o?_o.getDataItem(this.svcid):null;if(_p){_p._is_cancel=undefined;}_p=null;_o=null;for(var _t=0;_t<_n;_t++ ){var _q=_m[_t];var _r=_q.target;if(_r._is_alive!=false){if(this._is_unknowntype_data){_q.callback.call(_r,this.svcid,_k,_l,"comm_invalid_communication_format",499,this.path,this.path,nexacro.Communication_Error.INVALIDFORMAT,_a);}else{_q.callback.call(_r,this.svcid,_k,_l);}}_r=null;_q=null;}_m.splice(0,_n);}this._handle=null;};_pTransactionItem.on_load_xmldom=function(_a,_b,_c){this._addCookieToGlobalVariable(_b);var _d=this.__deserializeXML("",_a);var _e=0;var _f="SUCCESS";var _g=_d[0];if(this.bcache){var _h=nexacro._DataCacheList[this.path];if(!_h){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_d[1],_d[2],_c,this.version);}else{_h.parameters=_d[1];_h.datasets=_d[2];_h.last_modified=_c;_h.version=this.version;}}if(_g){_e=_g[0];_f=_g[1];}if(this._usewaitcursor){this._hideWaitCursor(this.context);}application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);var _i=this.callbackList;var _j=_i.length;if(_j>0){for(var _m=0;_m<_j;_m++ ){var _k=_i[_m];var _l=_k.target;if(_l._is_alive!=false){if(this._is_unknowntype_data){_k.callback.call(_l,this.svcid,_e,_f,"comm_invalid_communication_format",499,this.path,this.path,nexacro.Communication_Error.INVALIDFORMAT,_a);}else{_k.callback.call(_l,this.svcid,_e,_f);}}}_i.splice(0,_j);}this._handle=null;};_pTransactionItem.on_progress=nexacro._emptyFn;_pTransactionItem.on_progress_data=function(_a,_b){if(!this._progress_data){_a=nexacro.trimLeft(_a);var _c=this._getStreamType(_a);switch(_c){case "CSV":this._progress_data=new nexacro._ProgressDataCSV(this);break;case "SSV":this._progress_data=new nexacro._ProgressDataSSV(this);break;case "PPX":this._progress_data=new nexacro._ProgressDataPPX(this);break;case "XML":this._progress_data=new nexacro._ProgressDataXML(this);break;case "UNKNOWN":this._is_unknowntype_data=true;return;default:return;}}this._progress_data._on_progress(_a,_b);};_pTransactionItem.on_error=function(_a,_b,_c,_d,_e){var _f=this.callbackList;var _g=_f.length;var _h=false;if(this._usewaitcursor){this._hideWaitCursor(this.context);}if(_g>0){for(var _n=0;_n<_g;_n++ ){var _i=_f[_n];var _j=_i.target;if(_j._is_alive!=false){_h=_i.callback.call(_j,this.svcid, -1,"FAILED",_b,_c,this.path,_d,_e);if(_h){if(this._usewaitcursor){this._showWaitCursor(this.context);}continue;}}}if(_h){return true;}}var _k=this.context._load_manager;var _l=_k?_k.getDataItem(this.svcid):null;var _m=_l?_l._handle:null;if(_l&&!_l._is_cancel){return;}_f.splice(0,_g);application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);this._handle=null;};_pTransactionItem._loadFromData=function(_a){var _b=this._deserializeData(_a,0);var _c=0;var _d="SUCCESS";var _e=this.bcache;errorinfo=_b[0];if(errorinfo){_c=errorinfo[0];_d=errorinfo[1];}if(_e){var _f=_b[1];var _g=_b[2];var _h=nexacro._DataCacheList[this.path];if(!_h){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_f,_g,last_modified,this.version);}else{_h.parameters=_f;_h.datasets=_g;_h.last_modified=last_modified?last_modified:"";_h.version=this.version;}}var _i=this.callbackList;var _j=_i.length;if(_j>0){for(var _m=0;_m<_j;_m++ ){var _k=_i[_m];var _l=_k.target;if(_l._is_alive!=false){_k.callback.call(_l,this.svcid,_c,_d);}}_i.splice(0,_j);}this._handle=null;};_pTransactionItem._showWaitCursor=function(_a){if(_a){_a._waitCursor(true,_a);if(application._refcommuni&&application._refcommuni>=0){application._refcommuni++ ;}else{application._refcommuni=0;}}};_pTransactionItem._hideWaitCursor=function(_a){if(_a){_a._waitCursor(false,_a);if(application._refcommuni>0){application._refcommuni-- ;}}};_pTransactionItem._parseDSParam=function(_a){if(!_a){return undefined;}var _b=[];var _c=/([a-zA-Z가-힣_$][a-zA-Z가-힣0-9_$]*)\s*=\s*([a-zA-Z가-힣_$][a-zA-Z가-힣0-9_$]*(?:\:[aAuUnN])?)/g;var _d=_a.match(_c);if(!_d||_d.length==0){return undefined;}var _e=_d.length;var _f=0;for(var _p=0;_p<_e;_p++ ){var _g=_d[_p].split("=");var _h=_g[0].trim();var _i=_g[1].trim();var _j=false;for(var _q=0;_q<_p;_q++ ){var _k=_d[_q].split("=");var _l=_k[0].trim();if(_h==_l){_j=true;}}if(_j){_p++ ;return false;}var _m="N";var _n=_i.indexOf(":");if(_n> -1){_m=_i.substring(_n+1);_i=_i.substring(0,_n);}var _o={lval:_h,rval:_i,saveType:_m};_b.push(_o);}return _b;};_pTransactionItem._parseVarParam=function(_a){if(!_a){return;}_a=_a.replace(/^\s*|\s*$/g,'');if(_a.length==0){return undefined;}var _b=[];var _c=/([a-zA-Z_][a-zA-Z0-9_]*)\s*="([^"]*)"|([a-zA-Z_][a-zA-Z0-9_]*)\s*='([^']*)'|([a-zA-Z_][a-zA-Z0-9_]*)\s*=([^ ]*)/g;var _d=_a.match(_c);var _e=_d.length;for(var _l=0;_l<_e;_l++ ){var _f=_d[_l].split("=");var _g=_f.length;var _h=_f[0].trim();var _i=_f[1].trim();for(var _m=2;_m<_g;_m++ ){_i=_i+"="+_f[_m].trim();}var _j="N";var _g=_i.length;if(_g>0){_i=nexacro.stripQuote(_i);}var _k={lval:_h,rval:_i,saveType:_j};_b.push(_k);}return _b;};_pTransactionItem._serializeData=function(){if(this.datatype==1){return this.__serializeBIN();}else if(this.datatype==2){return this.__serializeSSV();}else if(this.datatype==3){return this.__serializeCSV();}else{return this.__serializeXML();}};_pTransactionItem.__serializeCSV=function(){var _a="\r\n";var _b=",";var _c=0;var _d=[];var _e=nexacro._getLocalStorage("_cookie_variables",[]);var _f,_g,_h;var _i=0;_d.push("CSV:utf-8"+_a);var _j=0;var _k=0;var _l=this.parameters;if(_l){_j=_l.length;}if(_e){_k=_e.length;}if(_k>0){for(i=0;i<_k;i++ ){_f=_e[i];_g=application[_f];if(_g&&_g.length){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}if(_j>0){for(i=0;i<_j;i++ ){_f=_l[i].lval;_g=_l[i].rval;if(_g){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}var _m=this.inputDatasets;if(_m&&_m.length){var _n=_m.length;for(var _p=0;_p<_n;_p++ ){var _f=_m[_p].rval;var _h=this.context._getDatasetObject(_f);if(_h){_d.push(_h._saveCSV(_m[_p].lval,_m[_p].saveType));}}}var _o=_d.join("");return _o;};_pTransactionItem.__serializeXML=function(){var _a=0;var _b=[];var _c=nexacro._getLocalStorage("_cookie_variables",[]);this._writeData(_b,"<?xml version=\"1.0\" encoding=\"UTF-8\"?>",_a);this._writeData(_b,"<Root xmlns=\"http://www.nexacroplatform.com/platform/dataset\">",_a++ );var _d=0;var _e=0;var _f=this.parameters;if(_f){_d=_f.length;}if(_c){_e=_c.length;}if(_d>0||_e>0){this._writeData(_b,"<Parameters>",_a++ );if(_e){for(var _m=0;_m<_e;_m++ ){var _g=_c[_m];var _h=application[_g];if(_h&&_h.length){_h=nexacro._encodeXml(_h);this._writeData(_b,"<Parameter id=\""+_g+"\">"+_h+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_g+"\" />",_a);}}}if(_d>0){for(var _m=0;_m<_d;_m++ ){var _g=_f[_m].lval;var _h=_f[_m].rval;if(_h&&_h.length){_h=nexacro._encodeXml(_h);this._writeData(_b,"<Parameter id=\""+_g+"\">"+_h+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_g+"\" />",_a);}}}this._writeData(_b,"</Parameters>", --_a);}else{this._writeData(_b,"<Parameters />",_a);}var _i=this.inputDatasets;if(_i&&_i.length){var _j=_i.length;for(_m=0;_m<_j;_m++ ){var _g=_i[_m].rval;var _k=this.context._getDatasetObject(_g);if(_k){_b.push(_k._saveXML(_i[_m].lval,_i[_m].saveType,_a,false));}}}this._writeData(_b,"</Root>", --_a);var _l;if(_d==0&&_e==0&&(!_i||_i.length==0)){_l="";}else{_l=_b.join("\n");}return _l;};_pTransactionItem.__serializeSSV=function(){var _a=String.fromCharCode(30);var _b=String.fromCharCode(31);var _c=0;var _d=[];var _e=nexacro._getLocalStorage("_cookie_variables",[]);var _f,_g,_h;var _i=0;_d.push("SSV:utf-8"+_a);var _j=0;var _k=0;var _l=this.parameters;if(_l){_j=_l.length;}if(_e){_k=_e.length;}if(_k>0){for(i=0;i<_k;i++ ){_f=_e[i];_g=application[_f];if(_g&&_g.length){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}if(_j>0){for(i=0;i<_j;i++ ){_f=_l[i].lval;_g=_l[i].rval;if(_g){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}var _m=this.inputDatasets;if(_m&&_m.length){var _n=_m.length;for(var _p=0;_p<_n;_p++ ){var _f=_m[_p].rval;var _h=this.context._getDatasetObject(_f);if(_h){_d.push(_h.saveSSV(_m[_p].lval,_m[_p].saveType));}}}var _o=_d.join("");return _o;};_pTransactionItem.__serializeBIN=function(){var _a=this.__serializeSSV();if(_a){return nexacro._convertStreamSSVToBIN(_a);}return "";};_pTransactionItem._deserializeData=function(_a,_b){if(!_a){return [[ -1,"Stream Data is null!"],[],new nexacro.Collection()];}if(!this._is_bulk){_a=_a.trim();}var _c=_a.substring(0,3);if(_c=="SSV"){return this.__deserializeSSV(_a);}else if(_c=="CSV"){return this.__deserializeCSV(_a);}else if(_c=="PPX"){return this.__deserializePPX(_a);}else{return this.__deserializeXML(_a);}};_pTransactionItem._setParamter=function(_a,_b){var _c=this.context;if(application._existVariable(_a)){application.setVariable(_a,_b);}else{if(_a in _c){if(nexacro._isNull(_c[_a])||!nexacro._isObject(_c[_a])){_c[_a]=_b;}}}};_pTransactionItem._getDataset=function(_a){var _b=this.context;var _c=this.outputDatasets;if(_c&&_c.length){var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e.rval==_a){return _b._getDatasetObject(_e.lval);}}}};_pTransactionItem._hasFirstCountDs=function(){if(!this.outputDatasets){return false;}var _a=this.outputDatasets.length;var _b=this.context;for(var _e=0;_e<_a;_e++ ){var _c=this.outputDatasets[_e];var _d=_b._getDatasetObject(_c.lval);if(_d){if(_d.firefirstcount>0){return true;}}}return false;};_pTransactionItem.__deserializeXML=function(_a,_b){var _c=[];var _d=new nexacro.Collection();var _e=0;var _f="SUCCESS";if(_a.length>0&&!this._check_responseXML){var _g=_a.substr(0,10).toLowerCase();if(_g.indexOf("<?xml")<0){this._is_unknowntype_data=true;return [[ -1,"invalid nexacro communication format"],_c,_d];}return this.__deserializeXMLFromStr(_a);}if(!_b){if(_a.indexOf("&quot;")>=0){_a=nexacro._replaceAll(_a,"&quot;","\"");}if(_a.indexOf("&apos;")>=0){_a=nexacro._replaceAll(_a,"&apos;","\'");}_b=nexacro._parseXMLDocument(_a);}if(_b.parseError&&_b.parseError.errorCode!=0){this._is_unknowntype_data=true;_f="invalid nexacro communication format";_e= -1;}if(_e<= -1){return [[_e,_f],_c,_d];}var _h=this.context;var _i=[_e,_f];var _j=nexacro._getCommDataFromDom(_b,this);if(_j){var _k=_j[0];var _l=_k.length;for(var _r=0;_r<_l;_r++ ){if(_k[_r].id=="ErrorCode"){_i[0]=_k[_r].val;}else if(_k[_r].id=="ErrorMsg"){_i[1]=_k[_r].val;}if(this.bcache){_c[_c.length]=new nexacro._ParametersCache(_k[_r].id,_k[_r].val);}}if(this.bcache){var _m=_j[1];_l=_m.length;for(var _r=0;_r<_l;_r++ ){_d.add_item(_m[_r].id,new nexacro._DataSetCache(_m[_r].id,_m[_r].colinfos,_m[_r]._constVars,_m[_r]._rawRecords));}}}_b=null;if(_i[0]&&_i[0]<= -1){return [_i,_c,_d];}var _n=this.inputDatasets;if(_n&&_n.length){var _o=_n.length;for(var _r=0;_r<_o;_r++ ){var _p=_n[_r];var _q=_h._getDatasetObject(_p.rval);if(_q){_q.applyChange();}}}return [_i,_c,_d];};_pTransactionItem.__deserializeXMLFromStr=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _f=this.context;var _g=_a.indexOf("<Dataset ");var _h;if(_g> -1){_h=_a.substring(0,_g);}else{_h=_a;}var _i=0;var _j=nexacro._getXMLTagData(_h,_i,"<Parameters>","</Parameters>");if(_j){var _k=_j[0];_i=_j[3];var _l=0;var _m=nexacro._getXMLTagData2(_k,_l,"<Parameter ","</Parameter>");while(_m){_l=_m[3];var _n=_m[1];var _o=nexacro._getXMLAttributeID(_n);if(_o&&_o.length){var _p=_m[0];if(_o=="ErrorCode"){_d=parseInt(_p)|0;if(isFinite(_d)==false){_d= -1;}_p=_d;}else if(_o=="ErrorMsg"){_p=nexacro._decodeXml(_p);_e=_p;}else if(application._existVariable(_o)){_p=nexacro._decodeXml(_p);application.setVariable(_o,_p);}else{if(_o in _f){if(nexacro._isNull(_f[_o])||!nexacro._isObject(_f[_o])){_p=nexacro._decodeXml(_p);_f[_o]=_p;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_o,_p);}}_m=nexacro._getXMLTagData2(_k,_l,"<Parameter ","</Parameter>");}}if(_d<= -1){return [[_d,_e],_b,_c];}var _q=this.inputDatasets;if(_q&&_q.length){var _r=_q.length;for(var _aa=0;_aa<_r;_aa++ ){var _s=_q[_aa];var _t=_f._getDatasetObject(_s.rval);if(_t){_t.applyChange();}}}var _u={};var _v=this.outputDatasets;if(_v&&_v.length){var _w=_v.length;for(var _aa=0;_aa<_w;_aa++ ){var _s=_v[_aa];if(_u[_s.rval]==undefined){_u[_s.rval]=_s.lval;}}}if(_g>= -1){var _x=nexacro._getXMLTagData2(_a,_g,"<Dataset ","</Dataset>");while(_x){_g=_x[3];var _n=_x[1];var _y=nexacro._getXMLAttributeID(_n);if(_y&&_y.length){var _z=_u[_y];var _t=_f._getDatasetObject(_z);if(_t){_t.rowposition= -1;_t.loadFromXMLStr(_x[0]);if(this.bcache){_c[_z]=new nexacro._DataSetCache(_z,_t.colinfos,_t._constVars,_t._rawRecords);}}}_x=nexacro._getXMLTagData2(_a,_g,"<Dataset ","</Dataset>");}}_u=null;return [[_d,_e],_b,_c];};nexacro._getCommDataFromDom=function(_a,_b){var _c=[];var _d=_a.getElementsByTagName("Parameter");var _e=0;if(_d&&_d.length){var _f=_d.length;for(var _o=0;_o<_f;_o++ ){var _g=_d[_o];var _h=_g.getAttribute("id");if(_h&&_h.length){var _i=(_g.textContent||(_g.firstChild?_g.firstChild.nodeValue:""));if(_h=="ErrorCode"){_e=parseInt(_i)|0;if(isFinite(_e)==false){_e= -1;}_c.push({id:_h,val:_e});}else if(_h=="ErrorMsg"){_c.push({id:_h,val:_i});}else{_b._setParamter(_h,_i);}}}}if(_e<= -1){return [_c,null];}var _j=[];var _k=_a.getElementsByTagName("Dataset");if(_k&&_k.length){var _l=_k.length;for(var _o=0;_o<_l;_o++ ){var _m=_k[_o].getAttribute("id");if(_m&&_m.length){var _n=_b._getDataset(_m);if(!_n){_n=new nexacro.Dataset(_m);}if(_n){_n.rowposition= -1;_n.loadFromDOM(_k[_o]);_j.push(_n);}}}}return [_c,_j];};_pTransactionItem.__deserializePPX=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=0;var _g="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _h=this.context;var _i=_a.split(_d);var _j=_i.length;curIdx=1;var _k;var _l;for(;curIdx<_j;curIdx++ ){_k=_i[curIdx];_l=_k.charAt(0);if(_l=="P"){var _m=_k.split(_e);var _n=_m[1];var _o=_m[2];if(_o==String.fromCharCode(3)){_o=undefined;}if(_n=="ErrorCode"){_f=parseInt(_o)|0;if(isFinite(_f)==false){_f= -1;}_o=_f;}else if(_n=="ErrorMsg"){_g=_m[2];}else if(application._existVariable(_n)){application.setVariable(_n,_o);}else{if(_n in _h){if(nexacro._isNull(_h[_n])||!nexacro._isObject(_h[_n])){_h[_n]=_o;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_n,_o);}}else{break;}}if(_f<= -1){_i=null;_a=null;return [[_f,_g],_b,_c];}var _p=this.inputDatasets;if(_p&&_p.length){var _q=_p.length;for(var _z=0;_z<_q;_z++ ){var _r=_p[_z];var _s=_h._getDatasetObject(_r.rval);if(_s){_s.applyChange();}}}_p=null;var _t={};var _u=this.outputDatasets;if(_u&&_u.length){var _v=_u.length;for(var _z=0;_z<_v;_z++ ){var _r=_u[_z];if(_t[_r.rval]==undefined){_t[_r.rval]=_r.lval;}}}_u=null;function find_next_dataset_loop(){if(curIdx<_j){_k=_i[curIdx];if(_k.charAt(0)=="D"){return true;}curIdx++ ;return false;}return true;}while(curIdx<_j){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(curIdx<_j){var _w=_k.split(_e);var _x=_w[1];if(_x&&_x.length){var _y=_t[_x];var _s=_h._getDatasetObject(_y);if(_s){_s.rowposition= -1;curIdx=_s.loadFromPPXArray(_i,_j,curIdx,true);if(this.bcache){_c.add_item(_y,new nexacro._DataSetCache(_y,_s.colinfos,_s._constVars,_s._rawRecords));}}else{curIdx++ ;}_s=null;}else{curIdx++ ;}}}_i=null;_a=null;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeSSV=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=0;var _g="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _h=this.context;var _i=_a.split(_d);var _j=_i.length;var _k=0;_k++ ;var _l;for(;_k<_j;_k++ ){_l=_i[_k];if(_l.substring(0,7)!="Dataset"){var _m=_l.split(_e);var _n=_m.length;for(var _ac=0;_ac<_n;_ac++ ){var _o=_m[_ac];var _p=_o;var _q=undefined;var _r=_o.indexOf("=");if(_r>=0){_p=_o.substring(0,_r);_q=_o.substring(_r+1);if(_q==String.fromCharCode(3)){_q=undefined;}}if(_p){var _s=_p;var _r=_p.indexOf(":");if(_r>=0){_s=_p.substring(0,_r);}if(_s=="ErrorCode"){_f=parseInt(_q)|0;if(isFinite(_f)==false){_f= -1;}_q=_f;}else if(_s=="ErrorMsg"){_g=_q;}else if(application._existVariable(_s)){application.setVariable(_s,_q);}else{if(_s in _h){if(nexacro._isNull(_h[_s])||!nexacro._isObject(_h[_s])){_h[_s]=_q;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_s,_q);}}}}else{break;}}if(_f<= -1){return [[_f,_g],_b,_c];}var _t=this.inputDatasets;if(_t&&_t.length){var _u=_t.length;for(var _ac=0;_ac<_u;_ac++ ){var _v=_t[_ac];var _w=_h._getDatasetObject(_v.rval);if(_w){_w.applyChange();}}}var _x={};var _y=this.outputDatasets;if(_y&&_y.length){var _z=_y.length;for(var _ac=0;_ac<_z;_ac++ ){var _v=_y[_ac];if(_x[_v.rval]==undefined){_x[_v.rval]=_v.lval;}}}function find_next_dataset_loop(){if(_k<_j){_l=_i[_k];if(_l.substring(0,7)=="Dataset"){return true;}_k++ ;return false;}return true;}while(_k<_j){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(_k<_j){var _r=_l.indexOf(":");if(_r>=0){var _aa=_l.substring(_r+1);if(_aa&&_aa.length){var _ab=_x[_aa];var _w=_h._getDatasetObject(_ab);if(_w){_w.rowposition= -1;_k=_w.loadFromSSVArray(_i,_j,_k,true,this._is_bulk);if(this.bcache){_c.add_item(_ab,new nexacro._DataSetCache(_ab,_w.colinfos,_w._constVars,_w._rawRecords));}}else{_k++ ;}}else{_k++ ;}}else{_k++ ;}}}_x=null;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeCSV=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _f=this.context;var _g=_a.split(/\r\n|\n/);var _h=_g.length;var _i=0;_i++ ;var _j,_k,_l,_m,_n;var _o;for(;_i<_h;_i++ ){_o=_g[_i];if(_o.substring(0,7)!="Dataset"){var _p=_o.split(",");var _q=_p.length;for(var _ac=0;_ac<_q;_ac++ ){var _r=_p[_ac];if(_r.charAt(0)=="\""||_r.charAt(0)=="\'"){_r=_r.substring(1,_r.length-1);}var _k=_r;var _m=undefined;var _s=_r.indexOf("=");if(_s>=0){_k=_r.substring(0,_s);_m=_r.substring(_s+1);}if(_k){var _l=_k;var _s=_k.indexOf(":");if(_s>=0){_l=_k.substring(0,_s);}if(_l=="ErrorCode"){_d=parseInt(_m)|0;if(isFinite(_d)==false){_d= -1;}_m=_d;}else if(_l=="ErrorMsg"){_e=_m;}else if(application._existVariable(_l)){application.setVariable(_l,_m);}else{if(_l in _f){if(nexacro._isNull(_f[_l])||!nexacro._isObject(_f[_l])){_f[_l]=_m;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_l,_m);}}}}else{break;}}if(_d<= -1){return [[_d,_e],_b,_c];}var _t=this.inputDatasets;if(_t&&_t.length){var _u=_t.length;for(var _ac=0;_ac<_u;_ac++ ){var _v=_t[_ac];var _w=_f._getDatasetObject(_v.rval);if(_w){_w.applyChange();}}}var _x={};var _y=this.outputDatasets;if(_y&&_y.length){var _z=_y.length;for(var _ac=0;_ac<_z;_ac++ ){var _v=_y[_ac];if(_x[_v.rval]==undefined){_x[_v.rval]=_v.lval;}}}function find_next_dataset_loop(){if(_i<_h){_o=_g[_i];if(_o.substring(0,7)=="Dataset"){return true;}_i++ ;return false;}return true;}while(_i<_h){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(_i<_h){var _s=_o.indexOf(":");if(_s>=0){var _aa=_o.substring(_s+1);if(_aa&&_aa.length){var _ab=_x[_aa];var _w=_f._getDatasetObject(_ab);if(_w){_w.rowposition= -1;_i=_w.loadFromCSVArray(_g,_h,_i,true);if(this.bcache){_c.add_item(_ab,new nexacro._DataSetCache(_ab,_w.colinfos,_w._constVars,_w._rawRecords));}}else{_i++ ;}}else{_i++ ;}}else{_i++ ;}}}return [[_d,_e],_b,_c];};_pTransactionItem._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t"];_pTransactionItem._writeData=function(_a,_b,_c){_a[_a.length]=this._TABS[_c]+_b;};_pTransactionItem._dsUpdate=function(_a){if(_a){var _b;var _c=_a._viewRecords;var _d=_c.length;if(_a._deletedRecords.length>0){_c=_a._viewRecords=[];var _e=_a._rawRecords.length;for(_b=0;_b<_e;_b++ ){var _f=_a._rawRecords[_b];if(_f._rtype!=8){_c[_d]=_f;}}}_a.colcount=_a.colinfos.length;_a.rowcount=_a._viewRecords.length;_a.loadstatus=false;_a._eventstat=_a.enableevent;_a._reFilter();_a._resetSortGroup();}};_pTransactionItem._dsOnload=function(_a,_b){if(_a){if(_a._viewRecords.length>0){_a.rowposition=0;}if(_a._eventstat){if(_b){_a.on_fire_onload(0,"",_b);}else{_a.on_fire_onload(0,"",0);}}}};_pTransactionItem._getStreamType=function(_a){if(!_a){return null;}var _b=nexacro.trimLeft(_a);var _c=_b.slice(0,10).toUpperCase();if(_c.indexOf("CSV")==0){return "CSV";}else if(_c.indexOf("SSV")==0){return "SSV";}else if(_c.indexOf("PPX")==0){return "PPX";}else if(_c.indexOf("<?XML")==0){return "XML";}else if(_c.length==10){return "UNKNOWN";}return null;};delete _pTransactionItem;}if(!nexacro.EditBase){nexacro.EditClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.ClickEventInfo.call(this,_a,_b||"oneditclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.caretpos=(_c==null)?0:_c;};var _pEditClickEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.EditClickEventInfo);nexacro.EditClickEventInfo.prototype=_pEditClickEventInfo;_pEditClickEventInfo._type_name="EditClickEventInfo";delete _pEditClickEventInfo;_pEditClickEventInfo=null;nexacro.CanCharEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"cancharchange";this.fromobject=this.fromreferenceobject=_a;this.chartext=_c;this.posttext=_e;this.pretext=_d;};var _pCanCharEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CanCharEventInfo);nexacro.CanCharEventInfo.prototype=_pCanCharEventInfo;_pCanCharEventInfo._type_name="TextChangeEventInfo";_pCanCharEventInfo.set_chartext=function(_a){this.chartext=_a;};delete _pCanCharEventInfo;_pCanCharEventInfo=null;nexacro.TextChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"ontextchange";this.fromobject=this.fromreferenceobject=_a;this.chartext=_c;this.posttext=_e;this.pretext=_d;this.preimetext=_f;this.postimetext=_g;};var _pTextChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.TextChangeEventInfo);nexacro.TextChangeEventInfo.prototype=_pTextChangeEventInfo;_pTextChangeEventInfo._type_name="TextChangeEventInfo";_pTextChangeEventInfo.set_chartext=function(_a){this.chartext=_a;};delete _pTextChangeEventInfo;_pTextChangeEventInfo=null;nexacro.TextChangedEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"ontextchanged";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.posttext=_d;};var _pTextChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.TextChangedEventInfo);nexacro.TextChangedEventInfo.prototype=_pTextChangedEventInfo;_pTextChangedEventInfo._type_name="TextChangedEventInfo";delete _pTextChangedEventInfo;nexacro.EditBase=function(_a){if(_a){this.comp=_a;}this._init_eventhandler();this._init();};_pEditBase=nexacro.EditBase.prototype;_pEditBase._type_name="EditBase";_pEditBase._old_text="";_pEditBase._old_old_text="";_pEditBase._text="";_pEditBase._old_value=null;_pEditBase._old_old_value=null;_pEditBase._value=null;_pEditBase._focus_text="";_pEditBase._focus_value=null;_pEditBase._old_focus_text="";_pEditBase._old_focus_value=null;_pEditBase._strTab="\t";_pEditBase._set_old_prop=false;_pEditBase._deleted_char="";_pEditBase._is_on_killfocus=false;_pEditBase._is_apply_autoselect=false;_pEditBase._imefirsttxt="";_pEditBase._select_text="";_pEditBase._compositionstart_value="";_pEditBase._compositionend_value="";_pEditBase._bChangeFocusText=false;_pEditBase._bInsert=false;_pEditBase._is_insertkey=false;_pEditBase._is_cancel_event=false;_pEditBase._is_contextmenu=false;_pEditBase._is_mobile_drag=false;_pEditBase._mobile_elme_pos=0;_pEditBase._is_ios_paste_composition=false;_pEditBase._keycode=0;_pEditBase._charcode=0;_pEditBase._precharcode=0;_pEditBase._altkey=false;_pEditBase._ctrlkey=false;_pEditBase._shiftkey=false;_pEditBase._old_begin_pos=0;_pEditBase._old_end_pos=0;_pEditBase._begin_pos=0;_pEditBase._end_pos=0;_pEditBase._input_begin_pos=0;_pEditBase._accept_keyinput_event=true;_pEditBase._accept_focus_event=true;_pEditBase._accept_blur_event=true;_pEditBase._accept_select_event=true;_pEditBase._accept_cut_process=true;_pEditBase._accept_text_changed_status=0;_pEditBase._stat_mouse=null;_pEditBase._stat_focus=null;_pEditBase._stat_composition=null;_pEditBase._mouseflag=false;_pEditBase._is_undo=false;_pEditBase._undoStack=null;_pEditBase._textEventInfo=null;_pEditBase._set_timer_by_killfocus=false;_pEditBase._isPasteActionComplete=true;_pEditBase._on_input_mousedown=null;_pEditBase._on_input_mouseup=null;_pEditBase._on_input_mousemove=null;_pEditBase._on_input_touchstart=null;_pEditBase._on_input_touchmove=null;_pEditBase._on_input_touchend=null;_pEditBase._on_input_keydown=null;_pEditBase._on_input_keypress=null;_pEditBase._on_input_keyinput=null;_pEditBase._on_input_keyup=null;_pEditBase._on_input_focus=null;_pEditBase._on_input_blur=null;_pEditBase._on_input_copy=null;_pEditBase._on_input_cut=null;_pEditBase._on_input_paste=null;_pEditBase._on_input_compositionstart=null;_pEditBase._on_input_compositionend=null;_pEditBase._on_input_compositionupdate=null;_pEditBase._on_input_select=null;_pEditBase._on_input_selectionchange=null;_pEditBase._on_default_input_keyup=nexacro._emptyFn;_pEditBase._keyup_process_enter=nexacro._emptyFn;_pEditBase._focus_process=nexacro._emptyFn;_pEditBase._blur_process=nexacro._emptyFn;_pEditBase._mouseup_process=nexacro._emptyFn;_pEditBase._mousedown_process=nexacro._emptyFn;_pEditBase.onUpdateStyle=nexacro._emptyFn;_pEditBase.syncValue=nexacro._emptyFn;_pEditBase.insertTabChar=nexacro._emptyFn;_pEditBase.applyInputmode=nexacro._emptyFn;_pEditBase._changeFocusText=nexacro._emptyFn;_pEditBase._setLocale=nexacro._emptyFn;_pEditBase._init_eventhandler=function(){this._on_input_mousedown=this._on_default_input_mousedown;this._on_input_mouseup=this._on_default_input_mouseup;this._on_input_mousemove=this._on_default_input_mousemove;this._on_input_keydown=this._on_default_input_keydown;this._on_input_keypress=this._on_default_input_keypress;this._on_input_keyinput=this._on_default_input_keyinput;this._on_input_keyup=this._on_default_input_keyup;this._on_input_touchstart=this._on_default_input_touchstart;this._on_input_touchmove=this._on_default_input_touchmove;this._on_input_touchend=this._on_default_input_touchend;this._on_input_focus=this._on_default_input_focus;this._on_input_blur=this._on_default_input_blur;this._on_input_copy=this._on_default_input_copy;this._on_input_cut=this._on_default_input_cut;this._on_input_paste=this._on_default_input_paste;this._on_input_compositionstart=this._on_default_input_compositionstart;this._on_input_compositionend=this._on_default_input_compositionend;this._on_input_compositionupdate=this._on_default_input_compositionupdate;this._on_input_select=this._on_default_input_select;this._on_input_selectionchange=this._on_default_input_selectionchange;};_pEditBase._init=function(){this._old_text="";this._text="";this._old_value=null;this._value=null;this._focus_text="";this._focus_value=null;this._set_old_prop=false;this._old_begin_pos=0;this._old_end_pos=0;this._begin_pos=0;this._end_pos=0;this._input_begin_pos=0;this._accept_focus_event=true;this._accept_blur_event=true;this._set_timer_by_killfocus=false;if(!this._stat_mouse){this._stat_mouse=new nexacro.EditBase.Status("mouse");}else{this._stat_mouse.init();}if(!this._stat_focus){this._stat_focus=new nexacro.EditBase.Status("focus");}else{this._stat_focus.init();}if(!this._stat_composition){this._stat_composition=new nexacro.EditBase.CompositionStatus("composition");}else{this._stat_composition.init();}if(!this._undoStack){this._undoStack=new nexacro.EditBase.UndoStack(this.comp);}else{this._undoStack.init();}if(!this._textEventInfo){this._textEventInfo=new nexacro.EditBase.TextEventInfo(this.comp);}else{this._textEventInfo.init();}};_pEditBase._destroy=function(){this.comp=null;this._old_value=null;this._value=null;this._focus_value=null;this._stat_mouse=null;this._stat_focus=null;this._stat_composition=null;if(this._undoStack){this._undoStack._destroy();this._undoStack=null;}if(this._textEventInfo){this._textEventInfo._destroy();this._textEventInfo=null;}};_pEditBase._on_getAccessibilityAdditionalLabel=function(){var _a=this.comp;var _b=_a._input_element;if(_b&&_b._wantAccessibilityAdditionalLabel){if(!_b._wantAccessibilityAdditionalLabel()){return "";}if(_a.text!==undefined&&_a.value!==undefined){return _a.text;}}return "";};_pEditBase._on_getAccessibilityWholeLabel=function(){var _a=this.comp;var _b=_a._input_element;if(_b){if(_a.text!==undefined&&_a.value!==undefined){return _a.text;}}return "";};_pEditBase._set_input_begin_pos=function(_a){this._input_begin_pos=_a;};_pEditBase.setPosition=function(){var _a=this.comp;var _b=_a._input_element;var _c=_a._control_element;var _d=_a._client_width;var _e=_a._client_height;if(_b&&_b._handle){if(_d!=0&&_e!=0){var _f=nexacro._getCachedPaddingObj("0 1 0 1");var _g=_a.on_find_CurrentStyle_align(_a._pseudo);var _h=_a.on_find_CurrentStyle_padding(_a._pseudo);var _i=_g.valign;var _j=_g.halign;if(_i==""){_i=nexacro.Component._default_left_align.valign;}_b.setElementPosition(0,0);_c.setElementPadding(_h);_b.setElementPadding(_f);_b.setElementSize(_d,_e);_b.setElementAlignXY(_j,_i);}}};_pEditBase.setElementCaretPos=function(_a,_b,_c){if(_c&&_c._type=="date"){_a=0;_b=_c.getElementValue().length;}this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_a;this._end_pos=_b;if(!this._is_composition()&&!this.comp._input_element._is_ios_composition){this._set_input_begin_pos(_a);}if(_c){pos=_c.setElementSetSelect(_a,_b);}};if(nexacro.OS=="iOS"){var ver_arr=nexacro.OSVersion.split(".");var major_ver=ver_arr[0];if(major_ver<7){_pEditBase.getCompositionData=function(_a){var _b=_a.getElementValue();var _c=this._input_begin_pos;var _d=_b.length-this._imefirsttxt.length;var _e=_b.substr(_c,_d);return _e;};}else{_pEditBase.getCompositionData=function(_a){var _b=_a.getElementCaretPos();if(!_b||_b== -1){return "";}var _c=_a.getElementValue();var _d=this._input_begin_pos;var _e=_b.begin-this._input_begin_pos;var _f=_c.substr(_d,_e);return _f;};}}else{_pEditBase.getCompositionData=function(_a){var _b=_a.getElementCaretPos();if(!_b||_b== -1){return "";}var _c=_a.getElementValue();var _d=this._input_begin_pos;var _e=_b.begin-this._input_begin_pos;var _f=_c.substr(_d,_e);return _f;};}_pEditBase.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}if(this._pasteAction||this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){var _e=_c.length-_d.length;_b=_c.substr(this._begin_pos,_e);}else if(this.getCompositionData(_a)){_b=this.getCompositionData(_a);}else{_b=this._stat_composition.getData(_a);}return _b;};_pEditBase.clearBuffer=function(_a,_b,_c){if(_a===null||_a===undefined){return;}var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);this._setText(_d);this._setValue(_d);this.setElementCaretPos(_b,_b);};_pEditBase.restoreBuffer=function(_a,_b,_c){if(_a===null||_a===undefined){return;}this._setText(_a);this._setValue(_a);this.setElementCaretPos(_b,_c);};_pEditBase.writeBuffer=function(_a){var _b=this._text;if(_b===undefined||_b===null){_b="";}_b=_b.replace(/\r\n/g,"\n");var _c=_a.getElementValue();_c=_c.replace(/\r\n/g,"\n");if(_a&&_c!=_b){_a.setElementValue(_b);}return _b;};_pEditBase.setValue=function(_a){var _b=this.comp._input_element;if(nexacro._isNull(_a)||_a===""){this._setText("");this._setValue(_a);this._undoStack.push(_a);if(_b){if(nexacro.Browser=="Runtime"){this.setElementCaretPos(0,0,_b);}else{this.setElementCaretPos(0,0);}}}else{this._setText(_a);this._setValue(_a);this._undoStack.push(_a,_a,this._begin_pos,this._end_pos);}if(_b){if(nexacro.OS=="iOS"&&_b){if(!this.comp.password){_b.setElementInputType("text",true);_b.setElementInputTypeKeypad(this.comp.inputtype);}}_b.setElementValue(_a,true);}};_pEditBase._on_default_input_mousedown=function(_a,_b,_c,_d){this._old_text=this._text;this._old_value=this._value;var _e=this._stat_mouse.getCurrentStatus();if(_e=="mousedown"){this._is_apply_autoselect=false;}this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseDown);this._mousedown_process(_a);if(_c&&!this._is_selected()){this.comp.setSelect();}};_pEditBase._on_default_input_mousemove=function(_a){if(this._text==_a.getElementValue()&&!this._block_setcaret_mousemove){this._setCaret(_a);}};_pEditBase._on_default_input_mouseup=function(_a,_b,_c,_d){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);this._mouseup_process(_a);if(this._is_apply_autoselect){this._is_apply_autoselect=false;_a._event_stop=true;}if(_a.readonly){_a._deleteCaret();}};_pEditBase._on_default_input_touchstart=function(_a){this._old_text=this._text;this._old_value=this._value;this._mousedown_process(_a);};_pEditBase._on_default_input_touchmove=function(_a){};_pEditBase._on_default_input_touchend=function(_a){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);this._setCaret(_a);if(_a.readonly){_a._deleteCaret();}};_pEditBase._on_default_input_select=function(_a){if(this._accept_select_event===false){this._accept_select_event=true;if(nexacro.Browser=="Chrome"||nexacro.Browser=="Gecko"){var _b=_a.getElementCaretPos();if(!(_b.begin==this._begin_pos&&_b.end==this._end_pos)){this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else if(_b.begin==_b.end){this._select_text="";}}return;}if(nexacro.Browser!="Edge"){this._setCaret(_a);}if(this._text&&(this._begin_pos!=this._end_pos)){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}else{this._select_text="";}};_pEditBase._on_default_input_selectionchange=function(_a){if(_a&&_a._input_handle){if(!this._is_composition()&&!_a._is_ios_composition){var _b=_a._input_handle;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_b.selectionStart;this._end_pos=_b.selectionEnd;this._set_input_begin_pos(this._begin_pos);}}if(this._text&&(this._begin_pos!=this._end_pos)){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}};_pEditBase._on_default_input_focus=function(_a,_b){var _c=false;var _d=this._stat_mouse.getCurrentStatus();var _e=this._stat_focus.getCurrentStatus();if(_d==nexacro.EditBase.Status.MouseDown&&_e!=nexacro.EditBase.Status.Focus){_c=true;}if(this._accept_focus_event===false){this._accept_focus_event=true;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);if(!_c&&_a.readonly){_a._deleteCaret();}return;}this._focus_process(_a,_c);if(_e!=nexacro.EditBase.Status.Focus){if(!this.comp._activate_flag){this._setFocusValue();}}if(_c){if(nexacro.Browser!="Edge"&&nexacro.Browser!="IE"){_a._event_stop=true;}}if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.comp._activate_flag=false;if(((nexacro.Browser=="Runtime")||(nexacro.Browser!="Runtime"&&this._mouseflag&&mouse_stat=="mousedown"))&&_e!=nexacro.EditBase.Status.Focus&&this._stat_focus.getCurrentStatus()==nexacro.EditBase.Status.Focus){var _f=this.comp._getWindow();var _g=_f?_f._indexOfCurrentFocusPaths(this.comp):0;if(_g<0&&this.comp._is_subcontrol){_g=_f?_f._indexOfCurrentFocusPaths(this.comp.parent):0;}if(_g<0&&nexacro.Browser=="Runtime"&&!application._is_on_alert){this.comp._on_focus(true);}}};_pEditBase._on_default_input_blur=function(_a,_b){if((!this.comp._input_element.getRootWindowHandle())||(_b===_a._handle&&_a.password)){return true;}if(this._accept_blur_event===false){this._accept_blur_event=true;return false;}if(this._is_on_killfocus&&this._stat_mouse.getCurrentStatus()===nexacro.EditBase.Status.MouseDown){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);}this._blur_process(_a);this._stat_focus.setStatus(nexacro.EditBase.Status.Blur);return true;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10&&nexacro._getRealBrowserVersion()<=10){if(nexacro.OSVersion>=6.0){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==10){_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(this._is_cancel_event==true){return false;}if(this._is_selected()&&this._select_text==""){_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=this._text;var _f=this._value;if(!_e){_e="";}if(!_f){_f="";}if(!_a.usemultiline){_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");_f=_f.replace(/\r\n/g,"");_f=_f.replace(/\n/g,"");}if(_d==_e&&_d==_f&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=_d.length))){this._setCaret(_a);return false;}if(_d==_f&&this._is_composition()){return false;}if(!this._set_old_prop){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;}if(this._is_selected()&&!this._cutAction){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();this._set_old_prop=true;if(this._pasteAction){this._isPasteActionComplete=false;}return false;}if(this._keycode==nexacro.KeyCode_ImeInput&&(this._stat_composition.getCurrentStatus()!=nexacro.EditBase.Status.CompositionEnd)){var _g=this.getCompositionData(_a);var _h=_a.getElementCaretPos();if(!this._is_composition()){if(_g!="　"&&_g!=""){this._on_input_compositionstart(_g);}else{this.setElementCaretPos(this._old_begin_pos+1,this._old_begin_pos+1,_a);_a.setElementBlur();_a.setElementFocus();return false;}}else{if(this._is_hangul(_g)){if(_h.begin!=this._begin_pos){var _i=_g.substr(0,1);this._on_input_compositionend(_i);var _j=this._fire_text_event(_i);_g=this.getCompositionData(_a);if(_g.length>0){this._on_input_compositionstart(_g);}}else if(this._compositionend_value===_d){this._on_input_compositionend(_g);}else{this._on_input_compositionupdate(_g);}}else{this._on_input_compositionupdate(_g);}}}else if(this._is_composition()){var _g=this.getCompositionData(_a);if(!this._is_hangul(_g)){this._on_input_compositionupdate(_g);}else{this._on_input_compositionend(_g);}}var _i="";_i=this.getInsertText(_a);var _j=this._fire_text_event(_i);this._compositionend_value=_d;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._set_old_prop=false;this.onUpdateStyle(_c);return _j;};}else if(nexacro.BrowserVersion==9){_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=this._text;var _f=this._value;if(!_e){_e="";}if(!_f){_f="";}if(!_a.usemultiline){_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");_f=_f.replace(/\r\n/g,"");_f=_f.replace(/\n/g,"");}if(_d==_e&&_d==_f&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=_d.length))){this._setCaret(_a);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._keycode==nexacro.KeyCode_ImeInput){var _g=this.getCompositionData(_a);var _h=_a.getElementCaretPos();if(!this._is_composition()){if(_g!="　"){this._on_input_compositionstart(_g);}}else{if(this._is_hangul(_g)){if(_h.begin!=this._begin_pos){var _i=_g.substr(0,1);this._on_input_compositionend(_i);var _j=this._fire_text_event(_i);_g=this.getCompositionData(_a);if(_g.length>0){this._on_input_compositionstart(_g);}}else if(this._compositionend_value===_d){this._on_input_compositionend(_g);}else{this._on_input_compositionupdate(_g);}}else{this._on_input_compositionupdate(_g);}}}else if(this._is_composition()){var _g=this.getCompositionData(_a);if(!this._is_hangul(_g)){this._on_input_compositionupdate(_g);}}var _i=this.getInsertText(_a);var _j=this._fire_text_event(_i);this._compositionend_value=_d;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_c);return _j;};}else{_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=this._text;var _f=this._value;if(!_e){_e="";}if(!_f){_f="";}if(!_a.usemultiline){if(typeof (_e)=="string"){_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}if(typeof (_f)=="string"){_f=_f.replace(/\r\n/g,"");_f=_f.replace(/\n/g,"");}}if(_d==_e&&_d==_f&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=_d.length))){this._setCaret(_a);return false;}if(!this._set_old_prop){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;}if(this._is_selected()&&!this._cutAction){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();this._set_old_prop=true;return;}if(this._keycode==nexacro.KeyCode_ImeInput){var _g=this.getCompositionData(_a);var _h=_a.getElementCaretPos();if(!this._is_composition()){if(_g&&_g.charAt(_g.length-1)!="　"){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){this._on_input_compositionstart(_g);}}else{this._on_input_compositionend(_g);}}else{if(_g&&_g.length>0){if(this._is_hangul(_g)){if(_h.begin!=this._begin_pos){var _i=_g.substr(0,1);this._on_input_compositionend(_i);var _j=this._fire_text_event(_i);var _k=_g.substring(1,_g.length);if(_k.length>0){this._on_input_compositionstart(_k);}}else{this._on_input_compositionupdate(_g);}}else{this._on_input_compositionupdate(_g);}}else{}}}else if(this._is_composition()){var _g=this.getCompositionData(_a);if(!this._is_hangul(_g)){this._on_input_compositionupdate(_g);}}var _i=this.getInsertText(_a);var _j=this._fire_text_event(_i);this._compositionend_value=_d;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._set_old_prop=false;this.onUpdateStyle(_c);return _j;};}}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(!_d){_d="";}if(!_e){_e="";}if(!_a.usemultiline){_d=_d.replace(/\r\n/g,"");_d=_d.replace(/\n/g,"");_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}if(_c==_d&&_c==_e&&(_c==""||_c&&(_b.maxlength==0||_b.maxlength>=_c.length))){this._setCaret(_a);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._keycode==nexacro.KeyCode_ImeInput){var _f=this.getCompositionData(_a);if(!this._is_composition()){if(_f!="　"){this._on_input_compositionstart(_f);}}else{if(this._is_hangul(_f)){if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _g=_f.substr(0,1);this._compositionend_value=_c.substr(0,_c.length-1);this._on_input_compositionend(_g);var _h=this._fire_text_event(_g);_f=_f.substr(1,_f.length-1);if(_f.length>0){this._on_input_compositionstart(_f);}}else{this._on_input_compositionupdate(_f);}}else{this._on_input_compositionupdate(_f);}}}else if(this._is_composition()){var _f=this.getCompositionData(_a);if(!this._is_hangul(_f)){this._on_input_compositionupdate(_f);}}var _g=this.getInsertText(_a);var _h=this._fire_text_event(_g);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _h;};}}else if(nexacro.OS=="iOS"){var ver_arr=nexacro.OSVersion.split(".");var major_ver=ver_arr[0];var minor_ver=ver_arr[1];if(major_ver<7){_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(this._is_composition()&&this._imefirsttxt==_c&&(_c==""||_c&&(_b.maxlength==0||_b.maxlength>=_c.length))){return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._charcode>=12593&&this._charcode<=12643){if(!this._is_composition()){this._imefirsttxt=this._text;var _f=this.getCompositionData(_a);this._on_input_compositionstart(_f);}else{var _f=this.getCompositionData(_a);if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _g=_f.substr(0,1);var _h=_f.length-1;var _i=_c.substr(0,this._begin_pos);var _j=_c.substr(this._begin_pos+_h,_c.length-1);this._compositionend_value=_i+_j;this._on_input_compositionend(_g);var _k=this._fire_text_event(_g);_f=_f.substr(1,_f.length-1);if(_f.length>0){this._imefirsttxt=this._compositionend_value;this._on_input_compositionstart(_f);}}else{this._on_input_compositionupdate(_f);}}}else if(this._is_composition()){var _f=this.getCompositionData(_a);if(!this._is_hangul(_f)){this._on_input_compositionupdate(_f);}}var _g=this.getInsertText(_a);var _k=this._fire_text_event(_g);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _k;};}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e=this._text;var _f=this._value;if(this._is_composition()&&this._imefirsttxt==_c&&(_c==""||_c&&(_b.maxlength==0||_b.maxlength>=_c.length))){return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._charcode>=12593&&this._charcode<=12643){if(!this._is_composition()){this._imefirsttxt=this._text;this._set_input_begin_pos((!_d||_d== -1)?0:_d.begin-1);var _g=this.getCompositionData(_a);this._on_input_compositionstart(_g);}else{var _g=this.getCompositionData(_a);if(_g.length<=1){if(_g==""){return false;}}if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _h=_g.substr(0,1);var _i=_g.length-1;var _j=_c.substr(0,this._begin_pos);var _k=_c.substr(this._begin_pos+_i,_c.length-1);this._compositionend_value=_j+_k;this._on_input_compositionend(_h);var _l=this._fire_text_event(_h);_g=_g.substr(1,_g.length-1);if(_g.length>0){this._imefirsttxt=this._compositionend_value;this._on_input_compositionstart(_g);if(this._is_hangul(_g)){var _m=this._text.substr(0,this._begin_pos);var _n=this._text.substr(this._end_pos,this._text.length);var _o=_m+_g+_n;this._compositionstart_value=_g;this._setText(_o);_a.setElementValue(_o);_a.text=_m+_o;this.setElementCaretPos(this._begin_pos+1,this._begin_pos+1,_a);}}}else{this._on_input_compositionupdate(_g);}}}else if(this._is_composition()&&this._charcode==0&&((major_ver>=10&&minor_ver>=3)||major_ver>=11)){if(this.getCompositionData(_a)==""){this.setElementCaretPos(_d.end,_d.end,_a);this._old_begin_pos=_d.begin;this._old_end_pos=_d.begin;}var _g=this.getCompositionData(_a);if(_g!=this._stat_composition.getData()){_g=this._stat_composition.getData();this._input_begin_pos=this._begin_pos;this.setElementCaretPos(_d.end,_d.end);}this._on_input_compositionend(_g);if(this._filteredtext&&_b.displaynulltext!=""&&_d.begin!=_d.end&&this._text!=_c){_a.setElementValue(this._text);var _p=_d.begin+this._text.length-this._textEventInfo.prechareventtext.length;this.setElementCaretPos(_p,_p,_a);_a._is_ios_composition=false;return false;}_a._is_ios_composition=false;}else{var _g=this._stat_composition.getData(_a);if(this._is_composition()&&this._is_hangul(_g)&&this._keycode!=8){this._on_input_compositionend(_g);}if(this._is_composition()&&this._keycode!=8&&this._charcode==0&&!((major_ver>=10&&minor_ver>=3)||major_ver>=11)){if(this.getCompositionData(_a)==""){return false;}}if(!this._is_ios_paste_composition&&!this._pasteAction){if(this._filteredtext&&this._stat_composition.getPreviousStatus()==nexacro.EditBase.Status.CompositionUpdate&&!this._is_hangul(_g)&&_e!=_c){_a.setElementValue(this._text);this.setElementCaretPos(_d.end-_g.length,_d.end-_g.length,_a);return false;}if(!this._is_composition()&&!this._is_hangul(_g)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd){this._old_begin_pos=_d.end-_g.length;this._old_end_pos=_d.end-_g.length;}}}var _h=this.getInsertText(_a);if(this._is_ios_paste_composition){this._is_ios_paste_composition=false;_a.setElementValue(this._text);var _p=(this._text==this._textEventInfo.prechareventtext)?this._begin_pos-_h.length:this._begin_pos;var _q=this;nexacro.OnceCallbackTimer.callonce(_q.comp,function(){_q.setElementCaretPos(_p,_p,_a);});return false;}if(this._pasteAction&&this._stat_composition.getPreviousStatus()==nexacro.EditBase.Status.CompositionUpdate){var _r=this._stat_composition.getPreviousData();if(!this._is_hangul(_r)){this._accept_blur_event=false;this._accept_focus_event=false;_a.setElementBlur();_a.setElementFocus();this._accept_blur_event=true;this._accept_focus_event=true;_h=_r+_h;this.setElementCaretPos(_d.end,_d.end);this._input_begin_pos=_d.end-_h.length;this._is_ios_paste_composition=true;}}var _l=this._fire_text_event(_h);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _l;};}}else if(nexacro.Browser=="IE"&&(nexacro.BrowserVersion==11||(nexacro.BrowserType=="IE10"&&nexacro._getRealBrowserVersion()==11))){_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=_a.getElementCaretPos();var _f=this._text;var _g=this._value;if(!_f){_f="";}if(!_g){_g="";}if(!this._is_composition()&&_d==_f&&_d==_g&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=this.getLength(_a,_f)))){this._setCaret(_a);this.onUpdateStyle(_c);return false;}this._old_old_text=this._old_text;this._old_old_value=this._old_value;this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._check_backspace(_a)){this.restoreBuffer(_d,_e.begin,_e.end);}var _h=this.getInsertText(_a);var _i=_d.length-this._text.length;if(this._text.length==_d.length&&this._text!=_d){var _j=_d.substr(this._begin_pos,_e.begin-this._begin_pos);if(_j.length>0){var _k=_j;_j=this.applyInputmode(_j);if(_c.inputmode=="lower"){if(_j==_k.toLowerCase()){_j=_k;}}else if(_c.inputmode=="upper"){if(_j==_k.toUpperCase()){_j=_k;}}_j=this._apply_inputfilter(_j);_j=this._apply_inputtype(_j);if(_j==""){this._is_insertkey=true;_h=_k;}else{if(!this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._begin_pos+1);this.syncValue();}_h=_j;}}}if(this._bInsert){this._bInsert=false;}if(this._is_hangul(_h)&&_i>_h.length){var _l=_h.length;this._set_input_begin_pos(this._input_begin_pos-(_i-_l));if(this._input_begin_pos<0){this._set_input_begin_pos(0);this._text=this._old_text;this._old_text=this._old_old_text;this._old_value=this._old_old_value;this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();if(_i>1){_i-=1;}}_h=_d.substr(this._input_begin_pos,_i);}if(this._pasteAction&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&this._stat_composition.getPreviousStatus()==nexacro.EditBase.Status.CompositionUpdate){var _m=this._stat_composition.getData();if(!this._is_hangul(_m)){_h=this.getCompositionData(_a);}}var _n=this._fire_text_event(_h);if(!this._is_composition()){this._stat_composition.init();}this.onUpdateStyle(_c);return _n;};}else{_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=_a.getElementCaretPos();var _f=this._text;var _g=this._value;if(!_f){_f="";}if(!_g){_g="";}if(!this._is_composition()&&_d==_f&&_d==_g&&(_d==""||(_d&&(_c.maxlength==0||_c.maxlength>=this.getLength(_a,_f))))){this._setCaret(_a);this.onUpdateStyle(_c);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._check_backspace(_a)){this.restoreBuffer(_d,_e.begin,_e.end);}var _h=this.getInsertText(_a);if(nexacro.Browser=="Runtime"||nexacro.Browser=="Edge"){if(this._text.length==_d.length&&this._text!=_d){var _i=_d.substr(this._begin_pos,_e.begin-this._begin_pos);if(_i.length>0){var _j=_i;_i=this.applyInputmode(_i);if(_c.inputmode=="lower"){if(_i==_j.toLowerCase()){_i=_j;}}else if(_c.inputmode=="upper"){if(_i==_j.toUpperCase()){_i=_j;}}_i=this._apply_inputfilter(_i);_i=this._apply_inputtype(_i);if(_i==""){this._is_insertkey=true;_h=_j;}else{if(!this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._begin_pos+1);this.syncValue();}_h=_i;}}}}if(nexacro.OS=="Android"&&nexacro.Browser=="Chrome"){if(_c.maxlength>0&&this._select_text==""&&this._focus_value&&this._focus_value.length>=_c.maxlength){var _k=_d.substr(_e.end-1,_d.length-this._text.length);if(this._is_composition()){if(this._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionUpdate){var _l=this._stat_composition._curr_data;if(this._is_hangul(_l)){this._input_begin_pos=this._mobile_elme_pos=_e.begin;_h=_k;}else if(this._is_full_japaness(_l)||this._is_half_japaness(_l)){if(_e.begin!=this._begin_pos){_h=_k;this.setElementCaretPos(_e.begin,_e.begin);this._input_begin_pos=this._mobile_elme_pos=_e.begin;}}if(!this._is_hangul(_l)&&!this._is_half_japaness(_l)&&!this._is_full_japaness(_l)){var _m=window.navigator.appVersion.indexOf("LG");if(_m<0){_a.setElementValue(null);_a.setElementValue(this._text);this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);}_m=null;}if(!this._is_half_japaness(_l)&&!this._is_full_japaness(_l)){this._is_mobile_drag=true;}}}else{if(!this._pasteAction){this._input_begin_pos=this._mobile_elme_pos=_e.begin-1;this._is_mobile_drag=true;}}_k=null;}}if(nexacro.Browser=="Chrome"||nexacro.Browser=="Runtime"){if(this._is_composition()&&this._keycode==nexacro.KeyCode_ImeInput&&this._stat_composition.getPreviousStatus()==nexacro.EditBase.Status.CompositionUpdate){if(this._old_text==this._text&&this._old_text==_d){return false;}}}var _n=this._fire_text_event(_h);if(!this._is_composition()){this._stat_composition.init();}this.onUpdateStyle(_c);return _n;};}_pEditBase._on_input_keyinput_after=function(){if(this._isPasteActionComplete){this._pasteAction=false;this._cutAction=false;}};_pEditBase._on_default_input_copy=function(_a){};_pEditBase._on_default_input_cut=function(_a){this._cutAction=true;var _b=_a.getElementCaretPos();var _c=_a.getElementValue();if(!_b||_b== -1){this._undoStack.push(_c,_c,0,0);}else{this._begin_pos=_b.begin;this._end_pos=_b.end;this._undoStack.push(_c,_c,_b.begin,_b.end);}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._on_input_keyinput(_a);});}};_pEditBase._on_default_input_paste=function(_a){this._pasteAction=true;var _b=_a.getElementCaretPos();var _c=_a.getElementValue();if(!_b||_b== -1){this._undoStack.push(_c,_c,0,0);}else{this._undoStack.push(_c,_c,_b.begin,_b.end);}if(nexacro.OS=="iOS"){if(_a._is_ios_composition){_a._is_ios_composition=false;}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");this._set_input_begin_pos(_b.begin);}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){if(!(_d._ctrlkey&&_d._keycode==86)){_d.setElementCaretPos(_d._old_begin_pos,_d._old_begin_pos);}_d._pasteAction=true;_d._on_input_keyinput(_a);});}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_pEditBase._on_default_input_compositionstart=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();if(_a==""||this._is_hangul(_a)){if(this._compositionstart_value.length!=_c.length){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){var _d=_c.substr(this._input_begin_pos,1);this._on_default_input_compositionend(_d);}}}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pEditBase._on_default_input_compositionstart=function(_a){this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionstart=function(_a){if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.OS=="Android"){_pEditBase._on_default_input_compositionstart=function(_a){if(this._keycode==0){this._set_input_begin_pos(this.comp._input_element.getElementCaretPos().begin);}else{this._set_input_begin_pos(this._begin_pos);}this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else{_pEditBase._on_default_input_compositionstart=function(_a){this._set_input_begin_pos(this._begin_pos);this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}if(nexacro.Browser=="Edge"){_pEditBase._on_default_input_compositionupdate=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();if(_a==""||this._is_hangul(_a)){this._bInsert=true;if(this._compositionstart_value.length!=_c.length){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){this._on_default_input_compositionstart(_a);}}if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionStart){this._set_input_begin_pos(_d.end-_a.length);this._compositionstart_value=_c;}}if(this._isJapaneseReComposition()){var _e=_d.begin-_a.length;var _f=this._text.substr(0,_e);var _g=this._text.substr(this._old_begin_pos,this._text.length);var _h=_c.substr(0,_e);var _i=_c.substr(_d.begin,_c.length);if(_g!=_i){_g=_i;}if(_f==_h&&_g==_i){var _j=this._text.substr(_e,this._text.length-_g.length);if(_j!=_a){this._setValue(_h+_i);this._input_begin_pos=_d.begin-_a.length;}else{if(this._text==_c&&_d.begin!=this._input_begin_pos){this._input_begin_pos=_d.begin;}}}}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_pEditBase._on_default_input_compositionupdate=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();if(_a==""||this._is_hangul(_a)){this._bInsert=true;if(this._compositionstart_value.length!=_c.length){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){this._on_default_input_compositionstart(_a);}}if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionStart){this._input_begin_pos=_d.end-_a.length;this._compositionstart_value=_c;}}if(this._isJapaneseReComposition()){if(this._begin_pos==this._end_pos){this._input_begin_pos=_d.begin-_a.length;if(this.comp.maxlength>0){var _e=this._text.substr(0,this._input_begin_pos);var _f=this._text.substr(_d.begin,this._text.length);var _g=_e+_f;this._setValue(_g);_e=_f=_g=null;}}}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else if(nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionupdate=function(_a){if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else if(nexacro.Browser=="Gecko"){_pEditBase._on_default_input_compositionupdate=function(_a){this._precharcode=this._charcode;if(this._isJapaneseReComposition()){var _b=this.comp._input_element;var _c=_b.getElementCaretPos();this._input_begin_pos=_c.begin;this._begin_pos=_c.begin;_b=_c=null;}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else{_pEditBase._on_default_input_compositionupdate=function(_a){this._precharcode=this._charcode;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}if(nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&(nexacro.BrowserVersion==11||(nexacro.BrowserType=="IE10"&&nexacro._getRealBrowserVersion()==11)))){_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._bStatChangeOnly){return;}var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();var _e=this;var _f=_c.substr(0,this._input_begin_pos);var _g=_c.substr(this._input_begin_pos,1);var _h=_c.substr(_d.end,_c.length-_d.end);var _i=_f+_g+_h;if(_a==""||this._is_hangul(_a)){if(this._stat_mouse.getCurrentStatus()!=nexacro.EditBase.Status.MouseDown&&this._bInsert){this._accept_keyinput_event=false;}if(this._accept_keyinput_event){if(!this._is_on_killfocus){if(_g==""){_i=_c;}else{if(this._stat_composition._prev_data!=""&&this._stat_composition._curr_data==""){_i=_c;_g="";}}}this._fire_text_event(_g);if(this._textEventInfo.chartext!=_g){_i=_f+this._textEventInfo.chartext+_h;}this._text=_i;this._value=_i;return true;}else{this._accept_keyinput_event=true;}}};}else if(nexacro.Browser=="Chrome"&&nexacro.BrowserVersion>=53){_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._bStatChangeOnly){return;}var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();var _e=this;var _f=_c.substr(0,this._input_begin_pos);var _g=_c.substr(this._input_begin_pos,_a.length);var _h=_c.substr(_d.end,_c.length-_d.end);var _i=_f+_g+_h;if(this._accept_keyinput_event){this._fire_text_event(_g);return true;}else{this._accept_keyinput_event=true;}};}else if(nexacro.OS=="Mac OS"&&nexacro.Browser=="Safari"){var BrowserVersion=window.navigator.appVersion.split('Version/')[1];BrowserVersion=BrowserVersion.split(' ')[0];var major_ver=BrowserVersion.split('.');if(major_ver[0]>=10&&major_ver[1]>0||major_ver[0]>=11){_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._bStatChangeOnly){return;}var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();var _e=this;var _f=_c.substr(0,this._input_begin_pos);var _g=_c.substr(this._input_begin_pos,_a.length);var _h=_c.substr(_d.end,_c.length-_d.end);var _i=_f+_g+_h;if(this._accept_keyinput_event){this._fire_text_event(_g);return true;}else{this._accept_keyinput_event=true;}};}else{_pEditBase._on_default_input_compositionend=function(_a){this._precharcode=0;this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);};}BrowserVersion=major_ver=null;}else if(nexacro._isDesktop()&&nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionend=function(_a){this._precharcode=0;this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();this._stat_composition.init();}};}else{_pEditBase._on_default_input_compositionend=function(_a){this._precharcode=0;this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);};}_pEditBase._fire_text_event=function(_a){var _b=true;var _c=true;var _d=false;var _e=false;var _f=false;var _g=this.comp;var _h=_g._input_element;var _i=this._cutAction?this._old_text:this._text;var _j=this._value;var _k=_g.autoskip;var _l=this._textEventInfo;var _m=this._get_newText_from_text_event(_a);if(!_i){_i="";}var _n=this._input_begin_pos;var _o=_n+_a.length;var _p=_a;var _q=_a;if(this._is_insertkey){this._is_insertkey=false;_m=this._text;_o=this._end_pos;}var _r=_m.substr(0,_n);var _s=_m.substr(_o,_m.length-_o);var _t=this._stat_composition.getPreviousData();var _u=this._stat_composition.getData();var _v=_r+this._select_text+_s;_f=this._check_maxlength();this._initinfo_from_text_event(_a,_m,_n,_o);if(this._check_filterable(_a)){_a=this.applyInputmode(_a);_a=this._apply_inputfilter(_a);_a=this._apply_inputtype(_a);if(_p.length>0&&_a.length==0){_e=true;_a=this._select_text;}this._select_text="";if(!_e){_c=this._check_maxlength_from_text_event(_a);if(!_c){_a="";_m=_g.text;}else{_a=this._apply_maxlength_from_text_event(_a);if(_a!=_p){_d=true;}}}if(_c){this._accept_text_changed_status=0;}_m=_r+_a+_s;var _w=this.getLength(_h,_m,false,null,_g.lengthunit);if(_g.maxlength>0&&_w>_g.maxlength){_m=_m.substring(0,_g.maxlength);}}_b=this._after_filterprocess_from_text_event(_a,_m,_c,_d);if(this._is_composition()){_q="";}_l.setTextInfo(_q,_i,_b.newText,_t,_u,_v,_b.bInsert,_b.bCut);if(!_e){_b=_g._on_fire_textchangeEventSet(_l);if(_b.bTextchangeRet){if(_b.fireCancharEvent){if(_b.bCancahrchangeRet&&_b.bOncharRet){this._setValue(_l.posttext);this.syncValue();if(!this._is_undo){var _x=_n+_a.length;this._undoStack.push(this._value,this._value,_x,_x);}}else{if(this._is_hangul(_a)){this._cancel_event_char_from_text_event(_n,_n);}else{this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();_h.setElementValue(this._text);this.setElementCaretPos(_n,_n,_h);}return _b;}}if(_l.pretext!=_l.posttext||this._accept_text_changed_status==1){this._setText(_l.posttext);this.syncValue();if(_b.bChangeInputValue){_h.setElementValue(_l.posttext);}_g.on_fire_ontextchanged(_g,this._old_text,this._text);if(this._accept_text_changed_status==1){this._accept_text_changed_status=2;}}if(_f!=this._check_maxlength()&&_c&&!this._pasteAction&&this._is_hangul(_a)&&nexacro.Browser!="Runtime"){this._accept_text_changed_status=1;}if(_q!=_l.chartext){_n+=_l.chartext.length;_h.setElementValue(_l.posttext);this.setElementCaretPos(_n,_n,_h);}else{_n+=_a.length;this._after_eventset_fired_from_text_event(_n);}}else{this._cancel_event_textchange_from_text_event(_n,_o);}}if(!_b.bInsert){this._not_insert_from_text_event(_n,_o);}if(_b.bCut){this._cut_from_text_event(_n,_o);}if(_e){this._cancel_from_text_event(_m,_n,_o);}if(_k){this._autoskip_from_text_event(_p);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.OSVersion>=6.0){if(nexacro.SystemLang=="ja"){if(nexacro.BrowserVersion>=9){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);if(!this._is_selected()){this._select_text="";}};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;if(!this._is_on_killfocus){if(!this._set_timer_by_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();if(!this._is_on_killfocus){_d.setElementFocus();}this._accept_keyinput_event=false;}_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_c._text);_c._set_timer_by_killfocus=false;});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementFocus();_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_c._text);_c._set_timer_by_killfocus=false;});}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this;var _e=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_e.setElementBlur();_e.setElementFocus();_e.setElementValue(this._text);this.setElementCaretPos(_b,_b,_e);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_e.setElementValue(_d._text);_d._set_timer_by_killfocus=false;});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){if(!_a&&!this._is_composition()&&!this._is_undo){this._text=this._value;return {newText:this._value,bInsert:false,bCut:false};}return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;if(!this._is_on_killfocus){if(!this._set_timer_by_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;if(!((this._keycode==nexacro.Event.KEY_BACKSPACE||this._keycode==nexacro.Event.KEY_DELETE)&&this._text=="")){_d.setElementBlur();_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c._accept_focus_event=false;_c.setElementCaretPos(_a,_a,_d);});}}}else{this._set_timer_by_killfocus=true;var _e=this._text;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_e);_c._set_timer_by_killfocus=false;});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c._accept_focus_event=false;_c.setElementCaretPos(_a,_a,_d);});}else{this._set_timer_by_killfocus=true;var _e=this._text;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_e);_c._set_timer_by_killfocus=false;});}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this;var _e=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;_e.setElementBlur();_e.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._accept_focus_event=false;_d.setElementCaretPos(_b,_b,_e);});}else{this._set_timer_by_killfocus=true;var _f=this._text;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_e.setElementValue(_f);_d._set_timer_by_killfocus=false;});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}}else{if(nexacro.BrowserVersion>=9){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};if(nexacro.BrowserVersion==11){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_a;this._cancel_from_text_event(this._old_value,_a,_a);};}_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);if(!this._is_selected()){this._select_text="";}};if(nexacro.Browser=="Edge"){_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};}else{_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};}_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._text);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_d.setElementBlur();_d.setElementFocus();}if(this._pasteAction&&(nexacro.BrowserVersion==9||nexacro.BrowserVersion==10)){_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(_a,_a,_d);});}else{_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){this._is_cancel_event=true;var _d=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(nexacro.BrowserVersion==11){if(this._is_composition()){this._accept_keyinput_event=false;this._bStatChangeOnly=true;this._on_input_compositionend("");this._bStatChangeOnly=false;}}else{this._accept_keyinput_event=false;this._on_input_compositionend("");}this._accept_focus_event=false;this._accept_blur_event=false;if(nexacro.Browser!="Edge"){_d.setElementBlur();_d.setElementFocus();}_d.setElementValue(this._text);this.setElementCaretPos(_b,_b,_d);if(this._is_cancel_event==true){this._is_cancel_event=false;}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}}}else{if(nexacro.SystemLang=="ja"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=function(_a,_b,_c,_d){if(_a&&!this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd){this._value=_b.substr(0,_c)+_b.substr(_d,_b.length-_d);}};_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){if(!_a&&!this._is_composition()&&!this._is_undo){this._text=this._value;return {newText:this._value,bInsert:false,bCut:false};}return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){var _b=this.comp._input_element;if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_b);}};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._accept_blur_event=false;this._accept_focus_event=false;_c.setElementBlur();_c.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_c);}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();this._accept_blur_event=false;this._accept_focus_event=false;_c.setElementBlur();_c.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_c);}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();this._accept_blur_event=false;this._accept_focus_event=false;_d.setElementBlur();_d.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_b,_b,_d);}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=function(_a,_b,_c,_d){if(_a&&!this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd){this._value=_b.substr(0,_c)+_b.substr(_d,_b.length-_d);}};_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength2(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a);}};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);}else{var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_c.setElementValue(_d._text);});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);}else{var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_c.setElementValue(_d._text);});}};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_b.setElementBlur();_b.setElementFocus();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);}else{var _c=this;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_b.setElementValue(_c._text);});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){if(!(_a!=""&&!this._is_hangul(_a))){this._accept_keyinput_event=false;}this._apply_autoskip();}};}}}else if(nexacro.Browser=="Chrome"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(_a,_b,_c);};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);_c.setElementValue(this._text,true);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._text);this._setValue(this._value);this.syncValue();_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(_a);this._setValue(_a);this.syncValue();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else if(nexacro.Browser=="Gecko"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;this._cancel_from_text_event(this._old_value);};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){_a.setElementBlur();_a.setElementFocus();}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){_a.setElementBlur();_a.setElementFocus();}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){if(!this._accept_cut_process){this._accept_cut_process=true;return;}var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_cut_process=false;_b.setElementBlur();_b.setElementFocus();}if(this._old_begin_pos!=this._old_end_pos){this._accept_select_event=false;}_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}this._accept_cut_process=true;};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{if(nexacro.OS=="iOS"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){_c=this._compositionend_value;}return _c;};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};}_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};if(nexacro.Browser=="Safari"){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;this._accept_keyinput_event=false;_c.setElementBlur();_c.setElementValue("");_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_b,_c);};}else if(nexacro.Browser=="MobileSafari"){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._on_default_input_compositionend("");this.setElementCaretPos(0,0,_c);_c.setElementValue("",true);this._old_begin_pos=_a;this._old_end_pos=_b;this._begin_pos=_a;this._end_pos=_b;this._set_input_begin_pos(_a);var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_d._old_value=_e;_d._old_text=_e;_c.setElementValue(_e,true);_d.setElementCaretPos(_a,_b,_c);_d._compositionend_value=_c.getElementValue();});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;this._cancel_from_text_event(this._old_value);};}_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setInputElementCompositeClear();}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_a.setInputElementCompositeClear();}this._filteredtext=true;if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){_a.setElementValue(null);}_a.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_a.setInputElementCompositeClear();}this._filteredtext=true;this._setText(this._text);this._setValue(this._value);this.syncValue();if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){_a.setElementValue(null);}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_b.setInputElementCompositeClear();}this._filteredtext=true;this._setText(_a);this._setValue(_a);this.syncValue();if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"&&!this._pasteAction){_b.setElementValue(null);}_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};};_pEditBase._is_composition=function(){if(this._stat_composition){return (this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionStart||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate);}else{return false;}};_pEditBase._is_selected=function(){return this._begin_pos!=this._end_pos;};_pEditBase._is_cleared=function(_a){var _b=_a.getElementValue();if(_b==""&&_b!=this._text){return true;}return false;};_pEditBase._is_hangul=function(_a){var _b=new RegExp("[\\uac00-\\ud7af\\u3130-\\u318f\\u1100-\\u11ff]");if(_b.test(_a)){return true;}return false;};_pEditBase._check_filterable=function(_a){if(_a==null){return false;}if(this._is_hangul(_a)||!this._is_composition()){return true;}return false;};_pEditBase._set_enable=function(_a){if(this.comp&&this.comp._input_element){this.comp._input_element.setElementEnable(_a);}};_pEditBase._setText=function(_a){if(!nexacro._isNull(_a)){if(!(typeof _a=="string")){_a=nexacro._toString(_a);}_a=_a.replace(/\r\n/g,"\n");}else{_a="";}this._text=_a;};_pEditBase._setValue=function(_a){if(!nexacro._isNull(_a)){if(!(typeof _a=="string")){_a=nexacro._toString(_a);}}this._value=_a;};_pEditBase._getText=function(){return this._text;};_pEditBase._getValue=function(){return this._value;};_pEditBase._getFocusText=function(){return this._focus_text;};_pEditBase._getFocusValue=function(){return this._focus_value;};_pEditBase._setCaret=function(_a){var _b=_a.getElementCaretPos();if(_b&&_b!= -1){this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_b.begin;this._end_pos=_b.end;if(!this._is_composition()&&!_a._is_ios_composition){this._set_input_begin_pos(_b.begin);}}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditBase._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this._select_text=this._text;this.setElementCaretPos(0,_c.length,_a);this.onUpdateStyle(_b);}};}else if(nexacro.OS=="Android"){_pEditBase._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this;var _d=this._select_text=this._text;this._is_apply_autoselect=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(0,_d.length,_a);},0);}};}else{_pEditBase._apply_autoselect=function(_a,_b){var _c=this.comp;if(_c.autoselect){var _d=this._select_text=this._text;this._is_apply_autoselect=true;this.setElementCaretPos(0,_d.length,_a);}};}if(nexacro.Browser=="Edge"||nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"||nexacro.Browser=="IE"){_pEditBase._apply_autoskip=function(){var _a=this;nexacro.OnceCallbackTimer.callonce(_a.comp,function(){_a.comp.on_apply_autoskip();},0);};}else{_pEditBase._apply_autoskip=function(){var _a=this.comp;_a.on_apply_autoskip();};}_pEditBase.applyInputmode=function(_a){if(!_a){return _a;}var _b=this.comp.inputmode;if(_b){switch(_b.toLowerCase()){case "upper":_a=_a.toUpperCase();break;case "lower":_a=_a.toLowerCase();break;default:break;}}return _a;};_pEditBase._setFocusValue=function(){this._focus_text=this._text;this._focus_value=this._value;};_pEditBase._calcCaret=function(_a,_b,_c,_d){if(_a&&_a!= -1){var _e=_a.begin;var _f=_c.length;var _g=_d.length;if(_f>_g){var _h=_f-_g;var _i=_h%2?true:false;if(_b=="center"){if(_i){var _j=_e-_h;if(_j<0){_e=0;}else if(_j>=_g){_e=_g;}else{_e=_j+1;}}else{var _k=_h/2;var _j=_e-_k;if(_j<=0){_e=0;}else if(_j>=_g){_e=_g;}else{_e=_j;}}}else if(_b=="right"){if((_e-_h)<=0){_e=0;}else{_e-=_h;}}}else if(_f<_g){_e=_a.begin;}}else{var _e=0;}return {begin:_e,end:_e};};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){_pEditBase._apply_style=function(_a){var _b=this.comp;if(_b&&_b._is_created){var _c=(_a.width<=0)?false:true;var _d=_a.width;_a.setElementSize((_d>0)?_d=_d-1:_d,_a.height);nexacro.OnceCallbackTimer.callonce(this.comp,function(){_a.setElementSize(_c?_d+1:_d,_a.height);},0);}};}else{_pEditBase._apply_style=nexacro._emptyFn;}_pEditBase._apply_elementtype=function(_a){if(_a&&!_a.password){_a.setElementInputType(this.comp.inputtype);}};_pEditBase._check_backspace=function(_a){var _b=_a.getElementValue();if(_b.length==(this._text.length-1)){if(this._keycode==0){if(!this._cutAction&&!this._pasteAction&&!this._is_composition()){return true;}}}return false;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_pEditBase._isJapaneseReComposition=function(){var _a=this._stat_composition.getData();var _b=this._stat_composition.getCurrentStatus();if(!this._is_hangul(_a)&&_b==nexacro.EditBase.Status.CompositionStart&&_a!=""&&this._keycode==nexacro.KeyCode_ImeInput){_a=status=null;return true;}_a=status=null;return false;};}else if(nexacro.Browser=="Edge"){_pEditBase._isJapaneseReComposition=function(){var _a=this._stat_composition.getCurrentStatus();if(_a==nexacro.EditBase.Status.CompositionStart&&(this._old_begin_pos==this._old_end_pos)&&(this._begin_pos==this._end_pos)&&(this._input_begin_pos&&this._begin_pos)){_a=null;return true;}_a=null;return false;};}else if(nexacro.Browser=="Gecko"){_pEditBase._isJapaneseReComposition=function(){var _a=this._stat_composition.getData();var _b=this._stat_composition.getCurrentStatus();var _c=this.comp._input_element.getElementCaretPos();if(!this._is_hangul(_a)&&_b==nexacro.EditBase.Status.CompositionStart&&_a!=""&&(this._input_begin_pos==this._begin_pos)&&(this._begin_pos==this._end_pos)&&(this._begin_pos!=_c.begin)){_a=status=_c=null;return true;}_a=status=_c=null;return false;};}else{_pEditBase._isJapaneseReComposition=nexacro._emptyFn;}delete _pEditBase;_pEditBase=null;nexacro.EditNormal=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._pre_char="";this._typeRegex=undefined;this._typeRegex1=undefined;};_pEditNormal=nexacro._createPrototype(nexacro.EditBase,nexacro.EditNormal);nexacro.EditNormal.prototype=_pEditNormal;_pEditNormal._type_name="EditNormal";_pEditNormal._filterRegexMap={alpha:"a-zA-Z",comma:",",digit:"0-9",symbol:"!\"#$%&'()*\\/;:<=>?@\\[\\\\\\]\\^_`{|}~'\\\\\\u20a9",sign:"+\\-",space:" \t",dot:"."};_pEditNormal._typeRegexMap={alpha:"a-zA-Z",comma:",",digit:"0-9",dot:".",english:"a-zA-Z",symbol:"!\"#$%&+,.'()*\\-/;:<=>?@[\\\\\\]\\^_`{|}~'\\u20a9",number:"0-9\\-.,",numberandenglish:"0-9\\-.,\\a-zA-Z",sign:"+\\-",space:" \t",half:"\\uff61-\\uff9f\\uffe8-\\uffee\\!\"#$%&'()*+,\\-./;:<=>?@[\\\\\\]\\^_`{|}~'\\a-zA-Z\\0-9+",full:"\\uff01-\\uff60\\uffe0-\\uffe6"};_pEditNormal._destroy=function(){this._filterRegexMap=null;this._typeRegexMap=null;this._typeRegex=null;this._typeRegex1=null;nexacro.EditBase.prototype._destroy.call(this);};_pEditNormal.getWCharLen=function(_a){var _b=_a.charCodeAt(0);if(((_b&0xff80)==0)||_b==0x20a9){return 1;}else if((_b&0xff00)<0x0800){return 2;}else{return 3;}};_pEditNormal._is_english=function(_a){var _b=new RegExp("[\\u0041-\\u007a]");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_half_japaness=function(_a){var _b=new RegExp("[\\uff61-\\uff9f]");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_full_japaness=function(_a){var _b=new RegExp("[\\u3041-\\u30f6\\uff10-\\uff5a\\u3000]");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_dakuten=function(_a){var _b=new RegExp("\\uff9e");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_handakuten=function(_a){var _b=new RegExp("\\uff9f");if(_b.test(_a)){return true;}return false;};_pEditNormal.setInputfilter=function(_a){var _b=_a.split(",");var _c="";var _d=_b.length;for(var _f=0;_f<_d;_f++ ){var _e=this._filterRegexMap[_b[_f]];if(_e){_c+=_e;}}if(_c.length){this._filterRegex=new RegExp("["+_c+"]");}else{this._filterRegex=undefined;}};_pEditNormal.setInputType=function(_a){var _b=_a.split(/\s*,\s*/);var _c="";var _d=_b.length;for(var _g=0;_g<_d;_g++ ){var _e=this._typeRegexMap[_b[_g]];if(_e){_c+=_e;}}if(_c.length){this._typeRegex=new RegExp("["+_c+"]");if(_a.indexOf("full")!= -1){var _f=this._typeRegexMap["half"];this._typeRegex1=new RegExp("["+_f+"]");}}else{this._typeRegex=undefined;this._typeRegex1=undefined;}};_pEditNormal.syncValue=function(){var _a=this.comp;var _b=_a._input_element;_a.value=this._value;if(_a.password){_a.text=this._text.replace(/./gi,"*");if(_b){_b.setElementPassword(_a.password);}}else{_a.text=this._text;}};_pEditNormal.setSelectText=function(_a,_b){if(_b&&_b.length>0){var _c=this.comp;var _d=this._begin_pos!==undefined?this._begin_pos:0;var _e=this._end_pos!==undefined?this._end_pos:0;if(_d==_e){return "";}var _f=this._text;if(_c.maxlength&&!(( +_c.maxlength)!=( +_c.maxlength))){var _g=this.getLength(_a,_f);if(_c.maxlength<=_g){return "";}}var _h=_f.split("");var _g=[];var _i="";for(var _m=0,_n=_b.length;_m<_n;_m++ ){_i=_b.charAt(_m);if(this._filterRegex){if(this._filterRegex.test(_i)){continue;}}if(this._typeRegex){if(!this._typeRegex.test(_i)){if(_c.inputtype=="full"){if(this.getWCharLen(_i)==1||this._typeRegex1.test(_i)){continue;}}else{continue;}}if(_c.inputtype!="full"&&this.getWCharLen(_i)>1){continue;}}_g.push(_i);}var _j=_c.getSelectedText();var _k=_g.join("");if(_k.length>0){var _l=_f.substring(0,_d)+_k+_f.substr(_e);if(this._text!=_l){this._setText(_l);this.writeBuffer(_a);this._setValue(this._text);this.syncValue();this._begin_pos=_d;this._end_pos=_d+_k.length;_a.setElementSetSelect(this._begin_pos,this._end_pos);}return _j;}}return "";};_pEditNormal.applyInputmode=function(_a){if(!_a){return _a;}var _b=this.comp.inputmode;var _c="";var _d=0;var _e=_a.length;if(_b){switch(_b.toLowerCase()){case "upper":{for(_d=0;_d<_e;_d++ ){var _f=_a.charAt(_d);var _g=this.getWCharLen(_f);if(_g==1){_f=_f.toUpperCase();}_c+=_f;}}break;case "lower":{for(_d=0;_d<_e;_d++ ){var _f=_a.charAt(_d);var _g=this.getWCharLen(_f);if(_g==1){_f=_f.toLowerCase();}_c+=_f;}}break;default:{_c=_a;}break;}}return _c;};_pEditNormal.setLengthunit=function(_a){this._lengthunit=_a;};_pEditNormal.getLength=function(_a,_b,_c,_d,_e){if(_b===undefined){return 0;}if(_e===undefined){_e=this._lengthunit;}if(_c){if(_e=="utf8"){return this.utf8ByteCount(_a,_b,_c,_d);}else if(_e=="ascii"){return this.asciiByteCount(_a,_b,_c,_d);}else{var _f=this.comp;if(_d===undefined){_d=_f.maxlength;}var _g=_b;if(_d<_b.length){_g=_g.substring(0,_d);}return {"len":_b.length,"str":_g};}}else{if(_e=="utf8"){return this.utf8ByteCount(_a,_b);}else if(_e=="ascii"){return this.asciiByteCount(_a,_b);}else{return _b.length;}}};_pEditNormal.utf8Len=function(_a){if(_a>=0xD800&&_a<=0xDFFF){throw new Error("Illegal argument: "+_a);}if(_a<0){throw new Error("Illegal argument: "+_a);}if(_a<=0x7F){return 1;}if(_a<=0x7FF){return 2;}if(_a<=0xFFFF){return 3;}if(_a<=0x1FFFFF){return 4;}if(_a<=0x3FFFFFF){return 5;}if(_a<=0x7FFFFFFF){return 6;}throw new Error("Illegal argument: "+_a);};_pEditNormal.isHighSurrogate=function(_a){return _a>=0xD800&&_a<=0xDBFF;};_pEditNormal.isLowSurrogate=function(_a){return _a>=0xDC00&&_a<=0xDFFF;};_pEditNormal.toCodepoint=function(_a,_b){if(!this.isHighSurrogate(_a)){throw new Error("Illegal argument: "+_a);}if(!this.isLowSurrogate(_b)){throw new Error("Illegal argument: "+_b);}_a=(0x3FF&_a)<<10;var _c=_a|(0x3FF&_b);return _c+0x10000;};_pEditNormal.utf8ByteCount=function(_a,_b,_c,_d){if(_b===undefined){return 0;}var _e=0;if(_c){var _f=this.comp;if(_d===undefined){_d=_f.maxlength;}var _g=_b.length;for(var _k=0,_l=_b.length;_k<_l;_k++ ){var _h=_b.charCodeAt(_k);if(this.isHighSurrogate(_h)){var _i=_h;var _j=_b.charCodeAt( ++_k);_e+=this.utf8Len(this.toCodepoint(_i,_j));}else{_e+=this.utf8Len(_h);}if(_d==_e){_g=_k;break;}else if(_d<_e){_g=_k-1;break;}}return {"len":_e,"str":_b.substring(0,_g+1)};}for(var _k=0,_l=_b.length;_k<_l;_k++ ){var _h=_b.charCodeAt(_k);if(this.isHighSurrogate(_h)){var _i=_h;var _j=_b.charCodeAt( ++_k);_e+=this.utf8Len(this.toCodepoint(_i,_j));}else{_e+=this.utf8Len(_h);}}return _e;};_pEditNormal.asciiByteCount=function(_a,_b,_c,_d){if(_b===undefined){return 0;}var _e=0,_f;if(_c){var _g=this.comp;if(_d===undefined){_d=_g.maxlength;}var _h=_b.length;for(var _j=0,_k=_b.length;_j<_k;_j++ ){_f=_b.charCodeAt(_j);var _i=_b.substr(_j,1);if(_f>255&&!this._is_half_japaness(_i)){_e++ ;if(_d>=_e){_h=_j-1;}}_e++ ;if(_d>=_e){_h=_j;}}return {"len":_e,"str":_b.substring(0,_h+1)};}else{for(var _j=0,_k=_b.length;_j<_k;_j++ ){_f=_b.charCodeAt(_j);var _i=_b.substr(_j,1);if(_f>255&&!this._is_half_japaness(_i)){_e++ ;}_e++ ;}return _e;}};_pEditNormal.deleteChar=function(_a){var _b=this._text?this._text:"";var _c=this._begin_pos;var _d=this._end_pos;if(_a){if(_c==_d){if(nexacro.OS=="iOS"){var _e=_b.substr(_c-1<0?0:_c-1,1);if(this._is_dakuten(_e)||this._is_handakuten(_e)){var _f=_c-1;while(this._is_dakuten(_e)||this._is_handakuten(_e)){_f-- ;if(_f<0){break;}_e=_b.substr(_f<0?0:_f,1);}_c=_f;}else{_c-- ;}}else{_c-- ;}}}else{if(_c==_d){_d++ ;}}var _g=_b.substr(0,_c);var _h=_b.substr(_d,_b.length-_d);var _i=_g+_h;if(_b!=_i){this._setText(_i);if(nexacro.OS!="iOS"||(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"&&!this._is_composition())){this._setValue(_i);}this.setElementCaretPos(_c,_c);return true;}else{return false;}};_pEditNormal._on_default_input_keydown=function(_a,_b,_c,_d,_e){var _f=this.comp;if(!_f){return false;}var _g=_f.readonly;var _h=true;if(_g==true){this.onUpdateStyle(_f);if(_d&&_b==67||_d&&_b==65){return true;}return false;}if(this._check_maxlength()){this._setCaret(_a);}if(_b==nexacro.KeyCode_ImeInput){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.OSVersion<6.0&&!this._is_composition()){this._set_input_begin_pos(this._old_begin_pos);}}if(nexacro.Browser=="Edge"){if(this._is_composition()&&this._is_hangul(this.getCompositionData(_a))){if(this._stat_composition.getPreviousStatus()==nexacro.EditBase.Status.CompositionEnd){var _i=this.getCompositionData(_a);this._on_input_compositionend(_i);this._fire_text_event(_i);this._on_input_compositionstart(_i);}}}}else{if(this._is_composition()&&((_b==8&&(nexacro.Browser!="MobileSafari"||(nexacro.Browser=="MobileSafari"&&this._is_hangul(this.getCompositionData(_a)))))||_b==46||(nexacro.OS!="iOS"&&_b==32)||(_b>=33&&_b<=40))){if(this._is_hangul(this.getCompositionData(_a))){this._on_input_compositionend("");this._stat_composition.init();this._compositionend_value="";}}if(!_e){var _j=_a.getElementCaretPos();if(_j!= -1){if(_b==37){if(_j.begin>0){this._set_input_begin_pos(this._begin_pos=this._end_pos=_a.getElementCaretPos().begin-1);}}else if(_b==39){if(_j.begin<this._text.length){this._set_input_begin_pos(this._begin_pos=this._end_pos=_a.getElementCaretPos().begin+1);}}}}if(_b==9){if(this._is_composition()){var _i=this.getCompositionData(_a);this._on_input_compositionend(_i);this._fire_text_event(_i);}if(_f.acceptstab||(_d&&!_f.acceptstab)){this.insertTabChar(_a);this._on_input_keyinput(_a);_a._event_stop=true;return false;}}if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return false;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return false;}}if(_b==229){this._accept_select_event=false;}var _k=false;if(_b==9&&_f&&_f.acceptstab==false){_k=true;}this.onUpdateStyle(_f,_k);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;};_pEditNormal._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=_c||_b;var _h=true;var _i;var _j=false;var _k=false;var _l=false;var _m=this.comp;var _n=_a.getElementValue();var _o=this._text?this._text:"";var _p=this._textEventInfo;var _q=this._input_begin_pos;var _r=this._end_pos;var _s=_q;this._charcode=_c;if(!_m){return false;}if(_a.readonly){if(_g==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}var _t=false;if((nexacro.OS=="iOS"||nexacro.Browser=="Edge")&&(_g==nexacro.Event.KEY_ENTER)){var _u=this._begin_pos-1>=0?this._begin_pos-1:0;var _v="";if(_o!=_a.text){_v=_o.substr(_u,1);}if(this._is_hangul(_v)&&this._begin_pos>0){_t=true;}}if(_g==nexacro.Event.KEY_BACKSPACE||(_g==nexacro.Event.KEY_DELETE&&_g==this._keycode)||(nexacro.Browser=="MobileSafari"&&_g==127)){var _w=this.deleteChar(_g==8?true:false);this._select_text="";_p.setTextInfo("",_o,this._text,"","",_o);_s=this._begin_pos;_j=_w;}else if(_g!=nexacro.KeyCode_ImeInput&&(_g!=nexacro.Event.KEY_ENTER||_t)&&_c!=0){if(_a.password&&_a.maxlength>0||_t){var _x=String.fromCharCode(_g);if(_t){_x=_v;}var _y=_x;_x=this.applyInputmode(_x);_x=this._apply_inputfilter(_x);_x=this._apply_inputtype(_x);if(_y!=_x&&_x.length==0){_j=false;}else{if(_t){var _z=_o.substr(0,_u);var _aa=_o.substr(this._end_pos,_o.length-this._end_pos);var _ab=_z+_v+_aa;_p.setTextInfo(_v,_o,_ab,"","",_o);_s=_u;_j=true;this._compositionend_value=_ab;this._on_input_compositionend(_v);if(nexacro.Browser=="MobileSafari"){}}else{var _z=_o.substr(0,_q);var _aa=_o.substr(_r,_o.length-_r);var _ab=_z+_x+_aa;_p.setTextInfo("",_o,_ab,"","",_o);_s=_q+_p.chartext.length;if(_ab.length>_a.maxlength){_l=true;}_j=true;if(nexacro.Browser=="MobileSafari"){this._accept_keyinput_event=false;}}}}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&_b==27){if(_n!=_o){_p.setTextInfo("",_o,_n,"","",_o);_j=true;}}}if(_j){_i=_m.on_fire_ontextchange(_p);var _ac=false;if(_i){if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){var _ad=this._stat_composition.getCurrentStatus();if(_g==8&&_ad!=nexacro.EditBase.Status.CompositionEnd&&_ad!="none"){_i=false;_ac=true;}}if(_i){_i=_m.on_fire_cancharchange(_m,_p.chartext,_p.pretext,_p.posttext);}if(_i||!_i&&_ac){if(_i){if((nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari")||nexacro.Browser=="Edge"){var _ae=new nexacro.TextChangeEventInfo(_m,"onchar",_p.chartext,_p.prechareventtext,_p.posttext);_i=_m.on_fire_onchar(_p,_ae);if(_i&&_p.chartext!=_ae.chartext){_p.chartext=_ae.chartext;if(nexacro.Browser=="Edge"){var _z=_p.pretext.substr(0,this._input_begin_pos-1);}else{var _z=_p.pretext.substr(0,this._input_begin_pos);}var _aa=_p.pretext.substr(_r,_p.pretext.length-_r);_p.posttext=_z+_ae.chartext+_aa;this._setText(_p.posttext);_a.setElementValue(_p.posttext);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}}else{_i=_m.on_fire_onchar(_p,_ae);}}if(_i||!_i&&_ac){if(_l){_i=false;}else if(_p.pretext!=_p.posttext){if(nexacro.OS!="iOS"||(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"&&!this._is_composition())){this._setText(_p.posttext);this._setValue(_p.posttext);this.setElementCaretPos(this._begin_pos,this._begin_pos);this.syncValue();}if(!this._is_undo){this._undoStack.push(this._value,this._text,_s,_s);}_m._textchanging=true;_m.on_fire_ontextchanged(_m,_p.pretext,_p.posttext);_m._textchanging=false;}else{if(_t){this._setText(_p.posttext);this._setValue(_p.posttext);this.setElementCaretPos(this._begin_pos,this._begin_pos);this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,_s,_s);}_m._textchanging=true;_m.on_fire_ontextchanged(_m,_p.pretext,_p.posttext);_m._textchanging=false;}else{_h=false;_k=true;}}}}}if(!_i&&!_ac){_h=false;_k=true;this._setText(_o);this._setValue(_o);this.syncValue();this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}}if(_a.password&&_a.maxlength>0&&_m.autoskip){this._autoskip_from_text_event(_x);}_ac=null;}else if((nexacro.OS=="iOS"&&((this.comp.inputtype=="number"&&!(_b==nexacro.Event.KEY_ENTER))||(_c>=12593&&_c<=12643)))||_b==nexacro.Event.KEY_SPACE){_k=this._check_keypressPrevent(_b);if(_k){_h=false;}}if(_k){_a._event_stop=true;}this.onUpdateStyle(this.comp);return _h;};_pEditNormal._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;var _g=_b;var _h=this._val;var _i=_a.getElementCaretPos();this._accept_select_event=true;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_g>=37&&_g<=40)){this._select_text="";}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&nexacro.BrowserVersion>=9&&(_g==8||_g==46)){this._text=_a.getElementValue();}if((_g==0||_g==13)||(_d&&_g==90)){if(!_h||(_h&&!this._is_hangul(_h.charAt(this._begin_pos)))){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(this._is_composition()){var _j=this.getCompositionData(_a);this._on_input_compositionend(_j);this._fire_text_event(_j);this.onUpdateStyle(this.comp);}}}}if(_g==13){this._keyup_process_enter(_a);}if(_g==27){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(this._is_composition()){var _j=this._stat_composition.getData();if(this._is_hangul(_j)){this._on_input_compositionend("");}else{this._on_input_compositionend("");_j="";}this._fire_text_event(_j);}}}if(_g==8){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11||nexacro.Browser=="Edge"){if(this._is_composition()){if(this._text==""&&this.getCompositionData(_a)==""){this._on_input_compositionend("");this._fire_text_event("");}}}else if(nexacro.Browser=="IE"&&nexacro.OSVersion>=6.0){if(this._is_composition()&&(_i.begin!=this._begin_pos)){if((this._compositionstart_value==this._text)&&(this.getCompositionData(_a)=="")){this._on_input_compositionend("");this._fire_text_event("");}}}else{if(this._is_composition()){if((this._compositionstart_value==this._text)&&(this.getCompositionData(_a)=="")){this._on_input_compositionend("");this._fire_text_event("");}}}}if(nexacro.Browser=="IE"&&nexacro.OSVersion<6.0){var _j=this.getCompositionData(_a);if((_b==121||_b==120)&&this._is_composition()&&!this._is_hangul(_j)){this._on_input_compositionupdate(_j);}else{var _k=this;nexacro.OnceCallbackTimer.callonce(_k.comp,function(){_k._setCaret(_a);},0);}}else if(nexacro.OS=="iOS"){if(this._filteredtext){this._filteredtext=false;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else{this._setCaret(_a);}}else{var _l=this._check_maxlength_from_text_event();if(!_l){var _m=this.comp.maxlength;if(_m&&this._text.length>_m){if(!(this._is_composition()&&!this._is_hangul(this.getCompositionData(_a)))){var _n=this._text.substr(0,_m);_a.setElementValue(_n);}}}this._setCaret(_a);}if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._charcode=0;if(nexacro.OS=="Android"&&nexacro.Browser=="Chrome"&&this._is_mobile_drag){var _o=window.navigator.appVersion.indexOf("LG");var _p=_a.getElementValue();if(_o>0){if(this._is_composition()){if(!this._is_hangul(this.getCompositionData(_a))){var _q=_p.split(this._textEventInfo.postimetext);var _r=_q.length;_p="";for(var _s=0;_s<_r;_s++ ){if(_q[_s]!=""){_p+=_q[_s];}}_a.setElementValue(null);_a.setElementBlur();_a.setElementFocus();_a.setElementValue(_p);_a._input_handle.value=_p;this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);this.clearBuffer(_p,this._mobile_elme_pos,this._mobile_elme_pos);_q=_r=null;}}else{_a.setElementValue(null);_a.setElementValue(_p);this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);}}else{_a.setElementValue(null);_a.setElementValue(_p);this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);if(this._is_composition()){this._compositionend_value="";this._stat_composition.init();}}this._is_mobile_drag=false;_p=_o=null;}};_pEditNormal._check_maxlength=function(){var _a=this.comp;var _b=_a._input_element;var _c=this._value;if(!_c){_c="";}if(_a.maxlength>0){if(_c.length){var _d=this.getLength(_b,_c,true);if(_a.maxlength<=_d.len){return false;}}}return true;};_pEditNormal._check_maxlength2=function(_a){if(!_a||_a.length==0){return true;}var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();if(!_d){_d="";}if(_b.maxlength>0){var _e=this._input_begin_pos;var _f=_e+_a.length;_d=_d.substr(0,_e)+_d.substr(_f,_d.length-_f);if(_d.length){var _g=this.getLength(_c,_d,true);if(_b.maxlength<=_g.len){return false;}}}return true;};_pEditNormal._apply_maxlength=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_a;var _e=this._value;if(!_e){_e="";}if(_b.maxlength>0){var _f=this.getLength(_c,_e,true);if(_b.maxlength>_f.len){_d=this.getLength(_c,_a,true,_b.maxlength-_f.len).str;}}return _d;};_pEditNormal._apply_maxlength2=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_a;var _e=_c.getElementValue();if(!_e){_e="";}if(_b.maxlength>0){var _f=this._input_begin_pos;var _g=_f+_a.length;_e=_e.substr(0,_f)+_e.substr(_g,_e.length-_g);var _h=this.getLength(_c,_e,true);if(_b.maxlength>_h.len){_d=this.getLength(_c,_a,true,_b.maxlength-_h.len).str;}}return _d;};_pEditNormal._apply_inputfilter=function(_a){if(!_a){_a="";}var _b=_a?_a.length:0;var _c=_a.split("");var _d=[];for(var _f=0;_f<_b;_f++ ){var _e=_c[_f];if(this._filterRegex){if(this._filterRegex.test(_e)){continue;}}_d.push(_e);}_d=_d.join("");return _d;};_pEditNormal._apply_inputtype=function(_a){if(!_a){_a="";}_a=_a.replace(/\r\n/g,"\n");var _b=this.comp.inputtype;var _c=_a?_a.length:0;var _d=_a.split("");var _e=[];for(var _g=0;_g<_c;_g++ ){var _f=_d[_g];if(_f!='\n'&&this._typeRegex){if(!this._typeRegex.test(_f)){if(_b.indexOf("full")!= -1){if(this.getWCharLen(_f)==1||(this._typeRegex1&&this._typeRegex1.test(_f))){continue;}}else{continue;}}if((_b.indexOf("full")== -1)&&this.getWCharLen(_f)>1){if(!(this._is_half_japaness(_f))){continue;}}}_e.push(_f);}_e=_e.join("");return _e;};_pEditNormal._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(_a._is_ios_composition_returned){this._setCaret(_a);_a._is_ios_composition_returned=false;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}if(nexacro.Browser=="Safari"){if(this._is_composition()){this._is_compositionfocus=true;}else{this._is_compositionfocus=false;}}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditNormal._blur_process=function(_a){if(this._is_composition()){if(this.getCompositionData(_a)){var _b=this.getCompositionData(_a);}else{var _b=this._stat_composition.getData(_a);if(_b==_a.getElementValue()){_b="";}}if(nexacro.Browser=="Edge"&&_b==""&&this._is_hangul(this._stat_composition.getData())){_b=this._stat_composition.getData();}var _c=this._on_input_compositionend(_b);_a.setInputElementCompositeClear();if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"&&_a._is_ios_composition_returned){var _d=this.comp.maxlength;if(_d>0){if(this._focus_text.length>=_d){if(this.comp._bind_event){if(this._old_text==this._focus_text){_a.setElementValue(null);_a.setElementValue(this._focus_text);}}else{if(this._old_text==this._focus_text){_a.setElementValue(null);_a.setElementValue(this._focus_text);}else{if(this._focus_value&&this._focus_value==this._value){_a.setElementValue(null);_a.setElementValue(this._focus_value);}}}}else if(this._focus_text.length<=_d&&this._value>=_d){_a.setElementValue(null);_a.setElementValue(this._value);}}_a._is_ios_composition=false;_d=null;}if(!_c){this._fire_text_event(_b);}this._stat_composition.init();this._compositionend_value="";this.onUpdateStyle(this.comp);}if(nexacro.OS=="iOS"&&(_a._keypad_type=="change"||_a._keypad_type=="changed")){_a.setElementInputTypeKeypad(_a._orgtype);_a._tap_blocked=false;_a._is_longpressed=false;}if(nexacro.Browser=="Edge"&&!this._is_composition()){var _b=this._stat_composition.getData();if(this._is_hangul(_b)&&this._charcode!=nexacro.Event.KEY_ENTER){this._fire_text_event(_b);this._stat_composition.init();this._compositionend_value="";this.onUpdateStyle(this.comp);}}this._setCaret(_a);if(nexacro.Browser=="Gecko"){if(this._is_composition()){if(this._is_on_killfocus){_a.setElementBlur();}}}};_pEditNormal._mouseup_process=function(_a){var _b=_a.getElementCaretPos();if(this._is_composition()||((_b.begin!=this._begin_pos&&_b.end!=this._end_pos)&&nexacro.Browser!="Runtime")){_a._useTimer=false;this._setCaret(_a);if(nexacro.Browser=="Edge"&&_b.begin==_b.end){this.comp._setcaret=false;}if(nexacro.Browser=="Edge"){if(this._text){if(this._begin_pos==this._end_pos){this._select_text="";}else{this._select_text=this._text.substring(this._begin_pos,this._end_pos);}}}}else if(nexacro._isDesktop()&&nexacro.Browser=="Runtime"){_a._useTimer=false;this._setCaret(_a);if(this._text){if(this._begin_pos==this._end_pos){this._select_text="";}else{this._select_text=this._text.substring(this._begin_pos,this._end_pos);}}}else{_a._useTimer=true;var _c=this;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _d=_a.getElementValue();if(_d==""&&_d!=_c._text){_c._setText(_d);_c._setValue(_d);_c.syncValue();}}_c._setCaret(_a);if(_c._text){if(_c._begin_pos==_c._end_pos){_c._select_text="";}else{_c._select_text=_c._text.substring(_c._begin_pos,_c._end_pos);}}});}};_pEditNormal._mousedown_process=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){this._accept_select_event=true;if(this._is_composition()){var _b=this._stat_composition.getData();if(this._is_hangul(_b)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){this._accept_keyinput_event=false;}this._on_input_compositionend(_b);this._fire_text_event(_b);this._compositionend_value="";this._stat_composition.init();if(!this._is_hangul(_b)){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){this._accept_focus_event=false;_a.setElementBlur();_a.setElementFocus();}else if(nexacro.Browser=="Edge"){var _c=this._text;_a.setElementValue(null);_a.setElementBlur();_a.setElementFocus();this._setText(_c);_a.setElementValue(_c);_c=null;}}}}};_pEditNormal._keyup_process_enter=function(_a){if(nexacro.Browser=="Runtime"){this._setText(_a.getElementValue());}var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d){this.comp._on_fire_changeEventSet(_b,_c,_d,_e);}};_pEditNormal._check_keypressPrevent=function(_a){var _b=false;var _c=String.fromCharCode(_a);var _d=_c;_c=this._apply_inputfilter(_c);_c=this._apply_inputtype(_c);if(_d!=_c){_b=true;}return _b;};delete _pEditNormal;_pEditNormal=null;nexacro.MultilineEdit=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}};_pMultilineEdit=nexacro._createPrototype(nexacro.EditNormal,nexacro.MultilineEdit);nexacro.MultilineEdit.prototype=_pMultilineEdit;_pMultilineEdit._type_name="MultilineEdit";_pMultilineEdit.setPosition=function(){var _a=this.comp;var _b=_a._input_element;var _c=_a._control_element;var _d=_a._client_width;var _e=_a._client_height;if(_d==0||_e==0){return;}if(_b&&_b._handle){var _f=nexacro._getCachedPaddingObj("0 1 0 1");var _g=_a.on_find_CurrentStyle_align(_a._pseudo);var _h=_a.on_find_CurrentStyle_padding(_a._pseudo);var _i=nexacro.Component._default_textarea_align.valign;var _j=_g.halign;if((_a.wordwrap=="none"||_a.wordwrap=="false"||_a.wordwrap==false)&&(_a._scrollbars==2||_a._scrollbars==3||_a._scrollbars==8||_a._scrollbars==12||_a._scrollbars==32)){_j=nexacro.Component._default_textarea_align.halign;}_b.setElementPosition(0,0,true);_b.setElementSize(_d,_e);if(_h&&(_h.top||_h.right||_h.bottom||_h.left)){_b.setElementPadding(_h);}else{_b.setElementPadding(_f);}_b.setElementAlignXY(_j,_i);}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pMultilineEdit._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this._select_text=this._text;var _d=_b._input_element.getScrollTop();_b._scrolltop=_d;var _e=_b._input_element.getScrollLeft();this.setElementCaretPos(0,_c.length,_a);if(_d!=_b._input_element.getScrollTop()){_b._input_element.setScrollTop(_d);}if(_e!=_b._input_element.getScrollLeft()){_b._input_element.setScrollLeft(_e);}this.onUpdateStyle(_b);}};}else if(nexacro.OS=="Android"){_pMultilineEdit._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this;var _d=this._select_text=this._text;this._is_apply_autoselect=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(0,_d.length,_a);},0);}};}else{_pMultilineEdit._apply_autoselect=function(_a,_b){var _c=this.comp;if(_c.autoselect){var _d=this._select_text=this._text;this._is_apply_autoselect=true;this.setElementCaretPos(0,_d.length,_a);if(nexacro.Browser=="Gecko"){var _e=_c.hscrollbar?_c.hscrollbar.pos:0;var _f=_c.vscrollbar?_c.vscrollbar.pos:0;nexacro.OnceCallbackTimer.callonce(_c,function(){if(_c.vscrollbar){_c.vscrollbar.set_pos(_f);}if(_c.hscrollbar){_c.hscrollbar.set_pos(_e);}},70);}}};}_pMultilineEdit.onUpdateStyle=function(_a,_b){var _c=0;var _d=0;if(_b==true){if(nexacro.OS=="Windows"&&nexacro.Browser=="Runtime"&&_a&&_a._input_element){_c=_a._input_element.getScrollTop();_d=_a._input_element.getScrollLeft();}else{_b=false;}}this.setPosition();if(nexacro.SystemLang=="ja"){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_a._update_scroll();}}if(_a._refform){nexacro.OnceCallbackTimer.callonce(_a,function(){if(_b==true){if(_a.vscrollbar){_a._input_element.setScrollTop(_c);}if(_a.hscrollbar){_a._input_element.setScrollLeft(_d);}}_a._update_scroll();});}else{_a._update_scroll();}};_pMultilineEdit.onResetHScroll=function(_a){_a._reset_hscroll();};_pMultilineEdit.insertTabChar=function(_a){var _b=_a.getElementValue();var _c=this._begin_pos;var _d=this._end_pos;var _e=_b.substr(0,this._begin_pos);var _f=_b.substr(this._end_pos,_b.length-this._end_pos);_b=_e+this._strTab+_f;_c=_c+this._strTab.length;this._text=_b;_a.setElementValue(_b);this.setElementCaretPos(_c,_c,_a);};_pMultilineEdit._keyup_process_enter=function(_a){return;};_pMultilineEdit._on_getAccessibilityAdditionalLabel=function(_a){var _b=this.comp;var _c=_b._input_element;if(_c&&_c._wantAccessibilityAdditionalLabel){if(!_c._wantAccessibilityAdditionalLabel()){return "";}if(_b.text!==undefined&&_b.value!==undefined){if(!_a){_a=0;}return _b._getCaretLineString(null,_a);}}return "";};delete _pMultilineEdit;_pMultilineEdit=null;nexacro.EditMaskString=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._mask_PassWDST="{";this._mask_PassWDED="}";this._mask_MARKCHAR="_";this._mask_PASSCHAR="*";this._chkEmpty=String.fromCharCode(0x08);this._isPWInput=false;this._cPassChar=null;this._cMaskChar=null;this._value=null;this._text="";this._strMaskedValue=[];this._bufMask=[];this._bufPass=[];this._strMask=[];this._keypress=false;};_pEditMaskString=nexacro._createPrototype(nexacro.EditBase,nexacro.EditMaskString);nexacro.EditMaskString.prototype=_pEditMaskString;_pEditMaskString._type_name="EditMaskString";_pEditMaskString._maskChr={"@":/[\u0020-\u00ff]/,"#":/[0-9]/,"*":/[a-zA-Z]/,"9":/[a-zA-Z0-9]/,"A":/[A-Z]/,"a":/[a-z]/,"Z":/[A-Z0-9]/,"z":/[a-z0-9]/,"!":/[0-9]/};if(nexacro.OS!="iOS"){_pEditMaskString._on_default_input_compositionstart=nexacro._emptyFn;_pEditMaskString._on_default_input_compositionupdate=nexacro._emptyFn;_pEditMaskString._on_default_input_compositionend=nexacro._emptyFn;}_pEditMaskString._init=function(){nexacro.EditBase.prototype._init.call(this);if(!this._cPassChar){this._cPassChar=this._mask_PASSCHAR;}if(!this._cMaskChar){this._cMaskChar=this._mask_MARKCHAR;}this._value=null;this._text="";this._strMaskedValue=[];this._bufMask=[];this._bufPass=[];this._strMask=[];};_pEditMaskString._destroy=function(){this._cPassChar=null;this._cMaskChar=null;this._strMaskedValue=null;this._bufMask=null;this._bufPass=null;this._strMask=null;this._maskChr=null;nexacro.EditBase.prototype._destroy.call(this);};_pEditMaskString.setMask=function(_a){this._init();var _b=false;var _c=false;var _d=false;var _e=_a.length;var _f=_a.split("");var _g=this._maskChr;var _h=0;var _i=0;var _j=0;for(_i=0;_i<_e;_i++ ){_h=0;if(_c==false&&_f[_i]=="'"){if(_b==false){_b=true;}else{_b=false;}continue;}if(_c==false&&_f[_i]=="\\"&&!_b){_c=true;continue;}else if(_c){_c=false;}else if(_b==false){if(_g[_f[_i]]){_h=_g[_f[_i]];}if(_f[_i]==this._mask_PassWDST){_d=true;continue;}if(_f[_i]==this._mask_PassWDED){_d=false;continue;}}this._bufMask[_j]=_h;this._bufPass[_j]=_d;this._strMask[_j]=_f[_i];_j++ ;}this._nMaxedLength=_a.length;};_pEditMaskString.setValue=function(_a){var _b=this.comp._input_element;if(nexacro._isNull(_a)){this._setValue(_a);this._setMaskedValue(this.makeMaskedValue(""));this._setText(this.makeText(this._strMaskedValue));}else{this._setValue(_a.toString());this._setMaskedValue(this.makeMaskedValue(this._value));this._setText(this.makeText(this._strMaskedValue));}this._undoStack.push(this._value,this._text);if(_b){_b.setElementValue(this._value,true);}};_pEditMaskString.isFilled=function(){var _a=this._bufMask;var _b=_a.length;var _c=this._strMaskedValue;if(_b==0){return false;}for(var _d=0;_d<_b;_d++ ){if(_a[_d]!=0&&_c[_d]==this._chkEmpty){return false;}}return true;};_pEditMaskString.inputText=function(_a){var _b=false;var _c=this._begin_pos;var _d=this._end_pos;var _e=this._text;var _f=this._strMaskedValue.concat();if(_c!=_d){}else{_c=this.findNextPos(_f,_c-1);}if(this._nMaxedLength<=_c){_b=true;}var _g=_c;var _h=_a.length;var _i=_a.split("");if(!_b){for(var _j=0;_j<_h;_j++ ){_g=this.onInputChar(_f,_i[_j],_g);}_e=this.makeText(_f);}return {newText:_e,newMaskedValue:_f,end:_g};};_pEditMaskString.onInputChar=function(_a,_b,_c){var _d=true;var _e=this._bufMask[_c];var _f=this._strMask[_c];if(_e!==undefined&&_e!=0){if(_f=="A"||_f=="Z"){_b=_b.toUpperCase();}else if(_f=="a"||_f=="z"){_b=_b.toLowerCase();}if(!_e.test(_b)){_d=false;}}else{return _c;}if(_d){_a[_c]=_b;_c=this.findNextPos(_a,_c);}return _c;};_pEditMaskString.deleteChar=function(_a){var _b=this._text;var _c=this._begin_pos;var _d=this._end_pos;if(_a){if(_d==_c&&_c!=0){_c-- ;}this.clearBuffer2(this._text,this._strMaskedValue,_c,_d);}else{if(_d==_c&&_d<_b.length){_d++ ;}this.clearBuffer2(this._text,this._strMaskedValue,_c,_d);}};_pEditMaskString.syncValue=function(){var _a=this.comp;_a.value=this._value;_a.text=this._text;};_pEditMaskString.getValue=function(){if(!this._value){return;}var _a=this._value;if(this._nTrimType){if(this._nTrimType==1){_a=_a.replace(/^\s+/,"");}else if(this._nTrimType==2){_a=_a.replace(/\s+$/,"");}else if(this._nTrimType==3){_a=_a.replace(/^\s+/,"");_a=_a.replace(/\s+$/,"");}return _a;}return _a;};_pEditMaskString.makeMaskedValue=function(_a){var _b=this._strMask;var _c=this._bufMask;var _d=this._maskChr;_a=_a.split("");var _e=_b.length;var _f=_a.length;var _g=false;var _h=[];var _i;var _j,_k,_l;if(_f==_e){for(_k=0;_k<_f;_k++ ){if(_c[_k]==0&&_a[_k]==_b[_k]){continue;}else if(_c[_k]==0){break;}}if(_k==_a.length){_g=true;}}for(_k=0,_l=0;_k<_e;_k++ ){_j=_b[_k];_i=_c[_k];if(_i!=0&&_d[_j]){do{_j=_a[_l];_l++ ;}while(_j&&!_i.test(_j)&&!(_j==this._FillMaskChar)&&!(_j=="\u200e"))if(nexacro._isNull(_j)||(_j==this._FillMaskChar)){_j=this._chkEmpty;}}else if(_g&&_b[_k]==_j){_l++ ;}_h[_k]=_j;}return _h;};_pEditMaskString.makeText=function(_a){var _b;var _c=[];var _d;var _e,_f,_g;var _h=this._strMask.length;for(_b=0;_b<_h;_b++ ){_d=_a[_b];_e=this._bufMask[_b];_f=this._bufPass[_b];_g=this._strMask[_b];if(_e!=0){if(nexacro._isNull(_d)||_d==this._chkEmpty||_d==this._FillMaskChar){_d=this._cMaskChar;}else if(_f){_d=this._cPassChar;this._isPWInput=true;}else if(_g=="A"||_g=="Z"){_d=_d.toUpperCase();}else if(_g=="a"||_g=="z"){_d=_d.toLowerCase();}}_c[_b]=_d;}return _c.join("");};_pEditMaskString.makeValue=function(_a){var _b,_c;var _d;var _e;var _f=this._strMask.length;var _g=[];for(_b=0,_c=0;_b<_f;_b++ ){_e=this._bufMask[_b];if(_e!=0){_d=_a[_b];if(!nexacro._isNull(_d)&&_d!=this._chkEmpty){_g[_c]=_d;_c++ ;}else if(!nexacro._isNull(this._FillMaskChar)){_g[_c]=this._FillMaskChar;_c++ ;}}}var _h=_g.join("");if(this._nTrimType){if(this._nTrimType==1){_h=_h.replace(/^\s+/,"");}else if(this._nTrimType==2){_h=_h.replace(/\s+$/,"");}else if(this._nTrimType==3){_h=_h.replace(/^\s+/,"");_h=_h.replace(/\s+$/,"");}}return _h;};_pEditMaskString.findFirstInputPos=function(_a){var _b;var _c=this._strMask.length;var _d;var _e=false;for(_b=0;_b<_c;_b++ ){var _f=this._bufMask[_b];if(_f!=0){_e=true;_d=_a[_b];if(_d==this._chkEmpty||nexacro._isNull(_d)){return _b;}}}if(_e){return this.findPrevPos(_a,_c)+1;}return 0;};_pEditMaskString.findNextPos=function(_a,_b){var _c;var _d=this._strMask.length;var _e;for(_c=_b+1;_c<_d;_c++ ){_e=this._bufMask[_c];if(_e!=0){return _c;}}for(_c=0;_c<_d;_c++ ){if(this._bufMask[_c]!=0){return this.findPrevPos(_a,_d)+1;}}return _d;};_pEditMaskString.findPrevPos=function(_a,_b){var _c;var _d=this._strMask.length;var _e;for(_c=_b-1;_c>=0;_c-- ){_e=this._bufMask[_c];if(_e!=0){return _c;}}for(_c=_d-1;_c>=0;_c-- ){if(this._bufMask[_c]!=0){return this.findFirstInputPos(_a);}}return 0;};_pEditMaskString.writeBuffer=function(_a){var _b;if(this._text){_b=this._text;}else{_b="";}var _c=this.comp;var _d=_c.displaynulltext;var _e=_a.getElementValue();if(_a&&_e!=_b){_a.setElementValue(_b);}return _b;};_pEditMaskString.clearBuffer=function(_a,_b,_c){var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);this._setMaskedValue(this.makeMaskedValue(_d));this._setText(_d);this._setValue(_d);this.setElementCaretPos(_b,_b);};_pEditMaskString.clearBuffer2=function(_a,_b,_c,_d){var _e= -1;var _f;var _g;var _h=[];for(var _k=_c;_k<_d;_k++ ){_f=this._bufMask[_k];_g=this._strMask[_k];if(_f!=0&&_g!="^"){_h.push(_b[_k]);_b[_k]=this._chkEmpty;_a[_k]=this._cMaskChar;if(_e== -1){_e=_k;}}else{if((_d-_c)<2){var _i=0;var _j=_k;while(this._bufMask[_j]==0||this._strMask[_j]=="^"){_j-- ;_i++ ;}_h.push(_b[_k-_i]);_b[_k-_i]=this._chkEmpty;_a[_k-_i]=this._cMaskChar;if(_e== -1){_e=_k-_i;}}else{_h.push(_b[_k]);if(_e== -1){_e=_k;}}}}if(_e== -1){_e=_c;}this._deleted_char=_h.join("");this._setMaskedValue(_b);this._setText(this.makeText(this._strMaskedValue));if(_a!=this._text){this._setValue(this.makeValue(this._strMaskedValue));}this.setElementCaretPos(_e,_e);};_pEditMaskString._setMaskedValue=function(_a){this._strMaskedValue=_a;};_pEditMaskString._set_old_info=function(){this._old_text=this._text;this._old_value=this._value;this._oldMaskedValue=this._strMaskedValue;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;};_pEditMaskString._apply_input_filter=function(_a){var _b=false;var _c=false;var _d=this._begin_pos;var _e=this._end_pos;var _f=this._text;var _g=this._strMaskedValue.concat();if(_d!=_e){}else{_d=this.findNextPos(_g,_d-1);}if(this._nMaxedLength<=_d){_c=true;}var _h=_d;var _i=_a.length;var _j=_a.split("");if(!_c){for(var _k=0;_k<_i;_k++ ){_h=this.onInputChar(_g,_j[_k],_h);}_f=this.makeText(_g);}for(var _k=0,_l=_g.length;_k<_l;_k++ ){if(_g[_k]!=this._strMaskedValue[_k]){_b=true;break;}}if(_b){this._setMaskedValue(_g);this._setText(this.makeText(this._strMaskedValue));this._setValue(this.makeValue(this._strMaskedValue));}this.setElementCaretPos(_h,_h);};_pEditMaskString._check_value=function(){var _a=this._strMaskedValue;var _b=this._bufMask;var _c=true;for(var _d=0,_e=_a.length;_d<_e;_d++ ){if(_b[_d]!=0&&_a[_d]!=this._chkEmpty){_c=false;}}return _c;};_pEditMaskString.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e=this._text;var _f=_a.getElementValue();var _g=this._strMask;var _h=_c.length-_d.length;var _i=this._deleted_char.length;if(this._pasteAction){if(_h==0){var _j=false;for(var _m=0,_n=_c.length;_m<_n;_m++ ){if(!_j&&_c[_m]!=_d[_m]){_b+=_c[_m];_j=true;}else if(_j){_b+=_c[_m];}}}else if(_h<0){var _k=_d.substr(0,this._begin_pos);var _l=_d.substr(this._begin_pos+_i,_d.length-(this._begin_pos+_i));_b=_c.substr(_k.length,_c.length-(_k.length+_l.length));}else{_b=_c.substr(this._begin_pos,_h+_i);}}else if(this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){if(_h==0){var _j=false;for(var _m=0,_n=_c.length;_m<_n;_m++ ){if(_c[_m]!=_d[_m]){_b+=_c[_m];_j=true;}else if(_j){break;}}}else if(_h<0){var _k=_d.substr(0,this._begin_pos);var _l=_d.substr(this._begin_pos+_i,_d.length-(this._begin_pos+_i));_b=_c.substr(_k.length,_c.length-(_k.length+_l.length));}else{_b=_c.substr(this._begin_pos,_h);}}else{_b=this._stat_composition.getData(_a);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditMaskString._setElementValue=function(_a,_b,_c,_d,_e){if(_e){_a.setElementValue(this._text,true);}else{_a.setElementValue(this._text);}if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}else if(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"){_pEditMaskString._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){var _e=this;this.setElementCaretPos(_b,_c,_a);nexacro.OnceCallbackTimer.callonce(this.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c);}};}else{_pEditMaskString._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){if(nexacro.Browser=="Chrome"&&nexacro.OSVersion>=10.0){this.setElementCaretPos(_b,_c,_a);var _e=this;nexacro.OnceCallbackTimer.callonce(this.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else if(nexacro.OS=="Android"&&(nexacro.OSVersion=="4.4.2"||nexacro.OSVersion=="6.0.1"||nexacro.OSVersion=="7.0")&&nexacro.Browser=="Chrome"){this.setElementCaretPos(_b,_c,_a);var _e=this;nexacro.OnceCallbackTimer.callonce(_e.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c,_a);}}else{this.setElementCaretPos(_b,_c);}};}_pEditMaskString._changeFocusText=function(_a){var _b=this._value;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();if(!_b){this._setMaskedValue(this.makeMaskedValue(""));}else{this._setMaskedValue(this.makeMaskedValue(_b));}var _e=this.makeText(this._strMaskedValue);this._setText(_e);this.syncValue();if(_c!=_e){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._accept_blur_event=false;}_a.setElementValue(_b);if(nexacro.Browser=="Gecko"){this.setElementCaretPos(_d.begin,_d.end,_a);}}};_pEditMaskString._check_backspace=function(_a){var _b=_a.getElementValue();if(this._select_text.length==0&&(_b.length==(this._text.length-1))){if(!this._cutAction&&!this._pasteAction&&!this._is_composition()){return true;}}return false;};_pEditMaskString._mousedown_process=function(_a){this._oldMaskedValue=this._strMaskedValue.concat();};_pEditMaskString._mouseup_process=function(_a){if(this._is_composition()){this._setCaret(_a);}else{var _b=this;nexacro.OnceCallbackTimer.callonce(_b.comp,function(){_b._setCaret(_a);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _c=_a.getElementValue();if(_c==""&&_c!=_b._text){_b._setMaskedValue(_b.makeMaskedValue(_c));_b._setText(_b.makeText(_b._strMaskedValue));if(_b._value){_b._setValue(_b.makeValue(_b._strMaskedValue));}_b.syncValue();_b._setElementValue(_a,_b._begin_pos,_b._end_pos);_b.setElementCaretPos(_b._begin_pos,_b._begin_pos,_a);}}if(_b._text){if(_b._begin_pos==_b._end_pos){_b._select_text="";}else{_b._select_text=_b._text.substring(_b._begin_pos,_b._end_pos);}}});}};_pEditMaskString._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(!this._bChangeFocusText){this._changeFocusText(_a);this._bChangeFocusText=true;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditMaskString._blur_process=function(_a){var _b=_a.getElementValue();if(!this._value){this._setMaskedValue(this.makeMaskedValue(""));}else{this._setMaskedValue(this.makeMaskedValue(this._value));}var _c=this.makeText(this._strMaskedValue);this._setText(_c);this.syncValue();this._bChangeFocusText=false;if(_b!=_c||!this._value){_a.setElementValue(this._value);}};_pEditMaskString._keyup_process_enter=function(_a){var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d||_c!=_e){if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){this._accept_keyinput_event=false;}this.comp._on_fire_changeEventSet(_b,_c,_d,_e);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}};_pEditMaskString._on_default_input_keydown=function(_a,_b,_c,_d,_e){var _f=this.comp;this._setCaret(_a);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}if(!_f._accept_keydown_event(_b)){_a._event_stop=true;}};_pEditMaskString._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=true;var _h=_c||_b;var _i=this.comp;if(!_i){return false;}if(_a.readonly){if(_h==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}if(_h==nexacro.Event.KEY_BACKSPACE||(_h==nexacro.Event.KEY_DELETE&&_h==this._keycode)||(nexacro.Browser=="MobileSafari"&&_h==127)){var _j=this._value;var _k=this._text;var _l=this.deleteChar(_h==8?true:false);var _m=this._text;var _n=this._textEventInfo;_n.setTextInfo("",_k,_m,"","",_k);_g=_i.on_fire_ontextchange(_n);if(_g){_g=_i.on_fire_cancharchange(_i,_n.chartext,_n.pretext,_n.posttext);if(_g){_g=_i.on_fire_onchar(_n);}if(_g){this.syncValue();this._setElementValue(_a,this._begin_pos,this._end_pos,true,true);if(_n.pretext!=_n.posttext){if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}_i._textchanging=true;_i.on_fire_ontextchanged(_i,_n.pretext,_n.posttext);_i._textchanging=false;}}}if(!_g){this._setMaskedValue(this._oldMaskedValue);this._setText(_k);this._setValue(_j);this.syncValue();this.setElementCaretPos(this._begin_pos,this._end_pos);}this._select_text="";_a._event_stop=true;}else if(nexacro.OS=="iOS"){this._keypress=true;}return _g;};_pEditMaskString._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_b>=37&&_b<=40)){this._select_text="";}if(_b==13){this._keyup_process_enter(_a);return;}this._setCaret(_a);};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion==10){_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);if(!this._cutAction){if(this._pasteAction){this._isPasteActionComplete=false;}return;}}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}this._isPasteActionComplete=true;};}else if(nexacro.BrowserVersion>=9){_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);if(!this._cutAction){return;}}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}}else if(nexacro.OS=="iOS"){_pEditMaskString._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=_a.getElementCaretPos();var _d=this._text;if(!_d){_d="";}var _e="";if(_b==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer2(_b,this._strMaskedValue,_c.begin,_c.begin+1);}if(_a._type=="date"){_e=_b;}else{_e=this.getInsertText(_a);if(this._is_composition()){if(this._keypress){_e=_e.substr(_e.length-1,1);this._keypress=false;}else{_e="";}}}this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e=this._text;if(!_e){_e="";}var _f="";if(_c==_e){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer2(_c,this._strMaskedValue,_d.begin,_d.begin+1);}if(_a._type=="date"){_f=_c;}else{_f=this.getInsertText(_a);}this._fire_text_event(_f);if(!this._is_composition()){this._stat_composition.init();}};}_pEditMaskString._fire_text_event=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();var _e=this._textEventInfo;var _f=_b.autoskip;var _g=false;if(this._is_undo){this._setMaskedValue(this.makeMaskedValue(_d));this._setText(this.makeText(this._strMaskedValue));this._setValue(this.makeValue(this._strMaskedValue));}else{this._apply_input_filter(_a);}_e.setTextInfo(_a,this._old_text,this._text,"","",this._old_text);var _h=_b.on_fire_ontextchange(_e);if(_h){_h=_b.on_fire_cancharchange(_b,_e.chartext,_e.pretext,_e.posttext,_e.pretext);if(_h){_h=_b.on_fire_onchar(_e);if(_h){if(_e.pretext!=_e.posttext||this._isPWInput){this._isPWInput=false;this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}this._setElementValue(_c,this._begin_pos,this._end_pos,true);_b.on_fire_ontextchanged(_b,this._old_text,this._text);}else{this._setElementValue(_c,this._begin_pos,this._end_pos,true);}}}}if(!_h){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setMaskedValue(this._oldMaskedValue);this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._setElementValue(_c,this._old_begin_pos,this._old_end_pos,true);return;}if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}if(_f){_g=this.isFilled();if(_g){this._apply_autoskip();}}};delete _pEditMaskString;_pEditMaskString=null;nexacro.EditMaskNumber=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._dispComponent=false;this._dispComma=false;this._nMin=0;this._nMax=0;this._nDecimalMin= -1;this._nDecimalMax=0;this._default_grouping=[3];this._default_decimal_point=".";this._default_thousands_sep=",";this._default_positive_sign="";this._default_negative_sign="-";this._default_positive_sign_posn=1;this._default_negative_sign_posn=1;this._positive_sign=this._default_positive_sign;this._negative_sign=this._default_negative_sign;this._positive_sign_posn=this._default_positive_sign_posn;this._negative_sign_posn=this._default_negative_sign_posn;this._grouping=this._default_grouping;this._strPoint=this._default_decimal_point;this._strSeparator=this._default_thousands_sep;this._nSignType=3;this._keypress=false;};_pEditMaskNumber=nexacro._createPrototype(nexacro.EditBase,nexacro.EditMaskNumber);nexacro.EditMaskNumber.prototype=_pEditMaskNumber;_pEditMaskNumber._type_name="EditMaskNumber";_pEditMaskNumber._init=function(){nexacro.EditBase.prototype._init.call(this);this._dispComponent=false;this._dispComma=false;this._nMin=0;this._nMax=0;this._nDecimalMin= -1;this._nDecimalMax=0;};_pEditMaskNumber.isFilled=function(){var _a=this._text.length;var _b=this._text.indexOf(this._strPoint);if(this._nDecimalMax== -1){return false;}else if(this._nDecimalMax==0){if(this._nMax>0&&(this._nMax<=_a)){return true;}else{return false;}}else{if(_b== -1){return false;}if((_a-_b-1)>=this._nDecimalMax){return true;}}return false;};_pEditMaskNumber.filterChar=function(_a){if(this.isDigit(_a)){return _a;}else if(_a==this._strPoint){return _a;}else if(_a==this._strSeparator){return _a;}else if(_a=='-'&&(this._nSignType==3||this._nSignType==0)){return _a;}else if(_a=='+'&&(this._nSignType==3||this._nSignType==1)){return _a;}return "";};_pEditMaskNumber.setMask=function(_a){var _b=this.trimLeft(_a);var _c=_b.charAt(0);if(_c=='!'){this._nSignType=2;}else if(_c=='+'){this._nSignType=1;}else if(_c=='-'){this._nSignType=0;}else{this._nSignType=3;}if(_a.length<=0){this._nMin=0;this._nMax=0;this._nDecimalMax= -1;this._nDecimalMin=0;return;}this._nMin=0;this._nMax=0;this._nDecimalMax=0;this._nDecimalMin=0;this._dispComma=(_a.indexOf(",")>=0);var _d;var _e=false;for(var _f=0,_g=_a.length;_f<_g;_f++ ){_d=_a.charAt(_f);if(_d=='.'){_e=true;}else if(_d=='#'||_d=='0'||_d=='9'||_d==','){if(_e){this._nDecimalMax++ ;if(_d=='0'){this._nDecimalMin=this._nDecimalMax;}}else{if(_d=='0'||(this._nMin>0&&_d!=',')){this._nMin++ ;}this._nMax++ ;}}}};_pEditMaskNumber.setDisplayMask=function(_a){var _b,_c;var _d=false;var _e=false;var _f=_a.length;var _g=this.trimLeft(_a);var _h=_g.charAt(0);var _i=0;var _j=0;this._init();this._dispComponent=true;if(_h=='!'){this._nSignType=2;}else if(_h=='+'){this._nSignType=1;}else if(_h=='-'){this._nSignType=0;}else{this._nSignType=3;}if(_a.length<=0){this._dispComma=true;this._nDecimalMax= -1;this._nDecimalMin=0;}else{this._dispComma=(_a.indexOf(this._default_thousands_sep)>=0);for(_c=0;_c<_f;_c++ ){_b=_a.charAt(_c);if(_b==this._default_decimal_point){_e=true;}else if(_b=="#"||_b=="0"||_b=="9"){if(_e){this._nDecimalMax++ ;if(_b=="0"){this._nDecimalMin=this._nDecimalMax;}else if(_b=="9"){_j++ ;}}else{if(_b=="9"){_i++ ;this._nMin=1;}else if(_b=="0"||this._nMin>0){this._nMin++ ;}this._nMax++ ;}}}}};_pEditMaskNumber.syncValue=function(){var _a=this.comp;_a.value=this._value;_a.text=this._text;};_pEditMaskNumber.getValue=function(){return this._value;};_pEditMaskNumber.setValue=function(_a){var _b=this.comp?this.comp._input_element:null;if(nexacro._isNull(_a)){this._setValue(_a);this._setText(this.makeText("",false));}else{_a=_a.toString();this._setValue(this.normalizeValue(_a,true,true));this._setText(this.makeText(this._value,false));}this._undoStack.push(this._value,this._text);if(_b){if(nexacro.OS=="iOS"&&_b){_b.setElementInputType("text",true);_b.setElementInputTypeKeypad(this.comp.type);}_b.setElementValue(this._value,true);}};_pEditMaskNumber.deleteChar=function(_a){var _b=this._text;var _c=this._begin_pos;var _d=this._end_pos;var _e={};if(_a){if(_d==_c&&_c!=0){_c-- ;var _f=_b.charAt(_c);if(_f==this._strSeparator){_c-- ;}}this.clearBuffer(_b,_c,_d);}else{if(_d==_c&&_c!=_b.length){var _f=_b.charAt(_d);if(_f==this._strSeparator){_d++ ;}_d++ ;}this.clearBuffer(_b,_c,_d);}};_pEditMaskNumber.makeText=function(_a,_b){if(_b===undefined){_b=true;}var _c=0;var _d= -1;var _e=false;var _f=0;var _g=0;var _h=_a;var _i=this.split(_h);_c=_i.sign;_e=_i.pointexist;var _j=_i.numVal;var _k=_i.decVal;_g=_j.length;_f=_k?_k.length:0;if(this._nMin>_g){var _l="";for(var _n=0,_o=this._nMin-_g;_n<_o;_n++ ){_l+="0";}if(!_b){_j=_l+_j;}}if(this._nDecimalMin>_f){var _l="";for(var _n=0,_o=this._nDecimalMin-_f;_n<_o;_n++ ){_l+="0";}if(!_b){_k=_k+_l;}}else if(this._nDecimalMax!= -1&&this._nDecimalMax<_f){if(!_b&&(this._nLimitType!=3+1||this._nDecimalMax==0)){_k=_k.substring(0,this._nDecimalMax)+_k.substr(_f,_k.length);}}if(this._dispComma){_j=this.applyComma(_j);}if(_c<0){strSign=this._negative_sign;_d=this._negative_sign_posn;}else if(_c>0){strSign=this._positive_sign;_d=this._negative_sign_posn;}else{strSign="";}if(_k.length>0){_j+=this._strPoint;_j+=_k;}else{if(_b&&_e&&this._nDecimalMax>0){_j+=this._strPoint;}else if(!_b&&_e){var _m=_j.length;this._begin_pos=(this._begin_pos>_m)?_m:this._begin_pos;this._end_pos=(this._end_pos>_m)?_m:this._begin_pos;}}switch(_d){case 0:_j="("+_j+")";break;case 1:case 3:case 4:_j=strSign+_j;break;case 2:_j+=strSign;break;default:_j=strSign+_j;break;}return _j;};_pEditMaskNumber.makeDisplayText=function(_a,_b){var _c=this.split(_a,_b);var _d,_e;var _f="";var _g= -1;var _h=_c.sign;var _i=_c.pointexist;var _j=_c.numVal;var _k=_c.decVal;var _l=_j.length;var _m=_k?_k.length:0;if(this._nMin>_l){_e=this._nMin-_l;for(_d=0;_d<_e;_d++ ){_f+="0";}_j=_f+_j;}else if(this._nMin==0&&this._nMin!=this._nMax){if(_j=="0"){_j="";}}if(this._nDecimalMin>_m){_f="";_e=this._nDecimalMin-_m;for(_d=0;_d<_e;_d++ ){_f+="0";}_k=_k+_f;}else if(this._nDecimalMax!= -1&&this._nDecimalMax<_m){if((this._nLimitType!=3+1||this._nDecimalMax==0)){_k=_k.substring(0,this._nDecimalMax)+_k.substr(_m,_k.length);}}if(this._dispComma){_j=this.applyComma(_j);}if(_k.length>0){_j+=this._strPoint;_j+=_k;}if(_h<0){strSign=this._negative_sign;_g=this._negative_sign_posn;}else if(_h>0){strSign=this._positive_sign;_g=this._negative_sign_posn;}else{strSign="";}switch(_g){case 0:_j="("+_j+")";break;case 1:case 3:case 4:_j=strSign+_j;break;case 2:_j+=strSign;break;default:_j=strSign+_j;break;}return _j;};_pEditMaskNumber.normalizeValue=function(_a,_b,_c){if(_a.length<=0){return _a;}if(this._dispComponent&&isFinite(_a)==false){return _a;}if(_b===undefined){_b=true;}_a=this.removeMask(_a,_c);if(_a.charAt(_a.length-1)==this._strPoint){_a=_a+"0";}if(_b){var _d=(_a.charAt(0)=='-')?1:0;while(_a.charAt(0+_d)=='0'&&_a.charAt(1+_d)!=this._strPoint&&_a.length!=(1+_d)){_a=_a.substring(0,0+_d)+_a.substr(0+_d+1,_a.length);}var _e=_a.indexOf(this._strPoint);if(_e>=0){var _f;for(_f=_a.length-1;_f>_e+1;_f-- ){if(_a.charAt(_f)!='0'){break;}}_a=_a.substring(0,_f+1);}}if(_a.charAt(0)=='+'){_a=_a.substr(1);}else if(_a.length<=0||parseFloat(_a)==0.0){if(_a.charAt(0)=='-'){_a=_a.substr(1);}}_a=_a.replace(this._strPoint,this._default_decimal_point);return _a;};_pEditMaskNumber.split=function(_a,_b){var _c=0;var _d;if((_c=_a.indexOf('+'))>=0){_d= +1;_c=1;}else if((_c=_a.indexOf('-'))>=0){_d= -1;_c=1;}else{_d=0;_c=0;}var _e;if(_b){_e=_a.indexOf(this._strPoint,_c);}else{_e=_a.indexOf(this._default_decimal_point,_c);}var _f="",_g,_h="";if(_e<0){_f=_a.substr(_c);_g=false;}else{_f=_a.substr(_c,_e-_c);_h=_a.substr(_e+1);_g=true;}return {"sign":_d,"pointexist":_g,"numVal":_f,"decVal":_h};};_pEditMaskNumber.writeBuffer=function(_a){var _b=this._text;var _c=this.comp;var _d=_c.displaynulltext;var _e=_a.getElementValue();if(_a&&_e!=_b){_a.setElementValue(_b);var _f=_a.getElementValue();}return _b;};_pEditMaskNumber.clearBuffer=function(_a,_b,_c){var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);var _e=_d;var _f="";var _g=this.normalizeValue(_d,false);var _h=_d.indexOf(this._strPoint);if(_h>0){_e=_d.substring(0,_h);_f=_d.substring(_h+1,_d.length);}var _i=this.normalizeValue(_e,false);var _j=this.makeText(_i,true);if(_e.length!=_j.length){var _k=_e.length-_j.length;if(_b!=0){_b=_b-_k;}}if(_h>0){_j=_j+this._strPoint+_f;}this._setText(_j);this._setValue(_g);this.setElementCaretPos(_b,_b);};_pEditMaskNumber.clearBuffer2=function(_a,_b,_c){if(_b==_c){return {"text":_a,"end":_c};}if(_b>_c){var _d=_b;_b=_c;_c=_d;}var _e=_a.substr(_b,_c-_b);var _f=_a.substring(0,_b)+_a.substring(_c);var _g=_e;if(_e.indexOf(this._strPoint)>0){_e=this.makeText(this.normalizeValue(_f));_c=this.findIndex(_f,_e,_b,true);_f=_e;if(_c<0){_c=0;}else if(_e.length<_c){_c=_e.length;}}else if(this._is_selected()&&_g==this._strSeparator){_c=_b;_f=_a;}else{var _h=_f.indexOf(this._strPoint);if(_h<0){_h=_f.length;}if(_b<=_h){_e=this.makeText(this.normalizeValue(_f));_c=this.findIndex(_f,_e,_b,false);_f=_e;}else{_c=_b;var _i=this._nDecimalMin-(_f.length-(_h+1));var _j="";if(_i>0){for(var _k=0;_k<_i;_k++ ){_j+="0";}}_f+=_j;}}return {"text":_f,"end":_c,"pstrDeleted":_g};};_pEditMaskNumber.isDigit=function(_a){if(!this._digit){this._digit=/[0-9]/;}if(this._digit.test(_a)){return true;}return false;};_pEditMaskNumber.isPlusSign=function(_a){if(_a=="+"){return true;}return false;};_pEditMaskNumber.isMinusSign=function(_a){if(_a=="-"){return true;}return false;};_pEditMaskNumber.isComma=function(_a){if(_a==this._strPoint){return true;}return false;};_pEditMaskNumber.isSign=function(_a){if(this.isPlusSign(_a)||this.isMinusSign(_a)){return true;}return false;};_pEditMaskNumber.trim=function(_a){return _a.replace(/^\s\s*/,'').replace(/\s\s*$/,'');};_pEditMaskNumber.trimLeft=function(_a){return _a.replace(/^\s\s*/,'');};_pEditMaskNumber.trimRight=function(_a){return _a.replace(/\s\s*$/,'');};_pEditMaskNumber.removeMask=function(_a,_b){_a=this.trim(_a);var _c=_a.length;var _d;var _e=false;var _f=false;var _g=[];if(_b){for(_d=0;_d<_c;_d++ ){var _h=_a.charAt(_d);if((_h=='+'||_h=='-')&&(_f===false)){_g.push(_h);_f=true;}else if(this.isDigit(_h)){_g.push(_h);_f=true;}else if(_h==this._default_decimal_point&&_e===false){_g.push(_h);_e=true;_f=true;}else if(_h!=this._default_thousands_sep){if(!this._pasteAction){return "";}}}}else{for(_d=0;_d<_c;_d++ ){var _h=_a.charAt(_d);if((_h=='+'||_h=='-')&&(_f===false)){_g.push(_h);_f=true;}else if(this.isDigit(_h)){_g.push(_h);_f=true;}else if(_h==this._strPoint){if(_e===false){_g.push(_h);_e=true;_f=true;}}else if(_h!=this._strSeparator){if(!this._pasteAction){return "";}}}}return _g.join("");};_pEditMaskNumber.applyComma=function(_a){var _b=this._grouping;var _c=this._strSeparator;if(_c.length>0){var _d=_a.split("");var _e=_a.length;var _f=(_c.length+1)*_a.length;var _g=[];var _h=0,_i=_e;var _j=_f;var _k=0;while(_b[_k]&&_i>0){var _l=_b[_k];if(_l=="\\"){_k++ ;_l=parseInt(_b[_k])|0;}if(_l>0){_h=_l;while(_l-- >0&&_i>0){_g[ --_j]=_d[ --_i];}if(_i>0){_g[ --_j]=_c;}}else if(_l==0&&_i>_h){_l=_h;while(_l-- >0){_g[ --_j]=_d[ --_i];}if(_i>0){_g[ --_j]=_c;}}else if(_l==0&&_i<=_h&&_i>0){_l=_i;while(_l-- >0){_g[ --_j]=_d[ --_i];}}else{break;}if(_b.length==2&&_k==0){_k++ ;}}return _g.slice(_j,_f+_j).join("");}return _a;};_pEditMaskNumber.findIndex=function(_a,_b,_c,_d){var _e=0;var _f=_a.indexOf(this._strPoint);var _g=_b.indexOf(this._strPoint);if(_f<0){_f=_a.length-1;}if(_g<0){_g=_b.length-1;}if(_d){var _h=new RegExp(this._strSeparator,"g");var _i=_a;if(this._dispComma){_i=_i.replace(_h,"");}var _j=_b.substring(0,_g+1);if(this._dispComma){_j=_j.replace(_h,"");}_j.replace(this._strPoint,"");var _k=_c+_j.length-_i.length;if(this._dispComma){var _l=_f-_c;for(var _m=_c;_m<_f;_m++ ){if(_a.charAt(_m)==this._strSeparator){_l-- ;}if(_b.charAt(_m)==this._strSeparator){_l++ ;}}_e=_g-_l;if(_b.indexOf(this._strPoint)>=0){_e=_g;}}else{_e=_k;}}else{if(_c==_f){_e=_g;}else if(this._dispComma){var _l=_f-_c;for(var _m=_c;_m<_f;_m++ ){if(_a.charAt(_m)==this._strSeparator){_l-- ;}if(_b.charAt(_m)==this._strSeparator){_l++ ;}}_e=_g-_l;}else{_e=_g-(_f-_c);}}return _e;};_pEditMaskNumber.onInputDigit=function(_a,_b,_c){var _d=_a.indexOf(this._strPoint);var _e=_d>=0;if(!_e){_d=_a.length;}var _f=_c;if(_d<_c){if(!this.isLimit(_a)){_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;}}else{if(!this.isLimit(_a)){if(this._dispComma){_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;_d++ ;var _g=_a.length;var _h=_a.indexOf("-");var _i="";if(0<=_h){_i+="-";}if(_i!=""){_a=this.normalizeValue(_a);if(_a.charAt(1)==0){_a=_i+_a;}_a=this.makeText(_a);}else{_a=this.makeText(this.normalizeValue(_a));}var _j=_a.length;_d=_a.indexOf(this._strPoint);if(_g!=_j){_c++ ;}}else{_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;_d++ ;}}}if(_d>this._nMin&&_d>1){if(_a.charAt(0)=='0'){if(_a.charAt(1)==this._strSeparator){_a=_a.substr(2);_c-=2;}else if((this._nMin<=0)&&(_a.charAt(1)!=this._strPoint)){_a=_a.substr(1);_c-- ;}}else if(_a.charAt(0)=='+'||_a.charAt(0)=='-'){if(_a.charAt(1)=='0'&&_a.charAt(2)=='0'){_a=_a.substring(0,1)+_a.substr(2,_a.length);_c-- ;}}}var _k=this.comp._input_element;var _l=_k.getElementValue();var _m=this.makeText(this.normalizeValue(_l));if(this._text&&_l.length==this._text.length){if(!this._pasteAction){var _n=this._text.charAt(_f);var _o=this.isDigit(_n);if(!_o){_a=this._text.substring(0,_f+1)+_b+this._text.substr(_f+2,this._text.length);_c=_f+2;}else{_a=_m;_c=_f+1;}}}return {"text":_a,"pos":_c};};_pEditMaskNumber.isLimit=function(_a){var _b=_a.length;var _c=_a.indexOf(this._strPoint);var _d=0;var _e=0;if(_c!= -1){_d=_c;_e=_b-(_c+1);}var _f=(_a.charAt(0)=='-'||_a.charAt(0)=='+')?true:false;if(_f){_b-- ;if(this._end_pos<=_c){_d-- ;}}if(this._nLimitType==3){if(this._nDecimalMax==0||_c== -1){return (_b>=this._nMax);}if(this._nMax>0&&this._nDecimalMax>0){if(this._end_pos<=_c){return (_d>=this._nMax);}else if(this._end_pos>_c){return (_e>=this._nDecimalMax);}else{return false;}}}else if(this._nLimitType==2){if(this._nMax>0&&this._nDecimalMax>0){if(this._begin_pos>_c){return (_e>=this._nDecimalMax);}}else if(this._nMax>0&&this._nDecimalMax==0&&_c>0){if(this._begin_pos>_c){return (_e>=this._nDecimalMax);}}}else if(this._nLimitType==1){if(this._nDecimalMax==0||_c== -1){return (_b>=this._nMax);}if(this._nMax>0&&this._nDecimalMax>0){if(this._end_pos<=_c){return (_d>=this._nMax);}else{return false;}}}else if(this._nLimitType==0){return false;}return false;};_pEditMaskNumber._set_old_info=function(){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;};_pEditMaskNumber._is_maskchar=function(_a){if(this.isDigit(_a)||_a==this._strPoint){return _a;}else if(this.isSign(_a)&&(this._nSignType==3||this._nSignType==0)){return _a;}else if(this.isSign(_a)&&(this._nSignType==3||this._nSignType==1)){return _a;}return "";};_pEditMaskNumber._apply_filter=function(_a){var _b=false;var _c={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};var _d=this._is_maskchar(_a);if(this.isSign(_d)){_c=this._apply_sign_filter(_d,(this._value?this._value:""),this._text,this._input_begin_pos);}else if(this.isComma(_d)){_c=this._apply_comma_filter(_d,(this._value?this._value:""),this._text,this._input_begin_pos);}else if(this.isDigit(_d)){_c=this._apply_digit_filter(_d,(this._value?this._value:""),this._text,this._input_begin_pos);}return _c;};_pEditMaskNumber._apply_sign_filter=function(_a,_b,_c,_d){var _e=_c.charAt(0);if(this.isPlusSign(_a)&&(this._nSignType==1||this._nSignType==3)){if(this.isPlusSign(_e)){_b=this.normalizeValue(_c,true);_c=this.makeText(_b);_d-=1;}else if(this.isMinusSign(_e)){_b=this.normalizeValue(_c.substr(1),true);_c=_a+this.makeText(_b);}else{_c=_a+this.makeText(_b);_d+=1;}}else if(this.isMinusSign(_a)&&(this._nSignType==0||this._nSignType==3)){if(this.isMinusSign(_e)){_b=this.normalizeValue(_c.substr(1),true);_c=this.makeText(_b);_d-=1;}else if(this.isPlusSign(_e)){_b=this.normalizeValue(_c.substr(1),true);_c=_a+this.makeText(_b);}else{_b=_a+this.normalizeValue(_c,true);_c=this.makeText(_b);_d+=1;}}return {value:_b,text:_c,caret:_d,bChange:true};};_pEditMaskNumber._apply_comma_filter=function(_a,_b,_c,_d){var _e=true;var _f=_b.indexOf(this._default_decimal_point);if(_f== -1){var _g=true;var _h=this._input_begin_pos;var _i=_c.substr(0,_h);var _j=_c.substr(_h);var _k=_j.length;if(this._nDecimalMax==0){_g=false;}else if(_c.indexOf(_a)> -1){_g=false;}else if(this._nLimitType==2||this._nLimitType==3){_g=(_k<=this._nDecimalMax)?true:false;}if(_g){_c=_i+_a+_j;if(_k==0){_e=false;}}}if(_e){_b=this.normalizeValue(_c,false);}if(_f> -1||(_f== -1&&_g)){_d=_c.indexOf(_a)+1;}return {value:_b,text:_c,caret:_d,bChange:true};};_pEditMaskNumber._apply_digit_filter=function(_a,_b,_c,_d){var _e=this.onInputDigit(_c,_a,_d);var _c=_e.text;return {value:this.normalizeValue(_c),text:_c,caret:_e.pos,bChange:true};};_pEditMaskNumber._setLocale=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);this._strPoint=_b.decimal_point;if(_b.thousands_sep){this._strSeparator=_b.thousands_sep;}else{this._strSeparator=this._default_thousands_sep;}if(!_b.grouping||_b.grouping[0]==0){this._grouping=this._default_grouping;}else{this._grouping=_b.grouping;}if(_b.positive_sign){this._positive_sign=_b.positive_sign;}else{this._positive_sign=this._default_positive_sign;}if(_b.negative_sign){this._negative_sign=_b.negative_sign;}else{this._negative_sign=this._default_negative_sign;}if(_b.p_sign_posn!=undefined||_b.p_sign_posn!=null){this._positive_sign_posn=_b.p_sign_posn;}else{this._positive_sign_posn=this._default_positive_sign_posn;}if(_b.n_sign_posn!=undefined||_b.n_sign_posn!=null){this._negative_sign_posn=_b.n_sign_posn;}else{this._negative_sign_posn=this._default_negative_sign_posn;}};_pEditMaskNumber.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e=this._text;var _f=_a.getElementValue();if(this._pasteAction||this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){var _g=_c.length-_d.length;if(_g==0){var _h=false;for(var _k=0,_l=_c.length;_k<_l;_k++ ){if(_c[_k]!=_d[_k]){_b+=_c[_k];_h=true;}else if(_h){break;}}}else{var _i=this._old_begin_pos;var _j=this._begin_pos;if(_i!=_j){_b=_c.substr(_i,_g-(_i-_j));}else{_b=_c.substr(this._begin_pos,_g);}}}else{_b=this._stat_composition.getData(_a);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d,_e){if(_e){_a.setElementValue(this._text,true);}else{_a.setElementValue(this._text);}if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}else if(nexacro.Browser=="Safari"){_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){var _e=this;nexacro.OnceCallbackTimer.callonce(_e.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c);}};}else{_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}_pEditMaskNumber._changeFocusText=function(_a){var _b=this._value;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e="";if(!_b){_e=this.makeText("",true);}else{if(_a.readonly){_e=this.makeText(_b,false);}else{_e=this.makeText(_b,true);}}this._setText(_e);this.syncValue();if(_a&&_c!=_e){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._accept_blur_event=false;}_a.setElementValue(_b);if(nexacro.Browser=="Gecko"){this.setElementCaretPos(_d.begin,_d.end,_a);}}};_pEditMaskNumber._check_keypressPrevent=function(_a){var _b=false;var _c={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};var _d=String.fromCharCode(_a);var _e=_d;_c=this._apply_filter(_d);if(!_c.bChange){_b=true;}return _b;};_pEditMaskNumber._check_backspace=function(_a){var _b=_a.getElementValue();if(_b.length==(this._text.length-1)){if(!this._cutAction&&!this._pasteAction&&!this._is_composition()){return true;}}return false;};_pEditMaskNumber._mouseup_process=function(_a){if(this._is_composition()){this._setCaret(_a);}else{var _b=this;nexacro.OnceCallbackTimer.callonce(_b.comp,function(){_b._setCaret(_a);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _c=_a.getElementValue();if(_c==""&&_c!=_b._text){_b._setText(_b.makeText(_c,true));if(_b._value){_b._setValue(_b.normalizeValue(_b._text));}_b.syncValue();_b._setElementValue(_a,_b._begin_pos,_b._end_pos);_b.setElementCaretPos(_b._begin_pos,_b._begin_pos,_a);}}if(_b._text){if(_b._begin_pos==_b._end_pos){_b._select_text="";}else{_b._select_text=_b._text.substring(_b._begin_pos,_b._end_pos);}}});}};_pEditMaskNumber._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(!this._bChangeFocusText){this._changeFocusText(_a);this._bChangeFocusText=true;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditMaskNumber._blur_process=function(_a){var _b=_a.getElementValue();if(!this._value){var _c=this.makeText("",false);}else{var _c=this.makeText(this._value,false);}this._setText(_c);this.syncValue();this._bChangeFocusText=false;if(_b!=_c||!this._value){_a.setElementValue(this._value,true);}};_pEditMaskNumber._keyup_process_enter=function(_a){var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d||_c!=_e){if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){this._accept_keyinput_event=false;}this.comp._on_fire_changeEventSet(_b,_c,_d,_e);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}};_pEditMaskNumber._on_default_input_keydown=function(_a,_b,_c,_d,_e){this._setCaret(_a);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}};_pEditMaskNumber._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=true;var _h=_c||_b;var _i=this.comp;var _j=this._textEventInfo;var _k=false;if(!_i){return false;}if(_a.readonly){if(_h==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}this._set_old_info();if(_b==nexacro.Event.KEY_SPACE){if(nexacro._isNull(this._value)){var _l=this.makeText("",false);}else{var _l=this.makeText(this._value,false);}this._filteredtext=false;_j.setTextInfo("",this._old_text,_l,"","",this._old_text);_k=true;}if(_h==nexacro.Event.KEY_BACKSPACE||(_h==nexacro.Event.KEY_DELETE&&_h==this._keycode)||(nexacro.Browser=="MobileSafari"&&_h==127)){this.deleteChar(_h==8?true:false);_j.setTextInfo("",this._old_text,this._text,"","",this._old_text);_k=true;}if(_k){_g=_i.on_fire_ontextchange(_j);if(_g){_g=_i.on_fire_cancharchange(_i,_j.chartext,_j.pretext,_j.posttext);if(_g){_g=_i.on_fire_onchar(_j);}if(_g){this._setText(_j.posttext);this._setValue(this.normalizeValue(_j.posttext));this.syncValue();if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&(nexacro.BrowserVersion==10||nexacro.BrowserVersion==9)){this._accept_keyinput_event=false;}_a.setElementValue(this._text,true);this.setElementCaretPos(this._end_pos,this._end_pos,_a);if(_j.pretext!=_j.posttext){if(!this._is_undo){this._undoStack.push(this._value,this._text,this._end_pos,this._end_pos);}_i._textchanging=true;_i.on_fire_ontextchanged(_i,_j.pretext,_j.posttext);_i._textchanging=false;}}}if(!_g){this._setText(this._old_text);this._setValue(this.normalizeValue(this._old_text));this.syncValue();this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);}this._select_text="";_a._event_stop=true;}else if(nexacro.OS=="iOS"){bPrevent=this._check_keypressPrevent(_b);if(bPrevent){_a._event_stop=true;}this._keypress=true;}return _g;};_pEditMaskNumber._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_b>=37&&_b<=40)){this._select_text="";}if(_b==13){this._keyup_process_enter(_a);return;}if(nexacro.OS=="iOS"||nexacro.OS=="Android"){if(this._filteredtext){this._filteredtext=false;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else{this._setCaret(_a);}}else{this._setCaret(_a);}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion==10){_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}if(!this._set_old_prop){this._set_old_info();}if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);this._set_old_prop=true;if(!this._cutAction){if(this._pasteAction){this._isPasteActionComplete=false;}return;}}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}this._set_old_prop=false;};}else if(nexacro.BrowserVersion>=9){_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}if(!this._set_old_prop){this._set_old_info();}if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);this._set_old_prop=true;return;}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}this._set_old_prop=false;};}}else if(nexacro.OS=="iOS"){_pEditMaskNumber._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=_a.getElementCaretPos();var _d=this._text;if(!_d){_d="";}var _e="";if(_b==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer(_b,_c.begin,_c.end);}_e=this.getInsertText(_a);if(this._is_composition()){if(this._keypress){_e=_e.substr(_e.length-1,1);this._keypress=false;}else{_e="";}}this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e=this._text;if(!_e){_e="";}var _f="";if(_c==_e){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_e,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer(_c,_d.begin,_d.end);}_f=this.getInsertText(_a);this._fire_text_event(_f);if(!this._is_composition()){this._stat_composition.init();}};}_pEditMaskNumber._fire_text_event=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();var _e=this._textEventInfo;var _f=_b.autoskip;var _g=false;var _h=false;var _i=false;var _j={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};if(this._is_undo){this._setText(_d);this._setValue(this.normalizeValue(this._text));}else if(this._pasteAction){var _k=0;while(_k<_a.length){var _l=_a.charAt(_k);_j=this._apply_filter(_l);if(_j.bChange){this._setValue(_j.value);this._setText(_j.text);this.setElementCaretPos(_j.caret,_j.caret);}_k++ ;}if(_d!=this._text){this.setValue(this._text);}}else{_j=this._apply_filter(_a);if(_j.bChange){this._setValue(_j.value);this._setText(_j.text);this.setElementCaretPos(_j.caret,_j.caret);}}if(_d!=this._text){_g=true;this._filteredtext=true;}_e.setTextInfo(_a,this._old_text,this._text,"","",this._old_text);var _j=_b.on_fire_ontextchange(_e);if(_j){_j=_b.on_fire_cancharchange(_b,_e.chartext,_e.pretext,_e.posttext,_e.pretext);if(_j){_j=_b.on_fire_onchar(_e);if(_j){if(_d!=_e.posttext){_i=true;}if(_e.pretext!=_e.posttext){this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}this.setElementCaretPos(this._begin_pos,this._end_pos,_c);_b.on_fire_ontextchanged(_b,this._old_text,this._text);}}}}if(!_j){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._setElementValue(_c,this._old_begin_pos,this._old_end_pos,true);return;}if(_g||_i){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this.syncValue();if(nexacro.OS=="Mac OS"&&_g&&this._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionEnd&&!this._is_hangul(_a)){var _m=this;nexacro.OnceCallbackTimer.callonce(_m.comp,function(){_m._accept_keyinput_event=false;_m._accept_blur_event=false;_m._accept_focus_event=false;_c.setElementBlur();_c.setElementFocus();_m._accept_blur_event=false;_m._accept_focus_event=false;_c.setElementBlur();_c.setElementFocus();_m._accept_keyinput_event=true;_m._setElementValue(_c,_m._begin_pos,_m._begin_pos,true);_m._stat_composition.init();});}else if(nexacro._isDesktop()&&nexacro.Browser=="Safari"&&_g&&this._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionEnd&&!this._is_hangul(_a)){var _m=this;nexacro.OnceCallbackTimer.callonce(_m.comp,function(){nexacro.__setDOMNodeValue(_c._input_handle,null);_m._setElementValue(_c,_m._begin_pos,_m._begin_pos,true);_m._is_compositionfocus=true;});}else{this._setElementValue(_c,this._begin_pos,this._end_pos,true);}}if(nexacro._isDesktop()&&nexacro.Browser=="Safari"){if(!_g&&this._is_composition()&&!this._is_hangul(_a)&&this._stat_composition._curr_stat!="none"){var _m=this;nexacro.OnceCallbackTimer.callonce(_m.comp,function(){nexacro.__setDOMNodeValue(_c._input_handle,null);_m._setElementValue(_c,_m._begin_pos,_m._begin_pos,true);_m._is_compositionfocus=true;});}}if(_f){_h=this.isFilled();if(_h){this._apply_autoskip();}}};delete _pEditMaskNumber;_pEditMaskNumber=null;nexacro.EditMaskDate=function(_a){nexacro.EditMaskString.call(this,_a);};_pEditMaskDate=nexacro._createPrototype(nexacro.EditMaskString,nexacro.EditMaskDate);nexacro.EditMaskDate.prototype=_pEditMaskDate;_pEditMaskDate._type_name="EditMaskDate";_pEditMaskDate._maskChr={"y":/[0-9]/,"M":/[0-9]/,"d":/[0-9]/,"h":/[0-9]/,"H":/[0-9]/,"m":/[0-9]/,"s":/[0-9]/,"l":/[0-9]/,"~":/[uAC00-\uFAFF]/,"^":/[uAC00-\uFAFF]/};delete _pEditMaskDate;_pEditMaskDate=null;nexacro.EditBase.Status=function(_a){this.id=_a;this.init();};var _pEditBaseStatus=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.Status);nexacro.EditBase.Status.prototype=_pEditBaseStatus;_pEditBaseStatus._type_name="EditBaseStatus";_pEditBaseStatus._prev_stat="";_pEditBaseStatus._curr_stat="";_pEditBaseStatus.init=function(){this._prev_stat=nexacro.EditBase.Status.None;this._curr_stat=nexacro.EditBase.Status.None;};_pEditBaseStatus.setStatus=function(_a){this._prev_stat=this._curr_stat;this._curr_stat=_a;};_pEditBaseStatus.getCurrentStatus=function(){return this._curr_stat;};_pEditBaseStatus.getPreviousStatus=function(){return this._prev_stat;};delete _pEditBaseStatus;_pEditBaseStatus=null;nexacro.EditBase.CompositionStatus=function(_a){nexacro.EditBase.Status.call(this,_a);};var _pEditBaseCompositionStatus=nexacro._createPrototype(nexacro.EditBase.Status,nexacro.EditBase.CompositionStatus);nexacro.EditBase.CompositionStatus.prototype=_pEditBaseCompositionStatus;_pEditBaseCompositionStatus._type_name="EditBaseCompositionStatus";_pEditBaseCompositionStatus._prev_stat="";_pEditBaseCompositionStatus._curr_stat="";_pEditBaseCompositionStatus._prev_data="";_pEditBaseCompositionStatus._curr_data="";_pEditBaseCompositionStatus.init=function(){this._prev_stat=nexacro.EditBase.Status.None;this._curr_stat=nexacro.EditBase.Status.None;this._prev_data="";this._curr_data="";};_pEditBaseCompositionStatus.setStatus=function(_a,_b){this._prev_stat=this._curr_stat;this._curr_stat=_a;this._prev_data=this._curr_data;this._curr_data=_b;};_pEditBaseCompositionStatus.getData=function(){return this._curr_data;};_pEditBaseCompositionStatus.getPreviousData=function(){return this._prev_data;};delete _pEditBaseCompositionStatus;_pEditBaseCompositionStatus=null;nexacro.EditBase.Status.None="none";nexacro.EditBase.Status.MouseDown="mousedown";nexacro.EditBase.Status.MouseUp="mouseup";nexacro.EditBase.Status.Click="click";nexacro.EditBase.Status.Select="select";nexacro.EditBase.Status.MouseMove="mousemove";nexacro.EditBase.Status.MouseDrag="drag";nexacro.EditBase.Status.MouseDragMove="dragmove";nexacro.EditBase.Status.MouseDrop="drop";nexacro.EditBase.Status.NoSelectDrag="noselectdrag";nexacro.EditBase.Status.Focus="focus";nexacro.EditBase.Status.Blur="blur";nexacro.EditBase.Status.CompositionStart="start";nexacro.EditBase.Status.CompositionUpdate="update";nexacro.EditBase.Status.CompositionEnd="end";nexacro.EditBase.UndoStack=function(_a){this.init();this.comp=_a;};var _pEditBaseUndoStack=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.UndoStack);nexacro.EditBase.UndoStack.prototype=_pEditBaseUndoStack;_pEditBaseUndoStack._type_name="EditBaseUndoStack";_pEditBaseUndoStack.undoStack=[{value:0,selectionStart:0,selectionEnd:0}];_pEditBaseUndoStack.comp=null;_pEditBaseUndoStack.undoPosition=0;_pEditBaseUndoStack.init=function(){this.undoStack=[{value:0,text:0,selectionStart:0,selectionEnd:0}];this.undoPosition=0;};_pEditBaseUndoStack._destroy=function(){this.comp=null;this.undoStack=null;};_pEditBaseUndoStack.push=function(_a,_b,_c,_d){if(!_b){if(!_a){_b="";}else{_b=_a;}}var _e={value:_a,text:_b,selectionStart:_c,selectionEnd:_d};var _f=this.undoStack[this.undoPosition];if(_f.value===_a){this.refreshUndoItem(_e);}else{this.undoStack.length= ++this.undoPosition;this.undoStack.push(_e);}};_pEditBaseUndoStack.restoreUndoItem=function(_a){var _b=this.comp._input_element;if(_b){_b.text=_a.text;_b.value=_a.value;_b._updateInputValue();_b.setElementSetSelect(_a.selectionStart,_a.selectionEnd);}};_pEditBaseUndoStack.refreshUndoItem=function(_a){var _b=false;var _c=this.undoStack[this.undoPosition];if(_c.value!==_a.value||_c.text!==_a.text||_c.selectionStart!==_a.selectionStart||_c.selectionEnd!==_a.selectionEnd){_b=true;}if(_b){this.undoStack[this.undoPosition]=_a;}};_pEditBaseUndoStack.doUndo=function(){if(this.comp&&this.comp.readonly){return;}if(this.undoPosition>1){this.restoreUndoItem(this.undoStack[ --this.undoPosition]);}};_pEditBaseUndoStack.doRedo=function(){if(this.comp&&this.comp.readonly){return;}if(this.undoPosition<this.undoStack.length-1){this.restoreUndoItem(this.undoStack[ ++this.undoPosition]);}};delete _pEditBaseUndoStack;_pEditBaseUndoStack=null;nexacro.EditBase.TextEventInfo=function(_a){this.init();this.comp=_a;};var _pEditBaseTextEventInfo=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.TextEventInfo);nexacro.EditBase.TextEventInfo.prototype=_pEditBaseTextEventInfo;_pEditBaseTextEventInfo._type_name="EditBaseTextEventInfo";_pEditBaseTextEventInfo.init=function(){this.chartext=null;this.pretext=null;this.posttext=null;this.preimetext=null;this.postimetext=null;this.prechareventtext=null;this.bInsert=true;this.bCut=false;};_pEditBaseTextEventInfo._destroy=function(){this.comp=null;this.chartext=null;this.pretext=null;this.posttext=null;this.preimetext=null;this.postimetext=null;this.prechareventtext=null;this.bInsert=true;this.bCut=false;};_pEditBaseTextEventInfo.setTextInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.chartext=_a;this.pretext=_b;this.posttext=_c;this.preimetext=_d;this.postimetext=_e;this.prechareventtext=_f;this.bInsert=_g;this.bCut=_h;};delete _pEditBaseTextEventInfo;_pEditBaseTextEventInfo=null;}if(!nexacro.Form){nexacro.LayoutChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"onlayoutchanged";this.fromobject=this.fromreferenceobject=_a;this.bubbles=true;this.oldlayout=_c;this.newlayout=_d;this.oldlayoutwidth=_e;this.newlayoutwidth=_f;this.oldlayoutheight=_g;this.newlayoutheight=_h;};var _pLayoutChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.LayoutChangeEventInfo);nexacro.LayoutChangeEventInfo.prototype=_pLayoutChangeEventInfo;_pLayoutChangeEventInfo._type_name="LayoutChangeEventInfo";delete _pLayoutChangeEventInfo;nexacro.DeviceButtonEventInfo=function(_a,_b){this.eventid="ondevicebutton";this.fromobject=_a;this.fromreferenceobject=_a;this.button=_b.button;};var _pDeviceButtonEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DeviceButtonEventInfo);nexacro.DeviceButtonEventInfo.prototype=_pDeviceButtonEventInfo;_pDeviceButtonEventInfo._type_name="DeviceButtonEventInfo";delete _pDeviceButtonEventInfo;nexacro.BindItem=function(_a,_b,_c,_d,_e){nexacro.Object.call(this);this.name=_a||"";this.compid=_b||"";this.propid=_c||"";this.datasetid=_d||"";this.columnid=_e||"";this._en_type=1;this._dataset=null;this._comp=null;};var _pBindItem=nexacro.BindItem.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindItem);_pBindItem._type_name="BindItem";_pBindItem.set_name=function(_a){if(_a&&this.name!=_a){this.name=_a;}};_pBindItem.set_compid=function(_a){if(_a&&this.compid!=_a){this.compid=_a;}};_pBindItem.set_propid=function(_a){if(_a&&this.propid!=_a){this.propid=_a;}};_pBindItem.set_datasetid=function(_a){if(_a&&this.datasetid!=_a){this.datasetid=_a;}};_pBindItem.set_columnid=function(_a){if(_a&&this.columnid!=_a){this.columnid=_a;}};_pBindItem.init=function(_a,_b,_c,_d,_e){this.set_name(_a);this.set_compid(_b);this.set_propid(_c);this.set_datasetid(_d);this.set_columnid(_e);};_pBindItem.destroy=function(){this._dataset=null;this._comp=null;nexacro.Object.prototype.destroy.call(this);};_pBindItem.bind=function(){if(this.parent&&!this.parent._is_loading){if(this.compid==""||this.propid==""||this.datasetid==""||this.columnid==""){return;}this.parent._bind_manager._setBinditem(this,false);this.parent._bind_manager._notify(this);}};_pBindItem._checkType=function(_a){if(typeof _a=="string"&&_a==this.propid){this._en_type=2;}};delete _pBindItem;nexacro.BindManager=function(_a){nexacro.Object.call(this);this.datasets={};this.exception="";this._form=_a;};var _pBindManager=nexacro.BindManager.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindManager);_pBindManager._type_name="BindManager";_pBindManager.destroy=function(){this.datasets=null;this._form=null;nexacro.Object.prototype.destroy.call(this);};_pBindManager.on_changevalue=function(_a,_b){var _c=_b.propid;var _d=this._FindBindItem(_a,_c);var _e=_b.val;if(_d&&_d._en_type==2){this.exception=_a;var _f=_d._dataset;var _g=_f.rowposition;var _h=_f._getDataColIndex(_d.columnid);if(_h!==undefined){var _i=_f.setColumn(_g,_h,_e);if(_i==true){var _j=_f.getColumn(_g,_h);if(_j!=_e){_e=_j;}this.exception=null;return true;}else{this.exception=null;return false;}}}this.exception=null;return true;};_pBindManager.on_valuechanged=function(_a,_b){var _c=_a;var _d=_b.row;var _e=_b.col;var _f=_b.columnid;var _g=_b.newvalue;if(_c.rowposition==_d||_d<0){if(_e<0){return this._notifyAll(_c.name,null, -1,true,null);}else{return this._notifyAll(_c.name,_f,_e,false,_g);}}return true;};_pBindManager.on_load=function(_a,_b){var _c=_a;if(_c.rowcount==0&&_b.reason==0){return this._notifyAll(_c.name,null, -1,true,null);}return true;};_pBindManager._delayBinds=function(){var _a=this._form.binds.length;for(var _c=0;_c<_a;_c++ ){var _b=this._form.binds[_c];if(_b._dataset){continue;}this._setBinditem(_b,false);this._notify(_b);}};_pBindManager._forceBinds=function(){var _a=this._form.binds.length;for(var _c=0;_c<_a;_c++ ){var _b=this._form.binds[_c];this._setBinditem(_b,false);this._notify(_b);}};_pBindManager._setBinditem=function(_a,_b){if(!_a){return;}var _c=this._form.binds;var _d=_a.datasetid;var _e=_a._dataset;var _f=_a._comp;if(!_e||_d!=_e.id){_e=this._form._getDatasetObject(_d);}if(!_a._comp){_f=this._form._findChildObject(_a.compid);}if(!_e||!_f){return;}if(!_b){_a._dataset=_e;_a._comp=_f;_a._checkType(_f.on_getBindableProperties());if(this.datasets[_d]){var _g=nexacro._indexOf(this.datasets[_d],_a);if(_g> -1){this.datasets[_d].splice(_g,1);if(_f._bind_event){_f._bind_event._removeHandler(this,this.on_changevalue);delete _f._bind_event;_f._bind_event=null;}}this.datasets[_d].push(_a);}else{this.datasets[_d]=[];this.datasets[_d].push(_a);_e.setEventHandler("onload",this.on_load,this);_e.setEventHandler("onvaluechanged",this.on_valuechanged,this);}if(!_f._bind_event){_f._bind_event=new nexacro.EventListener("onbinditem");_f._bind_event._setHandler(this,this.on_changevalue);}}else{if(this.datasets[_d]){var _g=nexacro._indexOf(this.datasets[_d],_a);if(_g> -1){this.datasets[_d].splice(_g,1);if(this.datasets[_d].length==0){_e.removeEventHandler("onload",this.on_load,this);_e.removeEventHandler("onvaluechanged",this.on_valuechanged,this);delete this.datasets[_d];}}}if(_f._bind_event){_f._bind_event._removeHandler(this,this.on_changevalue);delete _f._bind_event;}}};_pBindManager._FindBindItem=function(_a,_b){var _c=this._form.binds;for(var _e=0,_f=_c.length;_e<_f;_e++ ){var _d=_c[_e];if(_d._comp==_a&&_d.propid==_b&&_d.datasetid&&_d.columnid){return _d;}}return null;};_pBindManager._dettachSBindItem=function(_a){if(!_a._bind_event){return;}_a._bind_event._removeHandler(this);var _b=this._form.binds;var _c=_b.length;for(var _g=0;_g<_c;_g++ ){if(_b[_g]._comp==_a){var _d=_b[_g].datasetid;if(this.datasets[_d]){var _e=nexacro._indexOf(this.datasets[_d],_b[_g]);if(_e> -1){var _f=this.datasets[_d][_e].parent;this.datasets[_d][_e].destroy();this.datasets[_d].splice(_e,1);_b[_g].parent=_f;}_b[_g]._comp=null;}}}};_pBindManager._notify=function(_a){var _b=_a._dataset;var _c=_a._comp;if(_b&&_c){var _d=_b.rowposition;if(_a._en_type==2){if(_c.enable){if(_d<0){_c._setEnable(false);}else{if(_c._real_enable){_c._setEnable(true);}}}var _e=_b._getDataColIndex(_a.columnid);if(_e>=0&&_c.on_change_bindSource){_c.on_change_bindSource(_a.propid,_a._dataset,_d,_e, -1);}}else{if(_a.columnid&&_a.columnid!=""){var _e=_b._getDataColIndex(_a.columnid);if(_e==undefined){_e= -1;}var _f=_b.getColumn(_d,_e);if(_a.propid){if(_c["set_"+_a.propid]){_c["set_"+_a.propid](_f);}else if(_c.style&&_c.style["set_"+_a.propid]){_c.style["set_"+_a.propid](_f);}}}}}};_pBindManager._notifyAll=function(_a,_b,_c,_d,_e){var _f=this.datasets[_a];var _g=null;var _h= -1;if(!_f){return true;}for(var _l=0,_m=_f.length;_l<_m;_l++ ){_g=_f[_l];if(!_g._dataset){continue;}if(_g.columnid==""){continue;}var _i=_g._dataset;_h=_i.rowposition;var _j=_g._comp;if(_j){if(_g._en_type==2){if(_d){if(_j.enable&&_j._isPropEnable()){if(_h<0){_j._setEnable(false);}else{_j._setEnable(true);}}else if(!_j.enable){if(_h>=0){_j._setEnable(true);}}_c=_i._getDataColIndex(_g.columnid);if(_c>=0){if(_j.on_change_bindSource){_j.on_change_bindSource(_g.propid,_g._dataset,_h,_c, -1);}}else{if(_j.on_init_bindSource){_j.on_init_bindSource(_g.columnid,_g.propid,_g._dataset);}}}else{if(_c>=0){if(_g.columnid==_b&&_j.on_change_bindSource){_j.on_change_bindSource(_g.propid,_g._dataset,_h,_c, -1);}}else{if(_g.columnid==_b&&_j.on_init_bindSource){_j.on_init_bindSource(_g.columnid,_g.propid,_g._dataset);}}}}else{var _k;if(_d){_k=_i.getConstColumn(_g.columnid);if(_k==undefined){_c=_i._getDataColIndex(_g.columnid);if(_c==undefined){_c= -1;}_k=_i.getColumn(_h,_c);}}else{if(_b==_g.columnid){_k=_e;}else{continue;}}if(_g.propid){if(_j["set_"+_g.propid]){_j["set_"+_g.propid](_k);}else if(_j.style&&_j.style["set_"+_g.propid]){_j.style["set_"+_g.propid](_k);}}}}}return true;};delete _pBindManager;nexacro.FormBase=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();this.binds=new nexacro.Collection();this._bind_manager=new nexacro.BindManager(this);this._layout_list=new nexacro.Collection();this.scrollbars="autoboth";this.dragscrolltype="all";this._css_selectors={_has_items:false,_has_attr_items:false};this._cssfinder_cache={};this._child_list=[];this._refform=this;this._scrollbars=3;this._load_manager=new nexacro.LoadManager(this);this._timerManager=new nexacro.TimerManager(this);this._includescriptlist=[];this._apply_client_padding=false;this._hotkey_list=[];this._load_callbacklist=[];this._is_loadcallback=false;this._is_fired_onload=false;this._is_form=true;this._is_loaded=false;this._is_completed=false;this._is_async=false;this._is_scrollable=true;this._url="";this._base_url="";this._last_focused=null;this._hittest_type="";this._default_layout=null;this._current_layout_name="default";this._cur_real_layout="default";this._obj_mousemove=null;this._locale="";};var _pFormBase=nexacro.FormBase.prototype=nexacro._createPrototype(nexacro.Component,nexacro.FormBase);_pFormBase._type_name="FormBase";_pFormBase.on_create=nexacro._emptyFn;_pFormBase.on_create_control_element=function(_a){if(!_a){return null;}var _b;if(this._is_scrollable){_b=this.on_create_scrollable_control_element(_a);}else{_b=this.on_create_normal_control_element(_a);}return _b;};_pFormBase.createComponent=function(_a){if(this._is_loading){return;}var _b=null;if(!this._is_window){_b=this.parent?this.parent._control_element:null;if(!_b){return false;}}var _c=this._control_element;if(!_c){_c=this.on_create_control_element(_b);if(this._is_nc_control){_c._is_nc_element=true;}var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);if(this._layout_list.length>0){this._initLayoutManager();}this._initStepContents();this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}if(this.positionstep!=null){this.on_apply_positionstep(this.positionstep);}if(this._hittest_type){_c.setElementHittestType(this._hittest_type);}if(!_a&&(this._is_window||_b._handle)){var _e=this._getWindow();this.on_created(_e);}}else{if(_b&&_b._handle){_b.appendChildElement(_c);_c.parent=this;if(this._layout_list.length>0){this._initLayoutManager();}this._initStepContents();var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}if(!_a){var _f=this._getWindow();this.on_created(_f);}}else{var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}}}return true;};_pFormBase.on_create_contents=function(){var _a=this.components;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].createComponent(true);}};_pFormBase.on_created_contents=function(){var _a=this.objects.length;var _b=0;for(_b=0;_b<_a;_b++ ){this.objects[_b].on_created();}var _c=this.components;_a=_c.length;for(_b=0;_b<_a;_b++ ){var _d=false;if(_c[_b] instanceof nexacro.FormBase){_d=true;_c[_b]._is_loadcallback=this._load_callbacklist;}_c[_b].on_created();if(_d){_c[_b]._is_loadcallback=false;}}if(this.stepcontrol){this.stepcontrol.on_created();}if(this._is_scrollable){this.resetScroll();var _e=this._control_element;if(_e&&this.stepcontrol){_e.setElementHScrollPos(_e.client_width*_e._step_index);}}this.on_apply_prop_rtldirection();var _f=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);this.on_apply_style_rtlimagemirroring(_f);_e=null;_c=null;var _g=this._getWindow();if(_g){nexacro._refreshWindow(_g._handle);}};_pFormBase.on_destroy_contents=function(){if(this._timerManager){this._timerManager.destroy();this._timerManager=null;}if(this._load_manager){var _a=this._load_manager;var _b=_a.transactionList;if(_b){this._stopTransaction(true);for(var _m=_b.length-1;_m>=0;_m-- ){var _c=_b[_m];if(_c._usewaitcursor){_c._hideWaitCursor(this);}_c=null;}_b=null;}this._load_manager.destroy();this._load_manager=null;}var _d=this.binds;var _e=_d.length;for(var _m=0;_m<_e;_m++ ){var _f=_d.get_id(_m);this._bind_manager._setBinditem(_d.get_item(_f),true);this[_f]=null;}var _g=this.components;_e=_g.length;for(var _m=0;_m<_e;_m++ ){var _h=_g.get_id(0);if(this[_h]){if(this[_h]._destroy){this[_h]._destroy();this[_h]=null;}}}var _i=this.objects;_e=_i.length;for(var _m=0;_m<_e;_m++ ){var _j=_i.get_id(0);if(this[_j]){if(this[_j].destroy){this[_j].destroy();}_i.delete_item(_j);delete this[_j];this[_j]=null;}}var _k=this._layout_list;_e=_k.length;for(var _m=0;_m<_e;_m++ ){var _l=_k.get_id(0);if(_l){if(_k[_l].destroy){_k[_l].destroy();}_k.delete_item(_l);}}if(this._bind_manager){this._bind_manager.destroy();this._bind_manager=null;}this.all.clear();this.all=null;this.components.clear();this.components=null;this.objects.clear();this.objects=null;this.binds.clear();this.binds=null;this._layout_list.clear();this._layout_list=null;this._css_selectors=null;this._cssfinder_cache=null;this._child_list=null;this._includescriptlist=null;this._hotkey_list=null;this._load_callbacklist=null;this._css_finder=null;this._ref_css_finder=null;this._find_csslist=null;if(this._default_layout){if(this._default_layout.destroy){this._default_layout.destroy();}this._default_layout=null;}this._obj_mousemove=null;};_pFormBase._clearUserFunctions=function(){var _a=null;if(this._type_name=="Div"){_a=nexacro.Div.prototype;}else if(this._type_name=="Tab"){_a=nexacro.Tab.prototype;}else if(this._type_name=="Tabpage"){_a=nexacro.Tabpage.prototype;}else if(this._type_name=="PopupDiv"){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Tab){_a=nexacro.Tab.prototype;}else if(this instanceof nexacro.Tabpage){_a=nexacro.Tabpage.prototype;}else if(this instanceof nexacro.PopupDiv){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Div){_a=nexacro.Div.prototype;}else if(this instanceof nexacro.Form){_a=nexacro.Form.prototype;}else if(this instanceof nexacro.Frame){_a=nexacro.Frame.prototype;}for(var _b in this){if(typeof this[_b]==="function"&&_a&&!_a[_b]){this[_b]=null;}}};_pFormBase._clear=function(){this._clearEventListeners();if(this._timerManager&&this._timerManager.timerList.length>0){this._timerManager.clearAll();}if(this.stepcontrol){this._destroyStepControl();delete this.stepcontrol;}var _a=this.binds;var _b=_a.length;for(var _i=0;_i<_b;_i++ ){var _c=_a.get_id(_i);this._bind_manager._setBinditem(_a.get_item(_c),true);delete this[_c];}var _d=this.components;var _e=this.objects;this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();_b=_d.length;for(var _i=0;_i<_b;_i++ ){var _f=_d.get_id(_i);if(this[_f]){if(this[_f]._destroy){this[_f]._destroy();}}}_d.clear();_b=_e.length;for(var _i=0;_i<_b;_i++ ){var _g=_e.get_id(_i);if(this[_g]){if(this[_g].destroy){this[_g].destroy();}delete this[_g];}}_e.clear();this.all.clear();this.components.clear();this.objects.clear();this.binds.clear();this._hotkey_list=[];var _h=this.getElement();if(_h){this._is_init=true;this._pseudo="normal";this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";_h.clearContents();if(this._is_scrollable){this.resetScroll();}}this._is_created=false;this._is_fired_onload=false;this._is_loadcallback=false;};_pFormBase._initStepContents=function(){if(this._layout_list.length==0&&this._default_layout){var _a= -1,_b=0;var _c= -1,_d=0;_c=this._default_layout.stepindex;_d=this._default_layout.stepcount;this._on_prepare_stepcontents(_b,_a,_d,_c);this._on_refresh_stepcontents(_b,_a,_d,_c);}};_pFormBase.on_initEvent=nexacro._emptyFn;_pFormBase._init=nexacro._emptyFn;_pFormBase.loadIncludeScript=nexacro._emptyFn;_pFormBase.loadPreloadList=nexacro._emptyFn;_pFormBase._loadInclude=function(_a,_b,_c){var _d=nexacro._getServiceObject(_b);var _e=nexacro._makeurl(_b);this._load_manager.loadIncludeModule(_e,null,_c,_d);};_pFormBase.executeScript=function(_a,_b,_c){var _d=nexacro._makeurl(_a);if(_b){var _e=nexacro._executeScript(_b);if(_e){var _f=this._async;this._async=false;_e.call(this,_d,_c);this._executeScript(this);this._async=_f;}}else{var _g=this._includescriptlist;var _h,_i,_j;for(var _k=0,_l=_g.length;_k<_l;_k++ ){_h=_g[_k];_j=nexacro._makeurl(_h.url);if(_j==_d&&!_h.isexecute){if(!_h.isloadonly){for(var _m=0,_n=_h.deps.length;_m<_n;_m++ ){_i=_h.deps[_m];this.executeScript(_i,_b,_c);}}_h.isexecute=true;_h.fn.call(this);break;}}}};_pFormBase.executeIncludeScript=_pFormBase.executeScript;_pFormBase._executeScript=function(_a){if(_a&&_a._registerscriptfn){_a._registerscriptfn.call(_a);}_a._registerscriptfn=null;_a._includescriptlist.length=0;};_pFormBase.registerScript=function(_a,_b){var _c=this._includescriptlist;var _d=_c.length,_e;for(var _f=0;_f<_d;_f++ ){_e=nexacro._makeurl(_c[_f].url);if(_e==_a){_c[_f].fn=_b;return;}}this._registerscriptfn=_b;};_pFormBase.addIncludeScript=function(_a,_b){if(_b&&this._is_loading){var _c=[],_d;var _e;var _f=this._includescriptlist;for(var _g=0,_h=_f.length;_g<_h;_g++ ){_e=_f[_g];if(!_e.isloadonly){if(_e.url.match(_a)){_d=_e.deps.length;for(var _i=0;_i<_d;_i++ ){if(_e.deps[_i]==_b){continue;}}_e.deps.push(_b);}}if(_e.url==_b){return;}}this._includescriptlist.push({url:_b,deps:_c,isloadonly:false,fn:nexacro._emptyFn,isload:false,isexecute:false});}};_pFormBase.loadIncludeScript=function(_a,_b){var _c;var _d=this._includescriptlist;for(var _e=0,_f=_d.length;_e<_f;_e++ ){_c=_d[_e];_c.isloadonly=_b;if(_c.isload==false){_c.isload=true;this._loadInclude.call(this,_a,_c.url,this._async);}}};_pFormBase._make_find_csslist=function(){var _a=this._find_csslist;if(!_a){_a=[];var _b=this;var _c;while(_b){_c=_b._css_selectors;if(_c&&_c._has_items){_a.push(_c);}if(_b._is_frame&&_b._is_popup_frame&&_b._window_type!=5){break;}else if(_b.parent==null&&!_b._is_application){_b=application;}else{_b=_b.parent;}}this._find_csslist=_a;}return _a;};_pFormBase._addCss=function(_a,_b,_c,_d){var _e=_a.split(">");var _f=_e.length;var _g=this._css_selectors;_g._has_items=true;var _h="";var _i="";var _j="";for(var _n=0;_n<_f;_n++ ){var _k=_e[_n];if(_k=="*"){continue;}if(_k.substr(0,1)=="#"){_i+=_k;}else if(_k.substr(0,1)=="."){if(_i==""){_j=_k;}}else{if(_k.substr(0,2)=="*."){_k=_k.substring(1);}if(_i==""){_h=_k;}}}if(_h!=""){var _l=_g[_h];if(!_l){_g[_h]=_l={_is_selector:true};}_g=_l;}else if(_j!=""){var _l=_g[_j];if(!_l){_g[_j]=_l={_is_selector:true};}_g=_l;}if(_i!=""){var _l=_g[_i];if(!_l){_g[_i]=_l={_is_selector:true};}_g=_l;}_g._has_attr_items=true;var _m=_g[_b];if(!_m){_g[_b]=_m={};}var _n=0;var _o=_d.length;var _p;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;};_pFormBase.create=function(){this.on_create();};_pFormBase.initEvent=function(){this.on_initEvent();};_pFormBase._on_init=function(){if(this._is_created){this._clear();}else{if(this._clear_obj){this._clear_obj();}}if(this._is_loading){this._clearEventListeners();}this._init();this.create();this._is_loading=false;if(this.parent&&this.parent.form==this){this.parent._loadedForm();}var _a=this._url,_b=null;var _c=this._includescriptlist;for(var _d=0,_e=_c.length;_d<_e;_d++ ){_b=_c[_d];if(_b&&!_b.isloadonly){this.executeScript(_b.url,null,this);}}this._executeScript(this);this.initEvent();this._is_loaded=true;};_pFormBase._addPreloadList=function(_a,_b,_c,_d){if(!_b){return;}var _e,_f;if(_a=="data"){_f=nexacro._getServiceObject(_b,true);_e=nexacro._getServiceLocation(_b,this._base_url);this._load_manager.addPreloadItem(_a,_e,_c,_d,_f);}else{_f=nexacro._getServiceObject(_b);_e=nexacro._getFDLLocation(_b,this._base_url);this._load_manager.addPreloadItem(_a,_e,this,null,_f);}};_pFormBase._findForm=function(_a){return this;};_pFormBase._getReferenceContext=function(){return this;};_pFormBase._getDlgCode=function(_a,_b,_c,_d){var _e=this._getLastFocused();if(_e&&_e!=this){return _e._getDlgCode(_a,_b,_c,_d);}return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:false};};_pFormBase.setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){this._adjustPosition(this.left,this.top,null,null,_a,_b,this.parent._client_width,this.parent._client_height);var _c=this._control_element;if(_c){_c.setElementSize(_a,_b);this._updateClientSize(_c);}}};_pFormBase._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFormBase._destroy=function(){if(!this._is_alive||this._is_destroying){return;}return this.destroyComponent();};_pFormBase.destroy=function(){if(!this._is_alive){return;}var _a=this._on_beforeclose();if(this._checkAndConfirmClose(_a)==false){return false;}if(this._window){this._window._ignore_close_confirm=true;}this._on_close();this._is_fired_onload=false;return this.destroyComponent();};_pFormBase.loadCss=function(_a,_b,_c){if(_a){if(!_b){_b=this._base_url;}var _d=[];_d.push(nexacro._getServiceLocation(_a,_b));if(!application.checkversion){_d.push(".js");}var _e=nexacro._getServiceObject(_a);this._load_manager.loadCssModule(_d.join(""),null,_c,_e);}};_pFormBase.move=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getElement();var _i=this._adjust_left;var _j=this._adjust_top;var _k=this._adjust_width;var _l=this._adjust_height;var _m=false,_n=false;var _o=false;var _p=this.parent;if(_p){this._adjustPosition(_a,_b,_e,_f,_c,_d,_p._client_width,_p._client_height);}else{this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}if(this._adjust_width!=_k||this._adjust_height!=_l){_m=true;if(_k==0||_l==0){_o=true;}}if(this._adjust_left!=_i||this._adjust_top!=_j){_n=true;}this.on_update_position(_m,_n);if(this._layout_list&&this._layout_list.length>0){this._checkValidLayout();}if(_o){this.currentstyle._empty();this._control_pseudo="";}this._updateControl(_h);this._updateContents(_h);};_pFormBase.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){var _c=this.getElement();if(_c&&_c._handle&&_c._vml_elem){_c._refreshVMLContainerElement(_c,_c._vml_elem);}return;}var _d=this._adjust_width;var _e=this._adjust_height;var _f=false;if(_d!=this._adjust_left+_a||_e!=this._adjust_top+_b){this.width=_a;this.height=_b;_f=true;}this._update_position(_f,false);if(this._layout_list&&this._layout_list.length>0){this._checkValidLayout();}};_pFormBase.confirm=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}nexacro._skipDragEventAfterMsgBox=true;return nexacro._confirm(_d.frame,_a,_b,_c);};_pFormBase.alert=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}nexacro._skipDragEventAfterMsgBox=true;application._is_on_alert=true;nexacro._alert(_d.frame,_a,_b,_c);application._is_on_alert=false;};_pFormBase.getOwnerFrame=function(){var _a=null;if(this.parent&&!(this.parent instanceof nexacro.Frame)){_a=this.parent.getOwnerFrame();}else{_a=this.parent;}return _a;};_pFormBase.lookup=function(_a){for(var _b=this;(_b!=null);_b=(_b.opener||_b.parent)){if(_a in _b){return _b[_a];}}};_pFormBase.lookupSetter=function(_a,_b){if(!_b){_b="set_"+_a;}for(var _d=this;(_d!=null);_d=(_d.opener||_d.parent)){var _c=_d[_b];if(_c){return new nexacro.SetterBinder(_d,_a,_c);}if(_a in _d){return new nexacro.PropBinder(_d,_a);}}return null;};_pFormBase.lookupFunc=function(_a){for(var _c=this;(_c!=null);_c=(_c.opener||_c.parent)){var _b=_c[_a];if(_b){return new nexacro.FuncBinder(_c,_b);}}return null;};_pFormBase.getLayoutInfo=function(_a,_b){var _c=this._layout_list[_a];if(_c){return _c[_b];}return;};_pFormBase._on_activate=function(){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_onactivate();}};_pFormBase._on_deactivate=function(){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_ondeactivate();}};_pFormBase.on_fire_onactivate=function(){if(this.onactivate&&this.onactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"onactivate",true,this,this);this.onactivate._fireEvent(this,_a);}};_pFormBase.on_fire_ondeactivate=function(){if(this.ondeactivate&&this.ondeactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"ondeactivate",false,this,this);this.ondeactivate._fireEvent(this,_a);}};_pFormBase._on_beforeclose=function(_a){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return;}if(!_a){_a=this;}var _b="";var _c=this.components;var _d=_c.length;for(var _h=0;_h<_d;_h++ ){var _e=_c[_h];if(!(_e instanceof nexacro.FormBase)){continue;}var _f=_e._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}var _g=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_g);return _b;};_pFormBase._on_bubble_beforeclose=function(_a,_b,_c,_d){var _e=false;if(_b===undefined){_e=true;_c=this;if(!_d){_d=this;}}var _f="";if(this.visible&&this._isEnable()){if(this.enableevent){if(_e){_b=false;}_f=this.on_fire_onbeforeclose(this,_c,_d,_a);}}var _g="";if((!this.onbeforeclose||(this.onbeforeclose&&!this.onbeforeclose.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){_g=this.parent._on_bubble_beforeclose(_a,_b,_c,_d);}return this._appendBeforeCloseMsg(_f,_g);};_pFormBase._on_close=function(){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return true;}var _a=this.components;var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(!(_c instanceof nexacro.FormBase)){continue;}_c._on_close();}this._on_bubble_close();};_pFormBase._on_bubble_close=function(_a,_b,_c){var _d=false;if(_a===undefined){_d=true;_b=this;if(!_c){_c=this;}}if(this.visible&&this._isEnable()){if(this.enableevent){if(_d){_a=false;}this.on_fire_onclose(this,_b,_c);}}var _e=this.parent;if(_e){if((!this.onclose||(this.onclose&&!this.onclose.stoppropagation))&&_a!==true&&!_e._is_application){return _e._on_bubble_close(_a,_b,_c);}}};_pFormBase.on_fire_onbeforeclose=function(_a,_b,_c,_d){if(this.onbeforeclose&&this.onbeforeclose._has_handlers){var _e=new nexacro.CloseEventInfo(_a,"onbeforeclose",_b,_c,_d);return this.onbeforeclose._fireEvent(this,_e);}};_pFormBase.on_fire_onclose=function(_a,_b,_c){if(this.onclose&&this.onclose._has_handlers){var _d=new nexacro.CloseEventInfo(_a,"onclose",_b,_c);return this.onclose._fireEvent(this,_d);}return true;};_pFormBase.loadForm=function(_a,_b,_c,_d){if(this._load_manager){var _e=nexacro._getFDLLocation(_a,_d);this._url=_e;this._base_url=nexacro._getBaseUrl(_e);if(this._load_manager){this._load_manager.clearAllLoad();}this._clearUserFunctions();this._is_loading=true;if(this.parent._is_frame&&this.parent.form==this){application._registerLoadforms(this);}this._clearCssInfo();var _f=nexacro._getServiceObject(_a);var _g=this._load_manager.loadMainModule(_e,undefined,_b,_c,_f);}};_pFormBase.getParentContext=function(){};_pFormBase._getFormBaseUrl=function(){return this._base_url;};_pFormBase._clearCssInfo=function(_a){this._css_finder=null;this._ref_css_finder=null;this._cssfinder_cache={};this._find_csslist=null;var _b=this.components;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]._is_form){_b[_d]._clearCssInfo(_a);}}if(!_a){this._css_selectors=null;this._css_selectors={_has_items:false,_has_attr_items:false};}};_pFormBase._findChildObject=function(_a){var _b=_a.indexOf(".");if(_b>0){var _c=_a.substring(0,_b).trim();_c=this[_c];if(_c){return _c._findChildObject(_a.substring(_b+1,_a.length).trim());}}else{return this[_a];}};_pFormBase._getDatasetObject=function(_a){var _b=this[_a];var _c=(this.opener||this.parent);if(_b==null&&_c&&_c!=application){_b=_c._getDatasetObject(_a);}if(_b==null){_b=application[_a];}return _b;};_pFormBase._checkContainerTabFocus=function(){if(this._is_form&&nexacro._enableaccessibility&&this._isAccessibilityEnable()==true){return true;}return false;};_pFormBase._checkContainerHeadingFocus=function(){if(this._is_form&&nexacro._enableaccessibility&&this._isAccessibilityEnable()==true&&this._isAccessibilityRoleHeading()){return true;}return false;};_pFormBase._getTabOrderLast=function(_a,_b,_c,_d){var _e=this._getSortedDecendants(this,true,_a);var _f;for(var _h=_e.length-1;_h>=0;_h-- ){_f=_e[_h];if(_b){if(_f._isEditableComponent(_c)){return _f;}else if(_d&&_f._is_form){var _g=_f._getTabOrderLast(_a,_b,_c,_d);if(_g){return _g;}}}else if(_a){if(_f._isAccessibilityEnable()){return _f;}else if(_f._is_form&&_f._child_list.length){var _g=_f._getTabOrderLast(true);if(_g){return _g;}}}else if(_f.on_get_prop_tabstop()){return _f;}}return null;};_pFormBase._getHeadingOrderLast=function(){var _a=this._getSortedDecendants(this,true,true);var _b;for(var _d=_a.length-1;_d>=0;_d-- ){_b=_a[_d];if(_b._isAccessibilityRoleHeading()){return _b;}else if(_b._is_form){var _c=_b._getHeadingOrderLast();if(_c){return _c;}}}return null;};_pFormBase._getTabOrderFirst=function(_a,_b,_c,_d){var _e=this._getSortedDecendants(this,true,_a);var _f;for(var _h=0,_i=_e.length;_h<_i;_h++ ){_f=_e[_h];if(_b){if(_f._isEditableComponent(_c)){return _f;}else if(_d&&_f._is_form){var _g=_f._getTabOrderFirst(_a,_b,_c,_d);if(_g){return _g;}}}else if(_a){if(_f._isAccessibilityEnable()){return _f;}else if(_f._is_form&&_f._child_list.length){var _g=_f._getTabOrderFirst(true);if(_g){return _g;}}}else if(_f.on_get_prop_tabstop()){return _f;}}return null;};_pFormBase._getHeadingOrderFirst=function(){var _a=this._getSortedDecendants(this,true,true);var _b;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b._isAccessibilityRoleHeading()){return _b;}else if(_b._is_form){var _c=_b._getHeadingOrderFirst();if(_c){return _c;}}}return null;};_pFormBase._getTabOrderNext=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a&&_a._is_form&&_b>0&&!_f&&(_i==undefined||_i)){var _j=_a._getTabOrderFirst(_c,_d,_e);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){var _k=this._getWindow();if((_j!=null)&&(!_a._contains(_k._accessibility_last_focused_comp)||_a==_k._accessibility_last_focused_comp)){return _j;}}else if(!_h&&_a._last_focused==null&&_j!=null){return _j;}}var _l=this._getSortedDecendants(this,true,_c);var _m=nexacro._indexOf(_l,_a._getRootComponent(_a));if(_m<0){return null;}var _n;if(_b>0){for(var _p=_m+_b,_q=_l.length;_p<_q;_p++ ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderFirst(_c,_d,_e,_g);if(_o){return _o;}}}else if(_c){if(_n._isAccessibilityEnable()){return _n;}else if(_n._is_form&&_n._child_list.length){var _o=_n._getTabOrderFirst(true);if(_o){return _o;}}else if(_n._isItemAccessibilityEnable()){return _n;}}else if(_n.on_get_prop_tabstop()){return _n;}}}else if(_b<0){for(var _p=_m+_b;_p>=0;_p-- ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderLast(_c,_d,_e,_g);if(_o){return _o;}}}else if(_c){if(_n._isAccessibilityEnable()){return _n;}else if(_n._is_form&&_n._child_list.length){var _o=_n._getTabOrderLast(true);if(_o){return _o;}}else if(_n._isItemAccessibilityEnable()){return _n;}}else if(_n.on_get_prop_tabstop()){return _n;}}}if(_d){if(_b>0){for(var _p=0;_p<_m-_b;_p++ ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderFirst(_c,_d,_e,_g);if(_o){return _o;}}}}}else if(_b<0){for(var _p=_l.length-1;_p>_m;_p-- ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderLast(_c,_d,_e,_g);if(_o){return _o;}}}}}}return null;};_pFormBase._getHeadingOrderNext=function(_a,_b){if(_a&&_a._is_form){if(_a._last_focused){var _c=_a._getHeadingOrderNext(_a._last_focused,_b);if(_c){return _c;}else{_a._last_focused=null;}}else if(_a._last_focused==null){if(_b==1){var _c=_a._getHeadingOrderFirst(true);}else{var _c=_a._getHeadingOrderLast(true);}if(_c){return _c;}}}var _d=this._getSortedDecendants(this,true,true,null);var _e=nexacro._indexOf(_d,_a._getRootComponent(_a));if(_e<0){return null;}var _f;if(_b>0){for(var _h=_e+_b,_i=_d.length;_h<_i;_h++ ){_f=_d[_h];if(_f._isAccessibilityRoleHeading()){return _f;}else if(_f&&_f._is_form){var _g=_f._getHeadingOrderFirst(true);if(_g){return _g;}}}}else if(_b<0){for(var _h=_e+_b;_h>=0;_h-- ){_f=_d[_h];if(_f._isAccessibilityRoleHeading()){return _f;}else if(_f&&_f._is_form){var _g=_f._getHeadingOrderLast(true);if(_g){return _g;}}}}return null;};_pFormBase._getSortedDecendants=function(_a,_b,_c){if(_b===undefined){_b=false;}var _d=[];var _e=_a.components;if(_e){var _f=_e.length;for(var _j=0;_j<_f;_j++ ){var _g=_e[_j];if(!_g||!_g._is_created||!_g.visible||((_g._isEnable&&!_g._isEnable()||!_g.enable)&&(!nexacro._enableaccessibility||nexacro._accessibilitytype!=5))||_g._popup){continue;}if(!_c&&!_b&&!_g.on_get_prop_tabstop()){continue;}var _h=_g._taborder;if(_h<0){_h=0;}var _i=_d.length;while(_i>0&&_d[_i-1]._taborder>_h){_d[_i]=_d[_i-1];_i-- ;}_d[_i]=_g;}}return _d;};_pFormBase.addLayout=function(_a,_b){if(!_b){return;}if(_a=="default"){this._default_layout=_b;}else if(application._screeninfo==null||(_b.screenid=="")){this._layout_list.add_item(_a,_b);}else if(application._curscreen){if(!_b.screenid||_b.screenid==""){this._layout_list.add_item(_a,_b);return;}var _c=_b.screenid.split(',');var _d=_c.length;for(var _e=0;_e<_d;_e++ ){if(application._curscreen.name==_c[_e]){this._layout_list.add_item(_a,_b);break;}}}};_pFormBase._setPos=function(_a,_b){if(this._adjust_left!=_a||this._adjust_top!=_b){this._adjust_left=this.left=_a;this._adjust_top=this.top=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}this.on_update_position(false,true);}};_pFormBase._setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){this._adjust_width=this.width=_a;this._adjust_height=this.height=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}this.on_update_position(true,false);}};_pFormBase._initLayoutManager=function(){var _a="default";var _b=this._layout_list.length;if(_b>0){var _c=this._current_layout_name;this._current_layout_name="";this._cur_real_layout="";var _d={cx:this._adjust_width,cy:this._adjust_height};var _e=application.getLayoutManager().checkValid(this,_d);_b=this._layout_list.length;if(this._layout_list[_b-1].name!="default"){if(this._default_layout.screenid==""||this._default_layout.screenid.indexOf(application._curscreen.name)>=0){this._layout_list.add_item("default",this._default_layout);_b=this._layout_list.length;}}if(_e>=0){var _f;var _g=this._layout_list[_c];var _h=this._layout_list[_e];var _i=0,_j=0;_i=_g?_g.width:0;_j=_g?_g.height:0;if(_c!=_h.name){_f=this.on_fire_canlayoutchange(this,"canlayoutchange",_c,_h.name,_i,_h.width,_j,_h.height);}if(_f===true||_f===undefined){application.getLayoutManager().loadLayout(this,null,_h);if(_c!=_h.name){this.on_fire_onlayoutchanged(this,"onlayoutchanged",_c,_h.name,_i,_h.width,_j,_h.height);}this._current_layout_name=_h.name;this._cur_real_layout=_h.name;}else{if(_c){_a=_c;}this._current_layout_name=_a;this._cur_real_layout=_a;}}}else if(_b<=0&&this._default_layout){application.getLayoutManager().loadLayout(this,null,this._default_layout,this._default_layout);this._current_layout_name=_a;this._cur_real_layout=_a;}};_pFormBase._checkValidLayout=function(){var _a=application.getLayoutManager();if(_a){var _b=this._current_layout_name;var _c=null;var _d={cx:this._adjust_width,cy:this._adjust_height};var _e=_a.checkValid(this,_d);if(_e> -1){_c=this._layout_list[_e];}else{return _a.getCurrentLayout(this);}if(_c&&_b!=_c.name){var _f=this.all.length;for(var _k=0;_k<_f;_k++ ){if(this.all[_k]._is_form&&this.all[_k]._layout_list.length>0){this.all[_k]._checkValidLayout(_d);}}var _g=this._layout_list[_b];var _h=0,_i=0;_h=_g?_g.width:0;_i=_g?_g.height:0;var _j=this.on_fire_canlayoutchange(this,"canlayoutchange",_b,_c.name,_h,_c.width,_i,_c.height);if(_j===true||_j===undefined){if(_c.name!="default"){_a.changeLayout(this,this._default_layout);}_a.changeLayout(this,_c);this.on_fire_onlayoutchanged(this,"onlayoutchanged",_b,_c.name,_h,_c.width,_i,_c.height);}if(this._is_scrollable){this.resetScroll();}return _c;}}};_pFormBase._on_prepare_stepcontents=function(_a,_b,_c,_d){var _e=this.getElement();if(_e){if(this._is_created&&(_a>0||_c>0)){var _f=this.components;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){var _h=_f[_i].getElement();_e.removeChildElement(_h);}}_e.setElementStepCount(_c);_e.setElementStepIndex(_d);if(_d> -1&&_e._step_count>_d){_e.setElementHScrollPos(_e.client_width*_d);}}if(this.stepcontrol){this._destroyStepControl();}};_pFormBase._on_refresh_stepcontents=function(_a,_b,_c,_d){var _e=this.getElement();if(_e){if(this._is_created&&(_a>0||_c>0)){var _f=this.components;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){var _h=_f[_i].getElement();_e.appendChildElement(_h,true);}}}if(_c>0){if(!this.stepcontrol){this._createStepControl(_c,_d);}if(this._is_created){this.stepcontrol.on_created();}}};_pFormBase._createStepControl=function(_a,_b){if(!this.stepcontrol){var _c=new nexacro.StepCtrl("stepcontrol","absolute",0,0,0,0,null,null,this);_c.createComponent(true);_c.set_stepcount(_a);_c.set_stepindex(_b);_c._setRtlDirection(this._rtldirection);this.stepcontrol=_c;this._updateStepControlSize();this._setEventHandler("onstepchanged",this._on_stepchanged,this);}};_pFormBase._destroyStepControl=function(){var _a=this.stepcontrol;if(_a){_a.destroy();this.stepcontrol=null;}};_pFormBase._updateStepControlSize=function(){var _a=this.stepcontrol;if(_a){this.on_update_style_stepalign();}};_pFormBase._on_stepchanged=function(_a,_b){var _c=this.stepcontrol;var _d=this.getElement();if(_c&&_d){var _e=this.getZoom()/100;var _f=_d.client_width/_e;var _g=(_d.scroll_left!=(_f*_c.stepindex));if(!_g){return;}this._createStepChangeAnimation(_c.stepindex,400);}};_pFormBase.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._last_focused&&!this._skip_comp&&(this._last_focused instanceof nexacro.Menu||this._last_focused instanceof nexacro.MenuItem)){this._last_focused._killfocus_item();}if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireSysEvent(this,_m);}return false;};_pFormBase.on_fire_sys_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.stepcontrol&&this._stepchange_info){this._on_cancel_stepchange_animation();}return nexacro.Component.prototype.on_fire_sys_onslidestart.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pFormBase.on_fire_sys_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_b&&_b._scroll_comp==this){var _j=this.getElement();var _k=this.stepcontrol;if(!_j||!_k){return;}var _l=this.getZoom()/100;var _m=_j.client_width/_l;var _n=(_j.scroll_left!=(_m*_k.stepindex));if(!_n){return;}var _o=400;var _p=_j.scroll_left-(_m/2);var _q=_b.checkFling();if(_q){var _r=3;var _s=_q.xstartvalue|0;if(_s< -(_m/_r)){_s= -(_m/_r);}if(_s>(_m/_r)){_s=(_m/_r);}_p-=_s;}var _t=nexacro.round(_p/(_m)+0.5);var _u=_k.set_stepindex(_t);if(!_u){_j.setElementHScrollPos(_m*_k.stepindex);}_b._fling_blocked=true;}else{return nexacro.Component.prototype.on_fire_sys_onslideend.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);}return false;};_pFormBase._createStepChangeAnimation=function(_a,_b){if(this._stepchange_info){this._on_cancel_stepchange_animation();}var _c=this.getElement();if(_c){var _d={};_d.is_alive=true;_d.target_index=_a;_d.starttime=new Date().getTime();_d.duration=_b;var _e=this.getZoom()/100;var _f=_c.hscroll_limit/(_c._step_count-1);_d.startpos=_c.scroll_left;_d.endpos=_f*_a;if(this.style.stepshowtype=="action"){var _g=this.stepcontrol;if(_g){_g.set_visible(true);}}var _h=this;_d.timer=new nexacro.AnimationFrame(this,function(){_h._on_stepchange_animation();});_d.timer.start();this._stepchange_info=_d;}};_pFormBase._on_stepchange_animation=function(){var _a=this.getElement();if(!_a){return;}var _b=this._stepchange_info;if(_b&&_b.is_alive){var _c=new Date().getTime()-_b.starttime;var _d=_b.duration;var _e=_c/_d-1;var _f=Math.min((_e*_e*_e+1),1);var _g=_b.startpos+((_b.endpos-_b.startpos)*_f);_a.setElementHScrollPos(_g);if(_c>=_b.duration){this._on_end_stepchange_animation();}else{_b.timer.start();}}};_pFormBase._on_end_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}var _b=this.getElement();var _c=this.stepcontrol;if(_b&&_c){var _d=_a.target_index;delete _a;_b.setElementStepIndex(_d);var _e=_b.hscroll_limit/(_b._step_count-1);_b.setElementHScrollPos(_e*_d);var _f=this.components;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){_f[_h].on_apply_positionstep(_f[_h].positionstep);}this.on_apply_style_stepshowtype(this.style.stepshowtype);this._stepchange_info=null;}};_pFormBase._on_cancel_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}delete _a;this._stepchange_info=null;};_pFormBase._getNextComponent=function(_a,_b,_c){if(_a&&_a._is_form&&_b>0&&_c){var _d=_a._getTabOrderFirst();if(_d!=null){return _d;}}var _e=this._getSortedDecendants(this,true,undefined);var _f=nexacro._indexOf(_e,_a._getRootComponent(_a));if(_f<0){return null;}var _g;if(_b>0){for(var _h=_f+_b,_i=_e.length;_h<_i;_h++ ){_g=_e[_h];if(_g.on_get_prop_tabstop()){if(_c&&_g._is_form){return this._getNextComponent(_g,_b,_c);}else{return _g;}}}}else if(_b<0){for(var _h=_f+_b;_h>=0;_h-- ){_g=_e[_h];if(_g.on_get_prop_tabstop()){if(_c&&_g._is_form){return this._getNextComponent(_g,_b,_c);}else{return _g;}}}}return null;};_pFormBase._searchNextComponent=function(_a,_b,_c,_d,_e,_f){var _g=(_c==undefined)?(application._tabkeycirculation==0):_c;var _h=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _i,_j,_k;var _l=this._getSortedDecendants(this,undefined,_d);var _m=_l?_l.length:0;if(_m>0&&_a&&!_b){_k=this._getTabOrderNext(_a,true,_d,undefined,undefined,_e,undefined,true);if(_g&&!_k&&this._isPopupVisible()){_k=this._getTabOrderFirst(_d);}if(!_k){var _n=this.parent;var _o=_n._getSortedDecendants(this.parent,undefined,_d);var _p=_o?_o.length:0;if(!_g&&(_n._is_frame||this._is_window)){_j=[null,this,1];}else if(_n._is_form&&_p>0){_j=_n._searchNextComponent(this,false,undefined,_d,_e,_f);}else{_k=this._getTabOrderFirst(_d);}}}else{_k=this._getTabOrderFirst(_d);if(!_k){if(this.parent._is_form){_j=this.parent._searchNextComponent(this,undefined,undefined,_d,_e,_f);}else{_j=null;}}}if(_k&&!_j){var _q=(_k._is_form?_k._getSortedDecendants(_k,undefined,_d):null);var _r=_q?_q.length:0;if(_k._is_form&&_d&&_k._checkContainerTabFocus()==true){_j=[_k];}else if((_k._is_form&&_r>0&&_f)||application._getNextMethod_owner==_k.name){_j=_k._searchNextComponent(null,true,undefined,_d,_e,_f);}else{_j=[_k];}}return _j;};_pFormBase._searchNextTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l>0&&_a&&!_b){_j=this._getTabOrderNext(_a,true,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderFirst(_d);}if(!_j){var _m=this.parent;var _n=_m._getSortedDecendants(this.parent,undefined,_d);var _o=_n?_n.length:0;if(!_f&&(_m._is_frame||this._is_window)){_i=[null,this,1];}else if(_m._is_form&&_o>0){_i=_m._searchNextTabFocus(this,false,undefined,_d,_e);}else{_j=this._getTabOrderFirst(_d);}}}else{_j=this._getTabOrderFirst(_d);if(!_j){if(this.parent&&this.parent._is_form){_i=this.parent._searchNextTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}}if(_j&&!_i){var _p=(_j._is_form?_j._getSortedDecendants(_j,undefined,_d):null);var _q=_p?_p.length:0;if(_j._is_form&&_d&&_j._checkContainerTabFocus()==true){_i=[_j];}else if(_j._is_form&&_q>0){_i=_j._searchNextTabFocus(null,true,undefined,_d,_e);}else if(_j._is_form&&_q>0&&(!_j._isVisible()||!_j._isEnable()||!_j._isFocusAcceptable())){_i=_j._searchNextTabFocus(_j,undefined,undefined,false);}else{_i=[_j];}}return _i;};_pFormBase._searchNextHeadingFocus=function(_a,_b,_c){var _d=(_c==undefined)?(application._tabkeycirculation==0):_c;var _e=nexacro._enableaccessibility;var _f,_g,_h;var _i=this._getSortedDecendants(this,undefined,true);var _j=_i?_i.length:0;if(_j>0&&_a&&!_b){_h=this._getHeadingOrderNext(_a,1);if(_d&&!_h&&this._isPopupVisible()){_h=this._getHeadingOrderFirst();}if(!_h){var _k=this.parent;var _l=_k._getSortedDecendants(this.parent,undefined,true);var _m=_l?_l.length:0;if(!_d&&(_k._is_frame||this._is_window)){_g=[null,this,1];}else if(_k._is_form&&_m>0){_g=_k._searchNextHeadingFocus(this);}else{_h=this._getHeadingOrderFirst();}}}else{_h=this._getHeadingOrderFirst();if(!_h){if(this.parent._is_form){_g=this.parent._searchNextHeadingFocus(this);}else{_g=null;}}}if(_h&&!_g){var _n=(_h._is_form?_h._getSortedDecendants(_h,undefined,true):null);var _o=_n?_n.length:0;if(_h._is_form&&_h._checkContainerHeadingFocus()==true){_g=[_h];}else if(_h._is_form&&_o>0){_g=_h._searchNextHeadingFocus(null,true);}else{_g=[_h];}}return _g;};_pFormBase._searchPrevComponent=function(_a,_b,_c,_d,_e,_f){var _g=(_c==undefined)?(application._tabkeycirculation==0):_c;var _h=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _i,_j,_k;var _l=this._getSortedDecendants(this,undefined,_d);var _m=_l?_l.length:0;if(_m&&_a&&!_b){_k=this._getTabOrderNext(_a, -1,_d,undefined,undefined,_e);if(_g&&!_k&&this._isPopupVisible()){_k=this._getTabOrderLast(_d);}if(!_k){var _n=this.parent._getSortedDecendants(this.parent,undefined,_d);var _o=_n?_n.length:0;var _p=this.parent.components;if(!_g&&(this.parent._is_frame||this._is_window)){_j=[null,this, -1];}else if(_d&&this._checkContainerTabFocus()==true&&this.parent._is_form){_j=[this];}else if(this.parent._is_form&&_o>0){_j=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_k=this._getTabOrderLast(_d);}}}else{if(!_j){_k=this._getTabOrderLast(_d);if(!_k&&_j!==null){if(_d&&_h&&this._checkContainerTabFocus()==true){_j=[this];}else if(this.parent._is_form){_j=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_j=null;}}}}if(_k&&!_j){var _q=(_k._is_form?_k._getSortedDecendants(_k,undefined,_d):null);var _r=_q?_q.length:0;if(_k._is_form&&_r>0&&_f){_j=_k._searchPrevTabFocus(null,true,undefined,_d,_e);}else{_j=[_k];}}return _j;};_pFormBase._searchPrevTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l&&_a&&!_b){_j=this._getTabOrderNext(_a, -1,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderLast(_d);}if(!_j){var _m=this.parent._getSortedDecendants(this.parent,undefined,_d);var _n=_m?_m.length:0;var _o=this.parent.components;if(_f==false&&(this.parent._is_frame||this._is_window)){_i=[null,this, -1];}else if(_d&&this._checkContainerTabFocus()==true&&this.parent._is_form){_i=[this];}else if(this.parent._is_form&&_n>0){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_j=this._getTabOrderLast(_d);}}}else{if(!_b){if(this instanceof nexacro.PopupDiv){_j=this._getTabOrderLast(_d);}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}if(!_i){_j=this._getTabOrderLast(_d);if(!_j&&_i!==null){if(_d&&_g&&this._checkContainerTabFocus()==true){_i=[this];}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}}}if(_j&&!_i){var _p=(_j._is_form?_j._getSortedDecendants(_j,undefined,_d):null);var _q=_p?_p.length:0;if(_j._is_form&&_q>0){_i=_j._searchPrevTabFocus(null,true,undefined,_d,_e);}else if(_j._is_form&&_q>0&&(!_j._isVisible()||!_j._isEnable()||!_j._isFocusAcceptable())){_i=_j._searchPrevTabFocus(_j,undefined,undefined,false);}else{_i=[_j];}}return _i;};_pFormBase._searchPrevHeadingFocus=function(_a,_b,_c){var _d=(_c==undefined)?(application._tabkeycirculation==0):_c;var _e=nexacro._enableaccessibility;var _f,_g,_h;var _i=this._getSortedDecendants(this,undefined,true);var _j=_i?_i.length:0;if(_j&&_a&&!_b){_h=this._getHeadingOrderNext(_a, -1);if(_d&&!_h&&this._isPopupVisible()){_h=this._getHeadingOrderLast();}if(!_h){var _k=this.parent._getSortedDecendants(this.parent,undefined,true);var _l=_k?_k.length:0;var _m=this.parent.components;if(_d==false&&(this.parent._is_frame||this._is_window)){_g=[null,this, -1];}else if(_e&&this._type_name=="Tabpage"){_g=[this.parent];}else if(_e&&this._checkContainerHeadingFocus()==true){_g=[this];}else if(this.parent._is_form&&_l>0){_g=this.parent._searchPrevHeadingFocus(this);}else{_h=this._getHeadingOrderLast();}}}else{if(!_b){if(this.parent._is_form){_g=this.parent._searchPrevTabFocus(this);}else{_g=null;}}if(!_g){_h=this._getTabOrderLast();if(!_h&&_g!==null){if(this.parent._is_form){_g=this.parent._searchPrevHeadingFocus(this);}else{_g=null;}}}}if(_h&&!_g){var _n=(_h._is_form?_h._getSortedDecendants(_h,undefined,true):null);var _o=_n?_n.length:0;if(_h._is_form&&_o>0){_g=_h._searchPrevHeadingFocus(null,true);}else{_g=[_h];}}return _g;};_pFormBase._processArrowKey=function(_a,_b){if(_b[0] instanceof nexacro.Form&&_b[0]._last_focused){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_b[0]._last_focused);}var _d=2;if(!_a){_d=3;}_b[0]._setFocus(true,_d,false);if(application.accessibilityfirstovertext&&_b[0]==this._getTabOrderFirst()){var _e=_b[0];var _f=_e._getAccessibilityReadLabel()+" "+application.accessibilityfirstovertext;_e.getElement().notifyAccessibility(_f,"focus");}else if(application.accessibilitylastovertext&&_b[0]==this._getTabOrderLast()){var _e=_b[0];var _f=_e._getAccessibilityReadLabel()+" "+application.accessibilitylastovertext;_e.getElement().notifyAccessibility(_f,"focus");}};_pFormBase._processHotkey=function(_a,_b,_c,_d,_e){var _f=null;if(_e){_f=_e.parent;}var _g=this._getMainForm();var _h=_g?_g._hotkey_list:this._hotkey_list;for(var _n=0,_o=_h.length;_n<_o;_n++ ){var _i=_h[_n];if(_i[1]==_a&&_i[2]==_b&&_i[3]==_c&&_i[4]==_d){var _j=_i[0];if(_j.parent instanceof nexacro.Tabpage){if(_j.parent._index!=_j.parent.parent.tabindex){continue;}}if(_e&&_j&&_j.parent){if(_e.name!=_j.name||_e.parent.name!=_j.parent.name){var _k=false;for(var _p=(_n+1),_o=_h.length;_p<_o;_p++ ){if((_e.name==_h[_p][0].name&&_e.parent.name==_h[_p][0].parent.name)||(_h[_p][0].parent&&_e.parent==_h[_p][0].parent&&_h[_p][0].enable)){_n=(_p-1);_p=_h.length;_k=true;}}if(_k){continue;}}}if(!_j.enable||(_j._isEnable&&!_j._isEnable())){continue;}var _l=_j.parent;do{if(_l instanceof nexacro.FormBase){break;}_l=_l.parent;}while(_l)if(!_l.enable){return true;}_j._on_hotkey(_a,_b,_c,_d);return true;}}if(this._is_frame&&this._is_window&&(this._window_type==1||this._window_type==4)){return;}var _m=this.getOwnerFrame();if(_m){return _m._processHotkey(_a,_b,_c,_d);}};_pFormBase._appendBeforeCloseMsg=function(_a,_b){if(typeof (_b)=="boolean"){_b=nexacro._toString(_b);}if(_b===undefined||_b==""||_b===null){return _a;}if(_a===undefined||_a===null){_a="";}else if(_a!=""){_a+="\n";}return (_a+_b);};_pFormBase._checkAndConfirmClose=function(_a){if(_a===undefined||_a==""||_a===null){return true;}if(this._window&&this._window._ignore_close_confirm){return true;}return nexacro._confirm(this,_a);};_pFormBase._onResetScrollBar=function(){if(!this._is_scrollable){return;}var _a=this._control_element;if(_a){var _b=false;var _c=false;var _d=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _e=_d;var _f=_d;var _g=0;var _h=false;var _i=false;var _j=this._scrollbars;if(this.getStepCount()>0&&(_j==0||_j==1||_j==4||_j==16)){_j=2;}switch(_j){case 0:break;case 1:_h=true;_g=1;break;case 2:_i=true;_g=1;break;case 3:_h=true;_i=true;_g=1;break;case 4:_h=true;_g=2;break;case 8:_i=true;_g=2;break;case 12:_h=true;_i=true;_g=2;break;case 16:_h=true;_i=true;_g=31;break;case 32:_h=true;_i=true;_g=32;break;}if(_i&&!this.hscrollbar){this.hscrollbar=this._createHScrollBar(_d);if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(_a.client_width,_e);}_b=true;}else if(_i&&this.hscrollbar){if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(_a.client_width,_e);_a._hscroll_height=_e;}}else if(!_i&&this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}if(_h&&!this.vscrollbar){this.vscrollbar=this._createVScrollBar(_d);if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,_a.client_height);}_c=true;}else if(_h&&this.vscrollbar){if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,_a.client_height);_a._vscroll_width=_f;}}else if(!_h&&this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}_a.setScrollControls(this.hscrollbar,this.vscrollbar,_e,_f,_g);if(_b||this.getStepCount()>0){this.hscrollbar.createComponent();}if(_c){this.vscrollbar.createComponent();}if(_a._handle){if(this.hscrollbar&&!this.hscrollbar._is_created){this.hscrollbar.on_created();}if(this.vscrollbar&&!this.vscrollbar._is_created){this.vscrollbar.on_created();}}this._updateClientSize(_a);}};delete _pFormBase;nexacro.Form_Style=function(_a){nexacro.Style.call(this,_a);};var _pFormStyle=nexacro._createPrototype(nexacro.Style,nexacro.Form_Style);nexacro.Form_Style.prototype=_pFormStyle;eval(nexacro._createAlignAttributeEvalStr("_pFormStyle","stepalign"));eval(nexacro._createValueAttributeEvalStr("_pFormStyle","stepshowtype"));_pFormStyle.__custom_emptyObject=function(){this.stepalign=null;this.stepshowtype=null;};_pFormStyle.__get_custom_style_value=function(){var _a="";if(this.stepalign&&!this.stepalign._is_empty){_a+="stepalign:"+this.stepalign._value+"; ";}if(this.stepshowtype&&!this.stepshowtype._is_empty){_a+="stepshowtype:"+this.stepshowtype._value+"; ";}return _a;};nexacro.Form_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.stepalign=null;this.stepshowtype=null;};var _pFormCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Form_CurrentStyle);nexacro.Form_CurrentStyle.prototype=_pFormCurrentStyle;_pFormCurrentStyle.__custom_emptyObject=_pFormStyle.__custom_emptyObject;_pFormCurrentStyle.__get_custom_style_value=_pFormStyle.__get_custom_style_value;delete _pFormStyle;delete _pFormCurrentStyle;nexacro.Form=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.inheritanceid="";this.layout="";this.opener=null;this.resizebutton=null;this.statustext="";this.titletext="";this.classname="";this.cachelevel="";this.version="";this.layoutautofittype=undefined;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ontouch":1,"onvscroll":1,"onhscroll":1,"onactivate":1,"onbeforeclose":1,"onclose":1,"ondeactivate":1,"onsyscommand":1,"ontimer":1,"oninit":1,"onload":1,"canlayoutchange":1,"canstepchange":1,"onlayoutchanged":1,"onstepchanged":1,"ondevicebuttonup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1,"onorientationchange":1};this._url="";this._init_width=0;this._init_height=0;this._defaultbutton=null;this._escapebutton=null;this._accessibility_role="form";this._zoomFactor=undefined;this._autofittedZoomFactor=undefined;this._is_init=true;this._is_closing=false;};var _pForm=nexacro._createPrototype(nexacro.FormBase,nexacro.Form);nexacro.Form.prototype=_pForm;_pForm._type_name="Form";nexacro.Form_default_stepshowtype=nexacro._getCachedStyleObj("stepshowtype","always");_pForm.on_create_custom_style=function(){return new nexacro.Form_Style(this);};_pForm.on_create_custom_currentStyle=function(){return new nexacro.Form_CurrentStyle();};_pForm.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_stepalign(_a);if(_b.stepalign!=_c){_b.stepalign=_c;this.on_apply_style_stepalign(_c);}var _d=this.on_find_CurrentStyle_stepshowtype(_a);if(_b.stepshowtype!=_d){_b.stepshowtype=_d;this.on_apply_style_stepshowtype(_d);}};_pForm.on_apply_custom_css=function(_a){var _b=this.components;if(_b){for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];_c.on_apply_prop_class(_c[_d],_a);}}};_pForm.on_find_CurrentStyle_stepalign=function(_a){var _b=this._find_pseudo_obj("stepalign",_a,"align");return _b?_b:nexacro.Component._default_step_align;};_pForm.on_find_CurrentStyle_stepshowtype=function(_a){var _b=this._find_pseudo_obj("stepshowtype",_a,"value");return _b||nexacro.Form_default_stepshowtype;};_pForm.on_update_style_stepalign=function(){var _a=this.on_find_CurrentStyle_stepalign(this._pseudo);this.currentstyle.stepalign=_a;this.on_apply_style_stepalign(_a);};_pForm.on_update_style_stepshowtype=function(){var _a=this.on_find_CurrentStyle_stepshowtype(this._pseudo);this.currentstyle.stepshowtype=_a;this.on_apply_style_stepshowtype(_a);};_pForm.on_apply_style_stepalign=function(_a){var _b=this.getElement();var _c=this.stepcontrol;if(_b&&_c){var _d=this.on_find_CurrentStyle_border(this._pseudo);var _e=(_d)?_d._left_width:0;var _f=(_d)?_d._top_width:0;var _g=(_d)?_d._right_width:0;var _h=(_d)?_d._bottom_width:0;var _i=this._adjust_width-_e-_g;var _j=this._adjust_height-_f-_h;var _k=_c._getButtonSize();var _l=_c._getButtonAreaSize(_c.stepcount,_k);var _m=_a.halign;var _n=_a.valign;var _o,_p;switch(_m){case "left":_o=0;break;case "center":_o=(_i-_l.width)/2;break;case "right":_o=_i-_l.width;break;}switch(_n){case "top":_p=0;break;case "middle":_p=(_j-_l.height)/2;break;case "bottom":_p=_j-_l.height;break;}_c.move(_o,_p,_l.width,_l.height,null,null);}};_pForm.on_apply_style_stepshowtype=function(_a){var _b=this.stepcontrol;if(_b&&_a){var _c=_a.value;switch(_c){case "action":_b.set_visible(false);break;case "always":default:_b.set_visible(true);break;}}};_pForm.on_get_style_accessibility_label=function(){return this.titletext;};_pForm.on_get_prop_tabstop=function(){return this.tabstop;};_pForm.on_created=function(_a){var _b=nexacro.FormBase.prototype.on_created.call(this,_a);if(this._is_loadcallback&&this._is_created){this.on_fire_onload(this,this._url);}return _b;};_pForm.on_update_position=function(_a,_b){var _c=this._control_element;if(_c){var _d=false;if(this._isRtl(this.parent)&&this._left!=null){_d=true;}_c.setElementPosition(this._adjust_left,this._adjust_top,_d);if(_a){var _e=this._calcScrollMaxSize();_c.container_maxwidth=_e.w;_c.container_maxheight=_e.h;}_c.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pForm.on_change_containerRect=function(_a,_b){var _c=false;var _d=this.components;if(nexacro.OS=="Android"&&this.vscrollbar&&this.vscrollbar.visible){_c=true;var _e;var _f;var _g=this._getLastFocused();var _h=this.getOffsetBottom();}for(var _k=0,_l=_d.length;_k<_l;_k++ ){var _i=_d[_k];var _j=_i.getElement();if(_j){if(_c&&_i instanceof nexacro.Edit){_e=_i.getOffsetBottom();_f=_e-_h;if(this.vscrollbar.pos<_f&&_h<_e&&_g==_i){this.vscrollbar.set_pos(_f);}}_i._bChangeRtl=this._bChangeRtl;_i.move(_i.left,_i.top,_i.width,_i.height,_i.right,_i.bottom);_i._bChangeRtl=false;}}if(this.stepcontrol){this._updateStepControlSize();}this._onRecalcScrollSize();};_pForm._on_load=function(_a,_b){if(!this._load_callbacklist){return;}var _c=this.parent;if(this.parent&&this.parent.form==this){_c=application;}if(_c&&_c._addLoadCallbacklist){var _d=this;var _e=_c._addLoadCallbacklist({target:_d,callback:_d._on_loadcallback,url:this.url});if(!_e){this._on_loadcallback(_a,_b);}}};_pForm._addLoadCallbacklist=function(_a){if(!this._is_loaded&&this._url&&this._url.length>0){if(!this.parent._load_callbacklist){this.parent._load_callbacklist=[];}this._load_callbacklist.push(_a);return true;}return false;};_pForm._on_loadcallback=function(_a,_b){var _c=this._load_callbacklist;var _d=_c.length,_e;if(_d>0){for(var _m=0;_m<_d;_m++ ){var _f=_c[_m];var _g=_f.target;_e=nexacro._makeurl(_f.url);if(_g._is_alive!=false){_f.callback.call(_g,_g,_e);}}_c.splice(0,_d);}var _h=this.binds;if(_h){for(var _m=0,_n=_h.length;_m<_n;_m++ ){_h[_m].bind();}}this.on_fire_oninit(this);this.createComponent(true);var _i;if(!this._is_created){this._is_loadcallback=true;_i=this._getWindow();this.on_created(_i);this._is_loadcallback=false;}var _j=false;if(!(this instanceof nexacro.Tabpage)){this._on_activate();}var _k=this.parent;if(_k){if(_k._is_frame&&_k.form==this){_k._createdForm();application._notifyLoadforms(this);}else{if(!_i){_i=this._getRootWindow();}if(_i&&_i.frame&&_i.frame._activate==true){var _l=_i.getCurrentFocusPaths();if(_l&&nexacro._indexOf(_l,this)> -1){if(this instanceof nexacro.Tabpage){this._on_activate();}if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1){this._setFocus();this._playAccessibilityWholeReadLabel("wholeread");}else{this._on_focus(true);}}else if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1&&this instanceof nexacro.Div){this._playAccessibilityWholeReadLabel("wholeread");}}}}this._refreshAccessibilityValue();return _j;};_pForm.set_opener=nexacro._emptyFn;_pForm.set_inheritanceid=function(_a){};_pForm.set_layout=function(_a){};_pForm.set_statustext=function(_a){if(this.parent&&this.parent._is_frame){if(this.statustext!=_a){this.statustext=_a;this.parent._applyStatusText();}}};_pForm.set_titletext=function(_a){this._setAccessibilityLabel(_a);if(this.parent&&this.parent._is_frame){if(this.titletext!=_a){this.titletext=_a;this.parent._applyTitleText();}}};_pForm.set_classname=function(_a){return;};_pForm.set_cachelevel=function(_a){};_pForm.set_version=function(_a){;};_pForm.set_dragscrolltype=function(_a){var _b=["none","vert","horz","both","all"];if(this.dragscrolltype!=_a){if(nexacro._indexOf(_b,_a)>=0){this.dragscrolltype=_a;}else{}}};_pForm.set_layoutautofittype=function(_a){return;};_pForm.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=this.components;var _c=this._getRootForm();var _d=_c.binds;for(var _i=0,_j=_b.length;_i<_j;_i++ ){var _e=_b[_i];if(_d){var _f=false;for(var _k=0,_l=_d.length;_k<_l;_k++ ){var _g=_d[_k]._comp;if(_g==_e&&_d[_k]._en_type==2){_f=true;var _h=_d[_k]._dataset;if(_h.rowposition!= -1){_e._setEnable(_a);}break;}}if(!_f){_e._setEnable(_a);}}else{_e._setEnable(_a);}}};_pForm.on_apply_prop_rtldirection=function(){this._bChangeRtl=true;nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._control_element;if(_a){if(nexacro._isDesktop()){this.on_change_containerRect(_a.client_width,_a.client_height);}}var _b=this.components;var _c=this._rtldirection;for(var _e=0,_f=_b.length;_e<_f;_e++ ){var _d=_b[_e];if(_d._is_form){_d.on_apply_prop_rtldirection(_c);}_d._setRtlDirection(_c);}if(this.vscrollbar){this.vscrollbar._setRtlDirection(_c);}if(this.hscrollbar){this.hscrollbar._setRtlDirection(_c);}if(this.stepcontrol){this.stepcontrol._setRtlDirection(_c);}this._bChangeRtl=false;};_pForm.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pForm.on_apply_locale=function(){var _a=this.components;for(var _c=0,_d=_a.length;_c<_d;_c++ ){var _b=_a[_c];_b._setLocale(this._locale);}};_pForm.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Component.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(application._quickview_mode&&_m!==true&&this.parent instanceof nexacro.ChildFrame){if(_l&&!_l._input_element){return nexacro._showQuickviewMenu(this,_e,_f);}}return _m;};_pForm.on_fire_oninit=function(_a){if(this._is_init&&this.oninit&&this.oninit._has_handlers){this._is_init=false;var _b=new nexacro.Event(_a,"oninit");return this.oninit._fireEvent(this,_b);}return true;};_pForm.on_fire_canstepchange=function(_a){if(this.canstepchange&&this.canstepchange._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"canstepchange",_a._prestepindex,_a._poststepindex);return this.canstepchange._fireCheckEvent(this,_b);}};_pForm.on_fire_onstepchanged=function(_a){if(this.onstepchanged&&this.onstepchanged._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"onstepchanged",_a._prestepindex,_a._poststepindex);return this.onstepchanged._fireEvent(this,_b);}};_pForm.on_fire_canlayoutchange=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.canlayoutchange&&this.canlayoutchange._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.canlayoutchange._fireCheckEvent(this,_i);}return true;};_pForm.on_fire_onlayoutchanged=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onlayoutchanged&&this.onlayoutchanged._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.onlayoutchanged._fireEvent(this,_i);}return true;};_pForm.on_fire_onbeforelayoutchange=function(_a,_b,_c,_d){if(this.onbeforelayoutchange&&this.onbeforelayoutchange._has_handlers){var _e=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d);return this.onbeforelayoutchange._fireEvent(this,_e);}return true;};_pForm.on_fire_onload=function(_a,_b){if(this._is_fired_onload){return true;}if(this.onload&&this.onload._has_handlers){this._bFireLoadEvent=true;var _c=new nexacro.LoadEventInfo(_a,"onload",_b);var _d=this.onload._fireEvent(this,_c);this._bFireLoadEvent=false;_c.destroy();_c=null;this._is_fired_onload=true;return _d;}return true;};_pForm.on_fire_ondevicebuttonup=function(_a,_b){if(this.ondevicebuttonup&&this.ondevicebuttonup._has_handlers){var _c=new nexacro.DeviceButtonEventInfo(_a,_b);return this.ondevicebuttonup._fireEvent(this,_c);}return true;};_pForm._on_devicebuttonup=function(_a){var _b=this.on_fire_ondevicebuttonup(this,_a);if(!_b&&this.parent&&this.parent instanceof nexacro.Form){return this.parent._on_devicebuttonup(_a);}return _b;};_pForm.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}var _g=_f;if(!_g){_g=this.getFocus();}if(!_g){_g=this;}if(_g){_g=_g._getRootComponent(_g);}var _h=_g._getDlgCode(_a,_b,_c,_d);if(_a==nexacro.Event.KEY_TAB){if(_h.want_tab==false){var _i;var _j=this._getRootWindow();if(_j._keydown_element){_j._keydown_element._event_stop=true;}if(nexacro._enableaccessibility){var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);}if(!_d){_i=this._searchNextTabFocus(this._last_focused,undefined,undefined,false);}else{_i=this._searchPrevTabFocus(this._last_focused,undefined,undefined,false);}if(_i&&_i[0]){if(_i[0] instanceof nexacro.Form&&_i[0]._last_focused){var _l=this._getWindow();_l._removeFromCurrentFocusPath(_i[0]._last_focused);}_i[0]._setFocus(true,(!_d?0:1),true);}else if(_i&&_i[2]== -1){var _m=this._last_focused;if(_m){_m.getElement().notifyAccessibility(application.accessibilityfirstovertext);}}else if(_i&&_i[2]==1){var _m=this._last_focused;if(_m){_m.getElement().notifyAccessibility(application.accessibilitylastovertext);}}return true;}}else if(_a==nexacro.Event.KEY_RETURN){if(_h.want_return==false){if(this instanceof nexacro.Form){var _n=_g._isPopupVisible();if(!_n&&this._defaultbutton&&this._defaultbutton.enableevent&&this._defaultbutton._isEnable()){this._defaultbutton.click();}}}}else if(_a==nexacro.Event.KEY_ESC){if(nexacro._stopTransaction(this,1)<=0&&_h.want_escape==false){if(this instanceof nexacro.Form){if(this._escapebutton&&this._escapebutton.enableevent&&this._escapebutton._isEnable()){this._escapebutton.click();}}}}else if(nexacro._enableaccessibility&&_a==nexacro.Event.KEY_DOWN){if(_h.want_arrows==false){var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);var _i=this._searchNextTabFocus(this._last_focused,undefined,undefined,true);if(_i&&_i[0]){if(_i[0] instanceof nexacro.Form&&_i[0]._last_focused){var _l=this._getWindow();_l._removeFromCurrentFocusPath(_i[0]._last_focused);}_i[0]._setFocus(true,2,true);}var _j=this._getRootWindow();_j._keydown_element._event_stop=true;return true;}}else if(nexacro._enableaccessibility&&_a==nexacro.Event.KEY_UP){if(_h.want_arrows==false){var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);var _i=this._searchPrevTabFocus(this._last_focused,undefined,undefined,true);if(_i&&_i[0]){if(_i[0] instanceof nexacro.Form&&_i[0]._last_focused){var _l=this._getWindow();_l._removeFromCurrentFocusPath(_i[0]._last_focused);}_i[0]._setFocus(true,3,true);}var _j=this._getRootWindow();_j._keydown_element._event_stop=true;return true;}}var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,_f);if(!this.onkeydown||(this.onkeydown&&!this.onkeydown.defaultprevented)){if(_a==nexacro.Event.KEY_LEFT||_a==nexacro.Event.KEY_RIGHT){if(this.hscrollbar&&this.hscrollbar.visible&&_c==true){if(_h.want_arrows==false){var _o=this.hscrollbar.line;if(_o<=0){_o=this.hscrollbar._linedown;}if(_a==nexacro.Event.KEY_LEFT){_o*= -1;}this.hscrollbar.set_pos(this.hscrollbar.pos+_o);return true;}}}else if(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN){if(this.vscrollbar&&this.vscrollbar.visible&&_c==true){if(_h.want_arrows==false){var _o=this.vscrollbar.line;if(_o<=0){_o=this.vscrollbar._linedown;}if(_a==nexacro.Event.KEY_UP){_o*= -1;}this.vscrollbar.set_pos(this.vscrollbar.pos+_o);return true;}}}}return _k;};_pForm._on_activate=function(){if(!this.parent){return;}var _a=this.getOwnerFrame();if(!_a||!_a._activate){return;}nexacro.FormBase.prototype._on_activate.call(this);};_pForm._on_deactivate=function(){if(!this.parent){return;}var _a=this.getOwnerFrame();if(!_a||!_a._activate){return;}nexacro.FormBase.prototype._on_deactivate.call(this);};_pForm._refresh_input_comp=function(_a,_b){if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){var _c=_a?_a.length:0;for(var _e=0;_e<_c;_e++ ){var _d=_a[_e];if(_d){if(_d instanceof nexacro.TextArea&&_d.value){if(_b){if(_d._input_element){_d._input_element._refreshElement1(_b);}}else{(function(_f){setTimeout(function(){if(_f&&_f._input_element){_f._input_element._refreshElement1();}},100);})(_d);}}else if(_d instanceof nexacro.Div){this._refresh_input_comp(_d._child_list,_b);}}}}};_pForm._refresh_input_components=function(){if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){var _a=this._last_focused?this._last_focused:this;while(_a){if(_a instanceof nexacro.FormBase){if(_a._last_focused){_a=_a._last_focused;}else{break;}}else{break;}}if(_a&&(_a._has_inputElement||_a instanceof nexacro.Grid)){var _b=null;if(_a instanceof nexacro.Grid){_b=_a._tempEditor?_a._tempEditor._edit_base_api:null;}else{_b=_a._edit_base_api;}if(_b&&!_b._is_composition()){if(nexacro.OSVersion>=10&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE")){if(_a instanceof nexacro.TextArea){_b.comp._input_element._refreshElement1(true);_b.comp._input_element.setElementSetSelect(_b._begin_pos,_b._end_pos);}else{if(_b&&_b.comp&&_b.comp._input_element){_b.comp._input_element._refreshElement();}}}else{if(_b&&_b.comp&&_b.comp._input_element){_b.comp._input_element._refreshElement();}}}}else if(_a&&_a instanceof nexacro.FileUpload){if(_a._items){var _c=_a._items[_a.index];if(_c){_c.fileitemedit._input_element._refreshElement();}}}else{}}};_pForm.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}var _c=this._control_element;var _d=0;if(_c){if(_c.scroll_top==_c.vscroll_limit&&_b.pos>=_c.scroll_top){return true;}else{_d=_c.vscroll_limit;_c.setElementVScrollPos(_b.pos);}}if(_b.pos>=_d){return true;}this._refresh_input_components();return true;};_pForm.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementHScrollPos(_b.pos);}this._refresh_input_components();return true;};_pForm._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);};_pForm.on_fire_onorientationchange=function(_a){if(this.onorientationchange&&this.onorientationchange._has_handlers){var _b=new nexacro.OrientationChangeEventInfo(this,"onorientationchange",_a);this.onorientationchange._fireEvent(this,_b);}};_pForm.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this._getWindow();var _e=_c;var _f=null;if(!_e){_e=this.getFocus();}if(!_e){_e=this;}if(_e){_e=_e._getRootComponent(_e);}if(!_a){_f=this._searchPrevTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,true);while(_f&&_f[0]&&_f[0]._is_form){if(_f[0]==this){var _g=_f[0].parent._searchPrevTabFocus(_f[0],undefined,undefined,true);}if(_g&&_g[0]){if(_f[0]==_g[0]){_f=_g;break;}_f=_g;}else{break;}}}else{_f=this._searchNextTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,true);while(_f&&_f[0]&&_f[0]._is_form){var _h=this._getSortedDecendants(_f[0],undefined,true);var _i=_h?_h.length:0;if(_i==0){break;}var _g=this._searchNextTabFocus(_f[0],undefined,undefined,true);if(_f[0]==_g[0]){_f=_g;break;}_f=_g;}}if(_f&&_f[0]){_f[0]._setAccessibilityNotifyEvent(_a);return true;}return false;};_pForm.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}_b.parent=this;_b._refform=this;this[_a]=_b;this.all.add_item(_a,_b);_b.id=_a;if(this.visible&&!this._real_visible){_b._real_visible=false;}else{_b._real_visible=this.visible;}if(_b._is_component){_c=this.components.add_item(_a,_b);this._child_list.push(_b);if(_b._is_alive&&_b._is_created&&this._is_created){this._control_element.appendChildElement(_b.getElement());}_b._setRtlDirection(this._rtldirection);}else if(_b instanceof nexacro.BindItem){_c=this.binds.add_item(_a,_b);}else{_c=this.objects.add_item(_a,_b);}return _c;};_pForm.resetScroll=function(){this._onRecalcScrollSize();this._onResetScrollBar();};_pForm.close=function(_a){if(this._is_closing){return;}this._is_closing=true;if(!this.parent||!this.parent._is_frame){return;}this.setWaitCursor(false,null);var _b=this.parent;var _c=_b._on_beforeclose();if(_b._checkAndConfirmClose(_c)==false){this._is_closing=false;return false;}if(_b._window){_b._window._ignore_close_confirm=true;}_b._on_close();if(typeof (_a)=="object"){_a=null;}if(this.parent){this.parent._closeForm(_a);}this._is_closing=false;};_pForm.getFirstComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderFirst(false,false);if(_a){if(_b._is_form){return _b._getTabOrderFirst(false,false);}}return _b;};_pForm.getLastComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderLast(false,false);if(_a){if(_b._is_form){return _b._getTabOrderLast(false,false);}}return _b;};_pForm.getNextComponent=function(_a,_b){application._getNextMethod_owner=this.name;if(_b!==true){_b=false;}var _c=_a.parent;var _d=_c._getNextComponent(_a,1,_b);if(!_d){_d=_c._searchNextComponent(_a,undefined,undefined,false,false,_b)[0];}return _d;};_pForm.getPrevComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=_a.parent;var _d=_c._getNextComponent(_a, -1,_b);if(!_d){_d=_c._searchPrevComponent(_a,undefined,undefined,false,false,_b)[0];}return _d;};_pForm.getFirstAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderFirst(true,false);if(!_b._isAccessibilityEnable()){_b=this.getNextAccessibilityComponent(_b,_a);}if(_a){if(_b._is_form){return _b._getTabOrderFirst(true,false);}}return _b;};_pForm.getLastAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderLast(true,false);if(!_b._isAccessibilityEnable()){_b=this.getPrevAccessibilityComponent(_b,_a);}if(_a){if(_b._is_form){return _b._getTabOrderLast(true,false);}}return _b;};_pForm.getNextAccessibilityComponent=function(_a,_b){if(_b!==true){_b=false;}if(_a){var _c=_a.parent;var _d=_c._getTabOrderNext(_a,1,true,false);if(_d==undefined&&!nexacro._enableaccessibility){_d=_c.getFirstComponent(_b);}if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a,1,true,false);if(_e){return _e;}_e=_d._getTabOrderFirst(true,false);if(_e){return _e;}}}return _d;}return undefined;};_pForm.getPrevAccessibilityComponent=function(_a,_b){if(_b!==true){_b=false;}if(_a){var _c=_a.parent;var _d=_c._getTabOrderNext(_a, -1,true,false);if(_d==undefined&&!nexacro._enableaccessibility){_d=_c.getLastComponent(_b);}if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a, -1,true,false);if(_e){return _e;}_e=_d._getTabOrderLast(true,false);if(_e){return _e;}}}return _d;}return undefined;};_pForm.getNextEditableComponent=function(_a,_b,_c){if(_c!==true){_c=false;}if(_a){var _d=_a.parent;var _e=_d._getTabOrderNext(_a,1,false,true,_b,undefined,_c);if(_e==undefined){_e=_d._getTabOrderNext(_a,1,false,true,"All",undefined,_c);}if(_e==undefined){_e=_d.getFirstEditableComponent(_b,_c);}return _e;}return undefined;};_pForm.getPrevEditableComponent=function(_a,_b,_c){if(_c!==true){_c=false;}if(_a){var _d=_a.parent;var _e=_d._getTabOrderNext(_a, -1,false,true,_b,undefined,_c);if(_e==undefined){_e=_d._getTabOrderNext(_a, -1,false,true,"All",undefined,_c);}if(_e==undefined){_e=_d.getLastEditableComponent(_b,_c);}return _e;}return undefined;};_pForm.getFirstEditableComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=this._getTabOrderFirst(false,true,_a,_b);if(!_c){_c=this._getTabOrderFirst(false,true,"All",_b);}return _c;};_pForm.getLastEditableComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=this._getTabOrderLast(false,true,_a,_b);if(!_c){_c=this._getTabOrderLast(false,true,"All",_b);}return _c;};_pForm._getNextHeadingComponent=function(_a){var _b=this._searchNextHeadingFocus(_a);if(_b){return _b[0];}};_pForm._getPrevHeadingComponent=function(_a){var _b=this._searchPrevHeadingFocus(_a);if(_b){return _b[0];}};_pForm.getFocus=function(){var _a=this._find_lastFocused();if(_a==null){return this;}return _a;};_pForm.getZoom=function(){var _a=this._control_element;if(_a&&_a.getZoom){return (this._zoomFactor!==undefined)?this._zoomFactor:_a.getZoom();}return 100;};_pForm.setZoom=function(_a){var _b=this.getZoom();if(typeof _a=="string"&&_a.charAt(_a.length-1)=="%"){_a=_a.slice(0,_a.length-1);}var _c=this._control_element;if(_c){this._zoomFactor=_a;_c.container_maxwidth=0;_c.container_maxheight=0;_c.setElementScrollMaxSize(0,0);this._client_width=0;this._client_height=0;this._updateClientSize(_c);_c.setZoom(_a);nexacro._applyZoomEdge(_c,_a);var _d=nexacro._current_popups;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(this._contains(_d[_f])){_d[_f].parent._applyZoomPopup();}}}return _b;};_pForm.go=function(_a){if(this._url!=_a){if(this._url!=""){var _b=this._on_beforeclose();if(this._checkAndConfirmClose(_b)==false){return;}this._on_close();}this._url=_a;this._base_url=nexacro._getBaseUrl(_a);this._apply_formurl();if(nexacro.OS=="Windows"&&nexacro.Browser=="Runtime"){if(this.getZoom()!=100){var _c=100;this._zoomFactor=_c;var _d=this._control_element;if(_d){this._updateClientSize(_d);_d.setZoom(_c);nexacro._applyZoomEdge(_d,_c);}}}}};_pForm.hasPopupFrame=function(){return false;};_pForm.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return  -1;}if(!_c){return  -1;}if(this[_b]){return  -1;}_c.parent=this;_c._refform=this;this[_b]=_c;this.all.add_item(_b,_c);_c.id=_b;if(_c._is_component){ret=this.components.insert_item(_a,_b,_c);this._child_list.push(_c);}else if(_c instanceof nexacro.BindItem){ret=this.binds.insert_item(_a,_b,_c);}else{ret=this.objects.insert_item(_a,_b,_c);}return ret;};_pForm.isValidObject=function(_a){if(typeof _a=="string"){if(this[_a]){return true;}}else if(_a instanceof Object){var _b=this.all.length;for(var _c=0;_c<_b;_c++ ){if(this.all[_c]==_a){return true;}}}else{if(nexacro._indexOf(this.all,_a)> -1){return true;}}return false;};_pForm.killTimer=function(_a){this._timerManager.deleteTimer(_a);};_pForm.setTimer=function(_a,_b){var _c=new nexacro.EventTimer(this,_a,_b);_c.start();};_pForm.loadStyle=function(_a,_b){if((typeof (_a)!="string")||_a.length==0){return;}_b=_b==false?false:true;var _c=true;if(_b){_c=false;}this._clearCssInfo(_c);var _d=this._base_url;var _e=[];_e.push(nexacro._getServiceLocation(_a,_d));if(!application.checkversion){_e.push(".js");}var _f=nexacro._getServiceObject(_a);this._load_manager.reloadCssModule(_e.join(""),null,false,_f);this._apply_formstyle(this);};_pForm.reload=function(){var _a=this._getRootWindow();_a._removeFromCurrentFocusPath(this._last_focused,true);var _a=this._getWindow();_a.clearCurrentFocusPaths();this._last_focused=null;this._url=this.parent._formurl;this._base_url=nexacro._getBaseUrl(this._url);if(nexacro.OS=="Windows"&&nexacro.Browser=="Runtime"){if(this.getZoom()!=100){var _b=100;this._zoomFactor=_b;var _c=this._control_element;if(_c){this._updateClientSize(_c);_c.setZoom(_b);nexacro._applyZoomEdge(_c,_b);}}}this._zoomFactor=100;this._apply_formurl();};_pForm.removeChild=function(_a){if(!_a||_a.length<=0){return null;}if(!this[_a]){return null;}var _b=this[_a];if(_b._is_component){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)> -1);}if(this._defaultbutton==_b){this._defaultbutton=null;}if(this._escapebutton==_b){this._escapebutton=null;}if(this._is_alive&&_b._control_element){_b._control_element._removeFromContainer();}if(this._bind_manager){this._bind_manager._dettachSBindItem(_b);}if(this._overedobj==_b){this._overedobj=null;}this.components.delete_item(_a);var _e=nexacro._indexOf(this._child_list,_b);if(_e> -1){this._child_list.splice(_e,1);}if(_c&&this._is_alive){if(_b instanceof nexacro.Form){_b._on_deactivate();}_d._removeFromCurrentFocusPath(_b,true);_d._last_focused_elem=this._control_element;this._on_focus(true);}}else if(_b instanceof nexacro.BindItem){this._bind_manager._setBinditem(_b,true);this.binds.delete_item(_a);}else{this.objects.delete_item(_a);}_b.parent=null;delete this[_a];this.all.delete_item(_a);return _b;};_pForm.setWaitCursor=function(_a,_b){var _c=_a;var _d=_b;if(_c==undefined){_c=true;}if(_d==undefined){_d=false;}if(!_d&&!application.usewaitcursor){return;}var _e=this._getWindow();if(_e){if(_a||nexacro._getLocalStorage("_com_waiting",false)){_e._cancelEvent();}}this._waitCursor(_c,null);};_pForm.sleep=function(_a){nexacro._sleep(_a);};_pForm.transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=this._getWindow();if(_k){var _l=_k._cur_ldown_elem||_k._keydown_element;var _m=_k.findComponent(_l,0,0);if(_m&&_m[0]){var _n=_m[0]._getRootComponent(_m[0]);_n._cancelEvent(_m[0]);}}var _o=nexacro._getServiceLocation(_b,this._base_url);var _p=nexacro._getServiceObject(_b,true);this._load_manager.loadDataModule(_o,_a,_c,_d,_e,_f,_g,_h,_i,_p,_j);};_pForm.cancelTransaction=function(_a){if(!this._load_manager){return  -1;}var _b=this._load_manager.dataList;if(!_b){return  -1;}var _c=0;if(_a!=undefined){var _d=(typeof _a=="string")?_a.split(","):_a;if(_d.length>0){var _e=[];for(var _h=0,_i=_b.length;_h<_i;_h++ ){_e[_h]=_b[_h].url;}var _f=[];for(var _j=0,_i=_e.length;_i>_j;_j++ ){var _g=false;for(var _k=0,_i=_d.length;_i>_k;_k++ ){if(_d[_k]==_e[_j]){_g=true;break;}}if(!_g){_f.push(_e[_j]);}}for(var _j=_f.length-1;_j>=0;_j-- ){for(var _k=_b.length-1;_k>=0;_k-- ){if(_b[_k].url==_f[_j]){_b=nexacro._removedatalist(_b,_k);}}}}}this._stopTransaction(true);};_pForm.updateWindow=function(){};_pForm.getStepCount=function(){var _a=this.stepcontrol;if(_a){return _a.stepcount;}};_pForm.setStepIndex=function(_a){var _b=this.stepcontrol;if(_b){return _b.set_stepindex(_a);}};_pForm.applyChange=function(){var _a=this._last_focused;if(!_a){return;}_a.applyto_bindSource("value",_a.value);var _b=this.binds;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d._comp==_a&&_d.propid=="value"){this._bind_manager._notify(_d);return;}}};_pForm._setFormPosition=function(_a,_b,_c,_d){this._init_width=_c;this._init_height=_d;};_pForm._resetScrollPos=function(_a,_b,_c,_d,_e,_f){if(this._is_frame||!this._control_element){return;}var _g=this.hscrollbar;var _h=this.vscrollbar;var _i,_j;_i=this._client_width;_j=this._client_height;var _k=0;var _l=0;if(_g&&_g.visible){_k=_g.pos;if(_b-_k<_i&&_d-_k>_i){if(_d-_b<_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}else if(_k>_b){if(_f==1&&_d-_b>_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}else if(_b-_k>=_i){if(_d-_b<_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}_k=_g.pos;}if(_h&&_h.visible){_l=_h.pos;if(_c-_l<_j&&_e-_l>_j){if(_e-_c<_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}else if(_l>_c){if(_f==1&&_e-_c>_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}else if(_c-_l>=_j){if(_e-_c<_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}_l=_h.pos;}_b=this._adjust_left+_b-_k;_c=this._adjust_top+_c-_l;_d=this._adjust_left+_d-_k;_e=this._adjust_top+_e-_l;if(!this._is_popup_control&&this.parent&&this.parent!=this){this.parent._resetScrollPos(this,_b,_c,_d,_e,_f);}};_pForm._setDragMove=function(_a,_b){this._is_track=_a;if(_a&&_b){this._hittest_type="caption";}else{this._hittest_type="none";}if(this._control_element){this._control_element.setElementHittestType(this._hittest_type);}};_pForm._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.getOwnerFrame();if(_a){_a._on_titlebar_starttrack();}};_pForm._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_endtrack(_a,_b,_c);}};_pForm._on_movetrack=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}var _f=this.getOwnerFrame();if(_f){_f._on_titlebar_movetrack(_a,_b,_c,_d,_e);}};_pForm._setSize=function(_a,_b){var _c=this.getElement();var _d=this._adjust_width;var _e=this._adjust_height;var _f=this._adjust_left;var _g=this._adjust_top;if(_d!=_a||_e!=_b){var _h=false;if(_d==0||_e==0){_h=true;}this.width=this._adjust_width=_a;this.height=this._adjust_height=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._layout_list&&this._layout_list.length>0){var _i=this._checkValidLayout();if(_i){_c=_i._form.getElement();if(_c){_c.setElementSize(_a,_b);this._updateClientSize(_c);}}}this.on_update_position(true,false);if(_c&&_h){this.currentstyle._empty();this._control_pseudo="";var _j=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_c,_j);this._updateContents(_c,_j);}}};_pForm._stopTransaction=function(_a){if(!this._load_manager){return  -1;}var _b=this._load_manager.dataList;if(!_b){return  -1;}var _c=this._load_manager.transactionList;var _d=0;var _e=_b.length;var _f=0;while(_d<_b.length){var _g=_b[_d];if(!_g){_d++ ;continue;}var _h=_g._handle;if(!_h){_d++ ;continue;}if(_g._is_cancel||_g._is_process){_d++ ;_e=_b.length;continue;}if(!_a){_h._user_aborted=false;var _i=_c[_d];if(_i){var _j=_i.on_error( -1,"comm_stop_transaction_byesc",nexacro._communicationStatusTable["stop"],"",nexacro.Communication_Error.STOPTRANSACTIONBYESC);if(_j){_g._is_process=true;_h._user_aborted=undefined;_d++ ;continue;}}}_h._user_aborted=true;_g._is_cancel=true;if(nexacro.Browser=="Runtime"){nexacro._cancelLoad(_h);}else{nexacro._cancelLoad(_h);if(_i){_i.on_error(0,"comm_cancel_byuser",499,"",nexacro.Communication_Error.CANCELBYUSER);}}_h=null;_g=null;_f++ ;if(_e==_b.length){_d++ ;}else{_d=0;_e=_b.length;}}return _f;};_pForm._onRecalcScrollSize=function(_a){var _b=this._control_element;if(this._is_scrollable&&_b){var _c=false;var _d=0,_e=0;if(!_a){var _f=this.components;var _g=this.getZoom()/100;var _h=this._client_width/_g;var _i=this._client_height/_g;for(var _t=0,_u=_f.length;_t<_u;_t++ ){var _j=_f[_t];if(_j&&_j.visible){var _k=_j.getOffsetRight();var _l=_j.getOffsetBottom();var _m=1;if(_j.right){var _n=_j.right;if(typeof (_n)=="string"&&_n.indexOf("%")>=0){if(parseFloat(_n)>=0){_m=0;}}else{if(parseInt(_n)>=0){_m=0;}}}if(_m||_d<_k){_d=Math.max(_d,_k);}var _o=1;if(_j.bottom){var _n=_j.bottom;if(typeof (_n)=="string"&&_n.indexOf("%")>=0){if(parseFloat(_n)>=0){_o=0;}}else{if(parseInt(_n)>=0){_o=0;}}}if(_o||_e<_l){_e=Math.max(_e,_l);}}}if(_h||_i){if(_h<= -1){_d= -1;}if(_i<= -1){_e= -1;}}_b.setElementScrollMaxSize(_d,_e);}else if(_a.visible){var _p=_b.container_maxwidth;var _q=_b.container_maxheight;var _r=_a.getOffsetRight();var _s=_a.getOffsetBottom();if(_p<_r||_q<_s){_d=Math.max(_p,_r);_e=Math.max(_q,_s);_c=_b.setElementScrollMaxSize(_d,_e);}}}};_pForm._calcScrollMaxSize=function(){var _a=this._control_element;if(this._is_scrollable&&_a){var _b=0,_c=0;var _d=this.components;for(var _g=0,_h=_d.length;_g<_h;_g++ ){var _e=_d[_g];if(_e&&_e.visible){var _f=_e._getFixedOffsetValue();_b=Math.max(_b,_f.right);_c=Math.max(_c,_f.bottom);}}return {w:_b,h:_c};}return {w: -1,h: -1};};_pForm._dragEnd=function(_a){var _b=this.getElement();if(_b){var _c=this.stepcontrol;if(_c){var _d=_b._step_count;var _e=_b._step_index;var _f=_a.direction;if(_d>0){var _g= -1;if(_f=="L"){_g=_e+1;}else if(_f=="R"){_g=_e-1;}if(_g<0||_g>=_d){return;}_c.set_stepindex(_g);}}}};_pForm._getDefaultButton=function(){var _a=this.components;if(_a){var _b;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b._is_form){var _c=_b._getDefaultButton();if(_c){return _c;}}else if(nexacro._toBoolean(_b.defaultbutton)){return _b;}}}return null;};_pForm._getEscapeButton=function(){var _a=this.components;if(_a){var _b;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b._is_form){var _c=_b._getEscapeButton();if(_c){return _c;}}else if(nexacro._toBoolean(_b.escapebutton)){return _b;}}}return null;};_pForm._apply_formurl=function(){this._clear();if(this._url){this.loadForm(this._url,true,true);this.set_visible(true);}};_pForm._apply_formstyle=function(_a){var _b=_a.components;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c){_c.currentstyle._empty();_c._control_pseudo="";_c._contents_pseudo="";_c._css_finder=null;_c._ref_css_finder=null;if(_c._is_form){_c.on_apply_pseudo("");this._apply_formstyle(_c);}else{_c.on_apply_pseudo("");_c.on_apply_custom_class();}}}if(this.vscrollbar){this.vscrollbar.on_apply_prop_class();}if(this.hscrollbar){this.hscrollbar.on_apply_prop_class();}this._onResetScrollBar();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo("");};_pForm._apply_stepcount=function(){var _a=this.stepcontrol;if(_a){this._on_prepare_stepcontents(_a._prestepcount,_a._prestepindex,_a.stepcount,_a.stepindex);this._on_refresh_stepcontents(_a._prestepcount,_a._prestepindex,_a.stepcount,_a.stepindex);}};_pForm._getAccessibilityWholeReadLabel=function(){var _a="";var _b=this._getSortedDecendants(this,true,true);for(var _d=0,_e=_b.length;_d<_e;_d++ ){comp=_b[_d];if(comp._isAccessibilityEnable()){var _c=comp._getAccessibilityReadLabel(true);if(_c){_c.trim();if(_c&&_c.length>0){_a+=_c+" ";}}}}return _a;};_pForm._playAccessibilityWholeReadLabel=function(_a){var _b=this.getElement();if(_b){var _c=this._getAccessibilityWholeReadLabel();_b.notifyAccessibility(_c,_a);}};delete _pForm;}if(!nexacro.TitleBar){nexacro.TitleBar_Style=function(_a){this.icon=null;this._target=_a||null;};var _pTitleBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.TitleBar_Style);nexacro.TitleBar_Style.prototype=_pTitleBarStyle;eval(nexacro._createValueAttributeEvalStr("_pTitleBarStyle","icon"));_pTitleBarStyle.__custom_emptyObject=function(){this.icon=null;};_pTitleBarStyle.__get_custom_style_value=function(){var _a="";if(this.icon&&!this.icon._is_empty){_a+="icon:"+this.icon._value+"; ";}return _a;};nexacro.TitleBar_CurrentStyle=function(){this.icon=null;};var _pTitleBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.TitleBar_CurrentStyle);nexacro.TitleBar_CurrentStyle.prototype=_pTitleBarCurrentStyle;_pTitleBarCurrentStyle.__custom_emptyObject=_pTitleBarStyle.__custom_emptyObject;_pTitleBarCurrentStyle.__get_custom_style_value=_pTitleBarStyle.__get_custom_style_value;delete _pTitleBarStyle;delete _pTitleBarCurrentStyle;nexacro.TitleBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.minbutton=null;this.normalbutton=null;this.maxbutton=null;this.closebutton=null;this._state_openstatus=0;if(_i&&_i._is_frame&&_i._is_window){this._is_track=false;}else{this._is_track=true;}this._icon_elem=null;this._text_elem=null;this._titletext="";this._is_verticalmin=false;this._absolute_style=0;this._iconwidth=0;this._iconheight=0;this._is_scrollable=false;this._is_nc_control=true;this._is_focus_accept=false;};var _pTitleBar=nexacro._createPrototype(nexacro.Form,nexacro.TitleBar);nexacro.TitleBar.prototype=_pTitleBar;_pTitleBar._type_name="TitleBar";nexacro.TitleBar._default_align=nexacro.Component._default_left_align;nexacro.TitleBar._default_icon=null;_pTitleBar.on_create_custom_style=function(){return new nexacro.TitleBar_Style(this);};_pTitleBar.on_create_custom_currentStyle=function(){return new nexacro.TitleBar_CurrentStyle();};_pTitleBar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_icon(_a);if(_f!=_b.icon){_b.icon=_f;this.on_apply_style_icon(_f);}var _g=this.on_find_CurrentStyle_padding(_a);if(_b.padding!=_g){_b.padding=_g;this.on_apply_style_padding(_g);}var _h=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_h!=_b.rtlimagemirroring){_b.rtlimagemirroring=_h;this.on_apply_style_rtlimagemirroring(_h);}};_pTitleBar.on_find_CurrentStyle_icon=function(_a){var _b=this._find_pseudo_obj("icon",_a,"value");return _b?_b:nexacro.TitleBar._default_icon;};_pTitleBar.on_update_style_icon=function(){this.on_apply_style_icon(this.currentstyle.icon=this.on_find_CurrentStyle_icon(this._pseudo));};_pTitleBar.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);if(this._control_element){this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);}};_pTitleBar.on_apply_style_padding=function(_a){if(this._control_element){this._control_element.setElementPadding(_a);}};_pTitleBar.on_apply_style_icon=function(_a){if(this._icon_elem){var _b=this.getOwnerFrame();if(_b&&_b.currentstyle.icon&&!_b.currentstyle.icon._is_empty){_a=_b.currentstyle.icon;}if(_a==null){_a=this.currentstyle.icon;}var _c=nexacro._getImageSize(_a.value,this._on_loadicon,this,this._getRefFormBaseUrl(),undefined,_a.value);if(_c){if((_c.width>0)&&(_c.height>0)){this._iconwidth=_c.width;this._iconheight=_c.height;}}if(_b.showtitleicon==false){this._icon_elem.setElementImageUrl("");}else{this._icon_elem.setElementImageUrl(_a.value);}this._updateControlPosition();}};_pTitleBar.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pTitleBar.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pTitleBar.on_apply_style_align=function(_a){if(this._text_elem){this._text_elem.setElementAlign(_a);}};_pTitleBar.on_apply_style_rtlimagemirroring=function(_a){return;};_pTitleBar.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.getOwnerFrame();var _c=this.currentstyle;var _d=this._icon_elem=new nexacro.AlignImageElement(_a);_d.setElementAlignXY("center","middle");var _e=this._text_elem=new nexacro.TextBoxElement(_a);if(this._titletext){_e.setElementText(this._titletext);}_e.setElementAlign(_c.align?_c.align:nexacro.TitleBar._default_align);_e.setElementFont(_c.font);_e.setElementColor(_c.color);_e.setElementLetterSpace(_c.letterspace);var _f=this.minbutton=new nexacro.ImageButtonCtrl("minbutton","absolute",0,0,0,0,null,null,this);var _g=this.maxbutton=new nexacro.ImageButtonCtrl("maxbutton","absolute",0,0,0,0,null,null,this);var _h=this.normalbutton=new nexacro.ImageButtonCtrl("normalbutton","absolute",0,0,0,0,null,null,this);var _i=this.closebutton=new nexacro.ImageButtonCtrl("closebutton","absolute",0,0,0,0,null,null,this);_h.set_visible(false);if(_b){_f._setEventHandler("onclick",_b.on_minbutton_click,_b);_g._setEventHandler("onclick",_b.on_maxbutton_click,_b);_h._setEventHandler("onclick",_b.on_normalbutton_click,_b);_i._setEventHandler("onclick",_b.on_closebutton_click,_b);this._setEventHandler("ondblclick",_b._on_titlebar_dblclick,_b);}var _j;if(_b&&_b.currentstyle.icon&&!_b.currentstyle.icon._is_empty){_j=_b.currentstyle.icon;}else{_j=this.currentstyle.icon;}if(_j){var _k=nexacro._getURIValue(_j._value);_k=nexacro._getImageLocation(_k,this._getRefFormBaseUrl());var _l=nexacro._getImageSize(_k,this._on_loadicon,this,this._getRefFormBaseUrl(),_j._value);if(_l){if((_l.width>0)&&(_l.height>0)){this._iconwidth=_l.width;this._iconheight=_l.height;if(_b&&_b.showtitleicon!=false){_d.setElementImageUrl(_k);}if(_d){this._updateControlPosition(this._client_width,this._client_height);}var _m=this.parent;if(_m&&_m._is_window){var _n=_m._getWindow();if(_n){nexacro._setWindowHandleIcon(_n._handle,_k);}}}}}this._updateControlPosition(this._client_width,this._client_height);_f.createComponent();_g.createComponent();_h.createComponent();_i.createComponent();}};_pTitleBar.on_created_contents=function(){this._icon_elem.create();this._text_elem.create();this.minbutton.on_created();this.maxbutton.on_created();this.normalbutton.on_created();this.closebutton.on_created();if(this._pseudo){var _a=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);this.on_apply_style_rtlimagemirroring(_a);}this.on_apply_prop_rtldirection();};_pTitleBar.on_destroy_contents=function(){var _a=this._icon_elem;var _b=this._text_elem;var _c=this.minbutton;var _d=this.maxbutton;var _e=this.normalbutton;var _f=this.closebutton;if(_a){_a.destroy();this._icon_elem=null;}if(_b){_b.destroy();this._text_elem=null;}if(_c){_c.destroy();this.minbutton=null;}if(_d){_d.destroy();this.maxbutton=null;}if(_e){_e.destroy();this.normalbutton=null;}if(_f){_f.destroy();this.closebutton=null;}};_pTitleBar.on_change_containerRect=function(_a,_b){this._updateControlPosition(_a,_b);};_pTitleBar.set_titletext=function(_a){this._titletext=_a;if(this._text_elem){this._text_elem.setElementText(_a);}};_pTitleBar.on_minbutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_minbutton_click(_a,_b);}};_pTitleBar.on_maxbutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_maxbutton_click(_a,_b);}};_pTitleBar.on_normalbutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_normalbutton_click(_a,_b);}};_pTitleBar.on_closebutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_closebutton_click(_a,_b);}};_pTitleBar._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.getOwnerFrame();if(_a){_a._on_titlebar_starttrack();}};_pTitleBar._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_endtrack(_a,_b,_c);}};_pTitleBar._on_movetrack=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}var _f=this.getOwnerFrame();if(_f){_f._on_titlebar_movetrack(_a,_b,_c,_d,_e);}};_pTitleBar._on_loadicon=function(_a,_b,_c){if((_b<1)||(_c<1)){return;}var _d=this.getOwnerFrame();if(_d&&_d.showtitleicon!=false){this._icon_elem.setElementImageUrl(_a);}this._iconwidth=_b;this._iconheight=_c;if(this._icon_elem){this._updateControlPosition(this._client_width,this._client_height);}var _e=this.parent;if(_e&&_e._is_window){var _f=_e._getWindow();if(_f){nexacro._setWindowHandleIcon(_f._handle,_a);}}};_pTitleBar._updateControlPosition=function(_a,_b){if(!_a||!_b){_a=this._client_width;_b=this._client_height;}var _c=10;var _d=6;var _e=22;var _f=20;var _g=1;var _h=2;var _i=((this._state_openstatus==2)||this._is_verticalmin);if(!this._is_verticalmin){var _j=24;var _k=((_b-_f)/2)|0;if(_k<0){_k=0;}var _l=_a-(_h);_l-=_e;this.closebutton.move(_l,_k,_e,_f);_l-=_g;_l-=_e;this.maxbutton.move(_l,_k,_e,_f);if(!_i){this.normalbutton.move(_l,_k,_e,_f);}_l-=_g;_l-=_e;this.minbutton.move(_l,_k,_e,_f);if(_i){this.normalbutton.move(_l,_k,_e,_f);}var _m=_l;_l=_c;var _n=this._icon_elem;var _o=this._iconwidth;var _p=this._iconheight;_k=((_b-_p)/2)|0;var _q=this._convertLeftForRtlLayout(_l,_o);var _r=false;if(this._isRtl()&&_n.left==_q&&_n.top==_k&&_n.width==_o&&_n.height==_p){_r=true;}_n.setElementPosition(_q,_k);_n.setElementSize(_o,_p);_l+=_o;_l+=_d;var _s=(_m-_l);if(_s<0){_s=0;}var _t=_j;_k=((_b-_t)/2)|0;_q=this._convertLeftForRtlLayout(_l,_s);if(_r){if(this._text_elem.width!=_s){_r=true;}else{_r=false;}}this._text_elem.setElementPosition(_q,_k);this._text_elem.setElementSize(_s,_t);if(_n){_n.setElementPosition(_n.left,_n.top,_r||_n._isRtl());}}else{var _j=24;var _u=((_a-_e)/2)|0;if(_u<0){_u=0;}var _v=_b-(_h);_v-=_e;this.closebutton.move(_u,_v,_e,_f);_v-=_g;_v-=_e;this.maxbutton.move(_u,_v,_e,_f);if(!_i){this.normalbutton.move(_u,_v,_e,_f);}_v-=_g;_v-=_e;this.minbutton.move(_u,_v,_e,_f);if(_i){this.normalbutton.move(_u,_v,_e,_f);}var _w=_v;_v=_c;var _n=this._icon_elem;var _o=this._iconwidth;var _p=this._iconheight;_u=((_a-_o)/2)|0;var _q=this._convertLeftForRtlLayout(_u,_o);_n.setElementPosition(_q,_v);_n.setElementSize(_o,_p);_v+=_o;_v+=_d;var _s=(_w-_v);if(_s<0){_s=0;}var _t=_j;_u=((_a-_t)/2)|0;_q=this._convertLeftForRtlLayout(_u,_s);this._text_elem.setElementPosition(_q,_v);this._text_elem.setElementSize(_s,_t);}};_pTitleBar._change_state_OpenStatus=function(_a){var _b=this._prestate_openstatus=this._state_openstatus;this._state_openstatus=_a;if(this._is_verticalmin){_a=2;}if(_b!=_a){switch(_a){case 0:if((this._absolute_style&0x0001)==0){this.minbutton.set_visible(true);}if((this._absolute_style&0x0002)==0){this.maxbutton.set_visible(true);}if((this._absolute_style&0x0008)==0){this.closebutton.set_visible(true);}this.normalbutton.set_visible(false);break;case 1:break;case 2:this.minbutton.set_visible(false);if((this._absolute_style&0x0002)==0){this.maxbutton.set_visible(true);}if((this._absolute_style&0x0008)==0){this.closebutton.set_visible(true);}if((this._absolute_style&0x0004)==0){this.normalbutton.set_visible(true);}break;case 3:if((this._absolute_style&0x0001)==0){this.minbutton.set_visible(true);}this.maxbutton.set_visible(false);if((this._absolute_style&0x0008)==0){this.closebutton.set_visible(true);}if((this._absolute_style&0x0004)==0){this.normalbutton.set_visible(true);}break;}var _c=this.getElement();if(_c){this.on_change_containerRect(_c.client_width,_c.client_height);}}};_pTitleBar._setVerticalMin=function(_a){if(this._is_verticalmin==_a){return;}var _b= -1;if(_a==false){_b=2;}this._is_verticalmin=_a;var _c=this._state_openstatus;if(_b!=( -1)){this._state_openstatus=_b;}this._change_state_OpenStatus(_c);if(this._control_element){this._updateControlPosition();}};_pTitleBar._setDragMove=function(_a,_b){this._is_track=_a;if(_a&&_b){this._hittest_type="caption";}else{this._hittest_type="none";}if(this._control_element){this._control_element.setElementHittestType(this._hittest_type);}};_pTitleBar._setAbsoluteStyle=function(_a,_b,_c){this._absolute_style&=~(_b);this._absolute_style|=_a;if(_c==undefined||_c==true){this._applyAbsoluteStyle();}};_pTitleBar.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);if(this.minbutton&&!((this._absolute_style&0x0010)>0)){this.minbutton._setEnable(_a);}};_pTitleBar._applyAbsoluteStyle=function(){if(this.minbutton){if((this._absolute_style&0x0001)>0){this.minbutton.set_visible(false);}else if((this._absolute_style&0x0100)>0){this.minbutton.set_visible(true);}if((this._absolute_style&0x0010)>0){this.minbutton.set_enable(false);}else if((this._absolute_style&0x1000)>0){this.minbutton.set_enable(true);}}if(this.maxbutton){if((this._absolute_style&0x0002)>0){this.maxbutton.set_visible(false);}else if((this._absolute_style&0x0200)>0){this.maxbutton.set_visible(true);}if((this._absolute_style&0x0020)>0){this.maxbutton.set_enable(false);}else if((this._absolute_style&0x2000)>0){this.maxbutton.set_enable(true);}}if(this.normalbutton){if((this._absolute_style&0x0004)>0){this.normalbutton.set_visible(false);}else if((this._absolute_style&0x0400)>0){this.normalbutton.set_visible(true);}if((this._absolute_style&0x0040)>0){this.normalbutton.set_enable(false);}else if((this._absolute_style&0x4000)>0){this.normalbutton.set_enable(true);}}if(this.closebutton){if((this._absolute_style&0x0008)>0){this.closebutton.set_visible(false);}else if((this._absolute_style&0x08)>0){this.closebutton.set_visible(true);}if((this._absolute_style&0x0080)>0){this.closebutton.set_enable(false);}else if((this._absolute_style&0x8000)>0){this.closebutton.set_enable(true);}}};_pTitleBar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;var _b=this._control_element;if(_b){this._updateControlPosition(_b.client_width,_b.client_height);var _c=this._pseudo;var _d=this.on_find_CurrentStyle_align(_c);this.on_apply_style_align(_d);}var _e=this._text_elem;if(_e){_e.setElementRtlDirection(_a);_e.setElementPosition(_e.left,_e.top,true);}if(this.minbutton){this.minbutton.on_apply_prop_rtldirection();}if(this.maxbutton){this.maxbutton.on_apply_prop_rtldirection();}if(this.normalbutton){this.normalbutton.on_apply_prop_rtldirection();}if(this.closebutton){this.closebutton.on_apply_prop_rtldirection();}var _f=this._icon_elem;if(_f){_f.setElementPosition(_f.left,_f.top,true);}};_pTitleBar.on_apply_custom_class=function(){if(this.minbutton){this.minbutton.on_apply_prop_class();}if(this.maxbutton){this.maxbutton.on_apply_prop_class();}if(this.normalbutton){this.normalbutton.on_apply_prop_class();}if(this.closebutton){this.closebutton.on_apply_prop_class();}};delete _pTitleBar;nexacro.TitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBar,nexacro.TitleBarCtrl);nexacro.TitleBarCtrl.prototype=_pTitleBarCtrl;_pTitleBarCtrl._type_name="TitleBarControl";nexacro._setForTypedControlStyleFinder(_pTitleBarCtrl);delete _pTitleBarCtrl;}if(!nexacro.StatusBar){nexacro.StatusBar_Style=function(_a){this._target=_a||null;this.gripimage=null;this.progressbarheight=null;this.progressbarwidth=null;this.progressbargab=null;this.progressbargap=null;this.zoomcomboheight=null;this.zoomcombowidth=null;this.zoomcombogab=null;this.zoomcombogap=null;};var _pStatusBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.StatusBar_Style);nexacro.StatusBar_Style.prototype=_pStatusBarStyle;eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","gripimage"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbarheight"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbarwidth"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbargab"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbargap"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcomboheight"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcombowidth"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcombogab"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcombogap"));_pStatusBarStyle.__custom_emptyObject=function(){this.gripimage=null;this.progressbarheight=null;this.progressbarwidth=null;this.progressbargab=null;this.progressbargap=null;this.zoomcomboheight=null;this.zoomcombowidth=null;this.zoomcombogab=null;this.zoomcombogap=null;};_pStatusBarStyle.__get_custom_style_value=function(){var _a="";if(this.gripimage&&!this.gripimage._is_empty){_a+="gripimage:"+this.gripimage._value+"; ";}if(this.progressbarheight&&!this.progressbarheight._is_empty){_a+="progressbarheight:"+this.progressbarheight._value+"; ";}if(this.progressbarwidth&&!this.progressbarwidth._is_empty){_a+="progressbarwidth:"+this.progressbarwidth._value+"; ";}if(this.progressbargab&&!this.progressbargab._is_empty){_a+="progressbargab:"+this.progressbargab._value+"; ";}if(this.progressbargap&&!this.progressbargap._is_empty){_a+="progressbargap:"+this.progressbargap._value+"; ";}if(this.zoomcomboheight&&!this.zoomcomboheight._is_empty){_a+="zoomcomboheight:"+this.zoomcomboheight._value+"; ";}if(this.zoomcombowidth&&!this.zoomcombowidth._is_empty){_a+="zoomcombowidth:"+this.zoomcombowidth._value+"; ";}if(this.zoomcombogab&&!this.zoomcombogab._is_empty){_a+="zoomcombogab:"+this.zoomcombogab._value+"; ";}if(this.zoomcombogap&&!this.zoomcombogap._is_empty){_a+="zoomcombogap:"+this.zoomcombogap._value+"; ";}return _a;};nexacro.StatusBar_CurrentStyle=function(){this.gripimage=null;this.progressbarheight=null;this.progressbarwidth=null;this.progressbargab=null;this.progressbargap=null;this.zoomcomboheight=null;this.zoomcombowidth=null;this.zoomcombogab=null;this.zoomcombogap=null;};var _pStatusBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.StatusBar_CurrentStyle);nexacro.StatusBar_CurrentStyle.prototype=_pStatusBarCurrentStyle;_pStatusBarCurrentStyle.__custom_emptyObject=_pStatusBarStyle.__custom_emptyObject;_pStatusBarCurrentStyle.__get_custom_style_value=_pStatusBarStyle.__get_custom_style_value;delete _pStatusBarStyle;delete _pStatusBarCurrentStyle;nexacro.StatusBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.progressbar=null;this.zoomcombo=null;this.showzoomcombo=false;this._is_nc_control=true;this._text_elem=null;this._gripimage_elem=null;this._gripimage_size={};this._statustext="";this._resizable=false;this._is_scrollable=false;};var _pStatusBar=nexacro._createPrototype(nexacro.Form,nexacro.StatusBar);nexacro.StatusBar.prototype=_pStatusBar;_pStatusBar._type_name="StatusBar";nexacro.StatusBar._default_align=nexacro.Component._default_left_align;nexacro.StatusBar._default_gripimage="";nexacro.StatusBar._default_progressbarwidth=new nexacro.Style_value("200");nexacro.StatusBar._default_progressbarheight=new nexacro.Style_value("20");nexacro.StatusBar._default_progressbargab=new nexacro.Style_value("1");nexacro.StatusBar._default_progressbargap=new nexacro.Style_value("1");nexacro.StatusBar._default_zoomcombowidth=new nexacro.Style_value("70");nexacro.StatusBar._default_zoomcomboheight=new nexacro.Style_value("20");nexacro.StatusBar._default_zoomcombogap=new nexacro.Style_value("1");nexacro.StatusBar._default_zoomcombogab=nexacro.StatusBar._default_zoomcombogap;_pStatusBar.on_create_custom_style=function(){return new nexacro.StatusBar_Style(this);};_pStatusBar.on_create_custom_currentStyle=function(){return new nexacro.StatusBar_CurrentStyle();};_pStatusBar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_gripimage(_a);if(_f!=_b.gripimage){_b.gripimage=_f;this.on_apply_style_gripimage(_f);}};_pStatusBar.on_find_CurrentStyle_gripimage=function(_a){var _b=this._find_pseudo_obj("gripimage",_a,"value");return _b?_b:nexacro.StatusBar._default_gripimage;};_pStatusBar.on_find_CurrentStyle_progressbarwidth=function(_a){return this._find_pseudo_obj("progressbarwidth",_a,"value")||nexacro.StatusBar._default_progressbarwidth;};_pStatusBar.on_find_CurrentStyle_progressbarheight=function(_a){return this._find_pseudo_obj("progressbarheight",_a,"value")||nexacro.StatusBar._default_progressbarheight;};_pStatusBar.on_find_CurrentStyle_progressbargab=function(_a){return this._find_pseudo_obj("progressbargab",_a,"value")||nexacro.StatusBar._default_progressbargab;};_pStatusBar.on_find_CurrentStyle_progressbargap=function(_a){return this._find_pseudo_obj("progressbargap",_a,"value")||nexacro.StatusBar._default_progressbargap;};_pStatusBar.on_find_CurrentStyle_zoomcombowidth=function(_a){return this._find_pseudo_obj("zoomcombowidth",_a,"value")||nexacro.StatusBar._default_zoomcombowidth;};_pStatusBar.on_find_CurrentStyle_zoomcomboheight=function(_a){return this._find_pseudo_obj("zoomcomboheight",_a,"value")||nexacro.StatusBar._default_zoomcomboheight;};_pStatusBar.on_find_CurrentStyle_zoomcombogab=function(_a){return this._find_pseudo_obj("zoomcombogab",_a,"value")||nexacro.StatusBar._default_zoomcombogab;};_pStatusBar.on_find_CurrentStyle_zoomcombogap=function(_a){return this._find_pseudo_obj("zoomcombogap",_a,"value")||nexacro.StatusBar._default_zoomcombogap;};_pStatusBar.on_update_style_gripimage=function(){this.on_apply_style_gripimage(this.currentstyle.gripimage=this.on_find_CurrentStyle_gripimage(this._pseudo));};_pStatusBar.on_update_style_progressbarwidth=function(){this.on_apply_style_progressbarwidth(this.currentstyle.progressbarwidth=this.on_find_CurrentStyle_progressbarwidth(this._pseudo));};_pStatusBar.on_update_style_progressbarheight=function(){this.on_apply_style_progressbarheight(this.currentstyle.progressbarheight=this.on_find_CurrentStyle_progressbarheight(this._pseudo));};_pStatusBar.on_update_style_progressbargab=function(){this.on_apply_style_progressbargab(this.currentstyle.progressbargab=this.on_find_CurrentStyle_progressbargab(this._pseudo));};_pStatusBar.on_update_style_progressbargap=function(){this.on_apply_style_progressbargap(this.currentstyle.progressbargap=this.on_find_CurrentStyle_progressbargap(this._pseudo));};_pStatusBar.on_update_style_zoomcombowidth=function(){this.on_apply_style_zoomcombowidth(this.currentstyle.zoomcombowidth=this.on_find_CurrentStyle_zoomcombowidth(this._pseudo));};_pStatusBar.on_update_style_zoomcomboheight=function(){this.on_apply_style_zoomcomboheight(this.currentstyle.zoomcomboheight=this.on_find_CurrentStyle_zoomcomboheight(this._pseudo));};_pStatusBar.on_update_style_zoomcombogab=function(){this.on_apply_style_zoomcombogab(this.currentstyle.zoomcombogab=this.on_find_CurrentStyle_zoomcombogab(this._pseudo));};_pStatusBar.on_update_style_zoomcombogap=function(){this.on_apply_style_zoomcombogap(this.currentstyle.zoomcombogap=this.on_find_CurrentStyle_zoomcombogap(this._pseudo));};_pStatusBar.on_apply_style_gripimage=function(_a){if(this.gripimage==null&&this._gripimage_elem){this._gripimage_elem.setElementImageUrl(_a.value);}};_pStatusBar.on_apply_style_progressbarwidth=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_progressbarheight=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_progressbargab=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_progressbargap=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcombowidth=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcomboheight=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcombogab=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcombogap=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pStatusBar.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pStatusBar.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._text_elem=new nexacro.TextBoxElement(_a);if(this._statustext){_c.setElementText(this._statustext);}_c.setElementAlign(_b.align?_b.align:nexacro.StatusBar._default_align);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementLetterSpace(_b.letterspace);var _d=this.progressbar=new nexacro.ProgressBarCtrl("progressbar","absolute",0,0,0,0,null,null,this);var _e=this.zoomcombo=new nexacro.ComboCtrl("zoomcombo","absolute",0,0,0,0,null,null,this);if(_e){var _f=new nexacro.Dataset("dszoomlist",_e);_f.addColumn("code","int","10");_f.addColumn("data","string","255");var _g=_f.addRow();_f.setColumn(_g,"code","50");_f.setColumn(_g,"data","50%");_g=_f.addRow();_f.setColumn(_g,"code","75");_f.setColumn(_g,"data","75%");_g=_f.addRow();_f.setColumn(_g,"code","100");_f.setColumn(_g,"data","100%");_g=_f.addRow();_f.setColumn(_g,"code","125");_f.setColumn(_g,"data","125%");_g=_f.addRow();_f.setColumn(_g,"code","150");_f.setColumn(_g,"data","150%");_g=_f.addRow();_f.setColumn(_g,"code","200");_f.setColumn(_g,"data","200%");_g=_f.addRow();_f.setColumn(_g,"code","400");_f.setColumn(_g,"data","400%");_e.setInnerDataset(_f);_e.set_codecolumn("code");_e.set_datacolumn("data");}var _h=this._gripimage_elem=new nexacro.AlignImageElement(_a);_h.setElementAlignXY("right","bottom");var _i=_b.gripimage.value;_h.setElementImageUrl(_i?_i:this._default_gripimage);var _j=this.getOwnerFrame();if(_j){_e._setEventHandler("onitemchanged",this.on_zoomcombo_itemchanged,this);}_d.createComponent();if(_e){_e.createComponent();}this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_created_contents=function(){this._text_elem.create();this.progressbar.on_created();if(this.zoomcombo){this.zoomcombo.on_created();}this._gripimage_elem.create();this._setResizable(this._resizable);this.on_apply_prop_rtldirection();};_pStatusBar.on_destroy_contents=function(){var _a=this._text_elem;var _b=this.progressbar;var _c=this.zoomcombo;var _d=this._gripimage_elem;if(_a){_a.destroy();this._text_elem=null;}if(_b){_b.destroy();this.progressbar=null;}if(_c){_c.destroy();this.zoomcombo=null;}if(_d){_d.destroy();this.gripimageElem=null;}};_pStatusBar.on_zoomcombo_itemchanged=function(_a,_b){var _c=this.zoomcombo;if(_c){var _d=_c.value;this._allFrameSetZoom(application.mainframe,_d);}};_pStatusBar.on_change_containerRect=function(_a,_b){this._updateControlPosition(_a,_b);};_pStatusBar.set_statustext=function(_a){this._statustext=_a;if(this._text_elem){this._text_elem.setElementText(_a);}};_pStatusBar.set_gripimage=function(_a){this.gripimage=_a;if(this._gripimage_elem){if(!_a){this.currentstyle.gripimage._value=_a;}this._gripimage_elem.setElementImageUrl(_a);}};_pStatusBar.set_showzoomcombo=function(_a){if(this.showzoomcombo!=_a){this.showzoomcombo=_a;this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;var _b=this._control_element;if(_b){this._updateControlPosition(_b.client_width,_b.client_height);var _c=this._text_elem;if(_c){_c.setElementRtlDirection(_a);_c.setElementPosition(_c.left,_c.top,true);}var _d=this._gripimage_elem;if(_d){_d.setElementRtlDirection(_a);_d.setElementPosition(_d.left,_d.top,true);}var _e=this.zoomcombo;if(_e){_e._setRtlDirection(_a);}var _f=this.progressbar;if(_f){_f._setRtlDirection(_a);}}};_pStatusBar._refreshZoomCombo=function(_a){if(!_a){_a=application.getActiveForm();}if(_a){var _b=_a.getZoom();var _c=this.zoomcombo;if(_c){_c.set_value(_b);}}};_pStatusBar._setResizable=function(_a){var _b=this.getOwnerFrame();if(_b&&this._gripimage_elem){if(!this._gripimage_elem._handle){this._resizable=_a;return;}this._gripimage_elem._is_track=_a;var _c;if(_a){_c=new nexacro.Style_value("se-resize");}else{_c=new nexacro.Style_value("arrow");}if(_a&&_b._is_window){hittest_type="resizingborder_bottomright";}else{hittest_type=undefined;}nexacro.ControlElementBase.prototype.setElementCursor.call(this._gripimage_elem,_c);nexacro.ControlElementBase.prototype.setElementHittestType.call(this._gripimage_elem,hittest_type);if(this._gripimage_elem._on_starttrack==undefined){this._gripimage_elem._on_starttrack=function(){_b._on_border_starttrack(_c);};this._gripimage_elem._on_endtrack=function(_d,_e,_f){_b._on_border_endtrack(_d,_e,_f);};this._gripimage_elem._on_movetrack=function(_d,_e,_f){_b._on_border_movetrack(_d,_e,_f);};}}};_pStatusBar._allFrameSetZoom=function(_a,_b){if(_a){if(_a instanceof nexacro.MainFrame||_a instanceof nexacro.FrameSetBase){var _c=_a.all;var _d=(_c)?_c.length:0;for(var _e=0;_e<_d;_e++ ){this._allFrameSetZoom(_c[_e],_b);}}else if(_a instanceof nexacro.ChildFrame){_a.form.setZoom(_b);}}};_pStatusBar._updateControlPosition=function(_a,_b){var _c=20;var _d=((_b-_c)/2)|0;if(_d<0){_d=0;}var _e=5;var _f=_a;if(_f<0){_f=0;}var _g=this._text_elem;_g.setElementPosition(_e,_d);_g.setElementSize(_f,_b-_d-_d);var _h=this._gripimage_elem;_e=_a-_c;_h.setElementPosition(_e,0);_h.setElementSize(_c,_b);var _i=_e;if(this.zoomcombo){if(this.showzoomcombo&&this._movezoomcombo){_i=this._movezoomcombo(_e,_d,_a,_b);this.zoomcombo.set_visible("true");}else{this.zoomcombo.move(_e,_d,0,0);this.zoomcombo.set_visible("false");}}var _j=this.currentstyle;var _k=this.on_find_CurrentStyle_progressbarwidth(this._pseudo);var _l=this.on_find_CurrentStyle_progressbarheight(this._pseudo);var _m=this.on_find_CurrentStyle_progressbargap(this._pseudo);_e=_i-_k-_m;if(_e<0){_e=0;_k=(_i-_m);}_d=((_b-_l)/2)|0;if(_d<0){_d=0;}if((_d+_l)<_b){_l=_b-_d;}this.progressbar.move(_e,_d,_k,_l);};delete _pStatusBar;nexacro.StatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBar,nexacro.StatusBarCtrl);nexacro.StatusBarCtrl.prototype=_pStatusBarCtrl;_pStatusBarCtrl._type_name="StatusBarControl";nexacro._setForTypedControlStyleFinder(_pStatusBarCtrl);delete _pStatusBarCtrl;}if(!nexacro.Frame){nexacro.Frame_Style=function(_a){nexacro.Style.call(this,_a);this.icon=null;this.showzoomcombo=null;this.statusbarheight=null;this.titlebarheight=null;this.openstatuseffect=null;this.moveeffect=null;};var _pFrameStyle=nexacro._createPrototype(nexacro.Style,nexacro.Frame_Style);nexacro.Frame_Style.prototype=_pFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","icon"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","showzoomcombo"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","statusbarheight"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","titlebarheight"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","openstatuseffect"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","moveeffect"));_pFrameStyle.__custom_emptyObject=function(){this.icon=null;this.showzoomcombo=null;this.statusbarheight=null;this.titlebarheight=null;this.openstatuseffect=null;this.moveeffect=null;};_pFrameStyle.__get_custom_style_value=function(){var _a="";if(this.icon&&!this.icon._is_empty){_a+="icon:"+this.icon._value+"; ";}if(this.showzoomcombo&&!this.showzoomcombo._is_empty){_a+="showzoomcombo:"+this.showzoomcombo._value+"; ";}if(this.statusbarheight&&!this.statusbarheight._is_empty){_a+="statusbarheight:"+this.statusbarheight._value+"; ";}if(this.titlebarheight&&!this.titlebarheight._is_empty){_a+="titlebarheight:"+this.titlebarheight._value+"; ";}if(this.openstatuseffect&&!this.openstatuseffect._is_empty){_a+="openstatuseffect:"+this.openstatuseffect._value+"; ";}if(this.moveeffect&&!this.moveeffect._is_empty){_a+="moveeffect:"+this.moveeffect._value+"; ";}return _a;};nexacro.Frame_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.icon=null;this.titlebarheight=null;this.statusbarheight=null;this.showzoomcombo=null;this.openstatuseffect=null;this.moveeffect=null;};var _pFrameCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Frame_CurrentStyle);nexacro.Frame_CurrentStyle.prototype=_pFrameCurrentStyle;_pFrameCurrentStyle.__custom_emptyObject=_pFrameStyle.__custom_emptyObject;_pFrameCurrentStyle.__get_custom_style_value=_pFrameStyle.__get_custom_style_value;delete _pFrameStyle;delete _pFrameCurrentStyle;nexacro.Frame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.titlebar=null;this.statusbar=null;this.openalign=null;this.openstatus="normal";this.showcascadestatustext=false;this.showcascadetitletext=true;this.showstatusbar=false;this.showtitlebar=true;this.showtitleicon=true;this.statustext="";this.titletext="";this.topmost=false;this._event_list={"onactivate":1,"ondeactivate":1,"onbeforeclose":1,"onclose":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ondevicebuttondown":1,"ondevicebuttonpush":1,"ondevicebuttonup":1,"onsyscommand":1,"onorientationchange":1};this._frames=new nexacro.Collection();this._is_main=_j;if(_i){this._is_top_frame=(_i._type_name=="Application");}this._applied_title_height= -1;this._applied_status_height= -1;this._state_openstatus=0;this._is_click_openstatus=false;this._is_verticalmin=false;this._restore_position=null;this._starttrack_position=null;this._resizemode=null;this._defaultTitleHeight=20;this._defaultStatusHeight=20;this._minWidth=100;this._minHeight=100;this._defaultWidth=100;this._defaultHeight=100;this._is_frameset=false;this._is_frame=true;this._is_form=false;this._window=null;this._activate=false;this._window_type= -1;this._accessibility_role="frame";this._is_closing=false;this._is_destroying=false;};_pFrame=nexacro._createPrototype(nexacro.FormBase,nexacro.Frame);nexacro.Frame.prototype=_pFrame;_pFrame._type_name="Frame";nexacro.Frame._default_titlebarheight=nexacro._getCachedStyleObj("value","20");nexacro.Frame._default_statusbarheight=nexacro._getCachedStyleObj("value","20");_pFrame.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_icon(_a);var _d=this.on_find_CurrentStyle_showzoomcombo(_a);var _e=this.on_find_CurrentStyle_statusbarheight(_a);var _f=this.on_find_CurrentStyle_titlebarheight(_a);var _g=this.on_find_CurrentStyle_openstatuseffect(_a);var _h=this.on_find_CurrentStyle_moveeffect(_a);if(_c!=_b.icon){_b.icon=_c;this.on_apply_style_icon();}if(_d!=_b.showzoomcombo){_b.showzoomcombo=_d;this.on_apply_style_showzoomcombo();}if(_e!=_b.statusbarheight){_b.statusbarheight=_e;if(this.showstatusbar){this.on_apply_style_statusbarheight();}}if(_f!=_b.titlebarheight){_b.titlebarheight=_f;if(this.showtitlebar){this.on_apply_style_titlebarheight();}}if(_g!=_b.openstatuseffect){_b.openstatuseffect=_g;this.on_apply_style_openstatuseffect();}if(_h!=_b.moveeffect){_b.moveeffect=_h;this.on_apply_style_moveeffect();}};_pFrame.on_create_custom_style=function(){return new nexacro.Frame_Style(this);};_pFrame.on_create_custom_currentStyle=function(){return new nexacro.Frame_CurrentStyle();};_pFrame.on_find_CurrentStyle_icon=function(_a){return this._find_pseudo_obj("icon",_a,"value");};_pFrame.on_find_CurrentStyle_titlebarheight=function(_a){var _b=this._find_pseudo_obj("titlebarheight",_a,"value");return _b?_b:nexacro.Frame._default_titlebarheight;};_pFrame.on_find_CurrentStyle_statusbarheight=function(_a){var _b=this._find_pseudo_obj("statusbarheight",_a,"value");return _b?_b:nexacro.Frame._default_statusbarheight;};_pFrame.on_find_CurrentStyle_showzoomcombo=function(_a){return this._find_pseudo_obj("showzoomcombo",_a,"value");};_pFrame.on_find_CurrentStyle_openstatuseffect=function(_a){return this._find_pseudo_obj("openstatuseffect",_a,"value");};_pFrame.on_find_CurrentStyle_moveeffect=function(_a){return this._find_pseudo_obj("moveeffect",_a,"value");};_pFrame.on_update_style_icon=function(){this.on_apply_style_icon(this.currentstyle.icon=this.on_find_CurrentStyle_icon(this._pseudo));};_pFrame.on_update_style_titlebarheight=function(){this.on_apply_style_titlebarheight(this.currentstyle.titlebarheight=this.on_find_CurrentStyle_titlebarheight(this._pseudo));};_pFrame.on_update_style_statusbarheight=function(){this.on_apply_style_statusbarheight(this.currentstyle.statusbarheight=this.on_find_CurrentStyle_statusbarheight(this._pseudo));};_pFrame.on_update_style_showzoomcombo=function(){this.on_apply_style_showzoomcombo(this.currentstyle.showzoomcombo=this.on_find_CurrentStyle_showzoomcombo(this._pseudo));};_pFrame.on_update_style_openstatuseffect=function(){this.on_apply_style_openstatuseffect(this.currentstyle.openstatuseffect=this.on_find_CurrentStyle_openstatuseffect(this._pseudo));};_pFrame.on_update_style_moveeffect=function(){this.on_apply_style_moveeffect(this.currentstyle.moveeffect=this.on_find_CurrentStyle_moveeffect(this._pseudo));};_pFrame.on_apply_style_icon=function(){var _a=this.currentstyle.icon;if(this.titlebar){this.titlebar.on_apply_style_icon(_a);}else{if(nexacro.Browser=="Runtime"&&this._is_main&&this._is_window&&_a){var _b=this._getWindow();if(_b){nexacro._getImageSize(_a._value,this._on_loadicon,this,this._getRefFormBaseUrl(),_a._value);}}}};_pFrame._on_loadicon=function(_a,_b,_c){if((_b<1)||(_c<1)){return;}var _d=this;if(this._is_window){var _e=this._getWindow();if(_e){nexacro._setWindowHandleIcon(_e._handle,_a);}}};_pFrame.on_apply_style_letterspace=function(){var _a=this.currentstyle.letterspace;if(this.titlebar){this.titlebar.on_apply_style_letterspace(_a);}if(this.statusbar){this.statusbar.on_apply_style_letterspace(_a);}};_pFrame.on_apply_style_titlebarheight=function(){var _a=this.currentstyle.titlebarheight;var _b=nexacro.getStyleValueInt(_a,this._defaultTitleHeight);if(this._setTitleBarHeight(_b)){this._updateClientSize(this._control_element);}};_pFrame.on_apply_style_statusbarheight=function(){var _a=this.currentstyle.statusbarheight;var _b=nexacro.getStyleValueInt(_a,this._defaultStatusHeight);if(this._setStatusBarHeight(_b)){this._updateClientSize(this._control_element);}};_pFrame.on_apply_style_showzoomcombo=function(){var _a=this.currentstyle.showzoomcombo;if(_a&&this.statusbar){var _b=nexacro._toBoolean(_a.value);this.statusbar.set_showzoomcombo(_b);}};_pFrame.on_apply_style_openstatuseffect=function(){var _a=this.currentstyle.openstatuseffect;if(_a){var _b=_a._value;}};_pFrame.on_apply_style_moveeffect=function(){var _a=this.currentstyle.moveeffect;if(_a){var _b=_a._value;}};_pFrame._on_window_loaded=nexacro._emptyFn;_pFrame.on_created_contents=function(){this.on_apply_prop_rtldirection();if(this.titlebar){this.titlebar.on_created();}if(this.statusbar){this.statusbar.on_created();}this._resetTitleAbsoluteStyle();};_pFrame.on_create_control_element=function(_a){var _b=this.on_create_frame_control_element(_a);return _b;};_pFrame.createComponent=function(_a){var _b=null;if(this._is_window==false){_b=this.parent._control_element;if(!_b){return false;}}else{if(this._window){nexacro._checkWindowActive(this._window);}}var _c=this._control_element;if(!_c){var _c=this.on_create_control_element(_b);var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(!_a&&_b&&_b._handle){this.on_created();}}return true;};_pFrame.on_create_contents=function(){if(this.titlebar){this.titlebar.set_titletext(this.titletext);this.on_apply_style_letterspace();}if(this.statusbar){this.statusbar.set_statustext(this.statustext);this.on_apply_style_showzoomcombo();this.on_apply_style_letterspace();}var _a=false;if(this.showtitlebar){var _b;if(this._applied_title_height<0){var _c=parseInt(this.currentstyle.titlebarheight)|0;if(_c<0){_b=this._defaultTitleHeight;}else{_b=_c;}}else{_b=this._applied_title_height;}_a=this._setTitleBarHeight(_b);}if(this.showstatusbar){var _d;if(this._applied_status_height<0){var _e=parseInt(this.currentstyle.statusbarheight)|0;if(_e<0){_d=this._defaultStatusHeight;}else{_d=_e;}}else{_d=this._applied_status_height;}_a=(this._setStatusBarHeight(_d)||_a);}if(_a){this._updateClientSize(this._control_element);}if(!application._is_loaded){this._on_focus(true,this);}};_pFrame.on_created=function(_a){var _b=this._is_created;nexacro.FormBase.prototype.on_created.call(this,_a);if(this.form){if(this.form._control_element){this.form._on_load(this,this._url);}}if(!_b&&this._state_openstatus!=0){var _c=this.enableevent;var _d=this.openstatus;var _e=this._state_openstatus;this.enableevent=false;this.openstatus="normal";this._state_openstatus=0;this.on_syscommand(this._control_element,_d);this.enableevent=_c;}if(this._control_element){this._control_element._setResizable(this._canDragResize());}if(this._is_window){this._applyTitleText();this._applyStatusText();}};_pFrame.on_destroy_contents=function(){if(this.statusbar){this.statusbar.destroyComponent();this.statusbar=null;}if(this.titlebar){this.titlebar.destroyComponent();this.titlebar=null;}};_pFrame.createTitleBar=function(){var _a;if(this._isTopFrame()){_a=new nexacro.MainTitleBarCtrl("titlebar","absolute",0,0,this._adjust_width,0,null,null,this);}else{_a=new nexacro.ChildTitleBarCtrl("titlebar","absolute",0,0,this._adjust_width,0,null,null,this);}return _a;};_pFrame.createStatusBar=function(){var _a;if(this._isTopFrame()){_a=new nexacro.MainStatusBarCtrl("statusbar","absolute",0,0,this._adjust_width,0,null,null,this);}else{_a=new nexacro.ChildStatusBarCtrl("statusbar","absolute",0,0,this._adjust_width,0,null,null,this);}return _a;};_pFrame._stat_change=function(_a,_b){if(_a=="activate"){if(_b=="activate"||_b===true){this._change_state_activate(true);}else if(_b=="deactivate"||_b===false){this._change_state_activate(false);}return;}nexacro.FormBase.prototype._stat_change.call(this,_a,_b);if(_a=="focus"&&(_b=="focused"||_b=="pushed")&&!this._activate){this._change_state_activate(true);}};_pFrame.setFocus=function(_a){var _b=this._window;if(this._is_window&&_b&&_b._handle){_b._setFocus();}else{if(this.form){if(!this.form._is_created){this._change_state_activate(true);}this.form._setFocus();}}};_pFrame._update_position=function(_a,_b){var _c=this._left;var _d=this._top;var _e=this._adjust_width;var _f=this._adjust_height;var _g=false;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._adjust_width!=_e||this._adjust_height!=_f){_a=true;if(_e==0||_f==0){_g=true;}}if(this._left!=_c||this._top!=_d){_b=true;}this.on_update_position(_a,_b);if(_g){this.currentstyle._empty();this.on_apply_pseudo();}};_pFrame._adjustPosition=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=null;if(this._is_window){if(this._window){if(nexacro.OS=="iOS"&&this._window_type==2&&nexacro._zoom_factor!=0){var _j=nexacro._is_attach_childframe?this._getWindow()._custom_node_id:null;var _k=this.parent._getWindow().frame?this.parent._getWindow().frame.width:this.parent._getWindow().clientWidth;_e=_g=_k?_k:(_e?_e:nexacro._getWindowHandleClientWidth(this._window._handle,_j));_f=_h=_f?Math.max(_f,_h):nexacro._getWindowHandleClientHeight(this._window._handle,_j);}else{var _j=nexacro._is_attach_childframe?this._getWindow()._custom_node_id:null;_e=_g=_e?_e:nexacro._getWindowHandleClientWidth(this._window._handle,_j);_f=_h=_f?_f:nexacro._getWindowHandleClientHeight(this._window._handle,_j);}}}var _l=_a;var _m=_c;var _n=this._isRtl(this.parent);if(_n){}for(var _q=0;_q<6;_q++ ){switch(_q){case 0:_i=_l;if(_l!=null){if(_q%2==0){_i=this._convToPixel(_l,_g);}else{_i=this._convToPixel(_l,_h);}}this.left=_a;this._left=_i;this._adjust_left=_i;break;case 1:_i=_b;if(_b!=null){if(_q%2==0){_i=this._convToPixel(_b,_g);}else{_i=this._convToPixel(_b,_h);}}this.top=_b;this._top=_i;this._adjust_top=_i;break;case 2:_i=_m;if(_m!=null){if(_q%2==0){_i=this._convToPixel(_m,_g);}else{_i=this._convToPixel(_m,_h);}}this.right=_c;this._right=_i;break;case 3:_i=_d;if(_d!=null){if(_q%2==0){_i=this._convToPixel(_d,_g);}else{_i=this._convToPixel(_d,_h);}}this.bottom=_d;this._bottom=_i;break;case 4:_i=_e;if(_e!=null){if(_q%2==0){_i=this._convToPixel(_e,_g);}else{_i=this._convToPixel(_e,_h);}}this.width=_e;this._width=_i;break;case 5:_i=_f;if(_f!=null){if(_q%2==0){_i=this._convToPixel(_f,_g);}else{_i=this._convToPixel(_f,_h);}}this.height=_f;this._height=_i;break;}}var _o=this._adjust_width;var _p=this._adjust_height;this._adjust_width=this._width!=null?this._width:_g-this._left-this._right;this._adjust_height=this._height!=null?this._height:_h-this._top-this._bottom;if(this._is_window){this._adjust_top=this._adjust_left=0;}else{this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_g-this._right-this._adjust_width;this._adjust_top=this._top!=null?this._top:_h-this._bottom-this._adjust_height;if(_n){this._adjust_left_ltr=this._right!=null?this._right:_g-this._left-this._adjust_width;}}};_pFrame._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFrame.on_get_style_accessibility_label=function(){return this._getTitleText(this.showcascadetitletext);};_pFrame.on_update_position=function(_a,_b){var _c=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b);if(this._is_window&&nexacro.Browser=="Runtime"){var _d=this._window;if(_d){if(_a){_d.setSize(this._adjust_width,this._adjust_height);}if(_b){_d.moveTo(this._left,this._top);}}}return _c;};_pFrame.set_left=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_left.call(this,_a);};_pFrame.set_top=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_top.call(this,_a);};_pFrame.set_right=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_right.call(this,_a);};_pFrame.set_bottom=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_bottom.call(this,_a);};_pFrame.set_width=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_width.call(this,_a);};_pFrame.set_height=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_height.call(this,_a);};_pFrame.set_openstatus=function(_a){if(this.openstatus!=_a){switch(_a){case "minimize":this.on_syscommand(this._control_element,_a);break;case "maximize":this.on_syscommand(this._control_element,_a);break;case "normal":if(this._state_openstatus==2||this._state_openstatus==3){_a="restore";}this.on_syscommand(this._control_element,_a);break;}}return this.openstatus;};_pFrame.set_showcascadestatustext=function(_a){var _b=nexacro._toBoolean(_a);if(this.showcascadestatustext!=_b){this.showcascadestatustext=_b;this._applyStatusText();}};_pFrame.set_showcascadetitletext=function(_a){var _b=nexacro._toBoolean(_a);if(this.showcascadetitletext!=_b){this.showcascadetitletext=_b;this._applyTitleText();}};_pFrame.set_showstatusbar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showstatusbar!=_b){this.showstatusbar=_b;this.showStatusbar(_b);}};_pFrame.set_showtitlebar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showtitlebar!=_b){this.showtitlebar=_b;this.showTitlebar(_b);}};_pFrame.set_showtitleicon=function(_a){var _b=nexacro._toBoolean(_a);if(this.showtitleicon!=_b){this.showtitleicon=_b;}};_pFrame.set_statustext=function(_a){if(this.statustext!=_a){this.statustext=_a;this._applyStatusText();}};_pFrame.set_titletext=function(_a){if(this.titletext!=_a){this.titletext=_a;this._applyTitleText();}};_pFrame.set_topmost=function(_a){var _b=nexacro._toBoolean(_a);if(this.topmost!=_b){this.topmost=_b;}};_pFrame.set_visible=function(_a){nexacro.FormBase.prototype.set_visible.call(this,_a);_a=nexacro._toBoolean(_a);var _b=this.parent;if(_b&&_b._is_frameset&&this._state_openstatus==3&&!_a){var _c=_b._getNextOrderFrame(this);if(_c){_c._change_state_OpenStatus(3);}}};_pFrame.alert=function(_a,_b,_c){nexacro._alert(this,_a,_b,_c);};_pFrame.confirm=function(_a,_b,_c){return nexacro._confirm(this,_a,_b,_c);};_pFrame.getHandle=function(){return  -1;};_pFrame.getNativeHandle=function(){if(nexacro.Browser=="Runtime"){var _a=this._getWindow();return nexacro._getWindowHwndHandle(_a?_a._handle:null);}};_pFrame.getOwnerFrame=function(){if(this.parent&&this.parent._is_frame){return this.parent;}return null;};_pFrame.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}if(!_b._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_a);}_b.parent=this;this[_a]=_b;this.all.add_item(_a,_b);var _d=this._frames.add_item(_a,_b);_b._setRtlDirection(this._rtldirection);if(_b._control_element){_b._control_element._appendToContainer(this._control_element);}if(this._is_frameset){this.frames.add_item(_a,_b);this._zorderMap.add_item(_a,_b);if(this._max_frame&&_b._state_openstatus==3){this._max_frame._change_state_OpenStatus(0);}if(this._state_openstatus==2||this._is_autorecalc_frame==true){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}}return _d;};_pFrame.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return  -1;}if(!_c){throw nexacro.MakeReferenceError(this,"reference_not_define",_b);}if(this[_b]){throw nexacro.MakeNativeError(this,"native_exist_id",_b);}if(!_c._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_b);}_c.parent=this;this[_b]=_c;this.all.add_item(_b,_c);var _a=this._frames.insert_item(_a,_b,_c);if(this._is_frameset){this.frames.insert_item(_a,_b,_c);if(this._is_autorecalc_frame==true){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}}return _a;};_pFrame.removeChild=function(_a){if(_a&&_a.length<=0){return null;}if(!this[_a]){return null;}var _b=this[_a];if(_b){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)> -1);}var _e=null;if(this._is_frameset){_e=this._getNextOrderFrame(_b);}if(_b._is_frame&&_b._activate==true){_b._change_state_activate(false);if(this._is_alive&&_d.id==_b._getWindow().id){_d._removeFromCurrentFocusPath(_b,true);_d._last_focused_elem=this._control_element;}}this._frames.remove_item(_a);delete this[_a];this.all.remove_item(_a);if(this._is_frameset){this.frames.remove_item(_a);this._zorderMap.remove_item(_a);}if(this._is_alive&&_b._control_element){_b._control_element._removeFromContainer();}if(this._is_frameset){var _f=false;if(this._max_frame==_b){this._max_frame=null;_f=true;}if(this._active_frame==_b){this._active_frame=null;}if(_f&&_e){_e._change_state_OpenStatus(3);}}if(this._is_frameset&&(this._state_openstatus==2||this._is_autorecalc_frame==true)){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}if(_e){_e.setFocus();}this._applyTitleText();}return _b;};_pFrame.showTitlebar=function(_a){if(_a){var _b=this.currentstyle.titlebarheight;var _c=nexacro.getStyleValueInt(_b,this._defaultTitleHeight);if(this._setTitleBarHeight(_c)){this._updateClientSize(this._control_element);}}else{if(this._setTitleBarHeight(0)){this._updateClientSize(this._control_element);}}this._applyDragMoveType();};_pFrame.showStatusbar=function(_a){if(_a){var _b=this.currentstyle.statusbarheight;var _c=nexacro.getStyleValueInt(_b,this._defaultStatusHeight);if(this._setStatusBarHeight(_c)){this._updateClientSize(this._control_element);}}else{if(this._setStatusBarHeight(0)){this._updateClientSize(this._control_element);}}};_pFrame.move=function(_a,_b,_c,_d,_e,_f){if(!this._canMove()){return;}this._move(_a,_b,_c,_d,_e,_f);};_pFrame._move=function(_a,_b,_c,_d,_e,_f){var _g=this._left;var _h=this._top;var _i=this._adjust_width;var _j=this._adjust_height;var _k=false,_l=false;var _m=false;if(this.parent){this._adjustPosition(_a,_b,_e,_f,_c,_d,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}if(this._adjust_width!=_i||this._adjust_height!=_j){_k=true;if(_i==0||_j==0){_m=true;}}if(this._left!=_g||this._top!=_h){_l=true;}this.on_update_position(_k,_l);if(this._control_element){if(_m){this.currentstyle._empty();this._control_pseudo="";}var _n=this._getResultPseudo(this._status,this._pseudo);this._updateControl(this._control_element,_n);this._updateContents(this._control_element,_n);}};_pFrame.resize=function(_a,_b){if(!this._canResize()){return;}return nexacro.FormBase.prototype.resize.call(this,_a,_b);};_pFrame._on_titlebar_dblclick=function(_a,_b){if(this.resizable==false||this._is_window){return;}switch(this._state_openstatus){case 0:this.on_maxbutton_click();break;case 2:case 3:this.on_normalbutton_click();break;}};_pFrame._on_titlebar_starttrack=function(){if(!this._canDragMove()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};var _a=this.getOwnerFrame();if(_a&&_a._is_frameset){_a._on_child_starttrack(this);}};_pFrame._on_titlebar_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d=this.getOwnerFrame();if(_d&&_d._is_frameset){_d._on_child_endtrack(this,_a,_b,_c);}delete this._starttrack_position;};_pFrame._on_titlebar_movetrack=function(_a,_b,_c,_d,_e){var _f=this._starttrack_position;if(_f==null){return;}var _g=application.mainframe;if(_d!=undefined&&_e!=undefined){var _h=parseInt(_g.left)?parseInt(_g.left):0;var _i=parseInt(_g.top)?parseInt(_g.top):0;var _j=(_d?_d:0)+_h;var _k=(_e?_e:0)+_i;var _l=_h+_g._adjust_width;var _m=_i+_g._adjust_height;if(!(_g.left<=_j&&_l>=_j&&_g.top<=_k&&_m>=_k)){return;}}var _n=_f.width?_f.width:(this.form?this.form._adjust_width:0);var _o=_f.height?_f.height:(this.form?this.form._adjust_height:0);if(!this._is_window){this._move(_f.left+_a,_f.top+_b,_n,_o);}else if(this._is_window&&(this._window_type==5||this._window_type==2)){this._move(this._left+_a,this._top+_b,_n,_o);}var _p=this.getOwnerFrame();if(_p&&_p._is_frameset){_p._on_child_movetrack(this,_a,_b,_c);}};_pFrame._on_border_starttrack=function(_a){if(!this._canDragResize()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};this._resizemode=_a;if(this.form){this.form._on_focus(true,"lbuttondown");}};_pFrame._on_border_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}this._resizemode=null;delete this._starttrack_position;};_pFrame._on_border_movetrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d,_e,_f,_g;_d=this._starttrack_position.left;_e=this._starttrack_position.top;_f=this._starttrack_position.width;height=this._starttrack_position.height;var _h=this._getMinMaxInfo();if(this._resizemode._value=="n-resize"||this._resizemode._value=="nw-resize"||this._resizemode._value=="ne-resize"){_e+=_b;height-=_b;if(height<_h.cy){_e-=(_h.cy-height);height=_h.cy;}}if(this._resizemode._value=="s-resize"||this._resizemode._value=="sw-resize"||this._resizemode._value=="se-resize"){height+=_b;if(height<_h.cy){height+=(_h.cy-height);}}if(this._resizemode._value=="w-resize"||this._resizemode._value=="nw-resize"||this._resizemode._value=="sw-resize"){_d+=_a;_f-=_a;if(_f<_h.cx){_d-=(_h.cx-_f);_f=_h.cx;}}if(this._resizemode._value=="e-resize"||this._resizemode._value=="ne-resize"||this._resizemode._value=="se-resize"){_f+=_a;if(_f<_h.cx){_f+=(_h.cx-_f);}}this._move(_d,_e,_f,height);};_pFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._stat_change("activate","activate");};_pFrame.on_minbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"minimize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_maxbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"maximize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_normalbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"restore",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_closebutton_click=function(_a,_b){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();var _d=this.getOwnerFrame();if(_d){_d.removeChild(this.id);if(_d._control_element){_d.on_change_containerRect(_d._control_element.client_width,_d._control_element.client_height);}}if(this._control_element){this._control_element.destroy();}this._control_element=null;if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy();}};_pFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b="";if(this.form){var _c=this.form._on_beforeclose(_a);_b=this.form._appendBeforeCloseMsg(_b,_c);}if(this.frames){var _d=this.frames;var _e=_d.length;for(var _h=0;_h<_e;_h++ ){var _f=_d[_h]._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}}if(this.frame){var _f=this.frame._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}var _g=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_g);return _b;};_pFrame._on_close=function(){if(this._is_closing){return;}this._is_closing=true;if(this.form){this.form._on_close();}if(this.frames){var _a=this.frames;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){if(this._getWindow()!=_a[_c]._getWindow()){continue;}_a[_c]._on_close();}}}if(this.frame){this.frame._on_close();}this._on_bubble_close();this._is_closing=false;return true;};_pFrame._canMove=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragMove=function(){if(nexacro.isTouchInteraction){return false;}if(!this._canMove()){return false;}if(!this._is_window){if(this._window_type==1||this._window_type==4){return true;}var _a=this.getOwnerFrame();if(_a){if(_a._on_child_starttrack==undefined){return false;}}}if(this._dragmovetype==0){return false;}return true;};_pFrame._canResize=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragResize=function(){if(nexacro.isTouchInteraction){return false;}if(!this._canResize()){return false;}if(nexacro.Browser!="Runtime"&&this._is_window){return false;}if(this.resizable==false){return false;}var _a=this.getOwnerFrame();if(_a&&!this._is_window&&(this._window_type!=1&&this._window_type!=4)){if(_a._is_autorecalc_frame){return false;}}return true;};_pFrame._procSysCommand=function(_a){var _b= -1;switch(_a){case "restore":_b=1;break;case "minimize":_b=2;break;case "maximize":_b=3;break;}if(this._is_window&&this._window){if(_b!=( -1)){this._window._procSysCommand(_b);}}if(_b==1){if(this._is_window&&this._window&&this._state_openstatus==2){_a=["normal","restore","minimize","maximize"][this._prestate_openstatus];_b=this._prestate_openstatus;}else{_a="normal";_b=0;}}if(_b!=( -1)){this.openstatus=_a;this._change_state_OpenStatus(_b);}};_pFrame.on_syscommand=function(_a,_b,_c,_d,_e){if(_c===undefined){if(!_e){_e=this;}}if(this.visible&&this._isEnable()&&this.enableevent){_c=this.on_fire_syscommand(this,_b);if(_c===false){return false;}}if((_c!==false)&&this.parent&&!this.parent._is_application&&!this.parent._is_form){var _f=this.parent.on_syscommand(_a,_b,false,_d?_d:this,_e);if(_f==false){return false;}}if(_d&&_d!=this){return true;}this._procSysCommand(_b);};_pFrame._on_activate=function(){if(this._activate==false){return;}nexacro.FormBase.prototype._on_activate.call(this);if(this.form){this.form._on_activate();}return true;};_pFrame._on_deactivate=function(){if(this._activate==false){return;}if(this.form){this.form._on_deactivate();}nexacro.FormBase.prototype._on_deactivate.call(this);return true;};_pFrame._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);if(this.form){this.form._on_orientationchange(_a);}if(this.frames){var _b=this.frames;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]){if(this._getWindow()!=_b[_d]._getWindow()){continue;}_b[_d]._on_orientationchange(_a);}}}if(this.frame){this.frame._on_orientationchange(_a);}return true;};_pFrame._getRootLayerFrame=function(){var _a=this;while(_a){if(_a._is_window){return _a;}if(_a._window_type==1||_a._window_type==4){return _a;}if(_a.getOwnerFrame()){_a=_a.getOwnerFrame();}else{break;}}return _a;};_pFrame._isRootLayerFrame=function(){if(this._is_window){return true;}if(this._window_type==1||this._window_type==4){return true;}return false;};_pFrame.on_fire_syscommand=function(_a,_b){if(this.onsyscommand&&this.onsyscommand._has_handlers){var _c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);var _d=this.onsyscommand._fireCheckEvent(this,_c);if(!_d){return false;}}if(this.form&&this.form.onsyscommand&&this.form.onsyscommand._has_handlers){var _c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);var _d=this.form.onsyscommand._fireCheckEvent(this.form,_c);if(!_d){return false;}}return true;};_pFrame._applyDragMoveType=nexacro._emptyFn;_pFrame.lookup=nexacro._emptyFn;_pFrame.lookupSetter=nexacro._emptyFn;_pFrame.lookupFunc=nexacro._emptyFn;_pFrame._setTitleBarHeight=function(_a){var _b=this._control_element;if(_b&&this._applied_title_height!=_a){this._applied_title_height=_a;if(_a>0){var _c=this._getAppliedTitleHeight(_a);if(!this.titlebar){this.titlebar=this.createTitleBar();var _d=this._getTitleText(this.showcascadetitletext);this.titlebar.set_titletext(_d);_b.setTitleBarControl(this.titlebar,_c);this.titlebar.createComponent();}else{_b.setTitleBarControl(this.titlebar,_c);}}else{if(this.titlebar){this.titlebar.destroyComponent();this.titlebar=null;_b.setTitleBarControl(null,0);}}return true;}return false;};_pFrame._setStatusBarHeight=function(_a){var _b=this._control_element;if(_b&&this._applied_status_height!=_a){this._applied_status_height=_a;if(_a>0){var _c=this._getAppliedStatusHeight(_a);if(!this.statusbar){this.statusbar=this.createStatusBar();var _d=this._getStatusText(this.showcascadestatustext);this.statusbar.set_statustext(_d);_b.setStatusBarControl(this.statusbar,_c);this.statusbar.createComponent();this.statusbar._setResizable(this._canDragResize());}else if(this._applied_status_height!=_c){_b.setStatusBarControl(this.statusbar,_c);}}else{if(this.statusbar){this.statusbar.destroyComponent();this.statusbar=null;_b.setStatusBarControl(null,0);}}return true;}return false;};_pFrame._setVerticalMin=function(_a){if(this._is_verticalmin==_a){return;}this._is_verticalmin=_a;if(this._control_element){this._control_element._is_verticalmin=_a;if(this.titlebar){nexacro.ContainerElement.prototype.bringToFrontElement.call(this._control_element,this.titlebar._control_element);}}if(this.titlebar){this.titlebar._setVerticalMin(_a);}};_pFrame._resetTitleAbsoluteStyle=function(){var _a=this.titlebar;if(!_a){return;}var _b=0;var _c=this.getOwnerFrame();var _d=(this._window_type==1||this._window_type==4||this._window_type==5);if(!this.resizable){if(this._isNested()){_b|=0x0020;}else{_b|=0x0001|0x0002;}}else{_b|=0x0100|0x0200;}if(_c&&!this._isRootLayerFrame()){if(_c._isTopFrame()){_b|=0x0010|0x0020|0x0040;}if(_c.fullframemaximize==false){_b|=0x0001;}}if(_d){_b|=0x0001;if(!this.resizable){_b|=0x0002;}}_a._setAbsoluteStyle(_b,0xffff);};_pFrame._getMinMaxInfo=function(){var _a=110,_b=0;var _c=this.on_find_CurrentStyle_border();if(_c){_a+=_c._getBorderWidth();_b+=_c._getBorderHeight();}if(this.showtitlebar){_b+=this._getTitlebarHeight();}if(this.showstatusbar){_b+=this._getStatusbarHeight();}return {cx:_a,cy:_b};};_pFrame._isTopFrame=function(){return (this._is_top_frame);};_pFrame._getWindow=function(){if(this._is_window){return this._window;}var _a=this.parent;if(_a){return _a._getWindow();}return null;};_pFrame._getTitlebarHeight=function(){if(this.showtitlebar){var _a=20;if(this.style._applied_title_height>0){_a=this.style._applied_title_height;}else if(this.titlebar){_a=this.titlebar._adjust_height;}return _a;}return 0;};_pFrame._getStatusbarHeight=function(){if(this.showtitlebar){var _a=20;if(this.style._applied_status_height>0){_a=this.style._applied_status_height;}else if(this.statusbar){_a=this.statusbar._adjust_height;}return _a;}return 0;};_pFrame._isEnable=function(){return nexacro.FormBase.prototype._isEnable.call(this);};_pFrame._isNested=function(){return !this._is_window;};_pFrame._getTitleText=function(_a){return this.titletext;};_pFrame._applyTitleText=function(){if(this._control_element){var _a=this.showcascadetitletext;var _b=this._getTitleText(_a);if(this.titlebar){this.titlebar.set_titletext(_b);}if(this.parent&&this.parent._is_frame){this.parent._applyTitleText();}if(this._is_window){this._window._setTitleText(_b);}}};_pFrame._applyStatusText=function(){if(this._control_element){var _a=this.showcascadestatustext;var _b=this._getStatusText(_a);if(this.statusbar){this.statusbar.set_statustext(_b);}if(this.parent&&this.parent._is_frame){this.parent._applyStatusText();}if(this._is_window){this._window._setStatusText(_b);}}};_pFrame._change_state_OpenStatus=function(_a){var _b=this._prestate_openstatus=this._state_openstatus;this._state_openstatus=_a;if(_a==1){alert("_change_state_OpenStatus(1) called");}if(_b!=_a){var _c=this.getOwnerFrame();if(_b==2){this._setVerticalMin(false);}if(_b==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){_c._max_frame=null;}}if(_b==0&&(_a==2||_a==3)){if(!this._is_window){if(this._restore_position){this._restore_position=null;}if((_c&&_c._is_frameset&&!_c._is_autorecalc_frame)||(this._window_type==1||this._window_type==4)){this._restore_position={left:this.left,top:this.top,width:this.width,height:this.height,right:this.right,bottom:this.bottom};}}if(this._control_element){this._control_element._setResizable(false);}}if((_b==2||_b==3)&&_a==0){if(!this._is_window){var _d=this._restore_position;if(_d){this._move(_d.left,_d.top,_d.width,_d.height,_d.right,_d.bottom);this._restore_position=null;}}if(this._control_element){this._control_element._setResizable(this._canDragResize());}}if(_a==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){if(_c._max_frame&&_c._max_frame!=this){_c._max_frame._change_state_OpenStatus(0);}_c._max_frame=this;}else if(this._window_type==1||this._window_type==4){var _e=this._getWindow();var _f=nexacro._getMainWindowWidth(_e);var _g=nexacro._getMainWindowHeight(_e);if(_f<_e.clientWidth){_f=_e.clientWidth;}if(_g<_e.clientHeight){_g=_e.clientHeight;}this._move(0,0,_f,_g);}}if(this.titlebar){this.titlebar._change_state_OpenStatus(_a);}if(this._prestate_openstatus!=this._state_openstatus){if(_c&&_c._control_element){_c.on_change_containerRect(_c._control_element.client_width,_c._control_element.client_height);}}if(_a==3&&!this._is_window){if(_c&&_c._is_frameset==true){this.setFocus();}}this.openstatus=["normal","restore","minimize","maximize"][_a];}};_pFrame._change_state_activate=function(_a){if(this._activate==false&&_a==true){if(this._control_element){var _b=this.getOwnerFrame();if(_b){var _c=this._getWindow();var _d=_b._getWindow();if(_c==_d){_b._change_state_activate(_a,this);}}else if(nexacro._isDesktop()){var _c=this._getWindow();if(this._is_window&&_c&&_c._handle){_c._setFocus();}}if(this.form){var _e=this;while(_e){if(_e._is_window){break;}_e=_e.getOwnerFrame();}if(_e&&_e.statusbar){_e.statusbar._refreshZoomCombo(this.form);}}this._applyTitleText();this._applyStatusText();}if(!this._activate){this._activate=_a;this._on_activate();}}else if(this._activate==true&&_a==false){this._on_deactivate();this._activate=_a;}};_pFrame._getAppliedTitleHeight=function(_a){return nexacro._AppliedTitleBarHeight(this,_a);};_pFrame._getAppliedStatusHeight=function(_a){return nexacro._AppliedStatusBarHeight(this,_a);};nexacro.MainFrame_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.menubarheight=null;};var _pMainFrameStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.MainFrame_Style);nexacro.MainFrame_Style.prototype=_pMainFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pMainFrameStyle","menubarheight"));_pMainFrameStyle.__custom_emptyObject=function(){this.menubarheight=null;};_pMainFrameStyle.__get_custom_style_value=function(){var _a="";if(this.menubarheight&&!this.menubarheight._is_empty){_a+="menubarheight:"+this.menubarheight._value+"; ";}return _a;};nexacro.MainFrame_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);this.menubarheight=null;};var _pMainFrameCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.MainFrame_CurrentStyle);nexacro.MainFrame_CurrentStyle.prototype=_pMainFrameCurrentStyle;_pMainFrameCurrentStyle.__custom_emptyObject=_pMainFrameStyle.__custom_emptyObject;_pMainFrameCurrentStyle.__get_custom_style_value=_pMainFrameStyle.__get_custom_style_value;delete _pMainFrameStyle;delete _pMainFrameCurrentStyle;nexacro.MainFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.openalign=new nexacro.Style_align();this.applicationmenu=null;this.frame=null;this.menubar=null;this.resizable=true;this.layered=false;this._window=new nexacro.Window(_a,null,true);this._menu_height=0;this._applied_menu_height=0;this._ref_comm=0;this._defaultTitleHeight=30;this._defaultStatusHeight=30;this._is_window=true;this._is_autorecalc_frame=true;this._accessibility_role="application";this._skip_destroy=false;};_pMainFrame=nexacro._createPrototype(nexacro.Frame,nexacro.MainFrame);nexacro.MainFrame.prototype=_pMainFrame;_pMainFrame._type_name="MainFrame";_pMainFrame.getActiveFrame=function(){return this.frame;};_pMainFrame.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_menubarheight(_a);if(_c!=_b.menubarheight){_b.menubarheight=_c;this.on_apply_style_menubarheight();}};_pMainFrame.on_create_custom_style=function(){return new nexacro.MainFrame_Style(this);};_pMainFrame.on_create_custom_currentStyle=function(){return new nexacro.MainFrame_CurrentStyle();};_pMainFrame.on_find_CurrentStyle_menubarheight=function(_a){return this._find_pseudo_obj("menubarheight",_a,"value");};_pMainFrame.on_update_style_menubarheight=function(){this.on_apply_style_menubarheight(this.currentstyle.menubarheight=this.on_find_CurrentStyle_menubarheight(this._pseudo));};_pMainFrame.on_apply_style_menubarheight=function(){var _a=this.currentstyle.menubarheight;var _b=nexacro.getStyleValueInt(_a,0);this._menu_height=_b;if(this._setMenuBarHeight(_b)){this._updateClientSize(this._control_element);}};_pMainFrame.on_createBodyFrame=nexacro._emptyFn;_pMainFrame.createComponent=function(){this.createWindow();return nexacro.Frame.prototype.createComponent.call(this);};_pMainFrame.createWindow=function(){var _a=this._window;if(_a==null){_a=this._window=new nexacro.Window(this.name,null,true);}_a.create(null,this.name,this._adjust_width,this._adjust_height,this._adjust_left,this._adjust_top,this.resizable,this.layered);_a.attachFrame(this,false);_a._setSystemMenuResizable(this.resizable);var _b=nexacro._getMainWindowWidth(_a);var _c=nexacro._getMainWindowHeight(_a);this._setSize(_b,_c);};_pMainFrame.createMenuBar=function(){var _a=new nexacro.Form("menubar",0,0,0,this._menubar_height,this);this._applied_menu_height=this._menubar_height;_a.set_style("background:green;");_a.set_text("menubar");this.manubar=_a;return _a;};_pMainFrame.createBodyFrame=function(){this.on_createBodyFrame();};_pMainFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this.menubar){this._control_element.setMenuBarControl(this.menubar,this._applied_menu_height);this.menubar.createComponent();if(this._applied_menu_height>0){}this._updateClientSize(this._control_element);}if(this.frame){this.frame._setPos(0,0);this.frame._setSize(this._client_width,this._client_height);this.frame.createComponent();this.frame._change_state_OpenStatus(3);}};_pMainFrame._on_deactivate=function(){var _a=this._getWindow();if(_a){_a._keydown_element=null;}return nexacro.Frame.prototype._on_deactivate.call(this);};_pMainFrame.on_created_contents=function(){nexacro.Frame.prototype.on_created_contents.call(this);if(this.menubar){this.menubar.on_created();}if(this.frame){this.frame.on_created();}var _a=this._control_element;if(_a){_a.setElementRtlDirection(application.rtldirection);}if(nexacro.Browser=="Runtime"&&nexacro._isDesktop()){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._adjust_width;var _e=this._adjust_height;var _f=this._getOpenAlignPos(this._getWindow(),_b,_c,_d,_e);if(_f){_b=_f.left;_c=_f.top;}this._move(_b,_c,_d,_e);}};_pMainFrame.destroyComponent=function(){if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}if(nexacro._getLocalStorage("_com_waiting",false)){application._com_waiting=false;nexacro._setLocalStorage("_com_waiting","false","boolean");}this._is_destroying=true;if(this._window&&this._window._is_alive){this._window.destroy();if(!this._skip_destroy){nexacro.Frame.prototype.destroyComponent.call(this);}this._window=null;}else if(this._is_alive){nexacro.Frame.prototype.destroyComponent.call(this);}this._is_destroying=false;return true;};_pMainFrame.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);if(this.menubar){this.menubar.destroyComponent();this.menubar=null;}if(this.frame){this.frame.destroyComponent();this.frame=null;}};_pMainFrame.on_change_containerPos=function(_a,_b){if(this.frame){this.frame._setPos(0,0);}};_pMainFrame.on_change_containerRect=function(_a,_b){if(this.frame){this.frame._setSize(_a,_b);}if(this.titlebar){this.titlebar._update_position(false,true);}};_pMainFrame.on_update_position=function(_a,_b){var _c=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b);if(_a||_b){var _d=this._frames;var _e=_d.length;for(var _j=0;_j<_e;_j++ ){if(this.frame.id==_d[_j].id){continue;}var _f=_d[_j];var _g=_f.form;var _h=_f._getOpenAlignPos(this._getWindow(),_f.left,_f.top,_f.width,_f.height);if(_h){_f.left=_h.left;_f.top=_h.top;}_f.move(_f.left,_f.top,_f.width,_f.height,_f.right,_f.bottom);_g.on_change_containerRect(_g._client_width,_g._client_height);}}if(this._is_window&&nexacro.Browser=="Runtime"){var _i=this._window;if(_i){if(_a){if(nexacro._isDesktop()){_i.setSize(this._adjust_width,this._adjust_height);}}if(_b){_i.moveTo(this._left,this._top);}}}return _c;};_pMainFrame._waitCursor=function(_a,_b){if(this._window){if(_a==true){var _c=this._waitcomp;if(this._ref_comm==0){application._com_waiting=true;nexacro._setLocalStorage("_com_waiting","true","boolean");if(_c==null){_c=this._waitcomp=new nexacro.WaitComponent("waitwindow","absolute",0,0,0,0,null,null,this);_c.createComponent();application._is_waitCursor=true;_c.on_created();application._is_waitCursor=false;}var _d=application._getLoadingImageUrl();_c.setImage(_d);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{if(this._ref_comm>0){this._ref_comm-- ;}var _c=this._waitcomp;if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;application._com_waiting=false;nexacro._setLocalStorage("_com_waiting","false","boolean");_c.hide();}}}}};_pMainFrame.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._getRootWindow();if(_b&&_b._handle){nexacro._setPopupWindowHandleVisible(_b._handle,_a);}}};_pMainFrame.set_openalign=function(_a){if(this.openalign._is_empty&&this.openalign._value!=_a){this.openalign._setValue(_a);this.on_apply_prop_openalign();}};_pMainFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this.resizable!=_b){this.resizable=_b;this._resetTitleAbsoluteStyle();if(this._control_element){this._control_element._setResizable(this._canDragResize());}}};_pMainFrame.set_layered=function(_a){var _b=nexacro._toBoolean(_a);if(this.layered!=_b){this.layered=_b;}};_pMainFrame.on_apply_prop_openalign=function(){if(!this.openalign._is_empty){}};_pMainFrame.on_apply_prop_enable=function(_a){if(this.frame){this.frame._setEnable(_a);}};_pMainFrame.on_apply_prop_rtldirection=function(){var _a=this._rtldirection;var _b=this.titlebar;if(_b){_b._setRtlDirection(_a);}var _c=this.statusbar;if(_c){_c._setRtlDirection(_a);}var _d=this.menubar;if(_d){_d._setRtlDirection(_a);}var _e=this.frame;if(_e){_e._setRtlDirection(_a);var _f=this.frame.getOwnerFrame();var _g=_f._control_element.client_width;var _h=_f._control_element.client_height;this.frame._setSize(_g,_h);}};_pMainFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b=application.on_fire_onbeforeexit();var _c=nexacro.Frame.prototype._on_beforeclose.call(this,_a);_c=this._appendBeforeCloseMsg(_c,_b);return _c;};_pMainFrame.on_syscommand=function(_a,_b,_c,_d,_e){var _f=this.on_fire_syscommand(this,_b);if(!_f){return false;}if(_d&&_d!=this){return true;}this._procSysCommand(_b);};_pMainFrame.on_closebutton_click=function(_a,_b){application.exit();};_pMainFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){if(!this.openalign._is_empty){var _f=nexacro._getMonitorIndex(_a.left+_d/2,_a.top+_e/2);var _g=nexacro._getScreenRect(_f);var _h=_g.left;var _i=_g.top;var _j=nexacro._getScreenWidth(_f);var _k=nexacro._getScreenHeight(_f);switch(this.openalign.halign){case "left":_b=_h;break;case "center":_b=_h+Math.round((_j-_d)/2);break;case "right":_b=_h+_j-_d;break;}switch(this.openalign.valign){case "top":_c=_i;break;case "middle":_c=_i+Math.round((_k-_e)/2);break;case "bottom":_c=_i+_k-_e;break;}return {left:_b,top:_c};}return null;};_pMainFrame._setMenuBarHeight=function(_a){if(this._applied_menu_height!=_a){if(_a>0&&this.menubar){this._applied_menu_height=_a;var _b=this._control_element;if(_b){_b.setMenuBarControl(this.menubar,_a);return true;}this.menubar.set_visible(true);}else if(this._applied_menu_height>0&&this.menubar){this._applied_menu_height=0;this.menubar.set_visible(false);this.menubar=null;if(_b){_b.setMenuBarControl(null,0);return true;}}}return false;};_pMainFrame._change_state_activate=function(_a){if(_a==false){if(this.frame){this.frame._change_state_activate(false);}}nexacro.Frame.prototype._change_state_activate.call(this,_a);};_pMainFrame._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){if(this.frame){var _c=this.frame._getTitleText(true);if(_c.length>0){if(_b.length>0){_b+=" - ";}_b+=_c;}}}return _b;};_pMainFrame._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){if(this.frame){var _c=this.frame._getStatusText(true);if(_c.length>0){if(_b.length>0){_b+=" - ";}_b+=_c;}}}return _b;};delete _pMainFrame;nexacro.ChildFrame_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.overlaycolor=null;};var _pChildFrameStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.ChildFrame_Style);nexacro.ChildFrame_Style.prototype=_pChildFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pChildFrameStyle","overlaycolor"));_pChildFrameStyle.__custom_emptyObject=function(){nexacro.Frame_Style.prototype.__custom_emptyObject.call(this);this.overlaycolor=null;};_pChildFrameStyle.__get_custom_style_value=function(){var _a=nexacro.Frame_Style.prototype.__get_custom_style_value.call(this);if(this.overlaycolor&&!this.overlaycolor._is_empty){_a+="overlaycolor:"+this.overlaycolor._value+"; ";}return _a;};nexacro.ChildFrame_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);this.overlaycolor=null;};var _pChildFrameCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.ChildFrame_CurrentStyle);nexacro.ChildFrame_CurrentStyle.prototype=_pChildFrameCurrentStyle;_pChildFrameCurrentStyle.__custom_emptyObject=_pChildFrameStyle.__custom_emptyObject;_pChildFrameCurrentStyle.__get_custom_style_value=_pChildFrameStyle.__get_custom_style_value;delete _pChildFrameStyle;delete _pChildFrameCurrentStyle;nexacro.ChildFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_j);this.openalign=new nexacro.Style_align();this.opener=null;this.form=null;this.autosize=true;this.resizable=false;this.layered=false;this.showontaskbar=null;this.widget=false;this.dragmovetype="normal";this._ref_comm=0;this._waitcomp=null;this._window_type=0;this._dragmovetype=1;this._is_popup_frame=false;this._is_loadform_failed=false;this._init_formurl=_i;this._args={};};_pChildFrame=nexacro._createPrototype(nexacro.Frame,nexacro.ChildFrame);nexacro.ChildFrame.prototype=_pChildFrame;_pChildFrame._type_name="ChildFrame",nexacro.ChildFrame._default_overlaycolor=nexacro._getCachedStyleObj("color","#00000090");_pChildFrame._close_callback=null;_pChildFrame._close_argument=undefined;_pChildFrame.on_create_custom_style=function(){return new nexacro.ChildFrame_Style(this);};_pChildFrame.on_create_custom_currentStyle=function(){return new nexacro.ChildFrame_CurrentStyle();};_pChildFrame.on_update_style_align=function(_a){if(_a==0){this._updateCurrentStyle("align");this.on_apply_style_align();}else if(_a==2){this.on_apply_prop_openalign();}};_pChildFrame.on_apply_prop_openalign=function(){if(!this.openalign._is_empty){}};_pChildFrame.on_apply_prop_enable=function(_a){if(this.form){this.form._setEnable(_a);}};_pChildFrame.on_apply_prop_rtldirection=function(){var _a=this._rtldirection;var _b=this.titlebar;if(_b){_b._setRtlDirection(_a);}var _c=this.statusbar;if(_c){_c._setRtlDirection(_a);}var _d=this.form;if(_d){_d._setRtlDirection(_a);}};_pChildFrame.on_apply_style_overlaycolor=function(_a){if(this._modal_overlay_elem){this._modal_overlay_elem.setElementColor(_a);}};_pChildFrame.on_find_CurrentStyle_overlaycolor=function(_a){var _b=this._find_pseudo_obj("overlaycolor",_a,"color");if(_b){return _b;}return nexacro.ChildFrame._default_overlaycolor;};_pChildFrame.on_update_style_overlaycolor=function(){this.on_apply_style_overlaycolor(this.currentstyle.overlaycolor=this.on_find_CurrentStyle_overlaycolor(this._pseudo));};_pChildFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this.form){this.form._setPos(0,0);this.form._setSize(this._client_width,this._client_height);this.form.createComponent();}};_pChildFrame.destroyComponent=function(){if(this._window_type==1||this._window_type==4){if(!(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9)){this._setModalUnlock();}this._runCallback();if((nexacro.Browser=="IE"&&nexacro.BrowserVersion<9)){this._setModalUnlock();}nexacro._unregisterPopupFrame(this.id);if(this._window_type==4){var _a=this._getWindow();var _b=this._virtual_handle;nexacro._unblockScript(_a._handle,_b);nexacro._closeVirtualWindowHandle(_b);this._virtual_handle=null;}}if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}this._is_destroying=true;if(nexacro._getLocalStorage("_com_waiting",false)){application._com_waiting=true;nexacro._setLocalStorage("_com_waiting","true","boolean");}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;this._is_destroying=false;return true;}else{this._is_destroying=false;return nexacro.Frame.prototype.destroyComponent.call(this);}};_pChildFrame.on_destroy_contents=function(){if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}nexacro.Frame.prototype.on_destroy_contents.call(this);if(this._variables){var _a=this._variables.length;for(var _b=0;_b<_a;_b++ ){delete this[this._variables[_b]];}}if(this.form){this.form.destroyComponent();this.form=null;}};_pChildFrame._runCallback=function(){var _a=this._close_callback;if(_a){if(typeof (_a)=="string"){if(this.opener){var _b=this.opener[_a];if(_b){try{_b.call(this.opener,this.name,this._close_argument);}catch(e){if(e.obj){application._onSystemError(e.obj,e.name,e.message);}else{var _c=nexacro._getExceptionMessage(e);application._onSystemError(application,e.name,_c);}}}}}else if(typeof (_a)=="function"){try{_a.call(this.opener,this.name,this._close_argument);}catch(e){if(e.obj){application._onSystemError(e.obj,e.name,e.message);}else{var _c=nexacro._getExceptionMessage(e);application._onSystemError(application,e.name,_c);}}}}};_pChildFrame.on_created_contents=function(){if(this._is_window&&this._window){var _a=this._window;if(this._delayed_window_pos&&_a._handle){_a.setArea(this._delayed_window_pos.left,this._delayed_window_pos.top,this._delayed_window_pos.width,this._delayed_window_pos.height);delete this._delayed_window_pos;}this._setSize(this._adjust_width,this._adjust_height);if(_a._handle){_a._setSystemMenuResizable(this.resizable);}}else if((this._window_type==1||this._window_type==4)&&this.form&&this.autosize){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._getAutosizedFrameSize(true);var _e=_d.width;var _f=_d.height;var _g=this._getOpenAlignPos(this._getWindow(),_b,_c,_e,_f);if(_g){_b=_g.left;_c=_g.top;}var _h=this._recalcModalPosition(_b,_c,_e,_f);this._move(_h.left,_h.top,_h.width,_h.height);}nexacro.Frame.prototype.on_created_contents.call(this);if(this._init_formurl){this.set_formurl(this._init_formurl);}this._createForm();this.on_apply_prop_rtldirection();};_pChildFrame.on_change_containerPos=function(_a,_b){if(this.form){this.form._setPos(0,0);}};_pChildFrame.on_change_containerRect=function(_a,_b){if(this.form){this.form._setSize(_a,_b);if(this._is_window){this.form.resetScroll();}}if(this.titlebar){this.titlebar._update_position(false,true);}};_pChildFrame.createComponent=function(_a){if(this._window_type!=1&&this._window_type!=4&&this._window_type!=5){return nexacro.Frame.prototype.createComponent.call(this,_a);}var _b=this._modal_overlay_elem;var _c=_b;var _d=this._control_element;if(!_d){var _d=this.on_create_control_element(_c);var _e=this._getResultPseudo(this._status,this._pseudo);this._initControl(_d,_e);this._initContents(_d,_e);if(!_a&&_c&&_c._handle){this.on_created();}}return true;};_pChildFrame._checkValidLayout=function(){if(this.form!=null){this.form._checkValidLayout();}};_pChildFrame._waitCursor=function(_a,_b){if(this._isNested()){return nexacro.Frame.prototype._waitCursor.call(this,_a,_b);}if(this._window){if(_a==true){var _c=this._waitcomp;if(_c==null){_c=this._waitcomp=new nexacro.WaitComponent("waitwindow","absolute",0,0,0,0,null,null,this);_c.createComponent();_c.on_created();}if(this._ref_comm==0){application._com_waiting=true;nexacro._setLocalStorage("_com_waiting","true","boolean");var _d=application._getLoadingImageUrl();_c.setImage(_d);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{if(this._ref_comm>0){this._ref_comm-- ;}var _c=this._waitcomp;if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;application._com_waiting=false;nexacro._setLocalStorage("_com_waiting","false","boolean");_c.hide();}}}}};_pChildFrame.set_autosize=function(_a){if(this.autosize!=_a){this.autosize=nexacro._toBoolean(_a);}};_pChildFrame.set_dragmovetype=function(_a){if(this.dragmovetype!=_a){var _b=false;switch(_a){case "all":this.dragmovetype=_a;this._dragmovetype=2;_b=true;break;case "normal":this.dragmovetype=_a;this._dragmovetype=1;break;case "none":this.dragmovetype=_a;this._dragmovetype=0;break;}this._applyDragMoveType();}};_pChildFrame.set_openalign=function(_a){if(this.openalign._is_empty&&this.openalign._value!=_a){this.openalign._setValue(_a);this.on_update_style_align(2);}};_pChildFrame.set_formurl=function(_a){var _b=nexacro._getFDLLocation(_a);if(this._formurl!=_b){if(this.form&&this.form._control_element){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();}this.formurl=_a;this._formurl=_b;this._is_loadform_failed=false;if(this._is_created){this._createForm();}this.on_apply_prop_rtldirection();}};_pChildFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this.resizable!=_b){this.resizable=_b;this._resetTitleAbsoluteStyle();if(this._control_element){this._control_element._setResizable(this._canDragResize());}if(this._window){this._window._setSystemMenuResizable(_b);}}};_pChildFrame.set_layered=function(_a){var _b=nexacro._toBoolean(_a);if(this.layered!=_b){this.layered=_b;}};_pChildFrame.set_showontaskbar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showontaskbar!=_b){this.showontaskbar=_b;}};_pChildFrame.set_widget=function(_a){var _b=nexacro._toBoolean(_a);if(this.widget!=_b){this.widget=_b;}};_pChildFrame.init=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a){this.id=this.name=_a;}this.position=_b?_b:"absolute";var _j=this._adjust_left;var _k=this._adjust_top;var _l=this._adjust_width;var _m=this._adjust_height;var _n=false,_o=false;if(arguments.length>=6){this._adjustPosition(_c,_d,_g,_h,_e,_f,this.parent?this.parent._client_width:0,this.parent?this.parent._client_height:0);if(this._adjust_width!=_l||this._adjust_height!=_m){_n=true;}if(this._adjust_left!=_j||this._adjust_top!=_k){_o=true;}if(!_i){this.on_update_position(_n,_o);}}if(_i){this._init_formurl=_i;}};_pChildFrame.loadForm=function(_a,_b,_c,_d){return this.getApplication().loadFormurl(_a,null,_b,_c,_d);};_pChildFrame._on_loadform_failed=function(){this._is_loadform_failed=true;if(this._window_type>0){if(!this.showtitlebar){this.set_showtitlebar(true);}if(!this.visible){this.set_visible(true);}var _a=this._adjust_left;var _b=this._adjust_top;var _c=this._adjust_left+this._adjust_width;var _d=this._adjust_top+this._adjust_height;var _e=this._adjust_width;var _f=this._adjust_height;var _g=application.mainframe;var _h=_g._adjust_width;var _i=_g._adjust_height;var _j=false;var _k=this.opener;if(_k){_h=_k._adjust_width;_i=_k._adjust_height;}if(_c<0||_d<0||_b>_i||_a>_h){_a=0;_b=0;_j=true;}if(this._adjust_width<this._minWidth||this._adjust_height<this._minHeight){_e=this._defaultWidth;_f=this._defaultHeight;_j=true;}if(_j){this.move(_a,_b,_e,_f);}}};_pChildFrame._addVariable=function(_a,_b){this[_a]=_b;if(!this._variables){this._variables=[];}this._variables.push(_a);};_pChildFrame.showModal=function(_a,_b,_c,_d,_e,_f){if(nexacro._current_popups.length>0){nexacro._checkClosePopupComponent(null);}var _g,_h,_i,_j;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_i=arguments[0];_h=arguments[1];this._arg=arguments[2];this.opener=arguments[3];this._close_callback=arguments[4];}else{_i=this.id;_h=arguments[0];this._arg=arguments[1];this.opener=arguments[2];this._close_callback=arguments[3];}var _k=null;if(_h==null){_h=application.mainframe;}if(_h){_g=_h.addChild(_i,this);}if(_g== -1){return false;}else{_k=this;}if(_k&&_k._arg){for(var _v in _k._arg){_k._addVariable(_v,_k._arg[_v]);}}if(nexacro._registerPopupFrame(_i,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_i);return false;}var _l=this.formurl;if(_l){this.set_formurl(_l);}_k._is_window=false;_k._window_type=1;var _m=_k._adjust_left;var _n=_k._adjust_top;var _o=_k._adjust_width;var _p=_k._adjust_height;if(this.autosize){var _q=this._getAutosizedFrameSize(true);this.width=_o=_q.width;this.height=_p=_q.height;}var _r=_k._getOpenAlignPos(this._getWindow(),_m,_n,_o,_p);if(_r){this.left=_r.left;this.top=_r.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _s=null;if(_h&&_h._focusManager){_s=_h._focusManager[0];}if(_s){if(_s.parent._is_form){this.opener=_s.parent;}else{this.opener=_h?_h.form:null;}}else{this.opener=_h?_h.form:null;}}if(this.form){this.form.opener=this.opener;}var _t=this._recalcModalPosition(this.left,this.top,this.width,this.height);this.left=_t.left;this.top=_t.top;this.width=_t.width;this.height=_t.height;var _u=_h?_h._getWindow():null;if(_u){_u._cancelEvent();}this._setModalLock();this.createComponent(true);this.on_created();if(nexacro.Browser=="Safari"){this.getElement().setElementZIndex(0);}this._change_state_activate(true);return true;};_pChildFrame._showModalSync=function(_a,_b,_c,_d){var _e,_f,_g,_h;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_g=arguments[0];_f=arguments[1];this._arg=arguments[2];this.opener=arguments[3];}else{_g=this.id;_f=arguments[0];this._arg=arguments[1];this.opener=arguments[2];}var _i=null;if(_f==null){_f=application.mainframe;}if(_f){_e=_f.addChild(_g,this);}if(_e== -1){return false;}else{_i=this;}if(_i&&_i._arg){for(var _t in _i._arg){_i._addVariable(_t,_i._arg[_t]);}}if(nexacro._registerPopupFrame(_g,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_g);return false;}_i._is_window=false;_i._window_type=4;var _j=_i._adjust_left;var _k=_i._adjust_top;var _l=_i._adjust_width;var _m=_i._adjust_height;if(this.autosize){var _n=this._getAutosizedFrameSize(true);this.width=_l=_n.width;this.height=_m=_n.height;}var _o=_i._getOpenAlignPos(this._getWindow(),_j,_k,_l,_m);if(_o){this.left=_o.left;this.top=_o.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _p=null;if(_f&&_f._focusManager){_p=_f._focusManager[0];}if(_p){if(_p.parent._is_form){this.opener=_p.parent;}else{this.opener=_f?_f.form:null;}}else{this.opener=_f?_f.form:null;}}if(this.form){this.form.opener=this.opener;}var _q=this._recalcModalPosition(this.left,this.top,this.width,this.height);this.left=_q.left;this.top=_q.top;this.width=_q.width;this.height=_q.height;this._setModalLock();this.createComponent(true);this.on_created();this._change_state_activate(true);var _r=this._getWindow();if(_r&&_r._handle){var _s=nexacro._createVirtualWindowHandle(_r._handle);this._virtual_handle=_s;nexacro._blockScript(_r._handle,_s);}return true;};_pChildFrame.showModeless=function(_a,_b,_c,_d){var _e,_f,_g,_h,_i;if(!(_a instanceof nexacro.Frame)&&_a!=null){_f=_b;_g=_a;this.id=_g;this._arg=_c;if(_d){this.opener=_d;}}else{_f=_a;_g=this.id;this._arg=_b;if(_c){this.opener=_c;}}var _j;if(_f){_e=_f.addChild(_g,this);}if(_e== -1){return false;}_j=this;if(_j&&_j._arg){for(var _t in _j._arg){_j._addVariable(_t,_j._arg[_t]);}}if(nexacro._registerPopupFrame(_g,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_g);}if(this._init_formurl){this.set_formurl(this._init_formurl);}_j._is_window=true;_j._window_type=2;var _k=_j._adjust_left;var _l=_j._adjust_top;var _m=_j._adjust_width;var _n=_j._adjust_height;var _o=false;if(this.autosize&&this.form&&!this.form._is_loading){var _p=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");this.width=_m=_p.width;this.height=_n=_p.height;_o=true;}if(!_o){var _q=_j._getOpenAlignPos(_j._window,_k,_l,_m,_n);if(_q){_k=_q.left;_l=_q.top;}}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _r=null;if(_f&&_f._focusManager){_r=_f._focusManager[0];}if(_r){if(_r.parent._is_form){this.opener=_r.parent;}else{this.opener=_f?_f.form:null;}}else{this.opener=_f?_f.form:null;}}if(this.form){this.form.opener=this.opener;}this._accessibility_role="dialog";var _s=_f?_f._getWindow():null;if(!this.autosize||_o){this._window=new nexacro.Window(this.name,_s,false);this._window.attachFrame(this,false);this._window.create(_s,this.id,_m,_n,_k,_l,this.resizable,this.layered,this.showontaskbar);if(this._is_created){this._control_element._parent_elem=null;}}else{this._delayed_create_window=true;this._delayed_create_parent=_s;this._createForm();}return true;};_pChildFrame._showModalWindow=function(_a,_b,_c,_d,_e){this._is_popup_frame=true;var _f,_g,_h,_i,_j;var _k=0;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_h=arguments[0];}else{_k= -1;_h=this.id;}_g=arguments[1+_k];this._arg=arguments[2+_k];if(arguments[3+_k]){this.opener=arguments[3+_k];}_j=arguments[4+_k];_j=1;if(_g){_f=_g.addChild(_h,this);}if(_f== -1){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}if(this&&this._arg){for(var _t in this._arg){this._addVariable(_t,this._arg[_t]);}}if(nexacro._registerPopupFrame(_h,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}if(this._init_formurl){this.set_formurl(this._init_formurl);}this._is_window=true;this._window_type=5;var _l=this._adjust_left;var _m=this._adjust_top;var _n=this._adjust_width;var _o=this._adjust_height;var _p=_b._getWindow();if(_p&&!this._is_popup_frame){_l=_p.getLeft();_m=_p.getTop();}var _q=false;if(this.autosize&&this.form&&this.form._control_element){_n=this.form._init_width;_o=this.form._init_height;_q=true;}if(!_q){var _r=this._getOpenAlignPos(this._window,_l,_m,_n,_o);if(_r){_l=_r.left;_m=_r.top;}}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){this.opener=_g?_g.form:null;}if(this.form){this.form.opener=this.opener;}var _s=_g?_g._getWindow():null;if(this.autosize&&!_q){this._delayed_create_window=true;this._delayed_create_parent=_s;}this._window=new nexacro.Window(this.name,_s,false);this._window.attachFrame(this,false);if(this.form&&this.form._load_manager.status>=7){this._loadedForm();}if(_s){_s._cancelEvent();}return this._window.createModal(_s,this.id,_n,_o,_l,_m,this.resizable,this.layered,_j);};_pChildFrame._on_init=nexacro._emptyFn;_pChildFrame._on_load=function(){this.createComponent();this.on_created();this._change_state_activate(true);};_pChildFrame._showModeless=function(_a,_b){nexacro._registerPopupFrame(_a,this);this._is_popup_frame=true;this._is_window=true;this._window=_b;this._window.frame=this;this._window_type=2;this._load_manager.status=2;var _c=nexacro._getLocalStorage("_cssurls",[]);var _d=_c.length;if(_d==0){this._load_manager._is_mainloaded=true;}var _e=nexacro._getLocalStorage("_theme_uri","./_theme_/default")+"/theme.css";var _f=nexacro._getLocalStorage("_project_uri","");this.loadCss(_e,_f);if(_d>0){this._load_manager._is_mainloaded=true;}for(var _g=0;_g<_d;_g++ ){_e=_c[_g];this.loadCss(_e,_f);}nexacro._setOpenInfo(this,_a);};_pChildFrame.hideModal=function(){};_pChildFrame.hideModeless=function(){};_pChildFrame.getForm=function(){return this.form?this.form:null;};_pChildFrame.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Frame.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(this._is_window){return true;}return _g;};_pChildFrame.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Frame.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(this._is_window){return true;}return _g;};_pChildFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_loadform_failed&&this.showtitlebar==false){var _n=this.getOwnerFrame();if(_n){_n.removeChild(this.id);if(_n._control_element){_n.on_change_containerRect(_n._control_element.client_width,_n._control_element.client_height);}}if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy();}if(this._control_element){this._control_element.destroy();}this._control_element=null;}if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onrbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmousedown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmousemove.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=nexacro.Frame.prototype.on_fire_sys_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);if(this._is_window&&!_e){return true;}return _o;};_pChildFrame._createForm=function(){var _a=this.formurl;if(!_a){_a="";}var _b=this.form;if(_b){if(_b._url!=this._formurl){_b._waitCursor(false,_b);_b.destroyComponent();_b=new Form("form","absolute",0,0,this._client_width,this._client_height,null,null,this);_b._is_init=true;_b.opener=this.opener;this.form=_b;_b.loadForm(_a);if(this._control_element){_b.createComponent();}}}else{_b=new Form("form","absolute",0,0,this._client_width,this._client_height,null,null,this);_b.opener=this.opener;this.form=_b;if(this._formurl){_b.loadForm(_a);}if(this._control_element){_b.createComponent();}}return _b;};_pChildFrame._closeForm=function(_a){if(this._is_window){if(_a!==undefined){this._close_argument=_a;this._window.returnValue=_a;}var _b=this.all;var _c=_b.length;for(var _g=0;_g<_c;_g++ ){var _d=_b.get_id(_g);var _e=_b[_g];if(_e._is_window&&_e._window&&_e._is_alive){this.removeChild(_d);_e._window.destroy();_e._window=null;}}var _f=this.getOwnerFrame();if(_f){_f.removeChild(this.id);}if(this.form&&this.form._is_alive){this.form._destroy();this.form=null;}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;}}else{if(_a!==undefined){this._close_argument=_a;}var _f=this.getOwnerFrame();if(_f){_f.removeChild(this.id);}if(this.form&&this.form._is_alive){this.form._destroy();this.form=null;}this._destroy();}};_pChildFrame._destroyForm=function(){if(this.form){this.form._destroy();this.form=null;}};_pChildFrame._loadedForm=function(){this._last_focused=this.form;if(this._is_loadform_failed){return;}this._applyDragMoveType();if(this.autosize){var _a=this._delayed_create_parent;var _b=this._left;var _c=this._top;var _d=this.form._init_width;var _e=this.form._init_height;if(this._is_window&&this._window_type==2){if(this._delayed_create_window){var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(_a,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}this._move(this._adjust_left,this._adjust_top,_d,_e);var _h=this._window=new nexacro.Window(this.name,_a,false);_h.attachFrame(this,false);_h.create(_a,this.id,_d,_e,_b,_c,this.resizable,this.layered,this.showontaskbar);delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){var _g=this._getOpenAlignPos(this._window.parent,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;this._move(_b,_c,_d,_e);var _i=_d+this._window._gap_client_width;var _j=_e+this._window._gap_client_height;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){function getWindowSize(_m){var _n=_m._handle;var _o,_p;if(_n.outerWidth){_o=_n.outerWidth;_p=_n.outerHeight;}else{_m.setSize(_i,_j);var _q=_i-nexacro._getWindowHandleOuterWidth(_n);var _r=_j-nexacro._getWindowHandleOuterHeight(_n);_o=_q+_i;_p=_r+_j;}return {width:_o,height:_p};};var _k=getWindowSize(this._window);if(_k.width!=_i||_k.height!=_j){this._window.setSize(_k.width,_k.height);}}else{this._window.setSize(_i,_j);}}}}else if(this._window_type==5){if(this._delayed_create_window){var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(_a,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}if(this._window._handle){this._window.moveTo(_b,_c);if(this._state_openstatus==0){this._window.setSize(_d,_e);}else{this._restore_position={left:_b,top:_c,width:_d,height:_e,right:this.right,bottom:this.bottom};}}else{this._delayed_window_pos={left:_b,top:_c,width:_d,height:_e};}delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){var _g=this._getOpenAlignPos(this._window.parent,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}this._move(_b,_c,_d,_e);var _i=_d+this._window._gap_client_width;var _j=_e+this._window._gap_client_height;this._window.setSize(_i,_j);}}}else if(this._window_type==1||this._window_type==4){var _f=this._getAutosizedFrameSize(true);_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(this._getWindow(),_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}var _l=this._recalcModalPosition(_b,_c,_d,_e);this._move(_l.left,_l.top,_l.width,_l.height);}}};_pChildFrame._on_window_loaded=function(){this._checkValidWindowSize();if(!this._is_created){this.createComponent();this.on_created();this._change_state_activate(true);}if(this._lockmode){delete this._lockmode;this._lockmode=null;}};_pChildFrame._createdForm=function(){if(this._state_openstatus!=2){var _a=this.getOwnerFrame();if(_a){var _b=false;if(_a._is_frameset&&_a._getTopOrderFrame()==this){_b=true;}else if(!_a._is_frameset&&_a._is_frame){_b=true;}if(_b){if(this._getWindow()==_a._getWindow()){this._change_state_activate(true);}if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this.form._playAccessibilityWholeReadLabel("focus");}else{this.form._on_focus(true);}}}else{this._change_state_activate(true);if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this.form._playAccessibilityWholeReadLabel("focus");}else{this.form._on_focus(true);}}}if(this._is_window&&this.autosize!=true){this._checkValidWindowSize();}};_pChildFrame._applyDragMoveType=function(){var _a=this.form;if(_a){var _b=false;if(this._dragmovetype==2||(this._dragmovetype==1&&!this.showtitlebar)){_b=true;}{_a._setDragMove(_b,this._is_window);}}if(this.titlebar){this.titlebar._setDragMove(this._dragmovetype!=0,this._is_window);}};_pChildFrame._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){if(this.form&&this.form.titletext.length>0){if(_b.length>0){_b+=" - ";}_b+=this.form.titletext;}}return _b;};_pChildFrame._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){if(this.form&&this.form.statustext.length>0){if(_b.length>0){_b+=" - ";}_b+=this.form.statustext;}}return _b;};_pChildFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){if(!this.openalign._is_empty){if(_a==null){return;}var _f=(this._window_type==1||this._window_type==4);var _g=_f?0:(_a.left|0);var _h=_f?0:(_a.top|0);var _i=_a.clientWidth;var _j=_a.frame?_a.frame._adjust_height:_a.clientHeight;switch(this.openalign.halign){case "left":_b=_g;break;case "center":_b=_g+Math.round((_i-_d)/2);break;case "right":_b=_g+_i-_d;break;}switch(this.openalign.valign){case "top":_c=_h;break;case "middle":_c=_h+Math.round((_j-_e)/2);break;case "bottom":_c=_h+_j-_e;break;}return {left:_b,top:_c};}return null;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Gecko"){_pChildFrame._checkValidWindowSize=function(){var _a=this._window;if(!_a){return;}var _b=this._adjust_width;var _c=this._adjust_height;if((_a.clientWidth!=_b||_a.clientHeight!=_c)&&(_a.clientWidth!=0&&_a.clientHeight!=0)){if(this.autosize!=true&&this._control_element){var _d=this._control_element;_d.setElementSize(_b,_c);_d.setElementSize(this._adjust_width,this._adjust_height);_d._updateClientSize();}this._move(this._adjust_left,this._adjust_top,_a.clientWidth,_a.clientHeight);if(this.autosize!=true){this.on_change_containerRect(this._adjust_width,this._adjust_height);}return false;}return true;};}else{_pChildFrame._checkValidWindowSize=nexacro._emptyFn;};_pChildFrame._setModalLock=function(){var _a=this._getWindow();if(!_a){_a=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_a){return;}_a._on_modalLock();var _b=_a.getCurrentFocusPaths()?_a.getCurrentFocusPaths().slice(0):null;_a._removeFromCurrentFocusPath(null,false);var _c=this.on_find_CurrentStyle_overlaycolor(this._pseudo);var _d=nexacro._zindex_firstmodal;var _e=_a._modal_frame_stack;if(_e.length>0){var _f=_e[_e.length-1];_d=_f[1]+1;}var _g=this.parent;if(!_g){_g=application.mainframe;}var _h;if(_a.frame&&_a.frame._waitcomp){var _i=_a.frame._waitcomp;if(_i._control_element&&_i._control_element._handle){_h=_i._control_element._handle;}}var _j=this._modal_overlay_elem=new nexacro.ModalOverlayElement(_g._control_element);_j.setLinkedControl(this);_j.create(_d,_c,_h);_a._modal_frame_stack.push([this,_d,_b]);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){if(this.opener){var _k=this.opener._getRootForm();_k._setAccessibilityHidden(true);}}};_pChildFrame._setModalUnlock=function(){var _a=this._getWindow();if(!_a){_a=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_a){return;}var _b=_a._modal_frame_stack;var _c=_b.length;var _d;for(var _i=0;_i<_c;_i++ ){_d=_b[_i];if(_d[0]==this){for(var _j=_i;_j<_c-1;_j++ ){_b[_j]=_b[_j+1];}_b.length=_c-1;break;}}if(this._window_type!=1&&this._window_type!=4){nexacro._unregisterPopupFrame(this.id);}var _e=_d[2];if(_e&&_e.length>0){var _f=_e.length;for(_i=0;_i<_f;_i++ ){var _g=_e[_i];if(_g instanceof nexacro.ChildFrame){_g._on_activate();continue;}else if(_g._is_form){_g._on_focus(true);break;}if(_i==(_f-1)){_g._on_focus(true);}}}if(this._modal_overlay_elem){this._modal_overlay_elem.destroy();this._modal_overlay_elem=null;}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){if(this.opener){var _h=this.opener._getRootForm();_h._setAccessibilityHidden(false);}}};_pChildFrame._setModalOverlaySize=function(_a,_b){this._modal_overlay_elem.setElementSize(_a,_b);if(this._state_openstatus==3){this._setSize(_a,_b);}};_pChildFrame._recalcModalPosition=function(_a,_b,_c,_d){_a=parseInt(_a);_b=parseInt(_b);_c=parseInt(_c);_d=parseInt(_d);var _e=this._getWindow();if(!_e){return {left:_a,top:_b,width:_c,height:_d};}var _f=parseInt(this.on_find_CurrentStyle_titlebarheight().value)|0;if(_f<=0){_f=this._defaultTitleHeight;}if(_a+_c>_e.clientWidth){_a=_e.clientWidth-_c;}if(_b+_f>_e.clientHeight){_b=_e.clientHeight-_f;}if(_a<0){_a=0;}if(_b<0){_b=0;}return {left:_a,top:_b,width:_c,height:_d};};_pChildFrame._getAutosizedFrameSize=function(_a){var _b=this._adjust_width;var _c=this._adjust_height;var _d=this.form;if(_d&&_d._is_loading==false&&(nexacro._isDesktop()||this._window_type!=2)){_b=_d._init_width;_c=_d._init_height;}if(_a){var _e=0,_f=0;if(this.showtitlebar){_e=parseInt(this.on_find_CurrentStyle_titlebarheight().value)|0;}if(this.showstatusbar){_f=parseInt(this.on_find_CurrentStyle_statusbarheight().value)|0;}var _g=this.on_find_CurrentStyle_border();if(_g){_b+=_g._getBorderLeftWidth()+_g._getBorderRightWidth();_c+=_g._getBorderTopWidth()+_g._getBorderBottomWidth();}_c+=_e+_f;}return {"width":_b,"height":_c};};nexacro.FrameSetBase_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.childmoveeffect=null;this.childopenstatuseffect=null;};var _pFrameSetBaseStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.FrameSetBase_Style);nexacro.FrameSetBase_Style.prototype=_pFrameSetBaseStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameSetBaseStyle","childmoveeffect"));eval(nexacro._createValueAttributeEvalStr("_pFrameSetBaseStyle","childopenstatuseffect"));_pFrameSetBaseStyle.__custom_emptyObject=function(){this.childmoveeffect=null;this.childopenstatuseffect=null;};_pFrameSetBaseStyle.__get_custom_style_value=function(){var _a="";if(this.childmoveeffect&&!this.childmoveeffect._is_empty){_a+="childmoveeffect:"+this.childmoveeffect._value+"; ";}if(this.childopenstatuseffect&&!this.childopenstatuseffect._is_empty){_a+="childopenstatuseffect:"+this.childopenstatuseffect._value+"; ";}return _a;};nexacro.FrameSetBase_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);};var _pFrameSetBaseCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.FrameSetBase_CurrentStyle);nexacro.FrameSetBase_CurrentStyle.prototype=_pFrameSetBaseCurrentStyle;_pFrameSetBaseCurrentStyle.__custom_emptyObject=_pFrameSetBaseStyle.__custom_emptyObject;_pFrameSetBaseCurrentStyle.__get_custom_style_value=_pFrameSetBaseStyle.__get_custom_style_value;delete _pFrameSetBaseStyle;delete _pFrameSetBaseCurrentStyle;nexacro.FrameSetBase=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.frames=new nexacro.Collection();this.separatesize="";this.keepseparatesizewhenswap=false;this.ctrltaborder="active";this.ctrltabtype="order";this.showstatusbar=false;this.showtitlebar=false;this._separatesize=[];this._max_frame=null;this._track_frame=null;this._active_frame=null;this._zorderMap=new nexacro.Collection();this._is_frameset=true;this._is_autorecalc_frame=true;};var _pFrameSetBase=nexacro._createPrototype(nexacro.Frame,nexacro.FrameSetBase);nexacro.FrameSetBase.prototype=_pFrameSetBase;_pFrameSetBase._type_name="FrameSetBase";_pFrameSetBase.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_childmoveeffect(_a);if(_c!=_b.childmoveeffect){_b.childmoveeffect=_c;}var _d=this.on_find_CurrentStyle_childopenstatuseffect(_a);if(_d!=_b.childopenstatuseffect){_b.childopenstatuseffect=_d;}};_pFrameSetBase.on_create_custom_style=function(){return new nexacro.FrameSetBase_Style(this);};_pFrameSetBase.on_create_custom_currentStyle=function(){return new nexacro.FrameSetBase_CurrentStyle();};_pFrameSetBase.on_find_CurrentStyle_childmoveeffect=function(_a){return this._find_pseudo_obj("childmoveeffect",_a,"value");};_pFrameSetBase.on_find_CurrentStyle_childopenstatuseffect=function(_a){return this._find_pseudo_obj("childopenstatuseffect",_a,"value");};_pFrameSetBase.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);var _a=this.frames.length;for(var _c=0;_c<_a;_c++ ){var _b=this.frames[_c];if(_b.set_resizable){_b.set_resizable(true);}_b.createComponent();this._zorderMap.add_item(_b.name,_b);}};_pFrameSetBase.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){;}};_pFrameSetBase.on_created_contents=function(){nexacro.Frame.prototype.on_created_contents.call(this);var _a=0,_b=0;var _c=0,_d=0;var _e=this._control_element;if(_e){_c=_e.client_width/5*3;_d=_e.client_height/5*3;_b=this._control_element.client_top;}var _f=this._getTitlebarHeight();var _g=this.frames.length;for(var _i=0;_i<_g;_i++ ){var _h=this.frames[_i];if(_h.position){if(_h._adjsut_width==0&&_h._adjsut_height==0){_h._move(_a,_b,_c,_d);_a+=_f;_b+=_f;}}_h.on_created();}};_pFrameSetBase.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);var _a=this.frames.length;for(var _c=_a-1;_c>=0;_c-- ){var _b=this.frames[_c];if(_b){_b.destroyComponent();_b=null;}}this.frames=null;};_pFrameSetBase._updateClientSize=function(_a){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;var _f=false;if(this._client_left!=_b||this._client_top!=_c){this._client_left=_b;this._client_top=_c;_f=true;}if(this._client_width!=_d||this._client_height!=_e){this._client_width=_d;this._client_height=_e;_f=true;}if(_f){this.on_change_containerRect(_d,_e);}};_pFrameSetBase.set_ctrltaborder=function(){;};_pFrameSetBase.set_ctrltabtype=function(){;};_pFrameSetBase.set_separatesize=function(_a){if(this.separatesize!=_a){this.separatesize=_a;this._separatesize=_a.split(",");var _b=this._control_element;if(_b){this.on_change_containerRect(_b.client_width,_b.client_height);if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){this._refresh_input(this.frames);}}}};_pFrameSetBase.set_keepseparatesizewhenswap=function(_a){var _b=nexacro._toBoolean(_a);if(this.keepseparatesizewhenswap!=_b){this.keepseparatesizewhenswap=_b;}};_pFrameSetBase.set_minimizedchildposition=function(_a){var _b=this.minimizedchildposition;if(_b==_a){return;}switch(_a){case "left":this._minimizedchildposition=0;this.minimizedchildposition=_a;break;case "top":this._minimizedchildposition=1;this.minimizedchildposition=_a;break;case "right":this._minimizedchildposition=2;this.minimizedchildposition=_a;break;case "bottom":this._minimizedchildposition=3;this.minimizedchildposition=_a;break;}var _c=this._control_element;if(this.minimizedchildposition==_a&&_c){this.on_change_containerRect(_c.client_width,_c.client_height);}return this.minimizedchildposition;};_pFrameSetBase._on_child_movetrack=function(_a,_b,_c,_d){var _e=(this._type_name=="VFrameSet")?false:true;var _f=(this._type_name=="HFrameSet")?false:true;var _g=_a._adjust_left+(_a._adjust_width/2);var _h=_a._adjust_top+(_a._adjust_height/2);var _i= -1;var _j=this.frames;for(var _r=0,_s=_j.length;_r<_s;_r++ ){var _k=_j[_r];if(_k==_a){continue;}if(_k._state_openstatus==2){continue;}if(_e){var _l=_k._adjust_left;var _m=_l+_k._adjust_width;if(_l>_g){continue;}if(_m<_g){continue;}}if(_f){var _n=_k._adjust_top;var _o=_n+_k._adjust_height;if(_n>_h){continue;}if(_o<_h){continue;}}_i=_r;break;}if(_i!=( -1)){var _j=this.frames;var _p=_j.indexOf(_a.name);var _q=_j[_i];_j.remove_item(_q.name);_j.insert_item(_p,_q.name,_q);_j.remove_item(_a.name);_j.insert_item(_i,_a.name,_a);if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pFrameSetBase._on_child_starttrack=function(_a,_b,_c,_d){if(_a){this._track_frame=_a;}};_pFrameSetBase._on_child_endtrack=function(_a,_b,_c,_d){this._track_frame=null;if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}};_pFrameSetBase._change_state_activate=function(_a,_b){if(_a==true){if(_b){var _c=this.getActiveFrame();if(_c&&_c!=_b){_c._change_state_activate(false,null);}this._active_frame=_b;if(_b._control_element){if(this._zorderMap.indexOf(_b)<0){alert("zorder missed: "+_b.id);this._zorderMap.insert_item(0,_b,_b.id);}if(this._zorderMap.length>1){if(this._control_element){this._control_element.bringToFrontElement(_b._control_element);}this._zorderMap.remove_item(_b.id);this._zorderMap.add_item(_b.id,_b);}if(this._max_frame&&this._max_frame!=_b){_b._change_state_OpenStatus(3);}}}}else if(_a==false){var _d=this.frames;var _e=_d.length;for(var _g=0;_g<_e;_g++ ){var _f=_d[_g];if(_f._isNested()){_f._change_state_activate(false);}}}nexacro.Frame.prototype._change_state_activate.call(this,_a);};_pFrameSetBase.on_apply_prop_enable=function(_a){var _b=this.frames;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];_c._setEnable(_a);}};_pFrameSetBase.on_apply_prop_rtldirection=function(){var _a=this._control_element;if(_a){this.on_change_containerRect(_a.client_width,_a.client_height);}var _b=this._rtldirection;var _c=this.titlebar;if(_c){_c._setRtlDirection(_b);}var _d=this.statusbar;if(_d){_d._setRtlDirection(_b);}var _e=this.frames;if(_e){for(var _g=0,_h=_e.length;_g<_h;_g++ ){var _f=_e[_g];if(_f){_f._setRtlDirection(_b);}}}};_pFrameSetBase.getActiveFrame=function(){if(this._active_frame){return this._active_frame;}return this._getTopOrderFrame();};_pFrameSetBase.getHandle=function(){};_pFrameSetBase._getTopOrderFrame=function(){var _a=this._zorderMap.length;if(_a>0){var _b=this._zorderMap.get_item(_a-1);return _b;}return null;};_pFrameSetBase._getNextOrderFrame=function(_a){var _b=this._zorderMap.length;if(_b>0){var _c=this._zorderMap.indexOf(_a.id);if(_c-1>_b-1&&_c-1<0){return null;}var _d=this._zorderMap.get_item(_c-1);return _d;}return null;};_pFrameSetBase._visibleFrameCount=function(){return this.frames.length;};_pFrameSetBase._getMinimizeFrameCount=function(){var _a=0;var _b=this.frames;for(var _c=0,_d=_b.length;_c<_b.length;_c++ ){if(_b[_c]._state_openstatus==2){_a++ ;}}return _a;};_pFrameSetBase._recalcSeparateFrameSize=function(_a,_b,_c){var _d=[];var _e=((_c)?_c:this._separatesize.length);var _f=((_b)?_b:this._visibleFrameCount());var _g=0,_h=0;var _i=0,_j=0;var _k=this._separatesize;for(var _p=0;_p<_f;_p++ ){var _l=_k[_p];var _m= -1;var _n= -1;if(_l){_l.trim();_n=((_l.indexOf("*")<0)&&(_l.length>0))?nexacro._parseInt(_l): -1;}if(_n== -1){var _o= -1;if(_l){_m=_l.indexOf("*");_o=nexacro._parseInt(_l.substring(0,_m));}if(_o>0){_g+=_o;_d[_p]=_o*_n;}else{_g++ ;_d[_p]=_n;}}else{_h++ ;_i+=_n;if(_i<=_a){_d[_p]=_n;}else if(_h==1){_d[_p]=_a;}else{_i-=_n;}}}_j=_g>0?(_a-_i)/_g:0;for(var _p=0;_p<_f;_p++ ){if(_d[_p]<0){_d[_p]=Math.abs(_d[_p])*_j;}else if(_d[_p]==undefined){_d[_p]=0;}}return _d;};_pFrameSetBase._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getTitleText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pFrameSetBase._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getStatusText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pFrameSetBase._refresh_input=function(_a){for(var _d=0;_d<_a.length;_d++ ){var _b=_a[_d];if(_b){if(_b instanceof nexacro.ChildFrame){var _c=_b.form;if(_c){_c._refresh_input_comp(_c._child_list);}}else if(_b instanceof nexacro.FrameSet){this._refresh_input(_b.frames);}}}};delete _pFrameSetBase;nexacro.FrameSet_Style=function(_a){nexacro.FrameSetBase_Style.call(this,_a);};var _pFrameSetStyle=nexacro._createPrototype(nexacro.FrameSetBase_Style,nexacro.FrameSet_Style);nexacro.FrameSet_Style.prototype=_pFrameSetStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameSetStyle","minimizewidth"));eval(nexacro._createValueAttributeEvalStr("_pFrameSetStyle","minimizeheight"));_pFrameSetStyle.__custom_emptyObject=function(){this.minimizewidth=null;this.minimizeheight=null;};_pFrameSetStyle.__get_custom_style_value=function(){var _a="";if(this.minimizewidth&&!this.minimizewidth._is_empty){_a+="minimizewidth:"+this.minimizewidth._value+"; ";}if(this.minimizeheight&&!this.minimizeheight._is_empty){_a+="minimizeheight:"+this.minimizeheight._value+"; ";}return _a;};nexacro.FrameSet_CurrentStyle=function(){nexacro.FrameSetBase_CurrentStyle.call(this);};var _pFrameSetCurrentStyle=nexacro._createPrototype(nexacro.FrameSetBase_CurrentStyle,nexacro.FrameSet_CurrentStyle);nexacro.FrameSet_CurrentStyle.prototype=_pFrameSetCurrentStyle;_pFrameSetCurrentStyle.__custom_emptyObject=_pFrameSetStyle.__custom_emptyObject;_pFrameSetCurrentStyle.__get_custom_style_value=_pFrameSetStyle.__get_custom_style_value;delete _pFrameSetStyle;delete _pFrameSetCurrentStyle;nexacro.FrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.separatesize="";this.keepseparatesizewhenswap=false;this.childmoveeffect=null;this.childopenstatuseffect=null;this.ctrltaborder=0;this.ctrltabtype=0;this.minimizedchildposition="bottom";this._separatesize=[];this._minimizedchildposition=3;this._is_autorecalc_frame=false;};var _pFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.FrameSet);nexacro.FrameSet.prototype=_pFrameSet;_pFrameSet._type_name="FrameSet";_pFrameSet.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_minimizewidth(_a);var _d=false;if(_c!=_b.minimizewidth){_b.minimizewidth=_c;_d=true;}var _e=this.on_find_CurrentStyle_minimizeheight(_a);if(_e!=_b.minimizeheight){_b.minimizeheight=_e;_d=true;}if(_d){this.on_change_containerRect(this._client_width,this._client_height);}};_pFrameSet.on_create_custom_style=function(){return new nexacro.FrameSet_Style(this);};_pFrameSet.on_create_custom_currentStyle=function(){return new nexacro.FrameSet_CurrentStyle();};_pFrameSet.on_find_CurrentStyle_minimizewidth=function(_a){return this._find_pseudo_obj("minimizewidth",_a,"value");};_pFrameSet.on_find_CurrentStyle_minimizeheight=function(_a){return this._find_pseudo_obj("minimizeheight",_a,"value");};_pFrameSet.on_apply_style_minimizewidth=function(){};_pFrameSet.on_apply_style_minimizeheight=function(){};_pFrameSet.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){var _d=0;var _e=0;var _f=_c.client_width;var _g=_c.client_height;var _h=_d+_c.client_width;var _i=_e+_c.client_height;if(this._max_frame){this._max_frame._move(_d,_e,_f,_g);}var _j=this.frames;for(var _p=0,_q=_j.length;_p<_q;_p++ ){var _k=_j[_p];if(_k==this._max_frame){continue;}if(_k._state_openstatus==2){_k._setVerticalMin(false);var _l=25*5;var _m= -1;if(_m==( -1)){var _n=_k.on_find_CurrentStyle_titlebarheight();_m=parseInt(_n.value)|0;var _o=_k.on_find_CurrentStyle_border();if(_o){_m+=_o._getBorderTopWidth();_m+=_o._getBorderBottomWidth();}}switch(this._minimizedchildposition){case 0:_i=_e+_m;_k._move(_d,_e,_l,_m);_e=_i;break;case 1:_h=_d+_l;_k._move(_d,_e,_l,_m);_d=_h;break;case 2:_i=_e+_m;_k._move(_h-_l,_e,_l,_m);_e=_i;break;case 3:_h=_d+_l;_k._move(_d,_i-_m,_l,_m);_d=_h;break;}}}}};_pFrameSet.set_minimizewidth=function(){;};_pFrameSet.set_minimizeheight=function(){;};_pFrameSet.arrange=function(_a){if(this._max_frame){this._max_frame.on_syscommand(this._max_frame._control_element,"restore",true,this._max_frame,null);}var _b=0;var _c=this.frames;for(var _v=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}_b++ ;}var _e=0;var _f=0;var _g=this._client_width;var _h=this._client_height;if(_a=="cascade"){var _i=0;for(var _x=100;;_i++ ){if(this._client_height<_x){break;}_x+=(60+(_i*10));}var _j=this._getTitlebarHeight()>0?this._getTitlebarHeight():20;var _k=_j;_g=this._client_width-(_j*_i);_h=this._client_height-(_k*_i);for(var _v=0,_y=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}_e=_j*(_y%(_i+1));_f=_k*(_y%(_i+1));_d._move(_e,_f,_g,_h);_y++ ;}}if(_a=="tilevertical"){var _l=true;var _m=parseInt(Math.sqrt(_b))|0;var _n=parseInt(_b/_m)|0;if((_b%_m)!=0){_m+=1;_l=false;}var _o=_b;for(var _z=0,_v=0;_z<_n;_z++ ){for(var _aa=0;_aa<_m;){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){_v++ ;continue;}var _p={left:_e,top:_f,right:_e+_g,bottom:_f+_h};_p.right=_p.left+((_p.right-_p.left)/_n);_p.bottom=_p.top+((_p.bottom-_p.top)/_m);var _q=_p.right-_p.left;var _r=_p.bottom-_p.top;_p.left+=(_n-_z-1)*_q;_p.top+=(_m-_aa-1)*_r;_p.right+=(_n-_z-1)*_q;_p.bottom+=(_m-_aa-1)*_r;_d._move(_p.left,_p.top,_p.right-_p.left,_p.bottom-_p.top);_aa++ ,_v++ ,_o-- ;}if(!_l&&_m>2&&(_o%(_m-1))==0){_m-- ;_l=true;}}}if(_a=="tilehorizontal"){var _l=true;var _n=parseInt(Math.sqrt(_b))|0;var _m=parseInt(_b/_n)|0;if((_b%_n)!=0){_m+=1;_l=false;}var _o=_b;for(var _z=0,_v=0;_z<_n;_z++ ){for(var _aa=0;_aa<_m;){var _d=this._zorderMap[_v++ ];if(_d.visible==false||_d._state_openstatus==2){continue;}var _p={left:_e,top:_f,right:_e+_g,bottom:_f+_h};_p.right=_p.left+((_p.right-_p.left)/_n);_p.bottom=_p.top+((_p.bottom-_p.top)/_m);var _q=_p.right-_p.left;var _r=_p.bottom-_p.top;_p.left+=(_n-_z-1)*_q;_p.top+=(_m-_aa-1)*_r;_p.right+=(_n-_z-1)*_q;_p.bottom+=(_m-_aa-1)*_r;_d._move(_p.left,_p.top,_p.right-_p.left,_p.bottom-_p.top);_aa++ ,_o-- ;}if(!_l&&_m>2&&(_o%(_m-1))==0){_m-- ;_l=true;}}}if(_a=="vertical"){for(var _v=0,_y=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}_d._move(_e+(_y*(_g/_b)),_f,(_g/_b),_h);_y++ ;}}if(_a=="horizontal"){var _s=_f;for(var _v=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}var _p={left:_e,top:_f,right:_e+_g,bottom:_f+_h};_p.top=_s;_p.bottom=_p.top+(_h/_b);var _t=0,_u=0;if(_p.bottom-_p.top<_u){_p.bottom=_p.top+_u;}_s=_p.bottom+1;_d._move(_e,_p.top,_g,_p.bottom-_p.top);}}};delete _pFrameSet;nexacro.VFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pVFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.VFrameSet);nexacro.VFrameSet.prototype=_pVFrameSet;_pVFrameSet._type_name="VFrameSet";_pVFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_b);var _e=this.frames.length;var _f=0;var _g=0;var _h=0;var _i=_f+_a;var _j=this._client_height;if(this._max_frame){var _k= -1;var _l=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_m==this._max_frame){_k=_r;continue;}var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderTopWidth();_l+=_o._getBorderBottomWidth();}_j-=_l;_d[_r]=_l;}_d[_k]=_j;}var _p=false;var _q=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_p){_g=_h;_p=false;}if(_m._state_openstatus==2){_m._setVerticalMin(false);var _l=0;var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderTopWidth();_l+=_o._getBorderBottomWidth();}_q+=_d[_r]-_l;_d[_r]=_l;_p=true;}if(_m._state_openstatus!=2){_d[_r]+=_q;_q=0;}_h=_d[_r]+_g;if(_m!=this._track_frame){_m._move(_f,_g,_i-_f,_h-_g);}_g=_h;}}};_pVFrameSet.arrange=nexacro._emptyFn;_pVFrameSet.set_minimizedchildposition=nexacro._emptyFn;delete _pVFrameSet;nexacro.HFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pHFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.HFrameSet);nexacro.HFrameSet.prototype=_pHFrameSet;_pHFrameSet._type_name="HFrameSet";_pHFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_a);var _e=this.frames.length;var _f=0;var _g=0;var _h=0;var _i=_g+_b;var _j=this._client_width;if(this._max_frame){var _k= -1;var _l=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_m==this._max_frame){_k=_r;continue;}var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderLeftWidth();_l+=_o._getBorderRightWidth();}_j-=_l;_d[_r]=_l;}_d[_k]=_j;}var _p=false;var _q=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_p){_f=_h;_p=false;}if(_m._state_openstatus==2){_m._setVerticalMin(true);var _l=0;var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderLeftWidth();_l+=_o._getBorderRightWidth();}_q+=_d[_r]-_l;_d[_r]=_l;_p=true;}if(_m._state_openstatus!=2){if(this._max_frame&&_m!=this._max_frame){_m._setVerticalMin(true);}else{_m._setVerticalMin(false);}_d[_r]+=_q;_q=0;}_h=_d[_r]+_f;if(_m!=this._track_frame){_m._move(_f,_g,_h-_f,_i-_g);}_f=_h;}}};_pHFrameSet.arrange=nexacro._emptyFn;_pHFrameSet.set_minimizedchildposition=nexacro._emptyFn;delete _pHFrameSet;nexacro.TileFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.separatetype="horizontal";this.separatecount=1;this.fullframemaximize=true;this.minimizedchildposition="bottom";this._separatetype=0;this._minimizedchildposition=3;};var _pTileFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.TileFrameSet);nexacro.TileFrameSet.prototype=_pTileFrameSet;_pTileFrameSet._type_name="TileFrameSet";_pTileFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this.frames.length;var _e=_c.client_width;var _f=_c.client_height;if(this.fullframemaximize==false){if(this._max_frame){for(var _y=0,_al=this.frames.length;_y<_al;_y++ ){if(this._max_frame!=this.frames[_y]&&this.frames[_y]._state_openstatus!=2){this.frames[_y].openstatus="minimize";this.frames[_y]._change_state_OpenStatus(2);}}}else{for(var _y=0,_al=this.frames.length;_y<_al;_y++ ){if(this.frames[_y]._state_openstatus==2){this.frames[_y].openstatus="normal";this.frames[_y]._change_state_OpenStatus(0);}}}}var _g=this._getMinimizeFrameCount();var _h=(_d-_g)>0?_d-_g:1;var _i=this.separatecount>0?this.separatecount:1;var _j=parseInt(_h/_i)+(parseInt(_h%_i)>0?1:0);var _k=false;if(this._minimizedchildposition==1||this._minimizedchildposition==3){_k=true;}var _l=0,_m=0;if(_k){_l=_a;if(_g>0){_m=this._getMaxMinimizedHeight();if(_m==( -1)){_m=25;}}}else{_m=_b;if(_g>0){_l=this._getMaxMinimizedWidth();if(_l==( -1)){_l=150;}}}var _n=0,_o=0;if(this._separatetype==1){_n=(_a-(_k?0:_l))/_j;_o=_b-(_k?_m:0);}else{_n=_a-(_k?0:_l);_o=(_b-(_k?_m:0))/_j;}var _p=_d-_i>0?_i:_d;var _q=_h-_i>0?_i:_h;var _r=0;if(this._separatetype==1){_r=_b;if(_k){_r-=_m;}}else{_r=_a;if(!_k){_r-=_l;}}var _s=this._recalcSeparateFrameSize(_r,_q,_q);var _t=0;var _u=0;var _v=_t+_a;var _w=_u+_b;if(_g>0){switch(this._minimizedchildposition){case 0:_t+=_l;break;case 1:_u+=_m;break;case 2:_v-=_l;break;case 3:_w-=_m;break;}}if(this._separatetype==1){_v=_t+_n;}else{_w=_u+_o;}if(this._max_frame){if(this.fullframemaximize){this._max_frame._move(0,0,_e,_f);}else{this._max_frame._move(_t,_u,_v-_t,_w-_u);}if(this._control_element&&this._max_frame._control_element){this._control_element.bringToFrontElement(this._max_frame._control_element);}}else if(this.fullframemaximize==false){var _x=this.frames;for(var _y=0,_al=_x.length;_y<_al;_y++ ){if(_x[_y]._state_openstatus==2){_x[_y]._change_state_OpenStatus(1);}}}var _y=0,_z=0,_aa=0;for(_y=0;_y<_j;_y++ ){for(_z=0;_z<_q&&_aa<_d;_aa++ ){var _ab=this.frames[_aa];if(_ab==this._max_frame){continue;}if(_ab._state_openstatus==2){continue;}if(this._separatetype==1){_w=_s[_z]+_u;}else{_v=_s[_z]+_t;}if(_ab!=this._track_frame){_ab._move(_t,_u,_v-_t,_w-_u);}if(this._separatetype==1){_u=_w;}else{_t=_v;}_z++ ;}if(this._separatetype==1){_u=0;_t=_v;_v=_t+_n;if(this._minimizedchildposition==1){_u+=_m;}}else{_t=0;_u=_w;_w=_u+_o;if(this._minimizedchildposition==0){_t+=_l;}}}if(_g<=0){return;}var _ac=0;var _ad=0;var _ae=_ac+this._client_width;var _af=_ad+this._client_height;switch(this._minimizedchildposition){case 0:_ae=_ac+_l;break;case 1:_af=_ad+_m;break;case 2:_ac=_ae-_l;break;case 3:_ad=_af-_m;break;}var _ag=150;var _ah=_a-(_g*_ag);_ah=_ah>0?_ag:(_a/_g);_ah=_ah<100?100:_ah;for(_y=0;_y<_d;_y++ ){var _ab=this.frames[_y];if(_ab._state_openstatus==2){_ab._setVerticalMin(false);var _ai= -1;if(_ai==( -1)){var _aj=_ab.on_find_CurrentStyle_titlebarheight();_ai=parseInt(_aj.value)|0;var _ak=_ab.on_find_CurrentStyle_border();if(_ak){_ai+=_ak._getBorderTopWidth();_ai+=_ak._getBorderBottomWidth();}}switch(this._minimizedchildposition){case 0:_af=_ad+_ai;_ab._move(_ac,_ad,_ae-_ac,_ai);_ad=_af;break;case 1:_ae=_ac+_ah;_ab._move(_ac,_ad,_ah,_af-_ac);_ac=_ae;break;case 2:_af=_ad+_ai;_ab._move(_ac,_ad,_ae-_ac,_ai);_ad=_af;break;case 3:_ae=_ac+_ah;_ab._move(_ac,_ad,_ah,_af-_ad);_ac=_ae;break;}}}}};_pTileFrameSet.set_separatetype=function(_a){if(this.separatetype!=_a){this.separatetype=_a;this._separatetype=(_a=="vertical"?1:0);if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.set_separatecount=function(_a){var _b=nexacro._parseInt(_a);if(this.separatecount!=_b){if(_b<0){this.separatecount=1;}else{this.separatecount=_b;}if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.set_fullframemaximize=function(_a){var _b=nexacro._toBoolean(_a);if(this.fullframemaximize!=_b){this.fullframemaximize=_b;var _c=this.frames;for(var _e=0,_f=_c.length;_e<_f;_e++ ){var _d=_c[_e];if(_d.titlebar){if(_b==false){_d.titlebar._setAbsoluteStyle(0x0001,0);}else{_d.titlebar._setAbsoluteStyle(0x0100,0x0001);_d.titlebar._setAbsoluteStyle(0,0x0100);}}}if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.arrange=nexacro._emptyFn;_pTileFrameSet._getMaxMinimizedWidth=function(){var _a= -1;var _b=this.frames;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c._state_openstatus!=2){continue;}}return _a;};_pTileFrameSet._getMaxMinimizedHeight=function(){var _a= -1;var _b=this.frames;for(var _g=0,_h=_b.length;_g<_h;_g++ ){var _c=_b[_g];if(_c._state_openstatus!=2){continue;}var _d= -1;if(_d==( -1)){var _e=_c.on_find_CurrentStyle_titlebarheight();_d=parseInt(_e.value)|0;var _f=_c.on_find_CurrentStyle_border();if(_f){_d+=_f._getBorderTopWidth();_d+=_f._getBorderBottomWidth();}if(_d>_a){_a=_d;}}}return _a;};delete _pTileFrameSet;if(!nexacro.MainTitleBarCtrl){nexacro.MainTitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._hittest_type="caption";};var _pMainTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBarCtrl,nexacro.MainTitleBarCtrl);nexacro.MainTitleBarCtrl.prototype=_pMainTitleBarCtrl;delete _pMainTitleBarCtrl;}if(!nexacro.ChildTitleBarCtrl){nexacro.ChildTitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;if(_i&&_i._is_frame&&_i._is_window&&_i._dragmovetype!=0){this._hittest_type="caption";}};var _pChildTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBarCtrl,nexacro.ChildTitleBarCtrl);nexacro.ChildTitleBarCtrl.prototype=_pChildTitleBarCtrl;delete _pChildTitleBarCtrl;}if(!nexacro.MainStatusBarCtrl){nexacro.MainStatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.zoomcombo=null;this.zoomcombogap=1;this.zoomcomboheight=20;this.zoomcombowidth=70;this._comm_progress_ref=0;this._comm_progress_timer=null;};var _pMainStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBarCtrl,nexacro.MainStatusBarCtrl);nexacro.MainStatusBarCtrl.prototype=_pMainStatusBarCtrl;_pMainStatusBarCtrl._movezoomcombo=function(_a,_b,_c,_d){if(!this.zoomcombo){return;}var _e=this.currentstyle;var _f=_e.zoomcombowidth>0?_e.zoomcombowidth._value:70;var _g=_e.zoomcomboheight>0?_e.zoomcomboheight._value:20;var _h=_e.zoomcombogap>0?_e.zoomcombogap._value:2;_a=_a-_f-_h;_a=_a>0?_a:0;_b=((_d-_g)/2)|0;if(_b<0){_b=0;}this.zoomcombo.move(_a,_b,_f,_g);return _a;};if(nexacro.Browser=="Runtime"){_pMainStatusBarCtrl._beginCommProgress=function(){var _a= ++this._comm_progress_ref;if(_a==1){var _b=this.progressbar;if(_b){_b.set_max(1000);_b.set_pos(0);}var _c=new nexacro.CallbackTimer(this,function(){var _b=this.progressbar;if(!_b){return;}var _d=_b.pos;_d+=Math.max(1,(1000-_d)/(100*this._comm_progress_ref));if(_d>990){_d=990;}_b.set_pos(_d);},500);_c.start();this._comm_progress_timer=_c;}};_pMainStatusBarCtrl._stepCommProgress=function(_a,_b){var _c=this.progressbar;if(_c){_c.set_max(_b);_c.set_pos(_a);}};_pMainStatusBarCtrl._endCommProgress=function(){var _a= --this._comm_progress_ref;if(_a==0){var _b=this.progressbar;if(_b){_b.set_pos(0);}if(this._comm_progress_timer){this._comm_progress_timer.stop();}}};}else{_pMainStatusBarCtrl._beginCommProgress=nexacro._emptyFn;_pMainStatusBarCtrl._stepCommProgress=nexacro._emptyFn;_pMainStatusBarCtrl._endCommProgress=nexacro._emptyFn;}delete _pMainStatusBarCtrl;}if(!nexacro.ChildStatusBarCtrl){nexacro.ChildStatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._showzoomcombo=false;};var _pChildStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBarCtrl,nexacro.ChildStatusBarCtrl);nexacro.ChildStatusBarCtrl.prototype=_pChildStatusBarCtrl;delete _pChildStatusBarCtrl;}}if(!nexacro.ScrollBar){nexacro.ScrollBar_Style=function(_a){nexacro.Style.call(this,_a);this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};var _pScrollBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.ScrollBar_Style);nexacro.ScrollBar_Style.prototype=_pScrollBarStyle;eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","barminsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","baroutsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","incbtnsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","decbtnsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","imgoutsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","scrollbarsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","trackbarsize"));_pScrollBarStyle.__custom_emptyObject=function(){this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};_pScrollBarStyle.__get_custom_style_value=function(){var _a="";if(this.barminsize&&!this.barminsize._isEmpty){_a+="barminsize:"+this.barminsize._value+"; ";}if(this.baroutsize&&!this.baroutsize._isEmpty){_a+="baroutsize:"+this.baroutsize._value+"; ";}if(this.incbtnsize&&!this.incbtnsize._isEmpty){_a+="incbtnsize:"+this.incbtnsize._value+"; ";}if(this.decbtnsize&&!this.decbtnsize._isEmpty){_a+="decbtnsize:"+this.decbtnsize._value+"; ";}if(this.imgoutsize&&!this.imgoutsize._isEmpty){_a+="imgoutsize:"+this.imgoutsize._value+"; ";}if(this.scrollbarsize&&!this.scrollbarsize._isEmpty){_a+="scrollbarsize:"+this.scrollbarsize._value+"; ";}if(this.trackbarsize&&!this.trackbarsize._isEmpty){_a+="trackbarsize:"+this.trackbarsize._value+"; ";}return _a;};nexacro.ScrollBar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};var _pScrollBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ScrollBar_CurrentStyle);nexacro.ScrollBar_CurrentStyle.prototype=_pScrollBarCurrentStyle;_pScrollBarCurrentStyle.__custom_emptyObject=_pScrollBarStyle.__custom_emptyObject;_pScrollBarCurrentStyle.__get_custom_style_value=_pScrollBarStyle.__get_custom_style_value;delete _pScrollBarStyle;delete _pScrollBarCurrentStyle;nexacro.ScrollBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.incbutton=null;this.decbutton=null;this.trackbar=null;this.barminsize= -1;this.baroutsize= -1;this.decbtnsize= -1;this.imgoutsize= -1;this.incbtnsize= -1;this.scrollbarsize= -1;this.trackbarsize= -1;this.direction="vert";this.line=1;this.page=3;this.view= -1;this.max=0;this.min=0;this.pos=0;this.onscroll=null;this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ongesture":1,"onscroll":1};this._rectShaft=new nexacro.Rect();this._mousePoint={};this._max=0;this._min=0;this._orgmax=0;this._trackbarsize= -1;this._pos=0;this._lineup=1;this._linedown=1;this._pageup=3;this._pagedown=3;this._nTrackOver=0;this._is_repeat=true;this._start_page_navi=null;this._is_tracking=false;this._reset_trackbar_fix=false;this._set_real=false;this._is_nc_control=true;};nexacro.ScrollBar.TRACKBAR_SIZE_MIN=6;nexacro.ScrollBar.TRACKFIRSTOVER=1;nexacro.ScrollBar.TRACKLASTOVER=2;var _pScrollBar=nexacro._createPrototype(nexacro.Component,nexacro.ScrollBar);nexacro.ScrollBar.prototype=_pScrollBar;_pScrollBar._type_name="ScrollBar";_pScrollBar._default_rtlimagemirroring=nexacro.Component._default_rtlimagemirroring;_pScrollBar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_barminsize(_a);if(_c!=_b.barminsize){_b.barminsize=_c;this.on_apply_style_barminsize();}_c=this.on_find_CurrentStyle_baroutsize(_a);if(_c!=_b.baroutsize){_b.baroutsize=_c;this.on_apply_style_baroutsize();}_c=this.on_find_CurrentStyle_decbtnsize(_a);if(_c!=_b.decbtnsize){_b.decbtnsize=_c;this.on_apply_style_decbtnsize();}_c=this.on_find_CurrentStyle_imgoutsize(_a);if(_c!=_b.imgoutsize){_b.imgoutsize=_c;this.on_apply_style_imgoutsize();}_c=this.on_find_CurrentStyle_incbtnsize(_a);if(_c!=_b.incbtnsize){_b.incbtnsize=_c;this.on_apply_style_incbtnsize();}_c=this.on_find_CurrentStyle_scrollbarsize(_a);if(_c!=_b.scrollbarsize){_b.scrollbarsize=_c;this.on_apply_style_scrollbarsize();}_c=this.on_find_CurrentStyle_trackbarsize(_a);if(_c!=_b.trackbarsize){_b.trackbarsize=_c;this.on_apply_style_trackbarsize();}if(this.incbutton){this.incbutton._control_pseudo="";this.incbutton._contents_pseudo="";this.incbutton.on_apply_pseudo(_a);}if(this.decbutton){this.decbutton._control_pseudo="";this.decbutton._contents_pseudo="";this.decbutton.on_apply_pseudo(_a);}if(this.trackbar){this.trackbar._control_pseudo="";this.trackbar._contents_pseudo="";this.trackbar.on_apply_pseudo(_a);}};_pScrollBar.on_apply_prop_class=function(){if(this.incbutton){this.incbutton._css_finder=null;this.incbutton._ref_css_finder=null;}if(this.decbutton){this.decbutton._css_finder=null;this.decbutton._ref_css_finder=null;}if(this.trackbar){this.trackbar._css_finder=null;this.trackbar._ref_css_finder=null;}nexacro.Component.prototype.on_apply_prop_class.call(this);};_pScrollBar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);if(this.direction=="horz"){if(this.incbutton){this.incbutton._setRtlDirection(this._rtldirection);{var _a=this.incbutton._img_elem;if(_a){_a.setElementImageMirror(null,true);}}}if(this.decbutton){this.decbutton._setRtlDirection(this._rtldirection);{var _a=this.decbutton._img_elem;if(_a){_a.setElementImageMirror(null,true);}}}if(this.trackbar){this.trackbar._setRtlDirection(this._rtldirection);}}if(this.direction=="vert"){if(this.incbutton){this.incbutton._setRtlDirection(this._rtldirection);}if(this.decbutton){this.decbutton._setRtlDirection(this._rtldirection);}if(this.trackbar){this.trackbar._setRtlDirection(this._rtldirection);}}var _b=this._control_element;if(_b){_b.setElementPosition(_b.left,_b.top,true);}};_pScrollBar.on_create_custom_style=function(){return new nexacro.ScrollBar_Style(this);};_pScrollBar.on_create_custom_currentStyle=function(){return new nexacro.ScrollBar_CurrentStyle();};_pScrollBar.on_find_CurrentStyle_barminsize=function(_a){return this._find_pseudo_obj("barminsize",_a);};_pScrollBar.on_find_CurrentStyle_baroutsize=function(_a){return this._find_pseudo_obj("baroutsize",_a);};_pScrollBar.on_find_CurrentStyle_decbtnsize=function(_a){return this._find_pseudo_obj("decbtnsize",_a);};_pScrollBar.on_find_CurrentStyle_imgoutsize=function(_a){return this._find_pseudo_obj("imgoutsize",_a);};_pScrollBar.on_find_CurrentStyle_incbtnsize=function(_a){return this._find_pseudo_obj("incbtnsize",_a);};_pScrollBar.on_find_CurrentStyle_scrollbarsize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pScrollBar.on_find_CurrentStyle_trackbarsize=function(_a){return this._find_pseudo_obj("trackbarsize",_a);};_pScrollBar.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pScrollBar.on_update_style_barminsize=function(){this.currentstyle.barminsize=this.on_find_CurrentStyle_barminsize(this._pseudo);this.on_apply_style_barminsize();};_pScrollBar.on_update_style_baroutsize=function(){this.currentstyle.baroutsize=this.on_find_CurrentStyle_baroutsize(this._pseudo);this.on_apply_style_baroutsize();};_pScrollBar.on_update_style_decbtnsize=function(){this.currentstyle.decbtnsize=this.on_find_CurrentStyle_decbtnsize(this._pseudo);this.on_apply_style_decbtnsize();};_pScrollBar.on_update_style_imgoutsize=function(){this.currentstyle.imgoutsize=this.on_find_CurrentStyle_imgoutsize(this._pseudo);this.on_apply_style_imgoutsize();};_pScrollBar.on_update_style_incbtnsize=function(){this.currentstyle.incbtnsize=this.on_find_CurrentStyle_incbtnsize(this._pseudo);this.on_apply_style_incbtnsize();};_pScrollBar.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarsize(this._pseudo);this.on_apply_style_scrollbarsize();};_pScrollBar.on_update_style_trackbarsize=function(){this.currentstyle.trackbarsize=this.on_find_CurrentStyle_trackbarsize(this._pseudo);this.on_apply_style_trackbarsize();};_pScrollBar.on_apply_style_barminsize=function(){var _a=this.currentstyle.barminsize;if(_a&&!_a._isEmpty){this.barminsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_baroutsize=function(){var _a=this.currentstyle.baroutsize;if(_a&&!_a._isEmpty){this.baroutsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_decbtnsize=function(){var _a=this.currentstyle.decbtnsize;if(_a&&!_a._isEmpty){this.decbtnsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_imgoutsize=function(){var _a=this.currentstyle.imgoutsize;if(_a&&!_a._isEmpty){this.imgoutsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_incbtnsize=function(){var _a=this.currentstyle.incbtnsize;if(_a&&!_a._isEmpty){this.incbtnsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_scrollbarsize=function(){var _a=this.currentstyle.scrollbarsize;if(_a&&!_a._isEmpty){this.scrollbarsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);var _b=this.parent;if(_b&&this._is_created_contents){var _c=_b._control_element;var _d=_b.vscrollbar;var _e=_b.hscrollbar;var _f=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _g=_d?(_d.scrollbarsize== -1?_f:_d.scrollbarsize):_f;var _h=_e?(_e.scrollbarsize== -1?_f:_e.scrollbarsize):_f;_c.setElementScrollbarSize(_g,_h);_b._updateClientSize(_c);}}};_pScrollBar.on_apply_style_trackbarsize=function(){var _a=this.currentstyle.trackbarsize;if(_a&&!_a._isEmpty){this.trackbarsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar._get_css_assumedtypename=function(){if(!this._is_subcontrol){if(this.direction=="vert"){return "VScrollBar";}else if(this.direction=="horz"){return "HScrollBar";}}return this._type_name;};_pScrollBar.on_create_contents=function(){var _a=this._control_element;if(_a){this.incbutton=new nexacro.ImageButtonCtrl("incbutton","absolute",0,0,0,0,null,null,this);this.decbutton=new nexacro.ImageButtonCtrl("decbutton","absolute",0,0,0,0,null,null,this);this.trackbar=new nexacro.TrackImageButtonCtrl("trackbar","absolute",0,0,0,0,null,null,this);this.trackbar._on_starttrack=this._on_starttrack;this.trackbar._on_movetrack=this._on_movetrack;this.trackbar._on_endtrack=this._on_endtrack;this.trackbar._no_slide_scroll=true;this.incbutton.createComponent();this.decbutton.createComponent();if(this.parent._is_form){this.trackbar._is_scrollable_comp=true;}this.trackbar.createComponent();}};_pScrollBar.on_created_contents=function(){var _a=this.incbutton;if(_a){_a.on_created();}var _b=this.decbutton;if(_b){_b.on_created();}var _c=this.trackbar;if(_c){_c.on_created();}this._recalcLayout();};_pScrollBar.on_destroy_contents=function(){if(this.incbutton){this.incbutton.destroy();this.incbutton=null;}if(this.decbutton){this.decbutton.destroy();this.decbutton=null;}if(this.trackbar){this.trackbar.destroy();this.trackbar=null;}this._rectShaft=null;this._mousePoint=null;};_pScrollBar.on_change_containerRect=function(_a,_b){this._recalcLayout();};_pScrollBar._on_repeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e=_a;if(_e==this.decbutton){var _f=this.decbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this);}}else if(_e==this.incbutton){var _f=this.incbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this);}}else if(_e==this){this.on_page_click(this,_b,_c);}};_pScrollBar._on_startrepeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e=_a;if(_e==this.decbutton){var _f=this.decbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this,null);}}else if(_e==this.incbutton){var _f=this.incbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this,null);}}else if(_e==this){var _f=this.trackbar;var _k="";if(this.direction=="vert"){if(_c<_f._adjust_top){_k="pageup";}else if(_c>(_f._adjust_top+_f._adjust_height)){_k="pagedown";}else{_k="";}}else{if(_b<_f._adjust_left){_k="pageleft";}else if(_b>(_f._adjust_left+_f._adjust_width)){_k="pageright";}else{_k="";}}this._start_page_navi=_k;this.on_page_click(this,_b,_c);}};_pScrollBar.set_barminsize=function(_a){if(this.barminsize!=_a){this.barminsize=_a;}};_pScrollBar.set_baroutsize=function(_a){if(this.baroutsize!=_a){this.baroutsize=_a;}};_pScrollBar.set_decbtnsize=function(_a){if(this.decbtnsize!=_a){this.decbtnsize=_a;}};_pScrollBar.set_imgoutsize=function(_a){if(this.imgoutsize!=_a){this.imgoutsize=_a;}};_pScrollBar.set_incbtnsize=function(_a){if(this.incbtnsize!=_a){this.incbtnsize=_a;}};_pScrollBar.set_scrollbarsize=function(_a){if(this.scrollbarsize!=_a){this.scrollbarsize=_a;var _b=this.parent;if(_b){var _c=_b._control_element;var _d=_b.vscrollbar;var _e=_b.hscrollbar;var _f=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _g=_d?(_d.scrollbarsize== -1?_f:_d.scrollbarsize):_f;var _h=_e?(_e.scrollbarsize== -1?_f:_e.scrollbarsize):_f;_c.setElementScrollbarSize(_g,_h);_b._updateClientSize(_c);}}};_pScrollBar.set_trackbarsize=function(_a){if(this.trackbarsize!=_a){this.trackbarsize=_a;}};_pScrollBar.set_pos=function(_a){this._setPos(_a);};_pScrollBar.on_apply_resize=function(){this._recalcLayout();this.on_fire_onsize(this._adjust_width,this._adjust_height);};_pScrollBar.on_apply_move=function(){this._recalcLayout();this.on_fire_onmove(this._adjust_left,this._adjust_top);};_pScrollBar.on_apply_prop_enable=function(_a){var _b=_a;if(_a==undefined){_b=this.enable;}if(this.incbutton){this.incbutton._setEnable(_b);}if(this.decbutton){this.decbutton._setEnable(_b);}if(this.trackbar){this.trackbar._setEnable(_b);}};_pScrollBar.on_fire_onscroll=function(_a,_b,_c,_d,_e){if(this.onscroll&&this.onscroll._has_handlers){_a=(_a+0.5)|0;var _f=(this.direction=="vert")?"onvscroll":"onhscroll";var _g=new nexacro.ScrollEventInfo(this,_f,_a,_b,this,this.parent);if(_c!==undefined){_g.touchscrolling=_c;_g.touchscrolldir=_d;}_g._evtkind=_e;var _h=this.onscroll._fireEvent(this,_g);return _h;}return true;};_pScrollBar.on_incbutton_lbuttondown=function(_a){var _b=this._min;var _c=this._max;var _d=this._pos;var _e=this.line;if(_e== -1){_e=this._lineup;}var _f=_d+_e;var _g=this._getIncNewPosPixel();if(_g!==undefined){_f=_g;}if(_d>=_c){var _h=this._scroll_reverse_convert(_c);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,"lastover");}else if(_f>=_c){var _h=this._scroll_reverse_convert(_c);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"linedown":"lineright"));this.on_fire_onscroll(this.pos,"last");}else{var _h=this._scroll_reverse_convert(_f);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"linedown":"lineright"));}var _i=this._rectShaft;this._resetTrackBar(_i.left,_i.top,_i.right,_i.bottom);};_pScrollBar.on_decbutton_lbuttondown=function(_a){var _b=this._min;var _c=this._max;var _d=this._pos;var _e=this.line;if(_e== -1){_e=this._linedown;}var _f=_d-_e;var _g=this._getDecNewPosPixel();if(_g!==undefined){_f=_g;}if(_d<=_b){var _h=this._scroll_reverse_convert(_b);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,"firstover");}else if(_f<=_b){var _h=this._scroll_reverse_convert(_b);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"lineup":"lineleft"));this.on_fire_onscroll(this.pos,"first");}else{var _h=this._scroll_reverse_convert(_f);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"lineup":"lineleft"));}var _i=this._rectShaft;this._resetTrackBar(_i.left,_i.top,_i.right,_i.bottom);};_pScrollBar._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.parent;_a._mousePoint={x:0,y:0};nexacro.ScrollBar.prototype._starttrack.call(_a);_a._is_tracking=true;};_pScrollBar._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;nexacro.ScrollBar.prototype._endtrack.call(_d);_d._is_tracking=false;};_pScrollBar._on_movetrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;nexacro.ScrollBar.prototype._movetrack.call(_d,_a,_b);};_pScrollBar.on_page_click=function(_a,_b,_c){var _d=this._min;var _e=this._max;var _f=this._pos;var _g=this.page;var _h=this._pageup;var _i=this._pagedown;if(_g!= -1){_h=_g;_i=_g;}var _j=this.trackbar;if(_j._adjust_width<=0||_j._adjust_height<=0){return;}var _k=_j._adjust_top;var _l=_j._adjust_left;var _m=_j._adjust_left+_j._adjust_width;var _n=_j._adjust_top+_j._adjust_height;var _o=_f,_p;var _q,_r;if(this.direction=="vert"){if(this._start_page_navi=="pageup"&&_c<_k){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageup";}else if(this._start_page_navi=="pagedown"&&_c>_n){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pagedown";}else{_p="";}}else{if(this._start_page_navi=="pageleft"&&_b<_l){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageleft";}else if(this._start_page_navi=="pageright"&&_b>_m){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pageright";}else{_p="";}}if(this._pos==_o){return;}var _s=this._scroll_reverse_convert(_o);this.pos=_s[0];this._pos=_s[1];this.on_fire_onscroll(this.pos,_p);if(this.direction=="vert"){if(_c<_k&&_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_c>_n&&_o==_e){this.on_fire_onscroll(this.pos,"last");}else{if(_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_o==_e){this.on_fire_onscroll(this.pos,"last");}}}else{if(_b<_l&&_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_b>_m&&_o==_e){this.on_fire_onscroll(this.pos,"last");}else{if(_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_o==_e){this.on_fire_onscroll(this.pos,"last");}}}var _t=this._rectShaft;this._resetTrackBar(_t.left,_t.top,_t.right,_t.bottom);};_pScrollBar._setDirection=function(_a){if(this.direction!=_a){switch(_a){case "vert":case "horz":this.direction=_a;this._recalcLayout();this._default_rtlimagemirroring=nexacro._getCachedStyleObj("rtlimagemirroring","true");break;}}return _a;};_pScrollBar._scroll_convert_pixel=function(_a,_b){return _a;};_pScrollBar._scroll_reverse_convert=function(_a,_b,_c){return [_a,_a];};_pScrollBar._setPos=function(_a,_b){var _c=this._getScrollInfo(_a,_b);if(_a<this.min){_a=this.min;}if(_a>this.max){_a=this.max;}if(this.pos!=_a){this.pos=_a;this._pos=this._scroll_convert_pixel(_a);var _d=this._rectShaft;this._resetTrackBar(_d.left,_d.top,_d.right,_d.bottom);}this.on_fire_onscroll(this.pos,_c,undefined,undefined,_b);};_pScrollBar._setScrollPos=function(_a){if(this._is_tracking){return;}var _b=this._scroll_reverse_convert(_a);this.pos=_b[0];this._pos=_b[1];if(this._pos<this._min){this.pos=this.min;this._pos=this._min;}if(this._pos>this._max){this.pos=this.max;this._pos=this._max;}this._recalcLayout();};_pScrollBar._setScrollInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._scroll_reverse_convert(_e);this.min=_l[0];this._min=_l[1];_l=this._scroll_reverse_convert(_f,false,true);this.max=_l[0];this._max=_l[1];this._orgmax=_f;this.line=_g;this.page=_h;this.view=_i;if(_k>=_f){_l=this._scroll_reverse_convert(_k,false,true);}else{_l=this._scroll_reverse_convert(_k);}this.pos=_l[0];this._pos=_l[1];if(this._pos<this._min){this.pos=this.min;this._pos=this._min;}if(this._pos>this._max){this.pos=this.max;this._pos=this._max;}var _m=this._adjust_left;var _n=this._adjust_top;var _o=this._adjust_width;var _p=this._adjust_height;var _q=false;if(_m!=_a||_n!=_b||_o!=_c||_p!=_d){_q=true;}if(_q){this._adjustPosition(_a,_b,null,null,_c,_d,this.parent._client_width,this.parent._client_height);var _r=this._control_element;if(_r){_r.setElementPosition(this._adjust_left,this._adjust_top);_r.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_r);if(_m!=this._adjust_left||_n!=this._adjust_top){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_o!=this._adjust_width||_p!=this._adjust_height){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}}this._recalcLayout();this._setEnable(_j);};_pScrollBar._getScrollInfo=function(_a,_b){var _c="none";if(_b&&_b.length>0){if(_b=="mousewheel"){if(this.pos>_a&&_a>this.min){_c="wheelup";}else if(this.pos<_a&&_a<this.max){_c="wheeldown";}else if(_a==this.min){_c="wheelfirst";}else if(_a==this.max){_c="wheellast";}else if(_a<this.min){if(this.pos!=this.min){_c="wheelfirst";}else{_c="wheelfirstover";}}else if(_a>this.max){if(this.pos!=this.max){_c="wheellast";}else{_c="wheellastover";}}}else if(_b=="slide"||_b=="fling"){if(this.pos>_a&&_a>this.min){_c="slide";}else if(this.pos<_a&&_a<this.max){_c="slide";}else if(_a==this.min){_c="slidefirst";}else if(_a==this.max){_c="slidelast";}else if(_a<this.min){if(this.pos!=this.min){_c="slidefirst";}else{_c="slidefirstover";}}else if(_a>this.max){if(this.pos!=this.max){_c="slidelast";}else{_c="slidelastover";}}}else{_c=_b;}}return _c;};_pScrollBar._set_touch_pos=function(_a,_b,_c){if(_a<this._min){_a=this._min;}if(_a>this._max){_a=this._max;}var _d=this._scroll_reverse_convert(_a);if(this._pos!=_d[1]){this.pos=_d[0];this._pos=_d[1];this.on_fire_onscroll(this.pos,"touchscroll",_b,_c);var _e=this._rectShaft;this._resetTrackBar(_e.left,_e.top,_e.right,_e.bottom);}};_pScrollBar._recalcLayout=function(){var _a=this._control_element;if(_a&&this._is_created_contents){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;if(_d<=0||_e<=0){return;}var _f=0,_g=0,_h=0,_i=0,_j=0,_k=0;var _l=this.decbtnsize;var _m=this.incbtnsize;var _n=0;if(this.direction=="vert"){if(_l<0){_l=_d;}if(_m<0){_m=_d;}var _o=_e-(_l+_m);if(_o<0){_l=((_e+(_e%2))/2)|0;_m=_e-_l;}var _p=_c+_e;_f=_b;_g=_f+_d;_h=_c+_l;_i=_p-_m;if(_l==0){this.decbutton.move(_f,0,_d,_l);}else{this.decbutton.move(_f,_c,_d,_l);}if(_m==0){this.incbutton.move(_f,0,_d,_e-_i);}else{this.incbutton.move(_f,_i,_d,_e-_i);}var _q=_i-_h;if(_q>0){var _r=this.view;var _s=this.barminsize;var _t=this.baroutsize;var _u=this._max-this._min;if(_t<0){_t=_g-_f;}if(_s<0){_s=((_g-_f)*0.60)|0;if(_s<nexacro.ScrollBar.TRACKBAR_SIZE_MIN){_s=nexacro.ScrollBar.TRACKBAR_SIZE_MIN;}}if(_r<0){_r=1;}if(_q>_t){if(this.trackbarsize>0){this._trackbarsize=this.trackbarsize;}else{_n=(_q*(_r/(_r+_u)))|0;this._trackbarsize=(_n<_s)?_s:_n;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_q<this._trackbarsize){this._trackbarsize=_q;}}else{if(_l<0){_l=_e;}if(_m<0){_m=_e;}var _o=_d-(_l+_m);if(_o<0){_l=((_d+(_d%2))/2)|0;_m=_d-_l;}var _v=_b+_d;_f=_b+_l;_g=_v-_m;_h=_c;_i=_c+_e;if(_l==0){this.decbutton.move(_b,0,_l,_e);}else{this.decbutton.move(_b,_h,_l,_e);}if(_m==0){this.incbutton.move(_g,0,_d-_g,_e);}else{this.incbutton.move(_g,_h,_d-_g,_e);}var _q=_g-_f;if(_q>0){var _r=this.view;var _s=this.barminsize;var _t=this.baroutsize;var _u=this._max-this._min;if(_t<0){_t=_i-_h;}if(_s<0){_s=parseInt((_i-_h)*0.60);if(_s<nexacro.ScrollBar.TRACKBAR_SIZE_MIN){_s=nexacro.ScrollBar.TRACKBAR_SIZE_MIN;}}if(_r<0){_r=1;}this._barminsize=_s;this._baroutsize=_t;if(_q>_t){if(this.trackbarsize>0){this._trackbarsize=this.trackbarsize;}else{_n=(_q*(_r/(_r+_u)))|0;this._trackbarsize=(_n<_s)?_s:_n;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_q<this._trackbarsize){this._trackbarsize=_q;}}this._rectShaft.set(_f,_h,_g,_i);this._resetTrackBar(_f,_h,_g,_i);}};_pScrollBar._resetTrackBar=function(_a,_b,_c,_d){if(this._trackbarsize<=0){this.trackbar.set_visible(false);return;}this.trackbar.set_visible(true);var _e=0,_f=0,_g=0,_h=0;var _i=this._min;var _j=this._pos;var _k=this._trackbarsize;var _l=this._max-this._min;if(_l>0){if(this.direction=="vert"){var _m=_d-_b;var _n=((_j-_i)*(_m-_k)/_l)|0;_e=_a;_g=_c;_f=_b+_n;_h=_f+_k;if(_h>_d){_h=_d;_f=_d-_k;}}else{var _m=_c-_a;_n=parseInt((_j-_i)*(_m-_k)/_l);_e=_a+_n;_g=_e+_k;_f=_b;_h=_d;if(_g>_c){_g=_c;_e=_c-_k;}}}if((_e<=0&&_f<=0&&_g-_e<=0&&_h-_f<=0)){this._set_real=true;this._setRealEnable(false);this.trackbar.set_visible(false);}else if(this._set_real){this._set_real=false;this._setRealEnable(true);this.trackbar.set_visible(true);}if(!this._reset_trackbar_fix){this.trackbar.move(_e,_f,_g-_e,_h-_f);}this._reset_trackbar_fix=false;};_pScrollBar._setRealEnable=function(_a){if(_a==undefined){_a=this.enable;}if(this._real_enable!=_a){var _b=this._control_element;this._real_enable=_a;if(_a){this._status="enable";this._pseudo="normal";}else{this._status="disable";this._pseudo="disabled";}if(this.visible&&_b){this._updateControl(_b,this._pseudo);this._updateContents(_b,this._pseudo);}if(this.incbutton){this.incbutton._setRealEnable(_a);}if(this.decbutton){this.decbutton._setRealEnable(_a);}if(this.trackbar){this.trackbar._setRealEnable(_a);}}};_pScrollBar._moveTrackBar=function(_a,_b){var _c=_a.right-_a.left;var _d=_a.bottom-_a.top;if(_a.left<_b.left){_a.left=_b.left;_a.right=_a.left+_c;}if(_a.right>_b.right){_a.right=_b.right;_a.left=_a.right-_c;}if(_a.top<_b.top){_a.top=_b.top;_a.bottom=_a.top+_d;}if(_a.bottom>_b.bottom){_a.bottom=_b.bottom;_a.top=_a.bottom-_d;}this.trackbar.move(_a.left,_a.top,_a.right-_a.left,_a.bottom-_a.top);};_pScrollBar._starttrack=function(){this.on_fire_onscroll(this.pos,"trackstart");};_pScrollBar._endtrack=function(){this.on_fire_onscroll(this.pos,"trackend");var _a=this._rectShaft;this._resetTrackBar(_a.left,_a.top,_a.right,_a.bottom);};_pScrollBar._movetrack=function(_a,_b){var _c=_a;var _d=_b;var _e=this._min;var _f=this._max;var _g=this._pos;var _h=0;var _i=_f-_e;var _j=_g;var _k=this.trackbar;var _l={left:_k._adjust_left,top:_k._adjust_top,right:_k._adjust_left+_k._adjust_width,bottom:_k._adjust_top+_k._adjust_height};var _m=_l.right-_l.left;var _n=_l.bottom-_l.top;if(_m<=0||_n<=0){return;}var _o={left:_l.left,top:_l.top,right:_l.right,bottom:_l.bottom};if(this.direction=="vert"){var _p=this._rectShaft;_h=_d-this._mousePoint.y;if((_h<0&&_l.top>_p.top)||(_h>0&&_l.bottom<_p.bottom)){_o.top+=_h;_o.bottom+=_h;_j=(_i*(_o.top-_p.top)/((_p.bottom-_p.top)-(_o.bottom-_o.top)));this._moveTrackBar(_o,_p);if(_k._adjust_top-_l.top==0){this._mousePoint.x=_c;this._mousePoint.y=_d;}else{this._mousePoint.x=_c;this._mousePoint.y=this._mousePoint.y+(_k._adjust_top-_l.top);}}}else{var _p=this._rectShaft;_h=_c-this._mousePoint.x;if((_h<0&&_l.left>_p.left)||(_h>0&&_l.right<_p.right)){_o.left+=_h;_o.right+=_h;_j=parseInt(_i*((_o.left-_p.left)/((_p.right-_p.left)-(_o.right-_o.left))));this._moveTrackBar(_o,_p);if(_k._adjust_left-_l.left==0){this._mousePoint.x=_c;this._mousePoint.y=_d;}else{this._mousePoint.x=this._mousePoint.x+(_k._adjust_left-_l.left);this._mousePoint.y=_d;}}}if(_j<=_e){var _q=this._scroll_reverse_convert(_e);this.pos=_q[0];this._pos=_q[1];if(!(this._nTrackOver&nexacro.ScrollBar.TRACKFIRSTOVER)){this.on_fire_onscroll(this.pos,"trackfirst");this._nTrackOver=nexacro.ScrollBar.TRACKFIRSTOVER;}else{this.on_fire_onscroll(this.pos,"trackfirstover");}}else if(_j>=_f){var _q=this._scroll_reverse_convert(_f);this.pos=_q[0];this._pos=_q[1];if(!(this._nTrackOver&nexacro.ScrollBar.TRACKLASTOVER)){this.on_fire_onscroll(this.pos,"tracklast");this._nTrackOver=nexacro.ScrollBar.TRACKLASTOVER;}else{this.on_fire_onscroll(this.pos,"tracklastover");}}else{var _q=this._scroll_reverse_convert(_j);this.pos=_q[0];this._pos=_q[1];this.on_fire_onscroll(this.pos,"track");this._nTrackOver=0;}};_pScrollBar._getIncNewPosPixel=function(){};_pScrollBar._getDecNewPosPixel=function(){};_pScrollBar._setScrollLayout=function(_a,_b,_c,_d,_e){if(_e<_a){_e=_a;}if(_e>_b){_e=_b;}var _f=this._scroll_reverse_convert(_a);this.min=_f[0];this._min=_f[1];_f=this._scroll_reverse_convert(_b);this.max=_f[0];this._max=_f[1];this._orgmax=_b;_f=this._scroll_reverse_convert(_e);this.pos=_f[0];this._pos=_f[1];this.line=_d;this.page=_c;this._recalcLayout();};delete _pScrollBar;nexacro.ScrollBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ScrollBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pScrollBarCtrl=nexacro.ScrollBarCtrl.prototype=nexacro._createPrototype(nexacro.ScrollBar,nexacro.ScrollBarCtrl);nexacro._setForTypedControlStyleFinder(_pScrollBarCtrl);_pScrollBarCtrl._type_name="ScrollBarControl";_pScrollBarCtrl._is_focus_accept=false;_pScrollBarCtrl._get_css_assumedtypename=function(){if(this.direction=="vert"){return "VScrollBarControl";}else if(this.direction=="horz"){return "HScrollBarControl";}return this._type_name;};delete _pScrollBarCtrl;}if(!nexacro.Plugin){nexacro.Plugin=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pPlugin=nexacro._createPrototype(nexacro.Component,nexacro.Plugin);nexacro.Plugin.prototype=_pPlugin;_pPlugin._type_name="Plugin";_pPlugin.classid="";_pPlugin.codebase="";_pPlugin.code="";_pPlugin.archive="";_pPlugin.mimetype="";_pPlugin.pluginsrc="";_pPlugin.pluginpage="";_pPlugin.license="";_pPlugin.lpkpath="";_pPlugin.contents="";_pPlugin.adjustalpha=false;_pPlugin.usepersistdata=false;_pPlugin.windowed=false;_pPlugin.popupstyle=false;_pPlugin._obj_id="";_pPlugin._obj_elem=null;_pPlugin._params=null;_pPlugin._event_params=null;_pPlugin.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._obj_elem;if(_b){_b.setElementVisible(_a);}};_pPlugin.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._obj_elem=new nexacro.PluginElement(_a);_b.setElementSize(this._client_width,this._client_height);}};_pPlugin.on_created_contents=function(){this.on_apply_classid();this.on_apply_codebase();this.on_apply_code();this.on_apply_archive();this.on_apply_mimetype();this.on_apply_pluginsrc();this.on_apply_pluginpage();this.on_apply_plugintype();this.on_apply_license();this.on_apply_lpkpath();this.on_apply_adjustalpha();this.on_apply_usepersistdata();this.on_apply_windowed();this.on_apply_popupstyle();var _a=this._obj_elem;if(_a){_a.component=this;var _b=this._params;var _c=_b.length;for(var _f=0;_f<_c;_f++ ){_a.setElementParam(_b.get_id(_f),_b.get_item(_f));}var _d=this._events;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){_a.addEventHandler(_d.get_id(_f),_d.get_item(_f));}_a.create();_a.setElementVisible(this.visible);}};_pPlugin.on_destroy_contents=function(){var _a=this._obj_elem;if(_a){_a.destroy();this._obj_elem=null;}};_pPlugin.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._obj_elem;if(_c){if(_a||_b){_c.on_update_position(_a,_b,this._adjust_left,this._adjust_top);}}};_pPlugin.on_apply_custom_setfocus=function(_a){var _b=this._obj_elem;if(_b){_b.setElementFocus();}};_pPlugin.on_change_containerRect=function(_a,_b){var _c=this._obj_elem;if(_c){_c.setElementSize(_a,_b);}};_pPlugin._setContents=function(_a){if(_a.length){if(_a.indexOf("<Contents>")!=0){_a="<Contents>"+_a+"</Contents>";}var _b=nexacro._parseXMLDocument(_a);if(_b){this._params.clear();var _c=_b.getElementsByTagName("Param");if(_c){var _d=_c.length;for(var _i=0;_i<_d;_i++ ){var _e=_c[_i];var _f=_e.getAttribute("name");var _g=_e.getAttribute("value");var _h=this._obj_elem;if(_h){_h.setElementParam(_f,_g);}else{this._params.add_item(_f,_g);}}}}}};_pPlugin.set_contents=function(_a){this.contents=_a;this._setContents(_a);};_pPlugin.set_classid=function(_a){this.classid=_a;this.on_apply_classid();};_pPlugin.on_apply_classid=function(){var _a=this._obj_elem;if(_a){var _b=this.classid;_a.setElementClassId(_b);}};_pPlugin.set_codebase=function(_a){this.codebase=_a;this.on_apply_codebase();};_pPlugin.on_apply_codebase=function(){var _a=this._obj_elem;if(_a){var _b=this.codebase;if(_b){_a.setElementCodebase(_b);}}};_pPlugin.set_code=function(_a){this.code=_a;this.on_apply_code();};_pPlugin.on_apply_code=function(){var _a=this._obj_elem;if(_a){var _b=this.code;if(_b){_a.setElementCode(_b);}}};_pPlugin.set_archive=function(_a){this.archive=_a;this.on_apply_archive();};_pPlugin.on_apply_archive=function(){var _a=this._obj_elem;if(_a){var _b=this.archive;if(_b){_a.setElementArchive(_b);}}};_pPlugin.set_mimetype=function(_a){this.mimetype=_a;this.on_apply_mimetype();};_pPlugin.on_apply_mimetype=function(){var _a=this._obj_elem;if(_a){var _b=this.mimetype;if(_b){_a.setElementMIMEType(_b);}}};_pPlugin.set_pluginsrc=function(_a){this.pluginsrc=_a;this.on_apply_pluginsrc();};_pPlugin.on_apply_pluginsrc=function(){var _a=this._obj_elem;if(_a){var _b=this.pluginsrc;if(_b){_a.setElementPluginSrc(_b);}}};_pPlugin.set_plugintype=function(_a){this.plugintype=_a;this.on_apply_plugintype();};_pPlugin.on_apply_plugintype=function(){var _a=this._obj_elem;if(_a){var _b=this.plugintype;if(_b){_a.setElementPluginMIMEType(_b);}}};_pPlugin.set_pluginpage=function(_a){this.pluginpage=_a;this.on_apply_pluginpage();};_pPlugin.on_apply_pluginpage=function(){var _a=this._obj_elem;if(_a){var _b=this.pluginpage;if(_b){_a.setElementPluginPage(_b);}}};_pPlugin.set_license=function(_a){this.license=_a;this.on_apply_license();};_pPlugin.on_apply_license=function(){var _a=this._obj_elem;if(_a){var _b=this.license;if(_b){_a.setElementLicense(_b);}}};_pPlugin.set_lpkpath=function(_a){this.lpkpath=_a;this.on_apply_lpkpath();};_pPlugin.on_apply_lpkpath=function(){var _a=this._obj_elem;if(_a){var _b=this.lpkpath;if(_b){_a.setElementLicenseFile(_b);}}};_pPlugin.set_adjustalpha=function(_a){this.adjustalpha=nexacro._toBoolean(_a);this.on_apply_adjustalpha();};_pPlugin.on_apply_adjustalpha=function(){var _a=this._obj_elem;if(_a){var _b=this.adjustalpha;if(_b){_a.setElementAdjustAlpha(_b);}}};_pPlugin.set_usepersistdata=function(_a){this.userpersistdata=_a;this.on_apply_usepersistdata();};_pPlugin.on_apply_usepersistdata=function(){var _a=this._obj_elem;if(_a){var _b=this.usepersistdata;if(_b){_a.setElementUsePersistData(_b);}}};_pPlugin.set_windowed=function(_a){this.windowed=nexacro._toBoolean(_a);};_pPlugin.on_apply_windowed=function(){var _a=this._obj_elem;if(_a){var _b=this.windowed;if(_b){_a.setElementWindowed(_b);}}};_pPlugin.set_popupstyle=function(_a){this.popupstyle=nexacro._toBoolean(_a);this.on_apply_popupstyle();};_pPlugin.on_apply_popupstyle=function(){var _a=this._obj_elem;if(_a){var _b=this.popupstyle;if(_b){_a.setElementPopupStyle(_b);}}};_pPlugin.install=function(){var _a=this._obj_elem;if(_a){_a.install();}};_pPlugin.isInstalled=function(){var _a=this._obj_elem;if(_a){return _a.isInstalled();}return false;};_pPlugin.isLoaded=function(){var _a=this._obj_elem;if(_a){return _a.isLoaded();}return false;};_pPlugin.setProperty=function(_a,_b){var _c="set_"+_a;var _d=this[_c];if(_d){_d.call(this,_b);}else{var _e=this._obj_elem;if(_e){if(_a.toLowerCase()=="movie"){_e.setElementPluginSrc(_b);_e.setElementPluginMIMEType("application/x-shockwave-flash");_e.setElementParam('wmode',"Transparent");}_e.setElementParam(_a,_b);}else{this._params.add_item(_a,_b);}}};_pPlugin.getProperty=function(_a){var _b;var _c=this._obj_elem;if(_c){_b=_c.getElementParam(_a);}else{this._params.get_item(_a);}if(_b==null){_b=this[_a];}return _b;};_pPlugin.callMethod=function(){var _a=this._obj_elem;if(_a){for(var _c=0;_c<arguments.length;_c++ ){if(arguments[_c] instanceof nexacro.Plugin){var _b=arguments[_c]._obj_elem;if(_b){arguments[_c]=_b.getPluginObject();}}}return _a.callMethod.apply(_a,arguments);}};_pPlugin._fireEvent=function(){var _a,_b;var _c=this._user_handlers;var _d=_c.length;for(var _a=0;_a<_d;_a++ ){h=_c[_a];if(h){_b=h.handler.apply(h.target,arguments);}}return _b;};_pPlugin.addEventHandler=function(_a,_b,_c){var _d=false;var _e=this._obj_elem;if(_e){_d=_e.addEventHandler(_a,_b);}if(_d==false){this._events.add_item(_a,_b);}if(_a in this._event_list==false){this._event_list[_a]=1;}nexacro.Component.prototype.addEventHandler.call(this,_a,_b,_c);if(this[_a]){this[_a]._firePluginEvent=_pPlugin._fireEvent;}};_pPlugin.removeEventHandler=function(_a,_b,_c){var _d=this._obj_elem;if(_d){_d.removeEventHandler(_a,_b);}else{this._events.delete_item(_a);}nexacro.Component.prototype.removeEventHandler.call(this,_a,_b,_c);};delete _pPlugin;}if(nexacro.Browser!="Runtime"&&!nexacro._isHybrid()){!function(_a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=_a();}else if("function"==typeof define&&define.amd){define([],_a);}else{var _b;"undefined"!=typeof window?_b=window:"undefined"!=typeof global?_b=global:"undefined"!=typeof self&&(_b=self),_b.SockJS=_a();}}(function(){var _a,_b,_c;return (function e(_d,_e,_f){function s(_h,_i){if(!_e[_h]){if(!_d[_h]){var _j=typeof require=="function"&&require;if(!_i&&_j){return _j(_h,!0);}if(_g){return _g(_h,!0);}var _k=new Error("Cannot find module '"+_h+"'");throw _k.code="MODULE_NOT_FOUND",_k;}var _l=_e[_h]={exports:{}};_d[_h][0].call(_l.exports,function(_m){var _e=_d[_h][1][_m];return s(_e?_e:_m);},_l,_l.exports,e,_d,_e,_f);}return _e[_h].exports;}var _g=typeof require=="function"&&require;for(var _h=0;_h<_f.length;_h++ ){s(_f[_h]);}return s;})({1:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('./transport-list');_b.exports=_d('./main')(_f);if('_sockjs_onload' in _e){setTimeout(_e._sockjs_onload,1);}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"./main":14,"./transport-list":16}],2:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./event');function CloseEvent(){_f.call(this);this.initEvent('close',false,false);this.wasClean=false;this.code=0;this.reason='';}_e(CloseEvent,_f);_b.exports=CloseEvent;},{"./event":4,"inherits":57}],3:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./eventtarget');function EventEmitter(){_f.call(this);}_e(EventEmitter,_f);EventEmitter.prototype.removeAllListeners=function(_g){if(_g){delete this._listeners[_g];}else{this._listeners={};}};EventEmitter.prototype.once=function(_g,_h){var _i=this,_j=false;function g(){_i.removeListener(_g,g);if(!_j){_j=true;_h.apply(this,arguments);}}this.on(_g,g);};EventEmitter.prototype.emit=function(){var _g=arguments[0];var _h=this._listeners[_g];if(!_h){return;}var _i=arguments.length;var _j=new Array(_i-1);for(var _k=1;_k<_i;_k++ ){_j[_k-1]=arguments[_k];}for(var _l=0;_l<_h.length;_l++ ){_h[_l].apply(this,_j);}};EventEmitter.prototype.on=EventEmitter.prototype.addListener=_f.prototype.addEventListener;EventEmitter.prototype.removeListener=_f.prototype.removeEventListener;_b.exports.EventEmitter=EventEmitter;},{"./eventtarget":5,"inherits":57}],4:[function(_d,_b,_c){'use strict';function Event(_e){this.type=_e;}Event.prototype.initEvent=function(_e,_f,_g){this.type=_e;this.bubbles=_f;this.cancelable=_g;this.timeStamp= +new Date();return this;};Event.prototype.stopPropagation=function(){};Event.prototype.preventDefault=function(){};Event.CAPTURING_PHASE=1;Event.AT_TARGET=2;Event.BUBBLING_PHASE=3;_b.exports=Event;},{}],5:[function(_d,_b,_c){'use strict';function EventTarget(){this._listeners={};}EventTarget.prototype.addEventListener=function(_e,_f){if(!(_e in this._listeners)){this._listeners[_e]=[];}var _g=this._listeners[_e];if(_g.indexOf(_f)=== -1){_g=_g.concat([_f]);}this._listeners[_e]=_g;};EventTarget.prototype.removeEventListener=function(_e,_f){var _g=this._listeners[_e];if(!_g){return;}var _h=_g.indexOf(_f);if(_h!== -1){if(_g.length>1){this._listeners[_e]=_g.slice(0,_h).concat(_g.slice(_h+1));}else{delete this._listeners[_e];}return;}};EventTarget.prototype.dispatchEvent=function(){var _e=arguments[0];var _f=_e.type;var _g=arguments.length===1?[_e]:Array.apply(null,arguments);if(this['on'+_f]){this['on'+_f].apply(this,_g);}if(_f in this._listeners){var _h=this._listeners[_f];for(var _i=0;_i<_h.length;_i++ ){_h[_i].apply(this,_g);}}};_b.exports=EventTarget;},{}],6:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./event');function TransportMessageEvent(_g){_f.call(this);this.initEvent('message',false,false);this.data=_g;}_e(TransportMessageEvent,_f);_b.exports=TransportMessageEvent;},{"./event":4,"inherits":57}],7:[function(_d,_b,_c){'use strict';var _e=_d('json3'),_f=_d('./utils/iframe');function FacadeJS(_g){this._transport=_g;_g.on('message',this._transportMessage.bind(this));_g.on('close',this._transportClose.bind(this));}FacadeJS.prototype._transportClose=function(_g,_h){_f.postMessage('c',_e.stringify([_g,_h]));};FacadeJS.prototype._transportMessage=function(_g){_f.postMessage('t',_g);};FacadeJS.prototype._send=function(_g){this._transport.send(_g);};FacadeJS.prototype._close=function(){this._transport.close();this._transport.removeAllListeners();};_b.exports=FacadeJS;},{"./utils/iframe":47,"json3":58}],8:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('./utils/url'),_g=_d('./utils/event'),_h=_d('json3'),_i=_d('./facade'),_j=_d('./info-iframe-receiver'),_k=_d('./utils/iframe'),_l=_d('./location');var _m=function(){};if(_e.env.NODE_ENV!=='production'){_m=_d('debug')('sockjs-client:iframe-bootstrap');}_b.exports=function(_n,_o){var _p={};_o.forEach(function(_r){if(_r.facadeTransport){_p[_r.facadeTransport.transportName]=_r.facadeTransport;}});_p[_j.transportName]=_j;var _q;_n.bootstrap_iframe=function(){var _r;_k.currentWindowId=_l.hash.slice(1);var _s=function(_t){if(_t.source!==parent){return;}if(typeof _q==='undefined'){_q=_t.origin;}if(_t.origin!==_q){return;}var _u;try{_u=_h.parse(_t.data);}catch(ignored){_m('bad json',_t.data);return;}if(_u.windowId!==_k.currentWindowId){return;}switch(_u.type){case 's':var _v;try{_v=_h.parse(_u.data);}catch(ignored){_m('bad json',_u.data);break;}var _w=_v[0];var _x=_v[1];var _y=_v[2];var _z=_v[3];_m(_w,_x,_y,_z);if(_w!==_n.version){throw new Error('Incompatible SockJS! Main site uses:'+' "'+_w+'", the iframe:'+' "'+_n.version+'".');}if(!_f.isOriginEqual(_y,_l.href)||!_f.isOriginEqual(_z,_l.href)){throw new Error('Can\'t connect to different domain from within an '+'iframe. ('+_l.href+', '+_y+', '+_z+')');}_r=new _i(new _p[_x](_y,_z));break;case 'm':_r._send(_u.data);break;case 'c':if(_r){_r._close();}_r=null;break;}};_g.attachEvent('message',_s);_k.postMessage('s');};};}).call(this,{env:{}});},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,"debug":54,"json3":58}],9:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('events').EventEmitter,_g=_d('inherits'),_h=_d('json3'),_i=_d('./utils/object');var _j=function(){};if(_e.env.NODE_ENV!=='production'){_j=_d('debug')('sockjs-client:info-ajax');}function InfoAjax(_k,_l){_f.call(this);var _m=this;var _n= +new Date();this.xo=new _l('GET',_k);this.xo.once('finish',function(_o,_p){var _q,_r;if(_o===200){_r=( +new Date())-_n;if(_p){try{_q=_h.parse(_p);}catch(e){_j('bad json',_p);}}if(!_i.isObject(_q)){_q={};}}_m.emit('finish',_q,_r);_m.removeAllListeners();});}_g(InfoAjax,_f);InfoAjax.prototype.close=function(){this.removeAllListeners();this.xo.close();};_b.exports=InfoAjax;}).call(this,{env:{}});},{"./utils/object":49,"debug":54,"events":3,"inherits":57,"json3":58}],10:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('events').EventEmitter,_g=_d('json3'),_h=_d('./transport/sender/xhr-local'),_i=_d('./info-ajax');function InfoReceiverIframe(_j){var _k=this;_f.call(this);this.ir=new _i(_j,_h);this.ir.once('finish',function(_l,_m){_k.ir=null;_k.emit('message',_g.stringify([_l,_m]));});}_e(InfoReceiverIframe,_f);InfoReceiverIframe.transportName='iframe-info-receiver';InfoReceiverIframe.prototype.close=function(){if(this.ir){this.ir.close();this.ir=null;}this.removeAllListeners();};_b.exports=InfoReceiverIframe;},{"./info-ajax":9,"./transport/sender/xhr-local":37,"events":3,"inherits":57,"json3":58}],11:[function(_d,_b,_c){(function(_e,_f){'use strict';var _g=_d('events').EventEmitter,_h=_d('inherits'),_i=_d('json3'),_j=_d('./utils/event'),_k=_d('./transport/iframe'),_l=_d('./info-iframe-receiver');var _m=function(){};if(_e.env.NODE_ENV!=='production'){_m=_d('debug')('sockjs-client:info-iframe');}function InfoIframe(_n,_o){var _p=this;_g.call(this);var _q=function(){var _r=_p.ifr=new _k(_l.transportName,_o,_n);_r.once('message',function(_s){if(_s){var _t;try{_t=_i.parse(_s);}catch(e){_m('bad json',_s);_p.emit('finish');_p.close();return;}var _u=_t[0],_v=_t[1];_p.emit('finish',_u,_v);}_p.close();});_r.once('close',function(){_p.emit('finish');_p.close();});};if(!_f.document.body){_j.attachEvent('load',_q);}else{_q();}}_h(InfoIframe,_g);InfoIframe.enabled=function(){return _k.enabled();};InfoIframe.prototype.close=function(){if(this.ifr){this.ifr.close();}this.removeAllListeners();this.ifr=null;};_b.exports=InfoIframe;}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,"debug":54,"events":3,"inherits":57,"json3":58}],12:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('events').EventEmitter,_g=_d('inherits'),_h=_d('./utils/url'),_i=_d('./transport/sender/xdr'),_j=_d('./transport/sender/xhr-cors'),_k=_d('./transport/sender/xhr-local'),_l=_d('./transport/sender/xhr-fake'),_m=_d('./info-iframe'),_n=_d('./info-ajax');var _o=function(){};if(_e.env.NODE_ENV!=='production'){_o=_d('debug')('sockjs-client:info-receiver');}function InfoReceiver(_p,_q){_o(_p);var _r=this;_f.call(this);setTimeout(function(){_r.doXhr(_p,_q);},0);}_g(InfoReceiver,_f);InfoReceiver._getReceiver=function(_p,_q,_r){if(_r.sameOrigin){return new _n(_q,_k);}if(_j.enabled){return new _n(_q,_j);}if(_i.enabled&&_r.sameScheme){return new _n(_q,_i);}if(_m.enabled()){return new _m(_p,_q);}return new _n(_q,_l);};InfoReceiver.prototype.doXhr=function(_p,_q){var _r=this,_s=_h.addPath(_p,'/info');_o('doXhr',_s);this.xo=InfoReceiver._getReceiver(_p,_s,_q);this.timeoutRef=setTimeout(function(){_o('timeout');_r._cleanup(false);_r.emit('finish');},InfoReceiver.timeout);this.xo.once('finish',function(_t,_u){_o('finish',_t,_u);_r._cleanup(true);_r.emit('finish',_t,_u);});};InfoReceiver.prototype._cleanup=function(_p){_o('_cleanup');clearTimeout(this.timeoutRef);this.timeoutRef=null;if(!_p&&this.xo){this.xo.close();}this.xo=null;};InfoReceiver.prototype.close=function(){_o('close');this.removeAllListeners();this._cleanup(false);};InfoReceiver.timeout=8000;_b.exports=InfoReceiver;}).call(this,{env:{}});},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,"debug":54,"events":3,"inherits":57}],13:[function(_d,_b,_c){(function(_e){'use strict';_b.exports=_e.location||{origin:'http://localhost:80',protocol:'http',host:'localhost',port:80,href:'http://localhost/',hash:''};}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],14:[function(_d,_b,_c){(function(_e,_f){'use strict';_d('./shims');var _g=_d('url-parse'),_h=_d('inherits'),_i=_d('json3'),_j=_d('./utils/random'),_k=_d('./utils/escape'),_l=_d('./utils/url'),_m=_d('./utils/event'),_n=_d('./utils/transport'),_o=_d('./utils/object'),_p=_d('./utils/browser'),_q=_d('./utils/log'),_r=_d('./event/event'),_s=_d('./event/eventtarget'),_t=_d('./location'),_u=_d('./event/close'),_v=_d('./event/trans-message'),_w=_d('./info-receiver');var _x=function(){};if(_e.env.NODE_ENV!=='production'){_x=_d('debug')('sockjs-client:main');}var _y;function SockJS(_z,_aa,_ab){if(!(this instanceof SockJS)){return new SockJS(_z,_aa,_ab);}if(arguments.length<1){throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");}_s.call(this);this.readyState=SockJS.CONNECTING;this.extensions='';this.protocol='';_ab=_ab||{};if(_ab.protocols_whitelist){_q.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead.");}this._transportsWhitelist=_ab.transports;this._transportOptions=_ab.transportOptions||{};var _ac=_ab.sessionId||8;if(typeof _ac==='function'){this._generateSessionId=_ac;}else if(typeof _ac==='number'){this._generateSessionId=function(){return _j.string(_ac);};}else{throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');}this._server=_ab.server||_j.numberString(1000);var _ad=new _g(_z);if(!_ad.host||!_ad.protocol){throw new SyntaxError("The URL '"+_z+"' is invalid");}else if(_ad.hash){throw new SyntaxError('The URL must not contain a fragment');}else if(_ad.protocol!=='http:'&&_ad.protocol!=='https:'){throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+_ad.protocol+"' is not allowed.");}var _ae=_ad.protocol==='https:';if(_t.protocol==='https'&&!_ae){throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');}if(!_aa){_aa=[];}else if(!Array.isArray(_aa)){_aa=[_aa];}var _af=_aa.sort();_af.forEach(function(_ah,_ai){if(!_ah){throw new SyntaxError("The protocols entry '"+_ah+"' is invalid.");}if(_ai<(_af.length-1)&&_ah===_af[_ai+1]){throw new SyntaxError("The protocols entry '"+_ah+"' is duplicated.");}});var _ag=_l.getOrigin(_t.href);this._origin=_ag?_ag.toLowerCase():null;_ad.set('pathname',_ad.pathname.replace(/\/+$/,''));this.url=_ad.href;_x('using url',this.url);this._urlInfo={nullOrigin:!_p.hasDomain(),sameOrigin:_l.isOriginEqual(this.url,_t.href),sameScheme:_l.isSchemeEqual(this.url,_t.href)};this._ir=new _w(this.url,this._urlInfo);this._ir.once('finish',this._receiveInfo.bind(this));}_h(SockJS,_s);function userSetCode(_z){return _z===1000||(_z>=3000&&_z<=4999);}SockJS.prototype.close=function(_z,_aa){if(_z&&!userSetCode(_z)){throw new Error('InvalidAccessError: Invalid code');}if(_aa&&_aa.length>123){throw new SyntaxError('reason argument has an invalid length');}if(this.readyState===SockJS.CLOSING||this.readyState===SockJS.CLOSED){return;}var _ab=true;this._close(_z||1000,_aa||'Normal closure',_ab);};SockJS.prototype.send=function(_z){if(typeof _z!=='string'){_z=''+_z;}if(this.readyState===SockJS.CONNECTING){throw new Error('InvalidStateError: The connection has not been established yet');}if(this.readyState!==SockJS.OPEN){return;}this._transport.send(_k.quote(_z));};SockJS.version=_d('./version');SockJS.CONNECTING=0;SockJS.OPEN=1;SockJS.CLOSING=2;SockJS.CLOSED=3;SockJS.prototype._receiveInfo=function(_z,_aa){_x('_receiveInfo',_aa);this._ir=null;if(!_z){this._close(1002,'Cannot connect to server');return;}this._rto=this.countRTO(_aa);this._transUrl=_z.base_url?_z.base_url:this.url;_z=_o.extend(_z,this._urlInfo);_x('info',_z);var _ab=_y.filterToEnabled(this._transportsWhitelist,_z);this._transports=_ab.main;_x(this._transports.length+' enabled transports');this._connect();};SockJS.prototype._connect=function(){for(var _ad=this._transports.shift();_ad;_ad=this._transports.shift()){_x('attempt',_ad.transportName);if(_ad.needBody){if(!_f.document.body||(typeof _f.document.readyState!=='undefined'&&_f.document.readyState!=='complete'&&_f.document.readyState!=='interactive')){_x('waiting for body');this._transports.unshift(_ad);_m.attachEvent('load',this._connect.bind(this));return;}}var _z=(this._rto*_ad.roundTrips)||5000;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),_z);_x('using timeout',_z);var _aa=_l.addPath(this._transUrl,'/'+this._server+'/'+this._generateSessionId());var _ab=this._transportOptions[_ad.transportName];_x('transport url',_aa);var _ac=new _ad(_aa,this._transUrl,_ab);_ac.on('message',this._transportMessage.bind(this));_ac.once('close',this._transportClose.bind(this));_ac.transportName=_ad.transportName;this._transport=_ac;return;}this._close(2000,'All transports failed',false);};SockJS.prototype._transportTimeout=function(){_x('_transportTimeout');if(this.readyState===SockJS.CONNECTING){this._transportClose(2007,'Transport timed out');}};SockJS.prototype._transportMessage=function(_z){_x('_transportMessage',_z);var _aa=this,_ab=_z.slice(0,1),_ac=_z.slice(1),_ad;switch(_ab){case 'o':this._open();return;case 'h':this.dispatchEvent(new _r('heartbeat'));_x('heartbeat',this.transport);return;}if(_ac){try{_ad=_i.parse(_ac);}catch(e){_x('bad json',_ac);}}if(typeof _ad==='undefined'){_x('empty payload',_ac);return;}switch(_ab){case 'a':if(Array.isArray(_ad)){_ad.forEach(function(_ae){_x('message',_aa.transport,_ae);_aa.dispatchEvent(new _v(_ae));});}break;case 'm':_x('message',this.transport,_ad);this.dispatchEvent(new _v(_ad));break;case 'c':if(Array.isArray(_ad)&&_ad.length===2){this._close(_ad[0],_ad[1],true);}break;}};SockJS.prototype._transportClose=function(_z,_aa){_x('_transportClose',this.transport,_z,_aa);if(this._transport){this._transport.removeAllListeners();this._transport=null;this.transport=null;}if(!userSetCode(_z)&&_z!==2000&&this.readyState===SockJS.CONNECTING){this._connect();return;}this._close(_z,_aa);};SockJS.prototype._open=function(){_x('_open',this._transport.transportName,this.readyState);if(this.readyState===SockJS.CONNECTING){if(this._transportTimeoutId){clearTimeout(this._transportTimeoutId);this._transportTimeoutId=null;}this.readyState=SockJS.OPEN;this.transport=this._transport.transportName;this.dispatchEvent(new _r('open'));_x('connected',this.transport);}else{this._close(1006,'Server lost session');}};SockJS.prototype._close=function(_z,_aa,_ab){_x('_close',this.transport,_z,_aa,_ab,this.readyState);var _ac=false;if(this._ir){_ac=true;this._ir.close();this._ir=null;}if(this._transport){this._transport.close();this._transport=null;this.transport=null;}if(this.readyState===SockJS.CLOSED){throw new Error('InvalidStateError: SockJS has already been closed');}this.readyState=SockJS.CLOSING;setTimeout(function(){this.readyState=SockJS.CLOSED;if(_ac){this.dispatchEvent(new _r('error'));}var _ad=new _u('close');_ad.wasClean=_ab||false;_ad.code=_z||1000;_ad.reason=_aa;this.dispatchEvent(_ad);this.onmessage=this.onclose=this.onerror=null;_x('disconnected');}.bind(this),0);};SockJS.prototype.countRTO=function(_z){if(_z>100){return 4*_z;}return 300+_z;};_b.exports=function(_z){_y=_n(_z);_d('./iframe-bootstrap')(SockJS,_z);return SockJS;};}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,"debug":54,"inherits":57,"json3":58,"url-parse":59}],15:[function(_d,_b,_c){'use strict';var _e=Array.prototype;var _f=Object.prototype;var _g=Function.prototype;var _h=String.prototype;var _i=_e.slice;var _j=_f.toString;var _k=function(_ae){return _f.toString.call(_ae)==='[object Function]';};var _l=function(_ae){return _j.call(_ae)==='[object Array]';};var _m=function(_ae){return _j.call(_ae)==='[object String]';};var _n=Object.defineProperty&&(function(){try{Object.defineProperty({},'x',{});return true;}catch(e){return false;}}());var _o;if(_n){_o=function(_ae,_af,_ag,_ah){if(!_ah&&(_af in _ae)){return;}Object.defineProperty(_ae,_af,{configurable:true,enumerable:false,writable:true,value:_ag});};}else{_o=function(_ae,_af,_ag,_ah){if(!_ah&&(_af in _ae)){return;}_ae[_af]=_ag;};}var _p=function(_ae,_af,_ag){for(var _ah in _af){if(_f.hasOwnProperty.call(_af,_ah)){_o(_ae,_ah,_af[_ah],_ag);}}};var _q=function(_ae){if(_ae==null){throw new TypeError("can't convert "+_ae+' to object');}return Object(_ae);};function toInteger(_ae){var _af= +_ae;if(_af!==_af){_af=0;}else if(_af!==0&&_af!==(1/0)&&_af!== -(1/0)){_af=(_af>0|| -1)*Math.floor(Math.abs(_af));}return _af;}function ToUint32(_ae){return _ae>>>0;}function Empty(){}_p(_g,{bind:function(_ae){var _af=this;if(!_k(_af)){throw new TypeError('Function.prototype.bind called on incompatible '+_af);}var _ag=_i.call(arguments,1);var _ah=function(){if(this instanceof _ak){var _al=_af.apply(this,_ag.concat(_i.call(arguments)));if(Object(_al)===_al){return _al;}return this;}else{return _af.apply(_ae,_ag.concat(_i.call(arguments)));}};var _ai=Math.max(0,_af.length-_ag.length);var _aj=[];for(var _al=0;_al<_ai;_al++ ){_aj.push('$'+_al);}var _ak=Function('binder','return function ('+_aj.join(',')+'){ return binder.apply(this, arguments); }')(_ah);if(_af.prototype){Empty.prototype=_af.prototype;_ak.prototype=new Empty();Empty.prototype=null;}return _ak;}});_p(Array,{isArray:_l});var _r=Object('a');var _s=_r[0]!=='a'||!(0 in _r);var _t=function properlyBoxed(_ae){var _af=true;var _ag=true;if(_ae){_ae.call('foo',function(_ah,_ai,_aj){if(typeof _aj!=='object'){_af=false;}});_ae.call([1],function(){'use strict';_ag=typeof this==='string';},'x');}return !!_ae&&_af&&_ag;};;_p(_e,{forEach:function(_ae){var _af=_q(this),_ag=_s&&_m(this)?this.split(''):_af,_ah=arguments[1],_ai= -1,_aj=_ag.length>>>0;if(!_k(_ae)){throw new TypeError();}while( ++_ai<_aj){if(_ai in _ag){_ae.call(_ah,_ag[_ai],_ai,_af);}}}},!_t(_e.forEach));var _u=Array.prototype.indexOf&&[0,1].indexOf(1,2)!== -1;_p(_e,{indexOf:function(_ae){var _af=_s&&_m(this)?this.split(''):_q(this),_ag=_af.length>>>0;if(!_ag){return  -1;}var _ah=0;if(arguments.length>1){_ah=toInteger(arguments[1]);}_ah=_ah>=0?_ah:Math.max(0,_ag+_ah);for(;_ah<_ag;_ah++ ){if(_ah in _af&&_af[_ah]===_ae){return _ah;}}return  -1;}},_u);var _v=_h.split;if('ab'.split(/(?:ab)*/).length!==2||'.'.split(/(.?)(.?)/).length!==4||'tesst'.split(/(s)*/)[1]==='t'||'test'.split(/(?:)/, -1).length!==4||''.split(/.?/).length||'.'.split(/()()/).length>1){(function(){var _ae=/()??/.exec('')[1]===void 0;_h.split=function(_af,_ag){var _ah=this;if(_af===void 0&&_ag===0){return [];}if(_j.call(_af)!=='[object RegExp]'){return _v.call(this,_af,_ag);}var _ai=[],_aj=(_af.ignoreCase?'i':'')+(_af.multiline?'m':'')+(_af.extended?'x':'')+(_af.sticky?'y':''),_ak=0,_al,_am,_an,_ao;_af=new RegExp(_af.source,_aj+'g');_ah+='';if(!_ae){_al=new RegExp('^'+_af.source+'$(?!\\s)',_aj);}_ag=_ag===void 0? -1>>>0:ToUint32(_ag);while(_am=_af.exec(_ah)){_an=_am.index+_am[0].length;if(_an>_ak){_ai.push(_ah.slice(_ak,_am.index));if(!_ae&&_am.length>1){_am[0].replace(_al,function(){for(var _ap=1;_ap<arguments.length-2;_ap++ ){if(arguments[_ap]===void 0){_am[_ap]=void 0;}}});}if(_am.length>1&&_am.index<_ah.length){_e.push.apply(_ai,_am.slice(1));}_ao=_am[0].length;_ak=_an;if(_ai.length>=_ag){break;}}if(_af.lastIndex===_am.index){_af.lastIndex++ ;}}if(_ak===_ah.length){if(_ao||!_af.test('')){_ai.push('');}}else{_ai.push(_ah.slice(_ak));}return _ai.length>_ag?_ai.slice(0,_ag):_ai;};}());}else if('0'.split(void 0,0).length){_h.split=function split(_ae,_af){if(_ae===void 0&&_af===0){return [];}return _v.call(this,_ae,_af);};}var _w='\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003'+'\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028'+'\u2029\uFEFF';var _x='\u200b';var _y='['+_w+']';var _z=new RegExp('^'+_y+_y+'*');var _aa=new RegExp(_y+_y+'*$');var _ab=_h.trim&&(_w.trim()||!_x.trim());_p(_h,{trim:function(){if(this===void 0||this===null){throw new TypeError("can't convert "+this+' to object');}return String(this).replace(_z,'').replace(_aa,'');}},_ab);var _ac=_h.substr;var _ad=''.substr&&'0b'.substr( -1)!=='b';_p(_h,{substr:function(_ae,_af){return _ac.call(this,_ae<0?((_ae=this.length+_ae)<0?0:_ae):_ae,_af);}},_ad);},{}],16:[function(_d,_b,_c){'use strict';_b.exports=[_d('./transport/websocket'),_d('./transport/xhr-streaming'),_d('./transport/xdr-streaming'),_d('./transport/eventsource'),_d('./transport/lib/iframe-wrap')(_d('./transport/eventsource')),_d('./transport/htmlfile'),_d('./transport/lib/iframe-wrap')(_d('./transport/htmlfile')),_d('./transport/xhr-polling'),_d('./transport/xdr-polling'),_d('./transport/lib/iframe-wrap')(_d('./transport/xhr-polling')),_d('./transport/jsonp-polling')];},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(_d,_b,_c){(function(_e,_f){'use strict';var _g=_d('events').EventEmitter,_h=_d('inherits'),_i=_d('../../utils/event'),_j=_d('../../utils/url'),_k=_f.XMLHttpRequest;var _l=function(){};if(_e.env.NODE_ENV!=='production'){_l=_d('debug')('sockjs-client:browser:xhr');}function AbstractXHRObject(_o,_p,_q,_r){_l(_o,_p);var _s=this;_g.call(this);setTimeout(function(){_s._start(_o,_p,_q,_r);},0);}_h(AbstractXHRObject,_g);AbstractXHRObject.prototype._start=function(_o,_p,_q,_r){var _s=this;try{this.xhr=new _k();}catch(x){}if(!this.xhr){_l('no xhr');this.emit('finish',0,'no xhr support');this._cleanup();return;}_p=_j.addQuery(_p,'t='+( +new Date()));this.unloadRef=_i.unloadAdd(function(){_l('unload cleanup');_s._cleanup(true);});try{this.xhr.open(_o,_p,true);if(this.timeout&&'timeout' in this.xhr){this.xhr.timeout=this.timeout;this.xhr.ontimeout=function(){_l('xhr timeout');_s.emit('finish',0,'');_s._cleanup(false);};}}catch(e){_l('exception',e);this.emit('finish',0,'');this._cleanup(false);return;}if((!_r||!_r.noCredentials)&&AbstractXHRObject.supportsCORS){_l('withCredentials');this.xhr.withCredentials='true';}if(_r&&_r.headers){for(var _t in _r.headers){this.xhr.setRequestHeader(_t,_r.headers[_t]);}}this.xhr.onreadystatechange=function(){if(_s.xhr){var _u=_s.xhr;var _v,_w;_l('readyState',_u.readyState);switch(_u.readyState){case 3:try{_w=_u.status;_v=_u.responseText;}catch(e){}_l('status',_w);if(_w===1223){_w=204;}if(_w===200&&_v&&_v.length>0){_l('chunk');_s.emit('chunk',_w,_v);}break;case 4:_w=_u.status;_l('status',_w);if(_w===1223){_w=204;}if(_w===12005||_w===12029){_w=0;}_l('finish',_w,_u.responseText);_s.emit('finish',_w,_u.responseText);_s._cleanup(false);break;}}};try{_s.xhr.send(_q);}catch(e){_s.emit('finish',0,'');_s._cleanup(false);}};AbstractXHRObject.prototype._cleanup=function(_o){_l('cleanup');if(!this.xhr){return;}this.removeAllListeners();_i.unloadDel(this.unloadRef);this.xhr.onreadystatechange=function(){};if(this.xhr.ontimeout){this.xhr.ontimeout=null;}if(_o){try{this.xhr.abort();}catch(x){}}this.unloadRef=this.xhr=null;};AbstractXHRObject.prototype.close=function(){_l('close');this._cleanup(true);};AbstractXHRObject.enabled=!!_k;var _m=['Active'].concat('Object').join('X');if(!AbstractXHRObject.enabled&&(_m in _f)){_l('overriding xmlhttprequest');_k=function(){try{return new _f[_m]('Microsoft.XMLHTTP');}catch(e){return null;}};AbstractXHRObject.enabled=!!new _k();}var _n=false;try{_n='withCredentials' in new _k();}catch(ignored){}AbstractXHRObject.supportsCORS=_n;_b.exports=AbstractXHRObject;}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../../utils/event":46,"../../utils/url":52,"debug":54,"events":3,"inherits":57}],18:[function(_d,_b,_c){(function(_e){_b.exports=_e.EventSource;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],19:[function(_d,_b,_c){(function(_e){'use strict';var _f=_e.WebSocket||_e.MozWebSocket;if(_f){_b.exports=function WebSocketBrowserDriver(_g){return new _f(_g);};}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],20:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./lib/ajax-based'),_g=_d('./receiver/eventsource'),_h=_d('./sender/xhr-cors'),_i=_d('eventsource');function EventSourceTransport(_j){if(!EventSourceTransport.enabled()){throw new Error('Transport created when disabled');}_f.call(this,_j,'/eventsource',_g,_h);}_e(EventSourceTransport,_f);EventSourceTransport.enabled=function(){return !!_i;};EventSourceTransport.transportName='eventsource';EventSourceTransport.roundTrips=2;_b.exports=EventSourceTransport;},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,"eventsource":18,"inherits":57}],21:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./receiver/htmlfile'),_g=_d('./sender/xhr-local'),_h=_d('./lib/ajax-based');function HtmlFileTransport(_i){if(!_f.enabled){throw new Error('Transport created when disabled');}_h.call(this,_i,'/htmlfile',_f,_g);}_e(HtmlFileTransport,_h);HtmlFileTransport.enabled=function(_i){return _f.enabled&&_i.sameOrigin;};HtmlFileTransport.transportName='htmlfile';HtmlFileTransport.roundTrips=2;_b.exports=HtmlFileTransport;},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,"inherits":57}],22:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('json3'),_h=_d('events').EventEmitter,_i=_d('../version'),_j=_d('../utils/url'),_k=_d('../utils/iframe'),_l=_d('../utils/event'),_m=_d('../utils/random');var _n=function(){};if(_e.env.NODE_ENV!=='production'){_n=_d('debug')('sockjs-client:transport:iframe');}function IframeTransport(_o,_p,_q){if(!IframeTransport.enabled()){throw new Error('Transport created when disabled');}_h.call(this);var _r=this;this.origin=_j.getOrigin(_q);this.baseUrl=_q;this.transUrl=_p;this.transport=_o;this.windowId=_m.string(8);var _s=_j.addPath(_q,'/iframe.html')+'#'+this.windowId;_n(_o,_p,_s);this.iframeObj=_k.createIframe(_s,function(_t){_n('err callback');_r.emit('close',1006,'Unable to load an iframe ('+_t+')');_r.close();});this.onmessageCallback=this._message.bind(this);_l.attachEvent('message',this.onmessageCallback);}_f(IframeTransport,_h);IframeTransport.prototype.close=function(){_n('close');this.removeAllListeners();if(this.iframeObj){_l.detachEvent('message',this.onmessageCallback);try{this.postMessage('c');}catch(x){}this.iframeObj.cleanup();this.iframeObj=null;this.onmessageCallback=this.iframeObj=null;}};IframeTransport.prototype._message=function(_o){_n('message',_o.data);if(!_j.isOriginEqual(_o.origin,this.origin)){_n('not same origin',_o.origin,this.origin);return;}var _p;try{_p=_g.parse(_o.data);}catch(ignored){_n('bad json',_o.data);return;}if(_p.windowId!==this.windowId){_n('mismatched window id',_p.windowId,this.windowId);return;}switch(_p.type){case 's':this.iframeObj.loaded();this.postMessage('s',_g.stringify([_i,this.transport,this.transUrl,this.baseUrl]));break;case 't':this.emit('message',_p.data);break;case 'c':var _q;try{_q=_g.parse(_p.data);}catch(ignored){_n('bad json',_p.data);return;}this.emit('close',_q[0],_q[1]);this.close();break;}};IframeTransport.prototype.postMessage=function(_o,_p){_n('postMessage',_o,_p);this.iframeObj.post(_g.stringify({windowId:this.windowId,type:_o,data:_p||''}),this.origin);};IframeTransport.prototype.send=function(_o){_n('send',_o);this.postMessage('m',_o);};IframeTransport.enabled=function(){return _k.iframeEnabled;};IframeTransport.transportName='iframe';IframeTransport.roundTrips=2;_b.exports=IframeTransport;}).call(this,{env:{}});},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,"debug":54,"events":3,"inherits":57,"json3":58}],23:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('./lib/sender-receiver'),_h=_d('./receiver/jsonp'),_i=_d('./sender/jsonp');function JsonPTransport(_j){if(!JsonPTransport.enabled()){throw new Error('Transport created when disabled');}_g.call(this,_j,'/jsonp',_i,_h);}_f(JsonPTransport,_g);JsonPTransport.enabled=function(){return !!_e.document;};JsonPTransport.transportName='jsonp-polling';JsonPTransport.roundTrips=1;JsonPTransport.needBody=true;_b.exports=JsonPTransport;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,"inherits":57}],24:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('../../utils/url'),_h=_d('./sender-receiver');var _i=function(){};if(_e.env.NODE_ENV!=='production'){_i=_d('debug')('sockjs-client:ajax-based');}function createAjaxSender(_j){return function(_k,_l,_m){_i('create ajax sender',_k,_l);var _n={};if(typeof _l==='string'){_n.headers={'Content-type':'text/plain'};}var _o=_g.addPath(_k,'/xhr_send');var _p=new _j('POST',_o,_l,_n);_p.once('finish',function(_q){_i('finish',_q);_p=null;if(_q!==200&&_q!==204){return _m(new Error('http status '+_q));}_m();});return function(){_i('abort');_p.close();_p=null;var _q=new Error('Aborted');_q.code=1000;_m(_q);};};}function AjaxBasedTransport(_j,_k,_l,_m){_h.call(this,_j,_k,createAjaxSender(_m),_l,_m);}_f(AjaxBasedTransport,_h);_b.exports=AjaxBasedTransport;}).call(this,{env:{}});},{"../../utils/url":52,"./sender-receiver":28,"debug":54,"inherits":57}],25:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('events').EventEmitter;var _h=function(){};if(_e.env.NODE_ENV!=='production'){_h=_d('debug')('sockjs-client:buffered-sender');}function BufferedSender(_i,_j){_h(_i);_g.call(this);this.sendBuffer=[];this.sender=_j;this.url=_i;}_f(BufferedSender,_g);BufferedSender.prototype.send=function(_i){_h('send',_i);this.sendBuffer.push(_i);if(!this.sendStop){this.sendSchedule();}};BufferedSender.prototype.sendScheduleWait=function(){_h('sendScheduleWait');var _i=this;var _j;this.sendStop=function(){_h('sendStop');_i.sendStop=null;clearTimeout(_j);};_j=setTimeout(function(){_h('timeout');_i.sendStop=null;_i.sendSchedule();},25);};BufferedSender.prototype.sendSchedule=function(){_h('sendSchedule',this.sendBuffer.length);var _i=this;if(this.sendBuffer.length>0){var _j='['+this.sendBuffer.join(',')+']';this.sendStop=this.sender(this.url,_j,function(_k){_i.sendStop=null;if(_k){_h('error',_k);_i.emit('close',_k.code||1006,'Sending error: '+_k);_i._cleanup();}else{_i.sendScheduleWait();}});this.sendBuffer=[];}};BufferedSender.prototype._cleanup=function(){_h('_cleanup');this.removeAllListeners();};BufferedSender.prototype.stop=function(){_h('stop');this._cleanup();if(this.sendStop){this.sendStop();this.sendStop=null;}};_b.exports=BufferedSender;}).call(this,{env:{}});},{"debug":54,"events":3,"inherits":57}],26:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('../iframe'),_h=_d('../../utils/object');_b.exports=function(_i){function IframeWrapTransport(_j,_k){_g.call(this,_i.transportName,_j,_k);}_f(IframeWrapTransport,_g);IframeWrapTransport.enabled=function(_j,_k){if(!_e.document){return false;}var _l=_h.extend({},_k);_l.sameOrigin=true;return _i.enabled(_l)&&_g.enabled();};IframeWrapTransport.transportName='iframe-'+_i.transportName;IframeWrapTransport.needBody=true;IframeWrapTransport.roundTrips=_g.roundTrips+_i.roundTrips-1;IframeWrapTransport.facadeTransport=_i;return IframeWrapTransport;};}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../../utils/object":49,"../iframe":22,"inherits":57}],27:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('events').EventEmitter;var _h=function(){};if(_e.env.NODE_ENV!=='production'){_h=_d('debug')('sockjs-client:polling');}function Polling(_i,_j,_k){_h(_j);_g.call(this);this.Receiver=_i;this.receiveUrl=_j;this.AjaxObject=_k;this._scheduleReceiver();}_f(Polling,_g);Polling.prototype._scheduleReceiver=function(){_h('_scheduleReceiver');var _i=this;var _j=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);_j.on('message',function(_k){_h('message',_k);_i.emit('message',_k);});_j.once('close',function(_k,_l){_h('close',_k,_l,_i.pollIsClosing);_i.poll=_j=null;if(!_i.pollIsClosing){if(_l==='network'){_i._scheduleReceiver();}else{_i.emit('close',_k||1006,_l);_i.removeAllListeners();}}});};Polling.prototype.abort=function(){_h('abort');this.removeAllListeners();this.pollIsClosing=true;if(this.poll){this.poll.abort();}};_b.exports=Polling;}).call(this,{env:{}});},{"debug":54,"events":3,"inherits":57}],28:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('../../utils/url'),_h=_d('./buffered-sender'),_i=_d('./polling');var _j=function(){};if(_e.env.NODE_ENV!=='production'){_j=_d('debug')('sockjs-client:sender-receiver');}function SenderReceiver(_k,_l,_m,_n,_o){var _p=_g.addPath(_k,_l);_j(_p);var _q=this;_h.call(this,_k,_m);this.poll=new _i(_n,_p,_o);this.poll.on('message',function(_r){_j('poll message',_r);_q.emit('message',_r);});this.poll.once('close',function(_r,_s){_j('poll close',_r,_s);_q.poll=null;_q.emit('close',_r,_s);_q.close();});}_f(SenderReceiver,_h);SenderReceiver.prototype.close=function(){_j('close');this.removeAllListeners();if(this.poll){this.poll.abort();this.poll=null;}this.stop();};_b.exports=SenderReceiver;}).call(this,{env:{}});},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,"debug":54,"inherits":57}],29:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('events').EventEmitter,_h=_d('eventsource');var _i=function(){};if(_e.env.NODE_ENV!=='production'){_i=_d('debug')('sockjs-client:receiver:eventsource');}function EventSourceReceiver(_j){_i(_j);_g.call(this);var _k=this;var _l=this.es=new _h(_j);_l.onmessage=function(_m){_i('message',_m.data);_k.emit('message',decodeURI(_m.data));};_l.onerror=function(_m){_i('error',_l.readyState,_m);var _n=(_l.readyState!==2?'network':'permanent');_k._cleanup();_k._close(_n);};}_f(EventSourceReceiver,_g);EventSourceReceiver.prototype.abort=function(){_i('abort');this._cleanup();this._close('user');};EventSourceReceiver.prototype._cleanup=function(){_i('cleanup');var _j=this.es;if(_j){_j.onmessage=_j.onerror=null;_j.close();this.es=null;}};EventSourceReceiver.prototype._close=function(_j){_i('close',_j);var _k=this;setTimeout(function(){_k.emit('close',null,_j);_k.removeAllListeners();},200);};_b.exports=EventSourceReceiver;}).call(this,{env:{}});},{"debug":54,"events":3,"eventsource":18,"inherits":57}],30:[function(_d,_b,_c){(function(_e,_f){'use strict';var _g=_d('inherits'),_h=_d('../../utils/iframe'),_i=_d('../../utils/url'),_j=_d('events').EventEmitter,_k=_d('../../utils/random');var _l=function(){};if(_e.env.NODE_ENV!=='production'){_l=_d('debug')('sockjs-client:receiver:htmlfile');}function HtmlfileReceiver(_n){_l(_n);_j.call(this);var _o=this;_h.polluteGlobalNamespace();this.id='a'+_k.string(6);_n=_i.addQuery(_n,'c='+decodeURIComponent(_h.WPrefix+'.'+this.id));_l('using htmlfile',HtmlfileReceiver.htmlfileEnabled);var _p=HtmlfileReceiver.htmlfileEnabled?_h.createHtmlfile:_h.createIframe;_f[_h.WPrefix][this.id]={start:function(){_l('start');_o.iframeObj.loaded();},message:function(_q){_l('message',_q);_o.emit('message',_q);},stop:function(){_l('stop');_o._cleanup();_o._close('network');}};this.iframeObj=_p(_n,function(){_l('callback');_o._cleanup();_o._close('permanent');});}_g(HtmlfileReceiver,_j);HtmlfileReceiver.prototype.abort=function(){_l('abort');this._cleanup();this._close('user');};HtmlfileReceiver.prototype._cleanup=function(){_l('_cleanup');if(this.iframeObj){this.iframeObj.cleanup();this.iframeObj=null;}delete _f[_h.WPrefix][this.id];};HtmlfileReceiver.prototype._close=function(_n){_l('_close',_n);this.emit('close',null,_n);this.removeAllListeners();};HtmlfileReceiver.htmlfileEnabled=false;var _m=['Active'].concat('Object').join('X');if(_m in _f){try{HtmlfileReceiver.htmlfileEnabled=!!new _f[_m]('htmlfile');}catch(x){}}HtmlfileReceiver.enabled=HtmlfileReceiver.htmlfileEnabled||_h.iframeEnabled;_b.exports=HtmlfileReceiver;}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":54,"events":3,"inherits":57}],31:[function(_d,_b,_c){(function(_e,_f){'use strict';var _g=_d('../../utils/iframe'),_h=_d('../../utils/random'),_i=_d('../../utils/browser'),_j=_d('../../utils/url'),_k=_d('inherits'),_l=_d('events').EventEmitter;var _m=function(){};if(_e.env.NODE_ENV!=='production'){_m=_d('debug')('sockjs-client:receiver:jsonp');}function JsonpReceiver(_n){_m(_n);var _o=this;_l.call(this);_g.polluteGlobalNamespace();this.id='a'+_h.string(6);var _p=_j.addQuery(_n,'c='+encodeURIComponent(_g.WPrefix+'.'+this.id));_f[_g.WPrefix][this.id]=this._callback.bind(this);this._createScript(_p);this.timeoutId=setTimeout(function(){_m('timeout');_o._abort(new Error('JSONP script loaded abnormally (timeout)'));},JsonpReceiver.timeout);}_k(JsonpReceiver,_l);JsonpReceiver.prototype.abort=function(){_m('abort');if(_f[_g.WPrefix][this.id]){var _n=new Error('JSONP user aborted read');_n.code=1000;this._abort(_n);}};JsonpReceiver.timeout=35000;JsonpReceiver.scriptErrorTimeout=1000;JsonpReceiver.prototype._callback=function(_n){_m('_callback',_n);this._cleanup();if(this.aborting){return;}if(_n){_m('message',_n);this.emit('message',_n);}this.emit('close',null,'network');this.removeAllListeners();};JsonpReceiver.prototype._abort=function(_n){_m('_abort',_n);this._cleanup();this.aborting=true;this.emit('close',_n.code,_n.message);this.removeAllListeners();};JsonpReceiver.prototype._cleanup=function(){_m('_cleanup');clearTimeout(this.timeoutId);if(this.script2){this.script2.parentNode.removeChild(this.script2);this.script2=null;}if(this.script){var _n=this.script;_n.parentNode.removeChild(_n);_n.onreadystatechange=_n.onerror=_n.onload=_n.onclick=null;this.script=null;}delete _f[_g.WPrefix][this.id];};JsonpReceiver.prototype._scriptError=function(){_m('_scriptError');var _n=this;if(this.errorTimer){return;}this.errorTimer=setTimeout(function(){if(!_n.loadedOkay){_n._abort(new Error('JSONP script loaded abnormally (onerror)'));}},JsonpReceiver.scriptErrorTimeout);};JsonpReceiver.prototype._createScript=function(_n){_m('_createScript',_n);var _o=this;var _p=this.script=_f.document.createElement('script');var _q;_p.id='a'+_h.string(8);_p.src=_n;_p.type='text/javascript';_p.charset='UTF-8';_p.onerror=this._scriptError.bind(this);_p.onload=function(){_m('onload');_o._abort(new Error('JSONP script loaded abnormally (onload)'));};_p.onreadystatechange=function(){_m('onreadystatechange',_p.readyState);if(/loaded|closed/.test(_p.readyState)){if(_p&&_p.htmlFor&&_p.onclick){_o.loadedOkay=true;try{_p.onclick();}catch(x){}}if(_p){_o._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));}}};if(typeof _p.async==='undefined'&&_f.document.attachEvent){if(!_i.isOpera()){try{_p.htmlFor=_p.id;_p.event='onclick';}catch(x){}_p.async=true;}else{_q=this.script2=_f.document.createElement('script');_q.text="try{var a = document.getElementById('"+_p.id+"'); if(a)a.onerror();}catch(x){};";_p.async=_q.async=false;}}if(typeof _p.async!=='undefined'){_p.async=true;}var _r=_f.document.getElementsByTagName('head')[0];_r.insertBefore(_p,_r.firstChild);if(_q){_r.insertBefore(_q,_r.firstChild);}};_b.exports=JsonpReceiver;}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":54,"events":3,"inherits":57}],32:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('events').EventEmitter;var _h=function(){};if(_e.env.NODE_ENV!=='production'){_h=_d('debug')('sockjs-client:receiver:xhr');}function XhrReceiver(_i,_j){_h(_i);_g.call(this);var _k=this;this.bufferPosition=0;this.xo=new _j('POST',_i,null);this.xo.on('chunk',this._chunkHandler.bind(this));this.xo.once('finish',function(_l,_m){_h('finish',_l,_m);_k._chunkHandler(_l,_m);_k.xo=null;var _n=_l===200?'network':'permanent';_h('close',_n);_k.emit('close',null,_n);_k._cleanup();});}_f(XhrReceiver,_g);XhrReceiver.prototype._chunkHandler=function(_i,_j){_h('_chunkHandler',_i);if(_i!==200||!_j){return;}for(var _m= -1;;this.bufferPosition+=_m+1){var _k=_j.slice(this.bufferPosition);_m=_k.indexOf('\n');if(_m=== -1){break;}var _l=_k.slice(0,_m);if(_l){_h('message',_l);this.emit('message',_l);}}};XhrReceiver.prototype._cleanup=function(){_h('_cleanup');this.removeAllListeners();};XhrReceiver.prototype.abort=function(){_h('abort');if(this.xo){this.xo.close();_h('close');this.emit('close',null,'user');this.xo=null;}this._cleanup();};_b.exports=XhrReceiver;}).call(this,{env:{}});},{"debug":54,"events":3,"inherits":57}],33:[function(_d,_b,_c){(function(_e,_f){'use strict';var _g=_d('../../utils/random'),_h=_d('../../utils/url');var _i=function(){};if(_e.env.NODE_ENV!=='production'){_i=_d('debug')('sockjs-client:sender:jsonp');}var _j,_k;function createIframe(_l){_i('createIframe',_l);try{return _f.document.createElement('<iframe name="'+_l+'">');}catch(x){var _m=_f.document.createElement('iframe');_m.name=_l;return _m;}}function createForm(){_i('createForm');_j=_f.document.createElement('form');_j.style.display='none';_j.style.position='absolute';_j.method='POST';_j.enctype='application/x-www-form-urlencoded';_j.acceptCharset='UTF-8';_k=_f.document.createElement('textarea');_k.name='d';_j.appendChild(_k);_f.document.body.appendChild(_j);}_b.exports=function(_l,_m,_n){_i(_l,_m);if(!_j){createForm();}var _o='a'+_g.string(8);_j.target=_o;_j.action=_h.addQuery(_h.addPath(_l,'/jsonp_send'),'i='+_o);var _p=createIframe(_o);_p.id=_o;_p.style.display='none';_j.appendChild(_p);try{_k.value=_m;}catch(e){}_j.submit();var _q=function(_r){_i('completed',_o,_r);if(!_p.onerror){return;}_p.onreadystatechange=_p.onerror=_p.onload=null;setTimeout(function(){_i('cleaning up',_o);_p.parentNode.removeChild(_p);_p=null;},500);_k.value='';_n(_r);};_p.onerror=function(){_i('onerror',_o);_q();};_p.onload=function(){_i('onload',_o);_q();};_p.onreadystatechange=function(_r){_i('onreadystatechange',_o,_p.readyState,_r);if(_p.readyState==='complete'){_q();}};return function(){_i('aborted',_o);_q(new Error('Aborted'));};};}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../../utils/random":50,"../../utils/url":52,"debug":54}],34:[function(_d,_b,_c){(function(_e,_f){'use strict';var _g=_d('events').EventEmitter,_h=_d('inherits'),_i=_d('../../utils/event'),_j=_d('../../utils/browser'),_k=_d('../../utils/url');var _l=function(){};if(_e.env.NODE_ENV!=='production'){_l=_d('debug')('sockjs-client:sender:xdr');}function XDRObject(_m,_n,_o){_l(_m,_n);var _p=this;_g.call(this);setTimeout(function(){_p._start(_m,_n,_o);},0);}_h(XDRObject,_g);XDRObject.prototype._start=function(_m,_n,_o){_l('_start');var _p=this;var _q=new _f.XDomainRequest();_n=_k.addQuery(_n,'t='+( +new Date()));_q.onerror=function(){_l('onerror');_p._error();};_q.ontimeout=function(){_l('ontimeout');_p._error();};_q.onprogress=function(){_l('progress',_q.responseText);_p.emit('chunk',200,_q.responseText);};_q.onload=function(){_l('load');_p.emit('finish',200,_q.responseText);_p._cleanup(false);};this.xdr=_q;this.unloadRef=_i.unloadAdd(function(){_p._cleanup(true);});try{this.xdr.open(_m,_n);if(this.timeout){this.xdr.timeout=this.timeout;}this.xdr.send(_o);}catch(x){this._error();}};XDRObject.prototype._error=function(){this.emit('finish',0,'');this._cleanup(false);};XDRObject.prototype._cleanup=function(_m){_l('cleanup',_m);if(!this.xdr){return;}this.removeAllListeners();_i.unloadDel(this.unloadRef);this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null;if(_m){try{this.xdr.abort();}catch(x){}}this.unloadRef=this.xdr=null;};XDRObject.prototype.close=function(){_l('close');this._cleanup(true);};XDRObject.enabled=!!(_f.XDomainRequest&&_j.hasDomain());_b.exports=XDRObject;}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,"debug":54,"events":3,"inherits":57}],35:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('../driver/xhr');function XHRCorsObject(_g,_h,_i,_j){_f.call(this,_g,_h,_i,_j);}_e(XHRCorsObject,_f);XHRCorsObject.enabled=_f.enabled&&_f.supportsCORS;_b.exports=XHRCorsObject;},{"../driver/xhr":17,"inherits":57}],36:[function(_d,_b,_c){'use strict';var _e=_d('events').EventEmitter,_f=_d('inherits');function XHRFake(){var _g=this;_e.call(this);this.to=setTimeout(function(){_g.emit('finish',200,'{}');},XHRFake.timeout);}_f(XHRFake,_e);XHRFake.prototype.close=function(){clearTimeout(this.to);};XHRFake.timeout=2000;_b.exports=XHRFake;},{"events":3,"inherits":57}],37:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('../driver/xhr');function XHRLocalObject(_g,_h,_i){_f.call(this,_g,_h,_i,{noCredentials:true});}_e(XHRLocalObject,_f);XHRLocalObject.enabled=_f.enabled;_b.exports=XHRLocalObject;},{"../driver/xhr":17,"inherits":57}],38:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('../utils/event'),_g=_d('../utils/url'),_h=_d('inherits'),_i=_d('events').EventEmitter,_j=_d('./driver/websocket');var _k=function(){};if(_e.env.NODE_ENV!=='production'){_k=_d('debug')('sockjs-client:websocket');}function WebSocketTransport(_l,_m,_n){if(!WebSocketTransport.enabled()){throw new Error('Transport created when disabled');}_i.call(this);_k('constructor',_l);var _o=this;var _p=_g.addPath(_l,'/websocket');if(_p.slice(0,5)==='https'){_p='wss'+_p.slice(5);}else{_p='ws'+_p.slice(4);}this.url=_p;this.ws=new _j(this.url,[],_n);this.ws.onmessage=function(_q){_k('message event',_q.data);_o.emit('message',_q.data);};this.unloadRef=_f.unloadAdd(function(){_k('unload');_o.ws.close();});this.ws.onclose=function(_q){_k('close event',_q.code,_q.reason);_o.emit('close',_q.code,_q.reason);_o._cleanup();};this.ws.onerror=function(_q){_k('error event',_q);_o.emit('close',1006,'WebSocket connection broken');_o._cleanup();};}_h(WebSocketTransport,_i);WebSocketTransport.prototype.send=function(_l){var _m='['+_l+']';_k('send',_m);this.ws.send(_m);};WebSocketTransport.prototype.close=function(){_k('close');if(this.ws){this.ws.close();}this._cleanup();};WebSocketTransport.prototype._cleanup=function(){_k('_cleanup');var _l=this.ws;if(_l){_l.onmessage=_l.onclose=_l.onerror=null;}_f.unloadDel(this.unloadRef);this.unloadRef=this.ws=null;this.removeAllListeners();};WebSocketTransport.enabled=function(){_k('enabled');return !!_j;};WebSocketTransport.transportName='websocket';WebSocketTransport.roundTrips=2;_b.exports=WebSocketTransport;}).call(this,{env:{}});},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,"debug":54,"events":3,"inherits":57}],39:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./lib/ajax-based'),_g=_d('./xdr-streaming'),_h=_d('./receiver/xhr'),_i=_d('./sender/xdr');function XdrPollingTransport(_j){if(!_i.enabled){throw new Error('Transport created when disabled');}_f.call(this,_j,'/xhr',_h,_i);}_e(XdrPollingTransport,_f);XdrPollingTransport.enabled=_g.enabled;XdrPollingTransport.transportName='xdr-polling';XdrPollingTransport.roundTrips=2;_b.exports=XdrPollingTransport;},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,"inherits":57}],40:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./lib/ajax-based'),_g=_d('./receiver/xhr'),_h=_d('./sender/xdr');function XdrStreamingTransport(_i){if(!_h.enabled){throw new Error('Transport created when disabled');}_f.call(this,_i,'/xhr_streaming',_g,_h);}_e(XdrStreamingTransport,_f);XdrStreamingTransport.enabled=function(_i){if(_i.cookie_needed||_i.nullOrigin){return false;}return _h.enabled&&_i.sameScheme;};XdrStreamingTransport.transportName='xdr-streaming';XdrStreamingTransport.roundTrips=2;_b.exports=XdrStreamingTransport;},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"inherits":57}],41:[function(_d,_b,_c){'use strict';var _e=_d('inherits'),_f=_d('./lib/ajax-based'),_g=_d('./receiver/xhr'),_h=_d('./sender/xhr-cors'),_i=_d('./sender/xhr-local');function XhrPollingTransport(_j){if(!_i.enabled&&!_h.enabled){throw new Error('Transport created when disabled');}_f.call(this,_j,'/xhr',_g,_h);}_e(XhrPollingTransport,_f);XhrPollingTransport.enabled=function(_j){if(_j.nullOrigin){return false;}if(_i.enabled&&_j.sameOrigin){return true;}return _h.enabled;};XhrPollingTransport.transportName='xhr-polling';XhrPollingTransport.roundTrips=2;_b.exports=XhrPollingTransport;},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":57}],42:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('inherits'),_g=_d('./lib/ajax-based'),_h=_d('./receiver/xhr'),_i=_d('./sender/xhr-cors'),_j=_d('./sender/xhr-local'),_k=_d('../utils/browser');function XhrStreamingTransport(_l){if(!_j.enabled&&!_i.enabled){throw new Error('Transport created when disabled');}_g.call(this,_l,'/xhr_streaming',_h,_i);}_f(XhrStreamingTransport,_g);XhrStreamingTransport.enabled=function(_l){if(_l.nullOrigin){return false;}if(_k.isOpera()){return false;}return _i.enabled;};XhrStreamingTransport.transportName='xhr-streaming';XhrStreamingTransport.roundTrips=2;XhrStreamingTransport.needBody=!!_e.document;_b.exports=XhrStreamingTransport;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":57}],43:[function(_d,_b,_c){(function(_e){'use strict';if(_e.crypto&&_e.crypto.getRandomValues){_b.exports.randomBytes=function(_f){var _g=new Uint8Array(_f);_e.crypto.getRandomValues(_g);return _g;};}else{_b.exports.randomBytes=function(_f){var _g=new Array(_f);for(var _h=0;_h<_f;_h++ ){_g[_h]=Math.floor(Math.random()*256);}return _g;};}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],44:[function(_d,_b,_c){(function(_e){'use strict';_b.exports={isOpera:function(){return _e.navigator&&/opera/i.test(_e.navigator.userAgent);},isKonqueror:function(){return _e.navigator&&/konqueror/i.test(_e.navigator.userAgent);},hasDomain:function(){if(!_e.document){return true;}try{return !!_e.document.domain;}catch(e){return false;}}};}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],45:[function(_d,_b,_c){'use strict';var _e=_d('json3');var _f=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,_g;var _h=function(_i){var _j;var _k={};var _l=[];for(_j=0;_j<65536;_j++ ){_l.push(String.fromCharCode(_j));}_i.lastIndex=0;_l.join('').replace(_i,function(_m){_k[_m]='\\u'+('0000'+_m.charCodeAt(0).toString(16)).slice( -4);return '';});_i.lastIndex=0;return _k;};_b.exports={quote:function(_i){var _j=_e.stringify(_i);_f.lastIndex=0;if(!_f.test(_j)){return _j;}if(!_g){_g=_h(_f);}return _j.replace(_f,function(_k){return _g[_k];});}};},{"json3":58}],46:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('./random');var _g={},_h=false,_i=_e.chrome&&_e.chrome.app&&_e.chrome.app.runtime;_b.exports={attachEvent:function(_k,_l){if(typeof _e.addEventListener!=='undefined'){_e.addEventListener(_k,_l,false);}else if(_e.document&&_e.attachEvent){_e.document.attachEvent('on'+_k,_l);_e.attachEvent('on'+_k,_l);}},detachEvent:function(_k,_l){if(typeof _e.addEventListener!=='undefined'){_e.removeEventListener(_k,_l,false);}else if(_e.document&&_e.detachEvent){_e.document.detachEvent('on'+_k,_l);_e.detachEvent('on'+_k,_l);}},unloadAdd:function(_k){if(_i){return null;}var _l=_f.string(8);_g[_l]=_k;if(_h){setTimeout(this.triggerUnloadCallbacks,0);}return _l;},unloadDel:function(_k){if(_k in _g){delete _g[_k];}},triggerUnloadCallbacks:function(){for(var _k in _g){_g[_k]();delete _g[_k];}}};var _j=function(){if(_h){return;}_h=true;_b.exports.triggerUnloadCallbacks();};if(!_i){_b.exports.attachEvent('unload',_j);}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"./random":50}],47:[function(_d,_b,_c){(function(_e,_f){'use strict';var _g=_d('./event'),_h=_d('json3'),_i=_d('./browser');var _j=function(){};if(_e.env.NODE_ENV!=='production'){_j=_d('debug')('sockjs-client:utils:iframe');}_b.exports={WPrefix:'_jp',currentWindowId:null,polluteGlobalNamespace:function(){if(!(_b.exports.WPrefix in _f)){_f[_b.exports.WPrefix]={};}},postMessage:function(_k,_l){if(_f.parent!==_f){_f.parent.postMessage(_h.stringify({windowId:_b.exports.currentWindowId,type:_k,data:_l||''}),'*');}else{_j('Cannot postMessage, no parent window.',_k,_l);}},createIframe:function(_k,_l){var _m=_f.document.createElement('iframe');var _n,_o;var _p=function(){_j('unattach');clearTimeout(_n);try{_m.onload=null;}catch(x){}_m.onerror=null;};var _q=function(){_j('cleanup');if(_m){_p();setTimeout(function(){if(_m){_m.parentNode.removeChild(_m);}_m=null;},0);_g.unloadDel(_o);}};var _r=function(_t){_j('onerror',_t);if(_m){_q();_l(_t);}};var _s=function(_t,_u){_j('post',_t,_u);try{setTimeout(function(){if(_m&&_m.contentWindow){_m.contentWindow.postMessage(_t,_u);}},0);}catch(x){}};_m.src=_k;_m.style.display='none';_m.style.position='absolute';_m.onerror=function(){_r('onerror');};_m.onload=function(){_j('onload');clearTimeout(_n);_n=setTimeout(function(){_r('onload timeout');},2000);};_f.document.body.appendChild(_m);_n=setTimeout(function(){_r('timeout');},15000);_o=_g.unloadAdd(_q);return {post:_s,cleanup:_q,loaded:_p};},createHtmlfile:function(_k,_l){var _m=['Active'].concat('Object').join('X');var _n=new _f[_m]('htmlfile');var _o,_p;var _q;var _r=function(){clearTimeout(_o);_q.onerror=null;};var _s=function(){if(_n){_r();_g.unloadDel(_p);_q.parentNode.removeChild(_q);_q=_n=null;CollectGarbage();}};var _t=function(_w){_j('onerror',_w);if(_n){_s();_l(_w);}};var _u=function(_w,_x){try{setTimeout(function(){if(_q&&_q.contentWindow){_q.contentWindow.postMessage(_w,_x);}},0);}catch(x){}};_n.open();_n.write('<html><s'+'cript>'+'document.domain="'+_f.document.domain+'";'+'</s'+'cript></html>');_n.close();_n.parentWindow[_b.exports.WPrefix]=_f[_b.exports.WPrefix];var _v=_n.createElement('div');_n.body.appendChild(_v);_q=_n.createElement('iframe');_v.appendChild(_q);_q.src=_k;_q.onerror=function(){_t('onerror');};_o=setTimeout(function(){_t('timeout');},15000);_p=_g.unloadAdd(_s);return {post:_u,cleanup:_s,loaded:_r};}};_b.exports.iframeEnabled=false;if(_f.document){_b.exports.iframeEnabled=(typeof _f.postMessage==='function'||typeof _f.postMessage==='object')&&(!_i.isKonqueror());}}).call(this,{env:{}},typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"./browser":44,"./event":46,"debug":54,"json3":58}],48:[function(_d,_b,_c){(function(_e){'use strict';var _f={};['log','debug','warn'].forEach(function(_g){var _h;try{_h=_e.console&&_e.console[_g]&&_e.console[_g].apply;}catch(e){}_f[_g]=_h?function(){return _e.console[_g].apply(_e.console,arguments);}:(_g==='log'?function(){}:_f.log);});_b.exports=_f;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],49:[function(_d,_b,_c){'use strict';_b.exports={isObject:function(_e){var _f=typeof _e;return _f==='function'||_f==='object'&&!!_e;},extend:function(_e){if(!this.isObject(_e)){return _e;}var _f,_g;for(var _h=1,_i=arguments.length;_h<_i;_h++ ){_f=arguments[_h];for(_g in _f){if(Object.prototype.hasOwnProperty.call(_f,_g)){_e[_g]=_f[_g];}}}return _e;}};},{}],50:[function(_d,_b,_c){'use strict';var _e=_d('crypto');var _f='abcdefghijklmnopqrstuvwxyz012345';_b.exports={string:function(_g){var _h=_f.length;var _i=_e.randomBytes(_g);var _j=[];for(var _k=0;_k<_g;_k++ ){_j.push(_f.substr(_i[_k]%_h,1));}return _j.join('');},number:function(_g){return Math.floor(Math.random()*_g);},numberString:function(_g){var _h=(''+(_g-1)).length;var _i=new Array(_h+1).join('0');return (_i+this.number(_g)).slice( -_h);}};},{"crypto":43}],51:[function(_d,_b,_c){(function(_e){'use strict';var _f=function(){};if(_e.env.NODE_ENV!=='production'){_f=_d('debug')('sockjs-client:utils:transport');}_b.exports=function(_g){return {filterToEnabled:function(_h,_i){var _j={main:[],facade:[]};if(!_h){_h=[];}else if(typeof _h==='string'){_h=[_h];}_g.forEach(function(_k){if(!_k){return;}if(_k.transportName==='websocket'&&_i.websocket===false){_f('disabled from server','websocket');return;}if(_h.length&&_h.indexOf(_k.transportName)=== -1){_f('not in whitelist',_k.transportName);return;}if(_k.enabled(_i)){_f('enabled',_k.transportName);_j.main.push(_k);if(_k.facadeTransport){_j.facade.push(_k.facadeTransport);}}else{_f('disabled',_k.transportName);}});return _j;}};};}).call(this,{env:{}});},{"debug":54}],52:[function(_d,_b,_c){(function(_e){'use strict';var _f=_d('url-parse');var _g=function(){};if(_e.env.NODE_ENV!=='production'){_g=_d('debug')('sockjs-client:utils:url');}_b.exports={getOrigin:function(_h){if(!_h){return null;}var _i=new _f(_h);if(_i.protocol==='file:'){return null;}var _j=_i.port;if(!_j){_j=(_i.protocol==='https:')?'443':'80';}return _i.protocol+'//'+_i.hostname+':'+_j;},isOriginEqual:function(_h,_i){var _j=this.getOrigin(_h)===this.getOrigin(_i);_g('same',_h,_i,_j);return _j;},isSchemeEqual:function(_h,_i){return (_h.split(':')[0]===_i.split(':')[0]);},addPath:function(_h,_i){var _j=_h.split('?');return _j[0]+_i+(_j[1]?'?'+_j[1]:'');},addQuery:function(_h,_i){return _h+(_h.indexOf('?')=== -1?('?'+_i):('&'+_i));}};}).call(this,{env:{}});},{"debug":54,"url-parse":59}],53:[function(_d,_b,_c){_b.exports='1.1.1';},{}],54:[function(_d,_b,_c){_c=_b.exports=_d('./debug');_c.log=log;_c.formatArgs=formatArgs;_c.save=save;_c.load=load;_c.useColors=useColors;_c.storage='undefined'!=typeof chrome&&'undefined'!=typeof chrome.storage?chrome.storage.local:localstorage();_c.colors=['lightseagreen','forestgreen','goldenrod','dodgerblue','darkorchid','crimson'];function useColors(){return ('WebkitAppearance' in document.documentElement.style)||(window.console&&(console.firebug||(console.exception&&console.table)))||(navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31);}_c.formatters.j=function(_e){return JSON.stringify(_e);};function formatArgs(){var _e=arguments;var _f=this.useColors;_e[0]=(_f?'%c':'')+this.namespace+(_f?' %c':' ')+_e[0]+(_f?'%c ':' ')+'+'+_c.humanize(this.diff);if(!_f){return _e;}var _g='color: '+this.color;_e=[_e[0],_g,'color: inherit'].concat(Array.prototype.slice.call(_e,1));var _h=0;var _i=0;_e[0].replace(/%[a-z%]/g,function(_j){if('%%'===_j){return;}_h++ ;if('%c'===_j){_i=_h;}});_e.splice(_i,0,_g);return _e;}function log(){return 'object'===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments);}function save(_e){try{if(null==_e){_c.storage.removeItem('debug');}else{_c.storage.debug=_e;}}catch(e){}}function load(){var _e;try{_e=_c.storage.debug;}catch(e){}return _e;}_c.enable(load());function localstorage(){try{return window.localStorage;}catch(e){}}},{"./debug":55}],55:[function(_d,_b,_c){_c=_b.exports=debug;_c.coerce=coerce;_c.disable=disable;_c.enable=enable;_c.enabled=enabled;_c.humanize=_d('ms');_c.names=[];_c.skips=[];_c.formatters={};var _e=0;var _f;function selectColor(){return _c.colors[_e++ %_c.colors.length];}function debug(_g){function disabled(){}disabled.enabled=false;function enabled(){var _i=enabled;var _j= +new Date();var _k=_j-(_f||_j);_i.diff=_k;_i.prev=_f;_i.curr=_j;_f=_j;if(null==_i.useColors){_i.useColors=_c.useColors();}if(null==_i.color&&_i.useColors){_i.color=selectColor();}var _l=Array.prototype.slice.call(arguments);_l[0]=_c.coerce(_l[0]);if('string'!==typeof _l[0]){_l=['%o'].concat(_l);}var _m=0;_l[0]=_l[0].replace(/%([a-z%])/g,function(_o,_p){if(_o==='%%'){return _o;}_m++ ;var _q=_c.formatters[_p];if('function'===typeof _q){var _r=_l[_m];_o=_q.call(_i,_r);_l.splice(_m,1);_m-- ;}return _o;});if('function'===typeof _c.formatArgs){_l=_c.formatArgs.apply(_i,_l);}var _n=enabled.log||_c.log||console.log.bind(console);_n.apply(_i,_l);}enabled.enabled=true;var _h=_c.enabled(_g)?enabled:disabled;_h.namespace=_g;return _h;}function enable(_g){_c.save(_g);var _h=(_g||'').split(/[\s,]+/);var _i=_h.length;for(var _j=0;_j<_i;_j++ ){if(!_h[_j]){continue;}_g=_h[_j].replace(/\*/g,'.*?');if(_g[0]==='-'){_c.skips.push(new RegExp('^'+_g.substr(1)+'$'));}else{_c.names.push(new RegExp('^'+_g+'$'));}}}function disable(){_c.enable('');}function enabled(_g){var _h,_i;for(_h=0,_i=_c.skips.length;_h<_i;_h++ ){if(_c.skips[_h].test(_g)){return false;}}for(_h=0,_i=_c.names.length;_h<_i;_h++ ){if(_c.names[_h].test(_g)){return true;}}return false;}function coerce(_g){if(_g instanceof Error){return _g.stack||_g.message;}return _g;}},{"ms":56}],56:[function(_d,_b,_c){var _e=1000;var _f=_e*60;var _g=_f*60;var _h=_g*24;var _i=_h*365.25;_b.exports=function(_j,_k){_k=_k||{};if('string'==typeof _j){return parse(_j);}return _k.long?long(_j):short(_j);};function parse(_j){_j=''+_j;if(_j.length>10000){return;}var _k=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(_j);if(!_k){return;}var _l=parseFloat(_k[1]);var _m=(_k[2]||'ms').toLowerCase();switch(_m){case 'years':case 'year':case 'yrs':case 'yr':case 'y':return _l*_i;case 'days':case 'day':case 'd':return _l*_h;case 'hours':case 'hour':case 'hrs':case 'hr':case 'h':return _l*_g;case 'minutes':case 'minute':case 'mins':case 'min':case 'm':return _l*_f;case 'seconds':case 'second':case 'secs':case 'sec':case 's':return _l*_e;case 'milliseconds':case 'millisecond':case 'msecs':case 'msec':case 'ms':return _l;}}function short(_j){if(_j>=_h){return Math.round(_j/_h)+'d';}if(_j>=_g){return Math.round(_j/_g)+'h';}if(_j>=_f){return Math.round(_j/_f)+'m';}if(_j>=_e){return Math.round(_j/_e)+'s';}return _j+'ms';}function long(_j){return plural(_j,_h,'day')||plural(_j,_g,'hour')||plural(_j,_f,'minute')||plural(_j,_e,'second')||_j+' ms';}function plural(_j,_k,_l){if(_j<_k){return;}if(_j<_k*1.5){return Math.floor(_j/_k)+' '+_l;}return Math.ceil(_j/_k)+' '+_l+'s';}},{}],57:[function(_d,_b,_c){if(typeof Object.create==='function'){_b.exports=function inherits(_e,_f){_e.super_=_f;_e.prototype=Object.create(_f.prototype,{constructor:{value:_e,enumerable:false,writable:true,configurable:true}});};}else{_b.exports=function inherits(_e,_f){_e.super_=_f;var _g=function(){};_g.prototype=_f.prototype;_e.prototype=new _g();_e.prototype.constructor=_e;};}},{}],58:[function(_d,_b,_c){(function(_e){;(function(){var _f=typeof _a==="function"&&_a.amd;var _g={"function":true,"object":true};var _h=_g[typeof _c]&&_c&&!_c.nodeType&&_c;var _i=_g[typeof window]&&window||this,_j=_h&&_g[typeof _b]&&_b&&!_b.nodeType&&typeof _e=="object"&&_e;if(_j&&(_j["global"]===_j||_j["window"]===_j||_j["self"]===_j)){_i=_j;}function runInContext(_o,_c){_o||(_o=_i["Object"]());_c||(_c=_i["Object"]());var _p=_o["Number"]||_i["Number"],_q=_o["String"]||_i["String"],_r=_o["Object"]||_i["Object"],_s=_o["Date"]||_i["Date"],_t=_o["SyntaxError"]||_i["SyntaxError"],_u=_o["TypeError"]||_i["TypeError"],_v=_o["Math"]||_i["Math"],_k=_o["JSON"]||_i["JSON"];if(typeof _k=="object"&&_k){_c.stringify=_k.stringify;_c.parse=_k.parse;}var _w=_r.prototype,_x=_w.toString,_y,_z,_aa;var _ab=new _s( -3509827334573292);try{_ab=_ab.getUTCFullYear()== -109252&&_ab.getUTCMonth()===0&&_ab.getUTCDate()===1&&_ab.getUTCHours()==10&&_ab.getUTCMinutes()==37&&_ab.getUTCSeconds()==6&&_ab.getUTCMilliseconds()==708;}catch(exception){}function has(_bb){if(has[_bb]!==_aa){return has[_bb];}var _bc;if(_bb=="bug-string-char-index"){_bc="a"[0]!="a";}else if(_bb=="json"){_bc=has("json-stringify")&&has("json-parse");}else{var _bd,_be='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(_bb=="json-stringify"){var _bf=_c.stringify,_bg=typeof _bf=="function"&&_ab;if(_bg){(_bd=function(){return 1;}).toJSON=_bd;try{_bg=_bf(0)==="0"&&_bf(new _p())==="0"&&_bf(new _q())=='""'&&_bf(_x)===_aa&&_bf(_aa)===_aa&&_bf()===_aa&&_bf(_bd)==="1"&&_bf([_bd])=="[1]"&&_bf([_aa])=="[null]"&&_bf(null)=="null"&&_bf([_aa,_x,null])=="[null,null,null]"&&_bf({"a":[_bd,true,false,null,"\x00\b\n\f\r\t"]})==_be&&_bf(null,_bd)==="1"&&_bf([1,2],null,1)=="[\n 1,\n 2\n]"&&_bf(new _s( -8.64e15))=='"-271821-04-20T00:00:00.000Z"'&&_bf(new _s(8.64e15))=='"+275760-09-13T00:00:00.000Z"'&&_bf(new _s( -621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&_bf(new _s( -1))=='"1969-12-31T23:59:59.999Z"';}catch(exception){_bg=false;}}_bc=_bg;}if(_bb=="json-parse"){var _bh=_c.parse;if(typeof _bh=="function"){try{if(_bh("0")===0&&!_bh(false)){_bd=_bh(_be);var _bi=_bd["a"].length==5&&_bd["a"][0]===1;if(_bi){try{_bi=!_bh('"\t"');}catch(exception){}if(_bi){try{_bi=_bh("01")!==1;}catch(exception){}}if(_bi){try{_bi=_bh("1.")!==1;}catch(exception){}}}}}catch(exception){_bi=false;}}_bc=_bi;}}return has[_bb]=!!_bc;}if(!has("json")){var _ac="[object Function]",_ad="[object Date]",_ae="[object Number]",_af="[object String]",_ag="[object Array]",_ah="[object Boolean]";var _ai=has("bug-string-char-index");if(!_ab){var _aj=_v.floor;var _ak=[0,31,59,90,120,151,181,212,243,273,304,334];var _al=function(_bb,_bc){return _ak[_bc]+365*(_bb-1970)+_aj((_bb-1969+(_bc= +(_bc>1)))/4)-_aj((_bb-1901+_bc)/100)+_aj((_bb-1601+_bc)/400);};}if(!(_y=_w.hasOwnProperty)){_y=function(_bb){var _bc={},_bd;if((_bc.__proto__=null,_bc.__proto__={"toString":1},_bc).toString!=_x){_y=function(_bb){var _be=this.__proto__,_bf=_bb in (this.__proto__=null,this);this.__proto__=_be;return _bf;};}else{_bd=_bc.constructor;_y=function(_bb){var _be=(this.constructor||_bd).prototype;return _bb in this&&!(_bb in _be&&this[_bb]===_be[_bb]);};}_bc=null;return _y.call(this,_bb);};}_z=function(_bb,_bc){var _bd=0,_be,_bf,_bg;(_be=function(){this.valueOf=0;}).prototype.valueOf=0;_bf=new _be();for(_bg in _bf){if(_y.call(_bf,_bg)){_bd++ ;}}_be=_bf=null;if(!_bd){_bf=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];_z=function(_bb,_bc){var _bh=_x.call(_bb)==_ac,_bg,_bi;var _bj=!_bh&&typeof _bb.constructor!="function"&&_g[typeof _bb.hasOwnProperty]&&_bb.hasOwnProperty||_y;for(_bg in _bb){if(!(_bh&&_bg=="prototype")&&_bj.call(_bb,_bg)){_bc(_bg);}}for(_bi=_bf.length;_bg=_bf[ --_bi];_bj.call(_bb,_bg)&&_bc(_bg)){}};}else if(_bd==2){_z=function(_bb,_bc){var _bf={},_bh=_x.call(_bb)==_ac,_bg;for(_bg in _bb){if(!(_bh&&_bg=="prototype")&&!_y.call(_bf,_bg)&&(_bf[_bg]=1)&&_y.call(_bb,_bg)){_bc(_bg);}}};}else{_z=function(_bb,_bc){var _bh=_x.call(_bb)==_ac,_bg,_bi;for(_bg in _bb){if(!(_bh&&_bg=="prototype")&&_y.call(_bb,_bg)&&!(_bi=_bg==="constructor")){_bc(_bg);}}if(_bi||_y.call(_bb,(_bg="constructor"))){_bc(_bg);}};}return _z(_bb,_bc);};if(!has("json-stringify")){var _am={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"};var _an="000000";var _ao=function(_bb,_bc){return (_an+(_bc||0)).slice( -_bb);};var _ap="\\u00";var _aq=function(_bb){var _bc='"',_bd=0,_be=_bb.length,_bf=!_ai||_be>10;var _bg=_bf&&(_ai?_bb.split(""):_bb);for(;_bd<_be;_bd++ ){var _bh=_bb.charCodeAt(_bd);switch(_bh){case 8:case 9:case 10:case 12:case 13:case 34:case 92:_bc+=_am[_bh];break;default:if(_bh<32){_bc+=_ap+_ao(2,_bh.toString(16));break;}_bc+=_bf?_bg[_bd]:_bb.charAt(_bd);}}return _bc+'"';};var _ar=function(_bb,_bc,_bd,_be,_bf,_bg,_bh){var _bi,_bj,_bk,_bl,_bm,_bn,_bo,_bp,_bq,_br,_bs,_bt,_bu,_bv,_bw,_bx;try{_bi=_bc[_bb];}catch(exception){}if(typeof _bi=="object"&&_bi){_bj=_x.call(_bi);if(_bj==_ad&&!_y.call(_bi,"toJSON")){if(_bi> -1/0&&_bi<1/0){if(_al){_bm=_aj(_bi/864e5);for(_bk=_aj(_bm/365.2425)+1970-1;_al(_bk+1,0)<=_bm;_bk++ ){}for(_bl=_aj((_bm-_al(_bk,0))/30.42);_al(_bk,_bl+1)<=_bm;_bl++ ){}_bm=1+_bm-_al(_bk,_bl);_bn=(_bi%864e5+864e5)%864e5;_bo=_aj(_bn/36e5)%24;_bp=_aj(_bn/6e4)%60;_bq=_aj(_bn/1e3)%60;_br=_bn%1e3;}else{_bk=_bi.getUTCFullYear();_bl=_bi.getUTCMonth();_bm=_bi.getUTCDate();_bo=_bi.getUTCHours();_bp=_bi.getUTCMinutes();_bq=_bi.getUTCSeconds();_br=_bi.getUTCMilliseconds();}_bi=(_bk<=0||_bk>=1e4?(_bk<0?"-":"+")+_ao(6,_bk<0? -_bk:_bk):_ao(4,_bk))+"-"+_ao(2,_bl+1)+"-"+_ao(2,_bm)+"T"+_ao(2,_bo)+":"+_ao(2,_bp)+":"+_ao(2,_bq)+"."+_ao(3,_br)+"Z";}else{_bi=null;}}else if(typeof _bi.toJSON=="function"&&((_bj!=_ae&&_bj!=_af&&_bj!=_ag)||_y.call(_bi,"toJSON"))){_bi=_bi.toJSON(_bb);}}if(_bd){_bi=_bd.call(_bc,_bb,_bi);}if(_bi===null){return "null";}_bj=_x.call(_bi);if(_bj==_ah){return ""+_bi;}else if(_bj==_ae){return _bi> -1/0&&_bi<1/0?""+_bi:"null";}else if(_bj==_af){return _aq(""+_bi);}if(typeof _bi=="object"){for(_bv=_bh.length;_bv-- ;){if(_bh[_bv]===_bi){throw _u();}}_bh.push(_bi);_bs=[];_bw=_bg;_bg+=_bf;if(_bj==_ag){for(_bu=0,_bv=_bi.length;_bu<_bv;_bu++ ){_bt=_ar(_bu,_bi,_bd,_be,_bf,_bg,_bh);_bs.push(_bt===_aa?"null":_bt);}_bx=_bs.length?(_bf?"[\n"+_bg+_bs.join(",\n"+_bg)+"\n"+_bw+"]":("["+_bs.join(",")+"]")):"[]";}else{_z(_be||_bi,function(_bb){var _bt=_ar(_bb,_bi,_bd,_be,_bf,_bg,_bh);if(_bt!==_aa){_bs.push(_aq(_bb)+":"+(_bf?" ":"")+_bt);}});_bx=_bs.length?(_bf?"{\n"+_bg+_bs.join(",\n"+_bg)+"\n"+_bw+"}":("{"+_bs.join(",")+"}")):"{}";}_bh.pop();return _bx;}};_c.stringify=function(_bb,_bc,_bd){var _be,_bf,_bg,_bh;if(_g[typeof _bc]&&_bc){if((_bh=_x.call(_bc))==_ac){_bf=_bc;}else if(_bh==_ag){_bg={};for(var _bi=0,_bj=_bc.length,_bk;_bi<_bj;_bk=_bc[_bi++ ],((_bh=_x.call(_bk)),_bh==_af||_bh==_ae)&&(_bg[_bk]=1)){}}}if(_bd){if((_bh=_x.call(_bd))==_ae){if((_bd-=_bd%1)>0){for(_be="",_bd>10&&(_bd=10);_be.length<_bd;_be+=" "){}}}else if(_bh==_af){_be=_bd.length<=10?_bd:_bd.slice(0,10);}}return _ar("",(_bk={},_bk[""]=_bb,_bk),_bf,_bg,_be,"",[]);};}if(!has("json-parse")){var _as=_q.fromCharCode;var _at={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"};var _au,_av;var _aw=function(){_au=_av=null;throw _t();};var _ax=function(){var _bb=_av,_bc=_bb.length,_bd,_be,_bf,_bg,_bh;while(_au<_bc){_bh=_bb.charCodeAt(_au);switch(_bh){case 9:case 10:case 13:case 32:_au++ ;break;case 123:case 125:case 91:case 93:case 58:case 44:_bd=_ai?_bb.charAt(_au):_bb[_au];_au++ ;return _bd;case 34:for(_bd="@",_au++ ;_au<_bc;){_bh=_bb.charCodeAt(_au);if(_bh<32){_aw();}else if(_bh==92){_bh=_bb.charCodeAt( ++_au);switch(_bh){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:_bd+=_at[_bh];_au++ ;break;case 117:_be= ++_au;for(_bf=_au+4;_au<_bf;_au++ ){_bh=_bb.charCodeAt(_au);if(!(_bh>=48&&_bh<=57||_bh>=97&&_bh<=102||_bh>=65&&_bh<=70)){_aw();}}_bd+=_as("0x"+_bb.slice(_be,_au));break;default:_aw();}}else{if(_bh==34){break;}_bh=_bb.charCodeAt(_au);_be=_au;while(_bh>=32&&_bh!=92&&_bh!=34){_bh=_bb.charCodeAt( ++_au);}_bd+=_bb.slice(_be,_au);}}if(_bb.charCodeAt(_au)==34){_au++ ;return _bd;}_aw();default:_be=_au;if(_bh==45){_bg=true;_bh=_bb.charCodeAt( ++_au);}if(_bh>=48&&_bh<=57){if(_bh==48&&((_bh=_bb.charCodeAt(_au+1)),_bh>=48&&_bh<=57)){_aw();}_bg=false;for(;_au<_bc&&((_bh=_bb.charCodeAt(_au)),_bh>=48&&_bh<=57);_au++ ){}if(_bb.charCodeAt(_au)==46){_bf= ++_au;for(;_bf<_bc&&((_bh=_bb.charCodeAt(_bf)),_bh>=48&&_bh<=57);_bf++ ){}if(_bf==_au){_aw();}_au=_bf;}_bh=_bb.charCodeAt(_au);if(_bh==101||_bh==69){_bh=_bb.charCodeAt( ++_au);if(_bh==43||_bh==45){_au++ ;}for(_bf=_au;_bf<_bc&&((_bh=_bb.charCodeAt(_bf)),_bh>=48&&_bh<=57);_bf++ ){}if(_bf==_au){_aw();}_au=_bf;}return  +_bb.slice(_be,_au);}if(_bg){_aw();}if(_bb.slice(_au,_au+4)=="true"){_au+=4;return true;}else if(_bb.slice(_au,_au+5)=="false"){_au+=5;return false;}else if(_bb.slice(_au,_au+4)=="null"){_au+=4;return null;}_aw();}}return "$";};var _ay=function(_bb){var _bc,_bd;if(_bb=="$"){_aw();}if(typeof _bb=="string"){if((_ai?_bb.charAt(0):_bb[0])=="@"){return _bb.slice(1);}if(_bb=="["){_bc=[];for(;;_bd||(_bd=true)){_bb=_ax();if(_bb=="]"){break;}if(_bd){if(_bb==","){_bb=_ax();if(_bb=="]"){_aw();}}else{_aw();}}if(_bb==","){_aw();}_bc.push(_ay(_bb));}return _bc;}else if(_bb=="{"){_bc={};for(;;_bd||(_bd=true)){_bb=_ax();if(_bb=="}"){break;}if(_bd){if(_bb==","){_bb=_ax();if(_bb=="}"){_aw();}}else{_aw();}}if(_bb==","||typeof _bb!="string"||(_ai?_bb.charAt(0):_bb[0])!="@"||_ax()!=":"){_aw();}_bc[_bb.slice(1)]=_ay(_ax());}return _bc;}_aw();}return _bb;};var _az=function(_bb,_bc,_bd){var _be=_ba(_bb,_bc,_bd);if(_be===_aa){delete _bb[_bc];}else{_bb[_bc]=_be;}};var _ba=function(_bb,_bc,_bd){var _be=_bb[_bc],_bf;if(typeof _be=="object"&&_be){if(_x.call(_be)==_ag){for(_bf=_be.length;_bf-- ;){_az(_be,_bf,_bd);}}else{_z(_be,function(_bc){_az(_be,_bc,_bd);});}}return _bd.call(_bb,_bc,_be);};_c.parse=function(_bb,_bc){var _bd,_be;_au=0;_av=""+_bb;_bd=_ay(_ax());if(_ax()!="$"){_aw();}_au=_av=null;return _bc&&_x.call(_bc)==_ac?_ba((_be={},_be[""]=_bd,_be),"",_bc):_bd;};}}_c["runInContext"]=runInContext;return _c;}if(_h&&!_f){runInContext(_i,_h);}else{var _k=_i.JSON,_l=_i["JSON3"],_m=false;var _n=runInContext(_i,(_i["JSON3"]={"noConflict":function(){if(!_m){_m=true;_i.JSON=_k;_i["JSON3"]=_l;_k=_l=null;}return _n;}}));_i.JSON={"parse":_n.parse,"stringify":_n.stringify};}if(_f){_a(function(){return _n;});}}).call(this);}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],59:[function(_d,_b,_c){'use strict';var _e=_d('requires-port'),_f=_d('./lolcation'),_g=_d('querystringify'),_h=/^\/(?!\/)/,_i=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i;var _j=[['#','hash'],['?','query'],['/','pathname'],['@','auth',1],[NaN,'host',undefined,1,1],[/\:(\d+)$/,'port'],[NaN,'hostname',undefined,1,1]];function extractProtocol(_k){var _l=_i.exec(_k);return {protocol:_l[1]?_l[1].toLowerCase():'',slashes:!!_l[2],rest:_l[3]?_l[3]:''};}function URL(_k,_l,_m){if(!(this instanceof URL)){return new URL(_k,_l,_m);}var _n=_h.test(_k),_o,_p,_q,_r,_s=typeof _l,_t=this,_u=0;if('object'!==_s&&'string'!==_s){_m=_l;_l=null;}if(_m&&'function'!==typeof _m){_m=_g.parse;}_l=_f(_l);var _v=extractProtocol(_k);_t.protocol=_v.protocol||_l.protocol||'';_t.slashes=_v.slashes||_l.slashes;_k=_v.rest;for(;_u<_j.length;_u++ ){_p=_j[_u];_o=_p[0];_r=_p[1];if(_o!==_o){_t[_r]=_k;}else if('string'===typeof _o){if(~(_q=_k.indexOf(_o))){if('number'===typeof _p[2]){_t[_r]=_k.slice(0,_q);_k=_k.slice(_q+_p[2]);}else{_t[_r]=_k.slice(_q);_k=_k.slice(0,_q);}}}else if(_q=_o.exec(_k)){_t[_r]=_q[1];_k=_k.slice(0,_k.length-_q[0].length);}_t[_r]=_t[_r]||(_p[3]||('port'===_r&&_n)?_l[_r]||'':'');if(_p[4]){_t[_r]=_t[_r].toLowerCase();}}if(_m){_t.query=_m(_t.query);}if(!_e(_t.port,_t.protocol)){_t.host=_t.hostname;_t.port='';}_t.username=_t.password='';if(_t.auth){_p=_t.auth.split(':');_t.username=_p[0]||'';_t.password=_p[1]||'';}_t.href=_t.toString();}URL.prototype.set=function set(_k,_l,_m){var _n=this;if('query'===_k){if('string'===typeof _l&&_l.length){_l=(_m||_g.parse)(_l);}_n[_k]=_l;}else if('port'===_k){_n[_k]=_l;if(!_e(_l,_n.protocol)){_n.host=_n.hostname;_n[_k]='';}else if(_l){_n.host=_n.hostname+':'+_l;}}else if('hostname'===_k){_n[_k]=_l;if(_n.port){_l+=':'+_n.port;}_n.host=_l;}else if('host'===_k){_n[_k]=_l;if(/\:\d+/.test(_l)){_l=_l.split(':');_n.hostname=_l[0];_n.port=_l[1];}}else if('protocol'===_k){_n.protocol=_l;_n.slashes=!_m;}else{_n[_k]=_l;}_n.href=_n.toString();return _n;};URL.prototype.toString=function toString(_k){if(!_k||'function'!==typeof _k){_k=_g.stringify;}var _l,_m=this,_n=_m.protocol;if(_n&&_n.charAt(_n.length-1)!==':'){_n+=':';}var _o=_n+(_m.slashes?'//':'');if(_m.username){_o+=_m.username;if(_m.password){_o+=':'+_m.password;}_o+='@';}_o+=_m.hostname;if(_m.port){_o+=':'+_m.port;}_o+=_m.pathname;_l='object'===typeof _m.query?_k(_m.query):_m.query;if(_l){_o+='?'!==_l.charAt(0)?'?'+_l:_l;}if(_m.hash){_o+=_m.hash;}return _o;};URL.qs=_g;URL.location=_f;_b.exports=URL;},{"./lolcation":60,"querystringify":61,"requires-port":62}],60:[function(_d,_b,_c){(function(_e){'use strict';var _f=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//;var _g={hash:1,query:1},_h;_b.exports=function lolcation(_i){_i=_i||_e.location||{};_h=_h||_d('./');var _j={},_k=typeof _i,_l;if('blob:'===_i.protocol){_j=new _h(unescape(_i.pathname),{});}else if('string'===_k){_j=new _h(_i,{});for(_l in _g){delete _j[_l];}}else if('object'===_k){for(_l in _i){if(_l in _g){continue;}_j[_l]=_i[_l];}if(_j.slashes===undefined){_j.slashes=_f.test(_i.href);}}return _j;};}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"./":59}],61:[function(_d,_b,_c){'use strict';var _e=Object.prototype.hasOwnProperty;function querystring(_f){var _g=/([^=?&]+)=([^&]*)/g,_h={},_i;for(;_i=_g.exec(_f);_h[decodeURIComponent(_i[1])]=decodeURIComponent(_i[2])){}return _h;}function querystringify(_f,_g){_g=_g||'';var _h=[];if('string'!==typeof _g){_g='?';}for(var _i in _f){if(_e.call(_f,_i)){_h.push(encodeURIComponent(_i)+'='+encodeURIComponent(_f[_i]));}}return _h.length?_g+_h.join('&'):'';}_c.stringify=querystringify;_c.parse=querystring;},{}],62:[function(_d,_b,_c){'use strict';_b.exports=function required(_e,_f){_f=_f.split(':')[0];_e= +_e;if(!_e){return false;}switch(_f){case 'http':case 'ws':return _e!==80;case 'https':case 'wss':return _e!==443;case 'ftp':return _e!==21;case 'gopher':return _e!==70;case 'file':return false;}return _e!==0;};},{}]},{},[1])(1);});};if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushEventInfo){nexacro.Event.XPushEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.reason=_b;this.action=_c;this.serverip=_d;this.serverport=_e;this.command=_f;this.message=_g;this.statuscode="";this.errormsg="";if(_g.returnvalue!=undefined&&_g.returnvalue[0]!=undefined){this.returnvalue=_g.returnvalue[0].count;}if(this.command==undefined){this.command=null;}};var _pXPushEventInfo=nexacro.Event.XPushEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushEventInfo._type="nexacroXPushEventInfo";_pXPushEventInfo._type_name="XPushEventInfo";delete _pXPushEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushErrorEventInfo){nexacro.Event.XPushErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.errortype="ObjectError";this.action=_b;this.eventid=_a;this.statuscode=_c;this.errormsg=_d;this.serverip=_e;this.serverport=_f;this.command=_g;if(this.command==undefined){this.command=null;}this.reply=null;};var _pXPushErrorEventInfo=nexacro.Event.XPushErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushErrorEventInfo._type="nexacroXPushErrorEventInfo";_pXPushErrorEventInfo._type_name="XPushErrorEventInfo";delete _pXPushErrorEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushKeepAliveEventInfo){nexacro.Event.XPushKeepAliveEventInfo=function(_a,_b){this.eventid=_a;this.type=_b;};var _pXPushKeepAliveEventInfo=nexacro.Event.XPushKeepAliveEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushKeepAliveEventInfo._type="nexacroXPushKeepAliveEventInfo";_pXPushKeepAliveEventInfo._type_name="XPushKeepAliveEventInfo";delete _pXPushErrorEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushRequestMessageCountEventInfo){nexacro.Event.XPushRequestMessageCountEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_a;this.userid=_b;this.sendtype=_c;this.sendid=_d;this.receivetype=_e;this.receiveid=_f;};var _pXPushRequestMessageCountEventInfo=nexacro.Event.XPushRequestMessageCountEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushRequestMessageCountEventInfo._type="nexacroXPushRequestMessageCountEventInfo";_pXPushRequestMessageCountEventInfo._type_name="XPushRequestMessageCountEventInfo";delete _pXPushErrorEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.CommandControl){nexacro.CommandControl=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.actiontype;this.callback;this.check="0";this.messagekey;this.messagetype;this.objdataset;this.objform;this.row= -1;this.type="update";this.useactiveformcallback=false;};var _pCommandControl=nexacro.CommandControl.prototype=nexacro._createPrototype(nexacro.EventSinkObject);_pCommandControl._type="nexacroCommandControl";_pCommandControl._type_name="CommandControl";_pCommandControl.destroy=function(){var _a='""';var _b;return true;};_pCommandControl.on_created=function(){};_pCommandControl.equal=function(_a){if(this.callback!=_a.callback){return false;}if(this.check!=_a.check){return false;}if(this.messagekey!=_a.messagekey){return false;}if(this.messagetype!=_a.messagetype){return false;}if(this.objdataset!==_a.objdataset){return false;}if(this.objform!==_a.objform){return false;}if(this.row!=_a.row){return false;}if(this.type!=_a.type){return false;}if(this.useactiveformcallback!=_a.useactiveformcallback){return false;}return true;};_pCommandControl.remove=function(_a){return (_a<0||_a>this.length)?this:this.slice(0,_a).concat(this.slice(_a+1,this.length));};delete _pCommandControl;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.XPush){if(nexacro.Browser!="Runtime"&&!nexacro._isHybrid()){nexacro.Field=function(){this.id=null;this.type=null;this.size=0;this.key=false;this.check=false;};var _pField=nexacro.Field.prototype;_pField._type_name="Field";nexacro.PushLayout=function(){this.id=null;this.nokey=false;this.repeat=false;this.noreg=false;this.checkfieldidx= -1;this.listfield=[];};var _pPushLayout=nexacro.PushLayout.prototype;_pPushLayout._type_name="PushLayout";var g_sockjs=null;nexacro.SockJSWrapper=function(_a,_b,_c){SockJS.call(this,_a,_b,_c);this.userid="";this.sessionid="";this.webpush=null;this.interval_id= -1;};var _pSockJSWrapper=nexacro._createPrototype(SockJS,nexacro.SockJSWrapper);nexacro.SockJSWrapper.prototype=_pSockJSWrapper;_pSockJSWrapper._nexacro_destroy=function(){clearInterval(this.interval_id);g_sockjs=null;this.webpush=null;};_pSockJSWrapper.onopen=function(){var _a={'Action':'AUTH','ID':this.userid,'PW':this.sessionid};this.send(JSON.stringify(_a));g_sockjs=this;if(g_sockjs){g_sockjs._nexacro_keepalive();}this.interval_id=setInterval(function(){if(g_sockjs){g_sockjs._nexacro_keepalive();}},(this.webpush.keepalivetime*1000));};_pSockJSWrapper._nexacro_disconnect=function(){clearInterval(this.interval_id);var _a={Action:'BYEC'};this.send(JSON.stringify(_a));};_pSockJSWrapper._nexacro_keepalive=function(){var _a={Action:'KEEP'};this.send(JSON.stringify(_a));};_pSockJSWrapper._nexacro_ackn=function(_a){var _b={Action:'ACKN','USERID':this.userid,'MessageID':_a};this.send(JSON.stringify(_b));};_pSockJSWrapper._nexacro_command=function(_a,_b,_c,_d,_e){var _f;if(_a=="ADDF"||_a=="DELF"){_f={'Action':_a,'TopicType':_b,'TopicId':_c};}else if(_a=="MSGC"){_f={'Action':_a,'UserID':_e?_e:this.userid,'TopicType':_b,'TopicId':_c};}else if(_a=="RECT"){_f={'Action':_a,'UserID':_e?_e:this.userid,'MessageID':_b};}else if(_a=="RGST"||_a=="UNRG"){return;}else{_f={'Action':_a,'UserID':_e?_e:this.userid,'TopicType':_b,'TopicId':_c};}this.send(JSON.stringify(_f));};_pSockJSWrapper.onmessage=function(_a){var _b=JSON.parse(_a.data);if(this.webpush){this.webpush._message(_b);}};_pSockJSWrapper.onerror=function(){};_pSockJSWrapper.onclose=function(_a){if(this.webpush){this.webpush._is_connected=false;}if(_a.code==1002){if(this.webpush){this.webpush._message(_a.code);}return;}};nexacro.WebPush=function(){this.sockjs=null;this.xpush=null;this._ajax=null;this.layoutlist=[];this.userid="";this.sessionid="";this.ip_idx=0;this.keepalivetime=30;this.retry_cnt=1;this.control_retry_cnt=1;this._is_connected=false;this._do_disconnect=false;this.action=null;this.msg_type=null;this.msg_key=null;this.type=null;};var _pWebPush=nexacro._createPrototype(nexacro.Object,nexacro.WebPush);nexacro.WebPush.prototype=_pWebPush;_pWebPush.destroy=function(){this.layoutlist=[];if(this.sockjs){this.sockjs._nexacro_destroy();delete this.sockjs;this.sockjs=null;}this.userid="";this.sessionid="";this.ip_idx=0;this.retry_cnt=1;this.action=null;this.msg_type=null;this.msg_key=null;this.type=null;this.control_retry_cnt=1;this._is_connected=false;this._do_disconnect=false;this.xpush=null;if(this._ajax){if(this._ajax._destroy){this._ajax._destroy();}this._ajax=null;}};_pWebPush.connect=function(_a,_b){if(this._is_connected){this.xpush._onerror( -302,0);return;}if(this.sockjs){this.sockjs.webpush=null;delete this.sockjs;this.sockjs=null;}var _c=this.xpush.iplist;var _d=_c?_c.length:0;if(_c&&this.ip_idx>=_d){this.retry_cnt++ ;this.ip_idx=0;if((parseInt(this.xpush.retry)+1)<this.retry_cnt){this.retry_cnt=1;this.xpush._onerror( -201,0);return;}}var _e=true;for(var _m=this.ip_idx;_m<_d;_m++ ){if(_c[_m].type=="http"||_c[_m].type=="https"){_e=false;break;}}this.ip_idx=_m;if(_e){this.xpush._onerror( -201);return;}this.xpush._currentipinfo=_c[this.ip_idx];var _f=false;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_f=true;}var _g=this.xpush.debug;var _h=this.xpush.iplist[this.ip_idx].ip;if(_h=="localhost"){_h="127.0.0.1";}var _i=_c[this.ip_idx].type+"://"+_h+":"+_c[this.ip_idx].port+"/XPUSH";var _j="websocket";if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){_j="xdr-streaming","iframe-htmlfile";}var _k={transports:[_j],debug:_g,jsessionid:_f};if(_a){this.userid=_a;}if(_b){this.sessionid=_b;}var _l=new nexacro.SockJSWrapper(_i,[],_k);_l.userid=this.userid;_l.sessionid=this.sessionid;_l.webpush=this;this.sockjs=_l;this._do_disconnect=false;};_pWebPush.disconnect=function(){this._do_disconnect=true;if(this.sockjs){this.sockjs._nexacro_disconnect();}else{this.xpush._onerror( -401,1);}this._is_connected=false;};_pWebPush.command=function(_a,_b,_c,_d,_e,_f){if(!this._is_connected||!this.sockjs||parseInt(this.xpush.controlretry)<this.control_retry_cnt){this.control_retry_cnt=1;var _g="";var _h=0;var _i= -701;if(_a=="ADDF"){_h=2;}else if(_a=="DELF"){_h=3;}else if(_a=="REQD"){_i= -902;_h=4;}else if(_a=="RECT"){_i= -901;_h=5;}else if(_a=="ADUI"){_i= -1002;_h=8;if(_e.Result){if(_e.Result[1]=="1"){_i= -1092;}_g="'{\"status\":"+_e.Result+",\"reason\":"+_e.ErrorMessage+"\"}'";}}else if(_a=="UNUI"){_i= -1003;_h=9;}else if(_a=="MSGC"){_i= -1004;_h=10;}this.xpush._onerror(_i,_h,_a,_b,_c,_g);return;}if(_a=="keepalive"){this.sockjs._nexacro_keepalive();}else{if(_a=="ADDF"){if(_d=="append"||_d=="update"||_d=="allupdate"){if(!this._hasKey(_b)){this.xpush._onerror( -701,2,_a,_b,_c);return false;}}}else if(_a=="DELF"){var _j=this._find_layout(_b);if(_j<0){this.xpush._onerror( -703);return false;}else{if(this.layoutlist[_j].noreg){return true;}}}this.action=_a;this.msg_type=_b;this.msg_key=_c;this.type=_d;this.sockjs._nexacro_command(_a,_b,_c,_d,_f);}};_pWebPush._message=function(_a){if(_a==1002){this.ip_idx++ ;this.xpush._onerror( -300,0);this.connect();return;}else if(_a.Result=="NG"&&_a.Action=="AUTH"){this.xpush._onerror( -202,0);return;}var _b=0;if(_a.Action=="AUTH"){_b=0;}else if(_a.Action=="BYEC"){_b=1;}else if(_a.Action=="ADDF"){_b=2;}else if(_a.Action=="DELF"){_b=3;}else if(_a.Action=="REQD"){_b=4;}else if(_a.Action=="RECT"){_b=5;}else if(_a.Action=="ADUI"){_b=8;}else if(_a.Action=="UNUI"){_b=9;}else if(_a.Action=="MSGC"){_b=10;}if(_a.Action=="BYEC"){this.sockjs._nexacro_destroy();delete this.sockjs;this.sockjs=null;g_sockjs=null;this.ip_idx=0;this._is_connected=false;if(this._do_disconnect){this.xpush._onsuccess(2,_b);}else{this.xpush._onerror( -100);}}else if(_a.Action=="KEEP"){this.xpush._onkeepalive(2);}else if(_a.Action=="AUTH"){this.control_retry_cnt=1;this.retry=1;this._is_connected=true;this.xpush._onsuccess(1,_b);}else if(_a.Action=="PUSH"||_a.Action=="RELI"){this.control_retry_cnt=1;var _c=this._find_layout(_a.TopicType);if(_c== -1){this.xpush._onerror( -703);return;}if(_a.Action=="RELI"){this.sockjs._nexacro_ackn(_a.MessageID);}var _d=this.layoutlist[_c];var _e=_a.Message;var _f=[];var _g={};var _h=_d.listfield;var _i=_h[0];_g.id=_i.id;_g.item=_a.TopicId;_g.key=_i.key;var _j=_i.check;if(_d.checkfieldidx==0){_j=_g.item;}else if(_d.checkfieldidx>0){_j=_e[_d.checkfieldidx-1];}_g.checkfield=_j;_f.push(_g);var _k="";var _l=(_a.TopicType?_a.TopicType.length:0)+(_a.TopicId?_a.TopicId.length:0);var _m=_e.length;for(i=0;i<_m;i++ ){_g={};_k=_k+" "+_e[i];_i=_h[i+1];if(!_i){continue;}_g.id=_i.id;_g.item=_e[i];_g.key=_i.key;_g.checkfield=_j;_f.push(_g);}_l+=_k.length;var _n={};_n.type=_a.TopicType;_n.datalist=_f;_n.action=_a.Action;if(_a.MessageID){_n.msgid=_a.MessageID;}this.xpush._onkeepalive(0);if(this.xpush.debug){trace("SIZE:"+_l+" CMD:"+_a.Action+" RECV Data:"+_k);}this.xpush._onxpush(_n);}else if(_a.Result=="OK"){this.control_retry_cnt=1;var _o=0;if(_a.Action=="MSGC"){var _p=[];var _q=_a.MsgcList.length;for(var _s=0;_s<_q;_s++ ){var _r={};_r.topictype=_a.MsgcList[_s].type;_r.topicid=_a.MsgcList[_s].id;_r.count=_a.MsgcList[_s].count;_p.push(_r);}this.xpush._onsuccess(9,_b,_a.Action,this.msg_type,this.msg_key,_p);_p=[];return;}else if(_a.Action=="REQD"){_o=6;}else if(_a.Action=="RECT"){this.xpush._onsuccess(5,_b,_a.Action,_a.MessageID,_a.TopicId);return;}this.xpush._onsuccess(_o,_b,_a.Action,_a.TopicType,_a.TopicId);}else if(_a.Result=="NG"){if(_a.Action==this.action&&_a.TopicType==this.msg_type&&_a.TopicId==this.msg_key){this.control_retry_cnt++ ;this.command(this.action,this.msg_type,this.msg_key,this.type,undefined,userid);}}else{if(_a.Action==this.action&&_a.TopicType==this.msg_type&&_a.TopicId==this.msg_key){this.control_retry_cnt++ ;this.command(this.action,this.msg_type,this.msg_key,this.type,_a,userid);}}};_pWebPush.set_keepalivetime=function(_a){this.keepalivetime=parseInt(_a);};_pWebPush.set_layouturl=function(_a){if(this._ajax){if(this._ajax._destroy){this._ajax._destroy();}this._ajax=null;var _b=this.layoutlist;var _c=_b.length;for(var _f=0;_f<_c;_f++ ){var _d=_b[_f].listfield;_d=[];}this.layoutlist=[];}this._ajax=nexacro.__createHttpRequest();this._ajax._handle.open("GET",_a,false);this._ajax._handle.send("");var _e=this._ajax._handle.responseXML;this._load_layoutxml(_e);};_pWebPush._find_layout=function(_a){var _b=this.layoutlist;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.id==_a){return _e;}}return  -1;};_pWebPush._hasKey=function(_a){var _b=this._find_layout(_a);if(_b== -1){this.xpush._onerror( -703);return false;}var _c=this.layoutlist;var _d=_c[_b];if(_d.id==_a){var _e=_d.listfield;var _f=_e.length;var _g=false;for(var _i=0;_i<_f;_i++ ){var _h=_e[_i];_g=_h.key;if(_g){break;}}if(!_g){this.xpush._onerror( -703);return false;}if(_d.noreg){return false;}}return true;};_pWebPush._load_layoutxml=function(_a){if(!_a){this.xpush._onerror( -703);return false;}var _b;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_b=_a.childNodes[1];}else{_b=_a.childNodes[0];}if(_b.nodeName!="message_layout"){return false;}var _c=_b.childNodes;for(var _p=0,_q=_c.length;_p<_q;_p++ ){if(_c[_p].nodeName=="#text"){continue;}var _d=null;var _e=false;var _f=false;var _g=false;var _h=_c[_p].attributes;var _i=_h.length;for(var _r=0;_r<_i;_r++ ){if(!_d&&_h[_r].nodeName=="id"||_h[_r].nodeName=="type"){_d=_h[_r].nodeValue;}else if(_h[_r].nodeName=="key"){_e=_h[_r].nodeValue;}else if(_h[_r].nodeName=="repeat"){_f=_h[_r].nodeValue;}else if(_h[_r].nodeName=="noreg"){_g=nexacro._toBoolean(_h[_r].nodeValue);}}var _j=_c[_p];var _k=_j.childNodes.length;if(_k>0){var _l=new nexacro.PushLayout();_l.id=_d;_l.nokey=_e;_l.repeat=_f;_l.noreg=_g;var _m=0;for(var _r=0;_r<_k;_r++ ){if(_j.childNodes[_r].nodeName=="#text"){continue;}var _n=new nexacro.Field();var _h=_j.childNodes[_r].attributes;var _i=_h.length;for(var _s=0;_s<_i;_s++ ){if(_h[_s].nodeName=="id"){_n.id=_h[_s].nodeValue;}if(_h[_s].nodeName=="type"){_n.type=_h[_s].nodeValue;}if(_h[_s].nodeName=="size"){_n.type=parseInt(_h[_s].nodeValue);}if(_h[_s].nodeName=="key"){var _o=nexacro._toBoolean(_h[_s].nodeValue);_n.key=_o;}if(_h[_s].nodeName=="check"){var _o=nexacro._toBoolean(_h[_s].nodeValue);if(_o){_n.check=true;_l.checkfieldidx=_m;}}}_l.listfield.push(_n);_m++ ;}this.layoutlist.push(_l);}}};}nexacro.XPush=function(_a,_b){if(nexacro.OS=="Android"){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;}this.name=_a||"";this.enableevent=true;this.commandlist=new Array;this.controlretry="5";this.debug=false;this.iplist=new Array;this.keepalivetime="30";this.keeptimeout="60";this.layouturl="";this.retry=1;this.sessionid="";this.timeout="30";this.userid="";this._parent_elem=_b;this.errorcode;this.errormsg;this.async=true;this._event_list={"onsuccess":1,"onerror":1,"onkeepalive":1};this.onsuccess=null;this.onerror=null;this._msg_unusedataset=["RGST","UNRG","ADUI","UNUI","MSGC"];var _c='""';this.webpush=null;if(!this._isWebPush()){if(this._parent_elem){var _d=this._parent_elem._getWindow();if(_d){this._handle=nexacro.__createXPushHandle(this,_d._handle);if(this._handle){nexacro.__setXPushHandleOnEvent(this._handle,this._onxpush,this._onsuccess,this._onerror,this._onkeepalive);nexacro.__setXPushHandleOnFunction(this._handle,this._getrandomipinfo,this._seterror);}}}}else{this.webpush=new nexacro.WebPush();this.webpush.xpush=this;}};var _pXPush=nexacro.XPush.prototype=nexacro._createPrototype(nexacro.EventSinkObject);_pXPush._type="nexacroXPush";_pXPush._type_name="XPush";_pXPush._handle=null;_pXPush._currentipinfo=null;_pXPush._sock=null;_pXPush._isWebPush=function(){if(nexacro.Browser!="Runtime"&&!nexacro.Device.isHybrid()){return true;}else{return false;}};_pXPush._findForm=function(_a){var _b=_a;while(_b&&_b._is_form==false){_b=_b.parent;}return _b;};_pXPush.on_created=function(){};_pXPush.destroy=function(){var _a='""';var _b;if(this._isWebPush()){this.webpush.destroy();this.webpush=null;}else{if(this._handle){nexacro.__destroyXPushHandle(this._handle);}}return true;};_pXPush.set_name=function(_a){this.name=_a;};_pXPush.set_channeltype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.channeltype="single";}else{this.channeltype=_a;}return true;};_pXPush.set_commandlist=function(){};_pXPush.set_connectip=function(_a){};_pXPush.set_connectport=function(_a){};_pXPush.set_controlretry=function(_a){if(typeof (_a)=="undefined"||_a==null){this.controlretry=5;}else{if(nexacro._isNumber(_a)){if(_a>=0){this.controlretry=_a;}else{return false;}}else{return false;}}this.on_apply_controlretry();return true;};_pXPush.on_apply_controlretry=function(){if(this._handle){nexacro.__setXPushControlRetry(this._handle,this.controlretry);}};_pXPush.set_debug=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);this.debug=_a;this.on_apply_debug();return true;};_pXPush.on_apply_debug=function(){if(!this._isWebPush()){if(this._handle){nexacro.__setXPushHandleDebug(this._handle,this.debug);}}};_pXPush.set_iplist=function(_a){var _b=this.iplist.length;if(_b>0){this.iplist.splice(0,_b);}if(typeof (_a)=="undefined"||_a==null||_a==""){}else{if(_a.indexOf(",")>=0){var _c=_a.split(",");if(_c.length>0){for(var _i=0;_i<_c.length;_i++ ){var _d=_c[_i];_d=_d.replace(/(^\s*)|(\s*$)/gi,"");var _e=_d.split(":");var _f=new Object;if(_e[0]=="tcp"||_e[0]=="http"||_e[0]=="https"||_e[0]=="tcps"||_e[0]=="TCPS"){if((!this._isWebPush()&&(_e[0]=="http"||_e[0]=="https"))||(this._isWebPush()&&(_e[0]=="tcp"||_e[0]=="tcps"||_e[0]=="TCPS"))){continue;}_f.type=_e[0];var _g=_e[1];_f.ip=_g.split("//")[1];_f.port=_e[2].valueOf();}else{if(this._isWebPush()){continue;}_f.type="tcp";_f.ip=_e[0];_f.port=_e[1].valueOf();}_f.retry=false;this.iplist.push(_f);}}}else{var _e=_a.replace(/(^\s*)|(\s*$)/gi,"");_e=_e.split(":");var _f=new Object;if(_e[0]=="tcp"||_e[0]=="http"||_e[0]=="https"||_e[0]=="tcps"||_e[0]=="TCPS"){_f.type=_e[0];var _g=_e[1];_f.ip=_g.split("//")[1];_f.port=0;if(_e[2]){var _h=_e[2].split("/");if(_h&&_h.length>0){_f.port=_h[0].valueOf();for(var _j=1;_j<_h.length;_j++ ){if(_h[_j]){_f.ip+="/"+_h[_j];}}}else{_f.port=_e[2].valueOf();}}}else{_f.type="tcp";_f.ip=_e[0];_f.port=_e[1].valueOf();}_f.retry=false;this.iplist.push(_f);}}return true;};_pXPush.set_keepalivetime=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.keepalivetime=30;}else{if(_a>=0){this.keepalivetime=_a;}else{this.keepalivetime=30;}}this.on_apply_keepalivetime();return true;};_pXPush.on_apply_keepalivetime=function(){if(this._isWebPush()){if(this.webpush){this.webpush.set_keepalivetime(this.keepalivetime);}}else{if(this._handle){nexacro.__setXPushHandleKeepAliveTime(this._handle,this.keepalivetime);}}};_pXPush.set_keeptimeout=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.keeptimeout=60;}else{if(_a>0){this.keeptimeout=_a;}else{this.keeptimeout=60;}}return true;};_pXPush.set_layouturl=function(_a){if(typeof (_a)=="undefined"||_a==null){this.layouturl="";}else{this.layouturl=_a;}this.on_apply_layouturl();return true;};_pXPush.on_apply_layouturl=function(){if(this.layouturl!=""){var _a=this.layouturl;if(nexacro.OS!="Android"||this._isWebPush()){var _b=this.layouturl;if(_b.substring(0,4).toLowerCase()=="url("){_b=_b.substring(5,_b.length-2);}var _c=this._findForm(this._parent_elem);if(_c){if(_b.indexOf("%")<0){_a=nexacro._getServiceLocation(_b,_c._getRefFormBaseUrl());}}}if(this._isWebPush()){this.webpush.set_layouturl(_a);}else{if(this._handle){nexacro.__setXPushHandleLayoutURL(this._handle,_a);}}}};_pXPush.set_retry=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.retry=1;}else{if(_a>=0){this.retry=_a;}else{this.retry=1;}}this.on_apply_retry();return true;};_pXPush.on_apply_retry=function(){if(!this._isWebPush()){if(this._handle){nexacro.__setXPushHandleRetry(this._handle,this.retry);}}};_pXPush.set_sessionid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.sessionid="";}else{this.sessionid=_a;}return true;};_pXPush.set_timeout=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.timeout=30;}else{if(_a>0){this.timeout=_a;}else{this.timeout=30;}}return true;};_pXPush.set_userid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.userid="";}else{this.userid=_a;}return true;};_pXPush.set_async=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);this.async=_a;this.on_apply_async();return true;};_pXPush.on_apply_async=function(){if(!this._isWebPush()){if(this._handle){nexacro.__setXPushHandleAsync(this._handle,this.async);}}};_pXPush.subscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADDF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unsubscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="DELF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="RGST";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNRG";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.requestMessageCount=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="MSGC";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerTopicWithUserID=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){strCommand="ADUI";this.command(strCommand,_a,_b,_d,_e,_f,_g,_h,_i,_j,_c);};_pXPush.unregisterTopicWithUserID=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){strCommand="UNUI";this.command(strCommand,_a,_b,_d,_e,_f,_g,_h,_i,_j,_c);};_pXPush.requestMessageCountWithUserID=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){strCommand="MSGC";this.command(strCommand,_a,_b,_d,_e,_f,_g,_h,_i,_j,_c);};_pXPush.command=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=new nexacro.CommandControl();_l.actiontype=_a;_l.type=_f;_l.callback=_g;_l.messagekey=_c;_l.messagetype=_b;_l.objdataset=_e;_l.objform=_d;if(_h!=undefined){if(( +_h)!=( +_h)){return false;}else{_l.row=_h;}}else{_l.row= -1;}if(_i!=undefined){_l.check=_i;}else{_l.check="0";}if(_j!=undefined){if(typeof (_j)!="boolean"){if((_j.toLowerCase()!="false")&&(_j.toLowerCase()!="true")){_l.useactiveformcallback=false;}else{_l.useactiveformcallback=nexacro._toBoolean(_j);}}else{_l.useactiveformcallback=_j;}}else{_l.useactiveformcallback=false;}this.strCommand=_a;this.strMessageType=_b;this.strMessageKey=_c;this.objDataset=_e;this.strCallBack=_g;if(this.strCommand===undefined||this.strCommand===null||this.strCommand==""){if(this._isWebPush()){this._onerror( -701);}else{nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}}else{this.strCommand=this.strCommand.toString();if(_a=="ADDF"||_a=="DELF"){if(_d===undefined||_d===null||this.strMessageType===undefined||this.strMessageType===null||this.strMessageType==""||this.strMessageKey===undefined||this.strMessageKey===null||this.strMessageKey==""||this.objDataset===undefined||this.objDataset===null||_f===undefined||_f===null||_f==""||this.strCallBack===undefined||this.strCallBack===null||this.strCallBack==""){if(this._isWebPush()){this._onerror( -701);}else{nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}}else{this.strMessageType=this.strMessageType.toString();this.strMessageKey=this.strMessageKey.toString();if((_f.toLowerCase()!="append")&&(_f.toLowerCase()!="update")&&(_f.toLowerCase()!="insert")&&(_f.toLowerCase()!="replace")&&(_f!="allUpdate")){if(this._isWebPush()){this._onerror( -701);}else{nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}}else{this.strCallBack=this.strCallBack.toString();if(_d[this.strCallBack]===undefined){if(this._isWebPush()){this._onerror( -701);}else{nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}}else{var _m=false;if(_a=="ADDF"){var _n=false;if(this._isWebPush()){if(!this.webpush||(this.webpush&&!this.webpush._is_connected)){_n=true;}}if(!_n){var _o;for(_o=0;_o<this.commandlist.length;_o++ ){var _p=this.commandlist[_o];if(_p.equal(_l)||(_p.messagekey==_l.messagekey&&_p.messagetype==_l.messagetype&&_p.actiontype==_l.actiontype)){_m=true;break;}}if(_o==this.commandlist.length){this.commandlist.push(_l);}}}if(this._isWebPush()){if(_m){if(_a=="ADDF"){this._onerror( -701,2,_a,_b,_c);}return;}if(_a=="DELF"){for(_o=0;_o<this.commandlist.length;_o++ ){var _p=this.commandlist[_o];if(_p.messagekey==_l.messagekey&&_p.messagetype==_l.messagetype&&_p.type==_l.type){break;}}if(_o==this.commandlist.length){this._onerror( -701,3,_a,_b,_c);return;}}this.webpush.command(_a,_b,_c,_f.toLowerCase());}else{if(this._handle){nexacro.__commandXPushHandle(this._handle,_a,_b,_c,_f.toLowerCase());}}}}}}else if(_a=="ADUI"||_a=="UNUI"){this.commandlist.push(_l);if(this._isWebPush()){this.webpush.command(_a,_b,_c,undefined,undefined,_k?_k:"");}else{if(this._handle){nexacro.__commandXPushHandle(this._handle,_a,_b,_c,"",_k?_k:"");}}}else if(_a=="MSGC"){this.commandlist.push(_l);if(this._isWebPush()){this.webpush.command(_a,_b,_c,undefined,undefined,_k?_k:"");}else{if(this._handle){nexacro.__commandXPushHandle(this._handle,_a,_b,_c,"",_k?_k:"");}}}else if(_a=="RGST"||_a=="UNRG"){this.commandlist.push(_l);if(!this._isWebPush()){if(this._handle){nexacro.__commandXPushHandle(this._handle,_a);}}}else{if(this._isWebPush()){this._onerror( -701);}else{if(this._handle){nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}}}}};_pXPush.connect=function(_a,_b){if(_a==null){_a=this.userid;}if(_b==null){_b=this.sessionid;}if(this._isWebPush()){this._getrandomipinfo();this._resetIPList();this.webpush.connect(_a,_b);}else{var _c;if(this._handle){this._resetIPList();nexacro.__connectXPushHandle(this._handle,_a,_b,this.retry,this.timeout,this.controlretry,this.keeptimeout);}}};_pXPush.disconnect=function(){if(this._isWebPush()){this.webpush.disconnect();}else{if(this._handle){nexacro.__disconnectXPushHandle(this._handle);}}};_pXPush.resume=function(){if(this._handle){nexacro.__resumeXPushHandle(this._handle);}};_pXPush.suspend=function(){if(this._handle){nexacro.__suspendXPushHandle(this._handle);}};_pXPush.getCurrentIP=function(){if(this._currentipinfo){return this._currentipinfo.ip;}return null;};_pXPush.getCurrentPort=function(){if(this._currentipinfo){return this._currentipinfo.port;}return null;};_pXPush.sendResponse=function(_a){if(this._isWebPush()){this.webpush.command("RECT",_a);}else{if(this._handle){nexacro.__sendResponseXPushHandle(this._handle,_a);}}};_pXPush.requestMessage=function(){if(arguments.length<2){return;}var _a=arguments[0];var _b=new Array();for(var _c=1;_c<arguments.length;_c++ ){if(this._isWebPush()){this.webpush.command("REQD",_a,arguments[_c]);}else{_b.push(arguments[_c]);}}if(!this._isWebPush()){if(_b.length>0){if(this._handle){nexacro.__requestMessageXPushHandle(this._handle,_a,_b);}}}};_pXPush._resetIPList=function(){var _a=this.iplist.length;for(var _b=0;_b<_a;_b++ ){if(this.iplist[_b].retry){this.iplist[_b].retry=false;}}};_pXPush._getrandomipinfo=function(){var _a=this.iplist.length;if(_a>0){for(var _c=0;_c<_a;_c++ ){if(this.iplist[_c].retry==false){break;}}if(_c==_a){return null;}var _b;do{_b=parseInt((Math.random()*_a));}while(this.iplist[_b].retry)if(this._isWebPush()&&this.webpush){this.webpush.ip_idx=_b;}this.iplist[_b].retry=true;this._currentipinfo=this.iplist[_b];return this._currentipinfo;}return null;};_pXPush._onxpush=function(_a){var _b;var _c=new Array();var _d=new Array();var _e=new Array();var _f=new Array();var _g=new Array();var _h=this._msg_unusedataset.length;for(var _ab=0;_ab<this.commandlist.length;_ab++ ){var _i=this.commandlist[_ab];var _j=false;for(var _ac=0;_ac<_h;_ac++ ){if(_i.actiontype==this._msg_unusedataset[_ac]){_j=true;}}if(_j){continue;}if(_i.messagetype==_a.type){var _k= -1;var _l=false;var _m=new Array();var _n=_a.datalist.length;for(var _ad=0;_ad<_n;_ad++ ){var _o=_a.datalist[_ad];var _p=_o.id;var _q=_o.item;var _r=_i.objdataset.colinfos.indexOf(_o.id);_m.push(_r);if(_o.key){_l=_o.key;}if(_k== -1&&_i.type=="update"){_k=_i.objdataset.findRow(_p,_q);}}var _s=false;var _t=false;var _u=false;for(var _ad=0;_ad<_n;_ad++ ){var _o=_a.datalist[_ad];var _p=_o.id;var _q=_o.item;var _v=_o.checkfield;var _w=_m[_ad];if(_w===undefined){continue;}if(_ad==0&&_q!=_i.messagekey){break;}if(_i.type=="append"){if(_k== -1){if(_i.messagekey==_o.item){_k=_i.objdataset.addRow();_i.objdataset.setColumn(_k,_w,_o.item);_d.push(_o.id);_c.push(_o.id);}}else{_t=true;_i.objdataset.setColumn(_k,_w,_o.item);_d.push(_o.id);_c.push(_o.id);_b=_k;}_u=true;}else if(_i.type=="insert"){if(_k== -1){if(_i.messagekey==_o.item){_k=_i.objdataset.insertRow(_i.row);_i.objdataset.setColumn(_k,_w,_o.item);_d.push(_o.id);_c.push(_o.id);}}else{_i.objdataset.setColumn(_k,_w,_o.item);_d.push(_o.id);_c.push(_o.id);_b=_k;}_t=true;_u=true;}else if(_i.type=="replace"){if(_i.row<_i.objdataset.getRowCount()){var _x=_i.objdataset.getColumn(_i.row,_w);if(_x!=_o.item){_i.objdataset.setColumn(_i.row,_w,_o.item);_c.push(_o.id);_b=_i.row;_t=true;}_u=true;_d.push(_o.id);}}else if(_i.type=="update"){if(!_l){this._onerror( -703);break;}_d.push(_o.id);var _x=_i.objdataset.getColumn(_k,_w);if(_x!=_o.item){_u=true;_t=true;if((_i.check=="0")||(_v&&_v==_i.check)){var _y=_i.objdataset.setColumn(_k,_w,_o.item);_c.push(_o.id);}}_b=_k;}else if(_i.type=="allUpdate"){if(!_l){this._onerror( -703);break;}if(_g.length==0){for(var _k=0;_k<_i.objdataset.getRowCount();_k++ ){if(_q==_i.objdataset.getColumn(_k,_p)){_e.push(_k);_g.push(_k);continue;}}}else{while(_g.length){_k=_g.splice(0,1);var _x=_i.objdataset.getColumn(_k,_w);if(_x!=_o.item){if((_i.check=="0")||(_v&&_v==_i.check)){_i.objdataset.setColumn(_k,_w,_o.item);var _z=_k+","+_o.id;_f.push(_z);}}}_t=true;}_u=true;}}if(_a.action=="RELI"&&_a.msgid!=undefined&&_a.msgid!=null){_t=true;}else if(_t==false){continue;}if(!_u){continue;}if((!_i.useactiveformcallback)||(_i.useactiveformcallback&&(_i.objform===application.getActiveForm()))){if(_i.type!="allUpdate"){var _aa=_i.objform[_i.callback];if(_aa instanceof Function){_aa.call(_i.objform,_b,_c.join(),_d.join(),"DATA",_a.action,_a.msgid);_e.splice(0,_e.length);_d.splice(0,_d.length);}}else if(_i.type=="allUpdate"){var _aa=_i.objform[_i.callback];if(_aa instanceof Function){_aa.call(_i.objform,_e.join(),null,_f,"DATA",_a.action,_a.msgid);_e.splice(0,_e.length);_f.splice(0,_f.length);}}}}}};_pXPush._onsuccess=function(_a,_b,_c,_d,_e,_f){var _g=new Object();_g.messagetype="";_g.messagekey="";_g.messageid="";_g.returnvalue="";if(_c=="RECT"){_g.messagetype="";_g.messagekey="";_g.messageid=_d;}else if(_c=="RGST"||_c=="UNRG"){if(nexacro.OS=="Android"){_g.messagetype="";_g.messagekey="";_g.messageid="";}}else if(_c=="MSGC"){_g.messageid="";_g.messagetype=_d;_g.messagekey=_e;_g.returnvalue=_f;}else if(_b==0||_b==1){}else{_g.messageid="";_g.messagetype=_d;_g.messagekey=_e;}var _h;var _i=this.commandlist.length;var _j;for(_j=0;_j<_i;_j++ ){_h=this.commandlist[_j].valueOf();if(_h.messagetype==_d){if(_h.messagekey==_e&&((_h.actiontype==_c)||(_c=="DELF"&&_h.actiontype=="ADDF"))){break;}}}if(_j==_i){_h=null;}if(_h&&(_c=="DELF"||_c=="ADUI"||_c=="DELF"||_c=="UNUI"||_c=="MSGC"||_c=="RGST "||_c=="UNRG")){_h.actiontype=_c;var _k=new nexacro.Event.XPushEventInfo("onsuccess",_a,_b,this.getCurrentIP(),this.getCurrentPort(),_h,_g);this._fire_onsuccess(this,_k);this.commandlist.splice(_j,1);delete _k;_k=null;}else{if(this._isWebPush()==true){if(_b==1||_b==0){this.commandlist=null;this.commandlist=new Array;}}var _k=new nexacro.Event.XPushEventInfo("onsuccess",_a,_b,this.getCurrentIP(),this.getCurrentPort(),_h,_g);this._fire_onsuccess(this,_k);if(this._isWebPush()==false){if(_b==1){this.commandlist=null;this.commandlist=new Array;}}delete _k;_k=null;}delete _g;_g=null;};_pXPush._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pXPush._onerror=function(errorcode,action,classtype,messagetype,messagekey,reply){if(action==undefined){action= -1;}var pushmessageobject=new Object();pushmessageobject.messagetype="";pushmessageobject.messagekey="";pushmessageobject.messageid="";pushmessageobject.returnvalue="";if(classtype=="RECT"){pushmessageobject.messageid=messagetype;pushmessageobject.messagekey="";pushmessageobject.messagetype="";}else{pushmessageobject.messagetype=messagetype;pushmessageobject.messagekey=messagekey;pushmessageobject.messageid="";}var command;var listlength=this.commandlist.length;for(var i=0;i<listlength;i++ ){command=this.commandlist[i];if(command.messagetype==messagetype){if(command.messagekey==messagekey){break;}}command=null;}var errormsg=this._geterrormsg(errorcode);this.errorcode=errorcode;this.errormsg=errormsg;var e=new nexacro.Event.XPushErrorEventInfo("onerror",action,errorcode,errormsg,this.getCurrentIP(),this.getCurrentPort(),command,pushmessageobject);reply&&(e.reply=eval("("+reply+")"));this._fire_onerror(this,e);};_pXPush._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pXPush._onkeepalive=function(_a){var _b=new nexacro.Event.XPushKeepAliveEventInfo("onkeepalive",_a);this._fire_onkeepalive(this,_b);};_pXPush._fire_onkeepalive=function(_a,_b){if(this.onkeepalive&&this.onkeepalive._has_handlers){return this.onkeepalive._fireEvent(this,_b);}};_pXPush._seterror=function(_a,_b){this.errorcode=_a;this.errormsg=_b;};_pXPush._onrequestmessagecount=function(_a,_b,_c,_d,_e){var _f=new nexacro.Event.XPushRequestMessageCountEventInfo(_a,_b,_c,_d,_e);this._fire_onrequestmessagecount(this,_f);};_pXPush._fire_onrequestmessagecount=function(_a,_b){if(this.onrequestmessagecount&&this.requestmessagecount._has_handlers){return this.onrequestmessagecount._fireEvent(this,_b);}};_pXPush._geterrormsg=function(_a){var _b;if(_a== -100){_b="object_push_send_byec";}else if(_a== -101){_b="object_push_socket_timeout";}else if(_a== -200){_b="object_push_fail_command_auth";}else if(_a== -201){_b="object_push_fail_all_command_auth";}else if(_a== -202){_b="object_push_fail_data_auth";}else if(_a== -300){_b="object_push_fail_connect";}else if(_a== -301){_b="object_push_fail_send_receive";}else if(_a== -302){_b="object_push_connected_already";}else if(_a== -401){_b="object_push_fail_disconnect";}else if(_a== -501){_b="object_push_fail_suspend";}else if(_a== -601){_b="object_push_fail_resume";}else if(_a== -701){_b="object_push_fail_command";}else if(_a== -702){_b="object_push_notfound_layouturl";}else if(_a== -703){_b="object_push_invalid_layouturl";}else if(_a== -801){_b="object_push_fail_protocol_version";}else if(_a== -901){_b="object_push_fail_rect";}else if(_a== -902){_b="object_push_fail_reqd";}else if(_a== -1001){_b="object_push_fail_rgst_unrg";}else if(_a== -1002){_b="object_push_fail_adui";}else if(_a== -1003){_b="object_push_fail_unui";}else if(_a== -1004){_b="object_push_fail_msgc";}else if(_a== -1072){_b="object_push_fail_rgst_unrg";}else if(_a== -1092){_b="object_push_fail_adui";}return application._getErrorMessge(_b);};_pXPush.getObject=function(_a){if(_a==undefined){_b=null;}else{_a=_a*1;var _b=nexacro.Device._userCreatedObj[_a];if(typeof _b=="undefined"||_b==null){_b=null;}}return _b;};delete _pXPush;};if(!nexacro.Device){nexacro.DeviceI=function(){this._userCreatedObj={};this.curDevice=0;this.isphone=0;this._is_hybrid=true;};var _pDeviceI=nexacro.DeviceI.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.DeviceI);_pDeviceI._type_name="Device";_pDeviceI.setup=function(){};_pDeviceI.execiOS=function(){};_pDeviceI.exec=function(_a){};_pDeviceI.makeID=function(){};_pDeviceI.runCallback=function(_a,_b,_c){};_pDeviceI.on_created=function(){};_pDeviceI.isHybrid=function(){};_pDeviceI.publicNumCheck=function(){};_pDeviceI.paramck_folderName=function(_a){};_pDeviceI.publicNumCheck_Sms=function(){};_pDeviceI.pramck_makeCall=function(_a,_b){};_pDeviceI.paramck_play=function(_a){};_pDeviceI.paramck_phoneNumber=function(_a){};_pDeviceI.paramck_message=function(_a){};_pDeviceI.paramck_sendMessage=function(_a,_b){};_pDeviceI.paramck_deleteMessage=function(_a){};_pDeviceI.paramck_AudioLoad=function(_a){};_pDeviceI.paramck_isReachable=function(_a){};_pDeviceI.paramck_watchStart=function(_a){};_pDeviceI.parmack_Geolocation=function(_a,_b,_c){};_pDeviceI.paramck_vibstartpos=function(_a){};_pDeviceI.paramck_vibrepeatcount=function(_a){};_pDeviceI.paramck_vibpattern=function(_a){};_pDeviceI.paramck_accuracy=function(_a){};_pDeviceI.parmack_AccelgetCurrentPosition=function(_a){};_pDeviceI.pramck_AccelwatchStart=function(_a,_b){};_pDeviceI.pramck_virtualproperty=function(_a){};_pDeviceI.pramck_asyncOpen=function(_a,_b){};_pDeviceI.pramck_asyncRead=function(_a){};_pDeviceI.pramck_asyncReadLine=function(_a){};_pDeviceI.paramck_asyncSeek=function(_a,_b){};_pDeviceI.pramck_asyncDelete=function(_a){};_pDeviceI.pramck_asyncIsExist=function(_a){};_pDeviceI.pramck_asyncGetFileList=function(_a,_b,_c){};_pDeviceI.pramck_filedialog_defaultextension=function(_a){};_pDeviceI.pramck_filedialog_filter=function(_a){};_pDeviceI.pramck_filedialog_numbercheck=function(_a){};_pDeviceI.pramck_filedialogasyncOpen=function(_a,_b,_c,_d){};_pDeviceI.pramck_contactString=function(_a){};_pDeviceI.isConvertDateToString=function(_a){};_pDeviceI.isValidDate=function(_a){};_pDeviceI.pramk_ContactFieldArray=function(_a){};_pDeviceI.pramk_ContactIMArray=function(_a){};_pDeviceI.pramk_ContactAddressArray=function(_a){};_pDeviceI.pramk_ContactOrganizationArray=function(_a){};_pDeviceI.pramk_ContactPhotoArray=function(_a){};_pDeviceI.parseDateToInt=function(_a){};_pDeviceI.paramck_takePicture=function(_a,_b,_c,_d,_e){};_pDeviceI.paramck_busytimeout=function(_a){};_pDeviceI.paramck_datasource=function(_a){};_pDeviceI.paramck_asyncOpen=function(_a,_b){};_pDeviceI.paramck_query=function(_a){};_pDeviceI.paramck_paramck_ldbconnection=function(_a){};_pDeviceI.paramck_asyncExecuteQuery=function(_a){};_pDeviceI.paramck_ImagePicker_asyncOpen=function(_a,_b,_c,_d,_e){};_pDeviceI.encodeString=function(_a){};_pDeviceI.DatasetToJSONString=function(_a){};_pDeviceI.DatasetToJSONObject=function(_a){};_pDeviceI.JSONObjectToDataset=function(_a,_b){};_pDeviceI.JSONStringToDataset=function(_a,_b){};_pDeviceI.DatasetToJSONString2=function(_a){};_pDeviceI.DatasetToJSONObject2=function(_a){};_pDeviceI.JSONObjectToDataset2=function(_a,_b){};_pDeviceI.JSONStringToDataset2=function(_a,_b){};_pDeviceI.exit=function(_a){};_pDeviceI=null;nexacro.Device=new nexacro.DeviceI();if(nexacro.Device.isHybrid()){if(window.system){if(nexacro.Device.curDevice==1){nexacro.System.prototype();nexacro.System.getSystemInfo();}}}if(nexacro.System){nexacro.System.makeCall=function(_a,_b){};nexacro.System.execBrowserHybrid=function(_a){};nexacro.System.play=function(_a){};nexacro.System.stop=function(){};nexacro.System.getSystemInfo=function(){};nexacro.System.recvPhoneInfo=function(_a){};nexacro.System.setOrientation=function(_a){};nexacro.System.getPackageVersion=function(){};}}if(!nexacro.Sms){nexacro.Sms=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._refform=_b;this.name=_a||"";this.phonenumber="";this.message="";this.enableevent=true;this._is_alive=true;this._event_list={"cansendmessage":1,"onsendmessage":1,"onrecvmessage":1,"ondeletemessage":1,"onerror":1,"onreadmessagelist":1};this.cansendmessage=null;this.onsendmessage=null;this.onrecvmessage=null;this.ondeletemessage=null;this.onerror=null;this.onreadmessagelist=null;var _c='""';var _d;_d='{"id":'+this._id+', "div":"Sms", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pSms=nexacro.Sms.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Sms);_pSms._type_name="Sms";_pSms.destroy=function(){var _a='""';var _b;this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Sms", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pSms.on_created=function(){};_pSms._getReferenceContext=function(){return this._refform;};_pSms.set_phonenumber=function(_a){if(this.paramck_phoneNumber(_a)==true){this.phonenumber=_a;return true;}return false;};_pSms.set_message=function(_a){if(this.paramck_message(_a)==true){this.message=_a;return true;}return false;};_pSms.sendMessage=function(_a,_b){if(nexacro.Device.curDevice!=0){if(nexacro.SystemType=="ipad"){this.sendUnsupportedFunc();return false;}}var _c=new nexacro.SmsMessage("SmsMessage",this);_c.set_smsid("-1");if(_a==null&&_b==null){_c.set_phonenumber(this.phonenumber||"");_c.set_message(this.message||"");}else if(_a&&_b){if(typeof (_a)=="undefined"){_a="";}if(typeof (_b)=="undefined"){_b="";}if(!_c.set_phonenumber(_a)){return false;}_c.set_message(_b);}else if(_a!=null||_b!=null){if(typeof (_a)=="undefined"){_a="";}if(!_c.set_phonenumber(_a)){return false;}_c.set_message(_b||"");}else{return false;}var _d=this._cansendmessage(_c.phonenumber,_c.message);if(_d!=null){if(_d.toString()=="false"){return false;}}if(this.paramck_sendMessage(_c.phonenumber,_c.message)){var _e;var _f;var _g=_c.phonenumber.split("+").join("");if(nexacro.Device.curDevice==0){_e='{"number":"'+_g+'", "msg":"'+_c.message+'"}';}else{_e='{  "number":"'+_c.phonenumber;_e+='", "msg":"'+_c.message.replace(/\n/g,"_NEWLINE_");_e+='"}';}_f='{"id":'+this._id+', "div":"Sms", "method":"sendMessage", "params":'+_e+'}';nexacro.Device.exec(_f);return true;}else{return false;}};_pSms.recvStart=function(){if(nexacro.Device.curDevice==0){var _a='""';var _b='{"id":'+this._id+', "div":"Sms", "method":"recvStart", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this.sendUnsupportedFunc();}};_pSms.recvStop=function(){if(nexacro.Device.curDevice==0){var _a='""';var _b='{"id":'+this._id+', "div":"Sms", "method":"recvStop", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this.sendUnsupportedFunc();}};_pSms.readMessageList=function(){if(nexacro.Device.curDevice==0){var _a='""';var _b='{"id":'+this._id+', "div":"Sms", "method":"readMessageList", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this.sendUnsupportedFunc();}};_pSms.deleteMessage=function(_a){if(nexacro.Device.curDevice!=0){this.sendUnsupportedFunc();return false;}this.index=_a;if(this.paramck_deleteMessage(this.index)){if(nexacro.Device.curDevice==0){this.id=_a;var _b='{"id":"'+this.id+'"}';var _c='{"id":'+this._id+', "div":"Sms", "method":"deleteMessage", "params":'+_b+'}';nexacro.Device.exec(_c);}return true;}else{return false;}};_pSms._onsendmessage=function(_a){var _b;if(nexacro.Device.curDevice==0){_b=new nexacro.SmsEventInfo("onsendmessage",_a.smsid,_a.phonenumber,_a.message);}else{_b=new nexacro.SmsEventInfo("onsendmessage", -1,_a.phonenumber,_a.message);}this._fire_onsendmessage(this,_b);};_pSms._fire_onsendmessage=function(_a,_b){if(this.onsendmessage&&this.onsendmessage._has_handlers){return this.onsendmessage._fireEvent(this,_b);}return true;};_pSms._onrecvmessage=function(_a){var _b=new nexacro.SmsEventInfo("onrecvmessage",_a.smsid,_a.phonenumber,_a.message);this._fire_onrecvmessage(this,_b);};_pSms._fire_onrecvmessage=function(_a,_b){if(this.onrecvmessage&&this.onrecvmessage._has_handlers){return this.onrecvmessage._fireEvent(this,_b);}return true;};_pSms._onreadmessagelist=function(objData){var arr=new Array(objData.length);for(var i=0;i<objData.length;i++ ){var jsonOb=eval("("+objData[i]+")");var temp=new nexacro.SmsMessage(jsonOb.id,jsonOb.phonenumber,jsonOb.message,jsonOb.type,jsonOb.date);arr[i]=temp;}var e=new nexacro.SmsMessagListEventInfo(arr);this._fire_onreadmessagelist(this,e);};_pSms._fire_onreadmessagelist=function(_a,_b){if(this.onreadmessagelist&&this.onreadmessagelist._has_handlers){return this.onreadmessagelist._fireEvent(this,_b);}return true;};_pSms._ondeletemessage=function(_a){var _b=new nexacro.SmsEventInfo("ondeletemessage",_a.smsid,_a.phonenumber,_a.message);this._fire_ondeletemessage(this,_b);};_pSms._fire_ondeletemessage=function(_a,_b){if(this.ondeletemessage&&this.ondeletemessage._has_handlers){return this.ondeletemessage._fireEvent(this,_b);}return true;};_pSms._cansendmessage=function(_a,_b){var _c;if(nexacro.Device.curDevice==0){if(nexacro.__getMobileProductType().toLowerCase()=="shw-m380s"){this.sendUnsupportedFunc();return false;}_c=new nexacro.SmsEventInfo("cansendmessage","-1",_a,_b);}else{if(nexacro.SystemType=="ipad"){this.sendUnsupportedFunc();return false;}_c=new nexacro.SmsEventInfo("cansendmessage", -1,_a,_b);}return this._fire_cansendmessage(this,_c);};_pSms._fire_cansendmessage=function(_a,_b){if(this.cansendmessage&&this.cansendmessage._has_handlers){return this.cansendmessage._fireEvent(this,_b);}return true;};_pSms._onerror=function(_a){var _b;if(nexacro.Device.curDevice==0){_b=new nexacro.SmsErrorEventInfo("onerror",_a.smsid,_a.phonenumber,_a.message,_a.errorcode,_a.errormsg);}else{objSmsMessage.set_smsid( -1);_b=new nexacro.SmsErrorEventInfo("onerror",_a.smsid,_a.phonenumber,_a.message,_a.errorcode,_a.errormsg);}this._fire_onerror(this,_b);};_pSms._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pSms.sendUnsupportedFunc=function(){var _a=this;nexacro.OnceCallbackTimer.callonce(this,function(){var _b=new nexacro.SmsErrorEventInfo("onerror","-1",_a.phonenumber,_a.message,"2002","The phone does not support");this._fire_onerror(this,_b);},20);return true;};_pSms.paramck_phoneNumber=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}else{_a=_a.toString();}var _b="";try{_b=_a.split("+").join("");_b=_b.split("-").join("");}catch(e){return false;}if(_b.length<3){return false;}if(!this.publicNumCheck_Sms(_b)){return false;}return true;};_pSms.paramck_message=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pSms.paramck_sendMessage=function(_a,_b){if(_a==null||_b==null||typeof (_a)=="undefined"||typeof (_b)=="undefined"||typeof (_b)!="string"){return false;}else{_a=_a.toString();}try{var _c="";_c=_a.split("+").join("");_c=_c.split("-").join("");}catch(e){return false;}if(!this.publicNumCheck_Sms(_c)){return false;}return true;};_pSms.paramck_deleteMessage=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<1){return false;}return true;};_pSms.publicNumCheck_Sms=function(_a){try{var _b=_a.toString().split(" ").join("");}catch(e){return false;}if(_b.length==0){return false;}try{var _c=Number(_a.toString());}catch(e){return false;}return true;};_pSms=null;}if(!nexacro.SmsMessagListEventInfo){nexacro.SmsMessagListEventInfo=function(_a){this.eventid="onreadmessagelist";this.smsmessages=_a;};var _pSmsMsgList=nexacro.SmsMessagListEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsMessagListEventInfo);_pSmsMsgList._type_name="SmsMessageListEventInfo";_pSmsMsgList=null;}if(!nexacro.SmsMessage){nexacro.SmsMessage=function(_a,_b,_c,_d,_e){this.smsid=_a;this.phonenumber=_b;this.message=_c;this.type=_d;this.date=_e;};var _pSmsMessage=nexacro.SmsMessage.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.SmsMessage);_pSmsMessage._type_name="SmsMessage";_pSmsMessage.set_phonenumber=function(_a){if(this.paramck_phoneNumber(_a)==true){this.phonenumber=_a;return true;}return false;};_pSmsMessage.set_message=function(_a){if(this.paramck_message(_a)==true){this.message=_a;return true;}return false;};_pSmsMessage.set_smsid=function(_a){if(typeof (_a)=="undefined"){this.smsid="";return true;}else if(typeof (_a)=="string"){this.smsid=Number(_a);return true;}else{this.smsid=_a;return true;}return false;};_pSmsMessage.set_type=function(_a){if(typeof (_a)=="undefined"){this.Type="";return true;}else{this.Type=_a;return true;}return false;};_pSmsMessage.set_date=function(_a){if(typeof (_a)=="undefined"){this.date="";return true;}else{this.date=_a;return true;}return false;};_pSmsMessage.paramck_phoneNumber=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}else{_a=_a.toString();}var _b="";try{_b=_a.split("+").join("");_b=_b.split("-").join("");}catch(e){return false;}if(_b.length<3){return false;}if(!this.publicNumCheck_Sms(_b)){return false;}return true;};_pSmsMessage.paramck_message=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pSmsMessage.publicNumCheck_Sms=function(_a){try{var _b=_a.toString().split(" ").join("");}catch(e){return false;}if(_b.length==0){return false;}try{var _c=Number(_a.toString());}catch(e){return false;}return true;};_pSmsMessage=null;}if(!nexacro.SmsEventInfo){nexacro.SmsEventInfo=function(_a,_b,_c,_d){if(typeof (_b)=="undefined"){this.smsid="";}else if(typeof (_b)=="string"){this.smsid=Number(_b);}else{this.smsid=_b;}this.eventid=_a;this.phonenumber=_c;if(nexacro.Device.curDevice==0){this.message=_d;}else{this.message=_d.replace(/__NEW_LINE__/g,"\n");}};var _pSmsEventInfo=nexacro.SmsEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsEventInfo);_pSmsEventInfo._type_name="SmsEventInfo";_pSmsEventInfo=null;}if(!nexacro.SmsErrorEventInfo){nexacro.SmsErrorEventInfo=function(_a,_b,_c,_d,_e,_f){if(typeof (_b)=="undefined"){this.smsid="";}else{this.smsid=_b;}this.eventid=_a;this.smsid=_b;this.phonenumber=_c;if(nexacro.Device.curDevice==0){this.message=_d;}else{this.message=_d.replace(/__NEW_LINE__/g,"\n");}this.errortype="ObjectError";this.statuscode=_e;this.errormsg=_f;};var _pSmsErrorEventInfo=nexacro.SmsErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsErrorEventInfo);_pSmsErrorEventInfo._type_name="SmsErrorEventInfo";_pSmsErrorEventInfo=null;}if(!nexacro.AudioPlayer){nexacro.AudioPlayer=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._refform=_b;this.name=_a||"";this.bload=false;this.bplay=false;this.bpaused=false;this.enableevent=true;this._is_alive=true;this.url="";this.duration=0.0;this.currentpos=0.0;this.repeatcount=1;this.startpos= -1;this.stoppos= -1;this.volume= -1;this.pan= -1;this._event_list={"onload":1,"onplay":1,"onplaying":1,"onstop":1,"onerror":1,"onmovepos":1};this.onload=null;this.onplay=null;this.onplaying=null;this.onstop=null;this.onerror=null;this.onmovepos=null;var _c='""';var _d='{"id":'+this._id+', "div":"Sound", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pAudioPlayer=nexacro.AudioPlayer.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.AudioPlayer);_pAudioPlayer._type_name="AudioPlayer";_pAudioPlayer.destroy=function(){var _a='""';var _b;this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Sound", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pAudioPlayer.on_created=function(){};_pAudioPlayer._getReferenceContext=function(){return this._refform;};_pAudioPlayer.setSystemVolume=function(_a){this.volume=_a;};_pAudioPlayer.set_duration=function(_a){};_pAudioPlayer.set_currentpos=function(_a){};_pAudioPlayer.set_repeatcount=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.repeatcount=_a;}else{return false;}}else{return false;}}return true;};_pAudioPlayer.set_startpos=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a== -1)||(0<=_a&&_a<=this.duration)){this.startpos=_a;}else{return false;}}return true;};_pAudioPlayer.set_stoppos=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a== -1)||(0<=_a&&_a<=this.duration)){this.stoppos=_a;}else{return false;}}return true;};_pAudioPlayer.set_volume=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a>=0.0&&_a<=1.0)||_a== -1){this.volume=_a;}else{return false;}}return true;};_pAudioPlayer.set_pan=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a>=0.0&&_a<=1.0)||_a== -1){this.pan=_a;}else{return false;}}return true;};_pAudioPlayer.set_url=function(_a){var _b=this.paramck_AudioLoad(_a);if(_b==true){this.url=_a;return true;}else{return false;}};_pAudioPlayer.load=function(_a){this.startpos= -1;this.stoppos= -1;var _b=this.paramck_AudioLoad(_a);if(_b==true){this.url=_a;if(nexacro.Device.curDevice==0){var _c="";var _d="";var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_c=1;_d=_a.substring(9,_a.length);}else if(_e.toLowerCase()=="%sd_card%"){_c=2;_d=_a.substring(9,_a.length);}else if(_e.substring(0,7)=="http://"){_d=_a;_c="";}else{var _f=application._getFileCache(_a);if(null!=_f){_c=3;_d=_f;}else{_d=_a;}}var _g='{"target":"'+_d+'", "EnvironmentPath":"'+_c+'"}';}else{var _h="";var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_h="_userapp_"+_a.substring(9,_a.length);}else if(_e.substring(0,7)=="http://"){_h=_a;}else{var _f=application._getFileCache(_a);if(null!=_f){_h="_userapp_"+_f;}else{_h=_a;}}var _g='{"target":"'+_h+'"}';}var _i='{"id":'+this._id+', "div":"Sound", "method":"load", "params":'+_g+'}';nexacro.Device.exec(_i);return true;}else{return false;}};_pAudioPlayer.play=function(_a){var _b;var _c;var _d;if(typeof (_a)=="undefined"||_a==null||_a==""){_a=0;_d=1;}else{if(nexacro.Device.publicNumCheck(_a)&&_a>=0&&_a<=86400000){if(_a<200){return false;}else{_d=0;}}else{return false;}}if(typeof (this.repeatcount)=="undefined"||this.repeatcount==null){this.repeatcount=1;}if(typeof (this.startpos)=="undefined"||this.startpos==null||this.startpos==0){this.startpos= -1;}if(typeof (this.stoppos)=="undefined"||this.stoppos==null||this.stoppos==0){this.stoppos= -1;}if(this.volume>=0.0&&this.volume<=1.0){this.setvolume();}if((this.pan>=0.0&&this.pan<=1.0)||this.pan== -1){this.setpan();}if(nexacro.Device.curDevice==0){_b='{  repeatstartpos:"'+this.startpos;_b+='", repeatstoppos:"'+this.stoppos;_b+='", repeatcount:"'+this.repeatcount;_b+='", playingeventtime:"'+_a;_b+='", intervaltimestate:"'+_d;_b+='"}';}else{_b='{  "repeatstartpos":"'+this.startpos;_b+='", "repeatstoppos":"'+this.stoppos;_b+='", "repeatcount":"'+this.repeatcount;_b+='", "playingeventtime":"'+_a;_b+='", "intervaltimestate":"'+_d;_b+='"}';}if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _f=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_f);},20);return true;}if(this.bplay==true){var _e=this;nexacro.OnceCallbackTimer.callonce(this,function(){var _f=new nexacro.AudioErrorEventInfo("onerror","",_e.currentpos,"1008","Already playing");this._fire_onerror(this,_f);},20);return true;}if(this.startpos== -1&&this.stoppos== -1){_c='{"id":'+this._id+', "div":"Sound", "method":"play", "params":'+_b+'}';}else{_c='{"id":'+this._id+', "div":"Sound", "method":"repeatplay", "params":'+_b+'}';}nexacro.Device.exec(_c);return true;};_pAudioPlayer.pause=function(){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_c);},20);return;}if(this.bplay==false&&this.bpaused==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1009","Not playing");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1303","Already paused");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b='{"id":'+this._id+', "div":"Sound", "method":"pause", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer.resume=function(){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_c);},20);return;}if(this.bplay==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1011","Not Paused");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1010","Can't resume.");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b='{"id":'+this._id+', "div":"Sound", "method":"resume", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer.stop=function(){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_c);},20);return;}if(this.bplay==false&&this.bpaused!=true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1009","Not playing");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b='{"id":'+this._id+', "div":"Sound", "method":"stop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer._onload=function(_a){var _b=new nexacro.AudioEventInfo("onload",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.bload=true;this.bplay=false;this.bpaused=false;this.duration=_a.playtime;this._fire_onload(this,_b);};_pAudioPlayer._fire_onload=function(_a,_b){if(this.onload&&this.onload._has_handlers){return this.onload._fireEvent(this,_b);}return true;};_pAudioPlayer._onplay=function(_a){var _b=new nexacro.AudioEventInfo("onplay",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.currentpos=_a.curtime;this.bplay=true;this.bpaused=false;this._fire_onplay(this,_b);};_pAudioPlayer._fire_onplay=function(_a,_b){if(this.onplay&&this.onplay._has_handlers){return this.onplay._fireEvent(this,_b);}return true;};_pAudioPlayer._onplaying=function(_a){var _b=new nexacro.AudioEventInfo("onplaying",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.currentpos=_a.curtime;this._fire_onplaying(this,_b);};_pAudioPlayer._fire_onplaying=function(_a,_b){if(this.onplaying&&this.onplaying._has_handlers){return this.onplaying._fireEvent(this,_b);}return true;};_pAudioPlayer._onstop=function(_a){var _b=new nexacro.AudioEventInfo("onstop",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.currentpos=_a.curtime;if(_a.reason=="4"||_a.reason=="5"){this.bpaused=false;this.bplay=false;this.currentpos=0.0;}else if(_a.reason=="6"){this.bpaused=true;this.bplay=false;}this._fire_onstop(this,_b);};_pAudioPlayer._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pAudioPlayer.movePos=function(_a){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","",0,"1007","Not loaded");this._fire_onerror(this,_d);},20);return;}if(typeof (_a)!="undefined"&&(_a>=0&&_a<=this.duration)&&nexacro.Device.publicNumCheck(_a)){this.time=_a||"";var _b;if(nexacro.Device.curDevice==0){_b='{  desttime:"'+this.time;_b+='"}';}else{_b='{  "desttime":"'+this.time;_b+='"}';}var _c='{"id":'+this._id+', "div":"Sound", "method":"movePos", "params":'+_b+'}';nexacro.Device.exec(_c);return true;}else{return false;}};_pAudioPlayer._onmovepos=function(_a){this.currentpos=_a.curtime;var _b=new nexacro.AudioEventInfo("onmovepos",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this._fire_onmovepos(this,_b);};_pAudioPlayer._fire_onmovepos=function(_a,_b){if(this.onmovepos&&this.onmovepos._has_handlers){return this.onmovepos._fireEvent(this,_b);}return true;};_pAudioPlayer.setvolume=function(){var _a;if(nexacro.Device.curDevice==0){_a='{  volume:"'+this.volume;_a+='"}';}else{_a='{  "volume":"'+this.volume;_a+='"}';}var _b='{"id":'+this._id+', "div":"Sound", "method":"setvolum", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer.setpan=function(){var _a;if(nexacro.Device.curDevice==0){_a='{  pan:"'+this.pan;_a+='"}';}else{_a='{  "pan":"'+this.pan;_a+='"}';}var _b='{"id":'+this._id+', "div":"Sound", "method":"setpan", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer._onerror=function(_a){var _b=new nexacro.AudioErrorEventInfo("onerror",_a.url,_a.curtime,_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pAudioPlayer._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pAudioPlayer.paramck_AudioLoad=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pAudioPlayer=null;}if(!nexacro.AudioEventInfo){nexacro.AudioEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.eventid=_a;this.reason=_b;this.url=_c;this.duration=_d;this.currentpos=_e;};var _pAudioEventInfo=nexacro.AudioEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AudioEventInfo);_pAudioEventInfo._type_name="AudioEventInfo";_pAudioEventInfo=null;}if(!nexacro.AudioErrorEventInfo){nexacro.AudioErrorEventInfo=function(_a,_b,_c,_d,_e){this.eventid=_a;this.url=_b;this.currentpos=_c;this.errortype="ObjectError";this.statuscode=_d;this.errormsg=_e;};var _pAudioErrorEventInfo=nexacro.AudioErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AudioErrorEventInfo);_pAudioErrorEventInfo._type_name="AudioErrorEventInfo";_pAudioErrorEventInfo=null;}if(!nexacro.Geolocation){nexacro.Geolocation=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.ACCURACY_0=0;this.ACCURACY_1=1;this.ACCURACY_2=2;this.ACCURACY_3=3;this.ACCURACY_4=4;this.coords={latitude:0.0,longitude:0.0,altitude:0.0,heading:0.0,speed:0.0,accuracy:0.0,altitudeaccuracy:0.0,set_latitude:function(){},set_longitude:function(){},set_altitude:function(){},set_heading:function(){},set_speed:function(){},set_accuracy:function(){},set_altitudeaccuracy:function(){}};this.timestamp="";this.sourcetype="";this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d;_d='{"id":'+this._id+', "div":"Geolocation", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pGeolocation=nexacro.Geolocation.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Geolocation);_pGeolocation._type_name="Geolocation";_pGeolocation.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Geolocation", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pGeolocation.on_created=function(){};_pGeolocation.set_coords=function(){};_pGeolocation.set_latitude=function(){};_pGeolocation.set_longitude=function(){};_pGeolocation.set_altitude=function(){};_pGeolocation.set_heading=function(){};_pGeolocation.set_speed=function(){};_pGeolocation.set_accuracy=function(){};_pGeolocation.set_altitudeaccuracy=function(){};_pGeolocation.set_sourcetype=function(){};_pGeolocation.set_timestamp=function(){};_pGeolocation.getCurrentPosition=function(_a,_b){var _c;if(_a==null||_b==null){return false;}if(this.parmack_Geolocation(_a,_b,1)){this.Accuracy=_a;this.Timeout=_b;if(nexacro.Device.curDevice==0){_c='{Accuracy:"'+this.Accuracy+'", Timeout:"'+this.Timeout+'"}';}else{_c='{"Accuracy":"'+this.Accuracy;_c+='", "timeout":"'+this.Timeout+'"}';}var _d='{"id":'+this._id+', "div":"Geolocation", "method":"getCurrentPosition", "params":'+_c+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pGeolocation.watchStart=function(_a,_b){var _c;if(_a==null||_b==null){return false;}if(this.parmack_Geolocation(_a,_b,2)){this.Accuracy=_a.toString();this.IntervalTime=_b.toString();if(nexacro.Device.curDevice==0){_c='{"Accuracy":"'+this.Accuracy+'", "IntervalTime":"'+this.IntervalTime+'"}';}else{this.Accuracy=_a;_c='{"Accuracy":"'+this.Accuracy;_c+='", "timeout":"'+this.IntervalTime+'"}';}var _d='{"id":'+this._id+', "div":"Geolocation", "method":"watchStart", "params":'+_c+'}';nexacro.Device.exec(_d);}else{return false;}return true;};_pGeolocation.watchStop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Geolocation", "method":"watchStop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pGeolocation._onrecvsuccess=function(_a){this.coords.latitude=_a.coords.latitude;this.coords.longitude=_a.coords.longitude;this.coords.altitude=_a.coords.altitude;this.coords.heading=_a.coords.heading;this.coords.speed=_a.coords.speed;this.coords.accuracy=_a.coords.accuracy;this.coords.altitudeaccuracy=_a.coords.altitudeaccuracy;this.timestamp=new Date(_a.timestamp);this.sourcetype=_a.sourcetype;var _b=new nexacro.GeolocationEventInfo("onrecvsuccess",this.coords,this.timestamp,this.sourcetype);this._fire_onrecvsuccess(this,_b);};_pGeolocation._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pGeolocation._onrecverror=function(_a){var _b=new nexacro.GeolocationErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);this._fire_onrecverror(this,_b);};_pGeolocation._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pGeolocation.parmack_Geolocation=function(_a,_b,_c){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if(_c==null||typeof (_c)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}if(nexacro.Device.curDevice==0){if(_c==1){if((_a>=0&&_a<3)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}else if(_c==2){if((_a>=0&&_a<3)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}}else{if(_c==1){if((_a>=0&&_a<5)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}else if(_c==2){if((_a>=0&&_a<5)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}}return true;};_pGeolocation=null;}if(!nexacro.GeolocationEventInfo){nexacro.GeolocationEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.coords={latitude:Number(_b.latitude),longitude:Number(_b.longitude),altitude:Number(_b.altitude),heading:Number(_b.heading),speed:Number(_b.speed),accuracy:Number(_b.accuracy),altitudeaccuracy:Number(_b.altitudeaccuracy)};this.timestamp=_c;this.sourcetype=_d;};var _pGeolocationEventInfo=nexacro.GeolocationEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.GeolocationEventInfo);_pGeolocationEventInfo._type_name="GeolocationEventInfo";_pGeolocationEventInfo=null;}if(!nexacro.GeolocationErrorEventInfo){nexacro.GeolocationErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pGeolocationErrorEventInfo=nexacro.GeolocationErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.GeolocationErrorEventInfo);_pGeolocationErrorEventInfo._type_name="GeolocationErrorEventInfo";_pGeolocationErrorEventInfo=null;}if(!nexacro.Acceleration){nexacro.Acceleration=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.xpos=0;this.ypos=0;this.zpos=0;this.timestamp="";this.accuracy=0;this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d='{"id":'+this._id+', "div":"Acceleration", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pAcceleration=nexacro.Acceleration.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Acceleration);_pAcceleration._type_name="Acceleration";_pAcceleration.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Acceleration", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pAcceleration.on_created=function(){};_pAcceleration.set_xpos=function(){};_pAcceleration.set_ypos=function(){};_pAcceleration.set_zpos=function(){};_pAcceleration.set_timestamp=function(){};_pAcceleration.set_accuracy=function(){};_pAcceleration.getCurrentAcceleration=function(_a){var _b;if(typeof (_a)=="undefined"||_a==null){this.accuracy=0;}else{if(this.paramck_accuracy(_a)){if(_a>=0&&_a<=3){this.accuracy=_a;}else{return false;}}else{return false;}}var _c=this.parmack_AccelgetCurrentPosition(this.accuracy);if(_c==true){if(nexacro.Device.curDevice==0){_b='{"Accuracy" : "'+this.accuracy.toString()+'"}';}else{_b='{"Accuracy":"'+this.accuracy+'"}';}var _d='{"id":'+this._id+', "div":"Acceleration", "method":"getCurrentAcceleration", "params":'+_b+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pAcceleration.watchStart=function(_a,_b){var _c;var _d=this.pramck_AccelwatchStart(_b,_a);if(_d==true){if(nexacro.Device.curDevice==0){_c='{  IntervalTime:"'+_b;_c+='", Accuracy:"'+_a;_c+='"}';}else{_c='{"timeout":"'+_b;_c+='", "Accuracy":"'+_a;_c+='"}';}var _e='{"id":'+this._id+', "div":"Acceleration", "method":"watchStart", "params":'+_c+'}';nexacro.Device.exec(_e);return true;}else{return false;}};_pAcceleration.watchStop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Acceleration", "method":"watchStop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAcceleration._onrecvsuccess=function(_a){this.xpos=parseFloat(_a.xpos);this.ypos=parseFloat(_a.ypos);this.zpos=parseFloat(_a.zpos);this.timestamp=new Date(_a.timestamp);this.accuracy=parseFloat(_a.accuracy);var _b=new nexacro.AccelerationEventInfo("onrecvsuccess",this);this._fire_onrecvsuccess(this,_b);};_pAcceleration._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pAcceleration._onrecverror=function(_a){var _b=new nexacro.AccelerationErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);this._fire_onrecverror(this,_b);};_pAcceleration._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pAcceleration.paramck_accuracy=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pAcceleration.parmack_AccelgetCurrentPosition=function(_a){if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pAcceleration.pramck_AccelwatchStart=function(_a,_b){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if((_b>=0&&_b<=3)&&(_a>=200&&_a<=86400000)){}else{return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};_pAcceleration=null;}if(!nexacro.AccelerationEventInfo){nexacro.AccelerationEventInfo=function(_a,_b){this.eventid=_a;this.xpos=_b.xpos;this.ypos=_b.ypos;this.zpos=_b.zpos;this.timestamp=_b.timestamp;this.accuracy=_b.accuracy;};_pAccelerationEventInfo=nexacro.AccelerationEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AccelerationEventInfo);_pAccelerationEventInfo._type_name="AccelerationEventInfo";_pAccelerationEventInfo=null;}if(!nexacro.AccelerationErrorEventInfo){nexacro.AccelerationErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};_pAccelerationErrorEventInfo=nexacro.AccelerationErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AccelerationErrorEventInfo);_pAccelerationErrorEventInfo._type_name="AccelerationErrorEventInfo";_pAccelerationErrorEventInfo=null;}if(!nexacro.Vibrator){nexacro.Vibrator=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.repeatcount="1";this.patterns=new Array(100,100);this.startpos="0";this.enableevent=true;this._event_list={"onplay":1,"onstop":1,"onerror":1};this.onplay=null;this.onstop=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"Vibrator", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pVibrator=nexacro.Vibrator.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Vibrator);_pVibrator._type_name="Vibrator";_pVibrator.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Vibrator", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pVibrator.on_created=function(){};_pVibrator.set_repeatcount=function(_a){if(this.paramck_vibrepeatcount(_a)){this.repeatcount=_a;return true;}return false;};_pVibrator.set_patterns=function(_a){if(this.paramck_vibpattern(_a)){this.patterns=_a;return true;}return false;};_pVibrator.set_startpos=function(_a){if(this.paramck_vibstartpos(_a)){this.startpos=_a;return true;}return false;};_pVibrator.hasVibrator=function(){if(nexacro.Device.curDevice==0){return nexacro.__hasVibrator();}else{if(nexacro.Device.isphone==1){return true;}else{return false;}}};_pVibrator.play=function(){var _a;if(nexacro.Device.curDevice==0){if(this.startpos<this.patterns.length&&this.startpos>=0){var _b=new Array();var _c=0;if(Number(this.startpos)%2!=0){_b[0]=0;_c++ ;}var _d=this.patterns.length;for(var _f=this.startpos;_f<_d;_f++ ){_b[_c]=this.patterns[_f];_c++ ;}_a='{  turn:"'+this.repeatcount.toString();_a+='", delay:"'+_b;_a+='"}';}else{return this._onerror({errorcode:'00001',errormsg:'parameter error'});}}else{_a='{  "turn":"'+this.repeatcount;_a+='", "delay":"'+this.patterns;_a+='", "startpos":"'+this.startpos;_a+='"}';if(nexacro.Device.isphone!=1){return this._onerror({errorcode:'10001',errormsg:'Unsupported device Vibrator'});}}var _e='{"id":'+this._id+', "div":"Vibrator", "method":"play", "params":'+_a+'}';nexacro.Device.exec(_e);};_pVibrator.stop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Vibrator", "method":"stop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pVibrator._onplay=function(_a){var _b=new nexacro.VibratorEventInfo("onplay");this._fire_onplay(this,_b);};_pVibrator._fire_onplay=function(_a,_b){if(this.onplay&&this.onplay._has_handlers){return this.onplay._fireEvent(this,_b);}return true;};_pVibrator._onstop=function(_a){var _b=new nexacro.VibratorEventInfo("onstop");this._fire_onstop(this,_b);};_pVibrator._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pVibrator._onerror=function(_a){var _b=new nexacro.VibratorErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pVibrator._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pVibrator.paramck_vibstartpos=function(_a){if(!nexacro.Device.publicNumCheck(_a)||Number(_a)<0){return false;}return true;};_pVibrator.paramck_vibrepeatcount=function(_a){if(!nexacro.Device.publicNumCheck(_a)){return false;}if(Number(_a)<0){return false;}return true;};_pVibrator.paramck_vibpattern=function(_a){if(_a instanceof Array){if(_a.length<=100){for(var _b=0;_b<_a.length;_b++ ){if(!nexacro.Device.publicNumCheck(_a[_b])){return false;}if(_a[_b]<1){return false;}}}else{return false;}if(_a.length%2!=0){return false;}}else{return false;}return true;};_pVibrator=null;}if(!nexacro.VibratorEventInfo){nexacro.VibratorEventInfo=function(_a){this.eventid=_a;};var _pVibratorEventInfo=nexacro.VibratorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VibratorEventInfo);_pVibratorEventInfo._type_name="VibratorEventInfo";_pVibratorEventInfo=null;}if(!nexacro.VibratorErrorEventInfo){nexacro.VibratorErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pVibratorErrorEventInfo=nexacro.VibratorErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VibratorErrorEventInfo);_pVibratorErrorEventInfo._type_name="VibratorErrorEventInfo";_pVibratorErrorEventInfo=null;}if(!nexacro.Network){nexacro.Network=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.availabletype="";this.timestamp="";this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d='{"id":'+this._id+', "div":"Network", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pNetwork=nexacro.Network.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Network);_pNetwork._type_name="Network";_pNetwork.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Network", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pNetwork.on_created=function(){};_pNetwork.set_availabletype=function(){};_pNetwork.set_timestamp=function(){};_pNetwork.isReachable=function(_a){var _b;if(_a==null){return false;}var _c=this.paramck_isReachable(_a);if(_c==true){if(nexacro.Device.curDevice==0){this.url=_a||"";_b='{"url":"'+this.url+'"}';}else{_b='{"target":"'+_a+'"}';this.availabletype="availabletype";this.timestamp="timestamp";}var _d='{"id":'+this._id+', "div":"Network", "method":"isReachable", "params":'+_b+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pNetwork.watchStart=function(_a){var _b;var _c=this.paramck_watchStart(_a);if(_c==true){if(nexacro.Device.curDevice==0){this.intervalTime=_a||"";_b='{"target":"'+this.intervalTime+'"}';}else{_b='{"target":"'+_a+'"}';}var _d='{"id":'+this._id+', "div":"Network", "method":"watchStart", "params":'+_b+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pNetwork.watchStop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Network", "method":"watchStop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pNetwork._onrecvsuccess=function(_a){this.availabletype=parseInt(_a.availabletype)|0;this.timestamp=new Date(_a.timestamp);var _b=new nexacro.NetworkEventInfo("onrecvsuccess");this._fire_onrecvsuccess(this,_b);};_pNetwork._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pNetwork._onrecverror=function(_a){var _b=new nexacro.NetworkErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);this._fire_onrecverror(this,_b);};_pNetwork._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pNetwork.paramck_isReachable=function(_a){if(_a.trim().length<1||_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"||_a==""){return false;}return true;};_pNetwork.paramck_watchStart=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<200||_a>86400000){return false;}return true;};_pNetwork=null;}if(!nexacro.NetworkEventInfo){nexacro.NetworkEventInfo=function(_a){this.eventid=_a;};var _pNetworkEventInfo=nexacro.NetworkEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.NetworkEventInfo);_pNetworkEventInfo._type_name="NetworkEventInfo";_pNetworkEventInfo=null;}if(!nexacro.NetworkErrorEventInfo){nexacro.NetworkErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pNetworkErrorEventInfo=nexacro.NetworkErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.NetworkErrorEventInfo);_pNetworkErrorEventInfo._type_name="NetworkErrorEventInfo";_pNetworkErrorEventInfo=null;}if(!nexacro.FileDialog){nexacro.FileDialog=function(_a,_b){this.name=_a||"";this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.enableevent=true;this.defaultextension=true;this.filter="";this.filterindex=0;this.EnvironmentPath=1;this.async=true;this._event_list={"onclose":1,"onerror":1};this.onclose=null;this.onerror=null;var _c='{"defaultextension":"'+this.defaultextension+'","filter":"'+this.filter+'","filterindex":"'+this.filterindex+'"}';var _d='{"id":'+this._id+', "div":"FileDialog", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};nexacro.FileDialog.LOAD=1;nexacro.FileDialog.SAVE=2;nexacro.FileDialog.MULTILOAD=3;nexacro.FileDialog.SELFOLDER=4;var _pFileDialog=nexacro.FileDialog.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.FileDialog);_pFileDialog._type_name="FileDialog";_pFileDialog.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"FileDialog", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pFileDialog.on_created=function(){};_pFileDialog.set_defaultextension=function(_a){if(this.pramck_filedialog_defaultextension(_a)){if(typeof (_a)!="boolean"){if(_a.toLowerCase()=='true'){this.defaultextension=true;}else if(_a.toLowerCase()=='false'){this.defaultextension=false;}}else{this.defaultextension=_a;}return true;}else{return false;}};_pFileDialog.set_filter=function(_a){if(this.pramck_filedialog_filter(_a)){var _b=_a.split("|");var _c=_b.length;if(_c<2){return false;}if((_c%2==1)&&_b[_c-1]!=""){return false;}var _d=/[\*].[a-zA-Z0-9가-힣\*]/gi;for(var _e=0;_e<_c;_e++ ){if(_e%2==1){if(_d.test(_b[_e])==false){return false;}_d.lastIndex=0;}}this.filter=_a;return true;}else{return false;}};_pFileDialog.set_filterindex=function(_a){if(this.pramck_filedialog_numbercheck(_a)){this.filterindex=_a;return true;}else{return false;}};_pFileDialog.set_async=function(_a){};_pFileDialog.open=function(_a,_b,_c,_d){if(_c==null||typeof (_c)=="undefined"){_c="%USERAPP%";}if(_d==null||typeof (_d)=="undefined"){_d="";}if(!this.pramck_filedialogasyncOpen(_a,_b)){return false;}if(this.filter==""){this.filter="All(*.*)|*.*|";}var _e=this.filter.split("|");if(this.defaultextension==true&&this.filterindex>=(_e.length/2)){return false;}if(nexacro.Device.curDevice==0){var _f=_c.substring(0,9);if(_f.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;}else if(_f.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;}else{return false;}}else{var _f=_c.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_c="_userapp_";}else{return false;}}var _g='{"strTitle":"'+_a+'","constOpenMode":"'+_b+'","strInitialPath":"'+_c+'","strFileName":"'+_d+'","defaultextension":"'+this.defaultextension+'","filter":"'+this.filter+'","filterindex":"'+this.filterindex+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _h;_h='{"id":'+this._id+', "div":"FileDialog", "method":"open", "params":'+_g+'}';nexacro.Device.exec(_h);return true;};_pFileDialog._onclose=function(_a){var _b=_a.virtualfiles;var _c=new Array(_b.length);for(var _f=0;_f<_b.length;_f++ ){var _d=new nexacro.VirtualFile("VirtualFile","");_d.filename=_b[_f].filename;_d.fullpath=_b[_f].fullpath;_d.path=_b[_f].path;_c[_f]=_d;}var _e=new nexacro.FileDialogEventInfo("onclose",_a.reason,_a.reason==4?_a.path:undefined,_c);this._fire_onclose(this,_e);};_pFileDialog._fire_onclose=function(_a,_b){if(this.onclose&&this.onclose._has_handlers){return this.onclose._fireEvent(this,_b);}return true;};_pFileDialog.pramck_filedialog_defaultextension=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="boolean"){if(_a.toLowerCase()=='true'||_a.toLowerCase()=='false'){return true;}else{return false;}}else{return true;}};_pFileDialog.pramck_filedialog_filter=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}else{return true;}};_pFileDialog.pramck_filedialog_numbercheck=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pFileDialog.pramck_filedialogasyncOpen=function(_a,_b){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}else{if(!nexacro.Device.publicNumCheck(_b)){return false;}if(_b>4||_b<1){return false;}}return true;};_pFileDialog=null;}if(!nexacro.FileDialogEventInfo){nexacro.FileDialogEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.reason=_b;this.path=_c;this.virtualfiles=_d;};var _pFileDialogEventInfo=nexacro.FileDialogEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.FileDialogEventInfo);_pFileDialogEventInfo._type_name="FileDialogEventInfo";_pFileDialogEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.VirtualFile){nexacro.VirtualFile=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.filename="";this.fullpath="";this.path="";this.enableevent=true;this.async=true;this._event_list={"onsuccess":1,"onerror":1,"getEvent":1};this.onsuccess=null;this.onerror=null;this.getEvent=null;var _c='{"strFilename":"'+this.filename+'","fullpath":"'+this.fullpath+'","path":"'+this.path+'"}';var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};nexacro.VirtualFile.openRead=0x0001;nexacro.VirtualFile.openWrite=0x0002;nexacro.VirtualFile.openAppend=0x0010;nexacro.VirtualFile.openCreate=0x1000;nexacro.VirtualFile.openText=0x0100;nexacro.VirtualFile.openBinary=0x0200;nexacro.VirtualFile.seekBegin=0x0000;nexacro.VirtualFile.seekCurrent=0x0001;nexacro.VirtualFile.seekEnd=0x0002;nexacro.VirtualFile.findAll=0x0001;nexacro.VirtualFile.findFileOnly=0x0002;nexacro.VirtualFile.findDirectoryOnly=0x0003;nexacro.VirtualFile.findCaseless=0x0010;nexacro.VirtualFile.EnvironmentPath=1;var _pVirtualFile=nexacro.VirtualFile.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.VirtualFile);_pVirtualFile._type_name="VirtualFile";_pVirtualFile.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"VirtualFile", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pVirtualFile.on_created=function(){};_pVirtualFile.set_filename=function(_a){if(this.pramck_virtualproperty(_a)){this.filename=_a;return true;}else{return false;}};_pVirtualFile.set_fullpath=function(_a){if(this.pramck_virtualproperty(_a)){this.fullpath=_a;return true;}else{return false;}};_pVirtualFile.set_path=function(_a){if(this.pramck_virtualproperty(_a)){this.path=_a;return true;}else{return false;}};_pVirtualFile.set_environmentpath=function(_a){if(this.pramck_virtualproperty(_a)){this.EnvironmentPath=_a;if(( +this.EnvironmentPath)!=( +this.EnvironmentPath)){return false;}return true;}else{return false;}};_pVirtualFile.set_async=function(_a){};_pVirtualFile.set_filename=function(){};_pVirtualFile.set_fullpath=function(){};_pVirtualFile.set_path=function(){};_pVirtualFile.open=function(_a,_b){this.nOptions="";this.nFiletype="";if(_a==null){this.nOptions=_a;}else if(_a!=null){this.nOptions=_b;this.fullpath=_a;}else{return false;}var _c=this.fullpath.lastIndexOf("/");if(_c== -1){_c=this.fullpath.lastIndexOf("%");}this.path=this.fullpath.substring(0,_c+1);var _d=this.fullpath.lastIndexOf("/");if(_d== -1){_d=this.fullpath.lastIndexOf("%");}this.filename=this.fullpath.substring(_d+1,this.fullpath.length);if(!this.pramck_asyncOpen(this.path,this.nOptions)){return false;}this.strFilename="";if(nexacro.Device.curDevice==0){this.strFilename=this.fullpath.substring(9,this.fullpath.length);var _e=this.fullpath.substring(0,9);if(_e.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;}else if(_e.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;}else{var _f=application._getFileCache(_a);if(null!=_f){this.EnvironmentPath=3;this.strFilename=_f;}else{return false;}}}else{var _g="";var _e=this.fullpath.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_g="_userapp_"+this.fullpath.substring(9,this.fullpath.length);}else{var _f=application._getFileCache(_a);if(null!=_f){_g="_userapp_"+_f;}else{_g=_a;}}this.strFilename=_g;}var _h="";if(nexacro.Device.curDevice==0){_h='{"strFilename":"'+this.strFilename+'","nOptions":"'+this.nOptions+'","nFiletype":"'+this.nFiletype+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';}else{_h='{"strFilename":"'+this.strFilename+'","nOptions":"'+this.nOptions+'","nFiletype":"'+this.nFiletype+'"}';}var _i='{"id":'+this._id+', "div":"VirtualFile", "method":"open", "params":'+_h+'}';nexacro.Device.exec(_i);return true;};_pVirtualFile.close=function(){var _a='""';var _b='{"id":'+this._id+', "div":"VirtualFile", "method":"close", "params":'+_a+'}';nexacro.Device.exec(_b);};_pVirtualFile.read=function(_a){this.nLength=_a|| -1;this.strCharset="UTF-8";if(!this.pramck_asyncRead(this.nLength)){return false;}var _b='{  "nLength":"'+this.nLength;_b+='", "strCharset":"'+this.strCharset;_b+='"}';var _c='{"id":'+this._id+', "div":"VirtualFile", "method":"read", "params":'+_b+'}';nexacro.Device.exec(_c);return true;};_pVirtualFile.readLine=function(_a){this.strCharset="UTF-8";if(_a==null){this.strDelimeter="";}else if(_a!=null){this.strDelimeter=nexacro.Device.encodeString(_a);if(!this.pramck_asyncReadLine(this.strDelimeter)){return false;}}var _b='{  "strDelimeter":"'+this.strDelimeter;_b+='", "strCharset":"'+this.strCharset;_b+='"}';var _c='{"id":'+this._id+', "div":"VirtualFile", "method":"readLine", "params":'+_b+'}';nexacro.Device.exec(_c);return true;};_pVirtualFile.seek=function(_a,_b){this.nOffset="";this.nOption="";if(_b==null){this.nOffset=_a;this.nOption=VirtualFile.seekCurrent;}else if(_b!=null){this.nOffset=_a;this.nOption=_b;}if(!this.paramck_asyncSeek(this.nOffset,this.nOption)){return false;}var _c='{  "nOffset":"'+this.nOffset;_c+='", "nOption":"'+this.nOption;_c+='"}';var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"seek", "params":'+_c+'}';nexacro.Device.exec(_d);return true;};_pVirtualFile.write=function(_a,_b){this.varData=_a;this.strCharset=_b;if(typeof (this.varData)=="undefined"||this.varData.length==0){return false;}var _c='{  "varData":"'+this.varData;_c+='", "strCharset":"'+this.strCharset;_c+='"}';var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"write", "params":'+_c+'}';nexacro.Device.exec(_d);return true;};_pVirtualFile.remove=function(_a){this._strFilePath="";if(_a instanceof nexacro.VirtualFile){this._strFilePath=_a.fullpath;}else{this._strFilePath=_a;}if(!this.pramck_asyncDelete(this._strFilePath)){return false;}var _b="";var _c="";if(nexacro.Device.curDevice==0){_c=this._strFilePath.substring(0,9);if(_c.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;_b=this._strFilePath.substring(9,this._strFilePath.length);}else if(_c.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;_b=this._strFilePath.substring(9,this._strFilePath.length);}else{var _d=application._getFileCache(_a);if(null!=_d){this.EnvironmentPath=3;_b=_d;}else{return false;}}}else{var _e="";_c=this._strFilePath.substring(0,9);if(_c.toLowerCase()=="%userapp%"){_e="_userapp_"+this._strFilePath.substring(9,this._strFilePath.length);}else{var _d=application._getFileCache(_a);if(null!=_d){_e="_userapp_"+_d;}else{return false;}}_b=_e;}var _f='{"strFilePath":"'+_b+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _g='{"id":'+this._id+',"div":"VirtualFile", "method":"remove", "params":'+_f+'}';nexacro.Device.exec(_g);return true;};_pVirtualFile.getFileList=function(_a,_b,_c){this.strPath=_a;this.strSearchExpr=_b;this.constOption=_c;if(typeof (this.constOption)=="undefined"){this.constOption=VirtualFile.findAll;}if(_a==null||_b==null||!this.pramck_asyncGetFileList(this.strPath,this.strSearchExpr,this.constOption)){return false;}var _d="";if(nexacro.Device.curDevice==0){var _e=this.strPath.substring(0,9);if(_e.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;_d=this.strPath.substring(9,this.strPath.length);}else if(_e.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;_d=this.strPath.substring(9,this.strPath.length);}else{var _f=application._getFileCache(_a);if(null!=_f){this.EnvironmentPath=3;_d=_f;}else{return false;}}}else{var _g="";var _e=this.strPath.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_g="_userapp_"+this.strPath.substring(9,this.strPath.length);}else{var _f=application._getFileCache(_a);if(null!=_f){_g="_userapp_"+_f;}else{return false;}}_d=_g;}var _h='{"strPath":"'+_d+'" ,"strSearchExpr":"'+this.strSearchExpr+'","constOption":"'+this.constOption+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _i='{"id":'+this._id+', "div":"VirtualFile", "method":"getFileList", "params":'+_h+'}';nexacro.Device.exec(_i);return true;};_pVirtualFile.getFileSize=function(){var _a;if(nexacro.Device.curDevice==0){_a='{  "strPath":"'+this.fullpath;_a+='","EnvironmentPath":"'+this.EnvironmentPath+'"}';}else{var _b="";var _c=this.fullpath.substring(0,9);if(_c.toLowerCase()=="%userapp%"){_b="_userapp_"+this.fullpath.substring(9,this.fullpath.length);}_a='{  "strPath":"'+_b;_a+='","EnvironmentPath":"'+this.EnvironmentPath+'"}';}var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"getFileSize", "params":'+_a+'}';nexacro.Device.exec(_d);};_pVirtualFile.isExist=function(_a){if(!this.pramck_asyncIsExist(_a)){return false;}var _b="";if(nexacro.Device.curDevice==0){var _c=_a.substring(0,9);if(_c.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;_b=_a.substring(9,_a.length);}else if(_c.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;_b=_a.substring(9,_a.length);}else{var _d=application._getFileCache(_a);if(null!=_d){this.EnvironmentPath=3;_b=_d;}else{return false;}}}else{var _e="";var _c=_a.substring(0,9);if(_c.toLowerCase()=="%userapp%"){_b="_userapp_"+_a.substring(9,_a.length);}else{var _d=application._getFileCache(_a);if(null!=_d){_b="_userapp_"+_d;}else{return false;}}}var _f='{  "strPath":"'+_b+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _g='{"id":'+this._id+', "div":"VirtualFile", "method":"isExist", "params":'+_f+'}';nexacro.Device.exec(_g);return true;};_pVirtualFile.createDirectory=function(_a,_b){if(!this.pramck_asyncIsExist(_a)){return false;}if(_b==null){this.strPath=_a;this.bAllCreate=false;}else if(_b!=null){this.strPath=_a;this.bAllCreate=_b;}else{return false;}var _c="";if(nexacro.Device.curDevice==0){var _d=_a.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=1;}else if(_d.toLowerCase()=="%sd_card%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=2;}else{return false;}}else{var _d=_a.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_c="_userapp_"+_a.substring(9,_a.length);}else{return false;}}var _e='{  "strPath":"'+_c+'","EnvironmentPath":"'+this.EnvironmentPath+'","bAllCreate":"'+this.bAllCreate+'"}';var _f='{"id":'+this._id+', "div":"VirtualFile", "method":"createDirectory", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pVirtualFile.deleteDirectory=function(_a,_b){if(!this.pramck_asyncIsExist(_a)){return false;}if(_b==null){this.strPath=_a;this.bAllChild=false;}else if(_b!=null){this.strPath=_a;this.bAllChild=_b;}else{return false;}var _c="";if(nexacro.Device.curDevice==0){var _d=_a.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=1;}else if(_d.toLowerCase()=="%sd_card%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=2;}else{return false;}}else{var _d=_a.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_c="_userapp_"+_a.substring(9,_a.length);}else{return false;}}var _e='{  "strPath":"'+_c+'","EnvironmentPath":"'+this.EnvironmentPath+'","bAllChild":"'+this.bAllChild+'"}';var _f='{"id":'+this._id+', "div":"VirtualFile", "method":"deleteDirectory", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pVirtualFile.renameDirectory=function(_a,_b){if(!this.pramck_asyncIsExist(_a)){return false;}if(!this.paramck_folderName(_b)){return false;}if(_b==null){return false;}this.strPath=_a;this.strNewName=_b;var _c="";var _d="";if(nexacro.Device.curDevice==0){var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=1;}else if(_e.toLowerCase()=="%sd_card%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=2;}else{return false;}}else{var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_c="_userapp_"+_a.substring(9,_a.length);}else{return false;}}if(nexacro.Device.curDevice==0){var _e=_b.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_d=_b.substring(9,_b.length);this.EnvironmentPath=1;}else if(_e.toLowerCase()=="%sd_card%"){_d=_b.substring(9,_b.length);this.EnvironmentPath=2;}else{_d=_b;}}else{var _e=_b.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_d="_userapp_"+_b.substring(9,_b.length);}else{_d=_b;}}var _f='{  "strPath":"'+_c+'","strNewName":"'+_d+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _g='{"id":'+this._id+', "div":"VirtualFile", "method":"renameDirectory", "params":'+_f+'}';nexacro.Device.exec(_g);return true;};_pVirtualFile._onsuccess=function(objData){var _textdata="";var _bindata="";var temptxtlen=0;var tempbinlen=0;if(objData.textdata){temptxtlen=objData.textdata.length;}if(objData.binarydata){tempbinlen=objData.binarydata.length;}if(temptxtlen>0){_textdata=objData.textdata.replace(/\&amp\;/g,"&");_textdata=_textdata.replace(/\&lt\;/g,"<");_textdata=_textdata.replace(/\&gt\;/g,">");_textdata=_textdata.replace(/\&quot\;/g,"\"");_textdata=_textdata.replace(/\&apos\;/g,"'");_textdata=_textdata.replace(/\&\#32\;/g," ");_textdata=_textdata.replace(/\&\#13\;/g,"\r");_textdata=_textdata.replace(/\&\#10\;/g,"\n");_textdata=_textdata.replace(/\&\#9\;/g,"\t");}else if(tempbinlen>0){_bindata=objData.binarydata.replace(/\&amp\;/g,"&");_bindata=_bindata.replace(/\&lt\;/g,"<");_bindata=_bindata.replace(/\&gt\;/g,">");_bindata=_bindata.replace(/\&quot\;/g,"\"");_bindata=_bindata.replace(/\&apos\;/g,"'");_bindata=_bindata.replace(/\&\#32\;/g," ");_bindata=_bindata.replace(/\&\#13\;/g,"\r");_bindata=_bindata.replace(/\&\#10\;/g,"\n");_bindata=_bindata.replace(/\&\#9\;/g,"\t");}var e=new nexacro.VirtualFileEventInfo("onsuccess",objData.reason,_textdata,_bindata,eval(objData.fileattributelist),objData.filesize,objData.fileisexist);this._fire_onsuccess(this,e);};_pVirtualFile._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pVirtualFile._onerror=function(_a){var _b=new nexacro.VirtualFileErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pVirtualFile._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pVirtualFile.toJSON=function(){return eval('({"filename":"'+this.filename+'","fullpath":"'+this.fullpath+'","path":"'+this.path+'"})');};_pVirtualFile.paramck_folderName=function(_a){if(_a==null){return false;}if(_a.match(/[\"/:*?<>|]/)){return false;}return true;};_pVirtualFile.pramck_virtualproperty=function(_a){if(typeof (_a)=="undefined"||_a==""||_a==null){return false;}else{return true;}};_pVirtualFile.pramck_asyncOpen=function(_a,_b){if(_b==null){if(typeof (_a)=="undefined"||_a==""||_a==null){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;}if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};_pVirtualFile.pramck_asyncRead=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pVirtualFile.pramck_asyncReadLine=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pVirtualFile.paramck_asyncSeek=function(_a,_b){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pVirtualFile.pramck_asyncDelete=function(_a){if(_a==null||typeof (_a)=="undefined"||_a==""){return false;}else{return true;}};_pVirtualFile.pramck_asyncIsExist=function(_a){if(_a==null||typeof (_a)=="undefined"||_a==""||typeof (_a)!="string"){return false;}else{return true;}};_pVirtualFile.pramck_asyncGetFileList=function(_a,_b,_c){if(_a==null||typeof (_a)=="undefined"||_a==""||typeof (_a)!="string"){return false;}if(_b==null||typeof (_b)=="undefined"||_b==""||typeof (_b)!="string"){return false;}if(_c==null||typeof (_c)=="undefined"||_c==""){return false;}if(!nexacro.Device.publicNumCheck(_c)){return false;}return true;};_pVirtualFile=null;}if(nexacro.OS=="iOS"&&!nexacro.VirtualFileEventInfo){nexacro.VirtualFileEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.reason=_b;this.textdata=_c;this.binarydata=_d;if(typeof (_e)!="undefined"){var _h=new Array(_e.length);for(var _i=0;_i<_e.length;_i++ ){_h[_i]=new nexacro.FileAttribute(_e[_i]);}this.fileattributelist=_h;}else{this.fileattributelist="";}this.filesize=_f;this.fileisexist=_g;};var _pVirtualFileEventInfo=nexacro.VirtualFileEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VirtualFileEventInfo);_pVirtualFileEventInfo._type_name="VirtualFileEventInfo";_pVirtualFileEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.VirtualFileErrorEventInfo){nexacro.VirtualFileErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pVirtualFileErrorEventInfo=nexacro.VirtualFileErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VirtualFileErrorEventInfo);_pVirtualFileErrorEventInfo._type_name="VirtualFileErrorEventInfo";_pVirtualFileErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.FileAttribute){nexacro.FileAttribute=function(_a){this.accesstime=_a.accesstime;this.createtime=_a.createtime;this.filename=_a.filename;this.groupid=_a.groupid;this.modifytime=_a.modifytime;this.size=_a.size;this.userid=_a.userid;this.isdirectory=_a.isdirectory;this.isreadonly=_a.isreadonly;};var _pFileAttribute=nexacro.FileAttribute.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.FileAttribute);_pFileAttribute._type_name="FileAttribute";_pFileAttribute.on_created=function(){};_pFileAttribute.isDirectory=function(){return this.isdirectory;};_pFileAttribute.isReadOnly=function(){return this.isreadonly;};_pFileAttribute=null;}if(!nexacro.Camera){nexacro.Camera=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.imagequality="100";this.imagewidth="0";this.imageheight="0";this.encodingtype="JPEG";this.gettype="0";this.usegallery=true;this.enableevent=true;this._event_list={"oncapture":1,"onerror":1};this.oncapture=null;this.onerror=null;var _c='""';var _d="";_d='{"id":'+this._id+', "div":"Camera", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pCamera=nexacro.Camera.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Camera);_pCamera._type_name="Camera";_pCamera.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Camera", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pCamera.on_created=function(){};_pCamera.set_imagequality=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagequality=100;}else{if(_a>=0&&_a<=100){this.imagequality=_a;}else{return false;}}return true;};_pCamera.set_imagewidth=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagewidth=0;}else{if(_a>=0){this.imagewidth=_a;}else{return false;}}return true;};_pCamera.set_imageheight=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imageheight=0;}else{if(_a>=0){this.imageheight=_a;}else{return false;}}return true;};_pCamera.set_encodingtype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.encodingtype="JPEG";}else{if(_a=="JPEG"||_a.toUpperCase()=="JPEG"){this.encodingtype="JPEG";}else if(_a=="PNG"||_a.toUpperCase()=="PNG"){this.encodingtype="PNG";}else{return false;}}return true;};_pCamera.set_gettype=function(_a){if(_a===undefined||_a===null){return false;}var _b= -1;if(nexacro._isNumber(_a)){_b=nexacro._toInt(_a);}else if(nexacro._isString(_a)){switch(nexacro._toString(_a)){case "0":case "url":case "imageurl":_b=0;break;case "1":case "data":case "imagedata":_b=1;break;default:break;}}if(_b!=0&&_b!=1){return false;}this.gettype=_b;return true;};_pCamera.set_usegallery=function(_a){if(typeof (_a)=="string"){if(_a.toUpperCase()=="TRUE"){this.usegallery=true;}else{this.usegallery=false;}}else{this.usegallery=_a?true:false;}};_pCamera.takePicture=function(){if(this.paramck_takePicture(this.imagequality,this.imagewidth,this.imageheight,this.encodingtype,this.gettype)){var _a='{  "quality":"'+this.imagequality.toString();_a+='", "width":"'+this.imagewidth.toString();_a+='", "height":"'+this.imageheight.toString();_a+='", "encodingType":"'+this.encodingtype.toString();_a+='", "gettype":"'+this.gettype.toString();_a+='", "usegallery":'+this.usegallery;_a+='}';var _b="";_b='{"id":'+this._id+', "div":"Camera", "method":"takePicture", "params":'+_a+'}';nexacro.Device.exec(_b);}else{}};_pCamera._oncapture=function(_a){var _b=new nexacro.CameraEventInfo("oncapture",_a.reason,_a.url,_a.imagedata,_a.imagewidth,_a.imageheight);this._fire_oncapture(this,_b);};_pCamera._fire_oncapture=function(_a,_b){if(this.oncapture&&this.oncapture._has_handlers){return this.oncapture._fireEvent(this,_b);}return true;};_pCamera._onerror=function(_a){var _b=new nexacro.CameraErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pCamera._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pCamera.paramck_takePicture=function(_a,_b,_c,_d,_e){if(_a!=null){if(!nexacro.Device.publicNumCheck(_a)){return false;}}if(_b!=null){if(!nexacro.Device.publicNumCheck(_b)){return false;}}if(_c!=null){if(!nexacro.Device.publicNumCheck(_c)){return false;}}if(_e!=null){if(!nexacro.Device.publicNumCheck(_e)){return false;}}if(_d!=null){if(typeof (_d)!="string"){return false;}}return true;};_pCamera=null;}if(!nexacro.CameraEventInfo){nexacro.CameraEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_a;this.reason=_b;this.url=_c;this.imagedata=_d;this.imagewidth=_e;this.imageheight=_f;};var _pCameraEventInfo=nexacro.CameraEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.CameraEventInfo);_pCameraEventInfo._type_name="CameraEventInfo";_pCameraEventInfo=null;}if(!nexacro.CameraErrorEventInfo){nexacro.CameraErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pCameraErrorEventInfo=nexacro.CameraErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.CameraErrorEventInfo);_pCameraErrorEventInfo._type_name="CameraErrorEventInfo";_pCameraErrorEventInfo=null;}if(!nexacro.ImagePicker){nexacro.ImagePicker=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.imagequality="100";this.imagewidth="0";this.imageheight="0";this.encodingtype="JPEG";this.gettype="0";this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d="";if(nexacro.Device.curDevice==0){_d='{"id":'+this._id+', "div":"ImagePicker", "method":"constructor", "params":'+_c+'}';}else{_d='{"id":'+this._id+', "div":"Camera", "method":"constructor", "params":'+_c+'}';}nexacro.Device.exec(_d);};var _pImagePicker=nexacro.ImagePicker.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ImagePicker);_pImagePicker._type_name="ImagePicker";_pImagePicker.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];if(nexacro.Device.curDevice==0){_b='{"id":'+this._id+', "div":"ImagePicker", "method":"destroy", "params":'+_a+'}';}else{_b='{"id":'+this._id+', "div":"Camera", "method":"destroy", "params":'+_a+'}';}nexacro.Device.exec(_b);return true;};_pImagePicker.on_created=function(){};_pImagePicker.set_imagequality=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagequality=100;}else{if(_a>=0&&_a<=100){this.imagequality=_a;}else{return false;}}return true;};_pImagePicker.set_imagewidth=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagewidth=0;}else{if(_a>=0){this.imagewidth=_a;}else{return false;}}return true;};_pImagePicker.set_imageheight=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imageheight=0;}else{if(_a>=0){this.imageheight=_a;}else{return false;}}return true;};_pImagePicker.set_encodingtype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.encodingtype="JPEG";}else{if(_a=="JPEG"||_a.toUpperCase()=="JPEG"){this.encodingtype="JPEG";}else if(_a=="PNG"||_a.toUpperCase()=="PNG"){this.encodingtype="PNG";}else{return false;}}return true;};_pImagePicker.set_gettype=function(_a){if(_a===undefined||_a===null){return false;}var _b= -1;if(nexacro._isNumber(_a)){_b=nexacro._toInt(_a);}else if(nexacro._isString(_a)){switch(nexacro._toString(_a)){case "0":case "url":case "imageurl":_b=0;break;case "1":case "data":case "imagedata":_b=1;break;default:break;}}if(_b!=0&&_b!=1){return false;}this.gettype=_b;return true;};_pImagePicker.open=function(_a,_b){if(!this.set_gettype(_a)){return false;}if((_b!=null&&typeof (_b)!="undefined")&&((_b==0)||(_b==1)||(_b=="0")||(_b=="1"))){this.encodingtype=_b;}if(this.paramck_ImagePicker_asyncOpen(this.imagequality,this.imagewidth,this.imageheight,this.encodingtype,this.gettype)){var _c='{  "quality":"'+this.imagequality.toString();_c+='", "width":"'+this.imagewidth.toString();_c+='", "height":"'+this.imageheight.toString();_c+='", "encodingType":"'+this.encodingtype.toString();_c+='", "gettype":"'+this.gettype.toString();_c+='"}';var _d="";if(nexacro.Device.curDevice==0){_d='{"id":'+this._id+', "div":"ImagePicker", "method":"open", "params":'+_c+'}';}else{_d='{"id":'+this._id+', "div":"Camera", "method":"open", "params":'+_c+'}';}nexacro.Device.exec(_d);return true;}else{return false;}};_pImagePicker._onsuccess=function(_a){var _b=new nexacro.ImagePickerEventInfo("onsuccess",_a.url,_a.imagedata,_a.imagefile);this._fire_onsuccess(this,_b);};_pImagePicker._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pImagePicker._onerror=function(_a){var _b=new nexacro.ImagePickerErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pImagePicker._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pImagePicker.paramck_ImagePicker_asyncOpen=function(_a,_b,_c,_d,_e){if(_a!=null){if(!nexacro.Device.publicNumCheck(_a)){return false;}}if(_b!=null){if(!nexacro.Device.publicNumCheck(_b)){return false;}}if(_c!=null){if(!nexacro.Device.publicNumCheck(_c)){return false;}}if(_e!=null){if(!nexacro.Device.publicNumCheck(_e)){return false;}}if(_d!=null){if(typeof (_d)!="string"){return false;}}return true;};_pImagePicker=null;}if(!nexacro.ImagePickerEventInfo){nexacro.ImagePickerEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.imageurl=_b;this.imagedata=_c;this.imagefile=_d;};var _pImagePickerEventInfo=nexacro.ImagePickerEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ImagePickerEventInfo);_pImagePickerEventInfo._type_name="ImagePickerEventInfo";_pImagePickerEventInfo=null;}if(!nexacro.ImagePickerErrorEventInfo){nexacro.ImagePickerErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pImagePickerErrorEventInfo=nexacro.ImagePickerErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ImagePickerErrorEventInfo);_pImagePickerErrorEventInfo._type_name="ImagePickerErrorEventInfo";_pImagePickerErrorEventInfo=null;}if(!nexacro.AudioRecorder){nexacro.AudioRecorder=function(_a,_b){this._obj=_b;this._refform=_b;this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.brecording=false;this.bpaused=false;this.reccurtime="";this.audiofile="";this.samplerate=8000;this.channelconfig=1;if(nexacro.Device.curDevice==0){this.audioformat="mp3";}else{this.audioformat="wav";}this.enableevent=true;this._is_alive=true;this._event_list={"onrecord":1,"onrecording":1,"onstop":1,"onerror":1};this.onrecord=null;this.onrecording=null;this.onstop=null;this.onerror=null;var _c='""';var _d="";_d='{"id":'+this._id+', "div":"AudioRecorder", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pAudioRecorder=nexacro.AudioRecorder.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.AudioRecorder);_pAudioRecorder._type_name="AudioRecorder";_pAudioRecorder.destroy=function(){var _a='""';var _b;this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"AudioRecorder", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pAudioRecorder.on_created=function(){};_pAudioRecorder._getReferenceContext=function(){return this._refform;};_pAudioRecorder.set_audiofile=function(_a){if(typeof (_a)=="undefind"||_a==null||_a==""){return false;}else{this.audiofile=_a;}return true;};_pAudioRecorder.set_samplerate=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=8000&&_a<=96000){this.samplerate=_a;}else{return false;}}else{return false;}}return true;};_pAudioRecorder.set_channelconfig=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if(_a==1||_a==2){this.channelconfig=_a;}else{return false;}}return true;};_pAudioRecorder.set_audioformat=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{var _b=_a.lastIndexOf(".");var _c=_a.substring(_b,_a.length).toUpperCase();if((nexacro.Device.curDevice==0)){if(_c=="OGG"||_c=="AMR_NB"||_c=="AMR_WB"||_c=="MP3"){this.audioformat=_a.toUpperCase();}else{return false;}}if(nexacro.Device.curDevice==1){if(_c=="WAV"){this.audioformat="WAV";}else{return false;}}}return true;};_pAudioRecorder.recordingStart=function(_a){var _b;if(typeof (_a)=="undefined"||_a==null||_a==""){return false;}else{if(nexacro.Device.publicNumCheck(_a)&&_a<=86400000&&_a>=0){if(_a<200){return false;}else{_b=0;}}else{return false;}}if(this.brecording==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1301","Already recording");this._fire_onerror(this,_j);},20);return false;}if(this.audiofile==""||typeof (this.audiofile)=="undefined"){var _c=this;nexacro.OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_j);},20);return false;}if(nexacro.Device.curDevice==0){var _d="";var _e="";var _f=this.audiofile.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_d=1;_e=this.audiofile.substring(9,this.audiofile.length);}else if(_f.toLowerCase()=="%sd_card%"){_d=2;_e=this.audiofile.substring(9,this.audiofile.length);}else{nexacro.OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_j);},20);return false;}var _g='{  "audiofile":"'+_e;_g+='", "samplerate":"'+this.samplerate;_g+='", "channelconfig":"'+this.channelconfig;_g+='", "audioFormat":"'+this.audioformat;_g+='", "EnvironmentPath":"'+_d;_g+='", playingeventtime:"'+_a;_g+='", intervaltimestate:"'+_b;_g+='"}';var _h="";_h='{"id":'+this._id+', "div":"AudioRecorder", "method":"recordingStart", "params":'+_g+'}';}else{var _i="";var _f=this.audiofile.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_i="_userapp_"+this.audiofile.substring(9,this.audiofile.length);}else{nexacro.OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_j);},20);return false;}var _g='{ "audiofile":"'+_i;_g+='", "samplerate":"'+this.samplerate;_g+='", "channelconfig":"'+this.channelconfig;_g+='", "audioFormat":"'+this.audioformat;_g+='", "playingeventtime":"'+_a;_g+='", "intervaltimestate":"'+_b;_g+='"}';var _h="";_h='{"id":'+this._id+', "div":"Sound", "method":"recordingStart", "params":'+_g+'}';}nexacro.Device.exec(_h);return true;};_pAudioRecorder.recordingStop=function(){if(this.brecording==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b="";if(nexacro.Device.curDevice==0){_b='{"id":'+this._id+', "div":"AudioRecorder", "method":"recordingStop", "params":'+_a+'}';}else{_b='{"id":'+this._id+', "div":"Sound", "method":"recordingStop", "params":'+_a+'}';}nexacro.Device.exec(_b);};_pAudioRecorder.pause=function(){if(nexacro.Device.curDevice==0){return;}if(this.brecording==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1303","Already paused");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b="";_b='{"id":'+this._id+', "div":"Sound", "method":"recpause", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioRecorder.resume=function(){if(nexacro.Device.curDevice==0){return;}if(this.brecording==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1011","Not paused");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b="";_b='{"id":'+this._id+', "div":"Sound", "method":"recresume", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioRecorder._onrecord=function(_a){this.brecording=true;this.bpaused=false;};_pAudioRecorder._fire_onrecord=function(_a,_b){if(this.onrecord&&this.onrecord._has_handlers){return this.onrecord._fireEvent(this,_b);}return true;};_pAudioRecorder._onrecording=function(_a){this.brecording=true;this.bpaused=false;this.reccurtime=_a.curtime;var _b=new nexacro.AudioEventInfo("onrecording",_a.reason,_a.url,_a.playtime,_a.curtime,null,null,null);this._fire_onrecording(this,_b);};_pAudioRecorder._fire_onrecording=function(_a,_b){if(this.onrecording&&this.onrecording._has_handlers){return this.onrecording._fireEvent(this,_b);}return true;};_pAudioRecorder._onstop=function(_a){if(_a.reason=="5"){this.brecording=false;this.bpaused=false;}else if(_a.reason=="6"){this.brecording=true;this.bpaused=true;}var _b=new nexacro.AudioEventInfo("onstop",_a.reason,_a.url,_a.playtime,_a.curtime,null,null,null);this._fire_onstop(this,_b);};_pAudioRecorder._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pAudioRecorder._onerror=function(_a){var _b=new nexacro.AudioErrorEventInfo("onerror",_a.url,_a.curtime,_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pAudioRecorder._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pAudioRecorder=null;}if(!nexacro.ContactSet){nexacro.ContactSet=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.isRunning=false;this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"ContactSet", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pContactSet=nexacro.ContactSet.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactSet);_pContactSet._type_name="ContactSet";_pContactSet.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"ContactSet", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pContactSet.on_created=function(){};_pContactSet.query=function(_a,_b){if(typeof (_a)=="undefined"||_a==""){return false;}if(!(nexacro.Device.pramck_contactString(_a))){return false;}if(_b==null||typeof (_b)=="undefined"){_b= -1;}else{try{var _c=Number(_b.toString());}catch(e){return false;}if(( +_c)!=( +_c)){return false;}if(_b==0||_b< -1){return false;}}var _d=_a.split(";");if(_d.length<1){return false;}for(var _i=0;_i<_d.length;_i++ ){var _e=_d[_i].split(":");if(_e.length<2){return false;}else{var _f=_e[0].toLowerCase();if(_d.length==1){if(!(_f=="all"||_f=="uniqueid"||_f=="categories"||_f=="birthday"||_f=="contactname"||_f=="nickname"||_f=="note"||_f=="phonenumbers"||_f=="emails"||_f=="ims"||_f=="urls"||_f=="addresses"||_f=="organizations")){return false;}}else{if(!(_f=="uniqueid"||_f=="categories"||_f=="birthday"||_f=="contactname"||_f=="nickname"||_f=="note"||_f=="phonenumbers"||_f=="emails"||_f=="ims"||_f=="urls"||_f=="addresses"||_f=="organizations")){return false;}}}if(_e[1].split(" ").join("").length==0){return false;}}if(nexacro.Device.curDevice==1){_a=_a.replace(/\?/g,"_QUESTION_");}var _g='{ "strQueryInfo":"'+_a;_g+='", "nResultCnt":"'+_b;_g+='"}';var _h='{"id":'+this._id+', "div":"ContactSet", "method":"query", "params":'+_g+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_h);return true;};_pContactSet.append=function(_a){if(!(_a instanceof nexacro.Contact)){return false;}if(this.typeCheck(_a)==false){return false;}var _b=_a.toJson();var _c='{"id":'+this._id+', "div":"ContactSet", "method":"append", "params":'+_b+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_c);return true;};_pContactSet.update=function(_a){if(!(_a instanceof nexacro.Contact)){return false;}if(this.typeCheck(_a)==false){return false;}var _b=_a.toJson();var _c='{"id":'+this._id+', "div":"ContactSet", "method":"update", "params":'+_b+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_c);return true;};_pContactSet.remove=function(_a){if(typeof (_a)=="undefined"){return false;}if(_a!=null){if((( +_a)!=( +_a))||_a<0){return false;}}var _b='{ "strUniqueID":"'+_a;_b+='"}';var _c='{"id":'+this._id+', "div":"ContactSet", "method":"remove", "params":'+_b+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_c);return true;};_pContactSet._onsuccess=function(_a){this.isRunning=false;if(nexacro.Device.curDevice==0){var _b="";var _c="";var _d="";var _e="";var _f="";var _g="";var _h="";var _i="";var _j="";var _k="";var _l="";var _m="";var _n="";var _o="";var _p="";var _q="";var _r="";var _s="";var _t="";var _u=new Array();for(var _af=0;_af<_a.length;_af++ ){if(typeof (_a[_af].contacts)!="undefined"){if(typeof (_a[_af].contacts.uniqueid)!="undefined"){_c=_a[_af].contacts.uniqueid;}if(typeof (_a[_af].contacts.contactname)!="undefined"){if(typeof (_a[_af].contacts.contactname.displayname)!="undefined"){_d=_a[_af].contacts.contactname.displayname;}if(typeof (_a[_af].contacts.contactname.familyname)!="undefined"){_e=_a[_af].contacts.contactname.familyname;}if(typeof (_a[_af].contacts.contactname.givenname)!="undefined"){_f=_a[_af].contacts.contactname.givenname;}if(typeof (_a[_af].contacts.contactname.middlename)!="undefined"){_g=_a[_af].contacts.contactname.middlename;}if(typeof (_a[_af].contacts.contactname.prefix)!="undefined"){_h=_a[_af].contacts.contactname.prefix;}if(typeof (_a[_af].contacts.contactname.suffix)!="undefined"){_i=_a[_af].contacts.contactname.suffix;}}if(typeof (_a[_af].contacts.nickname)!="undefined"){_j=_a[_af].contacts.nickname;}if(typeof (_a[_af].contacts.birthday)!="undefined"){_k=new Date(_a[_af].contacts.birthday);}if(typeof (_a[_af].contacts.note)!="undefined"){_l=_a[_af].contacts.note;}if(typeof (_a[_af].contacts.phonenumbers)!="undefined"){_m=new Array(_a[_af].contacts.phonenumbers.length);for(var _ag=0;_ag<_a[_af].contacts.phonenumbers.length;_ag++ ){var _v=new nexacro.ContactField("",_a[_af].contacts.phonenumbers[_ag].type,_a[_af].contacts.phonenumbers[_ag].value,_a[_af].contacts.phonenumbers[_ag].label,"");_m[_ag]=_v;}}else{_m=new nexacro.ContactField("","","","","");}if(typeof (_a[_af].contacts.emails)!="undefined"){_n=new Array(_a[_af].contacts.emails.length);for(var _ag=0;_ag<_a[_af].contacts.emails.length;_ag++ ){var _w=new nexacro.ContactField("",_a[_af].contacts.emails[_ag].type,_a[_af].contacts.emails[_ag].value,_a[_af].contacts.emails[_ag].label,"");_n[_ag]=_w;}}else{_n=new nexacro.ContactField("","","","","");}if(typeof (_a[_af].contacts.ims)!="undefined"){_o=new Array(_a[_af].contacts.ims.length);for(var _ag=0;_ag<_a[_af].contacts.ims.length;_ag++ ){var _x=new nexacro.ContactIM("",_a[_af].contacts.ims[_ag].type,_a[_af].contacts.ims[_ag].value,_a[_af].contacts.ims[_ag].label,_a[_af].contacts.ims[_ag].protocoltype,_a[_af].contacts.ims[_ag].protocollabel,"");_o[_ag]=_x;}}else{_o=new nexacro.ContactIM("","","","","","","");}if(typeof (_a[_af].contacts.categories)!="undefined"){_p=new Array(_a[_af].contacts.categories.length);for(var _ag=0;_ag<_a[_af].contacts.categories.length;_ag++ ){var _y=new nexacro.ContactField("",_a[_af].contacts.categories[_ag].type,_a[_af].contacts.categories[_ag].value,_a[_af].contacts.categories[_ag].label,"");_p[_ag]=_y;}}else{_p=new nexacro.ContactField("","","","","");}if(typeof (_a[_af].contacts.urls)!="undefined"){_q=new Array(_a[_af].contacts.urls.length);for(var _ag=0;_ag<_a[_af].contacts.urls.length;_ag++ ){var _z=new nexacro.ContactField("",_a[_af].contacts.urls[_ag].type,_a[_af].contacts.urls[_ag].value,_a[_af].contacts.urls[_ag].label,"");_q[_ag]=_z;}}else{_q=new nexacro.ContactField("","","","","");}if(typeof (_a[_af].contacts.addresses)!="undefined"){_r=new Array(_a[_af].contacts.addresses.length);for(var _ag=0;_ag<_a[_af].contacts.addresses.length;_ag++ ){var _aa=new nexacro.ContactAddress("",_a[_af].contacts.addresses[_ag].type,_a[_af].contacts.addresses[_ag].country,_a[_af].contacts.addresses[_ag].postcode,_a[_af].contacts.addresses[_ag].city,_a[_af].contacts.addresses[_ag].region,_a[_af].contacts.addresses[_ag].street,_a[_af].contacts.addresses[_ag].label,"");_r[_ag]=_aa;}}else{_r=new nexacro.ContactAddress("","","","","","","","","");}if(typeof (_a[_af].contacts.organizations)!="undefined"){_s=new Array(_a[_af].contacts.organizations.length);for(var _ag=0;_ag<_a[_af].contacts.organizations.length;_ag++ ){var _ab=new nexacro.ContactOrganization("",_a[_af].contacts.organizations[_ag].type,_a[_af].contacts.organizations[_ag].company,_a[_af].contacts.organizations[_ag].department,_a[_af].contacts.organizations[_ag].title,_a[_af].contacts.organizations[_ag].label,"");_s[_ag]=_ab;}}else{_s=new nexacro.ContactOrganization("","","","","","","");}if(typeof (_a[_af].contacts.photos)!="undefined"){_t=new Array(_a[_af].contacts.photos.length);for(var _ag=0;_ag<_a[_af].contacts.photos.length;_ag++ ){var _ac=new nexacro.ContactPhoto("",_a[_af].contacts.photos[_ag].imagedata,_a[_af].contacts.photos[_ag].label,"");_t[_ag]=_ac;}}else{_t=new nexacro.ContactPhoto("","","","");}var _ad=new nexacro.Contact("",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,"");_u[_af]=_ad;}if(nexacro.Device.curDevice==0){_b=_a[_af].reason;}else{_b=_a.reason;}}var _ae=new nexacro.ContactSetEventInfo("onsuccess",_b,_u);}else{_a.contacts=this.makeContacts(_a.contacts);var _ae=new nexacro.ContactSetEventInfo("onsuccess",_a.reason,_a.contacts);}this._fire_onsuccess(this,_ae);};_pContactSet._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pContactSet._onerror=function(_a){this.isRunning=false;var _b=new nexacro.ContactSetErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pContactSet._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pContactSet.makeContacts=function(objData){var str=objData;var str2=eval("("+str+")");var persons=new Array();persons=str2.contact;var contactObjList=new Array();for(var k=0;k<persons.length;k++ ){var person=persons[k];var phoneObjList=new Array();var phonenumList=person.phonenumbers;for(var i=0;i<phonenumList.length;i++ ){var phonenum=new nexacro.ContactField("",phonenumList[i].type,phonenumList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),phonenumList[i].label,"");phoneObjList[i]=phonenum;}var categoriObjList=new Array();var categoriList=person.categories;for(var i=0;i<categoriList.length;i++ ){var tempVal=new nexacro.ContactField("",categoriList[i].type,categoriList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),categoriList[i].label,"");categoriObjList[i]=tempVal;}var photoObjList=new Array();var photoList=person.photos;for(var i=0;i<photoList.length;i++ ){var tempVal=new nexacro.ContactPhoto("",photoList[i].imagedata,photoList[i].label,"");photoObjList[i]=tempVal;}var organizationObjList=new Array();var organizationList=person.organizations;for(var i=0;i<organizationList.length;i++ ){var tempVal=new nexacro.ContactOrganization("",organizationList[i].type,organizationList[i].company,organizationList[i].department,organizationList[i].title,organizationList[i].label,"");organizationObjList[i]=tempVal;}var addressObjList=new Array();var addressList=person.addresses;for(var i=0;i<addressList.length;i++ ){var tempVal=new nexacro.ContactAddress("",addressList[i].type,addressList[i].country.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].postcode.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].city.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].region.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].street.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].label,"");addressObjList[i]=tempVal;}var urlsObjList=new Array();var urlsList=person.urls;for(var i=0;i<urlsList.length;i++ ){var tempVal=new nexacro.ContactField("",urlsList[i].type,urlsList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),urlsList[i].label,"");urlsObjList[i]=tempVal;}var imsObjList=new Array();var imsList=person.ims;for(var i=0;i<imsList.length;i++ ){var tempVal=new nexacro.ContactIM("",imsList[i].type,imsList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),imsList[i].label,imsList[i].ptype,imsList[i].plabel,"");imsObjList[i]=tempVal;}var emailsObjList=new Array();var emailsList=person.emails;for(var i=0;i<emailsList.length;i++ ){var tempVal=new nexacro.ContactField("",emailsList[i].type,emailsList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),emailsList[i].label,"");emailsObjList[i]=tempVal;}if(typeof (person.note)!="undefined"){person.note=person.note.replace(new RegExp("&#32;","gi")," ");person.note=person.note.replace(new RegExp("_NEWLINE_","gi"),"\n");}contactObjList[k]=new nexacro.Contact("",person.uniqueid,person.contactname.displayname,person.contactname.familyname,person.contactname.givenname,person.contactname.middlename,person.contactname.prefix,person.contactname.suffix,person.nickname,nexacro.Device.isConvertDateToString(person.birthday),person.note,phoneObjList,emailsObjList,imsObjList,categoriObjList,urlsObjList,addressObjList,organizationObjList,photoObjList,"");}return contactObjList;};_pContactSet.typeCheck=function(_a){if(typeof (_a)=="undefined"){return false;}if(typeof (_a.phonenumbers)!="undefined"){if((_a.phonenumbers.length)>0){for(var _e=0;_e<_a.phonenumbers.length;_e++ ){var _b=_a.phonenumbers[_e].type*1;if(_b<0&&_b>12){return false;}var _c=_a.phonenumbers[_e].type+"";if(nexacro.Device.curDevice==0){if(!(_c=="0"||_c=="1"||_c=="2"||_c=="3"||_c=="4"||_c=="6"||_c=="7"||_c=="9"||_c=="10")){return false;}}else{if(_c=="1"){return false;}}}}}if(typeof (_a.emails)!="undefined"){if((_a.emails.length)>0){for(var _e=0;_e<_a.emails.length;_e++ ){var _b=_a.emails[_e].type*1;if(_b<0&&_b>12){return false;}var _c=_a.emails[_e].type+"";if(nexacro.Device.curDevice==0){if(!(_c=="0"||_c=="4"||_c=="6"||_c=="7"||_c=="10")){return false;}}else{if(_c=="1"){return false;}}}}}if(typeof (_a.categories)!="undefined"){if((_a.categories.length)>0){for(var _e=0;_e<_a.categories.length;_e++ ){var _b=_a.categories[_e].type*1;if(_b<0&&_b>12){return false;}var _c=_a.categories[_e].type+"";if(_c!="0"){return false;}}}}if(typeof (_a.urls)!="undefined"){if((_a.urls.length)>0){for(var _e=0;_e<_a.urls.length;_e++ ){var _b=_a.urls[_e].type*1;if(_b<0&&_b>12){return false;}var _c=_a.urls[_e].type+"";if(nexacro.Device.curDevice==0){if(_c!="12"){return false;}}else{if(_c=="1"){return false;}}}}}if(typeof (_a.ims)!="undefined"){if((_a.ims.length)>0){for(var _e=0;_e<_a.ims.length;_e++ ){var _b=_a.ims[_e].type*1;if(_b<0&&_b>12){return false;}var _c=_a.ims[_e].type+"";if(nexacro.Device.curDevice==0){if(_c!="7"){return false;}var _d=_a.ims[_e].protocoltype+"";if(!(_d=="0"||_d=="1"||_d=="2"||_d=="3"||_d=="4"||_d=="5"||_d=="6"||_d=="7"||_d=="8")){return false;}}else{if(_c=="1"){return false;}}}}}if(typeof (_a.addresses)!="undefined"){if((_a.addresses.length)>0){for(var _e=0;_e<_a.addresses.length;_e++ ){var _b=_a.addresses[_e].type*1;if(_b<0&&_b>12){return false;}var _c=_a.addresses[_e].type+"";if(nexacro.Device.curDevice==0){if(!(_c=="0"||_c=="4"||_c=="7"||_c=="10")){return false;}}else{if(_c=="1"){return false;}}}}}if(typeof (_a.organizations)!="undefined"){if((_a.organizations.length)>0){for(var _e=0;_e<_a.organizations.length;_e++ ){var _b=_a.organizations[_e].type*1;if(_b<0&&_b>12){return false;}var _c=_a.organizations[_e].type+"";if(nexacro.Device.curDevice==0){if(!(_c=="0"||_c=="7"||_c=="10")){return false;}}else{if(_c!="10"){return false;}}}}}return true;};_pContactSet=null;}if(!nexacro.ContactSetEventInfo){nexacro.ContactSetEventInfo=function(_a,_b,_c){this.eventid=_a;this.reason=_b;this.contacts=_c;};var _pContactSetEventInfo=nexacro.ContactSetEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ContactSetEventInfo);_pContactSetEventInfo._type_name="ContactSetEventInfo";_pContactSetEventInfo=null;}if(!nexacro.ContactSetErrorEventInfo){nexacro.ContactSetErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pContactSetErrorEventInfo=nexacro.ContactSetErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ContactSetErrorEventInfo);_pContactSetErrorEventInfo._type_name="ContactSetErrorEventInfo";_pContactSetErrorEventInfo=null;}if(!nexacro.Contact){nexacro.Contact=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){this.enableevent=true;if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.uniqueid="";this.contactname={displayname:"",familyname:"",givenname:"",middlename:"",prefix:"",suffix:"",set_displayname:function(){},set_familyname:function(_u){this["familyname"]=_u;},set_givenname:function(_u){this["givenname"]=_u;},set_middlename:function(_u){this["middlename"]=_u;},set_prefix:function(_u){this["prefix"]=_u;},set_suffix:function(_u){this["suffix"]=_u;}};this.nickname="";this.birthday="";this.note="";this.phonenumbers="";this.emails="";this.ims="";this.categories="";this.urls="";this.addresses="";this.organizations="";this.photos="";}else{this.uniqueid=_b||"";this.contactname={displayname:(_c||""),familyname:(_d||""),givenname:(_e||""),middlename:(_f||""),prefix:(_g||""),suffix:(_h||""),set_displayname:function(){},set_familyname:function(_u){this["familyname"]=_u;},set_givenname:function(_u){this["givenname"]=_u;},set_middlename:function(_u){this["middlename"]=_u;},set_prefix:function(_u){this["prefix"]=_u;},set_suffix:function(_u){this["suffix"]=_u;}};this.nickname=(_i||"");this.birthday=(_j||"");if(typeof (_k)!="undefined"&&_k!=""){_k=_k.replace(/&#10;/g,"\n");}this.note=(_k||"");this.phonenumbers=(_l||"");this.emails=(_m||"");this.ims=(_n||"");this.categories=(_o||"");this.urls=(_p||"");this.addresses=(_q||"");this.organizations=(_r||"");this.photos=(_s||"");}};nexacro.Contact.TYPE_CUSTOM=0;nexacro.Contact.TYPE_CALLBACK=1;nexacro.Contact.TYPE_FAX_HOME=2;nexacro.Contact.TYPE_FAX_WORK=3;nexacro.Contact.TYPE_HOME=4;nexacro.Contact.TYPE_MAIN=5;nexacro.Contact.TYPE_MOBILE=6;nexacro.Contact.TYPE_OTHER=7;nexacro.Contact.TYPE_OTHER_FAX=8;nexacro.Contact.TYPE_PAGER=9;nexacro.Contact.TYPE_WORK=10;nexacro.Contact.TYPE_IPHONE=11;nexacro.Contact.TYPE_HOMEPAGE=12;nexacro.Contact.PTYPE_CUSTOM=0;nexacro.Contact.PTYPE_AIM=1;nexacro.Contact.PTYPE_MSN=2;nexacro.Contact.PTYPE_YAHOO=3;nexacro.Contact.PTYPE_SKYPE=4;nexacro.Contact.PTYPE_QQ=5;nexacro.Contact.PTYPE_GOOGLE_TALK=6;nexacro.Contact.PTYPE_ICQ=7;nexacro.Contact.PTYPE_JABBER=8;nexacro.Contact.PTYPE_NETMEETING=9;nexacro.Contact.PTYPE_FACEBOOK=10;nexacro.Contact.PTYPE_GADUGADU=11;var _pContact=nexacro.Contact.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Contact);_pContact._type_name="Contact";_pContact.on_created=function(){};_pContact.set_uniqueid=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.uniqueid=_a;return true;}return false;};_pContact.set_displayname=function(_a){};_pContact.set_familyname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.familyname=_a;return true;}return false;};_pContact.set_givenname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.givenname=_a;return true;}return false;};_pContact.set_middlename=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.middlename=_a;return true;}return false;};_pContact.set_prefix=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.prefix=_a;return true;}return false;};_pContact.set_suffix=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.suffix=_a;return true;}return false;};_pContact.set_nickname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.nickname=_a;return true;}return false;};_pContact.set_note=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.note=_a;return true;}return false;};_pContact.set_birthday=function(_a){if(this.isValidDate(_a)==true){this.birthday=_a;return true;}return false;};_pContact.set_phonenumbers=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.phonenumbers=_a;return true;}return false;};_pContact.set_emails=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.emails=_a;return true;}return false;};_pContact.set_ims=function(_a){if(this.pramk_ContactIMArray(_a)==true){this.ims=_a;return true;}return false;};_pContact.set_categories=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.categories=_a;return true;}return false;};_pContact.set_urls=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.urls=_a;return true;}return false;};_pContact.set_addresses=function(_a){if(this.pramk_ContactAddressArray(_a)==true){this.addresses=_a;return true;}return false;};_pContact.set_organizations=function(_a){if(this.pramk_ContactOrganizationArray(_a)==true){this.organizations=_a;return true;}return false;};_pContact.set_photos=function(_a){if(this.pramk_ContactPhotoArray(_a)==true){this.photos=_a;return true;}return false;};_pContact.pramk_ContactFieldArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].value)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactIMArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].label)&&nexacro.Device.pramck_contactString(_a[_b].value)&&nexacro.Device.pramck_contactString(_a[_b].protocoltype)&&nexacro.Device.pramck_contactString(_a[_b].protocollabel))){return false;}}return true;}return false;};_pContact.pramk_ContactAddressArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].country)&&nexacro.Device.pramck_contactString(_a[_b].postcode)&&nexacro.Device.pramck_contactString(_a[_b].city)&&nexacro.Device.pramck_contactString(_a[_b].region)&&nexacro.Device.pramck_contactString(_a[_b].street)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactOrganizationArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].company)&&nexacro.Device.pramck_contactString(_a[_b].department)&&nexacro.Device.pramck_contactString(_a[_b].title)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactPhotoArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].imagedata)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.toJson=function(){if(this.contactname.familyname==null){this.contactname.familyname="";}if(this.contactname.displayname==null){this.contactname.displayname="";}if(this.contactname.givenname==null){this.contactname.givenname="";}if(this.contactname.middlename==null){this.contactname.middlename="";}if(this.contactname.prefix==null){this.contactname.prefix="";}if(this.contactname.suffix==null){this.contactname.suffix="";}if(typeof (this.uniqueid)=="undefined"){this.uniqueid="";}var _a='{ "uniqueid":"'+this.uniqueid;if(nexacro.Device.curDevice==0){_a+='", "contactname":{';_a+=' "familyname":"'+this.contactname.familyname;_a+='", "displayname":"'+this.contactname.displayname;_a+='", "givenname":"'+this.contactname.givenname;_a+='", "middlename":"'+this.contactname.middlename;_a+='", "prefix":"'+this.contactname.prefix;_a+='", "suffix":"'+this.contactname.suffix;_a+='"}';}else{_a+='", "contactname":[{';_a+=' "familyname":"'+this.contactname.familyname;_a+='", "displayname":"'+this.contactname.displayname;_a+='", "givenname":"'+this.contactname.givenname;_a+='", "middlename":"'+this.contactname.middlename;_a+='", "prefix":"'+this.contactname.prefix;_a+='", "suffix":"'+this.contactname.suffix;_a+='"}]';}if(typeof (this.nickname)=="undefined"){this.nickname="";}_a+=', "nickname":"'+this.nickname;if(nexacro.Device.curDevice==0){if(this.birthday!=""){var _b;var _c;var _d;_b=this.birthday.getFullYear();_c=this.birthday.getMonth()+1;_d=this.birthday.getDate();_a+='", "birthday":"'+_b+'-'+_c+'-'+_d;}else{_a+='", "birthday":"'+this.birthday;}}else{if(this.birthday!=""){_a+='", "birthday":"'+this.birthday.getFullYear()+'/'+(this.birthday.getMonth()+1)+'/'+this.birthday.getDate();}else{_a+='", "birthday":"';}}if(typeof (this.note)=="undefined"){this.note="";}if(nexacro.Device.curDevice==1){this.note=this.note.replace(/\r/g,"");this.note=this.note.replace(/\n/g,"_NEWLINE_");this.note=this.note.replace(/&#10;/g,"_NEWLINE_");}_a+='", "note":"'+this.note;_a+='", "phonenumbers":';if(typeof (this.phonenumbers)!="undefined"){if((this.phonenumbers.length)>0){_a+='[';for(var _e=0;_e<this.phonenumbers.length;_e++ ){_a+=this.phonenumbers[_e].toJson();if(((this.phonenumbers.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "emails":';if(typeof (this.emails)!="undefined"){if((this.emails.length)>0){_a+='[';for(var _e=0;_e<this.emails.length;_e++ ){_a+=this.emails[_e].toJson();if(((this.emails.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "ims":';if(typeof (this.ims)!="undefined"){if((this.ims.length)>0){_a+='[';for(var _e=0;_e<this.ims.length;_e++ ){_a+=this.ims[_e].toJson();if(((this.ims.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "categories":';if(typeof (this.categories)!="undefined"){if((this.categories.length)>0){_a+='[';for(var _e=0;_e<this.categories.length;_e++ ){_a+=this.categories[_e].toJson();if(((this.categories.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "urls":';if(typeof (this.urls)!="undefined"){if((this.urls.length)>0){_a+='[';for(var _e=0;_e<this.urls.length;_e++ ){_a+=this.urls[_e].toJson();if(((this.urls.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "addresses":';if(typeof (this.addresses)!="undefined"){if((this.addresses.length)>0){_a+='[';for(var _e=0;_e<this.addresses.length;_e++ ){_a+=this.addresses[_e].toJson();if(((this.addresses.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "organizations":';if(typeof (this.organizations)!="undefined"){if((this.organizations.length)>0){_a+='[';for(var _e=0;_e<this.organizations.length;_e++ ){_a+=this.organizations[_e].toJson();if(((this.organizations.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "photos":';if(typeof (this.photos)!="undefined"){if((this.photos.length)>0){_a+='[';for(var _e=0;_e<this.photos.length;_e++ ){_a+=this.photos[_e].toJson();if(((this.photos.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+='}';return _a;};_pContact.isValidDate=function(_a){if(Object.prototype.toString.call(_a)==="[object Date]"||_a==""){return true;}return false;};_pContact=null;}if(!nexacro.ContactField){nexacro.ContactField=function(_a,_b,_c,_d,_e){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.value="";this.label="";}else{this.type=_b||"";this.value=_c||"";this.label=_d||"";}this.enableevent=true;};var _pContactField=nexacro.ContactField.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactField);_pContactField._type_name="ContactField";_pContactField.on_created=function(){};_pContactField.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}this.type="";return false;};_pContactField.set_value=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.value=_a;return true;}this.value="";return false;};_pContactField.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}this.label="";return false;};_pContactField.toJson=function(){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.value)=="undefined"||this.value==null){this.value="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}var _a='{ "label":"'+this.label;_a+='", "value":"'+this.value;_a+='", "type":"'+this.type;_a+='"}';return _a;};_pContactField=null;}if(!nexacro.ContactIM){nexacro.ContactIM=function(_a,_b,_c,_d,_e,_f,_g){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.value="";this.label="";this.protocoltype="";this.protocollabel="";}else{this.type=_b||"";this.value=_c||"";this.label=_d||"";this.protocoltype=_e||"";this.protocollabel=_f||"";}this.enableevent=true;};var _pContactIM=nexacro.ContactIM.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactIM);_pContactIM._type_name="ContactIM";_pContactIM.on_created=function(){};_pContactIM.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}this.type="";return false;};_pContactIM.set_value=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.value=_a;return true;}this.value="";return false;};_pContactIM.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}this.label="";return false;};_pContactIM.set_protocoltype=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.protocoltype=_a;return true;}this.protocoltype="";return false;};_pContactIM.set_protocollabel=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.protocollabel=_a;return true;}this.protocollabel="";return false;};_pContactIM.toJson=function(){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.value)=="undefined"||this.value==null){this.value="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}if(typeof (this.protocoltype)=="undefined"||this.protocoltype==null){this.protocoltype="";}if(typeof (this.protocollabel)=="undefined"||this.protocollabel==null){this.protocollabel="";}var _a='{ "label":"'+this.label;_a+='", "value":"'+this.value;_a+='", "type":"'+this.type;_a+='", "ptype":"'+this.protocoltype;_a+='", "plabel":"'+this.protocollabel;_a+='"}';return _a;};_pContactIM=null;}if(!nexacro.ContactAddress){nexacro.ContactAddress=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.country="";this.postcode="";this.city="";this.region="";this.street="";this.label="";}else{this.type=_b||"";this.country=_c||"";this.postcode=_d||"";this.city=_e||"";this.region=_f||"";this.street=_g||"";this.label=_h||"";}this.enableevent=true;};var _pContactAddress=nexacro.ContactAddress.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactAddress);_pContactAddress._type_name="ContactAddress";_pContactAddress.on_created=function(){};_pContactAddress.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}return false;};_pContactAddress.set_country=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.country=_a;return true;}return false;};_pContactAddress.set_postcode=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.postcode=_a;return true;}return false;};_pContactAddress.set_city=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.city=_a;return true;}return false;};_pContactAddress.set_region=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.region=_a;return true;}return false;};_pContactAddress.set_street=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.street=_a;return true;}return false;};_pContactAddress.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}return false;};_pContactAddress.toJson=function(){if(nexacro.Device.curDevice==0){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.country)=="undefined"||this.country==null){this.country="";}if(typeof (this.postcode)=="undefined"||this.postcode==null){this.postcode="";}if(typeof (this.city)=="undefined"||this.city==null){this.city="";}if(typeof (this.region)=="undefined"||this.region==null){this.region="";}if(typeof (this.street)=="undefined"||this.street==null){this.street="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}var _a='{ "label":"'+this.label;_a+='", "country":"'+this.country;_a+='", "postcode":"'+this.postcode;_a+='", "city":"'+this.city;_a+='", "region":"'+this.region;_a+='", "street":"'+this.street;_a+='", "type":"'+this.type;_a+='"}';}else{if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}if(typeof (this.country)=="undefined"||this.country==null){this.country="";}if(typeof (this.postcode)=="undefined"||this.postcode==null){this.postcode="";}if(typeof (this.city)=="undefined"||this.city==null){this.city="";}if(typeof (this.region)=="undefined"||this.region==null){this.region="";}if(typeof (this.street)=="undefined"||this.street==null){this.street="";}var _a='{ "label":"'+this.label;_a+='", "type":"'+this.type;_a+='", "value":{';_a+='"Country":"'+this.country;_a+='", "ZIP":"'+this.postcode;_a+='", "City":"'+this.city;_a+='", "State":"'+this.region;_a+='", "Street":"'+this.street;_a+='"}}';}return _a;};_pContactAddress=null;}if(!nexacro.ContactOrganization){nexacro.ContactOrganization=function(_a,_b,_c,_d,_e,_f,_g){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.company="";this.department="";this.title="";this.label="";}else{this.type=_b||"";this.company=_c||"";this.department=_d||"";this.title=_e||"";this.label=_f||"";}this.enableevent=true;};var _pContactOrganization=nexacro.ContactOrganization.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactOrganization);_pContactOrganization._type_name="ContactOrganization";_pContactOrganization.on_created=function(){};_pContactOrganization.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}return false;};_pContactOrganization.set_company=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.company=_a;return true;}return false;};_pContactOrganization.set_department=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.department=_a;return true;}return false;};_pContactOrganization.set_title=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.title=_a;return true;}return false;};_pContactOrganization.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}return false;};_pContactOrganization.toJson=function(){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.title)=="undefined"||this.title==null){this.title="";}if(typeof (this.company)=="undefined"||this.company==null){this.company="";}if(typeof (this.department)=="undefined"||this.department==null){this.department="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}var _a='{ "label":"'+this.label;_a+='", "title":"'+this.title;_a+='", "company":"'+this.company;_a+='", "department":"'+this.department;_a+='", "type":"'+this.type;_a+='"}';return _a;};_pContactOrganization=null;}if(!nexacro.ContactPhoto){nexacro.ContactPhoto=function(_a,_b,_c,_d){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.imagedata="";this.label="";}else{this.imagedata=_b||"";this.label=_c||"";}this.enableevent=true;};var _pContactPhoto=nexacro.ContactPhoto.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactPhoto);_pContactPhoto._type_name="ContactPhoto";_pContactPhoto.on_created=function(){};_pContactPhoto.set_imagedata=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.imagedata=_a;return true;}return false;};_pContactPhoto.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}return false;};_pContactPhoto.toJson=function(){var _a='{ "imagedata":"'+this.imagedata;_a+='", "label":"'+this.label;_a+='"}';return _a;};_pContactPhoto=null;}if(!nexacro.ExternalAPI){nexacro.ExternalAPI=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1,"onrecvdata":1};this.onsuccess=null;this.onerror=null;this.onrecvdata=null;var _c='""';var _d="";_d='{"id":'+this._id+', "div":"ExternalAPI", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pExternalAPI=nexacro.ExternalAPI.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExternalAPI);_pExternalAPI._type_name="ExternalAPI";_pExternalAPI.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"ExternalAPI", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pExternalAPI.on_created=function(){};_pExternalAPI.isAccessible=function(_a){if(typeof (_a)=="undefined"||_a.length==0||typeof (_a)!="string"){return false;}else{var _b='{"appID":"'+_a+'"}';var _c="";_c='{"id":'+this._id+', "div":"ExternalAPI", "method":"isAccessible", "params":'+_b+'}';nexacro.Device.exec(_c);return true;}};_pExternalAPI.execExtAPI=function(_a,_b,_c,_d){if(typeof (_b)=="undefined"||_b.length==0||typeof (_b)!="string"){return false;}if(typeof (_c)=="undefined"||_c.length==0){return false;}var _e='{"recvID":"'+_a+'"';_e+=', "appID":"'+_b+'"';_e+=', "apiname":"'+_c+'"';_e+=', "params":"'+_d+'"}';var _f="";_f='{"id":'+this._id+', "div":"ExternalAPI", "method":"execExtAPI", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pExternalAPI._onsuccess=function(_a){var _b=new nexacro.ExternalAPIEventinfo("onsuccess",_a.reason,_a.recvid,_a.recvdata);this._fire_onsuccess(this,_b);};_pExternalAPI._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pExternalAPI._onrecvdata=function(_a){var _b=new nexacro.ExternalAPIEventinfo("onrecvdata",_a.reason,_a.recvid,_a.recvdata);this._fire_onrecvdata(this,_b);};_pExternalAPI._fire_onrecvdata=function(_a,_b){if(this.onrecvdata&&this.onrecvdata._has_handlers){return this.onrecvdata._fireEvent(this,_b);}return true;};_pExternalAPI._onerror=function(_a){var _b=new nexacro.ExternalAPIErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pExternalAPI._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pExternalAPI=null;}if(!nexacro.ExternalAPIEventinfo){nexacro.ExternalAPIEventinfo=function(_a,_b,_c,_d){this.eventid=_a;this.reason=_b;this.recvid=_c;this.recvdata=_d;};var _pExternalAPIEventinfo=nexacro.ExternalAPIEventinfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ExternalAPIEventinfo);_pExternalAPIEventinfo._type_name="ExternalAPIEventinfo";_pExternalAPIEventinfo=null;}if(!nexacro.ExternalAPIErrorEventInfo){nexacro.ExternalAPIErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pExternalAPIErrorEventInfo=nexacro.ExternalAPIErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ExternalAPIErrorEventInfo);_pExternalAPIErrorEventInfo._type_name="ExternalAPIErrorEventinfo";_pExternalAPIErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBEventInfo){nexacro.LiteDBEventInfo=function(_a,_b,_c){this.eventid=_a;this.reason=_b;this.returnvalue=_c;};var _pLiteDBEventInfo=nexacro.LiteDBEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBEventInfo);_pLiteDBEventInfo._type_name="LiteDBEventInfo";_pLiteDBEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBErrorEventInfo){nexacro.LiteDBErrorEventInfo=function(_a,_b,_c,_d,_e){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;this.ldberrorcode=_d;this.ldberrormsg=_e;};var _pLiteDBErrorEventInfo=nexacro.LiteDBErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBErrorEventInfo);_pLiteDBErrorEventInfo._type_name="LiteDBErrorEventInfo";_pLiteDBErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBConnection){nexacro.LiteDBConnection=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.bbegin=false;this.enableevent=true;this.sqlstatement="";this.busytimeout=60000;this.openflag=1;this.datasource="";this.preconnect="false";this.async=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"SQLConnection", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};nexacro.LiteDBConnection.openReadWrite=0;nexacro.LiteDBConnection.openReadWriteCreate=1;var _pLiteDBConnection=nexacro.LiteDBConnection.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.LiteDBConnection);_pLiteDBConnection._type_name="LiteDBConnection";_pLiteDBConnection.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"SQLConnection", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pLiteDBConnection.on_created=function(){};_pLiteDBConnection.set_busytimeout=function(_a){if(this.paramck_busytimeout(_a)){this.busytimeout=_a;return true;}else{return false;}};_pLiteDBConnection.set_datasource=function(_a){if(this.paramck_datasource(_a)){this.datasource=_a;if(this.preconnect=="true"||this.preconnect==true){this.open();}return true;}else{return false;}};_pLiteDBConnection.set_openflag=function(_a){if(_a==LiteDBConnection.openReadWrite||_a==LiteDBConnection.openReadWriteCreate){this.openflag=_a;return true;}else{return false;}};_pLiteDBConnection.set_preconnect=function(_a){if(_a=="true"||_a=="false"||_a==true||_a==false){this.preconnect=_a;if(this.preconnect=="true"||this.preconnect==true){if(this.datasource!=""){this.open();}}return true;}else{return false;}};_pLiteDBConnection.set_async=function(_a){};_pLiteDBConnection.begin=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"begin", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.close=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"closeDB", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.commit=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"commit", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.isConnected=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"isConnected", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.open=function(_a,_b){if(typeof (_b)!="undefined"||_b!=null){this.openflag=_b;}if(typeof (_a)!="undefined"||_a!=null){this.datasource=_a;}if(this.paramck_asyncOpen(this.datasource,this.openflag)){if(this.datasource.substring(0,9).toLowerCase()=="%userapp%"){var _c='{"datasource":"'+this.datasource.substring(9,this.datasource.length)+'", "openflag":"'+this.openflag+'", "busytimeout":"'+this.busytimeout+'"}';var _d='{"id":'+this._id+', "div":"SQLConnection", "method":"openDB", "params":'+_c+'}';nexacro.Device.exec(_d);}else{var _c='{"datasource":"'+this.datasource+'", "openflag":"'+this.openflag+'", "busytimeout":"'+this.busytimeout+'"}';var _d='{"id":'+this._id+', "div":"SQLConnection", "method":"openDB", "params":'+_c+'}';nexacro.Device.exec(_d);}}else{return false;}return true;};_pLiteDBConnection.rollback=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"rollback", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection._onsuccess=function(_a){var _b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_a.returnvalue);this._fire_onsuccess(this,_b);};_pLiteDBConnection._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBConnection._onerror=function(_a){var _b=new nexacro.LiteDBErrorEventInfo("onerror",_a.errorcode,_a.errormsg,_a.ldberrorcode,nexacro.Device.decodeString(_a.ldberrormsg));this._fire_onerror(this,_b);};_pLiteDBConnection._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBConnection.paramck_busytimeout=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<200||_a>86400000){return false;}return true;};_pLiteDBConnection.paramck_datasource=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}return true;};_pLiteDBConnection.paramck_asyncOpen=function(_a,_b){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};_pLiteDBConnection.paramck_query=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pLiteDBConnection.paramck_paramck_ldbconnection=function(_a){if(_a==null||typeof (_a)=="undefined"||!(_a instanceof nexacro.LiteDBConnection)){if(typeof (_a)!="string"){}else{return false;}}return true;};_pLiteDBConnection.paramck_asyncExecuteQuery=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pLiteDBConnection=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBParameter){nexacro.LiteDBParameter=function(_a,_b,_c){this.name=_a||"";this.type=_b||"string";this.value=_c;};var _pLiteDBParameter=nexacro.LiteDBParameter.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.LiteDBParameter);_pLiteDBParameter._type_name="LiteDBParameter";_pLiteDBParameter.set_name=function(_a){if(this.paramck_datasource(_a)){this.name=_a;return true;}else{return false;}};_pLiteDBParameter.set_value=function(_a){if(this.paramck_datasource(_a)){this.value=_a;return true;}else{return false;}};_pLiteDBParameter.set_type=function(_a){if(this.paramck_datasource(_a)){this.type=_a;return true;}else{return false;}};_pLiteDBParameter.toJSON=function(){var valueString;if(this.value==null){valueString='null';}else if(this.value==undefined){valueString='undefined';}else{switch(nexacro.DataUtils.toTypeCode(this.type)){case 2:case 3:valueString=nexacro.DataUtils.toTextFromDecimal(this.value);break;case 4:valueString='"'+nexacro.DataUtils.toTextFromDecimal(this.value)+'"';break;case 5:valueString='"'+nexacro.DataUtils.toTextFromDate(this.value)+'"';break;case 6:valueString='"'+nexacro.DataUtils.toTextFromTime(this.value)+'"';break;case 7:if(this.value.dateObj==undefined){valueString='"'+nexacro.DataUtils.toTextFromDateTime(this.value)+'"';}else{valueString='"'+nexacro.DataUtils.toTextFromDateTime(this.value.dateObj)+'"';}break;case 0:case 1:case 8:case 9:default:valueString='"'+nexacro.Device.encodeString(this.value)+'"';break;}}return eval('({"name":"'+this.name+'","type":'+nexacro.DataUtils.toTypeCode(this.type)+',"value":'+valueString+'})');};_pLiteDBParameter.paramck_datasource=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}return true;};_pLiteDBParameter=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBStatement){nexacro.LiteDBStatement=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._obj=_b;this.query="";this.ldbconnection="";this.parameters={};this.paramdataset;this.applyrowpos= -1;this.enableevent=true;this.async=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"SQLStatement", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pLiteDBStatement=nexacro.LiteDBStatement.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.LiteDBStatement);_pLiteDBStatement._type_name="LiteDBStatement";_pLiteDBStatement.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"SQLStatement", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pLiteDBStatement.on_created=function(){};_pLiteDBStatement.set_query=function(_a){if(this.paramck_query(_a)){this.query=_a;return true;}else{return false;}};_pLiteDBStatement.set_ldbconnection=function(_a){var _b=false;if(_a instanceof nexacro.LiteDBConnection){this.ldbconnection=_a;_b=true;}else if(typeof (_a)=="string"){var _c="@";if(_a.indexOf(_c)==0){_a=_a.substring(_c.length);}else if(_a.match(/@/)==null){_a=_c+_a;}if(null!=this._obj[_a]&&this._obj[_a] instanceof nexacro.LiteDBConnection){this.ldbconnection=this._obj[_a];_b=true;}}if(_b){var _d='{"connectionID":"'+this.ldbconnection._id+'"}';var _e='{"id":'+this._id+', "div":"SQLStatement", "method":"set_SQLConnection", "params":'+_d+'}';nexacro.Device.exec(_e);}return _b;};_pLiteDBStatement.set_parameters=function(_a){if(_a instanceof Object){this.parameters=_a;return true;}return false;};_pLiteDBStatement.set_async=function(_a){};_pLiteDBStatement.close=function(){var _a;if(nexacro.Device.curDevice==0){_a='{"id":"'+this._id+'"}';}else{_a='""';}var _b='{"id":'+this._id+',"div":"SQLStatement", "method":"close", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBStatement.executeQuery=function(_a){if(_a==null){if(this.query.length==0){return false;}}else{if(typeof (_a)=="string"&&_a.length>0){this.query=_a;}else{return false;}}var _b=nexacro.Device.encodeString(this.query);var _c=new nexacro.Dataset();var _d={};var _e= -1;if(this.parameters instanceof nexacro.Dataset){_c=this.parameters;}else{_d=this.parameters;}{var _f='{"query":"'+_b+'","parameters":'+JSON.stringify(_d)+',"paramdataset":'+nexacro.Device.DatasetToJSONString2(_c)+',"applyrowpos":'+_e+'}';var _g='{"id":'+this._id+',"div":"SQLStatement", "method":"executeQuery", "params":'+_f+'}';nexacro.Device.exec(_g);}return true;};_pLiteDBStatement.executeUpdate=function(_a){if(_a==null){if(this.query.length==0){return false;}}else{if(typeof (_a)=="string"&&_a.length>0){this.query=_a;}else{return false;}}var _b=nexacro.Device.encodeString(this.query);var _c=new nexacro.Dataset();var _d={};var _e= -1;if(this.parameters instanceof nexacro.Dataset){_c=this.parameters;}else{_d=this.parameters;}{var _f='{"query":"'+_b+'","parameters":'+JSON.stringify(_d)+',"paramdataset":'+nexacro.Device.DatasetToJSONString2(_c)+',"applyrowpos":'+_e+'}';var _g='{"id":'+this._id+', "div":"SQLStatement", "method":"executeUpdate", "params":'+_f+'}';nexacro.Device.exec(_g);}return true;};_pLiteDBStatement._onsuccess=function(_a){var _b;if(_a.reason!="7"){_b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_a.returnvalue);}else{var _c=new nexacro.Dataset("__tempDS",this._obj);_c=nexacro.Device.JSONObjectToDataset2(_a.returnvalue,_c);_b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_c);}this._fire_onsuccess(this,_b);};_pLiteDBStatement._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBStatement._onerror=function(_a){var _b=new nexacro.LiteDBErrorEventInfo("onerror",_a.errorcode,_a.errormsg,_a.ldberrorcode,nexacro.Device.decodeString(_a.ldberrormsg));this._fire_onerror(this,_b);};_pLiteDBStatement._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBStatement.caheckTypeKeyword=function(_a){if(typeof (_a)=="undefined"||_a.length==0){return;}var _b=_a.toLowerCase();var _c=_b.split(" ");for(var _d=0;_d<_c.length;_d++ ){if(_a.match(/select/)!=null){return 1;}else if(_a.match(/insert/)!=null){return 2;}else if(_a.match(/update/)!=null){return 3;}else if(_a.match(/delete/)!=null){return 4;}}return 0;};_pLiteDBStatement.paramck_query=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pLiteDBStatement=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushEventInfo){nexacro.XPushEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.reason=_b;this.serverip=_c;this.serverport=_d;this.command=_e;this.action=_f;this.message=_g;this.returnvalue=_g.returnvalue;if(this.command==undefined){this.command=null;}};var _pXPushEventInfo=nexacro.XPushEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushEventInfo);_pXPushEventInfo._type_name="XPushEventInfo";_pXPushEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushErrorEventInfo){nexacro.XPushErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;this.serverip=_d;this.serverport=_e;this.command=_f;this.action=_g;this.pushmessageobject=_h;if(this.command==undefined){this.command=null;}this.reply=null;};var _pXPushErrorEventInfo=nexacro.XPushErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushErrorEventInfo);_pXPushErrorEventInfo._type_name="XPushErrorEventInfo";_pXPushErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushKeepAliveEventInfo){nexacro.XPushKeepAliveEventInfo=function(_a,_b){this.eventid=_a;this.type=_b;};var _pXPushKeepAliveEventInfo=nexacro.XPushKeepAliveEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushKeepAliveEventInfo);_pXPushKeepAliveEventInfo._type_name="XPushKeepAliveEventInfo";_pXPushKeepAliveEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushRequestMessageCountEventInfo){nexacro.XPushRequestMessageCountEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_a;this.userid=_b;this.sendtype=_c;this.sendid=_d;this.receivetype=_e;this.receiveid=_f;};var _pXPushRequestMessageCountEventInfo=nexacro.XPushRequestMessageCountEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushRequestMessageCountEventInfo);_pXPushRequestMessageCountEventInfo._type_name="XPushRequestMessageCountEventInfo";_pXPushErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.CommandControl){nexacro.CommandControl=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.actiontype;this.callback;this.check="0";this.messagekey;this.messagetype;this.objdataset;this.objform;this.row= -1;this.type="update";this.useactiveformcallback=false;};var _pCommandControl=nexacro.CommandControl.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.CommandControl);_pCommandControl._type_name="CommandControl";_pCommandControl.destroy=function(){var _a='""';var _b;return true;};_pCommandControl.on_created=function(){};_pCommandControl.equal=function(_a){if(this.callback!=_a.callback){return false;}if(this.check!=_a.check){return false;}if(this.messagekey!=_a.messagekey){return false;}if(this.messagetype!=_a.messagetype){return false;}if(this.objdataset!==_a.objdataset){return false;}if(this.objform!==_a.objform){return false;}if(this.row!=_a.row){return false;}if(this.type!=_a.type){return false;}if(this.useactiveformcallback!=_a.useactiveformcallback){return false;}return true;};_pCommandControl.toJSON=function(){return eval('({"_id":"'+this._id+'","messagetype":"'+this.messagetype+'","messagekey":"'+this.messagekey+'"})');};_pCommandControl.remove=function(_a){return (_a<0||_a>this.length)?this:this.slice(0,_a).concat(this.slice(_a+1,this.length));};_pCommandControl=null;}if(nexacro.OS=="iOS"&&!nexacro.XPush){nexacro.XPush=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.enableevent=true;this.commandlist=new Array;this.extracommandlist=new Array;this.controlretry="5";this.debug=false;this.iplist=new Array;this.keepalivetime="30";this.keeptimeout="60";this.layouturl="";this.retry=1;this.sessionid="";this.timeout="30";this.userid="";this._parent_elem=_b;this.errorcode;this.errormsg;this.async=true;this.connectip="";this.connectport="-1";this.connectSuccess=false;this.action;this._event_list={"onsuccess":1,"onerror":1,"onkeepalive":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"XPush", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pXPush=nexacro.XPush.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.XPush);_pXPush._type_name="XPush";_pXPush._handle=null;_pXPush._currentipinfo=null;_pXPush.on_created=function(){};_pXPush.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"XPush", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pXPush.set_channeltype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.channeltype="single";}else{this.channeltype=_a;}return true;};_pXPush.set_commandlist=function(){};_pXPush.set_connectip=function(_a){};_pXPush.set_connectport=function(_a){};_pXPush.set_controlretry=function(_a){if(typeof (_a)=="undefined"||_a==null){this.controlretry=5;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.controlretry=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_debug=function(_a){if(typeof (_a)=="undefined"||_a==null){this.debug=false;}else{this.debug=_a;}return true;};_pXPush.set_iplist=function(_a){var _b=this.iplist.length;if(_b>0){this.iplist.splice(0,_b);}if(typeof (_a)=="undefined"||_a==null||_a==""){}else{if(_a.indexOf(",")>=0){var _c=_a.split(",");if(_c.length>0){for(var _i=0;_i<_c.length;_i++ ){var _d=_c[_i];_d=_d.replace(/(^\s*)|(\s*$)/gi,"");var _e=_d.split(":");var _f=new Object;if(_e[0]=="tcp"||_e[0]=="TCP"||_e[0]=="tcps"||_e[0]=="TCPS"){_f.type=_e[0];var _g=_e[1];_f.ip=_g.split("//")[1];_f.port=_e[2].valueOf();}else{if(this._isWebPush()){continue;}_f.type="tcp";_f.ip=_e[0];_f.port=_e[1].valueOf();}_f.retry=false;this.iplist.push(_f);}}}else{var _e=_a.replace(/(^\s*)|(\s*$)/gi,"");_e=_e.split(":");var _f=new Object;if(_e[0]=="tcp"||_e[0]=="TCP"||_e[0]=="tcps"||_e[0]=="TCPS"){_f.type=_e[0];var _g=_e[1];_f.ip=_g.split("//")[1];_f.port=0;if(_e[2]){var _h=_e[2].split("/");if(_h&&_h.length>0){_f.port=_h[0].valueOf();for(var _j=1;_j<_h.length;_j++ ){if(_h[_j]){_f.ip+="/"+_h[_j];}}}else{_f.port=_e[2].valueOf();}}}else{_f.type="tcp";_f.ip=_e[0];_f.port=_e[1].valueOf();}_f.retry=false;this.iplist.push(_f);}}return true;};_pXPush.set_keepalivetime=function(_a){if(typeof (_a)=="undefined"||_a==null){this.keepalivetime=30;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.keepalivetime=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_keeptimeout=function(_a){if(typeof (_a)=="undefined"||_a==null){this.keeptimeout=60;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.keeptimeout=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_layouturl=function(_a){if(typeof (_a)=="undefined"||_a==null){this.layouturl="";}else{var _b=_a.substring(0,9);if(_b.toLowerCase()!="%userapp%"){this.action="ERROR";this._onerror({errorcode:"-702"});}else{this.layouturl=_a;}}return true;};_pXPush.set_retry=function(_a){if(typeof (_a)=="undefined"||_a==null){this.retry=1;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.retry=Number(_a);}else{return false;}}else{return false;}}return true;};_pXPush.set_sessionid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.sessionid="";}else{this.sessionid=_a;}return true;};_pXPush.set_timeout=function(_a){if(typeof (_a)=="undefined"||_a==null){this.timeout=30;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.timeout=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_userid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.userid="";}else{this.userid=_a;}return true;};_pXPush.set_async=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);this.async=_a;return true;};_pXPush.subscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADDF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unsubscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="DELF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="RGST";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNRG";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.requestMessageCount=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="MSGC";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.command=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=new nexacro.CommandControl();var _l;this.action=_a;_k.actiontype=_a;_k.type=_f;_k.callback=_g;_k.messagekey=_c;_k.messagetype=_b;_k.objdataset=_e;_k.objform=_d;if(_h!=undefined){if(( +_h)!=( +_h)){return false;}else{_k.row=_h;}}else{_k.row= -1;}if(_i!=undefined){_k.check=_i;}else{_k.check="0";}if(_j!=undefined){if(typeof (_j)!="boolean"){if((_j.toLowerCase()!="false")&&(_j.toLowerCase()!="true")){_k.useactiveformcallback=false;}else{_k.useactiveformcallback=_j;}}else{_k.useactiveformcallback=_j;}}else{_k.useactiveformcallback=false;}this.strCommand=_a;this.strMessageType=_b;this.strMessageKey=_c;this.objDataset=_e;this.strCallBack=_g;if(this.strCommand===undefined||this.strCommand===null||this.strCommand==""){this._onerror({errorcode:"-701"});}else{this.strCommand=this.strCommand.toString();if(_a=="ADDF"||_a=="DELF"){if(_d===undefined||_d===null||this.strMessageType===undefined||this.strMessageType===null||this.strMessageType==""||this.strMessageKey===undefined||this.strMessageKey===null||this.strMessageKey==""||this.objDataset===undefined||this.objDataset===null||_f===undefined||_f===null||_f==""||this.strCallBack===undefined||this.strCallBack===null||this.strCallBack==""){this._onerror({errorcode:"-701"});}else{this.strMessageType=this.strMessageType.toString();this.strMessageKey=this.strMessageKey.toString();if((_f.toLowerCase()!="append")&&(_f.toLowerCase()!="update")&&(_f.toLowerCase()!="insert")&&(_f.toLowerCase()!="replace")&&(_f!="allUpdate")){this._onerror({errorcode:"-701"});}else{this.strCallBack=this.strCallBack.toString();if(_d[this.strCallBack]===undefined){this._onerror({errorcode:"-701"});}else{if(_a=="ADDF"){var _m='{"type":"'+_f.toLowerCase()+'","parameters":'+JSON.stringify(_k)+'}';_l='{"id":'+this._id+', "div":"XPush", "method":"ADDF", "params":'+_m+'}';var _n,_o=false;for(var _n=0;_n<this.commandlist.length;_n++ ){var _p=this.commandlist[_n];if(_p.equal(_k)){_o=true;break;}}if(!_o){this.commandlist.push(_k);}}else if(_a=="DELF"){_l='{"id":'+this._id+', "div":"XPush", "method":"DELF", "params":'+JSON.stringify(_k)+'}';var _n;for(var _n=0;_n<this.commandlist.length;_n++ ){var _p=this.commandlist[_n];if(_p.equal(_k)){break;}}}}}}}else if(_a=="ADUI"){if(this.connectSuccess==false){this._onerror({errorcode:"-1002"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"ADUI", "params":'+JSON.stringify(_k)+'}';this.extracommandlist.push(_k);}else if(_a=="UNUI"){if(this.connectSuccess==false){this._onerror({errorcode:"-1003"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"UNUI", "params":'+JSON.stringify(_k)+'}';this.extracommandlist.push(_k);}else if(_a=="MSGC"){if(this.connectSuccess==false){this._onerror({errorcode:"-1004"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"MSGC", "params":'+JSON.stringify(_k)+'}';this.extracommandlist.push(_k);}else if(_a=="RGST"){if(this.connectSuccess==false){this._onerror({errorcode:"-1001"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"RGST", "params":'+JSON.stringify(_k)+'}';this.extracommandlist.push(_k);}else if(_a=="UNRG"){if(this.connectSuccess==false){this._onerror({errorcode:"-1001"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"UNRG", "params":'+JSON.stringify(_k)+'}';this.extracommandlist.push(_k);}else{this._onerror({errorcode:"-701"});}}if(!(_l===undefined||_l===null||_l=="")){nexacro.Device.exec(_l);}};_pXPush.connect=function(_a,_b){var _c;var _d;if(_a==null){_a=this.userid;}this.userid=_a;if(_b==null){_b=this.sessionid;}this.sessionid=_b;if(nexacro.Device.publicNumCheck(this.retry)){if(this.retry>=0){_c=Number(this.retry);}}var _e;_e='{ "strUserID":"'+_a;_e+='", "strSessionID":"'+_b;_e+='", "iplist":'+JSON.stringify(this.iplist);_e+=', "retry":"'+_c;_e+='", "controlretry":"'+this.controlretry;_e+='", "layouturl":"'+this.layouturl;_e+='", "keepalivetime":"'+this.keepalivetime;_e+='", "keeptimeout":"'+this.keeptimeout;_e+='", "timeout":"'+this.timeout;_e+='", "commandlist":'+JSON.stringify(this.commandlist);_e+='}';var _f;_f='{"id":'+this._id+', "div":"XPush", "method":"connect", "params":'+_e+'}';nexacro.Device.exec(_f);};_pXPush.disconnect=function(){if(this.connectSuccess){var _a='""';var _b;_b='{"id":'+this._id+', "div":"XPush", "method":"disconnect", "params":'+_a+'}';this.connectSuccess=false;this.commandlist.length=0;this.extracommandlist.length=0;nexacro.Device.exec(_b);}else{this.action="BYEC";this._onerror({errorcode:"-401"});}};_pXPush.resume=function(){if(this.connectSuccess){var _a='""';var _b;_b='{"id":'+this._id+', "div":"XPush", "method":"resume", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this._onerror({errorcode:"-601"});}};_pXPush.suspend=function(){if(this.connectSuccess){var _a='""';var _b;_b='{"id":'+this._id+', "div":"XPush", "method":"suspend", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this._onerror({errorcode:"-501"});}};_pXPush.getCurrentIP=function(){if(this.connectip){return this.connectip;}return null;};_pXPush.getCurrentPort=function(){if(this.connectport){return this.connectport;}return null;};_pXPush.sendResponse=function(_a){if(this.connectSuccess){var _b;var _c;_b='{"msgid":"'+_a+'"}';var _c='{"id":'+this._id+', "div":"XPush", "method":"sendResponse", "params":'+_b+'}';nexacro.Device.exec(_c);}else{this.action="RECT";this._onerror({errorcode:"-901"});}};_pXPush.requestMessage=function(){if(this.connectSuccess){if(arguments.length<2){return;}var _a=arguments[0];var _b="";for(var _e=1;_e<arguments.length;_e++ ){if(_e>1){_b+=",\""+(arguments[_e])+"\"";}else{_b+="\""+(arguments[_e])+"\"";}}if(_b.length>0){var _c;var _d;_c='{"messagetype":"'+_a+'", "messagekeys":['+_b+']}';var _d='{"id":'+this._id+', "div":"XPush", "method":"requestMessage", "params":'+_c+'}';nexacro.Device.exec(_d);}}else{this.action="REQD";this._onerror({errorcode:"-902"});}};_pXPush._resetIPList=function(){var _a=this.iplist.length;for(var _b=0;_b<_a;_b++ ){if(this.iplist[_b].retry){this.iplist[_b].retry=false;}}};_pXPush._getrandomipinfo=function(){var _a=this.iplist.length;if(_a>0){for(var _c=0;_c<_a;_c++ ){if(this.iplist[_c].retry==false){break;}}if(_c==_a){return null;}var _b;do{_b=Math.floor((Math.random()*((_a-1)-0+1)))+0;}while(this.iplist[_b].retry)this.iplist[_b].retry=true;this._currentipinfo=this.iplist[_b];return this._currentipinfo;}return null;};_pXPush._onxpush=function(ret){var retData;if(nexacro.Device.curDevice==0){retData=ret;}else{retData=eval("("+ret+")");}this.RecvData=retData.recvdata;var paramRow;var paramChangeColumns=new Array();var paramAllColumns=new Array();var paramChangeRows=new Array();var paramobjChangeList=new Array();var rows=this.RecvData.rows;for(var i=0;i<rows.length;i++ ){var row=rows[i];var messageType=this.RecvData.type;var messageKey=row[this.RecvData.key];var layoutKey=this.RecvData.key;var checkFieldname=this.RecvData.check;for(var j=0;j<this.commandlist.length;j++ ){var cc=this.commandlist[j];if(cc.messagetype==messageType&&cc.messagekey==messageKey){if(cc.type=="append"){var cr=cc.objdataset.addRow();for(colId in row){if(!row.hasOwnProperty(colId)){continue;}paramAllColumns.push(colId);cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));paramChangeColumns.push(colId);}paramRow=cr;}else if(cc.type=="insert"){var cr=cc.objdataset.insertRow(cc.row);for(colId in row){if(!row.hasOwnProperty(colId)){continue;}cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));paramAllColumns.push(colId);paramChangeColumns.push(colId);}paramRow=cr;}else if(cc.type=="replace"){for(colId in row){if(!row.hasOwnProperty(colId)){continue;}var value=cc.objdataset.getColumn(cc.row,colId);if(value!=nexacro.Device.decodeString(row[colId])){cc.objdataset.setColumn(cc.row,colId,nexacro.Device.decodeString(row[colId]));paramChangeColumns.push(colId);paramRow=cc.row;}}paramAllColumns.push(colId);}else if(cc.type=="update"){var cr=cc.objdataset.findRow(layoutKey,messageKey);for(colId in row){if(!row.hasOwnProperty(colId)){continue;}paramAllColumns.push(colId);var value=cc.objdataset.getColumn(cr,colId);if(value!=row[colId]){if((cc.check=="0")||((checkFieldname==colId)&&(row[colId]==cc.check))){cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));paramChangeColumns.push(colId);}}}paramRow=cr;}else if(cc.type=="allUpdate"){for(var cr=0;cr<cc.objdataset.getRowCount();cr++ ){if(messageKey==cc.objdataset.getColumn(cr,layoutKey)){paramChangeRows.push(cr);var temp=new Array();temp.push(cr);for(colId in row){if(!row.hasOwnProperty(colId)){continue;}var value=cc.objdataset.getColumn(cr,colId);if(value!=row[colId]){if((cc.check=="0")||(row[colId]==cc.check)){cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));temp.push(colId);}}}paramobjChangeList.push(temp.join());}}}if((!cc.useactiveformcallback)||(cc.useactiveformcallback&&(cc.objform===application.getActiveForm()))){if(cc.type!="allUpdate"){var callbackFn=cc.objform[cc.callback];if(callbackFn instanceof Function){callbackFn.call(cc.objform,paramRow,paramChangeColumns.join(),paramAllColumns.join(),"DATA",retData.action,retData.messageid);paramChangeRows.splice(0,paramChangeRows.length);paramAllColumns.splice(0,paramAllColumns.length);}}else if(cc.type=="allUpdate"){var callbackFn=cc.objform[cc.callback];if(callbackFn instanceof Function){callbackFn.call(cc.objform,paramChangeRows.join(),null,paramobjChangeList,"DATA",retData.action,retData.messageid);paramChangeRows.splice(0,paramChangeRows.length);paramobjChangeList.splice(0,paramobjChangeList.length);}}}}}}};_pXPush._onsuccess=function(_a){var _b=new Object();_b.messagetype="";_b.messagekey="";_b.messageid="";_b.returnvalue="";if(_a.classtype=="AUTH"){this.connectSuccess=true;}if(_a.classtype=="RECT"){_b.messagetype="";_b.messagekey="";_b.messageid=_a.messagetype;}else if(_a.classtype=="RGST"||_a.classtype=="UNRG"){if(nexacro.OS=="Android"){_b.messagetype="";_b.messagekey="";_b.messageid="";}}else if(_a.classtype=="MSGC"){_b.messageid="";_b.messagetype=_a.messagetype;_b.messagekey=_a.messagekey;_b.returnvalue=_a.returnvalue;}else{_b.messageid="";_b.messagetype=_a.messagetype;_b.messagekey=_a.messagekey;}if(_a.classtype=="ADDF"||_a.classtype=="DELF"){var _c;var _d;for(var _f=0;_f<this.commandlist.length;_f++ ){if(this.commandlist[_f].messagetype==_a.messagetype&&this.commandlist[_f].messagekey==_a.messagekey){_c=_f;_d=this.commandlist[_f];break;}}if(_d){_d.actiontype=_a.classtype;}var _e=new nexacro.XPushEventInfo("onsuccess",_a.reason,_a.serverip,_a.serverport,_d,_a.action,_b);this._fire_onsuccess(this,_e);if(_d&&_a.classtype=="DELF"){this.commandlist.splice(_c,1);}}else{var _c;var _d;for(var _f=0;_f<this.extracommandlist.length;_f++ ){if(this.extracommandlist[_f].actiontype==_a.classtype){if(this.extracommandlist[_f].messagetype==_a.messagetype&&this.extracommandlist[_f].messagekey==_a.messagekey){_c=_f;_d=this.extracommandlist[_f];break;}}}var _e=new nexacro.XPushEventInfo("onsuccess",_a.reason,_a.serverip,_a.serverport,_d,_a.action,_b);this._fire_onsuccess(this,_e);if(_a.classtype=="AUTH"){this.connectip=_a.serverip;this.connectport=_a.serverport;}if(_d){this.extracommandlist.splice(_c,1);}}};_pXPush._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pXPush._onerror=function(_a){var _b=new Object();_b.messagetype="";_b.messagekey="";_b.messageid="";_b.returnvalue="";if(_a.classtype=="RECT"){_b.messageid=_a.messagetype;_b.messagekey="";_b.messagetype="";}else{_b.messagetype=_a.messagetype;_b.messagekey=_a.messagekey;_b.messageid="";}if(_a.classtype=="ADDF"||_a.classtype=="DELF"){var _c;var _d;for(var _g=0;_g<this.commandlist.length;_g++ ){if(this.commandlist[_g].messagetype==_a.messagetype&&this.commandlist[_g].messagekey==_a.messagekey){_c=_g;_d=this.commandlist[_g];break;}}var _e=this._geterrormsg(_a.errorcode);this.errorcode=_a.errorcode;this.errormsg=_e;var _f=new nexacro.XPushErrorEventInfo("onerror",this.errorcode,_e,_a.serverip,_a.serverport,_d,_a.action,_b);_f.reply=_a.reply;this._fire_onerror(this,_f);}else{var _c;var _d;for(var _g=0;_g<this.extracommandlist.length;_g++ ){if(this.extracommandlist[_g].actiontype==_a.classtype){if(this.extracommandlist[_g].messagetype==_a.messagetype&&this.extracommandlist[_g].messagekey==_a.messagekey){_c=_g;_d=this.extracommandlist[_g];break;}}}var _e=this._geterrormsg(_a.errorcode);this.errorcode=_a.errorcode;this.errormsg=_e;var _f=new nexacro.XPushErrorEventInfo("onerror",this.errorcode,_e,_a.serverip,_a.serverport,_d,_a.action,_b);_f.reply=_a.reply;this._fire_onerror(this,_f);if(_d){this.extracommandlist.splice(_c,1);}}};_pXPush._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pXPush._onkeepalive=function(_a){var _b=new nexacro.XPushKeepAliveEventInfo("onkeepalive",_a.type);this._fire_onkeepalive(this,_b);};_pXPush._fire_onkeepalive=function(_a,_b){if(this.onkeepalive&&this.onkeepalive._has_handlers){return this.onkeepalive._fireEvent(this,_b);}};_pXPush._seterror=function(_a,_b){this.errorcode=_a;this.errormsg=_b;};_pXPush._onrequestmessagecount=function(_a,_b,_c,_d,_e){var _f=new nexacro.XPushRequestMessageCountEventInfo(_a,_b,_c,_d,_e);this._fire_onrequestmessagecount(this,_f);};_pXPush._fire_onrequestmessagecount=function(_a,_b){if(this.onrequestmessagecount&&this.requestmessagecount._has_handlers){return this.onrequestmessagecount._fireEvent(this,_b);}};_pXPush._getaction=function(_a){var _b;switch(_a){case "ERROR":_b= -1;break;case "AUTH":_b=nexacro.XPushAction.AUTH;break;case "BYEC":_b=nexacro.XPushAction.BYEC;break;case "ADDF":_b=nexacro.XPushAction.ADDF;break;case "DELF":_b=nexacro.XPushAction.DELF;break;case "REQD":_b=nexacro.XPushAction.REQD;break;case "RECT":_b=nexacro.XPushAction.RECT;break;case "RGST":_b=nexacro.XPushAction.RGST;break;case "UNRG":_b=nexacro.XPushAction.UNRG;break;case "ADUI":_b=nexacro.XPushAction.ADUI;break;case "UNUI":_b=nexacro.XPushAction.UNUI;break;case "MSGC":_b=nexacro.XPushAction.MSGC;break;}return _b;};_pXPush._geterrormsg=function(_a){var _b;if(_a== -100){_b="object_push_send_byec";}else if(_a== -101){_b="object_push_socket_timeout";}else if(_a== -200){_b="object_push_fail_command_auth";}else if(_a== -201){_b="object_push_fail_all_command_auth";}else if(_a== -202){_b="object_push_fail_data_auth";}else if(_a== -300){_b="object_push_fail_connect";}else if(_a== -301){_b="object_push_fail_send_receive";}else if(_a== -302){_b="object_push_connected_already";}else if(_a== -401){_b="object_push_fail_disconnect";}else if(_a== -501){_b="object_push_fail_suspend";}else if(_a== -601){_b="object_push_fail_resume";}else if(_a== -701){_b="object_push_fail_command";}else if(_a== -702){_b="object_push_notfound_layouturl";}else if(_a== -703){_b="object_push_invalid_layouturl";}else if(_a== -801){_b="object_push_fail_protocol_version";}else if(_a== -901){_b="object_push_fail_rect";}else if(_a== -902){_b="object_push_fail_reqd";}else if(_a== -1001){_b="object_push_fail_rgst_unrg";}else if(_a== -1002){_b="object_push_fail_adui";}else if(_a== -1003){_b="object_push_fail_unui";}else if(_a== -1004){_b="object_push_fail_msgc";}else if(_a== -1072){_b="object_push_fail_rgst_unrg";}else if(_a== -1092){_b="object_push_fail_adui";}return application._getErrorMessge(_b);};_pXPush.getObject=function(_a){if(_a==undefined){_b=null;}else{_a=_a*1;var _b=nexacro.Device._userCreatedObj[_a];if(typeof _b=="undefined"||_b==null){_b=null;}}return _b;};_pXPush=null;};if(!nexacro.FakeXMLHttpRequest){nexacro.FakeXMLHttpRequest=function(_a,_b,_c,_d){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._obj=_b;this.name=_a||"";this.strURL="";this.strDataType=_c||"";this.strCompress=_d;this.responseHeaders={};this.responseAllHeaders={};this.requestHeaders={};this.UNSENT=0;this.OPENED=1;this.HEADERS_RECEIVED=2;this.LOADING=3;this.DONE=4;this.method="";this.async=false;this.username="";this.password="";this.timeout=0;this.withCredentials=false;this.upload={};this.readyState=0;this.status=0;this.statusText="";this.response="";this.responseType="";this.responseText="";this.responseXML="";this.onreadystatechange=function(){};var _e='""';var _f='{"id":'+this._id+', "div":"FakeXMLHttpRequest", "method":"constructor", "params":'+_e+'}';nexacro.Device.exec(_f);};var _pFakeXMLHttpRequest=nexacro.FakeXMLHttpRequest.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.FakeXMLHttpRequest);_pFakeXMLHttpRequest._type_name="FakeXMLHttpRequest";_pFakeXMLHttpRequest.destory=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"FakeXMLHttpRequest", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pFakeXMLHttpRequest.on_created=function(){};_pFakeXMLHttpRequest.open=function(_a,_b,_c,_d,_e){this.method=_a;this.strURL=_b;this.async=_c;this.username=_d;this.password=_e;};_pFakeXMLHttpRequest.setRequestHeader=function(_a,_b){this.requestHeaders[_a]=_b;};_pFakeXMLHttpRequest.send=function(_a){var _b='{"method":"'+this.method+'","async":'+this.async+',"username":"'+this.username+'","password":"'+this.password+'"}';var _c='{"attrs":'+_b+',"sendData":"'+nexacro.Device.encodeString(_a)+'","strURL":"'+this.strURL+'","protocolparameters":'+JSON.stringify(nexacro.Device._protocolparameters)+',"strDataType":"'+this.strDataType+'","bCompress":"'+this.strCompress+'","requestHeaders":'+JSON.stringify(this.requestHeaders)+'}';var _d='{"id":'+this._id+', "div":"FakeXMLHttpRequest", "method":"sendData", "params":'+_c+'}';var _e=nexacro.Device.exec(_d,!this.async);if(!this.async){this.readyState=4;this.status=200;this.statusText="OK";this.responseText=_e;this.responseXML=_e;this.onreadystatechange.call();}};_pFakeXMLHttpRequest.abort=function(){var _a='{}';var _b='{"id":'+this._id+', "div":"FakeXMLHttpRequest", "method":"abort", "params":'+_a+'}';nexacro.Device.exec(_b);};_pFakeXMLHttpRequest.getResponseHeader=function(_a){return this.responseHeaders[_a];};_pFakeXMLHttpRequest.getAllResponseHeaders=function(){return this.responseAllHeaders;};_pFakeXMLHttpRequest.overrideMimeType=function(_a){};_pFakeXMLHttpRequest._fire_onreadystatechange=function(ret){var retData=eval("("+ret+")");this.readyState=retData.readyState;this.status=retData.status;if(retData.responseText){this.responseText=nexacro.Device.decodeString(retData.responseText);}if(retData.responseAllHeaders){this.responseHeaders=JSON.parse(nexacro.Device.decodeString(retData.responseAllHeaders));}if(this.responseHeaders){this.responseAllHeaders=JSON.stringify(this.responseHeaders);}this.onreadystatechange.call();};_pFakeXMLHttpRequest._fire_ontargetevent=function(ret){var retData=eval("("+ret+")");var eventname=retData.eventname;this.readyState=retData.readyState;this.status=retData.status;if(this.upload[eventname]!=undefined){this.upload[eventname].call();}};_pFakeXMLHttpRequest=null;}if(!nexacro.NormalDataset){nexacro.NormalDataset=function(_a,_b){nexacro.Dataset.call(this,_a,_b);this.url="";this.arguments="";this.serverdatasetid="";this.firefirstcount=0;this.firenextcount=0;this.preload=false;this._is_preloaded=false;};var _pNormalDataset=nexacro._createPrototype(nexacro.Dataset,nexacro.NormalDataset);nexacro.NormalDataset.prototype=_pNormalDataset;nexacro.NormalDataset.ROWTYPE_EMPTY=0;nexacro.NormalDataset.ROWTYPE_NORMAL=1;nexacro.NormalDataset.ROWTYPE_INSERT=2;nexacro.NormalDataset.ROWTYPE_UPDATE=4;nexacro.NormalDataset.ROWTYPE_DELETE=8;nexacro.NormalDataset.ROWTYPE_GROUP=16;nexacro.NormalDataset.REASON_LOAD=0;nexacro.NormalDataset.REASON_LOADPROCESS=1;nexacro.NormalDataset.REASON_RESET=2;nexacro.NormalDataset.REASON_LOADCONTENT=3;nexacro.NormalDataset.REASON_ASSIGN=10;nexacro.NormalDataset.REASON_COPY=11;nexacro.NormalDataset.REASON_APPEND=12;nexacro.NormalDataset.REASON_MERGE=13;nexacro.NormalDataset.REASON_DELETE=20;nexacro.NormalDataset.REASON_DELETEALL=22;nexacro.NormalDataset.REASON_CLEARDATA=23;nexacro.NormalDataset.REASON_CLEAR=24;nexacro.NormalDataset.REASON_SORTGROUP=30;nexacro.NormalDataset.REASON_FILTER=31;nexacro.NormalDataset.REASON_MOVE=32;nexacro.NormalDataset.REASON_EXCHANGE=33;nexacro.NormalDataset.REASON_CHANGELAYOUT=34;nexacro.NormalDataset.REASON_CHANGESTATUS=40;nexacro.NormalDataset.REASON_ENABLEEVENT=41;nexacro.NormalDataset.REASON_ROWCHANGE=51;nexacro.NormalDataset.REASON_ROWINDEXCHANGE=52;nexacro.NormalDataset.REASON_ROWOBJECTCHANGE=53;nexacro.NormalDataset.REASON_BINDSOURCE=90;_pNormalDataset.on_created=function(){if(this.url==""||this.preload==false){if(this.colcount>0){this._endLoad(0,"SUCCESS",3);}else{this._is_loaded=true;}}if(!nexacro.isDesignMode&&this.preload&&!this._is_preloaded){if(this.url&&this.parent){var _a=false;var _b=[];_b.push("__preload");_b.push(this.url);_b.push(this.id);_b.push(this.serverdatasetid);var _c=_b.join('_');var _d=nexacro._getServiceLocation(this.url);var _e=this.parent._load_manager;if(_e){var _f=_e.getPreloadDataModule(this.id);if(_f){var _g=this.id+"="+this.serverdatasetid;var _h=new nexacro.TransactionItem(_d,this.parent,_c,"",_g,"",0,true);_h._usewaitcursor=false;_h._loadFromData(_f);this._is_preloaded=true;}}}}this._defaultKeyStr=this.keystring;this._defaultFilterStr=this.filterstr;};_pNormalDataset.destroy=function(){nexacro.Dataset.prototype.destroy.call(this);this._refform=null;};_pNormalDataset.set_url=function(_a){this.url=_a;};_pNormalDataset.set_arguments=function(_a){this.arguments=_a;};_pNormalDataset.set_firefirstcount=function(_a){_a=parseInt(_a)|0;if(isFinite(_a)){this.firefirstcount=_a;}};_pNormalDataset.set_firenextcount=function(_a){_a=parseInt(_a)|0;if(isFinite(_a)){this.firenextcount=_a;}};_pNormalDataset.set_preload=function(_a){this.preload=_a;};_pNormalDataset.set_serverdatasetid=function(_a){this.serverdatasetid=_a;};_pNormalDataset.load=function(_a,_b){var _c;if(this._refform){_c=this._refform._getRefFormBaseUrl();}var _d=nexacro._getServiceLocation(this.url,_c);if(_d.length&&this.parent){var _e="__normaldataset_loadurl_"+this.id;var _f=this.parent._load_manager;if(_f){var _g=this.serverdatasetid;if(_g==null||_g.length==0){_g="output";}var _h=this.id+"="+_g;var _i=nexacro._getServiceObject(this.url,true);_f.loadDataModule(_d,_e,"",_h,this.arguments,null,_a,_b,false,_i);}}else{this._endLoad( -1,"empty url",3);}};_pNormalDataset.on_preload_data=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_b!=0){application._onHttpSystemError(this,true,this,_d,_a,_e,_f,_g,_h);}else if(_c&&!this._is_preloaded){var _i=[];_i.push("__preload");_i.push(this.url);_i.push(this.id);_i.push(this.serverdatasetid);var _j=_i.join('_');var _k=this.id+"="+this.serverdatasetid;var _l=new nexacro.TransactionItem(this.url,this.parent,_j,"",_k,"",0,true);_l._usewaitcursor=false;_l._loadFromData(_c);this._is_preloaded=true;}};delete _pNormalDataset;}if(!nexacro.DomParser){nexacro.DomParseException=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"onParseError";this.fromobject=this.fromreferenceobject=_a;this.level=_c;this.line=_d;this.column=_e;this.message=_f;this.description=_g;};var _pDomParseException=nexacro._createPrototype(nexacro.Event,nexacro.DomParseException);nexacro.DomParseException.prototype=_pDomParseException;_pDomParseException._type_name="DomParseException";delete _pDomParseException;nexacro.DomParser=function(_a,_b){this.id=this.name=_a;this.parent=_b;this._event_list={"onParseError":1};};var _pDomParser=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.DomParser);nexacro.DomParser.prototype=_pDomParser;_pDomParser._type_name="DomParser";_pDomParser.on_created=nexacro._emptyFn;_pDomParser.parseFromString=function(_a,_b){if(!_b||_b=="text/xml"){var _c=nexacro._parseXMLDocument(_a);if(_c){var _d=nexacro._getParserError(_c);if(_d){this.on_fire_onparseerror("error",_d.line,_d.column,_d.message,_d.desc);return null;}}return _c;}return null;};_pDomParser.on_fire_onparseerror=function(_a,_b,_c,_d,_e){if(this.onParseError&&this.onParseError._has_handlers){var _f=new nexacro.DomParseException(this,"onParseError",_a,_b,_c,_d,_e);return this.onParseError._fireEvent(this,_f);}return false;};delete _pDomParser;};if(!nexacro.Button){nexacro.Button_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pButtonStyle=nexacro._createPrototype(nexacro.Style,nexacro.Button_Style);nexacro.Button_Style.prototype=_pButtonStyle;eval(nexacro._createValueAttributeEvalStr("_pButtonStyle","image"));eval(nexacro._createAlignAttributeEvalStr("_pButtonStyle","imagealign"));_pButtonStyle.__custom_emptyObject=function(){this.imagealign=null;};_pButtonStyle.__get_custom_style_value=function(){var _a="";if(this.image&&!this.image._is_empty){_a+="image:"+this.image._value+"; ";}if(this.imagealign&&!this.imagealign._is_empty){_a+="imagealign:"+this.imagealign._value+"; ";}return _a;};_pButtonStyle.setStyleValue=function(_a,_b,_c){var _d=nexacro.Style.prototype.setStyleValue.call(this,_a,_b,_c);if(!_d){if(_a=="image"&&_b!="normal"){_d=this._setImagePseudoStyle(_a,_b,_c);}}return _d;};_pButtonStyle._setImagePseudoStyle=function(_a,_b,_c){var _d=null;var _e=this._target;if(!_e){return false;}if(_e._styles[_b]){_d=_e._styles[_b][_a]=nexacro._getCachedStyleObj(_c);}else{var _f=_e.on_create_custom_style();_d=_f[_a]=nexacro._getCachedStyleObj(_a,_c);_e._styles[_b]=_f;}if(!_d){return false;}return true;};nexacro.Button_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.image=null;this.imagealign=null;};var _pButtonCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Button_CurrentStyle);nexacro.Button_CurrentStyle.prototype=_pButtonCurrentStyle;_pButtonCurrentStyle.__custom_emptyObject=_pButtonStyle.__custom_emptyObject;_pButtonCurrentStyle.__get_custom_style_value=_pButtonStyle.__get_custom_style_value;delete _pButtonStyle;delete _pButtonCurrentStyle;nexacro.Button=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.defaultbutton=false;this.escapebutton=false;this.selectStatus=false;this.wordwrap="none";this._apply_pushed_pseudo=true;this._text_elem=null;this._img_elem=null;this._text_width= -1;this._text_height= -1;this._image_width=0;this._image_height=0;this._is_hotkey_click=false;this._accessibility_role="button";};var _pButton=nexacro._createPrototype(nexacro.Component,nexacro.Button);nexacro.Button.prototype=_pButton;_pButton._type_name="Button";nexacro.Button._default_image_align=nexacro.Component._default_buttonimg_align;_pButton.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_align(_a);if(_f!=_b.align){_b.align=_f;this.on_apply_style_align(_f);}var _g=this.on_find_CurrentStyle_image(_a);if(_b.image!=_g){_b.image=_g;this.on_apply_style_image(_g);}var _h=this.on_find_CurrentStyle_imagealign(_a);if(_h!=_b.imagealign){_b.imagealign=_h;this.on_apply_style_imagealign(_h);}var _i=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_i!=_b.rtlimagemirroring){_b.rtlimagemirroring=_i;this.on_apply_style_rtlimagemirroring(_i);}};_pButton.on_create_custom_style=function(){return new nexacro.Button_Style(this);};_pButton.on_create_custom_currentStyle=function(){return new nexacro.Button_CurrentStyle();};_pButton.on_find_CurrentStyle_image=function(_a){return this._find_pseudo_obj("image",_a);};_pButton.on_find_CurrentStyle_imagealign=function(_a){var _b=this._find_pseudo_obj("imagealign",_a,"align");return (_b)?_b:nexacro.Button._default_image_align;};_pButton.on_update_style_image=function(){this.on_apply_style_image(this.currentstyle.image=this.on_find_CurrentStyle_image(this._pseudo));};_pButton.on_update_style_imagealign=function(){this.on_apply_style_imagealign(this.currentstyle.imagealign=this.on_find_CurrentStyle_imagealign(this._pseudo));};_pButton.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);};_pButton.on_apply_style_color=function(_a){if(this._text_elem&&_a){this._text_elem.setElementColor(_a);}};_pButton.on_apply_style_font=function(_a){if(this._text_elem&&_a){this._text_elem.setElementFont(_a);this._text_width= -1;this._text_height= -1;if(this._img_elem){var _b=this.currentstyle;if(this._img_elem&&_b.align&&_b.imagealign){this._updateElementPositions(_b.align,_b.imagealign);}}}};_pButton.on_apply_style_align=function(_a){if(this._text_elem&&_a){this._updateElementPositions(_a,this.currentstyle.imagealign);}};_pButton.on_apply_style_image=function(_a){this._load_image(_a);this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);};_pButton.on_apply_style_imagealign=function(_a){if(this._img_elem){this._updateElementPositions(this.currentstyle.align,_a);}};_pButton.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this.text){var _c=(_b.align.halign==""?"center":_b.align._halign);var _d=(_b.align.valign==""?"middle":_b.align._valign);var _e=new nexacro.TextBoxElement(_a);_e.setElementSize(this._client_width,this._client_height);_e.setElementFont(_b.font);_e.setElementColor(_b.color);_e.setElementAlignXY(_c,_d);_e.setElementLetterSpace(_b.letterspace);this._text_elem=_e;_e=null;}if(_b.image){this._load_image(_b.image);}var _f=this._getMainForm();if(_f&&_f._defaultbutton==this){this._setAccessibilityFlagDefaultButton(true);}_f=null;}};_pButton.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._text_elem;var _c=this._img_elem;if(_c){_c.create();}if(_b){_b.create();}if(this.expr){this.on_apply_expr();}this.on_apply_wordwrap();this.on_apply_prop_rtldirection();_b=null;_c=null;}_a=null;this._preloadImage();};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=10){_pButton._preloadImage=function(){var _a=["mouseover","disabled","focused","pushed","selected"];var _b=_a.length;for(var _e=0;_e<_b;_e++ ){var _c=this.on_find_CurrentStyle_image(_a[_e]);var _d=_c?_c._value:"";if(_d){_d=nexacro._getURIValue(_d);_d=nexacro._getImageLocation(_d,this._getRefFormBaseUrl());nexacro._getImageSize(_d,function(){},this,undefined,_c);}}};}else{_pButton._preloadImage=function(){};}_pButton.destroyComponent=function(){if(!this._is_alive){return;}var _a=this._getMainForm();if(_a){if(_a._defaultbutton==this){_a._defaultbutton=null;}if(_a._escapebutton==this){_a._escapebutton=null;}}return nexacro.Component.prototype.destroyComponent.call(this);};_pButton.on_destroy_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_a){_a.destroy();this._text_elem=null;}if(_b){_b.destroy();this._img_elem=null;}};_pButton.on_change_containerRect=function(_a,_b){var _c=this._text_elem;var _d=this._img_elem;var _e=this.currentstyle;if(_c){_c.setElementSize(_a,_b);}this._updateElementPositions(_e.align,_e.imagealign);this.on_apply_custom_pseudo(this._pseudo);};_pButton._getDlgCode=function(_a,_b,_c,_d){return {want_tab:false,want_return:true,want_escape:false,want_chars:false,want_arrows:false};};_pButton._img_load_completed=function(_a){var _b=this.currentstyle;var _c=_b.imagealign?_b.imagealign:this.on_find_CurrentStyle_imagealign(this._pseudo);_b.imagealign=_c;this._updateElementPositions(_b.align,_c);this._img_elem.setElementImageUrl(_a);_c=null;_b=null;};_pButton._on_loadImg=function(_a,_b,_c){if(!this._is_alive){return;}if(this._lastest_imgurl!=_a){return;}this._image_width=_b;this._image_height=_c;this._img_load_completed(_a);this.on_apply_custom_pseudo(this._pseudo);};_pButton._load_image=function(_a){var _b=this._control_element;if(_b){var _c=_a?_a._value:"";if(_c){_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());var _d=this._img_elem;if(!_d){_d=new nexacro.ImageElement(_b);this._img_elem=_d;if(this._is_created){_d.create();}}this._lastest_imgurl=_c;var _e=nexacro._getImageSize(_c,this._on_loadImg,this,undefined,(_a?_a._value:""));if(_e){this._image_width=_e.width;this._image_height=_e.height;this._img_load_completed(_c);}_d=null;}else{if(this._img_elem){this._image_width=0;this._image_height=0;}}}};_pButton._updateElementPositions=function(_a,_b){if(!this._is_created_contents||!_a){return;}var _c=this._text_elem;var _d=this._img_elem;var _e=this._client_width;var _f=this._client_height;var _g=(_a.halign=="")?"center":_a.halign;var _h=(_a.valign=="")?"middle":_a.valign;if(_d&&_b){var _i=_b.halign;var _j=_b.valign;var _k,_l;var _m=this._image_width;var _n=this._image_height;if(_c){var _o,_p,_q,_r,_s;var _t=this.on_find_CurrentStyle_font(this._pseudo);var _u=this.on_find_CurrentStyle_letterspace(this._pseudo);var _v=nexacro._getTextSize(_u,this.text,_t,null,null,null,this._rtldirection);_o=this._text_width=(_v[0]<0)?0:_v[0];_p=this._text_height=_v[1];switch(_i){case "lefttext":if(_g=="left"){_s=0;}else if(_g=="right"){_s=_e-_o-_m;}else{_s=((_e-_o-_m)/2)|0;}_s=_s<0?0:_s;_k=_s;_s+=_m;_q=_s;_g="left";break;case "righttext":if(_g=="left"){_s=0;}else if(_g=="right"){_s=_e-_o-_m;}else{_s=((_e-_o-_m)/2)|0;}_s=_s<0?0:_s;_q=_s;_s+=_o;_k=_s;_g="left";break;case "left":_k=0;_q=0;break;case "right":_s=_e-_m;_k=_s;_q=0;break;default:_s=((_e-_m)/2)|0;_k=_s;_q=0;break;}switch(_j){case "toptext":if(_h=="top"){_s=0;}else if(_h=="bottom"){_s=_f-_p-_n;}else{_s=((_f-_p-_n)/2)|0;}_l=_s;_s+=_n;_r=_s;_h="top";break;case "bottomtext":if(_h=="top"){_s=0;}else if(_h=="bottom"){_s=_f-_p-_n;}else{_s=((_f-_p-_n)/2)|0;}_r=_s;_s+=_p;_l=_s;_h="top";break;case "top":_l=0;_r=0;break;case "bottom":_s=_f-_n;_l=_s;_r=0;break;default:_s=((_f-_n)/2)|0;_l=_s;_r=0;break;}_q=_q<0?0:_q;_r=_r<0?0:_r;_c.setElementAlignXY(_g,_h);_c.setElementPaddingXY(_q,_r,0,0);}else{switch(_i){case "lefttext":case "righttext":if(_g=="left"){_k=0;}else if(_g=="right"){_k=_e-_m;}else{_k=((_e-_m)/2)|0;}break;case "left":_k=0;break;case "right":_k=_e-_m;break;default:_k=((_e-_m)/2)|0;break;}switch(_j){case "toptext":case "bottomtext":if(_h=="top"){_l=0;}else if(_h=="bottom"){_l=_f-_n;}else{_l=((_f-_n)/2)|0;}break;case "top":_l=0;break;case "bottom":_l=_f-_n;break;default:_l=((_f-_n)/2)|0;break;}}_k=this._convertLeftForRtlLayout(_k,_m);_d.setElementPosition(_k,_l,true);_d.setElementSize(_m,_n);}else if(_c){_c.setElementAlignXY(_g,_h);_c.setElementPaddingXY(0,0,0,0);nexacro._updateTextElementPositions(this);}_c=null;_d=null;};_pButton.on_apply_text=function(){var _a=this._control_element;if(_a){var _b=this.currentstyle;var _c=this._text_elem;if(!_c){_c=new nexacro.TextBoxElement(_a);this._text_elem=_c;this.on_apply_wordwrap();var _d,_e;if(_b.align){_d=(_b.align.halign==""?"center":_b.align._halign);_e=(_b.align.valign==""?"middle":_b.align._valign);}else{_d="center";_e="middle";}_c.setElementSize(this._client_width,this._client_height);_c.setElementColor(_b.color);_c.setElementFont(_b.font);_c.setElementAlignXY(_d,_e);_c.setElementLetterSpace(_b.letterspace);if(this._is_created){_c.create();}}var _f=this.expr;if(_f&&_f.length>0){_f=_f.trim().split(":");var _g=new nexacro.ExprParser();var _h,_i;var _j;if(_f.length==1){_j=_f[0];}else{if(_f[0].trim().toUpperCase()!="EXPR"){_j=_f.join(":");}else{_j=_f.slice(1).join(":");}}_h=_g.makeExpr(this,_j);_g=null;_i=nexacro._createInlineFunc(_h,["comp"]);if(_i){try{var _k=nexacro._toString(_i.call(null,this));if(_k!=this.displaytext){this.displaytext=_k;}}catch(e){return;}}}else{this.displaytext=this.text;}_f=null;_c.setElementText(this.displaytext);if(this.displaytext&&this.displaytext!=""){this._text_width= -1;this._text_height= -1;}else{this._text_width=0;this._text_height=0;}this._updateElementPositions(_b.align,_b.imagealign);_c=null;_b=null;this._refreshAccessibilityValue();}};_pButton.on_apply_expr=function(){this.on_apply_text();};_pButton.on_apply_prop_rtldirection=function(){var _a=this.getElement();var _b=this._rtldirection;if(_a){_a.setElementRtlDirection(_b);_a.setElementPosition(_a.left,_a.top,true);this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}var _c=this._text_elem;if(_c){_c.setElementRtlDirection(_b);_c.setElementPosition(_c.left,_c.top,true);}};_pButton._on_hotkey=function(_a,_b,_c,_d){this._is_hotkey_click=true;this.click();};_pButton.set_defaultbutton=function(_a){this.defaultbutton=nexacro._toBoolean(_a);var _b=this._getMainForm();if(_b){if(nexacro._toBoolean(_a)==true){_b._defaultbutton=this;this._setAccessibilityFlagDefaultButton(true);}else{if(_b._defaultbutton==this){_b._defaultbutton=null;this._setAccessibilityFlagDefaultButton(false);}}}};_pButton.set_escapebutton=function(_a){this.escapebutton=nexacro._toBoolean(_a);var _b=this._getMainForm();if(_b){var _c=!(this.parent==_b||this._is_created);if(nexacro._toBoolean(_a)==true){if(!_c){_b._escapebutton=this;}}else{if(_b._escapebutton==this){_b._escapebutton=null;}}}};_pButton.click=function(){this.on_fire_onclick("none",false,false,false, -1, -1, -1, -1, -1, -1,this,this);};_pButton.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);var _h=this._getWindow();var _i=_h._cur_ldown_elem||_h._keydown_element;if(!this._is_subcontrol&&!this._is_hotkey_click){if(_i==this._cur_ldown_elem){if(_a==13||_a==32){this.click();}}}if(_a==13||_a==32){if(this._apply_pushed_pseudo){this._is_push=false;if(this._is_pushed_area){this._stat_change("notpush","normal");this._is_pushed_area=false;}}}this._cur_ldown_elem=null;this._is_hotkey_click=false;return _g;};_pButton._cur_ldown_elem=null;_pButton.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);var _h=this._getWindow();this._cur_ldown_elem=_h._cur_ldown_elem||_h._keydown_element;if(_a==13||_a==32){if(_f===this){if(this._apply_pushed_pseudo){this._stat_change("push","pushed");this._is_pushed_area=true;this._is_push=true;}}}return _g;};_pButton.getSelectStatus=function(){return this.selectStatus;};_pButton.setSelectStatus=function(_a){var _b=this.selectStatus;if(_a){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}this.selectStatus=_a;return _b;};_pButton.toggleSelectStatus=function(){var _a=this.selectStatus;this.setSelectStatus(!_a);return _a;};_pButton.on_getBindableProperties=function(){return "value";};_pButton.set_wordwrap=function(_a){if(typeof (_a)=="string"){_a=_a.toLowerCase();}if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pButton.on_apply_wordwrap=function(){if(this._text_elem){this._text_elem.setElementWordWrap(this.wordwrap);}};delete _pButton;nexacro.ImageButton=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Button.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.defaultbutton=false;this.escapebutton=false;this.selectStatus=false;this._img_elem=null;this._apply_pushed_pseudo=true;this._is_simple_control=true;};var _pImageButton=nexacro._createPrototype(nexacro.Button,nexacro.ImageButton);nexacro.ImageButton.prototype=_pImageButton;_pImageButton.on_create_custom_style=function(){return new nexacro.Button_Style(this);};_pImageButton.on_create_custom_currentStyle=function(){return new nexacro.Button_CurrentStyle();};_pImageButton.on_find_CurrentStyle_image=function(_a){return this._find_pseudo_obj("image",_a);};_pImageButton.on_find_CurrentStyle_imagealign=function(_a){var _b=this._find_pseudo_obj("imagealign",_a,"align");return (_b)?_b:nexacro.Button._default_image_align;};_pImageButton.on_update_style_image=function(){this.on_apply_style_image(this.currentstyle.image=this.on_find_CurrentStyle_image(this._pseudo));};_pImageButton.on_update_style_imagealign=function(){this.on_apply_style_imagealign(this.currentstyle.imagealign=this.on_find_CurrentStyle_imagealign(this._pseudo));};_pImageButton.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_image(_a);if(_c!=_b.image){_b.image=_c;this._load_image(_c);}var _d=this.on_find_CurrentStyle_align(_a);var _e=this.on_find_CurrentStyle_imagealign(_a);if(_d!=_b.align||_e!=_b.imagealign){_b.align=_d;_b.imagealign=_e;this._update_align(_d,_e);}var _f=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_f!=_b.rtlimagemirroring){this.on_apply_style_rtlimagemirroring(_b.rtlimagemirroring=_f);}_b=null;};_pImageButton.on_apply_style_image=function(_a){this._load_image(_a);};_pImageButton.on_apply_style_align=function(_a){this._update_align(_a,this.currentstyle.imagealign);};_pImageButton.on_apply_style_imagealign=function(_a){this._update_align(_a,this.currentstyle.imagealign);};_pImageButton.on_create_contents=function(){var _a=this._control_element;var _b=new nexacro.AlignImageElement(_a);var _c=this.currentstyle;_b.setElementPosition(this._client_left,this._client_top);_b.setElementSize(this._client_width,this._client_height);this._img_elem=_b;this._update_align(_c.align,_c.imagealign);this._load_image(_c.image);_b=null;_a=null;_c=null;};_pImageButton.on_created_contents=function(){this._img_elem.create();};_pImageButton.on_destroy_contents=function(){if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}};_pImageButton.on_change_containerPos=function(_a,_b){if(this._img_elem&&!(this.getElement()._vml_elem)){this._img_elem.setElementPosition(_a,_b,true);}};_pImageButton.on_change_containerRect=function(_a,_b){if(this._img_elem){this._img_elem.setElementSize(_a,_b);}};_pImageButton._load_image=function(_a){var _b=this._img_elem;if(_b){var _c=_a?_a._value:"";if(_c){_b.setElementImageUrl(_c);}else{_b.setElementImageUrl("");}}_b=null;};_pImageButton._update_align=function(_a,_b){if(_a==null||_b==null){return;}var _c=this._img_elem;if(_c){var _d=this._client_width;var _e=this._client_height;var _f=_a.halign==""?"center":_a.halign;var _g=_a.valign==""?"middle":_a.valign;var _h=_b.halign;var _i=_b.valign;switch(_h){case "left":case "right":_f=_h;break;}switch(_i){case "top":case "bottom":_g=_i;break;}_c.setElementAlignXY(_f,_g);}_c=null;};_pImageButton.on_apply_text=function(){};_pImageButton.on_apply_expr=function(){};_pImageButton.on_apply_prop_rtldirection=function(){var _a=this.getElement();var _b=this._rtldirection;if(_a){_a.setElementRtlDirection(_b);_a.setElementPosition(_a.left,_a.top,true);var _c=this._img_elem;if(_c){var _d=_a.client_left;var _e=_a.client_top;var _f=_a.client_width;_c.setElementPosition(_d,_e,true);}}};_pImageButton.click=function(){this.on_fire_onclick("none",false,false,false, -1, -1, -1, -1, -1, -1,this,this);};_pImageButton.getSelectStatus=function(){return this.selectStatus;};_pImageButton.setSelectStatus=function(_a){var _b=this.selectStatus;if(_a){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}this.selectStatus=_a;return _b;};_pImageButton.toggleSelectStatus=function(){var _a=this.selectStatus;this.selectStatus=!_a;return _a;};_pImageButton._setRealEnable=function(_a){if(_a==undefined){_a=this.enable;}if(this._real_enable!=_a){var _b=this._control_element;this._real_enable=_a;if(_a){this._status="enable";this._pseudo="normal";}else{this._status="disable";this._pseudo="disabled";}if(this.visible&&_b){this._updateControl(_b,this._pseudo);this._updateContents(_b,this._pseudo);}}};delete _pImageButton;nexacro.ButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Button.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pButtonCtrl=nexacro.ButtonCtrl.prototype=nexacro._createPrototype(nexacro.Button,nexacro.ButtonCtrl);_pButtonCtrl._type_name="ButtonControl";nexacro._setForControlStyleFinder(_pButtonCtrl);delete _pButtonCtrl;nexacro.TrackButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_track=true;};var _pTrackButtonCtrl=nexacro.TrackButtonCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TrackButtonCtrl);delete _pTrackButtonCtrl;nexacro.ImageButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButton.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pImageButtonCtrl=nexacro.ImageButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButton,nexacro.ImageButtonCtrl);_pImageButtonCtrl._type_name="ButtonControl";nexacro._setForControlStyleFinder(_pImageButtonCtrl);_pImageButtonCtrl.on_apply_pseudo=function(_a){if(this.parent._set_real){return;}var _b=this.parent;var _c=this.enable;while(_b!=null){if(_b._real_enable==false||_b.enable==false){_c=false;break;}if(_b.parent&&!_b.parent._is_application&&_b._getWindow()!=_b.parent._getWindow()){break;}_b=_b.parent;}if(this._setEnable(_c)){return;}this._pseudo=_a=this._getResultPseudo(this._status,_a);var _d=this.getElement();if(this.visible&&_d){this._updateControl(_d,_a);this._updateContents(_d,_a);}_b=null;_d=null;};_pImageButtonCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};delete _pImageButtonCtrl;nexacro.TrackImageButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_track=true;this._is_scrollable_comp=false;};var _pTrackImageButtonCtrl=nexacro.TrackImageButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.TrackImageButtonCtrl);delete _pTrackImageButtonCtrl;nexacro.StepImageButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButton.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pStepImageButtonCtrl=nexacro._createPrototype(nexacro.ImageButton,nexacro.StepImageButtonCtrl);nexacro.StepImageButtonCtrl.prototype=_pStepImageButtonCtrl;_pStepImageButtonCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("buttonbackground",_a,"background");};_pStepImageButtonCtrl.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("buttonborder",_a,"border");};_pStepImageButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("buttonbordertype",_a,"bordertype");};_pStepImageButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("buttongradation",_a,"gradation");};_pStepImageButtonCtrl.on_find_CurrentStyle_padding=function(_a){};_pStepImageButtonCtrl.on_find_CurrentStyle_accessibility=function(_a){};_pStepImageButtonCtrl._on_getAccessibilityAdditionalLabel=function(){var _a=this.parent;if(_a){var _b=this.id+" "+_a.stepcount;return _b;}_a=null;return "";};_pStepImageButtonCtrl._on_getAccessibilityAdditionalRole=function(){return " Step";};delete _pStepImageButtonCtrl;}if(!nexacro.Static){nexacro.Static_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.linespace=null;};var _pStaticStyle=nexacro._createPrototype(nexacro.Style,nexacro.Static_Style);nexacro.Static_Style.prototype=_pStaticStyle;eval(nexacro._createValueAttributeEvalStr("_pStaticStyle","linespace"));_pStaticStyle.__custom_emptyObject=function(){this.linespace=null;};_pStaticStyle.__get_custom_style_value=function(){var _a="";if(this.linespace&&this.linespace._is_empty){_a+="linespace:"+this.linespace._value+"; ";}return _a;};nexacro.Static_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.linespace=null;};var _pStaticCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Static_CurrentStyle);nexacro.Static_CurrentStyle.prototype=_pStaticCurrentStyle;_pStaticCurrentStyle.__custom_emptyObject=_pStaticStyle.__custom_emptyObject;_pStaticCurrentStyle.__get_custom_style_value=_pStaticStyle.__get_custom_style_value;delete _pStaticStyle;delete _pStaticCurrentStyle;nexacro.Static=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.text="";this.expr=null;this.wordwrap="none";this.usedecorate=false;this.tabstop=false;this._text="";this._expr=null;this._text_elem=null;this._decorate_text="";this._decorate_link_url="";this._is_focus_accept=false;this._accessibility_role="static";};var _pStatic=nexacro._createPrototype(nexacro.Component,nexacro.Static);nexacro.Static.prototype=_pStatic;_pStatic._type_name="Static";_pStatic.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_align(_a);if(_f!=_b.align){_b.align=_f;this.on_apply_style_align(_f);}var _g=this.on_find_CurrentStyle_linespace(_a);if(_g!=_b.linespace){_b.linespace=_g;this.on_apply_style_linespace(_g);}};_pStatic.on_apply_style_color=function(_a){if(this._text_elem){if(_a){this._text_elem.setElementColor(_a);}else{var _a=new nexacro.Style_color("");this._text_elem.setElementColor(_a);_a=null;}}};_pStatic.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pStatic.on_apply_style_align=function(_a){if(this._text_elem&&_a){var _b=_a.halign==""?"center":_a._halign;var _c=_a.valign==""?"middle":_a._valign;this._text_elem.setElementAlignXY(_b,_c);}};_pStatic.on_apply_style_linespace=function(_a){var _b=this._text_elem;if(_b){var _c=_a?_a:0;var _d=this.on_find_CurrentStyle_letterspace(this._pseudo);var _e=nexacro._getTextSize2(_d,"Wj",this.on_find_CurrentStyle_font(this._pseudo));var _f=_e[1]+nexacro._toInt(_c);if(this._adjust_height<_f){_c=(this._adjust_height>_e[1])?(this._adjust_height-_e[1]):0;}_b.setElementLineSpace(_c);}};_pStatic.on_find_CurrentStyle_linespace=function(_a){return this._find_pseudo_obj("linespace",_a);};_pStatic.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);};_pStatic.on_update_style_linespace=function(){this.on_apply_style_linespace(this.currentstyle.linespace=this.on_find_CurrentStyle_linespace(this._pseudo));};_pStatic.on_create_contents=function(){var _a=this.getElement();if(_a&&this.text){var _b=new nexacro.TextBoxElement(_a);var _c="left";var _d="middle";var _e=this.currentstyle.align;if(_e){_c=_e.halign==""?"center":_e._halign;_d=_e.valign==""?"middle":_e._valign;}this._text_elem=_b;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b.setElementLetterSpace(this.currentstyle.letterspace);_b=null;}else if(_a&&!this.text&&this._text_elem){this._text_elem.setParentElement(_a);}};_pStatic.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}if(this.expr){this.on_apply_expr();}this.on_apply_wordwrap();this.on_apply_style_linespace(this.currentstyle.linespace);this.on_apply_prop_rtldirection();};_pStatic.on_destroy_contents=function(){var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}_a=null;};_pStatic.on_change_containerRect=function(_a,_b){var _c=this._text_elem;var _d=this.on_find_CurrentStyle_align(this._pseudo);if(this._text_elem){_c.setElementSize(_a,_b);this.on_apply_style_align(_d);}};_pStatic.on_create_custom_style=function(){return new nexacro.Static_Style(this);};_pStatic.on_create_custom_currentStyle=function(){return new nexacro.Static_CurrentStyle();};_pStatic.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this._text_elem;if(_b&&this.usedecorate&&(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8)&&this._is_created){this._text_elem.destroy();this._text_elem=null;delete this._text_elem;_b=null;}if(!_b){var _b=new nexacro.TextBoxElement(this.getElement());var _c="left";var _d="middle";var _e=this.currentstyle.align;if(_e){_c=_e.halign==""?"center":_e._halign;_d=_e.valign==""?"middle":_e._valign;}this._text_elem=_b;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b.setElementLetterSpace(this.currentstyle.letterspace);if(this._is_created){_b.create();}this.on_apply_wordwrap();this.on_apply_style_linespace(this.currentstyle.linespace);}var _f=this.text;var _g=this.expr;_f=nexacro._toString(_f);if(_f&&_f.indexOf("\r")!= -1){_f=_f.replace(/\r/g,"");}if(_g&&_g.length>0){_g=_g.trim().split(":");var _h=_g.length;var _i=new nexacro.ExprParser();var _j,_k;var _l;if(_h==1){_l=_g[0];}else{if(_g[0].trim().toUpperCase()!="EXPR"){_l=_g.join(":");}else{_l=_g.slice(1).join(":");}}_j=_i.makeExpr(this,_l);_k=nexacro._createInlineFunc(_j,["comp"]);if(_k){try{_f=nexacro._toString(_k.call(null,this));this.displaytext=this._parse_decoratetext(_f);}catch(e){return;}}}else{this.displaytext=this._parse_decoratetext(_f);}if(this.usedecorate){_b.setElementDecorateText(_f);}else{_b.decoration="";_b.setElementText(_f);}this._refreshAccessibilityValue();}};_pStatic.on_apply_expr=function(){this.on_apply_text();};_pStatic.set_usedecorate=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usedecorate){this.usedecorate=_a;this.on_apply_usedecorate();}};_pStatic.on_apply_usedecorate=function(){this.on_apply_text();this.on_apply_wordwrap();};_pStatic.set_wordwrap=function(_a){if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pStatic.on_apply_wordwrap=function(){if(this._text_elem){this._text_elem.setElementWordWrap(this.wordwrap);}};_pStatic.set_linespace=function(_a){_a=nexacro._toInt(_a);if(_a&&_a!=this.linespace){this.linespace=_a;this.on_apply_linespace();}};_pStatic.on_apply_linespace=function(){var _a=this._text_elem;if(_a){var _b=(this.linespace<0)?"":this.linespace+"px";_a.setElementLineSpace(_b);}};_pStatic.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);if(nexacro.Browser=="Runtime"&&this._text_elem){this._text_elem.setElementRtlDirection(this._rtldirection);}this.on_change_containerRect(this._client_width,this._client_height);};_pStatic.on_get_prop_tabstop=function(){if(nexacro._enableaccessibility){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a&&_a.enable&&_a.role=="link"){return true;}}return false;};_pStatic._isFocusAcceptable=function(){return nexacro._enableaccessibility;};_pStatic.on_get_style_accessibility_label=function(){if(this.usedecorate){return this.displaytext;}else{return this.text;}};_pStatic._getUrl=function(){var _a=this._text_elem;if(_a&&this.usedecorate){var _b=_a.decoration;if(_b!=this._decorate_text){this._decorate_text=_b;var _c=_b?_b.length:0;var _d="";for(var _h=0;_h<_c;_h++ ){var _e=_b.charAt(_h);if(_e=='<'&&_b.charAt(_h+1)=='l'){var _f=0;for(var _i=_h+4;_i<_c;_i++ ){var _g=_b.charAt(_i);if(_g=='\''){if(_f!=0&&_f!=_i){break;}_f=_i;continue;}if(_f!=0){_d+=_g;}}break;}}this._decorate_link_url=_d;}return this._decorate_link_url;}return "";};_pStatic._parse_decoratetext=function(_a){var _b=_a;if(this.usedecorate){var _c=[/<\/?ff\s+[v]\s*=(\'|\")/g,/<\/?fs\s+[v]\s*=(\'|\")/g,/<\/?fc\s+[v]\s*=(\'|\")/g,/<\/?b\s+[v].*?>/g,/<\/?i\s+[v].*?>/g,/<\/?u\s+[v].*?>/g,/<\/?s\s+[v].*?>/g,/<\/?l\s*[v]\s*=\'/g];var _d=[/<\/ff>/g,/<\/fs>/g,/<\/fc>/g,/<\/b>/g,/<\/i>/g,/<\/u>/g,/<\/s>/g,/<\/l>/g];var _e=false;var _f=_c.length;for(var _q=0;_q<=_f-1;_q++ ){var _g=_c[_q];var _h=_d[_q];var _i=_g.exec(_b);while(_i){var _j=_h.exec(_b);if(!_j){break;}var _k=_i.index;var _l=_h.lastIndex;var _m=_b.substring(0,_k);var _n=_b.substring(_l,_b.length);var _o=_b.substring(_k,_l);switch(_q){case 0:_o=_o.replace(_i[0],"<span style=\"font-family:").replace(/(\'|\")>/,"\">").replace(_j[0],"</span>");break;case 1:_o=_o.replace(_i[0],"<span style=\"font-size:").replace(/(\'|\")>/,"pt\">").replace(_j[0],"</span>");break;case 2:_o=_o.replace(_i[0],"<span style=\"color:").replace(/(\'|\")>/,"\">").replace(_j[0],"</span>");_k=_o.indexOf(":");_l=_o.indexOf("\">");var _p=_o.substring(_k+1,_l);_o=_o.replace(_p,nexacro._getWebColorFromXreColor(_p));break;case 3:if(_i[0].indexOf("false")<0){_o=_o.replace(_i[0],"<b>");}else{_o=_o.replace(_i[0],"").replace(_j[0],"");}break;case 4:if(_i[0].indexOf("false")<0){_o=_o.replace(_i[0],"<i>");}else{_o=_o.replace(_i[0],"").replace(_j[0],"");}break;case 5:if(_i[0].indexOf("false")<0){_o=_o.replace(_i[0],"<u>");_e=true;}else{_o=_o.replace(_i[0],"<u style='text-decoration:none'>");_e=false;}break;case 6:if(_i[0].indexOf("false")<0){_o=_o.replace(_i[0],"<s>");}else{_o=_o.replace(_i[0],"<s style='text-decoration:none'>");}break;case 7:if(_o.indexOf("tel:")<0&&_o.indexOf("mailto:")<0){if(!_e){_o=_o.replace(_i[0],"<a style='text-decoration:none;' target=\"_blank\" href=\"");}else{_o=_o.replace(_i[0],"<a target=\"_blank\" href=\"");}_o=_o.replace("\'>","\">").replace(_j[0],"</a>");}else{if(_o.indexOf("tel:")>=0&&nexacro._isDesktop()){_o=_o.replace(_i[0],"<span v=\"").replace("\'>","\">").replace(_j[0],"</span>");}else{if(!_e){_o=_o.replace(_i[0],"<a style='text-decoration:none;' href=\"");}else{_o=_o.replace(_i[0],"<a href=\"");}_o=_o.replace("\'>","\">").replace(_j[0],"</a>");}}break;default:break;}_b=_m+_o+_n;_g.lastIndex=0;_i=_g.exec(_b);if(_i){_h.lastIndex=_g.lastIndex;}}}_b=_b.replace(/\&lt;/g,"&amp;lt;").replace(/\&gt;/g,"&amp;gt;").replace(/\&quot;/g,"&amp;quot;").replace(/\&apos;/g,"&amp;apos;");}return _b;};delete _pStatic;nexacro.StaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Static.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pStaticCtrl=nexacro.StaticCtrl.prototype=nexacro._createPrototype(nexacro.Static,nexacro.StaticCtrl);_pStaticCtrl._type_name="StaticControl";nexacro._setForControlStyleFinder(_pStaticCtrl);delete _pStaticCtrl;}if(!nexacro.Edit){nexacro.Edit_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.caretcolor=null;this.compositecolor=null;this.displaynulltextcolor=null;};var _pEditStyle=nexacro._createPrototype(nexacro.Style,nexacro.Edit_Style);nexacro.Edit_Style.prototype=_pEditStyle;eval(nexacro._createColorAttributeEvalStr("_pEditStyle","caretcolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","compositecolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","selectcolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","displaynulltextcolor"));_pEditStyle.__custom_emptyObject=function(){this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;this.displaynulltextcolor=null;};_pEditStyle.__get_custom_style_value=function(){var _a="";if(this.caretcolor&&!this.caretcolor._is_empty){_a+="caretcolor:"+this.caretcolor._value+"; ";}if(this.compositecolor&&!this.compositecolor._is_empty){_a+="compositecolor:"+this.compositecolor._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.displaynulltextcolor&&!this.displaynulltextcolor._is_empty){_a+="displaynulltextcolor:"+this.displaynulltextcolor._value+"; ";}return _a;};nexacro.Edit_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;this.displaynulltextcolor=null;};var _pEditCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Edit_CurrentStyle);nexacro.Edit_CurrentStyle.prototype=_pEditCurrentStyle;_pEditCurrentStyle.__custom_emptyObject=_pEditStyle.__custom_emptyObject;_pEditCurrentStyle.__get_custom_style_value=_pEditStyle.__get_custom_style_value;_pEditStyle=null;_pEditCurrentStyle=null;nexacro.Edit=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.value=undefined;this.useinputpanel=true;this.displaynulltext="";this.readonly=false;this.password=false;this.autoselect=false;this.autoskip=false;this.maxlength=0;this.usesoftkeyboard=true;this.inputmode="normal";this.inputfilter="none";this.inputtype="normal";this.lengthunit="utf16";this.tabindentsize=4;this.imemode="none";this.useime="global";this.updatebindingvalue="default";this.usecontextmenu=true;this.text="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ontextchange":1,"ontextchanged":1,"oncontextmenu":1,"onfling":1,"onflingstart":1,"onflingend":1,"onpinch":1,"onpinchstart":1,"onpinchend":1,"onslide":1,"onslidestart":1,"onslideend":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"onlongpress":1};this._input_element=null;this._edit_base_api=new nexacro.EditNormal(this);this._accessibility_role="edit";this._caret_pos={begin: -1,end: -1,org_begin: -1,org_end: -1};this._setcaret=false;this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;this._activate_flag=false;this._has_inputElement=true;this._old_selection=[0,0];this._lose_focus_comp=null;this._is_set_value=false;};var _pEdit=nexacro._createPrototype(nexacro.Component,nexacro.Edit);nexacro.Edit.prototype=_pEdit;_pEdit._type_name="Edit";nexacro.Edit._default_selectcolor=nexacro._getCachedStyleObj("color","#3e3e3eff");nexacro.Edit._focused_selectcolor=nexacro._getCachedStyleObj("color","#ffffffff");nexacro.Edit._default_selectbackground=nexacro._getCachedStyleObj("color","#ffffffb3");_pEdit.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a)||nexacro.Component._default_left_align;if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=null;var _d=this.on_find_CurrentStyle_font(_a);if(_d!=_b.font){_b.font=_d;this.on_apply_style_font(_d);}_d=null;var _e=this.on_find_CurrentStyle_letterspace(_a);if(_e!=_b.letterspace){_b.letterspace=_e;this.on_apply_style_letterspace(_e);}_e=null;var _f=this.on_find_CurrentStyle_color(_a);if(_f!=_b.color){_b.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_g!=_b.displaynulltextcolor){_b.displaynulltextcolor=_g;this.on_apply_style_displaynulltextcolor(_g);}_f=this.on_find_CurrentStyle_caretcolor(_a);if(_f!=_b.caretcolor){_b.caretcolor=_f;this.on_apply_style_caretcolor(_f);}_f=this.on_find_CurrentStyle_compositecolor(_a);if(_f!=_b.compositecolor){_b.compositecolor=_f;this.on_apply_style_compositecolor(_f);}_f=null;var _h=this.on_find_CurrentStyle_selectcolor(_a);if(_h!=_b.selectcolor){_b.selectcolor=_h;this.on_apply_style_selectcolor(_h);}_h=null;var _i=this.on_find_CurrentStyle_selectbackground(_a);if(_i!=_b.selectbackground){_b.selectbackground=_i;this.on_apply_style_selectbackground(_i);}_i=null;var _j=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_j!=_b.rtlimagemirroring){_b.rtlimagemirroring=_j;this.on_apply_style_rtlimagemirroring(_j);}_j=null;};_pEdit.on_create_custom_style=function(){return new nexacro.Edit_Style(this);};_pEdit.on_create_custom_currentStyle=function(){return new nexacro.Edit_CurrentStyle();};_pEdit.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a,"value");}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a,"value");}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a,"value");}return (_b)?_b:nexacro.Component._default_cursor;};_pEdit.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");return (_b)?_b:nexacro.Component._default_left_align;};_pEdit.on_find_CurrentStyle_caretcolor=function(_a){return this._find_pseudo_obj("caretcolor",_a,"color");};_pEdit.on_find_CurrentStyle_compositecolor=function(_a){return this._find_pseudo_obj("compositecolor",_a,"color");};_pEdit.on_find_CurrentStyle_selectcolor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a,"color");if(!_b){if(_a=="focused"){_b=nexacro.Edit._focused_selectcolor;}else{_b=nexacro.Edit._default_selectcolor;}}return _b;};_pEdit.on_find_CurrentStyle_displaynulltextcolor=function(_a){var _b=this._find_pseudo_obj("displaynulltextcolor",_a,"color");if(!_b){_b=this._find_pseudo_obj("color",_a,"color");}if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pEdit.on_find_CurrentStyle_selectbackground=function(_a){var _b=this._find_pseudo_obj("selectbackground",_a,"background");return (_b)?_b:nexacro.Edit._default_selectbackground;};_pEdit.on_update_style_cursor=function(){var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this.currentstyle.cursor=_a;this.on_apply_style_cursor(_a);};_pEdit.on_update_style_caretcolor=function(){var _a=this.on_find_CurrentStyle_caretcolor(this._pseudo);this.currentstyle.caretcolor=_a;this.on_apply_style_caretcolor(_a);};_pEdit.on_update_style_compositecolor=function(){var _a=this.on_find_CurrentStyle_compositecolor(this._pseudo);this.currentstyle.compositecolor=_a;this.on_apply_style_compositecolor(_a);};_pEdit.on_update_style_selectcolor=function(){var _a=this.on_find_CurrentStyle_selectcolor(this._pseudo);this.currentstyle.selectcolor=_a;this.on_apply_style_selectcolor(_a);};_pEdit.on_update_style_displaynulltextcolor=function(){var _a=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo);this.currentstyle.displaynulltextcolor=_a;this.on_apply_style_displaynulltextcolor(_a);};_pEdit.on_update_style_selectbackground=function(){var _a=this.on_find_CurrentStyle_selectbackground(this._pseudo);this.currentstyle.selectbackground=_a;this.on_apply_style_selectbackground(_a);};_pEdit.on_apply_style_color=function(_a){var _b=this._input_element;if(_b){_b.setElementColor(_a);}};_pEdit.on_apply_style_font=function(_a){if(_a==null){this.currentstyle.font=nexacro.Component._default_font;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_c.setElementFont(_a);_b.setPosition();_b._apply_style(_c);}};_pEdit.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._input_element;if(_c){_c.setElementCursor(_a);}}};_pEdit.on_apply_style_align=function(_a){if(_a==null){_a=nexacro.Component._default_left_align;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_b.setPosition();_b._apply_style(_c);}};_pEdit.on_apply_style_caretcolor=function(_a){};_pEdit.on_apply_style_compositecolor=function(_a){};_pEdit.on_apply_style_selectbackground=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectBackgroundColor(_a);}};_pEdit.on_apply_style_selectcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectColor(_a);}};_pEdit.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this._input_element){this._input_element.setElementAccessibilityRole(_a.role);}};_pEdit.on_apply_style_displaynulltextcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementDisplayNullTextColor(_a);}};_pEdit.on_apply_style_letterspace=function(_a){var _b=this._input_element;if(_b){_b.setElementLetterSpace(_a);}};_pEdit.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._input_element=new nexacro.InputElement(_a);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlign(_b.align);_c.setElementSelectColor(_b.selectcolor);_c.setElementSelectBackgroundColor(_b.selectbackground);_c.setElementDisplayNullTextColor(_b.displaynulltextcolor);}};_pEdit.on_created_contents=function(){var _a=this._input_element;var _b=this._edit_base_api;if(_a){var _c=nexacro._toString(this.value);var _d=this.currentstyle;_a.setElementReadonly(this.readonly);_a.setElementMaxLength(this.maxlength);_a.setElementUseIme(this.useime);_a.setElementImeMode(this.imemode);_a.setElementEnable(this._isEnable());if(this.password){_a.setElementPassword(this.password);}else{_a.setElementInputType(this.inputtype);_a.setElementInputTypeKeypad(this.inputtype);}if(_b){_b.setValue(_c);_b._setFocusValue();}_a.create();this.on_apply_style_letterspace(_d.letterspace);this.on_apply_lengthunit();_a._bindEvent(_a);if(_b){_b.setPosition();}if(nexacro._isDesktop()&&(nexacro.Browser=="Chrome")){this.setCaretPos(0);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_a._setElementInputLabel();}this.on_apply_prop_rtldirection();this.on_apply_displaynulltext();if(_d&&_d.cursor){this.on_apply_style_cursor(_d.cursor);}this.on_apply_prop_class();}};_pEdit.on_destroy_contents=function(){var _a=this._input_element;if(_a){_a._unBindEvent();_a.destroy();this._input_element=null;}var _b=this._edit_base_api;if(_b){_b._destroy();this._edit_base_api=null;}this._caret_pos=null;};_pEdit.on_change_containerRect=function(_a,_b){var _c=this._input_element;var _d=this._edit_base_api;if(_c&&_d){_d.setPosition();_d._apply_style(_c);}};_pEdit.on_getBindableProperties=function(){return "value";};_pEdit.on_apply_prop_enable=function(_a){var _b=this._input_element;if(_b){_b.setElementEnable(_a);this.on_apply_style_cursor(this.currentstyle.cursor);}};_pEdit.on_apply_custom_setfocus=function(_a){var _b=this._input_element;var _c=this._edit_base_api;if(_b){if(_c){_c._changeFocusText(_b);_c._bChangeFocusText=true;}var _d=this.text;if(this._old_selection[0]!=this._old_selection[1]){_b.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}else if(nexacro.Browser=="Runtime"&&_a!="lbuttondown"&&this._is_set_value){_b.setElementSetSelect(this._old_selection[0]);}if(nexacro.Browser=="Gecko"||nexacro.Browser=="Safari"){_b.setElementFocus();}if(!this.autoselect&&nexacro.OS!="iOS"){var _e=false;if(_a=="tabkey"||_a=="shifttabkey"||this.taborder==0){if(this._is_set_value){this.setCaretPos(this.value.length);}else if(nexacro.Browser=="Edge"&&!_c._is_selected()){_e=true;}}else if(nexacro.Browser!="Edge"&&nexacro.Browser!="Runtime"&&!(nexacro.OS=="Mac OS"&&nexacro.Browser=="Safari")){_e=true;}if(_c&&_e){this.setCaretPos(_c._begin_pos);}if(nexacro.Browser=="IE"){this._setcaret=false;}_e=null;}if(nexacro.Browser!="Gecko"&&nexacro.Browser!="Safari"){_b.setElementFocus();}var _f=this;if(nexacro.OS=="iOS"&&_b._keypad_type=="change"&&!this.readonly){setTimeout(function(){_c._text=_d;_b.setElementInputType("text",true);if(_f.autoselect){var _g=_c._select_text=_c._text;_c._is_apply_autoselect=true;_c.setElementCaretPos(0,_g.length,_b);}_b.setElementInputTypeKeypad("changed");},500);}this._is_set_value=false;}};_pEdit.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){var _d=this._edit_base_api;if(_d){if(_d._undoStack){_d._undoStack.init();}}this._setValue(undefined);return true;}};_pEdit.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=this._edit_base_api;var _h=this._input_element;if(_g){var _i=_g._getFocusValue();if(_h){if(_f===this.value&&_f===_g._value&&_f===_h.value){if(_i!=_f){_g._setFocusValue();}return true;}if(this._textchanging&&_f==this.value){return true;}}if(_g._undoStack){_g._undoStack.init();}}this._setValue(_f);if(_g&&_h){if(_i!=_f){_g._setFocusValue();}}return true;}return false;};_pEdit.on_get_style_accessibility_label=function(){var _a="";return _a;};_pEdit._on_getAccessibilityAdditionalLabel=function(){if(this._edit_base_api){return this._edit_base_api._on_getAccessibilityAdditionalLabel();}};_pEdit._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this._input_element&&this._status!="focus"){if(!this._input_element._wantAccessibilityAdditionalLabel||!this._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pEdit._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){return "";}else{return _b;}};_pEdit._setAccessibilityStatFocus=function(_a){if(this._input_element){var _b=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_b="none";}this._input_element.setElementAccessibilityRole(_b);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pEdit._setAccessibilityNotifyEvent=function(_a){if(this._edit_base_api){this._edit_base_api._setAccessibilityNotifyLabel();}return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pEdit.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._edit_base_api;if(_a){_a.setPosition();}if(this._input_element){this._input_element.setElementRtlDirection(this._rtldirection);}};_pEdit.set_text=function(_a,_b){};_pEdit.set_value=function(_a){var _b=_a;_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");}if(_a!==this.value){var _c=this._getRootForm();var _d=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){var _c=this._getRootForm();if(_c&&_c._bind_manager){var _e=_c._bind_manager._FindBindItem(this,"value");if(!_e&&this._bind_event&&this.parent instanceof nexacro.Div){_e=this._bind_event._sys_handlers[0].target._FindBindItem(this,"value");}if(_e){var _f=_e._dataset;var _g=_f.rowposition;var _h=_f._getDataColIndex(_e.columnid);var _i=_f.getColumn(_g,_h);this._setValue(_i);}delete _e;_e=null;}delete _c;_c=null;return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_d){var _j=_d._accept_keyinput_event;_d._accept_keyinput_event=false;this._setValue(_a);_d._accept_keyinput_event=_j;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_c&&_c._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}if(_d){_d._setFocusValue();}if(typeof _b=="number"){this.value=parseFloat(_a);}if(this.value){this._is_set_value=true;}}};_pEdit.on_apply_value=function(){var _a=this._edit_base_api;if(_a){_a.setValue(this.value);_a.syncValue();}this._refreshAccessibilityValue();};_pEdit.set_displaynulltext=function(_a){var _b=nexacro._isNull(_a);if(_b){_a="";}else{_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pEdit.on_apply_displaynulltext=function(){var _a=this._input_element;if(_a){_a.setElementDisplayNullText(this.displaynulltext);}};_pEdit.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pEdit.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _b=this._input_element;if(_b){_b.setElementReadonly(_a);}};_pEdit.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;}};_pEdit.set_autoskip=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoskip){this.autoskip=_a;}};_pEdit.on_apply_autoskip=function(){var _a=this._getRootComponent(this);var _b=this._refform.getNextComponent(_a,true);if(_b){_b.setFocus();var _c=_b._edit_base_api?_b._edit_base_api:null;if(_c){if(!_b.autoselect){_b.setCaretPos(0);}}}};_pEdit.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pEdit.on_apply_usesoftkeyboard=function(){var _a=this._input_element;if(_a){_a.setElementUseSoftKeyboard(this.usesoftkeyboard);}};_pEdit.set_imemode=function(_a){_a=nexacro._toString(_a);this.imemode=_a;this.on_apply_imemode();};_pEdit.on_apply_imemode=function(){var _a=this._input_element;if(_a){_a.setElementImeMode(this.imemode);}};_pEdit.set_inputmode=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputmode){this.inputmode=_a;}};_pEdit.set_inputfilter=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputfilter){this.inputfilter=_a;this.on_apply_inputfilter();}};_pEdit.on_apply_inputfilter=function(){var _a=this._edit_base_api;if(_a){_a.setInputfilter(this.inputfilter);}};_pEdit.set_inputtype=function(_a){_a=nexacro._toString(_a);if(_a==""){_a="normal";}if(_a&&_a!=this.inputtype){this.inputtype=_a;this.on_apply_inputtype();}};_pEdit.on_apply_inputtype=function(){var _a=this._edit_base_api;if(_a){_a.setInputType(this.inputtype);_a._apply_elementtype(this._input_element);}};_pEdit.set_lengthunit=function(_a){if(_a!=this.lengthunit){this.lengthunit=_a;this.on_apply_lengthunit();}};_pEdit.on_apply_lengthunit=function(){var _a=this._edit_base_api;if(_a){_a.setLengthunit(this.lengthunit);}};_pEdit.set_maxlength=function(_a){_a=nexacro._toInt(_a);if(_a<0){_a=0;}if(_a!=this.maxlength){this.maxlength=_a;this.on_apply_maxlength();}};_pEdit.on_apply_maxlength=function(){var _a=this._input_element;if(_a){_a.setElementMaxLength(this.maxlength);}};_pEdit.set_password=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.password){this.password=_a;this.on_apply_password();}};_pEdit.on_apply_password=function(){var _a=this._input_element;if(_a){_a.setElementPassword(this.password);}};_pEdit.set_useime=function(_a){_a=nexacro._toString(_a);this.useime=_a;this.on_apply_useime();};_pEdit.on_apply_useime=function(){var _a=this._input_element;if(_a){_a.setElementUseIme(this.useime);}};_pEdit.set_useinputpanel=function(_a){};_pEdit.set_tabindentsize=function(_a){};_pEdit.set_updatebindingvalue=function(_a){};_pEdit.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(this.usecontextmenu!=_a){this.usecontextmenu=_a;}};_pEdit.getLength=function(_a){var _b=this._edit_base_api;if(_b){if(!_a){_a=this.lengthunit;}return _b.getLength(this._input_element,this.value,false,null,_a);}return  -1;};_pEdit.getCaretPos=function(){if(this.readonly){return  -1;}var _a=this._input_element;if(_a){if(!_a._checkActiveElement()){return  -1;}var _b=_a.getElementCaretPos();if(_b&&_b!= -1){var _c=this._edit_base_api;if(_c&&_c._is_composition()){return _b.end;}else{return _b.begin;}}}return  -1;};_pEdit.getInputElementAttribute=function(_a){var _b=this._input_element;if(_b){return _b.getInputElementAttribute(_a);}return undefined;};_pEdit.setInputElementAttribute=function(_a,_b){var _c=this._input_element;if(_c){return _c.setInputElementAttribute(_a,_b);}return false;};_pEdit.setCaretPos=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){this._caret_pos.org_begin=_a;this._caret_pos.org_end=_a;if(arguments.length==0){_a=0;}else{_a=nexacro._toInt(_a);if(_a== -1){if(_a&&this.value!=undefined){_a=this.value.length;}else{_a=0;}}}_c.setElementSetSelect(_a,_a);_b._begin_pos=_b._end_pos=_a;this._caret_pos.begin=_a;this._caret_pos.end=_a;this._setcaret=true;return true;}return false;};_pEdit.getSelect=function(){var _a=this._edit_base_api;if(_a){var _b=_a._begin_pos!==undefined?_a._begin_pos:0;var _c=_a._end_pos!==undefined?_a._end_pos:0;return [_b,_c];}else{return [0,0];}};_pEdit.setSelect=function(_a,_b){var _c=this._input_element;if(_c){var _d=this._edit_base_api;var _e=this.text?this.text:"";var _f=_e.length;this._caret_pos.org_begin=_a;this._caret_pos.org_end=_b;if(nexacro._isNull(_a)||_a===""){_a=0;}if(nexacro._isNull(_b)||_b===""){_b= -1;}if(!nexacro._isNumber(_a)){_a=nexacro._toInt(_a);}if(!nexacro._isNumber(_b)){_b=nexacro._toInt(_b);}if(_a== -1){_a=_f;}if(_b== -1){_b=_f;}if(_a>_b){var _g=_a;_a=_b;_b=_g;}_d._begin_pos=_a;_d._end_pos=_b;this._caret_pos.begin=_a;this._caret_pos.end=_b;this._setcaret=true;if(_c._checkActiveElement()){_c.setElementSetSelect(_a,_b);}else{_c.setElementSetSelect(_a,_b);}return true;}return false;};_pEdit.getSelectedText=function(){var _a=this._edit_base_api;var _b=this._input_element;if(_a){var _c=_a._begin_pos!==undefined?_a._begin_pos:0;var _d=_a._end_pos!==undefined?_a._end_pos:0;var _e=_a._getText();if(_e&&(_c!=_d)){return _e.substring(_c,_d);}else{return "";}}return "";};_pEdit.setSelectedText=function(_a){_a=nexacro._toString(_a);var _b=this._edit_base_api;var _c=this._input_element;if(_b){if(!_c._is_focused){_c._bFireSelectEvent=false;_c.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}var _d=_b.setSelectText(this._input_element,_a);if(_d&&!_c._is_focused){var _e=_b._getFocusText();var _f=_b._getFocusValue();var _g=_b._getText();var _h=_b._getValue();this._on_fire_changeEventSet(_e,_f,_g,_h);this._restoreSelect();this._cancelSelect();}_c._bFireSelectEvent=true;return _d;}return "";};_pEdit.isAboveSelected=function(){};_pEdit.updateToDataset=function(){if(!this._bind_event){return false;}var _a=this.applyto_bindSource("value",this.value);if(this._textchanging){this._dsupdate_in_textchanging=true;if(!_a){this._dsupdate_cancel=true;}else{this._dsupdate_cancel=false;}}else{this._dsupdate_in_textchanging=false;}return _a;};_pEdit._on_activate=function(){if(!this._isSelected()){this._stat_change("focus","normal");}this._activate_flag=true;};_pEdit._on_killfocus=function(_a,_b){if(!this._is_alive){return;}var _c=this._edit_base_api;var _d=this._input_element;if(_c&&_d){var _e=_c._getFocusText();var _f=_c._getFocusValue();var _g=_c._getText();var _h=_c._getValue();if(this._activate_flag){this._activate_flag=false;}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&!_d._is_focused){if(_e!=_g){this.applyto_bindSource("value",this.value);}return;}_c._is_on_killfocus=true;this._on_input_blur(_d);_c._is_on_killfocus=false;if(_e!=_g){var _i=this._getWindow();if(_i&&_i._is_active_window!=true&&!_a){_d.setElementValue(_c._value,false,true);return;}var _j=this._on_fire_changeEventSet(_e,_f,_g,_h);if(!_j){return;}}else if(_f===undefined&&_e==_g){_c._setValue(undefined);_c._setText("");_c.syncValue();_d.setElementValue(_c._value);}else{_d.setElementValue(_c._value,false,true);}this._restoreSelect();var _k=(nexacro.Browser=="Runtime"&&!_d.enable)?true:false;if(_k){_d.setElementEnable(true);}this._cancelSelect();if(_k){_d.setElementEnable(false);}}};_pEdit._cancelSelect=function(){var _a=this._edit_base_api;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Gecko"){if(_a._is_selected()){if(this.visible){var _b=this._getRootForm();var _c=_b.getElement();if(_b.vscrollbar){_c._recover_vpos=_b.vscrollbar.pos;}if(_b.hscrollbar){_c._recover_hpos=_b.hscrollbar.pos;}var _d=this._input_element._input_handle;var _e=this._input_element.getRootWindowHandle();this._input_element.setElementSetSelect(_a._begin_pos,_a._begin_pos);nexacro._inputsetCaretPos(_d,_e);if(nexacro.BrowserVersion<=8){_c._recover_vpos=undefined;_c._recover_hpos=undefined;}}else{this.setCaretPos(_a._begin_pos);}}}else if(nexacro.Browser=="Runtime"){if(_a._is_selected()){this.setCaretPos(_a._begin_pos);}}};_pEdit._restoreSelect=function(){this._old_selection=this.getSelect();this._caret_pos.begin=this._old_selection[0];this._caret_pos.end=this._old_selection[1];};_pEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j=this.getCaretPos();var _k=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_j,_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pEdit._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}};_pEdit._on_input_focus=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_focus(_a,_b);}};_pEdit._on_input_blur=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_blur(_a,_b);}};_pEdit._on_input_keydown=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keydown(_a,_b,_c,_d,_e);}return _f;};_pEdit._on_input_keyup=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keyup(_a,_b,_c,_d,_e);}return _f;};_pEdit._on_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._edit_base_api;if(_h){_g=_h._on_input_keypress(_a,_b,_c,_d,_e,_f);}return _g;};_pEdit._on_input_mousedown=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mousedown(_a,_b,_c,_d);}};_pEdit._on_input_mouseup=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mouseup(_a,_b,_c,_d);}};_pEdit._on_input_mousemove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_mousemove(_a);}};_pEdit._on_input_touchstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchstart(_a);}};_pEdit._on_input_touchmove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchmove(_a);}};_pEdit._on_input_touchend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchend(_a);}};_pEdit._on_input_select=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_select(_a);}};_pEdit._on_input_selectionchange=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_selectionchange(_a);}};_pEdit._on_input_copy=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_copy(_a);}};_pEdit._on_input_cut=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_cut(_a);}};_pEdit._on_input_paste=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_paste(_a);}};_pEdit._on_input_compositionstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionstart(_a);}};_pEdit._on_input_compositionupdate=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionupdate(_a);}};_pEdit._on_input_compositionend=function(_a){var _b=this._edit_base_api;if(_b&&_b._is_composition()){_b._on_input_compositionend(_a);}};_pEdit.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pEdit.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pEdit.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}};_pEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(_a,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.oneditclick._fireEvent(this,_o);}return true;};_pEdit.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(_a,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pEdit.on_fire_ontextchange=function(_a,_b){var _c=_b;if(!_b){_c=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}else if(!(_b instanceof nexacro.TextChangeEventInfo)){_b.evt=_c=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}if(this.ontextchange&&this.ontextchange._has_handlers){return this.ontextchange._fireCheckEvent(this,_c);}return true;};_pEdit.on_fire_onchar=function(_a,_b){var _c=_b;if(!_b){_c=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}else if(!(_b instanceof nexacro.TextChangeEventInfo)){_b.evt=_c=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}if(this.onchar&&this.onchar._has_handlers){return this.onchar._fireCheckEvent(this,_c);}return true;};_pEdit._on_fire_textchangeEventSet=function(_a){var _b=_a.chartext;var _c=_a.chartext;var _d=false;var _e=_a.bInsert;var _f=_a.bCut;var _g=true;var _h=true;var _i=true;var _j=false;var _k=false;var _l=true;var _m="";var _n="";var _o=this._edit_base_api;var _p=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);var _q=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);this._setcaret=false;_u=this.on_fire_ontextchange(_a,_p);if(_u){if(_b!=_p.chartext){_j=true;_c=_p.chartext;}if(this._setcaret){_o.restoreBuffer(_o._old_text,_o._old_begin_pos,_o._old_end_pos);_o.syncValue();this.setSelect(this._caret_pos.org_begin,this._caret_pos.org_end);_o.clearBuffer(_o._text,_o._begin_pos,_o._end_pos);_m=_o._text.substr(0,_o._begin_pos);_n=_o._text.substr(_o._end_pos,_o._text.length-_o._end_pos);_a.posttext=_m+_c+_n;this._setcaret=false;_k=true;}if(!_o._is_composition()){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){var _r=_a.postimetext==""?_a.preimetext:_a.postimetext;if(_o._keycode==nexacro.KeyCode_ImeInput&&_a.postimetext==""&&(_r!=""?!_o._is_hangul(_r):false)){_u=_l=false;}if(_o._keycode==nexacro.KeyCode_ImeInput&&_o._stat_composition._curr_data==""&&_r!=""&&_o._is_hangul(_r)&&!_o._is_on_killfocus){_u=false;}delete _r;_r=null;}else if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){if(_o._keycode==8){var _s=this._input_element;if(_o._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionEnd&&_b==""&&_o.getCompositionData(_s)==""){_u=_l=false;}}}else if(nexacro.Browser=="Chrome"){if(_o._keycode==nexacro.KeyCode_ImeInput&&_b==""&&_o._stat_composition.getCurrentStatus()!=nexacro.EditBase.Status.None){_u=_l=false;}}else if(nexacro._isDesktop()&&nexacro.Browser=="Safari"||nexacro.Browser=="Edge"){if(_o._keycode==nexacro.KeyCode_ImeInput&&_b==""&&!_o._is_on_killfocus){_u=_l=false;}}else if(nexacro.Browser=="Runtime"){var _r=_a.postimetext==""?_a.preimetext:_a.postimetext;if(_o._keycode==nexacro.KeyCode_ImeInput&&_b==""&&(_r!=""?!_o._is_hangul(_r):false)){_u=_l=false;}if(_o._keycode==nexacro.KeyCode_ImeInput&&_b==""&&_r!=""&&_o._is_hangul(_r)){_u=_l=false;}delete _r;_r=null;}if(_u){if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){if(_q.pretext==""&&_q.posttext==""&&_o._keycode==nexacro.Event.KEY_BACKSPACE&&_a.pretext!=""){_q.pretext=_a.pretext;}if(_o._is_hangul(_b)){_u=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}else{if(_e){if(_q.posttext!=_q.pretext&&!(_o._is_on_killfocus&&_a.pretext==_a.posttext)){if(_q.chartext!=""){_u=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}else{if(_o._keycode==nexacro.Event.KEY_BACKSPACE){_u=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}}}}else{if(this.maxlength>0&&_a.pretext.length>=this.maxlength&&_q.pretext!=""&&_q.posttext==_q.pretext){_l=false;_u=false;var _s=this._input_element;_o.setElementCaretPos(_o._input_begin_pos,_o._input_begin_pos,_s);}}}}else{_u=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}}if(_u){if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){if(_o._is_hangul(_b)){_u=this.on_fire_onchar(_a,_q);}else if(_e&&_q.posttext!=_q.pretext&&!(_o._is_on_killfocus&&_a.pretext==_a.posttext)){if(_q.chartext!=""){_u=this.on_fire_onchar(_a,_q);}else{if(_o._keycode==nexacro.Event.KEY_BACKSPACE){_u=this.on_fire_onchar(_a,_q);}}}}else{_u=this.on_fire_onchar(_a,_q);}if(!_u){_i=false;}if(_b!=_q.chartext){_c=_q.chartext;}}else{_i=false;_h=false;}}else{_l=false;}if(_b!=_c){var _t=_o.applyInputmode(_c);_t=_o._apply_inputfilter(_c);_t=_o._apply_inputtype(_c);if(_c.length>0&&_t.length==0){_d=true;}if(!_d){_e=_o._check_maxlength_from_text_event(_t);if(!_e){_t="";}else{_t=_o._apply_maxlength_from_text_event(_t);if(_t!=_c){_f=true;}}}_a.chartext=_t;_m=_a.pretext.substr(0,_o._input_begin_pos);if(nexacro.Browser=="IE"&&_o._is_hangul(_b)){_n=_a.posttext.substr(_o._end_pos,_a.posttext.length-_o._end_pos);}else if(nexacro.Browser=="Safari"&&nexacro._isDesktop()&&_o._is_hangul(_b)){_n=_a.pretext.substr(_o._end_pos+_b.length,_a.pretext.length);}else if(nexacro.Browser=="Chrome"&&_o._is_hangul(_b)){_n=_a.pretext.substr(_o._end_pos+_b.length,_a.pretext.length-_b.length);}else{_n=_a.pretext.substr(_o._end_pos,_a.pretext.length-_o._end_pos);}_a.posttext=_m+_t+_n;if(_j&&_i&&_h){_u=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_u){evt=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);_u=this.on_fire_onchar(_a);if(!_u){_i=false;}}else{_i=false;_h=false;}}}}else{_g=false;}var _u={bTextchangeRet:_g,bCancahrchangeRet:_h,bOncharRet:_i,fireCancharEvent:_l,bChangeInputValue:_k,bInsert:_e,bCut:_f};return _u;};_pEdit._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=this._edit_base_api;var _f=this._input_element;var _g=this.value;this._textchanging=true;var _h=this.on_fire_canchange(this,_a,_b,_c,_d);if(!_h){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_f.setElementValue(_e._value,false,true);var _i=this.applyto_bindSource("value",this.value);var _j=this.value;if(this._dsupdate_cancel||(!this._dsupdate_in_textchanging&&!_i&&_g==_j)){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_e._setFocusValue();this._init_bind_flag();this.on_fire_onchanged(this,_a,_b,this.text,this.value);_e._setFocusValue();return true;};_pEdit._init=function(){var _a=this._edit_base_api;if(_a){_a._init();}this.set_value(undefined);};_pEdit._init_bind_flag=function(){this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;};_pEdit._getDragData=function(){return this.getSelectedText();};_pEdit._setValue=function(_a){if(nexacro._isNull(_a)){this.text="";}else{this.text=nexacro._toString(_a);}this.value=_a;if(this.value){this._is_set_value=true;}this.on_apply_value();};_pEdit._accept_keydown_event=function(_a){return true;};_pEdit._recreateInputElement=function(){var _a=this._input_element;if(_a){_a._destroyInputHandle();_a._input_handle=_a._createInputHandle();_a._bindEvent(_a);}};_pEdit._accept_keydown_event=function(_a){return true;};_pEdit._set_editbase_focusstat=function(_a){var _b=this._edit_base_api;if(_b){switch(_a){case "focus":_b._stat_focus.setStatus(nexacro.EditBase.Status.Focus);break;case "blur":_b._stat_focus.setStatus(nexacro.EditBase.Status.Blur);break;default:_b._stat_focus.setStatus(_a);break;};}};delete _pEdit;_pEdit=null;nexacro.EditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Edit.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pEditCtrl=nexacro._createPrototype(nexacro.Edit,nexacro.EditCtrl);nexacro.EditCtrl.prototype=_pEditCtrl;_pEditCtrl._type_name="EditControl";nexacro._setForControlStyleFinder(_pEditCtrl);delete _pEditCtrl;_pEditCtrl=null;};if(!nexacro.MaskEdit){nexacro.MaskEdit_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.caretcolor=null;this.compositecolor=null;this.displaynulltextcolor=null;};var _pMaskEditStyle=nexacro._createPrototype(nexacro.Style,nexacro.MaskEdit_Style);nexacro.MaskEdit_Style.prototype=_pMaskEditStyle;eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","caretcolor"));eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","compositecolor"));eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","selectcolor"));eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","displaynulltextcolor"));_pMaskEditStyle.__custom_emptyObject=function(){this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;this.displaynulltextcolor=null;};_pMaskEditStyle.__get_custom_style_value=function(){var _a="";if(this.caretcolor&&!this.caretcolor._is_empty){_a+="caretcolor:"+this.caretcolor._value+"; ";}if(this.compositecolor&&!this.compositecolor._is_empty){_a+="compositecolor:"+this.compositecolor._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.displaynulltextcolor&&!this.displaynulltextcolor._is_empty){_a+="displaynulltextcolor:"+this.displaynulltextcolor._value+"; ";}return _a;};nexacro.MaskEdit_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;this.displaynulltextcolor=null;};var _pMaskEditCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.MaskEdit_CurrentStyle);nexacro.MaskEdit_CurrentStyle.prototype=_pMaskEditCurrentStyle;_pMaskEditCurrentStyle.__custom_emptyObject=_pMaskEditStyle.__custom_emptyObject;_pMaskEditCurrentStyle.__get_custom_style_value=_pMaskEditStyle.__get_custom_style_value;delete _pMaskEditStyle;delete _pMaskEditCurrentStyle;_pMaskEditStyle=null;_pMaskEditCurrentStyle=null;nexacro.MaskEdit=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.type="number";this.limitbymask="decimal";this.trimtype="none";this.value=undefined;this.text="";this.displaynulltext="";this.readonly=false;this.autoselect=false;this.autoskip=false;this.clipmode="includespace";this.mask="";this.maskchar="_";this.updatebindingvalue="default";this.usesoftkeyboard=true;this.useinputpanel=true;this.usecontextmenu=true;this._activate_flag=false;this._is_focusing=false;this._is_first_focus=true;this._lose_focus_comp=null;this._is_set_value=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ontextchange":1,"ontextchanged":1,"oncontextmenu":1,"onfling":1,"onflingstart":1,"onflingend":1,"onpinch":1,"onpinchstart":1,"onpinchend":1,"onslide":1,"onslidestart":1,"onslideend":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onlongpress":1};this._input_element=null;this._edit_base_api=null;this._accessibility_role="edit";this._caret_pos={begin: -1,end: -1};this._setcaret=false;this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;this._has_inputElement=true;this._locale="";this._old_selection=[0,0];};var _pMaskEdit=nexacro._createPrototype(nexacro.Component,nexacro.MaskEdit);nexacro.MaskEdit.prototype=_pMaskEdit;_pMaskEdit._type_name="MaskEdit";_pMaskEdit.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a)||nexacro.Component._default_left_align;if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_d!=_b.font){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_letterspace(_e);if(_e!=_b.letterspace){_b.letterspace=_e;this.on_apply_style_letterspace(_e);}var _f=this.on_find_CurrentStyle_color(_a);if(_f!=_b.color){_b.color=_f;this.on_apply_style_color(_f);}_f=this.on_find_CurrentStyle_caretcolor(_a);if(_f!=_b.caretcolor){_b.caretcolor=_f;this.on_apply_style_caretcolor(_f);}_f=this.on_find_CurrentStyle_compositecolor(_a);if(_f!=_b.compositecolor){_b.compositecolor=_f;this.on_apply_style_compositecolor(_f);}_f=this.on_find_CurrentStyle_selectcolor(_a);if(_f!=_b.selectcolor){_b.selectcolor=_f;this.on_apply_style_selectcolor(_f);}_f=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_f!=_b.displaynulltextcolor){_b.displaynulltextcolor=_f;this.on_apply_style_displaynulltextcolor(_f);}_f=this.on_find_CurrentStyle_selectbackground(_a);if(_f!=_b.selectbackground){_b.selectbackground=_f;this.on_apply_style_selectbackground(_f);}var _g=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_g!=_b.rtlimagemirroring){_b.rtlimagemirroring=_g;this.on_apply_style_rtlimagemirroring(_g);}};_pMaskEdit.on_create_custom_style=function(){return new nexacro.MaskEdit_Style(this);};_pMaskEdit.on_create_custom_currentStyle=function(){return new nexacro.MaskEdit_CurrentStyle();};_pMaskEdit.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a,"value");}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a,"value");}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a,"value");}return (_b)?_b:nexacro.Component._default_cursor;};_pMaskEdit.on_find_CurrentStyle_caretcolor=function(_a){return this._find_pseudo_obj("caretcolor",_a,"color");};_pMaskEdit.on_find_CurrentStyle_compositecolor=function(_a){return this._find_pseudo_obj("compositecolor",_a,"color");};_pMaskEdit.on_find_CurrentStyle_selectcolor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a,"color");if(!_b){if(_a=="focused"){_b=nexacro.Edit._focused_selectcolor;}else{_b=nexacro.Edit._default_selectcolor;}}return _b;};_pMaskEdit.on_find_CurrentStyle_displaynulltextcolor=function(_a){var _b=this._find_pseudo_obj("displaynulltextcolor",_a,"color");if(!_b){_b=this._find_pseudo_obj("color",_a,"color");}if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pMaskEdit.on_find_CurrentStyle_selectbackground=function(_a){var _b=this._find_pseudo_obj("selectbackground",_a,"background");return (_b)?_b:nexacro.Edit._default_selectbackground;};_pMaskEdit.on_update_style_cursor=function(){var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this.currentstyle.cursor=_a;this.on_apply_style_cursor(_a);};_pMaskEdit.on_update_style_caretcolor=function(){var _a=this.on_find_CurrentStyle_caretcolor(this._pseudo);this.currentstyle.caretcolor=_a;this.on_apply_style_caretcolor(_a);};_pMaskEdit.on_update_style_compositecolor=function(){var _a=this.on_find_CurrentStyle_compositecolor(this._pseudo);this.currentstyle.compositecolor=_a;this.on_apply_style_compositecolor(_a);};_pMaskEdit.on_update_style_selectcolor=function(){var _a=this.on_find_CurrentStyle_selectcolor(this._pseudo);this.currentstyle.selectcolor=_a;this.on_apply_style_selectcolor(_a);};_pMaskEdit.on_update_style_displaynulltextcolor=function(){var _a=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo);this.currentstyle.displaynulltextcolor=_a;this.on_apply_style_displaynulltextcolor(_a);};_pMaskEdit.on_update_style_selectbackground=function(){var _a=this.on_find_CurrentStyle_selectbackground(this._pseudo);this.currentstyle.selectbackground=_a;this.on_apply_style_selectbackground(_a);};_pMaskEdit.on_apply_style_color=function(_a){var _b=this._input_element;if(_b){_b.setElementColor(_a);}};_pMaskEdit.on_apply_style_font=function(_a){if(_a==null){_a=nexacro.Component._default_font;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_c.setElementFont(_a);_b.setPosition();_b._apply_style(_c);}};_pMaskEdit.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._input_element;if(_c){_c.setElementCursor(_a);}}};_pMaskEdit.on_apply_style_align=function(_a){if(_a==null){_a=nexacro.Component._default_left_align;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_b.setPosition();_b._apply_style(_c);}};_pMaskEdit.on_apply_style_caretcolor=function(_a){};_pMaskEdit.on_apply_style_compositecolor=function(_a){};_pMaskEdit.on_apply_style_selectbackground=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectBackgroundColor(_a);}};_pMaskEdit.on_apply_style_selectcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectColor(_a);}};_pMaskEdit.on_apply_style_displaynulltextcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementDisplayNullTextColor(_a);}};_pMaskEdit.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this._input_element){this._input_element.setElementAccessibilityRole(_a.role);}};_pMaskEdit.on_apply_style_letterspace=function(_a){if(this._input_element){this._input_element.setElementLetterSpace(_a);}};_pMaskEdit.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._input_element=new nexacro.InputElement(_a);if(this.type=="number"){this._edit_base_api=new nexacro.EditMaskNumber(this);}else{this._edit_base_api=new nexacro.EditMaskString(this);}var _c=this.currentstyle;_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlign(_c.align);_b.setElementSelectColor(_c.selectcolor);_b.setElementSelectBackgroundColor(_c.selectbackground);_b.setElementDisplayNullTextColor(_c.displaynulltextcolor);}};_pMaskEdit.on_created_contents=function(_a){this._default_align=this._default_left_align;var _b=this._edit_base_api;var _c=this._input_element;if(_c){var _d=this.currentstyle;_c.setElementInputType(this.type);_c.setElementInputTypeKeypad(this.type);this.on_apply_limitbymask();this.on_apply_trimtype();this.on_apply_maskchar();this.on_apply_clipmode();this.on_apply_mask();this.on_apply_value();this.on_apply_locale();_c._is_maskedit=true;_c.create();_c.setElementImeMode("disabled");_c.setElementEnable(this._isEnable());_c.setElementReadonly(this.readonly);_c._bindEvent(_c);if(_b){_b.setPosition();}if(nexacro._isDesktop()&&((nexacro.Browser=="Chrome"||nexacro.Browser=="Safari"))){this.setCaretPos(0);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_c._setElementInputLabel();}this.on_apply_prop_rtldirection();this.on_apply_displaynulltext();this.on_apply_style_letterspace(_d.letterspace);if(_d&&_d.cursor){this.on_apply_style_cursor(_d.cursor);}}};_pMaskEdit.on_destroy_contents=function(){var _a=this._input_element;if(_a){_a._unBindEvent();_a.destroy();this._input_element=null;}var _b=this._edit_base_api;if(_b){_b._destroy();this._edit_base_api=null;}this._caret_pos=null;};_pMaskEdit.on_change_containerRect=function(_a,_b){var _c=this._input_element;var _d=this._edit_base_api;if(_c&&_d){_d.setPosition();_d._apply_style(_c);}};_pMaskEdit.on_getBindableProperties=function(){return "value";};_pMaskEdit.on_apply_prop_enable=function(_a){var _b=this._input_element;if(_b){_b.setElementEnable(_a);this.on_apply_style_cursor(this.currentstyle.cursor);}};_pMaskEdit.on_apply_custom_setfocus=function(_a){var _b=this._input_element;var _c=this._edit_base_api;if(_b&&_c){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(this.displaynulltext&&this._is_focusing){return;}}this._is_focusing=true;{_c._changeFocusText(_b);_c._bChangeFocusText=true;var _d=this.text;if(this._old_selection[0]!=this._old_selection[1]){_b.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}if(nexacro.Browser=="Edge"&&(_a=="tabkey"||_a=="shifttabkey")){_b.setElementFocus();}if(!this.autoselect){var _e=false;if(_a=="tabkey"||_a=="shifttabkey"||this.taborder==0){if(this._is_set_value){this.setCaretPos(this.text.length);}else if(nexacro.Browser=="Edge"&&!_c._is_selected()){_e=true;}}else if(_a!="tabkey"&&_a!="shifttabkey"){_e=true;}if(_c&&_e){this.setCaretPos(_c._begin_pos);if(nexacro.Browser=="IE"){this._setcaret=false;}}_e=null;}if(nexacro.Browser!="Edge"||(nexacro.Browser=="Edge"&&_a!="tabkey"&&_a!="shifttabkey")){_b.setElementFocus();}var _f=this;if(nexacro.OS=="iOS"&&_b._keypad_type=="change"&&!this.readonly){setTimeout(function(){_c._text=_d;_b.setElementInputType("text",true);if(_f.autoselect){var _g=_c._select_text=_c._text;_c._is_apply_autoselect=true;_c.setElementCaretPos(0,_g.length,_b);}_b.setElementInputTypeKeypad("changed");},500);}}this._is_set_value=false;}};_pMaskEdit.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){var _d=this._edit_base_api;if(_d){if(_d._undoStack){_d._undoStack.init();}}this._setValue(undefined);return true;}};_pMaskEdit.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=this._edit_base_api;var _h=this._input_element;if(_g){var _i=_g._getFocusValue();if(_h){if(_f===this.value&&_f===_g._value&&_f===_h.value){if(_i!=_f){_g._setFocusValue();}return true;}}if(_g._undoStack){_g._undoStack.init();}}this._setValue(_f);if(_g&&_h){if(_i!=_f){_g._setFocusValue();}}return true;}return false;};_pMaskEdit.on_get_style_accessibility_label=function(){var _a="";return _a;};_pMaskEdit._on_getAccessibilityAdditionalLabel=function(){if(this._edit_base_api){return this._edit_base_api._on_getAccessibilityAdditionalLabel();}return "";};_pMaskEdit._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this._input_element&&this._status!="focus"){if(!this._input_element._wantAccessibilityAdditionalLabel||!this._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pMaskEdit._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){return "";}else{return _b;}};_pMaskEdit._setAccessibilityStatFocus=function(_a){if(this._input_element){var _b=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_b="none";}this._input_element.setElementAccessibilityRole(_b);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pMaskEdit._setAccessibilityNotifyEvent=function(_a){if(this._edit_base_api){this._edit_base_api._setAccessibilityNotifyLabel();}return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pMaskEdit.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._edit_base_api;if(_a){_a.setPosition();}if(this._input_element){this._input_element.setElementRtlDirection(this._rtldirection);}};_pMaskEdit.set_text=function(_a,_b){};_pMaskEdit.set_value=function(_a){_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.value){var _b=this._getRootForm();var _c=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_c){var _d=_c._accept_keyinput_event;_c._accept_keyinput_event=false;this._setValue(_a);_c._accept_keyinput_event=_d;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_b&&_b._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}if(this._is_first_focus||(this.value!=_a)){this._is_set_value=true;}if(_c){_c._setFocusValue();}}};_pMaskEdit.on_apply_value=function(){var _a=this._edit_base_api;if(_a){_a.setValue(this.value);_a.syncValue();}this._refreshAccessibilityValue();};_pMaskEdit.set_displaynulltext=function(_a){var _b=nexacro._isNull(_a);if(_b){_a="";}else{_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pMaskEdit.on_apply_displaynulltext=function(){var _a=this._input_element;if(_a){_a.setElementDisplayNullText(this.displaynulltext);}};_pMaskEdit.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pMaskEdit.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _b=this._input_element;if(_b){_b.setElementReadonly(_a);}};_pMaskEdit.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;}};_pMaskEdit.set_autoskip=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoskip){this.autoskip=_a;}};_pMaskEdit.on_apply_autoskip=function(){var _a=this._getRootComponent(this);var _b=this._refform.getNextComponent(_a,true);if(_b){_b.setFocus();var _c=_b._edit_base_api?_b._edit_base_api:null;if(_c){if(!_b.autoselect){_b.setCaretPos(0);}}}};_pMaskEdit.set_clipmode=function(_a){_a=nexacro._toString(_a);if(_a!=this.clipmode){this.clipmode=_a;this.on_apply_clipmode();}};_pMaskEdit.on_apply_clipmode=function(){var _a=this._edit_base_api;if(_a&&this.type=="string"){if(this.clipmode=="includespace"){_a._FillMaskChar=" ";}else{_a._FillMaskChar=undefined;}}};_pMaskEdit.set_limitbymask=function(_a){_a=nexacro._toString(_a);if(_a!=this.limitbymask){this.limitbymask=_a;this.on_apply_limitbymask();}};_pMaskEdit.on_apply_limitbymask=function(){var _a=this._edit_base_api;if(_a&&this.type=="number"){if(this.limitbymask=="both"){_a._nLimitType=3;}else if(this.limitbymask=="integer"){_a._nLimitType=1;}else if(this.limitbymask=="decimal"){_a._nLimitType=2;}else{_a._nLimitType=0;}}};_pMaskEdit.set_mask=function(_a,_b){_a=nexacro._toString(_a);if(_a!=this.mask){this.mask=_a;this.on_apply_mask();if(_b!==false){this.on_apply_value();}}};_pMaskEdit.on_apply_mask=function(){var _a=this._edit_base_api;if(_a){var _b=this.mask;if(!_b){_b="";}_a.setMask(_b);}};_pMaskEdit.set_maskchar=function(_a){_a=nexacro._toString(_a);if(_a==""){_a="_";}if(_a!=this.maskchar){this.maskchar=_a;this.on_apply_maskchar();this.on_apply_value();}};_pMaskEdit.on_apply_maskchar=function(){var _a=this._edit_base_api;if(_a&&this.type=="string"){var _b=this.maskchar;if(_b&&_b.length>0){_a._cMaskChar=_b;}else{_a._cMaskChar=undefined;}}};_pMaskEdit.set_trimtype=function(_a){_a=nexacro._toString(_a);if(_a!=this.trimtype){this.trimtype=_a;this.on_apply_trimtype();}};_pMaskEdit.on_apply_trimtype=function(){var _a=this._edit_base_api;if(_a&&this.type=="string"){if(this.trimtype=="left"){_a._nTrimType=1;}else if(this.trimtype=="right"){_a._nTrimType=2;}else if(this.trimtype=="both"){_a._nTrimType=3;}else{_a._nTrimType=0;}}};_pMaskEdit.set_type=function(_a){_a=nexacro._toString(_a);if(_a!=this.type){this.type=_a;this.on_apply_type();this.on_apply_limitbymask();this.on_apply_trimtype();this.on_apply_maskchar();this.on_apply_clipmode();this.on_apply_displaynulltext();this.on_apply_mask();this.on_apply_value();}};_pMaskEdit.on_apply_type=function(){var _a=this.getElement();if(_a){if(this.type=="number"){this._edit_base_api=null;this._edit_base_api=new nexacro.EditMaskNumber(this);}else{this._edit_base_api=null;this._edit_base_api=new nexacro.EditMaskString(this);}this._input_element.setElementInputType(this.type);this._input_element.setElementInputTypeKeypad(this.type);}};_pMaskEdit.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pMaskEdit.on_apply_usesoftkeyboard=function(){var _a=this._input_element;if(_a){_a.setElementUseSoftKeyboard(this.usesoftkeyboard);}};_pMaskEdit.set_useinputpanel=function(_a){};_pMaskEdit.set_updatebindingvalue=function(_a){};_pMaskEdit.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(this.usecontextmenu!=_a){this.usecontextmenu=_a;}};_pMaskEdit.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pMaskEdit.on_apply_locale=function(){var _a=this._edit_base_api;if(_a){var _b=this._getLocale();_a._setLocale(_b);this.on_apply_value();}};_pMaskEdit.getLength=function(){var _a=this._input_element;if(_a){var _b=this._edit_base_api;var _c=_b.getValue();if(_c){var _d=_c.length;if(this.type=="number"){if( -1!=_c.indexOf("-",0)){_d-=1;}if( -1!=_c.indexOf(".",0)){_d-=1;}}return _d;}else{return  -1;}}return  -1;};_pMaskEdit.getCaretPos=function(){if(this.readonly){return  -1;}var _a=this._input_element;if(_a){if(!_a._checkActiveElement()){return  -1;}var _b=_a.getElementCaretPos();if(_b&&_b!= -1){return _b.begin;}}return  -1;};_pMaskEdit.getInputElementAttribute=function(_a){var _b=this._input_element;if(_b){return _b.getInputElementAttribute(_a);}return undefined;};_pMaskEdit.setInputElementAttribute=function(_a,_b){var _c=this._input_element;if(_c){return _c.setInputElementAttribute(_a,_b);}return false;};_pMaskEdit.setCaretPos=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){if(arguments.length==0){_a=0;}else{_a=nexacro._toInt(_a);if(_a== -1){if(_a){_a=this.text.length;}else{_a=0;}}}_c.setElementSetSelect(_a,_a);_b._begin_pos=_b._end_pos=_a;this._caret_pos.begin=_a;this._caret_pos.end=_a;this._setcaret=true;return true;}return false;};_pMaskEdit.getSelect=function(){var _a=this._input_element;if(_a){var _b=this._edit_base_api;var _c=_b._begin_pos!==undefined?_b._begin_pos:0;var _d=_b._end_pos!==undefined?_b._end_pos:0;return [_c,_d];}else{return [0,0];}};_pMaskEdit.setSelect=function(_a,_b){var _c=this._input_element;if(_c){var _d=this._edit_base_api;var _e=this.text?this.text:"";var _f=_e.length;if(nexacro._isNull(_a)||_a===""){_a=0;}if(nexacro._isNull(_b)||_b===""){_b= -1;}if(!nexacro._isNumber(_a)){_a=nexacro._toInt(_a);}if(!nexacro._isNumber(_b)){_b=nexacro._toInt(_b);}if(_a== -1){_a=_f;}if(_b== -1){_b=_f;}if(_a>_b){var _g=_a;_a=_b;_b=_g;}_d._begin_pos=_a;_d._end_pos=_b;this._caret_pos.begin=_a;this._caret_pos.end=_b;this._setcaret=true;_c.setElementSetSelect(_a,_b);return true;}return false;};_pMaskEdit.getSelectedText=function(){var _a=this._input_element;if(_a){var _b=this._edit_base_api;var _c=_b._begin_pos!==undefined?_b._begin_pos:0;var _d=_b._end_pos!==undefined?_b._end_pos:0;var _e=_b._getText();if(_e&&(_c!=_d)){return _e.substring(_c,_d);}else{return "";}}return "";};_pMaskEdit.isAboveSelected=function(){};_pMaskEdit.updateToDataset=function(){if(!this._bind_event){return false;}var _a=this.applyto_bindSource("value",this.value);if(this._textchanging){this._dsupdate_in_textchanging=true;if(!_a){this._dsupdate_cancel=true;}else{this._dsupdate_cancel=false;}}else{this._dsupdate_in_textchanging=false;}return _a;};_pMaskEdit._on_activate=function(){var _a=this._input_element;var _b=this._edit_base_api;if(_b){_b._changeFocusText(_a);_b._bChangeFocusText=true;}if(!this._isSelected()){this._stat_change("focus","normal");}this._activate_flag=true;};_pMaskEdit._on_killfocus=function(_a,_b){if(!this._is_alive){return;}var _c=this._edit_base_api;var _d=this._input_element;this._is_focusing=false;if(_c&&_d){var _e=_c._getFocusText();var _f=_c._getFocusValue();var _g=this.text;var _h=this.value;if(this._activate_flag){this._activate_flag=false;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(!_d._is_focused){if(_e!=_g||_f!=_h){this.applyto_bindSource("value",this.value);}return;}if(_c._is_composition()){var _i=_c._stat_composition.getData();_c._on_input_compositionend(_i);if(!_c._is_hangul(_i)){_c._fire_text_event(_i);}}}_c._is_on_killfocus=true;this._on_input_blur(_d);_c._is_on_killfocus=false;if(_e!=_g||_f!=_h){var _j=this._getWindow();if(_j&&_j._is_active_window!=true&&!_a){_d.setElementValue(_c._value,false,true);return;}var _k=this._on_fire_changeEventSet(_e,_f,_g,_h);if(!_k){return;}}else if(_f===undefined&&_e==_g&&!this._isPasswordUsed(_c)){_c._setValue(undefined);_c._setText(_e);_c.syncValue();_d.setElementValue(_c._value);}else{_d.setElementValue(_c._value,false,true);}this._restoreSelect();var _l=(nexacro.Browser=="Runtime"&&!_d.enable)?true:false;if(_l){_d.setElementEnable(true);}this._cancelSelect();if(_l){_d.setElementEnable(false);}}};_pMaskEdit._cancelSelect=function(){var _a=this._edit_base_api;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_a._is_selected()){if(this.visible){var _b=this._getRootForm();var _c=_b.getElement();if(_b.vscrollbar){_c._recover_vpos=_b.vscrollbar.pos;}if(_b.hscrollbar){_c._recover_hpos=_b.hscrollbar.pos;}var _d=this._input_element._input_handle;var _e=this._input_element.getRootWindowHandle();this._input_element.setElementSetSelect(_a._begin_pos,_a._begin_pos);nexacro._inputsetCaretPos(_d,_e);if(nexacro.BrowserVersion<=8){_c._recover_vpos=undefined;_c._recover_hpos=undefined;}}else{this.setCaretPos(_a._begin_pos);}}}else if(nexacro.Browser=="Runtime"){if(_a._is_selected()){this.setCaretPos(_a._begin_pos);}}};_pMaskEdit._restoreSelect=function(){this._old_selection=this.getSelect();this._caret_pos.begin=this._old_selection[0];this._caret_pos.end=this._old_selection[1];};_pMaskEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this._isEnable()&&this.enableevent){var _j=this.getCaretPos();var _k=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_j,_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pMaskEdit._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}};_pMaskEdit._on_input_focus=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_focus(_a);if(this._is_first_focus){if(nexacro.Browser!="Gecko"||(nexacro.Browser=="Gecko"&&!_c._is_apply_autoselect)){this._input_element.setElementSetSelect(_c._begin_pos,_c._end_pos);}this._is_first_focus=false;}}};_pMaskEdit._on_input_blur=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_blur(_a);}};_pMaskEdit._on_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._edit_base_api;if(_h){_g=_h._on_input_keypress(_a,_b,_c,_d,_e,_f);}return _g;};_pMaskEdit._on_input_keydown=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keydown(_a,_b,_c,_d,_e);}return _f;};_pMaskEdit._on_input_keyup=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keyup(_a,_b,_c,_d,_e);}return _f;};_pMaskEdit._on_input_mousedown=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){this._is_first_focus=false;_e._on_input_mousedown(_a,_b,_c,_d);}};_pMaskEdit._on_input_mouseup=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mouseup(_a,_b,_c,_d);}};_pMaskEdit._on_input_touchstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchstart(_a);}};_pMaskEdit._on_input_touchmove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchmove(_a);}};_pMaskEdit._on_input_touchend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchend(_a);}};_pMaskEdit._on_input_mousemove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_mousemove(_a);}};_pMaskEdit._on_input_select=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_select(_a);}};_pMaskEdit._on_input_selectionchange=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_selectionchange(_a);}};_pMaskEdit._on_input_copy=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_copy(_a);}};_pMaskEdit._on_input_cut=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_cut(_a);}};_pMaskEdit._on_input_paste=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_paste(_a);}};_pMaskEdit._on_input_compositionstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionstart(_a);}};_pMaskEdit._on_input_compositionupdate=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionupdate(_a);}};_pMaskEdit._on_input_compositionend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionend(_a);}};_pMaskEdit.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pMaskEdit.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pMaskEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(_a,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.oneditclick._fireEvent(this,_o);}return true;};_pMaskEdit.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}};_pMaskEdit.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(this,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pMaskEdit.on_fire_ontextchange=function(_a,_b){var _c=true;var _d=this._edit_base_api;var _e={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};var _f=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);if(_b){_b.evt=_f;}if(this.ontextchange&&this.ontextchange._has_handlers){_c=this.ontextchange._fireCheckEvent(this,_f);if(_c&&_a.chartext!=_f.chartext){_d._setValue(_d._old_value);_d._setText(_d._old_text);_d.setElementCaretPos(_d._old_begin_pos,_d._old_end_pos);if(this.type=="number"){_e=_d._apply_filter(_f.chartext);if(_e.bChange){_d._setValue(_e.value);_d._setText(_e.text);_d.setElementCaretPos(_e.caret,_e.caret);}_a.setTextInfo(_f.chartext,_d._old_text,_d._text,"","");}else if(this.type=="string"){var _g=_d.inputText(chartext);_a.setTextInfo(_f.chartext,_d._old_text,_g.newText,"","");}}}return _c;};_pMaskEdit.on_fire_onchar=function(_a,_b){var _c=true;var _d=this._edit_base_api;var _e={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};var _f=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);if(_b){_b.evt=_f;}if(this.onchar&&this.onchar._has_handlers){_c=this.onchar._fireCheckEvent(this,_f);if(_c&&_a.chartext!=_f.chartext){_d._setValue(_d._old_value);_d._setText(_d._old_text);_d.setElementCaretPos(_d._old_begin_pos,_d._old_end_pos);if(this.type=="number"){_e=_d._apply_filter(_f.chartext);if(_e.bChange){_d._setValue(_e.value);_d._setText(_e.text);_d.setElementCaretPos(_e.caret,_e.caret);}_a.setTextInfo(_f.chartext,_d._old_text,_d._text,"","");}else if(this.type=="string"){var _g=_d.inputText(_f.chartext);_a.setTextInfo(_f.chartext,_d._old_text,_g.newText,"","");}}}return _c;};_pMaskEdit._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=this._edit_base_api;var _f=this._input_element;this._textchanging=true;var _g=this.on_fire_canchange(this,_a,_b,_c,_d);if(!_g){if(this.type=="string"){if(!_b){_e._setMaskedValue(_e.makeMaskedValue(""));}else{_e._setMaskedValue(_e.makeMaskedValue(_b));}}_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}if(this.type=="string"){var _h=_e.getValue();if(!_h){_e._setMaskedValue(_e.makeMaskedValue(""));}else{_e._setMaskedValue(_e.makeMaskedValue(_h));}_e._setText(_e.makeText(_e._strMaskedValue));_e._setValue(_e.makeValue(_e._strMaskedValue));_e.syncValue();}_f.setElementValue(_e._value);if(this._dsupdate_cancel||(!this._dsupdate_in_textchanging&&!this.applyto_bindSource("value",this.value))){if(this.type=="string"){if(!_b){_e._setMaskedValue(_e.makeMaskedValue(""));}else{_e._setMaskedValue(_e.makeMaskedValue(_b));}}_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_e._setFocusValue();this._init_bind_flag();this.on_fire_onchanged(this,_a,_b,this.text,this.value);_e._setFocusValue();return true;};_pMaskEdit._init=function(){var _a=this._edit_base_api;if(_a){_a._init();}this.set_value(undefined);};_pMaskEdit._init_bind_flag=function(){this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;};_pMaskEdit._getDragData=function(){return this.getSelectedText();};_pMaskEdit._setValue=function(_a){if(nexacro._isNull(_a)){this.text="";}else{this.text=nexacro._toString(_a);}this.value=_a;if(this._is_first_focus){this._is_set_value=true;}this.on_apply_value();};_pMaskEdit._accept_keydown_event=function(_a){return true;};_pMaskEdit._recreateInputElement=function(){var _a=this._input_element;if(_a){_a._destroyInputHandle();_a._input_handle=_a._createInputHandle();_a._bindEvent(_a);}};_pMaskEdit._isPasswordUsed=function(_a){var _b=_a&&_a._bufPass?_a._bufPass.length:0;while(_b-- ){if(_a._bufPass[_b]==true){return true;}}return false;};_pMaskEdit._set_editbase_focusstat=function(_a){var _b=this._edit_base_api;if(_b){switch(_a){case "focus":_b._stat_focus.setStatus(nexacro.EditBase.Status.Focus);break;case "blur":_b._stat_focus.setStatus(nexacro.EditBase.Status.Blur);break;default:_b._stat_focus.setStatus(_a);break;};}};delete _pMaskEdit;_pMaskEdit=null;nexacro.MaskEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MaskEdit.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pMaskEditCtrl=nexacro._createPrototype(nexacro.MaskEdit,nexacro.MaskEditCtrl);nexacro.MaskEditCtrl.prototype=_pMaskEditCtrl;_pMaskEditCtrl._type_name="MaskEditControl";nexacro._setForControlStyleFinder(_pMaskEditCtrl);delete _pMaskEditCtrl;_pMaskEditCtrl=null;};if(!nexacro.TextArea){nexacro.TextArea_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.linespace=null;this.caretcolor=null;this.compositecolor=null;this.displaynulltextcolor=null;};var _pTextAreaStyle=nexacro._createPrototype(nexacro.Style,nexacro.TextArea_Style);nexacro.TextArea_Style.prototype=_pTextAreaStyle;eval(nexacro._createValueAttributeEvalStr("_pTextAreaStyle","linespace"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","caretcolor"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","compositecolor"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","selectcolor"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","displaynulltextcolor"));_pTextAreaStyle.__custom_emptyObject=function(){this.linespace=null;this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;this.displaynulltextcolor=null;};_pTextAreaStyle.__get_custom_style_value=function(){var _a="";if(this.linespace&&this.linespace._is_empty){_a+="linespace:"+this.linespace._value+"; ";}if(this.caretcolor&&!this.caretcolor._is_empty){_a+="caretcolor:"+this.caretcolor._value+"; ";}if(this.compositecolor&&!this.compositecolor._is_empty){_a+="compositecolor:"+this.compositecolor._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.displaynulltextcolor&&!this.displaynulltextcolor._is_empty){_a+="displaynulltextcolor:"+this.displaynulltextcolor._value+"; ";}return _a;};nexacro.TextArea_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.linespace=null;this.caretcolor=null;this.compositecolor=null;this.displaynulltextcolor=null;};var _pTextAreaCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.TextArea_CurrentStyle);nexacro.TextArea_CurrentStyle.prototype=_pTextAreaCurrentStyle;_pTextAreaCurrentStyle.__custom_emptyObject=_pTextAreaStyle.__custom_emptyObject;_pTextAreaCurrentStyle.__get_custom_style_value=_pTextAreaStyle.__get_custom_style_value;delete _pTextAreaStyle;delete _pTextAreaCurrentStyle;_pTextAreaStyle=null;_pTextAreaCurrentStyle=null;nexacro.TextArea=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.acceptstab=false;this.autoselect=false;this.autoskip=false;this.displaynulltext="";this.usesoftkeyboard=true;this.imemode="none";this.inputfilter="none";this.inputmode="normal";this.inputtype="normal";this.lengthunit="utf16";this.maxlength=0;this.readonly=false;this.scrollbars="autoboth";this.tabindentsize=4;this.undotype="char";this.updatebindingvalue="default";this.usecontextmenu=true;this.usecontrolkey=true;this.useinputpanel=true;this.useime="global";this.value=undefined;this.text="";this.wordwrap="none";this.dragscrolltype="all";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"canchange":1,"onchanged":1,"oneditclick":1,"ontextchange":1,"ontextchanged":1,"cancharchange":1,"onchar":1,"onvscroll":1,"onhscroll":1,"onmousewheel":1,"oncontextmenu":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._activate_flag=false;this._edit_base_api=new nexacro.MultilineEdit(this);this._init_max_scroll_width=0;this._init_max_scroll_height=0;this._input_element=null;this._is_scrollable=true;this._max_scroll_width=0;this._max_scroll_height=0;this._old_max_height=undefined;this._scrollbars=3;this._origin_scrollbars=3;this._wordwrap_scrollbars=1;this._update_scroll_lock=false;this._accessibility_role="textbox";this._caret_pos={begin: -1,end: -1};this._setcaret=false;this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;this._max_line=null;this._old_selection=[0,0];this._apply_client_padding=false;this._has_inputElement=true;this._scrolltop=0;this._scrollleft=0;this._activate_scroll=false;this._is_first_focus=true;this._lose_focus_comp=null;this._is_set_value=false;};var _pTextArea=nexacro._createPrototype(nexacro.Component,nexacro.TextArea);nexacro.TextArea.prototype=_pTextArea;_pTextArea._type_name="TextArea";nexacro.TextArea._default_selectcolor=nexacro._getCachedStyleObj("color","#3e3e3eff");nexacro.TextArea._focused_selectcolor=nexacro._getCachedStyleObj("color","#ffffffff");nexacro.TextArea._default_selectbackground=nexacro._getCachedStyleObj("color","#ffffffb3");_pTextArea.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_d!=_b.font){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_letterspace(_a);if(_e!=_b.letterspace){_b.letterspace=_e;this.on_apply_style_letterspace(_e);}var _f=this.on_find_CurrentStyle_color(_a);if(_f!=_b.color){_b.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_caretcolor(_a);if(_g!=_b.caretcolor){_b.caretcolor=_g;this.on_apply_style_caretcolor(_g);}var _h=this.on_find_CurrentStyle_compositecolor(_a);if(_h!=_b.compositecolor){_b.compositecolor=_h;this.on_apply_style_compositecolor(_h);}var _i=this.on_find_CurrentStyle_selectcolor(_a);if(_i!=_b.selectcolor){_b.selectcolor=_i;this.on_apply_style_selectcolor(_i);}var _j=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_j!=_b.displaynulltextcolor){_b.displaynulltextcolor=_j;this.on_apply_style_displaynulltextcolor(_j);}var _k=this.on_find_CurrentStyle_selectbackground(_a);if(_k!=_b.selectbackground){_b.selectbackground=_k;this.on_apply_style_selectbackground(_k);}var _l=this.on_find_CurrentStyle_linespace(_a);if(_l!=_b.linespace){_b.linespace=_l;this.on_apply_style_linespace(_l);}var _m=this.on_find_CurrentStyle_padding(_a);if(_m!=_b.padding){_b.padding=_m;this.on_apply_style_padding(_m);}var _n=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_n!=_b.rtlimagemirroring){_b.rtlimagemirroring=_n;this.on_apply_style_rtlimagemirroring(_n);}};_pTextArea.on_create_custom_style=function(){return new nexacro.TextArea_Style(this);};_pTextArea.on_create_custom_currentStyle=function(){return new nexacro.TextArea_CurrentStyle();};_pTextArea.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");return (_b)?_b:nexacro.Component._default_textarea_align;};_pTextArea.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a);}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a);}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a);}return (_b)?_b:nexacro.Component._default_cursor;};_pTextArea.on_find_CurrentStyle_caretcolor=function(_a){return this._find_pseudo_obj("caretcolor",_a,"color");};_pTextArea.on_find_CurrentStyle_compositecolor=function(_a){return this._find_pseudo_obj("compositecolor",_a,"color");};_pTextArea.on_find_CurrentStyle_selectcolor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a,"color");if(!_b){if(_a=="focused"){_b=nexacro.TextArea._focused_selectcolor;}else{_b=nexacro.TextArea._default_selectcolor;}}return _b;};_pTextArea.on_find_CurrentStyle_displaynulltextcolor=function(_a){var _b=this._find_pseudo_obj("displaynulltextcolor",_a,"color");if(!_b){_b=this._find_pseudo_obj("color",_a,"color");}if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pTextArea.on_find_CurrentStyle_selectbackground=function(_a){var _b=this._find_pseudo_obj("selectbackground",_a,"background");return (_b)?_b:nexacro.TextArea._default_selectbackground;};_pTextArea.on_find_CurrentStyle_linespace=function(_a){return this._find_pseudo_obj("linespace",_a,"value");};_pTextArea.on_update_style_cursor=function(){var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this.currentstyle.cursor=_a;this.on_apply_style_cursor(_a);};_pTextArea.on_update_style_caretcolor=function(){var _a=this.on_find_CurrentStyle_caretcolor(this._pseudo);this.currentstyle.caretcolor=_a;this.on_apply_style_caretcolor(_a);};_pTextArea.on_update_style_compositecolor=function(){var _a=this.on_find_CurrentStyle_compositecolor(this._pseudo);this.currentstyle.compositecolor=_a;this.on_apply_style_compositecolor(_a);};_pTextArea.on_update_style_selectcolor=function(){var _a=this.on_find_CurrentStyle_selectcolor(this._pseudo);this.currentstyle.selectcolor=_a;this.on_apply_style_selectcolor(_a);};_pTextArea.on_update_style_displaynulltextcolor=function(){var _a=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo);this.currentstyle.displaynulltextcolor=_a;this.on_apply_style_displaynulltextcolor(_a);};_pTextArea.on_update_style_selectbackground=function(){var _a=this.on_find_CurrentStyle_selectbackground(this._pseudo);this.currentstyle.selectbackground=_a;this.on_apply_style_selectbackground(_a);};_pTextArea.on_update_style_linespace=function(){var _a=this.on_find_CurrentStyle_linespace(this._pseudo);this.currentstyle.linespace=_a;this.on_apply_style_linespace(_a);};_pTextArea.on_update_style_padding=function(){var _a=this.on_find_CurrentStyle_padding(this._pseudo);this.currentstyle.padding=_a;this.on_apply_style_padding(_a);};_pTextArea.on_apply_style_align=function(_a){var _b=this.currentstyle;var _c=this._edit_base_api;var _d=this._input_element;if(_d){if(_b.align==null||(_b.align&&_b.align._is_empty)){_b.align=nexacro._cloneStyleObject(nexacro.Component._default_textarea_align);}_c.setPosition();_c._apply_style(_d);}};_pTextArea.on_apply_style_color=function(_a){var _b=this._input_element;if(_b){if(this.currentstyle.color==null){this.currentstyle.color=nexacro._cloneStyleObject(nexacro.Component._default_color);}_b.setElementColor(_a);}};_pTextArea.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._input_element;if(_c){_c.setElementCursor(_a);}}};_pTextArea.on_apply_style_font=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){if(this.currentstyle.font==null){this.currentstyle.font=nexacro._cloneStyleObject(nexacro.Component._default_font);}_c.setElementFont(_a);_b.setPosition();_b._apply_style(_c);}};_pTextArea.on_apply_style_caretcolor=function(_a){};_pTextArea.on_apply_style_compositecolor=function(_a){};_pTextArea.on_apply_style_selectbackground=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectBackgroundColor(_a);}};_pTextArea.on_apply_style_selectcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectColor(_a);}};_pTextArea.on_apply_style_linespace=function(_a){var _b=this._input_element;if(_b){var _c=_a?_a:0;_b.setElementLineSpace(_c);_b.setElementValue(this.value,true);this._update_scroll();}};_pTextArea.on_apply_style_padding=function(_a){var _b=this._input_element;if(_b){this._edit_base_api.setPosition();this._update_scroll();}};_pTextArea.on_apply_style_displaynulltextcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementDisplayNullTextColor(_a);}};_pTextArea.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this._input_element){this._input_element.setElementAccessibilityRole(_a.role);}};_pTextArea.on_apply_style_letterspace=function(_a){var _b=this._input_element;if(_b){_b.setElementLetterSpace(_a);}this._edit_base_api.onUpdateStyle(this);};_pTextArea.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._input_element=new nexacro.TextAreaElement(_a);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementSelectColor(_b.selectcolor);_c.setElementSelectBackgroundColor(_b.selectbackground);_c.setElementDisplayNullTextColor(_b.displaynulltextcolor);this._setAccessibilityFlagMultiLine(true);delete _c;_c=null;}};_pTextArea.on_created_contents=function(){var _a=this._input_element;if(_a){var _b=nexacro._toString(this.value);var _c=this._edit_base_api;var _d=this.currentstyle;_a.setElementReadonly(this.readonly);_a.setElementMaxLength(this.maxlength);_a.setElementWordWrap(this.wordwrap);_a.setElementUseIme(this.useime);_a.setElementImeMode(this.imemode);_a.setElementEnable(this._isEnable());_a._is_prevent_enter=this._is_use_ex_enter;if(_c){_c.setValue(_b);_c._setFocusValue();}if(this.currentstyle&&this.currentstyle.cursor&&this.currentstyle.cursor.value!="auto"){this.on_apply_style_cursor(this.currentstyle.cursor);}_a.create();this.on_apply_lengthunit();_a._bindEvent();if(_c){_c.setPosition();}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_a._setElementInputLabel();}this.on_apply_displaynulltext();_a.setElementLineSpace(this.currentstyle.linespace);_a.setElementLetterSpace(this.currentstyle.letterspace);this._update_scroll();this.on_apply_prop_rtldirection();this._init_max_scroll_width=this._max_scroll_width=_a.getScrollWidth();this._init_max_scroll_height=this._max_scroll_height=_a.getScrollHeight();if(_d&&_d.cursor){this.on_apply_style_cursor(_d.cursor);}}};_pTextArea.on_destroy_contents=function(){var _a=this._input_element;if(_a){_a._unBindEvent();_a.destroy();this._input_element=null;}var _b=this._edit_base_api;if(_b){_b._destroy();this._edit_base_api=null;}this._caret_pos=null;};_pTextArea.on_change_containerRect=function(_a,_b){var _c=this._input_element;if(_c){_c.setElementSize(_a,_b);if(this._update_scroll_lock==true){return false;}this._update_scroll_lock=true;this._update_scroll();this._update_scroll_lock=false;}};_pTextArea.on_getBindableProperties=function(){return "value";};_pTextArea.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);if(this._edit_base_api){this._edit_base_api._set_enable(_a);}var _b=this._input_element;if(_b){_b.setElementEnable(_a);this.on_apply_style_cursor(this.currentstyle.cursor);}};_pTextArea.on_apply_custom_setfocus=function(_a){var _b=this._input_element;var _c=this._edit_base_api;if(_b){if(nexacro._enableaccessibility&&(_a=="downkey"||_a=="upkey")){if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}this.setCaretPos(0);}if(_c){_c._changeFocusText(_b);_c._bChangeFocusText=true;}if(this._old_selection[0]!=this._old_selection[1]){_b.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}else if(nexacro.Browser=="Runtime"&&_a!="lbuttondown"&&this._is_set_value){_b.setElementSetSelect(this._old_selection[0]);}_b.setElementFocus();if(nexacro.Browser=="Runtime"&&nexacro.OS=="Windows"&&!this._is_set_value){}else{var _d=this.hscrollbar?this.hscrollbar.pos:0;var _e=this.vscrollbar?this.vscrollbar.pos:0;if(this._is_set_value&&(_a=="tabkey"||_a=="shifttabkey"||this.taborder==0)){if(!this.autoselect){this.setCaretPos(this.value.length);}if(nexacro.Browser=="Chrome"||nexacro.Browser=="Opera"){if(this.hscrollbar){_d=_b.getScrollLeft();}if(this.vscrollbar){_e=_b.getScrollTop();}}else{if(this.hscrollbar){_d=_b.getScrollWidth();}if(this.vscrollbar){_e=_b.getScrollHeight();}}}if(!this.autoselect&&nexacro.OS!="iOS"){if(this._is_first_focus&&!this._is_set_value){if(nexacro.Browser=="Chrome"||nexacro.Browser=="Opera"){if(this.hscrollbar){this.hscrollbar.set_pos(_d);}if(this.vscrollbar){this.vscrollbar.set_pos(_e);}}if(_a=="tabkey"||_a=="shifttabkey"){this.setCaretPos(0);}}if(_c&&_a!="tabkey"&&_a!="shifttabkey"&&(nexacro.Browser!="Edge"&&nexacro.Browser!="IE"&&!(nexacro.OS=="Mac OS"&&nexacro.Browser=="Safari"))){this.setCaretPos(_c._begin_pos);this._setcaret=false;}}var _f=this;nexacro.OnceCallbackTimer.callonce(_f,function(){if(_f.hscrollbar){_f.hscrollbar.set_pos(_d);}if(_f.vscrollbar){_f.vscrollbar.set_pos(_e);}});if(nexacro.Browser=="Gecko"){nexacro.OnceCallbackTimer.callonce(_f,function(){if(_f.hscrollbar){_f.hscrollbar.set_pos(_d);}if(_f.vscrollbar){_f.vscrollbar.set_pos(_e);}},70);}this._is_first_focus=false;}this._is_set_value=false;}};_pTextArea.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){var _d=this._edit_base_api;if(_d){if(_d._undoStack){_d._undoStack.init();}}this._setValue(undefined);return true;}};_pTextArea.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=this._edit_base_api;var _h=this._input_element;if(_g){var _i=_g._getFocusValue();if(_h){if(_f===this.value&&_f===_g._value&&_f===_h.value){if(_i!=_f){_g._setFocusValue();}return true;}if(this._textchanging){return true;}}if(_g._undoStack){_g._undoStack.init();}}this._setValue(_f);if(_g&&_h){if(_i!=_f){_g._setFocusValue();}}return true;}return false;};_pTextArea.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){this._input_element.setScrollLeft(_b.pos);}if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){if(nexacro.OSVersion>=10&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE")){this._input_element._refreshElement1(true);}}return true;};_pTextArea.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){this._input_element.setScrollTop(_b.pos);}if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){if(nexacro.OSVersion>=10&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE")){this._input_element._refreshElement1(true);}}return true;};_pTextArea.on_get_style_accessibility_label=function(){var _a="";return _a;};_pTextArea._on_getAccessibilityAdditionalLabel=function(){if(this._edit_base_api&&this._isAccessibilityEnable()){return this._edit_base_api._on_getAccessibilityAdditionalLabel();}return "";};_pTextArea._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){return "";}else{return _b;}};_pTextArea._setAccessibilityStatFocus=function(_a){if(this._input_element){var _b=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_b="none";}this._input_element.setElementAccessibilityRole(_b);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pTextArea._setAccessibilityNotifyEvent=function(_a){if(this._edit_base_api){this._edit_base_api._setAccessibilityNotifyLabel();}return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pTextArea.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._edit_base_api;if(_a){_a.setPosition();}if(this._input_element){this._input_element.setElementRtlDirection(this._rtldirection);}if(this.vscrollbar){this.vscrollbar._setRtlDirection(this._rtldirection);}if(this.hscrollbar){this.hscrollbar._setRtlDirection(this._rtldirection);if(!this._is_created){this.hscrollbar.set_pos(0);}}};_pTextArea.set_text=function(_a){};_pTextArea.set_value=function(_a){_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");if(_a.indexOf("\r\n")!= -1||_a.indexOf("\n\r")!= -1){_a=_a.replace(/\r\n/g,"\n").replace(/\n\r/g,"\n");}else{if(_a.indexOf("\r")!= -1){_a=_a.replace(/\r/g,"");}}}if(_a!=this.value){var _b=this._getRootForm();var _c=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_c){var _d=_c._accept_keyinput_event;_c._accept_keyinput_event=false;this._setValue(_a);_c._accept_keyinput_event=_d;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_b&&_b._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);if(nexacro.Browser=="Safari"){this.setCaretPos(this.text.length);}}if(_c){_c._setFocusValue();}if(this.value){this._is_set_value=true;}}};_pTextArea.on_apply_value=function(){var _a=this._edit_base_api;if(_a){_a.setValue(this.value);_a.syncValue();_a.onUpdateStyle(this);}this._refreshAccessibilityValue();};_pTextArea.set_scrollbars=function(_a){if(_a!=this.scrollbars||!this._is_created){switch(_a){case "none":this._scrollbars=0;break;case "autovert":this._scrollbars=1;break;case "autohorz":this._scrollbars=2;break;case "autoboth":this._scrollbars=3;break;case "fixedvert":this._scrollbars=4;break;case "fixedhorz":this._scrollbars=8;break;case "fixedboth":this._scrollbars=12;break;case "alwaysvert":this._scrollbars=16;break;case "alwayshorz":this._scrollbars=32;break;default:this._scrollbars=3;_a="autoboth";}this._origin_scrollbars=this._scrollbars;if((this.wordwrap!="none"&&this.wordwrap!="false"&&this.wordwrap!=false)&&this._scrollbars==3){this._scrollbars=this._wordwrap_scrollbars;}else{this._scrollbars=this._origin_scrollbars;}var _b=this._input_element;if(_b&&(this.wordwrap=="none"||this.wordwrap=="false"||this.wordwrap==false)&&(this._scrollbars==2||this._scrollbars==3||this._scrollbars==8||this._scrollbars==12||this._scrollbars==32)){_b.setElementAlign(nexacro.Component._default_textarea_align);}this.scrollbars=_a;if(this._control_element&&this._is_created){this._onResetScrollBar();}}this._update_scroll();return _a;};_pTextArea.set_displaynulltext=function(_a){var _b=nexacro._isNull(_a);if(_b){_a="";}else{_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pTextArea.on_apply_displaynulltext=function(){var _a=this._input_element;if(_a){_a.setElementDisplayNullText(this.displaynulltext);}};_pTextArea.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pTextArea.on_apply_readonly=function(_a){var _b=this.readonly;if(_b){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _c=this._input_element;if(_c){_c.setElementReadonly(_b);}};_pTextArea.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;}};_pTextArea.set_autoskip=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoskip){this.autoskip=_a;}};_pTextArea.on_apply_autoskip=function(){var _a=this._getRootComponent(this);var _b=this._refform.getNextComponent(_a,true);if(_b){_b.setFocus();var _c=_b._edit_base_api?_b._edit_base_api:null;if(_c){if(!_b.autoselect){_b.setCaretPos(0);}}}};_pTextArea.set_acceptstab=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.acceptstab){this.acceptstab=_a;}};_pTextArea.set_maxlength=function(_a){_a=nexacro._toInt(_a);if(_a&&_a!=this.maxlength){if(_a<0){_a=0;}this.maxlength=_a;this.on_apply_maxlength();}};_pTextArea.on_apply_maxlength=function(){var _a=this._input_element;if(_a){_a.setElementMaxLength(this.maxlength);}};_pTextArea.set_inputmode=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputmode){this.inputmode=_a;}};_pTextArea.set_inputfilter=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputfilter){this.inputfilter=_a;this.on_apply_inputfilter();}};_pTextArea.on_apply_inputfilter=function(){var _a=this._edit_base_api;if(_a){_a.setInputfilter(this.inputfilter);}};_pTextArea.set_inputtype=function(_a){_a=nexacro._toString(_a);if(_a==""){_a="normal";}if(_a&&_a!=this.inputtype){this.inputtype=_a;this.on_apply_inputtype();}};_pTextArea.on_apply_inputtype=function(){var _a=this._edit_base_api;if(_a){_a.setInputType(this.inputtype);_a._apply_elementtype(this._input_element);}};_pTextArea.set_lengthunit=function(_a){if(_a!=this.lengthunit){this.lengthunit=_a;this.on_apply_lengthunit();}};_pTextArea.on_apply_lengthunit=function(){if(this._edit_base_api){this._edit_base_api.setLengthunit(this.lengthunit);}};_pTextArea.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pTextArea.on_apply_usesoftkeyboard=function(){var _a=this._input_element;if(_a){_a.setElementUseSoftKeyboard(this.usesoftkeyboard);}};_pTextArea.set_imemode=function(_a){this.imemode=nexacro._toString(_a);this.on_apply_imemode();};_pTextArea.on_apply_imemode=function(){var _a=this._input_element;if(_a){_a.setElementImeMode(this.imemode);}};_pTextArea.set_useime=function(_a){this.useime=nexacro._toString(_a);this.on_apply_useime();};_pTextArea.on_apply_useime=function(){var _a=this._input_element;if(_a){_a.setElementUseIme(this.useime);}};_pTextArea.set_wordwrap=function(_a){if(typeof (_a)=="string"){_a=_a.toLowerCase();}if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pTextArea.on_apply_wordwrap=function(){var _a=this._input_element;if(_a){_a.setElementWordWrap(this.wordwrap);}if(this.wordwrap!="false"&&this.wordwrap!=false&&this.wordwrap!="none"&&this._scrollbars==3){this._scrollbars=this._wordwrap_scrollbars;}else{this._scrollbars=this._origin_scrollbars;}this._edit_base_api.onUpdateStyle(this);this.on_apply_value();};_pTextArea.set_linespace=function(_a){_a=nexacro._toInt(_a);if(_a&&_a!=this.linespace){this.linespace=_a;this.on_apply_linespace();this._update_scroll();}};_pTextArea.on_apply_linespace=function(){var _a=this._input_element;if(_a){var _b=(this.linespace<0)?"":this.linespace+"px";_a.setElementLineSpace(_b);}};_pTextArea.set_dragscrolltype=function(_a){nexacro.Form.prototype.set_dragscrolltype.call(this,_a);};_pTextArea.set_tabindentsize=function(_a){_a=nexacro._toInt(_a);if(_a!=this.tabindentsize){this.tabindentsize=_a;}};_pTextArea.set_undotype=function(_a){_a=nexacro._toString(_a);if(_a!=this.undotype){this.undotype=_a;}};_pTextArea.set_usecontrolkey=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontrolkey){this.usecontrolkey=_a;}};_pTextArea.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontextmenu){this.usecontextmenu=_a;}};_pTextArea.set_useinputpanel=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.useinputpanel){this.useinputpanel=_a;}};_pTextArea.set_updatebindingvalue=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.updatebindingvalue){this.updatebindingvalue=_a;}};_pTextArea.getLength=function(_a){var _b=this._edit_base_api;if(_b){if(!_a){_a=this.lengthunit;}return _b.getLength(this._input_element,this.value,false,null,_a);}return  -1;};_pTextArea.getCaretPos=function(){if(this.readonly){return  -1;}var _a=this._input_element;if(_a){if(!_a._checkActiveElement()){return  -1;}var _b=_a.getElementCaretPos();if(_b&&_b!= -1){var _c=this._edit_base_api;if(_c&&_c._is_composition()){return _b.end;}else{return _b.begin;}}}return  -1;};_pTextArea.getInputElementAttribute=function(_a){var _b=this._input_element;if(_b){return _b.getInputElementAttribute(_a);}return undefined;};_pTextArea.setInputElementAttribute=function(_a,_b){var _c=this._input_element;if(_c){return _c.setInputElementAttribute(_a,_b);}return false;};_pTextArea.setCaretPos=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){if(arguments.length==0){_a=0;}else{_a=nexacro._toInt(_a);if(_a== -1){if(this.value){_a=this.value.length;}else{_a=0;}}}_c.setElementSetSelect(_a,_a);_b._begin_pos=_b._end_pos=_a;this._caret_pos.begin=_a;this._caret_pos.end=_a;this._setcaret=true;return true;}return false;};_pTextArea.getSelect=function(){var _a=this._input_element;if(_a){if(this._is_focused==false){return this._last_selection;}var _b=this._edit_base_api;if(_b){var _c=_b._begin_pos!==undefined?_b._begin_pos:0;var _d=_b._end_pos!==undefined?_b._end_pos:0;return [_c,_d];}else{return [0,0];}}else{return this._defalut_lastselection;}};_pTextArea.setSelect=function(_a,_b){var _c=this._input_element;if(_c){var _d=this._edit_base_api;var _e=this.text?this.text:"";var _f=_e.length;if(nexacro._isNull(_a)||_a===""){_a=0;}if(nexacro._isNull(_b)||_b===""){_b= -1;}if(!nexacro._isNumber(_a)){_a=nexacro._toInt(_a);}if(!nexacro._isNumber(_b)){_b=nexacro._toInt(_b);}if(_a== -1){_a=_f;}if(_b== -1){_b=_f;}if(_a>_b){var _g=_a;_a=_b;_b=_g;}_d._begin_pos=_a;_d._end_pos=_b;this._caret_pos.begin=_a;this._caret_pos.end=_b;this._setcaret=true;_c.setElementSetSelect(_a,_b);return true;}return false;};_pTextArea.getSelectedText=function(){var _a=this._input_element;if(_a){var _b=this.getSelect();if(this.value&&_b!=undefined){return this.value.substring(_b[0],_b[1]);}}return "";};_pTextArea.setSelectedText=function(_a){_a=nexacro._toString(_a);var _b=this._input_element;if(_a&&_b){var _c=this.getSelect();if(!_b._is_focused&&!_b._is_focusing){_c[0]=this._old_selection[0];_c[1]=this._old_selection[1];}if(_c[0]==_c[1]){return;}var _d=this.value;var _e=_d.substring(0,_c[0]);var _f=_d.substring(_c[0],_c[1]);var _g=_d.substr(_c[1]);var _h=_e+_a+_g;this.set_value(_h);if(_b._is_focused||_b._is_focusing){this.setSelect(_c[0],_c[0]+_a.length);}else{this.applyto_bindSource("value",_h);}if(!_b._is_focused&&!_b._is_focusing){this._restoreSelect();this._cancelSelect();}return _f;}return undefined;};_pTextArea.isAboveSelected=function(){};_pTextArea.insertText=function(_a,_b){_a=nexacro._toString(_a);if(_a){if(_b==null){_b= -1;}var _c=null;var _d=this.value;if(_d){if(_b<0){_c=_d+_a;}else{var _e=_d.split("");_e.splice(_b,0,_a);_c=_e.join("");}}else{_c=_a;}this.set_value(_c);}};_pTextArea.deleteText=function(_a,_b){_a=_a===undefined?0:parseInt(_a,10);_b=_b===undefined? -1:parseInt(_b,10);if(_b< -1||_a<0||isNaN(_a)||isNaN(_b)){return false;}if(_a==null){_a=0;}if(_b==null){_b= -1;}var _c=null;var _d=this.value;var _e=_d.split("");if(_b== -1){_e.splice(_a,_e.length);}else{_e.splice(_a,_b);}_c=_e.join("");this.set_value(_c);};_pTextArea.find=function(_a,_b){if(_b==null){_b=0;}_b=nexacro._toInt(_b);_a=nexacro._toString(_a);if(_b<0){return  -1;}return _a?this.value.indexOf(_a,_b): -1;};_pTextArea.replace=function(_a,_b){if(_b==null){_b="";}_a=nexacro._toString(_a);_b=nexacro._toString(_b);var _c=this.value;if(_a){_c=_c.split(_a).join(_b);this.set_value(_c);}return _c;};_pTextArea.updateToDataset=function(){if(!this._bind_event){return false;}var _a=this.applyto_bindSource("value",this.value);if(this._textchanging){this._dsupdate_in_textchanging=true;if(!_a){this._dsupdate_cancel=true;}else{this._dsupdate_cancel=false;}}else{this._dsupdate_in_textchanging=false;}return _a;};_pTextArea._on_activate=function(){if(!this._isSelected()){this._stat_change("focus","normal");}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){this._scrolltop=this._input_element.getScrollTop();this._scrollleft=this._input_element.getScrollLeft();this._activate_scroll=true;}this._activate_flag=true;};_pTextArea._on_killfocus=function(_a,_b){if(!this._is_alive){return;}var _c=this._edit_base_api;var _d=this._input_element;if(_c&&_d){var _e=_c._getFocusText();var _f=_c._getFocusValue();var _g=_c._getText();var _h=_c._getValue();if(this._activate_flag){this._activate_flag=false;}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&!_d._is_focused){if(_e!=_g){this.applyto_bindSource("value",this.value);}return;}_c._is_on_killfocus=true;this._on_input_blur(_d);_c._is_on_killfocus=false;if(_e!=_g){var _i=this._getWindow();if(_i&&_i._is_active_window!=true&&!_a){_d.setElementValue(_c._value,false,true);return;}var _j=this._on_fire_changeEventSet(_e,_f,_g,_h);if(!_j){return;}}else if(_f===undefined&&_e==_g){_c._setValue(undefined);_c._setText("");_c.syncValue();_d.setElementValue(_c._value);}else{_d.setElementValue(_c._value,false,true);}this._restoreSelect();var _k=(nexacro.Browser=="Runtime"&&!_d.enable)?true:false;if(_k){_d.setElementEnable(true);}this._cancelSelect();if(_k){_d.setElementEnable(false);}}};_pTextArea._cancelSelect=function(){var _a=this._edit_base_api;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_a._is_selected()){if(this.visible){var _b=this._getRootForm();var _c=_b.getElement();if(_b.vscrollbar){_c._recover_vpos=_b.vscrollbar.pos;}if(_b.hscrollbar){_c._recover_hpos=_b.hscrollbar.pos;}var _d=this._input_element._input_handle;var _e=this._input_element.getRootWindowHandle();if(this.vscrollbar){this._scrolltop=this._input_element.getScrollTop();}if(this.hscrollbar){this._scrollleft=this._input_element.getScrollLeft();}this._input_element.setElementSetSelect(_a._begin_pos,_a._begin_pos);nexacro._inputsetCaretPos(_d,_e);if(this.vscrollbar){this._input_element.setScrollTop(this._scrolltop);}if(this.hscrollbar){this._input_element.setScrollLeft(this._scrollleft);}if(nexacro.BrowserVersion<=8){_c._recover_vpos=undefined;_c._recover_hpos=undefined;}}else{this.setCaretPos(_a._begin_pos);}}}else if(nexacro.Browser=="Runtime"){if(_a._is_selected()){this.setCaretPos(_a._begin_pos);}}};_pTextArea._restoreSelect=function(){this._old_selection=this.getSelect();};_pTextArea._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j=this.getCaretPos();var _k=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_j,_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pTextArea._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}};_pTextArea._on_input_focus=function(_a,_b){var _c=this._edit_base_api;if(_c){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){var _d=this.vscrollbar?this.vscrollbar.pos:0;var _e=this.hscrollbar?this.hscrollbar.pos:0;_c._on_input_focus(_a,_b);if(this.vscrollbar&&_d!=_a.getScrollTop()){_a.setScrollTop(_d);}if(this.hscrollbar&&_e!=_a.getScrollLeft()){_a.setScrollLeft(_e);}}else{_c._on_input_focus(_a,_b);}}};_pTextArea._on_input_blur=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_blur(_a,_b);}};_pTextArea._on_input_keydown=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keydown(_a,_b,_c,_d,_e);}return _f;};_pTextArea._on_input_keyup=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keyup(_a,_b,_c,_d,_e);}return _f;};_pTextArea._on_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._edit_base_api;if(_h){_g=_h._on_input_keypress(_a,_b,_c,_d,_e,_f);}return _g;};_pTextArea._on_input_mousedown=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mousedown(_a,_b,_c,_d);}};_pTextArea._on_input_mouseup=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mouseup(_a,_b,_c,_d);}};_pTextArea._on_input_mousemove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_mousemove(_a);}};_pTextArea._on_input_touchstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchstart(_a);}};_pTextArea._on_input_touchmove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchmove(_a);}};_pTextArea._on_input_touchend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchend(_a);}};_pTextArea._on_input_select=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_select(_a);}};_pTextArea._on_input_selectionchange=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_selectionchange(_a);}};_pTextArea._on_input_copy=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_copy(_a);}};_pTextArea._on_input_cut=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_cut(_a);}};_pTextArea._on_input_paste=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_paste(_a);}};_pTextArea._on_input_compositionstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionstart(_a);}};_pTextArea._on_input_compositionupdate=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionupdate(_a);}};_pTextArea._on_input_compositionend=function(_a){var _b=this._edit_base_api;if(_b&&_b._is_composition()){_b._on_input_compositionend(_a);}};_pTextArea._is_use_ex_enter=false;_pTextArea.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){if(nexacro._enableaccessibility){if(_a==nexacro.Event.KEY_DOWN||_a==nexacro.Event.KEY_UP){var _g;if(_a==nexacro.Event.KEY_DOWN){_g=1;}else if(_a==nexacro.Event.KEY_UP){_g=2;}var _h=this._getCaretLineString(null,_g);if(!_h){_h="#textarea:msg_accessibility_emptyline";}this._notifyAccessibility(_h,"valuechange");}}}var _i=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(this._is_use_ex_enter){if((_c||_b)&&_a==13){var _j=this.getCaretPos();var _k=this.text;var _l=_k.split("");var _m=this._edit_base_api;_l.splice(_j,0,"\n");newValue=_l.join("");if(this.maxlength>=newValue.length||this.maxlength==0){var _n=this._input_element;if(_n){_n.text=newValue;_n.value=newValue;if(_m){if(nexacro.Browser=="IE"){var _o=_m._accept_keyinput_event;_m._accept_keyinput_event=false;_n._updateInputValue();_m._accept_keyinput_event=_o;}else{_n._updateInputValue();}}}_m._fire_text_event("\n");this.setCaretPos(_m._begin_pos);}}}return _i;};_pTextArea.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pTextArea.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pTextArea.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}};_pTextArea.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(_a,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.oneditclick._fireEvent(this,_o);}return true;};_pTextArea.on_fire_ontextchanged=function(_a,_b,_c){this._max_line=null;if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(_a,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pTextArea.on_fire_ontextchange=function(_a,_b){var _c=_b;if(!_b){_c=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}else if(!(_b instanceof nexacro.TextChangeEventInfo)){_b.evt=_c=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}if(this.ontextchange&&this.ontextchange._has_handlers){return this.ontextchange._fireCheckEvent(this,_c);}return true;};_pTextArea.on_fire_onchar=function(_a,_b){var _c=_b;if(!_b){_c=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}else if(!(_b instanceof nexacro.TextChangeEventInfo)){_b.evt=_c=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}if(this.onchar&&this.onchar._has_handlers){return this.onchar._fireCheckEvent(this,_c);}return true;};_pTextArea._on_fire_textchangeEventSet=function(_a){var _b=_a.chartext;var _c=_a.chartext;var _d=false;var _e=_a.bInsert;var _f=_a.bCut;var _g=true;var _h=true;var _i=true;var _j=false;var _k=true;var _l=this._edit_base_api;var _m=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);var _n=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);_s=this.on_fire_ontextchange(_a,_m);if(_s){if(_b!=_m.chartext){_j=true;_c=_m.chartext;}if(!_l._is_composition()){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){var _o=_a.postimetext==""?_a.preimetext:_a.postimetext;if(_l._keycode==nexacro.KeyCode_ImeInput&&_a.postimetext==""&&(_o!=""?!_l._is_hangul(_o):false)){_s=_k=false;}if(_l._keycode==nexacro.KeyCode_ImeInput&&_l._stat_composition._curr_data==""&&_o!=""&&_l._is_hangul(_o)&&!_l._is_on_killfocus){_s=false;}delete _o;_o=null;}else if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){if(_l._keycode==8){if(_l._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionEnd&&_b==""&&_l.getCompositionData(_p)==""){_s=_k=false;}}}else if(nexacro.Browser=="Chrome"){if(_l._keycode==nexacro.KeyCode_ImeInput&&_b==""&&_l._stat_composition.getCurrentStatus()!=nexacro.EditBase.Status.None){_s=_k=false;}}else if(nexacro._isDesktop()&&nexacro.Browser=="Safari"||nexacro.Browser=="Edge"){if(_l._keycode==nexacro.KeyCode_ImeInput&&_b==""&&!_l._is_on_killfocus){_s=_k=false;}}else if(nexacro.Browser=="Runtime"){var _o=_a.postimetext==""?_a.preimetext:_a.postimetext;if(_l._keycode==nexacro.KeyCode_ImeInput&&_b==""&&(_o!=""?!_l._is_hangul(_o):false)){_s=_k=false;}if(_l._keycode==nexacro.KeyCode_ImeInput&&_b==""&&_o!=""&&_l._is_hangul(_o)){_s=_k=false;}delete _o;_o=null;}if(_s){if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){if(_n.pretext==""&&_n.posttext==""&&_l._keycode==nexacro.Event.KEY_BACKSPACE&&_a.pretext!=""){_n.pretext=_a.pretext;}if(_l._is_hangul(_b)){_s=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}else{if(_e){if(_n.posttext!=_n.pretext&&!(_l._is_on_killfocus&&_a.pretext==_a.posttext)){if(_n.chartext!=""){_s=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}else{if(_l._keycode==nexacro.Event.KEY_BACKSPACE){_s=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}}}}else{if(this.maxlength>0&&_a.pretext.length>=this.maxlength&&_n.pretext!=""&&_n.posttext==_n.pretext){_k=false;_s=false;var _p=this._input_element;_l.setElementCaretPos(_l._input_begin_pos,_l._input_begin_pos,_p);}}}}else{_s=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);}}if(_s){if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"){if(_l._is_hangul(_b)){_s=this.on_fire_onchar(_a,_n);}else if(_e&&_n.posttext!=_n.pretext&&!(_l._is_on_killfocus&&_a.pretext==_a.posttext)){if(_n.chartext!=""){_s=this.on_fire_onchar(_a,_n);}else{if(_l._keycode==nexacro.Event.KEY_BACKSPACE){_s=this.on_fire_onchar(_a,_n);}}}}else{_s=this.on_fire_onchar(_a,_n);}if(!_s){_i=false;}if(_b!=_n.chartext){_c=_n.chartext;}}else{_i=false;_h=false;}}else{_k=false;}if(_b!=_c){var _q=_l.applyInputmode(_c);_q=_l._apply_inputfilter(_c);_q=_l._apply_inputtype(_c);if(_c.length>0&&_q.length==0){_d=true;}if(!_d){_e=_l._check_maxlength_from_text_event(_q);if(!_e){_q="";}else{_q=_l._apply_maxlength_from_text_event(_q);if(_q!=_c.chartext){_f=true;}}}_a.chartext=_q;strFront=_a.pretext.substr(0,_l._input_begin_pos);if(nexacro.Browser=="IE"&&_l._is_hangul(_b)){var _r=_a.posttext.substr(_l._end_pos,_a.posttext.length-_l._end_pos);}else if(nexacro.Browser=="Safari"&&nexacro._isDesktop()&&_l._is_hangul(_b)){var _r=_a.pretext.substr(_l._end_pos+_b.length,_a.pretext.length);}else if(nexacro.Browser=="Chrome"&&_l._is_hangul(_b)){var _r=_a.pretext.substr(_l._end_pos+_b.length,_a.pretext.length-_b.length);}else{var _r=_a.pretext.substr(_l._end_pos,_a.pretext.length-_l._end_pos);}_a.posttext=strFront+_q+_r;if(_j&&_i&&_h){_s=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_s){evt=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);_s=this.on_fire_onchar(_a);if(!_s){_i=false;}}else{_i=false;_h=false;}}}}else{_g=false;}var _s={bTextchangeRet:_g,bCancahrchangeRet:_h,bOncharRet:_i,fireCancharEvent:_k,bInsert:_e,bCut:_f};return _s;};_pTextArea._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=this._edit_base_api;var _f=this._input_element;this._textchanging=true;var _g=this.on_fire_canchange(this,_a,_b,_c,_d);if(!_g){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_f.setElementValue(_e._value,false,true);if(this._dsupdate_cancel||(!this._dsupdate_in_textchanging&&!this.applyto_bindSource("value",this.value))){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_e._setFocusValue();this._init_bind_flag();this.on_fire_onchanged(this,_a,_b,this.text,this.value);_e._setFocusValue();return true;};_pTextArea._getDlgCode=function(_a,_b,_c,_d){var _e=true;if(nexacro._enableaccessibility){if(_a==nexacro.Event.KEY_UP){var _f=this._input_element;if(_f){var _g=_f.getCaretLine();if(_g<=1){_e=false;}}else{_e=false;}}else if(_a==nexacro.Event.KEY_DOWN){var _f=this._input_element;if(_f){var _g=_f.getCaretLine();var _h=parseInt(this._getTextLine());if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){if(_g==(_h-1)){var _i=_f.getElementValue();var _j=_i.substr(_i.length-1,1);if(_j=="\n"||_j=="\r"){_g++ ;}}}if(_g>=_h){_e=false;}}else{_e=false;}}}return {want_tab:this.acceptstab,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pTextArea._init=function(){if(this._edit_base_api){this._edit_base_api._init();}this.set_value(undefined);};_pTextArea._init_bind_flag=function(){this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;};_pTextArea._getDragData=function(){return this.getSelectedText();};_pTextArea._getHLineInfo=function(_a,_b){var _c=this.getElement();var _d=this._input_element;var _e=this.currentstyle;var _f=this.on_find_CurrentStyle_letterspace(this._pseudo);var _g=0;var _h=0;var _i=_a;var _j;var _k=_d.value;if(!_k){return 0;}_k=_k.replace(/\n/g,"\n\r");var _l=_k.length;var _m="";while(_i>=0&&(_m!='\n'&&_m!='\r')){_m=_k.charAt( --_i);}_g=_i+1;_m="";_i=_a;while(_l>=_i&&(_m!='\n'&&_m!='\r')){_m=_k.charAt(_i++ );}_h=_i-1;_i=_g;var _n=0;while(_i<_h&&_n<=_b){_j=nexacro._getTextSize2(_f,_k.charAt(_i++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_n+=_j[0];}if(_i>0){_i=_i-1;}var _o=_i;var _p=0;while(_i<=_h&&_p<=_c.client_width){_j=nexacro._getTextSize2(_f,_k.charAt(_i++ ),curstylee.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_p+=_j[0];}var _q=_i-1;if(_a>_o&&_a<_q){return  -1;}if(_a>_o&&_p<_c.client_width&&_n>_b){return  -1;}if(_a==_g){return 0;}var _r= -1;if(_a==_h&&_k.charAt(_a)=='\n'&&_a<_o){_r=0;_i=_g;while(_i<_a){_j=nexacro._getTextSize2(_f,_k.charAt(_i++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_r+=_j[0];}}else if(_a>=_q&&_n>_b){_i=_q;_r=0;while(_i<_a){_j=nexacro._getTextSize2(_f,_k.charAt(_i++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_r+=_j[0];}_r+=_b;}else if(_a<=_o){_i=_o;_r=0;while(_i>=_a){_j=nexacro._getTextSize2(_f,_k.charAt(_i-- ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_r+=_j[0];}_r=_b-_r;if(_r<0){_r=0;}}else if(_a>_g){_i=_g;_r=0;while(_i<_a-1){_j=nexacro._getTextSize2(_f,_k.charAt(_i++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_r+=_j[0];}if(_r<0){_r=0;}}return _r;};_pTextArea._getVLineInfo=function(_a){var _b=this.getElement();var _c=this.currentstyle;var _d=_c.font;var _e=this.on_find_CurrentStyle_letterspace(this._pseudo);var _f=nexacro._getTextSize2(_e,"Wj",_d);var _g=_c.linespace?nexacro._toInt(_c.linespace):0;var _h=_f[1]+_g;var _i=nexacro._toInt(_a/_h)+1;var _j=_i+Math.ceil((_b.client_height)/_h)-1;return {begin:_i,end:_j};};_pTextArea._getMaxTextLine=function(){var _a=this._input_element;var _b=this.currentstyle;var _c=0;var _d=_a.getScrollHeight();if(_d>0){var _e=_b.linespace?nexacro._toInt(_b.linespace):0;var _f=this.on_find_CurrentStyle_letterspace(this._pseudo);var _g=nexacro._getTextSize2(_f,"Wj",_b.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false))[1]+_e;_c=_d/_g;}return _c;};_pTextArea._getTextLine=function(){var _a=this._input_element;var _b=this.value;var _c=0;var _d=0;var _e=this._client_width;var _f;if(_b){_f=_b.split("\n");_c=_f.length;}if(_a&&_a._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _g=0;var _h=0;var _i;var _j=this.on_find_CurrentStyle_letterspace(this._pseudo);for(_g=0;_g<_c;_g++ ){_i=_f[_g];_h+=nexacro._getLineCountWithWordwrap(_a,_j,_i,this.wordwrap);}_c=_h;}this._max_line=_c;return _c;};_pTextArea._getCaretLineString=function(_a,_b){var _c=_a;var _d=1;var _e=this._input_element;if(!_c){_c=this.getCaretPos();if(_e){_d=_e.getCaretLine();}}if(_b==1){var _f=this.value;if(_f){var _g=_f.split("\n");var _h=_g.length;}if(_e&&_e._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _i=0;var _j=0;var _k=0;var _l;var _m="";var _n="";var _o=0;var _p=0;for(_i=0;_i<_h;_i++ ){_l=_g[_i];_j+=nexacro._getLineCountWithWordwrap(_e,_l,this.wordwrap);if(_j>_d){_d=_d-_k;var _q=_l.length;for(j=0;j<_q;j++ ){var _r=_d;_n=_l[j];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>_d){_o=j;_m="";for(k=j;k<_q;k++ ){_n=_l[k];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>1){_p=k;_m=_l.slice(_o,_p);break;}}_p=k;break;}}break;}_k=_j;}}else{return _g[_d+1];}}else if(_b==2){var _f=this.value;if(_f){var _g=_f.split("\n");var _h=_g.length;}if(_e&&_e._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _i=0;var _j=0;var _k=0;var _l;var _m="";var _n="";var _o=0;var _p=0;for(_i=0;_i<_h;_i++ ){_l=_g[_i];_j+=nexacro._getLineCountWithWordwrap(_e,_l,this.wordwrap);if(_j>=_d-1){_d=_d-_k-1;var _q=_l.length;for(j=0;j<_q;j++ ){var _r=_d;_n=_l[j];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>=_d){_o=j;_m="";for(k=j;k<_q;k++ ){_n=_l[k];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>1){_p=k;_m=_l.slice(_o,_p);break;}}_p=k;break;}}break;}_k=_j;}}else{return _g[_d-1];}}else if(_b==0){var _f=this.value;if(_f){var _g=_f.split("\n");var _h=_g.length;}if(_e&&_e._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _i=0;var _j=0;var _k=0;var _l;var _m="";var _n="";var _o=0;var _p=0;for(_i=0;_i<_h;_i++ ){_l=_g[_i];_j+=nexacro._getLineCountWithWordwrap(_e,_l,this.wordwrap);if(_j>=_d){_d=_d-_k;var _q=_l.length;for(j=0;j<_q;j++ ){var _r=_d;_n=_l[j];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>_d){_p=j;_m=_l.slice(_o,_p);break;}}break;}_k=_j;}}else{return (_g[0])?_g[0]:"";}}return _m;};_pTextArea._update_scroll=function(){var _a=this.getElement();var _b=this._input_element;if(_a&&_b){var _c=_b.getScrollWidth();var _d=_b.getScrollHeight();_a.setElementScrollMaxSize(_c,_d);this._updateClientSize(_a);this._max_scroll_height=_d;if(this.vscrollbar){var _e=_b.getScrollTop();if(this._activate_scroll&&this._scrolltop!=_e){_e=this._scrolltop;}this.vscrollbar.set_pos(_e);}if(this.hscrollbar){var _e=_b.getScrollLeft();if(nexacro.Browser!="Chrome"&&nexacro.Browser!="Opera"&&this._edit_base_api&&this._edit_base_api._pasteAction){_e=_c;}if(this._activate_scroll&&this._scrollleft!=_e){_e=this._scrollleft;}this.hscrollbar.set_pos(_e);}if(this._activate_scroll){this._activate_scroll=false;}this._onResetScrollBar();this._old_max_height=undefined;}};_pTextArea._reset_hscroll=function(){var _a=this.getElement();var _b=this._input_element;if(_a._hscroll_visible){_a.setElementHScrollPos(0);_b.setScrollLeft(0);};};_pTextArea._setValue=function(_a){if(nexacro._isNull(_a)){this.text="";}else{this.text=nexacro._toString(_a);}this.value=_a;if(this.value){this._is_set_value=true;}this.on_apply_value();};_pTextArea._setVScrollDefaultAction=function(_a,_b){var _c=this.currentstyle;var _d=_c.linespace?nexacro._toInt(_c.linespace):0;var _e=this.on_find_CurrentStyle_letterspace(this._pseudo);var _f=nexacro._getTextSize2(_e,"Wj",_c.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false))[1]+_d;if(_b>=0){var _g=3;}else{var _g= -3;}_b=_f*_g;_a.set_pos(_a.pos-_b);};_pTextArea._isWheelScrollable=function(_a){var _b=this._input_element;if(!_b){return false;}var _c=_b.getScrollTop();var _d=this._max_scroll_height;var _e=this._client_height;if((_c+_e>=_d&&_a<0)||(_c==0&&_a>0)){return false;}return true;};_pTextArea._accept_keydown_event=function(_a){return true;};_pTextArea._recreateInputElement=function(){var _a=this._input_element;if(_a){_a._destroyInputHandle();_a._input_handle=_a._createInputHandle();_a._bindEvent(_a);}};_pTextArea._set_editbase_focusstat=function(_a){var _b=this._edit_base_api;if(_b){switch(_a){case "focus":_b._stat_focus.setStatus(nexacro.EditBase.Status.Focus);break;case "blur":_b._stat_focus.setStatus(nexacro.EditBase.Status.Blur);break;default:_b._stat_focus.setStatus(_a);break;};}};delete _pTextArea;_pTextArea=null;nexacro.TextAreaCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TextArea.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTextAreaCtrl=nexacro._createPrototype(nexacro.TextArea,nexacro.TextAreaCtrl);nexacro.TextAreaCtrl.prototype=_pTextAreaCtrl;_pTextAreaCtrl._type_name="TextAreaControl";nexacro._setForControlStyleFinder(_pTextAreaCtrl);delete _pTextAreaCtrl;_pTextAreaCtrl=null;};if(!nexacro.ImageViewer){nexacro.ImageAlign=function(_a,_b,_c){nexacro.Object.call(this);this.align=new nexacro.Style_align(_a,_b);this.valign=this.align.valign;this.halign=this.align.halign;this._target=_c;};var _pImageAlign=nexacro.ImageAlign.prototype=nexacro._createPrototype(nexacro.Object,nexacro.ImageAlign);_pImageAlign._type_name="ImageAlign";_pImageAlign.set_halign=function(_a){if(this.align.set_halign(_a)){this.halign=this.align.halign;this._target.on_apply_imagealign(this.align);}};_pImageAlign.set_valign=function(_a){if(this.align.set_valign(_a)){this.valign=this.align.valign;this._target.on_apply_imagealign(this.align);}};_pImageAlign.destroy=function(){this.align=null;this.valign=null;this.halign=null;this._target=null;};delete _pImageAlign;nexacro.ImageViewer=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.text="";this.image="";this.imagealign=new nexacro.ImageAlign("middle","center",this);this.imagewidth=0;this.imageheight=0;this.stretch="none";this.repeatcount= -1;this.resampling=0;this._text_elem=null;this._img_elem=null;this._prewidth=0;this._preheight=0;this._img_type="url";this._accessibility_role="image";};var _pImageViewer=nexacro._createPrototype(nexacro.Component,nexacro.ImageViewer);nexacro.ImageViewer.prototype=_pImageViewer;_pImageViewer._type_name="ImageViewer";_pImageViewer.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_align(_a);if(_b.align!=_f){_b.align=_f;this.on_apply_style_align(_f);}var _g=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_g!=_b.rtlimagemirroring){_b.rtlimagemirroring=_g;this.on_apply_style_rtlimagemirroring(_g);}};_pImageViewer.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pImageViewer.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pImageViewer.on_apply_style_align=function(_a){if(this._text_elem){var _b=_a.halign==""?"center":_a._halign;var _c=_a.valign==""?"middle":_a._valign;this._text_elem.setElementAlignXY(_b,_c);_b=_c=null;}};_pImageViewer.on_find_CurrentStyle_rtlimagemirroring=function(_a){var _b=this._find_pseudo_obj("rtlimagemirroring",_a,"rtlimagemirroring");return _b?_b:nexacro.Component._default_rtlimagemirroring;};_pImageViewer.on_update_style_rtlimagemirroring=function(){var _a=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);this.on_apply_style_rtlimagemirroring(this.currentstyle.rtlimagemirroring=_a);};_pImageViewer.on_apply_style_rtlimagemirroring=function(_a){var _b=this._img_elem;if(_b&&_a){_b.setElementImageMirror(_a);}};_pImageViewer.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._img_elem;if(_a){_a.setElementImageMirror(this.currentstyle.rtlimagemirroring,true);}};_pImageViewer.on_create_contents=function(){var _a=this.getElement();if(_a){if(this.text){var _b=this._text_elem=new nexacro.TextBoxElement(_a);var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b.setElementLetterSpace(this.currentstyle.letterspace);_b=_c=_d=null;}}_a=null;};_pImageViewer.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}if(this.imagealign){this.imagealign.destroy();this.imagealign=null;}};_pImageViewer.on_created_contents=function(){var _a=this._text_elem;this._load_image(this.image);var _b=this._img_elem;if(_a){var _c=this._client_width;var _d=this._client_height;_a.setElementSize(_c,_d);_a.create();}if(this.expr){this.on_apply_expr();}this.on_apply_prop_rtldirection();if(_b){var _e=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);this.on_apply_style_rtlimagemirroring(_e);}_a=null;};_pImageViewer.on_fire_onsize=function(_a,_b){if(this._text_elem){var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;this._text_elem.setElementAlignXY(_c,_d);}this.on_apply_imagealign();return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pImageViewer.on_change_containerRect=function(_a,_b){var _c=this._text_elem;var _d=this._img_elem;if(_c){_c.setElementSize(_a,_b);if(_d){this._updateElementPositions();}}else if(_d){this._updateElementPositions();}var _e=this._pseudo;var _f=this.on_find_CurrentStyle_align(_e);this.on_apply_style_align(_f);_c=null;_d=null;};_pImageViewer.on_apply_text=function(){var _a=this.expr;if(_a&&_a.length>0){_a=_a.trim().split(":");var _b=_a.length;var _c=new nexacro.ExprParser();var _d,_e;var _f;if(_b==1){_f=_a[0];}else{if(_a[0].trim().toUpperCase()!="EXPR"){_f=_a.join(":");}else{_f=_a.slice(1).join(":");}}_d=_c.makeExpr(this,_f);_e=nexacro._createInlineFunc(_d,["comp"]);if(_e){try{var _g=nexacro._toString(_e.call(null,this));if(_g!=this.displaytext){this.displaytext=_g;}}catch(e){return;}}_c=null;}else{this.displaytext=this.text;}_a=null;if(!this._text_elem&&this.displaytext){var _h=this.getElement();if(_h){var _i=this._text_elem=new nexacro.TextBoxElement(_h);var _j=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _k=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_i.setElementSize(this._client_width,this._client_height);_i.setElementColor(this.currentstyle.color);_i.setElementFont(this.currentstyle.font);_i.setElementAlignXY(_j,_k);_i.setElementLetterSpace(this.currentstyle.letterspace);_i.create();_i=_j=_k=null;}_h=null;}if(this._text_elem){this._text_elem.setElementText(this.displaytext);}this._refreshAccessibilityValue();};_pImageViewer.on_apply_expr=function(){this.on_apply_text();};_pImageViewer.set_image=function(_a){if(_a){if(_a instanceof nexacro.Image){if((_a._handle_id)&&nexacro.Browser=="Runtime"&&(((typeof _a._handle_id)=="number")||(_a._handle_id instanceof nexacro.Decimal))){var _b=this.image;var _c=this.getElement();var _d=this._img_elem;var _e=_b._handle_id;if(_e&&((typeof _e)=="number")){_d.destroy(null,_e);}if(!_d){this._img_elem=_d=new nexacro.ImageElement(_c);}if(!_d._handle){_d.create();}_d.setElementHandleImageObject(_a._handle_id);this.image=_a;this._img_type="url";this._load_image(_a._handle_id);return true;}else{_a=_a._base64str;this._img_type="base64";}}else{_a=_a.toString();var _f=nexacro._checkBase64String(_a);if(_f){if(_a.substring(0,10).toLowerCase()=="data:image"){if(_a.substring(0,17).toLowerCase()!="data:image;base64"){var _g=_a.indexOf(",");if(_g> -1){var _h=_a.slice(_g+1,_a.legnth);_a="data:image;base64,"+_h;}}}else{_a="data:image;base64,"+_a;}this._img_type="base64";}else{this._img_type="url";}}}else{_a="";this._img_type="url";}if(this.image!=_a){this.image=_a;this.on_apply_image();}};_pImageViewer.on_apply_image=function(){this._load_image(this.image);};_pImageViewer.set_imagewidth=function(_a){};_pImageViewer.set_imageheight=function(_a){};_pImageViewer.set_stretch=function(_a){if(_a!=this.stretch){this.stretch=_a;this.on_apply_stretch();}};_pImageViewer.on_apply_stretch=function(){this._updateElementPositions();};_pImageViewer.set_repeatcount=function(_a){if(_a!=this.repeatcount){this.repeatcount=_a;}};_pImageViewer.set_imagealign=function(_a){if(this.imagealign.align.valueOf()!=_a){if(this.imagealign.align._setValue(_a)){this.imagealign.halign=this.imagealign.align.halign;this.imagealign.valign=this.imagealign.align.valign;this.on_apply_imagealign();}}};_pImageViewer.on_apply_imagealign=function(){if(this._img_elem){this._updateElementPositions();}};_pImageViewer.on_apply_repeatcount=function(){};_pImageViewer.set_resampling=function(_a){};_pImageViewer.repeatStart=function(_a){this.repeatcount=parseInt(_a)|0;};_pImageViewer.repeatStop=function(){return;};_pImageViewer.getImageCount=function(){var _a=this._img_elem;if(_a){return _a.getImageCount();}return 0;};_pImageViewer.setImageIndex=function(_a){var _b=this._img_elem;if(_b){_b.setImageIndex(parseInt(_a)|0);}};_pImageViewer._on_loadImg=function(_a,_b,_c){this.imagewidth=this._prewidth=_b;this.imageheight=this._preheight=_c;this._img_load_completed(_a);};_pImageViewer._img_load_completed=function(_a,_b){var _c=this._img_elem;var _d=this.image;if(_c){if(!_d){this._img_elem.setElementVisible(false);this._img_elem.setElementImageUrl("");this._updateElementPositions();this.imagewidth=0;this.imageheight=0;if(this._text_elem){var _e=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _f=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;this._text_elem.setElementAlignXY(_e,_f);}}else{var _g=this._img_type;_d=_d.toString();if(_b==undefined){_b=true;}if(_g=="url"){if(_d.substring(0,4).toLowerCase()=="url("){_d=_d.substring(5,_d.length-2);}_d=nexacro._getImageLocation(_d,this._getRefFormBaseUrl());if(_d==_a){_c.setElementVisible(_b);_c.setElementImageUrl(_d);}else{nexacro._releaseImageUrl(_a);}}else{_c.setElementVisible(_b);_c.setElementImageBase64(_a);}this._updateElementPositions();}}_c=null;};_pImageViewer._load_image=function(_a){var _b=_a.toString();var _c=this.getElement();var _d=this.currentstyle;if(_b&&_c){var _e=this._img_elem;var _f=this._text_elem;var _g=this._img_type;if(_g=="url"){_b=nexacro._getURIValue(_b);_b=nexacro._getImageLocation(_b,this._getRefFormBaseUrl());}if(!_e){this._img_elem=_e=new nexacro.ImageElement(_c);}if(!_e._handle){_e.create();}var _h=nexacro._getImageSize(_b,this._on_loadImg,this,undefined,_a.toString());if(_h){this._prewidth=_h.width;this._preheight=_h.height;this._img_load_completed(_b);}if(_f){_c.moveToNextElement(_e,_f);}_e=null;_f=null;img_size=null;}else{if(this._img_elem){this._img_elem.setElementVisible(false);this._img_elem.setElementImageUrl("");this._updateElementPositions();this.imagewidth=0;this.imageheight=0;if(this._text_elem){var _i=_d.align.halign==""?"center":_d.align._halign;var _j=_d.align.valign==""?"middle":_d.align._valign;this._text_elem.setElementAlignXY(_i,_j);}}}_d=null;};_pImageViewer._updateElementPositions=function(){if(this.imagealign.align==null){return;}this._resizeImage();var _a=this._img_elem;if(_a){var _b=this.imagealign.align.halign;var _c=this.imagealign.align.valign;var _d=this._client_width;var _e=this._client_height;var _f,_g;var _h=this.imagewidth;var _i=this.imageheight;var _j;var _k,_l;switch(_b){case "left":_k=0;break;case "right":_j=_d-_h;_k=_j;break;default:_j=Math.floor((_d-_h)/2);_k=_j;break;}switch(_c){case "top":_l=0;textpos_y= -1;break;case "bottom":_j=_e-_i;_l=_j;break;default:_j=Math.floor((_e-_i)/2);_l=_j;break;}_k=this._convertLeftForRtlLayout(_k,_h);_a.setElementPosition(_k,_l);_a.setElementSize(_h,_i);}_a=null;};_pImageViewer._resizeImage=function(){var _a=this._img_elem;var _b=this.stretch;var _c=this.image;if(!_a||_b==null){return;}var _d=this._client_width;var _e=this._client_height;if(_b=="fit"||_c._handle_id){if(this._prewidth==0&&this._preheight==0){_a.image_width=this.imagewidth=0;_a.image_height=this.imageheight=0;}else{_a.image_width=this.imagewidth=_d;_a.image_height=this.imageheight=_e;}}else if(_b=="fixaspectratio"){var _f=0,_g=0;if(this.imagewidth==0&&this.imageheight==0){var _h=this._prewidth;var _i=this._preheight;}else{var _h=this.imagewidth=this._prewidth;var _i=this.imageheight=this._preheight;}var _j=_d/_h;var _k=_e/_i;if(_j<=_k){_f=_d;_g=Math.floor(_i*_j);}else{_f=Math.floor(_h*_k);_g=_e;}_a.image_width=this.imagewidth=_f;_a.image_height=this.imageheight=_g;}else{_a.image_width=this.imagewidth=this._prewidth;_a.image_height=this.imageheight=this._preheight;}_a.setElementSize(this.imagewidth,this.imageheight);this.stretch=_b;_b=null;_a=null;};delete _pImageViewer;_pImageViewer=null;nexacro.ImageViewerCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageViewer.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pImageViewerCtrl=nexacro.ImageViewerCtrl.prototype=nexacro._createPrototype(nexacro.ImageViewer,nexacro.ImageViewerCtrl);_pImageViewerCtrl._type_name="ImageViewerControl";nexacro._setForControlStyleFinder(_pImageViewerCtrl);delete _pImageViewerCtrl;_pImageViewerCtrl=null;}if(!nexacro.CheckBox){nexacro.CheckBoxChangedEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onchanged";this.prevalue=_c;this.postvalue=_d;this.fromobject=this.fromreferenceobject=_a;};var _pCheckBoxChangedEventInfo=nexacro._createPrototype(nexacro.ChangedEventInfo,nexacro.CheckBoxChangedEventInfo);nexacro.CheckBoxChangedEventInfo.prototype=_pCheckBoxChangedEventInfo;_pCheckBoxChangedEventInfo._type_name="CheckBoxChangedEventInfo";delete _pCheckBoxChangedEventInfo;_pCheckBoxChangedEventInfo=null;nexacro.CheckBox_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;};_pCheckBoxStyle=nexacro.CheckBox_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.CheckBox_Style);nexacro.CheckBox_Style.prototype=_pCheckBoxStyle;eval(nexacro._createAlignAttributeEvalStr("_pCheckBoxStyle","buttonalign"));eval(nexacro._createValueAttributeEvalStr("_pCheckBoxStyle","buttonimage"));eval(nexacro._createPaddingAttributeEvalStr("_pCheckBoxStyle","textpadding"));eval(nexacro._createBorderAttributeEvalStr("_pCheckBoxStyle","buttonborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pCheckBoxStyle","buttonbordertype"));eval(nexacro._createValueAttributeEvalStr("_pCheckBoxStyle","buttonsize"));eval(nexacro._createBackgroundAttributeEvalStr("_pCheckBoxStyle","buttonbackground"));eval(nexacro._createGradationAttributeEvalStr("_pCheckBoxStyle","buttongradation"));eval(nexacro._createValueAttributeEvalStr("_pCheckBoxStyle","buttonbackgroundimagemode"));_pCheckBoxStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;this.accessibility=null;};_pCheckBoxStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign&&this.buttonalign._is_empty){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonimage&&this.buttonimage._is_empty){_a+="buttonimage:"+this.buttonimage._value+"; ";}if(this.textpadding&&this.textpadding._is_empty){_a+="textpadding:"+this.textpadding._value+"; ";}if(this.buttonborder&&this.buttonborder._is_empty){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._is_empty){_a+="buttonbordertype:"+this.buttonbordertype._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.buttonbackground&&this.buttonbackground._is_empty){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._is_empty){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbackgroundimagemode&&this.buttonbackgroundimagemode._is_empty){_a+="buttonbackgroundimagemode:"+this.buttonbackgroundimagemode._value+"; ";}if(this.accessibility&&this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.CheckBox_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;};_pCheckBoxCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.CheckBox_CurrentStyle);nexacro.CheckBox_CurrentStyle.prototype=_pCheckBoxCurrentStyle;_pCheckBoxCurrentStyle.__get_custuom_style_value=_pCheckBoxStyle.__get_custuom_style_value;_pCheckBoxCurrentStyle.__custom_emptyObject=_pCheckBoxStyle.__custom_emptyObject;delete _pCheckBoxStyle;_pCheckBoxStyle=null;delete _pCheckBoxCurrentStyle;_pCheckBoxCurrentStyle=null;nexacro.CheckBox=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._text_elem=null;this.chkimg=null;this.value=false;this.binddataset=null;this.readonly=false;this.falsevalue=null;this.truevalue=null;this._value=undefined;this._apply_pushed_pseudo=true;this._event_list={"canchange":1,"onchanged":1,"onclick":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ongesture":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onrbuttondown":1,"onrbuttonup":1,"onsetfocus":1,"onsize":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._accessibility_role="checkbox";this._is_usetextbox=true;};_pCheckBox=nexacro._createPrototype(nexacro.Component,nexacro.CheckBox);nexacro.CheckBox.prototype=_pCheckBox;_pCheckBox._type_name="CheckBox";nexacro.CheckBox._default_buttonsize=nexacro._getCachedStyleObj("buttonsize",13);nexacro.CheckBox._default_textpadding=nexacro._getCachedStyleObj("padding","5 2 5 2");_pCheckBox.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_buttonalign(_a);var _d=this.on_find_CurrentStyle_buttonimage(_a);var _e=this.on_find_CurrentStyle_textpadding(_a);var _f=this.on_find_CurrentStyle_buttonborder(_a);var _g=this.on_find_CurrentStyle_buttonbordertype(_a);var _h=this.on_find_CurrentStyle_buttonsize(_a);var _i=this.on_find_CurrentStyle_buttonbackground(_a);var _j=this.on_find_CurrentStyle_buttonbackgroundimagemode(_a);var _k=this.on_find_CurrentStyle_buttongradation(_a);var _l=this.on_find_CurrentStyle_font(_a);var _m=this.on_find_CurrentStyle_letterspace(_a);var _n=this.on_find_CurrentStyle_color(_a);var _o=this.on_find_CurrentStyle_align(_a);var _p=this.on_find_CurrentStyle_accessibility(_a);if(this._apply_client_border||_c!=_b.buttonalign){_b.buttonalign=_c;this.on_apply_style_buttonalign(_c);this._apply_client_border=false;}if(_d!=_b.buttonimage){_b.buttonimage=_d;this.on_apply_style_buttonimage(_d);}if(_e!=_b.textpadding){_b.textpadding=_e;this.on_apply_style_textpadding(_e);}if(_f!=_b.buttonborder){_b.buttonborder=_f;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonborder(_f);}if(_g!=_b.buttonbordertype){_b.buttonbordertype=_g;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonbordertype(_g);}if(_h!=_b.buttonsize){_b.buttonsize=_h;this.on_apply_style_buttonsize(_h);}if(_i!=_b.buttonbackground){_b.buttonbackground=_i;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonbackground(_i);}if(_k!=_b.buttongradation){_b.buttongradation=_k;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttongradation(_k);}if(_j!=_b.buttonbackgroundimagemode){_b.buttonbackgroundimagemode=_j;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonbackgroundimagemode(_j);}if(_l!=_b.font){_b.font=_l;this.on_apply_style_font(_l);}if(_m!=_b.letterspace){_b.letterspace=_m;this.on_apply_style_letterspace(_m);}if(_n!=_b.color){_b.color=_n;this.on_apply_style_color(_n);}if(_o!=_b.align){_b.align=_o;this.on_apply_style_align(_o);}var _q=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_q!=_b.rtlimagemirroring){_b.rtlimagemirroring=_q;this.on_apply_style_rtlimagemirroring(_q);}};_pCheckBox.on_create_custom_style=function(){return new nexacro.CheckBox_Style(this);};_pCheckBox.on_create_custom_currentStyle=function(){return new nexacro.CheckBox_CurrentStyle(this);};_pCheckBox.on_find_CurrentStyle_buttonalign=function(_a){var _b=nexacro.Component._default_left_align;return this._find_pseudo_obj("buttonalign",_a,"align")||_b;};_pCheckBox.on_find_CurrentStyle_buttonimage=function(_a){return this._find_pseudo_obj("buttonimage",_a);};_pCheckBox.on_find_CurrentStyle_textpadding=function(_a){return this._find_pseudo_obj("textpadding",_a)||nexacro.CheckBox._default_textpadding;};_pCheckBox.on_find_CurrentStyle_buttonborder=function(_a){return this._find_pseudo_obj("buttonborder",_a,"border");};_pCheckBox.on_find_CurrentStyle_buttonbordertype=function(_a){return this._find_pseudo_obj("buttonbordertype",_a);};_pCheckBox.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||nexacro.CheckBox._default_buttonsize;};_pCheckBox.on_find_CurrentStyle_buttonbackground=function(_a){return this._find_pseudo_obj("buttonbackground",_a);};_pCheckBox.on_find_CurrentStyle_buttongradation=function(_a){return this._find_pseudo_obj("buttongradation",_a);};_pCheckBox.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this._find_pseudo_obj("buttonbackgroundimagemode",_a);};_pCheckBox.on_find_CurrentStyle_align=function(_a){var _b=nexacro.Component._default_left_align;return this._find_pseudo_obj("align",_a)||_b;};_pCheckBox.on_update_style_buttonalign=function(){var _a=this.currentstyle;var _b=_a.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign(_b);};_pCheckBox.on_update_style_buttonimage=function(){var _a=this.currentstyle;var _b=_a.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo);this.on_apply_style_buttonimage(_b);};_pCheckBox.on_update_style_textpadding=function(){var _a=this.currentstyle;var _b=_a.textpadding=this.on_find_CurrentStyle_textpadding(this._pseudo);this.on_apply_style_textpadding(_b);};_pCheckBox.on_update_style_buttonborder=function(){var _a=this.currentstyle;var _b=_a.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(_b);};_pCheckBox.on_update_style_buttonbordertype=function(){var _a=this.currentstyle;var _b=_a.buttonbordertype=this.on_find_CurrentStyle_buttonbordertype(this._pseudo);this.on_apply_style_buttonbordertype(_b);};_pCheckBox.on_update_style_buttonsize=function(){var _a=this.currentstyle;var _b=_a.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(_b);};_pCheckBox.on_update_style_buttonbackground=function(){var _a=this.currentstyle;var _b=_a.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(_b);};_pCheckBox.on_update_style_buttongradation=function(){var _a=this.currentstyle;var _b=_a.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(_b);};_pCheckBox.on_update_style_buttonbackgroundimagemode=function(){var _a=this.currentstyle;var _b=_a.buttonbackgroundimagemode=this.on_find_CurrentStyle_buttonbackgroundimagemode(this._pseudo);this.on_apply_style_buttonbackgroundimagemode(_b);};_pCheckBox.on_apply_style_align=function(_a){if(this._text_elem){var _b=(_a.halign==""?"center":_a._halign);var _c=(_a.valign==""?"middle":_a._valign);this._text_elem.setElementAlignXY(_b,_c);}};_pCheckBox.on_apply_style_buttonalign=function(_a){var _b=this.currentstyle;if(_b&&_b.buttonalign&&this.chkimg){var _c=_b.buttonalign;var _d=this._client_width;var _e=this._client_height;var _f=_c.toString().trim().split(" ");var _g=_f.length;var _h=0,_i=0,_j=0,_k=0;var _l=0,_m=0,_n=0,_o=0,_p=0,_q=0;var _r="";var _s=_b.buttonsize;var _t="left",_u="middle";var _v=_s?(parseInt(_s._value)|0):13;for(var _z=0;_z<_g;_z++ ){switch(_f[_z]){case "center":_t="center";break;case "right":_t="right";break;case "top":_u="top";break;case "bottom":_u="bottom";break;default:break;}}var _w=_b.textpadding;var _x,_y;if(_w){if(_w.left){_l=_w.left;}if(_w.right){_n=_w.right;}if(_w.top){_m=_w.top;}if(_w.bottom){_o=_w.bottom;}}_y=_d-_v;if(_t=="left"||_t=="center"){_l+=_v;_h=0;_j=_v;}else if(_t=="right"){_n+=_v;_j=_d;_h=_j-_v;}if(_u=="top"){_i=0;_k=_v;}else if(_u=="bottom"){_k=_e;_i=_k-_v;}else{_i=(_e-_v)/2;_k=_i+_v;}this.chkimg.move(_h,_i,_j-_h,_k-_i);if(this._text_elem){_p=_d-_n-_l;_q=_e-_o-_m;_p=(_p<0)?0:_p;_q=(_q<0)?0:_q;_l=this._convertLeftForRtlLayout(_l,_p);this._text_elem.setElementPosition(_l,_m);this._text_elem.setElementSize(_p,_q);}}};_pCheckBox.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pCheckBox.on_apply_style_padding=function(_a){var _b=this.getElement();if(_b){_b.setElementPadding(_a);}};_pCheckBox.on_apply_expr=function(){this.on_apply_text();};_pCheckBox.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pCheckBox.on_apply_style_buttonimage=function(_a){if(_a&&this._isChecked(this.value)){if(this.chkimg){this.chkimg.image=_a;this.chkimg._load_image(_a);}this.on_apply_value();}};_pCheckBox.on_apply_style_textpadding=function(_a){if(this._text_elem&&this.currentstyle.textpadding){this.on_apply_style_buttonalign(_a);}};_pCheckBox.on_apply_style_buttonborder=function(_a){if(this.chkimg){this.chkimg.currentstyle.border=_a;this.chkimg.on_update_style_border();}};_pCheckBox.on_apply_style_buttonbordertype=function(_a){if(this.chkimg){this.chkimg.currentstyle.bordertype=_a;this.chkimg.on_update_style_bordertype();}};_pCheckBox.on_apply_style_buttonsize=function(_a){this.on_apply_style_buttonalign(_a);};_pCheckBox.on_apply_style_buttongradation=function(_a){if(this.chkimg){this.chkimg.currentstyle.buttongradation=_a;this.chkimg.on_update_style_gradation();}};_pCheckBox.on_apply_style_buttonbackground=function(_a){if(this.chkimg){this.chkimg.currentstyle.buttonbackground=_a;this.chkimg.on_update_style_background();}};_pCheckBox.on_apply_style_buttonbackgroundimagemode=function(_a){};_pCheckBox.on_apply_style_cursor=function(_a){var _b=nexacro.Component.prototype.on_apply_style_cursor.call(this,_a);if(this.chkimg){this.chkimg.on_apply_style_cursor(_a);}return _b;};_pCheckBox.on_get_style_accessibility_label=function(){return this.text?this.text:"";};_pCheckBox.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;var _b=this._text_elem;if(_b){_b.setElementRtlDirection(_a);_b.setElementPosition(_b.left,_b.top,true);}if(this.chkimg){this.chkimg._setRtlDirection(_a);}};_pCheckBox.on_apply_style_rtlimagemirroring=function(_a){return;};_pCheckBox.on_create_contents=function(){var _a=this._control_element;if(_a){this.chkimg=new nexacro.CheckBoxImageCtrl("chkimg",this.position,0,0,0,0,null,null,this);this.chkimg.createComponent();var _b=this.currentstyle;if(this._is_usetextbox){var _c=new nexacro.TextBoxElement(_a);var _d=((!_b.align||_b.align.halign=="")?"center":_b.align._halign);var _e=((!_b.align||_b.align.valign=="")?"middle":_b.align._valign);_c.setElementSize(this._client_width,this._client_height);_c.setElementColor(_b.color);_c.setElementFont(_b.font);_c.setElementAlignXY(_d,_e);_c.setElementLetterSpace(_b.letterspace);this._text_elem=_c;_c=null;}if(_b.buttonimage){this.chkimg._load_image(_b.buttonimage);}}};_pCheckBox.on_created_contents=function(){if(this.chkimg){this.chkimg.on_created();var _a=this.chkimg._img_elem;if(_a){_a.create();}}if(this._text_elem){this._text_elem.create();}this.on_apply_text();if(this.expr){this.on_apply_expr();}if(this._value!==this.value){this._setValue(this.value,true,false);}this._reCalcValue();this.on_apply_style_buttonalign(this.currentstyle.buttonalign);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);this.on_apply_style_textpadding(this.currentstyle.textpadding);this.on_apply_style_rtlimagemirroring(this.currentstyle.rtlimagemirroring);this._setEventHandler("onkeyup",this.on_notify_checkbox_onkeyup,this);this.on_apply_prop_rtldirection();};_pCheckBox.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this.chkimg){this.chkimg.destroy();this.chkimg=null;}this.binddataset=null;this.falsevalue=null;this.truevalue=null;};_pCheckBox.on_change_containerRect=function(_a,_b){var _c=this._text_elem;var _d=this._pseudo;var _e=this.on_find_CurrentStyle_align(_d);if(_c){_c.setElementSize(_a,_b);this.on_apply_style_align(_e);}var _f=this.on_find_CurrentStyle_buttonalign(_d);this.on_apply_style_buttonalign(_f);};_pCheckBox.on_getBindableProperties=function(){return "value";};_pCheckBox.__getBindableProperties=function(){return "value";};_pCheckBox.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this._setValue(undefined,false,false);return true;}};_pCheckBox.on_change_bindSource=function(_a,_b,_c,_d,_e){this.binddataset=_b;if(_a=="value"){var _f=_b.getColumn(_c,_d);this._setValue(_f,false,false);return true;}return false;};_pCheckBox.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=_a;if(_a==undefined){_b=this.enable;}if(this.chkimg){this.chkimg._setEnable(_b);}};_pCheckBox.set_value=function(_a){if(this.value!=_a){if(this.truevalue||this.falsevalue){if((this.truevalue&&(this.truevalue==_a))||(!this.truevalue&&(_a=="true"||_a==true||_a==1))){_a=this.truevalue;}else{_a=this.falsevalue;}}if(this._is_created){this._setValue(_a,true,false);}else{this.value=_a;}}};_pCheckBox._image_path="";_pCheckBox.on_apply_value=function(){if(this.chkimg){if(this.isChecked()){var _a="theme://images/checked.gif";if(this.currentstyle.buttonimage){_a=this.currentstyle.buttonimage._value;}if(this._image_path!=_a){this.chkimg.set_image(_a);this.chkimg.set_imagealign("center middle");this.chkimg.on_apply_style_cursor(this.currentstyle.cursor);this._image_path=_a;}this.chkimg._img_elem.setElementVisible(true);}else{this.chkimg._img_elem.setElementVisible(false);}}};_pCheckBox.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pCheckBox.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pCheckBox.set_text=function(_a){var _b=_a;if(_a===undefined||_a===null){_b="";}else{_b=_a.toString();}if(_b!=this.text){this.text=_b;this.on_apply_text();}return this.text;};_pCheckBox.on_apply_text=function(){if(this._text_elem){var _a=this.expr;if(_a&&_a.length>0){_a=_a.trim().split(":");var _b=_a.length;var _c=new nexacro.ExprParser();var _d,_e;var _f;if(_b==1){_f=_a[0];}else{if(_a[0].trim().toUpperCase()!="EXPR"){_f=_a.join(":");}else{_f=_a.slice(1).join(":");}}_d=_c.makeExpr(this,_f);_c=null;_e=nexacro._createInlineFunc(_d,["comp"]);if(_e){try{var _g=nexacro._toString(_e.call(null,this));if(_g!=this.displaytext){this.displaytext=_g;}}catch(e){_c=null;return;}}_c=null;}else{this.displaytext=this.text;}this._text_elem.setElementText(this.displaytext);this._refreshAccessibilityValue();}};_pCheckBox.set_truevalue=function(_a){if(this.truevalue!=_a){if(this.value==true||this.value=="true"||this.value==1){this.value=this._value=_a;}if(this._is_created&&this.isChecked()){this.value=this._value=_a;}this.truevalue=_a;this._reCalcValue();return this.truevalue;}};_pCheckBox.set_falsevalue=function(_a){if(this.falsevalue!=_a){if(this.value==false||this.value=="false"||this.value==0){this.value=this._value=_a;}if(this._is_created&&!this.isChecked()){this.value=this._value=_a;}this.falsevalue=_a;this._reCalcValue();return this.falsevalue;}};_pCheckBox.isChecked=function(){return this._isChecked(this._value);};_pCheckBox.updateToDataset=function(){if(!this._bind_event){return false;}return this.applyto_bindSource("value",this._value);};_pCheckBox.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this.enable){return false;}if(this.readonly==false){if(this._isChecked(this._value)){if(this.falsevalue!=undefined&&this.falsevalue!=""){this._setValue(this.falsevalue,true);}else{this._setValue(false,true);}}else{if(this.truevalue!=undefined&&this.truevalue!=""){this._setValue(this.truevalue,true);}else{this._setValue(true,true);}}}if(this.onclick&&this.onclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onclick._fireEvent(this,_m);}return false;};_pCheckBox.on_fire_onsize=function(_a,_b){this.on_update_style_buttonalign();return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pCheckBox.on_fire_onchanged=function(_a,_b,_c){if(this.onchanged&&this.onchanged._has_handlers){var _d=new nexacro.CheckBoxChangedEventInfo(this,"onchanged",_b,_c);return this.onchanged._fireEvent(this,_d);}return false;};_pCheckBox.on_fire_canchange=function(_a,_b,_c){if(this.canchange&&this.canchange._has_handlers){var _d=new nexacro.CheckBoxChangedEventInfo(this,"canchange",_b,_c);return this.canchange._fireEvent(this,_d);}return true;};_pCheckBox.on_notify_checkbox_onkeyup=function(_a,_b){if(_b.keycode==nexacro.Event.KEY_SPACE){this.on_fire_onclick("",_b.altKey,_b.ctrlKey,_b.shiftKey, -1, -1, -1, -1, -1, -1,this.parent,this);}};_pCheckBox._on_hotkey=function(_a,_b,_c,_d){this.on_fire_onclick("",_b,_c,_d, -1, -1, -1, -1, -1, -1,this.parent,this);};_pCheckBox._setValue=function(_a,_b,_c){var _d;if(this.isChecked()==this._isChecked(_a)){return this._value;}if(_c!==false){_d=this.on_fire_canchange(this,this._value,_a);}if(_d||_d===undefined){var _e=this._value;this.value=this._value=_a;this._reCalcValue();this._setAccessibilityStatChecked(this.isChecked());if(_e!==this._value){if(_c!==false){this.on_fire_onchanged(this,_e,this._value);}}if(_b==true){var _f=this.applyto_bindSource("value",_a);if(_f==false){this.value=this._value=_e;this._reCalcValue();}}}return this._value;};_pCheckBox._isChecked=function(_a){if(this.truevalue!=null){if(this.falsevalue!=null){if(_a==this.falsevalue||_a===undefined){return false;}if(_a==this.truevalue||nexacro._toBoolean(_a)){return true;}return false;}else{if(_a==this.truevalue||nexacro._toBoolean(_a)){return true;}else{return false;}}}else{if(this.falsevalue!=null){if(_a==this.falsevalue){return false;}else{return true;}}else{return nexacro._toBoolean(_a);}}};_pCheckBox._verticalalign=function(_a){};_pCheckBox._reCalcValue=function(){if(!this._control_element){return;}if(this.isChecked()){if(!this.truevalue){if(parseInt(this._value)!=1){this.value=this._value=true;}else{this.value=this._value=1;}}}else{if(!this.falsevalue){if(parseInt(this._value)!=0){this.value=this._value=false;}else{this.value=this._value=0;}}}var _a=this.value;if(this.truevalue||this.falsevalue){_a+="";}if((this.truevalue!==null&&this.falsevalue===null&&this.truevalue!=_a)||(this.truevalue===null&&this.falsevalue===null)){this.value=nexacro._toBoolean(_a);}else{this.value=_a;}if(this.truevalue||this.falsevalue){if((this.truevalue&&this.truevalue!=_a)||(!this.truevalue&&(_a!="true"&&_a!=true&&_a!=1))){_a=this.falsevalue;}this.value=_a;}this._setAccessibilityStatChecked(this.isChecked());this.on_apply_value();};delete _pCheckBox;nexacro.CheckBoxCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CheckBox.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};_pCheckBoxCtrl=nexacro._createPrototype(nexacro.CheckBox,nexacro.CheckBoxCtrl);nexacro.CheckBoxCtrl.prototype=_pCheckBoxCtrl;_pCheckBoxCtrl._type_name="CheckBoxControl";nexacro._setForControlStyleFinder(_pCheckBoxCtrl);delete _pCheckBoxCtrl;nexacro.CheckBoxImageCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageViewerCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pCheckBoxImageCtrl=nexacro._createPrototype(nexacro.ImageViewerCtrl,nexacro.CheckBoxImageCtrl);nexacro.CheckBoxImageCtrl.prototype=_pCheckBoxImageCtrl;nexacro.CheckBoxImageCtrl._default_rtlimagemirroring=nexacro._getCachedStyleObj("rtlimagemirroring","true");_pCheckBoxImageCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_buttonbackground(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this.parent.on_find_CurrentStyle_buttonbackgroundimagemode(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_image=function(_a){return this.parent.on_find_CurrentStyle_buttonimage(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_buttonborder(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_buttonbordertype(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_buttongradation(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){var _b=this.parent.on_find_CurrentStyle_rtlimagemirroring(_a);return _b?_b:nexacro.CheckBoxImageCtrl._default_rtlimagemirroring;};_pCheckBoxImageCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,this);};_pCheckBoxImageCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,this);};_pCheckBoxImageCtrl._img_load_completed=function(_a){return nexacro.ImageViewerCtrl.prototype._img_load_completed.call(this,_a,(this.parent)?this.parent.isChecked():null);};delete _pCheckBoxImageCtrl;};if(!nexacro.RadioClickEventInfo){nexacro.RadioClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.ClickEventInfo.call(this,_a,_b||"onradioclick",_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.index=_c;this.itemtext=_d;this.itemvalue=_e;};var _pRadioClickEventInfo=nexacro._createPrototype(nexacro.ClickEventInfo,nexacro.RadioClickEventInfo);nexacro.RadioClickEventInfo.prototype=_pRadioClickEventInfo;_pRadioClickEventInfo._type_name="RadioClickEventInfo";delete _pRadioClickEventInfo;}if(!nexacro.Radio){nexacro.Radio_Style=function(_a){nexacro.Style.call(this);this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.textpadding=null;if(_a){this._target=_a;}};var _pRadioStyle=nexacro._createPrototype(nexacro.Style,nexacro.Radio_Style);nexacro.Radio_Style.prototype=_pRadioStyle;eval(nexacro._createAlignAttributeEvalStr("_pRadioStyle","buttonalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pRadioStyle","buttonbackground"));eval(nexacro._createValueAttributeEvalStr("_pRadioStyle","buttonbackgroundimagemode"));eval(nexacro._createBorderAttributeEvalStr("_pRadioStyle","buttonborder"));eval(nexacro._createColorAttributeEvalStr("_pRadioStyle","buttoncolor"));eval(nexacro._createGradationAttributeEvalStr("_pRadioStyle","buttongradation"));eval(nexacro._createValueAttributeEvalStr("_pRadioStyle","buttonimage"));eval(nexacro._createValueAttributeEvalStr("_pRadioStyle","buttonsize"));eval(nexacro._createBackgroundAttributeEvalStr("_pRadioStyle","itembackground"));eval(nexacro._createBorderAttributeEvalStr("_pRadioStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pRadioStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pRadioStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pRadioStyle","itempadding"));eval(nexacro._createPaddingAttributeEvalStr("_pRadioStyle","textpadding"));eval(nexacro._createAccessibilityAttributeEvalStr("_pRadioStyle","accessibility"));eval(nexacro._createAccessibilityAttributeEvalStr("_pRadioStyle","itemaccessibility"));_pRadioStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.textpadding=null;this.accessibility=null;this.itemaccessibility=null;};_pRadioStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign&&this.buttonalign._is_empty){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonimage&&this.buttonimage._is_empty){_a+="buttonimage:"+this.buttonimage._value+"; ";}if(this.textpadding&&this.textpadding._is_empty){_a+="textpadding:"+this.textpadding._value+"; ";}if(this.buttonborder&&this.buttonborder._is_empty){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttoncolor&&this.buttoncolor._is_empty){_a+="buttoncolor:"+this.buttoncolor._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.buttonbackground&&this.buttonbackground._is_empty){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._is_empty){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbackgroundimagemode&&this.buttonbackgroundimagemode._is_empty){_a+="buttonbackgroundimagemode:"+this.buttonbackgroundimagemode._value+"; ";}if(this.itembackground&&this.itembackground._is_empty){_a+="itembackground:"+this.itembackground._value+"; ";}if(this.itemborder&&this.itemborder._is_empty){_a+="itemborder:"+this.itemborder._value+"; ";}if(this.itembordertype&&this.itembordertype._is_empty){_a+="itembordertype:"+this.itembordertype._value+"; ";}if(this.itemgradation&&this.itemgradation._is_empty){_a+="itemgradation:"+this.itemgradation._value+"; ";}if(this.itempadding&&this.itempadding._is_empty){_a+="itempadding:"+this.itempadding._value+"; ";}if(this.accessibility&&this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}if(this.itemaccessibility&&this.itemaccessibility._is_empty){_a+="itemaccessibility:"+this.itemaccessibility._value+"; ";}return _a;};_pRadioStyle.setStyleValue=function(_a,_b,_c){var _d=nexacro.Style.prototype.setStyleValue.call(this,_a,_b,_c);if(!_d){if(_a=="buttonsize"&&_b!="normal"){_d=this._setCustomPseudoStyle(_a,_b,_c);}}return _d;};_pRadioStyle._setCustomPseudoStyle=function(_a,_b,_c){var _d=null;var _e=this._target;if(!_e){return false;}if(_e._styles[_b]){_d=_e._styles[_b][_a]=nexacro._getCachedStyleObj(_a,_c);}else{var _f=_e.on_create_custom_style();_d=_f[_a]=nexacro._getCachedStyleObj(_a,_c);_e._styles[_b]=_f;}if(!_d){return false;}return true;};nexacro.Radio_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttoncolor=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;};var _pRadioCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Radio_CurrentStyle);nexacro.Radio_CurrentStyle.prototype=_pRadioCurrentStyle;_pRadioCurrentStyle.__get_custom_style_value=_pRadioStyle.__get_custom_style_value;_pRadioCurrentStyle.__custom_emptyObject=_pRadioStyle.__custom_emptyObject;delete _pRadioStyle;delete _pRadioCurrentStyle;nexacro.Radio=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.pre_index= -1;this.pre_text;this.pre_value;this.datacolumn="";this.value=undefined;this.index= -1;this.index_init= -1;this.codecolumn="";this.readonly=false;this.innerdataset=null;this.columncount=0;this.rowcount=0;this.direction="horizontal";this._lbuttondown_idx= -1;this._mouseover_idx= -1;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondrop":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onitemclick":1,"onitemchanged":1,"canitemchange":1,"onmousedown":1,"onmouseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._apply_pushed_pseudo=true;this._do_apply_val=true;this._accessibility_role="radio";this._want_tab=true;this._want_arrow=false;this._is_first_focus=false;this._is_tab_focus=false;this._accessibility_index= -1;this._items=[];this._exprcache={};this._init_value=undefined;};var _pRadio=nexacro._createPrototype(nexacro.Component,nexacro.Radio);nexacro.Radio.prototype=_pRadio;_pRadio._type_name="Radio";_pRadio.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_buttonalign(_a);var _d=this.on_find_CurrentStyle_buttonbackground(_a);var _e=this.on_find_CurrentStyle_buttonbackgroundimagemode(_a);var _f=this.on_find_CurrentStyle_buttonborder(_a);var _g=this.on_find_CurrentStyle_buttoncolor(_a);var _h=this.on_find_CurrentStyle_buttongradation(_a);var _i=this.on_find_CurrentStyle_buttonimage(_a);var _j=this.on_find_CurrentStyle_buttonsize(_a);var _k=this.on_find_CurrentStyle_itembackground(_a);var _l=this.on_find_CurrentStyle_itemborder(_a);var _m=this.on_find_CurrentStyle_itembordertype(_a);var _n=this.on_find_CurrentStyle_itemgradation(_a);var _o=this.on_find_CurrentStyle_itempadding(_a);var _p=this.on_find_CurrentStyle_textpadding(_a);var _q=this.on_find_CurrentStyle_font(_a);var _r=this.on_find_CurrentStyle_letterspace(_a);var _s=this.on_find_CurrentStyle_color(_a);var _t=this.on_find_CurrentStyle_align(_a);var _u=this.on_find_CurrentStyle_accessibility(_a);var _v=this.on_find_CurrentStyle_itemaccessibility(_a);if(_b.font!=_q){_b.font=_q;this.on_apply_style_font(_b.font);}if(_b.letterspace!=_r){_b.letterspace=_r;this.on_apply_style_letterspace(_b.letterspace);}if(_b.color!=_s){_b.color=_s;this.on_apply_style_color(_b.color);}if(_b.align!=_t){_b.align=_t;this.on_apply_style_align(_b.align);}if(_c!=_b.buttonalign){_b.buttonalign=_c;}if(_d!=_b.buttonbackground){_b.buttonbackground=_d;}if(_e!=_b.buttonbackgroundimagemode){_b.buttonbackgroundimagemode=_e;}if(_f!=_b.buttonborder){_b.buttonborder=_f;}if(_g!=_b.buttoncolor){_b.buttoncolor=_g;}if(_h!=_b.buttongradation){_b.buttongradation=_h;}if(_i!=_b.buttonimage){_b.buttonimage=_i;}if(_j!=_b.buttonsize){_b.buttonsize=_j;}if(_k!=_b.itembackground){_b.itembackground=_k;}if(_l!=_b.itemborder){_b.itemborder=_l;}if(_m!=_b.itembordertype){_b.itembordertype=_m;}if(_n!=_b.itemgradation){_b.itemgradation=_n;}if(_o!=_b.itempadding){_b.itempadding=_o;}if(_p!=_b.textpadding){_b.textpadding=_p;this.on_apply_style_textpadding(_b.textpadding);}if(_u!=_b.accessibility){_b.accessibility=_u;this.on_update_style_accessibility();}if(_v!=_b.itemaccessibility){this.currentstyle.itemaccessibility=_v;this.on_apply_style_itemaccessibility(_v);}var _w=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_w!=_b.rtlimagemirroring){_b.rtlimagemirroring=_w;this.on_apply_style_rtlimagemirroring(_w);}};_pRadio.on_create_custom_style=function(){return new nexacro.Radio_Style(this);};_pRadio.on_create_custom_currentStyle=function(){return new nexacro.Radio_CurrentStyle();};_pRadio.on_find_CurrentStyle_buttonalign=function(_a){return this._find_pseudo_obj("buttonalign",_a,"align");};_pRadio.on_find_CurrentStyle_buttonbackground=function(_a){return this._find_pseudo_obj("buttonbackground",_a,"background");};_pRadio.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this._find_pseudo_obj("buttonbackgroundimagemode",_a);};_pRadio.on_find_CurrentStyle_buttonborder=function(_a){return this._find_pseudo_obj("buttonborder",_a,"border");};_pRadio.on_find_CurrentStyle_buttoncolor=function(_a){return this._find_pseudo_obj("buttoncolor",_a,"color");};_pRadio.on_find_CurrentStyle_buttongradation=function(_a){return this._find_pseudo_obj("buttongradation",_a,"gradation");};_pRadio.on_find_CurrentStyle_buttonimage=function(_a){return this._find_pseudo_obj("buttonimage",_a);};_pRadio.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a);};_pRadio.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pRadio.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pRadio.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pRadio.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pRadio.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding");};_pRadio.on_find_CurrentStyle_itemaccessibility=function(_a){var _b=this._find_pseudo_obj("itemaccessibility",_a,"accessibility");return _b?_b:nexacro.Component._default_accessibility;};_pRadio.on_find_CurrentStyle_textpadding=function(_a){return this._find_pseudo_obj("textpadding",_a,"padding");};_pRadio.on_update_style_buttonalign=function(){this.currentstyle.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign(this.currentstyle.buttonalign);};_pRadio.on_update_style_buttonimage=function(){this.currentstyle.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);};_pRadio.on_update_style_textpadding=function(){this.currentstyle.textpadding=this.on_find_CurrentStyle_textpadding(this._pseudo);this.on_apply_style_textpadding(this.currentstyle.textpadding);};_pRadio.on_update_style_buttonborder=function(){this.currentstyle.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(this.currentstyle.buttonborder);};_pRadio.on_update_style_buttoncolor=function(){this.currentstyle.buttoncolor=this.on_find_CurrentStyle_buttoncolor(this._pseudo);this.on_apply_style_buttoncolor(this.currentstyle.buttoncolor);};_pRadio.on_update_style_buttonsize=function(){this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(this.currentstyle.buttonsize);};_pRadio.on_update_style_buttonbackground=function(){this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);};_pRadio.on_update_style_buttongradation=function(){this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(this.currentstyle.buttongradation);};_pRadio.on_update_style_buttonbackgroundimagemode=function(){this.currentstyle.buttonbackgroundimagemode=this.on_find_CurrentStyle_buttonbackgroundimagemode(this._pseudo);this.on_apply_style_buttonbackgroundimagemode(this.currentstyle.buttonbackgroundimagemode);};_pRadio.on_update_style_itembackground=function(){this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo);this.on_apply_style_itembackground(this.currentstyle.itembackground);};_pRadio.on_update_style_itemborder=function(){this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo);this.on_apply_style_itemborder(this.currentstyle.itemborder);};_pRadio.on_update_style_itembordertype=function(){this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo);this.on_apply_style_itembordertype(this.currentstyle.itembordertype);};_pRadio.on_update_style_itemgradation=function(){this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo);this.on_apply_style_itemgradation(this.currentstyle.itemgradation);};_pRadio.on_update_style_itempadding=function(){this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo);this.on_apply_style_itempadding(this.currentstyle.itempadding);};_pRadio.on_update_style_itemaccessibility=function(){this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo);this.on_apply_style_itemaccessibility(this._make_accessibility_value(this.currentstyle.itemaccessibility));};_pRadio._search_style_obj=function(_a,_b,_c){if(_a&&_a._bindtype!=0){return nexacro._getValueForStyleBindExpr(this,_a,_b,_c);}else{return _a;}};_pRadio.on_apply_style_align=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_align(_a);}}};_pRadio.on_apply_style_color=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"color",_d);_b[_d].on_apply_style_color(_a);}}};_pRadio.on_apply_style_font=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"font",_d);_b[_d].on_apply_style_font(_a);}}};_pRadio.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._items;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e].on_apply_style_cursor(_a);}}}};_pRadio.on_apply_style_buttonalign=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonalign();}}};_pRadio.on_apply_style_buttonbackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonbackground(_a);}}};_pRadio.on_apply_style_buttonbackgroundimagemode=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonbackgroundimagemode(_a);}}};_pRadio.on_apply_style_buttonborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonborder(_a);}}};_pRadio.on_apply_style_buttoncolor=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttoncolor(_a);}}};_pRadio.on_apply_style_buttongradation=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttongradation(_a);}}};_pRadio.on_apply_style_buttonimage=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonimage(_a);}}};_pRadio.on_apply_style_buttonsize=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonsize(_a);}}};_pRadio.on_apply_style_textpadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_textpadding(_a);}}};_pRadio.on_apply_style_itembackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"background",_d);_b[_d].on_apply_style_background(_a);}}};_pRadio.on_apply_style_itemborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"border",_d);_b[_d].on_apply_style_border(_a);}}};_pRadio.on_apply_style_itembordertype=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"bordertype",_d);_b[_d].on_apply_style_bordertype(_a);}}};_pRadio.on_apply_style_itemgradation=function(_a){var _b=_a;var _c=this._items;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_b=this._search_style_obj(_a,"gradation",_e);_c[_e].on_apply_style_gradation(_b);}}delete _b,_c;};_pRadio.on_apply_style_itempadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"padding",_d);_b[_d].on_apply_style_padding(_a);}}};_pRadio.on_apply_style_accessibility=function(_a){if(_a){var _b=this.getElement();if(_b){_b.setAccessibility(_a);}}};_pRadio.on_apply_style_itemaccessibility=function(_a){var _b=this._items;this.currentstyle.itemaccessibility=_a;if(_b){var _c=_b.length;for(var _e=0;_e<_c;_e++ ){if(_a){var _d=this._search_style_obj(_a,"accessibility",_e);if(_d){_b[_e].style.set_accessibility(_d._value);}}}}};_pRadio.on_apply_style_letterspace=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"letterspace",_d);_b[_d].on_apply_style_letterspace(_a);}}};_pRadio.on_apply_style_rtlimagemirroring=function(_a){return;};_pRadio.on_create_contents=function(){var _a=this.getElement();if(_a){if(!this.innerdataset){var _b=new nexacro.TextBoxElement(_a);this._text_elem=_b;var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(this.currentstyle.font);_b.setElementColor(this.currentstyle.color);_b.setElementAlignXY(_c,_d);_b.setElementLetterSpace(this.currentstyle.letterspace);}}};_pRadio.on_created_contents=function(){var _a=this.getElement();if(_a){this.value=this._init_value;var _b=this._innerdataset;var _c=this.datacolumn==""?this.codecolumn:this.datacolumn;var _d=this.codecolumn;var _e="";var _f="";var _g=null;if(_b){var _h=_b.getRowCount();var _i=false;if(_h>0){for(var _k=0;_k<_h;_k++ ){_e=_b.getColumn(_k,_c);_f=_b.getColumn(_k,_d);_g=new nexacro.RadioItemCtrl("item","absolute",0,0,0,0,null,null,this);_g.set_text(_e);_g.set_code(_f);_g.set_index(_k);if(_f){if(_f==this.value&&_i==false){_g.set_value(true);_i=true;}}_g.createComponent();if(nexacro._enableaccessibility){_g._setAccessibilityInfoCount(_h);_g._setAccessibilityInfoIndex(_k);}_g._setEventHandler("onclick",this.on_notify_item_onclick,this);this._items[_k]=_g;}this._update_radioitem();}if(this.index_init> -1&&this.index<0&&this.value===undefined){this.index=this.index_init;}this.on_apply_index(this.pre_index,this.index,false);}else{var _j=this._text_elem;if(_j){_j.create();this.on_apply_text();}}this.on_apply_readonly(this.readonly);this.on_apply_value(true);if(this.value!==undefined&&this.value!=null){this.applyto_bindSource("value",this.value);}if(nexacro._enableaccessibility){this._want_arrow=nexacro._enableaccessibility;this.on_update_style_accessibility();this._refreshAccessibilityValue();}this.on_apply_style_color(this.currentstyle.color);this.on_apply_style_font(this.currentstyle.font);this.on_apply_style_align(this.currentstyle.align);this.on_apply_style_cursor(this.currentstyle.cursor);this.on_apply_style_buttonalign(this.currentstyle.buttonalign);this.on_apply_style_itemgradation(this.currentstyle.itemgradation);this.on_apply_style_letterspace(this.currentstyle.letterspace);this._setEventHandler("onkeydown",this.on_notify_radio_onkeydown,this);this.on_apply_prop_rtldirection();}};_pRadio.on_destroy_contents=function(){var _a=this._items;var _b=_a.length;var _c=this._text_elem;if(_c){_c.destroy();this._text_elem=null;}for(var _d=0;_d<_b;_d++ ){_a[_d].destroy();_a[_d]=null;}this._items=null;if(this._innerdataset){this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);this._innerdataset=null;}this._exprcache=null;this._lbuttondown_idx= -1;this._mouseover_idx= -1;};_pRadio.on_change_containerRect=function(_a,_b){this._update_radioitem();};_pRadio.on_getBindableProperties=function(){return "value";};_pRadio.on_apply_prop_enable=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setEnable(_a);}}};_pRadio.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this.value=undefined;var _d=this._getItem(this.index);var _e=this._getItem( -1);this.index= -1;if(_d){_d.set_value(false);}if(_e){_e.set_value(true);this.text=_e.text;}return true;}};_pRadio.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){if(!this._is_created&&!this._is_created_contents){this._init_value=undefined;}var _f=_b.getColumn(_c,_d);this.value=_f;this._init_value=_f;var _g=this._innerdataset;if(!_g){return true;}var _h=this.codecolumn;var _i=_g.findRow(_h,_f);var _j=this._getItem(this.index);var _k=this._getItem(_i);this.index=_i;if(_j){_j.set_value(false);}if(_k){_k.set_value(true);this.text=_k.text;}return true;}return false;};_pRadio.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._items;var _h=this._accessibility_index;var _i=this.index;var _j=_g.length;if(_a==nexacro.Event.KEY_TAB){if(_d){if(_h<0){this._want_tab=false;}else{var _k=this._last_focused;this._do_defocus(_k,true);if(_k&&_k._selected){_k._stat_change("select","selected");}this._on_focus(true);this._accessibility_index= -1;}}else{this._want_tab=false;}this._getWindow()._keydown_element._event_stop=true;}else if(nexacro._enableaccessibility&&_a==nexacro.Event.KEY_SPACE){if(!this.readonly){if(this._accessibility_index> -1){_g[this._accessibility_index]._stat_change("notfocus","normal");this.set_index(this._accessibility_index);}}}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pRadio.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;var _e=this._items;if(_e&&_e.length>0){if(_a>0){this._accessibility_index++ ;}else{this._accessibility_index-- ;}if(_e[this._accessibility_index]){_d=true;_e[this._accessibility_index]._setAccessibilityNotifyEvent();}}return _d;};_pRadio._setAccessibilityNotifyEvent=function(_a){var _b=this._items;if(_b&&_b.length>0){var _c=null;if(this._accessibility_index<0||this._accessibility_index>=_b.length){if(_a==undefined){_a=1;}if(_a>0){this._accessibility_index=0;}else{this._accessibility_index=_b.length-1;}}_c=_b[this._accessibility_index];if(_c){return _c._setAccessibilityNotifyEvent();}}else{return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);}};_pRadio._setAccessibilityInfoByHover=function(_a){if(_a){if(_a.parent instanceof nexacro.RadioItemCtrl){_a=_a.parent;}this._accessibility_index=_a.index;return _a._setAccessibilityNotifyEvent();}else{return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this);}};_pRadio._getDlgCode=function(_a,_b,_c,_d){var _e=false;if(_a&&(_a==nexacro.Event.KEY_TAB)){_e=false;}else{var _f=this._getPreCalculateWantArrow(_a);}if(this._is_first_focus){this._is_first_focus=false;this._is_tab_focus=false;}this._want_arrow=nexacro._enableaccessibility;this._want_tab=true;return {want_tab:_e,want_return:false,want_escape:false,want_chars:false,want_arrows:_f};};_pRadio._setFocus=function(_a,_b){this._focus_direction=_b;var _c=this.setFocus(_a);this._focus_direction= -1;return _c;};_pRadio._on_focus=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._focus_direction;if(_b=="tabkey"){_h=0;}else if(_b=="shifttabkey"){_h=1;}else if(_b=="downkey"){_h=2;}else if(_b=="upkey"){_h=3;}if(_a==false){this._focus_direction= -1;}if(_h>=0){_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(_a==false){this._accessibility_index= -1;if(_h<2){var _i=this._items;if(_i&&_i.length>0){var _j;this._is_tab_focus=true;this._is_first_focus=true;if(this.index> -1){this._accessibility_index=this.index;_j=_i[this._accessibility_index];_j._on_focus(true);_j._stat_change("select","selected");}else{if(_h==0){this._accessibility_index=0;}else{this._accessibility_index=_i.length-1;}_j=_i[this._accessibility_index];_j._on_focus(true);}}}else if(nexacro._enableaccessibility){if(!this.readonly){if(_h==2){if(!this._isAccessibilityEnable()){var _i=this._items;this._is_first_focus=true;if(this.index> -1){_j=_i[this._accessibility_index=this.index];this.set_index(this._accessibility_index);_j._on_focus(true);}else if(_i.length>0){var _k=this._getNextAccessibilityOrderIndex(1);if(_k> -1){this.set_index(_k);this._accessibility_index=_k;var _j=_i[_k];_j._on_focus(true);}}_j._stat_change("select","selected");}}else if(_h==3){if(!this._isAccessibilityEnable()){var _i=this._items;this._is_first_focus=true;if(this.index> -1){_j=_i[this._accessibility_index=this.index];this.set_index(this._accessibility_index);_j._on_focus(true);}else if(_i.length>0){var _k=this._getNextAccessibilityOrderIndex(1);if(_k> -1){this.set_index(_k);this._accessibility_index=_k;var _j=_i[_k];_j._on_focus(true);}}_j._stat_change("select","selected");}}}}}}else{_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);}return _g;};_pRadio._on_getAccessibilityAdditionalLabel=function(){if(!this._is_first_focus){var _a=0;var _b=this._items;if(_b){_a=_b.length;}return (this.index+1)+" "+_a;}return "";};_pRadio._on_getAccessibilityAdditionalRole=function(){var _a="";if(!this._is_first_focus&&this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="radio"){_a=" radio";}return _a;};_pRadio.on_get_style_accessibility_label=function(){var _a="";if(!this._is_first_focus){_a=this.text?this.text:this.value;}return _a;};_pRadio._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){var _c=this.getElement();var _d=this._items;if(_c&&_d.length<=0){_b="static";}}return _b;};_pRadio.on_mousemove_basic_action=function(){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else{if(!nexacro.isTouchInteraction){if(!this._isSelected()){this._stat_change("","mouseover");}this._control_pseudo="";this.on_apply_pseudo(this._pseudo);if(this._dragging_cursor){this._dragging_cursor=null;var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this._updateCursor(_a);}}}};_pRadio.set_text=nexacro._emptyFn;_pRadio.on_apply_text=function(){var _a=this._control_element;var _b=this._text_elem;if(_a){if(!this.innerdataset){if(this._text_elem){_b.setElementText(this.id);}}else{if(this._text_elem){_b.setElementText("");}}this._redraw_radioitem();}};_pRadio.set_value=function(_a){if(_a!=this.value){if(_a==undefined||_a==null){_a="";}else{_a=_a.toString();}}var _b=this.index;var _c=this.value;this._setValue(_a,false);var _d=this.index;var _e=_a;if(this.applyto_bindSource("value",_a)==false){var _f=this._getItem(_d);var _g=this._getItem(_b);if(_f){_f.set_value(false);}if(_g){_g.set_value(true);}this.index=_b;this.value=_c;}};_pRadio.on_apply_value=function(_a){var _b=this._innerdataset;if(!_b){return;}var _c=this.codecolumn;var _d=this.datacolumn;if(!_c&&!_d){return;}if(this.value!==undefined&&this.value!=null){var _e=_b.findRow(_c,this.value);if(_a!=true){if(this.index!=_e){this._setIndex(_e,true);}}}if(_a!=true){if(this.value==undefined||this.value===null){this._setIndex( -1,true);}}};_pRadio.set_index=function(_a){if(!this.value||this.getElement()){this._setIndex(_a,false);}};_pRadio.on_apply_index=function(_a,_b,_c){var _d=this._innerdataset;if(!_d){return;}var _e=this.codecolumn;var _f=this.datacolumn;if(!_e&&!_f){return;}var _g,_h,_i;if(_b>=0){_g=_d.getColumn(_b,_e);if(this.value!=_g){if(this.applyto_bindSource("value",_g)===false){_i=this._getItem(_b);if(_i){_i.set_value(false);_i._stat_change("notselect","normal");}_h=this._getItem(this.index);if(_h){_h.set_value(true);this.text=_h.text;_h._stat_change("select","selected");}this._do_apply_val=false;return;}this._setValue(_g,true);}}if(_c!=true){if(this.index==undefined){this._setValue(undefined,true);}}if(_b<0){var _j;for(var _m=0,_n=this._items.length;_m<_n;_m++ ){_j=this._getItem(_m);if(_j){_j.set_value(false);_j._stat_change("notselect","normal");}}_g=undefined;if(this.applyto_bindSource("value",_g)===false){_h=this._getItem(this.index);if(_h){_h.set_value(true);this.text=_h.text;_h._stat_change("select","selected");}this._do_apply_val=false;return;}this._setValue(_g,true);}var _k=this._getItem(_a);if(_k){_k.set_value(false);_k._stat_change("notselect","normal");}var _l=this._getItem(_b);if(_l){_l.set_value(true);this.text=_l.text;_l._stat_change("select","selected");}else{this.text="";}};_pRadio.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pRadio.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _b=null;var _c=this._items;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_b=this._getItem(_e);_b.set_readonly(_a);}};_pRadio.set_datacolumn=function(_a){this.datacolumn=_a;this.on_apply_datacolumn();};_pRadio.on_apply_datacolumn=function(){var _a=this.datacolumn==""?this.codecolumn:this.datacolumn;var _b;var _c=this._innerdataset;if(!_c){return;}var _d=this._items;var _e=_d.length;if(this._creating==false){this._create_radioitem();}for(var _f=0;_f<_e;_f++ ){_b=_c.getColumn(_f,_a);if(_b){_d[_f].set_text(_b);if(_f==this.index){this.text=_b;}}else{_d[_f].set_text("");this.text="";}}};_pRadio.set_codecolumn=function(_a){this.codecolumn=_a;this.on_apply_codecolumn();};_pRadio.on_apply_codecolumn=function(){var _a=this.codecolumn;var _b;var _c=this._innerdataset;if(!_c){return;}var _d=this._items;var _e=_d.length;if(this._creating==false){this._create_radioitem();}for(var _f=0;_f<_e;_f++ ){_b=_c.getColumn(_f,_a);if(_b){_d[_f].set_code(_b);}}this.on_apply_value(false);this.set_index(this.index);if(this.datacolumn==""&&this._control_element){this.on_apply_datacolumn();}};_pRadio.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pRadio._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pRadio.getInnerDataset=function(){return this._innerdataset;};_pRadio.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pRadio.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){_a._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_a._setEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);}else{var _b=this._text_elem;if(!_b&&this._control_element){_b=new nexacro.TextBoxElement(this._control_element);this._text_elem=_b;var _c=this.currentstyle;var _d=(_c.align.halign==""?"center":_c.align._halign);var _e=(_c.align.valign==""?"middle":_c.align._valign);_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlignXY(_d,_e);_b.setElementLetterSpace(_c.letterspace);_b.create();}}this.on_apply_text();};_pRadio.set_columncount=function(_a){if(_a!=this.columncount){this.columncount=_a;this.on_apply_columncount();}};_pRadio.on_apply_columncount=function(){this._update_radioitem();};_pRadio.set_rowcount=function(_a){if(_a!=this.rowcount){this.rowcount=_a;this.on_apply_rowcount();}};_pRadio.on_apply_rowcount=function(){this._update_radioitem();};_pRadio.set_direction=function(_a){if(_a!=this.direction){if(_a.toString()==""){_a="horizontal";}this.direction=_a;this.on_apply_direction();}};_pRadio.on_apply_direction=function(){this._update_radioitem();};_pRadio.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;if(this._text_elem){this._text_elem.setElementRtlDirection(_a);}var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setRtlDirection(_a);}};_pRadio.getCount=function(){var _a=this._items.length;return _a;};_pRadio.updateToDataset=function(){if(!this._bind_event){return false;}var _a=this.applyto_bindSource("value",this.value);return _a;};_pRadio.on_notify_radio_onkeydown=function(_a,_b){var _c=this._innerdataset;if(!_c||this.readonly){return false;}var _d=_c.getRowCount();var _e=_d-1;if(_d<1){return false;}var _f=this._items;var _g=_f.length;for(var _m=0;_m<_g;_m++ ){if(_f[_m].value==true){this.pre_index=_f[_m].index;this.pre_value=_f[_m].code;this.pre_text=_f[_m].text;}}var _h=nexacro.Event;var _i=undefined;if(!nexacro._enableaccessibility){_i=(_b.keycode==_h.KEY_UP)||(_b.keycode==_h.KEY_LEFT)? -1:(_b.keycode==_h.KEY_DOWN)||(_b.keycode==_h.KEY_RIGHT)?1:undefined;}else{_i=(_b.keycode==_h.KEY_LEFT)? -1:(_b.keycode==_h.KEY_RIGHT)?1:undefined;}if(_i!==undefined){if(nexacro._enableaccessibility){if(this._accessibility_index== -1&&this.index> -1){_a.idx=this.index;}else if(this.index==0&&_h.KEY_UP==_b.keycode){var _j=this._getWindow();_j._removeFromCurrentFocusPath(this,true);if(this._isAccessibilityEnable()){this._on_focus(true);}this._accessibility_index= -1;return;}else{_a.idx=this._accessibility_index+_i;}}else{_a.idx=this.index+_i;}if(_a.idx>=_d){_a.idx=0;}else if(_a.idx<0){_a.idx=_e;}var _k=this._getItem(_a.idx);var _l=this.on_fire_canitemchange(_k,_b);if(_l!==false){this._accessibility_index=_a.idx;if(_d!=_a.idx&&_d>=_a.idx&&0<=_a.idx){this.set_index(_a.idx);if(_a.idx!=this.pre_index){this.on_fire_onitemchanged(_k,_b);}}if(nexacro._enableaccessibility){_k._on_focus(true);_k._stat_change("select","selected");}}}return false;};_pRadio.on_notify_item_onclick=function(_a,_b){if(!this.enable||this.readonly==true){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){_a._setAccessibilityNotifyEvent();}return false;}var _c=this._items;var _d=_c.length;var _e= -1;for(var _g=0;_g<_d;_g++ ){if(_c[_g].value==true){this.pre_index=_c[_g].index;this.pre_value=_c[_g].code;this.pre_text=_c[_g].text;_e=_g;}}var _f=this.on_fire_canitemchange(_a,_b);if(_f!==false){if(_e>=0){_c[this.pre_index].set_value(false);}this.on_fire_onitemclick(_a,_b);_a.set_value(true);this.set_index(_a.index);if(this.index!=this.pre_index||_e<0){this.on_fire_onitemchanged(_a,_b);}if(nexacro._enableaccessibility){this._accessibility_index=_a.index;_a._on_focus(true);}}};_pRadio.on_fire_canitemchange=function(_a,_b){if(this.canitemchange&&this.canitemchange._has_handlers){var _c=new nexacro.ItemChangeEventInfo(this,"canitemchange",this.pre_index,this.pre_text,this.pre_value,_a.index,_a.text,_a.code);return this.canitemchange._fireCheckEvent(this,_c);}return;};_pRadio.on_fire_onitemchanged=function(_a,_b){if(this.onitemchanged&&this.onitemchanged._has_handlers){var _c=new nexacro.ItemChangeEventInfo(this,"onitemchanged",this.pre_index,this.pre_text,this.pre_value,_a.index,_a.text,_a.code);return this.onitemchanged._fireEvent(this,_c);}return false;};_pRadio.on_fire_onitemclick=function(_a,_b){if(this.onitemclick&&this.onitemclick._has_handlers){var _c=new nexacro.ItemClickEventInfo(this,"onitemclick",_a.index,_a.text,_a.code);return this.onitemclick._fireEvent(this,_c);}return false;};_pRadio._callback_onvaluechanged=function(_a,_b){this._redraw_radioitem();};_pRadio._callback_onload=function(_a,_b){};_pRadio._callback_onrowsetchanged=function(_a,_b){this._redraw_radioitem();};_pRadio._get_contents_rows=function(){var _a=this._buffer_pages,_b=[];if(_a){var _c,_d;for(var _e=0,_f=_a.length;_e<_f;_e++ ){_c=_a[_e];if(_c){_b=_b.concat(_c);}}}return _b;};_pRadio._setIndex=function(_a,_b){_a=parseInt(_a)|0;if(this.index_init<0&&this.index<0&&this._items.length==0){this.index_init=_a;}if(_a>0&&this._items.length>0&&(_a>=this._items.length)){_a= -1;}else if(this._innerdataset&&this._items.length==0){if(this._innerdataset.getRowCount()==0){_a= -1;}}this._do_apply_val=true;this.on_apply_index(this.index,_a,_b);if(this._do_apply_val){this.index=_a;}};_pRadio._getItem=function(_a){var _b=this._items;var _c=_b.length;if(_a>=0&&_b.length>0){return _b[_a];}return null;};_pRadio._redraw_radioitem=function(){var _a=this.getElement();var _b=this._innerdataset;var _c=null;var _d="";var _e="";if(_a&&_a.getRootWindowHandle()){this._delete_radioitem();if(_b){var _f=_b.getRowCount();var _g=this.datacolumn;var _h=this.codecolumn;if(_f>0){for(var _i=0;_i<_f;_i++ ){_d=_b.getColumn(_i,_g==""?_h:_g);_e=_b.getColumn(_i,_h);_c=new nexacro.RadioItemCtrl("item","absolute",0,0,0,0,null,null,this);_c.set_text(_d);_c.set_code(_e);_c.set_index(_i);_c.createComponent();_c.on_created();_c._setEventHandler("onclick",this.on_notify_item_onclick,this);if(nexacro._enableaccessibility){_c._setAccessibilityInfoIndex(_i);_c._setAccessibilityInfoCount(_f);}this._items[_i]=_c;}this._update_radioitem();}}this.on_apply_index(this.pre_index,this.index,false);this.on_apply_style_cursor();this._refreshAccessibilityValue();}};_pRadio._delete_radioitem=function(){var _a=this._items;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();_a[_c]=null;}while(_b>0){_a.pop();_b-- ;}};_pRadio._update_radioitem=function(){var _a=this.getElement();if(_a){var _b=this._innerdataset;var _c=this._items;var _d=_c.length;if(_b==null||_d==0){return;}var _e=parseInt(this.columncount)|0;var _f=parseInt(this.rowcount)|0;var _g=_b.getRowCount();var _h=_b.getColCount();var _i=1;var _j=_g;var _k="row";var _l=this.direction.toString();var _m=0;var _n=0;var _o=1;if(_e== -1&&_f== -1){_j=1;_i=0;var _p=0;for(var _v=0;_v<_d;_v++ ){var _q=_c[_v]._getItemRealSize();_p+=_q.width;if(this._client_width<_p){_j++ ;_p=_q.width;_i=1;}else{_i++ ;_o=_o>_i?_o:_i;}}_i=_o;var _r=0;var _s=0,_t=0;var _q;for(var _v=0;_v<_j;_v++ ){_s=0;for(var _w=0;_w<_i;_w++ ){if(_g<=_r){break;}var _u=_c[_r];_q=_u._getItemRealSize();_q.height=this._client_height/_j;_u.move(_s,_t,_q.width,_q.height);_u.setTextOverflow(false);_s+=_q.width;_r++ ;}_t+=_q.height;}}else{if(_l.toLowerCase()=="horizontal"){if(_e>0){_i=_e;}else if((_e<0&&_f<0)||(_e<0&&_f==0)||(_e==0&&_f==0)||(_e==0&&_f==_g)){_i=1;}else if(_e<0&&(_e<_f)&&(_f>1)){_i=Math.round(_j/_f);}else if(_f>0){_i=Math.ceil(_j/_f);if((_i*_f)<_j){_i++ ;_j=(((_i*_f)-_j)>=_i)?_f-1:_f;}}else{_i=_j;}if(_i>_j){_i=_j;}_k="col";_j=parseInt(_g/_i)|0;if((_g>_i)&&(_g%_i)>0){_j++ ;}}else{if(_f>0){_j=_f;}else if(_e>0){_j=parseInt(_g/_e);if((_e*_j)<_g){_j++ ;_i=(((_e*_j)-_g)>=_j)?_e-1:_e;}}else{_j=1;}_k="row";_i=parseInt(_g/_j)|0;if(_i<=0){_i=1;}if((_g>_j)&&(_g%_j)>0){_i++ ;}}_m=this._client_width/_i;_n=this._client_height/_j;var _r=0;var _u;if(_k=="col"){for(var _v=0;_v<_j;_v++ ){for(var _w=0;_w<_i;_w++ ){if(_g<=_r){break;}_u=this._items[_r];_u.move((_m*_w),(_n*_v),_m,_n);_u.setTextOverflow(true);_r++ ;}}}else if(_k==""||_k=="row"){var _s=0,_t;for(var _v=0;_v<_i;_v++ ){_t=0;for(var _w=0;_w<_j;_w++ ){if(_g<=_r){break;}_u=this._items[_r];_u.move((_m*_v),(_n*_w),_m,_n);_u.setTextOverflow(true);_r++ ;}}}}}};_pRadio._searchStyleValue=nexacro._emptyFn;_pRadio._exeExprStyle=nexacro._emptyFn;_pRadio._setValue=function(_a,_b){if(this.value==_a){return null;}var _c=null;if(_a==undefined||_a==null){_c="";}else{_c=_a.toString();}this.value=_c;if(!this._is_created){this._init_value=_c;}this.on_apply_value(_b);};_pRadio._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,false);}};_pRadio._getPreCalculateWantTab=function(_a,_b){var _c=this._innerdataset;if(_c){if(this.index> -1){var _d=this.index;if(_d==this._accessibility_index){return false;}}else{var _e=this._accessibility_index;if(_b){if(_e<0){return false;}}else{var _f=_c.getRowCount();if(_e+1>_f){return false;}}}}return this._want_tab;};_pRadio._getPreCalculateWantArrow=function(_a){var _b=this._innerdataset;if(nexacro._enableaccessibility&&(nexacro._accessibilitytype==4||nexacro._accessibilitytype==5)){return true;}else if(_b){if(_a==nexacro.Event.KEY_UP){return false;}else if(_a==nexacro.Event.KEY_DOWN){return false;}}else{return false;}return this._want_arrow;};_pRadio._getNextAccessibilityOrderIndex=function(_a){var _b=this._accessibility_index;var _c=this._items;if(_a>0){for(var _d=_b+_a,_e=_c.length;_d<_e;_d++ ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b= -1;}else if(_a<0){for(var _d=_b+_a;_d>=0;_d-- ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b=this._accessibility_index= -1;}return _b;};delete _pRadio;nexacro.RadioCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Radio.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._is_overflow=false;};var _pRadioCtrl=nexacro._createPrototype(nexacro.Radio,nexacro.RadioCtrl);nexacro.RadioCtrl.prototype=_pRadioCtrl;_pRadioCtrl._type_name="RadioControl";nexacro._setForControlStyleFinder(_pRadioCtrl);delete _pRadioCtrl;};if(!nexacro.RadioItemCtrl){nexacro.RadioItem_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.textpadding=null;};var _pRadioItemStyle=nexacro._createPrototype(nexacro.Style,nexacro.RadioItem_Style);nexacro.RadioItem_Style.prototype=_pRadioItemStyle;eval(nexacro._createAlignAttributeEvalStr("_pRadioItemStyle","buttonalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pRadioItemStyle","buttonbackground"));eval(nexacro._createValueAttributeEvalStr("_pRadioItemStyle","buttonbackgroundimagemode"));eval(nexacro._createBorderAttributeEvalStr("_pRadioItemStyle","buttonborder"));eval(nexacro._createColorAttributeEvalStr("_pRadioItemStyle","buttoncolor"));eval(nexacro._createGradationAttributeEvalStr("_pRadioItemStyle","buttongradation"));eval(nexacro._createValueAttributeEvalStr("_pRadioItemStyle","buttonimage"));eval(nexacro._createValueAttributeEvalStr("_pRadioItemStyle","buttonsize"));eval(nexacro._createPaddingAttributeEvalStr("_pRadioItemStyle","textpadding"));eval(nexacro._createAccessibilityAttributeEvalStr("_pRadioItemStyle","accessibility"));_pRadioItemStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.textpadding=null;this.accessibility=null;};_pRadioItemStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign._value.length){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonimage._value.length){_a+="buttonimage:"+this.buttonimage._value+"; ";}if(this.textpadding._value.length){_a+="textpadding:"+this.textpadding._value+"; ";}if(this.buttonborder._value.length){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttoncolor._value.length){_a+="buttoncolor:"+this.buttoncolor._value+"; ";}if(this.buttonsize._value.length){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.buttonbackground._value.length){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation._value.length){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbackgroundimagemode._value.length){_a+="buttonbackgroundimagemode:"+this.buttonbackgroundimagemode._value+"; ";}if(this.accessibility._value.length){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.RadioItem_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttoncolor=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;};var _pRadioItemCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.RadioItem_CurrentStyle);nexacro.RadioItem_CurrentStyle.prototype=_pRadioItemCurrentStyle;_pRadioItemCurrentStyle.__get_custom_style_value=_pRadioItemStyle.__get_custom_style_value;_pRadioItemCurrentStyle.__custom_emptyObject=_pRadioItemStyle.__custom_emptyObject;delete _pRadioItemStyle;delete _pRadioItemCurrentStyle;nexacro.RadioItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.radioimg=null;this.value=false;this.index= -1;this.readonly=false;this.code="";this._text_elem=null;this._is_reference_control=false;this._accessibility_role="radioitem";this._apply_pushed_pseudo=true;};var _pRadioItemCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.RadioItemCtrl);nexacro.RadioItemCtrl.prototype=_pRadioItemCtrl;nexacro._setForControlStyleFinder(_pRadioItemCtrl);_pRadioItemCtrl.on_apply_custom_pseudo=function(_a){if(this._isSelected()){if(_a!="pushed"&&_a!="disabled"){_a="selected";}}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_buttonalign(_a);var _d=this.on_find_CurrentStyle_buttonimage(_a);var _e=this.on_find_CurrentStyle_textpadding(_a);var _f=this.on_find_CurrentStyle_buttonborder(_a);var _g=this.on_find_CurrentStyle_buttoncolor(_a);var _h=this.on_find_CurrentStyle_buttonsize(_a);var _i=this.on_find_CurrentStyle_buttonbackground(_a);var _j=this.on_find_CurrentStyle_buttongradation(_a);var _k=this.on_find_CurrentStyle_buttonbackgroundimagemode(_a);var _l=this.on_find_CurrentStyle_accessibility(_a);var _m=this.on_find_CurrentStyle_gradation(_a);if(_m!=_b.gradation){_b.gradation=_m;this.on_apply_style_gradation(_b.gradation);}if(_c!=_b.buttonalign){_b.buttonalign=_c;this.on_apply_style_buttonalign();}if(_d!=_b.buttonimage){_b.buttonimage=_d;this.on_apply_style_buttonimage(_b.buttonimage);}if(_e!=_b.textpadding){_b.textpadding=_e;this.on_apply_style_textpadding(_b.textpadding);}if(_f!=_b.buttonborder){_b.buttonborder=_f;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_g!=_b.buttoncolor){_b.buttoncolor=_g;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_h!=_b.buttonsize){_b.buttonsize=_h;this.on_apply_style_buttonsize(_b.buttonsize);}if(_i!=_b.buttonbackground){_b.buttonbackground=_i;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_j!=_b.buttongradation){_b.buttongradation=_j;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_k!=_b.buttonbackgroundimagemode){_b.buttonbackgroundimagemode=_k;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_l!=_b.accessibility){_b.accessibility=this._make_accessibility_value(_l);this.on_apply_style_accessibility(_b.accessibility);}};_pRadioItemCtrl.on_create_custom_style=function(){return new nexacro.RadioItem_Style(this);};_pRadioItemCtrl.on_create_custom_currentStyle=function(){return new nexacro.RadioItem_CurrentStyle(this);};_pRadioItemCtrl.on_find_CurrentStyle_background=function(_a){var _b=this.parent.on_find_CurrentStyle_itembackground(_a);return this.parent._search_style_obj(_b,"background",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_buttonalign=function(_a){return this.parent.on_find_CurrentStyle_buttonalign(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonbackground=function(_a){return this.parent.on_find_CurrentStyle_buttonbackground(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this.parent.on_find_CurrentStyle_buttonbackgroundimagemode(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonborder=function(_a){return this.parent.on_find_CurrentStyle_buttonborder(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttoncolor=function(_a){return this.parent.on_find_CurrentStyle_buttoncolor(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttongradation=function(_a){return this.parent.on_find_CurrentStyle_buttongradation(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonimage=function(_a){return this.parent.on_find_CurrentStyle_buttonimage(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonsize=function(_a){return this.parent.on_find_CurrentStyle_buttonsize(_a);};_pRadioItemCtrl.on_find_CurrentStyle_textpadding=function(_a){return this.parent.on_find_CurrentStyle_textpadding(_a);};_pRadioItemCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a);};_pRadioItemCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.parent.on_find_CurrentStyle_color(_a);return this.parent._search_style_obj(_b,"color",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.parent.on_find_CurrentStyle_font(_a);return this.parent._search_style_obj(_b,"font",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pRadioItemCtrl.on_find_CurrentStyle_accessibility=function(_a){var _b=this.parent.on_find_CurrentStyle_itemaccessibility(_a);return this.parent._search_style_obj(_b,"accessibility",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_itemborder(_a);};_pRadioItemCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_itembordertype(_a);};_pRadioItemCtrl.on_find_CurrentStyle_padding=function(_a){return this.parent.on_find_CurrentStyle_itempadding(_a);};_pRadioItemCtrl.on_find_CurrentStyle_gradation=function(_a){var _b=this.parent.on_find_CurrentStyle_itemgradation(_a);return this.parent._search_style_obj(_b,"gradation",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pRadioItemCtrl.on_update_style_buttonalign=function(){this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign(this.currentstyle.buttonsize);};_pRadioItemCtrl.on_update_style_buttonbackground=function(){this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);};_pRadioItemCtrl.on_update_style_buttonbackgroundimagemode=function(){this.currentstyle.buttonbackgroundimagemode=this.on_find_CurrentStyle_buttonbackgroundimagemode(this._pseudo);this.on_apply_style_buttonbackgroundimagemode(this.currentstyle.buttonbackgroundimagemode);};_pRadioItemCtrl.on_update_style_buttonborder=function(){this.currentstyle.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(this.currentstyle.buttonborder);};_pRadioItemCtrl.on_update_style_buttoncolor=function(){this.currentstyle.buttoncolor=this.on_find_CurrentStyle_buttoncolor(this._pseudo);this.on_apply_style_buttoncolor(this.currentstyle.buttoncolor);};_pRadioItemCtrl.on_update_style_buttongradation=function(){this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(this.currentstyle.buttongradation);};_pRadioItemCtrl.on_update_style_buttonimage=function(){this.currentstyle.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);};_pRadioItemCtrl.on_update_style_buttonsize=function(){this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(this.currentstyle.buttonsize);};_pRadioItemCtrl.on_update_style_textpadding=function(){this.currentstyle.textpadding=this.on_find_CurrentStyle_textpadding(this._pseudo);this.on_apply_style_textpadding(this.currentstyle.textpadding);};_pRadioItemCtrl.on_update_style_accessibility=function(){this.on_apply_style_accessibility(this.currentstyle.accessibility=this._make_accessibility_value(this.on_find_CurrentStyle_accessibility(this._pseudo)));};_pRadioItemCtrl.on_apply_style_align=function(_a){if(this._text_elem&&_a){var _b=_a.halign==""?"left":_a._halign;var _c=_a.valign==""?"middle":_a._valign;this._text_elem.setElementAlignXY(_b,_c);}};_pRadioItemCtrl.on_apply_style_color=function(_a){if(this._text_elem){if(_a){this._text_elem.setElementColor(_a);}else{this._text_elem.setElementColor("");}}};_pRadioItemCtrl.on_apply_style_background=function(_a){var _b=_a;var _c=this.parent;var _d=_c.index;var _e=_c._pseudo;if(_d>=0&&this.index==_d){if(_e=="focused"||_e=="pushed"||_e=="mouseover"){_e="selected";}_b=_c.on_find_CurrentStyle_itembackground(_e);}else if(_e=="normal"){}else{if(_e=="focused"){return;}if(this.index==this.parent._lbuttondown_idx){if(_e=="mouseover"){_e=="pushed";}_b=_c.on_find_CurrentStyle_itembackground(_e);}else{if(_e=="mouseover"){if(this.index==this.parent._mouseover_idx){_b=_c.on_find_CurrentStyle_itembackground(_e);}else{if(this._pseudo=="selected"){_b=_c.on_find_CurrentStyle_itembackground(this._pseudo);}else{_b=_c.on_find_CurrentStyle_itembackground("normal");}}}else{_b=_c.on_find_CurrentStyle_itembackground("normal");}}}nexacro.Component.prototype.on_apply_style_background.call(this,_b);};_pRadioItemCtrl.on_apply_style_border=function(_a){var _b=_a;var _c=this.parent;var _d=_c.index;var _e=_c._pseudo;if(_d>=0&&this.index==_d){if(_e=="focused"||_e=="pushed"||_e=="mouseover"){_e="selected";}_b=_c.on_find_CurrentStyle_itemborder(_e);}else if(_e=="normal"){}else{if(_e=="focused"){return;}if(this.index==this.parent._lbuttondown_idx){if(_e=="mouseover"){_e=="pushed";}_b=_c.on_find_CurrentStyle_itemborder(_e);}else{if(_e=="mouseover"){if(this.index==this.parent._mouseover_idx){_b=_c.on_find_CurrentStyle_itemborder(_e);}else{if(this._pseudo=="selected"){_b=_c.on_find_CurrentStyle_itemborder(this._pseudo);}else{_b=_c.on_find_CurrentStyle_itemborder("normal");}}}else{_b=_c.on_find_CurrentStyle_itemborder("normal");}}}nexacro.Component.prototype.on_apply_style_border.call(this,_b);};_pRadioItemCtrl.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pRadioItemCtrl.on_apply_style_letterspace=function(_a){if(this._text_elem){this._text_elem.setElementLetterSpace(_a);}};_pRadioItemCtrl.on_apply_style_cursor=function(_a){this._control_element.setElementCursor(_a);if(this.radioimg){this.radioimg.style.set_cursor(_a);}};_pRadioItemCtrl.on_apply_style_buttonalign=function(_a){var _b=this._pseudo;if(this._pushed){_b="pushed";}var _c=this.on_find_CurrentStyle_buttonalign(_b);var _d=this.on_find_CurrentStyle_buttonsize(_b);var _e=this.on_find_CurrentStyle_textpadding(_b);if(_c){var _f=_c.toString().trim().split(" ");var _g=_f.length;var _h="left";var _i="middle";var _j,_k,_l,_m,_n,_o;var _p=0,_q=0,_r=0,_s=0,_t=0,_u=0;var _v,_w,_x,_y;_x=_d;_y=_e;if(_d==null){_v=20;}else{_v=parseInt(_x._value)|0;}for(var _ab=0;_ab<_g;_ab++ ){_w=_f[_ab].toString();if(_w=="center"){_h="center";}else if(_w=="right"){_h="right";}else if(_w=="top"){_i="top";}else if(_w=="bottom"){_i="bottom";}}var _z=0;var _aa=_z+_v;if(_y){if(_y.left){_p=_y.left;}if(_y.right){_r=_y.right;}if(_y.top){_q=_y.top;}if(_y.bottom){_s=_y.bottom;}}if(_h=="left"){_j=_z;_p+=_aa;_aa=0;}else if(_h=="right"){_j=this._client_width-_aa;}else if(_h=="center"){_j=Math.round((this._client_width-_v)/2);}if(_i=="top"){_k=0;_m=_v;}else if(_i=="bottom"){_k=this._client_height-_v;}else{_k=(this._client_height-_v)/2;}if(this.radioimg){this.radioimg.move(_j,_k,_v,_v);}if(this._text_elem){_t=this._client_width-_r-_p-_aa;_u=this._client_height-_s-_q;_t=(_t<0)?0:_t;_u=(_u<0)?0:_u;_p=this._convertLeftForRtlLayout(_p,_t);this._text_elem.setElementPosition(_p,_q);this._text_elem.setElementSize(_t,_u);this.setTextOverflow(!this._is_overflow);}}};_pRadioItemCtrl.on_apply_style_buttonimage=function(_a){this.on_apply_value();};_pRadioItemCtrl.on_apply_style_buttonborder=function(_a){if(this.radioimg){this.radioimg.on_update_style_border();}};_pRadioItemCtrl.on_apply_style_buttoncolor=function(_a){if(this.radioimg){this.radioimg.on_update_style_color();}};_pRadioItemCtrl.on_apply_style_buttonsize=function(_a){this.on_apply_style_buttonalign();};_pRadioItemCtrl.on_apply_style_buttongradation=function(_a){if(this.radioimg){this.radioimg.on_update_style_gradation();}};_pRadioItemCtrl.on_apply_style_buttonbackground=function(_a){var _b=this.radioimg;if(_b){if(this.radioimg){_b.on_update_style_background();}}};_pRadioItemCtrl.on_apply_style_rtlimagemirroring=function(_a){return;};_pRadioItemCtrl.on_apply_style_buttonbackgroundimagemode=function(_a){var _b=this.radioimg;var _c="";if(_a.toString()=="quad"){_c="quad";}else{_c="no-repeat";}if(_b){_b.style.set_background_repeat(_c);}};_pRadioItemCtrl.on_apply_style_textpadding=function(_a){this.on_apply_style_buttonalign();};_pRadioItemCtrl.on_apply_style_accessibility=function(_a){if(_a){var _b=this.getElement();_b.setAccessibility(_a);}};_pRadioItemCtrl.on_apply_prop_enable=function(_a){var _b=this.radioimg;if(_b){_b._setEnable(_a);}};_pRadioItemCtrl.on_apply_prop_rtldirection=function(){var _a=this._rtldirection;nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _b=this._text_elem;if(_b){_b.setElementRtlDirection(_a);_b.setElementPosition(_b.left,_b.top,true);}if(this.radioimg){this.radioimg._setRtlDirection(_a);}};_pRadioItemCtrl.on_create_contents=function(){var _a=this.getElement();if(_a){this.radioimg=new nexacro.ImageRadioCtrl("radioimg","absolute",0,0,0,0,null,null,this);this.radioimg.style.set_bordertype("round 50 50");var _b=this.parent._pseudo;var _c=new nexacro.TextBoxElement(_a);this._text_elem=_c;var _d=this.on_find_CurrentStyle_align();var _e=_d.halign==""?"center":_d._halign;var _f=_d.valign==""?"middle":_d._valign;_c.setElementSize(this._client_width,this._client_height);_c.setElementColor(this.on_find_CurrentStyle_color(_b));_c.setElementFont(this.on_find_CurrentStyle_font(_b));_c.setElementAlignXY(_e,_f);_c.setElementLetterSpace(this.currentstyle.letterspace);this.text+="";_c.setElementText(this.text);_c.setElementWordWrap("char");this.radioimg.createComponent(true);}};_pRadioItemCtrl.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}this.radioimg.on_created();};_pRadioItemCtrl.on_destroy_contents=function(){var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}if(this.radioimg){this.radioimg.destroy();this.radioimg=null;}};_pRadioItemCtrl.on_change_containerRect=function(_a,_b){this.on_apply_style_buttonalign(this.currentstyle.buttonalign);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);this.on_apply_style_buttonborder(this.currentstyle.buttonborder);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);this.on_apply_style_textpadding(this.currentstyle.textpadding);var _c=this._text_elem;var _d=this.on_find_CurrentStyle_align(this._pseudo);if(this._text_elem){_a=_a-this.radioimg.width;_c.setElementSize(_a,_b);this.on_apply_style_align(_d);}};_pRadioItemCtrl.set_value=function(_a){if(_a!=this.value){this.value=_a;this.on_apply_value();}};_pRadioItemCtrl.on_apply_value=function(){if(this.radioimg){var _a=this._isSelected();var _b=this._pseudo;if(this._pushed){_b="pushed";}var _c="";if(this.parent.enable){if(_b=="disabled"){_b="normal";}_c=this.on_find_CurrentStyle_buttonimage(_b);}else{_c=this.on_find_CurrentStyle_buttonimage("disabled");}if(_a==true&&_c){this.radioimg.set_image(_c);this.radioimg.set_imagealign("center middle");if(this._pushed){this._stat_change("","pushed");}else{this._stat_change("","selected");}}else{this.radioimg.set_image("");}this._setAccessibilityStatChecked(_a);}};_pRadioItemCtrl.set_index=function(_a){this.index=_a;};_pRadioItemCtrl.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pRadioItemCtrl.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pRadioItemCtrl.set_text=function(_a){this.text=_a+"";this.on_apply_text();};_pRadioItemCtrl.on_apply_text=function(){if(this._text_elem){this._text_elem.setElementText(this.text+"");}};_pRadioItemCtrl.set_code=function(_a){this.code=_a;};_pRadioItemCtrl._on_getAccessibilityAdditionalLabel=function(){var _a=this.parent;if(this._isAccessibilityEnable()&&_a&&(!_a._is_first_focus||_a._is_tab_focus)){if(this.index> -1){return (this.index+1)+" "+_a._items.length;}}return "";};_pRadioItemCtrl._getFormChildById=function(_a){return this.parent._getFormChildById(_a);};_pRadioItemCtrl._getAccessibilityLabel=function(_a){var _b="";var _c=this.parent;if(_c&&_c._is_first_focus){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);_b=_c._getAccessibilityParentValue(_d);}_b+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _b;};_pRadioItemCtrl._setAccessibilityNotifyEvent=function(_a){var _b=this.getElement();if(_b&&_b.accessibility_enable){_b.setElementAccessibilityNotifyEvent();var _c=this._getForm();if(_c){var _d=_c._getWindow();_d._accessibility_last_focused_comp=this._getRootComponent(this);}return true;}return false;};_pRadioItemCtrl.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){_l=this;return nexacro.Component.prototype.on_lbuttondown_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pRadioItemCtrl._isSelected=function(){return this.value;};_pRadioItemCtrl._getItemRealSize=function(){var _a=this.on_find_CurrentStyle_buttonalign(this._pseudo);var _b=this.on_find_CurrentStyle_buttonsize(this._pseudo);var _c=this.on_find_CurrentStyle_textpadding(this._pseudo);var _d=this.on_find_CurrentStyle_padding(this._pseudo);var _e=this.on_find_CurrentStyle_border(this._pseudo);var _f,_g;var _h=0,_i=0,_j=0,_k=0;var _l=0,_m=0,_n=0,_o=0;var _p=0,_q=0,_r=0,_s=0;var _t=20;if(_b){_t=parseInt(_b._value)|0;}if(_c){if(_c.left){_h=_c.left;}if(_c.right){_j=_c.right;}if(_c.top){_i=_c.top;}if(_c.bottom){_k=_c.bottom;}}if(_d){if(_d.left){_l=_d.left;}if(_d.top){_m=_d.top;}if(_d.right){_n=_d.right;}if(_d.bottom){_o=_d.bottom;}}if(_e){_p=_e._left_width;_r=_e._right_width;_q=_e._top_width;_s=_e._bottom_width;}var _u=0;if(this._text_elem){var _v=this.on_find_CurrentStyle_font(this._pseudo);var _w=this.on_find_CurrentStyle_letterspace(this._pseudo);_u=nexacro._getTextSize2(_w,this._text_elem.text,_v,null,null,null,this._rtldirection);}_f=_t+_h+_j+_u[0]+_l+_n+_p+_r;_g=_t+_i+_k+_u[1]+_m+_o+_q+_s;return {width:Math.ceil(_f),height:Math.ceil(_g)};};_pRadioItemCtrl.setTextOverflow=function(_a){var _b=this._text_elem;if(_b){this._is_overflow=!_a;if(_a){_b.setElementWordWrap("char");}else{_b.setElementTextOverFlow();}}};_pRadioItemCtrl._setRtlDirection=function(_a){var _b=this.rtldirection;var _c=this._rtldirection;if(_a=="inherit"){var _d=this.parent._rtldirection;if(_c!=_d){_c=_d;}}else if(_c!=_a){if(_b==_a){_c=_a;}else if(!_b||_b=="inherit"){_c=_a;}}if(_c!=this._rtldirection){this._rtldirection=_c;this.on_apply_prop_rtldirection();}};delete _pRadioItemCtrl;nexacro.ImageRadioCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageViewerCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;this._apply_pushed_pseudo=true;};var _pImageRadioCtrl=nexacro._createPrototype(nexacro.ImageViewerCtrl,nexacro.ImageRadioCtrl);nexacro.ImageRadioCtrl.prototype=_pImageRadioCtrl;_pImageRadioCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_buttonbackground(_a);};_pImageRadioCtrl.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this.parent.on_find_CurrentStyle_buttonbackgroundimagemode(_a);};_pImageRadioCtrl.on_find_CurrentStyle_image=function(_a){return this.parent.on_find_CurrentStyle_buttonimage(_a);};_pImageRadioCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_buttonborder(_a);};_pImageRadioCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_buttongradation(_a);};_pImageRadioCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pImageRadioCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this.parent.enable){return false;}this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pImageRadioCtrl._isSelected=function(){return this.parent._isSelected();};delete _pImageRadioCtrl;};if(!nexacro.ListBox){nexacro.ListBoxClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.ClickEventInfo.call(this,_a,_b||"onlistboxclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.fromobject=_n;this.fromreferenceobject=_o;this.index=_c;};var _pListBoxClickEventInfo=nexacro._createPrototype(nexacro.ClickEventInfo,nexacro.ListBoxClickEventInfo);nexacro.ListBoxClickEventInfo.prototype=_pListBoxClickEventInfo;_pListBoxClickEventInfo._type_name="ListBoxClickEventInfo";delete _pListBoxClickEventInfo;_pListBoxClickEventInfo=null;nexacro.ListBox_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.itemheight=null;this.itembackground=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.itemaccessibility=null;};var _pListBoxStyle=nexacro._createPrototype(nexacro.Style,nexacro.ListBox_Style);nexacro.ListBox_Style.prototype=_pListBoxStyle;eval(nexacro._createValueAttributeEvalStr("_pListBoxStyle","itemheight"));eval(nexacro._createBackgroundAttributeEvalStr("_pListBoxStyle","itembackground"));eval(nexacro._createGradationAttributeEvalStr("_pListBoxStyle","itemgradation"));eval(nexacro._createBorderAttributeEvalStr("_pListBoxStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pListBoxStyle","itembordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pListBoxStyle","itempadding"));eval(nexacro._createAccessibilityAttributeEvalStr("_pListBoxStyle","itemaccessibility"));_pListBoxStyle.__custom_emptyObject=function(){this.itemheight=null;this.itembackground=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.itemaccessibility=null;};_pListBoxStyle.__get_custom_style_value=function(){var _a="";var _b=this.itemheight;if(_b&&_b._is_empty){_a+="itemheight:"+_b._value+"; ";}_b=this.itembackground;if(_b&&_b._is_empty){_a+="itembackground:"+_b._value+"; ";}_b=this.itemgradation;if(_b&&_b._is_empty){_a+="itemgradation:"+_b._value+"; ";}_b=this.itemborder;if(_b&&_b._is_empty){_a+="itemborder:"+_b._value+"; ";}_b=this.itembordertype;if(_b&&_b._is_empty){_a+="itembordertype:"+_b._value+"; ";}_b=this.itempadding;if(_b&&_b._is_empty){_a+="itempadding:"+_b._value+"; ";}_b=this.itemaccessibility;if(_b&&_b._is_empty){_a+="itemaccessibility:"+_b._value+"; ";}_b=null;return _a;};nexacro.ListBox_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemheight=null;this.itembackground=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.itemaccessibility=null;};var _pListBoxCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ListBox_CurrentStyle);nexacro.ListBox_CurrentStyle.prototype=_pListBoxCurrentStyle;_pListBoxCurrentStyle.__custom_emptyObject=_pListBoxStyle.__custom_emptyObject;_pListBoxCurrentStyle.__get_custom_style_value=_pListBoxStyle.__get_custom_style_value;delete _pListBoxStyle;_pListBoxStyle=null;delete _pListBoxCurrentStyle;_pListBoxCurrentStyle=null;nexacro.ListBox=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._selectinfo={index: -1,text:"",value:undefined,obj:null};this.scrollbars="autoboth";this.isAboveSelected=false;this.codecolumn="";this.datacolumn="";this.multiselect=false;this.innerdataset=null;this.readonly=false;this.index= -1;this.text="";this.value=undefined;this.dragscrolltype="all";this.selectscrollmode="default";this._scrollbars=3;this._is_scrollable=true;this._temp_elem=null;this._innerdataset=null;this._codecolumn=null;this._datacolumn=null;this._total_page_rowcnt=0;this._total_page_cnt=0;this._contents_maxwidth=null;this._contents_maxheight=null;this._page_rowcount=0;this._page_rowcount_min=0;this._shiftKey=false;this._ctrlKey=false;this._altKey=false;this._vscrollpos=0;this._prevpos=0;this._refresh_rows=[];this._vscrollTask=null;this._userDsChange=true;this._exprcache={};this._overeditemindex= -1;this._lbtnDownIdx= -1;this._cur_end= -1;this._is_redraw=false;this._want_tab=true;this._want_arrow=false;this._accessibility_index= -1;this._accessibility_role="listbox";this._shift_select_base_index=null;this._is_first_focus=false;this._scroll_vpos_queue=[];this._apply_ds_val=false;this._is_redrawing=false;this._select_multi={"items":[],"map":{},"keys":[],"length":0,"lastselected":null};this._selectinfo_list=[];this._keep_scrolling=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onitemclick":1,"onitemdblclick":1,"canitemchange":1,"onitemchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onitemmouseenter":1,"onvscroll":1,"onhscroll":1,"onmousedown":1,"onmouseup":1};this._setEventHandler("onkeydown",this.on_notify_listbox_onkeydown,this);};var _pListBox=nexacro._createPrototype(nexacro.Component,nexacro.ListBox);nexacro.ListBox.prototype=_pListBox;_pListBox._type_name="ListBox";_pListBox._default_align=nexacro.Component._default_left_align;_pListBox._default_Item_height=24;_pListBox._setVScrollDefaultAction=function(_a,_b){if(_b>=0){_b=this.currentstyle.itemheight;}else{_b= -(this.currentstyle.itemheight);}_a.set_pos(_a.pos-_b);};_pListBox.on_apply_custom_class=function(){var _a=this._get_contents_rows();if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].on_apply_prop_class();}_a=null;}};_pListBox.on_create_custom_style=function(){return new nexacro.ListBox_Style(this);};_pListBox.on_create_custom_currentStyle=function(){return new nexacro.ListBox_CurrentStyle();};_pListBox.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_itemheight(_a);if(_c!=_b.itemheight){_b.itemheight=_c;this.on_apply_style_itemheight(_c);}_c=this.on_find_CurrentStyle_itembackground(_a);if(_c!=_b.itembackground){_b.itembackground=_c;this.on_apply_style_itembackground(_c);}_c=this.on_find_CurrentStyle_itemgradation(_a);if(_c!=_b.itemgradation){_b.itemgradation=_c;this.on_apply_style_itemgradation(_c);}_c=this.on_find_CurrentStyle_itemborder(_a);if(_c!=_b.itemborder){_b.itemborder=_c;this.on_apply_style_itemborder(_c);}_c=this.on_find_CurrentStyle_itembordertype(_a);if(_c!=_b.itembordertype){_b.itembordertype=_c;this.on_apply_style_itembordertype(_c);}_c=this.on_find_CurrentStyle_itempadding(_a);if(_c!=_b.itempadding){_b.itempadding=_c;this.on_apply_style_itempadding(_c);}_c=this.on_find_CurrentStyle_font(_a);if(_c!=_b.font){_b.font=_c;this.on_apply_style_font(_c);}_c=this.on_find_CurrentStyle_letterspace(_a);if(_c!=_b.letterspace){_b.letterspace=_c;this.on_apply_style_letterspace(_c);}_c=this.on_find_CurrentStyle_color(_a);if(_c!=_b.color){_b.color=_c;this.on_apply_style_color(_c);}_c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=this.on_find_CurrentStyle_itemaccessibility(_a);if(_c!=_b.itemaccessibility){_b.itemaccessibility=_c;this.on_apply_style_itemaccessibility(_c);}_c=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_c!=_b.rtlimagemirroring){_b.rtlimagemirroring=_c;this.on_apply_style_rtlimagemirroring(_c);}_c=null;};_pListBox.on_apply_style_color=function(_a){var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].style.set_color(_a._value);}_b=null;}};_pListBox.on_apply_style_font=function(_a){var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_a){_a=this._search_style_obj(_a,"font",_d);_b[_d].style.set_font(_a._value);}}_b=null;}};_pListBox.on_apply_style_align=function(_a){var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].style.set_align(_a._value);}_b=null;}};_pListBox.on_apply_style_cursor=function(_a){nexacro.Component.prototype.on_apply_style_cursor.call(this,_a);var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].style.set_cursor(_a._value);}_b=null;}};_pListBox.on_apply_style_itembackground=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"background",_e);if(_d){_b[_e].style.set_background(_d._value);}}};_pListBox.on_apply_style_itemheight=function(_a){var _b=this.vscrollbar;if(_b){_b._setScrollLayout(_b.min,_b.max,_b.page,this._get_rowheight(),_b.pos);}if(this._is_redraw==false){this._recreate_data(true);this._is_redraw=true;}};_pListBox.on_apply_style_itemaccessibility=function(_a){var _b=this._get_contents_rows();var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_update_style_accessibility();}_b=null;};_pListBox.on_apply_style_itemgradation=function(_a){if(_a==null){return false;}this.on_apply_style_itembackground(this.currentstyle.itembackground);var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"gradation",_e);if(_d){_b[_e].style.set_gradation(_d._value);}}_b=null;};_pListBox.on_apply_style_itemborder=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"border",_e);if(_d){_b[_e].style.set_border(_d._value);}}_b=null;};_pListBox.on_apply_style_itembordertype=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"bordertype",_e);if(_d){_b[_e].on_apply_style_bordertype(_d);}}_b=null;};_pListBox.on_apply_style_itempadding=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"padding",_e);if(_d){_b[_e].style.set_padding(_d._value);}}_b=null;};_pListBox.on_apply_style_letterspace=function(_a){var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_a){_a=this._search_style_obj(_a,"letterspace",_d);_b[_d].on_apply_style_letterspace(_a);}}_b=null;}};_pListBox.on_apply_style_rtlimagemirroring=function(_a){return;};_pListBox.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._get_contents_rows();var _b=_a.length;var _c=this._rtldirection;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_a[_d]._setRtlDirection(_c);}if(this._is_redraw==false){this._recreate_data(true);this._is_redraw=true;}};_pListBox.on_find_CurrentStyle_itemheight=function(_a){var _b=this._find_pseudo_obj("itemheight",_a);if(!_b){_b=nexacro._getCachedStyleObj("itemheight",nexacro._default_Item_height);}else{var _c=_b._value;if(_c<0||_c===null||_c===""||_c===undefined){var _d=this.on_find_CurrentStyle_letterspace(this._pseudo);var _e=nexacro._getTextSize2(_d,"1",this.currentstyle.font);_b=nexacro._getCachedStyleObj("itemheight",_e[1]);}}return _b;};_pListBox.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pListBox.on_find_CurrentStyle_padding=function(_a){return this._find_pseudo_obj("padding",_a,"padding");};_pListBox.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pListBox.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pListBox.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pListBox.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pListBox.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding");};_pListBox.on_find_CurrentStyle_itemaccessibility=function(_a){return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pListBox.on_update_style_itemheight=function(){this._is_redraw=false;this.on_apply_style_itemheight(this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo));};_pListBox.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));};_pListBox.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));};_pListBox.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));};_pListBox.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));};_pListBox.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));};_pListBox.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));};_pListBox.on_create_contents=function(){var _a=this.getElement();_a.setElementSize(this._client_width,this._client_height);this._temp_elem=new nexacro.Element(_a._client_element);this._temp_elem.setElementSize(1,1);this._temp_elem.setElementVisible(false);};_pListBox.on_created_contents=function(){this._temp_elem.create();if(this.getElement()){this.on_apply_innerdataset();}var _a=this._refresh_rows,_b;for(var _c=0,_d=_a.length;_c<_d;_c++ ){_b=_a[_c];if(_b){_b.on_created(this._window);_b._real_visible=false;}}this.on_apply_style_itemheight(this.currentstyle.itemheight);this.on_apply_style_letterspace(this.currentstyle.letterspace);this._refresh_rows=[];if(nexacro._enableaccessibility){this._want_arrow=true;this._refreshAccessibilityValue();}{this._recreate_data();this._is_redraw=true;}this._selectinfo.obj=null;this._selectinfo.index=this.index;this._selectinfo.text=this.text;this._selectinfo.value=this.value;this.on_apply_prop_rtldirection();};_pListBox.on_destroy_contents=function(){this._clear_contents();if(this._vscrollTask){this._vscrollTask.destroy();this._vscrollTask=null;}if(this._temp_elem){this._temp_elem.destroy();this._temp_elem=null;}if(this._innerdataset){this._innerdataset._removeEventHandler("onload",this._callback_onload,this);this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);this._innerdataset=null;this.innerdataset=null;}this._removeEventHandler("onkeydown",this.on_notify_listbox_onkeydown,this);this._selectinfo=null;this._select_multi=null;this._refresh_rows.length=0;this._exprcache=null;this._selectinfo_list.length=0;this._scroll_vpos_queue=null;};_pListBox.on_change_containerRect=function(_a,_b){if(this._is_created){this._recreate_data(true);}};_pListBox._callback_onload=function(_a,_b){this._exprcache={};switch(_b.reason){case 0:this._recreate_data();this._is_redraw=true;if(this.index> -1){if(this._changeIndex(this.index)){this.on_apply_index();}}else if(this.value!=""){var _c=this._innerdataset.findRow(this.codecolumn,this.value);if(this._changeIndex(_c)){this.on_apply_index();}}break;}};_pListBox._callback_onvaluechanged=function(_a,_b){if(this._is_created&&this._userDsChange){this._recreate_data();this._is_redraw=true;}};_pListBox._callback_onrowsetchanged=function(_a,_b){if(this._is_created&&this._userDsChange){this._recreate_data();this._is_redraw=true;}};_pListBox.on_init_bindSource=function(_a,_b,_c){if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}if(_b=="value"){this.set_value(undefined);return true;}return false;};_pListBox.on_change_bindSource=function(_a,_b,_c,_d,_e){var _f;if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}if(_a=="value"){_f=_b.getColumn(_c,_d);this._apply_ds_val=true;this.set_value(_f);this._apply_ds_val=false;return true;}return false;};_pListBox.on_getBindableProperties=function(){return "value";};_pListBox.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=_a;if(_a==undefined){_b=this.enable;}var _c=this._get_contents_rows();if(_c&&_c.length>0){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e]._setEnable(_b);}_c=null;}};_pListBox._getDlgCode=function(_a,_b,_c,_d){var _e,_f;if(_a&&(_a==nexacro.Event.KEY_TAB)){_e=false;}else{_f=this._getPreCalculateWantArrow(_a);}if(this._is_first_focus){this._is_first_focus=false;}this._want_arrow=_f;this._want_tab=true;if(_c){if(_a==nexacro.Event.KEY_LEFT){var _g=this.hscrollbar;if(_g){_f=_g.pos>_g.min?true:false;}else{_f=false;}}else if(_a==nexacro.Event.KEY_UP){var _h=this.vscrollbar;if(_h){_f=_h.pos>_h.min?true:false;}else{_f=false;}}else if(_a==nexacro.Event.KEY_RIGHT){var _g=this.hscrollbar;if(_g){_f=_g.pos<_g.max?true:false;}else{_f=false;}}else if(_a==nexacro.Event.KEY_DOWN){var _h=this.vscrollbar;if(_h){_f=_h.pos<_h.max?true:false;}else{_f=false;}}}return {want_tab:_e,want_return:false,want_escape:false,want_chars:false,want_arrows:_f};};_pListBox._setFocus=function(_a,_b,_c){this._focus_direction=_b;var _d=this.setFocus(_a,_c);this._focus_direction= -1;return _d;};_pListBox._on_focus=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._focus_direction;if(_b=="tabkey"){_h=0;}else if(_b=="shifttabkey"){_h=1;}else if(_b=="downkey"){_h=2;}else if(_b=="upkey"){_h=3;}if(_a==false){this._focus_direction= -1;}if(_h>=0){_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(_a==false){this._accessibility_index= -1;if(this._last_focused){this._do_defocus(this._last_focused,false);}if(_h<2){var _i=this._get_contents_rows();if(_i.length>0){var _j;if(this.index> -1){this._accessibility_index=this.index;}else{if(_h==0){this._accessibility_index=0;}else{this._accessibility_index=_i.length-1;}}this._is_first_focus=true;_j=_i[this._accessibility_index];if(!_j){return;}_j._on_focus(true);this._shift_select_base_index=this._accessibility_index;_j=null;}_i=null;}else if(_h==2){if(!this._isAccessibilityEnable()){var _j;var _i=this._get_contents_rows();this._is_first_focus=true;if(this.index> -1){_j=_i[this._accessibility_index=this.index];if(!_j){return;}_j._on_focus(true);_j.set_selected(true);this._shift_select_base_index=this.index;}else if(_i.length>0){if(this.multiselect){this._do_select(this._getNextAccessibilityOrderIndex(1));}else if(this._changeIndex(this._getNextAccessibilityOrderIndex(1))){this.on_apply_index();}}_i=null;_j=null;}}else if(_h==3){this._is_first_focus=true;var _i=this._get_contents_rows();var _j;if(this.index== -1){if(_i.length>0){if(this.multiselect){if(this.index> -1){this._accessibility_index=this.index;}else{this._accessibility_index=_i.length;}var _k=this._getNextAccessibilityOrderIndex( -1);this._do_select(_k);}else{if(this.index> -1){this._accessibility_index=this.index;}else{this._accessibility_index=_i.length;}var _k=this._getNextAccessibilityOrderIndex( -1);_j=_i[_k];if(this._changeIndex(_k)){this.on_apply_index();}}}}else{_j=_i[this._accessibility_index=this.index];if(nexacro._enableaccessibility&&this.multiselect){this._do_select(this._accessibility_index);}else{_j.set_selected(true);}}_i=null;_j=null;}}}else{_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(this._last_focused){this._do_defocus(this._last_focused,false);}else if(this._select_multi.lastselected===undefined&&this._accessibility_index> -1){var _i=this._get_contents_rows();_i[this._accessibility_index]._stat_change("notfocus","normal");}}return _g;};_pListBox.on_apply_custom_setfocus=function(_a){if(nexacro.Browser!="Safari"||(nexacro.Browser=="Safari"&&window&&window==window.parent)){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);return;}var _b=this._control_element;if(_b){var _c=((_a=="lbutton")?false:nexacro._enableaccessibility);if(!(nexacro.Browser=="Safari"&&_a=="lbuttondown")){_b.setElementFocus(_c);}}};_pListBox.on_get_style_accessibility_label=function(){var _a="";if(!this._is_first_focus){_a=this.text?this.text:this.value;}return _a;};_pListBox._setAccessibilityNotifyEvent=function(_a){var _b=this._get_contents_rows();if(_b&&_b.length>0){var _c=null;if(this._overeditemindex<0||this._overeditemindex>=_b.length){if(_a==undefined){_a=1;}if(_a>0){this._overeditemindex=0;}else{this._overeditemindex=_b.length-1;}}_c=this._getItemByRealIdx(_b,this._overeditemindex).obj;if(_c){return _c._setAccessibilityNotifyEvent();}}else{return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);}};_pListBox._setAccessibilityInfoByHover=function(_a){if(_a){this._overeditemindex=_a.index;return _a._setAccessibilityInfoByHover();}else{return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this);}};_pListBox._clearAccessibilityInfoByHover=function(){this._overeditemindex= -1;return;};_pListBox._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){var _c=this.getElement();var _d=this._get_contents_rows();if(_c&&_d.length<=0){_b="static";}}return _b;};_pListBox.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset||(typeof _a=="object"&&_a._type_name=="Dataset")){this._innerdataset=_a;this.innerdataset=_a.id;this._keep_scrolling=(this.innerdataset!=_a.id)?false:true;this.on_apply_innerdataset();}this._onResetScrollBar();};_pListBox._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pListBox.getInnerDataset=function(){return this._innerdataset;};_pListBox.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}this._onResetScrollBar();};_pListBox.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){if(this.datacolumn||this.codecolumn){if(!this.datacolumn){this._datacolumn=this.codecolumn;}if(!this.codecolumn){this._codecolumn=this.datacolumn;}_a._setEventHandler("onload",this._callback_onload,this);_a._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_a._setEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);this._recreate_data(this._keep_scrolling);this._is_redraw=true;}}};_pListBox.set_visible=function(_a){var _b=this.vscrollbar;var _c=nexacro.Browser=="Chrome"&&_a&&this.visible!=_a&&_b;nexacro.Component.prototype.set_visible.call(this,_a);if(_c){var _d=_b.pos;_b.set_pos(_d-1);_b.set_pos(_d);}};_pListBox.set_codecolumn=function(_a){if(_a&&_a!=this.codecolumn){this.codecolumn=_a;this.on_apply_innerdataset();}};_pListBox.set_datacolumn=function(_a){if(_a&&_a!=this.datacolumn){this.datacolumn=_a;this.on_apply_innerdataset();}};_pListBox.set_multiselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.multiselect){this.multiselect=_a;this.on_apply_multiselect();}};_pListBox.on_apply_multiselect=function(){var _a= -1;if(!this.multiselect){this._select_clear();}this._shiftKey=false;this._ctrlKey=false;if(!this.multiselect){_a=this.index;this._do_select(_a);}};_pListBox.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();this._setAccessibilityFlagReadOnly(_a);}};_pListBox.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pListBox.set_text=function(_a){};_pListBox.set_index=function(_a,_b){var _c=this._innerdataset;var _a=parseInt(_a,10)|0;if(this._is_created){if(!_c||_a<0||_a>_c.getRowCount()-1){_a= -1;}}if(this._changeIndex(_a,_b,true)){this.on_apply_index();}else{this._on_last_selectfocuschanged(this.index,true);}};_pListBox.on_apply_index=function(){if(!this.multiselect){var _a=this.index;var _b=this._get_contents_rows();var _c=_b.length;if(_b&&_a== -1){for(i=0;i<_c;i++ ){var _d=_b[i];_d.set_selected(false);if(nexacro._enableaccessibility){_d._setAccessibilityInfoIndex(i+1);_d._setAccessibilityInfoCount(_c);}}_b=null;}var _e=this.getElement();if(_e&&_a> -1){this._do_select(_a);}}};_pListBox.set_value=function(_a){if(_a!==this.value){this.value=_a;}var _b=this._innerdataset;if(_b){var _c= -1;if(this.value!==undefined){_c=_b.findRow(this.codecolumn,this.value);}if(this.index!=_c){this._is_value_setting=true;this.set_index(_c);this._is_value_setting=false;}}};_pListBox.set_dragscrolltype=function(_a){nexacro.Form.prototype.set_dragscrolltype.call(this,_a);};_pListBox.set_resizebutton=function(){};_pListBox.set_selectscrollmode=function(_a){this.selectscrollmode=nexacro._toString(_a);};_pListBox.set_rtldirection=function(_a){this._is_redraw=false;nexacro.Component.prototype.set_rtldirection.call(this,_a);};_pListBox.getCount=function(){return (this._innerdataset)?this._innerdataset.getRowCount():0;};_pListBox.getSelectedCount=function(){return this._get_selectcount();};_pListBox.getSelect=function(_a){if(_a<0||_a>=this.getCount()){return false;}var _b=this._select_multi.items;var _c=this._select_multi.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]==_a){return true;}}return false;};_pListBox.getSelectedItems=function(){if(this._select_multi&&this._select_multi.length>0){var _a=this._select_multi.items.slice();_a.sort();return _a;}else{return [];}};_pListBox.clearSelect=function(){if(this._select_multi&&this._select_multi.length>0){this._selectinfo.index= -1;if(this._changeIndex( -1)){this.on_apply_index();}this._select_clear();if(this._ctrlKey===true){this._recreate_data();this._is_redraw=true;}return true;}else{return false;}};_pListBox.redraw=function(){if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}};_pListBox.setSelect=function(_a,_b){_b=nexacro._toBoolean(_b);_a=parseInt(_a)|0;var _c=this._get_rowobj_byrow(_a);if(_a>=0){if(_b==true){if(!this.multiselect){this._deselect_all(true);if(this._changeIndex(_a,true,true)){this.on_apply_index();}}else{if(_c){_c.set_selected(_b);}this._changeIndex(_a,false,true);this._select_add(_a);}}else{if(_c){_c.set_selected(false);}this._select_remove(_a);if(this._select_multi&&this._select_multi.length==0){this._changeIndex( -1,false,true);}}}else{if(_c){if(this._changeIndex( -1,false,true)){this.on_apply_index();}}this._select_clear();}};_pListBox.updateToDataset=function(){if(!this._bind_event){return false;}return this.applyto_bindSource("value",this.value);};_pListBox.isAboveSelected=function(){};_pListBox.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._accessibility_index;var _h=this._get_contents_rows().length;if(_a==nexacro.Event.KEY_TAB){var _i=this._selectinfo;if(_i&&_i.index> -1){if(_d){if(_g<0){this._want_tab=false;}else{var _j=this._last_focused;this._do_defocus(_j,true);if(_j&&_j._selected){_j._stat_change("select","selected");}this._accessibility_index= -1;}}else{if(_g> -1){this._want_tab=false;}else{var _k=this._get_contents_rows();var _l=_k[this.index];if(_l){_l._on_focus(true);}this._accessibility_index=this.index;}}}else{if((_d&&_g<0)||(!_d&&_g>=_h-1)){this._want_tab=false;}else{if(_d){_g-- ;}else{_g++ ;}var _k=this._get_contents_rows();var _l=_k[_g];if(_l){_l._on_focus(true);}this._accessibility_index=_g;}}this._getWindow()._keydown_element._event_stop=true;}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pListBox.on_notify_listbox_onkeydown=function(_a,_b){if(this.readonly){return false;}var _c=this._selectinfo;var _d,_e=this._overeditemindex;var _f=this._innerdataset;var _g= +this.index;var _h=this.text;var _i=this.value;var _j,_k,_l;var _m=this._get_contents_rows();var _n=this._shiftKey=_b.shiftKey;this._ctrlKey=_b.ctrlKey;this._altKey=_b.altKey;var _o=_b.keycode;if(_o==nexacro.Event.KEY_UP){if(_b.ctrlKey){this._do_scroll("up");return true;}if(this.multiselect){if(nexacro._enableaccessibility){_d=this._getNextAccessibilityOrderIndex( -1);if(this._accessibility_index<0){var _p=this._getWindow();_p._removeFromCurrentFocusPath(this,true);if(this._isAccessibilityEnable()){this._on_focus(true);}this._accessibility_index= -1;return;}else{if(this._select_multi.lastselected===undefined&&this._accessibility_index<this._get_rowcount()){_m[this._accessibility_index]._stat_change("notfocus","normal");}this._select_withkeyupevent(_b);}_d=this._accessibility_index;}else{this._select_withkeyupevent(_b);_d=this._get_selection_last();}if(_d!=null){if(_d> -1){this._changeIndex(_d);}}}else{if(nexacro._enableaccessibility){if(this.index==0){var _p=this._getWindow();_p._removeFromCurrentFocusPath(this,true);if(this._isAccessibilityEnable()){this._on_focus(true);}this._accessibility_index= -1;return;}else{if(this._accessibility_index!=this.index){var _q=_m[this._accessibility_index];if(_q){_q._stat_change("notfocus","normal");}}this._accessibility_index=this._getNextAccessibilityOrderIndex( -1);_d=this._accessibility_index;}}else{_d= +this.index-1;}if(_d> -1){if(this._changeIndex(_d)){this.on_apply_index();}}}}else if(_o==nexacro.Event.KEY_DOWN){if(_b.ctrlKey){this._do_scroll("down");return true;}if(this.multiselect){if(nexacro._enableaccessibility){if(this.index> -1&&this._accessibility_index== -1){_d=this._accessibility_index=this.index;this._do_select(this._accessibility_index);}else{_d=this._getNextAccessibilityOrderIndex(1);if(this._accessibility_index<_f.getRowCount()){if(this._select_multi.lastselected===undefined&&this._accessibility_index> -1){_m[this._accessibility_index]._stat_change("notfocus","normal");}this._select_withkeydownevent(_b);}}}else{this._select_withkeydownevent(_b);_d=this._get_selection_last();}if(_d!=null){if(_d<_f.getRowCount()){this._changeIndex(_d);}}}else{if(nexacro._enableaccessibility){if(this.index> -1&&this._accessibility_index== -1){_m[this.index]._on_focus(true);this._accessibility_index=this.index;}else{if(this._accessibility_index!=this.index){var _q=_m[this._accessibility_index];if(_q){_q._stat_change("notfocus","normal");}}this._accessibility_index=this._getNextAccessibilityOrderIndex(1);}_d=this._accessibility_index;}else{_d= +this.index+1;}if(_d<_f.getRowCount()){if(this._changeIndex(_d)){this.on_apply_index();}}}}if(!_n){this._shift_select_base_index=_a.index;}if((this.multiselect==true)&&(this._ctrlKey==true)&&(_o==nexacro.Event.KEY_SPACE)){var _r=this._get_rowobj_byrow(this._select_multi.lastselected);var _s=false;this._sellist=this._select_multi.items;var _t=this._sellist.length;var _u,_v;for(var _w=0;_w<_t;_w++ ){_v=this._sellist[_w];if(this._select_multi.lastselected==_v){_s=true;_r=this._get_rowobj_byrow(_v);_u=_v;}}if(_s!==true){if(_r){_r.set_selected(true);}this._select_add(this._select_multi.lastselected);}else{this._do_deselect(_u,true);}}else if(_o==nexacro.Event.KEY_SPACE){if(nexacro._enableaccessibility&&this._accessibility_index> -1){var _m=this._get_contents_rows();if(_m[this._accessibility_index]._control_pseudo=="focused"){_m[this._accessibility_index]._stat_change("notfocus","normal");}if(this._changeIndex(this._accessibility_index)){this.on_apply_index();}}}this.on_apply_style_itemborder(this.currentstyle.itemborder);};_pListBox.on_notify_item_onlbuttondown=function(_a,_b){if(this.readonly){return false;}_a._keep_selecting=true;_a._stat_change("select","selected");var _c=this._shiftKey=_b.shiftKey;this._ctrlKey=_b.ctrlKey;this._altKey=_b.altKey;this._selectinfo.obj=_a;this._selectinfo.index=_a.index;this._selectinfo.text=_a.text;this._selectinfo.value=_a.value;if(nexacro.isTouchInteraction||nexacro.SupportTouch){this._selectinfo_list[this._selectinfo_list.length]=this._selectinfo;}if(!_c){this._shift_select_base_index=_a.index;}this._lbtnDownIdx=_a.index;};_pListBox.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive||this.readonly){return false;}return nexacro.Component.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pListBox.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive||this.readonly){return false;}return nexacro.Component.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pListBox.on_fire_sys_ontouchend=function(_a,_b,_c,_d){if(_d&&(_d instanceof nexacro.ScrollBarCtrl||(_d.parent&&_d.parent instanceof nexacro.ScrollBarCtrl))){return;}var _e=this._selectinfo_list;var _f=nexacro.Component.prototype.on_fire_sys_ontouchend.call(this,_a,_b,_c,_d);while(_e.length){var _g=_e[0].obj;if(_g){_g._keep_selecting=false;var _h=this._get_contents_rows();var _i;var _j=_a[0];var _k=_j.canvasX;var _l=_j.canvasY;var _m=this.getElement();if(_m){var _n=this.currentstyle.border;var _o=_n?_n._left_width:0;var _p=_n?_n._top_width:0;_k=_k-((_m.scroll_left?_m.scroll_left:0)-_o);_l=_l-((_m.scroll_top?_m.scroll_top:0)-_p);if(_k<0){_k=_o;}if(_l<0){_l=_p;}}var _q=this._getClientXY(_k,_l);this.on_fire_onitemclick(this,_g.index,_g.text,_g.value,_j._current_state,this._altKey,this._ctrlKey,this._shiftKey,_j.screenX,_j.screenY,_k,_l,_q[0],_q[1]);_i=_g;var _r=_i.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_r);}else{this._do_select(_r,false);}}else{if(this._changeIndex(_r)){this.on_apply_index();}else{if(!_g.selected){_g._stat_change("notselect","normal");}}}}_e.shift();}return _f;};_pListBox.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l&&(_l instanceof nexacro.ScrollBarCtrl||(_l.parent&&_l.parent instanceof nexacro.ScrollBarCtrl))){return;}var _n=this._selectinfo;var _o=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _p=_n.obj;if(_p){_p._keep_selecting=false;var _q=this._get_contents_rows();var _r;this.on_fire_onitemclick(this,_p.index,_p.text,_p.value,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(nexacro._enableaccessibility){if(this._accessibility_index> -1){var _s=this._get_rowobj_byrow(this._accessibility_index);if(_n.index!=this._accessibility_index&&_s&&_s._selected==true){this._deselect_all(true);_s._stat_change("notselect","normal");}}}_r=_p;var _t=_r.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_t);}else{this._do_select(_t,false);}}else{if(this._changeIndex(_t)){this.on_apply_index();}else{if(!_p.selected){_p._stat_change("notselect","normal");}}}}return _o;};_pListBox.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);if(this.selectscrollmode=="select"&&this.multiselect){if(this._innerdataset){var _k= -1;if(_c[0]._elem&&_c[0]._elem.parent){_k=_c[0]._elem.parent.index;}if(this._lbtnDownIdx> -1&&_k> -1){this._deselect_all(true);var _l=this._lbtnDownIdx;var _m=_k;var _n=_k;if(!nexacro._isNumber(_l)){_l=0;}if(!nexacro._isNumber(_m)){_m=this._get_rowcount();}if(_l>_m){var _o=_m;_m=_l;_l=_o;_n=_o;}var _p=[];for(i=_l;i<=_m;i++ ){_p.push(i);}this._do_multi_select(_p,true);this._changeIndex(_n);}}return true;}return _j;};_pListBox.on_notify_item_onmouseenter=function(_a,_b){this._overeditemindex=_a.index;return false;};_pListBox.on_notify_item_onmouseleave=function(_a,_b){var _c=this._get_contents_rows();_a=this._getItemByRealIdx(_c,this._overeditemindex).obj;if(_a){if(!_a.selected){this._overeditemindex= -1;}}};_pListBox.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.readonly){return false;}if(this.onitemclick&&this.onitemclick._has_handlers){var _o=new nexacro.ItemClickEventInfo(_a,"onitemclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);var _p=this.onitemclick._fireEvent(this,_o);_o=null;return nexacro._toBoolean(_p);}return false;};_pListBox.on_fire_canitemchange=function(_a,_b,_c,_d,_e,_f,_g){if(this.canitemchange&&this.canitemchange._has_handlers){var _h=new nexacro.ItemChangeEventInfo(this,"canitemchange",_b,_c,_d,_e,_f,_g);var _i=this.canitemchange._fireCheckEvent(this,_h);_h=null;return nexacro._toBoolean(_i);}return true;};_pListBox._onItemchanged=function(_a,_b,_c,_d,_e,_f,_g){this.applyto_bindSource("value",_a.value);this.on_fire_onitemchanged(this,_b,_c,_d,_e,_f,_g);return true;};_pListBox.on_fire_onitemchanged=function(_a,_b,_c,_d,_e,_f,_g){if(!this._selectinfo){return false;}this._selectinfo.obj=null;this._selectinfo.index=_a.index;this._selectinfo.text=_a.text;this._selectinfo.value=_a.value;var _h=this._selectinfo;_h.index=_e;_h.text=_f;_h.value=_g;if(this.onitemchanged&&this.onitemchanged._has_handlers){var _i=new nexacro.ItemChangeEventInfo(this,"onitemchanged",_b,_c,_d,_e,_f,_g);var _j=this.onitemchanged._fireEvent(this,_i);return nexacro._toBoolean(_j);}return false;};_pListBox.on_notify_item_ondblclick=function(_a,_b){if(this.readonly||!this.enableevent){return false;}_b.canvasX+=_a._adjust_left-_a._scroll_left||0;_b.canvasY+=_a._adjust_top-_a._scroll_top||0;var _c=_a.currentstyle;if(_c&&_c.padding){_b.canvasX+=_c.padding.left;_b.canvasY+=_c.padding.top;}var _d=this._getClientXY(_b.canvasX,_b.canvasY);_b.clientX=_d[0];_b.clientY=_d[1];return this.on_fire_onitemdblclick(this,this.index,this.text,this.value,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY);};_pListBox.on_fire_onitemdblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.readonly){return false;}if(this.onitemdblclick&&this.onitemdblclick._has_handlers){var _o=new nexacro.ItemClickEventInfo(_a,"onitemdblclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);var _p=this.onitemdblclick._fireEvent(this,_o);return nexacro._toBoolean(_p);}return false;};_pListBox._adjustScrollRows_callback=function(_a){this._adjustScrollRows_proc(_a);this._clearHiddenPage();};_pListBox._adjustScrollRows_proc=function(_a){var _b=this.vscrollbar.pos;if(_a){this._scroll_vpos_queue=[];}else{this._scroll_vpos_queue.pop();if(this._scroll_vpos_queue.length>0){this._aniframe_rowscroll.start();}}var _c=this._get_first_visible_row();var _d=this._get_last_visible_row(true);this._draw_contents(_c,_d);this._control_element.setElementVScrollPos(_b);};_pListBox.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}if(_b.type=="trackstart"||_b.type=="tracklastover"||_b.type=="trackfirstover"){return;}if(nexacro.Browser=="Runtime"||(navigator.userAgent.indexOf("Android 4.1")> -1||navigator.userAgent.indexOf("Android 4.2")> -1||navigator.userAgent.indexOf("Android 4.3")> -1)){this._adjustScrollRows_callback(true);}else{if(_b._evtkind=="fling"||_b._evtkind=="slide"||_b.type=="track"){if(!this._aniframe_rowscroll){var _c=this;this._scroll_vpos_queue=[];this._aniframe_rowscroll=new nexacro.AnimationFrame(this,function(){_c._adjustScrollRows_callback();});}var _d=this._scroll_vpos_queue.push(_b.pos);if(_d==1){this._aniframe_rowscroll.start();}}else{this._adjustScrollRows_callback(true);}}return true;};_pListBox.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementHScrollPos(_b.pos);_c=null;}return true;};_pListBox.on_fire_onsize=function(_a,_b){if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pListBox.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;var _e=this._get_contents_rows();if(_e&&_e.length>0){var _f=null;if(_a>0){this._overeditemindex++ ;}else{this._overeditemindex-- ;}_f=this._getItemByRealIdx(_e,this._overeditemindex).obj;if(_f){_d=true;_f._setAccessibilityNotifyEvent();}}return _d;};_pListBox._create_item=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return new nexacro.ListItemCtrl(_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pListBox._create_row=function(_a,_b,_c,_d,_e){var _f=this._innerdataset;var _g=this.datacolumn?this.datacolumn:this._datacolumn;var _h=this.codecolumn?this.codecolumn:this._codecolumn;var _i=_f.getColumn(_a,_g);var _j=_f.getColumn(_a,_h);var _k=this._create_item("item","absolute",_b,_c,_d-_b,_e-_c,null,null,this);_k.set_value(_j);_k.set_text(_i);_k.set_index(_a);_k.set_selected(false);_k._setRtlDirection(this._rtldirection);_k._setEventHandler("onlbuttondown",this.on_notify_item_onlbuttondown,this);_k._setEventHandler("ontouchstart",this.on_notify_item_onlbuttondown,this);_k._setEventHandler("ondblclick",this.on_notify_item_ondblclick,this);_k._setEventHandler("onmouseenter",this.on_notify_item_onmouseenter,this);_k._setEventHandler("onmouseleave",this.on_notify_item_onmouseleave,this);_k.createComponent();if(!this._is_created){this._refresh_rows[this._refresh_rows.length]=_k;}if(this.multiselect==true){var _l=this._select_multi.items;var _m=this._select_multi.length;for(var _n=0;_n<_m;_n++ ){if(_a==_l[_n]){_k.set_selected(true);break;}}}else{if(this.index==_a){_k.set_selected(true);this._set_last_selectfocused(_a);}}return _k;};_pListBox._refresh_scroll=function(){this._contents_maxwidth=null;this._contents_maxheight=null;this._set_scroll_max_size();this._refresh_size(false);};_pListBox._refresh_row=function(_a,_b,_c){var _d=this._get_rowobj_byrow(_a);switch(_b){case "value":if(_d){_d.set_value(_c);}break;case "text":if(_d){_d.set_text(_c);}var _e=this._set_scroll_max_width(_a);if(_e){this._refresh_size(true);}break;case "index":if(_d){_d.set_index(_c);}break;case "select":if(_d){_d.set_selected(_c);}break;}};_pListBox._get_rowcount=function(){var _a=this._innerdataset;if(_a&&(this.datacolumn||this.codecolumn)){return _a.getRowCount();}else{return 0;}};_pListBox._getMaxTextSize=function(){var _a=this._innerdataset;var _b=this.datacolumn||this.codecolumn;if(!_a||!_b){return false;}var _c=this.on_find_CurrentStyle_font(this._pseudo)||nexacro.Component._default_font;var _d=this.on_find_CurrentStyle_letterspace(this._pseudo);var _e=this.currentstyle.itempadding?this.currentstyle.itempadding.left+this.currentstyle.itempadding.right:0;_e+=this.currentstyle.itemborder?this.currentstyle.itemborder._left_width+this.currentstyle.itemborder._right_width:0;var _f;var _g=_a.getRowCount();var _h=0;if(_g>0){for(i=0;i<_g;i++ ){_f=nexacro._getTextSize2(_d,_a.getColumn(i,_b),_c,null,null,null,this._rtldirection)[0];if(_h<_f){_h=_f;}}_h+=_e;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){return _h;}else{_h=Math.max(this._contents_maxwidth,_h);return _h;}}else{return 0;}};_pListBox._get_rowheight=function(){var _a=this.currentstyle.itemheight;return _a?nexacro._parseInt(_a.value,20):20;};_pListBox._get_select_mode=function(){if(this.multiselect){return "multi";}else{return "single";}};_pListBox._set_scroll_max_size=function(){this._set_scroll_max_width();this._contents_maxheight=this._get_rowcount()*this._get_rowheight();if(this._temp_elem){this._temp_elem.setElementPosition(0,this._contents_maxheight-1);}};_pListBox._set_scroll_max_width=function(_a){var _b=this.currentstyle.font||this._default_font;var _c=this.on_find_CurrentStyle_letterspace(this._pseudo);var _d=this._innerdataset;var _e=this.currentstyle.itempadding?this.currentstyle.itempadding.left+this.currentstyle.itempadding.right:0;_e+=this.currentstyle.itemborder?this.currentstyle.itemborder._left_width+this.currentstyle.itemborder._right_width:0;if(_b&&_d){if(this._contents_maxwidth!==null){if(this._pos_max_width==_a){var _f=this.datacolumn;var _g=this._getMaxTextSize();var _h=false;if(this._contents_maxwidth!=_g){this._contents_maxwidth=Math.max(this._contents_maxwidth,_g);_h=true;}this._pos_max_width=_j;return _h;}else{var _i=_d.getColumn(_a,this.datacolumn);var _g=nexacro._getTextSize2(_c,_i,_b,null,null,null,this._rtldirection);if(this._contents_maxwidth<_g[0]){this._contents_maxwidth=_g[0]+_e;this._pos_max_width=_a;return true;}return false;}}else{var _f=this.datacolumn;var _j=_d.findMaxLengthRow(_f);var _g=this._getMaxTextSize();this._contents_maxwidth=_g+_e;this._pos_max_width=_j;return true;}}return false;};_pListBox._getItemByRealIdx=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){if(_a[_c].index==_b){return {"obj":_a[_c],"index":_c};}}}return {"obj":null,"index":null};};_pListBox._clearHiddenPage=function(){var _a=this._get_first_visible_row();var _b=this._get_last_visible_row(true);var _c=this._get_page_from_rowidx(_a);var _d=this._get_page_from_rowidx(_b);var _e=100;var _f=this._get_rowcount();if(this._buffer_pages){var _g=this._buffer_pages;var _h,_i;var _j=0;for(var _k=0,_l=_g.length;_k<_l;_k++ ){if(_k>=_c&&_k<=_d){continue;}if((_f-_j)<=_e){break;}_h=_g[_k];if(_h){for(var _m=0,_n=_h.length;_m<_n;_m++ ){_i=_h[_m];if(_i){_i.destroy();}_j++ ;}_g[_k]=null;}}}};_pListBox._draw_contents=function(_a,_b,_c){if(!this._buffer_pages){this._buffer_pages=[];}var _d;var _e;var _f,_g;if(!this._has_range(_a,_b)){var _h=this._get_page_from_rowidx(_a);var _i=this._get_page_from_rowidx(_b);var _j;_f=(_h-1)*this._page_rowcount;var _k=this._get_rowcount();var _l=this._get_rowheight();var _m=this.getElement();var _n=0;var _o=this._page_rowcount;if(_m){_n=_m.container_maxwidth;}for(_j=_h;_j<=_i;_j++ ){if(!(this._buffer_pages[_j])||this._buffer_pages[_j].length<=0){_d=this._buffer_pages[_j]=[];for(var _q=0;_q<_o;_q++ ){_g=(_g===undefined)?(_f*_l):_g;_e=this._create_row(_f,0,_g,_n,_g+_l);_d.push(_e);_g=_e._adjust_top+_e._adjust_height;_f++ ;if(_k<=_f){break;}}}else{_d=this._buffer_pages[_j];var _p=_d[_d.length-1];_g=_p._adjust_top+_p._adjust_height;_f+=_d.length;}}}this._previous_start=this._cur_start;this._previous_end=this._cur_end;this._cur_start=_a;this._cur_end=_b;};_pListBox._resetDisplayInfo=function(){var _a=this.getElement();if(!_a){return;}this._page_rowcount=Math.ceil((_a.client_height)/this._get_rowheight());this._page_rowcount_min=Math.floor((_a.client_height)/this._get_rowheight());var _b=this._get_rowcount();if(_b==0){this._total_page_cnt=0;this._total_page_rowcnt=0;}else{this._total_page_cnt=Math.ceil(_b/this._page_rowcount);this._total_page_rowcnt=(this._page_rowcount*this._total_page_cnt);}};_pListBox._recreate_data=function(_a){if(!this._is_redrawing&&this._is_created_contents){var _b=this.getElement();if(!_b){return;}this._is_redrawing=true;this._clear_contents();this._resetDisplayInfo();this._refresh_scroll();var _c=this._get_rowcount();if(_c==0){this._is_redrawing=false;return;}var _d,_e;if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_d=0;_e=_c-1;}else{if(_a){_d=this._get_first_visible_row();_e=this._get_last_visible_row(true);}else{_d=0;if(_c<=this._total_page_rowcnt){_e=_c-1;}else{_e=this._total_page_rowcnt-1;}if(this._page_rowcount<_e){_e=this._page_rowcount;}}}if(this._is_created_contents){this._refresh_size(false);}this._draw_contents(_d,_e);this._is_redrawing=false;}};_pListBox._refresh_size=function(_a){var _b=this.getElement();if(_b){var _c=this._contents_maxwidth;var _d=this._contents_maxheight;var _e=_b.container_maxwidth;var _f=_b.container_maxheight;_c=Math.max(_c,_b.client_width);_d=Math.max(_d,_b.client_height);if((_b.container_maxwidth!=_c||_b.container_maxheight!=_d)){_b.setElementScrollMaxSize(_c,_d);}if(_a){this._refresh_scroll();}this._onResetScrollBar();}};_pListBox._clear_contents=function(){if(this._vscrollTask){this._vscrollTask.stop();}if(this._buffer_pages){var _a=this._buffer_pages;var _b,_c;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b){for(var _f=0,_g=_b.length;_f<_g;_f++ ){_c=_b[_f];if(_c){_c.destroy();}}_a[_d]=null;}}}this._buffer_pages=null;};_pListBox._get_first_visible_row=function(){var _a=(this.vscrollbar)?this.vscrollbar.pos:0;return Math.floor(_a/this._get_rowheight());};_pListBox._get_last_visible_row=function(_a){var _b;if(_a){_b=this._get_first_visible_row()+this._page_rowcount;}else{_b=this._get_first_visible_row()+this._page_rowcount_min;}var _c=this._get_rowcount();if(_b>=_c){_b=_c-1;}return _b;};_pListBox._get_page_from_rowidx=function(_a){return Math.floor(_a/this._page_rowcount)+1;};_pListBox._has_range=function(_a,_b){if(!this._buffer_pages){return false;}var _c=this._get_page_from_rowidx(_a),_d=this._get_page_from_rowidx(_b);for(;_c<=_d;_c++ ){if(!this._has_page(_c)){return false;}}return true;};_pListBox._has_page=function(_a){return !!this._buffer_pages[_a];};_pListBox._get_contents_rows=function(){var _a=this._buffer_pages,_b=[];if(_a){var _c,_d;for(var _e=0,_f=_a.length;_e<_f;_e++ ){_c=_a[_e];if(_c){_b=_b.concat(_c);}}}return _b;};_pListBox._get_rowobj_byrow=function(_a){var _b=this._buffer_pages;if(_b){var _c,_d;for(var _e=0,_f=_b.length;_e<_f;_e++ ){_c=_b[_e];if(_c){for(var _g=0,_h=_c.length;_g<_h;_g++ ){_d=_c[_g];if(_d&&_d.index==_a){return _d;}}}}}return null;};_pListBox._select_withmouseevent=function(_a,_b,_c){switch(this._get_select_mode()){case 'multi':if(this._shiftKey){if(!this._ctrlKey){this._deselect_all(true);}this._select_range(this._shift_select_base_index,_a,this._shiftKey);}else if(this._ctrlKey){var _d=this._get_rowobj_byrow(_a);if(_d){_d.set_selected(!_d.selected);}if(_d.selected===false){var _e,_f;var _g=this._select_multi;_f=_g?_g.length:0;for(_e=0;_e<_f;_e++ ){if(_a===_g.items[_e]){this._select_remove(_a);}}}else{this._select_add(_a);}this._set_last_selectfocused(_a);}else if(this._is_selected(_a)&&!this._shiftKey&&!this._ctrlKey&&this._get_selectcount()>1){this._do_select(_a,_c,false);}else{this._do_select(_a,false);}break;case 'single':this._do_select(_a,false);break;}};_pListBox._select_withkeyupevent=function(_a){var _b=this._select_multi.lastselected===undefined?nexacro._enableaccessibility?this._accessibility_index:this._select_multi.lastselected:this._select_multi.lastselected;if(_b>0){var _c=_b-1;if(_a.shiftKey&&_b){if(this._is_selected(_b)&&this._is_selected(_c)){this._do_deselect(_b,true);this._set_last_selectfocused(_c);if(this._isAccessibilityEnable()){var _d=this._get_contents_rows();_d[_c]._setFocus(true);}}else if(!this._is_selected(_b)){this._do_select(_b,true);this._do_select(_c,true);}else{this._do_select(_c,true);}}else{this._shift_select_base_index=null;this._deselect_all(true);this._do_select(_c);}}};_pListBox._select_withkeydownevent=function(_a){var _b=this._select_multi.lastselected===undefined?nexacro._enableaccessibility?this._accessibility_index:this._select_multi.lastselected:this._select_multi.lastselected;var _c=this._get_rowcount();if(_b+1<_c){var _d=_b+1;if(_a.shiftKey&&_b>=0){if(this._shift_select_base_index==_b){this._deselect_all(true);this._do_select(this._shift_select_base_index,true);}if(this._is_selected(_b)&&this._is_selected(_d)){this._do_deselect(_b,true);this._set_last_selectfocused(_d);}else if(!this._is_selected(_b)){this._do_select(_b,true);this._do_select(_d,true);}else{this._do_select(_d,true);}}else{this._shift_select_base_index=null;this._deselect_all(true);this._do_select(_d);}}};_pListBox._getPreCalculateWantTab=function(_a,_b){if(this._selectinfo&&this._selectinfo.index> -1){var _c=this._selectinfo.index;if(_c!= -1&&this.index==_c){return false;}}else{var _d=this._accessibility_index;if(_b){if(_d<0){return false;}}else{var _e=this._get_contents_rows().length;if(_d+1>_e){return false;}}}return this._want_tab;};_pListBox._getPreCalculateWantArrow=function(_a){if(nexacro._enableaccessibility&&(nexacro._accessibilitytype==4||nexacro._accessibilitytype==5)){return true;}else if(_a==nexacro.Event.KEY_UP){var _b=this._accessibility_index;if(_b==0&&!this._isAccessibilityEnable()){return false;}else if(this._accessibility_index== -1){var _c=this._getNextAccessibilityOrderIndex( -1);if(_c> -1){return true;}else{return false;}}}else if(_a==nexacro.Event.KEY_DOWN){if(this.index){var _d=this._get_contents_rows().length;if(this.index> -1&&this._accessibility_index== -1){return true;}else if(_b>=_d-1||this._getNextAccessibilityOrderIndex(1)>=_d||this._getNextAccessibilityOrderIndex(1)<0){return false;}}else{return true;}}return this._want_arrow;};_pListBox._getNextAccessibilityOrderIndex=function(_a){var _b=this._accessibility_index;var _c=this._get_contents_rows();if(_a>0){for(var _d=_b+_a,_e=_c.length;_d<_e;_d++ ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b= -1;}else if(_a<0){for(var _d=_b+_a;_d>=0;_d-- ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b=this._accessibility_index= -1;}return _b;};_pListBox._do_scroll=function(_a){var _b=this._get_first_visible_row();var _c=this._get_rowheight();var _d=this.vscrollbar;if(_d){var _e=_b;if(_a=="down"){_e+=1;}else{if(_d.pos<=_e*_c){_e-=1;}}_d.set_pos(_e*_c);_d=null;}};_pListBox._select_add=function(_a){if(_a<0||_a>this._innerdataset.getRowCount()-1){return;}var _b=_a+"";var _c=this._select_multi;var _d=_c.map[_b];if(typeof _d!='undefined'){return this._select_replace(_b,_a);}_c.map[_b]=_a;_c.length++ ;_c.items.push(_a);_c.keys.push(_b);this._changeIndex(_a,undefined,undefined,"_select_add");};_pListBox._select_replace=function(_a,_b){var _c=this._select_indexOfkey(_a);var _d=this._select_multi;_d.items[_c]=_b;_d.map[_a]=_b;};_pListBox._select_indexOfkey=function(_a){_a+="";return nexacro._indexOf(this._select_multi.keys,_a);};_pListBox._get_selectcount=function(){return this._select_multi.length;};_pListBox._select_remove=function(_a){var _b=this._select_indexOfkey(_a);var _c=this._select_multi;if(_b<_c.length&&_b>=0){_c.length-- ;_c.items.splice(_b,1);var _d=_c.keys[_b];if(typeof _d!='undefined'){_c.map[_d]=undefined;}_c.keys.splice(_b,1);if(!this.multiselect&&_c.length==0){this.index= -1;this.text="";this.value=undefined;}return _a;}return false;};_pListBox._select_indexOf=function(_a){if(!this.multiselect){return this._selectinfo?this._selectinfo.index==_a: -1;}else{return nexacro._indexOf(this._select_multi.items,_a);}};_pListBox._get_selection_last=function(){var _a=this._select_multi;return _a.items[_a.length-1];};_pListBox._get_select_range=function(_a,_b){var _c=this._select_multi;var _d=_c.items,_e=[],_f;if(_d.length<1){return _e;}_a=_a||0;_b=Math.min(typeof _b=='undefined'?_c.length-1:_b,_c.length-1);if(_a<=_b){for(_f=_a;_f<=_b;_f++ ){_e[_e.length]=_d[_f];}}else{for(_f=_a;_f>=_b;_f-- ){_e[_e.length]=_d[_f];}}return _e;};_pListBox._select_clear=function(){var _a=this._get_contents_rows();var _b=_a.length;if(_a){for(var _c=0;_c<_b;_c++ ){_a[_c].set_selected(false);}}this._select_multi={"items":[],"map":{},"keys":[],"length":0,"lastselected":null};};_pListBox._is_selected=function(_a){return this._select_indexOf(_a)!== -1;};_pListBox._select_range=function(_a,_b,_c,_d){if(!_c){this._deselect_all(true);}var _e=0,_f,_g,_h,_i=[],_j=_b;if(!nexacro._isNumber(_a)){_a=0;}if(!nexacro._isNumber(_b)){_b=this._get_rowcount();}if(_a>_b){_g=_b;_b=_a;_a=_g;_j=_g;}for(_f=_a;_f<=_b;_f++ ){if(this._is_selected(_f)){_e++ ;}}if(!_d){_h= -1;}else{_h=(_d=='up')?_a:_b;}for(_f=_a;_f<=_b;_f++ ){if(_e==(_b-_a+1)){if(_f!=_h){this._do_deselect(_f,true);}}else{_i.push(_f);}}this._do_multi_select(_i,true);this._changeIndex(_j);};_pListBox._deselect_all=function(_a){var _b=0,_c=this._get_rowcount();for(;_b<_c;_b++ ){this._do_deselect(_b,_a);}};_pListBox._do_select=function(_a,_b,_c){if(this.readonly){return false;}var _d;if(typeof _a==="number"){_a=[_a];}if(this._get_select_mode()=="single"&&_a){_d=_a.length?_a[0]:_a;this._do_single_select(_d,_c);}else{this._do_multi_select(_a,_b,_c);}};_pListBox._do_deselect=function(_a,_b){if(nexacro._isNumber(_a)){_a=[_a];}else if(!nexacro._isArray(_a)){_a=[_a];}var _c=_a.length;var _d,_e=0,_f=0;var _g=[0];var _h=this._select_multi;for(;_e<_c;_e++ ){_d=_a[_e];if(this._is_selected(_d)){ ++_f;this._on_select_change(_d,false,"deselect",_g,_b);}}return _g[0]===_f;};_pListBox._select_commit=function(_a,_b,_c){var _d=this._select_multi;switch(_a){case "deselect": ++(_c[0]);this._select_remove(_b);break;case "singleselect":var _e=_d.lastselected;this._select_add(_b);if(_e!=_b&&this._get_selectcount()>0&&this._do_deselect(_e)===false){return false;}_c[0]=true;break;case "multiselect":this._select_add(_b);_c[0]=true;break;}};_pListBox._do_single_select=function(_a,_b){var _c=[false];this._on_select_change(_a,true,"singleselect",_c,_b);if(_c[0]){if(!_b){this._set_last_selectfocused(_a);}}};_pListBox._do_multi_select=function(_a,_b,_c){var _d=_a[0];var _e=this._selectinfo.index;var _f=_a.length;if(!_b&&this._get_selectcount()>0){if(this._do_deselect(this._get_select_range(),_c)===false){return;}}var _g=[false];var _h=0,_i;var _j=this._select_multi;for(;_h<_f;_h++ ){_i=_a[_h];if(_b&&this._is_selected(_i)){continue;}this._on_select_change(_i,true,"multiselect",_g,_c);}this._set_last_selectfocused(_d,_c);};_pListBox._set_last_selectfocused=function(_a,_b){var _c=this._select_multi.lastselected;this._select_multi.lastselected=_a;if(_a!==_c){this._on_last_selectfocuschanged(_a,_b);}};_pListBox._on_select_change=function(_a,_b,_c,_d,_e){if(this._select_commit(_c,_a,_d)!==false){if(_b){this._refresh_row(_a,"select",true);}else{this._refresh_row(_a,"select",false);}}};_pListBox._on_last_selectfocuschanged=function(_a,_b){if(_a> -1){var _c=this.getElement();var _d=this._get_first_visible_row();var _e=this._get_last_visible_row(true);if(this.vscrollbar){if(_a<=_d){this.vscrollbar.set_pos(_a*this._get_rowheight());}else if(_a>=_e){if(_c){if(this._get_rowcount()>_a){var _f=(_a+1)*this._get_rowheight()-_c.client_height;this.vscrollbar.set_pos(_f);}}}}else{var _g=this._get_contents_rows();if(_g[_a]){var _h=_g[_a].getElement();if(_h){_h.setElementFocus();}}}}};_pListBox._search_style_obj=function(_a,_b,_c){if(_a&&_a._bindtype!=0){if(this._is_subcontrol){return nexacro._getValueForStyleBindExpr(this.parent,_a,_b,_c);}else{return nexacro._getValueForStyleBindExpr(this,_a,_b,_c);}}else{return _a;}};_pListBox._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,true);}};_pListBox.applyto_bindSource=function(_a,_b){if(this._apply_ds_val){return true;}if(!this._bind_event){return true;}var _c={propid:_a,val:_b};var _d=this._bind_event._fireEvent(this,_c);return _d;};_pListBox._changeIndex=function(_a,_b,_c){if(this.readonly){return false;}if(_b||_a!=this.index){var _d=this._innerdataset;var _e=parseInt(_a,10)|0;var _f=this.index;var _g=this.text;var _h=this.value;var _i=(this.codecolumn||this.datacolumn);if(_d&&_i){var _j=_d.getColumn(_e,this.datacolumn||this.codecolumn);var _k=_d.getColumn(_e,this.codecolumn||this.datacolumn);var _l=_j==undefined?"":_j;var _m=_k;this._prevpos=this._vscrollpos;if(_c!=true){if(this.on_fire_canitemchange(this,_f,_g,_h,_e,_l,_m)!=false){this._accessibility_index=this.index=_e;this.text=_l;if(!this._is_value_setting){this.value=_m;}this.applyto_bindSource("value",_k);this.on_fire_onitemchanged(this,_f,_g,_h,_e,_l,_m);return true;}}else{this._accessibility_index=this.index=_e;this.text=_l;if(!this._is_value_setting){this.value=_m;}this.applyto_bindSource("value",_k);return true;}}}return false;};delete _pListBox;_pListBox=null;nexacro.ListItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._is_reference_control=false;this._accessibility_role="listitem";this.index="";this.value=undefined;this.selected=false;this._keep_selecting=false;this.wordwrap="none";};var _pListItemCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.ListItemCtrl);nexacro.ListItemCtrl.prototype=_pListItemCtrl;_pListItemCtrl.destroy=function(){this._removeEventHandler("onlbuttondown",this.parent.on_notify_item_onlbuttondown,this.parent);this._removeEventHandler("ontouchstart",this.parent.on_notify_item_onlbuttondown,this.parent);this._removeEventHandler("ondblclick",this.parent.on_notify_item_ondblclick,this.parent);this._removeEventHandler("onmouseenter",this.parent.on_notify_item_onmouseenter,this.parent);this._removeEventHandler("onmouseleave",this.parent.on_notify_item_onmouseleave,this.parent);nexacro.Component.prototype.destroy.call(this);};_pListItemCtrl.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_c!=_b.font){_b.font=_c;this.on_apply_style_font(_c);}_c=this.on_find_CurrentStyle_color(_a);if(_c!=_b.color){_b.color=_c;this.on_apply_style_color(_c);}_c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=this.on_find_CurrentStyle_linespace(_a);if(_c!=_b.linespace){_b.linespace=_c;this.on_apply_style_linespace(_c);}_c=this.on_find_CurrentStyle_accessibility(_a);if(_c!=_b.accessibility){_b.accessibility=this._make_accessibility_value(_c);this.on_apply_style_accessibility(_b.accessibility);}_c=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_c!=_b.rtlimagemirroring){_b.rtlimagemirroring=_c;this.on_apply_style_rtlimagemirroring(_b.rtlimagemirroring);}_c=null;};_pListItemCtrl.on_find_CurrentStyle_background=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itembackground(_a);return this.parent._search_style_obj(_b,"background",this.index);};_pListItemCtrl.on_find_CurrentStyle_gradation=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itemgradation(_a);return this.parent._search_style_obj(_b,"gradation",this.index);};_pListItemCtrl.on_find_CurrentStyle_border=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itemborder(_a);return this.parent._search_style_obj(_b,"border",this.index);};_pListItemCtrl.on_find_CurrentStyle_bordertype=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itembordertype(_a);return this.parent._search_style_obj(_b,"bordertype",this.index);};_pListItemCtrl.on_find_CurrentStyle_padding=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itempadding(_a);return this.parent._search_style_obj(_b,"padding",this.index);};_pListItemCtrl.on_find_CurrentStyle_color=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_color(_a);return this.parent._search_style_obj(_b,"color",this.index);};_pListItemCtrl.on_find_CurrentStyle_font=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_font(_a);return this.parent._search_style_obj(_b,"font",this.index);};_pListItemCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a);};_pListItemCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_itemaccessibility(_a);};_pListItemCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pListItemCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pListItemCtrl.on_apply_custom_setfocus=function(_a){if(!this.parent._is_subcontrol&&this.parent._pseudo=="focused"){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}};_pListItemCtrl.isFocusAcceptable=function(){return nexacro._enableaccessibility;};_pListItemCtrl._getAccessibilityLabel=function(_a){var _b=this.parent._is_first_focus;var _c="";if(_b&&this._isAccessibilityEnable()){var _d=this.parent;var _e=_d.on_find_CurrentStyle_accessibility(_d._pseudo);_c=_d._getAccessibilityParentValue(_e);}_c+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _c;};_pListItemCtrl._getAccessibilityRole=function(_a){var _b="";if(this._isAccessibilityEnable()){var _c=this.parent;if(_c._is_first_focus){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);_b=_d.role?_d.role:_c._accessibility_role;}else{_b=_a.role?_a.role:this._accessibility_role;}}return _b;};_pListItemCtrl._setAccessibilityStatFocus=function(_a){var _b=this.parent;if(!_b._is_subcontrol&&_b._pseudo=="focused"){if(_b.multiselect&&_b._shift_select_base_index&&_b._shift_select_base_index!=this.index){var _c=_b._get_contents_rows()[_b._shift_select_base_index];if(_c&&_c._pseudo=="selected"){var _d=_c._getAccessibilityLabel(_c.on_find_CurrentStyle_accessibility(this._pseudo));_d+=" "+this._getAccessibilityLabel(this.on_find_CurrentStyle_accessibility(this._pseudo));this._setAccessibilityLabel(_d);}}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);}};_pListItemCtrl.on_get_style_accessibility_label=function(){return this.text;};_pListItemCtrl.set_index=function(_a){if(_a!==this.index){this.index=parseInt(_a,10);}};_pListItemCtrl.set_value=function(_a){if(_a!==this.value){this.value=_a;}};_pListItemCtrl.set_selected=function(_a){if(_a!=this.selected){this.selected=_a;this.on_apply_selected();}};_pListItemCtrl.on_apply_selected=function(){this._control_pseudo="";this._contents_pseudo="";if(this.selected){this._stat_change("select","selected");}else{if(nexacro._enableaccessibility){if(this._control_pseudo=="focused"){this._stat_change("notfocus","normal");}else{this._stat_change("notselect","normal");}}else{this._stat_change("notselect","normal");}}};_pListItemCtrl.on_apply_mouseover=function(_a){if(_a){this._stat_change("notselect","mouseover");}else{if(this.selected){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}}};nexacro.ListBoxCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ListBox.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pListBoxCtrl=nexacro.ListBoxCtrl.prototype=nexacro._createPrototype(nexacro.ListBox,nexacro.ListBoxCtrl);_pListBoxCtrl._type_name="ListBoxControl";nexacro._setForControlStyleFinder(_pListBoxCtrl);delete _pListBoxCtrl;_ListBoxCtrl=null;};if(!nexacro.Combo){nexacro.ComboCloseUpEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this.id=this.eventid=_b||"oncloseup";this.fromobject=this.fromreferenceobject=_a;this.posttext=_g;this.pretext=_d;this.postvalue=_h;this.prevalue=_e;this.postindex=_f;this.preindex=_c;this.isselect=_i;};var _pComboCloseUpEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ComboCloseUpEventInfo);nexacro.ComboCloseUpEventInfo.prototype=_pComboCloseUpEventInfo;_pComboCloseUpEventInfo._type_name="ComboCloseUpEventInfo";delete _pComboCloseUpEventInfo;_pComboCloseUpEventInfo=null;nexacro.Combo_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.itemheight=null;this.itembackground=null;this.itemcolor=null;this.itemfont=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.buttonsize=null;this.itemaccessibility=null;this.popuptype=null;this.displaynulltextcolor=null;};var _pComboStyle=nexacro._createPrototype(nexacro.Style,nexacro.Combo_Style);nexacro.Combo_Style.prototype=_pComboStyle;_pComboStyle._type_name="ComboStyle";eval(nexacro._createValueAttributeEvalStr("_pComboStyle","itemheight"));eval(nexacro._createBackgroundAttributeEvalStr("_pComboStyle","itembackground"));eval(nexacro._createColorAttributeEvalStr("_pComboStyle","itemcolor"));eval(nexacro._createFontAttributeEvalStr("_pComboStyle","itemfont"));eval(nexacro._createGradationAttributeEvalStr("_pComboStyle","itemgradation"));eval(nexacro._createBorderAttributeEvalStr("_pComboStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pComboStyle","itembordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pComboStyle","itempadding"));eval(nexacro._createValueAttributeEvalStr("_pComboStyle","buttonsize"));eval(nexacro._createAccessibilityAttributeEvalStr("_pComboStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pComboStyle","popuptype"));eval(nexacro._createColorAttributeEvalStr("_pComboStyle","displaynulltextcolor"));_pComboStyle.__custom_emptyObject=function(){this.itemheight=null;this.itembackground=null;this.itemcolor=null;this.itemfont=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.buttonsize=null;this.itemaccessibility=null;this.popuptype=null;this.displaynulltextcolor=null;};_pComboStyle.__get_custom_style_value=function(){var _a="";var _b=this.itemheight;if(_b&&_b._is_empty){_a+="itemheight:"+_b._value+"; ";}_b=this.itembackground;if(_b&&_b._is_empty){_a+="itembackground:"+_b._value+"; ";}_b=this.itemcolor;if(_b&&_b.is_empty){_a+="itemcolor:"+_b._value+"; ";}_b=this.itemfont;if(_b&&_b._is_empty){_a+="itemfont:"+_b._value+"; ";}_b=this.itemgradation;if(_b&&_b._is_empty){_a+="itemgradation:"+_b._value+"; ";}_b=this.itemborder;if(_b&&_b._is_empty){_a+="itemborder:"+_b._value+"; ";}_b=this.itembordertype;if(_b&&_b._is_empty){_a+="itembordertype:"+_b._value+"; ";}_b=this.itempadding;if(_b&&_b._is_empty){_a+="itempadding:"+_b._value+"; ";}_b=this.buttonsize;if(_b&&_b._is_empty){_a+="buttonsize:"+_b._value+"; ";}_b=this.accessibility;if(_b&&_b._is_empty){_a+="accessibility:"+_b._value+"; ";}_b=this.itemaccessibility;if(_b&&_b._is_empty){_a+="itemaccessibility:"+_b._value+"; ";}_b=this.popuptype;if(_b&&_b._is_empty){_a+="popuptype:"+_b._value+"; ";}_b=this.displaynulltextcolor;if(_b&&_b._is_empty){_a+="displaynulltextcolor:"+_b._value+"; ";}_b=null;return _a;};nexacro.Combo_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemheight=null;this.itembackground=null;this.itemcolor=null;this.itemfont=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.buttonsize=null;this.itemaccessibility=null;this.popuptype=null;this.displaynulltextcolor=null;};var _pComboCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Combo_CurrentStyle);nexacro.Combo_CurrentStyle.prototype=_pComboCurrentStyle;_pComboCurrentStyle._type_name="ComboCurrentStyle";_pComboCurrentStyle.__custom_emptyObject=_pComboStyle.__custom_emptyObject;_pComboCurrentStyle.__get_custom_style_value=_pComboStyle.__get_custom_style_value;delete _pComboStyle;delete _pComboCurrentStyle;nexacro.Combo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._selectinfo={index: -1,text:"",value:undefined};this._eventinfo={postindex: -1,posttext:"",postvalue:undefined,preindex: -1,pretext:"",prevalue:undefined,isselect:false};this.comboedit=null;this.dropbutton=null;this.combolist=null;this.popupwindow=null;this.value=undefined;this.index= -1;this.text="";this.codecolumn="";this.datacolumn="";this.innerdataset=null;this.type="dropdown";this.readonly=false;this.displayrowcount= -1;this.displaynulltext="";this.autoselect=false;this.autoskip=false;this.usesoftkeyboard=true;this.imemode="normal";this.inputtype="normal";this.useime="global";this.selectchangetype="noboundup";this.usecontextmenu=true;this._exprcache={};this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"onmove":1,"onsize":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onrbuttondown":1,"onrbuttonup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oneditclick":1,"ontextchanged":1,"onitemclick":1,"canitemchange":1,"onitemchanged":1,"ondropdown":1,"oncloseup":1,"ontextchange":1,"onchar":1,"cancharchange":1,"oncontextmenu":1,"onmousewheel":1};this._prevalue=undefined;this._preindex= -1;this._pretext="";this._moverindex= -1;this._default_buttonsize=nexacro._getCachedStyleObj("buttonsize","-1");this._innerdataset=null;this._filtereddataset=null;this._downkey=false;this._enterkey=false;this._keyval=undefined;this._text_change=false;this._want_arrows=true;this._accessibility_role="combobox";this._has_inputElement=true;this._edit_base_api=null;this._is_recheck=false;this._scroll_proc=false;this._start_vscroll_pos=0;this._is_notify_dropdown=false;this._is_force=false;this._init_value=undefined;this._init_index= -1;this._is_mouseover=false;};var _pCombo=nexacro._createPrototype(nexacro.Component,nexacro.Combo);nexacro.Combo.prototype=_pCombo;_pCombo._type_name="Combo";_pCombo.on_create_custom_style=function(){return new nexacro.Combo_Style(this);};_pCombo.on_create_custom_currentStyle=function(){return new nexacro.Combo_CurrentStyle();};_pCombo.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_itemheight(_a);if(_c!=_b.itemheight){_b.itemheight=_c;this.on_apply_style_itemheight(_c);}_c=this.on_find_CurrentStyle_itembackground(_a);if(_c!=_b.itembackground){_b.itembackground=_c;this.on_apply_style_itembackground(_c);}_c=this.on_find_CurrentStyle_itemcolor(_a);if(_c!=_b.itemcolor){_b.itemcolor=_c;this.on_apply_style_itemcolor(_c);}_c=this.on_find_CurrentStyle_itemfont(_a);if(_c!=_b.itemfont){_b.itemfont=_c;this.on_apply_style_itemfont(_c);}_c=this.on_find_CurrentStyle_itemgradation(_a);if(_c!=_b.itemgradation){_b.itemgradation=_c;this.on_apply_style_itemgradation(_c);}_c=this.on_find_CurrentStyle_itemborder(_a);if(_c!=_b.itemborder){_b.itemborder=_c;this.on_apply_style_itemborder(_c);}_c=this.on_find_CurrentStyle_itembordertype(_a);if(_c!=_b.itembordertype){_b.itembordertype=_c;this.on_apply_style_itembordertype(_c);}_c=this.on_find_CurrentStyle_itempadding(_a);if(_c!=_b.itempadding){_b.itempadding=_c;this.on_apply_style_itempadding(_c);}_c=this.on_find_CurrentStyle_itemaccessibility(_a);if(_c!=_b.itemaccessibility){_b.itemaccessibility=_c;this.on_apply_style_itemaccessibility(_c);}_c=this.on_find_CurrentStyle_buttonsize(_a);if(_c!=_b.buttonsize){_b.buttonsize=_c;this.on_apply_style_buttonsize(_c);}_c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=this.on_find_CurrentStyle_font(_a);if(_c!=_b.font){_b.font=_c;this.on_apply_style_font(_c);}_c=this.on_find_CurrentStyle_letterspace(_a);if(_c!=_b.letterspace){_b.letterspace=_c;this.on_apply_style_letterspace(_c);}_c=this.on_find_CurrentStyle_color(_a,this.comboedit);if(_c!=_b.color){_b.color=_c;if(_c!=null){this.on_apply_style_color(_c);}}_c=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_c!=_b.displaynulltextcolor){_b.displaynulltextcolor=_c;this.on_apply_style_displaynulltextcolor(_c);}var _d=this.on_find_CurrentStyle_popuptype(_a);if(_b.popuptype!=_d){_b.popuptype=_d;}_c=null;};_pCombo.on_find_CurrentStyle_itemheight=function(_a){return this._find_pseudo_obj("itemheight",_a);};_pCombo.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pCombo.on_find_CurrentStyle_itemcolor=function(_a){return this._find_pseudo_obj("itemcolor",_a,"color")||nexacro.Component._default_color;};_pCombo.on_find_CurrentStyle_itemfont=function(_a){return this._find_pseudo_obj("itemfont",_a,"font");};_pCombo.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pCombo.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pCombo.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pCombo.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding")||nexacro.Component._default_padding;};_pCombo.on_find_CurrentStyle_itemaccessibility=function(_a){return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pCombo.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||this._default_buttonsize;};_pCombo.on_find_CurrentStyle_popuptype=function(_a){return this._find_pseudo_obj("popuptype",_a);};_pCombo.on_find_CurrentStyle_align=function(_a,_b){if(_b){return _b._find_pseudo_obj("align",_a,"align")||this._find_pseudo_obj("align",_a,"align");}return this._find_pseudo_obj("align",_a,"align");};_pCombo.on_find_CurrentStyle_background=function(_a,_b){if(_b){return _b._find_pseudo_obj("background",_a,"background")||this._find_pseudo_obj("background",_a,"background");}return this._find_pseudo_obj("background",_a,"background");};_pCombo.on_find_CurrentStyle_border=function(_a,_b){if(_b){return _b._find_pseudo_obj("border",_a,"border")||this._find_pseudo_obj("border",_a,"border");}return this._find_pseudo_obj("border",_a,"border");};_pCombo.on_find_CurrentStyle_bordertype=function(_a,_b){if(_b){return _b._find_pseudo_obj("bordertype",_a,"bordertype")||this._find_pseudo_obj("bordertype",_a,"bordertype");}return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pCombo.on_find_CurrentStyle_color=function(_a,_b){if(_b){return _b._find_pseudo_obj("color",_a,"color")||this._find_pseudo_obj("color",_a,"color");}return this._find_pseudo_obj("color",_a,"color");};_pCombo.on_find_CurrentStyle_font=function(_a,_b){if(_b){var _c=_b._find_pseudo_obj("font",_a,"font");if(_c){return _c;}}return nexacro.Component.prototype.on_find_CurrentStyle_font.call(this,_a);};_pCombo.on_find_CurrentStyle_displaynulltextcolor=function(_a,_b){if(_b){var _c=_b._find_pseudo_obj("displaynulltextcolor",_a,"color")||this._find_pseudo_obj("displaynulltextcolor",_a,"color");}else{var _c=this._find_pseudo_obj("displaynulltextcolor",_a,"color");}if(!_c){_c=this._find_pseudo_obj("color",_a,"color");}if(!_c){_c=this._find_inherit_pseudo_obj("color",_a,"color");}return (_c)?_c:nexacro.Component._default_color;};_pCombo.on_find_CurrentStyle_gradation=function(_a,_b){if(_b){return _b._find_pseudo_obj("gradation",_a,"gradation")||this._find_pseudo_obj("gradation",_a,"gradation");}return this._find_pseudo_obj("gradation",_a,"gradation");};_pCombo.on_find_CurrentStyle_accessibility=function(_a,_b){if(_b){return _b._find_pseudo_obj("accessibility",_a,"accessibility")||this._find_pseudo_obj("accessibility",_a,"accessibility");}return this._find_pseudo_obj("accessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pCombo.on_update_style_color=function(){this.on_apply_style_color(this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo,this.comboedit));};_pCombo.on_update_style_itemheight=function(){this.on_apply_style_itemheight(this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo));};_pCombo.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));};_pCombo.on_update_style_itemcolor=function(){this.on_apply_style_itemcolor(this.currentstyle.itemcolor=this.on_find_CurrentStyle_itemcolor(this._pseudo));};_pCombo.on_update_style_displaynulltextcolor=function(){this.on_apply_style_displaynulltextcolor(this.currentstyle.displaynulltextcolor=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo));};_pCombo.on_update_style_itemfont=function(){this.on_apply_style_itemfont(this.currentstyle.itemfont=this.on_find_CurrentStyle_itemfont(this._pseudo));};_pCombo.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));};_pCombo.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));};_pCombo.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));};_pCombo.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));};_pCombo.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));};_pCombo.on_update_style_buttonsize=function(){this.on_apply_style_buttonsize(this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo));};_pCombo.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);};_pCombo.on_apply_style_color=function(_a){if(this.comboedit){this.comboedit.on_apply_style_color(this.comboedit.currentstyle.color=_a);}};_pCombo.on_apply_style_displaynulltextcolor=function(_a){if(this.comboedit){this.comboedit.on_apply_style_displaynulltextcolor(this.comboedit.currentstyle.displaynulltextcolor=_a);}};_pCombo.on_apply_style_font=function(_a){if(this.comboedit){this.comboedit.on_apply_style_font(this.comboedit.currentstyle.font=_a);}};_pCombo.on_apply_style_letterspace=function(_a){if(this.comboedit){this.comboedit.on_apply_style_letterspace(this.comboedit.currentstyle.letterspace=_a);}};_pCombo.on_apply_style_align=function(_a){if(!_a){_a=this.on_find_CurrentStyle_align(this._pseudo);}if(this.comboedit){this.comboedit.style.set_align(_a);}};_pCombo.on_apply_style_itemheight=function(_a){if(this.combolist){this.combolist.on_update_style_itemheight();}};_pCombo.on_apply_style_itembackground=function(_a){if(this.combolist){this.combolist.on_apply_style_itembackground(_a);}};_pCombo.on_apply_style_itemcolor=function(_a){if(this.combolist){this.combolist.on_apply_style_color(_a);}};_pCombo.on_apply_style_itemfont=function(_a){if(this.combolist){this.combolist.on_apply_style_font(_a);}};_pCombo.on_apply_style_itemgradation=function(_a){if(this.combolist){this.combolist.on_apply_style_itemgradation(_a);}};_pCombo.on_apply_style_itemborder=function(_a){if(this.combolist){this.combolist.on_apply_style_itemborder(_a);}};_pCombo.on_apply_style_itembordertype=function(_a){if(this.combolist){this.combolist.on_apply_style_itembordertype(_a);}};_pCombo.on_apply_style_itempadding=function(_a){if(this.combolist){this.combolist.on_apply_style_itempadding(_a);}};_pCombo.on_apply_style_itemaccessibility=function(_a){if(this.combolist){this.combolist.on_apply_style_itemaccessibility(_a);}};_pCombo.on_apply_style_buttonsize=function(_a){this._recalcLayout();};_pCombo.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this.comboedit){this.comboedit.on_apply_style_accessibility(_a);}};_pCombo.on_create_contents=function(){if(this.getElement()){this.comboedit=new nexacro.ComboEditCtrl("comboedit","absolute",0,0,0,0,null,null,this);this.dropbutton=new nexacro.ComboButtonCtrl("dropbutton","absolute",0,0,0,0,null,null,this);this.comboedit.createComponent();this.dropbutton.createComponent();}};_pCombo.on_created_contents=function(){this.on_apply_autoskip();this.on_apply_displaynulltext();this.on_apply_imemode();this.on_apply_type();this.on_apply_autoselect();this.on_apply_style_displaynulltextcolor(this.currentstyle.displaynulltextcolor);if(this.value===undefined){this.value=this._init_value;this.index=this._init_index;}if(this.value!==undefined){this.on_apply_value();this.applyto_bindSource("value",this.value);}else if(this.index> -1){this.on_apply_index();}else if(this.text!==""){if(!this._innerdataset){this.on_apply_text();}else{this.on_apply_index();}}this.on_apply_usecontextmenu();this._setEventHandler("onmousewheel",this.on_notify_combo_mousewheel,this);this.comboedit._setEventHandler("oneditclick",this.on_notify_edit_oneditclick,this);this.comboedit._setEventHandler("ontextchanged",this.on_notify_edit_ontextchanged,this);this.comboedit._setEventHandler("ontextchange",this.on_notify_edit_ontextchange,this);this.comboedit._setEventHandler("onchar",this.on_notify_edit_onchar,this);this.comboedit._setEventHandler("cancharchange",this.on_notify_edit_cancharchange,this);if(!nexacro.isTouchInteraction&&!nexacro.SupportTouch){this.comboedit._setEventHandler("onlbuttondown",this.on_notify_edit_onlbuttondown,this);this.dropbutton._setEventHandler("onlbuttondown",this.on_notify_ondropdown,this);this.comboedit._setEventHandler("onmouseenter",this.on_notify_edit_onmouseenter,this);this.comboedit._setEventHandler("onmouseleave",this.on_notify_edit_onmouseleave,this);}this.comboedit.on_created();this._edit_base_api=this.comboedit._edit_base_api;this.dropbutton.on_created();this._setEditReaonly();if(nexacro._enableaccessibility){this._want_arrows=false;this._setAccessibilityActiveDescendant(this.comboedit);this._setAccessibilityStatAutoComplete("list");this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));}this.on_apply_style_align(this.currentstyle.align);this.on_apply_style_cursor(this.currentstyle.cursor);this.on_apply_style_letterspace(this.currentstyle.letterspace);this.on_apply_prop_rtldirection();if(this.innerdataset&&this.value&&this.index== -1){this.comboedit._setValue("");}else if(!this.innerdataset||this.index== -1){this._is_force=true;this.set_text("");this._is_force=false;var _a=this.comboedit._edit_base_api;_a._undoStack.init();}};_pCombo.on_destroy_contents=function(){var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);}var _b=this._getRootForm();if(_b){_b._bind_manager._dettachSBindItem(this);}if(this.comboedit){this.comboedit.destroy();this.comboedit=null;}if(this.dropbutton){this.dropbutton.destroy();this.dropbutton=null;}if(this.combolist){this.combolist.destroy();this.combolist=null;}if(this.popupwindow){this.popupwindow.destroy();this.popupwindow=null;}if(this._innerdataset){this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);}this._innerdataset=null;this.innerdataset=null;this._filtereddataset=null;this._selectinfo=null;this._eventinfo=null;this._exprcache=null;this._default_buttonsize=null;};_pCombo.on_change_containerRect=function(_a,_b){this._recalcLayout();};_pCombo.on_apply_custom_setfocus=function(_a){var _b=this.comboedit;try{_b._stat_change("focus","focused");if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)||!nexacro.SupportTouch||(nexacro._isMobile&&nexacro._isMobile())){_b.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}catch(e){}};_pCombo.on_getBindableProperties=function(){return "value";};_pCombo._callback_onvaluechanged=function(_a,_b){if(this.type=="filter"||this.type=="filterlike"){this._createFilteredDataset();}this._recheckValue();this._is_recheck=true;var _c=this.combolist;if(_c){_c._recreate_data(true);}};_pCombo._callback_onrowsetchanged=function(_a,_b){if(_b.reason==22||_b.reason==31){if(this.type=="filter"||this.type=="filterlike"){this._createFilteredDataset();}}else if(_b.reason==10){this.set_index( -1);}if(this._is_recheck==false){this._recheckValue();this._is_recheck=true;}};_pCombo.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=_a;if(_a==undefined){_b=this.enable;}if(this.comboedit){this.comboedit._setEnable(_b);}if(this.dropbutton){this.dropbutton._setEnable(_b);}if(this.combolist){this.combolist._setEnable(_b);}};_pCombo.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;if(this.comboedit){this.comboedit._setRtlDirection(_a);}if(this.dropbutton){this.dropbutton._setRtlDirection(_a);}if(this.combolist){this.combolist._setRtlDirection(_a);}};_pCombo.on_apply_custom_class=function(){if(this.comboedit){this.comboedit.on_apply_prop_class();}if(this.dropbutton){this.dropbutton.on_apply_prop_class();}if(this.combolist){this.combolist.on_apply_prop_class();}};_pCombo.on_init_bindSource=function(_a,_b,_c){if(this.type=="filter"||this.type=="filterlike"){this._createFilteredDataset();}this._prevalue=undefined;this._preindex= -1;this._pretext="";this.value=undefined;this.index= -1;this.text="";this._eventinfo.preindex= -1;this._eventinfo.pretext="";this._eventinfo.prevalue=undefined;this._eventinfo.postindex= -1;this._eventinfo.posttext="";this._eventinfo.postvalue=undefined;this.redraw();return true;};_pCombo.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a!=="value"||!_b||_c< -1||_d< -1){return false;}if(this.type=="filter"||this.type=="filterlike"){this._createFilteredDataset();}var _f=_b.getColumn(_c,_d);if(!this._is_created){if(this._init_value!=undefined&&this._init_value!=_f){this.on_apply_value();return;}}if(this.value==_f){return true;}this._prevalue=this.value;this._preindex=this.index;this._pretext=this.text;this.value=_f;this.index=this._getIndex(_f);this.text=this._getItemText(this.index);if(this.index== -1&&!this._innerdataset){this.index=_c;this.text=_f;}this._eventinfo.preindex=this._preindex;this._eventinfo.pretext=this._pretext;this._eventinfo.prevalue=this._prevalue;this._eventinfo.postindex=this.index;this._eventinfo.posttext=this.text;this._eventinfo.postvalue=this.value;this.redraw();return true;};_pCombo.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);if(this._isPopupVisible()){if(_a||_b){this._closePopup();return;}this._update_popupwindow_position();if(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime"){var _c=this;var _d=this._popupwindow_position_observer;if(_d){if(_d._interval_timer){_d._interval_timer.stop();delete _d._interval_timer;_d._interval_timer=null;}this._popupwindow_position_observer=null;}var _e=this._control_element;_d=this._popupwindow_position_observer={};_d._observed_count=0;_d._elem_pos=nexacro._getElementPositionInFrame(_e);_d._interval_timer=new nexacro.CallbackTimer(this,function(){if( ++_d._observed_count>=50){_d._interval_timer.destroy();delete _d._interval_timer;_d._interval_timer=null;return;}var _f=nexacro._getElementPositionInFrame(_e);if(_d._elem_pos.x!=_f.x||_d._elem_pos.y!=_f.y){_c._update_popupwindow_position();_d._observed_count=50;}},100);_d._interval_timer.start();}}};_pCombo._getDlgCode=function(_a,_b,_c,_d){if(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN){if(_c||_b){return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:true};}}return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:this._want_arrows};};_pCombo.on_get_style_accessibility_label=function(){return "";};_pCombo._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this.comboedit._input_element&&this._status!="focus"){if(!this.comboedit._input_element._wantAccessibilityAdditionalLabel||!this.comboedit._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pCombo._isItemAccessibilityEnable=function(){return false;};_pCombo.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(_a!=this.visible){nexacro.Component.prototype.set_visible.call(this,_a);if(!_a&&this._is_created){this.closeDropdown();}}};_pCombo.set_value=function(_a){if(_a!=this.value){this._prevalue=this.value;this.value=_a;if(!this._is_created){this._init_value=this.value;}this.on_apply_value();if(this._is_created&&this.value===undefined&&_a!==undefined){this.value=_a;}else{this.applyto_bindSource("value",this.value);}}};_pCombo.on_apply_value=function(){if(this.getElement()){var _a=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _b=(this.type=="filter"||this.type=="filterlike")?_a:this._innerdataset;if(_b){var _c=_b.getRowCount();for(var _f=0;_f<_c;_f++ ){var _d=this._getItemValue(_f);if(_d instanceof nexacro.Decimal&&this.value instanceof nexacro.Decimal){if(_d.isEqual(this.value)){this.index=_f;this.text=this._getItemText(this.index);this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();return;}}else{var _e=this.value;if(_e instanceof nexacro.Decimal){_e=_e.toString();}else if(_d instanceof nexacro.Decimal){_d=_d.toString();}if(this.value==_d){if(_d===0){_d=_d+"";}if(_e===0){_e=_e+"";}if(_d==_e){this.index=_f;this.text=this._getItemText(this.index);this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();return;}}}}if(this._is_created){this.value=undefined;}this.index= -1;this.text="";this._refreshAccessibilityValue();}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();}};_pCombo.set_index=function(_a){if(_a!=this.index){var _b;if(this.type=="filter"||this.type=="filterlike"){_b=this._filtereddataset;}else{_b=this._innerdataset;}if(_b){if(_a!==undefined){_a=parseInt(_a,10)|0;}this._preindex=this.index;this._pretext=this.text;this._prevalue=this.value;this.index=_a;if(_a>=0&&_b&&_a<_b.getRowCount()){this.value=this._getItemValue(_a);this.text=this._getItemText(_a);}if(!this._is_created){this._init_index=this.index;}this.on_apply_index();}}};_pCombo.on_apply_index=function(){if(this.getElement()){var _a=this._innerdataset;var _b=this.index;if(_b>=0&&_a&&_b<_a.getRowCount()){this.value=this._getItemValue(_b);this.text=this._getItemText(_b);this._eventinfo.preindex=this._preindex;this._eventinfo.pretext=this._pretext;this._eventinfo.prevalue=this._prevalue;this._eventinfo.postindex=this.index;this._eventinfo.posttext=this.text;this._eventinfo.postvalue=this.value;if(this.applyto_bindSource("value",this.value)===false&&!nexacro._isNull(this.value)){this.index=this._preindex;this.value=this._prevalue;this.text=this._getItemText(this.index);}var _c=this.combolist;if(_c){if(this.type=="filter"||this.type=="filterlike"){var _d=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();_d.set_filterstr("");}_c.set_index(this.index);}_c=null;this.redraw();this._refreshAccessibilityValue();return;}this.index= -1;this.value=undefined;this.text="";if(_a){if(this.applyto_bindSource("value",this.value)===false){this.index=this._preindex;this.value=this._prevalue;if(this.index!= -1){this.text=this._getItemText(this.index);}}}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();}};_pCombo.set_text=function(_a){if(_a!=this.text||this._is_force){this._pretext=this.text;this.text=_a==undefined?"":_a;this.on_apply_text();}};_pCombo.on_apply_text=function(){if(this.getElement()){var _a=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _b=(this.type=="filter"||this.type=="filterlike")?_a:this._innerdataset;if(!_b||(!this.datacolumn&&!this.codecolumn)){if(this.comboedit._input_element._value==undefined||this._pretext!=""){if(this.value){this._setEditValue(this.text);}else{if(this.displaynulltext||this.text==""){this._setEditValue(undefined);}else{this._setEditValue(this.text);}}}this._refreshAccessibilityValue();return;}if(_b&&this._is_created){var _c=_b.getRowCount();for(var _d=0;_d<_c;_d++ ){if(this.text==this._getItemText(_d)){this.index=_d;this.value=this._getItemValue(_d);if(this.applyto_bindSource("value",this.value)===false){this.index=this._preindex;this.value=this._prevalue;}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();return;}}this.value=undefined;this.text="";}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();}};_pCombo.set_codecolumn=function(_a){if(_a!=this.codecolumn){this.codecolumn=_a;this.on_apply_codecolumn();}};_pCombo.on_apply_codecolumn=function(){if(this.combolist){this.combolist.set_codecolumn(this.codecolumn);}if(this.type=="filter"||this.type=="filterlike"){this._createFilteredDataset();}this._recheckValue();this._is_recheck=true;};_pCombo.set_datacolumn=function(_a){if(_a!=this.datacolumn){this.datacolumn=_a;this.on_apply_datacolumn();}};_pCombo.on_apply_datacolumn=function(){if(this.combolist){this.combolist.set_datacolumn(this.datacolumn);}if(this.type=="filter"||this.type=="filterlike"){this._createFilteredDataset();}this._recheckValue();this._is_recheck=true;};_pCombo.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset||(typeof _a=="object"&&_a._type_name=="Dataset")){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();this._recheckValue();this._is_recheck=true;}};_pCombo._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pCombo.getInnerDataset=function(){return this._innerdataset;};_pCombo.set_innerdataset=function(_a){this.innerdataset="";if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}};_pCombo.on_apply_innerdataset=function(){var _a=this._innerdataset;if(this.combolist){this.combolist.setInnerDataset(_a);}if(_a){_a._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_a._setEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);if(this.type=="filter"||this.type=="filterlike"){this._createFilteredDataset();}}};_pCombo.set_displayrowcount=function(_a){if(_a!=this.displayrowcount){this.displayrowcount=_a;}};_pCombo.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;this.on_apply_autoselect();}};_pCombo.on_apply_autoselect=function(){if(this.type=="search"){this.comboedit&&this.comboedit.set_autoselect(this.autoselect);}else{this.comboedit&&this.comboedit.set_autoselect(false);}};_pCombo.set_autoskip=function(_a){if(_a!=this.autoskip){this.autoskip=_a;this.on_apply_autoskip();}};_pCombo.on_apply_autoskip=function(){this.comboedit&&this.comboedit.set_autoskip(this.autoskip);};_pCombo.set_displaynulltext=function(_a){if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pCombo.on_apply_displaynulltext=function(){this.comboedit&&this.comboedit.set_displaynulltext(this.displaynulltext);};_pCombo.set_type=function(_a){if(_a!=this.type){this.type=_a;this.on_apply_type();}};_pCombo.on_apply_type=function(){if(this.getElement()){if(this._filtereddataset){this._filtereddataset.filter("");}this._setEditReaonly();this.comboedit.set_readonly(this.readonly);this.on_apply_autoselect();}};_pCombo.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pCombo.on_apply_usesoftkeyboard=function(){var _a=this.comboedit?this.comboedit._input_element:null;if(_a){_a.setElementUseSoftKeyboard(this.usesoftkeyboard);}};_pCombo.set_imemode=function(_a){this.imemode=nexacro._toString(_a);this.on_apply_imemode();};_pCombo.on_apply_imemode=function(){this.comboedit&&this.comboedit.set_imemode(this.imemode);};_pCombo.set_inputtype=function(_a){};_pCombo.set_comboedit=function(_a){};_pCombo.set_combolist=function(_a){};_pCombo.set_popupwindow=function(_a){};_pCombo.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pCombo.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this.comboedit){this.comboedit.set_readonly(_a);if(_a===false){this._setEditReaonly();}}};_pCombo.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontextmenu){this.usecontextmenu=_a;this.on_apply_usecontextmenu();}};_pCombo.on_apply_usecontextmenu=function(){var _a=this.comboedit;if(_a){_a.set_usecontextmenu(this.usecontextmenu);}};_pCombo.set_useime=function(_a){};_pCombo.set_selectchangetype=function(_a){this.selectchangetype=nexacro._toString(_a);};_pCombo.redraw=function(){var _a=this.combolist;if(this.comboedit){if(this.text){this._setEditValue(this.text);}else{if(this.value){this._setEditValue("");}else{this._setEditValue(undefined);}}}this._moverindex=this.index;_a=null;};_pCombo.dropdown=function(){if(this.enable===false||this.readonly===true||this.visible===false){return;}var _a;if(!this.isDropdown()){if(this.type=="filter"||this.type=="filterlike"){_a=this._filtereddataset;if(_a){_a.set_filterstr("");}else{_a=this._getFilteredDataset();}}else{_a=this._innerdataset;}if(_a&&_a.rowcount==0){_a=this._innerdataset;}this.setFocus(false);this._showPopup(_a,this.index);}};_pCombo.isDropdown=function(){if(!this.popupwindow){return false;}return this.popupwindow._is_popup();};_pCombo.getSelect=function(){if(this._control_element){return this.comboedit.getSelect();}};_pCombo.getCount=function(){if(this._control_element){if(this.combolist){return this.combolist.getCount();}else if(this._innerdataset){return this._innerdataset.getRowCount();}else{return 0;}}};_pCombo.getSelectedText=function(){if(this._control_element){return this.comboedit.getSelectedText();}};_pCombo.getCaretPos=function(){if(this.readonly){return  -1;}if(this._control_element){return this.comboedit.getCaretPos();}};_pCombo.setCaretPos=function(_a){if(this._control_element){return this.comboedit.setCaretPos(_a);}};_pCombo.setSelect=function(_a,_b){if(this._control_element){return this.comboedit.setSelect(_a,_b);}};_pCombo.setSelectedText=function(_a){if(this._control_element){return this.comboedit.setSelectedText(_a);}};_pCombo.closeDropdown=function(_a,_b){if(this.isDropdown()){this.popupwindow._closePopup();}};_pCombo.updateToDataset=function(){if(!this._bind_event){return false;}return this.applyto_bindSource("value",this.value);};_pCombo.isAboveSelected=function(){};_pCombo.on_notify_ondropdown=function(_a,_b){if(this.readonly){return false;}var _c=this._innerdataset;if(this._isPopupVisible()==true){this.popupwindow._closePopup();}else{var _d=this.comboedit;if(_d){_d.setSelect(0,0);}if(this.combolist&&(this.type=="filter"||this.type=="filterlike")){if(this._filtereddataset){this._filtereddataset.set_filterstr("");}var _e=_c.getRowCount();for(i=0;i<_e;i++ ){if(this.text==this._getItemText(i)){this._showPopup(_c,i);return false;}else{this._showPopup(_c,this.index);}}}else{this._showPopup(_c,this.index);}}return false;};_pCombo.on_notify_item_onlbuttonup=function(){if(!this.combolist){return false;}if(this.selectchangetype!="noboundup"){return false;}if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}return false;};_pCombo.on_notify_item_canitemchange=function(_a,_b){var _c=_b,_d;if(this.type=="filter"||this.type=="filterlike"){var _e=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _f=this._getRawIndex(_e,_b.postindex);_f=(_f== -1)?_b.postindex:_f;}else{_f=_b.postindex;}if(_d=this.on_fire_canitemchange(_a,this.index,this.text,this.value,_f,_b.posttext,_b.postvalue)){_c.preindex=_c.postindex;_c.pretext=_c.posttext;_c.prevalue=_c.postvalue;_c.postindex=_f;_c.posttext=_b.posttext;_c.postvalue=_b.postvalue;this._setIndex(_f);if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}else{if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}if(this.type=="filter"||this.type=="filterlike"){_e.set_filterstr("");}}if(this.comboedit){if(this.autoskip&&this.type=="search"&&this._refform.getNextComponent(this,true)!=this){return _d;}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _g=this._getWindow();if(_g){_g._removeFromCurrentFocusPath(this,true);}}if((this.parent&&(this.parent._last_focused&&(this.parent._last_focused.id==this.id)))||this._is_subcontrol){this.comboedit._setFocus(false);}}return _d;};_pCombo.on_notify_item_onitemclick=function(_a,_b){if(!this.combolist||!this.comboedit){return false;}this.on_fire_onitemclick(_a,_b.index,_b.itemtext,_b.itemvalue,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY);if(_b.index==this.index){if(this.type=="filter"||this.type=="filterlike"){var _c=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _d=(this.type=="filter"||this.type=="filterlike")?_c:this._innerdataset;var _e=this._getRawIndex(_d,_b.index);if(_e!=this.index){return;}}var _f=_b;this.on_fire_canitemchange(_a,this.index,this.text,this.value,_b.index,_b.itemtext,_b.itemvalue);if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}if(this.comboedit){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _g=this._getWindow();if(_g){_g._removeFromCurrentFocusPath(this,true);}}this.comboedit._setFocus(false);}else{this._setFocus(false);}}}};_pCombo.on_notify_item_onitemchanged=function(_a,_b){if(!this.combolist||!this.comboedit){return false;}var _c=_b.postindex;var _d=this.codecolumn;var _e=this.datacolumn;var _f;if(this.type=="filter"||this.type=="filterlike"){var _g=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();_f=(this.type=="filter"||this.type=="filterlike")?_g:this._innerdataset;_c=this._getRawIndex(_f,_c);_f=this._filtereddataset;_g.set_filterstr("");}else{_f=this._innerdataset;}var _h=this._selectinfo;var _i={preindex:this.index,pretext:this.text,prevalue:this.value,postindex:_c,posttext:_f.getColumn(_c,_e||_d),postvalue:_f.getColumn(_c,_d||_e)};this._eventinfo.preindex=_i.preindex;this._eventinfo.pretext=_i.pretext;this._eventinfo.prevalue=_i.prevalue;this._eventinfo.postindex=_i.postindex;this._eventinfo.posttext=_i.posttext;this._eventinfo.postvalue=_i.postvalue;this._eventinfo.isselect=true;if(this.index!=_c){if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}else{if(this.type!="dropdown"){this._setEditValue(this.text);}if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}if(this.comboedit){if(this.autoskip&&this.type=="search"&&this._refform.getNextComponent(this,true)!=this){return false;}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _j=this._getWindow();if(_j){_j._removeFromCurrentFocusPath(this,true);}}if((this.parent&&(this.parent._last_focused&&(this.parent._last_focused.id==this.id)))||this._is_subcontrol){this.comboedit._setFocus(false);}}return false;};_pCombo._setEditValue=function(_a){this.comboedit.set_value(_a);};_pCombo.on_combo_keydown=function(_a,_b,_c,_d,_e,_f){if(this.readonly||!this.comboedit){return false;}var _g=nexacro.Event;var _h=this.combolist;var _i=this.popupwindow;var _j=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _k=(this.type=="filter"||this.type=="filterlike")?_j:this._innerdataset;var _l=this.datacolumn;var _m=this.codecolumn;var _n,_o,_p=this._moverindex;if(_p<0){_p=this.index;if(this.type=="filter"||this.type=="filterlike"){_k.set_filterstr("");}}if(!_k||(!_l&&!_m)){return;}if(_b==_g.KEY_ESC){if(this._isPopupVisible()){_i._closePopup();this._setEditValue(this.text);}return false;}if(_c==true&&_b==_g.KEY_DOWN){if(this._isPopupVisible()){_i._closePopup();}else{this._showPopup(_k,this.index);}return false;}var _q=this._selectinfo;var _r={preindex:this.index,pretext:this.text,prevalue:this.value,postindex:_q.index,posttext:_q.text,postvalue:_q.value};if(_b==_g.KEY_ENTER){if(_p>=0&&_p==this._moverindex){if(this.type=="filter"||this.type=="filterlike"){_o=this._getRawIndex(_k,_p);_o=(_o== -1)?_p:_o;_j.set_filterstr("");}else{_o=_p;}}else{return false;}_r.postindex=_o;_r.postvalue=this._getItemValue(_o);_r.posttext=this._getItemText(_o);if(this.on_fire_canitemchange(this,_r.preindex,_r.pretext,_r.prevalue,_r.postindex,_r.posttext,_r.postvalue)==false){this._setEditValue(this.text);if(this._isPopupVisible()){_i._closePopup();}return false;}this._setIndex(_o);if(this._isPopupVisible()){this._enterkey=true;_i._closePopup();}this._eventinfo.isselect=true;}if(_b==nexacro.Event.KEY_UP||_b==nexacro.Event.KEY_DOWN){if(!nexacro._enableaccessibility||_d||this._isPopupVisible()){if(this._isPopupVisible()){var _s;if(_b==nexacro.Event.KEY_UP){if(_p>0){var _t= -1;if(_h._overedItem){_t=_h._overedItem.index;}else{_t=_p;}if(_t==_p){_n=_p-1;}else{_n=_t-1;}}else{_n=0;}this._downkey=false;_s=_k.getColumn(_n,_l||_m);_s=_s==undefined?"":_s;this._setEditValue(_s);_h._reset_item(_n);_h._overeditemindex=_n;this._moverindex=_n;}else{var _t=0;if(_h._overedItem){_t=_h._overedItem.index;}else{_t=_p;}if(_t==_p){_n=_p+1;}else{_n=_t+1;}if(_n<_k.getRowCount()){_s=_k.getColumn(_n,_l||_m);_s=_s==undefined?"":_s;this._setEditValue(_s);this._downkey=true;_h._reset_item(_n);_h._overeditemindex=_n;this._moverindex=_n;}}}else{if(_b==nexacro.Event.KEY_UP){if(_p>0){_n=_p-1;}else{_n=0;}}else{if(_p+1<_k.getRowCount()){_n=_p+1;}else{_n=_p;}}if(_n>=0){if(this.type=="filter"||this.type=="filterlike"){_o=this._getRawIndex(_k,_n);_o=(_o== -1)?_n:_o;_j.set_filterstr("");}else{_o=_n;}}_r.postindex=_o;_r.postvalue=this._getItemValue(_o);_r.posttext=this._getItemText(_o);if(this.index!=_o){var _u=this.on_fire_canitemchange(this,_r.preindex,_r.pretext,_r.prevalue,_r.postindex,_r.posttext,_r.postvalue);if(_u){this._setIndex(_o);}}}}if(this._getWindow()._keydown_element){this._getWindow()._keydown_element._event_stop=true;}return false;}return false;};if(nexacro.Browser=="Gecko"){_pCombo.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=this.popupwindow;if(this.comboedit.value==null||this.comboedit.value==""){if(_g&&_g._is_popup()){_g._closePopup();}}var _h=nexacro.Component.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN){if(this.type=="dropdown"){this.comboedit.setCaretPos(0);}}return _h;};_pCombo._eachColosePopup=nexacro._emptyFn;}else{_pCombo._eachColosePopup=function(_a){var _b=this.popupwindow;if(_b._is_popup()){_b._closePopup();}};}_pCombo.on_fire_onkillfocus=function(_a,_b){if(this._text_change==true){this._setEditValue(this.text);this._text_change=false;}if(this.combolist){this.combolist._reset_item(this.index);this.combolist._overeditemindex= -1;this._moverindex= -1;}if(this._isPopupVisible()){this.popupwindow._closePopup();this._setEditValue(this.text);}var _c=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _d=(this.type=="filter"||this.type=="filterlike")?_c:this._innerdataset;var _e=this.datacolumn;var _f=this.codecolumn;if((!_d||(!_e&&!_f))){this._setEditValue(undefined);}else{if(this.value&&this.index== -1){this.comboedit._setValue("");}else if(this.index== -1){this._setEditValue(this.value);}}if(this.comboedit){this.comboedit._restoreSelect();if((nexacro.Browser=="Runtime"&&this.autoselect==true)||nexacro.Browser=="Edge"||nexacro.Browser=="IE"){this.comboedit._cancelSelect();}this.comboedit._stat_change("notfocus","normal");}nexacro.Component.prototype.on_fire_onkillfocus.call(this,_a,_b);};_pCombo.on_notify_edit_onlbuttondown=function(_a,_b){if(this.readonly){return false;}if(this._isPopupVisible()){this.popupwindow._closePopup();}else{if(this.type=="dropdown"){this._showPopup(this._innerdataset,this.index);}}return false;};_pCombo.on_notify_edit_onmouseenter=function(_a,_b){this._is_mouseover=true;return false;};_pCombo.on_notify_edit_onmouseleave=function(_a,_b){this._is_mouseover=false;return false;};_pCombo._is_fling=false;_pCombo._on_bubble_flingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._is_fling=true;return nexacro.Component.prototype._on_bubble_flingstart.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k);};_pCombo._on_bubble_flingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._is_fling=false;return nexacro.Component.prototype._on_bubble_flingend.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k);};_pCombo.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return nexacro.Component.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pCombo.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._is_real_upelem;this._is_real_upelem=null;if(_l instanceof nexacro.ScrollBarCtrl){return;}if(_l&&_l.parent instanceof nexacro.ScrollBarCtrl){return;}var _o=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _p=this._getWindow();var _q="";var _r=_p.findComponent(_p._cur_ldown_elem,0,0);if(_r&&_r[0]){_q=_r[0]._unique_id;}var _s="";_r=_p.findComponent(_m,0,0);if(_r&&_r[0]){_s=_r[0]._unique_id;}if(_q!=_s){return;}var _t= -1;var _u=this.index;var _v=this.combolist;var _w=this.comboedit;var _x=_v&&_v._selectinfo;if(_v){_t=_v._overeditemindex;}if(this.visible&&this._isEnable()&&this._isPopupVisible()){if(_v){if(_t> -1){if(_u!=_t){if(_x.index==_t){this._setIndex(_u);}else{this._setIndex(_t);}if(_n&&this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}else{this._setIndex(_u);}if(_w){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)||!nexacro.SupportTouch){_w.on_apply_custom_setfocus();}}}else{this._setIndex(_u);}}}_v=null;_w=null;return _o;};_pCombo.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l&&(_l instanceof nexacro.ScrollBarCtrl||(_l.parent&&_l.parent instanceof nexacro.ScrollBarCtrl))){return;}if(this._is_fling_stop){return;}if(this.isDropdown()){var _n=this.combolist._selectinfo_list;if(this._scroll_proc){if(_n.length){var _o=_n.length-1;var _p=_n[_o];if(_p.index!=this.index){_p.obj._keep_selecting=false;_p.obj._control_pseudo="";_p.obj._contents_pseudo="";_p.obj._stat_change("notselect","normal");_n.splice(_o,1);}}return;}while(_n.length){var _q=_n[0].obj;if(_q){_q._keep_selecting=false;if(!_q.selected){_q._stat_change("notselect","normal");}}_n.shift();}}return;};_pCombo.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pCombo.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);this.on_combo_keydown(null,_a,_b,_c,_d,0);return _g;};_pCombo._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this.popupwindow&&this.popupwindow._is_popup()){if(this.combolist){return this.combolist._on_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);}}return true;};_pCombo.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.readonly){return false;}var _o=this._find_lastFocused();if((this!=_o&&!this._is_subcontrol)||(this.parent!=_o&&this._is_subcontrol)){return;}if(!this.popupwindow||!this.popupwindow._is_popup()){var _p=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _q=(this.type=="filter"||this.type=="filterlike")?_p:this._innerdataset;var _r=this.index;var _s=0;if(_b>0){if(_r>0){_s=_r-1;}else{_s=0;}this._setIndex(_s);}else{_s=_r+1;if(_q&&_s<_q.getRowCount()){this._setIndex(_s);}}}return true;};_pCombo.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCombo.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onfling.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return _j;};_pCombo.on_notify_edit_cancharchange=function(_a,_b){if(this.cancharchange&&this.cancharchange._has_handlers){_b.fromobject=this;var _c=this.cancharchange._fireCheckEvent(this,_b);if(!_c){this.value=_b.pretext;this.text=_b.pretext;this._setEditValue(this.text);}return nexacro._toBoolean(_c);}return true;};_pCombo.on_notify_edit_onchar=function(_a,_b){return this.on_fire_onchar(_a,_b);};_pCombo.on_notify_edit_ontextchange=function(_a,_b){return this.on_fire_ontextchange(_a,_b);};_pCombo.on_notify_edit_ontextchanged=function(_a,_b){return this.on_fire_ontextchanged(_a,_b);};_pCombo.on_fire_onchar=function(_a,_b){if(this.onchar&&this.onchar._has_handlers){var _c=this.onchar._fireCheckEvent(this,_b);return nexacro._toBoolean(_c);}return true;};_pCombo.on_fire_ontextchange=function(_a,_b){if(this.ontextchange&&this.ontextchange._has_handlers){_b.fromobject=this;var _c=this.ontextchange._fireCheckEvent(this,_b);if(_b.pretext!=_b.posttext){this._text_change=true;}return nexacro._toBoolean(_c);}return true;};_pCombo.on_fire_ontextchanged=function(_a,_b){var _c=false;if(this.ontextchanged&&this.ontextchanged._has_handlers){_b.fromobject=this;_c=this.ontextchanged._fireEvent(this,_b);}if(_b.pretext!=_b.posttext){this.on_combo_text_changed(_b.pretext,_b.posttext);}return nexacro._toBoolean(_c);};_pCombo.on_notify_edit_oneditclick=function(_a,_b){var _c=true;if(nexacro.isTouchInteraction||nexacro.SupportTouch){var _d=new nexacro.EventInfo(this,"oneditclick");if((nexacro.Browser=="Runtime"&&(_b.button=="lbutton"||_b.button=="touch"))||(nexacro.Browser!="Runtime"&&(nexacro.isTouchInteraction&&_b.button=="touch"||(!nexacro.isTouchInteraction&&application.enabletouchevent&&((nexacro._pointerType=="pen"&&_b.button=="touch")||_b.button=="lbutton"))||(nexacro.Browser!="IE"&&!application.enabletouchevent&&_b.button=="lbutton")||(nexacro.Browser=="IE"&&!application.enabletouchevent)))){_c=false;this.on_notify_edit_onlbuttondown(this,_d);}}else{_c=false;}if(!_c&&this.oneditclick&&this.oneditclick._has_handlers){_b.fromobject=this;var _e=this.oneditclick._fireEvent(this,_b);return nexacro._toBoolean(_e);}return true;};_pCombo.on_combo_text_changed=function(_a,_b){if(this.readonly||!this.comboedit){return false;}if((this.type!="dropdown")&&(this.onkeydown&&this.onkeydown.defaultprevented===true)){this.comboedit.set_value("");return;}var _c=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _d=(this.type=="filter"||this.type=="filterlike")?_c:this._innerdataset;if(!_d){return false;}if(!this.combolist&&this.type!="dropdown"){this._createList(_d);}var _e=this.datacolumn||this.codecolumn;var _f=_b;var _g=this.comboedit;var _h=this.popupwindow;this._keyval=_f;if(_f===""){this._text_change=true;this._eachColosePopup();if(this.type=="filter"||this.type=="filterlike"){_d.set_filterstr("");}return;}if(_a!=_b){this._text_change=true;}switch(this.type){case "search":var _i=_d.findRowAs(_e,_f);if(_i>=0){var _j=false;if(_g._edit_base_api&&_g._edit_base_api._charcode==nexacro.Event.KEY_BACKSPACE){_j=true;}if(!_h||!_h._is_popup()){this._text_change=true;this._showPopup(_d,_i);}else{this._showPopup(_d,_i);}}else{if(_h&&_h._is_popup()){_h._closePopup();}}break;case "filter":case "filterlike":var _k=/[\　\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/;var _l="";var _m=_f.length;for(var _o=0;_o<_m;_o++ ){var _n=_f.charAt(_o);if(_k.test(_n)){_l+="\\";}_l+=_n;}if(this.type=="filter"){_d.set_filterstr(_e+".match(/^("+_l+")/)");}else if(this.type=="filterlike"){_d.set_filterstr(_e+".match(/"+_l+"/)");}else{_d.set_filterstr("");}if(_d.getRowCount()>0){this.combolist._overeditemindex=0;this._moverindex=0;this._text_change=true;this._showPopup(_d,0);}else{if(_h&&_h._is_popup()){_h._closePopup();}}break;}this._keyval=undefined;};_pCombo.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onitemclick&&this.onitemclick._has_handlers){var _o=new nexacro.ItemClickEventInfo(_a,"onitemclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this.onitemclick._fireEvent(this,_o);}return false;};_pCombo.on_fire_onitemchanged=function(_a,_b,_c,_d,_e,_f,_g){this.applyto_bindSource("value",_a.value);var _h=this._selectinfo;_h.index=_e;_h.text=_f;_h.value=_g;this._eventinfo.preindex=_b;this._eventinfo.pretext=_c;this._eventinfo.prevalue=_d;this._eventinfo.postindex=_e;this._eventinfo.posttext=_f;this._eventinfo.postvalue=_g;this._eventinfo.isselect=true;if(this.onitemchanged&&this.onitemchanged._has_handlers){var _i=new nexacro.ItemChangeEventInfo(this,"onitemchanged",_b,_c,_d,_e,_f,_g);this.onitemchanged._fireEvent(this,_i);}return false;};_pCombo.on_fire_canitemchange=function(_a,_b,_c,_d,_e,_f,_g){if(this.canitemchange&&this.canitemchange._has_handlers){var _h=new nexacro.ItemChangeEventInfo(this,"canitemchange",_b,_c,_d,_e,_f,_g);var _i=this.canitemchange._fireCheckEvent(this,_h);return nexacro._toBoolean(_i);}return true;};_pCombo.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=new nexacro.EventInfo(this,"ondropdown");_b.postvalue=this.value;var _c=this.ondropdown._fireEvent(this,_b);if(_c==undefined){_c=true;}return nexacro._toBoolean(_c);}return true;};_pCombo.on_fire_oncloseup=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._getWindow();if(_i&&this._track_capture){_i._releaseCaptureLock(this);}var _j;if(this.combolist){_j=this.combolist.index;if(this.type=="filter"){_j=this._getRawToListindex(_j);}if(!this._enterkey){this.combolist._reset_item(_j);}this._enterkey=false;this.combolist._overeditemindex= -1;this._moverindex= -1;if(this.combolist._overedItem){this.combolist._overedItem=null;}}if(_h==false&&(this.combolist&&this.index!=_j)){if((_c==_f)&&(this._keyval!=="")&&(this._text_change==false)){this._setEditValue(this.text);}if(this.combolist){if(this.type=="filter"){_b=this._getRawToListindex(_b);}this.combolist.index=_b;this.combolist.on_apply_index(_b);}}if(this.oncloseup&&this.oncloseup._has_handlers){var _k=new nexacro.ComboCloseUpEventInfo(this,"oncloseup",_b,_c,_d,_e,_f,_g,_h);var _l=this.oncloseup._fireEvent(this,_k);return nexacro._toBoolean(_l);}return false;};_pCombo.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;if(this._isPopupVisible()){var _e=this.combolist;var _f=_e._get_contents_rows();var _g=null;if(_f){if(_a){_e._overeditemindex++ ;}else{_e._overeditemindex-- ;}if(_e._overeditemindex<0||_e._overeditemindex>_f.length-1){if(this._isPopupVisible()){this._closePopup();}_e._overeditemindex=0;}else{_g=_e._getItemByRealIdx(_f,_e._overeditemindex).obj;}}if(_g){_d=true;_g._setAccessibilityNotifyEvent();}}return _d;};_pCombo._applyZoomPopup=function(){if(this.popupwindow&&this.popupwindow._is_popup()){if(this.enable===false||this.readonly===true||this.visible===false){return;}var _a=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _b=this.type=="filter"?_a:this._innerdataset;if(_b&&_b.rowcount==0){_b=this._innerdataset;}this._showPopup(_b,this.index);}};_pCombo._setIndex=function(_a,_b){if(_b||_a!=this.index){var _c;if(this.type=="filter"){_c=this._filtereddataset;}else{_c=this._innerdataset;}if(_c){_a=parseInt(_a,10)|0;this._preindex=this.index;this._pretext=this.text;this._prevalue=this.value;this.index=_a;this.on_apply_index();this.on_fire_onitemchanged(this,this._eventinfo.preindex,this._eventinfo.pretext,this._eventinfo.prevalue,this._eventinfo.postindex,this._eventinfo.posttext,this._eventinfo.postvalue);var _d=this.comboedit;if(this.autoskip&&_d&&this.type=="search"){_d.on_apply_autoskip();}}}this._cancelSelect();return _a;};_pCombo._recalcLayout=function(){if(!this.getElement()||!this._is_created_contents){return;}var _a=this.comboedit;var _b=this.dropbutton;var _c=0;var _d=this._client_width;var _e=this._client_height;var _f=this._client_left;var _g=this._client_top;var _h=this.on_find_CurrentStyle_buttonsize(this._pseudo);if(!_h||_h._is_empty){_c=_e;}else if(parseInt(_h._value,10)>_d){_c=_d;}else{_c=parseInt(_h._value,10)|0;if(_c<0){_c=_e;}}if(_b){var _i=_d-_c;var _j=_g;var _k=_c;var _l=_e;var _m=_b.on_find_CurrentStyle_margin(this._pseudo);if(_m&&!_m._is_empty){_i=_i+_m.left;_j=_m.top;_k=_c-_m.left-_m.right;_l=_e-_m.top-_m.bottom;}_b.move(_i,_j,_k,_l,null,null);}if(_a){var _n=_f;var _o=_g;var _p=_d-_c-1;var _q=_e;var _r=_a.on_find_CurrentStyle_margin(this._pseudo);if(_r&&!_r._is_empty){_n=_r.left;_o=_r.top;_p=_p-_r.left-_r.right;_q=_q-_r.top-_r.bottom;}_a.move(_n,_o,_p,_q,null,null);}};_pCombo._getMaxTextSize=function(_a){var _b=this.datacolumn||this.codecolumn;var _c=this.combolist;if(!_a||!_b||!_c){return false;}return _c._getMaxTextSize();};_pCombo._isPopupVisible=function(){var _a=this.popupwindow;if(_a&&_a.visible==true){return true;}else{return false;}};_pCombo._createListOnly=function(_a){var _b=this.datacolumn;var _c=this.codecolumn;var _d=this.combolist;if(!_a||_a&&_a.getRowCount()<=0||(!_b&&!_c)){return;}if(!_d){this._exprcache={};_d=this.combolist=new nexacro.ComboListCtrl("combolist","absolute",0,0,1,1,null,null,this);_d.set_scrollbars("autovert");_d.set_codecolumn(_c);_d.set_datacolumn(_b);this.on_apply_innerdataset();_d.createComponent(true);_d._setEventHandler("onitemclick",this.on_notify_item_onitemclick,this);_d._setEventHandler("canitemchange",this.on_notify_item_canitemchange,this);_d._setEventHandler("onitemchanged",this.on_notify_item_onitemchanged,this);}};_pCombo._createList=function(_a,_b,_c){var _d=this.datacolumn;var _e=this.codecolumn;if(!_a||_a&&_a.getRowCount()<=0||(!_d&&!_e)){return;}if(!this.combolist){this._createListOnly(_a);}var _f=this.combolist;_f._is_redrawing=true;var _g=this.popupwindow;if(!_g){_g=this.popupwindow=new nexacro.ComboPopupWindow("combopopup","absolute",0,0,0,0,null,null,this);}if(!_g._is_created){_g.createComponent(true);_g._attach(_f);_g.on_created();}if(!_f._is_created){var _h=_f._control_element;if(_h&&_h._adjust_height==null){if(_b!=undefined&&_c!=undefined){_h.setElementSize(_b,_c);}else{var _i=this._getPopuplistSize(_a);var _j=_i.width;var _k=_i.height;_h.setElementSize(_j,_k);}}_f.on_created();_f.getElement().setElementToolTip("",_f.getElement().tooltiptype);}_g=null;_f=null;};_pCombo._update_popupwindow_position=function(){var _a=this.popupwindow;if(_a){var _b=_a._control_element;var _c=this.type=="filter"?(this._filtereddataset?this._filtereddataset:this._getFilteredDataset()):this._innerdataset;_c=(_c&&_c.rowcount==0)?this._innerdataset:_c;var _d=this._getPopuplistSize(_c);var _e=_d.height,_f=_d.width;var _g=nexacro._getElementPositionInFrame(this._control_element);{var _h={x:0,y:0};var _i=this._getWindow();var _j=_i.getWidth();var _k=_i.getHeight();var _l=this._getCumulativeZoomFactor()/100.0;_h.width=_j-_g.x+(this._adjust_width*_l);_f=parseInt(Math.min(_f,_h.width/_l));_h.height=_k-_g.y+(this._adjust_height*_l);_e=parseInt(Math.min(_e,_h.height/_l));}var _m=_a._getScalePosition(_f,_e);var _n=_g.x+_m.left,_o=_g.y+_m.top;if(this._getPopupType()=="center"){var _p=this._getOwnerFrame();if(!_p){return;}var _q=_p._getWindow();_p=_q?_q.frame:null;if(!_p){return;}_n=((_p.width/2)-(_b.width/2));_o=((_p.height/2)-(_b.height/2));_o=_o<0?0:_o;_b.setElementPosition(_n/_l,_o);}else{_b.setElementPosition(_n,_o);}_a=null;}};_pCombo._showPopup=function(_a,_b){if(this._isPopupVisible()){this._closePopup();}var _c=false;var _d=this.index;this._eventinfo.preindex=this.index;this._eventinfo.pretext=this.text;this._eventinfo.prevalue=this.value;if(this.on_fire_ondropdown(this)==false){return;}if(_d!=this.index){_c=true;}if((this.ondropdown&&this.dropdown.preventable&&this.ondropdown.defaultprevented===true)||!_a||(_a&&_a.getRowCount()==0)||this._getPopupType()=="none"){return;}if(_c){_b=this.index;}this._createListOnly(_a);this.combolist._set_scroll_max_size();var _e=this._getPopuplistSize(_a);var _f=parseInt(_e.width);var _g=parseInt(_e.height);if(_g>700){var _h={x:0,y:0};var _i=this._getWindow();var _j=_i.getWidth();var _k=_i.getHeight();var _l=nexacro._getElementPositionInFrame(this._control_element);var _m=this._getCumulativeZoomFactor()/100.0;_h.width=_j-_l.x+(this._adjust_width*_m);_f=parseInt(Math.min(_f,_h.width/_m));_h.height=_k-_l.y+(this._adjust_height*_m);_g=parseInt(Math.min(_g,_h.height/_m));}this._createList(_a,_f,_g);var _n=this.combolist;var _o=this.popupwindow;_o._track_capture=true;this.on_apply_prop_rtldirection();if(nexacro._enableaccessibility){this._want_arrows=true;}if(_n){if(this._getPopupType()=="center"){_o._popupCenterAuto(_f,_g);}else{_o._popupAuto(_f,_g);}if(nexacro.Browser=="Chrome"&&_n.vscrollbar){var _p=_n.getElement().scroll_top;_n.getElement().getContainerElement()._cached_scrollTop=1;_n.getElement().setElementVScrollPos(1);_n.getElement().setElementVScrollPos(_p);}_n._is_redrawing=false;_n.setInnerDataset(_a);_n.set_index(_b);_n._reset_item(_b);if(this._isRtl()){_n.on_update_position(true);}if(_b<=0&&_n.vscrollbar){if(nexacro.Browser=="Chrome"){_n.getElement().getContainerElement()._cached_scrollTop=1;_n.getElement().setElementVScrollPos(1);}_n.getElement().setElementVScrollPos(0);}if(nexacro._enableaccessibility){this._setAccessibilityStatExpanded(true);if(nexacro._accessibilitytype==4){var _q=_n._get_contents_rows();if(_q&&_q.length>0){var _b=this.index>=0?this.index:0;_q[_b]._setFocus();}}else if(nexacro._accessibilitytype==5){_n._setAccessibilityNotifyEvent();}}_n=null;}};_pCombo._closePopup=function(){var _a=this.popupwindow;if(_a){_a._closePopup();}_a=null;};_pCombo._getPopuplistSize=function(_a){var _b=this.combolist;var _c=_a.getRowCount();var _d=this.displayrowcount<_c?this.displayrowcount:_c;var _e,_f;var _g=this._getMaxTextSize(_a);var _h=parseInt(_b.currentstyle.itemheight._value,10);var _i=_b.on_find_CurrentStyle_padding(this._pseudo);var _j=_b.on_find_CurrentStyle_border(this._pseudo);var _k=_b.on_find_CurrentStyle_itempadding(this._pseudo);var _l=_b.on_find_CurrentStyle_itemborder(this._pseudo);var _m=_i?_i._getPaddingWidth():0;var _n=_i?_i._getPaddingHeight():0;var _o=_j?_j._getBorderWidth():0;var _p=_j?_j._getBorderHeight():0;var _q=_k?_k._getPaddingWidth():0;var _r=_l?_l._getBorderWidth():0;_f=_d<=0?_h*_c:_h*_d;_f+=_n+_p;_g+=_m+_o;_e=Math.max(this._adjust_width,_g);return {width:_e,height:_f};};_pCombo._getRawToListindex=function(_a){if(this.type=="filter"){var _b=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _c=_b._viewRecords.length;var _d=_b._viewRecords;for(var _e=0;_e<_c;_e++ ){if(_d[_e]._rawidx==_a){return _e;}}}return _a;};_pCombo._getRawIndex=function(_a,_b){var _c=this._innerdataset;if(_b== -1||(_a._viewRecords.length<=_b)){return  -1;}var _d=_a._viewRecords[_b]._rawidx;var _e=_c._rawRecords;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){if(_e[_g]._rawidx==_d){return _d;}}return  -1;};_pCombo._getFilteredDataset=function(){if(!this._filtereddataset){this._createFilteredDataset();}return this._filtereddataset;};_pCombo._createFilteredDataset=function(){var _a=this._filtereddataset;var _b=this.codecolumn;var _c=this.datacolumn;var _d=this._innerdataset;if(_d&&(!(_b in _d.colinfos)||!(_c in _d.colinfos))){if(_a){_a.clear();this._filtereddataset=null;}return;}if(!_d||_d&&_d.getRowCount()<=0||!_c&&!_b){if(_a){_a.clear();this._filtereddataset=null;}return;}var _e=_d.getRowCount();if(!_a){_a=this._filtereddataset=new nexacro.Dataset("filter_"+this.id);_a.addColumn(_b,"string");_a.addColumn(_c,"string");for(var _f=0;_f<_e;_f++ ){_a.insertRow(_f);_a.setColumn(_f,_b,_d.getColumn(_f,_b));_a.setColumn(_f,_c,_d.getColumn(_f,_c));}}else{if(this.combolist){this.combolist._userDsChange=false;_a.clear();_a.addColumn(_b,"string");_a.addColumn(_c,"string");for(var _f=0;_f<_e;_f++ ){_a.insertRow(_f);_a.setColumn(_f,_b,_d.getColumn(_f,_b));_a.setColumn(_f,_c,_d.getColumn(_f,_c));}this.combolist._userDsChange=true;this.combolist.redraw();}else{_a.clear();_a.addColumn(_b,"string");_a.addColumn(_c,"string");for(var _f=0;_f<_e;_f++ ){_a.insertRow(_f);_a.setColumn(_f,_b,_d.getColumn(_f,_b));_a.setColumn(_f,_c,_d.getColumn(_f,_c));}}}};_pCombo._getDragData=function(){if(this.comboedit&&this.comboedit.getSelectedText){return this.comboedit.getSelectedText();}};_pCombo._recheckValue=function(){var _a=this._innerdataset;if(!this.comboedit){return false;}if(this.value!==undefined){if(_a){var _b=_a.getRowCount();for(var _e=0;_e<_b;_e++ ){var _c=nexacro.DataUtils.toString(this.value);var _d=nexacro.DataUtils.toString(this._getItemValue(_e));if(_c==_d){this.index=_e;this.text=this._getItemText(_e);this.redraw();return;}}this.index= -1;this.text="";this.redraw();return;}}if(this.text!=""){if(_a){var _b=_a.getRowCount();for(var _e=0;_e<_b;_e++ ){if(this.text==this._getItemText(_e)){this.index=_e;this.value=this._getItemValue(_e);this.redraw();return;}}}}if(this.index!= -1){if(_a){if(this.index<_a.getRowCount()){this.value=this._getItemValue(this.index);this.text=this._getItemText(this.index);this.redraw();return;}}}this.index= -1;this.value=undefined;this.text="";if(!_a){this.redraw();}};_pCombo._getItemValue=function(_a){var _b=this._innerdataset;var _c=this.codecolumn||this.datacolumn;if(_b&&_c){var _d=_b.getColumn(_a,_c);if(_d==undefined&&(this.type=="filter"||this.type=="filterlike")){_d=this._innerdataset.getColumn(_a,_c);}return _d;}return null;};_pCombo._getItemText=function(_a){var _b=this._innerdataset;var _c=this.datacolumn||this.codecolumn;if(_b&&_c){var _d=_b.getColumn(_a,_c);if(_d==undefined&&(this.type=="filter"||this.type=="filterlike")){_d=this._innerdataset.getColumn(_a,_c);}return _d;}return null;};_pCombo._getIndex=function(_a){var _b=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _c=(this.type=="filter"||this.type=="filterlike")?_b:this._innerdataset;if(_c){var _d=_c.getRowCount();for(var _f=0;_f<_d;_f++ ){var _e=this._getItemValue(_f);if(_a instanceof nexacro.Decimal){_a=_a.toString();}if(_e instanceof nexacro.Decimal){_e=_e.toString();}if(_a==_e){return _f;}}}return  -1;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pCombo._cancelSelect=function(){if(this.comboedit){this.comboedit._cancelSelect();}};}else{_pCombo._cancelSelect=function(){if(this.comboedit){this.comboedit.setCaretPos(0);}};}_pCombo._setAccessibilityInfoByHover=function(_a){if(this._isPopupVisible()){var _b=this.combolist;return _b._setAccessibilityInfoByHover(_a);}else{return this._setAccessibilityNotifyEvent();}};_pCombo._clearAccessibilityInfoByHover=function(){if(this.combolist){this.combolist._clearAccessibilityInfoByHover();}};_pCombo._setEditReaonly=function(){if(this.comboedit){var _a=this.comboedit._input_element;if(this.type=="dropdown"){if(_a){if(nexacro.Browser=="Runtime"){var _b=_a._handle;if(_b){nexacro.__setElementHandleReadOnly(_b,true);}}else{var _c=_a._input_handle;if(_c){nexacro.__setDOMNodeReadOnly(_c,true);if(nexacro.OS=="Android"){_a.setElementReadonly(true);}}}}}else{if(_a){if(nexacro.Browser=="Runtime"){var _b=_a._handle;if(_b){nexacro.__setElementHandleReadOnly(_b,this.readonly);}}else{var _c=_a._input_handle;if(_c){nexacro.__setDOMNodeReadOnly(_c,this.readonly);}}}}}};delete _pCombo;_pCombo=null;nexacro.ComboListCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ListBoxCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._default_itemheight=nexacro._getCachedStyleObj("itemheight","20");this._overedItem=null;this._downItem=null;this._is_accessibility_changeIdx=false;};var _pComboListCtrl=nexacro._createPrototype(nexacro.ListBoxCtrl,nexacro.ComboListCtrl);nexacro.ComboListCtrl.prototype=_pComboListCtrl;_pComboListCtrl.on_find_CurrentStyle_itemheight=function(_a){return this.parent.on_find_CurrentStyle_itemheight(_a)||this._default_itemheight;};_pComboListCtrl.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pComboListCtrl.on_find_CurrentStyle_itembackground=function(_a){return this.parent._find_pseudo_obj("itembackground",_a,"background")||this._find_pseudo_obj("itembackground",_a,"background");};_pComboListCtrl.on_find_CurrentStyle_itemgradation=function(_a){return this.parent._find_pseudo_obj("itemgradation",_a,"gradation")||this._find_pseudo_obj("itemgradation",_a,"gradation");};_pComboListCtrl.on_find_CurrentStyle_itemborder=function(_a){return this.parent._find_pseudo_obj("itemborder",_a,"border")||this._find_pseudo_obj("itemborder",_a,"border");};_pComboListCtrl.on_find_CurrentStyle_itembordertype=function(_a){return this.parent._find_pseudo_obj("itembordertype",_a,"bordertype")||this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pComboListCtrl.on_find_CurrentStyle_itempadding=function(_a){return this.parent._find_pseudo_obj("itempadding",_a,"padding")||this._find_pseudo_obj("itempadding",_a,"padding");};_pComboListCtrl.on_find_CurrentStyle_itemaccessibility=function(_a){return this.parent._find_pseudo_obj("itemaccessibility",_a,"accessibility")||this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pComboListCtrl.on_find_CurrentStyle_color=function(_a){return this.parent._find_pseudo_obj("itemcolor",_a,"color")||this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;};_pComboListCtrl.on_find_CurrentStyle_font=function(_a){return this.parent._find_pseudo_obj("itemfont",_a,"font")||this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;};_pComboListCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pComboListCtrl._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){return nexacro.Component.prototype._on_mousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);};_pComboListCtrl.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l&&(_l instanceof nexacro.ScrollBarCtrl||(_l.parent&&_l.parent instanceof nexacro.ScrollBarCtrl))){return;}if(nexacro.isTouchInteraction||nexacro.SupportTouch){if(this._is_fling_stop){return;}var _n=this._selectinfo_list;if(this.parent._scroll_proc){if(_n.length){var _o=_n.length-1;var _p=_n[_o];if(_p.index!=this.parent.index){_p.obj._keep_selecting=false;_p.obj._control_pseudo="";_p.obj._contents_pseudo="";_p.obj._stat_change("notselect","normal");_n.splice(_o,1);}}return;}}var _q=this._getWindow().findComponent(_m);var _r=this._selectinfo;var _s=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _t=_r.obj;if(_t){this._is_lbutton_up=true;_t._keep_selecting=false;var _u=this._get_contents_rows();var _v;if(this._contains(_m)){this.on_fire_onitemclick(this,_q.index,_q.text,_q.value,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(nexacro._enableaccessibility){if(this._accessibility_index> -1){var _w=this._get_rowobj_byrow(this._accessibility_index);if(_r.index!=this._accessibility_index&&_w&&_w._selected==true){this._deselect_all(true);_w._stat_change("notselect","normal");}}}_v=_q;var _x=_v.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_x);}else{this._do_select(_x,false);}}else{if(this._changeIndex(_x)){this.on_apply_index();if(!_t.selected){_t._stat_change("notselect","normal");}}else{if(!_t.selected){_t._stat_change("notselect","normal");}}}}else{if(!_t.selected){_t._stat_change("notselect","normal");}}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._is_accessibility_changeIdx=true;}}return _s;};_pComboListCtrl.on_fire_sys_ontouchstart=function(_a,_b,_c,_d){if(this._is_fling_stop=this.parent._is_fling){return;}this._downItem=this._getWindow().findComponent(_a[0]._elem);var _e=nexacro.Component.prototype.on_fire_sys_ontouchstart.call(this,_a,_b,_c,_d);return _e;};_pComboListCtrl.on_fire_sys_ontouchend=function(_a,_b,_c,_d){if(_d&&(_d instanceof nexacro.ScrollBarCtrl||(_d.parent&&_d.parent instanceof nexacro.ScrollBarCtrl))){return;}if(this._is_fling_stop){return;}var _e=this._selectinfo_list;if(this.parent._scroll_proc){if(_e.length){var _f=_e.length-1;var _g=_e[_f];if(_g.index!=this.parent.index){_g.obj._keep_selecting=false;_g.obj._control_pseudo="";_g.obj._contents_pseudo="";_g.obj._stat_change("notselect","normal");_e.splice(_f,1);}}return;}var _h=this._getWindow().findComponent(_a[0]._elem);var _i=nexacro.Component.prototype.on_fire_sys_ontouchend.call(this,_a,_b,_c,_d);while(_e.length){var _j=_e[0].obj;if(_j){_j._keep_selecting=false;var _k=this._get_contents_rows();var _l;if(this._contains(_h)&&this._downItem.index==_h.index){var _m=_a[0];this.on_fire_onitemclick(this,_h.index,_h.text,_h.value,_m._current_state,this._altKey,this._ctrlKey,this._shiftKey,_m.screenX,_m.screenY,_m.canvasX,_m.canvasY,_m.clientX,_m.clientY);_l=_h;var _n=_l.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_n);}else{this._do_select(_n,false);}}else{if(this._changeIndex(_n)){this.on_apply_index();if(!_j.selected){_j._stat_change("notselect","normal");}}else{if(!_j.selected){_j._stat_change("notselect","normal");}}}}else{if(!_j.selected){_j._stat_change("notselect","normal");}}}_e.shift();}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._is_accessibility_changeIdx=true;}return _i;};_pComboListCtrl.on_fire_sys_ontouchcancel=function(_a,_b,_c,_d){if(_d&&(_d instanceof nexacro.ScrollBarCtrl||(_d.parent&&_d.parent instanceof nexacro.ScrollBarCtrl))){return;}if(this._is_fling_stop){return;}var _e=this._selectinfo_list;if(this.parent._scroll_proc){if(_e.length){var _f=_e.length-1;var _g=_e[_f];if(_g.index!=this.parent.index){_g.obj._keep_selecting=false;_g.obj._control_pseudo="";_g.obj._contents_pseudo="";_g.obj._stat_change("notselect","normal");_e.splice(_f,1);}}return;}if(this._downItem){this._downItem._stat_change("notselect","normal");}while(_e.length){var _h=_e[0].obj;if(_h){_h._keep_selecting=false;if(!_h.selected){_h._stat_change("notselect","normal");}}_e.shift();}return;};_pComboListCtrl.on_vscroll=function(_a,_b){if(_b._evtkind=="fling"||_b._evtkind=="slide"){if(_b.pos!=this.parent._start_vscroll_pos){this.parent._scroll_proc=true;}}nexacro.ListBoxCtrl.prototype.on_vscroll.call(this,_a,_b);};_pComboListCtrl.on_hscroll=function(_a,_b){this.parent._scroll_proc=true;nexacro.ListBoxCtrl.prototype.on_hscroll.call(this,_a,_b);};_pComboListCtrl._is_fling_stop=false;_pComboListCtrl.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!nexacro.isTouchInteraction&&!nexacro.SupportTouch){return;}if(this._is_fling_stop=this.parent._is_fling){return;}var _n=_a.parent;while(!_n._is_component){_n=_n.parent;}if(!_n){return;}_n._keep_selecting=true;_n._control_pseudo="";_n._contents_pseudo="";_n._stat_change("select","selected");var _o=this._shiftKey=_e;this._ctrlKey=_d;this._altKey=_c;this._selectinfo.obj=_n;this._selectinfo.index=_n.index;this._selectinfo.text=_n.text;this._selectinfo.value=_n.value;this._selectinfo_list[this._selectinfo_list.length]=this._selectinfo;if(!_o){this._shift_select_base_index=_n.index;}this._lbtnDownIdx=_n.index;};_pComboListCtrl.on_notify_item_onlbuttondown=function(_a,_b){if(nexacro.isTouchInteraction||nexacro.SupportTouch){if(this._is_fling_stop=this.parent._is_fling){return;}}this.parent._start_vscroll_pos=this.vscroll&&this.vscroll.pos>0?this.vscroll.pos:0;this.parent._scroll_proc=false;if(!nexacro.isTouchInteraction&&!nexacro.SupportTouch){var _c=this.getSelectedItems();var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=this._get_rowobj_byrow(_c[_f]);if(_e){_e.selected=false;_e._stat_change("notselect","normal");}}}nexacro.ListBoxCtrl.prototype.on_notify_item_onlbuttondown.call(this,_a,_b);};_pComboListCtrl.on_notify_item_onmouseenter=function(_a,_b){};_pComboListCtrl.on_notify_item_onmouseleave=function(_a,_b){};_pComboListCtrl._create_item=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return new nexacro.ComboListItemCtrl(_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pComboListCtrl._reset_item=function(_a){var _b=this.getElement();var _c=this.index;if(this._overedItem){_c=this._overedItem.index;}var _d=_b.scroll_top==undefined?0:_b.scroll_top;var _e,_f,_g;var _h=parseInt(this.currentstyle.itemheight._value,10);var _i=this._get_rowcount();var _j=this._get_last_visible_row(true)-1;if(_a>=_i){return;}_f=(_a<0?0:_a)*_h;_g=_f+_h;if((_c!=_a)&&(_g>=this._client_height+_d)&&(this.parent._downkey==true)){_e=_d+_h;}else if(_f<_d){_e=_f;}if(_e>=0){this.vscrollbar.set_pos(_e);}var _k=this._get_contents_rows();var _l=this._getItemByRealIdx(_k,this._overeditemindex).obj;var _m=this._getItemByRealIdx(_k,_a).obj;if(_l){_l.on_apply_mouseover(false);this._set_overeditemindex( -1);}if(_m){this._overedItem=_m;_m.on_apply_mouseover(true);this._set_overeditemindex(_m.index);}};_pComboListCtrl._refresh_size=function(_a){var _b=this.getElement();if(_b){this._onResetScrollBar();var _c=this._contents_maxwidth;var _d=this._contents_maxheight;var _e=_b.container_maxwidth;var _f=_b.container_maxheight;_c=Math.max(_c,_b.client_width);_d=Math.max(_d,_b.client_height);if((_b.container_maxwidth!=_c||_b.container_maxheight!=_d)){_b.setElementScrollMaxSize(_c,_d);}if(_a){this._refresh_scroll();}}};_pComboListCtrl._adjustScrollRows_callback=function(_a){this._adjustScrollRows_proc(_a);if(this.parent&&!this.parent._is_fling){this._clearHiddenPage();}};_pComboListCtrl._set_overeditemindex=function(_a){this._overeditemindex=_a;this.parent._moverindex=_a;};_pComboListCtrl._changeIndex=function(_a,_b,_c,_d){var _e=this.parent;if(_b||_a!=this.index||((_e.type=="search")&&_e.index!=_a&&_a==this.index&&!_e._keyval)){var _f=this._innerdataset;var _g=parseInt(_a,10)|0;var _h=this.index;var _i=this.text;var _j=this.value;var _k=(this.codecolumn||this.datacolumn);if(_f&&_k){var _l=_f.getColumn(_g,this.datacolumn||this.codecolumn);var _m=_f.getColumn(_g,this.codecolumn||this.datacolumn);var _n=_l==undefined?"":_l;var _o=_m;if(_c!=true){if(this.on_fire_canitemchange(this,_h,_i,_j,_g,_n,_o)!=false){this._accessibility_index=this.index=_g;this.text=_n;if(!this._is_value_setting){this.value=_o;}this.applyto_bindSource("value",_m);this.on_fire_onitemchanged(this,_h,_i,_j,_g,_n,_o);return true;}}else{this._accessibility_index=this.index=_g;this.text=_n;if(!this._is_value_setting){this.value=_o;}this.applyto_bindSource("value",_m);return true;}}}else if((_e.type=="filterlike"||_e.type=="filter")&&_a==this.index&&!_e._keyval){if(_d=="_select_add"){return true;}var _f=_e._filtereddataset?_e._filtereddataset:_e._getFilteredDataset();_a=_e._getRawIndex(_f,_a);if(_a!=_e.index){var _g=parseInt(this.index,10)|0;var _h=this.index;var _i=this.text;var _j=this.value;var _k=(this.codecolumn||this.datacolumn);if(_f&&_k){var _l=_f.getColumn(_g,this.datacolumn||this.codecolumn);var _m=_f.getColumn(_g,this.codecolumn||this.datacolumn);var _n=_l==undefined?"":_l;var _o=_m;if(this.on_fire_canitemchange(this,_h,_i,_j,_g,_n,_o)!=false){this._accessibility_index=this.index=_g;this.text=_n;if(!this._is_value_setting){this.value=_o;}this.applyto_bindSource("value",_m);this.on_fire_onitemchanged(this,_h,_i,_j,_g,_n,_o);return true;}}}else{var _p=this._get_rowobj_byrow(_a);if(_p&&_p.selected==false){_p.set_selected(true);}if(_e._isPopupVisible()&&!_c){if(!_e._scroll_proc){_e.popupwindow._closePopup();}}}}return false;};_pComboListCtrl._setAccessibilityNotifyEvent=function(_a){if(this._is_accessibility_changeIdx){this._is_accessibility_changeIdx=false;return this.parent._setAccessibilityNotifyEvent(_a);}else{return nexacro.ListBox.prototype._setAccessibilityNotifyEvent.call(this,_a);}};delete _pComboListCtrl;_pComboListCtrl=null;nexacro.ComboListItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ListItemCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pComboListItemCtrl=nexacro._createPrototype(nexacro.ListItemCtrl,nexacro.ComboListItemCtrl);nexacro.ComboListItemCtrl.prototype=_pComboListItemCtrl;_pComboListItemCtrl.on_mousemove_basic_action=function(){if(nexacro.isTouchInteraction||nexacro.SupportTouch){return;}var _a=this.parent._overedItem;if(_a&&_a!=this){if(_a._apply_pushed_pseudo&&_a._is_push){_a._stat_change("notpush","normal");_a._is_pushed_area=false;}else if(!_a._selected){_a._stat_change("","normal");}_a=null;}this.parent._overedItem=this;if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else{this.parent._set_overeditemindex(this.index);this._stat_change("","mouseover");}};_pComboListItemCtrl.on_apply_mouseover=function(_a){if(this.selected){return;}if(_a){this._stat_change("notselect","mouseover");}else{this._stat_change("notselect","normal");}};_pComboListItemCtrl.on_apply_selected=function(){if(this.selected){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}};_pComboListItemCtrl._common_lbuttonup=function(_a,_b,_c,_d,_e){if(_a){var _f=nexacro._getFirstTouchInfo(_a);if(_f){_b=_f._elem;_c=_f.canvasX;_d=_f.canvasY;_e=_b;_f=null;}}if(_b!=_e){this.parent.parent._is_real_upelem=_e;}return true;};_pComboListItemCtrl._on_touchend=function(_a,_b,_c,_d,_e,_f){this._common_lbuttonup(_c,null,null,null,null);return nexacro.Component.prototype._on_touchend.call(this,_a,_b,_c,_d,_e,_f);};_pComboListItemCtrl._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._common_lbuttonup(null,_a,_f,_g,_m);return nexacro.Component.prototype._on_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pComboListItemCtrl.on_apply_custom_setfocus=function(_a){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){return nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}return nexacro.ListItemCtrl.prototype.on_apply_custom_setfocus.call(this,_a);};delete _pComboListItemCtrl;_pComboListItemCtrl=null;nexacro.ComboEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.EditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._accessibility_role="combobox";};var _pComboEditCtrl=nexacro._createPrototype(nexacro.EditCtrl,nexacro.ComboEditCtrl);nexacro.ComboEditCtrl.prototype=_pComboEditCtrl;_pComboEditCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a,this)||nexacro.Component._default_color;};_pComboEditCtrl.on_find_CurrentStyle_displaynulltextcolor=function(_a){return this.parent.on_find_CurrentStyle_displaynulltextcolor(_a,this)||nexacro.Component._default_color;};_pComboEditCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a,this)||nexacro.Component._default_font;};_pComboEditCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a,this)||nexacro.Component._default_align;};_pComboEditCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_accessibility(_a,this)||nexacro.Component._default_accessibility;};_pComboEditCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_background(_a,this);};_pComboEditCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_border(_a,this);};_pComboEditCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_bordertype(_a,this);};_pComboEditCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_gradation(_a,this);};_pComboEditCtrl.on_apply_custom_setfocus=function(_a){var _b=this._input_element;if(_b){if(nexacro._enableaccessibility){_b._setElementInputRole();}if(this._old_selection[0]!=this._old_selection[1]){_b.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}if(nexacro.Browser=="Edge"){_b.setElementFocus();}if(!this.autoselect&&this._edit_base_api){if(this._is_set_value&&this.value&&(_a=="tabkey"||_a=="shifttabkey"||this.taborder==0)){this.setCaretPos(this.value.length);}else if(_a!="tabkey"&&_a!="shifttabkey"){this.setCaretPos(this._edit_base_api._begin_pos);}}else if(_a=="focus"&&this.autoselect){_b.setElementSetSelect(0,this.value.length);}this._is_set_value=false;if(nexacro.Browser!="Edge"){_b.setElementFocus(true);}_b=null;}};_pComboEditCtrl.on_get_style_accessibility_label=function(){return "";};_pComboEditCtrl._getFromComponent=function(_a){var _b=_a.parent;if(_b&&_b._isPopupVisible()){return _b;}else{return nexacro.Component.prototype._getFromComponent.call(this,_a);}};_pComboEditCtrl.set_value=function(_a){nexacro.Edit.prototype.set_value.call(this,_a);this._setAccessibilityValue(this.text,false);if(this.parent.type=="dropdown"&&this._input_element._is_focused==true){this.setCaretPos(0);}};_pComboEditCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,_l);};delete _pComboEditCtrl;_pComboEditCtrl=null;nexacro.ComboButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pComboButtonCtrl=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.ComboButtonCtrl);nexacro.ComboButtonCtrl.prototype=_pComboButtonCtrl;_pComboButtonCtrl.on_find_CurrentStyle_background=function(_a){return this._find_ctrl_pseudo_obj("background",_a,"background");};_pComboButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this._find_ctrl_pseudo_obj("gradation",_a,"gradation");};_pComboButtonCtrl.on_find_CurrentStyle_border=function(_a){return this._find_ctrl_pseudo_obj("border",_a,"border");};_pComboButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this._find_ctrl_pseudo_obj("bordertype",_a,"bordertype");};_pComboButtonCtrl.on_find_CurrentStyle_align=function(_a){return this._find_ctrl_pseudo_obj("align",_a,"align")||nexacro.Component._default_align;};_pComboButtonCtrl.on_find_CurrentStyle_margin=function(_a){return this._find_ctrl_pseudo_obj("margin",_a,"margin")||nexacro.Component._default_margin;};_pComboButtonCtrl.on_find_CurrentStyle_cursor=function(_a){return this._find_ctrl_pseudo_obj("cursor",_a,"cursor")||nexacro.Component._default_cursor;};_pComboButtonCtrl.on_find_CurrentStyle_opacity=function(_a){return this._find_ctrl_pseudo_obj("opacity",_a,"opacity")||nexacro.Component._default_opacity;};_pComboButtonCtrl.on_find_CurrentStyle_shadow=function(_a){return this._find_ctrl_pseudo_obj("shadow",_a,"shadow");};_pComboButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){if(_b.comboedit){if(!(nexacro.isTouchInteraction||nexacro.SupportTouch)||(nexacro._isMobile&&nexacro._isMobile())){_b.comboedit.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}_b=null;}};_pComboButtonCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro.isTouchInteraction||nexacro.SupportTouch){var _m=new nexacro.EventInfo(this,"ondropdown");if((nexacro.Browser=="Runtime"&&(_a=="lbutton"||_a=="touch"))||(nexacro.Browser!="Runtime"&&(_a=="touch"||(!nexacro.isTouchInteraction&&_a=="lbutton")))){this.parent.on_notify_ondropdown(this,_m);}}return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pComboButtonCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,_l);};delete _pComboButtonCtrl;_pComboButtonCtrl=null;nexacro.ComboPopupWindow=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._is_ios=false;};var _pPopupWindow=nexacro._createPrototype(nexacro.PopupComponent,nexacro.ComboPopupWindow);nexacro.ComboPopupWindow.prototype=_pPopupWindow;_pPopupWindow.set_visible=function(_a){nexacro.PopupComponent.prototype.set_visible.call(this,_a);var _b=this.parent;if(!_a){var _c=_b._keyval;var _d=_b._eventinfo;if(_c===null||_c===undefined){if(_b.displaynulltext!=""&&_b.value==undefined){_b._setEditValue(undefined);}else{if(_b.value&&!_b.text){_b._setEditValue("");}else{_b._setEditValue(_b.text);}}}_b.on_fire_oncloseup(_b,_d.preindex,_d.pretext,_d.prevalue,_d.postindex,_d.posttext,_d.postvalue,_d.isselect);}else{_b._eventinfo.isselect=false;}_b=null;};_pPopupWindow._closePopup=function(){if(nexacro._enableaccessibility){this.parent._want_arrows=false;this.parent._setAccessibilityStatExpanded(false);}if(nexacro.OS=="iOS"&&this._is_ios&&this.parent.comboedit._input_element._is_ios_composition){this.parent.comboedit._input_element._input_handle.blur();this.parent.comboedit._input_element._is_ios_composition=false;}nexacro.PopupComponent.prototype._closePopup.call(this);var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);_a._releaseCaptureLock(this._attached_comp);this._track_capture=false;}var _b=this._find_lastFocused(this);if(!this.parent._is_mouseover&&_b==this.parent){this.parent._stat_change("focus","focused");}};_pPopupWindow._getMainFrame=function(){var _a=this;while(_a&&_a instanceof nexacro.MainFrame){_a=_a.parent;}return _a;};_pPopupWindow._getScalePosition=function(_a,_b){var _c=this.parent;var _d=this._attached_comp;if(!_d){return;}var _e=this._getOwnerFrame();if(!_e){return;}var _f=_e._getWindow();_e=_f?_f.frame:null;if(!_e){return;}var _g=this._getCumulativeZoomFactor()/100.0;var _h=nexacro._getElementPositionInFrame(_c.getElement());var _i=nexacro._getElementPositionInFrame(_e.getElement());var _j=nexacro._getElementScreenPosition(_e.getElement());var _k=_a;var _l=_b*_g;var _m=_c._adjust_width;var _n=_c._adjust_height*_g;var _o,_p,_q,_r;var _s,_t;var _u=_b;var _v,_w,_x;_s=_i.x+_e._adjust_width;_t=_i.y+_e._adjust_height;var _y=nexacro._getScreenAvailHeight();_o=0;_p=_n;_q=_k;_r=_l;var _z=0;if(_y>_t&&_j.y+_t>_y){_z=_y-_j.y-(_h.y+_n);}else if(nexacro.Browser=="Runtime"&&_y<=_t){_z=_y-_j.y-(_h.y+_n);}else{_z=_t-(_h.y+_n);}var _aa=_h.y;var _ab=list_pb=list_bt=list_bb=0;var _ac=(parseInt(_d.currentstyle.itemheight._value,10))*_g;if(_d.currentstyle.padding){_ab=(parseInt(_d.currentstyle.padding.top,10))*_g;list_pb=(parseInt(_d.currentstyle.padding.bottom,10))*_g;}if(_d.currentstyle.border){list_bt=(parseInt(_d.currentstyle.border.top_width,10))*_g;list_bb=(parseInt(_d.currentstyle.border.bottom_width,10))*_g;}var _ad=_ab+list_pb+list_bt+list_bb;var _ae=_c.displayrowcount;var _af=0;var _ag=0;var _ah=_c._filtereddataset?_c._filtereddataset:_c._getFilteredDataset();var _ai=(_c.type=="filter"||_c.type=="filterlike")?_ah:_c._innerdataset;if(_ai){_af=_ai.getRowCount();}if(_ae== -1){_ag=(_af<3?_af:3)*_ac+_ad;_l=(_af*_ac+_ad);if(_z>_ag){if(_z>_l){_r=_l;}else{_r=_z;}}else{if(_aa>_ag){if(_aa>_l){_p= -_l;_r=_l;}else{_p= -_aa;_r=_aa;}}else{if(_z>_aa){_r=_z;}else{_p= -_aa;_r=_aa;}}}}else{_af=_af>_ae?_ae:_af;_ag=_af*_ac+_ad;_l=(_af*_ac+_ad);if(_z>_ag){_r=_ag;}else{if(_aa>_ag){_p= -_ag;_r=_ag;}else{if(_z>_aa){_r=_z;}else{_p= -_aa;_r=_aa;}}}}_w=this.parent._getMaxTextSize(this.parent._innerdataset);if(_d.vscrollbar){_v=_d.vscrollbar.width;_x=_w+_v;if((_m<_x)&&(_r<_u)){_q+=_v;}}if(_h.x<_i.x){var _aj=_i.x-_h.x;_o+=_aj;}else if(_h.x+_k>_i.x+_s){var _aj=(_h.x+_k)-(_i.x+_s);_o-=_aj;if(_d.vscrollbar){_o-=_v;}if(_o<(_i.x-_h.x)){_o=_i.x-_h.x;}}return {left:_o,top:_p,width:_q,height:_r,scale:_g};};_pPopupWindow._popupAuto=function(_a,_b){var _c=this._getScalePosition(_a,_b);var _d=_c.scale,_e=_c.left,_f=_c.top,_g=_c.width,_h=_c.height;var _i=this.getElement();if(_i.setZoom){_i.setZoom(_d*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_i,_d*100);}if(this._attached_comp._isRtl()){_e= -_e;}this._popupBy(this.parent,_e,_f,_g,(_h/_d));};_pPopupWindow._popupCenterAuto=function(_a,_b){var _c=this._getScalePosition(_a,_b);var _d=_c.scale,_e=_c.left,_f=_c.top,_g=_c.width,_h=_c.height;var _i=this.getElement();if(_i.setZoom){_i.setZoom(_d*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_i,_d*100);}var _j=this._getOwnerFrame();if(!_j){return;}var _k=_j._getWindow();_j=_k?_k.frame:null;var _l=nexacro._getElementPositionInFrame(_j.getElement());var _m=((_j.width/2)-(_g/2));var _n=((_j.height/2)-(_h/2));_n=_n<0?0:_n;this._popupBy(_j,(_m/_d),_n,_g,(_h/_d));};delete _pPopupWindow;_pPopupWindow=null;nexacro.ComboCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Combo.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pComboCtrl=nexacro.ComboCtrl.prototype=nexacro._createPrototype(nexacro.Combo,nexacro.ComboCtrl);_pComboCtrl._type_name="ComboControl";nexacro._setForControlStyleFinder(_pComboCtrl);_pComboCtrl.on_created_contents=function(){nexacro.Combo.prototype.on_created_contents.call(this);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){this._control_element.setElementAccessibilityHidden(true);}};delete _pComboCtrl;_pComboCtrl=null;};if(!nexacro.Div){nexacro.Div=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.async=true;this.url=null;this.applystyletype="cascade,keep";this.scrollbars="autoboth";this._init_width=(_g-_c)|0;this._init_height=(_h-_d)|0;this._text_elem=null;this._url=null;this._urlloading=false;this._oldstyletype=3;this._styletype=3;this._originStyles={};this._linkstyles={};this._linkstyles.normal=this.on_create_custom_style();this._setstylecomplete=false;this._callstylecnt=0;this._cssclass="";this._linkedcssclass="";this._setclasscomplete=false;this._callclasscnt=0;if(_i){this._has_parent=true;}else{this._has_parent=false;}this._scrollbars=3;this._apply_client_padding=true;this._accessibility_role="form";this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"onvscroll":1,"onhscroll":1,"onactivate":1,"onbeforeclose":1,"onclose":1,"ondeactivate":1,"onsyscommand":1,"ontimer":1,"oninit":1,"onload":1,"canlayoutchange":1,"canstepchange":1,"onlayoutchanged":1,"onstepchanged":1,"onmouseup":1,"onmousedown":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1};};var _pDiv=nexacro._createPrototype(nexacro.Form,nexacro.Div);nexacro.Div.prototype=_pDiv;_pDiv._type_name="Div";_pDiv._find_pseudo_obj=function(_a,_b,_c){switch(this._styletype){case 5:return this._find_cascade_pseudo_obj(_a,_b,_c);case 4:return this._find_apply_pseudo_obj(_a,_b,_c);case 1:return this._find_keep_pseudo_obj(_a,_b,_c);case 3:default:return this._find_cascadekeep_pseudo_obj(_a,_b,_c);}return null;};_pDiv._find_cascade_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._linkstyles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}var _f=this._styles[_b];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}var _g=this._linkstyles["normal"];if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}var _g=this.style;if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _h=_d._type_name.toLowerCase();if(_c&&_h!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv._find_apply_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._linkstyles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}}var _f=this._linkstyles["normal"];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _g=_d._type_name.toLowerCase();if(_c&&_g!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv._find_keep_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._styles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}}var _f=this.style;if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _g=_d._type_name.toLowerCase();if(_c&&_g!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv._find_cascadekeep_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._styles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}var _f=this._linkstyles[_b];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}var _g=this.style;if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_g=this._linkstyles["normal"];if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _h=_d._type_name.toLowerCase();if(_c&&_h!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv.on_apply_custom_pseudo=function(_a){var _b=_b=["align","background","border","bordertype","color","cursor","font","letterspace","gradation","margin","opacity","padding","shadow","accessibility"];var _c;if(!this._url||this._url.length==0){this._oldstyletype=this._styletype;this._styletype=1;_c=this._find_style(_b);this._styletype=this._oldstyletype;this._apply_style(_c);}else{if(this._setstylecomplete){_c=this._find_style(_b);this._apply_style(_c);}}_b=null;};_pDiv.on_update_style_align=function(){var _a=this.style.align;var _b=this.on_update_style("align",_a);if(_b){this.on_apply_style_align(_a);}};_pDiv.on_update_style_background=function(){var _a=this.style.background;var _b=this.on_update_style("background",_a);if(_b){this.on_apply_style_background(_a);}};_pDiv.on_update_style_border=function(){var _a=this.style.border;var _b=this.on_update_style("border",_a);if(_b){this.on_apply_style_border(_a);}};_pDiv.on_update_style_bordertype=function(){var _a=this.style.bordertype;var _b=this.on_update_style("bordertype",_a);if(_b){this.on_apply_style_bordertype(_a);}};_pDiv.on_update_style_color=function(){var _a=this.style.color;var _b=this.on_update_style("color",_a);if(_b){this.on_apply_style_color(_a);}};_pDiv.on_update_style_cursor=function(){var _a=this.style.cursor;var _b=this.on_update_style("cursor",_a);if(_b){this.on_apply_style_cursor(_a);}};_pDiv.on_update_style_font=function(){var _a=this.style.font;var _b=this.on_update_style("font",_a);if(_b){this.on_apply_style_font(_a);}};_pDiv.on_update_style_glow=function(){var _a=this.style.glow;var _b=this.on_update_style("glow",_a);if(_b){this.on_apply_style_glow(_a);}};_pDiv.on_update_style_gradation=function(){var _a=this.style.gradation;var _b=this.on_update_style("gradation",_a);if(_b){this.on_apply_style_gradation(_a);}};_pDiv.on_update_style_margin=function(){var _a=this.style.margin;var _b=this.on_update_style("margin",_a);if(_b){this.on_apply_style_margin(_a);}};_pDiv.on_update_style_opacity=function(){var _a=this.style.opacity;var _b=this.on_update_style("opacity",_a);if(_b){this.on_apply_style_opacity(_a);}};_pDiv.on_update_style_padding=function(){var _a=this.style.padding;var _b=this.on_update_style("padding",_a);if(_b){this.on_apply_style_padding(_a);}};_pDiv.on_update_style_shadow=function(){var _a=this.style.shadow;var _b=this.on_update_style("shadow",_a);if(_b){this.on_apply_style_shadow(_a);}};_pDiv.on_update_style_accessibility=function(){var _a=this.style.accessibility;var _b=this.on_update_style("accessibility",_a);if(_b){this.on_apply_style_accessibility(this._make_accessibility_value(_a));}};_pDiv.on_update_style=function(_a,_b){var _c="normal";if(!this._setstylecomplete&&this._is_loading){if(!this._linkstyles[_c]){var _d=nexacro._cloneStyleObject(this.style);this._linkstyles[_c]=_d;_d=null;}this._linkstyles[_c][_a]=_b;if(this._styletype==4||this._styletype==5||(this._styletype==3&&this._styles[_c]&&this._styles[_c][_a]==null)){this.currentstyle[_a]=_b;return true;}}else if(this._setstylecomplete&&!this._is_loading){var _e=_b;if(!this._styles[_c]){var _d=nexacro._cloneStyleObject(this.style);this._styles[_c]=_d;_d=null;}this._styles[_c][_a]=_e;if(!this._url||this._url.length==0){this.currentstyle[_a]=_b;return true;}else{if(this._styletype==1||this._styletype==3){this.currentstyle[_a]=_b;return true;}else{return false;}}}};_pDiv.on_apply_style_color=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pDiv.on_apply_style_font=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pDiv.on_apply_style_align=function(_a){var _b=this._text_elem;if(_b){var _c=_a.halign==""?"center":_a._halign;var _d=_a.valign==""?"middle":_a._valign;_b.setElementAlignXY(_c,_d);}};_pDiv.on_create_contents=function(){if(this.components.length>0){nexacro.Form.prototype.on_create_contents.call(this);}else{var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this.text){var _c=new nexacro.TextBoxElement(_a);var _d=((_b.align==null||_b.align.halign=="")?"center":_b.align._halign);var _e=((_b.align==null||_b.align.valign=="")?"middle":_b.align._valign);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlignXY(_d,_e);_c.setElementLetterSpace(_b.letterspace);this._text_elem=_c;_c=null;_b=null;_d=null;_e=null;}else if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){this._text_elem=new nexacro.TextBoxElement(_a);this._text_elem.setElementSize(this._client_width,this._client_height);}}_a=null;}this._setStyle();this._setclasscomplete=true;};_pDiv.on_created_contents=function(){this.on_apply_applystyletype();if(this.text){this.on_apply_text();var _a=this._text_elem;if(_a){_a.create();_a=null;}}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4&&this._text_elem){this._text_elem.create();this._text_elem._setElementAccessibilityRole();this._text_elem._setElementAccessibilityLabel();}if(this._is_loaded==false&&this.url!=null&&!this._has_parent){this._has_parent=true;this.loadForm(this.url,this.async,true,this.parent._url);}nexacro.Form.prototype.on_created_contents.call(this);};_pDiv.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}this._has_parent=false;this._user_property_list=null;nexacro.Form.prototype.on_destroy_contents.call(this);if(this._originStyles){var _a=this._originStyles;for(var _e in _a){var _b=_a[_e];if(_b.destroy){_b.destroy();_b=null;}}this._originStyles=null;}if(this._linkstyles){var _c=this._linkstyles;for(var _e in _c){var _d=_c[_e];if(_d.destroy){_d.destroy();_d=null;}}this._linkstyles=null;}};_pDiv.on_change_containerRect=function(_a,_b){if(this._text_elem){this._text_elem.setElementSize(_a,_b);}nexacro.Form.prototype.on_change_containerRect.call(this,_a,_b);};_pDiv.on_update_position=function(_a,_b){var _c=this._child_list;var _d=_c?_c.length:0;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e._isPopupVisible&&_e._isPopupVisible()&&(_a||_b)){if(_e._closePopup){_e._closePopup();}}_e=null;}childe_list=null;_d=null;nexacro.Form.prototype.on_update_position.call(this,_a,_b);};_pDiv.on_fire_oninit=function(_a){var _b=this._getForm();if(_b&&_b!=this&&_b._is_form&&_b._is_init){_b.on_fire_oninit(_b);}return nexacro.Form.prototype.on_fire_oninit.call(this,_a);};_pDiv._getAccessibilityRole=function(_a){var _b=_a.role?_a.role:this._accessibility_role;return _b;};_pDiv.on_get_style_accessibility_label=function(){return this.text?this.text:"";};_pDiv.getFocus=function(){return this.parent?this.parent.getFocus():null;};_pDiv.getParentContext=function(){return this.parent;};_pDiv.reload=function(){this.on_apply_url(true);};_pDiv.addChild=function(_a,_b){var _c=nexacro.Form.prototype.addChild.call(this,_a,_b);if(_b._is_component){this._delete_text();}return _c;};_pDiv._delete_text=function(){this._apply_client_padding=false;if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._control_element){this._control_element.setElementPadding(nexacro.Component._default_padding);}};_pDiv._initContents=function(_a,_b){if(this._urlloading){_b="normal";this._pseudo="normal";this._contents_pseudo="";}this._urlloading=false;nexacro.Component.prototype._initContents.call(this,_a,_b);};_pDiv._init=function(){this._css_finder=null;this._ref_css_finder=null;this._cssfinder_cache={};if(!this._setstylecomplete&&this._callstylecnt==0){this._setStyle();}if(this.hscrollbar){this.hscrollbar._setScrollPos(0);}if(this.vscrollbar){this.vscrollbar._setScrollPos(0);}this._cssclass=this.cssclass;this._callclasscnt++ ;};_pDiv._clear=function(){var _a=this.getElement();if(_a){this._is_init=true;this._pseudo="normal";this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";this._clearEventListeners();if(this._timerManager&&this._timerManager.timerList.length>0){this._timerManager.clearAll();}if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}_a.clearContents();_a=null;if(this.stepcontrol){this._destroyStepControl();this.stepcontrol=null;}var _b=this.binds;var _c=_b.length;for(var _k=0;_k<_c;_k++ ){var _d=_b.get_id(_k);this._bind_manager._setBinditem(_b.get_item(_d),true);this[_d]=null;}_b.clear();_b=null;var _e=this.components;var _f=this.objects;this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();_c=_e.length;for(var _k=0;_k<_c;_k++ ){var _g=_e.get_id(_k);if(this[_g]){if(this[_g]._destroy){this[_g]._destroy();}}}_e.clear();_e=null;_c=_f.length;for(var _k=0;_k<_c;_k++ ){var _h=_f.get_id(_k);if(this[_h]){if(this[_h].destroy){this[_h].destroy();}delete this[_h];this[_h]=null;}}_f.clear();_f=null;if(this._linkstyles){var _i=this._linkstyles;for(pseudo in _i){var _j=_i[pseudo];if(_j.destroy){_j.destroy();_j=null;}}}this.resetScroll();this._clear_prop();this._last_focused=null;}this._is_created=false;};_pDiv._clear_obj=function(){this._is_init=true;this._pseudo="normal";this.currentstyle._empty();this._contents_pseudo="";this._clearEventListeners();if(this._timerManager&&this._timerManager.timerList.length>0){this._timerManager.clearAll();}if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this.stepcontrol){this._destroyStepControl();this.stepcontrol=null;}var _a=this.binds;var _b=_a.length;for(var _j=0;_j<_b;_j++ ){var _c=_a.get_id(_j);this._bind_manager._setBinditem(_a.get_item(_c),true);this[_c]=null;}_a.clear();_a=null;var _d=this.components;var _e=this.objects;this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();_b=_d.length;for(var _j=0;_j<_b;_j++ ){var _f=_d.get_id(_j);if(this[_f]){if(this[_f]._destroy){this[_f]._destroy();}}}_d.clear();_d=null;_b=_e.length;for(var _j=0;_j<_b;_j++ ){var _g=_e.get_id(_j);if(this[_g]){if(this[_g].destroy){this[_g].destroy();}delete this[_g];this[_g]=null;}}_e.clear();_e=null;if(this._linkstyles){var _h=this._linkstyles;for(pseudo in _h){var _i=_h[pseudo];if(_i.destroy){_i.destroy();_i=null;}}}this._last_focused=null;};_pDiv.loadForm=function(_a,_b,_c,_d){var _e=_b;var _f=this.getParentContext();while(_f&&_f._is_form){if(_f&&!_f._is_fired_onload&&_f.async===false){_e=false;break;}_f=_f.getParentContext();}nexacro.FormBase.prototype.loadForm.call(this,_a,_e,_c,_d);};_pDiv._loadInclude=function(_a,_b){var _c=this.async;var _d=this.getParentContext();while(_d&&_d._is_form){if(_d&&!_d._is_fired_onload&&_d.async===false){_c=false;break;}_d=_d.getParentContext();}if(!this._is_created){}this._loadIncludeJS.call(this,_a,_b,_c);};_pDiv._loadIncludeJS=function(_a,_b,_c){var _d=nexacro._getServiceObject(_b);var _e=nexacro._makeurl(_b);this._load_manager.loadIncludeModule(_e,null,_c,_d);};_pDiv.on_apply_text=function(){var _a=this.getElement();var _b=this._text_elem;var _c=this.currentstyle;if(_a){if(!_b&&this.text&&this.components.length<1){_b=this._text_elem=new nexacro.TextBoxElement(_a);_b.create();}if(_b){var _d=(_c.align.halign==""?"center":_c.align._halign);var _e=(_c.align.valign==""?"middle":_c.align._valign);_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlignXY(_d,_e);_b.setElementLetterSpace(_c.letterspace);_d=null;_e=null;if(this.style.color!="transparent"){var _f=this._display_text;if(_f){_b.setElementText(_f);}else{_b.setElementText("");}}if(this._is_created&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_b._setElementAccessibilityRole();_b._setElementAccessibilityLabel();}}}_a=null;_b=null;_c=null;};_pDiv.set_async=function(_a){this.async=nexacro._toBoolean(_a);};_pDiv.set_url=function(_a,_b){if((_a!=this.url)&&!(_a==""&&this.url==null)){if((_a&&_a.substring(_a.length-5)==".xfdl")||!_a){this.url=_a;this._url=_a;this.on_apply_url();}}};_pDiv.getSetter=function(_a,_b){{if(!this._user_property_list){this._user_property_list=[];}if(!this._user_property_list[_a]){this._user_property_list.push(_a);}}if(!_b){_b="set_"+_a;}var _c=this[_b];if(_c){return new nexacro.SetterBinder(this,_a,_c);}return new nexacro.PropBinder(this,_a);};_pDiv._clear_prop=function(){var _a=nexacro._div_property_list;var _b=this._user_property_list;var _c=[];var _d=_a.length;var _e=_b?_b.length:0;var _f=0;for(_f=0;_f<_d;_f++ ){var _g=_a[_f];_c[_f]=this[_g];this[_g]=null;}for(_f=0;_f<_e;_f++ ){var _g=_b[_f];_c[_f+_d]=this[_g];this[_g]=null;}for(var _h in this){if(this.hasOwnProperty(_h)&&this[_h]!=null&&_h!="_registerscriptfn"){this[_h]=null;}}for(_f=0;_f<_d;_f++ ){var _g=_a[_f];this[_g]=_c[_f];}for(_f=0;_f<_e;_f++ ){var _g=_b[_f];this[_g]=_c[_f+_d];}_c=null;};_pDiv.on_apply_url=function(_a){if(this._url&&this._url.length>0){this._urlloading=true;this._setstylecomplete=false;application.getLayoutManager().clearLayout(this);var _b=this.async;if(_a!=true){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();var _d=this._last_focused;var _e=this._is_created;this._clear();this._last_focused=_d;this._is_created=_e;}var _f=this.parent;if(_f!=null){while(!_f._url){_f=_f.parent;}if(this._apply_client_padding){this._delete_text();}this.loadForm(this._url,_b,true,_f._url);this._has_parent=true;}else{this._has_parent=false;}_f=null;if(this._bind_manager){this._bind_manager._forceBinds();}else{var _g=this._getRootForm();if(_g&&_g._bind_manager){_g._bind_manager._forceBinds();}}}else{var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();this.on_apply_emptyurl();this.on_apply_applystyletype();}if(this.onactivate&&this.onactivate._has_handlers&&this._isCompleted){var _h=new ActivateEventInfo(this,"onactivate",true);this.onactivate._fireEvent(this,_h);_h=null;}};_pDiv.on_apply_emptyurl=function(){this._clear();var _a=this.parent._control_element;if(!_a){return false;}var _b=this._control_element;if(_b){var _c=this._getResultPseudo(this._status,this._pseudo);this.cssclass=this._cssclass;this._initControl(_b,_c);this._initContents(_b,_c);if(_a._handle){_a.appendChildElement(_b);this.on_created();}_c="";}_a=null;_b=null;};_pDiv.set_applystyletype=function(_a){if(this.applystyletype!=_a){this.applystyletype=_a;this.on_apply_applystyletype();}};_pDiv.on_apply_applystyletype=function(){var _a=this.getElement();if(_a){var _b=["align","background","border","bordertype","color","cursor","font","gradation","margin","opacity","padding","shadow","accessibility"];var _c;if(!this._url||this._url.length==0){this._oldstyletype=this._styletype;this._styletype=1;_c=this._find_style(_b);this._styletype=this._oldstyletype;this.cssclass=this._cssclass;}else{switch(this.applystyletype){case "keep":this._styletype=1;this.cssclass=this._cssclass;break;case "apply":this._styletype=4;if(this._linkedcssclass){this.cssclass=this._linkedcssclass;}break;case "cascade":this._styletype=5;if(this._linkedcssclass){this.cssclass=this._linkedcssclass;}break;case "cascade,keep":this._styletype=3;if(this._linkedcssclass){this.cssclass=this._linkedcssclass;}break;default:this._styletype=3;if(this._linkedcssclass){this.cssclass=this._linkedcssclass;}v="cascade,keep";break;}_c=this._find_style(_b);}this._apply_style(_c);_b=null;_c=null;}_a=null;};_pDiv.set_cssclass=function(_a){if(this.cssclass!=_a){if(!this._setclasscomplete){if(!this._url||this._url.length==0){this._cssclass=_a;}else{if(this._is_loading&&this._callclasscnt==0){this._cssclass=_a;}else if(this._is_loading&&this._callclasscnt!=0){this._linkedcssclass=_a;}}}else{if(this._is_loading){this._linkedcssclass=_a;}else{this._cssclass=_a;}}this.cssclass=_a;this.on_apply_cssclass(_a);}};_pDiv.set_class=_pDiv.set_cssclass;_pDiv.on_apply_cssclass=function(){var _a=this._pseudo;var _b=this._control_element;if(_b){this.currentstyle._empty();this._css_finder=null;this._ref_css_finder=null;this._cssfinder_cache={};_a=this._pseudo==""?"normal":this._pseudo;if(this.vscrollbar){this.vscrollbar.on_apply_prop_class();}if(this.hscrollbar){this.hscrollbar.on_apply_prop_class();}this._onResetScrollBar();this._pseudo="";this._control_pseudo="";this._contents_pseudo="";this._updateControl(_b,_a);this._updateContents(_b,_a);}};_pDiv._apply_style=function(_a){this.on_apply_style_align(_a.align);this.on_apply_style_background(_a.background);this.on_apply_style_border(_a.border);this.on_apply_style_bordertype(_a.bordertype);this.on_apply_style_color(_a.color);this.on_apply_style_cursor(_a.cursor);this.on_apply_style_font(_a.font);this.on_apply_style_letterspace(_a.letterspace);this.on_apply_style_glow(_a.glow);this.on_apply_style_gradation(_a.gradation);this.on_apply_style_margin(_a.margin);this.on_apply_style_opacity(_a.opacity);this.on_apply_style_padding(_a.padding);this.on_apply_style_shadow(_a.shadow);this.on_apply_style_accessibility(_a.accessibility);};_pDiv._find_style=function(_a){var _b={};var _c=_a.length;var _d=this._pseudo;for(var _f=0;_f<_c;_f++ ){var _e=_a[_f];switch(_e){case "accessibility":_b["accessibility"]=this._make_accessibility_value(this.on_find_CurrentStyle_accessibility(_d));if(!_b["accessibility"]){_b["accessibility"]=nexacro._getCachedAccessibilityObj("");}break;case "align":_b["align"]=this.on_find_CurrentStyle_align(_d);if(!_b["align"]){_b["align"]=nexacro._getCachedAlignObj("");}break;case "background":_b["background"]=this.on_find_CurrentStyle_background(_d);if(!_b["background"]){_b["background"]=nexacro._getCachedBackgroundObj("");}break;case "border":_b["border"]=this.on_find_CurrentStyle_border(_d);if(!_b["border"]){_b["border"]=nexacro._getCachedBorderObj("");}break;case "bordertype":_b["bordertype"]=this.on_find_CurrentStyle_bordertype(_d);if(!_b["bordertype"]){_b["bordertype"]=nexacro._getCachedBordertypeObj("");}break;case "color":_b["color"]=this.on_find_CurrentStyle_color(_d);if(!_b["color"]){_b["color"]=nexacro._getCachedColorObj("");}break;case "cursor":_b["cursor"]=this.on_find_CurrentStyle_cursor(_d);if(!_b["cursor"]){_b["cursor"]=nexacro._getCachedStyleObj("");}break;case "font":_b["font"]=this.on_find_CurrentStyle_font(_d);if(!_b["font"]){_b["font"]=nexacro._getCachedFontObj("");}break;case "letterspace":_b["letterspace"]=this.on_find_CurrentStyle_letterspace(_d);if(!_b["letterspace"]){_b["letterspace"]=nexacro._getCachedStyleObj("letterspace","0");}break;case "glow":_b["glow"]=this.on_find_CurrentStyle_glow(_d);if(!_b["glow"]){_b["glow"]=nexacro._getCachedGlowObj("");}break;case "gradation":_b["gradation"]=this.on_find_CurrentStyle_gradation(_d);if(!_b["gradation"]){_b["gradation"]=nexacro._getCachedGradationObj("");}break;case "margin":_b["margin"]=this.on_find_CurrentStyle_margin(_d);if(!_b["margin"]){_b["margin"]=nexacro._getCachedMarginObj("");}break;case "opacity":_b["opacity"]=this.on_find_CurrentStyle_opacity(_d);if(!_b["opacity"]){_b["opacity"]=nexacro._getCachedStyleObj("opacity","100");}break;case "padding":_b["padding"]=this.on_find_CurrentStyle_padding(_d);if(!_b["padding"]){_b["padding"]=nexacro._getCachedPaddingObj("");}break;case "shadow":_b["shadow"]=this.on_find_CurrentStyle_shadow(_d);if(!_b["shadow"]){_b["shadow"]=nexacro._getCachedShadowObj("");}break;}this.currentstyle[_e]=_b[_e];}return _b;};_pDiv._setStyle=function(){if(!this._setstylecomplete&&this._callstylecnt==0){var _a=nexacro._cloneStyleObject(this.style);this._originStyles.normal=_a;for(var _c in this._styles){this._originStyles[_c]=nexacro._cloneStyleObject(this._styles[_c]);}if(!this._url||this._url.length==0){this._setstylecomplete=true;}else{this.style._empty();}this._callstylecnt++ ;_a=null;}else if(!this._setstylecomplete&&this._callstylecnt!=0){if(this._url||this._url.length>0){var _a=nexacro._cloneStyleObject(this.style);this._linkstyles.normal=_a;for(var _c in this._styles){this._linkstyles[_c]=nexacro._cloneStyleObject(this._styles[_c]);}this._setstylecomplete=true;this._callstylecnt++ ;for(_c in this._originStyles){var _b=nexacro._cloneStyleObject(this._originStyles[_c]);_b._target=this;if(_c=="normal"){this.style=_b;}else{this._styles[_c]=_b;}_b=null;}_a=null;}else{this.style=nexacro._cloneStyleObject(this._originStyles.normal);}}return;};delete _pDiv;_pDiv=null;nexacro.DivCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Div.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pDivCtrl=nexacro.DivCtrl.prototype=nexacro._createPrototype(nexacro.Div,nexacro.DivCtrl);nexacro._setForControlStyleFinder(_pDivCtrl);delete _pDivCtrl;_pDivCtrl=null;}if(!nexacro.ProgressBar){nexacro.ProgressBar_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pProgressBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.ProgressBar_Style);nexacro.ProgressBar_Style.prototype=_pProgressBarStyle;eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","bartype"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","smooth"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","direction"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","startimage"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","progressimage"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","endimage"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","barcolor"));eval(nexacro._createGradationAttributeEvalStr("_pProgressBarStyle","bargradation"));_pProgressBarStyle.__custom_emptyObject=function(){this.bartype=null;this.smooth=null;this.direction=null;this.startimage=null;this.progressimage=null;this.endimage=null;this.barcolor=null;this.bargradation=null;};_pProgressBarStyle.__get_custom_style_value=function(){var _a="";if(this.bartype&&!this.bartype._is_empty){_a+="bartype:"+this.bartype._value+"; ";}if(this.smooth&&!this.smooth._is_empty){_a+="smooth:"+this.smooth._value+"; ";}if(this.direction&&!this.direction._is_empty){_a+="direction:"+this.direction._value+"; ";}if(this.startimage&&!this.startimage._is_empty){_a+="startimage:"+this.startimage._value+"; ";}if(this.progressimage&&!this.progressimage._is_empty){_a+="progressimage:"+this.progressimage._value+"; ";}if(this.endimage&&!this.endimage._is_empty){_a+="endimage:"+this.endimage._value+"; ";}if(this.barcolor&&!this.barcolor._is_empty){_a+="barcolor:"+this.barcolor._value+"; ";}if(this.bargradation&&!this.bargradation._is_empty){_a+="bargradation:"+this.bargradation._value+"; ";}return _a;};nexacro.ProgressBar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.bartype=null;this.smooth=null;this.direction=null;this.startimage=null;this.progressimage=null;this.endimage=null;this.barcolor=null;this.bargradation=null;};var _pProgressBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ProgressBar_CurrentStyle);nexacro.ProgressBar_CurrentStyle.prototype=_pProgressBarCurrentStyle;_pProgressBarCurrentStyle.__custom_emptyObject=_pProgressBarStyle.__custom_emptyObject;_pProgressBarCurrentStyle.__get_custom_style_value=_pProgressBarStyle.__get_custom_style_value;_pProgressBarStyle=null;_pProgressBarCurrentStyle=null;nexacro.ProgressBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.celllist=[];this.cellitem=null;this.start_img=null;this.progress_img=null;this.progress_img_list=new Array();this.end_img=null;this.statictext=null;this.style_list=null;this.start_img_width=0;this.progress_img_width=0;this.end_img_width=0;this.start_img_url="";this.progress_img_url="";this.end_img_url="";this.pos=0;this.step=1;this.max=100;this.min=0;this.blocksize=15;this.blockgap=2;this._accessibility_role="progressbar";};var _pProgressBar=nexacro._createPrototype(nexacro.Component,nexacro.ProgressBar);nexacro.ProgressBar.prototype=_pProgressBar;_pProgressBar._type_name="ProgressBar";nexacro.ProgressBar._default_bartype=nexacro._getCachedStyleObj("bartype","normal");_pProgressBar.on_apply_custom_pseudo=function(_a){if(!_a){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_bartype(_a);var _d=this.on_find_CurrentStyle_smooth(_a);var _e=this.on_find_CurrentStyle_direction(_a);var _f=this.on_find_CurrentStyle_startImage(_a);var _g=this.on_find_CurrentStyle_progressImage(_a);var _h=this.on_find_CurrentStyle_endImage(_a);var _i=this.on_find_CurrentStyle_barColor(_a);var _j=this.on_find_CurrentStyle_barGradation(_a);var _k=this.on_find_CurrentStyle_font(_a);var _l=this.on_find_CurrentStyle_letterspace(_a);var _m=this.on_find_CurrentStyle_color(_a);var _n=this.on_find_CurrentStyle_align(_a);if(_b.font!=_k){_b.font=_k;this.on_apply_style_font(_k);}if(_b.letterspace!=_l){_b.letterspace=_l;this.on_apply_style_letterspace(_l);}if(_b.color!=_m){_b.color=_m;this.on_apply_style_color(_m);}if(_b.align!=_n){_b.align=_n;this.on_apply_style_align(_n);}if(_c!=_b.bartype){_b.bartype=_c;this.on_apply_style_bartype(_c);}if(_d!=_b.smooth){_b.smooth=_d;this.on_apply_style_smooth(_d);}if(_e!=_b.direction){_b.direction=_e;this.on_apply_style_direction(_e);}if(_f!=_b.startimage){_b.startimage=_f;this.on_apply_style_startimage(_f);}if(_g!=_b.progressimage){_b.progressimage=_g;this.on_apply_style_progressimage(_g);}if(_h!=_b.endimage){_b.endimage=_h;this.on_apply_style_endimage(_h);}if(_i!=_b.barcolor){_b.barcolor=_i;this.on_apply_style_barcolor(_i);}if(_j!=_b.bargradation){_b.bargradation=_j;this.on_apply_style_bargradation(_j);}};_pProgressBar.on_create_custom_style=function(){return new nexacro.ProgressBar_Style(this);};_pProgressBar.on_create_custom_currentStyle=function(){return new nexacro.ProgressBar_CurrentStyle();};_pProgressBar.on_find_CurrentStyle_bartype=function(_a){var _b=this._find_pseudo_obj("bartype",_a);return (_b)?_b:nexacro.ProgressBar._default_bartype;};_pProgressBar.on_find_CurrentStyle_smooth=function(_a){return this._find_pseudo_obj("smooth",_a);};_pProgressBar.on_find_CurrentStyle_direction=function(_a){return this._find_pseudo_obj("direction",_a);};_pProgressBar.on_find_CurrentStyle_startImage=function(_a){return this._find_pseudo_obj("startimage",_a);};_pProgressBar.on_find_CurrentStyle_progressImage=function(_a){return this._find_pseudo_obj("progressimage",_a);};_pProgressBar.on_find_CurrentStyle_endImage=function(_a){return this._find_pseudo_obj("endimage",_a);};_pProgressBar.on_find_CurrentStyle_barColor=function(_a){return this._find_pseudo_obj("barcolor",_a,"color");};_pProgressBar.on_find_CurrentStyle_barGradation=function(_a){return this._find_pseudo_obj("bargradation",_a,"gradation");};_pProgressBar.on_update_style_bartype=function(){var _a=this.currentstyle.bartype=this.on_find_CurrentStyle_bartype(this._pseudo);this.on_apply_style_bartype(_a);};_pProgressBar.on_update_style_smooth=function(){var _a=this.currentstyle.smooth=this.on_find_CurrentStyle_smooth(this._pseudo);this.on_apply_style_smooth(_a);};_pProgressBar.on_update_style_direction=function(){var _a=this.currentstyle.direction=this.on_find_CurrentStyle_direction(this._pseudo);this.on_apply_style_direction(_a);};_pProgressBar.on_update_style_startimage=function(){var _a=this.currentstyle.startimage=this.on_find_CurrentStyle_startImage(this._pseudo);this.on_apply_style_startimage(_a);};_pProgressBar.on_update_style_progressimage=function(){var _a=this.currentstyle.progressimage=this.on_find_CurrentStyle_progressImage(this._pseudo);this.on_apply_style_progressimage(_a);};_pProgressBar.on_update_style_endimage=function(){var _a=this.currentstyle.endimage=this.on_find_CurrentStyle_endImage(this._pseudo);this.on_apply_style_endimage(_a);};_pProgressBar.on_update_style_barcolor=function(){var _a=this.currentstyle.barcolor=this.on_find_CurrentStyle_barColor(this._pseudo);this.on_apply_style_barcolor(_a);};_pProgressBar.on_update_style_bargradation=function(){var _a=this.currentstyle.bargradation=this.on_find_CurrentStyle_barGradation(this._pseudo);this.on_apply_style_bargradation(_a);};_pProgressBar.on_apply_style_bartype=function(_a){this._update();};_pProgressBar.on_apply_style_smooth=function(_a){if(!_a){return;}if(_a==true&&this.celllist&&this.celllist.length>1){var _b=this.celllist.length;for(i=1;i<_b;i++ ){this.celllist[i].destroy();}}this._update();};_pProgressBar.on_apply_style_direction=function(_a){this._update();};_pProgressBar.on_apply_style_startimage=function(_a){if(!_a){return;}var _b=this._get_img_fullurl(_a);var _c=nexacro._getImageSize(_b,this._on_start_img,this,undefined,_a);if(_c!=null){this.start_img_width=_c.width;this.start_img_url=_b;this._on_start_img(_b,_c.width,_c.height);}};_pProgressBar.on_apply_style_progressimage=function(_a){if(!_a){return;}var _b=this._get_img_fullurl(_a);var _c=nexacro._getImageSize(_b,this._on_progress_img,this,undefined,_a);if(_c!=null){this.progress_img_width=_c.width;this.progress_img_url=_b;this._on_progress_img(_b,_c.width,_c.height);}};_pProgressBar.on_apply_style_endimage=function(_a){if(!_a){return;}var _b=this._get_img_fullurl(_a);var _c=nexacro._getImageSize(_b,this._on_end_img,this,undefined,_a);if(_c!=null){this.end_img_width=_c.width;this.end_img_url=_b;this._on_end_img(_b,_c.width,_c.height);}};_pProgressBar.on_apply_style_barcolor=function(_a){var _b=this.cellitem;if(!_b){return;}_a=_a?_a.toString():"transparent";if(_a!="@gradation"){_b.style.set_background(_a);var _c=this.celllist;if(_c){var _d=_c.length;for(i=1;i<_d;i++ ){_c[i].style.set_background(_a);}}}};_pProgressBar.on_apply_style_bargradation=function(_a){var _b=this.cellitem;if(!_b||!_a){return;}var _c=this.on_find_CurrentStyle_barColor(this._pseudo);_c=_c?_c.toString():"transparent";if(_c=="@gradation"){_b.style.set_background(_c);_b.on_update_style_gradation();var _d=this.celllist;if(_d){var _e=_d.length;for(var _f=1;_f<_e;_f++ ){_d[_f].style.set_background(_c);_d[_f].on_update_style_gradation();}}}};_pProgressBar.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pProgressBar.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);this._text_width= -1;this._text_height= -1;}};_pProgressBar.on_apply_style_align=function(_a){if(this._text_elem&&_a){this._text_elem.setElementAlignXY(_a.halign?_a._halign:"center",_a.valign?_a._valign:"middle");}};_pProgressBar.on_create_contents=function(){var _a=this.getElement();if(_a){if(this.text){var _b=this._text_elem=new nexacro.TextBoxElement(_a);var _c=this.on_find_CurrentStyle_align(this._pseudo);_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.on_find_CurrentStyle_color(this._pseudo));_b.setElementFont(this.on_find_CurrentStyle_font(this._pseudo));_b.setElementAlignXY(_c.halign?_c._halign:"center",_c.valign?_c._valign:"middle");_b.setElementLetterSpace(this.currentstyle.letterspace);}var _d=this.on_find_CurrentStyle_bartype(this._pseudo);if(_d!="image"){this.cellitem=new nexacro.ProgressBarCell("cell0","absolute",0,0,0,this._client_height,null,null,this);this.cellitem.createComponent();this.cellitem._setRtlDirection(this._rtldirection);}}};_pProgressBar.on_created_contents=function(){this.on_apply_text(this.text);if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueMin(this.min);this._setAccessibilityInfoValueMax(this.max);this._setAccessibilityInfoValueCur(this.pos);}var _a=this._text_elem;var _b=this.cellitem;if(_b){_b.on_created();}if(_a){_a.create();}if(this.cssclass){this.on_apply_pseudo();this.on_apply_custom_pseudo();this.on_apply_prop_class();}this._update();};_pProgressBar.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();delete this._text_elem;this._text_elem=null;}this._clear();this.statictext=null;this.style_list=null;};_pProgressBar._clear=function(){this._delete_cell();delete this.progress_img_list;this.progress_img_list=null;this._delete_img(this.start_img);delete this.start_img;this.start_img=null;this._delete_img(this.progress_img);this.progress_img=null;delete this.progress_img;this._delete_img(this.end_img);delete this.end_img;this.end_img=null;};_pProgressBar.on_change_containerRect=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementSize(_a,_b);}this._update();};_pProgressBar._on_getAccessibilityAdditionalLabel=function(){var _a="";if(this._isAccessibilityEnable()){_a=(this.expr&&this.expr.length>0)?this.displaytext+" "+this.min+" "+this.max:this.pos+" "+this.min+" "+this.max;}return _a;};_pProgressBar._on_getAccessibilityAdditionalRole=function(){if(this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="progressbar"){return " ProgressBar";}return "";};_pProgressBar.on_apply_text=function(){var _a=this._control_element;if(_a){var _b=this._text_elem;if(!_b){this._text_elem=new nexacro.TextBoxElement(_a);_b=this._text_elem;_b.setElementSize(this._client_width,this._client_height);var _c=this.on_find_CurrentStyle_align(this._pseudo);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c.halign?_c._halign:"center",_c.valign?_c._valign:"middle");_b.setElementLetterSpace(this.currentstyle.letterspace);_b.create();}var _d=this.expr;if(_d&&_d.length>0){_d=_d.trim().split(":");var _e=_d.length;var _f=new nexacro.ExprParser();var _g,_h;var _i;if(_e==1){_i=_d[0];}else{if(_d[0].trim().toUpperCase()!="EXPR"){_i=_d.join(":");}else{_i=_d.slice(1).join(":");}}_g=_f.makeExpr(this,_i);_h=nexacro._createInlineFunc(_g,["comp","pos"]);if(_h){try{var _j=nexacro._toString(_h.call(null,this,this.pos));if(_j!=this.displaytext){this.displaytext=_j;if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityValue(_j);this._notifyAccessibility(_j,"notify");}}}catch(e){return;}}}else{this.displaytext=this.text;}_b.setElementText(this.displaytext);_b.setElementRtlDirection(this._rtldirection);this.on_apply_style_align(this.currentstyle.align);_b=null;}};_pProgressBar.on_apply_expr=function(){this.on_apply_text();};_pProgressBar.set_blockgap=function(_a){if(this.blockgap!=_a){var _b=parseInt(_a)|0;this.blockgap=(_b<0)?0:_b;this._update();}};_pProgressBar.set_blocksize=function(_a){if(this.blocksize!=_a){var _b=parseInt(_a)|0;this.blocksize=(_b<1)?1:_b;this._update();}};_pProgressBar.set_min=function(_a){if(this.min!=_a){var _b=parseInt(_a)|0;var _c=parseInt(this.max)|0;var _d=parseInt(this.pos)|0;this.min=_b=(_b<0)?0:_b;if(_b>_c){this.max=_b;}if(_b>_d){this.pos=_b;}if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueMin(_b);}this._update();}};_pProgressBar.set_max=function(_a){if(this.max!=_a){var _b=parseInt(_a)|0;var _c=parseInt(this.min)|0;var _d=parseInt(this.pos)|0;this.max=_b=(_b<0)?0:_b;if(_b<_c){this.min=_b;}if(_b<_d){this.pos=_b;}if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueMax(_b);}this._update();}};_pProgressBar.set_pos=function(_a){_a=parseInt(_a)|0;if(this.pos!=_a){var _b=_a;var _c=parseInt(this.min)|0;var _d=parseInt(this.max)|0;this.pos=_b=(_b<0)?0:_b;if(_b>_d){this.pos=_b=_d;}else if(_b<_c){this.pos=_b=_c;}if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueCur(_b);}}this._update();};_pProgressBar.set_step=function(_a){if(this.step!=_a){this.step=_a;this._update();}};_pProgressBar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this._update();};_pProgressBar.resize=function(_a,_b){nexacro.Component.prototype.resize.call(this,_a,_b);this._update();};_pProgressBar.move=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype.move.call(this,_a,_b,_c,_d,_e,_f);this._update();};_pProgressBar.stepIt=function(){var _a=this.min,_b=this.max;var _c=(parseInt(this.pos)|0)+(parseInt(this.step)|0);if(parseInt(_b)<_c){this.pos=_b;return;}else if(parseInt(_a)>_c){this.pos=_a;return;}else{this.pos=_c;}this._update();};_pProgressBar._update=function(){var _a=this.on_find_CurrentStyle_bartype()||nexacro.ProgressBar._default_bartype;if(_a=="normal"){this._update_cell();return;}this._update_img();};_pProgressBar._update_cell=function(){this._delete_cell();this._delete_img(this.start_img);this._delete_img(this.end_img);if(this.progress_img_list){var _a=this.progress_img_list.length;for(var _x=0;_x<_a;_x++ ){this._delete_img(this.progress_img_list[_x]);}this.progress_img_list=[];}if(this.pos==0){this._clear();this.on_apply_text(this.text);return;}var _b=this._client_height;var _c=this._client_width;if(this.cellitem==null){this.cellitem=new nexacro.ProgressBarCell("cell_0","absolute",0,0,0,_b,null,null,this);this.cellitem.createComponent();this.cellitem._setRtlDirection(this._rtldirection);}var _d=this.cellitem;var _e=this.celllist;var _f,_g,_h,_i;var _j=1;var _k=parseInt(this.pos)|0;var _l=parseInt(this.max)|0;var _m=parseInt(this.min)|0;var _n=(_k-_m)/(_l-_m);var _o=this.on_find_CurrentStyle_smooth(this._pseudo);var _p=this.on_find_CurrentStyle_direction(this._pseudo);var _q=parseInt(this.blocksize)|0;var _r=parseInt(this.blockgap)|0;if(_o=="true"){if(_p=="backward"){_g=_d._adjust_top;_h=parseInt(_c*_n)|0;_f=_c-parseInt(_c*_n)|0;_i=_b;}else{_f=0;_g=0;_h=parseInt(_c*_n)|0;_i=_b;}_d._applysetPosition(_f,_g,_h,_i);_d.show();}else{if(_p=="backward"){_h=_q;_f=_c-_q;_g=_d._adjust_top;_i=_d._adjust_height;_d._applysetPosition(_f,_g,_h,_i);_e[0]=_d;_j=_r+_q;var _s=Math.ceil((_c/_j)*_n);for(var _x=_s;_x>0;_x-- ){_f=_c-(_x*_j);_g=0;_h=_q;_i=_b;_e[_x]=new nexacro.ProgressBarCell("cell_"+_x,"absolute",_f+_r,_g,_h,_i,null,null,this);_e[_x].createComponent();_e[_x]._setRtlDirection(this._rtldirection);}this.celllist=_e;}else{_f=_d._adjust_left;_g=_d._adjust_top;_i=_d._adjust_height;_h=_q;_d._applysetPosition(_f,_g,_h,_i);_e[0]=_d;_j=_r+_q;var _s=Math.ceil((_c/_j)*_n);for(var _x=1;_x<_s;_x++ ){_f=(_x*_j);_g=0;_h=_q;_i=_b;_e[_x]=new nexacro.ProgressBarCell("cell_"+_x,"absolute",_f,_g,_h,_i,null,null,this);_e[_x].createComponent();_e[_x]._setRtlDirection(this._rtldirection);}this.celllist=_e;}}if(this._text_elem){this._text_elem.destroy();delete this._text_elem;this._text_elem=null;}var _t=this.getElement();if(_t){this._text_elem=new nexacro.TextBoxElement(_t);var _u=this._text_elem;var _v=this.currentstyle.align?(this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign):"center";var _w=this.currentstyle.align?(this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign):"middle";_u.setElementSize(this._client_width,this._client_height);_u.setElementColor(this.currentstyle.color);_u.setElementFont(this.currentstyle.font);_u.setElementAlignXY(_v,_w);_u.setElementLetterSpace(this.currentstyle.letterspace);if(_u){_u.create();}this.on_apply_style_align(this.currentstyle.align);this.on_apply_style_barcolor(this.currentstyle.barcolor);this.on_apply_style_bargradation(this.currentstyle.bargradation);this.on_apply_text(this.text);}var _d=null;var _e=null;};_pProgressBar._delete_cell=function(){if(this.celllist){var _a=this.celllist.length;for(var _b=0;_b<_a;_b++ ){this.celllist[_b].destroy();delete this.celllist[_b];}this.celllist=[];}if(this.cellitem){this.cellitem.destroy();delete this.cellitem;this.cellitem=null;}};_pProgressBar._on_start_img=function(_a,_b,_c){this.start_img_width=_b;this.start_img_url=_a;this._update_img();};_pProgressBar._on_progress_img=function(_a,_b,_c){this.progress_img_width=_b;this.progress_img_url=_a;this._update_img();};_pProgressBar._on_end_img=function(_a,_b,_c){this.end_img_width=_b;this.end_img_url=_a;this._update_img();};_pProgressBar._create_img=function(_a,_b,_c){if(_b!=null&&_b!=""){_a=new nexacro.ProgressBarImg(_c,"absolute",0,0,0,this._client_height,null,null,this);_a.createComponent();_a._setRtlDirection(this._rtldirection);if(_c=="startImg"){_b=this.currentstyle.startimage;}else if(_c=="endImg"){_b=this.currentstyle.endimage;}else{_b=this.currentstyle.progressimage;}_a.style.set_background("URL('"+_b+"') stretch");try{return _a;}finally{delete _a;_a=null;}}};_pProgressBar._delete_img=function(_a){if(_a){_a.destroy();}};_pProgressBar._get_img_fullurl=function(_a){url=nexacro._toString(_a);if(url.substring(0,4).toLowerCase()=="url("){url=url.substring(5,url.length-2);}url=nexacro._getImageLocation(url,this._getRefFormBaseUrl());return url;};_pProgressBar._update_img=function(){var _a=this.on_find_CurrentStyle_bartype();var _b=this.on_find_CurrentStyle_progressImage();if((_a&&_a.value=="normal")||(_b&&_b.value=="")){return;}this._delete_cell();var _c=this.currentstyle.direction;if(_a=="image"){this._delete_img(this.start_img);this._delete_img(this.end_img);if(this.progress_img_list){var _d=this.progress_img_list.length;for(var _z=0;_z<_d;_z++ ){this._delete_img(this.progress_img_list[_z]);}this.progress_img_list=[];}if(this.pos==0){this._clear();this.on_apply_text(this.text);return;}if(!this.progress_img_list){this.progress_img_list=new Array();}var _e=this.progress_img_width;var _f=0,_g=0,_h=0,_i=0,_j=0,_k=0;var _l=this._client_height;var _m=this._client_width;var _n=parseInt(this.pos)|0;var _o=parseInt(this.max)|0;var _p=parseInt(this.min)|0;var _q=_l;var _r=parseInt(((_n-_p)/(_o-_p))*_m)|0;this.start_img=this._create_img(this.start_img,this.start_img_url,"startImg");if(this.start_img){_f=this.start_img_width;}this.end_img=this._create_img(this.end_img,this.end_img_url,"endImg");if(this.end_img){_g=this.end_img_width;}_h=parseInt((_r-_f-_g)/_e)|0;if(_c=="backward"){if(this.end_img&&this.progress_img){_i=_m-_g;this.end_img._applysetPosition(_i,_j,_g,_q);}var _s=null;var _t=_m-_e;for(var _z=0;_z<_h;_z++ ){_s=this._create_img(this.progress_img,this.progress_img_url,"pImg"+_z);_i=_t-(_e*_z);_j=0;_s._applysetPosition(_i,_j,_e,_q);this.progress_img_list[_z]=_s;}if(this.start_img){_i=_i-_f;this.start_img._applysetPosition(_i,_j,_f,_q);}}else{for(var _z=0;_z<_h;_z++ ){this.progress_img=this._create_img(this.progress_img,this.progress_img_url,"pImg"+_z);this.progress_img_list[_z]=this.progress_img;}if(this.start_img){_k=_f;this.start_img._applysetPosition(_i,_j,_k-_i,_q-_j);}for(var _z=0;_z<_h;_z++ ){if(_z>0){var _u=this.progress_img_list[_z-1];_i=_u._adjust_left+_u._adjust_width;_j=0;_k=_i+_e;_q=_l;}else{if(this.start_img){_i=this.start_img._adjust_left+this.start_img._adjust_width;_k=_i+_e;}else{_i=0;_k=_e;}}this.progress_img_list[_z]._applysetPosition(_i,_j,_k-_i,_q-_j);this.progress_img=this.progress_img_list[_z];}if(this.end_img&&this.progress_img){_i=this.progress_img._adjust_left+this.progress_img._adjust_width;_k=_i+_g;this.end_img._applysetPosition(_i,_j,_k-_i,_q-_j);}}if(this._text_elem){this._text_elem.destroy();delete this._text_elem;this._text_elem=null;}var _v=this.getElement();if(_v){this._text_elem=new nexacro.TextBoxElement(_v);var _w=this._text_elem;var _x=this.currentstyle.align?(this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign):"center";var _y=this.currentstyle.align?(this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign):"middle";_w.setElementSize(this._client_width,this._client_height);_w.setElementColor(this.currentstyle.color);_w.setElementFont(this.currentstyle.font);_w.setElementAlignXY(_x,_y);_w.setElementLetterSpace(this.currentstyle.letterspace);if(_w){_w.create();}this.on_apply_text(this.text);}}};delete _pProgressBar;nexacro.ProgressBarCell=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pProgressBarCell=nexacro.ProgressBarCell.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.ProgressBarCell);_pProgressBarCell.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("bargradation",_a,"gradation");};_pProgressBarCell.on_find_CurrentStyle_padding=nexacro._emptyFn;_pProgressBarCell.on_apply_style_color=nexacro._emptyFn;_pProgressBarCell.on_apply_style_font=nexacro._emptyFn;_pProgressBarCell.on_apply_style_align=nexacro._emptyFn;_pProgressBarCell.on_apply_expr=nexacro._emptyFn;_pProgressBarCell.on_apply_wordwrap=nexacro._emptyFn;delete _pProgressBarCell;nexacro.ProgressBarImg=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pProgressBarImg=nexacro.ProgressBarImg.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.ProgressBarImg);_pProgressBarImg.on_find_CurrentStyle_border=nexacro._emptyFn;_pProgressBarImg.on_find_CurrentStyle_padding=nexacro._emptyFn;_pProgressBarImg.on_apply_style_color=nexacro._emptyFn;_pProgressBarImg.on_apply_style_font=nexacro._emptyFn;_pProgressBarImg.on_apply_style_align=nexacro._emptyFn;_pProgressBarImg.on_apply_expr=nexacro._emptyFn;_pProgressBarImg.on_apply_wordwrap=nexacro._emptyFn;delete _pProgressBarImg;nexacro.ProgressBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ProgressBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pProgressBarCtrl=nexacro.ProgressBarCtrl.prototype=nexacro._createPrototype(nexacro.ProgressBar,nexacro.ProgressBarCtrl);_pProgressBarCtrl._type_name="ProgressBarControl";_pProgressBarCtrl._is_focus_accept=false;nexacro._setForControlStyleFinder(_pProgressBarCtrl);delete _pProgressBarCtrl;}if(!nexacro.PopupDiv){nexacro.PopupDiv=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Div.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.callbackfunction=null;this.visible=false;this._isSelfStyle=true;this._isSelfClass=true;this._is_window=true;this._attached_comp=this;this._is_init=false;this.returnvalue="";this._track_on=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onload":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"oncloseup":1,"onpopup":1,"onlayoutchanged":1,"canlayoutchange":1,"onmousewheel":1,"onmousedown":1,"onmouseup":1,"onvscroll":1,"onhscroll":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1};this._accessibility_role="form";};var _pPopupDiv=nexacro._createPrototype(nexacro.Div,nexacro.PopupDiv);nexacro.PopupDiv.prototype=_pPopupDiv;_pPopupDiv._type_name="PopupDiv";_pPopupDiv._is_popup_control=true;_pPopupDiv._is_selfclose=true;_pPopupDiv._default_zindex=nexacro._zindex_popup;_pPopupDiv._track_capture=true;_pPopupDiv.on_create_control_element=function(_a){var _b;if(this._is_scrollable){_b=this.on_create_popupscrollable_control_element(_a);}else{_b=this.on_create_popup_control_element(_a);}if(_b&&this._default_zindex>0){var _c=this._default_zindex;var _d=this._getWindow();if(_d){var _e=_d._getComponentLayerInfo(this);if(_e){_c=Math.max(_e.popup_zindex,this._default_zindex);}_e=null;}_b.setElementZIndex(_c);}return _b;};_pPopupDiv.on_created=function(_a){nexacro.Div.prototype.on_created.call(this,_a);nexacro.PopupComponent.prototype.on_created.call(this,_a);this._refform=this;};_pPopupDiv.destroyComponent=nexacro.PopupComponent.prototype.destroyComponent;_pPopupDiv.set_visible=function(_a){if(this._track_on){nexacro.PopupComponent.prototype.set_visible.apply(this,arguments);}};_pPopupDiv.on_update_position=function(_a,_b){if(this.visible||!nexacro._allow_default_pinchzoom){nexacro.Div.prototype.on_update_position.call(this,_a,_b);}else{var _c=this._control_element;if(_c){_c.setElementPosition(0,0);_c.setElementSize(1,1);this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}}};_pPopupDiv.on_fire_onpopup=function(_a){if(this.onpopup&&this.onpopup._has_handlers){var _b=new nexacro.EventInfo(_a);_b.eventid="onpopup";return this.onpopup._fireEvent(this,_b);}return false;};_pPopupDiv.on_fire_onmove=function(_a,_b){if(this.onmove&&this.onmove._has_handlers){var _c=new nexacro.MoveEventInfo(this,"onmove",_a,_b);return this.onmove._fireEvent(this,_c);}return false;};_pPopupDiv.on_fire_oncloseup=function(_a){if(this.callbackfunction){this.callbackfunction.call(this.parent,this.id,this.returnvalue);}if(this.oncloseup&&this.oncloseup._has_handlers){var _b=new nexacro.EventInfo(_a);_b.eventid="oncloseup";return this.oncloseup._fireEvent(this,_b);}return false;};_pPopupDiv.trackPopup=function(_a,_b,_c,_d,_e,_f){if(this._track_on==true){return;}this._track_capture=_f===false?false:true;this.returnvalue="";if(_c==null&&_d==null){_c=this._adjust_width;_d=this._adjust_height;}var _g= +_a;var _h= +_b;var _i= +_c;var _j= +_d;var _k=this._getWindowFrame();var _l=_k._adjust_width;var _m=_k._adjust_height;if(_g+_i>_l){var _n=_g-_i;if(_n>0){_g=_n;}else{_g=_l-_i;}}if(_h+_j>_m){var _o=_m-_j;if(_o<0){_h=0;_j=_m;}else{_h=_o;}}this._track_on=true;if(this._is_loading){this._wait_pop_position={obj:null,left:_g,top:_h,width:_i,height:_j};}else{this._popup(_g,_h,_i,_j);}if(_e&&typeof _e=="string"){this.callbackfunction=this.parent[_e];var _p=this._getRootForm();if(!this.callbackfunction&&this.parent!=_p){this.callbackfunction=_p[_e];}}else{this.callbackfunction=undefined;}this.setFocus();this.on_fire_onpopup(this);return (this.async?true:this.returnvalue);};_pPopupDiv.trackPopupByComponent=function(_a,_b,_c,_d,_e,_f,_g){this.returnvalue="";this._track_capture=_g===false?false:true;if(_d==null&&_e==null){_d=this._adjust_width;_e=this._adjust_height;}_d=parseInt(_d);_e=parseInt(_e);if(_f&&typeof _f=="string"){this.callbackfunction=this.parent[_f];var _h=this._getRootForm();if(!this.callbackfunction&&this.parent!=_h){this.callbackfunction=_h[_f];}}else{this.callbackfunction=undefined;}this._track_on=true;if(this._is_loading){this._wait_pop_position={obj:_a,left:_b,top:_c,width:_d,height:_e};}else{this._popupBy(_a,_b,_c,_d,_e);}this.setFocus();this.on_fire_onpopup(this);return (this.async?true:this.returnvalue);};_pPopupDiv.closePopup=function(_a){this.returnvalue=_a;if(this.visible){this._closePopup(true);return true;}return false;};_pPopupDiv._getAllPos=function(){var _a=this;var _b=0;var _c=0;while(_a){if(_a._adjust_left!=null){_b+=_a._adjust_left;_c+=_a._adjust_top;}_a=_a.parent;}return {left:_b,top:_c};};_pPopupDiv.isPopup=nexacro.PopupComponent.prototype._is_popup;_pPopupDiv._popup=nexacro.PopupComponent.prototype._popup;_pPopupDiv._popupBy=nexacro.PopupComponent.prototype._popupBy;_pPopupDiv._getWindowHandle=nexacro.PopupComponent.prototype._getWindowHandle;_pPopupDiv._getWindow=nexacro.PopupComponent.prototype._getWindow;_pPopupDiv._findOwnerElementHandle=nexacro.PopupComponent.prototype._findOwnerElementHandle;_pPopupDiv._closePopup=function(){var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);}nexacro.PopupComponent.prototype._closePopup.apply(this,arguments);this._track_on=false;};_pPopupDiv._isPopupVisible=function(){return this.visible;};_pPopupDiv._getMainFrame=function(){var _a=this;while(_a&&!_a._is_main){_a=_a.parent;}return _a;};_pPopupDiv._getWindowFrame=function(){var _a=this._getWindow();if(_a){return _a.frame;}return null;};_pPopupDiv._control_popup=function(_a,_b,_c,_d){var _e=this._getWindowFrame();var _f=_e._adjust_width;var _g=_e._adjust_height;if(_a+_c>_f){var _h=_a-_c;if(_h>0){_a=_h;}else{_a=_f-_c;}}if(_b+_d>_g){_b=_g-_d;}this._popup(_a,_b,_c,_d);};_pPopupDiv._clearEventListener=function(_a){if(this._is_init&&application.getActiveForm()){var _b=application.getActiveForm()._event_list;if(!_b[_a]){return;}}nexacro.EventSinkObject.prototype._clearEventListener.apply(this,arguments);};_pPopupDiv._on_init=function(){this._is_init=true;nexacro.FormBase.prototype._on_init.apply(this,arguments);this._is_init=false;};_pPopupDiv._on_load=function(){var _a=this._control_element;var _b=nexacro.Form.prototype._on_load.apply(this,arguments);var _c=this._wait_pop_position;if(_c){if(_c.obj){this._popupBy(_c.obj,_c.left,_c.top,_c.width,_c.height);}else{this._popup(_c.left,_c.top,_c.width,_c.height);}_c=null;delete this._wait_pop_position;}if(!_a){this.setFocus();}return _b;};_pPopupDiv._on_bubble_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}if(_l===undefined){if(!_n){_n=this;if(!_n._is_reference_control){_n=this._getReferenceComponent(_n);}}if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],this,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],this,_n);if(_r){return false;}if(this.vscrollbar&&this.vscrollbar.enable){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OSVersion=="Mac OS"){if(this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}return;}if(_l===false){_l=undefined;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){var _y=this._getRecalcCanvasXY(_a,_h,_i);_h=_y[0];_i=_y[1];if(this._is_subcontrol){return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,null,_n,_o);}else{return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,this,_n,_o);}}}}}}else{if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);if(_r){return false;}if(this._isWheelScrollable(_c)&&this.vscrollbar&&this.vscrollbar.enable){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OSVersion=="Mac OS"){if(this._isWheelScrollable(_b)&&this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}return;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){_h+=this._adjust_left-this._scroll_left||0;_i+=this._adjust_top-this._scroll_top||0;return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,_m,_n,_o);}}}}}};_pPopupDiv.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);return true;};delete _pPopupDiv;nexacro.PopupDivCtrl=function(_a,_b,_c,_d,_e,_f){nexacro.PopupDiv.call(this,_a,_b,_c,_d,_e,_f);};var _pPopupDivCtrl=nexacro.PopupDivCtrl.prototype=nexacro._createPrototype(nexacro.PopupDiv,nexacro.PopupDivCtrl);_pPopupDivCtrl._is_subcontrol=true;nexacro._setForControlStyleFinder(_pPopupDivCtrl);delete _pPopupDivCtrl;}if(!nexacro.MenuItem){nexacro.MenuItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.index=0;this.datarow=0;this.itemexpand=true;this.id="";this.enable=true;this.level="";this.userdata=null;this.selected=false;this._init_padding=false;this._accessibility_role="menuitem";};var _pMenuItem=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.MenuItem);nexacro.MenuItem.prototype=_pMenuItem;_pMenuItem._type_name="MenuItem";_pMenuItem._updateControl=function(_a,_b){if(!this._isEnableRedraw()){return;}if(application._cur_track_info&&_b=="mouseover"){return;}if(_a&&this._control_pseudo!=_b&&this._adjust_width!=0&&this._adjust_height!=0){this._control_pseudo=_b;var _c=this.currentstyle;var _d=this.on_find_CurrentStyle_border(_b);var _e=this.on_find_CurrentStyle_bordertype(_b);var _f=this.on_find_CurrentStyle_background(_b);var _g=this.on_find_CurrentStyle_gradation(_b);var _h=(_f!=_c.background);var _i=(_e!=_c.bordertype);var _j=(_d!=_c.border);var _k=(_g!=_c.gradation);if(_j||_i||_h||_k){this._apply_client_border=_j;_c.bordertype=_e;_c.border=_d;_c.background=_f;_c.gradation=_g;_a.setElementBorder(_d,_e);_a.setElementBackground(_f,_g);}var _l=this.on_find_CurrentStyle_opacity(_b);if(_l&&_l!=_c.opacity){_c.opacity=_l;_a.setElementOpacity(_l);}var _m=this.on_find_CurrentStyle_shadow(_b);if(_m&&_m!=_c.shadow){_c.shadow=_m;_a.setElementShadow(_m);}var _n=this.on_find_CurrentStyle_cursor(_b);if(_n&&_n!=_c.cursor){_c.cursor=_n;_a.setElementCursor(_n);}if(nexacro._enableaccessibility){var _o=this.on_find_CurrentStyle_accessibility(_b);if(_o&&_o!=_c.accessibility){_c.accessibility=this._make_accessibility_value(_o);_a.setAccessibility(_c.accessibility);}}if(this._apply_client_padding){var _p=this.on_find_CurrentStyle_padding(_b);if((_p&&_p!=_c.padding)||_j){_c.padding=_p;_a.setElementPadding(_p);}}this._updateClientSize(_a);return true;}return false;};_pMenuItem.on_find_CurrentStyle_color=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_color(_a);};_pMenuItem.on_find_CurrentStyle_font=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_font(_a);};_pMenuItem.on_find_CurrentStyle_letterspace=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_letterspace(_a);};_pMenuItem.on_find_CurrentStyle_align=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itemalign(_a);return (_b)?_b:nexacro.Component._default_align;};_pMenuItem.on_find_CurrentStyle_background=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_itembackground(_a);};_pMenuItem.on_find_CurrentStyle_padding=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_itempadding(_a);};_pMenuItem.on_find_CurrentStyle_gradation=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_itemgradation(_a);};_pMenuItem.on_find_CurrentStyle_border=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_itemborder(_a);};_pMenuItem.on_find_CurrentStyle_bordertype=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_itembordertype(_a);};_pMenuItem.on_find_CurrentStyle_cursor=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}var _b=this._getRootComponent(this);return _b.on_find_CurrentStyle_cursor(_a);};_pMenuItem.on_find_CurrentStyle_accessibility=function(_a){if(!this.enable){_a="disabled";}else if(!(this.parent instanceof nexacro.PopupMenu)&&this.selected){_a="selected";}return this.parent.on_find_CurrentStyle_itemaccessibility(_a);};_pMenuItem.on_apply_style_padding=function(_a){var _b=this._control_element;if(_b){_b.setElementPadding(_a);this._updateClientSize(_b);}};_pMenuItem.on_apply_style_accessibility=function(_a){var _b=this._control_element;if(_b&&_a){_b.setAccessibility(_a);this._updateAccessibilityLabel(this);}};_pMenuItem.on_apply_mouseover=function(_a){if(!_a){this._stat_change("enable","normal");}else{var _b=this._getRootComponent(this);if(this.parent._key_action||(_b&&_b._pseudo=="focused")){this._stat_change("enable","selected");}else{this._stat_change("enable","mouseover");}}};_pMenuItem.on_tap_basic_action=function(){var _a=this.parent;var _b=_a._popupmenu;if(_b){if(_b._is_popup()){if(_a.beforeindex!=this.index){_a.beforeindex=this.index;}_b.cancelPopup();_a._menuitemindex=this.index;_a._popupitemindex= -1;}}var _c=this._getRootComponent(this);if(this.enable&&this.itemexpand){_a._closeflag=true;_a._showPopup(this);_c._is_menu_click=true;this.selected=true;if(_c instanceof nexacro.Menu){_c._on_focus(true);_c._popupitemindex=this.index;}_c._item_focus(this,true);}else{if(this.enable==false||_c._getPopupType()=="none"){return;}if(_c.onmenuclick&&_c.onmenuclick._has_handlers){_c.on_fire_onitemclick(_c,"onmenuclick",this.id,this.userdata,this.index,this.parent.level);_c._popupitemindex= -1;}_c._closePopup();}return nexacro.Component.prototype.on_tap_basic_action.apply(this,arguments);};_pMenuItem._getWindowPosition=function(){var _a=this._control_element;if(_a){var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=nexacro._getElementXYInWindow(_a._handle);var _d=_c[0];var _e=_c[1];return {x:_d,y:_e};}return {x:0,y:0};};_pMenuItem._killfocus_item=function(){this._control_pseudo="";this.selected=false;var _a="enable";var _b="normal";if(!this.enable){_a="disable";_b="disabled";}this._stat_change(_a,_b);this.on_apply_custom_pseudo(_b);};_pMenuItem._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this.enable){return;}nexacro._skipDragEventAfterMsgBox=false;var _m=this._getForm();_m._skip_comp=true;var _n=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);var _o=this._getFromComponent(this);if(!_o.onlbuttondown||(_o.onlbuttondown&&!_o.onlbuttondown.defaultprevented)){this.on_lbuttondown_default_action(_a,this._focus_refer_comp,_f,_g);_n=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}_m._skip_comp=false;return _n;};_pMenuItem._on_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r=nexacro.Component.prototype._on_dragleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q);var _s=this._getRootComponent(this);if(_s.ondragleave){_s._last_mouseleave_iteminfo.index=this.index;_s._last_mouseleave_iteminfo.bindindex=this._bindindex;_s._last_mouseleave_iteminfo.level=this.parent.level;}return _r;};_pMenuItem._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){return true;};_pMenuItem._updateAccessibilityLabel=function(_a){var _b=this._getRootComponent(this);var _c=_b._innerdataset.getRowCount();_a._setAccessibilityInfoIndex(_a.datarow+1);_a._setAccessibilityInfoCount(_c);_a._setAccessibilityFlagHasPopup(_a.itemexpand?true:false);};delete _pMenuItem;}if(!nexacro.Menu){nexacro.MenuClickEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_b||"onmenuclick";this.id=_c;this.fromobject=_a;this.fromreferenceobject=_a;this.index=_e;this.level=_f;this.userdata=_d;};var _pMenuClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuClickEventInfo);nexacro.MenuClickEventInfo.prototype=_pMenuClickEventInfo;_pMenuClickEventInfo._type_name="MenuClickEventInfo";delete _pMenuClickEventInfo;nexacro.MenuDragEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v){this.id=_c;this.eventid=_b||"onmenudrag";if(!_i){_i=_h;}this.cancelable=true;this.bubbles=true;this.dragdata=_d;this.userdata=_e;this.sourceobject=_f;this.sourcereferenceobject=_g;this.fromobject=_h;this.fromreferenceobject=_i;this.altKey=_k||false;this.ctrlKey=_l||false;this.button=_j||"";this.shiftKey=_m||false;this.screenX=_n|| -1;this.screenY=_o|| -1;this.canvasX=_p|| -1;this.canvasY=_q|| -1;this.clientX=_r|| -1;this.clientY=_s|| -1;this.level=_t;this.index=_u;this.bindindex=_v;};var _pEventMenuDragEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuDragEventInfo);nexacro.MenuDragEventInfo.prototype=_pEventMenuDragEventInfo;_pEventMenuDragEventInfo._type_name="MenuDragEventInfo";delete _pEventMenuDragEventInfo;nexacro.MenuMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){this.id=_c;this.eventid=_b||"onmenumouse";this.cancelable=true;this.bubbles=true;this.fromobject=_n;this.fromreferenceobject=_o;this.altKey=_e||false;this.ctrlKey=_f||false;this.button=_d||"";this.shiftKey=_g||false;this.screenX=_h|| -1;this.screenY=_i|| -1;this.canvasX=_j|| -1;this.canvasY=_k|| -1;this.clientX=_l|| -1;this.clientY=_m|| -1;this.level=_p;this.index=_q;this.bindindex=_r;};var _pEventMenuMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuMouseEventInfo);nexacro.MenuMouseEventInfo.prototype=_pEventMenuMouseEventInfo;_pEventMenuMouseEventInfo._type_name="MenuMouseEventInfo";delete _pEventMenuMouseEventInfo;nexacro.Menu_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.autohotkey=null;this.buttonimage=null;this.popupcolor=null;this.popupborder=null;this.popupbordertype=null;this.popuppadding=null;this.popupfont=null;this.popupbackground=null;this.popupgradation=null;this.itemalign=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.popupitemheight=null;this.popupitemalign=null;this.popupitempadding=null;this.popupitemborder=null;this.popupitembordertype=null;this.popupitembackground=null;this.popupitemgradation=null;this.itemaccessibility=null;this.popuptype=null;this.buttonsize=null;this.buttonalign=null;};var _pMenuStyle=nexacro._createPrototype(nexacro.Style,nexacro.Menu_Style);nexacro.Menu_Style.prototype=_pMenuStyle;eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","autohotkey"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","buttonimage"));eval(nexacro._createColorAttributeEvalStr("_pMenuStyle","popupcolor"));eval(nexacro._createBorderAttributeEvalStr("_pMenuStyle","popupborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pMenuStyle","popupbordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pMenuStyle","popuppadding"));eval(nexacro._createFontAttributeEvalStr("_pMenuStyle","popupfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pMenuStyle","popupbackground"));eval(nexacro._createGradationAttributeEvalStr("_pMenuStyle","popupgradation"));eval(nexacro._createAlignAttributeEvalStr("_pMenuStyle","itemalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pMenuStyle","itembackground"));eval(nexacro._createBorderAttributeEvalStr("_pMenuStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pMenuStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pMenuStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pMenuStyle","itempadding"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","checkboximage"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","expandimage"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","popupitemheight"));eval(nexacro._createAlignAttributeEvalStr("_pMenuStyle","popupitemalign"));eval(nexacro._createPaddingAttributeEvalStr("_pMenuStyle","popupitempadding"));eval(nexacro._createBorderAttributeEvalStr("_pMenuStyle","popupitemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pMenuStyle","popupitembordertype"));eval(nexacro._createBackgroundAttributeEvalStr("_pMenuStyle","popupitembackground"));eval(nexacro._createGradationAttributeEvalStr("_pMenuStyle","popupitemgradation"));eval(nexacro._createAccessibilityAttributeEvalStr("_pMenuStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","popuptype"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","buttonsize"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","buttonalign"));_pMenuStyle.__custom_emptyObject=function(){this.autohotkey=null;this.buttonimage=null;this.popupcolor=null;this.popupborder=null;this.popupbordertype=null;this.popuppadding=null;this.popupfont=null;this.popupbackground=null;this.popupgradation=null;this.itemalign=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.popupitemheight=null;this.popupitemalign=null;this.popupitempadding=null;this.popupitemborder=null;this.popupitembordertype=null;this.popupitembackground=null;this.popupitemgradation=null;this.itemaccessibility=null;this.popuptype=null;this.buttonsize=null;this.buttonalign=null;};_pMenuStyle.__get_custom_style_value=function(){var _a="";var _b=this.popupitempadding;if(_b&&_b._value.length){_a+="popupitempadding:"+this.popupitempadding._value+"; ";}var _c=this.popupborder;if(_c&&_c._value.length){_a+="popupborder:"+_c._value+"; ";}var _d=this.popupbordertype;if(_d&&_d._value.length){_a+="popupbordertype:"+_d._value+"; ";}var _e=this.popupfont;if(_e&&_e._value.length){_a+="popupfont:"+_e._value+"; ";}var _f=this.popuppadding;if(_f&&_f._value.length){_a+="popuppadding:"+_f._value+"; ";}var _g=this.popupcolor;if(_g&&_g._value.length){_a+="popupcolor:"+_g._value+"; ";}var _h=this.popupbackground;if(_h&&_h._value.length){_a+="popupbackground:"+_h._value+"; ";}var _i=this.popupgradation;if(_i&&_i._value.length){_a+="popupgradation:"+_i._value+"; ";}var _j=this.itemalign;if(_j&&_j._value.length){_a+="itemalign:"+_j._value+"; ";}var _k=this.itembackground;if(_k&&_k._value.length){_a+="itembackground:"+_k._value+"; ";}var _l=this.itemborder;if(_l&&_l._value.length){_a+="itemborder:"+_l._value+"; ";}var _m=this.itembordertype;if(_m&&_m._value.length){_a+="itembordertype:"+_m._value+"; ";}var _n=this.itemgradation;if(_n&&_n._value.length){_a+="itemgradation:"+_n._value+"; ";}var _o=this.itempadding;if(_o&&_o._value.length){_a+="itempadding:"+_o._value+"; ";}var _p=this.popuptype;if(_p&&_p._value.length){_a+="popuptype:"+_p._value+"; ";}var _q=this.checkboximage;if(_q&&_q._value.length){_a+="checkboximage:"+_q._value+"; ";}var _r=this.expandimage;if(_r&&_r._value.length){_a+="expandimage:"+_r._value+"; ";}var _s=this.popupitembackground;if(_s&&_s._value.length){_a+="popupitembackground:"+_s._value+"; ";}var _t=this.popupitemheight;if(_t&&_t._value.length){_a+="popupitemheight:"+_t._value+"; ";}var _u=this.popupitemalign;if(_u&&_u._value.length){_a+="popupitemalign:"+_u._value+"; ";}var _v=this.popupitemborder;if(_v&&_v._value.length){_a+="popupitemborder:"+_v._value+"; ";}var _w=this.popupitembordertype;if(_w&&_w._value.length){_a+="popupitembordertype:"+_w._value+"; ";}var _x=this.popupitemgradation;if(_x&&_x._value.length){_a+="popupitemgradation:"+_x._value+"; ";}var _y=this.autohotkey;if(_y&&_y._value.length){_a+="autohotkey:"+_y._value+"; ";}var _z=this.itemaccessibility;if(_z&&_z._value.length){_a+="itemaccessibility:"+_z._value+"; ";}var _aa=this.buttonsize;if(_aa&&_aa._value.length){_a+="buttonsize:"+_aa._value+"; ";}var _ab=this.buttonalign;if(_ab&&_ab._value.length){_a+="buttonalign:"+_ab._value+"; ";}return _a;};nexacro.Menu_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.autohotkey=null;this.buttonimage=null;this.popupcolor=null;this.popupborder=null;this.popupbordertype=null;this.popuppadding=null;this.popupfont=null;this.popupbackground=null;this.popupgradation=null;this.itemalign=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.popupitemheight=null;this.popupitemalign=null;this.popupitempadding=null;this.popupitemborder=null;this.popupitembordertype=null;this.popupitembackground=null;this.popupitemgradation=null;this.itemaccessibility=null;this.popuptype=null;this.buttonsize=null;this.buttonalign=null;};var _pMenuCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Menu_CurrentStyle);nexacro.Menu_CurrentStyle.prototype=_pMenuCurrentStyle;_pMenuCurrentStyle.__custom_emptyObject=_pMenuStyle.__custom_emptyObject;_pMenuCurrentStyle.__get_custom_style_value=_pMenuStyle.__get_custom_style_value;_pMenuStyle=null;_pMenuCurrentStyle=null;nexacro.Menu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.captioncolumn="";this.checkboxcolumn="";this.enablecolumn="";this.hotkeycolumn="";this.iconcolumn="";this.idcolumn="";this.levelcolumn="";this.userdatacolumn="";this.beforeindex= -1;this.level=0;this.innerdataset="";this._is_menu_click=false;this._innerdataset="";this._popupmenu=null;this._items=[];this._cancelPopup=undefined;this._close_popup=false;this._want_arrow=true;this._hot_key_list=[];this._last_mouseleave_iteminfo={bindindex: -1,index: -1,level: -1};this._is_popupmenu_mouseover=false;this.spinupbutton=null;this.spindownbutton=null;this._spin_width=15;this._scrollIndex=0;this._scrollIndex_tmp=0;this._buttonRect=[];this._item_total_width=0;this._accessibility_role="menubar";this._focus_obj=null;this._menuitemindex= -1;this._menuitemonmouseenter=null;this._popupitemindex= -1;this._popupitempreviousindex=0;this._previousitem=0;this._clickitemindex= -1;this._key_action=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onmenuclick":1,"onmousedown":1,"onmouseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pMenu=nexacro._createPrototype(nexacro.Component,nexacro.Menu);nexacro.Menu.prototype=_pMenu;_pMenu._type_name="Menu";nexacro.Menu._default_image_align=nexacro.Component._default_buttonimg_align;nexacro.Menu._default_buttonsize=nexacro._getCachedStyleObj("buttonsize", -1);nexacro.Menu._default_buttonalign=nexacro._getCachedStyleObj("buttonalign","auto");nexacro.Menu._default_autohotkey=nexacro._getCachedStyleObj("autohotkey","false");_pMenu.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_align(_a);if(_f!=_b.align){_b.align=_f;this.on_apply_style_align(_f);}var _g=this.on_find_CurrentStyle_itemalign(_a);if(_b.itemalign!=_g){_b.itemalign=_g;}var _h=this.on_find_CurrentStyle_itembackground(_a);if(_b.itembackground!=_h){_b.itembackground=_h;}var _i=this.on_find_CurrentStyle_itemborder(_a);if(_b.itemborder!=_i){_b.itemborder=_i;}var _j=this.on_find_CurrentStyle_itembordertype(_a);if(_b.itembordertype!=_j){_b.itembordertype=_j;}var _k=this.on_find_CurrentStyle_itemgradation(_a);if(_b.itemgradation!=_k){_b.itemgradation=_k;}var _l=this.on_find_CurrentStyle_itempadding(_a);if(_b.itempadding!=_l){_b.itempadding=_l;}var _m=this.on_find_CurrentStyle_checkboximage(_a);if(_b.checkboximage!=_m){_b.checkboximage=_m;}var _n=this.on_find_CurrentStyle_expandimage(_a);if(_b.expandimage!=_n){_b.expandimage=_n;}var _o=this.on_find_CurrentStyle_popupborder(_a);if(_b.popupborder!=_o){_b.popupborder=_o;}var _p=this.on_find_CurrentStyle_popupbordertype(_a);if(_b.popupbordertype!=_p){_b.popupbordertype=_p;}var _q=this.on_find_CurrentStyle_popuppadding(_a);if(_b.popuppadding!=_q){_b.popuppadding=_q;}var _r=this.on_find_CurrentStyle_popupfont(_a);if(_b.popupfont!=_r){_b.popupfont=_r;}var _s=this.on_find_CurrentStyle_popupcolor(_a);if(_b.popupcolor!=_s){_b.popupcolor=_s;}var _t=this.on_find_CurrentStyle_popupbackground(_a);if(_b.popupbackground!=_t){_b.popupbackground=_t;}var _u=this.on_find_CurrentStyle_popupgradation(_a);if(_b.popupgradation!=_u){_b.popupgradation=_u;}var _v=this.on_find_CurrentStyle_popupitemheight(_a);if(_b.popupitemheight!=_v){_b.popupitemheight=_v;}var _w=this.on_find_CurrentStyle_popupitempadding(_a);if(_b.popupitempadding!=_w){_b.popupitempadding=_w;}var _x=this.on_find_CurrentStyle_popupitembackground(_a);if(_b.popupitembackground!=_x){_b.popupitembackground=_x;}var _y=this.on_find_CurrentStyle_popupitemalign(_a);if(_b.popupitemalign!=_y){_b.popupitemalign=_y;}var _z=this.on_find_CurrentStyle_popupitemborder(_a);if(_b.popupitemborder!=_z){_b.popupitemborder=_z;}var _aa=this.on_find_CurrentStyle_popupitembordertype(_a);if(_b.popupitembordertype!=_aa){_b.popupitembordertype=_aa;}var _ab=this.on_find_CurrentStyle_popupitemgradation(_a);if(_b.popupitemgradation!=_ab){_b.popupitemgradation=_ab;}var _ac=this.on_find_CurrentStyle_autohotkey(_a);if(_b.autohotkey!=_ac){_b.autohotkey=_ac;}var _ad=this.on_find_CurrentStyle_accessibility(_a);if(_b.accessibility!=_ad){_b.accessibility=_ad;}var _ae=this.on_find_CurrentStyle_itemaccessibility(_a);if(_b.itemaccessibility!=_ae){_b.itemaccessibility=_ae;}var _af=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_af!=_b.rtlimagemirroring){_b.rtlimagemirroring=_af;this.on_apply_style_rtlimagemirroring(_af);}var _ag=this.on_find_CurrentStyle_buttonsize(_a);if(_ag!=_b.buttonsize){_b.buttonsize=_ag;this.on_apply_style_buttonsize(_ag);}var _ah=this.on_find_CurrentStyle_buttonalign(_a);if(_ah!=_b.buttonalign){_b.buttonalign=_ah;this.on_apply_style_buttonalign(_ah);}if(this.spinupbutton){this.spinupbutton._control_pseudo="";this.spinupbutton._contents_pseudo="";this.spinupbutton.on_apply_pseudo(_a);}if(this.spindownbutton){this.spindownbutton._control_pseudo="";this.spindownbutton._contents_pseudo="";this.spindownbutton.on_apply_pseudo(_a);}};_pMenu.on_apply_custom_setfocus=function(_a){if((this._pseudo=="focused")&&!this._is_menu_click&&this._items&&this._items.length>0){this._menuitemindex=0;this._menuitemonmouseenter=this._items[this._menuitemindex];this._item_focus(this._menuitemonmouseenter,true);}var _b=this._control_element;if(_b){var _c=((_a=="lbutton")?false:nexacro._enableaccessibility);_b.setElementFocus(_c);}};_pMenu.on_create_custom_style=function(){return new nexacro.Menu_Style(this);};_pMenu.on_create_custom_currentStyle=function(){return new nexacro.Menu_CurrentStyle();};_pMenu.on_find_CurrentStyle_buttonimage=function(_a){return this._find_pseudo_obj("buttonimage",_a);};_pMenu.on_find_CurrentStyle_popupcolor=function(_a){return this._find_pseudo_obj("popupcolor",_a,"color");};_pMenu.on_find_CurrentStyle_popupborder=function(_a){return this._find_pseudo_obj("popupborder",_a,"border");};_pMenu.on_find_CurrentStyle_popupbordertype=function(_a){return this._find_pseudo_obj("popupbordertype",_a,"bordertype");};_pMenu.on_find_CurrentStyle_popuppadding=function(_a){return this._find_pseudo_obj("popuppadding",_a,"padding");};_pMenu.on_find_CurrentStyle_popupfont=function(_a){return this._find_pseudo_obj("popupfont",_a,"font");};_pMenu.on_find_CurrentStyle_letterspace=function(_a){return this._find_pseudo_obj("letterspace",_a,"letterspace");};_pMenu.on_find_CurrentStyle_popupbackground=function(_a){return this._find_pseudo_obj("popupbackground",_a,"background");};_pMenu.on_find_CurrentStyle_popupgradation=function(_a){return this._find_pseudo_obj("popupgradation",_a,"gradation");};_pMenu.on_find_CurrentStyle_itemalign=function(_a){return this._find_pseudo_obj("itemalign",_a,"align");};_pMenu.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pMenu.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pMenu.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pMenu.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pMenu.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding");};_pMenu.on_find_CurrentStyle_checkboximage=function(_a){return this._find_pseudo_obj("checkboximage",_a);};_pMenu.on_find_CurrentStyle_expandimage=function(_a){return this._find_pseudo_obj("expandimage","normal");};_pMenu.on_find_CurrentStyle_popupitemheight=function(_a){return this._find_pseudo_obj("popupitemheight",_a);};_pMenu.on_find_CurrentStyle_popupitemalign=function(_a){return this._find_pseudo_obj("popupitemalign",_a);};_pMenu.on_find_CurrentStyle_popupitempadding=function(_a){return this._find_pseudo_obj("popupitempadding",_a,"padding");};_pMenu.on_find_CurrentStyle_popupitemborder=function(_a){return this._find_pseudo_obj("popupitemborder",_a,"border");};_pMenu.on_find_CurrentStyle_popupitembordertype=function(_a){return this._find_pseudo_obj("popupitembordertype",_a,"bordertype");};_pMenu.on_find_CurrentStyle_popupitembackground=function(_a){return this._find_pseudo_obj("popupitembackground",_a,"background");};_pMenu.on_find_CurrentStyle_popupitemgradation=function(_a){return this._find_pseudo_obj("popupitemgradation",_a,"gradation");};_pMenu.on_find_CurrentStyle_autohotkey=function(_a){return this._find_pseudo_obj("autohotkey",_a)||nexacro.Menu._default_autohotkey;};_pMenu.on_find_CurrentStyle_itemaccessibility=function(_a){return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pMenu.on_find_CurrentStyle_popuptype=function(_a){return this._find_pseudo_obj("popuptype",_a);};_pMenu.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||nexacro.Menu._default_buttonsize;};_pMenu.on_find_CurrentStyle_buttonalign=function(_a){return this._find_pseudo_obj("buttonalign",_a)||nexacro.Menu._default_buttonalign;};_pMenu.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);};_pMenu.on_update_style_buttonsize=function(){this.on_apply_style_buttonsize(this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo));};_pMenu.on_update_style_buttonalign=function(){this.on_apply_style_buttonalign(this.currentstyle.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo));};_pMenu.on_update_style_color=function(){this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo);var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]&&_a[_c].enable){_a[_c].on_update_style_color();}}}};_pMenu.on_update_style_font=function(){this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo);var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){_a[_c].on_apply_style_font(this.currentstyle.font);}}this._createMenu(false);}};_pMenu.on_update_style_align=function(){this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo);var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){_a[_c].on_update_style_align();}}}};_pMenu.on_update_style_buttonimage=function(){this.on_apply_style_buttonimage(this.currentstyle.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo));};_pMenu.on_update_style_popupcolor=function(){this.currentstyle.popupcolor=this.on_find_CurrentStyle_popupcolor(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_color();}};_pMenu.on_update_style_popupborder=function(){this.currentstyle.popupborder=this.on_find_CurrentStyle_popupborder(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_border();}};_pMenu.on_update_style_popupbordertype=function(){this.currentstyle.popupbordertype=this.on_find_CurrentStyle_popupbordertype(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_bordertype();}};_pMenu.on_update_style_popuppadding=function(){this.currentstyle.popuppadding=this.on_find_CurrentStyle_popuppadding(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_padding();}};_pMenu.on_update_style_popupfont=function(){this.currentstyle.popupfont=this.on_find_CurrentStyle_popupfont(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_font();}};_pMenu.on_update_style_popupbackground=function(){this.on_apply_style_popupbackground(this.currentstyle.popupbackground=this.on_find_CurrentStyle_popupbackground(this._pseudo));if(this._popupmenu){this._popupmenu.on_update_style_background();}};_pMenu.on_update_style_popupgradation=function(){this.currentstyle.popupgradation=this.on_find_CurrentStyle_popupgradation(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_gradation();}};_pMenu.on_update_style_itemalign=function(){this.on_apply_style_itemalign(this.currentstyle.itemalign=this.on_find_CurrentStyle_itemalign(this._pseudo));};_pMenu.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));};_pMenu.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));};_pMenu.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));};_pMenu.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));};_pMenu.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));};_pMenu.on_update_style_checkboximage=function(){this.on_apply_style_checkboximage(this.currentstyle.checkboximage=this.on_find_CurrentStyle_checkboximage(this._pseudo));};_pMenu.on_update_style_expandimage=function(){this.on_apply_style_expandimage(this.currentstyle.expandimage=this.on_find_CurrentStyle_expandimage(this._pseudo));};_pMenu.on_update_style_popupitemheight=function(){this.on_apply_style_popupitemheight(this.currentstyle.popupitemheight=this.on_find_CurrentStyle_popupitemheight(this._pseudo));};_pMenu.on_update_style_popupitemalign=function(){this.on_apply_style_popupitemalign(this.currentstyle.popupitemalign=this.on_find_CurrentStyle_popupitemalign(this._pseudo));};_pMenu.on_update_style_popupitempadding=function(){this.on_apply_style_popupitempadding(this.currentstyle.popupitempadding=this.on_find_CurrentStyle_popupitempadding(this._pseudo));};_pMenu.on_update_style_popupitemborder=function(){this.on_apply_style_popupitemborder(this.currentstyle.popupitemborder=this.on_find_CurrentStyle_popupitemborder(this._pseudo));};_pMenu.on_update_style_popupitembordertype=function(){this.on_apply_style_popupitembordertype(this.currentstyle.popupitembordertype=this.on_find_CurrentStyle_popupitembordertype(this._pseudo));};_pMenu.on_update_style_popupitembackground=function(){this.on_apply_style_popupitembackground(this.currentstyle.popupitembackground=this.on_find_CurrentStyle_popupitembackground(this._pseudo));};_pMenu.on_update_style_popupitemgradation=function(){this.on_apply_style_popupitemgradation(this.currentstyle.popupitemgradation=this.on_find_CurrentStyle_popupitemgradation(this._pseudo));};_pMenu.on_update_style_autohotkey=function(){this.on_apply_style_autohotkey(this.currentstyle.autohotkey=this.on_find_CurrentStyle_autohotkey(this._pseudo));};_pMenu.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));};_pMenu.on_apply_style_color=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.selected){_d._pseudo="selected";}if(!_d.enable){_d._pseudo="disabled";}_a=this.on_find_CurrentStyle_color(_d._pseudo);_d.on_apply_style_color(_a);}}};_pMenu.on_apply_style_font=function(_a){this._createMenu();};_pMenu.on_apply_style_letterspace=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _e=0;_e<_c;_e++ ){_b[_e].on_apply_style_letterspace(_a);}}this._calcMenuItem();this._updateMenuItemPosition();var _d=this._popupmenu;if(_d){_d.on_apply_style_letterspace(_a);}};_pMenu.on_apply_style_itemalign=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_align(_a);}}};_pMenu.on_apply_style_itembackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_background(_a);}}};_pMenu.on_apply_style_itemborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_border(_a);}}};_pMenu.on_apply_style_itembordertype=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_bordertype(_a);}}};_pMenu.on_apply_style_itemgradation=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_gradation(_a);}}};_pMenu.on_apply_style_itempadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_padding(_a);}this._createMenu(false);}};_pMenu.on_apply_style_checkboximage=function(_a){if(_a){this._load_image(_a,0);}if(this._popupmenu){this._popupmenu.on_apply_style_checkboximage(_a);}};_pMenu.on_apply_style_expandimage=function(_a){if(_a){this._load_image(_a,1);}if(this._popupmenu){this._popupmenu.on_apply_style_expandimage(_a);}};_pMenu.on_apply_style_popupborder=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_border(_a);}};_pMenu.on_apply_style_popupbordertype=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_bordertype(_a);}};_pMenu.on_apply_style_popupfont=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_font(_a);}};_pMenu.on_apply_style_popuppadding=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_padding(_a);}};_pMenu.on_apply_style_popupcolor=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_color(_a);}};_pMenu.on_apply_style_popupgradation=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_gradation(_a);}};_pMenu.on_apply_style_popupbackground=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_background(_a);}};_pMenu.on_apply_style_popupitembackground=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itembackground(_a);}};_pMenu.on_apply_style_popupitemalign=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemalign(_a);}};_pMenu.on_apply_style_popupitemborder=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemborder(_a);}};_pMenu.on_apply_style_popupitembordertype=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itembordertype(_a);}};_pMenu.on_apply_style_popupitemgradation=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemgradation(_a);}};_pMenu.on_apply_style_autohotkey=nexacro._emptyFn;_pMenu.on_apply_style_popupitemheight=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemheight(_a);}};_pMenu.on_apply_style_popupitempadding=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itempadding(_a);}};_pMenu.on_apply_style_itemaccessibility=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_accessibility(_a);}}};_pMenu.on_apply_style_rtlimagemirroring=function(_a){return;};_pMenu.on_apply_style_buttonsize=function(_a){if(_a&&_a._value!= -1){this._spin_width=parseInt(_a._value);}else{this._spin_width=15;}this._createMenu(false);var _b=this._items;var _c=_b.length;var _d=this.on_find_CurrentStyle_padding(this._pseudo);var _e=this._client_height;if(_d){_e=_e-_d.top-_d.bottom;}for(var _f=0;_f<_c;_f++ ){_b[_f].resize(_b[_f]._adjust_width,_e);}};_pMenu.on_apply_style_buttonalign=function(_a){if(_a){var _b=_a._value;if(_b=="none"){this._spin_width=0;}else{var _c=this.on_find_CurrentStyle_buttonsize(this._pseudo);if(_c&&_c._value!= -1){this._spin_width=parseInt(_c._value);}else{this._spin_width=15;}}}this._createMenu(false);var _d=this._items;var _e=_d.length;var _f=this.on_find_CurrentStyle_padding(this._pseudo);var _g=this._client_height;if(_f){_g=_g-_f.top-_f.bottom;}for(var _h=0;_h<_e;_h++ ){_d[_h].resize(_d[_h]._adjust_width,_g);}};_pMenu.on_create_contents=function(){var _a=this.currentstyle;this._createMenu(true);if(_a.checkboximage){this._load_image(_a.checkboximage,0);}if(_a.expandimage){this._load_image(_a.expandimage,1);}};_pMenu.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._items;if(_b){var _c=this._items.length;var _d=null;for(var _e=0;_e<_c;_e++ ){_b[_e].on_created();}}if(nexacro._enableaccessibility){this._want_arrow=true;this._setAccessibilityInfoLevel(this.level);}if(this._innerdataset&&this.enablecolumn){this.on_apply_enablecolumn();}this._createMenu(false);this.on_apply_prop_rtldirection();}};_pMenu.on_destroy_contents=function(){if(this._popupmenu){this._popupmenu.destroy();this._popupmenu=null;}var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();_a[_c]=null;}this._items=null;}_a=null;this._destroySpinButton();};_pMenu.on_change_containerRect=function(_a,_b){this._createMenu(false);var _c=this._items;var _d=_c.length;var _e=this.on_find_CurrentStyle_padding(this._pseudo);if(_e){_b=_b-_e.top-_e.bottom;}for(var _f=0;_f<_d;_f++ ){_c[_f].resize(_c[_f]._adjust_width,_b);}this._item_focus(this._focus_obj,true);};_pMenu.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){var _c=this._items;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e]._setEnable(_a);}}};_pMenu.set_captioncolumn=function(_a){var _b=_a;var _c=this._popupmenu;if(_c){_c.set_captioncolumn(_b);}if(_b!=this.captioncolumn){this.captioncolumn=_b;this.on_apply_captioncolumn();}};_pMenu.on_apply_captioncolumn=function(){var _a=this.captioncolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=this._innerdataset.getColumn(_b[_e].datarow,this.captioncolumn);if(_d){_b[_e].set_text(_d);}else{_b[_e].set_text("");}}}};_pMenu.set_checkboxcolumn=function(_a){var _b=_a;if(this._popupmenu){this._popupmenu.set_checkboxcolumn(_b);}if(_b!=this.checkboxcolumn){this.checkboxcolumn=_b;this._createMenu(false);}return this.checkboxcolumn;};_pMenu.set_enablecolumn=function(_a){if(_a!=this.enablecolumn){this.enablecolumn=_a;this.on_apply_enablecolumn();}return this.enablecolumn;};_pMenu.on_apply_enablecolumn=function(){var _a=this.enablecolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=this._innerdataset.getColumn(_b[_e].datarow,this.enablecolumn);_d=_d==false||_d=="false"?false:true;_b[_e].set_enable(_d);}}if(this._popupmenu){this._popupmenu.set_enablecolumn(this.enablecolumn);}};_pMenu.set_hotkeycolumn=function(_a){var _b=this._popupmenu;if(_b){_b.set_hotkeycolumn(_a);}if(_a!=this.hotkeycolumn){this.hotkeycolumn=_a;this._createMenu(false);}return this.hotkeycolumn;};_pMenu.set_iconcolumn=function(_a){var _b=this._popupmenu;if(_b){_b.set_iconcolumn(_a);}if(_a!=this.iconcolumn){this.iconcolumn=_a;this._createMenu(false);}return this.iconcolumn;};_pMenu.set_idcolumn=function(_a){var _b=this._popupmenu;if(_b){_b.set_idcolumn(_a);}if(_a!=this.idcolumn){this.idcolumn=_a;this.on_apply_idcolumn();}return this.idcolumn;};_pMenu.on_apply_idcolumn=function(){var _a=this.idcolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=this._innerdataset.getColumn(_b[_e].datarow,this.idcolumn);_b[_e].id=_d?_d:"";}}};_pMenu.set_levelcolumn=function(_a){var _b=_a;var _c=this._popupmenu;if(_c){_c.set_levelcolumn(_b);}if(_b!=this.levelcolumn){this.levelcolumn=_b;this.on_apply_levelcolumn();}return this.levelcolumn;};_pMenu.on_apply_levelcolumn=function(){var _a=this.levelcolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=this._innerdataset.getColumn(_b[_e].datarow,this.levelcolumn);_b[_e].level=_d?_d: -1;}}};_pMenu.set_userdatacolumn=function(_a){var _b=_a;var _c=this._popupmenu;if(_c){_c.set_userdatacolumn(_b);}if(_b!=this.userdatacolumn){this.userdatacolumn=_b;this.on_apply_userdatacolumn();}return this.userdatacolumn;};_pMenu.on_apply_userdatacolumn=function(){var _a=this.userdatacolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=this._innerdataset.getColumn(_b[_e].datarow,this.userdatacolumn);if(_d){_b[_e].userdata=_d;}}}};_pMenu.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pMenu._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pMenu.getInnerDataset=function(){return this._innerdataset;};_pMenu.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pMenu.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){var _b=this._callbackFromDataset;_a._setEventHandler("onrowposchanged",_b,this);_a._setEventHandler("oncolumnchanged",_b,this);_a._setEventHandler("onrowsetchanged",_b,this);}var _c=this.getElement();if(_c&&this.innerdataset){this._createMenu(true);this.beforeindex= -1;this.beforevalue="";this.beforeText="";}};_pMenu.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setRtlDirection(_a);}if(this._popupmenu){this._popupmenu._setRtlDirection(_a);}};_pMenu.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onlbuttondown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onlbuttondown._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onlbuttonup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onrbuttondown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onrbuttondown._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onrbuttonup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onrbuttonup._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmousedown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmousedown._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=_l._overedobj||_l;if(_m.index==undefined){_m.index= -1;}var _n=new nexacro.MenuMouseEventInfo(this,"onmouseenter",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmouseenter._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){if(this._overedobj){this._overedobj=null;}var _m=_k._overedobj||_k;if(_m.index==undefined){_m.index= -1;}var _n=new nexacro.MenuMouseEventInfo(this,"onmouseleave",_l.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmouseleave._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._menuitemonmouseenter&&(this._menuitemonmouseenter!=_l)&&(this!=_l)){this._process_mousemove(_l);}if(this.onmousemove&&this.onmousemove._has_handlers){var _m=_l._overedobj||_l;if(_m.index==undefined){_m.index= -1;}var _n=new nexacro.MenuMouseEventInfo(this,"onmousemove",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmousemove._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=_m._overedobj||_m;var _p=new nexacro.MenuDragEventInfo(this,"ondrag",_l.id,_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_m.level,_o.index,_o._bindindex);return [this.ondrag._fireUserEvent(this,_p),this,_m,_n,_p.userdata];}return [false];};_pMenu.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondrop",_b.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.level,_q.index,_q._bindindex);return this.ondrop._fireUserEvent(this,_r);}return false;};_pMenu.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragenter",_b.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.level,_q.index,_q._bindindex);return this.ondragenter._fireUserEvent(this,_r);}return false;};_pMenu.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.MenuDragEventInfo(this,"ondragleave",_b.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,this._last_mouseleave_iteminfo.level,this._last_mouseleave_iteminfo.index,this._last_mouseleave_iteminfo.bindindex);return this.ondragleave._fireUserEvent(this,_q);}return false;};_pMenu.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragmove",_b.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.level,_q.index,_q._bindindex);return this.ondragmove._fireUserEvent(this,_r);}return false;};_pMenu.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._popupmenu_find(this);var _h=this._item_find(_g);var _i=this._popupmenu_visible(this);var _j=this._items;var _k;if(_j[this._menuitemindex]){_k=this._popupmenuitem_extend(_j[this._menuitemindex]);}var _l;if(_h[this._popupitemindex]){_l=this._popupmenuitem_extend(_h[this._popupitemindex]);}var _m=_h.length-1;var _n=_j.length-1;var _o=nexacro.Event;if(nexacro._enableaccessibility){switch(_a){case _o.KEY_UP:if(this._focus_obj instanceof nexacro.Menu){this._menuitemindex= -1;var _p=this.parent.getPrevAccessibilityComponent(_g);_p._setFocus(false);}else if(this._focus_obj instanceof nexacro.PopupMenuItem){_h=this._item_find(_g);this._item_focus(_h[this._popupitemindex],false);this._popupitemindex-- ;if(this._popupitemindex<0){this._popupitemindex=_m;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else if(this._focus_obj instanceof nexacro.MenuItem){if(_i){this._showPopup(this._focus_obj);_h=this._item_find(_g);this._item_focus(_h[this._popupitemindex],false);this._popupitemindex-- ;if(this._popupitemindex<0){this._popupitemindex=_m;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else{this._focus_obj=_g;this._item_focus(this._focus_obj);}}break;case _o.KEY_DOWN:if(this._focus_obj instanceof nexacro.Menu){this._menuitemindex=0;this._focus_obj=_j[this._menuitemindex];this._item_focus(this._focus_obj,true);}else if(this._focus_obj instanceof nexacro.PopupMenuItem){_h=this._item_find(_g);this._item_focus(_h[this._popupitemindex],false);this._popupitemindex++ ;if(this._popupitemindex>_m){this._popupitemindex=0;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else if(this._focus_obj instanceof nexacro.MenuItem){if(_k==true){var _q=this._focus_obj;this._showPopup(_q);_h=this._item_find(_g);this._previousitem=this._menuitemindex;_i=true;}if(_i){this._item_focus(_h[this._popupitemindex],false);this._popupitemindex++ ;if(this._popupitemindex>_m){this._popupitemindex=0;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){nexacro.OnceCallbackTimer.callonce(this,function(){this._item_focus(this._focus_obj,true);});}else{this._item_focus(this._focus_obj,true);}}}break;case _o.KEY_LEFT:if(_i){this._previousitem=this._menuitemindex;}else{this._menuitemindex-- ;this._previousitem=this._menuitemindex;}if(this._menuitemindex<0){this._menuitemindex=_n;}if(_i){if(_g.parent instanceof nexacro.PopupMenu){this._item_focus(_h[this._popupitemindex],false);this._popupitemindex=_g.parent._previousitem;var _h=_g.parent._items;_g._closePopup();this._focus_obj=_h[this._popupitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}else{this._previousitem-- ;if(this._previousitem<0){this._previousitem=_n;}this._menuitemindex=this._previousitem;var _k=this._popupmenuitem_extend(_j[this._menuitemindex]);this.on_notify_menuitem_onmouseenter(_j[this._menuitemindex]);this._popupitemindex=0;if(!_k){this._focus_obj=_j[this._menuitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}else{var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._item_focus(this,false);this._focus_obj=_s[this._popupitemindex];this._menuitemonmouseenter=this._focus_obj;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){nexacro.OnceCallbackTimer.callonce(this,function(){this._item_focus(this._focus_obj,true);});}else{this._item_focus(this._focus_obj,true);}}}}else{_g._previousitem=this._menuitemindex;this._focus_obj=_j[this._menuitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}break;case _o.KEY_RIGHT:if(!_i){this._menuitemindex++ ;this._previousitem=this._menuitemindex;}if(this._menuitemindex>_n){this._menuitemindex=0;}if(_k&&_i==true){if(this._popupitemindex== -1){this._popupitemindex=0;}var _l=this._popupmenuitem_extend(_h[this._popupitemindex]);if(!_l){this._menuitemindex++ ;if(this._menuitemindex>_n){this._menuitemindex=0;}this.on_notify_menuitem_onmouseenter(_j[this._menuitemindex]);var _k=this._popupmenuitem_extend(_j[this._menuitemindex]);if(!_k){this._focus_obj=_j[this._menuitemindex];this._item_focus(this._focus_obj,true);}else{var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._item_focus(this,false);this._popupitemindex=0;this._focus_obj=_s[this._popupitemindex];if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){nexacro.OnceCallbackTimer.callonce(this,function(){this._item_focus(this._focus_obj,true);});}else{this._item_focus(this._focus_obj,true);}}}else{_g.on_notify_menuitem_onmouseenter(_h[this._popupitemindex]);var _s=this._item_find(_g);this._item_focus(this,false);this._popupitemindex=0;this._focus_obj=_s[this._popupitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}}else{this._focus_obj=_j[this._menuitemindex];this._menuitemonmouseenter=_j[this._menuitemindex];this._item_focus(this._focus_obj,true);}break;case _o.KEY_ENTER:if(this._menuitemonmouseenter){if(_k==true&&(!this._popupmenu||(this._popupmenu&&!this._popupmenu._is_popup()))){this.on_notify_menuitem_onlbuttondown(_j[this._menuitemindex]);this._previousitem=this._menuitemindex;}else if(_g instanceof nexacro.Menu){_g.on_notify_menuitem_onclick(this._menuitemonmouseenter);}else{var _r=this._menuitemonmouseenter.parent;_r.on_notify_menuitem_onclick(this._menuitemonmouseenter);}}break;case _o.KEY_ESC:if(_i){this._popupitemindex= -1;_g._closePopup();var _h=_g.parent._items[_g.parent._previousitem];this._item_focus(_h,false);this._focus_obj=_h;this._item_focus(_h,true);}break;default:break;}}else{this._key_action=true;switch(_a){case _o.KEY_UP:var _t=this._menuitemindex> -1?this._menuitemindex:this._clickitemindex;if(_t> -1){if(_i){if(_g._is_spin_visible){_g._popupitemindex=this._popupitemindex;_g._do_scroll(_a,_g);}var _u=true;var _v=_h[this._popupitemindex];if(_v&&(!_v.enable||_v._pseudo=="mouseover")){_u=false;}_v=null;if(_u){this._popupitemindex=0;}else{this._popupitemindex-- ;}_u=null;if(this._popupitemindex<0){this._popupitemindex=_m;}this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}break;case _o.KEY_DOWN:var _t=this._menuitemindex> -1?this._menuitemindex:this._clickitemindex;if(_t> -1){if(_k&&_j[_t].enable){if(_i==true){if(_g._is_spin_visible){_g._popupitemindex=this._popupitemindex;_g._do_scroll(_a,_g);}var _u=true;var _v=_h[this._popupitemindex];if(_v&&(!_v.enable||_v._pseudo=="mouseover")){_u=false;}_v=null;if(_u){this._popupitemindex=0;}else{this._popupitemindex++ ;}_u=null;if(this._popupitemindex>_m){this._popupitemindex=0;}this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else if(_i==false){if(!this._is_menu_click){this._is_menu_click=true;}this.on_notify_menuitem_onlbuttondown(_j[_t]);this._previousitem=this._menuitemindex;var _r=this._popupmenu_find(this);if(_r!=this){var _s=this._item_find(_r);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}}else if(!this._is_menu_click&&!this._selected&&this._menuitemonmouseenter&&this._menuitemonmouseenter._pseudo=="normal"){this._menuitemindex=0;if(!this._is_menu_click){this._is_menu_click=true;}this._previousitem=this._menuitemindex;this._menuitemonmouseenter=_j[this._menuitemindex];_k=this._popupmenuitem_extend(this._menuitemonmouseenter);if(_k){this.on_notify_menuitem_onlbuttondown(this._menuitemonmouseenter);}else{this._item_focus(this._menuitemonmouseenter,this._is_menu_click);break;}var _r=this._popupmenu_find(this);if(_r!=this){var _s=this._item_find(_r);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}}break;case _o.KEY_LEFT:if(_i){this._previousitem=this._menuitemindex;if(_g.parent instanceof nexacro.PopupMenu){this._popupitemindex=_g.parent._previousitem;var _h=_g.parent._items;_g._closePopup();this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else{if(this._is_spin_visible){this._do_scroll(_a,this);}this._previousitem-- ;if(this._previousitem<0){this._previousitem=_n;}this._menuitemindex=this._previousitem;var _v=_j[this._menuitemindex];var _k=this._popupmenuitem_extend(_v);this.on_notify_menuitem_onmouseenter(_v);this._item_focus(_v,true);this._popupitemindex=0;if(!_k){this._menuitemonmouseenter=_v;this._item_focus(_v,true);}else{var _r=this._popupmenu_find(this);if(_r!=this){var _s=this._item_find(_r);this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}}}else{if(this._is_spin_visible){this._do_scroll(_a,this);}if(!this._is_menu_click&&!this._selected&&this._menuitemonmouseenter&&this._menuitemonmouseenter._pseudo=="normal"){this._menuitemindex=0;}else if(!_i){this._menuitemindex-- ;}if(this._menuitemindex<0){this._menuitemindex=_n;}this._menuitemonmouseenter=_j[this._menuitemindex];this._clickitemindex=this._menuitemindex;if(this._previousitem> -1){this._item_focus(_j[this._previousitem],false);}this._previousitem=this._menuitemindex;var _k=this._popupmenuitem_extend(this._menuitemonmouseenter);if(_k){if(_j[this._menuitemindex].enable&&this._clickitemindex>=0&&!this._close_popup){this.on_notify_menuitem_onlbuttondown(_j[this._menuitemindex]);}else{this._item_focus(_j[this._menuitemindex],true);break;}var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._popupitemindex=0;if(!(_s[this._popupitemindex] instanceof nexacro.PopupMenuItem)){this._item_focus(this._menuitemonmouseenter,true);break;}this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else{this._item_focus(_j[this._menuitemindex],true);}}break;case _o.KEY_RIGHT:if(this._menuitemonmouseenter&&!(_g instanceof nexacro.Menu)){var _w=this._menuitemonmouseenter.parent;if(_w._is_popupmenu_mouseover){var _x=_g._popupmenuitem_mouseover(_a,_g,_h);if(_x){_g=_x.pThis;_l=_x.popupexpand;_h=_x.item;}_x=null;}_w._is_popupmenu_mouseover=false;_w=null;}if(_k&&_i==true){if(this._popupitemindex== -1){this._popupitemindex=0;}if(!_l){if(this._is_spin_visible){this._do_scroll(_a,this);}this._menuitemindex++ ;if(this._menuitemindex>_n){this._menuitemindex=0;}this._previousitem=this._menuitemindex;var _v=_j[this._menuitemindex];var _k=this._popupmenuitem_extend(_v);this.on_notify_menuitem_onmouseenter(_v);this._item_focus(_v,true);if(!_k){this._menuitemonmouseenter=_v;this._item_focus(_v,true);}else{var _r=this._popupmenu_find(this);if(_r!=this){var _s=this._item_find(_r);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}}else{if(_h[this._popupitemindex]&&_h[this._popupitemindex].enable){var _v=_h[this._popupitemindex];var _y=this._is_menu_click;if(_v._pseudo=="normal"){if(_v!=this._menuitemonmouseenter){_g._closePopup();this._is_menu_click=_y;this._menuitemindex++ ;if(this._menuitemindex>_n){this._menuitemindex=0;}this._previousitem=this._menuitemindex;_v=_j[this._menuitemindex];this.on_notify_menuitem_onmouseenter(_v);this._item_focus(_v,true);if(_v.enable){this._showPopup(_v);}_v=this._item_find(_g);if(this._popupitemindex== -1){this._popupitemindex=0;}_v=_v[this._popupitemindex];this._menuitemonmouseenter=_v;}else{_g._showPopup(_v);}this._item_focus(_v,true);_v=null;_y=null;break;}_g._previousitem=this._popupitemindex;_g._closeflag=true;_g._showPopup(_h[this._popupitemindex]);var _s=this._item_find(_g);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else{if(this._is_spin_visible){this._do_scroll(_a,this);}this._menuitemindex++ ;if(this._menuitemindex>_n){this._menuitemindex=0;}this._previousitem=this._menuitemindex;var _v=_j[this._menuitemindex];this.on_notify_menuitem_onmouseenter(_v);this._item_focus(_v,true);var _r=this._popupmenu_find(this);if(_r!=this){var _s=this._item_find(_r);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}}}else{if(this._is_spin_visible){this._do_scroll(_a,this);}if(!this._is_menu_click&&!this._selected&&this._menuitemonmouseenter&&this._menuitemonmouseenter._pseudo=="normal"){this._menuitemindex=0;}else if(!_i){this._menuitemindex++ ;}if(this._menuitemindex>_n){this._menuitemindex=0;}this._menuitemonmouseenter=_j[this._menuitemindex];this._clickitemindex=this._menuitemindex;this._previousitem=this._menuitemindex;var _k=this._popupmenuitem_extend(this._menuitemonmouseenter);if(_k){if(_j[this._menuitemindex].enable&&this._clickitemindex>=0&&!this._close_popup){this.on_notify_menuitem_onlbuttondown(_j[this._menuitemindex]);}else{this._item_focus(_j[this._menuitemindex],true);break;}var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._popupitemindex=0;if(!(_s[this._popupitemindex] instanceof nexacro.PopupMenuItem)){this._item_focus(this._menuitemonmouseenter,true);break;}this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else{this._item_focus(_j[this._menuitemindex],true);}}break;case _o.KEY_ENTER:if(this._menuitemonmouseenter&&this._menuitemonmouseenter.enable){if(!(_g instanceof nexacro.Menu)){var _w=this._menuitemonmouseenter.parent;if(_w._is_popupmenu_mouseover){_g=_g._popupmenuitem_mouseover(_a,_g,_h);_h=this._item_find(_g);}_w._is_popupmenu_mouseover=false;_w=null;}if((_k==true&&_j[this._menuitemindex].enable)&&(this._menuitemonmouseenter instanceof nexacro.MenuItem&&!(this._menuitemonmouseenter instanceof nexacro.PopupMenuItem))){this._key_action=false;this.on_notify_menuitem_onlbuttondown(_j[this._menuitemindex]);this._key_action=true;this._previousitem=this._menuitemindex;var _r=this._popupmenu_find(this);if(_r!=this){var _s=this._item_find(_r);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else{this._menuitemindex=0;}}else if(_g instanceof nexacro.Menu){if(!this._is_menu_click&&!this._selected&&this._menuitemonmouseenter._pseudo=="normal"){this._menuitemindex=0;this._clickitemindex=0;this._previousitem=this._menuitemindex;this._menuitemonmouseenter=this._items[this._clickitemindex];_k=this._popupmenuitem_extend(this._menuitemonmouseenter);if(_k){this._key_action=false;this.on_notify_menuitem_onlbuttondown(this._menuitemonmouseenter);this._key_action=true;}else{_g.on_notify_menuitem_onclick(this._menuitemonmouseenter);this._is_menu_click=!this._is_menu_click;this._item_focus(this._items[this._clickitemindex],this._is_menu_click);break;}var _r=this._popupmenu_find(this);if(_r!=this){var _s=this._item_find(_r);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}else{_g.on_notify_menuitem_onclick(this._menuitemonmouseenter);this._is_menu_click=!this._is_menu_click;this._item_focus(this._items[this._clickitemindex],this._is_menu_click);}}else{var _r=this._menuitemonmouseenter.parent;_r.on_notify_menuitem_onclick(this._menuitemonmouseenter);if(!this._menuitemonmouseenter.itemexpand){this._menuitemonmouseenter=_j[this._menuitemindex];if(this._menuitemonmouseenter){this._menuitemonmouseenter._stat_change("notselect","normal");}}else{var _v=_h[this._popupitemindex];if(_v&&_v.enable){_g._previousitem=this._popupitemindex;_g._closeflag=true;_g._showPopup(_v);var _s=this._item_find(_g);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else{this._menuitemindex=0;}}}}break;case _o.KEY_ESC:if(_i){_g._closePopup();var _h=_g.parent._items[_g.parent._previousitem];this._item_focus(_h,true);this._menuitemindex=_h.index;this._menuitemonmouseenter=_h;}break;default:break;}this._key_action=false;}return nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pMenu._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,false);}};_pMenu._do_scroll=function(_a,_b){var _c=this._items?this._items.length: -1;if(_c>0){var _d=nexacro.Event;switch(_a){case _d.KEY_LEFT:if(this._menuitemindex==0){var _e=this._getViewItemQty(_b,_c);if(this._scrollIndex!=0){this._scrollIndex=0;}else if(this._items[this._menuitemindex]._pseudo!="normal"){this._scrollIndex=_c-_e;}if(this._scrollIndex> -1){this._calcMenuItem();this._updateMenuItemPosition();}_e=null;}else if(this._menuitemindex==this._scrollIndex){this._spinup();}break;case _d.KEY_RIGHT:var _e=this._getViewItemQty(_b,_c);if((this._menuitemindex==(_c-1))||((this._menuitemindex==0)&&(this._scrollIndex!=0))){this._scrollIndex=0;this._calcMenuItem();this._updateMenuItemPosition();}else if(_e==(this._menuitemindex-this._scrollIndex+1)){this._spindown();}_e=null;break;default:break;}}_c=null;};_pMenu._setFocus=function(_a,_b,_c){var _d=this.setFocus(_a);var _e=this._items;var _f=_e.length-1;if(_f>0){if(_b>=2){this._focus_obj=this;this._menuitemindex= -1;}else{if(_b==0||_b==1){this._previousitem=this._menuitemindex=0;}this._focus_obj=_e[this._menuitemindex];if(this._focus_obj&&(!this._menuitemonmouseenter||((this._focus_obj.index!=this._menuitemonmouseenter.index)||(this._menuitemonmouseenter.index==0)))){this._closePopup();}this._menuitemonmouseenter=this._focus_obj;this._key_action=true;this._item_focus(this._focus_obj,true);this._key_action=false;}}else{if(nexacro._enableaccessibility){this._focus_obj=this;}this._previousitem=0;this._menuitemindex= -1;this._do_defocus(this._last_focused,true);this._on_focus(true);}return _d;};_pMenu._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro._skipDragEventAfterMsgBox=false;var _m=this._getForm();_m._skip_comp=true;var _n=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);var _o=this._getFromComponent(this);if(!_o.onlbuttondown||(_o.onlbuttondown&&!_o.onlbuttondown.defaultprevented)){this.on_lbuttondown_default_action(_a,this._focus_refer_comp,_f,_g);_n=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}_m._skip_comp=false;return _n;};_pMenu._on_activate=function(){if(!this._is_alive){return;}if(!this._isSelected()){this._stat_change("focus","normal");if(this._items&&this._items.length>0){this._menuitemindex=0;this._menuitemonmouseenter=this._items[this._menuitemindex];this._item_focus(this._menuitemonmouseenter,true);}}};_pMenu._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this._popupmenu){return this._popupmenu._on_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);}return true;};_pMenu.on_notify_menuitem_onmouseleave=function(_a,_b){if(_a.selected||(this._popupmenu&&this._popupmenu._isVisible())){this._item_focus(_a,true);}else{this._menuitemindex=0;}this._last_mouseleave_iteminfo.index=_a.index;this._last_mouseleave_iteminfo.bindindex=_a._bindindex;this._last_mouseleave_iteminfo.level=_a.parent.level;if(this._overedobj){this._overedobj=null;}};_pMenu.on_notify_menuitem_onmouseenter=function(_a,_b){if((_a&&!_a.enable&&!this._key_action)||!(_a instanceof nexacro.MenuItem)){return;}var _c=this._popupmenu;this._menuitemonmouseenter=_a;this._previousitem=_a.index;if(_c){if(_c._is_popup()||this._is_menu_click){var _d=this._is_menu_click;if(this.beforeindex!=_a.index){this.beforeindex=_a.index;}if(!this._menuitemonmouseenter.selected){this._cancelPopup=true;_c.cancelPopup();this._cancelPopup=false;if(_a.enable){this._showPopup(_a);}}this._menuitemindex=_a.index;this._popupitemindex= -1;this._is_menu_click=_d;}}else{if(this._is_menu_click){if(_a.enable){this._showPopup(_a);}}}var _e=this._items;this._menuitemindex=_a.index;this._previousitem=_a.index;if(this._is_menu_click){_e[_a.index].selected=true;this._item_focus(_e[_a.index],true);this._clickitemindex=_a.index;}else{this._item_focus(_e[_a.index],true);}return true;};_pMenu.on_notify_menuitem_onclick=function(_a,_b){if(_a.enable==false||this._getPopupType()=="none"){return;}if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){this._on_focus(true);if(!_a.itemexpand&&(_a==this._menuitemonmouseenter)){this._close_popup=!this._close_popup;var _c=this._getRootComponent(_a);this.on_fire_onitemclick(_c,"onmenuclick",_a.id,_a.userdata,_a.index,_a.parent.level);_c=null;}if(!this._is_menu_click){return;}if(this._items){var _d=this._items[this._menuitemindex];if(_d){if(_d==_a){this._item_focus(_d,true);}}else{this._item_focus(this._items[this._previousitem],false);this._item_focus(this._items[this._clickitemindex],false);}if(nexacro._enableaccessibility){this._focus_obj=_d;}}this._menuitemonmouseenter=_d;this._popupitemindex= -1;this._popupitempreviousindex=0;this._previousitem=0;this._clickitemindex=_a.index;}this._previousitem=_a.index;};_pMenu.on_notify_menuitem_onlbuttondown=function(_a,_b){var _c=this._popupmenu;if(_c&&_c._is_popup()){if(this.beforeindex!=_a.index){this.beforeindex=_a.index;}this._cancelPopup=true;_c.cancelPopup();this._cancelPopup=false;this._previousitem=this._menuitemindex=_a.index;this._popupitemindex= -1;this._close_popup=true;this._is_menu_click=false;this._clickitemindex= -1;return;}else{this._menuitemonmouseenter=_a;this._previousitem=this._menuitemindex=_a.index;}this._menuitemindex=_a.index;if(!this._key_action){if(!this._is_menu_click){this._is_menu_click=true;}else{_a.selected=false;this._item_focus(_a,false);this._is_menu_click=false;return;}}if(this._is_menu_click){_a.selected=true;if(_a.itemexpand){this._showPopup(_a);}else{return;}this._item_focus(_a,true);}};_pMenu.on_notify_menuitem_onrbuttondown=function(_a,_b){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){this._on_focus(true);}};_pMenu.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f){if(this.onmenuclick&&this.onmenuclick._has_handlers){var _g=new nexacro.MenuClickEventInfo(_a,_b,_c,_d,_e,_f);this.onmenuclick._fireEvent(this,_g);}};_pMenu.cancelPopup=function(){var _a=this._popupmenu;if(_a){if(_a.isPopup()){_a.cancelPopup();}if(this._is_menu_click){this._is_menu_click=false;}}return true;};_pMenu.isPopup=function(){return this._isPopupVisible();};_pMenu.trackPopup=function(_a,_b,_c,_d){_a=parseInt(_a);this._track_capture=_d=(_d===false||_d=="false")?false:true;var _e=this.on_find_CurrentStyle_popupitemalign();var _f=this._items;if(_f&&_f[_a]&&!this._is_menu_click){this._is_menu_click=true;this._showPopup(_f[_a],_b,_c,_d);this._menuitemindex=_f[_a].index;return true;}return false;};_pMenu._calcMenuItem=function(){var _a=this._innerdataset;var _b=0;var _c=0;var _d=_a.getRowCount();var _e,_f,_g,_h,_i,_j;var _k=this._buttonRect;if(_k[0]){for(var _o=0;_o<this._scrollIndex;_o++ ){_b-=_k[_o].width;}if(this._is_spin_visible){if(this._scrollIndex==0){_b=this._spin_width;}}}var _l=0;var _m=false;this._item_total_width=0;for(var _o=0;_o<_d;_o++ ){_f=_a.getColumn(_o,this.idcolumn);_g=_a.getColumn(_o,this.levelcolumn);if(_g==0){_e=_a.getColumn(_o,this.captioncolumn);size=this._getTextSize(_e);_j=this.on_find_CurrentStyle_itemborder(this._pseudo);_h=this.on_find_CurrentStyle_itempadding(this._pseudo);_i=Math.ceil(size[0])+(_j?_j._left_width+_j._right_width:0)+(_h?_h.left+_h.right:0);if(this._is_spin_visible&&(_b+_i>this._client_width-this._spin_width)){_b=this._client_width;}var _n={left:0,top:0,right:0,bottom:0,width:0};_n.left=_b;_n.top=0;_n.right=_b+_i;_n.bottom=this._client_height;_n.width=_i;_b+=_i;this._item_total_width+=_i;if(!_m&&this._is_spin_visible&&this._scrollIndex>0&&_b>=0){_m=true;_b+=this._spin_width;}_k[_l]=_n;_l++ ;}}};_pMenu._calcSpinButton=function(){if(!this.spindownbutton&&!this.spinupbutton){return;}var _a=this._buttonRect;var _b=_a.length;if(_b>0&&(this._item_total_width>this._client_width)&&this._spin_width>0){this._is_spin_visible=true;this.spinupbutton.set_visible(true);this.spinupbutton.move(0,0,this._spin_width,this._client_height);var _c=this._spin_width;var _d=this._client_width;this.spindownbutton.set_visible(true);this.spindownbutton.move(_d-_c,0,_c,this._client_height);this._scrollIndex=this._scrollIndex_tmp;var _e=0;for(var _f=this._scrollIndex;_f<_b;_f++ ){if(_a[_f].right>(this._client_width-(this._spin_width*2))){break;}_e+=_a[_f].width;}if(_f==_b){for(var _g=this._scrollIndex-1;_g>=0;_g-- ){_e+=_a[_g].width;if(_e>(this._client_width-(this._spin_width*2))){break;}-- this._scrollIndex;}this._scrollIndex_tmp=this._scrollIndex;}}else{this._scrollIndex=0;this._is_spin_visible=false;this.spinupbutton.set_visible(false);this.spindownbutton.set_visible(false);}};_pMenu._updateMenuItemPosition=function(){var _a=this._buttonRect;var _b=this._items;var _c=_b?_b.length:0;for(var _d=0;_d<_c;_d++ ){_b[_d].move(_a[_d].left,_a[_d].top,_a[_d].width,_a[_d].bottom);}};_pMenu._createMenu=function(_a){var _b=this.getElement();if(_b){this._destroySpinButton();this._createSpinbutton();this._deleteMenu();var _c=this._innerdataset;if(_c&&this.captioncolumn&&this.captioncolumn&&this.idcolumn){var _d=0;var _e=_c.getRowCount();var _f,_g,_h,_i,_j,_k,_l,_m,_n,_o;var _p;var _q=this._buttonRect;this._calcMenuItem();this._calcSpinButton();this._calcMenuItem();var _r=0;for(var _s=0;_s<_e;_s++ ){_h=_c.getColumn(_s,this.hotkeycolumn);_i=_c.getColumn(_s,this.idcolumn);_j=_c.getColumn(_s,this.levelcolumn);if(_h&&(_s==_e-1||_j>=_c.getColumn(_s+1,this.levelcolumn))){this._set_hotkey(_i,_h);}if(_j==0){_f=_c.getColumn(_s,this.captioncolumn);_g=_c.getColumn(_s,this.enablecolumn);_k=_c.getColumn(_s,this.userdatacolumn);var _p=new nexacro.MenuItem("item","absolute",_q[_r].left,0,_q[_r].width,_q[_r].bottom,null,null,this);_p._is_subcontrol=true;_p.userdata=_k;_p._bindindex=_s;_p.index=_d++ ;_p.datarow=_s;_p.id=_i?_i:"";_p.level=_j;if(_f){_p.set_text(_f);}_p._setEventHandler("onlbuttondown",this.on_notify_menuitem_onlbuttondown,this);_p._setEventHandler("onrbuttondown",this.on_notify_menuitem_onrbuttondown,this);_p._setEventHandler("onlbuttonup",this.on_notify_menuitem_onclick,this);if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_p._setEventHandler("onmouseenter",this.on_notify_menuitem_onmouseenter,this);_p._setEventHandler("onmouseleave",this.on_notify_menuitem_onmouseleave,this);}if(_s==_c.getRowCount()-1){_p.itemexpand=false;}else{_j=_c.getColumn(_s+1,this.levelcolumn);if(_j<=this.level){_p.itemexpand=false;}}_p.set_enable(_g==false||_g=="false"?false:true);_p.createComponent();this._items.push(_p);_p=null;_r++ ;}}this._focus_obj=this._clickitemindex> -1?this._items[this._clickitemindex]:null;}}};_pMenu._deleteMenu=function(){var _a=this._hot_key_list;var _b=_a.length;var _c=this._getMainForm();for(var _e=0;_e<_b;_e++ ){nexacro._unregisterHotkeyComp(_c,this,_a[_e].key);}this._hot_key_list=[];var _d=this._items;if(_d){var _b=_d.length;for(var _e=0;_e<_b;_e++ ){_d[_e].destroy();_d[_e]=null;}this._items=[];}};_pMenu._createSpinbutton=function(){if(!this.spinupbutton){this.spinupbutton=new nexacro.MenuSpinButtonCtrl("spinupbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton.createComponent();this.spinupbutton.set_visible(false);this.spinupbutton._setEventHandler("onclick",this.on_notify_spinup_onclick,this);this.spinupbutton.on_created();this._is_spin_visible=false;}if(!this.spindownbutton){this.spindownbutton=new nexacro.MenuSpinButtonCtrl("spindownbutton",this.position,0,0,0,0,null,null,this);this.spindownbutton.createComponent();this.spindownbutton.set_visible(false);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindown_onclick,this);this.spindownbutton.on_created();this._is_spin_visible=false;}};_pMenu._destroySpinButton=function(){if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}};_pMenu._getTextSize=function(_a){var _b=this.on_find_CurrentStyle_font(this._pseudo)||nexacro.Component._default_font;var _c=this.on_find_CurrentStyle_letterspace(this._pseudo);return nexacro._getTextSize2(_c,_a,_b,null,null,null,this._rtldirection);};_pMenu._getViewItemQty=function(_a,_b){if(!_a){return;}var _c=0;var _d=0;var _e=this.width-this._spin_width-this._spin_width;for(i=this._scrollIndex;i<_b;i++ ){_d+=this._buttonRect[i].width;_c=i-_a._scrollIndex;if(_d>_e){break;}}_e=null;_d=null;return _c;};_pMenu._loaded_expImage=function(_a,_b,_c){this._expImage_width=_b;this._expImage_height=_c;};_pMenu._loaded_chkImage=function(_a,_b,_c){this._chkImage_width=_b;this._chkImage_height=_c;};_pMenu._load_image=function(_a,_b){var _c=this._control_element;if(_c){var _d=(_a&&_a!="")?_a._value:"";if(_d){_d=nexacro._getURIValue(_d);_d=nexacro._getImageLocation(_d,this._getRefFormBaseUrl());var _e;if(_b){_e=nexacro._getImageSize(_d,this._loaded_expImage,this,undefined,(_a?_a._value:""));if(_e){this._expImage_width=_e.width;this._expImage_height=_e.height;}}else{_e=nexacro._getImageSize(_d,this._loaded_chkImage,this,undefined,(_a?_a._value:""));if(_e){this._chkImage_width=_e.width;this._chkImage_height=_e.height;}}}}};_pMenu._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrow;this._want_arrow=nexacro._enableaccessibility;return {want_tab:false,want_return:true,want_escape:false,want_chars:false,want_arrows:_e};};_pMenu._showPopup=function(_a,_b,_c,_d){if(this._getPopupType()=="none"){return;}if(this._innerdataset&&this.levelcolumn&&this.captioncolumn&&this.idcolumn&&_a&&_a.itemexpand==true){var _e=this._popupmenu;this._track_capture=_d=(_d===false||_d=="false")?false:true;if(_e==null){_e=this._popupmenu=new nexacro.PopupMenuCtrl("popupmenu","absolute",0,0,0,0,null,null,this);_e._is_subcontrol=true;_e._scrollIndex=0;_e._scrollIndex_tmp=0;_e.level=1;_e.index=_a.index;_e.datarow=_a.datarow+1;_e.selfpopup=false;_e.setInnerDataset(this._innerdataset);_e.set_captioncolumn(this.captioncolumn);_e.set_iconcolumn(this.iconcolumn);_e.set_checkboxcolumn(this.checkboxcolumn);_e.set_hotkeycolumn(this.hotkeycolumn);_e.set_idcolumn(this.idcolumn);_e.set_levelcolumn(this.levelcolumn);_e.set_userdatacolumn(this.userdatacolumn);_e.set_enablecolumn(this.enablecolumn);_e.style.set_checkboximage(this.currentstyle.checkboximage);_e.style.set_expandimage(this.currentstyle.expandimage);_e._track_capture=_d;_e.createComponent();_e._setRtlDirection(this._rtldirection);_e._setEventHandler("oncloseup",this.on_notify_onclosepopup,this);_e.style.popuptype=this.style.popuptype;_e._trackPopup(_a,"vertical",_b,_c);}else{_e.datarow=_a.datarow+1;_e.style.popuptype=this.style.popuptype;_e._track_capture=_d;_e._trackPopup(_a,"vertical",_b,_c);}if(_e._is_popup()){var _f=this._getWindow();if(_f){if(this._track_capture){_f._setCaptureLock(this,true,false);}else{_f._releaseCaptureLock();}}}this._close_popup=false;}};_pMenu._isPopupVisible=function(){var _a=this._popupmenu;return _a?_a._is_popup():false;};_pMenu._callbackFromDataset=function(_a,_b){this._createMenu();};_pMenu._closePopup=function(){var _a=this._popupmenu;if(this._is_menu_click){this._is_menu_click=false;}if(_a){_a.cancelPopup();var _b=this._getWindow();if(_b&&this._track_capture){_b._releaseCaptureLock(this);}}var _c=this._items;if(_c&&_c[this._clickitemindex]){_c[this._clickitemindex].selected=false;this._item_focus(_c[this._clickitemindex],false);}this._menuitemindex=0;this._popupitemindex= -1;if(!this._cancelPopup&&this._cancelPopup!==undefined){if(_c&&_c[this._clickitemindex]){_c[this._clickitemindex].selected=false;}}else if(this._cancelPopup===undefined){this._is_menu_click=false;}this._menuitemonmouseenter=_c[this._menuitemindex];};_pMenu._process_mousemove=function(_a,_b){if(!(_a instanceof nexacro.Menu)&&!(_a instanceof nexacro.PopupMenu)&&!(_a instanceof nexacro.PopupMenuItem)){this.on_notify_menuitem_onmouseenter(_a,_b);}};_pMenu._killfocus_item=function(){var _a=(nexacro.OS=="Android"||nexacro.OS=="iOS"||nexacro.OS=="Windows Phone")&&!application.enabletouchevent;var _b=this._items;if(_b&&!this._isPopupVisible()){var _c=_b[this._menuitemindex]?_b[this._menuitemindex]:null;if(!_a||(_a&&_c&&!_c.selected)){this._is_menu_click=false;this._clickitemindex= -1;if(_c){_c._killfocus_item();}this._menuitemindex=0;}_c=null;}};_pMenu._on_killfocus=function(_a,_b){if(!this._is_alive||application._is_on_alert){return;}if(!(this&&this.parent&&(this.parent instanceof nexacro.PopupMenu||this.parent instanceof nexacro.PopupMenuCtrl))){var _c=this._cancelPopup;this._cancelPopup=true;this._closePopup();this._cancelPopup=_c;}var _d=this._items;if(_d){this._item_focus(_d[this._previousitem],false);this._item_focus(_d[this._clickitemindex],false);if(_d[this._clickitemindex]){_d[this._clickitemindex]._stat_change("notselect","normal");}}_d=null;this._clickitemindex= -1;};_pMenu.on_notify_onclosepopup=function(_a,_b){var _c=this._getWindow();if(_c&&this._track_capture){_c._releaseCaptureLock(this);}this._closePopup();};_pMenu.on_notify_spinup_onclick=function(_a,_b){this._closePopup();this._spinup();};_pMenu.on_notify_spindown_onclick=function(_a,_b){this._closePopup();this._spindown();};_pMenu._spinup=function(){if(this._scrollIndex>0){this._scrollIndex-- ;this._scrollIndex_tmp=this._scrollIndex;this._calcMenuItem();this._updateMenuItemPosition();}};_pMenu._spindown=function(){var _a=this._buttonRect;var _b=_a?_a.length:0;if(_b==0){return;}if(_a[_b-1].right>this._client_width){this._scrollIndex++ ;this._scrollIndex_tmp=this._scrollIndex;this._calcMenuItem();this._updateMenuItemPosition();}};_pMenu._processHotkey=function(_a,_b,_c,_d,_e){var _f=this.on_find_CurrentStyle_autohotkey(this.pseudo);if(_f&&nexacro._toBoolean(_f._value)){var _g=this._hot_key_list;var _h=_g.length;var _i=null;var _j=null;for(var _k=0;_k<_h;_k++ ){_i=_g[_k].key;if(_i._keycode==_a){_j=_i._modifierkey;if(_b==((_j&0x02)==0x02)&&_c==((_j&0x01)==0x01)&&_d==((_j&0x04)==0x04)){this.on_fire_onitemclick(this,"onmenuclick",_g[_k].id,"",_g[_k].index,_g.level);return;}}}}nexacro.Component.prototype._processHotkey.call(this,_a,_b,_c,_d,_e);};_pMenu._set_hotkey=function(_a,_b){var _c=this.hotkey;var _d=this._hotkey;this._hotkey=null;this.set_hotkey(_b);var _e=this._hotkey;this.hotkey=_c?_c:null;this._hotkey=_d?_d:null;var _f={id:_a,key:_e};this._hot_key_list.push(_f);};_pMenu._item_focus=function(_a,_b){if(_a){if(nexacro._enableaccessibility){if(_b){if(_a instanceof nexacro.PopupMenuItem){_a._on_focus(false);}else{_a._on_focus(true);}}else{var _c=this._getWindow();if(_c){_c._removeFromCurrentFocusPath(_a,true);}}}if(_a.on_apply_mouseover){var _d=_a.parent?_a.parent._items:null;var _e=_d?_d.length: -1;for(i=0;i<_e;i++ ){_d[i]._control_pseudo="";_d[i].selected=false;_d[i].on_apply_custom_pseudo("normal");_d[i].on_apply_mouseover(false);}_d=null;_a.selected=this._is_menu_click?_b:_a.selected;_a.on_apply_mouseover(_b);}}};_pMenu._item_find=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return _a._items;}return _a._popupmenu._items;};_pMenu._popupmenu_visible=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return false;}return true;};_pMenu._popupmenu_find=function(_a){var _b=_a;while(_b){if(_b._popupmenu===null||_b._popupmenu.visible==false){break;}var _b=_b._popupmenu;}return _b;};_pMenu._popupmenuitem_extend=function(_a){return _a.itemexpand;};_pMenu._popupmenuitem_find=function(_a){var _b=_a._overedobj;while(_b){if(_b._overedobj===null){break;}var _b=_b._overedobj;}return _b;};_pMenu._find_lastFocused=function(){var _a=this._getForm();if(!_a){return null;}var _b=_a._last_focused;while(_b&&_b._is_form){var _c=_b._getLastFocused();if(!_c){break;}_b=_c;}return _b;};delete _pMenu;nexacro.MenuSpinButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pMenuSpinButtonCtrl=nexacro.MenuSpinButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.MenuSpinButtonCtrl);_pMenuSpinButtonCtrl._processHotkey=function(_a,_b,_c,_d){var _e=this.parent;if(_e){return _e._processHotkey(_a,_b,_c,_d);}};delete _pMenuSpinButtonCtrl;_pMenuSpinButtonCtrl=null;nexacro.MenuCtrl=function(_a,_b,_c,_d,_e,_f){nexacro.Menu.call(this,_a,_b,_c,_d,_e,_f);this._is_subcontrol=true;};var _pMenuCtrl=nexacro.MenuCtrl.prototype=nexacro._createPrototype(nexacro.Menu,nexacro.MenuCtrl);_pMenuCtrl._type_name="MenuControl";nexacro._setForControlStyleFinder(_pMenuCtrl);delete _pMenuCtrl;};if(!nexacro.PopupMenuItem){nexacro.PopupMenuItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MenuItem.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.chkimgctrl=null;this.imgctrl=null;this.expimgelem=null;this.gap=5;this.chkwidth=0;this.textwidth=0;this.hotkeywidth=0;this.expwidth=0;this.expheight=0;this.index=0;this.datarow=0;this.itemexpand=true;this.value=false;this.expandimage="";this.checkimage="";this.id="";this.enable=true;this.icon="";this.userdata=null;this.buttonalign="";this._text_elem=null;this._hotkey_txtelem=null;this._hotkey_string="";this._accessibility_role="menuitem";};var _pPopupMenuItem=nexacro._createPrototype(nexacro.MenuItem,nexacro.PopupMenuItem);nexacro.PopupMenuItem.prototype=_pPopupMenuItem;_pPopupMenuItem._type_name="PopupMenuItem";_pPopupMenuItem.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_itemborder(_a);};_pPopupMenuItem.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_itembackground(_a);};_pPopupMenuItem.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_itembordertype(_a);};_pPopupMenuItem.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_itemgradation(_a);};_pPopupMenuItem.on_find_CurrentStyle_padding=function(_a){return this.parent.on_find_CurrentStyle_itempadding(_a);};_pPopupMenuItem.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_itemaccessibility(_a);};_pPopupMenuItem.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pPopupMenuItem.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}if(this._hotkey_txtelem){this._hotkey_txtelem.setElementColor(_a);}};_pPopupMenuItem.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}if(this._hotkey_txtelem){this._hotkey_txtelem.setElementFont(_a);}};_pPopupMenuItem.on_apply_style_letterspace=function(_a){if(this._text_elem){this._text_elem.setElementLetterSpace(_a);}if(this._hotkey_txtelem){this._hotkey_txtelem.setElementLetterSpace(_a);}};_pPopupMenuItem.on_apply_style_accessibility=function(_a){var _b=this._control_element;if(_b&&_a){_b.setAccessibility(_a);this._updateAccessibilityLabel(this);}};_pPopupMenuItem._getWindowPosition=function(){return nexacro.Component.prototype._getWindowPosition.call(this);};_pPopupMenuItem.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this.checkimage){var _c=this.chkimgctrl=new nexacro.ImageViewerCtrl("chkimg","absolute",0,0,0,0,null,null,this);_c.style.set_rtlimagemirroring("true");this.on_apply_checkimage();_c.createComponent();}else if(this.icon){this._load_image(this.icon,"icon");var _d=this.imgctrl=new nexacro.ImageViewerCtrl("iconimg","absolute",0,0,0,0,null,null,this);this.on_apply_icon();_d.createComponent();}if(this.text){var _e=this._text_elem=new nexacro.TextBoxElement(_a);_e.setElementFont(_b.font);_e.setElementColor(_b.color);_e.setElementLetterSpace(_b.letterspace);}if(this._hotkey_string){var _f=this._hotkey_txtelem=new nexacro.TextBoxElement(_a);_f.setElementFont(_b.font);_f.setElementColor(_b.color);_f.setElementLetterSpace(_b.letterspace);}var _g=this.expandimage;if(_g){this._load_image(_g._value);}}};_pPopupMenuItem.on_created_contents=function(){var _a=this._text_elem;var _b=this._hotkey_txtelem;var _c=this.chkimgctrl;var _d=this.imgctrl;var _e=this.expimgelem;if(_c){_c.on_created();}if(_d){_d.on_created();}if(_e){_e.create();}if(_b){this.on_apply_hotkeytext();_b.create();}if(_a){_a.create();}};_pPopupMenuItem.on_destroy_contents=function(){if(this.imgctrl){this.imgctrl.destroy();this.imgctrl=null;}if(this.chkimgctrl){this.chkimgctrl.destroy();this.chkimgctrl=null;}if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._hotkey_txtelem){this._hotkey_txtelem.destroy();this._hotkey_txtelem=null;}if(this.expimgelem){this.expimgelem.destroy();this.expimgelem=null;}};_pPopupMenuItem.on_change_containerRect=function(_a,_b){var _c=this._text_elem,_d=this._hotkey_txtelem;var _e=0,_f=0;if(this.parent&&this.parent.text_height){_e=this.parent.text_height;}if(this.parent){_f=this.parent.on_find_CurrentStyle_itemheight();}};_pPopupMenuItem._setValue=function(_a){if(this.value!=_a){this.value=_a;this.on_apply_value();}};_pPopupMenuItem.on_apply_value=function(){var _a=this.parent.on_find_CurrentStyle_checkboximage(this._pseudo);this._setCheckimage(_a);};_pPopupMenuItem._setIcon=function(_a){if(this.icon!=_a){this.icon=_a;this.on_apply_icon();}};_pPopupMenuItem.on_apply_icon=function(){if(this.imgctrl){this.imgctrl.set_image(this.icon);}};_pPopupMenuItem._setExpandimage=function(_a){if(this.expandimage!=_a){this.expandimage=_a;this.on_apply_expandimage();}};_pPopupMenuItem.on_apply_expandimage=function(){var _a=this.expimgelem;var _b=this.expandimage;if(_a){if(this.itemexpand){if(_b!=""){this._load_image(_b);}else{_a=new nexacro.TextBoxElement(control_elem);this.expimgelem=_a;_a.setElementText(">");_a.setElementFont(this.currentstyle.font);if(this._is_created){_a.create();}}}}};_pPopupMenuItem._setCheckimage=function(_a){if(this.checkimage!=_a){this.checkimage=_a;this.on_apply_checkimage();}};_pPopupMenuItem.on_apply_checkimage=function(){if(this.chkimgctrl){if(this._isChecked()==true){this.chkimgctrl.set_image(this.checkimage);}else{this.chkimgctrl.set_image("");}}};_pPopupMenuItem._setText=function(_a){if(_a!=this.text){this.text=_a;this.on_apply_text();}};_pPopupMenuItem.on_apply_text=function(){var _a=this._control_element;if(_a){var _b=this._text_elem;if(!_b){_b=new nexacro.TextBoxElement(_a);this._text_elem=_b;_b.setElementSize(this._width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementLetterSpace(this.curstyle.letterspace);if(this._is_created){_b.create();}}if(this.text||this.text===""){_b.setElementText(this.text);}}};_pPopupMenuItem._setHotkey=function(_a){if(_a!=this._hotkey_string){this._hotkey_string=_a;this.on_apply_hotkeytext();}};_pPopupMenuItem.on_apply_hotkeytext=function(){var _a=this._control_element;if(_a){var _b=this._hotkey_txtelem;if(!_b){_b=new nexacro.TextBoxElement(_a);this._hotkey_txtelem=_b;_b.setElementSize(this._width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementLetterSpace(this.currentstyle.letterspace);if(this._is_created){_b.create();}}if(this._hotkey_string||this._hotkey_string===""){_b.setElementText(this._hotkey_string);}}};_pPopupMenuItem._setUserdata=function(_a){if(_a!=this.userdata){this.userdata=_a;}};_pPopupMenuItem.on_apply_mouseover=function(_a){if(_a){this._stat_change("normal","mouseover");}else{this._stat_change("normal","normal");}};_pPopupMenuItem.on_apply_style_rtlimagemirroring=function(_a){return;};_pPopupMenuItem.on_apply_prop_rtldirection=function(){var _a=this.getElement();var _b=this._rtldirection;var _c=this.chkimgctrl;var _d=this.imgctrl;var _e=this.expimgelem;if(_a){_a.setElementRtlDirection(_b);if(_c){_c._setRtlDirection(_b);}if(_d){_d._setRtlDirection(_b);}if(_e){_e.setElementImageMirror(null,true);}}};_pPopupMenuItem.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=(nexacro.OS=="Android"||nexacro.OS=="iOS"||nexacro.OS=="Windows Phone")&&!application.enabletouchevent;var _o=this._getRootComponent(this);if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _p=_o._menuitemonmouseenter;if(_n&&_o instanceof nexacro.Menu){_p=this.parent?this.parent._menuitemonmouseenter:_p;if(!_p.itemexpand){_o.on_fire_onitemclick(_p,"onmenuclick",_p.id,_p.userdata,_p.index,_p.parent.level);}}if(_n||((_p==_l)&&(_p._pseudo=="mouseover"))){var _q=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireSysEvent(this,_q);}}return false;};_pPopupMenuItem.on_mouseleave_basic_action=function(_a){};_pPopupMenuItem._isChecked=function(){var _a=this.value;if(!!_a||_a.toString().toLowerCase()=="true"){return true;}return false;};_pPopupMenuItem._verticalAlign=function(_a){if(this.chkimgctrl){this.chkimgctrl.set_imagealign("center "+_a.toString());}};_pPopupMenuItem._load_image=function(_a){var _b=this._control_element;if(_b){if(_a){var _c=this.expimgelem;if(!_c){_c=new nexacro.ImageElement(_b);this.expimgelem=_c;_c.setElementImageUrl(_a);_c.setElementImageMirror(null,true);if(this._is_created){_c.create();}}else{_c.setElementImageUrl(_a);}}}};_pPopupMenuItem._updateElementPositions=function(_a,_b,_c,_d){if(!this._is_created_contents){return;}var _e=this._text_elem;if(_e){var _f=this._client_width;var _g=this._adjust_height;var _h=this._client_height;var _i=this.chkwidth,_j=this.expwidth,_k=this.expheight,_l=this.iconimgwidth;var _m="left",_n="middle";var _o="lefttext",_p="middle";var _q,_r,_s,_t;var _u=0,_v=_c;var _w=this.chkimgctrl;var _x=this.expimgelem,_y=this._hotkey_txtelem;_q=_i==0?_l:_i;_r=0;_s=_i+_l+_a;_t=_s+_b;if(_w){_w.move(0,0,_i,_h,null,null);}if(this.imgctrl){this.imgctrl.move(0,0,_l,_h,null,null);}if(this.itemexpand&&_x){var _z=this._convertLeftForRtlLayout((_f-_j),_j);_x.setElementPosition(_z,((_h-_k)/2)|0,true);_x.setElementSize(_j,_k);if(_y){_y.setElementVisible(false);}}else if(_y){_y.setElementVisible(true);_y.setElementPosition(_d,0,true);_y.setElementSize(_f,_h);_y.setElementAlignXY(_m,_n);_y.setElementPaddingXY(_s,_r,0,0);}if(_h<=_c){_e.setElementPosition(0,0,true);}_e.setElementSize(_f,_h);_e.setElementAlignXY(_m,_n);_e.setElementPaddingXY(_q,_r,0,0);}};_pPopupMenuItem._getWidth=function(){var _a=this.chkwidth;if(this.textwidth>0){_a+=(this.textwidth+this.gap);}if(this.hotkeywidth>0&&this.expwidth>0){var _b=Math.max(this.hotkeywidth,this.expwidth);_a+=(_b+this.gap);}else{if(this.hotkeywidth>0){_a+=(this.hotkeywidth+this.gap);}_a+=this.expwidth;}return _a;};_pPopupMenuItem._updateAccessibilityLabel=function(_a){var _b=this._getRootComponent(this);var _c=_b._innerdataset.getRowCount();_a._setAccessibilityInfoIndex(_a.datarow+1);_a._setAccessibilityInfoCount(_c);_a._setAccessibilityFlagHasPopup(_a.itemexpand?true:false);};delete _pPopupMenuItem;}if(!nexacro.PopupMenu_Style){nexacro.PopupMenu_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);if(_a){this._target=_a;}this.itemalign=null;this.itemheight=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.itemaccessibility=null;this.popuptype=null;this.buttonsize=null;this.buttonalign=null;this.autohotkey=null;};var _pPopupMenuStyle=nexacro.PopupMenu_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.PopupMenu_Style);eval(nexacro._createAlignAttributeEvalStr("_pPopupMenuStyle","itemalign"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","itemheight"));eval(nexacro._createBackgroundAttributeEvalStr("_pPopupMenuStyle","itembackground"));eval(nexacro._createBorderAttributeEvalStr("_pPopupMenuStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pPopupMenuStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pPopupMenuStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pPopupMenuStyle","itempadding"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","checkboximage"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","expandimage"));eval(nexacro._createAccessibilityAttributeEvalStr("_pPopupMenuStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","popuptype"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","buttonsize"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","buttonalign"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","autohotkey"));_pPopupMenuStyle.__custom_emptyObject=function(){this.itemalign=null;this.itemheight=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.itemaccessibility=null;this.popuptype=null;this.buttonsize=null;this.buttonalign=null;this.autohotkey=null;};_pPopupMenuStyle.__get_custom_style_value=function(){var _a="";var _b=this.itemalign;if(_b&&_b._value.length){_a+="itemalign:"+_b._value+"; ";}var _c=this.itemheight;if(_c&&_c._value.length){_a+="itemheight:"+_c._value+"; ";}var _d=this.itembackground;if(_d&&_d._value.length){_a+="itembackground:"+_d._value+"; ";}var _e=this.itemborder;if(_e&&_e._value.length){_a+="itemborder:"+_e._value+"; ";}var _f=this.itembordertype;if(_f&&_f._value.length){_a+="itembordertype:"+_f._value+"; ";}var _g=this.itemgradation;if(_g&&_g._value.length){_a+="itemgradation:"+_g._value+"; ";}var _h=this.itempadding;if(_h&&_h._value.length){_a+="itempadding:"+_h._value+"; ";}var _i=this.checkboximage;if(_i&&_i._value.length){_a+="checkboximage:"+_i._value+"; ";}var _j=this.expandimage;if(_j&&this.expandimage._value.length){_a+="expandimage:"+_j._value+"; ";}var _k=this.itemaccessibility;if(_k&&_k._value.length){_a+="itemaccessibility:"+_k._value+"; ";}var _l=this.popuptype;if(_l&&_l._value.length){_a+="itemaccessibility:"+_l._value+"; ";}var _m=this.buttonsize;if(_m&&_m._value.length){_a+="buttonsize:"+_m._value+"; ";}var _n=this.buttonalign;if(_n&&_n._value.length){_a+="buttonalign:"+_n._value+"; ";}var _o=this.autohotkey;if(_o&&_o._value.length){_a+="autohotkey:"+_o._value+"; ";}return _a;};nexacro.PopupMenu_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemalign=null;this.itemheight=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.itemaccessibility=null;this.popuptype=null;this.buttonsize=null;this.buttonalign=null;this.autohotkey=null;};var _pPopupMenuCurrentStyle=nexacro.PopupMenu_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.PopupMenu_CurrentStyle);_pPopupMenuCurrentStyle.__custom_emptyObject=_pPopupMenuStyle.__custom_emptyObject;_pPopupMenuCurrentStyle.__get_custom_style_value=_pPopupMenuStyle.__get_custom_style_value;delete _pPopupMenuStyle;delete _pPopupMenuCurrentStyle;}if(!nexacro.PopupMenu){nexacro.MenuCloseUpEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"oncloseup";this.fromobject=_a;this.fromreferenceobject=_a;this.isselect=_c;};var _pMenuCloseUpEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuCloseUpEventInfo);nexacro.MenuCloseUpEventInfo.prototype=_pMenuCloseUpEventInfo;_pMenuCloseUpEventInfo._type_name="MenuCloseUpEventInfo";delete _pMenuCloseUpEventInfo;nexacro.MenuClickEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_b||"onmenuclick";this.id=_c;this.fromobject=this.fromreferenceobject=_a;this.index=_e;this.level=_f;this.userdata=_d;};var _pMenuClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuClickEventInfo);nexacro.MenuClickEventInfo.prototype=_pMenuClickEventInfo;_pMenuClickEventInfo._type_name="MenuClickEventInfo";delete _pMenuClickEventInfo;nexacro.PopupMenu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.datarow=0;this.level=0;this.selfpopup=true;this.beforeindex= -1;this.innerdataset="";this.captioncolumn="";this.checkboxcolumn="";this.enablecolumn="";this.hotkeycolumn="";this.iconcolumn="";this.idcolumn="";this.levelcolumn="";this.userdatacolumn="";this._popupmenu=null;this._hot_key_list=[];this._items=[];this._attached_comp=this;this._is_subcontrol=false;this._previousitem=0;this._popupitemindex= -1;this._popupitempreviousindex= -1;this._closeflag=true;this._want_tab=true;this._selected_itemindex= -1;this._last_mouseleave_iteminfo={bindindex: -1,index: -1,level: -1};this._iconImage_width=0;this._iconImage_height=0;this._innerdataset="";this._lineItems=[];this._is_popupmenu_mouseover=false;this.spinupbutton=null;this.spindownbutton=null;this._spin_height=20;this._scrollIndex=0;this._buttonRect=[];this._buttonRect_elem=[];this._accessibility_role="menu";this._want_arrow=true;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onmenuclick":1,"onpopup":1,"onmousedown":1,"onmouseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oncloseup":1};};var _pPopupMenu=nexacro._createPrototype(nexacro.PopupComponent,nexacro.PopupMenu);nexacro.PopupMenu.prototype=_pPopupMenu;_pPopupMenu._type_name="PopupMenu";nexacro.PopupMenu._default_buttonsize=nexacro._getCachedStyleObj("buttonsize", -1);nexacro.PopupMenu._default_buttonalign=nexacro._getCachedStyleObj("buttonalign","auto");_pPopupMenu.on_create_custom_style=function(){return new nexacro.PopupMenu_Style(this);};_pPopupMenu.on_create_custom_currentStyle=function(){return new nexacro.PopupMenu_CurrentStyle();};_pPopupMenu.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_itemalign(_a);if(_f&&_b.itemalign!=_f){_b.itemalign=_f;this.on_apply_style_itemalign(_f);}var _g=this.on_find_CurrentStyle_itemheight(_a);if(_g&&_b.itemheight!=_g){_b.itemheight=_g;this.on_apply_style_itemheight(_g);}var _h=this.on_find_CurrentStyle_itemborder(_a);if(_h&&this._compareitemBorder(_b.itemborder,_h)){_b.itemborder=_h;this.on_apply_style_itemborder(_h);}var _i=this.on_find_CurrentStyle_itembordertype(_a);if(_i&&_b.itembordertype!=_i){_b.itembordertype=_i;this.on_apply_style_itembordertype(_i);}var _j=this.on_find_CurrentStyle_itemgradation(_a);if(_j&&_b.itemgradation!=_j){_b.itemgradation=_j;this.on_apply_style_itemgradation(_j);}var _k=this.on_find_CurrentStyle_itempadding(_a);if(_k&&this._compareitemPadding(_b.itempadding,_k)){_b.itempadding=_k;this.on_apply_style_itempadding(_k);}var _l=this.on_find_CurrentStyle_checkboximage(_a);if(_l&&_b.checkboximage!=_l){_b.checkboximage=_l;this.on_apply_style_checkboximage(_l);}var _m=this.on_find_CurrentStyle_expandimage(_a);if(_m&&_b.expandimage!=_m){_b.expandimage=_m;this.on_apply_style_expandimage(_m);}var _n=this.on_find_CurrentStyle_itemaccessibility(_a);if(_n&&_b.itemaccessibility!=_n){_b.itemaccessibility=_n;this.on_apply_style_itemaccessibility(_n);}var _o=this.on_find_CurrentStyle_popuptype(_a);if(_o&&_b.popuptype!=_o){_b.popuptype=_o;}var _p=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_p!=_b.rtlimagemirroring){_b.rtlimagemirroring=_p;this.on_apply_style_rtlimagemirroring(_p);}var _q=this.on_find_CurrentStyle_buttonsize(_a);if(_q!=_b.buttonsize){_b.buttonsize=_q;this.on_apply_style_buttonsize(_q);}var _r=this.on_find_CurrentStyle_buttonalign(_a);if(_r!=_b.buttonalign){_b.buttonalign=_r;this.on_apply_style_buttonalign(_r);}var _s=this.on_find_CurrentStyle_autohotkey(_a);if(_s!=_b.autohotkey){_b.autohotkey=_s;}if(this.spinupbutton){this.spinupbutton._control_pseudo="";this.spinupbutton._contents_pseudo="";this.spinupbutton.on_apply_pseudo(_a);}if(this.spindownbutton){this.spindownbutton._control_pseudo="";this.spindownbutton._contents_pseudo="";this.spindownbutton.on_apply_pseudo(_a);}};_pPopupMenu._compareitemPadding=function(_a,_b){if(!_a){return true;}if(_a.top!=_b.top||_a.left!=_b.left||_a.right!=_b.right||_a.bottom!=_b.bottom){return true;}return false;};_pPopupMenu._compareitemBorder=function(_a,_b){if(!_a){return true;}if(_a._value!=_b._value){return true;}return false;};_pPopupMenu.on_find_CurrentStyle_popuptype=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_popuptype(_a);}return this._find_pseudo_obj("popuptype",_a);};_pPopupMenu.on_find_CurrentStyle_itemalign=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemalign(_a);}return this._find_pseudo_obj("itemalign",_a,"align");};_pPopupMenu.on_find_CurrentStyle_itemheight=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitemheight(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemheight(_a);}return this._find_pseudo_obj("itemheight",_a);};_pPopupMenu.on_find_CurrentStyle_itembackground=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitembackground(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itembackground(_a);}return itembackground=this._find_pseudo_obj("itembackground",_a,"background");};_pPopupMenu.on_find_CurrentStyle_itemborder=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitemborder(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemborder(_a);}return this._find_pseudo_obj("itemborder",_a,"border");};_pPopupMenu.on_find_CurrentStyle_itembordertype=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitembordertype(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itembordertype(_a);}return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pPopupMenu.on_find_CurrentStyle_itemgradation=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitemgradation(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemgradation(_a);}return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pPopupMenu.on_find_CurrentStyle_itempadding=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitempadding(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itempadding(_a);}return this._find_pseudo_obj("itempadding",_a,"padding");};_pPopupMenu.on_find_CurrentStyle_checkboximage=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_checkboximage(_a);}return this._find_pseudo_obj("checkboximage",_a);};_pPopupMenu.on_find_CurrentStyle_expandimage=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_expandimage("normal");}return this._find_pseudo_obj("expandimage","normal");};_pPopupMenu.on_find_CurrentStyle_popupitembackground=function(_a){if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_popupitembackground(_a);}return this.parent._find_pseudo_obj("popupitembackground",_a,"background");};_pPopupMenu.on_find_CurrentStyle_popupitempadding=function(_a){if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_popupitempadding(_a);}return this.parent._find_pseudo_obj("popupitempadding",_a,"padding");};_pPopupMenu.on_find_CurrentStyle_background=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupbackground(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("background",_a,"background");}else{return this._getMenuObj()._find_pseudo_obj("popupbackground",_a,"background");}}return this._find_pseudo_obj("background",_a,"background");};_pPopupMenu.on_find_CurrentStyle_font=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupfont(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_inherit_pseudo_obj("font",_a,"font");}else{return this._getMenuObj()._find_pseudo_obj("popupfont",_a,"font");}}return this._find_inherit_pseudo_obj("font",_a,"font");};_pPopupMenu.on_find_CurrentStyle_letterspace=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_letterspace(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_inherit_pseudo_obj("letterspace",_a,"letterspace");}else{return this._getMenuObj()._find_pseudo_obj("letterspace",_a,"letterspace");}}return this._find_inherit_pseudo_obj("letterspace",_a,"letterspace");};_pPopupMenu.on_find_CurrentStyle_color=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupcolor(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_inherit_pseudo_obj("color",_a,"color")||this._defaultcolor;}else{return this._getMenuObj()._find_pseudo_obj("popupcolor",_a,"color")||this._defaultcolor;}}return this._find_inherit_pseudo_obj("color",_a,"color")||this._defaultcolor;};_pPopupMenu.on_find_CurrentStyle_border=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupborder(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("border",_a,"border");}else{return this._getMenuObj()._find_pseudo_obj("popupborder",_a,"border");}}return this._find_pseudo_obj("border",_a,"border");};_pPopupMenu.on_find_CurrentStyle_bordertype=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupbordertype(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("bordertype",_a,"bordertype");}else{return this._getMenuObj()._find_pseudo_obj("popupbordertype",_a,"bordertype");}}return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pPopupMenu.on_find_CurrentStyle_padding=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popuppadding();}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("padding",_a,"padding");}else{return this._getMenuObj()._find_pseudo_obj("popuppadding",_a,"padding");}}return this._find_pseudo_obj("padding",_a,"padding");};_pPopupMenu.on_find_CurrentStyle_itemaccessibility=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemaccessibility(_a)||nexacro.Component._default_accessibility;}return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pPopupMenu.on_find_CurrentStyle_cusor=function(_a){return nexacro.Component.prototype.on_find_CurrentStyle_cusor.call(this._getRootComponent(this));};_pPopupMenu.on_find_CurrentStyle_opacity=function(_a){return nexacro.Component.prototype.on_find_CurrentStyle_opacity.call(this._getRootComponent(this));};_pPopupMenu.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pPopupMenu.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||nexacro.PopupMenu._default_buttonsize;};_pPopupMenu.on_find_CurrentStyle_buttonalign=function(_a){return this._find_pseudo_obj("buttonalign",_a)||nexacro.PopupMenu._default_buttonalign;};_pPopupMenu.on_find_CurrentStyle_autohotkey=function(_a){return this._find_pseudo_obj("autohotkey",_a)||nexacro.Menu._default_autohotkey;};_pPopupMenu.on_apply_custom_class=function(){if(this._popupmenu){this._popupmenu.on_apply_prop_class();}};_pPopupMenu.on_apply_style_color=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_color(_b[_d]._pseudo);_b[_d].on_apply_style_color(_a);}}};_pPopupMenu.on_apply_style_font=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_font(_b[_d]._pseudo);_b[_d].on_apply_style_font(_a);}}};_pPopupMenu.on_apply_style_letterspace=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_letterspace(_b[_d]._pseudo);_b[_d].on_apply_style_letterspace(_a);}}};_pPopupMenu.on_apply_style_cursor=function(_a){var _b=this._control_element;if(_b){_b.setElementCursor(_a);}var _c=this._items;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e].on_apply_style_cursor(_a);}}};_pPopupMenu.on_apply_style_opacity=function(_a){nexacro.Component.prototype.on_apply_style_opacity.call(this);var _b=this._popupmenu;if(_b){_b.on_apply_style_opacity(_a);}};_pPopupMenu.on_apply_style_padding=function(_a){nexacro.Component.prototype.on_apply_style_padding.call(this);var _b=this._popupmenu;if(_b){_b.on_apply_style_padding(_a);}};_pPopupMenu.on_apply_style_itemalign=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_itemalign(_b[_d]._pseudo);_b[_d].on_apply_style_align(_a);}}};_pPopupMenu.on_apply_style_itembackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_itembackground(_b[_d]._pseudo);_b[_d].on_apply_style_background(_a);}}};_pPopupMenu.on_apply_style_itemborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_itemborder(_b[_d]._pseudo);_b[_d].on_apply_style_border(_a);}}};_pPopupMenu.on_apply_style_itembordertype=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_itembordertype(_b[_d]._pseudo);_b[_d].on_apply_style_bordertype(_a);}}};_pPopupMenu.on_apply_style_itemgradation=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_itemgradation(_b[_d]._pseudo);_b[_d].on_apply_style_gradation(_a);}}};_pPopupMenu.on_apply_style_itempadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_itempadding(_b[_d]._pseudo);_b[_d].on_apply_style_padding(_a);}this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();}};_pPopupMenu.on_apply_style_itemheight=nexacro._emptyFn;_pPopupMenu.on_apply_style_checkboximage=function(_a){if(!_a){_a=this.currentstyle.checkboximage;}this._load_image(_a,"chk");var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setCheckimage(_a._value);}}if(this._popupmenu){this._popupmenu.style.set_checkboximage(_a);}this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();};_pPopupMenu.on_apply_style_expandimage=function(_a){if(!_a){_a=this.currentstyle.expandimage;}var _b=this._load_image(_a,"exp");var _c=this._items;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e]._setExpandimage(_b);}}if(this._popupmenu){this._popupmenu.style.set_expandimage(_a);}};_pPopupMenu.on_apply_style_itemaccessibility=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_accessibility(_a);}}};_pPopupMenu.on_apply_style_rtlimagemirroring=function(_a){return;};_pPopupMenu.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;var _b=this._items.length;var _c=null;for(var _e=0;_e<_b;_e++ ){_c=this._getItem(_e);_c._setRtlDirection(_a);}var _d=this._popupmenu;if(_d){_d._setRtlDirection(_a);}};_pPopupMenu.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){var _c=this._items;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e]._setEnable(_a);}}};_pPopupMenu.on_apply_style_buttonsize=function(_a){if(_a&&_a._value!= -1){this._spin_height=parseInt(_a._value);}else{this._spin_height=20;}this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();};_pPopupMenu.on_apply_style_buttonalign=function(_a){if(_a){var _b=_a._value;if(_b=="none"){this._spin_height=0;}else{var _c=this.on_find_CurrentStyle_buttonsize(this._pseudo);if(_c&&_c._value!= -1){this._spin_height=parseInt(_c._value);}else{this._spin_height=20;}}}this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();};_pPopupMenu.on_apply_style_autohotkey=nexacro._emptyFn;_pPopupMenu.on_update_style_color=function(){if(!this._is_subcontrol){this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo);}var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].on_update_style_color();}}if(this._popupmenu){this._popupmenu.on_update_style_color();}};_pPopupMenu.on_update_style_font=function(){if(!this._is_subcontrol){this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo);}var _a=this._items;if(_a){var _b=_a.length;for(var _d=0;_d<_b;_d++ ){_a[_d].on_update_style_font();}}var _c=this._popupmenu;if(_c){_c.on_update_style_font();}};_pPopupMenu.on_update_style_align=function(){if(!this._is_subcontrol){this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo);}var _a=this._items;if(_a){var _b=_a.length;for(var _d=0;_d<_b;_d++ ){_a[_d].on_update_style_align();}}var _c=this._popupmenu;if(_c){_c.on_update_style_align();}};_pPopupMenu.on_update_style_border=function(){this.on_apply_style_border(this.currentstyle.border=this.on_find_CurrentStyle_border(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_border();}};_pPopupMenu.on_update_style_bordertype=function(){this.on_apply_style_bordertype(this.currentstyle.bordertype=this.on_find_CurrentStyle_bordertype(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_bordertype();}};_pPopupMenu.on_update_style_background=function(){this.on_apply_style_background(this.currentstyle.background=this.on_find_CurrentStyle_background(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_background();}};_pPopupMenu.on_update_style_gradation=function(){this.on_apply_style_gradation(this.currentstyle.gradation=this.on_find_CurrentStyle_gradation(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_gradation();}};_pPopupMenu.on_update_style_opacity=function(){this.on_apply_style_opacity(this.currentstyle.opacity=this.on_find_CurrentStyle_opacity(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_opacity();}};_pPopupMenu.on_update_style_shadow=function(){this.on_apply_style_shadow(this.currentstyle.shadow=this.on_find_CurrentStyle_shadow(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_shadow();}};_pPopupMenu.on_update_style_cursor=function(){this.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_cursor();}};_pPopupMenu.on_update_style_padding=function(){nexacro.Component.prototype.on_update_style_padding.call(this);var _a=this._popupmenu;if(_a){_a.on_update_style_padding();}};_pPopupMenu.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);var _a=this._popupmenu;if(_a){_a.on_update_style_popuptype();}};_pPopupMenu.on_update_style_itemalign=function(){this.on_apply_style_itemalign(this.currentstyle.itemalign=this.on_find_CurrentStyle_itemalign(this._pseudo));};_pPopupMenu.on_update_style_itemheight=function(){this.on_apply_style_itemheight(this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemheight();}};_pPopupMenu.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itembackground();}};_pPopupMenu.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemborder();}};_pPopupMenu.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itembordertype();}};_pPopupMenu.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemgradation();}};_pPopupMenu.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itempadding();}};_pPopupMenu.on_update_style_checkboximage=function(){this.on_apply_style_checkboximage(this.currentstyle.checkboximage=this.on_find_CurrentStyle_checkboximage(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_checkboximage();}};_pPopupMenu.on_update_style_expandimage=function(){this.on_apply_style_expandimage(this.currentstyle.expandimage=this.on_find_CurrentStyle_expandimage(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_expandimage();}};_pPopupMenu.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemaccessibility();}};_pPopupMenu.on_update_style_buttonsize=function(){this.on_apply_style_buttonsize(this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo));};_pPopupMenu.on_update_style_buttonalign=function(){this.on_apply_style_buttonalign(this.currentstyle.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo));};_pPopupMenu.on_update_style_autohotkey=function(){this.on_apply_style_autohotkey(this.currentstyle.autohotkey=this.on_find_CurrentStyle_autohotkey(this._pseudo));};_pPopupMenu.on_create_contents=function(){var _a=this.getElement();if(_a){this._createPopupMenu();}if(!this._is_subcontrol){var _b=this.currentstyle;if(_b.checkboximage){this._load_image(_b.checkboximage,"chk");}if(_b.expandimage){this._load_image(_b.expandimage,"exp");}}if(this._innerdataset&&this.enablecolumn){this.on_apply_enablecolumn();}};_pPopupMenu.on_created_contents=function(){var _a=this.getElement();if(_a){if(!this._innerdataset&&this.innerdataset){this._innerdataset=this._findDataset(this.innerdataset);this.on_apply_innerdataset();}var _b=this._lineItems;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_created();}}if(nexacro._enableaccessibility){this.on_apply_style_itemaccessibility(this.on_find_CurrentStyle_itemaccessibility(this._pseudo));this._setAccessibilityInfoLevel(this.level);}this.on_apply_prop_rtldirection();}};_pPopupMenu.on_destroy_contents=function(){this._deletePopupMenu();if(this._innerdataset){this._innerdataset._removeEventHandler("onrowposchanged",this._callbackFromDataset,this);this._innerdataset._removeEventHandler("oncolumnchanged",this._callbackFromDataset,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callbackFromDataset,this);this._innerdataset=null;this.innerdataset=null;}this._hot_key_list=[];this._attached_comp=null;};_pPopupMenu.set_captioncolumn=function(_a){if(_a!=this.captioncolumn){this.captioncolumn=_a;var _b=this._popupmenu;if(_b){_b.set_captioncolumn(_a);}this.on_apply_captioncolumn();}};_pPopupMenu.on_apply_captioncolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setText(_a.getColumn(_b[_d].datarow,this.captioncolumn)||"");}}}};_pPopupMenu.set_checkboxcolumn=function(_a){if(_a!=this.checkboxcolumn){this.checkboxcolumn=_a;var _b=this._popupmenu;if(_b){_b.set_checkboxcolumn(_a);}this.on_apply_checkboxcolumn();}};_pPopupMenu.on_apply_checkboxcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setValue(_a.getColumn(_b[_d].datarow,this.checkboxcolumn)||false);}}}};_pPopupMenu.set_enablecolumn=function(_a){if(_a!=this.enablecolumn){this.enablecolumn=_a;var _b=this._popupmenu;if(_b){_b.set_enablecolumn(_a);}this.on_apply_enablecolumn();}};_pPopupMenu.on_apply_enablecolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_a.getColumn(_b[_e].datarow,this.enablecolumn);_d=_d==false||_d=="false"?false:true;_b[_e].set_enable(_d);}}}};_pPopupMenu.set_hotkeycolumn=function(_a){if(_a!=this.hotkeycolumn){this.hotkeycolumn=_a;var _b=this._popupmenu;if(_b){_b.set_hotkeycolumn(_a);}this.on_apply_hotkeycolumn();}};_pPopupMenu.on_apply_hotkeycolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setHotkey(_a.getColumn(_b[_d].datarow,this.hotkeycolumn)||"");}}}};_pPopupMenu.set_iconcolumn=function(_a){if(_a!=this.iconcolumn){this.iconcolumn=_a;if(this._popupmenu){this._popupmenu.set_iconcolumn(_a);}this.on_apply_iconcolumn();}};_pPopupMenu.on_apply_iconcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setIcon(_a.getColumn(_b[_d].datarow,this.iconcolumn)||"");}}}};_pPopupMenu.set_idcolumn=function(_a){if(_a!=this.idcolumn){this.idcolumn=_a;if(this._popupmenu){this._popupmenu.set_idcolumn(_a);}this.on_apply_idcolumn();}};_pPopupMenu.on_apply_idcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].id=_a.getColumn(_b[_d].datarow,this.idcolumn)||"";}}}};_pPopupMenu.set_levelcolumn=function(_a){if(_a!=this.levelcolumn){this.levelcolumn=_a;this.on_apply_levelcolumn();}};_pPopupMenu.on_apply_levelcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].level=_a.getColumn(_b[_d].datarow,this.levelcolumn)|| -1;}}}};_pPopupMenu.set_userdatacolumn=function(_a){if(_a!=this.userdatacolumn){this.userdatacolumn=_a;var _b=this._popupmenu;if(_b){_b.set_userdatacolumn(_a);}this.on_apply_userdatacolumn();}};_pPopupMenu.on_apply_userdatacolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].userdata=_a.getColumn(_b[_d].datarow,this.userdatacolumn)||null;}}}};_pPopupMenu.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pPopupMenu._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pPopupMenu.getInnerDataset=function(){return this._innerdataset;};_pPopupMenu.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}};_pPopupMenu.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){var _b=this._callbackFromDataset;_a._setEventHandler("onrowposchanged",_b,this);_a._setEventHandler("oncolumnchanged",_b,this);_a._setEventHandler("onrowsetchanged",_b,this);}this._createPopupMenu();this.beforeindex= -1;this.beforevalue="";this.beforeText="";};_pPopupMenu.on_mouseleave_basic_action=function(_a){if(_a){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else if(!this._isSelected()){var _b=this;var _c=true;while(_b){if(_b._is_alive==false){_c=false;break;}_b=_b.parent;}if(_c){this._stat_change("","normal");}var _d=this._items?this._items[this._previousitem]:null;if(_d&&this._popupmenuitem_extend(_d)){var _e=_d.parent;if(_e&&this._popupmenu_visible(_e)){_d._stat_change("enable","mouseover");}}}}else{if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else if(this._isSelected()){}else{if(this._is_form){this._stat_change("","normal");}else{if(this._find_lastFocused(this)==this){this._stat_change("","normal");}else{this._stat_change("notfocus","normal");}}}}};_pPopupMenu.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onlbuttondown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onlbuttondown._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(_a,"onlbuttonup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmousedown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onmousedown._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseenter",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onmouseenter._fireUserEvent(this,_n);}};_pPopupMenu.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=this._last_mouseleave_iteminfo;var _n=_l._overedobj||_l;var _o=new nexacro.MenuMouseEventInfo(this,"onmouseleave",_n.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.level,_m.index,_m.bindindex);return this.onmouseleave._fireUserEvent(this,_o);}return false;};_pPopupMenu.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._getRootComponent(this);if(_m._menuitemonmouseenter&&(_m._menuitemonmouseenter!=_l)&&(_l instanceof nexacro.PopupMenuItem)){this._process_mousemove(_l);}_m=null;if(this.onmousemove&&this.onmousemove._has_handlers){var _n=_l._overedobj||_l;var _o=new nexacro.MenuMouseEventInfo(this,"onmousemove",_n.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_k.parent.level,_n.index,_n._bindindex);return this.onmousemove._fireUserEvent(this,_o);}return false;};_pPopupMenu.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=_m._overedobj||_m;var _p=new nexacro.MenuDragEventInfo(this,"ondrag",_l.id,_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_m.parent.level,_o.index,_o._bindindex);return [this.ondrag._fireUserEvent(this,_p),this,_m,_n,_p.userdata];}return [false];};_pPopupMenu.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondrop",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.parent.level,_q.index,_q._bindindex);return this.ondrop._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragenter",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.parent.level,_q.index,_q._bindindex);return this.ondragenter._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=this._last_mouseleave_iteminfo;var _r=new nexacro.MenuDragEventInfo(this,"ondragleave",refer_comp.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_q.level,_q.index,_q.bindindex);return this.ondragleave._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragmove",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.parent.level,_q.index,_q._bindindex);return this.ondragmove._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._popupmenu_find(this);var _h=this._item_find(_g);var _i=this._popupmenu_visible(this);var _j=_h.length-1;var _k,_l=this._popupitemindex;var _m=this._getPopupType();var _n=this._getRootComponent(this);var _o=nexacro.Event;switch(_a){case _o.KEY_TAB:if(!_i){if(!_d&&this._popupitemindex==_j||_d&&this._popupitemindex<0){this._want_tab=false;this._closePopup();}else{if(_d==false){this._popupitemindex++ ;}else{this._popupitemindex-- ;}if(_h[this._popupitemindex]){_n._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else{this._item_focus(_n._menuitemonmouseenter,false);this._do_defocus(this._last_focused,true);this._on_focus(true);}}this.parent._getWindow()._keydown_element._event_stop=true;break;}else{if((!_d&&this._popupitemindex==_j)||(_d&&(this._popupitemindex==0||this._popupitemindex== -1))){_g._closePopup();var _g=this._popupmenu_find(this);var _h=this._item_find(_g);_n._menuitemonmouseenter=_h[_g._previousitem];_g._item_focus(_h[_g._previousitem],true);this._popupitemindex=_g._previousitem;}else{if(this._popupitemindex==0&&_h[this._popupitemindex]._pseudo!="mouseover"){}else{if(_d){this._popupitemindex-- ;}else{this._popupitemindex++ ;}}_n._menuitemonmouseenter=_h[this._popupitemindex];_g._item_focus(_h[this._popupitemindex],true);}this.parent._getWindow()._keydown_element._event_stop=true;break;}default:break;}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pPopupMenu.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this._is_subcontrol==false){var _g=this._popupmenu_find(this);var _h=this._item_find(_g);var _i=_h.length-1;var _j,_k=this._popupitemindex;var _l=this._getPopupType();var _m=this._getRootComponent(this);var _n=nexacro.Event;switch(_a){case _n.KEY_UP:if(_g._is_spin_visible){this._do_scroll(_a,_g);}this._popupitemindex=_m._popupitemindex;if(this._popupitemindex== -1){this._popupitemindex=0;}else{this._popupitemindex-- ;}if(this._popupitemindex<0){this._popupitemindex=_i;}_m._menuitemonmouseenter=_h[this._popupitemindex];_g._previousitem=this._popupitemindex;_g._item_focus(_h[this._popupitemindex],true);break;case _n.KEY_DOWN:if(_g._is_spin_visible){this._do_scroll(_a,_g);}this._popupitemindex=_m._popupitemindex;this._popupitemindex++ ;if(this._popupitemindex>_i){this._popupitemindex=0;}_m._menuitemonmouseenter=_h[this._popupitemindex];_g._previousitem=this._popupitemindex;_g._item_focus(_h[this._popupitemindex],true);break;case _n.KEY_LEFT:if((_g.parent instanceof nexacro.PopupMenu)==false){break;}else{_g._closePopup();this._popupitemindex=_g.parent._previousitem;var _h=this._item_find(_g.parent);_m._menuitemonmouseenter=_h[this._popupitemindex];_h[this._popupitemindex].parent._item_focus(_h[this._popupitemindex],true);_h[this._popupitemindex].parent._popupitemindex=this._popupitemindex;}break;case _n.KEY_RIGHT:if(_l=="none"){break;}this._popupitemindex=_m._popupitemindex;var _o=_h[this._popupitemindex];var _p=_o?this._popupmenuitem_extend(_o):null;var _q=_m._menuitemonmouseenter?_m._menuitemonmouseenter.parent:null;if(_q){if(_q._is_popupmenu_mouseover){var _r=this._popupmenuitem_mouseover(_a,_g,_h);if(_r){_g=_r.pThis;_p=_r.popupexpand;_h=_r.item;_o=_h[this._popupitemindex];}_r=null;}_q._is_popupmenu_mouseover=false;}_q=null;if(_p==true&&_o&&_o.enable){_g._previousitem=this._popupitemindex;_g.on_notify_menuitem_onmouseenter(_o);_g._is_popupmenu_mouseover=false;this._item_focus(_o,true);this._popupitemindex=0;_h=this._item_find(_g);_o=_h[this._popupitemindex];_m._menuitemonmouseenter=_o;_g._item_focus(_o,true);_g._popupitemindex=this._popupitemindex;}break;case _n.KEY_ENTER:if(_l=="none"){break;}var _o=_m._menuitemonmouseenter;var _q=_m._menuitemonmouseenter?_m._menuitemonmouseenter.parent:null;if(_o&&_q&&(_o._pseudo=="mouseover")){if(_q._is_popupmenu_mouseover){_g=this._popupmenuitem_mouseover(_a,_g,_h);_h=this._item_find(_g);}_q._is_popupmenu_mouseover=false;if(_g instanceof nexacro.Menu){_g.on_notify_menuitem_onlbuttondown(_o);}else if(_o.enable){_g._previousitem=this._popupitemindex;if(!_o.itemexpand){_g.on_notify_menuitem_onclick(_o);}else{_g.on_notify_menuitem_onlbuttondown(_o);}_g._is_popupmenu_mouseover=false;this._popupitemindex=0;_g=this._popupmenu_find(this);_h=this._item_find(_g);_o=_h[this._popupitemindex];_m._menuitemonmouseenter=_o;_g._item_focus(_o,true);_g._popupitemindex=this._popupitemindex;this._popupitempreviousindex=this._popupitemindex;}}break;default:break;}return nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);}};_pPopupMenu._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,false);}};_pPopupMenu._do_scroll=function(_a,_b){var _c=this._item_find(_b);var _d=_c?_c.length: -1;if(_d>0){var _e=nexacro.Event;switch(_a){case _e.KEY_UP:if(this._popupitemindex==0){var _f=this._getViewItemQty(_b,_d);_b._scrollIndex=_d-_f;if(_b._scrollIndex> -1){_b._reCalcSize();_b._calcSpinButton();_b._updateMenuItemPosition();}_f=null;}else if(this._popupitemindex==_b._scrollIndex){_b._spinup();}break;case _e.KEY_DOWN:var _f=this._getViewItemQty(_b,_d);if(this._popupitemindex==(_d-1)){_b._scrollIndex=0;_b._reCalcSize();_b._calcSpinButton();_b._updateMenuItemPosition();}else if(_f==(this._popupitemindex-_b._scrollIndex+1)){_b._spindown();}_f=null;break;default:break;}}_d=null;_c=null;};_pPopupMenu.on_notify_menuitem_onclick=function(_a,_b){var _c=this._getPopupType();this._previousitem=_a.index;if(_a.enable==false||_c=="none"){return;}if(_a.parent){_a.parent._is_popupmenu_mouseover=true;}if(_a.itemexpand==false){if(this.parent&&this.parent.enable==true){if(this.parent instanceof nexacro.Menu){{this.parent.on_notify_menuitem_onclick(_a,_b);}}else if(!(this.parent instanceof nexacro.PopupMenu)){if(this.onmenuclick&&this.onmenuclick._has_handlers){var _d=this._getRootComponent(_a);this.on_fire_onitemclick(_d,"onmenuclick",_a.id,_a.userdata,_a.index,_a.parent.level);this._popupitemindex= -1;}}else{this.parent.on_notify_menuitem_onclick(_a,_b);}this._closeAllPopup();}}};_pPopupMenu.on_notify_menuitem_onmouseenter=function(_a,_b){if(!_a.enable){return;}if(_a.parent){_a.parent._is_popupmenu_mouseover=true;}var _c=this._popupmenu;var _d=this._getRootComponent(_a);_d._popupitemindex=this._popupitemindex=_a.index;_d._menuitemonmouseenter=_a;if(_c&&_c._is_popup()){if(!this._popupmenuitem_extend(_a)||(this.beforeindex!=_a.index)){_c.cancelPopup();this._closeflag=true;this._showPopup(_a);}}else{if(this._getPopupType()!="none"){this._closeflag=true;this._showPopup(_a);if(!_c){_c=this._popupmenu;}}}this.beforeindex=_a.index;if(!nexacro._enableaccessibility){var _e=this._items;var _f=this.parent._items;this._item_focus(_e[_a.index],true);if(this._popupitempreviousindex== -1||this._popupitemindex== -1){this._popupitempreviousindex=0;this._popupitemindex=0;}if(_e.length<=this._popupitemindex){this._popupitemindex=_e.length-1;this._popupitempreviousindex=this._popupitemindex;}if(_f&&_f[this.parent._previousitem]){this._item_focus(_f[this.parent._previousitem],true);}if(_c&&_c._is_popup()==true){this._popupitemindex= -1;}else{this._popupitemindex=_a.index;}this._previousitem=_a.index;var _g=this._getRootComponent(this);if(_g instanceof nexacro.Menu){var _h=_g._items;if(_h[_g._menuitemindex]){_h[_g._menuitemindex].selected=true;this._item_focus(_h[_g._menuitemindex],true);}}}else{this._item_focus(_a,true);}};_pPopupMenu.on_notify_menuitem_onmouseleave=function(_a,_b){if(this._popupmenu&&this._popupmenu._isVisible()){this._item_focus(_a,true);}var _c=this._getRootComponent(this);_c._last_mouseleave_iteminfo.index=_a.index;_c._last_mouseleave_iteminfo.bindindex=_a._bindindex;_c._last_mouseleave_iteminfo.level=_a.parent.level;};_pPopupMenu.on_notify_menuitem_onlbuttondown=function(_a,_b){this._menuitemonmouseenter=_a;this._previousitem=_a.index;var _c=this._popupmenu;if(_c){if(_c._is_popup()){if(this.beforeindex!=_a.index){this.beforeindex=_a.index;}_c.cancelPopup();this._menuitemindex=_a.index;this._popupitemindex= -1;}}if(_a.itemexpand){this._closeflag=true;this._showPopup(_a);if(this._getRootComponent(_a) instanceof nexacro.Menu){this._getRootComponent(_a)._popupitemindex=_a.index;}}this._item_focus(_a,true);};_pPopupMenu.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f){this._selected_itemindex=_e;var _g=new nexacro.MenuClickEventInfo(_a,_b,_c,_d,_e,_f);this.onmenuclick._fireEvent(this,_g);};_pPopupMenu._on_bubble_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}if(_l===undefined){if(!_n){_n=this;if(!_n._is_reference_control){_n=this._getReferenceComponent(_n);}}if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],this,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],this,_n);if(_r){return false;}if(this.vscrollbar&&this.vscrollbar.enable){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OSVersion=="Mac OS"){if(this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}return;}if(_l===false){_l=undefined;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){var _y=this._getRecalcCanvasXY(_a,_h,_i);_h=_y[0];_i=_y[1];if(this._is_subcontrol){return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,null,_n,_o);}else{return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,this,_n,_o);}}}}}}else{if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);if(_r){return false;}if(this._isWheelScrollable(_c)&&this.vscrollbar&&this.vscrollbar.enable){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OSVersion=="Mac OS"){if(this._isWheelScrollable(_b)&&this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}return;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){_h+=this._adjust_left-this._scroll_left||0;_i+=this._adjust_top-this._scroll_top||0;return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,_m,_n,_o);}}}}}};_pPopupMenu.cancelPopup=function(){var _a=this.beforeindex;this._closePopup();if(this._items[_a]&&this._items[_a].notexpand&&(nexacro._enableaccessibility==false)){var _b=this._getRootComponent(this);if(_b instanceof nexacro.Menu){var _c=_b._items;for(var _d=0,_e=_c.length;_d<_e;_d++ ){_c[_d].selected=false;this._item_focus(_c[_d],false);}}}};_pPopupMenu.isPopup=function(){return this._is_popup();};_pPopupMenu.trackPopup=function(_a,_b,_c,_d){if(this.isPopup()){return;}this._selected_itemindex= -1;this._track_capture=_d===false?false:true;this._destroySpinButton();this._createSpinbutton();var _e=this._getAlignPosition(_a,_b,_c);if(!this._is_root_comp_menu()){this._adjust_left=_e[0];this._adjust_top=_e[1];}this.on_apply_innerdataset();this._reCalcSize();this.on_created();{var _f=0;var _g=this._getRootForm();if(_g&&_g.vscrollbar){_f=_g.vscrollbar.pos;}_b-=_f;}this._adjustPopupPosition( +_a, +_b,_c);this._calcSpinButton();this._updateMenuItemPosition();this._closeflag=true;this.setFocus();};_pPopupMenu.trackPopupByComponent=function(_a,_b,_c,_d,_e){if(this.isPopup()){return;}this._selected_itemindex= -1;this._track_capture=_e===false?false:true;this._destroySpinButton();this._createSpinbutton();this._reCalcSize();this.on_created();this._track_on=true;var _f=this._getAlignPosition(_b,_c,_d);this._calcSpinButton();this._updateMenuItemPosition();var _g=_f[0]<0?0:_f[0];var _h=_f[1]<0?0:_f[1];var _i=_h;var _j=this._width;var _k=this._height;var _l=_g+_j;var _m=_i+_k+(_a._adjust_top);{var _n=0;var _o=this._getRootForm();if(_o&&_o.vscrollbar){_n=_o.vscrollbar.pos;}_m-=_n;}var _p=this._getWindow();var _q=_p.clientWidth;var _r=_p.clientHeight;var _s=application.mainframe;var _t=0;var _u=0;if(_s&&nexacro.Browser=="Runtime"){var _v=_s.currentstyle.border;var _w=_v?(_v._top_width+_v._bottom_width):0;_t=_s.statusbar?_s.statusbar._client_height:0;_u=_s.titlebar?_s.titlebar._client_height:0;_r=_r-(_u+_t)-_w;}var _x=_l-_q;if(_l>_q&&_g>_x){_g=_g-_x;}if(_m>_r){var _o=this._getRootForm();var _n=_o.vscrollbar?_o.vscrollbar.pos:0;var _y=_o.vscrollbar?_o.vscrollbar.max:0;_i=(_r-_a._adjust_top-_a._adjust_height)-_k+_i+_n;if(_i<0){var _z=nexacro._getElementPositionInFrame(_a.getElement());if(_y>0){_i=(_r-_k-_z.y)+_t;if(nexacro.Browser=="Runtime"){_i+=_u+_w;}}else{_i= -(_h+_k)+(_r-_a._adjust_top);}}}this._track_on=true;var _aa=this._getCumulativeZoomFactor()/100.0;var _ab=this.getElement();if(_ab.setZoom){_ab.setZoom(_aa*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_ab,_aa*100);}this._popupBy(_a,_g,_i,this._width,this._height);this._closeflag=true;this.setFocus();};_pPopupMenu.on_change_containerRect=function(){};_pPopupMenu._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrow;var _f=this._want_tab;this._want_tab=true;return {want_tab:_f,want_return:true,want_escape:false,want_chars:false,want_arrows:_e};};_pPopupMenu._get_apply_padding_size=function(){var _a=this.on_find_CurrentStyle_padding(this._pseudo);var _b=0,_c=0,_d=0,_e=0;if(_a){_b=_a.left;_c=_a.right;_d=_a.bottom;_e=_a.top;}var _f=this._width+(_b+_c);var _g=this._height+(_e+_d);return {width:_f,height:_g};};_pPopupMenu._loaded_expImage=function(_a,_b,_c){this._expImage_width=_b;this._expImage_height=_c;if(this._is_popup()){var _d=this.getElement();if(_d){this._reCalcSize();this._updateMenuItemPosition();var _e=this._get_apply_padding_size();_d.setElementSize(_e.width,_e.height);}}};_pPopupMenu._loaded_chkImage=function(_a,_b,_c){this._chkImage_width=_b;this._chkImage_height=_c;if(this._is_popup()){var _d=this.getElement();if(_d){this._reCalcSize();this._updateMenuItemPosition();var _e=this._get_apply_padding_size();_d.setElementSize(_e.width,_e.height);}}};_pPopupMenu._loaded_iconImage=function(_a,_b,_c){this._iconImage_width=_b;this._iconImage_height=_c;if(this._is_popup()){var _d=this.getElement();if(_d){this._reCalcSize();this._updateMenuItemPosition();var _e=this._get_apply_padding_size();_d.setElementSize(_e.width,_e.height);}}};_pPopupMenu._load_image=function(_a,_b){var _c=this._control_element;if(_c){var _d=(_a&&_a!="")?_a._value:"";if(_d){_d=nexacro._getURIValue(_d);_d=nexacro._getImageLocation(_d,this._getRefFormBaseUrl());var _e;if(_b=="exp"){_e=nexacro._getImageSize(_d,this._loaded_expImage,this,undefined,(_a?_a._value:""));if(_e){this._expImage_width=_e.width;this._expImage_height=_e.height;}}else if(_b=="chk"){_e=nexacro._getImageSize(_d,this._loaded_chkImage,this,undefined,(_a?_a._value:""));if(_e){this._chkImage_width=_e.width;this._chkImage_height=_e.height;}}else if(_b=="icon"){_e=nexacro._getImageSize(_d,this._loaded_iconImage,this,undefined,(_a?_a._value:""));if(_e){this._iconImage_width=_e.width;this._iconImage_height=_e.height;}}return _d;}}};_pPopupMenu._getMaxTextSize=function(_a){var _b=[];_b[0]=0;_b[1]=0;var _c=this._innerdataset;if(_c){var _d=this._items;if(_d){var _e=_d.length;var _f=this.on_find_CurrentStyle_font(this._pseudo);var _g=this.on_find_CurrentStyle_letterspace(this._pseudo);for(var _j=0;_j<_e;_j++ ){var _h=_c.getColumn(_d[_j].datarow,_a);if(_h===undefined){break;}var _i=nexacro._getTextSize2(_g,_h,_f,null,null,null,_d[_j]._rtldirection);_b[0]=_i[0]>_b[0]?_i[0]:_b[0];_b[1]=_i[1]>_b[1]?_i[1]:_b[1];}}}return _b;};_pPopupMenu._getItem=function(_a){var _b=this._items;var _c=_b.length;if(_a>=0&&_b.length>0){return _b[_a];}return null;};_pPopupMenu._getViewItemQty=function(_a,_b){if(!_a){return;}var _c=0;var _d=0;var _e=this.height-this._spin_height-this._spin_height;for(i=_a._scrollIndex;i<_b;i++ ){_d+=_a._buttonRect[i].height;_c=i-_a._scrollIndex;if(_d>_e){break;}}_e=null;_d=null;return _c;};_pPopupMenu._createPopupMenu=function(){var _a=this.getElement();if(_a){this._deletePopupMenu();var _b=this._innerdataset;if(_b&&this.levelcolumn&&this.captioncolumn&&this.idcolumn){var _c=0;var _d=0;if(this.currentstyle.itemheight&&this.currentstyle.itemheight._value!=""){_d=parseInt(this.currentstyle.itemheight._value,10)|0;}var _e=0,_f=_b.getRowCount();var _g=this.datarow;for(var _t=_g;_t<_f;_t++ ){var _h=_b.getColumn(_t,this.levelcolumn);var _i=_b.getColumn(_t,this.idcolumn);var _j=_b.getColumn(_t,this.hotkeycolumn);if(!this._is_subcontrol&&_j){if(_t==_f-1||_h>=_b.getColumn(_t+1,this.levelcolumn)){this._set_hotkey(_i,_j);}}if(_h==this.level){var _k=_b.getColumn(_t,this.captioncolumn);if(_k=="-"){var _l=new nexacro.StaticCtrl("-","absolute",0,_c,0,1,null,null,this);_l.style.set_background("black");_l.createComponent();_l._bLine=true;_c+=1;this._lineItems.push(_l);continue;}var _m=new nexacro.PopupMenuItem("popup","absolute",0,_c,0,_d,null,null,this);_m._is_subcontrol=true;_c+=_d;_m._bindindex=_t;_m.index=_e++ ;_m.datarow=_t;_m.level=_h;var _n=_b.getColumn(_t,this.enablecolumn);_m.set_enable(_n==false||_n=="false"?false:true);if(_k){_m._setText(_k);}var _o=_b.getColumn(_t,this.checkboxcolumn);if(_o){_m._setValue(nexacro._toBoolean(_o));}if(_i){_m.id=_i;}if(_j){_m._setHotkey(_j);}var _p=_b.getColumn(_t,this.userdatacolumn);_m.userdata=_p;if(_p){_m._setUserdata(_p);}var _q=_b.getColumn(_t,this.iconcolumn);if(_q){if(!nexacro._toBoolean(_o)&&!_m.imgctrl){var _r=_m.imgctrl=new nexacro.ImageViewerCtrl("imgctrl","absolute",0,0,0,0,null,null,_m);_m._setIcon(_q);_m.imgctrl.createComponent();}}if(_t==_b.getRowCount()-1){_m.itemexpand=false;}else{_h=_b.getColumn(_t+1,this.levelcolumn);if(_h<=this.level){_m.itemexpand=false;}else{_m._setExpandimage(this.on_find_CurrentStyle_expandimage(this._pseudo));}}_m._setEventHandler("onlbuttonup",this.on_notify_menuitem_onclick,this);_m._setEventHandler("onlbuttondown",this.on_notify_menuitem_onlbuttondown,this);if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_m._setEventHandler("onmouseenter",this.on_notify_menuitem_onmouseenter,this);var _s=this._getRootComponent(this);if(_s.onmouseleave||_s instanceof nexacro.PopupMenu){_m._setEventHandler("onmouseleave",this.on_notify_menuitem_onmouseleave,this);}}_m.createComponent();this._items.push(_m);this._lineItems.push(_m);_m._real_visible=false;_m._setRtlDirection(this._rtldirection);}else if(_h<this.level){break;}}}}};_pPopupMenu._deletePopupMenu=function(){if(!this._is_subcontrol){var _a=this._hot_key_list;var _b=_a.length;var _c=this._getMainForm();if(_c){for(var _f=0;_f<_b;_f++ ){nexacro._unregisterHotkeyComp(_c,this,_a[_f].key);}}this._hot_key_list=[];}var _d=this._items;if(_d){var _b=_d.length;for(var _f=0;_f<_b;_f++ ){_d[_f].destroyComponent();_d[_f]=null;}this._items=[];}var _e=this._lineItems;if(_e){var _b=_e.length;for(var _f=0;_f<_b;_f++ ){_e[_f].destroyComponent();_e[_f]=null;}this._lineItems=[];}if(this._popupmenu){this._popupmenu.destroyComponent();this._popupmenu=null;}this._buttonRect=[];this._buttonRect_elem=[];this._scrollIndex=0;this._is_spin_visible=false;};_pPopupMenu._createSpinbutton=function(){if(!this.spinupbutton){this.spinupbutton=new nexacro.ImageButtonCtrl("spinupbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton.createComponent();this.spinupbutton.set_visible(false);this.spinupbutton._setEventHandler("onclick",this.on_notify_spinup_onclick,this);this.spinupbutton.on_created();this.spinupbutton._is_focus_accept=false;}if(!this.spindownbutton){this.spindownbutton=new nexacro.ImageButtonCtrl("spindownbutton",this.position,0,0,0,0,null,null,this);this.spindownbutton.createComponent();this.spindownbutton.set_visible(false);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindown_onclick,this);this.spindownbutton.on_created();this.spindownbutton._is_focus_accept=false;}this._is_spin_visible=false;this._scrollIndex=0;};_pPopupMenu._destroySpinButton=function(){if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}};_pPopupMenu._showPopup=function(_a){if(this._getPopupType()=="none"){return;}if(this._innerdataset&&this.levelcolumn&&this.captioncolumn&&this.idcolumn&&_a.itemexpand==true&&this.visible){var _b=this._popupmenu;if(!_b){_b=this._popupmenu=new nexacro.PopupMenuCtrl("popup","absolute",0,0,0,0,null,null,this);_b._scrollIndex=0;_b.level=this.level+1;_b.datarow=_a.datarow+1;_b.selfpopup=this.selfpopup;_b._closeflag=this._closeflag;_b._is_subcontrol=true;_b._track_capture=false;_b.parentPopupMenu=this;_b._is_loading=true;_b.setInnerDataset(this._innerdataset);_b.set_captioncolumn(this.captioncolumn);_b.set_checkboxcolumn(this.checkboxcolumn);_b.set_hotkeycolumn(this.hotkeycolumn);_b.set_idcolumn(this.idcolumn);_b.set_levelcolumn(this.levelcolumn);_b.set_userdatacolumn(this.userdatacolumn);_b.set_enablecolumn(this.enablecolumn);_b.set_iconcolumn(this.iconcolumn);_b._is_loading=true;if(this.currentstyle.checkboximage){_b.style.set_checkboximage(this.currentstyle.checkboximage._value);}if(this.currentstyle.expandimage){_b.style.set_expandimage(this.currentstyle.expandimage._value);}_b.createComponent();_b.currentstyle.popuptype=this.currentstyle.popuptype;_b._setRtlDirection(this._rtldirection);_b._trackPopup(_a,"horizontal");}else{_b.datarow=_a.datarow+1;if(this.selfpopup==true){_b.style=this.style;_b.currentstyle=this.currentstyle;}if(this._closeflag){_b._trackPopup(_a,"horizontal");}}}};_pPopupMenu._set_hotkey=function(_a,_b){var _c=this.hotkey;var _d=this._hotkey;this._hotkey=null;this.set_hotkey(_b);var _e=this._hotkey;this.hotkey=_c?_c:null;this._hotkey=_d?_d:null;var _f={id:_a,key:_e};this._hot_key_list.push(_f);};_pPopupMenu._processHotkey=function(_a,_b,_c,_d,_e){var _f=this.on_find_CurrentStyle_autohotkey(this.pseudo);if(_f&&nexacro._toBoolean(_f._value)){var _g=this._hot_key_list;var _h=_g.length;var _i=null;var _j=null;for(var _k=0;_k<_h;_k++ ){_i=_g[_k].key;if(_i._keycode==_a){_j=_i._modifierkey;if(_b==((_j&0x02)==0x02)&&_c==((_j&0x01)==0x01)&&_d==((_j&0x04)==0x04)){this.on_fire_onitemclick(this,"onmenuclick",_g[_k].id,"",_g[_k].index,_g.level);return;}}}}nexacro.Component.prototype._processHotkey.call(this,_a,_b,_c,_d,_e);};_pPopupMenu._adjustPopupPosition=function(_a,_b,_c,_d){var _e=this._getAlignPosition(_a,_b,_c);var _f=_e[0]<0?0:_e[0];var _g=_e[1]<0?0:_e[1];var _h=this._width;var _i=this._height;var _j=_f+_h;var _k=_g+_i;var _l=this._getWindow();var _m=_l.clientWidth;var _n=_l.clientHeight;var _o=_j-_m;if(_j>_m&&_f>_o){_f=_f-_o;}if(_k>_n){_g=_n-_i;}this._track_on=true;var _p=this._getCumulativeZoomFactor()/100.0;var _q=this.getElement();if(_q.setZoom){_q.setZoom(_p*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_q,_p*100);}this._popup(_f,_g,_h,_i);};_pPopupMenu._callbackFromDataset=function(_a,_b){this._createPopupMenu();};_pPopupMenu._getMainFrame=function(){var _a=this;while(_a&&!_a._is_main){_a=_a.parent;}return _a;};_pPopupMenu._trackPopup=function(_a,_b,_c,_d){this._createPopupMenu();this._reCalcSize();this.on_created();var _e,_f,_g,_h;var _i=this.parent;var _j=this._getMainFrame();var _k=nexacro._getElementPositionInFrame(_j.getElement());var _l=this.on_find_CurrentStyle_padding(this._pseudo);var _m=0,_n=0,_o=0,_p=0;if(_l){_m=_l.left;_n=_l.right;_o=_l.bottom;_p=_l.top;}var _q=this._getCumulativeZoomFactor()/100.0;var _r,_s,_t;var _u=this._width;var _v=this._height;var _w=_j;if(!_w){var _x=this._getWindow();var _y=_x.frame;var _z=_y;if(_y instanceof nexacro.MainFrame){_z=_y.frame;}if(!_z){_z=_y;}_w=_z;}var _aa=_k.x+_w._adjust_width;var _ab=_k.y+_w._adjust_height;_g=_u+_m+_n;_h=_v+_o+_p;if(_b=="horizontal"){_t=nexacro._getElementPositionInFrame(_i.getElement());var _j=this.getMainframe();if(_j){var _ac=_j._control_element;if(this._attached_comp._isRtl()){_t.x=_ac.client_width-_i._width-_t.x;}}_r=_i._client_width;_s=_i._client_height;_e=_r;_f=0;if(!_d){var _ad=_t.y+_a._adjust_top+_v;if(_ad>_ab){_f=_ab-_ad;}_f=_f*_q;}else{_f=_d;}if(!_c){var _ae=_t.x;var _af=_ae+_r;if(_af+_u>_aa){if(_ae-_u>0){_e= -_u;}}_e=_e*_q;}else{_e=_c;}}else{_t=nexacro._getElementPositionInFrame(_a.getElement());var _j=this.getMainframe();if(_j){var _ac=_j._control_element;if(this._attached_comp._isRtl()){_t.x=_ac.client_width-_i._width-_t.x;}}_r=0;_s=_a._adjust_height;_e=0,_f=_s;if(!_d){var _ad=_t.y+_s+_v;if(_ad>_ab){if(_k.y<(_t.y-_v)){_f= -_v;}else{_f=10;}}_f=_f*_q;}else{_f=_d;}if(!_c){var _ae=_t.x;if(_ae+_u>_aa){_e=_aa-_ae-_u;}else if(_ae<0){_e-=_ae;}_e=_e*_q;}else{_e=_c;}}var _ag=this.getElement();if(_ag.setZoom){_ag.setZoom(_q*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_ag,_q*100);}if(this._getPopupType()=="center"){var _ah=(_w._adjust_width/2)-(_g/2);var _ai=(_w._adjust_height/2)-(_h/2);this._adjustPopupPosition(_ah,_ai);}else{this._track_on=true;this._popupBy(_a,_e,_f,_g,_h);}this._destroySpinButton();this._createSpinbutton();this._calcSpinButton();this._updateMenuItemPosition();this.on_apply_pseudo();};_pPopupMenu._getMenuObj=function(){var _a=this.parent;while(!(_a instanceof nexacro.Menu)){_a=_a.parent;}return _a;};_pPopupMenu.iconimgwidth=0;_pPopupMenu._is_root_comp_menu=function(){var _a=false;var _b=this.parent;while(_b){if(_b instanceof nexacro.Menu||_b instanceof nexacro.Form){if(_b instanceof nexacro.Menu){_a=true;}break;}_b=_b.parent;}return _a;};_pPopupMenu._reCalcSize=function(){var _a=this._innerdataset;if(_a&&this.captioncolumn){var _b=this._items;if(!_b||_b.length==0){return;}var _c=_b.length;var _d=this._getMaxTextSize(this.captioncolumn);this.text_height=_d[1];var _e=_d[0];var _f=0;var _g=this._getRootComponent(this);var _h=0,_i=0,_j=0,_k=0;var _l=this.currentstyle;var _m=this.on_find_CurrentStyle_itemheight(this._pseudo);var _n=_m?parseInt(_m._value,10):20;var _o=_g.on_find_CurrentStyle_expandimage(this._pseudo);if(_o){_i=_g._expImage_width?_g._expImage_width:_n;_j=_g._expImage_height?_g._expImage_height:_n;if(_i==undefined){_i=0;}if(_j==undefined){_j=0;}}if(this.hotkeycolumn){_d=this._getMaxTextSize(this.hotkeycolumn);_f=_d[0];}for(var _av=0;_av<_c;_av++ ){if(_b[_av].value){if(_l.checkboximage){_h=_n;}break;}}for(var _av=0;_av<_c;_av++ ){if(_b[_av].icon){_k=_n;break;}}var _p=this.on_find_CurrentStyle_itempadding(this._pseudo);var _q=this.on_find_CurrentStyle_border(this._pseudo);var _r=0,_s=0;if(_p){_r=_p.left;_s=_p.right;}var _t=0,_u=0,_v=0,_w=0;if(_q){_t=_q._left_width;_u=_q._top_width;_v=_q._right_width;_w=_q._bottom_width;}var _x=20;var _y=_r+_h+_k+_e+(_f==0?0:_x+_f)+_n+_i+_s;var _z=0;for(var _av=0,_aw=this._lineItems.length;_av<_aw;_av++ ){var _aa=this._lineItems[_av];if(_aa._bLine){_z++ ;}}var _ab=(_n*_c)+_z;var _ac=this._getMainFrame();var _ad=_ac;if(!_ad){var _ae=this._getWindow();var _af=_ae.frame;var _ag=_af;if(_af instanceof nexacro.MainFrame){_ag=_af.frame;}if(!_ag){_ag=_af;}_ad=_ag;}var _ah=_ad._adjust_height;var _ai=_ab+_u+_w;var _aj=0;var _ak=this.parent;var _al=_ak._getForm();var _am=0;while(_al){if(_al._is_form){_am+=_al._adjust_top;}_al=_al.parent;if(_al instanceof nexacro.ChildFrame||_al instanceof nexacro.MainFrame){break;}}var _an=false;while(_ak){if(_ak instanceof nexacro.Menu||_ak instanceof nexacro.Form){if(_ak instanceof nexacro.Menu){_an=true;}_aj=_am+_ak._adjust_top+_ak._adjust_height;break;}_ak=_ak.parent;}if(!_an){_aj=_ai;if(_aj>_ah){_ai=_ah;}}else{if(_ai>(_ah-_aj)){if(_am+_ak._adjust_top<(_ah-_aj)){_ai=_ah-_aj;}else{if(_am+_ak._adjust_top<_ai){_ai=_am+_ak._adjust_top;}}}}this._width=_y+_t+_v;if(!this.visible){this.resize(this._width,_ai);}var _ao=0;var _ap=this._buttonRect;var _aq=this._buttonRect_elem;var _ar=this._buttonRect_line;if(_ap[0]){for(var _av=0;_av<this._scrollIndex;_av++ ){if(_ap[_av]){_ao-=_ap[_av].height;}}if(this._is_spin_visible){if(this._scrollIndex==0){_ao=this._spin_height;}else{_ao+=this._spin_height;}}}var _as=false;for(var _av=0,_aw=this._lineItems.length;_av<_aw;_av++ ){var _aa=this._lineItems[_av];if(_aa._bLine){var _at={left:0,top:0,right:0,bottom:0,width:0,height:0};_at.left=0;_at.top=_ao;_at.right=this._width;_at.bottom=_ao+1;_at.width=this._width;_at.height=1;_ap[_av]=_at;var _au={textWidth:0,hotkeyWidth:0,itemHeight:0,defaultGap:0};_au.textWidth=_e;_au.hotkeyWidth=_f;_au.itemHeight=_n;_au.defaultGap=_x;_aq[_av]=_au;_ao+=1;}else{_aa.chkwidth=_h;_aa.iconimgwidth=_k;_aa.textwidth=_e;_aa.hotkeywidth=_f;_aa.expwidth=_i;_aa.expheight=_j;var _at={left:0,top:0,right:0,bottom:0,width:0,height:0};_at.left=0;_at.top=_ao;_at.right=this._width;_at.bottom=_ao+_n;_at.width=this._width;_at.height=_n;_ap[_av]=_at;var _au={textWidth:0,hotkeyWidth:0,itemHeight:0,defaultGap:0};_au.textWidth=_e;_au.hotkeyWidth=_f;_au.itemHeight=_n;_au.defaultGap=_x;_aq[_av]=_au;if(nexacro._enableaccessibility){_aa._updateAccessibilityLabel(_aa);}_ao+=_n;if(!_as&&this._scrollIndex>0&&_ao>=0){_as=true;}}}}};_pPopupMenu._calcSpinButton=function(){if(!this.spindownbutton&&!this.spinupbutton){return;}var _a=this.on_find_CurrentStyle_itempadding(this._pseudo);var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=(_a?_a.bottom:0)+(_b?_b._bottom_width:0);var _d=this._buttonRect;var _e=_d.length;if(this._spin_height>0&&_e>0&&_d[_e-1].bottom-_c>this._adjust_height||this._is_spin_visible){this.spinupbutton.set_visible(true);this.spinupbutton.move(0,0,this._client_width,this._spin_height);var _f=0;var _g=0;var _h=this._spin_height;var _i=this._lineItems;var _e=_i?_i.length:0;if(this._is_spin_visible){_h=0;}for(var _k=0;_k<_e;_k++ ){var _j=_d[_k];if(_j.bottom>this._adjust_height-this._spin_height*(_h==0?1:2)){if(_f==0){_f=this._adjust_height;}}if(_f==0){_j.top+=_h;_j.bottom+=_h;}else{_j.top=_f;_j.bottom=_f+_h;}}this.spindownbutton.set_visible(true);this.spindownbutton.move(0,this._adjust_height-this._spin_height-_c,this._client_width,this._spin_height);this._is_spin_visible=true;}else{this._is_spin_visible=false;this.spinupbutton.set_visible(false);this.spindownbutton.set_visible(false);}};_pPopupMenu._updateMenuItemPosition=function(){var _a=this._buttonRect;var _b=this._buttonRect_elem;var _c=this._lineItems;var _d=_c?_c.length:0;for(var _h=0;_h<_d;_h++ ){var _e=_c[_h];var _f=_a[_h];_e.move(_f.left,_f.top,_f.width,_f.height);var _g=_b[_h];if(_e instanceof nexacro.PopupMenuItem){_e._updateElementPositions(_g.textWidth,_g.hotkeyWidth,_g.itemHeight,_g.defaultGap);}}};_pPopupMenu._getAlignPosition=function(_a,_b,_c){if(_c){var _d=this._width;var _e=this._height;var _f=_c.split(/\s+/);var _g=_f.length;var _h=parseInt(_a,10)|0;var _i=parseInt(_b,10)|0;switch(_g){case 0:break;case 1:if(_f[0]=="left"){_a=_h-_d;}else if(_f[0]=="center"){_a=_h-(_d/2);}else if(_f[0]=="top"){_b=_i-_e;}else if(_f[0]=="middle"){_b=_i-(_e/2);}break;case 2:if(_f[0]=="left"||_f[0]=="center"||_f[0]=="right"){if(_f[0]=="left"){_a=_h-_d;}else if(_f[0]=="center"){_a=_h-(_d/2);}}else if(_f[0]=="top"||_f[0]=="middle"||_f[0]=="bottom"){if(_f[0]=="top"){_b=_i-_e;}else if(_f[0]=="middle"){_b=_i-(_e/2);}}if(_f[1]=="left"||_f[1]=="center"||_f[1]=="right"){if(_f[1]=="left"){_a=_h-_d;}else if(_f[1]=="center"){_a=_h-(_d/2);}}else if(_f[1]=="top"||_f[1]=="middle"||_f[1]=="bottom"){if(_f[1]=="top"){_b=_i-_e;}else if(_f[1]=="middle"){_b=_i-(_e/2);}}break;default:break;}}return [_a,_b];};_pPopupMenu.set_visible=function(_a){if(this._track_on){nexacro.PopupComponent.prototype.set_visible.apply(this,arguments);}};_pPopupMenu._process_mousemove=function(_a,_b){if(_a&&_a.enable){this.on_notify_menuitem_onmouseenter(_a,_b);}};_pPopupMenu._closePopup=function(){var _a=this._popupmenu;if(_a){_a._closePopup();_a._destroySpinButton();if(this._innerdataset){this._innerdataset._removeEventHandler("onrowposchanged",this._callbackFromDataset,this);this._innerdataset._removeEventHandler("oncolumnchanged",this._callbackFromDataset,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callbackFromDataset,this);}}var _b=this._getWindow();if(_b&&this._track_capture){_b._releaseCaptureLock(this);}var _c=this._item_find(this);if(nexacro._enableaccessibility){this._item_focus(_c[this._popupitemindex],false);this._popupitemindex= -1;}else{var _d=_c.length;for(var _e=0;_e<_d;_e++ ){this._item_focus(_c[_e],false);}this._popupitemindex= -1;}this.set_visible(false);this._track_on=false;this._closeflag=false;};_pPopupMenu.closePopup=_pPopupMenu._closePopup;_pPopupMenu._closeAllPopup=function(){this._closePopup();var _a=this.parent;if(_a){if(_a instanceof nexacro.Menu){if(_a._is_menu_click){_a._is_menu_click=false;}}}};_pPopupMenu.on_fire_oncloseup=function(_a){if(this.oncloseup&&this.oncloseup._has_handlers){var _b=new nexacro.MenuCloseUpEventInfo(_a,"oncloseup",(this._selected_itemindex>=0));_b.eventid="oncloseup";return this.oncloseup._fireEvent(this,_b);}return false;};_pPopupMenu.on_notify_spinup_onclick=function(_a,_b){this._spinup();};_pPopupMenu.on_notify_spindown_onclick=function(_a,_b){this._spindown();};_pPopupMenu._spinup=function(){if(this._scrollIndex>0){if(this._popupmenu){this._popupmenu._closePopup();}this._scrollIndex-- ;this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();}};_pPopupMenu._spindown=function(){var _a=this._buttonRect;var _b=_a?_a.length:0;if(_b==0){return;}if(_a[_b-1].bottom>this._client_height){if(this._popupmenu){this._popupmenu._closePopup();}this._scrollIndex++ ;this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();}};_pPopupMenu._item_focus=function(_a,_b){if(_a){if(nexacro._enableaccessibility){if(_b){if(_a instanceof nexacro.PopupMenuItem){_a._on_focus(false);}else{_a._on_focus(true);}}else{var _c=this._getWindow();if(_c){_c._removeFromCurrentFocusPath(_a,true);}}}if(_a.on_apply_mouseover){var _d=_a.parent?_a.parent._items:null;var _e=_d?_d.length: -1;for(i=0;i<_e;i++ ){_d[i].on_apply_mouseover(false);}_e=null;_d=null;_a.on_apply_mouseover(_b);}}};_pPopupMenu._popupmenu_visible=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return false;}return true;};_pPopupMenu._item_find=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return _a._items;}return _a._popupmenu._items;};_pPopupMenu._popupmenu_find=function(_a){var _b=_a;while(_b){if(_b._popupmenu===null||_b._popupmenu.visible==false){break;}var _b=_b._popupmenu;}return _b;};_pPopupMenu._popupmenuitem_extend=function(_a){return _a.itemexpand;};_pPopupMenu._popupmenuitem_find=function(_a){var _b=_a._overedobj;while(_b){if(_b._overedobj===null){break;}var _b=_b._overedobj;}return _b;};_pPopupMenu._popupmenuitem_mouseover=function(_a,_b,_c){var _d=this._getRootComponent(this);var _e=_d._menuitemonmouseenter;var _f=_e?(_e._pseudo!="mouseover")||(_e!=_c[_d._popupitemindex]):false;var _g=nexacro.Event;if(_e&&_f&&!(_b.parent instanceof nexacro.FormBase)){var _h;if(!(_b.parent instanceof nexacro.Menu)){_b=_b.parent;_b._popupmenu=null;_c=_d._item_find(_b);var _i=_c?_c.length: -1;for(i=0;i<_i;i++ ){if(_c[i]._pseudo=="mouseover"){_d._popupitemindex=i;break;}}_i=null;if(_c[_d._popupitemindex]&&(_a==_g.KEY_RIGHT)){_h=_d._popupmenuitem_extend(_c[_d._popupitemindex]);}}else{_h=false;}if(_a==_g.KEY_RIGHT){return {pThis:_b,popupexpand:_h,item:_c};}_h=null;}_f=null;_e=null;if(_a==_g.KEY_ENTER){return _b;}};delete _pPopupMenu;nexacro.PopupMenuCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupMenu.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this.level=1;this._previousitem=0;};var _pPopupMenuCtrl=nexacro.PopupMenuCtrl.prototype=nexacro._createPrototype(nexacro.PopupMenu,nexacro.PopupMenuCtrl);nexacro._setForControlStyleFinder(_pPopupMenuCtrl);delete _pPopupMenuCtrl;}if(!nexacro.Spin){nexacro.SpinEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"onspin";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.prevalue=_d;this.posttext=_e;this.postvalue=_f;this.up=_g;};var _pSpinEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.SpinEventInfo);nexacro.SpinEventInfo.prototype=_pSpinEventInfo;_pSpinEventInfo._type_name="SpinEventInfo";delete _pSpinEventInfo;_pSpinEventInfo=null;nexacro.Spin_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.buttonalign=null;this.buttonsize=null;this.accessibility=null;this.displaynulltextcolor=null;};var _pSpinStyle=nexacro._createPrototype(nexacro.Style,nexacro.Spin_Style);nexacro.Spin_Style.prototype=_pSpinStyle;eval(nexacro._createAlignAttributeEvalStr("_pSpinStyle","buttonalign"));eval(nexacro._createValueAttributeEvalStr("_pSpinStyle","buttonsize"));eval(nexacro._createAccessibilityAttributeEvalStr("_pSpinStyle","accessibility"));eval(nexacro._createColorAttributeEvalStr("_pSpinStyle","displaynulltextcolor"));_pSpinStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonsize=null;this.displaynulltextcolor=null;};_pSpinStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign&&!this.buttonalign._is_empty){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonsize&&!this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}if(this.displaynulltextcolor&&!this.displaynulltextcolor._is_empty){_a+="displaynulltextcolor"+this.displaynulltextcolor._value+"; ";}return _a;};nexacro.Spin_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonsize=null;this.accessibility=null;this.displaynulltextcolor=null;};var _pSpinCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Spin_CurrentStyle);nexacro.Spin_CurrentStyle.prototype=_pSpinCurrentStyle;_pSpinCurrentStyle.__get_custuom_style_value=_pSpinStyle.__get_custuom_style_value;_pSpinCurrentStyle.__custom_emptyObject=_pSpinStyle.__custom_emptyObject;delete _pSpinStyle;delete _pSpinCurrentStyle;_pSpinStyle=null;_pSpinCurrentStyle=null;nexacro.Spin=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.spinupbutton=null;this.spindownbutton=null;this.spinedit=null;this.type=0;this.enable=true;this.value=undefined;this.text="";this.readonly=false;this.displaynulltext="";this.increment=1;this.max=10000;this.min=0;this.displaymask="9,999.9999999";this.circulation=false;this.displaycomma=false;this.textchangebindflag=false;this.usecontextmenu=true;this.usesoftkeyboard=true;this._old_value=undefined;this._accessibility_role="spin";this._want_arrow=false;this._has_inputElement=true;this._edit_base_api=null;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onchanged":1,"onspin":1,"canchange":1,"oneditclick":1,"ontextchange":1,"ontextchanged":1,"cancharchange":1,"onchar":1,"oncontextmenu":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pSpin=nexacro._createPrototype(nexacro.Component,nexacro.Spin);nexacro.Spin.prototype=_pSpin;nexacro.Spin._default_buttonalign=nexacro._getCachedStyleObj("buttonalign","right");nexacro.Spin._default_buttonsize=nexacro._getCachedStyleObj("buttonsize","-1");_pSpin._type_name="Spin";_pSpin.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);if(_b.align!=_c){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_e){_b.letterspace=_e;this.on_apply_style_letterspace(_e);}var _f=this.spinedit?this.spinedit.on_find_CurrentStyle_color(_a)||this.on_find_CurrentStyle_color(_a):this.on_find_CurrentStyle_color(_a);if(_b.color!=_f){_b.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_buttonalign(_a);if(_b.buttonalign!=_g){_b.buttonalign=_g;this.on_apply_style_buttonalign(_g);}var _h=this.on_find_CurrentStyle_buttonsize(_a);if(_b.buttonsize!=_h){_b.buttonsize=_h;this.on_apply_style_buttonsize(_h);}var _i=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_i!=_b.rtlimagemirroring){_b.rtlimagemirroring=_i;this.on_apply_style_rtlimagemirroring(_i);}var _j=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_j!=_b.displaynulltextcolor){_b.displaynulltextcolor=_j;this.on_apply_style_displaynulltextcolor(_j);}};_pSpin.on_apply_custom_class=function(){if(this.spinupbutton){this.spinupbutton.on_apply_prop_class();}if(this.spindownbutton){this.spindownbutton.on_apply_prop_class();}if(this.spinedit){this.spinedit.on_apply_prop_class();}};_pSpin.on_create_custom_style=function(){return new nexacro.Spin_Style(this);};_pSpin.on_create_custom_currentStyle=function(){return new nexacro.Spin_CurrentStyle(this);};_pSpin.on_find_CurrentStyle_buttonalign=function(_a){var _b=this._find_pseudo_obj("buttonalign",_a,"align");return (_b)?_b:nexacro.Spin._default_buttonalign;};_pSpin.on_find_CurrentStyle_buttonsize=function(_a){var _b=this._find_pseudo_obj("buttonsize",_a);return (_b)?_b:nexacro.Spin._default_buttonsize;};_pSpin.on_find_CurrentStyle_displaynulltextcolor=function(_a){var _b=this._find_pseudo_obj("displaynulltextcolor",_a,"color");if(!_b){_b=this._find_pseudo_obj("color",_a,"color");}if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pSpin.on_update_style_color=function(){var _a=this.currentstyle.color=(this.spinedit?(this.spinedit.on_find_CurrentStyle_color(this._pseudo)||this.on_find_CurrentStyle_color(this._pseudo)):this.on_find_CurrentStyle_color(this._pseudo));this.on_apply_style_color(_a);};_pSpin.on_update_style_buttonsize=function(){var _a=this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize();};_pSpin.on_update_style_buttonalign=function(){var _a=this.currentstyle.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign();};_pSpin.on_update_style_displaynulltextcolor=function(){var _a=this.currentstyle.displaynulltextcolor=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo);this.on_apply_style_displaynulltextcolor(_a);};_pSpin.on_apply_style_align=function(_a){if(!_a){_a=this.on_find_CurrentStyle_align(this._pseudo);}if(this.spinedit){this.spinedit.style.set_align(_a._value);}};_pSpin.on_apply_style_color=function(_a){if(this.spinedit){this.spinedit.on_apply_style_color(this.spinedit.currentstyle.color=_a);}};_pSpin.on_apply_style_font=function(_a){if(this.spinedit){this.spinedit.on_apply_style_font(this.spinedit.currentstyle.font=_a);}};_pSpin.on_apply_style_buttonsize=function(){this._recalcLayout();};_pSpin.on_apply_style_buttonalign=function(){this._recalcLayout();};_pSpin.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this.spinedit){this.spinedit.on_apply_style_accessibility(_a);}};_pSpin.on_apply_style_rtlimagemirroring=function(_a){return;};_pSpin.on_apply_style_letterspace=function(_a){if(this.spinedit){this.spinedit.on_apply_style_letterspace(this.spinedit.currentstyle.letterspace=_a);}};_pSpin.on_apply_style_displaynulltextcolor=function(_a){if(this.spinedit){this.spinedit.on_apply_style_displaynulltextcolor(this.spinedit.currentstyle.displaynulltextcolor=_a);}};_pSpin.on_create_contents=function(){if(this._control_element){this.spinupbutton=new nexacro.SpinButtonCtrl("spinupbutton","absolute",0,0,0,0,null,null,this);this.spindownbutton=new nexacro.SpinButtonCtrl("spindownbutton","absolute",0,0,0,0,null,null,this);var _a=this.spinedit=new nexacro.SpinEditCtrl("spinedit","absolute",0,0,0,0,null,null,this);this.spinedit.createComponent();this.spinupbutton.createComponent();this.spindownbutton.createComponent();}};_pSpin.on_created_contents=function(){this.on_apply_readonly();this.on_apply_circulation();this.on_apply_displaycomma();this.on_apply_displaynulltext();this.on_apply_type();this.on_apply_usecontextmenu();this.on_apply_style_displaynulltextcolor(this.currentstyle.displaynulltextcolor);this.spinupbutton._setEventHandler("onclick",this.on_notify_spinupbutton_click,this);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindownbutton_click,this);this.spinedit._setEventHandler("ontextchange",this.on_notify_spin_textchange,this);this.spinedit._setEventHandler("ontextchanged",this.on_notify_spin_textchanged,this);this.spinedit._setEventHandler("cancharchange",this.on_notify_spin_cancharchange,this);this.spinedit._setEventHandler("onchar",this.on_notify_spin_char,this);this.spinedit._setEventHandler("oneditclick",this.on_notify_spin_editclick,this);this.spinedit._setEventHandler("onkeydown",this.on_notify_spin_keydown,this);this.spinupbutton.on_created();this.spindownbutton.on_created();this.spinedit.on_created();this._edit_base_api=this.spinedit._edit_base_api;this.on_apply_style_letterspace(this.currentstyle.letterspace);this.on_apply_style_rtlimagemirroring(this.currentstyle.rtlimagemirroring);this._setAccessibilityInfoValueMax(this.max);this._setAccessibilityInfoValueMin(this.min);this._setAccessibilityInfoValueCur(this.value);this._setAccessibilityActiveDescendant(this.spinedit);this.on_apply_prop_rtldirection();if(this._old_value!==undefined){this._setValue(this._old_value);}};_pSpin.on_destroy_contents=function(){if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}if(this.spinedit){this.spinedit.destroy();this.spinedit=null;}};_pSpin.on_change_containerRect=function(){this._recalcLayout();};_pSpin.on_apply_prop_enable=function(_a){this._updateButton();};_pSpin.on_apply_custom_setfocus=function(_a){if(this.spinedit&&this.spinedit.enable==true){this.spinedit.on_apply_custom_setfocus(_a);}};_pSpin.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this._setValue(undefined);return true;}};_pSpin.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=parseFloat(_f);if(isNaN(_g)){_g=_f;}else if(this.min>_g||this.max<_g){_g=(this.min>_g)?this.min:this.max;var _h=this.applyto_bindSource("value",_g);if(_h==false){return false;}}this._setValue(_g);return true;}return false;};_pSpin.on_getBindableProperties=function(){return "value";};_pSpin.on_get_style_accessibility_label=function(){var _a="";return _a;};_pSpin._on_getAccessibilityAdditionalLabel=function(){var _a="";if(this.spinedit&&this.spinedit._edit_base_api){_a=this.spinedit._edit_base_api._on_getAccessibilityAdditionalLabel();}return _a+" "+this.min+" "+this.max;};_pSpin._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this.spinedit._input_element&&this._status!="focus"){if(!this.spinedit._input_element._wantAccessibilityAdditionalLabel||!this.spinedit._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pSpin._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrow;this._want_arrow=false;return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pSpin.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;var _b=this.spinedit;var _c=this.spinupbutton;var _d=this.spindownbutton;if(_b){_b._setRtlDirection(_a);}if(_c){_c._setRtlDirection(_a);}if(_d){_d._setRtlDirection(_a);}};_pSpin.set_type=function(_a){this.type=_a;this.on_apply_type();};_pSpin.on_apply_type=function(){if(this.spinedit){switch(this.type){case "spinonly":this.spinedit.set_visible(false);break;case "noneditable":this.spinedit.set_visible(true);this.spinedit.set_readonly(true);break;case "normal":default:this.spinedit.set_visible(true);this.spinedit.set_readonly(this.readonly);break;}}this._recalcLayout();};_pSpin.set_value=function(_a){var _b=parseFloat(_a,10);if(_a===null||_a===undefined){this._setValue(_a);}else{_a=this._getValidation(_a);var _c=this.applyto_bindSource("value",_a);if(_c==false){return;}this._setValue(_a);}if(!this._is_created){this._old_value=_b;}};_pSpin._setValue=function(_a){this._old_value=this.value=_a;this.text=nexacro._toString(_a);this._updateToText();this.on_apply_value();this._updateButton();};_pSpin.on_apply_value=function(){if(this.spinedit){if(this.value===null||this.value===undefined){this.spinedit.set_value(undefined);}else{this.spinedit.set_value(this.value);}this.text=this.spinedit.text;}};_pSpin.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pSpin.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this.spinedit){if(this.type!="noneditable"){this.spinedit.set_readonly(_a);}}};_pSpin.set_displaynulltext=function(_a){this.displaynulltext=_a.toString();this.on_apply_displaynulltext();};_pSpin.on_apply_displaynulltext=function(){if(this.spinedit&&this.displaynulltext){this.spinedit.set_displaynulltext(this.displaynulltext);}};_pSpin.set_increment=function(_a){var _b=parseFloat(_a,10);if(isNaN(_b)){return;}else{this.increment=_b;}this.on_apply_increment();};_pSpin.on_apply_increment=function(){this._updateButton();};_pSpin.set_max=function(_a){var _b=parseFloat(_a,10);if(isNaN(_b)){return;}else{this.max=_b;this._setAccessibilityInfoValueMax(_b);}this.on_apply_max();};_pSpin.on_apply_max=function(){if(this.value>this.max){this.value=this.max;}if(this.max<this.min){this.min=this.max;}this._updateToText();};_pSpin.set_min=function(_a){var _b=parseFloat(_a,10);if(isNaN(_b)){return;}else{this.min=_b;this._setAccessibilityInfoValueMin(_b);}this.on_apply_min();};_pSpin.on_apply_min=function(){if(this.value<this.min){this.value=this.min;}if(this.max<this.min){this.max=this.min;}this._updateToText();};_pSpin.set_displaycomma=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.displaycomma){this.displaycomma=_a;this.on_apply_displaycomma();}};_pSpin.on_apply_displaycomma=function(){if(this.spinedit){if(this.displaycomma){this.spinedit.set_mask(this.displaymask);}else{this.spinedit.set_mask("");}}this._updateToText();};_pSpin.set_circulation=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.circulation){this.circulation=_a;this.on_apply_circulation();}};_pSpin.on_apply_circulation=function(){this._updateButton();};_pSpin.set_text=function(_a){};_pSpin.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontextmenu){this.usecontextmenu=_a;this.on_apply_usecontextmenu();}};_pSpin.on_apply_usecontextmenu=function(){var _a=this.spinedit;if(_a){_a.set_usecontextmenu(this.usecontextmenu);}};_pSpin.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pSpin.on_apply_usesoftkeyboard=function(){if(this.spinedit){this.spinedit.set_usesoftkeyboard(this.usesoftkeyboard);}};_pSpin.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pSpin.on_apply_locale=function(){var _a=this.spinedit;if(_a){_a._setLocale(this._locale);}};_pSpin.getCaretPos=function(){if(this.readonly){return  -1;}return this.spinedit.getCaretPos();};_pSpin.getSelect=function(){return this.spinedit.getSelect();};_pSpin.getSelectedText=function(){return this.spinedit.getSelectedText();};_pSpin.setCaretPos=function(_a){return this.spinedit.setCaretPos(_a);};_pSpin.setSelect=function(_a,_b){this.spinedit.setSelect(_a,_b);};_pSpin.setSelectedText=function(_a){this.spinedit.setSelectedText(_a);};_pSpin.setRange=function(_a,_b){this.set_min(_a);this.set_max(_b);if(this.min>this.max){var _c=this.min;this.min=this.max;this.max=_c;}};_pSpin.updateToDataset=function(){if(!this._bind_event){return false;}return this.applyto_bindSource("value",this.value);};_pSpin.on_notify_spin_down=function(_a,_b){if(!this.readonly){var _c=true;this.textchangebindflag=true;var _d=parseFloat(this.value,10);if(_d==undefined||_d==null||isNaN(_d)){_d=0;}var _e=_d;var _f=this._calcValue(_d,this.increment,"-");if(this.circulation){if(this.increment>=0){_d=(_f<this.min)?this.max:_f;}else{_d=(_f>this.max)?this.min:_f;}}else{_d=(_f<this.min)?this.min:(_f>this.max)?this.max:_f;}var _g=_e.toString();var _h=this.value=_d;var _i=_d.toString();_c=this.on_fire_onspin(this,_g,_e,_i,_h,false);this.spinedit.on_fire_ontextchanged(this,_e,_h);if(_c||_c===undefined){this.value=_h;}else{this.value=_e;}this._on_focus(true);this._updateToText();}};_pSpin.on_notify_spin_up=function(_a,_b){if(!this.readonly){var _c=true;this.textchangebindflag=true;var _d=parseFloat(this.value,10);if(_d==undefined||_d==null||isNaN(_d)){_d=0;}var _e=_d;var _f=this._calcValue(_d,this.increment,"+");if(this.circulation){if(this.increment>=0){_d=(_f>this.max)?this.min:_f;}else{_d=(_f<this.min)?this.max:_f;}}else{_d=(_f>this.max)?this.max:(_f<this.min)?this.min:_f;}var _g=_e.toString();var _h=this.value=_d;var _i=_d.toString();_c=this.on_fire_onspin(this,_g,_e,_i,_h,true);this.spinedit.on_fire_ontextchanged(this,_e,_h);if(_c||_c===undefined){this.value=_h;}else{this.value=_e;}this._on_focus(true);this._updateToText();}};_pSpin.on_notify_spin_textchange=function(_a,_b){if(_a.parent==this){this._setFocus(false);}var _c=this.on_fire_ontextchange(_a,_b);var _d;if(this.displaycomma){_d=this._commaStrToStr(_b.posttext);}else{_d=_b.posttext;}if(_c){this.textchangebindflag=true;_d=parseFloat(_d,10);if(isNaN(_d)){this.value=this.min;}else{this.value=_d;}this._updateToText(true);}return _c;};_pSpin.on_notify_spin_editclick=function(_a,_b){this.on_fire_oneditclick(_a,_b.caretpos,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,_b.fromobject,_b.fromreferenceobject);};_pSpin.on_notify_spin_textchanged=function(_a,_b){return this.on_fire_ontextchanged(_a,_b);};_pSpin.on_notify_spin_char=function(_a,_b){return this.on_fire_onchar(_a,_b);};_pSpin.on_notify_spin_cancharchange=function(_a,_b){return this.on_fire_cancharchange(_a,_b);};_pSpin.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){this._want_arrow=true;nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pSpin.on_notify_spin_keydown=function(_a,_b){switch(_b.keycode){case nexacro.Event.KEY_UP:if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_spin_up();}break;case nexacro.Event.KEY_DOWN:if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_spin_down();}break;case nexacro.Event.KEY_ENTER:this.textchangebindflag=true;this._valuechange();break;}return true;};_pSpin.on_notify_spinupbutton_click=function(_a,_b){this.on_notify_spin_up(_a,_b);};_pSpin.on_notify_spindownbutton_click=function(_a,_b){this.on_notify_spin_down(_a,_b);};_pSpin.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.visible&&this._isEnable()&&this.enableevent){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(this,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this,_n);return this.oneditclick._fireEvent(this,_o);}}return false;};_pSpin.on_fire_ontextchange=function(_a,_b){if(this.ontextchange&&this.ontextchange._has_handlers){var _c=new nexacro.TextChangeEventInfo(this,"ontextchange",_b.chartext,_b.pretext,_b.posttext,"","");return this.ontextchange._fireCheckEvent(this,_c);}return true;};_pSpin.on_fire_ontextchanged=function(_a,_b){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _c=new nexacro.TextChangedEventInfo(this,"ontextchanged",_b.pretext,_b.posttext);return this.ontextchanged._fireEvent(this,_c);}return true;};_pSpin.on_fire_onchar=function(_a,_b){if(this.onchar&&this.onchar._has_handlers){var _c=new nexacro.TextChangeEventInfo(this,"onchar",_b.chartext,_b.pretext,_b.posttext);return this.onchar._fireCheckEvent(this,_c);}return true;};_pSpin.on_fire_cancharchange=function(_a,_b){if(this.cancharchange&&this.cancharchange._has_handlers){var _c=new nexacro.CanCharEventInfo(_a,"cancharchange",_b.chartext,_b.pretext,_b.posttext);return this.cancharchange._fireCheckEvent(this,_c);}return true;};_pSpin.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(this,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pSpin.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}return true;};_pSpin.on_fire_onspin=function(_a,_b,_c,_d,_e,_f){if(this.onspin&&this.onspin._has_handlers){var _g=new nexacro.SpinEventInfo(_a,"onspin",_b,_c,_d,_e,_f);return this.onspin._fireEvent(this,_g);}return true;};_pSpin._on_killfocus=function(_a,_b){var _c=this._getWindow();if(_c&&_c._is_active_window!=true&&!_a){return;}this._valuechange();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(this.spinedit){this.spinedit._is_focusing=false;}}};_pSpin._recalcLayout=function(){if(this._control_element&&this.spinupbutton&&this.spindownbutton&&this.spinedit){var _a=this._client_width,_b=this._client_height;var _c=0,_d=0,_e=0,_f=0;var _g=0;h=0;var _h=0,_i=0,_j=0,_k=0;var _l=0,_m=0,_n=0,_o=0;var _p=0,_q=0,_r=0,_s=0;var _t=this.spinupbutton.on_find_CurrentStyle_margin();if(_t){_h=_t.top;_i=_t.left;_k=_t.bottom;_j=_t.right;}var _u=this.spindownbutton.on_find_CurrentStyle_margin();if(_u){_l=_u.top;_m=_u.left;_o=_u.bottom;_n=_u.right;}var _v=this.spinedit.on_find_CurrentStyle_margin();if(_v){_p=_v.top;_q=_v.left;_s=_v.bottom;_r=_v.right;}var _w=0;var _x=_b;if(this.type=="spinonly"){_w=_a;}else{_w=_x;}var _y=this.on_find_CurrentStyle_buttonsize();if(_y){_y=parseInt(_y)|0;if(_y> -1){_w=_y;}else{_w=0;}}var _z=this.on_find_CurrentStyle_buttonalign();if(_z.halign!="left"){_c=_a-_w;_e=_h;_g=_w-_j;h=_x/2-1;this.spinupbutton.move(_c,_e,_g,h,null,null);_g=_w-_n;_e=_e+h+_l+1;h=_x/2-1-_o;this.spindownbutton.move(_c,_e,_g,h,null,null);if(this.type!="spinonly"){_c=_q;_e=_p;_g=_a-_w-_r-_i;h=_b-_o;this.spinedit.move(_c,_e,_g,h,_d,_f);}}else{_c=_i;_e=_h;_g=_w-_j;h=_x/2-1;this.spinupbutton.move(_c,_e,_g,h,null,null);_g=_w-_n;_e=_e+h+_k+_l+1;h=_x/2-1-_o;this.spindownbutton.move(_c,_e,_g,h,null,null);if(this.type!="spinonly"){_c=_c+_w+_q;_e=_p;_g=_a-_w-_r;h=_b-_s;this.spinedit.move(_c,_e,_g,h,null,null);}}}};_pSpin._updateButton=function(){if(this._control_element){var _a=this.spinupbutton;var _b=this.spindownbutton;var _c=this.spinedit;var _d=this.value;if(!this._isEnable()){_a._setEnable(false);_b._setEnable(false);_c._setEnable(false);}else{_c._setEnable(true);if(!this.circulation){if(_d==null||_d==undefined){_b._setEnable(false);_a._setEnable(true);return;}if(this.increment>=0){if(this.max>_d){_a._setEnable(true);}else{_a._setEnable(false);}if(this.min<_d){_b._setEnable(true);}else{_b._setEnable(false);}}else{if(this.max>_d){_b._setEnable(true);}else{_b._setEnable(false);}if(this.min<_d){_a._setEnable(true);}else{_a._setEnable(false);}}}else{_a._setEnable(true);_b._setEnable(true);}}}};_pSpin._updateToText=function(_a){var _b=this.value;if(_b===null||_b===undefined){this.value=undefined;this.text="";}else if(_b.date||_b.time||_b.blob||_b.datetime){_b=undefined;this.text="";}else{_b=this._commaStrToStr(this.value);}if(this.spinedit){if(!_a){this.spinedit.set_value(_b);this.text=this.spinedit.text;}this._setAccessibilityInfoValueCur(_b);}this._updateButton();};_pSpin._commaStrToStr=function(_a){var _b=nexacro._toString(_a);if(_a==undefined){_b="";}return _b.replace(/,/g,"");};_pSpin._getValidation=function(_a){_a=parseFloat(_a,10);if(isNaN(_a)){return undefined;}else if(this.min>_a){_a=this.min;}else if(this.max<_a){_a=this.max;}return _a;};_pSpin._valuechange=function(){if(!this._is_alive){return;}var _a=this.value;if(_a<=this.max&&_a>=this.min){this.value=_a;}else{this.value=this._getValidation(_a);}var _b=this.value;var _c=nexacro._toString(this.value);var _d=this._old_value;var _e=nexacro._toString(this._old_value);var _f=this.on_fire_canchange(this,_e,_d,_c,_b);if(_f===false){this.value=this._old_value;this._updateToText();}else{this._setValue(this.value);if(this.textchangebindflag){this.applyto_bindSource("value",this.value);this.textchangebindflag=false;}if(_d!=_b){this.on_fire_onchanged(this,_e,_d,_c,_b);}}};_pSpin._calcValue=function(_a,_b,_c){var _d=1;var _e=_a.toString();var _f=_b.toString();var _g=_e.indexOf(".");var _h=_f.indexOf(".");if(_g> -1||_h> -1){var _i=_g> -1?_e.substring(_g+1,_e.length):"";var _j=_h> -1?_f.substring(_h+1,_f.length):"";var _k=_i.length>=_j.length?_i.length:_j.length;_d=Math.pow(10,_k);_a=Math.round(_a*_d);_b=Math.round(_b*_d);}if(_c=="+"){return (_a+_b)/_d;}else{return (_a-_b)/_d;}};delete _pSpin;_pSpin=null;nexacro.SpinButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pSpinButtonCtrl=nexacro.SpinButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.SpinButtonCtrl);_pSpinButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.spinedit;if(_c&&_c.enable==true){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};delete _pSpinButtonCtrl;_pSpinButtonCtrl=null;nexacro.SpinEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MaskEditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._accessibility_role="spin";};var _pSpinEditCtrl=nexacro.SpinEditCtrl.prototype=nexacro._createPrototype(nexacro.MaskEditCtrl,nexacro.SpinEditCtrl);_pSpinEditCtrl.on_find_CurrentStyle_align=function(_a){return this.parent._find_pseudo_obj("align",_a,"align")||this._find_ctrl_pseudo_obj("align",_a,"align")||nexacro.Component._default_align;};_pSpinEditCtrl.on_find_CurrentStyle_color=function(_a){return this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;};_pSpinEditCtrl.on_find_CurrentStyle_font=function(_a){return this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;};_pSpinEditCtrl.on_find_CurrentStyle_accessibility=function(_a){var _b=this._find_pseudo_obj("accessibility",_a,"accessibility");return _b?_b:this.parent.on_find_CurrentStyle_accessibility(_a);};_pSpinEditCtrl._getAccessibilityRole=function(_a){_a=this.parent.on_find_CurrentStyle_accessibility(this._pseudo);return this.parent._getAccessibilityRole(_a);};delete _pSpinEditCtrl;_pSpinEditCtrl=null;nexacro.SpinCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Spin.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pSpinCtrl=nexacro.SpinCtrl.prototype=nexacro._createPrototype(nexacro.Spin,nexacro.SpinCtrl);_pSpinCtrl._type_name="SpinControl";nexacro._setForControlStyleFinder(_pSpinCtrl);delete _pSpinCtrl;_pSpinCtrl=null;};if(!nexacro.DatePicker){nexacro.DatePicker_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.ncpadding=null;this.usetrailingday=null;this.headerformat=null;this.weekformat=null;this.viewyearspin=null;this.viewmonthspin=null;this.accessibility=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.headerheight=null;this.headercolor=null;this.headerbackground=null;this.headergradation=null;this.headerbordertype=null;this.headerborder=null;this.headerfont=null;this.bodybackground=null;this.bodygradation=null;this.bodybordertype=null;this.bodyborder=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todaycolor=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdaycolor=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundaycolor=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdaycolor=null;this.trailingdayfont=null;};var _pDatePickerStyle=nexacro._createPrototype(nexacro.Style,nexacro.DatePicker_Style);nexacro.DatePicker_Style.prototype=_pDatePickerStyle;eval(nexacro._createPaddingAttributeEvalStr("_pDatePickerStyle","ncpadding"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","usetrailingday"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","headerformat"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","weekformat"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","daysize"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","daycolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","daybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","daygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","dayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","daybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","dayfont"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","headerheight"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","headercolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","headerbackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","headergradation"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","headerbordertype"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","headerborder"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","headerfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","bodybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","bodygradation"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","bodybordertype"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","bodyborder"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","weekcolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","weekbackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","weekgradation"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","weekfont"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","saturdaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","sundaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","todaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","trailingdaycolor"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","viewyearspin"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","viewmonthspin"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","todaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","todaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","todayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","todaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","todayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","saturdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","saturdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","saturdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","saturdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","saturdayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","sundaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","sundaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","sundayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","sundaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","sundayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","trailingdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","trailingdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","trailingdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","trailingdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","trailingdayfont"));eval(nexacro._createAccessibilityAttributeEvalStr("_pDatePickerStyle","accessibility"));_pDatePickerStyle.__custom_emptyObject=function(){this.ncpadding=null;this.usetrailingday=null;this.headerformat=null;this.weekformat=null;this.viewyearspin=null;this.viewmonthspin=null;this.accessibility=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.headerheight=null;this.headercolor=null;this.headerbackground=null;this.headergradation=null;this.headerbordertype=null;this.headerborder=null;this.headerfont=null;this.bodybackground=null;this.bodygradation=null;this.bodybordertype=null;this.bodyborder=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todaycolor=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdaycolor=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundaycolor=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdaycolor=null;this.trailingdayfont=null;};_pDatePickerStyle.__get_custom_style_value=function(){var _a="";if(this.ncpadding&&!this.ncpadding._is_empty){_a+="ncpadding:"+this.ncpadding._value+"; ";}if(this.usetrailingday&&!this.usetrailingday._is_empty){_a+="usetrailingday:"+this.usetrailingday._value+"; ";}if(this.headerformat&&!this.headerformat._is_empty){_a+="headerformat:"+this.headerformat._value+"; ";}if(this.weekformat&&!this.weekformat._is_empty){_a+="weekformat:"+this.weekformat._value+"; ";}if(this.daysize&&!this.daysize._is_empty){_a+="daysize:"+this.daysize._value+"; ";}if(this.daycolor&&!this.daycolor._is_empty){_a+="daycolor:"+this.daycolor._value+"; ";}if(this.daybackground&&!this.daybackground._is_empty){_a+="daybackground:"+this.daybackground._value+"; ";}if(this.daygradation&&!this.daygradation._is_empty){_a+="daygradation:"+this.daygradation._value+"; ";}if(this.dayborder&&!this.dayborder._is_empty){_a+="dayborder:"+this.dayborder._value+"; ";}if(this.daybordertype&&!this.daybordertype._is_empty){_a+="daybordertype:"+this.daybordertype._value+"; ";}if(this.dayfont&&!this.dayfont._is_empty){_a+="dayfont:"+this.dayfont._value+"; ";}if(this.headerheight&&!this.headerheight._is_empty){_a+="headerheight:"+this.headerheight._value+"; ";}if(this.headercolor&&!this.headercolor._is_empty){_a+="headercolor:"+this.headercolor._value+"; ";}if(this.headerbackground&&!this.headerbackground._is_empty){_a+="headerbackground:"+this.headerbackground._value+"; ";}if(this.headergradation&&!this.headergradation._is_empty){_a+="headergradation:"+this.headergradation._value+"; ";}if(this.headerbordertype&&!this.headerbordertype._is_empty){_a+="headerbordertype:"+this.headerbordertype._value+"; ";}if(this.headerborder&&!this.headerborder._is_empty){_a+="headerborder:"+this.headerborder._value+"; ";}if(this.headerfont&&!this.headerfont._is_empty){_a+="headerfont:"+this.headerfont._value+"; ";}if(this.bodybackground&&!this.bodybackground._is_empty){_a+="bodybackground:"+this.bodybackground._value+"; ";}if(this.bodygradation&&!this.bodygradation._is_empty){_a+="bodygradation:"+this.bodygradation._value+"; ";}if(this.bodybordertype&&!this.bodybordertype._is_empty){_a+="bodybordertype:"+this.bodybordertype._value+"; ";}if(this.bodyborder&&!this.bodyborder._is_empty){_a+="bodyborder:"+this.bodyborder._value+"; ";}if(this.weekcolor&&!this.weekcolor._is_empty){_a+="weekcolor:"+this.weekcolor._value+"; ";}if(this.weekbackground&&!this.weekbackground._is_empty){_a+="weekbackground:"+this.weekbackground._value+"; ";}if(this.weekgradation&&!this.weekgradation._is_empty){_a+="weekgradation:"+this.weekgradation._value+"; ";}if(this.weekfont&&!this.weekfont._is_empty){_a+="weekfont:"+this.weekfont._value+"; ";}if(this.saturdaycolor&&!this.saturdaycolor._is_empty){_a+="saturdaycolor:"+this.saturdaycolor._value+"; ";}if(this.sundaycolor&&!this.sundaycolor._is_empty){_a+="sundaycolor:"+this.sundaycolor._value+"; ";}if(this.todaycolor&&!this.todaycolor._is_empty){_a+="todaycolor:"+this.todaycolor._value+"; ";}if(this.trailingdaycolor&&!this.trailingdaycolor._is_empty){_a+="trailingdaycolor:"+this.trailingdaycolor._value+"; ";}if(this.viewyearspin&&!this.viewyearspin._is_empty){_a+="viewyearspin:"+this.viewyearspin._value+"; ";}if(this.viewmonthspin&&!this.viewmonthspin._is_empty){_a+="viewmonthspin:"+this.viewmonthspin._value+"; ";}if(this.todaybackground&&!this.todaybackground._is_empty){_a+="todaybackground:"+this.todaybackground._value+"; ";}if(this.todaygradation&&!this.todaygradation._is_empty){_a+="todaygradation:"+this.todaygradation._value+"; ";}if(this.todayborder&&!this.todayborder._is_empty){_a+="todayborder:"+this.todayborder._value+"; ";}if(this.todaybordertype&&!this.todaybordertype._is_empty){_a+="todaybordertype:"+this.todaybordertype._value+"; ";}if(this.todayfont&&!this.todayfont._is_empty){_a+="todayfont:"+this.todayfont._value+"; ";}if(this.saturdaybackground&&!this.saturdaybackground._is_empty){_a+="saturdaybackground:"+this.saturdaybackground._value+"; ";}if(this.saturdaygradation&&!this.saturdaygradation._is_empty){_a+="saturdaygradation:"+this.saturdaygradation._value+"; ";}if(this.saturdayborder&&!this.saturdayborder._is_empty){_a+="saturdayborder:"+this.saturdayborder._value+"; ";}if(this.saturdaybordertype&&!this.saturdaybordertype._is_empty){_a+="saturdaybordertype:"+this.saturdaybordertype._value+"; ";}if(this.saturdayfont&&!this.saturdayfont._is_empty){_a+="saturdayfont:"+this.saturdayfont._value+"; ";}if(this.sundaybackground&&!this.sundaybackground._is_empty){_a+="sundaybackground:"+this.sundaybackground._value+"; ";}if(this.sundaygradation&&!this.sundaygradation._is_empty){_a+="sundaygradation:"+this.sundaygradation._value+"; ";}if(this.sundayborder&&!this.sundayborder._is_empty){_a+="sundayborder:"+this.sundayborder._value+"; ";}if(this.sundaybordertype&&!this.sundaybordertype._is_empty){_a+="sundaybordertype:"+this.sundaybordertype._value+"; ";}if(this.sundayfont&&!this.sundayfont._is_empty){_a+="sundayfont:"+this.sundayfont._value+"; ";}if(this.trailingdaybackground&&!this.trailingdaybackground._is_empty){_a+="trailingdaybackground:"+this.trailingdaybackground._value+"; ";}if(this.trailingdaygradation&&!this.trailingdaygradation._is_empty){_a+="trailingdaygradation:"+this.trailingdaygradation._value+"; ";}if(this.trailingdayborder&&!this.trailingdayborder._is_empty){_a+="trailingdayborder:"+this.trailingdayborder._value+"; ";}if(this.trailingdaybordertype&&!this.trailingdaybordertype._is_empty){_a+="trailingdaybordertype:"+this.trailingdaybordertype._value+"; ";}if(this.trailingdayfont&&!this.trailingdayfont._is_empty){_a+="trailingdayfont:"+this.trailingdayfont._value+"; ";}if(this.accessibility&&this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.DatePicker_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.ncpadding=null;this.usetrailingday=null;this.headerformat=null;this.weekformat=null;this.viewyearspin=null;this.viewmonthspin=null;this.accessibility=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.headerheight=null;this.headercolor=null;this.headerbackground=null;this.headergradation=null;this.headerbordertype=null;this.headerborder=null;this.headerfont=null;this.bodybackground=null;this.bodygradation=null;this.bodybordertype=null;this.bodyborder=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todaycolor=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdaycolor=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundaycolor=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdaycolor=null;this.trailingdayfont=null;};var _pDatePickerCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.DatePicker_CurrentStyle);nexacro.DatePicker_CurrentStyle.prototype=_pDatePickerCurrentStyle;_pDatePickerCurrentStyle.__custom_emptyObject=_pDatePickerStyle.__custom_emptyObject;_pDatePickerCurrentStyle.__get_custom_style_value=_pDatePickerStyle.__get_custom_style_value;_pDatePickerStyle=null;_pDatePickerCurrentStyle=null;nexacro.DatePicker=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._delay_create=_j;this._calendar=_i;this._accessibility_role="datepicker";this._has_accessibility_value=false;this._is_focus_accept=false;this._locale="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"ondayclick":1,"oncloseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pDatePicker=nexacro._createPrototype(nexacro.Component,nexacro.DatePicker);nexacro.DatePicker.prototype=_pDatePicker;_pDatePicker._type_name="DatePicker";_pDatePicker.prevbutton="";_pDatePicker.nextbutton="";_pDatePicker.yearspin="";_pDatePicker.monthspin="";_pDatePicker.value="";_pDatePicker._header=null;_pDatePicker._body=null;_pDatePicker._preDay= -1;_pDatePicker._preToday= -1;_pDatePicker._selected_year= -1;_pDatePicker._selected_month= -1;_pDatePicker._selected_day= -1;_pDatePicker._delay_create=false;nexacro.DatePicker._defaultNCPadding=nexacro._getCachedStyleObj("padding","30 6 6 6");nexacro.DatePicker._defaultSundaycolor=nexacro._getCachedStyleObj("color","red");nexacro.DatePicker._defaultSaturdaycolor=nexacro._getCachedStyleObj("color","blue");nexacro.DatePicker._defaultTodaycolor=nexacro._getCachedStyleObj("color","#00FAFA");nexacro.DatePicker._defaultHeaderheight=nexacro._getCachedStyleObj("value","21");nexacro.DatePicker._defaultDaysize=nexacro._getCachedStyleObj("value","26 26");nexacro.DatePicker._defaultWeekformat=nexacro._getCachedStyleObj("value","S M T W T F S");nexacro.DatePicker._defaultHeaderformat=nexacro._getCachedStyleObj("value","yyyy.MM");nexacro.DatePicker._defaultUseTrailngday=nexacro._getCachedStyleObj("value","false");nexacro.DatePicker._defaultViewYearSpin=nexacro._getCachedStyleObj("value","false");nexacro.DatePicker._defaultViewMonthSpin=nexacro._getCachedStyleObj("value","false");_pDatePicker.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_ncpadding(_a);if(_b.ncpadding!=_f){_b.ncpadding=_f;this.on_apply_style_ncpadding(_f);}var _g=this.on_find_CurrentStyle_headerformat(_a);if(_b.headerformat!=_g){_b.headerformat=_g;this.on_apply_style_headerformat(_g);}var _h=this.on_find_CurrentStyle_headerheight(_a);if(_b.headerheight!=_h){_b.headerheight=_h;this.on_apply_style_headerheight(_h);}var _i=this.on_find_CurrentStyle_headercolor(_a);if(_b.headercolor!=_i){_b.headercolor=_i;this.on_apply_style_headercolor(_i);}var _j=this.on_find_CurrentStyle_headerbackground(_a);if(_b.headerbackground!=_j){_b.headerbackground=_j;this.on_apply_style_headerbackground(_j);}var _k=this.on_find_CurrentStyle_headergradation(_a);if(_b.headergradation!=_k){_b.headergradation=_k;this.on_apply_style_headergradation(_k);}var _l=this.on_find_CurrentStyle_headerbordertype(_a);if(_b.headerbordertype!=_l){_b.headerbordertype=_l;this.on_apply_style_headerbordertype(_l);}var _m=this.on_find_CurrentStyle_headerborder(_a);if(_b.headerborder!=_m){_b.headerborder=_m;this.on_apply_style_headerborder(_m);}var _n=this.on_find_CurrentStyle_headerfont(_a);if(_b.headerfont!=_n){_b.headerfont=_n;this.on_apply_style_headerfont(_n);}var _o=this.on_find_CurrentStyle_bodybackground(_a);if(_b.bodybackground!=_o){_b.bodybackground=_o;this.on_apply_style_bodybackground(_o);}var _p=this.on_find_CurrentStyle_bodygradation(_a);if(_b.bodygradation!=_p){_b.bodygradation=_p;this.on_apply_style_bodygradation(_p);}var _q=this.on_find_CurrentStyle_bodybordertype(_a);if(_b.bodybordertype!=_q){_b.bodybordertype=_q;this.on_apply_style_bodybordertype(_q);}var _r=this.on_find_CurrentStyle_bodyborder(_a);if(_b.bodyborder!=_r){_b.bodyborder=_r;this.on_apply_style_bodyborder(_r);}var _s=this.on_find_CurrentStyle_weekformat(_a);if(_b.weekformat!=_s){_b.weekformat=_s;}var _t=this.on_find_CurrentStyle_weekcolor(_a);if(_b.weekcolor!=_t){_b.weekcolor=_t;}var _u=this.on_find_CurrentStyle_weekbackground(_a);if(_b.weekbackground!=_u){_b.weekbackground=_u;}var _v=this.on_find_CurrentStyle_weekgradation(_a);if(_b.weekgradation!=_v){_b.weekgradation=_v;}var _w=this.on_find_CurrentStyle_weekfont(_a);if(_b.weekfont!=_w){_b.weekfont=_w;}var _x=this.on_find_CurrentStyle_todaycolor(_a);if(_b.todaycolor!=_x){_b.todaycolor=_x;}var _y=this.on_find_CurrentStyle_todaybackground(_a);if(_b.todaybackground!=_y){_b.todaybackground=_y;}var _z=this.on_find_CurrentStyle_todaygradation(_a);if(_b.todaygradation!=_z){_b.todaygradation=_z;}var _aa=this.on_find_CurrentStyle_todaybordertype(_a);if(_b.todaybordertype!=_aa){_b.todaybordertype=_aa;}var _ab=this.on_find_CurrentStyle_todayborder(_a);if(_b.todayborder!=_ab){_b.todayborder=_ab;}var _ac=this.on_find_CurrentStyle_todayfont(_a);if(_b.todayfont!=_ac){_b.todayfont=_ac;}var _ad=this.on_find_CurrentStyle_saturdaycolor(_a);if(_b.saturdaycolor!=_ad){_b.saturdaycolor=_ad;}var _ae=this.on_find_CurrentStyle_saturdaybackground(_a);if(_b.saturdaybackground!=_ae){_b.saturdaybackground=_ae;}var _af=this.on_find_CurrentStyle_saturdaygradation(_a);if(_b.saturdaygradation!=_af){_b.saturdaygradation=_af;}var _ag=this.on_find_CurrentStyle_saturdaybordertype(_a);if(_b.saturdaybordertype!=_ag){_b.saturdaybordertype=_ag;}var _ah=this.on_find_CurrentStyle_saturdayborder(_a);if(_b.saturdayborder!=_ah){_b.saturdayborder=_ah;}var _ai=this.on_find_CurrentStyle_saturdayfont(_a);if(_b.saturdayfont!=_ai){_b.saturdayfont=_ai;}var _aj=this.on_find_CurrentStyle_sundaycolor(_a);if(_b.sundaycolor!=_aj){_b.sundaycolor=_aj;}var _ak=this.on_find_CurrentStyle_sundaybackground(_a);if(_b.sundaybackground!=_ak){_b.sundaybackground=_ak;}var _al=this.on_find_CurrentStyle_sundaygradation(_a);if(_b.sundaygradation!=_al){_b.sundaygradation=_al;}var _am=this.on_find_CurrentStyle_sundaybordertype(_a);if(_b.sundaybordertype!=_am){_b.sundaybordertype=_am;}var _an=this.on_find_CurrentStyle_sundayborder(_a);if(_b.sundayborder!=_an){_b.sundayborder=_an;}var _ao=this.on_find_CurrentStyle_sundayfont(_a);if(_b.sundayfont!=_ao){_b.sundayfont=_ao;}var _ap=this.on_find_CurrentStyle_usetrailingday(_a);if(_b.usetrailingday!=_ap){_b.usetrailingday=_ap;}var _aq=this.on_find_CurrentStyle_trailingdaycolor(_a);if(_b.trailingdaycolor!=_aq){_b.trailingdaycolor=_aq;}var _ar=this.on_find_CurrentStyle_trailingdaybackground(_a);if(_b.trailingdaybackground!=_ar){_b.trailingdaybackground=_ar;}var _as=this.on_find_CurrentStyle_trailingdaygradation(_a);if(_b.trailingdaygradation!=_as){_b.trailingdaygradation=_as;}var _at=this.on_find_CurrentStyle_trailingdaybordertype(_a);if(_b.trailingdaybordertype!=_at){_b.trailingdaybordertype=_at;}var _au=this.on_find_CurrentStyle_trailingdayborder(_a);if(_b.trailingdayborder!=_au){_b.trailingdayborder=_au;}var _av=this.on_find_CurrentStyle_trailingdayfont(_a);if(_b.trailingdayfont!=_av){_b.trailingdayfont=_av;}var _aw=this.on_find_CurrentStyle_viewyearspin(_a);if(_b.viewyearspin!=_aw){_b.viewyearspin=_aw;this.on_apply_style_viewyearspin(_aw);}var _ax=this.on_find_CurrentStyle_viewmonthspin(_a);if(_b.viewmonthspin!=_ax){_b.viewmonthspin=_ax;this.on_apply_style_viewmonthspin(_ax);}};_pDatePicker.on_create_custom_style=function(){return new nexacro.DatePicker_Style(this);};_pDatePicker.on_create_custom_currentStyle=function(){return new nexacro.DatePicker_CurrentStyle();};_pDatePicker.on_find_CurrentStyle_align=function(_a){return this.parent._find_pseudo_obj("popupalign",_a,"align")||this._find_pseudo_obj("align",_a,"align");};_pDatePicker.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor("cursor",_a)||this._find_pseudo_obj("cursor",_a)||nexacro.Component._default_cursor;};_pDatePicker.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("popupbackground",_a,"background")||this._find_pseudo_obj("background",_a,"background");};_pDatePicker.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("popupborder",_a,"border")||this._find_pseudo_obj("border",_a,"border");};_pDatePicker.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("popupbordertype",_a,"bordertype")||this._find_pseudo_obj("bordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("popupgradation",_a,"gradation")||this._find_pseudo_obj("gradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_ncpadding=function(_a){return this._find_pseudo_obj("ncpadding",_a,"padding")||nexacro.DatePicker._defaultNCPadding;};_pDatePicker.on_find_CurrentStyle_daysize=function(_a){return this.parent._find_pseudo_obj("daysize",_a)||this._find_pseudo_obj("daysize",_a)||nexacro.DatePicker._defaultDaysize;};_pDatePicker.on_find_CurrentStyle_daybackground=function(_a){return this.parent._find_pseudo_obj("daybackground",_a,"background")||this._find_pseudo_obj("daybackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pDatePicker.on_find_CurrentStyle_daygradation=function(_a){return this.parent._find_pseudo_obj("daygradation",_a,"gradation")||this._find_pseudo_obj("daygradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_dayborder=function(_a){return this.parent._find_pseudo_obj("dayborder",_a,"border")||this._find_pseudo_obj("dayborder",_a,"border");};_pDatePicker.on_find_CurrentStyle_daybordertype=function(_a){return this.parent._find_pseudo_obj("daybordertype",_a,"bordertype")||this._find_pseudo_obj("daybordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_daycolor=function(_a){return this.parent._find_pseudo_obj("daycolor",_a,"color")||this._find_pseudo_obj("daycolor",_a,"color")||this._find_inherit_pseudo_obj("daycolor",_a);};_pDatePicker.on_find_CurrentStyle_dayfont=function(_a){return this.parent._find_pseudo_obj("dayfont",_a,"font")||this._find_pseudo_obj("dayfont",_a,"font")||this._find_inherit_pseudo_obj("dayfont",_a);};_pDatePicker.on_find_CurrentStyle_headerformat=function(_a){return this._find_pseudo_obj("headerformat",_a)||nexacro.DatePicker._defaultHeaderformat;};_pDatePicker.on_find_CurrentStyle_headerheight=function(_a){return this._find_pseudo_obj("headerheight",_a)||nexacro.DatePicker._defaultHeaderheight;};_pDatePicker.on_find_CurrentStyle_headerbackground=function(_a){return this._find_pseudo_obj("headerbackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_headergradation=function(_a){return this._find_pseudo_obj("headergradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_headerborder=function(_a){return this._find_pseudo_obj("headerborder",_a,"border");};_pDatePicker.on_find_CurrentStyle_headerbordertype=function(_a){return this._find_pseudo_obj("headerbordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_headercolor=function(_a){return this._find_pseudo_obj("headercolor",_a,"color");};_pDatePicker.on_find_CurrentStyle_headerfont=function(_a){return this._find_pseudo_obj("headerfont",_a,"font");};_pDatePicker.on_find_CurrentStyle_bodybackground=function(_a){return this._find_pseudo_obj("bodybackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_bodygradation=function(_a){return this._find_pseudo_obj("bodygradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_bodyborder=function(_a){return this._find_pseudo_obj("bodyborder",_a,"border");};_pDatePicker.on_find_CurrentStyle_bodybordertype=function(_a){return this._find_pseudo_obj("bodybordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_weekformat=function(_a){return this._find_pseudo_obj("weekformat",_a);};_pDatePicker.on_find_CurrentStyle_weekbackground=function(_a){return this._find_pseudo_obj("weekbackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_weekgradation=function(_a){return this._find_pseudo_obj("weekgradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_weekcolor=function(_a){return this._find_pseudo_obj("weekcolor",_a,"color");};_pDatePicker.on_find_CurrentStyle_weekfont=function(_a){return this._find_pseudo_obj("weekfont",_a)||nexacro.Component._default_font;};_pDatePicker.on_find_CurrentStyle_saturdaybackground=function(_a){return this._find_pseudo_obj("saturdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_saturdayborder=function(_a){return this._find_pseudo_obj("saturdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_saturdaybordertype=function(_a){return this._find_pseudo_obj("saturdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_saturdaycolor=function(_a){return this._find_pseudo_obj("saturdaycolor",_a,"color")||nexacro.DatePicker._defaultSaturdaycolor;};_pDatePicker.on_find_CurrentStyle_saturdayfont=function(_a){return this._find_pseudo_obj("saturdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_saturdaygradation=function(_a){return this._find_pseudo_obj("saturdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_sundaybackground=function(_a){return this._find_pseudo_obj("sundaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_sundaygradation=function(_a){return this._find_pseudo_obj("sundaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_sundayborder=function(_a){return this._find_pseudo_obj("sundayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_sundaybordertype=function(_a){return this._find_pseudo_obj("sundaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_sundaycolor=function(_a){return this._find_pseudo_obj("sundaycolor",_a,"color")||nexacro.DatePicker._defaultSundaycolor;};_pDatePicker.on_find_CurrentStyle_sundayfont=function(_a){return this._find_pseudo_obj("sundayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_todaybackground=function(_a){return this._find_pseudo_obj("todaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_todaygradation=function(_a){return this._find_pseudo_obj("todaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_todayborder=function(_a){return this._find_pseudo_obj("todayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_todaybordertype=function(_a){return this._find_pseudo_obj("todaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_todaycolor=function(_a){return this._find_pseudo_obj("todaycolor",_a,"color")||nexacro.DatePicker._defaultTodaycolor;};_pDatePicker.on_find_CurrentStyle_todayfont=function(_a){return this._find_pseudo_obj("todayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_usetrailingday=function(_a){return this.parent._find_pseudo_obj("usetrailingday",_a)||this._find_pseudo_obj("usetrailingday",_a)||nexacro.DatePicker._defaultUseTrailngday;};_pDatePicker.on_find_CurrentStyle_trailingdaybackground=function(_a){return this._find_pseudo_obj("trailingdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_trailingdaygradation=function(_a){return this._find_pseudo_obj("trailingdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_trailingdayborder=function(_a){return this._find_pseudo_obj("trailingdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_trailingdaybordertype=function(_a){return this._find_pseudo_obj("trailingdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_trailingdaycolor=function(_a){return this.parent._find_pseudo_obj("trailingdaycolor",_a,"color")||this._find_pseudo_obj("trailingdaycolor",_a,"color")||this.on_find_CurrentStyle_daycolor(_a);};_pDatePicker.on_find_CurrentStyle_trailingdayfont=function(_a){return this._find_pseudo_obj("trailingdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_viewmonthspin=function(_a){return this.parent._find_pseudo_obj("viewmonthspin",_a)||this._find_pseudo_obj("viewmonthspin",_a)||nexacro.DatePicker._defaultViewMonthSpin;};_pDatePicker.on_find_CurrentStyle_viewyearspin=function(_a){return this.parent._find_pseudo_obj("viewyearspin",_a)||this._find_pseudo_obj("viewyearspin",_a)||nexacro.DatePicker._defaultViewYearSpin;};_pDatePicker.on_update_style_ncpadding=function(){this.on_apply_style_ncpadding(this.currentstyle.ncpadding=this.on_find_CurrentStyle_ncpadding(this._pseudo));};_pDatePicker.on_update_style_daysize=function(){this.on_apply_style_daysize(this.currentstyle.daysize=this.on_find_CurrentStyle_daysize(this._pseudo));};_pDatePicker.on_update_style_daycolor=function(){this.on_apply_style_daycolor(this.currentstyle.daycolor=this.on_find_CurrentStyle_daycolor(this._pseudo));};_pDatePicker.on_update_style_daybackground=function(){this.on_apply_style_daybackground(this.currentstyle.daybackground=this.on_find_CurrentStyle_daybackground(this._pseudo));};_pDatePicker.on_update_style_daygradation=function(){this.on_apply_style_daygradation(this.currentstyle.daygradation=this.on_find_CurrentStyle_daygradation(this._pseudo));};_pDatePicker.on_update_style_dayborder=function(){this.on_apply_style_dayborder(this.currentstyle.dayborder=this.on_find_CurrentStyle_dayborder(this._pseudo));};_pDatePicker.on_update_style_daybordertype=function(){this.on_apply_style_daybordertype(this.currentstyle.daybordertype=this.on_find_CurrentStyle_daybordertype(this._pseudo));};_pDatePicker.on_update_style_dayfont=function(){this.on_apply_style_dayfont(this.currentstyle.dayfont=this.on_find_CurrentStyle_dayfont(this._pseudo));};_pDatePicker.on_update_style_headerformat=function(){this.on_apply_style_headerformat(this.currentstyle.headerformat=this.on_find_CurrentStyle_headerformat(this._pseudo));};_pDatePicker.on_update_style_headerheight=function(){this.on_apply_style_headerheight(this.currentstyle.headerheight=this.on_find_CurrentStyle_headerheight(this._pseudo));};_pDatePicker.on_update_style_headercolor=function(){this.on_apply_style_headercolor(this.currentstyle.headercolor=this.on_find_CurrentStyle_headercolor(this._pseudo));};_pDatePicker.on_update_style_headerbackground=function(){this.on_apply_style_headerbackground(this.currentstyle.headerbackground=this.on_find_CurrentStyle_headerbackground(this._pseudo));};_pDatePicker.on_update_style_headergradation=function(){this.on_apply_style_headergradation(this.currentstyle.headergradation=this.on_find_CurrentStyle_headergradation(this._pseudo));};_pDatePicker.on_update_style_headerborder=function(){this.on_apply_style_headerborder(this.currentstyle.headerborder=this.on_find_CurrentStyle_headerborder(this._pseudo));};_pDatePicker.on_update_style_headerbordertype=function(){this.on_apply_style_headerbordertype(this.currentstyle.headerbordertype=this.on_find_CurrentStyle_headerbordertype(this._pseudo));};_pDatePicker.on_update_style_headerfont=function(){this.on_apply_style_headerfont(this.currentstyle.headerfont=this.on_find_CurrentStyle_headerfont(this._pseudo));};_pDatePicker.on_update_style_bodybackground=function(){this.on_apply_style_bodybackground(this.currentstyle.bodybackground=this.on_find_CurrentStyle_bodybackground(this._pseudo));};_pDatePicker.on_update_style_bodygradation=function(){this.on_apply_style_bodygradation(this.currentstyle.bodygradation=this.on_find_CurrentStyle_bodygradation(this._pseudo));};_pDatePicker.on_update_style_bodyborder=function(){this.on_apply_style_bodyborder(this.currentstyle.bodyborder=this.on_find_CurrentStyle_bodyborder(this._pseudo));};_pDatePicker.on_update_style_bodybordertype=function(){this.on_apply_style_bodybordertype(this.currentstyle.bodybordertype=this.on_find_CurrentStyle_bodybordertype(this._pseudo));};_pDatePicker.on_update_style_weekformat=function(){this.on_apply_style_weekformat(this.currentstyle.weekformat=this.on_find_CurrentStyle_weekformat(this._pseudo));};_pDatePicker.on_update_style_weekcolor=function(){this.on_apply_style_weekcolor(this.currentstyle.weekcolor=this.on_find_CurrentStyle_weekcolor(this._pseudo));};_pDatePicker.on_update_style_weekbackground=function(){this.on_apply_style_weekbackground(this.currentstyle.weekbackground=this.on_find_CurrentStyle_weekbackground(this._pseudo));};_pDatePicker.on_update_style_weekgradation=function(){this.on_apply_style_weekgradation(this.currentstyle.weekgradation=this.on_find_CurrentStyle_weekgradation(this._pseudo));};_pDatePicker.on_update_style_weekfont=function(){this.on_apply_style_weekfont(this.currentstyle.weekfont=this.on_find_CurrentStyle_weekfont(this._pseudo));};_pDatePicker.on_update_style_todaycolor=function(){this.on_apply_style_todaycolor(this.currentstyle.todaycolor=this.on_find_CurrentStyle_todaycolor(this._pseudo));};_pDatePicker.on_update_style_todaybackground=function(){this.on_apply_style_todaybackground(this.currentstyle.todaybackground=this.on_find_CurrentStyle_todaybackground(this._pseudo));};_pDatePicker.on_update_style_todaygradation=function(){this.on_apply_style_todaygradation(this.currentstyle.todaygradation=this.on_find_CurrentStyle_todaygradation(this._pseudo));};_pDatePicker.on_update_style_todayborder=function(){this.on_apply_style_todayborder(this.currentstyle.todayborder=this.on_find_CurrentStyle_todayborder(this._pseudo));};_pDatePicker.on_update_style_todaybordertype=function(){this.on_apply_style_todaybordertype(this.currentstyle.todaybordertype=this.on_find_CurrentStyle_todaybordertype(this._pseudo));};_pDatePicker.on_update_style_todayfont=function(){this.on_apply_style_todayfont(this.currentstyle.todayfont=this.on_find_CurrentStyle_todayfont(this._pseudo));};_pDatePicker.on_update_style_saturdaycolor=function(){this.on_apply_style_saturdaycolor(this.currentstyle.saturdaycolor=this.on_find_CurrentStyle_saturdaycolor(this._pseudo));};_pDatePicker.on_update_style_saturdaybackground=function(){this.on_apply_style_saturdaybackground(this.currentstyle.saturdaybackground=this.on_find_CurrentStyle_saturdaybackground(this._pseudo));};_pDatePicker.on_update_style_saturdaygradation=function(){this.on_apply_style_saturdaygradation(this.currentstyle.saturdaygradation=this.on_find_CurrentStyle_saturdaygradation(this._pseudo));};_pDatePicker.on_update_style_saturdayborder=function(){this.on_apply_style_saturdayborder(this.currentstyle.saturdayborder=this.on_find_CurrentStyle_saturdayborder(this._pseudo));};_pDatePicker.on_update_style_saturdaybordertype=function(){this.on_apply_style_saturdaybordertype(this.currentstyle.saturdaybordertype=this.on_find_CurrentStyle_saturdaybordertype(this._pseudo));};_pDatePicker.on_update_style_saturdayfont=function(){this.on_apply_style_saturdayfont(this.currentstyle.saturdayfont=this.on_find_CurrentStyle_saturdayfont(this._pseudo));};_pDatePicker.on_update_style_sundaycolor=function(){this.on_apply_style_sundaycolor(this.currentstyle.sundaycolor=this.on_find_CurrentStyle_sundaycolor(this._pseudo));};_pDatePicker.on_update_style_sundaybackground=function(){this.on_apply_style_sundaybackground(this.currentstyle.sundaybackground=this.on_find_CurrentStyle_sundaybackground(this._pseudo));};_pDatePicker.on_update_style_sundaygradation=function(){this.on_apply_style_sundaygradation(this.currentstyle.sundaygradation=this.on_find_CurrentStyle_sundaygradation(this._pseudo));};_pDatePicker.on_update_style_sundayborder=function(){this.on_apply_style_sundayborder(this.currentstyle.sundayborder=this.on_find_CurrentStyle_sundayborder(this._pseudo));};_pDatePicker.on_update_style_sundaybordertype=function(){this.on_apply_style_sundaybordertype(this.currentstyle.sundaybordertype=this.on_find_CurrentStyle_sundaybordertype(this._pseudo));};_pDatePicker.on_update_style_sundayfont=function(){this.on_apply_style_sundayfont(this.currentstyle.sundayfont=this.on_find_CurrentStyle_sundayfont(this._pseudo));};_pDatePicker.on_update_style_usetrailingday=function(){this.on_apply_style_usetrailingday(this.currentstyle.usetrailingday=this.on_find_CurrentStyle_usetrailingday(this._pseudo));};_pDatePicker.on_update_style_trailingdaycolor=function(){this.on_apply_style_trailingdaycolor(this.currentstyle.trailingdaycolor=this.on_find_CurrentStyle_trailingdaycolor(this._pseudo));};_pDatePicker.on_update_style_trailingdaybackground=function(){this.on_apply_style_trailingdaybackground(this.currentstyle.trailingdaybackground=this.on_find_CurrentStyle_trailingdaybackground(this._pseudo));};_pDatePicker.on_update_style_trailingdaygradation=function(){this.on_apply_style_trailingdaygradation(this.currentstyle.trailingdaygradation=this.on_find_CurrentStyle_trailingdaygradation(this._pseudo));};_pDatePicker.on_update_style_trailingdayborder=function(){this.on_apply_style_trailingdayborder(this.currentstyle.trailingdayborder=this.on_find_CurrentStyle_trailingdayborder(this._pseudo));};_pDatePicker.on_update_style_trailingdaybordertype=function(){this.on_apply_style_trailingdaybordertype(this.currentstyle.trailingdaybordertype=this.on_find_CurrentStyle_trailingdaybordertype(this._pseudo));};_pDatePicker.on_update_style_trailingdayfont=function(){this.on_apply_style_trailingdayfont(this.currentstyle.trailingdayfont=this.on_find_CurrentStyle_trailingdayfont(this._pseudo));};_pDatePicker.on_update_style_viewyearspin=function(){this.on_apply_style_viewyearspin(this.currentstyle.viewyearspin=this.on_find_CurrentStyle_viewyearspin(this._pseudo));};_pDatePicker.on_update_style_viewmonthspin=function(){this.on_apply_style_viewmonthspin(this.currentstyle.viewmonthspin=this.on_find_CurrentStyle_viewmonthspin(this._pseudo));};_pDatePicker.on_apply_style_border=function(_a){var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_a,_c.bordertype);_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);}};_pDatePicker.on_apply_style_bordertype=function(_a){var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_c.border,_a);_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);}};_pDatePicker.on_apply_style_ncpadding=function(_a){;};_pDatePicker.on_apply_style_daysize=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daysize(_a);}};_pDatePicker.on_apply_style_daycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daycolor(_a);}};_pDatePicker.on_apply_style_daybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daybackground(_a);}};_pDatePicker.on_apply_style_rtlimagemirroring=function(_a){return;};_pDatePicker.on_apply_style_daygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daygradation(_a);}};_pDatePicker.on_apply_style_dayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_dayborder(_a);}};_pDatePicker.on_apply_style_daybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daybordertype(_a);}};_pDatePicker.on_apply_style_dayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_dayfont(_a);}};_pDatePicker.on_apply_style_headerformat=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c._setFormat(_a);}};_pDatePicker.on_apply_style_headerheight=function(_a){;};_pDatePicker.on_apply_style_headercolor=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_color(_a);}};_pDatePicker.on_apply_style_headerbackground=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_background(_a);}};_pDatePicker.on_apply_style_headergradation=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.style.set_gradation(_a);}};_pDatePicker.on_apply_style_headerborder=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_border(_a);}};_pDatePicker.on_apply_style_headerbordertype=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_bordertype(_a);}};_pDatePicker.on_apply_style_headerfont=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_font(_a);}};_pDatePicker.on_apply_style_bodybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_background(_a);}};_pDatePicker.on_apply_style_bodygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_gradation(_a);}};_pDatePicker.on_apply_style_bodyborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_border(_a);}};_pDatePicker.on_apply_style_bodybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_bordertype(_a);}};_pDatePicker.on_apply_style_weekformat=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekformat(_a);}};_pDatePicker.on_apply_style_weekcolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekcolor(_a);}};_pDatePicker.on_apply_style_weekbackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekbackground(_a);}};_pDatePicker.on_apply_style_weekgradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekgradation(_a);}};_pDatePicker.on_apply_style_weekborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekborder(_a);}};_pDatePicker.on_apply_style_weekbordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekbordertype(_a);}};_pDatePicker.on_apply_style_weekfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekfont(_a);}};_pDatePicker.on_apply_style_todaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaycolor(_a);}};_pDatePicker.on_apply_style_todaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaybackground(_a);}};_pDatePicker.on_apply_style_todaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaygradation(_a);}};_pDatePicker.on_apply_style_todayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todayborder(_a);}};_pDatePicker.on_apply_style_todaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaybordertype(_a);}};_pDatePicker.on_apply_style_todayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todayfont(_a);}};_pDatePicker.on_apply_style_saturdaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaycolor(_a);}};_pDatePicker.on_apply_style_saturdaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaybackground(_a);}};_pDatePicker.on_apply_style_saturdaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaygradation(_a);}};_pDatePicker.on_apply_style_saturdayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdayborder(_a);}};_pDatePicker.on_apply_style_saturdaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaybordertype(_a);}};_pDatePicker.on_apply_style_saturdayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdayfont(_a);}};_pDatePicker.on_apply_style_sundaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaycolor(_a);}};_pDatePicker.on_apply_style_sundaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaybackground(_a);}};_pDatePicker.on_apply_style_sundaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaygradation(_a);}};_pDatePicker.on_apply_style_sundayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundayborder(_a);}};_pDatePicker.on_apply_style_sundaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaybordertype(_a);}};_pDatePicker.on_apply_style_sundayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundayfont(_a);}};_pDatePicker.on_apply_style_usetrailingday=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_usetrailingday(_a);}};_pDatePicker.on_apply_style_trailingdaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaycolor(_a);}};_pDatePicker.on_apply_style_trailingdaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaybackground(_a);}};_pDatePicker.on_apply_style_trailingdaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaygradation(_a);}};_pDatePicker.on_apply_style_trailingdayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdayborder(_a);}};_pDatePicker.on_apply_style_trailingdaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaybordertype(_a);}};_pDatePicker.on_apply_style_trailingdayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdayfont(_a);}};_pDatePicker.on_apply_style_viewyearspin=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c._setViewYearSpin(_a);}};_pDatePicker.on_apply_style_viewmonthspin=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c._setViewMonthSpin(_a);}};_pDatePicker.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._header=new nexacro.DatePickerHeader("header","absolute",0,0,0,0,null,null,this);var _c=this._body=new nexacro.DatePickerBody("body","absolute",0,0,0,0,null,null,this);_b.createComponent();this.prevbutton=_b._prevButton;this.nextbutton=_b._nextButton;this.yearspin=_b._yearSpin;this.monthspin=_b._monthSpin;if(!this._delay_create){_c.createComponent();}}};_pDatePicker.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._header;var _c=this._body;if(this._delay_create){_c.createComponent(true);}_b._setEventHandler("onprevclick",this.on_notify_datepicker_onprevclick,this);_b._setEventHandler("onnextclick",this.on_notify_datepicker_onnextclick,this);_b._setEventHandler("onyearspin",this.on_notify_datepicker_onyearspin,this);_b._setEventHandler("onmonthspin",this.on_notify_datepicker_onmonthspin,this);_c._setEventHandler("ondayclick",this.on_notify_datepicker_ondayclick,this);this._setEventHandler("onlbuttondown",this.on_notify_datepicker_onlbuttondown);this._setEventHandler("ontouchstart",this.on_notify_datepicker_onlbuttondown);_b.on_created();_c.on_created();this.on_apply_prop_rtldirection();this._resizePicker();}};_pDatePicker.on_destroy_contents=function(){this.prevbutton=null;this.nextbutton=null;this.yearspin=null;this.monthspin=null;if(this._header){this._header.destroy();}if(this._body){this._body.destroy();}};_pDatePicker.on_change_containerRect=function(_a,_b){this._resizePicker();};_pDatePicker.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){var _c=this._header;var _d=this._body;if(_c){_c._setEnable(_a);}if(_d){_d._setEnable(_a);}}};_pDatePicker.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pDatePicker.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this._header){this._header.set_readonly(_a);}if(this._body){this._body.set_readonly(_a);}};_pDatePicker.set_value=function(_a){if(_a!=this.value){this.value=_a;}this.on_apply_value();};_pDatePicker.on_apply_value=function(){var _a=this.value;var _b=_a.substr(0,4);var _c=_a.substr(4,2);var _d=_a.substr(6,2);this._selected_year=parseInt(_b,10);this._selected_month=parseInt(_c,10);this._selected_day=parseInt(_d,10);if(this._header){this._header._setYear(_b);this._header._setMonth(_c);}if(this._body){this._body._setDate(_b,_c,_d);}};_pDatePicker.set_backgroundcolumn=function(_a){if(this._body){this._body.on_apply_backgroundcolumn(_a);}};_pDatePicker.on_apply_backgroundcolumn=function(_a){if(this._body){this._body.on_apply_backgroundcolumn(_a);}};_pDatePicker.on_apply_bordercolumn=function(_a){if(this._body){this._body.on_apply_bordercolumn(_a);}};_pDatePicker.on_apply_datecolumn=function(_a){if(this._body){this._body.on_apply_datecolumn(_a);}};_pDatePicker.on_apply_innerdataset=function(_a){if(this._body){this._body.on_apply_innerdataset(_a);}};_pDatePicker.on_apply_textcolorcolumn=function(_a){if(this._body){this._body.on_apply_textcolorcolumn(_a);}};_pDatePicker.on_notify_datepicker_onprevclick=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setYear(_a._year);_c._setMonth(_a._month);}};_pDatePicker.on_notify_datepicker_onnextclick=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setYear(_a._year);_c._setMonth(_a._month);}};_pDatePicker.on_notify_datepicker_onyearspin=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setYear(_a._year);}};_pDatePicker.on_notify_datepicker_onmonthspin=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setMonth(_a._month);}};_pDatePicker.on_notify_datepicker_ondayclick=function(_a,_b){if(!this.enable||this.readonly==true){return false;}this._header.hide_spindate();var _c=new nexacro.Date(_a._post_year,_a._post_month-1,_a._post_day);var _d=this.on_fire_ondayclick(_a,_c);if(_d||_d===undefined){this._selected_year=_a._post_year;this._selected_month=_a._post_month;this._selected_day=_a._post_day;}return _d;};_pDatePicker.on_notify_datepicker_onlbuttondown=function(_a,_b){if(!this.enable||this.readonly==true){return false;}if(_b.fromreferenceobject&&(_b.fromreferenceobject instanceof nexacro.DatePickerBody||_b.fromreferenceobject instanceof nexacro.DatePickerCtrl)){this._hide_spindate();}};_pDatePicker.on_fire_ondayclick=function(_a,_b){if(this.ondayclick&&this.ondayclick._has_handlers){var _c=new nexacro.CalendarDayClickEventInfo(_a,"ondayclick",_b);return this.ondayclick._fireEvent(this,_c);}return false;};_pDatePicker.on_fire_oncloseup=function(_a){if(this.oncloseup&&this.oncloseup._has_handlers){return this.oncloseup._fireEvent(this);}return false;};_pDatePicker.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this.parent;var _h=this._header;var _i=this._body;var _j=_i._year|0;var _k=_i._month|0;var _l=_i._day|0;var _m;switch(_a){case 13:{var _n=new nexacro.Date(_j,_k-1,_l);this.on_fire_ondayclick(this,_n);}break;case 37:{var _o=false;var _p=false;if(_c){_o=true;}else{_p=true;}if(_p){_l-=1;if(_l<=0){_o=true;}}if(_o){_k-=1;if(_k<=0){if(_j<=0){_j=9999;}else{_j-=1;}_k=12;}if(!_c){_l=_g._getEndDay(_j,_k)+_l;}}}break;case 38:{if(_c){_j-=1;}else{_l-=7;if(_l<=0){_k-=1;if(_k<=0){if(_j<=0){_j=9999;}else{_j-=1;}_k=12;}_l=_g._getEndDay(_j,_k)+_l;}}_m=true;}break;case 39:{var _q=false;var _r=false;if(_c){_q=true;}else{_r=true;}var _s=_g._getEndDay(_j,_k);if(_r){_l+=1;if(_l>_s){_q=true;}}if(_q){_k+=1;if(_k>12){if(_j>=9999){_j=0;}else{_j+=1;}_k=1;}if(_r){_l-=_s;}}}break;case 40:{if(_c){_j+=1;}else{_l+=7;var _s=_g._getEndDay(_j,_k);if(_l>_s){_k+=1;if(_k>12){if(_j>=9999){_j=0;}else{_j+=1;}_k=1;}_l-=_s;}}_m=true;}break;}if(_a>=37&&_a<=40){_j=_i._makeDateText(_j,"year");_k=_i._makeDateText(_k,"month");_l=_i._makeDateText(_l,"day");var _n=new nexacro.Date(_j,_k-1,_l);this._hide_spindate();if(_g.type=="monthonly"){this.on_fire_ondayclick(this,_n);}else{this.set_value(_j+_k+_l);}}return false;};_pDatePicker._resizePicker=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._pseudo;if(!_b){_b=this.on_find_CurrentStyle_ncpadding(_d);}if(!_a){_a=this.on_find_CurrentStyle_headerheight(_d);}var _e=this._client_width;var _f=this._client_height;var _g=this._client_left;var _h=this._client_top;var _i=0+_b.left;var _j=0+_b.top;var _k=(_e-_b.left-_b.right);var _l=(_f-_b.top-_b.bottom);var _m=0+_b.left;var _n=(_j/2)-(parseInt(_a,10)/2);var _o=(_e-_b.left-_b.right);var _p=parseInt(_a,10);this._body.move(_i,_j,_k,_l,null,null);this._header.move(_m,_n,_o,_p,null,null);}};_pDatePicker._on_apply_style_day=function(_a){var _b=this.getElement();if(_b){var _c=this._body;if(_c){var _d=_c._days;var _e=parseInt(_c._day,10);var _f=_d.length;var _g=this._preDay;var _h=null;var _i="normal";if(_g!= -1){_h=_d[_g];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_i);var _k=_h.on_find_CurrentStyle_border(_i);var _l=_h.on_find_CurrentStyle_bordertype(_i);var _m=_h.on_find_CurrentStyle_color(_i);var _n=_h.on_find_CurrentStyle_font(_i);var _o=_h.on_find_CurrentStyle_gradation(_i);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}}for(var _s=0;_s<_f;_s++ ){if(_d[_s].text=="1"){break;}}_e+=(_s-1);this._preDay=_e;_i="selected";if(!_a){_i="normal";}_h=_d[_e];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_i);var _k=_h.on_find_CurrentStyle_border(_i);var _l=_h.on_find_CurrentStyle_bordertype(_i);var _m=_h.on_find_CurrentStyle_color(_i);var _n=_h.on_find_CurrentStyle_font(_i);var _o=_h.on_find_CurrentStyle_gradation(_i);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}var _p=new Date();var _q=_p.getDate();_p=null;_i="normal";if(_c._isToday(_q)){_q+=(_s-1);_h=_d[_q];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_h._pseudo);var _k=_h.on_find_CurrentStyle_border(_h._pseudo);var _l=_h.on_find_CurrentStyle_bordertype(_h._pseudo);var _m=_h.on_find_CurrentStyle_color(_h._pseudo);var _n=_h.on_find_CurrentStyle_font(_h._pseudo);var _o=_h.on_find_CurrentStyle_gradation(_h._pseudo);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}this._preToday=_q;}else{var _r=this._preToday;if(_r!= -1){_h=_d[_r];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_i);var _k=_h.on_find_CurrentStyle_border(_i);var _l=_h.on_find_CurrentStyle_bordertype(_i);var _m=_h.on_find_CurrentStyle_color(_i);var _n=_h.on_find_CurrentStyle_font(_i);var _o=_h.on_find_CurrentStyle_gradation(_i);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}}}}}};_pDatePicker.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){this.on_change_containerRect(this._client_width,this._client_height);var _b=this._rtldirection;if(this._header){this._header._setRtlDirection(_b);}if(this._body){this._body._setRtlDirection(_b);}}};_pDatePicker._makeCssRefInfoCtrl=function(_a){_a._refcssobj=this;_a._refcssid="#"+_a.id;return this;};_pDatePicker._hide_spindate=function(){var _a=this._header;if(_a){_a.hide_spindate();}};delete _pDatePicker;nexacro.DatePickerHeader=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._event_list={"onprevclick":1,"onnextclick":1,"onyearspin":1,"onmonthspin":1};};var _pDatePickerHeader=nexacro._createPrototype(nexacro.Component,nexacro.DatePickerHeader);nexacro.DatePickerHeader.prototype=_pDatePickerHeader;_pDatePickerHeader._type_name="DatePickerHeader";_pDatePickerHeader._prevButton=null;_pDatePickerHeader._nextButton=null;_pDatePickerHeader._yearStatic=null;_pDatePickerHeader._monthStatic=null;_pDatePickerHeader._yearSpin=null;_pDatePickerHeader._monthSpin=null;_pDatePickerHeader._year="";_pDatePickerHeader._month="";_pDatePickerHeader._day="";_pDatePickerHeader._format="";_pDatePickerHeader._viewyearspin=false;_pDatePickerHeader._viewmonthspin=false;_pDatePickerHeader._prevButton=null;_pDatePickerHeader.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_color(_a);if(_b.color!=_c){_b.color=_c;this.on_apply_style_color(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;this.on_apply_style_font(_d);}};_pDatePickerHeader.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_headerbackground(_a);};_pDatePickerHeader.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_headerborder(_a);};_pDatePickerHeader.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_headerbordertype(_a);};_pDatePickerHeader.on_find_CurrentStyle_color=function(_a){var _b=this.parent.on_find_CurrentStyle_headercolor(_a)||this._find_inherit_pseudo_obj("color",_a)||nexacro.Component._default_color;return _b;};_pDatePickerHeader.on_find_CurrentStyle_font=function(_a){var _b=this.parent.on_find_CurrentStyle_headerfont(_a)||this._find_inherit_pseudo_obj("font",_a)||nexacro.Component._default_font;return _b;};_pDatePickerHeader.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_headergradation(_a);};_pDatePickerHeader.on_find_CurrentStyle_headerformat=function(_a){return this.parent.on_find_CurrentStyle_headerformat(_a);};_pDatePickerHeader.on_apply_style_color=function(_a){if(this._yearStatic){this._yearStatic.on_apply_style_color(_a);}if(this._monthStatic){this._monthStatic.on_apply_style_color(_a);}};_pDatePickerHeader.on_apply_style_font=function(_a){if(this._yearStatic){this._yearStatic.on_apply_style_font(_a);}if(this._monthStatic){this._monthStatic.on_apply_style_font(_a);}};_pDatePickerHeader.on_create_contents=function(){this._prevButton=new nexacro.PrevButtonCtrl("prevbutton","absolute",0,0,0,0,null,null,this);this._nextButton=new nexacro.NextButtonCtrl("nextbutton","absolute",0,0,0,0,null,null,this);this._yearStatic=new nexacro.HeaderStaticCtrl("yearStatic","absolute",0,0,0,0,null,null,this);this._monthStatic=new nexacro.HeaderStaticCtrl("monthStatic","absolute",0,0,0,0,null,null,this);this._yearSpin=new nexacro.HeaderSpinCtrl("yearspin","absolute",0,0,0,0,null,null,this);this._monthSpin=new nexacro.HeaderSpinCtrl("monthspin","absolute",0,0,0,0,null,null,this);this._prevButton.createComponent();this._nextButton.createComponent();this._yearStatic.createComponent();this._monthStatic.createComponent();this._yearSpin.createComponent();this._monthSpin.createComponent();this._yearSpin.set_visible(false);this._yearSpin.set_min("0");this._yearSpin.set_max("9999");this._yearSpin.set_circulation(true);this._yearSpin.set_displaycomma(false);this._monthSpin.set_visible(false);this._monthSpin.set_min("1");this._monthSpin.set_max("12");this._monthSpin.set_circulation(true);this._monthSpin.set_displaycomma(false);};_pDatePickerHeader.on_created_contents=function(){this.on_apply_prop_enable(this.enable);this._prevButton._setEventHandler("onclick",this.on_notify_header_onprevclick,this);this._nextButton._setEventHandler("onclick",this.on_notify_header_onnextclick,this);this._yearStatic._setEventHandler("onlbuttondown",this.on_notify_header_onyearstatic_lbuttondown,this);this._yearStatic._setEventHandler("ontouchend",this.on_notify_header_onyearstatic_lbuttondown,this);this._monthStatic._setEventHandler("onlbuttondown",this.on_notify_header_onmonthstatic_lbuttondown,this);this._monthStatic._setEventHandler("ontouchend",this.on_notify_header_onmonthstatic_lbuttondown,this);this._yearSpin._setEventHandler("oneditclick",this.on_notify_header_onyearclick,this);this._yearSpin._setEventHandler("onspin",this.on_notify_header_onyearspin,this);this._yearSpin.spinedit._setEventHandler("onkeydown",this.on_notify_header_onyearkeydown,this);this._monthSpin.spinedit._setEventHandler("onkeydown",this.on_notify_header_onmonthkeydown,this);this._monthSpin._setEventHandler("oneditclick",this.on_notify_header_onmonthclick,this);this._monthSpin._setEventHandler("onspin",this.on_notify_header_onmonthspin,this);this._yearSpin.set_value(this._year);this._monthSpin.set_value(this._month);this._prevButton.on_created();this._nextButton.on_created();this._yearStatic.on_created();this._monthStatic.on_created();this._yearSpin.on_created();this._monthSpin.on_created();this.on_apply_prop_rtldirection();};_pDatePickerHeader.on_destroy_contents=function(){if(this._prevButton){this._prevButton.destroy();this._prevButton=null;}if(this._nextButton){this._nextButton.destroy();this._nextButton=null;}if(this._yearStatic){this._yearStatic.destroy();this._yearStatic=null;}if(this._monthStatic){this._monthStatic.destroy();this._monthStatic=null;}if(this._yearSpin){this._yearSpin.destroy();this._yearSpin=null;}if(this._monthSpin){this._monthSpin.destroy();this._monthSpin=null;}};_pDatePickerHeader.on_change_containerRect=function(_a,_b){this._resizeHeader();};_pDatePickerHeader._setEnable=function(_a){nexacro.Component.prototype._setEnable.call(this,_a);if(this._yearSpin){this._yearSpin._setEnable(_a);}if(this._monthSpin){this._monthSpin._setEnable(_a);}};_pDatePickerHeader.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){if(this._prevButton){this._prevButton._setEnable(_a);}if(this._nextButton){this._nextButton._setEnable(_a);}if(this._yearStatic){this._yearStatic._setEnable(_a);}if(this._monthStatic){this._monthStatic._setEnable(_a);}}};_pDatePickerHeader.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){this.on_change_containerRect(this._client_width,this._client_height);var _b=this._rtldirection;if(this._prevButton){this._prevButton._setRtlDirection(_b);var _c=this._prevButton._img_elem;if(_c){_c.setElementImageMirror(null,true);}}if(this._nextButton){this._nextButton._setRtlDirection(_b);var _c=this._nextButton._img_elem;if(_c){_c.setElementImageMirror(null,true);}}if(this._yearStatic){this._yearStatic._setRtlDirection(_b);}if(this._monthStatic){this._monthStatic._setRtlDirection(_b);}if(this._yearSpin){this._yearSpin._setRtlDirection(_b);}if(this._monthSpin){this._monthSpin._setRtlDirection(_b);}}};_pDatePickerHeader.on_apply_custom_setfocus=function(_a){};_pDatePickerHeader.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pDatePickerHeader.on_apply_readonly=function(){var _a=this.readonly;var _b=this.getElement();if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(_b){var _c=this._yearSpin;if(_c){_c.set_readonly(_a);}var _d=this._monthSpin;if(_d){_d.set_readonly(_a);}}};_pDatePickerHeader._setYear=function(_a){if(_a!=this._year){this._year=_a;this.on_apply_year();}};_pDatePickerHeader.on_apply_year=function(){var _a=this.getElement();if(_a&&this._yearStatic){var _b=this._year;if(_b===null||_b===undefined||_b===""){var _c=new Date();_b=_c.getFullYear();_c=null;}else{_b=parseInt(_b,10);if(_b<10){_b="000"+_b;}else if(_b<100){_b="00"+_b;}else if(_b<1000){_b="0"+_b;}}var _d=this.on_find_CurrentStyle_headerformat(this._pseudo);this._yearStatic.set_text(_b+(((this.on_find_CurrentStyle_headerformat(this._pseudo))=="MM.yyyy")?"":"."));this._yearSpin.set_value(_b);}};_pDatePickerHeader._setMonth=function(_a){if(_a!=this._month){this._month=_a;this.on_apply_month();}};_pDatePickerHeader.on_apply_month=function(){var _a=this.getElement();if(_a&&this._monthStatic){var _b=this._month;if(_b===null||_b===undefined||_b===""){var _c=new Date();_b=_c.getMonth()+1;_c=null;}else{_b=parseInt(_b,10);this._month=_b=(_b<10?"0":"")+_b;}this._monthStatic.set_text(_b+(((this.on_find_CurrentStyle_headerformat(this._pseudo))=="MM.yyyy")?".":""));this._monthSpin.set_value(_b);}};_pDatePickerHeader._setDay=function(_a){if(_a!=this._day){this._day=_a;}};_pDatePickerHeader._setViewYearSpin=function(_a){if(typeof _a=='object'){_a=(_a.value!==undefined)?nexacro._toBoolean(_a.value):true;}else{_a=nexacro._toBoolean(_a);}if(_a!=this._viewyearspin){this._viewyearspin=_a;this.on_apply_viewyearspin();}};_pDatePickerHeader.on_apply_viewyearspin=function(){this.hide_spindate();};_pDatePickerHeader._setViewMonthSpin=function(_a){if(typeof _a=='object'){_a=(_a.value!==undefined)?nexacro._toBoolean(_a.value):true;}else{_a=nexacro._toBoolean(_a);}if(_a!=this._viewmonthspin){this._viewmonthspin=_a;this.on_apply_viewmonthspin();}};_pDatePickerHeader.on_apply_viewmonthspin=function(){this.hide_spindate();};_pDatePickerHeader._setFormat=function(_a){if(_a!=this._format){this._format=_a;this.on_apply_format();}};_pDatePickerHeader.on_apply_format=function(){;};_pDatePickerHeader.on_notify_header_onprevclick=function(_a,_b){if(!this.enable||this.readonly){return false;}var _c=parseInt(this._month,10);var _d=parseInt(this._year,10);if(_c==1){_c=12;if(_d<=1){_d=10000;}this._setYear(_d-1);}else{_c-- ;}this.hide_spindate();this._setMonth(_c);this.on_fire_onprevclick(_a,_b);};_pDatePickerHeader.on_notify_header_onnextclick=function(_a,_b){if(!this.enable||this.readonly){return false;}var _c=parseInt(this._month,10);var _d=parseInt(this._year,10);if(_c==12){_c=1;if(_d==9999){_d=0;}else{_d+=1;}}else{_c++ ;}this.hide_spindate();this._setYear(_d);this._setMonth(_c);this.on_fire_onnextclick(_a,_b);};_pDatePickerHeader.on_notify_header_onyearstatic_lbuttondown=function(_a,_b){if(!this.enable||this.readonly){return false;}if(this._yearSpin){this._yearStatic.set_visible(false);this._yearSpin.set_visible(true);this._yearSpin.set_value(this._year);}};_pDatePickerHeader.on_notify_header_onmonthstatic_lbuttondown=function(_a,_b){if(!this.enable||this.readonly){return false;}if(this._monthSpin){this._monthStatic.set_visible(false);this._monthSpin.set_visible(true);this._monthSpin.set_value(this._month);}};_pDatePickerHeader.on_notify_header_onyearkeydown=function(_a,_b){if(_b.keycode==nexacro.Event.KEY_ENTER){this._setYear(_a.value);this.on_fire_onyearspin(_a,_b);var _c=this.parent;var _d=this._year+""+this._month+""+_c._selected_day;var _e=_c._calendar._makeDateObj(_d);var _f=_e.getDate();if(_f!=_c._selected_day){_f=_c._calendar._validationDateStr(_f);}var _g=this._year+""+this._month+""+_f;_c._calendar.set_value(_g);}return false;};_pDatePickerHeader.on_notify_header_onmonthkeydown=function(_a,_b){if(_b.keycode==nexacro.Event.KEY_ENTER){var _c=parseInt(_a.value,10);if(_c<1){_c=12;_a.set_value(_c);}else if(_c>12){_c=1;_a.set_value(_c);}this._setMonth(_c);this.on_fire_onmonthspin(_a,_b);var _d=this.parent;var _e=this._year+""+this._month+""+_d._selected_day;var _f=_d._calendar._makeDateObj(_e);var _g=_f.getDate();if(_g!=_d._selected_day){_g=_d._calendar._validationDateStr(_g);}var _h=this._year+""+this._month+""+_g;_d._calendar.set_value(_h);}return false;};_pDatePickerHeader.on_notify_header_onyearclick=function(_a,_b){if(!this.enable||this.readonly){return false;}};_pDatePickerHeader.on_notify_header_onyearspin=function(_a,_b){if(this._yearSpin){this._setYear(_b.postvalue);this.on_fire_onyearspin(_a,_b);}};_pDatePickerHeader.on_notify_header_onmonthclick=function(_a,_b){if(!this.enable||this.readonly){return false;}};_pDatePickerHeader.on_notify_header_onmonthspin=function(_a,_b){if(this._monthSpin){var _c=parseInt(_b.postvalue,10);if(_c<1){_c=12;_a.set_value(_c);}else if(_c>12){_c=1;_a.set_value(_c);}this._setMonth(_c);this.on_fire_onmonthspin(_a,_b);}};_pDatePickerHeader.on_fire_onprevclick=function(_a,_b){if(this.onprevclick&&this.onprevclick._has_handlers){return this.onprevclick._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_onnextclick=function(_a,_b){if(this.onnextclick&&this.onnextclick._has_handlers){return this.onnextclick._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_onyearspin=function(_a,_b){if(this.onyearspin&&this.onyearspin._has_handlers){return this.onyearspin._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_onmonthspin=function(_a,_b){if(this.onmonthspin&&this.onmonthspin._has_handlers){return this.onmonthspin._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _o=_m?_m.parent.parent.id:"";var _p=_m?_m.parent.parent.parent.id:"";if(this._getWindow()._cur_ldown_elem==_m&&(_o!="yearspin"&&_o!="monthspin"&&_o!="yearStatic"&&_o!="monthStatic")&&(_p!="yearspin"&&_p!="monthspin"&&_p!="yearStatic"&&_p!="monthStatic")){this.hide_spindate();}return _n;};_pDatePickerHeader.hide_spindate=function(){if(this._yearStatic||this._monthStatic){var _a=this._viewyearspin;var _b=this._viewmonthspin;if(_a){if(_b){this._yearStatic.set_visible(false);this._yearSpin.set_visible(true);this._monthStatic.set_visible(false);this._monthSpin.set_visible(true);}else{this._yearStatic.set_visible(false);this._yearSpin.set_visible(true);this._monthStatic.set_visible(true);this._monthSpin.set_visible(false);}}else{if(_b){this._yearStatic.set_visible(true);this._yearSpin.set_visible(false);this._monthStatic.set_visible(false);this._monthSpin.set_visible(true);}else{this._yearStatic.set_visible(true);this._yearSpin.set_visible(false);this._monthStatic.set_visible(true);this._monthSpin.set_visible(false);}}}};_pDatePickerHeader._resizeHeader=function(){var _a=this.getElement();if(_a){var _b=this._client_width;var _c=this._client_height;var _d=0;var _e=0;var _f=_c;var _g=_c;var _h=_b-_c;var _i=0;var _j=_c;var _k=_c;var _l=this.on_find_CurrentStyle_font(this._pseudo);var _m=this.on_find_CurrentStyle_letterspace(this._pseudo);var _n=this.on_find_CurrentStyle_headerformat(this._pseudo);var _o=this._month<10?"0"+parseInt(this._month,10):this._month+"";var _p=nexacro._getTextSize2(_m,this._year+".",_l);var _q=nexacro._getTextSize2(_m,this._month+".",_l);var _r=_p[0]+2;var _s=_p[1];var _t=_q[0]+2;var _u=_q[1];var _v=(((_d+_f)+_h)/2)-((_r+_t)/2);if(_n=="MM.yyyy"){var _w=_v;var _x=_t;var _y=_w+_x;var _z=_r;}else{var _y=_v;var _z=_r;var _w=_y+_z;var _x=_t;}var _aa=0;var _ab=0;var _ac=_c;var _ad=_c;var _ae=parseInt(_l.size,10);var _af=_ae+10;var _ag=Math.ceil((_c-_af)/2);var _ah=(_ae*1.7);var _ai=_ag;var _aj=_r+_ah;var _ak=_af;var _al=_ag;var _am=_t+_ah;var _an=_af;if(_n=="MM.yyyy"){var _ao=_y+1;var _ap=_w-_ah;}else{var _ao=_v-_ah;var _ap=_w+1;}var _aq=this._prevButton;var _ar=this._nextButton;var _as=this._yearStatic;var _at=this._monthStatic;var _au=this._yearSpin;var _av=this._monthSpin;if(_aq){_aq.move(_d,_e,_f,_g,null,null);}if(_ar){_ar.move(_h,_i,_j,_k,null,null);}var _aw=this._rtldirection;this._rtldirection="ltr";if(_as){_as.move(_y,_aa,_z,_ad,null,null);}if(_at){_at.move(_w,_ab,_x,_ac,null,null);}if(_au){_au.move(_ao,_ai,_aj,_ak,null,null);}if(_av){_av.move(_ap,_al,_am,_an,null,null);}this._rtldirection=_aw;}};nexacro.PrevButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pPrevButtonCtrl=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.PrevButtonCtrl);nexacro.PrevButtonCtrl.prototype=_pPrevButtonCtrl;_pPrevButtonCtrl._makeCssRefInfo=function(){return (this.parent.parent._makeCssRefInfoCtrl(this));};nexacro.NextButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pNextButtonCtrl=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.NextButtonCtrl);nexacro.NextButtonCtrl.prototype=_pNextButtonCtrl;_pNextButtonCtrl._makeCssRefInfo=function(){return (this.parent.parent._makeCssRefInfoCtrl(this));};nexacro.HeaderStaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};var _pHeaderStaticCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.HeaderStaticCtrl);nexacro.HeaderStaticCtrl.prototype=_pHeaderStaticCtrl;_pHeaderStaticCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a)||this._find_inherit_pseudo_obj("font",_a)||nexacro.Component._default_font;};_pHeaderStaticCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a)||this._find_inherit_pseudo_obj("color",_a)||nexacro.Component._default_color;};nexacro.HeaderSpinCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.SpinCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};var _pHeaderSpinCtrl=nexacro._createPrototype(nexacro.SpinCtrl,nexacro.HeaderSpinCtrl);nexacro.HeaderSpinCtrl.prototype=_pHeaderSpinCtrl;_pHeaderSpinCtrl.on_find_CurrentStyle_buttonsize=function(_a){var _b=this._client_height;return _b;};_pHeaderSpinCtrl._makeCssRefInfo=function(){return (this.parent.parent._makeCssRefInfoCtrl(this));};delete _pPrevButtonCtrl;delete _pNextButtonCtrl;delete _pHeaderStaticCtrl;delete _pHeaderSpinCtrl;nexacro.DatePickerBody_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pDatePickerBodyStyle=nexacro._createPrototype(nexacro.Style,nexacro.DatePickerBody_Style);nexacro.DatePickerBody_Style.prototype=_pDatePickerBodyStyle;eval(nexacro._createValueAttributeEvalStr("_pDatePickerBodyStyle","usetrailingday"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerBodyStyle","weekformat"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerBodyStyle","daysize"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","daycolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","daybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","daygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","dayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","daybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","dayfont"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","weekcolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","weekbackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","weekgradation"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","weekfont"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","saturdaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","sundaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","todaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","trailingdaycolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","todaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","todaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","todayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","todaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","todayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","saturdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","saturdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","saturdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","saturdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","saturdayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","sundaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","sundaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","sundayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","sundaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","sundayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","trailingdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","trailingdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","trailingdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","trailingdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","trailingdayfont"));_pDatePickerBodyStyle.__custom_emptyObject=function(){this.usetrailingday=null;this.weekformat=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.saturdaycolor=null;this.sundaycolor=null;this.todaycolor=null;this.trailingdaycolor=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdayfont=null;};_pDatePickerBodyStyle.__get_custom_style_value=function(){var _a="";if(this.usetrailingday&&!this.usetrailingday._is_empty){_a+="usetrailingday:"+this.usetrailingday._value+"; ";}if(this.weekformat&&!this.weekformat._is_empty){_a+="weekformat:"+this.weekformat._value+"; ";}if(this.daysize&&!this.daysize._is_empty){_a+="daysize:"+this.daysize._value+"; ";}if(this.daycolor&&!this.daycolor._is_empty){_a+="daycolor:"+this.daycolor._value+"; ";}if(this.daybackground&&!this.daybackground._is_empty){_a+="daybackground:"+this.daybackground._value+"; ";}if(this.daygradation&&!this.daygradation._is_empty){_a+="daygradation:"+this.daygradation._value+"; ";}if(this.dayborder&&!this.dayborder._is_empty){_a+="dayborder:"+this.dayborder._value+"; ";}if(this.daybordertype&&!this.daybordertype._is_empty){_a+="daybordertype:"+this.daybordertype._value+"; ";}if(this.dayfont&&!this.dayfont._is_empty){_a+="dayfont:"+this.dayfont._value+"; ";}if(this.weekcolor&&!this.weekcolor._is_empty){_a+="weekcolor:"+this.weekcolor._value+"; ";}if(this.weekbackground&&!this.weekbackground._is_empty){_a+="weekbackground:"+this.weekbackground._value+"; ";}if(this.weekgradation&&!this.weekgradation._is_empty){_a+="weekgradation:"+this.weekgradation._value+"; ";}if(this.weekfont&&!this.weekfont._is_empty){_a+="weekfont:"+this.weekfont._value+"; ";}if(this.saturdaycolor&&!this.saturdaycolor._is_empty){_a+="saturdaycolor:"+this.saturdaycolor._value+"; ";}if(this.sundaycolor&&!this.sundaycolor._is_empty){_a+="sundaycolor:"+this.sundaycolor._value+"; ";}if(this.todaycolor&&!this.todaycolor._is_empty){_a+="todaycolor:"+this.todaycolor._value+"; ";}if(this.trailingdaycolor&&!this.trailingdaycolor._is_empty){_a+="trailingdaycolor:"+this.trailingdaycolor._value+"; ";}if(this.todaybackground&&!this.todaybackground._is_empty){_a+="todaybackground:"+this.todaybackground._value+"; ";}if(this.todaygradation&&!this.todaygradation._is_empty){_a+="todaygradation:"+this.todaygradation._value+"; ";}if(this.todayborder&&!this.todayborder._is_empty){_a+="todayborder:"+this.todayborder._value+"; ";}if(this.todaybordertype&&!this.todaybordertype._is_empty){_a+="todaybordertype:"+this.todaybordertype._value+"; ";}if(this.todayfont&&!this.todayfont._is_empty){_a+="todayfont:"+this.todayfont._value+"; ";}if(this.saturdaybackground&&!this.saturdaybackground._is_empty){_a+="saturdaybackground:"+this.saturdaybackground._value+"; ";}if(this.saturdaygradation&&!this.saturdaygradation._is_empty){_a+="saturdaygradation:"+this.saturdaygradation._value+"; ";}if(this.saturdayborder&&!this.saturdayborder._is_empty){_a+="saturdayborder:"+this.saturdayborder._value+"; ";}if(this.saturdaybordertype&&!this.saturdaybordertype._is_empty){_a+="saturdaybordertype:"+this.saturdaybordertype._value+"; ";}if(this.saturdayfont&&!this.saturdayfont._is_empty){_a+="saturdayfont:"+this.saturdayfont._value+"; ";}if(this.sundaybackground&&!this.sundaybackground._is_empty){_a+="sundaybackground:"+this.sundaybackground._value+"; ";}if(this.sundaygradation&&!this.sundaygradation._is_empty){_a+="sundaygradation:"+this.sundaygradation._value+"; ";}if(this.sundayborder&&!this.sundayborder._is_empty){_a+="sundayborder:"+this.sundayborder._value+"; ";}if(this.sundaybordertype&&!this.sundaybordertype._is_empty){_a+="sundaybordertype:"+this.sundaybordertype._value+"; ";}if(this.sundayfont&&!this.sundayfont._is_empty){_a+="sundayfont:"+this.sundayfont._value+"; ";}if(this.trailingdaybackground&&!this.trailingdaybackground._is_empty){_a+="trailingdaybackground:"+this.trailingdaybackground._value+"; ";}if(this.trailingdaygradation&&!this.trailingdaygradation._is_empty){_a+="trailingdaygradation:"+this.trailingdaygradation._value+"; ";}if(this.trailingdayborder&&!this.trailingdayborder._is_empty){_a+="trailingdayborder:"+this.trailingdayborder._value+"; ";}if(this.trailingdaybordertype&&!this.trailingdaybordertype._is_empty){_a+="trailingdaybordertype:"+this.trailingdaybordertype._value+"; ";}if(this.trailingdayfont&&!this.trailingdayfont._is_empty){_a+="trailingdayfont:"+this.trailingdayfont._value+"; ";}return _a;};nexacro.DatePickerBody_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.usetrailingday=null;this.weekformat=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.saturdaycolor=null;this.sundaycolor=null;this.todaycolor=null;this.trailingdaycolor=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdayfont=null;};var _pDatePickerBodyCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.DatePickerBody_CurrentStyle);nexacro.DatePickerBody_CurrentStyle.prototype=_pDatePickerBodyCurrentStyle;_pDatePickerBodyCurrentStyle.__custom_emptyObject=_pDatePickerBodyStyle.__custom_emptyObject;_pDatePickerBodyCurrentStyle.__get_custom_style_value=_pDatePickerBodyStyle.__get_custom_style_value;delete _pDatePickerBodyStyle;delete _pDatePickerBodyCurrentStyle;nexacro.DatePickerBody=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._weekBg=null;this._weeks=[];this._days=[];this._changedDays=[];this._calendar=_i._calendar;this._event_list={"ondayclick":1};};var _pDatePickerBody=nexacro._createPrototype(nexacro.Component,nexacro.DatePickerBody);nexacro.DatePickerBody.prototype=_pDatePickerBody;_pDatePickerBody._type_name="DatePickerBody";_pDatePickerBody._weeks=null;_pDatePickerBody._days=null;_pDatePickerBody._year="";_pDatePickerBody._month="";_pDatePickerBody._day="";_pDatePickerBody._changedDays=null;_pDatePickerBody._endDayN=[31,28,31,30,31,30,31,31,30,31,30,31];_pDatePickerBody._endDayL=[31,29,31,30,31,30,31,31,30,31,30,31];_pDatePickerBody.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_daysize(_a);if(_b.daysize!=_e){_b.daysize=_e;}var _f=this.on_find_CurrentStyle_daycolor(_a);if(_b.daycolor!=_f){_b.daycolor=_f;}var _g=this.on_find_CurrentStyle_daybackground(_a);if(_b.daybackground!=_g){_b.daybackground=_g;}var _h=this.on_find_CurrentStyle_daygradation(_a);if(_b.daygradation!=_h){_b.daygradation=_h;}var _i=this.on_find_CurrentStyle_dayborder(_a);if(_b.dayborder!=_i){_b.dayborder=_i;}var _j=this.on_find_CurrentStyle_daybordertype(_a);if(_b.daybordertype!=_j){_b.daybordertype=_j;}var _k=this.on_find_CurrentStyle_dayfont(_a);if(_b.dayfont!=_k){_b.dayfont=_k;}var _l=this.on_find_CurrentStyle_weekformat(_a);if(_b.weekformat!=_l){_b.weekformat=_l;this.on_apply_style_weekformat(_l);}var _m=this.on_find_CurrentStyle_weekcolor(_a);if(_b.weekcolor!=_m){_b.weekcolor=_m;}var _n=this.on_find_CurrentStyle_weekbackground(_a);if(_b.weekbackground!=_n){_b.weekbackground=_n;}var _o=this.on_find_CurrentStyle_weekgradation(_a);if(_b.weekgradation!=_o){_b.weekgradation=_o;}var _p=this.on_find_CurrentStyle_weekfont(_a);if(_b.weekfont!=_p){_b.weekfont=_p;}var _q=this.on_find_CurrentStyle_todaycolor(_a);if(_b.todaycolor!=_q){_b.todaycolor=_q;}var _r=this.on_find_CurrentStyle_todaybackground(_a);if(_b.todaybackground!=_r){_b.todaybackground=_r;}var _s=this.on_find_CurrentStyle_todaygradation(_a);if(_b.todaygradation!=_s){_b.todaygradation=_s;}var _t=this.on_find_CurrentStyle_todaybordertype(_a);if(_b.todaybordertype!=_t){_b.todaybordertype=_t;}var _u=this.on_find_CurrentStyle_todayborder(_a);if(_b.todayborder!=_u){_b.todayborder=_u;}var _v=this.on_find_CurrentStyle_todayfont(_a);if(_b.todayfont!=_v){_b.todayfont=_v;}var _w=this.on_find_CurrentStyle_saturdaycolor(_a);if(_b.saturdaycolor!=_w){_b.saturdaycolor=_w;}var _x=this.on_find_CurrentStyle_saturdaybackground(_a);if(_b.saturdaybackground!=_x){_b.saturdaybackground=_x;}var _y=this.on_find_CurrentStyle_saturdaygradation(_a);if(_b.saturdaygradation!=_y){_b.saturdaygradation=_y;}var _z=this.on_find_CurrentStyle_saturdaybordertype(_a);if(_b.saturdaybordertype!=_z){_b.saturdaybordertype=_z;}var _aa=this.on_find_CurrentStyle_saturdayborder(_a);if(_b.saturdayborder!=_aa){_b.saturdayborder=_aa;}var _ab=this.on_find_CurrentStyle_saturdayfont(_a);if(_b.saturdayfont!=_ab){_b.saturdayfont=_ab;}var _ac=this.on_find_CurrentStyle_sundaycolor(_a);if(_b.sundaycolor!=_ac){_b.sundaycolor=_ac;}var _ad=this.on_find_CurrentStyle_sundaybackground(_a);if(_b.sundaybackground!=_ad){_b.sundaybackground=_ad;}var _ae=this.on_find_CurrentStyle_sundaygradation(_a);if(_b.sundaygradation!=_ae){_b.sundaygradation=_ae;}var _af=this.on_find_CurrentStyle_sundaybordertype(_a);if(_b.sundaybordertype!=_af){_b.sundaybordertype=_af;}var _ag=this.on_find_CurrentStyle_sundayborder(_a);if(_b.sundayborder!=_ag){_b.sundayborder=_ag;}var _ah=this.on_find_CurrentStyle_sundayfont(_a);if(_b.sundayfont!=_ah){_b.sundayfont=_ah;}var _ai=this.on_find_CurrentStyle_usetrailingday(_a);if(_b.usetrailingday!=_ai){_b.usetrailingday=_ai;}var _aj=this.on_find_CurrentStyle_trailingdaycolor(_a);if(_b.trailingdaycolor!=_aj){_b.trailingdaycolor=_aj;}var _ak=this.on_find_CurrentStyle_trailingdaybackground(_a);if(_b.trailingdaybackground!=_ak){_b.trailingdaybackground=_ak;}var _al=this.on_find_CurrentStyle_trailingdaygradation(_a);if(_b.trailingdaygradation!=_al){_b.trailingdaygradation=_al;}var _am=this.on_find_CurrentStyle_trailingdaybordertype(_a);if(_b.trailingdaybordertype!=_am){_b.trailingdaybordertype=_am;}var _an=this.on_find_CurrentStyle_trailingdayborder(_a);if(_b.trailingdayborder!=_an){_b.trailingdayborder=_an;}var _ao=this.on_find_CurrentStyle_trailingdayfont(_a);if(_b.trailingdayfont!=_ao){_b.trailingdayfont=_ao;}};_pDatePickerBody.on_create_custom_style=function(){return new nexacro.DatePickerBody_Style(this);};_pDatePickerBody.on_create_custom_currentStyle=function(){return new nexacro.DatePickerBody_CurrentStyle();};_pDatePickerBody.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_bodybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_bodyborder(_a);};_pDatePickerBody.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_bodybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_bodygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_daycolor(_a);};_pDatePickerBody.on_find_CurrentStyle_daysize=function(_a){return this.parent.on_find_CurrentStyle_daysize(_a)||this._find_pseudo_obj("daysize",_a)||nexacro.DatePicker._defaultDaysize;};_pDatePickerBody.on_find_CurrentStyle_daybackground=function(_a){return this.parent.on_find_CurrentStyle_daybackground(_a)||this._find_pseudo_obj("daybackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_daygradation=function(_a){return this.parent.on_find_CurrentStyle_daygradation(_a)||this._find_pseudo_obj("daygradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_dayborder=function(_a){return this.parent.on_find_CurrentStyle_dayborder(_a)||this._find_pseudo_obj("dayborder",_a,"border");};_pDatePickerBody.on_find_CurrentStyle_daybordertype=function(_a){return this.parent.on_find_CurrentStyle_daybordertype(_a)||this._find_pseudo_obj("daybordertype",_a,"bordertype");};_pDatePickerBody.on_find_CurrentStyle_daycolor=function(_a){return this.parent.on_find_CurrentStyle_daycolor(_a)||this._find_pseudo_obj("daycolor",_a,"color")||this._find_inherit_pseudo_obj("daycolor",_a);};_pDatePickerBody.on_find_CurrentStyle_dayfont=function(_a){return this.parent.on_find_CurrentStyle_dayfont(_a)||this._find_pseudo_obj("dayfont",_a,"font")||this._find_inherit_pseudo_obj("dayfont",_a);};_pDatePickerBody.on_find_CurrentStyle_headerformat=function(_a){return this.parent.on_find_CurrentStyle_headerformat(_a)||this._find_pseudo_obj("headerformat",_a)||nexacro.DatePicker._defaultHeaderformat;};_pDatePickerBody.on_find_CurrentStyle_headerheight=function(_a){return this.parent.on_find_CurrentStyle_Headerheight(_a)||this._find_pseudo_obj("headerheight",_a)||nexacro.DatePicker._defaultHeaderheight;};_pDatePickerBody.on_find_CurrentStyle_headerbackground=function(_a){return this.parent.on_find_CurrentStyle_headerbackground(_a)||this._find_pseudo_obj("headerbackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_headergradation=function(_a){return this.parent.on_find_CurrentStyle_headergradation(_a)||this._find_pseudo_obj("headergradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_headerborder=function(_a){return this.parent.on_find_CurrentStyle_headerborder(_a)||this._find_pseudo_obj("headerborder",_a,"border");};_pDatePickerBody.on_find_CurrentStyle_headerbordertype=function(_a){return this.parent.on_find_CurrentStyle_bordertype(_a)||this._find_pseudo_obj("headerbordertype",_a,"bordertype");};_pDatePickerBody.on_find_CurrentStyle_headercolor=function(_a){return this.parent.on_find_CurrentStyle_headercolor(_a)||this._find_pseudo_obj("headercolor",_a,"color");};_pDatePickerBody.on_find_CurrentStyle_headerfont=function(_a){return this.parent.on_find_CurrentStyle_headerfont(_a)||this._find_pseudo_obj("headerfont",_a,"font");};_pDatePickerBody.on_find_CurrentStyle_bodybackground=function(_a){return this.parent.on_find_CurrentStyle_bodybackground(_a)||this._find_pseudo_obj("bodybackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_bodygradation=function(_a){return this.parent.on_find_CurrentStyle_bodygradation(_a)||this._find_pseudo_obj("bodygradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_bodyborder=function(_a){return this.parent.on_find_CurrentStyle_bodyborder(_a)||this._find_pseudo_obj("bodyborder",_a,"border");};_pDatePickerBody.on_find_CurrentStyle_bodybordertype=function(_a){return this.parent.on_find_CurrentStyle_bodybordertype(_a)||this._find_pseudo_obj("bodybordertype",_a,"bordertype");};_pDatePickerBody.on_find_CurrentStyle_weekformat=function(_a){return this.parent.on_find_CurrentStyle_weekformat(_a)||this._find_pseudo_obj("weekformat",_a);};_pDatePickerBody.on_find_CurrentStyle_weekbackground=function(_a){return this.parent.on_find_CurrentStyle_weekbackground(_a)||this._find_pseudo_obj("weekbackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_weekgradation=function(_a){return this.parent.on_find_CurrentStyle_weekgradation(_a)||this._find_pseudo_obj("weekgradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_weekcolor=function(_a){return this.parent.on_find_CurrentStyle_weekcolor(_a)||this._find_pseudo_obj("weekcolor",_a,"color");};_pDatePickerBody.on_find_CurrentStyle_weekfont=function(_a){return this.parent.on_find_CurrentStyle_weekfont(_a)||this._find_pseudo_obj("weekfont",_a,"font")||nexacro.Component._default_font;};_pDatePickerBody.on_find_CurrentStyle_saturdaybackground=function(_a){return this.parent.on_find_CurrentStyle_saturdaybackground(_a)||this._find_pseudo_obj("saturdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdayborder=function(_a){return this.parent.on_find_CurrentStyle_saturdayborder(_a)||this._find_pseudo_obj("saturdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdaybordertype=function(_a){return this.parent.on_find_CurrentStyle_saturdaybordertype(_a)||this._find_pseudo_obj("saturdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdaycolor=function(_a){return this.parent.on_find_CurrentStyle_saturdaycolor(_a)||this._find_pseudo_obj("saturdaycolor",_a,"color")||nexacro.DatePicker._defaultSaturdaycolor;};_pDatePickerBody.on_find_CurrentStyle_saturdayfont=function(_a){return this.parent.on_find_CurrentStyle_saturdayfont(_a)||this._find_pseudo_obj("saturdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdaygradation=function(_a){return this.parent.on_find_CurrentStyle_saturdaygradation(_a)||this._find_pseudo_obj("saturdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaybackground=function(_a){return this.parent.on_find_CurrentStyle_sundaybackground(_a)||this._find_pseudo_obj("sundaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaygradation=function(_a){return this.parent.on_find_CurrentStyle_sundaygradation(_a)||this._find_pseudo_obj("sundaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_sundayborder=function(_a){return this.parent.on_find_CurrentStyle_sundayborder(_a)||this._find_pseudo_obj("sundayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaybordertype=function(_a){return this.parent.on_find_CurrentStyle_sundaybordertype(_a)||this._find_pseudo_obj("sundaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaycolor=function(_a){return this.parent.on_find_CurrentStyle_sundaycolor(_a)||this._find_pseudo_obj("sundaycolor",_a,"color")||nexacro.DatePicker._defaultSundaycolor;};_pDatePickerBody.on_find_CurrentStyle_sundayfont=function(_a){return this.parent.on_find_CurrentStyle_sundayfont(_a)||this._find_pseudo_obj("sundayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_todaybackground=function(_a){return this.parent.on_find_CurrentStyle_todaybackground(_a)||this._find_pseudo_obj("todaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_todaygradation=function(_a){return this.parent.on_find_CurrentStyle_todaygradation(_a)||this._find_pseudo_obj("todaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_todayborder=function(_a){return this.parent.on_find_CurrentStyle_todayborder(_a)||this._find_pseudo_obj("todayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_todaybordertype=function(_a){return this.parent.on_find_CurrentStyle_todaybordertype(_a)||this._find_pseudo_obj("todaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_todaycolor=function(_a){return this.parent.on_find_CurrentStyle_todaycolor(_a)||this._find_pseudo_obj("todaycolor",_a,"color")||nexacro.DatePicker._defaultTodaycolor;};_pDatePickerBody.on_find_CurrentStyle_todayfont=function(_a){return this.parent.on_find_CurrentStyle_todayfont(_a)||this._find_pseudo_obj("todayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_usetrailingday=function(_a){return this.parent.on_find_CurrentStyle_usetrailingday(_a)||this._find_pseudo_obj("usetrailingday",_a)||nexacro.DatePicker._defaultUseTrailngday;};_pDatePickerBody.on_find_CurrentStyle_trailingdaybackground=function(_a){return this.parent.on_find_CurrentStyle_trailingdaybackground(_a)||this._find_pseudo_obj("trailingdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdaygradation=function(_a){return this.parent.on_find_CurrentStyle_trailingdaygradation(_a)||this._find_pseudo_obj("trailingdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdayborder=function(_a){return this.parent.on_find_CurrentStyle_trailingdayborder(_a)||this._find_pseudo_obj("trailingdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdaybordertype=function(_a){return this.parent.on_find_CurrentStyle_trailingdaybordertype(_a)||this._find_pseudo_obj("trailingdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdaycolor=function(_a){return this.parent.on_find_CurrentStyle_trailingdaycolor(_a)||this._find_pseudo_obj("trailingdaycolor",_a,"color")||this.on_find_CurrentStyle_daycolor(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdayfont=function(_a){return this.parent.on_find_CurrentStyle_trailingdayfont(_a)||this._find_pseudo_obj("trailingdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_viewmonthspin=function(_a){return this.parent.on_find_CurrentStyle_viewmonthspin(_a)||this._find_pseudo_obj("viewmonthspin",_a)||nexacro.DatePicker._defaultViewMonthSpin;};_pDatePickerBody.on_find_CurrentStyle_viewyearspin=function(_a){return this.parent.on_find_CurrentStyle_viewyearspin(_a)||this._find_pseudo_obj("viewyearspin",_a)||nexacro.DatePicker._defaultViewYearSpin;};_pDatePickerBody.on_update_style_daysize=function(){this.on_apply_style_daysize(this.currentstyle.daysize=this.on_find_CurrentStyle_daysize(this._pseudo));};_pDatePickerBody.on_update_style_daycolor=function(){this.on_apply_style_daycolor(this.currentstyle.daycolor=this.on_find_CurrentStyle_daycolor(this._pseudo));};_pDatePickerBody.on_update_style_daybackground=function(){this.on_apply_style_daybackground(this.currentstyle.daybackground=this.on_find_CurrentStyle_daybackground(this._pseudo));};_pDatePickerBody.on_update_style_daygradation=function(){this.on_apply_style_daygradation(this.currentstyle.daygradation=this.on_find_CurrentStyle_daygradation(this._pseudo));};_pDatePickerBody.on_update_style_dayborder=function(){this.on_apply_style_dayborder(this.currentstyle.dayborder=this.on_find_CurrentStyle_dayborder(this._pseudo));};_pDatePickerBody.on_update_style_daybordertype=function(){this.on_apply_style_daybordertype(this.currentstyle.daybordertype=this.on_find_CurrentStyle_daybordertype(this._pseudo));};_pDatePickerBody.on_update_style_dayfont=function(){this.on_apply_style_dayfont(this.currentstyle.dayfont=this.on_find_CurrentStyle_dayfont(this._pseudo));};_pDatePickerBody.on_update_style_weekformat=function(){this.on_apply_style_weekformat(this.currentstyle.weekformat=this.on_find_CurrentStyle_weekformat(this._pseudo));};_pDatePickerBody.on_update_style_weekcolor=function(){this.on_apply_style_weekcolor(this.currentstyle.weekcolor=this.on_find_CurrentStyle_weekcolor(this._pseudo));};_pDatePickerBody.on_update_style_weekbackground=function(){this.on_apply_style_weekbackground(this.currentstyle.weekbackground=this.on_find_CurrentStyle_weekbackground(this._pseudo));};_pDatePickerBody.on_update_style_weekgradation=function(){this.on_apply_style_weekgradation(this.currentstyle.weekgradation=this.on_find_CurrentStyle_weekgradation(this._pseudo));};_pDatePickerBody.on_update_style_weekfont=function(){this.on_apply_style_weekfont(this.currentstyle.weekfont=this.on_find_CurrentStyle_weekfont(this._pseudo));};_pDatePickerBody.on_update_style_todaycolor=function(){this.on_apply_style_todaycolor(this.currentstyle.todaycolor=this.on_find_CurrentStyle_todaycolor(this._pseudo));};_pDatePickerBody.on_update_style_todaybackground=function(){this.on_apply_style_todaybackground(this.currentstyle.todaybackground=this.on_find_CurrentStyle_todaybackground(this._pseudo));};_pDatePickerBody.on_update_style_todaygradation=function(){this.on_apply_style_todaygradation(this.currentstyle.todaygradation=this.on_find_CurrentStyle_todaygradation(this._pseudo));};_pDatePickerBody.on_update_style_todayborder=function(){this.on_apply_style_todayborder(this.currentstyle.todayborder=this.on_find_CurrentStyle_todayborder(this._pseudo));};_pDatePickerBody.on_update_style_todaybordertype=function(){this.on_apply_style_todaybordertype(this.currentstyle.todaybordertype=this.on_find_CurrentStyle_todaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_todayfont=function(){this.on_apply_style_todayfont(this.currentstyle.todayfont=this.on_find_CurrentStyle_todayfont(this._pseudo));};_pDatePickerBody.on_update_style_saturdaycolor=function(){this.on_apply_style_saturdaycolor(this.currentstyle.saturdaycolor=this.on_find_CurrentStyle_saturdaycolor(this._pseudo));};_pDatePickerBody.on_update_style_saturdaybackground=function(){this.on_apply_style_saturdaybackground(this.currentstyle.saturdaybackground=this.on_find_CurrentStyle_saturdaybackground(this._pseudo));};_pDatePickerBody.on_update_style_saturdaygradation=function(){this.on_apply_style_saturdaygradation(this.currentstyle.saturdaygradation=this.on_find_CurrentStyle_saturdaygradation(this._pseudo));};_pDatePickerBody.on_update_style_saturdayborder=function(){this.on_apply_style_saturdayborder(this.currentstyle.saturdayborder=this.on_find_CurrentStyle_saturdayborder(this._pseudo));};_pDatePickerBody.on_update_style_saturdaybordertype=function(){this.on_apply_style_saturdaybordertype(this.currentstyle.saturdaybordertype=this.on_find_CurrentStyle_saturdaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_saturdayfont=function(){this.on_apply_style_saturdayfont(this.currentstyle.saturdayfont=this.on_find_CurrentStyle_saturdayfont(this._pseudo));};_pDatePickerBody.on_update_style_sundaycolor=function(){this.on_apply_style_sundaycolor(this.currentstyle.sundaycolor=this.on_find_CurrentStyle_sundaycolor(this._pseudo));};_pDatePickerBody.on_update_style_sundaybackground=function(){this.on_apply_style_sundaybackground(this.currentstyle.sundaybackground=this.on_find_CurrentStyle_sundaybackground(this._pseudo));};_pDatePickerBody.on_update_style_sundaygradation=function(){this.on_apply_style_sundaygradation(this.currentstyle.sundaygradation=this.on_find_CurrentStyle_sundaygradation(this._pseudo));};_pDatePickerBody.on_update_style_sundayborder=function(){this.on_apply_style_sundayborder(this.currentstyle.sundayborder=this.on_find_CurrentStyle_sundayborder(this._pseudo));};_pDatePickerBody.on_update_style_sundaybordertype=function(){this.on_apply_style_sundaybordertype(this.currentstyle.sundaybordertype=this.on_find_CurrentStyle_sundaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_sundayfont=function(){this.on_apply_style_sundayfont(this.currentstyle.sundayfont=this.on_find_CurrentStyle_sundayfont(this._pseudo));};_pDatePickerBody.on_update_style_usetrailingday=function(){this.on_apply_style_usetrailingday(this.currentstyle.usetrailingday=this.on_find_CurrentStyle_usetrailingday(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaycolor=function(){this.on_apply_style_trailingdaycolor(this.currentstyle.trailingdaycolor=this.on_find_CurrentStyle_trailingdaycolor(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaybackground=function(){this.on_apply_style_trailingdaybackground(this.currentstyle.trailingdaybackground=this.on_find_CurrentStyle_trailingdaybackground(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaygradation=function(){this.on_apply_style_trailingdaygradation(this.currentstyle.trailingdaygradation=this.on_find_CurrentStyle_trailingdaygradation(this._pseudo));};_pDatePickerBody.on_update_style_trailingdayborder=function(){this.on_apply_style_trailingdayborder(this.currentstyle.trailingdayborder=this.on_find_CurrentStyle_trailingdayborder(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaybordertype=function(){this.on_apply_style_trailingdaybordertype(this.currentstyle.trailingdaybordertype=this.on_find_CurrentStyle_trailingdaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_trailingdayfont=function(){this.on_apply_style_trailingdayfont(this.currentstyle.trailingdayfont=this.on_find_CurrentStyle_trailingdayfont(this._pseudo));};_pDatePickerBody.on_apply_style_daysize=function(_a){this._resizeBody();};_pDatePickerBody.on_apply_style_daycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_daybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_daygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_dayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_daybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_dayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_rtlimagemirroring=function(_a){return;};_pDatePickerBody.on_apply_style_weekformat=function(_a){var _b=this.getElement();if(_b&&_a){var _c;var _d=this._weeks;var _e=_d.length;if(typeof _a=="object"){_c=_a.value.split(/\s+/);}else{_c=_a.split(/\s+/);}for(var _f=0;_f<_e;_f++ ){_d[_f].set_text(_c[_f]);}}};_pDatePickerBody.on_apply_style_weekcolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekbackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekgradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekbordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_usetrailingday=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._weeks;var _d=this._days;var _e=7;var _f;if(_b.weekformat){_f=_b.weekformat.value.split(/\s+/);}else{_f=this.parent.parent._datelistS;}this._weekBg=new nexacro.WeekStaticCtrl("weekstatic","absolute",0,0,0,0,null,null,this);this._weekBg.createComponent();for(var _j=0;_j<_e;_j++ ){var _g=new nexacro.WeekStaticCtrl("weekstatic","absolute",0,0,0,0,null,null,this);_g.set_text(_f[_j]);_g._setDaysOfWeek(_j%7);_g.createComponent();_c[_j]=_g;_g=null;}var _h=42;for(var _j=0;_j<_h;_j++ ){var _i=new nexacro.DayStaticCtrl("daystatic","absolute",0,0,0,0,null,null,this);_i._setDaysOfWeek(_j%7);_i.createComponent();_d[_j]=_i;_i=null;}}};_pDatePickerBody.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._weeks;var _c=this._days;var _d=_b.length;var _e=_c.length;this._weekBg.on_created();for(var _f=0;_f<_d;_f++ ){_b[_f].on_created();}for(var _f=0;_f<_e;_f++ ){_c[_f].on_created();_c[_f]._setEventHandler("onclick",this.on_notify_DatePickerBody_dayclick,this);_c[_f].style.set_cursor("arrow");}this.on_apply_prop_rtldirection();}};_pDatePickerBody.on_destroy_contents=function(){var _a=this._weeks;var _b=this._days;var _c=_a.length;var _d=_b.length;this._weekBg.destroy();this._weekBg=null;if(_c>0){for(var _e=0;_e<_c;_e++ ){_a[_e].destroy();}this._weeks=null;}if(_d>0){for(_e=0;_e<_d;_e++ ){_b[_e].destroy();}this._days=null;}this._changedDays=null;this._calendar=null;};_pDatePickerBody.on_change_containerRect=function(_a,_b){this._resizeBody();};_pDatePickerBody.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){var _c=this._weeks;var _d=this._days;var _e=_c.length;var _f=_d.length;this._weekBg._setEnable(_a);if(_e>0){for(var _g=0;_g<_e;_g++ ){_c[_g]._setEnable(_a);}}if(_f>0){for(_g=0;_g<_f;_g++ ){_d[_g]._setEnable(_a);}}}};_pDatePickerBody.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){this.on_change_containerRect(this._client_width,this._client_height);var _b=this._rtldirection;var _c=this._weeks;var _d=this._days;var _e=_c.length;var _f=_d.length;if(_e>0){for(var _g=0;_g<_e;_g++ ){_c[_g]._setRtlDirection(_b);}}if(_f>0){for(_g=0;_g<_f;_g++ ){_d[_g]._setRtlDirection(_b);}}}};_pDatePickerBody.on_apply_backgroundcolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_bordercolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_datecolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_innerdataset=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_textcolorcolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody._setYear=function(_a){if(_a!=this._year){this._year=(_a<10?"000":_a<100?"00":_a<1000?"0":"")+parseInt(_a,10);this.on_apply_year();}};_pDatePickerBody.on_apply_year=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody._setMonth=function(_a){if(_a!=this._month){_a=(_a<10?"0":"")+parseInt(_a,10);this._month=_a;this.on_apply_month();}};_pDatePickerBody.on_apply_month=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody._setDay=function(_a){if(_a!=this._day){_a=(_a<10?"0":"")+parseInt(_a,10);this._day=_a;}this.on_apply_day();};_pDatePickerBody.on_apply_day=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody._setDate=function(_a,_b,_c){this._year=(_a<10?"000":_a<100?"00":_a<1000?"0":"")+parseInt(_a,10);this._month=(_b<10?"0":"")+parseInt(_b,10);this._day=(_c<10?"0":"")+parseInt(_c,10);this.on_apply_date();};_pDatePickerBody.on_apply_date=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pDatePickerBody.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pDatePickerBody.on_notify_DatePickerBody_dayclick=function(_a,_b){this._post_year=(_a.currYear<10?"000":_a.currYear<100?"00":_a.currYear<1000?"0":"")+parseInt(_a.currYear,10);this._post_month=(_a.currMonth<10?"0":"")+parseInt(_a.currMonth,10);this._post_day=(_a.text<10?"0":"")+parseInt(_a.text,10);var _c=this.on_fire_ondayclick(_a,_b);};_pDatePickerBody.on_fire_ondayclick=function(_a,_b){if(this.ondayclick&&this.ondayclick._has_handlers){return this.ondayclick._fireEvent(this,_b);}return false;};_pDatePickerBody._resizeBody=function(){var _a=this.getElement();if(_a){var _b=this._pseudo;var _c=this._weeks;var _d=this._days;var _e=_c.length;var _f=_d.length;var _g=this._client_width;var _h=this._client_height;var _i=this._client_left;var _j=this._client_top;var _k=this.on_find_CurrentStyle_daysize(_b);var _l=this.on_find_CurrentStyle_padding(_b);_k=_k.value.split(/\s+/);var _m=parseInt(_k[0],10);var _n=0;if(_k.length==1){_n=_m;}else{_n=parseInt(_k[1],10);}var _o=_m*7;var _p=_n*7;var _q=0;var _r=0;var _s=0;if(_o<_g){_s=_g-_o;_q=_s/14;}if(_p<_h){_s=_h-_p;_r=_s/8;}var _t=_i+_q;var _u=_j+_r/2;var _v=_m;var _w=_n;this._weekBg.move(_i,_u,_g,_w,null,null);for(var _ac=0;_ac<_e;_ac++ ){_c[_ac].move(_t,_u,_v,_w,null,null);_t=_t+_v+_q*2;}var _x=1;var _y=_i+_q;var _z=_u+_n+_r;var _aa=_m;var _ab=_n;for(var _ac=0;_ac<_f;_ac++ ){_d[_ac].move(_y,_z,_aa,_ab,null,null);_y=_y+_aa+_q*2;if(((_ac+1)%7)==0){_x++ ;_y=_i+_q;_z=_z+_ab+_r;}}}};_pDatePickerBody._refreshDay=function(){var _a=this.getElement();if(_a){var _b=this._getCurrentDate();var _c=this._year?parseInt(this._year,10):_b.year;var _d=this._month?parseInt(this._month,10):_b.month;var _e=this._day?parseInt(this._day,10):_b.day;var _f=this._getLeapYear(_c);var _g=new Date(_c,_d-1,1);if(_c<100){_g.setFullYear(_c);}var _h=_f?this._endDayL[_d-1]:this._endDayN[_d-1];var _i=_g.getDay();var _j=this.on_find_CurrentStyle_usetrailingday(this._pseudo);var _k=nexacro._toBoolean(_j.value);if(_k){var _l=this._setUseTrailingDayInfo(_c,_d,_g,_h);}var _e=this._days;var _m=_e.length;var _n=1;var _o= -1;var _p={};var _q=this.parent.on_find_CurrentStyle_sundayfont("normal");var _r=this.parent.on_find_CurrentStyle_sundaycolor("normal");var _s=this.parent.on_find_CurrentStyle_sundaybackground("normal");var _t=this.parent.on_find_CurrentStyle_saturdayfont("normal");var _u=this.parent.on_find_CurrentStyle_saturdaycolor("normal");var _v=this.parent.on_find_CurrentStyle_saturdaybackground("normal");var _w=this.parent.on_find_CurrentStyle_dayfont("normal");var _x=this.parent.on_find_CurrentStyle_daycolor("normal");var _y=this.parent.on_find_CurrentStyle_daybackground("normal");var _z=this.parent.on_find_CurrentStyle_dayborder("normal");var _aa=this.parent.on_find_CurrentStyle_daybordertype("normal");var _ab=this.parent.on_find_CurrentStyle_trailingdayfont("normal");var _ac=this.parent.on_find_CurrentStyle_trailingdaycolor("normal");var _ad=this.parent.on_find_CurrentStyle_trailingdaybackground("normal");var _ae=this.parent.on_find_CurrentStyle_trailingdayborder("normal");var _af=this.parent.on_find_CurrentStyle_trailingdaybordertype("normal");var _ag=this.parent.on_find_CurrentStyle_rtlimagemirroring("normal");for(var _aj=0;_aj<_m;_aj++ ){if(_i<=_aj&&_h>=_n){_p=this._setDayInfo(_n,false,true,_c,_d);this._refreshDayby(_e[_aj],_p.text,_p.visible,_p.currYear,_p.currMonth,_p.trailingday);_o=_aj%7;if(_o==0){_e[_aj].on_apply_style_font(_q);_e[_aj].on_apply_style_color(_r);_e[_aj].on_apply_style_background(_s);}else if(_o==6){_e[_aj].on_apply_style_font(_t);_e[_aj].on_apply_style_color(_u);_e[_aj].on_apply_style_background(_v);}else{_e[_aj].on_apply_style_font(_w);_e[_aj].on_apply_style_color(_x);_e[_aj].on_apply_style_background(_y);}_e[_aj].on_apply_style_border(_z);_e[_aj].on_apply_style_bordertype(_aa);_e[_aj].on_apply_style_rtlimagemirroring(_ag);_n++ ;}else{if(_k){if(_l.idx>=0){_p=this._setDayInfo(_l.pre_endDay-_l.idx,true,true,_l.year_front,_l.month_front);_l.idx-- ;}else{_p=this._setDayInfo(_l.next_beginDay,true,true,_l.year_back,_l.month_back);_l.next_beginDay++ ;_l.endWeek++ ;}this._refreshDayby(_e[_aj],_p.text,_p.visible,_p.currYear,_p.currMonth,_p.trailingday);_e[_aj].on_apply_style_font(_ab);_e[_aj].on_apply_style_color(_ac);_e[_aj].on_apply_style_background(_ad);_e[_aj].on_apply_style_border(_ae);_e[_aj].on_apply_style_bordertype(_af);_e[_aj].on_apply_style_rtlimagemirroring(_ag);}else{_p=this._setDayInfo("",false,false,0,0);this._refreshDayby(_e[_aj],_p.text,_p.visible,_p.currYear,_p.currMonth,_p.trailingday);}}}}this._changedDays=[];var _ah=this.parent.parent;var _ai=_ah._innerdataset;this._initChangedDays();if(_ai){this._setDatasetStyle(_ai,_ah);}if(this._isSelectedDay(this._day)){this.parent._on_apply_style_day(true);}else{this.parent._on_apply_style_day(false);}this._setCalendarAccessibility();};_pDatePickerBody._refreshDayby=function(_a,_b,_c,_d,_e,_f){_a.set_text(_b);_a.set_wordwrap("none");_a.set_visible(_c);_a.currYear=_d;_a.currMonth=_e;_a.trailingday=_f;};_pDatePickerBody._isToday=function(_a){var _b=this._year;var _c=this._month;var _d=parseInt(_a,10);var _e=this._getCurrentDate();if(!_b){_b=_e.year;}if(!_c){_c=_e.month;}if(_b==_e.year&&_c==_e.month&&_d==_e.day){return true;}return false;};_pDatePickerBody._isSelectedDay=function(_a){_a=parseInt(_a,10);var _b=parseInt(this._year,10);var _c=parseInt(this._month,10);if(_b==this.parent._selected_year&&_c==this.parent._selected_month&&_a==this.parent._selected_day){return true;}return false;};_pDatePickerBody._setDayInfo=function(_a,_b,_c,_d,_e){return {text:_a,trailingday:_b,visible:_c,currYear:_d,currMonth:_e};};_pDatePickerBody._setUseTrailingDayInfo=function(_a,_b,_c,_d){var _e=_a;var _f=_a;var _g=_b;var _h=_b;if(_b==1){_e-=1;_g=12;_h+=1;}else{_g-=1;if(_b==12){_f+=1;_h=1;}else{_h+=1;}}var _i=_c.getDay()-1;_c.setDate(_d);var _j=_c.getDay();var _k=this._getLeapYear(_e);var _l=_k?this._endDayL[_g-1]:this._endDayN[_g-1];var _m=1;return {year_front:_e,year_back:_f,month_front:_g,month_back:_h,endWeek:_j,idx:_i,pre_endDay:_l,next_beginDay:_m};};_pDatePickerBody._setDatasetStyle=function(_a,_b){var _c=this._days;var _d=_c.length;var _e=_b.backgroundcolumn;var _f=_b.bordercolumn;var _g=_b.datecolumn;var _h=_b.textcolorcolumn;var _i=_a.getRowCount();for(var _z=0;_z<_i;_z++ ){var _j=_a.getColumn(_z,_g);var _k,_l,_m;var _n=0;var _o=0;var _p=0;var _q=0;var _r=0;var _s={};if(_j){if(typeof _j=="string"){_p=parseInt(_j.substr(0,4),10);_q=parseInt(_j.substr(4,2),10);_r=parseInt(_j.substr(6,2),10);_s=new nexacro.Date(_p,_q,1);_n=_s.getDay();_s=null;}else if(typeof _j=="object"){_p=_j.getFullYear();_q=_j.getMonth()+1;_r=_j.getDate();_n=_j.getDay();}_o=_n+_r+1;}for(var _aa=0;_aa<_d;_aa++ ){var _t=this._makeDateText(_c[_aa].currYear,"year");var _u=this._makeDateText(_c[_aa].currMonth,"month");var _v=this._makeDateText(_c[_aa].text,"day");var _w=_c[_aa].currentstyle;var _x=_t+_u+_v;var _y=this._changedDays.length;if(_x==_j){if(_c[_aa].trailingday){continue;}_k=_a.getColumn(_z,_e);_k=nexacro._getCachedBackgroundObj(_k);_l=_a.getColumn(_z,_f);_l=nexacro._getCachedBorderObj(_l);_m=_a.getColumn(_z,_h);_m=nexacro._getCachedColorObj(_m);if(_k){_w.background=_k;_c[_aa].on_apply_style_background(_k);}if(_l){_w.border=_l;_c[_aa].on_apply_style_border(_l);}if(_m&&_m._value){_w.color=_m;_c[_aa].on_apply_style_color(_m);}this._changedDays[_y]=_c[_aa];}else if(_p!=_c[_aa].currYear||_q!=_c[_aa].currMonth){if(_o==_aa){_k=_c[_aa].on_find_CurrentStyle_background(_c[_aa]._pseudo);_l=_c[_aa].on_find_CurrentStyle_border(_c[_aa]._pseudo);_m=_c[_aa].on_find_CurrentStyle_color(_c[_aa]._pseudo);_w.background=_k;_w.border=_l;_w.color=_m;_c[_aa].on_apply_style_background(_k);_c[_aa].on_apply_style_border(_l);_c[_aa].on_apply_style_color(_m);this._changedDays[_y]=_c[_aa];}}}}};_pDatePickerBody._getCurrentDate=function(){var _a,_b,_c;var _d=new Date();_a=_d.getFullYear();_b=_d.getMonth()+1;_c=_d.getDate();_d=null;return {year:_a,month:_b,day:_c};};_pDatePickerBody._getLeapYear=function(_a){if((_a%4)==0&&(_a%100)!=0||(_a%400)==0){return true;}else{return false;}};_pDatePickerBody._initChangedDays=function(){var _a=this._changedDays.length;for(var _e=0;_e<_a;_e++ ){var _b=this.parent._find_pseudo_obj("daybackground","normal","background");var _c=this.parent._find_pseudo_obj("dayborder","normal","border");var _d=this.parent._find_pseudo_obj("daycolor","normal","color");this._changedDays[_e].on_apply_style_background(_b);this._changedDays[_e].on_apply_style_border(_c);this._changedDays[_e].on_apply_style_color(_d);}};_pDatePickerBody._makeDateText=function(_a,_b){if(typeof _a!="string"){}{_a=nexacro._toString(_a);}switch(_b){case "year":var _c=_a;while(_c.length<4){_c="0"+_c;}return _c;break;case "month":var _d=_a.length>=2?_a:"0"+_a;return _d;break;case "day":var _e=_a.length>=2?_a:"0"+_a;return _e;break;}};_pDatePickerBody._setCalendarAccessibility=function(){if(nexacro._enableaccessibility){var _a=this._calendar;var _b=this._year+this._month+this._day;var _c=_a._makeCalendarText(_b);this.parent._setAccessibilityLabel(_c);nexacro._notifyAccessibilityValue(this._control_element,_c,"daychange");}};delete _pDatePickerBody;nexacro.DayStaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;this.trailingday=false;this.currYear="";this.currMonth="";this._flag_dataset= -1;this._dataset_background="";this._refObj=_i.parent;};var _pDayStaticCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.DayStaticCtrl);nexacro.DayStaticCtrl.prototype=_pDayStaticCtrl;_pDayStaticCtrl._daysofweek= -1;_pDayStaticCtrl.on_find_CurrentStyle_background=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaybackground(_a);}else if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybackground(_a);}return this.parent.on_find_CurrentStyle_daybackground("selected");}else if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybackground(_a);}else{return this.parent.on_find_CurrentStyle_todaybackground(_a);}}if(this._refObj.parent.backgroundcolumn&&_a=="normal"){var _c=this._refObj.parent._innerdataset;var _d=this._refObj.parent.datecolumn;var _e=this._refObj.parent.backgroundcolumn;var _f=_c.getRowCount();for(var _m=0;_m<_f;_m++ ){var _g=_c.getColumn(_m,_d);if(_g){var _h=_g.substr(0,4);var _i=_g.substr(4,2);var _j=_g.substr(6,2);var _k=this.parent._makeDateText(_b,"day");if(_h==this.currYear&&_i==this.currMonth&&_j===_k){var _l=_c.getColumn(_m,_e);return _l=nexacro._getCachedBackgroundObj(_l);}}}}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaybackground(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaybackground(_a);}}return this.parent.on_find_CurrentStyle_daybackground(_a);};_pDayStaticCtrl.on_find_CurrentStyle_border=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdayborder(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayborder(_a);}return this.parent.on_find_CurrentStyle_dayborder("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayborder(_a);}return this.parent.on_find_CurrentStyle_todayborder(_a);}var _c=this._refObj.bordercolumn?this._refObj:this._refObj.parent;if(_c.bordercolumn){var _d=_c._innerdataset;var _e=_c.datecolumn;var _f=_c.bordercolumn;var _g=_d.getRowCount();for(var _n=0;_n<_g;_n++ ){var _h=_d.getColumn(_n,_e);if(_h){var _i=_h.substr(0,4);var _j=_h.substr(4,2);var _k=_h.substr(6,2);var _l=this.parent._makeDateText(_b,"day");if(_i==this.currYear&&_j==this.currMonth&&_k===_l){var _m=_d.getColumn(_n,_f);return _m=nexacro._getCachedBorderObj(_m);}}}}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdayborder(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundayborder(_a);}}return this.parent.on_find_CurrentStyle_dayborder(_a);};_pDayStaticCtrl.on_find_CurrentStyle_bordertype=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaybordertype(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybordertype(_a);}return this.parent.on_find_CurrentStyle_daybordertype("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybordertype(_a);}return this.parent.on_find_CurrentStyle_todaybordertype(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaybordertype(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaybordertype(_a);}}return this.parent.on_find_CurrentStyle_daybordertype(_a);};_pDayStaticCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this._refObj.parent.textcolorcolumn&&_a=="normal"){var _c=this._refObj.parent._innerdataset;var _d=this._refObj.parent.datecolumn;var _e=this._refObj.parent.textcolorcolumn;var _f=_c.getRowCount();for(var _m=0;_m<_f;_m++ ){var _g=_c.getColumn(_m,_d);if(_g){var _h=_g.substr(0,4);var _i=_g.substr(4,2);var _j=_g.substr(6,2);var _k=this.parent._makeDateText(_b,"day");if(_h==this.currYear&&_i==this.currMonth&&_j===_k){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaycolor(_a);}else{var _l=_c.getColumn(_m,_e);_l=nexacro._getCachedColorObj(_l);if(_l&&_l._value){return _l;}break;}}}}}if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaycolor(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daycolor(_a);}return this.parent.on_find_CurrentStyle_daycolor("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daycolor(_a);}return this.parent.on_find_CurrentStyle_todaycolor(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaycolor(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaycolor(_a);}}return this.parent.on_find_CurrentStyle_daycolor(_a)||this._find_inherit_pseudo_obj("color",_a)||nexacro.Component._default_color;};_pDayStaticCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdayfont(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayfont(_a);}return this.parent.on_find_CurrentStyle_dayfont("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayfont(_a);}return this.parent.on_find_CurrentStyle_todayfont(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdayfont(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundayfont(_a);}}return this.parent.on_find_CurrentStyle_dayfont(_a)||this._find_inherit_pseudo_obj("font",_a)||nexacro.Component._default_font;};_pDayStaticCtrl.on_find_CurrentStyle_gradation=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaygradation(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daygradation(_a);}return this.parent.on_find_CurrentStyle_daygradation("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daygradation(_a);}return this.parent.on_find_CurrentStyle_todaygradation(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaygradation(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaygradation(_a);}}return this.parent.on_find_CurrentStyle_daygradation(_a);};_pDayStaticCtrl.on_apply_style_border=function(_a){var _b=this._control_element;if(_b){_b.setElementBorder(_a,this.on_find_CurrentStyle_bordertype("normal"));_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);};};_pDayStaticCtrl.on_apply_style_bordertype=function(_a){var _b=this._control_element;if(_b){_b.setElementBorder(this.on_find_CurrentStyle_border("normal"),_a);_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);}};_pDayStaticCtrl.on_apply_style_background=function(_a){var _b=this._control_element;if(_b){_b.setElementBackground(_a,this.on_find_CurrentStyle_gradation("normal"));}};_pDayStaticCtrl.on_apply_style_gradation=function(_a){var _b=this._control_element;if(_b){_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),_a);}};_pDayStaticCtrl.on_apply_style_font=function(_a){if(this.currentstyle.font!=_a){this.currentstyle.font=_a;if(this._text_elem&&_a){this._text_elem.setElementFont(_a);}}};_pDayStaticCtrl._setDaysOfWeek=function(_a){if(this._daysofweek!=_a){this._daysofweek=_a;this.on_apply_daysofweek();}};_pDayStaticCtrl.on_apply_daysofweek=function(){var _a=this._daysofweek;var _b=this.on_find_CurrentStyle_color(_a);this.on_apply_style_color(_b);};delete _pDayStaticCtrl;nexacro.WeekStaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;this._refObj=_i.parent;};var _pWeekCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.WeekStaticCtrl);nexacro.WeekStaticCtrl.prototype=_pWeekCtrl;_pWeekCtrl._daysofweek= -1;_pWeekCtrl.on_find_CurrentStyle_color=function(_a){if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaycolor(_a);}else if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaycolor(_a);}return this.parent.on_find_CurrentStyle_weekcolor(_a);};_pWeekCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_weekbackground(_a);};_pWeekCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_weekgradation(_a);};_pWeekCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_weekfont(_a);};_pWeekCtrl._setDaysOfWeek=function(_a){if(this._daysofweek!=_a){this._daysofweek=_a;this.on_apply_daysofweek();}};_pWeekCtrl.on_apply_daysofweek=function(){var _a=this._daysofweek;var _b=this.on_find_CurrentStyle_color(_a);this.on_apply_style_color(_b);};delete _pWeekCtrl;nexacro.DatePickerCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.DatePicker.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pDatePickerCtrl=nexacro.DatePickerCtrl.prototype=nexacro._createPrototype(nexacro.DatePicker,nexacro.DatePickerCtrl);_pDatePickerCtrl._type_name="DatePickerControl";nexacro._setForControlStyleFinder(_pDatePickerCtrl);delete _pDatePickerCtrl;}if(!nexacro.Calendar){nexacro.CalendarCloseUpEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"oncloseup";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.posttext=_d;this.prevalue=_e;this.postvalue=_f;};var _pCalendarCloseUpEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarCloseUpEventInfo);nexacro.CalendarCloseUpEventInfo.prototype=_pCalendarCloseUpEventInfo;_pCalendarCloseUpEventInfo._type_name="CalendarCloseUpEventInfo";delete _pCalendarCloseUpEventInfo;_pCalendarCloseUpEventInfo=null;nexacro.CalendarDayClickEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"ondayclick";this.fromobject=this.fromreferenceobject=_a;if(_c instanceof nexacro.Date){_c=_c.toString();}this.date=_c;};var _pCalendarDayClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarDayClickEventInfo);nexacro.CalendarDayClickEventInfo.prototype=_pCalendarDayClickEventInfo;_pCalendarDayClickEventInfo._type_name="CalendarDayClickEventInfo";delete _pCalendarDayClickEventInfo;_pCalendarDayClickEventInfo=null;nexacro.CalendarSpinEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Event.call(this,_a,_b||"oncalendarspin");this.id=this.eventid=_b||"oncalendarspin";this.fromobject=_h||_a;this.fromreferenceobject=_i||_a;this.pretext=_c;this.posttext=_d;this.prevalue=_e;this.postvalue=_f;this.up=_g;};var _pCalendarSpinEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarSpinEventInfo);nexacro.CalendarSpinEventInfo.prototype=_pCalendarSpinEventInfo;_pCalendarSpinEventInfo._type_name="CalendarSpinEventInfo";delete _pCalendarSpinEventInfo;_pCalendarSpinEventInfo=null;nexacro.Calendar_Style=function(_a){nexacro.Style.call(this,_a);this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;this.displaynulltextcolor=null;};var _pCalendarStyle=nexacro._createPrototype(nexacro.Style,nexacro.Calendar_Style);nexacro.Calendar_Style.prototype=_pCalendarStyle;eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","daysize"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","daycolor"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popupsize"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","usetrailingday"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","trailingdaycolor"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","buttonsize"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","viewyearspin"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","viewmonthspin"));eval(nexacro._createBackgroundAttributeEvalStr("_pCalendarStyle","daybackground"));eval(nexacro._createBackgroundAttributeEvalStr("_pCalendarStyle","popupbackground"));eval(nexacro._createBorderAttributeEvalStr("_pCalendarStyle","dayborder"));eval(nexacro._createBorderAttributeEvalStr("_pCalendarStyle","popupborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pCalendarStyle","daybordertype"));eval(nexacro._createBordertypeAttributeEvalStr("_pCalendarStyle","popupbordertype"));eval(nexacro._createGradationAttributeEvalStr("_pCalendarStyle","daygradation"));eval(nexacro._createGradationAttributeEvalStr("_pCalendarStyle","popupgradation"));eval(nexacro._createFontAttributeEvalStr("_pCalendarStyle","dayfont"));eval(nexacro._createFontAttributeEvalStr("_pCalendarStyle","popupfont"));eval(nexacro._createAccessibilityAttributeEvalStr("_pCalendarStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popuptype"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popupalign"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","displaynulltextcolor"));_pCalendarStyle.__custom_emptyObject=function(){this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;this.displaynulltextcolor=null;};_pCalendarStyle.__get_custom_style_value=function(){var _a="";if(this.daysize&&this.daysize._is_empty){_a+="daysize:"+this.daysize._value+"; ";}if(this.daycolor&&this.daycolor._is_empty){_a+="daycolor:"+this.daycolor._value+"; ";}if(this.daybackground&&this.daybackground._is_empty){_a+="daybackground:"+this.daybackground._value+"; ";}if(this.dayborder&&this.dayborder._is_empty){_a+="dayborder:"+this.dayborder._value+"; ";}if(this.daybordertype&&this.daybordertype._is_empty){_a+="daybordertype:"+this.daybordertype._value+"; ";}if(this.daygradation&&this.daygradation._is_empty){_a+="daygradation:"+this.daygradation._value+"; ";}if(this.dayfont&&this.dayfont._is_empty){_a+="dayfont:"+this.dayfont._value+"; ";}if(this.popupsize&&this.popupsize._is_empty){_a+="popupsize:"+this.popupsize._value+"; ";}if(this.popupbackground&&this.popupbackground._is_empty){_a+="popupbackground:"+this.popupbackground._value+"; ";}if(this.popupborder&&this.popupborder._is_empty){_a+="popupborder:"+this.popupborder._value+"; ";}if(this.popupbordertype&&this.popupbordertype._is_empty){_a+="popupbordertype:"+this.popupbordertype._value+"; ";}if(this.popupgradation&&this.popupgradation._is_empty){_a+="popupgradation:"+this.popupgradation._value+"; ";}if(this.popupalign&&this.popupalign._is_empty){_a+="popupalign:"+this.popupalign._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.usetrailingday&&this.usetrailingday._is_empty){_a+="usetrailingday:"+this.usetrailingday._value+"; ";}if(this.trailingdaycolor&&this.trailingdaycolor._is_empty){_a+="trailingdaycolor:"+this.trailingdaycolor._value+"; ";}if(this.viewyearspin&&this.viewyearspin._is_empty){_a+="viewyearspin:"+this.viewyearspin._value+"; ";}if(this.viewmonthspin&&this.viewmonthspin._is_empty){_a+="viewmonthspin:"+this.viewmonthspin._value+"; ";}if(this.popuptype&&this.popuptype._is_empty){_a+="popuptype:"+this.popuptype._value+"; ";}if(this.displaynulltextcolor&&this.displaynulltextcolor._is_empty){_a+="displaynulltextcolor:"+this.displaynulltextcolor._value+"; ";}return _a;};nexacro.Calendar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;this.displaynulltextcolor=null;};var _pCalendarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Calendar_CurrentStyle);nexacro.Calendar_CurrentStyle.prototype=_pCalendarCurrentStyle;_pCalendarCurrentStyle.__custom_emptyObject=_pCalendarStyle.__custom_emptyObject;_pCalendarCurrentStyle.__get_custom_style_value=_pCalendarStyle.__get_custom_style_value;delete _pCalendarStyle;delete _pCalendarCurrentStyle;nexacro.Calendar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.calendaredit=null;this.dropbutton=null;this.popupcalendar=null;this.popupwindow=null;this.spindownbutton=null;this.spinupbutton=null;this.text="";this.displaynulltext="";this.value=null;this.innerdataset=null;this.datecolumn="";this.backgroundcolumn="";this.bordercolumn="";this.textcolorcolumn="";this.type="normal";this.autoselect=false;this.autoskip=false;this.dateformat="yyyy-MM-dd ddd";this.editformat="yyyy-MM-dd";this.useinputpanel=true;this.usecontextmenu=true;this.usesoftkeyboard=true;this.imemode="none";this.useime="global";this.viewmonthspin=false;this.viewyearspin=false;this.readonly=false;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oncloseup":1,"ondayclick":1,"ondropdown":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ongesture":1,"onmonthchange":1,"onspin":1,"ontextchange":1,"ontextchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oncontextmenu":1};this._mask="";this._currentformat="dateformat";this._innerdataset=null;this._init_popupsize=null;this._caret_pos={};this._caret_pos.begin=0;this._caret_pos.end=0;this._editformat_info=this._makeFormatInfo(this.editformat,true);this._dateformat_info=this._makeFormatInfo(this.dateformat);this._prevalue=null;this._postvalue=null;this._pretext="";this._posttext="";this._primitivevalue=null;this._is_primitivevalue=false;this._defaultLocale="ko_KR";this._datelistL=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];this._datelistS=["일","월","화","수","목","금","토"];this._monthlistL=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"];this._monthlistS=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"];this._localeListL={"ko_KR":["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],"ja_JP":["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],"en_US":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};this._localeListS={"ko_KR":["일","월","화","수","목","금","토"],"ja_JP":["日","月","火","水","木","金","土"],"en_US":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};this._accessibility_role="calendar";this._day_click=false;this._flag_update2dataset=false;this._bindsource=false;this._pretype=this.type;this._want_arrows=false;this._has_inputElement=true;this._edit_base_api=null;this._locale="";this._is_dropbutton=false;};var _pCalendar=nexacro._createPrototype(nexacro.Component,nexacro.Calendar);nexacro.Calendar.prototype=_pCalendar;_pCalendar._type_name="Calendar";nexacro.Calendar._defaultDaysize=nexacro._getCachedStyleObj("daysize","26 26");nexacro.Calendar._defaultPopupsize=nexacro._getCachedStyleObj("popupsize","192 192");nexacro.Calendar._defaultPopupalign=nexacro._getCachedStyleObj("align","left bottom");nexacro.Calendar._defaultUseTrailngday=nexacro._getCachedStyleObj("usetrailingday","false");nexacro.Calendar._defaultButtonsize=nexacro._getCachedStyleObj("buttonsize", -1);nexacro.Calendar._defaultViewyearspin=nexacro._getCachedStyleObj("viewyearspin","false");nexacro.Calendar._defaultViewmonthspin=nexacro._getCachedStyleObj("viewmonthspin","false");_pCalendar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);if(_b.align!=_c){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_e){_b.letterspace=_e;this.on_apply_style_letterspace(_e);}var _f=this.on_find_CurrentStyle_color(_a,this.calendaredit);if(_b.color!=_f){_b.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_padding(_a);if(_b.padding!=_g){_b.padding=_g;this.on_apply_style_padding(_g);}var _h=this.on_find_CurrentStyle_popupalign(_a);if(_b.popupalign!=_h){_b.popupalign=_h;this.on_apply_style_popupalign(_h);}var _i=this.on_find_CurrentStyle_popupbackground(_a);if(_b.popupbackground!=_i){_b.popupbackground=_i;this.on_apply_style_popupbackground(_i);}var _j=this.on_find_CurrentStyle_popupborder(_a);if(_b.popupborder!=_j){_b.popupborder=_j;this.on_apply_style_popupborder(_j);}var _k=this.on_find_CurrentStyle_popupbordertype(_a);if(_b.popupbordertype!=_k){_b.popupbordertype=_k;this.on_apply_style_popupbordertype(_k);}var _l=this.on_find_CurrentStyle_popupgradation(_a);if(_b.popupgradation!=_l){_b.popupgradation=_l;this.on_apply_style_popupgradation(_l);}var _m=this.on_find_CurrentStyle_popupsize(_a);if(_b.popupsize!=_m){_b.popupsize=_m;this.on_apply_style_popupsize(_m);}var _n=this.on_find_CurrentStyle_usetrailingday(_a);if(_b.usetrailingday!=_n){_b.usetrailingday=_n;}var _o=this.on_find_CurrentStyle_trailingdaycolor(_a);if(_b.trailingdaycolor!=_o){_b.trailingdaycolor=_o;}var _p=this.on_find_CurrentStyle_buttonsize(_a);if(_b.buttonsize!=_p){_b.buttonsize=_p;this.on_apply_style_buttonsize(_p);}var _q=this.on_find_CurrentStyle_viewyearspin(_a);if(_b.viewyearspin!=_q){_b.viewyearspin=_q;}var _r=this.on_find_CurrentStyle_viewmonthspin(_a);if(_b.viewmonthspin!=_r){_b.viewmonthspin=_r;}var _s=this.on_find_CurrentStyle_popuptype(_a);if(_b.popuptype!=_s){_b.popuptype=_s;}var _t=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_b.displaynulltextcolor!=_t){_b.displaynulltextcolor=_t;this.on_apply_style_displaynulltextcolor(_t);}};_pCalendar.on_apply_custom_class=function(){if(this.calendaredit){this.calendaredit.on_apply_prop_class();}if(this.dropbutton){this.dropbutton.on_apply_prop_class();}if(this.spinupbutton){this.spinupbutton.on_apply_prop_class();}if(this.spindownbutton){this.spindownbutton.on_apply_prop_class();}};_pCalendar.on_create_custom_style=function(){return new nexacro.Calendar_Style(this);};_pCalendar.on_create_custom_currentStyles=function(){return new nexacro.Calendar_CurrentStyle();};_pCalendar.on_find_CurrentStyle_daycolor=function(_a){return this._find_pseudo_obj("daycolor",_a,"color");};_pCalendar.on_find_CurrentStyle_daybackground=function(_a){return this._find_pseudo_obj("daybackground",_a,"background");};_pCalendar.on_find_CurrentStyle_dayborder=function(_a){return this._find_pseudo_obj("dayborder",_a,"border");};_pCalendar.on_find_CurrentStyle_daybordertype=function(_a){return this._find_pseudo_obj("daybordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_dayfont=function(_a){return this._find_pseudo_obj("dayfont",_a,"font");};_pCalendar.on_find_CurrentStyle_daygradation=function(_a){return this._find_pseudo_obj("daygradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_daysize=function(_a){return this._find_pseudo_obj("daysize",_a);};_pCalendar.on_find_CurrentStyle_popupalign=function(_a){return this._find_pseudo_obj("popupalign",_a,"align");};_pCalendar.on_find_CurrentStyle_popupbackground=function(_a){return this._find_pseudo_obj("popupbackground",_a,"background");};_pCalendar.on_find_CurrentStyle_popupborder=function(_a){return this._find_pseudo_obj("popupborder",_a,"border");};_pCalendar.on_find_CurrentStyle_popupbordertype=function(_a){return this._find_pseudo_obj("popupbordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_popupgradation=function(_a){return this._find_pseudo_obj("popupgradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_popupsize=function(_a){return this._find_pseudo_obj("popupsize",_a)||nexacro.Calendar._defaultPopupsize;};_pCalendar.on_find_CurrentStyle_usetrailingday=function(_a){return this._find_pseudo_obj("usetrailingday",_a);};_pCalendar.on_find_CurrentStyle_trailingdaycolor=function(_a){return this._find_pseudo_obj("trailingdaycolor",_a,"color");};_pCalendar.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||nexacro.Calendar._defaultButtonsize;};_pCalendar.on_find_CurrentStyle_viewyearspin=function(_a){return this._find_pseudo_obj("viewyearspin",_a)||nexacro.Calendar._defaultViewyearspin;};_pCalendar.on_find_CurrentStyle_viewmonthspin=function(_a){return this._find_pseudo_obj("viewmonthspin",_a)||nexacro.Calendar._defaultViewmonthspin;};_pCalendar.on_find_CurrentStyle_align=function(_a,_b){if(_b){return _b._find_pseudo_obj("align",_a,"align")||this._find_pseudo_obj("align",_a,"align");}return this._find_pseudo_obj("align",_a,"align");};_pCalendar.on_find_CurrentStyle_background=function(_a,_b){if(_b){return _b._find_pseudo_obj("background",_a,"background")||this._find_pseudo_obj("background",_a,"background");}return this._find_pseudo_obj("background",_a,"background");};_pCalendar.on_find_CurrentStyle_border=function(_a,_b){if(_b){return _b._find_pseudo_obj("border",_a,"border")||this._find_pseudo_obj("border",_a,"border");}return this._find_pseudo_obj("border",_a,"border");};_pCalendar.on_find_CurrentStyle_bordertype=function(_a,_b){if(_b){return _b._find_pseudo_obj("bordertype",_a,"bordertype")||this._find_pseudo_obj("bordertype",_a,"bordertype");}return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_color=function(_a,_b){if(_b){return _b._find_pseudo_obj("color",_a,"color")||this._find_pseudo_obj("color",_a,"color");}return this._find_pseudo_obj("color",_a,"color");};_pCalendar.on_find_CurrentStyle_font=function(_a,_b){if(_b){return _b._find_pseudo_obj("font",_a,"font")||this._find_pseudo_obj("font",_a,"font");}return this._find_pseudo_obj("font",_a,"font");};_pCalendar.on_find_CurrentStyle_gradation=function(_a,_b){if(_b){return _b._find_pseudo_obj("gradation",_a,"gradation")||this._find_pseudo_obj("gradation",_a,"gradation");}return this._find_pseudo_obj("gradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_accessibility=function(_a,_b){if(_b){return _b._find_pseudo_obj("accessibility",_a,"accessibility")||this._find_pseudo_obj("accessibility",_a,"accessibility");}return this._find_pseudo_obj("accessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pCalendar.on_find_CurrentStyle_popuptype=function(_a){return this._find_pseudo_obj("popuptype",_a);};_pCalendar.on_find_CurrentStyle_displaynulltextcolor=function(_a){var _b=this._find_pseudo_obj("displaynulltextcolor",_a,"color");if(!_b){_b=this._find_pseudo_obj("color",_a,"color");}if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pCalendar.on_update_style_color=function(){this.on_apply_style_color(this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo,this.calendaredit));};_pCalendar.on_update_style_daycolor=function(){this.on_apply_style_daycolor(this.currentstyle.daycolor=this.on_find_CurrentStyle_daycolor(this._pseudo));};_pCalendar.on_update_style_daybackground=function(){this.on_apply_style_daybackground(this.currentstyle.daybackground=this.on_find_CurrentStyle_daybackground(this._pseudo));};_pCalendar.on_update_style_dayborder=function(){this.on_apply_style_dayborder(this.currentstyle.dayborder=this.on_find_CurrentStyle_dayborder(this._pseudo));};_pCalendar.on_update_style_daybordertype=function(){this.on_apply_style_daybordertype(this.currentstyle.daybordertype=this.on_find_CurrentStyle_daybordertype(this._pseudo));};_pCalendar.on_update_style_dayfont=function(){this.on_apply_style_dayfont(this.currentstyle.dayfont=this.on_find_CurrentStyle_dayfont(this._pseudo));};_pCalendar.on_update_style_daygradation=function(){this.on_apply_style_daygradation(this.currentstyle.daygradation=this.on_find_CurrentStyle_daygradation(this._pseudo));};_pCalendar.on_update_style_daysize=function(){this.on_apply_style_daysize(this.currentstyle.daysize=this.on_find_CurrentStyle_daysize(this._pseudo));};_pCalendar.on_update_style_popupalign=function(){this.on_apply_style_popupalign(this.currentstyle.popupalign=this.on_find_CurrentStyle_popupalign(this._pseudo));};_pCalendar.on_update_style_popupbackground=function(){this.on_apply_style_popupbackground(this.currentstyle.popupbackground=this.on_find_CurrentStyle_popupbackground(this._pseudo));};_pCalendar.on_update_style_popupborder=function(){this.on_apply_style_popupborder(this.currentstyle.popupborder=this.on_find_CurrentStyle_popupborder(this._pseudo));};_pCalendar.on_update_style_popupbordertype=function(){this.on_apply_style_popupbordertype(this.currentstyle.popupbordertype=this.on_find_CurrentStyle_popupbordertype(this._pseudo));};_pCalendar.on_update_style_popupgradation=function(){this.on_apply_style_popupgradation(this.currentstyle.popupgradation=this.on_find_CurrentStyle_popupgradation(this._pseudo));};_pCalendar.on_update_style_popupsize=function(){if(!this._init_popupsize){this._init_popupsize=this.currentstyle.popupsize;}this.on_apply_style_popupsize(this.currentstyle.popupsize=this.on_find_CurrentStyle_popupsize(this._pseudo));};_pCalendar.on_update_style_usetrailingday=function(){this.on_apply_style_usetrailingday(this.currentstyle.usetrailingday=this.on_find_CurrentStyle_usetrailingday(this._pseudo));};_pCalendar.on_update_style_trailingdaycolor=function(){this.on_apply_style_trailingdaycolor(this.currentstyle.trailingdaycolor=this.on_find_CurrentStyle_trailingdaycolor(this._pseudo));};_pCalendar.on_update_style_buttonsize=function(){this.on_apply_style_buttonsize(this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo));};_pCalendar.on_update_style_viewyearspin=function(){this.on_apply_style_viewyearspin(this.currentstyle.viewyearspin=this.on_find_CurrentStyle_viewyearspin(this._pseudo));};_pCalendar.on_update_style_viewmonthspin=function(){this.on_apply_style_viewmonthspin(this.currentstyle.viewmonthspin=this.on_find_CurrentStyle_viewmonthspin(this._pseudo));};_pCalendar.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);if(this._getPopupType()=="system"&&this.type!="monthonly"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";this.on_apply_type();return;}}};_pCalendar.on_update_style_displaynulltextcolor=function(){this.on_apply_style_displaynulltextcolor(this.currentstyle.displaynulltextcolor=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo));};_pCalendar.on_apply_style_align=function(_a){var _b=this.calendaredit;if(_b){_b.style.set_align(_a);}};_pCalendar.on_apply_style_popupalign=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_align(_a);}};_pCalendar.on_apply_style_color=function(_a){var _b=this.calendaredit;if(_b){_b.on_apply_style_color(_b.currentstyle.color=_a);}};_pCalendar.on_apply_style_popupcolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_color(_a);}};_pCalendar.on_apply_style_daycolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daycolor(_a);}};_pCalendar.on_apply_style_font=function(_a){var _b=this.calendaredit;if(_b){_b.on_apply_style_font(_b.currentstyle.font=_a);}};_pCalendar.on_apply_style_popupfont=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_font(_a);}};_pCalendar.on_apply_style_dayfont=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_dayfont(_a);}};_pCalendar.on_apply_style_popupbackground=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_background(_a);}};_pCalendar.on_apply_style_daybackground=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daybackground(_a);}};_pCalendar.on_apply_style_rtlimagemirroring=function(_a){return;};_pCalendar.on_apply_style_popupborder=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_border(_a);}};_pCalendar.on_apply_style_dayborder=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_dayborder(_a);}};_pCalendar.on_apply_style_popupbordertype=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_bordertype(_a);}};_pCalendar.on_apply_style_daybordertype=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daybordertype(_a);}};_pCalendar.on_apply_style_popupgradation=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_gradation(_a);}};_pCalendar.on_apply_style_daygradation=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daygradation(_a);}};_pCalendar.on_apply_style_popupsize=function(_a){var _b=this.popupcalendar;if(_b){if(_a){var _c=_a.value.split(/\s+/);var _d,_e;if(_c.length==2){_d=parseInt(_c[0],10);_e=parseInt(_c[1],10);}else{_d=parseInt(_c[0],10);_e=parseInt(_c[0],10);}var _f=_b._control_element;if(this.type=="normal"&&_f){_f.setElementSize(_d,_e);_b._updateClientSize(_f);}}}};_pCalendar.on_apply_style_daysize=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daysize(_a);}};_pCalendar.on_apply_style_usetrailingday=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_usetrailingday(_a);}};_pCalendar.on_apply_style_trailingdaycolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_trailingdaycolor(_a);}};_pCalendar.on_apply_style_buttonsize=function(_a){this._resizeCalendar();};_pCalendar.on_apply_style_viewyearspin=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_viewyearspin(_a);}};_pCalendar.on_apply_style_viewmonthspin=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_viewmonthspin(_a);}};_pCalendar.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this.calendaredit){this.calendaredit.on_apply_style_accessibility(_a);}};_pCalendar.on_apply_style_displaynulltextcolor=function(_a){if(this.calendaredit){this.calendaredit.on_apply_style_displaynulltextcolor(this.calendaredit.currentstyle.displaynulltextcolor=_a);}};_pCalendar.on_apply_style_letterspace=function(_a){if(this.calendaredit){this.calendaredit.on_apply_style_letterspace(this.calendaredit.currentstyle.letterspace=_a);}};_pCalendar.on_create_contents=function(){var _a=this.getElement();if(_a){if(this._getPopupType()=="system"&&this.type!="monthonly"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";}}switch(this.type){case "normal":this._createCalendaredit();this._createDropbutton();break;case "spin":this._createCalendaredit();this._createSpinbutton();break;case "monthonly":this._createPopupcalendar();break;case "system":this._createSystemCalendar();break;}}};_pCalendar.on_created_contents=function(){this.on_apply_autoskip();this.on_apply_autoselect();this.on_apply_locale();this.on_apply_displaynulltext();this.on_apply_usecontextmenu();this.on_apply_style_displaynulltextcolor(this.currentstyle.displaynulltextcolor);if(this.expr){this.on_apply_expr();}else{if(!this.value&&this._primitivevalue){this._setValue(this._primitivevalue);}}this.on_apply_editformat();this.on_apply_dateformat();this._currentformat="dateformat";if(this.cssclass){this.on_apply_pseudo();this.on_apply_custom_pseudo();this.on_apply_prop_class();}switch(this.type){case "spin":this._setEventHandlerToCalendarEdit();this._setEventHandlerToSpinButton();this.calendaredit.on_created();this.spinupbutton.on_created();this.spindownbutton.on_created();this.calendaredit.style.set_align(this.currentstyle.align);break;case "monthonly":this._setEventHandlerToPopupCalendar();this.popupcalendar.on_created();if(nexacro._enableaccessibility){this._want_arrows=true;}this.on_apply_style_popupborder(this.currentstyle.popupborder);break;case "system":if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _a=this.getElement();if(_a){_a.setElementAccessibilityHidden(false);}}this._setEventHandlerToCalendarEdit();this.calendaredit.on_created();this._setAccessibilityActiveDescendant(this.calendaredit);this.calendaredit.style.set_align(this.currentstyle.align);break;case "normal":default:this._setEventHandlerToCalendarEdit();this._setEventHandlerToDropButton();this.calendaredit.on_created();this.dropbutton.on_created();this._setAccessibilityActiveDescendant(this.calendaredit);this.calendaredit.style.set_align(this.currentstyle.align);this.on_apply_style_popupborder(this.currentstyle.popupborder);this.dropbutton._control_element.setElementAccessibilityHidden(true);}if(!nexacro._isDesktop()&&this.calendaredit&&this.calendaredit._input_element){if(this.type=="system"){this.calendaredit._input_element.setElementInputType("date",true,this);}else{this.calendaredit._input_element.setElementInputType("tel");}this.calendaredit._input_element.setElementInputTypeKeypad("tel");}this.on_apply_innerdataset();this.on_apply_style_letterspace(this.currentstyle.letterspace);this.on_apply_prop_rtldirection();if(nexacro._enableaccessibility&&this.calendaredit&&this.calendaredit._input_element){var _b=this.calendaredit._input_element;_b._setElementInputRole();_b._setElementInputLabel();}};_pCalendar.on_destroy_contents=function(){this._destroyControl();this._destroyInnerdataset();this._editformat_info=null;this._dateformat_info=null;this._currentformat="";this._mask="";this._caret_pos=null;this._prevalue=null;this._postvalue=null;this._datelistL=null;this._datelistS=null;this._localeListL=null;this._localeListS=null;};_pCalendar.on_change_containerRect=function(_a,_b){this._resizeCalendar();};_pCalendar.on_getBindableProperties=function(){return "value";};_pCalendar.on_apply_custom_setfocus=function(_a){var _b=this.calendaredit;var _c=this.popupcalendar;if(_b){var _d=_b._edit_base_api;if(_d&&!this._re_focus){this._currentformat="editformat";var _e=this.value;var _f="";this._setMask(this._currentformat,false,this.value);if(nexacro._isNull(_e)){_f=_e;}else{_f=this._makeMaskValue(_e.toString());}_d._setValue(_f);if(!_b._input_element._is_mousedown&&!(nexacro.Browser=="Runtime"&&_a=="lbuttondown")){if(nexacro.Browser=="Edge"&&this.autoselect){this._caret_pos.begin=0;this._caret_pos.end=this.value.length;}_b.setSelect(this._caret_pos.begin,this._caret_pos.end);}}if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)&&!this._is_dropbutton){_b.on_apply_custom_setfocus(_a);}else{this._is_dropbutton=false;_d._changeFocusText(_b._input_element);nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}_b._is_set_value=false;_b._stat_change("focus","focused");}else if(_c){_c.on_apply_custom_setfocus(_a);}};_pCalendar.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){if(this.calendaredit){this.calendaredit._setEnable(_a);}if(this.dropbutton){this.dropbutton._setEnable(_a);}if(this.spinupbutton){this.spinupbutton._setEnable(_a);}if(this.spindownbutton){this.spindownbutton._setEnable(_a);}if(this.popupcalendar){this.popupcalendar._setEnable(_a);}}};_pCalendar.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this._bindsource=false;this._setValue(undefined);return true;}};_pCalendar.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){this._bindsource=true;this._currentformat="editformat";var _f=_b.getColumn(_c,_d);if(_f){if(_f instanceof nexacro.Date){var _g=_f;}else{if(this.editformat!=this._editformat_info.format){this._editformat_info=this._makeFormatInfo(this.editformat);}var _h=this.editformat;var _i=this._currentformat;this._currentformat="editformat";var _j=this._editformat_info;if(_j._year||_j._mon||_j._day){if(_j._hour||_j._min||_j._sec||_j._millisec){this.set_editformat("yyyyMMddHHmmsssss");}else{this.set_editformat("yyyyMMdd");}}else{this.set_editformat("HHmmsssss");}var _g=this._makeDateObj(_f);this._currentformat=_i;this.set_editformat(_h);}this.set_enable(this.enable);}if(this._is_primitivevalue&&!this._is_created){this._primitivevalue=_g;}this._currentformat="dateformat";this._setValue(_g);return true;}return false;};_pCalendar.on_get_style_accessibility_label=function(){if(this.type=="monthonly"){return this.text?this.text:this._getCurrentDate();}else{return "";}};_pCalendar._on_getAccessibilityAdditionalLabel=function(){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a){var _b=this.calendaredit;if(_b){return _b._edit_base_api._on_getAccessibilityAdditionalLabel();}}return "";};_pCalendar.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);if(this._isPopupVisible()){if(_a||_b){this._closePopup();return;}this._update_popupwindow_position();if(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime"){var _c=this;var _d=this._popupwindow_position_observer;if(_d){if(_d._interval_timer){_d._interval_timer.stop();delete _d._interval_timer;_d._interval_timer=null;}this._popupwindow_position_observer=null;}var _e=this._control_element;_d=this._popupwindow_position_observer={};_d._observed_count=0;_d._elem_pos=nexacro._getElementPositionInFrame(_e);_d._interval_timer=new nexacro.CallbackTimer(this,function(){if( ++_d._observed_count>=50){_d._interval_timer.destroy();delete _d._interval_timer;_d._interval_timer=null;return;}var _f=nexacro._getElementPositionInFrame(_e);if(_d._elem_pos.x!=_f.x||_d._elem_pos.y!=_f.y){_c._update_popupwindow_position();_d._observed_count=50;}},100);_d._interval_timer.start();}}};_pCalendar._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrows;this._is_first_focus=false;return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pCalendar._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this.calendaredit._input_element&&this._status!="focus"){if(!this.calendaredit._input_element._wantAccessibilityAdditionalLabel||!this.calendaredit._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pCalendar._setAccessibilityStatFocus=function(_a){var _b=this.calendaredit;if(_b&&_b._input_element){var _c=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_c="none";}_b._input_element.setElementAccessibilityRole(_c);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pCalendar._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);return _b;};_pCalendar.set_text=nexacro._emptyFn;_pCalendar.set_autoselect=function(_a){if(_a!=this.autoselect){this.autoselect=_a;this.on_apply_autoselect();}};_pCalendar.on_apply_autoselect=function(){var _a=this.calendaredit;if(_a){_a.set_autoselect(this.autoselect);}};_pCalendar.set_autoskip=function(_a){if(_a!=this.autoskip){this.autoskip=_a;this.on_apply_autoskip();}};_pCalendar.on_apply_autoskip=function(){var _a=this.calendaredit;if(_a){_a.set_autoskip(this.autoskip);}};_pCalendar.set_displaynulltext=function(_a){if(_a===undefined){return;}_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pCalendar.on_apply_displaynulltext=function(){if(this.calendaredit){this.calendaredit.set_displaynulltext(this.displaynulltext);}};_pCalendar.on_apply_expr=function(){var _a=this.getElement();if(_a){var _b=this.expr;var _c=_b.substring(0,4);var _d,_e,_f;var _g=false;if(_c=="expr"){_c=_b.substr(4).trim();if(/^expr(\s*):/.test(_b)){_c=_c.substr(1);}else{_c=_c.substring(1,_c.length-1);}}else{_c=_b;}_d=new nexacro.ExprParser();_e=_d.makeExpr(this,_c);if(_e.substring(0,4)=="Date"){_e="new "+_e;_g=true;}_d=null;_f=nexacro._createInlineFunc(_e,["comp"]);if(_f){var _h=_f.call(null,this);if(_g){this._setValue_JSDate(_h);}else{this._setValue(_h);}}}};_pCalendar.set_type=function(_a){if(this._getPopupType()=="system"&&_a!="monthonly"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";this.on_apply_type();return;}}if(_a!=this.type){this._pretype=this.type;if(_a==="spin"||_a==="monthonly"){this.type=_a;}else{this.type="normal";}this.on_apply_type();}};_pCalendar.on_apply_type=function(){var _a=this.getElement();if(_a){var _b=true;var _c=this._client_width;var _d=Math.round(_c/5);if(this._pretype!="monthonly"||this.type=="monthonly"){_b=false;}this._destroyControl();switch(this.type){case "normal":this._createNormaltypeControl();break;case "spin":this._createSpintypeControl();break;case "monthonly":var _e=this._getPopupSizeArr();this._createMonthlytypeControl();this.resize(_e.width,_e.height);break;case "system":if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_a.setElementAccessibilityHidden(false);}this._createSystemtypeControl();}if(_b){this.resize(_c,_d);}this._resizeCalendar();if(nexacro._enableaccessibility&&this.calendaredit&&this.calendaredit._input_element){var _f=this.calendaredit._input_element;_f._setElementInputRole();_f._setElementInputLabel();}}};_pCalendar.set_value=function(_a){if(_a&&((typeof _a)=="object")&&_a._type_name!="Date"){return;}if((_a+"")==(this.value+"")){return;}this._setUserValue(_a);};_pCalendar.on_apply_value=function(){var _a=this.getElement();if(_a){var _b=this.value;if(this.calendaredit){if(_b==""&&this._currentformat=="dateformat"){var _c=true;}else{var _c=false;}this._setMask(this._currentformat,_c,this.value);if(_b==null){this.calendaredit.set_value(undefined);}else{var _d=(this._isEmptyStr(_b))?"":this._makeMaskValue(_b.toString());var _e=this.calendaredit._edit_base_api;this.calendaredit.value=_e._getValue();this.calendaredit.set_value(_d);}}if(this.popupcalendar){var _d=this._getPickerValue(_b);this.popupcalendar.set_value(_d);}}this.on_apply_text();};_pCalendar.on_apply_fake_value=function(_a){var _b=this.getElement();if(_b){if(this.calendaredit){var _c=_a;var _d=this._makeMaskValue(_c?_c.toString():"");this._setMask(this._currentformat,true,_c);this.calendaredit.set_value(_d,true);}if(this.popupcalendar){var _c=this._makeDateObj(_a);var _d=this._getPickerValue(_c);this.popupcalendar.set_value(_d);}}};_pCalendar.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this.value;if(!_b){this.text="";}else{this.displaytext=this.text=this._makeCalendarText(_b);}this._refreshAccessibilityValue();}};_pCalendar.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pCalendar._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pCalendar.getInnerDataset=function(){return this._innerdataset;};_pCalendar.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pCalendar.on_apply_innerdataset=function(){var _a=this.getElement();if(_a){var _b=this._innerdataset;if(_b&&this.popupcalendar){_b._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_b._setEventHandler("onrowsetchanged",this._callback_rowsetchanged,this);this.popupcalendar.on_apply_innerdataset(this._innerdataset);}}};_pCalendar.set_backgroundcolumn=function(_a){if(_a!=this.backgroundcolumn){this.backgroundcolumn=_a;this.on_apply_backgroundcolumn();}};_pCalendar.on_apply_backgroundcolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_backgroundcolumn(this.backgroundcolumn);}}};_pCalendar.set_bordercolumn=function(_a){if(_a!=this.bordercolumn){this.bordercolumn=_a;this.on_apply_bordercolumn();}};_pCalendar.on_apply_bordercolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_bordercolumn(this.bordercolumn);}}};_pCalendar.set_datecolumn=function(_a){if(_a!=this.datecolumn){this.datecolumn=_a;this.on_apply_datecolumn();}};_pCalendar.on_apply_datecolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_datecolumn(this.datecolumn);}}};_pCalendar.set_textcolorcolumn=function(_a){if(_a!=this.textcolorcolumn){this.textcolorcolumn=_a;this.on_apply_textcolorcolumn();}};_pCalendar.on_apply_textcolorcolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_textcolorcolumn(this.textcolorcolumn);}}};_pCalendar.set_dateformat=function(_a){if(_a!=this.dateformat){this.dateformat=_a;this.on_apply_dateformat();}};_pCalendar.on_apply_dateformat=function(){if(!this._is_created_contents&&!this._is_subcontrol){return;}if(this.type=="system"){this._dateformat_info=this._makeFormatInfo("yyyy-MM-dd");}else{this._dateformat_info=this._makeFormatInfo(this.dateformat);}var _a=this.getElement();if(_a){this.on_apply_value();}};_pCalendar.set_editformat=function(_a){if(_a!=this.editformat){this.editformat=_a;this.on_apply_editformat();}};_pCalendar.on_apply_editformat=function(){if(!this._is_created_contents&&!this._is_subcontrol){return;}if(this.type=="system"){this._editformat_info=this._makeFormatInfo("yyyy-MM-dd");}else{this._editformat_info=this._makeFormatInfo(this.editformat,true);}};_pCalendar.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pCalendar.on_apply_usesoftkeyboard=function(){var _a=this.calendaredit?this.calendaredit._input_element:null;if(_a){_a.setElementUseSoftKeyboard(this.usesoftkeyboard);}};_pCalendar.set_imemode=function(_a){if(_a!=this.imemode){this.imemode=_a;}};_pCalendar.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();this.on_apply_dateformat();this.on_apply_editformat();}}};_pCalendar.on_apply_locale=function(){var _a=this.calendaredit;var _b=this._getLocale();if(_a){_a._setLocale(_b);}var _c=this.popupcalendar;if(_c){_c._setLocale(_b);}var _d=this.getElement();if(_d){var _e=this.popupcalendar;var _f=nexacro.Locale.getLocaleInfo(_b);this._datelistL=_f.weekday_names_long;this._datelistS=_f.weekday_names_short;this._monthlistL=_f.month_names_long;this._monthlistS=_f.month_names_short;this._locale_direction=_f.direction;var _g=this._datelistS.join(" ");this.on_apply_value();if(_e){var _h=_e.on_find_CurrentStyle_weekformat(this._pseudo);if(_h){_e.on_apply_style_weekformat(_h);}else{_e.on_apply_style_weekformat(_g);}}}};_pCalendar.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);if(!_a&&this._is_created){this.closeDropdown();}}};_pCalendar.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pCalendar.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this.calendaredit){this.calendaredit.set_readonly(_a);}if(this.popupcalendar){this.popupcalendar.set_readonly(_a);}};_pCalendar.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontextmenu){this.usecontextmenu=_a;this.on_apply_usecontextmenu();}};_pCalendar.on_apply_usecontextmenu=function(){var _a=this.calendaredit;if(_a){_a.set_usecontextmenu(this.usecontextmenu);}};_pCalendar.set_useime=function(_a){if(_a!=this.useime){this.useime=_a;}};_pCalendar.set_useinputpanel=function(_a){if(_a!=this.useinputpanel){this.useinputpanel=_a;}};_pCalendar.closeDropdown=function(){if(this.type=="normal"){this._closePopup();}};_pCalendar.dropdown=function(){if(this.enable!=true||this.readonly==true||this.visible==false||this.type!="normal"){return false;}var _a=this.value;var _b=this.calendaredit;var _c=this._getDateObjFromDisplayText(_b.text);var _d=_a?_a.toString():_a;var _e=_c?_c.toString():_c;this._currentformat="editformat";if(_d!=_e){if(!((_d===undefined||_d===null)&&_e==="")){this._setPreValueAndText(_a);this._setPostValueAndText(_c);var _f=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_f||_f===undefined){var _g=this._setValue(this._postvalue);if(_g===false){this._setValue(this._prevalue);}else{this._fireOnchangedEvent(_a,this.value);}}else{this._setValue(this._prevalue);this.setCaretPos(0);}}}if(this.isDropdown()){return false;}var _f=this.on_fire_ondropdown(this);if(this._getPopupType()=="none"||this.type=="system"){return;}if(_f||_f===undefined){this._setFocus(false);this._showPopup();this._resizeDatePicker(true);this._currentformat="editformat";var _h=this._makeMaskValue(this.value?this.value.toString():"");var _b=this.calendaredit;if(_b){this._setMask(this._currentformat,true,this.value);_b.set_value(_h);var _i=this.calendaredit._input_element;if(_i){if(this.autoselect){_i.setElementSetSelect(0,this.text.length);}else{this._setDefaultCaret();}}}var _j=this.popupcalendar;if(_j){this.on_apply_style_popupborder(this.currentstyle.popupborder);_h=this._getPickerValue(this.value);_j.set_value(_h);_j._hide_spindate();}if(nexacro._enableaccessibility){this._want_arrows=true;}}};_pCalendar.isDropdown=function(){return this._isPopupVisible();};_pCalendar.getCaretPos=function(){var _a= -1;if(this.calendaredit&&this.readonly==false){_a=this.calendaredit.getCaretPos();}return _a;};_pCalendar.getDay=function(){var _a=1;if(this.value){_a=this.value.getDate();}return _a;};_pCalendar.getDayOfWeek=function(){var _a=4;if(this.value){_a=this.value.getDay();}return _a;};_pCalendar.getMonth=function(){var _a=1;if(this.value){_a=this.value.getMonth()+1;}return _a;};_pCalendar.getSelect=function(){var _a=[0,0];if(this.calendaredit){_a=this.calendaredit.getSelect();}return _a;};_pCalendar.getSelectedText=function(){var _a="";if(this.calendaredit){_a=this.calendaredit.getSelectedText();}return _a;};_pCalendar.getYear=function(){var _a=1970;if(this.value){_a=this.value.getFullYear();}return _a;};_pCalendar.isAboveSelected=function(){};_pCalendar.setCaretPos=function(_a){this._caret_pos.begin=_a;this._caret_pos.end=_a;if(this.calendaredit){return this.calendaredit.setCaretPos(_a);}};_pCalendar.setSelect=function(_a,_b){var _c=false;this._caret_pos.begin=_a;this._caret_pos.end=_b;if(this.calendaredit){_c=this.calendaredit.setSelect(_a,_b);}return _c;};_pCalendar.updateToDataset=function(){this._bindsource=false;if(this.popupcalendar&&this._isPopupVisible()){var _a=this.popupcalendar.value;}else if(this.calendaredit){var _a=this.calendaredit.value;}else{var _a=this.value;}if(!this._bind_event){return false;}var _b=this.applyto_bindSource("value",_a);if(this._flag_update2dataset){return true;}return _b;};_pCalendar._getDragData=function(){return this.calendaredit?this.calendaredit._getDragData():"";};_pCalendar.on_notify_ondayclick=function(_a,_b){if(this.readonly){return;}var _c=this.calendaredit;if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){this.on_apply_custom_setfocus();}var _d=this._getDateObj(_b.date);this.on_fire_ondayclick(this,_d);if(this._dateformat_info==null||this._editformat_info==null){return;}this._currentformat="editformat";var _e=this.value;var _f=_d;var _g=false;if(this._editformat_info){if(this._editformat_info._hour||this._editformat_info._min||this._editformat_info._sec||this._editformat_info._millisec){_g=true;}}if(_g){_f._timecheck=true;if(_e){_f.setHours(_e.getHours(),_e.getMinutes(),_e.getSeconds(),_e.getMilliseconds());}else{_f.setHours(0,0,0,0);}}var _h=_e?_e.toString():_e;var _i=_f?_f.toString():_f;if(_h!=_i){this._day_click=true;this._setPreValueAndText(_e);this._setPostValueAndText(_f);var _j=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_j||_j===undefined){var _k=this._setValue(this._postvalue);if(_k===false){this._setValue(this._prevalue);this.closeDropdown();}else{this.closeDropdown();this._fireOnchangedEvent(_e,_f);}this._setDefaultCaret();}else{this._setValue(this._prevalue);}}else{this.closeDropdown();this._setDefaultCaret();}if(this.autoskip&&_c){_c.on_apply_autoskip();}this._day_click=false;this._currentformat="editformat";return _j;};_pCalendar.on_notify_mobile_ondropdown=function(_a,_b){if(this.readonly==true||this.enable==false){return false;}if(this._isPopupVisible()){this.closeDropdown();}else{this.dropdown();}return false;};_pCalendar.on_notify_ondropdown=function(_a,_b){if(this.readonly==true||this.enable==false){return false;}if(this._isPopupVisible()){this.closeDropdown();if(this.calendaredit){var _c=this.calendaredit._input_element;if(_c){if(this.autoselect){var _d=this.text;_c.setElementSetSelect(0,_d.length);}else{this._setDefaultCaret();}}}}else{this.dropdown();}return false;};_pCalendar.on_notify_oneditclick=function(_a,_b){this.on_fire_oneditclick(_a,_b.caretpos,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,_b.fromobject,_b.fromreferenceobject);};_pCalendar.on_notify_onlbuttonup=function(_a,_b){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=this.calendaredit;var _d=_c._input_element;var _e=_d.getElementCaretPos();if(_e&&_e!= -1){this._caret_pos=_e;if(nexacro._isDesktop()&&nexacro.Browser=="Runtime"){if(_e.begin==_e.end){this.setCaretPos(_e.begin);}}}else{this._caret_pos.begin=0;this._caret_pos.end=0;}});};_pCalendar.on_notify_onlbuttondown=function(_a,_b){if(this.readonly==true){return false;}var _c=this.calendaredit;var _d=_c._edit_base_api;var _e=_c._input_element;var _f=_e.getElementCaretPos();if(_f&&_f!= -1){this._caret_pos=_f;}else{this._caret_pos.begin=0;this._caret_pos.end=0;}if(this._isPopupVisible()){this.closeDropdown();}if(_c&&this._currentformat!="editformat"){var _g=(this._currentformat=="dateformat"&&this.value==="")?true:false;this._currentformat="editformat";this._setMask(this._currentformat,_g,this.value);var _h=this._makeMaskValue(this.value?this.value.toString():"");_d._setValue(_h);}};_pCalendar.on_notify_mobile_onlbuttondown=function(_a,_b){if(this.readonly==true){return false;}var _c=this.calendaredit;var _d=_c._edit_base_api;if(this._isPopupVisible()){this.closeDropdown();}if(_c&&this._currentformat!="editformat"){this._currentformat="editformat";this._setMask(this._currentformat,false,this.value);var _e=this._makeMaskValue(this.value?this.value.toString():"");_d._setValue(_e);}};_pCalendar.on_notify_ontextchange=function(_a,_b){if(!this._isValidDate(_b.chartext)){return false;}return this.on_fire_ontextchange(_a,_b.chartext,_b.pretext,_b.posttext,_b.preimetext,_b.postimetext);};_pCalendar.on_notify_ontextchanged=function(_a,_b){var _c=_b.posttext;var _d=this._getDateObjFromDisplayText(_c);var _e=this._getPickerValue(_d);if(this.popupcalendar&&this.isDropdown()){this.popupcalendar.set_value(_e);}return this.on_fire_ontextchanged(_a,_b.pretext,_b.posttext);};_pCalendar.on_notify_onchanged=function(_a,_b){};_pCalendar.on_notify_onchar=function(_a,_b){return this.on_fire_onchar(_a,_b.chartext,_b.pretext,_b.posttext);};_pCalendar.on_notify_cancharchange=function(_a,_b){return this.on_fire_cancharchange(_a,_b.chartext,_b.pretext,_b.posttext);};_pCalendar.on_notify_canchange=function(_a,_b){return this.on_fire_canchange(_a,_b.pretext,_b.prevalue,_b.posttext,_b.postvalue);};_pCalendar.on_notify_oneditkillfocus=function(_a,_b){if(this.readonly==true){return;}if(this.type=="spin"&&_b){if(_b.newreferencecomponent==this.spinupbutton||_b.newreferencecomponent==this.spindownbutton){return;}}this._currentformat="editformat";var _c=this._getDateObjFromDisplayText(this.calendaredit.text);var _d=this.value;var _e=_d?_d.toString():_d;var _f=_c?_c.toString():_c;if(_e!=_f){if((_e===undefined||_e===null)&&_f===""){return;}this._setPreValueAndText(_d);this._setPostValueAndText(_c);var _g=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_g||_g===undefined){var _h=this._setValue(this._postvalue);if(_h===false){this._setValue(this._prevalue);return;}}else{this._setValue(this._prevalue);this.setCaretPos(0);return;}this._fireOnchangedEvent(_d,this.value);}};_pCalendar.on_notify_oncloseup=function(_a,_b){var _c=this._getWindow();if(_c&&this._track_capture){_c._releaseCaptureLock(this);}if(this._day_click){this.on_fire_oncloseup(this,this._pretext,this._posttext,this._prevalue,this._postvalue);}else{var _d=this._changeYearValue(true);var _e=this._getDateObjFromDisplayText(_d);var _f=this.value;var _g=_f?_f.toString():_f;var _h=_e?_e.toString():_e;this.on_fire_oncloseup(this,_g,_h,_f,_e);}};_pCalendar.on_notify_onkeydown=function(_a,_b){var _c=nexacro.Event;switch(this.type){case "normal":if(_b.keycode==_c.KEY_ESC){this.closeDropdown();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_ENTER){this._fireKeydownEvent();if(this.isDropdown()){this.popupcalendar.on_fire_sys_onkeydown(_b.keycode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.fromobject,_b.fromreferenceobject);}this.closeDropdown();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_SPACE){return false;}else if(_b.altKey==true&&_b.keycode==_c.KEY_DOWN){this.dropdown();}else{if(this.isDropdown()&&(_b.keycode>=_c.KEY_LEFT&&_b.keycode<=_c.KEY_DOWN)){this.popupcalendar.on_fire_sys_onkeydown(_b.keycode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.fromobject,_b.fromreferenceobject);}}break;case "spin":var _d=this.calendaredit;var _e=_d._input_element;var _f=_e.getElementCaretPos();if(_f&&_f!= -1){this._caret_pos=_f;}else{this._caret_pos=0;}if(_b.keycode==_c.KEY_ENTER){this._fireKeydownEvent();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_UP){if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_onspinup(_a,_b);}}else if(_b.keycode==_c.KEY_DOWN){if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_onspindown(_a,_b);}}break;case "monthonly":default:break;}return false;};_pCalendar.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(nexacro._enableaccessibility&&!_c&&!_b&&(this.type=="monthonly"||this.isDropdown())){var _g=this.popupcalendar;var _h=_g._header;var _i=_g._body;var _j=_i._year|0;var _k=_i._month|0;var _l=_i._day|0;switch(_a){case 38:{if(_c){_j-=1;}else{_l-=7;if(_l<=0){_k-=1;if(_k<=0){if(_j<=0){_j=9999;}else{_j-=1;}_k=12;}_l=this._getEndDay(_j,_k)+_l;}}}break;case 40:{if(_c){_j+=1;}else{_l+=7;var _m=this._getEndDay(_j,_k);if(_l>_m){_k+=1;if(_k>12){if(_j>=9999){_j=0;}else{_j+=1;}_k=1;}_l-=_m;}}}break;}if(_a==38||_a==40){_j=_i._makeDateText(_j,"year");_k=_i._makeDateText(_k,"month");_l=_i._makeDateText(_l,"day");var _n=new nexacro.Date(_j,_k-1,_l);_g._hide_spindate();if(this.type=="monthonly"){_g.on_fire_ondayclick(_g,_n);}else{_g.set_value(_j+_k+_l);}_n=null;}}};_pCalendar.on_notify_onspinup=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos;if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);this.setCaretPos(0);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h,1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,true);if(_j||_j===undefined){this.on_apply_fake_value(this._postvalue);}var _k=0;if(_h.length!=_d.text.length){_k=_d.text.length-_h.length;}this.setCaretPos(_f.begin+_k);_a._stat_change("notselect","normal");};_pCalendar.on_notify_mobile_onspinup=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos={begin:_c._edit_base_api._begin_pos,end:_c._edit_base_api._end_pos};if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h,1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,true);if(_j||_j==undefined){this.on_apply_fake_value(this._postvalue);}_a._stat_change("notselect","normal");};_pCalendar.on_notify_onspindown=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos;if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);this.setCaretPos(0);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h, -1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,false);if(_j||_j==undefined){this.on_apply_fake_value(this._postvalue);}var _k=0;if(_h.length!=_d.text.length){_k=_d.text.length-_h.length;}this.setCaretPos(_f.begin+_k);_a._stat_change("notselect","normal");};_pCalendar.on_notify_mobile_onspindown=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos={begin:_c._edit_base_api._begin_pos,end:_c._edit_base_api._end_pos};if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h, -1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,false);if(_j||_j==undefined){this.on_apply_fake_value(this._postvalue);}_a._stat_change("notselect","normal");};_pCalendar._callback_onvaluechanged=function(_a,_b){this.on_apply_backgroundcolumn();this.on_apply_bordercolumn();this.on_apply_datecolumn();this.on_apply_textcolorcolumn();};_pCalendar._callback_rowsetchanged=function(_a,_b){this.on_apply_backgroundcolumn();this.on_apply_bordercolumn();this.on_apply_datecolumn();this.on_apply_textcolorcolumn();};_pCalendar._on_activate=function(){if(!this._is_alive){return;}var _a=this.calendaredit;if(_a){var _b=_a._edit_base_api;if(_b){this._currentformat="editformat";var _c=this.value;var _d="";this._setMask(this._currentformat,false,this.value);if(nexacro._isNull(_c)){_d=_c;}else{_d=this._makeMaskValue(_c.toString(),this.value);}this.on_apply_value();_b._setValue(_d);if(nexacro._enableaccessibility){this._setAccessibilityStatFocus();}}}if(!this._isSelected()){this._stat_change("focus","normal");}};_pCalendar._on_killfocus=function(_a,_b){if(!this._is_alive||application._is_on_alert){return;}if(this.calendaredit){this._caret_pos.begin=this.calendaredit._edit_base_api._begin_pos;this._caret_pos.end=this.calendaredit._edit_base_api._end_pos;}if(this.calendaredit&&nexacro.Browser=="Runtime"){this.calendaredit._cancelSelect();}if(this.type!="monthonly"){var _c=this.value;var _d=this._changeYearValue(true);if(this.popupcalendar){this._currentformat="editformat";}var _e=this._getDateObjFromDisplayText(_d);var _f=_c?_c.toString():_c;var _g=_e?_e.toString():_e;this._currentformat="dateformat";if(_f!=_g){if((_f===undefined||_f===null)&&_g===""){this.on_apply_value();this.closeDropdown();if(this.calendaredit){this.calendaredit._stat_change("notfocus","normal");if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this.calendaredit._is_focusing=false;}}return;}this._setPreValueAndText(_c);this._setPostValueAndText(_e);var _h=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_h||_h==undefined){_h=this.applyto_bindSource("value",this._postvalue);if(_h===false){this.on_apply_value();}else{this._setValue(this._postvalue);}}else{_h=this.applyto_bindSource("value",this._prevalue);if(_h===false){this.on_apply_value();}else{this._setValue(this._prevalue);}return;}this._fireOnchangedEvent(this._prevalue,this.value);}else{this.on_apply_value();var _i=this.calendaredit;if(_i){var _j=_i._edit_base_api;_j._setFocusValue();}}this.closeDropdown();}else{if(this.popupcalendar){var _k=this.popupcalendar;_k._hide_spindate();}this.on_apply_value();}if(this.calendaredit){this.calendaredit._stat_change("notfocus","normal");if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this.calendaredit._is_focusing=false;}}};_pCalendar.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(this,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pCalendar.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pCalendar.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangedEventInfo(this,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}return false;};_pCalendar.on_fire_onchar=function(_a,_b,_c,_d){if(this.onchar&&this.onchar._has_handlers){var _e=new nexacro.CharEventInfo(this,"onchar",_b,_c,_d);return this.onchar._fireCheckEvent(this,_e);}return true;};_pCalendar.on_fire_oncloseup=function(_a,_b,_c,_d,_e){if(this.oncloseup&&this.oncloseup._has_handlers){var _f=new nexacro.CalendarCloseUpEventInfo(this,"oncloseup",_b,_c,_d,_e);return this.oncloseup._fireEvent(this,_f);}return false;};_pCalendar.on_fire_ondayclick=function(_a,_b){if(this.ondayclick&&this.ondayclick._has_handlers){var _c=new nexacro.CalendarDayClickEventInfo(this,"ondayclick",_b);return this.ondayclick._fireEvent(this,_c);}return false;};_pCalendar.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=new nexacro.Event(this,"ondropdown");return this.ondropdown._fireEvent(this,_b);}return true;};_pCalendar.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.visible&&this._isEnable()&&this.enableevent){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(this,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this,_n);return this.oneditclick._fireEvent(this,_o);}}return false;};_pCalendar.on_fire_onspin=function(_a,_b,_c,_d,_e,_f){if(this.onspin&&this.onspin._has_handlers){var _g=new nexacro.CalendarSpinEventInfo(this,"onspin",_b,_c,_d,_e,_f);return this.onspin._fireEvent(this,_g);}return true;};_pCalendar.on_fire_ontextchange=function(_a,_b,_c,_d,_e,_f){if(this.ontextchange&&this.ontextchange._has_handlers){var _g=new nexacro.TextChangeEventInfo(this,"ontextchange",_b,_c,_d,_e,_f);return this.ontextchange._fireCheckEvent(this,_g);}return true;};_pCalendar.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(this,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pCalendar.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCalendar.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onfling.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return _j;};_pCalendar.on_fire_user_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){nexacro.Component.prototype.on_fire_user_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCalendar._applyZoomPopup=function(){if(this.popupwindow&&this.popupwindow._is_popup()){this.dropdown();}};_pCalendar._createCalendaredit=function(){var _a=new nexacro.CalendarEditCtrl("calendaredit","absolute",0,0,0,0,null,null,this);_a.set_readonly(this.readonly);_a.set_type("string");_a.set_maskchar(" ");_a.set_displaynulltext(this.displaynulltext);_a.createComponent(true);this.calendaredit=_a;this._edit_base_api=_a._edit_base_api;_a=null;this._setMask("dateformat",true,this.value);};_pCalendar._createDropbutton=function(){var _a=this.dropbutton=new nexacro.CalendarDropButtonCtrl("dropbutton","absolute",0,0,0,0,null,null,this);_a.createComponent(true);};_pCalendar._createSpinbutton=function(){var _a=new nexacro.CalendarSpinButtonCtrl("spinupbutton","absolute",0,0,0,0,null,null,this);var _b=new nexacro.CalendarSpinButtonCtrl("spindownbutton","absolute",0,0,0,0,null,null,this);_a.createComponent(true);_b.createComponent(true);this.spinupbutton=_a;this.spindownbutton=_b;_a=_b=null;};_pCalendar._createPopupcalendar=function(){var _a=new nexacro.DatePickerCtrl("popupcalendar","absolute",0,0,0,0,null,null,this);_a.createComponent(true);_a._setEnable(true);if(this.type=="monthonly"){_a._is_focus_accept=true;}else{_a._is_focus_accept=false;}this.popupcalendar=_a;_a=null;};_pCalendar._createPopupwindow=function(){var _a=new nexacro.CalendarPopupWindow("calendarpopup","absolute",0,0,0,0,null,null,this);_a.createComponent(true);this.popupwindow=_a;_a=null;};_pCalendar._createSystemCalendar=function(){var _a=new nexacro.CalendarEditCtrl("calendaredit","absolute",0,0,0,0,null,null,this);_a.set_readonly(this.readonly);_a.set_type("string");_a.set_maskchar(" ");_a.set_displaynulltext(this.displaynulltext);_a.createComponent(true);this.calendaredit=_a;this.calendaredit.setCaretPos(0);_a=null;};_pCalendar._applyAllProps=function(){var _a=this.getElement();if(_a){this.on_apply_editformat();this.on_apply_value();this.on_apply_dateformat();this.on_apply_innerdataset();this.on_apply_locale();this.on_apply_readonly();}};_pCalendar._applyDatepickerProps=function(){var _a=this.getElement();if(_a){var _b=this.popupcalendar;if(_b){_b._setEnable(true);_b.set_readonly(this.readonly);var _c=this._getPickerValue(this.value);_b.set_value(_c);this.on_apply_style_viewmonthspin(this.on_find_CurrentStyle_viewmonthspin(this._pseudo));this.on_apply_style_viewyearspin(this.on_find_CurrentStyle_viewyearspin(this._pseudo));this.on_apply_innerdataset();}}};_pCalendar._createNormaltypeControl=function(){var _a=this.getElement();if(_a){this._createCalendaredit();this._createDropbutton();this._setEventHandlerToCalendarEdit();this._setEventHandlerToDropButton();this._applyAllProps();if(this._is_created){var _b=this.popupwindow;var _c=this.popupcalendar;var _d=this.calendaredit;var _e=this.dropbutton;if(_d){_d.on_created();_d.style.set_align(this.currentstyle.align);}if(_e){_e.on_created();}}}};_pCalendar._createSpintypeControl=function(){var _a=this.getElement();if(_a){this._createCalendaredit();this._createSpinbutton();this._setEventHandlerToCalendarEdit();this._setEventHandlerToSpinButton();this._applyAllProps();if(this._is_created){var _b=this.calendaredit;var _c=this.spinupbutton;var _d=this.spindownbutton;if(_b){_b.on_created();_b.style.set_align(this.currentstyle.align);}if(_c){_c.on_created();}if(_d){_d.on_created();}}}};_pCalendar._createMonthlytypeControl=function(){var _a=this.getElement();if(_a){this._createPopupcalendar();this._setEventHandlerToPopupCalendar();this._applyDatepickerProps();if(this._is_created){var _b=this.popupcalendar;if(_b){_b.on_created();}}}};_pCalendar._createSystemtypeControl=function(){var _a=this.getElement();if(_a){this._createSystemCalendar();this._setEventHandlerToCalendarEdit();this._applyAllProps();if(this._is_created){var _b=this.calendaredit;if(_b){_b.on_created();_b.style.set_align(this.currentstyle.align);if(!nexacro._isDesktop()&&_b&&_b._input_element){if(this.type=="system"){_b._input_element.setElementInputType("date",true,this);}else{_b._input_element.setElementInputType("tel");}_b._input_element.setElementInputTypeKeypad("tel");}}}}};_pCalendar._setEventHandlerToCalendarEdit=function(){var _a=this.calendaredit;_a._setEventHandler("oneditclick",this.on_notify_oneditclick,this);_a._setEventHandler("onkeydown",this.on_notify_onkeydown,this);_a._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_a._setEventHandler("onlbuttonup",this.on_notify_onlbuttonup,this);_a._setEventHandler("ontouchstart",this.on_notify_mobile_onlbuttondown,this);_a._setEventHandler("ontextchange",this.on_notify_ontextchange,this);_a._setEventHandler("ontextchanged",this.on_notify_ontextchanged,this);_a._setEventHandler("cancharchange",this.on_notify_cancharchange,this);_a._setEventHandler("onchar",this.on_notify_onchar,this);};_pCalendar._setEventHandlerToDropButton=function(){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){this.dropbutton._setEventHandler("onlbuttondown",this.on_notify_ondropdown,this);}if(nexacro.OS!="Windows"||nexacro.Browser!="Runtime"){this.dropbutton._setEventHandler("ontap",this.on_notify_mobile_ondropdown,this);}};_pCalendar._setEventHandlerToSpinButton=function(){var _a=this.spinupbutton;var _b=this.spindownbutton;if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_a._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_a._setEventHandler("onclick",this.on_notify_onspinup,this);_b._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_b._setEventHandler("onclick",this.on_notify_onspindown,this);}else{_a._setEventHandler("onlbuttondown",this.on_notify_mobile_onlbuttondown,this);_a._setEventHandler("onclick",this.on_notify_mobile_onspinup,this);_b._setEventHandler("onlbuttondown",this.on_notify_mobile_onlbuttondown,this);_b._setEventHandler("onclick",this.on_notify_mobile_onspindown,this);}};_pCalendar._setEventHandlerToPopupCalendar=function(){var _a=this.popupcalendar;_a._setEventHandler("ondayclick",this.on_notify_ondayclick,this);_a._setEventHandler("oncloseup",this.on_notify_oncloseup,this);};_pCalendar._setEventHandlerToPopupWindow=function(){};_pCalendar._destroyControl=function(){if(this.calendaredit){this.calendaredit.destroy();this.calendaredit=null;}if(this.dropbutton){this.dropbutton.destroy();this.dropbutton=null;}if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}if(this.popupcalendar){this.popupcalendar.destroy();this.popupcalendar=null;}if(this.popupwindow){this.popupwindow.destroy();this.popupwindow=null;}};_pCalendar._destroyInnerdataset=function(){if(this._innerdataset){this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_rowsetchanged,this);this._innerdataset=null;}};_pCalendar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;if(this.calendaredit){this.calendaredit._setRtlDirection(_a);}if(this.dropbutton){this.dropbutton._setRtlDirection(_a);}if(this.spinupbutton){this.spinupbutton._setRtlDirection(_a);}if(this.spindownbutton){this.spindownbutton._setRtlDirection(_a);}if(this.popupcalendar){this.popupcalendar._setRtlDirection(_a);}if(this.popupwindow){this.popupwindow._setRtlDirection(_a);}};_pCalendar._resizeCalendar=function(){var _a=this.getElement();if(_a){var _b=this.calendaredit;var _c=this.dropbutton;var _d=this.spinupbutton;var _e=this.spindownbutton;var _f=this._client_width;var _g=this._client_height;var _h=0;var _i=this.on_find_CurrentStyle_padding(this._pseudo);var _j=this.on_find_CurrentStyle_buttonsize(this._pseudo);var _k=_g;if(_j<0){var _l=_g;}else{var _l=_j;}switch(this.type){case "normal":if(!_c){return;}var _m=_c.on_find_CurrentStyle_margin(this._pseudo);var _n=_b.on_find_CurrentStyle_margin(this._pseudo);_l=_l-_m.left-_m.right;var _o=_f-_m.right-_l;var _p=_m.top;var _q=_l;var _r=_k-_m.top-_m.bottom;var _s=_n.left;var _t=_n.top;var _u=_o-_m.left-_n.right-1;var _v=_g-_n.top-_n.bottom;this.dropbutton.move(_o,_p,_q,_r,null,null);this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);this.dropbutton.set_visible(true);break;case "spin":if(!_b){return;}var _n=_b.on_find_CurrentStyle_margin(this._pseudo);var _w=_d.on_find_CurrentStyle_margin(this._pseudo);var _x=_e.on_find_CurrentStyle_margin(this._pseudo);var _y=_l-_w.left-_w.right;var _z=_l-_x.left-_x.right;if(_y>=_z){_l=_y;}else{_l=_z;}var _aa=_f-_w.right-_y;var _ab=_w.top;var _ac=_y;var _ad=(_k/2)-1;var _ae=_f-_x.right-_z;var _af=_ab+_ad+_x.top+1;var _ag=_z;var _ah=_ad-_x.bottom;var _s=_n.left;var _t=_n.top;var _u=_f-_l-1;var _v=_g-_n.top-_n.bottom;this.spinupbutton.move(_aa,_ab,_ac,_ad,null,null);this.spindownbutton.move(_ae,_af,_ag,_ah,null,null);this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);this.spinupbutton.set_visible(true);this.spindownbutton.set_visible(true);break;case "monthonly":if(!this.popupcalendar){return;}this._applyDatepickerProps();this._resizeDatePicker(false);this.popupcalendar.set_visible(true);break;case "system":if(!_b){return;}var _n=_b.on_find_CurrentStyle_margin(this._pseudo);var _s=_n.left;var _t=_n.top;var _u=_f-_n.left-_n.right;var _v=_g-_n.top-_n.bottom;this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);break;}}};_pCalendar._resizeDatePicker=function(_a){var _b=this.popupcalendar;if(!_b){return;}var _c=this._pseudo;var _d=this.on_find_CurrentStyle_padding(_c);var _e=this._client_width;var _f=this._client_height;if(_a){var _g=this._getPopupSizeArr();_b.resize(_g.width,_g.height);}else{var _h=_d.left;var _i=_d.top;var _j=_e-_d.right;var _k=_f+_d.bottom;_b.move(_h,_i,_j,_k,null,null);}};_pCalendar._update_popupwindow_position=function(){var _a=this.popupwindow;if(_a){var _b=this._getWindow();var _c=this._getPopupSizeArr();var _d=_a._control_element;var _e=nexacro._getElementPositionInFrame(this._control_element);var _f=this._getCumulativeZoomFactor()/100.0;var _g=_e.x;var _h=_e.y;var _i=this._adjust_height*_f;var _j=_g;var _k=_h+_i;var _l=_c.width;var _m=_c.height*_f;var _n=_g+_l;var _o=_h+_i+_m;var _p=_b.clientWidth;var _q=_b.clientHeight;var _r=_n-_p;if(this._getPopupType()=="center"){var _s=this._getOwnerFrame();if(!_s){return;}var _t=_s._getWindow();_s=_t?_t.frame:null;if(!_s){return;}_j=((_s.width/2)-(_d.width/2));_k=((_s.height/2)-(_d.height/2));_k=_k<0?0:_k;}if(_n>_p&&_g>_r){_j=_j-_r;}if(_g<0){_j= -_g;}if(_h>_m&&_h+_i+_m>_q){_k=_k-_m-_i;}_d.setElementPosition(_j,_k);}};_pCalendar._showPopup=function(){if(this.type!="normal"){return;}var _a=this.popupcalendar;var _b=this.popupwindow;if(_b==null){this._createPopupwindow();_b=this.popupwindow;}if(_a==null){this._createPopupcalendar();this._setEventHandlerToPopupCalendar();this._applyDatepickerProps();_a=this.popupcalendar;}if(!_b._is_created){_b.on_created();}if(!_a._is_created){_b._attach(_a);_a.on_created();}this.on_apply_prop_rtldirection();var _c=this._getPopupSizeArr();var _d=nexacro._getElementPositionInFrame(this._control_element);var _e=this._getCumulativeZoomFactor()/100.0;var _f=_d.x;var _g=_d.y;var _h=this._adjust_width*_e;var _i=this._adjust_height*_e;var _j=0;var _k=_i;var _l=_c.width;var _m=_c.height;var _n=this.currentstyle.popupalign;if(_n){switch(_n.halign){case "center":_f=_f+_h/2-_l/2;if(this._isRtl()){_j= -_h/2+_l/2;}else{_j=_h/2-_l/2;}break;case "right":_f=_f+_h-_l;if(this._isRtl()){_j= -_h+_l;}else{_j=_h-_l;}break;}switch(_n.valign){case "top":if(_g-_m>=0){_k= -_m;}break;case "middle":if(_g-_m/2>=0){_k= -_m/2+_i/2;}break;}}var _o=_f+_l;var _p=_g+_i+_m;var _q=this._getWindow();var _r=_q.clientWidth;var _s=_q.clientHeight;var _t=_o-_r;if(_o>_r&&_f>_t){_j=_j-_t;}if(_f<0){_j= -_f;}if(_g>_m&&_p>_s){_k= -(_m*_e);}var _u=_b.getElement();if(_u.setZoom){_u.setZoom(_e*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_u,_e*100);}if(this._getPopupType()=="center"){this._centerPopup(_b,_l,_m);}else{_j=this._convertLeftForRtlLayout(_j,_l);if(this._isRtl()){_j= -_j;}_b._popupBy(this,_j,_k,_l,_m);}var _q=this._getWindow();if(_q&&this._track_capture){_q._setCaptureLock(this,true,false);}};_pCalendar._setMask=function(_a,_b,_c){if(this._getPopupType()!="system"&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4&&(_c==null||_c==undefined||_c=="")){return;}var _d=this._makeMask(_a,_c);if(_a=="dateformat"&&nexacro._isNull(_c)&&this.displaynulltext!=""){this._mask=this.displaynulltext;}else{if((_a=="dateformat"&&this.dateformat=="LONGDATE")||(_a=="editformat"&&this.editformat=="LONGDATE")){_d=_d.replace(/\'/g,"\\'");_d=_d.replace(/a/g,"\\a");}this._mask=_d;}this._on_apply_mask(this._mask,_b);};_pCalendar._on_apply_mask=function(_a,_b){var _c=this.getElement();if(_c){var _d=this.calendaredit;if(_d){_d.set_mask(_a,_b);}}};_pCalendar._isDateMaskChar=function(_a){if(_a=="y"||_a=="M"||_a=="d"||_a=="H"||_a=="h"||_a=="m"||_a=="s"){return true;}return false;};_pCalendar._isDateMaskString=function(_a){if(_a==="yyyy"||_a==="yy"||_a==="MMMM"||_a==="MMM"||_a==="MM"||_a==="M"||_a==="dddd"||_a==="ddd"||_a==="dd"||_a==="d"){return true;}return false;};_pCalendar._isTimeMaskString=function(_a){if(_a==="HH"||_a==="H"||_a==="hh"||_a==="h"||_a==="mm"||_a==="m"||_a==="s"||_a==="ss"||_a==="sss"){return true;}return false;};_pCalendar._isEmptyStr=function(_a){var _b=_a.toString();if(_b===""||_b.trim()===""){return true;}return false;};_pCalendar._isNullDate=function(_a){if(_a===null||_a==="null"){return true;}var _b=_a.toString();if(_b=="NaN"){return true;}return false;};_pCalendar._isUndefinedDate=function(_a){if(_a===undefined||_a==="undefined"){return true;}return false;};_pCalendar._isPopupVisible=function(){var _a=false;if(this.type!="monthonly"){if(this.popupwindow){_a=this.popupwindow.visible;}}return _a;};_pCalendar._validationDateStr=function(_a,_b){if(_a!==null||_a!==undefined){_a=parseInt(_a,10);if(_b=="year"){return (_a/10<1?"000":_a/100<1?"00":_a/1000<1?"0":"")+_a;}else if(_b=="millisec"){return (_a/10<1?"00":_a/100<1?"0":"")+_a;}else{return (_a/10<1?"0":"")+_a;}}else{return _a;}};_pCalendar._isValidDate=function(_a){if(_a===""){return true;}var _b=this.calendaredit;var _c=_b._edit_base_api;var _d=this._editformat_info;var _e=_d.format.length;var _f=_c._getText();var _g="";var _h="";var _i="";var _j="";var _k="";var _l="";var _m="";var _n=false;var _o=false;var _p=false;var _q=false;var _r=false;var _s=false;var _t=false;var _u= -1;var _v=false;var _w=false;if(_d._mon&&_d._mon.length==1){if(_e<_f.length){_v=true;}}if(_d._day&&_d._day.length==1){if(_e<_f.length){_w=true;}}var _x=/[0-9]/;var _y=0;for(var _ad=0;_ad<_e;_ad++ ){var _z=_d.format_info[_ad].ch;if(_z=="y"){_g+=_f.charAt(_y++ );}else if(_z=="M"){if(_v){var _aa=_f.charAt(_y++ );if(_x.test(_aa)==true){_h+=_aa;}if(_y<_f.length){_aa=_f.charAt(_y);if(_x.test(_aa)==true){_y++ ;_h+=_aa;}else if(_ad+1<_e&&_aa!=_d.format_info[_ad+1].ch){_y++ ;}}}else{_h+=_f.charAt(_y++ );}}else if(_z=="d"){if(_w){var _aa=_f.charAt(_y++ );if(_x.test(_aa)==true){_i+=_aa;}if(_y<_f.length){_aa=_f.charAt(_y);if(_x.test(_aa)==true){_y++ ;_i+=_aa;}else if(_ad+1<_e&&_aa!=_d.format_info[_ad+1].ch){_y++ ;}}}else{_i+=_f.charAt(_y++ );}}else if(_z=="h"||_z=="H"){_j+=_f.charAt(_y++ );}else if(_z=="m"){_k+=_f.charAt(_y++ );}else if(_z=="s"){if(_u== -1){if(_ad+2<_e&&"s"==_d.format_info[_ad+1].ch&&"s"==_d.format_info[_ad+2].ch){_u=_ad;}}if(_u!= -1&&_u+2>=_ad){_m+=_f.charAt(_y++ );}else{_l+=_f.charAt(_y++ );}}else{_y++ ;}}_g=parseInt(_g,10);_h=parseInt(_h,10);_i=parseInt(_i,10);_j=parseInt(_j,10);_k=parseInt(_k,10);_l=parseInt(_l,10);_m=parseInt(_m,10);if(_g>=0){_n=true;}if(_h>=0){_o=true;}if(_i>=0){_p=true;}if(_j>=0){_q=true;}if(_k>=0){_r=true;}if(_l>=0){_s=true;}if(_m>=0){_t=true;}var _ab=31;if(_g&&_h){_ab=this._getEndDay(_g,_h);}else if(!_g&&_h){var _ac=new Date();_ab=this._getEndDay(_ac.getFullYear(),_h);_ac=null;}if((_o&&_h>12)||(_p&&_i>_ab)||(_q&&_j>=24)||(_r&&_k>=60)||(_s&&_l>=60)){return false;}return true;};_pCalendar._makeMask=function(_a,_b){if(_a=="dateformat"){var _c=this.dateformat;var _d=this._dateformat_info;}else{var _c=this.editformat;var _d=this._editformat_info;}var _e=0;var _f="";var _g=0;var _h="";var _i=0;var _j=0;var _k="";var _l=0;var _m=false;var _n=false;if(_b){_g=_b.getDay();_j=_b.getMonth();}while(_e<_d.format.length){var _o="";var _p=0;if(_d._year&&_d._year.index==_e){if(_a=="dateformat"){if(_m){if(_d._mon&&(_d._year.index>_d._mon.index)){_f+="~";}}else if(_n){if(_d._date&&(_d._year.index>_d._date.index)){_f+="~";}}}_f+=this._makeMaskString(_d._year,"year",_b);_e+=_d._year.length;}else if(_d._mon&&_d._mon.index==_e){_p=_d._mon.mask.length;if(_p==4){if(_b&&_a=="dateformat"){_k=this._monthlistL[_j];if(!this._isRtl()&&this._locale_direction=="rtl"){_m=true;}}else{_k="MMMM";}if(_k&&_k.length){_l=_k.length;}for(var _s=0;_s<_l;_s++ ){_o+="^";}}else if(_p==3){if(_b){_k=this._monthlistS[_j];}else{_k="MMM";}if(this.locale=="en_US"){if(_k&&_k.length){_l=_k.length;}for(var _s=0;_s<_l;_s++ ){_o+="~";}}else{_o+="MM";}}else{_o+=this._makeMaskString(_d._mon,"month",_b);}_f+=_o;_e+=_d._mon.length;}else if(_d._day&&_d._day.index==_e){_f+=this._makeMaskString(_d._day,"day",_b);_e+=_d._day.length;}else if(_d._date&&_d._date.index==_e){_p=_d._date.mask.length;if(_p==3){if(_b){_h=this._datelistS[_g];}else{_h=this._datelistS[0];var _q=_p;if(_h&&_h.length){_q=_h.length;}_h="";for(var _t=0;_t<_q;_t++ ){_h+="d";}}if(_h&&_h.length){_i=_h.length;}for(var _s=0;_s<_i;_s++ ){_o+="~";}}else if(_p==4){if(_b&&_a=="dateformat"){_h=this._datelistL[_g];if(!this._isRtl()&&this._locale_direction=="rtl"){_n=true;}}else{_h="dddd";}_i=_h.length;for(var _s=0;_s<_i;_s++ ){if(_h.charAt(_s)=="-"){_o+=_h.charAt(_s);}else{_o+="^";}}}_f+=_o;_e+=_d._date.length;}else if(_d._hour&&_d._hour.index==_e){_f+=this._makeMaskString(_d._hour,"hour",_b);_e+=_d._hour.length;}else if(_d._min&&_d._min.index==_e){_f+=this._makeMaskString(_d._min,"min",_b);_e+=_d._min.length;}else if(_d._sec&&_d._sec.index==_e){_f+=this._makeMaskString(_d._sec,"sec",_b);_e+=_d._sec.length;}else if(_d._millisec&&_d._millisec.index==_e){_f+=this._makeMaskString(_d._millisec,"millisec",_b);_e+=_d._millisec.length;}else{var _r=_d.format_info[_e].ch;_f+=_r;_e++ ;}}return _f;};_pCalendar._makeMaskString=function(_a,_b,_c){var _d=_c;var _e=null;var _f=_a.length;var _g=0;var _h="";var _i="";var _j=this._currentformat;if(_b=="year"){_g=_f;_i="y";}else if(_b=="month"||_b=="day"||_b=="min"||_b=="sec"){if(_d){if(_b=="month"){_e=_d.getMonth();_e+=1;_i="M";}else if(_b=="day"){_e=_d.getDate();_i="d";}else if(_b=="min"){_e=_d.getMinutes();_i="m";}else if(_b=="sec"){_e=_d.getSeconds();_i="s";}if((_f==1)&&(_e<10)&&_j=="dateformat"){_g=1;}else if(_f==3){_g=3;}else{_g=2;}}else{if(_j=="dateformat"){_g=_f;}else{_g=2;}_i=_a.mask.charAt(0);}}else if(_b=="hour"){if(_d){_e=_d.getHours();if(_a.mask==="h"){if(_e>12&&_e<24){_e-=12;if(_e<10&&_j=="dateformat"){_g=1;}else{_g=2;}}_i="h";}else if(_a.mask==="H"){if(_e<10&&_j=="dateformat"){_g=1;}else{_g=2;}_i="H";}else{_g=2;_i=_a.mask.charAt(0);}}else{_g=_f;_i=_a.mask.charAt(0);}}else if(_b=="millisec"){_g=3;_i="l";}for(var _k=0;_k<_g;_k++ ){_h+=_i;}return _h;};_pCalendar._makeMaskValue_normal=function(_a,_b,_c){var _d="",_e="",_f="",_g="",_h="",_i="",_j="";var _k="";var _l=null;var _m=false;var _n=false;_d=_a.substr(0,4);_e=_a.substr(4,2);_f=_a.substr(6,2);_d=_d!=""?_d:"0000";_e=_e!=""?_e:"00";_f=_f!=""?_f:"00";_g=_a.length>=9?_a.substr(8,2):"00";_h=_a.length>=11?_a.substr(10,2):"00";_i=_a.length>=13?_a.substr(12,2):"00";_j=_a.length>=15?_a.substr(14,3):"000";if(_b){_l=_b;}else{if(this._currentformat=="dateformat"){_l=this._dateformat_info;}else{_l=this._editformat_info;}}for(var _t=0,_u=_l.format.length;_t<_u;_t++ ){if(_l._year&&_l._year.index==_t){if(_l._year.mask==="yy"){_d=_d.substr(2,2);}if(this._currentformat=="dateformat"){if(_m){if(_l._mon&&(_l._year.index>_l._mon.index)){_d="\u200e"+_d;}}else if(_n){if(_l._date&&(_l._year.index>_l._date.index)){_d="\u200e"+_d;}}}_k+=_d;}if(_l._mon&&_l._mon.index==_t){if(_l._mon.mask==="M"){if(_e.charAt(0)==="0"){if(this._currentformat=="dateformat"){_e=_e.substr(1,1);}else{_e=_e.replace("0"," ");}_l._mon.single_digit=true;}else{_l._mon.single_digit=false;}}else if(_l._mon.mask==="MMM"){var _o=this._getDateObj(_a);var _p=_o.getMonth();if(this.locale=="en_US"){_e=this._monthlistS[_p];}}else if(_l._mon.mask==="MMMM"){if(this._currentformat=="editformat"){if(!_c){_e="MMMM";}else{var _o=this._getDateObj(_a);var _p=_o.getMonth()+1;_e=nexacro._toString(_p).padLeft(4,"0");}}else{var _o=this._getDateObj(_a);var _p=_o.getMonth();_e=this._monthlistL[_p];if(!this._isRtl()&&this._locale_direction=="rtl"){_m=true;}}}_k+=_e;}if(_l._day&&_l._day.index==_t){if(_l._day.mask==="d"){if(_f.charAt(0)==="0"){if(this._currentformat=="dateformat"){_f=_f.substr(1,1);}else{_f=_f.replace("0"," ");}_l._day.single_digit=true;}else{_l._day.single_digit=false;}}_k+=_f;}if(_l._date&&_l._date.index==_t){var _o=this._getDateObj(_a);var _q=_o.getDay();var _r=this._datelistS[_q];if(_l._date.mask==="dddd"){if(this._currentformat=="editformat"){_r=_l._date.mask;}else{_r=this._datelistL[_q];if(!this._isRtl()&&this._locale_direction=="rtl"){_n=true;}}}_k+=_r?_r:"";}if(_l._hour&&_l._hour.index==_t){if(_l._hour.mask==="h"||_l._hour.mask==="hh"){var _s=parseInt(_g);if(_s>12&&_s<24){_s-=12;_g=nexacro._toString(_s);}}if(!((_l._hour.mask==="h"||_l._hour.mask==="H")&&_g.length>0)){_g=_g.padLeft(2,"0");}_k+=_g;}if(_l._min&&_l._min.index==_t){if(_l._min.mask==="m"&&_h.charAt(0)==="0"){_h=_h.substr(1,1);}else{_h=_h.padLeft(_l._min.length,"0");}_k+=_h;}if(_l._sec&&_l._sec.index==_t){if(_l._sec.mask==="s"&&_i.charAt(0)==="0"){_i=_i.substr(1,1);}else{_i=_i.padLeft(_l._sec.length,"0");}_k+=_i;}if(_l._millisec&&_l._millisec.index==_t){_k+=_j;}}return _k;};_pCalendar._makeMaskValue_timeOnly=function(_a,_b){var _c=month=day=hour=min=sec=millisec="";var _d=0;var _e="";var _f=null;if(_b){_f=_b;}else{if(this._currentformat=="dateformat"){_f=this._dateformat_info;}else{_f=this._editformat_info;}}for(var _k=0,_l=_f.format.length;_k<_l;_k++ ){if(_f._year&&_f._year.index==_k){_c=_a.substr(_d,_f._year.length);_e+=_c;_d+=_f._year.length;}if(_f._mon&&_f._mon.index==_k){month=_a.substr(_d,_f._mon.length);_e+=month;_d+=_f._mon.length;}if(_f._day&&_f._day.index==_k){day=_a.substr(_d,_f._day.length);_e+=day;_d+=_f._day.length;}if(_f._date&&_f._date.index==_k){var _g=this._getDateObj(_a);var _h=_g.getDay();var _i=this._datelistS[_h];if(_f._date.mask==="dddd"){if(this._currentformat=="editformat"){_i=_f._date.mask;}else{_i=this._datelistL[_h];}}_e+=_i?_i:"";_d+=_f._date.length;}if(_f._hour&&_f._hour.index==_k){hour=_a.substr(_d,_f._hour.length).padLeft(_f._hour.length,"0");if(_f._hour.mask==="h"||_f._hour.mask==="hh"){var _j=parseInt(hour);if(_j>12&&_j<24){_j-=12;hour=nexacro._toString(_j);}}if(!((_f._hour.mask==="h"||_f._hour.mask==="H")&&hour.length>0)){hour=hour.padLeft(2,"0");}_e+=hour;_d+=_f._hour.length;}if(_f._min&&_f._min.index==_k){min=_a.substr(_d,_f._min.length);if(_f._min.mask==="m"&&min.charAt(0)==="0"){min=min.substr(1,1);}else{min=min.padLeft(_f._min.length,"0");}_e+=min;_d+=_f._min.length;}if(_f._sec&&_f._sec.index==_k){sec=_a.substr(_d,_f._sec.length).padLeft(_f._sec.length,"0");if(_f._sec.mask==="s"&&sec.charAt(0)==="0"){sec=sec.substr(1,1);}else{sec=sec.padLeft(_f._sec.length,"0");}_e+=sec;_d+=_f._sec.length;}if(_f._millisec&&_f._millisec.index==_k){millisec=_a.substr(_d,_f._millisec.length).padLeft(_f._millisec.length,"0");_e+=millisec;_d+=_f._millisec.length;}}return _e;};_pCalendar._makeMaskValue=function(_a,_b){if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return "";}if(this._isEmptyStr(_a)){return "";}if(this._currentformat=="dateformat"){var _c=this._dateformat_info;}else{var _c=this._editformat_info;}if(_c._year||_c._mon||_c._day){return this._makeMaskValue_normal(_a,_c,_b);}else{return this._makeMaskValue_timeOnly(_a,_c);}};_pCalendar._makeSpinValue=function(_a,_b,_c){var _d=this.editformat;var _e=this._getFullValueFromDisplayText(_a);var _f=this._getSplitDate(_e);if(_d=="SHORTDATE"||_d=="LONGDATE"){var _g=this._getLocale();if(!_g){_g=nexacro.BrowserLang;}_d=nexacro.Locale._makeDateMaskString(_g,_d);var _h=_d.indexOf("M");var _i=_d.indexOf("d");if(_d.slice(_h,_h+2)!="MM"){_d=_d.replace("M","MM");}if(_d.slice(_i,_i+2)!="dd"){_d=_d.replace("d","dd");}if(_f.mon=="MM"){_f.mon=nexacro._toString(this.value.getMonth()+1).padLeft(2,"0");}}if(_c>=0){var _j=_d.substring(_c,_c+1);var _k=this._mask.substring(_c,_c+1);var _l=this._mask.substring(_c-1,_c);var _m="yMdHhmsl";if(!this._isDateMaskChar(_j)&&(_m.indexOf(_k)>=0||_m.indexOf(_l)>=0)){while(!this._isDateMaskChar(_j)){_c-- ;_j=_d.substring(_c,_c+1);}_s=_j;}else{_s=_j;}if(_s=="d"){var _n=_d.indexOf("dddd");var _o=_d.indexOf("ddd");if(_n>=0&&_c>=_n&&_c<=(_n+3)){_s="";}if(_o>=0&&_c>=_o&&_c<=(_o+2)){_s="";}}if(_s=="y"){var _p=parseInt(_f.year,10)+_b;if(_p<0){_p=9999;}else if(_p>9999){_p=0;}_f.year=this._validationDateStr(_p,"year");var _q=""+this._getEndDay(_f.year,_f.mon);if(parseInt(_f.day,10)>_q){_f.day=""+_q;}}else if(_s=="M"){var _r=parseInt(_f.mon,10)+_b;if(_r<1){_r=12;}else if(_r>12){_r=1;}_f.mon=this._validationDateStr(_r);var _q=""+this._getEndDay(_f.year,_f.mon);if(parseInt(_f.day,10)>_q){_f.day=""+_q;}}else if(_s=="d"){var _q=parseInt(_f.day,10)+_b;var _s=parseInt(this._getEndDay(_f.year,_f.mon),10);if(_q<1){_f.day=""+_s;}else{if(_q>_s){_q=1;}_f.day=this._validationDateStr(_q);}}else if(_s=="H"||_s=="h"){var _t=parseInt(_f.hour,10)+_b;if(_t<0){_t=23;}else if(_t>23){_t=0;}_f.hour=this._validationDateStr(_t);}else if(_s=="m"){var _r=parseInt(_f.min,10)+_b;if(_r<0){_r=59;}else if(_r>59){_r=0;}_f.min=this._validationDateStr(_r);}else if(_s=="s"){var _u=parseInt(_f.sec,10)+_b;if(_u<0){_u=59;}else if(_u>59){_u=0;}_f.sec=this._validationDateStr(_u);}}var _v=this._editformat_info;var _w=null;var _x=null;if(_v._year||_v._mon||_v._day){_w=true;}if(_v._hour||_v._min||_v._sec||_v._millisec){_x=true;}var _y="";if(_w){if(_v._year&&_f.year){_y+=this._validationDateStr(_f.year,"year");}else{_y+="0000";}if(_v._mon&&_f.mon){_y+=this._validationDateStr(_f.mon);}else{_y+="00";}if(_v._day&&_f.day){_y+=this._validationDateStr(_f.day);}else{_y+="00";}}if(_x){if(_v._hour&&_f.hour){_y+=this._validationDateStr(_f.hour);}else{_y+="00";}if(_v._min&&_f.min){_y+=this._validationDateStr(_f.min);}else{_y+="00";}if(_v._sec&&_f.sec){_y+=this._validationDateStr(_f.sec);}else{_y+="00";}if(_v._millisec&&_f.millisec){_y+=this._validationDateStr(_f.millisec,"millisec");}else{_y+="000";}}return _y;};_pCalendar._makeNormalValue1=function(_a){var _b=this._editformat_info;var _c=0;var _d,_e,_f;if(_b._year){_c=0;if(_b._mon&&_b._year.index>_b._mon.index){if(_b._mon.length==1){_c++ ;}}if(_b._day&&_b._year.index>_b._day.index){if(_b._day.length==1){_c++ ;}}_d=_a.substr(_b._year.index+_c,_b._year.length);_d=_d.trim();}else{_d="";}if(_b._mon){_c=0;if(_b._day&&_b._mon.index>_b._day.index){if(_b._day.length==1){_c++ ;}}_e=_a.substr(_b._mon.index+_c,2);_e=_e.trim();if(_b._mon.length==4){_e=_e.substr(2,2);if(_e=="MM"){var _g=this.value;_g=_g?(_g.getMonth()+1):"";_e=nexacro._toString(_g).padLeft(2,"0");}}else if(_e){_e=_e.padLeft(2,"0");}}else{_e="";}if(_b._day){_c=0;if(_b._mon&&_b._day.index>_b._mon.index){if(_b._mon.length==1){_c++ ;}}_f=_a.substr(_b._day.index+_c,2);_f=_f.trim();if(_f){_f=_f.padLeft(2,"0");}}else{_f="";}var _h=_b._hour?_a.substr(_b._hour.index,_b._hour.length).padLeft(2,"0"):"";var _i=_b._min?_a.substr(_b._min.index,_b._min.length).padLeft(2,"0"):"";var _j=_b._sec?_a.substr(_b._sec.index,_b._sec.length).padLeft(2,"0"):"";var _k=_b._millisec?_a.substr(_b._millisec.index,_b._millisec.length).padLeft(3,"0"):"";var _l=_d+_e+_f+_h+_i+_j+_k;return (_l===""&&this.displaynulltext!=="")?"":_l;};_pCalendar._getDateObjFromDisplayText=function(_a){var _b=this._getFullValueFromDisplayText(_a);if(_b==null||_b==""){return "";}var _c;var _d;var _e;var _f;var _g;var _h;var _i;var _j=this._editformat_info;var _k=null;var _l=null;if(_j._year||_j._mon||_j._day){_k=true;}if(_j._hour||_j._min||_j._sec||_j._millisec){_l=true;}var _m=0;if(_k){if(_b.length>=4){_c=_b.substr(0,4);}if(_b.length>=6){_d=_b.substr(4,2);}if(_b.length>=8){_e=_b.substr(6,2);}_m=8;}if(_l){if(_b.length>=(_m+2)){_f=_b.substr(_m,2);_m+=2;}if(_b.length>=(_m+2)){_g=_b.substr(_m,2);_m+=2;}if(_b.length>=(_m+2)){_h=_b.substr(_m,2);_m+=2;}if(_b.length>=(_m+3)){_i=_b.substr(_m,3);}}if(this.value){if(_k){if(_c=="0000"&&this._editformat_info._year==null){_c=this.value.getYear();}if(_d=="00"&&this._editformat_info._mon==null){_d=this.value.getMonth()+1;}if(_e=="00"&&this._editformat_info._day==null){_e=this.value.getDate();}}if(_l){if(_f=="00"&&this._editformat_info._hour==null){_f=this.value.getHours();}if(_g=="00"&&this._editformat_info._min==null){_g=this.value.getMinutes();}if(_h=="00"&&this._editformat_info._sec==null){_h=this.value.getSeconds();}}}if(_d){var _n=parseInt(_d,10);if(_n<=0||_n>12){_n=1;}if(_d.length==2&&_n.toString().length==1){_d="0"+_n.toString();}else{_d=_n.toString();}}if(_e){var _o=parseInt(_e,10);if(_o<1||_o>31){if(_e.length==1){_e="1";}else{_e="01";}}}if(_l){if(_k==null){var _p=new nexacro.Date(0,0,1,_f,_g,_h,_i);_p._timeonly=true;return _p;}if(_d!="00"&&_d!="0"){return new nexacro.Date(_c,_d-1,_e,_f,_g,_h,_i);}return new nexacro.Date(_c,_d,_e,_f,_g,_h,_i);}if(_d!="00"&&_d!="0"){return new nexacro.Date(_c,_d-1,_e);}return new nexacro.Date(_c,_d,_e);};_pCalendar._adjust_refer_index=function(_a,_b){if(_b&&_b.index<_a.index){if(_b.length==1){return 1;}}return 0;};_pCalendar._adjust_refer_index_with_week=function(_a,_b){if(_b&&_b.index<_a.index){if(_b.mask.length==3){var _c=0;var _d=0;if(this._datelistS[_d]){_c=this._datelistS[_d].length;}if(_b.mask.length==_c){return 0;}if(_b.mask.length>_c){return  -(_b.mask.length-_c);}if(_b.mask.length<_c){return _c-_b.mask.length;}}}return 0;};_pCalendar._getFullValueFromDisplayText=function(_a){var _b=this._editformat_info;var _c=0;if(_b==null){return "";}var _d,_e,_f;if(_b._year){_c=0;_c+=this._adjust_refer_index(_b._year,_b._mon);_c+=this._adjust_refer_index(_b._year,_b._day);_c+=this._adjust_refer_index_with_week(_b._year,_b._date);_d=_a.substr(_b._year.index+_c,_b._year.length);_d=_d.trim();if(_d.length>0&&_b._year.length==2){var _g=this._postvalue;if(_g==null){_g=this.value;}if(_g==null){_g=new nexacro.Date();}if(_g){var _h=_g.toString().substring(0,2);if(_d.length==2){_d=_h+_d;}else if(_d.length==1){_d=_h+"0"+_d;}}}}else{_d="";}if(_b._mon){_c=0;_c+=this._adjust_refer_index(_b._mon,_b._year);_c+=this._adjust_refer_index(_b._mon,_b._day);_c+=this._adjust_refer_index_with_week(_b._mon,_b._date);_e=_a.substr(_b._mon.index+_c,2);_e=_e.trim();if(_b._mon.length==4){_e=_e.substr(2,2);if(_e=="MM"){var _i=this.value;_i=_i?(_i.getMonth()+1):"";_e=nexacro._toString(_i).padLeft(2,"0");}}else if(_b._mon.length==3){month=_a.substr(_b._mon.index+_c,3);month.trim();var _j=nexacro.Locale.getLocaleInfo(this._locale);var _k=_j.month_names_short;var _l=_k.indexOf(month);if(_l>=0){_e=nexacro._toString(_l+1);}_e=_e.padLeft(2,"0");}else if(_e){_e=_e.padLeft(2,"0");}}else{_e="";}if(_b._day){_c=0;_c+=this._adjust_refer_index(_b._day,_b._year);_c+=this._adjust_refer_index(_b._day,_b._mon);_c+=this._adjust_refer_index_with_week(_b._day,_b._date);_f=_a.substr(_b._day.index+_c,2);_f=_f.trim();if(_f){_f=_f.padLeft(2,"0");}}else{_f="";}var _m="";if(_b._hour){_c=0;_c+=this._adjust_refer_index(_b._hour,_b._year);_c+=this._adjust_refer_index(_b._hour,_b._mon);_c+=this._adjust_refer_index(_b._hour,_b._day);_c+=this._adjust_refer_index_with_week(_b._hour,_b._date);_m=_a.substr(_b._hour.index+_c,_b._hour.length).padLeft(2,"0");}var _n="";if(_b._min){_c=0;_c+=this._adjust_refer_index(_b._min,_b._year);_c+=this._adjust_refer_index(_b._min,_b._mon);_c+=this._adjust_refer_index(_b._min,_b._day);_c+=this._adjust_refer_index_with_week(_b._min,_b._date);_n=_a.substr(_b._min.index+_c,_b._min.length).padLeft(2,"0");}var _o="";if(_b._sec){_c=0;_c+=this._adjust_refer_index(_b._sec,_b._year);_c+=this._adjust_refer_index(_b._sec,_b._mon);_c+=this._adjust_refer_index(_b._sec,_b._day);_c+=this._adjust_refer_index_with_week(_b._sec,_b._date);_o=_a.substr(_b._sec.index+_c,_b._sec.length).padLeft(2,"0");}var _p="";if(_b._millisec){_c=0;_c+=this._adjust_refer_index(_b._millisec,_b._year);_c+=this._adjust_refer_index(_b._millisec,_b._mon);_c+=this._adjust_refer_index(_b._millisec,_b._day);_c+=this._adjust_refer_index_with_week(_b._millisec,_b._date);_p=_a.substr(_b._millisec.index+_c,_b._millisec.length).padLeft(3,"0");}var _q=_d.trim()+_e.trim()+_f.trim()+_m.trim()+_n.trim()+_o.trim()+_p.trim();if(_q&&_q.length){_q="";if(_b._year||_b._mon||_b._day){_q+=(_d.trim().length?_d:"0000")+(_e.trim().length?_e:"00")+(_f.trim().length?_f:"00");}if(_b._hour||_b._min||_b._sec||_b._millisec){_q+=(_m.trim().length?_m:"00")+(_n.trim().length?_n:"00")+(_o.trim().length?_o:"00")+(_p.trim().length?_p:"000");}}return (_q===""&&this.displaynulltext!=="")?"":_q;};_pCalendar._makeCalendarText=function(_a){if(!_a){return "";}var _b=this._currentformat;this._currentformat="dateformat";var _c=this._makeMaskValue(_a?_a.toString():"");var _d=this._makeMask("dateformat",this._makeDateObj(_a));var _e=0;var _f="";var _g="yMdHhmsl";this._currentformat=_b;for(var _i=0,_j=_d.length;_i<_j;_i++ ){var _h=_d.charAt(_i);if(_g.indexOf(_h)>=0){if(_h=="M"&&_d.charAt(_i+1)=="M"&&_d.charAt(_i+2)=="M"){if(this.locale=="en_US"){_f+=_c.charAt(_e++ );_f+=_c.charAt(_e++ );_f+=_c.charAt(_e);_i+=2;}}else{_f+=_c.charAt(_e);}_e++ ;}else{if(_h==="~"||_h==="^"){_f+=_c.charAt(_e);_e++ ;}else{_f+=_h;}}}return _f;};_pCalendar._makeDateObj=function(_a){if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return null;}if(this._isEmptyStr(_a)){return "";}if(_a._type_name=="Date"){return _a;}if(this._currentformat=="dateformat"){var _b=this._dateformat_info;}else{var _b=this._editformat_info;}var _c=new Object();var _d=mon=day=hour=min=sec=millisec="";var _e=0;var _f="";var _g=null;var _h=_a;var _a=this._makeMaskValue(_a,true);var _i=0;for(var _m=0,_n=_b.format.length;_m<_n;_m++ ){if(_b._year&&_b._year.index==_m){if(_b._year.length==2){_d=_h.substr(0,2);_d+=_a.substr(_e,_b._year.length);}else{_d=_a.substr(_e,_b._year.length);}_e+=_b._year.length;}if(_b._mon&&_b._mon.index==_m){_i=_b._mon.length;if(_i==1){if(this._currentformat=="dateformat"&&_b._mon.single_digit){mon=_a.substr(_e,_i);}else{mon=_a.substr(_e,2);_i=2;}}else if(_i==2){mon=_a.substr(_e,_i);}else{var _j=this._getDateObj(_h);mon=_j.getMonth();month=this._monthlistL[mon];mon=mon+1;_i=month.length;}_e+=_i;}if(_b._day&&_b._day.index==_m){_i=_b._day.length;if((_b._day.length==1&&!_b._day.single_digit)||this._currentformat=="editformat"){day=_a.substr(_e,2);_i=2;}else{day=_a.substr(_e,_b._day.length);}_e+=_i;}if(_b._date&&_b._date.index==_m){_i=_b._date.length;{var _j=this._getDateObj(_h);var _k=_j.getDay();if(_k){_g=this._datelistS[_k];}else{_g=this._datelistS[0];}if(_b._date.mask==="dddd"){if(this._currentformat=="editformat"){_g=_a.substr(_e,_i);}else{_g=this._datelistL[_k];}}_i=_g.length;}_e+=_i;}if(_b._hour&&_b._hour.index==_m){hour=_a.substr(_e,_b._hour.length).padLeft(_b._hour.length,"0");if(_b._hour.mask==="hh"){var _l=parseInt(hour);if(_l>12&&_l<24){_l-=12;hour=nexacro._toString(_l);hour=hour.padLeft(2,"0");}}_e+=_b._hour.length;}if(_b._min&&_b._min.index==_m){min=_a.substr(_e,_b._min.length).padLeft(_b._min.length,"0");_e+=_b._min.length;}if(_b._sec&&_b._sec.index==_m){sec=_a.substr(_e,_b._sec.length).padLeft(_b._sec.length,"0");_e+=_b._sec.length;}if(_b._millisec&&_b._millisec.index==_m){millisec=_a.substr(_e,_b._millisec.length).padLeft(_b._millisec.length,"0");_e+=_b._millisec.length;}}_c.year=parseInt(_d,10);_c.mon=parseInt(mon,10);_c.day=parseInt(day,10);_c.hour=parseInt(hour,10);_c.min=parseInt(min,10);_c.sec=parseInt(sec,10);_c.millisec=parseInt(millisec,10);if((_c.year!=undefined||_c.year>0)&&(_c.mon>0&&_c.mon<=12)){_c.mon-=1;}else{_c.mon=0;}if(!(_c.day>=1&&_c.day<=31)){_c.day=1;}if(!(_b._hour||_b._min||_b._sec||_b._millisec)){if(_c.day){_g=new nexacro.Date(_c.year,_c.mon,_c.day);}else{_g=new nexacro.Date(_c.year,_c.mon);}_g._timecheck=false;}else{_g=new nexacro.Date(_c.year,_c.mon,_c.day,_c.hour,_c.min,_c.sec,_c.millisec);if(this._isTimeMask()){_g._timeonly=true;}}_c=null;try{return _g;}finally{_g=null;}};_pCalendar._isTimeMask=function(){var _a;if(this._currentformat=="dateformat"){_a=this._dateformat_info;}else{_a=this._editformat_info;}if(_a._year||_a._mon||_a._day){return false;}if(_a._hour||_a._min||_a._sec||_a._millisec){return true;}return false;};_pCalendar._toValueStr=function(_a){var _b="";if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return null;}else if(this._isEmptyStr(_a)){return "";}else if(typeof _a!="object"){_b=_a;}else{_b=_a.toString();}if(this._currentformat=="dateformat"){var _c=this._dateformat_info;}else{var _c=this._editformat_info;}var _d="";var _e="";var _f="";var _g="";var _h="";var _i="";var _j="";var _k=0;var _l="";if(!this._isTimeMask()){if(_c._year){_d=_b.substr(_k,4);_l+=_d;}_k+=4;if(_c._mon){_e=_b.substr(_k,2);_l+=_e;}_k+=2;if(_c._day){_f=_b.substr(_k,2);_l+=_f;}_k+=2;}else if(_a instanceof nexacro.Date||_b.length>9){_k=_b.length-9;}if(_c._hour){_g=_b.substr(_k,2);_l+=_g;}_k+=2;if(_c._min){_h=_b.substr(_k,2);_l+=_h;}_k+=2;if(_c._sec){_i=_b.substr(_k,2);_l+=_i;}_k+=2;if(_c._millisec){_j=_b.substr(_k,3);_l+=_j;}return _l;};_pCalendar._makeFormatInfo=function(_a,_b){var _c=null;if(_a=="SHORTDATE"||_a=="LONGDATE"){var _d=this._getLocale();if(!_d){_d=nexacro.BrowserLang;}_a=nexacro.Locale._makeDateMaskString(_d,_a);if(_d.indexOf("lt")==0||_d.indexOf("lv")==0||_d.indexOf("sv")==0){_c=[];_c[0]={c:"\\m",r:"m"};_c[1]={c:"\\d",r:"d"};_c[2]={c:"\\a",r:"a"};}if(_b){var _e=_a.indexOf("M");var _f=_a.indexOf("d");if(_a.slice(_e,_e+4)=="MMMM"){_a=_a.replace("MMMM","MM");}else if(_a.slice(_e,_e+3)=="MMM"){foramt=_a.replace("MMM","MM");}else if(_a.slice(_e,_e+2)!="MM"){}if(_a.slice(_f,_f+4)=="dddd"){_f=_a.slice(_f+4,_a.length-4).indexOf("d")+4;}else if(_a.slice(_f,_f+3)=="ddd"){_f=_a.slice(_f+3,_a.length-3).indexOf("d")+3;}else if(_a.slice(_f,_f+2)!="dd"){}_e=_f=null;}}if(this.locale!="en_US"){var _e=_a.indexOf("M");if(_a.slice(_e,_e+3)=="MMM"){_a=_a.replace("MMM","M");}}var _g=_a;var _h=_g.length;var _i=[];var _j=[];if(_c){for(var _ak=0,_al=_c.length;_ak<_al;_ak++ ){_g=_g.replace(_c[_ak].c,_c[_ak].r);}}for(var _ak=0;_ak<_h;_ak++ ){_i={ch:_g.charAt(_ak),idx:_ak};_j[_ak]=_i;}if(_c){for(var _ak=0,_al=_c.length;_ak<_al;_ak++ ){_a=_a.replace(_c[_ak].c,"x");}}if(_a&&_a.length){_a=_a.replace("sss","lll");}var _k=/y{2,4}/g;var _l=/M{3}|M{4}|M{1,2}|M{1,3}/g;var _m=/d{1,2}/g;var _n=/d{3,4}/g;var _o=/H{1,2}|h{1,2}/g;var _p=/m{1,2}/g;var _q=/s{1,2}/g;var _r=/l{3}/g;var _s=_k.exec(_a);var _t=_l.exec(_a);var _u=_n.exec(_a);if(_u){if(_u[0].length==3){var _v="   ";}else if(_u[0].length==4){var _v="    ";}_a=_a.replace(/d{3,4}/g,_v);}var _w=_m.exec(_a);var _x=_o.exec(_a);var _y=_p.exec(_a);var _z=_q.exec(_a);var _aa=_r.exec(_a);var _ab=null;var _ac=null;var _ad=null;var _ae=null;var _af=null;var _ag=null;var _ah=null;var _ai=null;var _aj=[];if(_s){_ab={mask:_s[0],index:_s.index,length:_s[0].length};_aj.push(_ab);}if(_t){_ac={mask:_t[0],index:_t.index,length:_t[0].length,single_digit:true};_aj.push(_ac);}if(_w){_ad={mask:_w[0],index:_w.index,length:_w[0].length,single_digit:true};_aj.push(_ad);}if(_u){_ae={mask:_u[0],index:_u.index,length:_u[0].length};}if(_x){_af={mask:_x[0],index:_x.index,length:_x[0].length};_aj.push(_af);}if(_y){_ag={mask:_y[0],index:_y.index,length:_y[0].length};_aj.push(_ag);}if(_z){_ah={mask:_z[0],index:_z.index,length:_z[0].length};_aj.push(_ah);}if(_aa){_ai={mask:_aa[0],index:_aa.index,length:_aa[0].length};_aj.push(_ai);}_aj.sort(function(_am,_an){return _am.index-_an.index;});return {format:_g,format_info:_j,format_list:_aj,_year:_ab,_mon:_ac,_day:_ad,_date:_ae,_hour:_af,_min:_ag,_sec:_ah,_millisec:_ai};};_pCalendar._getEndDay=function(_a,_b){var _c=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _d=new Array(31,29,31,30,31,30,31,31,30,31,30,31);var _e="";var _f=parseInt(_a);var _g=parseInt(_b);if(_f==0){_e=_c[_g-1];return _e;}if((_f%4)==0&&(_f%100)!=0||(_f%400)==0){_e=_d[_g-1];}else{_e=_c[_g-1];}_c=_d=null;return _e;};_pCalendar._getDateObj=function(_a){if(!_a){return new nexacro.Date();}_a=_a.replace(/-/g,"");var _b=parseInt(_a.substr(0,4),10);var _c=parseInt(_a.substr(4,2),10)-1;var _d=parseInt(_a.substr(6,2),10);return new nexacro.Date(_b,_c,_d);};_pCalendar._getPopupSizeArr=function(){var _a;if(this.type=="normal"){_a=this.on_find_CurrentStyle_popupsize(this._pseudo);}else{_a=this._init_popupsize;if(!_a){_a=this.on_find_CurrentStyle_popupsize(this._pseudo);}}var _b=_a.value;var _c=_b.split(/\s+/);if(_c.length==2){return {width:parseInt(_c[0],10),height:parseInt(_c[1],10)};}else{return {width:parseInt(_c[0],10),height:parseInt(_c[0],10)};}};_pCalendar._getPickerValue=function(_a){var _b=_a?_a:new Date();var _c=_b.getFullYear()+"";_c=this._validationDateStr(_c,"year");var _d=_b.getMonth()+1;_d=this._validationDateStr(_d);var _e=_b.getDate();_e=this._validationDateStr(_e);return _c+_d+_e;};_pCalendar._getSplitDate=function(_a){if(this._isTimeMask()){var _b=_a.substr(0,2);_b=_b?_b:"NaN";var _c=_a.substr(2,2);_c=_c?_c:"NaN";var _d=_a.substr(4,2);_d=_d?_d:"NaN";var _e=_a.substr(6,3);_e=_e?_e:"NaN";}else{var _f=_a.substr(0,4);_f=_f?_f:"NaN";var _g=_a.substr(4,2);_g=_g?_g:"NaN";var _h=_a.substr(6,2);_h=_h?_h:"NaN";var _b=_a.substr(8,2);_b=_b?_b:"NaN";var _c=_a.substr(10,2);_c=_c?_c:"NaN";var _d=_a.substr(12,2);_d=_d?_d:"NaN";var _e=_a.substr(14,3);_e=_e?_e:"NaN";}return {year:_f,mon:_g,day:_h,hour:_b,min:_c,sec:_d,millisec:_e};};_pCalendar._changeYearValue=function(_a){var _b=this._editformat_info;var _c=this.calendaredit;var _d=_c._edit_base_api;var _e=_d._getText();if(_b._year){var _f=0;if((_b._mon&&_b._year.index>_b._mon.index)||(_b._day&&_b._year.index>_b._day.index)){if(_b._mon&&_b._mon.length==1&&!_b._mon.single_digit){_f++ ;}if(_b._day&&_b._day.length==1&&!_b._day.single_digit){_f++ ;}}var _g=_e.substr(_b._year.index+_f,_b._year.length);var _h=_g.trim();var _i=parseInt(_h,10);var _j=_h.length;var _k=_d._getValue();var _l=_k?_k.trim():"";if(_l){if(_h===""){if(this._prevalue){var _m=this._prevalue.getFullYear();_e=_e.replace(_g,_m);}else{_e=_e.replace(_g,"0000");}}else if(_h.length!=4){if(!_a){if(_j===1){_i="000"+_i;}else if(_j===2){_i="00"+_i;}else if(_j===3){_i="0"+_i;}_e=_e.replace(_g,_i);}}}}if(_b._mon){if(_b._mon.mask=="MMMM"&&this.value){var _n=this.value.getMonth()+1;_n=nexacro._toString(_n).padLeft(4,"0");_e=_e.replace(_b._mon.mask,_n);}}return _e;};_pCalendar._setDefaultCaret=function(){var _a=this.calendaredit;if(_a&&nexacro._checkActiveElement(_a._input_element)){this.setCaretPos(0);}};_pCalendar._setPreValueAndText=function(_a){var _b="";if(_a){_b=_a.toString();}this._prevalue=_a;this._pretext=this._makeCalendarText(_a);};_pCalendar._setPostValueAndText=function(_a){var _b="";if(_a){_b=_a.toString();}this._postvalue=_a;this._posttext=this._makeCalendarText(_a);};_pCalendar._setValue=function(_a,_b){if(!this._is_created&&!this._is_primitivevalue){this._primitivevalue=_a;this._is_primitivevalue=true;return;}if(this._bindsource){this.value=_a;this._bindsource=false;this.on_apply_value();}else{var _c;var _d=this._currentformat;if(this._isUndefinedDate(_a)){_c=_a;}else if(this._isNullDate(_a)){_c=null;}else if(this._isEmptyStr(_a)){_c="";}else{if(this._is_primitivevalue){this._is_primitivevalue=false;}else{this._currentformat="editformat";}_c=this._makeDateObj(_a);}this._currentformat=_d;this._bindsource=false;var _e=this.applyto_bindSource("value",_c);if(_e==false){_d=this._currentformat;this._currentformat="dateformat";this.on_apply_fake_value(this.value);this._currentformat=_d;return false;}if(this._bind_event){var _f=null;var _g=this._getRootForm();if(_g){_f=_g._bind_manager._FindBindItem(this,"value");_g=null;}if(_f&&this.value&&_c&&_c.valueOf()!=this.value.valueOf()){this._currentformat=_d;_f=null;return _e;}}this.value=_c;this._currentformat=_d;this.on_apply_value();return _e;}};_pCalendar._setUserValue=function(_a){if(!this._is_created&&!this._is_primitivevalue){this._primitivevalue=_a;this._is_primitivevalue=true;return;}var _b;var _c=this.editformat;var _d=this._currentformat;if(this._isUndefinedDate(_a)){_b=_a;}else if(this._isNullDate(_a)){_b=null;}else if(this._isEmptyStr(_a)){_b="";}else{this._currentformat="editformat";var _e=this._editformat_info;if(_e._year||_e._mon||_e._day){if(_e._hour||_e._min||_e._sec||_e._millisec){this.set_editformat("yyyy-MM-dd HH:mm:ss sss");}else{this.set_editformat("yyyy-MM-dd");}}else{this.set_editformat("HH:mm:ss sss");}_b=this._makeDateObj(_a);}this._currentformat=_d;this._bindsource=false;var _f=this.applyto_bindSource("value",_b);if(_f===false){_d=this._currentformat;this._currentformat="dateformat";this.on_apply_fake_value(this.value);this._currentformat=_d;return false;}this.value=_b;this._currentformat=_d;this.set_editformat(_c);this.on_apply_value();};_pCalendar._setValue_JSDate=function(_a){var _b=_a.toString();var _c=new nexacro.Date(_b);this._setValue(_c);};_pCalendar._setValue_JSDate=function(_a){var _b=_a.toString();var _c=new nexacro.Date(_b);this._setValue(_c);};_pCalendar._closePopup=function(){if(this.type=="system"){nexacro._closeSystemCalendar();return;}var _a=this.popupcalendar;var _b=this.popupwindow;if(_b){_b._closePopup();}if(nexacro._enableaccessibility&&this.type!="monthonly"){this._want_arrows=false;}};_pCalendar._fireKeydownEvent=function(){var _a=this.calendaredit;var _b=_a._edit_base_api;if(_a&&_a.value!=undefined){var _c=_b._getFocusText();var _d=_b._getText();if(_c!=_d&&_c!=_d.trim()){var _e=this._getDateObjFromDisplayText(_c);var _f=this._getDateObjFromDisplayText(_d);this._currentformat="editformat";this._setPreValueAndText(_e);this._setPostValueAndText(_f);var _g=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_g||_g==undefined){this._setValue(this._postvalue);}else{this._setValue(this._prevalue);return;}this._fireOnchangedEvent(this._prevalue,this.value);}}};_pCalendar._fireOnchangedEvent=function(_a,_b){_a=_a?_a.toString():_a;_b=_b?_b.toString():_b;if(_a!=_b){this._flag_update2dataset=true;this.on_fire_onchanged(this,this._pretext,this._prevalue,this._posttext,this._postvalue);this._flag_update2dataset=false;var _c=this.calendaredit;if(_c){var _d=_c._edit_base_api;_d._setFocusValue();}}};_pCalendar._getCurrentDate=function(){var _a=new Date();year=_a.getFullYear();month=_a.getMonth()+1;day=_a.getDate();_a=null;return year+" "+month+" "+day;};_pCalendar._getRange=function(_a,_b){var _c="";var _d=_b.format_list.length;var _e=0;for(var _i=0;_i<_d;_i++ ){var _f=_b.format_list[_i];var _g=_f.index;var _h=_f.index+_f.length;if(_g<=_a&&_h>=_a){_c=_f;break;}}return _c;};delete _pCalendar;_pCalendar=null;nexacro.CalendarDropButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pCalendarDropButtonCtrl=nexacro.CalendarDropButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.CalendarDropButtonCtrl);_pCalendarDropButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.calendaredit;if(_c){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};_pCalendarDropButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarDropButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarDropButtonCtrl._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pCalendarDropButtonCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro.isTouchInteraction&&nexacro.SupportTouch&&!application.enabletouchevent){var _m=new nexacro.EventInfo(this,"ondropdown");this.parent.on_notify_mobile_ondropdown(this,_m);}return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pCalendarDropButtonCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,_l);};delete _pCalendarDropButtonCtrl;nexacro.CalendarSpinButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pCalendarSpinButtonCtrl=nexacro.CalendarSpinButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.CalendarSpinButtonCtrl);_pCalendarSpinButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.calendaredit;if(_c){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};_pCalendarSpinButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarSpinButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarSpinButtonCtrl._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pCalendarSpinButtonCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a)||this._find_inherit_pseudo_obj("cursor",_a)||nexacro.Component._default_cursor;};delete _pCalendarSpinButtonCtrl;nexacro.CalendarEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MaskEditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._event_list["oneditclick"]=1;this._accessibility_role="calendar";};var _pCalendarEditCtrl=nexacro._createPrototype(nexacro.MaskEditCtrl,nexacro.CalendarEditCtrl);nexacro.CalendarEditCtrl.prototype=_pCalendarEditCtrl;_pCalendarEditCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a,this)||nexacro.Component._default_align;};_pCalendarEditCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a,this)||nexacro.Component.prototype.on_find_CurrentStyle_font.call(this,_a);};_pCalendarEditCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a,this)||nexacro.Component._default_color;};_pCalendarEditCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_accessibility(_a,this)||nexacro.Component._default_accessibility;};_pCalendarEditCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_background(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_border(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_bordertype(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_gradation(_a,this);};_pCalendarEditCtrl.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._input_element=new nexacro.InputElement(_a);this._edit_base_api=new nexacro.EditMaskDate(this);var _c=this.currentstyle;_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlign(_c.align);_b.setElementSelectColor(_c.selectcolor);_b.setElementSelectBackgroundColor(_c.selectbackground);_b.setElementDisplayNullTextColor(_c.displaynulltextcolor);}};_pCalendarEditCtrl._getFormChildById=function(_a){return this.parent._getFormChildById(_a);};_pCalendarEditCtrl._getFromComponent=function(_a){var _b=_a.parent;if(_b&&_b._isPopupVisible()){return _b;}else{return nexacro.Component.prototype._getFromComponent.call(this,_a);}};_pCalendarEditCtrl._getAccessibilityRole=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityRole(_a);}return nexacro.Component.prototype._getAccessibilityRole.call(this,_a);};_pCalendarEditCtrl._getAccessibilityLabel=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityLabel(_a);}return nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);};_pCalendarEditCtrl._getAccessibilityDescription=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityDescription(_a);}return nexacro.Component.prototype._getAccessibilityDescription.call(this,_a);};_pCalendarEditCtrl._getAccessibilityAction=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityAction(_a);}return nexacro.Component.prototype._getAccessibilityAction.call(this,_a);};_pCalendarEditCtrl._on_getAccessibilityAdditionalLabel=function(){if(nexacro.OS=="iOS"&&nexacro.OSVersion>=8){return this.value?this.text:"";}};_pCalendarEditCtrl.set_value=function(_a,_b){_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.value){var _c=this._getRootForm();var _d=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_d){var _e=_d._accept_keyinput_event;_d._accept_keyinput_event=false;this._setValue(_a);_d._accept_keyinput_event=_e;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_c&&_c._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}if(this._is_first_focus||(this.value!=_a)){this._is_set_value=true;}if(_d&&!_b){_d._setFocusValue();}}this._setAccessibilityValue(this.value);if(this._is_created&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _f=this._input_element;_f._setElementInputLabel();}};_pCalendarEditCtrl.on_apply_type=function(){var _a=this.getElement();if(_a){this._edit_base_api=null;this._edit_base_api=new nexacro.EditMaskDate(this);this._input_element.setElementInputType(this.type);this._input_element.setElementInputTypeKeypad(this.type);}};_pCalendarEditCtrl._accept_keydown_event=function(_a){var _b=this.parent;if(_b&&(_a>=37&&_a<=40)){if(_b.isDropdown()){return false;}else{if(nexacro.Browser=="Chrome"){if(_a==38||_a==40){return false;}}}}return true;};_pCalendarEditCtrl._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(_b._is_selected()){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}}_b._on_input_keyinput(_a);_b._on_input_keyinput_after();var _c=this.parent;if(_c&&_c.type=="system"){_c._setValue(_b._getValue());}}};delete _pCalendarEditCtrl;nexacro.CalendarPopupWindow=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pCalendarPopupWindow=nexacro._createPrototype(nexacro.PopupComponent,nexacro.CalendarPopupWindow);nexacro.CalendarPopupWindow.prototype=_pCalendarPopupWindow;_pCalendarPopupWindow._type_name="CalendarPopupWindow";_pCalendarPopupWindow._getMainFrame=function(){var _a=this;while(_a&&_a instanceof nexacro.MainFrame){_a=_a.parent;}return _a;};delete _pCalendarPopupWindow;nexacro.CalendarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Calendar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._value;};var _pCalendarCtrl=nexacro._createPrototype(nexacro.Calendar,nexacro.CalendarCtrl);nexacro.CalendarCtrl.prototype=_pCalendarCtrl;_pCalendarCtrl._type_name="CalendarControl";nexacro._setForControlStyleFinder(_pCalendarCtrl);_pCalendarCtrl._setValueCtrl=function(_a){this._currentformat="editformat";var _b=this.calendaredit;var _c=_b._edit_base_api;if(_b&&_b.value!=undefined){var _d=_c._getFocusText();var _e=_c._getText();if(_d!=_e&&_d!=_e.trim()){var _f=this._changeYearValue(true);var _g=this._getDateObjFromDisplayText(_f);var _h=this._getDateObjFromDisplayText(_d);this._setPreValueAndText(_h);this._setPostValueAndText(_g);if(_a){var _i=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_i||_i==undefined){this._setValue(this._postvalue);}else{this._setValue(this._prevalue);return;}this._fireOnchangedEvent(this._prevalue,this.value);}else{this._setValue(this._postvalue);}}}};_pCalendarCtrl.on_created_contents=function(){nexacro.Calendar.prototype.on_created_contents.call(this);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){this._control_element.setElementAccessibilityHidden(true);}};delete _pCalendarCtrl;};if(!nexacro.GroupBox){nexacro.GroupBox_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pGroupBoxStyle=nexacro._createPrototype(nexacro.Style,nexacro.GroupBox_Style);nexacro.GroupBox_Style.prototype=_pGroupBoxStyle;eval(nexacro._createBackgroundAttributeEvalStr("_pGroupBoxStyle","titlebackground"));eval(nexacro._createGradationAttributeEvalStr("_pGroupBoxStyle","titlegradation"));eval(nexacro._createValueAttributeEvalStr("_pGroupBoxStyle","titleimage"));eval(nexacro._createAlignAttributeEvalStr("_pGroupBoxStyle","titleimagealign"));eval(nexacro._createPaddingAttributeEvalStr("_pGroupBoxStyle","titleimagepadding"));eval(nexacro._createPaddingAttributeEvalStr("_pGroupBoxStyle","titlepadding"));eval(nexacro._createValueAttributeEvalStr("_pGroupBoxStyle","titleview"));_pGroupBoxStyle.__custom_emptyObject=function(){this.titlebackground=null;this.titlegradation=null;this.titleimage=null;this.titleimagealign=null;this.titleimagepadding=null;this.titlepadding=null;this.titleview=null;};_pGroupBoxStyle.__get_custom_style_value=function(){var _a="";if(this.titlebackground&&!this.titlebackground._is_empty){_a+="titlebackground:"+this.titlebackground._value+"; ";}if(this.titlegradation&&!this.titlegradation._is_empty){_a+="titlegradation:"+this.titlegradation._value+"; ";}if(this.titleimage&&!this.titleimage._is_empty){_a+="titleimage:"+this.titleimage._value+"; ";}if(this.titleimagealign&&!this.titleimagealign._is_empty){_a+="titleimagealign:"+this.titleimagealign._value+"; ";}if(this.titleimagepadding&&!this.titleimagepadding._is_empty){_a+="titleimagepadding:"+this.titleimagepadding._value+"; ";}if(this.titlepadding&&!this.titlepadding._is_empty){_a+="titlepadding:"+this.titlepadding._value+"; ";}if(this.titleview&&!this.titleview._is_empty){_a+="titleview:"+this.titleview._value+"; ";}return _a;};nexacro.GroupBox_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.titlebackground=null;this.titlegradation=null;this.titleimage=null;this.titleimagealign=null;this.titleimagepadding=null;this.titlepadding=null;this.titleview=null;};var _pGroupBoxCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GroupBox_CurrentStyle);nexacro.GroupBox_CurrentStyle.prototype=_pGroupBoxCurrentStyle;_pGroupBoxCurrentStyle.__custom_emptyObject=_pGroupBoxStyle.__custom_emptyObject;_pGroupBoxCurrentStyle.__get_custom_style_value=_pGroupBoxStyle.__get_custom_style_value;delete _pGroupBoxStyle;delete _pGroupBoxCurrentStyle;nexacro.GroupBox=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.titlealign="topleft";this.mainStatic=null;this.titleButton=null;this.leftStatic=null;this.rightStatic=null;this.sizechange=0;this._image_width=0;this._image_height=0;this.tabstop=false;this._is_focus_accept=false;this._accessibility_role="groupbox";this._event_list={"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pGroupBox=nexacro._createPrototype(nexacro.Component,nexacro.GroupBox);nexacro.GroupBox.prototype=_pGroupBox;_pGroupBox._type_name="GroupBox";nexacro.GroupBox._default_title_view=nexacro._getCachedStyleObj("titleview","horizontal");_pGroupBox.on_create_custom_style=function(){return new nexacro.GroupBox_Style(this);};_pGroupBox.on_create_custom_currentStyle=function(){return new nexacro.GroupBox_CurrentStyle();};_pGroupBox.on_apply_custom_pseudo=function(_a){if(!_a){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_titleBackground(_a);var _d=this.on_find_CurrentStyle_titleGradation(_a);var _e=this.on_find_CurrentStyle_titleImage(_a);var _f=this.on_find_CurrentStyle_titleImageAlign(_a);var _g=this.on_find_CurrentStyle_titleImagePadding(_a);var _h=this.on_find_CurrentStyle_titlePadding(_a);var _i=this.on_find_CurrentStyle_titleView(_a);var _j=this.on_find_CurrentStyle_font(_a);var _k=this.on_find_CurrentStyle_letterspace(_a);var _l=this.on_find_CurrentStyle_color(_a);var _m=this.on_find_CurrentStyle_align(_a);if(_b.font!=_j){_b.font=_j;this.on_apply_style_font(_j);}if(_b.letterspace!=_k){_b.letterspace=_k;this.on_apply_style_letterspace(_k);}if(_b.color!=_l){_b.color=_l;this.on_apply_style_color(_l);}if(_b.align!=_m){_b.align=_m;this.on_apply_style_align(_m);}if(_c!=_b.titlebackground){_b.titlebackground=_c;this.on_apply_style_titlebackground(_c);}if(_d!=_b.titlegradation){_b.titlegradation=_d;this.on_apply_style_titlegradation(_d);}if(_e!=_b.titleimage){_b.titleimage=_e;this.on_apply_style_titleimage(_e);}if(_f!=_b.titleimagealign){_b.titleimagealign=_f;this.on_apply_style_titleimagealign(_f);}if(_g!=_b.titleimagepadding){_b.titleimagepadding=_g;this.on_apply_style_titleimagepadding(_g);}if(_h!=_b.titlepadding){_b.titlepadding=_h;this.on_apply_style_titlepadding(_h);}if(_i!=_b.titleview){_b.titleview=_i;this.on_apply_style_titleview(_i);}this._title_Border();var _n=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_n!=_b.rtlimagemirroring){_b.rtlimagemirroring=_n;this.on_apply_style_rtlimagemirroring(_n);}};_pGroupBox.on_find_CurrentStyle_titleBackground=function(_a){return this._find_pseudo_obj("titlebackground",_a,"background");};_pGroupBox.on_find_CurrentStyle_titleGradation=function(_a){return this._find_pseudo_obj("titlegradation",_a,"gradation");};_pGroupBox.on_find_CurrentStyle_titleImage=function(_a){return this._find_pseudo_obj("titleimage",_a);};_pGroupBox.on_find_CurrentStyle_titleImageAlign=function(_a){var _b=this._find_pseudo_obj("titleimagealign",_a,"align");return _b?_b:nexacro.Component._default_buttonimg_align;};_pGroupBox.on_find_CurrentStyle_titleImagePadding=function(_a){return this._find_pseudo_obj("titleimagepadding",_a,"padding");};_pGroupBox.on_find_CurrentStyle_titlePadding=function(_a){return this._find_pseudo_obj("titlepadding",_a,"padding");};_pGroupBox.on_find_CurrentStyle_titleView=function(_a){var _b=this._find_pseudo_obj("titleview",_a);return (_b)?_b:nexacro.GroupBox._default_title_view;};_pGroupBox.on_update_style_titlebackground=function(){var _a=this.currentstyle.titlebackground=this.on_find_CurrentStyle_titleBackground(this._pseudo);this.on_apply_style_titlebackground(_a);};_pGroupBox.on_update_style_titlegradation=function(){var _a=this.currentstyle.titlegradation=this.on_find_CurrentStyle_titleGradation(this._pseudo);this.on_apply_style_titlegradation(_a);};_pGroupBox.on_update_style_titleimage=function(){var _a=this.currentstyle.titleimage=this.on_find_CurrentStyle_titleImage(this._pseudo);this.on_apply_style_titleimage(_a);};_pGroupBox.on_update_style_titleimagealign=function(){var _a=this.currentstyle.titleimagealign=this.on_find_CurrentStyle_titleImageAlign(this._pseudo);this.on_apply_style_titleimagealign(_a);};_pGroupBox.on_update_style_titleimagepadding=function(){var _a=this.currentstyle.titleimagepadding=this.on_find_CurrentStyle_titleImagePadding(this._pseudo);this.on_apply_style_titleimagepadding(_a);};_pGroupBox.on_update_style_titlepadding=function(){var _a=this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this.on_apply_style_titlepadding(_a);};_pGroupBox.on_update_style_titleview=function(){var _a=this.currentstyle.titleview=this.on_find_CurrentStyle_titleView(this._pseudo);this.on_apply_style_titleview(_a);};_pGroupBox.on_apply_style_titlebackground=function(_a){if(this.titleButton&&_a){this.titleButton.style.set_background(_a);}};_pGroupBox.on_apply_style_titlegradation=function(_a){if(this.titleButton&&_a){this.titleButton.style.set_gradation(_a);}};_pGroupBox.on_apply_style_titleimage=function(_a){if(this.titleButton&&_a){this.titleButton._load_image(_a);}};_pGroupBox.on_apply_style_titleimagealign=function(_a){var _b=this.on_find_CurrentStyle_titleImage(this._pseudo);var _c=this.titleButton;if(_c&&_b&&_a){this._applyTitleSize();_c.on_apply_style_imagealign(_a);}};_pGroupBox.on_apply_style_titleimagepadding=function(_a){};_pGroupBox.on_apply_style_titlepadding=function(_a){if(this.titleButton){this.titleButton.style.set_padding(_a);}};_pGroupBox.on_apply_style_titleview=function(_a){};_pGroupBox.on_apply_style_font=function(_a){if(this.titleButton){this.titleButton.on_apply_style_font(_a);this._applyTitleSize();}};_pGroupBox.on_apply_style_color=function(_a){if(this.titleButton){this.titleButton.on_apply_style_color(_a);}};_pGroupBox.on_apply_style_letterspace=function(_a){if(this.titleButton){this.titleButton.style.set_letterspace(this.currentstyle.letterspace);this._applyTitleSize();}};_pGroupBox.on_apply_style_rtlimagemirroring=function(_a){return;};_pGroupBox.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;var _b=this.titleButton;var _c=this.mainStatic;var _d=this.leftStatic;var _e=this.rightStatic;if(_b){_b._setRtlDirection(_a);}if(_c){_c._setRtlDirection(_a);}if(_d){_d._setRtlDirection(_a);}if(_e){_e._setRtlDirection(_a);}};_pGroupBox.on_create_contents=function(){var _a=this.getElement();if(_a){if(this.text){var _b=this._text_elem=new nexacro.TextBoxElement(_a);var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b.setElementLetterSpace(this.currentstyle.letterspace);}}};_pGroupBox.on_created_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_b){_b.create();}if(_a){_a.create();}if(this.cssclass){this.on_apply_pseudo();this.on_apply_custom_pseudo();this.on_apply_prop_class();}this._createGroupSubObj();this.on_apply_text(this.text);this.on_apply_style_color(this.currentstyle.color);this.on_apply_style_font(this.currentstyle.font);this.on_apply_style_letterspace(this.currentstyle.letterspace);this.on_apply_style_titleimage(this.currentstyle.titleimage);this._applyTitleSize();this.on_apply_style_titlepadding(this.currentstyle.titlepadding);this.on_apply_style_titleimagealign(this.currentstyle.titleimagealign);this.on_apply_style_titleimagepadding(this.currentstyle.titleimagepadding);this.on_apply_style_titleview(this.currentstyle.titleview);this.on_apply_prop_rtldirection();};_pGroupBox.on_destroy_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_a){_a.destroy();this._text_elem=null;}};_pGroupBox.on_change_containerRect=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementSize(_a,_b);}if(this.mainStatic&&this.leftStatic&&this.rightStatic&&this.titleButton){this._applyTitleSize();}this._title_Border();};_pGroupBox.set_titlealign=function(_a){var _b=_a.toString();if(_b!=this.titlealign){this.titlealign=_a;this.on_apply_titlealign();}};_pGroupBox.on_apply_titlealign=function(){var _a=this.titlealign;var _b=this.titleButton;var _c=this.mainStatic;var _d=this.leftStatic;var _e=this.rightStatic;var _f=this.on_find_CurrentStyle_bordertype(this._pseudo);var _g=parseInt(_f.radiusx);var _h=parseInt(_f.radiusy);if(!this.currentstyle.border&&!_b||!_c||!_d||!_e){return false;}var _i=this._adjust_width;var _j=this._adjust_height;var _k=_b._adjust_left;var _l=_b._adjust_top;var _m=_b._adjust_width;var _n=_b._adjust_height;var _o=this.on_find_CurrentStyle_titlePadding(this._pseudo);if(_o){_m+=(_o.left+_o.right);_n+=(_o.top+_o.bottom);}var _p=_i-20;var _q=_j-20;if(_p<_m){_m=_p>0?_p:0;}if(_q<_n){_n=_q>0?_q:0;}var _r=this.on_find_CurrentStyle_border(this._pseudo);var _s=parseInt(_r.width);var _t=parseInt(_r.left_width);var _u=parseInt(_r.top_width);var _v=parseInt(_r.right_width);var _w=parseInt(_r.bottom_width);if(_a=="topcenter"){var _x=Math.floor((_i-_m)/2);var _y=Math.floor(_n/2);var _z=_j-_y;var _aa=_x+_m+_v;var _ab=_i-_x-_m;this.mainStatic.move(0,_y,_i,_z);this.leftStatic.move(0,_y,_x,_z);this.rightStatic.move(_aa,_y,_ab,_z);_b.move(_x,0,_m,_n);}else if(_a=="topright"){var _x=_i-_g-_m-_v;var _y=Math.floor(_n/2);var _z=_j-_y;var _aa=_i-_g-_v;var _ab=_i-_aa;this.mainStatic.move(0,_y,_i,_z);this.leftStatic.move(0,_y,_x,_z);this.rightStatic.move(_aa,_y,_ab,_z);_b.move(_x,0,_m,_n);}else if(_a=="righttop"){var _x=_i-Math.floor(_m/2);var _ac=_h+_n;this.mainStatic.move(0,0,_x,_j);this.leftStatic.move(0,0,_x,_h);this.rightStatic.move(0,_ac,_x,_j-_ac);_b.move(_i-_m,_h,_m,_n);}else if(_a=="rightcenter"){var _x=_i-Math.floor(_m/2);var _ad=Math.floor((_j-_n)/2);this.mainStatic.move(0,0,_x,_j-_w);this.leftStatic.move(0,0,_x,_ad);this.rightStatic.move(0,_ad+_n,_x,_ad);_b.move(_i-_m,_ad,_m,_n);}else if(_a=="rightbottom"){var _x=_i-Math.floor(_m/2);var _ae=_h+_n;this.mainStatic.move(0,0,_x,_j);this.leftStatic.move(0,0,_x,_j-_ae);this.rightStatic.move(0,_j-_h,_x,_h);_b.move(_i-_m,_j-_ae,_m,_n);}else if(_a=="bottomright"){var _x=_i-_g-_m;var _z=_j-Math.floor(_n/2);var _aa=_i-_g;this.mainStatic.move(0,0,_i,_z);this.leftStatic.move(0,0,_x,_z);this.rightStatic.move(_aa,0,_g,_z);_b.move(_x,_j-_n,_m,_n);}else if(_a=="bottomcenter"){var _x=Math.floor((_i-_m)/2);var _z=_j-Math.floor(_n/2);var _aa=_x+_m+_v;var _ab=_i-_x-_m;this.mainStatic.move(0,0,_i,_z);this.leftStatic.move(0,0,_x,_z);this.rightStatic.move(_aa,0,_ab,_z);_b.move(_x,_j-_n,_m,_n);}else if(_a=="bottomleft"){var _x=_i-_g-_m;var _z=_j-Math.floor(_n/2);var _aa=_g+_m;var _ab=_i-_aa+_v;this.mainStatic.move(0,0,_i,_z);this.leftStatic.move(0,0,_g,_z);this.rightStatic.move(_aa,0,_ab,_z);_b.move(_g,_j-_n,_m,_n);}else if(_a=="leftbottom"){var _af=Math.floor(_m/2);var _x=_i-_af;var _ae=_h+_n;this.mainStatic.move(_af,0,_x,_j);this.leftStatic.move(_af,0,_x,_j-_ae);this.rightStatic.move(_af,_j-_h,_x,_h);_b.move(0,_j-_ae,_m,_n);}else if(_a=="leftcenter"){var _af=Math.floor(_m/2);var _x=_i-_af;var _ad=Math.floor((_j-_n)/2);var _ag=_j-_ad-_n-_w;this.mainStatic.move(_af,0,_x,_j-_w);this.leftStatic.move(_af,0,_x,_ad);this.rightStatic.move(_af,_ad+_n,_x,_ag);_b.move(0,_ad,_m,_n);}else if(_a=="lefttop"){var _af=Math.floor(_m/2);var _x=_i-_af;var _ac=_h+_n;this.mainStatic.move(_af,0,_x,_j);this.leftStatic.move(_af,0,_x,_h);this.rightStatic.move(_af,_ac,_x,_j-_ac);_b.move(0,_h,_m,_n);}else{var _y=Math.floor(_n/2);var _z=_j-_y;var _ah=_g+_t;var _aa=_ah+_m;var _ab=_i-_aa+_v;_k=_ah;this.mainStatic.move(0,_y,_i,_z);this.leftStatic.move(0,_y,_ah,_z+10);this.rightStatic.move(_aa,_y,_ab,_z);_b.move(_k,0,_m,_n);}this._title_Border();};_pGroupBox.set_text=function(_a){var _b=_a;if(_b===undefined||_b===null){_b="";}else{_b=_a.toString();}if(_b!=this.text){this.text=this._display_text=_b;var _c=this.titleButton;this.on_apply_text(_b);this.on_apply_style_color(this.currentstyle.color);this.on_apply_style_font(this.currentstyle.font);this.on_apply_style_align(this.currentstyle.align);this.on_apply_titlealign();if(_c){this._applyTitleSize();this.bRectChange=true;}}return this.text;};_pGroupBox.on_apply_text=function(_a){var _b=_a;if(this.titleButton!=null){this.titleButton.style.set_letterspace(this.currentstyle.letterspace);this.titleButton.set_text(_b);}};_pGroupBox.on_get_prop_tabstop=function(){if(nexacro._enableaccessibility){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a&&_a.enable&&_a.role=="link"){return true;}}return false;};_pGroupBox._isFocusAcceptable=function(){return nexacro._enableaccessibility;};_pGroupBox._createGroupSubObj=function(){var _a=this.mainStatic=new nexacro.MainCtrl("mainline","absolute",0,0,0,0,null,null,this);_a.createComponent();var _b=this.titleButton=new nexacro.TitleCtrl("title","absolute",0,0,0,0,null,null,this);_b.style.set_border("0px solid transparent");_b.style.set_bordertype("round 1 1");_b.createComponent();var _c=this.leftStatic=new nexacro.TitleBorderCtrl("line1","absolute",0,0,0,0,null,null,this);_c.createComponent();var _d=this.rightStatic=new nexacro.TitleBorderCtrl("line2","absolute",0,0,0,0,null,null,this);_d.createComponent();};_pGroupBox._applyTitleSize=function(){var _a=this._GetTextSize(this._display_text);_a[0]=_a[0]<0?0:_a[0];var _b=this.titleButton;var _c=_b._image_width;var _d=_b._image_height;var _e=_a[0];var _f=_a[1];if(_b){if(_b._img_elem){var _g=this.on_find_CurrentStyle_titleImageAlign(this._pseudo);if(_g.halign=="lefttext"||_g.halign=="righttext"){_e+=_c;_f=_f<_d?_b._image_height:_f;}if(_g.valign=="toptext"||_g.valign=="bottomtext"){_f+=_d;}}var _h=0;var _i=0;this.titleButton._adjust_left=_h;this.titleButton._adjust_top=_i;this.titleButton._adjust_width=_e;this.titleButton._adjust_height=_f;this.on_apply_titlealign();}};_pGroupBox._getMakeClientRect=function(_a){return {left:_a._client_left,top:_a._client_top,right:_a._client_left+_a._client_width,bottom:_a._client_top+_a._client_height,width:_a._client_width,height:_a._client_height};};_pGroupBox._title_Border=function(){if(!this.mainStatic||!this.leftStatic||!this.rightStatic){return false;}var _a=this.on_find_CurrentStyle_border(this._pseudo);var _b=this.on_find_CurrentStyle_bordertype(this._pseudo);var _c=this.on_find_CurrentStyle_background(this._pseudo);var _d=this.leftStatic.on_find_CurrentStyle_bordertype(this._pseudo);var _e=this.rightStatic.on_find_CurrentStyle_bordertype(this._pseudo);this.mainStatic._setElementBorder(this.mainStatic.getElement(),_a,_b,this.titlealign);this.leftStatic._setElementBorder(this.leftStatic.getElement(),_a,_d,this.titlealign);this.rightStatic._setElementBorder(this.rightStatic.getElement(),_a,_e,this.titlealign);this.on_apply_style_border("");this.on_apply_style_background("none");this.mainStatic.on_apply_style_background(_c);};_pGroupBox._GetTextSize=function(_a){if(!this.titleButton){return;}var _b=this.titleButton.on_find_CurrentStyle_font(this._pseudo)||nexacro.Component._default_font;var _c=this.titleButton.on_find_CurrentStyle_letterspace(this._pseudo);return nexacro._getTextSize2(_c,_a,_b,null,null,null,this._rtldirection);};_pGroupBox._getRecalcCanvasXY=function(_a,_b,_c){var _d=0,_e=0;if(this.parent&&!(this instanceof nexacro.ScrollBarCtrl)){var _f=this.parent._control_element;if(_f&&_f instanceof nexacro.ScrollableControlElement){_d=_f.scroll_left;_e=_f.scroll_top;_f=null;}}_b+=this._adjust_left-_d||0;_c+=this._adjust_top-_e||0;var _g=this._getWindow();var _h=this.currentstyle;var _i=_g.findComponent(_a);if(_i!=this){if(_h&&_h.padding){_b+=_h.padding.left;_c+=_h.padding.top;}}return [_b,_c];};nexacro.TitleCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pTitleCtrl=nexacro.TitleCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TitleCtrl);_pTitleCtrl.orgRect=null;_pTitleCtrl.on_apply_custom_pseudo=function(_a){nexacro.ButtonCtrl.prototype.on_apply_custom_pseudo.call(this,_a);this.parent.mainStatic._pseudo=_a;this.parent.mainStatic.on_update_style_border();if(this.parent.rightStatic){this.parent.rightStatic._pseudo=_a;this.parent.rightStatic.on_update_style_border();}if(this.parent.leftStatic){this.parent.leftStatic._pseudo=_a;this.parent.leftStatic.on_update_style_border();}this.parent._title_Border();};_pTitleCtrl.on_find_CurrentStyle_align=function(_a){return nexacro.Component._default_align;};_pTitleCtrl.on_find_CurrentStyle_color=function(_a){return this.parent._find_pseudo_obj("color",_a,"color");};_pTitleCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a);};_pTitleCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("titlebackground",_a,"background");};_pTitleCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("titlegradation",_a,"gradation");};_pTitleCtrl.on_find_CurrentStyle_image=function(_a){return this.parent._find_pseudo_obj("titleimage",_a);};_pTitleCtrl.on_find_CurrentStyle_imagealign=function(_a){return this.parent.on_find_CurrentStyle_titleImageAlign(_a);};_pTitleCtrl.on_find_CurrentStyle_imagepadding=function(_a){return this.parent._find_pseudo_obj("titleimagepadding",_a,"padding");};_pTitleCtrl.on_find_CurrentStyle_padding=function(_a){return this.parent._find_pseudo_obj("titlepadding",_a,"padding");};_pTitleCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent._find_pseudo_obj("cursor",_a);};_pTitleCtrl._img_load_completed=function(_a){this.parent._applyTitleSize();nexacro.Button.prototype._img_load_completed.call(this,_a);};nexacro.MainCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pMainCtrl=nexacro.MainCtrl.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.MainCtrl);_pMainCtrl.orgPos=null;_pMainCtrl.on_apply_custom_pseudo=function(_a){nexacro.StaticCtrl.prototype.on_apply_custom_pseudo.call(this,_a);if(this.parent.rightStatic){this.parent.rightStatic._pseudo=_a;this.parent.rightStatic.on_update_style_border();}if(this.parent.leftStatic){this.parent.leftStatic._pseudo=_a;this.parent.leftStatic.on_update_style_border();}this.parent._title_Border();};_pMainCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("background",_a,"background");};_pMainCtrl.on_find_CurrentStyle_shadow=function(_a){return this.parent._find_pseudo_obj("shadow",_a,"shadow");};_pMainCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("bordertype",_a,"bordertype");};_pMainCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("gradation",_a,"gradation");};_pMainCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent._find_pseudo_obj("cursor",_a);};_pMainCtrl._setElementBorder=function(_a,_b,_c,_d){if(!_b){return;}var _e=_b.clone();var _f=_e._value;var _g;_e._linecnt=1;if(_c.type=="round"){_e._copytoSubObjects();}_e._linecnt=4;if(_d!=null){if(_d=="righttop"||_d=="rightcenter"||_d=="rightbottom"){_e.set_right_width("0");}else if(_d=="lefttop"||_d=="leftcenter"||_d=="leftbottom"){_e.set_left_width("0");}else if(_d=="bottomright"||_d=="bottomcenter"||_d=="bottomleft"){_e.set_bottom_width("0");}else{_e.set_top_width("0");}_a.setElementBorder(_e,_c);}};delete _pMainCtrl;nexacro.TitleBorderCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pTitleBorderCtrl=nexacro.TitleBorderCtrl.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.TitleBorderCtrl);_pTitleBorderCtrl.on_apply_custom_pseudo=function(_a){nexacro.StaticCtrl.prototype.on_apply_custom_pseudo.call(this,_a);this.parent.mainStatic._pseudo=_a;this.parent.mainStatic.on_update_style_border();if(this.id=="line1"){if(this.parent.rightStatic){this.parent.rightStatic._pseudo=_a;this.parent.rightStatic.on_update_style_border();}}if(this.id=="line2"){if(this.parent.leftStatic){this.parent.leftStatic._pseudo=_a;this.parent.leftStatic.on_update_style_border();}}this.parent._title_Border();};_pTitleBorderCtrl.on_find_CurrentStyle_background=function(_a){};_pTitleBorderCtrl.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("border",_a,"border");};_pTitleBorderCtrl.on_find_CurrentStyle_bordertype=function(_a){var _b=this.parent._find_pseudo_obj("bordertype",_a,"bordertype");var _c=_b.clone();var _d=this.parent.titlealign;if(_d=="righttop"||_d=="rightcenter"||_d=="rightbottom"){if(this.id=="line1"){_c.set_lefttop(false);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(true);}}else if(_d=="lefttop"||_d=="leftcenter"||_d=="leftbottom"){if(this.id=="line1"){_c.set_lefttop(true);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(true);}}else if(_d=="bottomright"||_d=="bottomcenter"||_d=="bottomleft"){if(this.id=="line1"){_c.set_lefttop(true);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(true);}}else{if(this.id=="line1"){_c.set_lefttop(true);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(true);}}return _c;};_pTitleBorderCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent._find_pseudo_obj("cursor",_a);};_pTitleBorderCtrl._setElementBorder=function(_a,_b,_c,_d){if(!_b){return;}var _e=_b.clone();_e._linecnt=1;if(_c.type=="round"){_e._copytoSubObjects();}_e._linecnt=4;if(_d!=null){if(_d=="righttop"||_d=="rightcenter"||_d=="rightbottom"){if(this.id=="line1"){_e.set_bottom_width("0");}else if(this.id=="line2"){_e.set_top_width("0");}}else if(_d=="lefttop"||_d=="leftcenter"||_d=="leftbottom"){if(this.id=="line1"){_e.set_bottom_width("0");}else if(this.id=="line2"){_e.set_top_width("0");}}else if(_d=="bottomright"||_d=="bottomcenter"||_d=="bottomleft"){_e.set_top_width("0");if(this.id=="line1"){_e.set_right_width("0");}else if(this.id=="line2"){_e.set_left_width("0");}}else{if(this.id=="line1"){_e.set_right_width("0");}else if(this.id=="line2"){_e.set_left_width("0");}}_a.setElementBorder(_e,_c);}};delete _pTitleBorderCtrl;nexacro.GroupBoxCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.GroupBox.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pGroupBoxCtrl=nexacro.GroupBoxCtrl.prototype=nexacro._createPrototype(nexacro.GroupBox,nexacro.GroupBoxCtrl);_pGroupBoxCtrl._type_name="GroupBoxControl";nexacro._setForControlStyleFinder(_pGroupBoxCtrl);delete _pGroupBoxCtrl;}nexacro.TabIndexChangeEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"ontabindexchange";this.fromobject=this.fromreferenceobject=_a;this.postindex=_c;this.preindex=_d;};var _pTabIndexChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ChangeEventInfo);nexacro.TabIndexChangeEventInfo.prototype=_pTabIndexChangeEventInfo;_pTabIndexChangeEventInfo._type_name="TabIndexChangeEventInfo";delete _pTabIndexChangeEventInfo;nexacro.TabMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.MouseEventInfo.call(this,_a,_b||"onextrabuttonclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.index=_c;};var _pTabMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MouseEventInfo);nexacro.TabMouseEventInfo.prototype=_pTabMouseEventInfo;_pTabMouseEventInfo._type_name="TabMouseEventInfo";delete _pTabMouseEventInfo;if(!nexacro.TabComponent){nexacro.TabComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.spinupbutton=null;this.spindownbutton=null;this.multiline=false;this.tabindex= -1;this.focusacceptable=false;this.usecontrolkey=true;this.rotatetext=false;this.tabjustify=false;this.selectchangetype="down";this.tabposition="top";this.extrabutton=null;this._org_status="";this._pre_scrollIndex= -1;this._imagewidth=0;this._imageheight=0;this._setidx=0;this._oldtabindex=0;this._tabpagearea=null;this._css_finder=null;this._tabButtons=[];this._buttonRect=[];this._tabextrabuttons=[];this._tabBorders=[];this._tabButtonBorders=[];this._tabButtonLeftBorders=[];this._buttonWidth=[];this._buttonHeight=[];this._buttonBorder=null;this._insert_tabpagelist=[];this._scrollIndex= -1;this._lastIndex= -1;this._bSpin=false;this._focusobj=null;this._spinflagup=false;this._spinflagdown=false;this._is_canchange=false;this._is_scrollable=false;this._is_resize=true;this._is_recalclayout=false;this._is_stat_change=false;this._accessibility_role="tab";};var _pTabComponent=nexacro._createPrototype(nexacro.Form,nexacro.TabComponent);nexacro.TabComponent.prototype=_pTabComponent;_pTabComponent._type_name="Tabcomponent";_pTabComponent.on_update_style_cursor=function(){var _a=this._tabButtons;var _b=_a.length;var _c;for(var _e=0;_e<_b;_e++ ){_c=_a[_e];_c.on_update_style_cursor();}var _d=this.tabpages;for(var _e=0,_f=_d.length;_e<_f;_e++ ){_d[_e].on_update_style_cursor();}this._tabpagearea.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));this.on_apply_style_cursor(this.currentstyle.cursor);};_pTabComponent.on_change_containerRect=function(_a,_b){};_pTabComponent.set_visible=function(_a){var _b=this._child_list;if(_b&&_b.length==0&&nexacro._toBoolean(_a)){return;}nexacro.Component.prototype.set_visible.call(this,_a);};_pTabComponent.on_update_position=function(_a,_b){var _c=this._control_element;if(_c){var _d=false;if(this._isRtl(this.parent)&&this._left!=null){_d=true;}_c.setElementPosition(this._adjust_left,this._adjust_top,_d);if(_a){var _e=this._calcScrollMaxSize();_c.container_maxwidth=_e.w;_c.container_maxheight=_e.h;}this._is_resize=_a;_c.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}this._is_resize=false;}};_pTabComponent.set_multiline=function(_a){this.multiline=nexacro._toBoolean(_a);if(this.multiline==false&&this._buttonWidth){var _b=0;var _c=this._buttonWidth.length;for(var _d=0,_e=_c;_d<_e;_d++ ){_b+=this._buttonWidth[_d];if(this._orgwidth<_b){break;}}if(_e>0){this._scrollIndex=this.tabindex-(_d-1);}}this._recalcLayout();};_pTabComponent.set_rotatetext=function(_a){this.rotatetext=_a;};_pTabComponent.set_usecontrolkey=function(_a){_a=nexacro._toBoolean(_a);if(this.usecontrolkey!=_a){this.usecontrolkey=_a;}};_pTabComponent.set_focusacceptable=function(_a){_a=nexacro._toBoolean(_a);if(this.focusacceptable!=_a){this.focusacceptable=_a;}};_pTabComponent.set_tabindex=function(_a){var _b=parseInt(_a)|0;this._oldtabindex=this.tabindex;this._setidx=_b;this.on_apply_tabindex();};_pTabComponent.on_apply_tabindex=function(){var _a=false;var _b=this._getForm();if(_b._getTabOrderFirst() instanceof nexacro.Tab&&this.parent._last_focused&&this.parent._last_focused.name==this.name){_a=true;}var _c=this._changeTabIndex(this._setidx,_a);if(_c&&this.enableevent&&this._is_created&&this._oldtabindex> -1){this.on_fire_onchanged(this,this._setidx,this._oldtabindex);}};_pTabComponent.set_tabjustify=function(_a){_a=nexacro._toBoolean(_a);if(this.tabjustify!=_a){this.tabjustify=_a;}else{return;}this.on_apply_tabjustify();};_pTabComponent.on_apply_tabjustify=function(){this._recalcLayout();};_pTabComponent.set_tabposition=function(_a){this.tabposition=_a.toString();var _b=this._child_list;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d!=null){_d._adjust_width=0;_d._adjust_height=0;}}this.on_apply_tabposition();};_pTabComponent.on_apply_tabposition=function(){this._recalcLayout();};_pTabComponent.set_selectchangetype=function(_a){this.selectchangetype=_a;};nexacro._is_enable_setting=false;_pTabComponent.set_enable=function(_a){_a=nexacro._toBoolean(_a);if(this.enable!=_a){var _b=this._getWindow();var _c;if(!this._is_subcontrol&&!_a&&this._is_created&&this.parent){if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){var _d=this._getForm();var _e=this.tabstop;this.tabstop=false;_c=_d._searchNextTabFocus();this.tabstop=_e;}}var _f=this._control_element;this.enable=_a;var _g=(this.parent._real_enable&&_a);if(this._real_enable!=_g){nexacro._is_enable_setting=true;this._setEnable(_g);nexacro._is_enable_setting=false;var _h=this.parent;if(!this._is_subcontrol&&this._is_created&&_h&&_h._is_created){if(_g){if(_b&&_b._indexOfCurrentFocusPaths(_h)==_b._getCurrentFocusPathsLength()-1&&!_h._last_focused){this._on_focus(true);}}else{if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){_b._removeFromCurrentFocusPath(this,false);if(_c&&_c[0]){_c[0]._on_focus(true);}}}}}}};_pTabComponent.on_notify_spinup_onclick=function(_a,_b){this._spinup();};_pTabComponent.on_notify_spindown_onclick=function(_a,_b){this._spindown();};_pTabComponent.on_fire_onextrabuttonclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onextrabuttonclick&&this.onextrabuttonclick._has_handlers){var _o=new nexacro.TabMouseEventInfo(this,"onextrabuttonclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this,this);return this.onextrabuttonclick._fireEvent(this,_o);}return true;};_pTabComponent.getOwnerFrame=function(){return this.parent.getOwnerFrame();};_pTabComponent._created=function(){this._recalcLayout();};_pTabComponent._createSubComp=function(){this.spindownbutton=new nexacro.ButtonCtrl("spindownbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton=new nexacro.ButtonCtrl("spinupbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton.createComponent();this.spindownbutton.createComponent();this.spinupbutton.set_visible(false);this.spindownbutton.set_visible(false);this.spinupbutton._setEventHandler("onclick",this.on_notify_spinup_onclick,this);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindown_onclick,this);this._createTabBorder();};_pTabComponent._getTabPosition=function(){return this.tabposition.toString();};_pTabComponent._isMultiLine=function(){return this.multiline;};_pTabComponent._isTabButtonJustify=function(){return this.tabjustify;};_pTabComponent._isRotateText=function(){return this.rotatetext;};_pTabComponent._isUseCtrlKey=function(){return this.usecontrolkey;};_pTabComponent._isExtraButton=function(){return nexacro._toBoolean(this.currentstyle.showextrabutton?this.currentstyle.showextrabutton._value:"false");};_pTabComponent._ptInRect=function(_a,_b,_c){if(_a.left<=_b&&_a.right>=_b&&_a.top<=_c&&_a.bottom>=_c){return true;}return false;};_pTabComponent._GetTabIndex=function(_a,_b){var _c=[];var _d=[];_c[0]=_a;_c[1]=_b;var _e=this._child_list.length;if(_e<=0){return;}var _f,_g= -1;var _h=0,_i=0;var _j=this.on_find_CurrentStyle_buttonmargin(this._pseudo);if(_j){_h=_j.left;_i=_j.right;}var _k=this._client_width;var _l=this._client_height;var _m=_k-(Math.ceil(this._getToolBarSize())|0);var _n=_l-(Math.ceil(this._getToolBarSize())|0);if(!this._isTabButtonJustify()&&!this._isMultiLine()&&this._isSpinButtonVisible()){var _o=null;_o=this._getSpinSize();_m-=2*_o[0]+2;_n-=2*_o[1]+2;}switch(this._getTabPosition()){case "top":case "bottom":if(this._scrollIndex== -1){_d=_c;}else{_d[0]=_c[0]+this._buttonRect[this._scrollIndex].left-_h;_d[1]=_c[1];}for(_f=0;_f<_e;_f++ ){if(this._ptInRect(this._buttonRect[_f],_d[0],_d[1])){if(this._isMultiLine()){_g=_f;}else if(this._scrollIndex!= -1){if((this._buttonRect[_f].right-this._buttonRect[_f].left)<=_m){_g=_f;}}else{if(this._buttonRect[_f].right<=_k){_g=_f;}}break;}}break;case "left":case "right":if(this._scrollIndex== -1){_d=_c;}else{_d[0]=_c[0];_d[1]=_c[1]+this._buttonRect[this._scrollIndex].top;}for(_f=0;_f<_e;_f++ ){if(this._ptInRect(this._buttonRect[_f],_d[0],_d[1])){if(this._isMultiLine()){_g=_f;}else if(this._scrollIndex!= -1){if((this._buttonRect[_f].bottom-this._buttonRect[this._scrollIndex].top)<=_n){_g=_f;}}else{if(this._buttonRect[_f].bottom<=_l){_g=_f;}}break;}}break;}return _g;};_pTabComponent._rearrangeBorder=function(){if(this._buttonRect.length-1<this.tabindex){return;}var _a=this._tabBorders[0];var _b=this._tabBorders[1];var _c=this._tabBorders[2];if(!_a){return;}if(!_b){return;}_a._control_pseudo="";_b._control_pseudo="";_c._control_pseudo="";var _d= -1,_e= -1;var _f=this._tabButtons;for(var _t=0,_u=_f.length;_t<_u;_t++ ){if(_f[_t]&&_f[_t].visible){var _g=_f[_t];_g._setElementBorder(_g.getElement(),_g.currentstyle.border,_g.currentstyle.bordertype);if(_d== -1){_d=_t;_e=_t;continue;}_e=_t;}}if(_d== -1&&_e== -1){return;}var _h=this._getTabPosition();var _i;var _j=true;if(this.tabindex>=_d&&this.tabindex<=_e){_i=this._buttonRect[this.tabindex];}else{_i=this._buttonRect[_d];_j=false;}var _k="";var _l=this._buttonBorder;var _m=0;if(_l){_m=_l._top_width;}var _n=0;var _o=this.on_find_CurrentStyle_border(this._pseudo);var _p=0,_q=0,_r=0,_s=0;if(_o){_p=_o._left_width||_o._top_width;_q=_o._top_width;_r=_o._right_width||_o._top_width;_s=_o._bottom_width||_o._top_width;_a._pseudo=_b._pseudo=_c._pseudo=this._pseudo;_a._status=_b._status=_c._status=this._status;}switch(_h){case "top":if(!_j||_i.left<0||(_i.left+_m-_p)==0){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(0,_i.bottom,_i.left+_m,_q);if(_i.left<0||!_j){_b.move(0,_i.bottom,this._adjust_width-_r,_q);}else{_b.move(_i.right-_m,_i.bottom,this._adjust_width-_i.right,_q);}if(!_j){_c.set_visible(false);}else{_c.set_visible(true);}_c.move((_i.left+_m),_i.bottom,((_i.right-_m)-(_i.left+_m)),_q);break;case "bottom":if(nexacro.Browser=="Runtime"){_a.move(0,_i.top-_s,_i.left+_m+1,_s+1);_b.move(0,_i.top-_s+1,this._adjust_width-_r,_s);_c.move((_i.left+_m),(_i.top-_s),((_i.right-_m)-(_i.left+_m))+1,_s+1);}if(!_j||_i.left<0||(_i.left+_m-_p==0)){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(0,_i.top-_s,_i.left+_m,_s);if(_i.left<0||!_j){_b.move(0,_i.top-_s,this._adjust_width,_s);}else{_b.move(_i.right-_m,_i.top-_s,this._adjust_width,_s);}if(!_j){_c.set_visible(false);}else{_c.set_visible(true);}_c.move((_i.left+_m),(_i.top-_s),((_i.right-_m)-(_i.left+_m)),_s);break;case "left":if(!_j||_i.top<0){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(_i.right,0,_p,_i.top+_m);if(_i.top<0||!_j){_b.move(_i.right,_q,_p,this._adjust_height-_s);}else{_b.move(_i.right,_i.bottom-_m,_p,this._adjust_height-_i.bottom+_m);}if(!_j){_c.set_visible(false);}else{_c.set_visible(true);}_c.move(_i.right,(_i.top+_m),_p,((_i.bottom-_m)-(_i.top+_m)));break;case "right":if(nexacro.Browser=="Runtime"){_a.move(_i.left-_r,0,_r+1,_i.top+_m+1);_b.move(_i.left-_r+1,_q,_r,this._adjust_height-_s);_c.move((_i.left-_r),(_i.top+_m),_r+1,((_i.bottom-_m)-(_i.top+_m))+1);}if(!_j||_i.top<0){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(_i.left-_r,0,_r,_i.top+_m);if(_i.top<0||!_j){_b.move(_i.left-_r,_q,_r,this._adjust_height-_s);}else{_b.move(_i.left-_r,_i.bottom-_m,_r,this._adjust_height-_i.bottom+_m);}if(!_j){_c.set_visible(false);}else{_c.set_visible(true);}_c.move((_i.left-_r),(_i.top+_m),_r,((_i.bottom-_m)-(_i.top+_m)));break;}};_pTabComponent._rearrangeButton=function(){var _a=this._child_list.length;if(_a<=0){return;}if(this._buttonRect.length<=0){return;}switch(this._getTabPosition()){case "top":this._rearrangeTopButton();break;case "bottom":this._rearrangeBottomButton();break;case "left":this._rearrangeLeftButton();break;case "right":this._rearrangeRightButton();break;}this._resetTabPage();if(this.enable==false){if(this.spinupbutton){this.spinupbutton.set_enable(false);}if(this.spindownbutton){this.spindownbutton.set_enable(false);}}if(!this._bSpin){this._scrollIndex=0;if(this.spindownbutton){this.spindownbutton.set_visible(false);}if(this.spinupbutton){this.spinupbutton.set_visible(false);}}var _b=this.on_find_CurrentStyle_border(this._pseudo);if(_b&&_b._top_width!=0){this._rearrangeBorder();}var _c=this._buttonWidth;var _d=this._buttonRect;for(var _e=0;_e<_a;_e++ ){_c[_e]=_d[_e].right-_d[_e].left;}};_pTabComponent._resetTabPage=function(){var _a=this._child_list;var _b=_a?_a.length:0;if(_b<=0||this._tabButtons.length<=0){return;}for(var _e=0;_e<_b;_e++ ){var _c=_a[_e];var _d=this._tabButtons[_e];if(_c!=null){if(!_d){break;}if(this.enable){if(_c.enable){if(_e==this.tabindex){_c.set_visible(true);_d._stat_change("select","selected");}else{_c.set_visible(false);_d._status="notselect";if(_d._pseudo!="mouseover"){_d._pseudo="normal";}_d._stat_change(_d._status,_d._pseudo);}}else{if(_e==this.tabindex){_c.set_visible(true);}else{_c.set_visible(false);}_d._status="disable";_d._pseudo="disabled";_d._stat_change(_d._status,_d._pseudo);}}else{_d._status="disable";_d._pseudo="disabled";_d._stat_change(_d._status,_d._pseudo);}}}};_pTabComponent._getToolBarSize=function(){return 0;};_pTabComponent._rearrangeTopButton=function(){var _a=this._pseudo;var _b="",_c=0,_d=0;var _e=null;var _f=this.on_find_CurrentStyle_padding(_a);var _g=this._buttonBorder;var _h=_g?(_g._left_width+_g._right_width):0;var _i=this.on_find_CurrentStyle_buttonpadding("normal");var _j=_i?(_i.left+_i.right):0;var _k=this.on_find_CurrentStyle_bordertype(_a);_b=_k?_k.type:"";if(_k!=null&&_b=="round"){_c=_k.radiusx;_d=_k.radiusy;}var _l=this._adjust_width;var _m=this._adjust_height;var _n=this._child_list.length;var _o=0;var _p=_l-(Math.ceil(this._getToolBarSize())|0)-_c;var _q=0;var _r=0,_s=0,_t=0,_u=0;var _v=this.on_find_CurrentStyle_buttonmargin(_a);if(_v){_r=_v.left;_s=_v.right;_u=_v.bottom;_t=_v.top;}var _w=[],_x;for(var _bn=0;_bn<_n;_bn++ ){_x=this._getButtonSize(_bn);_w[_bn]=_x;_q=((_x.bottom-_x.top)>_q)?(_x.bottom-_x.top):_q;}_q+=_g?(_g._top_width+_g._bottom_width):0;var _y=this._buttonRect;var _z=this._isExtraButton();for(var _bn=0;_bn<_n;_bn++ ){_x=_w[_bn];var _aa=_y[_bn];if(!_aa){break;}_aa.left=_o+_r;_aa.bottom=_q;_aa.right=_aa.left+(_x.right-_x.left)+_h;_aa.top=_t;if(_z){_aa.right+=_q;}_o=_aa.right+_s;this._buttonRect[_bn]=_aa;this._buttonWidth[_bn]=_aa.right-_aa.left;}if((_o-_s)>=_p){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_n-1;var _ab=(_o/_p+1)|0;var _ac=(Math.ceil(_o/_ab)|0);var _ad=0;var _ae=0;var _af=0;for(var _bn=0;_bn<_ab;_bn++ ){while(_ad<_n){var _aa=_y[_ad];if(!_aa){break;}if(_aa.right>(_o/_ab)*(_bn+1)||_ad==_n-1){if(_ad==_n-1){_af=_ad;}else if(((_o/_ab)*(_bn+1)-_aa.left)<(_aa.right-(_o/_ab)*(_bn+1))){_af=Math.ceil(_ad-1)|0;}else{_af=_ad;}if(_af<0){_af=0;}var _ag=0;var _ah=0;var _ai=_y[_af].right-(_y[_ae]?_y[_ae].left:0);for(var _bo=_ae;_bo<=_af;_bo++ ){_aa=_y[_bo];if(!_aa){break;}_aa.right=Math.ceil(_ah+(_aa.right-_aa.left)*_p/_ai)|0;_aa.left=_ah;if(_aa.bottom>_ag){_ag=_aa.bottom;}_ah=_aa.right;}_y[_af].right=_p-1;for(var _bo=_ae;_bo<=_af;_bo++ ){_aa=_y[_bo];if(!_aa){break;}_aa.bottom=_ag;}for(var _bo=_af+1;_bo<_n;_bo++ ){_aa=_y[_bo];if(!_aa){break;}_aa.bottom=(_aa.bottom-_aa.top)+_ag;_aa.top=_ag;}_ae=_af+1;break;}_ad++ ;}}this._rollButtonUp();this._bSpin=false;}else{var _aj=this._getSpinSize();var _ak={left:0,top:0,right:0,bottom:0};_ak.left=_p-_aj[0]*2-2;var _al=this._scrollIndex;if(this._scrollIndex<0||this._scrollIndex>=this._child_list.length){_al=this._child_list.length-1;}var _am=_y[_al];if(!_am){return;}_ak.top=_am.bottom-_aj[1]-2;_ak.right=_p-_aj[0]-2;_ak.bottom=_am.bottom-2;if(this.spinupbutton){this.spinupbutton.move(_ak.left,_ak.top,_ak.right-_ak.left,_ak.bottom-_ak.top);this.spinupbutton.set_visible(true);if(this._scrollIndex<=0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}}_ak.left=_p-_aj[0];_ak.top=_y[_al].bottom-_aj[1]-2;_ak.right=_p;_ak.bottom=_y[_al].bottom-2;if(this.spindownbutton){var _an=this.spindownbutton.position;if(_an.left!=_ak.left||_an.right!=_ak.right||_an.top!=_ak.top||_an.bottom!=_ak.bottom){this.spindownbutton.move(_ak.left,_ak.top,_ak.right-_ak.left,_ak.bottom-_ak.top);}this.spindownbutton.set_visible(true);if(this._scrollIndex==_n-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._lastIndex=_n-1;if(this._isTabButtonJustify()){var _ao=0;var _ap=this._buttonWidth;var _aq=_ap?_ap.length:0;for(var _bn=0;_bn<_aq;_bn++ ){_ao+=_ap[_bn];}var _ah=0;for(var _bn=0;_bn<_n;_bn++ ){var _aa=_y[_bn];if(!_aa){break;}_aa.left=_ah;_ah=_aa.right=_aa.left+(Math.floor(_p*(this._buttonWidth[_bn]/_ao))|0);}if(_y&&_y.length>=_n){_y[_n-1].right=_p-1;}}this._bSpin=false;}var _ar=0;for(var _bn=0;_bn<_n;_bn++ ){var _aa=_y[_bn];if(!_aa){break;}if(_ar<_aa.bottom){_ar=_aa.bottom;}}var _as={left:0,top:_ar,right:_l,bottom:_m};var _at=null;var _au=this.on_find_CurrentStyle_border(_a);var _av=0,_aw=0,_ax=0,_ay=0;if(_au){_av=_au._left_width||_au._top_width;_aw=_au._top_width;_ax=_au._right_width||_au._top_width;_ay=_au._bottom_width||_au._top_width;}if(this._tabpagearea){var _az=this._tabpagearea.on_find_CurrentStyle_border(_a);this._tabpagearea.on_apply_style_border(_az);this._tabpagearea.move(_as.left,_as.top,_as.right-_as.left,_as.bottom-_as.top);}var _ba=this._child_list[0].on_find_CurrentStyle_margin(_a);var _bb=0,_bc=0,_bd=0,_be=0;if(_ba){_bb=_ba.left;_bc=_ba.top;_bd=_ba.right;_be=_ba.bottom;}_as=this._getTabpageClientRectBorder(_as,_au,_k,_f,"top");var _bf=_as.left+_av+_bb;var _bg=_as.top+_aw+_bc;var _bh=_as.right-_ax-_as.left-_av-_bd-_bb;var _bi=_as.bottom-_as.top-_ay-_aw-_be-_bc;var _bj=this._child_list;for(var _bn=0;_bn<_n;_bn++ ){var _bk=_bj[_bn];if(_bk!=null){var _bl=_bk._adjust_width;var _bm=_bk._adjust_height;if(_bk._adjust_left!=_bf||_bk._adjust_top!=_bg||_bk._getPosRight()!=_bh||_bk._getPosBottom()!=_bi){_bk.move(_bf,_bg,_bh,_bi);}else{_bk.move(_bf,_bg,_bl,_bm);}}}};_pTabComponent._drawButton=function(){if(this._buttonRect.length<=0){return;}switch(this._getTabPosition()){case "top":case "bottom":this._drawClientTopBottom();break;case "left":case "right":this._drawClientLeftRight();break;}};_pTabComponent._drawClientTopBottom=function(){var _a=this._child_list.length;if(_a<=0){return;}var _b=this._adjust_width;var _c=this._adjust_height;if(_b<=0||_c<=0){return;}if(this._scrollIndex<0){this._scrollIndex=0;}if(this._scrollIndex>=this._child_list.length){this._scrollIndex=this._child_list.length-1;}var _d=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _e=0,_f=0,_g=0,_h=0;if(_d!=null||_d!=undefined){_e=_d.left;_f=_d.right;_h=_d.top;_g=_d.bottom;}var _i=this._buttonRect[this._scrollIndex].left-_e;var _j=this._buttonRect;var _k=_j.length;for(var _u=0;_u<_k;_u++ ){if(this._scrollIndex!= -1){_j[_u].left-=_i;_j[_u].right-=_i;}}if(this._isMultiLine()||!this._bSpin){for(var _u=0;_u<_a;_u++ ){this._drawTabButton(_u);}}else{var _l=this.on_find_CurrentStyle_border(this._pseudo);var _m=0;if(_l){_m=_l._left_width||_l._top_width;}var _n=this._getSpinSize();var _o=_b-(Math.ceil(this._getToolBarSize())|0)-(_n[0]*2)-2;var _p=0,_q=0;this._lastIndex=_p=this._scrollIndex;for(var _u=_a-1;_u>=_p;_u-- ){if(!_j[_u]){break;}if((_j[_u].right-_j[this._scrollIndex].left+_m)<=_o){this._lastIndex=_q=_u;break;}else if(_u==this._scrollIndex){this._lastIndex=_q=_u;break;}}var _r=this._tabButtons;var _s=this._tabextrabuttons;var _t=this._isExtraButton();for(var _u=0;_u<_p;_u++ ){_r[_u].set_visible(false);if(_t&&_s[_u]){_s[_u].set_visible(false);}}for(var _u=_k-1;_u>_q;_u-- ){_r[_u].set_visible(false);if(_t&&_s[_u]){_s[_u].set_visible(false);}}for(var _u=_q;_u>=_p;_u-- ){_r[_u].set_visible(true);if(_t&&_s[_u]){_s[_u].set_visible(true);}this._drawTabButton(_u);}this._rearrangeBorder();if(_q==_a-1&&this.spindownbutton.enable){this.spindownbutton.set_enable(false);}if(_p==0&&this.spinupbutton.enable){this.spinupbutton.set_enable(false);}}};_pTabComponent._drawClientLeftRight=function(){var _a=this._child_list.length;if(_a<=0){return;}var _b=this._adjust_height;if(_b<=0){return;}if(this._scrollIndex<0){this._scrollIndex=0;}if(this._scrollIndex>=this._child_list.length){this._scrollIndex=this._child_list.length-1;}var _c=this._buttonRect;var _d=_c[this._scrollIndex].top;var _e=_c.length;for(var _o=0;_o<_e;_o++ ){if(this._scrollIndex!= -1){_c[_o].top-=_d;_c[_o].bottom-=_d;}}if(this._isMultiLine()||!this._bSpin){for(var _o=_a-1;_o>=0;_o-- ){if(_o!=this.tabindex){this._drawTabButton(_o);}}this._drawTabButton(this.tabindex);}else{var _f=this.on_find_CurrentStyle_border(this._pseudo);var _g=0;if(_f){_g=_f._top_width;}var _h=this._getSpinSize();var _i=_b-(Math.ceil(this._getToolBarSize())|0)-(_h[1]*2)-2;var _j=0,_k=0;this._lastIndex=_j=this._scrollIndex;for(var _o=_a-1;_o>=_j;_o-- ){if(!_c[_o]){break;}if((_c[_o].bottom-_c[this._scrollIndex].top+_g)<=_i){this._lastIndex=_k=_o;break;}else if(_o==this._scrollIndex){this._lastIndex=_k=_o;break;}}var _l=this._tabButtons;var _m=this._tabextrabuttons;var _n=this._isExtraButton();for(var _o=0;_o<_e;_o++ ){_l[_o].set_visible(false);if(_n&&_m[_o]){_m[_o].set_visible(false);}}for(var _o=_k;_o>=_j;_o-- ){_l[_o].set_visible(true);if(_n&&_m[_o]){_m[_o].set_visible(true);}this._drawTabButton(_o);}this._rearrangeBorder();if(_k==_a-1&&this.spindownbutton.enable){this.spindownbutton.set_enable(false);}if(_j==0&&this.spinupbutton.enable){this.spinupbutton.set_enable(false);}}};_pTabComponent._drawTabButton=function(_a){var _b=this._buttonRect[_a];if(!_b){return;}if(_b.bottom>0){if(_a<0||_a>=this._child_list.length){return;}var _c=null;var _d=this._tabButtons[_a];if(_d!=null){_c=this._getExtraButtonArea(_b);var _e=this._isExtraButton();if(_e){this._drawExtraButton(_c,_a,true);}var _f=nexacro._getCachedAlignObj("center middle");_d.on_apply_style_align(_f);if(_d.left!=_b.left||_d.top!=_b.top||_d.right!=_b.right||_d.bottom!=_b.bottom){_d.move(_b.left,_b.top,_b.right-_b.left,_b.bottom-_b.top);}if(_e){var _g=this._tabextrabuttons?(this._tabextrabuttons[_a]?this._tabextrabuttons[_a].width:20):20;var _h=Math.ceil(_b.right-_g)|0;var _i=_d._text_elem;if(_i){var _j=this.on_find_CurrentStyle_buttonpadding(_d._pseudo);var _k=_j?(_j.left+_j.right):0;var _l=_j?(_j.top+_j.bottom):0;_i.setElementSize(_h-_b.left-_k,_i.height);}}if(!_d.visible){_d.set_visible(true);}}}};_pTabComponent._drawExtraButton=function(_a,_b,_c){if(this._tabextrabuttons[_b]){var _d=_a.right-_a.left;var _e=_a.bottom-_a.top;var _f=12;var _g=12;var _h=Math.ceil(_g/2)|0;var _i=Math.ceil(_e/2)|0;if(_d<=0||_e<=0){return;}var _j=this._tabButtons[_b];var _k=0;if(_j&&(_j._pseudo==_j.parent._contents_pseudo)){var _l=this.on_find_CurrentStyle_buttonborder(_j._pseudo);if(_l&&(parseInt(_l.width)>parseInt(this._buttonBorder.width))){_k=parseInt(_l.width)/2;}}var _m=this._tabextrabuttons[_b];_m.set_visible(_c);if(_c){_m.move(_a.left-_k,_a.top+_i-_h+_k,_a.right-_a.left,_h*2);}}};_pTabComponent._getClientRectPadding=function(_a,_b){var _c=_a;switch(this._getTabPosition()){case "top":case "bottom":_c.right+=_b.left+_b.right;_c.bottom+=_b.top+_b.bottom;break;case "right":case "left":_c.right+=_b.left+_b.right;_c.bottom+=_b.top+_b.bottom;break;}return _c;};_pTabComponent._getExtraButtonArea=function(_a){var _b={left:0,top:0,right:0,bottom:0};var _c=_a.right-_a.left;var _d=_a.bottom-_a.top;var _e=this.on_find_CurrentStyle_margin(this._pseudo);var _f=0,_g=0,_h=0,_i=0;if(_e){_f=_e.left;_g=_e.right;_h=_e.top;_i=_e.bottom;}switch(this._getTabPosition()){case "top":case "bottom":_b.top=_a.top+_h;_b.bottom=_a.bottom-_i;_b.left=_a.right-_d+_f;_b.right=_a.right-_g;break;case "left":if(this._isRotateText()){_b.left=_a.left+_f;_b.right=_a.right-_g;_b.top=_a.top+_h;_b.bottom=_a.top+_c-_i;}else{_b.top=_a.top+_h;_b.bottom=_a.bottom-_i;_b.left=_a.right-_d+_f;_b.right=_a.right-_g;}break;case "right":if(this._isRotateText()){_b.left=_a.left+_f;_b.right=_a.right-_g;_b.bottom=_a.bottom-_i;_b.top=_a.bottom-_c+_h;}else{_b.top=_a.top+_h;_b.bottom=_a.bottom-_i;_b.left=_a.right-_d+_f;_b.right=_a.right-_g;}break;}return _b;};_pTabComponent._rearrangeBottomButton=function(){var _a=this._pseudo;var _b=this.on_find_CurrentStyle_border(_a);var _c=this.on_find_CurrentStyle_bordertype(_a);var _d=this.on_find_CurrentStyle_padding(_a);var _e=this._buttonBorder;var _f=_e?_e._top_width:0;var _g=this.on_find_CurrentStyle_buttonpadding("normal");var _h=_g?(_g.left+_g.right):0;var _i=this.on_find_CurrentStyle_buttonmargin(_a);var _j=0,_k=0,_l=0,_m=0;if(_i){_m=_i.left;_j=_i.top;_k=_i.right;_l=_i.bottom;}var _n=0;var _o=0,_p=0,_q=0,_r=0;if(_b){_o=_b._left_width||_b._top_width;_p=_b._top_width;_q=_b._right_width||_b._top_width;_r=_b._bottom_width||_b._top_width;}var _s=0,_t=0;if(this.bordertype&&this.bordertype.type=="round"){_s=this.bordertype.radiusx;_t=this.bordertype.radiusy;}var _u=this._adjust_width;var _v=this._adjust_height;var _w=this._child_list.length;var _x=0;var _y=_u-(Math.ceil(this._getToolBarSize())|0)-_s;var _z=0;var _aa=[],_ab;for(var _bm=0;_bm<_w;_bm++ ){_ab=this._getButtonSize(_bm);_aa[_bm]=_ab;_z=((_ab.bottom-_ab.top)>_z)?(_ab.bottom-_ab.top):_z;}_z+=_e?(_e._top_width+_e._bottom_width):0;var _ac=this._buttonRect;var _ad=this._isExtraButton();for(var _bm=0;_bm<_w;_bm++ ){_ab=_aa[_bm];var _ae=_ac[_bm];if(!_ae){break;}_ae.left=_x+_m;_ae.bottom=_v;_ae.right=_ae.left+(_ab.right-_ab.left)+(_f+_f);_ae.top=_ae.bottom-_z;if(_ad){_ae.right+=_z;}_x=_ae.right+_k;this._buttonRect[_bm]=_ae;this._buttonWidth[_bm]=_ae.right-_ae.left;}if((_x-_k)>=_y){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_w-1;var _af=(_x/_y+1)|0;var _ag=Math.ceil(_x/_af)|0;var _ah=0;var _ai=0;var _aj=0;for(var _bm=0;_bm<_af;_bm++ ){while(_ah<_w){var _ae=_ac[_ah];if(!_ae){break;}if(_ae.right>Math.ceil(_x/_af)*(_bm+1)||_ah==_w-1){if(_ah==_w-1){_aj=_ah;}else if(((_x/_af)*(_bm+1)-_ae.left)<(_ae.right-(_x/_af)*(_bm+1))){_aj=_ah-1;}else{_aj=_ah;}var _ak=_v;var _al=0;var _am=_ac[_aj].right-_ac[_ai].left;for(var _bn=_ai;_bn<=_aj;_bn++ ){_ae=_ac[_bn];if(!_ae){break;}_ae.right=Math.ceil(_al+(_ae.right-_ae.left)*_y/_am)|0;_ae.left=_al;if(_ae.top<_ak){_ak=_ae.top;}_al=_ae.right;}_ac[_aj].right=_y-1;for(var _bn=_ai;_bn<=_aj;_bn++ ){_ae=_ac[_bn];if(!_ae){break;}_ae.top=_ak;}for(var _bn=_aj+1;_bn<_w;_bn++ ){_ae=_ac[_bn];if(!_ae){break;}_ae.top=_ak-(_ae.bottom-_ae.top);_ae.bottom=_ak;}_ai=_aj+1;break;}_ah++ ;}}this._rollButtonUp();this._bSpin=false;}else{var _an;_an=this._getSpinSize();var _ao=_u-(Math.ceil(this._getToolBarSize())|0)-(_an[0]*2)-2;var _ap=this.tabindex;var _aq=this._scrollIndex;if(this._scrollIndex<0||this._scrollIndex>=this._child_list.length){_aq=this._child_list.length-1;}var _ar=_ac[_aq];if(!_ar){return;}var _as={left:0,top:0,right:0,bottom:0};_as.left=_y-_an[0]*2-2;_as.top=_ar.top+2;_as.right=_y-_an[0]-2;_as.bottom=_ar.top+_an[1]+2;this.spinupbutton.move(_as.left,_as.top,_as.right-_as.left,_as.bottom-_as.top);this.spinupbutton.set_visible(true);if(this._scrollIndex==0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}_as.left=_y-_an[0];_as.top=_ac[_aq].top+2;_as.right=_y;_as.bottom=_ac[_aq].top+_an[1]+2;var _at=this.spindownbutton.position;if(_at.left!=_as.left||_at.right!=_as.right||_at.top!=_as.top||_at.bottom!=_as.bottom){this.spindownbutton.move(_as.left,_as.top,_as.right-_as.left,_as.bottom-_as.top);this.spindownbutton.set_visible(true);if(this._scrollIndex==_w-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._scrollIndex= -1;this._lastIndex=_w-1;if(this._isTabButtonJustify()){var _au=0;var _av=this._buttonWidth;var _aw=_av?_av.length:0;for(var _bm=0;_bm<_aw;_bm++ ){_au+=_av[_bm];}var _al=0;for(var _bm=0;_bm<_w;_bm++ ){var _ae=_ac[_bm];if(!_ae){break;}_ae.left=_al+_m;_al=_ae.right=_ae.left+_k+(Math.floor(_y*(this._buttonWidth[_bm]/_au))|0);}if(_ac&&_ac.length>=_w){_ac[_w-1].right=_y-1;}}this._bSpin=false;}var _ax=_v;for(var _bm=0;_bm<_w;_bm++ ){var _ae=_ac[_bm];if(!_ae){break;}if(_ax>_ae.top){_ax=_ae.top;}}var _ay={left:0,top:0,right:_u,bottom:_ax};var _az=null;if(this._tabpagearea){var _ba=this._tabpagearea.on_find_CurrentStyle_border(this._pseudo);this._tabpagearea.on_apply_style_border(_ba);this._tabpagearea.move(_ay.left,_ay.top,_ay.right-_ay.left,_ay.bottom-_ay.top);}var _bb=this._child_list[0].on_find_CurrentStyle_margin(_a);var _bc=0,_bd=0,_be=0,_bf=0;if(_bb){_bc=_bb.left;_bd=_bb.top;_be=_bb.right;_bf=_bb.bottom;}_ay=this._getTabpageClientRectBorder(_ay,_b,_c,_d,"bottom");var _bg=_ay.left+_o+_bc;var _bh=_ay.top+_p+_bd;var _bi=_ay.right-_q-_ay.left-_o-_be-_bc;var _bj=_ay.bottom-_ay.top-_r-_p-_bf-_bd;if(_bj<0){_bj=0;}var _bk=this._child_list;for(var _bm=0;_bm<_w;_bm++ ){var _bl=_bk[_bm];if(_bl!=null){_bl.move(_bg,_bh,_bi,_bj);}}};_pTabComponent._getSpinSize=function(){var _a=[];_a[0]=14;_a[1]=14;return _a;};_pTabComponent._rearrangeLeftButton=function(){var _a="",_b=0,_c=0;var _d=this._pseudo;var _e=this.on_find_CurrentStyle_border(_d);var _f=this.on_find_CurrentStyle_bordertype(_d);var _g=this.on_find_CurrentStyle_padding(_d);var _h=this._buttonBorder;var _i=this.on_find_CurrentStyle_buttonmargin(_d);var _j=_h?(_h._top_width+_h._bottom_width):0;var _k=this.on_find_CurrentStyle_buttonpadding("normal");var _l=_k?(_k.left+_k.right):0;var _m=0,_n=0,_o=0,_p=0;if(_i){_p=_i.left;_m=_i.top;_n=_i.right;_o=_i.bottom;}var _b=0,_c=0;if(this.bordertype!=null&&this.bordertype.type=="round"){_b=this.bordertype.radiusx;_c=this.bordertype.radiusy;}var _q=this._adjust_width;var _r=this._adjust_height;var _s=this._child_list.length;var _t=0;var _u=0,_v=_r-(Math.ceil(this._getToolBarSize())|0)-_c;var _w=0;var _x,_y;var _z=[];var _aa=null;for(var _bp=0;_bp<_s;_bp++ ){_aa=this._getButtonSize(_bp);_z[_bp]=_aa;if(this._isRotateText()){_x=_aa.right-_aa.left;_y=_aa.bottom-_aa.top;_aa.left=_aa.right-_y;_aa.bottom=_aa.top+_x;}_u=((_aa.right-_aa.left)>_u)?(_aa.right-_aa.left):_u;}var _ab=0,_ac=0;var _ad=this._buttonRect;var _ae=this._isExtraButton();for(var _bp=0;_bp<_s;_bp++ ){var _af=_ad[_bp];if(!_af){break;}_aa=_z[_bp];_af.left=_p;_af.top=_t+_m;_af.bottom=_af.top+(_aa.bottom-_aa.top)+_j;_af.right=_af.left+_u;if(_ae){if(this._isRotateText()){if(_ab<_aa.right-_aa.left){_ab=_aa.right-_aa.left;_t=0;_bp= -1;continue;}_af.bottom+=_ab;}else{if(_ac<_aa.bottom-_aa.top){_ac=_aa.bottom-_aa.top;_t=0;_bp= -1;continue;}_af.right+=_ac;}}_w=((_af.right-_af.left)>_w)?(_af.right-_af.left):_w;_t=_af.bottom+_o;}if((_t-_o)>=_v){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_s-1;var _ag=(_t/_v+1)|0;var _ah=Math.ceil(_t/_ag)|0;var _ai=0;var _aj=0;var _ak=0;for(var _bp=0;_bp<_ag;_bp++ ){while(_ai<_s){var _af=_ad[_ai];if(!_af){break;}if(_af.bottom>Math.ceil(_t/_ag)*(_bp+1)||_ai==_s-1){if(_ai==_s-1){_ak=_ai;}else if(((_t/_ag)*(_bp+1)-_af.top)<(_af.bottom-(_t/_ag)*(_bp+1))){_ak=_ai-1;}else{_ak=_ai;}var _al=0;var _am=0;var _an=_ad[_ak].bottom-_ad[_aj].top;for(var _bq=_aj;_bq<=_ak;_bq++ ){_af=_ad[_bq];if(!_af){break;}_af.bottom=Math.ceil(_am+(_af.bottom-_af.top)*_v/_an)|0;_af.top=_am;if(_af.right>_al){_al=_af.right;}_am=_af.bottom;}_ad[_ak].bottom=_v-1;for(var _bq=_aj;_bq<=_ak;_bq++ ){_af=_ad[_bq];if(!_af){break;}_af.right=_al;}for(var _bq=_ak+1;_bq<_s;_bq++ ){_af=_ad[_bq];if(!_af){break;}_af.right=(_af.right-_af.left)+_al;_af.left=_al;}_aj=_ak+1;break;}_ai++ ;}}this._rollButtonUp();this._bSpin=false;}else{var _ao=this._getSpinSize();var _ap=this._scrollIndex;if(this._scrollIndex<0||this._scrollIndex>=this._child_list.length){_ap=this._child_list.length-1;}var _aq=_r-(Math.ceil(this._getToolBarSize())|0)-(_ao[1]*2)-2;var _ar={left:0,top:0,right:0,bottom:0};_ar.left=_ad[_ap].right-_ao[0]-2;_ar.top=_v-_ao[1]*2-2;_ar.right=_ad[_ap].right-2;_ar.bottom=_v-_ao[1]-2;if(this.spinupbutton){this.spinupbutton.move(_ar.left,_ar.top,_ar.right-_ar.left,_ar.bottom-_ar.top);this.spinupbutton.set_visible(true);if(this._scrollIndex<=0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}}_ar.left=_ad[_ap].right-_ao[0]-2;_ar.top=_v-_ao[1];_ar.right=_ad[_ap].right-2;_ar.bottom=_v;var _as=this.spindownbutton;var _at=_as._adjust_left+_as._adjust_width;var _au=_as._adjust_top+_as._adjust_height;if(this.spindownbutton){this.spindownbutton.move(_ar.left,_ar.top,_ar.right-_ar.left,_ar.bottom-_ar.top);this.spindownbutton.set_visible(true);if(this._scrollIndex==_s-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._lastIndex=_s-1;if(this._isTabButtonJustify()){var _am=0;for(var _bp=0;_bp<_s;_bp++ ){var _af=_ad[_bp];if(!_af){break;}_ac=_af.bottom-_af.top;_af.top=_am;_am=_af.bottom=(Math.floor(_af.bottom*_v/_t)|0);if(_ac<(_af.bottom-_af.top)){_af.right=_af.right-_ac+(_af.bottom-_af.top);}}if(_ad&&_ad.length>=_s){_ad[_s-1].bottom=_v-1;}}this._bSpin=false;}var _av=0;for(var _bp=0;_bp<_s;_bp++ ){var _af=_ad[_bp];if(!_af){break;}if(_av<_af.right){_av=_af.right;}}var _aw=0,_ax=0,_ay=0,_az=0;if(_e){_aw=_e._left_width||_e._top_width;_ax=_e._top_width;_ay=_e._right_width||_e._top_width;_az=_e._bottom_width||_e._top_width;}var _ba={left:_av,top:0,right:_q,bottom:_r};if(this._tabpagearea){var _bb=this._tabpagearea.on_find_CurrentStyle_border(this._pseudo);this._tabpagearea.on_apply_style_border(_bb);this._tabpagearea.move(_ba.left,_ba.top,_ba.right-_ba.left,_ba.bottom-_ba.top);}var _bc=this._child_list[0].on_find_CurrentStyle_margin(_d);var _bd=0,_be=0,_bf=0,_bg=0;if(_bc){_bd=_bc.left;_be=_bc.top;_bf=_bc.right;_bg=_bc.bottom;}_ba=this._getTabpageClientRectBorder(_ba,_h,_f,_g,"left");var _bh=_ba.left+_aw+_bd;var _bi=_ba.top+_ax+_be;var _bj=_ba.right-_ay-_ba.left-_aw-_bf-_bd;var _bk=_ba.bottom-_ba.top-_az-_ax-_bg-_be;var _bl=this._child_list;for(var _bp=0;_bp<_s;_bp++ ){var _bm=_bl[_bp];if(_bm!=null){var _bn=_bm._adjust_width;var _bo=_bm._adjust_height;if(_bm._adjust_left!=_bh||_bm._adjust_top!=_bi||_bm._getPosRight()!=_bj||_bm._getPosBottom()!=_bk){_bm.move(_bh,_bi,_bj,_bk);}else{_bm.move(_bh,_bi,_bn,_bo);}}}};_pTabComponent._rearrangeRightButton=function(){var _a=this._child_list.length;var _b=this._pseudo;var _c=this.on_find_CurrentStyle_border(_b);var _d=this.on_find_CurrentStyle_bordertype(_b);var _e=this.on_find_CurrentStyle_padding(_b);var _f=this._buttonBorder;var _g=this.on_find_CurrentStyle_buttonmargin(_b);var _h=null;var _i=0,_j=0,_k=0,_l=0;if(_g!=null){_l=_g.left;_i=_g.top;_j=_g.right;_k=_g.bottom;}var _m=0,_n=0;if(_d!=null&&_d.type=="round"){_m=_d.radiusx;_n=_d.radiusy;}var _o=0;if(_f){_o=_f._top_width+_f._bottom_width;}var _p=0,_q=0,_r=0,_s=0;if(_c){_p=_c._left_width||_c._top_width;_q=_c._top_width;_r=_c._right_width||_c._top_width;_s=_c._bottom_width||_c._top_width;}var _t=this._adjust_width;var _u=this._adjust_height;var _v=0;var _w=0,_x=_u-(Math.ceil(this._getToolBarSize())|0)-_n;var _y=0;var _z,_aa;var _ab=[];for(var _bk=0;_bk<_a;_bk++ ){_h=this._getButtonSize(_bk);_ab[_bk]=_h;if(this._isRotateText()){_z=_h.right-_h.left;_aa=_h.bottom-_h.top;_h.right=_h.left+_aa;_h.bottom=_h.top+_z;}_w=((_h.right-_h.left)>_w)?(_h.right-_h.left):_w;}var _ac=this._buttonRect;var _ad=this._isExtraButton();for(var _bk=0;_bk<_a;_bk++ ){var _ae=_ac[_bk];if(!_ae){break;}_h=_ab[_bk];_ae.right=_t-_j;_ae.left=_ae.right-(_h.right-_h.left);_ae.top=_v+_i;_ae.bottom=_ae.top+(_h.bottom-_h.top)+_o;if(_ad){if(this._isRotateText()){_ae.bottom+=(_h.right-_h.left);}else{_ae.left-=(_h.bottom-_h.top);}}_y=((_ae.right-_ae.left)>_y)?(_ae.right-_ae.left):_y;_v=_ae.bottom+_k;}for(var _bk=0;_bk<_a;_bk++ ){var _ae=_ac[_bk];if(!_ae){break;}_ae.left=_ae.right-_y;}if((_v-_k)>=_x){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_a-1;var _af=(_v/_x+1)|0;var _ag=Math.ceil(_v/_af)|0;var _ah=0;var _ai=0;var _aj=0;for(var _bk=0;_bk<_af;_bk++ ){while(_ah<_a){var _ae=_ac[_ah];if(!_ae){break;}if(_ae.bottom>(_v/_af)*(_bk+1)||_ah==_a-1){if(_ah==_a-1){_aj=_ah;}else if(((_v/_af)*(_bk+1)-_ae.top)<(_ae.bottom-(_v/_af)*(_bk+1))){_aj=_ah-1;}else{_aj=_ah;}var _ak=_t;var _al=0;var _am=_ac[_aj].bottom-_ac[_ai].top;for(var _bl=_ai;_bl<=_aj;_bl++ ){_ae=_ac[_bl];if(!_ae){break;}_ae.bottom=Math.ceil(_al+(_ae.bottom-_ae.top)*_x/_am)|0;_ae.top=_al;if(_ae.left<_ak){_ak=_ae.left;}_al=_ae.bottom;}_ac[_aj].bottom=_x-1;for(var _bl=_ai;_bl<=_aj;_bl++ ){_ae=_ac[_bl];if(!_ae){break;}_ae.left=_ak;}for(var _bl=_aj+1;_bl<_a;_bl++ ){_ae=_ac[_bl];if(!_ae){break;}_ae.left=_ak-(_ae.right-_ae.left);_ae.right=_ak;}_ai=_aj+1;break;}_ah++ ;}}this._rollButtonUp();this._bSpin=false;}else{var _an=this._getSpinSize();var _ao=_u-(Math.ceil(this._getToolBarSize())|0)-(_an[1]*2)-2;var _ap={left:0,top:0,right:0,bottom:0};var _aq=this._scrollIndex;if(this._scrollIndex<0||this._scrollIndex>=this._child_list.length){_aq=this._child_list.length-1;}_ap.left=_ac[_aq].left+2;_ap.top=_x-_an[1]*2-2;_ap.right=_ac[_aq].left+_an[0]+2;_ap.bottom=_x-_an[1]-2;if(this.spinupbutton){this.spinupbutton.move(_ap.left,_ap.top,_ap.right-_ap.left,_ap.bottom-_ap.top);this.spinupbutton.set_visible(true);if(this._scrollIndex<=0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}}_ap.left=_ac[_aq].left+2;_ap.top=_x-_an[1];_ap.right=_ac[_aq].left+_an[0]+2;_ap.bottom=_x;var _ar=this.spindownbutton;var _as=_ar._adjust_left+_ar._adjust_width;var _at=_ar._adjust_top+_ar._adjust_height;if(this.spindownbutton){this.spindownbutton.move(_ap.left,_ap.top,_ap.right-_ap.left,_ap.bottom-_ap.top);this.spindownbutton.set_visible(true);if(this._scrollIndex==_a-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._lastIndex=_a-1;if(this._isTabButtonJustify()){var _al=0;for(var _bk=0;_bk<_a;_bk++ ){var _ae=_ac[_bk];if(!_ae){break;}max_txt_height=_ae.bottom-_ae.top;_ae.top=_al;_al=_ae.bottom=(Math.floor(_ae.bottom*_x/_v)|0);if(max_txt_height<=(_ae.bottom-_ae.top)){_ae.left=_ae.left-(_ae.bottom-_ae.top-max_txt_height);}}if(_ac&&_ac.length>=_a){_ac[_a-1].bottom=_x-1;}}this._bSpin=false;}var _au=_t;for(var _bk=0;_bk<_a;_bk++ ){_ae=_ac[_bk];if(!_ae){break;}if(_au>_ae.left){_au=_ae.left;}}var _p=0,_q=0,_r=0,_s=0;if(_c){_p=_c._left_width||_c._top_width;_q=_c._top_width;_r=_c._right_width||_c._top_width;_s=_c._bottom_width||_c._top_width;}var _av={left:0,top:0,right:_au,bottom:_u};if(this._tabpagearea){var _aw=this._tabpagearea.on_find_CurrentStyle_border(this._pseudo);this._tabpagearea.on_apply_style_border(_aw);this._tabpagearea.move(0,_av.top,_av.right,_av.bottom-_av.top);}var _ax=this._child_list[0].on_find_CurrentStyle_margin(_b);var _ay=0,_az=0,_ba=0,_bb=0;if(_ax){_ay=_ax.left;_az=_ax.top;_ba=_ax.right;_bb=_ax.bottom;}_av=this._getTabpageClientRectBorder(_av,_f,_d,_e,"right");var _bc=_av.left+_p+_ay;var _bd=_av.top+_q+_az;var _be=_av.right-_r-_av.left-_p-_ba-_ay;var _bf=_av.bottom-_av.top-_s-_q-_bb-_az;var _bg=this._child_list;for(var _bk=0;_bk<_a;_bk++ ){var _bh=_bg[_bk];if(_bh!=null){var _bi=_bh._adjust_width;var _bj=_bh._adjust_height;if(_bh._adjust_left!=_bc||_bh._adjust_top!=_bd||_bh._getPosRight()!=_be||_bh._getPosBottom()!=_bf){_bh.move(_bc,_bd,_be,_bf);}else{_bh.move(_bc,_bd,_bi,_bj);}}}};_pTabComponent._getTabpageClientRectBorder=function(_a,_b,_c,_d,_e){if(_d!=null){_a.left+=Math.ceil(_d.left)|0;_a.top+=Math.ceil(_d.top)|0;_a.right-=Math.ceil(_d.right)|0;_a.bottom-=Math.ceil(_d.bottom)|0;}return _a;};_pTabComponent._setScrollIndex=function(_a){var _b=this._child_list;if(_a<0||_a>=_b.length){return;}this._scrollIndex=_a;if(this.spinupbutton!=null&&this.spindownbutton!=null){this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());}};_pTabComponent._changeScrollIndex=function(_a){this._resetScrollIndex(_a);if(this.spinupbutton!=null&&this.spindownbutton!=null){this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());}};_pTabComponent._setScrollIndexByObj=function(_a){var _b=this._child_list;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c==_a){if(_d<this._scrollIndex||_d>this._lastIndex){this._scrollIndex=_d;if(this.spinupbutton!=null&&this.spindownbutton!=null){this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());}}}}};_pTabComponent._getButtonSize=function(_a){var _b=this._pseudo;var _c=this.on_find_CurrentStyle_buttonpadding("normal");var _d=this._buttonBorder=this.on_find_CurrentStyle_buttonborder("normal");var _e=this.on_find_CurrentStyle_buttonbackground(_b);var _f=this.on_find_CurrentStyle_buttonmargin(_b);var _g={left:0,top:0,right:0,bottom:0};var _h=this._child_list[_a].text.toString();var _i=this.on_find_CurrentStyle_font("normal");if(_a==this.tabindex){var _j=this._tabButtons[_a];if(_j!=null&&(_j._pseudo=="focused"||_j._pseudo=="selected")){_i=this.on_find_CurrentStyle_font("selected");}}var _k=0,_l=0,_m=0,_n=0;if(_c){_k=_c.left;_l=_c.right;_m=_c.top;_n=_c.bottom;}var _o=0;if(_d){_o=_d._top_width;}if(_i){var _p=false;if(_h){var _q=_h.search("\n");}_p=(_q== -1)?false:true;var _r=this.on_find_CurrentStyle_letterspace(this._pseudo);var _s=nexacro._getTextSize2(_r,_h,_i,_p,null,null,this._rtldirection);if(_e&&(_e.repeat=="stretch"||_e.repeat=="quad")){var _t=(Math.ceil(_s[1])|0)+_m+_n;if(this._imageheight==0){_g.right=(Math.ceil(_s[0])|0)+_k+_l;_g.bottom=_t;}else{_g.right=(Math.ceil(_s[0])|0)+_k+_l;if(_t<this._imageheight){_g.bottom=this._imageheight;}else{_g.bottom=_t;}}}else{_g.right=(Math.ceil(_s[0])|0)+_k+_l+_o*2;_g.bottom=(Math.ceil(_s[1])|0)+_m+_n;}return _g;}};_pTabComponent._rollButtonUp=function(){var _a=this._child_list.length;if(_a<=0||this.tabindex<0){return;}var _b;var _c=this._client_width;var _d=this._client_height;var _e= -1;var _f=0;var _g=this._buttonRect;var _h=this._getTabPosition();if(_h=="top"){for(var _v=1;_v<_a;_v++ ){_f=(_v+this.tabindex)%_a;var _i=_g[_f];if(!_i){break;}if(_i.bottom<_g[this.tabindex].bottom){return;}else if(_i.bottom>_g[this.tabindex].bottom){_e=(_v+this.tabindex)%_a;break;}}if(_e== -1){return;}var _j=_g[_e].top;var _k=0,_l=0;for(var _v=0;_v<_a;_v++ ){_f=(_v+_e)%_a;var _i=_g[_f];if(!_i){break;}if(_i.top!=_j){_l=_k;_j=_i.top;_k=0;}_i.bottom=_l+(_i.bottom-_i.top);_i.top=_l;if(_i.bottom>_k){_k=_i.bottom;}}}else if(_h=="bottom"){for(var _v=1;_v<_a;_v++ ){_f=(_v+this.tabindex)%_a;var _i=_g[_f];if(!_i){break;}if(_i.bottom>_g[this.tabindex].bottom){return;}else if(_i.bottom<_g[this.tabindex].bottom){_e=(_v+this.tabindex)%_a;break;}}if(_e== -1){return;}var _m=_g[_e].bottom;var _n=_d;var _o=_d;for(var _v=0;_v<_a;_v++ ){_f=(_v+_e)%_a;var _i=_g[_f];if(!_i){break;}if(_i.bottom!=_m){_o=_n;_m=_i.bottom;_n=_d;}_i.top=_o-(_i.bottom-_i.top);_i.bottom=_o;if(_i.top<_n){_n=_i.top;}}}else if(_h=="left"){for(var _v=1;_v<_a;_v++ ){_f=(_v+this.tabindex)%_a;var _i=_g[_f];if(!_i){break;}if(_i.right<_g[this.tabindex].right){return;}else if(_i.right>_g[this.tabindex].right){_e=(_v+this.tabindex)%_a;break;}}if(_e== -1){return;}var _p=_g[_e].left;var _q=0;var _r=0;for(var _v=0;_v<_a;_v++ ){_f=(_v+_e)%_a;var _i=_g[_f];if(!_i){break;}if(_i.left!=_p){_r=_q;_p=_i.left;_q=0;}_i.right=_r+(_i.right-_i.left);_i.left=_r;if(_i.right>_q){_q=_i.right;}}}else if(_h=="right"){for(var _v=1;_v<_a;_v++ ){_f=(_v+this.tabindex)%_a;var _i=_g[_f];if(!_i){break;}if(_i.right>_g[this.tabindex].right){return;}else if(_i.right<_g[this.tabindex].right){_e=(_v+this.tabindex)%_a;break;}}if(_e== -1){return;}var _s=_g[_e].right;var _t=_c;var _u=_c;for(var _v=0;_v<_a;_v++ ){_f=(_v+_e)%_a;var _i=_g[_f];if(!_i){break;}if(_i.right!=_s){_u=_t;_s=_i.right;_t=_c;}_i.left=_u-(_i.right-_i.left);_i.right=_u;if(_i.left<_t){_t=_i.left;}}}};_pTabComponent._set_child_focus=function(){var _a=this.tabindex;var _b=this._child_list;if(_b&&_b.length>0){var _c=_b[_a]._getSortedDecendants(_b[_a]);if(_c&&_c.length>0){if(_b[_a]._last_focused){_b[_a]._on_focus(true);}else{_c[0]._on_focus(true);}}}};_pTabComponent._changeTabIndex=function(_a,_b){if(!this._is_created||this.tabindex==_a||(( +_a)!=( +_a))||_a<0||(this._child_list&&_a>=this._child_list.length)){return;}var _c=this.tabindex;if(_c> -1&&this.enableevent){this._tabButtons[_a]._stat_change("notselect","normal");var _d=this.on_fire_canchange(this,_a,_c);if(_d==false){this._tabButtons[_a]._stat_change("notselect","normal");this._tabButtons[_c]._setFocus(false);return false;}}var _e=_c> -1?this._child_list[_c]:undefined;var _f=this._child_list[_a];var _g=_c> -1?this._tabButtons[_c]:undefined;var _h=this._tabButtons[_a];if(_e){if(_e.enable){_g._stat_change("notselect","normal");}else{_g._stat_change("disable","disabled");}_e.set_visible(false);_g._setAccessibilityStatSelected(false);}this._oldtabindex=_c;this.tabindex=_a;if(this._isMultiLine()){this._rollButtonUp();}if(_f){var _i=false;if(!this.preload){if(_f._isLoaded==false){if(_f.url!=""&&_f.url!=undefined){_f._url=_f.url;_f.on_apply_url(false);_f._isLoaded=true;}}_i=true;}if(!_i&&!_f.visible){_f.set_visible(true);}_h._setAccessibilityStatSelected(true);if(_b){_h._on_focus(true);}if(_f.enable){_f._stat_change(_f._status,_f._pseudo);_h._stat_change("select","selected");}else{_f._stat_change("disable","disabled");}}else{if(_e){if(_g.enable){_g._stat_change("focus","focused");}else{_g._stat_change("disable","disabled");}_e.set_visible(true);}}var _j=this._getSpinSize();var _k=this._isSpinButtonVisible()?2:0;var _l=this._client_width-_j[0]*_k;var _m=_l-(Math.ceil(this._getToolBarSize())|0)-(_j[0]*_k)-2;var _n=this._client_height-_j[1]*_k;var _o=_n-(Math.ceil(this._getToolBarSize())|0)-(_j[1]*_k)-2;if(this._tabButtons.length-1==_a&&this.spindownbutton.enable==true){this.spindownbutton.set_enable(false);this.spinupbutton.set_enable(true);}else if(_a==0&&this.spinupbutton.enable==true){this.spinupbutton.set_enable(false);this.spindownbutton.set_enable(true);}else{if(!this.spinupbutton.enable){this.spinupbutton.set_enable(true);}if(!this.spindownbutton.enable){this.spindownbutton.set_enable(true);}}if(_a<this._scrollIndex||(this._lastIndex!= -1&&_a>this._lastIndex)){var _p=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _q=_p.left+_p.right;this._scrollIndex=0;var _r=this._buttonRect;var _s=0;var _t=0;var _u=this._getTabPosition();for(var _x=_a;_x>=0;_x-- ){var _v=_r[_x];if(_u=="top"||_u=="bottom"){_t=_l;_s+=(Math.ceil(_v.right-_v.left)|0)+_q;}else{_t=_n;_s+=(Math.ceil(_v.bottom-_v.top)|0)+_q;}if(_s>_t){this._scrollIndex=_x+1;this._lastIndex=_a;break;}}}this._rearrangeButton();var _w=this._find_lastFocused();if(_w){if(this._isBtnFocusAcceptable()&&this._focusobj instanceof nexacro.TabButtonCtrl){this._focusobj._setFocus(false);}else{this._set_child_focus();}}if(nexacro._accessibilitywholereadtype>1){_f._playAccessibilityWholeReadLabel("wholeread");}return true;};_pTabComponent._resetLastIndex=function(){this._lastIndex= -1;var _a=this._child_list.length;if(_a<=0||this._isMultiLine()){return;}var _b=this._client_width;var _c=this._client_height;var _d=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _e=0,_f=0,_g=0,_h=0;if(_d!=null){_h=_d.left;_e=_d.top;_f=_d.right;_g=_d.bottom;}var _i=this.on_find_CurrentStyle_buttonpadding(this._pseudo);var _j=0,_k=0,_l=0,_m=0;if(_i){_m=_i.left;_j=_i.top;_k=_i.right;_l=_i.bottom;}var _n;var _o;_o=this._getSpinSize();var _p=_b-(Math.ceil(this._getToolBarSize())|0)-2*_o[0]-2;var _q=_c-(Math.ceil(this._getToolBarSize())|0)-2*_o[1]-2;var _r=0,_s=0;switch(this._getTabPosition()){case "top":case "bottom":var _t=this._buttonWidth;var _u=0;var _v=this._isExtraButton();for(var _x=this._scrollIndex;_x<_a;_x++ ){_s+=_t[_x];_u=_v?this.extrabutton._client_width:0;if(_s+(_h+_f)*_x+(_m+_k)*_x+_u*_x>_p){break;}this._lastIndex=_x;}break;case "left":case "right":var _w=this._buttonHeight;for(var _x=this._scrollIndex;_x<_a;_x++ ){_s+=Math.ceil(_w[_x])|0;if(_s+(_e+_g)*_x+(_j+_l)*_x>_q){break;}this._lastIndex=_x;}break;}};_pTabComponent._resetScrollIndex=function(_a){this._scrollIndex= -1;this._lastIndex= -1;var _b=this._child_list.length;if(_b<=0||this._isMultiLine()){return;}if(!this._buttonRect||this._buttonRect.length==0||this._buttonRect.length!=this._child_list.length){return;}var _c=this._client_width;var _d=this._client_height;var _e=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _f=0,_g=0,_h=0,_i=0;if(_e!=null){_i=_e.left;_f=_e.top;_g=_e.right;_h=_e.bottom;}var _j;var _k;_k=this._getSpinSize();var _l=_c-Math.ceil(this._getToolBarSize())-2*_k[0]-2;var _m=_d-Math.ceil(this._getToolBarSize())-2*_k[1]-2;var _n=0,_o;var _p=this._buttonRect;switch(this._getTabPosition()){case "top":case "bottom":for(var _q=0;_q<_b&&this._scrollIndex== -1;_q++ ){for(var _r=_q;_r<_b;_r++ ){_n=_p[_q].left;_o=_p[_r].right;_o-=_n;if(_o+_i>_l){if(this._scrollIndex!= -1){return;}if(this._isSpinButtonVisible()){break;}}if(_r==_a){this._scrollIndex=_q;}this._lastIndex=_r;}}break;case "left":case "right":for(var _q=0;_q<_b&&this._scrollIndex== -1;_q++ ){for(var _r=_q;_r<_b;_r++ ){_n=_p[_q].top;_o=_p[_r].bottom;_o-=_n;if(_o+_f>_m){if(this._scrollIndex!= -1){return;}break;}if(_r==_a){this._scrollIndex=_q;}this._lastIndex=_r;}}break;}};_pTabComponent._getTabIndex=function(){return this.tabindex;};_pTabComponent._getButtonRect=function(_a,_b){if(_a!= -1){if(this._buttonRect==null){return;}var _c=this._buttonRect[_a];var _d=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _e=0,_f=0,_g=0,_h=0;var _i=0,_j=0;if(_d!=null){_h=_d.left;_e=_d.top;_f=_d.right;_g=_d.bottom;}if(this._scrollIndex>=0){var _k=this._buttonWidth;var _l=0;switch(this._getTabPosition()){case "top":case "bottom":{if(this._spinflagup){_i=_k[this._scrollIndex]+_f;}else if(this._spinflagdown){_i=_k[this._scrollIndex-1]+_f;}break;}case "left":case "right":{_j=this._buttonHeight[this._scrollIndex];break;}}}if(this._spinflagup){_c.left+=_i;_c.right+=_i;_c.top+=_j;_c.bottom+=_j;}else if(this._spinflagdown){_c.left-=_i;_c.right-=_i;_c.top-=_j;_c.bottom-=_j;}}else{var _m=this._child_list.length;for(var _n=0;_n<_m;_n++ ){this._getButtonRect(_n);}}};_pTabComponent._isBtnFocusAcceptable=function(){return nexacro._toBoolean(this.focusacceptable);};_pTabComponent._spinup=function(){if(this._isSpinUpEnable()){this._getButtonRect( -1,true);this._scrollIndex-- ;this._resetLastIndex();this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());this._spinflagup=true;this._getButtonRect( -1,true);this._spinflagup=false;this._drawButton();this._rearrangeBorder();if(this._isBtnFocusAcceptable()&&this._setFocusTabButton){this._setFocusTabButton(this._scrollIndex,this._scrollIndex+1);}if(!this._focusobj){this._focusobj=this._child_list?this._child_list[this.tabindex]:null;}}};_pTabComponent._spindown=function(){if(this._isSpinDownEnable()){this._getButtonRect( -1,true);this._scrollIndex++ ;this._resetLastIndex();this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());this._spinflagdown=true;this._getButtonRect( -1,true);this._spinflagdown=false;this._drawButton();this._rearrangeBorder();if(this._isBtnFocusAcceptable()&&this._setFocusTabButton){this._setFocusTabButton(this._scrollIndex,this._scrollIndex-1);}if(!this._focusobj){this._focusobj=this._child_list?this._child_list[this.tabindex]:null;}}};_pTabComponent._isSpinUpEnable=function(){if(this._scrollIndex>0&&this._isMultiLine()!=true){return true;}else{return false;}};_pTabComponent._isSpinDownEnable=function(){if(this._lastIndex<this._child_list.length-1&&this._isMultiLine()!=true){return true;}else{return false;}};_pTabComponent._isSpinButtonVisible=function(){if(this.spindownbutton.visible||this.spinupbutton.visible){return true;}else{return false;}};_pTabComponent._recalcLayout=function(){this._is_recalclayout=true;if(this._org_status=="notfocus"){this._pre_scrollIndex=this._scrollIndex;}else{this._pre_scrollIndex= -1;}if(this._is_resize){var _a=this._lastIndex;var _b=this._scrollIndex;this._resetScrollIndex(this.tabindex);if(this._pre_scrollIndex!= -1){this._setScrollIndex(this._pre_scrollIndex);}}this._rearrangeButton();};_pTabComponent._keydown_filter=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._child_list.length;if(_i<=0){return false;}var _j=this._getTabIndex();var _k=this.tabindex;var _l= -1;switch(_b){case 9:if(_d==true&&this.usecontrolkey){{if(_e!=true){if(_j<_i-1){_l=_j+1;}else{_l=0;}}else{if(_j>0){_l=_j-1;}else{_l=_i-1;}}if(this._focusobj instanceof nexacro.TabButtonCtrl){this._setTabFocusObj(this._tabButtons[_l]);}else if(this._focusobj instanceof nexacro.Tabpage){this._setTabFocusObj(this._child_list[_l]);}break;}}else{if(this._focusobj instanceof nexacro.TabComponent){if(_e==false){if(this._isBtnFocusAcceptable()==true){this._setTabFocusObj(this._tabButtons[_j]);this._setFocusTabButton();}else{var _m=this._child_list[_j];var _n=this._getTabFocusObj()._getTabOrderFirst();if(_n){if(_m instanceof nexacro.Form&&_m._last_focused){var _o=this._getWindow();_o._removeFromCurrentFocusPath(_m._last_focused);}_n._setFocus(false,0);}this._setTabFocusObj(_m);}}else{var _p=this.parent._searchPrevTabFocus(this);if(_p){if(_p[0]==null){if(_p[2]==1){var _q=application.accessibilitylastovertext;nexacro.__notifyAccessibility(this._control_element,_q);}else if(_p[2]== -1){var _q=application.accessibilityfirstovertext;nexacro.__notifyAccessibility(this._control_element,_q);}}else{if(_p[0] instanceof nexacro.Form&&_p[0]._last_focused){var _o=this._getWindow();_o._removeFromCurrentFocusPath(_p[0]._last_focused);}_p[0]._setFocus(true,1,true);}}}}else if(this._focusobj instanceof nexacro.TabButtonCtrl){if(!this._focusobj.enable){return false;}if(_e==false){var _r=this._child_list[_j];if(_r){var _p=_r._last_focused;if(!_r._last_focused){_p=_r._getTabOrderFirst();}else{_p=_r._searchNextTabFocus(_p);_p=_p?_p[0]:null;}if(_p){_p._setFocus(true,0,true);this._setFocusTabButton( -1,this.tabindex);}else{var _s=this._searchNextComponent(_r);if(_s&&_s[0]){_s[0]._setFocus(true,0);}}this._setTabFocusObj(_r);}}else{return false;}}else if(this._focusobj instanceof nexacro.Tabpage){if(!this._focusobj.enable){return false;}var _t=this._focusobj._getLastFocused();var _n=this._focusobj._getTabOrderFirst();var _u=undefined;if(_t){_u=_t._getDlgCode(_b,_c,_d,_e);}if(!_u||(_u.want_tab==false)){if(_e==false){if(_t==null&&_n){_n._setFocus(true,0);}else{var _v=this._focusobj._searchNextTabFocus(_t);if(_v&&_v[0]){_v[0]._setFocus(true,0);}}}else{if(_t==null){if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[_j]);}else{this._setTabFocusObj(this);}var _s=this._searchPrevTabFocus(null);if(_s&&_s[0]){_s[0]._setFocus(true,0);}}else if(_t==_n){if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[_j]);this._focusobj._setFocus(true,1);}else{this._setTabFocusObj(this);var _s=this._searchPrevTabFocus(null);if(_s&&_s[0]){_s[0]._setFocus(true,0);}}}else{var _w=this._focusobj._searchPrevTabFocus(_t);if(_w&&_w[0]){_w[0]._setFocus(true,1);}}}}}return true;}break;case 8:if(_d==true&&this.usecontrolkey){this.on_fire_onextrabuttonclick(this,_j,"",false,false,false, -1, -1, -1, -1, -1, -1,this,this);return true;}break;case 38:{if(nexacro._enableaccessibility){var _x=this._focusobj;var _y;if(_x instanceof nexacro.TabButtonCtrl){if(this._isAccessibilityEnable()){_y=this;}if(_y){_y._setFocus(true,3,true);this._setTabFocusObj(_y);}else{return false;}}else if(_x instanceof nexacro.Tabpage){var _t=_x._getLastFocused();if(_t){var _z=_t._getDlgCode(_b,_c,_d,_e);if(_z.want_arrows==false){_y=_x._searchPrevTabFocus(_x._last_focused,undefined,undefined,true)[0];if(_y){if(_y==_x){var _o=_y._getWindow();_o._removeFromCurrentFocusPath(_y);_y._setFocus(true,3,true);this._setTabFocusObj(_y);}else{_y._setFocus(true,3,true);}}else{return false;}}}else{if(_x.parent._isBtnFocusAcceptable()){_y=_x.parent._tabButtons[_x.parent.tabindex];}else{_y=_x.parent;}if(_y){_y._setFocus(true,3,true);this._setTabFocusObj(_y);}else{return false;}}}return true;}}break;case 40:{if(nexacro._enableaccessibility){var _x=this._focusobj;var _y;var _aa=null;if(_x instanceof nexacro.Tab){if(this._isBtnFocusAcceptable()){_y=this._tabButtons[this.tabindex];}else{_y=this.tabpages[this.tabindex];if(_y._last_focused){_y._last_focused=null;}if(!_y._isAccessibilityEnable()){_aa=_y._searchNextTabFocus(_x._last_focused,undefined,undefined,true);}}}else if(_x instanceof nexacro.TabButtonCtrl){_y=this.tabpages[this.tabindex];if(_y._last_focused){_y._last_focused=null;}if(!_y._isAccessibilityEnable()){_aa=_y._searchNextTabFocus(_x._last_focused,undefined,undefined,true);}}else if(_x instanceof nexacro.Tabpage){var _t=_x._getLastFocused();var _u=undefined;if(_t){_u=_t._getDlgCode(_b,_c,_d,_e);}if(!_u||_u.want_arrows==false){_aa=_x._searchNextTabFocus(_x._last_focused,undefined,undefined,true);}}if(_aa&&_aa[0]){_y=_aa[0];_y._setFocus(true,2,true);}else{if(_y){_y._setFocus(true,2,true);this._setTabFocusObj(_y);}}return true;}}break;case 39:if(this._isBtnFocusAcceptable()&&_d==false){var _x=this._focusobj;if(_x instanceof nexacro.TabButtonCtrl){if(_j<_i-1){_l=_j+1;}else{_l=0;}this._setTabFocusObj(this._tabButtons[_l]);}}break;case 37:if(this._isBtnFocusAcceptable()&&_d==false){var _x=this._focusobj;if(_x instanceof nexacro.TabButtonCtrl){if(_j>0){_l=_j-1;}else{_l=_i-1;}this._setTabFocusObj(this._tabButtons[_l]);}}break;default:break;}if(_l> -1){if(this._changeTabIndex(_l,true)==true){if(this.enableevent){this.on_fire_onchanged(this,_l,_k);}if(this._setFocusTabButton){this._setFocusTabButton(_l,_k);}this._changeScrollIndex(_l);}}};_pTabComponent._setElementBorder=function(_a,_b,_c,_d){if(!_b){return;}var _e=_b.clone();var _f=this._getTabPosition();_e._linecnt=1;_e._copytoSubObjects();_e._linecnt=4;{if(_f=="top"){_e.set_top_width("0");}else if(_f=="bottom"){_e.set_bottom_width("0");}else if(_f=="left"){_e.set_left_width("0");}else if(_f=="right"){_e.set_right_width("0");}_a.setElementBorder(_e,_c);}};delete _pTabComponent;}if(!nexacro.Tab_Style){nexacro.Tab_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};var _pTabStyle=nexacro.Tab_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.Tab_style);eval(nexacro._createBackgroundAttributeEvalStr("_pTabStyle","buttonbackground"));eval(nexacro._createGradationAttributeEvalStr("_pTabStyle","buttongradation"));eval(nexacro._createBorderAttributeEvalStr("_pTabStyle","buttonborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pTabStyle","buttonbordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pTabStyle","buttonpadding"));eval(nexacro._createMarginAttributeEvalStr("_pTabStyle","buttonmargin"));eval(nexacro._createValueAttributeEvalStr("_pTabStyle","showextrabutton"));eval(nexacro._createValueAttributeEvalStr("_pTabStyle","focusborder"));_pTabStyle.__custom_emptyObject=function(){this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};_pTabStyle.__get_custom_style_value=function(){var _a="";if(this.buttonbackground&&this.buttonbackground._value.length){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._value.length){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonborder&&this.buttonborder._value.length){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._value.length){_a+="buttonbordertype:"+this.buttonbordertype._value+"; ";}if(this.buttonpadding&&this.buttonpadding._value.length){_a+="buttonpadding:"+this.buttonpadding._value+"; ";}if(this.buttonmargin&&this.buttonmargin._value.length){_a+="buttonmargin:"+this.buttonmargin._value+"; ";}if(this.showextrabutton&&this.showextrabutton._value.length){_a+="showextrabutton:"+this.showextrabutton._value+"; ";}if(this.focusborder&&this.focusborder._value.length){_a+="focusborder:"+this.focusborder._value+"; ";}return _a;};_pTabStyle._update_background=function(_a){var _b=this._target;if(_b){if(_a==1){_b.on_update_style_buttonbackground();}else{_b.on_update_style_background();}if(this.buttonbackground&&this.buttonbackground.image&&_b.imagewidth==0&&_b.imageheight==0){_b._getImgSize();}}};_pTabStyle._update_border=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttonborder();}else{this._target.on_update_style_border();}}};_pTabStyle._update_bordertype=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttonbordertype();}else{this._target.on_update_style_bordertype();}}};_pTabStyle._update_gradation=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttongradation();}else{this._target.on_update_style_gradation();}}};_pTabStyle._update_style_padding=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttonpadding();}else{this._target.on_update_style_padding();}}};delete _pTabStyle;nexacro.Tab_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};var _pTabCurrentStyle=nexacro.Tab_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Tab_CurrentSTyle);_pTabCurrentStyle.__get_custom_style_value=function(){var _a="";if(this.buttonbackground&&this.buttonbackground._value.length){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._value.length){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._value.length){_a+="buttonbordertype:"+this.buttonbordertype._value+"; ";}if(this.buttonborder&&this.buttonborder._value.length){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttonpadding&&this.buttonpadding._value.length){_a+="buttonpadding:"+this.buttonpadding._value+"; ";}if(this.buttonmargin&&this.buttonmargin._value.length){_a+="buttonmargin:"+this.buttonmargin._value+"; ";}if(this.showextrabutton&&this.showextrabutton._value.length){_a+="showextrabutton:"+this.showextrabutton._value+"; ";}if(this.focusborder&&this.focusborder._value.length){_a+="focusborder:"+this.focusborder._value+"; ";}return _a;};_pTabCurrentStyle.__custom_emptyObject=function(){this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};delete _pTabCurrentStyle;}if(!nexacro.Tab){nexacro.Tab=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TabComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.preload=false;this.tabpages=new nexacro.Collection();this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onchanged":1,"onspin":1,"canchange":1,"oneditclick":1,"onextrabuttonclick":1,"onmouseup":1,"onmousedown":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1};this._tabbutton_obj=null;if(_g){this._orgwidth=_g-_c;}else{this._orgwidth=_e;}if(_h){this._orgheight=_h-_d;}else{this._orgheight=_f;}};var _pTab=nexacro.Tab.prototype=nexacro._createPrototype(nexacro.TabComponent,nexacro.Tab);_pTab._type_name="Tab";nexacro.Tab._default_showextrabutton=nexacro._getCachedStyleObj("showextrabutton","false");_pTab.killTimer=null;_pTab.setTimer=null;_pTab.loadStyle=null;_pTab.setWaitCursor=null;_pTab._accessibility_tabindex= -1;_pTab._accessibility_is_next=false;_pTab.on_create_custom_style=function(){return new nexacro.Tab_Style(this);};_pTab.on_create_custom_currentStyle=function(){return new nexacro.Tab_CurrentStyle();};_pTab.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=false;var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;_c=true;}var _e=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_e){_b.letterspace=_e;_c=true;}var _f=this.on_find_CurrentStyle_color(_a);if(_b.color!=_f){_b.color=_f;_c=true;}var _g=this.on_find_CurrentStyle_buttonbackground(_a);if(_b.buttonbackground!=_g){_b.buttonbackground=_g;_c=true;}var _h=this.on_find_CurrentStyle_buttongradation(_a);if(_b.buttongradation!=_h){_b.buttongradation=_h;_c=true;}var _i=this.on_find_CurrentStyle_buttonborder(_a);if(_b.buttonborder!=_i){_b.buttonborder=_i;_c=true;}var _j=this.on_find_CurrentStyle_buttonbordertype(_a);if(_b.buttonbordertype!=_j){_b.buttonbordertype=_j;_c=true;}var _k=this.on_find_CurrentStyle_buttonmargin(_a);if(_b.buttonmargin!=_k){_b.buttonmargin=_k;_c=true;}if(_c){this._updateAllTabButton(_a);}var _l=this.on_find_CurrentStyle_buttonpadding(_a);if(_b.buttonpadding!=_l){_b.buttonpadding=_l;this.on_apply_style_buttonpadding(_l);}var _m=this.on_find_CurrentStyle_showextrabutton(_a);if(_b.showextrabutton!=_m){_b.showextrabutton=_m;this.on_apply_style_showextrabutton(_m);}var _n=this.on_find_CurrentStyle_focusborder(_a);if(_b.focusborder!=_n){_b.focusborder=_n;this.on_apply_style_focusborder(_n);}};_pTab._updateAllTabButton=function(_a){var _b=this._tabButtons;var _c=this._child_list;var _d=_b.length;_a=(_a==null||_a=="focused")?"normal":_a;if(_a=="mouseover"){return;}for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e.enable){this._tabButtons[_f]._updateAll(_a);}else{this._tabButtons[_f]._status="disable";this._tabButtons[_f]._updateAll("disabled");}}};_pTab.on_find_CurrentStyle_buttonbackground=function(_a){return this._find_pseudo_obj("buttonbackground",_a,"background");};_pTab.on_find_CurrentStyle_buttongradation=function(_a){return this._find_pseudo_obj("buttongradation",_a,"gradation");};_pTab.on_find_CurrentStyle_buttonborder=function(_a){return this._find_pseudo_obj("buttonborder",_a,"border");};_pTab.on_find_CurrentStyle_buttonbordertype=function(_a){var _b=this._find_pseudo_obj("buttonbordertype",_a,"bordertype");return (_b)?_b:null;};_pTab.on_find_CurrentStyle_buttonpadding=function(_a){var _b=this._find_pseudo_obj("buttonpadding",_a,"padding");return (_b)?_b:nexacro.Component._default_padding;};_pTab.on_find_CurrentStyle_buttonmargin=function(_a){var _b=this._find_pseudo_obj("buttonmargin",_a,"margin");return (_b)?_b:nexacro.Component._default_margin;};_pTab.on_find_CurrentStyle_showextrabutton=function(_a){var _b=this._find_pseudo_obj("showextrabutton",_a);return (_b)?_b:nexacro.Tab._default_showextrabutton;};_pTab.on_find_CurrentStyle_focusborder=function(_a){return this._find_pseudo_obj("focusborder",_a,"border");};_pTab.on_find_CurrentStyle_border=function(_a){var _b=this._find_pseudo_obj("border",_a,"border");if(this._tabpagearea&&_b){var _c=_b.clone();_c._linecnt=4;_c.set_top_width("0");_c.set_right_width("0");_c.set_bottom_width("0");_c.set_left_width("0");this.getElement().setElementBorder(_c,this.currentstyle.bordertype);}return _b;};_pTab.on_update_style_buttonbackground=function(){this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo));};_pTab.on_update_style_buttongradation=function(){this.on_apply_style_buttongradation(this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo));};_pTab.on_update_style_buttonborder=function(){this.on_apply_style_buttonborder(this.currentstyle.buttonborder=this._buttonBorder=this.on_find_CurrentStyle_buttonborder(this._pseudo));};_pTab.on_update_style_buttonbordertype=function(){this.on_apply_style_buttonbordertype(this.currentstyle.buttonbordertype=this.on_find_CurrentStyle_buttonbordertype(this._pseudo));};_pTab.on_update_style_buttonpadding=function(){this.on_apply_style_buttonpadding(this.currentstyle.buttonpadding=this.on_find_CurrentStyle_buttonpadding(this._pseudo));};_pTab.on_update_style_buttonmargin=function(){this.on_apply_style_buttonmargin(this.currentstyle.buttonmargin=this.on_find_CurrentStyle_buttonmargin(this._pseudo));};_pTab.on_update_style_showextrabutton=function(){this.on_apply_style_showextrabutton(this.currentstyle.showextrabutton=this.on_find_CurrentStyle_showextrabutton(this._pseudo));};_pTab.on_update_style_focusborder=function(){this.on_apply_style_focusborder(this.currentstyle.focusborder=this.on_find_CurrentStyle_focusborder(this._pseudo));};_pTab.on_update_style_font=function(){var _a=null;var _b=this._tabButtons.length;for(var _c=0;_c<_b;_c++ ){_a=this._tabButtons[_c];_a.on_apply_style_font(this.style.font);}};_pTab.on_update_style_letterspace=function(){var _a=null;var _b=this._tabButtons.length;for(var _c=0;_c<_b;_c++ ){_a=this._tabButtons[_c];_a.on_apply_style_letterspace(this.style.letterspace);}this._updateAllTabButton();this._recalcLayout();};_pTab.on_update_style_rtlimagemirroring=function(){return;};_pTab.on_apply_style_buttonbackground=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_buttongradation=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_buttonborder=function(_a){this._updateAllTabButton();this._recalcLayout();};_pTab.on_apply_style_buttonbordertype=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_buttonpadding=function(_a){this._updateAllTabButton();this._recalcLayout();};_pTab.on_apply_style_buttonmargin=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_showextrabutton=function(_a){var _b=this._isExtraButton();if(_b&&this._tabextrabuttons.length<=0){var _c=this._tabButtons.length;for(var _f=0;_f<_c;_f++ ){var _d=this._createtabextrabutton(_f);_d.createComponent();}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;}else if(!_b){var _e=this._tabextrabuttons;var _c=0;if(_e){_c=_e.length;}for(var _f=0;_f<_c;_f++ ){_e[_f].set_visible(false);}}this._recalcLayout();};_pTab.on_apply_style_focusborder=function(_a){if(this._isBtnFocusAcceptable()){this._setFocusTabButton();}};_pTab.on_apply_style_color=function(_a){this._updateAllTabButton();};_pTab.on_apply_prop_enable=function(_a){var _b=this._tabButtons;var _c=this._child_list;var _d=this._tabextrabuttons;var _e=_a;if(_a==undefined){_e=this.enable;}var _f=_b.length;if(_f>0){for(var _g=0;_g<_f;_g++ ){_b[_g].enable=_e;_b[_g]._setEnable(_e);if(this.tabindex==_g&&_e==true){if(_b[_g]._pseudo!="selected"){_b[_g]._stat_change("focus","focused");}}_c[_g].set_enable(_e);if(_d.length>0){_d[_g]._setEnable(_e);}}}if(this.spinupbutton&&this._isSpinUpEnable()){this.spinupbutton.set_enable(_e);}if(this.spindownbutton&&this._isSpinDownEnable()){this.spindownbutton.set_enable(_e);}};_pTab.on_create_contents=function(){var _a=this.getElement();_a.setElementSize(this._adjust_width,this._adjust_height);};_pTab.on_created_contents=function(){var _a=this.getElement();if(_a){this._getImgSize();this._tabpagearea=new nexacro.TabPageArea("tabpagearea",this.position,0,0,0,0,null,null,this);this._tabpagearea.createComponent();this._createSubComp();this.on_apply_style_buttonbordertype(this.currentstyle.buttonbordertype);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);this.on_apply_addChild();this._is_created=true;var _b=this._insert_tabpagelist;var _c=_b.length;if(_c>0){for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];this.insertTabpage(_d.id,_d.index,_d.url,_d.text);}_b=[];this._insert_tabpagelist=[];}this.on_apply_tabindex();this.on_apply_prop_rtldirection();this.on_apply_style_letterspace(this.currentstyle.letterspace);}};_pTab.on_destroy_contents=function(){if(this._timerManager){this._timerManager.destroy();this._timerManager=null;}if(this._load_manager){var _a=this._load_manager;var _b=_a.transactionList;if(_b){for(var _i=_b.length-1;_i>=0;_i-- ){var _c=_b[_i];if(_c._usewaitcursor){_c._hideWaitCursor(this);}_c=null;}_b=null;}this._load_manager.destroy();this._load_manager=null;}if(this._bind_manager){this._bind_manager.destroy();this._bind_manager=null;}if(this._tabpagearea){this._tabpagearea.destroy();this._tabpagearea=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}var _d=this._tabButtons;var _e;var _f=_d.length;for(var _i=0;_i<_f;_i++ ){_e=_d[_i];if(_e){_e.destroy();_d[_i]=null;}}_d=this._tabButtonBorders;_f=_d.length;for(var _i=0;_i<_f;_i++ ){_e=_d[_i];if(_e){_e.destroy();_d[_i]=null;}}_d=this._tabButtonLeftBorders;_f=_d.length;for(var _i=0;_i<_f;_i++ ){_e=_d[_i];if(_e){_e.destroy();_d[_i]=null;}}_d=this._tabBorders;_f=_d.length;for(var _i=0;_i<_f;_i++ ){_e=_d[_i];if(_e){_e.destroy();_d[_i]=null;}}_d=this._tabextrabuttons;_f=_d.length;for(var _i=0;_i<_f;_i++ ){_e=_d[_i];if(_e){_e.destroy();_d[_i]=null;}}_d=this.components;_f=_d.length;for(var _i=0;_i<_f;_i++ ){var _g=_d.get_id(0);if(this[_g]){this[_g]._is_loaded=false;if(this[_g].destroy){this[_g].destroy();}}}var _h=this.tabpages;var _f=_h.length;for(var _i=0;_i<_f;_i++ ){_h[_i]=null;}this.tabpages=null;_h=null;this._insert_tabpagelist=[];delete this._tabButtons;delete this._tabButtonBorders;delete this._tabButtonLeftBorders;delete this._tabBorders;delete this._tabextrabuttons;if(this._tabbutton_obj){this._tabbutton_obj=null;}this._buttonWidth=null;this._buttonRect=null;this._buttonHeight=null;this._layout_list.clear();this._layout_list=null;this.binds=null;this.objects=null;this._find_csslist=null;this._css_selectors=null;this._cssfinder_cache=null;this._child_list=null;this._includescriptlist=null;this._hotkey_list=null;this._load_callbacklist=null;this.all.clear();this.all=null;this.components.clear();this.components=null;};_pTab.on_change_containerRect=function(_a,_b){if(this._org_status=="notfocus"){this._pre_scrollIndex=this._scrollIndex;}else{this._pre_scrollIndex= -1;}if(this._is_resize){var _c=this._lastIndex;var _d=this._scrollIndex;this._resetScrollIndex(this.tabindex);if(this._pre_scrollIndex!= -1){this._setScrollIndex(this._pre_scrollIndex);}}this._stat_change(this._status,this._pseudo);};_pTab.on_apply_custom_setfocus=function(_a){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);if(!this._focusobj){if(nexacro._enableaccessibility){if(this._isAccessibilityEnable()){this._setTabFocusObj(this);}else{if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[this.tabindex]);}else{this._setTabFocusObj(this._child_list[this.tabindex]);if(this._focusobj._isAccessibilityEnable()){this._focusobj._setFocus(false);}else{var _b=this._focusobj._getTabOrderFirst();if(_b){_b._setFocus(false);}}}}}else{if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[this.tabindex]);this._setFocusTabButton();}else{this._setTabFocusObj(this._child_list[this.tabindex]);}}}};_pTab._stat_change=function(_a,_b){if(this._is_stat_change){return;}this._is_stat_change=true;this._is_resize=false;this._org_status=_a;this._is_recalclayout=false;this.on_change_status(_a,_b);if(!this._is_recalclayout){this._recalcLayout();}this._is_recalclayout=false;if(this._tabpagearea&&this.currentstyle.border){var _c=this.currentstyle.border.clone();_c._linecnt=4;_c.set_top_width("0");_c.set_right_width("0");_c.set_bottom_width("0");_c.set_left_width("0");this.getElement().setElementBorder(_c,this.currentstyle.bordertype);}this._is_resize=true;this._is_stat_change=false;};_pTab.set_preload=function(_a){if(_a===false||_a=="false"){this.preload=false;}else{this.preload=true;}};_pTab.set_tabpages=function(_a){};_pTab.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireUserEvent(this,_n);}return false;};_pTab.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireSysEvent(this,_n);}return false;};_pTab.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pTab.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireSysEvent(this,_n);}return false;};_pTab._on_killfocus=function(_a,_b){if(_a===this){return;}if(_a==null&&_b==null){return;}this._focusobj=null;var _c=this._tabButtonBorders;for(i=0,n=_c.length;i<n;i++ ){_c[i].set_visible(false);}if(this._focusobj instanceof nexacro.TabButtonCtrl){this._setFocusTabButton( -1,this.tabindex);}};_pTab.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=false;if(this.onkeydown&&this.onkeydown._has_handlers){if(_a!=nexacro.Event.KEY_TAB||(_a==nexacro.Event.KEY_TAB&&_c)){var _h=this._child_list[this.tabindex];var _i=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_h,_h);_g=this.onkeydown._fireUserEvent(this,_i);}}if(!this.onkeydown||(this.onkeydown&&!this.onkeydown.defaultprevented)){if(_a==nexacro.Event.KEY_TAB){if(this._keydown_filter(null,_a,_b,_c,_d,undefined,_e,_f)){this._getWindow()._keydown_element._event_stop=true;return true;}}else if(nexacro._enableaccessibility){if(_a==nexacro.Event.KEY_DOWN||_a==nexacro.Event.KEY_UP){if(this._keydown_filter(null,_a,_b,_c,_d,undefined,_e,_f)){return true;}}}}return _g;};_pTab.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=this._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_g,_g);return this.onkeydown._fireSysEvent(this,_h);}return false;};_pTab.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=this._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(_g,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireUserEvent(this,_h);}return false;};_pTab.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=this._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(_g,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireSysEvent(this,_h);}return false;};_pTab._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._tabbutton_obj=null;return nexacro.Component.prototype._on_lbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pTab._on_btn_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._tabbutton_obj=_a;nexacro._skipDragEventAfterMsgBox=false;var _n=this._on_bubble_lbuttondown(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);var _o=this._getFromComponent(this);if(!_o.onlbuttondown||(_o.onlbuttondown&&!_o.onlbuttondown.defaultprevented)){this.on_lbuttondown_default_action(_b,this._focus_refer_comp,_g,_h,_c,_d,_e,_f,_i,_j);_n=this._on_bubble_lbuttondown(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}this._setTabFocusObj(this._tabButtons[_a._index]);if(this._isBtnFocusAcceptable()&&this._child_list[_a._index]){this._child_list[_a._index]._last_focused=null;}return _n;};_pTab._on_btn_touchstart=function(_a,_b,_c,_d,_e,_f,_g){this._tabbutton_obj=_a;var _h=nexacro.Component.prototype._on_touchstart.call(this,_b,_c,_d,_e,_f,_g);this._setTabFocusObj(_a);if(this._isBtnFocusAcceptable()&&this._child_list[_a._index]){this._child_list[_a._index]._last_focused=null;}return _h;};_pTab._on_focus=function(_a,_b,_c,_d,_e,_f){var _g=this._focus_direction;if(_b=="tabkey"){_g=0;}else if(_b=="shifttabkey"){_g=1;}else if(_b=="downkey"){_g=2;}else if(_b=="upkey"){_g=3;}nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(_g==2){if(!this._isAccessibilityEnable()){var _h;if(this._isBtnFocusAcceptable()){_h=this._tabButtons[this.tabindex];_h._setFocus(true);}else{_h=this.tabpages[this.tabindex];if(_h._isAccessibilityEnable()){_h._setFocus(true);}else{_h=_h._searchNextTabFocus(null,undefined,undefined,true);if(_h){_h[0]._setFocus(true);_h=_h[0];}else{_h=this;}}}if(_h){this._setTabFocusObj(_h);}}}};_pTab.on_get_prop_tabstop=function(){if(!this.tabstop){return false;}else{var _a=this._getSortedDecendants(this);if(_a&&_a.length>0){return true;}else if(this.tabstop){return true;}}return false;};_pTab._setTabFocusObj=function(_a){this._focusobj=_a;};_pTab._getTabFocusObj=function(){return this._focusobj;};_pTab._getTabOrderNext=function(_a,_b,_c,_d,_e,_f,_g){if(_b>0){return nexacro.FormBase.prototype._getTabOrderNext.call(this,_a,_b,_c,_d,_e,_f,_g);}else if(_b<0){if(this._isBtnFocusAcceptable()){return this._tabButtons[this.tabindex];}return this.tabpages[this.tabindex];}};_pTab._getTabOrderFirst=function(){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5&&this._accessibility_is_next){this._accessibility_is_next=false;return null;}if(this._isBtnFocusAcceptable()){return this._tabButtons[this.tabindex];}return this.tabpages[this.tabindex];};_pTab._on_btn_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype._on_mousemove.call(this._tabButtons[_a._index],_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pTab.on_touchstart_basic_action=function(_a,_b){nexacro.Component.prototype.on_touchstart_basic_action.call(this,_a,_b);if(!this.visible||this._isEnable()==false){return ret;}if(this._isBtnFocusAcceptable()){this._setFocusTabButton();}};_pTab.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.TabMouseEventInfo(this,"onlbuttondown",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireUserEvent(this,_m);}return false;};_pTab.on_lbuttondown_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=nexacro.Component.prototype.on_lbuttondown_default_action.call(this,_a,_b,_c,_d);if(!this.visible||this._isEnable()==false){return _k;}var _l=this._tabbutton_obj;if(_l){if(this.selectchangetype=="down"){var _m=_l._index;var _n=false;if(_l instanceof nexacro.TabExtraButtonCtrl){var _o=this._child_list?this._child_list.length:0;_m=this._getExtrabuttonIdx(_l);if(this._tabButtons[_m]){this._tabButtons[_m]._setFocus();}if(_m>=0){var _p=this._getClientXY(_c,_d);this.on_fire_onextrabuttonclick(_l,_m,_e,_f,_g,_h,_i,_j,_c,_d,_p[0],_p[1],this,this);}if(_o!=this._child_list.length){_n=true;}}if(!_n){oldindex=this.tabindex;this._iscanchange=this._changeTabIndex(_m,true);if(this._iscanchange==true){if(this.enableevent&&oldindex!=this.tabindex){this.on_fire_onchanged(_l,_m,oldindex);}}}this._tabbutton_obj=null;}}if(this._isBtnFocusAcceptable()){this._setFocusTabButton();}return _k;};_pTab.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.TabMouseEventInfo(this,"onlbuttonup",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pTab.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.TabMouseEventInfo(this,"onrbuttondown",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireUserEvent(this,_m);}return false;};_pTab.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _n=new nexacro.TabMouseEventInfo(this,"onrbuttonup",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireUserEvent(this,_n);}return false;};_pTab._onclick_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(_b=="touch"||this.selectchangetype=="up"){var _l=_a._index;if(_a instanceof nexacro.TabExtraButtonCtrl){_l=this._getExtrabuttonIdx(_a);if(_l>=0){this.on_fire_onextrabuttonclick(_a,_l,_b,_c,_d,_e,_h,_i,_f,_g, -1, -1,_j,_k);}}oldindex=this.tabindex;this._iscanchange=this._changeTabIndex(_l,true);if(this._iscanchange==true){if(this.enableevent&&oldindex!=this.tabindex){this.on_fire_onchanged(_a,_l,oldindex);}}this._tabbutton_obj=null;}};_pTab.on_fire_canchange=function(_a,_b,_c){this._is_canchange=true;if(this.canchange&&this.canchange._has_handlers){var _d=new nexacro.TabIndexChangeEventInfo(_a,"canchange",_b,_c);this._is_canchange=this.canchange._fireCheckEvent(this,_d);return this._is_canchange;}return true;};_pTab.on_fire_onchanged=function(_a,_b,_c){if(this.onchanged&&this.onchanged._has_handlers){var _d=new nexacro.TabIndexChangeEventInfo(this,"onchanged",_b,_c);return this.onchanged._fireEvent(this,_d);}return true;};_pTab.getParentContext=function(){return this.parent;};_pTab.insertTabpage=function(_a,_b,_c,_d){if(!this._is_created){var _e={};_e.id=_a;_e.index=_b;_e.url=_c;_e.text=_d;this._insert_tabpagelist.push(_e);return  -1;}var _f=parseInt(_b)|0;var _g=this._child_list.length;var _h=0;for(var _u=0;_u<_g;_u++ ){var _i=this._child_list[_u];if(_a==_i.text){return  -1;}}var _j=new nexacro.Tabpage(_a,this);this._createTabpage(_f,_a,_j);if(_j==null){return  -1;}if(_f>=_g){_f= -1;}_h=this.tabindex;if(this[_a]){if(this[_a].name==_j.name){return  -1;}}if(_f== -1){this[_a]=_j;this.all.add_item(_a,_j);this.components.add_item(_a,_j);this.tabpages.add_item(_a,_j);this._child_list.push(_j);this.tabindex=_f=this._child_list.length-1;this._tabpagearea.set_visible(true);this._tabBorders[0].set_visible(true);this._tabBorders[1].set_visible(true);this._tabBorders[2].set_visible(true);}else{this[_a]=_j;this.all.add_item(_a,_j);var _k=this._tabButtonBorders;var _l=this._tabextrabuttons;var _m=_l.length>0?true:false;for(_u=this._child_list.length;_u>_b;_u-- ){this._child_list[_u]=this._child_list[_u-1];this._child_list[_u]._index=_u;this._buttonRect[_u]=this._buttonRect[_u-1];this._tabButtons[_u]=this._tabButtons[_u-1];this._tabButtons[_u]._index+=1;if(_m){_l[_u]=_l[_u-1];if(_l[_u]){_l[_u]._index+=1;}}this._buttonWidth[_u]=this._buttonWidth[_u-1];this._buttonHeight[_u]=this._buttonHeight[_u-1];_k[_u]=_k[_u-1];if(_l[_u]){_k[_u]._index+=1;}}if(_m){_l[_u]=null;}this._child_list[_b]=_j;this.tabpages.insert_item(_b,_a,_j);this.tabindex=_f;}if(_c){_j.set_url(_c);}if(parseInt(this.tabindex)==_f){var _n=this._child_list[_h];if(_n){_n.set_visible(false);}_j.set_visible(true);}else{_j.set_visible(false);}var _o=this._tabButtons[_f]=this._createTabbutton(_f);_o.createComponent();_j._index=_f;if(_d){_j.set_text(_d);}else{_j.set_text(_a);}this._buttonRect[_f]=this._getButtonSize(_f);this._buttonHeight[_f]=this._buttonRect[_f].bottom-this._buttonRect[_f].top;this._buttonWidth[_f]=this._buttonRect[_f].right-this._buttonRect[_f].left;if(this._tabButtons.length==1){this.tabindex=0;this._tabButtons[0]._stat_change("focus","focused");}var _p=null;var _q=0;_p=this.currentstyle.buttonmargin;if(_p){_q=_p.right;}for(var _u=this._child_list.length-1;_u>_f;_u-- ){this._buttonRect[_u].left+=this._buttonWidth[_f]+_q;this._buttonRect[_u].right+=this._buttonWidth[_f]+_q;}if(this._isExtraButton()){var _r=this._createtabextrabutton(_f);_r.createComponent();this.on_apply_style_showextrabutton(this.currentstyle.showextrabutton);}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;if(this._child_list.length==1){this.set_visible(true);}this._rearrangeButton();var _s=0;var _t=this._adjust_width;if(this.spinupbutton.visible){_t=this.spinupbutton.left;}if(_b<0||this._buttonRect[_f].right>_t){_s=0;this._lastIndex=_f;_s=this._buttonRect[_f].right;if(_s>_t){this._resetScrollIndex(_f);}}else{this._resetScrollIndex(_f);}this._drawButton();this._rearrangeButton();if(this.enableevent){this.on_fire_onchanged(this,_f,_h);}return _f;};_pTab.removeTabpage=function(_a){var _b=parseInt(_a)|0;var _c=this._child_list;var _d=_c.length;if(_d==0){return  -1;}if(_d>0){var _e=_c[_b];if(!_e){return  -1;}var _f=false;if(_a==this.tabindex){_f=true;}var _g=_e._on_beforeclose();if(_e._checkAndConfirmClose(_g)==false){return  -1;}if(_e==this._last_focused){this._last_focused=null;}_e._on_close();if(_b+1!=_d){_c[_b+1].set_visible(true);}var _h=this._buttonRect;var _i=this._buttonWidth;var _j=this._buttonHeight;for(var _q=_d-1;_q>_a;_q-- ){_h[_q]=_h[_q-1];_i[_q]=_i[_q-1];_j[_q]=_j[_q-1];}this[_e.id]=null;delete this[_e.id];this.all.delete_item(_a);this.components.delete_item(_a);this.tabpages=this.components;if(_c[_b]!=undefined){_c[_b].destroy();_c[_b]=null;}var _k=this._tabButtons;if(_k[_b]!=undefined){if(_k[_b]==this._tabbutton_obj){this._tabbutton_obj=null;}if(_k[_b]==this._last_focused){this._last_focused=null;}_k[_b].destroy();}var _l=this._tabextrabuttons;if(_l[_b]!=undefined){if(_l[_b]==this._tabbutton_obj){this._tabbutton_obj=null;}if(_l[_b]==this._last_focused){this._last_focused=null;}_l[_b].parent=null;_l[_b].destroy();_l[_b]=null;}var _m=this._tabButtonBorders;if(_m[_b]!=undefined){_m[_b].parent=null;_m[_b].destroy();_m[_b]=null;}var _n=this._tabButtonLeftBorders;if(_n[_b]!=undefined){_n[_b].parent=null;_n[_b].destroy();}_k.splice(_b,1);var _o=false;if(_l.length>0){_l.splice(_b,1);_o=true;}this._buttonRect.splice(_b,1);this._buttonWidth.splice(_b,1);this._buttonHeight.splice(_b,1);_m.splice(_b,1);this._child_list.splice(_b,1);_d=_c.length;for(var _q=0;_q<_d;_q++ ){_k[_q]._index=_q;_c[_q]._index=_q;if(_o){_l[_q]._index=_q;}_m[_q]._index=_q;}if(_l[_b]!=undefined){this._tabbutton_obj=null;}}if(this._scrollIndex!=0){this._scrollIndex-- ;}if(this._lastIndex!=0){this._lastIndex-- ;}if(_b!=0&&this.tabindex==_b&&this.tabindex==this._tabButtons.length){this.tabindex=_b-1;}else if(this.tabindex>_b){this.tabindex-=1;}var _p=_c[this.tabindex];if(_p){if(!this.preload){if(_p._isLoaded==false){if(_p.url!=""&&_p.url!=undefined){_p._url=_p.url;_p.on_apply_url(false);_p._isLoaded=true;}}this._createTabpage(this.tabindex,_p.id,_p);}if(this.enableevent&&_f){this.on_fire_onchanged(this,this.tabindex,_a);}}if(_b!=0&&this.tabindex==_b-1){_k[_b-1]._stat_change("focus","focused");}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;this._rearrangeButton();this._drawButton();if(_c.length==0){this.set_visible(false);}return 0;};_pTab.exchangeTabpage=function(_a,_b){var _c=this.currentstyle.buttonmargin;var _d=this._child_list;if(_d[_b]&&_d[_a]){var _e=_d[_a];_d[_a]=_d[_b];_d[_b]=_e;var _f=this._tabButtons;_e=_f[_a];_f[_a]=_f[_b];_f[_b]=_e;var _g=this._buttonRect;_e=_g[_a];_g[_a]=_g[_b];_g[_b]=_e;var _h=_a>_b?_b:_a;var _i=_a>_b?_a:_b;var _j=this._buttonRect[_h];var _k=this._buttonRect[_i];_j.left=_k.left;_j.right=_j.left+this._buttonWidth[_i];var _l=_g[_h].right-_g[_h+1].left+_c.right;if(_l!=_c.right){for(var _q=_h+1;_q<=_i;_q++ ){_g[_q].left+=_l;_g[_q].right+=_l;}}_k.left=_g[_i-1].right+_c.right;_k.right=_k.left+this._buttonWidth[_h];if(_g[_i+1]){_l=_g[_i].right-_g[_i+1].left+_c.right;if(_l!=_c.right){var _m=_g.length;for(var _q=_i+1;_q<_m;_q++ ){_g[_q].left+=_l;_g[_q].right+=_l;}}}var _n=this._tabextrabuttons;_e=_n[_a];_n[_a]=_n[_b];_n[_b]=_e;var _o=this._buttonWidth;_e=_o[_a];_o[_a]=_o[_b];_o[_b]=_e;var _p=this._buttonHeight;_e=_p[_a];_p[_a]=_p[_b];_p[_b]=_e;if(this.tabindex==_a){this.tabindex=_b;}else if(this.tabindex==_b){this.tabindex=_a;}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;this._rearrangeButton();this._drawButton();}};_pTab.moveTabpage=function(_a,_b){var _c=this.components;var _d=_c.length;if(_b<0||_d<=_b||_d<=_a||_a<0){return  -1;}if(_a==_b){return  -1;}var _e=this.tabindex;var _f=null,_g=null,_h=null,_i=null,_j=null;_f=_c[_e];var _k=_f.id;var _l=_c[_b];var _m=_c[_a];var _n=this._tabButtons;var _o=_n[_b];var _p=_n[_a];var _q=this._buttonRect;var _r=_q[_b];var _s=_q[_a];var _t=this._buttonWidth;var _u=_t[_b];var _v=_t[_a];var _w=this._buttonHeight;var _x=_w[_b];var _y=_w[_a];if(_a<_b){for(var _ad=_a+1;_ad<_d;_ad++ ){this._child_list[_ad-1]=this._child_list[_ad];this._child_list[_ad-1]._index=_ad-1;_c[_ad-1]=_c[_ad];_c[_ad-1]._index=_ad-1;_n[_ad-1]=_n[_ad];_n[_ad-1]._index=_ad-1;_q[_ad-1]=_q[_ad];_t[_ad-1]=_t[_ad];_w[_ad-1]=_w[_ad];if(_ad==_b){this._child_list[_ad]=_m;this._child_list[_ad]._index=_ad;_c[_ad]=_m;_c[_ad]._index=_ad;_n[_ad]=_p;_n[_ad]._index=_ad;_q[_ad]=_s;_t[_ad]=_v;_w[_ad]=_y;break;}}}else{for(var _ad=_a;_ad>_b;_ad-- ){this._child_list[_ad]=this._child_list[_ad-1];this._child_list[_ad]._index=_ad;_c[_ad]=_c[_ad-1];_c[_ad]._index=_ad;_n[_ad]=_n[_ad-1];_n[_ad]._index=_ad;_q[_ad]=_q[_ad-1];_t[_ad]=_t[_ad-1];_w[_ad]=_w[_ad-1];}this._child_list[_ad]=_m;this._child_list[_ad]._index=_ad;_c[_ad]=_m;_c[_ad]._index=_ad;_n[_ad]=_p;_n[_ad]._index=_ad;_q[_ad]=_s;_t[_ad]=_v;_w[_ad]=_y;}this.all=this.components;_d=_c.length;for(var _ad=0;_ad<_d;_ad++ ){if(_k==_c[_ad].id){this.tabindex=_ad;}}this._scrollIndex=0;var _z=this._getSpinSize();var _aa=2*_z[0]+2;var _z=this._getSpinSize();var _aa=2*_z[0]+2;var _ab=0;var _ac=0;for(var _ad=0,_ae=_t.length;_ad<_ae;_ad++ ){_ab+=_t[_ad];_aa+=_ab;if(this._orgwidth<_ab){if(this._orgwidth<_aa){_ac=_ad-1;break;}}_ac=_ad;}if(_ac>=this.tabindex){this._scrollIndex=0;}else{this._scrollIndex=this.tabindex-(this._scrollIndex+_ac);}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;this.tabpages=this.components;this._rearrangeButton();this._drawButton();return 0;};_pTab.getTabpageCount=function(){return this._child_list.length;};_pTab.getIndex=function(_a,_b){var _c=this._GetTabIndex(parseInt(_a,10),parseInt(_b,10));return _c;};_pTab.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){return  -1;}if(this[_a]){return  -1;}if(!(_b instanceof nexacro.Tabpage)){return  -1;}_b._refform=this;_b._index=this._child_list?this._child_list.length:0;this[_a]=_b;this.all.add_item(_a,_b);_c=this.components.add_item(_a,_b);this.tabpages=this.components;this._child_list.push(_b);if(this.preload||this._child_list[this._setidx]==_b){_b._url=_b.url;_b.on_apply_url(_b.async);}if(!_b._url){_b._is_loaded=true;}};_pTab._on_beforeclose=function(_a){if(!this._is_alive){return;}if(!_a){_a=this;}var _b="";var _c=this.tabpages;var _d=_c.length;for(var _g=0;_g<_d;_g++ ){var _e=_c[_g];if(!_e._isLoaded){continue;}var _f=_e._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}return _b;};_pTab._on_close=function(){if(!this._is_alive){return;}var _a=this.tabpages;var _b=_a.length;for(var _g=0;_g<_b;_g++ ){var _c=_a[_g];if(!_c._isLoaded){var _d=_c._child_list;var _e=_d?_d.length:0;for(var _h=0;_h<_e;_h++ ){var _f=_d[_h];if(_f._on_close){_f._on_close();}}continue;}_c._on_close();}};_pTab.on_apply_addChild=function(){var _a,_b;var _c=this.components;var _d=_c.length;var _e=this._pseudo;for(var _i=0;_i<_d;_i++ ){var _f=this._createTabbutton(_i);_f.createComponent();this._tabButtonBorders[_i].createComponent();}if(this._child_list[0]){this._child_list[0]._on_activate();}this._drawButton();var _g=this._isExtraButton();for(var _i=0;_i<_d;_i++ ){_b=_c[_i];if(_b instanceof nexacro.Tabpage){_b._is_loadcallback=this._is_loadcallback;}_a=_b.id;if(_g){var _h=this._createtabextrabutton(_i);_h.createComponent();}if(this._setidx==_i){if(_b.url!=""&&_b.url!=undefined){_b._url=_b.url;_b._isLoaded=true;}_b.set_visible(true);this._createTabpage(_i,_a,_b);_b.initProperties();}else{{this._createTabpage(_i,_a,_b);}_b.set_visible(false);}if(_b instanceof nexacro.Tabpage){_b._is_loadcallback=false;}}if(_g){this.on_apply_style_showextrabutton(this.currentstyle.showextrabutton);}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;};_pTab._getExtrabuttonIdx=function(_a){var _b=this._tabextrabuttons;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]==_a){return _d;}}return  -1;};_pTab._saveImageSize=function(_a,_b,_c){this._imagewidth=_b;this._imageheight=_c;};_pTab._getImgSize=function(){var _a=this._find_pseudo_obj("buttonbackground",this._pseudo,"background");if(!_a){return;}var _b=null;_b=nexacro._getImageSize(_a.image,this._saveImageSize,this,undefined,_a.image);if(_b){this._imagewidth=_b.width;this._imageheight=_b.height;}};_pTab._getDlgCode=function(_a,_b,_c,_d){var _e=this._focusobj;if(_e&&!(_e instanceof nexacro.TabComponent)){return _e._getDlgCode(_a,_b,_c,_d);}else{var _f=true;if(_c&&_d){_f=true;}else if(_d){_f=false;}return {want_tab:_f,want_return:false,want_escape:false,want_chars:false,want_arrows:_a==nexacro.Event.KEY_UP?false:true};}};_pTab._getRecalcCanvasXY=function(_a,_b,_c){var _d=0,_e=0;var _f=this._getRootForm();var _g=this._getRootComponent(this);var _h=0;if(this.parent&&!(this instanceof nexacro.ScrollBarCtrl)){var _i=this.parent._control_element;if(_i&&_i instanceof nexacro.ScrollableControlElement){_d=_i.scroll_left;_e=_i.scroll_top;_i=null;}if(_f&&_f!=this&&!this._is_subcontrol&&_f==_g.parent){var _i=_f._control_element;if(_i){_h=_i.border?_i.border._left_width:0;border_top=_i.border?_i.border._top_width:0;}}}_b+=this._adjust_left+_h-_d||0;_c+=this._adjust_top+_h-_e||0;var _j=this._getWindow();var _k=this.currentstyle;var _l=_j.findComponent(_a);if(_l!=this){if(_k&&_k.padding){_b+=_k.padding.left;_c+=_k.padding.top;}}return [_b,_c];};_pTab._createTabBorder=function(){var _a=new nexacro.TabBorderCtrl("tableftborder",this.position,0,0,0,0,null,null,this);this._tabBorders[0]=_a;_a._is_subcontrol=true;var _b=new nexacro.TabBorderCtrl("tabrightborder",this.position,0,0,0,0,null,null,this);this._tabBorders[1]=_b;_b._is_subcontrol=true;var _c=new nexacro.TabBorderCtrl("tabcenterborder",this.position,0,0,0,0,null,null,this);this._tabBorders[2]=_c;_c._is_subcontrol=true;_a.createComponent();_b.createComponent();_c.createComponent();};_pTab._createTabbutton=function(_a){if(_a<0){_a=this._child_list.length-1;}var _b=0;var _c=this._child_list[_a];var _d=0;var _e=this.on_find_CurrentStyle_buttonmargin(this._pseudo);if(_a==0){_d=0;}else{_d=this._buttonRect[_a-1].right+_e.right;}var _f=this._getButtonSize(_a);switch(this._getTabPosition()){case "top":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;case "left":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;case "bottom":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;case "right":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;}var _g=new nexacro.TabButtonCtrl(_c.id+"_tabbutton",this.position,0,0,1,1,null,null,this);var _f=this._buttonRect[_a];var _h=_f.left;var _i=_f.top;var _j=_f.right;var _k=_f.bottom;var _l={left:_h,top:_i,right:_j,bottom:_k};this._buttonWidth[_a]=_l.right-_l.left;this._buttonHeight[_a]=_l.bottom-_l.top;this._tabButtons[_a]=_g;_g.selected=true;_g._is_subcontrol=true;_g._index=_a;_g.set_text(_c.text);var _m=this._buttonRect[_a];this._tabButtonBorders[_a]=new nexacro.TabButtonBorderCtrl(_c.id+"tabbuttonborder",this.position,_m.left,_m.top,_m.width,_m.height,null,null,this);this._tabButtonBorders[_a]._index=_a;this._tabButtonBorders[_a].set_visible(false);this._tabButtonLeftBorders[_a]=new nexacro.TabButtonBorderCtrl("tabbuttonleftborder",this.position,_m.left,_m.top,_m.width,_m.height,null,null,this);this._tabButtonLeftBorders[_a].createComponent();this._tabButtonLeftBorders[_a].set_visible(false);return _g;};_pTab._setFocusTabButton=function(_a,_b){if(_a==null){_a=this.tabindex;}if(_b==null){_b=this._oldtabindex;}if(this._tabButtonBorders[_b]!=null){this._tabButtonBorders[_b].set_visible(false);}if(this._tabButtonBorders[_a]!=null){if(_a==this.tabindex){this._tabButtonBorders[_a].set_visible(true);var _c=this.on_find_CurrentStyle_buttonbordertype(this._pseudo);if(_c){this._tabButtonBorders[_a].style.set_bordertype(_c);}if(this.style.focusborder){this._tabButtonBorders[_a].style.set_border(this.style.focusborder._value);}if(this._buttonRect[_a]!=null){var _d=this._buttonRect[_a];var _e=this.on_find_CurrentStyle_buttonborder(this._pseudo);var _f=1;if(_e){_f+=_e._top_width;}var _g=_d.left+_f;var _h=_d.top+_f;var _i=_d.right-_g-_f;var _j=_d.bottom-_h-_f;this._tabButtonBorders[_a].move(_g,_h,_i,_j);}}else{this._tabButtonBorders[_a].set_visible(false);}}};_pTab._createtabextrabutton=function(_a){var _b=null;if(this._tabextrabuttons[_a]){_b=this._tabextrabuttons[_a];}else{_b=new nexacro.TabExtraButtonCtrl("extrabutton",this.position,0,0,20,10,null,null,this);this._tabextrabuttons[_a]=_b;_b._is_subcontrol=true;_b._index=_a;_b.set_visible(false);}this._buttonWidth[_a]+=_b._client_width;_b.parent=this;return _b;};_pTab._createTabpage=function(_a,_b,_c){if(_c==null){return _c;}_c._refobj=this;_c._index=_a;_c._applyClientPadding=false;_c._preLoad(this.preload);if(!_c._control_element){_c.createComponent();}var _d=_c._child_list;var _e=_d?_d.length:0;for(var _g=0;_g<_e;_g++ ){if(_d[_g] instanceof nexacro.Grid){var _f=_d[_g]._selectinfo.curdsrow;if(_f== -1){_f=0;}_d[_g]._selectRow(_f,true);}}_c.on_apply_prop_tooltip();_c.set_visible(false);};_pTab._checkContainerTabFocus=function(){if(nexacro._enableaccessibility&&this._isAccessibilityEnable()==true){return true;}return this._isBtnFocusAcceptable();};_pTab._on_getAccessibilityAdditionalLabel=function(){return this.tabindex+" "+this.tabpages.length;};_pTab.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=null;var _e=this._getTabIndex();if(_a){if(this._accessibility_tabindex==_e){_d=this._child_list[_e];}else{this._accessibility_tabindex++ ;if(this._accessibility_tabindex<this.tabpages.length){_d=this._tabButtons[this._accessibility_tabindex];}else{this._accessibility_tabindex= -1;this._accessibility_is_next=true;_d=this.parent._searchNextTabFocus(this,undefined,undefined,true)[0];}}}else{if(this._accessibility_tabindex==_e){this._accessibility_tabindex-- ;_d=this._tabButtons[this._accessibility_tabindex];}else{this._accessibility_tabindex-- ;if(this._accessibility_tabindex>=0){if(this._accessibility_tabindex==_e){_d=this._child_list[_e];}else{_d=this._tabButtons[this._accessibility_tabindex];}}}}if(_d){_d._setAccessibilityNotifyEvent(_a);return true;}return false;};_pTab._setRtlDirectionOfComps=function(_a){var _b=this._rtldirection;var _c=_a.length;for(var _e=0;_e<_c;_e++ ){var _d=_a[_e];if(_d){_d._setRtlDirection(_b);}}};_pTab.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);if(this._rtldirection){this.on_change_containerRect(this._client_width,this._client_height);}var _a=this._rtldirection;if(this._tabpagearea){this._tabpagearea._setRtlDirection(_a);}if(this.spinupbutton){this.spinupbutton._setRtlDirection(_a);}if(this.spindownbutton){this.spindownbutton._setRtlDirection(_a);}this._setRtlDirectionOfComps(this.tabpages);this._setRtlDirectionOfComps(this._tabButtons);this._setRtlDirectionOfComps(this._tabButtonBorders);this._setRtlDirectionOfComps(this._tabButtonLeftBorders);this._setRtlDirectionOfComps(this._tabBorders);this._setRtlDirectionOfComps(this._tabextrabuttons);if(this.extrabutton){this.extrabutton._setRtlDirection(_a);}};delete _pTab;}if(!nexacro.TabExtraButtonCtrl){nexacro.TabExtraButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._index=0;this._is_reference_control=false;this._accessibility_role="tabitem";};var _pTabExtraButtonCtrl=nexacro.TabExtraButtonCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TabExtraButtonCtrl);_pTabExtraButtonCtrl._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}this.on_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,this);var _m=this.parent;if(_m){return this.parent._on_btn_lbuttondown(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);}return;};_pTabExtraButtonCtrl.on_click_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.parent;if(_j){_j._onclick_basic_action(this,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i+this._adjust_top,_j,_j);}return;};_pTabExtraButtonCtrl._on_touchstart=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}this.on_touchstart_basic_action(_a,_c,_f);return this.parent._on_btn_touchstart(this,_a,_b,_c,_d,_e,_f);};_pTabExtraButtonCtrl._on_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}this.on_mousemove_basic_action();return this.parent._on_btn_mousemove(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};delete _pTabExtraButtonCtrl;}if(!nexacro.TabButtonCtrl){nexacro.TabButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._iscanchange=true;this._index=0;this._is_reference_control=false;this._accessibility_role="tabitem";};var _pTabButtonCtrl=nexacro.TabButtonCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TabButtonCtrl);_pTabButtonCtrl.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");if(!_b){_b=nexacro._getCachedStyleObj("align","center middle");}return _b;};_pTabButtonCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("buttonbackground",_a,"background");};_pTabButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("buttongradation",_a,"gradation");};_pTabButtonCtrl.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("buttonborder",_a,"border");};_pTabButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("buttonbordertype",_a,"bordertype");};_pTabButtonCtrl.on_find_CurrentStyle_padding=function(_a){return this.parent.on_find_CurrentStyle_buttonpadding(_a);};_pTabButtonCtrl.on_find_CurrentStyle_margin=function(_a){return this.parent.on_find_CurrentStyle_buttonmargin(_a);};_pTabButtonCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a);};_pTabButtonCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pTabButtonCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a);};_pTabButtonCtrl.on_find_CurrentStyle_letterspace=function(_a){return this.parent.on_find_CurrentStyle_letterspace(_a);};_pTabButtonCtrl.on_apply_style_border=function(_a){var _b=this._control_element;if(_b){var _c=this.currentstyle;this._setElementBorder(this.getElement(),_a,_c.bordertype);_b.setElementBackground(_c.background,_c.gradation);this._updateClientSize(_b);}};_pTabButtonCtrl.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pTabButtonCtrl.on_apply_style_align=function(_a){if(this._text_elem&&_a){var _b=_a.halign==""?"center":_a._halign;var _c=_a.valign==""?"middle":_a._valign;if(this._img_elem&&this.currentstyle.imagealign){this._updateElementPositions(_a,this.currentstyle.imagealign);}else{this._text_elem.setElementAlignXY(_b,_c);nexacro._updateTextElementPositions(this);}}else{this.currentstyle.align="";}};_pTabButtonCtrl.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);if(this._img_elem&&this.currentstyle.align&&this.currentstyle.imagealign){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}}};_pTabButtonCtrl.on_apply_style_letterspace=function(_a){if(this._text_elem){this._text_elem.setElementLetterSpace(_a);if(this._img_elem&&this.currentstyle.align&&this.currentstyle.imagealign){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}}};_pTabButtonCtrl.on_apply_style_rtlimagemirroring=function(_a){return;};_pTabButtonCtrl.on_change_status=function(_a,_b){var _c=this.parent;if((_b=="normal"||_b=="mouseover"||_b=="pushed")&&(_c._tabButtons&&_c._tabButtons[_c.tabindex]&&this.name==_c._tabButtons[_c.tabindex].name)){_a="select";}if(_a==""){this._status="enable";}switch(_a){case "enable":if(this._status!="focus"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "disable":this._status="disable";this.enable=false;break;case "focus":if(this._status!="disable"){this._status="focus";}break;case "notfocus":if(this._status!="disable"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "select":this._selected=true;if(this._status!="disable"||this._use_enable){this._status="enable";_b="selected";}break;case "notselect":this._selected=false;if(this._status!="disable"){this._status="enable";}break;case "push":this._pushed=true;break;case "notpush":this._pushed=false;if(this._selected&&_b=="normal"){_b="selected";}break;case "readonly":if(!this._readonly){this._readonly=true;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="enable"){this._status="readonly";}break;case "writable":if(this._readonly){this._readonly=false;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="readonly"){this._status="enable";}break;}this.on_apply_pseudo(_b);this._setElementBorder(this.getElement(),this.currentstyle.border,this.currentstyle.bordertype);this.parent._drawButton();};_pTabButtonCtrl._setElementBorder=function(_a,_b,_c){if(!_b){return;}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){return;}var _d=_b.clone();_d._linecnt=4;var _e=this.parent._getTabPosition();if(_e=="top"){_d.set_bottom_width("0");}else if(_e=="bottom"){_d.set_top_width("0");}else if(_e=="left"){_d.set_right_width("0");}else if(_e=="right"){_d.set_left_width("0");}_a.setElementBorder(_d,_c);};_pTabButtonCtrl._setElementPosition=function(_a,_b,_c,_d,_e,_f){if(this._popup){_b=0;_c=0;}if(_d<0){_d=0;}if(_e<0){_e=0;}_a.setElementPosition(_b,_c);_a.setElementSize(_d,_e);this._updateClientSize(_a);};_pTabButtonCtrl._getDlgCode=function(_a,_b,_c,_d){var _e=true;if(_a==nexacro.Event.KEY_UP){var _f=this.parent;if(!_f._isAccessibilityEnable()){_e=false;}}var _g=true;if(_c&&_d){_g=true;}else if(_d){_g=false;}if(!this.enable&&_a==nexacro.Event.KEY_TAB&&!_c){_g=false;}return {want_tab:_g,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pTabButtonCtrl._updateAll=function(_a){this._control_pseudo="";this._contents_pseudo="";this._stat_change(this._status,_a);};_pTabButtonCtrl.on_apply_custom_setfocus=function(_a){if(this.parent._isBtnFocusAcceptable()){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}else if(this.parent.tabpages[this._index]){this.parent.tabpages[this._index].on_apply_custom_setfocus(_a);}};_pTabButtonCtrl._setAccessibilityNotifyEvent=function(_a){var _b=this.parent;if(_b._accessibility_tabindex<0&&_b._tabButtons&&_b._tabButtons.length>0){if(_a){_b._accessibility_tabindex=0;}else{_b._accessibility_tabindex=_b.tabpages.length-1;}return _b._tabButtons[_b._accessibility_tabindex]._setAccessibilityNotifyEvent(_a);}else{_b._accessibility_tabindex=this._index;return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);}};_pTabButtonCtrl._on_sys_lbuttondown=function(_a,_b){var _c=this._on_lbuttondown(_a,_b);return _c;};_pTabButtonCtrl._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}this._on_focus(true);var _m=this.parent._on_btn_lbuttondown(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);return _m;};_pTabButtonCtrl.on_click_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.parent;if(_j){_j._onclick_basic_action(this,_b,_c,_d,_e,_f,_g,_h,_i,_j,_j);}return;};_pTabButtonCtrl._on_focus=function(_a,_b,_c,_d,_e,_f){if(this.parent&&this.parent._focusobj){var _g=this.parent._focusobj._last_focused;if(_g){var _h=_g.parent;if(_h&&_h instanceof nexacro.Tabpage){if(_h._index!=this._index&&_g.visible==true){var _i=this.parent._focusobj._getLastFocused();var _j=this.parent._focusobj._searchNextTabFocus(_i);if(_j&&_j[0]){this.parent._tabButtons[_h._index]._setFocus(true);}}}}}nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);this._setTabFocusObj(this);if(this._selected){this._stat_change("select","selected");}if(this.parent._isBtnFocusAcceptable()){this.parent._child_list[this._index]._last_focused=null;}};_pTabButtonCtrl._on_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}this._on_focus(true);var _n=this.parent._on_btn_lbuttondown(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);return _n;};_pTabButtonCtrl._setTabFocusObj=function(_a){if(!this._is_alive){return;}this.parent._focusobj=_a;};_pTabButtonCtrl._getTabFocusObj=function(){if(!this._is_alive){return;}return this.parent._focusobj;};_pTabButtonCtrl.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.parent._keydown_filter(null,_a,_b,_c,_d,undefined,_e,_f)){return true;}if(this.parent.onkeydown&&this.parent.onkeydown._has_handlers){var _g=this.parent._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_g,_g);this._on_focus(true);return this.parent.onkeydown._fireSysEvent(this,_h);}return true;};delete _pTabButtonCtrl;}if(!nexacro.TabPageArea){nexacro.TabPageArea=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.DivCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};var _pTabPageArea=nexacro._createPrototype(nexacro.DivCtrl,nexacro.TabPageArea);nexacro.TabPageArea.prototype=_pTabPageArea;_pTabPageArea._type_ame="TabPageArea";_pTabPageArea.on_find_CurrentStyle_cursor=function(_a){if((this.parent._status=="focus")&&(_a=="normal")){_a="focused";}return this.parent.on_find_CurrentStyle_cursor(_a);};_pTabPageArea.on_find_CurrentStyle_border=function(_a){if((this.parent._status=="focus")&&(_a=="normal")){_a="focused";}var _b=this.parent._find_pseudo_obj("border",_a,"border");var _c=this.parent._find_pseudo_obj("bordertype",_a,"bordertype");var _d=_b.clone();var _e=this.parent._getTabPosition();_d._linecnt=1;if(_c.type=="round"){_d._copytoSubObjects();}_d._linecnt=4;if(_e=="top"){_d.set_top_width("0");}else if(_e=="bottom"){_d.set_bottom_width("0");}else if(_e=="left"){_d.set_left_width("0");}else if(_e=="right"){_d.set_right_width("0");}return _d;};_pTabPageArea.on_find_CurrentStyle_bordertype=function(_a){if((this.parent._status=="focus")&&(_a=="normal")){_a="focused";}return this.parent._find_pseudo_obj("bordertype",_a,"bordertype");};_pTabPageArea.resetScroll=function(){this._onRecalcScrollSize();this._onResetScrollBar();};_pTabPageArea._onRecalcScrollSize=function(_a){var _b=this._control_element;if(_b&&this._is_scrollable){var _c=0,_d=0;if(!_a){var _e=this.components;for(var _k=0,_l=_e.length;_k<_l;_k++ ){var _f=_e[_k];if(_f&&_f.visible){_c=Math.max(_c,_f.getOffsetRight());_d=Math.max(_d,_f.getOffsetBottom());}}_b.setElementScrollMaxSize(_c,_d);}else if(_a.visible){var _g=_b.container_maxwidth;var _h=_b.container_maxheight;var _i=_a.getOffsetRight();var _j=_a.getOffsetBottom();if(_g<_i||_h<_j){_c=Math.max(_g,_i);_d=Math.max(_h,_j);_b.setElementScrollMaxSize(_c,_d);}}}};_pTabPageArea.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);this.resetScroll();};delete _pTabPageArea;}if(!nexacro.Tabpage){nexacro.Tabpage=function(_a,_b){nexacro.Div.call(this,_a,"absolute",0,0,0,0,null,null,_b);this._isSelfstyle=true;this._isLoaded=false;this.enableflag=true;this._index=0;this.text="";this._url="";this._is_reference_control=false;this._accessibility_role="tabpage";this._want_tab=false;this._want_arrow=true;this._apply_client_padding=false;};var _pTabPage=nexacro._createPrototype(nexacro.Div,nexacro.Tabpage);nexacro.Tabpage.prototype=_pTabPage;_pTabPage._type_name="Tabpage";_pTabPage.bringToFront=function(){var _a=this.getElement();if(_a){_a.bringToFrontUseZIndex();}_a=null;return;};_pTabPage.sendToBack=function(){var _a=this.getElement();if(_a){_a.sendToBackUseZIndex();}_a=null;return;};_pTabPage.bringToPrev=null;_pTabPage.moveToNext=null;_pTabPage.moveToPrev=null;_pTabPage.sendToNext=null;_pTabPage.on_find_CurrentStyle_background=function(_a){return this._find_pseudo_obj("background",_a,"background");};_pTabPage.on_find_CurrentStyle_gradation=function(_a){return this._find_pseudo_obj("gradation",_a,"gradation");};_pTabPage.on_find_CurrentStyle_margin=function(_a){return this._find_pseudo_obj("margin",_a,"margin");};_pTabPage.on_find_CurrentStyle_padding=function(_a){return this._find_pseudo_obj("padding",_a,"padding");};_pTabPage.on_get_style_accessibility_label=function(){return this.text;};_pTabPage.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){return  -1;}if(this[_a]){return  -1;}if(!_b._type_name){return  -1;}_b.parent=this;_b._refform=this;this[_a]=_b;this.all.add_item(_a,_b);if(_b._is_component){_c=this.components.add_item(_a,_b);this._child_list.push(_b);}else if(_b instanceof nexacro.BindItem){_c=this.binds.add_item(_a,_b);}else{_c=this.objects.add_item(_a,_b);}return _c;};_pTabPage.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;var _b=this._child_list;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];_d._setRtlDirection(_a);}};_pTabPage.set_url=function(_a){if(_a!=this.url){this.url=_a;if((this.parent instanceof nexacro.TabComponent)&&this.parent._is_created==true){if(_a.substring(0,4).toLowerCase()=="url("){_a=_a.substring(4,_a.length-1);}this._url=_a;this.on_apply_url(this.async);}}};_pTabPage.on_apply_url=function(_a){if(this._url&&this._url.length>0){this._urlloading=true;this._setstylecomplete=false;application.getLayoutManager().clearLayout(this);var _b=this.parent;while(!_b._url){_b=_b.parent;}if(this._apply_client_padding){this._delete_text();}this.loadForm(this._url,_a,true,_b._url);this._isLoaded=true;}else{this.on_apply_emptyurl();this.on_apply_applystyletype();}};_pTabPage.set_text=function(_a){var _b=nexacro._toString(_a);if(this.text==_b){return;}this.text=_b;var _c=this.parent;var _d=null;if(_c){if(_c._tabButtons.length>0){_d=_c._tabButtons[this._index];if(_d&&_d.id!=this.id){_d.set_text(this.text);_c._recalcLayout();}}}};nexacro._is_enable_setting=false;_pTabPage.set_enable=function(_a){_a=nexacro._toBoolean(_a);var _b=this._getWindow();var _c;if(!this._is_subcontrol&&!_a&&this._is_created&&this.parent){if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){var _d=this._getForm();var _e=this.tabstop;this.tabstop=false;_c=_d._searchNextTabFocus();this.tabstop=_e;}}var _f=this._control_element;this.enable=_a;if(this._is_created){var _g=(this.parent._real_enable&&_a);if(this._real_enable!=_g){nexacro._is_enable_setting=true;this._setEnable(_g);nexacro._is_enable_setting=false;var _h=this.parent;if(!this._is_subcontrol&&this._is_created&&_h&&_h._is_created){if(_g){if(_b&&_b._indexOfCurrentFocusPaths(_h)==_b._getCurrentFocusPathsLength()-1&&!_h._last_focused){this._on_focus(true);}}else{if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){_b._removeFromCurrentFocusPath(this,false);if(_c&&_c[0]){_c[0]._on_focus(true);}}}}}}else{this._resetTabPage(_a);}};_pTabPage.on_apply_text=function(){};_pTabPage.on_apply_prop_tooltip=function(){var _a=this.getElement();if(_a){_a.setElementToolTip(this.tooltiptext);}};_pTabPage.on_apply_prop_enable=function(_a){nexacro.Form.prototype.on_apply_prop_enable.call(this,_a);this._resetTabPage(_a);};_pTabPage._resetTabPage=function(_a){var _b=this.parent;if(_b){var _c=_b._child_list;var _d=this._index;if(_b._tabButtons.length>0){var _e=_c[_d];var _f=_b._tabButtons[_d];if(_f&&_f.id!=this.id){if(_e!=null){if(_b.enable){if(_a){if(_d==_b.tabindex){_f._use_enable=true;_f.set_enable(true);_e.set_visible(true);_f._stat_change("select","selected");_f._use_enable=null;}else{_e.set_visible(false);_f.set_enable(true);_f._status="notselect";_f._pseudo="normal";_f._stat_change(_f._status,_f._pseudo);}}else{_f._status="disable";_f._pseudo="disabled";_f._stat_change(_f._status,_f._pseudo);}}else{_f._status="disable";_f._pseudo="disabled";_f._stat_change(_f._status,_f._pseudo);}}}}}};_pTabPage.set_visible=function(_a,_b){if(_a===undefined||_a===null){return;}var _c=this._control_element;_a=nexacro._toBoolean(_a);if(this.visible!=_a){this.visible=_a;if(_c){if(!this.visible){this.sendToBack();}else{this.bringToFront();}this._setAccessibilityStatHidden(_a);if(this.visible){nexacro._resetVML(this);this._on_activate();if(!this._is_subcontrol&&this._is_created&&this.parent&&this.parent._is_created&&!_b){if(this.parent._focusobj instanceof nexacro.Tabpage){this._on_focus(true);}}}}}};_pTabPage.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onclick&&this.onclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onclick._fireEvent(this,_m);}return false;};_pTabPage._on_focus=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);this._setTabFocusObj(this);};_pTabPage.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(!this.enable){return;}if(_a==nexacro.Event.KEY_TAB){return;}return nexacro.Form.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pTabPage._setTabFocusObj=function(_a){if(this.parent){this.parent._focusobj=_a;}};_pTabPage._getTabFocusObj=function(){return this.parent._focusobj;};_pTabPage._preLoad=function(_a){this.preload=_a;};_pTabPage._loadURL=function(){if(this.parent.preload!=true){return;}this.on_apply_url(true);};_pTabPage._isEnable=function(){return this.parent._isEnable();};_pTabPage._getDlgCode=function(_a,_b,_c,_d){var _e=true;var _f=this._want_arrow;if(_a==nexacro.Event.KEY_TAB){if(!this._getLastFocused()&&!this._getTabOrderFirst()){_e=false;}if(_e){if(_c&&_d){_e=true;}else if(!_c){_e=false;}}}return {want_tab:_e,want_return:false,want_escape:false,want_chars:false,want_arrows:_f};};_pTabPage._searchPrevTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l&&_a&&!_b){_j=this._getTabOrderNext(_a, -1,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderLast(_d);}if(!_j){var _m=this._getLastFocused();var _n=this._getTabOrderFirst();var _o=this.parent;if(_m==_n){_o=_o.parent;}var _p=this.parent._getSortedDecendants(_o,undefined,_d);var _q=_p?_p.length:0;var _r=this.parent.components;if(_f==false&&(this.parent._is_frame||this._is_window)){_i=[null,this, -1];}else if(_d&&this._checkContainerTabFocus()==true&&this.parent._is_form){_i=[this];}else if(this.parent._is_form&&_q>0){_i=_o._searchPrevTabFocus(this.parent,undefined,undefined,_d,_e);}else{_j=this._getTabOrderLast(_d);}}}else{if(!_b){if(this instanceof nexacro.PopupDiv){_j=this._getTabOrderLast(_d);}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}if(!_i){_j=this._getTabOrderLast(_d);if(!_j&&_i!==null){if(!this.parent._isBtnFocusAcceptable()){_want_tab=false;}}}}return {want_tab:_want_tab,want_return:false,want_escape:false,want_chars:false,want_arrows:_want_arrow};};_pTabPage._searchPrevTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l&&_a&&!_b){_j=this._getTabOrderNext(_a, -1,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderLast(_d);}if(!_j){if(this.parent.focusacceptable){return [this.parent._tabButtons[this._index]];}var _m=this._getLastFocused();var _n=this._getTabOrderFirst();var _o=this.parent;if(_m==_n){_o=_o.parent;}var _p=this.parent._getSortedDecendants(_o,undefined,_d);var _q=_p?_p.length:0;var _r=this.parent.components;if(_f==false&&(this.parent._is_frame||this._is_window)){_i=[null,this, -1];}else if(_d&&this._checkContainerTabFocus()==true&&this.parent._is_form){_i=[this];}else if(this.parent._is_form&&_q>0){_i=_o._searchPrevTabFocus(this.parent,undefined,undefined,_d,_e);}else{_j=this._getTabOrderLast(_d);}}}else{if(!_b){if(this instanceof nexacro.PopupDiv){_j=this._getTabOrderLast(_d);}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}if(!_i){_j=this._getTabOrderLast(_d);if(!_j&&_i!==null){if(_d&&_g&&this._checkContainerTabFocus()==true){_i=[this];}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}}}if(_j&&!_i){var _s=(_j._is_form?_j._getSortedDecendants(_j,undefined,_d):null);var _t=_s?_s.length:0;if(_j._is_form&&_t>0){_i=_j._searchPrevTabFocus(null,true,undefined,_d,_e);}else{_i=[_j];}}return _i;};_pTabPage._on_bubble_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){this._dragenter_first_comp=this;_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_b==this){this.on_dragenter_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragenter_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else{}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}this._stat_change("","mouseover");}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){_k+=this._adjust_left-this._scroll_left||0;_l+=this._adjust_top-this._scroll_top||0;return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pTabPage._on_bubble_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_p==this){this.on_dragleave_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragleave_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else{}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}if(!_b||!this._contains(_b)){this._stat_change("","normal");}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){_k+=this._adjust_left-this._scroll_left||0;_l+=this._adjust_top-this._scroll_top||0;return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pTabPage._on_bubble_close=function(_a,_b,_c){var _d=false;if(_a===undefined){_d=true;_b=this;if(!_c){_c=this;}}if(this.enableevent){if(_d){_a=false;}this.on_fire_onclose(this,_b,_c);}var _e=this.parent;if(_e){if((!this.onclose||(this.onclose&&!this.onclose.stoppropagation))&&_a!==true&&!_e._is_application){return _e._on_bubble_close(_a,_b,_c);}}};_pTabPage.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=null;var _e=this.parent;var _f=_e._getTabIndex();var _g=_e._tabButtons.length;var _h=this._getWindow();var _i=_h._accessibility_last_focused_comp;if(_a){_d=this._searchNextTabFocus(_i,undefined,undefined,true)[0];if(_d.parent!=_b){_f++ ;_e._accessibility_tabindex=_f;_d=(_g>_f)?_e._tabButtons[_f]:_d;}}else{_d=this._searchPrevTabFocus(_i,undefined,undefined,true)[0];if(_d==_b){_d=_e._tabButtons[_f];}}if(_d){_d._setAccessibilityNotifyEvent(_a);return true;}return false;};_pTabPage._setAccessibilityNotifyEvent=function(_a){var _b=null;var _c=this._index;var _d=this.parent;var _e=_d._getTabIndex();if(_a){if(_c!=_e){_b=_d._tabButtons[_c];}else{_b=this._getTabOrderFirst(true,false);}}else{if(_c!=_e){_b=_d._tabButtons[_c];}else{_b=this._getTabOrderLast(true,false);}}if(_b){_b._setAccessibilityNotifyEvent(_a);}};delete _pTabPage;nexacro.TabpageCtrl=function(_a,_b){nexacro.Tabpage.call(this,_a,_b);this._is_subcontrol=true;};var _pTabpageCtrl=nexacro.TabpageCtrl.prototype=nexacro._createPrototype(nexacro.Tabpage,nexacro.TabpageCtrl);nexacro._setForControlStyleFinder(_pTabpageCtrl);delete _pTabpageCtrl;}if(!nexacro.TabBorderCtrl){nexacro.TabBorderCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTabBorderCtrl=nexacro._createPrototype(nexacro.Component,nexacro.TabBorderCtrl);nexacro.TabBorderCtrl.prototype=_pTabBorderCtrl;_pTabBorderCtrl.on_find_CurrentStyle_border=function(_a){if((this.parent._status=="focus")&&(_a=="normal")){_a="focused";}var _b=this.parent._find_pseudo_obj("border",_a,"border");var _c=this.parent._find_pseudo_obj("bordertype",_a,"bordertype");var _d=_b.clone();var _e=this.parent._getTabPosition();_d._linecnt=1;if(_c.type=="round"){_d._copytoSubObjects();}_d._linecnt=4;if(this.name=="tableftborder"){if(_e=="top"||_e=="left"){_d.set_bottom_width("0");_d.set_right_width("0");}else if(_e=="bottom"){_d.set_top_width("0");_d.set_right_width("0");}else if(_e=="right"){_d.set_left_width("0");_d.set_bottom_width("0");}}else if(this.name=="tabcenterborder"){if(_e=="top"){_d.set_bottom_width("0");_d.set_left_width("0");if(this.parent._tabButtons&&this.parent._tabButtons.length>0&&this.parent.tabindex> -1){var _f=this.parent.on_find_CurrentStyle_buttonbackground("selected");var _g=_f?_f.color:null;if(_g){_d.set_top_color(_g);_d.set_right_color(_g);}}}else if(_e=="bottom"||_e=="right"){_d.set_top_width("0");_d.set_left_width("0");if(this.parent._tabButtons&&this.parent._tabButtons.length>0&&this.parent.tabindex> -1){var _f=this.parent.on_find_CurrentStyle_buttonbackground("selected");var _g=_f?_f.color:null;if(_g){_d.set_bottom_color(_g);_d.set_right_color(_g);}}}else if(_e=="left"){_d.set_top_width("0");_d.set_right_width("0");if(this.parent._tabButtons&&this.parent._tabButtons.length>0&&this.parent.tabindex> -1){var _f=this.parent.on_find_CurrentStyle_buttonbackground("selected");var _g=_f?_f.color:null;if(_g){_d.set_bottom_color(_g);_d.set_left_color(_g);}}}}else{if(_e=="top"){_d.set_bottom_width("0");_d.set_left_width("0");_d.set_right_width("0");}else if(_e=="bottom"||_e=="right"){_d.set_top_width("0");_d.set_left_width("0");}else if(_e=="left"){_d.set_top_width("0");_d.set_right_width("0");}}return _d;};_pTabBorderCtrl.on_find_CurrentStyle_bordertype=function(_a){if((this.parent._status=="focus")&&(_a=="normal")){_a="focused";}var _b=this.parent._find_pseudo_obj("bordertype",this._pseudo,"bordertype");if(!_b){return null;}var _c=_b.clone();var _d=this.parent._getTabPosition();_c.set_lefttop(false);_c.set_leftbottom(false);_c.set_righttop(false);_c.set_rightbottom(false);return _c;};delete _pTabBorderCtrl;}if(!nexacro.TabButtonBorderCtrl){nexacro.TabButtonBorderCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._index= -1;nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTabButtonBorderCtrl=nexacro._createPrototype(nexacro.Component,nexacro.TabButtonBorderCtrl);nexacro.TabButtonBorderCtrl.prototype=_pTabButtonBorderCtrl;_pTabButtonBorderCtrl._setElementBorder=function(_a,_b,_c){var _d=_b.clone();_d._linecnt=1;_d._copytoSubObjects();_d._linecnt=4;var _e=nexacro._getWebColorFromXreColor(_b.top_color);if(_b.top_width&&_e!=""){}else if(_b.top_width!=""){_d.set_top_width("0");}_d.set_bottom_width("0");_d.set_left_width("0");_d.set_right_width("0");_a.setElementBorder(_d,_c);};_pTabButtonBorderCtrl._on_sys_lbuttondown=function(_a,_b){var _c=this._on_lbuttondown(_a,_b);return _c;};_pTabButtonBorderCtrl._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this.parent;var _n=_m._on_btn_lbuttondown(_m._tabButtons[this._index],_m._tabButtons[this._index]._text_elem,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);_m._tabButtons[this._index]._on_focus(true);return _n;};delete _pTabButtonBorderCtrl;}if(!nexacro.FileDownload){nexacro.FileDownloadEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onsuccess";this.fromobject=this.fromreferenceobject=_a;this.url=_c;this.targetfullpath=_d;};var _pFileDownloadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileDownloadEventInfo);nexacro.FileDownloadEventInfo.prototype=_pFileDownloadEventInfo;_pFileDownloadEventInfo._type_name="FileDownloadEventInfo";delete _pFileDownloadEventInfo;nexacro.FileDownloadErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ErrorEventInfo.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};var _pFileDownloadErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.FileDownloadErrorEventInfo);nexacro.FileDownloadErrorEventInfo.prototype=_pFileDownloadErrorEventInfo;_pFileDownloadErrorEventInfo._type_name="FileDownloadErrorEventInfo";delete _pFileDownloadErrorEventInfo;nexacro.FileDownload=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.downloadurl="";this.wordwrap="char";this.downloadfilename="";this.filedialogpath="";this.openedpath="";this.filefilter="";this.filefilterindex=0;this._handle=null;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondrop":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onsuccess":1,"onerror":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._accessibility_role="button";};var _pFileDownload=nexacro._createPrototype(nexacro.Component,nexacro.FileDownload);nexacro.FileDownload.prototype=_pFileDownload;_pFileDownload._type_name="FileDownload";_pFileDownload.on_apply_style_align=function(_a){var _b=this._text_elem;if(_b&&_a){var _c=_a.halign==""?"center":_a._halign;var _d=_a.valign==""?"middle":_a._valign;_b.setElementAlignXY(_c,_d);}};_pFileDownload.on_apply_style_color=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pFileDownload.on_apply_style_font=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pFileDownload.on_apply_style_accessibility=function(_a){if(_a){this._control_element.setAccessibility(_a);}};_pFileDownload.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_align(_a);if(_b.align!=_f){_b.align=_f;this.on_apply_style_align(_f);}var _g=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_b.rtlimagemirroring!=_g){_b.rtlimagemirroring=_g;this.on_apply_style_rtlimagemirroring(_g);}};_pFileDownload.on_create_contents=function(){var _a=this.getElement();if(_a){nexacro._create_filedownload_handle(this.on_load,this);var _b=new nexacro.TextBoxElement(_a);this._text_elem=_b;var _c=this.currentstyle.align.halign==""?"left":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b.setElementLetterSpace(this.currentstyle.letterspace);}};_pFileDownload.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}this.on_apply_wordwrap();this.on_apply_prop_rtldirection();};_pFileDownload.on_destroy_contents=function(){var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}nexacro._destroy_filedownload_handle(this._handle);};_pFileDownload.on_change_containerRect=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementSize(_a,_b);}};_pFileDownload.set_text=function(_a){this.text=_a;this.on_apply_text();};_pFileDownload.on_apply_text=function(){var _a=this._control_element;if(this._control_element){var _b=this._text_elem;if(!_b){_b=new nexacro.TextBoxElement(_a);this._text_elem=_b;this.on_apply_wordwrap();_b.setElementSize(this._client_width,this._client_height);if(this._is_created){var _c=this.currentstyle.align.halign==""?"left":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b.setElementLetterSpace(this.currentstyle.letterspace);_b.create();}}var _e=this.expr;if(_e&&_e.length>0){_e=_e.trim().split(":");var _f=_e.length;var _g=new nexacro.ExprParser();var _h,_i;var _j;if(_f==1){_j=_e[0];}else{if(_e[0].trim().toUpperCase()!="EXPR"){_j=_e.join(":");}else{_j=_e.slice(1).join(":");}}_h=_g.makeExpr(this,_j);_i=nexacro._createInlineFunc(_h,["comp"]);if(_i){try{var _k=nexacro._toString(_i.call(null,this));if(_k!=this.displaytext){this.displaytext=_k;}}catch(e){return;}}}else{this.displaytext=this.text;}_b.setElementText(this.displaytext);if(this.displaytext&&this.displaytext!=""){this._text_width= -1;this._text_height= -1;}else{this._text_width=0;this._text_height=0;}}};_pFileDownload.on_apply_expr=function(){this.on_apply_text();};_pFileDownload.set_downloadurl=function(_a){if(_a!=this.downloadurl){this.downloadurl=_a;}};_pFileDownload.set_wordwrap=function(_a){if(typeof (_a)=="string"){_a=_a.toLowerCase();}if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pFileDownload.on_apply_wordwrap=function(){if(this._text_elem){this._text_elem.setElementWordWrap(this.wordwrap);}};_pFileDownload.set_downloadfilename=function(_a){if(_a!=this.downloadfilename){this.downloadfilename=_a;}};_pFileDownload.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._text_elem;if(_a){_a.setElementRtlDirection(this._rtldirection);}};_pFileDownload.set_filedialogpath=function(_a){this.filedialogpath=_a;};_pFileDownload.set_openedpath=function(_a){};_pFileDownload.set_filefilter=function(_a){this.filefilter=_a;};_pFileDownload.set_filefilterindex=function(_a){this.filefilterindex=_a;};_pFileDownload.download=function(_a,_b){if((nexacro.Browser=="Runtime")&&(!this._handle)){return false;}var _c=false;var _d;var _e=this.downloadurl;var _f=this.downloadfilename;if(_b!=undefined){_b=nexacro._toString(_b);}if(_a!=undefined){_a=nexacro._toString(_a);_a=nexacro._getImageLocation(_a);_d=nexacro._download(_a,this._handle,_f,_b,undefined,this.filedialogpath,this.filefilter,this.filefilterindex);if(_d===null){return false;}_c=true;}else if(_e&&_e!=undefined&&_e!=""){_e=nexacro._getServiceLocation(_e);_d=nexacro._download(_e,this._handle,_f,_b,undefined,this.filedialogpath,this.filefilter,this.filefilterindex);if(_d===null){return false;}_c=true;}if(_d!=undefined){var _g=_d.lastIndexOf("\\");if(_g>0){this.openedpath=_d.substring(0,_g+1);}}return _c;};_pFileDownload.on_fire_onsuccess=function(_a,_b){application._endCommProgress();if(this.onsuccess&&this.onsuccess._has_handlers&&_a!=""){var _c=new nexacro.FileDownloadEventInfo(this,"onsuccess",_a,_b);return this.onsuccess._fireEvent(this,_c);}};_pFileDownload.on_fire_onerror=function(_a,_b,_c,_d,_e,_f,_g){application._endCommProgress();if(this.onerror&&this.onerror._has_handlers){var _h=new nexacro.FileDownloadErrorEventInfo(_a,"onerror",_b,_c,_d,_e,_f,_g);return this.onerror._fireEvent(this,_h);}};_pFileDownload._addCookieToGlobalVariable=function(_a){if(application&&_a){var _b=_a.split("; ");var _c=_b.length;var _d;var _e,_f;for(var _g=0;_g<_c;_g++ ){_d=_b[_g].indexOf("=");if(_d<=0){continue;}_e=_b[_g].substr(0,_d);_f=_b[_g].substr(_d+1);if(nexacro._indexOf(application._cookie_variables,_e)>=0){application[_e]=_f;}else{if(application.addcookietovariable&&(nexacro._indexOf(application._variables,_e)<0)){application._addVariable(_e,_f,true);}}}}};_pFileDownload.on_load=function(_a,_b,_c,_d,_e,_f,_g){if(_g){this._addCookieToGlobalVariable(_g);}if(_a<0){application._onHttpSystemError(this,true,this,_d,_c,_e,_c,null);var _h=nexacro._GetSystemErrorMsg(this,_d);this.on_fire_onerror(this,"ObjectError",_h,this,9901,null,null);}else{this.on_fire_onsuccess(_c,_b);}};_pFileDownload.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Component.prototype.on_fire_onclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this.download();return _m;};_pFileDownload.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==13||_a==32){this.on_fire_onclick("none",false,false,false, -1, -1, -1, -1, -1, -1,this,this);}return _g;};_pFileDownload._getDlgCode=function(_a,_b,_c,_d){return {want_tab:false,want_return:true,want_escape:false,want_chars:false,want_arrows:false};};delete _pFileDownload;nexacro.FileDownloadCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FileDownload.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._isSubControl=true;};var _pFileDownloadCtrl=nexacro._createPrototype(nexacro.FileDownload,nexacro.FileDownloadCtrl);nexacro.FileDownloadCtrl.prototype=_pFileDownloadCtrl;nexacro._setForControlStyleFinder(_pFileDownloadCtrl);_pFileDownloadCtrl._type_name="FileDownloadControl";delete _pFileDownloadCtrl;}if(!nexacro.FileUpload){nexacro.FileUploadItemEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"onfileuploaditem";this.fromobject=this.fromreferenceobject=_a;this.index=_c;};var _pEventFileUploadItemEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadItemEventInfo);nexacro.FileUploadItemEventInfo.prototype=_pEventFileUploadItemEventInfo;_pEventFileUploadItemEventInfo._type_name="FileUploadItemEventInfo";delete _pEventFileUploadItemEventInfo;nexacro.FileUploadMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){this.id=this.eventid=_b||"onmouse";this.fromobject=_n;this.fromreferenceobject=_o;this.altKey=_d||false;this.ctrlKey=_e||false;this.shiftKey=_f||false;this.button=_c||"";this.index=_a.index;this.screenX=_h|| -1;this.screenY=_i|| -1;this.canvasX=_j|| -1;this.canvasY=_k|| -1;this.clientX=_l|| -1;this.clientY=_m|| -1;};var _pFileUploadMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadMouseEventInfo);nexacro.FileUploadMouseEventInfo.prototype=_pFileUploadMouseEventInfo;_pFileUploadMouseEventInfo._type_name="FileUploadMouseEventInfo";delete _pFileUploadMouseEventInfo;nexacro.FileUploadLoadEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onsuccess";this.fromobject=this.fromreferenceobject=_a;this.datasets=_c;this.errorcode=_d;this.errormsg=_e;this.url=_f;};var _pFileUploadLoadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadLoadEventInfo);nexacro.FileUploadLoadEventInfo.prototype=_pFileUploadLoadEventInfo;_pFileUploadLoadEventInfo._type_name="FileUploadLoadEventInfo";delete _pFileUploadLoadEventInfo;nexacro.FileUploadItemChangeEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onitemchanged";this.fromobject=this.fromreferenceobject=_a;this.index=_a.index;this.oldvalue=_a.oldvalue;this.newvalue=_a.value;this.newarrayvalue=_f;};var _pFileUploadItemChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadItemChangeEventInfo);nexacro.FileUploadItemChangeEventInfo.prototype=_pFileUploadItemChangeEventInfo;_pFileUploadItemChangeEventInfo._type_name="FileUploadItemChangeEventInfo";delete _pFileUploadItemChangeEventInfo;nexacro.FileUploadErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ErrorEventInfo.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this.index=_i;};var _pFileUploadErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.FileUploadErrorEventInfo);nexacro.FileUploadErrorEventInfo.prototype=_pFileUploadErrorEventInfo;_pFileUploadErrorEventInfo._type_name="FileUploadErrorEventInfo";delete _pFileUploadErrorEventInfo;nexacro.FileUpload_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.itemheight=null;this.buttonbackground=null;this.buttonborder=null;this.buttonbordertype=null;this.buttongradation=null;this.buttonpadding=null;this.buttonmargin=null;this.buttonfont=null;this.buttoncolor=null;this.buttonsize=null;this.buttontext=null;this.editbackground=null;this.editborder=null;this.editbordertype=null;this.editgradation=null;this.editpadding=null;this.editmargin=null;this.editfont=null;this.editcolor=null;this.editaccessibility=null;this.buttonaccessibility=null;};var _pFileUploadStyle=nexacro._createPrototype(nexacro.Style,nexacro.FileUpload_Style);nexacro.FileUpload_Style.prototype=_pFileUploadStyle;_pFileUploadStyle._type_name="FileUploadStyle";eval(nexacro._createValueAttributeEvalStr("_pFileUploadStyle","itemheight"));eval(nexacro._createValueAttributeEvalStr("_pFileUploadStyle","buttonsize"));eval(nexacro._createValueAttributeEvalStr("_pFileUploadStyle","buttontext"));eval(nexacro._createColorAttributeEvalStr("_pFileUploadStyle","editcolor"));eval(nexacro._createColorAttributeEvalStr("_pFileUploadStyle","buttoncolor"));eval(nexacro._createBorderAttributeEvalStr("_pFileUploadStyle","editborder"));eval(nexacro._createBorderAttributeEvalStr("_pFileUploadStyle","buttonborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pFileUploadStyle","editbordertype"));eval(nexacro._createBordertypeAttributeEvalStr("_pFileUploadStyle","buttonbordertype"));eval(nexacro._createBackgroundAttributeEvalStr("_pFileUploadStyle","editbackground"));eval(nexacro._createBackgroundAttributeEvalStr("_pFileUploadStyle","buttonbackground"));eval(nexacro._createGradationAttributeEvalStr("_pFileUploadStyle","editgradation"));eval(nexacro._createGradationAttributeEvalStr("_pFileUploadStyle","buttongradation"));eval(nexacro._createPaddingAttributeEvalStr("_pFileUploadStyle","editpadding"));eval(nexacro._createPaddingAttributeEvalStr("_pFileUploadStyle","buttonpadding"));eval(nexacro._createMarginAttributeEvalStr("_pFileUploadStyle","editmargin"));eval(nexacro._createMarginAttributeEvalStr("_pFileUploadStyle","buttonmargin"));eval(nexacro._createFontAttributeEvalStr("_pFileUploadStyle","editfont"));eval(nexacro._createFontAttributeEvalStr("_pFileUploadStyle","buttonfont"));eval(nexacro._createAccessibilityAttributeEvalStr("_pFileUploadStyle","editaccessibility"));eval(nexacro._createAccessibilityAttributeEvalStr("_pFileUploadStyle","buttonaccessibility"));_pFileUploadStyle.__custom_emptyObject=function(){this.itemheight=null;this.buttonbackground=null;this.buttonborder=null;this.buttonbordertype=null;this.buttongradation=null;this.buttonpadding=null;this.buttonmargin=null;this.buttonfont=null;this.buttoncolor=null;this.buttonsize=null;this.buttontext=null;this.editbackground=null;this.editborder=null;this.editbordertype=null;this.editgradation=null;this.editpadding=null;this.editmargin=null;this.editfont=null;this.editcolor=null;this.editaccessibility=null;this.buttonaccessibility=null;};_pFileUploadStyle.__get_custom_style_value=function(){var _a="";if(this.itemheight&&this.itemheight._is_empty){_a+="itemheight"+this.itemheight._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize"+this.buttonsize._value+"; ";}if(this.buttontext&&this.buttontext._is_empty){_a+="buttontext"+this.buttontext._value+"; ";}if(this.buttonbackground&&this.buttonbackground._is_empty){_a+="buttonbackground"+this.buttonbackground._value+"; ";}if(this.buttonborder&&this.buttonborder._is_empty){_a+="buttonborder"+this.buttonborder._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._is_empty){_a+="buttonbordertype"+this.buttonbordertype._value+"; ";}if(this.buttongradation&&this.buttongradation._is_empty){_a+="buttongradation"+this.buttongradation._value+"; ";}if(this.buttonpadding&&this.buttonpadding._is_empty){_a+="buttonpadding"+this.buttonpadding._value+"; ";}if(this.buttonmargin&&this.buttonmargin._is_empty){_a+="buttonmargin"+this.buttonmargin._value+"; ";}if(this.buttonfont&&this.buttonfont._is_empty){_a+="buttonfont"+this.buttonfont._value+"; ";}if(this.buttoncolor&&this.buttoncolor._is_empty){_a+="buttoncolor"+this.buttoncolor._value+"; ";}if(this.editbackground&&this.editbackground._is_empty){_a+="editbackground"+this.editbackground._value+"; ";}if(this.editborder&&this.editborder._is_empty){_a+="editborder"+this.editborder._value+"; ";}if(this.editbordertype&&this.editbordertype._is_empty){_a+="editbordertype"+this.editbordertype._value+"; ";}if(this.editgradation&&this.editgradation._is_empty){_a+="editgradation"+this.editgradation._value+"; ";}if(this.editpadding&&this.editpadding._is_empty){_a+="editpadding"+this.editpadding._value+"; ";}if(this.editmargin&&this.editmargin._is_empty){_a+="editmargin"+this.editmargin._value+"; ";}if(this.editfont&&this.editfont._is_empty){_a+="editfont"+this.editfont._value+"; ";}if(this.editcolor&&this.editcolor._is_empty){_a+="editcolor"+this.editcolor._value+"; ";}if(this.editaccessibility&&this.editaccessibility._is_empty){_a+="editaccessibility"+this.editaccessibility._value+"; ";}if(this.buttonaccessibility&&this.buttonaccessibility._is_empty){_a+="buttonaccessibility"+this.buttonaccessibility._value+"; ";}return _a;};nexacro.FileUpload_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemheight=null;this.buttonbackground=null;this.buttonborder=null;this.buttonbordertype=null;this.buttongradation=null;this.buttonpadding=null;this.buttonmargin=null;this.buttonfont=null;this.buttoncolor=null;this.buttonsize=null;this.buttontext=null;this.editbackground=null;this.editborder=null;this.editbordertype=null;this.editgradation=null;this.editpadding=null;this.editmargin=null;this.editfont=null;this.editcolor=null;this.editaccessibility=null;this.buttonaccessibility=null;};var _pFileUploadCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.FileUpload_CurrentStyle);nexacro.FileUpload_CurrentStyle.prototype=_pFileUploadCurrentStyle;_pFileUploadCurrentStyle.__custom_emptyObject=_pFileUploadStyle.__custom_emptyObject;_pFileUploadCurrentStyle.__get_custom_style_value=_pFileUploadStyle.__get_custom_style_value;delete _pFileUploadStyle;delete _pFileUploadCurrentStyle;nexacro.FileUpload=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.scrollbars="autoboth";this.filecolumn="";this.innerdataset=null;this._innerdataset=null;this.text="";this.index= -1;this.async="false";this.retry=3;this.timeout=30;this.itemheight=18;this.itemcount=1;this.uploadurl="";this.multiselect=false;this._multiselect=false;this.filelist=[];this.filedialogpath="";this.openedpath="";this.filefilter="";this.filefilterindex=0;this._is_scrollable=true;this._scrollbars=3;this._items=[];this._handle=null;this._last_id= -1;this._editFlag=null;this._buttonFlag=true;this._set_focus_dir= -1;this._want_tab=true;this._want_arrow=false;this.filepathedits=new nexacro.Collection();this.filefindbuttons=new nexacro.Collection();this._onPopupWin=false;this._accessibility_role="fileupload";this._first_focus=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondrop":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"onmove":1,"onsize":1,"onsuccess":1,"onerror":1,"onappenditem":1,"ondeleteitem":1,"onitemclick":1,"onfindclick":1,"onitemchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pFileUpload=nexacro._createPrototype(nexacro.Component,nexacro.FileUpload);nexacro.FileUpload.prototype=_pFileUpload;_pFileUpload._type_name="FileUpload";_pFileUpload._defaultButtontext=nexacro._getCachedStyleObj("buttontext","find");_pFileUpload._defaultButtonsize=nexacro._getCachedStyleObj("buttonsize","18");_pFileUpload._defaultItemheight=nexacro._getCachedStyleObj("itemheight","18");_pFileUpload.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_padding(_a);if(_c!=_b.padding){_b.padding=_c;this.on_apply_style_padding(_c);}var _d=this.on_find_CurrentStyle_align(_a);if(_d!=_b.align){_b.align=_d;this.on_apply_style_align(_d);}var _e=this.on_find_CurrentStyle_font(_a);if(_e!=_b.font){_b.font=_e;this.on_apply_style_font(_e);}var _f=this.on_find_CurrentStyle_letterspace(_a);if(_f!=_b.letterspace){_b.letterspace=_f;this.on_apply_style_letterspace(_f);}var _g=this.on_find_CurrentStyle_color(_a);if(_g!=_b.color){_b.color=_g;this.on_apply_style_color(_g);}var _h=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_h!=_b.rtlimagemirroring){_b.rtlimagemirroring=_h;this.on_apply_style_rtlimagemirroring(_h);}var _i=this.on_find_CurrentStyle_editbackground(_a);if(_i!=_b.editbackground){_b.editbackground=_i;this.on_apply_style_editbackground(_i);}var _j=this.on_find_CurrentStyle_editborder(_a);if(_j!=_b.editborder){_b.editborder=_j;this.on_apply_style_editborder(_j);}var _k=this.on_find_CurrentStyle_editbordertype(_a);if(_k!=_b.editbordertype){_b.editbordertype=_k;this.on_apply_style_editbordertype(_k);}var _l=this.on_find_CurrentStyle_editgradation(_a);if(_l!=_b.editgradation){_b.editgradation=_l;this.on_apply_style_editgradation(_l);}var _m=this.on_find_CurrentStyle_editpadding(_a);if(_m!=_b.editpadding){_b.editpadding=_m;this.on_apply_style_editpadding(_m);}var _n=this.on_find_CurrentStyle_editmargin(_a);if(_n!=_b.editmargin){_b.editmargin=_n;this.on_apply_style_editmargin(_n);}var _o=this.on_find_CurrentStyle_editfont(_a);if(_o!=_b.editfont){_b.editfont=_o;this.on_apply_style_editfont(_o);}var _p=this.on_find_CurrentStyle_editcolor(_a);if(_p!=_b.editcolor){_b.editcolor=_p;this.on_apply_style_editcolor(_p);}var _q=this.on_find_CurrentStyle_buttonbackground(_a);if(_q!=_b.buttonbackground){_b.buttonbackground=_q;this.on_apply_style_buttonbackground(_q);}var _r=this.on_find_CurrentStyle_buttonborder(_a);if(_r!=_b.buttonborder){_b.buttonborder=_r;this.on_apply_style_buttonborder(_r);}var _s=this.on_find_CurrentStyle_buttonbordertype(_a);if(_s!=_b.buttonbordertype){_b.buttonbordertype=_s;this.on_apply_style_buttonbordertype(_s);}var _t=this.on_find_CurrentStyle_buttongradation(_a);if(_t!=_b.buttongradation){_b.buttongradation=_t;this.on_apply_style_buttongradation(_t);}var _u=this.on_find_CurrentStyle_buttonpadding(_a);if(_u!=_b.buttonpadding){_b.buttonpadding=_u;this.on_apply_style_buttonpadding(_u);}var _v=this.on_find_CurrentStyle_buttonmargin(_a);if(_v!=_b.buttonmargin){_b.buttonmargin=_v;this.on_apply_style_buttonmargin(_v);}var _w=this.on_find_CurrentStyle_buttonfont(_a);if(_w!=_b.buttonfont){_b.buttonfont=_w;this.on_apply_style_buttonfont(_w);}var _x=this.on_find_CurrentStyle_buttoncolor(_a);if(_x!=_b.buttoncolor){_b.buttoncolor=_x;this.on_apply_style_buttoncolor(_x);}var _y=this.on_find_CurrentStyle_buttonsize(_a);if(_y!=_b.buttonsize){_b.buttonsize=_y;this.on_apply_style_buttonsize(_y);}var _z=this.on_find_CurrentStyle_buttontext(_a);if(_z!=_b.buttontext){_b.buttontext=_z;this.on_apply_style_buttontext(_z);}var _aa=this.on_find_CurrentStyle_itemheight(_a);if(_aa!=_b.itemheight){_b.itemheight=_aa;this.on_apply_style_itemheight(_aa);}var _ab=this.on_find_CurrentStyle_editaccessibility(_a);if(_ab!=_b.editaccessibility){_b.editaccessibility=_ab;this.on_find_CurrentStyle_editaccessibility(_ab);}var _ac=this.on_find_CurrentStyle_buttonaccessibility(_a);if(_ac!=_b.buttonaccessibility){_b.buttonaccessibility=_ac;this.on_apply_style_buttonaccessibility(_ac);}};_pFileUpload.on_create_custom_style=function(){return new nexacro.FileUpload_Style(this);};_pFileUpload.on_create_custom_currentStyles=function(){return new nexacro.FileUpload_CurrentStyle();};_pFileUpload.on_find_CurrentStyle_editbackground=function(_a){var _b=this._find_pseudo_obj("editbackground",_a,"background");return _b;};_pFileUpload.on_find_CurrentStyle_editborder=function(_a){var _b=this._find_pseudo_obj("editborder",_a,"border");return _b;};_pFileUpload.on_find_CurrentStyle_editbordertype=function(_a){var _b=this._find_pseudo_obj("editbordertype",_a,"bordertype");return _b;};_pFileUpload.on_find_CurrentStyle_editgradation=function(_a){var _b=this._find_pseudo_obj("editgradation",_a,"gradation");return _b;};_pFileUpload.on_find_CurrentStyle_editpadding=function(_a){var _b=this._find_pseudo_obj("editpadding",_a,"padding");return _b;};_pFileUpload.on_find_CurrentStyle_editmargin=function(_a){var _b=this._find_pseudo_obj("editmargin",_a,"margin");return _b;};_pFileUpload.on_find_CurrentStyle_editfont=function(_a){var _b=this._find_pseudo_obj("editfont",_a,"font");return _b;};_pFileUpload.on_find_CurrentStyle_editcolor=function(_a){var _b=this._find_pseudo_obj("editcolor",_a,"color");return _b;};_pFileUpload.on_find_CurrentStyle_buttonbackground=function(_a){var _b=this._find_pseudo_obj("buttonbackground",_a,"background");return _b;};_pFileUpload.on_find_CurrentStyle_buttonborder=function(_a){var _b=this._find_pseudo_obj("buttonborder",_a,"border");return _b;};_pFileUpload.on_find_CurrentStyle_buttonbordertype=function(_a){var _b=this._find_pseudo_obj("buttonbordertype",_a,"bordertype");return _b;};_pFileUpload.on_find_CurrentStyle_buttongradation=function(_a){var _b=this._find_pseudo_obj("buttongradation",_a,"gradation");return _b;};_pFileUpload.on_find_CurrentStyle_buttonpadding=function(_a){var _b=this._find_pseudo_obj("buttonpadding",_a,"padding");return _b;};_pFileUpload.on_find_CurrentStyle_buttonmargin=function(_a){var _b=this._find_pseudo_obj("buttonmargin",_a,"margin");return _b;};_pFileUpload.on_find_CurrentStyle_buttonfont=function(_a){var _b=this._find_pseudo_obj("buttonfont",_a,"font");return _b;};_pFileUpload.on_find_CurrentStyle_buttoncolor=function(_a){var _b=this._find_pseudo_obj("buttoncolor",_a,"color");return _b;};_pFileUpload.on_find_CurrentStyle_buttonsize=function(_a){var _b=this._find_pseudo_obj("buttonsize",_a);return _b?_b:this._defaultButtonsize;};_pFileUpload.on_find_CurrentStyle_buttontext=function(_a){var _b=this._find_pseudo_obj("buttontext",_a);return _b?_b:this._defaultButtontext;};_pFileUpload.on_find_CurrentStyle_itemheight=function(_a){var _b=this._find_pseudo_obj("itemheight",_a);return _b?_b:this._defaultItemheight;};_pFileUpload.on_find_CurrentStyle_editaccessibility=function(_a){return this._find_pseudo_obj("editaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pFileUpload.on_find_CurrentStyle_buttonaccessibility=function(_a){return this._find_pseudo_obj("buttonaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pFileUpload.on_update_style_editbackground=function(){var _a=this.currentstyle.editbackground=this.on_find_CurrentStyle_editbackground(this._pseudo);this.on_apply_style_editbackground(_a);};_pFileUpload.on_update_style_editborder=function(){var _a=this.currentstyle.editborder=this.on_find_CurrentStyle_editborder(this._pseudo);this.on_apply_style_editborder(_a);};_pFileUpload.on_update_style_editbordertype=function(){var _a=this.currentstyle.editbordertype=this.on_find_CurrentStyle_editbordertype(this._pseudo);this.on_apply_style_editbordertype(_a);};_pFileUpload.on_update_style_editgradation=function(){var _a=this.currentstyle.editgradation=this.on_find_CurrentStyle_editgradation(this._pseudo);this.on_apply_style_editgradation(_a);};_pFileUpload.on_update_style_editpadding=function(){var _a=this.currentstyle.editpadding=this.on_find_CurrentStyle_editpadding(this._pseudo);this.on_apply_style_editpadding(_a);};_pFileUpload.on_update_style_editmargin=function(){var _a=this.currentstyle.editmargin=this.on_find_CurrentStyle_editmargin(this._pseudo);this.on_apply_style_editmargin(_a);};_pFileUpload.on_update_style_editfont=function(){var _a=this.currentstyle.editfont=this.on_find_CurrentStyle_editfont(this._pseudo);this.on_apply_style_editfont(_a);};_pFileUpload.on_update_style_editcolor=function(){var _a=this.currentstyle.editcolor=this.on_find_CurrentStyle_editcolor(this._pseudo);this.on_apply_style_editcolor(_a);};_pFileUpload.on_update_style_buttonbackground=function(){var _a=this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(_a);};_pFileUpload.on_update_style_buttonborder=function(){var _a=this.currentstyle.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(_a);};_pFileUpload.on_update_style_buttonbordertype=function(){var _a=this.currentstyle.buttonbordertype=this.on_find_CurrentStyle_buttonbordertype(this._pseudo);this.on_apply_style_buttonbordertype(_a);};_pFileUpload.on_update_style_buttongradation=function(){var _a=this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(_a);};_pFileUpload.on_update_style_buttonpadding=function(){var _a=this.currentstyle.buttonpadding=this.on_find_CurrentStyle_buttonpadding(this._pseudo);this.on_apply_style_buttonpadding(_a);};_pFileUpload.on_update_style_buttonmargin=function(){var _a=this.currentstyle.buttonmargin=this.on_find_CurrentStyle_buttonmargin(this._pseudo);this.on_apply_style_buttonmargin(_a);};_pFileUpload.on_update_style_buttonfont=function(){var _a=this.currentstyle.buttonfont=this.on_find_CurrentStyle_buttonfont(this._pseudo);this.on_apply_style_buttonfont(_a);};_pFileUpload.on_update_style_buttoncolor=function(){var _a=this.currentstyle.buttoncolor=this.on_find_CurrentStyle_buttoncolor(this._pseudo);this.on_apply_style_buttoncolor(_a);};_pFileUpload.on_update_style_buttonsize=function(){var _a=this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(_a);};_pFileUpload.on_update_style_buttontext=function(){var _a=this.currentstyle.buttontext=this.on_find_CurrentStyle_buttontext(this._pseudo);this.on_apply_style_buttontext(_a);};_pFileUpload.on_update_style_itemheight=function(){var _a=this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo);this.on_apply_style_itemheight(_a);};_pFileUpload.on_update_style_editaccessibility=function(){var _a=this.currentstyle.editaccessibility=this.on_find_CurrentStyle_editaccessibility(this._pseudo);this.on_apply_style_editaccessibility(_a);};_pFileUpload.on_update_style_buttonaccessibility=function(){var _a=this.currentstyle.buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(this._pseudo);this.on_apply_style_buttonaccessibility(_a);};_pFileUpload.on_apply_style_padding=function(_a){var _b=this._items;var _c=_b.length;var _d=this._client_width-_a.right;var _e=this.on_find_CurrentStyle_itemheight(this._pseudo);for(var _f=0;_f<_c;_f++ ){_b[_f].move(_a.left,(itemheight*_f+_a.top),_d,(_e*(_f+1)+_a.top),null,null);}};_pFileUpload.on_apply_style_cursor=function(_a){var _b=this._control_element;var _c=this._items;var _d=_c.length;if(_b){_b.setElementCursor(_a);for(var _e=0;_e<_d;_e++ ){_c[_e].on_apply_style_cursor(_a);}}};_pFileUpload.on_apply_style_editbackground=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.currentstyle.background=_a;_b[_d].fileitemedit.on_apply_style_background(_a);}}};_pFileUpload.on_apply_style_editborder=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.currentstyle.border=_a;_b[_d].fileitemedit.on_apply_style_border(_a);}}};_pFileUpload.on_apply_style_editbordertype=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.currentstyle.bordertype=_a;_b[_d].fileitemedit.on_apply_style_bordertype(_a);}}};_pFileUpload.on_apply_style_editgradation=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.currentstyle.gradation=_a;_b[_d].fileitemedit.on_apply_style_gradation(_a);}}};_pFileUpload.on_apply_style_editpadding=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.currentstyle.padding=_a;_b[_d].fileitemedit.on_update_style_padding(_a);}}};_pFileUpload.on_apply_style_editmargin=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.currentstyle.margin=_a;_b[_d].fileitemedit.on_apply_style_margin(_a);}}};_pFileUpload.on_apply_style_editfont=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_font(_a);}}};_pFileUpload.on_apply_style_editcolor=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_color(_a);}}};_pFileUpload.on_apply_style_buttonbackground=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.currentstyle.background=_a;_b[_d].fileitembutton.on_apply_style_background(_a);}}};_pFileUpload.on_apply_style_buttonborder=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.currentstyle.border=_a;_b[_d].fileitembutton.on_apply_style_border(_a);}}};_pFileUpload.on_apply_style_buttonbordertype=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.currentstyle.bordertype=_a;_b[_d].fileitembutton.on_apply_style_bordertype(_a);}}};_pFileUpload.on_apply_style_buttongradation=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.currentstyle.gradation=_a;_b[_d].fileitembutton.on_apply_style_gradation(_a);}}};_pFileUpload.on_apply_style_buttonpadding=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.currentstyle.padding=_a;_b[_d].fileitembutton.on_update_style_padding(_a);}}};_pFileUpload.on_apply_style_buttonmargin=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.currentstyle.margin=_a;_b[_d].fileitembutton.on_apply_style_margin(_a);}}};_pFileUpload.on_apply_style_buttonfont=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_font(_a);}}};_pFileUpload.on_apply_style_buttoncolor=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_color(_a);}}};_pFileUpload.on_apply_style_buttonsize=function(_a){this.on_change_containerRect();};_pFileUpload.on_apply_style_buttontext=function(_a){if(_a==null){_a=this._defaultButtontext;}var _b=this._items;var _c=_b.length;if(_b==null){return;}for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttontext(_a);}};_pFileUpload.on_apply_style_itemheight=function(_a){this.on_change_containerRect();this.resetScroll();};_pFileUpload.on_apply_style_align=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.style.set_align(_a);}}};_pFileUpload.on_apply_style_editaccessibility=function(_a){var _b=this._items.length;var _c=null;var _d=null;if(_a){for(var _e=0;_e<_b;_e++ ){_c=this._getItem(_e);if(_c.fileitemedit){_c.fileitemedit.on_apply_style_accessibility(_a);}}}};_pFileUpload.on_apply_style_buttonaccessibility=function(_a){var _b=this._items.length;var _c=null;if(_a){for(var _d=0;_d<_b;_d++ ){_c=this._getItem(_d);if(_c.fileitembutton){_c.fileitembutton.on_apply_style_accessibility(_a);}}}};_pFileUpload.on_apply_style_letterspace=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_letterspace(_a);}if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_letterspace(_a);}}};_pFileUpload.on_apply_style_rtlimagemirroring=function(_a){return;};_pFileUpload.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._items;var _c=this.itemcount;for(var _e=0;_e<_c;_e++ ){var _d=this._createFileItem(_e,0,0,0,0);this.filepathedits.add_item(_d.id,_d.fileitemedit);this.filefindbuttons.add_item(_d.id,_d.fileitembutton);_b[_e]=_d;}}};_pFileUpload.on_created_contents=function(){var _a=new Date().valueOf().toString();nexacro._create_hidden_frame(this._unique_id,_a,this.on_load,this);_a=null;this.on_apply_index();this.on_apply_innerdataset();this.on_apply_filecolumn();this.on_apply_prop_enable(this._isEnable());if(nexacro._enableaccessibility){this.on_apply_style_editaccessibility(this.currentstyle.editaccessibility=this.on_find_CurrentStyle_editaccessibility(this._pseudo));this.on_apply_style_buttonaccessibility(this.currentstyle.buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(this._pseudo));}var _b=this._items;var _c=this.itemcount;for(var _d=0;_d<_c;_d++ ){_b[_d].on_created();_b[_d]._setEventHandler("onfindclick",this.on_notify_onfindclick,this);_b[_d]._setEventHandler("onitemclick",this.on_notify_onitemclick,this);if(nexacro._enableaccessibility){_b[_d]._setAccessibilityInfoIndex(_d+1);_b[_d]._setAccessibilityInfoCount(_c);}};this._onRecalcScrollSize();this._onResetScrollBar();this._updateClientSize(this._control_element);this.on_apply_style_buttontext(this.currentstyle.buttontext);this.on_apply_style_letterspace(this.currentstyle.letterspace);this.on_change_containerRect();this.on_apply_prop_rtldirection();};_pFileUpload.on_destroy_contents=function(){var _a=this.name;var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].destroy();}this.filelist=null;this._items=null;this.filepathedits.clear();this.filepathedits=null;this.filefindbuttons.clear();this.filefindbuttons=null;if(this._is_created&&this._unique_id){nexacro._destroy_hidden_frame(this._unique_id,this,this._handle);}};_pFileUpload.on_change_containerRect=function(_a,_b){var _c=this._items;var _d=_c.length;if(_d<=0){return;}var _e=this._pseudo;var _f=this._client_width;var _g=this._client_left;var _h=this._client_top;var _i,_j;var _k=parseInt(this.on_find_CurrentStyle_itemheight(_e),10);var _l=parseInt(this.on_find_CurrentStyle_buttonsize(_e),10);var _m=this.on_find_CurrentStyle_padding(_e);var _n=_l+_m.left+_m.right;var _o=_f;if(_n>_f){_i=_g-_m.left;}else{_i=_g-_m.left;}for(var _p=0;_p<_d;_p++ ){_j=_k*_p;_c[_p].move(_i,_j,_o,_k,null,null);_c[_p].on_apply_style_itemheight(_k);_c[_p].on_apply_style_buttonsize(_l);}};_pFileUpload.resetScroll=function(){var _a=this.getElement();if(_a){this._onRecalcScrollSize();this._updateClientSize(_a);}};_pFileUpload._onRecalcScrollSize=function(_a){var _b=this.getElement();if(_b){var _c=this._pseudo;var _d=this.vscrollbar;var _e=this.hscrollbar;var _f=this.on_find_CurrentStyle_itemheight(_c);var _g=this.on_find_CurrentStyle_border(_c);var _h=this.on_find_CurrentStyle_padding(_c);var _i=this.itemcount*_f;var _j=this._client_width;if(_i>this._client_height){if(_d){_j-=_d._adjust_width;}else{_j-=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;}}_b.setElementScrollMaxSize(_j,_i);}};_pFileUpload.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementHScrollPos(_b.pos);}return true;};_pFileUpload.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementVScrollPos(_b.pos);}return true;};_pFileUpload.set_multiselect=function(_a){if(_a!=this.multiselect){this.multiselect=_a;_a=nexacro._toBoolean(_a);if(_a!=this._multiselect){this._multiselect=_a;this.on_apply_multiselect(_a);}}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<10){_pFileUpload.on_apply_multiselect=nexacro._emptyFn;}else{_pFileUpload.on_apply_multiselect=function(){var _a=this.getElement();if(_a){var _b=this._items;var _c=_b.length;var _d=this._multiselect;var _e=this._unique_id;var _f=this._handle;for(var _g=0;_g<_c;_g++ ){nexacro._setMultipleFile(_e,_b[_g].name,_d,_b[_g]);}}};}_pFileUpload.set_uploadurl=function(_a){if(_a!=this.uploadurl){this.uploadurl=_a;}};_pFileUpload.set_itemcount=function(_a){var _b=parseInt(_a)|0;if(_b!=this.itemcount){this._old_itemcount=this.itemcount;this.itemcount=_b;this.on_apply_itemcount();}};_pFileUpload.on_apply_itemcount=function(){var _a=this.getElement();if(_a){var _b=this._pseudo;var _c=this._old_itemcount;var _d=this.itemcount;var _e=this._items;var _f=_e.length;var _g=this._client_left;var _h=this._client_top;var _i=this._client_width;var _j=parseInt(this.on_find_CurrentStyle_itemheight(_b),10);var _k=parseInt(this.on_find_CurrentStyle_buttonsize(_b),10);var _l=this.on_find_CurrentStyle_buttontext(_b);while(_f&&_c>_d){_c-- ;_e.pop().destroy();}for(var _q=_f;_q<_d;_q++ ){var _m=_g;var _n=_h+(_j*_q);var _o=_i;var _p=this._createFileItem(_q,_m,_n,_o,_j);this.filepathedits.add_item(_p.id,_p.fileitemedit);this.filefindbuttons.add_item(_p.id,_p.fileitembutton);this._items[_q]=_p;}this.on_change_containerRect();this.on_apply_style_buttontext(_l);this.resetScroll();}};_pFileUpload.set_itemheight=function(_a){var _b=parseInt(_a)|0;if(_b!=this.itemheight){this.itemheight=_b;this.on_apply_itemheight(_b);}};_pFileUpload.on_apply_itemheight=function(_a){var _b=this.getElement();if(_b){this.style.set_itemheight(_a);}};_pFileUpload.set_timeout=function(_a){if(_a!=this.timeout){this.timeout=_a;}};_pFileUpload.set_retry=function(_a){if(_a!=this.retry){this.retry=_a;}};_pFileUpload.set_async=function(_a){if(_a!=this.async){this.async=_a;}};_pFileUpload.set_index=function(_a){if(_a!=this.index){this.index=_a;this.on_apply_index(_a);this._setAccessibilityStatSelected(_a);};};_pFileUpload.on_apply_index=function(_a){var _b=this.getElement();if(_b){var _c=this._items[_a];if(_c){if(this._editFlag){_c.fileitemedit.setFocus(false);}if(this._buttonFlag){_c.fileitembutton.setFocus(false);}this.text=_c.value;this.value=_c.value;}else{this.text=undefined;this.value=undefined;}}};_pFileUpload.set_text=function(_a){};_pFileUpload._setText=function(_a){if(_a!=this.text){this.text=_a;}return this.text;};_pFileUpload.on_apply_text=function(_a){};_pFileUpload.set_value=function(_a){};_pFileUpload._setValue=function(_a){if(_a!=this.value){this.value=_a;}};_pFileUpload.on_apply_value=function(_a){};_pFileUpload.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pFileUpload._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pFileUpload.getInnerDataset=function(){return this._innerdataset;};_pFileUpload.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pFileUpload.on_apply_innerdataset=function(){var _a=this.getElement();if(_a){this.on_apply_filecolumn();}};_pFileUpload.set_filecolumn=function(_a){if(_a!=this.filecolumn){this.filecolumn=_a;this.on_apply_filecolumn(_a);}};_pFileUpload.on_apply_filecolumn=function(_a){var _b=this.getElement();if(_b&&this._innerdataset){var _c=this._items;for(var _d=0,_e=_c.length;_d<_e;_d++ ){var _a=this._innerdataset.getColumn(_d,_a);if(_a){_c[_d].set_value(_a);_a=0;}}}};_pFileUpload.on_apply_prop_rtldirection=function(){var _a=this.getElement();if(_a){var _b=this._items;for(var _c=0;_c<_b.length;_c++ ){_b[_c]._setRtlDirection(this._rtldirection);}if(this.vscrollbar){this.vscrollbar._setRtlDirection(this._rtldirection);}if(this.hscrollbar){this.hscrollbar._setRtlDirection(this._rtldirection);}}};_pFileUpload.set_filedialogpath=function(_a){this.filedialogpath=_a;};_pFileUpload.set_openedpath=function(_a){};_pFileUpload.set_filefilter=function(_a){this.filefilter=_a;};_pFileUpload.set_filefilterindex=function(_a){this.filefilterindex=_a;};_pFileUpload.upload=function(_a,_b){this._iscors=_b;var _c=false;var _d;if(_a==undefined){if(this.uploadurl){_d=nexacro._getServiceLocation(this.uploadurl);}}else{_d=nexacro._getServiceLocation(_a);}if(_d){var _e=this._items;var _f=[];if(nexacro.Browser=="Runtime"&&nexacro.OS!="Android"){var _g=_e.length;var _h=0;for(var _i=0;_i<_g;_i++ ){if(_e[_i]._files){_f[_h]=_e[_i]._files;_h++ ;}}}var _g=_e?_e.length:0;for(var _i=0;_i<_g;_i++ ){if(_e[_i]&&_e[_i].value){nexacro._submit(this._unique_id,_d,this._handle,null,_e[_i].value,_f);return true;}}}return _c;};_pFileUpload.appendItem=function(){var _a=this.getElement();if(_a){var _b=this._pseudo;var _c=this.itemcount;var _d=this._client_left;var _e=this._client_top;var _f=this._client_width;var _g=parseInt(this.on_find_CurrentStyle_itemheight(_b),10);var _h=parseInt(this.on_find_CurrentStyle_buttonsize(_b),10);var _i=this.on_find_CurrentStyle_buttontext(_b);var _j=this.on_find_CurrentStyle_padding(_b);var _k=_d+_j.left;var _l=_e+(_g*_c)+_j.top;var _m=_f-_j.right;var _n=_c;var _o=this._createFileItem(_n,_k,_l,_m,_g);this.filepathedits.add_item(_o.id,_o.fileitemedit);this.filefindbuttons.add_item(_o.id,_o.fileitembutton);this._items[_n]=_o;this.itemcount++ ;if(nexacro._enableaccessibility){_o._setAccessibilityInfoIndex(_n);_o._setAccessibilityInfoCount(_n+1);}this.on_change_containerRect();this.on_apply_style_buttontext(_i);this.resetScroll();this.on_fire_onappenditem(this,_n);}};_pFileUpload.deleteItem=function(_a){var _b=this.index;var _c=this.getElement();if(_c){_a=parseInt(_a,10);var _d=this._items;if(this.itemcount<=_a){return;}var _e=this.itemcount;var _f=_e-1;for(var _g=_a+1;_g<_e;_g++ ){if(_b==_g){this.index-- ;}_d[_g].index-- ;if(nexacro._enableaccessibility){_d[_g]._setAccessibilityInfoIndex(_g);_d[_g]._setAccessibilityInfoCount(_f);}}_d[_a].destroy();this._upadteFileList();_d.splice(_a,1);if(_b==_a){this.index= -1;this.text=undefined;this.value=undefined;}this.itemcount-- ;this.on_change_containerRect();this.resetScroll();this.on_fire_ondeleteitem(this,_a);}};_pFileUpload.changeItem=function(_a,_b){if(nexacro.Browser=="Runtime"&&nexacro.OS!="Android"){var _c=this.getElement();if(_c){_a=parseInt(_a,10);if(this.itemcount<=_a){return;}var _d=this._items[_a];var _e="";var _f=_b.length;if(_f>0){_e=_b[0];for(var _g=1;_g<_f;_g++ ){_e+=", "+_b[_g];}}if(_e!=_d.value){_d.oldvalue=_d.value;_d.value=_e;_d._changeFiles(_b);_d.on_apply_value(_e);if(this.index==_a){_d.parent._setText(_e);_d.parent._setValue(_e);}_d.parent.on_fire_onitemchanged(_d,_a,_d.oldvalue,_d.value,_b);}}}};_pFileUpload.getItemCount=function(_a){var _b=this.getElement();if(_b){_a=nexacro._toBoolean(_a);var _c=0;var _d=0;var _e;var _f=this._items;var _g=_f.length;while(_d<_g){if(_a==true){if(_f[_d].value){_c++ ;}}else{return _g;}++ _d;}return _c;}};_pFileUpload.getItemIndex=function(_a){var _b=this.getElement();if(_b){if(typeof _a=="object"){var _c=0;var _d=this._items;while(_c<_d.length){if(_a==_d[_c].fileitembutton){return _c;}if(_a==_d[_c].fileitemedit){return _c;}++ _c;}return  -1;}}};_pFileUpload._getItem=function(_a){if(_a>=0&&this._items.length>0){return this._items[_a];}return null;};_pFileUpload.hasValue=function(_a){var _b=this.getElement();if(_b){var _c=0;var _d=this._items;if(_a== -1){while(_c<_d.length){if(_d[_c].value){ ++cnt;}++ _c;}if(cnt==_d.length){return true;}return false;}if(_a<_d.length&&_d[_a].value){return true;}return false;}};_pFileUpload.getValue=function(_a){var _b=this.getElement();if(_b){var _c=this._items;if(_c&&_a>=0&&_a<_c.length){return _c[_a].value;}return "";}};_pFileUpload.on_notify_onfindclick=function(_a,_b){var _c=false;var _d=nexacro._indexOf(this._items,_a);if(this._isEnable()&&this.enableevent){_c=this.on_fire_onfindclick(_a,_d);if(_c){try{nexacro._findclick(this._unique_id,_a.name,_a,this._handle,this.filedialogpath,this.filefilter,this.filefilterindex);}catch(_b){var _e=nexacro.MakeError("ObjectError",this,"comp_incorrect_file");this.on_fire_onerror(this,_e.name,_e.message,_a,null,null,null,_d);}}}return _c;};_pFileUpload.on_notify_onitemclick=function(_a,_b){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_onitemclick(_a,_a.index);}};_pFileUpload._on_getAccessibilityAdditionalLabel=function(){if(this._first_focus==false){var _a=0;var _b=this._items;if(_b){_a=_b.length;}return ( +this.index)+1+" "+_a;}return "";};_pFileUpload._isAccessibilityEnable=function(){return true;};_pFileUpload.on_get_style_accessibility_label=function(){var _a="";return _a;};_pFileUpload.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=this.index;var _e=this._items;while(true){if(_a){if(!this._buttonFlag&&_e[_d].fileitembutton._isAccessibilityEnable()){this._editFlag=false;this._buttonFlag=true;}else{if(_e[ ++_d]){this._editFlag=true;this._buttonFlag=false;if(!_e[_d].fileitemedit._isAccessibilityEnable()){continue;}}else{this._editFlag=false;this._buttonFlag=false;return this._want_arrow=false;}}}else{if(!this._editFlag&&_e[_d].fileitemedit._isAccessibilityEnable()){this._editFlag=true;this._buttonFlag=false;}else{if(_e[ --_d]){this._editFlag=false;this._buttonFlag=true;if(!_e[_d].fileitembutton._isAccessibilityEnable()){continue;}}else{this._editFlag=false;this._buttonFlag=false;return this._want_arrow=false;}}}break;}if(_e[_d]){if(this._editFlag){_e[_d].fileitemedit._setAccessibilityNotifyEvent();}else if(this._buttonFlag){_e[_d].fileitembutton._setAccessibilityNotifyEvent();}this.index=_d;this.value=_e[_d].value;return this._want_arrow=true;}else{return this._want_arrow=false;}};_pFileUpload._setAccessibilityNotifyEvent=function(_a){this._editFlag=false;this._buttonFlag=false;var _b=0;var _c=this._items;var _d=_c.length;if(_d){if(_a){_b=0;if(_c[_b]&&_c[_b].fileitemedit._isAccessibilityEnable()){this._editFlag=true;}else if(_c[_b]&&_c[_b].fileitembutton._isAccessibilityEnable()){this._buttonFlag=true;}}else{_b=_d-1;if(_c[_b]&&_c[_b].fileitembutton._isAccessibilityEnable()){this._buttonFlag=true;}else if(_c[_b]&&_c[_b].fileitemedit._isAccessibilityEnable()){this._editFlag=true;}}if(this._buttonFlag||this._editFlag){if(this._editFlag){_c[_b].fileitemedit._setAccessibilityNotifyEvent();}else if(this._buttonFlag){_c[_b].fileitembutton._setAccessibilityNotifyEvent();}this.index=_b;this.value=_c[_b].value;return this._want_arrow=true;}}this._want_arrow=false;return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pFileUpload._setAccessibilityInfoByHover=function(_a){if(_a){this._editFlag=false;this._buttonFlag=false;var _b=_a.parent;if(_a instanceof nexacro.FileItemEditCtrl){this._editFlag=true;}else if(_a instanceof nexacro.FileItemButtonCtrl){this._buttonFlag=true;}this.index=_b.index;this._want_arrow=true;_a._setAccessibilityNotifyEvent();return true;}return false;};_pFileUpload.on_fire_onerror=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onerror&&this.onerror._has_handlers){var _i=new nexacro.FileUploadErrorEventInfo(_a,"onerror",_b,_c,_d,_e,_f,_g,_h);return this.onerror._fireEvent(this,_i);}return true;};_pFileUpload.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.FileUploadMouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,this.index,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireEvent(this,_m);}return false;};_pFileUpload.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.FileUploadMouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,this.index,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pFileUpload.on_fire_onfindclick=function(_a,_b){var _c=true;if(this.onfindclick&&this.onfindclick._has_handlers){var _d=new nexacro.FileUploadItemEventInfo(this,"onfindclick",_b);_c=this.onfindclick._fireCheckEvent(this,_d);}return _c;};_pFileUpload.on_fire_onitemclick=function(_a,_b){if(this.onitemclick&&this.onitemclick._has_handlers){var _c=new nexacro.FileUploadItemEventInfo(this,"onitemclick",_b);this.onitemclick._fireEvent(this,_c);}};_pFileUpload.on_fire_onappenditem=function(_a,_b){if(this.onappenditem&&this.onappenditem._has_handlers){var _c=new nexacro.FileUploadItemEventInfo(_a,"onappenditem",_b);this.onappenditem._fireEvent(this,_c);}};_pFileUpload.on_fire_ondeleteitem=function(_a,_b){if(this.ondeleteitem&&this.ondeleteitem._has_handlers){var _c=new nexacro.FileUploadItemEventInfo(_a,"ondeleteitem",_b);this.ondeleteitem._fireEvent(this,_c);}};_pFileUpload.on_fire_onitemchanged=function(_a,_b,_c,_d,_e){if(this.onitemchanged&&this.onitemchanged._has_handlers){var _f=new nexacro.FileUploadItemChangeEventInfo(_a,"onitemchanged",_b,_c,_d,_e);return this.onitemchanged._fireEvent(this,_f);}};_pFileUpload.on_fire_onsuccess=function(_a,_b,_c,_d){application._endCommProgress();if(this.onsuccess&&this.onsuccess._has_handlers){var _e=new nexacro.FileUploadLoadEventInfo(this,"onsuccess",_a,_b,_c,_d);return this.onsuccess._fireEvent(this,_e);}};_pFileUpload._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_tab;this._want_tab=true;return {want_tab:_e,want_return:true,want_escape:false,want_chars:false,want_arrows:this._want_arrow};};_pFileUpload.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._items;var _h=false;var _i=this.index;var _j=nexacro.Event;if(_a==_j.KEY_TAB){if((_d&&_i==0)||(!_d&&_i==_g.length-1)){this._want_tab=false;this.set_index( -1);}else{if(_d){_i-- ;}else{_i++ ;}this.set_index(_i);}this._getWindow()._keydown_element._event_stop=true;}else{if(nexacro._enableaccessibility){var _k=_a==_j.KEY_UP&&_c;var _l=_a==_j.KEY_DOWN&&_c;if(_g[_i]){this._find_item_pseudo(_g[_i]);}var _m=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_i<0){editaccessibility=this.on_find_CurrentStyle_editaccessibility(_g[0].fileitemedit._pseudo);buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(_g[0].fileitembutton._pseudo);}else{editaccessibility=this.on_find_CurrentStyle_editaccessibility(_g[_i].fileitemedit._pseudo);buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(_g[_i].fileitembutton._pseudo);}if(_k||_l){var _n=this._getWindow();if((_k&&_i<0)||(_l&&this._buttonFlag&&_i==_g.length-1)){this._want_arrow=false;}else{while((editaccessibility&&editaccessibility.enable)||(buttonaccessibility&&buttonaccessibility.enable)){if(_k){if(!this._editFlag&&editaccessibility&&editaccessibility.enable){this.index= -1;this._editFlag=true;this._buttonFlag=false;}else{_i-- ;if(buttonaccessibility&&buttonaccessibility.enable){if(_i<0&&_m&&_m.enable){this._editFlag=false;this._buttonFlag=false;_n._removeFromCurrentFocusPath(this,false);this._setFocus(false);}else{this.index= -1;this._editFlag=false;this._buttonFlag=true;}}else{if(_i>0){this._buttonFlag=false;continue;}else{this._want_arrow=false;if(_m&&_m.enable){this._editFlag=false;this._buttonFlag=false;_n._removeFromCurrentFocusPath(this,false);this._setFocus(false);}}}}}else if(_l){if(!this._editFlag&&editaccessibility&&editaccessibility.enable){_i++ ;this._editFlag=true;this._buttonFlag=false;}else{if(buttonaccessibility&&buttonaccessibility.enable){this.index= -1;this._editFlag=false;this._buttonFlag=true;}else{if(_i<_g.length-1){this._editFlag=false;continue;}else{this._want_arrow=false;break;}}}}this.set_index(_i);this._want_arrow=true;this._getWindow()._keydown_element._event_stop=true;break;}}}else{this._want_arrow=false;}}}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pFileUpload._find_item_pseudo=function(_a){this._editFlag=(_a.fileitemedit._pseudo=="focused");this._buttonFlag=(_a.fileitembutton._pseudo=="focused");};_pFileUpload._on_focus=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);var _g=this._items;var _h=_g.length;var _i=null;var _j=0;if(_h){this._want_tab=true;_i=_b=="shifttabkey";if(_b=="shifttabkey"||_b=="tabkey"){this._editFlag=false;this._buttonFlag=true;if(_i){_j=this.index<0?_h-1:this.index;}else{_j=this.index<0?0:this.index;this._first_focus=true;}this.index= -1;}else{_i=_b=="upkey";if(nexacro._enableaccessibility){this._editFlag=false;this._buttonFlag=false;this._want_arrow=true;var _k=this.on_find_CurrentStyle_accessibility(this._pseudo);var _l=this.on_find_CurrentStyle_editaccessibility(this._pseudo);var _m=this.on_find_CurrentStyle_buttonaccessibility(this._pseudo);if(_i){this.index= -1;_j=_h-1;if(_m&&_m.enable){this._buttonFlag=true;}else if(_l&&_l.enable){this._editFlag=true;}}else{_j= -1;if(_k&&_k.enable==false){_j=0;this.index= -1;if(_l&&_l.enable){this._editFlag=true;}else if(_m&&_m.enable){this._buttonFlag=true;}this._first_focus=(this._editFlag||this._buttonFlag)?true:false;}}}}this.set_index(_j);if(nexacro._enableaccessibility){this._first_focus=false;}}};_pFileUpload.on_apply_custom_setfocus=function(_a){var _b=nexacro._enableaccessibility;var _c=((_a=="lbutton")?false:_b);var _d=this._items;if(_d.length< -1||_b){var _e=this._control_element;if(_e){_e.setElementFocus(_c);}}else{var _f=_d[this.index];if(_f){_f.fileitembutton._control_element.setElementFocus(_c);}}};_pFileUpload._setParamter=nexacro._emptyFn;_pFileUpload._getDataset=nexacro._emptyFn;if(nexacro.Browser=="Runtime"){_pFileUpload._addCookieToGlobalVariable=function(_a){if(application&&_a){var _b=_a.split("; ");var _c=_b.length;var _d;var _e,_f;for(var _g=0;_g<_c;_g++ ){_d=_b[_g].indexOf("=");if(_d<=0){continue;}_e=_b[_g].substr(0,_d);_f=_b[_g].substr(_d+1);if(nexacro._indexOf(application._cookie_variables,_e)>=0){application[_e]=_f;}else{if(application.addcookietovariable&&(nexacro._indexOf(application._variables,_e)<0)){application._addVariable(_e,_f,true);}}}}};_pFileUpload.on_load=function(_a,_b,_c,_d,_e,_f,_g){if(_g){this._addCookieToGlobalVariable(_g);}var _h,_i,_j= -1,_k="fail to get",_l=nexacro._getXMLDocument(this._unique_id,_b,_c);if(_a<0){application._onHttpSystemError(this,true,this,_d,_c,_e,_c,null);_f=nexacro._GetSystemErrorMsg(this,_d);this.on_fire_onerror(this,"ObjectError",_f,this,_e,null,null, -1);}else{if(_b){_i=_b.substring(0,3);if(_i!="SSV"){_i="XML";}if(_i=="XML"){_h=nexacro.Deserializer["XML"](_l);}else{_h=nexacro.Deserializer["SSV"](_b);}var _m=_h[0];if(_m){_j=_m["ErrorCode"];_k=_m["ErrorMsg"];}if(_j<0){this.on_fire_onerror(this,"ObjectError",_k,this,9901,null,null, -1);}else{this.on_fire_onsuccess(_h[1],_j,_k,_c);}}else{}}};}else{_pFileUpload.on_load=function(){var _a,_b,_c,_d= -1,_e="",_f="";try{if(nexacro._isCors(this._iscors)){nexacro._setPostMessage(this._unique_id,this._control_element);this._iscors=false;}else{var _g=nexacro._getXMLDocument(this._unique_id,this._iscors);_c=_g.URL?_g.URL:_g.url;if(_c=="about:blank"){return;}this.context=this.parent;if(nexacro._getContentType(_g)=="XML"){_b="XML";}else{_f=nexacro._getDataFromDOM(_g,this);_f=_f.trim();_b=_f.substring(0,3);}if(_b=="XML"){_a=nexacro.Deserializer["XML"](_g);}else if(_b=="SSV"){_a=nexacro.Deserializer["SSV"](_f);}if(_a){var _h=_a[0];if(_h["ErrorCode"]!=null){_d=_h["ErrorCode"];}if(_h["ErrorMsg"]!=null){_e=_h["ErrorMsg"];}}else{_e=_f;}if(_d<0){this.on_fire_onerror(this,"ObjectError","failed to get",this,9901,null,null, -1);}else{this.on_fire_onsuccess(_a[1],_d,_e,_c);}delete this.context;}}catch(e){this.on_fire_onerror(this,"ObjectError","failed to get",this,9901,null,null, -1);}};_pFileUpload.on_after_load=function(_a){var _b,_c,_d,_e= -1,_f="",_g="";try{var _h=nexacro._parseXMLDocument(decodeURIComponent(_a.replace(/\+/g," ")));_d=_h.URL?_h.URL:_h.url;if(_d=="about:blank"){return;}this.context=this.parent;if(nexacro._getContentType(_h)=="XML"){_c="XML";}else{_g=nexacro._getDataFromDOM(_h,this);_g=_g.trim();_c=_g.substring(0,3);}if(_c=="XML"){_b=nexacro.Deserializer["XML"](_h);}else if(_c=="SSV"){_b=nexacro.Deserializer["SSV"](_g);}if(_b){var _i=_b[0];if(_i["ErrorCode"]!=null){_e=_i["ErrorCode"];}if(_i["ErrorMsg"]!=null){_f=_i["ErrorMsg"];}}else{_f=_g;}if(_e<0){this.on_fire_onerror(this,"ObjectError","failed to get",this,9901,null,null, -1);}else{this.on_fire_onsuccess(_b[1],_e,_f,_d);}delete this.context;}catch(e){this.on_fire_onerror(this,"ObjectError","failed to get",this,9901,null,null, -1);}};}_pFileUpload._createFileItem=function(_a,_b,_c,_d,_e){var _f=this.itemcount<1?this._last_id=0: ++this._last_id;var _g="upfile"+_f;var _h=new nexacro.FileItemCtrl(_g,"absolute",_b,_c,_d,_e,null,null,this);_h.index=_a;_h.set_name(_g);_h.createComponent();_h.on_created();_h._setEventHandler("onfindclick",this.on_notify_onfindclick,this);_h._setEventHandler("onitemclick",this.on_notify_onitemclick,this);return _h;};_pFileUpload.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setEnable(_a);_b[_d].fileitemedit._setEnable(_a);_b[_d].fileitembutton._setEnable(_a);}};_pFileUpload._isPopupFrame=function(){return this._onPopupWin;};_pFileUpload._upadteFileList=function(){var _a=this.filelist=[];var _b=this._items;var _c=_b.length;var _d,_e,_f;for(var _l=0;_l<_c;_l++ ){var _g=_b[_l];_e=_g._files;if(_e){var _h=_e.length;for(var _m=0;_m<_h;_m++ ){var _i=_a.length;_d=new nexacro.VirtualFile("uploadfile"+_i);_f=_e[_m];if(nexacro.Browser=="Runtime"&&nexacro.OS!="Android"){var _j=_f;var _k=_j.lastIndexOf("\\");if(_k>0){_d.fullpath=_j;_d.path=_j.substring(0,_k+1);_d.filename=_f.substring(_k+1);}else{_d.filename=_j;}}else{_d._setRefFile(_f);}_a[_i]=_d;}}}};delete _pFileUpload;nexacro.FileUploadCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FileUpload.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pFileUploadCtrl=nexacro._createPrototype(nexacro.FileUpload,nexacro.FileUploadCtrl);nexacro.FileUploadCtrl.prototype=_pFileUploadCtrl;nexacro._setForControlStyleFinder(_pFileUploadCtrl);delete _pFileUploadCtrl;nexacro.FileItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.fileitemedit=null;this.fileitembutton=null;this.selected=false;this.itemheight=18;this.buttontext="find";this.buttonsize=18;this.name="";this.oldvalue="";this.value="";this.index=0;this.components=[];this._accessibility_role="none";this._event_list={"onfindclick":1,"onitemclick":1};};var _pFileItem=nexacro._createPrototype(nexacro.Component,nexacro.FileItem);nexacro.FileItem.prototype=_pFileItem;_pFileItem._type_name="FileItem";_pFileItem.on_apply_style_itemheight=function(){this.on_change_containerRect(this._client_width,this._client_height);};_pFileItem.on_apply_style_buttonsize=function(){this.on_change_containerRect(this._client_width,this._client_height);};_pFileItem.on_apply_style_buttontext=function(_a){if(this.fileitembutton){this.fileitembutton.set_text(_a);}};_pFileItem.on_create_contents=function(){var _a=this.getElement();if(_a){this.fileitemedit=new nexacro.FileItemEditCtrl("fileitemedit","absolute",0,0,0,0,null,null,this);this.fileitembutton=new nexacro.FileItemButtonCtrl("fileitembutton","absolute",0,0,0,0,null,null,this);this.fileitemedit.set_readonly("true");this.fileitemedit.style.set_align(this.parent.on_find_CurrentStyle_align());this.fileitembutton.set_text("find");this.fileitemedit.createComponent();this.fileitembutton.createComponent();}};_pFileItem.on_created_contents=function(){var _a=this.parent;nexacro._append_hidden_item(_a._unique_id,this.name,this.on_fileinput_onchange,this,_a._handle,this.parent._multiselect);this.fileitemedit.on_created();this.fileitembutton.on_created();this.fileitemedit._setEventHandler("oneditclick",this.on_notify_fileitem_oneditclick,this);this.fileitembutton._setEventHandler("onclick",this.on_notify_fileitem_onfindclick,this);this.fileitemedit._setEventHandler("onlbuttondown",this.on_notify_fileitem_oneditlbuttondown,this);this.fileitembutton._setEventHandler("onlbuttondown",this.on_notify_fileitem_onfindlbuttondown,this);if(nexacro._enableaccessibility){this.components.push(this.fileitemedit);this.components.push(this.fileitembutton);}this._setAccessibilityActiveDescendant(this.fileitembutton);this.on_apply_prop_rtldirection();};_pFileItem.on_destroy_contents=function(){if(this.fileitemedit){this.parent.filepathedits.delete_item(this.id);this.fileitemedit.destroy();this.fileitemedit=null;}if(this.fileitembutton){this.parent.filefindbuttons.delete_item(this.id);this.fileitembutton.destroy();this.fileitembutton=null;}if(this._files){this._files=null;}this.components=null;var _a=this.parent;nexacro._remove_hidden_item(_a._unique_id,this.name,_a._handle);if(this._input_node){this._input_node=null;}};_pFileItem.on_change_containerRect=function(_a,_b){var _c=parseInt(this.parent.on_find_CurrentStyle_buttonsize(this._pseudo),10);var _b=parseInt(this.parent.on_find_CurrentStyle_itemheight(this._pseudo),10);var _d=parseInt(this.index,10);var _e=this._client_left;var _f=this._client_top;var _g=this._client_width-_c;var _h=_b;var _i=_e+_g;var _j=_f;var _k=_c;var _l=_h;if(this.fileitemedit){this.fileitemedit.move(_e,_f,_g,_h,null,null);}if(this.fileitembutton){this.fileitembutton.move(_i,_j,_k,_l,null,null);}};_pFileItem.set_value=function(_a){if(_a!=this.value){this.oldvalue=this.value;this.value=_a;this.on_apply_value(_a);this.parent.set_index(this.index);this.parent._setText(_a);this.parent._setValue(_a);return true;}return false;};_pFileItem.on_apply_value=function(_a){if(this.fileitemedit){this.fileitemedit.set_value(_a);}};_pFileItem.set_name=function(_a){if(_a!=this.name){this.name=_a;}};_pFileItem.set_selected=function(_a){if(_a!=this.selected){this.selected=_a;this.on_apply_selected(_a);}};_pFileItem.on_apply_selected=function(_a){if(_a){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}};_pFileItem.on_notify_fileitem_oneditclick=function(_a,_b){this.parent.set_index(this.index);if(this.onitemclick&&this.onitemclick._has_handlers){this.onitemclick._fireEvent(this,_b);}return false;};_pFileItem.on_notify_fileitem_onfindclick=function(_a,_b){this.parent.set_index(this.index);if(this.onfindclick&&this.onfindclick._has_handlers){this.onfindclick._fireEvent(this,_b);}return false;};_pFileItem.on_notify_fileitem_oneditlbuttondown=function(_a,_b){this._accessibility_find_focus_flag(true,false);this.parent.set_index(this.index);};_pFileItem.on_notify_fileitem_onfindlbuttondown=function(_a,_b){this._accessibility_find_focus_flag(false,true);this.parent.set_index(this.index);};_pFileItem._accessibility_find_focus_flag=function(_a,_b){if(nexacro._enableaccessibility){this.parent._editFlag=_a;this.parent._buttonFlag=_b;}};_pFileItem.on_apply_prop_rtldirection=function(){var _a=this._rtldirection=this.parent._rtldirection;nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _b=this.fileitemedit;var _c=this.fileitembutton;if(_b){_b._setRtlDirection(_a);}if(_c){_c._setRtlDirection(_a);}};_pFileItem.on_fileinput_onchange=function(_a,_b){if(_b){var _c=_b[0];var _d=_c.lastIndexOf("\\");if(_d>0){this.parent.openedpath=_c.substring(0,_d+1);}}if(this.set_value(_a)){this.parent.on_fire_onitemchanged(this,this.index,this.oldvalue,this.value,_b);}};_pFileItem._isPopupFrame=function(){return this.parent._onPopupWin;};_pFileItem._changeFiles=function(_a){this._files=_a;this.parent._upadteFileList();};delete _pFileItem;nexacro.FileItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FileItem.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pFileItemCtrl=nexacro._createPrototype(nexacro.FileItem,nexacro.FileItemCtrl);nexacro.FileItemCtrl.prototype=_pFileItemCtrl;_pFileItemCtrl._type_name="FileItemControl";delete _pFileItemCtrl;nexacro.FileItemEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.EditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._edit=null;};var _pFileItemEditCtrl=nexacro._createPrototype(nexacro.EditCtrl,nexacro.FileItemEditCtrl);nexacro.FileItemEditCtrl.prototype=_pFileItemEditCtrl;_pFileItemEditCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.parent._find_pseudo_obj("editbackground",_a,"background");};_pFileItemEditCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.parent._find_pseudo_obj("editgradation",_a,"gradation");};_pFileItemEditCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.parent._find_pseudo_obj("editborder",_a,"border");};_pFileItemEditCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.parent._find_pseudo_obj("editbordertype",_a,"bordertype");};_pFileItemEditCtrl.on_find_CurrentStyle_padding=function(_a){var _b=this.parent.parent._find_pseudo_obj("editpadding",_a,"padding");return (_b)?_b:this._defaultPadding;};_pFileItemEditCtrl.on_find_CurrentStyle_margin=function(_a){var _b=this.parent.parent._find_pseudo_obj("editmargin",_a,"margin");return (_b)?_b:this._defaultMargin;};_pFileItemEditCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.parent.parent._find_pseudo_obj("editfont",_a,"font")||this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;return _b;};_pFileItemEditCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.parent.parent._find_pseudo_obj("editcolor",_a,"color")||this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;return _b;};_pFileItemEditCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.parent.on_find_CurrentStyle_editaccessibility(_a);};_pFileItemEditCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pFileItemEditCtrl._getAccessibilityLabel=function(_a){var _b="";if(this.parent.parent._first_focus){var _c=this.parent.parent;_b=_c._control_element._makeAccessibilityLabelbyReadtype();}_b+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _b;};delete _pFileItemEditCtrl;nexacro.FileItemButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Button.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._button=null;};var _pFileItemButtonCtrl=nexacro._createPrototype(nexacro.Button,nexacro.FileItemButtonCtrl);nexacro.FileItemButtonCtrl.prototype=_pFileItemButtonCtrl;_pFileItemButtonCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.parent._find_pseudo_obj("buttonbackground",_a,"background");};_pFileItemButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.parent._find_pseudo_obj("buttongradation",_a,"gradation");};_pFileItemButtonCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.parent._find_pseudo_obj("buttonborder",_a,"border");};_pFileItemButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.parent._find_pseudo_obj("buttonbordertype",_a,"bordertype");};_pFileItemButtonCtrl.on_find_CurrentStyle_padding=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttonpadding",_a,"padding");return (_b)?_b:this._defaultPadding;};_pFileItemButtonCtrl.on_find_CurrentStyle_margin=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttonmargin",_a,"margin");return (_b)?_b:this._defaultMargin;};_pFileItemButtonCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttonfont",_a,"font")||this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;return _b;};_pFileItemButtonCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttoncolor",_a,"color")||this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;return _b;};_pFileItemButtonCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.parent.on_find_CurrentStyle_buttonaccessibility(_a);};_pFileItemButtonCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pFileItemButtonCtrl._getAccessibilityLabel=function(_a){var _b="";if(this.parent.parent._first_focus){var _c=this.parent.parent;_b=_c._control_element._makeAccessibilityLabelbyReadtype();}_b+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _b;};_pFileItemButtonCtrl.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==13||_a==32){this.click();}return _g;};delete _pFileItemButtonCtrl;};if(!nexacro.FlashPlayer){nexacro.FlashPlayer=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._params=new nexacro.Collection();};var _pFlash=nexacro.FlashPlayer.prototype=nexacro._createPrototype(nexacro.Component,nexacro.FlashPlayer);_pFlash._type_name="FlashPlayer";_pFlash.codebase="";_pFlash.mimetype="";_pFlash.movie="";_pFlash.adjustalpha="";_pFlash.alignmode="";_pFlash.framenum="";_pFlash.loop="";_pFlash.playing="";_pFlash.quality="";_pFlash.readstate="";_pFlash.scalemode="";_pFlash._obj_id="";_pFlash._obj_elem=null;_pFlash._params=null;_pFlash.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._obj_elem=new nexacro.PluginElement(_a);_b.setElementSize(this._client_width,this._client_height);}};_pFlash.on_created_contents=function(){var _a=this._obj_elem;if(_a){_a.component=this;var _b=this._params;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a.setElementParam(_b.get_id(_d),_b.get_item(_d));}if(nexacro.Browser=="IE"||nexacro.Browser=="Runtime"){this.on_apply_codebase();_a.setElementPluginSrc(this.movie);if(this.codebase==""){this.codebase="http://fpdownload.adobe.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0";_a.setElementCodebase(this.codebase);}if(this.mimetype==""){this.mimetype="application/x-shockwave-flash";_a.setElementMIMEType(this.mimetype);_a.setElementPluginMIMEType(this.mimetype);}_a.setElementPluginPage("http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash");_a.setElementClassId("{d27cdb6e-ae6d-11cf-96b8-444553540000}");}_a.setElementParam("WMode","Transparent");_a.create();_a.setElementVisible(this.visible);this.on_apply_movie();}};_pFlash.on_destroy_contents=function(){var _a=this._obj_elem;if(_a){_a.destroy();this._obj_elem=null;}};_pFlash.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._obj_elem;if(_c){_c.on_update_position();}};_pFlash.on_change_containerRect=function(_a,_b){var _c=this._obj_elem;if(_c){_c.setElementSize(_a,_b);}};_pFlash.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._obj_elem;if(_b){_b.setElementVisible(_a);}};_pFlash.set_mimetype=function(_a){this.mimetype=_a;this.on_apply_mimetype();};_pFlash.on_apply_mimetype=function(){var _a=this._obj_elem;if(_a){var _b=this.mimetype;if(_b){_a.setElementMIMEType(_b);}}};_pFlash.set_codebase=function(_a){this.codebase=_a;this.on_apply_codebase();};_pFlash.on_apply_codebase=function(){var _a=this._obj_elem;if(_a){var _b=this.codebase;if(_b){_a.setElementCodebase(_b);}}};_pFlash.set_movie=function(_a){var _b=_a;if(_b.substring(0,4).toLowerCase()=="url("){_b=_b.substring(5,_b.length-2);}var _b=nexacro._getServiceLocation(_b,this._getRefFormBaseUrl());this.movie=_b;this.on_apply_movie();};_pFlash.on_apply_movie=function(){var _a=this._obj_elem;if(_a){var _b=this.movie;if(_b){_a.setElementData(_b);_a.setElementParam("Movie",_b);}}};_pFlash.set_scalemode=function(_a){this.scalemode=_a;this.on_apply_scalemode();};_pFlash.on_apply_scalemode=function(){var _a=this._obj_elem;if(_a){var _b=this.scalemode;if(_b){_a.setElementParam("scale",_b);}}};_pFlash.set_loop=function(_a){this.loop=_a;this.on_apply_loop();};_pFlash.on_apply_loop=function(){var _a=this._obj_elem;if(_a){var _b=this.loop;if(_b){_a.setElementParam("loop",_b);}}};_pFlash.set_playing=function(_a){this.playing=_a;this.on_apply_playing();};_pFlash.on_apply_playing=function(){var _a=this._obj_elem;if(_a){var _b=this.playing;if(_b){_a.setElementParam("play",_b);}}};_pFlash.set_quality=function(_a){this.quality=_a;this.on_apply_quality();};_pFlash.on_apply_quality=function(){var _a=this._obj_elem;if(_a){var _b=this.quality;if(_b){_a.setElementParam("quality",_b);}}};delete _pFlash;}if(!nexacro.WebBrowser){nexacro.WebLoadCompEventInfo=function(_a,_b,_c){this.id=this.eventid=_c||"onloadcompleted";this.fromobject=this.fromreferenceobject=_a;this.url=_b;};var _pWebLoadCompEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.WebLoadCompEventInfo);nexacro.WebLoadCompEventInfo.prototype=_pWebLoadCompEventInfo;_pWebLoadCompEventInfo._type_name="WebLoadCompEventInfo";delete _pWebLoadCompEventInfo;nexacro.WebUserNotifyEventInfo=function(_a,_b,_c){this.id=this.eventid=_c||"onusernotify";this.fromobject=this.fromreferenceobject=_a;this.userdata=_b;};var _pWebUserNotifyEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.WebUserNotifyEventInfo);nexacro.WebUserNotifyEventInfo.prototype=_pWebUserNotifyEventInfo;_pWebUserNotifyEventInfo._type_name="WebUserNotifyEventInfo";delete _pWebUserNotifyEventInfo;nexacro.WebBrowser=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._ifrm_elem=null;this.window=null;this.document=null;this.url="";this._url="";this._blockLoadFlag=false;this._current_url="";this._is_emptyurl_based=true;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onloadcompleted":1,"onusernotify":1};this._accessibility_role="webbrowser";};var _pWebBrowser=nexacro._createPrototype(nexacro.Component,nexacro.WebBrowser);nexacro.WebBrowser.prototype=_pWebBrowser;_pWebBrowser._type_name="WebBrowser";_pWebBrowser.on_get_style_accessibility_label=function(){return this.id;};_pWebBrowser.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;this._ifrm_elem=new nexacro.WebBrowserPluginElement(_a);this._ifrm_elem.setElementSize(this._client_width,this._client_height);}};_pWebBrowser.on_created_contents=function(){var _a=this._ifrm_elem;if(_a){_a.component=this;_a.create();_a.initEvent();this.document=_a._document;this.window=_a._winodw;nexacro._observeSysEvent(_a._handle,"mouseover","onmouseover",this._webbrowser_mouseover);}if(this._url){this._is_emptyurl_based=false;}if(!(nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){if(this._url===""){this._url="about:blank";}}this.on_apply_style_url();this._setAccessibilityOutfocusAction();};_pWebBrowser.on_destroy_contents=function(){var _a=this._ifrm_elem;if(_a){nexacro._stopSysObserving(_a._handle,"mouseover","onmouseover",this._webbrowser_mouseover);this.window=null;this.document=null;_a.destroy();this._ifrm_elem=null;}var _b=this._text_elem;if(_b){_b.destroy();this._text_elem=null;}};_pWebBrowser.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._ifrm_elem;if(_c){_c.on_update_position();}};_pWebBrowser.on_change_containerRect=function(_a,_b){var _c=this._ifrm_elem;if(_c){_c.setElementSize(_a,_b);}};_pWebBrowser._getDlgCode=function(_a,_b,_c,_d){var _e=this._ifrm_elem;if(_e){if((!_e._prev_outfocus_message_elem||(_e._prev_outfocus_message_elem._killfocus_flag==true&&_a==nexacro.Event.KEY_UP))||(!_e._next_outfocus_message_elem||(_e._next_outfocus_message_elem._killfocus_flag==true&&_a==nexacro.Event.KEY_DOWN))){this._want_arrow=false;}else{this._want_arrow=true;}}return {want_tab:true,want_return:true,want_escape:false,want_chars:false,want_arrows:this._want_arrow};};_pWebBrowser.on_apply_custom_setfocus=function(_a){if(nexacro._enableaccessibility){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}var _b=this._getWindow();if(_b&&!_b._is_iframe_focus){var _c=this._ifrm_elem;if(_c){_c._setElementFocus();}}};_pWebBrowser.on_fire_onloadcompleted=function(_a,_b){if(this.onloadcompleted&&this.onloadcompleted._has_handlers){var _c=new nexacro.WebLoadCompEventInfo(_a,_b);_c.eventid="onloadcompleted";return this.onloadcompleted._fireEvent(this,_c);}return true;};_pWebBrowser.on_fire_onusernotify=function(_a,_b){if(this.onusernotify&&this.onusernotify._has_handlers){var _c=new nexacro.WebUserNotifyEventInfo(_a,_b);_c.eventid="onusernotify";return this.onusernotify._fireEvent(this,_c);}return true;};_pWebBrowser.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Event;if(_a==_g.KEY_TAB){this._getWindow()._keydown_element._event_stop=false;}else if(nexacro._enableaccessibility){var _h=this._ifrm_elem;if(_h){if(_a==_g.KEY_UP){if(_h._prev_outfocus_message_elem._killfocus_flag==true){_h._prev_outfocus_message_elem._killfocus_flag=false;}else{try{_h._hanle.contentDocument.body.focus();}catch(e){}}}else if(_a==_g.KEY_DOWN){if(_h._next_outfocus_message_elem._killfocus_flag==true){_h._next_outfocus_message_elem._killfocus_flag=false;}else{try{_h._handle.contentDocument.body.focus();}catch(e){}}}}}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pWebBrowser._webbrowser_mouseover=function(_a){nexacro._cur_drag_info=null;nexacro._cur_track_info=null;};_pWebBrowser.set_text=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.text){this.text=_a;this._display_text=_a.replace(/ /g,"\u00a0");}};_pWebBrowser.set_enable=function(_a){_a=nexacro._toBoolean(_a);if(this.enable!=_a){var _b=this._control_element;this.enable=_a;if(this._is_created){var _c=(this.parent._real_enable&&_a);if(this._real_enable!=_c){this._real_enable=_c;this._stat_change(_c?"enable":"disable",this._pseudo);this.on_apply_prop_enable(this._real_enable);if(this._ifrm_elem){this._ifrm_elem.setElementEnable(_c);}}}}};_pWebBrowser.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._ifrm_elem;if(_b){_b.setElementVisible(_a);}};_pWebBrowser.set_cookiesynctype=function(_a){};_pWebBrowser.set_url=function(_a){if(_a==undefined){return;}var _b=_a.toString();if(_b!="about:blank"&&_b.match(/http:\/\/|file:\/\/|https:\/\//gi)==null){_b="http://"+_b;}this._url=_b;this.url=_a;this.on_apply_style_url();};_pWebBrowser.on_apply_style_url=function(){if(this._url==="http://"||this._url==="file://"||this._url==="https://"||this._url===""){return;}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _a=this.getElement();if(_a){if(this._url=="about:blank"){if(!this._text_elem){this._text_elem=new nexacro.TextBoxElement(this.getElement());this._text_elem.setElementSize(this._client_width,this._client_height);}this._text_elem.create();this._text_elem._setElementAccessibilityRole();this._text_elem._setElementAccessibilityLabel();}else{if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}}}}var _b=this._ifrm_elem;if(_b){this._blockLoadFlag=false;_b._setUrl(this._url);}};_pWebBrowser.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);this._setAccessibilityOutfocusAction(_a);};_pWebBrowser.stoploading=function(){;};_pWebBrowser._exit=function(){this.window=null;this.document=null;this._blockLoadFlag=false;this._current_url="";this._is_emptyurl_based=true;var _a=this._ifrm_elem;if(_a){_a._setUrl("");}};_pWebBrowser.reload=function(){var _a=this._ifrm_elem;if(_a){if(this._isCrossDomain(this._current_url)||this._is_emptyurl_based){var _b=this._url;_a._setUrl("");_a._setUrl(_b);}else{_a._setGo();}}};_pWebBrowser.goback=function(){var _a=this._ifrm_elem;if(_a){if(!this._isCrossDomain(this._current_url)){return _a._setBack();}}};_pWebBrowser.goforward=function(){var _a=this._ifrm_elem;if(_a){if(!this._isCrossDomain(this._current_url)){return _a._setForward();}}};_pWebBrowser.on_load_handler=function(_a){if(this._blockLoadFlag){return;}this._current_url=_a;this.document=this._ifrm_elem._getDoc();if(_a!="about:blank"){this._blockLoadFlag=true;this.on_fire_onloadcompleted(this,_a==""?this.url:_a);}};_pWebBrowser.getProperty=function(_a){var _b=this._ifrm_elem;if(_b){return _b.getProperty(_a);}};_pWebBrowser.setProperty=function(_a,_b){var _c=this._ifrm_elem;if(_c){_c.setProperty(_a,_b);}};_pWebBrowser.callMethod=function(_a){var _b=this._ifrm_elem;if(_b){nexacro.WebBrowserPluginElement.prototype.callMethod.apply(_b,arguments);}};_pWebBrowser.addEventHandler=function(_a,_b,_c){if(_a in this._event_list==false){this._event_list[_a]=1;}nexacro.Component.prototype.addEventHandler.call(this,_a,_b,_c);};_pWebBrowser.removeEventHandler=function(_a,_b,_c){nexacro.Component.prototype.removeEventHandler.call(this,_a,_b,_c);};_pWebBrowser._isCrossDomain=function(_a){if(_a==""){return true;}var _b=this._getRefFormBaseUrl();if(_b.match(/^(file):\/\//)){return false;}var _c=/^(https?):\/\/([^:\/\s]+)(:([^\/]*))?((\/[^\s/\/]+)*)?\/?([^#\s\?]*)(\?([^#\s]*))?(#(\w*))?$/;var _d=_a.match(_c);var _e=_b.match(_c);if(!_d||!_e){return true;}if(_d[2]!=_e[2]){return true;}return false;};_pWebBrowser._setAccessibilityOutfocusAction=function(){var _a=this.on_find_CurrentStyle_accessibility("enable");if(_a){var _b=this._ifrm_elem;if(_b){if(_b._prev_outfocus_message_elem){_b._prev_outfocus_message_elem.setElementText(_a.action);}if(_b._next_outfocus_message_elem){_b._next_outfocus_message_elem.setElementText(_a.action);}}}};_pWebBrowser.updateWindow=function(){var _a=this._ifrm_elem;if(_a){_a.updateWindow();}};delete _pWebBrowser;}if(!nexacro.ExcelExportObject){nexacro.ExcelExportProgressEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onprogress";this.fromobject=_a;this.fromreferenceobject=_f;this.itemindex=_c;this.itemtype=_d;this.recordindex=_e;};var _pExportEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ExcelExportProgressEventInfo);nexacro.ExcelExportProgressEventInfo.prototype=_pExportEventInfo;_pExportEventInfo._type_name="ExcelExportProgressEventInfo";delete _pExportEventInfo;nexacro.ExcelExportEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onsuccess";this.fromobject=_a;this.fromreferenceobject=_d;this.url=_c;};var _pExcelExportEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ExcelExportEventInfo);nexacro.ExcelExportEventInfo.prototype=_pExcelExportEventInfo;_pExcelExportEventInfo._type_name="ExcelExportEventInfo";delete _pExcelExportEventInfo;nexacro.ExcelExportErrorEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onerror";this.fromobject=_a;this.fromreferenceobject=_e;this.errortype=_c;this.errormsg=_d;this.statuscode=_f;};var _pExportErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.ExcelExportErrorEventInfo);nexacro.ExcelExportErrorEventInfo.prototype=_pExportErrorEventInfo;_pExportErrorEventInfo._type_name="ExcelExportErrorEventInfo";delete _pExportErrorEventInfo;nexacro.ExcelExportObject=function(_a,_b){this.id=this.name=_a;if(!_b){_b=application.getActiveForm();if(!_b){var _c=application.popupframes;var _d=_c?_c.length:0;for(var _j=0;_j<_d;_j++ ){var _e=_c[_j]._window;if(_e){var _f=_e.getActiveFrame();if(_f&&_f.form instanceof nexacro.Form){_b=_f.form;break;}}}if(!_b){_e=application.mainframe._window;var _g=_e.getCurrentFocusPaths();var _h=(_g?_g.length:0);for(_j=0;_j<_h;_j++ ){var _i=_g[_j];if(!_i){continue;}if(_i._is_form){_b=_i;break;}}}}}this.parent=_b;this.activepagename="";this.exportactivemode="noactive";this.exporteventtype="itemrecord";this.exportfilename="";this.exportmessagealert="";this.exportmessagecomplete="";this.exportmessageprocess="";this.exportmessageready="";this.exportopenmode="noopen";this._exporttype=nexacro.ExportTypes.EXCEL;this.exporttype=nexacro.ExportTypes.EXCEL;this.exportuitype="none";this.templatefilename="";this.commdataformat="";this.commcompress="none";this.exporturl="";this.filedialogpath="";this.openedpath="";this.filefilter="";this.filefilterindex=0;this._exportuitype=0;this._exporturl="";this._commcompress=false;this._commdataformat=2;this._grids=[];this._dataset=[];this._xml=[];this._allRowCount=0;this._progress_pos=0;this._uniqueIndex=0;this._fileURL="";this._itemsIndex=0;this._argsParam=null;this._argsDsParam=null;this._is_orgval=false;this._file_password=null;this._wrap_text=true;this._file_download=true;this._exportBar;this._tempSaveMethod=null;this.onsuccess=new nexacro.EventListener("onsuccess");this.onprogress=new nexacro.EventListener("onprogress");this.onerror=new nexacro.EventListener("onerror");this._handle=null;nexacro._create_filedownload_handle(this.on_complete_download,this);this._event_list={"onsuccess":1,"onerror":1,"onprogress":1};};var _pExcelExport=nexacro.ExcelExportObject.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExcelExportObject);_pExcelExport._type_name="ExportObject";_pExcelExport.excelTypeTable={EXCEL:0x0100,EXCEL97:0x0110,EXCEL2007:0x0120,HANCELL2010:0x0400,HANCELL2014:0x0410,CSV:0x0500,256:0x0100,272:0x0110,288:0x0120,1024:0x0400,1040:0x0410,1280:0x0500};_pExcelExport.on_created=nexacro._emptyFn;_pExcelExport.set_templatefilename=function(_a){if(_a!=this.templatefilename){this.templatefilename=_a;}return _a;};_pExcelExport.set_commdataformat=function(_a){if(_a!=this.commdataformat){this.commdataformat=_a;switch(_a.toString().toUpperCase()){case "XML":this._commdataformat=0;break;case "BINARY":this._commdataformat=1;break;default:this._commdataformat=2;break;}}return _a;};_pExcelExport.set_commcompress=function(_a){if(_a!=this.commcompress){this.commcompress=_a;switch(_a.toString().toUpperCase()){case "COMPRESS":this._commcompress=true;break;default:this._commcompress=false;break;}}return _a;};_pExcelExport.set_exporturl=function(_a){if(_a!=this.exporturl){this.exporturl=_a;this._exporturl=nexacro._getServiceLocation(_a,this.parent._getFormBaseUrl());}return _a;};_pExcelExport.set_name=function(_a){this.id=this.name=_a;};_pExcelExport.set_exporttype=function(_a){if(_a!=this.exporttype){this.exporttype=_a;var _b=this.excelTypeTable[(_a+"").toUpperCase()];if(!_b){_b=256;}this._exporttype=_b;}return _a;};_pExcelExport.set_activepagename=function(_a){if(_a!=this.activepagename){this.activepagename=_a;}return _a;};_pExcelExport.set_exportactivemode=function(_a){if(_a!=this.exportactivemode){this.exportactivemode=_a;}return _a;};_pExcelExport.set_exporteventtype=function(_a){if(_a!=this.exporteventtype){this.exporteventtype=_a;}return _a;};_pExcelExport.set_exportopenmode=function(_a){if(_a!=this.exportopenmode){this.exportopenmode=_a;}return _a;};_pExcelExport.set_exportfilename=function(_a){if(_a!=this.exportfilename){this.exportfilename=_a;}return _a;};_pExcelExport.set_exportmessagealert=function(_a){if(_a!=this.exportmessagealert){this.exportmessagealert=_a;}return _a;};_pExcelExport.set_exportuitype=function(_a){if(_a!=this.exportuitype){this.exportuitype=_a;switch(_a){case "exportprogress":this._exportuitype=1;break;case "statusbar":this._exportuitype=2;break;default:this._exportuitype=0;break;}}return _a;};_pExcelExport.set_exportmessageready=function(_a){if(_a!=this.exportmessageready){this.exportmessageready=_a;}return _a;};_pExcelExport.set_exportmessageprocess=function(_a){if(_a!=this.exportmessageprocess){this.exportmessageprocess=_a;}return _a;};_pExcelExport.set_exportmessagecomplete=function(_a){if(_a!=this.exportmessagecomplete){this.exportmessagecomplete=_a;}return _a;};_pExcelExport.set_filedialogpath=function(_a){this.filedialogpath=_a;};_pExcelExport.set_openedpath=function(_a){};_pExcelExport.set_filefilter=function(_a){this.filefilter=_a;};_pExcelExport.set_filefilterindex=function(_a){this.filefilterindex=_a;};_pExcelExport.addExportItem=function(_a,_b,_c){var _d= -1;var _e;if(arguments.length==2){if(_a&&_b&&_b instanceof nexacro.ExportItem){_e=_b;_e.parent=this;_e._setEventHandler("onprogress",this.on_notify_onprogress,this);_e._setEventHandler("onsuccess",this.on_notify_onsuccess,this);_e._setEventHandler("onerror",this.on_notify_onerror,this);}else{return  -1;}}else{if(_a&&_b&&_a==this._getItemType(_b)){_e=new nexacro.ExportItem(this.id+"item"+this._uniqueIndex++ ,this);_e._setEventHandler("onprogress",this.on_notify_onprogress,this);_e._setEventHandler("onsuccess",this.on_notify_onsuccess,this);_e._setEventHandler("onerror",this.on_notify_onerror,this);var _f=arguments.length;switch(_f){case 11:arguments[10]&&_e.set_acceptstyle(arguments[10]);case 10:arguments[9]&&_e.set_exportsize(arguments[9]);case 9:arguments[8]&&_e["set_exceptstyle"](arguments[8]);case 8:arguments[7]&&_e["set_exportimage"](arguments[7]);case 7:arguments[6]&&_e["set_exportvalue"](arguments[6]);case 6:arguments[5]&&_e["set_exportmerge"](arguments[5]);case 5:arguments[4]&&_e["set_exportselect"](arguments[4]);case 4:arguments[3]&&_e["set_exporthead"](arguments[3]);case 3:arguments[2]&&_e["set_range"](arguments[2]);case 2:arguments[1]&&_e["set_source"](arguments[1]);break;}}else{return  -1;}}switch(_a){case nexacro.ExportItemTypes.GRID:_e.set_type(_a);_d=this._grids.push(_e)-1;break;case nexacro.ExportItemTypes.DATA:break;case nexacro.ExportItemTypes.XML:break;}return _d;};_pExcelExport.clear=function(){var _a=0;_a+=this._grids.length;_a+=this._dataset.length;_a+=this._xml.length;this._grids=[];this._dataset=[];this._xml=[];return _a;};_pExcelExport.clearExportItems=function(_a){var _b;switch(_a){case nexacro.ExportItemTypes.GRID:_b=this._grids.length;this._grids.length=0;this._grids=[];break;}if(_b==0){this._uniqueIndex=0;}return _b;};_pExcelExport.count=function(){var _a=0;_a+=this._grids.length;_a+=this._dataset.length;_a+=this._xml.length;return _a;};_pExcelExport.countExportItems=function(_a){var _b=0;switch(_a){case nexacro.ExportItemTypes.GRID:_b+=this._grids.length;break;}return _b;};_pExcelExport.delExportItem=function(_a,_b){var _c=false;switch(_a){case nexacro.ExportItemTypes.GRID:if(this._grids.splice(_b,1).length>0){_c=true;}break;}return _c;};_pExcelExport.getExportItem=function(_a,_b){var _c=null;switch(_a){case nexacro.ExportItemTypes.GRID:_c=this._grids[_b];break;}return _c?_c:null;};_pExcelExport.setExportItem=function(_a,_b,_c){if(!_c||!(_c instanceof nexacro.ExportItem)){return false;}var _d=false;switch(_a){case nexacro.ExportItemTypes.GRID:if(_b> -1&&_b<this._grids.length){_c.parent=this;this._grids[_b]=_c;_d=true;}break;}return _d;};_pExcelExport.exportItems=function(_a){var _b= -1;if(!this.exporturl){return _b;}switch(_a){case nexacro.ExportItemTypes.GRID:var _c=this._grids;var _b=this._gCount=_c.length;this._allCount=_b;if(_b>0){if(this.exportmessagealert!=""){alert(this.exportmessagealert);}_c[0]._gridItemExport(this);}break;}return _b;};_pExcelExport._partition_size=100000;_pExcelExport.exportData=function(_a,_b,_c,_d){this._argsParam=_a;this._argsDsParam=_b;this._is_orgval=_c?true:false;this._file_download=(_d!==undefined)?_d:true;if(_a){this._file_password=null;var _e=_a.split(",");for(var _k=_e.length-1,_l=0;_k>=_l;_k-- ){var _f=_e[_k].split("=");if(_f[0]=="filepassword"){this._file_password=_f[1];_e.splice(_k,1);}else if(_f[0]=="wraptext"){this._wrap_text=nexacro._toBoolean(_f[1]);_e.splice(_k,1);}else if(_f[0]=="contenttype"){var _g=_f[1].toLowerCase();if(_g=="csv"){this._commdataformat=3;}else{this._commdataformat=2;}}}_a=_e.join(",");this._argsParam=_a;}var _h= -1;if(!this.exporturl){return _h;}var _i=this._grids;var _j=this._gCount=_i.length;this._allCount=_j;if(this._allCount>0&&this.exportmessagealert!=""){alert(this.exportmessagealert);}var _k;for(_k=0;_k<_j;_k++ ){this._allRowCount+=_i[_k].source._getGridRowCount();}if(_j>0){_i[0]._gridItemExport(this);}return this.count();};_pExcelExport.destroy=function(){if(this._exportBar){this._exportBar.destroy();this._exportBar=null;}this._excel_suppress_info=null;this._merge_datas=null;this._grids.length=0;this._dataset.length=0;this._xml.length=0;this.parent.removeChild(this.id);this.parent=null;return true;};_pExcelExport.on_fire_onprogress=function(_a,_b){var _c=this.onprogress;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelExport.on_fire_onsuccess=function(_a,_b){var _c=this.onsuccess;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelExport.on_fire_onerror=function(_a,_b){var _c=this.onerror;var _d;if(_c&&_c._has_handlers){_d=_c._fireEvent(this,_b);}return _d;};_pExcelExport.on_notify_onprogress=function(_a,_b){this.on_fire_onprogress(_a,_b);return false;};_pExcelExport.on_notify_onsuccess=function(_a,_b){this.on_fire_onsuccess(_a,_b);return false;};_pExcelExport.on_notify_onerror=function(_a,_b){this.on_fire_onerror(_a,_b);return false;};_pExcelExport.on_complete_download=function(_a,_b,_c,_d,_e,_f){if(_a<0){}else{if(this.exportactivemode=="active"){nexacro._execShell(_b);}}};_pExcelExport._getItemType=function(_a){var _b;switch(_a&&_a._type_name){case "Grid":_b=nexacro.ExportItemTypes.GRID;break;case "Dataset":break;case "Xml":break;}return _b;};_pExcelExport._getProcessStr=function(_a,_b,_c){var _d="";_d=this.exportmessageprocess.replace("%d",_a);_d=_d.replace("%d",_b);_d=_d.replace("%d",_c);return _d;};_pExcelExport._getForm=function(){if(this.parent instanceof nexacro.Form){return this.parent;}return null;};_pExcelExport._getExportBar=function(_a){var _b=this._getForm();var _c="_exportBar";var _d=_b[_c];if(_d){_d.destroy();}_d=new nexacro.ExportProgress(_c,"absolute",0,0,10,10,null,null,_b);_b.addChild(_d.name,_d);_d._uitype=_a;if(_d.createComponent(true)){_d.on_created();}return _d;};delete _pExcelExport;nexacro.ExportItem=function(_a,_b){this.id=this.name=_a;this.parent=_b||null;this.acceptstyle="";this.exceptstyle="";this.exporthead="allband";this._exporthead="";this.exportimage="none";this.exportmerge="suppress";this._exportmerge=1;this.exportselect="allrecord";this.exportvalue="allstyle";this.exportsize="width";this.range="";this.source="";this.type="";this._applyA=true;this._applyB=true;this._applyC=true;this._applyF=true;this._applyHead=true;this._applySumm=true;this._applyL=false;this._d_BLColor="";this._seq=1;this._preStartRow=0;this._startRow=0;this._eof=false;this._instanceId="";this._a_ct=0;this._bg_ct=0;this._c_ct=0;this._f_ct=0;this._l_ct=0;this._t_ct=0;this._sm_ct=0;this._g_ct=0;this._s_ct=0;this._stylecache={};this._selectcount=0;this._merge_datas=null;this._excel_suppress_info={};this._gridTempInfo=null;this._tmpSuppressInfos;this._event_list={"onsuccess":1,"onprogress":1,"onerror":1};};var _pItem=nexacro.ExportItem.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExportItem);_pItem._type_name="ExportItem";_pItem._suppress_align_table={"first":"top","first,over":"top","middle":"middle","middle,over":"middle","last":"bottom","last,over":"bottom"};_pItem.set_acceptstyle=function(_a){if(_a!=this.acceptstyle){this.acceptstyle=_a;switch(_a.toLowerCase()){case "cellline":this._applyL=true;break;}}return _a;};_pItem.set_exceptstyle=function(_a){if(_a!=this.exceptstyle){this.exceptstyle=_a;var _b=_a.replace(/ /g,"").split(",");var _c=_b.length;for(var _d=0;_d<_c;_d++ ){switch(_b[_d].toLowerCase()){case "align":this._applyA=false;break;case "background":this._applyB=false;break;case "color":this._applyC=false;break;case "font":this._applyF=false;break;}}}return _a;};_pItem.set_exporthead=function(_a){if(_a!=this.exporthead){this.exporthead=_a;var _b=_a.replace(/ /g,"").split(",");var _c=_b.length;for(var _d=0;_d<_c;_d++ ){switch(_b[_d].toLowerCase()){case "nohead":this._applyHead=false;break;case "nosumm":this._applySumm=false;break;default:this._applySumm=true;this._applySumm=true;break;}}}if(!this._applyHead||!this._applySumm){if(!this._applyHead&&!this._applySumm){this._exporthead="nohead, nosumm";}else if(!this._applyHead){this._exporthead="nohead";}else{this._exporthead="nosumm";}}else{this._exporthead="allband";}return _a;};_pItem.set_exportimage=function(_a){if(_a!=this.exportimage){this.exportimage=_a;}return _a;};_pItem.set_exportmerge=function(_a){if(_a!=this.exportmerge){this.exportmerge=_a;switch(_a){case "nosuppress":this._exportmerge=0;break;case "merge":this._exportmerge=2;break;default:this._exportmerge=1;break;}}return _a;};_pItem.set_exportselect=function(_a){if(_a!=this.exportselect){this.exportselect=_a;}return _a;};_pItem.set_exportvalue=function(_a){if(_a!=this.exportvalue){this.exportvalue=_a;}return _a;};_pItem.set_range=function(_a){if(_a!=this.range){this.range=_a;}return _a;};_pItem.set_source=function(_a){if(_a!=this.source){this.source=_a;}return _a;};_pItem.set_type=function(_a){if(_a!=this.type){this.type=_a;}return _a;};_pItem.set_exportsize=function(_a){if(_a!=this.exportsize){this.exportsize=_a;}return _a;};_pItem.on_fire_onprogress=function(_a,_b,_c,_d){var _e=this.parent.onprogress;if(_e&&_e._has_handlers){var _f=new nexacro.ExcelExportProgressEventInfo(_a,"onprogress",_b,_c,_d,this);_e._fireEvent(this,_f);}};_pItem.on_fire_onsuccess=function(_a,_b,_c){var _d=this.parent.onsuccess;if(_d&&_d._has_handlers){var _e=new nexacro.ExcelExportEventInfo(_a,"onsuccess",_c,this);_d._fireEvent(this,_e);}};_pItem.on_fire_onerror=function(_a,_b,_c,_d){var _e=this.parent.onerror;if(_e&&_e._has_handlers){var _f=new nexacro.ExcelExportErrorEventInfo(_a,"onerror",_b,_c,this,_d);_e._fireEvent(this,_f);}};_pItem._getWindow=function(){var _a=this.parent.parent;if(_a._is_form){return _a._getWindow();}return null;};_pItem._getWindowHandle=function(){var _a=this.parent.parent;if(_a._is_form){return _a._getWindowHandle();}return null;};_pItem._getCellStyle=function(_a,_b,_c,_d,_e){var _f;var _g=_e=="selected"?true:false;switch(_d){case "align":_f=_a._query_pseudo_align(_b,_a.displaytype,_e);break;case "background":_f=_a._query_pseudo_background(_b,_c,_g,_e);break;case "border":_f=_a._query_pseudo_border(_b,false,"normal",0);break;case "color":_f=_a._query_pseudo_color(_b,_c,_g,_e);break;case "font":_f=_a._query_pseudo_font(_b,_g,_e);break;case "gradation":_f=_a._query_pseudo_gradation(_b,_c,_g,_e);break;}return _f;};_pItem._getCellText=function(_a,_b,_c){var _d;if(_a&&_a instanceof nexacro.Grid){var _e;if(_b== -1){_e="head";}else if(_b== -2){_e="summ";}else{_e="body";}var _f=this.parent;var _g=_a.getCellProperty(_e,_c,"displaytype");if(_a.getSubCellCount(_e,_c)){if(_f._is_orgval&&_g!="date"){_d=_a.getSubCellValue(_b,_c,0);}else{_d=_a.getSubCellText(_b,_c,0);}}else{if(_f._is_orgval&&_g!="date"){_d=_a.getCellValue(_b,_c);}else{_d=_a.getCellText(_b,_c);}}}return _d;};_pItem._find_styleName=function(_a,_b,_c,_d,_e){var _f="";var _g="";var _h=0;var _i= -1;if(_c){_i=_a.findRow("value",_c,_e);if(_i> -1){_g=_a.getColumn(_i,0);if(_g==_b){_f=_a.getColumn(_i,1);}else{return this._find_styleName(_a,_b,_c,_d,_i+1);}}else{_h=_a.getRowCount();_f=_b+ ++_d;_a.addRow();_a.setColumn(_h,"type",_b);_a.setColumn(_h,"name",_f);_a.setColumn(_h,"value",_c);}}return [_f,_d];};_pItem._getFitValue=function(_a){if(!_a){return;}var _b=[];var _c=_a._value;_b=_c.split(" ");return _b.join(",");};_pItem._getFitFontValue=function(_a){if(!_a){return;}var _b,_c=_a.type.split(" ").join(",");_b=_c+","+_a.size+","+_a.face;return _b;};_pItem._getHEXtoRGB=function(_a){var _b;if(typeof _a=="object"){_b=this._getHexColor(_a._value.split(" ")[0]);}else{_b=this._getHexColor(_a);}var _c=[];if(_b===""){_b=_a._value;}else{if(_b.indexOf("#")> -1){_c.push(parseInt(_b.substring(1,3),16));_c.push(parseInt(_b.substring(3,5),16));_c.push(parseInt(_b.substring(5,7),16));_b=_c.join(",");}else{var _d=_b.indexOf("(");var _e=_b.indexOf(")");_c=_b.substring(_d+1,_e-1).split(",");_c.pop();_b=_c.join(",");}}return _b;};_pItem._makeforDsStyle=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j;var _k="";if(this._applyA){_j=this._find_styleName(_a,"align",_b,this._a_ct);style_name=_j[0];this._a_ct=_j[1];_k+="align:"+style_name+",";}if(this._applyB){_j=this._find_styleName(_a,"background",_c,this._bg_ct);style_name=_j[0];this._bg_ct=_j[1];_k+="background:"+style_name+",";}if(this._applyC){_j=this._find_styleName(_a,"color",_d,this._c_ct);style_name=_j[0];this._c_ct=_j[1];_k+="color:"+style_name+",";}if(this._applyF){_j=this._find_styleName(_a,"font",_e,this._f_ct);style_name=_j[0];this._f_ct=_j[1];_k+="font:"+style_name+",";}_j=this._find_styleName(_a,"line",_f,this._l_ct);style_name=_j[0];this._l_ct=_j[1];_k+="line:"+style_name+",";_j=this._find_styleName(_a,"type",_g,this._t_ct);style_name=_j[0];this._t_ct=_j[1];_k+="type:"+style_name;if(_h>1){_j=this._find_styleName(_a,"rowsuppress",_h,this._sm_ct);style_name=_j[0];this._sm_ct=_j[1];_k+=",rowsuppress:"+style_name;}if(_i>1){_j=this._find_styleName(_a,"colsuppress",_i,this._sm_ct);style_name=_j[0];this._sm_ct=_j[1];_k+=",colsuppress:"+style_name;}_j=this._find_styleName(_a,"style",_k,this._s_ct);style_name=_j[0];this._s_ct=_j[1];return style_name;};_pItem._checkExpr=function(_a){if(_a&&_a._bindtype!=0){return true;}return false;};_pItem._checkGradation=function(_a){if(_a._value.match(/@gradation/)){return true;}return false;};_pItem._getHexColor=function(_a){var _b=nexacro._xreNamedColorList[_a];if(_b){return _b;}len=_a.length;if(_a.substring(0,1)=='#'){if(len==7){return _a;}if(len==9){return _a.substr(0,7);}}if(_a.substring(0,2)=="0x"){if(len==8){return "#"+_a.substring(2);}if(len==10){return "#"+_a.substring(2,8);}}return "";};_pItem._getGradationColor=function(_a){var _b;var _c;var _d=[];if(_a){_b=_a._value;if(_b!=""){_b=this._getHexColor(_a.start_color);_c=this._getHexColor(_a.end_color);if(_b.indexOf("#")> -1){var _e=_b+_c;if(this._stylecache[_e]){return this._stylecache[_e];}else{_d.push(Math.round((parseInt(_b.substring(1,3),16)+parseInt(_c.substring(1,3),16))/2));_d.push(Math.round((parseInt(_b.substring(3,5),16)+parseInt(_c.substring(3,5),16))/2));_d.push(Math.round((parseInt(_b.substring(5),16)+parseInt(_c.substring(5),16))/2));_b=_d.join(",");this._stylecache[_e]=_b;}}return _b;}}return "";};_pItem._getCellBodyStyle=function(_a,_b,_c){var _d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p;var _q="";var _r=this._ds_style;var _s=false;var _t=_a.displaytype._value;_d=_a._stylecache["alignnormal"+_t];_e=_a._stylecache["backgroundfalsefalsenormal"];_g=_a._stylecache["colorfalsefalsenormal"];_i=_a._stylecache["fontfalsenormal"];if(this._applyL){_j=_a._stylecache["linefalsebothn"];if(!_j){_j=_a.style.line;if(!_j){_j=_a._query_pseudo_border(0,false,"normal",0);}}}_f=_a._stylecache["backgroundtruefalsenormal"];_h=_a._stylecache["colortruefalsenormal"];if(!_d&&!_e&&!_g&&!_i){_f=_a.style.background2;if(!_f){_f=_a._query_pseudo_background(0,true,false,"normal");}_h=_a.style.color2;if(!_h){_h=_a._query_pseudo_color(0,true,false,"normal");}}if(!_d){_d=_a.style.align;if(!_d){_d=_a._query_pseudo_align(0,_t,"normal");}}if(!_e){_e=_a.style.background;if(!_e){_e=_a._query_pseudo_background(0,false,false,"normal");}}if(!_g){_g=_a.style.color;if(!_g){_g=_a._query_pseudo_color(0,false,false,"normal");}}if(!_i){_i=_a.style.font;if(!_i){_i=_a._query_pseudo_font(0,false,"normal");}}var _u=_d?_d._getStyleObject(this.source._isRtl()):null;_u=this._getFitValue(_u);if(this._checkGradation(_e)){_k=_a._stylecache["gradationfalsefalsenormal"];if(!_k){_k=_a.style.gradation;if(!_k){_k=_a._query_pseudo_gradation(0,false,false,"normal");}}var _v=this._getGradationColor(_k);}else{var _v=this._getHEXtoRGB(_e);}var _w=this._getHEXtoRGB(_g);var _x=this._getFitFontValue(_i);var _y="empty:empty:empty:empty";var _z={vertical:"empty",horizon:"empty"};if(this._applyL&&_j){if(_j.right_style!="none"&&_j._right_width!=0){_z.vertical=this._getHEXtoRGB(_j.right_color)+(_j.right_style=="solid"?"":","+_j.right_style);_z.horizon=this._getHEXtoRGB(_j.bottom_color)+(_j.bottom_style=="solid"?"":","+_j.bottom_style);if(this._applyHead){_y=(_a._col==0?_z.vertical:"empty")+":"+"empty"+":";}else{_y=(_a._col==0?_z.vertical:"empty")+":"+(_a._row==0?_z.horizon:"empty")+":";}_y+=_z.vertical+":"+_z.horizon;}}if(this._checkExpr(_d)){_u=undefined;}else{this._stylecache[_b+"align"]=_u;}if(this._checkExpr(_e)){_v=undefined;}else{this._stylecache[_b+"background0"]=_v;}if(this._checkExpr(_g)){_w=undefined;}else{this._stylecache[_b+"color0"]=_w;}if(this._checkExpr(_i)){_x=undefined;}else{this._stylecache[_b+"font"]=_x;}if(this._checkExpr(_j)){_line=undefined;}else{this._stylecache[_b+"line"]=_y;}if(_f){if(this._checkGradation(_f)){_l=_a._stylecache["gradationtruefalsenormal"];if(!_l){_l=_a.style.gradation2;if(!_l){_l=_a._query_pseudo_gradation(0,true,false,"normal");}}var _o=this._getGradationColor(_l);}else{var _o=this._getHEXtoRGB(_f);}if(this._checkExpr(_f)){_o=undefined;}else{this._stylecache[_b+"background1"]=_o;}if(_v!=_o){_s=true;}}else{this._stylecache[_b+"background1"]=_o=_v;}if(_h){var _p=this._getHEXtoRGB(_h);if(this._checkExpr(_h)){_p=undefined;}else{this._stylecache[_b+"color1"]=_p;}if(_w!=_p){_s=true;}}else{this._stylecache[_b+"color1"]=_p=_w;}var _aa=this._getFixedCellType(_a,0);_m=this._makeforDsStyle(_r,_u,_v,_w,_x,_y,_aa);if(_s){_n=this._makeforDsStyle(_r,_u,_o,_p,_x,_y,_aa);}subCell=_a._subcells;subL=subCell.length;if(subL){var _ab="";for(var _ac=0;_ac<subL;_ac++ ){_ab+=this._modifyFormat(subCell[_ac],_m,_n,0,_a);}return _ab;}else{return this._modifyFormat(_a,_m,_n,0,undefined,undefined,_c);}};_pItem._getFixedCellType=function(_a,_b){var _c=_a._getDisplaytype(_b);var _d="";switch(_c){case "number":var _e=_a._getAttrValue(_a.mask,_b);if(_e!=null&&_e.length!=0){_d=_e;}break;case "date":case "time":case "datetime":_c="date";var _e=_a._getAttrValue(_a.mask,_b);if(_e==null||_e.length==0||!_e.match(/LONGDATE|SHORTDATE|[yMdHhms]/)){_e="yyyy-MM-dd";}else{var _f=_a._getAttrValue(_a.locale,_b);if(!_f){_f=_a.grid._getLocale();}if(_e=="SHORTDATE"){_e=nexacro.Locale._makeDateMaskString(_f,_e);if(_e==""){_e=nexacro.Locale._default_shortdate_format;}}else if(_e=="LONGDATE"){_e=nexacro.Locale._makeDateMaskString(_f,"SHORTDATE");if(_e==""){_e=nexacro.Locale._default_longdate_format;}}}_d=_e;break;case "image":if(this.exportimage.toLowerCase()=="image"){_d+="image";}_c="text";break;case "text":if(_a._getAttrValue(_a.displaytype,_b)=="normal"){_c="normal";}else{_c="text";}break;default:_c="text";break;}return _c+(_d?":"+_d:"");};_pItem._modifyFormat=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j;_i=_j="";var _k=_a._subcells;var _l=_k?_k.length:0;var _m=1;var _n=1;var _o=_a._colspan;var _p=_a._rowspan;var _q=_a._row;var _r=_g!==undefined?_g:_a._col;var _s=_q;var _t=_r;_h=_d<0?_a._getDisplayText(_d):_a.text._value;_h=nexacro._encodeXml(_h);if(_e){_q=_s+_e._row;_r=_t+_e._col;}_m=_p;_n=_o;_j+="<Cell ";_j+="row=\""+_q+"\" col=\""+_r+"\" ";_i+="rowspan=\""+_m+"\" ";_i+="colspan=\""+_n+"\" ";if(this._exportmerge==1){if(_f!=null){_h=_f;}}else if(this._exportmerge==2){if(_f!=null){_i=_f;}}_j+=_i;if(_h){_j+="text=\""+_h+"\" ";}var _u="";var _v=this.source;_j+="style1=\""+_b+"\" ";if(_c){_j+="style2=\""+_c+"\" ";}var _w=_a.displaytype;if(_w){var _x=_w._value;if(_x=="image"&&this.exportimage.toLowerCase()=="image"){_j+="displaytype=\"image\" ";}_u=_a._getDisplaytype(_d);switch(_u){case "image":case "text":_u="string";break;case "number":_u="int";break;case "date":case "time":case "datetime":_u="date";var _y=_a._getAttrValue(_a.mask,_d);if(_y==null||_y.length==0||!_y.match(/[yMdHhms]/)){_y="yyyy-MM-dd";}_j+="displaytype=\""+_y+"\" ";break;default:_u="text";break;}_j+="type=\""+_u+"\" ";}_j+="/>";return _j;};_pItem._getSubCellLine=function(_a,_b,_c,_d,_e){var _f,_g,_h,_i;var _j=_a._col;var _k=_a._row;if(_j==_e){_h=_c.vertical;}else{_h="empty";}if(_j==0){_f=_b.vertical;}else{_f="empty";}if(_k==_d){_i=_c.horizon;}else{_i="empty";}if(_k==0){_g=_b.horizon;}else{_g="empty";}return _f+":"+_g+":"+_h+":"+_i;};_pItem._makeFakeLine=function(_a,_b,_c){var _d;switch(_a){case "topfake":case "bottomfake":_d="empty:empty:"+_b.vertical+":empty";break;case "rightfake":if(_c){_d="empty:empty:empty:"+_b.horizon;}else{_d="empty:"+_b.horizon+":empty:empty";}break;case "righttopfake":case "rightbottomfake":_d="empty:empty:empty:empty";break;default:if(_c){_d="empty:empty:"+_b.vertical+":"+_b.horizon;}else{_d="empty:"+_b.horizon+":"+_b.vertical+":empty";}break;}return _d;};_pItem._makeFormat=function(_a){var _b,_c,_d,_e,_f,_g,_h,_i,_j,_k;var _l=_a._curFormat;var _m=_l._headcells;var _n=_m?_m.length:0;var _o=_l._bodycells;var _p=_o?_o.length:0;var _q=_l._summcells;var _r=_q?_q.length:0;var _s="";var _t=this._ds_style;var _u={vertical:"empty",horizon:"empty"};var _v="empty:empty:empty:empty";var _w=0;var _x=_l._cols;var _y=_l._headrows;var _z=_l._bodyrows;var _aa=_l._summrows;var _ab=_a._isRtl(_a);_s="<Formats><Format><Columns>";if(!_ab){for(var _al=0,_am=_x.length;_al<_am;_al++ ){_s+='<Column size="'+Math.round(_x[_al].size)+'" />';}}else{for(var _am=_x.length,_al=_am-1;_al>=0;_al-- ){_s+='<Column size="'+Math.round(_x[_al].size)+'" />';}}_s+="</Columns><Rows>";for(var _al=0,_an=_y?_y.length:0;_al<_an;_al++ ){_s+='<Row size="'+Math.round(_y[_al].size)+'" band="head" />';}for(var _al=0,_an=_z?_z.length:0;_al<_an;_al++ ){_s+='<Row size="'+Math.round(_z[_al].size)+'" />';}for(var _al=0,_an=_aa?_aa.length:0;_al<_an;_al++ ){_s+='<Row size="'+Math.round(_aa[_al].size)+'" band="summ" />';}_s+="</Rows>";if(_n>0&&this._applyHead){_s+="<Head>";for(var _al=0,_ao=_n-1;_al<_n;_al++ ,_ao-- ){_h=_m[_al];_j=this._getCellStyle(_h, -1,false,"background","normal");if(this._checkGradation(_j)){_k=this._getCellStyle(_h, -1,false,"gradation","normal");_b=this._getGradationColor(_k);}else{_b=this._getHEXtoRGB(_j);}var _ac=this._getCellStyle(_h, -1,false,"align","normal");_ac=_ac?_ac._getStyleObject(_ab):null;_c=this._getFitValue(_ac);_d=this._getFitFontValue(this._getCellStyle(_h, -1,false,"font","normal"));_e=this._getHEXtoRGB(this._getCellStyle(_h, -1,false,"color","normal"));_u={vertical:"empty",horizon:"empty"};if(this._applyL){_f=this._getCellStyle(_h, -1,false,"border","normal");if(_f){if(_f.right_style!="none"&&_f._right_width!=0){_u.vertical=this._getHEXtoRGB(_f.right_color)+(_f.right_style=="solid"?"":","+_f.right_style);}if(_f.bottom_style!="none"&&_f._bottom_width!=0){_u.horizon=this._getHEXtoRGB(_f.bottom_color)+(_f.bottom_style=="solid"?"":","+_f.bottom_style);}}}var _ad=this._getFixedCellType(_h, -1);_i=_h._subcells;_w=_i.length;if(_w){for(var _ap=0;_ap<_w;_ap++ ){_v=this._getSubCellLine(_i[_ap],_u,_u,_h._rowspan-1,_h._colspan-1);_g=this._makeforDsStyle(_t,_c,_b,_e,_d,_v,_ad);_s+=this._modifyFormat(_i[_ap],_g,null, -1,_h);}}else{_v=(_h._col==0?_u.vertical:"empty")+":"+(_h._row==0?_u.horizon:"empty")+":";_v+=_u.vertical+":"+_u.horizon;var _ae=false;var _af=null;var _ag=0;var _ah=0;if(this._exportmerge==1){if(!!_a._checkFakeMerge(_h, -1)){_v=this._makeFakeLine(_h._fakemerge_infos[1],_u,true);_af="";var _ai=this._merge_datas&&this._merge_datas[ -1+"_"+_al];if(_ai){if(_ai.isFakeStart){_af=nexacro._encodeXml(_h._getDisplayText( -1));if(_c!="left,top"){var _aj=_c.split(",");var _ak=_ai[_aj[1]]+"_"+_ai[_aj[0]];if(this._merge_datas[_ak]){this._merge_datas[_ak].disPlayText=_af;this._merge_datas[_ak].showText=true;}else{this._merge_datas[_ak]={disPlayText:_af,showText:true};}}_af="";}else if(_ai.showText){_af=_ai.disPlayText;}}}}else if(this._exportmerge==2){var _ai=this._merge_datas&&this._merge_datas[ -1+"_"+_al];if(_ai){if(_ai.isFakeStart){_af="rowspan=\""+_ai.rowspan+"\" colspan=\""+_ai.colspan+"\" ";}else{_ae=true;}}}if(!_ae){_g=this._makeforDsStyle(_t,_c,_b,_e,_d,_v,_ad);if(!_ab){_s+=this._modifyFormat(_h,_g,null, -1,false,_af);}else{_s+=this._modifyFormat(_h,_g,null, -1,false,_af,_ao);}}}}_s+="</Head>";}if(_p>0){_s+="<Body>";for(var _al=0,_ao=_p-1;_al<_p;_al++ ,_ao-- ){_h=_o[_al];if(!_ab){_s+=this._getCellBodyStyle(_h,_al);}else{_s+=this._getCellBodyStyle(_h,_al,_ao);}}_s+="</Body>";}if(_r>0&&this._applySumm){_s+="<Summary>";for(var _al=0,_ao=_r-1;_al<_r;_al++ ,_ao-- ){_h=_q[_al];_j=this._getCellStyle(_h, -2,false,"background","normal");if(this._checkGradation(_j)){_k=this._getCellStyle(_h, -2,false,"gradation","normal");_b=this._getGradationColor(_k);}else{_b=this._getHEXtoRGB(_j);}var _ac=this._getCellStyle(_h, -2,false,"align","normal");_ac=_ac?_ac._getStyleObject(_ab):null;_c=this._getFitValue(_ac);_d=this._getFitFontValue(this._getCellStyle(_h, -2,false,"font","normal"));_e=this._getHEXtoRGB(this._getCellStyle(_h, -2,false,"color","normal"));_u={vertical:"empty",horizon:"empty"};if(this._applyL){_f=this._getCellStyle(_h, -2,false,"border","normal");if(_f){if(_f.right_style!="none"&&_f._right_width!=0){_u.vertical=this._getHEXtoRGB(_f.right_color)+(_f.right_style=="solid"?"":","+_f.right_style);}if(_f.top_style!="none"&&_f._top_width!=0){_u.horizon=this._getHEXtoRGB(_f.top_color)+(_f.top_style=="solid"?"":","+_f.top_style);}}}var _ad=this._getFixedCellType(_h, -2);_i=_h._subcells;_w=_i.length;if(_w){for(var _ap=0;_ap<_w;_ap++ ){_v=this._getSubCellLine(_i[_ap],_u,_u,_h._rowspan-1,_h._colspan-1);_g=this._makeforDsStyle(_t,_c,_b,_e,_d,_v,_ad);_s+=this._modifyFormat(_i[_ap],_g,null, -2,_h);}}else{var _ae=false;_v=_u.vertical+":"+_u.horizon+":"+_u.vertical+":"+_u.horizon;var _af=null;if(this._exportmerge==1){if(!!_a._checkFakeMerge(_h, -2)){_v=this._makeFakeLine(_h._fakemerge_infos[0],_u);_af="";var _ai=this._merge_datas&&this._merge_datas[ -2+"_"+_al];if(_ai){if(_ai.isFakeStart){_af=nexacro._encodeXml(_h._getDisplayText( -2));if(_c!="left,top"){var _aj=_c.split(",");var _ak=_ai[_aj[1]]+"_"+_ai[_aj[0]];if(this._merge_datas[_ak]){this._merge_datas[_ak].disPlayText=_af;this._merge_datas[_ak].showText=true;}else{this._merge_datas[_ak]={disPlayText:_af,showText:true};}_af="";}}else if(_ai.showText){_af=_ai.disPlayText;}}}}else if(this._exportmerge==2){if(!!_a._checkFakeMerge(_h, -2)){var _ai=this._merge_datas&&this._merge_datas[ -2+"_"+_al];if(_ai){if(_ai.isFakeStart){_af="rowspan=\""+_ai.rowspan+"\" colspan=\""+_ai.colspan+"\" ";}else{_ae=true;}}}}if(!_ae){_g=this._makeforDsStyle(_t,_c,_b,_e,_d,_v,_ad);if(!_ab){_s+=this._modifyFormat(_h,_g,null, -2,false,_af);}else{_s+=this._modifyFormat(_h,_g,null, -2,false,_af,_ao);}}}}_s+="</Summary>";}_s+="</Format></Formats>";return _s;};_pItem._getForm=function(){return this.parent.parent;};_pItem._eventExport=function(_a,_b,_c,_d){var _e=_a.exporteventtype;var _f=_a._itemsIndex;var _g=_a._exportBar;if(_e!="none"){var _h=_c+1;var _i="";var _j=_h==this._bodyRowCnt;var _k=_a._progress_pos+_h;if(_e=="item"&&_j){this.on_fire_onprogress(_a,_f,this.type,_d==null?_c:_d);if(_g){_i=_a._getProcessStr(_f+1,_k,_a._allRowCount);_g._set_text(_i);_g._set_pos((_f+1)/_a._allCount*100);}}else if(_e=="itemrecord"){this.on_fire_onprogress(_a,_f,this.type,_d==null?_c:_d);if(_g){_i=_a._getProcessStr(_f+1,_h,this._bodyRowCnt);_g._set_text(_i);_g._set_pos(_h/this._bodyRowCnt*100);}}else if(_e=="totalrecord"){this.on_fire_onprogress(_a,_f,this.type,_d==null?_c:_d);if(_g){_i=_a._getProcessStr(_f+1,_k,_a._allRowCount);_g._set_text(_i);_g._set_pos(_k/_a._allRowCount*100);}}if(_k==_a._allRowCount&&_a.exportmessagecomplete!=""){if(_g){_g._set_text(_a.exportmessagecomplete);}}if(_j&&_g){_a._progress_pos=_k;}}};_pItem._updateBarPos=function(_a,_b){if(_b!="none"&&_a._exportuitype){var _c=_a._itemsIndex;var _d=_a._exportBar;_a._progress_pos+=this._startRow-this._preStartRow;var _e="";var _f=this._startRow==this._bodyRowCnt;if(_b=="item"&&_f){_e=_a._getProcessStr(_c+1,_a._progress_pos,_a._allRowCount);_d._set_text(_e);_d._set_pos((_c+1)/_a._allCount*100);}else if(_b=="itemrecord"){_e=_a._getProcessStr(_c+1,this._startRow,this._bodyRowCnt);_d._set_text(_e);_d._set_pos(this._startRow/this._bodyRowCnt*100);}else if(_b=="totalrecord"){_e=_a._getProcessStr(_c+1,_a._progress_pos,_a._allRowCount);_d._set_text(_e);_d._set_pos(_a._progress_pos/_a._allRowCount*100);}if(_a._progress_pos==_a._allRowCount&&_a.exportmessagecomplete!=""){_d._set_text(_a.exportmessagecomplete);}}};_pItem._rollbackSuppressInfo=function(){var _a=this.source._curFormat._bodycells;var _b=this._tmpSuppressInfos&&this._tmpSuppressInfos.length;for(var _c=0;_c<_b;_c++ ){_a[_c]._suppress_infos=this._tmpSuppressInfos.shift();}};_pItem._gridSuppressUpdate=function(_a,_b){var _c=_a._curFormat._bodycells;var _d=_c.length;this._tmpSuppressInfos=[];for(var _e=0;_e<_d;_e++ ){this._tmpSuppressInfos.push(_c[_e]._suppress_infos);}_a._analyzeSuppress(true);for(var _e=0;_e<_b;_e++ ){_a._suppressUpdateRow(_e,0,_b-1,true);}};_pItem._gridExportContinue=function(_a){var _b=this.source;var _c=this._ds_command;_c.setColumn(0,"command","export");_c.setColumn(0,"type",_a._exporttype);_c.setColumn(0,"item",_b.id);_c.setColumn(0,"seq",this._seq);_c.setColumn(0,"startrow",this._startRow);_c.setColumn(0,"instanceid",this._instanceId);_c.setColumn(0,"url",_a._fileURL);_c.setColumn(0,"summarytype",_b.summarytype);_c.setColumn(0,"range",this.range);_c.setColumn(0,"exportsize",this.exportsize);_c.setColumn(0,"exporthead",this._exporthead);_c.setColumn(0,"exportimage",this.exportimage);_c.setColumn(0,"exportfilename",_a.exportfilename);_c.setColumn(0,"format","");_c.setColumn(0,"password",_a._file_password);_c.setColumn(0,"wraptext",_a._wrap_text);var _d=this._ds_style;var _e=this._ds_style2;if(!_e){var _e=new Dataset("STYLE2");this._ds_style2=_e;_e.addColumn("type","String",10);_e.addColumn("name","String",32);_e.addColumn("value","String",1024);}else{this._ds_style2.clearData();}delete this._ds_cell;var _f=new Dataset("CELL");this._ds_cell=_f;var _g=_b.getCellCount("body");var _h=this._bodyRowCnt;var _i;var _j;if(this._exportmerge&&_b._is_use_suppress&&_h>=_b._bodyBand._get_rows().length){this._gridSuppressUpdate(_b,_h);}var _k=null;var _l=null;if(_g>0){var _m=0;var _n=0;for(var _cb=0;_cb<_g;_cb++ ){_f.addColumn("Column"+_cb,"String",256);}var _o=this._partitionRow+this._startRow;if(_o>=_h){_o=_h;this._eof=true;_k=this.parent._argsParam;_l=this.parent._argsDsParam;}var _p=_b._curFormat._bodycells;var _q;var _r=0;var _s;for(var _cc=this._startRow;_cc<_o;_cc++ ){_s=0;var _t;var _u=false;for(var _cd=0;_cd<_g;_cd++ ){_u=_u||_b.isSelectedCell(_cd,"body",_cc, -9);}var _v=this.exportselect=="selectrecord";if(_u||!_v){var _w=_f.addRow();if(_v){this._eventExport(_a,this.type,_cc,this._selectcount++ );}else{this._eventExport(_a,this.type,_cc);}}else{continue;}var _x=_cc%2;var _y=0;_q=false;var _z=(this.exportvalue=="selectstyle");for(var _cd=0;_cd<_g;_cd++ ){_q=_b.isSelectedCell(_cd,"body",_cc, -9);if(_q){var _aa=false;}else{if(_v){_aa=true;}}var _ab;var _ac;var _ad;var _ae;var _af;var _ag=_b._bodyBand;var _ah=_p[_cd];var _ai=_ah._suppress_infos;var _aj="";var _ak="normal";var _al=this._stylecache[_cd+"align"];var _am=this._stylecache[_cd+"line"];var _an,_ao,_ap;if(_q&&_z){_ak="selected";_an="";_ao="";_ap="";}else{if(_aa){_an="255,255,255";_ao="255,255,255";var _aq=this._d_BLColor;_am=_aq+":"+_aq+":"+_aq+":"+_aq;_ar=true;}else{_an=this._stylecache[_cd+"background"+_x];_ao=this._stylecache[_cd+"color"+_x];}_ap=this._stylecache[_cd+"font"];}var _ar=false;if(_an){_ab=_an;}else{_ar=true;_ab=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_ah,_cc,_x,"background",_ak)),"");}if(_al){_ac=_al;}else{_ar=true;_ac=nexacro._nvl(this._getFitValue(this._getCellStyle(_ah,_cc,_x,"align",_ak)),"");}if(_ao){_ae=_ao;}else{_ar=true;_ae=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_ah,_cc,_x,"color",_ak)),"");}if(_ap){_ad=_ap;}else{_ar=true;_ad=nexacro._nvl(this._getFitFontValue(this._getCellStyle(_ah,_cc,_x,"font",_ak)),"");}var _as,_aq,_at,_au,_av;_as=false,_at=null,_au=null;var _aw=0;var _ax=0;switch(this._exportmerge){case 0:break;case 1:if(_ah.suppress>0){_ar=_as=true;if(_ai[_cc].border_proc){_au="empty";}}_b._checkFakeMerge(_ah,_cc);if(_ah._fakemerge_infos){var _ay=_ah._fakemerge_infos[_cc+2];if(_ay){_ar=_as=true;switch(_ay){case "bottomfake":_au="empty";break;case "rightbottomfake":_at=_au="empty";break;case "rightfake":_at="empty";break;}}}break;case 2:if(_ah.suppress>0){_ar=_as=true;var _az=_cd+"count";var _ba=this._excel_suppress_info;if(!_ba[_az]){_ba[_az]=0;_ac=_ac.split(",")[0]+", "+this._suppress_align_table[_ah.suppressalign];}if(_ai[_cc].border_proc){this._excel_suppress_info[_az]++ ;}else{_aw= ++_ba[_az];_ba[_az]=0;}}var _bb=this._merge_datas&&this._merge_datas[_cc+"_"+_cd];if(_bb&&_bb.isFakeEnd){_ar=_as=true;_aw=_bb.rowspan;_ax=_bb.colspan;}break;}if(!_as&&_am){_af=_am;}else{if(this._applyL){_ar=true;var _bc=this._getCellStyle(_ah,_cc,_x,"border",_ak);if(_bc.right_style!="none"&&_bc._right_width!=0){_av=this._getHEXtoRGB(_bc.right_color)+(_bc.right_style=="solid"?"":","+_bc.right_style);if(!_at){_at=_av;}}else{_at="empty";}if(_bc.bottom_style!="none"&&_bc._bottom_width!=0){_av=this._getHEXtoRGB(_bc.bottom_color)+(_bc.bottom_style=="solid"?"":","+_bc.bottom_style);if(!_au){_au=_av;}}else{_au="empty";}}else{_au=_at="empty";}_af="empty:empty:"+_at+":"+_au;}if(this._applyA){_j=this._find_styleName(_d,"align",_ac,this._a_ct);_i=_j[0];if(this._a_ct!=_j[1]){_j=this._find_styleName(_e,"align",_ac,this._a_ct);}this._a_ct=_j[1];_aj+="align:"+_i+",";}if(this._applyB){_j=this._find_styleName(_d,"background",_ab,this._bg_ct);_i=_j[0];if(this._bg_ct!=_j[1]){_j=this._find_styleName(_e,"background",_ab,this._bg_ct);}this._bg_ct=_j[1];_aj+="background:"+_i+",";}if(this._applyC){_j=this._find_styleName(_d,"color",_ae,this._c_ct);_i=_j[0];if(this._c_ct!=_j[1]){_j=this._find_styleName(_e,"color",_ae,this._c_ct);}this._c_ct=_j[1];_aj+="color:"+_i+",";}if(this._applyF){_j=this._find_styleName(_d,"font",_ad,this._f_ct);_i=_j[0];if(this._f_ct!=_j[1]){_j=this._find_styleName(_e,"font",_ad,this._f_ct);}this._f_ct=_j[1];_aj+="font:"+_i+",";}_j=this._find_styleName(_d,"line",_af,this._l_ct);_i=_j[0];if(this._l_ct!=_j[1]){_j=this._find_styleName(_e,"line",_af,this._l_ct);}this._l_ct=_j[1];_aj+="line:"+_i+",";var _bd=this._getFixedCellType(_ah,_cc);_j=this._find_styleName(_d,"type",_bd,this._t_ct);_i=_j[0];if(this._t_ct!=_j[1]){_j=this._find_styleName(_e,"type",_bd,this._t_ct);}this._t_ct=_j[1];_aj+="type:"+_i;var _be=false;if(_bd.indexOf("date")> -1&&(this._checkExpr(_ah.locale)||this._checkExpr(_ah.mask)||_ah.mask=="LONGDATE")){_ar=true;if(_ah.mask=="LONGDATE"){_be=true;}}if(_aw){_j=this._find_styleName(_d,"rowsuppress",_aw,this._sm_ct);_i=_j[0];if(this._sm_ct!=_j[1]){_j=this._find_styleName(_e,"rowsuppress",_aw,this._sm_ct);}this._sm_ct=_j[1];_aj+=",rowsuppress:"+_i;}if(_ax){_j=this._find_styleName(_d,"colsuppress",_ax,this._sm_ct);_i=_j[0];if(this._sm_ct!=_j[1]){_j=this._find_styleName(_e,"colsuppress",_ax,this._sm_ct);}this._sm_ct=_j[1];_aj+=",colsuppress:"+_i;}_j=this._find_styleName(_d,"style",_aj,this._s_ct);_i=_j[0];if(this._s_ct!=_j[1]){_j=this._find_styleName(_e,"style",_aj,this._s_ct);}this._s_ct=_j[1];var _bf=this._getCellText(_b,_cc,_cd);_t=_aa?"":_bf;if(_be){_ah.mask="SHORTDATE";_t=_ah._getDisplayText_date(_cc);_ah.mask="LONGDATE";}var _bg=_b.getCellProperty("body",_cd,"displaytype");if(_bg=="image"){var _bh=this.exportimage.toLowerCase();if(_bh=="url"||_bh=="image"){var _bi=this._getCellText(_b,_cc,_cd);if(_bi){var _bj=nexacro._getURIValue(_bi);_t=nexacro._getImageLocation(_bj,this._getForm()._getFormBaseUrl());}else{_t=_bi;}}else{_t="";}}if(_a._commdataformat==3){var _bk="_x001D_";}else{var _bk=String.fromCharCode(29);}if(this._exportmerge==1){if(_ah.suppress>0){if(_ai[_cc].text_proc){_t="";}}if(!!_b._checkFakeMerge(_ah,_cc)){_t="";var _bb=this._merge_datas&&this._merge_datas[_cc+"_"+_cd];if(_bb){if(_bb.isFakeStart){if(_ac=="left,top"){_t=_bf;}else{var _bl=_ac.split(",");var _bm=_bb[_bl[1]]+"_"+_bb[_bl[0]];if(this._merge_datas[_bm]){this._merge_datas[_bm].disPlayText=_bf;this._merge_datas[_bm].showText=true;}else{this._merge_datas[_bm]={disPlayText:_bf,showText:true};}}}else if(_bb.showText){_t=_bb.disPlayText;}}}}if(_a._is_orgval){_t=nexacro._isNumber(_t)?_t:nexacro._isDecimal(_t)?_t:nexacro._nvl(_t,"");}else{_t=nexacro._nvl(_t,"");}_f.setColumn(_w,"Column"+(_cd+_s),_t+_bk+(_ar||(_q&&_z)?_i:""));if(_ah._subcells.length){var _bn=_ah._subcells;var _bo=_bn.length;var _bp=_ah._rowspan-1;var _bq=_ah._colspan-1;var _br="";var _bc=this._getCellStyle(_ah,_cc,_x,"border",_ak);var _aq=this._d_BLColor;if(this._applyL){_av=this._getHEXtoRGB(_bc.right_color)+(_bc.right_style=="solid"?"":","+_bc.right_style);}else{_av=_aq;}var _bs,_bt,_bu,_bv;for(var _ce=0;_ce<_bo;_ce++ ){var _bw=_bn[_ce]._col;var _bx=_bn[_ce]._row;var _by=_bn[_ce]._rowspan-1;var _bz=_bn[_ce]._colspan-1;if(_bw==_bq){_bu=_av;}else{_bu="empty";}if(_bw==0){if(_ah._col==0){_bs=_av;}else{_bs=_aq;}}else{_bs="empty";}if(_bx==_bp){_bv=_av;}else{if(_by>0&&_by==_bp){_bv=_av;}else{_bv="empty";}}if(_bx==0){_bt=_aq;}else{_bt="empty";}_br=_bs+":"+_bt+":"+_bu+":"+_bv;var _bd=this._getFixedCellType(_bn[_ce],0);_i=this._makeforDsStyle(_d,_ac,_ab,_ae,_ad,_br,_bd);if(_ce!=0){_f.addColumn("Column"+(_cb+_s),"String",256);_s++ ;}var _t=_bn[_ce]._getDisplayText(_cc);if(_a._is_orgval){var _ca=_bn[_ce]._refobj;if(_ca&&_ca._getDisplaytype(_cc)=="number"){_t=_ca._getValue(_cc);}}_f.setColumn(_w,"Column"+(_cd+_s),_t+_bk+_i);}}}_r++ ;}this._preStartRow=this._startRow;this._startRow=_o;}_c.setColumn(0,"eof",this._eof);if(this._ds_response){delete this._ds_response;}this._ds_response=new Dataset("RESPONSE");this._rollbackSuppressInfo();if(_l!=undefined){this._transaction(this.id,_a._exporturl,"COMMAND=_ds_command STYLE=_ds_style2 CELL=_ds_cell"+" "+_l,"_ds_response=RESPONSE",_k,"_exportCallback",true,_a._commdataformat,_a._commcompress);}else{this._transaction(this.id,_a._exporturl,"COMMAND=_ds_command STYLE=_ds_style2 CELL=_ds_cell","_ds_response=RESPONSE",_k,"_exportCallback",true,_a._commdataformat,_a._commcompress);}this._updateBarPos(_a,_a.exporteventtype);};_pItem._exportCallback=function(_a,_b,_c){var _d=this.source;var _e=this.parent;var _f=_e._exportBar;if(_b<0){_c=nexacro._decodeXml(_c);this.on_fire_onerror(_e,"ObjectError",_c,_b);nexacro._stopTransaction(this,0);if(_f){_f._hide();_f._set_pos(0);_f._set_text("");}if(_d._hasTree&&this._gridTempInfo&&_e._tempSaveMethod){nexacro.Grid.prototype._recreate_contents_all=_e._tempSaveMethod;_e._tempSaveMethod=null;_d.set_treeinitstatus(this._gridTempInfo["treeinitstatus"]);_d._treeIndexes=this._gridTempInfo["treeIndexes"];_d._treeStates=this._gridTempInfo["treeStates"];_d.enableevent=this._gridTempInfo["enableevent"];this._gridTempInfo=null;}}else{var _g=this._ds_response.getColumn(0,"item");this._instanceId=this._ds_response.getColumn(0,"instanceid");var _h=this._ds_response.getColumn(0,"url");if(_h!=null&&_h!=""){_e._fileURL=_h;}var _i=_e._itemsIndex;var _j=_i+1==_e._allCount;var _k=this._startRow==this._bodyRowCnt;this._seq++ ;if(_k){if(_d._hasTree&&this._gridTempInfo&&_e._tempSaveMethod){nexacro.Grid.prototype._recreate_contents_all=_e._tempSaveMethod;_e._tempSaveMethod=null;_d.set_treeinitstatus(this._gridTempInfo["treeinitstatus"]);_d._treeIndexes=this._gridTempInfo["treeIndexes"];_d._treeStates=this._gridTempInfo["treeStates"];_d.enableevent=this._gridTempInfo["enableevent"];this._gridTempInfo=null;}if(_j){if(_f){_f._hide();_f._set_pos(0);_f._set_text("");}this._tmpSuppressInfos=null;_e._fileURL="";_e._allRowCount=0;_e._progress_pos=0;_e._itemsIndex=0;this.on_fire_onsuccess(_e,this,_h);var _l;switch(_e.exporttype){case nexacro.ExportTypes.EXCEL:case nexacro.ExportTypes.EXCEL97:_l=_e.exportfilename;_l+=".xls";break;case nexacro.ExportTypes.EXCEL2007:_l=_e.exportfilename;_l+=".xlsx";break;case nexacro.ExportTypes.HANCELL2010:case nexacro.ExportTypes.HANCELL2014:_l=_e.exportfilename;_l+=".cell";break;case nexacro.ExportTypes.CSV:_l=_e.exportfilename;_l+=".csv";break;}var _m=new RegExp("[\:\@\&\=\+\$\#\,]","g");if(_m.test(_e.exportfilename)){var _n=_h.split(_l);var _o=encodeURIComponent(_l);if(_n.length<=1){_o=encodeURIComponent(_e.exportfilename);_n=_h.split(_o);if(nexacro.Browser=="IE"){_o=encodeURI(_o);}}var _p="";for(var _s=0,_t=_n.length;_s<_t;_s++ ){_p+=_n[_s];if(_s==0){_p+=_o;}}if(_h!=_p){_h=_p;}_p=null;_n=null;_o=null;}else{_h=encodeURI(_h);}if(_e._file_download){var _q=nexacro._download(_h,_e._handle,_l,"undefined",_e.exportactivemode,this.parent.filedialogpath,_e.filefilter,_e.filefilterindex,"export");if(_q!=undefined){var _r=_q.lastIndexOf("\\");if(_r>0){_e.openedpath=_q.substring(0,_r+1);}}}}else{_e._itemsIndex++ ;if(_e._itemsIndex==_e._gCount){}else{_e._grids[_e._itemsIndex]._gridItemExport(_e);}}this._instanceId="";this._startRow=0;this._seq=1;this._eof=false;this._selectcount=0;}else{this._gridExportContinue(_e);}}};_pItem._makeMergeDatas=function(_a,_b,_c){var _d=_b;var _e=this._merge_datas={};var _f,_g,_h,_i;var _j,_k,_l,_m,_n,_o;_l=_k=_m=_n=_o=0;var _p,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z;var _aa=_a._getGridRowCount()-1;for(var _ab=0,_ac=_a._fake_mergecell_arr.length;_ab<_ac;_ab++ ){_j=_a._fake_mergecell_arr[_ab];if(_j.start_subrow!=null){_n=_j.start_subrow;}if(_j.end_subrow!=null){_m=_j.end_subrow;}if(_j.end_row>_aa){_l=_k=_aa;_m=_d-1;}else{_l=_k=_j.end_row;_m=_j.end_subrow;}if(_j.start_row== -1){_d=_a._curFormat._headrows?_a._curFormat._headrows.length:0;_k=_z=0;}else if(_j.start_row== -2){_d=_a._curFormat._summrows?_a._curFormat._summrows.length:0;_k=_z=0;}else{_z=_j.start_row;}_p=(_d*_k+_j.end_subrow)-(_d*_z+_n)+1;_q=_j.end_column-_j.start_column+1;var _o=((_d*_z+_n+1)+(_d*_k+_j.end_subrow+1))/2<<0;_r=_j.start_row;_s=(_o-1)/_d<<0;_t=_l;_x=_c*_n+_j.start_column;_y=_c*_j.end_subrow+_j.end_column;_u=((_o-1)%_d*_c+_j.start_column)<<0;_v=((_o-1)%_d*_c+(_j.start_column+_j.end_column)/2)<<0;_w=((_o-1)%_d*_c+_j.end_column)<<0;if(_j.start_row<0){_s=_j.start_row;}_e[_r+"_"+_x]={isFakeStart:true,left:_u,center:_v,right:_w,top:_r,middle:_s,bottom:_t,rowspan:_p,colspan:_q};_e[_t+"_"+_y]={isFakeEnd:true,rowspan:_p,colspan:_q};}};_pItem._gridItemExport=function(_a){var _b=_a._exportuitype;if(_a.exporteventtype!="none"&&_b){var _c=_a._exportBar;if(!_c||_c._uitype!=_b){_c=_a._exportBar=_a._getExportBar(_b);var _d=_a._getProcessStr(_a.count(),_a._allRowCount,_a._allRowCount);_d=nexacro._getLongerStr(_d,_a.exportmessagecomplete,_a.exportmessageready);var _e=nexacro._getTextSize(_d,_c.currentstyle.font);_c._textWidth=_e[0];_c._textHeight=_e[1];}if(_a._itemsIndex==0&&_a.exportmessageready!=""){_c._set_text(_a.exportmessageready);}_c._show();}var _f=this.source;var _g=_f._curFormat._cols?_f._curFormat._cols.length:0;var _h=_f._curFormat._bodyrows?_f._curFormat._bodyrows.length:0;if(_f._hasTree){this._gridTempInfo={};_a._tempSaveMethod=nexacro.Grid.prototype._recreate_contents_all;nexacro.Grid.prototype._recreate_contents_all=nexacro._emptyFn;this._gridTempInfo["enableevent"]=_f.enableevent;_f.enableevent=false;this._gridTempInfo["treeIndexes"]=_f._treeIndexes.slice(0);this._gridTempInfo["treeStates"]=_f._treeStates.slice(0);this._gridTempInfo["treeinitstatus"]=_f.treeinitstatus;_f.set_treeinitstatus("expand,all");}if(_f._is_use_fakemerge){this._makeMergeDatas(_f,_h,_g);}var _i=new Dataset("STYLE");this._ds_style=_i;_i.addColumn("type","String",10);_i.addColumn("name","String",32);_i.addColumn("value","String",1024);var _j=new Dataset("COMMAND");this._ds_command=_j;_j.addColumn("command","String",32);_j.addColumn("type","int",32);_j.addColumn("item","String",256);_j.addColumn("seq","int");_j.addColumn("startrow","int",32);_j.addColumn("eof","boolean",32);_j.addColumn("instanceid","String",256);_j.addColumn("url","String",256);_j.addColumn("summarytype","String",256);_j.addColumn("range","String",32);_j.addColumn("exportsize","String",32);_j.addColumn("exporthead","String",32);_j.addColumn("exportimage","String",32);_j.addColumn("exportfilename","String",32);_j.addColumn("format","String",1024*1024);_j.addColumn("password","String",256);_j.addColumn("wraptext","boolean",32);_j.addRow();_j.setColumn(0,"command","export");_j.setColumn(0,"type",_a._exporttype);_j.setColumn(0,"item",_f.id);_j.setColumn(0,"seq",this._seq);_j.setColumn(0,"startrow",this._startRow);_j.setColumn(0,"instanceid",this._instanceId);_j.setColumn(0,"url",_a._fileURL);_j.setColumn(0,"summarytype",_f.summarytype);_j.setColumn(0,"range",this.range);var _k=this.exportselect=="selectrecord";var _l=_f.selecttype!=("area"||"multiarea"||"treecell")?true:false;if(_l){if(_k){if(this._exporthead==""){this._exporthead="nohead, nosumm";this._applyHead=false;this._applySumm=false;}this._exportmerge=false;}}else{this._exporthead="nohead, nosumm";this._applyHead=false;this._applySumm=false;}_j.setColumn(0,"exportsize",this.exportsize);_j.setColumn(0,"exporthead",this._exporthead);_j.setColumn(0,"exportimage",this.exportimage);_j.setColumn(0,"exportfilename",_a.exportfilename);var _m=nexacro._replaceAll(this._makeFormat(_f),"&#13;","");_j.setColumn(0,"format",_m);_j.setColumn(0,"password",_a._file_password);_j.setColumn(0,"wraptext",_a._wrap_text);var _n=new Dataset("CELL");this._ds_cell=_n;var _o=_f.getCellCount("body");var _p=this._bodyRowCnt=_f._getGridRowCount();var _q;var _r;if(this._exportmerge&&_f._is_use_suppress&&_p>=_f._bodyBand._get_rows().length){this._gridSuppressUpdate(_f,_p);}var _s=null;var _t=null;if(_o>0){var _u=0;var _v="";var _w=(_p/5)|0;for(var _cg=0;_cg<_o;_cg++ ){_n.addColumn("Column"+_cg,"String",256);_v+=this._getCellText(_f,0,_cg);_v+=this._getCellText(_f,_w*2,_cg);_v+=this._getCellText(_f,_w*3,_cg);_v+=this._getCellText(_f,_w*4,_cg);_v+=this._getCellText(_f,_p-1,_cg);}_v=_v.length+1;var _x=this._partitionRow=parseInt(_a._partition_size/_v);if(_x==0&&_v>0){_x=this._partitionRow=1;}if(_x>=_p){_x=_p;this._eof=true;_s=this.parent._argsParam;_t=this.parent._argsDsParam;}else{_x=parseInt(_x/2);}var _y=_f._curFormat._bodycells;var _z=(this.exportvalue=="selectstyle");var _aa;var _ab;for(var _ch=0;_ch<_x;_ch++ ){_ab=0;var _ac;var _ad=false;for(var _ci=0;_ci<_o;_ci++ ){_ad=_ad||_f.isSelectedCell(_ci,"body",_ch, -9);}if(_ad||!_k){var _ae=_n.addRow();if(_k){this._eventExport(_a,this.type,_ch,this._selectcount++ );}else{this._eventExport(_a,this.type,_ch);}}else{continue;}var _af=_ch%2;_aa=false;for(var _ci=0;_ci<_o;_ci++ ){_aa=_f.isSelectedCell(_ci,"body",_ch, -9);if(_aa){var _ag=false;}else{if(_k){_ag=true;}}var _ah,_ai,_aj,_ak,_al;var _am=_f._bodyBand;var _an=_y[_ci];var _ao=_an._suppress_infos;var _q="";var _ap="normal";var _aq=false;var _ar=this._stylecache[_ci+"align"];var _as=this._stylecache[_ci+"line"];var _at,_au,_av;if(_aa&&_z){_ap="selected";_at="";_au="";_av="";}else{if(_ag){_at="255,255,255";_au="255,255,255";var _aw=this._d_BLColor;_as=_aw+":"+_aw+":"+_aw+":"+_aw;_aq=true;}else{_at=this._stylecache[_ci+"background"+_af];_au=this._stylecache[_ci+"color"+_af];}_av=this._stylecache[_ci+"font"];}if(_at){_ah=_at;}else{_aq=true;_ah=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_an,_ch,_af,"background",_ap)),"");}if(_ar){_ai=_ar;}else{_aq=true;_ai=nexacro._nvl(this._getFitValue(this._getCellStyle(_an,_ch,_af,"align",_ap)),"");}if(_au){_ak=_au;}else{_aq=true;_ak=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_an,_ch,_af,"color",_ap)),"");}if(_av){_aj=_av;}else{_aq=true;_aj=nexacro._nvl(this._getFitFontValue(this._getCellStyle(_an,_ch,_af,"font",_ap)),"");}var _ax,_aw,_ay,_az,_ba;_ax=false,_ay=null,_az=null;var _bb=0;var _bc=0;switch(this._exportmerge){case 0:break;case 1:if(_an.suppress>0){_aq=_ax=true;if(_ao[_ch].border_proc){_az="empty";}}_f._checkFakeMerge(_an,_ch);if(_an._fakemerge_infos){var _bd=_an._fakemerge_infos[_ch+2];if(_bd){_aq=_ax=true;switch(_bd){case "bottomfake":_az="empty";break;case "rightbottomfake":_ay=_az="empty";break;case "rightfake":_ay="empty";break;}}}break;case 2:if(_an.suppress>0){_aq=_ax=true;var _be=_ci+"count";var _bf=this._excel_suppress_info;if(!_bf[_be]){_bf[_be]=0;_ai=_ai.split(",")[0]+", "+this._suppress_align_table[_an.suppressalign];}if(_ao[_ch].border_proc){this._excel_suppress_info[_be]++ ;}else{_bb= ++_bf[_be];_bf[_be]=0;}}var _bg=this._merge_datas&&this._merge_datas[_ch+"_"+_ci];if(_bg&&_bg.isFakeEnd){_aq=_ax=true;_bb=_bg.rowspan;_bc=_bg.colspan;}break;}if(!_ax&&_as){_al=_as;}else{if(this._applyL){_aq=true;var _bh=this._getCellStyle(_an,_ch,_af,"border",_ap);if(_bh.right_style!="none"&&_bh._right_width!=0){_ba=this._getHEXtoRGB(_bh.right_color)+(_bh.right_style=="solid"?"":","+_bh.right_style);if(!_ay){_ay=_ba;}}else{_ay="empty";}if(_bh.bottom_style!="none"&&_bh._bottom_width!=0){_ba=this._getHEXtoRGB(_bh.bottom_color)+(_bh.bottom_style=="solid"?"":","+_bh.bottom_style);if(!_az){_az=_ba;}}else{_az="empty";}}else{_az=_ay="empty";}_al="empty:empty:"+_ay+":"+_az;}var _bi=this._getFixedCellType(_an,_ch);_q=this._makeforDsStyle(_i,_ai,_ah,_ak,_aj,_al,_bi,_bb,_bc);var _bj=false;if((_bi.indexOf("date")> -1||_bi.indexOf("number")> -1)&&(this._checkExpr(_an.locale)||this._checkExpr(_an.mask)||_an.mask=="LONGDATE")){_aq=true;if(_an.mask=="LONGDATE"){_bj=true;}}var _bk=this._getCellText(_f,_ch,_ci);_ac=_ag?"":_bk;if(_bj){_an.mask="SHORTDATE";_ac=_an._getDisplayText_date(_ch);_an.mask="LONGDATE";}var _bl=_f.getCellProperty("body",_ci,"displaytype");if(_bl=="image"){var _bm=this.exportimage.toLowerCase();if(_bm=="url"||_bm=="image"){var _bn=this._getCellText(_f,_ch,_ci);if(_bn){var _bo=nexacro._getURIValue(_bn);_ac=nexacro._getImageLocation(_bo,this._getForm()._getFormBaseUrl());}else{_ac=_bn;}}else{_ac="";}}if(_a._commdataformat==3){var _bp="_x001D_";}else{var _bp=String.fromCharCode(29);}if(this._exportmerge==1){if(_an.suppress>0){if(_ao[_ch].text_proc){_ac="";}}if(!!_f._checkFakeMerge(_an,_ch)){_ac="";var _bg=this._merge_datas&&this._merge_datas[_ch+"_"+_ci];if(_bg){if(_bg.isFakeStart){if(_ai=="left,top"){_ac=_bk;}else{var _bq=_ai.split(",");var _br=_bg[_bq[1]]+"_"+_bg[_bq[0]];if(this._merge_datas[_br]){this._merge_datas[_br].disPlayText=_bk;this._merge_datas[_br].showText=true;}else{this._merge_datas[_br]={disPlayText:_bk,showText:true};}}}else if(_bg.showText){_ac=_bg.disPlayText;}}}}if(_a._is_orgval){_ac=nexacro._isNumber(_ac)?_ac:nexacro._isDecimal(_ac)?_ac:nexacro._nvl(_ac,"");}else{_ac=nexacro._nvl(_ac,"");}_n.setColumn(_ae,"Column"+(_ci+_ab),_ac+_bp+(_aq||(_aa&&_z)?_q:""));if(_an._subcells.length){var _bs=_an._subcells;var _bt=_bs.length;var _bu=_an._rowspan-1;var _bv=_an._colspan-1;var _bw="";var _bh=this._getCellStyle(_an,_ch,_af,"border",_ap);var _aw=this._d_BLColor;if(this._applyL){_ba=this._getHEXtoRGB(_bh.right_color)+(_bh.right_style=="solid"?"":","+_bh.right_style);}else{_ba=_aw;}var _bx,_by,_bz,_ca;for(var _cj=0;_cj<_bt;_cj++ ){var _cb=_bs[_cj]._col;var _cc=_bs[_cj]._row;var _cd=_bs[_cj]._rowspan-1;var _ce=_bs[_cj]._colspan-1;if(_cb==_bv){_bz=_ba;}else{_bz="empty";}if(_cb==0){if(_an._col==0){_bx=_ba;}else{_bx=_aw;}}else{_bx="empty";}if(_cc==_bu){_ca=_ba;}else{if(_cd>0&&_cd==_bu){_ca=_ba;}else{_ca="empty";}}if(_cc==0){_by=_aw;}else{_by="empty";}_bw=_bx+":"+_by+":"+_bz+":"+_ca;var _bi=this._getFixedCellType(_bs[_cj],0);_q=this._makeforDsStyle(_i,_ai,_ah,_ak,_aj,_bw,_bi);if(_cj!=0){_n.addColumn("Column"+(_cg+_ab),"String",256);_ab++ ;}var _ac=_bs[_cj]._getDisplayText(_ch);if(_a._is_orgval){var _cf=_bs[_cj]._refobj;if(_cf&&_cf._getDisplaytype(_ch)=="number"){_ac=_cf._getValue(_ch);}}_n.setColumn(_ae,"Column"+(_ci+_ab),_ac+_bp+_q);}}}}this._preStartRow=this._startRow;this._startRow=_x;}else{this._eof=true;_s=this.parent._argsParam;_t=this.parent._argsDsParam;}_j.setColumn(0,"eof",this._eof);if(this._ds_response){delete this._ds_response;}this._ds_response=new Dataset("RESPONSE");this._rollbackSuppressInfo();if(_t!=undefined){this._transaction(this.id,_a._exporturl,"COMMAND=_ds_command STYLE=_ds_style CELL=_ds_cell"+" "+_t,"_ds_response=RESPONSE",_s,"_exportCallback",true,_a._commdataformat,_a._commcompress);}else{this._transaction(this.id,_a._exporturl,"COMMAND=_ds_command STYLE=_ds_style CELL=_ds_cell","_ds_response=RESPONSE",_s,"_exportCallback",true,_a._commdataformat,_a._commcompress);}return true;};_pItem._transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._load_manager=new nexacro.LoadManager(this);var _j=nexacro._getServiceObject(_b,true);this._load_manager.loadDataModule(_b,_a,_c,_d,_e,_f,_g,_h,_i,_j);};_pItem._stopTransaction=function(){nexacro.Form.prototype._stopTransaction.apply(this,arguments);};_pItem._getDatasetObject=function(_a){var _b=this[_a];var _c=this.parent.parent;if(_b==null&&_c){_b=_c._getDatasetObject(_a);}if(_b==null){_b=application[_a];}return _b;};_pItem._waitCursor=nexacro._emptyFn;_pItem._removeUrl=function(_a){if(_a&&_a.length){var _b=_a.indexOf("'");var _c= -1;if(_b> -1){_c=_a.lastIndexOf("'");_a=_a.substring(_b+1,_c);}_b=_a.indexOf("(");if(_b> -1){_c=_a.lastIndexOf(")");_a=_a.substring(_b+1,_c);}}return _a;};delete _pItem;nexacro.ExportProgress=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._uitype=0;this.visible=false;this.progressbar=null;};var _pExportProgress=nexacro.ExportProgress.prototype=nexacro._createPrototype(nexacro.PopupComponent,nexacro.ExportProgress);_pExportProgress._type_name="ExportProgress";_pExportProgress.on_apply_style_color=nexacro._emptyFn;_pExportProgress.on_apply_style_font=nexacro._emptyFn;_pExportProgress.on_apply_style_align=nexacro._emptyFn;_pExportProgress.on_create_contents=function(){var _a=this.getElement();if(_a){switch(this._uitype){case 1:this.progressbar=new nexacro.ProgressBarCtrl("progressbar","absolute",0,0,1,1,null,null,this);this.progressbar.createComponent();this.progressbar._setRtlDirection(this._rtldirection);break;case 2:this.progressbar=application.mainframe.statusbar;break;}}};_pExportProgress.on_created_contents=function(){switch(this._uitype){case 1:if(this.progressbar){this.progressbar.on_created();}case 2:break;}};_pExportProgress.on_change_containerRect=function(_a,_b){switch(this._uitype){case 1:this.progressbar.move(null,null,_a,20,0,0);case 2:break;}};_pExportProgress.on_destroy_contents=function(){switch(this._uitype){case 1:this.progressbar.destroy();case 2:this.progressbar=null;break;}};_pExportProgress.set_visible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._control_element;_b.setElementVisible(_a);if(this.visible){var _c=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_b,_c);this._updateContents(_b,_c);}if(this.visible){nexacro._resetVML(this);}}};_pExportProgress._getWindow=function(){return nexacro.Component.prototype._getWindow.call(this);};_pExportProgress.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return true;};_pExportProgress._on_keydown=function(_a,_b,_c,_d,_e){if(_b==nexacro.Event.KEY_TAB){_a._event_stop=true;}else if(_b==nexacro.Event.KEY_ESC){nexacro._stopTransaction(this,2);}return true;};_pExportProgress._show=function(){if(!this._is_created||!this.parent){return;}var _a=this._getWindow();if(_a){var _b,_c,_d,_e;_b=_a.getLeft();_c=_a.getTop();if(_a.frame){var _f=_a.frame;_d=_f.getOffsetWidth();_e=_f.getOffsetHeight();}else{_d=_a.getClientWidth();_e=_a.getClientHeight();}var _g=_a._getCaptureComp(true,true,this);if(_g!=this){_a._setCaptureLock(this,true,true);}var _h=this.currentstyle.padding;var _i=0;var _j=0;var _k=0;var _l=0;if(this._uitype==1){_i=(this._textWidth<100?100:this._textWidth)+_h.left+_h.right;_j=this._textHeight+_h.top+_h.bottom+22;_k=Math.round((_d-_i)/2);_l=Math.round((_e-_j)/2);}this._adjustPosition(_k,_l,null,null,_i,_j);this.on_update_position(true,true);var _m=this._control_element;if(_m){_m.setElementPosition(_k,_l);_m.setElementSize(_i,_j);this._updateClientSize(_m);}this.set_visible(true);}};_pExportProgress._hide=function(){var _a=this.parent._getWindow();if(_a){_a._releaseCaptureLock(this);if(nexacro._resize_popup_inbound==true){var _b=this._control_element;if(_b){_b.setElementSize(1,1);this._updateClientSize(_b);}}}if(this._is_created&&this._is_alive){this.set_visible(false);}};nexacro._getLongerStr=function(_a,_b,_c){var _d=arguments.length;if(_d<2){return;}var _e=arguments[0];for(var _f=1;_f<_d;_f++ ){if(_e.length<arguments[_f].length){_e=arguments[_f];}}return _e;};_pExportProgress._set_text=function(_a){switch(this._uitype){case 1:this.progressbar.set_text(_a);break;case 2:var _b=this._getForm();_b.set_statustext(_a);break;}};_pExportProgress._set_pos=function(_a){switch(this._uitype){case 1:this.progressbar.set_pos(_a);break;case 2:var _b=this;while(_b&&!_b._is_top_frame){if(_b._is_frame){_b.statusbar&&_b.statusbar.progressbar.set_pos(_a);}_b=_b.parent;}break;}};delete _pExportProgress;}if(!nexacro.ExcelImportObject){nexacro.ExcelImportEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onsuccess";this.fromobject=_a;this.fromreferenceobject=_d;this.url=_c;};var _pExcelImportEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ExcelImportEventInfo,nexacro.ExcelImportEventInfo);nexacro.ExcelImportEventInfo.prototype=_pExcelImportEventInfo;_pExcelImportEventInfo._type_name="ExcelImportEventInfo";delete _pExcelImportEventInfo;nexacro.ExcelImportErrorEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onerror";this.fromobject=_a;this.fromreferenceobject=_e;this.errortype=_c;this.errormsg=_d;this.statuscode=_f;};var _pExcelImportErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.ExcelImportErrorEventInfo);nexacro.ExcelImportErrorEventInfo.prototype=_pExcelImportErrorEventInfo;_pExcelImportErrorEventInfo._type_name="ExcelImportErrorEventInfo";delete _pExcelImportErrorEventInfo;nexacro.ExcelImportObject=function(_a,_b){this.id=this.name=_a;if(!_b){_b=this._getForm();}this.parent=_b;this._handle=null;this.importfilemode="local";this._importfilemode=0;this.commcompress="none";this._commcompress=false;this.importtype=nexacro.ImportTypes.EXCEL;this.importurl="";this._importurl="";this._uploadurl="";this._uploadservlet="";this._fileurl="";this._range="";this._applyAllsheet=false;this._responseData="";this._responseRVal=null;this._responseLVal=null;this.userawdatevalue=false;this._userawdatevalue=false;this.userawnumbervalue=true;this._userawnumbervalue=true;this._file_password=null;this._usehtmltag=true;this.usedatevalue=null;this._importSheet="";this._importStartCell=null;this._importEndCell=null;this._tran_item=null;this._file_url_ds=null;this.filedialogpath="";this.openedpath="";this.filefilter="";this.filefilterindex=0;var _c=this._unique_id=this.parent._unique_id+"_"+this.id;if(nexacro._get_hidden_frame(_c,this._handle)){nexacro._destroy_hidden_frame(_c,this._handle);}var _d=new Date().valueOf().toString();nexacro._create_hidden_frame(_c,_d,this._uploadComplete,this);nexacro._append_hidden_item(_c,"upfile",this._checkUploadFile,this,this._handle);nexacro._append_hidden_textitem(_c,"ds_command");this.onerror=new nexacro.EventListener("onerror");this.onsuccess=new nexacro.EventListener("onsuccess");this._event_list={"onerror":1,"onsuccess":1};};var _pExcelImport=nexacro.ExcelImportObject.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExcelImportObject);_pExcelImport._type_name="ExcelImportObject";_pExcelImport.on_created=nexacro._emptyFn;_pExcelImport.set_name=function(_a){this.id=this.name=_a;};_pExcelImport.set_importtype=function(_a){switch((_a+"").toUpperCase()){case "EXCEL":_a=0x0100;break;case "EXCEL97":_a=0x0110;break;case "EXCEL2007":_a=0x0120;break;case "HANCELL2010":_a=0x0400;break;case "HANCELL2014":_a=0x0410;break;case "CSV":_a=0x0500;break;}if(_a!=this.importtype){this.importtype=_a;}return _a;};_pExcelImport.set_importurl=function(_a){if(_a!=this.importurl){this.importurl=_a;if(_a==null){this._importurl="";}else{var _b=this._uploadservlet=nexacro._getServiceLocation(_a,this.parent._getFormBaseUrl());var _c=_b.substring(0,_b.lastIndexOf("/")+1);this._importurl=_c+"XExportImport";}}return _a;};_pExcelImport.set_commcompress=function(_a){if(_a!=this.commcompress){this.commcompress=_a;switch(_a.toString().toUpperCase()){case "COMPRESS":this._commcompress=true;break;default:this._commcompress=false;break;}}return _a;};_pExcelImport.set_importfilemode=function(_a){if(this.importfilemode!=_a){this.importfilemode=_a;this._importfilemode=_a=="server"?1:0;}return _a;};_pExcelImport.set_userawdatevalue=function(_a){if(this.userawdatevalue!=_a){this.userawdatevalue=_a;this._userawdatevalue=nexacro._toBoolean(_a);}return _a;};_pExcelImport.set_userawnumbervalue=function(_a){if(this.userawnumbervalue!=_a){this.userawnumbervalue=_a;this._userawnumbervalue=nexacro._toBoolean(_a);}return _a;};_pExcelImport.set_filedialogpath=function(_a){this.filedialogpath=_a;};_pExcelImport.set_openedpath=function(_a){};_pExcelImport.set_filefilter=function(_a){this.filefilter=_a;};_pExcelImport.set_filefilterindex=function(_a){this.filefilterindex=_a;};_pExcelImport._setImportRange=function(_a){var _b={};if(_a){if(_a.indexOf("!")>0){var _c=_a.split("!");_b["sheet"]=_c[0];var _d=_c[1];var _e;if(_d.indexOf(":")>0){_d=_d.split(":");_e=this._getExcelRowCol(_d[0]);_b["startRow"]=_e[1]?_e[1]:"";_b["startCol"]=_e[0]?_e[0]:"";_e=this._getExcelRowCol(_d[1]);_b["endRow"]=_e[1]?_e[1]:"";_b["endCol"]=_e[0]?_e[0]:"";}else{_e=this._getExcelRowCol(_d);_b["startRow"]=_e[1]?_e[1]:"";_b["startCol"]=_e[0]?_e[0]:"";_b["endRow"]="";_b["endCol"]="";}}}else{_b["sheet"]="";_b["startRow"]="";_b["startCol"]="";_b["endRow"]="";_b["endCol"]="";}this._range.push(_b);};_pExcelImport.importData=function(_a,_b,_c,_d){this._file_password=null;this._fileurl="";if(arguments.length<3){return false;}if(!this.importurl){return false;}var _e=this.importfilemode.toLowerCase();if(_e!="server"||!_a){this._importfilemode=0;}else{this._importfilemode=1;}if(_b){this._range=_b;}else{this._range="";}if(_c){this._responseLVal=[];this._responseRVal=[];var _f="";var _g=_c.split(",");if(_g.length<=1&&_g[0]){_g=_g[0].split(" ");}for(var _m=0,_n=_g.length;_m<_n;_m++ ){if(_g[_m].length){var _h=_g[_m].match(/[_A-Za-z0-9]+/g);this._responseLVal.push(_h[0]);if(_h[1]==null){_h[1]="output"+(_m+1);}this._responseRVal.push(_h[1]);_f+=" "+_h[0]+"="+_h[1];_h=null;}}this._responseData=_f;}if(_d){var _i=nexacro.replaceAll(_d," ","").split(",");for(var _m=0,_o=_i.length;_m<_o;_m++ ){var _j=_i[_m].split("=");if(_j[0]=="filepassword"){this._file_password=_j[1];_i.splice(_m,1);_d=_i.join(",");break;}}}this._user_data=_d;if(!this._importfilemode){nexacro._change_inputnode_name(this._input_node,"upfile");nexacro._findclick(this._unique_id,"upfile",this,this._handle,this.filedialogpath,this.filefilter,this.filefilterindex);}else{nexacro._change_inputnode_name(this._input_node,"");if(this._checkFileName(_a)){this._fileurl=_a;this._requestImport(_a);}else{var _k="the file extension is wrong";var _l=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_k,this, -1);this.on_fire_onerror(this,_l);return false;}}return true;};_pExcelImport.destroy=function(){var _a=this._unique_id;this._responseLVal=[];this._responseRVal=[];this._range="";if(this._load_manager){this._load_manager.destroy();delete this._load_manager;this._load_manager=null;}if(this._file_url_ds){this._file_url_ds.clear();this._file_url_ds.destroy();delete this._file_url_ds;this._file_url_ds=null;}if(this._ds_command){this._ds_command.clear();this._ds_command.destroy();}nexacro._remove_hidden_item(_a,"upfile",this._handle);nexacro._remove_hidden_item(_a,"ds_command",this._handle);nexacro._destroy_hidden_frame(_a,this,this._handle);delete this._ds_command;this._ds_command=null;delete this.onerror;this.onerror=null;delete this.onsuccess;this.onsuccess=null;if(this.parent){this.parent.removeChild(this.id);}this._handle=null;this.parent=null;return true;};_pExcelImport.on_fire_onerror=function(_a,_b){this._setWaitCursor(false);var _c=this.onerror;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelImport.on_fire_onsuccess=function(_a,_b){this._setWaitCursor(false);var _c=this.onsuccess;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelImport._getExcelRowCol=function(_a){var _b=_a.length;var _c=[];for(var _d=0;_d<_b;_d++ ){if(!isNaN(_a[_d])){_c.push(_a.substring(0,_d));_c.push(_a.substring(_d));break;}}return _c;};_pExcelImport._transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._load_manager=new nexacro.LoadManager(this);var _j=nexacro._getServiceObject(_b,true);this._load_manager.loadDataModule(_b,_a,_c,_d,_e,_f,_g,_h,_i,_j);};_pExcelImport._getDataset=function(_a){var _b=this.parent;if(!_b){_b=this._getForm();}var _c=this._responseRVal;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){if(_c[_e]==_a){return _b[this._responseLVal[_e]];}}return null;};_pExcelImport._waitCursor=nexacro._emptyFn;_pExcelImport._setParamter=nexacro._emptyFn;_pExcelImport._getDatasetObject=function(_a){var _b=this[_a];if(_b==null&&this.parent&&this.parent!=application){_b=this.parent._getDatasetObject(_a);}if(_b==null){_b=application[_a];}return _b;};_pExcelImport._getForm=function(){var _a=null;var _b=application.mainframe;if(_b){var _c=_b.getActiveFrame();while(_c&&!_c.form){if(!_c.getActiveFrame){return null;}_c=_c.getActiveFrame();}_a=_c.form;}return _a;};_pExcelImport._isPopupFrame=function(){return false;};_pExcelImport._makeImportFormat=function(){var _a="<Import>";_a+="<Sheets>";var _b=this._range;if(_b.indexOf(",")<0){_b=nexacro.replaceAll(_b,"][",",");}_b=_b.split(",");var _c="";for(var _p=0,_q=_b.length;_p<_q;_p++ ){_b[_p]=nexacro.replaceAll(_b[_p],"[","");_b[_p]=nexacro.replaceAll(_b[_p],"]","");_a+="<Sheet ";if(_b[_p].indexOf("=")<0){var _d=_b[_p];if(_d.indexOf("!")>0){var _e=_d.split("!");if(_e[1].indexOf(":")>0){var _f=_e[0];var _d=_e[1].split(":");var _g=_d[0].match(/[0-9]+/);var _h=_d[0].match(/[A-Z]+/);var _i= +_g+1;var _j=_d[1].match(/[0-9]+/);var _k=_d[1].match(/[A-Z]+/);_a+='command=\"getsheetdata\" output=\"'+this._responseRVal+'\" head=\"'+_f+'!'+_h+_g+':'+_k+_g+'\" body=\"'+_f+'!'+_h+( +_g+1)+':'+_k+_j+'\" />';}else{_a+='command=\"getsheetdata\" output=\"'+this._responseRVal+'\" Body=\"'+_b[_p]+'\" />';}}else{_a+='command=\"getsheetdata\" output=\"'+this._responseRVal+'\" Body=\"'+_b[_p]+'\" />';}}else{_c=_b[_p].split(";");var _l=1;var _m=false;var _n="";for(var _r=0,_s=_c.length;_r<_s;_r++ ){if(!_c[_r].length){continue;}_n=_c[_r].split("=");var _o=_n[0].toLowerCase();if(_o!="command"){if(_r==0){_a+='command=\"getsheetdata\" ';}if(_o=="output"){_m=true;}}_a+=_o+"=\""+_n[1]+"\" ";}if(!_m){_a+='output=\"output'+_l+'\" ';_l++ ;}_a+="/>";}}_a+="</Sheets>";_a+="</Import>";return _a;};_pExcelImport._requestImport=function(_a){var _b=new Dataset("COMMAND");this._ds_command=_b;_b.addColumn("command","String",32);_b.addColumn("type","int",32);_b.addColumn("url","String",256);_b.addColumn("format","String",256);_b.addColumn("filemode","String",256);_b.addColumn("password","String",256);_b.addColumn("rawdatevalue","String",256);_b.addColumn("rawnumbervalue","String",256);_b.addColumn("usehtmltag","String",256);_b.addRow();_b.setColumn(0,"command","import");_b.setColumn(0,"type",this._importType);_b.setColumn(0,"url",encodeURIComponent(_a));_b.setColumn(0,"format",this._makeImportFormat());_b.setColumn(0,"filemode",this._importfilemode?"server":"local");_b.setColumn(0,"password",this._file_password);_b.setColumn(0,"rawdatevalue",this._userawdatevalue);_b.setColumn(0,"rawnumbervalue",this._userawnumbervalue);_b.setColumn(0,"usehtmltag",this._usehtmltag);if(this._ds_response){this._ds_response.clear();this._ds_response.destroy();delete this._ds_response;}var _c=this._responseLVal;for(var _i=0,_j=_c.length;_i<_j;_i++ ){var _d=this.parent[_c[_i]];if(_d){}else{var _e="Dataset is null";var _f=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_e,this, -2011);this.on_fire_onerror(this,_f);return;}_d=null;}this._file_url_ds=new Dataset("_file_url_ds",this);this._tran_item=new nexacro.TransactionItem(this._importurl,this,this.id,"COMMAND=_ds_command",this._responseData+", _file_url_ds=IMPORTFILES",this._user_data,0,true);var _g=this._tran_item;var _h=_g._sendData;nexacro._setImportCommand(this._unique_id,"ds_command",this,this._handle,_h);nexacro._submit(this._unique_id,this._uploadservlet,this._handle,_h,_a);delete _b;delete _g;};if(nexacro.Browser=="Runtime"){_pExcelImport._uploadComplete=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i,_j=this._unique_id,_k= -1,_l="",_m=null,_n=9901;if(_a<0){application._onHttpSystemError(this,true,this,_d,_c,_e,_c,null);var _o=nexacro._GetSystemErrorMsg(this,_d);_g=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_o,this,_n);this.on_fire_onerror(this,_g);}else{if(_b){if(_b.indexOf("<noscript>")>=0){_b=_b.substr(_b.indexOf("<noscript>")+10);_b=_b.substr(0,_b.indexOf("</noscript>"));}_m=this._tran_item._deserializeData(_b);_h=_m[0];if(_h){_k=_h[0];_l=_h[1];}}this._tran_item=null;if(_k<0){if(_k<= -2001&&_k>= -2020){_n=_k;}_g=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_l,this,_n);this.on_fire_onerror(this,_g);}else{_i=this._fileurl=this._file_url_ds?this._file_url_ds.getColumn(0,3):null;this._file_url_ds=null;var _g=new nexacro.ExcelImportEventInfo(this,"onsuccess",_i,this);this.on_fire_onsuccess(this,_g);}}nexacro._remove_hidden_item(_j,"upfile",this._handle);nexacro._append_hidden_item(_j,"upfile",this._checkUploadFile,this,this._handle);};}else{var _html_entity=/&amp;|&lt;|&gt;/g;function _replace_text(_a){if(_a=="&amp;"){return "&";}else if(_a=="&lt;"){return "<";}else if(_a=="&gt;"){return ">";}else{return _a;}};_pExcelImport._uploadComplete=function(){var _a,_b,_c,_d,_e= -1,_f="",_g=null,_h=this._unique_id,_i=9901;try{var _j=nexacro._getXMLDocument(_h);_a=_j.URL?_j.URL:_j.url;if(_a=="about:blank"){return;}var _k=nexacro._getDataFromDOM(_j);if(!_k||_k.length<=0){var _l=_j.childNodes[0];if(_l){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_k=_l.innerHTML;}else{_k=_j.head.innerHTML;}_k=_k.replace(_html_entity,_replace_text);}}if(_k.indexOf("<noscript>")>=0){_k=_k.substr(_k.indexOf("<noscript>")+10);_k=_k.substr(0,_k.indexOf("</noscript>"));}_g=this._tran_item._deserializeData(_k);if(this._tran_item){this._tran_item.context=null;this._tran_item.inputDatasets=null;this._tran_item.outputDatasets=null;delete this._tran_item;this._tran_item=null;}_b=_g[0];if(_b){_e=_b[0];_f=_b[1];}if(_e<0){if(_e<= -2001&&_e>= -2020){_i=_e;}_c=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_f,this,_i);this.on_fire_onerror(this,_c);}else{_d=this._fileurl=this._file_url_ds?this._file_url_ds.getColumn(0,3):null;this._file_url_ds.clear();this._file_url_ds.destroy();delete this._file_url_ds;this._file_url_ds=null;_c=new nexacro.ExcelImportEventInfo(this,"onsuccess",_d,this);this.on_fire_onsuccess(this,_c);_c=null;}}catch(e){_c=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError","failed to get",this,_i);this.on_fire_onerror(this,_c);}nexacro._remove_hidden_item(_h,"upfile",this._handle);nexacro._append_hidden_item(_h,"upfile",this._checkUploadFile,this,this._handle);_k=null;};}_pExcelImport._checkFileName=function(_a){if(_a==null){return false;}var _b=false;var _c="";var _d=_a.lastIndexOf("\\");var _e=_a.substring(_d+1);var _f=_e.split(".");var _g=_f.length;if(_g>1){_c=_f[_g-1];switch(_c.toLowerCase()){case "xls":_b=true;this._importType=nexacro.ImportTypes.EXCEL97;break;case "xlsx":_b=true;this._importType=nexacro.ImportTypes.EXCEL2007;break;case "cell":_b=true;this._importType=nexacro.ImportTypes.HANCELL;break;case "csv":_b=true;this._importType=nexacro.ImportTypes.CSV;break;default:if(this._importfilemode){_b=true;this._importType=this.importtype;}break;}}else{if(this._importfilemode){_b=true;this._importType=this.importtype;}}return _b;};_pExcelImport._checkUploadFile=function(_a){this._setWaitCursor(true);var _b=_a.lastIndexOf("\\");if(_b>0){this.openedpath=_a.substring(0,_b+1);}if(this._checkFileName(_a)){this._requestImport(_a);}else{var _c="the file extension is wrong";var _d=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_c,this, -1);this.on_fire_onerror(this,_d);}};_pExcelImport._setWaitCursor=function(_a){var _b=this.parent;if(!_b){_b=this._getForm();}_b._waitCursor(_a);};_pExcelImport._getWindow=function(){var _a=this.parent;if(_a._is_form){return _a._getWindow();}return null;};_pExcelImport._getWindowHandle=function(){var _a=this.parent;if(_a._is_form){return _a._getWindowHandle();}return null;};_pExcelImport._changeFiles=nexacro._emptyFn;delete _pExcelImport;}if(!nexacro.Tray){nexacro.Tray=function(_a,_b){this.id=_a;this.icon="default";this.tooltip="";this.items=new nexacro.Collection();this.name=_a;this._handle=null;this._init_flag=false;this._event_list={"onlbuttonup":1,"onrbuttonup":1,"ondblclick":1};};var _pTray=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Tray);nexacro.Tray.prototype=_pTray;_pTray._type_name="Tray";_pTray.on_created=function(){var _a=this.icon;if(_a&&_a.indexOf("::")> -1){_a=application._getServiceLocation(_a);}this._handle=nexacro._createTrayHandle(_a,this.tooltip);var _b=this.items.length;for(var _c=0;_c<_b;_c++ ){this.items[_c].on_created();}};_pTray._destroy=function(){var _a=this.items.length;for(var _b=_a-1;_b>=0;_b-- ){this.items.delete_item(_b);}nexacro._removeTrayHandle(this._handle);application.trays.delete_item(this.id);application.all.delete_item(this.id);};_pTray.set_id=function(_a){if(_a!=this.id){this.id=this.name=_a;}};_pTray.set_name=function(_a){if(_a!=this.name){this.id=this.name=_a;}};_pTray.set_icon=function(_a){if(_a!=this.icon){this.icon=_a;}if(this._handle){nexacro._setTrayIconHandle(this._handle,this.icon);}};_pTray.set_tooltip=function(_a){if(_a!=this.tooltip){this.tooltip=_a;}if(this._handle){nexacro._setTrayTooltipHandle(this._handle,this.tooltip);}};_pTray.show=function(){if(this._init_flag){this.on_created();}};_pTray.destroy=function(){this._destroy();};_pTray.init=function(_a,_b,_c){var _d=application.trays[_a];if(_d&&_d._handle==null){this.set_id(_a);this.set_icon(_b);this.set_tooltip(_c);this._init_flag=true;}};_pTray.showBalloonTip=function(_a,_b,_c,_d){var _e=false;var _f= -1;if(!_d){_d=false;}nexacro._showTrayBalloonTipHandle(this._handle,_a,_b,_c,_f,_d);};_pTray.addItem=function(_a,_b){if(_b._type_name=="TrayPopupMenu"){if(this.items.indexOf(_a)>=0){return  -1;}else{return this.items.add_item(_a,_b);}}};_pTray.insertItem=function(_a,_b,_c){if(_c._type_name=="TrayPopupMenu"){if(this.items.indexOf(_b)>=0){return  -1;}else{return this.items.insert_item(_a,_b,_c);}}};_pTray.deleteItem=function(_a){return this.items.delete_item(_a);};_pTray.findItem=function(_a){var _b=this.items.indexOf(_a);if(_b==undefined){_b= -1;}return _b;};_pTray.getItemCount=function(){var _a=this.items.size();return _a;};_pTray.destroy=function(){this._destroy();};_pTray.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f){if(this.ondblclick&&this.ondblclick._has_handlers){var _g=new nexacro.ClickEventInfo(this,"ondblclick","lbutton",_b,_c,_d,_e,_f, -1, -1, -1, -1,this,this);return this.ondblclick._fireEvent(this,_g);}return false;};_pTray.on_fire_onlbuttonup=function(_a,_b,_c,_d,_e,_f){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _g=new nexacro.MouseEventInfo(this,"onlbuttonup","lbutton",_b,_c,_d,_e,_f, -1, -1, -1, -1,this,this);return this.onlbuttonup._fireEvent(this,_g);}return false;};_pTray.on_fire_onrbuttonup=function(_a,_b,_c,_d,_e,_f){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _g=new nexacro.MouseEventInfo(this,"onrbuttonup","rbutton",_b,_c,_d,_e,_f, -1, -1, -1, -1,this,this);return this.onrbuttonup._fireEvent(this,_g);}return false;};delete _pTray;};if(!nexacro.TrayPopupMenu){nexacro.TrayPopupMenu=function(_a,_b){this.id=_a;this.parent=_b;this._popupmenu=null;this._handle=null;this.innerdataset="";this._innerdataset="";this._level=0;this._rowindex=0;this.captioncolumn="";this.checkboxcolumn="";this.enablecolumn="";this.hotkeycolumn="";this.iconcolumn="";this.idcolumn="";this.levelcolumn="";this.userdatacolumn="";this._event_list={"onmenuclick":1};};var _pTrayPopupMenu=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.TrayPopupMenu);nexacro.TrayPopupMenu.prototype=_pTrayPopupMenu;_pTrayPopupMenu._type_name="TrayPopupMenu";_pTrayPopupMenu.set_visible=nexacro._emptyFn;_pTrayPopupMenu.on_created=function(){if(this._innerdataset==null&&this.innerdataset!=null){var _a=this.innerdataset;this._innerdataset=application._getDatasetObject(_a);this.on_apply_innerdataset();}this._handle=nexacro._createTrayPopupMenuHandle(this.parent._handle);this._createPopupMenu(this._handle);};_pTrayPopupMenu._createPopupMenu=function(_a){var _b=this._innerdataset;if(_b&&this.levelcolumn&&this.captioncolumn&&this.idcolumn){var _c=_b.getRowCount();for(var _n=this._rowindex;_n<_c;_n++ ){var _d=_b.getColumn(_n,this.levelcolumn);if(_d==this._level){var _e="string";var _f=_b.getColumn(_n,this.captioncolumn);if(_f=="-"){_e="separator";}var _g=_b.getColumn(_n,this.iconcolumn);if(_g){_e="bitmap";}var _h=_b.getColumn(_n,this.enablecolumn);if(_h){if(!nexacro._toBoolean(_h)){_e="disabled";}}var _i=_b.getColumn(_n,this.idcolumn);if(_i){_i=_n;}var _j=_b.getColumn(_n,this.checkboxcolumn);if(_j){if(nexacro._toBoolean(_j)){_e="checked";}}var _k=_b.getColumn(_n,this.userdatacolumn);var _g=_b.getColumn(_n,this.iconcolumn);var _l=_b.getColumn(_n+1,this.levelcolumn);if(_l-_d==1){_e="popup";var _m=nexacro._createTrayPopupMenuHandle(this.parent._handle);this._level++ ;this._rowindex=_n+1;this._createPopupMenu(_m);nexacro._setTrayPopupMenuItemHandle(this.parent._handle,_a,_e,_m,_f,_g);this._level-- ;_l=_b.getColumn(this._rowindex+1,this.levelcolumn);if(_l-_d<0){break;}}else if(_l-_d<0){nexacro._setTrayPopupMenuItemHandle(this.parent._handle,_a,_e,_i,_f,_g);this._rowindex=_n;break;}else{nexacro._setTrayPopupMenuItemHandle(this.parent._handle,_a,_e,_i,_f,_g);}}}}};_pTrayPopupMenu._updatePopupMenu=function(_a){this._level=0;this._rowindex=0;nexacro._destroyTrayPopupMenuHandle(this.parent._handle,_a);this._handle=nexacro._createTrayPopupMenuHandle(this.parent._handle);this._createPopupMenu(this._handle);};_pTrayPopupMenu.trackPopup=function(){if(this._handle){nexacro._displayTrayPopupMenuHandle(this.parent._handle,this._handle);application._current_tray_popup=this;}};_pTrayPopupMenu.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=application._getDatasetObject(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}};_pTrayPopupMenu.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){var _b=this._callbackFromDataset;_a._setEventHandler("onrowposchanged",_b,this);_a._setEventHandler("oncolumnchanged",_b,this);_a._setEventHandler("onrowsetchanged",_b,this);if(this._handle){this._updatePopupMenu(this._handle);}}};_pTrayPopupMenu._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=application._getDatasetObject(_a);this.innerdataset=_a;}};_pTrayPopupMenu.getInnerDataset=function(){return this._innerdataset;};_pTrayPopupMenu.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pTrayPopupMenu.set_captioncolumn=function(_a){if(_a!=this.captioncolumn){this.captioncolumn=_a;this.on_apply_captioncolumn();}};_pTrayPopupMenu.on_apply_captioncolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.set_checkboxcolumn=function(_a){if(_a!=this.checkboxcolumn){this.checkboxcolumn=_a;this.on_apply_checkboxcolumn();}};_pTrayPopupMenu.on_apply_checkboxcolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.set_enablecolumn=function(_a){if(_a!=this.enablecolumn){this.enablecolumn=_a;this.on_apply_enablecolumn();}};_pTrayPopupMenu.on_apply_enablecolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.set_hotkeycolumn=function(_a){if(_a!=this.hotkeycolumn){this.hotkeycolumn=_a;this.on_apply_hotkeycolumn();}};_pTrayPopupMenu.on_apply_hotkeycolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.set_iconcolumn=function(_a){if(_a!=this.iconcolumn){this.iconcolumn=_a;this.on_apply_iconcolumn();}};_pTrayPopupMenu.on_apply_iconcolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.set_idcolumn=function(_a){if(_a!=this.idcolumn){this.idcolumn=_a;this.on_apply_idcolumn();}};_pTrayPopupMenu.on_apply_idcolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.set_levelcolumn=function(_a){if(_a!=this.levelcolumn){this.levelcolumn=_a;this.on_apply_levelcolumn();}};_pTrayPopupMenu.on_apply_levelcolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.set_userdatacolumn=function(_a){if(_a!=this.userdatacolumn){this.userdatacolumn=_a;this.on_apply_userdatacolumn();}};_pTrayPopupMenu.on_apply_userdatacolumn=function(){var _a=this._innerdataset;if(_a){this._updatePopupMenu(this._handle);}};_pTrayPopupMenu.on_fire_onmenuclick=function(_a){var _b=this._innerdataset;var _c=_a;var _d=_b.getColumn(_c,this.idcolumn);var _e=_b.getColumn(_c,this.userdatacolumn);var _f=_b.getColumn(_c,this.levelcolumn);if(this.onmenuclick&&this.onmenuclick._has_handlers){var _g=new nexacro.MenuClickEventInfo(this,"onmenuclick",_d,_e,_c,_f);this.onmenuclick._fireEvent(this,_g);}};delete _pTrayPopupMenu;};if(!nexacro.GridFormat){nexacro.Grid_Style=function(_a){nexacro.Style.call(this,_a);this.line=null;this.selectline=null;this.linetype=null;this.selectlinetype=null;this.focusborder=null;this.treeclosebuttonimage=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treeitemmargin=null;this.treelinetype=null;this.treeopenbuttonimage=null;this.accessibility=null;this.selectpointimage=null;};var _pGridStyle=nexacro._createPrototype(nexacro.Style,nexacro.Grid_Style);nexacro.Grid_Style.prototype=_pGridStyle;eval(nexacro._createBorderAttributeEvalStr("_pGridStyle","line"));eval(nexacro._createBorderAttributeEvalStr("_pGridStyle","selectline"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","linetype"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","selectlinetype"));eval(nexacro._createBorderAttributeEvalStr("_pGridStyle","focusborder"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeclosebuttonimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treecollapseimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeexpandimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeitemimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeitemmargin"));eval(nexacro._createLineAttributeEvalStr("_pGridStyle","treelinetype"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeopenbuttonimage"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridStyle","accessibility"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","selectpointimage"));_pGridStyle.__custom_emptyObject=function(){this.line=null;this.selectline=null;this.linetype=null;this.selectlinetype=null;this.focusborder=null;this.treeclosebuttonimage=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treeitemmargin=null;this.treelinetype=null;this.treeopenbuttonimage=null;this.selectpointimage=null;};_pGridStyle.__get_custom_style_value=function(){var _a="";if(this.line&&!this.line._is_empty){_a+="line:"+this.line._value+"; ";}if(this.selectline&&!this.selectline._is_empty){_a+="selectline:"+this.selectline._value+"; ";}if(this.linetype&&!this.linetype._is_empty){_a+="linetype:"+this.linetype._value+"; ";}if(this.selectlinetype&&!this.selectlinetype._is_empty){_a+="selectlinetype:"+this.selectlinetype._value+"; ";}if(this.focusborder&&!this.focusborder._is_empty){_a+="focusborder:"+this.focusborder._value+"; ";}if(this.treeclosebuttonimage&&!this.treeclosebuttonimage._is_empty){_a+="treeclosebuttonimage:"+this.treeclosebuttonimage._value+"; ";}if(this.treecollapseimage&&!this.treecollapseimage._is_empty){_a+="treecollapseimage:"+this.treecollapseimage._value+"; ";}if(this.treeexpandimage&&!this.treeexpandimage._is_empty){_a+="treeexpandimage:"+this.treeexpandimage._value+"; ";}if(this.treeitemimage&&!this.treeitemimage._is_empty){_a+="treeitemimage:"+this.treeitemimage._value+"; ";}if(this.treeitemmargin&&!this.treeitemmargin._is_empty){_a+="treeitemmargin:"+this.treeitemmargin._value+"; ";}if(this.treelinetype&&!this.treelinetype._is_empty){_a+="treelinetype:"+this.treelinetype._value+"; ";}if(this.treeopenbuttonimage&&!this.treeopenbuttonimage._is_empty){_a+="treeopenbuttonimage:"+this.treeopenbuttonimage._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}if(this.selectpointimage&&!this.selectpointimage._is_empty){_a+="selectpointimage:"+this.selectpointimage._value+"; ";}return _a;};nexacro.Grid_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.line=null;this.selectline=null;this.linetype=null;this.selectlinetype=null;this.focusborder=null;this.treeclosebuttonimage=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treeitemmargin=null;this.treelinetype=null;this.treeopenbuttonimage=null;this.accessibility=null;this.selectpointimage=null;};var _pGridCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Grid_CurrentStyle);nexacro.Grid_CurrentStyle.prototype=_pGridCurrentStyle;_pGridCurrentStyle.__custom_emptyObject=_pGridStyle.__custom_emptyObject;_pGridCurrentStyle.__get_custom_style_value=_pGridStyle.__get_custom_style_value;delete _pGridCurrentStyle;delete _pGridStyle;nexacro.GridBand_Style=function(_a){nexacro.Style.call(this,_a);this.cellalign=null;this.cellbackground=null;this.cellbackground2=null;this.cellcolor=null;this.cellcolor2=null;this.cellfont=null;this.cellgradation=null;this.cellgradation2=null;this.cellline=null;this.celllinetype=null;this.celllinespace=null;this.cellpadding=null;this.selectborder=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridBandStyle=nexacro._createPrototype(nexacro.Style,nexacro.GridBand_Style);nexacro.GridBand_Style.prototype=_pGridBandStyle;eval(nexacro._createAlignAttributeEvalStr("_pGridBandStyle","cellalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridBandStyle","cellbackground"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridBandStyle","cellbackground2"));eval(nexacro._createColorAttributeEvalStr("_pGridBandStyle","cellcolor"));eval(nexacro._createColorAttributeEvalStr("_pGridBandStyle","cellcolor2"));eval(nexacro._createFontAttributeEvalStr("_pGridBandStyle","cellfont"));eval(nexacro._createGradationAttributeEvalStr("_pGridBandStyle","cellgradation"));eval(nexacro._createGradationAttributeEvalStr("_pGridBandStyle","cellgradation2"));eval(nexacro._createBorderAttributeEvalStr("_pGridBandStyle","cellline"));eval(nexacro._createValueAttributeEvalStr("_pGridBandStyle","celllinetype"));eval(nexacro._createValueAttributeEvalStr("_pGridBandStyle","celllinespace"));eval(nexacro._createPaddingAttributeEvalStr("_pGridBandStyle","cellpadding"));eval(nexacro._createBorderAttributeEvalStr("_pGridBandStyle","selectborder"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridBandStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pGridBandStyle","selectcolor"));eval(nexacro._createFontAttributeEvalStr("_pGridBandStyle","selectfont"));eval(nexacro._createGradationAttributeEvalStr("_pGridBandStyle","selectgradation"));eval(nexacro._createBorderAttributeEvalStr("_pGridBandStyle","selectline"));eval(nexacro._createValueAttributeEvalStr("_pGridBandStyle","selectlinetype"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridBandStyle","accessibility"));_pGridBandStyle.__custom_emptyObject=function(){this.cellalign=null;this.cellbackground=null;this.cellbackground2=null;this.cellcolor=null;this.cellcolor2=null;this.cellfont=null;this.cellgradation=null;this.cellgradation2=null;this.cellline=null;this.celllinetype=null;this.celllinespace=null;this.cellpadding=null;this.selectborder=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;};_pGridBandStyle.__get_custom_style_value=function(){var _a="";if(this.cellalign&&!this.cellalign._is_empty){_a+="cellalign:"+this.cellalign._value+"; ";}if(this.cellbackground&&!this.cellbackground._is_empty){_a+="cellbackground:"+this.cellbackground._value+"; ";}if(this.cellbackground2&&!this.cellbackground2._is_empty){_a+="cellbackground2:"+this.cellbackground2._value+"; ";}if(this.cellcolor&&!this.cellcolor._is_empty){_a+="cellcolor:"+this.cellcolor._value+"; ";}if(this.cellcolor2&&!this.cellcolor2._is_empty){_a+="cellcolor2:"+this.cellcolor2._value+"; ";}if(this.cellfont&&!this.cellfont._is_empty){_a+="cellfont:"+this.cellfont._value+"; ";}if(this.cellgradation&&!this.cellgradation._is_empty){_a+="cellgradation:"+this.cellgradation._value+"; ";}if(this.cellgradation2&&!this.cellgradation2._is_empty){_a+="cellgradation2:"+this.cellgradation2._value+"; ";}if(this.cellline&&!this.cellline._is_empty){_a+="cellline:"+this.cellline._value+"; ";}if(this.celllinetype&&!this.celllinetype._is_empty){_a+="celllinetype:"+this.celllinetype._value+"; ";}if(this.celllinespace&&!this.celllinespace._is_empty){_a+="celllinespace:"+this.celllinespace._value+"; ";}if(this.selectborder&&!this.selectborder._is_empty){_a+="selectborder:"+this.selectborder._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectfont&&!this.selectfont._is_empty){_a+="selectfont:"+this.selectfont._value+"; ";}if(this.selectgradation&&!this.selectgradation._is_empty){_a+="selectgradation:"+this.selectgradation._value+"; ";}if(this.selectLine&&!this.selectline._is_empty){_a+="selectline:"+this.selectline._value+"; ";}if(this.selectlinetype&&!this.selectlinetype._is_empty){_a+="selectlinetype:"+this.selectlinetype._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.GridBand_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.cellalign=null;this.cellbackground=null;this.cellbackground2=null;this.cellcolor=null;this.cellcolor2=null;this.cellfont=null;this.cellgradation=null;this.cellgradation2=null;this.cellline=null;this.celllinetype=null;this.celllinespace=null;this.cellpadding=null;this.selectborder=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridBandCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridBand_CurrentStyle);nexacro.GridBand_CurrentStyle.prototype=_pGridBandCurrentStyle;_pGridBandCurrentStyle.__custom_emptyObject=_pGridBandStyle.__custom_emptyObject;_pGridBandCurrentStyle.__get_custom_style_value=_pGridBandStyle.__get_custom_style_value;delete _pGridBandCurrentStyle;delete _pGridBandStyle;nexacro.GridCell_Style=function(_a){nexacro.Style.call(this,_a);this.background2=null;this.backgroundimage=null;this.color2=null;this.gradation2=null;this.line=null;this.linetype=null;this.linespace=null;this.barcolor=null;this.bardirection=null;this.bargradation=null;this.checkboxsize=null;this.controlaccessibility=null;this.controlbackground=null;this.controlbackgroundimagemode=null;this.controlcolor=null;this.controlfont=null;this.controlalign=null;this.controlimage=null;this.controlborder=null;this.controlbordertype=null;this.controlbuttonsize=null;this.controlgradation=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridCellStyle=nexacro._createPrototype(nexacro.Style,nexacro.GridCell_Style);nexacro.GridCell_Style.prototype=_pGridCellStyle;eval(nexacro._createBackgroundAttributeEvalStr("_pGridCellStyle","background2"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","backgroundimage"));eval(nexacro._createColorAttributeEvalStr("_pGridCellStyle","color2"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","gradation2"));eval(nexacro._createBorderAttributeEvalStr("_pGridCellStyle","line"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","linetype"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","linespace"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","barcolor"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","bardirection"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","bargradation"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","checkboxsize"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridCellStyle","controlaccessibility"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridCellStyle","controlbackground"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","controlbackgroundimagemode"));eval(nexacro._createColorAttributeEvalStr("_pGridCellStyle","controlcolor"));eval(nexacro._createFontAttributeEvalStr("_pGridCellStyle","controlfont"));eval(nexacro._createAlignAttributeEvalStr("_pGridCellStyle","controlalign"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","controlimage"));eval(nexacro._createBorderAttributeEvalStr("_pGridCellStyle","controlborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pGridCellStyle","controlbordertype"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","controlbuttonsize"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","controlgradation"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridCellStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pGridCellStyle","selectcolor"));eval(nexacro._createFontAttributeEvalStr("_pGridCellStyle","selectfont"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","selectgradation"));eval(nexacro._createBorderAttributeEvalStr("_pGridCellStyle","selectline"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","selectlinetype"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridCellStyle","accessibility"));_pGridCellStyle.__custom_emptyObject=function(){this.background2=null;this.backgroundimage=null;this.color2=null;this.gradation2=null;this.line=null;this.linetype=null;this.linespace=null;this.barcolor=null;this.bardirection=null;this.bargradation=null;this.checkboxsize=null;this.controlaccessibility=null;this.controlbackground=null;this.controlbackgroundimagemode=null;this.controlcolor=null;this.controlfont=null;this.controlalign=null;this.controlimage=null;this.controlborder=null;this.controlbordertype=null;this.controlbuttonsize=null;this.controlgradation=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;};_pGridCellStyle.__get_custom_style_value=function(){var _a="";if(this.background2&&!this.background2._is_empty){_a+="background2:"+this.background2._value+"; ";}if(this.backgroundimage&&!this.backgroundimage._is_empty){_a+="backgroundimage:"+this.backgroundimage._value+"; ";}if(this.color2&&!this.color2._is_empty){_a+="color2:"+this.color2._value+"; ";}if(this.gradation2&&!this.gradation2._is_empty){_a+="gradation2:"+this.gradation2._value+"; ";}if(this.line&&!this.line._is_empty){_a+="line:"+this.line._value+"; ";}if(this.linetype&&!this.linetype._is_empty){_a+="linetype:"+this.linetype._value+"; ";}if(this.linespace&&!this.linespace._is_empty){_a+="linespace:"+this.linespace._value+"; ";}if(this.barcolor&&!this.barcolor._is_empty){_a+="barcolor:"+this.barcolor._value+"; ";}if(this.bardirection&&!this.bardirection._is_empty){_a+="bardirection:"+this.bardirection._value+"; ";}if(this.bargradation&&!this.bargradation._is_empty){_a+="bargradation:"+this.bargradation._value+"; ";}if(this.checkboxsize&&!this.checkboxsize._is_empty){_a+="checkboxsize:"+this.checkboxsize._value+"; ";}if(this.controlaccessibility&&!this.controlaccessibility._is_empty){_a+="controlaccessibility:"+this.controlaccessibility._value+"; ";}if(this.controlbackground&&!this.controlbackground._is_empty){_a+="controlbackground:"+this.controlbackground._value+"; ";}if(this.controlbackgroundimagemode&&!this.controlbackgroundimagemode._is_empty){_a+="controlbackgroundimagemode:"+this.controlbackgroundimagemode._value+"; ";}if(this.controlcolor&&!this.controlcolor._is_empty){_a+="controlcolor:"+this.controlcolor._value+"; ";}if(this.controlfont&&!this.controlfont._is_empty){_a+="controlfont:"+this.controlfont._value+"; ";}if(this.controlalign&&!this.controlalign._is_empty){_a+="controlalign:"+this.controlalign._value+"; ";}if(this.controlimage&&!this.controlimage._is_empty){_a+="controlimage:"+this.controlimage._value+"; ";}if(this.controlborder&&!this.controlborder._is_empty){_a+="controlborder:"+this.controlborder._value+"; ";}if(this.controlbordertype&&!this.controlbordertype._is_empty){_a+="controlbordertype:"+this.controlbordertype._value+"; ";}if(this.controlbuttonsize&&!this.controlbuttonsize._is_empty){_a+="controlbuttonsize:"+this.controlbuttonsize._value+"; ";}if(this.controlgradation&&!this.controlgradation._is_empty){_a+="controlgradation:"+this.controlgradation._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectfont&&!this.selectfont._is_empty){_a+="selectfont:"+this.selectfont._value+"; ";}if(this.selectgradation&&!this.selectgradation._is_empty){_a+="selectgradation:"+this.selectgradation._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.GridCell_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.background2=null;this.backgroundimage=null;this.color2=null;this.gradation2=null;this.line=null;this.linetype=null;this.linespace=null;this.barcolor=null;this.bardirection=null;this.bargradation=null;this.checkboxsize=null;this.controlaccessibility=null;this.controlbackground=null;this.controlbackgroundimagemode=null;this.controlcolor=null;this.controlfont=null;this.controlalign=null;this.controlimage=null;this.controlborder=null;this.controlbordertype=null;this.controlbuttonsize=null;this.controlgradation=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridCellCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridCell_CurrentStyle);nexacro.GridCell_CurrentStyle.prototype=_pGridCellCurrentStyle;_pGridCellCurrentStyle.__custom_emptyObject=_pGridCellStyle.__custom_emptyObject;_pGridCellCurrentStyle.__get_custom_style_value=_pGridCellStyle.__get_custom_style_value;delete _pGridCellCurrentStyle;delete _pGridCellStyle;nexacro.GridCellInfo=function(_a,_b,_c,_d,_e){this.id=this.name=_a;this.parent=_b;this.grid=_c;this.celltype=_d;this._cellidx=_e;this._col=0;this._colspan=0;this._row=0;this._rowspan=0;this._area="";this._endcol=false;this._subcells=[];this._isSubCell=false;this.classname="";this._hasEditor=false;this._control_element=true;this._editingRow= -9;this._default_expandsize=16;this._is_use_bind_expr_style=false;this._findcss_ctrl=new nexacro.Component("cssfind","absolute",0,0,0,0,null,null,this);this._findcss_ctrl._is_subcontrol=true;this.style=new nexacro.GridCell_Style(this);this._styles={};this._stylecache={};this._imgWidthTemp={};this._imgHeightTemp={};this._suppress_infos=[];this._fakemerge_infos=null;this._cur1font_size=null;this._cur1selectfont_size=null;this._curfont=undefined;this._curselfont=undefined;this._curborder=undefined;this._curpadding=undefined;this.displaytype=new nexacro.BindableValue("normal");this.edittype=new nexacro.BindableValue("none");this.tooltiptype="none";this.tooltiptext=new nexacro.BindableValue("");this.autosizecol="default";this.autosizerow="default";this.displayexpdec=new nexacro.BindableValue( -1);this.locale=new nexacro.BindableValue("");this.mask=new nexacro.BindableValue("");this.maskchar="_";this.suppress=new nexacro.BindableValue(0);this.suppressalign="first";this.suppressedit=false;this.wordwrap=new nexacro.BindableValue("none");this.text=new nexacro.BindableValue("");this.expr=new nexacro.BindableValue("");this.subsumtext=new nexacro.BindableValue("");this.combodataset=new nexacro.BindableValue("");this.combocodecol=new nexacro.BindableValue("");this.combodatacol=new nexacro.BindableValue("");this.combodisplay=new nexacro.BindableValue("edit");this.combodisplaynulltext=new nexacro.BindableValue("");this.combodisplaynulltype=new nexacro.BindableValue("none");this.combodisplayrowcount=new nexacro.BindableValue( -1);this.combotype=new nexacro.BindableValue("dropdown");this.calendardisplay=new nexacro.BindableValue("edit");this.calendardisplaynulltext=new nexacro.BindableValue("");this.calendardisplaynulltype=new nexacro.BindableValue("default");this.calendarinnerdataset=new nexacro.BindableValue("");this.calendarbackgroundcolumn=new nexacro.BindableValue("");this.calendarbordercolumn=new nexacro.BindableValue("");this.calendardatecolumn=new nexacro.BindableValue("");this.calendartextcolorcolumn=new nexacro.BindableValue("");this.editacceptsenter=new nexacro.BindableValue(false);this.editacceptstab=new nexacro.BindableValue(false);this.editautoselect=new nexacro.BindableValue(false);this.editautoskip=new nexacro.BindableValue(false);this.editclipmode=new nexacro.BindableValue("includespace");this.editdisplay=new nexacro.BindableValue("edit");this.editfilter=new nexacro.BindableValue("none");this.editimemode=new nexacro.BindableValue("none");this.editlimit=new nexacro.BindableValue( -1);this.editlengthunit=new nexacro.BindableValue("utf16");this.editlimitbymask=new nexacro.BindableValue("decimal");this.editscrollbar=new nexacro.BindableValue("none");this.edittrimtype=new nexacro.BindableValue("none");this.edituseime=new nexacro.BindableValue("global");this.expandchar=new nexacro.BindableValue("");this.expandimage=new nexacro.BindableValue("");this.expandshow=new nexacro.BindableValue("hide");this.expandsize=new nexacro.BindableValue(this._default_expandsize);this.treecheck=new nexacro.BindableValue("");this.treecollapseimage=new nexacro.BindableValue("");this.treeexpandimage=new nexacro.BindableValue("");this.treeitemimage=new nexacro.BindableValue("");this.treelevel=new nexacro.BindableValue("");this.treestartlevel=new nexacro.BindableValue(0);this.treestate=new nexacro.BindableValue("");this.imagestretch=new nexacro.BindableValue("none");};var _pGridCellInfo=nexacro._createPrototype(nexacro.Object,nexacro.GridCellInfo);nexacro.GridCellInfo.prototype=_pGridCellInfo;_pGridCellInfo._type_name="GridCellInfo";_pGridCellInfo.destroy=function(){this.parent=null;this.grid=null;this._subcells=null;if(this.style){delete this.style;this.style=null;}if(this._styles){var _a=this._styles;for(var _c in _a){var _b=_a[_c];if(_b.destroy){_b.destroy();_b=null;}}this._styles=null;}this._imgWidthTemp=null;this._imgHeightTemp=null;this._suppress_infos=null;this._fakemerge_infos=null;this.displaytype=null;this.edittype=null;this.tooltiptext=null;this.displayexpdec=null;this.locale=null;this.mask=null;this.suppress=null;this.wordwrap=null;this.text=null;this.expr=null;this.subsumtext=null;this.combodataset=null;this.combocodecol=null;this.combodatacol=null;this.combodisplay=null;this.combodisplaynulltext=null;this.combodisplaynulltype=null;this.combodisplayrowcount=null;this.combotype=null;this.calendardisplay=null;this.calendardisplaynulltext=null;this.calendardisplaynulltype=null;this.calendarinnerdataset=null;this.calendarbackgroundcolumn=null;this.calendarbordercolumn=null;this.calendardatecolumn=null;this.calendartextcolorcolumn=null;this.editacceptsenter=null;this.editacceptstab=null;this.editautoselect=null;this.editautoskip=null;this.editclipmode=null;this.editdisplay=null;this.editfilter=null;this.editimemode=null;this.editlimit=null;this.editlengthunit=null;this.editlimitbymask=null;this.editscrollbar=null;this.edittrimtype=null;this.edituseime=null;this._findcss_ctrl=null;this._stylecache=null;this.expandchar=null;this.expandimage=null;this.expandshow=null;this.expandsize=null;this.treecheck=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treelevel=null;this.treestartlevel=null;this.treestate=null;this._cur1font_size=null;this._cur1selectfont_size=null;this._curfont=null;this._curselfont=null;this._curborder=null;this._curpadding=null;this.imagestretch=null;};_pGridCellInfo._getValue=function(_a){return this._getAttrValue(this.text,_a);};_pGridCellInfo._setValue=function(_a,_b){this._setAttrValue(this.text,_a,_b);};_pGridCellInfo.on_update_style_blur=function(){};_pGridCellInfo.on_update_style_glow=function(){};_pGridCellInfo.on_update_style_align=function(){};_pGridCellInfo.on_update_style_cursor=function(){};_pGridCellInfo.on_update_style_shadow=function(){};_pGridCellInfo.on_update_style_opacity=function(){};_pGridCellInfo.on_update_style_margin=function(){};_pGridCellInfo.on_update_style_background=function(){};_pGridCellInfo.on_update_style_background2=function(){};_pGridCellInfo.on_update_style_backgroundimage=function(){};_pGridCellInfo.on_update_style_color=function(){};_pGridCellInfo.on_update_style_color2=function(){};_pGridCellInfo.on_update_style_gradation=function(){};_pGridCellInfo.on_update_style_gradation2=function(){};_pGridCellInfo.on_update_style_line=function(){};_pGridCellInfo.on_update_style_linetype=function(){};_pGridCellInfo.on_update_style_linespace=function(){};_pGridCellInfo.on_update_style_barcolor=function(){};_pGridCellInfo.on_update_style_bardirection=function(){};_pGridCellInfo.on_update_style_bargradation=function(){};_pGridCellInfo.on_update_style_checkboxsize=function(){};_pGridCellInfo.on_update_style_controlaccessibility=function(){};_pGridCellInfo.on_update_style_controlbackground=function(){};_pGridCellInfo.on_update_style_controlbackgroundimagemode=function(){};_pGridCellInfo.on_update_style_controlcolor=function(){};_pGridCellInfo.on_update_style_controlfont=function(){};_pGridCellInfo.on_update_style_controlalign=function(){};_pGridCellInfo.on_update_style_controlimage=function(){};_pGridCellInfo.on_update_style_controlborder=function(){};_pGridCellInfo.on_update_style_controlbordertype=function(){};_pGridCellInfo.on_update_style_controlbuttonsize=function(){};_pGridCellInfo.on_update_style_controlgradation=function(){};_pGridCellInfo.on_update_style_selectbackground=function(){};_pGridCellInfo.on_update_style_selectcolor=function(){};_pGridCellInfo.on_update_style_selectfont=function(){};_pGridCellInfo.on_update_style_selectgradation=function(){};_pGridCellInfo.on_update_style_selectline=function(){};_pGridCellInfo.on_update_style_selectlinetype=function(){};_pGridCellInfo.on_update_style_accessibility=function(){};_pGridCellInfo.on_update_style_bordertype=function(){};_pGridCellInfo.on_update_style_border=function(){};_pGridCellInfo.on_update_style_font=function(){};_pGridCellInfo.on_update_style_letterspace=function(){};_pGridCellInfo.on_update_style_padding=function(){};_pGridCellInfo._getSuppressInfo=function(_a,_b){if(_a==undefined){return this._suppress_infos;}if(_a<0){_a=0;}if(_b&&!this._suppress_infos[_a]){var _c={text_proc:0,border_proc:0,middle:false,last:true};this._suppress_infos[_a]=_c;}return this._suppress_infos[_a];};_pGridCellInfo._clearSuppressInfo=function(){this._suppress_infos=[];};_pGridCellInfo._getDisplaytype=function(_a){var _b=this.displaytype;var _c=this._getAttrValue(_b,_a);if(_c=="normal"){var _d=this.text;if(_d._bindtype==1){var _e=this.grid._binddataset;if(!_e){return "text";}var _f=_d._bindexpr;var _g=_e._getColumnType(_f);switch(_g){case 1:return "text";case 2:case 3:case 4:return "number";case 5:return "date2";case 6:return "time";case 7:return "datetime";default:return "none";}}else{return "text";}}return _c;};_pGridCellInfo._getEdittype=function(_a){var _b=this.edittype;var _c=this._getAttrValue(_b,_a);if(_c=="normal"){var _d=this.text;if(_d._bindtype==1){var _e=this.grid._binddataset;if(!_e){return "text";}var _f=_d._bindexpr;var _g=_e._getColumnType(_f);if(!_g){return "text";}var _h=_g;switch(_h){case 1:case 2:case 3:case 4:return "text";case 5:case 6:case 7:return "date";case 8:return "none";}}else{return "text";}}return _c;};_pGridCellInfo._getWordwrap=function(_a){var _b=this._getAttrValue(this.wordwrap,_a);if(!_b||_b=="none"||_b=="false"){_b=this._getAttrValue(this.parent.cellwordwrap,_a);}if(!_b){_b="none";}return _b;};_pGridCellInfo._getAttrValue=function(_a,_b){return this.parent._getAttrValue(_a,_b,this);};_pGridCellInfo._setAttrValue=function(_a,_b,_c){if(_a._bindtype==1){var _d=this.grid;var _e=_d._binddataset;if(_e){_e.setColumn(_b,_a._bindexpr,_c);}}};_pGridCellInfo._exeExprStyle=function(_a,_b,_c){if(_a&&_a._bindtype!=0){var _d=this.grid;var _e=_d._binddataset;if(_e==null){_a=null;}else{var _f;if(_a._bindtype==1){_f=_e.getColumn(_c,_a._bindexpr);}else{var _g=_a._bindexpr;var _h=_a._value;var _i=_h.toLowerCase().indexOf("bind:");if(_i>=0){_g=_g.substring(_i,_g.length);_g=_e.getColumn(_c,_g);}var _j=_d._exprcache[_g];if(_j==null){_j=_e._createExprFunc(_g);_d._exprcache[_g]=_j;}if((typeof _j)=="function"){this.col=this._col;this.row=this._row;var _k=this.parent;var _l=(_k.bandtype=="body")?_c:_d._rowposition;_f=_j.call(this,_c,_l,_d,_e);if(_f){_f=_f.toString();}}else{_f=_g;}if(_f=="default"){_f="";}}if(_f!=null&&_f!=""){_a=nexacro._getCachedStyleObj(_b,_f);}else{_a=null;}}}return _a;};_pGridCellInfo._resultStyleProc=function(_a,_b,_c,_d,_e,_f,_g){if(_f&&(_c||_g)){this._addStyleCache(_a,_c);}if(_c&&_d&&_d.type==0){_d.type=_c._bindtype;}if(_c&&_c._bindtype>0){var _h=this.grid;var _i="body";if(_e== -1){_i="head";}if(_e== -2){_i="summ";}_h._is_use_bind_expr_style[_i]=true;this._is_use_bind_expr_style=true;switch(_b){case "background":case "backgroundimage":case "border":case "linetype":case "gradation":case "cursor":case "padding":_h._is_use_bind_expr_outerstyle[_i]=true;break;};}return this._exeExprStyle(_c,_b,_e);};_pGridCellInfo._searchStyleValue=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this._stylecache[_b];if(_j!==undefined){if(_j===null){return null;}if(_j&&_h){_h.type=_j._bindtype;}if(_r=this._exeExprStyle(_j,_a,_c)){return _r;}}var _k=this.style;var _l=this.style;var _m=this._styles;var _n=this.parent;var _o=_n.style;var _p=_n._styles;var _q=_n.style;var _r=null;if(_g==undefined){_g=true;}if(_m[_f]){_k=_m[_f];}if(_p[_f]&&!_e){_o=_p[_f];}if(_a=="background"){var _s;if(_e){_s=_k.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_s=_l.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_o.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_s=_q.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_s=this._findcss_ctrl._find_pseudo_obj("selectbackground",_f,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_n._find_gridpseudo_obj("selectbackground",_f,this.celltype,null,true,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}}if(_d&&this.isStyleEmpty(_r)){_s=_k.background2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_s=_l.background2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_o.cellbackground2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_s=_q.cellbackground2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_s=this._findcss_ctrl._find_pseudo_obj("background2",_f,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_n._find_gridpseudo_obj("cellbackground2",_f,this.celltype,null,true,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_s=_k.background;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_s=_l.background;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_o.cellbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_s=_q.cellbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_s=this._findcss_ctrl._find_pseudo_obj("background",_f,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_n._find_gridpseudo_obj("cellbackground",_f,this.celltype,"background",false,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="backgroundimage"){var _t=_k.backgroundimage;_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_t=_l.backgroundimage;_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_t=this._findcss_ctrl._find_pseudo_obj("backgroundimage",_t);_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_t=_n._find_gridpseudo_obj("backgroundimage",_f,this.celltype);_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g,_i);}else{return _r;}}else if(_a=="font"){var _u;if(_e){_u=_k.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_u=_l.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_o.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_u=_q.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_u=this._findcss_ctrl._find_pseudo_obj("selectfont",_f,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_n._find_gridpseudo_obj("selectfont",_f,this.celltype,null,true,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_u=_k.font;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_u=_l.font;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_o.cellfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_u=_q.cellfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_u=this._findcss_ctrl._find_pseudo_obj("font",_f,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_n._find_gridpseudo_obj("cellfont",_f,this.celltype,"font",false,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="letterspace"){var _v;_v=_k.letterspace;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_v=_l.letterspace;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_o.cellletterspace;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_v=_q.cellletterspace;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_v=this._findcss_ctrl._find_pseudo_obj("letterspace",_f,"letterspace");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_n._find_gridpseudo_obj("cellletterspace",_f,this.celltype,"letterspace",false,"letterspace");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g,_i);}else{return _r;}}else if(_a=="color"){var _w;if(_e){_w=_k.selectcolor;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_w=_l.selectcolor;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_o.selectcolor;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_w=_q.selectcolor;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_w=this._findcss_ctrl._find_pseudo_obj("selectcolor",_f,"color");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_n._find_gridpseudo_obj("selectcolor",_f,this.celltype,null,true,"color");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}}if(_d&&this.isStyleEmpty(_r)){_w=_k.color2;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_w=_l.color2;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_o.cellcolor2;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_w=_q.cellcolor2;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_w=this._findcss_ctrl._find_pseudo_obj("color2",_f,"color");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_n._find_gridpseudo_obj("cellcolor2",_f,this.celltype,null,true,"color");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_w=_k.color;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_w=_l.color;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_o.cellcolor;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_w=_q.cellcolor;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_w=this._findcss_ctrl._find_pseudo_obj("color",_f,"color");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_n._find_gridpseudo_obj("cellcolor",_f,this.celltype,"color",false,"color");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="align"){var _x=_k.align;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_x=_l.align;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_x=_o.cellalign;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_x=_q.cellalign;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_x=this._findcss_ctrl._find_pseudo_obj("align",_f,"align");_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_x=_n._find_gridpseudo_obj("cellalign",_f,this.celltype,"align",false,"align");_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g,_i);}else{return _r;}}else if(_a=="border"){var _y;if(_e){_y=_k.selectline;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_y=_l.selectline;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_o.selectline;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_y=_q.selectline;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_y=this._findcss_ctrl._find_pseudo_obj("selectline",_f,"border");_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_n._find_gridpseudo_obj("selectline",_f,this.celltype,"selectline",false,"border");_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_y=_k.line;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_y=_l.line;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_o.cellline;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_y=_q.cellline;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_y=this._findcss_ctrl._find_pseudo_obj("line",_f,"border");_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_n._find_gridpseudo_obj("cellline",_f,this.celltype,"line",false,"border");_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="linetype"){var _z;if(_e){_z=_k.selectlinetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_z=_l.selectlinetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_o.selectlinetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_z=_q.selectlinetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_z=this._findcss_ctrl._find_pseudo_obj("selectlinetype",_f,"linetype");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_n._find_gridpseudo_obj("selectlinetype",_f,this.celltype);_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_z=_k.linetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_z=_l.linetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_o.celllinetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_z=_q.celllinetype;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_z=this._findcss_ctrl._find_pseudo_obj("linetype",_f,"linetype");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_n._find_gridpseudo_obj("celllinetype",_f,this.celltype,"linetype");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="gradation"){var _aa;if(_e){_aa=_k.selectgradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_aa=_l.selectgradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_o.selectgradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_q.selectgradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_aa=this._findcss_ctrl._find_pseudo_obj("selectgradation",_f,"gradation");_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_n._find_gridpseudo_obj("selectgradation",_f,this.celltype,null,true,"gradation");_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}}if(_d&&this.isStyleEmpty(_r)){_aa=_k.gradation2;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_aa=_l.gradation2;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_o.cellgradation2;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_q.cellgradation2;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_aa=this._findcss_ctrl._find_pseudo_obj("gradation2",_f,"gradation");_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_n._find_gridpseudo_obj("cellgradation2",_f,this.celltype,null,true,"gradation");_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_aa=_k.gradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_aa=_l.gradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_o.cellgradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_q.cellgradation;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_aa=this._findcss_ctrl._find_pseudo_obj("gradation",_f,"gradation");_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_n._find_gridpseudo_obj("cellgradation",_f,this.celltype,"gradation",false,"gradation");_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="cursor"){var _ab=_k.cursor;_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_ab=_l.cursor;_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g,_i);}}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_ab=this._findcss_ctrl._find_pseudo_obj("cursor",_f,"cursor");_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_ab=_n._find_gridpseudo_obj("cursor",_f,this.celltype);_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g,_i);}else{return _r;}}else if(_a=="padding"){var _ac=_k.padding;_r=this._resultStyleProc(_b,_a,_ac,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_ac=_l.padding;_r=this._resultStyleProc(_b,_a,_ac,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_ac=_o.cellpadding;_r=this._resultStyleProc(_b,_a,_ac,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_ac=_q.cellpadding;_r=this._resultStyleProc(_b,_a,_ac,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_ac=this._findcss_ctrl._find_pseudo_obj("padding",_f,"padding");_r=this._resultStyleProc(_b,_a,_ac,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_ac=_n._find_gridpseudo_obj("cellpadding",_f,this.celltype,null,true,"padding");_r=this._resultStyleProc(_b,_a,_ac,_h,_c,_g,_i);}else{return _r;}}else if(_a=="linespace"){var _ad=_k.linespace;_r=this._resultStyleProc(_b,_a,_ad,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_ad=_l.linespace;_r=this._resultStyleProc(_b,_a,_ad,_h,_c,_g,_i);}}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_ad=this._findcss_ctrl._find_pseudo_obj("linespace",_f,"linespace");_r=this._resultStyleProc(_b,_a,_ad,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_ad=_n._find_gridpseudo_obj("celllinespace",_f,this.celltype);_r=this._resultStyleProc(_b,_a,_ad,_h,_c,_g,_i);}else{return _r;}}return _r;};_pGridCellInfo._addStyleCache=function(_a,_b){if(!this._stylecache[_a]&&_b!==undefined){this._stylecache[_a]=_b;}};_pGridCellInfo._bkground=null;_pGridCellInfo._query_pseudo_background=function(_a,_b,_c,_d){_c=(this.grid.useselcolor&&_c);var _e=[(_b!=0),_c,_d].join("");var _f="background"+_e;var _g="backgroundimage"+_e;var _h=this._stylecache[_f];var _i=this._stylecache[_g];if(!_h||_h._bindtype>0){_h=this._searchStyleValue("background",_f,_a,_b,_c,_d,true,null,true);}if(!_i||_i._bindtype>0){_i=this._searchStyleValue("backgroundimage",_g,_a,_b,_c,_d,true,null,true);}if(_i&&!_i._is_empty){var _j="";if(_h){_j=_h._value;}var _k=_h.position_x;var _l=_h.position_y;if(this._bkground){delete this._bkground;}_h=this._bkground=new nexacro.Style_background(_j);_h=this.parent._set_backgroundimage(_h,_i._value.toString());_h.position_x=_k;_h.position_y=_l;}return _h;};_pGridCellInfo._query_pseudo_treecontrol=function(_a,_b,_c){var _d="";if(_b=="treecollapseimage"){_d=this._getTreeCollapseImage(_a);}else if(_b=="treeexpandimage"){_d=this._getTreeExpandImage(_a);}else if(_b=="treeitemimage"){_d=this._getTreeItemImage(_a);}if(!_d){var _e=this.grid._find_comp_pseudo_obj(_b,_c);_d=(_e)?_e._value:"";}return _d;};_pGridCellInfo._query_pseudo_control=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this.style;var _k=this.style;var _l=this._styles;var _m=this.grid;var _n=_m.style;var _o;var _p=_d;if(_a._getStyleProp){_p=_a._getStyleProp(_d);}var _q=null;if(_e=="selected"&&!(_a instanceof nexacro.GridControlCombo)){_e="normal";}var _r=[_a._type_name,_c,_d,_e,(_h!=0),(_i==true),(_g!=null)].join("");_o=this._stylecache[_r];if(_o!==undefined){if(_o===null){return null;}if(_q=this._exeExprStyle(_o,_p,_b)){return _q;}}if(_d!="color"&&_d!="font"&&_d!="letterspace"&&_d!="align"){if(_g){_o=_g._find_pseudo_obj(_d,_e,_f);if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);if(!this.isStyleEmpty(_q)){return _q;}}}if(_l[_e]){_j=_l[_e];}if(_c==_d){if(_i){_o=_j["select"+_d];if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}if(this.isStyleEmpty(_q)){if(_h!=undefined&&_h){_o=_j[_d+"2"];}if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}else{return _q;}}if(this.isStyleEmpty(_q)){_o=_j[_c];if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}else{return _q;}if(this.isStyleEmpty(_q)){if(_j!=_k){_o=_k[_c];if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_c,_b);}}else{return _q;}if(this.isStyleEmpty(_q)){if(this.cssclass){_o=this._findcss_ctrl._find_pseudo_obj(_c,_e,_f);if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}}else{return _q;}if(this.isStyleEmpty(_q)){if(_c=="controlalign"){_o=_j.align;if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);if(this.isStyleEmpty(_q)){_o=this.parent.style.cellalign;if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}else{return _q;}if(this.isStyleEmpty(_q)){_o=_n.align;if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}else{return _q;}}}else{return _q;}if(_d=="color"||_d=="font"||_d=="letterspace"||_d=="align"){if(this.isStyleEmpty(_q)){if(_g){_o=_g._find_pseudo_obj(_d,_e,_f);if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}}else{return _q;}}if(this.isStyleEmpty(_q)){_o=_a._find_typedctrl_pseudo_obj(_d,_e,_f);if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}return _q;};_pGridCellInfo.isStyleEmpty=function(_a){if(!_a||(_a._bindtype==0&&_a._is_empty)){return true;}return false;};_pGridCellInfo._query_pseudo_border=function(_a,_b,_c,_d,_e,_f){var _g=this.grid;_b=(_g.useselcolor&&_b);var _h="both";if(this._endcol&&(_g.hideendline=="col"||_g.hideendline=="both")){_h="horz";}if(_a>=0&&((_a+1)==_g._rowcount)&&(_g.hideendline=="col"||_g.hideendline=="row")){if(_h=="horz"){_h="none";}else{_h="vert";}}if(_h=="none"){return null;}if(_d==undefined){_d=0;}var _i="n";if(_d>0){_i="r";}else if(_d<0){_i="c";}var _j=[_b,_h,_c,_i,_e,_f].join("");var _k="linetype"+_j;var _l="line"+_j;var _m="calcborder"+_j;var _n=this._stylecache[_m];if(_n!==undefined){return _n;}var _o={type:0};var _p=this._stylecache[_k];var _q=this._stylecache[_l];if(!_p||_p._bindtype>0){_p=this._searchStyleValue("linetype",_k,_a,false,_b,_c,true,_o,true);}var _r=(_o.type==0)?false:true;if(!_q||_q._bindtype>0){_q=this._searchStyleValue("border",_l,_a,false,_b,_c,true,_o,true);}if(!_r){_r=(_o.type==0)?false:true;}var _s=this.parent;var _t="exvert";if(_p&&!_p._is_empty){if(_p._value=="exhorz"||_p._value=="nocross"){_t="exvert";}else if(_p._value=="onlyhorz"||_p._value=="onlyvert"){_t=_p._value;}}var _u="none";if(_q&&!_q._is_empty){var _v,_w,_x,_y,_z,_aa="0px none transparent";_v=_q._top_width+"px "+((_q.top_style)?_q.top_style:"none")+" "+((_q.top_color)?_q.top_color:"transparent")+" "+_q.top_color2;_w=_q._right_width+"px "+((_q.right_style)?_q.right_style:"none")+" "+((_q.right_color)?_q.right_color:"transparent")+" "+_q.right_color2;_x=_q._bottom_width+"px "+((_q.bottom_style)?_q.bottom_style:"none")+" "+((_q.bottom_color)?_q.bottom_color:"transparent")+" "+_q.bottom_color2;_y=_q._left_width+"px "+((_q.left_style)?_q.left_style:"none")+" "+((_q.left_color)?_q.left_color:"transparent")+" "+_q.left_color2;_v=_v.trim();_w=_w.trim();_x=_x.trim();_y=_y.trim();var _ab=false;if(_g.summarytype=="top"||_g.summarytype=="lefttop"){_ab=true;}if(_e!=null&&_f!=null){if(this._area=="right"){if(_e>1&&this._col>0){_y=_aa;}}else{if(_e-1>this._col){_w=_aa;}}if(_s.id=="summary"&&!_ab){if(_f>1&&this._row>0){_v=_aa;}}else{if(_f-1>this._row){_x=_aa;}}}var _ac=[];if(this._area=="right"){if(_s.id=="summary"&&!_ab){if(_t=="onlyhorz"){_ac=[_v,_aa,_aa,_aa];}else if(_t=="onlyvert"){_ac=[_aa,_aa,_aa,_y];}else{if(_d<0){_ac=[_v,_aa,_aa,_aa];}else{_ac=[_v,_aa,_aa,_y];}}}else{if(_t=="onlyhorz"){if(_d>0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_aa,_x,_aa];}}else if(_t=="onlyvert"){if(_d<0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_aa,_aa,_y];}}else{if(_d>0){_ac=[_aa,_aa,_aa,_y];}else if(_d<0){_ac=[_aa,_aa,_x,_aa];}else{_ac=[_aa,_aa,_x,_y];}}}}else{if(_s.id=="summary"&&!_ab){if(_t=="onlyhorz"){_ac=[_v,_aa,_aa,_aa];}else if(_t=="onlyvert"){_ac=[_aa,_w,_aa,_aa];}else{if(_d<0){_ac=[_v,_aa,_aa,_aa];}else{_ac=[_v,_w,_aa,_aa];}}}else{if(_t=="onlyhorz"){if(_d>0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_aa,_x,_aa];}}else if(_t=="onlyvert"){if(_d<0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_w,_aa,_aa];}}else{if(_d>0){_ac=[_aa,_w,_aa,_aa];}else if(_d<0){_ac=[_aa,_aa,_x,_aa];}else{_ac=[_aa,_w,_x,_aa];}}}}_u=_ac.join(",");}_n=nexacro._getCachedStyleObj("border",_u);if(_r==false){this._addStyleCache(_m,_n);}if((!_p||_p._bindtype==0)&&(!_q||_q._bindtype==0)){if(!_b){this._curborder=_n;}else{this._curselborder=_n;}}else{if(!_b){this._curborder="bindexpr";}else{this._curselborder="bindexpr";}}return _n;};_pGridCellInfo._query_pseudo_gradation=function(_a,_b,_c,_d){_c=(this.grid.useselcolor&&_c);var _e=["gradation",(_b!=0),_c,_d].join("");var _f=this._stylecache[_e];if(!_f||_f._bindtype>0){_f=this._searchStyleValue("gradation",_e,_a,_b,_c,_d,true,null,true);}return _f;};_pGridCellInfo._query_pseudo_cursor=function(_a,_b){var _c=["cursor",_b].join("");var _d=this._stylecache[_c];if(!_d||_d._bindtype>0){_d=this._searchStyleValue("cursor",_c,_a,false,false,_b,true,null,false);}if(!_d||_d._is_empty){_d=nexacro._getCachedStyleObj("cursor","default");this._addStyleCache(_c,_d);}return _d;};_pGridCellInfo._query_pseudo_padding=function(_a,_b){var _c=["padding",_b].join("");var _d=this._stylecache[_c];var _e=this._stylecache[_c];if(!_d||_d._bindtype>0){_d=this._searchStyleValue("padding",_c,_a,false,false,_b,true,null,false);}if(!_d||_d._is_empty){_d=this.grid.on_find_CurrentStyle_padding(_b);this._addStyleCache(_c,_d);}if(!_e||_e._bindtype==0){this._curpadding=_e;}else{this._curpadding="bindexpr";}return _d;};_pGridCellInfo._query_pseudo_linespace=function(_a,_b){var _c=["linespace",_b].join("");var _d=this._stylecache[_c];if(!_d||_d._bindtype>0){_d=this._searchStyleValue("linespace",_c,_a,false,false,_b,true,null,false);}if(_d<0){_d=0;}return _d;};_pGridCellInfo._query_pseudo_font=function(_a,_b,_c){_b=(this.grid.useselcolor&&_b);var _d=["font",_b,_c].join("");var _e=this._stylecache[_d];var _f=this._stylecache[_d];if(!_e||_e._bindtype>0){_e=this._searchStyleValue("font",_d,_a,false,_b,_c,true,null,false);}if(!_e||_e._is_empty){_e=this.grid.on_find_CurrentStyle_font(_c);this._addStyleCache(_d,_e);}if(!_f||_f._bindtype==0){if(!_b){this._curfont=_f;}else{this._curselfont=_f;}}else{if(!_b){this._curfont="bindexpr";}else{this._curselfont="bindexpr";}}return _e;};_pGridCellInfo._query_pseudo_letterspace=function(_a,_b,_c){_b=(this.grid.useselcolor&&_b);var _d=["letterspace",_b,_c].join("");var _e=this._stylecache[_d];if(!_e||_e._bindtype>0){_e=this._searchStyleValue("letterspace",_d,_a,false,_b,_c,true,null,false);}if(!_e||_e._is_empty){_e=this.grid.on_find_CurrentStyle_letterspace(_c);this._addStyleCache(_d,_e);}return _e;};_pGridCellInfo._query_pseudo_color=function(_a,_b,_c,_d){_c=(this.grid.useselcolor&&_c);var _e=["color",(_b!=0),_c,_d].join("");var _f=this._stylecache[_e];if(!_f||_f._bindtype>0){_f=this._searchStyleValue("color",_e,_a,_b,_c,_d,true,null,false);}if(!_f||_f._is_empty){_f=this.grid.on_find_CurrentStyle_color(_d);this._addStyleCache(_e,_f);}return _f;};_pGridCellInfo._query_pseudo_accessibility=function(_a,_b){var _c=this.style;var _d=this._styles;var _e=this.style;var _f=null;var _g=_c.accessibility;var _h=["accessibility",_b].join("");var _i;_i=this._stylecache[_h];_f=this._resultStyleProc(_h,"accessibility",_g,null,_a,true);if(this.isStyleEmpty(_f)){if(_c!=_e){_g=_e.accessibility;_f=this._resultStyleProc(_h,"accessibility",_g,exprbind,_a,usecache);}}else{return _f;}if(this.isStyleEmpty(_f)){if(this.cssclass){_g=this._findcss_ctrl._find_pseudo_obj("accessibility",_b,"accessibility");_f=this._resultStyleProc(_h,"accessibility",_g,null,_a,true);}}else{return _f;}if(this.isStyleEmpty(_f)){_f=nexacro.Component._default_accessibility;}return _f;};_pGridCellInfo._query_pseudo_align=function(_a,_b,_c){var _d=["align",_c,_b].join("");var _e=this._stylecache[_d];if(!_e||_e._bindtype>0){_e=this._searchStyleValue("align",_d,_a,false,false,_c,true,null,false);}if(!_e||_e._is_empty){_e=this.grid.on_find_CurrentStyle_align(_c);if(!_e||_e._is_empty){if(this.celltype=="head"){_e=nexacro._getCachedStyleObj("align","center middle");}else{_e=this._getDefaultAlign(_a,_b);}}this._addStyleCache(_d,_e);}else if(!_e.halign||!_e.valign){var _f=new nexacro.Style_align(_e._value);var _g=this.grid.on_find_CurrentStyle_align(_c);if(!_g||_g._is_empty){if(this.celltype=="head"){_g=nexacro._getCachedStyleObj("align","center middle");}else{_g=this._getDefaultAlign(_a,_b);}}if(!_f.halign){_f.set_halign(_g.halign);}if(!_f.valign){_f.set_valign(_g.valign);}this._addStyleCache(_d,_e);return _f;}return _e;};_pGridCellInfo._getDefaultAlign=function(_a,_b){var _c=null;switch(_b){case "bar":case "normal":var _b=this._getDisplaytype(_a);if(_b=="number"){_c=nexacro._getCachedStyleObj("align","right middle");}else if(_b=="date"||_b=="time"||_b=="datetime"){_c=nexacro._getCachedStyleObj("align","center middle");}else{_c=nexacro._getCachedStyleObj("align","left middle");}break;case "number":case "exponent":case "currency":_c=nexacro._getCachedStyleObj("align","right middle");break;default:_c=nexacro._getCachedStyleObj("align","center middle");break;}return _c;};_pGridCellInfo.set_class=function(_a){if(_a!=this.cssclass){this.cssclass=_a;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_cssclass=function(_a){if(_a!=this.cssclass){this.cssclass=_a;this.grid._clearBindTypeFlag();this._findcss_ctrl.set_cssclass(_a);this._findcss_ctrl._css_finder=null;this._findcss_ctrl._ref_css_finder=null;var _b=this.parent;var _c=_b.bandctrl;var _d=_b.parent;if(_b.bandctrl){_d._clearCellStyleCache(_c.id);_c._refresh_contents(true);}}};_pGridCellInfo.set_style=function(_a){this.grid._clearBindTypeFlag();_a=nexacro._decodeXml(_a);var _b=_a.split("}");var _c=_b[0].trim();var _d=this._styles={};_b.pop();var _e,_f=_b.length;var _g,_h,_i;var _j=this.style;_g=_c.split("{");_i=_g[0].substring(0,_g[0].lastIndexOf(";")+1).trim();if(_i.length==0){_i=_g[0].substring(0,_g[0].length).trim();}_j._setValue(_i);_d["normal"]=_j;var _k=(this.style._value!=_i);if(_k){this.style._setValue(_i);}if(_f>0){for(_e=0;_e<_f;_e++ ){_g=_b[_e].split("{");_h=_g[0].substring(_g[0].lastIndexOf(":")+1).trim();var _l=new nexacro.GridCell_Style(this);_l._setValue(_g[1]);_d[_h]=_l;}}return this.style._value;};_pGridCellInfo.set_displaytype=function(_a){if(_a!=this.displaytype){var _b=this.displaytype._value;this.displaytype._set(_a);this.grid._clearBindTypeFlag();if(_b=="tree"){this.grid._removeTreeCellinfo(this);}if(_a=="tree"){this.grid._setTreeCellinfo(this);}}};_pGridCellInfo.set_edittype=function(_a){if(_a!=this.edittype){this.edittype._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_tooltiptype=function(_a){if(_a!=this.tooltiptype){if(!_a){_a="";}this.tooltiptype=_a;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_tooltiptext=function(_a){if(_a!=this.tooltiptext._value){if(!_a){_a="";}this.tooltiptext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo._getTooltipText=function(_a){var _b=this._getAttrValue(this.tooltiptext,_a);if(!_b||_b==""){var _c=this.parent;_b=_c._getTooltipText(_a);}return _b;};_pGridCellInfo.set_autosizecol=function(_a){var _b="default";switch(_a){case "none":case "limitmin":case "limitmax":_b=_a;}if(_b!=this.autosizecol){this.autosizecol=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_autosizerow=function(_a){var _b="default";switch(_a){case "none":case "limitmin":case "limitmax":case "default":_b=_a;}if(_b!=this.autosizerow){this.autosizerow=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_celltype=function(_a){var _b="none";switch(_a){case "head":case "body":case "summary":_b=_a;}if(_b!=this.celltype){this.celltype=_b;this.grid._clearBindTypeFlag();var _c=this.parent;var _d=_c.bandctrl;var _e=_c.parent;if(_c.bandctrl){_e._clearCellStyleCache(_d.id);_d._refresh_contents(true);}}};_pGridCellInfo.set_displayexpdec=function(_a){if(_a!=this.displayexpdec._value){this.displayexpdec._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_locale=function(_a){if(_a!=this.locale._value){this.locale._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_mask=function(_a){if(_a!=this.mask._value){this.mask._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_maskchar=function(_a){if(!_a){_a="_";}var _b=_a.toString().charAt(0);if(_b!=this.maskchar){this.maskchar=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_suppress=function(_a){if(_a!=this.suppress._value){this.suppress._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_suppressalign=function(_a){if(_a){_a=_a.toString().toLowerCase();}var _b="first";switch(_a){case "first":case "last":case "middle":case "first,over":case "middle,over":case "last,over":_b=_a;}if(_b!=this.suppressalign){this.suppressalign=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_suppressedit=function(_a){_a=_a?true:false;if(_a!=this.suppressedit){this.suppressedit=_a;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_wordwrap=function(_a){var _b=0;if(typeof (_a)=="string"){var _c=_a.toLowerCase();if(_c.indexOf("bind:")>=0||_c.indexOf("bind(")>=0){_b=1;}else if(_c.indexOf("expr:")>=0||_c.indexOf("expr(")>=0){_b=2;}else{_a=_a.toLowerCase();}}if(_b==0&&typeof (_a)!="string"){return;}if(_a!=this.wordwrap._value){this.wordwrap._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_text=function(_a){if(_a!==this.text._value){this.text._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expr=function(_a){if(_a!=this.expr._value){var _b=_a.toString();var _c=_b.substr(0,4).toUpperCase();if(_c!=""&&_c!="EXPR"){_a="EXPR:"+_a;}this.expr._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_subsumtext=function(_a){if(_a!=this.subsumtext._value){this.subsumtext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodataset=function(_a){if(_a!=this.combodataset._value){this.combodataset._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combocodecol=function(_a){if(_a!=this.combocodecol._value){this.combocodecol._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodatacol=function(_a){if(_a!=this.combodatacol._value){this.combodatacol._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplay=function(_a){if(_a!=this.combodisplay._value){this.combodisplay._set_enumval(_a,["edit","display"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplaynulltext=function(_a){if(_a!=this.combodisplaynulltext._value){this.combodisplaynulltext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplaynulltype=function(_a){if(_a!=this.combodisplaynulltype._value){this.combodisplaynulltype._set_enumval(_a,["none","nulltext"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplayrowcount=function(_a){if(_a!=this.combodisplayrowcount._value){this.combodisplayrowcount._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combotype=function(_a){if(_a!=this.combotype._value){this.combotype._set_enumval(_a,["dropdown","search","filter","filterlike"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardisplay=function(_a){if(_a!=this.calendardisplay._value){this.calendardisplay._set_enumval(_a,["edit","display"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardisplaynulltext=function(_a){if(_a!=this.calendardisplaynulltext._value){this.calendardisplaynulltext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardisplaynulltype=function(_a){if(_a!=this.calendardisplaynulltype._value){this.calendardisplaynulltype._set_enumval(_a,["default","none","nulltext","nullmask"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendarinnerdataset=function(_a){if(_a!=this.calendarinnerdataset._value){this.calendarinnerdataset._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendarbackgroundcolumn=function(_a){if(_a!=this.calendarbackgroundcolumn._value){this.calendarbackgroundcolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendarbordercolumn=function(_a){if(_a!=this.calendarbordercolumn._value){this.calendarbordercolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardatecolumn=function(_a){if(_a!=this.calendardatecolumn._value){this.calendardatecolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendartextcolorcolumn=function(_a){if(_a!=this.calendartextcolorcolumn._value){this.calendartextcolorcolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editacceptsenter=function(_a){if(_a!=this.editacceptsenter._value){this.editacceptsenter._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editacceptstab=function(_a){if(_a!=this.editacceptstab._value){this.editacceptstab._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editautoselect=function(_a){if(_a!=this.editautoselect._value){this.editautoselect._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editautoskip=function(_a){if(_a!=this.editautoskip._value){this.editautoskip._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editclipmode=function(_a){if(_a!=this.editclipmode._value){this.editclipmode._set_enumval(_a,["includespace","excludespace"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editdisplay=function(_a){if(_a!=this.editdisplay._value){this.editdisplay._set_enumval(_a,["edit","display"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editfilter=function(_a){if(!_a){return;}var _b=["alpha","upper,number,nosign","alpha,number","alpha,number,nosign","char","digit","integer","lower","lower,char","lower,digit","lower,digit,char","lower,number","lower,number,char","lower,number,nosign","none","number","number,char","upper","upper,char","upper,digit","upper,digit,char","upper,number","upper,number,char","alpha,digit"];var _c=_a.trim().split(",");for(var _f=0,_g=_b.length;_f<_g;_f++ ){var _d=true;var _e=_b[_f].split(",");if(_c.length!=_e.length){continue;}for(var _h=0,_i=_c.length;_h<_i;_h++ ){if(nexacro._indexOf(_b[_f],_c[_h])<0){_d=false;break;}}if(_d==true){_a=_b[_f];break;}}if(_a!=this.editfilter._value){this.editfilter._set_enumval(_a,["alpha","upper,number,nosign","alpha,number","alpha,number,nosign","char","digit","integer","lower","lower,char","lower,digit","lower,digit,char","lower,number","lower,number,char","lower,number,nosign","none","number","number,char","upper","upper,char","upper,digit","upper,digit,char","upper,number","upper,number,char","alpha,digit"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editimemode=function(_a){if(_a!=this.editimemode._value){this.editimemode._set_enumval(_a,["none","alpha","alpha,full","hangul","hangul,full","katakana","katakana,full","hiragana","direct"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editlimit=function(_a){if(_a!=this.editlimit._value){this.editlimit._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editlengthunit=function(_a){if(_a!=this.editlengthunit._value){this.editlengthunit._set_enumval(_a,["utf16","utf8","ascii"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editlimitbymask=function(_a){if(_a!=this.editlimitbymask._value){this.editlimitbymask._set_enumval(_a,["none","integer","decimal","both"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editscrollbar=function(_a){if(_a!=this.editscrollbar._value){this.editscrollbar._set_enumval(_a,["none","autovert","autohorz","autoboth","fixedvert","fixedhorz","fixedboth","alwaysvert","alwayshorz","alwaysboth"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_edittrimtype=function(_a){if(_a!=this.edittrimtype._value){this.edittrimtype._set_enumval(_a,["none","left","right","both"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_edituseime=function(_a){if(_a!=this.edituseime._value){this.edituseime._set_enumval(_a,["global","local","local,keep","none"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandchar=function(_a){if(_a!=this.expandchar._value){this.expandchar._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandimage=function(_a){if(_a!=this.expandimage._value){this.expandimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandshow=function(_a){if(_a!=this.expandshow._value){this.expandshow._set_enumval(_a,["hide","show"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandsize=function(_a){if(_a!=this.expandsize._value){this.expandsize._set_intval(_a);this.grid._clearBindTypeFlag();if(this.celltype=="head"){this.grid._refreshHead();}else if(this.celltype=="body"){this.grid._refreshBody();}else if(this.celltype=="summ"){this.grid._refreshSumm();}}};_pGridCellInfo.set_treecheck=function(_a){if(_a!=this.treecheck._value){this.treecheck._set(_a);this.grid._clearBindTypeFlag();this.grid._initTreeStates();if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}};_pGridCellInfo.set_treecollapseimage=function(_a){if(_a!=this.treecollapseimage._value){this.treecollapseimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_treeexpandimage=function(_a){if(_a!=this.treeexpandimage._value){this.treeexpandimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_treeitemimage=function(_a){if(_a!=this.treeitemimage._value){this.treeitemimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_treeitemmargin=function(_a){};_pGridCellInfo.set_treelevel=function(_a){if(_a!=this.treelevel._value){this.treelevel._set(_a);this.grid._clearBindTypeFlag();this.grid._initTreeStates();if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}};_pGridCellInfo.set_treestartlevel=function(_a){if(_a!=this.treestartlevel._value){this.treestartlevel._set_intval(_a);this.grid._clearBindTypeFlag();this.grid._rootlevel=Math.max(this.treestartlevel._value,this.grid._rootlevel);if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}};_pGridCellInfo.set_treestate=function(_a){if(_a!=this.treestate._value){this.treestate._set(_a);}this.grid._clearBindTypeFlag();this.grid._initTreeStates();var _b=this.grid._getDataRow(this.grid.currentrow);if(this._getEdittype(_b)=="tree"){if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}else{this.grid._refreshBody();}};_pGridCellInfo.set_imagestretch=function(_a){if(_a!=this.imagestretch._value){this.imagestretch._set(_a);}};_pGridCellInfo._getTreeCheck=function(_a){return this._getAttrValue(this.treecheck,_a);};_pGridCellInfo._getTreeCollapseImage=function(_a){return this._getAttrValue(this.treecollapseimage,_a);};_pGridCellInfo._getTreeExpandImage=function(_a){return this._getAttrValue(this.treeexpandimage,_a);};_pGridCellInfo._getTreeItemImage=function(_a){return this._getAttrValue(this.treeitemimage,_a);};_pGridCellInfo._getTreeLevel=function(_a){var _b=this._getAttrValue(this.treelevel,_a);_b=parseInt(_b)|0;return _b;};_pGridCellInfo._getTreeStartLevel=function(_a){var _b=this._getAttrValue(this.treestartlevel,_a);_b=parseInt(_b)|0;return _b;};_pGridCellInfo._getTreeState=function(_a){return this._getAttrValue(this.treestate,_a);};_pGridCellInfo._setTreeCheck=function(_a,_b){return this._setTreeBindValue(this.treecheck,_a,_b);};_pGridCellInfo._setTreeCollapseImage=function(_a,_b){return this._setTreeBindValue(this.treecollapseimage,_a,_b);};_pGridCellInfo._setTreeExpandImage=function(_a,_b){return this._setTreeBindValue(this.treeexpandimage,_a,_b);};_pGridCellInfo._setTreeItemImage=function(_a,_b){return this._setTreeBindValue(this.treeitemimage,_a,_b);};_pGridCellInfo._setTreeLevel=function(_a,_b){return this._setTreeBindValue(this.treelevel,_a,_b);};_pGridCellInfo._setTreeStartLevel=function(_a,_b){return this._setTreeBindValue(this.treestartlevel,_a,_b);};_pGridCellInfo._setTreeState=function(_a,_b){return this._setTreeBindValue(this.treestate,_a,_b);};_pGridCellInfo._setTreeBindValue=function(_a,_b,_c){if(_a._bindtype==1){var _d=this.grid;var _e=_d._binddataset;if(_e){_d._binddataset._treeBindChanged=true;_e.setColumn(_b,_c);}}};_pGridCellInfo._getSuppress=function(_a){return this._getAttrValue(this.suppress,_a);};_pGridCellInfo._getDisplayText=function(_a){var _b=this.displaytype;var _c=this._getAttrValue(_b,_a);if(_c=="normal"){var _d=this.text;if(_d._bindtype==1){var _e=this.grid._binddataset;if(!_e){return "text";}var _f=_d._bindexpr;var _g=_e._getColumnType(_f);switch(_g){case 1:return this._getDisplayText_text(_a);case 2:case 3:case 4:return this._getDisplayText_number(_a);case 5:return this._getDisplayText_date2(_a);case 6:return this._getDisplayText_time(_a);case 7:return this._getDisplayText_datetime(_a);default:return this._getDisplayText_none(_a);}}else{return this._getDisplayText_text(_a);}}else{if(_c=="text"){return this._getDisplayText_text(_a);}else if(_c=="exponent"){return this._getDisplayText_exponent(_a);}else if(_c=="number"){return this._getDisplayText_number(_a);}else if(_c=="currency"){return this._getDisplayText_currency(_a);}else if(_c=="image"){return this._getDisplayText_image(_a);}else if(_c=="date"){return this._getDisplayText_date(_a);}else if(_c=="combo"){return this._getDisplayText_combo(_a);}else if(_c=="button"){return this._getDisplayText_button(_a);}else if(_c=="bar"){return this._getDisplayText_bar(_a);}else if(_c=="checkbox"){return this._getDisplayText_checkbox(_a);}else if(_c=="tree"){return this._getDisplayText_tree(_a);}else if(_c=="none"){return this._getDisplayText_none(_a);}}return this._getDisplayText_text(_a);};_pGridCellInfo._getTextValueForDisp=function(_a){if(this.expr._value!=""){return this._getAttrValue(this.expr,_a);}return this._getAttrValue(this.text,_a);};_pGridCellInfo._getDisplayText_text=function(_a){var _b=this._getTextValueForDisp(_a);if(_b==undefined){_b="";}else{_b=_b.toString();}var _c=this._getAttrValue(this.mask,_a);if(_c&&_c.length){this._org_val="";_b=this.__applyMask(_b,_c,this.maskchar);_b=this.__remove_apostrophe(_b,_c);}return _b;};_pGridCellInfo.__find_idx_dot=function(_a,_b){this._idx_dot= -1;var _c=_a.length;for(var _e=0;_e<_b;_e++ ){var _d=_a.charAt(_e);if(_d=="."){this._idx_dot=_e;break;}}if(this._idx_dot== -1&&_b<_c){for(var _e=_b;_e<_c;_e++ ){var _d=_a.charAt(_e);if(_d=='.'){this._idx_dot=_e;break;}}}};_pGridCellInfo._m_idx_dot= -1;_pGridCellInfo._m_idx_decimal= -1;_pGridCellInfo._m_hascomma=false;_pGridCellInfo._m_haszero=false;_pGridCellInfo.__get_info_mask=function(_a){var _b=_a;var _c=_b.length;this._m_idx_dot= -1;this._m_idx_decimal= -1;this._m_hascomma=false;this._m_haszero=false;for(var _e=0;_e<_c;_e++ ){var _d=_b.charAt(_e);if(_d=="."){if(this._m_idx_dot!= -1){break;}this._m_idx_dot=_e;}else if(_d=="0"||_d=="9"||_d=="#"){this._m_idx_decimal=_e;if(_d=="0"){this._m_haszero=true;}}else if(_d==","){this._m_hascomma=true;}}};_pGridCellInfo.__get_view_zeromask=function(_a){var _b=_a.length;var _c=_a.indexOf(".");var _d=0;var _e=0;var _f=0;var _g= -1;var _h=_b;if(_c>=0){_h=_c;}for(var _k=0;_k<_h;_k++ ){var _i=_a.charAt(_k);if(_i=="9"){_g=_k;}}for(_k=_h-1;_k>=0;_k-- ){var _i=_a.charAt(_k);if(_i=="0"&&(_e==0||_g<_k)){_e++ ;}else if(_e>0&&_i=="#"){_e++ ;}else if(_i=="9"&&_e>0&&_g<=_k){_e++ ;}}var _j="";for(_k=_b-1;_k>_c,_c!= -1;_k-- ){var _i=_a.charAt(_k);if((_k==_c)&&(_i==".")){break;}if(_i=="0"||(_f>0&&(_i=="#"||_i=="9"))){_f++ ;}_j=_i;}return {integer:_e,decimal:_f,nineidx:_g};};_pGridCellInfo.__make_text_zeromask=function(_a,_b){var _c=_a=_a.toString();var _d=_b.length;var _e=_a.length;this.__get_info_mask(_b);this.__find_idx_dot(_a,_e);var _f=_b.trim();var _g=_f.indexOf("%");var _h="";if(_g>=0){_b=_b.replace("%","");_h="%";}var _i=this.__get_view_zeromask(_b);var _j=0;var _k=0;if(this._org_val==undefined){_c="";_e=0;}var _l=this._idx_dot;_j=(_l== -1)?_e:_l;var _m="";if(this._org_val!=undefined){var _n=false;var _o=false;var _p=(this._m_idx_dot>=0)?this._m_idx_dot:_d;for(var _x=_p-1;_x>=0;_x-- ){var _q=_b.charAt(_x);if(_q=="#"){_n=true;break;}}if(this._org_val==0){_o=true;}if(_n){var _r=false;for(var _x=0;_x<_j;_x++ ){var _s=_a.charAt(_x);if(_s=="0"&&!_r){_m+="";_r=false;}else{_m+=_s;_r=true;}}}else{_m=_a.substring(0,_j);}var _t=_m.length;if(_o){var _u=_e;for(var _x=_e-1;_x>=_l;_x-- ){var _s=_a.charAt(_x);if(_s!="0"){_u=_x;break;}}_m+=_a.substring(_l,_u+1);}else{_m+=_a.substring(_j);}_c=_m;_j=_t;}var _v=_j;for(_x=0;_x<_i.integer-_j;_x++ ){_c="0"+_c;_v++ ;}if(this._m_idx_dot!= -1){if(this._idx_dot== -1&&_i.decimal>0&&(this._m_idx_dot!=undefined&&this._m_idx_dot!= -1)){_c+=".";}_e=_c.length;this.__find_idx_dot(_c,_e);_k=0;if(this._idx_dot!= -1){_k=_e-this._idx_dot-1;}for(_x=0;_x<_i.decimal-_k;_x++ ){_c=_c+"0";}}if(_i.nineidx> -1){if(_i.nineidx>=_v){var _w=_i.nineidx-_v+1;_c=_c.padLeft(_w+_c.length,"0");}}_a=_c;if(_g==0){_a=_h+_a;}else{_a+=_h;}return _a;};_pGridCellInfo.__remove_apostrophe=function(_a,_b){var _c=_b.length;var _d=_a.length;var _e="";var _f=0;for(var _i=0;_i<_c;_i++ ,_f++ ){var _g=_b.charAt(_i);var _h=_a.charAt(_f);if(_g=="'"){for(var _j=_i+1;_j<_c;_j++ ,_f++ ){_g=_b.charAt(_j);if(_g=="'"){_i=_j;_f=_j;break;}else{_e+=_g;}}}else if(_g=="\\"){_g=_b.charAt(_i+1);if(_g=="\'"){_e+=_g;_i++ ;}else{_e+=_h;}}else{_e+=_h;}}return _e;};_pGridCellInfo.__update_dot_display=function(_a,_b){var _c=_a;this.__get_info_mask(_b);this.__find_idx_dot(_a,0);var _d=_a.length;if(this._m_idx_dot!=undefined&&this._m_idx_dot!= -1&&this._idx_dot!= -1){var _e=_b.length-this._m_idx_dot-1;var _f=_d-this._idx_dot-1;if(_e!=_f){if(_f==0){_c=_a.substring(0,this._idx_dot);}else{_c=_a.substring(0,this._idx_dot+_e+1);}}}return _c;};_pGridCellInfo.__update_empty_decimal=function(_a){this.__find_idx_dot(_a,0);var _b=_a;var _c=_a.length;if(this._m_idx_dot!=undefined&&this._m_idx_dot!= -1&&this._idx_dot!= -1){var _d=_c-this._idx_dot-1;if(_d==0){_b=_a.substring(0,this._idx_dot);}}else if(this._m_idx_dot!=undefined&&this._m_idx_dot== -1&&this._idx_dot!= -1){_b=_a.substring(0,this._idx_dot);}return _b;};_pGridCellInfo.__applyMask=function(_a,_b,_c){var _d="";var _e=_a.length;var _f=_b.length;var _g=0;var _h=0;var _i=true;var _j=false;var _k=false;var _l=false;for(var _o=0;_o<_f;_o++ ){var _m=_b.charAt(_o);if(this.__isMask(_m)||_m=="\\"||_m=="\""||_m=="\'"){if(_m=="{"){_j=true;continue;}else if(_m=="}"){_j=false;continue;}else if(_m=="\\"&&_k==false){_k=true;continue;}if(_k){_k=false;_d+=_m;continue;}if(_m=="\'"&&_l==false){_l=true;_d+=_c;continue;}if(_l){if(_m=="\'"){_d+=_c;_l=false;}else{_d+=_m;}continue;}if(_h<_e){while(_h<_e){var _n=_a.charAt(_h++ );_i=this.__testMask(_n,_m);if(_n==" "&&this.editclipmode._value=="includespace"){_d+=_c;break;}if(_i){if(_j){_d+="*";}else{_d+=_n;}break;}}}else{_d+=_c;}}else{_d+=_m;}}for(_o=0;_o<_g;_o++ ){_d+=_c;}return _d;};_pGridCellInfo.__isMask=function(_a){return (_a=="@"||_a=="#"||_a=="*"||_a=="9"||_a=="A"||_a=="a"||_a=="Z"||_a=="z"||_a=="}"||_a=="{");};_pGridCellInfo._maskRegexMap={"@":/[\u0020-\u00ff]/,"#":/[0-9]/,"*":/[a-zA-Z]/,"9":/[a-zA-Z0-9]/,"A":/[A-Z]/,"a":/[a-z]/,"Z":/[A-Z0-9]/,"z":/[a-z0-9]/};_pGridCellInfo.__testMask=function(_a,_b){var _c=this._maskRegexMap[_b];return (_c)?_c.test(_a):(_a==_b);};_pGridCellInfo._getDisplayText_exponent=function(_a){var _b=this._getTextValueForDisp(_a);return (_b)?_b.toString():"";};_pGridCellInfo._org_val=null;_pGridCellInfo._getDisplayText_number=function(_a){var _b=this._getTextValueForDisp(_a);var _c=this._getAttrValue(this.locale,_a);var _d=this._getAttrValue(this.mask,_a);var _e=this._getPureNumberMask(_d);var _f=_e.pure_mask;var _g=false;if(!_c&&this.grid){_c=this.grid._getLocale();}if(_f==undefined){_f="";}this._org_val=_b;if(_b==undefined){_b="";}var _h=this.grid._masknumber_api;if(!_h){_h=this.grid._masknumber_api=new nexacro.EditMaskNumber(null);}_h._setLocale(_c);_h.setDisplayMask(_f);if(!_f&&(_b instanceof nexacro.Decimal||_b instanceof nexacro.Number)){_b=_b.toLocaleString(_c);_g=true;}else{_b=_b.toString();}if(!isNaN(_b)){_b=_h.removeMask(_b,true);}var _i=_h.normalizeValue(_b,true,true);if(_g||(!_f&&isNaN(_i))){_h._dispComma=false;}var _j=_h.makeDisplayText(_i,_g);var _k=this.__get_view_zeromask(_f);if(_k.nineidx> -1){var _l=this._org_val;if((_l==undefined||_l.length<=0)&&_k.decimal<=0){_j="";for(var _m=0;_m<_k.integer;_m++ ){_j+="0";}}else if(_l=="0"&&_k.decimal==0&&_k.integer==0){_j="0";}}_j=_e.pre_str+_j+_e.post_str;return _j;};_pGridCellInfo._getPureNumberMask=function(_a){var _b,_c= -1,_d="",_e="",_f="",_g=_a?_a.length:0;for(var _h=0;_h<_g;_h++ ){_b=_a.charAt(_h);switch(_a.charAt(_h)){case "+":case "-":case "0":case "9":case "#":case "!":case ",":if(_f==""){_e+=_b;}else{_f+=_b;}break;case ".":if(_f==""){if(_c<0){_c=_h;_e+=_b;}}else{_f+=_b;}break;default:if(_e==""){_d+=_b;}else{_f+=_b;}break;}}return {"pre_str":_d,"pure_mask":_e,"post_str":_f};};_pGridCellInfo._getDisplayText_currency=function(_a){var _b=this._getTextValueForDisp(_a);var _c=this._getAttrValue(this.locale,_a);if(!_c&&this.grid){_c=this.grid._getLocale();}if(!isNaN(_b)){var _d=new nexacro.Number(_b);_b=_d.toLocaleCurrencyString(_c);}return _b;};_pGridCellInfo._getDisplayText_image=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_date=function(_a,_b){var _c=this.grid._binddataset;if(_c&&_c.getRowCount()<=_a){return "";}var _d=this._getTextValueForDisp(_a);var _e=undefined;var _f=0;var _g=false;var _h=false;var _i=this._getAttrValue(this.mask,_a);_d=(_d)?_d:"";if(_d.constructor==nexacro.Date){_e=_d;}else{var _j=_d.toString();for(var _ao=0,_ap=_j.length;_ao<_ap;_ao++ ){if(_j.charAt(_ao)!=" "){_f=1;break;}}if(_f==1){if(_b==undefined){if(!_i&&_j.length<=6){_b=0;}else if(!_i&&_j.length<=8){_b=2;}else{_b=1;}}var _k=false;if(_b==0){_k=true;}else{if(_i&&_i.length>0&&_i!="SHORTDATE"&&_i!="LONGDATE"){_k=true;var _l=this.grid.controlcalendar;for(var _ao=0,_aq=_i.length;_ao<_aq;_ao++ ){if(_l._isDateMaskString(_i.charAt(_ao))){_k=false;break;}}}if(_b==1){if(_k&&_j.length>9){_k=false;}_d._timecheck=true;}_e=this.__parseDate(_j,_b,_a,_k);}}else{if(_b==1){_d._timecheck=true;}if(this.calendardisplaynulltype._value=="nulltext"){return this._getAttrValue(this.calendardisplaynulltext,_a);}else if(this.calendardisplaynulltype._value=="nullmask"){_g=true;}else if(this.calendardisplaynulltype._value=="default"){}else{return "";}}}if(_e==null){_h=true;_e=new nexacro.Date();_e.setFullYear(0);_e.setMonth(0);_e.setDate(1);}var _m;var _n=this._getAttrValue(this.locale,_a);if(!_n&&this.grid){_n=this.grid._getLocale();}if(_i=="SHORTDATE"||_i=="LONGDATE"){var _o=nexacro.Locale.getLocaleInfo(_n);var _p="";if(_i=="SHORTDATE"){_p=_o.shortdate_format;}else{_p=_o.longdate_format;}if(_p==""){_p=nexacro.Locale._default_shortdate_format;}var _q=(!this.grid._isRtl()&&_o.direction=="rtl")?true:false;_m=_e.getLocaleFormatString(_n,_p,_q);}else{var _r=_e.getFullYear();if(_r==0){_r="0000";}else{var _s=_r+"";if(_s.length==1){_r="000"+_s;}else if(_s.length==2){_r="00"+_s;}else if(_s.length==3){_r="0"+_s;}}var _t=this.grid._getDisplayCalendarCtrl();var _o=nexacro.Locale.getLocaleInfo(_n);_t._monthlistS=_o.month_names_short;var _u=_t._monthlistS[_e.getMonth()];var _v=_e.getMonth()+1;_v=(_v<10?"0":"")+_v;_t._datelistL=_o.weekday_names_long;_t._datelistS=_o.weekday_names_short;var _w=_t._datelistS[_e.getDay()];var _x=_t._datelistL[_e.getDay()];var _y=_e.getDate();_y=(_y<10?"0":"")+_y;var _z=_e.getYear()%100;var _aa= +_v;var _ab= +_y;var _ac=_e.getHours();_ac=(_ac<10?"0":"")+_ac;var _ad= +_ac;var _ae=_e.getMinutes();_ae=(_ae<10?"0":"")+_ae;var _af= +_ae;var _ag=_e.getSeconds();_ag=(_ag<10?"0":"")+_ag;var _ah= +_ag;if(_h){_ac=_ad="00";_ae=_af="00";_ag=_ah="00";}var _p=_i;if(_p==null||_p.length==0||!_p.match(/[yMdHhms]/)){_p="yyyy-MM-dd";}if(_g){var _ai=this.maskchar;var _aj=_ai+_ai;var _ak=_aj+_ai;var _al=_ak+_ai;_m=_p.replace("yyyy",_al);_m=_m.replace("MMM",_ak);_m=_m.replace("MM",_aj);_m=_m.replace("dddd","weekL");_m=_m.replace("ddd","week");_m=_m.replace("dd",_aj);_m=_m.replace("yy",_aj);_m=_m.replace("M",_ai);_m=_m.replace("d",_ai);_m=_m.replace("tt",_aj);_m=_m.replace("HH",_aj);_m=_m.replace("hh",_aj);_m=_m.replace("H",_ai);_m=_m.replace("h",_ai);_m=_m.replace("mm",_aj);_m=_m.replace("m",_ai);_m=_m.replace("ss",_aj);_m=_m.replace("s",_ai);_m=_m.replace("weekL",_al);_m=_m.replace("week",_ak);}else{_m=_p.replace("yyyy",_r);_m=_m.replace("MMM",_u);_m=_m.replace("MM",_v);_m=_m.replace("dddd","weekL");_m=_m.replace("ddd","week");_m=_m.replace("dd",_y);if(_m.indexOf("yy")>=0){_m=_m.replace("yy",_z);_m=_m.replace("M",_aa);_m=_m.replace("d",_ab);}var _am=_ac;var _an="오전";if(_ac>12&&_ac<25){_am=_ac<22?"0"+(_ac-12):_ac-12;_an="오후";}_m=_m.replace("tt",_an);_m=_m.replace("HH",_ac);_m=_m.replace("hh",_am);_m=_m.replace("H",_ad);_m=_m.replace("h",_ad);_m=_m.replace("mm",_ae);_m=_m.replace("m",_af);_m=_m.replace("ss",_ag);_m=_m.replace("s",_ah);_m=_m.replace("weekL",_x);_m=_m.replace("week",_w);}}return _m;};_pGridCellInfo._getDisplayText_date2=function(_a){return this._getDisplayText_date(_a,2);};_pGridCellInfo._getDisplayText_datetime=function(_a){return this._getDisplayText_date(_a,1);};_pGridCellInfo._getDisplayText_time=function(_a){return this._getDisplayText_date(_a,0);};_pGridCellInfo.__parseDate=function(_a,_b,_c,_d){var _e;switch(_b){case 0:_e=/(\d{6})/;break;case 1:_e=/(\d{14})/;break;default:_e=/(\d{8})/;break;}if(_e.test(_a)==false){var _f=this._getAttrValue(this.mask,_c);if(_f&&_f.length){var _g=new nexacro.CalendarCtrl("tempcal","absolute",0,0,0,0,null,null,this);_g.set_dateformat(_f);_g.set_editformat(_f);_a=_g._makeDateObj(_a);if(_a._timeonly){_a=_a.toString();_a="19000101"+_a;_d=false;}else{_a=_a.toString();}delete _g;}else{return undefined;}}var _h=new nexacro.Date();if(_b>0&&!_d){var _i= +_a.substring(0,4);var _j= +_a.substring(4,6);var _k= +_a.substring(6,8);if(_b==1){var _l= +_a.substring(8,10);var _m= +_a.substring(10,12);var _n= +_a.substring(12,14);}else{var _l=0;var _m=0;var _n=0;}}else{var _i=1900;var _j=1;var _k=1;var _l= +_a.substring(0,2);var _m= +_a.substring(2,4);var _n= +_a.substring(4,6);}_h.setHours(_l,_m,_n);_h.setFullYear(_i,_j-1,_k);return _h;};_pGridCellInfo._getDisplayText_combo=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getAttrValue(this.combodataset,_a);var _d=this._getAttrValue(this.combocodecol,_a);var _e=this._getAttrValue(this.combodatacol,_a);if(_c&&_c.length&&_d&&_d.length&&_e&&_e.length){var _f=this.parent;var _g=_f.parent;var _h;var _i=this._getTextValueForDisp(_a);var _j;_h=_g._findDataset(_c);if(_h){_j=_h._lookupRaw(_d,_i,_e);}if(_j){return _j.toString();}}if(this.combodisplaynulltype._value=="nulltext"){var _i=this._getAttrValue(this.combodisplaynulltext,_a);return _i;}return "";};_pGridCellInfo._getDisplayText_button=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_bar=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_checkbox=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_tree=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_none=function(_a){return "";};delete _pGridCellInfo;nexacro.GridBandInfo=function(_a,_b,_c,_d){this.id=this.name=_a;this.parent=_c;this.grid=_d;this.bandtype=_b;this.style=new nexacro.GridBand_Style(this);this._styles={};this.tooltiptext=new nexacro.BindableValue("");this.cellwordwrap=new nexacro.BindableValue("none");this.bandctrl=null;this._noborder=false;this._add_style_pseudo=[];};var _pGridBandInfo=nexacro._createPrototype(nexacro.Object,nexacro.GridBandInfo);nexacro.GridBandInfo.prototype=_pGridBandInfo;_pGridBandInfo._type_name="GridBandInfo";_pGridBandInfo.classname="";_pGridBandInfo.grid=null;_pGridBandInfo.bandtype="";_pGridBandInfo.tooltiptext="";_pGridBandInfo.tooltiptype="none";_pGridBandInfo.destroy=function(){this.parent=null;this.grid=null;this.bandctrl=null;if(this.style){delete this.style;this.style=null;}if(this._styles){var _a=this._styles;for(var _c in _a){var _b=_a[_c];if(_b.destroy){_b.destroy();_b=null;}}this._styles=null;}this.tooltiptext=null;this.cellwordwrap=null;this._add_style_pseudo=null;};_pGridBandInfo._find_gridpseudo_obj=function(_a,_b,_c,_d,_e,_f){if(this.bandctrl){obj=this.bandctrl._find_pseudo_obj(_a,_b,_f,_c);if(obj==null&&!_e){obj=this.grid._find_pseudo_obj(_a,_b,_f);}}else{obj=this.grid._find_pseudo_obj(_a,_b,_f);}if(_d&&(obj==null||obj._is_empty)&&!_e){obj=this.grid._find_pseudo_obj(_d,_b,_f);}return obj;};_pGridBandInfo._query_pseudo_background=function(_a){var _b=this.style;if(_b.background&&!_b.background._is_empty){return _b.background;}if(this.grid){return this._find_gridpseudo_obj("background",_a,null,null,true,"background");}return null;};_pGridBandInfo._query_pseudo_border=function(_a){var _b=this.style;if(_b.border&&!_b.border._is_empty){if(_b.border.top.width==0){this._noborder=true;}return _b.border;}var _c=this._find_gridpseudo_obj("border",_a,null,null,true,"border");if(_c==null||_c.top.width==0){this._noborder=true;}return _c;};_pGridBandInfo._query_pseudo_bordertype=function(_a){var _b=this.style;if(_b.bordertype&&!_b.bordertype._is_empty){return _b.bordertype;}if(this.grid){return this._find_gridpseudo_obj("bordertype",_a,null,null,true,"bordertype");}return null;};_pGridBandInfo._query_pseudo_gradation=function(_a,_b,_c,_d){var _e=this.style;if(_e.gradation&&!_e.gradation._is_empty){return _e.gradation;}if(this.grid){return this._find_gridpseudo_obj("gradation",_d,null,null,true,"gradation");}return null;};_pGridBandInfo._set_backgroundimage=function(_a,_b){_b=_b.toString();if(_b.length>=5){if(_b.substring(0,3).toLowerCase()=="url"){var _c=_b.substr(4,1);if(_c=='\''||_c=='\"'){_b=_b.substring(5,_b.length-2);}else{_b=_b.substring(4,_b.length-1);}}else if(_b.substring(0,5).toLowerCase()!="theme"){var _d=nexacro._checkBase64String(_b);if(_d){if(_b.substring(0,10).toLowerCase()!="data:image"){_b="data:image;base64,"+_b;}else if(_b.substring(0,17).toLowerCase()!="data:image;base64"){var _e=_b.indexOf(",");if(_e> -1){var _f=_b.slice(_e+1,_b.legnth);_b="data:image;base64,"+_f;}}}}}if(_b!=_a.image){_a.set_image(_b);}return _a;};_pGridBandInfo.set_class=function(_a){if(_a!=this.cssclass){this.cssclass=_a;if(this.bandctrl){this.bandctrl.set_class(_a);this.grid._clearBindTypeFlag();}}};_pGridBandInfo.set_id=function(_a){};_pGridBandInfo.set_cssclass=function(_a){if(_a!=this.cssclass){this.cssclass=_a;if(this.bandctrl){this.bandctrl.set_cssclass(_a);this.grid._clearBindTypeFlag();}}};_pGridBandInfo.set_style=function(_a){this.grid._clearBindTypeFlag();_a=nexacro._decodeXml(_a);var _b=_a.split("}");var _c=_b[0].trim();var _d=this._styles={};this._add_style_pseudo=[];_b.pop();var _e,_f=_b.length;var _g,_h,_i;var _j=this.style;_g=_c.split("{");_i=_g[0].substring(0,_g[0].lastIndexOf(";")+1).trim();if(_i.length==0){_i=_g[0].substring(0,_g[0].length).trim();}_j._setValue(_i);_d["normal"]=_j;if(this.bandctrl){_d["normal"]._target=this.bandctrl;}this._add_style_pseudo.push("normal");var _k=(this.style._value!=_i);if(_k){this.style._setValue(_i);}if(_f>0){for(_e=0;_e<_f;_e++ ){_g=_b[_e].split("{");_h=_g[0].substring(_g[0].lastIndexOf(":")+1).trim();var _l=new nexacro.GridBand_Style(this);_l._setValue(_g[1]);_d[_h]=_l;if(this.bandctrl){_d[_h]._target=this.bandctrl;}this._add_style_pseudo.push(_h);}}return this.style._value;};_pGridBandInfo._changeStyleTarget=function(_a){var _b=this.style;var _c=this._styles;var _d=this._add_style_pseudo;var _e=_d.length;_b._target=_a;for(var _f=0;_f<_e;_f++ ){_b=_c[_d[_f]];_b._target=_a;}};_pGridBandInfo.set_tooltiptype=function(_a){if(_a!=this.tooltiptype){this.tooltiptype=_a;this.grid._clearBindTypeFlag();}};_pGridBandInfo.set_tooltiptext=function(_a){if(_a!=this.tooltiptext._value){this.tooltiptext._set(_a);this.grid._clearBindTypeFlag();if(this.bandctrl){this.bandctrl.on_apply_prop_tooltip();}}};_pGridBandInfo._getTooltipText=function(_a){var _b=this._getAttrValue(this.tooltiptext,_a);if(!_b&&_b==""){_b=this.grid.tooltiptext;if(!_b){_b="";}}return _b;};_pGridBandInfo.set_cellwordwrap=function(_a){var _b=0;if(typeof (_a)=="string"){var _c=_a.toLowerCase();if(_c.indexOf("bind:")>=0||_c.indexOf("bind(")>=0){_b=1;}else if(_c.indexOf("expr:")>=0||_c.indexOf("expr(")>=0){_b=2;}else{_a=_a.toLowerCase();}}if(_b==0&&typeof (_a)!="string"){return;}if(_a!=this.cellwordwrap._value){this.cellwordwrap._set(_a);this.grid._clearBindTypeFlag();if(this.bandctrl){this.bandctrl.on_apply_wordwrap();}}};_pGridBandInfo._getAttrValue=function(_a,_b,_c){if(_a==undefined){return undefined;}if(_a._bindtype==undefined){return _a;}else if(_a._bindtype==0){return _a._value;}else{var _d=this.grid;var _e=_d._binddataset;if(_e==null){return undefined;}if(_a._bindtype==1){return _e.getColumn(_b,_a._bindexpr);}else{var _f=_a._bindexpr;var _g=_a._value;var _h=_g.toLowerCase().indexOf("bind:");if(_h>=0){_f=_f.substring(_h,_f.length);_f=_e.getColumn(_b,_f);}var _i=_d._exprcache[_f];if(_i==null){_i=_e._createExprFunc(_f);_d._exprcache[_f]=_i;}if((typeof _i)=="function"){if(_c){_c.col=_c._col;_c.row=_c._row;var _j=(this.bandtype=="body")?_b:_d._rowposition;return _i.call(_c,_b,_j,_d,_e);}else{return _i.call(this,_b,_b,_d,_e);}}}}return undefined;};_pGridBandInfo._setAttrValue=function(_a,_b,_c){if(_a._bindtype==1){var _d=this.grid;var _e=_d._binddataset;if(_e){_e.setColumn(_b,_a._bindexpr,_c);}}};delete _pGridBandInfo;nexacro.GridFormat=function(_a,_b){this.id=_a;this.grid=this.parent=_b;this._cols=[];this._headrows=null;this._bodyrows=null;this._summrows=null;this._headband=null;this._summband=null;this._bodyband=null;this._headcells=null;this._summcells=null;this._bodycells=null;this.leftWidth=0;this.rightWidth=0;this.bodyWidth=0;this._orgleftWidth=0;this._orgrightWidth=0;this._orgbodyWidth=0;this.endbodycol=0;this.startrightcol= -1;this.headHeight=0;this.summHeight=0;this.bodyHeight=0;this._formatElem=null;this._formatElemOrg=null;this._innerdatasets={};this._innerdatasets_name=[];};var _pGridFormat=nexacro._createPrototype(nexacro.Object,nexacro.GridFormat);nexacro.GridFormat.prototype=_pGridFormat;_pGridFormat._type_name="GridFormat";_pGridFormat._findDataset=function(_a){if(this._innerdatasets[_a]){return this._innerdatasets[_a];}var _b=this.grid._findDataset(_a);if(_b){_b._setEventHandler("onvaluechanged",this._on_updateInnerDs,this);_b._setEventHandler("onrowsetchanged",this._on_updateInnerDs,this);this._innerdatasets[_a]=_b;this._innerdatasets_name.push(_a);}return _b;};_pGridFormat._on_updateInnerDs=function(_a,_b){if(this.grid){this.grid._on_useInnerDsCells(_a,_b);}};_pGridFormat.destroy=function(){if(this._headband){this._headband.destroy();this._headband=null;}if(this._summband){this._summband.destroy();this._summband=null;}if(this._bodyband){this._bodyband.destroy();this._bodyband=null;}if(this._headcells){var _a=this._headcells;var _b=_a.length;for(var _e=0;_e<_b;_e++ ){_a[_e].destroy();}this._headcells=null;}if(this._summcells){var _a=this._summcells;var _b=_a.length;for(var _e=0;_e<_b;_e++ ){_a[_e].destroy();}this._summcells=null;}if(this._bodycells){var _a=this._bodycells;var _b=_a.length;for(var _e=0;_e<_b;_e++ ){_a[_e].destroy();}this._bodycells=null;}this._headrows=null;this._bodyrows=null;this._summrows=null;this._formatElem=null;this._formatElemOrg=null;this._cols=null;this.grid=null;this.parent=null;for(var _e=0,_f=this._innerdatasets_name.length;_e<_f;_e++ ){var _c=this._innerdatasets_name[_e];var _d=this._innerdatasets[_c];_d._removeEventHandler("onvaluechanged",this._on_updateInnerDs,this);_d._removeEventHandler("onrowsetchanged",this._on_updateInnerDs,this);this._innerdatasets[_c]=null;}this._innerdatasets_name=null;this._innerdatasets=null;};_pGridFormat._clearCellStyleCache=function(_a,_b){var _c=this.grid;_c._clearBindTypeFlag();_a=_a.toLowerCase();var _d;if(_a=="head"){_d=this._headcells;_c._is_use_bind_expr_style["head"]=false;_c._is_use_bind_expr_outerstyle["head"]=false;}else if(_a=="summ"||_a=="summary"){_d=this._summcells;_c._is_use_bind_expr_style["summ"]=false;_c._is_use_bind_expr_outerstyle["summ"]=false;}else{_d=this._bodycells;_c._is_use_bind_expr_style["body"]=false;_c._is_use_bind_expr_outerstyle["body"]=false;}if(_d){if(_b>0){_d[_b]._stylecache={};_d[_b]._is_use_bind_expr_style=false;var _e=_d[_b]._subcells;for(var _f=0,_g=_e.length;_f<_g;_f++ ){_e[_f]._stylecache={};_e[_f]._is_use_bind_expr_style=false;}}else{for(var _f=0,_h=_d.length;_f<_h;_f++ ){_d[_f]._stylecache={};_d[_f]._is_use_bind_expr_style=false;var _e=_d[_f]._subcells;for(var _i=0,_g=_e.length;_i<_g;_i++ ){_e[_i]._stylecache={};_e[_i]._is_use_bind_expr_style=false;}}}}};_pGridFormat._resetOrgColSize=function(_a,_b){if(this._cols){var _c=this._cols;var _d=this._cols.length;var _e,_f,_g;_e=_f=_g=0;if(!_b.length){for(var _i=0;_i<_d;_i++ ){_c[_i].size=_c[_i].orgsize;_c[_i].left=_c[_i].orgleft;_c[_i].right=_c[_i].orgright;if(_c[_i]._area=="left"){_e+=_c[_i].size;}else if(_c[_i]._area=="right"){_g+=_c[_i].size;}else{_f+=_c[_i].size;}}}else{var _h=0;for(var _i=0;_i<_d;_i++ ){if(_c[_i]._area=="left"){_e+=_c[_i].size;continue;}else if(_c[_i]._area=="right"){_g+=_c[_i].size;continue;}_c[_i].size=Math.round(_b[_i]*this._orgbodyWidth);_c[_i].left=_h;_c[_i].right=_h+_c[_i].size;_h=_c[_i].right;_f+=_c[_i].size;}}}if(_a){this.leftWidth=_e;this.rightWidth=_g;this._bodyWidth=this.bodyWidth=_f;}else{this.leftWidth=this._orgleftWidth;this.rightWidth=this._orgrightWidth;this._bodyWidth=this.bodyWidth=this._orgbodyWidth;}};_pGridFormat._rearrangeCols=function(){var _a=this._cols;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].orgidx=_c;}};_pGridFormat._addLeftColumn=function(_a){var _b=this.leftWidth+_a;var _c=this._orgleftWidth+_a;var _d={size:_a,left:this.leftWidth,right:_b,_area:"left",orgsize:_a,orgleft:this._orgleftWidth,orgright:_c};var _e=this._getColFixCnt("left");this._cols.splice(_e,0,_d);this.leftWidth=_b;this._orgleftWidth=_c;return _d;};_pGridFormat._addRightColumn=function(_a){var _b=this.rightWidth+_a;var _c=this._orgrightWidth+_a;var _d={size:_a,left:this.rightWidth,right:_b,_area:"right",orgsize:_a,orgleft:this._orgrightWidth,orgright:_c};this._cols.push(_d);this.rightWidth=_b;this._orgrightWidth=_c;return _d;};_pGridFormat._addBodyColumn=function(_a){var _b=this.bodyWidth+_a;var _c=this._orgbodyWidth+_a;var _d={size:_a,left:this.bodyWidth,right:_b,_area:"body",orgsize:_a,orgleft:this._orgbodyWidth,orgright:_c};var _e=this._getColFixCnt("left");var _f=this._getColFixCnt("body");this._cols.splice(_e+_f,0,_d);this.endbodycol=this._cols.length;this._bodyWidth=this.bodyWidth=_b;this._orgbodyWidth=_c;return _d;};_pGridFormat._insertLeftColumn=function(_a,_b){var _c=this.leftWidth+_a;var _d=this._orgleftWidth+_a;if(_b>=this._cols.length){return this._addLeftColumn(_a);}var _e=this._cols[_b];var _f=0;var _g=0;if(_e){_f=_e.left;_g=_e.orgleft;}var _h=_f+_a;var _i=_g+_a;var _j={size:_a,left:_f,right:_h,_area:"left",orgsize:_a,orgleft:_g,orgright:_i};this._cols.splice(_b,0,_j);this.leftWidth=_c;this._orgleftWidth=_d;this._adjustFormatColSize();return _j;};_pGridFormat._insertRightColumn=function(_a,_b){var _c=this.rightWidth+_a;var _d=this._orgrightWidth+_a;if(_b>=this._cols.length){return this._addRightColumn(_a);}var _e=this._cols[_b];var _f=0;var _g=0;if(_e){_f=_e.left;_g=_e.orgleft;}var _h=_f+_a;var _i=_g+_a;var _j={size:_a,left:_f,right:_h,_area:"right",orgsize:_a,orgleft:_g,orgright:_i};this._cols.splice(_b,0,_j);this.rightWidth=_c;this._orgrightWidth=_d;this._adjustFormatColSize();return _j;};_pGridFormat._insertBodyColumn=function(_a,_b){var _c=this.bodyWidth+_a;var _d=this._orgbodyWidth+_a;if(_b>=this._cols.length){return this._addBodyColumn(_a);}var _e=this._cols[_b];var _f=0;var _g=0;if(_e){_f=_e.left;_g=_e.orgleft;}var _h=_f+_a;var _i=_g+_a;var _j={size:_a,left:_f,right:_h,_area:"body",orgsize:_a,orgleft:_g,orgright:_i};this._cols.splice(_b,0,_j);this.endbodycol=this._cols.length;this._bodyWidth=this.bodyWidth=_c;this._orgbodyWidth=_d;this._adjustFormatColSize();return _j;};_pGridFormat._moveColumn=function(_a,_b,_c,_d,_e){var _f=this._cols[_a];var _g=_f._area;var _h=_f.left;var _i=_f.right;if(!_f||_a==_b){return false;}if(_a<_b){_b+=(_d-1);}var _j=this._cols[_b];switch(_e){case "col":break;case "col,band":if(_f._area!=_j._area){return false;}break;case "col,merge":case "col,line":default:return false;}_f._area=_j._area;this._cols.splice(_a,1);this._cols.splice(_b,0,_f);if(_a>_b){for(var _k=_b;_k<_a;_k++ ){this._cols[_k].left=this._cols[_k+1].left;this._cols[_k].right=this._cols[_k+1].right;}}else{for(var _k=_b;_k>_a;_k-- ){this._cols[_k].left=this._cols[_k-1].left;this._cols[_k].right=this._cols[_k-1].right;}}this._cols[_a].left=_h;this._cols[_a].right=_i;this._adjustFormatColSize();this._moveContentsCol("body",this._bodycells,_a,_b);this._moveContentsCol("head",this._headcells,_a,_b);this._moveContentsCol("summ",this._summcells,_a,_b);this._bodycells=this._reIndexCells(this._bodycells,this._bodyrows);this._headcells=this._reIndexCells(this._headcells,this._headrows);this._summcells=this._reIndexCells(this._summcells,this._summrows);this._updateFormatStr();return true;};_pGridFormat._addHeadRow=function(_a){if(this._headrows==null){this._headrows=[];}var _b=this.headHeight+_a;var _c={size:_a,top:this.headHeight,bottom:_b,_area:"head",orgsize:_a,orgtop:this.headHeight,orgbottom:_b};this._headrows.push(_c);this.headHeight=_b;return _c;};_pGridFormat._addSummRow=function(_a){if(this._summrows==null){this._summrows=[];}var _b=this.summHeight+_a;var _c={size:_a,top:this.summHeight,bottom:_b,_area:"summ",orgsize:_a,orgtop:this.summHeight,orgbottom:_b};this._summrows.push(_c);this.summHeight=_b;return _c;};_pGridFormat._addBodyRow=function(_a){if(this._bodyrows==null){this._bodyrows=[];}var _b=this.bodyHeight+_a;var _c={size:_a,top:this.bodyHeight,bottom:_b,_area:"body",orgsize:_a,orgtop:this.bodyHeight,orgbottom:_b};this._bodyrows.push(_c);this._body_height=this.bodyHeight=_b;return _c;};_pGridFormat._insertHeadRow=function(_a,_b){var _c={size:_b,top:0,bottom:_b,_area:"head",orgsize:_b,orgtop:0,orgbottom:_b};if(this._headrows==null||this._headrows.length==0){this._headrows=[];this._headrows.push(_c);}else{if(_a>0){if(this._headrows.length<_a){_a=this._headrows.length;}_c.top=this._headrows[_a-1].bottom;_c.bottom=_c.top+_b;}this._headrows.splice(_a,0,_c);}this.headHeight+=_b;this._adjustFormatRowSize(this._headrows);return _c;};_pGridFormat._insertSummRow=function(_a,_b){var _c={size:_b,top:0,bottom:_b,_area:"summ",orgsize:_b,orgtop:0,orgbottom:_b};if(this._summrows==null||this._summrows.length==0){this._summrows=[];this._summrows.push(_c);}else{if(_a>0){if(this._summrows.length<_a){_a=this._summrows.length;}_c.top=this._summrows[_a-1].bottom;_c.bottom=_c.top+_b;}this._summrows.splice(_a,0,_c);}this.summHeight+=_b;this._adjustFormatRowSize(this._summrows);return _c;};_pGridFormat._insertBodyRow=function(_a,_b){var _c={size:_b,top:0,bottom:_b,_area:"body",orgsize:_b,orgtop:0,orgbottom:_b};if(this._bodyrows==null||this._bodyrows.length==0){this._bodyrows=[];this._bodyrows.push(_c);}else{if(_a>0){if(this._bodyrows.length<_a){_a=this._bodyrows.length;}_c.top=this._bodyrows[_a-1].bottom;_c.bottom=_c.top+_b;}else{_a=0;}this._bodyrows.splice(_a,0,_c);}this.bodyHeight+=_b;this._body_height=this.bodyHeight;this._adjustFormatRowSize(this._bodyrows);return _c;};_pGridFormat._addHeadCell=function(_a){if(this._headcells==null){this._headcells=[];}return this._addCell(this._headcells,_a);};_pGridFormat._addSummCell=function(_a){if(this._summcells==null){this._summcells=[];}return this._addCell(this._summcells,_a);};_pGridFormat._addBodyCell=function(_a){if(this._bodycells==null){this._bodycells=[];}return this._addCell(this._bodycells,_a);};_pGridFormat._addCell=function(_a,_b){var _c=this._cols[_b._col];if(_c){_b._area=_c._area;_a.push(_b);return _b;}return undefined;};_pGridFormat._insertHeadCell=function(_a,_b,_c){if(this._headcells==null){this._headcells=[];}return this._insertCell(this._headcells,_a,_b,_c);};_pGridFormat._insertSummCell=function(_a,_b,_c){if(this._summcells==null){this._summcells=[];}return this._insertCell(this._summcells,_a,_b,_c);};_pGridFormat._insertBodyCell=function(_a,_b,_c){if(this._bodycells==null){this._bodycells=[];}return this._insertCell(this._bodycells,_a,_b,_c);};_pGridFormat._insertCell=function(_a,_b,_c,_d){var _e=this._cols[_b._col];if(_e){var _f=_a.length;var _g;var _h;for(var _i=0;_i<_f;_i++ ){_g=_a[_i];if(_g._col==_c&&_g._row==_d){_h=_i;}if(_g._col>=_c&&_g._row==_d){_g._col++ ;}}_b._area=_e._area;_a.splice(_h!=undefined?_h:_a.length,0,_b);return _b;}return undefined;};_pGridFormat._arrayCopy=function(_a){function cloneObj(_c){var _d={};for(var _e in _c){if(_c.hasOwnProperty(_e)){_d[_e]=_c[_e];}}return _d;};var _b=[];for(var _c=0,_d=_a.length;_c<_d;_c++ ){_b[_c]=cloneObj(_a[_c]);}return _b;};_pGridFormat._getFormatStr=function(){return nexacro._documentToXml(this._formatElem);};_pGridFormat._getOrgFormatStr=function(){return nexacro._documentToXml(this._formatElemOrg);};_pGridFormat._updateFormatStr=function(){if(!this.grid.enableredraw){return;}var _a=0;var _b=0;var _c=0;var _d=0;var _e=this._cols;var _f=this._headrows;var _g=this._bodyrows;var _h=this._summrows;var _i=this._headcells;var _j=this._bodycells;var _k=this._summcells;var _l=this._headband;var _m=this._bodyband;var _n=this._summband;if(_e&&_e.length){_c=_e.length;}var _o;if(_c>0){_o="<Format id=\""+this.id+"\">\n";_o+="<Columns>\n";{for(_b=0;_b<_c;_b++ ){if(_e[_b]._area!="body"){_o+="<Column size=\""+_e[_b].size+"\" band=\""+_e[_b]._area+"\"/>\n";}else{_o+="<Column size=\""+_e[_b].size+"\"/>\n";}}}_o+="</Columns>\n";_o+="<Rows>\n";{if(_f){var _p=_f.length;for(var _b=0;_b<_p;_b++ ){_o+="<Row band=\"head\" size=\""+_f[_b].size+"\"/>\n";}}if(_g){var _q=_g.length;for(var _b=0;_b<_q;_b++ ){_o+="<Row band=\"body\" size=\""+_g[_b].size+"\"/>\n";}}if(_h){var _r=_h.length;for(var _b=0;_b<_r;_b++ ){_o+="<Row band=\"summ\" size=\""+_h[_b].size+"\"/>\n";}}}_o+="</Rows>\n";function _makeCellstr(_u){var _v=_u.length;for(var _b=0;_b<_v;_b++ ){_o+="<Cell col=\""+_u[_b]._col;_o+="\" row=\""+_u[_b]._row;if(_u[_b]._colspan>1){_o+="\" colspan=\""+_u[_b]._colspan;}if(_u[_b]._rowspan>1){_o+="\" rowspan=\""+_u[_b]._rowspan;}if(_u[_b].displaytype._value&&_u[_b].displaytype._value.length){_o+="\" displaytype=\""+nexacro._encodeXml(_u[_b].displaytype._value);}if(_u[_b].edittype._value&&_u[_b].edittype._value.length&&_u[_b].edittype._value!="none"){_o+="\" edittype=\""+nexacro._encodeXml(_u[_b].edittype._value);}if(_u[_b].text._value&&_u[_b].text._value.length){_o+="\" text=\""+nexacro._encodeXml(_u[_b].text._value);}if(_u[_b].style._value&&_u[_b].style._value.length){_o+="\" style=\""+nexacro._encodeXml(_u[_b].style._value);}if(_u[_b].tooltiptext._value&&_u[_b].tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_u[_b].tooltiptext._value);}if(_u[_b].tooltiptype&&_u[_b].tooltiptype.length&&_u[_b].tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_u[_b].tooltiptype);}if(_u[_b].displayexpdec._value>=0){_o+="\" displayexpdec=\""+_u[_b].displayexpdec._value;}if(_u[_b].locale._value&&_u[_b].locale._value.length){_o+="\" locale=\""+nexacro._encodeXml(_u[_b].locale._value);}if(_u[_b].mask._value&&_u[_b].mask._value.length){_o+="\" mask=\""+nexacro._encodeXml(_u[_b].mask._value);}if(_u[_b].maskchar&&_u[_b].maskchar.length&&_u[_b].maskchar!="_"){_o+="\" maskchar=\""+nexacro._encodeXml(_u[_b].maskchar);}if(_u[_b].suppress._value!=0){_o+="\" suppress=\""+_u[_b].suppress._value;}if(_u[_b].suppressalign&&_u[_b].suppressalign.length&&_u[_b].suppressalign!="first"){_o+="\" suppressalign=\""+nexacro._encodeXml(_u[_b].suppressalign);}if(_u[_b].suppressedit==true){_o+="\" suppressedit=\""+_u[_b].suppressedit;}if(_u[_b].wordwrap!="none"&&_u[_b].wordwrap!="false"&&_u[_b].wordwrap!=false){_o+="\" wordwrap=\""+nexacro._encodeXml(_u[_b].wordwrap._value);}if(_u[_b].expr._value&&_u[_b].expr._value.length){_o+="\" expr=\""+nexacro._encodeXml(_u[_b].expr._value);}if(_u[_b].subsumtext._value&&_u[_b].subsumtext._value.length){_o+="\" subsumtext=\""+nexacro._encodeXml(_u[_b].subsumtext._value);}if(_u[_b].calendardisplay._value&&_u[_b].calendardisplay._value.length&&_u[_b].calendardisplay._value!="edit"){_o+="\" calendardisplay=\""+nexacro._encodeXml(_u[_b].calendardisplay._value);}if(_u[_b].calendardisplaynulltext._value&&_u[_b].calendardisplaynulltext._value.length){_o+="\" calendardisplaynulltext=\""+nexacro._encodeXml(_u[_b].calendardisplaynulltext._value);}if(_u[_b].calendardisplaynulltype._value&&_u[_b].calendardisplaynulltype._value.length&&_u[_b].calendardisplaynulltype._value!="default"){_o+="\" calendardisplaynulltype=\""+nexacro._encodeXml(_u[_b].calendardisplaynulltype._value);}if(_u[_b].combodataset._value&&_u[_b].combodataset._value.length){_o+="\" combodataset=\""+nexacro._encodeXml(_u[_b].combodataset._value);}if(_u[_b].combocodecol._value&&_u[_b].combocodecol._value.length){_o+="\" combocodecol=\""+nexacro._encodeXml(_u[_b].combocodecol._value);}if(_u[_b].combodatacol._value&&_u[_b].combodatacol._value.length){_o+="\" combodatacol=\""+nexacro._encodeXml(_u[_b].combodatacol._value);}if(_u[_b].combodisplay._value&&_u[_b].combodisplay._value.length&&_u[_b].combodisplay._value!="edit"){_o+="\" combodisplay=\""+nexacro._encodeXml(_u[_b].combodisplay._value);}if(_u[_b].combodisplaynulltext._value&&_u[_b].combodisplaynulltext._value.length){_o+="\" combodisplaynulltext=\""+nexacro._encodeXml(_u[_b].combodisplaynulltext._value);}if(_u[_b].combodisplaynulltype._value&&_u[_b].combodisplaynulltype._value.length&&_u[_b].combodisplaynulltype._value!="none"){_o+="\" combodisplaynulltype=\""+nexacro._encodeXml(_u[_b].combodisplaynulltype._value);}if(_u[_b].combodisplayrowcount._value>=0&&_u[_b].combodisplayrowcount._value!=5){_o+="\" combodisplayrowcount=\""+_u[_b].combodisplayrowcount._value;}if(_u[_b].combotype._value&&_u[_b].combotype._value.length&&_u[_b].combotype._value!="dropdown"){_o+="\" combotype=\""+nexacro._encodeXml(_u[_b].combotype._value);}if(_u[_b].editacceptsenter._value==true){_o+="\" editacceptsenter=\""+_u[_b].editacceptsenter._value;}if(_u[_b].editacceptstab._value==true){_o+="\" editacceptstab=\""+_u[_b].editacceptstab._value;}if(_u[_b].editautoselect._value==true){_o+="\" editautoselect=\""+_u[_b].editautoselect._value;}if(_u[_b].editautoskip._value==true){_o+="\" editautoskip=\""+_u[_b].editautoskip._value;}if(_u[_b].editclipmode._value&&_u[_b].editclipmode._value.length&&_u[_b].editclipmode._value!="includespace"){_o+="\" editclipmode=\""+nexacro._encodeXml(_u[_b].editclipmode._value);}if(_u[_b].editdisplay._value&&_u[_b].editdisplay._value.length&&_u[_b].editdisplay._value!="edit"){_o+="\" editdisplay=\""+nexacro._encodeXml(_u[_b].editdisplay._value);}if(_u[_b].editfilter._value&&_u[_b].editfilter._value.length&&_u[_b].editfilter._value!="none"){_o+="\" editfilter=\""+nexacro._encodeXml(_u[_b].editfilter._value);}if(_u[_b].editimemode._value&&_u[_b].editimemode._value.length&&_u[_b].editimemode._value!="none"){_o+="\" editimemode=\""+nexacro._encodeXml(_u[_b].editimemode._value);}if(_u[_b].editlimit._value>=0){_o+="\" editlimit=\""+_u[_b].editlimit._value;}if(_u[_b].editlimitbymask._value&&_u[_b].editlimitbymask._value.length&&_u[_b].editlimitbymask._value!="decimal"){_o+="\" editlimitbymask=\""+nexacro._encodeXml(_u[_b].editlimitbymask._value);}if(_u[_b].editscrollbar._value&&_u[_b].editscrollbar._value.length&&_u[_b].editscrollbar._value!="none"){_o+="\" editscrollbar=\""+nexacro._encodeXml(_u[_b].editscrollbar._value);}if(_u[_b].edittrimtype._value&&_u[_b].edittrimtype._value.length&&_u[_b].edittrimtype._value!="none"){_o+="\" edittrimtype=\""+nexacro._encodeXml(_u[_b].edittrimtype._value);}if(_u[_b].edituseime._value&&_u[_b].edituseime._value.length&&_u[_b].edituseime._value!="global"){_o+="\" edituseime=\""+nexacro._encodeXml(_u[_b].edituseime._value);}if(_u[_b].treecheck._value&&_u[_b].treecheck._value.length){_o+="\" treecheck=\""+nexacro._encodeXml(_u[_b].treecheck._value);}if(_u[_b].treecollapseimage._value&&_u[_b].treecollapseimage._value.length){_o+="\" treecollapseimage=\""+nexacro._encodeXml(_u[_b].treecollapseimage._value);}if(_u[_b].treeexpandimage._value&&_u[_b].treeexpandimage._value.length){_o+="\" treeexpandimage=\""+nexacro._encodeXml(_u[_b].treeexpandimage._value);}if(_u[_b].treeitemimage._value&&_u[_b].treeitemimage._value.length){_o+="\" treeitemimage=\""+nexacro._encodeXml(_u[_b].treeitemimage._value);}if(_u[_b].treelevel._value&&_u[_b].treelevel._value.length){_o+="\" treelevel=\""+nexacro._encodeXml(_u[_b].treelevel._value);}if(_u[_b].treestartlevel._value>0){_o+="\" treestartlevel=\""+_u[_b].treestartlevel._value;}if(_u[_b].treestate._value&&_u[_b].treestate._value.length){_o+="\" treestate=\""+nexacro._encodeXml(_u[_b].treestate._value);}if(_u[_b].expandchar._value&&_u[_b].expandchar._value.length){_o+="\" expandchar=\""+nexacro._encodeXml(_u[_b].expandchar._value);}if(_u[_b].expandimage._value&&_u[_b].expandimage._value.length){_o+="\" expandimage=\""+nexacro._encodeXml(_u[_b].expandimage._value);}if(_u[_b].expandshow._value&&_u[_b].expandshow._value.length&&_u[_b].expandshow._value!="hide"){_o+="\" expandshow=\""+nexacro._encodeXml(_u[_b].expandshow._value);}if(_u[_b].expandsize>=0&&_u[_b].expandsize!=_u[_b]._default_expandsize){_o+="\" expandsize=\""+_u[_b].expandsize._value;}if(_u[_b].autosizecol&&_u[_b].autosizecol.length&&_u[_b].autosizecol!="default"){_o+="\" autosizecol=\""+nexacro._encodeXml(_u[_b].autosizecol);}if(_u[_b].autosizerow&&_u[_b].autosizerow.length&&_u[_b].autosizerow!="default"){_o+="\" autosizerow=\""+nexacro._encodeXml(_u[_b].autosizerow);}if(_u[_b].celltype._value&&_u[_b].celltype._value.length&&_u[_b].celltype._value!="none"){_o+="\" celltype=\""+nexacro._encodeXml(_u[_b].celltype._value);}if(_u[_b].cssclass&&_u[_b].cssclass.length){_o+="\" cssclass=\""+nexacro._encodeXml(_u[_b].cssclass);}var _w=_u[_b]._subcells;var _x=_w.length;if(_x>0){_o+="\">\n";_makeCellstr(_w);_o+="</Cell>\n";}else{_o+="\"/>\n";}}}if(_f){_o+="<Band id=\"head";if(_l.style._value.length){_o+="\" style=\""+nexacro._encodeXml(_l.style._value);}if(_l.tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_l.tooltiptext._value);}if(_l.tooltiptype.length&&_l.tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_l.tooltiptype);}if(_l.cellwordwrap._value!="none"){_o+="\" cellwordwrap=\""+nexacro._encodeXml(_l.cellwordwrap._value);}_o+="\">\n";_makeCellstr(_i);_o+="</Band>\n";}if(_g){_o+="<Band id=\"body";if(_m.style._value.length){_o+="\" style=\""+nexacro._encodeXml(_m.style._value);}if(_m.tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_m.tooltiptext._value);}if(_m.tooltiptype.length&&_m.tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_m.tooltiptype);}if(_m.cellwordwrap._value!="none"){_o+="\" cellwordwrap=\""+nexacro._encodeXml(_m.cellwordwrap._value);}_o+="\">\n";_makeCellstr(_j);_o+="</Band>\n";}if(_h){_o+="<Band id=\"summary";if(_n.style._value.length){_o+="\" style=\""+nexacro._encodeXml(_n.style._value);}if(_n.tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_n.tooltiptext._value);}if(_n.tooltiptype.length&&_n.tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_n.tooltiptype);}if(_n.cellwordwrap._value!="none"){_o+="\" cellwordwrap=\""+nexacro._encodeXml(_n.cellwordwrap._value);}_o+="\">\n";_makeCellstr(_k);_o+="</Band>\n";}_o+="</Format>\n";}else{_o="<Format id=\""+this.id+"\"></Format>\n";}var _s=nexacro._parseXMLDocument(_o);var _t=_s.getElementsByTagName("Format");if(_t){this._formatElem=_t[0];}return _o;};_pGridFormat._loadFromDOM=function(_a){var _b,_c,_d,_e,_f,_g,_h;var _i,_j,_k,_l,_m,_n,_o,_p,_q;var _r,_s,_t,_u;this._formatElemOrg=_a.cloneNode(true);var _v=_a.getElementsByTagName("Column");_d=_v.length;if(_d==0){_v=_a.getElementsByTagName("Col");_d=_v.length;}var _w=0;this._formatElem=_a;for(_b=0;_b<_d;_b++ ){var _x=_v[_b];_f=_x.getAttribute("band");_g=_x.getAttribute("size");if(_w==0&&_f=="left"){this._addLeftColumn(parseInt(_g,10));}else if(_w==2||_f=="right"){this._addRightColumn(parseInt(_g,10));_w=2;}else{this._addBodyColumn(parseInt(_g,10));_w=1;}}this._bodyWidth=this.bodyWidth;this._rearrangeCols();var _y=_a.getElementsByTagName("Row");_d=_y.length;for(_b=0;_b<_d;_b++ ){var _z=_y[_b];_f=_z.getAttribute("band");_g=_z.getAttribute("size");if(_f=="head"){this._addHeadRow((parseInt(_g)|0));}else if(_f=="summ"){this._addSummRow((parseInt(_g)|0));}else{this._addBodyRow((parseInt(_g)|0));}}this._body_height=this.bodyHeight;var _aa=_a.getElementsByTagName("Band");_d=_aa.length;for(_b=0;_b<_d;_b++ ){_t=_aa[_b];_h=_t.getAttribute("id");if(_h=="head"){if(this._headband==null){this._headband=new nexacro.GridBandInfo("head","head",this,this.parent);}_r=this._headband;}else if(_h=="summary"){if(this._summband==null){this._summband=new nexacro.GridBandInfo("summary","summ",this,this.parent);}_r=this._summband;}else{_h="body";if(this._bodyband==null){this._bodyband=new nexacro.GridBandInfo("body","body",this,this.parent);}_r=this._bodyband;}_q=_t.getAttribute("style");if(_q){_r.set_style(_q);}_q=_t.getAttribute("tooltiptext");if(_q){_r.set_tooltiptext(_q);}_q=_t.getAttribute("tooltiptype");if(_q){_r.set_tooltiptype(_q);}_q=_t.getAttribute("cellwordwrap");if(_q){_r.set_cellwordwrap(_q);}var _ab=_t.getElementsByTagName("Cell");_e=_ab.length;var _ac=null;var _ad=0;var _ae= -1;var _af=0;for(_c=0;_c<_e;_c++ ){if(_ad>0){_s=new nexacro.GridCellInfo(_h+_ae+"_sub"+_af,_r,this.parent,_h,_af);}else{_ae++ ;_s=new nexacro.GridCellInfo(_h+_ae,_r,this.parent,_h,_ae);}_u=_ab[_c];_i=_u.getAttribute("col");_m=_u.getAttribute("row");_k=_u.getAttribute("colspan");_o=_u.getAttribute("rowspan");_j=(_i==null?0:parseInt(_i));_n=(_m==null?0:parseInt(_m));var _ag=_u.getElementsByTagName("Cell");var _ah=0;if(_h=="head"&&this._headrows){_ah=this._headrows.length;}else if(_h=="summary"&&this._summrows){_ah=this._summrows.length;}else if(_h=="body"&&this._bodyrows){_ah=this._bodyrows.length;}if(_n>=_ah){delete _s;continue;}_l=(_k==null?1:parseInt(_k));_p=(_o==null?1:parseInt(_o));_s._col=_j;_s._colspan=_l;_s._row=_n;_s._rowspan=_p;_s._endcol=((_j+_l)==this.endbodycol);_q=_u.getAttribute("displaytype");if(_q){_s.set_displaytype(_q);}_q=_u.getAttribute("edittype");if(_q){_s.set_edittype(_q);}_q=_u.getAttribute("style");if(_q){_s.set_style(_q);}_q=_u.getAttribute("tooltiptext");if(_q){_s.set_tooltiptext(_q);}_q=_u.getAttribute("tooltiptype");if(_q){_s.set_tooltiptype(_q);}_q=_u.getAttribute("displayexpdec");if(_q){_s.set_displayexpdec(_q);}_q=_u.getAttribute("locale");if(_q){_s.set_locale(_q);}_q=_u.getAttribute("mask");if(_q){_s.set_mask(_q);}_q=_u.getAttribute("maskchar");if(_q){_s.set_maskchar(_q);}_q=_u.getAttribute("suppress");if(_q){_s.set_suppress(_q);}_q=_u.getAttribute("suppressalign");if(_q){_s.set_suppressalign(_q);}_q=_u.getAttribute("suppressedit");if(_q){_s.set_suppressedit(_q);}_q=_u.getAttribute("wordwrap");if(_q){_s.set_wordwrap(_q);}_q=_u.getAttribute("expr");if(_q){_s.set_expr(_q);}_q=_u.getAttribute("text");if(_q){_s.set_text(_q);}_q=_u.getAttribute("subsumtext");if(_q){_s.set_subsumtext(_q);}_q=_u.getAttribute("calendardisplay");if(_q){_s.set_calendardisplay(_q);}_q=_u.getAttribute("calendardisplaynulltext");if(_q){_s.set_calendardisplaynulltext(_q);}_q=_u.getAttribute("calendardisplaynulltype");if(_q){_s.set_calendardisplaynulltype(_q);}_q=_u.getAttribute("combodataset");if(_q){_s.set_combodataset(_q);}_q=_u.getAttribute("combocodecol");if(_q){_s.set_combocodecol(_q);}_q=_u.getAttribute("combodatacol");if(_q){_s.set_combodatacol(_q);}_q=_u.getAttribute("combodisplay");if(_q){_s.set_combodisplay(_q);}_q=_u.getAttribute("combodisplaynulltext");if(_q){_s.set_combodisplaynulltext(_q);}_q=_u.getAttribute("combodisplaynulltype");if(_q){_s.set_combodisplaynulltype(_q);}_q=_u.getAttribute("combodisplayrowcount");if(_q){_s.set_combodisplayrowcount(_q);}_q=_u.getAttribute("combotype");if(_q){_s.set_combotype(_q);}_q=_u.getAttribute("editacceptsenter");if(_q){_s.set_editacceptsenter(_q);}_q=_u.getAttribute("editacceptstab");if(_q){_s.set_editacceptstab(_q);}_q=_u.getAttribute("editautoselect");if(_q){_s.set_editautoselect(_q);}_q=_u.getAttribute("editautoskip");if(_q){_s.set_editautoskip(_q);}_q=_u.getAttribute("editclipmode");if(_q){_s.set_editclipmode(_q);}_q=_u.getAttribute("editdisplay");if(_q){_s.set_editdisplay(_q);}_q=_u.getAttribute("editfilter");if(_q){_s.set_editfilter(_q);}_q=_u.getAttribute("editimemode");if(_q){_s.set_editimemode(_q);}_q=_u.getAttribute("editlimit");if(_q){_s.set_editlimit(_q);}_q=_u.getAttribute("editlengthunit");if(_q){_s.set_editlengthunit(_q);}_q=_u.getAttribute("editlimitbymask");if(_q){_s.set_editlimitbymask(_q);}_q=_u.getAttribute("editscrollbar");if(_q){_s.set_editscrollbar(_q);}_q=_u.getAttribute("edittrimtype");if(_q){_s.set_edittrimtype(_q);}_q=_u.getAttribute("edituseime");if(_q){_s.set_edituseime(_q);}_q=_u.getAttribute("treecheck");if(_q){_s.set_treecheck(_q);}_q=_u.getAttribute("treecollapseimage");if(_q){_s.set_treecollapseimage(_q);}_q=_u.getAttribute("treeexpandimage");if(_q){_s.set_treeexpandimage(_q);}_q=_u.getAttribute("treeitemimage");if(_q){_s.set_treeitemimage(_q);}_q=_u.getAttribute("treeitemmargin");if(_q){_s.set_treeitemmargin(_q);}_q=_u.getAttribute("treelevel");if(_q){_s.set_treelevel(_q);}_q=_u.getAttribute("treestartlevel");if(_q){_s.set_treestartlevel(_q);}_q=_u.getAttribute("treestate");if(_q){_s.set_treestate(_q);}_q=_u.getAttribute("expandchar");if(_q){_s.set_expandchar(_q);}_q=_u.getAttribute("expandimage");if(_q){_s.set_expandimage(_q);}_q=_u.getAttribute("expandshow");if(_q){_s.set_expandshow(_q);}_q=_u.getAttribute("expandsize");if(_q){_s.set_expandsize(_q);}_q=_u.getAttribute("autosizecol");if(_q){_s.set_autosizecol(_q);}_q=_u.getAttribute("autosizerow");if(_q){_s.set_autosizerow(_q);}_q=_u.getAttribute("celltype");if(_q){_s.set_celltype(_q);}_q=_u.getAttribute("cssclass");if(_q){_s.set_cssclass(_q);}_q=_u.getAttribute("imagestretch");if(_q){_s.set_imagestretch(_q);}if(_ad>0){_s._isSubCell=true;_ac._subcells.push(_s);_ad-- ;_af++ ;}else{_af=0;if(_ag.length>0){_ad=_ag.length;_ac=_s;}else{_ac=null;}if(_h=="head"){this._addHeadCell(_s);}else if(_h=="summary"){this._addSummCell(_s);}else{this._addBodyCell(_s);}}}}this._bodycells=this._sortCellIdx(this._bodycells,this._bodyrows);this._headcells=this._sortCellIdx(this._headcells,this._headrows);this._summcells=this._sortCellIdx(this._summcells,this._summrows);};_pGridFormat._sortCellIdx=function(_a,_b){if(!_a||!_b){return null;}var _c=[];var _d=_a.length;var _e=_b.length,_f=this._cols.length;var _g=0,_h=0,_i=0;var _j=0;while(_a.length){if(_a[_j]._row==_i&&_a[_j]._col==_h){_a[_j]._col=_h++ ;_a[_j]._cellidx=_g++ ;_c.push(_a.splice(_j,1)[0]);_d-=1;_j=0;}else{if(_j<(_d-1)){_j++ ;}else{_h++ ;_j=0;}}if(_h>=_f){_h=0;_i++ ;}}return _c;};_pGridFormat._adjustColSizing=function(_a,_b){if(_b!=0){var _c=this._cols.length;if(_c==0&&!this._cols[_a]){return false;}var _d=this._cols[_a]._area;if(_d=="body"){this.bodyWidth=this._bodyWidth=this._bodyWidth+_b;}else if(_d=="left"){this.leftWidth+=_b;}else{this.rightWidth+=_b;}var _e;var _f=0;for(var _g=0;_g<_c;_g++ ){if(_g<_a){continue;}else if(_g==_a){_e=this._cols[_g];if(_e._area!=_d){continue;}_e.right+=_b;_e.size+=_b;}else{_e=this._cols[_g];if(_e._area!=_d){continue;}_e.left+=_b;_e.right+=_b;}}this._updateFormatStr();return true;}return false;};_pGridFormat._adjustColWidth=function(_a,_b){if(_a<=0){return false;}var _c=false;if(this._bodyWidth!=_a){_c=true;}this._bodyWidth=_a;var _d=_a/this.bodyWidth;this.bodyWidth=this._bodyWidth;var _e=this._cols.length;var _f,_g,_h= -1;var _i=0;var _j=0;if(!_b.length){for(var _k=0;_k<_e;_k++ ){_f=this._cols[_k];if(_f._area!="body"){continue;}_f.left=_i;if(_f.tempsize!=undefined){_f.size=_f.tempsize;_f.tempsize=undefined;}_f.size*=_d;_b[_k]=_f.size/_a;if(_f.size>=0.5){_f.size=Math.round(_f.size);}_j+=_f.size;_i=_i+_f.size;_f.right=_i;if(_f.size>0){_g=_f;_h=_k;}}}else{for(var _k=0;_k<_e;_k++ ){_f=this._cols[_k];if(_f._area!="body"){continue;}_f.left=_i;_f.size=_a*_b[_k];if(_f.size>=0.5){_f.size=Math.round(_f.size);}_j+=_f.size;_i=_i+_f.size;_f.right=_i;_g=_f;_h=_k;}}if(_g&&_g.size>0){_g.tempsize=_g.size;_g.size+=(_a-_j);_g.right+=(_a-_j);if(_g.size<=0){_g.size=1;_g.right=_g.left+_g.size;}}return _c;};_pGridFormat._adjustRowHeight=function(_a){if(_a==0){_a=0.1;}if(this._body_height!=_a){this._body_height=_a;var _b=_a/this.bodyHeight;this.bodyHeight=this._body_height;if(!this._rows){return true;}var _c=this._rows.length;var _d;var _e=0;for(var _f=0;_f<_c;_f++ ){_d=this._rows[_f];if(_d._area!="body"){continue;}_d.top=_e;_d.size=(_d.size*_b);_e=_e+_d.size;_d.bottom=_e;}return true;}return false;};_pGridFormat._defaultColSize=40;_pGridFormat._appendContentsCol=function(_a,_b,_c,_d,_e,_f){var _g=(_c)?_c.length:0;var _h=(_d)?_d.length:0;var _i=null;for(var _j=0;_j<_g;_j++ ){_c[_j]._endcol=false;if(_c[_j]._col>=_f){_c[_j]._col++ ;}}for(var _j=0;_j<_h;_j++ ){_i=new nexacro.GridCellInfo(_a+_g,_b,this.parent,_a,_g);_i.celltype=_a;_i._col=_f;_i._colspan=1;_i._row=_j;_i._rowspan=1;this[_e](_i);_g++ ;}_c[_c.length-1]._endcol=true;this._arrangeCellIdx(_a);this._updateFormatStr();};_pGridFormat._arrangeCellIdx2=function(_a,_b){var _c=0;var _d;var _e=[];for(var _f=0;_f<_b;_f++ ){for(var _g=0;_g<_a.length;_g++ ){_d=_a[_g];if(_f==_d._row){_d._cellidx=_c;_e[_c++ ]=_d;_a.splice(_g,1);_g-- ;}}}return _e;};_pGridFormat._arrangeCellIdx=function(_a){var _b=this._bodycells;var _c=this._bodyrows;if(_a=="body"){_b=this._bodycells;_c=this._bodyrows;}else if(_a=="summ"||_a=="summary"){_b=this._summcells;_c=this._summrows;}else if(_a=="head"){_b=this._headcells;_c=this._headrows;}var _d=(_c)?_c.length:0;var _e=this._arrangeCellIdx2(_b,_d);if(_a=="body"){this._bodycells=_e;}else if(_a=="summ"||_a=="summary"){this._summcells=_e;}else if(_a=="head"){this._headcells=_e;}};_pGridFormat.appendContentsCol=function(_a,_b){var _c="body";if(_b==undefined){_b=true;}_b=nexacro._toBoolean(_b);if(_b==false){var _d=this._getColFixCnt("right");if(_d){_c="right";}else{_c="body";}}else{if(_a){var _e=parseInt(_a,10);if(isFinite(_e)){if(_e== -1){_c="left";}else if(_e== -2){_c="right";}else{_c="body";}}else if(_a.length){_c=_a.toLowerCase();}}}var _f= -1;var _g=this._cols.length;var _h=this._defaultColSize;if(_c=="left"){_g=this._getColFixCnt("left");this._addLeftColumn(_h);}else if(_c=="right"){_g=this._cols.length;this._addRightColumn(_h);}else{_g=this._getColFixCnt("left");_g+=this._getColFixCnt("body");this._addBodyColumn(_h);this.endbodycol=this._cols.length;}if(this._bodyband&&this._bodyrows&&this._bodyrows.length>0){_f=_g;var _i="body";var _j=this._bodyband;var _k=this._bodycells;var _l=this._bodyrows;var _m="_addBodyCell";this._appendContentsCol(_i,_j,_k,_l,_m,_g);}if(this._headband&&this._headrows&&this._headrows.length>0){_f=_g;_i="head";_j=this._headband;_k=this._headcells;_l=this._headrows;_m="_addHeadCell";this._appendContentsCol(_i,_j,_k,_l,_m,_g);}if(this._summband&&this._summrows&&this._summrows.length>0){_f=_g;_i="summary";_j=this._summband;_k=this._summcells;_l=this._summrows;_m="_addSummCell";this._appendContentsCol(_i,_j,_k,_l,_m,_g);}this._rearrangeCols();return _f;};_pGridFormat._moveContentsCol=function(_a,_b,_c,_d,_e,_f){if(!_b){return;}var _g=_b.length;var _h=(this._cols)?(this._cols.length-1): -1;var _i,_j;var _k={};var _l,_m,_n;for(var _o=0;_o<_g;_o++ ){_i=_b[_o];_l=_i._col;if(_l==_c){_m=_l;}if(_l==_d){_n=_l;}_k[_l]=_i._area;}for(var _o=0;_o<_g;_o++ ){_i=_b[_o];_j=_i._col;if(_i._orgcol==undefined){_i._orgcol=_j;}if(_j==_c){_i._area=_k[_d];_i._col=_d;}else{if(_c<_d){if(_j>_c&&_j<=_d){_i._col-- ;}}else{if(_j<_c&&_j>=_d){_i._col++ ;}}}if(_i._col==_h){_i._endcol=true;}else{_i._endcol=false;}}this._arrangeCellIdx(_a);};_pGridFormat._reIndexCells=function(_a,_b){if(!_a||!_b){return;}var _c=_b.length;var _d=_a.length;var _e=0,_f=0,_g=0;var _h=[],_i=[];for(_e=0;_e<_c;_e++ ){_h=[];_g=0;for(_f=0;_f<_d;_f++ ){if(_a[_f]._row==_e){_h[_g++ ]=_a[_f];}}_h.sort(function(_j,_k){return _j._col-_k._col;});_i=_i.concat(_h);}for(_e=0;_e<_d;_e++ ){_i[_e]._cellidx=_e;}return _i;};_pGridFormat._insertContentsCol=function(_a,_b,_c,_d,_e,_f){var _g=_f;var _h=_c.length;var _i=_d.length;var _j=null;var _k=[];for(var _o=0;_o<_h;_o++ ){_j=_c[_o];if(_j._col<_f&&(_j._col+_j._colspan-1)>=_f){_k.push(_j);}}var _l;if(_k.length>0){for(var _o=0,_p=_k.length;_o<_p;_o++ ){_l=_k[_o];_l._colspan++ ;if(_l._subcells.length>0){var _m=_g-_l._col;_j=new nexacro.GridCellInfo(_a+_h+"_sub"+_m,_b,this.parent,_a,_l._subcells.length);_j.celltype=_a;_j._col=_m;_j._colspan=1;_j._row=0;_j._rowspan=1;_j._isSubCell=true;this._insertCell(_l._subcells,_j,_m,0);}for(var _q=0;_q<_h;_q++ ){_j=_c[_q];if(_j._col>=_f&&_j._row==_l._row){_j._col++ ;}}}}for(var _o=0;_o<_i;_o++ ){for(var _q=0,_p=_k.length;_q<_p;_q++ ){_l=_k[_q];if(_l._row==_o){break;}}if(_l&&_l._row==_o){continue;}_j=new nexacro.GridCellInfo(_a+_h,_b,this.parent,_a,_h);_j.celltype=_a;_j._col=_g;_j._colspan=1;_j._row=_o;_j._rowspan=1;this[_e](_j,_g,_o);_h++ ;}var _n=(this._cols)?(this._cols.length-1): -1;_h=_c.length;for(var _o=0;_o<_h;_o++ ){_j=_c[_o];if(_j._col==_n){_j._endcol=true;}else{_j._endcol=false;}}this._arrangeCellIdx(_a);this._updateFormatStr();};_pGridFormat.insertContentsCol=function(_a,_b,_c){var _d="body";if(_c==undefined){_c=true;}_c=nexacro._toBoolean(_c);var _e=this._getColFixCnt("left");var _f=this._getColFixCnt("body");var _g=this._getColFixCnt("right");if(_a!=undefined){var _h=parseInt(_a,10);if(isFinite(_h)){if(_b!=undefined){if(_h== -1){_d="left";}else if(_h== -2){_d="right";}else{_d="body";}if(_b<0){_b=0;}if(_c){if(_d=="body"){_b+=_e;}else if(_d=="right"){_b+=_e;_b+=_f;}if(_d=="left"){if(_b>_e){_b=_e;}}else if(_d=="body"){if(_b>_e+_f){_b=_e+_f;}}else{if(_b>_e+_f+_g){_b=_e+_f+_g;}}}else{if(_b>this._cols.length){_b=this._cols.length;}if(_b<_e){_d="left";}else if(_b>=_e+_f&&_b<_e+_f+_g){_d="right";}else{_d="body";}}}else{if(_h<0){_h=0;}else if(_h>this._cols.length){_h=this._cols.length;}_b=_h;}}else if(_a.length){_d=_a.toLowerCase();if(_b==undefined){return  -1;}else if(_b<0){_b=0;}if(_c){if(_d=="body"){_b+=_e;}else if(_d=="right"){_b+=_e;_b+=_f;}if(_d=="left"){if(_b>_e){_b=_e;}}else if(_d=="body"){if(_b>_e+_f){_b=_e+_f;}}else{if(_b>_e+_f+_g){_b=_e+_f+_g;}}}else{if(_b>this._cols.length){_b=this._cols.length;}if(_b<_e){_d="left";}else if(_b>=_e+_f&&_b<_e+_f+_g){_d="right";}else{_d="body";}}}}var _i= -1;var _j=this._defaultColSize;if(_d=="left"){this._insertLeftColumn(_j,_b);}else if(_d=="right"){this._insertRightColumn(_j,_b);}else{this._insertBodyColumn(_j,_b);this.endbodycol=this._cols.length;}if(this._bodyband){_i=_b;var _k="body";var _l=this._bodyband;var _m=this._bodycells;var _n=this._bodyrows;var _o="_insertBodyCell";this._insertContentsCol(_k,_l,_m,_n,_o,_b);}if(this._headband){_i=_b;_k="head";_l=this._headband;_m=this._headcells;_n=this._headrows;_o="_insertHeadCell";this._insertContentsCol(_k,_l,_m,_n,_o,_b);}if(this._summband){_i=_b;_k="summary";_l=this._summband;_m=this._summcells;_n=this._summrows;_o="_insertSummCell";this._insertContentsCol(_k,_l,_m,_n,_o,_b);}this._rearrangeCols();return _i;};_pGridFormat._defaultRowSize=24;_pGridFormat._appendContentsRow=function(_a,_b,_c,_d,_e,_f){var _g=(_d)?_d.length:0;var _h=this._defaultRowSize;this[_e](_h);var _i=(_c)?_c.length:0;var _j=this._cols.length;var _k=null;if(_j==0){this._addBodyColumn(this._defaultColSize);_j=this._cols.length;}for(var _l=0;_l<_j;_l++ ){_k=new nexacro.GridCellInfo(_a+_i,_b,this.parent,_a,_i);_k.celltype=_a;_k._col=_l;_k._colspan=1;_k._row=_g;_k._rowspan=1;_k._endcol=((_l+1)==this.endbodycol);this[_f](_k);_i++ ;}this._updateFormatStr();return _g;};_pGridFormat.appendContentsRow=function(_a,_b){var _c="";if(_a!=undefined){var _d=parseInt(_a,10);if(isFinite(_d)){if(_d== -1){_c="head";}else if(_d== -2){_c="summ";}else if(_d>=0){_c="body";}}else if(_a.length){_c=_a.toLowerCase();}if(_c==""){return  -1;}}var _e= -1;if(_c=="head"){if(this._headband==null){this._headband=new nexacro.GridBandInfo("head","head",this,this.parent);}var _f=this._headband;var _g=this._headcells;var _h=this._headrows;var _i="_addHeadRow";var _j="_addHeadCell";_e=this._appendContentsRow("head",_f,_g,_h,_i,_j);}else if(_c=="summ"||_c=="summary"){if(this._summband==null){this._summband=new nexacro.GridBandInfo("summary","summ",this,this.parent);}var _f=this._summband;var _g=this._summcells;var _h=this._summrows;var _i="_addSummRow";var _j="_addSummCell";_e=this._appendContentsRow("summary",_f,_g,_h,_i,_j);}else if(_c=="body"){if(this._bodyband==null){this._bodyband=new nexacro.GridBandInfo("body","body",this,this.parent);}var _f=this._bodyband;var _g=this._bodycells;var _h=this._bodyrows;var _i="_addBodyRow";var _j="_addBodyCell";_e=this._appendContentsRow("body",_f,_g,_h,_i,_j);}return _e;};_pGridFormat._deleteRowCell=function(_a,_b){var _c=this._bodycells;if(_a=="head"){_c=this._headcells;}else if(_a=="summ"){_c=this._summcells;}if(_c==null||_c.length==0){return undefined;}var _d,_e;for(var _h=0;_h<_c.length;_h++ ){if(_c[_h]._row==_b){_d=_c[_h]._colspan;_e=_c[_h]._rowspan;if(_e==1){delete _c[_h];_c.splice(_h,1);_h-- ;}else{var _f=_c[_h]._subcells;var _g;for(var _i=0;_i<_f.length;_i++ ){_g=_f[_i];if(_g._row+_c[_h]._row==_b){delete _g;_f.splice(_i,1);for(var _j=_i,_k=_f.length;_j<_k;_j++ ){_f[_j]._cellidx-- ;}_i-- ;}else if(_g._row+_c[_h]._row>_b){_g._row-- ;}else if(_g._row+_c[_h]._row<_b&&(_g._row+_c[_h]._row+_g._rowspan-1)>=_b){_g._rowspan-- ;}}_c[_h]._rowspan-- ;}}else if(_c[_h]._row>_b){_c[_h]._row-- ;}else{if((_c[_h]._row+_c[_h]._rowspan-1)>=_b){var _f=_c[_h]._subcells;var _g;for(var _i=0;_i<_f.length;_i++ ){_g=_f[_i];if(_g._row+_c[_h]._row==_b){delete _g;_f.splice(_i,1);for(var _j=_i,_k=_f.length;_j<_k;_j++ ){_f[_j]._cellidx-- ;}_i-- ;}else if(_g._row+_c[_h]._row>_b){_g._row-- ;}else if(_g._row+_c[_h]._row<_b&&(_g._row+_c[_h]._row+_g._rowspan-1)>=_b){_g._rowspan-- ;}}_c[_h]._rowspan-- ;}}}this._arrangeCellIdx(_a);this._updateFormatStr();};_pGridFormat._deleteRow=function(_a,_b){_a=_a.toLowerCase();this._deleteRowCell(_a,_b);var _c=this._bodyrows;if(_a=="head"){_c=this._headrows;}else if(_a=="summ"){_c=this._summrows;}if(_c==null||_c.length==0||_c.length<=_b){return  -1;}var _d=_c[_b].size;_c.splice(_b,1);var _e=_c.length;for(var _f=_b;_f<_e;_f++ ){_c[_f].top-=_d;_c[_f].bottom-=_d;}if(_a=="head"){this.headHeight-=_d;}else if(_a=="summ"){this.summHeight-=_d;}else{this._body_height=this.bodyHeight-=_d;}return _b;};_pGridFormat.deleteContentsRow=function(_a,_b,_c){var _d="";if(_c==undefined){_c=true;}if(_a!=undefined){var _e=parseInt(_a,10);if(isFinite(_e)){if(_e== -1){_d="head";}else if(_e== -2){_d="summ";}else if(_e>=0){_d="body";}}else if(_a.length){_d=_a.toLowerCase();}if(_d==""){return  -1;}}var _f=this._deleteRow(_d,_b);if(_f!= -1){if(this.grid.getFormatRowCount()==0){var _g=this._cols;_g.splice(0,_g.length);this.leftWidth=0;this.rightWidth=0;this.bodyWidth=0;this._bodyWidth=0;this.endbodycol=0;_g=null;}this._updateFormatStr(_d.toLowerCase());}return _f;};_pGridFormat._insertContentsRow=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._defaultRowSize;this[_e](_g,_h);var _i=(_c)?_c.length:0;var _j=this._cols.length;var _k=null;if(_j==0){this._addBodyColumn(this._defaultColSize);_j=this._cols.length;}var _l=[];for(var _o=0;_o<_i;_o++ ){_k=_c[_o];if(_k._row<_g){if((_k._row+_k._rowspan-1)>=_g){_l.push(_k);}}else{_k._row++ ;}}if(_l.length>0){var _m,_n;for(var _o=0,_p=_l.length;_o<_p;_o++ ){_m=_l[_o];_n=_m._subcells;_m._rowspan++ ;if(_n.length){for(var _q=0,_r=_n.length;_q<_r;_q++ ){if(_n[_q]._row>=_g-_m._row){_n[_q]._row++ ;}}for(var _q=_m._col;_q<_m._col+_m._colspan;_q++ ){_k=new nexacro.GridCellInfo(_a+_m._cellidx+"_sub"+_n.length,_b,this.parent,_a,_n.length);_k.celltype=_a;_k._col=_q;_k._colspan=1;_k._row=_g-_m._row;_k._rowspan=1;_k._endcol=((_q+1)==this.endbodycol);this._addCell(_n,_k);}_m._subcells=this._arrangeCellIdx2(_n,_m._rowspan);}}for(var _o=(_m._col+_m._colspan);_o<_j;_o++ ){_k=new nexacro.GridCellInfo(_a+_i,_b,this.parent,_a,_i);_k.celltype=_a;_k._col=_o;_k._colspan=1;_k._row=_g;_k._rowspan=1;_k._endcol=((_o+1)==this.endbodycol);this[_f](_k);_i++ ;}}else{for(var _o=0;_o<_j;_o++ ){_k=new nexacro.GridCellInfo(_a+_i,_b,this.parent,_a,_i);_k.celltype=_a;_k._col=_o;_k._colspan=1;_k._row=_g;_k._rowspan=1;_k._endcol=((_o+1)==this.endbodycol);this[_f](_k);_i++ ;}}this._arrangeCellIdx(_a);this._updateFormatStr();return _g;};_pGridFormat.insertContentsRow=function(_a,_b,_c){var _d="";if(_c==undefined){_c=true;}if(_a!=undefined){var _e=parseInt(_a,10);if(isFinite(_e)){if(_e== -1){_d="head";}else if(_e== -2){_d="summ";}else if(_e>=0){_d="body";}}else if(_a.length){_d=_a.toLowerCase();}if(_d==""){return  -1;}}var _f= -1;if(_b<0){return  -1;}if(_d=="head"){if(this._headband==null){this._headband=new nexacro.GridBandInfo("head","head",this,this.parent);}var _g=this._headband;var _h=this._headcells;var _i=this._headrows;var _j="_insertHeadRow";var _k="_addHeadCell";if(_i&&_b>_i.length){_b=_i.length;}_f=this._insertContentsRow("head",_g,_h,_i,_j,_k,_b);}else if(_d=="summ"||_d=="summary"){if(this._summband==null){this._summband=new nexacro.GridBandInfo("summary","summ",this,this.parent);}var _g=this._summband;var _h=this._summcells;var _i=this._summrows;var _j="_insertSummRow";var _k="_addSummCell";if(_i&&_b>_i.length){_b=_i.length;}_f=this._insertContentsRow("summary",_g,_h,_i,_j,_k,_b);}else{if(this._bodyband==null){this._bodyband=new nexacro.GridBandInfo("body","body",this,this.parent);}var _g=this._bodyband;var _h=this._bodycells;var _i=this._bodyrows;var _j="_insertBodyRow";var _k="_addBodyCell";if(_i&&_b>_i.length){_b=_i.length;}_f=this._insertContentsRow("body",_g,_h,_i,_j,_k,_b);}return _f;};_pGridFormat._deleteColCell=function(_a){var _b=this._headcells;var _c=this._summcells;var _d=this._bodycells;var _e=(this._cols)?(this._cols.length-1): -1;if(!_b&&!_c&&!_d){return undefined;}var _f=function(_g,_a){if(!_g){return;}for(var _k=0;_k<_g.length;_k++ ){if(_g[_k]._col==_e){_g[_k]._endcol=true;}else{_g[_k]._endcol=false;}if(_g[_k]._col==_a){var _h=_g[_k]._colspan;var _i=_g[_k]._rowspan;if(_h==1){delete _g[_k];_g.splice(_k,1);for(var _l=_k,_m=_g.length;_l<_m;_l++ ){_g[_l]._cellidx-- ;}_k-- ;}else{var _a=_g[_k]._col;_g[_k]._colspan-- ;_f(_g[_k]._subcells,0);}}else if(_g[_k]._col>_a){_g[_k]._col-- ;}else{if((_g[_k]._col+_g[_k]._colspan-1)>=_a){_g[_k]._colspan-- ;var _j=_a-_g[_k]._col;_f(_g[_k]._subcells,_j);}}}};_f(_b,_a);_f(_c,_a);_f(_d,_a);};_pGridFormat._deleteColumn=function(_a,_b){var _c=this._cols;if(_c==null||_c.length==0||_c.length<=_b){return  -1;}if(_c[_b]._area!=_a){return  -1;}this._deleteColCell(_b);var _d=_c[_b].size;_c.splice(_b,1);var _e=_c.length;if(_a=="left"){for(var _f=_b;_f<_e;_f++ ){if(_c[_f]._area=="left"){_c[_f].left-=_d;_c[_f].right-=_d;}}this.leftWidth-=_d;}else if(_a=="right"){for(var _f=_b;_f<_e;_f++ ){if(_c[_f]._area=="right"){_c[_f].left-=_d;_c[_f].right-=_d;}}this.rightWidth-=_d;}else{for(var _f=_b;_f<_e;_f++ ){if(_c[_f]._area=="body"){_c[_f].left-=_d;_c[_f].right-=_d;}}this.bodyWidth-=_d;this._bodyWidth=this.bodyWidth;this.endbodycol=this._cols.length;}return _b;};_pGridFormat._getColFixCnt=function(_a){var _b=0;var _c=0;var _d=0;var _e=this._cols;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){if(_e[_g]._area=="left"){_b++ ;}else if(_e[_g]._area=="body"){_c++ ;}else if(_e[_g]._area=="right"){_d++ ;}}if(_a=="left"){return _b;}else if(_a=="right"){return _d;}else{return _c;}};_pGridFormat.deleteContentsCol=function(_a,_b,_c){if(_c==undefined){_c=false;}var _d="body";if(_a!=undefined){var _e=parseInt(_a,10);if(isFinite(_e)){if(_b!=undefined){if(_e== -1){_d="left";}else if(_e== -2){_d="right";}else{_d="body";}if(_b<0){return  -1;}else if(_b>this._cols.length){return  -1;}}else{if(_e<0){return  -1;}else if(_e>this._cols.length){return  -1;}_b=_e;}}else if(_a.length){_d=_a.toLowerCase();if(_b==undefined){return  -1;}}}if(_c==true){if(_d=="body"){_b+=this._getColFixCnt("left");}else if(_d=="right"){_b+=this._getColFixCnt("left");_b+=this._getColFixCnt("body");}}else{var _f=this._getColFixCnt("left");var _g=this._getColFixCnt("body");var _h=this._getColFixCnt("right");if(_b<_f){_d="left";}else if(_b>=_f+_g&&_b<_f+_g+_h){_d="right";}else{_d="body";}}if(this._cols.length<=_b||_b<0){return  -1;}var _i=this._deleteColumn(_d,_b);if(_i!= -1){if(this.grid.getFormatColCount()==0){if(this._headrows){this._headrows.splice(0,this._headrows.length);this.headHeight=0;}if(this._summrows){this._summrows.splice(0,this._summrows.length);this.summHeight=0;}if(this._bodyrows){this._bodyrows.splice(0,this._bodyrows.length);this._body_height=0;this.bodyHeight=0;}}this._updateFormatStr();this._rearrangeCols();}return _i;};_pGridFormat.mergeContentsCell=function(_a,_b,_c,_d,_e,_f,_g){var _h=_a.toLowerCase();if(_h!="head"&&_h!="summ"){if(_h=="summary"){_h="summ";}else{_h="body";}}var _i=parseInt(_b,10);var _j=parseInt(_c,10);var _k=parseInt(_d,10);var _l=parseInt(_e,10);var _m=parseInt(_f,10);if(!isFinite(_i)||!isFinite(_j)||!isFinite(_k)||!isFinite(_l)){return  -1;}if(_j>_l||_i>_k){return  -1;}var _n=this._cols.length;if(_j<0||_j>=_n||_l<0||_l>=_n){return  -1;}var _o=null;var _p=null;if(_h=="head"){_o=this._headrows;_p=this._headcells;}else if(_h=="summ"){_o=this._summrows;_p=this._summcells;}else{_o=this._bodyrows;_p=this._bodycells;}var _q=(_p)?_p.length:0;var _r=(_o)?_o.length:0;if(_q==0){return  -1;}if(_i<0||_i>=_r||_k<0||_k>=_r){return  -1;}var _s;var _t= -1;var _u=[];for(var _ad=0;_ad<_q;_ad++ ){var _v=_p[_ad];if((_v._row>=_i&&_v._row<=_k)&&(_v._col>=_j&&_v._col<=_l)){if(_s&&_s!=_p[_ad]._area){return  -1;}else{_s=_p[_ad]._area;}_u[_ad]=true;if(_v._rowspan>1||_v._colspan>1){_t=_ad;}}else{_u[_ad]=false;}}if(_t>=0&&_p[_t]._rowspan>_k&&_p[_t]._colspan>_l){return  -1;}if(!_m||_m<0){_m=0;}var _w= -1;var _x=_p[_m];var _y=[];for(var _ad=_q-1;_ad>=0;_ad-- ){var _v=_p[_ad];var _z=_v._row;var _aa=_v._col;if(_u[_ad]){if(_x._row<_i||_x._row>_k||_x._col<_j||_x._col>_l){return  -1;}if(_g){if(_p[_ad]._col==_j&&_p[_ad]._row==_i){var _ab=new nexacro.GridCellInfo(_p[_ad].id,_p[_ad].parent,_p[_ad].grid,_p[_ad].celltype,_p[_ad]._cellidx);_ab._row=_p[_ad]._row;_ab._rowspan=(_k-_i)+1;_ab._col=_p[_ad]._col;_ab._colspan=(_l-_j)+1;_ab._isSubCell=false;_ab._area=_p[_ad]._area;_ab._endcol=_p[_ad]._endcol;_y.unshift(_p[_ad]);for(var _ae=0,_af=_y.length;_ae<_af;_ae++ ){_y[_ae]._col-=_ab._col;_y[_ae]._row-=_ab._row;_y[_ae]._cellidx=_ae;_y[_ae]._isSubCell=true;_y[_ae]._id=_y[_ae].name=_p[_ad].id+"_sub"+_ae;}_ab._subcells=_y;_p[_ad]=_ab;_y=[];_w=_ad;}else{_y.unshift(_p[_ad]);_p.splice(_ad,1);}}else{if(_p[_ad]._col==_j&&_p[_ad]._row==_i){_w=_p[_ad]._cellidx;_x._row=_p[_ad]._row;_x._col=_p[_ad]._col;_x._rowspan=(_k-_i)+1;_x._colspan=(_l-_j)+1;_p[_ad]=_x;}else{_p.splice(_ad,1);}}}}var _ac=_p.length;for(var _ad=0;_ad<_ac;_ad++ ){_p[_ad]._cellidx=_ad;}this._updateFormatStr();return _w;};_pGridFormat.splitContentsCell=function(_a,_b,_c,_d,_e,_f){var _g=null;var _h=null;var _i=this._cols;var _j=_a.toLowerCase();if(_j=="head"){_g=this._headrows;_h=this._headcells;}else if(_j=="summ"){_g=this._summrows;_h=this._summcells;}else{_g=this._bodyrows;_h=this._bodycells;}var _k=(_g)?_g.length:0;var _l=(_i)?_i.length:0;var _m=(_h)?_h.length:0;if(_k>0&&_l>0){if(_b<0||_d>=_k){if(_b<0){_b=0;}else{_d=_k-1;}}if(_c<0||_e>=_l){if(_c<0){_c=0;}else{_e=_l-1;}}var _n=[];var _o=0;var _p=0;var _q=null;var _r=null;var _s=null;for(var _z=0;_z<_m;_z++ ){var _t=_h[_z]._row;var _u=_h[_z]._col;var _v=_h[_z]._area;_q=_h[_z]._subcells;_r=(_h[_z]._colspan+_h[_z]._col)-1;_s=(_h[_z]._rowspan+_h[_z]._row)-1;if(_q.length>0){if((_r>=_c&&_r<=_e)&&(_s>=_b&&_s<=_d)){for(var _aa=0,_ab=_q.length;_aa<_ab;_aa++ ){_p++ ;_q[_aa]._row=_t;_q[_aa]._col=_u;_q[_aa]._area=_v;_q[_aa]._cellidx=_u+(_l*_t);var _w=_q[_aa]._rowspan;var _x=_q[_aa]._colspan;if(_u<_h[_z]._col+(_h[_z]._colspan-1)){_u=_u+_x;}else{_t=_t+_w;_u=_h[_z]._col;}_n.push(_q[_aa]);}}else{_h[_z]._cellidx=_h[_z]._col+(_h[_z]._row*_l);_n.push(_h[_z]);}}else{if(_f){if((_r>=_c&&_r<=_e)&&(_s>=_b&&_s<=_d)){if((_h[_z]._rowspan*_h[_z]._colspan)>1){var _y=null;for(var _aa=0;_aa<(_h[_z]._rowspan*_h[_z]._colspan);_aa++ ){_p++ ;_y=new nexacro.GridCellInfo(_j+_o,_h[_z].parent,_h[_z].grid,_h[_z].celltype,_o);_y._row=_t;_y._col=_u;_y._area=_v;_y._rowspan=1;_y._colspan=1;_y._cellidx=_u+(_l*_t);_y.text=_h[_z].text;if(_u<_h[_z]._col+(_h[_z]._colspan-1)){_u++ ;}else{_t++ ;_u=_h[_z]._col;}_n.push(_y);}}else{_n.push(_h[_z]);}}else{_n.push(_h[_z]);}}else{_n.push(_h[_z]);}}}if(_p>0){_n.sort(function(_ac,_ad){return _ac._cellidx-_ad._cellidx;});for(var _z=0,_ac=_n.length;_z<_ac;_z++ ){_n[_z]._cellidx=_z;}if(_j=="head"){this._headcells=_n;}else if(_j=="summ"){this._summcells=_n;}else{this._bodycells=_n;}this._updateFormatStr();return _p;}}return  -1;};_pGridFormat.setBandProperty=function(_a,_b,_c){var _d=null;var _e=_a.toLowerCase();if(_e=="head"){_d=this._headband;}else if(_e=="summ"||_e=="summary"){_d=this._summband;}else{_d=this._bodyband;}if(_d){if(_d["set_"+_b]){_d["set_"+_b](_c);}else if(_d.style["set_"+_b]){_d.style["set_"+_b](_c);}this._updateFormatStr();return _d;}return undefined;};_pGridFormat.setSubCellProperty=function(_a,_b,_c,_d,_e){var _f=null;var _g=_a.toLowerCase();if(_g=="head"){if(this._headband){_f=this._headcells[_b];}}else if(_g=="summ"||_g=="summary"){if(this._summband){_f=this._summcells[_b];}}else{if(this._bodyband){_f=this._bodycells[_b];}}if(_f._subcells.length>_c&&_c>=0){_f=_f._subcells[_c];if(_f){if(_f["set_"+_d]){_f["set_"+_d](_e);}else if(_f.style["set_"+_d]){_f.style["set_"+_d](_e);}this._updateFormatStr();return _f;}}};_pGridFormat.setCellProperty=function(_a,_b,_c,_d){var _e=null;var _f=_a.toLowerCase();if(_f=="head"){if(this._headband){_e=this._headcells[_b];}}else if(_f=="summ"||_f=="summary"){if(this._summband){_e=this._summcells[_b];}}else{if(this._bodyband){_e=this._bodycells[_b];}}if(_e){if(_e["set_"+_c]){_e["set_"+_c](_d);}else if(_e.style["set_"+_c]){_e.style["set_"+_c](_d);_e.style._updateValue();}this._updateFormatStr();return _e;}};_pGridFormat.getSubCellProperty=function(_a,_b,_c,_d){var _e=null;var _f=_a.toLowerCase();if(_f=="head"){if(this._headband){_e=this._headcells[_b];}}else if(_f=="summ"||_f=="summary"){if(this._summband){_e=this._summcells[_b];}}else{if(this._bodyband){_e=this._bodycells[_b];}}if(_e._subcells.length>_c&&_c>=0){_e=_e._subcells[_c];if(_e){var _g=_e[_d];if(_g==undefined){_g=_e["_"+_d];}if(_g==undefined){_g=_e.style[_d];}if(_g!=undefined){var _h=typeof (_g);if(_h=="number"||_h=="string"){return _g;}else{var _i;if(_d=="expr"){_i=_g._bindexpr;}else{if(_g._bindtype==2){_i=_g._bindexpr;if(_i.indexOf("expr:")<0){_i="expr:"+_i;}}else{_i=_g._value;}}if(_i){return _i;}else{return _g;}}}}}return undefined;};_pGridFormat.getCellProperty=function(_a,_b,_c){var _d=null;var _e=_a.toLowerCase();if(_e=="head"){if(this._headband){_d=this._headcells[_b];}}else if(_e=="summ"||_e=="summary"){if(this._summband){_d=this._summcells[_b];}}else{if(this._bodyband){_d=this._bodycells[_b];}}if(_d){if(_c=="subcell"){return _d._subcells.length;}var _f=_d[_c];if(_f==undefined){_f=_d["_"+_c];}if(_f==undefined){_f=_d.style[_c];}if(_f!=undefined){var _g=typeof (_f);if(_g=="number"||_g=="string"){return _f;}else{var _h;if(_f instanceof nexacro.BindableValue){if(_c=="expr"){_h=_f._bindexpr;}else{if(_f._bindtype==2){_h=_f._bindexpr;if(_h.indexOf("expr:")<0){_h="expr:"+_h;}}else{_h=_f._value;}}}else{_h=_f;}return _h;}}}return null;};_pGridFormat.getBandProperty=function(_a,_b){var _c=null;var _d=_a.toLowerCase();if(_d=="head"){_c=this._headband;}else if(_d=="summ"||_d=="summary"){_c=this._summband;}else{_c=this._bodyband;}if(_c){var _e=_c[_b];if(_e==undefined){_e=_c["_"+_b];}if(_e==undefined){_e=_c.style[_b];}if(_e!=undefined){var _f=typeof (_e);if(_f=="number"||_f=="string"){return _e;}else{var _g;if(_b=="expr"){_g=_e._bindexpr;}else{_g=_e._value;}if(_g){return _g;}else{return _e;}}}}return null;};_pGridFormat._adjustFormatColSize=function(_a,_b){var _c=this._cols.length;var _d=0;var _e=0;var _f=0;var _g=null;for(var _h=0;_h<_c;_h++ ){_g=this._cols[_h];if(_g._area=="left"){_g.left=_d;_d+=_g.size;_g.right=_d;}else if(_g._area=="right"){_g.left=_f;_f+=_g.size;_g.right=_f;}else{_g.left=_e;_e+=_g.size;_g.right=_e;}if(_a){_g.orgleft=_g.left;_g.orgright=_g.right;}}this.leftWidth=_d;this._bodyWidth=this.bodyWidth=_e;this.rightWidth=_f;if(!_b){this._updateFormatStr();}};_pGridFormat._setColSize=function(_a,_b,_c){if(this._cols){var _d=this._cols[_a];var _e=parseFloat(_b,10);if(_d&&isFinite(_e)){var _f=_d.size;if(_e!=_f){_d.size=_e;this._adjustFormatColSize(false,_c);return true;}return false;}}};_pGridFormat.setFormatColProperty=function(_a,_b,_c){if(this._cols){if(_b=="size"){var _d=this._cols[_a];var _e=parseInt(_c,10);if(_d&&isFinite(_e)){var _f=_d.size;if(_e!=_f){_d.size=_d.orgsize=_e;this._adjustFormatColSize(true);return true;}return false;}}else if(_b=="band"){var _g=_c.toLowerCase();var _h=this._cols;var _i=this._cols.length;var _j,_k=false;for(var _l=0,_m=this._cols.length;_l<_m;_l++ ){_j=_h[_l];if(_g=="left"){if(_l<=_a&&_j._area!="left"){_j._area="left";_k=true;}}else if(_g=="right"){if(_l>=_a&&_j._area!="right"){_j._area="right";_k=true;}}else{if((_l>=_a&&_j._area=="left")||(_l<=_a&&_j._area=="right")){_j._area="body";_k=true;}}}function _apply_area(_n){if(_n){var _o=_n.length;var _p;for(var _l=0;_l<_o;_l++ ){_p=_n[_l];if(_g=="left"){if(_p._col<=_a){_p._area="left";}}else if(_g=="right"){if(_p._col>=_a){_p._area="right";}}else{if((_p._col>=_a&&_p._area=="left")||(_p._col<=_a&&_p._area=="right")){_p._area="body";}}}}}if(_k){_apply_area(this._headcells);_apply_area(this._bodycells);_apply_area(this._summcells);this._adjustFormatColSize(true);}return _k;}}return false;};_pGridFormat.getFormatColProperty=function(_a,_b){if(this._cols){if(_b=="size"){var _c=this._cols[_a];if(_c){return _c.orgsize;}}else if(_b=="band"){var _c=this._cols[_a];if(_c){return _c._area;}}else if(_b=="fix"){var _c=this._cols[_a];if(_c){if(_c._area=="left"||_c._area=="right"){return "fixed";}else{return "";}}}}return null;};_pGridFormat._adjustFormatRowSize=function(_a){var _b=_a.length;var _c=0;var _d=null;for(var _e=0;_e<_b;_e++ ){_d=_a[_e];_d.top=_c;_c+=_d.size;_d.bottom=_c;}return _c;};_pGridFormat.setFormatRowProperty=function(_a,_b,_c){if(_b=="size"){var _d=parseInt(_c,10);if(isFinite(_d)){var _e=_a;var _f=(this._headrows)?this._headrows.length:0;if(_e<_f){this._headrows[_e].size=_d;var _g=this.headHeight;this.headHeight=this._adjustFormatRowSize(this._headrows);if(this.headHeight!=_g){return true;}return false;}else{_e-=_f;}var _h=(this._bodyrows)?this._bodyrows.length:0;if(_e<_h){this._bodyrows[_e].size=_d;var _g=this.bodyHeight;this._body_height=this.bodyHeight=this._adjustFormatRowSize(this._bodyrows);if(this.bodyHeight!=_g){return true;}return false;}else{_e-=_h;}var _i=(this._summrows)?this._summrows.length:0;if(_e<_i){this._summrows[_e].size=_d;var _g=this.summHeight;this.summHeight=this._adjustFormatRowSize(this._summrows);if(this.summHeight!=_g){return true;}return false;}}}else if(_b=="band"){var _e=_a;var _j=_c.toLowerCase();return false;}return false;};_pGridFormat.getFormatRowProperty=function(_a,_b){if(_b=="size"){var _c=_a;var _d=(this._headrows)?this._headrows.length:0;if(_c<_d){return this._headrows[_c].orgsize;}else{_c-=_d;}var _e=(this._bodyrows)?this._bodyrows.length:0;if(_c<_e){return this._bodyrows[_c].orgsize;}else{_c-=_e;}var _f=(this._summrows)?this._summrows.length:0;if(_c<_f){return this._summrows[_c].orgsize;}}else if(_b=="band"){var _c=_a;var _d=(this._headrows)?this._headrows.length:0;if(_c<_d){return "head";}else{_c-=_d;}var _e=(this._bodyrows)?this._bodyrows.length:0;if(_c<_e){return "body";}else{_c-=_e;}var _f=(this._summrows)?this._summrows.length:0;if(_c<_f){return "summ";}}return null;};delete _pGridFormat;};if(!nexacro.Grid){nexacro.GridLongPressEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.LongPressEventInfo.call(this,_a,_b,_c,_d,_e);this.cell=_f;this.col=_g;this.row=_h;this.subrow=_i;this.pivotindex=_j;this.mergecell=_k;this.mergecol=_l;this.mergerow=_m;};var _pGridLongPressEventInfo=nexacro._createPrototype(nexacro.LongPressEventInfo,nexacro.GridLongPressEventInfo);nexacro.GridLongPressEventInfo.prototype=_pGridLongPressEventInfo;_pGridLongPressEventInfo._type_name="GridLongPressEventInfo";delete _pGridLongPressEventInfo;nexacro.GridDragEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z){nexacro.DragEventInfo.call(this,_a,_b||"ongriddrag",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r);this.cell=_s;this.col=_t;this.row=_y;this.subrow=_z;this.pivotindex=_x;this.mergecell=_u;this.mergecol=_v;this.mergerow=_w;};var _pGridDragEventInfo=nexacro._createPrototype(nexacro.DragEventInfo,nexacro.GridDragEventInfo);nexacro.GridDragEventInfo.prototype=_pGridDragEventInfo;_pGridDragEventInfo._type_name="GridDragEvent";delete _pGridDragEventInfo;nexacro.GridClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v){nexacro.ClickEventInfo.call(this,_a,_b||"ongridclick",_m,_n,_o,_p,_q,_r,_s,_t,_u,_v);this.cell=_h;this.col=_i;this.row=_j;this.subrow=_k;this.pivotindex=_l;this.oldcell=_c;this.oldcol=_d;this.oldrow=_e;this.oldsubrow=_f;this.oldpivotindex=_g;};var _pGridClickEventInfo=nexacro._createPrototype(nexacro.ClickEventInfo,nexacro.GridClickEventInfo);nexacro.GridClickEventInfo.prototype=_pGridClickEventInfo;_pGridClickEventInfo._type_name="GridClickEvent";_pGridClickEventInfo._is_event=true;delete _pGridClickEventInfo;nexacro.GridEditEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"ongridedit";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.col=_d;this.row=_f;this.subrow=_g;this.pivotindex=_e;this.value=_h;};var _pGridEditEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridEditEventInfo);nexacro.GridEditEventInfo.prototype=_pGridEditEventInfo;_pGridEditEventInfo._type_name="GridEditEvent";delete _pGridEditEventInfo;nexacro.GridEditCharEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this.id=this.eventid=_b||"onchar";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.chartext=_d;this.col=_e;this.pivotindex=_f;this.posttext=_g;this.pretext=_h;this.row=_i;this.subrow=_j;};var _pGridEditCharEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridEditCharEventInfo);nexacro.GridEditCharEventInfo.prototype=_pGridEditCharEventInfo;_pGridEditCharEventInfo._type_name="GridEditCharEventInfo";_pGridEditCharEventInfo.set_chartext=function(_a){this.chartext=_a;};delete _pGridEditCharEventInfo;nexacro.GridTextChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this.id=this.eventid=_b||"ontextchange";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.chartext=_d;this.col=_e;this.pivotindex=_f;this.postimetext=_g;this.posttext=_h;this.preimetext=_i;this.pretext=_j;this.row=_k;this.subrow=_l;};var _pGridTextChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridTextChangeEventInfo);nexacro.GridTextChangeEventInfo.prototype=_pGridTextChangeEventInfo;_pGridTextChangeEventInfo._type_name="GridTextChangeEvent";_pGridTextChangeEventInfo.set_chartext=function(_a){this.chartext=_a;};_pGridTextChangeEventInfo.set_postimetext=function(_a){this.postimetext=_a;};delete _pGridTextChangeEventInfo;nexacro.GridTextChangedEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this.id=this.eventid=_b||"ontextchanged";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.col=_d;this.pivotindex=_e;this.posttext=_f;this.pretext=_g;this.row=_h;this.subrow=_i;};var _pGridTextChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridTextChangedEventInfo);nexacro.GridTextChangedEventInfo.prototype=_pGridTextChangedEventInfo;_pGridTextChangedEventInfo._type_name="GridTextChangedEvent";_pGridTextChangedEventInfo._is_event=true;delete _pGridTextChangedEventInfo;nexacro.GridFormatChangedEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"ongridformatchanged";this.fromobject=this.fromreferenceobject=_a;this.newvalue=_c;this.oldvalue=_d;this.reason=_e;};var _pGridFormatChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridFormatChangedEventInfo);nexacro.GridFormatChangedEventInfo.prototype=_pGridFormatChangedEventInfo;_pGridFormatChangedEventInfo._type_name="GridFormatChangedEvent";delete _pGridFormatChangedEventInfo;nexacro.GridSelectEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){this.id=this.eventid=_b||"ongridselect";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.col=_d;this.row=_e;this.subrow=_f;this.pivotindex=_g;this.oldcell=_h;this.oldcol=_i;this.oldrow=_j;this.oldpivotindex=_l;this.oldsubrow=_k;this.selectendcol=_m;this.selectendpivot=_n;this.selectendrow=_o;this.selectendsubrow=_p;this.selectstartcol=_q;this.selectstartpivot=_r;this.selectstartrow=_s;this.selectstartsubrow=_t;};var _pGridSelectEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridSelectEventInfo);nexacro.GridSelectEventInfo.prototype=_pGridSelectEventInfo;_pGridSelectEventInfo._type_name="GridSelectEvent";delete _pGridSelectEventInfo;nexacro.GridTreeStatusEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"ongridtreestatus";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.realrow=_d;this.row=_e;this.reason=_f;};var _pGridTreeStatusEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridTreeStatusEventInfo);nexacro.GridTreeStatusEventInfo.prototype=_pGridTreeStatusEventInfo;_pGridTreeStatusEventInfo._type_name="GridTreeStatusEvent";delete _pGridTreeStatusEventInfo;nexacro.GridMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){nexacro.MouseEventInfo.call(this,_a,_b||"ongridmouse",_k,_l,_m,_n,_o,_p,_q,_r,_s,_t);this.cell=_c;this.col=_d;this.mergecell=_e;this.mergecol=_f;this.mergerow=_g;this.pivotindex=_h;this.row=_i;this.subrow=_j;};var _pGridMouseEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.GridMouseEventInfo);nexacro.GridMouseEventInfo.prototype=_pGridMouseEventInfo;_pGridMouseEventInfo._type_name="GridMouseEvent";delete _pGridMouseEventInfo;nexacro.GridSizeChangedEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.formatindex=_b;this.index=_c;this.newvalue=_d;this.oldvalue=_e;this.reason=_f;this.subindex=_g;};var _pGridSizeChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridSizeChangedEventInfo);nexacro.GridSizeChangedEventInfo.prototype=_pGridSizeChangedEventInfo;_pGridSizeChangedEventInfo._type_name="GridSizeChangedEventInfo";delete _pGridSizeChangedEventInfo;nexacro.GridCell=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.subcells=[];this.parentcell=null;this.style=_g.style;this._is_subcontrol=true;this._refobj=_g;this._grid=this._refobj?this._refobj.grid:null;this._rowidx=_h;this._cellidx=_i;this._styles=_g._styles;this._expand_width=0;this._subComp=null;this.selected=false;this._text_elem=null;this._curDisplayType="";this._curEditDisplay="";this._expandCtrl=null;this._isSubCell=false;this._disp_show=true;this._band=_f._band;this._fakecell=false;this._hideInner=false;this._is_real_upelem=null;this._clickcall=false;this._is_clickproc=false;this._accessibility_role="gridcell";this._status_changing=false;this._refresh_display=false;};var _pGridCell=nexacro._createPrototype(nexacro.Component,nexacro.GridCell);nexacro.GridCell.prototype=_pGridCell;_pGridCell._type_name="GridCell";nexacro.GridCell._default_linespace=nexacro._getCachedStyleObj("linespace","0");_pGridCell.on_apply_custom_pseudo=function(_a){var _b=this.getElement();var _c=this._grid;if(!_b){return;}if(!_a){_a=this._pseudo;}var _d=this.currentstyle;var _e=this.on_find_CurrentStyle_font(_a);if(_d.font!=_e){_d.font=_e;this.on_apply_style_font(_e);}var _f=this.on_find_CurrentStyle_letterspace(_a);if(_d.letterspace!=_f){_d.letterspace=_f;this.on_apply_style_letterspace(_f);}var _g=this.on_find_CurrentStyle_color(_a);if(_d.color!=_g){_d.color=_g;this.on_apply_style_color(_g);}var _h=this.on_find_CurrentStyle_align(_a);if(_d.align!=_h){_d.align=_h;this.on_apply_style_align(_h);}var _i=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_d.rtlimagemirroring!=_i){_d.rtlimagemirroring=_i;this.on_apply_style_rtlimagemirroring(_i);}var _j=this.on_find_CurrentStyle_linespace(_a);if(_d.linespace!=_j){_d.linespace=_j;this.on_apply_style_linespace(_j);}this.on_apply_prop_tooltip();var _k=this._subComp;if(_k&&this._ReasonRefresh!=1){_k._control_pseudo="";_k._contents_pseudo="";var _l=this._refobj;var _m=_l.style;var _n=true;if(_m.controlbackground&&_m.controlbackground._bindtype>0){_n=false;}else if(_m.controlborder&&_m.controlborder._bindtype>0){_n=false;}else if(_m.controlbordertype&&_m.controlbordertype._bindtype>0){_n=false;}else if(_m.controlgradation&&_m.controlgradation._bindtype>0){_n=false;}_k._updateAll(_n);}if(this._expandCtrl){this._expandCtrl._updateAll();}this._applyRowCellsStyle(_a);};_pGridCell._applyRowCellsStyle=function(_a,_b){var _c=this._grid;if(this._is_created&&(this._status_changing==true||_b)){if(!_c._ReasonRefresh){_c.on_apply_cell_pseudo(this,_a);}}};_pGridCell.on_create_custom_style=function(){return null;};_pGridCell.on_create_custom_currentStyle=function(){return new nexacro.GridCell_CurrentStyle();};_pGridCell.on_find_CurrentStyle_accessibility=function(_a){if(this._refobj&&!this._isSubCell){var _b=this._grid,_c=_b._getDataRow(this._rowidx);return this._refobj._query_pseudo_accessibility(_c,_a);}return null;};_pGridCell.on_find_CurrentStyle_background=function(_a){if(this._refobj&&!this._isSubCell){var _b=(this._rowidx>=0)?(this._rowidx%2):false,_c=this._grid,_d=_c._getDataRow(this._rowidx);return this._refobj._query_pseudo_background(_d,_b,this._is_Selected(),_a);}return null;};_pGridCell.on_find_CurrentStyle_border=function(_a){var _b=this;if(this._refobj&&!this._isSubCell){var _c=_b._getSuppressInfo();var _d=(_c)?_c.border_proc:0;if(this._getDisplayRowIdx()==this._grid._getDispRowCnt()-1){_d=0;}var _e=this._grid,_f=_e._getDataRow(this._rowidx);var _g=this._refobj._query_pseudo_border(_f,this._is_Selected(),_a,_d);var _h=_e._checkFakeMerge(this._refobj,_f);if(_h){var _i=_g.clone();if(_h.indexOf("right")>=0){_i.set_right("0px none transparent");}else if(_h.indexOf("left")>=0){_i.set_left("0px none transparent");}if(_h.indexOf("bottom")>=0){_i.set_bottom("0px none transparent");}else if(_h.indexOf("top")>=0){_i.set_top("0px none transparent");}return _i;}return _g;}return null;};_pGridCell.on_find_CurrentStyle_bordertype=function(_a){return null;};_pGridCell.on_find_CurrentStyle_gradation=function(_a){if(this._refobj&&!this._isSubCell){var _b=(this._rowidx>=0)?(this._rowidx%2):false,_c=this._grid,_d=_c._getDataRow(this._rowidx);return this._refobj._query_pseudo_gradation(_d,_b,this._is_Selected(),_a);}return null;};_pGridCell.on_find_CurrentStyle_padding=function(_a){if(this._refobj){if(this.subcells.length>0){return nexacro.Component._default_padding;}var _b=this._grid,_c=_b._getDataRow(this._rowidx);return this._refobj._query_pseudo_padding(_c,_a);}return null;};_pGridCell.on_find_CurrentStyle_opacity=function(_a){return null;};_pGridCell.on_find_CurrentStyle_cursor=function(_a){if(this._isSubCell){return this.parent.on_find_CurrentStyle_cursor(_a);}if(this._refobj){var _b=this._grid,_c=_b._getDataRow(this._rowidx);if(_b._global_cursor){return _b._global_cursor;}return this._refobj._query_pseudo_cursor(_c,_a);}return null;};_pGridCell.on_find_CurrentStyle_shadow=function(_a){return null;};_pGridCell.on_find_CurrentStyle_font=function(_a){if(this._refobj){var _b=this._grid,_c=_b._getDataRow(this._rowidx);return this._refobj._query_pseudo_font(_c,this._is_Selected(),_a);}return null;};_pGridCell.on_find_CurrentStyle_letterspace=function(_a){if(this._refobj){var _b=this._grid,_c=_b._getDataRow(this._rowidx);return this._refobj._query_pseudo_letterspace(_c,this._is_Selected(),_a);}return null;};_pGridCell.on_find_CurrentStyle_color=function(_a){var _b=this;if(this._isSubCell){_b=this.parentcell;}if(this._refobj){var _c=(this._rowidx>=0)?(this._rowidx%2):false;var _d=this._grid;var _e=_d._getDataRow(this._rowidx);return this._refobj._query_pseudo_color(_e,_c,_b.selected,_a);}return null;};_pGridCell.on_find_CurrentStyle_align=function(_a){if(this._refobj){var _b=this._curDisplayType;var _c=this._grid;var _d=_c._getDataRow(this._rowidx);if(_b==""){_b=this._refobj._getAttrValue(this._refobj.displaytype,_d);}if(_b===undefined){_b="normal";}var _e=this._refobj._query_pseudo_align(_d,_b,_a);return _e;}return null;};_pGridCell.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pGridCell.on_find_CurrentStyle_linespace=function(_a){if(this._refobj){var _b=this._grid,_c=_b._getDataRow(this._rowidx);var _d=this._refobj._query_pseudo_linespace(_c,_a);return _d?_d:nexacro.GridCell._default_linespace;}return null;};_pGridCell.on_apply_style_font=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pGridCell.on_apply_style_letterspace=function(_a){var _b=this._text_elem;if(_b){_b.setElementLetterSpace(_a);}};_pGridCell.on_apply_style_linespace=function(_a){var _b=this._text_elem;if(_b){_b.setElementLineSpace(_a);}};_pGridCell.on_apply_style_color=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pGridCell.on_apply_style_align=function(_a){var _b=this._text_elem;if(_b){var _c=_a.halign==""?"center":_a.halign;var _d=_a.valign==""?"middle":_a.valign;_b.setElementAlignXY(_c,_d);}if(this._subComp&&this._subComp._setAlign){this._subComp._setAlign(_a.halign,_a.valign);}};_pGridCell.on_apply_style_ctrlAlign=function(_a,_b){var _c=this._subComp._adjust_width;var _d=this._subComp._adjust_height;var _e=this._getAvailableRect();var _f=_e.width;var _g=_e.height;var _h=0,_i=0;switch(_a){case "left":break;case "right":_h=_f-_c;break;default:_h=Math.round((_f-_c)/2);break;}switch(_b){case "top":break;case "bottom":_i=_g-_d;break;default:_i=Math.round((_g-_d)/2);break;}this._subComp.move(_h,_i,this._subComp._adjust_width,this._subComp._adjust_height);};_pGridCell.on_create_contents=function(){this._disp_show=this._updateDisplayer();};_pGridCell.on_created_contents=function(){var _a=this.getElement();if(_a){if(this.subcells.length==0){var _b=this._subComp;if(_b){_b.on_created();_b._updateAll();}}var _c=this._expandCtrl;if(_c){_c.on_created();}var _d=this.currentstyle;if(_d&&_d.font){this.on_apply_style_font(_d.font);}if(_d&&_d.letterspace){this.on_apply_style_letterspace(_d.letterspace);}if(nexacro._enableaccessibility){var _e=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_e&&_e.enable&&!this._grid._accept_focus){this._grid._accept_focus=true;}}this.on_apply_prop_rtldirection();}};_pGridCell._destroyDisplayer=function(_a){if(this._subComp){if(_a){nexacro.OnceCallbackTimer.callonce(this,function(){if(this._subComp){this._subComp.destroy();this._subComp=null;}},10);}else{this._subComp.destroy();this._subComp=null;}}};_pGridCell.destroy=function(){if(this._tree_lbuttondown&&this._grid){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this._control_element.destroy();}this._grid._lbuttondown_treecell=this;nexacro.OnceCallbackTimer.callonce(this._grid,function(){if(this._lbuttondown_treecell){this._lbuttondown_treecell.destroy();}},10);return;}if(this._grid._lbuttondown_treecell==this){this._grid._lbuttondown_treecell=null;}nexacro.Component.prototype.destroy.call(this);};_pGridCell._delete_style=function(){this.style=null;this._styles=null;};_pGridCell.on_destroy_contents=function(){this._destroyDisplayer();if(this._expandCtrl){this._expandCtrl.destroy();this._expandCtrl=null;}var _a=this.subcells;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this.subcells=this._refobj=this._grid=this.parentcell=this._band=this._text_elem=this._is_real_upelem=null;};_pGridCell.on_change_containerRect=function(_a,_b){this._updateAvailableArea();};_pGridCell.on_change_status=function(_a,_b){this._status_changing=true;nexacro.Component.prototype.on_change_status.call(this,_a,_b);this._status_changing=false;};_pGridCell._on_afterHideWaitComp=function(_a){if(this._pseudo!=_a){if(_a=="mouseover"){var _b=this._grid;if(_b&&(!_b._mouseovercell||_b._mouseovercell!=this)){return;}}this._stat_change(this._status,_a);}};_pGridCell.on_create_control_element=function(_a){var _b=(this._refobj._subcells.length)?"normal":"text";var _c=new nexacro.GridCellControlElement(_a,this._refobj._area,_b);_c.setLinkedControl(this);this._control_element=_c;return _c;};_pGridCell.on_apply_custom_setfocus=function(_a,_b){var _c=this._control_element;var _d=this._grid;if(_a=="lbuttondown"||_d._track_mode=="areaselect"){_d._focus_proc=_c;}if(_b||nexacro._enableaccessibility||!this._no_dom_focus){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}if(nexacro._enableaccessibility){_d.currentcell=this._cellidx;_d._currentBand=this._band.id;}};_pGridCell.on_apply_prop_tooltip=function(){var _a=this.getElement();var _b=this._grid;var _c=_b._getDataRow(this._rowidx);this.tooltiptext=this._refobj._getTooltipText(_c);if(_a){_a.setElementToolTip(this.tooltiptext);}};_pGridCell._on_last_lbuttonup=function(){if(this.parent){this.parent._on_last_lbuttonup();}};_pGridCell._on_last_keyup=function(){if(this.parent){this.parent._on_last_keyup();}};_pGridCell._on_killfocus=function(_a,_b){if(this._status!="disable"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}this._setAccessibilityStatFlag(this._status,this._pseudo);};_pGridCell._getAccessibilityLabel=function(_a,_b){var _c=nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);if(!_c&&this.subcells.length>0){var _d=this.subcells;for(var _f=0,_g=_d.length;_f<_g;_f++ ){if(_d[_f]._display_text){if(_c){_c=_c+" "+_d[_f]._display_text;}else{_c=_d[_f]._display_text;}}}}if(nexacro._accessibilitytype==4&&this._is_created&&!_b){var _e=this._getAccessibilityMakeAddLabel();if(_a){if(_a._bindexpr&&_a._bindexpr.length>0){_c=this._refobj._getAttrValue(_a,this._rowidx);}}_c=_e+" "+_c;}return _c;};_pGridCell._setAccessibilityStatFocus=function(){var _a=this._grid;if(_a._currentCellEditor&&_a._showEditing){_a._currentCellEditor._setAccessibilityStatFocus();}else if(this._subComp&&this._curDisplayType!="tree"){this._subComp._setAccessibilityStatFocus();}else{var _b="";var _c=this._refobj;_b=this._getAccessibilityMakeAddLabel();_b+=" "+this._getCellAccessibilityLabel();this._setAccessibilityStatSelected(this.selected);this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);}};_pGridCell._getCellAccessibilityLabel=function(){var _a="";var _b=this._grid;var _c=null;var _d=this._refobj;_c=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_c){if(_c._bindexpr&&_c._bindexpr.length>0){var _e="";_d=this._refobj;_e=_d._getAttrValue(_c,this._rowidx);_c._setValue(_e);}_a=this._getAccessibilityLabel(_c,true);}if(this._subComp){var _f=this._subComp;var _g=this._curDisplayType;if(_g=="checkbox"){this._setAccessibilityStatChecked(_f.isChecked());}else if(_g=="tree"){var _h=_b.getTreeStatus(this._rowidx);var _i=_d._getTreeLevel(this._rowidx);var _j=_d._getTreeStartLevel(this._rowidx);if(nexacro._accessibilitytype!=4){if(_h==0){this._setAccessibilityStatExpanded(false);}else{this._setAccessibilityStatExpanded(true);}}this._setAccessibilityInfoLevel(_i-_j+1);}}if(_c&&nexacro._accessibilitytype==5){var _k=this._getAccessibilityDescription(_c);var _l=this._getAccessibilityAction(_c);_a=_a+" "+_l+" "+_k;}return _a;};_pGridCell._getAccessibilityRole=function(_a){var _b=_a.role;if(!_b){var _c=this._refobj;_b=this._accessibility_role;if(_c.celltype=="head"){_b="columnheader";}else if(_c.celltype=="body"&&_c._area=="left"){_b="rowheader";}if(this._curDisplayType=="tree"){_b="treeitem";}else if(this._subComp){_a=this._subComp.on_find_CurrentStyle_accessibility(this._pseudo);_b=this._subComp._getAccessibilityRole(_a);}}return _b;};_pGridCell.on_get_style_accessibility_label=function(){return this._display_text;};_pGridCell._setAccessibilityNotifyEvent=function(_a){var _b=this._getAccessibilityMakeAddLabel();_b+=" "+this._getCellAccessibilityLabel();this._setAccessibilityLabel(_b);return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,(_a&&_a>0)?0:1);};_pGridCell.on_apply_text=function(){var _a=this._text_elem;if(_a){var _b=this._refobj;var _c=this._grid._getDataRow(this._rowidx);var _d=_b._getAttrValue(_b.displaytype,_c);var _e=nexacro._toString(this._display_text);if(_e&&_e.indexOf("\r")!= -1){_e=_e.replace(/\r/g,"");}if(_d=="decoratetext"){_a.setElementDecorateText(_e);}else{if(_a.decoration!=""){_a.decoration="";_a.text=null;}_a.setElementText(_e);}}};_pGridCell.on_apply_wordwrap=function(){var _a=this._grid;var _b=_a._getDataRow(this._rowidx);var _c=this._refobj._getWordwrap(_b);var _d=this._text_elem;if(_d){_d.setElementWordWrap(_c);}};_pGridCell._common_lbuttonup=function(_a,_b,_c,_d,_e){if(_a){var _f=nexacro._getFirstTouchInfo(_a);if(_f){_b=_f._elem;_c=_f.canvasX;_d=_f.canvasY;_e=_b;}}if(_b!=_e){var _g=this._is_real_upelem=_e;var _h=this._grid;var _i=false;if(_h._selectborder_elements.length&&_g instanceof nexacro.GridCellControlElement){this._is_real_upelem=undefined;}else{while(_g){if(_g._type_name=="GridCell"){_h._lastmouseentercell=_g;}if(_g._type_name=="Grid"){_i=true;break;}_g=_g.parent;}if(!_g){this._is_real_upelem=_g;}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&!_i){if(_h._showEditing&&_c>=0&&_c<this._adjust_width&&_d>=0&&_d<this._adjust_height){_h._lastmouseentercell=this;this._clickcall=true;}}}}return true;};_pGridCell._on_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._grid;if(application.enabletouchevent==false&&_m==false&&nexacro.isTouchInteraction&&_n.selectscrollmode=="select"){_n._common_fire_user_lbuttondown(this,_d,_e,_f,_g,_k,_l);}return nexacro.Component.prototype._on_touch_lbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGridCell._on_touchend=function(_a,_b,_c,_d,_e,_f){if(this._common_lbuttonup(_c,null,null,null,null)){nexacro.Component.prototype._on_touchend.call(this,_a,_b,_c,_d,_e,_f);}};_pGridCell._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._common_lbuttonup(null,_a,_f,_g,_m)){nexacro.Component.prototype._on_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}return true;};_pGridCell._on_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){if(this._grid._movingcell){this._updateCursor();}return nexacro.Component.prototype._on_dragenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q);};_pGridCell._common_mouseenter=function(_a){if(!this._is_alive){return false;}var _b=this._grid;var _c=_b._getDataRow(this._rowidx);if(_b._isFakeCell(_c)){return false;}if(_a!=this){if(this.parentcell){_b._mouseovercell=this.parentcell;}else{_b._mouseovercell=this;}if(this._isEnable()&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE")){this.on_apply_custom_pseudo("mouseover");}_b._lastmouseentercell=_b._mouseovercell;return true;}return true;};_pGridCell._on_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._common_mouseenter(_b)){return nexacro.Component.prototype._on_mouseenter.call(this._grid._lastmouseentercell,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}};_pGridCell._common_mouseleave=function(_a){if(!this._is_alive){return false;}var _b=this._grid;var _c=_b._getDataRow(this._rowidx);if(_b._isFakeCell(_c)){return false;}if(_a!=this){var _d=this;if(_b._mouseovercell){_d=_b._mouseovercell;_b._mouseovercell=null;}this._contents_pseudo="";return true;}return false;};_pGridCell._on_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._common_mouseleave(_b)){if(!this._grid._lastmouseentercell){this._grid._lastmouseentercell=this;}return nexacro.Component.prototype._on_mouseleave.call(this._grid._lastmouseentercell,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}};_pGridCell._common_fire_lbuttondown=function(_a){var _b=this._grid;var _c=_b._getDataRow(this._rowidx);this._is_clickproc=false;this._clickcall=false;_b._lastmouseentercell=this;if(!_b||_b._isFakeCell(_c)){return false;}if(this._refobj._isSubCell){return this.parent._common_fire_lbuttondown(_a);}if(this._band.id=="body"){var _d=false;if((_c!=_b._selectinfo.curdsrow)||(this._cellidx!=_b._selectinfo.curcell)){if(_b.autoenter=="select"){_d=true;}}else{if(!_b._showEditing){_d=true;}}if(_d){_b._showEditorCell=true;_b._showEditRowIdx=_c;_b._showEditCellIdx=this._cellidx;}}else{if((_c!=_b._selectinfo.curdsrow)||(this._cellidx!=_b._selectinfo.curcell)){if(_b._showEditing){_b._hideEditor();}}}};_pGridCell.on_fire_user_ontouchstart=function(_a,_b,_c,_d){this._common_fire_lbuttondown(_c);var _e=this._grid.parent;var _f=nexacro._getFirstTouchInfo(_b);var _g=_d;if(_f){while(_g&&_g instanceof nexacro.Component){if(_g instanceof nexacro.GridCell){break;}var _h=_g._getRecalcCanvasXY(_d._control_element,_f.canvasX,_f.canvasY);_f.canvasX=_h[0];_f.canvasY=_h[1];if(this._subComp==_g){break;}_g=_g.parent;}if(this._isSubCell){_f.canvasX+=this._adjust_left;_f.canvasY+=this._adjust_top;_f.clientX+=this._adjust_left;_f.clientY+=this._adjust_top;}if(this._subComp==_c){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_f.canvasX+=curstyle.padding.left;_f.canvasY+=curstyle.padding.top;_f.clientX+=curstyle.padding.left;_f.clientY+=curstyle.padding.top;}}}var _i=this._grid.on_fire_user_ontouchstart(_a,_b,_c,_d,true);var _j=this._grid._getRecalcCanvasXY(_d._control_element,_f.canvasX,_f.canvasY);_f.canvasX=_j[0];_f.canvasY=_j[1];var _k=this._getClientXY(_f.clientX,_f.clientY);_f.clientX=_k[0];_f.clientY=_k[1];if(!_i){while(_e){if(_e.on_fire_user_ontouchstart){_i=_e.on_fire_user_ontouchstart(_a,_b,_c,_d);if(_i){break;}}_e=_e.parent;}}return true;};_pGridCell.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_l;while(_m&&_m instanceof nexacro.Component){if(_m instanceof nexacro.GridCell){break;}var _n=_m._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_n[0];_h=_n[1];if(this._subComp==_m){break;}_m=_m.parent;}this._common_fire_lbuttondown(_k);var _o=this._grid.parent;if(this._isSubCell){_g+=this._adjust_left;_h+=this._adjust_top;_i+=this._adjust_left;_j+=this._adjust_top;}if(this._subComp==_k){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_g+=curstyle.padding.left;_h+=curstyle.padding.top;_i+=curstyle.padding.left;_j+=curstyle.padding.top;}}var _p=this._grid.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);var _q=this._grid._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_q[0];_h=_q[1];var _r=this._getClientXY(_g,_j);_i=_r[0];_j=_r[1];if(!_p){while(_o){if(_o.on_fire_user_onlbuttondown){_p=_o.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(_p){break;}}_o=_o.parent;}}return true;};_pGridCell._common_fire_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){var _p=false;var _q=this._getWindow();var _r=this;if(this._is_real_upelem){_r=_q.findComponent(this._is_real_upelem);}var _s=_n;while(_s&&_s instanceof nexacro.Component){if(_s instanceof nexacro.GridCell||_s instanceof nexacro.Grid){break;}var _t=_s._getRecalcCanvasXY(_n._control_element,_i,_j);_i=_t[0];_j=_t[1];if(this._subComp==_s){break;}_s=_s.parent;}if(_b){var _u=nexacro._getFirstTouchInfo(_b);if(!_u){return false;}if(this._isSubCell){_u.canvasX+=this._adjust_left;_u.canvasY+=this._adjust_top;_u.clientX+=this._adjust_left;_u.clientY+=this._adjust_top;}if(this._subComp==_m){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_u.canvasX+=curstyle.padding.left;_u.canvasY+=curstyle.padding.top;_u.clientX+=curstyle.padding.left;_u.clientY+=curstyle.padding.top;}}var _v=this._grid.parent;_p=this._grid.on_fire_user_ontouchend(_a,_b,_r,_r,true);if(!this._is_alive){return true;}var _w=this._grid._getRecalcCanvasXY(_n._control_element,_u.canvasX,_u.canvasY);_u.canvasX=_w[0];_u.canvasY=_w[1];var _x=this._getClientXY(_u.clientX,_u.clientY);_u.clientX=_x[0];_u.clientY=_x[1];if(!_p){while(_v){if(_v.on_fire_user_ontouchend){_p=_v.on_fire_user_ontouchend(_a,_b,_m,_n);if(_p){break;}}_v=_v.parent;}}}else{if(this._isSubCell){_i+=this._adjust_left;_j+=this._adjust_top;_k+=this._adjust_left;_l+=this._adjust_top;}if(this._subComp==_m){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_i+=curstyle.padding.left;_j+=curstyle.padding.top;_k+=curstyle.padding.left;_l+=curstyle.padding.top;}}var _v=this._grid.parent;_p=this._grid.on_fire_user_onlbuttonup(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_r,_r,_o,true);if(!this._is_alive){return true;}var _w=this._grid._getRecalcCanvasXY(_n._control_element,_i,_j);_i=_w[0];_j=_w[1];var _x=this._getClientXY(_i,_l);_k=_x[0];_l=_x[1];if(!_p){while(_v){if(_v.on_fire_user_onlbuttonup){_p=_v.on_fire_user_onlbuttonup(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);if(_p){break;}}_v=_v.parent;}}}var _y=this._grid;var _z=_y._getDataRow(this._rowidx);var _aa=this._is_real_upelem;var _ab=this._is_clickproc;var _ac=this._clickcall;this._is_real_upelem=null;this._is_clickproc=false;this._clickcall=false;if(_y._isFakeCell(_z)){return false;}var _ad=(this.parentcell)?this.parentcell:this;var _ae=_ad._refobj;var _af=_y._treetarget;if(!_ab){if(_af&&_af.row==_z&&_af.cell==_ae._cellidx){_ad.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,"treebutton",true);}else{if(_y._lastmouseentercell==_ad){if((_z==_y._selectinfo.curdsrow)&&(_ad._cellidx==_y._selectinfo.curcell)){if(_y._showEditing){var _ag=_y._currentCellEditor;if(_ag){if(_aa instanceof nexacro.InputElement){_aa.setElementFocus();if(_ag.getCaretPos){_ag._edit_base_api._setCaret(_aa);var _ah=_ag.getSelect();if(_ah[0]==_ah[1]){var _ai=_ag.getCaretPos();_ag._setFocus(false);if(_ag.setCaretPos){_ag.setCaretPos(_ai);}}}else{_ag._setFocus(false);}}else{_ag._setFocus(false);}}if(_aa){var _aj=false;var _ak=_aa;while(_ak){if(_ak._cellobj==_m){_aj=true;break;}_ak=_ak.parent;}if(!_aj){_aj=_ac;}if(_aj){_ad.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,"",true);}}}else{if(_aa){var _al=(_m.parentcell)?_m.parentcell:_m;var _aj=false;var _ak=_aa;while(_ak){if(_ak==_al){_aj=true;break;}_ak=_ak.parent;}if(_aj){_ad.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,"",true);}}}}}}}this._editshowing=false;};_pGridCell.on_fire_user_ontouchend=function(_a,_b,_c,_d){this._common_fire_lbuttonup(_a,_b,"",false,false,false, -1, -1, -1, -1, -1, -1,_c,_d,null);return true;};_pGridCell.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._common_fire_lbuttonup(null,null,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCell._getClickItem=function(_a,_b,_c,_d,_e,_f){if(!_e){return "";}var _g="";var _h=nexacro._getTextSize2(_f.currentstyle.letterspace,_e,_f.currentstyle.font,null,null,null,this._rtldirection);var _i=_f._getClientXY(_c,_d);var _a,_b;var _j=false;var _k=_f.on_find_CurrentStyle_padding(_f._pseudo);var _l=_k?_k.left:0;var _m=_k?_k.top:0;if(_a=="left"){if(_i[0]>=_l&&_i[0]<=(_h[0]+_l)){_j=true;}}else if(_a=="center"){var _n=(_f._client_width-_h[0])/2+_l;var _o=_n+_h[0];if(_i[0]>=_n&&_i[0]<=_o){_j=true;}}else{if(_i[0]>=_f._client_width-_h[0]+_l){_j=true;}}if(_j){if(_b=="top"){if(_i[1]>=_m&&_i[1]<=(_h[1]+_m)){_g="text";}}else if(_b=="middle"){var _p=(_f._client_height-_h[1])/2+_m;var _q=_p+_h[1];if(_i[1]>=_p&&_i[1]<=_q){_g="text";}}else{if(_i[1]>=_f._client_height-_h[1]+_m){_g="text";}}}return _g;};_pGridCell._clickitem="";_pGridCell._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._hideInner){if(_a instanceof nexacro.ControlElement){this._clickitem="border";}else if(_a instanceof nexacro.TextBoxElement){var _j,_k;if(_a.align){_j=_a.align._halign;_k=_a.align._valign;}else if(_a.halign&&_a.valign){_j=_a.halign;_k=_a.valign;}this._clickitem=this._getClickItem(_j,_k,_f,_g,_a.text,this);}}var _l=nexacro.Component.prototype._on_click.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._clickitem="";return _l;};_pGridCell.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!_n){var _o=_l;while(_o&&_o instanceof nexacro.Component){if(_o instanceof nexacro.GridCell){break;}var _p=_o._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_p[0];_h=_p[1];if(this._subComp==_o){break;}_o=_o.parent;}}if(this._isSubCell){_g+=this._adjust_left;_h+=this._adjust_top;_i+=this._adjust_left;_j+=this._adjust_top;}if(this._subComp==_k){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_g+=curstyle.padding.left;_h+=curstyle.padding.top;_i+=curstyle.padding.left;_j+=curstyle.padding.top;}}if(this._band){this._is_clickproc=true;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(!(this._grid.onlbuttondown&&this._grid.onlbuttondown.defaultprevented==true)||(this._grid.onlbuttonup&&this._grid.onlbuttonup.defaultprevented==true)){if(!this._grid._showEditing){this._setFocus(false);}}}if(_m==undefined){_m=this._clickitem;}if(this._grid._scrollpixel=="all"){this._showfull(this);}else{this.parent._showfull(this);}if(this._band.id=="body"){this._grid.on_fire_cellclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="head"){this._grid.on_fire_headclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="summ"){this._grid.on_fire_summclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}this._needToggle("onclick",_k);}return true;};_pGridCell._on_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._hideInner){if(_a instanceof nexacro.ControlElement){this._clickitem="border";}else if(_a instanceof nexacro.TextBoxElement){var _j,_k;if(_a.align){_j=_a.align._halign;_k=_a.align._valign;}else if(_a.halign&&_a.valign){_j=_a.halign;_k=_a.valign;}this._clickitem=this._getClickItem(_j,_k,_f,_g,_a.text,this);}}var _l=nexacro.Component.prototype._on_dblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._clickitem="";return _l;};_pGridCell.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;while(_n&&_n instanceof nexacro.Component){if(_n instanceof nexacro.GridCell){break;}var _o=_n._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_o[0];_h=_o[1];if(this._subComp==_n){break;}_n=_n.parent;}if(this._isSubCell){_g+=this._adjust_left;_h+=this._adjust_top;_i+=this._adjust_left;_j+=this._adjust_top;}if(this._subComp==_k){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_g+=curstyle.padding.left;_h+=curstyle.padding.top;_i+=curstyle.padding.left;_j+=curstyle.padding.top;}}if(this._band){nexacro._fireBeforeDblclick(_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(_m==undefined){_m=this._clickitem;}if(this._band.id=="body"){return this._grid.on_fire_celldblclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="head"){return this._grid.on_fire_headdblclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="summ"){return this._grid.on_fire_summdblclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}if(!this._is_alive){return;}}return true;};_pGridCell.on_fire_onsize=function(_a,_b){var _c=this._grid._currentCellEditor;var _d=this._grid;var _e=_d._getDataRow(this._rowidx);if(_c){if(_d._currentCellCell==this._cellidx&&this._grid._currentCellRow==_e){var _f=this._setPositionInGrid(_c);}}return false;};_pGridCell.on_fire_onmove=function(_a,_b){var _c=this._grid._currentCellEditor;var _d=this._grid;var _e=_d._getDataRow(this._rowidx);if(_c){if(_d._currentCellCell==this._cellidx&&this._grid._currentCellRow==_e){var _f=this._setPositionInGrid(_c);}}return false;};_pGridCell._resetScrollPos=function(_a,_b,_c,_d,_e,_f){var _g=this._grid;if(_g){_g._hideEditor();this.parent._showfull(this);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5&&_g._scrollbars==0){var _h=this.parent;if(_h){_c=_h._adjust_top;}_e=_c+this._adjust_height;nexacro.Component.prototype._resetScrollPos.call(this,_a,_b,_c,_d,_e,_f);}}};_pGridCell._getAccessibilityMakeAddLabel=function(){var _a="",_b=this._grid,_c=this._refobj;if(_b._first_focus&&_b._control_element&&nexacro._accessibilitytype!=5){_a=_b._getAccessibilityLabel(_b.on_find_CurrentStyle_accessibility(_b._pseudo));}if(_c.celltype=="body"||_c.celltype=="summary"){var _d=_b._headBand;var _e="",_f=null,_g=null,_h=null,_i="",_j="";if(this.parentcell){_f=this.parentcell.parent._cells;}else{_f=this.parent._cells;}for(var _l=0,_m=_f.length;_l<_m;_l++ ){_h=_f[_l]._refobj;_g=_f[_l].on_find_CurrentStyle_accessibility(this._pseudo);if(_g&&_h._area=="left"){if(_g._bindexpr&&_g._bindexpr.length>0){_i=_h._getAttrValue(_g,this._rowidx);_g._setValue(_i);}_e=_f[_l]._getAccessibilityLabel(_g,true);if(_h._row<=_c._row&&_c._row<=(_h._row+_h._rowspan-1)){if(_i){_i+=" "+_e;}else{_i=_e;}}}else{break;}}if(_d){var _k=_d._get_rows();_f=_k[0]._cells;for(var _l=0,_m=_f.length;_l<_m;_l++ ){_h=_f[_l]._refobj;_g=_f[_l].on_find_CurrentStyle_accessibility(this._pseudo);if(_g){if(_g._bindexpr&&_g._bindexpr.length>0){_d=_h._getAttrValue(_g,this._rowidx);_g._setValue(_d);}_e=_f[_l]._getAccessibilityLabel(_g,true);if(_h._col<=_c._col&&_c._col<=(_h._colspan+_h._col-1)){if(_j){_j=_j+" "+_e;}else{_j=_e;}}}}}if(_c._area=="left"){if(_j){_a+=" "+_j;}}else{if(_b.accessibilityreadbandlabel){_a+=" "+_i+" "+_j;}else{if(_i&&_b._beforegridrowpos!=_b.currentrow){_a+=" "+_i;}if(_b._beforegridcolpos!=_b.currentcol||(_b._is_first_bodycell&&(_b.currentcell==0||_b.currentrow==_b.rowcount-1))){if(_j){if(_a){_a=_a+" "+_j;}else{_a=_j;}}}}}}return _a;};_pGridCell._applyMouseLeaveEvent=function(){if(this._is_created&&this._pseudo=="mouseover"){var _a=this.parent;var _b=this._grid;if(_b._isSelectRowType()){_a._updateAll("normal");}else{this._updateAll("normal");}}};_pGridCell._applyMouseOverEvent=function(){if(this._is_created&&this._pseudo=="normal"){var _a=this.parent;var _b=this._grid;if(this._grid._isSelectRowType()){_a._updateAll("mouseover");}else{this._updateAll("mouseover");}}};_pGridCell._hideInnerElement=function(){this.getElement().setContainerVisible(false);this._hideInner=true;this.__showExpand(false);if(this._curDisplayType=="tree"){this._subComp._treeline_visible(false);}};_pGridCell._showInnerElement=function(){this.getElement().setContainerVisible(true);this._hideInner=false;this.__showExpand(true);if(this._curDisplayType=="tree"){this._subComp._treeline_visible(true);}};_pGridCell.__showExpand=function(_a){if(!this._expandCtrl){return;}if(this._fakecell||this._is_fakemerge){this._expandCtrl.set_visible(false);return;}var _b=this._grid;var _c=this._refobj;var _d=_b._getDataRow(this._rowidx);var _e=_c._getAttrValue(_c.expandshow,_d);if(_e=="show"){if(_a==false){if(_c.suppressalign.indexOf("over")>0){this._expandCtrl.set_visible(true);}else{this._expandCtrl.set_visible(this.selected);}}else{this._expandCtrl.set_visible(true);}}else{this._expandCtrl.set_visible(false);}};_pGridCell._createDisplayer=function(_a){var _b="";var _c=this._grid;var _d=this._refobj;var _e=_c._getDataRow(this._rowidx);switch(_a){case "button":this._createButtonDisplayer();break;case "checkbox":this._createCheckboxDisplayer();break;case "image":this._createImageDisplayer();break;case "tree":this._createTreeDisplayer();_c._setTreeCellinfo(_d);break;case "combo":_b=_d._getAttrValue(_d.combodisplay,_e);if(_b=="display"){this._createComboDisplayer();}else{this._createTextDisplayer();}break;case "date":_b=_d._getAttrValue(_d.calendardisplay,_e);if(_b=="display"){this._createCalendarDisplayer();}else{this._createTextDisplayer();}break;case "text":case "decoratetext":case "normal":_b=_d._getAttrValue(_d.editdisplay,_e);var _f=_d._getEdittype(_e);if(_b=="display"){if(_f=="textarea"||_f=="readonly"){this._createTextAreaDisplayer();}else{this._createEditDisplayer();}}else{this._createTextDisplayer();}break;case "number":case "exponent":case "currency":_b=_d._getAttrValue(_d.editdisplay,_e);if(_b=="display"){this._createEditDisplayer();}else{this._createTextDisplayer();}break;case "bar":this._createBarDisplayer();break;}this._curDisplayType=_a;this._curEditDisplay=_b;};_pGridCell._isChangeDisplayer=function(_a,_b){var _c=this._grid;var _d=this._curDisplayType;if((_a!=_d)||_c._changeDisplayer){return true;}var _e="";var _f=this._refobj;if(_d=="combo"){_e=_f._getAttrValue(_f.combodisplay,_b);}else if(_d=="date"){_e=_f._getAttrValue(_f.calendardisplay,_b);}else if(_d=="text"||_d=="decoratetext"||_d=="normal"||_d=="number"||_d=="exponent"||_d=="currency"){_e=_f._getAttrValue(_f.editdisplay,_b);}if(_e!=this._curEditDisplay){return true;}return false;};_pGridCell._updateDisplayer=function(){var _a=this._grid;var _b=this._refobj;var _c=_a._getDataRow(this._rowidx);var _d=_b._getAttrValue(_b.displaytype,_c);var _e=true;var _f=this._band;if(_d===undefined){_d="normal";}if(this._isChangeDisplayer(_d,_c)==true){if(this._curDisplayType!=""){this._destroyDisplayer(_a._lbuttondown_proc);}this._createDisplayer(_d);if(this._subComp&&!this._subComp._is_created){this._subComp.on_created();}}else{this.on_apply_wordwrap();}var _g=_b._getAttrValue(_b.expandshow,_c);var _h=_b._getAttrValue(_b.expandsize,_c);if(_g=="show"){if(!this._expandCtrl){this._createExpandDisplayer();}else{if(this._expand_width!=_h){this._expandCtrl.destroy();this._expandCtrl=null;this._createExpandDisplayer();}else{this._changeClientmode("expand");}}this._control_element._updateClientSize();this._updateClientSize(this._control_element);}else{if(this._expandCtrl){this._expand_width=0;this._expandCtrl.destroy();this._expandCtrl=null;this._control_element._setExpandControl(null,0);this._updateClientSize(this._control_element);if(this._control_element._mode=="expandtext"){this._changeClientmode("text");}}}var _i=_a._isFakeCell(_c);if(_i){if(_a.fillareatype=="datarow"){if(!this._isDisplayDataType(_d)){if(_d!="date"){_e=false;if(_i!=this._fakecell||_a._resetfillarea){this._hideInnerElement();this._fakecell=_i;}}}}else if(_a.fillareatype=="linerow"){_e=false;if(_i!=this._fakecell||_a._resetfillarea){this._hideInnerElement();this._fakecell=_i;}}else if(_a.fillareatype=="controlrow"){if(this._isDisplayDataType(_d)){_e=false;if(_i!=this._fakecell||_a._resetfillarea){this._hideInnerElement();this._fakecell=_i;}}}}else{if(_i!=this._fakecell){this._showInnerElement();this._fakecell=_i;}}return _e;};_pGridCell._isUpdateArea=function(){if(this._isSubCell){return true;}var _a=this.parent,_b=_a.getElement(),_c=_b.scroll_left,_d=_c+this._grid._adjust_width;var _e=this._refobj;if(_e._area!="body"||(_c<=this._getPosRight()&&_d>=this._adjust_left)){return true;}return false;};_pGridCell._updateAll=function(_a,_b){if(!this._is_alive){return;}this._rowidx=this.parent._rowidx;var _c=this.getElement();if(_c){if(this._isUpdateArea()==false){return;}var _d=this._grid;var _e=this._disp_show=this._updateDisplayer();var _f=this._refobj;var _g=_d._getDataRow(this._rowidx);if(_d._currentCellRow>=0){var _h=this._text_elem;if(_h){var _i=this.parentcell?this.parentcell._cellidx:this._cellidx;if(_d._currentCellCell==_i&&_d._currentCellRow==_g){_h.setElementTextVisible(false);}else{_h.setElementTextVisible(true);}}var _j=this._subComp;if(_j){var _i=this.parentcell?this.parentcell._cellidx:this._cellidx;if(_d._currentCellCell==_i&&_d._currentCellRow==_g){_j.set_visible(false);}else{_j.set_visible(true);}if(_d._isSelectRowType()){_j.on_apply_pseudo();}}}this._display_text=this._getDisplayText();this.on_apply_text();this._control_pseudo="";this._contents_pseudo="";_a=_a===undefined?"normal":_a;if(_d._ReasonRefresh){this._status=_d._ReasonRefresh._status;}this.on_apply_pseudo(_a,_b);if(this.subcells.length>0){for(var _m=0,_n=this.subcells.length;_m<_n;_m++ ){this.subcells[_m]._updateAll(_a);}}else{if(_f._getSuppress(_g)!=0){if(this._band.id=="body"&&_f.suppressalign.indexOf("over")>0){this._hideInnerElement();}else{if(_e){var _k=this._getSuppressInfo();if(_k){if(_k.text_proc!=0){this._hideInnerElement();}else{this._showInnerElement();}}}}}else{if(_e&&this._hideInner){this._showInnerElement();}}}if(_c._mode=="text"){this._changeClientmode("text");}if(_d._isFakeCell(_g)==false){if(_f._getSuppress(_g)==0){var _l=this._is_fakemerge=_d._checkFakeMerge(_f,_g);if(_l){this._hideInnerElement();}else{this._showInnerElement();}}}}};_pGridCell._getSuppressInfo=function(){var _a=this._grid;var _b;if(_a._fixed_rowcnt>0){if(_a._fixed_endrow>=this._rowidx){_b=_a._fixed_startrow;}else{_b=_a._toprowpos[0]-(_a._fixed_rowcnt-_a._fixed_startrow);}}else{_b=_a._toprowpos[0];}var _c=this._rowidx-_b;if(this._rowidx>=0&&_c<0){return null;}return this._refobj._getSuppressInfo(_c);};_pGridCell._getAvailableRect=function(){var _a=this._grid;var _b=_a._getAvailableRect(this);return _b;};_pGridCell._changeClientmode=function(_a){var _b=this.getElement();var _c=null;if(_b){var _d=this.currentstyle.padding;if(this._refobj._subcells.length){_a="normal";}else if(_a=="expand"){if(_b._mode!="normal"){_a="expandtext";}else{_a="normal";}}else if(_a=="text"){if(this._expandCtrl){_a="expandtext";}else if(_d){_a=(_d.right>0||_d.bottom>0)?"expandtext":"text";}}_c=_b._changeMode(_a,this.currentstyle.padding);if(_a=="text"||_a=="expandtext"){this._text_elem=_c;}else{this._text_elem=null;}}};_pGridCell._createExpandDisplayer=function(){var _a=this.getElement();if(_a){this._changeClientmode("expand");var _b=this._grid._getDataRow(this._rowidx);this._expand_width=this._refobj._getAttrValue(this._refobj.expandsize,_b);var _c=this.on_find_CurrentStyle_border(this._pseudo);var _d=this._adjust_width-this._expand_width-((_c)?_c._right_width:0);var _e=0;var _f=_d+this._expand_width;var _g=this._adjust_height-((_c)?_c._bottom_width:0);if(_d<0){_d=0;_f=this._adjust_width;}var _h=this._expandCtrl=new nexacro.GridExpand(this,_d,_e,_f,_g);_h.createComponent();this._control_element._setExpandControl(this._expandCtrl,this._expand_width);}};_pGridCell._createTextDisplayer=function(){var _a=this.getElement();if(_a){var _b=this._getAvailableRect();this._changeClientmode("text");var _c=this._text_elem;if(_c){this.on_apply_wordwrap();}this.currentstyle._empty();}};_pGridCell._createButtonDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=new nexacro.GridControlButton("controlbutton",0,0,_e,_f,this,true);_g._is_subcontrol=true;_g.createComponent(true);this._subComp=_g;var _h=this._grid;var _i=_h._getDataRow(this._rowidx);var _j=this._refobj._getWordwrap(_i);_g.set_wordwrap(_j);this.currentstyle._empty();}};_pGridCell._createCheckboxDisplayer=function(_a,_b){var _c=this.getElement();if(_c){this._changeClientmode("normal");var _d=new nexacro.GridControlCheckbox("controlcheckbox",0,0,0,0,this,true);_d._is_subcontrol=true;_d.createComponent(true);this._subComp=_d;this.currentstyle._empty();}};_pGridCell._createImageDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;var _g=16;var _h=Math.round((_e-_g)/2);var _i=Math.round((_f-_g)/2);var _j=_h+_g;var _k=_i+_g;this._changeClientmode("normal");var _l=new nexacro.GridControlImage("controlimage",_h,_i,_g,_g,this);_l._is_subcontrol=true;_l.createComponent(true);this._subComp=_l;this.currentstyle._empty();}};_pGridCell._createTreeDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlTree("controltree",0,0,_e,_f,this);_g._is_subcontrol=true;_g.createComponent(true);this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createComboDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=new nexacro.GridControlCombo("controlcombo",0,0,_e,_f,this,true);_g._cellinfo=this._refobj;_g._is_subcontrol=true;_g.createComponent(true);_g.comboedit._input_element._isUseDelCaret=true;this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createCalendarDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlCalendar("controlcalendar",0,0,_e,_f,this,true);_g._cellinfo=this._refobj;_g._is_subcontrol=true;_g.createComponent(true);_g.calendaredit._input_element._isUseDelCaret=true;this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createEditDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlEdit("controledit",0,0,_e,_f,this,true);_g._is_subcontrol=true;_g.createComponent(true);_g._input_element._isUseDelCaret=true;this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createTextAreaDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlTextArea("controltextarea",0,0,_e,_f,this,true);_g._isSubControl=true;_g.createComponent(true);_g._input_element._isUseDelCaret=true;this._subComp=_g;var _h=this._grid;var _i=_h._getDataRow(this._rowidx);var _j=this._refobj._getWordwrap(_i);_g.set_wordwrap(_j);this.currentstyle._empty();}};_pGridCell._createBarDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlBar("controlprogressbar",0,0,_e,_f,this,true);_g._is_subcontrol=true;_g.createComponent(true);this._subComp=_g;this.currentstyle._empty();}};_pGridCell._updateAvailableArea=function(){var _a=this._getAvailableRect();var _b=this._subComp;if(_b){var _c=_a.width;var _d=_a.height;if(this._curDisplayType=="checkbox"||this._curDisplayType=="image"){var _e=this.currentstyle.align;if(_e&&!_e._is_empty){this.on_apply_style_ctrlAlign(_e.halign,_e.valign);}}else{_b.move(0,0,_c,_d);}}var _f=this._expandCtrl;if(_f){var _g=_f.left;var _h=0;var _i=_f.width;var _j=this._adjust_height;_f._applysetPosition(_g,_h,_i,_j);}};_pGridCell._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridCell._getDisplayRowIdx=function(){return this._rowidx-this._grid._getBodyBegRowPos(this._rowidx);};_pGridCell._is_Selected=function(){return (this.selected&&this._grid.useselcolor);};_pGridCell._getResultPseudo=function(_a,_b){_b=nexacro.Component._status_table[_a+"_"+_b];var _c=this._grid;if(_b=="mouseover"){_c._mouseRowPos=_c._getDataRow(this._rowidx);_c._mouseCellPos=this._cellidx;}else{_c._mouseRowPos= -9;_c._mouseCellPos= -1;}var _d=_c._getDataRow(this._rowidx);if((_c._isFakeCell(_d)&&_b!="disabled")||nexacro._cur_track_info||(nexacro.isTouchInteraction&&_b=="mouseover")){_b="normal";}else{var _e=_c._mouseRowPos;if(_e==_d&&_b=="normal"){_b="mouseover";}}return _b;};_pGridCell._getDisplayText=function(){if(this._refobj){var _a=this._grid;var _b;_b=_a._getDataRow(this._rowidx);return this._refobj._getDisplayText(_b);}return "";};_pGridCell._setDisplayText=function(){this._display_text=this._getDisplayText();this.on_apply_text();};_pGridCell.__updateCustomStyles=function(){this.on_apply_wordwrap();};_pGridCell._isDisplayDataType=function(_a){if(_a=="number"||_a=="exponent"||_a=="currency"||_a=="normal"||_a=="text"||_a=="decoratetext"){return true;}return false;};_pGridCell._showfull=function(_a){if(this._isSubCell){return this.parent._showfull();}var _b=this._band;var _c=this._grid._getScrollLeft();var _d=this._grid._getScrollTop();var _e=_b._control_element;var _f=this.parent._adjust_top;var _g=this._adjust_left;var _h=this._adjust_top+_f;var _i=this._adjust_width;var _j=this._adjust_height;var _k=_g+_i;var _l=_h+_j;_g-=_c;_k-=_c;_h-=_d;_l-=_d;var _m=this._grid;var _n=this.parent;var _o=_m.hscrollbar;var _p=_m.vscrollbar;var _q=this._refobj;var _r=_n._getAreaRect(_q._area);if(_o&&_q._area=="body"){if(_i<_r.width){if(_g<0){if(_o._isEnable()){_o._set_pixelpos(_o._pos+_g);}}else if(_k>_r.width){var _s=_k-_r.width;if(_o._isEnable()){_o._set_pixelpos(_o._pos+_s);}}}}if(_b.id=="body"){if(_p&&_a&&!_n._fixed){if(_j<_b._client_height){if(_h<0){if(_p._isEnable()){_p._set_pixelpos(_p._pos+_h);}}else if(_l>_b._client_height){var _t=_l-_b._client_height;if(_p._isEnable()){_p._set_pixelpos(_p._pos+_t);}}}}}};_pGridCell._needToggle=function(_a,_b){if(!this._is_alive){return;}var _c=this._grid;var _d=_c._getDataRow(this._rowidx);var _e=this._refobj._getEdittype(_d);if(_c.selectchangetype=="down"&&_a=="onclick"){return;}else if(_c.selectchangetype=="up"&&_a=="onlbuttondown"){return;}if(_e=="checkbox"&&nexacro._toBoolean(_c.readonly)==false){if(this._curDisplayType!="checkbox"){_c._toggleVal(_d,this._refobj);}else{if(_a=="onclick"||_a=="onlbuttondown"){if(this._grid.cellclickbound=="cell"&&_b==this){if(this._subComp&&this._subComp._toggleCheck){this._subComp._toggleCheck();}}}else{if(this._subComp&&this._subComp._toggleCheck){this._subComp._toggleCheck();}}}}};_pGridCell._setPositionInGrid=function(_a,_b,_c){var _d=(this._isSubCell)?this.parent.parent:this.parent;var _e=this._band;var _f=this._grid;var _g=this._refobj;var _h=_d._getAreaRect(_g._area);var _i=_h.left;var _j=_h.left+_h.width;var _k=(_e.id=="body"&&_d._fixed);var _l=_e._adjust_top+((_e.id=="body"&&_k==false)?_f._fixed_height:0);var _m=_e._getPosBottom();var _n=this._adjust_left+_i;var _o=_d._adjust_top+this._adjust_top+_l;if(!_b){var _p=(_k)?0:_f._getScrollTop();var _q=_f._getScrollLeft();if(_g._area=="body"){_n-=(_q>=0)?_q:0;}if(_e.id=="body"){_o-=(_p>=0)?_p:0;}}if(_e._refobj._noborder==true&&_g._row==0&&this._getDisplayRowIdx()<=0){_o+=(this.currentstyle.border)?this.currentstyle.border._bottom_width:0;}var _r=this._getAvailableRect();if(!_c){var _s=this.currentstyle.padding;_n+=(_s)?_s.left:0;_o+=(_s)?_s.top:0;}var _t=_n+_r.width;var _u=_o+_r.height;var _v=_o,_w=_n;if(_o<_l){_o=_l;}if(_u>_m){_u=_m;}if(_n<_i){_n=_i;}if(_t>_j){_t=_j;}var _x=_t-_n;var _y=_u-_o;if(_x<0){_x=0;}if(_y<0){_y=0;}if(_a){if(_x==0||_y==0){_a.move(0, -10,0,0);}else{_a.move(_n,_o,_x,_y);}}return {left:_n,top:_o,right:_t,bottom:_u,width:_x,height:_y,orgt:_v,orgl:_w};};_pGridCell._showEditor=function(_a,_b,_c){var _d=this._text_elem;var _e=this._refobj;var _f=this._grid;var _g=_f._getDataRow(this._rowidx);var _h;_f._currentCellCell=this._cellidx;_f._currentCellRow=_g;_f._currentCellCol=_e._col;_f._currentCellSubRow=_e._row;if(!_a){if(_c){this._showfull();}if(_f._showEditing){_f._hideEditor();}if(_d){_d.setElementTextVisible(false);}if(this._subComp){this._subComp.set_visible(false);}_h=_f._createEditor(this);this._setPositionInGrid(_h);_h._EditUpdateAll(_e,this);_h.set_visible(true);_h._setRtlDirection(this._rtldirection);if(nexacro.isTouchInteraction||_f.selectchangetype=="up"){_h._setFocus(false);}if(_f.autoenter=="select"&&_f._lbuttondown_proc){_h._user_push=true;_h._stat_change("focus","pushed");_h._is_pushed_area=true;_h._is_push=true;}else{_h._stat_change("focus","focused");}}else{if(this._subComp){this._subComp.set_visible(false);}_h=_f._currentCellEditor;if(_h){_h._cellinfo=_e;_h._cellobj=this;this._setPositionInGrid(_h);if(_b==true){_h._setFocus(false);}}}};_pGridCell._hideEditor=function(){var _a=this._text_elem;if(_a){_a.setElementTextVisible(true);}var _b=this._grid;_b._currentCellCell= -1;_b._currentCellRow= -1;_b._currentCellCol= -1;_b._currentCellSubRow= -1;if(this._subComp){var _c=this._subComp;if(_c._displaymode&&!_c._is_dblclick){_b._changeDisplayer=true;this._updateDisplayer();this._updateAll();_b._changeDisplayer=false;}else{if(nexacro.Browser=="Runtime"&&_c.setCaretPos){_c.setCaretPos(0);}_c.set_visible(true);}_c=null;}};_pGridCell._hasEditor=function(){var _a=this._refobj;var _b=this._grid;var _c=_b._getDataRow(this._rowidx);var _d=_a._getEdittype(_c);switch(_d){case "none":return false;case "normal":case "text":case "combo":case "date":case "mask":case "masknumber":case "textarea":case "button":case "readonly":return true;}return false;};_pGridCell.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._text_elem;if(_a){_a.setElementRtlDirection(this._rtldirection);}if(this._subComp){this._subComp._setRtlDirection(this._rtldirection);}};delete _pGridCell;nexacro.GridExpand=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,"controlexpand","absolute",_b,_c,_d-_b,_e-_c,null,null,_a);this.tabstop=false;this.parent=_a;this._is_subcontrol=true;this._is_nc_control=true;this._controlmode=(_f)?true:false;this._apply_pushed_pseudo=true;this._is_pushed_area=false;this._is_push=false;if(_a._refobj){this._grid=_a._grid;this._cellobj=_a;this._cellinfo=_a._refobj;}else{this._grid=_a;}this._text="";this._imagetext="";};var _pGridExpand=nexacro._createPrototype(nexacro.Component,nexacro.GridExpand);nexacro.GridExpand.prototype=_pGridExpand;_pGridExpand._type_name="GridExpand";_pGridExpand._text_elem=null;_pGridExpand._img_elem=null;_pGridExpand.on_apply_custom_pseudo=function(_a){if(!this._is_created){return;}var _b=this.getElement();if(!_b){return;}if(!_a){_a=this._pseudo;}};_pGridExpand.on_find_CurrentStyle_background=function(_a){if(this._is_push&&this._is_pushed_area){var _b=this._find_pseudo_obj("background","pushed","background",true);}else{var _b=this._find_pseudo_obj("background",_a,"background",true);}return _b;};_pGridExpand.on_find_CurrentStyle_color=function(_a){var _b=this._find_pseudo_obj("color",_a,"color",true);if(!_b){_b=this._cellobj.on_find_CurrentStyle_color(this._cellobj._pseudo);}return (_b)?_b:nexacro.Component._default_color;};_pGridExpand.on_find_CurrentStyle_font=function(_a){var _b=this._find_pseudo_obj("font",_a,"font",true);if(!_b){_b=this._cellobj.on_find_CurrentStyle_font(this._cellobj._pseudo);}return (_b)?_b:nexacro.Component._default_font;};_pGridExpand.on_find_CurrentStyle_cursor=function(_a){var _b=this._find_pseudo_obj("cursor",_a,"cursor",true);if(!_b){_b=this._cellobj.on_find_CurrentStyle_cursor(this._cellobj._pseudo);}return _b;};_pGridExpand.on_find_CurrentStyle_letterspace=function(_a){var _b=this._find_pseudo_obj("letterspace",_a,"letterspace");if(!_b){_b=this._cellobj.on_find_CurrentStyle_letterspace(this._cellobj._pseudo);}return (_b)?_b:nexacro.Component._default_letterspace;};_pGridExpand._find_pseudo_obj=function(_a,_b,_c,_d){if(!_d){return nexacro.Component.prototype._find_pseudo_obj.call(this,_a,_b,_c);}var _e=this._cellinfo;var _f=this._grid;var _g=_f._getDataRow(this._cellobj._rowidx);var _h="control"+_a;if(this._cellobj&&this._grid._isFakeCell(_g)&&_b!="disabled"){_b="normal";}var _i=_e._query_pseudo_control(this,_g,_h,_a,_b,_c);return _i;};_pGridExpand.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this._text){var _c=this._text_elem=new nexacro.TextBoxElement(_a);var _d=_b.align.halign==""?"center":_b.align._halign;var _e=_b.align.valign==""?"middle":_b.align._valign;_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlignXY(_d,_e);_c.setElementLetterSpace(_b.letterspace);}if(this._imagetext){this._setExpandImg(this._imagetext);}}};_pGridExpand.on_created_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_b){_b.create();}if(_a){_a.create();}};_pGridExpand.on_destroy_contents=function(){var _a=this.getElement();if(_a){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}}this._grid=null;this._cellobj=null;this._cellinfo=null;};_pGridExpand.on_change_containerRect=function(_a,_b){};_pGridExpand._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridExpand._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridExpand.on_get_style_accessibility_description=function(){if(this._cellobj){this._cellobj.tooltiptext;}};_pGridExpand.on_get_style_accessibility_label=function(){return this.text;};_pGridExpand._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.Component.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridExpand._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.Component.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridExpand.on_fire_user_ontouchstart=function(_a,_b,_c,_d){this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);var _e=nexacro._getFirstTouchInfo(_b);if(_e){this._grid.on_fire_onexpanddown("",false,false,false,_e.screenX,_e.screenY,_e.canvasX,_e.canvasY,_e.clientX,_e.clientY,_c,_d);}return true;};_pGridExpand.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._grid.on_fire_onexpanddown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridExpand.on_fire_user_ontouchend=function(_a,_b,_c,_d){this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);var _e=nexacro._getFirstTouchInfo(_b);if(_e){this._grid.on_fire_onexpandup("",false,false,false,_e.screenX,_e.screenY,_e.canvasX,_e.canvasY,_e.clientX,_e.clientY,_c,_d);return true;}};_pGridExpand.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._grid.on_fire_onexpandup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridExpand.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridExpand.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridExpand._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridExpand._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridExpand._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridExpand._setPositionEx=function(){var _a=this._text_elem;if(_a){_a.setElementPosition(0,0);var _b=this._grid._getAvailableRect(this);_a.setElementSize(_b.width,_b.height);}_a=this._img_elem;if(_a){this._imgAdjustAlign(this._image_width,this._image_height);}};_pGridExpand._imgAdjustAlign=function(_a,_b){var _c=this._grid._getAvailableRect(this);var _d=this._img_elem;if(_d){var _e=0;var _f=0;var _g=_c.height;var _h=_c.width;if(_a>_h){_e=_e-((_a-_h)/2);}else{_e=(_h-_a)/2;}if(_b>_g){_f=_f-((_b-_g)/2);}else{_f=(_g-_b)/2;}_d.setElementPosition(_e,_f);_d.setElementSize(_a,_b);}};_pGridExpand._on_loadImg=function(_a,_b,_c){if(!this._is_alive||!this._img_elem){return;}this._img_elem.setElementImageUrl(_a);this._imgAdjustAlign(_b,_c);};_pGridExpand._updateAll=function(){var _a=this.getElement();if(_a){var _b=this._grid;var _c=_b._getDataRow(this._cellobj._rowidx);this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._cellobj._pseudo);if(this._cellobj){var _d=this._cellinfo._getAttrValue(this._cellinfo.expandimage,_c);this._setExpandImg(_d);_d=this._cellinfo._getAttrValue(this._cellinfo.expandchar,_c);this._setExpandText(_d);_d=this.on_find_CurrentStyle_font(this._cellobj._pseudo);this._setFont(_d);_d=this.on_find_CurrentStyle_color(this._cellobj._pseudo);this._setColor(_d);this._setAlign("center","middle");this._setPositionEx();}}};_pGridExpand._setExpandImg=function(_a){var _b=this.getElement();if(_b){var _c=(_a)?_a.toString():null;if(_c){var _d=this._img_elem;if(!_d){_d=new nexacro.ImageElement(_b);this._img_elem=_d;_d.create();}_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());var _e=nexacro._getImageSize(_c,this._on_loadImg,this,undefined,_a);if(_e){this._image_width=_e.width;this._image_height=_e.height;_d.setElementImageUrl(_c);}}else{if(this._img_elem){this._img_elem.destroy();this._img_elem=null;if(this._text_elem){var _f=this.currentstyle.align;if(_f){var _g=_f.halign==""?"center":_f._halign;var _h=_f.valign==""?"middle":_f._valign;this._text_elem.setElementAlignXY(_g,_h);}}}}}};_pGridExpand._setExpandText=function(_a){var _b=this.getElement();if(_b){if(this._text!=_a){this._text=_a;var _c=this._text_elem;var _d=this.currentstyle;if(!_c){_c=this._text_elem=new nexacro.TextBoxElement(_b);var _e=(!_d.align||_d.align.halign=="")?"center":_d.align.halign;var _f=(!_d.align||_d.align.valign=="")?"middle":_d.align.valign;_c.setElementFont(_d.font);_c.setElementColor(_d.color);_c.setElementAlignXY(_e,_f);_c.setElementLetterSpace(_d.letterspace);_c.create();}_c.setElementText(_a);}}};_pGridExpand._setFont=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pGridExpand._setColor=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pGridExpand._setAlign=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementAlignXY(_a,_b);}};delete _pGridExpand;nexacro.GridControlButton=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ButtonCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._displaymode=(_g)?true:false;this._controlmode=(_h)?true:false;this._clickevt_able=true;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;this._cellinfo=null;this._cellobj=null;}};var _pGridButton=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.GridControlButton);nexacro.GridControlButton.prototype=_pGridButton;_pGridButton.on_find_CurrentStyle_align=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("align",_a,"align");return _c;}return null;};_pGridButton.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("accessibility",_a,"accessibility");if(!_c){_c=_b.on_find_CurrentStyle_accessibility(_a);}return _c;}return null;};_pGridButton.on_find_CurrentStyle_background=function(_a){var _b=this._find_pseudo_obj("background",_a,"background");return _b;};_pGridButton.on_find_CurrentStyle_border=function(_a){var _b=this._find_pseudo_obj("border",_a,"border");return _b;};_pGridButton.on_find_CurrentStyle_bordertype=function(_a){var _b=this._find_pseudo_obj("bordertype",_a,"bordertype");return _b;};_pGridButton.on_find_CurrentStyle_color=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("color",_a,"color");if(!_c){_c=_b.on_find_CurrentStyle_color(_a);}return _c;}return null;};_pGridButton.on_find_CurrentStyle_font=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("font",_a,"font");if(!_c){_c=_b.on_find_CurrentStyle_font(_a);}return _c;}return null;};_pGridButton.on_find_CurrentStyle_letterspace=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("letterspace",_a,"letterspace");if(!_c){_c=_b.on_find_CurrentStyle_letterspace(_a);}return _c;}return null;};_pGridButton.on_find_CurrentStyle_gradation=function(_a){var _b=this._find_pseudo_obj("gradation",_a,"gradation");return _b;};_pGridButton.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("cursor",_a)||_c.on_find_CurrentStyle_cursor(_a);return (_d)?_d:nexacro.Component._default_cursor;}return null;};_pGridButton._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridButton._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridButton.on_destroy_contents=function(){nexacro.ButtonCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridButton._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridButton.on_apply_custom_setfocus=function(_a){if(!this._displaymode){nexacro.ButtonCtrl.prototype.on_apply_custom_setfocus.call(this,_a);}};_pGridButton.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridButton.on_get_style_accessibility_label=function(){return this.text;};_pGridButton.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_user_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==13||_a==32){this.click();}return _g;};_pGridButton._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.ButtonCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridButton._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.ButtonCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridButton._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.ButtonCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridButton._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.ButtonCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridButton.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.ButtonCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridButton.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ButtonCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridButton.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.ButtonCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridButton.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridButton.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};_pGridButton.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};_pGridButton._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridButton._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridButton._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._is_dblclick||(this._displaymode&&(this._grid.selectchangetype=="up"))){_j=true;}if(this._cellobj._is_clickproc){return;}if(_j&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pGridButton._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridButton._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._setProperty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getWordwrap(_d);this.set_wordwrap(_e);}};_pGridButton._setDataset=function(_a){};_pGridButton._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e;if(this._displaymode==true){_e=_a._getDisplayText(_d);}else{_e=_a._getValue(_d);}_e=nexacro._toString(_e);if(_e!=null){this.set_text(_e);}else{this.set_text("");}};_pGridButton._updateAll=function(_a){this.on_apply_pseudo(this._cellobj._pseudo,_a);this._setProperty();};delete _pGridButton;nexacro.GridControlBar=function(_a,_b,_c,_d,_e,_f,_g){nexacro.ProgressBarCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.max=100;this.min=0;this.blockgap=0;this.step=1;this._controlmode=(_g)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}};var _pGridBar=nexacro.GridControlBar.prototype=nexacro._createPrototype(nexacro.ProgressBarCtrl,nexacro.GridControlBar);_pGridBar.on_find_CurrentStyle_align=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("align",_a,"align");return _c;}return null;};_pGridBar.on_find_CurrentStyle_font=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_inherit_pseudo_obj("font",_a,"font");if(!_c){_c=_b.on_find_CurrentStyle_font(_a);}return _c;}return null;};_pGridBar.on_find_CurrentStyle_letterspace=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_inherit_pseudo_obj("letterspace",_a,"letterspace");if(!_c){_c=_b.on_find_CurrentStyle_letterspace(_a);}return _c;}return null;};_pGridBar.on_find_CurrentStyle_color=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_inherit_pseudo_obj("color",_a,"color");if(!_c){_c=_b.on_find_CurrentStyle_color(_a);}return _c;}return null;};_pGridBar.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("cursor",_a)||_c.on_find_CurrentStyle_cursor(_a);return (_d)?_d:nexacro.Component._default_cursor;}return null;};_pGridBar.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("accessibility",_a,"accessibility");if(!_c){_c=_b.on_find_CurrentStyle_accessibility(_a);}return _c;}return null;};_pGridBar.on_find_CurrentStyle_background=function(_a){var _b=this._find_pseudo_obj("background",_a,"background");return _b;};_pGridBar.on_find_CurrentStyle_border=function(_a){var _b=this._find_pseudo_obj("border",_a,"border");return _b;};_pGridBar.on_find_CurrentStyle_bordertype=function(_a){var _b=this._find_pseudo_obj("bordertype",_a,"bordertype");return _b;};_pGridBar.on_find_CurrentStyle_gradation=function(_a){var _b=this._find_pseudo_obj("gradation",_a,"gradation");return _b;};_pGridBar._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridBar._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellobj;if(_d){var _e=this._cellinfo;var _f="control"+_a;var _g=this._grid;var _h=_g._getDataRow(_d._rowidx);if(_d&&this._grid._isFakeCell(_h)&&_b!="disabled"){_b="normal";}if(_a=="barcolor"||_a=="bardirection"||_a=="bargradation"){var _i=_e.style[_a];if(_i&&_a=="barcolor"){return _e._getAttrValue(_i,_h);}_f="";}else if(_a=="padding"){return null;}var _j=_e._query_pseudo_control(this,_h,_f,_a,_b,_c);return _j;}return null;};_pGridBar.on_destroy_contents=function(){nexacro.ProgressBarCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridBar._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridBar.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridBar.set_text=function(_a){var _b=nexacro.Component.prototype.set_text.call(this,_a);this.set_pos(parseInt(this._display_text));return _b;};_pGridBar.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this._text_elem;var _c=this.currentstyle.align;if(!_c){this.on_apply_custom_pseudo(this._pseudo);_c=this.currentstyle.align;}if(!_b){_b=new nexacro.TextBoxElement(_a);this._text_elem=_b;var _d=this._grid._getAvailableRect(this);_b.setElementSize(_d.width,_d.height);if(this._is_created){var _e=(!_c||_c.halign=="")?"center":_c._halign;var _f=(!_c||_c.valign=="")?"middle":_c._valign;_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_e,_f);_b.setElementLetterSpace(this.currentstyle.letterspace);_b.create();}}else{var _e=(!_c||_c.halign=="")?"center":_c._halign;var _f=(!_c||_c.valign=="")?"middle":_c._valign;_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementLetterSpace(this.currentstyle.letterspace);_b.setElementAlignXY(_e,_f);}this._text_elem.setElementText(this._display_text);}};_pGridBar.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridBar.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridBar._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridBar._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridBar._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridBar._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridBar._updateAll=function(_a){if(this.getElement()){this.on_apply_pseudo(this._cellobj._pseudo,_a);this._setProperty();}};_pGridBar._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getDisplayText(_d);_e=nexacro._toString(_e);if(_e!=null){this.set_text(_e);}else{this.set_text("");}};delete _pGridBar;nexacro.GridControlEdit=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.EditCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.editfilter="none";if(_g){this._displaymode=true;this.readonly=true;}else{this._displaymode=false;}this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}this._absolutelyValue=false;};var _pGridEdit=nexacro._createPrototype(nexacro.EditCtrl,nexacro.GridControlEdit);nexacro.GridControlEdit.prototype=_pGridEdit;_pGridEdit._displaymode=false;_pGridEdit.on_find_CurrentStyle_align=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_pseudo_obj("align",_a,"align");return _c;}return null;};_pGridEdit.on_find_CurrentStyle_font=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("font",_a);if(!_c){_c=_b.on_find_CurrentStyle_font(_a);}return _c;}return null;};_pGridEdit.on_find_CurrentStyle_letterspace=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("letterspace",_a);if(!_c){_c=_b.on_find_CurrentStyle_letterspace(_a);}return _c;}return null;};_pGridEdit.on_find_CurrentStyle_color=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("color",_a);if(!_c){_c=_b.on_find_CurrentStyle_color(_a);}return _c;}return null;};_pGridEdit.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("accessibility",_a,"accessibility");if(!_c){_c=_b.on_find_CurrentStyle_accessibility(_a);}return _c;}return null;};_pGridEdit.on_find_CurrentStyle_background=function(_a){var _b=this._find_pseudo_obj("background",_a,"background");return _b;};_pGridEdit.on_find_CurrentStyle_border=function(_a){var _b=this._find_pseudo_obj("border",_a,"border");return _b;};_pGridEdit.on_find_CurrentStyle_bordertype=function(_a){var _b=this._find_pseudo_obj("bordertype",_a,"bordertype");return _b;};_pGridEdit.on_find_CurrentStyle_gradation=function(_a){var _b=this._find_pseudo_obj("gradation",_a,"gradation");return _b;};_pGridEdit._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridEdit._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridEdit.on_destroy_contents=function(){nexacro.EditCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridEdit.on_apply_custom_setfocus=function(_a,_b){if(this._grid._onceTime_focus&&!_b){nexacro.OnceCallbackTimer.callonce(this,function(){this.on_apply_custom_setfocus(_a,true);},0);return;}return nexacro.EditCtrl.prototype.on_apply_custom_setfocus.call(this,_a);};_pGridEdit._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridEdit.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridEdit.on_apply_autoskip=function(){this._grid._moveToCell("next",true);};_pGridEdit.on_apply_editfilter=function(_a){switch(_a){case 'alpha':case 'alpha,number':case 'digit':case 'number':case 'alpha,digit':this.set_inputfilter("none");this.set_inputtype(_a);break;case 'lower':case 'upper':this.set_inputfilter("none");this.set_inputtype("alpha");break;case 'lower,digit':case 'upper,digit':this.set_inputfilter("none");this.set_inputtype("alpha,digit");break;case 'lower,number':case 'upper,number':this.set_inputfilter("none");this.set_inputtype("alpha,number");break;case 'none':this.set_inputfilter("none");this.set_inputtype("normal");break;case 'alpha,number,nosign':case 'lower,number,nosign':case 'upper,number,nosign':this.set_inputfilter("sign");this.set_inputtype("alpha,number");break;case 'char':case 'lower,char':case 'upper,char':this.set_inputfilter("comma,symbol,sign,digit,dot");this.set_inputtype("normal");break;case 'integer':this.set_inputfilter("dot");this.set_inputtype("number");break;case 'digit,char':case 'lower,digit,char':case 'upper,digit,char':this.set_inputfilter("comma,symbol,sign,dot");this.set_inputtype("normal");break;case 'number,char':case 'lower,number,char':case 'upper,number,char':this.set_inputfilter("comma,symbol");this.set_inputtype("normal");break;}if(_a.indexOf("upper")>=0){this.set_inputmode("upper");}else if(_a.indexOf("lower")>=0){this.set_inputmode("lower");}else{this.set_inputmode("normal");}};_pGridEdit.set_editfilter=function(_a){if(this.editfilter!=_a){this.editfilter=_a;this.on_apply_editfilter(_a);}return _a;};_pGridEdit._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.EditCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridEdit._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.EditCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridEdit._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.EditCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridEdit._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.EditCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridEdit.on_fire_onkillfocus=function(_a,_b){return this._cellobj.on_fire_onkillfocus(_a,_b);};_pGridEdit.on_fire_onchar=function(_a,_b){if(this._absolutelyValue==true){return true;}if(!_b){var _c={evt:null};nexacro.EditCtrl.prototype.on_fire_onchar.call(this,_a,_c);_b=_c.evt;}else{nexacro.EditCtrl.prototype.on_fire_onchar.call(this,_a,_b);}return this._grid.on_fire_onchar(this,_a.chartext,_a.prechareventtext,_a.posttext,_b);};_pGridEdit.on_fire_ontextchange=function(_a,_b){if(this._absolutelyValue==true){return true;}if(!_b){var _c={evt:null};nexacro.EditCtrl.prototype.on_fire_ontextchange.call(this,_a,_c);_b=_c.evt;}else{nexacro.EditCtrl.prototype.on_fire_ontextchange.call(this,_a,_b);}return this._grid.on_fire_ontextchange(this,_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext,_b);};_pGridEdit.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridEdit.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.EditCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridEdit.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.EditCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridEdit.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.EditCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridEdit.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.EditCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridEdit.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(nexacro.Browser=="Edge"&&_a==nexacro.Event.KEY_ENTER){nexacro.EditCtrl.prototype._on_input_keydown.call(this,this._input_element,_a,_b,_c,_d);nexacro.EditCtrl.prototype._on_input_keypress.call(this,this._input_element,_a,_a,_b,_c,_d);}return nexacro.EditCtrl.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pGridEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.EditCtrl.prototype.on_fire_oneditclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this._cellobj.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);return true;};_pGridEdit.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.EditCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};if(nexacro.Browser=="Gecko"||nexacro.Browser=="Opera"){_pGridEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(this._cellobj._is_clickproc){return;}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}else{_pGridEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(this._cellobj._is_clickproc){return;}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}_pGridEdit._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridEdit._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridEdit.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridEdit._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridEdit._set_absolutelyValue=function(_a){this._absolutelyValue=true;this.set_value(_a);this._absolutelyValue=false;};_pGridEdit._updateAll=function(_a){if(this.getElement()){this.on_apply_pseudo(this._cellobj._pseudo,_a);this._setProperty();}};_pGridEdit._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e;if(this._displaymode==true){_e=_a._getDisplayText(_d);}else{_e=_a._getValue(_d);}this._set_absolutelyValue(_e);_e=_a._getAttrValue(_a.editautoselect,_d);if(_e!=null){this.set_autoselect(_e);}_e=_a._getAttrValue(_a.editautoskip,_d);if(_e!=null){this.set_autoskip(_e);}_e=_a._getAttrValue(_a.editfilter,_d);if(_e!=null){this.set_editfilter(_e);}_e=_a._getAttrValue(_a.editimemode,_d);if(_e!=null){this.set_imemode(_e);}_e=_a._getAttrValue(_a.edituseime,_d);if(_e!=null){this.set_useime(_e);}_e=_a._getAttrValue(_a.editlengthunit,_d);if(_e!=null){this.set_lengthunit(_e);}this.set_usesoftkeyboard(_c.usesoftkeyboard);};_pGridEdit._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._setProperty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}};_pGridEdit._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);var _g=this._edit_base_api;if(_g){if(_g._is_composition()){var _h=_g._stat_composition.getCurrentStatus();var _i=_g._stat_composition.getData();var _j=_g._on_input_compositionend(_i);if(!_j){_g._fire_text_event(_i);}if(nexacro.Browser=="Safari"){if(_h==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_i);}else if(_h==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_i);}}}}var _k=this.value;if(_b!=undefined){_f=_b;}var _l=true;if(_d.text._bindtype==1){_e._is_async_recreate=_a;_e._dsEventOccured=true;var _m={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_k,_m);if(_m.status=="cancolumnchange"){_l=false;}_e._is_async_recreate=false;_e._dsEventOccured=false;}return _l;};_pGridEdit._on_input_blur=function(_a,_b){var _c=this._grid;var _d=this._edit_base_api;if(_d){var _e=_d._stat_composition.getCurrentStatus();var _f=_d._stat_composition.getData();_c._currentCompositionStatus=_e;_c._currentCompositionData=_f;_d._on_input_blur(_a,_b);}};delete _pGridEdit;nexacro.GridControlTextArea=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.TextAreaCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.editfilter="none";if(_g){this._displaymode=true;this.readonly=true;}else{this._displaymode=false;}this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}this._absolutelyValue=false;this._is_use_ex_enter=true;};var _pGridTextArea=nexacro._createPrototype(nexacro.TextAreaCtrl,nexacro.GridControlTextArea);nexacro.GridControlTextArea.prototype=_pGridTextArea;_pGridTextArea.on_find_CurrentStyle_align=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_pseudo_obj("align",_a,"align");return _c;}return null;};_pGridTextArea.on_find_CurrentStyle_color=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("font",_a);if(!_c){_c=_b.on_find_CurrentStyle_font(_a);}return _c;}return null;};_pGridTextArea.on_find_CurrentStyle_color=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("color",_a);if(!_c){_c=_b.on_find_CurrentStyle_color(_a);}return _c;}return null;};_pGridTextArea.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("accessibility",_a,"accessibility");if(!_c){_c=_b.on_find_CurrentStyle_accessibility(_a);}return _c;}return null;};_pGridTextArea.on_find_CurrentStyle_background=function(_a){var _b=this._find_pseudo_obj("background",_a,"background");return _b;};_pGridTextArea.on_find_CurrentStyle_border=function(_a){var _b=this._find_pseudo_obj("border",_a,"border");return _b;};_pGridTextArea.on_find_CurrentStyle_bordertype=function(_a){var _b=this._find_pseudo_obj("bordertype",_a,"bordertype");return _b;};_pGridTextArea.on_find_CurrentStyle_gradation=function(_a){var _b=this._find_pseudo_obj("gradation",_a,"gradation");return _b;};_pGridTextArea._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridTextArea._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridTextArea.on_destroy_contents=function(){nexacro.TextAreaCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridTextArea.on_apply_custom_setfocus=function(_a,_b){if(this._grid._onceTime_focus&&!_b){nexacro.OnceCallbackTimer.callonce(this,function(){this.on_apply_custom_setfocus(_a,true);},0);return;}return nexacro.TextAreaCtrl.prototype.on_apply_custom_setfocus.call(this,_a);};_pGridTextArea._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridTextArea.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridTextArea.set_editfilter=function(_a){if(this.editfilter!=_a){this.editfilter=_a;this.on_apply_editfilter(_a);}return _a;};_pGridTextArea.on_apply_editfilter=function(_a){switch(_a){case 'alpha':case 'alpha,number':case 'digit':case 'number':case 'alpha,digit':this.set_inputfilter("none");this.set_inputtype(_a);break;case 'lower':case 'upper':this.set_inputfilter("none");this.set_inputtype("alpha");break;case 'lower,digit':case 'upper,digit':this.set_inputfilter("none");this.set_inputtype("alpha,digit");break;case 'lower,number':case 'upper,number':this.set_inputfilter("none");this.set_inputtype("alpha,number");break;case 'none':this.set_inputfilter("none");this.set_inputtype("normal");break;case 'alpha,number,nosign':case 'lower,number,nosign':case 'upper,number,nosign':this.set_inputfilter("sign");this.set_inputtype("alpha,number");break;case 'char':case 'lower,char':case 'upper,char':this.set_inputfilter("comma,symbol,sign,digit,dot");this.set_inputtype("normal");break;case 'integer':this.set_inputfilter("dot");this.set_inputtype("number");break;case 'digit,char':case 'lower,digit,char':case 'upper,digit,char':this.set_inputfilter("comma,symbol,sign,dot");this.set_inputtype("normal");break;case 'number,char':case 'lower,number,char':case 'upper,number,char':this.set_inputfilter("comma,symbol");this.set_inputtype("normal");break;}if(_a.indexOf("upper")>=0){this.set_inputmode("upper");}else if(_a.indexOf("lower")>=0){this.set_inputmode("lower");}else{this.set_inputmode("normal");}};_pGridTextArea._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.TextAreaCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridTextArea._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.TextAreaCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTextArea._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.TextAreaCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTextArea._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.TextAreaCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTextArea.on_fire_onchar=function(_a,_b){if(this._absolutelyValue==true){return true;}if(!_b){var _c={evt:null};nexacro.TextAreaCtrl.prototype.on_fire_onchar.call(this,_a,_c);_b=_c.evt;}else{nexacro.TextAreaCtrl.prototype.on_fire_onchar.call(this,_a,_b);}return this._grid.on_fire_onchar(this,_a.chartext,_a.prechareventtext,_a.posttext,_b);};_pGridTextArea.on_fire_ontextchange=function(_a,_b){if(this._absolutelyValue==true){return true;}if(!_b){var _c={evt:null};nexacro.TextAreaCtrl.prototype.on_fire_ontextchange.call(this,_a,_c);_b=_c.evt;}else{nexacro.TextAreaCtrl.prototype.on_fire_ontextchange.call(this,_a,_b);}return this._grid.on_fire_ontextchange(this,_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext,_b);};_pGridTextArea.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridTextArea.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.TextAreaCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridTextArea.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.TextAreaCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridTextArea.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.TextAreaCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridTextArea.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.TextAreaCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridTextArea.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(nexacro.Browser=="Edge"&&_a==nexacro.Event.KEY_ENTER){nexacro.TextAreaCtrl.prototype._on_input_keydown.call(this,this._input_element,_a,_b,_c,_d);nexacro.TextAreaCtrl.prototype._on_input_keypress.call(this,this._input_element,_a,_a,_b,_c,_d);}return nexacro.TextAreaCtrl.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pGridTextArea.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.TextAreaCtrl.prototype.on_fire_oneditclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this._cellobj.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);return true;};_pGridTextArea.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.TextAreaCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};if(nexacro.Browser=="Gecko"||nexacro.Browser=="Opera"){_pGridTextArea._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(this._cellobj._is_clickproc){return;}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}else{_pGridTextArea._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(this._cellobj._is_clickproc){return;}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}_pGridTextArea._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridTextArea._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridTextArea._on_input_blur=function(_a,_b){var _c=this._grid;var _d=this._edit_base_api;if(_d){var _e=_d._stat_composition.getCurrentStatus();var _f=_d._stat_composition.getData();_c._currentCompositionStatus=_e;_c._currentCompositionData=_f;_d._on_input_blur(_a,_b);}};_pGridTextArea.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridTextArea._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridTextArea._set_absolutelyValue=function(_a){this._absolutelyValue=true;this.set_value(_a);this._absolutelyValue=false;};_pGridTextArea._updateAll=function(_a){if(this.getElement()){this.on_apply_pseudo(this._cellobj._pseudo,_a);this._setProperty();}};_pGridTextArea._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e;if(this._displaymode==true||this.readonly){_e=_a._getDisplayText(_d);}else{_e=_a._getValue(_d);}this._set_absolutelyValue(_e);_e=_a._getAttrValue(_a.editautoselect,_d);if(_e!=null){this.set_autoselect(_e);}_e=_a._getAttrValue(_a.editautoskip,_d);if(_e!=null){this.set_autoskip(_e);}_e=_a._getAttrValue(_a.editfilter,_d);if(_e!=null){this.set_editfilter(_e);}_e=_a._getAttrValue(_a.editimemode,_d);if(_e!=null){this.set_imemode(_e);}_e=_a._getAttrValue(_a.edituseime,_d);if(_e!=null){this.set_useime(_e);}_e=_a._getAttrValue(_a.editlengthunit,_d);if(_e!=null){this.set_lengthunit(_e);}_e=_a._getAttrValue(_a.editscrollbar,_d);if(_e!=null){this.set_scrollbars(_e);}else{this.set_scrollbars("none");}this.set_usesoftkeyboard(_c.usesoftkeyboard);};_pGridTextArea._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);this._setProperty();var _e=_a._getWordwrap(_d);this.set_wordwrap(_e);}};_pGridTextArea._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(_b!=undefined){_f=_b;}var _g=this._edit_base_api;if(_g){if(_g._is_composition()){var _h=_g._stat_composition.getCurrentStatus();var _i=_g._stat_composition.getData();var _j=_g._on_input_compositionend(_i);if(!_j){_g._fire_text_event(_i);}if(nexacro.Browser=="Safari"){if(_h==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_i);}else if(_h==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_i);}}}}var _k=this.value;var _l=true;if(_d.text._bindtype==1&&!this.readonly){_e._is_async_recreate=_a;_e._dsEventOccured=true;var _m={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_k,_m);if(_m.status=="cancolumnchange"){_l=false;}_e._is_async_recreate=false;_e._dsEventOccured=false;}return _l;};delete _pGridTextArea;nexacro.GridControlMaskEdit=function(_a,_b,_c,_d,_e,_f,_g){nexacro.MaskEditCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._controlmode=(_g)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}this._absolutelyValue=false;};var _pGridMaskEdit=nexacro._createPrototype(nexacro.MaskEditCtrl,nexacro.GridControlMaskEdit);nexacro.GridControlMaskEdit.prototype=_pGridMaskEdit;_pGridMaskEdit.on_find_CurrentStyle_align=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_pseudo_obj("align",_a,"align");return _c;}return null;};_pGridMaskEdit.set_mask=function(_a,_b){if(!this._displaymode){_a=_a.replace(/0|9/g,"#");return nexacro.MaskEditCtrl.prototype.set_mask.call(this,_a,_b);}return nexacro.MaskEditCtrl.prototype.set_mask.call(this,_a,_b);};_pGridMaskEdit.on_find_CurrentStyle_font=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("font",_a);if(!_c){_c=_b.on_find_CurrentStyle_font(_a);}return _c;}return null;};_pGridMaskEdit.on_find_CurrentStyle_letterspace=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("letterspace",_a);if(!_c){_c=_b.on_find_CurrentStyle_letterspace(_a);}return _c;}return null;};_pGridMaskEdit.on_find_CurrentStyle_color=function(_a){var _b=this._cellobj;if(_b){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _c=this._find_inherit_pseudo_obj("color",_a);if(!_c){_c=_b.on_find_CurrentStyle_color(_a);}return _c;}return null;};_pGridMaskEdit.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellobj;if(_b){var _c=this._find_pseudo_obj("accessibility",_a,"accessibility");if(!_c){_c=_b.on_find_CurrentStyle_accessibility(_a);}return _c;}return null;};_pGridMaskEdit.on_find_CurrentStyle_background=function(_a){var _b=this._find_pseudo_obj("background",_a,"background");return _b;};_pGridMaskEdit.on_find_CurrentStyle_border=function(_a){var _b=this._find_pseudo_obj("border",_a,"border");return _b;};_pGridMaskEdit.on_find_CurrentStyle_bordertype=function(_a){var _b=this._find_pseudo_obj("bordertype",_a,"bordertype");return _b;};_pGridMaskEdit.on_find_CurrentStyle_gradation=function(_a){var _b=this._find_pseudo_obj("gradation",_a,"gradation");return _b;};_pGridMaskEdit._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridMaskEdit._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridMaskEdit.on_destroy_contents=function(){nexacro.MaskEditCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridMaskEdit.on_apply_custom_setfocus=function(_a,_b){if(this._grid._onceTime_focus&&!_b){nexacro.OnceCallbackTimer.callonce(this,function(){this.on_apply_custom_setfocus(_a,true);},0);return;}return nexacro.MaskEditCtrl.prototype.on_apply_custom_setfocus.call(this,_a);};_pGridMaskEdit._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridMaskEdit.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridMaskEdit._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=nexacro.MaskEditCtrl.prototype._on_fire_changeEventSet.call(this,_a,_b,_c,_d);if(_e){this._textchanging=true;}return _e;};_pGridMaskEdit.on_apply_autoskip=function(){this._grid._moveToCell("next",true);};_pGridMaskEdit._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.MaskEditCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridMaskEdit._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.MaskEditCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridMaskEdit._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.MaskEditCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridMaskEdit._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.MaskEditCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridMaskEdit.on_fire_onchar=function(_a){if(this._absolutelyValue==true){return true;}var _b={evt:null};nexacro.MaskEditCtrl.prototype.on_fire_onchar.call(this,_a,_b);return this._grid.on_fire_onchar(this,_a.chartext,_a.prechareventtext,_a.posttext,_b.evt);};_pGridMaskEdit.on_fire_ontextchange=function(_a){if(this._absolutelyValue==true){return true;}var _b={evt:null};nexacro.MaskEditCtrl.prototype.on_fire_ontextchange.call(this,_a,_b);return this._grid.on_fire_ontextchange(this,_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext,_b.evt);};_pGridMaskEdit.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridMaskEdit.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.MaskEditCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridMaskEdit.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.MaskEditCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridMaskEdit.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.MaskEditCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridMaskEdit.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.MaskEditCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridMaskEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.MaskEditCtrl.prototype.on_fire_oneditclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this._cellobj.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);return true;};_pGridMaskEdit.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.MaskEditCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};if(nexacro.Browser=="Gecko"||nexacro.Browser=="Opera"){_pGridMaskEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}else{_pGridMaskEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}_pGridMaskEdit._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridMaskEdit._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridMaskEdit._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridMaskEdit._set_absolutelyValue=function(_a){this._absolutelyValue=true;this.set_value(_a);this._absolutelyValue=false;};_pGridMaskEdit._updateAll=function(_a){if(this.getElement()){this._setProperty();this.on_apply_pseudo(this._cellobj._pseudo,_a);}};_pGridMaskEdit._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getEdittype(_d);var _f=_a._getDisplaytype(_d);var _g=_a._getAttrValue(_a.edittype,_d);var _h=_a._getValue(_d);_h=nexacro._toString(_h);if(_e=="masknumber"){this.set_type("number");this._set_absolutelyValue(_h);}else{if(_g=="normal"){if(_f=="number"){this.set_type("number");}else{this.set_type("string");}}else{this.set_type("string");}this._set_absolutelyValue(_h);}if(_e=="masknumber"||_e=="mask"){_h=_a._getAttrValue(_a.mask,_d);if(_h!=null){this.set_mask(_h);}}_h=_a.maskchar;if(_h!=null){this.set_maskchar(_h);}_h=_a._getAttrValue(_a.editautoselect,_d);if(_h!=null){this.set_autoselect(_h);}_h=_a._getAttrValue(_a.editautoskip,_d);if(_h!=null){this.set_autoskip(_h);}_h=_a._getAttrValue(_a.editclipmode,_d);if(_h!=null){this.set_clipmode(_h);}_h=_a._getAttrValue(_a.editlimitbymask,_d);if(_h!=null){this.set_limitbymask(_h);}_h=_a._getAttrValue(_a.edittrimtype,_d);if(_h!=null){this.set_trimtype(_h);}this.set_usesoftkeyboard(_c.usesoftkeyboard);};_pGridMaskEdit._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridMaskEdit._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(_b!=undefined){_f=_b;}var _g=true;if(_d.text._bindtype==1){var _h=this._edit_base_api;var _i=_h._getFocusText();var _j=_h._getFocusValue();var _k=this.text;var _l=this.value;if(this._textchanging||(this._is_focusing&&(_i!=_k||_j!=_l))){_e._is_async_recreate=_a;_e._dsEventOccured=true;var _m={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_l,_m);if(_m.status=="cancolumnchange"){_g=false;}_e._is_async_recreate=false;_e._dsEventOccured=false;this._textchanging=false;}}return _g;};delete _pGridMaskEdit;nexacro.GridControlCalendar=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.CalendarCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.ondropdown="grid";this._displaymode=(_g)?true:false;this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}};var _pGridCalendar=nexacro._createPrototype(nexacro.CalendarCtrl,nexacro.GridControlCalendar);nexacro.GridControlCalendar.prototype=_pGridCalendar;nexacro.GridControlCalendar._defaultButtonsize=nexacro._getCachedStyleObj("buttonsize",24);_pGridCalendar.on_find_CurrentStyle_buttonsize=function(_a){var _b=nexacro.CalendarCtrl.prototype.on_find_CurrentStyle_buttonsize.call(this,_a);if(_b<0||_b==null){return nexacro.GridControlCalendar._defaultButtonsize;}else{return _b;}};_pGridCalendar.on_find_CurrentStyle_align=function(_a,_b){var _c=this._cellobj;if(_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_pseudo_obj("align",_a,"align",this.calendaredit);return _d;}return null;};_pGridCalendar.on_find_CurrentStyle_font=function(_a,_b){var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("font",_a,"font",this.calendaredit);if(!_d){_d=_c.on_find_CurrentStyle_font(_a);}return _d;}return null;};_pGridCalendar.on_find_CurrentStyle_letterspace=function(_a,_b){var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("letterspace",_a,"letterspace",this.calendaredit);if(!_d){_d=_c.on_find_CurrentStyle_letterspace(_a);}return _d;}return null;};_pGridCalendar.on_find_CurrentStyle_color=function(_a,_b){var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("color",_a,"color",this.calendaredit);if(!_d){_d=_c.on_find_CurrentStyle_color(_a);}return _d;}return null;};_pGridCalendar.on_find_CurrentStyle_accessibility=function(_a,_b){var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility",_b);if(!_d){_d=_c.on_find_CurrentStyle_accessibility(_a);}return _d;}return null;};_pGridCalendar._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridCalendar._find_pseudo_obj=function(_a,_b,_c,_d){var _e=this._cellinfo;var _f;if(_a=="dayborder"||_a=="daybordertype"||_a=="daybackground"||_a=="daycolor"||_a=="dayfont"||_a=="daygradation"){_f=nexacro.CalendarCtrl.prototype._find_pseudo_obj.call(this,_a,_b,_c);if(_f){return _f;}}var _g=this._grid;var _h=_g._getDataRow(this._cellobj._rowidx);var _i="control"+_a;var _f=_e._query_pseudo_control(this,_h,_i,_a,_b,_c,_d);return _f;};_pGridCalendar.on_created_contents=function(){nexacro.CalendarCtrl.prototype.on_created_contents.call(this);if(this._displaymode){this.calendaredit._input_element.setElementReadonly(true);}};_pGridCalendar.on_destroy_contents=function(){nexacro.CalendarCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridCalendar._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_c=(_c!=_a._display_text)?_c:"";_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridCalendar.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridCalendar.set_innerdataset=function(_a){var _b=nexacro.CalendarCtrl.prototype.set_innerdataset.call(this,_a);if(this._controlmode){var _c=this._grid;if(_c){for(var _d=0;_d<_c.getCellCount("body");_d++ ){_c.setCellProperty("body",_d,"calendarinnerdataset",_a);}}}return _b;};_pGridCalendar.set_backgroundcolumn=function(_a){nexacro.CalendarCtrl.prototype.set_backgroundcolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){for(var _c=0;_c<_b.getCellCount("body");_c++ ){_b.setCellProperty("body",_c,"calendarbackgroundcolumn",_a);}}}};_pGridCalendar.set_bordercolumn=function(_a){nexacro.CalendarCtrl.prototype.set_bordercolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){for(var _c=0;_c<_b.getCellCount("body");_c++ ){_b.setCellProperty("body",_c,"calendarbordercolumn",_a);}}}};_pGridCalendar.set_datecolumn=function(_a){nexacro.CalendarCtrl.prototype.set_datecolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){for(var _c=0;_c<_b.getCellCount("body");_c++ ){_b.setCellProperty("body",_c,"calendardatecolumn",_a);}}}};_pGridCalendar.set_textcolorcolumn=function(_a){nexacro.CalendarCtrl.prototype.set_textcolorcolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){var _c=null;for(var _d=0;_d<_b.getCellCount("body");_d++ ){_b.setCellProperty("body",_d,"calendartextcolorcolumn",_a);}}}};_pGridCalendar.on_apply_custom_setfocus=function(_a){if(!this._displaymode){return nexacro.Calendar.prototype.on_apply_custom_setfocus.call(this,_a);}};_pGridCalendar._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.CalendarCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridCalendar._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.CalendarCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCalendar._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.CalendarCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCalendar._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.CalendarCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCalendar.on_notify_ondropdown=function(_a,_b){if(!this._displaymode){var _c=this._grid;var _d=nexacro.CalendarCtrl.prototype.on_notify_ondropdown.call(this,_a,_b);if(this._isPopupVisible()){_c._is_editor_keyaction=false;}else{_c._is_editor_keyaction=true;}return _d;}};_pGridCalendar.on_notify_mobile_ondropdown=function(_a,_b){if(!this._displaymode){var _c=this._grid;var _d=nexacro.CalendarCtrl.prototype.on_notify_mobile_ondropdown.call(this,_a,_b);if(this._isPopupVisible()){_c._is_editor_keyaction=false;}else{_c._is_editor_keyaction=true;}return _d;}};_pGridCalendar.on_notify_onkeydown=function(_a,_b){var _c=this._grid;if(_b.keycode==nexacro.Event.KEY_DOWN&&_b.altKey){_c._is_editor_keyaction=false;}if(!_a._displaymode){return (nexacro.CalendarCtrl.prototype.on_notify_onkeydown.call(this,_a,_b));}};_pGridCalendar.on_fire_onchar=function(_a,_b,_c,_d){nexacro.CalendarCtrl.prototype.on_fire_onchar.call(this,_a,_b,_c,_d);var _e=new nexacro.CharEventInfo(this,"onchar",_b,_c,_d);return this._grid.on_fire_onchar(_a,_b,_c,_d,_e);};_pGridCalendar.on_notify_onlbuttondown=function(_a,_b){if(!this._displaymode){return nexacro.CalendarCtrl.prototype.on_notify_onlbuttondown.call(this,_a,_b);}};_pGridCalendar.on_fire_ontextchange=function(_a,_b,_c,_d,_e,_f){var _g=new nexacro.TextChangeEventInfo(this,"ontextchange",_b,_c,_d,_e,_f);return this._grid.on_fire_ontextchange(this,_b,_c,_d,_e,_f,_g);};_pGridCalendar.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridCalendar.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(!_a._displaymode){if(this._grid.autoupdatetype=="dateselect"||this._grid.autoupdatetype=="itemselect"){this._setDataset(true,undefined,false,_c);}return (nexacro.CalendarCtrl.prototype.on_fire_onchanged.call(this,_a,_b,_c,_d,_e));}};_pGridCalendar.on_fire_oncloseup=function(_a,_b,_c,_d,_e,_f){this._grid.on_fire_oncloseup(_a,_b,_c,_d,_e,_f);};_pGridCalendar.on_fire_ondropdown=function(_a){this._grid.on_fire_ondropdown(_a);};_pGridCalendar.on_fire_user_ontouchend=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell&&_e){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridCalendar.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCalendar.on_fire_user_ontouchstart=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell&&_e){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridCalendar.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridCalendar.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.CalendarCtrl.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(this._isPopupVisible()){this._grid._is_editor_keyaction=false;}else{this._grid._is_editor_keyaction=true;}return _g;};_pGridCalendar.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.CalendarCtrl.prototype.on_fire_onclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCalendar.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.CalendarCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCalendar.on_notify_oneditclick=function(_a,_b){var _c="";if(_b.fromobject instanceof nexacro.CalendarEditCtrl){var _d=_b.fromobject._input_element;var _e,_f;if(_d.align){_e=_d.align._halign;_f=_d.align._valign;}else if(_d.halign&&_d.valign){_e=_d.halign;_f=_d.valign;}_c=this._cellobj._getClickItem(_e,_f,_b.canvasX,_b.canvasY,_d.text,_b.fromobject);}if(!_c){_c="control";}var _g=this._cellobj.currentstyle.padding;var _h=_b.canvasX+(_g?_g.left:0);var _i=_b.canvasY+(_g?_g.top:0);var _j=this._getClientXY(_h,_i);return this._cellobj.on_fire_onclick(_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_h,_i,_j[0],_j[1],_b.fromobject,_b.fromreferenceobject,_c);};_pGridCalendar._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}if(_j&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this,"control");}};_pGridCalendar._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridCalendar._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridCalendar.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridCalendar._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridCalendar._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridCalendar._updateAll=function(_a){if(this.getElement()){this.on_apply_pseudo(this._cellobj._pseudo,_a);this._setProperty();}};_pGridCalendar._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getAttrValue(_a.mask,_d);if(!_e||_e.length==0){_e="yyyy-MM-dd";}if(_e!=null){this.set_editformat(_e);this.set_dateformat(_e);}var _e=org_v=_a._getValue(_d);if(this._displaymode==true&&!_e){_e=_a._getDisplayText(_d);_e=this._makeNormalValue1(_e);}_e=this._toValueStr(_e);this.set_value(_e,true);_e=_a._getAttrValue(_a.editautoselect,_d);if(_e!=null){this.set_autoselect(_e);}if(this._isTimeMask()==true){this.set_type("spin");}else{this.set_type("normal");}if(_c.locale){this.set_locale(_c.locale);}var _f=_a._getAttrValue(_a.calendardisplay,_d);if(_f=="display"){_e=_a._getAttrValue(_a.calendardisplaynulltext,_d);if(_e!=null){this.set_displaynulltext(_e);}}var _g=_a._getAttrValue(_a.calendardisplaynulltype,_d);if(_g!="default"&&(nexacro._isNull(org_v)||org_v==="")){if(this._displaymode){if(_g=="nulltext"){var _h=_a._getAttrValue(_a.calendardisplaynulltext,_d);this.set_dateformat(_h);}else{if(_g=="nullmask"){_e=this._toValueStr(null);this.set_value(_e,true);}}}else{this.set_displaynulltext("");}}this.set_usesoftkeyboard(_c.usesoftkeyboard);var _i=_a._getAttrValue(_a.calendarinnerdataset,_d);if(_i){this.set_innerdataset(_i);}var _j=_a._getAttrValue(_a.calendarbackgroundcolumn,_d);if(_j){this.set_backgroundcolumn(_j);}var _k=_a._getAttrValue(_a.calendarbordercolumn,_d);if(_k){this.set_bordercolumn(_k);}var _l=_a._getAttrValue(_a.calendardatecolumn,_d);if(_l){this.set_datecolumn(_l);}var _m=_a._getAttrValue(_a.calendartextcolorcolumn,_d);if(_m){this.set_textcolorcolumn(_m);}};_pGridCalendar._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._setProperty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}};_pGridCalendar._setDataset=function(_a,_b,_c,_d){var _e=this._cellobj;var _f=this._cellinfo;var _g=this._grid;var _h=_g._getDataRow(_e._rowidx);if(_c==undefined){_c=true;}this._setValueCtrl(_c);var _i=this.value;if(_b!=undefined){_h=_b;}var _j=true;if(_f.text._bindtype==1){_g._is_async_recreate=_a;_g._dsEventOccured=true;var _k={status:""};_f.grid._binddataset._setColumn(_h,_f.text._bindexpr,_i,_k);if(_k.status=="cancolumnchange"){this._setValue(_d);_j=false;}_g._is_async_recreate=false;_g._dsEventOccured=false;}return _j;};_pGridCalendar._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrows;this._is_first_focus=false;return {want_tab:this._grid._acceptstab,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};delete _pGridCalendar;nexacro.GridControlCombo=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ComboCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;if(_g){this._displaymode=true;this.readonly=true;}else{this._displaymode=false;}this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}};var _pGridCombo=nexacro._createPrototype(nexacro.ComboCtrl,nexacro.GridControlCombo);nexacro.GridControlCombo.prototype=_pGridCombo;_pGridCombo.on_find_CurrentStyle_align=function(_a,_b){var _c=this._cellobj;if(_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_pseudo_obj("align",_a,"align",this.comboedit);return _d;}return null;};_pGridCombo.on_find_CurrentStyle_font=function(_a,_b){var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("font",_a,"font",this.comboedit);if(!_d){_d=_c.on_find_CurrentStyle_font(_a);}return _d;}return null;};_pGridCombo.on_find_CurrentStyle_letterspace=function(_a,_b){var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("letterspace",_a,"letterspace",this.comboedit);if(!_d){_d=_c.on_find_CurrentStyle_letterspace(_a);}return _d;}return null;};_pGridCombo.on_find_CurrentStyle_color=function(_a,_b){var _c=this._cellobj;if(_c){if(this._displaymode&&_a=="normal"){_a="readonly";}var _d=this._find_pseudo_obj("color",_a,"color",this.comboedit);if(!_d){_d=_c.on_find_CurrentStyle_color(_a);}return _d;}return null;};_pGridCombo.on_find_CurrentStyle_accessibility=function(_a,_b){var _c=this._cellobj;if(_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility",_b);if(!_d){_d=_c.on_find_CurrentStyle_accessibility(_a);}return _d;}return null;};_pGridCombo.on_find_CurrentStyle_background=function(_a,_b){var _c=this._find_pseudo_obj("background",_a,"background",_b);return _c;};_pGridCombo.on_find_CurrentStyle_bordertype=function(_a,_b){var _c=this._find_pseudo_obj("bordertype",_a,"bordertype",_b);return _c;};_pGridCombo.on_find_CurrentStyle_gradation=function(_a,_b){var _c=this._find_pseudo_obj("gradation",_a,"gradation",_b);return _c;};_pGridCombo._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridCombo._find_pseudo_obj=function(_a,_b,_c,_d){var _e=this._cellinfo;var _f=this._grid;var _g=_f._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_g)&&_b!="disabled"){_b="normal";}var _h="control"+_a;var _i=_e._query_pseudo_control(this,_g,_h,_a,_b,_c,_d);return _i;};_pGridCombo.on_destroy_contents=function(){nexacro.ComboCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridCombo._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_c=(_c!=_a._display_text)?_c:"";_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridCombo.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridCombo._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.ComboCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridCombo._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.ComboCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCombo._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.ComboCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCombo._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.ComboCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCombo.on_fire_oncloseup=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ComboCtrl.prototype.on_fire_oncloseup.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._grid.on_fire_oncloseup(_a,_c,_f,_d,_g,_h);};_pGridCombo.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._grid;if(_a==nexacro.Event.KEY_DOWN||_a==nexacro.Event.KEY_UP||(_a==nexacro.Event.KEY_DOWN&&_b)){_g._is_editor_keyaction=false;}nexacro.ComboCtrl.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(!this._displaymode){return this._cellobj.on_fire_user_onkeydown(_a,_b,_c,_d,_e,_f);}};_pGridCombo.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._displaymode){return nexacro.ComboCtrl.prototype.on_fire_sys_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);};};_pGridCombo.on_fire_ondropdown=function(_a){return this._grid.on_fire_ondropdown(_a);};_pGridCombo.on_fire_user_ontouchend=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell&&_e){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridCombo.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCombo.on_fire_user_ontouchstart=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell&&_e){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridCombo.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridCombo.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ComboCtrl.prototype.on_fire_onclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCombo.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.ComboCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCombo.on_fire_ontextchange=function(_a,_b){if(_b.pretext!=_b.posttext){this._text_change=true;}return this._grid.on_fire_ontextchange(this,_b.chartext,_b.pretext,_b.posttext,_b.preimetext,_b.postimetext,_b);};_pGridCombo.on_fire_ontextchanged=function(_a,_b){this.on_combo_text_changed(_b.pretext,_b.posttext);return this._grid.on_fire_ontextchanged(_a,_b.pretext,_b.posttext);};_pGridCombo.on_fire_onitemchanged=function(_a,_b,_c,_d,_e,_f,_g){if(!_a._displaymode){if(this._grid.autoupdatetype=="comboselect"||this._grid.autoupdatetype=="itemselect"){this._setDataset(true);}return (nexacro.ComboCtrl.prototype.on_fire_onitemchanged.call(this,_a,_b,_c,_d,_e,_f,_g));}};_pGridCombo.on_notify_edit_oneditclick=function(_a,_b){var _c="";if(_b.fromobject instanceof nexacro.ComboEditCtrl){if(nexacro.isTouchInteraction||nexacro.SupportTouch){var _d=new nexacro.EventInfo(this,"oneditclick");if((nexacro.Browser=="Runtime"&&(_b.button=="lbutton"||_b.button=="touch"))||(nexacro.Browser!="Runtime"&&(nexacro.isTouchInteraction&&_b.button=="touch"||(!nexacro.isTouchInteraction&&application.enabletouchevent&&((nexacro._pointerType=="pen"&&_b.button=="touch")||_b.button=="lbutton"))||(nexacro.Browser!="IE"&&!application.enabletouchevent&&_b.button=="lbutton")||(nexacro.Browser=="IE"&&!application.enabletouchevent)))){this.on_notify_edit_onlbuttondown(this,_d);}}var _e=_b.fromobject._input_element;var _f,_g;if(_e.align){_f=_e.align._halign;_g=_e.align._valign;}else if(_e.halign&&_e.valign){_f=_e.halign;_g=_e.valign;}_c=this._cellobj._getClickItem(_f,_g,_b.canvasX,_b.canvasY,_e.text,_b.fromobject);}if(!_c){_c="control";}var _h=this._cellobj.currentstyle.padding;var _i=_b.canvasX+(_h?_h.left:0);var _j=_b.canvasY+(_h?_h.top:0);var _k=this._getClientXY(_i,_j);return this._cellobj.on_fire_onclick(_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_i,_j,_k[0],_k[1],_b.fromobject,_b.fromreferenceobject,_c);};_pGridCombo.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype.on_lbuttondown_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._isPopupVisible()&&this==_l){this._closePopup();}return _n;};_pGridCombo._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}if(_j&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pGridCombo._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridCombo._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridCombo._callback_onvaluechanged=function(_a,_b){if(!this._displaymode){this._recheckValue();this._is_recheck=true;}};_pGridCombo.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridCombo._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridCombo._updateAll=function(_a){if(this.getElement()){this.on_apply_pseudo(this._cellobj._pseudo,_a);this._setProperty();}};_pGridCombo._setProperty=function(){var _a=this._cellinfo,_b=this._cellobj,_c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getEdittype(_d);var _f=_a._getAttrValue(_a.combodataset,_d);if(_f&&_f.length){this.set_innerdataset(_f);}var _g=_a._getAttrValue(_a.combodatacol,_d);if(_g&&_g.length){this.set_datacolumn(_g);}var _h=_a._getAttrValue(_a.combocodecol,_d);if(_h&&_h.length){this.set_codecolumn(_h);}var _i=_a._getAttrValue(_a.combodisplayrowcount,_d);if(_i){this.set_displayrowcount(_i);}var _j=_a._getAttrValue(_a.combotype,_d);if(_j){this.set_type(_j);}var _k=_a._getAttrValue(_a.editimemode,_d);if(_k){this.set_imemode(_k);}var _l;if(this._displaymode==true){_l=_a._getDisplayText(_d);this.set_text(_l);}else{_l=_a._getValue(_d);this.set_value(_l);}_l=_a._getAttrValue(_a.editautoselect,_d);if(_l!=null){this.set_autoselect(_l);}var _m=_a._getAttrValue(_a.combodisplay,_d);if(_m=="display"){_l=_a._getAttrValue(_a.combodisplaynulltext,_d);if(_l!=null){this.set_displaynulltext(_l);}}this.set_usesoftkeyboard(_c.usesoftkeyboard);};_pGridCombo._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridCombo._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);var _g=this.value;if(_b!=undefined){_f=_b;}var _h=true;if(_d.text._bindtype==1){if(this._prevalue!==this.value){_e._is_async_recreate=_a;_e._dsEventOccured=true;var _i={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_g,_i);if(_i.status=="cancolumnchange"){this.set_value(this._prevalue);_h=false;}_e._is_async_recreate=false;_e._dsEventOccured=false;}}return _h;};_pGridCombo._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrows;this._is_first_focus=false;return {want_tab:this._grid._acceptstab,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};delete _pGridCombo;nexacro.GridCellCheckbox=function(_a,_b,_c,_d,_e,_f){nexacro.CheckBoxCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_usetextbox=false;var _g=_f;while(_g){if(_g._type_name=="GridCell"){this._cellobj=_g;this._cellinfo=_g._refobj;this._grid=_g._refobj.grid;break;}_g=_g.parent;}this.checked=false;};var _pGridCellCheckbox=nexacro._createPrototype(nexacro.CheckBoxCtrl,nexacro.GridCellCheckbox);nexacro.GridCellCheckbox.prototype=_pGridCellCheckbox;_pGridCellCheckbox.on_find_CurrentStyle_font=function(){};_pGridCellCheckbox.on_find_CurrentStyle_letterspace=function(){};_pGridCellCheckbox.on_find_CurrentStyle_color=function(){};_pGridCellCheckbox.on_find_CurrentStyle_align=function(){};_pGridCellCheckbox.on_find_CurrentStyle_border=function(){};_pGridCellCheckbox.on_find_CurrentStyle_bordertype=function(){};_pGridCellCheckbox.on_find_CurrentStyle_background=function(){};_pGridCellCheckbox.on_find_CurrentStyle_gradation=function(){};_pGridCellCheckbox.on_find_CurrentStyle_padding=function(){};_pGridCellCheckbox.on_find_CurrentStyle_focusborder=function(){};_pGridCellCheckbox.on_find_CurrentStyle_moveeffect=function(){};_pGridCellCheckbox.on_find_CurrentStyle_shadow=function(){};_pGridCellCheckbox.on_find_CurrentStyle_textpadding=function(){};_pGridCellCheckbox.on_update_style_background=function(){};_pGridCellCheckbox.on_update_style_border=function(){};_pGridCellCheckbox.on_update_style_bordertype=function(){};_pGridCellCheckbox.on_update_style_gradation=function(){};_pGridCellCheckbox.on_update_style_font=function(){};_pGridCellCheckbox.on_update_style_letterspace=function(){};_pGridCellCheckbox.on_update_style_padding=function(){};_pGridCellCheckbox.on_update_style_shadow=function(){};_pGridCellCheckbox.on_update_style_padding=function(){};_pGridCellCheckbox.on_update_style_align=function(){};_pGridCellCheckbox.on_update_style_cursor=function(){};_pGridCellCheckbox.on_update_style_color=function(){};_pGridCellCheckbox.on_create_contents=function(){nexacro.CheckBoxCtrl.prototype.on_create_contents.call(this);this.chkimg.on_apply_custom_setfocus=function(){};this.chkimg._on_last_lbuttonup=function(){this.parent._on_last_lbuttonup();};this.chkimg._on_last_keyup=function(){this.parent._on_last_keyup();};};_pGridCellCheckbox.on_apply_custom_setfocus=function(_a,_b){};_pGridCellCheckbox.on_apply_style_buttonalign=function(){var _a;if(this.currentstyle.buttonsize==null){_a=14;}else{_a=parseInt(this.currentstyle.buttonsize._value,10);}this.resize(_a,_a);};_pGridCellCheckbox._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridCellCheckbox._styleProp=[["buttonbackground","background"],["buttonborder","border"],["buttonbordertype","bordertype"],["buttongradation","gradation"],["buttonimage","image"]];_pGridCellCheckbox._getStyleProp=function(_a){var _b=this._styleProp;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d][0]==_a){return _b[_d][1];}}return _a;};_pGridCellCheckbox.on_get_style_accessibility_label=function(){return "";};_pGridCellCheckbox.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._find_pseudo_obj("cursor",_a)||this._cellobj.on_find_CurrentStyle_cursor(_a);return (_c)?_c:nexacro.Component._default_cursor;};_pGridCellCheckbox._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}var _g="control"+this._getStyleProp(_a);var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridCellCheckbox.on_created_contents=function(){nexacro.CheckBoxCtrl.prototype.on_created_contents.call(this);var _a=this._cellobj.currentstyle.align;if(_a){this._setAlign(_a.halign,_a.valign);}};_pGridCellCheckbox.on_destroy_contents=function(){nexacro.CheckBoxCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridCellCheckbox.on_change_containerRect=function(){var _a=this._grid._getAvailableRect(this);var _b=_a.height;this.chkimg.move(0,0,_b,_b);};_pGridCellCheckbox._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);this._setAccessibilityStatChecked(this.isChecked());_a._setAccessibilityStatChecked(this.isChecked());nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridCellCheckbox.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridCellCheckbox.on_notify_checkbox_onkeydown=function(_a,_b){};_pGridCellCheckbox.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCellCheckbox.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCellCheckbox._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridCellCheckbox._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridCellCheckbox._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridCellCheckbox._setAlign=function(_a,_b){var _c=this._grid._getAvailableRect(this.parent);var _d=_c.right;var _e=_c.bottom;var _f=_c.width;var _g=_c.height;var _h;if(this.currentstyle.buttonsize==null){_h=14;}else{_h=parseInt(this.currentstyle.buttonsize._value,10);}if(!_a){_a="center";}if(!_b){_b="middle";}var _i=0;var _j=0;if(_a=="center"){_i=Math.round((_f-_h)/2);}else if(_a=="right"){_i=_d-_h;}if(_b=="middle"){_j=Math.round((_g-_h)/2);}else if(_b=="bottom"){_j=_e-_h;}this.move(_i,_j,_h,_h);};_pGridCellCheckbox._updateAll=function(_a){if(this.getElement()){this._setProperty();this.on_apply_pseudo(this._cellobj._pseudo,_a);this.set_value(this.checked);}};_pGridCellCheckbox._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getDisplayText(_d);_e=nexacro._toString(_e);if(_e!=null){this._display_text=_e;this.set_text(_e);}else{this._display_text="";this.set_text("");}_b._setAccessibilityStatChecked(this.checked);};delete _pGridCellCheckbox;nexacro.GridControlCheckbox=function(_a,_b,_c,_d,_e,_f,_g){nexacro.GridCellCheckbox.call(this,_a,_b,_c,_d,_e,_f);this._controlmode=(_g)?true:false;};var _pGridCheckbox=nexacro._createPrototype(nexacro.GridCellCheckbox,nexacro.GridControlCheckbox);nexacro.GridControlCheckbox.prototype=_pGridCheckbox;_pGridCheckbox.on_apply_text=function(){var _a=this._display_text;this.checked=(_a==null)?false:nexacro._toBoolean(_a);};_pGridCheckbox._common_fire_lbuttondown=function(_a){var _b=this._grid;if(_b){var _c=_b._getDataRow(this._cellobj._rowidx);if(_b._isFakeCell(_c)){return false;}}};_pGridCheckbox.on_fire_user_ontouchstart=function(_a,_b,_c,_d){this._common_fire_lbuttondown();return this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);};_pGridCheckbox.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._common_fire_lbuttondown();return this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridCheckbox.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.GridCellCheckbox.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridCheckbox.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.GridCellCheckbox.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCheckbox.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._grid;if(_m){var _n=_m._getDataRow(this._cellobj._rowidx);if(_m._isFakeCell(_n)){return false;}}if(_m.selectchangetype!="down"){if(nexacro._toBoolean(_m.readonly)==false){this._toggleCheck();}}if(!this._is_alive){return;}return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCheckbox.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._grid;if(_m){var _n=_m._getDataRow(this._cellobj._rowidx);if(_m._isFakeCell(_n)){return false;}}return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCheckbox._toggleCheck=function(){var _a=this._cellobj;var _b=this._cellinfo;var _c=this._grid;var _d=_c._getDataRow(_a._rowidx);var _e=_b._getEdittype(_d);if(_e=="checkbox"){var _f=nexacro._toBoolean(this.value);_f=(_f)?0:1;if(_b.text._bindtype==1){_c._dsEventOccured=true;if(_b.grid._binddataset.setColumn(_d,_b.text._bindexpr,_f)){_f=this._getDisplayText();this.set_value(_f);}if(_c){_c._dsEventOccured=false;}}}};_pGridCheckbox._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridCheckbox._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.GridCellCheckbox.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCheckbox._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.GridCellCheckbox.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};delete _pGridCheckbox;nexacro.GridControlImage=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_subcontrol=true;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}this._img_elem=null;this._img_type="url";this._accessibility_role="image";};var _pGridImage=nexacro._createPrototype(nexacro.Component,nexacro.GridControlImage);nexacro.GridControlImage.prototype=_pGridImage;_pGridImage._type_name="GridControlImage";_pGridImage.imagewidth=0;_pGridImage.imageheight=0;_pGridImage.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_accessibility(_f,_a);}return _d;}return null;};_pGridImage.on_find_CurrentStyle_background=function(_a){return this._find_pseudo_obj("background",_a,"background");};_pGridImage.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pGridImage.on_find_CurrentStyle_bordertype=function(_a){return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pGridImage.on_find_CurrentStyle_gradation=function(_a){return this._find_pseudo_obj("gradation",_a,"gradation");};_pGridImage.on_find_CurrentStyle_padding=function(_a){return this._find_pseudo_obj("padding",_a,"padding");};_pGridImage.on_find_CurrentStyle_opacity=function(_a){return this._find_pseudo_obj("opacity",_a);};_pGridImage.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._find_pseudo_obj("cursor",_a)||this._cellobj.on_find_CurrentStyle_cursor(_a);return (_c)?_c:nexacro.Component._default_cursor;};_pGridImage.on_find_CurrentStyle_shadow=function(_a){return null;};_pGridImage.on_find_CurrentStyle_font=function(_a){return this._find_inherit_pseudo_obj("font",_a,"font");};_pGridImage.on_find_CurrentStyle_letterspace=function(_a){return this._find_inherit_pseudo_obj("letterspace",_a,"letterspace");};_pGridImage.on_find_CurrentStyle_color=function(_a){return this._find_inherit_pseudo_obj("color",_a,"color");};_pGridImage.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a);};_pGridImage._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridImage._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridImage.on_created_contents=function(){if(this._img_elem){this._img_elem.create();}};_pGridImage.on_destroy_contents=function(){this._grid=null;this._cellinfo=null;this._cellobj=null;if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}};_pGridImage._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridImage.on_get_style_accessibility_label=function(){return (this.text)?this.text:this.id;};_pGridImage.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridImage.on_apply_text=function(){this._load_image(this._display_text);};_pGridImage.on_apply_imagestretch=function(){var _a=this._cellobj;var _b=this._img_elem;if(_a&&_b){var _c=this._grid;var _d=_a._refobj;var _e=_c._getDataRow(_a._rowidx);var _f=_d._getAttrValue(_d.imagestretch,_e);if(_f!="none"){var _g=_a._client_width;var _h=_a._client_height;if(_f=="fit"){_b.image_width=this.imagewidth=_g;_b.image_height=this.imageheight=_h;}else if(_f=="fixaspectratio"){var _i=0,_j=0;var _k=this.imagewidth;var _l=this.imageheight;var _m=_g/_k;var _n=_h/_l;if(_m<=_n){_i=_g;_j=Math.floor(_l*_m);}else{_i=Math.floor(_k*_n);_j=_h;}_b.image_width=this.imagewidth=_i;_b.image_height=this.imageheight=_j;}_b.setElementSize(this.imagewidth,this.imageheight);}_g=null,_h=null;_d=null,_c=null;_f=null;}_b=null;_a=null;};_pGridImage.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"image");};_pGridImage.on_fire_user_ontouchstart=function(_a,_b,_c,_d){return this.parent.on_fire_user_ontouchstart(_a,_b,this,_d);};_pGridImage.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l);};_pGridImage.on_fire_user_ontouchend=function(_a,_b,_c,_d){return this.parent.on_fire_user_ontouchend(_a,_b,this,_d);};_pGridImage.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this.parent.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,_m);};_pGridImage.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){return this.parent.on_fire_user_onkeydown(_a,_b,_c,_d,this,_f);};_pGridImage.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){return this.parent.on_fire_user_onkeyup(_a,_b,_c,_d,this,_f);};_pGridImage.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"image");};_pGridImage.on_fire_onsize=function(_a,_b){if(this._complete){this.__apply_text();}return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pGridImage._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridImage._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridImage._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridImage._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridImage._updateAll=function(_a){this.on_apply_pseudo(this._cellobj._pseudo,_a);this._setProperty();};_pGridImage._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getDisplayText(_d);_e=nexacro._toString(_e);if(_e!=null){this.set_text(_e);}else{this.set_text("");}};_pGridImage._adjustAlign=function(_a,_b){if(!_a){_a="center";}if(!_b){_b="middle";}this.on_apply_imagestretch();var _c=this._grid._getAvailableRect(this.parent);var _d=_c.width;var _e=_c.height;var _f=_c.right;var _g=_c.bottom;var _h=0;var _i=0;var _j=this._img_elem;var _k=this.imagewidth;var _l=this.imageheight;if(_a=="center"){_h=Math.round((_d-_k)/2);}else if(_a=="right"){_h=_f-_k;}if(_b=="middle"){_i=Math.round((_e-_l)/2);}else if(_b=="bottom"){_i=_g-_l;}this.move(_h,_i,_k,_l);if(_j){_j.setElementSize(_k,_l);}};_pGridImage._on_loadImg=function(_a,_b,_c){if(!this._is_alive||!this._img_elem){return;}if(this._img_type=="url"){this._img_elem.setElementImageUrl(_a);}else{this._img_elem.setElementImageBase64(_a);}this.imagewidth=_b;this.imageheight=_c;var _d=this.on_find_CurrentStyle_align(this._pseudo);if(_d){this._adjustAlign(_d.halign,_d.valign);}else{this._adjustAlign();}};_pGridImage._load_image=function(_a){var _b=this.getElement();var _c="";var _d="url";if(_a){_c=_a.toString();var _e=nexacro._checkBase64String(_c);if(_e){_d="base64";if(_c.substring(0,10).toLowerCase()=="data:image"){if(_c.substring(0,17).toLowerCase()!="data:image;base64"){var _f=_c.indexOf(",");if(_f> -1){var _g=_c.slice(_f+1,_c.legnth);_c="data:image;base64,"+_g;}}}else{_c="data:image;base64,"+_c;}}}if(_c&&_b){var _h=this._img_elem;var _i=false;if(!_h){this._img_elem=_h=new nexacro.ImageElement(_b);_i=true;}if(!_h._handle){_h.create();}if(_d=="url"){_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());}this._img_type=_d;var _j=nexacro._getImageSize(_c,this._on_loadImg,this,undefined,_a.toString());if(_j){this.imagewidth=_j.width;this.imageheight=_j.height;if(_d=="url"){_h.setElementImageUrl(_c);}else{_h.setElementImageBase64(_c);}}else{_h.setElementVisible(true);}var _k=this.on_find_CurrentStyle_align(this._pseudo);this._adjustAlign(_k.halign,_k.valign);if(_i){if(this._is_created){_h.create();}}if(this.imagewidth>0&&this.imageheight>0){_h.setElementVisible(true);_h.setElementSize(this.imagewidth,this.imageheight);}}else{if(this._img_elem){this._img_elem.setElementVisible(false);this.imagewidth=0;this.imageheight=0;}}};delete _pGridImage;nexacro.GridSelectorButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){nexacro.TrackImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_j);this._parent=_i;this._band=_i._band;this._grid=_j;this._idx=_k;this._point={x:0,y:0,w:0,h:0};this._minibox=null;this._minibox_size=8;this._minibox_wgap=0;this._minibox_hgap=0;};var _pGridSelectorButtonCtrl=nexacro.GridSelectorButtonCtrl.prototype=nexacro._createPrototype(nexacro.TrackImageButtonCtrl,nexacro.GridSelectorButtonCtrl);_pGridSelectorButtonCtrl._type_name="GridSelectorButtonControl";_pGridSelectorButtonCtrl.on_find_CurrentStyle_background=function(_a){};_pGridSelectorButtonCtrl.on_find_CurrentStyle_border=function(_a){};_pGridSelectorButtonCtrl.on_find_CurrentStyle_image=function(_a){return this._grid.on_find_CurrentStyle_selectpointimage(_a);};_pGridSelectorButtonCtrl.on_apply_style_image=function(_a){nexacro.TrackImageButtonCtrl.prototype.on_apply_style_image.call(this);this._updateMiniBox();};_pGridSelectorButtonCtrl._on_loadImg=function(_a,_b,_c){if(!this._is_alive){return;}this._image_width=_b;this._image_height=_c;this._updateMiniBox();};_pGridSelectorButtonCtrl._load_image=function(_a){var _b=_a?_a._value:"";if(_b){if(_b.substring(0,4).toLowerCase()=="url("){_b=_b.substring(5,_b.length-2);}_b=nexacro._getImageLocation(_b,this._getRefFormBaseUrl());var _c=nexacro._getImageSize(_b,this._on_loadImg,this,undefined,(_a?_a._value:""));if(_c){this._on_loadImg(_b,_c.width,_c.height);}}var _d=nexacro.TrackImageButtonCtrl.prototype._load_image.call(this,_a);return _d;};_pGridSelectorButtonCtrl._updateMiniBox=function(){if(!this.currentstyle.image||!this._image_width||!this._image_height){var _a=(this._adjust_height-this._minibox_size)/2;this._minibox_wgap=_a;this._minibox_hgap=_a;if(!this._minibox){this._minibox=new nexacro.Component("minibox","absolute",_a,_a,this._minibox_size,this._minibox_size,null,null,this);this._minibox._is_simple_control=true;this._minibox._is_track=true;this._minibox._on_starttrack=function(){return this.parent._on_starttrack();};this._minibox._on_movetrack=function(_a,_b,_c){return this.parent._on_movetrack(_a,_b,_c);};this._minibox._on_endtrack=function(_a,_b,_c){return this.parent._on_endtrack(_a,_b,_c);};this._minibox.on_find_CurrentStyle_border=function(_b){return nexacro._getCachedStyleObj("border","1 solid black");};this._minibox.on_find_CurrentStyle_background=function(_b){return this.parent._band._find_pseudo_obj("selectbackground","normal","background","body");};this._minibox.createComponent();}else{this._minibox.move(_a,_a,this._minibox_size,this._minibox_size);}}else{if(this._minibox){this._minibox.destroy();this._minibox=null;}if(this._img_elem){this._minibox_wgap=(this._adjust_width-this._image_width)/2;this._minibox_hgap=(this._adjust_height-this._image_height)/2;if(this._minibox_wgap<0){this._minibox_wgap=0;}if(this._minibox_hgap<0){this._minibox_hgap=0;}}}};_pGridSelectorButtonCtrl.on_fire_onsize=function(_a,_b){this._updateMiniBox();};_pGridSelectorButtonCtrl.on_create_contents=function(){nexacro.TrackImageButtonCtrl.prototype.on_create_contents.call(this);this._updateMiniBox();};_pGridSelectorButtonCtrl.on_created_contents=function(){nexacro.TrackImageButtonCtrl.prototype.on_created_contents.call(this);if(this._minibox){this._minibox.on_created();}};_pGridSelectorButtonCtrl.on_destroy_contents=function(){this._parent=null;this._band=null;this._grid=null;this._minibox=null;nexacro.TrackImageButtonCtrl.prototype.on_destroy_contents.call(this);};_pGridSelectorButtonCtrl._on_starttrack=function(){var _a=this._parent;_a._is_tracking=true;_a._track_reset_scroll=false;_a._track_up_scroll=false;var _b=this._grid._getScrollTop();var _c=this._grid._getScrollLeft();this._point.hgap=0;this._point.wgap=0;this._point.scrolltop=_b;this._point.scrollleft=_c;this._point.x=_a._area_pos.l;this._point.y=_a._area_pos.t;this._point.w=_a._area_pos.w;this._point.h=_a._area_pos.h;var _d=end_row=start_col=end_col= -1;var _e=this._grid._selectinfo.area;if(_e.length>0){var _f=_e[_e.length-1];_d=_f.begrow;end_row=_f.endrow;start_col=_f.begrow;end_col=_f.endrow;if(this._idx!=_a._pre_idx){var _g=this._grid._selectinfo.areainfo;var _h=this._grid._selectinfo.ctrlpoint;var _i;if(_g){var _j=this._grid._curFormat;var _k=_j._bodyrows.length;if(this._idx==0){_i=_j._bodycells[_g.ecell];_h._set(_i,_g.erow,_k);}else if(this._idx==1){_i=_j._bodycells[_g.scell];_h._set(_i,_g.srow,_k);}else if(this._idx==2){_i=_j._bodycells[_g.ecell];_h._set(_i,_g.srow,_k);}else if(this._idx==3){_i=_j._bodycells[_g.scell];_h._set(_i,_g.erow,_k);}}}}if(this._grid._fixed_rowcnt>0){var _l=this._grid._getHeadHeight();var _m=this._grid._fixed_height;var _n=_l+_m;if(_d>=this._grid._fixed_startrow&&_d<=this._grid._fixed_endrow){this._point.y=_a._area_pos.t+=this._point.scrolltop;if(end_row>this._grid._fixed_endrow&&_b>0){if(_a._end_scroll_top>=0){this._point.h=_a._area_pos.h-=_b;}}}}_a.set_visible(true);_a._trackbar[0].set_visible(false);_a._trackbar[1].set_visible(false);_a._trackbar[2].set_visible(false);_a._trackbar[3].set_visible(false);_a._start_begarea=this._grid._selectinfo.arearect.barea;_a._start_endarea=this._grid._selectinfo.arearect.earea;if(this._idx==0){this._area=_a._start_begarea;}else{this._area=_a._start_endarea;}this._grid._track_mode="areaselect";_a._callback_start.call(this._grid,_a._area_pos,this._idx);};_pGridSelectorButtonCtrl._on_movetrack=function(_a,_b,_c){var _d=this._parent;var _e=this._grid._getScrollTop();var _f=this._grid._getScrollLeft();var _g=scroll_left_gap=0;if(_d._start_scroll_top>=0){_g=_d._start_scroll_top-_e;}if(_d._start_scroll_left>=0){scroll_left_gap=_d._start_scroll_left-_f;}var _h=this._grid._selectinfo.ctrlpoint.row;var _i=true;if(this._grid._fixed_rowcnt>0&&_h>=this._grid._fixed_startrow&&_h<=this._grid._fixed_endrow){_i=false;}if(this._idx==0){var _j=this._point.x+_a;var _k=this._point.y+_b;var _l=this._point.w-_a+scroll_left_gap;var _m=this._point.h-_b+(_i?_g:0);}else if(this._idx==1){var _j=this._point.x+scroll_left_gap;var _k=this._point.y+(_i?_g:0);var _l=this._point.w+_a-scroll_left_gap;var _m=this._point.h+_b-(_i?_g:0);}else if(this._idx==2){var _j=this._point.x+_a;var _k=this._point.y;var _l=this._point.w-_a;var _m=this._point.h+_b;}else if(this._idx==3){var _j=this._point.x;var _k=this._point.y+_b;var _l=this._point.w+_a;var _m=this._point.h-_b;}var _n=this._grid._selectinfo.area;if(this._grid._fixed_rowcnt>0&&_n.length){var _o=this._grid.currentstyle.border;var _p=(_o)?parseInt(_o.right_width,10):0;var _q=this._grid._getHeadHeight();var _r=this._grid._fixed_rowcnt;var _s=this._grid._fixed_height;var _t=_q+_s+_p;var _u=_n[_n.length-1];var _v=_u.begrow;var _w=_u.endrow;var _x=this._grid._selectinfo.ctrlpoint;var _y=_x.row;var _z=_x.col;var _o=this._grid.currentstyle.border;var _p=(_o)?parseInt(_o.right_width,10):0;var _aa=this._grid._fixed_startrow;var _ab=this._grid._fixed_endrow;var _ac=this._grid.vscrollbar;if((_k+_m)<_t){_d._track_reset_scroll=true;}if(_w>_ab){_d._track_up_scroll=true;}if(_d._track_reset_scroll&&_v<=_ab&&_e>0&&(_k+_m)>=_t){_ac.set_pos(0);_d._track_reset_scroll=false;}else if(_d._track_up_scroll&&_x.row<=_ab&&_e>0&&(_k+_m)<=(_t)){_ac.set_pos(_ac.pos-1);}else if(_x.row>_ab&&_e>0&&_k<=_t){_ac.set_pos(_ac.pos-1);}}var _ad=_d._setAreaPos(_j,_k,_l,_m,true,this._idx);var _ae=false;_d._adjust_scroll=false;if(_ad[0]!=""||_ad[1]!=""){var _af;if(_d._onlyarea){_af=_d._curarea;}var _ag=_d._area_pos.l;var _ah=_d._area_pos.t;var _ai=_d._area_pos.w;var _aj=_d._area_pos.h;_ae=_d._callback_scroll.call(this._grid,_ad,_af);_d._area_pos.l=_ag;_d._area_pos.t=_ah;_d._area_pos.w=_ai;_d._area_pos.h=_aj;}if(_ae){if(_ad[1]=="bottomover1"||_ad[1]=="topover0"){}if(_ad[0]=="rightover1"||_ad[0]=="leftover0"){}}_d._callback.call(this._grid,_d._area_pos,this._idx,true);};_pGridSelectorButtonCtrl._on_endtrack=function(_a,_b,_c){var _d=this._parent;_d._is_tracking=false;_d._adjust_scroll=true;_d.set_visible(false);_d._trackbar[0].set_visible(true);_d._trackbar[1].set_visible(true);_d._start_begarea=this._grid._selectinfo.arearect.barea;_d._start_endarea=this._grid._selectinfo.arearect.earea;if(this._idx==0){this._area=_d._start_begarea;}else{this._area=_d._start_endarea;}_d._end_scroll_top=this._grid._getScrollTop();_d._end_scroll_left=this._grid._getScrollLeft();_d._pre_idx=this._idx;var _e=this._grid._selectinfo.area;if(this._grid._fixed_rowcnt>0&&_e.length){var _f=_e[_e.length-1];var _g=_f.endrow;var _h=this._grid._fixed_endrow;if(_g>_h){_d._track_up_scroll=true;}else{_d._track_up_scroll=false;}}this._grid._track_mode="";this._grid._updateSelector();};delete _pGridSelectorButtonCtrl;nexacro.GridSelector=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_simple_control=true;this._is_subcontrol=true;this._callback_start=null;this._callback=null;this._callback_scroll=null;this._trackbar=[];this._grid=_i;this._band=_i._bodyBand;this._area_pos={l:0,t:0,w:0,h:0,empty:true};this._curarea="";this._onlyarea=false;this._start_begarea="";this._start_endarea="";this._start_scroll_top= -1;this._start_scroll_left= -1;this._end_scroll_top= -1;this._end_scroll_left= -1;this._pre_idx= -1;};var _pGridSelector=nexacro._createPrototype(nexacro.Component,nexacro.GridSelector);nexacro.GridSelector.prototype=_pGridSelector;_pGridSelector._type_name="GridSelector";_pGridSelector._trackbar_size=22;_pGridSelector.on_find_CurrentStyle_background=function(_a){return null;};_pGridSelector.on_find_CurrentStyle_border=function(_a){return null;};_pGridSelector.on_find_CurrentStyle_opacity=function(_a){return null;};_pGridSelector.on_create_contents=function(){};_pGridSelector.on_created_contents=function(){if(this._trackbar[0]){this._trackbar[0].on_created();this._trackbar[1].on_created();this._trackbar[2].on_created();this._trackbar[3].on_created();}};_pGridSelector.on_destroy_contents=function(){this._trackbar[0].destroy();this._trackbar[1].destroy();this._trackbar[0]=null;this._trackbar[1]=null;this._trackbar[2]=null;this._trackbar[3]=null;this._trackbar=null;this._band=null;this._grid=null;};_pGridSelector.on_find_CurrentStyle_border=function(_a){return null;};_pGridSelector._createButton=function(){if(!this._trackbar[0]){this._trackbar[0]=new nexacro.GridSelectorButtonCtrl("selectortrackbar1","absolute",0,0,0,0,null,null,this,this.parent,0);this._trackbar[0].createComponent();this._trackbar[1]=new nexacro.GridSelectorButtonCtrl("selectortrackbar2","absolute",0,0,0,0,null,null,this,this.parent,1);this._trackbar[1].createComponent();this._trackbar[2]=new nexacro.GridSelectorButtonCtrl("selectortrackbar3","absolute",0,0,0,0,null,null,this,this.parent,2);this._trackbar[2].createComponent();this._trackbar[3]=new nexacro.GridSelectorButtonCtrl("selectortrackbar4","absolute",0,0,0,0,null,null,this,this.parent,3);this._trackbar[3].createComponent();this._trackbar[0]._no_slide_scroll=true;this._trackbar[1]._no_slide_scroll=true;this._trackbar[2]._no_slide_scroll=true;this._trackbar[3]._no_slide_scroll=true;this._recalcarea();}};_pGridSelector._updateAll=function(){if(this._trackbar[0]){this._trackbar[0].on_apply_custom_pseudo(this._trackbar[0]._pseudo);this._trackbar[1].on_apply_custom_pseudo(this._trackbar[1]._pseudo);this._trackbar[2].on_apply_custom_pseudo(this._trackbar[2]._pseudo);this._trackbar[3].on_apply_custom_pseudo(this._trackbar[3]._pseudo);}};_pGridSelector._recalcarea=function(_a){if(!this._trackbar[0]){return;}if(this._area_pos.empty){this._trackbar[0].set_visible(false);this._trackbar[1].set_visible(false);this._trackbar[2].set_visible(false);this._trackbar[3].set_visible(false);return;}if(_a!="hscroll"&&_a!="vscroll"){this.__showbutton(false);}var _b=this._trackbar_size;var _c=_b/2;var _d=this._grid;var _e=_d._curFormat;var _f=_e.leftWidth;var _g=_d._client_width-_e.rightWidth;var _h,_i,_j,_k;var _l,_m,_n,_o;var _p;_j=this._band._adjust_top;_k=this._band._getPosBottom();_h=[];_i=[];if(this._start_begarea=="left"){_h[0]=0;_i[0]=_f;}else if(this._start_begarea=="right"){_h[0]=_g;_i[0]=_d._client_width;}else{_h[0]=_f;_i[0]=_g;}if(this._start_endarea=="left"){_h[1]=0;_i[1]=_f;}else if(this._start_endarea=="right"){_h[1]=_g;_i[1]=_d._client_width;}else{_h[1]=_f;_i[1]=_g;}var _q=this._grid.currentstyle.border;var _r=(_q)?parseInt(_q.right_width,10):0;var _s=this._grid._getHeadHeight();var _t=this._grid._fixed_height;var _u=_s+_t+_r;var _v=this._grid._fixed_startrow;var _w=this._grid._fixed_endrow;var _x=this._grid._fixed_rowcnt;var _y=[false,false,false,false];var _z=this._grid._scroll_top;if(_x){var _aa=this._grid._selectinfo.area;var _ab,_ac;if(_aa.length>0){_ab=_aa[_aa.length-1].begrow;_ac=_aa[_aa.length-1].endrow;if(_ab<=(_v+_x)){_y[0]=_y[3]=true;}if(_ac<=(_v+_x)){_y[1]=_y[2]=true;}}}_p=_y[0]?_z:0;_l=this._area_pos.l-_c;_m=this._area_pos.t-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[0].move(_l,_m,_b,_b);var _ad=this._trackbar[0]._minibox_wgap;var _ae=this._trackbar[0]._minibox_hgap;var _af=_d._find_lastFocused();if(_af==_d){if(_n-_ad<_h[0]||_o-_ae<_j||_l+_ad>_i[0]||_m+_ae>_k||_m+_ae<_t){this._trackbar[0].visible=_y[0]||false;}else{this._trackbar[0].visible=true;}}else{this._trackbar[0].visible=false;}_p=_y[1]?_z:0;_l=this._area_pos.l+this._area_pos.w-_c;_m=this._area_pos.t+this._area_pos.h-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[1].move(_l,_m,_b,_b);if(_af==_d){if(_n-_ad<_h[1]||_o-_ae<_j||_l+_ad>_i[1]||_m+_ae>_k||_m+_ae<_t){this._trackbar[1].visible=_y[1]||false;}else{this._trackbar[1].visible=true;}}else{this._trackbar[1].visible=false;}_p=_y[2]?_z:0;_l=this._area_pos.l-_c;_m=this._area_pos.t+this._area_pos.h-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[2].move(_l,_m,_b,_b);if(_af==_d){if(_n-_ad<_h[0]||_o-_ae<_j||_l+_ad>_i[0]||_m+_ae>_k||_m+_ae<_t){this._trackbar[2].visible=false;}}_p=_y[3]?_z:0;_l=this._area_pos.l+this._area_pos.w-_c;_m=this._area_pos.t-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[3].move(_l,_m,_b,_b);if(_af==_d){if(_n-_ad<_h[1]||_o-_ae<_j||_l+_ad>_i[1]||_m+_ae>_k||_m+_ae<_t){this._trackbar[3].visible=false;}}this.__showbutton(true);};if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){_pGridSelector.__showbutton=function(_a){if(this._trackbar[0]){if(!_a){this._trackbar[0]._control_element.setElementVisible(false);this._trackbar[1]._control_element.setElementVisible(false);this._trackbar[2]._control_element.setElementVisible(false);this._trackbar[3]._control_element.setElementVisible(false);}else{nexacro.OnceCallbackTimer.callonce(this,function(){this._trackbar[0]._control_element.setElementVisible(this._trackbar[0].visible);this._trackbar[1]._control_element.setElementVisible(this._trackbar[1].visible);},10);}}};}else{_pGridSelector.__showbutton=function(_a){if(this._trackbar[0]){if(!_a){this._trackbar[0]._control_element.setElementVisible(false);this._trackbar[1]._control_element.setElementVisible(false);this._trackbar[2]._control_element.setElementVisible(false);this._trackbar[3]._control_element.setElementVisible(false);}else{this._trackbar[0]._control_element.setElementVisible(this._trackbar[0].visible);this._trackbar[1]._control_element.setElementVisible(this._trackbar[1].visible);}}};}_pGridSelector._trackingHScroll=function(_a,_b,_c,_d,_e,_f,_g){if(!this._adjust_scroll&&!this._grid.hscrollbar){return [0,0];}return this._grid._trackingHScroll(_a,_b,_c,this._start_begarea,this._start_endarea,_d,_e,_f,_g);};_pGridSelector._setAreaPos=function(_a,_b,_c,_d,_e,_f){var _g=["",""];var _h=this._grid;this._curarea=_h._selectinfo.ctrlpoint.area;if(_e){var _i=this._grid._getTrackType(this,_a,_b,_c,_d,_f,this._onlyarea);_a=_i.adjust_l;_b=_i.adjust_t;_c=_i.adjust_w;_d=_i.adjust_h;_g[0]=_i.type[0];_g[1]=_i.type[1];}var _j=(_h._selectinfo.area.length>0)?false:true;if(_c<=0){_c=1;}if(_d<=0){_d=1;}this._area_pos.l=_a;this._area_pos.t=_b;this._area_pos.w=_c;this._area_pos.h=_d;this._area_pos.area=this._curarea;this._area_pos.empty=_j;if(_e){this._area_pos.scrolltop=_h._getScrollTop();}return _g;};_pGridSelector.move=function(_a,_b,_c,_d,_e){if(!this._is_tracking){if(_a>this._grid._client_width){return;}this._start_begarea=this._grid._selectinfo.arearect.barea;this._start_endarea=this._grid._selectinfo.arearect.earea;this._setAreaPos(_a,_b,_c,_d);this._recalcarea(_e);}else{this._setAreaPos(_a,_b,_c,_d);}return nexacro.Component.prototype.move.call(this,_a,_b,_c,_d,undefined,undefined);};_pGridSelector._setCallbackFn=function(_a,_b,_c){this._callback_start=_a;this._callback=_b;this._callback_scroll=_c;};_pGridSelector._initTrackInfo=function(){this._start_scroll_top= -1;this._start_scroll_left= -1;this._end_scroll_top= -1;this._end_scroll_left= -1;this._pre_idx= -1;};delete _pGridSelector;nexacro.GridControlResizer=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_simple_control=true;this._is_track=true;this._callback=null;this._index= -1;this._direction="";this._tracksize= -1;this._is_range=false;this._movedPos=0;this._is_tracking=false;this._no_slide_scroll=true;};var _pGridResizer=nexacro._createPrototype(nexacro.Component,nexacro.GridControlResizer);nexacro.GridControlResizer.prototype=_pGridResizer;_pGridResizer.on_find_CurrentStyle_cursor=function(_a){var _b=this._direction;var _c;if(_b=="horizon"){_c=nexacro._getCachedValueObj("col-resize");}else{_c=nexacro._getCachedValueObj("row-resize");}return _c;};_pGridResizer.on_create_contents=function(){};_pGridResizer.on_created_contents=function(){this.set_visible(false);this._on_apply_tracksize();var _a=nexacro._getCachedBackgroundObj("gray");this.on_apply_style_background(_a);var _b=this._direction;var _c;if(_b=="horizon"){_c=nexacro._getCachedValueObj("col-resize");}else{_c=nexacro._getCachedValueObj("row-resize");}this.on_apply_style_cursor(_c);};_pGridResizer._setCallbackFn=function(_a){this._callback=_a;};_pGridResizer._setIndex=function(_a){this._index=_a;};_pGridResizer._setDirection=function(_a){if(this._direction!=_a){this._direction=_a;this._on_apply_direction();}};_pGridResizer._on_apply_direction=function(){var _a=this.getElement();if(_a){this._on_apply_tracksize();var _b=this._direction;var _c;if(_b=="horizon"){_c=nexacro._getCachedValueObj("col-resize");}else{_c=nexacro._getCachedValueObj("row-resize");}this.on_apply_style_cursor(_c);}};_pGridResizer._setTracksize=function(_a){if(this._tracksize!=_a){this._tracksize=_a;this._on_apply_tracksize();}};_pGridResizer._on_apply_tracksize=function(){var _a=this.getElement();if(_a){var _b=this._tracksize;var _c=this._direction;if(_c=="horizon"){this.resize(1,_b);}else if(_c=="vertical"){this.resize(_b,1);}}};_pGridResizer._moveLeftTo=function(_a){this.left=_a=_a||0;this.move(_a,this.top);};_pGridResizer._moveTopTo=function(_a){this.top=_a=_a||0;this.move(this.left,_a);};_pGridResizer._on_starttrack=function(){if(!this._is_alive){return;}this._movedPos=0;this._is_tracking=true;};_pGridResizer._on_movetrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;if(_d.ondrag&&_d.ondrag.defaultprevented==true){return;}if(_d.ondragmove&&_d.ondragmove.defaultprevented==true){return;}if(!this.visible){this.set_visible(true);}if(this._direction=="horizon"){var _e=_a-this._movedPos;this._moveLeftTo(this.left+_e);this._movedPos=_a;}else if(this._direction=="vertical"){var _f=_b-this._movedPos;this._moveTopTo(this.top+_f);this._movedPos=_b;}};_pGridResizer._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getElement();if(_d){if(nexacro._cur_drag_info){nexacro._cur_drag_info=null;}if(this.visible){this.set_visible(false);}var _e=this.parent;if((_e.ondrag&&_e.ondrag.defaultprevented==true)||(_e.ondragmove&&_e.ondragmove.defaultprevented==true)){_e._setGlobalCursor(null,_e);}else{if(this._callback&&this._movedPos!=0){if(this._direction=="horizon"){this._callback.call(this.parent,_a,this._index);}else if(this._direction=="vertical"){this._callback.call(this.parent,_b,this._index);}}_e._setGlobalCursor(null,_e);}}this._is_tracking=false;};delete _pGridResizer;nexacro.GridControlLine_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.border=new nexacro.Style_border(1);};var _pGridControlLineStyle=nexacro.GridControlLine_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.GridControlLine_Style);_pGridControlLineStyle._type_name="GridControlLineStyle";nexacro.GridControlLine_CurrentStyle=function(){this.border=null;};var _pGridControlLineCurrentStyle=nexacro.GridControlLine_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridControlLine_CurrentStyle);_pGridControlLineCurrentStyle._type_name="GridControlLineCurrentStyle";delete _pGridControlLineStyle;delete _pGridControlLineCurrentStyle;nexacro.GridControlLine=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_subcontrol=true;this._is_simple_control=true;this._is_nc_control=true;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f._grid;this._cellinfo=_f._cellinfo;this._cellobj=_f._cellobj;}this._linetype={};this._depth= -1;this._showleft=false;this._showbottom=false;};var _pGridControlLine=nexacro._createPrototype(nexacro.Component,nexacro.GridControlLine);nexacro.GridControlLine.prototype=_pGridControlLine;_pGridControlLine._type_name="GridControlLine";_pGridControlLine.on_create_custom_style=function(){return new nexacro.GridControlLine_Style(this);};_pGridControlLine.on_create_custom_currentStyle=function(){return new nexacro.GridControlLine_CurrentStyle();};_pGridControlLine.on_find_CurrentStyle_border=function(_a){var _b=this._linetype.width+"px "+this._linetype.style+" "+this._linetype.color;var _c="0px none transparent, 0px none transparent, ";if(this._showbottom){_c+=_b+", ";}else{_c+="0px none transparent, ";}if(this._showleft){_c+=_b;}else{_c+="0px none transparent";}var _d=nexacro._getCachedStyleObj("border",_c);return _d;};_pGridControlLine.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return this.parent.on_find_CurrentStyle_cursor(_a);};_pGridControlLine._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridControlLine.on_change_containerRect=function(_a,_b){this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);};_pGridControlLine.on_destroy_contents=function(){this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridControlLine._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridControlLine._set_line=function(_a,_b,_c){var _d=this.getElement();if(_d&&_a){this._linetype=_a;this._showleft=_b;this._showbottom=_c;this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}};delete _pGridControlLine;nexacro.GridControlTree=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_subcontrol=true;this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;this._linetype={};this._leftline_ctrls=[];};var _pGridTree=nexacro._createPrototype(nexacro.Component,nexacro.GridControlTree);nexacro.GridControlTree.prototype=_pGridTree;_pGridTree._type_name="GridControlTree";_pGridTree._btn_elem=null;_pGridTree._chk_ctrl=null;_pGridTree._img_elem=null;_pGridTree._text_elem=null;_pGridTree._applied_state= -1;_pGridTree._display_text="";_pGridTree._upline_ctrl=null;_pGridTree._downline_ctrl=null;_pGridTree._leftline_ctrls=null;_pGridTree._clicktarget=null;_pGridTree._btnimg_size={width:0,height:0};_pGridTree.on_change_status=function(_a,_b){this._status_changing=true;nexacro.Component.prototype.on_change_status.call(this,_a,_b);this._status_changing=false;};_pGridTree.on_apply_custom_pseudo=function(_a){if(!this._is_created){return;}var _b=this.getElement();if(!_b){return;}if(!_a){_a=this._pseudo;}var _c=this.currentstyle;var _d=this.on_find_CurrentStyle_font(_a);if(_c.font!=_d){_c.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_letterspace(_a);if(_c.letterspace!=_e){_c.letterspace=_e;this.on_apply_style_letterspace(_e);}var _f=this.on_find_CurrentStyle_color(_a);if(_c.color!=_f){_c.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_align(_a);if(_c.align!=_g){_c.align=_g;this.on_apply_style_align(_g);}if(this._status_changing){this._cellobj._applyRowCellsStyle(_a,true);}};_pGridTree.on_find_CurrentStyle_background=nexacro._emptyFn;_pGridTree.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a);};_pGridTree.on_find_CurrentStyle_letterspace=function(_a){return this.parent.on_find_CurrentStyle_letterspace(_a);};_pGridTree.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a);};_pGridTree.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return this.parent.on_find_CurrentStyle_cursor(_a);};_pGridTree.on_find_CurrentStyle_padding=function(_a){return null;};_pGridTree._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridTree._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._cellobj;var _f=(_e._rowidx>=0)?(_e._rowidx%2):false;var _g=this._grid;var _h=_g._getDataRow(this._cellobj._rowidx);var _i=_d._query_pseudo_control(this,_h,_a,_a,_b,_c,null,_f,_e._is_Selected());return _i;};_pGridTree.on_create_contents=function(){var _a=this.getElement();var _b=this._getLineHeight();var _c=this._grid;this._createLines(true);this._createCheckbox(true);this._createImage();this._createButton();this._text_elem=new nexacro.TextBoxElement(_a);};_pGridTree._createCheckbox=function(_a){if(!this._grid.treeusecheckbox){return;}if(!this._chk_ctrl){this._chk_ctrl=new nexacro.GridCellCheckbox("controlcheckbox",0,0,0,0,this);this._chk_ctrl._is_subcontrol=true;this._chk_ctrl.createComponent(_a);}};_pGridTree._createLines=function(_a){if(!this._grid.treeuseline){return;}if(!this._rightline_ctrl){this._rightline_ctrl=new nexacro.GridControlLine("controlrightline",0,0,0,0,this.parent);this._rightline_ctrl._is_subcontrol=true;this._rightline_ctrl.createComponent(_a);}if(!this._upline_ctrl){this._upline_ctrl=new nexacro.GridControlLine("controlupline",0,0,0,0,this.parent);this._upline_ctrl._is_subcontrol=true;this._upline_ctrl.createComponent(_a);}if(!this._downline_ctrl){this._downline_ctrl=new nexacro.GridControlLine("controldownline",0,0,0,0,this.parent);this._downline_ctrl._is_subcontrol=true;this._downline_ctrl.createComponent(_a);}};_pGridTree._createImage=function(){if(!this._grid.treeuseimage){return;}if(!this._img_elem){var _a=this.getElement();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._img_elem=new nexacro.AlignImageElement(_a);}else{this._img_elem=new nexacro.ImageElement(_a);}}};_pGridTree._createButton=function(){if(!this._btn_elem){var _a=this.getElement();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._btn_elem=new nexacro.AlignImageElement(_a);}else{this._btn_elem=new nexacro.ImageElement(_a);}}};_pGridTree.on_created_contents=function(){if(this._rightline_ctrl){this._rightline_ctrl.on_created();}if(this._upline_ctrl){this._upline_ctrl.on_created();}if(this._downline_ctrl){this._downline_ctrl.on_created();}if(this._btn_elem){this._btn_elem.create();}if(this._chk_ctrl){this._chk_ctrl.on_created();}if(this._img_elem){this._img_elem.create();}if(this._text_elem){var _a=this._grid._getAvailableRect(this);this._text_elem.setElementSize(_a.width,_a.height);this._text_elem.create();}this._is_created=true;};_pGridTree.on_destroy_contents=function(){var _a=this._leftline_ctrls;for(var _b=0,_c=_a.length;_b<_c;_b++ ){_a[_b].destroy();}this._leftline_ctrls=[];if(this._rightline_ctrl){this._rightline_ctrl.destroy();this._rightline_ctrl=null;}if(this._upline_ctrl){this._upline_ctrl.destroy();this._upline_ctrl=null;}if(this._downline_ctrl){this._downline_ctrl.destroy();this._downline_ctrl=null;}if(this._btn_elem){this._btn_elem.destroy();this._btn_elem=null;}if(this._chk_ctrl){this._chk_ctrl.destroy();this._chk_ctrl=null;}if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}this._clicktarget=null;this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridTree._setAccessibilityStatFocus=function(_a){var _b="";var _c=this._cellobj;var _d=_c._getCellAccessibilityLabel();this._setAccessibilityLabel(_d);var _e=this._cellinfo._getTreeLevel(_c._rowidx);var _f=this._cellinfo._getTreeStartLevel(_c._rowidx);if(this._grid.getTreeStatus(_c._rowidx)==0){this._setAccessibilityStatExpanded(false);}else{this._setAccessibilityStatExpanded(true);}this._setAccessibilityInfoLevel(_e-_f+1);nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pGridTree.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridTree.on_apply_text=function(){var _a=this._text_elem;if(_a){_a.setElementText(this._display_text);}};_pGridTree.on_apply_style_font=function(_a){if(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}}};_pGridTree.on_apply_style_color=function(_a){if(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}}};_pGridTree.on_apply_style_align=function(_a){if(_a){if(this._text_elem){this._text_elem.setElementAlignXY("left",_a.valign);}}};_pGridTree._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.Component.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTree._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.Component.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTree._common_lbuttondown=function(_a){var _b=this._grid;var _c=_b._getDataRow(this._cellobj._rowidx);var _d=_b._treeStates[_c];if(_a==this._btn_elem){this._clicktarget=_d;}};_pGridTree._on_touchstart=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}var _g=nexacro._getFirstTouchInfo(_c);if(_g){this._common_lbuttondown(_g._elem);}return nexacro.Component.prototype._on_touchstart.call(this,_a,_b,_c,_d,_e,_f);};_pGridTree._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}this._common_lbuttondown(_a);return nexacro.Component.prototype._on_lbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridTree._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}var _n=this._grid;if(!this._isEditTypeTree()&&_n.autoenter=="select"){var _o=this._cellobj;_o._common_lbuttonup(null,_a,_f,_g,_m);}return nexacro.Component.prototype._on_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGridTree._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive||this._grid._treetarget){this._grid._treetarget=null;return;}if(this._cellobj._is_clickproc){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j;if(_a instanceof nexacro.TextBoxElement){_j="text";}else if((_a instanceof nexacro.ImageElement)||(_a instanceof nexacro.AlignImageElement)){if(this._btn_elem==_a){_j="treebutton";}else{_j="image";}}else{_j="";}var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this,_j);}};_pGridTree._on_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j;if(_a instanceof nexacro.TextBoxElement){_j="text";}else if(_a instanceof nexacro.ImageElement){_j="image";}else{_j="control";}var _k=this._getClientXY(_f,_g);this.on_fire_ondblclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this,_j);}};_pGridTree._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridTree._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridTree._common_fire_lbuttondown=function(_a,_b){if(this._btn_elem&&this._grid.treeusebutton!="noclick"){if(this._is_elem_area(this._btn_elem,_a,_b)){if(this._isEditTypeTree()){var _c=this._grid;var _d=this._cellobj;var _e=_c._getDataRow(_d._rowidx);_d._tree_lbuttondown=true;_c._toggleTreeState(_d._rowidx,true);if(this._is_alive){_d._tree_lbuttondown=false;}var _f=_c._treeStates[_e];if(this._clicktarget!=_f&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>8)){_c._treetarget={row:_e,cell:_d._cellidx};}}}}};_pGridTree.on_fire_user_ontouchstart=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(_e){this._common_fire_lbuttondown(_e.canvasX,_e.canvasY);}};_pGridTree.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._common_fire_lbuttondown(_g,_h);};_pGridTree._common_fire_lbuttonup=function(){if(this._cellobj._tree_lbuttondown){this._cellobj._tree_lbuttondown=false;}};_pGridTree.on_fire_user_ontouchend=function(_a,_b,_c,_d){this._common_fire_lbuttonup();};_pGridTree.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._common_fire_lbuttonup();};_pGridTree._on_treecheckboxclick=function(_a,_b){if(!this._is_alive){return;}var _c=this._grid;if(_a==this._chk_ctrl){var _d=this._cellobj;var _e=this._cellinfo;var _f=_c._getDataRow(_d._rowidx);var _g=_d._getDisplayRowIdx();if(_e.treecheck._bindtype==1){var _h=_c._treeChecked[_f];var _i=_e.treecheck._bindexpr;var _j=(_h==0)?1:0;_c._binddataset.setColumn(_f,_i,_j);}else{if(_c._toggleTreeChecked(_f)){_c._refreshBodyRow(_g);}}}};_pGridTree.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGridTree.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;while(_n){if(_n._type_name=="CheckBoxControl"){break;}_n=_n.parent;}if(this._isEditTypeTree()){this._on_treecheckboxclick(_n);}var _o=this._grid;var _p=this._cellinfo;var _q=_o._getDataRow(this._cellobj._rowidx);if(!this._is_alive){return;}return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGridTree._isEditTypeTree=function(){var _a=this._grid;var _b=this._cellobj;var _c=this._cellinfo;var _d=_a._getDataRow(_b._rowidx);var _e=_c._getEdittype(_d);if(_e=="tree"){return true;}else{return false;}};_pGridTree._is_elem_area=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;var _e=_a.left;var _f=_a.top;var _g=_a.width*_d;var _h=_a.height*_d;if(_b>=_e&&_b<=(_e+_g)){if(_c>=_f&&_c<=(_f+_h)){return true;}else{return false;}}else{return false;}};_pGridTree._getLineHeight=function(){var _a=this.parent._adjust_height;var _b=(this.parent.currentstyle.border)?this.parent.currentstyle.border._bottom_width:0;return _a-_b;};_pGridTree._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridTree._load_image=function(_a,_b){var _c=(_b)?_b.toString():null;if(this.getElement()&&_c){_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());_a._load_url=_c;var _d=nexacro._getImageSize(_c,this._on_loadImage,this,undefined,_b.toString());if(_d){this._on_loadImage(_c,_d.width,_d.height);}}};_pGridTree._on_loadImage=function(_a,_b,_c){var _d=false;if(this._btn_elem&&this._btn_elem._load_url==_a){this._btn_elem.setElementImageUrl(_a);var _e=this._btn_elem.width;var _f=this._btn_elem.height;if(_e!=_b||_f!=_c){_d=true;this._btnimg_size={width:_b,height:_c};this._btn_elem.setElementSize(_b,_c);}}if(this._img_elem&&this._img_elem._load_url==_a){this._img_elem.setElementImageUrl(_a);var _e=this._img_elem.width;var _f=this._img_elem.height;if(_e!=_b||_f!=_c){_d=true;this._img_elem.setElementSize(_b,_c);}}if(_d){this._adjustSubCompAlign(this._lvl);}};_pGridTree._buttonUpdate=function(_a){if(this._grid.treeusebutton!=this._treeusebutton){if(this._grid.treeusebutton=="use"){this._btn_elem.setElementVisible(true);}else{this._btn_elem.setElementVisible(false);}this._treeusebutton=this._grid.treeusebutton;}var _b="tree";var _c="normal";if(_a==0){_b+="openbuttonimage";}else if(_a==1){_b+="closebuttonimage";}else if(_a==2||_a==3||_a== -1){this._btn_elem.setElementVisible(false);this._btn_elem.setElementSize(0,0);this._btnimg_size={width:0,height:0};return;}var _d=this._grid;var _e=_d._getDataRow(this._cellobj._rowidx);var _f=this._cellinfo._query_pseudo_treecontrol(_e,_b,_c);this._load_image(this._btn_elem,_f);};_pGridTree._checkUpdate=function(_a){if(this._grid.treeusecheckbox!=this._treeusecheckbox){if(this._chk_ctrl){this._chk_ctrl.set_visible(this._grid.treeusecheckbox);}else{this._createCheckbox();}this._treeusecheckbox=this._grid.treeusecheckbox;}if(this._chk_ctrl){this._chk_ctrl.set_value(_a);this._chk_ctrl._control_pseudo="";this._chk_ctrl._contents_pseudo="";this._chk_ctrl.on_apply_pseudo();}};_pGridTree._imageUpdate=function(_a){if(this._grid.treeuseimage!=this._treeuseimage){if(this._img_elem){this._img_elem.setElementVisible(this._grid.treeuseimage);}else{this._createImage();}this._treeuseimage=this._grid.treeuseimage;}var _b;var _c="normal";if(_a==0){_b="treecollapseimage";}else if(_a==1){_b="treeexpandimage";}else if(_a==2||_a==3){_b="treeitemimage";}var _d=this._grid;var _e=_d._getDataRow(this._cellobj._rowidx);var _f=this._cellinfo._query_pseudo_treecontrol(_e,_b,_c);if(this._img_elem){this._load_image(this._img_elem,_f);if(_f){this._img_elem.setElementVisible(this._grid.treeuseimage);}else{this._img_elem.setElementVisible(false);}}this._adjustSubCompAlign(this._lvl);};_pGridTree._lineUpdate=function(_a,_b){if(this._grid.treeuseline!=this._treeuseline){this._createLines();if(this._rightline_ctrl){this._rightline_ctrl.set_visible(this._grid.treeuseline);}if(this._upline_ctrl){this._upline_ctrl.set_visible(this._grid.treeuseline);}if(this._downline_ctrl){this._downline_ctrl.set_visible(this._grid.treeuseline);}this._treeuseline=this._grid.treeuseline;}var _c=this._grid;var _d=_c._find_pseudo_obj("treelinetype",_c._pseudo,"line");if(!_d){return;}var _e=this._cellinfo._getTreeStartLevel(_a);var _f=this._cellinfo._getTreeLevel(_a+1);var _g=(_c._hasSameNextNode[_a])?_c._hasSameNextNode[_a][1]:false;var _h=(_e>=_b)?true:false;this._createLeftLine(_a,_d);var _i;if(this._rightline_ctrl){_i=this._rightline_ctrl;_i._set_line(_d,false,true);}if(this._upline_ctrl){_i=this._upline_ctrl;_i._set_line(_d,!_h,false);}if(this._downline_ctrl&&!_h&&_g){_i=this._downline_ctrl;_i._set_line(_d,true,false);}else if(this._downline_ctrl){this._downline_ctrl.set_visible(false);}this._linetype=_d;this._treeline_visible(!this._cellobj._hideInner);};_pGridTree._getRowParentLevel=function(_a,_b){var _c;var _d=this._cellinfo;for(var _e=_b;_e>=0;_e-- ){_c=_d._getTreeLevel(_e);if(_c==_a){return _e;}else if(_c<_a){break;}}return  -9;};_pGridTree.__isNextSameLevelInSameParent=function(_a,_b){var _c=this._grid._rowcount;var _d=this._cellinfo;var _e;var _f=this._getRowParentLevel(_a,_b);if(_f>=0){var _g=this._grid._hasSameNextNode[_f];return _g[1];}else{for(var _h=_b;_h<_c;_h++ ){_e=_d._getTreeLevel(_h);if(_e<_a){break;}else if(_e==_a){return true;}}}return false;};_pGridTree._createLeftLine=function(_a,_b){var _c=this._grid;if(!_c.treeuseline){for(var _g=0,_k=this._leftline_ctrls.length;_g<_k;_g++ ){this._leftline_ctrls[_g].destroy();}this._leftline_ctrls=[];return;}var _d=this._cellinfo._getTreeLevel(_a);var _e=_d-1;var _f;var _g=0;var _h=this._leftline_ctrls;while(_c._rootlevel<_e){_f=this.__isNextSameLevelInSameParent(_e,_a);if(_f){var _i=this._getLineHeight();var _j=_h[_g];if(!_j){_j=new nexacro.GridControlLine("controlleftline",0,0,1,_i,this.parent);_j._is_subcontrol=true;_j.createComponent(true);_j.on_created();this._leftline_ctrls[_g]=_j;}else{_j.set_height(_i);}_j._set_line(_b,true,false);_j._depth=_e;_g++ ;}_e-- ;}for(;_h.length>_g;){_h[_h.length-1].destroy();_h.splice(_h.length-1,1);}};_pGridTree._toggleItem=function(_a){if(_a){if(this._btn_elem){this._btn_elem.setElementVisible(false);}if(this._rightline_ctrl){this._rightline_ctrl.set_visible(false);}if(this._upline_ctrl){this._upline_ctrl.set_visible(false);}if(this._downline_ctrl){this._downline_ctrl.set_visible(false);}if(this._chk_ctrl){this._chk_ctrl.set_visible(false);}if(this._img_elem){this._img_elem.setElementVisible(false);}if(this._text_elem){this._text_elem.setElementVisible(false);}}else{if(this._grid.treeusebutton=="use"){this._btn_elem.setElementVisible(true);}else{this._btn_elem.setElementVisible(false);}if(this._rightline_ctrl){this._rightline_ctrl.set_visible(this._grid.treeuseline);}if(this._upline_ctrl){this._upline_ctrl.set_visible(this._grid.treeuseline);}if(this._downline_ctrl){this._downline_ctrl.set_visible(this._grid.treeuseline);}if(this._chk_ctrl){this._chk_ctrl.set_visible(this._grid.treeusecheckbox);}if(this._img_elem){this._img_elem.setElementVisible(this._grid.treeuseimage);}if(this._text_elem){this._text_elem.setElementVisible(true);}}};_pGridTree.on_apply_prop_tooltip=function(){var _a=this.getElement();var _b=this._cellobj._rowidx;var _c=this._grid._getDataRow(_b);this.tooltiptext=this._cellinfo._getTooltipText(_c);if(_a){_a.setElementToolTip(this.tooltiptext);}};_pGridTree._treeline_visible=function(_a){if(_a){for(var _b=0,_c=this._leftline_ctrls.length;_b<_c;_b++ ){this._leftline_ctrls[_b]._control_element.setElementVisible(this._leftline_ctrls[_b].visible);}if(this._rightline_ctrl){this._rightline_ctrl._control_element.setElementVisible(this._rightline_ctrl.visible);}if(this._upline_ctrl){this._upline_ctrl._control_element.setElementVisible(this._upline_ctrl.visible);}if(this._downline_ctrl){this._downline_ctrl._control_element.setElementVisible(this._downline_ctrl.visible);}}else{for(var _b=0,_c=this._leftline_ctrls.length;_b<_c;_b++ ){this._leftline_ctrls[_b]._control_element.setElementVisible(false);}if(this._rightline_ctrl){this._rightline_ctrl._control_element.setElementVisible(false);}if(this._upline_ctrl){this._upline_ctrl._control_element.setElementVisible(false);}if(this._downline_ctrl){this._downline_ctrl._control_element.setElementVisible(false);}}};_pGridTree._updateAll=function(){if(!this._is_created){return;}if(this.getElement()){var _a=this._grid;var _b=_a._getDataRow(this._cellobj._rowidx);if(_b==null){this._toggleItem(true);return;}else{this._toggleItem(false);}this.on_apply_pseudo(this._cellobj._pseudo);var _c=_a._treeStates[_b];var _d=this._cellinfo._getTreeLevel(_b);this._lvl=_d;this._buttonUpdate(_c);this._lineUpdate(_b,_d);this._checkUpdate(_a._treeChecked[_b]);this._imageUpdate(_c);var _e=this.parent._getDisplayText();if(this._display_text!=_e){this._text_elem.setElementText(_e);this._display_text=_e;}this.on_apply_prop_tooltip();this._adjustSubCompAlign(_d);}};_pGridTree.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;if(this._chk_ctrl){this._chk_ctrl._setRtlDirection(_a);}if(this._rightline_ctrl){this._rightline_ctrl._setRtlDirection(_a);}if(this._upline_ctrl){this._upline_ctrl._setRtlDirection(_a);}if(this._downline_ctrl){this._downline_ctrl._setRtlDirection(_a);}var _b=this._text_elem;if(_b){_b.setElementRtlDirection(_a);}this._updateAll();};_pGridTree._adjustSubCompAlign=function(_a){var _b=this.parent;var _c=this._cellinfo;var _d=_c.grid;var _e=this._grid._getAvailableRect(this);var _f=_e.width;var _g=_e.height;var _h=_d._getDataRow(_b._rowidx);var _i=_c._getTreeStartLevel(_h);var _j=this.getElement();var _k=9;var _l=16;var _m=_a-1;_a-=_i;if(_a<0){_a= -1;}var _n=_b._adjust_top;var _o=_b.on_find_CurrentStyle_padding();var _p=((_o)?_o.left:0);var _q=this._getLineHeight();var _r=(_a*_l)+_k;var _s=_r<0?_k:_r;var _t=_n;var _u=0;var _v=Math.round(_q/2);var _w=_v;var _x=this._leftline_ctrls;var _y=_x.length;var _z=0;for(var _aw=0;_z<_y;_aw++ ){if(_m==_x[_z]._depth){var _aa=_x[_z++ ].getElement();_aa.setElementPosition(_r-(_l*(_aw+1))+_p,_t);}if(_m-- <0){break;}}var _ab=0;var _ac=0;if(this._btn_elem){var _ad=this._btnimg_size?this._btnimg_size.width:this._btn_elem.width;if(_ad<=0){_ad=_k;}var _ae=this._btnimg_size?this._btnimg_size.height:this._btn_elem.height;if(_ae<=0){_ae=_k;}var _af=0;var _ag=_r-Math.round(_ad/2);if(_ag<0){_af=_ag;_ag=_r-Math.round(_k/2);this._btn_elem.setElementSize(_ad,_ae);}if(!this._rightline_ctrl||!this._rightline_ctrl.visible){_ag-=(Math.round(_ad/2)*_a);}var _ah=Math.round((_g-_ae)/2);if(this._btn_elem.visible){_w=Math.floor((_q-_ae)/2);_ab=_ad;_ac=_ae;_r=_ag+_ad;}else{if(this._treeuseline){_r=_s;}else{_r=_ag+_ad;}}_u=_ad+_af;this._btn_elem.setElementPosition(_ag,_ah,true);}else{_u=_k;}if(this._rightline_ctrl&&this._rightline_ctrl.visible){this._rightline_ctrl.move(_r+_p,_t,_u-(_ab/2),_v);_r=this._rightline_ctrl.left+this._rightline_ctrl.width-_p;}else{_r+=1;}if(this._upline_ctrl&&this._upline_ctrl.visible){this._upline_ctrl.move(_s+_p,_t,_u,_w);}if(this._downline_ctrl&&this._downline_ctrl.visible){var _aa=this._downline_ctrl.getElement();_t=_n+_w+_ab;var _ai=_w+_t;var _aj=_q+_n;if(_ai>_aj){_w=_aj-_t;}this._downline_ctrl.move(_s+_p,_t,_u,_w);}if(this._chk_ctrl&&this._chk_ctrl.visible){var _ak=this._chk_ctrl.width;if(_ak<=0){_ak=_k;}var _al=this._chk_ctrl.height;if(_al<=0){_al=_k;}var _am=_r;var _an=Math.round((_g-_al)/2);_r+=_ak;this._chk_ctrl.move(_am,_an,this._chk_ctrl._adjust_width,this._chk_ctrl._adjust_height);}if(this._img_elem&&this._img_elem.visible){_r+=1;var _ao=this._img_elem.width;var _ap=this._img_elem.height;if(_ao>0&&_ap>0){var _aq=_r;var _ar=Math.round((_g-_ap)/2);var _as=_aq+_ao;var _at=_ar+_ap;_r+=_ao;}else{}this._img_elem.setElementPosition(_aq,_ar,true);_r+=5;}else{_r+=4;}if(this._text_elem){var _au=_r;var _av=0;this._text_elem.setElementPosition(_au,_av,true);this._text_elem.setElementSize(_f-_r,_g);}};_pGridTree.on_change_containerRect=function(_a,_b){if(this._lvl){this._adjustSubCompAlign(this._lvl);}};delete _pGridTree;nexacro.GridRow_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.border=new nexacro.Style_border(1);};var _pGridRowStyle=nexacro.GridRow_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.GridRow_Style);_pGridRowStyle._type_name="GridRowStyle";nexacro.GridRow_CurrentStyle=function(){this.border=null;};var _pGridRowCurrentStyle=nexacro.GridRow_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridRow_CurrentStyle);_pGridRowCurrentStyle._type_name="GridRowCurrentStyle";delete _pGridRowStyle;delete _pGridRowCurrentStyle;nexacro.GridRow=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,"gridrow_"+_f,"absolute",_b,_c,_d,_e,null,null,_a);this._is_subcontrol=true;this._grid=_a.parent;this._band=_a;this._cells=[];this._rowidx=_f;this._row_sizes=[];this._row_tops=[];this._row_bottoms=[];this._format_rows=[];this._format_cols=[];this._format_cells=[];this._noupdate_remain_cells=[];this._accessibility_role="none";this._fixed=false;};var _pGridRow=nexacro._createPrototype(nexacro.Component,nexacro.GridRow);nexacro.GridRow.prototype=_pGridRow;nexacro._setForControlStyleFinder(_pGridRow);_pGridRow._type_name="GridRow";_pGridRow.on_create_custom_style=function(){return new nexacro.GridRow_Style(this);};_pGridRow.on_create_custom_currentStyle=function(){return new nexacro.GridRow_CurrentStyle();};_pGridRow.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return this.parent.on_find_CurrentStyle_cursor(_a);};_pGridRow.on_find_CurrentStyle_border=function(_a){return null;};_pGridRow.on_find_CurrentStyle_padding=function(_a){return null;};_pGridRow._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridRow.on_create_contents=function(){this._init(this._grid._curFormat);if(this._grid._async_create){this._createCellComponents_async();}else{this._createCellComponents();}};_pGridRow.on_created_contents=function(){this._control_element.setElementHScrollPos(this._grid.getElement().scroll_left);if(this._grid._async_create){this._createCellElements_async();}else{this._createCellElements();}this._control_element._setContainerMaxWidth(this._grid._bodyBand._scrollWidth);this.on_apply_prop_rtldirection();};_pGridRow.on_destroy_contents=function(){var _a=this._cells,_b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this._grid=this._cells=this._format=this._band=this._cells=this._row_sizes=this._row_tops=this._row_bottoms=this._format_rows=this._format_cols=this._format_cells=this._noupdate_remain_cells=null;};_pGridRow.on_create_control_element=function(_a){var _b=new nexacro.GridRowControlElement(_a);var _c=this._grid._curFormat;_b.setLinkedControl(this);_b._left_width=_c.leftWidth;_b._right_width=_c.rightWidth;this._control_element=_b;return _b;};_pGridRow.on_apply_custom_setfocus=function(_a,_b){if(_b){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}};_pGridRow._getAccessibilityLabel=function(_a){var _b="";var _c=this._grid;if(this._grid._isSelectRowType()){var _d="";var _e=this._cells;var _f=null;for(var _g=0,_h=_e.length;_g<_h;_g++ ){_f=_e[_g].currentstyle.accessibility;if(_f){_d=_e[_g]._getAccessibilityLabel(_f,true);if(_b){if(_d){_b+=" "+_d;}}else{_b=_d;}}}}return _b;};_pGridRow.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){var _b=this._cells;var _c=this._rtldirection;if(_b){var _d;for(var _e=0,_f=_b.length;_e<_f;_e++ ){_b[_e]._setRtlDirection(_c);}}}};_pGridRow._init=function(_a){var _b=this._grid,_c=this._control_element;_c.setArea(_a.leftWidth,_a.rightWidth);if(this._rowidx== -1){this._format_rows=_a._headrows;this._format_cells=_a._headcells;}else if(this._rowidx== -2){this._format_rows=_a._summrows;this._format_cells=_a._summcells;}else{this._format_rows=_a._bodyrows;this._format_cells=_a._bodycells;}this._format_cols=_a._cols;if(!this._format_cols){this._format_cols=[];}if(!this._format_rows){this._format_rows=[];}if(!this._format_cells){this._format_cells=[];}var _d,_e=0;if(this._rowidx== -1){_d=_b._rowHeadListSub;}else if(this._rowidx== -2){_d=_b._rowSummListSub;}else{_e=_b._getDataRow(this._rowidx);_d=_b._rowSizeListSub;}var _f=this._format_rows,_g=_f.length,_h=0,_i=0;this._row_tops=[];this._row_sizes=[];this._row_bottoms=[];if(_e>=0){var _j=_e*_g;for(var _k=0;_k<_g;_k++ ){this._row_tops.push(_i);_h=_d[_j+_k];this._row_sizes.push(_h);_i+=_h;this._row_bottoms.push(_i);}}else{for(var _k=0;_k<_g;_k++ ){this._row_tops.push(_i);_h=_f[_k].size;this._row_sizes.push(_h);_i+=_h;this._row_bottoms.push(_i);}}};_pGridRow._on_last_lbuttonup=function(){this.parent._on_last_lbuttonup();};_pGridRow._on_last_keyup=function(){this.parent._on_last_keyup();};_pGridRow._updateAll=function(_a,_b,_c,_d,_e){var _f=this._grid,_g=this._cells;if(_b){_g=this._noupdate_remain_cells;}var _h=_g.length,_i=_f._getDataRow(this._rowidx),_j,_k,_l,_m,_n,_o;this._noupdate_remain_cells=[];this.on_apply_pseudo(_a);for(var _p=0;_p<_h;_p++ ){_l=_g[_p];_m=_l._refobj;if(_e){if((_m._col+_m._colspan-1)<_e){continue;}}if(_l._refobj._area!="body"||(_l._is_created&&_l._isUpdateArea())){if(_f._isSelectRowType()){if(_n==undefined){_n=_f._isSelectedCell(_l._cellidx,_i);}}else{_n=_f._isSelectedCell(_l._cellidx,_i);}_o=false;if(_l.selected!=_n){_l.selected=_n;_c=false;_o=true;}_j=_l.subcells;_k=_j.length;for(var _q=0;_q<_k;_q++ ){_j[_q].selected=_n;}if(_d){if(_o){_l._updateAll(_a,_c);}}else{_l._updateAll(_a,_c);}}else{this._noupdate_remain_cells.push(_l);}}};_pGridRow._getAreaRect=function(_a){var _b={left:0,top:0,width:0,height:0},_c=this._grid._curFormat;_b.top=this._client_top;_b.height=this._client_height;if(_a=="left"){_b.left=this._client_left;_b.width=_c.leftWidth;}else if(_a=="right"){_b.left=this._client_width-_c.rightWidth;_b.width=_c.rightWidth;}else{_b.left=_c.leftWidth;_b.width=this._client_width-_c.leftWidth-_c.rightWidth;}return _b;};_pGridRow._changeRow=function(_a,_b){this._rowidx=_a;if(_b){this._init(this._grid._curFormat);}};_pGridRow._hideArea=function(){if(this._fixed){return "";}var _a=this._band;var _b=this._grid;var _c=_b._getScrollTop();var _d=this._adjust_top;var _e=this._adjust_height;var _f=_d+_e;_d-=_c;_f-=_c;var _g=_b._getAvailableRect(_a);var _h=_a.currentstyle.border;_f-=_h?_h._top_width:0;_f-=_h?_h._bottom_width:0;if(_f<=0){return "top";}else if(_d>=_g.bottom){return "bottom";}return "";};_pGridRow._showfull=function(_a){if(!this._fixed){var _b=this._band;var _c=this._grid;var _d=_c._getScrollTop();var _e=this._adjust_top;var _f=this._adjust_height;var _g=_e+_f;_e-=_d;_g-=_d;var _h=_c.vscrollbar;var _i=_c._getAvailableRect(_b);var _j=_b.currentstyle.border;_g-=_j?_j._top_width:0;_g-=_j?_j._bottom_width:0;if(_h){if(_f<_i.height){if(_e<0){if(_h._isEnable()){_h._set_rowpos(_c._toprowpos[0]);}}else if(_g>_i.bottom){if(_h._isEnable()){_h._set_rowpos(_c._toprowpos[0]+1);}}}}}if(_a&&_a._is_alive){_a._showfull(false);}};_pGridRow._createCellElements_async=function(){nexacro.OnceCallbackTimer.callonce(this,function(){this._createCellElements();});};_pGridRow._createCellElements=function(_a){var _b=this._cells;var _c=_b.length;if(_c==0){return;}var _d=this._grid,_e,_f,_g=false,_h=_d._getDataRow(this._rowidx),_i,_j,_k;if(this._rowidx<0||_d._is_created==true){_g=true;}for(var _l=0;_l<_c;_l++ ){_k=_b[_l]._refobj;if(_a){if((_k._col+_k._colspan-1)<_a){continue;}}if(_k._area=="body"){if(_d._isSelectRowType()){if(_i==undefined){_i=_d._isSelectedCell(_b[_l]._cellidx,_h);}}else{_i=_d._isSelectedCell(_b[_l]._cellidx,_h);}_j=_b[_l]._control_element;if(_b[_l]._isUpdateArea()){if(_b[_l]._is_created){if(_b[_l]._refresh_display==true){if(_g){_b[_l].selected=_i;_b[_l]._updateAll();}_j._setDisplay(true);_b[_l]._refresh_display=false;}}else{if(_g){_b[_l].selected=_i;_b[_l]._updateAll();}_b[_l].on_created();_e=_b[_l].subcells;_f=_e.length;for(var _m=0;_m<_f;_m++ ){if(_g){_e[_m]._updateAll();}_e[_m].on_created();}}}else{if(_b[_l]._is_created){if(_b[_l]._refresh_display==false){_b[_l]._refresh_display=true;_j._setDisplay(false);}}}}else{if(_b[_l]._is_created){continue;}if(_g){_b[_l]._updateAll();}_b[_l].on_created();_e=_b[_l].subcells;_f=_e.length;for(var _m=0;_m<_f;_m++ ){if(_g){_e[_m]._updateAll();}_e[_m].on_created();}}}};_pGridRow._createCellComponents_async=function(){nexacro.OnceCallbackTimer.callonce(this,function(){this._createCellComponents();});};_pGridRow._createCellComponents=function(){var _a=this._format_cols,_b=this._format_rows,_c=this._format_cells,_d=this._row_tops,_e=this._row_sizes,_f=this._row_bottoms,_g=(_c)?_c.length:0,_h,_i=0,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w=this._grid,_x=_w._getDataRow(this._rowidx);for(var _y=0;_y<_g;_y++ ){_h=_c[_y];_j=_a[_h._col].left;_i=_d[_h._row];_k=_a[_h._col+_h._colspan-1].right-_j;_l=_f[_h._row+_h._rowspan-1]-_i;if(_w._isSelectRowType()){if(_u==undefined){_u=_w._isSelectedCell(_h._cellidx,_x);}}else{_u=_w._isSelectedCell(_h._cellidx,_x);}_n="cell_"+this._rowidx+"_"+_h._cellidx;_m=new nexacro.GridCell(_n,_j,_i,_k,_l,this,_h,this._rowidx,_h._cellidx);_m.selected=_u;_m.createComponent(true);this._cells[_y]=_m;_o=_h._subcells;_p=_o.length;for(var _z=0;_z<_p;_z++ ){_v=_o[_z];_r=_h._col+_v._col;_s=_h._row+_v._row;_j=_a[_r].left;_i=_d[_s];_k=_a[_r+_v._colspan-1].right-_j;_l=_f[_s+_v._rowspan-1]-_i;_j-=_a[_h._col].left;_i-=_d[_h._row];_n="subcell_"+this._rowidx+"_"+_h._cellidx+"_"+_v._cellidx;_t=new nexacro.GridCell(_n,_j,_i,_k,_l,_m,_v,this._rowidx,_v._cellidx);_t._isSubCell=true;_t.selected=_u;_t.parentcell=_m;_t.createComponent(true);_m.subcells[_z]=_t;}}};_pGridRow._resetCellsSize=function(_a,_b){var _c=this._format_cols,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q;this._control_element.setArea(_a.leftWidth,_a.rightWidth);_d=this._cells;_e=_d.length;var _r=this._row_tops,_s=this._row_sizes,_t=this._row_bottoms;for(var _u=0;_u<_e;_u++ ){_f=_d[_u];_g=_f._refobj;if(_b){if((_g._col+_g._colspan-1)<_b){continue;}}if(!_c[_g._col]){continue;}_l=Math.floor(_c[_g._col].left);_n=_r[_g._row];_m=Math.floor(_c[_g._col+_g._colspan-1].right-_l);_o=_t[_g._row+_g._rowspan-1]-_n;_f.move(_l,_n,_m,_o);expand_ctrl=_f._expandCtrl;if(expand_ctrl){_l=_m-_f._expand_width;_n=expand_ctrl.top;_m=_f._expand_width;_o=expand_ctrl.height;expand_ctrl.move(_l,_n,_m,_o);}_h=_f.subcells;_i=_h.length;for(var _v=0;_v<_i;_v++ ){_j=_h[_v];_k=_j._refobj;_p=_g._col+_k._col;_q=_g._row+_k._row;_l=Math.floor(_c[_p].left);_n=_r[_q];_m=Math.floor(_c[_p+_k._colspan-1].right-_l);_o=_t[_q+_k._rowspan-1]-_n;_l-=Math.ceil(_c[_g._col].left);_n-=_r[_g._row];_j.move(_l,_n,_m,_o);expand_ctrl=_j._expandCtrl;if(expand_ctrl){_l=_m-_f._expand_width;_n=expand_ctrl.top;_m=_f._expand_width;_o=expand_ctrl.height;expand_ctrl.move(_l,_n,_m,_o);}}}};_pGridRow._isEnable=function(){if(this._grid){return this._grid._enable;}return true;};_pGridRow._get_cells=function(){return this._cells;};delete _pGridRow;nexacro.GridMatrixManager=function(_a,_b){this._width=0;this._height=0;this._grid=_a;this._isBody=_b._isBody;this._rows=[];this._band=_b;this._fixed_rows=[];};var _pGridMatrixManager=nexacro._createPrototype(nexacro.Object,nexacro.GridMatrixManager);nexacro.GridMatrixManager.prototype=_pGridMatrixManager;_pGridMatrixManager._type_name="GridMatrixManager";_pGridMatrixManager.destroy=function(){this._deleteAllRow();this._grid=this._band=this._rows=this._fixed_rows=null;};_pGridMatrixManager._init=function(){this._deleteAllRow();};_pGridMatrixManager._async_create_page=function(){return;};_pGridMatrixManager._getBodyRowTopPos=function(_a){if(_a<0){return 0;}var _b=this._grid,_c=0;if(_b._fixed_endrow>=0&&_a>=_b._fixed_startrow&&_a<=_b._fixed_endrow){if(_b._is_variable_bodyrowsize==false){_c=_b._bodyrowheight*(_a-_b._fixed_startrow);}else{var _d=_b._fixed_rowcnt;for(var _e=0;_e<_d;_e++ ){if(_b._fixed_startrow+_e==_a){break;}_c+=_b._getRowSize(_b._fixed_startrow+_e);}}}else{if(_b._is_variable_bodyrowsize==false){_c=_b._bodyrowheight*_a;}else{var _d=_b._getGridRowCount();for(var _e=0;_e<_d;_e++ ){if(_e==_a){break;}_c+=_b._getRowSize(_e);}}_c-=_b._fixedrow_height;}return _c;};_pGridMatrixManager._getAllRows=function(){var _a;if(this._isBody&&this._fixed_rows.length){_a=[];_a=_a.concat(this._fixed_rows);_a=_a.concat(this._rows);}else{_a=this._rows;}return _a;};_pGridMatrixManager._getPhysicalRow=function(_a,_b){var _c=_a.length;for(var _d=0;_d<_c;_d++ ){if(_a[_d]._rowidx==_b){return _d;}}return null;};_pGridMatrixManager._adjustTreeDisplay=function(_a,_b){var _c=[],_d=this._grid,_e=this._band,_f=this._rows,_g=_f.length,_h=0,_i=this._getPhysicalRow(this._rows,_a),_j=_f[_i],_k=false;if(!_j){_j=_f[0];_i=0;}if(_j){if(_b){for(var _n=_g-1;_n>=_i;_n-- ){if(_j._rowidx<_f[_n]._rowidx){this._subtractRow();_k=true;}else{_c[0]=_f[_n];}}}else{for(var _n=_i;_n<_g;_n++ ){if(_i==_n){_c[0]=_f[_n];}else{this._subtractRow();_k=true;}}}}if(_k){_d._setHscrollElement();_d._absolutelyResetScrollPos(true);_d._control_element.setElementHScrollPos(_d._scroll_left);_d._absolutelyResetScrollPos(false);}var _l=this._adjustRowsDisplay();_g=_f.length;_e._update_rows=_c;if(_g){_h=_f[0]._rowidx;}for(var _n=0;_n<_g;_n++ ){_f[_n]._rowidx=_h+_n;}_e._on_refresh_rows();var _m=_d._resetColSizeList();if(_m||_l){this._adjustColsDisplay(true);}else{_d._resetScrollMax();}return _m;};_pGridMatrixManager._adjustRowsDisplay=function(_a,_b){var _c=this._grid,_d=false,_e=false,_f=this._rows,_g=_f.length,_h;if(_a){var _i,_j,_k,_l,_m,_n=_c._getGridRowCount();for(var _ab=0;_ab<_f.length;_ab++ ){_i=_f[_ab];if(_i._rowidx>=_n){_i.destroy();_f[_ab]=null;_f.splice(_ab,1);_ab-- ;_e=true;}else{_j=_i._adjust_left;_k=this._getBodyRowTopPos(_i._rowidx);_l=this._band._client_width;_m=_c._getRowSize(_i._rowidx);_f[_ab].move(_j,_k,_l,_m);}}_g=_f.length;var _o=this._fixed_rows;for(_ab=0,n=_o.length;_ab<n;_ab++ ){_i=_o[_ab];_j=_i._adjust_left;_k=this._getBodyRowTopPos(_i._rowidx);_l=this._band._client_width;_m=_c._getRowSize(_i._rowidx);_o[_ab].move(_j,_k,_l,_m);}}if(this._isBody){if(_c._fixed_endrow>=0&&this._fixed_rows.length==0){var _p=_c._fixed_startrow;var _q=_c._fixed_endrow;var _r=0,_s;for(var _ab=_p;_ab<=_q;_ab++ ){_s=_c._getRowSize(_ab);if(_s<0){break;}this._addRow(_r,_s,_ab,false,true);_r+=_s;}}_c._resetDisplayInfo(_a);var _t=0;if(_c._disprowcnt>0){_h=(_c._disprowcnt%2)?1:2;_t=_c._disprowcnt+_h;}var _u=_c._getGridRowCount();var _v=_c._is_variable_bodyrowsize;if(_t<0){_t=0;}if(_u<_g){for(var _ab=_g-1;_ab>=_u;_ab-- ){this._subtractRow();_e=true;}_g=_f.length;}if(_t<_g){for(var _ab=_g-1;_ab>=_t;_ab-- ){if(!_v){this._subtractRow();_e=true;}}}else if(_t>_g){var _s=0,_r=0,_w=0,_x=_u-1;if(_g>0){_w=_f[0]._rowidx;}else{_w=_c._toprowpos[0];}var _y=_w;var _z,_aa=false;for(var _ab=_g;_ab<_t;_ab++ ){if(_u<=_ab){break;}_z=_w+_ab;if(_x<_z){_z= --_y;_aa=true;}_r=this._getBodyRowTopPos(_z);_s=_c._getRowSize(_z);if(_z<=_x&&_z>=_c._getFixRowCnt()&&_s>0){this._addRow(_r,_s,_z,_b);_d=true;}}if(_aa&&_d){_f.sort(function(_ac,_ad){return _ac._rowidx-_ad._rowidx;});}}_g=_f.length;if(_c.fillareatype!="none"&&_t>_g){var _r=0,_s=this._band._datarowsheight;if(_g){_r=_f[_g-1]._getPosBottom();}for(var _ab=_g;_ab<_t;_ab++ ){this._addRow(_r,_s,_ab,_b);_r+=_s;_d=true;}}if(_f.length>0){_c._begrowpos=_f[0]._rowidx;_c._endrowpos=_f[_f.length-1]._rowidx;}else{_c._begrowpos=0;_c._endrowpos=0;}}else{if(_g==0){var _s;if(this._band.id=="head"){_s=_c._getRowSize( -1);this._addRow(0,_s, -1);_d=true;}else if(this._band.id=="summ"){_s=_c._getRowSize( -2);this._addRow(0,_s, -2);_d=true;}}}if(_d||_e||_f.length==0){_c._setHscrollElement();_c._absolutelyResetScrollPos(true);_c._control_element.setElementHScrollPos(_c._scroll_left);_c._absolutelyResetScrollPos(false);}return _d;};_pGridMatrixManager._adjustColsDisplay=function(_a,_b,_c){if(!_b){this._grid._resetScrollMax();}var _d=this._getAllRows(),_e=_d.length;if(_a){var _f=this._grid._curFormat;for(var _g=0;_g<_e;_g++ ){_d[_g]._init(_f);_d[_g]._resetCellsSize(_f,_c);if(!_b){_d[_g]._updateAll(null,true,undefined,undefined,_c);}_d[_g]._createCellElements(_c);}}else{for(var _g=0;_g<_e;_g++ ){if(!_b){_d[_g]._updateAll(null,true,undefined,undefined,_c);}_d[_g]._createCellElements(_c);}}};_pGridMatrixManager._addRow=function(_a,_b,_c,_d,_e){var _f=this._grid._getAvailableRect(this._band),_g=new nexacro.GridRow(this._band,_f.left,_a,_f.width,_b,_c);_g._fixed=!!_e;_g.createComponent();_g._setRtlDirection(this._band._rtldirection);if(!_d){this._band._create_rows.push(_g);}if(_e){this._fixed_rows.push(_g);}else{this._rows.push(_g);}};_pGridMatrixManager._subtractRow=function(){if(this._rows.length>0){var _a=this._rows.length-1,_b=this._rows[_a],_c=this._band._create_rows,_d=_c.length;for(var _e=0;_e<_d;_e++ ){if(_c[_e]==_b){_c.splice(_e,1);break;}}_b.destroy();this._rows.splice(_a,1);}};_pGridMatrixManager._deleteAllRow=function(){var _a=this._rows;for(var _c=0,_d=_a.length;_c<_d;_c++ ){_a[_c].destroy();}var _b=this._fixed_rows;for(var _c=0,_d=_b.length;_c<_d;_c++ ){_b[_c].destroy();}this._rows=[];this._fixed_rows=[];this._grid._setHscrollElement();this._grid._is_over_scroll=0;};_pGridMatrixManager._isShowScreenRow=function(_a,_b,_c){if(_a._rowidx<0){return true;}var _d=_b,_e=_d+_c;if(_d<_a._getPosBottom()&&_e>_a._adjust_top){return true;}return false;};_pGridMatrixManager._adjustScrollRows=function(_a,_b){var _c=this._grid,_d=_c._getGridRowCount(),_e=this._rows,_f,_g,_h=_c._getFixRowCnt(),_i=_d-1,_j=_c._getBodyClientSize()[1],_k=[],_l,_m,_n,_o,_p,_q,_r=this._band,_s=_c._is_variable_bodyrowsize,_t=0,_u=0,_v=_c._last_scroll_top;if(_a>_v){_u=1;}else if(_a<_v){_u= -1;}if(_u>0){_g=_e[_e.length-1];for(var _x=0,_y=_e.length;_x<_y;_x++ ){if(!_b&&this._isShowScreenRow(_e[_x],_a,_r._client_height)==true){break;}_k.push(_e[_x]);}_t=_k.length;var _w=null;if(_t>0){if(_e.length==_t){target_rowidx=_c._toprowpos[0];if(target_rowidx%2!=_k[0]._rowidx%2){_k.push(_k.shift());_e.push(_e.shift());}for(var _x=0;_x<_t;_x++ ){_l=_k[_x];_m=target_rowidx++ ;if(_m>=_c.rowcount){if(_w==null){_w=_c._toprowpos[0]-1;}_m=_w-- ;if(_m<0){break;}}_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}}else{target_rowidx=_g._rowidx+1;for(var _x=0;_x<_t;_x++ ){_l=_k[_x];_m=target_rowidx++ ;if(!_s&&_m>_i){break;}_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}_e.sort(function(_z,_aa){return _z._rowidx-_aa._rowidx;});}if(_e.length>0){if(_w!=null){_e.sort(function(_z,_aa){return _z._rowidx-_aa._rowidx;});}_c._begrowpos=_e[0]._rowidx;_c._endrowpos=_e[_e.length-1]._rowidx;}}if(_s){this._adjustRowsDisplay(false,true);}}else if(_u<0){if(_s){this._adjustRowsDisplay(false,true);}_f=_e[0];for(var _x=_e.length-1;_x>=0;_x-- ){if(!_b&&this._isShowScreenRow(_e[_x],_a,_r._client_height)==true){break;}_k.push(_e[_x]);}_t=_k.length;if(_t>0){if(_e.length==_t){target_rowidx=_c._toprowpos[0];if(target_rowidx%2!=_k[_t-1]._rowidx%2){_k.push(_k.shift());_e.unshift(_e.pop());}for(var _x=_t-1;_x>=0;_x-- ){_l=_k[_x];_m=target_rowidx++ ;_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}}else{target_rowidx=_f._rowidx-1;for(var _x=0;_x<_t;_x++ ){_l=_k[_x];_m=target_rowidx-- ;if(_m<_h){break;}_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}_e.sort(function(_z,_aa){return _z._rowidx-_aa._rowidx;});}if(_e.length>0){_c._begrowpos=_e[0]._rowidx;_c._endrowpos=_e[_e.length-1]._rowidx;}}}else{if(_b){var _w=null;_c._toprowpos=_c._getScreenTopRowPos();_c._bottomrowpos=_c._getScreenBottomRowPos();target_rowidx=_c._toprowpos[0];_t=_e.length;_k=_e;for(var _x=0;_x<_t;_x++ ){_l=_k[_x];_m=target_rowidx++ ;if(_m>=_c.rowcount){if(_w==null){_w=_c._toprowpos[0]-1;}_m=_w-- ;if(_m<0){break;}}_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);if(_p<0){continue;}_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}if(_e.length>0){if(_w!=null){_e.sort(function(_z,_aa){return _z._rowidx-_aa._rowidx;});}_c._begrowpos=_e[0]._rowidx;_c._endrowpos=_e[_e.length-1]._rowidx;}}}return _k;};delete _pGridMatrixManager;nexacro.GridBand=function(_a,_b,_c,_d,_e,_f,_g){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this._is_subcontrol=true;this._isBody=(_a=="body");this._refobj=_g;this._grid=_f;this._rowsizesperdatarow=null;this._datarowsheight= -1;this._colinfos=null;this._rowinfos=null;this._cellsinfo=null;this._update_rows=[];this._create_rows=[];this._text_elem=null;if(_g){_g.bandctrl=this;_g._changeStyleTarget(this);this.style=_g.style;this._styles=_g._styles;}else{this.style=new nexacro.GridBand_Style(this);}this._matrix=new nexacro.GridMatrixManager(this._grid,this);this._scrollWidth=0;this._scrollHeight=0;this._recreating=false;this._accessibility_role="none";};var _pGridBand=nexacro._createPrototype(nexacro.Component,nexacro.GridBand);nexacro.GridBand.prototype=_pGridBand;nexacro._setForControlStyleFinder(_pGridBand);_pGridBand._type_name="GridBand";nexacro.GridBand._default_accessibility=nexacro._getCachedStyleObj("accessibility","none disable all '' '' ''");_pGridBand.on_create_custom_style=function(){return null;};_pGridBand.on_create_custom_currentStyle=function(){return new nexacro.GridBand_CurrentStyle();};_pGridBand.on_update_style_opacity=function(){};_pGridBand.on_update_style_shadow=function(){};_pGridBand.on_update_style_cursor=function(){};_pGridBand.on_update_style_color=function(){};_pGridBand.on_update_style_align=function(){};_pGridBand.on_update_style_margin=function(){};_pGridBand.on_update_style_glow=function(){};_pGridBand.on_update_style_blur=function(){};_pGridBand.on_update_style_selectborder=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);this._grid._setSelectBorder();};_pGridBand.on_update_style_cellline=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_celllinetype=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectcolor=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectline=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectlinetype=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_border=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellbackground=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellbackground2=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellcolor=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellcolor2=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectbackground=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_background=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellfont=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellletterspace=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectfont=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_font=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellgradation=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellgradation2=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectgradation=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_gradation=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellalign=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellpadding=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_padding=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._updateClientSize(this.getElement());};_pGridBand.on_find_CurrentStyle_background=function(_a){if(!_a){_a="normal";}var _b=null;if(this._refobj){_b=this._refobj._query_pseudo_background(_a);}var _c=this._grid._getGridRowCount();if(this._isBody&&_c==0){var _d=this.parent.nodataimage;if(_d.length){var _e="transparent";if(_b){_e=_b.color;}_b=nexacro._getCachedStyleObj("background",_e+" "+_d+" center middle");}}return _b;};_pGridBand.on_find_CurrentStyle_gradation=function(_a){if(this._refobj){return this._refobj._query_pseudo_gradation(_a);}return null;};_pGridBand.on_find_CurrentStyle_padding=function(_a){return null;};_pGridBand.on_find_CurrentStyle_font=function(_a){return null;};_pGridBand.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return null;};_pGridBand.on_find_CurrentStyle_shadow=function(_a){return null;};_pGridBand.on_find_CurrentStyle_opacity=function(_a){return null;};_pGridBand.on_find_CurrentStyle_align=function(_a){return null;};_pGridBand.on_find_CurrentStyle_color=function(_a){return null;};_pGridBand.on_find_CurrentStyle_accessibility=function(_a){var _b=this._find_pseudo_obj("accessibility",_a,"accessibility");if(nexacro._accessibilitytype==5&&this._grid.nodatatext){return nexacro.Component._default_accessibility;}else if(nexacro._accessibilitytype==4){return nexacro.GridBand._default_accessibility;}else{return _b?_b:nexacro.GridBand._default_accessibility;}};_pGridBand._find_pseudo_obj=function(_a,_b,_c,_d){var _e;var _f=this.id;if(_d){_f=_d;}if(_f=="summ"||_f=="summary"){_e=this._grid._find_bandcomp_pseudo_obj("summ",_a,_b,_c);if(!_e){_e=this._grid._find_bandcomp_pseudo_obj("head",_a,_b,_c);}}else if(_f=="head"){_e=this._grid._find_bandcomp_pseudo_obj("head",_a,_b,_c);}else{_e=this._grid._find_bandcomp_pseudo_obj("body",_a,_b,_c);}return _e;};_pGridBand.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pGridBand.on_find_CurrentStyle_selectborder=function(_a){return this._find_pseudo_obj("selectborder",_a,"border");};_pGridBand.on_create_contents=function(){var _a=this.getElement();var _b=this._grid._curFormat;if(_a&&_b){this._recreate_contents();if(this._isBody){var _c=this.currentstyle;var _d=this._text_elem=new nexacro.TextBoxElement(_a);_d.setElementSize(this._client_width,this._client_height);_d.setElementVisible(false);_d.setElementAlignXY("center","middle");_d.setElementFont(_c.font);_d.setElementLetterSpace(_c.letterspace);_d.setElementColor(_c.color);_d.setElementWordWrap("char");if(this._get_rows().length==0){var _e=this.parent.nodatatext;_d.setElementText(_e);}}}};_pGridBand.on_created_contents=function(){var _a=this.getElement();var _b=this._grid._curFormat;if(_a&&_b){var _c=this._text_elem;if(_c){_c.create();}this._on_refresh_rows();var _d=this._grid;var _e=_d._getScrollLeft();var _f=_d._getScrollTop();if(_e>0){this._matrix._adjustColsDisplay();_d._absolutelyResetScrollPos(true);_d._control_element.setElementHScrollPos(_e);_d._absolutelyResetScrollPos(false);}if(_f>0){_d._absolutelyResetScrollPos(true);_d._control_element.setElementVScrollPos(_f);_d._absolutelyResetScrollPos(false);}if(nexacro._enableaccessibility&&!_d._accept_focus){var _g=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_g&&_g.enable){_d._accept_focus=true;}}}};_pGridBand._delete_style=function(){this.style=null;this._styles=null;};_pGridBand.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._refobj){this._refobj.bandctrl=null;this._refobj=null;}this._rows=null;this._grid=null;this._matrix.destroy();this._matrix=null;this._colinfos=null;this._rowinfos=null;this._cellsinfo=null;this._update_rows=null;this._create_rows=null;this._rowsizesperdatarow=null;};_pGridBand.on_change_containerRect=function(_a,_b){if(this._recreating){return;}if(this._text_elem){var _c=this._grid._getAvailableRect(this);this._text_elem.setElementPosition(_c.left,_c.top);this._text_elem.setElementSize(_c.width,_c.height);}var _d=this._grid;if(_d._no_update_bandrect){return;}if(_d._is_changingRect){if(_d._colautofit){_d._applyAutofittype(true);if(_d.autosizingtype=="row"||_d.autosizingtype=="both"){if(_d._is_body_wordwrap||_d._is_head_wordwrap||_d._is_summ_wordwrap){_d._resetRowSizeList();_d._resetColSizeList();}}}}var _e=this._isRtl();if(this._isBody){var _f=_d._getScrollTop();if(_f<0){_f=0;}_d._last_scroll_top=_f;_d._toprowpos=_d._getScreenTopRowPos(_f);_d._bottomrowpos=_d._getScreenBottomRowPos(_f);if(_d._needUpdateExtinner()){_d._recreate_contents_all(false,false,false,true);}else{this._matrix._adjustRowsDisplay(true);this._matrix._adjustColsDisplay(_e);this._update_rows=this._matrix._adjustScrollRows(_f,true);}}else{this._matrix._adjustRowsDisplay(true);this._matrix._adjustColsDisplay(_e);}this._on_refresh_rows();_d._setSelectBorder();};_pGridBand.on_create_control_element=function(_a){var _b=new nexacro.GridBandControlElement(_a,this.id);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pGridBand.on_apply_custom_setfocus=function(_a,_b){if(_b||nexacro._enableaccessibility){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}if(nexacro._enableaccessibility){this._grid._currentBand=this.id;if(this.id=="head"){this._grid._currentDSrow= -1;}else if(this.id=="summ"){this._grid._currentDSrow= -2;}else{this._grid._currentDSrow=0;}}};_pGridBand.on_get_style_accessibility_label=function(){return this.id;};_pGridBand._setAccessibilityStatFocus=function(_a){var _b=this.on_find_CurrentStyle_accessibility(this._pseudo);var _c=this._getAccessibilityLabel(_b);if(this._isBody&&this._grid.rowcount<=0){_c+=(this._grid.nodatatext)?this._grid.nodatatext:"";this._setAccessibilityLabel(_c);}nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pGridBand._setAccessibilityNotifyEvent=function(_a){if(this._isBody&&this._grid.rowcount<=0&&this._grid.nodatatext){var _b=this._grid.nodatatext;this._setAccessibilityLabel(_b);return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);}};_pGridBand.on_apply_prop_class=function(){var _a=this._grid._curFormat;if(_a){_a._clearCellStyleCache(this.id);}nexacro.Component.prototype.on_apply_prop_class.call(this);this._refresh_contents(true);};_pGridBand.on_apply_wordwrap=function(){this._refresh_contents();};_pGridBand.on_apply_prop_tooltip=function(){var _a=this.getElement();this.tooltiptext=this._refobj._getTooltipText();if(_a){if(this.tooltiptext!=""){_a.setElementToolTip(this.tooltiptext);}}};_pGridBand.on_apply_text=function(){if(this._text_elem){if(this._isBody&&this._get_rows().length==0){var _a=this.parent.nodatatext;var _b=this.parent.on_find_CurrentStyle_font();var _c=this.parent.on_find_CurrentStyle_color();var _d=this.parent.on_find_CurrentStyle_letterspace();this._text_elem.setElementVisible(_a?true:false);this._text_elem.setElementText(_a);this._text_elem.setElementFont(_b);this._text_elem.setElementLetterSpace(_d);this._text_elem.setElementColor(_c);}else{this._text_elem.setElementVisible(false);}}};_pGridBand.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._matrix._rows;var _b=this._rtldirection;if(_a){for(var _c=0,_d=_a.length;_c<_d;_c++ ){_a[_c]._setRtlDirection(_b);}}};_pGridBand.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.parent.onnodataareaclick&&this.parent.onnodataareaclick._has_handlers){return this.parent.on_fire_onnodataareaclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k.parent,_l);}return false;};_pGridBand.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.parent.onnodataareadblclick&&this.parent.onnodataareadblclick._has_handlers){return this.parent.on_fire_onnodataareadblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k.parent,_l);}return false;};_pGridBand._on_refresh_rows=function(_a,_b){if(this._control_element._handle){var _c=this._grid;var _d=this._update_rows;var _e=this._create_rows;var _f=this._control_element;this._on_refresh_rows_physical(_d,_e,_a,_b);this._update_rows=[];this._create_rows=[];this.on_apply_text();_c._applyResizer();_c._adjustOverlayElements(false,_c._is_use_fakemerge);_c._setSelectBorder();}};_pGridBand._on_refresh_rows_physical=function(_a,_b,_c,_d){var _e=_a.length;var _f=_b.length;if(this._isBody){var _g=this._grid;if(_g._is_created==true){var _h=this._get_rows();var _i=_h.length;var _j=null,_k=null;if(!_d){_g._suppressUpdate();}for(var _s=0;_s<_f;_s++ ){_j=_b[_s];if(_j._is_alive){_j._updateAll();}}var _l=false;if(_i!=_e){_l=(!_g._isUseBindExprOuterStyle("body")&&!_g._is_variable_bodyrowsize&&!_g._is_use_fakemerge);}var _m;for(var _s=0;_s<_e;_s++ ){_k=_a[_s];if(_k._is_alive){if(_g._isSelectRowType()){_m=_k._pseudo;}_k._updateAll(_m,undefined,_l);}}if(_g._is_use_suppress){var _n=null,_o=null,_p=0;var _q,_r;for(var _t=0;_t<_i;_t++ ){_q=_h[_t]._rowidx;_r=(_g._hasTree)?_g._treeIndexes[_q]:_q;_o=_h[_t]._cells;_p=_o?_o.length:0;for(var _s=0;_s<_p;_s++ ){_n=_o[_s]._refobj;if(_n&&_n.suppress!=0){this._refreshRowCell(_t,_s,_g._isSelectedCell(_s,_r),_o[_s]._pseudo);}}}}}}else{for(var _s=0;_s<_f;_s++ ){_b[_s]._updateAll();}for(var _s=0;_s<_e;_s++ ){_a[_s]._updateAll();}}for(var _s=0;_s<_f;_s++ ){_b[_s].on_created();}};_pGridBand._on_last_lbuttonup=function(){this.parent._on_last_lbuttonup();};_pGridBand._on_last_keyup=function(){this.parent._on_last_keyup();};_pGridBand._refreshRowCell=function(_a,_b,_c,_d,_e){var _f=this._get_rows();var _g=_f[_a]._cells;var _h=this._grid;var _i=_g[_b];if(!_i){return;}_i.selected=_c;var _j=_i.subcells;var _k=_j.length;for(var _l=0;_l<_k;_l++ ){_j[_l].selected=_c;}_i._updateAll(_d,_e);};_pGridBand._refreshRow=function(_a,_b,_c){var _d=this._get_rows();var _e=_d[_a];_e._updateAll(_b,false,undefined,_c);};_pGridBand._refreshCelltype=function(_a,_b){var _c=this.parent._curFormat;function checktype(_d,_a){var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(_d[_f].celltype==_a){return true;}}return false;};if(_a=="head"){if(_c._bodycells){if(checktype(_c._bodycells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("body");}this.parent._refreshBody(_b);}}if(_c._summcells){if(checktype(_c._summcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("summ");}this.parent._refreshSumm(_b);}}}else if(_a=="summary"){if(_c._bodycells){if(checktype(_c._bodycells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("body");}this.parent._refreshBody(_b);}}if(_c._headcells){if(checktype(_c._headcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("head");}this.parent._refreshHead(_b);}}}else{if(_c._summcells){if(checktype(_c._summcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("summ");}this.parent._refreshSumm(_b);}}if(_c._headcells){if(checktype(_c._headcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("head");}this.parent._refreshHead(_b);}}}};_pGridBand._refresh_contents=function(_a){if(_a){var _b=this._get_rows();var _c=_b.length;var _d,_e,_f;for(var _g=0;_g<_c;_g++ ){_d=_b[_g]._cells;_e=_d.length;for(var _h=0;_h<_e;_h++ ){_f=_d[_h];_f.currentstyle._empty();}}}if(this.id=="head"){this.parent._refreshHead(_a);this._refreshCelltype("head",_a);}else if(this.id=="summ"){this.parent._refreshSumm(_a);this._refreshCelltype("summary",_a);}else{this.parent._refreshBody(_a);this._refreshCelltype("body",_a);}};_pGridBand._isEnable=function(){if(this._grid){return this._grid._isEnable();}return true;};_pGridBand._get_cols=function(_a){var _b=_a._cols,_c=_b.length,_d,_e=[],_f=[],_g=[];for(var _h=0;_h<_c;_h++ ){_d=_b[_h];if(_d._area=="left"){_e.push(_d.size);}else if(_d._area=="right"){_f.push(_d.size);}else{_g.push(_d.size);}}this._colinfos=_b;return [_g,_e,_f];};_pGridBand._recreate_contents=function(_a,_b,_c,_d,_e){var _f=this._grid,_g=_f._curFormat,_h;this._matrix._init();if(!_g){return;}this._create_rows=[];this._update_rows=[];this._rowsizesperdatarow=[];this._recreating=true;if(this.id=="head"){_h=_g._headrows;this._datarowsheight=_g.headHeight;}else if(this.id=="summ"){_h=_g._summrows;this._datarowsheight=_g.summHeight;}else{_h=_g._bodyrows;_f._rowheight=this._datarowsheight=_g._body_height;}var _i=_h?_h.length:0,_j;for(var _x=0;_x<_i;_x++ ){this._rowsizesperdatarow.push(_h[_x].size);}var _k=(_f.hscrollbar)?_f.hscrollbar._pos:0,_l=(_f.vscrollbar)?_f.vscrollbar._pos:0,_m=_g.bodyWidth,_n=0;if(this._isBody){this._control_element._setFixArea(_f._fixed_height);this._client_height=this._control_element.client_height;if(!_c&&!_d){_f._hideEditor();}var _o=_f._getGridRowCount();var _p=0,_q=[],_r=1,_s=_f._div_max_height;for(var _x=0;_x<_o;_x++ ){_p=_f._getRowSize(_x);_n+=_p;if(_n-_f._fixedrow_height>=_s*_r){_q.push(_n-_p);_r++ ;}}_n-=_f._fixedrow_height;_q.push(_n);this._scrollHeight=_n;this._scrollWidth=_m;var _t=_f._no_update_bandrect;_f._no_update_bandrect=true;if(_b||_f._isChangeBandSrollSizeList(_q)){_f._setScrollMaxSize(this._scrollWidth,this._scrollHeight,_q);}this._control_element._resetExtendContainer();_f._no_update_bandrect=_t;var _u=_f._control_element.vscroll_limit;if(_l<0){_l=0;}else if(_l>_u){_l=_u;}_f._toprowpos=_f._getScreenTopRowPos(_l);_f._bottomrowpos=_f._getScreenBottomRowPos(_l);if(_l==0){this._matrix._adjustRowsDisplay();this._matrix._async_create_page();}else{this._matrix._adjustRowsDisplay();}if((!_f._headBand&&!_f._summBand)||_f._hasTree){_f._setScrollMaxSize(this._scrollWidth,this._scrollHeight,_q);}if(_f._is_created&&!_f._autofiting){this._on_refresh_rows(false,_e);_f._applyAutofittype(true);}}else{this._scrollWidth=_m;this._matrix._adjustRowsDisplay();_f._setScrollMaxSize(this._scrollWidth);if(_f._is_created&&!_f._autofiting){this._on_refresh_rows(false,_e);}}var _v=_f._find_lastFocused();if(_v==_f){_f._control_element.setElementFocus();}var _w=_f._control_element.hscroll_limit;if(_k<0){_k=0;}else if(_k>_w){_k=_w;}if(this._isBody){if(_k>0){if(_b){_f.hscrollbar.set_pos(0);_f._control_element.setElementHScrollPos(0);}else{if(_f._control_element._target_hscroll_elements){this._matrix._adjustColsDisplay();_f._absolutelyResetScrollPos(true);_f._control_element.setElementHScrollPos(_k);_f._absolutelyResetScrollPos(false);}}}if(_l>0){if(_b){_f.vscrollbar.set_pos(0);this._control_element.setElementVScrollPos(0);this._is_over_scroll=0;}else{_f._absolutelyResetScrollPos(true);_f._control_element.setElementVScrollPos(_l);_f._absolutelyResetScrollPos(false);}}}else{if(_k>0){if(_b){_f.hscrollbar.set_pos(0);_f._control_element.setElementHScrollPos(0);}else{this._matrix._adjustColsDisplay();_f._absolutelyResetScrollPos(true);_f._control_element.setElementHScrollPos(_k);_f._absolutelyResetScrollPos(false);}}}this._recreating=false;};_pGridBand._get_rows=function(){return this._matrix._getAllRows();};_pGridBand._get_row=function(_a){if(!this._is_created){return null;}var _b=this._get_rows();var _c=(_b)?_b.length:0;var _d;var _e=this._grid;var _f;for(var _g=0;_g<_c;_g++ ){_f=_e._getDataRow(_b[_g]._rowidx);if(_a==_f){return _b[_g];}}return null;};_pGridBand._updateAll=function(_a){if(this.getElement()){if(_a){this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";}this.on_apply_pseudo(this._pseudo);}};delete _pGridBand;nexacro.GridScrollBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ScrollBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._grid=_i;};var _pGridScrollBarCtrl=nexacro.GridScrollBarCtrl.prototype=nexacro._createPrototype(nexacro.ScrollBarCtrl,nexacro.GridScrollBarCtrl);nexacro._setForTypedControlStyleFinder(_pGridScrollBarCtrl);_pGridScrollBarCtrl._type_name="GridScrollBarControl";_pGridScrollBarCtrl.on_destroy_contents=function(){nexacro.ScrollBarCtrl.prototype.on_destroy_contents.call(this);this._grid=null;};_pGridScrollBarCtrl.on_incbutton_lbuttondown=function(_a){this._no_set_scrollinfo=true;nexacro.ScrollBarCtrl.prototype.on_incbutton_lbuttondown.call(this,_a);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl.on_decbutton_lbuttondown=function(_a){this._no_set_scrollinfo=true;nexacro.ScrollBarCtrl.prototype.on_decbutton_lbuttondown.call(this,_a);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl._set_rowpos=function(_a,_b){var _c=this._grid;_a-=_c._getFixRowCnt();if(_c._scrollpixel=="all"){_a=this._scroll_convert_pixel(_a,true);}this._no_set_scrollinfo=true;this._setPos(_a,_b);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl._set_pixelpos=function(_a,_b){var _c=this._getScrollInfo(_a,_b);if(_a<this._min){_a=this._min;}if(_a>this._max){_a=this._max;}this._no_set_scrollinfo=true;if(this._pos!=_a){this.pos=this._scroll_reverse_convert(_a)[0];this._pos=_a;var _d=this._rectShaft;this._resetTrackBar(_d.left,_d.top,_d.right,_d.bottom);}this.on_fire_onscroll(this.pos,_c);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl._scroll_convert_pixel=function(_a,_b){var _c=this._grid;var _d=_c._bodyBand;if(_c._scrollpixel!="all"||_b){if(this.direction=="vert"){if(_d){var _e=_c._getFixRowCnt();var _f=_a+_e;if(_c._is_variable_bodyrowsize){var _g=0,_h;for(var _n=_e;_n<_f;_n++ ){_h=_c._getDataRow(_n);_g+=_c._rowSizeList[_h];}_a=_g;}else{_a=(_f-_e)*_d._datarowsheight;}}}else{var _i=_c._curFormat;if(_i){var _j=0,_k=0;var _l=_i._cols;var _m=_i._getColFixCnt("left");_k=_a+_m;for(var _n=_m;_n<_k;_n++ ){_j+=_l[_n].size;}_a=_j;}}}return _a;};_pGridScrollBarCtrl._scroll_reverse_convert=function(_a,_b,_c){var _d=this._grid;var _e=_d._bodyBand;var _f=_a;if(_d._scrollpixel!="all"||_b){if(this.direction=="vert"){if(_e){if(_d._is_variable_bodyrowsize){var _g=_d._getFixRowCnt();var _h=_d._getGridRowCount();var _i=0,_j=0;if(_c){for(var _q=_g;_q<_h;_q++ ){_j=_d._getDataRow(_q);if(_a<=_i){_j=_q;_f=_i;break;}_i+=_d._rowSizeList[_j];}}else{for(var _q=_g;_q<_h;_q++ ){_j=_d._getDataRow(_q);if(_a<_i){_j=_q-1;if(_d._rowSizeList[_j]>_e._client_height){if(_i-_a<_e._client_height){_f=_i-_e._client_height;}}else{_f=_i-_d._rowSizeList[_j];}break;}_i+=_d._rowSizeList[_j];}}_a=_j;_a-=_g;}else{var _i=0,_j=0;if(_c){if(_a>0){_j=Math.ceil(_a/_e._datarowsheight);}_f=_j*_e._datarowsheight;}else{if(_a>0){_j=Math.floor(_a/_e._datarowsheight);}_i=_e._datarowsheight*(_j+1);if(_e._datarowsheight>_e._client_height){if(_i-_a<_e._client_height){_f=_i-_e._client_height;}}else{_f=_j*_e._datarowsheight;}}_a=_j;}}}else{var _k=0,_l=0;var _m=_d._curFormat;if(_m){if(_a==this._pos){_a=this.pos;_f=this._pos;}else{var _n=_m._cols;var _o=_m._getColFixCnt("left");var _p=(_a<this._pos&&!this._is_tracking);if(_a>0){for(var _q=_o;_q<_n.length;_q++ ){_l=_q;if(_a<=_k){if(!_c){if(_p){_l=_l-1> -1?_l-1:0;_k-=_n[_l].size;}_f=_k<=this._max?_k:this._max;}break;}_k+=_n[_l].size;}_a=_l;}else{_a=0;_f=0;}}}}}return [_a,_f];};_pGridScrollBarCtrl._getIncNewPosPixel=function(){var _a=this._grid;var _b,_c;if(this.direction=="vert"){if(_a._scrollpixel!="all"){_c=this.pos;}else{_c=this._scroll_reverse_convert(this.pos,true)[0];}_b=this._scroll_convert_pixel(_c+1,true);}return _b;};_pGridScrollBarCtrl._getDecNewPosPixel=function(){var _a=this._grid;var _b,_c;if(this.direction=="vert"){if(_a._scrollpixel!="all"){_c=this.pos;}else{_c=this._scroll_reverse_convert(this.pos,true)[0];}_b=this._scroll_convert_pixel(_c-1,true);}return _b;};_pGridScrollBarCtrl._setScrollPos=function(_a){nexacro.ScrollBarCtrl.prototype._setScrollPos.call(this,_a);var _b=this._grid;if(_b._scrollpixel!="all"&&this.direction=="vert"){_b._is_over_scroll=0;if(this._pos>this._orgmax){_b._is_over_scroll=this._pos-this._orgmax;}}};delete _pGridScrollBarCtrl;nexacro.Grid=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ongesture":1,"onvscrolllastover":1,"onvscroll":1,"onhscroll":1,"onvtracklast":1,"oncellclick":1,"onheadclick":1,"onsummclick":1,"oncelldblclick":1,"onheaddblclick":1,"onsummdblclick":1,"onnodataareaclick":1,"onnodataareadblclick":1,"onselectchanged":1,"onselectchanged":1,"onformatchanged":1,"onenteredit":1,"onenterdown":1,"cantreestatuschange":1,"ontreestatuschanged":1,"onsubselectchanged":1,"onsubselectchanged":1,"oncolresizing":1,"onrowresizing":1,"ondropdown":1,"oncloseup":1,"onitemchanged":1,"onexpanddown":1,"onexpandup":1,"onchar":1,"ontextchange":1,"ontextchanged":1,"oncolresized":1,"onrowresized":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._is_scrollable=true;this._formats={};this._curFormat=null;this._headBand=null;this._summBand=null;this._bodyBand=null;this._exprcache={};this._selectstartrow=[];this._selectstartcol=[];this._selectstartsubrow=[];this._selectstartpvt=[];this._selectendrow=[];this._selectendcol=[];this._selectendsubrow=[];this._selectendpvt=[];this._resizerCols=[];this._resizerRows=[];this._imgsize_cache={};this._rowSizeListSub=[];this._rowSizeList=[];this._rowHeadListSub=[];this._rowHeadList=[];this._rowSummListSub=[];this._rowSummList=[];this._begrowpos=0;this._endrowpos=0;this._toprowpos=[0,0];this._bottomrowpos= -1;this._selectinfo={rows:[],selects:[],ctrlpoint:{"cell": -1,"col": -1,"subrow": -1,"row": -9,"colspan": -1,"rowspan": -1,"_init":function(){this.cell= -1;this.col= -1;this.subrow= -1;this.row= -9;this.colspan= -1;this.rowspan= -1;this.subrowslen=0;this.area="";},"_set":function(_j,_k,_l){this.cell=_j._cellidx;this.col=_j._col;this.subrow=_j._row;this.row=_k;this.colspan=_j._colspan;this.rowspan=_j._rowspan;this.subrowslen=_l;this.area=_j._area;}},area:[],"curcell": -1,"curcol": -1,"curpvt": -9,"cursubrow": -1,"curdsrow": -1,"currow": -9,"getSelectCells":function(_j){return this.selects[_j+2];},arearect:{left:0,top:0,width:0,height:0,barea:"",earea:""}};this._text_elem=null;this._is_use_suppress=false;this._is_head_wordwrap=false;this._is_body_wordwrap=false;this._is_summ_wordwrap=false;this._recreate_contents_proc=[];this._keydown_elem=null;this._tree_load_all=null;this._image_load_all=null;this._is_editor_keyaction=true;this._focus_proc=null;this._after_recreate_contents_all=null;this._after_recreate=false;this._is_async_recreate=false;this._is_after_recreate=false;this._accessibility_role="grid";this._accept_arrow=false;this._accept_focus=false;this._first_focus=false;this._is_first_bodycell=false;this._is_band_focus=false;this._beforegridrowpos= -1;this._beforegridcolpos= -1;this.accessibilityreadbandlabel=true;this.controlbutton=new nexacro.GridControlButton("controlbutton",0,0,0,0,this,false,true);this.controlcalendar=new nexacro.GridControlCalendar("controlcalendar",0,0,0,0,this,false,true);this.controlcheckbox=new nexacro.GridControlCheckbox("controlcheckbox",0,0,0,0,this,true);this.controlcombo=new nexacro.GridControlCombo("controlcombo",0,0,0,0,this,false,true);this.controledit=new nexacro.GridControlEdit("controledit",0,0,0,0,this,false,true);this.controlmaskedit=new nexacro.GridControlMaskEdit("controlmaskedit",0,0,0,0,this,true);this.controltextarea=new nexacro.GridControlTextArea("controltextarea",0,0,0,0,this,false,true);this.controlprogressbar=new nexacro.GridControlBar("controlprogressbar",0,0,0,0,this,true);this.controlexpand=new nexacro.GridExpand(this,0,0,0,0,true);this._sizetextarea=new nexacro.TextAreaCtrl("controltextarea","absolute",0, -10,0,1,null,null,this);this._sizetextarea.set_visible(false);this._aniframe_rowscroll=null;this._aniframe_colscroll=null;this._is_use_bind_expr_prop={body:null,head:null,summ:null};this._is_use_bind_expr_style={body:false,head:false,summ:false};this._is_use_bind_expr_outerstyle={body:false,head:false,summ:false};this._is_data_enter_apply=false;this._select_ctrl=null;this._format_str=null;this._destroyeditors=[];this._track_point={x: -1,y: -1};this._track_idx= -1;this._track_start_info=null;this._track_mode="";this._overlay_elements=[];this._selectborder_elements=[];this._func_queue=[];this._recalcXY_info=null;this._fake_mergecell_arr=[];this._enable_redraw_history={};this._temphead=this._tempsumm=null;this._autofitcol_rate=[];this._org_treeStates=[];this._realrowsized_body=[];this._realrowsized_head=[];this._realrowsized_summ=[];};var _pGrid=nexacro._createPrototype(nexacro.Component,nexacro.Grid);nexacro.Grid.prototype=_pGrid;_pGrid._type_name="Grid";_pGrid._rowheight=24;_pGrid._rowcount=0;_pGrid._rowposition= -1;_pGrid._beforeheadcellpos= -1;_pGrid._beforeheadrowpos= -1;_pGrid._beforeheadcolpos= -1;_pGrid._beforeheadsubrowpos= -1;_pGrid._beforebodycellpos= -1;_pGrid._beforebodyrowpos= -1;_pGrid._beforebodycolpos= -1;_pGrid._beforebodysubrowpos= -1;_pGrid._beforepvt= -9;_pGrid._beforesummcellpos= -1;_pGrid._beforesummrowpos= -1;_pGrid._beforesummcolpos= -1;_pGrid._beforesummsubrowpos= -1;_pGrid._multiselect="none";_pGrid._bodyrowheight=0;_pGrid._mouseRowPos= -9;_pGrid._mouseovercell=null;_pGrid._mouseCellPos= -1;_pGrid._dsEventOccured=false;_pGrid._bPivotGrid=false;_pGrid._showEditorCell=false;_pGrid._showEditRowIdx= -1;_pGrid._showEditCellIdx= -1;_pGrid._dbclickPreCell= -1;_pGrid._dbclickPreCol= -1;_pGrid._dbclickPreRow= -9;_pGrid._dbclickPreSubrow= -1;_pGrid._dbclickPrePvt= -9;_pGrid._lbuttondown_proc=false;_pGrid._bDragArea=false;_pGrid._nDragRow= -1;_pGrid._nDragCell= -1;_pGrid._nDragPivot= -9;_pGrid._nDragEndRow= -1;_pGrid._nDragEndCell= -1;_pGrid._nDragEndCol= -9;_pGrid._nDragBand= -1;_pGrid._bShiftClick=false;_pGrid._selectClear=false;_pGrid._acceptstab=true;_pGrid.vscrollbar=null;_pGrid.hscrollbar=null;_pGrid.scrollbars="autoboth";_pGrid._scrollbars=3;_pGrid.body=null;_pGrid.head=null;_pGrid.summ=null;_pGrid.summary=null;_pGrid.currentcell= -1;_pGrid.currentcol= -1;_pGrid.currentpivot= -9;_pGrid.currentsubrow= -1;_pGrid.currentrow= -9;_pGrid._currentDSrow= -1;_pGrid._currentBand="body";_pGrid.selectcount=0;_pGrid.selectstartrow= -9;_pGrid.selectstartcol= -1;_pGrid.selectstartsubrow= -1;_pGrid.selectstartpivot= -9;_pGrid.selectendrow= -9;_pGrid.selectendcol= -1;_pGrid.selectendsubrow= -1;_pGrid.selectendpivot= -9;_pGrid.pagerowcount=0;_pGrid._pagerowcnt=0;_pGrid.rowcount=0;_pGrid.pivotcount=0;_pGrid._disprowcnt=0;_pGrid._displaycalendarctrl=null;_pGrid.fillareatype="none";_pGrid._resetfillarea=false;_pGrid.scrollpixel="default";_pGrid._scrollpixel=(nexacro.isTouchInteraction)?"all":"none";_pGrid._selectscrollmode=(nexacro.isTouchInteraction)?"scroll":"select";_pGrid.dragscrolltype="all";_pGrid.hideendline="none";_pGrid.userdata="";_pGrid.nodataimage="";_pGrid.nodatatext="";_pGrid.summarytype="default";_pGrid.suppresslevel="sameskip";_pGrid.useselcolor=true;_pGrid.autoupdatetype="none";_pGrid.cellclickbound="control";_pGrid.cellmovingtype="none";_pGrid.cellsizebandtype="body";_pGrid.cellsizingtype="none";_pGrid.extendsizetype="none";_pGrid.readonly=false;_pGrid.selectbandtype="default";_pGrid.selectchangetype="down";_pGrid.selecttype="row";_pGrid.wheelscrollrow=3;_pGrid.usecontrolkey=true;_pGrid.treeusebutton="use";_pGrid.treeuseline=true;_pGrid.treeusecheckbox=true;_pGrid.treeuseimage=true;_pGrid.treeuseexpandkey=false;_pGrid.treeinitstatus="collapse,null";_pGrid.treepathdelimiter=".";_pGrid.useinputpanel=false;_pGrid.usesoftkeyboard=true;_pGrid._enable=true;_pGrid._changeDisplayer=false;_pGrid._autoSizeRowProc=false;_pGrid.binddataset="";_pGrid._binddataset=null;_pGrid._userRowposChange=false;_pGrid._create_selection=null;_pGrid.formatid="";_pGrid.formats="";_pGrid.locale="";_pGrid.areaselecttype="limitband";_pGrid.autoenter="none";_pGrid.autofitbandtype="body";_pGrid.autofitminheight=100;_pGrid.autofitminwidth=100;_pGrid.autofittype="none";_pGrid.autosizingtype="none";_pGrid.autosizebandtype="body";_pGrid.selectscrollmode="default";_pGrid._colautofit=false;_pGrid._rowautofit=false;_pGrid._autofiting=false;_pGrid._bodyAutoSize=true;_pGrid._headAutoSize=false;_pGrid._summAutoSize=false;_pGrid._AutoSizeLcol=false;_pGrid._AutoSizeRcol=false;_pGrid._rowSizeEx=false;_pGrid._noInternalvscroll=false;_pGrid._is_variable_bodyrowsize=false;_pGrid._bGridCtrlLdown=false;_pGrid._locale="";_pGrid._currentCompositionStatus="none";_pGrid._currentCompositionData="";_pGrid._fixed_startrow= -9;_pGrid._fixed_endrow= -9;_pGrid._fixed_height=0;_pGrid._fixedrow_height=0;_pGrid._fixed_rowcnt=0;_pGrid._fixed_row_scrolling=false;_pGrid._accessibility_row= -1;_pGrid._accessibility_cellidx= -1;_pGrid.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_d){_b.letterspace=_d;this.on_apply_style_letterspace(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_align(_a);if(_b.align!=_f){_b.align=_f;this.on_apply_style_align(_f);}var _g=this.on_find_CurrentStyle_linetype(_a);if(_b.linetype!=_g){_b.linetype=_g;this.on_apply_style_linetype(_g);}var _h=this.on_find_CurrentStyle_line(_a);if(_b.line!=_h){_b.line=_h;this.on_apply_style_line(_h);}var _i=this.on_find_CurrentStyle_selectline(_a);if(_b.selectline!=_i){_b.selectline=_i;this.on_apply_style_selectline(_i);}var _j=this.on_find_CurrentStyle_selectlinetype(_a);if(_b.selectlinetype!=_j){_b.selectlinetype=_j;this.on_apply_style_selectline(_j);}var _k=this.on_find_CurrentStyle_treeclosebuttonimage(_a);if(_b.treeclosebuttonimage!=_k){_b.treeclosebuttonimage=_k;this.on_apply_style_treeclosebuttonimage(_k);}var _l=this.on_find_CurrentStyle_treecollapseimage(_a);if(_b.treecollapseimage!=_l){_b.treecollapseimage=_l;this.on_apply_style_treecollapseimage(_l);}var _m=this.on_find_CurrentStyle_treeexpandimage(_a);if(_b.treeexpandimage!=_m){_b.treeexpandimage=_m;this.on_apply_style_treeexpandimage(_m);}var _n=this.on_find_CurrentStyle_treeitemimage(_a);if(_b.treeitemimage!=_n){_b.treeitemimage=_n;this.on_apply_style_treeitemimage(_n);}var _o=this.on_find_CurrentStyle_treelinetype(_a);if(_b.treelinetype!=_o){_b.treelinetype=_o;this.on_apply_style_treeitemimage(_o);}var _p=this.on_find_CurrentStyle_treeopenbuttonimage(_a);if(_b.treeopenbuttonimage!=_p){_b.treeopenbuttonimage=_p;this.on_apply_style_treeopenbuttonimage(_p);}var _q=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_b.rtlimagemirroring!=_q){_b.rtlimagemirroring=_q;this.on_apply_style_rtlimagemirroring(_q);}};_pGrid.on_create_custom_style=function(){return new nexacro.Grid_Style(this);};_pGrid.on_create_custom_currentStyle=function(){return new nexacro.Grid_CurrentStyle();};_pGrid.on_find_CurrentStyle_cursor=function(_a){if(this._global_cursor){return this._global_cursor;}return nexacro.Component.prototype.on_find_CurrentStyle_cursor.call(this,_a);};_pGrid.on_find_CurrentStyle_line=function(_a){return this._find_pseudo_obj("line",_a,"line");};_pGrid.on_find_CurrentStyle_selectline=function(_a){return this._find_pseudo_obj("selectline",_a);};_pGrid.on_find_CurrentStyle_linetype=function(_a){return this._find_pseudo_obj("linetype",_a);};_pGrid.on_find_CurrentStyle_selectlinetype=function(_a){return this._find_pseudo_obj("selectlinetype",_a);};_pGrid.on_find_CurrentStyle_focusborder=function(_a){return this._find_pseudo_obj("focusborder",_a,"border");};_pGrid.on_find_CurrentStyle_treeclosebuttonimage=function(_a){return this._find_pseudo_obj("treeclosebuttonimage",_a);};_pGrid.on_find_CurrentStyle_treecollapseimage=function(_a){return this._find_pseudo_obj("treecollapseimage",_a);};_pGrid.on_find_CurrentStyle_treeexpandimage=function(_a){return this._find_pseudo_obj("treeexpandimage",_a);};_pGrid.on_find_CurrentStyle_treeitemimage=function(_a){return this._find_pseudo_obj("treeitemimage",_a);};_pGrid.on_find_CurrentStyle_treelinetype=function(_a){return this._find_pseudo_obj("treelinetype",_a,"line");};_pGrid.on_find_CurrentStyle_treeopenbuttonimage=function(_a){return this._find_pseudo_obj("treeopenbuttonimage",_a);};_pGrid.on_find_CurrentStyle_selectpointimage=function(_a){return this._find_pseudo_obj("selectpointimage",_a);};_pGrid.on_find_CurrentStyle_background=function(_a){var _b=this._getGridRowCount();var _c=nexacro.Component.prototype.on_find_CurrentStyle_background.call(this,_a);if(this.getElement()&&_b==0&&this._bodyBand==null&&this._is_created){var _d=this.nodataimage;if(_d.length){var _e="transparent";if(_c){_e=_c.color;}_c=nexacro._getCachedStyleObj("background",_e+" "+_d+" center middle");}}return _c;};_pGrid.on_find_CurrentStyle_align=function(_a){return this._find_pseudo_obj("align",_a,"align");};_pGrid.on_update_style_cursor=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));this._refreshAll();};_pGrid.on_update_style_background=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_background(this.currentstyle.background=this.on_find_CurrentStyle_background(this._pseudo));};_pGrid.on_update_style_gradation=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_gradation(this.currentstyle.gradation=this.on_find_CurrentStyle_gradation(this._pseudo));};_pGrid.on_update_style_font=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_font(this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo));};_pGrid.on_update_style_letterspace=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_letterspace(this.currentstyle.letterspace=this.on_find_CurrentStyle_letterspace(this._pseudo));};_pGrid.on_update_style_padding=function(){if(this._is_created){this._clearAllStyleCache();}var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);};_pGrid.on_update_style_align=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_align(this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo));};_pGrid.on_update_style_color=function(){if(this._is_created){this._clearAllStyleCache();}nexacro.Component.prototype.on_update_style_color.call(this);};_pGrid.on_update_style_line=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_line(this.currentstyle.line=this.on_find_CurrentStyle_line(this._pseudo));};_pGrid.on_update_style_linetype=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_linetype(this.currentstyle.linetype=this.on_find_CurrentStyle_linetype(this._pseudo));};_pGrid.on_update_style_selectline=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_selectline(this.currentstyle.selectline=this.on_find_CurrentStyle_selectline(this._pseudo));};_pGrid.on_update_style_selectlinetype=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_selectlinetype(this.currentstyle.selectlinetype=this.on_find_CurrentStyle_selectlinetype(this._pseudo));};_pGrid.on_update_style_treeclosebuttonimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeclosebuttonimage(this.currentstyle.treeclosebuttonimage=this.on_find_CurrentStyle_treeclosebuttonimage(this._pseudo));};_pGrid.on_update_style_treecollapseimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treecollapseimage(this.currentstyle.treecollapseimage=this.on_find_CurrentStyle_treecollapseimage(this._pseudo));};_pGrid.on_update_style_treeexpandimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeexpandimage(this.currentstyle.treeexpandimage=this.on_find_CurrentStyle_treeexpandimage(this._pseudo));};_pGrid.on_update_style_treeitemimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeitemimage(this.currentstyle.treeitemimage=this.on_find_CurrentStyle_treeitemimage(this._pseudo));};_pGrid.on_update_style_treelinetype=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treelinetype(this.currentstyle.treelinetype=this.on_find_CurrentStyle_treelinetype(this._pseudo));};_pGrid.on_update_style_treeopenbuttonimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeopenbuttonimage(this.currentstyle.treeopenbuttonimage=this.on_find_CurrentStyle_treeopenbuttonimage(this._pseudo));};_pGrid.on_update_style_selectpointimage=function(){this.on_apply_style_selectpointimage(this.currentstyle.selectpointimage=this.on_find_CurrentStyle_selectpointimage(this._pseudo));};_pGrid.on_apply_style_font=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_letterspace=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_color=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_align=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_linetype=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_line=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_selectline=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_selectlinetype=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeclosebuttonimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treecollapseimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeexpandimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeitemimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treelinetype=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeopenbuttonimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_selectpointimage=function(_a){if(!this.enableredraw){return;}if(!this._is_created){return;}if(this._select_ctrl){this._select_ctrl._updateAll();}};_pGrid._find_bandcomp_pseudo_obj=function(_a,_b,_c,_d){var _e;var _f=this._curFormat;if(_a=="head"){_e=this._headBand;if(!_e){_e=this._temphead;if(!_e){_e=this._temphead=new nexacro.GridBand("head",0,0,0,0,this,_f._headband);}}}else if(_a=="summ"||_a=="summary"){_e=this._summBand;if(!_e){_e=this._tempsumm;if(!_e){_e=this._tempsumm=new nexacro.GridBand("summ",0,0,0,0,this,_f._summband);}}}else{_e=this._bodyBand;}var _g=null;if(_e){if(_a=="summ"||_a=="summary"){_g=nexacro.Component.prototype._find_pseudo_obj.call(_e,_b,_c,_d);if(!_g){_e.id="summary";_g=nexacro.Component.prototype._find_pseudo_obj.call(_e,_b,_c,_d);_e.id="summ";}}else{_g=nexacro.Component.prototype._find_pseudo_obj.call(_e,_b,_c,_d);}}return _g;};_pGrid.on_apply_pseudo=function(_a,_b){nexacro.Component.prototype.on_apply_pseudo.call(this,_a,_b);if(_a==""){this._recreate();}};_pGrid.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._text_elem=new nexacro.TextBoxElement(_a);_b.setElementSize(this._client_width,this._client_height);_b.setElementVisible(false);_b.setElementAlignXY("center","middle");_b.setElementWordWrap("char");this._createBandsAndAreas();this._sizetextarea.createComponent(true);}};_pGrid.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}var _b=this._bodyBand;if(_b){_b.on_created();}var _c=this._headBand;if(_c){_c.on_created();}var _d=this._summBand;if(_d){_d.on_created();}this._sizetextarea.on_created();var _e=this._select_ctrl;if(_e){_e.on_created();}if(_b||_c||_d){this._onResetScrollBar();this._applyAutofittype(true);}if(this._create_selection!=null&&!this._isMultiSelect()&&!this._isAreaSelect()){var _f=this._create_selection;this._resetSelect(_f.row,_f.cell,_f.col,_f.subrow,_f.pivot);}this._create_selection=null;this._is_created=true;if(this._tree_recreate==true){this._recreate_contents_all(true,true,true);this._tree_recreate=false;}else if(this._image_recreate==true){this._recreate_contents_all(true,true,true);this._image_recreate=false;}else if(this.autosizingtype!="none"){this._recreate_contents_all(true,true,true);}else{this._refreshBody();}if(nexacro._enableaccessibility&&!this._accept_focus){var _g=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_g&&_g.enable){this._accept_focus=true;}}this.on_apply_nodatatext();this.on_apply_nodataimage();if(this._control_element){this._control_element._arrangeBandOrder();}this._applyResizer();this.on_apply_prop_rtldirection();this._adjustOverlayElements(true,this._is_use_fakemerge);};_pGrid.on_destroy_contents=function(){if(this._binddataset){this._removeDSEventHandlers(this._binddataset);}if(this._aniframe_rowscroll){this._aniframe_rowscroll.destroy();}if(this._aniframe_colscroll){this._aniframe_colscroll.destroy();}var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}this._sizetextarea.destroy();var _b=this._formats;if(_b){for(var _d in _b){var _c=_b[_d];if(_c&&_c.destroy){_c.destroy();_b[_d]=null;}}}this._select_ctrl=null;this._destroyBands(true);if(this.controlbutton){this.controlbutton=null;}if(this.controlcalendar){this.controlcalendar=null;}if(this.controlcheckbox){this.controlcheckbox=null;}if(this.controlcombo){this.controlcombo=null;}if(this.controledit){this.controledit=null;}if(this.controlmaskedit){this.controlmaskedit=null;}if(this.controltextarea){this.controltextarea=null;}if(this.controlprogressbar){this.controlprogressbar=null;}if(this.controlexpand){this.controlexpand=null;}if(this._currentCellEditor){this._currentCellEditor.destroy();this._currentCellEditor=null;this._tempEditor=null;}this._clearDestroyEditor();if(this._displaycalendarctrl){delete this._displaycalendarctrl;this._displaycalendarctrl=null;}this._binddataset=null;if(this._tempEditor){this._tempEditor.destroy();this._tempEditor=null;}if(this._resizer_colctrl){this._resizer_colctrl.destroy();}if(this._resizer_rowctrl){this._resizer_rowctrl.destroy();}if(this._extratrack_timer){this._extratrack_timer._handle.stop();this._extratrack_timer._handle=null;this._extratrack_timer=null;}this._destroyOverlayElements();this._destroySelectBorderElements();this._curFormat=null;this._formats=null;this._mouseovercell=null;this._lastmouseentercell=null;this._prevAreaCellObj=null;this._selectstartrow=null;this._selectstartcol=null;this._selectstartsubrow=null;this._selectstartpvt=null;this._selectendrow=null;this._selectendcol=null;this._selectendsubrow=null;this._selectendpvt=null;this._resizerCols=null;this._resizerRows=null;this._imgsize_cache=null;this._rowSizeListSub=null;this._rowSizeList=null;this._rowHeadListSub=null;this._rowHeadList=null;this._rowSummListSub=null;this._rowSummList=null;this._toprowpos=null;this._selectinfo=null;this._recreate_contents_proc=null;this._keydown_elem=null;this._tree_load_all=null;this._image_load_all=null;this._focus_proc=null;this._after_recreate_contents_all=null;this._band_scroll_sizes=null;this._format_str=null;this._exprcache=null;this._is_use_bind_expr_outerstyle=null;this._is_use_bind_expr_prop=null;this._is_use_bind_expr_style=null;this._setdataobj=null;this._resizer_colctrl=null;this._resizer_rowctrl=null;this.selectstartrow=null;this.selectstartcol=null;this.selectstartsubrow=null;this.selectstartpivot=null;this.selectendrow=null;this.selectendcol=null;this.selectendsubrow=null;this.selectendpivot=null;this.formats=null;this._destroyeditors=null;this._overlay_elements=null;this._selectborder_elements=null;this._recalcXY_info=null;this._fake_mergecell_arr=null;this._enable_redraw_history=null;this._autofitcol_rate=null;this._org_treeStates=null;this._realrowsized_body=null;this._realrowsized_head=null;this._realrowsized_summ=null;this._treeCellinfo=null;};_pGrid._is_changingRect=false;_pGrid.on_change_containerRect=function(_a,_b){if(this._is_changingRect){return;}this._is_changingRect=true;this._resizeBand();this._adjustOverlayElements(true,this._is_use_fakemerge);this._is_changingRect=false;};_pGrid.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);if(this._currentCellEditor&&this._currentCellEditor._isPopupVisible()){this._currentCellEditor.on_update_position(_a,_b);}};_pGrid._createHScrollBar=function(_a){var _b=new nexacro.GridScrollBarCtrl("hscrollbar","absolute",0,0,this._client_width,_a,null,null,this);_b._setDirection("horz");_b._setEventHandler("onscroll",this.on_hscroll,this);_b.on_update_style_scrollbarsize();return _b;};_pGrid._createVScrollBar=function(_a){var _b=new nexacro.GridScrollBarCtrl("vscrollbar","absolute",0,0,_a,this._client_width,null,null,this);_b._setDirection("vert");_b._setEventHandler("onscroll",this.on_vscroll,this);_b.on_update_style_scrollbarsize();return _b;};_pGrid.on_create_control_element=function(_a){var _b=new nexacro.GridScrollableControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pGrid._on_deactivate=function(){if(!this._isSelected()){this._stat_change("notfocus","normal");}};_pGrid.applyto_bindSource=function(_a,_b){if(this._currentCellEditor){this._currentCellEditor._setDataset();}};_pGrid._getAccessibilityRole=function(_a){var _b=_a.role?_a.role:this._accessibility_role;if(this._hasTree){_b="treegrid";}return _b;};_pGrid._isAccessibilityEnable=function(){return this._accept_focus;};_pGrid.on_get_style_accessibility_label=function(){return this.id;};_pGrid.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;var _e=this._curFormat;if(_e){var _f=(_e._headcells)?_e._headcells.length:0;var _g=(_e._bodycells)?_e._bodycells.length:0;var _h=(_e._summcells)?_e._summcells.length:0;if(this._currentBand=="grid"&&this._accessibility_cellidx<0&&this._accessibility_row<0){if(_f==0&&_g==0&&_h==0){var _i=this._getForm();var _j=_i._getTabOrderNext(this,(_a>0)?_a: -1,true);if(_j&&(!this.nodatatext||this.nodatatext.length<=0)){_j._setAccessibilityNotifyEvent(_a);}}if(_a){this._currentBand="head";this._accessibility_row=0;this._accessibility_cellidx= -1;}else{this._currentBand="summ";this._accessibility_row=0;this._accessibility_cellidx=_h;}}var _k=null;while(true){_k=null;if(_a){this._accessibility_cellidx++ ;}else{this._accessibility_cellidx-- ;}if(this._currentBand=="head"){if(_a){if(!this._headBand||this._accessibility_cellidx>=_f){this._currentBand="body";this._accessibility_row=0;this._accessibility_cellidx=0;if(this.rowcount<=0&&this.nodatatext){this._bodyBand._setAccessibilityNotifyEvent();_d=true;break;}}}else{if(!this._headBand||this._accessibility_cellidx<0){this._accessibility_row= -1;this._accessibility_cellidx= -1;_d=false;break;}}}else if(this._currentBand=="summ"){if(_a){if(!this._summBand||this._accessibility_cellidx>=_h){this._accessibility_row= -1;this._accessibility_cellidx= -1;_d=false;break;}}else{if(!this._summBand||this._accessibility_cellidx<0){this._currentBand="body";this._accessibility_row=this._rowcount-1;this._accessibility_cellidx=_g-1;if(this.rowcount<=0&&this.nodatatext){this._bodyBand._setAccessibilityNotifyEvent();_d=true;break;}}}}else{if(_a){if(this._accessibility_cellidx>=_g){this._accessibility_row++ ;this._accessibility_cellidx=0;}if(this._rowcount<=0||this._accessibility_row>=this._rowcount){this._currentBand="summ";this._accessibility_row=0;this._accessibility_cellidx=0;}}else{if(this._accessibility_cellidx<0){this._accessibility_row-- ;this._accessibility_cellidx=_g-1;}if(this._rowcount<=0||this._accessibility_row<0){this._currentBand="head";this._accessibility_row=0;this._accessibility_cellidx=_f-1;}}}_k=this._getAccessibilityCurrentCell(this._accessibility_row,this._accessibility_cellidx);if(_k){_k._setAccessibilityNotifyEvent();_d=true;break;}}}return _d;};_pGrid._setAccessibilityNotifyEvent=function(_a){this._resetScrollPos(this,this._adjust_left,this._adjust_top,this._adjust_left+this._adjust_width,this._adjust_top+this._adjust_height,(_a&&_a>0)?0:1);this._accessibility_row= -1;this._accessibility_cellidx= -1;this._currentBand="grid";this.on_fire_sys_onaccessibilitygesture(_a);};_pGrid._setAccessibilityInfoByHover=function(_a){var _b=false;if(_a){if(_a._cellobj){_a=_a._cellobj;}if(_a instanceof nexacro.GridCell){this._currentBand=_a._band.id;this._accessibility_cellidx=_a._cellidx;this._accessibility_row=this._getDataRow(_a._rowidx);this._first_focus=true;}else{this._first_focus=false;}_b=_a._setAccessibilityInfoByHover();}return _b;};_pGrid.on_apply_prop_class=function(){this._clearAllStyleCache();if(this._bodyBand){this._bodyBand._css_finder=null;this._bodyBand._ref_css_finder=null;}if(this._headBand){this._headBand._css_finder=null;this._headBand._ref_css_finder=null;}if(this._summBand){this._summBand._css_finder=null;this._summBand._ref_css_finder=null;}nexacro.Component.prototype.on_apply_prop_class.call(this);if(this._is_created){this._refreshAll(true);}};_pGrid.set_fillareatype=function(_a){switch(_a){case "none":case "linerow":case "datarow":case "controlrow":case "allrow":if(_a!=this.fillareatype){this.fillareatype=_a;this.on_apply_fillareatype();}break;}};_pGrid.on_apply_fillareatype=function(){this._resetfillarea=true;this._recreate_contents_all(false,false,false,true);this._resetfillarea=false;};_pGrid.set_selectscrollmode=function(_a){switch(_a){case "select":case "scroll":this._selectscrollmode=this.selectscrollmode=_a;break;case "default":this._selectscrollmode=(nexacro.isTouchInteraction)?"scroll":"select";break;}};_pGrid.set_scrollpixel=function(_a){if(_a!=this.scrollpixel){switch(_a){case "none":case "all":this.scrollpixel=this._scrollpixel=_a;this.on_apply_scrollpixel();break;case "default":this.scrollpixel=_a;this._scrollpixel=(nexacro.isTouchInteraction)?"all":"none";this.on_apply_scrollpixel();break;}}};_pGrid.on_apply_scrollpixel=function(){this._updateScrollInfo();};_pGrid._updateScrollInfo=function(){if(this._control_element){this._control_element._updateClientSize();this._updateClientSize(this._control_element);}};_pGrid.set_hideendline=function(_a){switch(_a){case "none":case "row":case "col":case "both":if(_a!=this.hideendline){this.hideendline=_a;this.on_apply_hideendline();}break;}};_pGrid.on_apply_hideendline=function(){this._refreshAll();};_pGrid.set_userdata=function(_a){if(this.userdata!=_a){this.userdata=_a;}};_pGrid.set_nodataimage=function(_a){if(_a.substring(0,4).toLowerCase()!="url("){_a="URL("+_a+")";}this.nodataimage=_a;this.on_apply_nodataimage();};_pGrid.on_apply_nodataimage=function(){if(this.getElement()){var _a=this._bodyBand;if(_a){_a._control_pseudo="";_a._contents_pseudo="";_a._stat_change();}else{this._control_pseudo="";this._contents_pseudo="";this._stat_change();}}};_pGrid.set_nodatatext=function(_a){this.nodatatext=_a;this.on_apply_nodatatext();};_pGrid.on_apply_nodatatext=function(){var _a=this._getGridRowCount();if(this.getElement()&&_a==0){var _b=this._bodyBand;if(_b){if(this._text_elem){this._text_elem.setElementVisible(false);}_b.on_apply_text();}else{if(this._text_elem){var _c=this.nodatatext;var _d=this.on_find_CurrentStyle_font();var _e=this.on_find_CurrentStyle_color();var _f=this.on_find_CurrentStyle_letterspace();this._text_elem.setElementVisible(true);this._text_elem.setElementText(_c);this._text_elem.setElementFont(_d);this._text_elem.setElementLetterSpace(_f);this._text_elem.setElementColor(_e);}}}else{if(this._text_elem){this._text_elem.setElementVisible(false);}}};_pGrid.set_summarytype=function(_a){switch(_a){case "default":case "top":case "left":case "lefttop":if(_a!=this.summarytype){this.summarytype=_a;this.on_apply_summarytype();}break;}};_pGrid.on_apply_summarytype=function(){if(this.getElement()&&this._curFormat!=null&&this._curFormat.summHeight>0){this._recreate();}};_pGrid.set_suppresslevel=function(_a){switch(_a){case "sameskip":case "allskip":case "allcompare":if(_a!=this.suppresslevel){this.suppresslevel=_a;this.on_apply_suppresslevel();}break;}};_pGrid.on_apply_suppresslevel=function(){if(this.getElement()&&this._curFormat!=null){this._refreshBody();}};_pGrid.set_useselcolor=function(_a){_a=nexacro._toBoolean(_a);this.useselcolor=_a;this.on_apply_useselcolor();};_pGrid.on_apply_useselcolor=function(){this._refreshBody();};_pGrid.setBindDataset=function(_a){if(_a instanceof nexacro.Dataset){if(this._binddataset){this._removeDSEventHandlers(this._binddataset);}if(!_a){this._binddataset=null;this.binddataset="";}else{this._binddataset=_a;this.binddataset=_a.id;}this.on_apply_prop_binddataset();}};_pGrid.getBindDataset=function(){return this._binddataset;};_pGrid.set_binddataset=function(_a){if(typeof _a!="string"){this.setBindDataset(_a);return;}if(_a!=this.binddataset||this.binddataset&&!this._binddataset){if(this._binddataset){this._removeDSEventHandlers(this._binddataset);}if(!_a){this._binddataset=null;this.binddataset="";}else{_a=_a.replace("@","");this._binddataset=this._findDataset(_a);this.binddataset=_a;}this.on_apply_prop_binddataset();}return this.binddataset;};_pGrid.on_apply_prop_binddataset=function(){var _a=this._binddataset;if(_a){_a._is_loaded=true;this.binddataset=_a.id;this.rowcount=this._rowcount=_a.rowcount;this._rowposition=_a.rowposition;this._exprcache={};this._initTreeStates();this._clearAllStyleCache();this._recreate_contents_all(true,true,true);this._initSelect(this._rowposition);this._setDSEventHandlers(_a);}else{this.rowcount=this._rowcount=0;this._rowposition= -1;this._exprcache={};this._initTreeStates();this._clearAllStyleCache();this._recreate_contents_all(true,true,true);}};_pGrid.set_formatid=function(_a){if(this.formatid!=_a){this.formatid=_a;this.on_apply_formatid();}};_pGrid.on_apply_formatid=function(){var _a=this.formatid;if(_a==""){_a="default";}this._curFormat=this._formats[_a];this._autofitcol_rate=[];this._recreate();this._resetSelect(this._rowposition);};_pGrid.set_formats=function(_a){this.formats=_a;this.on_apply_formats();};_pGrid.on_apply_formats=function(){this._setContents(this.formats);this._recreate();this._resetSelect(this._rowposition);};_pGrid.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pGrid.on_apply_locale=function(){var _a=this._locale;if(this._headBand){this._headBand._setLocale(_a);}if(this._bodyBand){this._bodyBand._setLocale(_a);}if(this._summBand){this._summBand._setLocale(_a);}};_pGrid.set_areaselecttype=function(_a){if(this.areaselecttype!=_a){switch(_a){case "overband":case "limitband":this.areaselecttype=_a;break;}}};_pGrid.set_autoenter=function(_a){if(this.autoenter!=_a){switch(_a){case "select":case "key":case "none":this.autoenter=_a;break;}}};_pGrid.set_autofitbandtype=function(_a){if(this.autofitbandtype!=_a){switch(_a){case "body":case "allband":case "nohead":case "noleft":case "nohead,noleft":this.autofitbandtype=_a;break;}}};_pGrid.set_autofitminheight=function(_a){if(this.autofitminheight!=_a){this.autofitminheight=(isNaN(_a)?100:parseInt(_a,10));}};_pGrid.set_autofitminwidth=function(_a){if(this.autofitminwidth!=_a){this.autofitminwidth=(isNaN(_a)?100:parseInt(_a,10));}};_pGrid.set_autofittype=function(_a){if(this.autofittype!=_a){switch(_a){case "none":case "col":case "row":case "both":case "allpivot":case "allrow":case "allboth":case "col,allrow":case "row,allpivot":this.autofittype=_a;this.on_apply_prop_autofittype();break;}}};_pGrid.on_apply_prop_autofittype=function(){if(this._curFormat){if(!this._isUserChangeColSize){this._autofitcol_rate=[];}this._curFormat._resetOrgColSize(true,this._autofitcol_rate);}this._applyAutofittype(true,true);};_pGrid.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);if(_a&&this._is_created){this._refreshAll();if(nexacro.Browser=="Chrome"&&this.vscrollbar){this._absolutelyResetScrollPos(true);var _b=this._control_element.vscroll_limit;var _c=this.vscrollbar._pos;if(_c>=_b){_c=_b;this._control_element.setElementVScrollPos(_c-1);}else{this._control_element.setElementVScrollPos(_c+1);}this._control_element.setElementVScrollPos(_c);this._absolutelyResetScrollPos(false);}}}};_pGrid.set_autosizebandtype=function(_a){if(this.autosizebandtype!=_a){switch(_a){case "body":this._bodyAutoSize=true;this._headAutoSize=false;this._summAutoSize=false;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "head":this._bodyAutoSize=false;this._headAutoSize=true;this._summAutoSize=false;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "summary":this._bodyAutoSize=false;this._headAutoSize=false;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "allband":this._bodyAutoSize=true;this._headAutoSize=true;this._summAutoSize=true;this._AutoSizeLcol=true;this._AutoSizeRcol=true;break;case "nohead":this._bodyAutoSize=true;this._headAutoSize=false;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "noleft":this._bodyAutoSize=true;this._headAutoSize=true;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=true;break;case "nohead,noleft":this._bodyAutoSize=true;this._headAutoSize=false;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=true;break;}this.autosizebandtype=_a;this.on_apply_autosizebandtype();}};_pGrid.on_apply_autosizebandtype=function(){if(this.getElement()){this._recreate_contents_all(true,true,true);}};_pGrid.set_autosizingtype=function(_a){if(this.autosizingtype!=_a){var _b=false;if(this.extendsizetype=="row"||this.extendsizetype=="both"){_b=true;}switch(_a){case "none":case "col":this._rowSizeEx=_b;break;case "row":case "both":this._rowSizeEx=true;break;}if(_a=="row"||_a=="none"||!_a){if(this._curFormat){this._curFormat._resetOrgColSize(true,this._autofitcol_rate);}}this.autosizingtype=_a;}this.on_apply_autosizingtype();};_pGrid.on_apply_autosizingtype=function(){if(this.getElement()){this._isUserChangeHeadRowSize=false;this._isUserChangeBodyRowSize=false;this._isUserChangeSummRowSize=false;this._realrowsized_body=[];this._realrowsized_head=[];this._realrowsized_summ=[];this._recreate_contents_all(true,true,true);}};_pGrid.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pGrid.on_apply_readonly=function(_a){var _b=this.readonly;if(_b){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pGrid.set_selectbandtype=function(_a){if(this.selectbandtype!=_a){switch(_a){case "default":case "allband":case "body":case "nohead":case "noleft":this.selectbandtype=_a;this.on_apply_selectbandtype();break;}}};_pGrid.on_apply_selectbandtype=function(){};_pGrid.set_selectchangetype=function(_a){if(this.selectchangetype!=_a){switch(_a){case "up":case "down":this.selectchangetype=_a;break;}}};_pGrid.set_selecttype=function(_a){if(this.selecttype!=_a){switch(_a){case "row":case "cell":case "area":case "multirow":case "multicell":case "multiarea":case "treecell":case "multitreecell":this.selecttype=_a;this.on_apply_selecttype();break;default:if(this.selecttype!="row"){this.selecttype="row";this.on_apply_selecttype();}break;}}};_pGrid.on_apply_selecttype=function(){this._resetSelect();this._refreshBody();this._updateSelector();};_pGrid._applySelectorScroll=function(_a,_b){var _c,_d,_e;var _f=this._curFormat;var _g=false;var _h=this._toprowpos[0];var _i=this._selectinfo.area.length>1&&this.selecttype=="multirow";if(_a[0]=="leftover0"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("prev",false,true,_b,null);_g=true;}else if(_a[0]=="rightover0"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("next",false,true,_b,this._selectinfo.ctrlpoint.col);_g=true;}else if(_a[0]=="leftover1"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("prev",false,true,_b,this._selectinfo.ctrlpoint.col);_g=true;}else if(_a[0]=="rightover1"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("next",false,true,_b,null);_g=true;}if(_a[1]=="topover0"){_d=this._selectinfo.currow-1;_c=this._begrowpos;if(_h!=_d){_e=this._jumpCurrentRow(_d);}_g=(_c!=_e);}else if(_a[1]=="bottomover0"){_d=this._selectinfo.currow+1;_c=this._begrowpos;_e=this._jumpCurrentRow(_d);_g=(_c!=_e);}else if(_a[1]=="topover1"){_d=this._selectinfo.currow-1;_c=this._begrowpos;if(_h!=_d){_e=this._jumpCurrentRow(_d);}_g=(_c!=_e);}else if(_a[1]=="bottomover1"){_d=this._selectinfo.currow+1;_c=this._begrowpos;_e=this._jumpCurrentRow(_d);_g=(_c!=_e);}return _g;};_pGrid._startAreaSizing=function(_a,_b){var _c=this._curFormat;var _d=_c._bodyrows.length;var _e=this._getAreaInfoWithPos(_a,_b);var _f=this._selectinfo.area;if(_b==0){var _g=_c._bodycells[_e.ecell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.erow,_d);}}else if(_b==1){var _g=_c._bodycells[_e.scell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.srow,_d);}}else if(_b==2){var _g=_c._bodycells[_e.ecell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.srow,_d);}}else if(_b==3){var _g=_c._bodycells[_e.scell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.erow,_d);}}};_pGrid._applyAreaSizing=function(_a,_b,_c){var _d=this._curFormat;var _e=_d._bodyrows.length;var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curdsrow;var _i=this._selectinfo.cursubrow;var _j=this._selectinfo.curpvt;var _k,_l,_m,_n,_o=this._selectinfo.curpvt;var _p=this._getAreaInfoWithPos(_a,_b);if(_b==0){this._setSelectedInfo(_p.scell,_p.scol,_p.srow,_p.ssubrow,null,_p);_k=_p.scell;_l=_p.scol;_m=_p.srow;_n=_p.ssubrow;}else if(_b==1){this._setSelectedInfo(_p.ecell,_p.ecol,_p.erow,_p.esubrow,null,_p);_k=_p.ecell;_l=_p.ecol;_m=_p.erow;_n=_p.esubrow;}else if(_b==2){this._setSelectedInfo(_p.scell,_p.scol,_p.erow,_p.esubrow,null,_p);_k=_p.scell;_l=_p.scol;_m=_p.erow;_n=_p.esubrow;}else if(_b==3){this._setSelectedInfo(_p.ecell,_p.ecol,_p.erow,_p.esubrow,null,_p);_k=_p.ecell;_l=_p.ecol;_m=_p.srow;_n=_p.ssubrow;}var _q;if(_c){_q="selectorsizing";}else if(_c===false){_q="selector";}if(this._selectinfo.area.length>1&&this.selecttype=="multirow"){this._multiselect="ctrl";}else{this._multiselect="shift";}retn=this._ChangeSelect(_k,_l,_m,_n,_o,false,_f,_g,_h,_i,_j,"body",_q);var _r=this._getCurrentBodyCell(_m,_k);if(_r&&_r._control_element!=this._focus_proc&&_q===undefined){this._focus_proc=_r._control_element;}};_pGrid._getAreaInfoWithPos=function(_a,_b){var _c=this._getScrollLeft();var _d=this._getScrollTop();var _e=this._getScollMaxLeft();var _f=this._select_ctrl;var _g=_a.l;var _h=_g+_a.w;var _i=_a.t;var _j=_i+_a.h;var _k=this._curFormat;var _l=_k._cols;var _m=_k._bodyrows;var _n=this._getGridRowCount();var _o,_p,_q,_r,_s,_t,_u,_v,_w,_x,_y;var _z,_aa,_ab,_ac;var _ad;var _ae;var _af=this._selectinfo.ctrlpoint;var _ag,_ah;if(_f){_ag=_f._start_begarea;_ah=_f._start_endarea;}else{_ag=this._selectinfo.arearect.barea;_ah=this._selectinfo.arearect.earea;}var _ai=parseInt(this._fixed_rowcnt);var _aj=_ai>0?parseInt(this._fixed_startrow):0;var _ak=parseInt(this._fixed_endrow);var _al=parseInt(this._fixed_height);if(_ai>0){_ae=this._getHeadHeight();}else{_ae=this._getHeadHeight()-_d;}if(this.summarytype=="top"||this.summarytype=="lefttop"){_ae+=this._getSummHeight();}var _am,_an;var _ao=_k._bodycells;var _ap=_ao.length;var _aq,_o,_ar,_as,_at;var _au;var _av;_p= -1;_am=_ae;for(var _aw=_aj;_aw<_n;_aw++ ){if(_ai>0&&_aw==(_ak+1)){_am-=_d;}_an=_am+this._getRowSize(_aw);if(this._track_mode=="areaselect"){_au=(_i<_an);if(_aw==0&&_i<_am){_au=true;}}else{_au=(_am<=_i&&_i<_an);}if(_p<0&&_au){_p=this._getDataRow(_aw);for(var _ax=0;_ax<_ap;_ax++ ){_at=_ao[_ax]._area;_aq=_ao[_ax]._col;_o=_ao[_ax]._row;_ar=_ao[_ax]._colspan;_as=_ao[_ax]._rowspan;if(_ao[_ax]._area=="left"){_ad=this._client_left;}else if(_ao[_ax]._area=="right"){_ad=this._client_width-_k.rightWidth;}else{_ad=_k.leftWidth-_c;}_z=_ad+_l[_aq].left;_ab=_ad+_l[_aq+_ar-1].right;_aa=_am+_m[_o].top;_ac=_am+_m[_o+_as-1].bottom;_av=this._getSubCellRect(_aw,_ax, -1, -1,false);_z=_av.left;_aa=_av.top;_ab=_av.right;_ac=_av.bottom;if(_ai>0&&_aw<=_ak){_aa+=_d;_ac+=_d;}if(this._track_mode=="areaselect"){_au=(_z<=_g&&_g<_ab&&_i<_ac);if(_ax==0&&_g<_z){_au=true;}}else{_au=(_z<=_g&&_g<_ab&&_i<_ac);}if(_au){if(_ah!=_ag||(_ag=="body"&&_ah=="body")){if(_ag!="left"&&_c>0&&_at=="left"){continue;}if(_ag!="right"&&_c<_e&&_at=="right"){continue;}if(_ah!="right"&&_at=="right"){continue;}}_r=_ax;_t=_aq;_v=_o;if(_a.area!="right"){break;}else if(_ao[_ax]._area=="right"){break;}}}}if(this._track_mode=="areaselect"){_au=_j<_an;if((_aw+1)==_n&&_j>=_an){_au=true;}}else{_au=_am<_j&&_j<=_an;}if(_p>=0&&_au){_q=this._getDataRow(_aw);for(var _ax=0;_ax<_ap;_ax++ ){_aq=_ao[_ax]._col;_o=_ao[_ax]._row;_ar=_ao[_ax]._colspan;_as=_ao[_ax]._rowspan;if(_ao[_ax]._area=="left"){_ad=0;}else if(_ao[_ax]._area=="right"){_ad=this._client_width-_k.rightWidth;}else{_ad=0;}_av=this._getSubCellRect(_aw,_ax, -1, -1,false);_aa=_av.top;_ac=_av.bottom;if(_ai>0&&_aw<=_ak){_aa+=_d;_ac+=_d;}if(_ao[_ax]._area=="right"){_z=_av.left-_c;_ab=_av.right-_c;}else{_z=_av.left;_ab=_av.right;}if(this._track_mode=="areaselect"){_au=_z<_h&&_h<=_ab;if((_ax+1)==_ap&&_h>=_ab){_au=true;}}else{_au=_z<_h&&_h<=_ab&&_aa<_j;}if(_au){if(_ah!=_ag||(_ag=="body"&&_ah=="body")){if(_ah!="right"&&_c<_e&&_ao[_ax]._area=="right"){continue;}if(_ah!="left"&&_c>0&&_ao[_ax]._area=="left"){continue;}if(_ag!="left"&&_ao[_ax]._area=="left"){continue;}}_s=_ax;_u=_aq;_w=_o;if(_a.area!="right"){break;}else if(_ao[_ax]._area=="right"){break;}}}break;}_am=_an;}_x=epvt=this._selectinfo.curpvt;return {srow:_p,erow:_q,scell:_r,ecell:_s,scol:_t,ecol:_u,ssubrow:_v,esubrow:_w,spvt:_x,epvt:epvt};};_pGrid._getSelectRect=function(_a,_b){var _c=this._selectinfo.arearect;var _d=this._selectinfo.area;_c.left=0;_c.top=0;_c.width=0;_c.height=0;_c.barea="";_c.earea="";var _e=this._getScrollLeft();var _f=this._getScrollTop();while(_d.length){var _g=_d[_d.length-1];var _h=this._curFormat;var _i=_h._cols;var _j=_h._bodyrows;var _k=this._rowSizeListSub;var _l=_g.begcol;var _m=_g.endcol;var _n=_h.leftWidth;var _o=this._client_width-_h.rightWidth;var _p=this._fixed_startrow;var _q=this._fixed_endrow;if(_g.begrow<0){break;}if(!this._isAreaSelect()){_l=0;_m=_i.length-1;}if(_l>=0&&_m>=0){if(_a&&_i[_l]._area!=_i[_m]._area){break;}_c.barea=_i[_l]._area;_c.earea=_i[_m]._area;if(_c.barea=="right"){_c.left=_o+_i[_l].left;_c.width=_i[_m].right-_i[_l].left;}else{if(_c.barea=="left"){_c.left=_i[_l].left;}else{_c.left=_n+_i[_l].left-_e;}if(_c.earea=="left"){_c.width=_i[_m].right-_c.left;}else if(_c.earea=="body"){_c.width=(_n+_i[_m].right-_e)-_c.left;}else{_c.width=(_o+_i[_m].right)-_c.left;}}}else{_c.left=this._client_left;_c.width=this._client_width;}for(var _t=0;_t<=_g.endrow;_t++ ){var _r=0,_s=_j.length-1;if(this._hasTree){if(this._getGridRow(_t)< -2){continue;}}if(_t<_g.begrow){if(_b&&_t<_p){continue;}for(var _u=_r;_u<=_s;_u++ ){_c.top+=_k[_t*_j.length+_u];}}else{if(_t==_g.begrow){_r=_g.begsubrow[0];}if(_t==_g.endrow){_s=_g.endsubrow[_t-_g.begrow];}for(var _u=0;_u<=_s;_u++ ){if(_u<_r){_c.top+=_k[_t*_j.length+_u];}else{_c.height+=_k[_t*_j.length+_u];}}}}_c.top+=this._bodyBand._adjust_top-_f;break;}this._selectinfo.arearect=_c;return _c;};_pGrid._updateSelector=function(_a,_b){var _c=this._isAreaSelect()&&nexacro.isTouchInteraction;if(this._control_element){var _d,_e,_f,_g,_h;var _i=this._select_ctrl;if(_c){if(!_i){_i=new nexacro.GridSelector("gridselector","absolute",0,0,0,0,null,null,this);_i._setCallbackFn(this._startAreaSizing,this._applyAreaSizing,this._applySelectorScroll);_i.createComponent();_i._createButton();this._select_ctrl=_i;}if((_a=="vscroll"||_a=="hscroll")&&!_i._is_tracking){_d=this._selectinfo.arearect;if(_a=="hscroll"){if(_d.barea=="left"){if(_d.earea=="body"){_d.width-=_b;}}else if(_d.barea=="body"){_d.left-=_b;if(_d.earea=="right"){_d.width+=_b;}}}if(_a=="vscroll"){_d.top-=_b;}_e=_d.left;_f=_d.top;_g=_d.width;_h=_d.height;if(_f+_h<=this._bodyBand._adjust_top){_c=false;}}else{_d=this._getSelectRect(_i._onlyarea,true);_e=_d.left;_f=_d.top;_g=_d.width;_h=_d.height;}if(!_e&&!_f&&!_g&&!_h){_c=false;}_i.move(_e,_f,_g,_h,_a);if(_c){if(!_i._is_tracking){_i.set_visible(false);}}else{_i.set_visible(false);}}}else{if(this._select_ctrl){this._select_ctrl.destroy();this._select_ctrl=null;}}};_pGrid.set_autoupdatetype=function(_a){if(this.autoupdatetype!=_a){switch(_a){case "none":case "comboselect":case "dateselect":case "itemselect":this.autoupdatetype=_a;break;}}};_pGrid.set_cellclickbound=function(_a){if(this.cellclickbound!=_a){switch(_a){case "control":case "cell":this.cellclickbound=_a;break;}}};_pGrid.set_cellmovingtype=function(_a){if(this.cellmovingtype!=_a){switch(_a){case "none":case "col":case "col,band":case "col,merge":case "col,line":this.cellmovingtype=_a;break;}}};_pGrid.set_cellsizebandtype=function(_a){if(this.cellsizebandtype!=_a){switch(_a){case "body":case "allband":case "nohead":case "noleft":case "nohead,noleft":this.cellsizebandtype=_a;this.on_apply_cellsizebandtype();break;}}};_pGrid.on_apply_cellsizebandtype=function(){};_pGrid.set_cellsizingtype=function(_a){if(this.cellsizingtype!=_a){switch(_a){case "none":case "col":case "row":case "both":this.cellsizingtype=_a;this.on_apply_cellsizingtype();break;}}};_pGrid.on_apply_cellsizingtype=function(){this._applyResizer();};_pGrid.set_extendsizetype=function(_a){if(this.extendsizetype!=_a){var _b=false;if(this.autosizingtype=="row"||this.autosizingtype=="both"){_b=true;}switch(_a){case "none":case "col":this._rowSizeEx=_b;break;case "row":case "both":this._rowSizeEx=true;break;}this.extendsizetype=_a;this.on_apply_extendsizetype();}};_pGrid.on_apply_extendsizetype=function(){if(this.getElement()){this._recreate_contents_all(true,true,true);}};_pGrid.set_wheelscrollrow=function(_a){if(this.wheelscrollrow!=_a){this.wheelscrollrow=(isNaN(_a)?3:parseInt(_a,10));}};_pGrid.set_usecontrolkey=function(_a){_a=nexacro._toBoolean(_a);if(this.usecontrolkey!=_a){this.usecontrolkey=_a;}};_pGrid.set_treeusebutton=function(_a){if(this.treeusebutton!=_a){switch(_a){case "use":case "no":case "noclick":this.treeusebutton=_a;break;}this.on_apply_treeusebutton();}};_pGrid.set_dragscrolltype=function(_a){nexacro.Form.prototype.set_dragscrolltype.call(this,_a);};_pGrid.on_apply_treeusebutton=function(){this._refreshBody();};_pGrid.set_treeuseline=function(_a){_a=nexacro._toBoolean(_a);if(this.treeuseline!=_a){this.treeuseline=_a;this.on_apply_treeuseline();}};_pGrid.on_apply_treeuseline=function(){this._refreshBody();};_pGrid.set_treeusecheckbox=function(_a){_a=nexacro._toBoolean(_a);if(this.treeusecheckbox!=_a){this.treeusecheckbox=_a;this.on_apply_treeusecheckbox();}};_pGrid.on_apply_treeusecheckbox=function(){this._refreshBody();};_pGrid.set_treeuseimage=function(_a){_a=nexacro._toBoolean(_a);if(this.treeuseimage!=_a){this.treeuseimage=_a;this.on_apply_treeuseimage();}};_pGrid.on_apply_treeuseimage=function(){this._refreshBody();};_pGrid.set_treeuseexpandkey=function(_a){_a=nexacro._toBoolean(_a);if(this.treeuseexpandkey!=_a){this.treeuseexpandkey=_a;}};_pGrid.set_treeinitstatus=function(_a){this.treeinitstatus=_a;var _b,_c;switch(_a){case "collapse,null":_b=false,_c=false;break;case "expand,null":_b=true,_c=false;break;case "collapse,all":_b=false,_c=true;break;case "expand,all":_b=true,_c=true;break;}this.on_apply_treeinitstatus(_b,_c);};_pGrid.on_apply_treeinitstatus=function(_a,_b){if(!this._hasTree){return;}var _c=this._curFormat;var _d=_c._bodycells;var _e=_d.length;var _f=this._treeIndexes;var _g=this._treeStates;this._org_treeStates=[];if(!_b){var _h=false;var _i;for(var _o=_f.length-1;_o>=0;_o-- ){var _j,_k;_i=this.getDatasetRow(_o);for(var _p=0;_p<_e;_p++ ){_j=_d[_p];_k=_j._getEdittype(_i);if(_k=="tree"){break;}}if(_j){var _l,_m;if(_j.treestate._bindtype!=0){_l=_j._getAttrValue(_j.treestate,_i);}if(!_l||_l==""){_m=_f.length;if(_a){if(this._setTreeState(_o,1,false,"null")>0){_o+=(_f.length-_m+1);_h=true;}}else{if(this._setTreeState(_o,0,false,"null")>0){_h=true;}}}else{_m=_f.length;var _n=this._setTreeState(_o,_l,false,"null_value");if(_n==2){if((_f.length-_m)>0){_o+=(_f.length-_m+1);}_h=true;}else if(_n==1){_h=true;}}}}if(_h==true){this._recreate_contents_all(false,false,false,true);}}else{var _h=false,_m;for(var _o=_f.length-1;_o>=0;_o-- ){_m=_f.length;if(_a){if(this._setTreeState(_o,1,false,"all")>0){_o+=(_f.length-_m+1);_h=true;}}else{if(this._setTreeState(_o,0,false,"all")>0){_h=true;}}}if(!_a){for(var _o=_g.length-1;_o>=0;_o-- ){var _l=this._getOrgTreeStates(_o);if(_l==2){_g[_o]=2;}}}if(_h==true){if(this.autosizingtype=="col"||this.autosizingtype=="both"){this._recreate_contents_all(false,true,false);}else{this._recreate_contents_all(false,false,false,true);}}}};_pGrid.set_treepathdelimiter=function(_a){if(this.treepathdelimiter!=_a){this.treepathdelimiter=_a;}};_pGrid.set_useinputpanel=function(_a){if(this.useinputpanel!=_a){this.useinputpanel=_a;}};_pGrid.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;}};_pGrid.on_apply_prop_enable=function(_a){if(!_a){this._enable=_a;}nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);if(this._is_created){this._refreshAll();}};_pGrid.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;if(this._headBand){this._headBand._setRtlDirection(_a);}if(this._bodyBand){this._bodyBand._setRtlDirection(_a);}if(this._summBand){this._summBand._setRtlDirection(_a);}if(this.vscrollbar){this.vscrollbar._setRtlDirection(this._rtldirection);}if(this.hscrollbar){this.hscrollbar._setRtlDirection(this._rtldirection);}};_pGrid.createFormat=function(){var _a=0;var _b=this._binddataset;var _c=0;var _d=0;var _e=0;var _f=0;if(_b){_d=_b.getColCount();}var _g;if(_d>0){_g="<Formats>\n";_g+="<Format id=\"default\">\n";_g+="<Columns>\n";{for(_c=0;_c<_d;_c++ ){_g+="<Column size=\"";_g+="80";_g+="\"/>\n";}}_g+="</Columns>\n";_g+="<Rows>\n";{_g+="<Row band=\"head\" size=\"";_g+="24";_g+="\"/>\n";_g+="<Row band=\"body\" size=\"";_g+="24";_g+="\"/>\n";}_g+="</Rows>\n";_g+="<Band id=\"head\">\n";{for(_c=0;_c<_d;_c++ ){_g+="<Cell col=\"";_g+=_c.toString();_g+="\" displaytype=\"normal\" text=\"";_g+=_b.getColID(_c);_g+="\"/>\n";}}_g+="</Band>\n";_g+="<Band id=\"body\">\n";{for(_c=0;_c<_d;_c++ ){_g+="<Cell col=\"";_g+=_c.toString();_g+="\" displaytype=\"normal\" text=\"bind:";_g+=_b.getColID(_c);_g+="\"/>\n";}}_g+="</Band>\n";_g+="</Format>\n";_g+="</Formats>\n";}else{_g="<Formats>\n";_g+="<Format id=\"default\">\n";_g+="</Format>\n";_g+="</Formats>\n";}this.set_formats(_g);return 0;};_pGrid.setFormat=function(_a){var _b=this._formats[_a];if(_b){if(_b!=this._curFormat){this.set_formatid(_a);return true;}}else{this.formatid="";this._curFormat=null;this._destroyBands();}return false;};_pGrid.getFormatString=function(){return this.formats;};_pGrid.getCurFormatString=function(_a){if(this._curFormat){if(_a){return this._curFormat._getOrgFormatStr();}else{return this._curFormat._getFormatStr();}}else{return this.formats;}};_pGrid.getCellPos=function(){return this._selectinfo.curcell;};_pGrid.setCellPos=function(_a){return this._moveToPosCell(this._selectinfo.curdsrow,_a);};_pGrid.getCellCount=function(_a){if(!this._curFormat){return 0;}_a=_a.toLowerCase();var _b;if(_a=="head"){_b=this._curFormat._headcells;}else if(_a=="summ"||_a=="summary"){_b=this._curFormat._summcells;}else{_b=this._curFormat._bodycells;}if(_b){return _b.length;}return 0;};_pGrid.getCellRect=function(_a,_b,_c){return this.getSubCellRect(_a,_b, -1,_c);};_pGrid.getSubCellRect=function(_a,_b,_c,_d){return this._getSubCellRect(_a,_b,_c,_d,true);};_pGrid._getSubCellRect=function(_a,_b,_c,_d,_e){var _f={"left":0,"top":0,"right":0,"bottom":0,"width":0,"height":0};_f.left=0;_f.top=0;_f.right=0;_f.bottom=0;_f.width=0;_f.height=0;if(_a>=0&&_a<this._rowcount){if(this._curFormat&&this._curFormat._bodycells){var _g=null;var _h=this._curFormat._bodycells[_b];if(_h&&_c>=0){_g=_h;_h=_h._subcells[_c];}if(_h){var _i=0;var _j=0;var _k=0;var _l=this._getHeadHeight();var _m=this._curFormat._cols;if(this.summarytype=="top"||this.summarytype=="lefttop"){_l+=this._getSummHeight();}var _n=this._curFormat._bodyrows;var _o=_n.length;var _p=this._getGridRowCount();var _q=(_g)?_g._row+_h._row:_h._row;var _r=(_g)?_g._col+_h._col:_h._col;var _s=_h._rowspan;var _t=_h._colspan;var _u=this._rowSizeListSub;var _v;for(var _aa=0;_aa<_p;_aa++ ){_v=_aa;if(this._hasTree){_v=this._treeIndexes[_v];}var _w=_v*_o;if(_v==_a){for(var _ab=0;_ab<_q;_ab++ ){_l+=_u[_w++ ];}_i=_l;for(var _ac=0;_ac<_s;_ac++ ){_l+=_u[_w++ ];}break;}else{for(var _ac=0;_ac<_o;_ac++ ){_l+=_u[_w+_ac];}}}var _x=0;for(var _aa=0;_aa<_r;_aa++ ){_x+=_m[_aa].size;}_j=_x;_x=0;for(var _aa=0;_aa<_r+_t;_aa++ ){_x+=_m[_aa].size;}_k=_x;if(_h._area=="body"||_h._area==""){_j-=this._getScrollLeft();_k-=this._getScrollLeft();}_i-=this._getScrollTop();_l-=this._getScrollTop();if(_e){if(_j<0){_j=0;}if(_k<0){_k=0;}if(_i<0){_i=0;}if(_l<0){_l=0;}}_f.left=_j;_f.right=_k;_f.top=_i;_f.bottom=_l;_f.width=_k-_j;_f.height=_l-_i;}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _h=this._curFormat._headcells[_b];if(_h&&_c>=0){_h=_h._subcells[_c];}if(_h){var _i=0;var _j=0;var _k=0;var _l=0;var _m=this._curFormat._cols;var _y=this._curFormat._headrows;var _o=_y.length;var _q=_h._row;var _r=_h._col;var _s=_h._rowspan;var _t=_h._colspan;for(var _ab=0;_ab<_q;_ab++ ){_l+=_y[_ab].size;}_i=_l;for(_ab=0;_ab<_s;_ab++ ){_l+=_y[_ab+_q].size;}var _x=0;for(var _aa=0;_aa<_r;_aa++ ){_x+=_m[_aa].size;}_j=_x;_x=0;for(var _aa=0;_aa<_r+_t;_aa++ ){_x+=_m[_aa].size;}_k=_x;if(_h._area=="body"||_h._area==""){_j-=this._getScrollLeft();_k-=this._getScrollLeft();}if(_e){if(_j<0){_j=0;}if(_k<0){_k=0;}}_f.left=_j;_f.right=_k;_f.top=_i;_f.bottom=_l;_f.width=_k-_j;_f.height=_l-_i;}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _h=this._curFormat._summcells[_b];if(_h&&_c>=0){_h=_h._subcells[_c];}if(_h){var _i=0;var _j=0;var _k=0;var _l=0;var _m=this._curFormat._cols;if(this.summarytype=="top"||this.summarytype=="lefttop"){_l+=this._getHeadHeight();}else{_l=this._client_top+this._client_height-this._getSummHeight();}var _z=this._curFormat._summrows;var _o=_z.length;var _q=_h._row;var _r=_h._col;var _s=_h._rowspan;var _t=_h._colspan;for(var _ab=0;_ab<_q;_ab++ ){_l+=_z[_ab].size;}_i=_l;for(_ab=0;_ab<_s;_ab++ ){_l+=_z[_ab+_q].size;}var _x=0;for(var _aa=0;_aa<_r;_aa++ ){_x+=_m[_aa].size;}_j=_x;_x=0;for(var _aa=0;_aa<_r+_t;_aa++ ){_x+=_m[_aa].size;}_k=_x;if(_h._area=="body"||_h._area==""){_j-=this._getScrollLeft();_k-=this._getScrollLeft();}if(_e){if(_j<0){_j=0;}if(_k<0){_k=0;}}_f.left=_j;_f.right=_k;_f.top=_i;_f.bottom=_l;_f.width=_k-_j;_f.height=_l-_i;}}}return _f;};_pGrid.getCellText=function(_a,_b,_c){if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){var _d=this._curFormat._bodycells[_b];if(_d){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _d._getDisplayText(_a);}}else{if(_a<this._rowcount){return _d._getDisplayText(_a);}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _d=this._curFormat._headcells[_b];if(_d){return _d._getDisplayText(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _d=this._curFormat._summcells[_b];if(_d){return _d._getDisplayText(this._currentDSrow);}}}};_pGrid.getCellValue=function(_a,_b,_c){if(_c==undefined){_c=0;}if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){var _d=this._curFormat._bodycells[_b];if(_d){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _d._getValue(_a);}}else{if(_a<this._rowcount){return _d._getValue(_a);}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _d=this._curFormat._headcells[_b];if(_d){return _d._getValue(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _d=this._curFormat._summcells[_b];if(_d){return _d._getValue(this._currentDSrow);}}}};_pGrid.getSubCellCount=function(_a,_b){var _c=this._curFormat;_a=_a.toLowerCase();if(_c){var _d;if(_a=="head"){_d=_c._headcells;}else if(_a=="summ"||_a=="summary"){_d=_c._summcells;}else{_d=_c._bodycells;}if(_d&&_d.length>_b&&_b>=0){var _e=_d[_b];return _e._subcells.length;}}return 0;};_pGrid.getSubCellProperty=function(_a,_b,_c,_d){var _e=this._curFormat;if(!_e){return undefined;}return _e.getSubCellProperty(_a,_b,_c,_d);};_pGrid.getSubCellText=function(_a,_b,_c,_d){if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){if(_b>=0&&_b<this._curFormat._bodycells.length){var _e=this._curFormat._bodycells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _e._subcells[_c]._getDisplayText(_a);}}else{if(_a<this._rowcount){return _e._subcells[_c]._getDisplayText(_a);}}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _e=this._curFormat._headcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getDisplayText(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _e=this._curFormat._summcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getDisplayText(this._currentDSrow);}}}};_pGrid.getSubCellValue=function(_a,_b,_c,_d){if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){if(_b>=0&&_b<this._curFormat._bodycells.length){var _e=this._curFormat._bodycells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _e._subcells[_c]._getValue(_a);}}else{if(_a<this._rowcount){return _e._subcells[_c]._getValue(_a);}}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _e=this._curFormat._headcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getValue(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _e=this._curFormat._summcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getValue(this._currentDSrow);}}}};_pGrid.setSubCellProperty=function(_a,_b,_c,_d,_e){var _f=this._curFormat;if(!_f){return false;}var _g=_f.setSubCellProperty(_a,_b,_c,_d,_e);if(_g){_f._clearCellStyleCache(_a,_b);this._refreshCell(_a,_b, -1,true);}return (_g!=null);};_pGrid.setFormatColProperty=function(_a,_b,_c){if(_b&&this._curFormat){_b=_b.toLowerCase();if(this._curFormat.setFormatColProperty(_a,_b,_c)){if(_b=="band"){this._autofitcol_rate=[];this._recreate();}else if(_b=="size"){if(this.enableredraw){this._updateColSize(_a);}else{if(!this._enable_redraw_history["updatecolsize"]){this._enable_redraw_history["updatecolsize"]=[];}this._enable_redraw_history["updatecolsize"].push(_a);}}else{this._recreate_contents_all(true,false,false);}return true;}}return false;};_pGrid.setFormatRowProperty=function(_a,_b,_c){if(_b&&this._curFormat){_b=_b.toLowerCase();if(this._curFormat.setFormatRowProperty(_a,_b,_c)){if(_b=="band"||_b=="size"){this._isUserChangeHeadRowSize=false;this._isUserChangeSummRowSize=false;this._isUserChangeBodyRowSize=false;this._realrowsized_body=[];this._realrowsized_head=[];this._realrowsized_summ=[];this._recreate();}else{this._recreate_contents_all(false,false,false);}return true;}}return false;};_pGrid.getFormatColProperty=function(_a,_b){if(this._curFormat){return this._curFormat.getFormatColProperty(_a,_b);}return null;};_pGrid.getFormatRowProperty=function(_a,_b){if(this._curFormat){return this._curFormat.getFormatRowProperty(_a,_b);}return null;};_pGrid.getFormatColCount=function(){if(this._curFormat){return this._curFormat._cols.length;}return 0;};_pGrid.getFormatRowCount=function(){if(this._curFormat){var _a=this._curFormat;var _b=0;if(_a._headrows){_b+=_a._headrows.length;}if(_a._bodyrows){_b+=_a._bodyrows.length;}if(_a._summrows){_b+=_a._summrows.length;}return _b;}return 0;};_pGrid.getFormatColSize=function(_a){if(this._curFormat){if(this._curFormat._cols.length>0&&this._curFormat._cols.length>_a){var _b=this._curFormat._cols[_a];if(_b){return _b.orgsize;}}}return  -1;};_pGrid.getFormatRowSize=function(_a){if(this._curFormat){if(_a<0){return  -1;}var _b=0;var _c=this._curFormat._headrows;if(_c){if(_c.length>_a){var _d=_c[_a];return _d.orgsize;}_b+=_c.length;}if(this.summarytype=="top"||this.summarytype=="lefttop"){_c=this._curFormat._summrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}_b+=_c.length;}_c=this._curFormat._bodyrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}}}else{_c=this._curFormat._bodyrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}_b+=_c.length;}_c=this._curFormat._summrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}}}}return  -1;};_pGrid._isUserChangeHeadRowSize=false;_pGrid._isUserChangeBodyRowSize=false;_pGrid._isUserChangeSummRowSize=false;_pGrid._isUserChangeColSize=false;_pGrid.setRealColSize=function(_a,_b,_c,_d){if(arguments.length==3){_d=_c;_c=_b;_b=_a;_a= -9;}else if(arguments.length==2){_c=_b;_b=_a;_a= -9;_d=true;}this._isUserChangeColSize=true;return this._setColSize(_a,_b,_c,_d,true);};_pGrid.setRealRowSize=function(_a,_b,_c,_d){var _e=this._curFormat;if(_d==undefined){_d=true;}if(_c==undefined){_c=_b;_b= -1;}var _f="none";if(_d){if(_a>=0){_f="body";}else if(_a== -1){_f="head";}else if(_a== -2){_f="summ";}}else{if(_e._headrows){if(_a<_e._headrows.length){_f="head";}else{_a-=_e._headrows.length;}}if(_f=="none"){if(this.summarytype=="top"||this.summarytype=="lefttop"){if(_e._summrows){if(_a<_e._summrows.length){_f="summ";}else{_a-=_e._headrows.length;}}if(_f=="none"){_f="body";}}else{if(_e._bodyrows){var _g=(this._hasTree)?this._treeIndexes.length:this._rowcount;if(_a<_g){_f="body";}else{_a-=_g;}}if(_f=="none"){if(_e._summrows){if(_a<_e._summrows.length){_f="summ";}}}}}}var _h=false;if(_f=="body"){if(_e&&_e._bodyrows){var _i=_a;if(this._hasTree){if(_i>=this._treeIndexes.length){return false;}_i=this._treeIndexes[_i];}else{if(_i>=this._rowcount){return false;}}var _j=_e._bodyrows;var _k=_j.length;var _l=this._rowSizeList;var _m=this._rowSizeListSub;if(_b>=0){if(_b<_k){this._is_variable_bodyrowsize=true;var _n=(_i*_k)+_b;var _o=_m[_n];var _p=_c;if(_o!=_p){_m[_n]=_p;_l[_i]+=(_p-_o);this._realrowsized_body[_n]=true;_h=true;this._updateRowSizeExtendEx(_e._bodyrows,_l,_m,_i,true);if(this.enableredraw){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){if(this._bodyBand){this._bodyBand._recreate_contents();}}else{this._updateRowSize(_a,_b);}}else{if(this.extendsizetype!="row"&&this.extendsizetype!="both"){this._enable_redraw_history["recreate_body"]=true;}else{if(!this._enable_redraw_history["updaterowsize"]){this._enable_redraw_history["updaterowsize"]=[];}this._enable_redraw_history["updaterowsize"].push([_a,_b]);}}this._isUserChangeBodyRowSize=true;}}else{return false;}}else{if(_i<_l.length){this._is_variable_bodyrowsize=true;var _n,_o,_p;for(var _q=0;_q<_k;_q++ ){_n=(_i*_k)+_q;_o=_m[_n];_p=_c;if(_o!=_p){_m[_n]=_p;_l[_i]+=(_p-_o);this._realrowsized_body[_n]=true;_h=true;}}if(_h){this._updateRowSizeExtendEx(_e._bodyrows,_l,_m,_i,true);if(this.enableredraw){if(this._bodyBand){this._bodyBand._recreate_contents();}}else{this._enable_redraw_history["recreate_body"]=true;}this._isUserChangeBodyRowSize=true;}}else{return false;}}}}else if(_f=="head"){if(_e&&_e._headrows){var _j=_e._headrows;var _k=_j.length;var _l=this._rowHeadList;var _m=this._rowHeadListSub;if(_b>=0){if(_b<_k){var _n=_b;var _o=_m[_n];var _p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);this._realrowsized_head[_n]=true;_h=true;this._updateRowSizeExtendEx(_e._headrows,_l,_m,0);}}else{return false;}}else{var _n,_o,_p;for(var _q=0;_q<_k;_q++ ){_n=_q;_o=_m[_n];_p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);this._realrowsized_head[_n]=true;_h=true;}}if(_h==true){this._updateRowSizeExtendEx(_e._headrows,_l,_m,0);}}if(_h){if(this.enableredraw){if(this._headBand){this._headBand._recreate_contents();}this._resizeBand();}else{this._enable_redraw_history["recreate_head"]=true;this._enable_redraw_history["resize_band"]=true;}this._isUserChangeHeadRowSize=true;}}}else if(_f=="summ"){if(_e&&_e._summrows){var _j=_e._summrows;var _k=_j.length;var _l=this._rowSummList;var _m=this._rowSummListSub;if(_b>=0){if(_b<_k){var _n=_b;var _o=_m[_n];var _p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);this._realrowsized_summ[_n]=true;_h=true;this._updateRowSizeExtendEx(_e._summrows,_l,_m,0);}}else{return false;}}else{var _n,_o,_p;for(var _q=0;_q<_k;_q++ ){_n=_q;_o=_m[_n];_p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);this._realrowsized_summ[_n]=true;_h=true;}}if(_h==true){this._updateRowSizeExtendEx(_e._summrows,_l,_m,0);}}if(_h==true){if(this.enableredraw){if(this._summBand){this._summBand._recreate_contents();}this._resizeBand();}else{this._enable_redraw_history["recreate_summ"]=true;this._enable_redraw_history["resize_band"]=true;}this._isUserChangeSummRowSize=true;}}}return _h;};_pGrid.getRealColSize=function(_a,_b){var _c=this._curFormat;var _d=this._getColFixCnt("left");var _e=this._getColFixCnt("body");var _f=this._getColFixCnt("right");var _g=_c._cols;var _h=_g.length;var _i="body";if(_b==true){if(_a>=0){_a+=_d;}else if(_a== -2){_a+=_d;_a+=_e;}if(_h<=_a){return  -1;}}return _g[_a].size;};_pGrid.getRealRowSize=function(_a,_b,_c){var _d=this._curFormat;if(_c==undefined){_c=true;}var _e="none";if(_c){if(_a>=0){_e="body";}else if(_a== -1){_e="head";}else if(_a== -2){_e="summ";}}else{if(_d._headrows){if(_a<_d._headrows.length){_e="head";}else{_a-=_d._headrows.length;}}if(_e=="none"){if(this.summarytype=="top"||this.summarytype=="lefttop"){if(_d._summrows){if(_a<_d._summrows.length){_e="summ";}else{_a-=_d._headrows.length;}}if(_e=="none"){_e="body";}}else{if(_d._bodyrows){var _f=(this._hasTree)?this._treeIndexes.length:this._rowcount;if(_a<_f){_e="body";}else{_a-=_f;}}if(_e=="none"){if(_d._summrows){if(_a<_d._summrows.length){_e="summ";}}}}}}if(_e=="body"){if(_d&&_d._bodyrows){var _g=_a;if(this._hasTree){if(_g>=this._treeIndexes.length){return 0;}_g=this._treeIndexes[_g];}else{if(_g>=this._rowcount){return 0;}}var _h=_d._bodyrows;if(_b>=0){if(_b<_h.length){return this._rowSizeListSub[_g*_h.length+_b];}else{return 0;}}else{if(_g<this._rowSizeList.length){return this._rowSizeList[_g];}else{return 0;}}}}else if(_e=="head"){if(_d&&_d._headrows){var _h=_d._headrows;if(_b>=0){if(_b<_h.length){return this._rowHeadListSub[_b];}else{return 0;}}else{return this._rowHeadList[0];}}}else if(_e=="summ"){if(_d&&_d._summrows){var _h=_d._summrows;if(_b>=0){if(_b<_h.length){return this._rowSummListSub[_b];}else{return 0;}}else{return this._rowSummList[0];}}}return 0;};_pGrid.getRealColFullSize=function(_a){var _b=this._curFormat;var _c=0;if(!_a){var _d=this._getColFixCnt("left");for(var _g=0;_g<_d;_g++ ){_c+=this.getRealColSize( -1,_g);}var _e=this._getColFixCnt("body");for(var _g=0;_g<_e;_g++ ){_c+=this.getRealColSize(_d+_g);}var _f=this._getColFixCnt("right");for(var _g=0;_g<_f;_g++ ){_c+=this.getRealColSize(_d+_e+_g);}}else{_a=_a.toLowerCase();if(_a=="left"){var _d=this._getColFixCnt("left");for(var _g=0;_g<_d;_g++ ){_c+=this.getRealColSize(_g);}}else if(_a=="body"){var _d=this._getColFixCnt("left");var _e=this._getColFixCnt("body");for(var _g=0;_g<_e;_g++ ){_c+=this.getRealColSize(_d+_g);}}else if(_a=="right"){var _d=this._getColFixCnt("left");var _e=this._getColFixCnt("body");var _f=this._getColFixCnt("right");for(var _g=0;_g<_f;_g++ ){_c+=this.getRealColSize(_d+_e+_g);}}}return _c;};_pGrid.getRealRowFullSize=function(_a){if(!_a){var _b=(this._hasTree)?this._treeIndexes.length:this._rowcount;var _c=0;for(var _d=0;_d<_b;_d++ ){_c+=this.getRealRowSize(_d);}_c+=this.getRealRowSize( -1);_c+=this.getRealRowSize( -2);return _c;}else{_a=_a.toLowerCase();if(_a=="body"){var _b=(this._hasTree)?this._treeIndexes.length:this._rowcount;var _c=0;for(var _d=0;_d<_b;_d++ ){_c+=this.getRealRowSize(_d);}return _c;}else if(_a=="head"){return this.getRealRowSize( -1);}else if(_a=="summ"||_a=="summary"){return this.getRealRowSize( -2);}}return 0;};_pGrid.__createDefualtColFormat=function(_a){var _b;_b="<Formats>\n";_b+="<Format id=\"default\">\n";_b+="<Columns>\n";_b+="<Column size=\"40\"/>\n";_b+="</Columns>\n";if(_a=="head"){_b+="<Rows>\n";_b+="<Row size=\"24\" band=\"head\"/>";_b+="</Rows>\n";_b+="<Band id=\"head\">\n";_b+="<Cell/>\n";_b+="</Band>\n";}else if(_a=="summ"||_a=="summary"){_b+="<Rows>\n";_b+="<Row size=\"24\" band=\"summ\"/>";_b+="</Rows>\n";_b+="<Band id=\"summary\">\n";_b+="<Cell/>\n";_b+="</Band>\n";}else if(_a=="body"){_b+="<Rows>\n";_b+="<Row size=\"24\" band=\"body\"/>";_b+="</Rows>\n";_b+="<Band id=\"body\">\n";_b+="<Cell/>\n";_b+="</Band>\n";}_b+="</Format>\n";_b+="</Formats>\n";this.set_formats(_b);return 0;};_pGrid.appendContentsRow=function(_a,_b){if(!_a){_a="body";}if(typeof (_a)=="number"){if(_a== -1){_a="head";}else if(_a== -2){_a="summ";}else if(_a>=0){_a="body";}}_a=_a.toLowerCase();if(!this._curFormat){return this.__createDefualtColFormat(_a);}if(!_b==undefined){_b=true;}if(_b==false){_a=this._getLastRowBand();}var _c=this._curFormat.appendContentsRow(_a,_b);if(_c>=0){this._recreate();this._initSelect();if(_a=="body"||_a>=0){if(rows=this._curFormat._headrows){_c+=rows.length;}if(this.summarytype=="top"||this.summarytype=="lefttop"){if(rows=this._curFormat._summrows){_c+=rows.length;}}}else if(_a=="summ"||_a=="summary"||_a== -2){if(rows=this._curFormat._headrows){_c+=rows.length;}if(this.summarytype!="top"&&this.summarytype!="lefttop"){if(rows=this._curFormat._bodyrows){_c+=rows.length;}}}}return _c;};_pGrid.appendContentsCol=function(_a,_b){if(!this._curFormat||(!isNaN(parseInt(_a))&&_a< -2)||this.getFormatRowCount()==0){return  -1;}this._autofitcol_rate=[];var _c=this._curFormat.appendContentsCol(_a,_b);if(_c>=0){this._recreate();}return _c;};_pGrid.insertContentsRow=function(_a,_b,_c){if(!this._curFormat){return  -1;}if(arguments.length==1){_b=_a;_a="body";}var _d=this._curFormat.insertContentsRow(_a,_b,_c);if(_d>=0){this._recreate();if(_a=="body"||_a>=0){if(rows=this._curFormat._headrows){_d+=rows.length;}if(this.summarytype=="top"||this.summarytype=="lefttop"){if(rows=this._curFormat._summrows){_d+=rows.length;}}}else if(_a=="summ"||_a=="summary"||_a== -2){if(rows=this._curFormat._headrows){_d+=rows.length;}if(this.summarytype!="top"&&this.summarytype!="lefttop"){if(rows=this._curFormat._bodyrows){_d+=rows.length;}}}}return _d;};_pGrid.insertContentsCol=function(_a,_b,_c){if(!this._curFormat){return  -1;}this._autofitcol_rate=[];var _d=this._curFormat.insertContentsCol(_a,_b,_c);if(_d>=0){this._recreate();}return _d;};_pGrid.deleteContentsRow=function(_a,_b,_c){if(!this._curFormat){return  -1;}if(arguments.length==1){_b=_a;_a="body";}var _d=this._curFormat.deleteContentsRow(_a,_b,_c);if(_d>=0){this._recreate();}return _d;};_pGrid.deleteContentsCol=function(_a,_b,_c){if(!this._curFormat){return  -1;}this._autofitcol_rate=[];var _d=this._curFormat.deleteContentsCol(_a,_b,_c);if(_d>=0){this._recreate();}return _d;};_pGrid.mergeContentsCell=function(_a,_b,_c,_d,_e,_f,_g){if(!this._curFormat){return  -1;}_g=nexacro._toBoolean(_g);var _h=this._curFormat.mergeContentsCell(_a,_b,_c,_d,_e,_f,_g);if(_h>=0){this._recreate();}return _h;};_pGrid.splitContentsCell=function(_a,_b,_c,_d,_e,_f){if(!this._curFormat){return  -1;}else{_f=nexacro._toBoolean(_f);var _g=this._curFormat.splitContentsCell(_a,_b,_c,_d,_e,_f);if(_g>0){this._recreate();}return _g;}};_pGrid.setBandProperty=function(_a,_b,_c){var _d=this._curFormat;if(!_d){return false;}_a=_a.toLowerCase();var _e=_d.setBandProperty(_a,_b,_c);if(_e){_a=_a.toLowerCase();if(_a=="body"){this._refreshBody(true);}else if(_a=="head"){this._refreshHead(true);}else{this._refreshSumm(true);}}return (_e!=null);};_pGrid.getBandProperty=function(_a,_b){var _c=this._curFormat;if(!_c){return null;}_a=_a.toLowerCase();return _c.getBandProperty(_a,_b);};_pGrid.setCellProperty=function(_a,_b,_c,_d){var _e=this._curFormat;if(!_e){return false;}_a=_a.toLowerCase();var _f=_e.setCellProperty(_a,_b,_c,_d);if(_f){_e._clearCellStyleCache(_a,_b);if(_c=="displaytype"&&_d=="tree"){this._setTreeCellinfo(_f);this._setTree(true);}else if(_c=="autosizecol"||_c=="autosizerow"){this._recreate_contents_all(true,true,false);}else if(_c=="text"){if(_a=="head"&&this._headAutoSize){this._recreate_contents_all(true,true,false);}else if(_a=="body"&&this._bodyAutoSize){this._recreate_contents_all(true,true,false);}else if(_a.indexOf("summ")>=0&&this._summAutoSize){this._recreate_contents_all(true,true,false);}else{this._refreshCell(_a,_b, -1,true,true);}}else if(_c=="suppress"){if(_d!=0){this._is_use_suppress=true;}else{_f._clearSuppressInfo();var _g=this._curFormat._bodycells;var _h=_g?_g.length:0;var _i;this._is_use_suppress=false;for(var _k=0;_k<_h;_k++ ){_i=_g[_k];if(_i.suppress!=0){this._is_use_suppress=true;break;}}}this._refreshBody();}else if(_c=="suppressalign"&&this._is_use_suppress){this._destroyOverlayElements();this._refreshBody();}else if(_c=="linespace"){this._recreate_contents_all(true,true,false,true);}else{var _j=false;if(_c=="displaytype"||_c=="editdisplay"||_c=="combodisplay"||_c=="calendardisplay"||_c=="edittype"||_c=="imagestretch"){this._changeDisplayer=true;}else if(_c=="wordwrap"){_j=true;if(_d!="none"){if(_a=="head"){this._is_head_wordwrap=true;}if(_a=="body"){this._is_body_wordwrap=true;}if(_a.indexOf("summ")>=0){this._is_head_wordwrap=true;}}else{var _g,_h,_i;if(_a=="body"){_g=this._curFormat._bodycells;_h=_g?_g.length:0;this._is_body_wordwrap=false;for(var _k=0;_k<_h;_k++ ){_i=_g[_k];if(_i.wordwrap!="none"){this._is_body_wordwrap=true;break;}}}if(_a=="head"){_g=this._curFormat._headcells;_h=_g?_g.length:0;this._is_head_wordwrap=false;for(var _k=0;_k<_h;_k++ ){_i=_g[_k];if(_i.wordwrap!="none"){this._is_head_wordwrap=true;break;}}}if(_a=="summ"){_g=this._curFormat._summcells;_h=_g?_g.length:0;this._is_summ_wordwrap=false;for(var _k=0;_k<_h;_k++ ){_i=_g[_k];if(_i.wordwrap!="none"){this._is_summ_wordwrap=true;break;}}}}}else if(_c=="tooltiptext"){_j=true;}this._refreshCell(_a,_b, -1,true,_j);this._changeDisplayer=false;}}return (_f!=null);};_pGrid.getCellProperty=function(_a,_b,_c){var _d=this._curFormat;if(!_d){return null;}_a=_a.toLowerCase();return _d.getCellProperty(_a,_b,_c);};_pGrid.autoFitRow=function(_a){};_pGrid.autoFitCol=function(_a){var _b=this.autofittype;this.autofittype="col";if(_a){this.autofittype=_a;}if(this._curFormat){this._curFormat._resetOrgColSize(true,this._autofitcol_rate);}var _c=this._applyAutofittype(true);this.autofittype=_b;return _c;};_pGrid.autoSizeRow=function(_a,_b,_c,_d){if(!this._binddataset||!this._curFormat||_b==undefined){return false;}if(_d==undefined||_d==true){_b=this._getDataRow(_b);}var _e=false;this._autoSizeRowProc=true;if(_a=="row"){if(_b>=0){this._is_variable_bodyrowsize=true;var _f=this._curFormat._bodyrows;var _g=_f.length;if(_c!=undefined){var _h=(_b*_f.length)+_c;var _i=this._rowSizeListSub[_h];var _j=this._getMaxSubRowSize(_b,_c);if(_i!=_j){this._rowSizeListSub[_h]=_j;this._rowSizeList[_b]+=(_j-_i);change=true;}}else{for(var _k=0;_k<_g;_k++ ){var _h=(_b*_f.length)+_k;var _i=this._rowSizeListSub[_h];var _j=this._getMaxSubRowSize(_b,_k);if(_i!=_j){this._rowSizeListSub[_h]=_j;this._rowSizeList[_b]+=(_j-_i);change=true;}}}if(change==true){this._updateRowSizeExtend();}this._recreate_contents_all(false,false,false);_e=true;}else if(_b== -1){var _f=this._curFormat._headrows;var _g=_f.length;if(_c!=undefined){var _h=_c;var _i=this._rowHeadListSub[_h];var _j=this._getMaxSubRowSize(_b,_c);if(_i!=_j){this._rowHeadListSub[_h]=_j;this._rowHeadList[0]+=(_j-_i);change=true;}}else{for(var _k=0;_k<_g;_k++ ){var _h=_k;var _i=this._rowHeadListSub[_h];var _j=this._getMaxSubRowSize(_b,_k);if(_i!=_j){this._rowHeadListSub[_h]=_j;this._rowHeadList[0]+=(_j-_i);change=true;}}}if(change==true){this._updateRowSizeExtend();}this._resizeBand();this._recreate_contents_all(false,false,false);_e=true;}else if(_b== -2){var _f=this._curFormat._summrows;var _g=_f.length;if(_c!=undefined){var _h=_c;var _i=this._rowSummListSub[_h];var _j=this._getMaxSubRowSize(_b,_c);if(_i!=_j){this._rowSummListSub[_h]=_j;this._rowSummList[0]+=(_j-_i);change=true;}}else{for(var _k=0;_k<_g;_k++ ){var _h=_k;var _i=this._rowSummListSub[_h];var _j=this._getMaxSubRowSize(_b,_k);if(_i!=_j){this._rowSummListSub[_h]=_j;this._rowSummList[0]+=(_j-_i);change=true;}}}if(change==true){this._updateRowSizeExtend();}this._resizeBand();this._recreate_contents_all(false,false,false);_e=true;}}this._autoSizeRowProc=false;return _e;};_pGrid.autoSizeCol=function(_a,_b,_c,_d){if(arguments.length==2){_c=_b;_b= -9;}if(_a=="col"){var _e;if(_c== -1){var _f=this._curFormat._cols;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){_e=this._getMaxColDataSizeBand(_h);if(_e>=0&&this._setColSize( -9,_h,_e,_d,true,true,(_h!=_g-1))){change=true;}}}else if(_c>=0){_e=this._getMaxColDataSizeBand(_c);if(_e>=0){this._setColSize(_b,_c,_e,_d,true,true);}}}};_pGrid.isDropdownCalendar=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="CalendarControl"){return this._currentCellEditor.isDropdown();}return false;};_pGrid.isDropdownCombo=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="ComboControl"){return this._currentCellEditor.isDropdown();}return false;};_pGrid.moveToNextCell=function(){return this._moveToCell("next",true,false,undefined,undefined,true);};_pGrid.moveToPrevCell=function(){return this._moveToCell("prev",true,false,undefined,undefined,true);};_pGrid.showEditor=function(_a){var _b;if(_a===undefined){_a=true;}_a=nexacro._toBoolean(_a);if(this._showEditing==_a){return false;}if(_a){this.setFocus(false);_b=this._showEditor();}else{_b=this._hideEditor();}return _b;};_pGrid.dropdownCombo=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="ComboControl"){this._currentCellEditor.dropdown();return true;}return false;};_pGrid.dropdownCalendar=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="CalendarControl"){this._currentCellEditor.dropdown();return true;}return false;};_pGrid.getCurEditType=function(){var _a=this._getBodyCellInfo(this._selectinfo.curcell);if(_a){return _a._getAttrValue(_a.edittype,this._selectinfo.curdsrow);}return "";};_pGrid.getEditCaret=function(){if(this._showEditing){var _a=this._currentCellEditor;if(_a&&_a.getCaretPos){return _a.getCaretPos();}}};_pGrid.getEditSelect=function(){var _a=this._currentCellEditor;if(_a&&_a.getSelect){return _a.getSelect();}};_pGrid.getEditSelectedText=function(){var _a=this._currentCellEditor;if(_a&&_a.getSelectedText){return _a.getSelectedText();}return "";};_pGrid.getEditText=function(){if(this._showEditing){var _a=this._currentCellEditor;if(_a){return _a.text;}}};_pGrid.setEditCaret=function(_a){};_pGrid.setEditSelect=function(_a,_b){var _c=this._currentCellEditor;if(!_c){return false;}if(_a== -1){_c.setSelect(0,0);return true;}else{if(_c.setSelect){return _c.setSelect(_a,_b);}}return false;};_pGrid.setEditSelectedText=function(_a){};_pGrid.setEditText=function(_a){};_pGrid.updateToDataset=function(){if(this._showEditing){var _a=this._currentCellEditor;if(_a){_a._setDataset(false,this._currentCellRow);return true;}return false;}return false;};_pGrid.setTreeStatus=function(_a,_b){if(!this._hasTree){return false;}_b=nexacro._toBoolean(_b);var _c=this._treeIndexes;var _d=_c.length;var _e=this._bodyBand._get_rows();if(_d<=_a||!_e||_e.length==0){return false;}var _f=_c[_a];var _g=_e[0]._cells;var _h=this._treeCellinfo;var _i=_h._getEdittype(_f);var _j;if(_b){_j=this._setTreeState(_a,1,true);}else{_j=this._setTreeState(_a,0,true);}if(_j>0){if(nexacro._enableaccessibility&&(nexacro._accessibilitytype==4||nexacro._accessibilitytype==5)){var _k=this._getCurrentBodyCell(this._currentDSrow,_h._cellidx);if(_k){if(nexacro._accessibilitytype==4){_k._setFocus(false);}else{_k._setAccessibilityNotifyEvent();}}}return true;}return false;};_pGrid.getTreeStatus=function(_a){if(!this._hasTree){return  -1;}var _b=this._treeIndexes;var _c=_b.length;var _d=this._bodyBand._get_rows();if(_c<=_a||!_d||_d.length==0){return  -1;}var _e=_b[_a];var _f=this._treeStates[_e];var _g=_d[0]._cells;var _h=this._treeCellinfo;var _i=_h._getEdittype(_e);if(_i=="tree"){if(_h.treestate._bindtype==1){var _j=_h.treestate._bindexpr;var _k=this._binddataset.getColumn(_e,_j);if(_k>1){_f=_k;}}}if(_f==2){_f++ ;}return _f;};_pGrid.getTreeChildCount=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return 0;}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f,_g= -1;var _h=0;for(var _i=_c+1;_i<this._rowcount;_i++ ){_f=_d._getTreeLevel(_i);if(_e>=_f){break;}if(_g>=0){if(_g>=_f){if(_g>_f){_g=_f;}_h++ ;}}else{if(_e<_f){_h++ ;_g=_f;}}}return _h;}return 0;};_pGrid.getTreeChildRow=function(_a,_b,_c){if(this._hasTree){var _d=_a;if(_c==undefined){_c=true;}else{_c=nexacro._toBoolean(_c);}if(_c===false){_d=this.getDatasetRow(_a);}if(_d<0||this._rowcount<=_d){return  -1;}var _e=this._treeCellinfo;var _f=_e._getTreeLevel(_d);var _g,_h= -1;var _i= -1;var _j=0;for(var _k=_d+1;_k<this._rowcount;_k++ ){_g=_e._getTreeLevel(_k);if(_f>=_g){break;}if(_h>=0){if(_h>=_g){if(_h>_g){_h=_g;}_j++ ;if(_b==_j){return _k;}_i=_k;}}else{if(_f<_g){_h=_g;if(_b==0){return _k;}_i=_k;}}}if(_b== -1){return _i;}}return  -1;};_pGrid.getTreeParentRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return  -1;}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f;for(var _g=_c-1;_g>=0;_g-- ){_f=_d._getTreeLevel(_g);if(_e>_f){return _g;}}}return  -1;};_pGrid.getTreeSiblingRow=function(_a,_b,_c){if(this._hasTree){var _d=_a;if(_b===undefined){_b=1;}if(_c==undefined){_c=true;}else{_c=nexacro._toBoolean(_c);}if(_c===false){_d=this.getDatasetRow(_a);}if(_d<0||this._rowcount<=_d){return  -1;}var _e=this._treeCellinfo;var _f=_e._getTreeLevel(_d);var _g;var _h=0;if(_b<0){for(var _i=_d-1;_i>=0;_i-- ){_g=_e._getTreeLevel(_i);if(_f>_g){break;}else if(_f==_g){_h-- ;if(_b==_h){return _i;}}}}else if(_b>0){for(var _i=_d+1;_i<this._rowcount;_i++ ){_g=_e._getTreeLevel(_i);if(_f>_g){break;}else if(_f==_g){_h++ ;if(_b==_h){return _i;}}}}else{return _d;}}return  -1;};_pGrid.getTreePath=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return "";}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f=_d._getTreeStartLevel(_c);var _g=[];var _h=0;while(_c>=0){_g[_h]=_d._getValue(_c);_c=this.getTreeParentRow(_c);_h++ ;}var _i="";for(_h=_g.length-1;_h>=0;_h-- ){_i+=_g[_h];if(_h>0){_i+=this.treepathdelimiter;}}return _i;}return "";};_pGrid.getTreeRow=function(_a){if(this._hasTree){if(typeof (_a)=="string"){var _b=_a;var _c=this._rowcount;var _d;_a= -1;for(var _g=0;_g<_c;_g++ ){_d=this.getTreePath(_g,true);if(_d==_b){_a=_g;break;}}}if(_a>=0){var _e=this._treeIndexes;var _f=_e.length;for(var _h=0;_h<_f;_h++ ){if(_e[_h]==_a){return _h;}}}}return  -1;};_pGrid.getDatasetRow=function(_a){if(_a>=0){if(this._hasTree){if(this._treeIndexes.length>_a){return this._treeIndexes[_a];}}else{if(this._rowcount>_a){return _a;}}}return  -1;};_pGrid.isTreeLeafRow=function(_a,_b){if(this._hasTree){var _c=this.getTreeChildCount(_a,_b);if(_c==0){if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}var _d=_a;if(_b===false){_d=this.getDatasetRow(_a);}if(_d<0||this._rowcount<=_d){return false;}return true;}}return false;};_pGrid.isTreeRootRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return false;}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f=_d._getTreeStartLevel(_c);if(_f==_e){return true;}}return false;};_pGrid.isTreeExpandedRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return false;}while(_c>=0){_c=this.getTreeParentRow(_c);if(_c<0){break;}var _d=this._treeIndexes;var _e=_d.length;if(_c>=0&&_e>0){var _f=this._treeStates[_c];if(_f==0){return false;}}}return true;}return false;};_pGrid.isTreeCollapsedRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return false;}while(_c>=0){_c=this.getTreeParentRow(_c);if(_c<0){break;}var _d=this._treeIndexes;var _e=_d.length;if(_c>=0&&_e>0){var _f=this._treeStates[_c];if(_f==0){return true;}}}}return false;};_pGrid.getCsvData=function(_a){};_pGrid.getHeadValue=function(_a){var _b=this._curFormat;if(_b&&_b._headcells&&_a>=0&&_b._headcells.length>_a){var _c=this._curFormat._headcells[_a];if(_c&&_c.text._bindtype!=0){return _c._getValue(this._currentDSrow);}}return null;};_pGrid.getSummValue=function(_a){var _b=this._curFormat;if(_b&&_b._summcells&&_a>=0&&_b._summcells.length>_a){var _c=this._curFormat._summcells[_a];if(_c&&_c.text._bindtype!=0){return _c._getValue(this._currentDSrow);}}return null;};_pGrid.getBindCellIndex=function(_a,_b){var _c=this._curFormat;if(!_c){return  -1;}_a=_a.toLowerCase();if(_b){if(_a=="head"&&_c._headcells){var _d=_c._headcells;var _e=_d.length;var _f;for(var _k=0;_k<_e;_k++ ){_f=_d[_k];if(_f.text._bindexpr==_b){return _k;}}}else if(_a=="body"&&_c._bodycells){var _g=_c._bodycells;var _h=_g.length;var _f;for(var _k=0;_k<_h;_k++ ){_f=_g[_k];if(_f.text._bindexpr==_b){return _k;}}}else if(_a=="summ"&&_c._summcells){var _i=_c._summcells;var _j=_i.length;var _f;for(var _k=0;_k<_j;_k++ ){_f=_i[_k];if(_f.text._bindexpr==_b){return _k;}}}}return  -1;};_pGrid._getDisplayCalendarCtrl=function(){if(!this._displaycalendarctrl){this._displaycalendarctrl=new nexacro.CalendarCtrl("displaycalendarctrl",0,0,0,0,this,false,true);}return this._displaycalendarctrl;};_pGrid.isAboveSelected=function(){};_pGrid._absolutelyResetScrollPos=function(_a){var _b=this._headBand;var _c=this._bodyBand;var _d=this._summBand;if(this._control_element){this._control_element._reset_scrollpos=_a;}if(_b&&_b._control_element){_b._control_element._reset_scrollpos=_a;}if(_c&&_c._control_element){_c._control_element._reset_scrollpos=_a;}if(_d&&_d._control_element){_d._control_element._reset_scrollpos=_a;}};_pGrid._no_use_onscroll_callback_after=false;_pGrid._adjustGridScrollRows_callback=function(_a){if(!this.vscrollbar){return;}var _b=this._control_element;var _c=_b.vscroll_limit;var _d=this.vscrollbar._pos;var _e=this._bodyBand;if(_d>_c){_d=_c;}if(_a){this._scroll_vpos_queue=[];}else{this._scroll_vpos_queue.pop();if(this._scroll_vpos_queue.length>0){this._aniframe_rowscroll.start();}}this._last_scroll_top=_b.scroll_top;this._toprowpos=this._getScreenTopRowPos(_d);this._bottomrowpos=this._getScreenBottomRowPos(_d);_e._update_rows=_e._matrix._adjustScrollRows(_d);_e._on_refresh_rows(true);this._no_use_onscroll_callback_after=true;_b.setElementVScrollPos(_d);this._MoveEditComp();this._updateSelector("vscroll",_d-this._last_scroll_top);this._adjustOverlayElements(false,this._is_use_fakemerge,true);this._setSelectBorder();};_pGrid._adjustGridScrollRows_callback_onscroll_after=function(_a){if(this._no_use_onscroll_callback_after==true){this._no_use_onscroll_callback_after=false;return;}var _b=this._bodyBand;this._toprowpos=this._getScreenTopRowPos(_a);this._bottomrowpos=this._getScreenBottomRowPos(_a);_b._update_rows=_b._matrix._adjustScrollRows(_a);_b._on_refresh_rows(true);this._MoveEditComp();this._adjustOverlayElements(false,this._is_use_fakemerge);};_pGrid._adjustGridScrollRows_callback_onscroll=function(){this._no_use_onscroll_callback_after=false;this._scroll_vpos_queue.pop();var _a=this.vscrollbar._pos;var _b=this._control_element;if(this._scroll_vpos_queue.length>0){this._aniframe_rowscroll.start();}this._last_scroll_top=_b.scroll_top;_b.setElementVScrollPos(_a);this._updateSelector("vscroll",_a-this._last_scroll_top);};_pGrid._adjustGridScrollCols_callback=function(_a){if(!this.hscrollbar){return;}var _b=this.hscrollbar._pos;var _c=this._control_element.scroll_left;if(_a){this._scroll_hpos_queue=[];}else{this._scroll_hpos_queue.pop();if(this._scroll_hpos_queue.length>0){this._aniframe_colscroll.start();}}this._control_element.setElementHScrollPos(_b);this._bodyBand._matrix._adjustColsDisplay(false,true);if(this._headBand){this._headBand._matrix._adjustColsDisplay(false,true);}if(this._summBand){this._summBand._matrix._adjustColsDisplay(false,true);}this._MoveEditComp();this._updateSelector("hscroll",_b-_c);this._adjustOverlayElements(false,this._is_use_fakemerge);this._setSelectBorder();};_pGrid._callback_onscroll=_pGrid._adjustGridScrollRows_callback_onscroll_after;_pGrid._is_over_scroll=0;_pGrid.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers&&this._is_recreating==false){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}this._is_over_scroll=0;var _c=this.vscrollbar;if(!_c){return;}if(this._scrollpixel!="all"){if(_c._pos>_c._orgmax){this._is_over_scroll=_c._pos-this.vscrollbar._orgmax;}}var _d=this._control_element;if(!_d||!this._bodyBand||_b.type=="trackstart"||_b.type=="tracklastover"||_b.type=="trackfirstover"){return;}if(_b.type=="trackend"||_b.type=="first"||_b.type=="last"){this._procRefreshDOM=true;}if(nexacro.Browser=="Runtime"||(navigator.userAgent.indexOf("Android 4.1")> -1||navigator.userAgent.indexOf("Android 4.2")> -1||navigator.userAgent.indexOf("Android 4.3")> -1||navigator.userAgent.indexOf("Android 5.0")> -1)){this.vscrollbar._no_set_scrollinfo=true;this._adjustGridScrollRows_callback(true);this.vscrollbar._no_set_scrollinfo=false;}else{if(_b._evtkind=="fling"||_b._evtkind=="slide"||_b.type=="track"){this._bodyBand._control_element._setOnScrollCallbackTarget(this);if(!this._aniframe_rowscroll){var _e=this;this._scroll_vpos_queue=[];if(nexacro.isTouchInteraction&&nexacro.Browser!="Runtime"){this._aniframe_rowscroll=new nexacro.AnimationFrame(this,function(){_e._adjustGridScrollRows_callback_onscroll();});}else{this._aniframe_rowscroll=new nexacro.AnimationFrame(this,function(){_e._adjustGridScrollRows_callback();});}}var _f=this._scroll_vpos_queue.push(_b.pos);if(_f==1){this._aniframe_rowscroll.start();}}else{this.vscrollbar._no_set_scrollinfo=true;this._adjustGridScrollRows_callback(true);this.vscrollbar._no_set_scrollinfo=false;}}this._procRefreshDOM=undefined;return true;};_pGrid.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers&&this._is_recreating==false){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(!_c||!this._bodyBand||_b.type=="trackstart"||_b.type=="tracklastover"||_b.type=="trackfirstover"){return;}if(_b.type=="trackend"||_b.type=="first"||_b.type=="last"){this._procRefreshDOM=true;}if(nexacro.Browser!="Runtime"){if(!this._aniframe_colscroll){var _d=this;this._scroll_hpos_queue=[];this._aniframe_colscroll=new nexacro.AnimationFrame(this,function(){_d._adjustGridScrollCols_callback();});}if(_b._evtkind=="fling"||_b._evtkind=="slide"||_b.type=="track"){var _e=this._scroll_hpos_queue.push(_b.pos);if(_e==1){this._aniframe_colscroll.start();}}else{this._adjustGridScrollCols_callback();}}else{this._adjustGridScrollCols_callback(true);}this._procRefreshDOM=undefined;return true;};_pGrid._isWheelScrollable=function(_a){var _b=this._control_element;if(!_b){return false;}var _c=_b.scroll_top;var _d=_b.container_maxheight;var _e=this._getBodyClientSize()[1];if((_c+_e>=_d&&_a<0)||(_c==0&&_a>0)){return false;}return true;};_pGrid._setVScrollDefaultAction=function(_a,_b){var _c,_d;if(this._scrollpixel!="all"){if(_b<0){if(_a.max>_a.pos){_c=_a.pos+this.wheelscrollrow;}else{_a._set_pixelpos(_a._pos-_b,"mousewheel");return;}}else{if(_a.min<_a.pos){_c=_a.pos-this.wheelscrollrow;}else{_a._set_pixelpos(_a._pos-_b,"mousewheel");return;}}}else{if(_b<0){_c=_a._scroll_reverse_convert(_a.pos,true)[0];_d=_a._scroll_reverse_convert(_a.max,true)[0];if(_d>_c){_c+=this.wheelscrollrow;}else{_a._set_pixelpos(_a._pos-_b,"mousewheel");return;}}else{_c=_a._scroll_reverse_convert(_a.pos,true)[0];_c-=this.wheelscrollrow;}}_a._set_rowpos(_c+this._getFixRowCnt(),"mousewheel");};_pGrid._makeEventInfo=function(_a,_b,_c){var _d={cell: -1,col: -1,row: -9,subrow: -1,mergecell: -1,mergecol: -1,mergerow: -1,pivotindex: -9};if(_a&&_a._type_name=="GridCell"){_d.cell=_a._cellidx;_d.col=_a._refobj._col;_d.row=this._getDataRow(_a._rowidx);_d.subrow=_a._refobj._row;if(_b){_d.mergecell=_b._cellidx;_d.mergecol=_b._refobj._col;_d.mergerow=_b._refobj._row;}}else{var _e=this._findBandObj(_c);if(_e){if(_e.id=="head"){_d.row= -1;}else if(_e.id=="summ"){_d.row= -2;}}}return _d;};_pGrid.on_fire_sys_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this._aniframe_rowscroll){this._aniframe_rowscroll.stop();}if(this._aniframe_colscroll){this._aniframe_colscroll.stop();}this._adjustGridScrollCols_callback(true);this._adjustGridScrollRows_callback(true);return true;};_pGrid._on_nodataareaclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(this.enable){this.on_fire_onnodataareaclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}return true;};_pGrid.on_fire_onnodataareaclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onnodataareaclick&&this.onnodataareaclick._has_handlers){var _m=new nexacro.MouseEventInfo(_k,"onnodataareaclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onnodataareaclick._fireEvent(this,_m);}return true;};_pGrid._on_nodataareadblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(this.enable){this.on_fire_onnodataareadblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}return true;};_pGrid.on_fire_onnodataareadblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onnodataareadblclick&&this.onnodataareadblclick._has_handlers){var _m=new nexacro.MouseEventInfo(_k,"onnodataareadblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onnodataareadblclick._fireEvent(this,_m);}return true;};_pGrid.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this._noFireDragFlag==true||(_a&&_a.selectscrollmode&&(_a.selectscrollmode=="scroll"||(nexacro._isMobile&&nexacro._isMobile()&&_a.selectscrollmode=="default")))){return;}var _q=_p;_q=this._findCellObj(_q);if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_q=_q.parentcell;}}var _r=this._recalcXY(_q,_k,_l,false,_p);_k=_r.canvasX;_l=_r.canvasY;_m=_r.clientX;_n=_r.clientY;return nexacro.Component.prototype.on_fire_user_ondragenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p);};_pGrid.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this._noFireDragFlag==true||(_a&&_a.selectscrollmode&&(_a.selectscrollmode=="scroll"||(nexacro._isMobile&&nexacro._isMobile()&&_a.selectscrollmode=="default")))){return;}var _q=_p;_q=this._findCellObj(_q);if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_q=_q.parentcell;}}var _r=this._recalcXY(_q,_k,_l,false,_p);_k=_r.canvasX;_l=_r.canvasY;_m=_r.clientX;_n=_r.clientY;return nexacro.Component.prototype.on_fire_user_ondragleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p);};_pGrid.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this._noFireDragFlag==true){return;}var _q=_p;_q=this._findCellObj(_q);var _r;if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_r=_q;_q=_q.parentcell;}}var _s=this._recalcXY(_q,_k,_l,false,_p);_k=_s.canvasX;_l=_s.canvasY;_m=_s.clientX;_n=_s.clientY;if(!_a||!_a.selectscrollmode||_a.selectscrollmode=="select"||(nexacro._isDesktop()&&_a.selectscrollmode=="default")){if(this.ondragmove&&this.ondragmove._has_handlers){var _t=this._makeEventInfo(_q,_r,_p);var _u=_t.cell;var _v=_t.col;var _w=_t.mergecell;var _x=_t.mergecol;var _y=_t.mergerow;var _z=_t.pivotindex;var _aa=_t.row;var _ab=_t.subrow;var _ac=new nexacro.GridDragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_u,_v,_w,_x,_y,_z,_aa,_ab);return this.ondragmove._fireUserEvent(this,_ac);}}return false;};_pGrid.on_fire_sys_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_drag_sameselect){if(this._isAreaSelect()){return this._areaselectMove(_p,_k,_l);}else{return nexacro.Component.prototype.on_fire_sys_ondragmove.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r);}}else{this._is_drag_selecting=true;}};_pGrid._noFireDragFlag=false;_pGrid.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;_n=this._findCellObj(_n);var _o;if(_n&&_n._type_name=="GridCell"){if(_n.parentcell){_o=_n;_n=_n.parentcell;}}this._noFireDragFlag=false;var _p=null;var _q=null;var _r=this._getDragData();if(this.ondrag&&this.ondrag._has_handlers){var _s=this._recalcXY(_n,_g,_h,false,_l);_g=_s.canvasX;_h=_s.canvasY;_i=_s.clientX;_j=_s.clientY;var _t=this._makeEventInfo(_n,_o,_l);var _u=_t.cell;var _v=_t.col;var _w=_t.mergecell;var _x=_t.mergecol;var _y=_t.mergerow;var _z=_t.pivotindex;var _aa=_t.row;var _ab=_t.subrow;_p=new nexacro.GridDragEventInfo(this,"ondrag",_r,_q,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_u,_v,_w,_x,_y,_z,_aa,_ab);}if(this._selectscrollmode=="select"){if(_p){if(this.ondrag._fireUserEvent(this,_p)==true){return [true,this,_m,_p.dragdata,_p.userdata];}else if(this.ondrag.defaultprevented==true){return [false,this,_m,_p.dragdata,_p.userdata];}}}else{this._noFireDragFlag=true;}var _ac=[false];if(this._resizer_rowctrl&&this._resizer_rowctrl._is_tracking==true){var _ad=nexacro._getCachedValueObj("row-resize");this._setGlobalCursor(_ad,_n);}else if(this._resizer_colctrl&&this._resizer_colctrl._is_tracking==true){var _ad=nexacro._getCachedValueObj("col-resize");this._setGlobalCursor(_ad,_n);}else if(this.cellmovingtype!="none"||_p){if(_n&&_n._type_name=="GridCell"&&_n._rowidx== -1){if(this.cellmovingtype!="none"){var _ae=_n._refobj._col;var _af=this._getColMergeInfo("head",_ae);var _ag=this._getColMergeInfo("body",_ae);var _ah=this._getColMergeInfo("summ",_ae);var _ai=nexacro._getCachedValueObj("move");if(_af[1]==1&&(_ag==null||_ag[1]==1)&&(_ah==null||_ah[1]==1)){if(nexacro.isTouchInteraction&&application.enabletouchevent==false){application._touch_manager._tap_blocked=true;}this._movingcell=_n;this._setGlobalCursor(_ai,_n);this._noFireDragFlag=true;}}else{this._movingcell=null;}}_ac=[this._noFireDragFlag,this,_m,_r,_q];}return _ac;};_pGrid.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){var _q=_p;_q=this._findCellObj(_q);var _r;if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_r=_q;_q=_q.parentcell;}}var _s=this._recalcXY(_q,_k,_l,false,_p);_k=_s.canvasX;_l=_s.canvasY;_m=_s.clientX;_n=_s.clientY;if(this._resizer_rowctrl&&this._resizer_rowctrl._is_tracking==true){this._setGlobalCursor(null,_q);}else if(this._resizer_colctrl&&this._resizer_colctrl._is_tracking==true){this._setGlobalCursor(null,_q);}else if(this.cellmovingtype!="none"){var _t=this._movingcell;var _u=this._curFormat;this._setGlobalCursor(null,_q);if(_t&&_t._is_alive&&_t!=_q&&_q._rowidx== -1){var _v=_t._refobj._col;var _w=_t._refobj._cellidx;var _x=_q._refobj._col;var _y=_t._refobj._colspan;var _z=this._getColMergeInfo("head",_x);_x=_z[0];var _aa=_z[1];this._autofitcol_rate=[];_u._moveColumn(_v,_x,_y,_aa,this.cellmovingtype);this._addRefreshContents("cellmoving",this._headBand);this._addRefreshContents("cellmoving",this._bodyBand);this._addRefreshContents("cellmoving",this._summBand);}this._movingcell=null;}if(this._noFireDragFlag==true||(_a&&_a.selectscrollmode&&(_a.selectscrollmode=="scroll"||(nexacro._isMobile&&nexacro._isMobile()&&_a.selectscrollmode=="default")))){if(_a&&_a._noFireDragFlag){_a._noFireDragFlag=false;}this._noFireDragFlag=false;return;}if(this.ondrop&&this.ondrop._has_handlers){var _ab=this._makeEventInfo(_q,_r,_p);var _ac=_ab.cell;var _ad=_ab.col;var _ae=_ab.mergecell;var _af=_ab.mergecol;var _ag=_ab.mergerow;var _ah=_ab.pivotindex;var _ai=_ab.row;var _aj=_ab.subrow;var _ak=new nexacro.GridDragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_ac,_ad,_ae,_af,_ag,_ah,_ai,_aj);return this.ondrop._fireUserEvent(this,_ak);}return false;};_pGrid._mouseSelection=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._currentCellEditor;var _j=_g;var _k=true;while(_j){if(_j==_i||_j instanceof nexacro.GridScrollBarCtrl||_j instanceof nexacro.ScrollBarCtrl){_k=false;break;}_j=_j.parent;}if(_k&&_i){this._hideEditor();}if(this._resizer_colctrl&&this._resizer_colctrl._is_tracking){return;}if(this._resizer_rowctrl&&this._resizer_rowctrl._is_tracking){return;}if(this._down_scroll_top>=0&&this._down_scroll_top!=this._last_scroll_top){return;}if(_a&&_a._type_name=="GridCell"){this._lbuttondown_proc=true;var _l=_a._band.id;var _m=this._on_grid_lbuttondown(_a,_l,_b,_c,_h);if(!_a._is_alive||_h){return;}if(this._showEditorCell){if(nexacro._toBoolean(this.readonly)==false){if(_m){var _n=_a;if(_n&&_n._hasEditor()){_n._showEditor();var _o=this._getDataRow(_n._rowidx);this._beforeEditRowIdx=_o;this._beforeEditCellIdx=_n._cellidx;this._showEditing=true;_n._refobj._editingRow=_o;_n._editshowing=true;var _i=this._currentCellEditor;if(nexacro.Browser=="Gecko"&&_n._curEditDisplay=="display"){this._onceTime_focus=true;}_i._setFocus(false);this._onceTime_focus=false;if(_i&&_i.setCaretPos&&!_i.autoselect){_i.setCaretPos(0);}}}else{this._onceTime_focus=true;this._showEditor();this._onceTime_focus=false;}}this._showEditorCell=false;this._showEditRowIdx= -1;this._showEditCellIdx= -1;}if(this.selectchangetype=="down"&&nexacro._toBoolean(this.readonly)==false){var _o=this._getDataRow(_a._rowidx);var _p=_a._refobj._getDisplaytype(_o);if(_p=="checkbox"){if(this.cellclickbound=="cell"){_a._needToggle("onlbuttondown",_a);}else{if(_a!=_g&&_a._subComp&&_a._subComp._toggleCheck){if(_a.selected){_a._subComp._toggleCheck();}}}}else{_a._needToggle("onlbuttondown",_a);}}this._lbuttondown_proc=false;}};_pGrid._common_fire_sys_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(this.selectchangetype=="up"){if(this._isAreaSelect()&&this._selectscrollmode=="select"){this._mouseSelection(_a,_b,_c,_d,_e,_f,_g);}else if(this.selecttype=="multirow"){this._mouseSelection(_a,_b,_c,_d,_e,_f,_g,true);}var _h=this._getWindow();if(!_h._cur_ldown_elem){this._setdataobj=null;}}else{this._mouseSelection(_a,_b,_c,_d,_e,_f,_g);}if(this._is_down_act){this._on_last_lbuttonup(true);}};_pGrid._common_fire_user_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}this._resizerStart(_d,_e,_a,"down",_g);var _h=this._resizer_colctrl;var _i=this._resizer_rowctrl;var _j=this._getClientXY(_d,_e);if(_h&&_h._is_range){var _k=this._getWindow();_h._setTracksize(this._client_height);if(_h._direction=="horizon"){_h.move(_j[0],this._client_top,1,_h._tracksize);}nexacro._setTrackInfo(_k,_h,_k._curWindowX,_k._curWindowY);}else if(_i&&_i._is_range){var _k=this._getWindow();_i._setTracksize(this._client_width);if(_i._direction=="vertical"){_i.move(this._client_left,_j[1],_i._tracksize,1);}nexacro._setTrackInfo(_k,_i,_k._curWindowX,_k._curWindowY);}if(this._select_ctrl){this._select_ctrl._initTrackInfo();}};_pGrid._recalcTouchInfosXY=function(_a,_b,_c,_d){var _e,_f;for(var _g=0,_h=_b.length;_g<_h;_g++ ){if(_e=_b[_g]){_f=this._recalcXY(_a,_e.canvasX,_e.canvasY,_c,_d);_e.canvasX=_f.canvasX;_e.canvasY=_f.canvasY;_e.clientX=_f.clientX;_e.clientY=_f.clientY;}}};_pGrid._getRecalcCanvasXY=function(_a,_b,_c){var _d=0,_e=0;var _f=0,_g=0;var _h=this._getRootForm();var _i=this._getRootComponent(this);if(this._recalcXY_info){_b=this._recalcXY_info[0]+this._adjust_left;_c=this._recalcXY_info[1]+this._adjust_top;this._recalcXY_info=null;}else{_b+=this._adjust_left-this._scroll_left||0;_c+=this._adjust_top-this._scroll_top||0;}if(this.parent&&!(this instanceof nexacro.ScrollBarCtrl)){var _j=this.parent._control_element;if(_j&&_j instanceof nexacro.ScrollableControlElement){_d=_j.scroll_left;_e=_j.scroll_top;_j=null;}}_b-=_d;_c-=_e;if(_h&&_h!=this&&!this._is_subcontrol&&_h==_i.parent){var _j=_h._control_element;if(_j){_f=_j.border?_j.border._left_width:0;_g=_j.border?_j.border._top_width:0;}_b+=_f;_c+=_g;}return [_b,_c];};_pGrid._recalcXY=function(_a,_b,_c,_d,_e){var _f=_b;var _g=_c;if(_a._type_name=="GridCell"){if(_d){var _h=_a._setPositionInGrid(null,false,true);_f=_b+_h.orgl;_g=_c+_h.orgt;}else{var _i=_a._refobj._area;var _j=_a._band.id;if(_i=="body"){_f=_b+this._curFormat.leftWidth;_f-=this._getScrollLeft();}else if(_i=="right"){var _k=_a.parent;var _h=_k._getAreaRect(_i);var _l=_h.left;_f=_b+_l;}if(_j=="body"&&!_a.parent._fixed){_g-=this._getScrollTop();_g+=this._fixed_height;}}}if(_e._type_name!="Grid"){if(_e._type_name=="GridRow"&&_e._rowidx>=0){_g-=this._getScrollTop();}var _m=this.currentstyle.border;if(_m){_f+=_m._left_width;_g+=_m._top_width;}}this._recalcXY_info=[_f,_g];var _n=this._getClientXY(_f,_g);return {canvasX:_f,canvasY:_g,clientX:_n[0],clientY:_n[1]};};_pGrid.on_fire_user_ontouchstart=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchstart(_a,_b,_c,_d,true,_e);};_pGrid.on_fire_sys_ontouchstart=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchstart(_a,_b,_c,_d,false,_e);};_pGrid._down_scroll_top= -1;_pGrid.on_fire_ontouchstart=function(_a,_b,_c,_d,_e,_f){var _g=_d;_g=this._findCellObj(_g);this._recalcTouchInfosXY(_g,_b,_f,_d);var _h=nexacro._getFirstTouchInfo(_b);var _i;if(_g&&_g._type_name=="GridCell"){if(_g.parentcell){_i=_g;_g=_g.parentcell;}}var _j=false;if(this.ontouchstart&&this.ontouchstart._has_handlers){var _k=this._makeEventInfo(_g,_i,_d);var _l=_k.cell;var _m=_k.col;var _n=_k.mergecell;var _o=_k.mergecol;var _p=_k.mergerow;var _q=_k.pivotindex;var _r=_k.row;var _s=_k.subrow;var _t=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);if(_e){_j=this.ontouchstart._fireUserEvent(this,_t);}else{_j=this.ontouchstart._fireSysEvent(this,_t);}}this._down_scroll_top=this._last_scroll_top;if(_h){if(_e){this._resizerStart(_h.canvasX,_h.canvasY,_g,"down",_d);this._common_fire_user_lbuttondown(_g,false,false,_h.canvasX,_h.canvasY,_c,_d);}else{if(this._selectscrollmode=="select"){if(_g._band&&_g._band.id=="body"){if(this._isAreaSelect()){this._common_fire_sys_lbuttondown(_g,false,false,_h.canvasX,_h.canvasY,_c,_d);}if(nexacro.OS!="Windows"||nexacro.Browser!="Runtime"){if(this.selectchangetype=="down"){this._mouseSelection(_g,false,false,_h.canvasX,_h.canvasY,_c,_d);}}}}}}return _j;};_pGrid.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(nexacro.isTouchInteraction){this._down_scroll_top=this._last_scroll_top;}return nexacro.Component.prototype.on_lbuttondown_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGrid.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this.on_fire_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true,_m);};_pGrid.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this.on_fire_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false,_m);};_pGrid.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=_l;_o=this._findCellObj(_o);var _p;if(_o&&_o._type_name=="GridCell"){if(_o.parentcell){_p=_o;_o=_o.parentcell;}}var _q=this._recalcXY(_o,_g,_h,_n,_l);_g=_q.canvasX;_h=_q.canvasY;_i=_q.clientX;_j=_q.clientY;var _r=false;if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _s=this._makeEventInfo(_o,_p,_l);var _t=this._getRootComponent(_k);var _u=_s.cell;var _v=_s.col;var _w=_s.mergecell;var _x=_s.mergecol;var _y=_s.mergerow;var _z=_s.pivotindex;var _aa=_s.row;var _ab=_s.subrow;var _ac=new nexacro.GridMouseEventInfo(_t,"onlbuttondown",_u,_v,_w,_x,_y,_z,_aa,_ab,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_m){_r=this.onlbuttondown._fireUserEvent(this,_ac);}else{_r=this.onlbuttondown._fireSysEvent(this,_ac);}}if(nexacro.isTouchInteraction){if(_m){this._resizerStart(_g,_h,_o,"down",_l);this._common_fire_user_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}else{if(this._selectscrollmode=="select"){if(_o._band&&_o._band.id=="body"){if(this._isAreaSelect()){this._common_fire_user_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}}}}}else{if(_m){this._common_fire_user_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}else{this._common_fire_sys_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}}return _r;};_pGrid.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_l;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false,_l);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_l);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onrbuttondown",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onrbuttondown._fireUserEvent(this,_z);}return false;};_pGrid.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Component.prototype.on_fire_sys_onrbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);var _n=_l;_n=this._findCellObj(_n);if(_n&&_n instanceof nexacro.GridCell&&this.autoenter=="select"){if(_n.parentcell){var _o=_n;_n=_n.parentcell;}if(_n&&_n._hasEditor()&&_n._is_Selected()){this._beforebodycellpos=this._selectinfo.curcell;this._beforebodycolpos=this._selectinfo.curcol;this._beforebodyrowpos=this._selectinfo.curdsrow;this._beforebodysubrowpos=this._selectinfo.cursubrow;this._beforepvt=this._selectinfo.curpvt;var _p=_n._cellidx;var _q=_n._refobj._col;var _r=this._getDataRow(_n._rowidx);var _s=_n._refobj._row;var _t= -9;if(_o){_q+=_o._refobj._col;}this._setSelectedInfo(_p,_q,_r,_s,_t);var _u=this._getWindow();_u._postMessage(this,"showeditor",this._callbackPostmsg,[false,undefined,true]);}else{if(this._showEditing){this._hideEditor();}}}return _m;};_pGrid.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);};_pGrid.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);};_pGrid.on_fire_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;_n=this._findCellObj(_n);var _o;if(_n&&_n._type_name=="GridCell"){if(_n.parentcell){_o=_n;_n=_n.parentcell;}}var _p=this._recalcXY(_n,_g,_h,false,_l);_g=_p.canvasX;_h=_p.canvasY;_i=_p.clientX;_j=_p.clientY;var _q=false;if(this.onmousedown&&this.onmousedown._has_handlers){var _r=this._makeEventInfo(_n,_o,_l);var _s=this._getRootComponent(_k);var _t=_r.cell;var _u=_r.col;var _v=_r.mergecell;var _w=_r.mergecol;var _x=_r.mergerow;var _y=_r.pivotindex;var _z=_r.row;var _aa=_r.subrow;var _ab=new nexacro.GridMouseEventInfo(_s,"onmousedown",_t,_u,_v,_w,_x,_y,_z,_aa,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_m){_q=this.onmousedown._fireUserEvent(this,_ab);}else{_q=this.onmousedown._fireSysEvent(this,_ab);}}return _q;};_pGrid._clearDestroyEditor=function(_a){var _b=this._destroyeditors;if(_b.length){for(var _c=0;_c<_b.length;_c++ ){if(_a&&_b.length<=5){break;}if(_b[_c]._is_alive){_b[_c].destroy();}_b[_c]=null;_b.splice(_c,1);_c-- ;}}};_pGrid._resetFixSize=function(){var _a=this._rowSizeList;var _b=0,_c=0;var _d=this._fixed_startrow;var _e=this._fixed_endrow;if(_d<0){return;}for(var _f=0,_g=_a.length;_f<_g;_f++ ){_b+=_a[_f];if(_d>_f){continue;}_c+=_a[_f];if(_e==_f){break;}}this._fixed_height=_c;this._fixedrow_height=_b;};_pGrid.setFixedRow=function(_a){this._setFixedRow(_a,undefined);};_pGrid._setFixedRow=function(_a,_b){if(this._hasTree){return;}var _c=(_a<0)?false:true;var _d,_e=this._endrowpos;_d=this._fixed_startrow;if(_d<0){_d=this._toprowpos[0];}if(_a>=0&&(_a<_d||_a>_e)){return;}if(_c){if(this._fixed_height){this._setFixedRow( -1);}}var _f=this._bodyBand;if(_c){var _g=this._getGridRowCount();var _h=this._toprowpos[0];var _i=0,_j=0;var _k=false;var _l=0;for(var _m=0;_m<_g;_m++ ){this._fixed_rowcnt++ ;_l=this._getRowSize(_m);_j+=_l;if(_m>=_h){if(this._fixed_startrow<0){this._fixed_startrow=_m;}_i+=_l;_k=true;}if(_m>=_a){break;}}if(_k){this._fixedrow_height=_j;this._fixed_endrow=_a;this._fixed_height=_i;if(!_b){this._recreate_contents_all(false,false,true,true);}}else{this._fixed_startrow= -9;this._fixed_endrow= -9;this._fixed_height=0;this._fixedrow_height=0;this._fixed_rowcnt=0;}}else{var _d=this._fixed_startrow;this._fixed_endrow= -9;this._fixed_height=0;this._fixedrow_height=0;this._fixed_rowcnt=0;this._fixed_startrow= -9;if(!_b){this._recreate_contents_all(false,false,false,true);if(this.vscrollbar&&_d>=0){this.vscrollbar._set_rowpos(_d);}}}};_pGrid._getFixRowCnt=function(){return (this._bodyBand)?this._fixed_rowcnt:0;};_pGrid._checkInclude=function(_a,_b,_c,_d,_e){if(_a.start_column<=_c&&_a.end_column>=_c){if(_a.start_row<=_d&&_a.end_row>=_d){if(_e==undefined||_a.start_subrow==undefined){return true;}else{if(_a.start_row<_d&&_a.end_row>_d){return true;}if(_a.start_row==_a.end_row){if(_a.start_subrow<=_e&&_a.end_subrow>=_e){return true;}}else{if(_a.start_row==_d){if(_a.start_subrow<=_e&&_b>_e){return true;}}if(_a.end_row==_d){if(0<=_e&&_a.end_subrow>=_e){return true;}}}}}}return false;};_pGrid._getFakeMergeCellInfos=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=[];var _j,_k,_l,_m;for(var _n=0,_o=_a.length;_n<_o;_n++ ){col1=_a[_n]._col;colspan=_a[_n]._colspan;col2=col1+colspan-1;row1=_a[_n]._row;rowspan=_a[_n]._rowspan;row2=row1+rowspan-1;if((_b<=col1&&_c>=col1)||(_b<=col2&&_c>=col2)||(col1<=_b&&col2>=_b)||(col1<=_c&&col2>=_c)){if(_d>=0){_j=_d*_h+row1;_k=_d*_h+_f;_l=_e*_h+row2;_m=_e*_h+_g;}else{_j=row1;_k=_f;_l=row2;_m=_g;}if((_k<=_j&&_m>=_j)||(_k<=_l&&_m>=_l)||(_j<=_k&&_l>=_k)||(_j<=_m&&_l>=_m)){_i.push(_a[_n]);}}}return _i;};_pGrid.setFakeMerge=function(_a,_b,_c,_d,_e,_f){this._setFakeMerge(_a,_c,_e,_b,_d,_f,false);};_pGrid._getFakeMergeCellObjs=function(_a){var _b;var _c=[];var _d=this._curFormat;var _e;if(_a.start_row== -1){_b=this._headBand;_e=_d._headrows.length;}else if(_a.start_row== -2){_b=this._summBand;_e=_d._summrows.length;}else if(_a.start_row>=0){_b=this._bodyBand;_e=_d._bodyrows.length;}if(!_b){return _c;}var _f=_b._get_rows();var _g;var _h=_a.start_column;var _i=_a.end_column;var _j=_a.start_row;var _k=_a.end_row;var _l=_a.start_subrow;var _m=_a.end_subrow;var _n;var _o,_p,_q,_r;var _s;for(var _t=0,_u=_f.length;_t<_u;_t++ ){_n=this._getDataRow(_f[_t]._rowidx);if(_n>=_j&&_n<=_k){_g=_f[_t]._cells;for(var _v=0,_w=_g.length;_v<_w;_v++ ){_s=_g[_v]._refobj;if(_s._col>=_h&&_s._col<=_i){if(_l==undefined){_c.push(_g[_v]);}else{if(_j>=0){_o=_n*_e+_s._row;_p=_j*_e+_l;_q=_n*_e+_s._row+_s._rowspan-1;_r=_k*_e+_m;}else{_o=_s._row;_p=_l;_q=_s._row+_s._rowspan-1;_r=_m;}if((_p<=_o&&_r>=_o)||(_p<=_q&&_r>=_q)||(_o<=_p&&_q>=_p)||(_o<=_r&&_q>=_r)){_c.push(_g[_v]);}}}}}}return _c;};_pGrid._is_use_fakemerge=false;_pGrid._setFakeMerge=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._curFormat;var _i;var _j;var _k;if(_a>_d||_a<0||_d<0){return false;}if(_b== -1||_e== -1){if(_b!=_e){return false;}if(!_h._headrows){return false;}_i=_h._headcells;_j=_h._headrows.length;_k="head";if(_f<_c){return false;}}else if(_b== -2||_e== -2){if(_b!=_e){return false;}if(!_h._summrows){return false;}_i=_h._summcells;_j=_h._summrows.length;_k="summ";if(_f<_c){return false;}}else{if(_b<0||_e<0){return false;}if(_b>_e){return false;}if(!_h._bodyrows){return false;}_i=_h._bodycells;_j=_h._bodyrows.length;_k="body";}if(_c==undefined){_c=0;}if(_f==undefined){_f=_j-1;}if(_j<=_c||_j<=_f){return false;}var _l,_m,_n,_o=false;var _p,_q,_r;var _s=[];var _t=null;var _u,_v,_w,_x;for(var _ae=0,_aj=_i.length;_ae<_aj;_ae++ ){_t=_i[_ae];_l=_t._col;_m=_t._colspan;_n=_l+_m-1;_p=_t._row;_q=_t._rowspan;_r=_p+_q-1;if((_a<=_l&&_d>=_l)||(_a<=_n&&_d>=_n)||(_l<=_a&&_n>=_a)||(_l<=_d&&_n>=_d)){if(_b>=0){_u=_b*_j+_p;_v=_b*_j+_c;_w=_e*_j+_r;_x=_e*_j+_f;}else{_u=_p;_v=_c;_w=_r;_x=_f;}if((_v<=_u&&_x>=_u)||(_v<=_w&&_x>=_w)||(_u<=_v&&_w>=_v)||(_u<=_x&&_w>=_x)){if(_t.suppress!=0){return false;}var _y=false;if(_t._colspan>1){var _z=_t._col+_t._colspan-1;if(_t._col<_a){_y=true;_a=_t._col;}if(_z>_d){_y=true;_d=_z;}}if(_t._rowspan>1){if(_u<_v){_y=true;_c=_t._row;}if(_w>_x){_y=true;_f=_t._row+_t._rowspan-1;}}if(_y==true){_s=[];_ae= -1;}else{_s.push(_t);}}}}var _aa={start_column:_a,start_row:_b,start_subrow:_c,end_column:_d,end_row:_e,end_subrow:_f,cellinfos:_s};var _ab=this._fake_mergecell_arr;var _ac=_ab.length;var _ad;var _ae=0;var _af=[];for(;_ae<_ac;_ae++ ){if(this._checkInclude(_ab[_ae],_j,_a,_b,_c)){_af.push(_ae);}else if(this._checkInclude(_ab[_ae],_j,_a,_e,_f)){_af.push(_ae);}else if(this._checkInclude(_ab[_ae],_j,_d,_b,_c)){_af.push(_ae);}else if(this._checkInclude(_ab[_ae],_j,_d,_e,_f)){_af.push(_ae);}else if(this._checkInclude(_aa,_j,_ab[_ae].start_column,_ab[_ae].start_row,_ab[_ae].start_subrow)){_af.push(_ae);}else if(this._checkInclude(_aa,_j,_ab[_ae].start_column,_ab[_ae].end_row,_ab[_ae].end_subrow)){_af.push(_ae);}else if(this._checkInclude(_aa,_j,_ab[_ae].end_column,_ab[_ae].start_row,_ab[_ae].start_subrow)){_af.push(_ae);}else if(this._checkInclude(_aa,_j,_ab[_ae].end_column,_ab[_ae].end_row,_ab[_ae].end_subrow)){_af.push(_ae);}}if(_af.length==0){for(var _ae=0,_ak=_s.length;_ae<_ak;_ae++ ){if(_s[_ae]._fakemerge_infos==null){_s[_ae]._fakemerge_infos=[];}}_ab.push(_aa);this._is_use_fakemerge=true;for(var _ae=0,_ak=_s.length;_ae<_ak;_ae++ ){_h._clearCellStyleCache(_k,_s[_ae]._cellidx);this._refreshCell(_k,_s[_ae]._cellidx, -1,true);}}else{if(_g){return false;}for(var _ae=0,_ak=_af.length;_ae<_ak;_ae++ ){var _ag=_af[_ae];var _ah=_ab.splice(_ag-_ae,1)[0];var _ai=this._getFakeMergeCellInfos(_i,_ah.start_column,_ah.end_column,_ah.start_row,_ah.end_row,_ah.start_subrow,_ah.end_subrow,_j);for(var _al=0,_am=_ai.length;_al<_am;_al++ ){for(var _an=_ah.start_row;_an<=_ah.end_row;_an++ ){_ai[_al]._fakemerge_infos[_an+2]=undefined;}_h._clearCellStyleCache(_k,_ai[_al]._cellidx);this._refreshCell(_k,_ai[_al]._cellidx, -1,true);}for(var _al=0,_aj=_s.length;_al<_aj;_al++ ){for(var _an=_b;_an<=_e;_an++ ){if(_s[_al]._fakemerge_infos){_s[_al]._fakemerge_infos[_an+2]=undefined;}}_h._clearCellStyleCache(_k,_s[_al]._cellidx);this._refreshCell(_k,_s[_al]._cellidx, -1,true);}}}this._adjustOverlayElements(false,this._is_use_fakemerge);if(_ab.length==0){this._is_use_fakemerge=false;}return true;};_pGrid._checkFakeMerge=function(_a,_b){if(!_a._fakemerge_infos){return "";}if(_a._fakemerge_infos[_b+2]){return _a._fakemerge_infos[_b+2];}var _c=this._fake_mergecell_arr;var _d=_c.length;var _e;var _f=this._curFormat;var _g;if(_b== -1){_e=(_f._headrows)?_f._headrows.length:0;_g="head";}else if(_b== -2){_e=(_f._summrows)?_f._summrows.length:0;_g="summ";}else if(_b>=0){_e=(_f._bodyrows)?_f._bodyrows.length:0;_g="body";}if(!_e){return "";}if(_d==0){return "";}var _h=_a._col,_i=_a._col+_a._colspan-1,_j=_a._row,_k=_a._row+_a._rowspan-1,_l=_a._area;for(var _n=0;_n<_d;_n++ ){if(this._checkInclude(_c[_n],_e,_h,_b,_j)){if(this._checkInclude(_c[_n],_e,_i,_b,_j)){if(this._checkInclude(_c[_n],_e,_h,_b,_k)){if(this._checkInclude(_c[_n],_e,_i,_b,_k)){var _m="";if(_l!="right"){if(_i<_c[_n].end_column){_m+="right";}}else{if(_h>_c[_n].start_column){_m+="left";}}if(_g!="summ"){if(_b<_c[_n].end_row){_m+="bottom";}else if(_b==_c[_n].end_row){if(_c[_n].end_subrow==undefined&&_k<_e-1){_m+="bottom";}else if(_k<_c[_n].end_subrow){_m+="bottom";}}}else{if(_b>_c[_n].start_row){_m+="top";}else if(_b==_c[_n].start_row){if(_c[_n].start_subrow==undefined&&_j>0){_m+="top";}else if(_j>_c[_n].start_subrow){_m+="top";}}}_m+="fake";_a._fakemerge_infos[_b+2]=_m;return _m;}}}}}return "";};_pGrid._on_last_lbuttonup=function(_a){if(this._movingcell){this._setGlobalCursor(null,this);this._movingcell=null;}this._is_down_act=false;this._clearDestroyEditor(true);this._setdataobj=null;var _b=this._after_recreate_contents_all;if(_b!=null){this._is_after_recreate=true;this._recreate_contents_all(_b[0],_b[1],_b[2],_b[3],_b[4]);this._after_recreate_contents_all=null;this._is_after_recreate=false;if(!this._showEditing&&this.autoenter=="select"){this._showEditor();}}if(this._after_recreate){this._is_after_recreate=true;this._recreate();this._after_recreate=false;this._is_after_recreate=false;}if(this._currentCellEditor&&this._currentCellEditor._user_push){this._currentCellEditor._user_push=false;this._currentCellEditor._stat_change("focus","focused");this._currentCellEditor._is_pushed_area=false;this._currentCellEditor._is_push=false;}};_pGrid._on_last_keyup=function(_a){this._is_down_act=false;this._clearDestroyEditor(true);this._setdataobj=null;var _b=this._after_recreate_contents_all;if(_b!=null){this._is_after_recreate=true;this._recreate_contents_all(_b[0],_b[1],_b[2],_b[3],_b[4]);this._after_recreate_contents_all=null;this._is_after_recreate=false;if(this.autoenter=="select"){if(this._is_data_enter_apply){this._is_data_enter_apply=false;}else{if(!this._showEditing){this._showEditor();}}}}if(this._after_recreate){this._is_after_recreate=true;this._recreate();this._after_recreate=false;this._is_after_recreate=false;var _c=this._dsRowToDispRow(this._rowposition);this._jumpCurrentRow(_c);}};_pGrid._common_fire_sys_lbuttonup=function(_a,_b,_c,_d){if(!this._is_alive){return;}if(!this.enable){return true;}if(_a&&_a._type_name=="GridCell"){var _e=this._getDataRow(_a._rowidx);if(this._isFakeCell(_e)){this._is_drag_selectstart=false;this._is_drag_selecting=false;this._is_drag_sameselect=false;return true;}if(_c==false&&_d==false&&this._is_drag_selecting==false&&_e>=0){if(this._isMultiSelected()){if(this._isIncludeSelectpos(_a._cellidx,_e)){this._clrMultiSelect();this._refreshAll(true);this._ChangeSelect(this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.curdsrow,this._selectinfo.cursubrow,this._selectinfo.curpvt,false,this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.curdsrow,this._selectinfo.cursubrow,this._selectinfo.curpvt,"body","lbuttonup");}}}}this._is_drag_selectstart=false;this._is_drag_selecting=false;this._is_drag_sameselect=false;this._execRefreshContents("colsizing",false,true);this._execRefreshContents("rowsizing",false,false);this._execRefreshContents("cellmoving",true);this._exeFuncQueue("colsizing");this._exeFuncQueue("rowsizing");};_pGrid._is_down_act=false;_pGrid._cancelEvent=function(_a){this._endExtraTrack();this._is_drag_selectstart=false;this._is_drag_selecting=false;this._is_down_act=this._isDownActionKeyMouse();this._setdataobj=null;this._focus_proc=null;var _b=this._getWindow();nexacro._cur_drag_info=null;nexacro._cur_repeat_info=null;nexacro._cur_track_info=null;_b._cur_ldown_elem=null;_b._keydown_element=null;};_pGrid.on_fire_user_ontouchend=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchend(_a,_b,_c,_d,true,_e);};_pGrid.on_fire_sys_ontouchend=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchend(_a,_b,_c,_d,false,_e);};_pGrid.on_fire_ontouchend=function(_a,_b,_c,_d,_e,_f){var _g=_d;_g=this._findCellObj(_g);this._recalcTouchInfosXY(_g,_b,_f,_d);var _h;if(_g&&_g._type_name=="GridCell"){if(_g.parentcell){_h=_g;_g=_g.parentcell;}}var _i=false;if(this.ontouchend&&this.ontouchend._has_handlers){var _j=this._makeEventInfo(_g,_h,_d);var _k=_j.cell;var _l=_j.col;var _m=_j.mergecell;var _n=_j.mergecol;var _o=_j.mergerow;var _p=_j.pivotindex;var _q=_j.row;var _r=_j.subrow;var _s=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);if(_e){_i=this.ontouchend._fireUserEvent(this,_s);}else{_i=this.ontouchend._fireSysEvent(this,_s);}}if(!_e){this._common_fire_sys_lbuttonup(_g,false,false,false);}return _i;};_pGrid._isCheckAlive=function(_a){var _b=_a;while(_b!=this){if(!_b||_b._is_alive==false){return false;}_b=_b.parent;}return true;};_pGrid._on_afterHideWaitComp=function(_a){if(this._currentCellEditor){this._currentCellEditor._setFocus(false);}};_pGrid.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){return this.on_fire_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true,_n);};_pGrid.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){return this.on_fire_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,_n);};_pGrid.on_fire_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this._focus_proc){if(!this._showEditing){if(this._isCheckAlive(this._focus_proc.parent)){var _p=false;if(this._scrollpixel=="all"){_p=true;}this._focus_proc.parent._showfull(_p);this._focus_proc.parent._setFocus(false);}}else if(this._currentCellEditor.setCaretPos){if(this._currentCellEditor.autoselect){this._currentCellEditor.setSelect(0, -1);}else{this._currentCellEditor.setCaretPos(0);}}this._focus_proc=null;}var _q=_l;_q=this._findCellObj(_q);var _r;if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_r=_q;_q=_q.parentcell;}}var _s=this._recalcXY(_q,_g,_h,_o,_l);_g=_s.canvasX;_h=_s.canvasY;_i=_s.clientX;_j=_s.clientY;var _t=false;if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _u=this._makeEventInfo(_q,_r,_l);var _v=this._getRootComponent(_l);var _w=_u.cell;var _x=_u.col;var _y=_u.mergecell;var _z=_u.mergecol;var _aa=_u.mergerow;var _ab=_u.pivotindex;var _ac=_u.row;var _ad=_u.subrow;var _ae=new nexacro.GridMouseEventInfo(_v,"onlbuttonup",_w,_x,_y,_z,_aa,_ab,_ac,_ad,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_n){_t=this.onlbuttonup._fireUserEvent(this,_ae);}else{_t=this.onlbuttonup._fireSysEvent(this,_ae);}}if(!_n){if(_q){if(this.selectchangetype=="up"){if(this.selecttype!="area"&&this.selecttype!="multiarea"){if(!this._is_drag_selecting){this._mouseSelection(_q,_c,_d,_g,_h,_k,_l);this._endExtraTrack();}}}}this._common_fire_sys_lbuttonup(_q,_b,_c,_d);this._resizerStart(_g,_h,_q,"up",_l);}return _t;};_pGrid.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_l;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false,_l);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_l);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onrbuttonup",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onrbuttonup._fireUserEvent(this,_z);}return false;};_pGrid.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);};_pGrid.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);};_pGrid.on_fire_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;_n=this._findCellObj(_n);var _o;if(_n&&_n._type_name=="GridCell"){if(_n.parentcell){_o=_n;_n=_n.parentcell;}}var _p=this._recalcXY(_n,_g,_h,false,_l);_g=_p.canvasX;_h=_p.canvasY;_i=_p.clientX;_j=_p.clientY;var _q=false;if(this.onmouseup&&this.onmouseup._has_handlers){var _r=this._makeEventInfo(_n,_o,_l);var _s=this._getRootComponent(_k);var _t=_r.cell;var _u=_r.col;var _v=_r.mergecell;var _w=_r.mergecol;var _x=_r.mergerow;var _y=_r.pivotindex;var _z=_r.row;var _aa=_r.subrow;var _ab=new nexacro.GridMouseEventInfo(_s,"onmouseup",_t,_u,_v,_w,_x,_y,_z,_aa,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_m){_q=this.onmouseup._fireUserEvent(this,_ab);}else{_q=this.onmouseup._fireSysEvent(this,_ab);}}return _q;};_pGrid.on_fire_user_onlongpress=function(_a,_b,_c,_d){var _e=_d;_e=this._findCellObj(_e);this._recalcTouchInfosXY(_e,_b,false,_d);var _f=nexacro._getFirstTouchInfo(_b);var _g;if(_e&&_e._type_name=="GridCell"){if(_e.parentcell){_g=_e;_e=_e.parentcell;}}var _h=false;if(this.onlongpress&&this.onlongpress._has_handlers){var _i=this._makeEventInfo(_e,_g,_d);var _j=_i.cell;var _k=_i.col;var _l=_i.mergecell;var _m=_i.mergecol;var _n=_i.mergerow;var _o=_i.pivotindex;var _p=_i.row;var _q=_i.subrow;var _r=new nexacro.GridLongPressEventInfo(this,"onlongpress",_b,_c,_d,_j,_k,_p,_q,_o,_l,_m,_n);return this.onlongpress._fireUserEvent(this,_r);}return false;};_pGrid._resizerStart=function(_a,_b,_c,_d,_e){if(this._movingcell){return;}var _f=this._resizer_colctrl;var _g=this._resizer_rowctrl;if((_f&&_f._is_tracking)||(_g&&_g._is_tracking)){return;}var _h=_a;var _i=_b;var _j=_c._rowidx;var _k=_c._cellidx;if(_c._is_alive==false){if(_j== -1){_c=this._getCurrentHeadCell(_k,true);}else{_c=this._getCurrentBodyCell(_j,_k);}}if(!_c){return;}var _l=(_c._refobj)?_c._refobj._area:"";var _m=(_c._band)?_c._band.id:"";if(_l=="body"){_h+=this._getScrollLeft();}if(_m=="body"){if(!_c.parent._fixed){_i+=this._getScrollTop();}}var _n=false;if(_f&&!_f._is_tracking){var _o=nexacro._getCachedValueObj("col-resize");var _p=this._resizerColRange;var _q=_p.length;if(_q>0){_f._is_range=false;for(var _s=0;_s<_q;_s++ ){var _r=_p[_s];if(_h>=_r.left&&_h<=_r.right){if(_l!=_r.area){continue;}if(_i>=_r.top&&_i<=_r.bottom){this.a=_h;_f._is_range=true;_f._setIndex(_r.index);this._setGlobalCursor(_o,_c);_n=true;break;}}}}if(!_f._is_range&&!_f._is_tracking&&(!_g||!_g._is_tracking)){if(_c._type_name!="GridCell"){this._setGlobalCursor(null,_e);}else{this._setGlobalCursor(null,_c);}_n=false;}else if(_f._is_tracking){this._setGlobalCursor(_o,_c);_n=true;}}if(_n){return;}if(_g&&!_g._is_tracking){var _o=nexacro._getCachedValueObj("row-resize");var _p=this._resizerRowRange;var _q=_p.length;if(_q>0){_g._is_range=false;for(var _s=0;_s<_q;_s++ ){var _r=_p[_s];if(_i>=_r.top&&_i<=_r.bottom){if(_m!=_r.area){continue;}if(_h>=_r.left&&_h<=_r.right){_g._is_range=true;_g._setIndex(_r.index);this._setGlobalCursor(_o,_c);break;}}}}if(!_g._is_range&&!_g._is_tracking&&(!_f||!_f._is_tracking)){if(_c._type_name!="GridCell"){this._setGlobalCursor(null,_e);}else{this._setGlobalCursor(null,_c);}}else if(_g._is_tracking){this._setGlobalCursor(_o,_c);}}};_pGrid.on_fire_user_ontouchmove=function(_a,_b,_c,_d){var _e=_d;_e=this._findCellObj(_e);this._recalcTouchInfosXY(_e,_b,false,_d);var _f;if(_e&&_e._type_name=="GridCell"){if(_e.parentcell){_f=_e;_e=_e.parentcell;}}var _g=false;if(this.ontouchmove&&this.ontouchmove._has_handlers){var _h=this._makeEventInfo(_e,_f,_d);var _i=_h.cell;var _j=_h.col;var _k=_h.mergecell;var _l=_h.mergecol;var _m=_h.mergerow;var _n=_h.pivotindex;var _o=_h.row;var _p=_h.subrow;var _q=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);_g=this.ontouchmove._fireUserEvent(this,_q);}return _g;};_pGrid.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!_l._is_alive){return;}var _m=_l;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false,_l);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;var _p=false;if(this.onmousemove&&this.onmousemove._has_handlers){var _q=this._makeEventInfo(_m,_n,_l);var _r=this._getRootComponent(_l);var _s=_q.cell;var _t=_q.col;var _u=_q.mergecell;var _v=_q.mergecol;var _w=_q.mergerow;var _x=_q.pivotindex;var _y=_q.row;var _z=_q.subrow;var _aa=new nexacro.GridMouseEventInfo(_r,"onmousemove",_s,_t,_u,_v,_w,_x,_y,_z,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);_p=this.onmousemove._fireUserEvent(this,_aa);}if(!nexacro.isTouchInteraction){this._resizerStart(_g,_h,_m,"move",_l);}return _p;};_pGrid._prevAreaCellObj=null;_pGrid._areaselectMove=function(_a,_b,_c){if(this._is_drag_selectstart&&!this._showEditing){var _d=_a;_d=this._findCellObj(_d);var _e,_f;if(_d&&_d._type_name=="GridCell"){if(_d.parentcell){_e=_d;_d=_d.parentcell;}var _g=this._recalcXY(_d,_b,_c,false,_a);_b=_g.canvasX;_c=_g.canvasY;clientX=_g.clientX;clientY=_g.clientY;if((this._prevAreaCellObj==_d)&&!this._fixed_row_scrolling){return;}_f=_d._refobj._area;var _h=this._getDataRow(_d._rowidx);if(_h==undefined){_h=0;}if(this._isFakeCell(_h)||_h<0){return true;}var _i=this._beforebodycellpos=this._selectinfo.curcell;var _j=this._beforebodycolpos=this._selectinfo.curcol;var _k=this._beforebodyrowpos=this._selectinfo.curdsrow;var _l=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _m=this._beforepvt=this._selectinfo.curpvt;var _n=_d._cellidx;var _o=_d._refobj._col;var _p=_h;var _q=_d._refobj._row;var _r= -9;if(_e){_o+=_e._refobj._col;}if(this._fixed_rowcnt>0){var _s=this._fixed_startrow;var _t=this._fixed_endrow;var _u=this._selectinfo;if(_u.area.length>0){var _v=_u.area[_u.area.length-1];var _w=_v.begrow;var _x=_v.endrow;var _y=this.vscrollbar.pos;var _z=this._getScrollTop();var _aa="";if(_p<_k){_aa="up";}else if(_p>_k){_aa="down";}else{_aa="keep";}if(_aa=="up"){this._fixed_row_scrolling=true;if(_x>_p&&_p<=_t&&_x>_t){this.vscrollbar.set_pos(_y-1);}else{this._fixed_row_scrolling=false;}}else if(_aa=="down"){if(_w<=this._fixed_endrow&&_x<=this._fixed_endrow){this._fixed_row_scroll_zeroset=true;}else{this._fixed_row_scroll_zeroset=false;}if(this._fixed_row_scroll_zeroset&&_p&&(_p<=0||(_p<=this._fixed_endrow&&_x>this._fixed_endrow)||(_p>this._fixed_endrow&&_w<=this._fixed_endrow))){if(_y>0){this.vscrollbar.set_pos(0);this._fixed_row_scroll_zeroset=false;return;}}}else{if(_y==0){this._fixed_row_scrolling=false;}else if(this._fixed_row_scrolling){this.vscrollbar.set_pos(_y-1);}}}}if(this._fixed_rowcnt>0){var _s=this._fixed_startrow;var _t=this._fixed_endrow;var _u=this._selectinfo;if(_u.area.length>0){var _v=_u.area[_u.area.length-1];var _w=_v.begrow;var _x=_v.endrow;var _y=this.vscrollbar.pos;var _z=this._getScrollTop();var _aa="";if(_p<_k){_aa="up";}else if(_p>_k){_aa="down";}else{_aa="keep";}if(_aa=="up"){this._fixed_row_scrolling=true;if(_x>_p&&_p<=_t&&_x>_t){this.vscrollbar.set_pos(_y-1);}else{this._fixed_row_scrolling=false;}}else if(_aa=="down"){if(_w<=this._fixed_endrow&&_x<=this._fixed_endrow){this._fixed_row_scroll_zeroset=true;}else{this._fixed_row_scroll_zeroset=false;}if(this._fixed_row_scroll_zeroset&&_p&&(_p<=0||(_p<=this._fixed_endrow&&_x>this._fixed_endrow)||(_p>this._fixed_endrow&&_w<=this._fixed_endrow))){if(_y>0){this.vscrollbar.set_pos(0);this._fixed_row_scroll_zeroset=false;return;}}}else{if(_y==0){this._fixed_row_scrolling=false;}else if(this._fixed_row_scrolling){this.vscrollbar.set_pos(_y-1);}}}}while(true){if(this.selecttype=="multirow"&&_p==_k){break;}this._setSelectedInfo(_n,_o,_p,_q,_r);this._ChangeSelect(_n,_o,_p,_q,_r,false,_i,_j,_k,_l,_m,_d._band.id,"mousemove");break;}if(!nexacro._enableaccessibility){_d._no_dom_focus=true;_d._setFocus(false);_d._no_dom_focus=false;}this._prevAreaCellObj=_d;}}};_pGrid._on_start_extratrack=function(_a,_b,_c,_d,_e){var _f=this._getScrollLeft();var _g=this._getScrollTop();this._track_point.x=_c;this._track_point.y=_d;this._track_point.w=0;this._track_point.h=0;this._track_point.cur_rect={l:0,t:0,w:0,h:0};this._track_start_info={};this._track_start_info.target=this._lastmouseentercell;this._track_start_info.cell_screenX=system.clientToScreenX(this._lastmouseentercell,0);this._track_start_info.cell_screenY=system.clientToScreenY(this._lastmouseentercell,0);var _h=this._getOwnerFrame();if(_h&&(_h._window_type==1||_h._window_type==4||_h._window_type==5)){var _i=this._lastmouseentercell._adjust_left;var _j=this._lastmouseentercell._adjust_top;var _k=this._lastmouseentercell.parent;while(_k){if(_k._is_frame){break;}_i+=_k._adjust_left;_j+=_k._adjust_top;_k=_k.parent;}var _l=system.clientToScreenX(_h,0);var _m=system.clientToScreenY(_h,0);if(_l==0&&_h._adjust_left<0){_l=_h._adjust_left;}if(_m==0&&_h._adjust_top<0){_m=_h._adjust_top;}this._track_start_info.cell_screenX=_l+_i;}this._track_start_info.start_screenX=_c;this._track_start_info.start_screenY=_d;this._track_start_info.scrollLeft=_f;this._track_start_info.scrollTop=_g;this._track_start_info._start_begarea=this._selectinfo.arearect.barea;this._track_start_info._start_endarea=this._selectinfo.arearect.earea;var _n=this._getSelectRect(false,true);var _o=this._getExtraTrackSelectRect(_c,_d,0,0,true);if(!_e){this._startAreaSizing(_o,_o.idx);}this._track_mode="areaselect";};_pGrid._on_move_extratrack=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._getRootComponent(_a);if(!_a||(this._showEditing==false&&(_h!=this||_a&&(_h==this&&_a instanceof nexacro.GridCell&&(_a._band.id=="head"||_a._band.id=="summ"))||(_h==this&&_a instanceof nexacro.GridRow&&_a._band.id=="body")||(_h==this&&_a.id=="body")))){var _i=this._getExtraTrackSelectRect(_f,_g,_d,_e,false);var _j=_i.idx;var _k=this._getTrackType(this._track_start_info,_i.l,_i.t,_i.w,_i.h,_j,false);var _l=this._selectinfo.area;if(this._fixed_rowcnt>0&&_l.length){var _m=_l[_l.length-1];var _n=_m.begrow;var _o=_m.endrow;var _p=this._selectinfo.ctrlpoint;var _q=_p.row;var _r=_p.col;var _s=this.currentstyle.border;var _t=(_s)?parseInt(_s.right_width,10):0;var _u=this._getHeadHeight();var _v=this._fixed_height;var _w=_u+_v+_t;var _x=this._fixed_startrow;var _y=this._fixed_endrow;var _z=_i.t;var _aa=_i.h;var _ab=this._getScrollTop();var _ac=this.vscrollbar;if(_n<=_y&&_o<=_y&&_ab>0&&(_z+_aa)>_w){_ac.set_pos(0);}else if(_n<=_y&&_o>=_y&&_ab>0&&(_z+_aa)<=_w){_ac.set_pos(_ac.pos-1);}else if(_p.row>_y&&_ab>0&&_z<=_w){_ac.set_pos(_ac.pos-1);}}this._applySelectorScroll(_k.type);this._applyAreaSizing(_i,_j);var _ad=this._getSelectRect(false,true);this._extratrack_typeinfo=_k;this._extratrack_rectinfo=_i;this._extratrack_idx=_j;var _ae=500;var _af=10;function getTimerInterval(_a){var _ah=_ae;var _ai=nexacro.System.clientToScreenX(_a,0);var _aj=nexacro.System.clientToScreenY(_a,0);var _ak=_a._getOwnerFrame();if(_ak&&(_ak._window_type==1||_ak._window_type==4)){var _al=_a._adjust_left;var _am=_a._adjust_top;var _an=_a.parent;while(_an){if(_an._is_frame){break;}_al+=_an._adjust_left;_am+=_an._adjust_top;_an=_an.parent;}var _ao=system.clientToScreenX(_ak,0);var _ap=system.clientToScreenY(_ak,0);if(_ao==0&&_ak._adjust_left<0){_ao=_ak._adjust_left;}if(_ap==0&&_ak._adjust_top<0){_ap=_ak._adjust_top;}_ai=_ao+_al;}var _aq=_ai+parseInt(_a._adjust_width);var _ar=_aj+parseInt(_a._adjust_height);var _as=(_f<_ai)?(_ai-_f):(_f-_aq);var _at=(_g<_aj)?(_aj-_g):(_g-_ar);if(_as>=0){_ah=_ah-(_as*10);return _ah>0?_ah:1;}if(_at>=0){_ah=_ah-(_at*10);return _ah>0?_ah:1;}return  -1;}var _ag=getTimerInterval(this);if(_ag>0&&_ag<_af){_ag=_af;}if(_ag>0){if(!this._extratrack_timer){this._extratrack_timer={};this._extratrack_timer._handle=null;this._extratrack_timer._interval=_ag;this._extratrack_timer._handle=new nexacro.CallbackTimer(this,function(){this._applySelectorScroll(this._extratrack_idx,this._extratrack_typeinfo.type);this._applyAreaSizing(this._extratrack_rectinfo,this._extratrack_idx);var _ad=this._getSelectRect(false,true);},_ag);this._extratrack_timer._handle.start();}else{if(this._extratrack_timer&&this._extratrack_timer._interval!=_ag){if(_ag>0){this._extratrack_timer._interval=_ag;this._extratrack_timer._handle.setInterval(_ag);this._extratrack_timer._handle.start();}else{this._extratrack_timer._handle.stop();}}}}}else{if(this._extratrack_timer){this._extratrack_timer._handle.stop();}}};_pGrid._on_end_extratrack=function(_a,_b,_c){this._track_start_info=null;this._track_idx= -1;this._track_mode="";if(this._extratrack_timer){this._extratrack_timer._handle.stop();this._extratrack_timer._handle=null;this._extratrack_timer=null;}var _d=this._getSelectRect(false,true);};_pGrid._endExtraTrack=function(){this._on_end_extratrack();nexacro._cur_extra_track_info=null;};_pGrid._trackingHScroll=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=[0,0];if(!this.hscrollbar){return _j;}var _k=this.hscrollbar;if(_a==0||_a==2){if(_d=="right"){if(_b<_g&&_b>_f){_k._set_pixelpos(_i);}}else if(_d=="left"){if(_b>_f&&_b<_g){_k._set_pixelpos(0);_j[1]=_h;}}}else{if(_e=="left"){if(_c>_f&&_c<_g){_k._set_pixelpos(0);}}else if(_e=="right"){if(_c<_g&&_c>_f){_k._set_pixelpos(_i);_j[0]=_h-_i;_j[1]=_i-_h;}}}return _j;};_pGrid._getTrackType=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j,_k;var _l=this;var _m=_l._curFormat;var _n=["",""];var _o=_l._selectinfo.ctrlpoint.area;var _p=_m.leftWidth;var _q=_l._client_width-_m.rightWidth;var _r=_m.leftWidth+_m.bodyWidth;var _s=_l._getScrollLeft();var _t=_l._getScollMaxLeft();var _u=_b+_d;var _v=_l._getHeadHeight();var _w=_l._fixed_height;var _x=_v+_w;if(_g){if(_o=="left"){_h=0;_i=_p;}else if(_o=="right"){_h=_q;_i=_l._client_width;}else{_h=_p;_i=(_r<_q)?_r:_q;}}else{var _y=this._trackingHScroll(_f,_b,_u,_p,_a._start_begarea,_a._start_endarea,_q,_s,_t);_b+=_y[0];_d+=_y[1];_u=_b+_d;if(_o=="left"){_h=0;if(_s==_t){_i=(_r<_l._client_width)?_r:_l._client_width;}else{_i=(_r<_q)?_r:_q;}}else if(_o=="right"){if(_s==0){_h=0;}else{_h=_p;}_i=_l._client_width;}else{if(_s==0){_h=0;}else{_h=_p;}if(_s==_t){_i=(_r<_l._client_width)?_r:_l._client_width;}else{_i=(_r<_q)?_r:_q;}}}_j=this._bodyBand._adjust_top;_k=this._bodyBand._getPosBottom();if(_f==0){if(_b<_h){_d-=(_h-_b);_b=_h;if(this._start_begarea!="left"){_n[0]="leftover0";}}else if(_b>_i||(_s<_t&&_b>_q)){_n[0]="rightover0";}if(_l._fixed_rowcnt>0){if(_c<(_w+_v)){_n[1]="topover0";}else if(_c>_k){_n[1]="bottomover0";}}else{if(_c<_j){_e-=(_j-_c);_c=_j;_n[1]="topover0";}else if(_c>_k){_n[1]="bottomover0";}}if(_d<=0){_b+=_d-1;}if(_e<=0){_c+=_e-1;}}else if(_f==1){var _z=_b+_d,_aa=_c+_e;if(_z<_h||(_s>0&&_z<_p)){_n[0]="leftover1";}else if(_z>_i){_d=_i-_b;if(this._start_endarea!="right"){_n[0]="rightover1";}}if(_aa<_j){_n[1]="topover1";}else if(_aa>_k){_e=_k-_c;_n[1]="bottomover1";}}else if(_f==2){var _aa=_c+_e;if(_b<_h){_d-=(_h-_b);_b=_h;if(this._start_begarea!="left"){_n[0]="leftover0";}}else if(_b>_i||(_s<_t&&_b>_q)){_n[0]="rightover0";}if(_aa<_j||_aa>_x){_n[1]="topover1";}else if(_aa>_k){_e=_k-_c;_n[1]="bottomover1";}}else if(_f==3){var _z=_b+_d;if(_z<_h||(_s>0&&_z<_p)){_n[0]="leftover1";}else if(_z>_i){_d=_i-_b;if(this._start_endarea!="right"){_n[0]="rightover1";}}if(_c<_j){_n[1]="topover1";}else if(_c>_k){_e=_k-_c;_n[1]="bottomover1";}}return {type:_n,adjust_l:_b,adjust_t:_c,adjust_w:_d,adjust_h:_e};};_pGrid._getExtraTrackSelectRect=function(_a,_b,_c,_d,_e){var _f=1;var _g=this._track_start_info;var _h=_g.start_screenX;var _i=_g.start_screenY;var _j=_g.cell_screenX;var _k=_g.cell_screenY;var _l=_g.scrollLeft;var _m=_g.scrollTop;var _n=_g.target.width;var _o=_g.target.height;var _p=_g.target._rowidx;var _q=_k-_i;var _r=_k-_i+_o;var _s=_h-_j;var _t=_j-_h+_n;var _u=this._getScrollLeft();var _v=this._getScrollTop();var _w=_u-_l;var _x=_v-_m;var _y=_x;var _z=system.clientToScreenX(this,0);var _aa=system.clientToScreenY(this,0);var _ab=this._getOwnerFrame();if(_ab&&(_ab._window_type==1||_ab._window_type==4||_ab._window_type==5)){var _ac=this._adjust_left;var _ad=this._adjust_top;var _ae=this.parent;while(_ae){if(_ae._is_frame){break;}_ac+=_ae._adjust_left;_ad+=_ae._adjust_top;_ae=_ae.parent;}var _af=system.clientToScreenX(_ab,0);var _ag=system.clientToScreenY(_ab,0);if(_af==0&&_ab._adjust_left<0){_af=_ab._adjust_left;}if(_ag==0&&_ab._adjust_top<0){_ag=_ab._adjust_left;}_z=_af+_ac;}var _ah=true;if(this._fixed_rowcnt>0&&_p>=this._fixed_startrow&&_p<=this._fixed_endrow){_ah=false;}if(!_ah){_y=0;}if(_a<(_h-_w)&&_b<(_i-_y)){_f=0;}else if(_a>(_h-_w)&&_b>(_i-_y)){_f=1;}else if(_a<(_h-_w)&&_b>(_i-_y)){_f=2;}else if(_a>(_h-_w)&&_b<(_i-_y)){_f=3;}var _ai=_c;var _aj=_d;var _ak=new Array(2);var _al=this.currentstyle.border;var _am=(_al)?parseInt(_al.left_width,10):0;var _an=(_al)?parseInt(_al.right_width,10):0;var _ao=(_al)?parseInt(_al.right_width,10):0;var _ap=(_al)?parseInt(_al.right_width,10):0;var _aq,_ar,_as,_at;if(_f==0){_aq=this._track_point.x-_z+_ai;_ar=this._track_point.y-_aa+_aj;_as= -(_ai);_at= -(_aj)-(_ah?_x:0);}else if(_f==1){_aq=this._track_point.x-_z-_w;_ar=this._track_point.y-_aa-(_ah?_x:0);_as=_ai+_w;_at=_aj+(_ah?_x:0);}else if(_f==2){_aq=this._track_point.x-_z+_ai;_ar=this._track_point.y-_aa-(_ah?_x:0);_as= -(_ai)-_w;_at=_aj+(_ah?_x:0);}else if(_f==3){_aq=this._track_point.x-_z-_w;_ar=this._track_point.y-_aa+_aj;_as=_ai+_w;_at= -(_aj)-(_ah?_x:0);}return {idx:_f,l:_aq,t:_ar,w:_as,h:_at};};_pGrid.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this.enable){return true;}return this._areaselectMove(_l,_g,_h);};_pGrid._setSelectedInfo=function(_a,_b,_c,_d,_e,_f){if(_a!==null){this._selectinfo.curcell=_a;}if(_b!==null){this._selectinfo.curcol=_b;}if(_c!==null){this._selectinfo.curdsrow=_c;this._selectinfo.currow=(_c<0)?_c:this._getTreeRowPosition(_c);}if(_d!==null){this._selectinfo.cursubrow=_d;}if(_e!==null){this._selectinfo.curpvt=_e;}if(this._currentBand=="body"){if(_a!==null){this.currentcell=_a;}if(_b!==null){this.currentcol=_b;}if(_c!==null){this._currentDSrow=_c;this.currentrow=(_c<0)?_c:this._getTreeRowPosition(_c);}if(_d!==null){this.currentsubrow=_d;}if(_e!==null){this.currentpivot=_e;}}if(_f){this._selectinfo.areainfo=null;this._selectinfo.areainfo={srow:_f.srow,erow:_f.erow,scell:_f.scell,ecell:_f.ecell,scol:_f.scol,ecol:_f.ecol,ssubrow:_f.ssubrow,esubrow:_f.esubrow,spvt:_f.spvt,epvt:_f.epvt};}};_pGrid._is_drag_selecting=false;_pGrid._on_grid_lbuttondown=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}if(!this.enable){return true;}var _f=this._getDataRow(_a._rowidx);if(_f==undefined){_f=0;}if(this._isFakeCell(_f)||_f<0){return true;}var _g=this._beforebodycellpos=this._selectinfo.curcell;var _h=this._beforebodycolpos=this._selectinfo.curcol;var _i=this._beforebodyrowpos=this._selectinfo.curdsrow;var _j=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _k=this._beforepvt=this._selectinfo.curpvt;var _l=_a._cellidx;var _m=_a._refobj._col;var _n=_f;var _o=_a._refobj._row;var _p= -9;var _q=_a.parentcell;this._prevAreaCellObj=_a;if(_q){_l=_q._cellidx;_m+=_q._refobj._col;this._prevAreaCellObj=_q;}if(!_e){this._setSelectedInfo(_l,_m,_n,_o,_p);}if(_c==true){if(this._isMultiSelect()){this._multiselect="ctrl";}else{this._multiselect="none";}}else if(_d==true){if(this._isMultiSelect()||this._isAreaSelect()){this._multiselect="shift";}else{this._multiselect="none";}}else{if(this._multiselect!="none"){this._selectClear=true;}this._multiselect="none";}if((this._isAreaSelect()||this._isMultiSelect())&&!nexacro.isTouchInteraction){this._is_drag_selectstart=true;}var _r=false;if(!_e){_r=this._ChangeSelect(_l,_m,_n,_o,_p,false,_g,_h,_i,_j,_k,_b,"lbuttondown");}if(!_r){if(!this._isIncludeSelectpos(_l,_n)){this._is_drag_selectstart=false;}this._is_drag_sameselect=true;}if(this._is_drag_selectstart){var _s=this._getWindow();if(!nexacro.isTouchInteraction&&(this._isAreaSelect()||this.selecttype=="multirow")){if(nexacro.Browser=="Runtime"){var _t=this._getOwnerFrame();if(_t._window_type!=1&&_t._window_type!=4&&_t._window_type!=5){_t=application.mainframe;}var _u=system.clientToScreenX(_t,0)+_s._curWindowX-((_t._adjust_left>=0)?_t._adjust_left:0);var _v=system.clientToScreenY(_t,0)+_s._curWindowY-((_t._adjust_top>=0)?_t._adjust_top:0);nexacro._setExtraTrackInfo(_s,this,_s._curWindowX,_s._curWindowY,_u,_v,_d||_e);}else{nexacro._setExtraTrackInfo(_s,this,_s._curWindowX,_s._curWindowY,_s._cur_screen_pos.x,_s._cur_screen_pos.y,_d||_e);}}}return _r;};_pGrid.on_fire_onselectchanged=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.onselectchanged&&this.onselectchanged._has_handlers){var _t=new nexacro.GridSelectEventInfo(_a,"onselectchanged",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s);return this.onselectchanged._fireEvent(this,_t);}return true;};_pGrid.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){if(!this.enable){return true;}if(_d==false&&_c==false){if(_a!=nexacro.Event.KEY_SHIFT&&_a!=nexacro.Event.KEY_CTRL){this._multiselect="none";}}this._keydown_elem=null;var _g=nexacro.Component.prototype.on_fire_user_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(!this._is_alive){return _g;}if(_a==nexacro.Event.KEY_RIGHT&&_b){var _h=this._curFormat;if(_h){var _i=_h._bodycells;if(_i&&_i.length){var _j=this._getBodyCellInfo(this._selectinfo.curcell);if(_j){var _k=_j._getAttrValue(_j.expandshow,this._selectinfo.curdsrow);if(_k=="show"){if(this.onkeyup&&this.onkeyup.defaultprevented==true){}else{this.on_fire_onexpandup("none",_b,_c,_d, -1, -1, -1, -1, -1, -1,_e,_f);}}}}}}return _g;};_pGrid.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this._is_down_act){this._on_last_keyup(true);}};_pGrid.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.AccessibilityUtil.checkComponentHotkey(this,_a,_b,_c,_d);if(_g){this._hideEditor();var _h=this.currentrow;switch(_g){case nexacro.AccessibilityUtil.Hotkey.FIRSTCELL:this.currentcell=0;this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}this._setAccessibilityBandFocus("next",false,true);break;case nexacro.AccessibilityUtil.Hotkey.LASTCELL:this.currentcell=this._getAccessibilityCellIndex()-1;this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(this.vscrollbar._max);}this._setAccessibilityBandFocus("prev",false,true);break;case nexacro.AccessibilityUtil.Hotkey.FIRSTCELLINROW:this.currentcol=0;if(nexacro._enableaccessibility){this._moveToPosAccessibilityCell(_h,0);}else{this._moveToPosCell(_h,0);}break;case nexacro.AccessibilityUtil.Hotkey.LASTCELLINROW:this.currentcol=this._curFormat._cols.length-1;if(nexacro._enableaccessibility){this._moveToPosAccessibilityCell(_h,this.currentcol);}else{this._moveToPosCell(_h,this.currentcol);}break;case nexacro.AccessibilityUtil.Hotkey.FIRSTCELLINCOLUMN:this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}if(nexacro._enableaccessibility){this._setAccessibilityBandFocus("next",false,true);}else{this._moveToPosCell(0,this.currentcol);}break;case nexacro.AccessibilityUtil.Hotkey.LASTCELLINCOLUMN:this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(this.vscrollbar._max);}if(nexacro._enableaccessibility){this._setAccessibilityBandFocus("prev",false,true);}else{this._moveToPosCell(this._rowcount-1,this.currentcol);}break;}return true;}if(!this.enable){return true;}if(_a!=nexacro.Event.KEY_TAB){var _i=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if((this.onkeydown&&this.onkeydown.defaultprevented==true)||!this._is_alive){return _i;}}this._keydown_elem=this._getWindow()._keydown_element;var _j=false;if(this._isAreaSelect()){_j=true;}if(_d==true){if(_a==nexacro.Event.KEY_SHIFT){return _i;}if(this._isMultiSelect()||this._isAreaSelect()){this._multiselect="shift";}else{this._multiselect="none";}}else if(_c==true){if(_a==nexacro.Event.KEY_CTRL){return _i;}if(this._multiselect!="none"){this._selectClear=true;}this._multiselect="none";}else{if(this._multiselect!="none"){this._selectClear=true;}this._multiselect="none";}var _k=false;var _l=true;this._is_data_enter_apply=false;if(this.autoenter=="key"&&nexacro.Browser=="Runtime"){if(this._isChar(_a)||_a==25){if(!this._showEditing){this._showEditor();if(_a==nexacro.Event.KEY_ENTER){_k=true;}else{if(this._currentCellEditor&&this._currentCellEditor._set_absolutelyValue){this._currentCellEditor._set_absolutelyValue("");}}}}}if(_a==nexacro.Event.KEY_ENTER&&this._showEditing){var _m=this._currentCellEditor;var _n=_m._cellinfo._getEdittype(_m._cellobj._rowidx);var _o=_m._cellinfo._getAttrValue(_m._cellinfo.editacceptsenter);_o=nexacro._toBoolean(_o);if(_n=="textarea"&&((!_o&&(_b||_c||_d))||(_o&&!_b&&!_c&&!_d))){;}else if(_n=="text"||_n=="mask"||_n=="date"||_n=="combo"||_n=="masknumber"||_n=="textarea"){if(_m.calendaredit){_m.calendaredit._edit_base_api.syncValue();_m._fireKeydownEvent();}else if(_m.comboedit){_m.comboedit._edit_base_api.syncValue();}else{_m._edit_base_api.syncValue();}_k=true;_l=false;if((_f instanceof nexacro.ComboEditCtrl||_f instanceof nexacro.CalendarEditCtrl)&&_f.parent._isPopupVisible()){;}else{this._hideEditor();if(this._setdataobj&&this._setdataobj.succ==false){_l=true;}else{if(this.autoenter=="select"){this._is_data_enter_apply=true;}}}}}var _p=_f;var _q="";if(_a==nexacro.Event.KEY_UP){if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(_c){if(this.vscrollbar&&this.vscrollbar.enable){var _r;if(this._scrollpixel=="all"){_r=this.vscrollbar.pos-25;}else{_r=this.vscrollbar.pos-1;}if(_r<0){_r=0;}this.vscrollbar.set_pos(_r);}}else{if(nexacro._enableaccessibility){_i=this._moveToAccessibilityCell("up",false);}else{this._moveToCell("up");}}}}else if(_a==nexacro.Event.KEY_DOWN){if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(_c){var _r;if(this._scrollpixel=="all"){_r=this.vscrollbar.pos+25;}else{_r=this.vscrollbar.pos+1;}if(_r>this.vscrollbar.max){_r=this.vscrollbar.max;}this.vscrollbar.set_pos(_r);}else{if(nexacro._enableaccessibility){_i=this._moveToAccessibilityCell("down",false);}else{this._moveToCell("down");}}}}else if(_a==nexacro.Event.KEY_SPACE){if(!nexacro._enableaccessibility||nexacro._enableaccessibility&&this._currentBand=="body"){var _s=this._curFormat;if(_s){var _t=_s._bodycells;if(_t&&_t.length){var _u=_t[this._selectinfo.curcell];if(_u){var _v=_u._getEdittype(this._selectinfo.curdsrow);if(_v=="checkbox"&&nexacro._toBoolean(this.readonly)==false){if(this._toggleVal(this._selectinfo.curdsrow,_u)){this._jumpCurrentRow(this._selectinfo.currow);}}}}}}}else if(_a==nexacro.Event.KEY_ENTER){if(!nexacro._enableaccessibility||nexacro._enableaccessibility&&this._currentBand=="body"){{var _v="";if(_f._type_name=="GridCell"){_v=_f._refobj._getEdittype(_f._rowidx);_q=_f._refobj._getValue(_f._rowidx);if(_v=="checkbox"&&this.currentcol!=_f._refobj._col){_v="";}}else if(_f instanceof nexacro.GridControlCheckbox){_q=_f._cellinfo._getValue(_f._cellobj._rowidx);}else if(_f.parent instanceof nexacro.GridControlCheckbox){_q=_f.parent._cellinfo._getValue(_f.parent._cellobj._rowidx);}if(_f instanceof nexacro.GridControlEdit||_f instanceof nexacro.GridControlTextArea||_f instanceof nexacro.GridControlMaskEdit||_f instanceof nexacro.GridControlCheckbox||_f.parent instanceof nexacro.GridControlCheckbox||_v=="checkbox"||_f instanceof nexacro.GridControlCalendar||_f.parent instanceof nexacro.GridControlCalendar||_f instanceof nexacro.GridControlCombo||_f.parent instanceof nexacro.GridControlCombo){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_f instanceof nexacro.GridControlCombo){_p=_f.comboedit;}}if(this._showEditing||_v=="checkbox"){if(!_b&&!_c&&!_d){_k=true;}}else if(_l){nexacro.OnceCallbackTimer.callonce(this,function(){this._showEditor();},50);}}else{if(!this._showEditing){nexacro.OnceCallbackTimer.callonce(this,function(){this._showEditor();},50);}}}}}else if(_a==nexacro.Event.KEY_LEFT){var _s=this._curFormat;if(_s){var _t=_s._bodycells;if(_t&&_t.length){var _u=this._getBodyCellInfo(this._selectinfo.curcell);if(_u){var _v=_u._getEdittype(this._selectinfo.curdsrow);if(_v=="tree"&&this.treeuseexpandkey){this._is_editor_keyaction=false;this._setTreeState(this._selectinfo.currow,0,true);}else if(_v=="combo"&&_u._getAttrValue(_u.combotype,this._getDataRow(this._selectinfo.curdsrow))=="dropdown"){this._is_editor_keyaction=false;if(nexacro._enableaccessibility){_i=this._moveToAccessibilityCell("prev",false,undefined,_j);}else{this._moveToCell("prev",false,_j,undefined,undefined,true);}}}}if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(nexacro._enableaccessibility){_i=this._moveToAccessibilityCell("prev",false,undefined,_j);}else{this._moveToCell("prev",false,_j,undefined,undefined,true);}}}}else if(_a==nexacro.Event.KEY_RIGHT){var _s=this._curFormat;if(_s){var _t=_s._bodycells;if(_t&&_t.length){var _u=this._getBodyCellInfo(this._selectinfo.curcell);if(_u){var _v=_u._getEdittype(this._selectinfo.curdsrow);if(_v=="tree"&&this.treeuseexpandkey){this._is_editor_keyaction=false;this._setTreeState(this._selectinfo.currow,1,true);}else if(_v=="combo"&&_u._getAttrValue(_u.combotype,this._getDataRow(this._selectinfo.curdsrow))=="dropdown"){this._is_editor_keyaction=false;if(nexacro._enableaccessibility){_i=this._moveToAccessibilityCell("next",false,undefined,_j);}else{this._moveToCell("next",false,_j,undefined,undefined,true);}}else{var _w=_u._getAttrValue(_u.expandshow,this._selectinfo.curdsrow);if(_w=="show"&&_b){this._is_editor_keyaction=false;this.on_fire_onexpanddown("none",_b,_c,_d, -1, -1, -1, -1, -1, -1,_e,_f);}}}}if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(nexacro._enableaccessibility){_i=this._moveToAccessibilityCell("next",false,undefined,_j);}else{this._moveToCell("next",false,_j,undefined,undefined,true);}}}}else if(_a==nexacro.Event.KEY_PAGE_UP){if(this.vscrollbar&&this.vscrollbar.enable){var _r=this.vscrollbar._pos-this.vscrollbar.page;if(this._scrollpixel!="all"){_r=this.vscrollbar._scroll_reverse_convert(_r)[0];}if(_r<0){_r=0;}this.vscrollbar._setPos(_r,"pageup");}}else if(_a==nexacro.Event.KEY_PAGE_DOWN){if(this.vscrollbar&&this.vscrollbar.enable){var _r=this.vscrollbar._pos+this.vscrollbar.page;if(this._scrollpixel!="all"){_r=this.vscrollbar._scroll_reverse_convert(_r)[0];}if(_r>this.vscrollbar.max){_r=this.vscrollbar.max;}this.vscrollbar._setPos(_r,"pagedown");}}else if(_a==nexacro.Event.KEY_TAB){if(nexacro._enableaccessibility){if(_d){this._acceptstab=this._moveToAccessibilityCell("prev",true);}else{this._acceptstab=this._moveToAccessibilityCell("next",true);}}else{if(_d==true){this._acceptstab=this._moveToCell("prev",true,false,undefined,undefined,true);}else{this._acceptstab=this._moveToCell("next",true,false,undefined,undefined,true);}}if(this._acceptstab){var _i=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if((this.onkeydown&&this.onkeydown.defaultprevented==true)||!this._is_alive){return _i;}}this._keydown_elem._event_stop=true;return this._acceptstab;}else{if(this.autoenter=="key"&&nexacro.Browser=="Runtime"){if(this._isChar(_a)||_a==25){if(!this._showEditing){this._showEditor();if(nexacro.Browser=="Gecko"){if(_k){this.on_fire_onenterdown(_a,_b,_c,_d,_e,_p,_q);}return true;}else if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){}}}}}if(_k){this.on_fire_onenterdown(_a,_b,_c,_d,_e,_p,_q);}return _i;};_pGrid.on_fire_allclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x){if((this.onlbuttondown&&this.onlbuttondown.defaultprevented==true)||(this.onlbuttonup&&this.onlbuttonup.defaultprevented==true)){return;}if(this._down_scroll_top>=0&&this._down_scroll_top!=this._last_scroll_top){return;}var _y=this[_b];if(_y&&_y._has_handlers&&this.enableevent){var _z=new nexacro.GridClickEventInfo(_a,_b,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w);_z.clickitem=_c;return _y._fireEvent(this,_z);}return true;};_pGrid._getByteLength_UTF8=function(_a,_b,_c,_d){for(_b=_c=0;_d=_a.charCodeAt(_c++ );_b+=_d>>11?3:_d>>7?2:1){}return _b;};_pGrid.on_fire_cellclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(!this.enable){return true;}var _o=this._getDataRow(_a._rowidx);if(this._isFakeCell(_o)){return true;}var _p;if(_a.parentcell){_p=_a;_a=_a.parentcell;}var _q=this._recalcXY(_a,_i,_j,true,_n);_i=_q.canvasX;_j=_q.canvasY;_k=_q.clientX;_l=_q.clientY;if(nexacro.isTouchInteraction){if(_a._band.id=="body"){if(!(this._selectscrollmode=="select"&&this._isAreaSelect())){this._common_fire_sys_lbuttondown(_a,_e,_f,_i,_j,_m,_n);}}}var _r=this._beforebodycellpos;var _s=this._beforebodycolpos;var _t=this._beforebodyrowpos;var _u=this._beforebodysubrowpos;var _v=this._beforepvt;var _w=_a._cellidx;var _x=_a._refobj._col;var _y=_o;var _z=_a._refobj._row;var _aa= -9;var _ab=_a.parentcell;if(_p){_x+=_p._refobj._col;}var _ac=_n;var _ad=false;while(_ac&&_ac._type_name!="Grid"){if(_ac._displaymode==false&&!_ac._clickevt_able){_ad=true;}_ac=_ac.parent;}if(!_ad){this.on_fire_allclick(this,"oncellclick",_b,_r,_s,_t,_u,_v,_w,_x,_y,_z,_aa,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);}};_pGrid.on_fire_headclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true,_n);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._beforeheadcellpos;var _r=this._beforeheadcolpos;var _s=this._beforeheadrowpos;var _t=this._beforeheadsubrowpos;var _u=this._beforepvt;var _v=this._beforeheadcellpos=_a._cellidx;var _w=this._beforeheadcolpos=_a._refobj._col;var _x=this._beforeheadrowpos=this._getDataRow(_a._rowidx);var _y=this._beforeheadsubrowpos=_a._refobj._row;var _z= -9;if(_o){_w+=_o._refobj._col;}this.on_fire_allclick(this,"onheadclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_summclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true,_n);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._beforesummcellpos;var _r=this._beforesummcolpos;var _s=this._beforesummrowpos;var _t=this._beforesummsubrowpos;var _u=this._beforepvt;var _v=this._beforesummcellpos=_a._cellidx;var _w=this._beforesummcolpos=_a._refobj._col;var _x=this._beforesummrowpos=this._getDataRow(_a._rowidx);var _y=this._beforesummsubrowpos=_a._refobj._row;var _z= -9;this.on_fire_allclick(this,"onsummclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_celldblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o=this._getDataRow(_a._rowidx);if(this._isFakeCell(_o)){return true;}var _p;if(_a.parentcell){_p=_a;_a=_a.parentcell;}var _q=this._recalcXY(_a,_i,_j,true,_n);_i=_q.canvasX;_j=_q.canvasY;_k=_q.clientX;_l=_q.clientY;var _r=this._dbclickPreCell;var _s=this._dbclickPreCol;var _t=this._dbclickPreRow;var _u=this._dbclickPreSubrow;var _v=this._dbclickPrePvt;var _w=_a._cellidx;var _x=_a._refobj._col;var _y=_o;var _z=_a._refobj._row;var _aa= -9;if(_p){_x+=_p._refobj._col;}this._dbclickPreCell=_w;this._dbclickPreCol=_x;this._dbclickPreRow=_y;this._dbclickPreSubrow=_z;this._dbclickPrePvt=_aa;this.on_fire_allclick(this,"oncelldblclick",_b,_r,_s,_t,_u,_v,_w,_x,_y,_z,_aa,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_headdblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true,_n);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._dbclickPreCell;var _r=this._dbclickPreCol;var _s=this._dbclickPreRow;var _t=this._dbclickPreSubrow;var _u=this._dbclickPrePvt;var _v=_a._cellidx;var _w=_a._refobj._col;var _x=this._getDataRow(_a._rowidx);var _y=_a._refobj._row;var _z= -9;if(_o){_w+=_o._refobj._col;}this._dbclickPreCell=_v;this._dbclickPreCol=_w;this._dbclickPreRow=_x;this._dbclickPreSubrow=_y;this._dbclickPrePvt=_z;this.on_fire_allclick(this,"onheaddblclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_summdblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true,_n);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._dbclickPreCell;var _r=this._dbclickPreCol;var _s=this._dbclickPreRow;var _t=this._dbclickPreSubrow;var _u=this._dbclickPrePvt;var _v=_a._cellidx;var _w=_a._refobj._col;var _x=this._getDataRow(_a._rowidx);var _y=_a._refobj._row;var _z= -9;this._dbclickPreCell=_v;this._dbclickPreCol=_w;this._dbclickPreRow=_x;this._dbclickPreSubrow=_y;this._dbclickPrePvt=_z;this.on_fire_allclick(this,"onsummdblclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_dsnotify_onrowposchanged=function(_a,_b){var _c=this._rowposition;var _d=parseInt(_a.rowposition,10);this._rowposition=_d;if(this.getElement()&&this._userRowposChange==false){var _e= -1;var _f= -1;var _g=this;if(this._hasTree){_e=this._getTreeRowPosition(_c);_f=this._getTreeRowPosition(_d);}else{_e=_c;_f=_d;}var _h;var _i;var _j;var _k;var _l;var _m;var _n;var _o;var _p;var _q= -9;_h=this._beforebodycellpos=this._selectinfo.curcell;_i=this._beforebodycolpos=this._selectinfo.curcol;_j=this._beforebodyrowpos=this._selectinfo.curdsrow;_k=this._beforebodysubrowpos=this._selectinfo.cursubrow;_l=this._beforepvt=this._selectinfo.curpvt;if(_f<0){_m=(this._selectinfo.curcell<0)?0:this._selectinfo.curcell;_n=(this._selectinfo.curcol<0)?0:this._selectinfo.curcol;_o=_d;_p=(this._selectinfo.cursubrow<0)?0:this._selectinfo.cursubrow;function procClearCellPos(){_g._hideEditor();_g._setSelectedInfo(_m,_n,_o,_p,_q);_g._ChangeSelect(_m,_n,_o,_p,_q,true,_h,_i,_j,_k,_l,"body");_g._moveCellAfterFocus();};if(this._is_async_recreate){nexacro.OnceCallbackTimer.callonce(this,procClearCellPos,100);}else{procClearCellPos();}}else if(_e==_f){}else{_m=(this._selectinfo.curcell<0)?0:this._selectinfo.curcell;_n=(this._selectinfo.curcol<0)?0:this._selectinfo.curcol;_o=_d;_p=(this._selectinfo.cursubrow<0)?0:this._selectinfo.cursubrow;if(_o>=0&&(this._isMultiSelect()||this._isAreaSelect())){if(_a._bWorkingstatus==true){this._beforebodycellpos= -1;this._beforebodycolpos= -1;this._beforebodyrowpos= -1;this._beforebodysubrowpos= -1;this._setSelectedInfo( -1, -1, -1, -1,null);this._hideEditor();this._ChangeSelect( -1, -1, -1, -1,_q,true,_h,_i,_j,_k,_l,"body");this._moveCellAfterFocus();}else{if(this._getUseBindExprProp("body")||this._isUseBindExprStyle("body")){this._refreshBody(true);}if(this._isUseBindExprStyle("head")||this._getUseBindExprProp("head")){this._refreshHead(true);}if(this._isUseBindExprStyle("summ")||this._getUseBindExprProp("summ")){this._refreshSumm(true);}var _r=this._dsRowToDispRow(_o);function procMultiCellPos(){_g._jumpCurrentRow(_r);_g._moveCellAfterFocus();};if(this._is_async_recreate){nexacro.OnceCallbackTimer.callonce(this,procMultiCellPos,100);}else{procMultiCellPos();}}}else{this._setSelectedInfo(_m,_n,_o,_p,_q);function procSingleCellPos(){_g._hideEditor();_g._ChangeSelect(_m,_n,_o,_p,_q,true,_h,_i,_j,_k,_l,"body");_g._moveCellAfterFocus();};if(this._is_async_recreate){nexacro.OnceCallbackTimer.callonce(this,procSingleCellPos,100);}else{procSingleCellPos();}}}}};_pGrid.on_dsnotify_oncolumnchanged=function(_a,_b){if(_a._bWorkingstatus==true){this._recreate_contents_all(true,true,false);return;}var _c=false;var _d=[];if(this._isTreeStateChanged(_b,this._dsEventOccured)==true){_c=true;this._updateTreeStates();var _e=this._getTreeRowPosition(_b.row);var _f=this._treeStates[_b.row];if(this._bodyBand){var _g=this._bodyBand._matrix;if(_e== -1||!_g._getPhysicalRow(_g._rows,_e)){this._recreate_contents_all(true,true,false,true);}else{if(this._treeCellinfo.treelevel._bindexpr==_b.columnid){this._refreshBody();}else{if(_f==0){this._bodyBand._matrix._adjustTreeDisplay(_e,true);}else{this._bodyBand._matrix._adjustTreeDisplay(_e,false);}var _h=this.getTreeParentRow(_e,true);_h=this._dsRowToDispRow(_h,true);this._refreshBodyRow(_h);}}}}else if((this.autosizingtype=="row"||this.autosizingtype=="both")&&this._isChangeBodyRowSizeList(_b.row)==true){this._recreate_contents_all(true,true,false);}else if((this.autosizingtype=="col"||this.autosizingtype=="both")&&this._isChangeBodyColSizeList(_b.columnid,_d,_b.row)==true){this._autofitcol_rate=[];if(_d.length>1){if(this.autosizingtype=="both"){this._recreate_contents_all(true,true,false);}else{this._recreate_contents_all(true,false,false);}}else if(_d.length==1){this._updateColSize(_d[0]);}}else{if(_b.row>=0){if(this._hasTree&&this._treeCellinfo.treecheck._bindexpr==_b.columnid){this._treeChecked=this._createTreeChecked();}var _i=this._dsRowToDispRow(_b.row,true);if(_i>=0){var _j=this._getBindTextCellInfo(_b.columnid);if(_j){var _k=_j[0];var _l=_j[1];var _m=false;var _n=false;var _o=_k.length,_p;for(var _s=0;_s<_o;_s++ ){_p=_k[_s]._getSuppress(_b.row);if(_p!=0){this._suppressUpdate();break;}}var _q=false;for(var _s=0;_s<_o;_s++ ){if(_k[_s].celltype=="head"){_m=true;}else if(_k[_s].celltype=="summary"){_n=true;}else{if(_b.col== -1&&_b.colidx== -1){if(_b.newvalue!=undefined){if(!_q){if(this._hasTree){this._initTreeStates(true,true);this._recreate_contents_all(true,false,false,true);}else{this._refreshBodyRow(_i);}_q=true;}}}else{if(this._hasTree&&_c){if(!_q){this._refreshBody();_q=true;}}else{_p=_k[_s]._getSuppress(_b.row);if(_p>0){this._refreshCell("body",_k[_s]._cellidx);}else if(_p<0){if(!_q){this._refreshBodyRow(_i);_q=true;}}else{if(!_q){var _r=this._binddataset;if(_r.keystring&&_r._keycols.length>0){this._refreshBody();}else{this._refreshBodyRow(_i);}_q=true;}if(_l&&this._currentCellEditor&&_k[_s]._col==this._currentCellEditor._cellinfo._col&&_k[_s]._row==this._currentCellEditor._cellinfo._row&&_b.row==this._currentCellRow){this._currentCellEditor._setProperty();}}}}_n=true;}}}if(_m){this._refreshHead();}if(_n){this._refreshSumm();}}else{if(this._hasTree&&_b.columnid==""){this._initTreeStates(true);this._recreate_contents_all(true,false,false,true);}}}else{this._refreshHead();this._refreshSumm();if(_a._isConstColumn(_b.col)==true){this._refreshBody();}}}};_pGrid.on_dsnotify_onload=function(_a,_b){if(!this._is_created&&this._rowcount==_a.rowcount){return;}this.rowcount=this._rowcount=_a.rowcount;this._rowposition=_a.rowposition;this._initSelect(this._rowposition);if(this._is_down_act&&!this._isDownActionKeyMouse()){this._is_down_act=false;}this._exprcache={};this._clearAllStyleCache();this._initTreeStates();var _c=_b.reason;if(_c==0||_c==1||_c==2||_c==3){if(this.autosizingtype!="none"){if(this._async_create==true){this._recreate_contents_all_async(true,true,true);}else{this._recreate_contents_all(true,true,true);}}else{if(this._curFormat){this._updateBodyClient("load");if(this._isUseBindExprStyle("head")||this._getUseBindExprProp("head")){this._refreshHead(true);}if(this._isUseBindExprStyle("summ")||this._getUseBindExprProp("summ")){this._refreshSumm(true);}}else{this._recreate_contents_all(true,true,true);}}}else if(_c==91){this._recreate_contents_all(true,true,true);this._binddataset=null;}else if(_c==12){var _d=this._bodyBand;var _e=this._getDataRow(this._endrowpos);var _f=_d._matrix._getBodyRowTopPos(_e+1)-this._getScrollTop();var _g=this._getAvailableRect(_d);var _h=this._rowcount;var _i=_d._matrix._rows.length;var _j=_e+1;if(_f>=_g.height&&_e<_j&&(_i%2!=1)){if(this._isUserChangeHeadRowSize||this._isUserChangeBodyRowSize||this._isUserChangeSummRowSize){this._recreate_contents_all(true,true,false,true);}else{this._resetRowSizeList(_h);this._resetColSizeList(_h);this._resetScrollMax();}}else{if(this._hasTree){this._initTreeStates(true);this._recreate_contents_all(true,true,false,true);}else if(this.autosizingtype=="col"||this.autosizingtype=="both"){this._recreate_contents_all(true,true,false);}else{this._updateBodyClient("appenddata");if(this._isUseBindExprStyle("head")||this._getUseBindExprProp("head")){this._refreshHead(true);}if(this._isUseBindExprStyle("summ")||this._getUseBindExprProp("summ")){this._refreshSumm(true);}}}}};_pGrid.on_dsnotify_onrowsetchanged=function(_a,_b){var _c=this._binddataset;var _d=(this._rowcount!=_c.rowcount);var _e=this._rowcount;this.rowcount=this._rowcount=_c.rowcount;var _f=false;if(this._rowposition!=_c.rowposition){_f=true;}if(this._is_down_act&&!this._isDownActionKeyMouse()){this._is_down_act=false;}this._rowposition=_c.rowposition;if(this._curFormat){var _g=this._curFormat._bodycells;var _h=this._rowcount-1;var _i;switch(_b.reason){case 10:_i="assign";break;case 11:_i="copydata";break;case 12:if(_b.row== -1){_i="appenddata";}else if(_b.row==_h){_i="addrow";}else if(_b.row<_h){_i="insertrow";}break;case 20:if(_b.row== -1){_i="deletemultirows";}else{_i="deleterow";}break;case 22:_i="deleteall";break;case 23:_i="cleardata";break;case 30:_i="keystring";break;case 31:if(_b.row== -1){_i="filter";}else{_i="filterrow";}break;case 32:_i="moverow";break;case 33:_i="exchangerow";break;case 34:_i="addcolumn";break;case 41:_i="enableevent";break;case 40:_i="rowtype";break;default:break;}if(_i=="copydata"||_i=="addcolumn"||_i=="assign"){this._exprcache={};this._resetSelect(this._rowposition);}else if(_i=="enableevent"||_i=="appenddata"){this._exprcache={};}else if(_i=="deleterow"||_i=="filterrow"){this._delSelectpos( -1,_b.row,true);if(_g&&this._isMultiSelect()==false&&this._isAreaSelect()==false){if(this._isSelectRowType()){for(var _l=0,_m=_g.length;_l<_m;_l++ ){this._addSelectpos(_l,this._rowposition);}}else{this._addSelectpos(0,this._rowposition);}}this._resetSelectStartEndRow();this._updateTreeStates(_b.row,false);}else if(_i=="deletemultirows"){var _j=_a._deleteRows;this._delSelectpos( -1,_j,true);if(_g&&this._isMultiSelect()==false&&this._isAreaSelect()==false){if(this._isSelectRowType()){for(var _l=0,_m=_g.length;_l<_m;_l++ ){this._addSelectpos(_l,this._rowposition);}}else{this._addSelectpos(0,this._rowposition);}}this._resetSelectStartEndRow();for(var _l=_j.length-1;_l>=0;_l-- ){this._updateTreeStates(_j[_l],false);}}else if(_i=="deleteall"||_i=="cleardata"||_i=="filter"){if(_i!="filter"){this._clrMultiSelect();this._setSelectedInfo( -1, -1, -1, -1,null);}this._destroyOverlayElements();}else if(_i=="copydata"){this._setSelectedInfo(null,null,this._rowposition,0,null);}else if(_i=="addrow"||_i=="insertrow"||_i=="appendrow"){this._updateTreeStates(_b.row,true);}if(this._is_async_recreate){var _k=this._getWindow();_k._postMessage(this,"afterrowset",this._callbackPostmsg,[_i,_f,_b.row,_d,_e]);}else{this._afterRowsetChanged(_i,_f,_b.row,_d,_e);}}};_pGrid._callbackPostmsg=function(_a){var _b=_a.data;if(_a.id=="afterrowset"){this._afterRowsetChanged(_b[0],_b[1],_b[2],_b[3],_b[4]);}else if(_a.id=="showeditor"){var _c=this._getOwnerFrame();if(_c&&_c._activate){if(_b[2]){this._showEditorFocus=true;}this._showEditor(_b[0],_b[1]);this._showEditorFocus=false;}}};_pGrid._afterRowsetChanged=function(_a,_b,_c,_d,_e){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}if(this.getElement()){if(_a=="moverow"||_a=="enableevent"){this._hideEditor(false,true);}else{this._hideEditor(false,true);}if(_a=="copydata"||_a=="assign"){this._initTreeStates();this._recreate_contents_all(true,true,true);}else if(_a=="addcolumn"){this._initTreeStates(true);this._recreate_contents_all(true,true,false);}else if(_a=="keystring"){this._initTreeStates();if(this.autosizingtype!="none"){this._recreate_contents_all(true,true,false);}else{this._recreate_contents_all(true,true,false,true);}this._resetSelect(this._rowposition,this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.cursubrow,this._selectinfo.curpvt);}else if(_a=="enableevent"){this._initTreeStates(true);if(_d||this.autosizingtype!="none"){this._recreate_contents_all(true,true,false);}else{if(this._hasTree){this._bodyBand._matrix._adjustRowsDisplay(true);this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._on_refresh_rows();}this._refreshAll();}if(_b==false){this._select_noscroll=true;}this._resetSelect(this._rowposition,this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.cursubrow,this._selectinfo.curpvt);this._select_noscroll=false;if(!this._is_created){this._create_selection={cell:this._selectinfo.curcell,col:this._selectinfo.curcol,row:this._selectinfo.curdsrow,subrow:this._selectinfo.cursubrow,pvt:this._selectinfo.curpvt};}}else if(this._bodyBand&&(_a=="addrow"||_a=="appenddata"||_a=="deleterow"||_a=="filterrow"||_a=="insertrow"||_a=="deletemultirows"||_a=="filter")){var _f=this._bodyBand;var _g=this._getDataRow(this._endrowpos);var _h=_f._matrix._getBodyRowTopPos(_g+1)-this._getScrollTop();var _i=this._getAvailableRect(_f);var _j;if(_a=="addrow"||_a=="appenddata"){_j=_e;}var _k=_f._matrix._rows.length;if(_h>=_i.height&&_g<_c&&(_k%2!=1)){if(_c<=this._fixed_endrow){this._setFixedRow( -1);}else{if(this._isUserChangeHeadRowSize||this._isUserChangeBodyRowSize||this._isUserChangeSummRowSize){this._recreate_contents_all(true,true,false,true,undefined,_j);}else{this._resetRowSizeList(_j);this._resetColSizeList(_j);this._resetScrollMax();}if(_a=="deleterow"){var _l=this._dsRowToDispRow(this._binddataset.rowposition);this._jumpCurrentRow(_l);}else{}}}else{if(_c<=this._fixed_endrow){if(_a=="insertrow"){this._resetRowSizeList();}this._setFixedRow( -1);}else{if(_a=="insertrow"){if(this.autosizingtype!="none"||this._hasTree){this._recreate_contents_all(true,true,false,true,undefined,_j);}else{this._updateBodyClient(_a,_c,_j);}}else{if(this._hasTree){this._initTreeStates((_a=="addrow"||_a=="appenddata"||_a=="deleterow"));this._recreate_contents_all(true,true,false,true,undefined,_j);}else if(this.autosizingtype=="col"||this.autosizingtype=="both"){this._recreate_contents_all(true,true,false,undefined,undefined,_j);}else{this._updateBodyClient(_a,_c,_j);if(this._isUseBindExprStyle("head")||this._getUseBindExprProp("head")){this._refreshHead(true);}if(this._isUseBindExprStyle("summ")||this._getUseBindExprProp("summ")){this._refreshSumm(true);}var _m=this._binddataset;if(_m.keystring&&_m._keycols.length>0){this._refreshBody();}}}}}}else if(_a=="exchangerow"||_a=="moverow"){if(this.autosizingtype!="none"||this._hasTree){this._initTreeStates(true,true);this._recreate_contents_all(true,false,false,true);}else{this._refreshBody();}}else if(_a=="rowtype"){this._refreshAll();}else{this._initTreeStates();this._recreate_contents_all(true,true,false);}if(!this._lbuttondown_proc){this._moveCellAfterFocus();}}};_pGrid._getDisplayRowCount=function(){var _a=this._bodyBand;if(_a){return _a._get_rows().length;}return 0;};if(nexacro.Browser=="IE"){_pGrid._div_max_height=1533000;}else if(nexacro.Browser=="Gecko"){_pGrid._div_max_height=17895000;}else{_pGrid._div_max_height=134217000;}_pGrid._needUpdateExtinner=function(){var _a=(this.vscrollbar)?this.vscrollbar._pos:0;var _b=this._bodyBand;if(!_b){return true;}var _c=_b._control_element._getExtendContainerCount();if(_c>0&&_a>(this._div_max_height-(this._client_height*2))){return true;}return false;};_pGrid._updateBodyClient=function(_a,_b,_c){this._resetRowSizeList(_c);this._resetColSizeList(_c);var _d=this._bodyBand;this._resetScrollMax();this._applyAutofittype(true);var _e=this._getDisplayRowCount();if(_a=="insertrow"){if(this._needUpdateExtinner()){this._recreate_contents_all(false,false,false,true);}else{_d._matrix._adjustRowsDisplay();_d._matrix._adjustColsDisplay();}var _f=_d._get_rows();var _g=_f.length;for(var _p=0;_p<_g;_p++ ){var _h=this._getDataRow(_f[_p]._rowidx);if(_b>_h){continue;}_d._update_rows.push(_f[_p]);}_d._on_refresh_rows();var _i=this._dsRowToDispRow(_b);this._jumpCurrentRow(_i);}else if(_a=="deleterow"){var _j=(this.vscrollbar)?this.vscrollbar._pos:0;_j-=this._is_over_scroll;if(_j<0){_j=0;}this._toprowpos=this._getScreenTopRowPos(_j);this._bottomrowpos=this._getScreenBottomRowPos(_j);if(this._needUpdateExtinner()){this._recreate_contents_all(false,false,false,true);}else{_d._matrix._adjustRowsDisplay();_d._matrix._adjustColsDisplay();var _f=_d._get_rows();var _g=_f.length;for(var _p=0;_p<_g;_p++ ){var _h=this._getDataRow(_f[_p]._rowidx);if(_b>_h){continue;}_d._update_rows.push(_f[_p]);}_d._on_refresh_rows();}var _k=this._last_scroll_top;if(_k!=_j){var _l=this._control_element.vscroll_limit;if(_j>=_l&&this._scrollpixel!="all"){var _m=true;}_d._update_rows=_d._matrix._adjustScrollRows(_j,_m);}_d._on_refresh_rows();var _i=this._dsRowToDispRow(this._binddataset.rowposition);this._jumpCurrentRow(_i);if(this._is_over_scroll>0){this.vscrollbar.set_pos(this.vscrollbar.pos-1);}}else if(_a=="load"){if(this._needUpdateExtinner()){this._recreate_contents_all(false,false,true,true);}else{this._toprowpos=this._getScreenTopRowPos(0);this._bottomrowpos=this._getScreenBottomRowPos(0);if(this.vscrollbar&&this.vscrollbar.pos>0){this.vscrollbar.set_pos(0);}_d._update_rows=_d._matrix._adjustScrollRows(0);_d._matrix._adjustRowsDisplay();_d._matrix._adjustColsDisplay();_d._on_refresh_rows();}}else{var _j=(this.vscrollbar)?this.vscrollbar._pos:0;_j-=this._is_over_scroll;if(_j<0){_j=0;}this._toprowpos=this._getScreenTopRowPos(_j);this._bottomrowpos=this._getScreenBottomRowPos(_j);if(this._needUpdateExtinner()){this._recreate_contents_all(false,false,false,true);}else{if(_a=="filterrow"||_a=="deletemultirows"||_a=="filter"){_d._matrix._init();}var _n=false;if(this.autosizingtype=="row"){_n=true;}_d._matrix._adjustRowsDisplay(_n);_d._matrix._adjustColsDisplay();}var _k=this._last_scroll_top;if(_k!=_j){_d._update_rows=_d._matrix._adjustScrollRows(_j);}_d._on_refresh_rows();if(this._is_over_scroll>0){this.vscrollbar.set_pos(this.vscrollbar.pos-1);}}var _o=this._getDisplayRowCount();if(this.fillareatype!="none"||_a=="load"){this._refreshBody();}this._updateNodata(_e,_o);};_pGrid.set_enableredraw=function(_a){_a=nexacro._toBoolean(_a);if(this.enableredraw!=_a){this.enableredraw=_a;if(_a){if(this._curFormat){this._curFormat._updateFormatStr();}this.on_apply_enableredraw();}}return _a;};_pGrid.on_apply_enableredraw=function(){if(this._enable_redraw_history["recreate"]){this.redraw();this._enable_redraw_history={};return;}var _a=this._binddataset;if(_a&&_a.oncolumnchanged&&_a.oncolumnchanged._firestat){this._recreate_contents_all(true,true,false);this._enable_redraw_history={};return;}if(this._enable_redraw_history["recreate_body"]){if(this._bodyBand){this._bodyBand._recreate_contents();}}else if(this._enable_redraw_history["refresh_body"]&&!this._enable_redraw_history["refreshall"]){this._refreshBody(true);}if(this._enable_redraw_history["recreate_head"]){if(this._headBand){this._headBand._recreate_contents();}}else if(this._enable_redraw_history["refresh_head"]&&!this._enable_redraw_history["refreshall"]){this._refreshHead(true);}if(this._enable_redraw_history["recreate_summ"]){if(this._summBand){this._summBand._recreate_contents();}}else if(this._enable_redraw_history["refresh_summ"]&&!this._enable_redraw_history["refreshall"]){this._refreshSumm(true);}if(this._enable_redraw_history["resize_band"]){this._resizeBand();}if(this._enable_redraw_history["updatecolsize"]){var _b=this._enable_redraw_history["updatecolsize"];var _c=_b.length;var _d=_b[0];for(var _f=1;_f<_c;_f++ ){_d=Math.min(_b[_f],_d);}this._updateColSize(_d);}if(this._enable_redraw_history["updaterowsize"]){var _b=this._enable_redraw_history["updaterowsize"];var _c=_b.length;for(var _f=0;_f<_c;_f++ ){this._updateRowSize(_b[_f][0],_b[_f][1],(_f<_c-1));}}if(this._enable_redraw_history["autofit"]){var _e=this._enable_redraw_history["autofit"];this._applyAutofittype(_e[0],_e[1]);}if(this._enable_redraw_history["refreshall"]){this._refreshAll(true);}else{nexacro.Component.prototype.on_apply_enableredraw.call(this);}this._enable_redraw_history={};};_pGrid._isSelectedCell=function(_a,_b){var _c=this._selectinfo.getSelectCells(_b);if(!this._isSelectRowType()){if(_c&&_c[_a]){return true;}}else{if(_c){return true;}}return false;};_pGrid.isSelectedCell=function(_a,_b,_c,_d){if(_b){_b=_b.toLowerCase();}if(arguments.length==0){return false;}else if(arguments.length==1){_b="body";_c=0;_d=0;}else if(arguments.length==2){if(_b=="body"){_c=0;}else if(_b.indexOf("summ")>=0){_c= -2;}else{_c= -1;}_d=0;}else if(arguments.length==3){if(_b.indexOf("summ")>=0){_c= -2;}else if(_b=="head"){_c= -1;}_d=0;}return this._isSelectedCell(_a,_c);};_pGrid._getSelect=function(_a,_b){var _c;if(_a== -2){_c="summ";}else if(_a== -1){_c="head";}else{_c="body";}if(_b==undefined){_b=0;}return this.isSelectedCell(_b,_c,_a);};_pGrid.getSelectedRows=function(){var _a=[].concat(this._selectinfo.rows);var _b=[];for(var _c=0,_d=_a.length;_c<_d;_c++ ){_b[_c]=this._getTreeRowPosition(_a[_c]);}return _b;};_pGrid.getSelectedDatasetRows=function(){var _a=[].concat(this._selectinfo.rows);for(var _b=0;_b<_a.length;_b++ ){if(_a[_b]<0){_a.splice(_b,1);_b-- ;}}if(_a.length==0){_a= -9;}return _a;};_pGrid.clearSelect=function(){this._selectinfo.area=[];this._resetSelect( -1, -1, -1, -1, -9);return true;};_pGrid.selectRow=function(_a,_b){if(!this._isSelectRowType()){return false;}if(_b==undefined){_b=true;}_a=this._getDataRow(_a);return this._selectRow(_a,_b);};_pGrid.selectCell=function(_a,_b,_c){if(this._isSelectRowType()||this._isAreaSelect()){return false;}if(_c==undefined){_c=true;}return this._selectRow(_a,_c,false,_b);};_pGrid.selectArea=function(_a,_b,_c,_d){if(!this._isAreaSelect()){return false;}var _e=this._selectinfo.curcell;var _f=this._selectinfo.curcol;var _g=this._selectinfo.curdsrow;var _h=this._selectinfo.cursubrow;var _i=this._selectinfo.curpvt;if(_a>_c){var _j=_a;_a=_c;_c=_j;}if(_b>_d){var _j=_b;_b=_d;_d=_j;}var _k=this._curFormat;var _l=_k._bodyrows.length-1;var _m="body",_n="body";if(_a== -1){_m="head";}else if(_a== -2){_m="summ";}if(_c== -1){_l=_k._headrows.length-1;_n="head";}else if(_c== -2){_l=_k._summrows.length-1;_n="summ";}function getBegEnd(_u,_b,_d,_v){var _w,_x;if(_v){for(var _y=0,_z=_u.length;_y<_z;_y++ ){if(_u[_y]._col==_b){_w=_y;break;}}return _w;}else{for(var _y=_u.length-1;_y>=0;_y-- ){if(_u[_y]._col<=_d&&_d<=(_u[_y]._col+_u[_y]._colspan)){_x=_y;break;}}return _x;}}var _o,_p,_q,_r,_s,_t;if(_m=="summ"){_t=getBegEnd(_k._summcells,_b,_d,true);}else if(_m=="head"){_t=getBegEnd(_k._headcells,_b,_d,true);}else{_t=getBegEnd(_k._bodycells,_b,_d,true);}this._setSelectedInfo(_t,_b,_a,0,null);_o=_t;_p=_b;_q=_a;_r=0;_s=this._selectinfo.curpvt;if(this._isMultiSelect()){this._multiselect="ctrl";}else{this._clrMultiSelect();this._multiselect="none";}this._ChangeSelect(_o,_p,_q,_r,_s,false,_e,_f,_g,_h,_i,_m,"func_area1");if(_n=="summ"){_t=getBegEnd(_k._summcells,_b,_d,false);}else if(_n=="head"){_t=getBegEnd(_k._headcells,_b,_d,false);}else{_t=getBegEnd(_k._bodycells,_b,_d,false);}this._setSelectedInfo(_t,_d,_c,_l,null);_o=_t;_p=_d;_q=_c;_r=_l;_s=this._selectinfo.curpvt;this._multiselect="shift";retn=this._ChangeSelect(_o,_p,_q,_r,_s,false,_e,_f,_g,_h,_i,_n,"func_area2");return retn;};_pGrid._selectRow=function(_a,_b,_c,_d,_e){var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curdsrow;var _i=this._selectinfo.cursubrow;var _j=this._selectinfo.curpvt;var _k="body";var _l=false;if(_b!=this._getSelect(_a,_d)){if(_a== -1){_k="head";}else if(_a== -2){_k="summ";}this._setSelectedInfo(null,null,_a,0,null);if(_k!="body"&&_d==undefined){_d=0;}if(_d!=undefined){this._setSelectedInfo(_d,null,null,null,null);}if(!_e){_e=false;}var _m=(this._selectinfo.curcell<0)?0:this._selectinfo.curcell;var _n=(this._selectinfo.curcol<0)?0:this._selectinfo.curcol;var _o=_a;var _p=(this._selectinfo.cursubrow<0)?0:this._selectinfo.cursubrow;var _q=this._selectinfo.curpvt;if(this._isMultiSelect()){this._multiselect="ctrl";_l=this._ChangeSelect(_m,_n,_o,_p,_q,_e,_f,_g,_h,_i,_j,_k,"func_selectrow");}else{this._clrMultiSelect();_l=true;if(_b){_l=this._ChangeSelect(_m,_n,_o,_p,_q,false,_f,_g,_h,_i,_j,_k,"func_selectrow");}}}if(!_c){this._refreshBody();if(_k=="head"){this._refreshHead();}else if(_k=="summ"){this._refreshSumm();}}return _l;};_pGrid._on_killfocus=function(_a,_b){if(!this._is_alive){return;}if(this._binddataset&&this._binddataset.cancolumnchange&&this._binddataset.cancolumnchange._firestat){this._hideEditor(undefined,true,true);}else{this._hideEditor(undefined,undefined,true);}this._focusSelectorPoint(false);if(nexacro._enableaccessibility){this._accept_arrow=false;this._acceptstab=false;}this._is_async_recreate=false;};_pGrid._focusSelectorPoint=function(_a){if(this._isAreaSelect()){if(this._select_ctrl){this._select_ctrl._trackbar[0].set_visible(_a);this._select_ctrl._trackbar[1].set_visible(_a);this._select_ctrl._trackbar[2].set_visible(_a);this._select_ctrl._trackbar[3].set_visible(_a);}}};_pGrid._on_focus=function(_a,_b,_c,_d,_e,_f){this._acceptstab=true;if(this._showEditorFocus){return;}var _g=false;if(!_a){this._focusSelectorPoint(true);}if(_b=="tabkey"||_b=="shifttabkey"){_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(this._bodyBand&&(_a==false||nexacro._enableaccessibility)){var _h=this._bodyBand._get_rows();if(_h.length>0){if(_h[0]._cells&&_h[0]._cells.length>0){var _i=null;this._showEditorFocus=true;if(_b=="shifttabkey"){_i=this._getLastEditableCell();if(_i.row!==null){if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(this.vscrollbar.max);}_g=this._moveToPosCell(_i.row,_i.cell);}}else{_i=this._getFirstEditableCell();if(_i.row!==null){if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}_g=this._moveToPosCell(_i.row,_i.cell);}}if(nexacro._enableaccessibility&&_i.row!==null){this._currentBand="body";var _j=this._getAccessibilityCurrentCell();if(_j){if(_b=="tabkey"){this._first_focus=true;this._is_first_bodycell=true;}this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}this._showEditorFocus=false;}}}}else{_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(nexacro._enableaccessibility){this._accept_arrow=true;this._acceptstab=true;_g=false;if(nexacro._accessibilitytype==4&&_b===undefined){this._currentBand="grid";this._moveToAccessibilityCell("next");}}else{if(_a==false){if((_b=="lbuttondown"||_b=="rbuttondown")&&_f&&_f._type_name=="GridCell"){;}else if(this.autoenter=="select"&&_b!="rbuttondown"){var _k=this._getWindow();_k._postMessage(this,"showeditor",this._callbackPostmsg,[false,undefined,true]);}}}}if(nexacro._enableaccessibility){this._first_focus=false;}return _g;};_pGrid.on_fire_onchar=function(_a,_b,_c,_d,_e){var _f=this._currentCellCell;var _g=this._currentCellCol;var _h=this._selectinfo.curpvt;var _i=this._currentCellRow;var _j=this._currentCellSubRow;if(this.onchar&&this.onchar._has_handlers){var _k=new nexacro.GridEditCharEventInfo(this,"onchar",_f,_b,_g,_h,_d,_c,_i,_j);var _l=this.onchar._fireCheckEvent(this,_k);_e.chartext=_k.chartext;return _l;}return true;};_pGrid.on_fire_ontextchange=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._selectinfo.curcell;var _i=this._selectinfo.curcol;var _j=this._selectinfo.curpvt;var _k=this._selectinfo.curdsrow;var _l=this._selectinfo.cursubrow;if(this.ontextchange&&this.ontextchange._has_handlers){var _m=new nexacro.GridTextChangeEventInfo(this,"ontextchange",_h,_b,_i,_j,_f,_d,_e,_c,_k,_l);var _n=this.ontextchange._fireCheckEvent(this,_m);_g.chartext=_m.chartext;return _n;}return true;};_pGrid.on_fire_ontextchanged=function(_a,_b,_c){var _d=this._selectinfo.curcell;var _e=this._selectinfo.curcol;var _f=this._selectinfo.curpvt;var _g=this._selectinfo.curdsrow;var _h=this._selectinfo.cursubrow;if(this.ontextchanged&&this.ontextchanged._has_handlers){var _i=new nexacro.GridTextChangedEventInfo(this,"ontextchanged",_d,_e,_f,_c,_b,_g,_h);return this.ontextchanged._fireEvent(this,_i);}return true;};_pGrid.on_fire_cantreestatuschange=function(_a,_b,_c){var _d=this._selectinfo.curcell;if(this.cantreestatuschange&&this.cantreestatuschange._has_handlers){var _e=new nexacro.GridTreeStatusEventInfo(this,"cantreestatuschange",_d,_b,_a,_c);return this.cantreestatuschange._fireEvent(this,_e);}return true;};_pGrid.on_fire_ontreestatuschanged=function(_a,_b,_c){var _d=this._selectinfo.curcell;if(this.ontreestatuschanged&&this.ontreestatuschanged._has_handlers){var _e=new nexacro.GridTreeStatusEventInfo(this,"ontreestatuschanged",_d,_b,_a,_c);return this.ontreestatuschanged._fireEvent(this,_e);}return true;};_pGrid.on_fire_oncloseup=function(_a,_b,_c,_d,_e){if(this.oncloseup&&this.oncloseup._has_handlers){var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curpvt;var _i=this._selectinfo.curdsrow;var _j=this._selectinfo.cursubrow;var _k=this._evtvalue(_a,_e);var _l=new nexacro.GridEditEventInfo(this,"oncloseup",_f,_g,_h,_i,_j,_k);return this.oncloseup._fireEvent(this,_l);}return true;};_pGrid.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=this._selectinfo.curcell;var _c=this._selectinfo.curcol;var _d=this._selectinfo.curpvt;var _e=this._selectinfo.curdsrow;var _f=this._selectinfo.cursubrow;var _g=this._evtvalue(_a);var _h=new nexacro.GridEditEventInfo(this,"ondropdown",_b,_c,_d,_e,_f,_g);return this.ondropdown._fireEvent(this,_h);}return true;};_pGrid.on_fire_onenterdown=function(_a,_b,_c,_d,_e,_f,_g){if(this.onenterdown&&this.onenterdown._has_handlers){var _h=this._selectinfo.curcell;var _i=this._selectinfo.curcol;var _j=this._selectinfo.curpvt;var _k=this._selectinfo.curdsrow;var _l=this._selectinfo.cursubrow;var _m=this._evtvalue(_f,_g);var _n=new nexacro.GridEditEventInfo(this,"onenterdown",_h,_i,_j,_k,_l,_m);return this.onenterdown._fireEvent(this,_n);}return true;};_pGrid.on_fire_onexpanddown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.readonly){return;}var _m=_k;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false,_l);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onexpanddown&&this.onexpanddown._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_l);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onexpanddown",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onexpanddown._fireEvent(this,_z);}return;};_pGrid.on_fire_onexpandup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.readonly){return;}var _m=_k;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false,_l);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onexpandup&&this.onexpandup._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_k);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onexpandup",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onexpandup._fireEvent(this,_z);}return;};_pGrid.on_fire_oncolresized=function(_a){if(this.oncolresized&&this.oncolresized._has_handlers){var _b=_a[0];var _c=_a[1];var _d=_a[2];var _e=_a[3];var _f=_a[4];var _g=new nexacro.GridSizeChangedEventInfo("oncolresized",_b,_c,_d,_e,1,_f);return this.oncolresized._fireEvent(this,_g);}return false;};_pGrid.on_fire_onrowresized=function(_a){if(this.onrowresized&&this.onrowresized._has_handlers){var _b=_a[0];var _c=_a[1];var _d=_a[2];var _e=_a[3];var _f=_a[4];var _g=new nexacro.GridSizeChangedEventInfo("onrowresized",_b,_c,_d,_e,2,_f);return this.onrowresized._fireEvent(this,_g);}return false;};_pGrid._clearAllStyleCache=function(){var _a=this._curFormat;if(_a){_a._clearCellStyleCache("head");_a._clearCellStyleCache("body");_a._clearCellStyleCache("summ");}};_pGrid._is_recreating=false;_pGrid._recreate=function(){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return true;}if(!this.getElement()){return false;}var _a=this._isDownActionKeyMouse()||this._is_down_act;if(_a&&!this._userRowposChange&&!this._is_after_recreate){this._after_recreate=true;return;}this._is_recreating=true;var _b=(this.vscrollbar)?this.vscrollbar._pos:0;var _c=(this.hscrollbar)?this.hscrollbar._pos:0;this._destroyBands();this._createBandsAndAreas();this._refreshBody();this._onResetScrollBar();this._recreate_contents_proc=[];if(this.vscrollbar){this.vscrollbar._set_pixelpos(0);this.vscrollbar._set_pixelpos(_b);}if(this.hscrollbar){this.hscrollbar.set_pos(0);this.hscrollbar.set_pos(_c);}this._is_recreating=false;return true;};_pGrid.createcellasync=false;_pGrid.set_createcellasync=function(_a){_a=nexacro._toBoolean(_a);this.createcellasync=_a;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this._async_create=_a;}else{this._async_create=false;}};_pGrid._recreate_contents_all_async=function(_a,_b,_c,_d,_e){nexacro.OnceCallbackTimer.callonce(this,function(){return this._recreate_contents_all(_a,_b,_c,_d,_e);});};_pGrid._isDownActionKeyMouse=function(){var _a=this._getWindow();if(_a&&(_a._cur_ldown_elem||_a._keydown_element)){var _b=_a._cur_ldown_elem||_a._keydown_element,_c=_a.findComponent(_b,0,0)[0],_d=false;while(_c){if(_c instanceof nexacro.ScrollBarCtrl){break;}if(_c._type_name=="Grid"&&_c==this&&_c.id==this.id){_d=true;break;}_c=_c.parent;}return _d;}return false;};_pGrid._recreate_contents_all=function(_a,_b,_c,_d,_e,_f){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}var _g=this._isDownActionKeyMouse()||this._is_down_act;if(_g&&!this._userRowposChange&&!this._is_after_recreate){var _h=[_a,_b,_c,_d,_e];if(this._after_recreate_contents_all){_h[0]=_h[0]||this._after_recreate_contents_all[0];_h[1]=_h[1]||this._after_recreate_contents_all[1];_h[2]=_h[2]||this._after_recreate_contents_all[2];_h[3]=_h[3]&&this._after_recreate_contents_all[3];_h[2]=_h[4]||this._after_recreate_contents_all[4];}this._after_recreate_contents_all=_h;return;}var _i=this._getDisplayRowCount();if(_b){this._resetRowSizeList(_f);this._resetColSizeList(_f);this._resizeBand();if(this._bodyBand){this._bodyBand._recreate_contents(_a,_c,false,_e);this._bodyBand._matrix._adjustColsDisplay(true);}if(!_d){if(this._headBand){this._headBand._recreate_contents(_a);this._headBand._matrix._adjustColsDisplay(true);}if(this._summBand){this._summBand._recreate_contents(_a);this._summBand._matrix._adjustColsDisplay(true);}}}else{if(this._bodyBand){this._bodyBand._recreate_contents(_a,_c,false,_e);}if(!_d){if(this._headBand){this._headBand._recreate_contents(_a);}if(this._summBand){this._summBand._recreate_contents(_a);}}}var _j=this._getDisplayRowCount();this._updateNodata(_i,_j);this._updateSelector();this._adjustOverlayElements(true,this._is_use_fakemerge);};_pGrid._updateNodata=function(_a,_b){if((_a==0&&_b>0)||(_a>0&&_b==0)){var _c=this._bodyBand;if(_c){_c._updateAll(true);}else{this._control_pseudo="";this._contents_pseudo="";this._stat_change();}}};_pGrid._getRowSize=function(_a){var _b=this._curFormat;if(_a== -1){if(this._rowHeadList.length>0){return this._rowHeadList[0];}else{return _b.headHeight;}}else if(_a== -2){if(this._rowSummList.length>0){return this._rowSummList[0];}else{return _b.summHeight;}}else{var _c=this._getDataRow(_a);if(_c>=0){if(this._rowSizeList.length>0){return this._rowSizeList[_c];}else{return _b._body_height;}}}return  -1;};_pGrid._getHeadHeight=function(){var _a=this._curFormat;if(_a==null||_a._headband==null){return 0;}var _b=this._rowHeadList[0];if(_b==undefined){_b=_a.headHeight;}return _b;};_pGrid._getSummHeight=function(){var _a=this._curFormat;if(_a==null||_a._summband==null){return 0;}var _b=this._rowSummList[0];if(_b==undefined){_b=_a.summHeight;}return _b;};_pGrid._createBandsAndAreas=function(){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}var _a=this._curFormat;if(_a==null){return;}this._clearAllStyleCache();this._applyAutofittype(false);var _b=this._curFormat._bodycells;var _c=_b?_b.length:0;var _d;for(var _o=0;_o<_c;_o++ ){_d=_b[_o];if(_d.suppress!=0){this._is_use_suppress=true;}if(_d.wordwrap!="none"){this._is_body_wordwrap=true;}}_b=this._curFormat._headcells;_c=_b?_b.length:0;for(var _o=0;_o<_c;_o++ ){_d=_b[_o];if(_d.wordwrap!="none"){this._is_head_wordwrap=true;break;}}_b=this._curFormat._summcells;_c=_b?_b.length:0;for(var _o=0;_o<_c;_o++ ){_d=_b[_o];if(_d.wordwrap!="none"){this._is_summ_wordwrap=true;break;}}var _e=this._getAvailableRect(this);var _f=_e.width;var _g=_e.height;var _h=this.getElement();var _i,_j;var _k=_a.headHeight;var _l=_a.summHeight;if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_k+_l;_j=_g;}else{_i=_k;_j=_g-_l;}if(_j<_i){_j=_i;}this._bodyBand=new nexacro.GridBand("body",0,_i,_f,_j-_i,this,_a._bodyband);this.body=_a._bodyband;var _m,_n;if(_l>0){_e=this._getAvailableRect(this);_f=_e.width;_g=_e.height;if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_k;_j=_k+_l;}else{_j=_g;_i=_j-_l;}this._summBand=_m=new nexacro.GridBand("summ",0,_i,_f,_j-_i,this,_a._summband);this.summ=this.summary=_a._summband;}else{this._summBand=null;}if(_k>0){_e=this._getAvailableRect(this);_f=_e.width;_g=_e.height;_i=0;_j=_k;this._headBand=_n=new nexacro.GridBand("head",0,_i,_f,_j-_i,this,_a._headband);this.head=_a._headband;}else{this._headBand=null;}this._resetRowSizeList();this._resetColSizeList();this._bodyBand.createComponent();_h.setVertScrollElements(this._bodyBand._control_element);if(_n){this._headBand.createComponent();}if(_m){this._summBand.createComponent();}this._updateSelector();this._setHscrollElement();this._setScrollMaxSize(this._bodyBand._scrollWidth,this._bodyBand._scrollHeight);this._control_element._arrangeBandOrder();if(this._is_recreating){this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}};_pGrid._band_scroll_sizes=null;_pGrid._setScrollMaxSize=function(_a,_b,_c){if(_c){this._band_scroll_sizes=_c;}if(this._control_element){this._control_element._setInnerElementScrollMaxSize(this._band_scroll_sizes);if(_b==undefined){_b=this._bodyBand._scrollHeight;}this._control_element.setElementScrollMaxSize(_a,_b);this._updateClientSize(this._control_element);}};_pGrid._resizeBand=function(_a){var _b=this._client_left;var _c=this._client_top;var _d=this._client_width;var _e=this._client_height;var _f=this._getHeadHeight();var _g=this._getSummHeight();var _h,_i,_j,_k;var _l=this.autosizingtype;var _m=this.autosizebandtype;var _n=false;_h=_b;_j=_d;if(this._bodyBand){var _o=this._bodyBand._get_rows().length;if(_o>0&&(_l=="none"||(_l!="none"&&_m=="body"))){if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_f+_g;_k=_e-_i;}else{_i=_f;_k=_e-_g-_i;}if(_k<0){_k=0;}_n=true;this._bodyBand.move(_h,_i,_j,_k);}}_e=this._client_height;if(this._summBand){if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_f;_k=_f+_g-_i;}else{_i=_e-_g;_k=_e-_i;}this._summBand.move(_h,_i,_j,_k);}_e=this._client_height;if(this._headBand){_i=_c;_k=_f;this._headBand.move(_h,_i,_j,_k);}if(this._bodyBand&&!_n){_f=this._getHeadHeight();_g=this._getSummHeight();_e=this._client_height;if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_f+_g;_k=_e-_i;}else{_i=_f;_k=_e-_g-_i;}if(_k<0){_k=0;}this._bodyBand.move(_h,_i,_j,_k);}if(!_a&&(this._colautofit||this._rowautofit)){this._applyAutofittype(true);}this._MoveEditComp();this._updateSelector();this._updateScrollInfo();};_pGrid._onResetScrollBar=function(){switch(this.scrollbars){case "none":this._scrollbars=0;break;case "autovert":this._scrollbars=1;break;case "autohorz":this._scrollbars=2;break;case "autoboth":this._scrollbars=3;break;case "fixedvert":this._scrollbars=4;break;case "fixedhorz":this._scrollbars=8;break;case "fixedboth":this._scrollbars=12;break;case "alwaysvert":this._scrollbars=16;break;case "alwayshorz":this._scrollbars=32;break;}if(this._scrollbars==1||this._scrollbars==4){if(this._rowautofit){this._scrollbars=0;}}else if(this._scrollbars==2||this._scrollbars==8){if(this._colautofit){this._scrollbars=0;}}else if(this._scrollbars==3){if(this._colautofit&&this._rowautofit){this._scrollbars=0;}if(this._colautofit){this._scrollbars=1;}if(this._rowautofit){this._scrollbars=2;}}else if(this._scrollbars==16){if(this._rowautofit){this._scrollbars=2;}if(this._colautofit){this._scrollbars=1;}}else if(this._scrollbars==32){if(this._colautofit){this._scrollbars=1;}}return nexacro.Component.prototype._onResetScrollBar.call(this);};_pGrid._setHscrollElement=function(){if(!this._control_element){return;}var _a=[];if(this._bodyBand){var _b=this._bodyBand._get_rows();for(var _c=0,_d=_b.length;_c<_d;_c++ ){_a.push(_b[_c]._control_element);}}if(this._headBand){var _b=this._headBand._matrix._rows;for(var _c=0,_d=_b.length;_c<_d;_c++ ){_a.push(_b[_c]._control_element);}}if(this._summBand){var _b=this._summBand._matrix._rows;for(var _c=0,_d=_b.length;_c<_d;_c++ ){_a.push(_b[_c]._control_element);}}if(_a.length==0){_a=null;}this._control_element.setHorzScrollElements(_a);};_pGrid._resetScrollMax=function(){var _a=this._curFormat;if(!_a){return;}var _b=this._bodyBand;if(!_b){return;}var _c=this._getGridRowCount();var _d=this._getAvailableRect(_b);var _e=_d.width-_a.leftWidth-_a.rightWidth;var _f=_d.height;var _g=_a.bodyWidth;var _h=this._treeIndexes;var _i=this._rowSizeList;var _j;var _k=[];var _l=0;var _m=[];var _n=1;var _o=this._div_max_height;var _p=0;for(var _q=0;_q<_c;_q++ ){_j=this._getDataRow(_q);_p+=_i[_j];if(_p-this._fixedrow_height>=_o*_n){_m.push(_p-_i[_j]);_n++ ;}}_p-=this._fixedrow_height;_m.push(_p);_b._scrollHeight=_p;_b._scrollWidth=_g;this._setScrollMaxSize(_b._scrollWidth,_b._scrollHeight,_m);};_pGrid._setContents=function(_a){var _b=nexacro._parseXMLDocument(_a);var _c=_b.getElementsByTagName("Format");var _d=_c.length;var _e="";this._format_str=[];this._autofitcol_rate=[];for(var _i=0;_i<_d;_i++ ){var _f=_c[_i];var _g=_f.getAttribute("id");if(_g==null||_g==""){_g="default";}if(_e==""||_g=="default"){_e=_g;}var _h=new nexacro.GridFormat(_g,this);_h._loadFromDOM(_f);this._formats[_g]=_h;this._format_str.push(_g);}this.formats=_a;if(this.formatid==""||(this._is_created&&this.formatid!=_e)){this.formatid=_e;}this._curFormat=this._formats[this.formatid];};_pGrid._destroyBands=function(_a){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}if(!_a){this._hideEditor(false,true);}if(this._temphead){this._temphead.destroy();this._temphead=null;}if(this._tempsumm){this._tempsumm.destroy();this._tempsumm=null;}if(this._bodyBand){if(this._control_element){this._control_element.setVertScrollElements(null);}this._bodyBand.destroy();this._bodyBand=null;this.body=null;}if(this._summBand){this._summBand.destroy();this._summBand=null;this.summary=null;this.summ=null;}if(this._headBand){this._headBand.destroy();this._headBand=null;this.head=null;}if(this._select_ctrl){this._select_ctrl.destroy();this._select_ctrl=null;}this._destroyOverlayElements();};_pGrid._refreshAll=function(_a){this._refreshHead(_a);this._refreshSumm(_a);this._refreshBody(_a);};_pGrid._getBodyCellInfo=function(_a){if(this._curFormat){var _b=this._curFormat._bodycells[_a];if(_b){return _b;}}return null;};_pGrid._getBodyCellItem=function(_a,_b){return (this._bodyBand._get_rows()[_a]._cells[_b]);};_pGrid._refreshBodyCell=function(_a,_b,_c,_d){if(!this.enableredraw){this._enable_redraw_history["refresh_body"]=true;return;}if(_b<0){return;}var _e=this._bodyBand;if(_e){var _f=_e._get_rows();if(_f.length<=_b){return;}var _g=_f[_b]._rowidx;var _h=(this._hasTree)?this._treeIndexes[_g]:_g;var _i=this._isSelectedCell(_a,_h);if(_f[_b]){var _j=_f[_b]._cells[_a];if(_c){if(_j){_j.currentstyle._empty();}}_e._refreshRowCell(_b,_a,_i,undefined,_d);}}};_pGrid._refreshHead=function(_a){if(!this.enableredraw){this._enable_redraw_history["refresh_head"]=true;return;}var _b=this._headBand;if(_b){var _c=_b._get_rows().length;_b._updateAll(_a);for(var _d=0;_d<_c;_d++ ){_b._refreshRow(_d);}}this._applyResizer();this._adjustOverlayElements(false,this._is_use_fakemerge);};_pGrid._refreshSumm=function(_a){if(!this.enableredraw){this._enable_redraw_history["refresh_summ"]=true;return;}var _b=this._summBand;if(_b){var _c=_b._get_rows().length;_b._updateAll(_a);for(var _d=0;_d<_c;_d++ ){_b._refreshRow(_d);}_b._updateAll(_a);}this._adjustOverlayElements(false,this._is_use_fakemerge);};_pGrid._refreshBody=function(_a,_b,_c,_d){if(!this.enableredraw){this._enable_redraw_history["refresh_body"]=true;return;}var _e=this._bodyBand;if(_e){if(!_d){this._suppressUpdate();}var _f=this._getDispRowCnt();var _g=_e._get_rows();var _h;_e._updateAll(_a);for(var _i=0;_i<_f;_i++ ){_e._refreshRow(_i,undefined,_b);}if(!_c){this._adjustOverlayElements(this._is_recreating,this._is_use_fakemerge);}this._setSelectBorder();}};_pGrid._MoveEditComp=function(){if(this._showEditing){this._showEditor(true);}};_pGrid._analyzeSuppress=function(_a){var _b=this._curFormat._bodycells;if(!_b){return;}var _c;if(_a){_c=this._getGridRowCount();}else{if(this._fixed_rowcnt>0){_c=this._fixed_rowcnt-this._fixed_startrow+this._disprowcnt;}else{_c=this._disprowcnt;}}if(_c==0){return;}var _d=_b.length;var _e;for(var _w=0;_w<_d;_w++ ){_e=_b[_w];if(_e.suppress==0){continue;}_e._clearSuppressInfo();var _f,_g,_h,_i,_j,_k,_l,_m,_n,_o;for(var _q=0;_q<=_c;_q++ ){_f=(!_a)?this.__getBodyCellRowIdxFromIdx(_q):_q;_n=this._getDataRow(_f);_o=_e._getSuppress(_n);if(_q>0){_l=_e._getSuppressInfo(_q-1,true);}if(_o>0&&_q>0){if(_c==_q){break;}_i=0;_j=0;_m=this._getDataRow((!_a)?this.__getBodyCellRowIdxFromIdx(_q-1):_q-1);_n=this._getDataRow(_f);if(this._isFakeCell(_n)){continue;}if(this._hasTree){_g=_e._getDisplayText(_m);_i=_e._getTreeLevel(_m);_h=_e._getDisplayText(_n);_j=_e._getTreeLevel(_n);}else{_g=_e._getDisplayText(_m);_h=_e._getDisplayText(_n);}_k=_e._getDisplaytype(_f);if(this._hasTree&&_k=="tree"){;}else{if(_g==_h){_l.last=false;}else{_l.last=true;}}}else if(_o<0&&_w>0){}}}var _p=this.suppresslevel;if(_p=="sameskip"||_p=="allcompare"){var _q=0;function __analyzeSuppress_row_loop2(_x){if(_q<_c){var _y=[];var _z=[];var _e;_f=(!_a)?_x.__getBodyCellRowIdxFromIdx(_q):_q;_n=_x._getDataRow(_f);for(var _w=0;_w<_d;_w++ ){_e=_b[_w];_o=_e._getSuppress(_n);if(_o>0){_y.push(_e);}if(_o<0){}}if(_y.length>0){_y.sort(function(_ac,_ad){return _ac._getSuppress(_n)-_ad._getSuppress(_n);});var _aa=_y.length;for(var _ac=0;_ac<_aa;_ac++ ){_e=_y[_ac];if(_e){for(var _ad=0;_ad<_d;_ad++ ){if(_ad==_e._col){continue;}_x._compareSuppressCol(_q,_ad,_e._col,_p,_n);}}}}if(_z.length>0){_z.sort(function(_ae,_af){return _af._getSuppress(_n)-_ae._getSuppress(_n);});var _ab=_z.length;for(var _ac=0;_ac<_ab;_ac++ ){_e=_z[_ac];if(_e){for(var _ad=0;_ad<_d;_ad++ ){if(_ad==_e._col){continue;}}}}}_q++ ;return false;}return true;}for(;true;){if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}}}if(_c>0){var _r=0;var _s;var _t,_u,_o,_f,_n;for(var _w=0;_w<_d;_w++ ){_s=0;var _e,_v;for(var _q=0;_q<_c;_q++ ){_e=_b[_w];if(_e.suppress==0){continue;}_f=(!_a)?this.__getBodyCellRowIdxFromIdx(_q):_q;_n=this._getDataRow(_f);if(_e.suppressalign.indexOf("middle")<0){break;}_t=_e._getSuppressInfo(_q);_t.middle=false;_o=_e._getSuppress(_n);if(_o>0){_r++ ;if(_t.last==true){if(_r==1){_t.middle=true;}else{_v=Math.round(_r/2);_u=_e._getSuppressInfo(_s+_v-1);_u.middle=true;}_s=_q+1;_r=0;}}if(_o<0){;}}}}};_pGrid._compareSuppressCol=function(_a,_b,_c,_d,_e){var _f=this._bodyBand;var _g=this._curFormat._bodycells;var _h=_g[_b];var _i=_g[_c];var _j,_k;var _l=_i._getSuppress(_e);var _m=_h._getSuppress(_e);if(_l<=0||_m<=0){return false;}if(_m<_l){_j=_h._getSuppressInfo(_a);_k=_i._getSuppressInfo(_a);if(_j.last==true){_k.last=true;}return true;}else if(_d=="allcompare"&&_m==_l){_j=_h._getSuppressInfo(_a);_k=_i._getSuppressInfo(_a);if(_j.last==true){_k.last=true;}if(_k.last==true){_j.last=true;}return true;}return false;};_pGrid.__getBodyCellRowIdxFromIdx=function(_a){var _b;if(this._fixed_rowcnt){if(_a+this._fixed_startrow<=this._fixed_endrow){_b=this._fixed_startrow;}else{_a-=this._fixed_rowcnt-this._fixed_startrow;_b=this._toprowpos[0];}}else{_b=this._toprowpos[0];}return _a+_b;};_pGrid._suppressUpdate=function(){if(!this._is_use_suppress||!this._curFormat||!this._curFormat._bodycells){return;}this._analyzeSuppress();var _a=this._fixed_rowcnt+this._disprowcnt;for(var _b=0;_b<=_a;_b++ ){this._suppressUpdateRow(_b,0,_a-1);}};_pGrid._suppressUpdateRow=function(_a,_b,_c,_d){var _e=this._bodyBand;if(_e==null){return;}var _f=this._curFormat._bodycells;var _g=_f.length;var _h=(!_d)?this.__getBodyCellRowIdxFromIdx(_a):_a;var _i,_j,_k,_l;var _m,_n,_o;var _p=this._getDataRow(_h);for(var _r=0;_r<_g;_r++ ){_i=_f[_r];_n=_i._getSuppressInfo(_a);_o=_i._getSuppress(_p);if(!_n){continue;}if(_o>0){if(_o>0&&(_a-_b)>0){_m=_i._getSuppressInfo(_a-1);}else if(_i.csupp<0&&_r>0){var _q=_f[_r-1];_m=_q._getSuppressInfo(_a);}_k=(_m?_m.last:true);_l=(_a==_c?true:_n.last);if(_i.suppressalign.indexOf("first")>=0){if(_k==false){_n.text_proc=_o;}else{_n.text_proc=0;}}else if(_i.suppressalign.indexOf("last")>=0){if(_l==false){_n.text_proc=_o;}else{_n.text_proc=0;}}else if(_i.suppressalign.indexOf("middle")>=0){if(_n.middle==true){_n.text_proc=0;}else{_n.text_proc=_o;}}if(_m){if(_k==false){_m.border_proc=_o;}else{_m.border_proc=0;}}}else if(_o==undefined){if(_i.suppressalign.indexOf("first")>=0||_i.suppressalign.indexOf("middle")>=0){_n.text_proc=1;}}}};_pGrid._refreshBodyRow=function(_a,_b,_c){if(!this.enableredraw){this._enable_redraw_history["refresh_body"]=true;return;}var _d=this._bodyBand;if(_d){var _e=_d._get_rows();if(_e.length<=_a){return;}var _f=this._getDispRowCnt();if(_a>=0&&_a<_f){var _g=_e[_a]._rowidx;var _h=(this._hasTree)?this._treeIndexes[_g]:_g;if(_h==undefined){return;}_d._refreshRow(_a,_b);}this._adjustOverlayElements(false,this._is_use_fakemerge);}};_pGrid._global_cursor=undefined;_pGrid._setGlobalCursor=function(_a,_b){if(this._global_cursor!==_a){this._global_cursor=_a;while(_b){_b._updateCursor(_a);if(_b instanceof nexacro.Grid){return;}_b=_b.parent;}}};_pGrid._getColMergeInfo=function(_a,_b){var _c;if(_a=="head"){_c=this._curFormat._headcells;}else if(_a=="summ"||_a=="summary"){_c=this._curFormat._summcells;}else{_c=this._curFormat._bodycells;}if(!_c){return null;}var _d=_c.length;var _e;var _f=_b;var _g=1;var _h=[];for(var _i=0;_i<_d;_i++ ){_e=_c[_i];if(_e._col<=_b&&(_e._col+_e._colspan)>_b){if(_g<_e._colspan){_g=_e._colspan;_f=_e._col;}}}_h[0]=_f;_h[1]=_g;return _h;};_pGrid._applySelect=function(_a,_b,_c){var _d=false;if(this.summarytype=="top"||this.summarytype=="lefttop"){_d=true;}if(_a.length==0||(_d&&_c<0)){_a.splice(0,0,_c);_b.splice(0,0,_c);}else{var _e,_f;var _g=0;if(_d){for(var _i=0;_i<_a.length;_i++ ){if(_a[_i]>=0){break;}_g++ ;}_e=_a.splice(0,_g);_f=_b.splice(0,_g);}var _h=_a.length;if(_h==0){_a.splice(0,0,_c);_b.splice(0,0,_c);}else if(_h==1||_a[0]>_c){this._addSelect(_a,_b,0,_c);}else if(_b[_h-1]<_c){this._addSelect(_a,_b,_h-1,_c);}else{for(var _i=0;_i<_h;_i++ ){if(_b[_i]<_c&&_a[_i+1]>_c){if((_b[_i]+1)==_c&&(_a[_i+1]-1)>_c){this._addSelect(_a,_b,_i,_c);}else if((_b[_i]+1)<_c&&(_a[_i+1]-1)==_c){this._addSelect(_a,_b,_i+1,_c);}else if((_b[_i]+1)==_c&&(_a[_i+1]-1)==_c){this._addSelect(_a,_b,_i,_c);_b[_i]=_b[_i+1];_a.splice(_i+1,1);_b.splice(_i+1,1);}else if((_b[_i]+1)<_c&&(_a[_i+1]-1)>_c){_a.push(_c);_b.push(_c);_a.sort();_b.sort();}break;}}}if(_d){for(var _i=0;_i<_e.length;_i++ ){_a.splice(0,0,_e[_i]);_b.splice(0,0,_f[_i]);}}}};_pGrid._addSelect=function(_a,_b,_c,_d){if(_b[_c]<_d){if((_b[_c]+1)==_d){_b[_c]=_d;}else{_a.push(_d);_b.push(_d);}}else if(_a[_c]>_d){if((_a[_c]-1)==_d){_a[_c]=_d;}else{_a.push(_d);_b.push(_d);_a.sort();_b.sort();}}};_pGrid._findCellObj=function(_a){var _b=_a;while(_b&&_b._type_name!="GridCell"){if(_b._type_name=="Grid"){if(_b==this){break;}else{_b=_a;break;}}if(_b._cellobj&&_b._cellobj._is_alive&&_b._cellobj._type_name=="GridCell"){_b=_b._cellobj;break;}_b=_b.parent;}return _b;};_pGrid._findBandObj=function(_a){var _b=_a;while(_b&&_b._type_name!="GridBand"){if(_b==this){break;}_b=_b.parent;}return _b;};_pGrid._getHScrollPos=function(){if(!this.hscrollbar.visible){return 0;}return this.hscrollbar.pos;};_pGrid._isFakeCell=function(_a){if(this._rowcount<=_a||_a< -2){return true;}return false;};_pGrid._moveToPosCell=function(_a,_b){var _c=_a;var _d=true;if(_c==undefined){_c=0;}if(this._isFakeCell(_c)){return false;}var _e=this._getBodyCellInfo(_b);if(!_e){return false;}var _f=this._beforebodycellpos=this._selectinfo.curcell;var _g=this._beforebodycolpos=this._selectinfo.curcol;var _h=this._beforebodyrowpos=this._selectinfo.curdsrow;var _i=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _j=this._beforepvt=this._selectinfo.curpvt;var _k=_b;var _l=_e._col;var _m=_c;var _n=_e._row;var _o= -9;this._setSelectedInfo(_k,_l,_m,_n,_o);while(true){if(_k!=_f){break;}if(_l!=_g){break;}if(_m!=_h){break;}if(_n!=_i){break;}if(_o!=_j){break;}_d=false;break;}if(_d){_d=this._ChangeSelect(_k,_l,_m,_n,_o,false,_f,_g,_h,_i,_j,"body");}if(_d&&this._isSelectRowType()){var _p=this._dsRowToDispRow(_m);this._jumpCurrentRow(_p);var _q=this._getCurrentBodyCell( -1, -1);if(_q){_q._showfull();}}this._moveCellAfterFocus();return _d;};_pGrid._getColFixCnt=function(_a){if(this._curFormat){return this._curFormat._getColFixCnt(_a);}return  -1;};_pGrid._getGridBand=function(_a){if(!this._curFormat||!this._curFormat._bodycells){return  -1;}var _b=this._curFormat._bodycells[_a];if(_b){if(this._bPivotGrid){var _c=this._getColFixCnt("left");var _d=this._getColFixCnt("right");if(_b._col<_c){return  -1;}else if(_b._col>=(this._curFormat._bodycells.length-right)){return  -2;}else{return 0;}}else{return 0;}}return  -9;};_pGrid._clrMultiSelect=function(){this._selectinfo.rows=[];this._selectinfo.selects=[];this._selectstartrow=[];this._selectstartcol=[];this._selectstartsubrow=[];this._selectstartpvt=[];this._selectendrow=[];this._selectendcol=[];this._selectendsubrow=[];this._selectendpvt=[];this._defaultSelect();};_pGrid._isIncludeSelectpos=function(_a,_b){var _c=this._selectinfo.getSelectCells(_b);if(_c&&_c[_a]){return true;}return false;};_pGrid._addSelectpos=function(_a,_b,_c){var _d=this._selectinfo.selects;var _e=this._selectinfo.rows;if(!_d[_b+2]){_d[_b+2]=[];}_d[_b+2][_a]=true;for(var _f=0,_g=_e.length;_f<_g;_f++ ){if(_e[_f]==_b){return;}}_e.push(_b);if(!_c){_e.sort(function(_h,_i){return _h-_i;});}};_pGrid._delSelectpos=function(_a,_b,_c){var _d=this._selectinfo.selects;var _e=this._selectinfo.rows;if(_a<0){if(nexacro._isArray(_b)){var _f=_b.length;for(var _i=_f-1;_i>=0;_i-- ){if(_c){if(_d.length>_b[_i]+2){_d.splice(_b[_i]+2,1);}}else{_d[_b[_i]+2]=undefined;}for(var _j=0;_j<_e.length;_j++ ){if(_e[_j]==_b[_i]){_e.splice(_j,1);break;}}}}else{if(_c){if(_d.length>_b+2){_d.splice(_b+2,1);}}else{_d[_b+2]=undefined;}for(var _j=0;_j<_e.length;_j++ ){if(_e[_j]==_b){_e.splice(_j,1);break;}}}}else{if(nexacro._isArray(_b)){var _f=_b.length;var _g,_h;for(var _i=_f-1;_i>=0;_i-- ){_g=_d[_b[_i]+2];if(_g){_g[_a]=false;}_h=false;for(var _j=0,_k=_g.length;_j<_k;_j++ ){if(_g[_j]){_h=true;break;}}if(!_h){_d[_b+2]=undefined;for(var _j=0;_j<_e.length;_j++ ){if(_e[_j]==_b[_i]){_e.splice(_j,1);break;}}}}}else{var _g=_d[_b+2];if(_g){_g[_a]=false;}var _h=false;for(var _j=0,_l=_g.length;_j<_l;_j++ ){if(_g[_j]){_h=true;break;}}if(!_h){_d[_b+2]=undefined;for(var _j=0;_j<_e.length;_j++ ){if(_e[_j]==_b){_e.splice(_j,1);break;}}}}}};_pGrid._resetSelectStartEndRow=function(){var _a=this._selectinfo.selects;this._selectstartrow=[];this._selectendrow=[];for(var _b=0,_c=_a.length;_b<_c;_b++ ){if(_a[_b]){this._applySelect(this._selectstartrow,this._selectendrow,_b-2);}}this.selectstartrow=this._selectstartrow;this.selectendrow=this._selectendrow;if(!this.selectstartrow.length){this.selectstartrow= -9;}if(!this.selectendrow.length){this.selectendrow= -9;}};_pGrid._isMultiSelected=function(){if(!this._curFormat||!this._curFormat._bodycells){return false;}if(this._isSelectRowType()){if(this._selectinfo.rows.length>1){return true;}}else{if(this._selectinfo.rows.length>1){return true;}else if(this._selectinfo.rows.length==1){var _a=this._selectinfo.selects[this._selectinfo.rows[0]+2];var _b=0;for(var _c=0,_d=_a.length;_c<_d;_c++ ){if(_a[_c]){_b++ ;}if(_b>1){return true;}}}}return false;};_pGrid._initSelect=function(_a,_b,_c,_d,_e){_b=(_b!==undefined)?_b:0;_c=(_c!==undefined)?_c:0;_a=(_a!==undefined)?_a:0;_d=(_d!==undefined)?_d:0;_e=(_e!==undefined)?_e: -9;this._resetSelect(_a,_b,_c,_d,_e);};_pGrid._resetSelect=function(_a,_b,_c,_d,_e){var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curdsrow;var _i=this._selectinfo.cursubrow;var _j=this._selectinfo.curpvt;_b=(_b!==undefined)?_b:this._selectinfo.curcell;_c=(_c!==undefined)?_c:this._selectinfo.curcol;_a=(_a!==undefined)?_a:this._selectinfo.curdsrow;_d=(_d!==undefined)?_d:this._selectinfo.cursubrow;_e=(_e!==undefined)?_e:this._selectinfo.curpvt;if(_a>=0&&_b<0){if(this._isSelectRowType()){_b=0;}else{_b=_c=_d=0;}}if(this.getElement()){this._clrMultiSelect();this._multiselect="none";this._setSelectedInfo(_b,_c,_a,_d,_e);this._ChangeSelect(_b,_c,_a,_d,_e,true,_f,_g,_h,_i,_j,"body");this._refreshHead(true);this._refreshSumm(true);}else if(!this._is_created&&_a>=0){this._create_selection={cell:_b,col:_c,row:_a,subrow:_d,pvt:_e};}};_pGrid._ChangeSelect=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){_f=_f||false;var _n=this._multiselect;var _o=this._curFormat;if(!_o||((_m=="lbuttondown"||_m=="keydown")&&this._setdataobj&&this._setdataobj.succ==false)){this._setdataobj=null;this._setSelectedInfo(_g,_h,_i,_j,_k);return false;}var _p,_q,_r,_s=0;var _t=false;if(_l=="head"){_p=_o._headcells;_t=(_i!=_c||_g!=_a);if(_o._headrows){_s=_o._headrows.length;}}else if(_l=="summ"||_l=="summary"){_p=_o._summcells;_t=(_i!=_c||_g!=_a);if(_o._summrows){_s=_o._summrows.length;}}else{_p=_o._bodycells;if(this._isSelectRowType()){_t=(_i!=_c);}else{_t=(_i!=_c||_g!=_a);}if(_o._bodyrows){_s=_o._bodyrows.length;}}if(!_p){this._setSelectedInfo(_g,_h,_i,_j,_k);return false;}_q=_p.length;_r=_p[_a];var _u=false;if((_l=="body"&&_c<0)||_a<0){_u=(_n!="normal");this._clrMultiSelect();this._selectDraw(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_u,[]);this._selectinfo.area=[];this._defaultSelect();if(_t){this.on_fire_onselectchanged(this,_a,_b,_c,_d,_e,_g,_h,_i,_j,_k,this.selectendcol,this.selectendpivot,this.selectendrow,this.selectendsubrow,this.selectstartcol,this.selectstartpivot,this.selectstartrow,this.selectstartsubrow);}return true;}else if(!_r){this._setSelectedInfo(_g,_h,_i,_j,_k);return false;}_u=(this._selectClear||_u);this._selectClear=false;var _v=false;if(_n=="ctrl"){if(this.selecttype=="multirow"){if(!this._isIncludeSelectpos(0,_c)){_v=true;}}if(this.selecttype=="multicell"){if(!this._isIncludeSelectpos(_a,_c)){_v=true;}}}if(_f==false){if(this._binddataset&&_l=="body"&&_c>=0&&(_v==true||_i!=_c)){this._userRowposChange=true;var _w=this._binddataset._setRowPosition(_c,undefined,51);this._userRowposChange=false;if(_c!=_w){if(_w===undefined){this._setSelectedInfo(_g,_h,_i,_j,_k);this._selectDraw(_g,_h,_i,_j,_k,_f,_a,_b,_c,_d,_e,true,[]);return false;}else{_c=_w;}}}}var _x=this._selectinfo.ctrlpoint;var _y=[];var _z=false;var _aa=0;function makeClearRows(_ac){var _ad=_ac._selectinfo.rows;var _ae=0;_y=[];for(var _af=0,_ag=_ad.length;_af<_ag;_af++ ){_y[_ae++ ]=_ac._dsRowToDispRow(_ad[_af]);}return _ad;};if(_n=="none"){if(_l=="body"){if(this._isAreaSelect()||this._isMultiSelect()){if(this._isIncludeSelectpos(_a,_c)){if(_m=="keydown"||_m=="mousemove"){_z=true;}else{_x._set(_r,_c,_s);return false;}}else{if(_m=="lbuttonup"){_z=true;}}if(_m=="mousemove"){this._is_drag_selecting=true;}else{_y=makeClearRows(this);this._clrMultiSelect();if(_m!="lbuttonup"){_x._set(_r,_c,_s);}}}else{this._clrMultiSelect();_x._set(_r,_c,_s);}}else{_y=makeClearRows(this);this._clrMultiSelect();_x._set(_r,_c,_s);}this._selectinfo.area=[];}else if(_n=="ctrl"){if(_m!="mousemove"){_x._set(_r,_c,_s);}if(this.selecttype=="multirow"){if(_v==false&&(_m=="lbuttondown"||(_m&&_m.indexOf("func")>=0))){this._delMultirowSelectInfo(_c);this._delSelectpos( -1,_c);this._resetSelectStartEndRow();this._selectDraw(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_u,_y);this._defaultSelect();this.on_fire_onselectchanged(this,_a,_b,_c,_d,_e,_g,_h,_i,_j,_k,this.selectendcol,this.selectendpivot,this.selectendrow,this.selectendsubrow,this.selectstartcol,this.selectstartpivot,this.selectstartrow,this.selectstartsubrow);return true;}_z=true;_aa=this._selectinfo.area.length;if(_m=="mousemove"){this._is_drag_selecting=true;_aa-- ;}}else if(this.selecttype=="multiarea"){_aa=this._selectinfo.area.length;if(_m=="mousemove"){this._is_drag_selecting=true;_aa-- ;}}}else if(_n=="shift"){if(this.selecttype=="multiarea"){_aa=this._selectinfo.area.length-1;}this._clrMultiSelect();_u=true;}if(this._isSelectRowType()==false){if(_t){_z=true;}if(this._isAreaSelect()){this._applyAreaSelectPos(_a,_c,_aa,"area");}else{this._addSelectpos(_a,_c);this._applySelect(this._selectstartrow,this._selectendrow,_c);this._applySelect(this._selectstartcol,this._selectendcol,_b);this._applySelect(this._selectstartsubrow,this._selectendsubrow,_d);}}else{if(_t){_z=true;}if(this._isMultiSelect()){this._applyAreaSelectPos(_a,_c,_aa,"row");}else{for(var _ac=0;_ac<_q;_ac++ ){this._addSelectpos(_ac,_c);}this._applySelect(this._selectstartrow,this._selectendrow,_c);}}this._defaultSelect();var _ab=false;if(_f==false){if(this._binddataset&&_l=="body"&&_c>=0&&(_v==true||_i!=_c)){this._rowposition=_c;_ab=true;}else{if(_u==true){_ab=true;}else if(_z==true){_ab=true;}}}else{_u=(this._isMultiSelect()||this._isAreaSelect());_ab=true;}if(_ab){this._selectDraw(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_u,_y,_m);}if(_z&&_m!="func_area1"){this.on_fire_onselectchanged(this,_a,_b,_c,_d,_e,_g,_h,_i,_j,_k,this.selectendcol,this.selectendpivot,this.selectendrow,this.selectendsubrow,this.selectstartcol,this.selectstartpivot,this.selectstartrow,this.selectstartsubrow);}return true;};_pGrid._applyAreaSelectPos=function(_a,_b,_c,_d){var _e=this._curFormat;var _f,_g,_h;var _i=[],_j=0,_k=0,_l=[],_m=0,_n=0,_o=[],_p=0,_q=0;if(_e._bodycells){_i=_e._bodycells;_j=_i.length;_k=_e._bodyrows.length;}if(_e._headcells){_l=_e._headcells;_m=_l.length;_n=_e._headrows.length;}if(_e._summcells){_o=_e._summcells;_p=_o.length;_q=_e._summrows.length;}if(_b== -2){_f=_o;_h=_q;}else if(_b== -1){_f=_l;_h=_n;}else{_f=_i;_h=_k;}var _g=_f.length;var _r=this._selectinfo.ctrlpoint;var _s=_f[_a];var _t,_u,_v,_w,_x=[],_y=[],_z;_v=Math.min(_b,_r.row);_w=Math.max(_b,_r.row);_t=Math.min(_r.col,_s._col);_u=Math.max((_r.col+_r.colspan-1),(_s._col+_s._colspan-1));if(_r.row<_b){_v=_r.row;_w=_b;_z=_w-_v;_x[0]=_r.subrow;_y[0]=_r.subrowslen-1;_x[_z]=0;_y[_z]=_s._row+_s._rowspan-1;}else if(_r.row>_b){_v=_b;_w=_r.row;_z=_w-_v;_x[0]=_s._row;_y[0]=_h-1;_x[_z]=0;_y[_z]=_r.subrow+_r.rowspan-1;}else{_v=_w=_b;_z=0;_x[0]=Math.min(_s._row,_r.subrow);_y[0]=Math.max(_s._row+_s._rowspan-1,_r.subrow+_r.rowspan-1);}var _aa;for(var _ar=_v+1;_ar<_w;_ar++ ){_aa=_ar-_v;_x[_aa]=0;if(_ar== -1){_y[_aa]=_n-1;}else{_y[_aa]=_k-1;}}var _ab;if(_d=="area"){if(_v>=0||_v==_w){_ab=this._adjustMergeArea(_f,_t,_u,_v,_w,_x,_y);}else{var _ac,_ad;var _ae=_t,_af=_u;while(true){_ac=[].concat(_x);_ad=[].concat(_y);if(_v== -2){var _ag=_ac.splice(0,1);var _ah=_ad.splice(0,1);var _ai=_ac.splice(0,1);var _aj=_ad.splice(0,1);_ab=this._adjustMergeArea(_o,_ae,_af, -2, -2,_ag,_ah);_ae=_ab.begcol;_af=_ab.endcol;_ab=this._adjustMergeArea(_l,_ae,_af, -1, -1,_ai,_aj);if(_ae!=_ab.begcol||_af!=_ab.endcol){_ae=_ab.begcol;_af=_ab.endcol;continue;}}else if(_v== -1){var _ai=_ac.splice(0,1);var _aj=_ad.splice(0,1);_ab=this._adjustMergeArea(_l,_ae,_af, -1, -1,_ai,_aj);_ae=_ab.begcol;_af=_ab.endcol;}if(_w>=0){_ab=this._adjustMergeArea(_i,_ae,_af,0,_w,_ac,_ad);}if(_ae!=_ab.begcol||_af!=_ab.endcol){_ae=_ab.begcol;_af=_ab.endcol;continue;}break;}_ab.begrow=_v;_ab.begsubrow=_x;_ab.endsubrow=_y;}}else{_ab=this._adjustRowArea(_v,_w);}this._selectinfo.area[_c]=_ab;var _ak=this._selectinfo.area;var _al=_ak.length;this._clrMultiSelect();var _am,_an,_ao,_ap;if(_d=="area"){for(var _as=0;_as<_al;_as++ ){_t=_ak[_as].begcol;_u=_ak[_as].endcol;_v=_ak[_as].begrow;_w=_ak[_as].endrow;_x=_ak[_as].begsubrow;_y=_ak[_as].endsubrow;this._selectstartrow[_as]=_v;this._selectendrow[_as]=_w;this._selectstartcol[_as]=_t;this._selectendcol[_as]=_u;this._selectstartsubrow[_as]=_x[0];this._selectendsubrow[_as]=_y[_y.length-1];for(var _ar=_v,_at=0;_ar<=_w;_ar++ ,_at++ ){if(_ar== -2){_f=_o;_g=_p;}else if(_ar== -1){_f=_l;_g=_m;}else{_f=_i;_g=_j;}for(var _au=0;_au<_g;_au++ ){_am=_f[_au]._col;_an=_f[_au]._col+_f[_au]._colspan-1;_ao=_f[_au]._row;_ap=_f[_au]._row+_f[_au]._rowspan-1;if(_am>=_t&&_an<=_u&&_ao>=_x[_at]&&_ap<=_y[_at]){this._addSelectpos(_au,_ar);}}}}}else{for(var _as=0;_as<_al;_as++ ){_v=_ak[_as].begrow;_w=_ak[_as].endrow;for(var _ar=_v,_at=0;_ar<=_w;_ar++ ,_at++ ){if(_ar== -2){_g=_p;}else if(_ar== -1){_g=_m;}else{_g=_j;}if(_g==0){continue;}for(var _au=0;_au<_g;_au++ ){this._addSelectpos(_au,_ar,true);}this._applySelect(this._selectstartrow,this._selectendrow,_ar);}}var _aq=this._selectinfo.rows;_aq.sort(function(_as,_av){return _as-_av;});_aq=null;}};_pGrid._delMultirowSelectInfo=function(_a){var _b=this._selectinfo.area;var _c=_b.length;for(var _f=0;_f<_c;_f++ ){if(_b[_f].begrow==_b[_f].endrow&&_b[_f].begrow==_a){_b.splice(_f,1);break;}else if(_b[_f].begrow==_a&&_b[_f].endrow!=_a){_b[_f].begrow++ ;break;}else if(_b[_f].endrow==_a&&_b[_f].begrow!=_a){_b[_f].endrow-- ;break;}else if(_b[_f].begrow<_a&&_b[_f].endrow>_a){var _d=_b[_f].endrow;_b[_f].endrow=_a-1;var _e=this._adjustRowArea(_a+1,_d);_b.splice(_f+1,0,_e);break;}}};_pGrid._adjustRowArea=function(_a,_b){return {begcol: -1,endcol: -1,begrow:_a,endrow:_b,begsubrow:[],endsubrow:[]};};_pGrid._adjustMergeArea=function(_a,_b,_c,_d,_e,_f,_g){var _h=_e-_d;var _i=_a.length;var _j,_k,_l,_m;var _n,_o=_f.length;for(var _p=0;_p<_i;_p++ ){_j=_a[_p]._col;_k=_a[_p]._col+_a[_p]._colspan-1;_l=_a[_p]._row;_m=_a[_p]._row+_a[_p]._rowspan-1;_n=false;for(var _q=0;_q<_o;_q++ ){if(((_b<=_j&&_c>=_j)||(_b<=_k&&_c>=_k)||(_b>_j&&_c<_k))&&((_f[_q]<=_l&&_g[_q]>=_l)||(_f[_q]<=_m&&_g[_q]>=_m)||(_f[_q]>_l&&_g[_q]<_m))){if(_b>_j){_b=_j;_n=true;}if(_c<_k){_c=_k;_n=true;}if(_q==0){if(_f[0]>_l){_f[0]=_l;_n=true;}}if(_q==_h){if(_g[_h]<_m){_g[_h]=_m;_n=true;}}if(_n==true){_p=0;break;}}}}return {begcol:_b,endcol:_c,begrow:_d,endrow:_e,begsubrow:_f,endsubrow:_g};};_pGrid._defaultSelect=function(){this.selectstartrow=this._selectstartrow;this.selectstartcol=this._selectstartcol;this.selectstartsubrow=this._selectstartsubrow;this.selectstartpivot=this._selectstartpvt;this.selectendrow=this._selectendrow;this.selectendcol=this._selectendcol;this.selectendsubrow=this._selectendsubrow;this.selectendpivot=this._selectendpvt;if(!this.selectstartrow.length){this.selectstartrow= -9;}if(!this.selectstartcol.length){this.selectstartcol= -1;}if(!this.selectstartsubrow.length){this.selectstartsubrow= -1;}if(!this.selectstartpivot.length){this.selectstartpivot= -9;}if(!this.selectendrow.length){this.selectendrow= -9;}if(!this.selectendcol.length){this.selectendcol= -1;}if(!this.selectendsubrow.length){this.selectendsubrow= -1;}if(!this.selectendpivot.length){this.selectendpivot= -9;}};_pGrid._dsRowToDispRow=function(_a,_b){var _c;if(this._hasTree){_c=this._getTreeRowPosition(_a);}else{_c=_a;}if(_b){_c-=this._getBodyBegRowPos(_c);}return _c;};_pGrid._jumpCurrentRow=function(_a){if(_a<0){return this._begrowpos;}var _b=this._toprowpos[0];var _c=this.vscrollbar;var _d=this._getBodyBegRowPos(_a);if(this._lbuttondown_proc==false){if(_a<=_b){if(!this._select_noscroll&&_c&&_c._isEnable()){_c._set_rowpos(_a);}_d=this._getBodyBegRowPos(_a);}else if(_a>(_b+this.pagerowcount-1)){var _e=(this.pagerowcount>0)?this._pagerowcnt-this.pagerowcount:0;if(!this._select_noscroll&&_c&&_c._isEnable()){_c._set_rowpos(_a-this._pagerowcnt+1+_e);}_d=this._getBodyBegRowPos(_a);}else{if(this._isRemainAreaScroll()){if(!this._select_noscroll&&_c&&_c._isEnable()){_c._set_rowpos(_a);}_d=this._getBodyBegRowPos(_a);}}}return _d;};_pGrid._getBodyBegRowPos=function(_a){if(this._fixed_rowcnt>0){if(this._fixed_endrow>=_a){return this._fixed_startrow;}return this._begrowpos-(this._fixed_rowcnt-this._fixed_startrow);}return this._begrowpos;};_pGrid._clearRows=function(_a){if(_a.length>0){for(var _b=0,_c=_a.length;_b<_c;_b++ ){if(_a[_b]== -2){this._refreshSumm(true);bSummRowDraw=false;}else if(_a[_b]== -1){this._refreshHead(true);bHeadRowDraw=false;}else{this._refreshBodyRow(_a[_b]-this._getBodyBegRowPos(_a[_b]));}}return true;}return false;};_pGrid._selectDraw=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=this._dsRowToDispRow(_i);var _p=this._dsRowToDispRow(_c);var _q=this._toprowpos[0];this._setSelectedInfo(null,null,_c,null,null);if(!this._is_created){return;}var _r=false;var _s=false;var _t=false;var _u=null;if((_u=this._getUseBindExprProp("body"))||this._isUseBindExprStyle("body")){_r=true;_l=true;}if(this._isUseBindExprStyle("head")||this._getUseBindExprProp("head")||_p== -1||_o== -1){_s=true;}if(this._isUseBindExprStyle("summ")||this._getUseBindExprProp("summ")||_p== -2||_o== -2){_t=true;}if(this._isSelectRowType()){if(_p<0&&(_n&&_n.indexOf("func")<0)){if(_l){if(!this._clearRows(_m)){this._refreshBody(false,!_l);}}else{this._refreshBodyRow(_o-this._getBodyBegRowPos(_o));}if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}else if(_p!=_o){this._jumpCurrentRow(_p);if(this._isMultiSelect()){this._refreshBody(false,!_l);if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}else{if(_l){if(!this._clearRows(_m)){this._refreshBody(false,!_l);}else{this._refreshBodyRow(_p-this._getBodyBegRowPos(_p));}}else{this._refreshBodyRow(_o-this._getBodyBegRowPos(_o));this._refreshBodyRow(_p-this._getBodyBegRowPos(_p));}if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}}else{if(this._isMultiSelect()){this._refreshBody(false,!_l);if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}}}else{if(_p<0&&(_n&&_n.indexOf("func")<0)){if(_l){if(!this._clearRows(_m)){this._refreshBody(false,!_l);}}else{this._refreshBodyCell(_g,_o-this._getBodyBegRowPos(_o));}if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}else if(_p!=_o||_a!=_g){if(_n!="selectorsizing"){this._jumpCurrentRow(_p);var _v;if(_p== -1){_v=this._getCurrentHeadCell( -1);}else if(_p== -2){_v=this._getCurrentSummCell( -1);}else{_v=this._getCurrentBodyCell( -1, -1);}if(_v){var _w=_v._refobj._area;var _x=this._select_ctrl;if(_x&&_x._is_tracking){if(_w=="body"){_v.parent._showfull(_v);}else if(_w=="left"){if(this.hscrollbar){this.hscrollbar.set_pos(0);}}else{var _y=this._getScollMaxLeft();if(this.hscrollbar){this.hscrollbar.set_pos(_y);}}}else if(!_n){_v.parent._showfull(_v);}else if(_n=="keydown"){_v._showfull(true);}}}if(this._isAreaSelect()){if(_n=="selectorsizing"){if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){nexacro.OnceCallbackTimer.callonce(this,function(){this._refreshBody(false,!_l);},10);}else{this._refreshBody(false,!_l);}}else{this._refreshBody(false,!_l);if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}}else{if(_l){this._clearRows(_m);this._refreshBody(false,!_l);}else{this._refreshBodyCell(_g,_o-this._getBodyBegRowPos(_o));this._refreshBodyCell(_a,_p-this._getBodyBegRowPos(_p));}if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}}else{if(this._isAreaSelect()){if(_n=="selectorsizing"){if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){nexacro.OnceCallbackTimer.callonce(this,function(){this._refreshBody(false,!_l);},10);}else{this._refreshBody(false,!_l);}}else{this._refreshBody(false,!_l);if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}}else if(this._isMultiSelect()){if(_l){this._clearRows(_m);this._refreshBody(false,!_l);}else{this._refreshBodyCell(_a,_p-this._getBodyBegRowPos(_p));}if(_s){this._refreshHead(false);}if(_t){this._refreshSumm(false);}}}}this._adjustOverlayElements(false,this._is_use_fakemerge);this._updateSelector();this._setSelectBorder();};_pGrid._isUseBindExprStyle=function(_a){return this._is_use_bind_expr_style[_a];};_pGrid._isUseBindExprOuterStyle=function(_a){return this._is_use_bind_expr_outerstyle[_a];};_pGrid._getUseBindExprProp=function(_a){var _b;var _c;var _d=this._curFormat;if(_a=="summary"){_a="summ";}if(this._is_use_bind_expr_prop[_a]!==null){return this._is_use_bind_expr_prop[_a];}this._is_use_bind_expr_prop[_a]=undefined;if(_a=="body"){_b=this._bodyBand;_c=_d._bodycells;}else if(_a=="head"){_b=this._headBand;_c=_d._headcells;}else{_b=this._summBand;_c=_d._summcells;}if(_b){var _e;for(var _g=0,_h=_c.length;_g<_h;_g++ ){var _f=_c[_g];for(_e in _f){if(_f.hasOwnProperty(_e)){if(_a=="body"&&_e=="text"){continue;}if(_f[_e]&&_f[_e]._bindtype>0){if(this._is_use_bind_expr_prop[_a]==undefined){this._is_use_bind_expr_prop[_a]=[];}this._is_use_bind_expr_prop[_a].push(_g);break;}}}}}return this._is_use_bind_expr_prop[_a];};_pGrid._clearBindTypeFlag=function(){this._is_use_bind_expr_prop.body=null;this._is_use_bind_expr_prop.head=null;this._is_use_bind_expr_prop.summ=null;};_pGrid._toggleVal=function(_a,_b){if(!_b){return false;}var _c=_b._getValue(_a);_c=nexacro._toBoolean(_c);_c=(_c)?0:1;if(_b.text._bindtype==1){this._dsEventOccured=true;var _d=this._binddataset.setColumn(_a,_b.text._bindexpr,_c);if(nexacro._enableaccessibility){var _e=this._getAccessibilityCurrentCell();if(_e){_e._setAccessibilityStatChecked(nexacro._toBoolean(_c));}}this._dsEventOccured=false;return _d;}return false;};_pGrid._isEditorKeyAction=function(_a,_b,_c,_d,_e,_f){if(this._is_editor_keyaction==false){this._is_editor_keyaction=true;return true;}if(_a instanceof nexacro.InputElement||_a instanceof nexacro.TextAreaElement){if(_a.readonly==true){return false;}if(_c==nexacro.Event.KEY_LEFT){if(_e||_f||_d){return true;}var _g=_a.getElementCaretPos();if((_g&&_g!= -1)&&_g.begin!=0){return true;}}else if(_c==nexacro.Event.KEY_RIGHT){if(_e||_f||_d){return true;}var _g=_a.getElementCaretPos();var _h=_a.getElementValue();var _i=_h?_h.length:0;if((_g&&_g!= -1)&&_g.begin!=_i){return true;}}else if(_c==nexacro.Event.KEY_UP){if(_e||_f||_d){return true;}if(_a.usemultiline){var _j=_a.getCaretLine();if(_j!=1){return true;}}}else if(_c==nexacro.Event.KEY_DOWN){if(_e||_f||_d){return true;}if(_a.usemultiline){var _j=_a.getCaretLine();_b=_a.parent.linkedcontrol;var _k=parseInt(_b._getTextLine());if(_j!=_k){return true;}}}}return false;};_pGrid._getDlgCode=function(_a,_b,_c,_d){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._accept_arrow=true;}return {want_tab:this._acceptstab,want_return:false,want_escape:false,want_chars:false,want_arrows:this._accept_arrow};};_pGrid._getFirstEditableCell=function(){var _a,_b;if(this._binddataset&&this._curFormat&&this._curFormat._bodycells){var _c=this._getGridRowCount();var _d=this._curFormat._bodycells.length;for(var _f=0;_f<_c;_f++ ){for(var _g=0;_g<_d;_g++ ){var _e=_f;if(this._hasTree){_e=this._treeIndexes[_e];}_b=this._curFormat._bodycells[_g]._getEdittype(_e);if(_b!==""&&_b!=="none"){return {row:_e,cell:_g};}}}}return {row:null,cell:null};};_pGrid._getLastEditableCell=function(){var _a,_b;if(this._binddataset){var _c=this._getGridRowCount();var _d=this._curFormat._bodycells.length;for(var _f=_c-1;_f>=0;_f-- ){for(var _g=_d-1;_g>=0;_g-- ){var _e=_f;if(this._hasTree){_e=this._treeIndexes[_e];}_b=this._curFormat._bodycells[_g]._getEdittype(_e);if(_b!==""&&_b!=="none"){return {row:_e,cell:_g};}}}}return {row:null,cell:null};};_pGrid._isChar=function(_a){switch(_a){case 9:case 25:case 27:case 144:case 145:return false;break;};if((_a>=16&&_a<=21)||(_a>=33&&_a<=40)||(_a>=91&&_a<=93)||(_a>=112&&_a<=123)){return false;}return true;};_pGrid._ReasonRefresh=null;_pGrid.on_apply_cell_pseudo=function(_a,_b){this._ReasonRefresh=_a;_a._ReasonRefresh=1;if(this.enableredraw){if(this._isSelectRowType()){if(_b=="mouseover"){this._refreshBodyRow(_a._getDisplayRowIdx(),_b,_a.enable);}else{_a._ReasonRefresh=null;_a._control_pseudo="";_a._contents_pseudo="";this._refreshBodyRow(_a._getDisplayRowIdx(),_b,_a.enable);}this._adjustOverlayElements(false,this._is_use_fakemerge);}}_a._ReasonRefresh=null;this._ReasonRefresh=null;};_pGrid._setDSEventHandlers=function(_a){_a._setEventHandler("onload",this.on_dsnotify_onload,this);_a._setEventHandler("onrowposchanged",this.on_dsnotify_onrowposchanged,this);_a._setEventHandler("oncolumnchanged",this.on_dsnotify_oncolumnchanged,this);_a._setEventHandler("onrowsetchanged",this.on_dsnotify_onrowsetchanged,this);};_pGrid._removeDSEventHandlers=function(_a){_a._removeEventHandler("onload",this.on_dsnotify_onload,this);_a._removeEventHandler("onrowposchanged",this.on_dsnotify_onrowposchanged,this);_a._removeEventHandler("oncolumnchanged",this.on_dsnotify_oncolumnchanged,this);_a._removeEventHandler("onrowsetchanged",this.on_dsnotify_onrowsetchanged,this);};_pGrid._getBodyClientSize=function(){var _a=this._curFormat;var _b=0,_c=0,_d;_d=this._getAvailableRect(this);_c=_d.width;_b=_d.height;if(_a){if(!this._bodyBand){_d=this._getAvailableRect(this);_c=_d.width-_a.leftWidth-_a.rightWidth;_b=_d.height-this._getHeadHeight()-this._getSummHeight();}else{_d=this._getAvailableRect(this._bodyBand);_c=_d.width-_a.leftWidth-_a.rightWidth;_b=_d.height;}}return [_c,_b];};_pGrid._applyAutofittype=function(_a,_b){if(this.enableredraw==false){this._enable_redraw_history["autofit"]=[_a,_b];return;}var _c=this._curFormat;var _d=this.getElement();if(!_c||!_d){return;}var _e,_f;var _g=this._getBodyClientSize();_f=_g[0];_e=_g[1];if(!this._is_created&&(_f<=0||_e<=0)){_f=_d.client_width;_e=_d.client_height;}var _h=false;switch(this.autofittype){case "col":this._colautofit=true;this._rowautofit=false;break;case "row":this._colautofit=false;this._rowautofit=true;break;case "both":this._colautofit=true;this._rowautofit=true;break;case "allrow":this._colautofit=false;break;case "allboth":this._colautofit=true;break;case "col,allrow":this._colautofit=true;break;case "allpivot":this._colautofit=true;break;case "row,allpivot":this._colautofit=false;break;case "none":this._colautofit=false;this._rowautofit=false;_h=_b;break;}if(this._colautofit&&_f>=0){_h=_c._adjustColWidth(_f,this._autofitcol_rate);}if(_h){if(_a){this._autofiting=true;if(this._bodyBand){var _i=this._bodyBand._scrollHeight;var _j=this._bodyBand._scrollWidth;if(this._colautofit){if(_f!=_j){this._setScrollMaxSize(_f,_i);this._bodyBand._scrollWidth=_f;}this._bodyBand._matrix._adjustColsDisplay(true);}else{this._setScrollMaxSize(_c.bodyWidth,_i);this._bodyBand._scrollWidth=_c.bodyWidth;this._bodyBand._matrix._adjustColsDisplay(true);}}if(this._headBand){this._headBand._matrix._adjustColsDisplay(true);}if(this._summBand){this._summBand._matrix._adjustColsDisplay(true);}this._autofiting=false;this._onResetScrollBar();}this._applyResizer();return true;}return false;};_pGrid._resetColSizeList=function(_a){var _b=false;if(this.autofittype!="col"&&this.autofittype!="both"&&this.autofittype!="allboth"&&this.autofittype!="col,allrow"){var _c=this._curFormat;if(!_c){return false;}var _d=_c._cols,_e=_d.length;if(this.autosizingtype=="col"||this.autosizingtype=="both"){for(var _g=0;_g<_e;_g++ ){var _f=this._getMaxColDataSizeBand(_g,_a);if(_f>=0&&this._setColSize( -9,_g,_f,false,false,true,(_g!=_e-1))){_b=true;}}if(this.autofittype=="col"||this.autofittype=="both"||this.autofittype=="allboth"||this.autofittype=="col,allrow"){this._applyAutofittype(true);}}else{for(var _g=0;_g<_e;_g++ ){var _f=_d[_g].size;if(_f>=0&&this._setColSize( -9,_g,_f,false,false,true,(_g!=_e-1))){_b=true;}}}}return _b;};_pGrid.redraw=function(){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}this._recreate();if(this._select_ctrl){this._select_ctrl._updateAll();}};_pGrid._getRowSizeInfo=function(_a){var _b=this._curFormat;var _c,_d=[];if(_a== -1){_c=this._rowHeadList[0];_d=this._rowHeadListSub;return {row_size:_c,subrow_sizes:_d};}else if(_a== -2){_c=this._rowSummList[0];_d=this._rowSummListSub;return {row_size:_c,subrow_sizes:_d};}else if(_a>=0){var _e=_b._bodyrows;var _f=_e.length;var _g=this._rowSizeListSub=[];var _h=this._rowSizeList=[];_c=_g[_a];for(var _i=0;_i<_f;_i++ ){_d[_i]=_h[_a*_f+_i];}return {row_size:_c,subrow_sizes:_d};}return null;};_pGrid._resetRowSizeList=function(_a){if(!this._curFormat){return;}if(!this._preloadImage()){return;}var _b=this._curFormat;if(_b._headrows){var _c=this._isUserChangeHeadRowSize;if(!_c){this._rowHeadListSub=[];this._rowHeadList=[];}var _d=0,_e=_b._headrows,_f=_e.length,_g=this._rowHeadListSub,_h=this._rowHeadList,_i;if(!(_c&&_h[0]>=0)){if(this._binddataset&&this._headAutoSize&&(this._autoSizeRowProc||this.autosizingtype=="row"||this.autosizingtype=="both")){for(var _p=0;_p<_f;_p++ ){_i=this._getMaxSubRowSize( -1,_p);_g[_p]=_i;_d+=_i;}}else{for(var _p=0;_p<_f;_p++ ){_i=_e[_p].size;_g[_p]=_i;_d+=_i;}}this._rowHeadList[0]=_d;}}if(_b._summrows){var _c=this._isUserChangeSummRowSize;if(!_c){this._rowSummListSub=[];this._rowSummList=[];}var _d=0,_e=_b._summrows,_f=_e.length,_j=this._rowSummListSub,_k=this._rowSummList,_i;if(!(_c&&_k[0]>=0)){if(this._binddataset&&this._summAutoSize&&(this._autoSizeRowProc||this.autosizingtype=="row"||this.autosizingtype=="both")){for(var _p=0;_p<_f;_p++ ){_i=this._getMaxSubRowSize( -2,_p);_j[_p]=_i;_d+=_i;}}else{for(var _p=0;_p<_f;_p++ ){_i=_e[_p].size;_j[_p]=_i;_d+=_i;}}this._rowSummList[0]=_d;}}if(_b._bodyrows){var _c=this._isUserChangeBodyRowSize;if(!_c&&!_a){this._rowSizeList=[];this._rowSizeListSub=[];}var _l=this._rowcount,_e=_b._bodyrows,_f=_e.length,_m=this._rowSizeListSub,_n=this._rowSizeList,_d,_i,_o;if(this._binddataset&&this._bodyAutoSize&&(this._autoSizeRowProc||this.autosizingtype=="row"||this.autosizingtype=="both")){for(var _q=0;_q<_l;_q++ ){if(_a>=0&&_q<_a){continue;}_d=0;for(var _p=0;_p<_f;_p++ ){_o=_q*_f+_p;if(_c&&_m[_o]>=0&&this._realrowsized_body[_o]){_d+=_m[_o];continue;}_i=this._getMaxSubRowSize(_q,_p);_m[_o]=_i;_d+=_i;}_n[_q]=_d;}this._is_variable_bodyrowsize=true;}else{for(var _q=0;_q<_l;_q++ ){_d=0;for(var _p=0;_p<_f;_p++ ){_o=_q*_f+_p;if(_c&&_m[_o]>=0&&this._realrowsized_body[_o]){_d+=_m[_o];continue;}_i=_e[_p].size;_m[_o]=_i;_d+=_i;}_n[_q]=_d;}if(!_c){this._is_variable_bodyrowsize=false;}}}this._updateRowSizeExtend();};_pGrid._updateRowSizeExtendEx=function(_a,_b,_c,_d,_e){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){if(!_a){return;}var _f=[];var _g=_a.length;for(var _k=0;_k<_g;_k++ ){_f[_k]=0;}var _h=_c.length;if(_d!=undefined){for(var _l=0;_l<_g;_l++ ){_f[_l]=_c[_d*_g+_l];}}else{for(var _l=0;_l<_h;){for(var _k=0;_k<_g;_k++ ){_f[_k]=Math.max(_f[_k],_c[_l]);_l++ ;}}}for(var _l=0;_l<_h;){for(var _k=0;_k<_g;_k++ ){_c[_l]=_f[_k];_l++ ;}}var _i=0;for(var _k=0;_k<_g;_k++ ){_i+=_f[_k];}var _j=_b.length;for(var _l=0;_l<_j;_l++ ){_b[_l]=_i;}}if(_e){this._resetFixSize();}};_pGrid._updateRowSizeExtend=function(){if(!this._binddataset||!this._curFormat){return;}if(this._headAutoSize){this._updateRowSizeExtendEx(this._curFormat._headrows,this._rowHeadList,this._rowHeadListSub);}if(this._summAutoSize){this._updateRowSizeExtendEx(this._curFormat._summrows,this._rowSummList,this._rowSummListSub);}if(this._bodyAutoSize){this._updateRowSizeExtendEx(this._curFormat._bodyrows,this._rowSizeList,this._rowSizeListSub,undefined,true);}};_pGrid._isChangeBodyColSizeList=function(_a,_b,_c){if(this.autosizingtype!="both"&&this.autosizingtype!="col"){return false;}var _d=this._curFormat;if(!this._binddataset||!_d){return false;}var _e=_d._bodycells;var _f,_g,_h,_i=0;var _j=false;var _k;var _l=false;for(var _m=0,_n=_e.length;_m<_n;_m++ ){if(_e[_m].expr._bindexpr){_l=_e[_m].expr._bindexpr.indexOf(_a)== -1?false:true;}else if(_e[_m].text._bindexpr){if(_e[_m].text._bindtype==2){_l=_e[_m].text._bindexpr.indexOf(_a)== -1?false:true;}else if(_e[_m].text._bindexpr==_a){_l=true;}}if(_l){_l=false;_k=_e[_m]._getAttrValue(_e[_m].displaytype,_c);if(_k=="checkbox"){continue;}_g=_e[_m]._col;_f=_d._cols[_g];_h=this._getMaxColDataSizeBand(_g);if(_f.size!=_h){_d._setColSize(_g,_h);_b[_i++ ]=_g;_j=true;}}}return _j;};_pGrid._isChangeBodyRowSizeList=function(_a){if(this._rowSizeEx==false&&this.autosizingtype!="both"&&this.autosizingtype!="row"){return false;}if(!this._binddataset||!this._curFormat){return false;}var _b=_a;var _c=this._curFormat._bodyrows;var _d;if(_c&&this._bodyAutoSize==true){_d=_c.length;for(var _h=0;_h<_d;_h++ ){var _e=(_b*_c.length)+_h;var _f=this._rowSizeListSub[_e];var _g=this._getMaxSubRowSize(_b,_h);if(_f!=_g){return true;}}}_c=this._curFormat._headrows;if(_c&&this._headAutoSize==true){_d=_c.length;for(var _h=0;_h<_d;_h++ ){var _f=this._rowHeadListSub[_h];var _g=this._getMaxSubRowSize( -1,_h);if(_f!=_g){return true;}}}_c=this._curFormat._summrows;if(_c&&this._summAutoSize==true){_d=_c.length;for(var _h=0;_h<_d;_h++ ){var _f=this._rowSummListSub[_h];var _g=this._getMaxSubRowSize( -2,_h);if(_f!=_g){return true;}}}return false;};_pGrid._updateBodyRowSizeList=function(_a){var _b=false;if(this._rowSizeEx==false||this._bodyAutoSize==false){return false;}if(!this._binddataset||!this._curFormat||!this._curFormat._bodyrows||this._curFormat._bodyrows.length==0){return false;}var _c=_a;var _d=this._curFormat._bodyrows;var _e=_d.length;for(var _i=0;_i<_e;_i++ ){var _f=(_c*_d.length)+_i;var _g=this._rowSizeListSub[_f];var _h=this._getMaxSubRowSize(_c,_i);if(_g!=_h){this._rowSizeListSub[_f]=_h;this._rowSizeList[_c]+=(_h-_g);_b=true;}}if(_b==true){this._updateRowSizeExtend();}return _b;};_pGrid._isChangeBandSrollSizeList=function(_a){if(this._band_scroll_sizes){var _b=this._band_scroll_sizes.length;for(var _c=0;_c<_b;_c++ ){if(this._band_scroll_sizes[_c]!=_a[_c]){return true;}}}return false;};_pGrid._getGridRowCount=function(_a){if(_a&&this._bodyrowheight===0){return 0;}var _b=0;if(this._hasTree){if(this._treeIndexes){_b=this._treeIndexes.length;}}else{_b=this._rowcount;}return _b;};_pGrid._resetDisplayInfo=function(_a){this.pagerowcount=0;this._pagerowcnt=0;this._disprowcnt=0;var _b=this._curFormat;if(!_b){return;}var _c=this._getBodyClientSize();var _d=_c[1];var _e=this._getGridRowCount();var _b=this._curFormat;this._bodyrowheight=_b._body_height;if(this._bodyrowheight>0){if(this._is_variable_bodyrowsize==false){var _b=this._curFormat;var _f=this._bodyrowheight;this.pagerowcount=Math.floor(_d/_f);this._pagerowcnt=Math.ceil(_d/_f);}else{var _g=(this.vscrollbar)?this.vscrollbar._pos:0;var _h=this._control_element.vscroll_limit;if(_g<0){_g=0;}else if(_g>_h){_g=_h;}var _i,_j,_k=this._getScreenTopRowPos(_g);var _l=0;_i=_j=_k[0];_l=_k[1];var _m=0;var _n;for(;_j<_e;_j++ ){_n=this._getDataRow(_j);_m+=this._rowSizeList[_n];if(_l>0){_m-=(this._rowSizeList[_n]-_l);_l=0;}this._pagerowcnt++ ;if(_m>=_d){break;}this.pagerowcount++ ;}if(_j==_e&&_m<_d){var _o=(this._fixed_endrow>=0)?this._fixed_endrow: -1;for(var _j=_i-1;_j>_o;_j-- ){_n=this._getDataRow(_j);_m+=this._rowSizeList[_n];this._pagerowcnt++ ;if(_m>=_d){break;}this.pagerowcount++ ;}}while(_m<_d){_m+=this._bodyrowheight;this._pagerowcnt++ ;if(_m>=_d){break;}this.pagerowcount++ ;}if(this._pagerowcnt==0&&_k[1]>=_d){this._pagerowcnt=this.pagerowcount=1;}}this._disprowcnt=this._pagerowcnt;}};_pGrid._getMaxColSize=function(_a,_b,_c,_d,_e){var _f=0;var _g=_a.length;var _h,_i,_j;var _k=this._curFormat;var _l=0;var _m,_n;for(var _ah=0;_ah<_g;_ah++ ){_m=_a[_ah]._col;_n=_a[_ah]._colspan;if(_m<=_b&&_m+_n>_b){_j=_a[_ah]._subcells;if(_j.length>0){var _o=this._getMaxColSize(_j,_b-_m,_c,_b,_e);_f=Math.max(_f,_o);}else{if(_n>1){if(_m+_n-1!=_b){continue;}}if(!_d){_d=0;}var _p=0;if(this._hasTree){_p=this._getDepthWidth(_c,_a[_ah]);}if(_p<0){return  -1;}var _q=_a[_ah]._getAttrValue(_a[_ah].autosizecol,_c);var _r=_k._cols[_b+_d].orgsize;var _s;if(_q=="none"){_s=_r;}else{var _t=_a[_ah]._getAttrValue(_a[_ah].displaytype,_c);if(_t=="checkbox"){var _u=_a[_ah]._query_pseudo_control(this,_c,"checkboxsize","buttonsize","normal");if(_u==null){_u=14;}else{_u=parseInt(_u._value,10);}_s=_u+6;}else{var _v=_a[_ah]._getDisplayText(_c);if(_e&&_n==1&&!this._hasTree){var _w=/\r\n|\n|\r/;var _x=_v.split(_w);var _y=_x.length;var _z,_aa=0,_ab=0;for(var _ai=0;_ai<_y;_ai++ ){_z=this._getByteLength_UTF8(_x[_ai]);_ab=Math.max(_ab,_x[_ai].length);_aa=Math.max(_aa,_z);}if(_e.max>_aa&&_e.len>_ab){continue;}_e.len=_ab;_e.max=_aa;}_s=this._getCellRowTextSize(_a[_ah],_c,_v);_s=_s[0];}var _ac=_a[_ah]._curpadding,_ad=_a[_ah]._curborder;if(_ac==="bindexpr"||_ac===undefined){_ac=_a[_ah]._query_pseudo_padding(_c,"normal");}if(_ad==="bindexpr"||_ad===undefined){_ad=_a[_ah]._query_pseudo_border(_c,false,"normal",0,null,null);}_s+=(_ac)?(_ac.left+_ac.right):0;_s+=(_ad&&_ad.bottom_width)?parseInt(_ad.bottom_width):0;_s+=_p;if(_q=="limitmin"){if(_s<_r){_s=_r;}}else if(_q=="limitmax"){if(_s>_r){_s=_r;}}if(_n>1){var _ae=0;var _af=_m,_ag=_m+_n-1;for(var _ai=_af;_ai<_ag;_ai++ ){_ae+=_k._cols[_ai+_d].size;}_s-=_ae;}}_f=Math.max(_f,_s);}}}return _f+1;};_pGrid._getCellRowTextSize=function(_a,_b,_c,_d){var _e=_a._curfont,_f=_a._curselfont;var _g=_a._query_pseudo_letterspace(_b,false,"normal");var _h=_a._getWordwrap(_b);var _i=[],_j,_k;if(_e===undefined){_e=_a._query_pseudo_font(_b,false,"normal");_j=nexacro._getTextSize2(_g,"A",_e);if(_a._curfont!=="bindexpr"){_a._cur1font_size=_j;}}else{if(_e==="bindexpr"){_e=_a._query_pseudo_font(_b,false,"normal");_j=nexacro._getTextSize2(_g,"A",_e);}else if(!(_j=_a._cur1font_size)){_j=nexacro._getTextSize2(_g,"A",_e);_a._cur1font_size=_j;}}if(_f===undefined){_f=_a._query_pseudo_font(_b,true,"normal");_k=nexacro._getTextSize2(_g,"A",_f);if(_a._curselfont!=="bindexpr"){_a._cur1selectfont_size=_k;}}else{if(_f==="bindexpr"){_f=_a._query_pseudo_font(_b,true,"normal");_k=nexacro._getTextSize2(_g,"A",_f);}else if(!(_k=_a._cur1selectfont_size)){_k=nexacro._getTextSize2(_g,"A",_f);_a._cur1selectfont_size=_k;}}var _l,_m;if(!_c){if(_j[0]<=_k[0]){_i=[].concat(_k);}else{_i=[].concat(_j);}_i[0]=1;return _i;}else{if(_j[0]<=_k[0]){_e=_f;_m=_k[0];_l=_k[1];}else{_m=_j[0];_l=_j[1];}}var _n=_a._getAttrValue(_a.displaytype,_b);if(_n=="image"){var _o="row"+_b;var _p=_a._imgWidthTemp[_o];var _q=_a._imgHeightTemp[_o];if(_p>0){_i[0]=_p;_i[1]=_q;}else{url=nexacro._getURIValue(_c);url=nexacro._getImageLocation(url,this._getRefFormBaseUrl());var _r=nexacro._getImageSize(url,this._on_sizeloading,this,undefined,_c);if(_r){_i[0]=_r.width;_i[1]=_r.height;}else{_i[0]=1;_i[1]=_l;}}return _i;}else{var _s=true;if(this.autosizingtype=="col"||this.autosizingtype=="both"){_s=false;}var _n=_a._getAttrValue(_a.displaytype,_b);var _t=0,_u=0;var _v,_w,_x;var _y=_a._getEdittype(_b);if(_n=="combo"){var _z=_a._getAttrValue(_a.combodisplay,_b);if(_z=="display"){var _aa=this.controlcombo;_v=_a._query_pseudo_control(_aa,_b,"controlborder","border","normal");_w=_a._query_pseudo_control(_aa,_b,"controlpadding","padding","normal");if(_v){_t+=(_v._left_width+_v._right_width);_u+=(_v._top_width+_v._bottom_width);}if(_w){_t+=(_w.left+_w.right);_u+=(_w.top+_w.bottom);}}}else if(_n=="date"){var _z=_a._getAttrValue(_a.calendardisplay,_b);if(_z=="display"){var _aa=this.controlcalendar;_v=_a._query_pseudo_control(_aa,_b,"controlborder","border","normal");_w=_a._query_pseudo_control(_aa,_b,"controlpadding","padding","normal");if(_v){_t+=(_v._left_width+_v._right_width);_u+=(_v._top_width+_v._bottom_width);}if(_w){_t+=(_w.left+_w.right);_u+=(_w.top+_w.bottom);}}}else{var _z=_a._getAttrValue(_a.editdisplay,_b);if(_z=="display"){var _aa=this.controledit;if(_y=="textarea"){_aa=this._sizetextarea;_x=_a._query_pseudo_control(_aa,_b,"controllinespace","linespace","normal");}_v=_a._query_pseudo_control(_aa,_b,"controlborder","border","normal");_w=_a._query_pseudo_control(_aa,_b,"controlpadding","padding","normal");if(_v){_t+=(_v._left_width+_v._right_width);_u+=(_v._top_width+_v._bottom_width);}if(_w){_t+=(_w.left+_w.right);_u+=(_w.top+_w.bottom);}}else{if(nexacro.Browser=="Runtime"&&(_n=="normal"||_n=="text"||_n=="decoratetext")){_x=_a._query_pseudo_linespace(_b,"normal");}}}var _ab=_a._getAttrValue(_a.expandshow,_b);if(_ab=="show"){_t+=_a._getAttrValue(_a.expandsize,_b);}if(_s&&(this._autoSizeRowProc||this._rowSizeEx)&&((_h!="none"&&_h!=false&&_h!="false")||_x)){var _ac=this._curFormat._cols;var _ad=(_d?_d._col:0)+_a._col+_a._colspan-1;var _ae=_ac[_ad].right-_ac[_a._col].left;var _af=_a._query_pseudo_padding(_b,"normal");var _ag=_a._query_pseudo_border(_b,false,"normal",0,null,null);var _ah=_a._query_pseudo_border(_b,true,"normal",0,null,null);_ag=(_ag.right_width<_ah.right_width)?_ah:_ag;_ae-=(_af.left+_af.right);_ae-=_ag.right_width?parseInt(_ag.right_width):0;_i=nexacro._getTextSize2(_g,_c,_e,true,_ae,_h);if(_x&&this._sizetextarea._input_element){var _ai=nexacro._parseInt(_x._value);if(nexacro.Browser!="Runtime"){if(nexacro.Browser=="Chrome"){this._sizetextarea.set_visible(true);}var _k=[0,0];this._sizetextarea.move(0, -10,_ae,1);this._sizetextarea._input_element.setElementSize(_ae,1);this._sizetextarea.style.set_font(_e);this._sizetextarea.set_wordwrap(_h);this._sizetextarea.set_value(_c);this._sizetextarea._input_element.setElementLineSpace(_ai);_k[0]=this._sizetextarea._input_element.getScrollWidth();_k[1]=this._sizetextarea._input_element.getScrollHeight();if(this._sizetextarea._client_width<_k[0]&&_i[0]<_k[0]){_i[0]=_k[0];}if(this._sizetextarea._client_height<_k[1]&&_i[1]<_k[1]){_i[1]=_k[1]+_ai;}this._sizetextarea.set_visible(false);}else{var _aj=nexacro.ceil(_i[1]/_j[1]);_aj=(_aj>0)?(_aj-1):0;_i[1]+=(_ai*_aj);}}}else{_i=nexacro._getTextSize2(_g,_c,_e,true);if(nexacro.Browser=="Runtime"&&_x){var _ak=/\r\n|\n|\r/;var _al=_c.split(_ak);var _aj=_al.length-1;var _ai=_x?nexacro._parseInt(_x._value):0;_i[1]+=(_ai*_aj);}}_i[0]+=_t;_i[1]+=_u;if(_i[1]<_l){_i[1]=_l;}return _i;}};_pGrid._getMaxSubRowSize=function(_a,_b,_c,_d,_e){var _f=this._curFormat;var _g;if(_a== -2){if(!_c){_c=this._curFormat._summcells;};_g=_f._summrows;}else if(_a== -1){if(!_c){_c=this._curFormat._headcells;}_g=_f._headrows;}else{if(!_c){_c=this._curFormat._bodycells;}_g=_f._bodyrows;}var _h=this._curFormat._cols;if(!this._autoSizeRowProc&&this.autosizingtype!="row"&&this.autosizingtype!="both"){return _g[_b].size;}var _i=0;var _j=_c.length;var _k,_l,_m;for(var _ab=0;_ab<_j;_ab++ ){_k=_c[_ab]._row;_l=_c[_ab]._rowspan;_m=_c[_ab]._subcells;if(_k==_b||(_m.length>0&&_k<=_b&&(_k+_l)>_b)){var _n=0;var _o= -1;var _p=0;if(_m.length>0){_n=this._getMaxSubRowSize(_a,_b-_k,_m,_k,_c[_ab]);_i=Math.max(_i,_n);}else{if(!_d){_d=0;}var _q=_c[_ab]._getAttrValue(_c[_ab].autosizerow,_a);var _r=_g[_b+_d].size;var _s;if(_q=="none"){_s=_r;}else{var _t=_c[_ab]._getAttrValue(_c[_ab].displaytype,_a);if(_t=="checkbox"){var _u=_c[_ab]._query_pseudo_control(this,_a,"checkboxsize","buttonsize","normal");if(_u==null){_u=14;}else{_u=parseInt(_u._value,10);}_s=_u+6;}else{var _v=_c[_ab]._getDisplayText(_a);var _w=this._getCellRowTextSize(_c[_ab],_a,_v,_e);_s=_w[1];var _x=_w[0];var _y=1;var _z=_c[_ab]._curpadding,_aa=_c[_ab]._curborder;if(_z==="bindexpr"||_z===undefined){_z=_c[_ab]._query_pseudo_padding(_a,"normal");}if(_aa==="bindexpr"||_aa===undefined){_aa=_c[_ab]._query_pseudo_border(_a,false,"normal",0,null,null);}_s+=_z.top+_z.bottom;_s+=_aa.bottom_width?parseInt(_aa.bottom_width):0;if(_q=="limitmin"){if(_s<_r){_s=_r;}}else if(_q=="limitmax"){if(_s>_r){_s=_r;}}}}_i=Math.max(_i,_s);}}}return _i;};_pGrid._getSubRowSizeList=function(_a){var _b=this._curFormat;var _c=_b._bodyrows;var _d=_c.length;var _e=[],_f=0;for(var _g=0;_g<_d;_g++ ){_e[_f++ ]=this._rowSizeListSub[_a*_d+_g];}return _e;};_pGrid._makeCssRefInfoCtrl=function(_a){_a._refcssobj=this;_a._refcssid="#"+_a.id;return this;};_pGrid._addFuncQueue=function(_a,_b,_c,_d){var _e={work:_a,pthis:_b,func:_c,args:_d};this._func_queue.push(_e);};_pGrid._exeFuncQueue=function(_a){for(var _b=0;_b<this._func_queue.length;_b++ ){if(this._func_queue[_b].work==_a){this._func_queue[_b].func.call(this._func_queue[_b].pthis,this._func_queue[_b].args);this._func_queue.splice(_b,1);_b-- ;}}};_pGrid._addRefreshContents=function(_a,_b,_c){if(_b){var _d=this._recreate_contents_proc;if(_c){for(var _f=0,_g=_d.length;_f<_g;_f++ ){if(_d[_f].workname==_a){return false;}}}var _e={workname:_a,band:_b};_d.push(_e);return true;}};_pGrid._execRefreshContents=function(_a,_b,_c){if(_b&&this._recreate_contents_proc.length>0){this._clearAllStyleCache();}for(var _d=0;_d<this._recreate_contents_proc.length;_d++ ){if(this._recreate_contents_proc[_d].workname==_a){this._recreate_contents_proc[_d].band._recreate_contents(true,false,false,false,_c);this._recreate_contents_proc.splice(_d,1);_d-- ;}}};_pGrid._applyColSizing=function(_a,_b){if(this.enableredraw==false){return;}var _c=this.getElement();var _d=this._curFormat;if(_c&&_d&&_b>=0){var _e=this._headBand;var _f=_e._get_rows();var _g=_f[0]._cells[_b];var _h=_g._refobj;var _i=_h._col+(_h._colspan-1);var _j=_d._cols[_i]._area;if(_h._area!="right"){var _k=_d._cols[_i].left;var _l=_d._cols[_i].right+_a;if(_k>_l){var _m=_d._cols[_i+1];if((_m&&_m._area=="right")||_i==_d._cols.length-1){_a=_k-_d._cols[_i].right+7;}else{_a=_k-_d._cols[_i].right+1;}}}else{var _n=_d._cols[_i].right;var _o=_d._cols[_i].left+_a;if(_n<_o){_a=_n-_d._cols[_i].left-1;}_a=0-_a;}var _p=_d._cols[_i].size;var _q=_d._adjustColSizing(_i,_a);var _r=_d._cols[_i].size;if(_q){this._updateColSize(_i);this._isUserChangeColSize=true;this._addFuncQueue("colsizing",this,this.on_fire_oncolresized,[_i, -9,_r,_p,_i]);}}};_pGrid._applyRowSizing=function(_a,_b){if(this.enableredraw==false){return;}var _c=this.getElement();var _d,_e,_f;var _g=this._curFormat;if(_g&&_c&&_b>=0){var _h=this._resizerRowRange[_b];var _i=_h.area,_j;var _k=this._getDataRow(_h.row);var _l=_h.cellinfo._row+_h.cellinfo._rowspan-1;var _m=false;if(_i=="head"){_e=this._rowHeadListSub[_l];_j=_e+_a;_j=Math.max(_j,5);_j=Math.min(_j,this._client_height-5);_f=_j;var _n=this.enableredraw;this.enableredraw=false;this.setRealRowSize( -1,_l,_j,true);this.enableredraw=_n;_d=_l;if(_a){this._resizeBand();this._addRefreshContents("rowsizing",this._headBand);_m=true;}}else if(_i=="body"){_e=this._rowSizeListSub[_k*_g._bodyrows.length+_l];_j=_e+_a;var _o,_p;if(_k==this._rowcount-1){_p=7;}else{_p=1;}_o=_j-_p;if(_o<0){_j=_p;_a-=_o;}_f=_j;if(this._getFixRowCnt()>_k){this._fixed_height+=_a;this._fixedrow_height+=_a;}var _n=this.enableredraw;this.enableredraw=false;this.setRealRowSize(_k,_l,_j,true);this.enableredraw=_n;_d=_l+((_g._headrows)?_g._headrows.length:0);if(_a){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){this._addRefreshContents("rowsizing",this._bodyBand);}else{this._updateRowSize(_k,_l);}_m=true;}}else if(_i=="summ"){_e=this._rowSummListSub[_l];if(this.summarytype=="top"||this.summarytype=="lefttop"){_j=_e+_a;}else{_j=_e-_a;}_j=Math.max(_j,5);_j=Math.min(_j,this._client_height-5);_f=_j;var _n=this.enableredraw;this.enableredraw=false;this.setRealRowSize( -2,_l,_j,true);this.enableredraw=_n;_d=_l+((_g._headrows)?_g._headrows.length:0)+((_g._bodyrows)?_g._bodyrows.length:0);if(_a){this._resizeBand();this._addRefreshContents("rowsizing",this._summBand);_m=true;}}if(_m){this._addFuncQueue("rowsizing",this,this.on_fire_onrowresized,[_d,_k,_f,_e,_l]);}}};_pGrid._no_update_bandrect=false;_pGrid._updateColSize=function(_a){var _b=false;if(this.autosizingtype=="row"||this.autosizingtype=="both"){this._resetRowSizeList();var _c=this._no_update_bandrect;this._no_update_bandrect=true;this._resizeBand(true);this._no_update_bandrect=_c;_b=true;_a=null;}this._autofitcol_rate=[];this._applyAutofittype(true);if(this._getScrollLeft()!=0){_a=0;}if(this._headBand){this._headBand._matrix._adjustColsDisplay(true,false,_a);this._headBand._matrix._adjustRowsDisplay(_b);}if(this._summBand){this._summBand._matrix._adjustColsDisplay(true,false,_a);this._summBand._matrix._adjustRowsDisplay(_b);}if(this._bodyBand){var _d=this._getScrollTop();if(_d<0){_d=0;}this._last_scroll_top=_d;this._toprowpos=this._getScreenTopRowPos(_d);this._bottomrowpos=this._getScreenBottomRowPos(_d);this._bodyBand._matrix._adjustColsDisplay(true,false,_a);this._bodyBand._matrix._adjustRowsDisplay(_b);this._bodyBand._update_rows=this._bodyBand._matrix._adjustScrollRows(_d,true);this._bodyBand._on_refresh_rows(false,true);this._adjustOverlayElements(false,this._is_use_fakemerge);}};_pGrid._updateRowSize=function(_a,_b,_c){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){return;}var _d=this._curFormat;if(_a== -1){if(!this._headBand){return false;}var _e=this._headBand._get_rows()[0];var _f=this._rowHeadList[0];var _g=this._rowHeadListSub[_b];_e.set_height(_f);_e._init(_d);var _h=_e._cells;for(var _n=0,_o=_h.length;_n<_o;_n++ ){if(_h[_n]._refobj._row<=_b&&_b<_h[_n]._refobj._row+_h[_n]._refobj._rowspan){if(_h[_n]._refobj._row<_b){for(var _p=_h[_n]._refobj._row;_p<_b;_p++ ){_g+=this._rowHeadListSub[_p];}}if(_h[_n]._refobj._rowspan>1){for(var _p=_b+1;_p<_h[_n]._refobj._row+_h[_n]._refobj._rowspan;_p++ ){_g+=this._rowHeadListSub[_p];}}_h[_n].set_height(_g);}}this._resizeBand();if(this._bodyBand&&!_c){this._bodyBand._matrix._adjustRowsDisplay();this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._on_refresh_rows(false,false);}}else if(_a== -2){if(!this._summBand){return false;}var _e=this._summBand._get_rows()[0];var _f=this._rowSummList[0];var _g=this._rowSummListSub[_b];var _i=_d._summrows.length;_e.set_height(_f);_e._init(_d);var _h=_e._cells;for(var _n=0,_o=_h.length;_n<_o;_n++ ){if(_h[_n]._refobj._row<=_b&&_b<_h[_n]._refobj._row+_h[_n]._refobj._rowspan){if(_h[_n]._refobj._row<_b){for(var _p=_h[_n]._refobj._row;_p<_b;_p++ ){_g+=this._rowSummListSub[_p];}}if(_h[_n]._refobj._rowspan>1){for(var _p=_b+1;_p<_h[_n]._refobj._row+_h[_n]._refobj._rowspan;_p++ ){_g+=this._rowSummListSub[_p];}}_h[_n].set_height(_g);}}this._resizeBand();if(this._bodyBand&&!_c){this._bodyBand._matrix._adjustRowsDisplay();this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._on_refresh_rows(false,false);}}else if(_a>=0){if(!this._bodyBand){return false;}var _j=this._bodyBand._get_rows();var _e;for(var _q=0,_r=_j.length;_q<_r;_q++ ){if(_j[_q]._rowidx==_a){_e=_j[_q];break;}}if(!_e){return false;}_e._init(_d);this._bodyBand._control_element._setFixArea(this._fixed_height);this._bodyBand._client_height=this._bodyBand._control_element.client_height;var _k=this._getDataRow(_a);var _f=this._rowSizeList[_k];var _l=this._curFormat._bodyrows.length;var _g=this._rowSizeListSub[_k*_l+_b];_e.set_height(_f);var _h=_e._cells;for(var _n=0,_o=_h.length;_n<_o;_n++ ){if(_h[_n]._refobj._row<=_b&&_b<_h[_n]._refobj._row+_h[_n]._refobj._rowspan){if(_h[_n]._refobj._row<_b){for(var _p=_h[_n]._refobj._row;_p<_b;_p++ ){_g+=this._rowSizeListSub[_k*_l+_p];}}if(_h[_n]._refobj._rowspan>1){for(var _p=_b+1;_p<_h[_n]._refobj._row+_h[_n]._refobj._rowspan;_p++ ){_g+=this._rowSizeListSub[_k*_l+_p];}}_h[_n].set_height(_g);}}var _m=this._getScrollTop();if(_m<0){_m=0;}if(!_c){this._last_scroll_top=_m;this._toprowpos=this._getScreenTopRowPos(_m);this._bottomrowpos=this._getScreenBottomRowPos(_m);this._bodyBand._matrix._adjustRowsDisplay(true);this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._update_rows=this._bodyBand._matrix._adjustScrollRows(_m,true);this._bodyBand._on_refresh_rows(false,false);}}else{return false;}this._adjustOverlayElements(false,this._is_use_fakemerge);return true;};_pGrid._applyResizer=function(){if(!this._is_created){return;}var _a=this.currentstyle.border;var _b=(_a)?_a._left_width:0;var _c=(_a)?_a._top_width:0;if(this.cellsizingtype=="col"||this.cellsizingtype=="both"){var _d=this._headBand;if(_d==null){return;}var _e=_d._get_rows();if(_e.length==0){return;}var _f=_e[0]._cells.length;var _g,_h,_i,_j;var _k,_l,_m,_n;var _o=this._resizerColRange=[];var _p={};var _q=0;var _r=this._resizer_colctrl;var _s=this._curFormat;if(_r){_r.destroy();delete _r;}_r=new nexacro.GridControlResizer("resizertrack","absolute",0,0,0,0,null,null,this);_r._setDirection("horizon");_r._setTracksize(this._client_height);_r._setCallbackFn(this._applyColSizing);_r.createComponent();this._resizer_colctrl=_r;for(var _z=0;_z<_f;_z++ ){_k=_e[0]._cells[_z];if(!_k){break;}_m=_k._refobj;_n=_k._setPositionInGrid(null,true,true);_j=_n.height;_l=_k.on_find_CurrentStyle_border(_k._pseudo);if(_m._area=="left"||_m._area=="body"){_i=_l?_l._right_width:0;_g=_n.left+_k._adjust_width-_i-4;}else{_i=_l?_l._left_width:0;_g=_n.left-2;}_p={left:_g+_b,top:_n.top+_c,right:_g+_i+_b+6,bottom:_n.top+_j+_c,index:_k._cellidx,area:_m._area};switch(this.cellsizebandtype){case "body":if(_m._area=="body"){_o[_q++ ]=_p;}break;case "allband":case "nohead":_o[_q++ ]=_p;break;case "noleft":case "nohead,noleft":if(_m._area!="left"){_o[_q++ ]=_p;}break;}}}else{var _r=this._resizer_colctrl;if(_r){_r.destroy();this._resizer_colctrl=null;this._resizerColRange=[];}}if(this.cellsizingtype=="row"||this.cellsizingtype=="both"){var _t=this._headBand;var _u=this._bodyBand;var _v=this._summBand;var _e,_k,_l,_m,_n;if(!_t&&!_u&&!_v){return;}var _o=this._resizerRowRange=[];var _p={};var _q=0;var _w=this._resizer_rowctrl;if(_w){_w.destroy();delete _w;}_w=new nexacro.GridControlResizer("resizertrack","absolute",0,0,0,0,null,null,this);_w._setDirection("vertical");_w._setTracksize(this._client_width);_w._setCallbackFn(this._applyRowSizing);_w.createComponent();this._resizer_rowctrl=_w;while(_t){if(this.cellsizebandtype=="body"||this.cellsizebandtype=="nohead"||this.cellsizebandtype=="nohead,noleft"){break;}_e=_t._get_rows();if(!_e.length){break;}var _x=_e[0]._cells.length;for(var _aa=0;_aa<_x;_aa++ ){_k=_e[0]._cells[_aa];_m=_k._refobj;_n=_k._setPositionInGrid(null,true,true);_i=_k._adjust_width;_l=_k.on_find_CurrentStyle_border(_k._pseudo);_j=_l?_l._bottom_width:0;_h=_n.top+_k._adjust_height-_j-4;_p={left:_n.left+_b,top:_h+_c,right:_n.left+_i+_b,bottom:_h+_j+6+_c,index:_q,area:"head",row:_k._rowidx,cellinfo:_m};_o[_q++ ]=_p;}break;}if(_u){_e=_u._get_rows();var _y=_e.length;var _x=_y>0?_e[0]._cells.length:0;for(var _aa=0;_aa<_y;_aa++ ){for(var _z=0;_z<_x;_z++ ){_k=_e[_aa]._cells[_z];_m=_k._refobj;_n=_k._setPositionInGrid(null,true,true);_i=_k._adjust_width;_l=_k.on_find_CurrentStyle_border(_k._pseudo);_j=_l?_l._bottom_width:0;_h=_n.top+_k._adjust_height-_j-4;_p={left:_n.left+_b,top:_h+_c,right:_n.left+_i+_b,bottom:_h+_j+6+_c,index:_q,area:"body",row:_k._rowidx,cellinfo:_m};_o[_q++ ]=_p;}}}while(_v){if(this.cellsizebandtype=="body"){break;}_e=_v._get_rows();if(!_e.length){break;}var _x=_e[0]._cells.length;for(var _aa=0;_aa<_x;_aa++ ){_k=_e[0]._cells[_aa];_m=_k._refobj;_n=_k._setPositionInGrid(null,true,true);_i=_k._adjust_width;_l=_k.on_find_CurrentStyle_border(_k._pseudo);if(this.summarytype=="top"||this.summarytype=="lefttop"){_j=_l?_l._bottom_width:0;_h=_n.top+_k._adjust_height-_j-4;}else{_j=_l?_l._top_width:0;_h=_n.top-2;}_p={left:_n.left+_b,top:_h+_c,right:_n.left+_i+_b,bottom:_h+_j+6+_c,index:_q,area:"summ",row:_k._rowidx,cellinfo:_m};_o[_q++ ]=_p;}break;}}else{var _w=this._resizer_rowctrl;if(_w){_w.destroy();this._resizer_rowctrl=null;this._resizerRowRange=[];}}};_pGrid._isAreaSelect=function(){if(this.selecttype=="area"||this.selecttype=="multiarea"){return true;}return false;};_pGrid._isSelectRowType=function(){if(this.selecttype=="row"||this.selecttype=="multirow"){return true;}return false;};_pGrid._isMultiSelect=function(){if(this.selecttype=="multirow"||this.selecttype=="multicell"||this.selecttype=="multitreecell"||this.selecttype=="multiarea"){return true;}return false;};_pGrid._setColSize=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._curFormat;var _i=this._getColFixCnt("left");var _j=this._getColFixCnt("body");var _k=this._getColFixCnt("right");var _l=_h._cols;var _m=_l.length;var _n="body";if(_a== -1){_n="left";}else if(_a== -2){_n="right";}if(_d==true||_a>= -2){if(_n=="body"&&_b>=0){_b+=_i;}else if(_n=="right"){_b+=_i;_b+=_j;}}var _o=false;if(_b== -1){var _p;for(var _q=0;_q<_m;_q++ ){if(_f){if(_l[_q]._area=="left"&&this._AutoSizeLcol==false){continue;}if(_l[_q]._area=="right"&&this._AutoSizeRcol==false){continue;}}_p=_h.setFormatColProperty(_q,"size",_c);if(_p){_o=_p;this._autofitcol_rate=[];if(_e){this._recreate_contents_all(true,true,false);}}}}else{while(true){if(_f){if(_l[_b]._area=="left"&&this._AutoSizeLcol==false){break;}if(_l[_b]._area=="right"&&this._AutoSizeRcol==false){break;}}if(_o=_h._setColSize(_b,_c,_g)){if(_e){this._updateColSize(_b);}}break;}}return _o;};_pGrid._getLastRowBand=function(){var _a=this._curFormat;var _b="body";if(this.summarytype=="top"||this.summarytype=="lefttop"){if(_a._headrows&&_a._headrows.length){_b="head";}if(_a._summrows&&_a._summrows.length){_b="summ";}if(_a._bodyrows&&_a._bodyrows.length){_b="body";}}else{if(_a._headrows&&_a._headrows.length){_b="head";}if(_a._bodyrows&&_a._bodyrows.length){_b="body";}if(_a._summrows&&_a._summrows.length){_b="summ";}}return _b;};_pGrid._getDispRowCnt=function(){if(this._bodyBand){return this._bodyBand._get_rows().length;}return 0;};_pGrid._getScreenBottomRowPos=function(_a){if(!this._is_use_suppress){return  -1;}var _b=this._bodyBand;var _c=(_a!=null)?_a:this._getScrollTop();var _d= -1;var _e=0;var _f=this._getGridRowCount();var _g=this._getAvailableRect(_b).height;for(var _h=0;_h<_f;_h++ ){if(_h<=this._fixed_endrow){continue;}_e+=this._getRowSize(_h);if(_e>=_c+_g){_d=_h;break;}}return _d;};_pGrid._getScreenTopRowPos=function(_a){var _b=this._bodyBand;var _c=(_a!=null)?_a:this._getScrollTop();var _d=0;var _e=0;var _f=this._getGridRowCount();var _g=0;var _h=false;for(var _i=0;_i<_f;_i++ ){if(_i<=this._fixed_endrow){continue;}if(_e>_c){_d=_i-1;_g=_e-_c;_h=true;break;}_e+=this._getRowSize(_i);}if(!_h){if(_b._client_height<_e){if(_e>_c){_d=_i-1;_g=_e-_c;}}else{_d=this._getFixRowCnt();_g=0;}}return [_d,_g];};_pGrid._isRemainAreaScroll=function(){var _a=this._bodyBand;var _b=_a._get_rows();if(_b.length==0){return false;}var _c=this._getScrollTop();var _d=0;var _e=_b.length;var _f=_b[_e-1];var _g=this._getGridRowCount()-1;if(_f._rowidx!=_g){return false;}var _h=this._getBodyClientSize()[1];var _i=0;for(var _j=_b.length-1;_j>=0;_j-- ){_i=_b[_j]._rowidx;_d+=this._getRowSize(_i);if(_d>=_h){break;}}_c-=_b[0]._adjust_top;for(var _j=0;_j<_e;_j++ ){if(_d==_c){return false;}else if(_d>_c){if(_i==_b[_j]._rowidx-1){return true;}else{return false;}}_d+=this._getRowSize(_b[_j]._rowidx);}return false;};_pGrid._getScollMaxLeft=function(){if(this._control_element){return this._control_element.hscroll_limit;}return 0;};_pGrid._getScrollLeft=function(){if(this._control_element){return this._control_element.scroll_left;}return 0;};_pGrid._getScrollTop=function(){if(this._control_element){return this._control_element.scroll_top;}return 0;};_pGrid._getDataRow=function(_a){if(_a>=this._rowcount){return  -9;}if(this._hasTree&&_a>=0){_a=this._treeIndexes[_a];if(_a==undefined){_a= -9;}}return _a;};_pGrid._getGridRow=function(_a){if(this._hasTree&&_a>=0){var _b=this._treeIndexes;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]==_a){return _d;}}return  -9;}return _a;};_pGrid._refreshCol=function(_a,_b,_c){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(!this.getElement()){return;}var _d=this._headBand;if(_d&&(!_c||_c=="head")){var _e=_d._get_rows()[0];var _f=_e.length;for(var _i=0;_i<_f;_i++ ){var _g=_e[_i];if(_g&&_g._refobj._col==_a){if(_b){_g.currentstyle._empty();}_g._updateAll();}}}_d=this._summBand;if(_d&&(!_c||_c=="summ")){var _e=_d._get_rows()[0];var _f=_e.length;for(var _i=0;_i<_f;_i++ ){var _g=_e[_i];if(_g&&_g._refobj._col==_a){if(_b){_g.currentstyle._empty();}_g._updateAll();}}}_d=this._bodyBand;var _h=_d._get_rows();if(_d&&_h.length&&(!_c||_c=="body")){var _e=_h[0]._cells;var _f=_e.length;for(var _i=0;_i<_f;_i++ ){var _g=_e[_i];if(_g&&_g._refobj._col==_a){for(var _j=0;_j<this._getDispRowCnt();_j++ ){this._refreshCell("body",_g._cellidx,_j,_b);}}}}};_pGrid._refreshCell=function(_a,_b,_c,_d,_e){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}_a=_a.toLowerCase();if(_a=="head"){var _f=this._headBand;if(_f){var _g=_f._get_rows()[0]._cells[_b];if(_g){if(_d){_g.currentstyle._empty();}_g._updateAll(undefined,_e);}}}else if(_a=="summ"||_a=="summary"){var _f=this._summBand;if(_f){var _g=_f._get_rows()[0]._cells[_b];if(_g){if(_d){_g.currentstyle._empty();}_g._updateAll(undefined,_e);}}}else{if(_c>=0){this._refreshBodyCell(_b,_c,_d,_e);}else{for(var _h=0;_h<this._getDispRowCnt();_h++ ){this._refreshBodyCell(_b,_h,_d,_e);}}}};_pGrid._isEnable=function(){this._enable=nexacro.Component.prototype._isEnable.call(this);return this._enable;};_pGrid._getMaxColDataSizeBand=function(_a,_b){var _c= -1;var _d=this._curFormat;if(this._bodyAutoSize){var _e= -1;if(this._binddataset){var _f=this._getGridRowCount();if(_f>0&&_d._bodycells){if(!this._preloadTreeImage()){return  -1;}if(!this._preloadImage()){return  -1;}var _g=_d._bodycells;var _h=_g.length;var _i=[];var _j;var _k={max: -1,len: -1};var _l,_m,_n,_o;var _p,_q,_r,_s;for(var _u=0;_u<_h;_u++ ){_p=_g[_u];if(_p._col<=_a&&(_p._col+_p._colspan)>_a){if(_p!=_q){_i.push(_p);}_q=_p;if(_p._subcells.length){_r=_p._subcells;for(var _v=0,_w=_r.length;_v<_w;_v++ ){if(_p._col+_r[_v]._col<=_a&&(_p._col+_r[_v]._col+_r._colspan)>_a){_p=_r[_v];break;}}}if(_k){if(_p._curfont===undefined){_p._query_pseudo_font(0,false,"normal");}if(_p._curselfont===undefined){_p._query_pseudo_font(0,true,"normal");}if(_p._curborder===undefined){_p._query_pseudo_border(0,false,"normal",0,null,null);}if(_p._curpadding===undefined){_p._query_pseudo_padding(0,"normal");}if(_p._curfont==="bindexpr"||_p._curselfont==="bindexpr"||_p._curborder==="bindexpr"||_p._curpadding==="bindexpr"){_k=null;continue;}else if(_l!==undefined){if((_l!=_p._curfont)||(_m!=_p._curselfont)||(_n!=_p._curborder)||(_o!=_p._curpadding)){_k=null;continue;}}_l=_p._curfont;_m=_p._curselfont;_n=_p._curborder;_o=_p._curpadding;}}}for(var _v=0;_v<_f;_v++ ){var _t=this._getDataRow(_v);if(_b>=0&&_v<_b){_e=_d._cols[_a].size;continue;}_j=this._getMaxColSize(_i,_a,_t,null,_k);if(_j<0){return  -1;}_e=Math.max(_e,_j);}}}_c=Math.max(_c,_e);}if(this._headAutoSize&&_d._headcells){var _g=_d._headcells;var _h=_g.length;var _e;var _i=[],_p;for(var _u=0;_u<_h;_u++ ){_p=_g[_u];if(_p._col<=_a&&(_p._col+_p._colspan)>_a){_i.push(_p);}}_e=this._getMaxColSize(_i,_a, -1);_c=Math.max(_c,_e);}if(this._summAutoSize&&_d._summcells){var _g=_d._summcells;var _h=_g.length;var _e;var _i=[],_p;for(var _u=0;_u<_h;_u++ ){_p=_g[_u];if(_p._col<=_a&&(_p._col+_p._colspan)>_a){_i.push(_p);}}_e=this._getMaxColSize(_i,_a, -2);_c=Math.max(_c,_e);}return _c;};_pGrid._on_treeloadImagetemp=function(_a,_b,_c){};_pGrid._tree_recreate=false;_pGrid._hasTree=false;_pGrid._treeIndexes=null;_pGrid._treeStates=null;_pGrid._treeChecked=null;_pGrid._treeCellinfo=null;_pGrid._hasSameNextNode=null;_pGrid._maxdepth=0;_pGrid._rootlevel=99;_pGrid._treeInitStatus={"collapse,null":0,"expand,null":1,"collapse,all":2,"expand,all":3};_pGrid._currentCellEditor=null;_pGrid._tempEditor=null;_pGrid._currentCellCell= -1;_pGrid._currentCellRow= -1;_pGrid._currentCellCol= -1;_pGrid._currentCellSubRow= -1;_pGrid._showEditing=false;_pGrid._beforeEditRowIdx= -1;_pGrid._beforeEditCellIdx= -1;_pGrid._onceTime_focus=false;_pGrid._set_focus_dir= -1;_pGrid._showEditorFocus=false;_pGrid._on_treeloadImage=function(_a,_b,_c){var _d=this._tree_load_all;_d[_a]=true;var _e,_f=true;for(_e in _d){if(_d.hasOwnProperty(_e)){if(_d[_e]==false){_f=false;break;}}}if(_f){if(this._is_created){this._recreate_contents_all(true,true,true);}else{this._tree_recreate=true;}}else{if(this._is_created){if(this._resetColSizeList()){this._bodyBand._matrix._adjustColsDisplay(true);}}}};_pGrid._on_sizeloading=function(_a,_b,_c){var _d=this._image_load_all;if(_d[_a]){return;}_d[_a]=true;var _e,_f=true;for(_e in _d){if(_d.hasOwnProperty(_e)){if(_d[_e]==false){_f=false;break;}}}if(_f){if(this._is_created){this._recreate_contents_all(true,true,true);}else{this._image_recreate=true;}}else{if(this._is_created){if(this._resetColSizeList()){this._bodyBand._matrix._adjustColsDisplay(true);}}}};_pGrid._preloadTreeImage=function(){if(this._tree_load_all!=null){return true;}if(!this._binddataset){return true;}var _a=this._binddataset.getRowCount();var _b=this._curFormat._bodycells;var _c,_d,_e,_f;this._tree_load_all={};for(var _k=0;_k<_a;_k++ ){for(var _l=0,_m=_b.length;_l<_m;_l++ ){_e=_b[_l];_d=_e._getDisplaytype(_k);if(_d!="tree"){continue;}_c=this._treeStates[_k];if(_c==0){_f="treecollapseimage";}else if(_c==1){_f="treeexpandimage";}else if(_c==2){_f="treeitemimage";}var _g=_e._query_pseudo_treecontrol(_k,_f,"normal");if(_g){if(_g.substring(0,4).toLowerCase()=="url("){_g=_g.substring(5,_g.length-2);}_g=nexacro._getImageLocation(_g,this._getRefFormBaseUrl());this._tree_load_all[_g]=false;}_f="";if(_c==0){_f+="treeopenbuttonimage";}else if(_c==1){_f+="treeclosebuttonimage";}if(_f){var _g=_e._query_pseudo_treecontrol(_k,_f,"normal");if(_g){if(_g.substring(0,4).toLowerCase()=="url("){_g=_g.substring(5,_g.length-2);}_g=nexacro._getImageLocation(_g,this._getRefFormBaseUrl());this._tree_load_all[_g]=false;}}}}var _h,_i=true,_j;for(_h in this._tree_load_all){if(this._tree_load_all.hasOwnProperty(_h)){_j=nexacro._getImageSize(_h,this._on_treeloadImage,this);if(!_j){_i=false;}}}return _i;};_pGrid._preloadImage=function(){if(this._image_load_all!=null||this.autosizingtype=="none"){return true;}if(!this._binddataset){return true;}var _a=this._binddataset.getRowCount();var _b=this._curFormat._bodycells;var _c,_d;if(!_b){return true;}this._image_load_all={};for(var _i=0;_i<_a;_i++ ){for(var _j=0,_k=_b.length;_j<_k;_j++ ){_d=_b[_j];_c=_d._getDisplaytype(_i);if(_c!="image"){continue;}prop="text";var _e=_d._getDisplayText_image(_i);if(_e){if(_e.substring(0,4).toLowerCase()=="url("){_e=_e.substring(5,_e.length-2);}_e=nexacro._getImageLocation(_e,this._getRefFormBaseUrl());this._image_load_all[_e]=false;}}}var _f,_g=true,_h;for(_f in this._image_load_all){if(this._image_load_all.hasOwnProperty(_f)){_h=nexacro._getImageSize(_f,this._on_sizeloading,this);if(!_h){_g=false;}}}return _g;};_pGrid._getDepthWidth=function(_a,_b){var _c=_b._getDisplaytype(_a);if(_c!="tree"){return 0;}var _d=_b._getTreeStartLevel(_a);var _e=_b._getTreeLevel(_a);var _f=this._treeStates[_a];var _g=22;var _h=6;var _i=9;var _j=14;var _k=14;var _l=14;var _m,_n,_o;var _p;var _q="normal";if(_f==0){_p="treecollapseimage";}else if(_f==1){_p="treeexpandimage";}else if(_f==2){_p="treeitemimage";}var _r=_b._query_pseudo_treecontrol(_a,_p,_q);if(_r){if(_r.substring(0,4).toLowerCase()=="url("){_r=_r.substring(5,_r.length-2);}_r=nexacro._getImageLocation(_r,this._getRefFormBaseUrl());var _s=nexacro._getImageSize(_r,this._on_treeloadImagetemp,this,undefined,_b._query_pseudo_treecontrol(_a,_p,_q));if(_s){_j=_s.width;}}_p="";if(_f==0){_p+="treeopenbuttonimage";}else if(_f==1){_p+="treeclosebuttonimage";}if(_p){var _r=_b._query_pseudo_treecontrol(_a,_p,_q);if(_r){if(_r.substring(0,4).toLowerCase()=="url("){_r=_r.substring(5,_r.length-2);}_r=nexacro._getImageLocation(_r,this._getRefFormBaseUrl());var _s=nexacro._getImageSize(_r,this._on_treeloadImagetemp,this,undefined,_b._query_pseudo_treecontrol(_a,_p,_q));if(_s){_k=_s.width;}}}_e-=_d;if(_e<0){_e= -1;}var _t=(_e*_g)+_i;if(this.treeusebutton!="no"){_t+=_k;}else{_t+=_i;}if(this.treeusecheckbox==true){var _u=_b._query_pseudo_control(this,_a,"checkboxsize","buttonsize",_q);if(_u==null){checkWidth=14;}else{checkWidth=parseInt(_u._value,10);}_t+=checkWidth;}if(this.treeuseimage==true){_t+=1;if(_j>0){_t+=_j;}else{_t+=15;}_t+=5;}else{_t+=4;}return _t+2;};_pGrid._isPassPrevCell=function(_a,_b,_c,_d){var _e=_a.endsubrow.length;var _f=_a.begsubrow;var _g=_a.endsubrow;var _h=_a.begcol;var _i=_a.endcol;var _j=_b.length;if(_c=="next"||_c=="prev"){for(var _k=0;_k<_e;_k++ ){for(var _l=0;_l<_j;_l++ ){if(_f[_k]<=_b[_l]._row&&_g[_k]>=_b[_l]._row){if(_b[_l]._colspan>1){if(_c=="next"&&_b[_l]._col<_d&&_d<_b[_l]._col+_b[_l]._colspan){return true;}else if(_c=="prev"&&_b[_l]._col<=_d&&_d<_b[_l]._col+_b[_l]._colspan-1){return true;}}}}}}else{for(var _k=0,_m=_b.length;_k<_m;_k++ ){if(_h<=_b[_k]._col&&_i>=_b[_k]._col){if(_b[_k]._rowspan>1){if(_c=="down"&&_b[_k]._row<_d&&_d<_b[_k]._row+_b[_k]._rowspan){return true;}else if(_c=="up"&&_b[_k]._row<=_d&&_d<_b[_k]._row+_b[_k]._rowspan-1){return true;}}}}}return false;};_pGrid._getAreaMoveCell=function(_a,_b,_c){var _d=this._selectinfo;if(_d.area.length==0){return true;}var _e=_d.area[_d.area.length-1];var _f=this._curFormat._bodycells;if(_a=="next"){if(_d.ctrlpoint.col<_b){if(_e.endcol>=_b){return false;}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}else if(_a=="prev"){if(_d.ctrlpoint.col>_b){if(_e.begcol<=_b){return false;}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}else if(_a=="down"){if(_d.ctrlpoint.row<_c||(_d.ctrlpoint.row==_c&&_d.ctrlpoint.subrow<_b)){if(_e.endsubrow.length==(_c-_d.ctrlpoint.row+1)){if(_e.endsubrow[_e.endsubrow.length-1]>=_b){return false;}}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}else if(_a=="up"){if(_d.ctrlpoint.row>_c||(_d.ctrlpoint.row==_c&&_d.ctrlpoint.subrow>_b)){if(_e.begsubrow.length==(_d.ctrlpoint.row-_c+1)){if(_e.begsubrow[0]<=_b){return false;}}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}return true;};_pGrid._moveToCell=function(_a,_b,_c,_d,_e,_f){if(this._selectinfo.curdsrow<0&&!_b){if(this.rowcount>0&&(_a=="next"||_a=="down")){this._moveToPosCell(0,0);return true;}return false;}var _g=this._curFormat;if(_g==null||!_g._bodycells){return false;}var _h=_g._bodycells;var _i=_h.length;var _j=this._beforebodycellpos=this._selectinfo.curcell;var _k=this._beforebodycolpos=this._selectinfo.curcol;var _l=this._beforebodyrowpos=this._selectinfo.curdsrow;var _m=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _n=this._beforepvt=this._selectinfo.curpvt;var _o,_p,_q,_r;var _s= -9;var _t;if(_a=="next"){if(_b){_t=this._getLastEditableCell();if(_t.row==null||(_t.row<=this._selectinfo.curdsrow&&_t.cell==this._selectinfo.curcell)){this._hideEditor(undefined,undefined,true);if(this._setdataobj&&this._setdataobj.succ==false){this._setSelectedInfo(_j,_k,_l,_m,_n);this._setdataobj=null;this._needAfterMoveToCell();return true;}return false;}}for(;true;){var _u=this.rowcount;if(this._selectinfo.currow>=(_u-1)&&this._selectinfo.curcell>=(_g._bodycells.length-1)){return false;}if(this._selectinfo.curcell>=_h.length-1){if(_c){return false;}for(;true;){_o=0;_p=0;_q=this._selectinfo.curdsrow+1;_r=0;this._setSelectedInfo(_o,_p,_q,_r,_s);if(this._hasTree){var _v=false;var _w=this._treeIndexes;var _x=_w.length;for(var _as=0,_at=_w.length;_as<_at;_as++ ){if(_w[_as]==_q){_v=true;break;}else if(_w[_as]>_q){break;}}if(_v==false){continue;}}break;}}else{if(_c){_o=this._selectinfo.curcell;_p=_h[this._selectinfo.curcell]._col+_h[this._selectinfo.curcell]._colspan;_q=this._selectinfo.curdsrow;_r=this._selectinfo.cursubrow;for(var _au=0;_au<_i;_au++ ){if(_h[_au]._col==_p&&(_h[_au]._row<=this._selectinfo.cursubrow&&this._selectinfo.cursubrow<(_h[_au]._row+_h[_au]._rowspan))){if(!_d||_d==_h[_au]._area){_o=_au;_r=_h[_au]._row;break;}}}if(_o==this._selectinfo.curcell){return false;}}else{_o=this._selectinfo.curcell+1;_p=_h[_o]._col;_q=this._selectinfo.curdsrow;_r=_h[_o]._row;}if(_e!=undefined&&_e<_p){return false;}this._setSelectedInfo(_o,_p,_q,_r,_s);if(_g._cols[_p].size<=0){continue;}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_p,_q)){continue;}}}if(_b){if(this._hasTree){var _v=false;var _w=this._treeIndexes;var _x=_w.length;for(var _as=0;_as<_x;_as++ ){if(_w[_as]==_q){_v=true;break;}else if(_w[_as]>_q){break;}}if(_v==false){continue;}}var _y=_h[_o];var _z=_y._getEdittype(_q);if(_z==""||_z=="none"){continue;}}if(_f&&_q>=0){var _aa=this._getCurrentBodyCell(_q,_o);if(_aa){_aa._showfull(_aa);}}break;}}else if(_a=="prev"){for(;true;){if(this._selectinfo.curcell<=0){if(_c||this._selectinfo.currow<=0){this._hideEditor(undefined,undefined,true);if(this._setdataobj&&this._setdataobj.succ==false){this._setSelectedInfo(_j,_k,_l,_m,_n);this._setdataobj=null;this._needAfterMoveToCell();return true;}return false;}for(;true;){_o=_g._bodycells.length-1;_p=_h[_o]._col;_q=this._selectinfo.curdsrow-1;_r=_h[_o]._row;this._setSelectedInfo(_o,_p,_q,_r,_s);if(this._hasTree){var _v=false;var _w=this._treeIndexes;var _x=_w.length;for(var _as=0,_at=_w.length;_as<_at;_as++ ){if(_w[_as]==_q){_v=true;break;}else if(_w[_as]>_q){break;}}if(_v==false){continue;}}break;}}else{var _ab;if(_c){_o=this._selectinfo.curcell;_ab=_p=this._selectinfo.curcol-1;_q=this._selectinfo.curdsrow;_r=this._selectinfo.cursubrow;for(var _au=0;_au<_i;_au++ ){if((_h[_au]._col<=_p&&_p<_h[_au]._col+_h[_au]._colspan)&&(_h[_au]._row<=this._selectinfo.cursubrow&&this._selectinfo.cursubrow<(_h[_au]._row+_h[_au]._rowspan))){if(!_d||_d==_h[_au]._area){_p=_h[_au]._col;_o=_au;_r=_h[_au]._row;break;}}}if(_o==this._selectinfo.curcell){return false;}}else{_o=this._selectinfo.curcell-1;_p=_h[_o]._col;_q=this._selectinfo.curdsrow;_r=_h[_o]._row;}if(_e!=undefined&&_e>_p){return false;}this._setSelectedInfo(_o,_p,_q,_r,_s);if(_g._cols[_p].size<=0){continue;}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_ab,_q)){continue;}}}if(_b){if(this._hasTree){var _v=false;var _w=this._treeIndexes;var _x=_w.length;for(var _as=_x-1;_as>=0;_as-- ){if(_w[_as]==_q){_v=true;break;}else if(_w[_as]<_q){break;}}if(_v==false){continue;}}var _y=_h[_o];var _z=_y._getEdittype(_q);if(_z==""||_z=="none"){continue;}}if(_f&&_q>=0){var _aa=this._getCurrentBodyCell(_q,_o);if(_aa){_aa._showfull(_aa);}}break;}}else if(_a=="up"){var _ac= -1,_ad= -1,_ae= -1;var _af=this._selectinfo.curcol;var _ag;for(;true;){if(this._isSelectRowType()){if(this._selectinfo.curdsrow==0){return false;}_o=this._selectinfo.curcell;_p=this._selectinfo.curcol;_q=this._selectinfo.curdsrow-1;_r=this._selectinfo.cursubrow;}else{if(this._selectinfo.curdsrow==0&&this._selectinfo.cursubrow==0){return false;}if(this._fixed_startrow>=this._selectinfo.curdsrow){return false;}_ag=_h[this._selectinfo.curcell]._rowspan;var _ah;if(this._selectinfo.cursubrow==0){for(var _au=_i-1;_au>=0;_au-- ){if(_h[_au]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_h[_au]._col+_h[_au]._colspan)){_ac=_h[_au]._cellidx;_ad=_h[_au]._col;_ae=_h[_au]._row;_ah=_ae+_h[_au]._rowspan-1;break;}}_p=_ad;_o=_ac;_q=this._selectinfo.curdsrow-1;_r=_ae;}else{for(var _au=this._selectinfo.curcell-1;_au>=0;_au-- ){if(_h[_au]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_h[_au]._col+_h[_au]._colspan)&&_h[_au]._row<=(this._selectinfo.cursubrow-1)&&(this._selectinfo.cursubrow-1)<(_h[_au]._row+_h[_au]._rowspan)){_ac=_h[_au]._cellidx;_ad=_h[_au]._col;_ae=_h[_au]._row;_ah=_ae+_h[_au]._rowspan-1;break;}}_p=_ad;_o=_ac;_q=this._selectinfo.curdsrow;_r=_ae;}}this._setSelectedInfo(_o,_p,_q,_r,_s);if(this._hasTree){var _v=false;var _w=this._treeIndexes;var _x=_w.length;for(var _as=_x-1;_as>=0;_as-- ){if(_w[_as]==_q){_v=true;break;}else if(_w[_as]<_q){break;}}if(_v==false){continue;}}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_ah,_q)){continue;}}break;}}else if(_a=="down"){var _u=this._getGridRowCount();var _ai=this._dsRowToDispRow(this._selectinfo.curdsrow);var _aj=_g._bodyrows.length-1;var _ak= -1,_al= -1,_am= -1;var _af=this._selectinfo.curcol;var _an=this._selectinfo.cursubrow;var _ag;for(;true;){if(this._isSelectRowType()){if(_u-1<=_ai){return false;}_o=this._selectinfo.curcell;_p=this._selectinfo.curcol;_q=this._selectinfo.curdsrow+1;_r=this._selectinfo.cursubrow;}else{_ag=_h[this._selectinfo.curcell]._rowspan;if(_u-1<=_ai&&(this._selectinfo.cursubrow+_ag)-1==_aj){if(this.vscrollbar){this.vscrollbar.set_pos(this.vscrollbar.max);}return false;}if((this._selectinfo.cursubrow+_ag-1)==_aj){for(var _au=0;_au<_i;_au++ ){if(_h[_au]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_h[_au]._col+_h[_au]._colspan)){_ak=_h[_au]._cellidx;_al=_h[_au]._col;_am=_h[_au]._row;break;}}_p=_al;_o=_ak;_q=this._selectinfo.curdsrow+1;_r=_am;}else{for(var _au=this._selectinfo.curcell+1;_au<_i;_au++ ){if(_h[_au]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_h[_au]._col+_h[_au]._colspan)&&(_h[_au]._row==this._selectinfo.cursubrow+(_ag-1)+1)){_ak=_h[_au]._cellidx;_al=_h[_au]._col;_am=_h[_au]._row;break;}}_p=_al;_o=_ak;_q=this._selectinfo.curdsrow;_r=_am;}}this._setSelectedInfo(_o,_p,_q,_r,_s);if(this._hasTree){var _v=false;var _w=this._treeIndexes;var _x=_w.length;for(var _as=0,_av=_w.length;_as<_av;_as++ ){if(_w[_as]==_q){_v=true;break;}else if(_w[_as]>_q){break;}}if(_v==false){continue;}}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_r,_q)){continue;}}break;}}var _ao;if(this._keydown_elem){_ao="keydown";}this._hideEditor();var _ap=this._selectinfo;var _aq=this._ChangeSelect(_ap.curcell,_ap.curcol,_ap.curdsrow,_ap.cursubrow,_ap.curpvt,false,_j,_k,_l,_m,_n,"body",_ao);var _ar=this._getCurrentBodyCell(_ap.curdsrow,_ap.curcell);if(_ar&&!nexacro._enableaccessibility){_ar._no_dom_focus=true;_ar._setFocus(false);_ar._no_dom_focus=false;}if(this._track_mode!="areaselect"){this._needAfterMoveToCell();}return true;};_pGrid._needAfterMoveToCell=function(){if(!this._keydown_elem){this._moveCellAfterFocus();}else{if(this.autoenter=="select"&&!this._showEditing){var _a=this._getWindow();_a._postMessage(this,"showeditor",this._callbackPostmsg,[false,true]);}}};_pGrid._moveCellAfterFocus=function(){var _a=true;if(this.autoenter=="select"){if(nexacro.Browser=="Edge"||nexacro.Browser=="Opera"||nexacro.Browser=="IE"){this._onceTime_focus=true;}if(this._currentBand=="body"&&!this._showEditing){if(!this._showEditor(false,true)){this._hideEditor();_a=false;}}this._onceTime_focus=false;}return _a;};_pGrid._setTree=function(_a){_a=nexacro._toBoolean(_a);if(this._hasTree!=_a){this._hasTree=_a;if(_a==true){this._setFixedRow(false,true);this._initTreeStates();}else{this._clearTreeStates();}if(this._is_created){this._recreate_contents_all(false,false,false,true);}}};_pGrid._setTreeCellinfo=function(_a){if(this._treeCellinfo!=_a){this._treeCellinfo=_a;this._setTree(true);}};_pGrid._removeTreeCellinfo=function(_a){if(this._treeCellinfo==_a){this._treeCellinfo=null;this._setTree(false);}};_pGrid._initTreeStates=function(_a,_b){if(this._hasTree&&this._binddataset){this._treeIndexes=this._createTreeIndexes();this._treeStates=this._createTreeStates(_a,undefined,_b);this._treeChecked=this._createTreeChecked();this._createTreeHasChild();this._applyTreeStates();if(this._treeIndexes.length>0){this.rowcount=this._treeIndexes.length;}else{this.rowcount=0;}}};_pGrid._createTreeHasChild=function(){var _a=this._rowcount;var _b=this._treeCellinfo;if(this._hasSameNextNode){delete this._hasSameNextNode;}this._hasSameNextNode=new Array(_a);for(var _f=_a-1;_f>=0;_f-- ){var _c=_b._getTreeLevel(_f);this._maxdepth=Math.max(_c,this._maxdepth);this._rootlevel=Math.min(_c,this._rootlevel);if(this._hasSameNextNode[_f]==undefined){var _d=[];_d[0]=_c;_d[1]=false;this._hasSameNextNode[_f]=_d;for(var _g=_f-1;_g>=0;_g-- ){var _e=_b._getTreeLevel(_g);if(_c==_e){var _d=[];_d[0]=_c;_d[1]=true;this._hasSameNextNode[_g]=_d;}else if(_c>_e){break;}}}}this._rootlevel=Math.max(_b._getTreeStartLevel(0),this._rootlevel);};_pGrid._createTreeIndexes=function(){if(this._binddataset==null){return [];}var _a=this._binddataset.rowcount;var _b=new Array(_a);for(var _c=0;_c<_a;_c++ ){_b[_c]=_c;}return _b;};_pGrid._getTreeDefaultStatus=function(){var _a=this._treeInitStatus[this.treeinitstatus];if(_a==null){_a=0;}var _b;if(_a==0||_a==1){_b=(_a==0)?0:1;}else if(_a==2||_a==3){_b=(_a==2)?0:1;}return _b;};_pGrid._createTreeStates=function(_a,_b,_c){if(this._binddataset==null){return [];}var _d=this._binddataset;var _e=this._treeIndexes;var _f=_d.rowcount;var _g=_d._viewRecords;var _h=new Array(_f);var _i=this._treeCellinfo;var _j=this._treeInitStatus[this.treeinitstatus];var _k=null;var _l;if(_j==null){_j=0;}var _m=this._treeStates;if(_a&&_m.length==_f){for(var _q=0;_q<_f;_q++ ){if(_i.treestate._bindtype==0){_h[_q]=_m[_q];}}}if(_j==0||_j==1){var _n=(_j==0)?0:1;var _o=_l= -1;var _p;for(var _q=0;_q<_f;_q++ ){if(!_b){_k=_i._getTreeState(_q);}if(_h[_q]==undefined||(_c&&_h[_q]==2)){if(_k&&_k.length){_h[_q]=parseInt(_k,10);}else{_h[_q]=_n;}}_l=_i._getTreeLevel(_q);if(!_p||_i.treestate._bindtype==0){if(_o>=_l){_h[_q-1]=2;}else if(_h[_q-1]>=2){_h[_q-1]=_n;}}_o=_l;_p=_k;}if(_i.treestate._bindtype==0||!_k){_h[_f-1]=2;}}else if(_j==2||_j==3){var _n=(_j==2)?0:1;var _o=_l= -1;for(var _q=0;_q<_f;_q++ ){if(_h[_q]==undefined||(_c&&_h[_q]==2)){_h[_q]=_n;}_l=_i._getTreeLevel(_q);if(_o>=_l){_h[_q-1]=2;}_o=_l;}if(_f>0){_h[_f-1]=2;}}if(this._org_treeStates.length==0){this._org_treeStates=this._org_treeStates.concat(_h);}return _h;};_pGrid._createTreeChecked=function(){if(this._binddataset==null){return [];}var _a=this._binddataset.rowcount;var _b=new Array(_a);var _c=this._treeCellinfo;var _d=null;for(var _e=0;_e<_a;_e++ ){_d=_c._getTreeCheck(_e);if(_d&&(_d>0||_d.length)){_b[_e]=parseInt(_d,10);}else{_b[_e]=0;}}return _b;};_pGrid._updateTreeStates=function(_a,_b){if(this._hasTree&&this._binddataset){if(_a>=0){var _c=this._treeStates;if(_b){_c.splice(_a,0,2);}else{_c.splice(_a,1);var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_a);var _f=_d._getTreeLevel(_a-1);if(_e==_f){_c[_a-1]=2;}}this._treeStates=_c;}this._treeIndexes=this._createTreeIndexes();this._treeChecked=this._createTreeChecked();this._createTreeHasChild();this._applyTreeStates();if(this._treeIndexes.length>0){this.rowcount=this._treeIndexes.length;}else{this.rowcount=0;}}};_pGrid._applyTreeStates=function(){var _a=this._treeIndexes;var _b=this._treeStates;var _c=_a.length;var _d=this._treeCellinfo;var _e=_a.slice(0,_a.length);var _f= -1;var _g= -1;var _h=0;for(var _i=0;_i<_c;_i++ ){_h++ ;if(_b[_i]==0){_f=_d._getTreeLevel(_e[_i]);for(var _j=_i+1;_j<_c;_j++ ){_g=_d._getTreeLevel(_e[_j]);if(_g>_f){_i++ ;_a.splice(_h,1);}else{break;}}}}};_pGrid._clearTreeStates=function(){this._treeIndexes=null;this._treeStates=null;this._treeChecked=null;if(this._hasTree){this.rowcount=0;}};_pGrid._getTreeRowPosition=function(_a){if(_a<0||!this._hasTree){return _a;}var _b=this._treeIndexes;var _c=_b.length-1;for(var _d=_c;_d>=0;_d-- ){if(_b[_d]==_a){return _d;}else if(_b[_d]<_a){break;}}return  -1;};_pGrid._getBindTextCellInfo=function(_a){var _b=this._curFormat;var _c=true;if(!_b){return null;}var _d=[];if(_a){if(_b._headcells){var _e=_b._headcells;var _f=_e.length;var _g;for(var _l=0;_l<_f;_l++ ){_g=_e[_l];if(_g.text._bindexpr==_a){_d.push(_g);}}}if(_b._bodycells){var _h=_b._bodycells;var _i=_h.length;var _g;for(var _l=0;_l<_i;_l++ ){_g=_h[_l];if(_g.text._bindexpr==_a){_d.push(_g);}}}if(_b._summcells){var _j=_b._summcells;var _k=_j.length;var _g;for(var _l=0;_l<_k;_l++ ){_g=_j[_l];if(_g.text._bindexpr==_a){_d.push(_g);}}}}if(_d.length==0&&_b._bodycells){_d=_b._bodycells;_c=false;}return [_d,_c];};_pGrid._isTreeStateChanged=function(_a,_b){var _c=false;if(this._hasTree){var _d=_a.columnid;var _e=this._treeCellinfo;if(_d==_e.treecheck._bindexpr){var _f=_a.row;var _g=this._getTreeRowPosition(_f);var _h=_a.newvalue;this._setTreeChecked(_g,_h);}if(_b==false){if(_d==_e.treestate._bindexpr){var _f=_a.row;var _g=this._getTreeRowPosition(_f);var _h=_a.newvalue;this._setTreeState(_g,_h);_c=true;}var _i=this._getTreeDefaultStatus();if(_d==_e.treelevel._bindexpr){var _j;var _k=this._treeStates;var _l=_e._getTreeLevel(_a.row);for(var _m=_a.row-1;_m>=0;_m-- ){_j=_e._getTreeLevel(_m);if(_j<_l){if(_k[_m]>=2){_k[_m]=_i;}break;}}if(_k[_a.row]>=2){if(this._rowcount>0&&_a.row<this._rowcount-1){_j=_e._getTreeLevel(_a.row+1);if(_j>_l){_k[_a.row]=_i;}}}_c=true;}}}return _c;};_pGrid._setTreeState=function(_a,_b,_c,_d){_b=parseInt(_b,10);if(isFinite(_b)){var _e=this._treeIndexes[_a];var _f=this._treeStates[_e];var _g=0;if(_b!=_f){if(_b==2){if(_c){this._refreshBodyRow(_a-this._getBodyBegRowPos(_a));}return 1;}else if((_g=this._toggleTreeState(_a,_c,_b,_d))>0){return _g;}}}return 0;};_pGrid._getOrgTreeStates=function(_a){var _b;if(this._org_treeStates.length){_b=this._org_treeStates;}else{_b=this._createTreeStates(false,true);}if(_b[_a]==2){return 2;}else{return this._treeStates[_a];}};_pGrid._toggleTreeState=function(_a,_b,_c,_d){var _e=this._treeIndexes[_a];var _f;if(_d){_f=this._getOrgTreeStates(_e);}else{_f=this._treeStates[_e];}var _g=false;var _h;if(_f==0){if(this.on_fire_cantreestatuschange(_a,_e,1)!==false){_h=this._expandTreeState(_a);this.on_fire_ontreestatuschanged(_a,_e,1);}}else if(_f==1){if(this.on_fire_cantreestatuschange(_a,_e,0)!==false){_g=true;_h=this._collapseTreeState(_a);this.on_fire_ontreestatuschanged(_a,_e,0);}}else if(_f==2){if(_d){if(_d=="null_value"){this._treeStates[_e]=_c;}else{this._treeStates[_e]=2;}}else{if(this.on_fire_cantreestatuschange(_a,_e,0)!==false){_h=1;this._treeStates[_e]=_c;this.on_fire_ontreestatuschanged(_a,_e,0);}}}if(_b){if(_h==2){if(this._bodyBand){if(this.enableredraw){var _i=this._bodyBand._matrix._adjustTreeDisplay(_a,_g);if(_i){if(this._headBand){this._headBand._matrix._adjustColsDisplay(true);}if(this._summBand){this._summBand._matrix._adjustColsDisplay(true);}}this._setSelectBorder();}else{this._enable_redraw_history["recreate_body"]=true;}}}else if(_h==1){this._refreshBodyRow(_a-this._getBodyBegRowPos(_a));}}return _h;};_pGrid._collapseTreeState=function(_a){var _b=this._treeIndexes;var _c=this._treeStates;var _d=_b.length;var _e=_b[_a];var _f=this._treeCellinfo;if(_c[_e]==1){_c[_e]=0;}else{return 0;}var _g=_f._getTreeLevel(_e);if(nexacro._enableaccessibility&&nexacro._accessibilitytype!=4){var _h=this._getAccessibilityCurrentCell();if(_h){_h._setAccessibilityStatExpanded(false);}}var _i= -1;var _j=0;for(var _k=_a+1;_k<_d;_k++ ){_i=_f._getTreeLevel(_b[_k]);if(_i>_g){_j++ ;}else{break;}}if(_j>0){_b.splice(_a+1,_j);this.rowcount=_b.length;return 2;};return 1;};_pGrid._expandTreeState=function(_a){var _b=this._treeIndexes;var _c=this._treeStates;var _d=_c.length;var _e=_b[_a];var _f=this._treeCellinfo;if(_c[_e]==0){_c[_e]=1;}else{return 0;}var _g=_f._getTreeLevel(_e);if(nexacro._enableaccessibility&&nexacro._accessibilitytype!=4){var _h=this._getAccessibilityCurrentCell();if(_h){_h._setAccessibilityStatExpanded(true);}}var _i= -1;var _j=0;var _k=_e;var _l=[_e];var _m= -1;var _n= -1;var _o=false;var _p;for(var _r=_e+1;_r<_d;_r++ ){_i=_f._getTreeLevel(_r);if(_i>_g){if(_m<0){if((_p=(_i-_g))>1){for(var _s=0;_s<_p-1;_s++ ){_l.push(_m);}}}else{_n=_f._getTreeLevel(_m);if(_i>_n){if(_o==true){continue;}_k=_m;if((_p=(_i-_n))>1){for(var _s=0;_s<_p-1;_s++ ){_l.push(_m);}}else{_l.push(_m);}}else if(_i<_n){var _q=_n-_i;_l.splice(_l.length-_q,_q);_k=_l[_l.length-1];}_o=false;}if(_c[_k]>0){_b.splice(_a+1+_j,0,_r);_j++ ;}else{_o=true;}_m=_r;}else{break;}}if(_j>0){this.rowcount=this._treeIndexes.length;return 2;}return 1;};_pGrid._setTreeChecked=function(_a,_b){_b=parseInt(_b,10);if(isFinite(_b)){var _c=this._treeIndexes[_a];var _d=this._treeChecked[_c];if(_b==_d){return false;}else{return (this._toggleTreeChecked(_a));}}return false;};_pGrid._toggleTreeChecked=function(_a){var _b=this._treeIndexes[_a];var _c=this._treeChecked[_b];var _d=(_c==0)?1:0;this._treeChecked[_b]=_d;return true;};_pGrid._getCurrentBodyCell=function(_a,_b){var _c=this._bodyBand;if(_c){if(_a<0){_a=this._selectinfo.curdsrow;}if(_b<0){_b=this._selectinfo.curcell;}var _d=_c._get_row(_a);if(_d){return _d._cells[_b];}}return null;};_pGrid._getCurrentHeadCell=function(_a,_b){var _c=this._headBand;if(_c&&(_b||this._currentDSrow== -1)){if(_a<0){_a=this.currentcell;}var _d=_c._get_rows()[0];if(_d){return _d._cells[_a];}}return null;};_pGrid._getCurrentSummCell=function(_a,_b){var _c=this._summBand;if(_c&&(_b||this._currentDSrow== -2)){if(_a<0){_a=this.currentcell;}var _d=_c._get_rows()[0];if(_d){return _d._cells[_a];}}return null;};_pGrid._showEditor=function(_a,_b){if(nexacro._toBoolean(this.readonly)==true){return false;}var _c=this._find_lastFocused();if(_c!=this){return false;}if(!_a){var _d=this._getCurrentBodyCell( -1, -1);if(!_d){return false;}var _e=this._getBodyBegRowPos(_d._rowidx);var _f=this._endrowpos;var _g=this._selectinfo.currow;var _h=this._selectinfo.curcell;if(_e>_g||_f<_g){return false;}else{if(this._beforeEditRowIdx!=_g||this._beforeEditCellIdx!=_h){if(_d._hasEditor()){_d._showEditor(false,false,true);this._beforeEditRowIdx=this._selectinfo.curdsrow;this._beforeEditCellIdx=this._selectinfo.curcell;this._showEditing=true;var _i=this._getDataRow(_d._rowidx);_d._refobj._editingRow=_i;_d.editshowing=true;var _j=this._currentCellEditor;if(_j){_j._setFocus(false);if(_j.setCaretPos&&!_j.autoselect){_j.setCaretPos(0);}else if(_j.comboedit&&_j.comboedit.setCaretPos&&!_j.comboedit.autoselect){_j.comboedit.setCaretPos(0);}}}else{_d._setFocus(false);}}}}else{var _d=this._getCurrentBodyCell(this._beforeEditRowIdx,this._beforeEditCellIdx);if(_d&&_d._hasEditor()){_d._showEditor(true,true);this._showEditing=true;var _i=this._getDataRow(_d._rowidx);_d._refobj._editingRow=_i;}else{this._hideEditor(true);}}return true;};_pGrid._setdataobj=null;_pGrid._hideEditor=function(_a,_b,_c){if(!_a){var _d=this._getCurrentBodyCell(this._beforeEditRowIdx,this._beforeEditCellIdx);var _e=this._currentCellEditor;if(_e){var _f={succ:false};if(_d){if(!_b){if(_f){_f.succ=_e._setDataset(true);}else{_e._setDataset(true);}if(this._currentCellEditor&&this._currentCellEditor!=_e){_e=this._currentCellEditor;}}if(this._binddataset.enableevent==false){this._refreshAll();}if(nexacro.Browser=="Safari"){nexacro.OnceCallbackTimer.callonce(_e,function(){_e.set_visible(false);});}else{_e.set_visible(false);}this._currentCellEditor=null;if(_d._is_alive){_d._refobj._editingRow= -9;_d._setDisplayText();_d._hideEditor();if(this._keydown_elem&&!_c){_d._setFocus(false);}}this._showEditing=false;}else{_e._cellinfo._editingRow= -9;if(!_b){if(_f){_f.succ=_e._setDataset(true,this._currentCellRow);}else{_e._setDataset(true,this._currentCellRow);}}_e.set_visible(false);this._currentCellEditor=null;this._showEditing=false;}this._setdataobj=_f;}this._beforeEditCellIdx= -1;this._beforeEditRowIdx= -1;this._currentCellCell= -1;this._currentCellRow= -1;this._currentCellCol= -1;this._currentCellSubRow= -1;}else{var _e=this._currentCellEditor;if(_e){var _g=_e._adjust_height+10;_e.set_top( -_g);if(_e._cellobj._subComp){_e._cellobj._subComp.set_visible(true);}}}return true;};_pGrid._createEditor=function(_a){var _b=_a._refobj;var _c=this._getDataRow(_a._rowidx);var _d=_b._getEdittype(_c);var _e=this["_createEditor_"+_d];if(_e==null){_e=this._createEditor_text;}if(this._tempEditor){this._clearDestroyEditor(true);this._tempEditor.set_visible(false);this._destroyeditors.push(this._tempEditor);this._tempEditor=null;}var _f=_e.call(this,_a);this._tempEditor=this._currentCellEditor=_f;return _f;};_pGrid.getShowEditor=function(){var _a=this._currentCellEditor;if(_a instanceof nexacro.GridControlEdit||_a instanceof nexacro.GridControlTextArea||_a instanceof nexacro.GridControlMaskEdit){return _a;}else{return false;}};_pGrid._createEditor_text=function(_a){return this._createEditor_edit(_a);};_pGrid._createEditor_readonly=function(_a){return this._createEditor_textarea(_a,true);};_pGrid._createEditor_mask=function(_a,_b){return this._createEditor_maskedit(_a);};_pGrid._createEditor_masknumber=function(_a,_b){return this._createEditor_maskedit(_a);};_pGrid._createEditor_button=function(_a){var _b=_a._setPositionInGrid();var _c=new nexacro.GridControlButton("controlbutton",_b.left,_b.top,_b.width,_b.height,this);_c._cellobj=_a;_c._cellinfo=_a._refobj;_c.createComponent();if(nexacro.Browser=="IE"&&!nexacro._enableaccessibility){nexacro.OnceCallbackTimer.callonce(this,function(){_c._control_element.setElementFocus();},0);}return _c;};_pGrid._createEditor_edit=function(_a,_b){var _c=this._getDataRow(_a._rowidx);var _d=_a._setPositionInGrid();var _e=this._currentCompositionStatus;var _f=this._currentCompositionData;var _g=new nexacro.GridControlEdit("controledit",_d.left,_d.top,_d.width,_d.height,this);_g._cellobj=_a;_g._cellinfo=_a._refobj;var _h=_g._cellinfo._getValue(_c);_g._set_absolutelyValue(_h);_g.createComponent();var _i=_a._refobj;var _j=_i._getAttrValue(_i.editlimit,_c);if(_j==0){_j=this._binddataset._getColumnSize(_i.text._bindtype==1?_i.text._bindexpr:0);}_g.set_maxlength(_j);if(_b){_g.set_readonly(true);}if(nexacro.Browser=="Safari"){if(_e==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_f);}else if(_e==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_f);}}return _g;};_pGrid._createEditor_maskedit=function(_a,_b){var _c=this._getDataRow(_a._rowidx);var _d=_a._setPositionInGrid();var _e=new nexacro.GridControlMaskEdit("controlmaskedit",_d.left,_d.top,_d.width,_d.height,this);_e._cellobj=_a;_e._cellinfo=_a._refobj;var _f=_e._cellinfo._getValue(_c);_e._set_absolutelyValue(_f);var _g=_e._cellinfo._getEdittype(_c);var _h=_e._cellinfo._getAttrValue(_e._cellinfo.edittype,_c);var _i=_e._cellinfo._getDisplaytype(_c);var _j=_e._cellinfo._getAttrValue(_e._cellinfo.locale,_c);var _k=_e._cellinfo._getAttrValue(_e._cellinfo.editautoselect,_c);if(_g=="masknumber"){_e.set_type("number");}else{if(_h=="normal"){if(_i=="number"){_e.set_type("number");}else{_e.set_type("string");}}else{_e.set_type("string");}}if(_g=="masknumber"||_g=="mask"){_f=_e._cellinfo._getAttrValue(_e._cellinfo.mask,_c);if(_f!=null){_e.set_mask(_f);}}if(!_j){_j=this.locale;}if(_k){_e._is_first_focus=false;}_e.createComponent();_e.set_locale(_j);return _e;};_pGrid._createEditor_combo=function(_a){var _b=_a._setPositionInGrid();var _c=new nexacro.GridControlCombo("controlcombo",_b.left,_b.top,_b.width,_b.height,this);_c._cellobj=_a;_c._cellinfo=_a._refobj;_c.createComponent();return _c;};_pGrid._createEditor_date=function(_a){var _b=this._getDataRow(_a._rowidx);var _c=_a._setPositionInGrid();var _d=new nexacro.GridControlCalendar("controlcalendar",_c.left,_c.top,_c.width,_c.height,this);_d._cellobj=_a;_d._cellinfo=_a._refobj;var _e=_d._cellinfo._getValue(_b);var _f=_d._cellinfo._getAttrValue(_d._cellinfo.mask,_b);var _g=_d._cellinfo._getAttrValue(_d._cellinfo.locale,_b);var _h=_d._cellinfo._getAttrValue(_d._cellinfo.editautoselect,_b);if(this._displaymode==true&&!_e){_e=_d._cellinfo._getDisplayText(_b);}if(!_f||_f.length==0){_f="yyyy-MM-dd";}if(!_g){_g=this._getLocale();}_d.createComponent();_d.set_editformat(_f);_d.set_dateformat(_f);_d._currentformat="editformat";_d.set_value(_d._toValueStr(_e));_d.set_locale(_g);_d._resizeCalendar();if(_h){_d.calendaredit._is_first_focus=false;}return _d;};_pGrid._createEditor_textarea=function(_a,_b){var _c=this._getDataRow(_a._rowidx);var _d=_a._setPositionInGrid();var _e=this._currentCompositionStatus;var _f=this._currentCompositionData;var _g=new nexacro.GridControlTextArea("controltextarea",_d.left,_d.top,_d.width,_d.height,this);_g._cellobj=_a;_g._cellinfo=_a._refobj;var _h;if(_g._displaymode==true||_b){_h=_g._cellinfo._getDisplayText(_c);}else{_h=_g._cellinfo._getValue(_c);}_g._set_absolutelyValue(_h);var _i=_g._cellinfo._getWordwrap(_c);_g.set_wordwrap(_i);_g.createComponent();var _j=_a._refobj;var _c=this._getDataRow(_a._rowidx);var _k=_j._getAttrValue(_j.editlimit,_c);if(_k==0){_k=this._binddataset._getColumnSize(_j._col);}_g.set_maxlength(_k);if(_b){_g.set_readonly(true);}if(nexacro.Browser=="Safari"){if(_e==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_f);}else if(_e==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_f);}}var _l=_j._getAttrValue(_j.editacceptsenter);_g._is_use_ex_enter=!nexacro._toBoolean(_l);return _g;};_pGrid._setFocus=function(_a,_b,_c){if(nexacro._enableaccessibility){this._currentBand="grid";this._accept_arrow=true;this._removeAccessibilityCurrentFocus();if(_b==2){var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d&&_d.enable==false){this._setAccessibilityBandFocus("next",true,false);}}else if(_b==3){this._setAccessibilityBandFocus("prev",true);}}return nexacro.Component.prototype._setFocus.call(this,_a,_b,_c);};_pGrid._evtvalue=function(_a,_b){var _c="";if(_a&&_a.value){_c=_a.value;}else if(_b){_c=_b;}return _c;};_pGrid._getAvailableRect=function(_a){var _b={left:0,top:0,right:0,bottom:0,width:0,height:0};_b.left=_a._client_left;_b.top=_a._client_top;_b.right=_a._client_left+_a._client_width;_b.bottom=_a._client_top+_a._client_height;_b.width=_a._client_width;_b.height=_a._client_height;return _b;};_pGrid._getPosRect=function(_a){var _b={left:_a._adjust_left,top:_a._adjust_top,right:_a._getPosRight(),bottom:_a._getPosBottom(),width:_a._adjust_width,height:_a._adjust_height};return _b;};_pGrid._closePopup=function(){var _a=this._currentCellEditor;if(_a&&_a.popupwindow){_a._closePopup();}};_pGrid._setSelectBorder=function(){if(!this._is_created){return;}var _a=this._bodyBand;if(_a){var _b=_a.on_find_CurrentStyle_selectborder(_a._pseudo);}if(!_a||!_b){this._destroySelectBorderElements();return;}var _c=[],_d=[];var _e=this._selectinfo;if(this._isAreaSelect()||this._isMultiSelect()){var _f=null;var _g=_e.area;for(var _ai=0,_aj=_g.length;_ai<_aj;_ai++ ){_d=[];for(var _l=_g[_ai].begrow,_ak=_g[_ai].endrow;_l<=_ak;_l++ ){var _h=_g[_ai].begcol;var _i=_g[_ai].endcol;if(this._isSelectRowType()){var _j=_a._get_row(_l);if(_j&&_j._cells){_i=_j._cells.length-1;}_h=0;}for(;_h<=_i;_h++ ){_f=this._getCurrentBodyCell(_l,_h);if(_f){if(_f._subComp){_d.push(_f._subComp._control_element);}_d.push(_f._control_element);}}}_c.push(_d);}_g=null;_d=null;_f=null;}else{var _k=_e.rows;var _l=_a._get_row(_k[0]);var _m=_e.getSelectCells(_k[0]);if(_l&&_l._cells){var _n=_l._cells;for(var _al=0,_am=_n.length;_al<_am;_al++ ){if(_m[_al]){if(_n[_al]._subComp){if(_n[_al]._subComp instanceof nexacro.GridControlTree){if(_n[_al]._subComp._btn_elem){_d.push(_n[_al]._subComp._btn_elem);}if(_n[_al]._subComp._chk_ctrl){_d.push(_n[_al]._subComp._chk_ctrl._control_element);}if(_n[_al]._subComp._img_elem){_d.push(_n[_al]._subComp._img_elem);}if(_n[_al]._subComp._text_elem){_d.push(_n[_al]._subComp._text_elem);}_d.push(_n[_al]._subComp._control_element);}else{_d.push(_n[_al]._subComp._control_element);}}_d.push(_n[_al]._control_element);}}_c.push(_d);_n=null;}_m=null;_k=null;_l=null;}if(_c&&_c.length>0){var _o=0;var _p=this._selectborder_elements;for(var _ai=0,_an=_c.length;_ai<_an;_ai++ ){_d=_c[_ai];if(_d&&_d.length>0){if(!_p[_o]){var _q=new nexacro.EventPassOverlayElement(this._bodyBand._control_element,_d);_q.create();_p.push(_q);}else{var _q=_p[_o];_q.setTargetElements(_d);}var _r=_q._findLinkedControl(_d[0]);if(!(_r instanceof nexacro.GridCell)){_r=this._findCellObj(_r);}var _s=_q._findLinkedControl(_d[_d.length-1]);if(!(_s instanceof nexacro.GridCell)){_s=this._findCellObj(_s);}var _t=_r.parent._getAreaRect(_r._refobj._area);var _u=_s.parent._getAreaRect(_s._refobj._area);var _v=this._getScrollLeft();var _w=this._getScrollTop();var _x=(_t.left+_r.parent._adjust_left+_r._adjust_left)-_v;var _y=(_t.top+_r.parent._adjust_top+_r._adjust_top)-_w;var _z=(_u.left+_s.parent._adjust_left+_s._adjust_left+_s._adjust_width-_v)-_x;var _aa=(_u.top+_s.parent._adjust_top+_s._adjust_top+_s._adjust_height-_w)-_y;_o++ ;var _ab=0,_ac=0;var _ad=false,_ae=false,_af=false;var _ag=_r._refobj._area;var _ah=_s._refobj._area;if(_ag=="left"||_ag=="right"){_x=_x+_v;if(_ah!="left"&&_ah!="right"){_z=_z-_v;_ab=_t.width-_x;if(_ab>=_z){_z=_ab;}if(_x+_z>=_u.left+_u.width){_ab=(_x+_z)-(_u.left+_u.width);_z=_z-_ab;if(_ab>_b._right_width){_af=true;}}}}else if(_ag=="body"){if(_ah=="right"){_ab=_v;_z=_z+_ab;if(_x>=_u.left){_x=_u.left;_z=_s._adjust_left+_s._adjust_width;}if(_x<=_t.left&&0<_t.left){_ab=_t.left-_x;_x=_t.left;_z=_z-_ab;if(_ab>_b._left_width){_ad=true;}}}else if(_ah=="body"){if(_x<=_t.left&&0<_t.left){_ab=_t.left-_x;_x=_t.left;_z=_z-_ab;if(_ab>_b._left_width){_ad=true;}}if(_x+_z>=_t.left+_t.width){_ab=(_x+_z)-(_t.left+_t.width);_z=_z-_ab;if(_ab>_b._right_width){_af=true;}}}}if(this._fixed_height>0){if(this._fixed_endrow>=_r._rowidx){_y=_y+_w;if(this._fixed_endrow<_s._rowidx){_ac=this._fixed_height-_w;_aa=_aa+_ac;_ac=this._fixed_height-_y;if(_aa<=_ac){_aa=_ac;}}}else{_y=_y+this._fixed_height;if(_y<=this._fixed_height){_ac=this._fixed_height-_y;_y=this._fixed_height;_aa=_aa-_ac;if(_ac>=_b._top_width){_ae=true;}}}}_x=(_t.left>0||_x>0)?_x-1:_x;_z=_z>0?_z:0;_aa=_aa>0?_aa:0;_q.setElementPosition(_x,_y);_q.setElementSize(_z,_aa);_q._setElementBorder(_b,_ad,_ae,_af);_d=null;_d=[];}}this._selectborder_elements=_p;_p=null;}else{this._destroySelectBorderElements();}if(_o<this._selectborder_elements.length){this._destroySelectBorderElements(_o);}};_pGrid._destroySelectBorderElements=function(_a){var _b=this._selectborder_elements;if(_b.length){var _c=_a|0;var _d=_b.length;for(;_c<_d;_c++ ){_b[_c].destroy();_b[_c]=null;}_b.splice(_a|0,_d);}this._selectborder_elements=_b;};_pGrid._destroyOverlayElements=function(){var _a=this._overlay_elements;if(_a.length){for(var _b=0,_c=_a.length;_b<_c;_b++ ){_a[_b].destroy();}_a=[];}this._overlay_elements=[];};_pGrid._setOverlayElements=function(_a,_b){if(_b> -1&&_b<_a.length){for(var _c=_a.length-1;_c>=_b;_c-- ){_a[_c].destroy();_a.splice(_c,1);}}this._overlay_elements=_a;};_pGrid._setOverlayElementProperty=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!_a){return;}_a.setElementPosition(_b,_c);_a.setElementSize(_d,_e);if(_f&&_f.length>0){var _i=_f[0];var _j=_f[_f.length-1];var _k=_i._refobj;if(!_h&&_k.suppressalign.indexOf("first")!=0){if(_k.suppressalign.indexOf("last")==0){_i=_j;}else{_i=_f[Math.floor(_f.length/2)];}_k=_i._refobj;}var _l=_i.selected;_i.selected=false;var _m=this._getDataRow(_i._rowidx);var _n=_i._getDisplayText();var _o=_k._getDisplaytype(this._getDataRow(_i._rowidx));if(_o=="image"){_a.setElementText("");_a.setElementDecorateText("");_a.setElementImageUrl(_n);}else{_a.setElementImageUrl("");if(_n&&_n.indexOf("\r")!= -1){_n=_n.replace(/\r/g,"");}if(_o=="decoratetext"){_a.setElementDecorateText(_n);}else{if(_a.decoration!=""){_a.decoration="";_a.text=null;}_a.setElementText(_n);}_a.setElementWordWrap(_k._getWordwrap(_m));}_a.setElementToolTip(_i.tooltiptext);var _p=_i.on_find_CurrentStyle_font(_i._pseudo);var _q=_i.on_find_CurrentStyle_color(_i._pseudo);var _r=_i.on_find_CurrentStyle_letterspace(_i._pseudo);_a.setElementFont(_p);_a.setElementLetterSpace(_r);_a.setElementColor(_q);var _s=_i.on_find_CurrentStyle_cursor(_i._pseudo);_a.setElementCursor(_s);var _t=_i.on_find_CurrentStyle_align(_i._pseudo);if(_h){_a.setElementAlignXY(_t.halign,_t.valign);}else if(_k.suppressalign.indexOf("first")==0){_a.setElementAlignXY(_t.halign,"top");}else if(_k.suppressalign.indexOf("last")==0){_a.setElementAlignXY(_t.halign,"bottom");}else{_a.setElementAlignXY(_t.halign,"middle");}var _u=0;var _v=_i.width;if(_h){var _w=_k._col;var _x=null;for(var _ab=1,_ac=_f.length;_ab<_ac;_ab++ ){_x=_f[_ab]._refobj;if(_x&&_w<_x._col){_v+=_f[_ab].width;_w=_x._col;}}}var _y=_j.on_find_CurrentStyle_border(_i._pseudo);var _z=_i.on_find_CurrentStyle_padding(_i._pseudo);if(_v>(_d+_z.left+_y._right_width)){_u=_v-(_d+_z.left+_y._right_width);}var _aa={left:_z.left,top:0};_a.updateCellNodeClient(_b,_c,_d,_e,_u,_aa);_i.selected=_l;}};_pGrid._adjustOverlayElements=function(_a,_b,_c){if(_a||(_b&&_c)){this._destroyOverlayElements();}if(!this._curFormat||(!this._is_use_suppress&&!this._is_use_fakemerge)){return false;}var _d=false;var _e=this._overlay_elements;var _f=[],_g=[],_h="",_i=null,_j=null;var _k=null,_l=null,_m=null;var _n=0,_o=0,_p=0,_q=0,_r=0;var _s=this._curFormat._cols.length;var _t=0,_u=0;if(this._is_use_suppress){var _v=this._bodyBand;if(!_v){return false;}var _w=_v._get_rows();var _x;var _y=_w.length;var _z=(this._fixed_rowcnt>0)?(this._fixed_rowcnt-this._fixed_startrow):0;var _aa=this._fixed_endrow;var _ab=this._toprowpos[0];var _ac=this._disprowcnt;if(!_y){return false;}var _ad=_w[0]._cells;for(var _as=0;_as<_s;_as++ ){_j=this._getBodyCellInfo(_as);if(_j&&_j.suppress!=0&&_j.suppressalign.indexOf("over")>0){cellidx=_j._cellidx;_o=_n= -1;_p=_q=0;_x=_z+_ac;_f=[];for(var _ao=0;_ao<_y;_ao++ ){_i=this._getBodyCellItem(_ao,cellidx);if(_i){if(_z>0){if(_i._rowidx>_aa&&_i._rowidx<_ab){continue;}}else{if(_i._rowidx<_ab){continue;}}if(_x-- ==0){break;}_k=_i._setPositionInGrid();_n=(_n<0)?_k.left:_n;_o=(_o<0)?_k.top:_o;if(_k.top>_o){_f.push(_i._control_element);}else{_f.splice(0,1,_i._control_element);}var _ae=1;var _af=null;if(_ad.length>_s&&_j._rowspan==1){_af=this._getBodyCellItem(_ao,cellidx+(_s*_ae));while(_af){_f.push(_af._control_element);_ae++ ;_af=this._getBodyCellItem(_ao,cellidx+(_s*_ae));}_af=_f[_f.length-1].linkedcontrol;_ae=null;}var _ag=_i._getSuppressInfo();if(!_ag||_ag.text_proc==0){_h=_i._display_text;}if(!_i._hideInner){_i._hideInnerElement();}_g.push(_i);if(_ag&&_ag.last){if(_af){_k=_af._setPositionInGrid();_af=null;}_p=(_k.right>_n)?_k.right-_n:0;_q=(_k.bottom>_o)?_k.bottom-_o:0;_l=null;if(_f.length>0){if(_e[_r]){_l=_e[_r];_l.setTargetElements(_f);}else{_l=new nexacro.EventPassOverlayElement(_g[0]._band._control_element,_f);_l.create();_e.push(_l);}if(_l){_t=_g[0]._band._adjust_left;_u=_g[0]._band._adjust_top;_r++ ;this._setOverlayElementProperty(_l,_n-_t,_o-_u,_p,_q,_g,_h);}}else{_i._showInnerElement();}_f=[];_g=[];_h="";_k=_m=null;_n=_o= -1;_q=_p=0;}}}}}_d=true;}var _ah=this._fake_mergecell_arr;if(this._is_use_fakemerge&&_ah.length){var _ai,_aj,_ak,_al,_am,_an;for(var _as=0,_at=_ah.length;_as<_at;_as++ ){_f=[];_g=[];fake_mergecell=_ah[_as];_ak=fake_mergecell.start_row;_al=fake_mergecell.end_row;_ai=fake_mergecell.start_column;_aj=fake_mergecell.end_column;var _ao=0;if(fake_mergecell.start_row== -1||fake_mergecell.start_row== -2){_ao=_ai;}for(;_ao<=_aj;_ao++ ){if(fake_mergecell.start_row== -1){_ak=_al=0;_am=(fake_mergecell.start_subrow>=0)?fake_mergecell.start_subrow:0;_an=(fake_mergecell.end_subrow>=0)?fake_mergecell.end_subrow:this._curFormat._headrows.length-1;}else if(fake_mergecell.start_row== -2){_ak=_al=0;_am=(fake_mergecell.start_subrow>=0)?fake_mergecell.start_subrow:0;_an=(fake_mergecell.end_subrow>=0)?fake_mergecell.end_subrow:this._curFormat._summrows.length-1;}else{if(!this._curFormat._bodyrows){return false;}_j=this._getBodyCellInfo(_ao);if(_j){if(_j._col<_ai||_j._col>_aj){continue;}}else{break;}}for(var _au=_ak;_au<=_al;_au++ ){if(fake_mergecell.start_row>=0){_am=0;_an=this._curFormat._bodyrows.length-1;if(_au==_al&&fake_mergecell.end_subrow!=undefined){_an=fake_mergecell.end_subrow;}if(_au==_ak&&fake_mergecell.start_subrow!=undefined){_am=fake_mergecell.start_subrow;}}var _ap=0;while(true){if(fake_mergecell.start_row== -1){_i=this._getCurrentHeadCell(_ap++ ,true);}else if(fake_mergecell.start_row== -2){_i=this._getCurrentSummCell(_ap++ ,true);}else{_i=this._getCurrentBodyCell(_au,_ap++ );}if(!_i||_i._refobj._row>_an){break;}_j=_i._refobj;if(_j._col==_ao){_f.push(_i._control_element);_g.push(_i);}}}}if(_g.length>0){if(1){_m=null,_h=null;_l=_e[_r];if(!_l){_l=new nexacro.EventPassOverlayElement(_g[0]._band._control_element,_f);_l.create();_e.push(_l);}else{_l.setTargetElements(_f);}_j=_g[0]._refobj;if(_j){if(_g[0].subcells.length){_j=_g[0].subcells[0]._refobj;}_h=_j._getDisplayText(fake_mergecell.start_row);}var _aq=_g[0]._setPositionInGrid();var _ar=_g[_g.length-1]._setPositionInGrid();_n=_aq.left;_o=_aq.top;_p=(_ar.right>_n)?_ar.right-_n:0;_q=(_ar.bottom>_o)?_ar.bottom-_o:0;_t=_g[0]._band._adjust_left;_u=_g[0]._band._adjust_top;this._setOverlayElementProperty(_l,_n-_t,_o-_u,_p,_q,_g,_h,true);_n=_o=_p=_q=0;_aq=null,_ar=null,_m=null,_h="",_l=null;_r++ ;}else{_g[0]._showInnerElement();}}fake_mergecell=null,e_cell=null;}_d=true;}this._setOverlayElements(_e,_r);return _d;};_pGrid._moveToAccessibilityCell=function(_a,_b,_c,_d){if(this._is_band_focus&&!_b){var _e=true;if(_a=="prev"||_a=="up"){_e=this._setAccessibilityBandFocus(_a);}else{if(_a=="next"||(_a=="down"&&this._currentBand=="head")){this.currentcell=this.currentsubrow=this.currentcol=0;}if(!this._moveToPosAccessibilityCell(this.currentrow,this.currentcell)){_e=this._setAccessibilityBandFocus(_a);}}return _e;}if(this._currentBand=="grid"){if(_a=="prev"||_a=="next"||_a=="down"){if(_b){if(_a=="next"){if(this._bodyBand&&this._bodyBand._get_rows().length>0){var _f=null;_f=this._getFirstEditableCell();if(_f&&_f.row!==null){this._showEditorFocus=true;if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}this._currentBand="body";this._moveToPosAccessibilityCell(_f.row,_f.cell);this._showEditorFocus=false;return true;}}}return false;}return this._setAccessibilityBandFocus(_a,true);}else{this._accept_arrow=false;return false;}}var _g;var _e=true;var _h=null;var _i=false;this._is_band_focus=false;this._beforegridrowpos=this.currentrow;this._beforegridcolpos=this.currentcol;if(this._currentBand=="body"){this._is_first_bodycell=false;if(this._showEditing){this._hideEditor();}for(;true;){if(_b){_e=this._moveToCell(_a,true,_d,undefined,undefined,true);}else{_e=this._moveToCell(_a,false,_d,undefined,undefined,true);}if(_e){_h=this._getAccessibilityCurrentCell();if(_h){if(_b){_h._setFocus(false);break;}else{var _j=_h._refobj;var _k=this._getDataRow(_h._rowidx);var _l=_j._getDisplaytype(_k);_i=_h._isAccessibilityEnable();if(_i){if(_a=="up"||_a=="down"){if(this._isSelectRowType()&&_l!="tree"){var _m=_h.parent;_m._setFocus(false);break;}}this._showEditor();if(!this._showEditing){if(_h._subComp&&_l!="tree"){_h._subComp._setFocus(false);}else{_h._setFocus(false);}}break;}}}}else{if(!_b){_e=this._setAccessibilityBandFocus(_a);}break;}}return _e;}if(_b){if(this._currentBand=="head"){if(this._bodyBand._get_rows().length>0){this._currentBand="body";var _f=this._getFirstEditableCell();if(_f.row!==null){this._is_first_bodycell=true;_e=this._moveToPosAccessibilityCell(_f.row,_f.cell);}return true;}}return false;}if(_a=="next"){for(;true;){this.currentcell++ ;_h=this._getAccessibilityCurrentCell();if(_h){if(_h.width<=0){continue;}else{_i=_h._isAccessibilityEnable();if(!_i){continue;}var _j=_h._refobj;this.currentsubrow=_j._row;this.currentcol=_j._col;_h._showfull();_h._setFocus(false);}}else{this.currentcell-- ;_e=this._setAccessibilityBandFocus(_a);}break;}}else if(_a=="prev"){for(;true;){this.currentcell-- ;_h=this._getAccessibilityCurrentCell();if(_h){if(_h.width<=0){continue;}else{_i=_h._isAccessibilityEnable();if(!_i){continue;}var _j=_h._refobj;this.currentsubrow=_j._row;this.currentcol=_j._col;_h._showfull();_h._setFocus(false);}}else{this.currentcell++ ;_e=this._setAccessibilityBandFocus(_a);}break;}}else if(_a=="up"){if(this._currentBand=="head"){_g=this._headBand;}else{_g=this._summBand;}if(_g){var _n,_o;_h=this._getAccessibilityCurrentCell();if(_h){var _j=_h._refobj;var _p=_j._row;var _q=_j._col;var _r=this.currentcell;while(true){this.currentcell-- ;_h=this._getAccessibilityCurrentCell();if(_h){_n=_h._refobj._row;_o=_h._refobj._col;if(_o==_q&&_n==_p-1){_i=_h._isAccessibilityEnable();if(!_i){continue;}this.currentsubrow=_n;this.currentcol=_o;_h._setFocus(false);break;}}else{if(this.currentcell<=0){this.currentcol=_q;this.currentcell=_r;_e=this._setAccessibilityBandFocus(_a);break;}}}}}}else if(_a=="down"){var _n,_o;_h=this._getAccessibilityCurrentCell();if(_h){var _j=_h._refobj;var _p=_j._row;var _q=_j._col;var _r=this.currentcell;while(true){this.currentcell++ ;_h=this._getAccessibilityCurrentCell();if(_h){_n=_h._refobj._row;_o=_h._refobj._col;if(_o==_q&&_n==_p+1){this.currentsubrow=_n;this.currentcol=_o;_h._setFocus(false);break;}}else{this.currentcell=_r;_e=this._setAccessibilityBandFocus(_a);break;}}}}return _e;};_pGrid._setAccessibilityBandFocus=function(_a,_b,_c){var _d=true,_e=null,_f=this._currentBand;if(_a=="next"){if(_f=="grid"){if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;}else if(this._bodyBand&&this.body&&this.summarytype!="top"&&this.summarytype!="lefttop"){_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}else if(this._summBand){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}else{this._accept_arrow=false;_d=false;}}else{if(_f=="head"){if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}else if(this._summBand){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}}else if(_f=="body"){if(this._summBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}}else if(_f=="summ"&&(this.summarytype=="top"||this.summarytype=="lefttop")){if(this._bodyBand){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}}}if(_e){if(_c){this.currentsubrow=0;this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}else{var _g=_e._isAccessibilityEnable();if(!this._is_band_focus&&(_g||(_e._isBody&&this.rowcount<=0))){if(_b){this.currentcell=this.currentsubrow=this.currentcol=0;}this._moveToAccessibilityBand(false);}else{if(_f=="grid"&&_b&&!this.on_find_CurrentStyle_accessibility(this._pseudo).enable){this._first_focus=true;}this.currentcell=this.currentsubrow=this.currentcol=0;this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}}}else if(_a=="prev"){if(_f=="grid"){if(_b||_c){if(this._summBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;this.currentsubrow=_e._get_rows()[0]._format_rows.length-1;}else if(this._bodyBand&&this.body){_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=this.rowcount-1;this.currentsubrow=0;}else if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=_e._get_rows()[0]._format_rows.length-1;}else{_d=false;}}else{_d=false;}}else{if(_f=="summ"){var _g=this._summBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._moveToAccessibilityBand(false);}else{if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this.currentrow=this._currentDSrow=this.rowcount-1;}else if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;}}}else if(_f=="body"){var _g=this._bodyBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._hideEditor();this._moveToAccessibilityBand(false);}else{if(this._summBand&&(this.summarytype=="top"||this.summarytype=="lefttop")){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;this.currentsubrow=this._curFormat._summrows.length-1;}else if(this._headBand){this._hideEditor();_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=this._curFormat._headrows.length-1;}}}}if(_e){var _g=_e._isAccessibilityEnable();if(_e._isBody&&this.rowcount<=0){this._removeAccessibilityCurrentFocus();_e._setFocus(false);this.currentcol=this._curFormat._cols.length-1;this.currentcell= -1;}else{if(!_c){this.currentcol=this._curFormat._cols.length-1;this.currentcell=this._getAccessibilityLastCellIndex()-1;}this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}}else if(_a=="up"){if(_f=="summ"){var _g=this._summBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._moveToAccessibilityBand(false);}else{if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=this.rowcount-1;this.currentsubrow=0;}else if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=this._curFormat._headrows.length-1;}else{_f="grid";}}}else if(_f=="body"){var _g=this._bodyBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._hideEditor();this._moveToAccessibilityBand(false);}else{if(this._summBand&&(this.summarytype=="top"||this.summarytype=="lefttop")){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;this.currentsubrow=this._curFormat._summrows.length-1;}else if(this._headBand){this._hideEditor();_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=this._curFormat._headrows.length-1;}else{_f="grid";}}}else if(_f=="head"&&this.currentcell<=0){var _g=this._headBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._moveToAccessibilityBand(false);}else{_f="grid";}}if(_e){this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}else if(_f=="grid"){this._is_band_focus=false;this._currentBand=_f;var _h=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_h&&_h.enable){this._moveToAccessibilityBand(true);}else{_d=this._moveToAccessibilityCell(_a);}}}else if(_a=="down"){if(_f=="grid"){_d=this._setAccessibilityBandFocus("next",true);}else{if(_f=="head"){if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}else if(this._summBand){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}}else if(_f=="body"&&this.summarytype!="top"&&this.summarytype!="lefttop"){if(this._summBand){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}else if(this._bodyBand&&this.rowcount<=0){this._hideEditor();this._accept_arrow=false;_d=false;}}else if(_f=="summ"&&(this.summarytype=="top"||this.summarytype=="lefttop")){if(this._bodyBand){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}}if(_e){var _g=_e._isAccessibilityEnable();if(!this._is_band_focus&&(_g||(this.rowcount<=0&&_e._isBody))){this._moveToAccessibilityBand(false);}else{this.currentsubrow=0;this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}else if(this.currentcell>=this._getAccessibilityLastCellIndex()-1){this._accept_arrow=false;_d=false;}}}return _d;};_pGrid._getAccessibilityCurrentCell=function(_a,_b){var _c=null;if(_a===undefined||_b===undefined){_a= -1;_b= -1;}else if(_b<0){_b=this._getAccessibilityCellIndex();}if(this._currentBand=="body"){_c=this._getCurrentBodyCell(_a,_b);}else{if(this._currentBand=="head"){_c=this._getCurrentHeadCell(_b,true);}else{_c=this._getCurrentSummCell(_b,true);}}return _c;};_pGrid._getAccessibilityLastCellIndex=function(){var _a= -1;if(this._currentBand=="head"&&this._curFormat._headcells){_a=this._curFormat._headcells.length;}else if(this._currentBand=="body"&&this._curFormat._bodycells){_a=this._curFormat._bodycells.length;}else if(this._currentBand=="summ"&&this._curFormat._summcells){_a=this._curFormat._summcells.length;}return _a;};_pGrid._removeAccessibilityCurrentFocus=function(_a){var _b=this._getWindow();if(_a){_b._removeFromCurrentFocusPath(this,true);}else{if(this._currentBand=="body"){_b._removeFromCurrentFocusPath(this._bodyBand,true);}else if(this._currentBand=="head"){_b._removeFromCurrentFocusPath(this._headBand,true);}else if(this._currentBand=="summ"){_b._removeFromCurrentFocusPath(this._summBand,true);}}};_pGrid._moveToAccessibilityBand=function(_a){this._removeAccessibilityCurrentFocus(_a);if(!_a){this._is_band_focus=true;var _b=this._currentBand;if(_b=="head"){this._headBand._setFocus(false);}else if(_b=="body"){this._bodyBand._setFocus(false);}else if(_b=="summ"){this._summBand._setFocus(false);}}else{this._setFocus(false);}};_pGrid._moveToPosAccessibilityCell=function(_a,_b){var _c=false,_d=null,_a=this._getDataRow(_a),_b=this._getAccessibilityCellIndex(_b);if(this._currentBand=="body"&&this._bodyBand._get_rows().length>0){this._hideEditor();_d=this._getAccessibilityCurrentCell();if(_d){var _e=_d._refobj;if(_e._row!=_a||_e._cellidx!=_b){_d._stat_change("notfocus","normal");}}this._moveToPosCell(_a,_b);}_d=this._getAccessibilityCurrentCell(_a,_b);if(_d&&nexacro._enableaccessibility){var _e=_d._refobj;_c=true;_d._showfull();if(this._currentBand!="body"||this.autoenter!="select"||!this._showEditing){if(_d._subComp&&_e._getDisplaytype(_a)!="tree"){_d._subComp._setFocus(false);}else{_d._setFocus(false);}}else{this._showEditor();}this.currentcol=_e._col;}this._is_band_focus=this._first_focus=false;return _c;};_pGrid._getAccessibilityCellIndex=function(_a){var _b=null;if(this._currentBand=="body"){_b=this._bodyBand;}else if(this._currentBand=="head"){_b=this._headBand;}else if(this._currentBand=="summ"){_b=this._summBand;}if(_b){var _c=_b._get_row(this._getDataRow(this.currentrow));if(_c){var _d=_c._cells,_e=null;for(var _f=0,_g=_d.length;_f<_g;_f++ ){_e=_d[_f]._refobj;if(_e._col<=this.currentcol&&this.currentcol<=(_e._col+_e._colspan-1)){if(this.currentsubrow==0){return _d[_f]._cellidx;}else{if(_e._row==this.currentsubrow){return _d[_f]._cellidx;}}}}}}return (_a>=0)?_a:null;};_pGrid._on_useInnerDsCells=function(_a,_b){var _c=_b.row;if(_c== -1){this._refreshHead();}else if(_c== -2){this._refreshSumm();}else{this._refreshBody();}};};if(!nexacro.Chart_Style){nexacro.Chart_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.baritemminsize=null;this.baritemspacing=null;this.barspacing=null;this.lineextendorigin=null;this.scrollbarsize=null;this.seriesextendaxis=null;};var _pChartStyle=nexacro.Chart_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.Chart_Style);_pChartStyle._type_name="ChartStyle";eval(nexacro._createValueAttributeEvalStr("_pChartStyle","baritemminsize"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","baritemspacing"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","barspacing"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","lineextendorigin"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","scrollbarsize"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","seriesextendaxis"));_pChartStyle.__custom_emptyObject=function(){this.baritemminsize=null;this.baritemspacing=null;this.barspacing=null;this.lineextendorigin=null;this.scrollbarsize=null;this.seriesextendaxis=null;};_pChartStyle.__get_custom_style_value=function(){var _a="";if(this.baritemminsize&&!this.baritemminsize._is_empty){_a+="baritemminsize:"+this.baritemminsize._value+"; ";}if(this.baritemspacing&&!this.baritemspacing._is_empty){_a+="baritemspacing:"+this.baritemspacing._value+"; ";}if(this.barspacing&&!this.barspacing._is_empty){_a+="barspacing:"+this.barspacing._value+"; ";}if(this.lineextendorigin&&!this.lineextendorigin._is_empty){_a+="lineextendorigin:"+this.lineextendorigin._value+"; ";}if(this.scrollbarsize&&!this.scrollbarsize._is_empty){_a+="scrollbarsize:"+this.scrollbarsize._value+"; ";}if(this.seriesextendaxis&&!this.seriesextendaxis._is_empty){_a+="seriesextendaxis:"+this.scrollbarsize._value+"; ";}return _a;};nexacro.Chart_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.baritemminsize=null;this.baritemspacing=null;this.barspacing=null;this.lineextendorigin=null;this.scrollbarsize=null;this.seriesextendaxis=null;};var _pChartCurrentStyle=nexacro.Chart_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Chart_CurrentStyle);_pChartCurrentStyle._type_name="ChartCurrentStyle";_pChartCurrentStyle.__custom_emptyObject=_pChartStyle.__custom_emptyObject;_pChartCurrentStyle.__get_custom_style_value=_pChartStyle.__get_custom_style_value;_pChartStyle=null;_pChartCurrentStyle=null;nexacro.ChartBoard_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);if(_a){this._target=_a;}this.markliney=null;this.markliney2=null;this.originliney=null;this.originliney2=null;this.xaxismajorline=null;this.yaxismajorline=null;this.yaxisminorline=null;};var _pBoardStyle=nexacro.ChartBoard_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartBoard_Style);_pBoardStyle._type_name="ChartBoardStyle";eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","markliney"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","markliney2"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","originliney"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","originliney2"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","xaxismajorline"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","yaxismajorline"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","yaxisminorline"));_pBoardStyle.__custom_emptyObject=function(){this.markliney=null;this.markliney2=null;this.originliney=null;this.originliney2=null;this.xaxismajorline=null;this.yaxismajorline=null;this.yaxisminorline=null;};_pBoardStyle.__get_custom_style_value=function(){var _a="";if(this.markliney&&!this.markliney._is_empty){_a+="markliney:"+this.markliney._value+"; ";}if(this.markliney2&&!this.markliney2._is_empty){_a+="markliney2:"+this.markliney2._value+"; ";}if(this.originliney&&!this.originliney._is_empty){_a+="originliney:"+this.originliney._value+"; ";}if(this.originliney2&&!this.originliney2._is_empty){_a+="originliney2:"+this.originliney2._value+"; ";}if(this.xaxismajorline&&!this.xaxismajorline._is_empty){_a+="xaxismajorline:"+this.xaxismajorline._value+"; ";}if(this.yaxismajorline&&!this.yaxismajorline._is_empty){_a+="yaxismajorline:"+this.yaxismajorline._value+"; ";}if(this.yaxisminorline&&!this.yaxisminorline._is_empty){_a+="yaxisminorline:"+this.yaxisminorline._value+"; ";}return _a;};nexacro.ChartBoard_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.markliney=null;this.markliney2=null;this.originliney=null;this.originliney2=null;this.xaxismajorline=null;this.yaxismajorline=null;this.yaxisminorline=null;};var _pBoardCurrentStyle=nexacro.ChartBoard_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartBoard_CurrentStyle);_pBoardCurrentStyle._type_name="ChartBoardCurrentStyle";_pBoardCurrentStyle.__custom_emptyObject=_pBoardStyle.__custom_emptyObject;_pBoardCurrentStyle.__get_custom_style_value=_pBoardStyle.__get_custom_style_value;_pBoardStyle=null;_pBoardCurrentStyle=null;nexacro.ChartLegend_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);if(_a){this._target=_a;}this.location=null;this.arrange=null;this.imagepadding=null;this.itemalign=null;this.itemborder=null;this.itembordertype=null;this.itembackground=null;this.itemgradation=null;this.itempadding=null;this.itemfont=null;this.itemcolor=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titletext=null;this.type=null;};var _pLegendStyle=nexacro.ChartLegend_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartLegend_Style);_pLegendStyle._type_name="ChartLegendStyle";eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","location"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","arrange"));eval(nexacro._createPaddingAttributeEvalStr("_pLegendStyle","imagepadding"));eval(nexacro._createAlignAttributeEvalStr("_pLegendStyle","itemalign"));eval(nexacro._createBorderAttributeEvalStr("_pLegendStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pLegendStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pLegendStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pLegendStyle","itempadding"));eval(nexacro._createFontAttributeEvalStr("_pLegendStyle","itemfont"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","itemcolor"));eval(nexacro._createFontAttributeEvalStr("_pLegendStyle","titlefont"));eval(nexacro._createAlignAttributeEvalStr("_pLegendStyle","titlealign"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","titlecolor"));eval(nexacro._createPaddingAttributeEvalStr("_pLegendStyle","titlepadding"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","titletext"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","type"));_pLegendStyle.__custom_emptyObject=function(){this.location=null;this.arrange=null;this.itemalign=null;this.itemborder=null;this.itembordertype=null;this.itembackground=null;this.itemgradation=null;this.itempadding=null;this.itemfont=null;this.itemcolor=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titletext=null;this.type=null;};_pLegendStyle.__get_custom_style_value=function(){var _a="";if(this.location&&!this.location._is_empty){_a+="location:"+this.location._value+"; ";}if(this.arrange&&!this.arrange._is_empty){_a+="arrange:"+this.arrange._value+"; ";}if(this.itemalign&&!this.itemalign._is_empty){_a+="itemalign:"+this.itemalign._value+"; ";}if(this.itemborder&&!this.itemborder._is_empty){_a+="itemborder:"+this.itemborder._value+"; ";}if(this.itembordertype&&!this.itembordertype._is_empty){_a+="itembordertype:"+this.itembordertype._value+"; ";}if(this.itembackground&&!this.itembackground._is_empty){_a+="itembackground:"+this.itembackground._value+"; ";}if(this.itemgradation&&!this.itemgradation._is_empty){_a+="itemgradation:"+this.itemgradation._value+"; ";}if(this.itempadding&&!this.itempadding._is_empty){_a+="itempadding:"+this.itempadding._value+"; ";}if(this.itemfont&&!this.itemfont._is_empty){_a+="itemfont:"+this.itemfont._value+"; ";}if(this.itemcolor&&!this.itemcolor._is_empty){_a+="itemcolor:"+this.itemcolor._value+"; ";}if(this.titlealign&&!this.titlealign._is_empty){_a+="titlealign:"+this.titlealign._value+"; ";}if(this.titlecolor&&!this.titlecolor._is_empty){_a+="titlecolor:"+this.titlecolor._value+"; ";}if(this.titlefont&&!this.titlefont._is_empty){_a+="titlefont:"+this.titlefont._value+"; ";}if(this.titlepadding&&!this.titlepadding._is_empty){_a+="titlepadding:"+this.titlepadding._value+"; ";}if(this.titletext&&!this.titletext._is_empty){_a+="titletext:"+this.titletext._value+"; ";}if(this.type&&!this.type._is_empty){_a+="type:"+this.type._value+"; ";}return _a;};nexacro.ChartLegend_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.location=null;this.arrange=null;this.itemalign=null;this.itemborder=null;this.itembordertype=null;this.itembackground=null;this.itemgradation=null;this.itempadding=null;this.itemfont=null;this.itemcolor=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titletext=null;this.type=null;};var _pLegendCurrentStyle=nexacro.ChartLegend_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartLegend_CurrentStyle);_pLegendCurrentStyle._type_name="ChartLegendCurrentStyle";_pLegendCurrentStyle.__custom_emptyObject=_pLegendStyle.__custom_emptyObject;_pLegendCurrentStyle.__get_custom_style_value=_pLegendStyle.__get_custom_style_value;_pLegendStyle=null;_pLegendCurrentStyle=null;nexacro.ChartTitle_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.location=null;this.size=null;this.subalign=null;this.subcolor=null;this.subfont=null;this.subpadding=null;this.titlerotate=null;};var _pTitleStyle=nexacro.ChartTitle_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartTitle_Style);_pTitleStyle._type_name="ChartTitleStyle";eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","location"));eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","size"));eval(nexacro._createAlignAttributeEvalStr("_pTitleStyle","subalign"));eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","subcolor"));eval(nexacro._createFontAttributeEvalStr("_pTitleStyle","subfont"));eval(nexacro._createPaddingAttributeEvalStr("_pTitleStyle","subpadding"));eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","titlerotate"));_pTitleStyle.__custom_emptyObject=function(){this.location=null;this.size=null;this.subalign=null;this.subcolor=null;this.subfont=null;this.subpadding=null;this.titlerotate=null;};_pTitleStyle.__get_custom_style_value=function(){var _a="";if(this.location&&!this.location._is_empty){_a+="location:"+this.location._value+"; ";}if(this.size&&!this.size._is_empty){_a+="size:"+this.size._value+"; ";}if(this.subalign&&!this.subalign._is_empty){_a+="subalign:"+this.subalign._value+"; ";}if(this.subcolor&&!this.subcolor._is_empty){_a+="subcolor:"+this.subcolor._value+"; ";}if(this.subfont&&!this.subfont._is_empty){_a+="subfont:"+this.subfont._value+"; ";}if(this.subpadding&&!this.subpadding._is_empty){_a+="subpadding:"+this.subpadding._value+"; ";}if(this.titlerotate&&!this.titlerotate._is_empty){_a+="titlerotate:"+this.titlerotate._value+"; ";}return _a;};nexacro.ChartTitle_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.location=null;this.size=null;this.subalign=null;this.subcolor=null;this.subfont=null;this.subpadding=null;this.titlerotate=null;};var _pTitleCurrentStyle=nexacro.ChartTitle_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartTitle_CurrentStyle);_pTitleCurrentStyle._type_name="ChartTitleCurrentStyle";_pTitleCurrentStyle.__custom_emptyObject=_pTitleStyle.__custom_emptyObject;_pTitleCurrentStyle.__get_custom_style_value=_pTitleStyle.__get_custom_style_value;_pTitleStyle=null;_pTitleCurrentStyle=null;nexacro.ChartAxis_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.axissize=null;this.labelalign=null;this.labelcolor=null;this.labelfont=null;this.labelpadding=null;this.labelrotate=null;this.markcolor=null;this.markfont=null;this.markline=null;this.markpadding=null;this.marksize=null;this.origincolor=null;this.originfont=null;this.originline=null;this.originpadding=null;this.originsize=null;this.ruleralign=null;this.rulermajorline=null;this.rulermajorsize=null;this.rulerminorline=null;this.rulerminorsize=null;this.scrollbarsize=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titlerotate=null;};var _pAxisStyle=nexacro.ChartAxis_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartAxis_Style);_pAxisStyle._type_name="ChartAxisStyle";eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","axissize"));eval(nexacro._createAlignAttributeEvalStr("_pAxisStyle","labelalign"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","labelcolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","labelfont"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","labelpadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","labelrotate"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","markcolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","markfont"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","markline"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","markpadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","marksize"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","origincolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","originfont"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","originline"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","originpadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","originsize"));eval(nexacro._createAlignAttributeEvalStr("_pAxisStyle","ruleralign"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","rulermajorline"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","rulermajorsize"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","rulerminorline"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","rulerminorsize"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","scrollbarsize"));eval(nexacro._createAlignAttributeEvalStr("_pAxisStyle","titlealign"));eval(nexacro._createColorAttributeEvalStr("_pAxisStyle","titlecolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","titlefont"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","titlepadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","titlerotate"));_pAxisStyle.__custom_emptyObject=function(){this.axissize=null;this.labelalign=null;this.labelcolor=null;this.labelfont=null;this.labelpadding=null;this.labelrotate=null;this.markcolor=null;this.markfont=null;this.markline=null;this.markpadding=null;this.marksize=null;this.origincolor=null;this.originfont=null;this.originline=null;this.originpadding=null;this.originsize=null;this.ruleralign=null;this.rulermajorline=null;this.rulermajorsize=null;this.rulerminorline=null;this.rulerminorsize=null;this.scrollbarsize=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titlerotate=null;};_pAxisStyle.__get_custom_style_value=function(){var _a="";if(this.axissize&&!this.axissize._is_empty){_a+="axissize:"+this.axissize._value+"; ";}if(this.labelalign&&!this.labelalign._is_empty){_a+="labelalign:"+this.labelalign._value+"; ";}if(this.labelcolor&&!this.labelcolor._is_empty){_a+="labelcolor:"+this.labelcolor._value+"; ";}if(this.labelfont&&!this.labelfont._is_empty){_a+="labelfont:"+this.labelfont._value+"; ";}if(this.labelpadding&&!this.labelpadding._is_empty){_a+="labelpadding:"+this.labelpadding._value+"; ";}if(this.labelrotate&&!this.labelrotate._is_empty){_a+="labelrotate:"+this.labelrotate._value+"; ";}if(this.markcolor&&!this.markcolor._is_empty){_a+="markcolor:"+this.markcolor._value+"; ";}if(this.markfont&&!this.markfont._is_empty){_a+="markfont:"+this.markfont._value+"; ";}if(this.markpadding&&!this.markpadding._is_empty){_a+="markpadding:"+this.markpadding._value+"; ";}if(this.marksize&&!this.marksize._is_empty){_a+="marksize:"+this.marksize._value+"; ";}if(this.ruleralign&&!this.ruleralign._is_empty){_a+="ruleralign:"+this.ruleralign._value+"; ";}if(this.rulermajorline&&!this.rulermajorline._is_empty){_a+="rulermajorline:"+this.rulermajorline._value+"; ";}if(this.rulermajorsize&&!this.rulermajorsize._is_empty){_a+="rulermajorsize:"+this.rulermajorsize._value+"; ";}if(this.rulerminorline&&!this.rulerminorline._is_empty){_a+="rulerminorline:"+this.rulerminorline._value+"; ";}if(this.rulerminorsize&&!this.rulerminorsize._is_empty){_a+="rulerminorsize:"+this.rulerminorsize._value+"; ";}if(this.scrollbarsize&&!this.scrollbarsize._is_empty){_a+="scrollbarsize:"+this.scrollbarsize._value+"; ";}if(this.titlealign&&!this.titlealign._is_empty){_a+="titlealign:"+this.titlealign._value+"; ";}if(this.titlecolor&&!this.titlecolor._is_empty){_a+="titlecolor:"+this.titlecolor._value+"; ";}if(this.titlefont&&!this.titlefont._is_empty){_a+="titlefont:"+this.titlefont._value+"; ";}if(this.titlepadding&&!this.titlepadding._is_empty){_a+="titlepadding:"+this.titlepadding._value+"; ";}if(this.titlerotate&&!this.titlerotate._is_empty){_a+="titlerotate:"+this.titlerotate._value+"; ";}return _a;};nexacro.ChartAxis_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.axissize=null;this.labelalign=null;this.labelcolor=null;this.labelfont=null;this.labelpadding=null;this.labelrotate=null;this.markcolor=null;this.markfont=null;this.markline=null;this.markpadding=null;this.marksize=null;this.origincolor=null;this.originfont=null;this.originline=null;this.originpadding=null;this.originsize=null;this.ruleralign=null;this.rulermajorline=null;this.rulermajorsize=null;this.rulerminorline=null;this.rulerminorsize=null;this.scrollbarsize=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titlerotate=null;};var _pAxisCurrentStyle=nexacro.ChartAxis_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartAxis_CurrentStyle);_pAxisCurrentStyle._type_name="ChartAxisCurrentStyle";_pAxisCurrentStyle.__custom_emptyObject=_pAxisStyle.__custom_emptyObject;_pAxisCurrentStyle.__get_custom_style_value=_pAxisStyle.__get_custom_style_value;_pAxisStyle=null;_pAxisCurrentStyle=null;nexacro.ChartSeries_Style=function(_a,_b){nexacro.Style.apply(this,[_a,_b]);this.datatextalign=null;this.datatextbackground=null;this.datatextborder=null;this.datatextbordertype=null;this.datatextcolor=null;this.datatextfont=null;this.datatextgradation=null;this.datatextguideline=null;this.datatextguidesize=null;this.datatextguidetype=null;this.datatextlocation=null;this.datatextmargin=null;this.datatextpadding=null;this.extendorignline=null;this.fillbrush=null;this.fillgradation=null;this.fillhatch=null;this.miterjoinlimit=null;this.pointfillbrush=null;this.pointfillgradation=null;this.pointfillhatch=null;this.pointmiterjoinlimit=null;this.pointshape=null;this.pointsize=null;this.pointstrokecap=null;this.pointstrokejoin=null;this.pointstrokepen=null;this.selectcolor=null;this.selectdatatextbackground=null;this.selectdatatextborder=null;this.selectdatatextcolor=null;this.selectdatatextfont=null;this.selectdatatextgradation=null;this.selectdatatextguideline=null;this.selectfillbrush=null;this.selectfillgradation=null;this.selectfillhatch=null;this.selectfont=null;this.selectindent=null;this.selectstrokepen=null;this.selectpointsize=null;this.selectpointfillbrush=null;this.selectpointfillgradation=null;this.selectpointfillhatch=null;this.selectpointstrokepen=null;this.selectstrokepen=null;this.startangle=null;this.strokecap=null;this.strokejoin=null;this.strokepen=null;};var _pSeriesStyle=nexacro.ChartSeries_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartSeries_Style);_pSeriesStyle._type_name="ChartSeriesStyle";eval(nexacro._createAlignAttributeEvalStr("_pSeriesStyle","datatextalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pSeriesStyle","datatextbackground"));eval(nexacro._createBorderAttributeEvalStr("_pSeriesStyle","datatextborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pSeriesStyle","datatextbordertype"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextcolor"));eval(nexacro._createFontAttributeEvalStr("_pSeriesStyle","datatextfont"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","datatextgradation"));eval(nexacro._createLineAttributeEvalStr("_pSeriesStyle","datatextguideline"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextguidesize"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextguidetype"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextlocation"));eval(nexacro._createMarginAttributeEvalStr("_pSeriesStyle","datatextmargin"));eval(nexacro._createPaddingAttributeEvalStr("_pSeriesStyle","datatextpadding"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","extendorignline"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","fillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","fillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","fillhatch"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","miterjoinlimit"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","pointfillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","pointfillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","pointfillhatch"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointmiterjoinlimit"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointshape"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointsize"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointstrokecap"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointstrokejoin"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","pointstrokepen"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","selectcolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pSeriesStyle","selectdatatextbackground"));eval(nexacro._createBorderAttributeEvalStr("_pSeriesStyle","selectdatatextborder"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","selectdatatextcolor"));eval(nexacro._createFontAttributeEvalStr("_pSeriesStyle","selectdatatextfont"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","selectdatatextgradation"));eval(nexacro._createLineAttributeEvalStr("_pSeriesStyle","selectdatatextguideline"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","selectfillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","selectfillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","selectfillhatch"));eval(nexacro._createFontAttributeEvalStr("_pSeriesStyle","selectfont"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","selectindent"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","selectstrokepen"));eval(nexacro._createLineAttributeEvalStr("_pSeriesStyle","selectpointsize"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","selectpointfillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","selectpointfillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","selectpointfillhatch"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","selectpointstrokepen"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","selectstrokepen"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","startangle"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","strokecap"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","strokejoin"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","strokepen"));_pSeriesStyle.__custom_emptyObject=function(){this.datatextalign=null;this.datatextbackground=null;this.datatextborder=null;this.datatextbordertype=null;this.datatextcolor=null;this.datatextfont=null;this.datatextgradation=null;this.datatextguideline=null;this.datatextguidesize=null;this.datatextguidetype=null;this.datatextlocation=null;this.datatextmargin=null;this.datatextpadding=null;this.extendorignline=null;this.fillbrush=null;this.fillgradation=null;this.fillhatch=null;this.miterjoinlimit=null;this.pointfillbrush=null;this.pointfillgradation=null;this.pointfillhatch=null;this.pointmiterjoinlimit=null;this.pointshape=null;this.pointsize=null;this.pointstrokecap=null;this.pointstrokejoin=null;this.pointstrokepen=null;this.selectcolor=null;this.selectdatatextbackground=null;this.selectdatatextborder=null;this.selectdatatextcolor=null;this.selectdatatextfont=null;this.selectdatatextgradation=null;this.selectdatatextguideline=null;this.selectfillbrush=null;this.selectfillgradation=null;this.selectfillhatch=null;this.selectfont=null;this.selectindent=null;this.selectstrokepen=null;this.selectpointsize=null;this.selectpointfillbrush=null;this.selectpointfillgradation=null;this.selectpointfillhatch=null;this.selectpointstrokepen=null;this.selectstrokepen=null;this.startangle=null;this.strokecap=null;this.strokejoin=null;this.strokepen=null;};_pSeriesStyle.__get_custom_style_value=function(){var _a="";if(this.datatextalign&&!this.datatextalign._is_empty){_a+="datatextalign:"+this.datatextalign._value+"; ";}if(this.datatextbackground&&!this.datatextbackground._is_empty){_a+="datatextbackground:"+this.datatextbackground._value+"; ";}if(this.datatextborder&&!this.datatextborder._is_empty){_a+="datatextborder:"+this.datatextborder._value+"; ";}if(this.datatextbordertype&&!this.datatextbordertype._is_empty){_a+="datatextbordertype:"+this.datatextbordertype._value+"; ";}if(this.datatextcolor&&!this.datatextcolor._is_empty){_a+="datatextcolor:"+this.datatextcolor._value+"; ";}if(this.datatextfont&&!this.datatextfont._is_empty){_a+="datatextfont:"+this.datatextfont._value+"; ";}if(this.datatextgradation&&!this.datatextgradation._is_empty){_a+="datatextgradation:"+this.datatextgradation._value+"; ";}if(this.datatextguideline&&!this.datatextguideline._is_empty){_a+="datatextguideline:"+this.datatextguideline._value+"; ";}if(this.datatextguidesize&&!this.datatextguidesize._is_empty){_a+="datatextguidesize:"+this.datatextguidesize._value+"; ";}if(this.datatextlocation&&!this.datatextguidetype._is_empty){_a+="datatextguidetype:"+this.datatextguidetype._value+"; ";}if(this.datatextlocation&&!this.datatextlocation._is_empty){_a+="datatextlocation:"+this.datatextlocation._value+"; ";}if(this.datatextmargin&&!this.datatextmargin._is_empty){_a+="datatextmargin:"+this.datatextmargin._value+"; ";}if(this.datatextpadding&&!this.datatextpadding._is_empty){_a+="datatextpadding:"+this.datatextpadding._value+"; ";}if(this.extendorignline&&!this.extendorignline._is_empty){_a+="extendorignline:"+this.extendorignline._value+"; ";}if(this.fillbrush&&!this.fillbrush._is_empty){_a+="fillbrush:"+this.fillbrush._value+"; ";}if(this.fillgradation&&!this.fillgradation._is_empty){_a+="fillgradation:"+this.fillgradation._value+"; ";}if(this.fillhatch&&!this.fillhatch._is_empty){_a+="fillhatch:"+this.fillhatch._value+"; ";}if(this.miterjoinlimit&&!this.miterjoinlimit._is_empty){_a+="miterjoinlimit:"+this.miterjoinlimit._value+"; ";}if(this.pointfillbrush&&!this.pointfillbrush._is_empty){_a+="pointfillbrush:"+this.pointfillbrush._value+"; ";}if(this.pointfillgradation&&!this.pointfillgradation._is_empty){_a+="pointfillgradation:"+this.pointfillgradation._value+"; ";}if(this.pointfillhatch&&!this.pointfillhatch._is_empty){_a+="pointfillhatch:"+this.pointfillhatch._value+"; ";}if(this.pointmiterjoinlimit&&!this.pointmiterjoinlimit._is_empty){_a+="pointmiterjoinlimit:"+this.pointmiterjoinlimit._value+"; ";}if(this.pointshape&&!this.pointshape._is_empty){_a+="pointshape:"+this.pointshape._value+"; ";}if(this.pointsize&&!this.pointsize._is_empty){_a+="pointsize:"+this.pointsize._value+"; ";}if(this.pointstrokecap&&!this.pointstrokecap._is_empty){_a+="pointstrokecap:"+this.pointstrokecap._value+"; ";}if(this.pointstrokejoin&&!this.pointstrokejoin._is_empty){_a+="pointstrokejoin:"+this.pointstrokejoin._value+"; ";}if(this.pointstrokepen&&!this.pointstrokepen._is_empty){_a+="pointstrokepen:"+this.pointstrokepen._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectdatatextbackground&&!this.selectdatatextbackground._is_empty){_a+="selectdatatextbackground:"+this.selectdatatextbackground._value+"; ";}if(this.selectdatatextborder&&!this.selectdatatextborder._is_empty){_a+="selectdatatextborder:"+this.selectdatatextborder._value+"; ";}if(this.selectdatatextcolor&&!this.selectdatatextcolor._is_empty){_a+="selectdatatextcolor:"+this.selectdatatextcolor._value+"; ";}if(this.selectdatatextfont&&!this.selectdatatextfont._is_empty){_a+="selectdatatextfont:"+this.selectdatatextfont._value+"; ";}if(this.selectdatatextgradation&&!this.selectdatatextgradation._is_empty){_a+="selectdatatextgradation:"+this.selectdatatextgradation._value+"; ";}if(this.selectdatatextguideline&&!this.selectdatatextguideline._is_empty){_a+="selectdatatextguideline:"+this.selectdatatextguideline._value+"; ";}if(this.selectfillbrush&&!this.selectfillbrush._is_empty){_a+="selectfillbrush:"+this.selectfillbrush._value+"; ";}if(this.selectfillgradation&&!this.selectfillgradation._is_empty){_a+="selectfillgradation:"+this.selectfillbrush._value+"; ";}if(this.selectfillhatch&&!this.selectfillhatch._is_empty){_a+="selectfillhatch:"+this.selectfillhatch._value+"; ";}if(this.selectfont&&!this.selectfont._is_empty){_a+="selectfont:"+this.selectfont._value+"; ";}if(this.selectindent&&!this.selectindent._is_empty){_a+="selectindent:"+this.selectfont._value+"; ";}if(this.selectstrokepen&&!this.selectstrokepen._is_empty){_a+="selectstrokepen:"+this.selectstrokepen._value+"; ";}if(this.selectpointsize&&!this.selectpointsize._is_empty){_a+="selectpointsize:"+this.selectpointsize._value+"; ";}if(this.selectpointfillbrush&&!this.selectpointfillbrush._is_empty){_a+="selectpointfillbrush:"+this.selectpointfillbrush._value+"; ";}if(this.selectpointfillgradation&&!this.selectpointfillgradation._is_empty){_a+="selectpointfillgradation:"+this.selectpointfillgradation._value+"; ";}if(this.selectpointfillhatch&&!this.selectpointfillhatch._is_empty){_a+="selectpointfillhatch:"+this.selectpointfillhatch._value+"; ";}if(this.selectpointstrokepen&&!this.selectpointstrokepen._is_empty){_a+="selectpointstrokepen:"+this.selectpointstrokepen._value+"; ";}if(this.selectstrokepen&&!this.selectstrokepen._is_empty){_a+="selectstrokepen:"+this.selectstrokepen._value+"; ";}if(this.startangle&&!this.startangle._is_empty){_a+="startangle:"+this.startangle._value+"; ";}if(this.strokecap&&!this.strokecap._is_empty){_a+="strokecap:"+this.strokecap._value+"; ";}if(this.strokejoin&&!this.strokejoin._is_empty){_a+="strokejoin:"+this.strokejoin._value+"; ";}if(this.strokepen&&!this.strokepen._is_empty){_a+="strokepen:"+this.strokepen._value+"; ";}return _a;};nexacro.ChartSeries_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.datatextalign=null;this.datatextbackground=null;this.datatextborder=null;this.datatextbordertype=null;this.datatextcolor=null;this.datatextfont=null;this.datatextgradation=null;this.datatextguideline=null;this.datatextguidesize=null;this.datatextguidetype=null;this.datatextlocation=null;this.datatextmargin=null;this.datatextpadding=null;this.extendorignline=null;this.fillbrush=null;this.fillgradation=null;this.fillhatch=null;this.miterjoinlimit=null;this.pointfillbrush=null;this.pointfillgradation=null;this.pointfillhatch=null;this.pointmiterjoinlimit=null;this.pointshape=null;this.pointsize=null;this.pointstrokecap=null;this.pointstrokejoin=null;this.pointstrokepen=null;this.selectcolor=null;this.selectdatatextbackground=null;this.selectdatatextborder=null;this.selectdatatextcolor=null;this.selectdatatextfont=null;this.selectdatatextgradation=null;this.selectdatatextguideline=null;this.selectfillbrush=null;this.selectfillgradation=null;this.selectfillhatch=null;this.selectfont=null;this.selectindent=null;this.selectstrokepen=null;this.selectpointsize=null;this.selectpointfillbrush=null;this.selectpointfillgradation=null;this.selectpointfillhatch=null;this.selectpointstrokepen=null;this.selectstrokepen=null;this.startangle=null;this.strokecap=null;this.strokejoin=null;this.strokepen=null;};var _pSeriesCurrentStyle=nexacro.ChartSeries_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartSeries_CurrentStyle);_pSeriesCurrentStyle._type_name="ChartSeriesCurrentStyle";_pSeriesCurrentStyle.__custom_emptyObject=_pSeriesStyle.__custom_emptyObject;_pSeriesCurrentStyle.__get_custom_style_value=_pSeriesStyle.__get_custom_style_value;_pSeriesStyle=null;_pSeriesCurrentStyle=null;}if(!nexacro.Chart){nexacro.Chart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._serieses=[];this._draw_area=new nexacro.Rect();this._data_area=new nexacro.Rect();};var _pChart=nexacro.Chart.prototype=nexacro._createPrototype(nexacro.Component,nexacro.Chart);_pChart._type_name="Chart";_pChart.seriesset=null;_pChart._draw_area=null;_pChart._draw_area=null;_pChart._recalc_flag=false;_pChart._item_start=0;_pChart._item_cnt=0;_pChart._item_div=0;_pChart._barcnt=0;_pChart.binddataset=null;_pChart._binddataset=null;_pChart.scrollmax=0;_pChart.scrollvisible="none";_pChart.viewcount=5;_pChart.viewmin=0;_pChart.viewmax=4;_pChart.board=null;_pChart.legend=null;_pChart.title=null;_pChart.xaxis=null;_pChart.yaxis=null;_pChart.y2axis=null;_pChart.on_create_contents=function(){this.board&&this.board.createComponent();if(this.seriesset){var _a=this.seriesset.length;for(var _b=0;_b<_a;_b++ ){this.seriesset[_b].createComponent();}}this.xaxis&&this.xaxis.createComponent();this.yaxis&&this.yaxis.createComponent();this.y2axis&&this.y2axis.createComponent();this.legend&&this.legend.createComponent();this.title&&this.title.createComponent();};_pChart.on_created_contents=function(){this.board&&this.board.on_created();if(this.seriesset){var _a=this.seriesset.length;for(var _c=0;_c<_a;_c++ ){this.seriesset[_c].on_created();}}this.xaxis&&this.xaxis.on_created();this.yaxis&&this.yaxis.on_created();this.y2axis&&this.y2axis.on_created();this.legend&&this.legend.on_created();this.title&&this.title.on_created();var _b=this;this._refform._setEventHandler("onload",function(){_b._recalcLayout();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){_b.title.redraw();}});if(this._refform._type_name!=="Form"){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this._recalcLayout();}}};_pChart.on_destroy_contents=function(){if(this.seriesset){var _a=this.seriesset.length;for(var _b=0;_b<_a;_b++ ){this.seriesset[_b].destroy();this.seriesset[_b]=null;}}this._clearAll();};_pChart.on_create_custom_style=function(){return new nexacro.Chart_Style(this);};_pChart.on_create_custom_currentStyle=function(){return new nexacro.Chart_CurrentStyle();};_pChart.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.baritemminsize=this.on_find_CurrentStyle_barItemSize(_a);_b.baritemspacing=this.on_find_CurrentStyle_barItemSpacing(_a);_b.barspacing=this.on_find_CurrentStyle_barSpacing(_a);_b.lineextendorigin=this.on_find_CurrentStyle_lineExtendOrigin(_a);_b.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(_a);_b.seriesextendaxis=this.on_find_CurrentStyle_seriesExtendAxis(_a);};_pChart.on_update_style_baritemminsize=function(){this.currentstyle.baritemminsize=this.on_find_CurrentStyle_barItemSize(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_baritemspacing=function(){this.currentstyle.baritemspacing=this.on_find_CurrentStyle_barItemSpacing(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_barspacing=function(){this.currentstyle.barspacing=this.on_find_CurrentStyle_barSpacing(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_lineextendorigin=function(){this.currentstyle.lineextendorigin=this.on_find_CurrentStyle_lineExtendOrigin(this._pseudo);};_pChart.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(this._pseudo);};_pChart.on_update_style_seriesextendaxis=function(){this.currentstyle.seriesextendaxis=this.on_find_CurrentStyle_seriesExtendAxis(this._pseudo);};_pChart.on_find_CurrentStyle_barItemSize=function(_a){return this._find_pseudo_obj("baritemminsize",_a);};_pChart.on_find_CurrentStyle_barItemSpacing=function(_a){return this._find_pseudo_obj("baritemspacing",_a);};_pChart.on_find_CurrentStyle_barSpacing=function(_a){return this._find_pseudo_obj("barspacing",_a);};_pChart.on_find_CurrentStyle_lineExtendOrigin=function(_a){return this._find_pseudo_obj("lineextendorigin",_a);};_pChart.on_find_CurrentStyle_scrollbarSize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pChart.on_find_CurrentStyle_seriesExtendAxis=function(_a){return this._find_pseudo_obj("seriesextendaxis",_a);};_pChart._clearAll=function(){if(this.board){this.board.destroy();this.board=null;}if(this.legend){this.legend.destroy();this.legend=null;}if(this.title){this.title.destroy();this.title=null;}if(this.xaxis){this.xaxis.destroy();this.xaxis=null;}if(this.yaxis){this.yaxis.destroy();this.yaxis=null;}if(this.y2axis){this.y2axis.destroy();this.y2axis=null;}};_pChart.appendSeries=function(_a,_b,_c){if(window.ChartSeriesTypes[_a]){var _d;if(!this.seriesset){_d=this.seriesset=new nexacro.Collection();}else{_d=this.seriesset;}var _e=_d.length;for(var _g=0;_g<_e;_g++ ){_d[_g]._canvas.clearRect();}var _f=new nexacro.ChartSeries(_b,"absolute",0,0,0,0,null,null,this);_f.set_data(_c);_f.set_type(_a);_f._type_name+=_b;_f.on_created();_d.add(_b,_f);if(this.enableredraw){this.on_updateDataAreaLayout();this._recalcLayout();if(nexacro.BrowserVersion<8){this.legend.redraw();}}return this.seriesset.length-1;}else{this._setContents(_a);return this.seriesset.length-1;}return  -1;};_pChart.deleteSeries=function(_a,_b){if(_b==null){var _c=parseInt(_a)|0;var _d;if(isFinite(_c)){_d=this.seriesset.get_item(this.seriesset.get_id(_a));}else{_c=nexacro._indexOf(this.seriesset,_a);_d=this.seriesset.get_item(_a);}var _e=this.seriesset.length;if(_d){_d.destroy();this.seriesset.deleteItem(_c);if(this.enableredraw){this.on_updateChartAreaLayout();this._recalcLayout();}return _e-this.seriesset.length;}}else{var _c=parseInt(_a)|0;var _f=parseInt(_b)|0;if(!isFinite(_c)){_c=nexacro._indexOf(this.seriesset,_c);}if(_c>=0){var _e=this.seriesset.length;_f+=_c;for(var _g=_c;_g<_f;_g++ ){_d=this.seriesset.get_item(this.seriesset.get_id(_g));if(_d){_d.destroy();}}for(var _g=_c;_g<_f;_g++ ){this.seriesset.deleteItem(_c);}if(this.enableredraw){this.on_updateChartAreaLayout();this._recalcLayout();}return _e-this.seriesset.length;}}return 0;};_pChart.set_enableredraw=function(_a){this.enableredraw=(_a==true);if(this.enableredraw){this._recalcLayout();this.on_updateChartAreaLayout();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this.title.redraw();}}return _a;};_pChart._setContents=function(_a){this._clearAll();if(_a.length){var _b=nexacro._parseXMLDocument("<Chart>"+_a+"</Chart>");if(_b){var _c=_b.getElementsByTagName("ChartBoard");if(_c.length>0){this.set_board(new nexacro.ChartBoard("board","absolute",0,0,0,0,null,null,this));this.board._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartSeries");if(_c.length>0){var _d;_d=this.seriesset=new nexacro.Collection();var _e=_c.length;for(var _k=0;_k<_e;_k++ ){var _f=_c[_k];var _g=_f.getAttribute("id");var _h=new nexacro.ChartSeries(_g,"absolute",0,0,0,0,null,null,this);_d.add(_g,_h);_h._loadFromDOM(_f);}}_c=_b.getElementsByTagName("ChartTitle");if(_c.length>0){this.set_title(new nexacro.ChartTitle("title","absolute",0,0,0,0,null,null,this));this.title._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartLegend");if(_c.length>0){this.set_legend(new nexacro.ChartLegend("legend","absolute",0,0,0,0,null,null,this));this.legend._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartAxis");if(_c.length>0){var _e=_c.length;for(var _k=0;_k<_e;_k++ ){var _i=_c[_k];var _j=_i.getAttribute("id");if(_j=="xaxis"){this.set_xaxis(new nexacro.ChartAxis(_j,"absolute",0,0,0,0,null,null,this));this.xaxis._loadFromDOM(_i);}else if(_j=="yaxis"){this.set_yaxis(new nexacro.ChartAxis(_j,"absolute",0,0,0,0,null,null,this));this.yaxis._loadFromDOM(_i);}else if(_j=="y2axis"){this.set_y2axis(new nexacro.ChartAxis(_j,"absolute",0,0,0,0,null,null,this));this.y2axis._loadFromDOM(_i);}}}}}};_pChart._recalcXAxisItemInfos=function(_a){var _b=_a.clone();if(this.board){var _c=this.board.currentstyle.border;if(_c&&!_c._is_empty){_b.left+=_c._left_width;_b.top+=_c._top_width;_b.right-=_c._right_width;_b.bottom-=_c._bottom_width;}}this._data_area.copy(_b);var _d=this.xaxis;if(_d){var _e=this.xaxis._items;var _f=_b.right-_b.left;var _g=_b.bottom-_b.top;var _h=this.autofit;var _i=0,_j=0;if(_h){_i=_e.length;}else{_i=this.viewcount;_j=this.viewmin;}this._item_start=_j;this._item_cnt=_i;var _k=_d.currentstyle.rulermajorline;var _l=(_f-(_k?_k._width:0))/_i;this._item_div=_l;}};_pChart._recalcSeriesInfos=function(){var _a=this.seriesset;if(!_a){return;}var _b=_a.length;if(_b==0){return;}var _c=Math.floor(this._item_div);var _d=0,_e;for(var _p=0;_p<_b;_p++ ){_e=_a[_p];if(_e.type=="bar"){_d++ ;}}if(_d>0){var _f=this.currentstyle;var _g=nexacro.getStyleValueInt(_f.barspacing,2);var _h=nexacro.getStyleValueInt(_f.baritemspacing,1);var _i=nexacro.getStyleValueInt(_f.baritemminsize,6);var _j=0;var _k=(_d-1)*_h;var _l=Math.floor(_c*(_g/100));var _m=_c-_l-_k;_j=Math.floor(_m/_d);if(_j<_i){_j=_i;}var _n=_c-_d*_j;if(_n<0){_g=0;_h=0;}else if(_n<_k){_h-- ;_k=(_d-1)*_h;_g=_n-_k;}else{_g=_n-_k;}var _o=Math.floor(_g/2);for(var _p=0;_p<_b;_p++ ){_e=_a[_p];if(_e.type=="bar"){_e._bar_item_offset=_o;_e._bar_item_width=_j;_o+=_j+_h;}}}};_pChart._recalcDrawAreaLayout=function(_a){this._draw_area.copy(_a);if(this.xaxis){this.xaxis._recalcLayout(_a);}if(this.yaxis){this.yaxis._recalcLayout(_a);}if(this.y2axis){this.y2axis._recalcLayout(_a);}this._recalcXAxisItemInfos(_a);if(this.board){this.board._movePositionWithBound(_a);}if(this.xaxis){this.xaxis._movePositionWithBound(_a);}if(this.yaxis){this.yaxis._movePositionWithBound(_a);}if(this.y2axis){this.y2axis._movePositionWithBound(_a);}this._recalcSeriesInfos();var _b=this.seriesset;if(!_b){return;}var _c=_b.length;for(var _d=0;_d<_c;_d++ ){series=_b[_d];series._movePositionWithBound(this._data_area);}};_pChart._recalcLayout=function(){if(this.enableredraw==false){return;}var _a=0,_b=0;_a=this._client_width;_b=this._client_height;var _c=new nexacro.Rect(0,0,_a,_b);this._recalc_flag=true;if(this.title){this.title._recalcLayout();this.title._movePositionWithBound(_c);}if(this.legend){this.legend._recalcLayout();this.legend._movePositionWithBound(_c);}this._recalcDrawAreaLayout(_c);this._recalc_flag=false;};_pChart.on_updateLegendLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}var _a=new nexacro.Rect(0,0,this._client_width,this._client_height);this._recalc_flag=true;if(this.title){this.title._clipArea(_a);}if(this.legend){this.legend._movePositionWithBound(_a);}if(!this._draw_area.isSame(_a)){this._recalcDrawAreaLayout(_a);}this._recalc_flag=false;};_pChart.on_updateDrawAreaLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}this._recalc_flag=true;var _a=this._draw_area.clone();this._recalcDrawAreaLayout(_a);this._recalc_flag=false;};_pChart.on_updateDataAreaLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}this._recalc_flag=true;this._recalcSeriesInfos();var _a=this.seriesset;var _b=_a?_a.length:0;for(var _c=0;_c<_b;_c++ ){series=_a[_c];series.redraw();}this._recalc_flag=false;};_pChart.on_updateChartAreaLayout=function(){if(this.enableredraw==false){return;}this.on_updateDrawAreaLayout();this.on_updateDataAreaLayout();this.xaxis&&this.xaxis.ondraw(this.xaxis._canvas);if(nexacro.BrowserVersion<8){this.legend.redraw();}};_pChart.setBindDataset=function(_a){if(_a instanceof nexacro.Dataset){if(!_a){this._binddataset=null;this.binddataset="";}else{this._binddataset=_a;this.binddataset=_a.id;}this.on_apply_prop_binddataset();}};_pChart.getBindDataset=function(){return this._binddataset;};_pChart.set_binddataset=function(_a){if(typeof _a!="string"){this.setBindDataset(_a);return;}if(_a!=this.binddataset){if(!_a){this._binddataset=null;this.binddataset="";}else{_a=_a.replace("@","");this._binddataset=this._findDataset(_a);this.binddataset=_a;}this.on_apply_prop_binddataset();}else if(this.binddataset&&!this._binddataset){this._setBindDatasetStr(this.binddataset);this.on_apply_prop_binddataset();}return this.binddataset;};_pChart.on_apply_binddataset=function(){var _a=this._binddataset;var _b=this.getElement();if(_b&&_a){this.on_updateChartAreaLayout();var _c=this._callbackFromDataset;_a._addEventHandler(this,_c);_a._addEventHandler(this,_c);_a._addEventHandler(this,_c);}};_pChart._callbackFromDataset=function(_a,_b){if(_b.eventid=="oncolumnchanged"){this.on_updateChartAreaLayout();}};_pChart.set_scrollmax=function(_a){if(_a!=this.scrollmax){this.scrollmax=_a;}return _a;};_pChart.set_scrollvisible=function(_a){if(_a!=this.scrollvisible){this.scrollvisible=_a;}return _a;};_pChart.set_viewcount=function(_a){var _b=parseInt(_a)|0;var _c=this.getElement();if(_b!=this.viewcount){this.viewcount=_b;if(_c){this.viewmax=this.viewcount-this.viewmin-1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_viewmin=function(_a){var _b=parseInt(_a)|0;var _c=this.getElement();if(_b!=this.viewmin&&_b>=0){this.viewmin=_b;if(_c){this.viewmax=_b+this.viewcount-1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_viewmax=function(_a){var _b=parseInt(_a)|0;if(_b!=this.viewmax){this.viewmax=_b;if(this._control_element){this.viewcount=_b-this.viewmin+1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_board=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.board){this.board=_a;}return _a;};_pChart.set_legend=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.legend){this.legend=_a;}return _a;};_pChart.set_title=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.title){this.title=_a;}return _a;};_pChart.set_xaxis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.xaxis){this.xaxis=_a;}return _a;};_pChart.set_yaxis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.yaxis){this.yaxis=_a;}return _a;};_pChart.set_y2axis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.y2axis){this.y2axis=_a;}return _a;};_pChart._drawMark=function(_a,_b,_c,_d,_e,_f,_g){if(_f!=""||_g!=""){_a.save();switch(_d){case "rectangle":if(_f!=""){_a.setElementFillStyle(_f);_a.fillRect(_b,_c,_e,_e);}if(_g){_a._setPenStyle(_g);_a.drawStrokeInsetRect(_b,_c,_e,_e);}break;case "circle":gap=_e/2;if(_f!=""){_a.setElementFillStyle(_f);_a.drawFillCircle(_b+gap,_c+gap,gap);}if(_g){_a._setPenStyle(_g);_a.drawStrokeInsetCircle(_b+gap,_c+gap,gap);}break;case "horzline":if(_f!=""){_a.setElementFillStyle(_f);var _h=Math.floor(_e/3);var _i=Math.floor((_e-_h)/2);_a.fillRect(_b,_c+_i,_e,_h);}break;case "vertline":if(_f!=""){_a.setElementFillStyle(_f);var _h=_e/3;var _i=(_e-_h)/2;_a.fillRect(_b+_i,_c,_h,_e);}break;case "crossline":if(_f!=""){_a.setElementFillStyle(_f);var _h=_e/3;var _i=(_e-_h)/2;_a.fillRect(_b,_c+_i,_e,_h);_a.fillRect(_b+_i,_c,_h,_e);}break;case "rhombus":if(_f!=""){_a.setElementFillStyle(_f);var _j=_e/2;_a.moveTo(_b+_j,_c);_a.lineTo(_b+_e,_c+_j);_a.lineTo(_b+_j,_c+_e);_a.lineTo(_b,_c+_j);_a.closePath();_a.drawFill();}break;case "triangle":if(markfillcolor!=""){_a.setElementFillStyle(_f);var _j=_e/2;_a.moveTo(_b+_j,_c);_a.lineTo(_b+_e,_c+_e);_a.lineTo(_b,_c+_e);_a.closePath();_a.drawFill();}break;}_a.restore();}};_pChart=null;nexacro.ChartTitle=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pChartTitle=nexacro.ChartTitle.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartTitle);_pChartTitle._type_name="Chart>#title";_pChartTitle._total_width=0;_pChartTitle._total_height=0;_pChartTitle._text_width=0;_pChartTitle._text_height=0;_pChartTitle._text_pos_x=0;_pChartTitle._text_pos_y=0;_pChartTitle._subtext_width=0;_pChartTitle._subtext_height=0;_pChartTitle._subtext_pos_x=0;_pChartTitle._subtext_pos_y=0;_pChartTitle._size_factor=100;_pChartTitle._draw_type="horz";_pChartTitle.text="";_pChartTitle.subtext="";_pChartTitle._defaultLocation=nexacro._getCachedStyleObj("value","top");_pChartTitle._defaultRotate=nexacro._getCachedStyleObj("value",0);_pChartTitle.on_create_custom_style=function(){return new nexacro.ChartTitle_Style(this);};_pChartTitle.on_create_custom_currentStyle=function(){return new nexacro.ChartTitle_CurrentStyle();};_pChartTitle.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.location=this.on_find_CurrentStyle_location(_a);_b.size=this.on_find_CurrentStyle_size(_a);_b.subalign=this.on_find_CurrentStyle_subAlign(_a);_b.subcolor=this.on_find_CurrentStyle_subColor(_a);_b.subfont=this.on_find_CurrentStyle_subFont(_a);_b.subpadding=this.on_find_CurrentStyle_subPadding(_a);_b.titlerotate=this.on_find_CurrentStyle_titleRotate(_a);};_pChartTitle.on_update_style_location=function(){this.currentstyle.location=this.on_find_CurrentStyle_location(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_size=function(){this.currentstyle.size=this.on_find_CurrentStyle_size(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_subalign=function(){this.currentstyle.subalign=this.on_find_CurrentStyle_subAlign(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartTitle.on_update_style_subcolor=function(){this.currentstyle.subcolor=this.on_find_CurrentStyle_subColor(this._pseudo);this.ondraw(this._canvas);};_pChartTitle.on_update_style_subfont=function(){this.currentstyle.subfont=this.on_find_CurrentStyle_subFont(this._pseudo);this.ondraw(this._canvas);};_pChartTitle.on_update_style_subpadding=function(){this.currentstyle.subpadding=this.on_find_CurrentStyle_subPadding(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_titlerotate=function(){this.currentstyle.titlerotate=this.on_find_CurrentStyle_titleRotate(this._pseudo);};_pChartTitle.on_find_CurrentStyle_location=function(_a){var _b=this._find_pseudo_obj("location",_a);return (_b)?_b:this._defaultLocation;};_pChartTitle.on_find_CurrentStyle_size=function(_a){return this._find_pseudo_obj("size",_a);};_pChartTitle.on_find_CurrentStyle_subAlign=function(_a){var _b=this._find_pseudo_obj("subalign",_a);return (_b)?_b:this._default_align;};_pChartTitle.on_find_CurrentStyle_subColor=function(_a){var _b=this._find_pseudo_obj("subcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartTitle.on_find_CurrentStyle_subFont=function(_a){var _b=this._find_pseudo_obj("subfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartTitle.on_find_CurrentStyle_subPadding=function(_a){var _b=this._find_pseudo_obj("subpadding",_a);return (_b)?_b:this._default_padding;};_pChartTitle.on_find_CurrentStyle_titleRotate=function(_a){return this._find_pseudo_obj("titlerotate",_a);return (rotate)?rotete:this._defaultRotate;};_pChartTitle._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartTitle._recalcLayout=function(){if(!this.visible){return false;}var _a=this.currentstyle;var _b=_a.padding;var _c=0,_d=0,_e=0,_f=0,_g=0;if(_b){_c=_b.left+_b.right;_d=_b.top+_b.bottom;_g=_b.top;}var _h=_a.subpadding;if(_h){_e=_h.left+_h.right;_f=_h.top+_h.bottom;}var _i=nexacro.getStyleValueInt(_a.size,100);this._size_factor=_i;if(_i==0){this._total_width=this._total_height=0;return false;}if(this.text.length){var _j=_a.font;var _k=nexacro._getTextSize2(this.text,_j);this._text_width=_k[0];this._text_height=_k[1];}else{this._text_width=0;this._text_height=0;}if(this.subtext.length){var _l=_a.subfont;var _m=nexacro._getTextSize2(this.subtext,_l);this._subtext_width=_m[0];this._subtext_height=_m[1];}else{this._subtext_width=0;this._subtext_height=0;}_c+=this._text_width;_e+=this._subtext_width;var _n=(_c>_e)?_c:_e;var _o=_d+_f+this._text_height+this._subtext_height;var _p=_a.align;if(_p){this._text_pos_y=_g+this._text_height/2;switch(_p.halign){case "left":this._text_pos_x=0;break;case "right":this._text_pos_x=_n-this._text_width;break;default:this._text_pos_x=Math.round((_n-this._text_width)/2);break;}}var _q=_a.subalign;if(_q){this._subtext_pos_y=_d+this._text_height+this._subtext_height/2;if(_h){this._subtext_pos_y+=_h.top;}switch(_q.halign){case "left":this._subtext_pos_x=0;break;case "right":this._subtext_pos_x=_n-this._subtext_width;break;default:this._subtext_pos_x=Math.round((_n-this._subtext_width)/2);break;}}if(_n!=this._total_width||_o!=this._total_height){this._total_width=_n;this._total_height=_o;return true;}else{return false;}};_pChartTitle._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;var _d=Math.ceil(_b*this._size_factor/100);var _e=Math.ceil(_c*this._size_factor/100);var _f=this.currentstyle;var _g=nexacro.getStyleValueText(this.currentstyle.location,"top");var _h=_f.border;var _i=0,_j=0;if(!_h){_h=nexacro._getCachedStyleObj("border","0px none");}else{_i=_h._left_width+_h._right_width;_j=_h._top_width+_h._bottom_width;}var _k=0,_l=0,_m=0,_n=0,_o=0,_p=0;switch(_g){case "top":case "top,center":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;if(_p<_b){_k=_a.left+Math.ceil((_b-_p)/2);_m=_k+_p;}else{_k=_a.left;_m=_a.getWidth();}_a.top=_n;break;case "top,left":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;_k=_a.left;_m=_k+((_p<_b)?_p:_b);_a.top=_n;break;case "top,right":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;_m=_a.right;_k=_m-((_p<_b)?_p:_b);_a.top=_n;break;case "bottom":case "bottom,center":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;if(_p<_b){_k=_a.left+Math.ceil((_b-_p)/2);_m=_k+_p;}else{_k=_a.left;_m=_a.right;}_a.bottom=_l;break;case "bottom,left":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;_k=_a.left;_m=_k+((_p<_b)?_p:_b);_a.bottom=_l;break;case "bottom,right":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;_m=_a.right;_k=_m-((_p<_b)?_p:_b);_a.bottom=_l;break;case "left":case "left,center":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;if(_o<_c){_l=_a.top+Math.ceil((_c-_o)/2);_n=_l+_o;}else{_l=_a.top;_n=_a.bottom;}_a.left=_m;break;case "left,bottom":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;_n=_a.bottom;_l=_n-((_o<_c)?_o:_c);_a.left=_m;break;case "left,top":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;_l=_a.top;_n=_l+((_o<_c)?_o:_c);_a.left=_m;break;case "right":case "right,center":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;if(_o<_c){_l=_a.top+Math.ceil((_c-_o)/2);_n=_l+_o;}else{_l=_a.top;_n=_a.bottom;}_a.right=_k;break;case "right,bottom":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;_n=_a.bottom;_l=_n-((_o<_c)?_o:_c);break;case "right,top":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;_l=_a.top;_n=_l+((_o<_c)?_o:_c);_a.right=_k;break;default:this._draw_type="horz";_k=_m=_l=_n=0;break;}width=_m-_k;height=_n-_l;if(this._adjust_left!=_k||this._adjust_width!=width||this._adjust_top!=_l||this._adjust_height!=height){this._applysetPosition(_k,_l,width,height);return true;}return false;};_pChartTitle._clipArea=function(_a){var _b=nexacro.getStyleValueText(this.currentstyle.location,"top");switch(_b){case "top":case "top,center":case "top,left":case "top,right":_a.top+=this._adjust_height;break;case "bottom":case "bottom,center":case "bottom,left":case "bottom,right":case "bottom,right":_a.bottom-=this._adjust_height;break;case "left":case "left,center":case "left,bottom":case "left,top":_a.left+=this._adjust_width;break;case "right":case "right,center":case "right,bottom":case "right,top":_a.right-=this._adjust_width;break;}};_pChartTitle.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.currentstyle;var _c,_d;if(this._draw_type=="left"){var _e=this._client_width;if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,this._text_pos_y,_e-this._text_pos_x,270);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,this._subtext_pos_y,_e-this._subtext_pos_x,270);}}else if(this._draw_type=="right"){var _f=this._client_width;if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,_f-this._text_pos_y,this._text_pos_x,90);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,_f-this._subtext_pos_y,this._subtext_pos_x,90);}}else{if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,this._text_pos_x,this._text_pos_y,0);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,this._subtext_pos_x,this._subtext_pos_y,0);}}_a.endDraw();};_pChartTitle.set_text=function(_a){if(_a!=this.text){this.text=_a;}return _a;};_pChartTitle.set_subtext=function(_a){if(_a!=this.subtext){this.subtext=_a;}return _a;};_pChartTitle=null;nexacro.ChartLegendItem=function(_a,_b){this.id=_a;this.text=_b;this.text_width=0;this.text_height=0;this.item_width=0;this.item_height=0;this.mark_pos_x=0;this.mark_pos_y=0;this.text_pos_x=0;this.text_pos_y=0;this.padding=null;this.markpadding=null;this.font=null;this.color=null;this.border=null;this.markshape="rectangle";this.markfillcolor="";this.markborderpen=null;};nexacro.ChartLegend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._titleitem=null;this._items=[];};var _pChartLegend=nexacro.ChartLegend.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartLegend);_pChartLegend._type_name="Chart>#legend";_pChartLegend._items=null;_pChartLegend._titleitem=null;_pChartLegend._width_sum=0;_pChartLegend._height_sum=0;_pChartLegend._width_max=0;_pChartLegend._height_max=0;_pChartLegend._item_max=0;_pChartLegend._total_width=0;_pChartLegend._total_height=0;_pChartLegend._draw_type="horz";_pChartLegend._defaultLocation=nexacro._getCachedStyleObj("value","top");_pChartLegend._defaultType=nexacro._getCachedStyleObj("value","multi");_pChartLegend.on_create_custom_style=function(){return new nexacro.ChartLegend_Style(this);};_pChartLegend.on_create_custom_currentStyle=function(){return new nexacro.ChartLegend_CurrentStyle();};_pChartLegend.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.location=this.on_find_CurrentStyle_location(_a);_b.arrange=this.on_find_CurrentStyle_arrange(_a);_b.imagepadding=this.on_find_CurrentStyle_imagePadding(_a);_b.itemalign=this.on_find_CurrentStyle_itemAlign(_a);_b.itemborder=this.on_find_CurrentStyle_itemBorder(_a);_b.itembordertype=this.on_find_CurrentStyle_itemBorderType(_a);_b.itembackground=this.on_find_CurrentStyle_itemBackground(_a);_b.itemgradation=this.on_find_CurrentStyle_itemGradation(_a);_b.itempadding=this.on_find_CurrentStyle_itemPadding(_a);_b.itemfont=this.on_find_CurrentStyle_itemFont(_a);_b.itemcolor=this.on_find_CurrentStyle_itemColor(_a);_b.titlealign=this.on_find_CurrentStyle_titleAlign(_a);_b.titlecolor=this.on_find_CurrentStyle_titleColor(_a);_b.titlefont=this.on_find_CurrentStyle_titleFont(_a);_b.titlepadding=this.on_find_CurrentStyle_titlePadding(_a);_b.titletext=this.on_find_CurrentStyle_titleText(_a);_b.type=this.on_find_CurrentStyle_type(_a);};_pChartLegend.on_update_style_location=function(){this.currentstyle.location=this.on_find_CurrentStyle_location(this._pseudo);this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_arrange=function(){this.currentstyle.arrange=this.on_find_CurrentStyle_arrange(this._pseudo);};_pChartLegend.on_update_style_imagepadding=function(){this.currentstyle.imagepadding=this.on_find_CurrentStyle_imagePadding(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_itemalign=function(){this.currentstyle.itemalign=this.on_find_CurrentStyle_itemAlign(this._pseudo);};_pChartLegend.on_update_style_itemborder=function(){this.currentstyle.itemborder=this.on_find_CurrentStyle_itemBorder(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_itembordertype=function(){this.currentstyle.itembordertype=this.on_find_CurrentStyle_itemBorderType(this._pseudo);};_pChartLegend.on_update_style_itembackground=function(){this.currentstyle.itembackground=this.on_find_CurrentStyle_itemBackground(this._pseudo);};_pChartLegend.on_update_style_itemgradation=function(){this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemGradation(this._pseudo);};_pChartLegend.on_update_style_itempadding=function(){this.currentstyle.itempadding=this.on_find_CurrentStyle_itemPadding(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_itemfont=function(){this.currentstyle.itemfont=this.on_find_CurrentStyle_itemFont(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_itemcolor=function(){this.currentstyle.itemcolor=this.on_find_CurrentStyle_itemColor(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_titlealign=function(){this.currentstyle.titlealign=this.on_find_CurrentStyle_titleAlign(this._pseudo);};_pChartLegend.on_update_style_titlecolor=function(){this.currentstyle.titlecolor=this.on_find_CurrentStyle_titleColor(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_titlefont=function(){this.currentstyle.titlefont=this.on_find_CurrentStyle_titleFont(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_titlepadding=function(){this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_titletext=function(){this.currentstyle.titletext=this.on_find_CurrentStyle_titleText(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_type=function(){this.currentstyle.type=this.on_find_CurrentStyle_type(this._pseudo);};_pChartLegend.on_find_CurrentStyle_location=function(_a){var _b=this._find_pseudo_obj("location",_a);return (_b)?_b:this._defaultLocation;};_pChartLegend.on_find_CurrentStyle_arrange=function(_a){return this._find_pseudo_obj("arrange",_a);};_pChartLegend.on_find_CurrentStyle_imagePadding=function(_a){var _b=this._find_pseudo_obj("imagepadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_itemAlign=function(_a){var _b=this._find_pseudo_obj("itemalign",_a);return (_b)?_b:this.on_find_CurrentStyle_align(_a);};_pChartLegend.on_find_CurrentStyle_itemBorder=function(_a){return this._find_pseudo_obj("itemborder",_a);};_pChartLegend.on_find_CurrentStyle_itemBorderType=function(_a){return this._find_pseudo_obj("itembordertype",_a);};_pChartLegend.on_find_CurrentStyle_itemBackground=function(_a){return this._find_pseudo_obj("itembackground",_a);};_pChartLegend.on_find_CurrentStyle_itemGradation=function(_a){return this._find_pseudo_obj("itemgradation",_a);};_pChartLegend.on_find_CurrentStyle_itemPadding=function(_a){var _b=this._find_pseudo_obj("itempadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_itemFont=function(_a){var _b=this._find_pseudo_obj("itemfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartLegend.on_find_CurrentStyle_itemColor=function(_a){var _b=this._find_pseudo_obj("itemcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartLegend.on_find_CurrentStyle_titleAlign=function(_a){var _b=this._find_pseudo_obj("titlealign",_a);return (_b)?_b:this._default_align;};_pChartLegend.on_find_CurrentStyle_titleColor=function(_a){var _b=this._find_pseudo_obj("titlecolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartLegend.on_find_CurrentStyle_titleFont=function(_a){var _b=this._find_pseudo_obj("titlefont",_a);return (_b)?_b:this.currentstyle.font;};_pChartLegend.on_find_CurrentStyle_titlePadding=function(_a){var _b=this._find_pseudo_obj("titlepadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_titleText=function(_a){return this._find_pseudo_obj("titletext",_a);};_pChartLegend.on_find_CurrentStyle_type=function(_a){var _b=this._find_pseudo_obj("type",_a);return (_b)?_b:this._defaultType;};_pChartLegend._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartLegend._recalcLayout=function(){if(!this.visible){return false;}this._titleitem=null;this._items.splice(0,this._items.length);var _a=this.currentstyle;var _b=0,_c=0,_d=0,_e=0,_f=0,_g,_h;var _i=_a.padding;var _j=0,_k=0,_l=0,_m=0;if(_i){_b=_i.left+_i.right;_c=_i.top+_i.bottom;}var _n=0,_o=0,_p=0,_q=0;var _r;var _s,_t,_u,_v,_w;var _x=_a.titletext;if(_x&&_x._value.length>0){_x=_x._value;_i=_a.titlepadding;if(_i){_d=_i.left+_i.right;_e=_i.top+_i.bottom;}_s=_a.titlecolor?_a.titlecolor._value:null;_t=_a.titlefont?_a.titlefont:null;_r=new nexacro.ChartLegendItem("title",_x);_r.padding=_i;_r.font=_t;_r.color=_s;var _y=nexacro._getTextSize2(_x,_t);_g=_r.text_width=_y[0];_h=_r.text_height=_y[1];_n=_p=_r.item_width=_g+_d;_o=_q=_r.item_height=_h+_e;this._titleitem=_r;}var _z=this.parent.seriesset;if(_z&&_z.length>0){_i=_a.itempadding;if(_i){_d=_i.left+_i.right;_e=_i.top+_i.bottom;}var _aa=_a.imagepadding;if(_aa){_f=_aa.left+_aa.right;}_s=_a.itemcolor?_a.itemcolor._value:null;_t=_a.itemfont;border=_a.itemborder;if(border){_d+=border._left_width+border._right_width;_e+=border._top_width+border._bottom_width;}var _ab=_z.length;for(var _ag=0;_ag<_ab;_ag++ ){var _ac=_z[_ag];var _ad=_ac.currentstyle;_x=_ac.label||_ac.text||_ac.id;var _u=nexacro.getStyleValueText2(_ad.pointshape,"none","");if(_u!=""){var _ae=_ad.pointfillbrush;if(_ae&&_ae._isValid()){_v=_ae.color;}else{_v="";}var _af=_ad.pointstrokepen;if(_af&&_af._isValid()){_w=_af;}else{_w=null;}}else if(_ac.type=="line"){_u="horzline";var _af=_ad.strokepen;if(_af&&_af._isValid()){_v=_af.color;}else{_v="";}_w=null;}else{_u="rectangle";var _ae=_ad.fillbrush;if(_ae&&_ae._isValid()){_v=_ae.color;}else{_v="";}var _af=_ad.strokepen;if(_af&&_af._isValid()){_w=_af;}}_r=new nexacro.ChartLegendItem("series"+_ag,_x);_r.padding=_i;_r.markpadding=_aa;_r.font=_t;_r.color=_s;_r.border=border;_r.markshape=_u;_r.markfillcolor=_v;_r.markborderpen=_w;var _y=nexacro._getTextSize2(_x,_t);_g=_r.text_width=_y[0];_h=_r.text_height=_y[1];_r.marksize=_h;_r.item_width=_g+_d+_h+_f;_r.item_height=_h+_e;if(_r.item_width>_n){_n=_r.item_width;}_p+=_r.item_width;if(_r.item_height>_o){_o=_r.item_height;}_q+=_r.item_height;this._items.push(_r);}}_n+=_b;_o+=_c;_p+=_b;_q+=_c;if(_n!=this._width_max||_o!=this._height_sum||_p!=this._width_sum||_q!=this._height_sum){this._width_max=_n;this._height_max=_o;this._width_sum=_p;this._height_sum=_q;this._item_max=_n-_b;return true;}else{return false;}};_pChartLegend._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;var _d=this.currentstyle;var _e=_d.location;var _f=_d.border;var _g=0,_h=0;if(_f){_g=_f._left_width+_f._right_width;_h=_f._top_width+_f._bottom_width;}var _i=0,_j=0,_k=0,_l=0,_m=0,_n=0;if(_e){switch(_e._value){case "top,center":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<maxheight)?_m:maxheight);_n=this._total_width+_g;if(_n<_b){_i=_a.left+Math.ceil((_b-_n)/2);_k=_i+_n;}else{_i=_a.left;_k=_a.getWidth();}_a.top=_l;break;case "top,left":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_a.top=_l;break;case "top":case "top,right":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_a.top=_l;break;case "bottom,center":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;if(_n<_b){_i=_a.left+Math.ceil((_b-_n)/2);_k=_i+_n;}else{_i=_a.left;_k=_a.right;}_a.bottom=_j;break;case "bottom,left":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_a.bottom=_j;break;case "bottom":case "bottom,right":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_a.bottom=_j;break;case "left,center":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;if(_m<_c){_j=_a.top+Math.ceil((_c-_m)/2);_l=_j+_m;}else{_j=_a.top;_l=_a.bottom;}_a.left=_k;break;case "left,bottom":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_a.left=_k;break;case "left":case "left,top":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_a.left=_k;break;case "right,center":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;if(_m<_c){_j=_a.top+Math.ceil((_c-_m)/2);_l=_j+_m;}else{_j=_a.top;_l=_a.bottom;}_a.right=_i;break;case "right,bottom":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);break;case "right":case "right,top":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_a.right=_i;break;default:this._total_width=0;this._total_height=0;this._draw_type="horz";_i=_k=_j=_l=0;break;}}width=_k-_i;height=_l-_j;if(this._adjust_left!=_i||this._adjust_width!=width||this._adjust_top!=_j||this._adjust_height!=height){this._applysetPosition(_i,_j,width,height);return true;}return false;};_pChartLegend._clipArea=function(_a){var _b=nexacro.getStyleValueText(this.currentstyle.location,"top");switch(_b){case "top":case "top,center":case "top,left":case "top,right":tc.top+=this._adjust_height;break;case "bottom":case "bottom,center":case "bottom,left":case "bottom,right":case "bottom,right":tc.bottom-=this._adjust_height;break;case "left":case "left,center":case "left,bottom":case "left,top":_a.left+=this._adjust_width;break;case "right":case "right,center":case "right,bottom":case "right,top":_a.right-=this._adjust_width;break;}};_pChartLegend.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this._items.length;if(!_b){return;}var _c=this.parent;var _d=this.currentstyle;var _e=_d.padding;var _f=this._total_width;var _g=this._total_height;var _h=0,_i=0;if(_e){_f=_f-_e.left-_e.right;_g=_g-_e.top-_e.bottom;_h=_e.left;_i=_e.top;}var _j;if(this._draw_type=="horz"){var _k=this._titleitem;if(_k){var _l=_h;var _m=_i;_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}_h+=_k.item_width;}var _b=this._items.length;for(var _q=0;_q<_b;_q++ ){var _l=_h;var _m=_i;_k=this._items[_q];_j=_k.border;if(_j){_l+=_j._left_width;_m+=_j._top_width;}_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.marksize>0){_e=_k.markpadding;if(_e){_l+=_e.left;}var _o=_k.marksize;_c._drawMark(_a,_l,_m,_k.markshape,_k.marksize,_k.markfillcolor,_k.markborderpen);_l+=_o;if(_e){_l+=_e.right;}}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}if(_j){_a.drawBorder(_h,_i,_k.item_width,_k.item_height,_j);}_h+=_k.item_width;}}else{var _k=this._titleitem;if(_k){var _l=_h;var _m=_i;_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.text_width){var _p=Math.round((this._item_max-_k.text_width)/2);var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l+_p,_m+_n,0);}_i+=_k.item_height;}for(var _q=0;_q<_b;_q++ ){var _l=_h;var _m=_i;_k=this._items[_q];_j=_k.border;if(_j){_l+=_j._left_width;_m+=_j._top_width;}_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.marksize>0){_e=_k.markpadding;if(_e){_l+=_e.left;}var _o=_k.marksize;_c._drawMark(_a,_l,_m,_k.markshape,_k.marksize,_k.markfillcolor,_k.markborderpen);_l+=_o+(_e?_e.right:0);}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}if(_j){_a.drawBorder(_h,_i,_k.item_width,_k.item_height,_j);}_i+=_k.item_height;}}_a.endDraw();};_pChartLegend=null;nexacro.ChartAxisItem=function(_a,_b){this.idx=_a;this.text=_b;this.item_val=0;this.text_width=0;this.text_height=0;};nexacro.ChartAxis=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.label=new nexacro.BindableValue("");this._items=[];this.idx="";this.item_val=0;this.text_width=0;this.text_height=0;this._unit_val=0;this._min_val=0;this._max_val=0;this._unit_min_val=0;this._unit_max_val=0;this._org_val=0;this._title_width=0;this._title_height=0;this._mark_size=0;this._mark_text="";this._mark_width=0;this._mark_height=0;this._org_size=0;this._org_text="";this._org_width=0;this._org_height=0;this._miner_size=0;this._major_size=0;this._text_maxwidth=0;this._text_maxheight=0;this._item_maxsize=0;this._total_height=0;this._exprfn=null;this._apply_client_padding=false;};var _pChartAxis=nexacro.ChartAxis.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartAxis);_pChartAxis._type_name="Chart>#";_pChartAxis.label="";_pChartAxis.markdata=undefined;_pChartAxis.marklabel="";_pChartAxis.origindata=0;_pChartAxis.originlabel="";_pChartAxis.rulerbasetype="point";_pChartAxis.rulermajorunit= -1;_pChartAxis.rulermax=undefined;_pChartAxis.rulermin=undefined;_pChartAxis.rulerminorunit= -1;_pChartAxis.rulersort="none";_pChartAxis.titletext="";_pChartAxis.viewcount=5;_pChartAxis.viewmax=4;_pChartAxis.viewmin=0;_pChartAxis.on_create_custom_style=function(){return new nexacro.ChartAxis_Style(this);};_pChartAxis.on_create_custom_currentStyle=function(){return new nexacro.ChartAxis_CurrentStyle();};_pChartAxis.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.margin=this.on_find_CurrentStyle_margin(_a);_b.axissize=this.on_find_CurrentStyle_axisSize(_a);_b.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(_a);_b.labelalign=this.on_find_CurrentStyle_labelAlign(_a);_b.labelcolor=this.on_find_CurrentStyle_labelColor(_a);_b.labelfont=this.on_find_CurrentStyle_labelFont(_a);_b.labelpadding=this.on_find_CurrentStyle_labelPadding(_a);_b.labelrotate=this.on_find_CurrentStyle_labelRotate(_a);_b.ruleralign=this.on_find_CurrentStyle_rulerAlign(_a);_b.rulermajorline=this.on_find_CurrentStyle_rulerMajorLine(_a);_b.rulermajorsize=this.on_find_CurrentStyle_rulerMajorSize(_a);_b.rulerminorline=this.on_find_CurrentStyle_rulerMinerLine(_a);_b.rulerminorsize=this.on_find_CurrentStyle_rulerMinerSize(_a);_b.markcolor=this.on_find_CurrentStyle_markColor(_a);_b.markfont=this.on_find_CurrentStyle_markFont(_a);_b.markline=this.on_find_CurrentStyle_markLine(_a);_b.markpadding=this.on_find_CurrentStyle_markPadding(_a);_b.marksize=this.on_find_CurrentStyle_markSize(_a);_b.origincolor=this.on_find_CurrentStyle_originColor(_a);_b.originfont=this.on_find_CurrentStyle_originFont(_a);_b.originline=this.on_find_CurrentStyle_originLine(_a);_b.originpadding=this.on_find_CurrentStyle_originPadding(_a);_b.originsize=this.on_find_CurrentStyle_originSize(_a);_b.titlealign=this.on_find_CurrentStyle_titleAlign(_a);_b.titlecolor=this.on_find_CurrentStyle_titleColor(_a);_b.titlefont=this.on_find_CurrentStyle_titleFont(_a);_b.titlepadding=this.on_find_CurrentStyle_titlePadding(_a);_b.titlerotate=this.on_find_CurrentStyle_titleRotate(_a);};_pChartAxis.on_update_style_axissize=function(){this.currentstyle.axissize=this.on_find_CurrentStyle_axisSize(this._pseudo);this.redraw();this.parent.on_updateDataAreaLayout();this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelalign=function(){this.currentstyle.labelalign=this.on_find_CurrentStyle_labelAlign(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_labelcolor=function(){this.currentstyle.labelcolor=this.on_find_CurrentStyle_labelColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_labelfont=function(){this.currentstyle.labelfont=this.on_find_CurrentStyle_labelFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelpadding=function(){this.currentstyle.labelpadding=this.on_find_CurrentStyle_labelPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelrotate=function(){this.currentstyle.labelrotate=this.on_find_CurrentStyle_labelRotate(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_markcolor=function(){this.currentstyle.markcolor=this.on_find_CurrentStyle_markColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_markfont=function(){this.currentstyle.markfont=this.on_find_CurrentStyle_markFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_markline=function(){this.currentstyle.markline=this.on_find_CurrentStyle_markLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_markpadding=function(){this.currentstyle.markpadding=this.on_find_CurrentStyle_markPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_marksize=function(){this.currentstyle.marksize=this.on_find_CurrentStyle_markSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_origincolor=function(){this.currentstyle.origincolor=this.on_find_CurrentStyle_originColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_originfont=function(){this.currentstyle.originfont=this.on_find_CurrentStyle_originFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_originline=function(){this.currentstyle.originline=this.on_find_CurrentStyle_originLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_originpadding=function(){this.currentstyle.originpadding=this.on_find_CurrentStyle_originPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_originsize=function(){this.currentstyle.originsize=this.on_find_CurrentStyle_originSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_ruleralign=function(){this.currentstyle.ruleralign=this.on_find_CurrentStyle_rulerAlign(this._pseudo);};_pChartAxis.on_update_style_rulermajorline=function(){this.currentstyle.rulermajorline=this.on_find_CurrentStyle_rulerMajorLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_rulermajorsize=function(){this.currentstyle.rulermajorsize=this.on_find_CurrentStyle_rulerMajorSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_rulerminorline=function(){this.currentstyle.rulerminorline=this.on_find_CurrentStyle_rulerMinerLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_rulerminorsize=function(){this.currentstyle.rulerminorsize=this.on_find_CurrentStyle_rulerMinerSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlealign=function(){this.currentstyle.titlealign=this.on_find_CurrentStyle_titleAlign(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_titlecolor=function(){this.currentstyle.titlecolor=this.on_find_CurrentStyle_titleColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_titlefont=function(){this.currentstyle.titlefont=this.on_find_CurrentStyle_titleFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlepadding=function(){this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlerotate=function(){this.currentstyle.titlerotate=this.on_find_CurrentStyle_titleRotate(this._pseudo);};_pChartAxis.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(this._pseudo);};_pChartAxis.on_find_CurrentStyle_background=function(_a){return null;};_pChartAxis.on_find_CurrentStyle_border=function(_a){return null;};_pChartAxis.on_find_CurrentStyle_axisSize=function(_a){return this._find_pseudo_obj("axissize",_a);};_pChartAxis.on_find_CurrentStyle_scrollbarSize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pChartAxis.on_find_CurrentStyle_labelAlign=function(_a){var _b=this._find_pseudo_obj("labelalign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_labelColor=function(_a){var _b=this._find_pseudo_obj("labelcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_labelFont=function(_a){var _b=this._find_pseudo_obj("labelfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_labelPadding=function(_a){var _b=this._find_pseudo_obj("labelpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_labelRotate=function(_a){return this._find_pseudo_obj("labelrotate",_a);};_pChartAxis.on_find_CurrentStyle_markColor=function(_a){var _b=this._find_pseudo_obj("markcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_markFont=function(_a){var _b=this._find_pseudo_obj("markfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_markLine=function(_a){return this._find_pseudo_obj("markline",_a);};_pChartAxis.on_find_CurrentStyle_markPadding=function(_a){var _b=this._find_pseudo_obj("markpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_markSize=function(_a){var _b=this._find_pseudo_obj("marksize",_a);return (_b)?_b:this.currentstyle.size;};_pChartAxis.on_find_CurrentStyle_originColor=function(_a){var _b=this._find_pseudo_obj("origincolor",_a);return (_b)?_b:this.currentstyle.labelcolor;};_pChartAxis.on_find_CurrentStyle_originFont=function(_a){var _b=this._find_pseudo_obj("originfont",_a);return (_b)?_b:this.currentstyle.labelfont;};_pChartAxis.on_find_CurrentStyle_originLine=function(_a){var _b=this._find_pseudo_obj("originline",_a);return (_b)?_b:this.currentstyle.rulermajorline;};_pChartAxis.on_find_CurrentStyle_originPadding=function(_a){var _b=this._find_pseudo_obj("originpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_originSize=function(_a){var _b=this._find_pseudo_obj("originsize",_a);return (_b)?_b:this.currentstyle.size;};_pChartAxis.on_find_CurrentStyle_rulerAlign=function(_a){var _b=this._find_pseudo_obj("ruleralign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_rulerMajorLine=function(_a){return this._find_pseudo_obj("rulermajorline",_a);};_pChartAxis.on_find_CurrentStyle_rulerMajorSize=function(_a){return this._find_pseudo_obj("rulermajorsize",_a);};_pChartAxis.on_find_CurrentStyle_rulerMinerLine=function(_a){return this._find_pseudo_obj("rulerminorline",_a);};_pChartAxis.on_find_CurrentStyle_rulerMinerSize=function(_a){return this._find_pseudo_obj("rulerminersize",_a);};_pChartAxis.on_find_CurrentStyle_titleAlign=function(_a){var _b=this._find_pseudo_obj("titlealign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_titleColor=function(_a){var _b=this._find_pseudo_obj("titlecolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_titleFont=function(_a){var _b=this._find_pseudo_obj("titlefont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_titlePadding=function(_a){var _b=this._find_pseudo_obj("titlepadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_titleRotate=function(_a){return this._find_pseudo_obj("titlerotate",_a);};_pChartAxis._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;this._type_name+=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartAxis._getBindText=function(_a,_b,_c){if(_b._bindtype==0){return _b._value;}else{if(_a==null){return undefined;}if(_b._bindtype==1){return _a.getColumn(_c,_b._bindexpr);}else{var _d=this._exprfn;if(!_d){_d=this._exprfn=_a._createExprFunc(_b._bindexpr);}if((typeof _d)=="function"){return _d.call(this,_c,_c,this.parent,_a);}}}return "";};_pChartAxis._appendZeroByidx=function(_a,_b){var _c=_a.toString().split(".");var _d=_c[0];var _e=_c[1]?_c[1].substr(0,_b):"";var _f=_e.length;for(var _g=_f;_g<_b;_g++ ){_e+="0";}return _d+"."+_e;};_pChartAxis._decimalless=0;_pChartAxis.on_updateDecimalless=function(){var _a=[this.rulermin,this.rulermax,this.origindata,this.markdata,this.rulermajorunit,this.rulerminorunit];var _b=[];var _c=_a.length;for(var _d=0;_d<_c;_d++ ){if(_a[_d]){_a[_d]=_a[_d].toString().replace(/(0*$)/g,"");_a[_d]=_a[_d].split(".")[1];_a[_d]&&_b.push(_a[_d].length);}}_b=_b.sort(function(_e,_f){return _f-_e;})[0];this._decimalless=_b||0;};_pChartAxis._recalcLayout=function(_a){if(!this.visible){return false;}this._items.splice(0,this._items.length);this._exprfn=null;var _b=this.parent;var _c=this.currentstyle;var _d;var _e=this.titletext;var _f=_c.titlefont;var _g=nexacro._getTextSize2(_e,_f);this._title_width=_g[0];this._title_height=_g[1];var _h=0;var _i=nexacro.getStyleValueInt(_c.rulermajorsize,0);this._major_size=_i;var _j=nexacro.getStyleValueInt(_c.rulerminersize,0);this._miner_size=_j;if(_j>_h){_h=_j;}var _k=0,_l=0;if(this.id=="xaxis"){var _m=_b._binddataset;if(_m){var _n=_m.rowcount;var _o=this.label;_f=_c.labelfont;for(var _bb=0;_bb<_n;_bb++ ){var _e=this._getBindText(_m,_o,_bb);var _p=new nexacro.ChartAxisItem(_bb,_e);_g=nexacro._getTextSize2(_e,_f);_p.text_width=_g[0];_p.text_height=_g[1];if(_p.text_width>_l){_l=_p.text_width;}if(_p.text_height>_k){_k=_p.text_height;}this._items.push(_p);}}this._text_maxwidth=_l;this._text_maxheight=_k;var _q=nexacro.getStyleValueFloat(_c.labelrotate,0);if(_q!=0){var _r=_q*Math.PI/180;var _s=_l*Math.sin(_r);if(_s<0){_s= -_s;}_i+=_s;_s=_k*Math.cos(_r)/2;if(_s<0){_s= -_s;}_i+=_s;_i=Math.ceil(_i);if(_i>_h){_h=_i;}}else{_i+=_k;if(_i>_h){_h=_i;}}var _t=_c.labelpadding;if(_t){_h+=_t.top+_t.bottom;}}else{var _u=this.rulermajorunit;var _v=this.markdata;var _w=this.origindata;var _x=this.rulermin;var _y=this.rulermax;if(_u==undefined){_u=100;}var _t;if(_w!=undefined){_e=this.originlabel;if(_e==""){_e=_w+"";}var _z=nexacro.getStyleValueInt(_c.originsize,0);if(_z<_i){_z=_i;}if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}_f=_c.originfont;_g=nexacro._getTextSize2(_e,_f);this._org_size=_z;this._org_text=_e;this._org_width=_g[0];this._org_height=_g[1];_z+=this._org_width;_t=_c.originpadding;if(_t){_z+=_t.left+_t.right;}if(_z>_h){_h=_z;}}if(_v!=undefined){_e=this.marklabel;if(_e==""){_e=_v+"";}var _aa=nexacro.getStyleValueInt(_c.marksize,0);if(_aa<_i){_aa=_i;}if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}_f=_c.markfont;_g=nexacro._getTextSize2(_e,_f);this._mark_size=_aa;this._mark_text=_e;this._mark_width=_g[0];this._mark_height=_g[1];_aa+=this._mark_width;_t=_c.markpadding;var _ab=0,_ac=0,_ad=0,_ae=0;if(_t){_aa+=_t.left+_t.right;}if(_aa>_h){_h=_aa;}}if(_x==undefined||_y==undefined){var _af=(_x==undefined);var _ag=(_y==undefined);var _m=_b._binddataset;if(_m){var _n=_m.rowcount;var _ah=false;var _ai=_b.seriesset;var _aj=_ai.length;var _ak,_al;for(var _bc=0;_bc<_aj;_bc++ ){var _am=_ai[_bc];var _an=(this.id=="y2axis")?(_am.yaxis=="y2axis"):(_am.yaxis!="y2axis");if(_an){var _ao=_am.data;var _ap=_am.datatext;for(var _bb=0;_bb<_n;_bb++ ){var _s=_am._getBindNumber(_m,_ao,_bb);_ak=_am._getBindNumber(_m,_ap,_bb);_al=nexacro._getTextSize2(""+_ak,_am.currentstyle.datatextfont)[1];_al+=_am.currentstyle.datatextpadding._getPaddingHeight();_al+=_am.currentstyle.datatextmargin._getMarginHeight();if(_s){if(_af&&(_x==undefined||_s<_x)){_x=_s+_al;}if(_ag&&(_y==undefined||_s>_y)){_y=_s+_al;}}}_ah=true;}}if(!_ah&&this.id=="y2axis"){if(_af){_x=_b.yaxis._min_val;}if(_ag){_y=_b.yaxis._max_val;}}}if(_af&&_x==undefined){_x=0;}if(_ag&&_y==undefined){if(_x<0){_y=0;}else{_y=_x+_u;}}}else if(_y<_x){var _ad=_y;_y=_x;_x=_ad;}if(_w<_x&&_w<_y){}else if(_w>_x&&_w>_y){_y=_w;}_aq=Math.floor(_x/_u);_ar=Math.ceil(_y/_u);var _aq=0;var _ar=0;if(_w){_aq=Math.floor((_x-_w)/_u);_ar=Math.ceil((_y-_w)/_u);}else{_aq=Math.floor(_x/_u);_ar=Math.ceil(_y/_u);}var _n=_ar-_aq;if(_n==0){_ar++ ;_n++ ;}this._unit_val=_u;this._min_val=_x;this._max_val=_y;this._unit_min_val=_w+_aq*_u;this._unit_max_val=_w+_ar*_u;this._org_val=_w;_f=_c.labelfont;for(var _bd=0;_bd<=_n;_bd++ ){var _s=(_w+(_bd+_aq)*_u);var _e=_s+"";if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}var _p=new nexacro.ChartAxisItem(_bd,_e);_g=nexacro._getTextSize2(_e,_f);_p.item_type="label";_p.item_val=_s;_p.text_width=_g[0];_p.text_height=_g[1];if(_p.text_width>_l){_l=_p.text_width;}if(_p.text_height>_k){_k=_p.text_height;}this._items.push(_p);}this._text_maxwidth=_l;this._text_maxheight=_k;var _as=_i+_l;_t=_c.labelpadding;if(_t){_as+=_t.left+_t.right;}if(_as>_h){_h=_as;}}this._item_maxsize=_h;if(this.id=="xaxis"){var _at=0;if(_c.margin){_at=_c.margin.bottom;}var _au=this._item_maxsize+this._title_height;_t=_c.titlepadding;if(_t){_au+=_t.top+_t.bottom;}var _av=_a.bottom-_at;var _aw=_av-_au;if(_aw<_a.top){_aw=_a.top;}this._total_width=0;this._total_height=(_av-_aw);_a.bottom=_aw;return true;}else if(this.id=="yaxis"){var _ax=_c.margin;var _ab=0,_ac=0,_ad=0,_ae=0;if(_ax){_ab=_ax.left;_ac=_ax.right;_ad=_ax.top;_ae=_ax.bottom;}var _at=_ab;var _ay=this._item_maxsize+this._title_height;_t=_c.titlepadding;_ab=0;_ac=0;if(_t){_ay+=_t.left+_t.right;}var _az=_a.left+_at;var _ba=_az+_ay;if(_ba>_a.right){_ba=_a.right;}this._total_width=(_ba-_az);this._total_height=0;_a.left=_ba;return true;}else if(this.id=="y2axis"){var _at=0;if(_c.margin){_at=_c.margin.right;}var _ay=this._item_maxsize+this._title_height;_t=_c.titlepadding;if(_t){_ay+=_t.left+_t.right;}var _ba=_a.right-_at;var _az=_ba-_ay;if(_az<_a.left){_az=_a.left;}this._total_width=(_ba-_az);this._total_height=0;_a.right=_az;return true;}return true;};_pChartAxis._movePositionWithBound=function(_a){var _b=0,_c=0,_d=0,_e=0,_f=0,_g=0;if(this.id=="xaxis"){_c=_a.left-this._text_maxwidth;if(_c<0){_c=0;}_b=_a.bottom;_f=_a.right+this._text_maxwidth-_c;_g=this._total_height;}else if(this.id=="yaxis"){_c=_a.left-this._total_width;_b=_a.top-this._text_maxwidth;if(_b<0){_b=0;}_f=this._total_width;_g=_a.bottom+this._text_maxwidth-_b;}else if(this.id=="y2axis"){_c=_a.right;_b=_a.top-this._text_maxwidth;if(_b<0){_b=0;}_f=this._total_width;_g=_a.bottom+this._text_maxwidth-_b;}if(this._adjust_left!=_c||this._adjust_width!=_f||this._adjust_top!=_b||this._adjust_height!=_g){this._applysetPosition(_c,_b,_f,_g);}return true;};_pChartAxis._drawXAsis=function(_a){var _b=this._items;var _c=this.parent;var _d=_c._data_area;var _e=_d.left-this._adjust_left;var _f=_d.right-_d.left;var _g=_a.height;var _h=_c._item_start;var _i=_i=_c._item_cnt;var _j=this.currentstyle;var _k=this.titletext;var _l=_j.titlealign?_j.titlealign:nexacro._getCachedAlignObj("center middle");var _m=_j.titlefont?_j.titlefont:this.on_find_CurrentStyle_font();var _n=_j.titelcolor?_j.titlecolor._value:"black";var _o=nexacro.getStyleValueInt(_j.axissize,0);var _p=_j.labelrotate;_p=nexacro.getStyleValueText(_j.labelrotate,null);var _q=_j.labelalign;var _r=_j.labelfont;var _s=_j.labelcolor?_j.labelcolor._value:"black";var _t=_j.rulermajorline;var _u=this._major_size;var _v=(_t&&_t._isValid()&&_u>0);var _w=this.rulerbasetype;var _x,_y,_z;var _aa;if(_k!=""){_aa=_j.titlepadding;_a.setElementFont(_m);_a.setElementFillStyle(_n);var _z=Math.floor(_g-(this._title_height/2));if(_aa){_z-=_aa.bottom;}switch(_l.halign){case "left":var _y=_e;_a.drawFillText(_k,_e,_z,0);break;case "center":_y=Math.round(_e+(_f/2)-(this._title_width/2));_a.drawFillText(_k,_y,_z,0);break;case "right":_y=Math.floor(_e+_f-this._title_width);_a.drawFillText(_k,_y,_z,0);break;}}var _ab=_c._item_div;var _ac=_i;if(_ac>_b.length){_ac=_b.length;}if(_v){_a.setElementStrokeStyle(_t.color);if(_o>0){_a.setElementLineWidth(_o);var _ad=_o/2;_a.drawStrokeHLine(_ad,_e,_e+_f);}_a.setElementLineWidth(_t._width);var _ae=_t._width/2;var _af=_o;var _ag=_o+_u;if(_w=="distance"){_x=_e;for(var _ak=0;_ak<_i;_ak++ ){_y=Math.round(_x)+_ae;_a.drawStrokeVLine(_y,_af,_ag);_x+=_ab;}_y=Math.round(_x)+_ae;_a.drawStrokeVLine(_y,_af,_ag);}else{_x=Math.round(_e+_ab/2);for(var _ak=0;_ak<_i;_ak++ ){_y=Math.round(_x)+_ae;_a.drawStrokeVLine(_y,_af,_ag);_x+=_ab;}}_a.drawStroke();}_aa=_j.labelpadding;_a.setElementFont(_r);_a.setElementFillStyle(_s);var _ah=_o+_u;if(_aa){_ah+=_aa.top;}if(_p===null){_x=_e;switch(_q.halign){case "left":for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=_x;_z=Math.round(_ah+_ai.text_height/2);_a.drawFillText(_ai.text,_y,_z,0);_x+=_ab;}}break;case "center":_x+=_ab/2;for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=Math.round(_x-(_ai.text_width/2));_z=Math.round(_ah+_ai.text_height/2);_a.drawFillText(_ai.text,_y,_z,0);_x+=_ab;}}break;case "right":_x+=_ab;for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=_x-_ai.text_width;_z=Math.round(_ah+_ai.text_height/2);_a.drawFillText(_ai.text,_y,_z+_ae,0);_x+=_ab;}}break;}}else if(_p<180){_x=_e+_ab/2;_z=Math.round(_ah);for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=Math.round(_x);_a.drawFillText(_ai.text,_y,_z,_p);_x+=_ab;}}}else{var _aj=_p*Math.PI/180;_x=_e+_ab/2;for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=Math.round(_x+Math.cos(_ai.text_width));_z=Math.ceil(_ah-Math.sin(_ai.text_width));_a.drawFillText(_ai.text,_y,_z,_p);_x+=_ab;}}}};_pChartAxis._drawYAsis=function(_a){var _b=this._items;var _c=this.parent;var _d=_c._data_area;var _e=_d.top-this._adjust_top;var _f=_a.width;var _g=_d.bottom-_d.top;var _h=false;if(this.id=="y2axis"){_h=true;}var _i=_b.length;var _j=this.currentstyle;var _k=this._unit_min_val;var _l=this._unit_max_val;var _m=this.titletext;var _n=_j.titlealign?_j.titlealign:nexacro._getCachedAlignObj("center middle");var _o=_j.titlefont?_j.titlefont:this.on_find_CurrentStyle_font();var _p=_j.titlecolor?_j.titlecolor._value:"black";var _q=nexacro.getStyleValueInt(_j.axissize,0);var _r=_j.labelfont;var _s=_j.labelcolor?_j.labelcolor._value:"black";var _t=_j.rulermajorline;var _u=this._major_size;var _v=_j.rulerminorline;var _w=this._miner_size;var _x=(_t&&_t._isValid()&&_u>0);var _y=(_v&&_v._isValid()&&_w>0);var _z,_aa,_ab,_ac,_ad;var _ae=_j.titlepadding;if(_m!=""){if(_h){_a.setElementFont(_o);_a.setElementFillStyle(_p);_aa=Math.floor(_f-(this._title_height/2));if(_ae){_aa-=_ae.right;}switch(_n.valign){case "top":_ad=_e;_a.drawFillText(_m,_aa,_ad,90);break;case "middle":_ad=Math.round(_e+(_g/2)-(this._title_width/2));_a.drawFillText(_m,_aa,_ad,90);break;case "bottom":_ad=_e+_g-this._title_width;_a.drawFillText(_m,_aa,_ad,90);break;}}else{_a.setElementFont(_o);_a.setElementFillStyle(_p);_aa=Math.ceil(this._title_height/2);if(_ae){_aa+=_ae.left;}switch(_n.valign){case "top":_ad=_e-this._title_width;_a.drawFillText(_m,_aa,_ad,270);break;case "middle":_ad=Math.round(_e+(_g/2)+(this._title_width/2));_a.drawFillText(_m,_aa,_ad,270);break;case "bottom":_ad=_e+_g;_a.drawFillText(_m,_aa,_ad,270);break;}}}var _af=(_g)/(_i-1);var _ag=this.origindata;var _ah=this._org_size;var _ai=_j.originline;var _aj=(_ai&&_ai._isValid()&&_ah>0);var _ak=this.markdata;var _al=this._mark_size;var _am=_j.markline;var _an=(_am&&_am._isValid()&&_al>0);var _ao=_q/2;var _ap=0;if(_t){_ap+=_t._width/2;}if(_x){_a.setElementStrokeStyle(_t?_t.color:null);if(_q){_a.setElementLineWidth(_q);pos=_e+_g;if(_t){pos+=_t._width;}if(_h){_a.drawStrokeVLine(_ao,_e,pos);}else{_a.drawStrokeVLine(_f-_ao,_e,pos);}}if(_t){_a.setElementLineWidth(_t._width);}if(_h){_aa=_q;_ab=_q+_u;}else{_ab=_f-_q;_aa=_ab-_u;}_z=_e+_g;for(var _bc=0;_bc<_i;_bc++ ){var _aq=_b[_bc];if(_aq.item_val!=_ag&&_aq.item_val!=_ak){_ad=Math.round(_z);_a.drawStrokeHLine(_ad+_ap,_aa,_ab);}_z-=_af;}}_a.setElementFont(_r);_a.setElementFillStyle(_s);_z=_e+_g;_ae=_j.labelpadding;if(_h){_aa=_q+_u;if(_ae){_aa+=_ae.left;}}else{_aa=_f-_q-_u;if(_ae){_aa-=_ae.right;}}var _ar=0;for(var _bc=0;_bc<_i;_bc++ ){var _aq=_b[_bc];if(_aq.item_val!=_ag&&_aq.item_val!=_ak){_ac=_aa-(_h?0:_aq.text_width);_ad=Math.round(_z);_a.drawFillText(_aq.text,_ac,_ad,0);}else if(_aq.item_val==_ag){_ar=Math.round(_z);}_z-=_af;}if(_ag<=_l&&_ag>=_k&&_ag!=_ak){var _as=_ar-_e;var _at=this._org_text;var _au=_j.originfont;var _av=_j.origincolor;if(_av){_av=_av._value;}else{_av="black";}if(_h){_aa=_q;_ab=_q+_ah;}else{_ab=_f-_q;_aa=_ab-_ah;}_z=_e+_as;var _aw=_ag-_k;var _ax=_l-_k;var _ay=0;if(_ax==0){_ay=_aw;}_z-=_as*_ay;_ad=Math.round(_z);if(_aj){_a._setLineStyle(_ai);_a.setElementStrokeStyle(_ai.color);_a.setElementLineWidth(_ai._width);_a.moveTo(_aa,_ad+_ap);_a.lineTo(_ab,_ad+_ap);_a.drawStroke();}_a.setElementFont(_au);_a.setElementFillStyle(_av);if(_h){_ac=_ab;}else{_ac=_aa-this._org_width;}_a.drawFillText(_at,_ac,_ad,0);}if(_ak<=_l&&_ak>=_k){var _az=this._mark_text;var _ba=_j.markfont;var _bb=_j.markcolor?_j.markcolor._value:"black";if(_h){_aa=_q;_ab=_q+_al;}else{_ab=_f-_q;_aa=_ab-_al;}_z=_e+_g;_z-=_g*(_ak-_k)/(_l-_k);_ad=Math.round(_z);if(_an){_a.setElementStrokeStyle(_am.color);_a.setElementLineWidth(_am._width);_a.moveTo(_aa,_ad+_ap);_a.lineTo(_ab,_ad+_ap);_a.drawStroke();}_a.setElementFont(_ba);_a.setElementFillStyle(_bb);if(_h){_a.drawFillText(_az,_ab,_ad,0);}else{_a.drawFillText(_az,_aa-this._mark_width,_ad,0);}}};_pChartAxis.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();if(this.id=="xaxis"){this._drawXAsis(_a);}else{this._drawYAsis(_a);}_a.endDraw();};_pChartAxis.set_label=function(_a){if(_a!=this.label._value){this.label._set(_a);if(this._control_element){this.on_apply_label();}}return _a;};_pChartAxis.on_apply_label=function(){this.parent.on_updateDrawAreaLayout();};_pChartAxis.set_markdata=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.markdata){this.markdata=_b;this.on_updateDecimalless();}return _b;};_pChartAxis.set_marklabel=function(_a){if(_a!=this.marklabel){this.marklabel=_a;}return _a;};_pChartAxis.set_origindata=function(_a){var _b=parseFloat(_a)|0;if(_b!=this.origindata){this.origindata=_b;this.__origindata=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_originlabel=function(_a){if(_a!=this.originlabel){this.originlabel=_a;}return _a;};_pChartAxis.set_rulerbasetype=function(_a){if(_a!="distance"){_a="point";}if(_a!=this.rulerbasetype){this.rulerbasetype=_a;}return _a;};_pChartAxis.set_rulermajorunit=function(_a){var _b=parseFloat(_a);if(( +_b)!=( +_b)){_b= -1;}if(_b!=this.rulermajorunit){this.rulermajorunit=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_rulermax=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.rulermax){this.rulermax=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_rulermin=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.rulermin){this.rulermin=_b;this.on_updateDecimalless();this.on_apply_rulermin();}return _b;};_pChartAxis.on_apply_rulermin=function(){var _a=this.getElement();if(_a){var _b=this.parent;_b.on_updateDrawAreaLayout();_b.on_updateDataAreaLayout();this.redraw();_b.board.redraw();}};_pChartAxis.set_rulerminorunit=function(_a){var _b=parseFloat(_a);if(( +_b)!=( +_b)){_b= -1;}if(_b!=this.rulerminorunit){this.rulerminorunit=_b;this.on_updateDecimalless();}return _b;};_pChartAxis.set_rulersort=function(_a){if(_a!=this.rulersort){this.rulersort=_a;}return _a;};_pChartAxis.set_titletext=function(_a){if(_a!=this.titletext){this.titletext=_a;}return _a;};_pChartAxis.set_viewcount=function(_a){if(_a!=this.viewcount){this.viewcount=_a;}return _a;};_pChartAxis.set_viewmax=function(_a){var _b=parseInt(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.viewmax){this.viewmax=_b;}return _b;};_pChartAxis.set_viewmin=function(_a){var _b=parseInt(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.viewmin){this.viewmin=_b;}return _b;};_pChartAxis=null;nexacro.ChartBoard=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pChartBoard=nexacro.ChartBoard.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartBoard);_pChartBoard._type_name="Chart>#board";_pChartBoard.usemarky=false;_pChartBoard.usemarky2=false;_pChartBoard.useoriginy=false;_pChartBoard.useoriginy2=false;_pChartBoard.yaxismajorunit= -1;_pChartBoard.yaxisminorunit= -1;_pChartBoard.on_create_custom_style=function(){return new nexacro.ChartBoard_Style(this);};_pChartBoard.on_create_custom_currentStyle=function(){return new nexacro.ChartBoard_CurrentStyle();};_pChartBoard.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.markliney=this.on_find_CurrentStyle_markLineY(_a);_b.markliney2=this.on_find_CurrentStyle_markLineY2(_a);_b.originliney=this.on_find_CurrentStyle_originLineY(_a);_b.originliney2=this.on_find_CurrentStyle_originLineY2(_a);_b.xaxismajorline=this.on_find_CurrentStyle_xAxisMajorLine(_a);_b.yaxismajorline=this.on_find_CurrentStyle_yAxisMajorLine(_a);_b.yaxisminorline=this.on_find_CurrentStyle_yAxisMinorLine(_a);};_pChartBoard.on_update_style_markliney=function(){this.currentstyle.markliney=this.on_find_CurrentStyle_markLineY(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_markliney2=function(){this.currentstyle.markliney2=this.on_find_CurrentStyle_markLineY2(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_originliney=function(){this.currentstyle.originliney=this.on_find_CurrentStyle_originLineY(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_originliney2=function(){this.currentstyle.originliney2=this.on_find_CurrentStyle_originLineY2(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_xaxismajorline=function(){this.currentstyle.xaxismajorline=this.on_find_CurrentStyle_xAxisMajorLine(this._pseudo);};_pChartBoard.on_update_style_yaxismajorline=function(){this.currentstyle.yaxismajorline=this.on_find_CurrentStyle_yAxisMajorLine(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_yaxisminorline=function(){this.currentstyle.yaxisminorline=this.on_find_CurrentStyle_yAxisMinorLine(this._pseudo);};_pChartBoard.on_find_CurrentStyle_markLineY=function(_a){return this._find_pseudo_obj("markliney",_a);};_pChartBoard.on_find_CurrentStyle_markLineY2=function(_a){return this._find_pseudo_obj("markliney2",_a);};_pChartBoard.on_find_CurrentStyle_originLineY=function(_a){return this._find_pseudo_obj("originliney",_a);};_pChartBoard.on_find_CurrentStyle_originLineY2=function(_a){return this._find_pseudo_obj("originliney2",_a);};_pChartBoard.on_find_CurrentStyle_xAxisMajorLine=function(_a){return this._find_pseudo_obj("xaxismajorline",_a);};_pChartBoard.on_find_CurrentStyle_yAxisMajorLine=function(_a){return this._find_pseudo_obj("yaxismajorline",_a);};_pChartBoard.on_find_CurrentStyle_yAxisMinorLine=function(_a){return this._find_pseudo_obj("yaxisminorline",_a);};_pChartBoard._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartBoard._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;if(this._adjust_left!=_a.left||this._adjust_width!=_b||this._adjust_top!=_a.top||this._adjust_height!=_c){this._applysetPosition(_a.left,_a.top,_b,_c);}return true;};_pChartBoard.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.currentstyle;var _c=this.parent;var _d=_a.width;var _e=_a.height;var _f,_g,_h;if(_c.yaxis){var _i=_c.yaxis;var _j=_i._unit_min_val;var _k=_i._unit_max_val;var _l=_k-_j;var _m=_b.yaxismajorline;if(_m&&_m._isValid()){var _n=this.yaxismajorunit;if(_n<1){_n=_i.rulermajorunit;}if(_n>0){var _o=_m._width/2;_a._setLineStyle(_m);var _p=_j;while(_p<=_k){_f=(_p-_j);if(_f>0){_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}_p+=_n;}}}if(this.useoriginy){var _q=_i.origindata;if(_q>_j&&_q<=_k){var _r=_b.originliney;if(_r&&_r._isValid()){_a._setLineStyle(_r);_f=_q-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}if(this.usemarky){var _s=_i.markdata;if(_s>_j&&_s<=_k){var _t=_b.markliney;if(_t&&_t._isValid()){_a._setLineStyle(_t);_f=_s-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}}if(_c.y2axis){var _u=_c.y2axis;var _j=_u._unit_min_val;var _k=_u._unit_max_val;var _l=_k-_j;if(this.useoriginy2){var _q=_u.origindata;if(_q>_j&&_q<=_k){var _r=_b.originliney2;if(_r&&_r._isValid()){_a._setLineStyle(_r);_f=_q-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}if(this.usemarky2){var _s=_u.markdata;if(_s>_j&&_s<=_k){var _t=_b.markliney2;if(_t&&_t._isValid()){_a._setLineStyle(_t);_f=_s-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}}_a.endDraw();};_pChartBoard.set_usemarky=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.usemarky){this.usemarky=_a;}return _a;};_pChartBoard.set_usemarky2=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.usemarky2){this.usemarky2=_a;}return _a;};_pChartBoard.set_useoriginy=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.useoriginy){this.useoriginy=_a;}return _a;};_pChartBoard.set_useoriginy2=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.useoriginy2){this.useoriginy2=_a;}return _a;};_pChartBoard.set_yaxismajorunit=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.yaxismajorunit){this.yaxismajorunit=_b;this.redraw();}return _b;};_pChartBoard.set_yaxisminorunit=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.yaxisminorunit){this.yaxisminorunit=_b;}return _b;};_pChartBoard=null;nexacro.ChartSeries=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.data=new nexacro.BindableValue("");this.datatext=new nexacro.BindableValue("");};var _pChartSeries=nexacro.ChartSeries.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartSeries);_pChartSeries._type_name="Chart>#";_pChartSeries._bar_item_offset=0;_pChartSeries._bar_item_width=0;_pChartSeries._exprfn=null;_pChartSeries._exprtextfn=null;_pChartSeries._defaultStrokePen=nexacro._getCachedStyleObj("strokepen","1px solid black");_pChartSeries.data="";_pChartSeries.datatext="";_pChartSeries.label="";_pChartSeries.type="line";_pChartSeries.xaxis="xaxis";_pChartSeries.yaxis="yaxis";_pChartSeries.on_create_custom_style=function(){return new nexacro.ChartSeries_Style(this);};_pChartSeries.on_create_custom_currentStyle=function(){return new nexacro.ChartSeries_CurrentStyle();};_pChartSeries.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.startangle=this.on_find_CurrentStyle_startAngle(_a);_b.strokecap=this.on_find_CurrentStyle_strokeCap(_a);_b.strokejoin=this.on_find_CurrentStyle_strokeJoin(_a);_b.strokepen=this.on_find_CurrentStyle_strokePen(_a);_b.fillbrush=this.on_find_CurrentStyle_fillBrush(_a);_b.fillgradation=this.on_find_CurrentStyle_fillGradation(_a);_b.fillhatch=this.on_find_CurrentStyle_fillHatch(_a);_b.extendoriginline=this.on_find_CurrentStyle_extendOriginLine(_a);_b.miterjoinlimit=this.on_find_CurrentStyle_miterJoinLimit(_a);_b.datatextalign=this.on_find_CurrentStyle_dataTextAlign(_a);_b.datatextbackground=this.on_find_CurrentStyle_dataTextBackground(_a);_b.datatextborder=this.on_find_CurrentStyle_dataTextBorder(_a);_b.datatextbordertype=this.on_find_CurrentStyle_dataTextBorderType(_a);_b.datatextcolor=this.on_find_CurrentStyle_dataTextColor(_a);_b.datatextfont=this.on_find_CurrentStyle_dataTextFont(_a);_b.datatextgradation=this.on_find_CurrentStyle_dataTextGradation(_a);_b.datatextguideline=this.on_find_CurrentStyle_dataTextGuideLine(_a);_b.datatextguiderotate=this.on_find_CurrentStyle_dataTextGuideRotate(_a);_b.datatextguidesize=this.on_find_CurrentStyle_dataTextGuideSize(_a);_b.datatextguidetype=this.on_find_CurrentStyle_dataTextGuideType(_a);_b.datatextlocation=this.on_find_CurrentStyle_dataTextLocation(_a);_b.datatextmargin=this.on_find_CurrentStyle_dataTextMargin(_a);_b.datatextpadding=this.on_find_CurrentStyle_dataTextPadding(_a);_b.pointfillbrush=this.on_find_CurrentStyle_pointFillBrush(_a);_b.pointfillgradation=this.on_find_CurrentStyle_pointFillGradation(_a);_b.pointfillhatch=this.on_find_CurrentStyle_pointFillHatch(_a);_b.pointmiterjoinlimit=this.on_find_CurrentStyle_pointMiterJoinLimit(_a);_b.pointshape=this.on_find_CurrentStyle_pointShape(_a);_b.pointsize=this.on_find_CurrentStyle_pointSize(_a);_b.pointstrokecap=this.on_find_CurrentStyle_pointStrokeCap(_a);_b.pointstrokejoin=this.on_find_CurrentStyle_pointStrokeJoin(_a);_b.pointstrokepen=this.on_find_CurrentStyle_pointStrokePen(_a);_b.selectcolor=this.on_find_CurrentStyle_selectColor(_a);_b.selectdatatextbackground=this.on_find_CurrentStyle_selectDataTextBackground(_a);_b.selectdatatextborder=this.on_find_CurrentStyle_selectDataTextBorder(_a);_b.selectdatatextbordertype=this.on_find_CurrentStyle_selectDataTextBorderType(_a);_b.selectdatatextcolor=this.on_find_CurrentStyle_selectDataTextColor(_a);_b.selectdatatextfont=this.on_find_CurrentStyle_selectDataTextFont(_a);_b.selectdatatextgradation=this.on_find_CurrentStyle_selectDataTextGradation(_a);_b.selectdatatextguideline=this.on_find_CurrentStyle_selectDataTextGuideLine(_a);_b.selectfillbrush=this.on_find_CurrentStyle_selectFillBrush(_a);_b.selectfillgradation=this.on_find_CurrentStyle_selectFillGradation(_a);_b.selectfillhatch=this.on_find_CurrentStyle_selectFillHatch(_a);_b.selectfont=this.on_find_CurrentStyle_selectFont(_a);_b.selectindent=this.on_find_CurrentStyle_selectIndent(_a);_b.selectpointfillbrush=this.on_find_CurrentStyle_selectPointFillBrush(_a);_b.selectpointfillgradation=this.on_find_CurrentStyle_selectPointFillGradation(_a);_b.selectpointfillhatch=this.on_find_CurrentStyle_selectPointFillHatch(_a);_b.selectpointsize=this.on_find_CurrentStyle_pointSize(_a);_b.selectstrokepen=this.on_find_CurrentStyle_selectStrokePen(_a);_b.selectpointsize=this.on_find_CurrentStyle_selectPointSize(_a);};_pChartSeries.on_update_style_datatextalign=function(){this.currentstyle.datatextalign=this.on_find_CurrentStyle_dataTextAlign(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextbackground=function(){this.currentstyle.datatextbackground=this.on_find_CurrentStyle_dataTextBackground(this._pseudo);};_pChartSeries.on_update_style_datatextborder=function(){this.currentstyle.datatextborder=this.on_find_CurrentStyle_dataTextBorder(this._pseudo);};_pChartSeries.on_update_style_datatextbordertype=function(){this.currentstyle.datatextbordertype=this.on_find_CurrentStyle_dataTextBorderType(this._pseudo);};_pChartSeries.on_update_style_datatextcolor=function(){this.currentstyle.datatextcolor=this.on_find_CurrentStyle_dataTextColor(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextfont=function(){this.currentstyle.datatextfont=this.on_find_CurrentStyle_dataTextFont(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextgradation=function(){this.currentstyle.datatextfont=this.on_find_CurrentStyle_dataTextFont(this._pseudo);};_pChartSeries.on_update_style_datatextguideline=function(){this.currentstyle.datatextguideline=this.on_find_CurrentStyle_dataTextGuideLine(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextguidesize=function(){this.currentstyle.datatextguidesize=this.on_find_CurrentStyle_dataTextGuideSize(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextguidetype=function(){this.currentstyle.datatextguidetype=this.on_find_CurrentStyle_dataTextGuideType(this._pseudo);};_pChartSeries.on_update_style_datatextlocation=function(){this.currentstyle.datatextLocation=this.on_find_CurrentStyle_dataTextLocation(this._pseudo);};_pChartSeries.on_update_style_datatextmargin=function(){this.currentstyle.datatextmargin=this.on_find_CurrentStyle_dataTextMargin(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextpadding=function(){this.currentstyle.datatextpadding=this.on_find_CurrentStyle_dataTextPadding(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_extendorignline=function(){this.currentstyle.extendorignline=this.on_find_CurrentStyle_extendOriginLine(this._pseudo);};_pChartSeries.on_update_style_fillbrush=function(){this.currentstyle.fillbrush=this.on_find_CurrentStyle_fillBrush(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_fillgradation=function(){this.currentstyle.fillgradation=this.on_find_CurrentStyle_fillGradation(this._pseudo);};_pChartSeries.on_update_style_fillhatch=function(){this.currentstyle.fillhatch=this.on_find_CurrentStyle_fillHatch(this._pseudo);};_pChartSeries.on_update_style_miterjoinlimit=function(){this.currentstyle.miterjoinlimit=this.on_find_CurrentStyle_miterJoinLimit(this._pseudo);};_pChartSeries.on_update_style_pointfillbrush=function(){this.currentstyle.pointfillbrush=this.on_find_CurrentStyle_pointFillBrush(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_pointfillgradation=function(){this.currentstyle.pointfillgradation=this.on_find_CurrentStyle_pointFillGradation(this._pseudo);};_pChartSeries.on_update_style_pointfillhatch=function(){this.currentstyle.pointfillhatch=this.on_find_CurrentStyle_pointFillHatch(this._pseudo);};_pChartSeries.on_update_style_pointmiterjoinlimit=function(){this.currentstyle.pointmiterjoinlimit=this.on_find_CurrentStyle_pointMiterJoinLimit(this._pseudo);};_pChartSeries.on_update_style_pointshape=function(){this.currentstyle.pointshape=this.on_find_CurrentStyle_pointShape(this._pseudo);if(this.parent.legend){this.parent.legend._recalcLayout();this.redraw();this.parent.legend.redraw();}};_pChartSeries.on_update_style_pointsize=function(){this.currentstyle.pointsize=this.on_find_CurrentStyle_pointSize(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_pointstrokecap=function(){this.currentstyle.pointstrokecap=this.on_find_CurrentStyle_pointStrokeCap(this._pseudo);};_pChartSeries.on_update_style_pointstrokejoin=function(){this.currentstyle.pointstrokejoin=this.on_find_CurrentStyle_pointStrokeJoin(this._pseudo);};_pChartSeries.on_update_style_pointstrokepen=function(){this.currentstyle.pointstrokepen=this.on_find_CurrentStyle_pointStrokePen(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_selectcolor=function(){this.currentstyle.selectcolor=this.on_find_CurrentStyle_selectColor(this._pseudo);};_pChartSeries.on_update_style_selectdatatextbackground=function(){this.currentstyle.selectdatatextbackground=this.on_find_CurrentStyle_selectDataTextBackground(this._pseudo);};_pChartSeries.on_update_style_selectdatatextborder=function(){this.currentstyle.selectdatatextborder=this.on_find_CurrentStyle_selectDataTextBorder(this._pseudo);};_pChartSeries.on_update_style_selectdatatextcolor=function(){this.currentstyle.selectdatatextcolor=this.on_find_CurrentStyle_selectDataTextColor(this._pseudo);};_pChartSeries.on_update_style_selectdatatextfont=function(){this.currentstyle.selectdatatextfont=this.on_find_CurrentStyle_selectDataTextFont(this._pseudo);};_pChartSeries.on_update_style_selectdatatextgradation=function(){this.currentstyle.selectdatatextgradation=this.on_find_CurrentStyle_selectDataTextGradation(this._pseudo);};_pChartSeries.on_update_style_selectdatatextguideline=function(){this.currentstyle.selectdatatextguideline=this.on_find_CurrentStyle_selectDataTextGuideLine(this._pseudo);};_pChartSeries.on_update_style_selectfillbrush=function(){this.currentstyle.selectfillbrush=this.on_find_CurrentStyle_selectFillBrush(this._pseudo);};_pChartSeries.on_update_style_selectfillgradation=function(){this.currentstyle.selectfillgradation=this.on_find_CurrentStyle_selectFillGradation(this._pseudo);};_pChartSeries.on_update_style_selectfillhatch=function(){this.currentstyle.selectfillhatch=this.on_find_CurrentStyle_selectFillHatch(this._pseudo);};_pChartSeries.on_update_style_selectfont=function(){this.currentstyle.selectfont=this.on_find_CurrentStyle_selectFont(this._pseudo);};_pChartSeries.on_update_style_set_selectindent=function(){this.currentstyle.selectindent=this.on_find_CurrentStyle_selectIndent(this._pseudo);};_pChartSeries.on_update_style_selectstrokepen=function(){this.currentstyle.selectstrokepen=this.on_find_CurrentStyle_selectStrokePen(this._pseudo);};_pChartSeries.on_update_style_selectpointsize=function(){this.currentstyle.selectpointsize=this.on_find_CurrentStyle_selectPointSize(this._pseudo);};_pChartSeries.on_update_style_selectpointfillbrush=function(){this.currentstyle.selectpointfillbrush=this.on_find_CurrentStyle_selectPointFillBrush(this._pseudo);};_pChartSeries.on_update_style_selectpointfillgradation=function(){this.currentstyle.selectpointfillgradation=this.on_find_CurrentStyle_selectPointFillGradation(this._pseudo);};_pChartSeries.on_update_style_selectpointfillhatch=function(){this.currentstyle.selectpointfillhatch=this.on_find_CurrentStyle_selectPointFillHatch(this._pseudo);};_pChartSeries.on_update_style_selectpointstrokepen=function(){this.currentstyle.selectpointstrokepen=this.on_find_CurrentStyle_selectPointStrokePen(this._pseudo);};_pChartSeries.on_update_style_startangle=function(){this.currentstyle.startangle=this.on_find_CurrentStyle_startAngle(this._pseudo);};_pChartSeries.on_update_style_startangle=function(){this.currentstyle.startangle=this.on_find_CurrentStyle_startAngle(this._pseudo);};_pChartSeries.on_update_style_strokecap=function(){this.currentstyle.strokecap=this.on_find_CurrentStyle_strokeCap(this._pseudo);};_pChartSeries.on_update_style_strokejoin=function(){this.currentstyle.strokejoin=this.on_find_CurrentStyle_strokeJoin(this._pseudo);};_pChartSeries.on_update_style_strokepen=function(){this.currentstyle.strokepen=this.on_find_CurrentStyle_strokePen(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_find_CurrentStyle_background=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_border=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_shadow=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_startAngle=function(_a){return this._find_pseudo_obj("startangle",_a);};_pChartSeries.on_find_CurrentStyle_strokeCap=function(_a){return this._find_pseudo_obj("strokecap",_a);};_pChartSeries.on_find_CurrentStyle_strokeJoin=function(_a){return this._find_pseudo_obj("strokejoin",_a);};_pChartSeries.on_find_CurrentStyle_strokePen=function(_a){var _b=this._find_pseudo_obj("strokepen",_a);return _b?_b:this._defaultStrokePen;};_pChartSeries.on_find_CurrentStyle_miterJoinLimit=function(_a){return this._find_pseudo_obj("miterjoinlimit",_a);};_pChartSeries.on_find_CurrentStyle_fillBrush=function(_a){return this._find_pseudo_obj("fillbrush",_a);};_pChartSeries.on_find_CurrentStyle_fillGradation=function(_a){return this._find_pseudo_obj("fillgradation",_a);};_pChartSeries.on_find_CurrentStyle_fillHatch=function(_a){return this._find_pseudo_obj("fillhatch",_a);};_pChartSeries.on_find_CurrentStyle_extendOriginLine=function(_a){return this._find_pseudo_obj("extendorignline",_a);};_pChartSeries.on_find_CurrentStyle_dataTextAlign=function(_a){var _b=this._find_pseudo_obj("datatextalign",_a);return (_b)?_b:this._default_align;};_pChartSeries.on_find_CurrentStyle_dataTextBackground=function(_a){return this._find_pseudo_obj("datatextbackground",_a);};_pChartSeries.on_find_CurrentStyle_dataTextBorder=function(_a){return this._find_pseudo_obj("datatextborder",_a);};_pChartSeries.on_find_CurrentStyle_dataTextBorderType=function(_a){return this._find_pseudo_obj("datatextbordertype",_a);};_pChartSeries.on_find_CurrentStyle_dataTextColor=function(_a){var _b=this._find_pseudo_obj("datatextcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartSeries.on_find_CurrentStyle_dataTextFont=function(_a){var _b=this._find_pseudo_obj("datatextfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartSeries.on_find_CurrentStyle_dataTextGradation=function(_a){return this._find_pseudo_obj("datatextgradation",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideLine=function(_a){return this._find_pseudo_obj("datatextguideline",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideRotate=function(_a){return this._find_pseudo_obj("datatextguiderotate",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideSize=function(_a){return this._find_pseudo_obj("datatextguidesize",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideType=function(_a){var _b=this._find_pseudo_obj("datatextguidetype",_a);return (_b)?_b:this._defaultGuideType;};_pChartSeries.on_find_CurrentStyle_dataTextLocation=function(_a){var _b=this._find_pseudo_obj("datatextlocation",_a);return (_b)?_b:this._defaultLocation;};_pChartSeries.on_find_CurrentStyle_dataTextMargin=function(_a){var _b=this._find_pseudo_obj("datatextmargin",_a);return (_b)?_b:this._default_margin;};_pChartSeries.on_find_CurrentStyle_dataTextPadding=function(_a){var _b=this._find_pseudo_obj("datatextpadding",_a);return (_b)?_b:this._default_padding;};_pChartSeries.on_find_CurrentStyle_pointFillBrush=function(_a){return this._find_pseudo_obj("pointfillbrush",_a);};_pChartSeries.on_find_CurrentStyle_pointFillGradation=function(_a){return this._find_pseudo_obj("pointfillgradation",_a);};_pChartSeries.on_find_CurrentStyle_pointFillHatch=function(_a){return this._find_pseudo_obj("pointfillhatch",_a);};_pChartSeries.on_find_CurrentStyle_pointMiterJoinLimit=function(_a){return this._find_pseudo_obj("pointmiterjoinlimit",_a);};_pChartSeries.on_find_CurrentStyle_pointShape=function(_a){return this._find_pseudo_obj("pointshape",_a);};_pChartSeries.on_find_CurrentStyle_pointSize=function(_a){return this._find_pseudo_obj("pointsize",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokeCap=function(_a){return this._find_pseudo_obj("pointstrokecap",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokeJoin=function(_a){return this._find_pseudo_obj("pointstrokejoin",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokePen=function(_a){return this._find_pseudo_obj("pointstrokepen",_a);};_pChartSeries.on_find_CurrentStyle_selectColor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartSeries.on_find_CurrentStyle_selectDataTextBackground=function(_a){var _b=this._find_pseudo_obj("selectdatatextbackground",_a);return (_b)?_b:this.currentstyle.datatextbackground;};_pChartSeries.on_find_CurrentStyle_selectDataTextBorder=function(_a){var _b=this._find_pseudo_obj("selectdatatextborder",_a);return (_b)?_b:this.currentstyle.datatextborder;};_pChartSeries.on_find_CurrentStyle_selectDataTextBorderType=function(_a){var _b=this._find_pseudo_obj("selectdatatextbordertype",_a);return (_b)?_b:this.currentstyle.datatextbordertype;};_pChartSeries.on_find_CurrentStyle_selectDataTextColor=function(_a){var _b=this._find_pseudo_obj("selectdatatextcolor",_a);return (_b)?_b:this.currentstyle.datatextcolor;};_pChartSeries.on_find_CurrentStyle_selectDataTextFont=function(_a){var _b=this._find_pseudo_obj("selectdatatextfont",_a);return (_b)?_b:this.currentstyle.datatextfont;};_pChartSeries.on_find_CurrentStyle_selectDataTextGradation=function(_a){var _b=this._find_pseudo_obj("selectdatatextgradation",_a);return (_b)?_b:this.currentstyle.datatextgradation;};_pChartSeries.on_find_CurrentStyle_selectDataTextGuideLine=function(_a){var _b=this._find_pseudo_obj("selectdatatextguideline",_a);return (_b)?_b:this.currentstyle.datatextguideline;};_pChartSeries.on_find_CurrentStyle_selectFillBrush=function(_a){var _b=this._find_pseudo_obj("selectfillbrush",_a);return (_b)?_b:this.currentstyle.fillbrush;};_pChartSeries.on_find_CurrentStyle_selectFillGradation=function(_a){var _b=this._find_pseudo_obj("selectfillgradation",_a);return (_b)?_b:this.currentstyle.fillgradation;};_pChartSeries.on_find_CurrentStyle_selectFillHatch=function(_a){var _b=this._find_pseudo_obj("selectfillhatch",_a);return (_b)?_b:this.currentstyle.fillhatch;};_pChartSeries.on_find_CurrentStyle_selectFont=function(_a){var _b=this._find_pseudo_obj("selectfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartSeries.on_find_CurrentStyle_selectIndent=function(_a){return this._find_pseudo_obj("selectindent",_a);};_pChartSeries.on_find_CurrentStyle_selectPointFillBrush=function(_a){var _b=this._find_pseudo_obj("selectpointfillbrush",_a);return (_b)?_b:this.currentstyle.pointfillbrush;};_pChartSeries.on_find_CurrentStyle_selectPointFillGradation=function(_a){var _b=this._find_pseudo_obj("selectpointfillgradation",_a);return (_b)?_b:this.currentstyle.pointfillgradation;};_pChartSeries.on_find_CurrentStyle_selectPointFillHatch=function(_a){var _b=this._find_pseudo_obj("selectpointfillhatch",_a);return (_b)?_b:this.currentstyle.pointfillhatch;};_pChartSeries.on_find_CurrentStyle_selectPointSize=function(_a){var _b=this._find_pseudo_obj("selectpointsize",_a);return (_b)?_b:this.currentstyle.pointsize;};_pChartSeries.on_find_CurrentStyle_selectPointStrokePen=function(_a){var _b=this._find_pseudo_obj("selectpointstrokepen",_a);return (_b)?_b:this.currentstyle.pointstrokepen;};_pChartSeries.on_find_CurrentStyle_selectStrokePen=function(_a){var _b=this._find_pseudo_obj("selectstrokepen",_a);return (_b)?_b:this.currentstyle.strokepen;};_pChartSeries.on_find_CurrentStyle_selectPointSize=function(_a){var _b=this._find_pseudo_obj("selectpointsize",_a);return (_b)?_b:this.currentstyle.selectpointsize;};_pChartSeries._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;if(this._adjust_left!=_a.left||this._adjust_width!=_b||this._adjust_top!=_a.top||this._adjust_height!=_c){this._applysetPosition(_a.left,_a.top,_b,_c);}return true;};_pChartSeries._getBindNumber=function(_a,_b,_c){var _d;if(_b._bindtype==0){_d=_b._value;}else if(_a){if(_b._bindtype==1){_d=_a.getColumn(_c,_b._bindexpr);}else{var _e=this._exprfn;if(!_e){_e=this._exprfn=_a._createExprFunc(_b._bindexpr);}if((typeof _e)=="function"){_d=_e.call(this,_c,_c,this.parent,_a);}}}_d=parseFloat(_d)|0;if(( +_d)!=( +_d)){_d=undefined;}return _d;};_pChartSeries._getBindText=function(_a,_b,_c){if(_b._bindtype==0){return _b._value;}else{if(_a==null){return undefined;}if(_b._bindtype==1){return _a.getColumn(_c,_b._bindexpr);}else{var _d=this._exprtextfn;if(!_d){_d=this._exprtextfn=_a._createExprFunc(_b._bindexpr);}if((typeof _d)=="function"){return _d.call(this,_c,_c,this.parent,_a);}}}return "";};_pChartSeries.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.parent;var _c=_a.width;var _d=_a.height;var _e=_b._item_start;var _f=_b._item_cnt;var _g=_b._item_div;if(_f<=0){return;}var _h=this.currentstyle;var _i=this.yaxis;var _j=null;if(_i=="y2axis"){_j=_b.y2axis;}else{_j=_b.yaxis;}if(!_j){return;}var _k=_j._unit_min_val;var _l=_j._unit_max_val;var _m=_l-_k;var _n=_b._binddataset;if(_n){var _o=this.data;var _p=this.datatext;var _q=_j._org_val;var _r=Math.round(_d-((_q-_k)*_d)/_m);var _s=false;var _t=nexacro.getStyleValueText2(_h.pointshape,"none","");var _u,_v,_w;if(_t!=""){_u=nexacro.getStyleValueInt(_h.pointsize,0);if(_u>0){_aw=_h.pointfillbrush;if(_aw&&_aw._isValid()){_v=_aw.color;}else{_v="";}_ax=_h.pointstrokepen;if(_ax&&_ax._isValid()){_w=_ax;}else{_w=null;}_s=true;}}var _x=false,_y=false;var _z=_h.datatextcolor?_h.datatextcolor._value:"";var _aa=_h.datatextfont;var _ab,_ac=0,_ad=0,_ae="",_af=0;if(_z!=""){var _ag=_h.datatextalign;_ab=_h.datatextguideline;var _ah=nexacro.getStyleValueInt(_h.datatextguidesize,0);var _ai=_h.datatextpadding;var _aj=_h.datatextmargin;switch(_ag&&_ag.halign){case "left":_ac= -_ah;_ae="left";if(_ai){_af=_ai.right;}break;case "right":_ac=_ah;_ae="right";if(_ai){_af=_ai.left;}break;}switch(_ag&&_ag.valign){case "top":_ad= -_ah;if(_ae==""){_ae="top";if(_ai){_af=_ai.bottom;}}else if(_ae=="left"){_ae="lefttop";}else if(_ae=="right"){_ae="righttop";}break;case "bottom":_ad=_ah;if(_ae==""){_ae="bottom";if(_ai){_af=_ai.top;}}else if(_ae=="left"){_ae="leftbottom";}else if(_ae=="right"){_ae="rightbottom";}break;}if(_ab&&_ab._isValid()&&_ah>0){if(_ac!=0||_ad!=0){_y=true;}}_x=true;}var _ak=0;var _al=[];var _am=[];var _an=[];if(this.type=="bar"){var _ao=this._bar_item_width;var _ap=_ao/2;_ak=this._bar_item_offset+_ap;var _aq=0;var _ar=false,_as=false;var _at,_au,_av;var _aw=_h.fillbrush;if(_aw){_at=_aw.color;_a.setElementFillStyle(_at);_ar=true;}var _ax=_h.strokepen;if(_ax){_au=_ax.color;_av=parseFloat(_ax.width)|0;if(( +_av)!=( +_av)){_av=1;}_a.setElementStrokeStyle(_au);_a.setElementLineWidth(_av);_as=true;_aq=_av/2;}var _ay=_ak;for(var _bh=0;_bh<_f;_bh++ ){var _az=this._getBindNumber(_n,_o,_bh+_e);if(_az!=undefined){_al[_bh]=_az;_am[_bh]=Math.round(_ay);_an[_bh]=Math.round(_d-((_az-_k)*_d)/_m);}_ay+=_g;}if(_ar){for(var _bh=0;_bh<_f;_bh++ ){if(_al[_bh]!=undefined){_a.rect(_am[_bh]-_ap,_r,_ao,_an[_bh]-_r);}_a.drawFill();}}if(_as){for(var _bh=0;_bh<_f;_bh++ ){if(_al[_bh]!=undefined){_a.halfRect(_am[_bh]-_ap,_r,_ao,_an[_bh]-_r);}}_a.drawStroke();}}else{_ak=_g/2;var _aq=0;var _as=false;var _au,_av;var _ax=_h.strokepen;if(_ax){_au=_ax.color;_av=parseFloat(_ax.width)|0;if(( +_av)!=( +_av)){_av=1;}_a.setElementStrokeStyle(_au);_a.setElementLineWidth(_av);_as=true;}_aq=_av/2;if(_as){var _ba=_n.rowcount;var _ay=_ak;var _bb=false;if(_e>0){var _az=this._getBindNumber(_n,_o,_e-1);if(_az!=undefined){var _bc=Math.round(_d-((_az-_k)*_d)/_m);var _bd=Math.round(_ay-_g);_a.moveTo(_bd,_bc+_aq);_bb=true;}}for(var _bh=0;_bh<=_f;_bh++ ){var _az=this._getBindNumber(_n,_o,_bh+_e);if(_az!=undefined){var _bd=Math.round(_ay);var _bc=Math.round(_d-((_az-_k)*_d)/_m);_al[_bh]=_az;_am[_bh]=_bd;_an[_bh]=_bc;if(_bb){_a.lineTo(_bd,_bc+_aq);}else{_a.moveTo(_bd,_bc+_aq);_bb=true;}_ay+=_g;}else{_ay+=_g;_bb=false;}}_a.drawStroke();}}if(_s){var _be=_u/2;if(_s){for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){_b._drawMark(_a,_am[_bh]-_be,_an[_bh]-_be,_t,_u,_v,_w);}}}}if(_x){_a._setLineStyle(_ab);_a.setElementFont(_aa);_a.setElementFillStyle(_z);if(_y){for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bd=_am[_bh];var _bc=_an[_bh];_a.moveTo(_bd,_bc);_bd+=_ac;_bc+=_ad;_a.lineTo(_bd,_bc);}}_a.drawStroke();}switch(_ae){case "left":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=_af+_bg[0];_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "lefttop":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=_af+_bg[0];_bc-=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "leftbottom":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=_af+_bg[0];_bc+=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "right":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;_bd+=_af;_a.drawFillText(_bf,_bd,_bc,0);}}}_bd+=_af;break;case "righttop":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd+=_af;_bc-=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "rightbottom":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd+=_af;_bc+=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "top":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=Math.round(_bg[0]/2);_bc-=_af+Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "bottom":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=Math.round(_bg[0]/2);_bc+=_af+Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;default:for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=Math.round(_bg[0]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;}}}_a.endDraw();};_pChartSeries._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;this._type_name+=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartSeries.set_data=function(_a){if(_a!=this.data._value){this.data._set(_a);}return _a;};_pChartSeries.set_datatext=function(_a){if(_a!=this.datatext._value){this.datatext._set(_a);if(this._control_element){this.parent.on_updateDataAreaLayout();}}return _a;};_pChartSeries.set_label=function(_a){if(_a!=this.label){this.label=_a;if(this._control_element){this.parent._recalcLayout();this.parent.legend.redraw();}}return _a;};_pChartSeries.set_type=function(_a){if(_a!=this.type){this.type=_a;}return _a;};_pChartSeries.set_xaxis=function(_a){if(_a!=this.xaxis){this.type=_a;}return _a;};_pChartSeries.set_yaxis=function(_a){if(_a!=this.yaxis){this.yaxis=_a;}return _a;};_pChartSeries=null;}