if(!nexacro.Chart){nexacro.Chart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._serieses=[];this._draw_area=new nexacro.Rect();this._data_area=new nexacro.Rect();};var _pChart=nexacro.Chart.prototype=nexacro._createPrototype(nexacro.Component,nexacro.Chart);_pChart._type_name="Chart";_pChart.seriesset=null;_pChart._draw_area=null;_pChart._draw_area=null;_pChart._recalc_flag=false;_pChart._item_start=0;_pChart._item_cnt=0;_pChart._item_div=0;_pChart._barcnt=0;_pChart.binddataset=null;_pChart._binddataset=null;_pChart.scrollmax=0;_pChart.scrollvisible="none";_pChart.viewcount=5;_pChart.viewmin=0;_pChart.viewmax=4;_pChart.board=null;_pChart.legend=null;_pChart.title=null;_pChart.xaxis=null;_pChart.yaxis=null;_pChart.y2axis=null;_pChart.on_create_contents=function(){this.board&&this.board.createComponent();if(this.seriesset){var _a=this.seriesset.length;for(var _b=0;_b<_a;_b++ ){this.seriesset[_b].createComponent();}}this.xaxis&&this.xaxis.createComponent();this.yaxis&&this.yaxis.createComponent();this.y2axis&&this.y2axis.createComponent();this.legend&&this.legend.createComponent();this.title&&this.title.createComponent();};_pChart.on_created_contents=function(){this.board&&this.board.on_created();if(this.seriesset){var _a=this.seriesset.length;for(var _c=0;_c<_a;_c++ ){this.seriesset[_c].on_created();}}this.xaxis&&this.xaxis.on_created();this.yaxis&&this.yaxis.on_created();this.y2axis&&this.y2axis.on_created();this.legend&&this.legend.on_created();this.title&&this.title.on_created();var _b=this;this._refform._setEventHandler("onload",function(){_b._recalcLayout();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){_b.title.redraw();}});if(this._refform._type_name!=="Form"){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this._recalcLayout();}}};_pChart.on_destroy_contents=function(){if(this.seriesset){var _a=this.seriesset.length;for(var _b=0;_b<_a;_b++ ){this.seriesset[_b].destroy();this.seriesset[_b]=null;}}this._clearAll();};_pChart.on_create_custom_style=function(){return new nexacro.Chart_Style(this);};_pChart.on_create_custom_currentStyle=function(){return new nexacro.Chart_CurrentStyle();};_pChart.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.baritemminsize=this.on_find_CurrentStyle_barItemSize(_a);_b.baritemspacing=this.on_find_CurrentStyle_barItemSpacing(_a);_b.barspacing=this.on_find_CurrentStyle_barSpacing(_a);_b.lineextendorigin=this.on_find_CurrentStyle_lineExtendOrigin(_a);_b.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(_a);_b.seriesextendaxis=this.on_find_CurrentStyle_seriesExtendAxis(_a);};_pChart.on_update_style_baritemminsize=function(){this.currentstyle.baritemminsize=this.on_find_CurrentStyle_barItemSize(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_baritemspacing=function(){this.currentstyle.baritemspacing=this.on_find_CurrentStyle_barItemSpacing(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_barspacing=function(){this.currentstyle.barspacing=this.on_find_CurrentStyle_barSpacing(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_lineextendorigin=function(){this.currentstyle.lineextendorigin=this.on_find_CurrentStyle_lineExtendOrigin(this._pseudo);};_pChart.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(this._pseudo);};_pChart.on_update_style_seriesextendaxis=function(){this.currentstyle.seriesextendaxis=this.on_find_CurrentStyle_seriesExtendAxis(this._pseudo);};_pChart.on_find_CurrentStyle_barItemSize=function(_a){return this._find_pseudo_obj("baritemminsize",_a);};_pChart.on_find_CurrentStyle_barItemSpacing=function(_a){return this._find_pseudo_obj("baritemspacing",_a);};_pChart.on_find_CurrentStyle_barSpacing=function(_a){return this._find_pseudo_obj("barspacing",_a);};_pChart.on_find_CurrentStyle_lineExtendOrigin=function(_a){return this._find_pseudo_obj("lineextendorigin",_a);};_pChart.on_find_CurrentStyle_scrollbarSize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pChart.on_find_CurrentStyle_seriesExtendAxis=function(_a){return this._find_pseudo_obj("seriesextendaxis",_a);};_pChart._clearAll=function(){if(this.board){this.board.destroy();this.board=null;}if(this.legend){this.legend.destroy();this.legend=null;}if(this.title){this.title.destroy();this.title=null;}if(this.xaxis){this.xaxis.destroy();this.xaxis=null;}if(this.yaxis){this.yaxis.destroy();this.yaxis=null;}if(this.y2axis){this.y2axis.destroy();this.y2axis=null;}};_pChart.appendSeries=function(_a,_b,_c){if(window.ChartSeriesTypes[_a]){var _d;if(!this.seriesset){_d=this.seriesset=new nexacro.Collection();}else{_d=this.seriesset;}var _e=_d.length;for(var _g=0;_g<_e;_g++ ){_d[_g]._canvas.clearRect();}var _f=new nexacro.ChartSeries(_b,"absolute",0,0,0,0,null,null,this);_f.set_data(_c);_f.set_type(_a);_f._type_name+=_b;_f.on_created();_d.add(_b,_f);if(this.enableredraw){this.on_updateDataAreaLayout();this._recalcLayout();if(nexacro.BrowserVersion<8){this.legend.redraw();}}return this.seriesset.length-1;}else{this._setContents(_a);return this.seriesset.length-1;}return  -1;};_pChart.deleteSeries=function(_a,_b){if(_b==null){var _c=parseInt(_a)|0;var _d;if(isFinite(_c)){_d=this.seriesset.get_item(this.seriesset.get_id(_a));}else{_c=nexacro._indexOf(this.seriesset,_a);_d=this.seriesset.get_item(_a);}var _e=this.seriesset.length;if(_d){_d.destroy();this.seriesset.deleteItem(_c);if(this.enableredraw){this.on_updateChartAreaLayout();this._recalcLayout();}return _e-this.seriesset.length;}}else{var _c=parseInt(_a)|0;var _f=parseInt(_b)|0;if(!isFinite(_c)){_c=nexacro._indexOf(this.seriesset,_c);}if(_c>=0){var _e=this.seriesset.length;_f+=_c;for(var _g=_c;_g<_f;_g++ ){_d=this.seriesset.get_item(this.seriesset.get_id(_g));if(_d){_d.destroy();}}for(var _g=_c;_g<_f;_g++ ){this.seriesset.deleteItem(_c);}if(this.enableredraw){this.on_updateChartAreaLayout();this._recalcLayout();}return _e-this.seriesset.length;}}return 0;};_pChart.set_enableredraw=function(_a){this.enableredraw=(_a==true);if(this.enableredraw){this._recalcLayout();this.on_updateChartAreaLayout();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this.title.redraw();}}return _a;};_pChart._setContents=function(_a){this._clearAll();if(_a.length){var _b=nexacro._parseXMLDocument("<Chart>"+_a+"</Chart>");if(_b){var _c=_b.getElementsByTagName("ChartBoard");if(_c.length>0){this.set_board(new nexacro.ChartBoard("board","absolute",0,0,0,0,null,null,this));this.board._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartSeries");if(_c.length>0){var _d;_d=this.seriesset=new nexacro.Collection();var _e=_c.length;for(var _k=0;_k<_e;_k++ ){var _f=_c[_k];var _g=_f.getAttribute("id");var _h=new nexacro.ChartSeries(_g,"absolute",0,0,0,0,null,null,this);_d.add(_g,_h);_h._loadFromDOM(_f);}}_c=_b.getElementsByTagName("ChartTitle");if(_c.length>0){this.set_title(new nexacro.ChartTitle("title","absolute",0,0,0,0,null,null,this));this.title._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartLegend");if(_c.length>0){this.set_legend(new nexacro.ChartLegend("legend","absolute",0,0,0,0,null,null,this));this.legend._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartAxis");if(_c.length>0){var _e=_c.length;for(var _k=0;_k<_e;_k++ ){var _i=_c[_k];var _j=_i.getAttribute("id");if(_j=="xaxis"){this.set_xaxis(new nexacro.ChartAxis(_j,"absolute",0,0,0,0,null,null,this));this.xaxis._loadFromDOM(_i);}else if(_j=="yaxis"){this.set_yaxis(new nexacro.ChartAxis(_j,"absolute",0,0,0,0,null,null,this));this.yaxis._loadFromDOM(_i);}else if(_j=="y2axis"){this.set_y2axis(new nexacro.ChartAxis(_j,"absolute",0,0,0,0,null,null,this));this.y2axis._loadFromDOM(_i);}}}}}};_pChart._recalcXAxisItemInfos=function(_a){var _b=_a.clone();if(this.board){var _c=this.board.currentstyle.border;if(_c&&!_c._is_empty){_b.left+=_c._left_width;_b.top+=_c._top_width;_b.right-=_c._right_width;_b.bottom-=_c._bottom_width;}}this._data_area.copy(_b);var _d=this.xaxis;if(_d){var _e=this.xaxis._items;var _f=_b.right-_b.left;var _g=_b.bottom-_b.top;var _h=this.autofit;var _i=0,_j=0;if(_h){_i=_e.length;}else{_i=this.viewcount;_j=this.viewmin;}this._item_start=_j;this._item_cnt=_i;var _k=_d.currentstyle.rulermajorline;var _l=(_f-(_k?_k._width:0))/_i;this._item_div=_l;}};_pChart._recalcSeriesInfos=function(){var _a=this.seriesset;if(!_a){return;}var _b=_a.length;if(_b==0){return;}var _c=Math.floor(this._item_div);var _d=0,_e;for(var _p=0;_p<_b;_p++ ){_e=_a[_p];if(_e.type=="bar"){_d++ ;}}if(_d>0){var _f=this.currentstyle;var _g=nexacro.getStyleValueInt(_f.barspacing,2);var _h=nexacro.getStyleValueInt(_f.baritemspacing,1);var _i=nexacro.getStyleValueInt(_f.baritemminsize,6);var _j=0;var _k=(_d-1)*_h;var _l=Math.floor(_c*(_g/100));var _m=_c-_l-_k;_j=Math.floor(_m/_d);if(_j<_i){_j=_i;}var _n=_c-_d*_j;if(_n<0){_g=0;_h=0;}else if(_n<_k){_h-- ;_k=(_d-1)*_h;_g=_n-_k;}else{_g=_n-_k;}var _o=Math.floor(_g/2);for(var _p=0;_p<_b;_p++ ){_e=_a[_p];if(_e.type=="bar"){_e._bar_item_offset=_o;_e._bar_item_width=_j;_o+=_j+_h;}}}};_pChart._recalcDrawAreaLayout=function(_a){this._draw_area.copy(_a);if(this.xaxis){this.xaxis._recalcLayout(_a);}if(this.yaxis){this.yaxis._recalcLayout(_a);}if(this.y2axis){this.y2axis._recalcLayout(_a);}this._recalcXAxisItemInfos(_a);if(this.board){this.board._movePositionWithBound(_a);}if(this.xaxis){this.xaxis._movePositionWithBound(_a);}if(this.yaxis){this.yaxis._movePositionWithBound(_a);}if(this.y2axis){this.y2axis._movePositionWithBound(_a);}this._recalcSeriesInfos();var _b=this.seriesset;if(!_b){return;}var _c=_b.length;for(var _d=0;_d<_c;_d++ ){series=_b[_d];series._movePositionWithBound(this._data_area);}};_pChart._recalcLayout=function(){if(this.enableredraw==false){return;}var _a=0,_b=0;_a=this._client_width;_b=this._client_height;var _c=new nexacro.Rect(0,0,_a,_b);this._recalc_flag=true;if(this.title){this.title._recalcLayout();this.title._movePositionWithBound(_c);}if(this.legend){this.legend._recalcLayout();this.legend._movePositionWithBound(_c);}this._recalcDrawAreaLayout(_c);this._recalc_flag=false;};_pChart.on_updateLegendLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}var _a=new nexacro.Rect(0,0,this._client_width,this._client_height);this._recalc_flag=true;if(this.title){this.title._clipArea(_a);}if(this.legend){this.legend._movePositionWithBound(_a);}if(!this._draw_area.isSame(_a)){this._recalcDrawAreaLayout(_a);}this._recalc_flag=false;};_pChart.on_updateDrawAreaLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}this._recalc_flag=true;var _a=this._draw_area.clone();this._recalcDrawAreaLayout(_a);this._recalc_flag=false;};_pChart.on_updateDataAreaLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}this._recalc_flag=true;this._recalcSeriesInfos();var _a=this.seriesset;var _b=_a?_a.length:0;for(var _c=0;_c<_b;_c++ ){series=_a[_c];series.redraw();}this._recalc_flag=false;};_pChart.on_updateChartAreaLayout=function(){if(this.enableredraw==false){return;}this.on_updateDrawAreaLayout();this.on_updateDataAreaLayout();this.xaxis&&this.xaxis.ondraw(this.xaxis._canvas);if(nexacro.BrowserVersion<8){this.legend.redraw();}};_pChart.setBindDataset=function(_a){if(_a instanceof nexacro.Dataset){if(!_a){this._binddataset=null;this.binddataset="";}else{this._binddataset=_a;this.binddataset=_a.id;}this.on_apply_prop_binddataset();}};_pChart.getBindDataset=function(){return this._binddataset;};_pChart.set_binddataset=function(_a){if(typeof _a!="string"){this.setBindDataset(_a);return;}if(_a!=this.binddataset){if(!_a){this._binddataset=null;this.binddataset="";}else{_a=_a.replace("@","");this._binddataset=this._findDataset(_a);this.binddataset=_a;}this.on_apply_prop_binddataset();}else if(this.binddataset&&!this._binddataset){this._setBindDatasetStr(this.binddataset);this.on_apply_prop_binddataset();}return this.binddataset;};_pChart.on_apply_binddataset=function(){var _a=this._binddataset;var _b=this.getElement();if(_b&&_a){this.on_updateChartAreaLayout();var _c=this._callbackFromDataset;_a._addEventHandler(this,_c);_a._addEventHandler(this,_c);_a._addEventHandler(this,_c);}};_pChart._callbackFromDataset=function(_a,_b){if(_b.eventid=="oncolumnchanged"){this.on_updateChartAreaLayout();}};_pChart.set_scrollmax=function(_a){if(_a!=this.scrollmax){this.scrollmax=_a;}return _a;};_pChart.set_scrollvisible=function(_a){if(_a!=this.scrollvisible){this.scrollvisible=_a;}return _a;};_pChart.set_viewcount=function(_a){var _b=parseInt(_a)|0;var _c=this.getElement();if(_b!=this.viewcount){this.viewcount=_b;if(_c){this.viewmax=this.viewcount-this.viewmin-1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_viewmin=function(_a){var _b=parseInt(_a)|0;var _c=this.getElement();if(_b!=this.viewmin&&_b>=0){this.viewmin=_b;if(_c){this.viewmax=_b+this.viewcount-1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_viewmax=function(_a){var _b=parseInt(_a)|0;if(_b!=this.viewmax){this.viewmax=_b;if(this._control_element){this.viewcount=_b-this.viewmin+1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_board=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.board){this.board=_a;}return _a;};_pChart.set_legend=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.legend){this.legend=_a;}return _a;};_pChart.set_title=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.title){this.title=_a;}return _a;};_pChart.set_xaxis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.xaxis){this.xaxis=_a;}return _a;};_pChart.set_yaxis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.yaxis){this.yaxis=_a;}return _a;};_pChart.set_y2axis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.y2axis){this.y2axis=_a;}return _a;};_pChart._drawMark=function(_a,_b,_c,_d,_e,_f,_g){if(_f!=""||_g!=""){_a.save();switch(_d){case "rectangle":if(_f!=""){_a.setElementFillStyle(_f);_a.fillRect(_b,_c,_e,_e);}if(_g){_a._setPenStyle(_g);_a.drawStrokeInsetRect(_b,_c,_e,_e);}break;case "circle":gap=_e/2;if(_f!=""){_a.setElementFillStyle(_f);_a.drawFillCircle(_b+gap,_c+gap,gap);}if(_g){_a._setPenStyle(_g);_a.drawStrokeInsetCircle(_b+gap,_c+gap,gap);}break;case "horzline":if(_f!=""){_a.setElementFillStyle(_f);var _h=Math.floor(_e/3);var _i=Math.floor((_e-_h)/2);_a.fillRect(_b,_c+_i,_e,_h);}break;case "vertline":if(_f!=""){_a.setElementFillStyle(_f);var _h=_e/3;var _i=(_e-_h)/2;_a.fillRect(_b+_i,_c,_h,_e);}break;case "crossline":if(_f!=""){_a.setElementFillStyle(_f);var _h=_e/3;var _i=(_e-_h)/2;_a.fillRect(_b,_c+_i,_e,_h);_a.fillRect(_b+_i,_c,_h,_e);}break;case "rhombus":if(_f!=""){_a.setElementFillStyle(_f);var _j=_e/2;_a.moveTo(_b+_j,_c);_a.lineTo(_b+_e,_c+_j);_a.lineTo(_b+_j,_c+_e);_a.lineTo(_b,_c+_j);_a.closePath();_a.drawFill();}break;case "triangle":if(markfillcolor!=""){_a.setElementFillStyle(_f);var _j=_e/2;_a.moveTo(_b+_j,_c);_a.lineTo(_b+_e,_c+_e);_a.lineTo(_b,_c+_e);_a.closePath();_a.drawFill();}break;}_a.restore();}};_pChart=null;nexacro.ChartTitle=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pChartTitle=nexacro.ChartTitle.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartTitle);_pChartTitle._type_name="Chart>#title";_pChartTitle._total_width=0;_pChartTitle._total_height=0;_pChartTitle._text_width=0;_pChartTitle._text_height=0;_pChartTitle._text_pos_x=0;_pChartTitle._text_pos_y=0;_pChartTitle._subtext_width=0;_pChartTitle._subtext_height=0;_pChartTitle._subtext_pos_x=0;_pChartTitle._subtext_pos_y=0;_pChartTitle._size_factor=100;_pChartTitle._draw_type="horz";_pChartTitle.text="";_pChartTitle.subtext="";_pChartTitle._defaultLocation=nexacro._getCachedStyleObj("value","top");_pChartTitle._defaultRotate=nexacro._getCachedStyleObj("value",0);_pChartTitle.on_create_custom_style=function(){return new nexacro.ChartTitle_Style(this);};_pChartTitle.on_create_custom_currentStyle=function(){return new nexacro.ChartTitle_CurrentStyle();};_pChartTitle.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.location=this.on_find_CurrentStyle_location(_a);_b.size=this.on_find_CurrentStyle_size(_a);_b.subalign=this.on_find_CurrentStyle_subAlign(_a);_b.subcolor=this.on_find_CurrentStyle_subColor(_a);_b.subfont=this.on_find_CurrentStyle_subFont(_a);_b.subpadding=this.on_find_CurrentStyle_subPadding(_a);_b.titlerotate=this.on_find_CurrentStyle_titleRotate(_a);};_pChartTitle.on_update_style_location=function(){this.currentstyle.location=this.on_find_CurrentStyle_location(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_size=function(){this.currentstyle.size=this.on_find_CurrentStyle_size(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_subalign=function(){this.currentstyle.subalign=this.on_find_CurrentStyle_subAlign(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartTitle.on_update_style_subcolor=function(){this.currentstyle.subcolor=this.on_find_CurrentStyle_subColor(this._pseudo);this.ondraw(this._canvas);};_pChartTitle.on_update_style_subfont=function(){this.currentstyle.subfont=this.on_find_CurrentStyle_subFont(this._pseudo);this.ondraw(this._canvas);};_pChartTitle.on_update_style_subpadding=function(){this.currentstyle.subpadding=this.on_find_CurrentStyle_subPadding(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_titlerotate=function(){this.currentstyle.titlerotate=this.on_find_CurrentStyle_titleRotate(this._pseudo);};_pChartTitle.on_find_CurrentStyle_location=function(_a){var _b=this._find_pseudo_obj("location",_a);return (_b)?_b:this._defaultLocation;};_pChartTitle.on_find_CurrentStyle_size=function(_a){return this._find_pseudo_obj("size",_a);};_pChartTitle.on_find_CurrentStyle_subAlign=function(_a){var _b=this._find_pseudo_obj("subalign",_a);return (_b)?_b:this._default_align;};_pChartTitle.on_find_CurrentStyle_subColor=function(_a){var _b=this._find_pseudo_obj("subcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartTitle.on_find_CurrentStyle_subFont=function(_a){var _b=this._find_pseudo_obj("subfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartTitle.on_find_CurrentStyle_subPadding=function(_a){var _b=this._find_pseudo_obj("subpadding",_a);return (_b)?_b:this._default_padding;};_pChartTitle.on_find_CurrentStyle_titleRotate=function(_a){return this._find_pseudo_obj("titlerotate",_a);return (rotate)?rotete:this._defaultRotate;};_pChartTitle._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartTitle._recalcLayout=function(){if(!this.visible){return false;}var _a=this.currentstyle;var _b=_a.padding;var _c=0,_d=0,_e=0,_f=0,_g=0;if(_b){_c=_b.left+_b.right;_d=_b.top+_b.bottom;_g=_b.top;}var _h=_a.subpadding;if(_h){_e=_h.left+_h.right;_f=_h.top+_h.bottom;}var _i=nexacro.getStyleValueInt(_a.size,100);this._size_factor=_i;if(_i==0){this._total_width=this._total_height=0;return false;}if(this.text.length){var _j=_a.font;var _k=nexacro._getTextSize2(this.text,_j);this._text_width=_k[0];this._text_height=_k[1];}else{this._text_width=0;this._text_height=0;}if(this.subtext.length){var _l=_a.subfont;var _m=nexacro._getTextSize2(this.subtext,_l);this._subtext_width=_m[0];this._subtext_height=_m[1];}else{this._subtext_width=0;this._subtext_height=0;}_c+=this._text_width;_e+=this._subtext_width;var _n=(_c>_e)?_c:_e;var _o=_d+_f+this._text_height+this._subtext_height;var _p=_a.align;if(_p){this._text_pos_y=_g+this._text_height/2;switch(_p.halign){case "left":this._text_pos_x=0;break;case "right":this._text_pos_x=_n-this._text_width;break;default:this._text_pos_x=Math.round((_n-this._text_width)/2);break;}}var _q=_a.subalign;if(_q){this._subtext_pos_y=_d+this._text_height+this._subtext_height/2;if(_h){this._subtext_pos_y+=_h.top;}switch(_q.halign){case "left":this._subtext_pos_x=0;break;case "right":this._subtext_pos_x=_n-this._subtext_width;break;default:this._subtext_pos_x=Math.round((_n-this._subtext_width)/2);break;}}if(_n!=this._total_width||_o!=this._total_height){this._total_width=_n;this._total_height=_o;return true;}else{return false;}};_pChartTitle._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;var _d=Math.ceil(_b*this._size_factor/100);var _e=Math.ceil(_c*this._size_factor/100);var _f=this.currentstyle;var _g=nexacro.getStyleValueText(this.currentstyle.location,"top");var _h=_f.border;var _i=0,_j=0;if(!_h){_h=nexacro._getCachedStyleObj("border","0px none");}else{_i=_h._left_width+_h._right_width;_j=_h._top_width+_h._bottom_width;}var _k=0,_l=0,_m=0,_n=0,_o=0,_p=0;switch(_g){case "top":case "top,center":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;if(_p<_b){_k=_a.left+Math.ceil((_b-_p)/2);_m=_k+_p;}else{_k=_a.left;_m=_a.getWidth();}_a.top=_n;break;case "top,left":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;_k=_a.left;_m=_k+((_p<_b)?_p:_b);_a.top=_n;break;case "top,right":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;_m=_a.right;_k=_m-((_p<_b)?_p:_b);_a.top=_n;break;case "bottom":case "bottom,center":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;if(_p<_b){_k=_a.left+Math.ceil((_b-_p)/2);_m=_k+_p;}else{_k=_a.left;_m=_a.right;}_a.bottom=_l;break;case "bottom,left":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;_k=_a.left;_m=_k+((_p<_b)?_p:_b);_a.bottom=_l;break;case "bottom,right":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;_m=_a.right;_k=_m-((_p<_b)?_p:_b);_a.bottom=_l;break;case "left":case "left,center":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;if(_o<_c){_l=_a.top+Math.ceil((_c-_o)/2);_n=_l+_o;}else{_l=_a.top;_n=_a.bottom;}_a.left=_m;break;case "left,bottom":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;_n=_a.bottom;_l=_n-((_o<_c)?_o:_c);_a.left=_m;break;case "left,top":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;_l=_a.top;_n=_l+((_o<_c)?_o:_c);_a.left=_m;break;case "right":case "right,center":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;if(_o<_c){_l=_a.top+Math.ceil((_c-_o)/2);_n=_l+_o;}else{_l=_a.top;_n=_a.bottom;}_a.right=_k;break;case "right,bottom":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;_n=_a.bottom;_l=_n-((_o<_c)?_o:_c);break;case "right,top":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;_l=_a.top;_n=_l+((_o<_c)?_o:_c);_a.right=_k;break;default:this._draw_type="horz";_k=_m=_l=_n=0;break;}width=_m-_k;height=_n-_l;if(this._adjust_left!=_k||this._adjust_width!=width||this._adjust_top!=_l||this._adjust_height!=height){this._applysetPosition(_k,_l,width,height);return true;}return false;};_pChartTitle._clipArea=function(_a){var _b=nexacro.getStyleValueText(this.currentstyle.location,"top");switch(_b){case "top":case "top,center":case "top,left":case "top,right":_a.top+=this._adjust_height;break;case "bottom":case "bottom,center":case "bottom,left":case "bottom,right":case "bottom,right":_a.bottom-=this._adjust_height;break;case "left":case "left,center":case "left,bottom":case "left,top":_a.left+=this._adjust_width;break;case "right":case "right,center":case "right,bottom":case "right,top":_a.right-=this._adjust_width;break;}};_pChartTitle.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.currentstyle;var _c,_d;if(this._draw_type=="left"){var _e=this._client_width;if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,this._text_pos_y,_e-this._text_pos_x,270);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,this._subtext_pos_y,_e-this._subtext_pos_x,270);}}else if(this._draw_type=="right"){var _f=this._client_width;if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,_f-this._text_pos_y,this._text_pos_x,90);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,_f-this._subtext_pos_y,this._subtext_pos_x,90);}}else{if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,this._text_pos_x,this._text_pos_y,0);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,this._subtext_pos_x,this._subtext_pos_y,0);}}_a.endDraw();};_pChartTitle.set_text=function(_a){if(_a!=this.text){this.text=_a;}return _a;};_pChartTitle.set_subtext=function(_a){if(_a!=this.subtext){this.subtext=_a;}return _a;};_pChartTitle=null;nexacro.ChartLegendItem=function(_a,_b){this.id=_a;this.text=_b;this.text_width=0;this.text_height=0;this.item_width=0;this.item_height=0;this.mark_pos_x=0;this.mark_pos_y=0;this.text_pos_x=0;this.text_pos_y=0;this.padding=null;this.markpadding=null;this.font=null;this.color=null;this.border=null;this.markshape="rectangle";this.markfillcolor="";this.markborderpen=null;};nexacro.ChartLegend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._titleitem=null;this._items=[];};var _pChartLegend=nexacro.ChartLegend.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartLegend);_pChartLegend._type_name="Chart>#legend";_pChartLegend._items=null;_pChartLegend._titleitem=null;_pChartLegend._width_sum=0;_pChartLegend._height_sum=0;_pChartLegend._width_max=0;_pChartLegend._height_max=0;_pChartLegend._item_max=0;_pChartLegend._total_width=0;_pChartLegend._total_height=0;_pChartLegend._draw_type="horz";_pChartLegend._defaultLocation=nexacro._getCachedStyleObj("value","top");_pChartLegend._defaultType=nexacro._getCachedStyleObj("value","multi");_pChartLegend.on_create_custom_style=function(){return new nexacro.ChartLegend_Style(this);};_pChartLegend.on_create_custom_currentStyle=function(){return new nexacro.ChartLegend_CurrentStyle();};_pChartLegend.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.location=this.on_find_CurrentStyle_location(_a);_b.arrange=this.on_find_CurrentStyle_arrange(_a);_b.imagepadding=this.on_find_CurrentStyle_imagePadding(_a);_b.itemalign=this.on_find_CurrentStyle_itemAlign(_a);_b.itemborder=this.on_find_CurrentStyle_itemBorder(_a);_b.itembordertype=this.on_find_CurrentStyle_itemBorderType(_a);_b.itembackground=this.on_find_CurrentStyle_itemBackground(_a);_b.itemgradation=this.on_find_CurrentStyle_itemGradation(_a);_b.itempadding=this.on_find_CurrentStyle_itemPadding(_a);_b.itemfont=this.on_find_CurrentStyle_itemFont(_a);_b.itemcolor=this.on_find_CurrentStyle_itemColor(_a);_b.titlealign=this.on_find_CurrentStyle_titleAlign(_a);_b.titlecolor=this.on_find_CurrentStyle_titleColor(_a);_b.titlefont=this.on_find_CurrentStyle_titleFont(_a);_b.titlepadding=this.on_find_CurrentStyle_titlePadding(_a);_b.titletext=this.on_find_CurrentStyle_titleText(_a);_b.type=this.on_find_CurrentStyle_type(_a);};_pChartLegend.on_update_style_location=function(){this.currentstyle.location=this.on_find_CurrentStyle_location(this._pseudo);this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_arrange=function(){this.currentstyle.arrange=this.on_find_CurrentStyle_arrange(this._pseudo);};_pChartLegend.on_update_style_imagepadding=function(){this.currentstyle.imagepadding=this.on_find_CurrentStyle_imagePadding(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_itemalign=function(){this.currentstyle.itemalign=this.on_find_CurrentStyle_itemAlign(this._pseudo);};_pChartLegend.on_update_style_itemborder=function(){this.currentstyle.itemborder=this.on_find_CurrentStyle_itemBorder(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_itembordertype=function(){this.currentstyle.itembordertype=this.on_find_CurrentStyle_itemBorderType(this._pseudo);};_pChartLegend.on_update_style_itembackground=function(){this.currentstyle.itembackground=this.on_find_CurrentStyle_itemBackground(this._pseudo);};_pChartLegend.on_update_style_itemgradation=function(){this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemGradation(this._pseudo);};_pChartLegend.on_update_style_itempadding=function(){this.currentstyle.itempadding=this.on_find_CurrentStyle_itemPadding(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_itemfont=function(){this.currentstyle.itemfont=this.on_find_CurrentStyle_itemFont(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_itemcolor=function(){this.currentstyle.itemcolor=this.on_find_CurrentStyle_itemColor(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_titlealign=function(){this.currentstyle.titlealign=this.on_find_CurrentStyle_titleAlign(this._pseudo);};_pChartLegend.on_update_style_titlecolor=function(){this.currentstyle.titlecolor=this.on_find_CurrentStyle_titleColor(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_titlefont=function(){this.currentstyle.titlefont=this.on_find_CurrentStyle_titleFont(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_titlepadding=function(){this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_titletext=function(){this.currentstyle.titletext=this.on_find_CurrentStyle_titleText(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_type=function(){this.currentstyle.type=this.on_find_CurrentStyle_type(this._pseudo);};_pChartLegend.on_find_CurrentStyle_location=function(_a){var _b=this._find_pseudo_obj("location",_a);return (_b)?_b:this._defaultLocation;};_pChartLegend.on_find_CurrentStyle_arrange=function(_a){return this._find_pseudo_obj("arrange",_a);};_pChartLegend.on_find_CurrentStyle_imagePadding=function(_a){var _b=this._find_pseudo_obj("imagepadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_itemAlign=function(_a){var _b=this._find_pseudo_obj("itemalign",_a);return (_b)?_b:this.on_find_CurrentStyle_align(_a);};_pChartLegend.on_find_CurrentStyle_itemBorder=function(_a){return this._find_pseudo_obj("itemborder",_a);};_pChartLegend.on_find_CurrentStyle_itemBorderType=function(_a){return this._find_pseudo_obj("itembordertype",_a);};_pChartLegend.on_find_CurrentStyle_itemBackground=function(_a){return this._find_pseudo_obj("itembackground",_a);};_pChartLegend.on_find_CurrentStyle_itemGradation=function(_a){return this._find_pseudo_obj("itemgradation",_a);};_pChartLegend.on_find_CurrentStyle_itemPadding=function(_a){var _b=this._find_pseudo_obj("itempadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_itemFont=function(_a){var _b=this._find_pseudo_obj("itemfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartLegend.on_find_CurrentStyle_itemColor=function(_a){var _b=this._find_pseudo_obj("itemcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartLegend.on_find_CurrentStyle_titleAlign=function(_a){var _b=this._find_pseudo_obj("titlealign",_a);return (_b)?_b:this._default_align;};_pChartLegend.on_find_CurrentStyle_titleColor=function(_a){var _b=this._find_pseudo_obj("titlecolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartLegend.on_find_CurrentStyle_titleFont=function(_a){var _b=this._find_pseudo_obj("titlefont",_a);return (_b)?_b:this.currentstyle.font;};_pChartLegend.on_find_CurrentStyle_titlePadding=function(_a){var _b=this._find_pseudo_obj("titlepadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_titleText=function(_a){return this._find_pseudo_obj("titletext",_a);};_pChartLegend.on_find_CurrentStyle_type=function(_a){var _b=this._find_pseudo_obj("type",_a);return (_b)?_b:this._defaultType;};_pChartLegend._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartLegend._recalcLayout=function(){if(!this.visible){return false;}this._titleitem=null;this._items.splice(0,this._items.length);var _a=this.currentstyle;var _b=0,_c=0,_d=0,_e=0,_f=0,_g,_h;var _i=_a.padding;var _j=0,_k=0,_l=0,_m=0;if(_i){_b=_i.left+_i.right;_c=_i.top+_i.bottom;}var _n=0,_o=0,_p=0,_q=0;var _r;var _s,_t,_u,_v,_w;var _x=_a.titletext;if(_x&&_x._value.length>0){_x=_x._value;_i=_a.titlepadding;if(_i){_d=_i.left+_i.right;_e=_i.top+_i.bottom;}_s=_a.titlecolor?_a.titlecolor._value:null;_t=_a.titlefont?_a.titlefont:null;_r=new nexacro.ChartLegendItem("title",_x);_r.padding=_i;_r.font=_t;_r.color=_s;var _y=nexacro._getTextSize2(_x,_t);_g=_r.text_width=_y[0];_h=_r.text_height=_y[1];_n=_p=_r.item_width=_g+_d;_o=_q=_r.item_height=_h+_e;this._titleitem=_r;}var _z=this.parent.seriesset;if(_z&&_z.length>0){_i=_a.itempadding;if(_i){_d=_i.left+_i.right;_e=_i.top+_i.bottom;}var _aa=_a.imagepadding;if(_aa){_f=_aa.left+_aa.right;}_s=_a.itemcolor?_a.itemcolor._value:null;_t=_a.itemfont;border=_a.itemborder;if(border){_d+=border._left_width+border._right_width;_e+=border._top_width+border._bottom_width;}var _ab=_z.length;for(var _ag=0;_ag<_ab;_ag++ ){var _ac=_z[_ag];var _ad=_ac.currentstyle;_x=_ac.label||_ac.text||_ac.id;var _u=nexacro.getStyleValueText2(_ad.pointshape,"none","");if(_u!=""){var _ae=_ad.pointfillbrush;if(_ae&&_ae._isValid()){_v=_ae.color;}else{_v="";}var _af=_ad.pointstrokepen;if(_af&&_af._isValid()){_w=_af;}else{_w=null;}}else if(_ac.type=="line"){_u="horzline";var _af=_ad.strokepen;if(_af&&_af._isValid()){_v=_af.color;}else{_v="";}_w=null;}else{_u="rectangle";var _ae=_ad.fillbrush;if(_ae&&_ae._isValid()){_v=_ae.color;}else{_v="";}var _af=_ad.strokepen;if(_af&&_af._isValid()){_w=_af;}}_r=new nexacro.ChartLegendItem("series"+_ag,_x);_r.padding=_i;_r.markpadding=_aa;_r.font=_t;_r.color=_s;_r.border=border;_r.markshape=_u;_r.markfillcolor=_v;_r.markborderpen=_w;var _y=nexacro._getTextSize2(_x,_t);_g=_r.text_width=_y[0];_h=_r.text_height=_y[1];_r.marksize=_h;_r.item_width=_g+_d+_h+_f;_r.item_height=_h+_e;if(_r.item_width>_n){_n=_r.item_width;}_p+=_r.item_width;if(_r.item_height>_o){_o=_r.item_height;}_q+=_r.item_height;this._items.push(_r);}}_n+=_b;_o+=_c;_p+=_b;_q+=_c;if(_n!=this._width_max||_o!=this._height_sum||_p!=this._width_sum||_q!=this._height_sum){this._width_max=_n;this._height_max=_o;this._width_sum=_p;this._height_sum=_q;this._item_max=_n-_b;return true;}else{return false;}};_pChartLegend._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;var _d=this.currentstyle;var _e=_d.location;var _f=_d.border;var _g=0,_h=0;if(_f){_g=_f._left_width+_f._right_width;_h=_f._top_width+_f._bottom_width;}var _i=0,_j=0,_k=0,_l=0,_m=0,_n=0;if(_e){switch(_e._value){case "top,center":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<maxheight)?_m:maxheight);_n=this._total_width+_g;if(_n<_b){_i=_a.left+Math.ceil((_b-_n)/2);_k=_i+_n;}else{_i=_a.left;_k=_a.getWidth();}_a.top=_l;break;case "top,left":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_a.top=_l;break;case "top":case "top,right":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_a.top=_l;break;case "bottom,center":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;if(_n<_b){_i=_a.left+Math.ceil((_b-_n)/2);_k=_i+_n;}else{_i=_a.left;_k=_a.right;}_a.bottom=_j;break;case "bottom,left":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_a.bottom=_j;break;case "bottom":case "bottom,right":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_a.bottom=_j;break;case "left,center":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;if(_m<_c){_j=_a.top+Math.ceil((_c-_m)/2);_l=_j+_m;}else{_j=_a.top;_l=_a.bottom;}_a.left=_k;break;case "left,bottom":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_a.left=_k;break;case "left":case "left,top":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_a.left=_k;break;case "right,center":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;if(_m<_c){_j=_a.top+Math.ceil((_c-_m)/2);_l=_j+_m;}else{_j=_a.top;_l=_a.bottom;}_a.right=_i;break;case "right,bottom":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);break;case "right":case "right,top":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_a.right=_i;break;default:this._total_width=0;this._total_height=0;this._draw_type="horz";_i=_k=_j=_l=0;break;}}width=_k-_i;height=_l-_j;if(this._adjust_left!=_i||this._adjust_width!=width||this._adjust_top!=_j||this._adjust_height!=height){this._applysetPosition(_i,_j,width,height);return true;}return false;};_pChartLegend._clipArea=function(_a){var _b=nexacro.getStyleValueText(this.currentstyle.location,"top");switch(_b){case "top":case "top,center":case "top,left":case "top,right":tc.top+=this._adjust_height;break;case "bottom":case "bottom,center":case "bottom,left":case "bottom,right":case "bottom,right":tc.bottom-=this._adjust_height;break;case "left":case "left,center":case "left,bottom":case "left,top":_a.left+=this._adjust_width;break;case "right":case "right,center":case "right,bottom":case "right,top":_a.right-=this._adjust_width;break;}};_pChartLegend.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this._items.length;if(!_b){return;}var _c=this.parent;var _d=this.currentstyle;var _e=_d.padding;var _f=this._total_width;var _g=this._total_height;var _h=0,_i=0;if(_e){_f=_f-_e.left-_e.right;_g=_g-_e.top-_e.bottom;_h=_e.left;_i=_e.top;}var _j;if(this._draw_type=="horz"){var _k=this._titleitem;if(_k){var _l=_h;var _m=_i;_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}_h+=_k.item_width;}var _b=this._items.length;for(var _q=0;_q<_b;_q++ ){var _l=_h;var _m=_i;_k=this._items[_q];_j=_k.border;if(_j){_l+=_j._left_width;_m+=_j._top_width;}_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.marksize>0){_e=_k.markpadding;if(_e){_l+=_e.left;}var _o=_k.marksize;_c._drawMark(_a,_l,_m,_k.markshape,_k.marksize,_k.markfillcolor,_k.markborderpen);_l+=_o;if(_e){_l+=_e.right;}}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}if(_j){_a.drawBorder(_h,_i,_k.item_width,_k.item_height,_j);}_h+=_k.item_width;}}else{var _k=this._titleitem;if(_k){var _l=_h;var _m=_i;_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.text_width){var _p=Math.round((this._item_max-_k.text_width)/2);var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l+_p,_m+_n,0);}_i+=_k.item_height;}for(var _q=0;_q<_b;_q++ ){var _l=_h;var _m=_i;_k=this._items[_q];_j=_k.border;if(_j){_l+=_j._left_width;_m+=_j._top_width;}_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.marksize>0){_e=_k.markpadding;if(_e){_l+=_e.left;}var _o=_k.marksize;_c._drawMark(_a,_l,_m,_k.markshape,_k.marksize,_k.markfillcolor,_k.markborderpen);_l+=_o+(_e?_e.right:0);}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}if(_j){_a.drawBorder(_h,_i,_k.item_width,_k.item_height,_j);}_i+=_k.item_height;}}_a.endDraw();};_pChartLegend=null;nexacro.ChartAxisItem=function(_a,_b){this.idx=_a;this.text=_b;this.item_val=0;this.text_width=0;this.text_height=0;};nexacro.ChartAxis=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.label=new nexacro.BindableValue("");this._items=[];this.idx="";this.item_val=0;this.text_width=0;this.text_height=0;this._unit_val=0;this._min_val=0;this._max_val=0;this._unit_min_val=0;this._unit_max_val=0;this._org_val=0;this._title_width=0;this._title_height=0;this._mark_size=0;this._mark_text="";this._mark_width=0;this._mark_height=0;this._org_size=0;this._org_text="";this._org_width=0;this._org_height=0;this._miner_size=0;this._major_size=0;this._text_maxwidth=0;this._text_maxheight=0;this._item_maxsize=0;this._total_height=0;this._exprfn=null;this._apply_client_padding=false;};var _pChartAxis=nexacro.ChartAxis.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartAxis);_pChartAxis._type_name="Chart>#";_pChartAxis.label="";_pChartAxis.markdata=undefined;_pChartAxis.marklabel="";_pChartAxis.origindata=0;_pChartAxis.originlabel="";_pChartAxis.rulerbasetype="point";_pChartAxis.rulermajorunit= -1;_pChartAxis.rulermax=undefined;_pChartAxis.rulermin=undefined;_pChartAxis.rulerminorunit= -1;_pChartAxis.rulersort="none";_pChartAxis.titletext="";_pChartAxis.viewcount=5;_pChartAxis.viewmax=4;_pChartAxis.viewmin=0;_pChartAxis.on_create_custom_style=function(){return new nexacro.ChartAxis_Style(this);};_pChartAxis.on_create_custom_currentStyle=function(){return new nexacro.ChartAxis_CurrentStyle();};_pChartAxis.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.margin=this.on_find_CurrentStyle_margin(_a);_b.axissize=this.on_find_CurrentStyle_axisSize(_a);_b.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(_a);_b.labelalign=this.on_find_CurrentStyle_labelAlign(_a);_b.labelcolor=this.on_find_CurrentStyle_labelColor(_a);_b.labelfont=this.on_find_CurrentStyle_labelFont(_a);_b.labelpadding=this.on_find_CurrentStyle_labelPadding(_a);_b.labelrotate=this.on_find_CurrentStyle_labelRotate(_a);_b.ruleralign=this.on_find_CurrentStyle_rulerAlign(_a);_b.rulermajorline=this.on_find_CurrentStyle_rulerMajorLine(_a);_b.rulermajorsize=this.on_find_CurrentStyle_rulerMajorSize(_a);_b.rulerminorline=this.on_find_CurrentStyle_rulerMinerLine(_a);_b.rulerminorsize=this.on_find_CurrentStyle_rulerMinerSize(_a);_b.markcolor=this.on_find_CurrentStyle_markColor(_a);_b.markfont=this.on_find_CurrentStyle_markFont(_a);_b.markline=this.on_find_CurrentStyle_markLine(_a);_b.markpadding=this.on_find_CurrentStyle_markPadding(_a);_b.marksize=this.on_find_CurrentStyle_markSize(_a);_b.origincolor=this.on_find_CurrentStyle_originColor(_a);_b.originfont=this.on_find_CurrentStyle_originFont(_a);_b.originline=this.on_find_CurrentStyle_originLine(_a);_b.originpadding=this.on_find_CurrentStyle_originPadding(_a);_b.originsize=this.on_find_CurrentStyle_originSize(_a);_b.titlealign=this.on_find_CurrentStyle_titleAlign(_a);_b.titlecolor=this.on_find_CurrentStyle_titleColor(_a);_b.titlefont=this.on_find_CurrentStyle_titleFont(_a);_b.titlepadding=this.on_find_CurrentStyle_titlePadding(_a);_b.titlerotate=this.on_find_CurrentStyle_titleRotate(_a);};_pChartAxis.on_update_style_axissize=function(){this.currentstyle.axissize=this.on_find_CurrentStyle_axisSize(this._pseudo);this.redraw();this.parent.on_updateDataAreaLayout();this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelalign=function(){this.currentstyle.labelalign=this.on_find_CurrentStyle_labelAlign(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_labelcolor=function(){this.currentstyle.labelcolor=this.on_find_CurrentStyle_labelColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_labelfont=function(){this.currentstyle.labelfont=this.on_find_CurrentStyle_labelFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelpadding=function(){this.currentstyle.labelpadding=this.on_find_CurrentStyle_labelPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelrotate=function(){this.currentstyle.labelrotate=this.on_find_CurrentStyle_labelRotate(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_markcolor=function(){this.currentstyle.markcolor=this.on_find_CurrentStyle_markColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_markfont=function(){this.currentstyle.markfont=this.on_find_CurrentStyle_markFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_markline=function(){this.currentstyle.markline=this.on_find_CurrentStyle_markLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_markpadding=function(){this.currentstyle.markpadding=this.on_find_CurrentStyle_markPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_marksize=function(){this.currentstyle.marksize=this.on_find_CurrentStyle_markSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_origincolor=function(){this.currentstyle.origincolor=this.on_find_CurrentStyle_originColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_originfont=function(){this.currentstyle.originfont=this.on_find_CurrentStyle_originFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_originline=function(){this.currentstyle.originline=this.on_find_CurrentStyle_originLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_originpadding=function(){this.currentstyle.originpadding=this.on_find_CurrentStyle_originPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_originsize=function(){this.currentstyle.originsize=this.on_find_CurrentStyle_originSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_ruleralign=function(){this.currentstyle.ruleralign=this.on_find_CurrentStyle_rulerAlign(this._pseudo);};_pChartAxis.on_update_style_rulermajorline=function(){this.currentstyle.rulermajorline=this.on_find_CurrentStyle_rulerMajorLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_rulermajorsize=function(){this.currentstyle.rulermajorsize=this.on_find_CurrentStyle_rulerMajorSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_rulerminorline=function(){this.currentstyle.rulerminorline=this.on_find_CurrentStyle_rulerMinerLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_rulerminorsize=function(){this.currentstyle.rulerminorsize=this.on_find_CurrentStyle_rulerMinerSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlealign=function(){this.currentstyle.titlealign=this.on_find_CurrentStyle_titleAlign(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_titlecolor=function(){this.currentstyle.titlecolor=this.on_find_CurrentStyle_titleColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_titlefont=function(){this.currentstyle.titlefont=this.on_find_CurrentStyle_titleFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlepadding=function(){this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlerotate=function(){this.currentstyle.titlerotate=this.on_find_CurrentStyle_titleRotate(this._pseudo);};_pChartAxis.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(this._pseudo);};_pChartAxis.on_find_CurrentStyle_background=function(_a){return null;};_pChartAxis.on_find_CurrentStyle_border=function(_a){return null;};_pChartAxis.on_find_CurrentStyle_axisSize=function(_a){return this._find_pseudo_obj("axissize",_a);};_pChartAxis.on_find_CurrentStyle_scrollbarSize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pChartAxis.on_find_CurrentStyle_labelAlign=function(_a){var _b=this._find_pseudo_obj("labelalign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_labelColor=function(_a){var _b=this._find_pseudo_obj("labelcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_labelFont=function(_a){var _b=this._find_pseudo_obj("labelfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_labelPadding=function(_a){var _b=this._find_pseudo_obj("labelpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_labelRotate=function(_a){return this._find_pseudo_obj("labelrotate",_a);};_pChartAxis.on_find_CurrentStyle_markColor=function(_a){var _b=this._find_pseudo_obj("markcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_markFont=function(_a){var _b=this._find_pseudo_obj("markfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_markLine=function(_a){return this._find_pseudo_obj("markline",_a);};_pChartAxis.on_find_CurrentStyle_markPadding=function(_a){var _b=this._find_pseudo_obj("markpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_markSize=function(_a){var _b=this._find_pseudo_obj("marksize",_a);return (_b)?_b:this.currentstyle.size;};_pChartAxis.on_find_CurrentStyle_originColor=function(_a){var _b=this._find_pseudo_obj("origincolor",_a);return (_b)?_b:this.currentstyle.labelcolor;};_pChartAxis.on_find_CurrentStyle_originFont=function(_a){var _b=this._find_pseudo_obj("originfont",_a);return (_b)?_b:this.currentstyle.labelfont;};_pChartAxis.on_find_CurrentStyle_originLine=function(_a){var _b=this._find_pseudo_obj("originline",_a);return (_b)?_b:this.currentstyle.rulermajorline;};_pChartAxis.on_find_CurrentStyle_originPadding=function(_a){var _b=this._find_pseudo_obj("originpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_originSize=function(_a){var _b=this._find_pseudo_obj("originsize",_a);return (_b)?_b:this.currentstyle.size;};_pChartAxis.on_find_CurrentStyle_rulerAlign=function(_a){var _b=this._find_pseudo_obj("ruleralign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_rulerMajorLine=function(_a){return this._find_pseudo_obj("rulermajorline",_a);};_pChartAxis.on_find_CurrentStyle_rulerMajorSize=function(_a){return this._find_pseudo_obj("rulermajorsize",_a);};_pChartAxis.on_find_CurrentStyle_rulerMinerLine=function(_a){return this._find_pseudo_obj("rulerminorline",_a);};_pChartAxis.on_find_CurrentStyle_rulerMinerSize=function(_a){return this._find_pseudo_obj("rulerminersize",_a);};_pChartAxis.on_find_CurrentStyle_titleAlign=function(_a){var _b=this._find_pseudo_obj("titlealign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_titleColor=function(_a){var _b=this._find_pseudo_obj("titlecolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_titleFont=function(_a){var _b=this._find_pseudo_obj("titlefont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_titlePadding=function(_a){var _b=this._find_pseudo_obj("titlepadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_titleRotate=function(_a){return this._find_pseudo_obj("titlerotate",_a);};_pChartAxis._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;this._type_name+=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartAxis._getBindText=function(_a,_b,_c){if(_b._bindtype==0){return _b._value;}else{if(_a==null){return undefined;}if(_b._bindtype==1){return _a.getColumn(_c,_b._bindexpr);}else{var _d=this._exprfn;if(!_d){_d=this._exprfn=_a._createExprFunc(_b._bindexpr);}if((typeof _d)=="function"){return _d.call(this,_c,_c,this.parent,_a);}}}return "";};_pChartAxis._appendZeroByidx=function(_a,_b){var _c=_a.toString().split(".");var _d=_c[0];var _e=_c[1]?_c[1].substr(0,_b):"";var _f=_e.length;for(var _g=_f;_g<_b;_g++ ){_e+="0";}return _d+"."+_e;};_pChartAxis._decimalless=0;_pChartAxis.on_updateDecimalless=function(){var _a=[this.rulermin,this.rulermax,this.origindata,this.markdata,this.rulermajorunit,this.rulerminorunit];var _b=[];var _c=_a.length;for(var _d=0;_d<_c;_d++ ){if(_a[_d]){_a[_d]=_a[_d].toString().replace(/(0*$)/g,"");_a[_d]=_a[_d].split(".")[1];_a[_d]&&_b.push(_a[_d].length);}}_b=_b.sort(function(_e,_f){return _f-_e;})[0];this._decimalless=_b||0;};_pChartAxis._recalcLayout=function(_a){if(!this.visible){return false;}this._items.splice(0,this._items.length);this._exprfn=null;var _b=this.parent;var _c=this.currentstyle;var _d;var _e=this.titletext;var _f=_c.titlefont;var _g=nexacro._getTextSize2(_e,_f);this._title_width=_g[0];this._title_height=_g[1];var _h=0;var _i=nexacro.getStyleValueInt(_c.rulermajorsize,0);this._major_size=_i;var _j=nexacro.getStyleValueInt(_c.rulerminersize,0);this._miner_size=_j;if(_j>_h){_h=_j;}var _k=0,_l=0;if(this.id=="xaxis"){var _m=_b._binddataset;if(_m){var _n=_m.rowcount;var _o=this.label;_f=_c.labelfont;for(var _bb=0;_bb<_n;_bb++ ){var _e=this._getBindText(_m,_o,_bb);var _p=new nexacro.ChartAxisItem(_bb,_e);_g=nexacro._getTextSize2(_e,_f);_p.text_width=_g[0];_p.text_height=_g[1];if(_p.text_width>_l){_l=_p.text_width;}if(_p.text_height>_k){_k=_p.text_height;}this._items.push(_p);}}this._text_maxwidth=_l;this._text_maxheight=_k;var _q=nexacro.getStyleValueFloat(_c.labelrotate,0);if(_q!=0){var _r=_q*Math.PI/180;var _s=_l*Math.sin(_r);if(_s<0){_s= -_s;}_i+=_s;_s=_k*Math.cos(_r)/2;if(_s<0){_s= -_s;}_i+=_s;_i=Math.ceil(_i);if(_i>_h){_h=_i;}}else{_i+=_k;if(_i>_h){_h=_i;}}var _t=_c.labelpadding;if(_t){_h+=_t.top+_t.bottom;}}else{var _u=this.rulermajorunit;var _v=this.markdata;var _w=this.origindata;var _x=this.rulermin;var _y=this.rulermax;if(_u==undefined){_u=100;}var _t;if(_w!=undefined){_e=this.originlabel;if(_e==""){_e=_w+"";}var _z=nexacro.getStyleValueInt(_c.originsize,0);if(_z<_i){_z=_i;}if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}_f=_c.originfont;_g=nexacro._getTextSize2(_e,_f);this._org_size=_z;this._org_text=_e;this._org_width=_g[0];this._org_height=_g[1];_z+=this._org_width;_t=_c.originpadding;if(_t){_z+=_t.left+_t.right;}if(_z>_h){_h=_z;}}if(_v!=undefined){_e=this.marklabel;if(_e==""){_e=_v+"";}var _aa=nexacro.getStyleValueInt(_c.marksize,0);if(_aa<_i){_aa=_i;}if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}_f=_c.markfont;_g=nexacro._getTextSize2(_e,_f);this._mark_size=_aa;this._mark_text=_e;this._mark_width=_g[0];this._mark_height=_g[1];_aa+=this._mark_width;_t=_c.markpadding;var _ab=0,_ac=0,_ad=0,_ae=0;if(_t){_aa+=_t.left+_t.right;}if(_aa>_h){_h=_aa;}}if(_x==undefined||_y==undefined){var _af=(_x==undefined);var _ag=(_y==undefined);var _m=_b._binddataset;if(_m){var _n=_m.rowcount;var _ah=false;var _ai=_b.seriesset;var _aj=_ai.length;var _ak,_al;for(var _bc=0;_bc<_aj;_bc++ ){var _am=_ai[_bc];var _an=(this.id=="y2axis")?(_am.yaxis=="y2axis"):(_am.yaxis!="y2axis");if(_an){var _ao=_am.data;var _ap=_am.datatext;for(var _bb=0;_bb<_n;_bb++ ){var _s=_am._getBindNumber(_m,_ao,_bb);_ak=_am._getBindNumber(_m,_ap,_bb);_al=nexacro._getTextSize2(""+_ak,_am.currentstyle.datatextfont)[1];_al+=_am.currentstyle.datatextpadding._getPaddingHeight();_al+=_am.currentstyle.datatextmargin._getMarginHeight();if(_s){if(_af&&(_x==undefined||_s<_x)){_x=_s+_al;}if(_ag&&(_y==undefined||_s>_y)){_y=_s+_al;}}}_ah=true;}}if(!_ah&&this.id=="y2axis"){if(_af){_x=_b.yaxis._min_val;}if(_ag){_y=_b.yaxis._max_val;}}}if(_af&&_x==undefined){_x=0;}if(_ag&&_y==undefined){if(_x<0){_y=0;}else{_y=_x+_u;}}}else if(_y<_x){var _ad=_y;_y=_x;_x=_ad;}if(_w<_x&&_w<_y){}else if(_w>_x&&_w>_y){_y=_w;}_aq=Math.floor(_x/_u);_ar=Math.ceil(_y/_u);var _aq=0;var _ar=0;if(_w){_aq=Math.floor((_x-_w)/_u);_ar=Math.ceil((_y-_w)/_u);}else{_aq=Math.floor(_x/_u);_ar=Math.ceil(_y/_u);}var _n=_ar-_aq;if(_n==0){_ar++ ;_n++ ;}this._unit_val=_u;this._min_val=_x;this._max_val=_y;this._unit_min_val=_w+_aq*_u;this._unit_max_val=_w+_ar*_u;this._org_val=_w;_f=_c.labelfont;for(var _bd=0;_bd<=_n;_bd++ ){var _s=(_w+(_bd+_aq)*_u);var _e=_s+"";if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}var _p=new nexacro.ChartAxisItem(_bd,_e);_g=nexacro._getTextSize2(_e,_f);_p.item_type="label";_p.item_val=_s;_p.text_width=_g[0];_p.text_height=_g[1];if(_p.text_width>_l){_l=_p.text_width;}if(_p.text_height>_k){_k=_p.text_height;}this._items.push(_p);}this._text_maxwidth=_l;this._text_maxheight=_k;var _as=_i+_l;_t=_c.labelpadding;if(_t){_as+=_t.left+_t.right;}if(_as>_h){_h=_as;}}this._item_maxsize=_h;if(this.id=="xaxis"){var _at=0;if(_c.margin){_at=_c.margin.bottom;}var _au=this._item_maxsize+this._title_height;_t=_c.titlepadding;if(_t){_au+=_t.top+_t.bottom;}var _av=_a.bottom-_at;var _aw=_av-_au;if(_aw<_a.top){_aw=_a.top;}this._total_width=0;this._total_height=(_av-_aw);_a.bottom=_aw;return true;}else if(this.id=="yaxis"){var _ax=_c.margin;var _ab=0,_ac=0,_ad=0,_ae=0;if(_ax){_ab=_ax.left;_ac=_ax.right;_ad=_ax.top;_ae=_ax.bottom;}var _at=_ab;var _ay=this._item_maxsize+this._title_height;_t=_c.titlepadding;_ab=0;_ac=0;if(_t){_ay+=_t.left+_t.right;}var _az=_a.left+_at;var _ba=_az+_ay;if(_ba>_a.right){_ba=_a.right;}this._total_width=(_ba-_az);this._total_height=0;_a.left=_ba;return true;}else if(this.id=="y2axis"){var _at=0;if(_c.margin){_at=_c.margin.right;}var _ay=this._item_maxsize+this._title_height;_t=_c.titlepadding;if(_t){_ay+=_t.left+_t.right;}var _ba=_a.right-_at;var _az=_ba-_ay;if(_az<_a.left){_az=_a.left;}this._total_width=(_ba-_az);this._total_height=0;_a.right=_az;return true;}return true;};_pChartAxis._movePositionWithBound=function(_a){var _b=0,_c=0,_d=0,_e=0,_f=0,_g=0;if(this.id=="xaxis"){_c=_a.left-this._text_maxwidth;if(_c<0){_c=0;}_b=_a.bottom;_f=_a.right+this._text_maxwidth-_c;_g=this._total_height;}else if(this.id=="yaxis"){_c=_a.left-this._total_width;_b=_a.top-this._text_maxwidth;if(_b<0){_b=0;}_f=this._total_width;_g=_a.bottom+this._text_maxwidth-_b;}else if(this.id=="y2axis"){_c=_a.right;_b=_a.top-this._text_maxwidth;if(_b<0){_b=0;}_f=this._total_width;_g=_a.bottom+this._text_maxwidth-_b;}if(this._adjust_left!=_c||this._adjust_width!=_f||this._adjust_top!=_b||this._adjust_height!=_g){this._applysetPosition(_c,_b,_f,_g);}return true;};_pChartAxis._drawXAsis=function(_a){var _b=this._items;var _c=this.parent;var _d=_c._data_area;var _e=_d.left-this._adjust_left;var _f=_d.right-_d.left;var _g=_a.height;var _h=_c._item_start;var _i=_i=_c._item_cnt;var _j=this.currentstyle;var _k=this.titletext;var _l=_j.titlealign?_j.titlealign:nexacro._getCachedAlignObj("center middle");var _m=_j.titlefont?_j.titlefont:this.on_find_CurrentStyle_font();var _n=_j.titelcolor?_j.titlecolor._value:"black";var _o=nexacro.getStyleValueInt(_j.axissize,0);var _p=_j.labelrotate;_p=nexacro.getStyleValueText(_j.labelrotate,null);var _q=_j.labelalign;var _r=_j.labelfont;var _s=_j.labelcolor?_j.labelcolor._value:"black";var _t=_j.rulermajorline;var _u=this._major_size;var _v=(_t&&_t._isValid()&&_u>0);var _w=this.rulerbasetype;var _x,_y,_z;var _aa;if(_k!=""){_aa=_j.titlepadding;_a.setElementFont(_m);_a.setElementFillStyle(_n);var _z=Math.floor(_g-(this._title_height/2));if(_aa){_z-=_aa.bottom;}switch(_l.halign){case "left":var _y=_e;_a.drawFillText(_k,_e,_z,0);break;case "center":_y=Math.round(_e+(_f/2)-(this._title_width/2));_a.drawFillText(_k,_y,_z,0);break;case "right":_y=Math.floor(_e+_f-this._title_width);_a.drawFillText(_k,_y,_z,0);break;}}var _ab=_c._item_div;var _ac=_i;if(_ac>_b.length){_ac=_b.length;}if(_v){_a.setElementStrokeStyle(_t.color);if(_o>0){_a.setElementLineWidth(_o);var _ad=_o/2;_a.drawStrokeHLine(_ad,_e,_e+_f);}_a.setElementLineWidth(_t._width);var _ae=_t._width/2;var _af=_o;var _ag=_o+_u;if(_w=="distance"){_x=_e;for(var _ak=0;_ak<_i;_ak++ ){_y=Math.round(_x)+_ae;_a.drawStrokeVLine(_y,_af,_ag);_x+=_ab;}_y=Math.round(_x)+_ae;_a.drawStrokeVLine(_y,_af,_ag);}else{_x=Math.round(_e+_ab/2);for(var _ak=0;_ak<_i;_ak++ ){_y=Math.round(_x)+_ae;_a.drawStrokeVLine(_y,_af,_ag);_x+=_ab;}}_a.drawStroke();}_aa=_j.labelpadding;_a.setElementFont(_r);_a.setElementFillStyle(_s);var _ah=_o+_u;if(_aa){_ah+=_aa.top;}if(_p===null){_x=_e;switch(_q.halign){case "left":for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=_x;_z=Math.round(_ah+_ai.text_height/2);_a.drawFillText(_ai.text,_y,_z,0);_x+=_ab;}}break;case "center":_x+=_ab/2;for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=Math.round(_x-(_ai.text_width/2));_z=Math.round(_ah+_ai.text_height/2);_a.drawFillText(_ai.text,_y,_z,0);_x+=_ab;}}break;case "right":_x+=_ab;for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=_x-_ai.text_width;_z=Math.round(_ah+_ai.text_height/2);_a.drawFillText(_ai.text,_y,_z+_ae,0);_x+=_ab;}}break;}}else if(_p<180){_x=_e+_ab/2;_z=Math.round(_ah);for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=Math.round(_x);_a.drawFillText(_ai.text,_y,_z,_p);_x+=_ab;}}}else{var _aj=_p*Math.PI/180;_x=_e+_ab/2;for(var _ak=0;_ak<_ac;_ak++ ){var _ai=_b[_ak+_h];if(_ai){_y=Math.round(_x+Math.cos(_ai.text_width));_z=Math.ceil(_ah-Math.sin(_ai.text_width));_a.drawFillText(_ai.text,_y,_z,_p);_x+=_ab;}}}};_pChartAxis._drawYAsis=function(_a){var _b=this._items;var _c=this.parent;var _d=_c._data_area;var _e=_d.top-this._adjust_top;var _f=_a.width;var _g=_d.bottom-_d.top;var _h=false;if(this.id=="y2axis"){_h=true;}var _i=_b.length;var _j=this.currentstyle;var _k=this._unit_min_val;var _l=this._unit_max_val;var _m=this.titletext;var _n=_j.titlealign?_j.titlealign:nexacro._getCachedAlignObj("center middle");var _o=_j.titlefont?_j.titlefont:this.on_find_CurrentStyle_font();var _p=_j.titlecolor?_j.titlecolor._value:"black";var _q=nexacro.getStyleValueInt(_j.axissize,0);var _r=_j.labelfont;var _s=_j.labelcolor?_j.labelcolor._value:"black";var _t=_j.rulermajorline;var _u=this._major_size;var _v=_j.rulerminorline;var _w=this._miner_size;var _x=(_t&&_t._isValid()&&_u>0);var _y=(_v&&_v._isValid()&&_w>0);var _z,_aa,_ab,_ac,_ad;var _ae=_j.titlepadding;if(_m!=""){if(_h){_a.setElementFont(_o);_a.setElementFillStyle(_p);_aa=Math.floor(_f-(this._title_height/2));if(_ae){_aa-=_ae.right;}switch(_n.valign){case "top":_ad=_e;_a.drawFillText(_m,_aa,_ad,90);break;case "middle":_ad=Math.round(_e+(_g/2)-(this._title_width/2));_a.drawFillText(_m,_aa,_ad,90);break;case "bottom":_ad=_e+_g-this._title_width;_a.drawFillText(_m,_aa,_ad,90);break;}}else{_a.setElementFont(_o);_a.setElementFillStyle(_p);_aa=Math.ceil(this._title_height/2);if(_ae){_aa+=_ae.left;}switch(_n.valign){case "top":_ad=_e-this._title_width;_a.drawFillText(_m,_aa,_ad,270);break;case "middle":_ad=Math.round(_e+(_g/2)+(this._title_width/2));_a.drawFillText(_m,_aa,_ad,270);break;case "bottom":_ad=_e+_g;_a.drawFillText(_m,_aa,_ad,270);break;}}}var _af=(_g)/(_i-1);var _ag=this.origindata;var _ah=this._org_size;var _ai=_j.originline;var _aj=(_ai&&_ai._isValid()&&_ah>0);var _ak=this.markdata;var _al=this._mark_size;var _am=_j.markline;var _an=(_am&&_am._isValid()&&_al>0);var _ao=_q/2;var _ap=0;if(_t){_ap+=_t._width/2;}if(_x){_a.setElementStrokeStyle(_t?_t.color:null);if(_q){_a.setElementLineWidth(_q);pos=_e+_g;if(_t){pos+=_t._width;}if(_h){_a.drawStrokeVLine(_ao,_e,pos);}else{_a.drawStrokeVLine(_f-_ao,_e,pos);}}if(_t){_a.setElementLineWidth(_t._width);}if(_h){_aa=_q;_ab=_q+_u;}else{_ab=_f-_q;_aa=_ab-_u;}_z=_e+_g;for(var _bc=0;_bc<_i;_bc++ ){var _aq=_b[_bc];if(_aq.item_val!=_ag&&_aq.item_val!=_ak){_ad=Math.round(_z);_a.drawStrokeHLine(_ad+_ap,_aa,_ab);}_z-=_af;}}_a.setElementFont(_r);_a.setElementFillStyle(_s);_z=_e+_g;_ae=_j.labelpadding;if(_h){_aa=_q+_u;if(_ae){_aa+=_ae.left;}}else{_aa=_f-_q-_u;if(_ae){_aa-=_ae.right;}}var _ar=0;for(var _bc=0;_bc<_i;_bc++ ){var _aq=_b[_bc];if(_aq.item_val!=_ag&&_aq.item_val!=_ak){_ac=_aa-(_h?0:_aq.text_width);_ad=Math.round(_z);_a.drawFillText(_aq.text,_ac,_ad,0);}else if(_aq.item_val==_ag){_ar=Math.round(_z);}_z-=_af;}if(_ag<=_l&&_ag>=_k&&_ag!=_ak){var _as=_ar-_e;var _at=this._org_text;var _au=_j.originfont;var _av=_j.origincolor;if(_av){_av=_av._value;}else{_av="black";}if(_h){_aa=_q;_ab=_q+_ah;}else{_ab=_f-_q;_aa=_ab-_ah;}_z=_e+_as;var _aw=_ag-_k;var _ax=_l-_k;var _ay=0;if(_ax==0){_ay=_aw;}_z-=_as*_ay;_ad=Math.round(_z);if(_aj){_a._setLineStyle(_ai);_a.setElementStrokeStyle(_ai.color);_a.setElementLineWidth(_ai._width);_a.moveTo(_aa,_ad+_ap);_a.lineTo(_ab,_ad+_ap);_a.drawStroke();}_a.setElementFont(_au);_a.setElementFillStyle(_av);if(_h){_ac=_ab;}else{_ac=_aa-this._org_width;}_a.drawFillText(_at,_ac,_ad,0);}if(_ak<=_l&&_ak>=_k){var _az=this._mark_text;var _ba=_j.markfont;var _bb=_j.markcolor?_j.markcolor._value:"black";if(_h){_aa=_q;_ab=_q+_al;}else{_ab=_f-_q;_aa=_ab-_al;}_z=_e+_g;_z-=_g*(_ak-_k)/(_l-_k);_ad=Math.round(_z);if(_an){_a.setElementStrokeStyle(_am.color);_a.setElementLineWidth(_am._width);_a.moveTo(_aa,_ad+_ap);_a.lineTo(_ab,_ad+_ap);_a.drawStroke();}_a.setElementFont(_ba);_a.setElementFillStyle(_bb);if(_h){_a.drawFillText(_az,_ab,_ad,0);}else{_a.drawFillText(_az,_aa-this._mark_width,_ad,0);}}};_pChartAxis.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();if(this.id=="xaxis"){this._drawXAsis(_a);}else{this._drawYAsis(_a);}_a.endDraw();};_pChartAxis.set_label=function(_a){if(_a!=this.label._value){this.label._set(_a);if(this._control_element){this.on_apply_label();}}return _a;};_pChartAxis.on_apply_label=function(){this.parent.on_updateDrawAreaLayout();};_pChartAxis.set_markdata=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.markdata){this.markdata=_b;this.on_updateDecimalless();}return _b;};_pChartAxis.set_marklabel=function(_a){if(_a!=this.marklabel){this.marklabel=_a;}return _a;};_pChartAxis.set_origindata=function(_a){var _b=parseFloat(_a)|0;if(_b!=this.origindata){this.origindata=_b;this.__origindata=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_originlabel=function(_a){if(_a!=this.originlabel){this.originlabel=_a;}return _a;};_pChartAxis.set_rulerbasetype=function(_a){if(_a!="distance"){_a="point";}if(_a!=this.rulerbasetype){this.rulerbasetype=_a;}return _a;};_pChartAxis.set_rulermajorunit=function(_a){var _b=parseFloat(_a);if(( +_b)!=( +_b)){_b= -1;}if(_b!=this.rulermajorunit){this.rulermajorunit=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_rulermax=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.rulermax){this.rulermax=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_rulermin=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.rulermin){this.rulermin=_b;this.on_updateDecimalless();this.on_apply_rulermin();}return _b;};_pChartAxis.on_apply_rulermin=function(){var _a=this.getElement();if(_a){var _b=this.parent;_b.on_updateDrawAreaLayout();_b.on_updateDataAreaLayout();this.redraw();_b.board.redraw();}};_pChartAxis.set_rulerminorunit=function(_a){var _b=parseFloat(_a);if(( +_b)!=( +_b)){_b= -1;}if(_b!=this.rulerminorunit){this.rulerminorunit=_b;this.on_updateDecimalless();}return _b;};_pChartAxis.set_rulersort=function(_a){if(_a!=this.rulersort){this.rulersort=_a;}return _a;};_pChartAxis.set_titletext=function(_a){if(_a!=this.titletext){this.titletext=_a;}return _a;};_pChartAxis.set_viewcount=function(_a){if(_a!=this.viewcount){this.viewcount=_a;}return _a;};_pChartAxis.set_viewmax=function(_a){var _b=parseInt(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.viewmax){this.viewmax=_b;}return _b;};_pChartAxis.set_viewmin=function(_a){var _b=parseInt(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.viewmin){this.viewmin=_b;}return _b;};_pChartAxis=null;nexacro.ChartBoard=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pChartBoard=nexacro.ChartBoard.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartBoard);_pChartBoard._type_name="Chart>#board";_pChartBoard.usemarky=false;_pChartBoard.usemarky2=false;_pChartBoard.useoriginy=false;_pChartBoard.useoriginy2=false;_pChartBoard.yaxismajorunit= -1;_pChartBoard.yaxisminorunit= -1;_pChartBoard.on_create_custom_style=function(){return new nexacro.ChartBoard_Style(this);};_pChartBoard.on_create_custom_currentStyle=function(){return new nexacro.ChartBoard_CurrentStyle();};_pChartBoard.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.markliney=this.on_find_CurrentStyle_markLineY(_a);_b.markliney2=this.on_find_CurrentStyle_markLineY2(_a);_b.originliney=this.on_find_CurrentStyle_originLineY(_a);_b.originliney2=this.on_find_CurrentStyle_originLineY2(_a);_b.xaxismajorline=this.on_find_CurrentStyle_xAxisMajorLine(_a);_b.yaxismajorline=this.on_find_CurrentStyle_yAxisMajorLine(_a);_b.yaxisminorline=this.on_find_CurrentStyle_yAxisMinorLine(_a);};_pChartBoard.on_update_style_markliney=function(){this.currentstyle.markliney=this.on_find_CurrentStyle_markLineY(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_markliney2=function(){this.currentstyle.markliney2=this.on_find_CurrentStyle_markLineY2(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_originliney=function(){this.currentstyle.originliney=this.on_find_CurrentStyle_originLineY(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_originliney2=function(){this.currentstyle.originliney2=this.on_find_CurrentStyle_originLineY2(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_xaxismajorline=function(){this.currentstyle.xaxismajorline=this.on_find_CurrentStyle_xAxisMajorLine(this._pseudo);};_pChartBoard.on_update_style_yaxismajorline=function(){this.currentstyle.yaxismajorline=this.on_find_CurrentStyle_yAxisMajorLine(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_yaxisminorline=function(){this.currentstyle.yaxisminorline=this.on_find_CurrentStyle_yAxisMinorLine(this._pseudo);};_pChartBoard.on_find_CurrentStyle_markLineY=function(_a){return this._find_pseudo_obj("markliney",_a);};_pChartBoard.on_find_CurrentStyle_markLineY2=function(_a){return this._find_pseudo_obj("markliney2",_a);};_pChartBoard.on_find_CurrentStyle_originLineY=function(_a){return this._find_pseudo_obj("originliney",_a);};_pChartBoard.on_find_CurrentStyle_originLineY2=function(_a){return this._find_pseudo_obj("originliney2",_a);};_pChartBoard.on_find_CurrentStyle_xAxisMajorLine=function(_a){return this._find_pseudo_obj("xaxismajorline",_a);};_pChartBoard.on_find_CurrentStyle_yAxisMajorLine=function(_a){return this._find_pseudo_obj("yaxismajorline",_a);};_pChartBoard.on_find_CurrentStyle_yAxisMinorLine=function(_a){return this._find_pseudo_obj("yaxisminorline",_a);};_pChartBoard._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartBoard._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;if(this._adjust_left!=_a.left||this._adjust_width!=_b||this._adjust_top!=_a.top||this._adjust_height!=_c){this._applysetPosition(_a.left,_a.top,_b,_c);}return true;};_pChartBoard.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.currentstyle;var _c=this.parent;var _d=_a.width;var _e=_a.height;var _f,_g,_h;if(_c.yaxis){var _i=_c.yaxis;var _j=_i._unit_min_val;var _k=_i._unit_max_val;var _l=_k-_j;var _m=_b.yaxismajorline;if(_m&&_m._isValid()){var _n=this.yaxismajorunit;if(_n<1){_n=_i.rulermajorunit;}if(_n>0){var _o=_m._width/2;_a._setLineStyle(_m);var _p=_j;while(_p<=_k){_f=(_p-_j);if(_f>0){_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}_p+=_n;}}}if(this.useoriginy){var _q=_i.origindata;if(_q>_j&&_q<=_k){var _r=_b.originliney;if(_r&&_r._isValid()){_a._setLineStyle(_r);_f=_q-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}if(this.usemarky){var _s=_i.markdata;if(_s>_j&&_s<=_k){var _t=_b.markliney;if(_t&&_t._isValid()){_a._setLineStyle(_t);_f=_s-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}}if(_c.y2axis){var _u=_c.y2axis;var _j=_u._unit_min_val;var _k=_u._unit_max_val;var _l=_k-_j;if(this.useoriginy2){var _q=_u.origindata;if(_q>_j&&_q<=_k){var _r=_b.originliney2;if(_r&&_r._isValid()){_a._setLineStyle(_r);_f=_q-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}if(this.usemarky2){var _s=_u.markdata;if(_s>_j&&_s<=_k){var _t=_b.markliney2;if(_t&&_t._isValid()){_a._setLineStyle(_t);_f=_s-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}}_a.endDraw();};_pChartBoard.set_usemarky=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.usemarky){this.usemarky=_a;}return _a;};_pChartBoard.set_usemarky2=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.usemarky2){this.usemarky2=_a;}return _a;};_pChartBoard.set_useoriginy=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.useoriginy){this.useoriginy=_a;}return _a;};_pChartBoard.set_useoriginy2=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.useoriginy2){this.useoriginy2=_a;}return _a;};_pChartBoard.set_yaxismajorunit=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.yaxismajorunit){this.yaxismajorunit=_b;this.redraw();}return _b;};_pChartBoard.set_yaxisminorunit=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.yaxisminorunit){this.yaxisminorunit=_b;}return _b;};_pChartBoard=null;nexacro.ChartSeries=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.data=new nexacro.BindableValue("");this.datatext=new nexacro.BindableValue("");};var _pChartSeries=nexacro.ChartSeries.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartSeries);_pChartSeries._type_name="Chart>#";_pChartSeries._bar_item_offset=0;_pChartSeries._bar_item_width=0;_pChartSeries._exprfn=null;_pChartSeries._exprtextfn=null;_pChartSeries._defaultStrokePen=nexacro._getCachedStyleObj("strokepen","1px solid black");_pChartSeries.data="";_pChartSeries.datatext="";_pChartSeries.label="";_pChartSeries.type="line";_pChartSeries.xaxis="xaxis";_pChartSeries.yaxis="yaxis";_pChartSeries.on_create_custom_style=function(){return new nexacro.ChartSeries_Style(this);};_pChartSeries.on_create_custom_currentStyle=function(){return new nexacro.ChartSeries_CurrentStyle();};_pChartSeries.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.startangle=this.on_find_CurrentStyle_startAngle(_a);_b.strokecap=this.on_find_CurrentStyle_strokeCap(_a);_b.strokejoin=this.on_find_CurrentStyle_strokeJoin(_a);_b.strokepen=this.on_find_CurrentStyle_strokePen(_a);_b.fillbrush=this.on_find_CurrentStyle_fillBrush(_a);_b.fillgradation=this.on_find_CurrentStyle_fillGradation(_a);_b.fillhatch=this.on_find_CurrentStyle_fillHatch(_a);_b.extendoriginline=this.on_find_CurrentStyle_extendOriginLine(_a);_b.miterjoinlimit=this.on_find_CurrentStyle_miterJoinLimit(_a);_b.datatextalign=this.on_find_CurrentStyle_dataTextAlign(_a);_b.datatextbackground=this.on_find_CurrentStyle_dataTextBackground(_a);_b.datatextborder=this.on_find_CurrentStyle_dataTextBorder(_a);_b.datatextbordertype=this.on_find_CurrentStyle_dataTextBorderType(_a);_b.datatextcolor=this.on_find_CurrentStyle_dataTextColor(_a);_b.datatextfont=this.on_find_CurrentStyle_dataTextFont(_a);_b.datatextgradation=this.on_find_CurrentStyle_dataTextGradation(_a);_b.datatextguideline=this.on_find_CurrentStyle_dataTextGuideLine(_a);_b.datatextguiderotate=this.on_find_CurrentStyle_dataTextGuideRotate(_a);_b.datatextguidesize=this.on_find_CurrentStyle_dataTextGuideSize(_a);_b.datatextguidetype=this.on_find_CurrentStyle_dataTextGuideType(_a);_b.datatextlocation=this.on_find_CurrentStyle_dataTextLocation(_a);_b.datatextmargin=this.on_find_CurrentStyle_dataTextMargin(_a);_b.datatextpadding=this.on_find_CurrentStyle_dataTextPadding(_a);_b.pointfillbrush=this.on_find_CurrentStyle_pointFillBrush(_a);_b.pointfillgradation=this.on_find_CurrentStyle_pointFillGradation(_a);_b.pointfillhatch=this.on_find_CurrentStyle_pointFillHatch(_a);_b.pointmiterjoinlimit=this.on_find_CurrentStyle_pointMiterJoinLimit(_a);_b.pointshape=this.on_find_CurrentStyle_pointShape(_a);_b.pointsize=this.on_find_CurrentStyle_pointSize(_a);_b.pointstrokecap=this.on_find_CurrentStyle_pointStrokeCap(_a);_b.pointstrokejoin=this.on_find_CurrentStyle_pointStrokeJoin(_a);_b.pointstrokepen=this.on_find_CurrentStyle_pointStrokePen(_a);_b.selectcolor=this.on_find_CurrentStyle_selectColor(_a);_b.selectdatatextbackground=this.on_find_CurrentStyle_selectDataTextBackground(_a);_b.selectdatatextborder=this.on_find_CurrentStyle_selectDataTextBorder(_a);_b.selectdatatextbordertype=this.on_find_CurrentStyle_selectDataTextBorderType(_a);_b.selectdatatextcolor=this.on_find_CurrentStyle_selectDataTextColor(_a);_b.selectdatatextfont=this.on_find_CurrentStyle_selectDataTextFont(_a);_b.selectdatatextgradation=this.on_find_CurrentStyle_selectDataTextGradation(_a);_b.selectdatatextguideline=this.on_find_CurrentStyle_selectDataTextGuideLine(_a);_b.selectfillbrush=this.on_find_CurrentStyle_selectFillBrush(_a);_b.selectfillgradation=this.on_find_CurrentStyle_selectFillGradation(_a);_b.selectfillhatch=this.on_find_CurrentStyle_selectFillHatch(_a);_b.selectfont=this.on_find_CurrentStyle_selectFont(_a);_b.selectindent=this.on_find_CurrentStyle_selectIndent(_a);_b.selectpointfillbrush=this.on_find_CurrentStyle_selectPointFillBrush(_a);_b.selectpointfillgradation=this.on_find_CurrentStyle_selectPointFillGradation(_a);_b.selectpointfillhatch=this.on_find_CurrentStyle_selectPointFillHatch(_a);_b.selectpointsize=this.on_find_CurrentStyle_pointSize(_a);_b.selectstrokepen=this.on_find_CurrentStyle_selectStrokePen(_a);_b.selectpointsize=this.on_find_CurrentStyle_selectPointSize(_a);};_pChartSeries.on_update_style_datatextalign=function(){this.currentstyle.datatextalign=this.on_find_CurrentStyle_dataTextAlign(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextbackground=function(){this.currentstyle.datatextbackground=this.on_find_CurrentStyle_dataTextBackground(this._pseudo);};_pChartSeries.on_update_style_datatextborder=function(){this.currentstyle.datatextborder=this.on_find_CurrentStyle_dataTextBorder(this._pseudo);};_pChartSeries.on_update_style_datatextbordertype=function(){this.currentstyle.datatextbordertype=this.on_find_CurrentStyle_dataTextBorderType(this._pseudo);};_pChartSeries.on_update_style_datatextcolor=function(){this.currentstyle.datatextcolor=this.on_find_CurrentStyle_dataTextColor(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextfont=function(){this.currentstyle.datatextfont=this.on_find_CurrentStyle_dataTextFont(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextgradation=function(){this.currentstyle.datatextfont=this.on_find_CurrentStyle_dataTextFont(this._pseudo);};_pChartSeries.on_update_style_datatextguideline=function(){this.currentstyle.datatextguideline=this.on_find_CurrentStyle_dataTextGuideLine(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextguidesize=function(){this.currentstyle.datatextguidesize=this.on_find_CurrentStyle_dataTextGuideSize(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextguidetype=function(){this.currentstyle.datatextguidetype=this.on_find_CurrentStyle_dataTextGuideType(this._pseudo);};_pChartSeries.on_update_style_datatextlocation=function(){this.currentstyle.datatextLocation=this.on_find_CurrentStyle_dataTextLocation(this._pseudo);};_pChartSeries.on_update_style_datatextmargin=function(){this.currentstyle.datatextmargin=this.on_find_CurrentStyle_dataTextMargin(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextpadding=function(){this.currentstyle.datatextpadding=this.on_find_CurrentStyle_dataTextPadding(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_extendorignline=function(){this.currentstyle.extendorignline=this.on_find_CurrentStyle_extendOriginLine(this._pseudo);};_pChartSeries.on_update_style_fillbrush=function(){this.currentstyle.fillbrush=this.on_find_CurrentStyle_fillBrush(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_fillgradation=function(){this.currentstyle.fillgradation=this.on_find_CurrentStyle_fillGradation(this._pseudo);};_pChartSeries.on_update_style_fillhatch=function(){this.currentstyle.fillhatch=this.on_find_CurrentStyle_fillHatch(this._pseudo);};_pChartSeries.on_update_style_miterjoinlimit=function(){this.currentstyle.miterjoinlimit=this.on_find_CurrentStyle_miterJoinLimit(this._pseudo);};_pChartSeries.on_update_style_pointfillbrush=function(){this.currentstyle.pointfillbrush=this.on_find_CurrentStyle_pointFillBrush(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_pointfillgradation=function(){this.currentstyle.pointfillgradation=this.on_find_CurrentStyle_pointFillGradation(this._pseudo);};_pChartSeries.on_update_style_pointfillhatch=function(){this.currentstyle.pointfillhatch=this.on_find_CurrentStyle_pointFillHatch(this._pseudo);};_pChartSeries.on_update_style_pointmiterjoinlimit=function(){this.currentstyle.pointmiterjoinlimit=this.on_find_CurrentStyle_pointMiterJoinLimit(this._pseudo);};_pChartSeries.on_update_style_pointshape=function(){this.currentstyle.pointshape=this.on_find_CurrentStyle_pointShape(this._pseudo);if(this.parent.legend){this.parent.legend._recalcLayout();this.redraw();this.parent.legend.redraw();}};_pChartSeries.on_update_style_pointsize=function(){this.currentstyle.pointsize=this.on_find_CurrentStyle_pointSize(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_pointstrokecap=function(){this.currentstyle.pointstrokecap=this.on_find_CurrentStyle_pointStrokeCap(this._pseudo);};_pChartSeries.on_update_style_pointstrokejoin=function(){this.currentstyle.pointstrokejoin=this.on_find_CurrentStyle_pointStrokeJoin(this._pseudo);};_pChartSeries.on_update_style_pointstrokepen=function(){this.currentstyle.pointstrokepen=this.on_find_CurrentStyle_pointStrokePen(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_selectcolor=function(){this.currentstyle.selectcolor=this.on_find_CurrentStyle_selectColor(this._pseudo);};_pChartSeries.on_update_style_selectdatatextbackground=function(){this.currentstyle.selectdatatextbackground=this.on_find_CurrentStyle_selectDataTextBackground(this._pseudo);};_pChartSeries.on_update_style_selectdatatextborder=function(){this.currentstyle.selectdatatextborder=this.on_find_CurrentStyle_selectDataTextBorder(this._pseudo);};_pChartSeries.on_update_style_selectdatatextcolor=function(){this.currentstyle.selectdatatextcolor=this.on_find_CurrentStyle_selectDataTextColor(this._pseudo);};_pChartSeries.on_update_style_selectdatatextfont=function(){this.currentstyle.selectdatatextfont=this.on_find_CurrentStyle_selectDataTextFont(this._pseudo);};_pChartSeries.on_update_style_selectdatatextgradation=function(){this.currentstyle.selectdatatextgradation=this.on_find_CurrentStyle_selectDataTextGradation(this._pseudo);};_pChartSeries.on_update_style_selectdatatextguideline=function(){this.currentstyle.selectdatatextguideline=this.on_find_CurrentStyle_selectDataTextGuideLine(this._pseudo);};_pChartSeries.on_update_style_selectfillbrush=function(){this.currentstyle.selectfillbrush=this.on_find_CurrentStyle_selectFillBrush(this._pseudo);};_pChartSeries.on_update_style_selectfillgradation=function(){this.currentstyle.selectfillgradation=this.on_find_CurrentStyle_selectFillGradation(this._pseudo);};_pChartSeries.on_update_style_selectfillhatch=function(){this.currentstyle.selectfillhatch=this.on_find_CurrentStyle_selectFillHatch(this._pseudo);};_pChartSeries.on_update_style_selectfont=function(){this.currentstyle.selectfont=this.on_find_CurrentStyle_selectFont(this._pseudo);};_pChartSeries.on_update_style_set_selectindent=function(){this.currentstyle.selectindent=this.on_find_CurrentStyle_selectIndent(this._pseudo);};_pChartSeries.on_update_style_selectstrokepen=function(){this.currentstyle.selectstrokepen=this.on_find_CurrentStyle_selectStrokePen(this._pseudo);};_pChartSeries.on_update_style_selectpointsize=function(){this.currentstyle.selectpointsize=this.on_find_CurrentStyle_selectPointSize(this._pseudo);};_pChartSeries.on_update_style_selectpointfillbrush=function(){this.currentstyle.selectpointfillbrush=this.on_find_CurrentStyle_selectPointFillBrush(this._pseudo);};_pChartSeries.on_update_style_selectpointfillgradation=function(){this.currentstyle.selectpointfillgradation=this.on_find_CurrentStyle_selectPointFillGradation(this._pseudo);};_pChartSeries.on_update_style_selectpointfillhatch=function(){this.currentstyle.selectpointfillhatch=this.on_find_CurrentStyle_selectPointFillHatch(this._pseudo);};_pChartSeries.on_update_style_selectpointstrokepen=function(){this.currentstyle.selectpointstrokepen=this.on_find_CurrentStyle_selectPointStrokePen(this._pseudo);};_pChartSeries.on_update_style_startangle=function(){this.currentstyle.startangle=this.on_find_CurrentStyle_startAngle(this._pseudo);};_pChartSeries.on_update_style_startangle=function(){this.currentstyle.startangle=this.on_find_CurrentStyle_startAngle(this._pseudo);};_pChartSeries.on_update_style_strokecap=function(){this.currentstyle.strokecap=this.on_find_CurrentStyle_strokeCap(this._pseudo);};_pChartSeries.on_update_style_strokejoin=function(){this.currentstyle.strokejoin=this.on_find_CurrentStyle_strokeJoin(this._pseudo);};_pChartSeries.on_update_style_strokepen=function(){this.currentstyle.strokepen=this.on_find_CurrentStyle_strokePen(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_find_CurrentStyle_background=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_border=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_shadow=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_startAngle=function(_a){return this._find_pseudo_obj("startangle",_a);};_pChartSeries.on_find_CurrentStyle_strokeCap=function(_a){return this._find_pseudo_obj("strokecap",_a);};_pChartSeries.on_find_CurrentStyle_strokeJoin=function(_a){return this._find_pseudo_obj("strokejoin",_a);};_pChartSeries.on_find_CurrentStyle_strokePen=function(_a){var _b=this._find_pseudo_obj("strokepen",_a);return _b?_b:this._defaultStrokePen;};_pChartSeries.on_find_CurrentStyle_miterJoinLimit=function(_a){return this._find_pseudo_obj("miterjoinlimit",_a);};_pChartSeries.on_find_CurrentStyle_fillBrush=function(_a){return this._find_pseudo_obj("fillbrush",_a);};_pChartSeries.on_find_CurrentStyle_fillGradation=function(_a){return this._find_pseudo_obj("fillgradation",_a);};_pChartSeries.on_find_CurrentStyle_fillHatch=function(_a){return this._find_pseudo_obj("fillhatch",_a);};_pChartSeries.on_find_CurrentStyle_extendOriginLine=function(_a){return this._find_pseudo_obj("extendorignline",_a);};_pChartSeries.on_find_CurrentStyle_dataTextAlign=function(_a){var _b=this._find_pseudo_obj("datatextalign",_a);return (_b)?_b:this._default_align;};_pChartSeries.on_find_CurrentStyle_dataTextBackground=function(_a){return this._find_pseudo_obj("datatextbackground",_a);};_pChartSeries.on_find_CurrentStyle_dataTextBorder=function(_a){return this._find_pseudo_obj("datatextborder",_a);};_pChartSeries.on_find_CurrentStyle_dataTextBorderType=function(_a){return this._find_pseudo_obj("datatextbordertype",_a);};_pChartSeries.on_find_CurrentStyle_dataTextColor=function(_a){var _b=this._find_pseudo_obj("datatextcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartSeries.on_find_CurrentStyle_dataTextFont=function(_a){var _b=this._find_pseudo_obj("datatextfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartSeries.on_find_CurrentStyle_dataTextGradation=function(_a){return this._find_pseudo_obj("datatextgradation",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideLine=function(_a){return this._find_pseudo_obj("datatextguideline",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideRotate=function(_a){return this._find_pseudo_obj("datatextguiderotate",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideSize=function(_a){return this._find_pseudo_obj("datatextguidesize",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideType=function(_a){var _b=this._find_pseudo_obj("datatextguidetype",_a);return (_b)?_b:this._defaultGuideType;};_pChartSeries.on_find_CurrentStyle_dataTextLocation=function(_a){var _b=this._find_pseudo_obj("datatextlocation",_a);return (_b)?_b:this._defaultLocation;};_pChartSeries.on_find_CurrentStyle_dataTextMargin=function(_a){var _b=this._find_pseudo_obj("datatextmargin",_a);return (_b)?_b:this._default_margin;};_pChartSeries.on_find_CurrentStyle_dataTextPadding=function(_a){var _b=this._find_pseudo_obj("datatextpadding",_a);return (_b)?_b:this._default_padding;};_pChartSeries.on_find_CurrentStyle_pointFillBrush=function(_a){return this._find_pseudo_obj("pointfillbrush",_a);};_pChartSeries.on_find_CurrentStyle_pointFillGradation=function(_a){return this._find_pseudo_obj("pointfillgradation",_a);};_pChartSeries.on_find_CurrentStyle_pointFillHatch=function(_a){return this._find_pseudo_obj("pointfillhatch",_a);};_pChartSeries.on_find_CurrentStyle_pointMiterJoinLimit=function(_a){return this._find_pseudo_obj("pointmiterjoinlimit",_a);};_pChartSeries.on_find_CurrentStyle_pointShape=function(_a){return this._find_pseudo_obj("pointshape",_a);};_pChartSeries.on_find_CurrentStyle_pointSize=function(_a){return this._find_pseudo_obj("pointsize",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokeCap=function(_a){return this._find_pseudo_obj("pointstrokecap",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokeJoin=function(_a){return this._find_pseudo_obj("pointstrokejoin",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokePen=function(_a){return this._find_pseudo_obj("pointstrokepen",_a);};_pChartSeries.on_find_CurrentStyle_selectColor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartSeries.on_find_CurrentStyle_selectDataTextBackground=function(_a){var _b=this._find_pseudo_obj("selectdatatextbackground",_a);return (_b)?_b:this.currentstyle.datatextbackground;};_pChartSeries.on_find_CurrentStyle_selectDataTextBorder=function(_a){var _b=this._find_pseudo_obj("selectdatatextborder",_a);return (_b)?_b:this.currentstyle.datatextborder;};_pChartSeries.on_find_CurrentStyle_selectDataTextBorderType=function(_a){var _b=this._find_pseudo_obj("selectdatatextbordertype",_a);return (_b)?_b:this.currentstyle.datatextbordertype;};_pChartSeries.on_find_CurrentStyle_selectDataTextColor=function(_a){var _b=this._find_pseudo_obj("selectdatatextcolor",_a);return (_b)?_b:this.currentstyle.datatextcolor;};_pChartSeries.on_find_CurrentStyle_selectDataTextFont=function(_a){var _b=this._find_pseudo_obj("selectdatatextfont",_a);return (_b)?_b:this.currentstyle.datatextfont;};_pChartSeries.on_find_CurrentStyle_selectDataTextGradation=function(_a){var _b=this._find_pseudo_obj("selectdatatextgradation",_a);return (_b)?_b:this.currentstyle.datatextgradation;};_pChartSeries.on_find_CurrentStyle_selectDataTextGuideLine=function(_a){var _b=this._find_pseudo_obj("selectdatatextguideline",_a);return (_b)?_b:this.currentstyle.datatextguideline;};_pChartSeries.on_find_CurrentStyle_selectFillBrush=function(_a){var _b=this._find_pseudo_obj("selectfillbrush",_a);return (_b)?_b:this.currentstyle.fillbrush;};_pChartSeries.on_find_CurrentStyle_selectFillGradation=function(_a){var _b=this._find_pseudo_obj("selectfillgradation",_a);return (_b)?_b:this.currentstyle.fillgradation;};_pChartSeries.on_find_CurrentStyle_selectFillHatch=function(_a){var _b=this._find_pseudo_obj("selectfillhatch",_a);return (_b)?_b:this.currentstyle.fillhatch;};_pChartSeries.on_find_CurrentStyle_selectFont=function(_a){var _b=this._find_pseudo_obj("selectfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartSeries.on_find_CurrentStyle_selectIndent=function(_a){return this._find_pseudo_obj("selectindent",_a);};_pChartSeries.on_find_CurrentStyle_selectPointFillBrush=function(_a){var _b=this._find_pseudo_obj("selectpointfillbrush",_a);return (_b)?_b:this.currentstyle.pointfillbrush;};_pChartSeries.on_find_CurrentStyle_selectPointFillGradation=function(_a){var _b=this._find_pseudo_obj("selectpointfillgradation",_a);return (_b)?_b:this.currentstyle.pointfillgradation;};_pChartSeries.on_find_CurrentStyle_selectPointFillHatch=function(_a){var _b=this._find_pseudo_obj("selectpointfillhatch",_a);return (_b)?_b:this.currentstyle.pointfillhatch;};_pChartSeries.on_find_CurrentStyle_selectPointSize=function(_a){var _b=this._find_pseudo_obj("selectpointsize",_a);return (_b)?_b:this.currentstyle.pointsize;};_pChartSeries.on_find_CurrentStyle_selectPointStrokePen=function(_a){var _b=this._find_pseudo_obj("selectpointstrokepen",_a);return (_b)?_b:this.currentstyle.pointstrokepen;};_pChartSeries.on_find_CurrentStyle_selectStrokePen=function(_a){var _b=this._find_pseudo_obj("selectstrokepen",_a);return (_b)?_b:this.currentstyle.strokepen;};_pChartSeries.on_find_CurrentStyle_selectPointSize=function(_a){var _b=this._find_pseudo_obj("selectpointsize",_a);return (_b)?_b:this.currentstyle.selectpointsize;};_pChartSeries._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;if(this._adjust_left!=_a.left||this._adjust_width!=_b||this._adjust_top!=_a.top||this._adjust_height!=_c){this._applysetPosition(_a.left,_a.top,_b,_c);}return true;};_pChartSeries._getBindNumber=function(_a,_b,_c){var _d;if(_b._bindtype==0){_d=_b._value;}else if(_a){if(_b._bindtype==1){_d=_a.getColumn(_c,_b._bindexpr);}else{var _e=this._exprfn;if(!_e){_e=this._exprfn=_a._createExprFunc(_b._bindexpr);}if((typeof _e)=="function"){_d=_e.call(this,_c,_c,this.parent,_a);}}}_d=parseFloat(_d)|0;if(( +_d)!=( +_d)){_d=undefined;}return _d;};_pChartSeries._getBindText=function(_a,_b,_c){if(_b._bindtype==0){return _b._value;}else{if(_a==null){return undefined;}if(_b._bindtype==1){return _a.getColumn(_c,_b._bindexpr);}else{var _d=this._exprtextfn;if(!_d){_d=this._exprtextfn=_a._createExprFunc(_b._bindexpr);}if((typeof _d)=="function"){return _d.call(this,_c,_c,this.parent,_a);}}}return "";};_pChartSeries.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.parent;var _c=_a.width;var _d=_a.height;var _e=_b._item_start;var _f=_b._item_cnt;var _g=_b._item_div;if(_f<=0){return;}var _h=this.currentstyle;var _i=this.yaxis;var _j=null;if(_i=="y2axis"){_j=_b.y2axis;}else{_j=_b.yaxis;}if(!_j){return;}var _k=_j._unit_min_val;var _l=_j._unit_max_val;var _m=_l-_k;var _n=_b._binddataset;if(_n){var _o=this.data;var _p=this.datatext;var _q=_j._org_val;var _r=Math.round(_d-((_q-_k)*_d)/_m);var _s=false;var _t=nexacro.getStyleValueText2(_h.pointshape,"none","");var _u,_v,_w;if(_t!=""){_u=nexacro.getStyleValueInt(_h.pointsize,0);if(_u>0){_aw=_h.pointfillbrush;if(_aw&&_aw._isValid()){_v=_aw.color;}else{_v="";}_ax=_h.pointstrokepen;if(_ax&&_ax._isValid()){_w=_ax;}else{_w=null;}_s=true;}}var _x=false,_y=false;var _z=_h.datatextcolor?_h.datatextcolor._value:"";var _aa=_h.datatextfont;var _ab,_ac=0,_ad=0,_ae="",_af=0;if(_z!=""){var _ag=_h.datatextalign;_ab=_h.datatextguideline;var _ah=nexacro.getStyleValueInt(_h.datatextguidesize,0);var _ai=_h.datatextpadding;var _aj=_h.datatextmargin;switch(_ag&&_ag.halign){case "left":_ac= -_ah;_ae="left";if(_ai){_af=_ai.right;}break;case "right":_ac=_ah;_ae="right";if(_ai){_af=_ai.left;}break;}switch(_ag&&_ag.valign){case "top":_ad= -_ah;if(_ae==""){_ae="top";if(_ai){_af=_ai.bottom;}}else if(_ae=="left"){_ae="lefttop";}else if(_ae=="right"){_ae="righttop";}break;case "bottom":_ad=_ah;if(_ae==""){_ae="bottom";if(_ai){_af=_ai.top;}}else if(_ae=="left"){_ae="leftbottom";}else if(_ae=="right"){_ae="rightbottom";}break;}if(_ab&&_ab._isValid()&&_ah>0){if(_ac!=0||_ad!=0){_y=true;}}_x=true;}var _ak=0;var _al=[];var _am=[];var _an=[];if(this.type=="bar"){var _ao=this._bar_item_width;var _ap=_ao/2;_ak=this._bar_item_offset+_ap;var _aq=0;var _ar=false,_as=false;var _at,_au,_av;var _aw=_h.fillbrush;if(_aw){_at=_aw.color;_a.setElementFillStyle(_at);_ar=true;}var _ax=_h.strokepen;if(_ax){_au=_ax.color;_av=parseFloat(_ax.width)|0;if(( +_av)!=( +_av)){_av=1;}_a.setElementStrokeStyle(_au);_a.setElementLineWidth(_av);_as=true;_aq=_av/2;}var _ay=_ak;for(var _bh=0;_bh<_f;_bh++ ){var _az=this._getBindNumber(_n,_o,_bh+_e);if(_az!=undefined){_al[_bh]=_az;_am[_bh]=Math.round(_ay);_an[_bh]=Math.round(_d-((_az-_k)*_d)/_m);}_ay+=_g;}if(_ar){for(var _bh=0;_bh<_f;_bh++ ){if(_al[_bh]!=undefined){_a.rect(_am[_bh]-_ap,_r,_ao,_an[_bh]-_r);}_a.drawFill();}}if(_as){for(var _bh=0;_bh<_f;_bh++ ){if(_al[_bh]!=undefined){_a.halfRect(_am[_bh]-_ap,_r,_ao,_an[_bh]-_r);}}_a.drawStroke();}}else{_ak=_g/2;var _aq=0;var _as=false;var _au,_av;var _ax=_h.strokepen;if(_ax){_au=_ax.color;_av=parseFloat(_ax.width)|0;if(( +_av)!=( +_av)){_av=1;}_a.setElementStrokeStyle(_au);_a.setElementLineWidth(_av);_as=true;}_aq=_av/2;if(_as){var _ba=_n.rowcount;var _ay=_ak;var _bb=false;if(_e>0){var _az=this._getBindNumber(_n,_o,_e-1);if(_az!=undefined){var _bc=Math.round(_d-((_az-_k)*_d)/_m);var _bd=Math.round(_ay-_g);_a.moveTo(_bd,_bc+_aq);_bb=true;}}for(var _bh=0;_bh<=_f;_bh++ ){var _az=this._getBindNumber(_n,_o,_bh+_e);if(_az!=undefined){var _bd=Math.round(_ay);var _bc=Math.round(_d-((_az-_k)*_d)/_m);_al[_bh]=_az;_am[_bh]=_bd;_an[_bh]=_bc;if(_bb){_a.lineTo(_bd,_bc+_aq);}else{_a.moveTo(_bd,_bc+_aq);_bb=true;}_ay+=_g;}else{_ay+=_g;_bb=false;}}_a.drawStroke();}}if(_s){var _be=_u/2;if(_s){for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){_b._drawMark(_a,_am[_bh]-_be,_an[_bh]-_be,_t,_u,_v,_w);}}}}if(_x){_a._setLineStyle(_ab);_a.setElementFont(_aa);_a.setElementFillStyle(_z);if(_y){for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bd=_am[_bh];var _bc=_an[_bh];_a.moveTo(_bd,_bc);_bd+=_ac;_bc+=_ad;_a.lineTo(_bd,_bc);}}_a.drawStroke();}switch(_ae){case "left":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=_af+_bg[0];_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "lefttop":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=_af+_bg[0];_bc-=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "leftbottom":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=_af+_bg[0];_bc+=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "right":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;_bd+=_af;_a.drawFillText(_bf,_bd,_bc,0);}}}_bd+=_af;break;case "righttop":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd+=_af;_bc-=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "rightbottom":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd+=_af;_bc+=Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "top":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=Math.round(_bg[0]/2);_bc-=_af+Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;case "bottom":for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=Math.round(_bg[0]/2);_bc+=_af+Math.ceil(_bg[1]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;default:for(var _bh=0;_bh<_f;_bh++ ){var _az=_al[_bh];if(_az!=undefined){var _bf=this._getBindText(_n,_p,_bh+_e);if(_bf!=""){var _bd=_am[_bh]+_ac;var _bc=_an[_bh]+_ad;var _bg=nexacro._getTextSize2(_bf,_aa);_bd-=Math.round(_bg[0]/2);_a.drawFillText(_bf,_bd,_bc,0);}}}break;}}}_a.endDraw();};_pChartSeries._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;this._type_name+=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartSeries.set_data=function(_a){if(_a!=this.data._value){this.data._set(_a);}return _a;};_pChartSeries.set_datatext=function(_a){if(_a!=this.datatext._value){this.datatext._set(_a);if(this._control_element){this.parent.on_updateDataAreaLayout();}}return _a;};_pChartSeries.set_label=function(_a){if(_a!=this.label){this.label=_a;if(this._control_element){this.parent._recalcLayout();this.parent.legend.redraw();}}return _a;};_pChartSeries.set_type=function(_a){if(_a!=this.type){this.type=_a;}return _a;};_pChartSeries.set_xaxis=function(_a){if(_a!=this.xaxis){this.type=_a;}return _a;};_pChartSeries.set_yaxis=function(_a){if(_a!=this.yaxis){this.yaxis=_a;}return _a;};_pChartSeries=null;}