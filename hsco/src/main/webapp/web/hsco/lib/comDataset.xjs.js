(function(){return function(_a){var _b;this.registerScript(_a,function(){this.gfn_delMultiRow=function(_c){var _d=_c.getColumnInfo("chk");var _e=_c.getColumnInfo("CHK");var _f=_d==null?"CHK":"chk";var _g=_f+"=='0' ? 0 : 1";if(_c.getSum(_g)==0){this.gfn_message("comm.데이터.선택.없음");return false;}if(this.gfn_message("confirm.삭제여부")){for(var _i=(_c.rowcount-1);_i>=0; --_i){var _h=_c.getColumn(_i,_f);if(_h==undefined||_h==""||_h==null){_h="0";}if(_h.toString()=="1"){_c.deleteRow(_i);}}return true;}else{return false;}};this.gfn_delMultiDsRow=function(_c){var _d=_c.getColumnInfo("chk");var _e=_c.getColumnInfo("CHK");var _f=_d==null?"CHK":"chk";var _g=_f+"=='0' ? 0 : 1";if(_c.getSum(_g)==0){this.gfn_message("comm.데이터.선택.없음");return false;}if(_c.getRowCount()>0){for(var _i=(_c.rowcount-1);_i>=0; --_i){var _h=_c.getColumn(_i,_f);if(_h==undefined||_h==""||_h==null){_h="0";}if(_h.toString()=="1"){_c.deleteRow(_i);}}return true;}else{return false;}};this.gfn_loadCodeCombo=function(_c,_d,_e,_f,_g,_h,_i,_j,_k){switch(_h.toUpperCase()){case "Y":_h="1";break;case "N":_h="";break;case "0":_h="";break;}if(!this.comUtils.isNullEmpty(_j)){_j="N";}var _l=this;var _m;var _n="cmmnCodeList";var _o="hsco/cmm/cmmCode/cmmCodeList2.do";var _p="";var _q;var _r;var _s;var _t=this._makeDataset(_c,_e);if(!this.comUtils.isNullEmpty(_d)){_d.set_innerdataset(_t.name);_d.set_codecolumn("CODE");if(_j=="N"){_d.set_datacolumn("CODE_NM");}else if(_j=="Y"){_d.set_datacolumn("ALL_CODE_NM");}else{_d.set_datacolumn("CODE_NM");}}_q=_t.name+"=output1";_r="GRP_CODE="+_f+" ";_r+="OPT_CODE="+_g+" ";_r+="USE_YN="+_h;var _u=function(svcId,errorCode,errorMsg){var nLen=strVal.length;if(strVal!=" "&&nLen>0){var nRow=ds.insertRow(0);ds.setColumn(nRow,"CODE","");ds.setColumn(nRow,"CODE_NM",strVal);ds.setColumn(nRow,"ALL_CODE_NM",strVal);if(!this.comUtils.isNullEmpty(combo)){combo.set_index(0);}}else{if(strVal==" "){if(!this.comUtils.isNullEmpty(combo)){combo.set_index( -1);}}else{if(!this.comUtils.isNullEmpty(combo)){combo.set_index(0);}}}if(!this.comUtils.isNullEmpty(strAfterCallback)){eval("form."+strAfterCallback+"();");}};if(typeof _u=="function"){_s=_n+_f+_t.name;_l[_s]=_u;}else if(typeof _u=="string"){_s=_u;}else{_s="";}Ex.core.tran(this,_n,_o,_p,_q,_r,_s);};this._makeDataset=function(form,strDs){var ds=new Dataset;ds.addColumn("CODE","string");ds.addColumn("GRP_CODE","string");ds.addColumn("CODE_NM","string");ds.addColumn("CODE_CN","string");ds.addColumn("CODE_ORDR","string");ds.addColumn("VAL0","string");ds.addColumn("VAL1","string");ds.addColumn("VAL2","string");ds.addColumn("VAL3","string");ds.addColumn("VAL4","string");ds.addColumn("INT_VAL","string");ds.addColumn("MSTK_VAL","string");ds.addColumn("ETC1","string");ds.addColumn("ETC2","string");ds.addColumn("ETC3","string");ds.addColumn("USE_YN","string");ds.addColumn("ALL_CODE_NM","string");ds.set_name(strDs);form.addChild(strDs,ds);return eval("form."+strDs);};this.gfn_loadCodeComboWithDs=function(form,combo,ds,strGrpCode,strOptCode,strUseYn,strVal,strCodeView,strAfterCallback){switch(strUseYn.toUpperCase()){case "Y":strUseYn="1";break;case "N":strUseYn="";break;case "0":strUseYn="";break;}if(!this.comUtils.isNullEmpty(strCodeView)){strCodeView="N";}var context=this;var param;var sSvcID="cmmnCodeList";var sController="hsco/cmm/cmmCode/cmmCodeList2.do";var sInDatasets="";var sOutDatasets;var sArgs;var sCallback;if(!(ds instanceof Dataset)){if(!this.comUtils.isNullEmpty(combo)){if(this.comUtils.isNullEmpty(combo.innerdataset)){alert(combo.name+"에 사용할 dataset이 없습니다. \n dataset을 정의해 주십시요.");return false;}ds=eval("form."+combo.innerdataset);}else{alert("정의된 dataset이 존재하지 않습니다. 올바른 dataset을 지정해 주십시요.");return;}}if(!this.comUtils.isNullEmpty(combo)){combo.set_innerdataset(ds.name);combo.set_codecolumn("CODE");if(strCodeView=="N"){combo.set_datacolumn("CODE_NM");}else if(strCodeView=="Y"){combo.set_datacolumn("ALL_CODE_NM");}else{combo.set_datacolumn("CODE_NM");}}sOutDatasets=ds.name+"=output1";sArgs="GRP_CODE="+strGrpCode+" ";sArgs+="OPT_CODE="+strOptCode+" ";sArgs+="USE_YN="+strUseYn;var callback=function(svcId,errorCode,errorMsg){var nLen=strVal.length;if(strVal!=" "&&nLen>0){var nRow=ds.insertRow(0);ds.setColumn(nRow,"CODE","");ds.setColumn(nRow,"CODE_NM",strVal);ds.setColumn(nRow,"ALL_CODE_NM",strVal);if(!this.comUtils.isNullEmpty(combo)){combo.set_index(0);}}else{if(strVal==" "){if(!this.comUtils.isNullEmpty(combo)){combo.set_index( -1);}}else{if(!this.comUtils.isNullEmpty(combo)){combo.set_index(0);}}}if(!this.comUtils.isNullEmpty(strAfterCallback)){eval("form."+strAfterCallback+"();");}};if(typeof callback=="function"){sCallback=sSvcID+strGrpCode+ds.name;context[sCallback]=callback;}else if(typeof callback=="string"){sCallback=callback;}else{sCallback="";}Ex.core.tran(this,sSvcID,sController,sInDatasets,sOutDatasets,sArgs,sCallback);};this.gv_nCnt=0;this.gfn_comboLoad_OLD=function(_c,_d){var _e=this;var _f;var _g="cmmnCodeList";var _h="hsco/cmm/cmmCode/cmmCodeList.do";var _i="";var _j;var _k;var _l;for(var _m in _c){_f=_c[_m];_j=_f[0]+"=output1";_k=Ex.util.setParam("GRP_CODE",_f[1]);_k+=Ex.util.setParam("USE_AT",_f[2]);_k+=Ex.util.setParam("CMB_MODE",_f[3]);_k+=Ex.util.setParam("TEXT_MODE",_f[4]);if(typeof _d=="function"){_l=_g+_m+_f[1];_e[_l]=_d;}else if(typeof _d=="string"){_l=_d;}else{_l="";}Ex.core.tran(this,_g,_h,_i,_j,_k,_l);}};this.gfn_comboLoad_OLD_OLD=function(_c){try{var _d=new Array();for(var _j in _c){var _d=_c[_j].split(',');var _e="cmmnCodeList";var _f="hsco/cmm/cmmCode/cmmCodeList.do";var _g="";var _h=_d[0]+"=output1";var _i="";var _i="";_i+=Ex.util.setParam("GRP_CODE",_d[1]);_i+=Ex.util.setParam("USE_AT",_d[2]);_i+=Ex.util.setParam("CMB_MODE",_d[3]);_i+=Ex.util.setParam("TEXT_MODE",_d[4]);if(_d.length!=5&&_d.length<5){alert("콤보박스 검색조건중"+_d[0]+"인수가 부족합니다.");return false;}else if(_d.length!=5&&_d.length>5){alert("콤보박스 검색조건중"+_d[0]+"인수가 초과입니다..");return false;}else{Ex.core.tran(this,_e,_f,_g,_h,_i,"gfn_TransactionCallback");}}}catch(e){return null;}};this.gfn_comboLoad=function(_c,_d){var _e=this;var _f="cmmnCodeList";var _g="hsco/cmm/cmmCode/cmmCodeList3.do";var _h;var _i;var _j;var _k;var _l;var _m="";_i="ds_condCombo"+this.objects.length.toString().padLeft(2,"0");_k=this._makeInDataset(_i,_c);_j="ds_outputDs"+this.objects.length.toString().padLeft(2,"0");_l=this._makeDataset(this,_j);var _n="input1="+_k.name;var _o=_l.name+"=output1";var _p=function(_q,_r,_s){for(var _y=0;_y<_c.length;_y++ ){var _t=_c[_y];var _u=this.objects[_t[0]];if(this.comUtils.isNullEmpty(_u)){alert("dataset "+_t[0]+"이 존재하지 않습니다. \n 해당 dataset을 먼저 생성하십시요.");return;}var _v="GRP_CODE=='"+_t[1]+"'";_l.filter("");_l.filter(_v);_u.copyData(_l,true);switch(_t[3]){case "A":_t[3]="전체";break;case "S":_t[3]="선택";break;case "E":_t[3]=" ";break;case "D":_t[3]="";break;}if(!this.comUtils.isNullEmpty(_t[3].trim())){_u.insertRow(0);_u.setColumn(0,"CODE","");_u.setColumn(0,"CODE_NM",_t[3].trim());_u.setColumn(0,"ALL_CODE_NM",_t[3].trim());_u.setColumn(0,"VAL0",_t[3].trim());_u.setColumn(0,"VAL1",_t[3].trim());_u.setColumn(0,"VAL2",_t[3].trim());_u.setColumn(0,"VAL3",_t[3].trim());_u.setColumn(0,"VAL4",_t[3].trim());}}var _w=this.div_search;if(this.comUtils.isNull(_w)){_w=this.div_SEARCH;}if(this.comUtils.isNull(_w)){_w=this.div_SEARCH_AREA;}if(this.comUtils.isNull(_w)){_w=this.div_SEARCHAREA;}if(this.comUtils.isNull(_w)){_w=this.div_SearchArea;}for(var _z in _w){var _b=_w.components[_z];if(_b instanceof Combo){var _x=_b.innerdataset;try{if(!this.comUtils.isNullEmpty(_x.trim())){this._setText(_b,_x,_c);}}catch(e){trace("gfn_comboLoad error : "+e);}}}if(typeof (_d)=="function"){_d.call(this);}};if(typeof _p=="function"){_h=_f+_l.name;_e[_h]=_p;}else if(typeof callback=="string"){_h=_p;}else{_h="gfn_comboCallback";}Ex.core.tran(this,_f,_g,_n,_o,_m,_h);this.gfn_applyAuthButton();};this.gfn_comboCallback=function(_c,_d,_e){};this._makeInDataset=function(_c,_d){var _e=this.objects[_c];var _f=new Dataset;var _g="";if(this.comUtils.isNull(_e)){_g=_c;}else{_g=_c.substr(0,12)+(parseInt(_c.substr(12))+1).toString().padLeft(2,"0");}_f.set_name(_g);_f.addColumn("GRP_CODE","string");_f.addColumn("USE_YN","string");_f.addColumn("DS_NAME","string");this.addChild(_g,_f);for(var _j=0;_j<_d.length;_j++ ){var _h=_d[_j];var _i=_f.addRow();_f.setColumn(_i,"GRP_CODE",_h[1]);_f.setColumn(_i,"USE_YN",this._getValidUseYn(_h[2]));_f.setColumn(_i,"DS_NAME",_h[0]);}return _f;};this._getValidUseYn=function(_c){var _d;switch(_c){case "":case "Y":_d="1";break;case "N":_d="";break;case "0":_d="";break;default:_d=_c;}return _d;};this._setText=function(_b,_c,_d){for(var _f=0;_f<_d.length;_f++ ){var _e=_d[_f];if(_c==_e[0]){if(_e[3]==" "){_b.set_index( -1);}else{_b.set_index(0);}return;}}};this.gfn_comboLoadNonCodeTbl=function(_c,_d,_e,_b){if(!this.comUtils.isNullEmpty(_e)){for(var _h=0;_h<_c.length;_h++ ){var _f=_c[_h];if(_f[0]==_e){var _g=this.objects[_f[1]].getColumn(0,"CODE_LVL_"+_f[5]);if(this.comUtils.isNullEmpty(_g)){this.objects[_e].clearData();if(_f[3]!=" "){this.objects[_e].addRow();this.objects[_e].setColumn(0,"CODE","");this.objects[_e].setColumn(0,"CODE_NM",_f[3]);this.objects[_e].setColumn(0,"ALL_CODE_NM",_f[3]);_b.parent.components[_b.next].set_index(0);}return;}this._loadEachCmb(_c,_h,_d);break;}else{continue;}}}else{for(var _i=0;_i<_c.length;_i++ ){var _f=_c[_i];if(parseInt(_f[5])<=1){this._loadEachCmb(_c,_i,_d);}}}};this._loadEachCmb=function(_c,_d,_e){var _f=_c[_d];var _g=this;var _h=_f[0];var _i=_f[4];var _j;var _k="";var _l;var _m="";if(!this.comUtils.isNullEmpty(_f[1])){_l=this.objects[_f[1]];var _n=_l.getColumnInfo("USE_YN");if(_n==null){_l.addColumn("USE_YN","string");}}else{_k="ds_condCombo"+this.objects.length.toString().padLeft(2,"0");_l=this._makeInDataset(_k,_c);_f[1]=_k;}if(_l.rowcount==0){_l.addRow();}_l.setColumn(0,"USE_YN",this._getValidUseYn(_f[2]));_k=_l.name;var _o="input1="+_l.name;var _p=_f[0].trim()+"=output1";var _q=function(_r,_s,_t){var _u=this.objects[_f[0]];if(this.comUtils.isNullEmpty(_u)){alert("dataset "+_f[0]+"이 존재하지 않습니다. \n 해당 dataset을 먼저 생성하십시요.");return;}switch(_f[3]){case "A":_f[3]="전체";break;case "S":_f[3]="선택";break;case "E":_f[3]=" ";break;case "D":_f[3]="";break;}if(!this.comUtils.isNullEmpty(_f[3].trim())){_u.insertRow(0);_u.setColumn(0,"CODE","");_u.setColumn(0,"CODE_NM",_f[3].trim());_u.setColumn(0,"ALL_CODE_NM",_f[3].trim());}var _v=this.div_search;if(this.comUtils.isNull(_v)){_v=this.div_SEARCH;}if(this.comUtils.isNull(_v)){_v=this.div_SEARCH_AREA;}if(this.comUtils.isNull(_v)){_v=this.div_SEARCHAREA;}if(this.comUtils.isNull(_v)){_v=this.div_SearchArea;}if(this.comUtils.isNull(_v)){_v=this;}var _w;for(var _y in _v){var _b=_v.components[_y];if(_b instanceof Combo){var _x=_b.innerdataset;if(!this.comUtils.isNullEmpty(_x.trim())){this._setTextOne(_b,_x,_f);}if(_f[0]==_x){_w=_b;break;}}}if(parseInt(_f[5])>0){this._procStepCombo(_c,_d,_w,_e);}if(typeof (_e)=="function"){_e.call(this,_r);}};if(typeof _q=="function"){_j="callback_"+_h;_g[_j]=_q;}else if(typeof callback=="string"){_j=_q;}else{_j="gfn_comboCallback";}Ex.core.tran(this,_h,_i,_o,_p,_m,_j);};this._setTextOne=function(_b,_c,_d){if(_c==_d[0]){if(_d[3]==" "){_b.set_index( -1);}else{_b.set_index(0);}return;}};this._procStepCombo=function(_c,_d,_e,_f){var _g=_c[_d];var _h;var _i=_e.parent.components[_e.next];if(_d<(_c.length-1)){_h=_c[_d+1];}else{return false;}if(_g[5]>0){var _j=this.objects[_h[1]];if(_j.rowcount==0){_j.addRow();}if(_h[5]>0){if(this.comUtils.isNullEmpty(_e.value)){for(var _l=_d+1;_l<_c.length;_l++ ){if(_c[_l][5]>_g[5]){this.objects[_c[_l][0]].clearData();if(!this.comUtils.isNullEmpty(_h[3])){var _k=this.objects[_c[_l][0]].addRow();this.objects[_c[_l][0]].setColumn(_k,"CODE","");this.objects[_c[_l][0]].setColumn(_k,"CODE_NM",_c[_l][3]);this.objects[_c[_l][0]].setColumn(_k,"ALL_CODE_NM",_c[_l][3]);_i.set_index(0);_i=_i.parent.components[_i.next];this.objects[_c[_l][1]].setColumn(0,"CODE_LVL_"+_c[_l][5],"");}}else{break;}}return;}_j.setColumn(0,"CODE_LVL_"+(parseInt(_g[5])+1),_e.value);this.gfn_comboLoadNonCodeTbl(_c,_f,_h[0]);}}else{return false;}};this._procStepCombo_OLD=function(_c,_d,_e,_f){var _g=_c[_d];var _h;if(_d<(_c.length-1)){_h=_c[_d+1];}else{return false;}if(_g[5]>0){var _i=this.objects[_h[1]];if(_i.rowcount==0){_i.addRow();}if(_h[5]>0){if(this.comUtils.isNullEmpty(_e.value)){this.objects[_h[0]].clearData();if(!this.comUtils.isNullEmpty(_h[3])){var _j=this.objects[_h[0]].addRow();this.objects[_h[0]].setColumn(_j,"CODE","");this.objects[_h[0]].setColumn(_j,"CODE_NM",_h[3]);this.objects[_h[0]].setColumn(_j,"ALL_CODE_NM",_h[3]);_e.parent.components[_e.next].set_index(0);}return;}_i.setColumn(0,"CODE_LVL_"+(parseInt(_g[5])+1),_e.value);this.gfn_comboLoadNonCodeTbl(_c,_f,_h[0]);}}else{return false;}};this.gfn_moveCheckDataset=function(_c,_d,_e){var _f=_c.binddataset;if(this.comUtils.isNullEmpty(_f)){return;}var _g=this.objects[_f];if(this.comUtils.isNullEmpty(_g)){return;}if(_g.rowcount==0){return;}var _h=_c.getCellProperty("body",0,"text").split("bind:")[1];var _i;if(this.comUtils.isNullEmpty(_e)){_i=_d.rowcount;}else{_i=_e;}for(var _k=_g.rowcount-1;_k>=0; --_k){var _j=_g.getColumn(_k,_h);if(_j.toString()=="1"){_d.insertRow(_i);_d.copyRow(_i,_g,_k);_g.deleteRow(_k);}}};this.gfn_createMapToDataset=function(_c,_d){try{var _e=this.objects[_d];var _f=this.comUtils.isNull(_e);if(_f){_e=new Dataset;_e.set_name(_d);}else{_e.clear();}var _g=this.comUtils.isArray(_c);if(_g){var _h=_c.length;var _i=_h>0?_c[0]:null;if(_i==null){return false;}else{for(var _k in _i){_e.addColumn(_k,"string");}}for(var _l=0;_l<_h;_l++ ){_e.addRow();var _j=_c[_l];for(var _k in _j){_e.setColumn(_l,_k,_j[_k]);}}}else{for(var _k in _c){_e.addColumn(_k,"string");}_e.addRow();for(var _k in _c){_e.setColumn(0,_k,_c[_k]);}}if(_f){this.addChild(_d,_e);}return true;}catch(ex){return false;}};this.gfn_clearDataSet=function(_c){var _d=this.comUtils.isArray(_c);if(_d){var _e=_c.length;for(var _h=0;_h<_e;_h++ ){var _f=_c[_h];this._clearDataSet(_f);}}else{var _g=_c.toString();if(_g=="[object Dataset]"){this._clearDataSet(_c);}}},this._clearDataSet=function(_c){_c.reset();_c.clearData();if(_c.name.substr(0,7).toLowerCase()=="ds_cond"){if(_c.rowcount==0){_c.addRow();}}};this.gfn_datasetToObject=function(_c,_d,_e){var _f="";var _g=null;var _h=null;var _i=null;var _j=this.comUtils.isNullEmpty(_e);if(_j){_e=true;}var _k=_d?_d.viewRow||null:null;var _l=_d?_d.viewCol||null:null;var _m=_d?(_k?false:true):true;var _n=_d?(_l?false:true):true;var _o=_m?false:(this.comUtils.isArray(_k)?true:false);var _p=_n?false:(this.comUtils.isArray(_l)?true:false);var _q=null;var _r=null;var _s=null;if(!_m&&!_o){if(_k.indexOf("expr")== -1){_m=true;}else{_q=_k.replace(/expr:/gi,"");var _t=_q.split("=");_r=_t[0];_s=_t[1];}}if(!_n&&!_p){_n=true;}var _u=_c.getRowCount();var _v=_c.getColCount();var _w=false;if(_e){_g={};_w=_o?(_k.length>1?true:false):(_u>1?true:false);if(_w){_h=[];}}for(var _ai=0;_ai<_u;_ai++ ){if(_o){var _x=false;var _y=_k.length;for(var _aj=0;_aj<_y;_aj++ ){if(_ai==_k[_aj]){_x=true;break;}}if(!_x){continue;}}if(_q!=null){var _z=_c.findRowExpr(_q,_ai,_ai+1);if(_z<0||_z!=_ai){continue;}}if(_e){if(_w){_i={};_i["DS_ROW"]=_ai;}else{_g["DS_ROW"]=_ai;}}else{_f+="ROW "+_ai+" : ";}for(var _ak=0;_ak<_v;_ak++ ){var _aa=_c.getColID(_ak);var _ab=_c.getColumn(_ai,_aa);var _ac=false;if(_n){if(_e){if(_w){_i[_aa]=_ab;}else{_g[_aa]=_ab;}}else{_f+=_aa+"="+_ab;}_ac=true;}else{var _ad=_l.length;for(var _al=0;_al<_ad;_al++ ){var _ae=_l[_al];if(_aa==_ae){if(_e){if(_w){_i[_aa]=_ab;}else{_g[_aa]=_ab;}}else{_f+=_aa+"="+_ab;}_ac=true;break;}}}if(!_e){if(_ak!=_v-1){_f+=_ac?", ":"";}else{var _af=_c.getRowType(_ai);var _ag=this._getDsRowTypeName(_af);_f+=" rowType="+_af+"("+_ag+")\n";}}else{if(_ak==_v-1){var _af=_c.getRowType(_ai);var _ah=this._getDsRowTypeName(_af);if(_w){_i["DS_ROW_TYPE"]=_af;_i["DS_ROW_TYPE_NM"]=_ah;}else{_g["DS_ROW_TYPE"]=_af;_g["DS_ROW_TYPE_NM"]=_ah;}}}}if(_e&&_w){_h.push(_i);}}return _e?(_w?_h:_g):_f;};this._getDsRowTypeName=function(_c){var _d="";switch(_c){case Dataset.ROWTYPE_EMPTY:_d="없음";break;case Dataset.ROWTYPE_NORMAL:_d="초기";break;case Dataset.ROWTYPE_INSERT:_d="추가";break;case Dataset.ROWTYPE_UPDATE:_d="수정";break;case Dataset.ROWTYPE_DELETE:_d="삭제";break;case Dataset.ROWTYPE_GROUP:_d="그룹";break;default:break;}return _d;};this.gfn_setDynamicInDataset=function(_c,_d){var _e=this.comUtils.isArray(_c);var _f=this.comUtils.isNullEmpty(_d)?false:_d;var _g=null;var _h=null;var _i=null;if(_e&&!_f){var _j=_c.length;for(var _l=0;_l<_j;_l++ ){var _k=_c[_l];_g=this.PARAM_DS_NAME+(_l<9?"0"+_l:_l);_i=this.gfn_createMapToDataset(_k,_g);if(_i){if(_h==null){_h="input";}else{_h+=" input";}_h+=(_l+1)+"="+_g;}}}else{_g=this.PARAM_DS_NAME+"00";_i=this.gfn_createMapToDataset(_c,_g);if(_i){_h="input1="+_g;}}return _h;};});this.loadIncludeScript(_a);_b=null;};})();