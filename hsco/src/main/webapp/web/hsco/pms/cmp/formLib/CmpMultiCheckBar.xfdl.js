(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("form_checkArea");this.set_classname("CmpCheckArea");this.set_titletext("멀티 체크 바");this._setFormPosition(0,0,1024,768);}this.style.set_background("transparent");_a=new Dataset("DS_CHECK",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("DS_ORGDATA",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("");this.addChild(_a.name,_a);_a=new Layout("default","",1024,768,this,function(_b){_b.set_classname("CmpCheckArea");_b.set_titletext("멀티 체크 바");_b.style.set_background("transparent");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("CmpMultiCheckBar.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("CmpMultiCheckBar.xfdl",function(){this.widthCnt=0;this.heightCnt=0;this.codeColumn="CODE";this.dataColumn="DATA";this.strCheckId="chk_";this.eventid=null;this.objFunction=null;this.target=null;this.bClear=null;this.checkAllBox=null;this.fn_init=function(_a){this.fn_set_widthCnt(_a);};this.fn_create=function(_a,_b){this.fn_removeAll();this.fn_copy_DS(_a);this.fn_build_checkBoxBar(_b);this.resetScroll();this.fn_add_eventHandler();};this.fn_set_widthCnt=function(_a){this.widthCnt=_a;};this.fn_copy_DS=function(_a){this.DS_CHECK.clear();this.DS_CHECK.appendData(_a);};this.fn_set_DSColumn=function(_a,_b){this.codeColumn=_a;this.dataColumn=_b;};this.fn_set_checkAll=function(_a){this.checkAllBox=_a;this.fn_set_eventHandler("onclick",this.multi_chk_onclick,this,true);this.checkAllBox.addEventHandler("onclick",this.chk_all_onclick,this);};this.fn_make_DSColumn=function(){this.DS_CHECK.addColumn(this.codeColumn,"string",120);this.DS_CHECK.addColumn(this.dataColumn,"string",120);};this.fn_build_checkBoxBar=function(_a){var _b=20;var _c=3;var _d=null;var _e=0;var _f=0;var _g=(this.width-_b-_c)/(this.widthCnt==0?1:this.widthCnt);var _h=20;var _i=Math.ceil(this.DS_CHECK.getRowCount()/this.widthCnt);var _j=this.widthCnt;var _k=this.DS_CHECK.getRowCount();var _l="";var _m="";var _n=0;if(this.checkAllBox!=null){this.checkAllBox.set_value(_a==true?true:false);}for(var _o=0;_o<_i;_o++ ){for(var _p=0;_p<_j;_p++ ){if(_n>=_k){return;}_l=this.strCheckId+this.DS_CHECK.getColumn(_n,this.codeColumn);_m=this.DS_CHECK.getColumn(_n,this.dataColumn);_e=_p*_g+_c;_f=_o*_h;this.fn_create_checkbox(_l,_e,_f,_g,_h,_m,_a);_n++ ;}}};this.fn_create_checkbox=function(_a,_b,_c,_d,_e,_f,_g){var _h=new CheckBox();_h.init(_a,"absolute",_b,_c,_d,_e,null,null);this.addChild(_a,_h);_h.show();_h.set_text(_f);_h.set_tooltiptext(_f);_h.set_value(_g==true?true:false);};this.fn_checkAll=function(_a){var _b=this.DS_CHECK.getRowCount();var _c="";for(var _d=0;_d<_b;_d++ ){_c=this.fn_get_checkBoxId(_d);this[_c].set_value(_a);}};this.fn_isAllCheck=function(){var _a=this.DS_CHECK.getRowCount();for(var _b=0;_b<_a;_b++ ){id=this.fn_get_checkBoxId(_b);if(this[id].value==false){return false;}}return true;};this.fn_set_eventHandler=function(_a,_b,_c,_d){this.eventid=_a;this.objFunction=_b;this.target=_c;this.bClear=_d;};this.fn_add_eventHandler=function(){var _a=this.DS_CHECK.getRowCount();var _b="";for(var _c=0;_c<_a;_c++ ){_b=this.fn_get_checkBoxId(_c);if(this.bClear==true){this[_b].clearEventHandler(this.eventid);}this[_b].addEventHandler(this.eventid,this.objFunction,this.target);}};this.fn_removeAll=function(){var _a=this.DS_CHECK.getRowCount();var _b="";for(var _c=0;_c<_a;_c++ ){_b=this.fn_get_checkBoxId(_c);this.removeChild(_b);}};this.fn_set_checkBoxId=function(_a){this.strCheckId+=_a;};this.fn_get_checkBoxId=function(_a){return this.strCheckId+this.DS_CHECK.getColumn(_a,this.codeColumn);};this.fn_get_value=function(_a){var _b=_a?_a:false;var _c=[];var _d=this.DS_CHECK.getRowCount();var _e="";for(var _h=0;_h<_d;_h++ ){_e=this.fn_get_checkBoxId(_h);if(this[_e].value==true){var _f=this.DS_CHECK.getColumn(_h,this.codeColumn);var _g=_b?_f:_f;_c.push(_g);}}return _a?_c:_c.toString();};this.fn_get_valueStr=function(){var _a=this.fn_get_value(true);return _a.toString();};this.multi_chk_onclick=function(_a,_b){this.checkAllBox.set_value(this.fn_isAllCheck());};this.chk_all_onclick=function(_a,_b){this.fn_checkAll(_a.value);};});this.on_initEvent=function(){};this.loadIncludeScript("CmpMultiCheckBar.xfdl");};})();