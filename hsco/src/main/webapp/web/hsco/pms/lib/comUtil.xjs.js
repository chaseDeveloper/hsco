(function(){return function(_a){var _b;this.registerScript(_a,function(){this.checkDs=[];this.fn_init=function(_c){this.gfn_initForm(this);this.fn_init_allGrid(this);this.fn_init_search();if(_c!==true){this.fn_init_enterKeyEvent(this);}this.addEventHandler("onload",this._fn_form_onload,this);this.fn_add_datasetFn();};this._fn_form_onload=function(_b,_c){this.fn_init_focus();};this.fn_init_search=function(){div=this.div_search;if(div==null){return;}var _c=div.components.length;for(var _e=0;_e<_c;_e++ ){var _d=div.components.get_item(_e);switch(_d.toString()){case "[object Combo]":_d.set_type("filter");break;case "[object Edit]":case "[object MaskEdit]":case "[object TextArea]":_d.addEventHandler("onkeydown",this._fn_searchEditOnkeydownHandler,this);break;}}};this._fn_searchEditOnkeydownHandler=function(_b,_c){if(_c.keycode==13){if(this.fn_Search!=null){this.fn_Search();}else if(this.fn_search!=null){this.fn_search();}else if(this.btn_search_onclick!=null){this.btn_search_onclick();}else if(this.btn_Search_onclick!=null){this.btn_Search_onclick();}}};this.fn_init_enterKeyEvent=function(_c){if(_c==null){return;}var _d=_c.components.length;for(var _f=0;_f<_d;_f++ ){var _e=_c.components.get_item(_f);switch(_e.toString()){case "[object Edit]":case "[object MaskEdit]":case "[object Spin]":case "[object Calendar]":case "[object Combo]":case "[object Radio]":_e.addEventHandler("onkeyup",this._fn_focusOnkeydownHandler,this);break;case "[object Div]":case "[object Tab]":case "[object Tabpage]":this.fn_init_enterKeyEvent(_e);break;}}};this._fn_focusOnkeydownHandler=function(_b,_c){if(_c.keycode==13){if(this._fn_focus_nextComp(_b)==false){firstComponent=_b.parent.getFirstComponent();if(firstComponent!=null){firstComponent.setFocus();}}}};this._fn_focus_nextComp=function(_b){var _c=this.getNextComponent(_b);var _d=_c;var _e=0;var _f=200;while(_e<_f){switch(_d.toString()){case "[object Edit]":case "[object MaskEdit]":case "[object TextArea]":case "[object Spin]":case "[object Calendar]":case "[object Combo]":case "[object Radio]":if(_d.readonly==true||_d.visible==false||_d.enable==false){break;}_d.setFocus();return true;case "[object Form]":case "[object Div]":case "[object Tab]":case "[object Div]":break;}_d=this.getNextComponent(_d);if(_c==_d){break;}_e++ ;}return false;};this.fn_init_focus=function(){var _c=this.getFirstComponent();if(_c!=null){this.debug("fn_init_focus:"+_c.name);_c.setFocus();}};this.fn_boolean=function(_c){if(_c==='Y'||_c==='y'||_c==='1'||_c===1){return true;}else if(_c==='N'||_c==='n'||_c==='0'||_c===0){return false;}return Boolean(_c);};this.nvl=function(_c,_d){if(this.comUtils.isNullEmpty(_c)){return _d;}return _c;};this.fn_numToHangul=function(_c){var _d=['','일','이','삼','사','오','육','칠','팔','구'];var _e=['','십','백','천'];var _f=['','만','억','조','경'];var _g=_c.toString();var _h=_g.split('').reverse();var _i=_h.length;var _j=[];for(var _n=0;_n<_i;_n++ ){if(_n%4==0){_j.push(_f[_n/4]);}var _k=Number(_h[_n]);var _l=_d[_k];if(_k>0){_l+=_e[_n%4];}_j.push(_l);}var _m=_j.reverse().toString().replace(/,/g,'');this.debug("fn_numToHangul "+_c+" : "+_m,true);return _m;};this.fn_get_yyyymmdd=function(_c){var _d=_c.getFullYear().toString();var _e=(_c.getMonth()+1).toString();var _f=_c.getDate().toString();return _d+(_e[1]?_e:"0"+_e[0])+(_f[1]?_f:"0"+_f[0]);};this.fn_get_date=function(_c,_d){var _e=Number(_c.substring(0,4));var _f=Number(_c.substring(4,6))-1;var _g=Number(_c.substring(6,8))+(_d==null?0:_d);return new Date(_e,_f,_g);};this.fn_last_yyyymmdd=function(_c,_d){if(_c instanceof Date){_c=this.fn_get_yyyymmdd(_c);}if(_d==null){_d=0;}var _e=Number(_c.substring(0,4));var _f=Number(_c.substring(4,6))+_d;return this.fn_get_yyyymmdd(new Date(_e,_f,0));};this.fn_first_yyyymmdd=function(_c,_d){if(_c instanceof Date){_c=this.fn_get_yyyymmdd(_c);}if(_d==null){_d=0;}var _e=Number(_c.substring(0,4));var _f=Number(_c.substring(4,6))+_d;return this.fn_get_yyyymmdd(new Date(_e,_f-1,1));};this.alert=function(_c,_d){var _e=this._findMessage(_c);if(this.comUtils.isNullEmpty(_e)){_d=_c;_c=null;}this.gfn_message(_c,_d);};this.confirm=function(_c,_d,_e){var _f=false;var _g=this.comUtils.isNullEmpty(_c)?null:this._findMessage(_c);if(this.comUtils.isNullEmpty(_g)){switch(_c){case "C":case "c":_c="comm.행위여부";_d="취소";break;case "S":case "s":_c="confirm.저장.여부";break;case "D":case "d":_c="confirm.삭제여부";break;}_g=this.comUtils.isNullEmpty(_c)?null:this._findMessage(_c);if(this.comUtils.isNullEmpty(_g)){_g=_c;}}if(!this.comUtils.isNullEmpty(_d)){if(this.comUtils.isNullEmpty(_g)){_g=_d;}else{var _h=_d.split("|");for(var _i=0;_i<_h.length;_i++ ){_g=_g.replace("{"+_i+"}",_h[_i]);}}}_g=_g.replace(/\\\\n/g,"\n");if(_e==null){var _f=confirm(_g);return _f;}else{this._msgPop("C","Q",_g,null,"confirm_pop",_e);}};this.fn_callback_message=function(_c,_d,_e){var _f=_d==0?true:false;if(_f==true){this.fn_auto_gridAlign(_c,_d);switch(_e){case "success.처리성공":case "success.정상등록":case "success.정상삭제":case "success.정상수정":var _g=this._findMessage(_e);this.alert(_g);break;}}else{this.gfn_callback_message(_c,_d,_e);}};this.fn_checkUpdate=function(_c,_d,_e){var _f=_c.rowcount;var _e=this.comUtils.isNullEmpty(_e)?true:_e;if(_e&&_c.getDeletedRowCount()>0){return true;}for(var _g=0;_g<_f;_g++ ){if(this.comUtils.isNullEmpty(_d)==false){if(_g==_d&&_c.getRowType(_g)==Dataset.ROWTYPE_INSERT){continue;}}if(_c.getRowType(_g)==Dataset.ROWTYPE_INSERT||_c.getRowType(_g)==Dataset.ROWTYPE_UPDATE||_c.getRowType(_g)==Dataset.ROWTYPE_DELETE){return true;}}return false;};this.fn_fractionalToPer=function(_c){if(_c.indexOf('/')== -1){return 0;}var _d=Number(_c.split('/')[0]);var _e=Number(_c.split('/')[1]);return _d/_e*100;};this.fn_perToFractional=function(_c){var _d=_c;var _e=100;for(var _f=10;_f>0;_f-- ){if(_d%_f!=0){continue;}if(_e%_f!=0){continue;}_d=_d/_f;_e=_e/_f;}return _d+'/'+_e;};});this.loadIncludeScript(_a);_b=null;};})();