(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("SLS020205_P01");this.set_classname("SLS020205_P01");this.set_titletext("동호분양금액일괄등록");this._setFormPosition(0,0,960,464);}_a=new Dataset("ds_cond00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"IN_HOUSE_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"IN_SUPLY_AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"IN_KJF\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"IN_DONG\" type=\"STRING\" size=\"256\"/><Column id=\"IN_HO\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_house_ty",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"TY_AEA\" type=\"STRING\" size=\"10\"/><Column id=\"DONG\" type=\"STRING\" size=\"10\"/><Column id=\"HO\" type=\"STRING\" size=\"10\"/><Column id=\"HOUSE_DRC\" type=\"STRING\" size=\"2\"/><Column id=\"TY_FLOOR_BEGIN\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"TY_FLOOR_END\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"AEA\" type=\"STRING\" size=\"10\"/><Column id=\"ROOM_CO\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_STLE\" type=\"STRING\" size=\"3\"/><Column id=\"SUPLY_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"VAT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"INHBTNT_BILDNG_CT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"INHBTNT_VAT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"RNTCHRG\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"KJF\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"FINANC_LMT_AMOUNT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"PLOT_CT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"BILDNG_CT\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_DVR_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_CMNUSE_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_LTTOT_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_CNTRCT_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_LEGAL_EXCESS\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_BILDNG_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_ETC_CMNUSE\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_PLOT_QOTA\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"RM\" type=\"STRING\" size=\"200\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"DATE\" size=\"7\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"DATE\" size=\"7\"/><Column id=\"HOUSE_CODE\" type=\"STRING\" size=\"4\"/><Column id=\"HOUSE_TY_CODE\" type=\"STRING\" size=\"12\"/><Column id=\"HOUSE_TY_NM\" type=\"STRING\" size=\"30\"/><Column id=\"LTTOT_TY_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_excel",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_house_ty00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"TY_AEA\" type=\"STRING\" size=\"10\"/><Column id=\"DONG\" type=\"STRING\" size=\"10\"/><Column id=\"HO\" type=\"STRING\" size=\"10\"/><Column id=\"AEA\" type=\"STRING\" size=\"10\"/><Column id=\"HOUSE_DVR_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_CMNUSE_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_LTTOT_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_CNTRCT_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_BILDNG_AR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_ETC_CMNUSE\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_PLOT_QOTA\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"HOUSE_CODE\" type=\"STRING\" size=\"4\"/><Column id=\"HOUSE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmbHouseCodeList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"HOUSE_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_HOUSE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_SE\" type=\"STRING\" size=\"256\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond01",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"HOUSE_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_loadFile",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"LTTOT_TY_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DONG\" type=\"STRING\" size=\"256\"/><Column id=\"HO\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_DVR_AR\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_CMNUSE_AR\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_PLOT_QOTA\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_ETC_CMNUSE\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_CNTRCT_AR\" type=\"STRING\" size=\"256\"/><Column id=\"AEA\" type=\"STRING\" size=\"256\"/><Column id=\"KJF\" type=\"STRING\" size=\"256\"/><Column id=\"LTTOT_AMOUNT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","2","2","496","34",null,null,this);_a.set_taborder("5");_a.set_text("Popup Title");_a.set_cssclass("sta_WF_PopupTitle");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","0","0",null,null,"0","0",this);_a.set_taborder("6");_a.set_cssclass("sta_WF_PopupBg");this.addChild(_a.name,_a);_a=new Static("sta_title","absolute","17","53","197","21",null,null,this);_a.set_taborder("15");_a.set_text("일괄등록");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Button("btn_save","absolute",null,"51","50","25","70",null,this);_a.set_taborder("19");_a.set_text("저장");_a.set_cssclass("btn_WF_CRUD");_a.set_visible("true");this.addChild(_a.name,_a);_a=new Button("Button02","absolute",null,"51","50","25","17",null,this);_a.set_taborder("20");_a.set_text("종료");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","17","81",null,"33","17",null,this);_a.set_taborder("21");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static16","absolute","15","5","64","21",null,null,this.div_search);_a.set_taborder("12");_a.set_text("주택코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Button("Button01","absolute","672","5","118","21",null,null,this.div_search);_a.set_taborder("14");_a.set_text("파일읽기");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_houseCodeSh","absolute","84","5","222","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("15");_a.set_autoselect("true");_a.set_innerdataset("@ds_cmbHouseCodeList");_a.set_codecolumn("HOUSE_CODE");_a.set_datacolumn("ALL_HOUSE_NM");_a.set_type("filter");_a.set_cssclass("cmb_WF_Essential");_a=new Button("Button00","absolute","86.69%","5",null,"21","0.65%",null,this.div_search);_a.set_taborder("16");_a.set_text("양식다운");this.div_search.addChild(_a.name,_a);_a=new Div("Div01","absolute","17","124",null,"328","0",null,this);_a.set_taborder("22");this.addChild(_a.name,_a);_a=new Grid("grd_excel","absolute","3","4",null,null,"17","9",this.Div01);_a.set_taborder("0");_a.set_autofittype("col");_a.set_binddataset("ds_cond00");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell style=\"font:Verdana,9,bold;\" text=\"동\" wordwrap=\"none\"/><Cell col=\"1\" style=\"font:Verdana,9,bold;\" text=\"호\" wordwrap=\"none\"/><Cell col=\"2\" text=\"국민주택기금\"/><Cell col=\"3\" style=\"font:Verdana,9,bold;\" text=\"분양금액\" wordwrap=\"none\"/></Band><Band id=\"body\"><Cell text=\"bind:IN_DONG\"/><Cell col=\"1\" text=\"bind:IN_HO\"/><Cell col=\"2\" displaytype=\"number\" text=\"bind:IN_KJF\" mask=\"#,###\"/><Cell col=\"3\" displaytype=\"number\" text=\"bind:IN_SUPLY_AMOUNT\" mask=\"#,###\"/></Band><Band id=\"summary\"><Cell displaytype=\"number\" text=\"expr:dataset.getRowCount()\" mask=\"expr:dataset.getRowCount() == 0  ? &quot;건수 : 0&quot;  : '건수 : #,###'\"/><Cell col=\"1\"/><Cell col=\"2\" displaytype=\"number\" text=\"expr:dataset.getSum('IN_KJF')\"/><Cell col=\"3\" displaytype=\"number\" text=\"expr:dataset.getSum('IN_SUPLY_AMOUNT')\"/></Band></Format></Formats>");this.Div01.addChild(_a.name,_a);_a=new Static("Static09","absolute","2","2",null,"34","0",null,this);_a.set_taborder("25");_a.set_text("동호분양금일괄등록-분양전환");_a.set_cssclass("sta_WF_PopupTitle");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("21");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",0,328,this.Div01,function(_b){_b.set_taborder("22");});this.Div01.addLayout(_a.name,_a);_a=new Layout("default","",960,464,this,function(_b){_b.set_classname("SLS020205_P01");_b.set_titletext("동호분양금액일괄등록");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("SLS020205_P01.xfdl","lib::comInclude.xjs");this.addIncludeScript("SLS020205_P01.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("SLS020205_P01.xfdl",function(){this.HOUSE_SE="S2";this.SLS020205_P01_oninit=function(_a,_b){this.fn_init();this.fn_init_form();this.fn_init_dataset();};this.SLS020205_P01_onload=function(_a,_b){this.fn_loadCombo();};this.fn_init_form=function(){this.gfn_initForm(this);};this.fn_init_dataset=function(){};this.fn_loadCombo=function(){var _a={};_a["HOUSE_SE"]=this.HOUSE_SE;_a["USE_AT"]="1";this.pmsUtil.getHouseCode(_a,"ds_cmbHouseCodeList","callback");};this.callback=function(){this.div_search.cmb_houseCodeSh.set_value(this.parent.houseCode);};this.fn_transaction=function(_a){switch(_a){case "houseTypeCodeList":var _b="hsco/pms/sls/hou/ctr/SLS020205/houseTypeCodeList.do";var _c="input1=ds_cond01";var _d="ds_house_ty=output1";break;case "houseTypeCodeExelList":var _b="hsco/pms/sls/hou/ctr/SLS020205/houseTypeCodeExelList.do";var _c="input1=ds_cond01";var _d="ds_cond00=output1";break;case "houseTypeCodeSP":trace("33333333333333");var _b="hsco/pms/sls/hou/ctr/SLS020205/houseTypeCodeSP.do";var _c="input1=ds_cond00";var _d="";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_a=="houseTypeCodeList"){}if(_a=="houseTypeCodeExelList"){trace("############# export callback ##############");this.gfn_exportExcel(this.Div01.grd_excel,"exceldown");}if(_a=="houseTypeCodeSP"){alert("처리완료");}if(_b==0){return;}this.gfn_callback_message(_a,_b,_c);};this.Button02_onclick=function(_a,_b){this.close();};this.Button50_onclick=function(_a,_b){this.close();};this.Div00_Button00_onclick=function(_a,_b){if(this.div_search.cmb_houseCodeSh.value==null){alert("주택코드를 선택하세요.");return;}this.ds_cond01.clearData();var _c=this.ds_cond01.addRow();this.ds_cond01.setColumn(_c,"HOUSE_CODE",this.div_search.cmb_houseCodeSh.value);this.fn_transaction("houseTypeCodeExelList");};this.Div00_Button01_onclick=function(_a,_b){if(this.div_search.cmb_houseCodeSh.value==null){alert("주택코드를 선택하세요.");return;}this.fn_importExcel(this.ds_excel,this.Div01.grd_excel,1);};this.fn_finish_importExcel=function(){trace("fn_finish_importExcel() started ....");var _a=this.ds_cond00.rowcount;var _b=this.div_search.cmb_houseCodeSh.value;for(var _c=0;_c<_a;_c++ ){trace("index : "+_c+" : "+_b);this.ds_cond00.setColumn(_c,"IN_HOUSE_CODE",_b);}};this.Button01_onclick=function(_a,_b){this.close();};this.btn_save_onclick=function(_a,_b){this.fn_transaction("houseTypeCodeSP");};});this.on_initEvent=function(){this.ds_excel.addEventHandler("onrowposchanged",this.DS_TBRNT_APPLCNT_onrowposchanged,this);this.addEventHandler("oninit",this.SLS020205_P01_oninit,this);this.addEventHandler("onload",this.SLS020205_P01_onload,this);this.btn_save.addEventHandler("onclick",this.btn_save_onclick,this);this.Button02.addEventHandler("onclick",this.Button02_onclick,this);this.div_search.Button01.addEventHandler("onclick",this.Div00_Button01_onclick,this);this.div_search.cmb_houseCodeSh.addEventHandler("onitemchanged",this.fn_comboOnItemChangeHandler,this);this.div_search.Button00.addEventHandler("onclick",this.Div00_Button00_onclick,this);};this.loadIncludeScript("SLS020205_P01.xfdl");};})();