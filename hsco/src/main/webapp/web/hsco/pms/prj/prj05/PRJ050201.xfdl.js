(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ050201");this.set_classname("PRJ050201");this.set_titletext("PRJ050201_공사감독원등록관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond1",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"255\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CTR_GB\" type=\"BIGDECIMAL\" size=\"11\"/><Column id=\"partcptnSe\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_HRM021",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" size=\"256\"/><Column id=\"CODE_NM\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_HRM237",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" size=\"256\"/><Column id=\"CODE_NM\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ017",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" size=\"1\"/><Column id=\"CODE_NM\" size=\"32\"/></ColumnInfo><Rows><Row><Col id=\"CODE\"/><Col id=\"CODE_NM\">전체</Col></Row><Row><Col id=\"CODE\">1</Col><Col id=\"CODE_NM\">공사</Col></Row><Row><Col id=\"CODE\">2</Col><Col id=\"CODE_NM\">용역</Col></Row><Row><Col id=\"CODE\">3</Col><Col id=\"CODE_NM\">기타</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\"/><Col id=\"colId\"/><Col id=\"notNull\"/><Col id=\"msgId\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_BSNS",this);_a.set_useclientlayout("0");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"string\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_ALL_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"3\"/><Column id=\"RM\" type=\"string\" size=\"200\"/><Column id=\"STRWRK_DE\" type=\"string\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"8\"/><Column id=\"BSNS_CONFM_DE\" type=\"string\" size=\"8\"/><Column id=\"MVN_DE\" type=\"string\" size=\"8\"/><Column id=\"RN\" type=\"string\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctr",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctrDtl",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_1",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"5\"/><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"SN\" type=\"BIGDECIMAL\" size=\"11\"/><Column id=\"MNG_SN\" type=\"BIGDECIMAL\" size=\"11\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"8\"/><Column id=\"LGTFF_DE\" type=\"STRING\" size=\"8\"/><Column id=\"TCHNLGY_REALM\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"200\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"WORK_DEPT\" type=\"STRING\" size=\"100\"/><Column id=\"HR_CLSF_SE\" type=\"STRING\" size=\"100\"/><Column id=\"OFCPS\" type=\"STRING\" size=\"100\"/><Column id=\"PARTCPTN_SE\" type=\"STRING\" size=\"256\"/><Column id=\"PARTCPTN_BGNDE\" type=\"STRING\" size=\"256\"/><Column id=\"PARTCPTN_ENDDE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sanction",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"STRING\" size=\"256\"/><Column id=\"ADRES\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"256\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"256\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"256\"/><Column id=\"DTLS\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_approve",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DATA_VALUE\" type=\"STRING\" size=\"1000\"/><Column id=\"DATA_TITLE\" type=\"STRING\" size=\"256\"/><Column id=\"O_URL\" type=\"STRING\" size=\"256\"/><Column id=\"I_KEY\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"SEQ\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CD\" type=\"STRING\" size=\"256\"/><Column id=\"EMP_CD\" type=\"STRING\" size=\"256\"/><Column id=\"TITLE\" type=\"STRING\" size=\"256\"/><Column id=\"SANCTION_DIV\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_text("28");_a.set_visible("0");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_work","absolute","0","33",null,null,"28","0",this);_a.set_taborder("3");this.addChild(_a.name,_a);_a=new Div("div_3","absolute","0","234",null,null,"0","0",this.div_work);_a.set_taborder("4");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","128","19",null,null,this.div_work.div_3);_a.set_text("계약별공사감독원");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_3.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","34",null,null,"0","0",this.div_work.div_3);_a.set_taborder("1");_a.set_binddataset("ds_1");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"40\"/><Column size=\"115\"/><Column size=\"120\"/><Column size=\"60\"/><Column size=\"70\"/><Column size=\"20\"/><Column size=\"115\"/><Column size=\"19\"/><Column size=\"115\"/><Column size=\"120\"/><Column size=\"150\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"순번\"/><Cell col=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"수명일자\"/><Cell col=\"3\" text=\"부서\"/><Cell col=\"4\" text=\"직급\"/><Cell col=\"5\" colspan=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"성명\"/><Cell col=\"7\" colspan=\"3\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"참여기간\"/><Cell col=\"10\" text=\"분야\"/><Cell col=\"11\" text=\"비고\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" text=\"bind:SN\"/><Cell col=\"2\" displaytype=\"date\" edittype=\"date\" style=\"align:center;\" text=\"bind:LGTFF_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"3\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:DEPT_NM\"/><Cell col=\"4\" displaytype=\"combo\" text=\"bind:HR_CLSF_SE\" combodataset=\"ds_HRM237\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"5\" style=\"align:left;line:1 solid #efececff,0 none #e0e0e0ff;selectline:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:EMPNM\"/><Cell col=\"6\" displaytype=\"image\" style=\"selectline: ;\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/><Cell col=\"7\" displaytype=\"date\" edittype=\"date\" style=\"align:center;line:1 solid #efececff,0 none #e0e0e0ff;selectline:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:PARTCPTN_BGNDE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"8\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;selectline:1 solid #efececff,0 none #e0e0e0ff;\" text=\"~\"/><Cell col=\"9\" displaytype=\"date\" edittype=\"date\" style=\"align:center;\" text=\"bind:PARTCPTN_ENDDE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"10\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:TCHNLGY_REALM\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\"/><Cell col=\"11\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:RM\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\" tooltiptext=\"bind:RM\"/></Band></Format></Formats>");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_11","absolute",null,"10","64","19","67",null,this.div_work.div_3);_a.set_taborder("1");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_12","absolute",null,"10","64","19","0",null,this.div_work.div_3);_a.set_taborder("2");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work.div_3);_a.set_taborder("3");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work.div_3);_a.set_taborder("4");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_3.addChild(_a.name,_a);_a=new CheckBox("chk_01","absolute","128","10","150","21",null,null,this.div_work.div_3);_a.set_taborder("5");_a.set_text("참여중인 감독원만 표시");_a.set_value("1");_a.set_truevalue("1");_a.set_falsevalue("0");_a.style.set_font("9 Gulim");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","200","19",null,null,this.div_work);_a.set_taborder("5");_a.set_text("계약목록(공사)");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work);_a.set_taborder("6");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work);_a.set_taborder("7");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_ctr","absolute","0","34",null,"200","210",null,this.div_work);_a.set_taborder("8");_a.set_binddataset("ds_ctr");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"100\"/><Column size=\"0\"/><Column size=\"150\"/><Column size=\"90\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"0\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"18\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"계약번호\"/><Cell col=\"1\" rowspan=\"2\" text=\"계약구분\"/><Cell col=\"2\" rowspan=\"2\" text=\"계약명\"/><Cell col=\"3\" rowspan=\"2\" text=\"계약금액\"/><Cell col=\"4\" rowspan=\"2\" text=\"계약일자\"/><Cell col=\"5\" colspan=\"2\" text=\"공사계획기간\"/><Cell col=\"7\" rowspan=\"2\" text=\"첨부파일명\"/><Cell row=\"1\" col=\"5\" text=\"착공일자\"/><Cell row=\"1\" col=\"6\" text=\"준공일자\"/></Band><Band id=\"body\"><Cell text=\"bind:CNTRCT_NO\"/><Cell col=\"1\" displaytype=\"combo\" combodataset=\"ds_PRJ017\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"2\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:CNTRCT_NM\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:TOT_CNTRCT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"4\" displaytype=\"date\" text=\"bind:CNTRCT_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" displaytype=\"date\" text=\"bind:STRWRK_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"6\" displaytype=\"date\" text=\"bind:COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"7\"/></Band><Band id=\"summary\"><Cell colspan=\"3\" style=\"align:center;line:1 solid #ffd8cdff,0 none #e0e0e0ff;selectline:1 solid #FFD8CD,0 none #e0e0e0ff;\" text=\"합계\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(TOT_CNTRCT_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"4\" colspan=\"4\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Div("div_00","absolute",null,"-1","200","235","0",null,this.div_work);_a.set_taborder("9");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","14","126","19",null,null,this.div_work.div_00);_a.set_taborder("30");_a.set_text("수급자");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work.div_00);_a.set_taborder("31");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work.div_00);_a.set_taborder("32");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Grid("grd_ctrDtl","absolute","0","35",null,null,"0","0",this.div_work.div_00);_a.set_taborder("33");_a.set_binddataset("ds_ctrDtl");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"150\"/><Column size=\"60\"/></Columns><Rows><Row size=\"36\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"업체명\"/><Cell col=\"1\" text=\"대표자\"/></Band><Band id=\"body\"><Cell style=\"align:left;padding:0 5 0 5;\" text=\"bind:BCNC_NM\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:RPRSNTV\"/></Band></Format></Formats>");this.div_work.div_00.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("7");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Combo("cmb_bsns_code","absolute","79","5","350","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("0");_a.set_innerdataset("ds_BSNS");_a.set_codecolumn("BSNS_CODE");_a.set_datacolumn("BSNS_NM");_a.set_displayrowcount("15");_a.set_cssclass("cmb_WF_Essential");_a=new Static("sta_CL_SE","absolute","15","6","59","20",null,null,this.div_search);_a.set_taborder("1");_a.set_text("사업코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("sta_CL_SE00","absolute","455","6","59","20",null,null,this.div_search);_a.set_taborder("2");_a.set_text("계약구분");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("false");this.div_search.addChild(_a.name,_a);_a=new Radio("rdo_cntrct_se","absolute","522","6","202","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("3");_a.set_rowcount("1");_a.set_innerdataset("@ds_PRJ017");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_value("1");_a.set_visible("false");_a.set_index("1");_a=new Div("div_sanction","absolute",null,"0","189","83","-205",null,this);_a.set_taborder("8");_a.set_cssclass("div_WF_Calendar");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_sanction","absolute","39",null,"60","21",null,"17",this.div_sanction);_a.set_taborder("79");_a.set_text("전자결재");this.div_sanction.addChild(_a.name,_a);_a=new Button("btn_sanctionCancel","absolute","102",null,"40","21",null,"17",this.div_sanction);_a.set_taborder("80");_a.set_text("취소");this.div_sanction.addChild(_a.name,_a);_a=new Radio("Radio00","absolute","9.09%","13",null,"21","34.76%",null,this.div_sanction);this.div_sanction.addChild(_a.name,_a);var _b=new Dataset("Radio00_innerdataset",this.div_sanction.Radio00);_b._setContents("<ColumnInfo><Column id=\"codecolumn\" size=\"256\"/><Column id=\"datacolumn\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"codecolumn\">1</Col><Col id=\"datacolumn\">감독명령부</Col></Row></Rows>");_a.set_innerdataset(_b);_a.set_taborder("81");_a.set_codecolumn("codecolumn");_a.set_datacolumn("datacolumn");_a.set_value("1");_a.set_cssclass("rdo_WF_Essential");_a.set_index("0");_a=new Layout("default","",0,0,this.div_work.div_3,function(_c){_c.set_taborder("4");});this.div_work.div_3.addLayout(_a.name,_a);_a=new Layout("default","",200,235,this.div_work.div_00,function(_c){_c.set_taborder("9");});this.div_work.div_00.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work,function(_c){_c.set_taborder("3");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_c){_c.set_taborder("7");_c.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",189,83,this.div_sanction,function(_c){_c.set_taborder("8");_c.set_cssclass("div_WF_Calendar");_c.set_visible("false");});this.div_sanction.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_c){_c.set_classname("PRJ050201");_c.set_titletext("PRJ050201_공사감독원등록관리");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("PRJ050201.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("PRJ050201.xfdl",function(){this.PRJ050201_oninit=function(_a,_b){this.fn_init();this.fn_init_dataset();};this.PRJ050201_onload=function(_a,_b){this.fn_loadCombo();};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);this.checkDs.push(this.ds_1);};this.fn_loadCombo=function(){var _a=[['ds_HRM021','HRM021',1,''],['ds_HRM237','HRM237',1,''],['ds_PRJ017','PRJ017',1,'전체']];var _b=null;this.gfn_comboLoad(_a,_b);this.fn_fill_combo(this.div_search.cmb_bsns_code,"hsco/pms/prj/bsnsCdList.do","선택",null);};this.fn_search=function(){var _a=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_a==''){this.alert("사업코드를 선택하세요.");return;}this.ds_cond1.setColumn(0,"BSNS_CODE",_a);this.ds_cond1.setColumn(0,"CTR_GB",this.div_search.rdo_cntrct_se.value);this.ds_ctr.clearData();this.ds_ctrDtl.clearData();this.ds_1.clearData();this.fn_transaction("ctrList");};this.fn_save=function(){if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("save");}};this.fn_sanction=function(){if(!this.div_sanction.visible){this.div_sanction.set_right(136);this.div_sanction.set_visible(true);}else{this.div_sanction.set_visible(false);}};this.div_sanction_btn_sanction_onclick=function(_a,_b){if(this.ds_1.findRow('CHK','1')<0){return;}var _c=['EMPNO','LGTFF_DE','PARTCPTN_BGNDE','PARTCPTN_ENDDE','TCHNLGY_REALM','RM'];var _d=this.ds_1.rowcount;var _e=false;if(this.ds_1.getDeletedRowCount()>0){_e=true;}if(this.ds_1.findRowExpr("dataset.getRowType(rowidx)==2||dataset.getRowType(rowidx)==8")> -1){_e=true;}for(var _f=0;_f<_d;_f++ ){for(var _g=0;_g<_c.length;_g++ ){if(this.ds_1.getColumn(_f,_c[_g])!=this.ds_1.getOrgColumn(_f,_c[_g])){_e=true;break;}}}if(_e){alert("변경된 내역이 존재합니다.\n현재 작업을 저장 후 진행하시기 바랍니다.");return;}this.fn_transaction('sanction');};this.div_sanction_btn_sanctionCancel_onclick=function(_a,_b){this.div_sanction.set_visible(false);};this.executSanction=function(){var _a=this.ds_1.rowcount;var _b={};var _c=[];var _d=[];for(var _ab=0;_ab<this.ds_HRM237.rowcount;_ab++ ){_b[this.ds_HRM237.getColumn(_ab,"CODE")]=this.ds_HRM237.getColumn(_ab,"CODE_NM");}for(_ab=0;_ab<_a;_ab++ ){if(this.ds_1.getColumn(_ab,"CHK")=='1'&&this.ds_1.getColumn(_ab,"PARTCPTN_SE")=='1'){var _e=this.ds_1.getColumn(_ab,"RM")||'';var _f=this.ds_1.getColumn(_ab,"EMPNO")||'';if(_e.trim()){_d.push(this.ds_1.getColumn(_ab,"RM").trim());}if(_f.trim()){var _g=this.ds_1.getColumn(_ab,"DEPT_NM");var _h=_b[this.ds_1.getColumn(_ab,"HR_CLSF_SE")];var _i=this.ds_1.getColumn(_ab,"EMPNM");_c.push(_g+"  "+_h+"  "+_i);}}}console.log("======================================");console.log("============ 결재 데이터 ============");console.log(this.ds_sanction.saveXML());console.log("수명자 : \n"+_c.join("\n"));console.log("비고 : \n"+_d.join("\n"));var _j="";for(var _ab=0;_ab<this.ds_ctrDtl.getRowCount();_ab++ ){if(_ab==0){_j=this.ds_ctrDtl.getColumn(_ab,"BCNC_NM");}else{_j=_j+", "+this.ds_ctrDtl.getColumn(_ab,"BCNC_NM");}}var _k=this.ds_sanction.getColumn(this.ds_sanction.rowposition,"TOT_CNTRCT_AMOUNT");var _l=this.fn_numToHangul(_k);var _m=this.ds_sanction.getColumn(this.ds_sanction.rowposition,"ADRES");var _n=this.ds_sanction.getColumn(this.ds_sanction.rowposition,"CNTRCT_DE");var _o=this.ds_sanction.getColumn(this.ds_sanction.rowposition,"STRWRK_DE");var _p=this.ds_sanction.getColumn(this.ds_sanction.rowposition,"COMPET_DE");var _q=_c.join("\r");var _e=_d.join("\r");var _r=this.ds_BSNS.lookup("BSNS_CODE",this.ds_cond1.getColumn(0,"BSNS_CODE","BSNS_NM"));var _s=new Array(10);_s[0]=this.comUtils.formatComma(_k);_s[1]=_l;_s[2]=_j;_s[3]=_m;_s[4]=_n.substring(0,4)+"년 "+_n.substring(4,6)+"월 "+_n.substring(6,8)+"일";_s[5]=_o.substring(0,4)+"년 "+_o.substring(4,6)+"월 "+_o.substring(6,8)+"일";_s[6]=_p.substring(0,4)+"년 "+_p.substring(4,6)+"월 "+_p.substring(6,8)+"일";_s[7]=_q;_s[8]=_e;var _t=_s.join("|");var _u=this.ds_sanction.getColumn(this.ds_sanction.rowposition,"CNTRCT_NM");var _v=_r+" "+_u+" 감독명령부";this.ds_approve.clearData();this.ds_approve.addRow();this.ds_approve.setColumn(0,"TITLE",_v);this.ds_approve.setColumn(0,"DATA_TITLE",_u);this.ds_approve.setColumn(0,"DATA_VALUE",_t);this.ds_approve.setColumn(0,"DEPT_CD",application.gds_userInfo.getColumn(0,"DEPT_CODE"));this.ds_approve.setColumn(0,"EMP_CD",application.gds_userInfo.getColumn(0,"USER_ID"));this.ds_approve.setColumn(0,"EMPNO",application.gds_userInfo.getColumn(0,"USER_ID"));this.ds_approve.setColumn(0,"SANCTION_DIV","600");var _w="approve";var _x="/hsco/pms/prj/approveU.do";var _y="input1=ds_approve";var _z="ds_approve=output1";var _aa="";Ex.core.tran(this,_w,_x,_y,_z,_aa);};this.fn_transaction=function(_a){if(this.ds_cond1.rowcount<1){return;}var _b="";var _c="";var _d="";switch(_a){case "ctrList":_b="hsco/pms/prj/ctrList.do";_c="input1=ds_cond1";_d="ds_ctr=output1";break;case "ctrDtlList":_b="hsco/pms/prj/ctrDtlList.do";_c="input1=ds_cond1";_d="ds_ctrDtl=output1";break;case "mList":_b="hsco/pms/prj/PRJ040103/mList.do";_c="input1=ds_cond1";_d="ds_1=output1";break;case "save":_b="hsco/pms/prj/PRJ040103/save.do";_c="input1=ds_1:U";_d="";break;case "sanction":_b="hsco/pms/prj/PRJ040103/sanction.do";_c="input1=ds_cond1";_d="ds_sanction=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){return this.gfn_callback_message(_a,_b,_c);}switch(_a){case "save":this.gfn_message("info.정상처리");this.fn_transaction("mList");break;case "sanction":this.executSanction();break;case "approve":var _d=this.ds_approve.getColumn(0,"O_URL");system.execBrowser(_d);break;}};this.btn_11_onclick=function(_a,_b){var _c=this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO");if(!_c){return;}var _d=this.ds_ctr.rowposition;var _e=this.ds_ctr.getColumn(_d,"BSNS_CODE");var _c=this.ds_ctr.getColumn(_d,"CNTRCT_NO");var _f=this.ds_ctr.getColumn(_d,"STRWRK_DE");var _g=this.ds_ctr.getColumn(_d,"COMPET_DE");var _h=this.gfn_today();var _i=this.ds_1.insertRow(0);this.ds_1.setColumn(_i,"BSNS_CODE",_e);this.ds_1.setColumn(_i,"CNTRCT_NO",_c);this.ds_1.setColumn(_i,"PARTCPTN_BGNDE",_f);this.ds_1.setColumn(_i,"PARTCPTN_ENDDE",_g);this.ds_1.setColumn(_i,"LGTFF_DE",_h);};this.btn_12_onclick=function(_a,_b){this.ds_1.deleteRow(this.ds_1.rowposition);};this.fn_bsnsChanged=function(_a,_b){var _c=_a.index||0;if(this.ds_BSNS.rowcount==0){return false;}this.ds_BSNS.set_rowposition(_c);};this.ds_ctr_onrowposchanged=function(_a,_b){var _c=this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO");this.ds_cond1.setColumn(0,"CNTRCT_NO",_c);this.ds_cond1.setColumn(0,"partcptnSe",this.div_work.div_3.chk_01.value);this.fn_transaction("ctrDtlList");this.fn_transaction("mList");};this.div_work_div_3_chk_01_onclick=function(_a,_b){var _c=this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO");this.ds_cond1.setColumn(0,"CNTRCT_NO",_c);this.ds_cond1.setColumn(0,"partcptnSe",this.div_work.div_3.chk_01.value);this.fn_transaction("mList");};this.div_work_div_3_grd_1_oncellclick=function(_a,_b){if(_b.cell==6){var _c='EMPNO=EMPNO,'+'EMPNM=EMPNM,'+'DEPT_NM=DEPT_NM,'+'HR_CLSF_SE=HR_CLSF_SE,'+'OFCPS=OFCPS,';this.fn_PopupEmp(this.ds_1,_c);}};this.fn_PopupEmp=function(_a,_b){var _c=function(_e,_f){if(!_f){return;}var _g=new Dataset();nRowCnt=_g.loadXML(_f);if(nRowCnt<1){return;}_a.copyRow(_a.rowposition,_g,0,_b);};var _d={};this.gfn_popup('popBsns',500,500,'',_d,"com::empno_P01.xfdl",_c,1);};});this.on_initEvent=function(){this.ds_ctr.addEventHandler("onrowposchanged",this.ds_ctr_onrowposchanged,this);this.addEventHandler("onload",this.PRJ050201_onload,this);this.addEventHandler("oninit",this.PRJ050201_oninit,this);this.div_work.div_3.sta_1.addEventHandler("onclick",this.div_work_div_3_sta_1_onclick,this);this.div_work.div_3.grd_1.addEventHandler("oncellclick",this.div_work_div_3_grd_1_oncellclick,this);this.div_work.div_3.btn_11.addEventHandler("onclick",this.btn_11_onclick,this);this.div_work.div_3.btn_12.addEventHandler("onclick",this.btn_12_onclick,this);this.div_work.div_3.chk_01.addEventHandler("onclick",this.div_work_div_3_chk_01_onclick,this);this.div_search.cmb_bsns_code.addEventHandler("onitemchanged",this.fn_bsnsChanged,this);this.div_search.rdo_cntrct_se.addEventHandler("onitemchanged",this.div_search_rdo_sndngSe_onitemchanged,this);this.div_sanction.btn_sanction.addEventHandler("onclick",this.div_sanction_btn_sanction_onclick,this);this.div_sanction.btn_sanctionCancel.addEventHandler("onclick",this.div_sanction_btn_sanctionCancel_onclick,this);};this.loadIncludeScript("PRJ050201.xfdl");};})();