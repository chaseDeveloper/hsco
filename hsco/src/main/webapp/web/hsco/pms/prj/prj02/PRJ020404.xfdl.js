(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ020404");this.set_classname("PRJ020404");this.set_titletext("PRJ020404_연차별회수계획");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_BSNS",this);_a.set_useclientlayout("0");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"string\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_ALL_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"3\"/><Column id=\"RM\" type=\"string\" size=\"200\"/><Column id=\"STRWRK_DE\" type=\"string\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"8\"/><Column id=\"BSNS_CONFM_DE\" type=\"string\" size=\"8\"/><Column id=\"MVN_DE\" type=\"string\" size=\"8\"/><Column id=\"RN\" type=\"string\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond0",this);_a._setContents("<ColumnInfo><Column id=\"SAL_SE\" type=\"STRING\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmCode",this);_a.set_updatecontrol("0");_a._setContents("<ColumnInfo><Column id=\"SAL_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"UPPER_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CL_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmCode1",this);_a.set_updatecontrol("0");_a._setContents("<ColumnInfo><Column id=\"SAL_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"UPPER_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CL_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmCode2",this);_a.set_updatecontrol("0");_a._setContents("<ColumnInfo><Column id=\"SAL_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"UPPER_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CL_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond1",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"16\"/><Column id=\"STDR_YEAR\" type=\"STRING\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_1</Col><Col id=\"colId\">PRPOS_CODE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">용지코드</Col></Row><Row><Col id=\"compId\">ds_1</Col><Col id=\"colId\">SUPLY_CODE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">공급유형</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_1",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"STDR_YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"SUB_SE\" type=\"STRING\" size=\"256\"/><Column id=\"SAL_SE\" type=\"STRING\" size=\"256\"/><Column id=\"PRPOS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"SUPLY_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"SUM\" type=\"STRING\" size=\"256\"/><Column id=\"BF_SUM\" type=\"STRING\" size=\"256\"/><Column id=\"M01\" type=\"STRING\" size=\"256\"/><Column id=\"M02\" type=\"STRING\" size=\"256\"/><Column id=\"M03\" type=\"STRING\" size=\"256\"/><Column id=\"M04\" type=\"STRING\" size=\"256\"/><Column id=\"M05\" type=\"STRING\" size=\"256\"/><Column id=\"M06\" type=\"STRING\" size=\"256\"/><Column id=\"M07\" type=\"STRING\" size=\"256\"/><Column id=\"M08\" type=\"STRING\" size=\"256\"/><Column id=\"M09\" type=\"STRING\" size=\"256\"/><Column id=\"M10\" type=\"STRING\" size=\"256\"/><Column id=\"M11\" type=\"STRING\" size=\"256\"/><Column id=\"M12\" type=\"STRING\" size=\"256\"/><Column id=\"AF_SUM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_taborder("0");_a.set_text("28");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_work","absolute","0","33",null,null,"28","0",this);_a.set_taborder("2");this.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work);_a.set_taborder("6");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work);_a.set_taborder("7");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","10","200","19",null,null,this.div_work);_a.set_taborder("8");_a.set_text("분양계획");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Button("btn_insert","absolute",null,"10","64","19","315",null,this.div_work);_a.set_taborder("13");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");_a.set_visible("false");this.div_work.addChild(_a.name,_a);_a=new Button("btn_delete","absolute",null,"10","64","19","248",null,this.div_work);_a.set_taborder("14");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");_a.set_visible("false");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","34",null,null,"0","0",this.div_work);_a.set_taborder("15");_a.set_binddataset("ds_1");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"120\" band=\"left\"/><Column size=\"120\" band=\"left\"/><Column size=\"100\" band=\"left\"/><Column size=\"100\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"90\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"용지구분\"/><Cell col=\"1\" rowspan=\"2\" text=\"공급유형\"/><Cell col=\"2\" rowspan=\"2\" style=\"line:1 solid #dedee0ff,1 solid #a0a0a0ff;\" text=\"합계\"/><Cell col=\"3\" rowspan=\"2\" text=\"2015년 이전\"/><Cell col=\"4\" colspan=\"12\" text=\"2016년\"/><Cell col=\"16\" rowspan=\"2\" text=\"2017년 이후\"/><Cell row=\"1\" col=\"4\" text=\"1월\"/><Cell row=\"1\" col=\"5\" text=\"2월\"/><Cell row=\"1\" col=\"6\" text=\"3월\"/><Cell row=\"1\" col=\"7\" text=\"4월\"/><Cell row=\"1\" col=\"8\" text=\"5월\"/><Cell row=\"1\" col=\"9\" text=\"6월\"/><Cell row=\"1\" col=\"10\" text=\"7월\"/><Cell row=\"1\" col=\"11\" text=\"8월\"/><Cell row=\"1\" col=\"12\" text=\"9월\"/><Cell row=\"1\" col=\"13\" text=\"10월\"/><Cell row=\"1\" col=\"14\" text=\"11월\"/><Cell row=\"1\" col=\"15\" text=\"12월\"/></Band><Band id=\"body\"><Cell displaytype=\"combo\" style=\"align:left;padding: ;\" text=\"bind:PRPOS_CODE\" suppress=\"1\" combodataset=\"ds_cmmCode1\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"1\" displaytype=\"expr:SUB_SE== '1' ? 'normal' : 'combo'\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'combo'\" style=\"align:left;padding:EXPR(SUB_SE== '1' ? '0 0 0 7' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');font:EXPR(SUB_SE== '1' ? 'bold 9 Gulim' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectfont:EXPR(SUB_SE== '1' ? 'bold 9 Gulim' : '');\" text=\"bind:SUPLY_CODE\" expr=\"expr:SUB_SE== '1' ? '소    계' : SUPLY_CODE\" combodataset=\"ds_cmmCode2\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right;padding:0 9 0 0;line:1 solid #efececff,1 solid #a0a0a0ff;background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectline:1 solid #efececff,1 solid #a0a0a0ff;\" text=\"expr:(parseInt(BF_SUM) || 0) + (parseInt(M01) || 0) + (parseInt(M02) || 0) + (parseInt(M03) || 0) + (parseInt(M04) || 0) + (parseInt(M05) || 0) + (parseInt(M06) || 0) + (parseInt(M07) || 0) + (parseInt(M08) || 0) + (parseInt(M09) || 0) + (parseInt(M10) || 0) + (parseInt(M11) || 0) + (parseInt(M12) || 0) + (parseInt(AF_SUM) || 0)\" mask=\"#,##0\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;padding:0 9 0 0;background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');\" text=\"bind:BF_SUM\" mask=\"#,##0\"/><Cell col=\"4\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M01\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"5\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M02\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"6\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M03\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"7\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M04\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"8\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M05\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"9\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M06\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"10\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M07\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"11\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M08\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"12\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M09\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"13\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M10\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"14\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M11\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"15\" displaytype=\"number\" edittype=\"expr:SUB_SE== '1' ? 'none' : 'masknumber'\" style=\"align:right;padding:EXPR(SUB_SE== '1' ? '0 9 0 0' : '1 1 1 1');background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:M12\" mask=\"#,##0\" editautoselect=\"true\" editdisplay=\"expr:SUB_SE== '1' ? 'edit' : 'display'\"/><Cell col=\"16\" displaytype=\"number\" style=\"align:right;padding:0 9 0 0;background:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');background2:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');selectbackground:EXPR(SUB_SE== '1' ? '#f6f7ffff' : '');controlalign:right;\" text=\"bind:AF_SUM\" mask=\"#,##0\" editautoselect=\"true\"/></Band><Band id=\"summary\"><Cell colspan=\"2\" style=\"align:center;\" text=\"합계\"/><Cell col=\"2\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(BF_SUM)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M01)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M02)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M03)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M04)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M05)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M06)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M07)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M08)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M09)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M10)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M11)||0') + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M12)||0') +  + dataset.getSum('SUB_SE== 1 ? 0 : parseInt(AF_SUM)||0')\"/><Cell col=\"3\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(BF_SUM)||0')\"/><Cell col=\"4\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M01)||0')\"/><Cell col=\"5\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M02)||0')\"/><Cell col=\"6\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M03)||0')\"/><Cell col=\"7\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M04)||0')\"/><Cell col=\"8\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M05)||0')\"/><Cell col=\"9\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M06)||0')\"/><Cell col=\"10\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M07)||0')\"/><Cell col=\"11\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M08)||0')\"/><Cell col=\"12\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M09)||0')\"/><Cell col=\"13\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M10)||0')\"/><Cell col=\"14\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M11)||0')\"/><Cell col=\"15\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(M12)||0')\"/><Cell col=\"16\" displaytype=\"number\" text=\"expr:dataset.getSum('SUB_SE== 1 ? 0 : parseInt(AF_SUM)||0')\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Static("sta_2","absolute",null,"10","69","20","7",null,this.div_work);_a.set_taborder("16");_a.set_text("(단위 : 천원)");this.div_work.addChild(_a.name,_a);_a=new Button("btn_regPop","absolute",null,"10","66","19","83",null,this.div_work);_a.set_taborder("17");_a.set_text("일괄등록");_a.set_cssclass("btn_WF_Process");this.div_work.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("3");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Combo("cmb_bsns_code","absolute","79","5","350","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("11");_a.set_innerdataset("ds_BSNS");_a.set_codecolumn("BSNS_CODE");_a.set_datacolumn("BSNS_NM");_a.set_displayrowcount("15");_a.set_cssclass("cmb_WF_Essential");_a=new Static("sta_CL_SE","absolute","15","6","59","20",null,null,this.div_search);_a.set_taborder("12");_a.set_text("사업코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("sta_CL_SE00","absolute","455","6","59","20",null,null,this.div_search);_a.set_taborder("13");_a.set_text("기준년도");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("true");this.div_search.addChild(_a.name,_a);_a=new Spin("spn_stdrYear","absolute","520","5","65","21",null,null,this.div_search);_a.set_taborder("14");_a.set_value("2000");_a.set_max("2100");_a.set_min("2000");_a.set_cssclass("spn_WF_Essential");this.div_search.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.div_work,function(_b){_b.set_taborder("2");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("3");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("PRJ020404");_b.set_titletext("PRJ020404_연차별회수계획");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("PRJ020404.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("PRJ020404.xfdl",function(){this.PRJ020404_oninit=function(_a,_b){this.fn_init();this.fn_init_dataset();};this.PRJ020404_onload=function(_a,_b){this.fn_loadCombo();this.div_search.spn_stdrYear.set_value(this.gfn_today("NOW_YEAR"));var _c=Number(this.gfn_today("NOW_YEAR"));this.div_work.grd_1.setCellProperty('Head',3,'text',(_c-1)+'년 이전');this.div_work.grd_1.setCellProperty('Head',4,'text',(_c+0)+'년');this.div_work.grd_1.setCellProperty('Head',5,'text',(_c+1)+'년 이후');};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);this.checkDs.push(this.ds_1);};this.fn_loadCombo=function(){var _a=null;this.fn_fill_combo(this.div_search.cmb_bsns_code,"hsco/pms/prj/bsnsCdList.do","선택",_a);};this.fn_search=function(){if(!this.gfn_checkValidation(this.div_search,this.ds_validation)){return;}var _a=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_a==''){this.alert("사업코드를 선택하세요.");return;}this.ds_1.clearData();this.ds_cond1.setColumn(0,"BSNS_CODE",_a);this.ds_cond1.setColumn(0,"STDR_YEAR",this.div_search.spn_stdrYear.value);this.fn_transaction("cmmCodeList");};this.fn_save=function(){if(this.ds_1.isUpdated()==false){this.alert("변경된 데이터가 없습니다.");return;}var _a=this.ds_1.rowcount;for(var _b=0;_b<_a;_b++ ){if(this.ds_1.getColumn(_b,"SUB_SE")=='1'){continue;}if(this.ds_1.getRowType(_b)=='1'){continue;}if(!this.ds_1.getColumn(_b,"SUPLY_CODE")){this.alert("공급유형을 입력하십시오.");this.ds_1.set_rowposition(_b);return;}}if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("save");}};this.fn_transaction=function(_a){if(this.ds_cond1.rowcount<1){return;}var _b="";var _c="";var _d="";switch(_a){case "mList":_b="hsco/pms/prj/PRJ020404/mList.do";_c="input1=ds_cond1";_d="ds_1=output1";break;case "save":_b="hsco/pms/prj/PRJ020404/save.do";_c="input1=ds_1:U";_d="";break;case "cmmCodeList":_b="hsco/pms/prj/PRJ020404/cmmCodeList.do";_c="input1=ds_cond1";_d="ds_cmmCode=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){return this.gfn_callback_message(_a,_b,_c);}switch(_a){case "mList":var _d=Number(this.ds_cond1.getColumn(0,"STDR_YEAR"));this.div_work.grd_1.setCellProperty('Head',3,'text',(_d-1)+'년 이전');this.div_work.grd_1.setCellProperty('Head',4,'text',(_d+0)+'년');this.div_work.grd_1.setCellProperty('Head',5,'text',(_d+1)+'년 이후');break;case "save":this.gfn_message("info.정상처리");this.fn_search();break;case "cmmCodeList":this.ds_cmmCode.filter("LVL=='1'");this.ds_cmmCode1.copyData(this.ds_cmmCode,true);this.ds_cmmCode.filter("LVL=='2'");this.ds_cmmCode2.copyData(this.ds_cmmCode,true);this.fn_transaction("mList");break;}};this.div_work_btn_insert_onclick=function(_a,_b){var _c=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_c==''){this.alert("사업코드를 선택하세요.");return;}var _d=this.ds_1.rowposition;var _e=this.ds_1.rowcount;var _f= -1;var _g=this.ds_1.getColumn(_d,"SAL_SE");var _h=this.ds_1.getColumn(_d,"PRPOS_CODE");var _i=this.ds_1.getColumn(_d,"STDR_YEAR");for(var _j=_d;_j<_e;_j++ ){if(_h==this.ds_1.getColumn(_j,"PRPOS_CODE")){_f=_j;}else{break;}}this.ds_1.set_enableevent(false);this.ds_1.insertRow(_f);this.ds_1.setColumn(_f,"STDR_YEAR",_i);this.ds_1.setColumn(_f,"SUB_SE","0");this.ds_1.setColumn(_f,"BSNS_CODE",_c);this.ds_1.setColumn(_f,"SAL_SE",_g);this.ds_1.setColumn(_f,"PRPOS_CODE",_h);this.ds_1.set_enableevent(true);};this.div_work_btn_delete_onclick=function(_a,_b){var _c=this.ds_1.rowposition;var _d=this.ds_1.getColumn(_c,"PRPOS_CODE");var _e=this.ds_1.getColumn(_c,"SUB_SE");if(_e=="1"){this.alert("소계는 삭제할 수 없습니다.");return;}this.ds_1.deleteRow(this.ds_1.rowposition);var _f=this.ds_1.getColCount();var _g=this.ds_1.findRow("PRPOS_CODE",_d);var _h=this.ds_1.findRow("SUB_SE","1",_g);for(var _k=0;_k<_f;_k++ ){var _i=0;var _j=this.ds_1.getColID(_k);if(_j.indexOf('M')!=0){continue;}for(var _l=_g;_l<_h;_l++ ){_i+=Number(this.ds_1.getColumn(_l,_j)||'0');}this.ds_1.setColumn(_h,_j,_i);}};this.ds_1_cancolumnchange=function(_a,_b){if(_b.columnid=="SUPLY_CODE"){var _c=_b.newvalue;var _d=this.ds_cmmCode2.lookup("CODE",_c,"CODE_NM");var _e=_a.findRow("SUPLY_CODE",_c);if(_e> -1){alert('중복 오류 : '+_d);return false;}}};this.ds_1_oncolumnchanged=function(_a,_b){if(_b.columnid.indexOf('M')==0){var _c=_b.columnid;var _d=this.ds_1.getColumn(_b.row,'PRPOS_CODE');var _e=this.ds_1.findRow('SUB_SE','1',_b.row);var _f=this.ds_1.findRow('PRPOS_CODE',_d);var _g=0;for(var _h=_f;_h<_e;_h++ ){_g+=Number(this.ds_1.getColumn(_h,_c)||'0');}this.ds_1.setColumn(_e,_c,_g);}};this.div_work_grd_1_oncellclick=function(_a,_b){var _c=_b.row;if(_b.col==1){var _d=this.ds_1.getColumn(_c,"PRPOS_CODE");console.log(_d);console.log("UPPER_CODE == '"+_d+"'");this.ds_cmmCode2.filter("UPPER_CODE == '"+_d+"'");}};this.fn_bsnsChanged=function(_a,_b){var _c=_a.index||0;if(this.ds_BSNS.rowcount==0){return false;}this.ds_BSNS.set_rowposition(_c);};this.div_work_btn_regPop_onclick=function(_a,_b){var _c=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_c==''){this.alert("사업코드를 선택하세요.");return;}var _d={bsnsCode:_c,stdrYear:this.div_search.spn_stdrYear.value};this.gfn_popup("PRJ020404_P01",1024,733,"",{objParam:_d},"pms_prj02::PRJ020404_P01.xfdl","fn_popupCallBack",true);};this.fn_popupCallBack=function(_a,_b){this.fn_search();};});this.on_initEvent=function(){this.ds_1.addEventHandler("cancolumnchange",this.ds_1_cancolumnchange,this);this.ds_1.addEventHandler("oncolumnchanged",this.ds_1_oncolumnchanged,this);this.addEventHandler("onload",this.PRJ020404_onload,this);this.addEventHandler("oninit",this.PRJ020404_oninit,this);this.div_work.btn_insert.addEventHandler("onclick",this.div_work_btn_insert_onclick,this);this.div_work.btn_delete.addEventHandler("onclick",this.div_work_btn_delete_onclick,this);this.div_work.grd_1.addEventHandler("oncellclick",this.div_work_grd_1_oncellclick,this);this.div_work.btn_regPop.addEventHandler("onclick",this.div_work_btn_regPop_onclick,this);this.div_search.cmb_bsns_code.addEventHandler("onitemchanged",this.fn_bsnsChanged,this);this.div_search.spn_stdrYear.addEventHandler("onspin",this.div_search_spn_stRceptYr_onspin,this);};this.loadIncludeScript("PRJ020404.xfdl");};})();