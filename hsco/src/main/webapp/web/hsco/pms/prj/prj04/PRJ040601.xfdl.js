(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ040601");this.set_classname("PRJ040601");this.set_titletext("PRJ040601_용역기성요청관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_ctr",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMP\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_1",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE2\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"REQUST_DE\" type=\"STRING\" size=\"8\"/><Column id=\"REQUST_NO\" type=\"STRING\" size=\"14\"/><Column id=\"PRSEC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"EXPNDTR_DE\" type=\"STRING\" size=\"8\"/><Column id=\"PXCOND_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"PXCOND_RT\" type=\"BIGDECIMAL\" size=\"8\"/><Column id=\"LGTFF_SE\" type=\"STRING\" size=\"3\"/><Column id=\"BIZRNO\" type=\"STRING\" size=\"13\"/><Column id=\"REQST_SE\" type=\"STRING\" size=\"3\"/><Column id=\"EXAMER\" type=\"STRING\" size=\"50\"/><Column id=\"EMPNO_OBSRVER_1\" type=\"STRING\" size=\"8\"/><Column id=\"NM1\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT1\" type=\"STRING\" size=\"100\"/><Column id=\"EMPNO_OBSRVER_2\" type=\"STRING\" size=\"256\"/><Column id=\"NM2\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT2\" type=\"STRING\" size=\"256\"/><Column id=\"TOT_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"S_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"S_RT\" type=\"BIGDECIMAL\" size=\"8\"/><Column id=\"REMAIN_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"SANCTN_KND\" type=\"STRING\" size=\"2\"/><Column id=\"ADVAN_EXCCLC_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"RL_PYMNT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"20\"/><Column id=\"HR_CLSF_NM1\" type=\"STRING\" size=\"256\"/><Column id=\"HR_CLSF_NM2\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM1\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM2\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_2",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"MNG_SN\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"CHANGE_SN\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"8\"/><Column id=\"LGTFF_DE\" type=\"STRING\" size=\"8\"/><Column id=\"TCHNLGY_QUALF\" type=\"STRING\" size=\"100\"/><Column id=\"TCHNLGY_GRAD\" type=\"STRING\" size=\"100\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"CHK\" type=\"STRING\" size=\"1\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_3",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CODE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"INT\" size=\"3\"/><Column id=\"CHK\" type=\"STRING\" size=\"1\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ADD_YN\" type=\"STRING\" size=\"3\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"4000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"4000\"/><Column id=\"AL1\" type=\"STRING\" size=\"3\"/><Column id=\"VAL0\" type=\"STRING\" size=\"100\"/><Column id=\"VAL1\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\"/><Col id=\"colId\"/><Col id=\"notNull\"/><Col id=\"msgId\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond1",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"CTR_GB\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"REQST_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"IS_COMP\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_aud",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"1000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ubiReport00",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"CODE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"1000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"1000\"/><Column id=\"PRSEC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"VAL1\" type=\"STRING\" size=\"3\"/><Column id=\"AL1\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_COM022",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ012",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ010",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ011",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ014",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ018",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ017",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ023",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ025",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_CTR007",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_BSNS",this);_a.set_useclientlayout("0");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"string\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_ALL_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"3\"/><Column id=\"RM\" type=\"string\" size=\"200\"/><Column id=\"STRWRK_DE\" type=\"string\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"8\"/><Column id=\"BSNS_CONFM_DE\" type=\"string\" size=\"8\"/><Column id=\"MVN_DE\" type=\"string\" size=\"8\"/><Column id=\"RN\" type=\"string\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctrDtl",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_4",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"INT\" size=\"3\"/><Column id=\"MNG_SN\" type=\"INT\" size=\"10\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"8\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"HR_CLSF_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_rdo",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"10\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"100\"/></ColumnInfo><Rows><Row><Col id=\"CODE\">1</Col><Col id=\"CODE_NM\">검사명령부</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_approve",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DATA_VALUE\" type=\"STRING\" size=\"1000\"/><Column id=\"DATA_TITLE\" type=\"STRING\" size=\"256\"/><Column id=\"O_URL\" type=\"STRING\" size=\"256\"/><Column id=\"I_KEY\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"SEQ\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CD\" type=\"STRING\" size=\"256\"/><Column id=\"EMP_CD\" type=\"STRING\" size=\"256\"/><Column id=\"TITLE\" type=\"STRING\" size=\"256\"/><Column id=\"SANCTION_DIV\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_text("28");_a.set_visible("0");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("4");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_CL_SE","absolute","15","6","61","20",null,null,this.div_search);_a.set_taborder("3");_a.set_text("사업코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_bsns_code","absolute","79","5","350","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("4");_a.set_innerdataset("ds_BSNS");_a.set_codecolumn("BSNS_CODE");_a.set_datacolumn("BSNS_ALL_NM");_a.set_displayrowcount("15");_a.set_cssclass("cmb_WF_Essential");_a=new Div("div_work","absolute","0","32",null,null,"28","0",this);_a.set_taborder("5");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","13","200","19",null,null,this.div_work);_a.set_taborder("25");_a.set_text("계약목록(용역)");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work);_a.set_taborder("26");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work);_a.set_taborder("27");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_ctr","absolute","0","35",null,"200","210",null,this.div_work);_a.set_taborder("28");_a.set_binddataset("ds_ctr");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"150\"/><Column size=\"90\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"18\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"계약번호\"/><Cell col=\"1\" rowspan=\"2\" text=\"계약명\"/><Cell col=\"2\" rowspan=\"2\" text=\"계약금액\"/><Cell col=\"3\" rowspan=\"2\" text=\"계약일자\"/><Cell col=\"4\" colspan=\"2\" text=\"용역계획기간\"/><Cell col=\"6\" rowspan=\"2\" text=\"첨부파일명\"/><Cell row=\"1\" col=\"4\" text=\"착수일자\"/><Cell row=\"1\" col=\"5\" text=\"완성일자\"/></Band><Band id=\"body\"><Cell text=\"bind:CNTRCT_NO\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:CNTRCT_NM\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:TOT_CNTRCT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"3\" displaytype=\"date\" text=\"bind:CNTRCT_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"4\" displaytype=\"date\" text=\"bind:STRWRK_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" displaytype=\"date\" text=\"bind:COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"6\"/></Band><Band id=\"summary\"><Cell colspan=\"2\" style=\"align:center;line:1 solid #ffd8cdff,0 none #e0e0e0ff;selectline:1 solid #FFD8CD,0 none #e0e0e0ff;\" text=\"합계\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(TOT_CNTRCT_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"3\" colspan=\"4\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Div("div_00","absolute",null,"0","200","235","0",null,this.div_work);_a.set_taborder("29");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","14","126","19",null,null,this.div_work.div_00);_a.set_taborder("34");_a.set_text("수급자");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work.div_00);_a.set_taborder("35");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work.div_00);_a.set_taborder("36");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Grid("grd_ctrDtl","absolute","0","35",null,null,"0","0",this.div_work.div_00);_a.set_taborder("37");_a.set_binddataset("ds_ctrDtl");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"150\"/><Column size=\"60\"/></Columns><Rows><Row size=\"36\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"업체명\"/><Cell col=\"1\" text=\"대표자\"/></Band><Band id=\"body\"><Cell style=\"align:left;padding:0 5 0 5;\" text=\"bind:BCNC_NM\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:RPRSNTV\"/></Band></Format></Formats>");this.div_work.div_00.addChild(_a.name,_a);_a=new Div("div_1","absolute","0","235",null,null,"210","0",this.div_work);_a.set_taborder("30");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_work.div_1);_a.set_taborder("36");_a.set_text("기성내역");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_1.addChild(_a.name,_a);_a=new Button("btn_31","absolute",null,"10","64","19","67",null,this.div_work.div_1);_a.set_taborder("37");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work.div_1);_a.set_taborder("38");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work.div_1);_a.set_taborder("39");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Button("btn_32","absolute",null,"10","64","19","0",null,this.div_work.div_1);_a.set_taborder("40");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_work.div_1.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","34",null,null,"0","0",this.div_work.div_1);_a.set_taborder("41");_a.set_binddataset("ds_1");_a.getSetter("autofittype2").set("col");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"70\"/><Column size=\"0\"/><Column size=\"115\"/><Column size=\"120\"/><Column size=\"120\"/><Column size=\"70\"/><Column size=\"120\"/><Column size=\"85\"/><Column size=\"120\"/><Column size=\"70\"/><Column size=\"80\"/><Column size=\"20\"/><Column size=\"80\"/><Column size=\"20\"/><Column size=\"115\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"차수\"/><Cell col=\"1\" text=\"기성구분\"/><Cell col=\"2\" text=\"요청일자\"/><Cell col=\"3\" text=\"기성금액\"/><Cell col=\"4\" text=\"잔여기성액\"/><Cell col=\"5\" text=\"결재현황\"/><Cell col=\"6\" text=\"선금정산액\"/><Cell col=\"7\" text=\"지출일자\"/><Cell col=\"8\" text=\"실지급\"/><Cell col=\"9\" text=\"요청번호\"/><Cell col=\"10\" colspan=\"2\" text=\"입회원1\"/><Cell col=\"12\" colspan=\"2\" text=\"입회원2\"/><Cell col=\"14\" text=\"검사일자\"/></Band><Band id=\"body\"><Cell text=\"bind:ODR\"/><Cell col=\"1\" displaytype=\"combo\" edittype=\"none\" text=\"bind:PXCOND_SE2\" combodataset=\"ds_PRJ023\" combocodecol=\"CODE\" combodatacol=\"VAL0\"/><Cell col=\"2\" displaytype=\"date\" edittype=\"date\" text=\"bind:REQUST_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"3\" displaytype=\"number\" edittype=\"masknumber\" style=\"align:right;padding: ;\" text=\"bind:PXCOND_AMOUNT\" mask=\"###,###,###,###,##0\" editdisplay=\"display\" editlimitbymask=\"both\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:REMAIN_AMT\" mask=\"#,##0\"/><Cell col=\"5\" displaytype=\"expr:!REQUST_NO?'':'button'\" text=\"bind:SANCTN_KND\" expr=\"expr:!REQUST_NO?'':dataset.parent.fn_BtnNm(SANCTN_KND)\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:ADVAN_EXCCLC_AMOUNT\" mask=\"#,##0\"/><Cell col=\"7\" displaytype=\"date\" text=\"bind:EXPNDTR_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"8\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:RL_PYMNT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"9\" text=\"bind:REQUST_NO\"/><Cell col=\"10\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:NM1\" editdisplay=\"display\"/><Cell col=\"11\" displaytype=\"image\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/><Cell col=\"12\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:NM2\" editdisplay=\"display\"/><Cell col=\"13\" displaytype=\"image\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/><Cell col=\"14\" displaytype=\"date\" edittype=\"date\" text=\"bind:PRSEC_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/></Band><Band id=\"summary\"><Cell colspan=\"3\" style=\"align:center;line:1 solid #ffd8cdff,0 none #e0e0e0ff;selectline:1 solid #FFD8CD,0 none #e0e0e0ff;\" text=\"합계\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(PXCOND_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"4\" colspan=\"2\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(ADVAN_EXCCLC_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"7\"/><Cell col=\"8\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(RL_PYMNT_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"9\" colspan=\"6\"/></Band></Format></Formats>");this.div_work.div_1.addChild(_a.name,_a);_a=new Div("div_sanction","absolute",null,"0","189","95","-205",null,this);_a.set_taborder("6");_a.set_cssclass("div_WF_Calendar");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_print","absolute","39",null,"60","21",null,"17",this.div_sanction);_a.set_taborder("71");_a.set_text("전자결재");this.div_sanction.addChild(_a.name,_a);_a=new Button("btn_printCancel","absolute","102",null,"40","21",null,"17",this.div_sanction);_a.set_taborder("72");_a.set_text("취소");this.div_sanction.addChild(_a.name,_a);_a=new Radio("Radio00","absolute","8.02%","19",null,"21","8.02%",null,this.div_sanction);this.div_sanction.addChild(_a.name,_a);_a.set_taborder("73");_a.set_innerdataset("@ds_rdo");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_value("1");_a=new Static("sta_gud_v00","absolute","694",null,"10","203",null,"-256",this);_a.set_taborder("7");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_02","absolute","0","747",null,null,"337","-256",this);_a.set_taborder("8");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_02);_a.set_taborder("52");_a.set_text("감독관");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_02.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_02);_a.set_taborder("53");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_02.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_02);_a.set_taborder("54");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_02.addChild(_a.name,_a);_a=new Grid("grd_2","absolute","0","34",null,null,"0","0",this.div_02);_a.set_taborder("55");_a.set_binddataset("ds_2");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"90\"/><Column size=\"170\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\"/><Cell col=\"1\" text=\"성명\"/><Cell col=\"2\" text=\"기술자격\"/><Cell col=\"3\" text=\"등급\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:EMPNM\"/><Cell col=\"2\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:TCHNLGY_QUALF\"/><Cell col=\"3\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:TCHNLGY_GRAD\"/></Band></Format></Formats>");this.div_02.addChild(_a.name,_a);_a=new Div("div_03","absolute",null,"747","327",null,"0","-256",this);_a.set_taborder("9");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_03);_a.set_taborder("64");_a.set_text("첨부파일");_a.set_cssclass("sta_WF_Title02");_a.style.set_background("transparent URL('theme://images/sta_WF_Title02.png') left middle");_a.getSetter("visible2").set("0");this.div_03.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_03);_a.set_taborder("65");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_03.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_03);_a.set_taborder("66");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_03.addChild(_a.name,_a);_a=new Grid("grd_Files","absolute","0","34",null,null,"0","0",this.div_03);_a.set_taborder("67");_a.set_binddataset("ds_files");_a.set_autofittype("col");_a.getSetter("autofittype2").set("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"50\"/><Column size=\"0\"/><Column size=\"200\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"순번\"/><Cell col=\"2\" text=\"기타\"/><Cell col=\"3\" text=\"파일명\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" expr=\"currow+1\"/><Cell col=\"2\" text=\"bind:EXT\"/><Cell col=\"3\" style=\"align:left middle;cursor:hand;\" text=\"bind:FILE_NM\"/></Band></Format></Formats>");this.div_03.addChild(_a.name,_a);_a=new Button("btn_del00","absolute",null,"10","38","19","0",null,this.div_03);_a.set_taborder("68");_a.set_text("삭제");_a.set_cssclass("btn_WF_Process");this.div_03.addChild(_a.name,_a);_a=new Button("btn_del01","absolute",null,"10","38","19","41",null,this.div_03);_a.set_taborder("69");_a.set_text("받기");_a.set_cssclass("btn_WF_Process");this.div_03.addChild(_a.name,_a);_a=new Button("btn_00","absolute",null,"10","38","19","82",null,this.div_03);_a.set_taborder("70");_a.set_text("첨부");_a.set_cssclass("btn_WF_Process");this.div_03.addChild(_a.name,_a);_a=new Div("div_00","absolute",null,"266","200","469","28",null,this);_a.set_taborder("10");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","14","126","19",null,null,this.div_00);_a.set_taborder("38");_a.set_text("검사원");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_00);_a.set_taborder("39");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_00);_a.set_taborder("40");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_00.addChild(_a.name,_a);_a=new Grid("grd_ctrDtl","absolute","0","35",null,null,"0","0",this.div_00);_a.set_taborder("41");_a.set_binddataset("ds_4");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"134\"/><Column size=\"20\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" colspan=\"2\" text=\"검사원\"/></Band><Band id=\"body\"><Cell text=\"bind:MNG_SN\"/><Cell col=\"1\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:EMPNM\" editdisplay=\"display\"/><Cell col=\"2\" displaytype=\"image\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/></Band></Format></Formats>");this.div_00.addChild(_a.name,_a);_a=new Button("btn_31","absolute",null,"10","64","19","67",null,this.div_00);_a.set_taborder("42");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.div_00.addChild(_a.name,_a);_a=new Button("btn_32","absolute",null,"10","64","19","0",null,this.div_00);_a.set_taborder("43");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_00.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("4");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",200,235,this.div_work.div_00,function(_b){_b.set_taborder("29");});this.div_work.div_00.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work.div_1,function(_b){_b.set_taborder("30");});this.div_work.div_1.addLayout(_a.name,_a);_a=new Layout("default","",1031,703,this.div_work,function(_b){_b.set_taborder("5");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",189,95,this.div_sanction,function(_b){_b.set_taborder("6");_b.set_cssclass("div_WF_Calendar");_b.set_visible("false");});this.div_sanction.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_02,function(_b){_b.set_taborder("8");_b.set_visible("false");});this.div_02.addLayout(_a.name,_a);_a=new Layout("default","",327,0,this.div_03,function(_b){_b.set_taborder("9");_b.set_visible("false");});this.div_03.addLayout(_a.name,_a);_a=new Layout("default","",200,469,this.div_00,function(_b){_b.set_taborder("10");});this.div_00.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("PRJ040601");_b.set_titletext("PRJ040601_용역기성요청관리");});this.addLayout(_a.name,_a);_a=new BindItem("item01","div_search.cmb_CTR_GB","value","ds_cond1","CTR_GB");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item30","div_work.div_4.div_1.edt_1","value","ds_3","SANCTN_SJ");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item31","div_work.div_4.div_2.txt_SANCTN_SUMM","value","ds_3","SANCTN_SUMM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item32","div_work.div_42.div_1.txt_SANCTN_ETC","value","ds_3","SANCTN_ETC");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item33","div_work.div_42.div_2.txt_SANCTN_CN","value","ds_3","SANCTN_CN");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("PRJ040601.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("PRJ040601.xfdl",function(){var _a;var _b;this.g_BtnNms=[];this.PRJ040601_oninit=function(_c,_d){this.form_id=application.gv_curFormId+'_';this.fn_init();this.fn_init_dataset();};this.fn_onFileSuccess=function(_c,_d){this.fn_transaction("mList");};this.PRJ040601_onload=function(_c,_d){this.fn_loadCombo();};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);this.checkDs.push(this.ds_1);this.checkDs.push(this.ds_2);this.checkDs.push(this.ds_3);};this.fn_loadCombo=function(){var _c=[['ds_COM022','COM022',1,''],['ds_PRJ012','PRJ012',1,''],['ds_PRJ010','PRJ010',1,''],['ds_PRJ011','PRJ011',1,''],['ds_PRJ014','PRJ014',1,''],['ds_PRJ017','PRJ017',1,''],['ds_PRJ023','PRJ023',1,''],['ds_PRJ025','PRJ025',1,''],['ds_CTR007','CTR007',1,'']];var _d=null;this.gfn_comboLoad(_c,_d);this.fn_fill_combo(this.div_search.cmb_bsns_code,"hsco/pms/prj/bsnsCdList.do","선택",null);};this.fn_search=function(){var _c=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_c==''){this.alert("사업코드를 선택하세요.");return;}this.ds_cond1.setColumn(0,"BSNS_CODE",_c);this.ds_cond1.setColumn(0,"CTR_GB","2");this.ds_ctr.clearData();this.ds_ctrDtl.clearData();this.ds_1.clearData();this.fn_transaction("ctrList");};this.fn_save=function(){if(this.ds_ctr.getColumn(this.ds_ctr.rowposition,"TOT_CNTRCT_AMOUNT")<(this.ds_1.getSum('parseInt(ADVAN_EXCCLC_AMOUNT)||0')+this.ds_1.getSum('parseInt(PXCOND_AMOUNT)||0'))){return this.gfn_message("info.처리불가","기성금액 및 선금정산액의 합이 계약금액보다 큽니다.");}else{if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("save");}}};this.fn_transaction=function(_c){if(this.ds_cond1.rowcount<1){return;}var _d;var _e;var _f;var _g="input1=ds_cond1";var _h="";switch(_c){case "ctrList":_f="hsco/pms/prj/ctrList.do";_g="input1=ds_cond1";_h="ds_ctr=output1";break;case "ctrDtlList":_f="hsco/pms/prj/ctrDtlList.do";_g="input1=ds_cond1";_h="ds_ctrDtl=output1";break;case "mList":ds=this.ds_cond1;_d=this.ds_ctr;_e="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,";_h="ds_1=output1";this.ds_cond1.setColumn(0,"PXCOND_SE","2");break;case "rList":ds=this.ds_cond1;_d=this.ds_1;_e="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";_h="ds_4=output1";break;case "save":_b=this.ds_1.rowposition;_f="hsco/pms/prj/PRJ040601/save.do";_g="input1=ds_1:U";_g+=" input2=ds_4:U";break;case "approve":_g="input1=ds_aud:U";_h=" ds_approve=output1";break;}switch(_c){case "ctrList":this.ds_ctr.clearData();case "mList":this.ds_1.clearData();case "rList":this.ds_4.clearData();}if(_e){this.ds_cond1.copyRow(0,_d,_d.rowposition,_e);}if(!_f){_f="hsco/pms/prj/PRJ040601/"+_c+".do";}Ex.core.tran(this,_c,_f,_g,_h);};this.fn_callBack=function(_c,_d,_e){if(_d!=0){return this.gfn_callback_message(_c,_d,_e);}switch(_c){case "ctrList":this.fn_transaction("ctrDtlList");break;case "mList":if(_b> -1){this.ds_1.set_rowposition(_b);_b= -1;}break;case "rList":break;case "save":this.fn_transaction("mList");break;case "approve":this.fn_popup_sanction();break;}};this.fn_print=function(){var _c=new this.cf_Opts();var _d=this.ds_1;var _e=this.ds_3;var _f=rowposition;var _g=_e.rowposition;var _h=parseInt(_e.getColumn(_g,'SANCTN_FORM_SE'))||0;var _i=' ';var _j=this.ds_PRJ025.findRow('CODE',_h);if(_j>=0){_i=this.ds_PRJ025.getColumn(_j,'CODE_NM');}var _k=this.ds_ubiReport00;_k.clearData();var _l=_k.addRow();_k.copyRow(_l,_e,_g);_k.setColumn(_l,'PRSEC_DE',_d.getColumn(_f,'PRSEC_DE'));var _m='/pms/prj/PRJ040601_1.jrf';;var _n,_o='';var _p=_h%10;switch(_p){case 1:case 2:break;case 3:case 4:break;case 3:break;default:break;}_c.setToolbar(false);_c.setScale(100);_c.setReportPath(_m);_c.setSaveFilename(_i);_c.setLocalDs(["ds_ubiReport00",_k]);var _q={arg_0:this,opts:_c};var _r=function(_s,_t){this.debug('this.fn_print() - fn_cb');};this.gfn_popup("prjReportPouup",884,735,_i,_q,"common::frmReportPopup.xfdl",_r,1);};this.fn_sanction_bak=function(){var _c=this.ds_1;var _d=_c.rowposition;var _e=_c.getColumn(_d,"REQUST_NO");if(_e){return this.gfn_message("info.처리불가","이미 결재가 진행되었습니다.");}if(this.fn_checkUpdated()){return this.gfn_message("info.처리불가","수정된 내용을 저장 후 진행해 주시기바랍니다.");}var _f=this.ds_aud;_f.clearData();var _g=_f.addRow();_f.copyRow(_g,this.ds_3,this.ds_3.rowposition);this.fn_transaction("approve");};this.fn_popup_sanction=function(){var _c=this.ds_approve;if(_c.rowcount<1){return;}var _d=this.ds_1;var _e=_c.getColumn(0,"REQUST_NO");_d.setColumn(_d.rowposition,"REQUST_NO",_e);_d.applyChange();var _f=_c.getColumn(0,"O_URL");if(!_f){return;}system.execBrowser(_f);};this.fn_insert=function(){this.fn_insertDS(this.ds_1);};this.fn_delete=function(){this.fn_deleteDS(this.ds_1);};this.fn_insertDS=function(_c){var _d;var _e;var _f;var _g=_c.addRow();switch(_c){case this.ds_1:_e=this.ds_ctr;_f="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"CNTRCT_SE=CNTRCT_SE,";var _h=this.gfn_today();_d=(_g<1)?'1':''+(1+parseInt(_c.getColumn(_g-1,'ODR')));_c.setColumn(_g,'ODR',_d);_c.setColumn(_g,'REQUST_DE',_h);_c.setColumn(_g,'PXCOND_SE','2');break;case this.ds_2:_e=this.ds_1;_f="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";break;case this.ds_3:_e=this.ds_1;_f="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";_d=this.div_work.div_4.div_1.cmb_SANCTN_FORM_SE.value;_c.setColumn(_g,'SANCTN_FORM_SE',_d);break;}if(_f){_c.copyRow(_g,_e,_e.rowposition,_f);}};this.fn_deleteDS=function(_c){_c.deleteRow(_c.rowposition);};this.fn_checkUpdated=function(_c){if(!this.checkDs){return false;}for(var _e=0;_e<this.checkDs.length;_e++ ){if(this.comUtils.isDatasetUpdated(this.checkDs[_e])){if(!_c){return true;}var _d=this.gfn_message("confirm.변경.취소.여부");if(!_d){this.checkDs[_e].reset();}return _d;}}};this.ds_onrowposchanged=function(_c,_d){if(_c.rowcount<1){return;}switch(_c){case this.ds_ctr:return this.fn_transaction("mList");case this.ds_1:return this.fn_transaction("rList");}};this.ds_oncolumnchanged=function(_c,_d){var _e=_d.row;if('1'!=_c.getColumn(_e,'ADD_YN')){return;}_c.set_updatecontrol(0);_c.setRowType(_e,Dataset.ROWTYPE_INSERT);_c.set_updatecontrol(1);_c.setColumn(_e,'ADD_YN',0);};this.btn_41_onclick=function(_c,_d){this.fn_make();};this.fn_make=function(){var _c=this.ds_ctr;if(_c.rowcount<1){return;}var _d=this.ds_1;if(_d.rowcount<1){return;}var _e=this.ds_3;var _f=_e.rowposition;var _g=parseInt(_e.getColumn(_f,'SANCTN_FORM_SE'))||0;var _h=_c.rowposition;var _i=_d.rowposition;var _j,_k,_l,_m;var _n=_g%10;switch(_n){case 1:case 2:_j={차수:_d.getColumn(_i,'ODR')};_k={계약명:_c.getColumn(_h,'CNTRCT_NM'),계약금액:this.comUtils.formatComma(_c.getColumn(_h,'TOT_CNTRCT_AMOUNT')),착공일자:this.dateUtils.format(_c.getColumn(_h,'STRWRK_DE'),"yyyy년 mm월 dd일"),준공일자:this.dateUtils.format(_c.getColumn(_h,'COMPET_DE'),"yyyy년 mm월 dd일"),시공사:_c.getColumn(_h,'COMP'),총기성금액:this.comUtils.formatComma(_d.getColumn(_i,'S_AMT')),총기성율:this.comUtils.formatComma(_d.getColumn(_i,'S_RT')),기성금액:this.comUtils.formatComma(_d.getColumn(_i,'PXCOND_AMOUNT')),기성율:this.comUtils.formatComma(_d.getColumn(_i,'PXCOND_RT'))};_l={착공일자:this.dateUtils.format(_c.getColumn(_h,'STRWRK_DE'),"yyyy년 mm월 dd일"),시공사:_c.getColumn(_h,'COMP')};_m={착공일자:this.dateUtils.format(_c.getColumn(_h,'STRWRK_DE'),"yyyy년 mm월 dd일"),준공일자:this.dateUtils.format(_c.getColumn(_h,'COMPET_DE'),"yyyy년 mm월 dd일"),차수:_d.getColumn(_i,'ODR'),기성율:this.comUtils.formatComma(_d.getColumn(_i,'S_RT'))};break;case 3:case 4:_j={};_k={부서명:this.fn_genNames('DEPT_NM'),성명:this.fn_genNames('TCHNLGY_QUALF,TCHNLGY_GRAD,EMPNM')};_l={};_m={};break;case 5:_j={};_k={계약명:_c.getColumn(_h,'CNTRCT_NM'),검사자:this.fn_genNames('TCHNLGY_QUALF,TCHNLGY_GRAD,EMPNM')};_l={};_m={};break;case 0:_k={S_RT:_d.getColumn(_i,'S_RT')};break;default:break;}if(_j){this.fn_genTemplate(_e,_g,'VAL2','SANCTN_SJ',_j);}if(_k){this.fn_genTemplate(_e,_g,'ETC1','SANCTN_SUMM',_k);}if(_l){this.fn_genTemplate(_e,_g,'ETC2','SANCTN_ETC',_l);}if(_m){this.fn_genTemplate(_e,_g,'ETC3','SANCTN_CN',_m);}};this.fn_genTemplate=function(_c,_d,_e,_f,_g){var _h=this.ds_PRJ025;var _i=_h.findRow('CODE',_d);if(_i<0){return '';}var _j=_h.getColumn(_i,_e);if(!_j){return '';}for(var _k in _g){_j=_j.replace('{'+_k+'}',_g[_k]);}_i=_c.rowposition;_c.setColumn(_i,_f,_j);};this.fn_genNames=function(_c){var _d=this.ds_2;var _e=new Dataset();_e.copyData(_d,true);_e.filter('CHK==1');_c=_c.split(',');var _f='';for(var _g=0;_g<_e.rowcount;_g++ ){if(_g>0){_f+=', ';}for(var _h=0;_h<_c.length;_h++ ){if(_h>0){_f+=' ';}_f+=_e.getColumn(_g,_c[_h]);}}return _f;};this.grd_onheadclick=function(_c,_d){if(_d.col==0){this.gfn_setGridCheckAll(_c,_d);}};this.fn_BtnNm=function(_c){_c=parseInt(_c)||0;return this.g_BtnNms[_c];};this.grd_1_oncellclick=function(_c,_d){if(_d.cell==_c.getBindCellIndex("body","SANCTN_KND")){var _e=this.ds_1.getColumn(_d.row,"REQUST_NO");this.fn_PopupSanc(_e);}else if(_d.cell==10||_d.cell==11){var _f='EMPNO_OBSRVER_1=EMPNO,'+'NM1=EMPNM,';this.fn_PopupEmp(_f);}else if(_d.cell==12||_d.cell==13){var _f='EMPNO_OBSRVER_2=EMPNO,'+'NM2=EMPNM,';this.fn_PopupEmp(_f);}};this.fn_PopupSanc=function(_c){if(!_c){return;}var _d=function(_f,_g){if(!_g){return;}};var _e={arg_0:this,arg_1:_c};this.gfn_popup('sancPopup',710,518,'',_e,"com::COM010400_P01.xfdl",_d,1);};this.grd_oncellclick=function(_c,_d){if(_d.cell==0){_c.setCellProperty("Head",_d.cell,"text","0");}};this.btn_Emp1Popup_onclick=function(_c,_d){var _e='EMPNO_OBSRVER_1=EMPNO,'+'NM1=EMPNM,'+'DEPT1=DEPT_NM,';;this.fn_PopupEmp(_e);};this.fn_PopupEmp=function(_c){var _d=function(_f,_g){if(!_g){return;}var _h=new Dataset();nRowCnt=_h.loadXML(_g);if(nRowCnt<1){return;}this.ds_1.copyRow(this.ds_1.rowposition,_h,0,_c);};var _e={};this.gfn_popup('popLadCode',500,500,'',_e,"com::empno_P01.xfdl",_d,1);};this.fn_procChk_Mgr=function(_c){if(_c.rowcount<1){return;}_c.set_updatecontrol(false);var _d;for(var _e=0;_e<_c.rowcount;_e++ ){_d=_c.getRowType(_e);if(_d<=Dataset.ROWTYPE_NORMAL){continue;}_d=('1'==_c.getColumn(_e,'CHK'))?Dataset.ROWTYPE_INSERT:Dataset.ROWTYPE_DELETE;_c.setRowType(_e,_d);}_c.set_updatecontrol(true);};this.fn_bsnsChanged=function(_c,_d){var _e=_c.index||0;if(this.ds_BSNS.rowcount==0){return false;}this.ds_BSNS.set_rowposition(_e);};this.ds_ctr_onrowposchanged=function(_c,_d){if(_c.rowcount<1){return;}this.ds_cond1.setColumn(0,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.fn_transaction("ctrDtlList");this.fn_transaction("mList");};this.div_work_div_1_btn_31_onclick=function(_c,_d){var _e=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_e==''){return;}if(this.ds_ctr.rowcount<1){return;}var _f=this.ds_1.addRow();this.ds_1.setColumn(_f,"BSNS_CODE",_e);this.ds_1.setColumn(_f,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.ds_1.setColumn(_f,"PXCOND_SE",'2');};this.div_work_div_1_btn_32_onclick=function(_c,_d){this.ds_1.deleteRow(this.ds_1.rowposition);};this.fn_sanction=function(){if(!this.div_sanction.visible){this.div_sanction.set_right(136);this.div_sanction.set_visible(true);var _c=this.div_sanction.components.length;for(var _e=0;_e<_c;_e++ ){var _d=this.div_sanction.components.get_item(_e);if(_d instanceof CheckBox){_d.set_value(false);}}}else{this.div_sanction.set_visible(false);}};this.div_print_btn_printCancel_onclick=function(_c,_d){this.div_sanction.set_visible(false);};this.div_00_sta_1_onclick=function(_c,_d){};this.fn_PopupEmp2=function(_c){var _d=function(_f,_g){if(!_g){return;}var _h=new Dataset();nRowCnt=_h.loadXML(_g);if(nRowCnt<1){return;}this.ds_4.copyRow(this.ds_4.rowposition,_h,0,_c);};var _e={};this.gfn_popup('popLadCode',500,500,'',_e,"com::empno_P01.xfdl",_d,1);};this.div_00_grd_ctrDtl_oncellclick=function(_c,_d){if(_d.cell==1||_d.cell==2){var _e='EMPNO=EMPNO,'+'EMPNM=EMPNM,';this.fn_PopupEmp2(_e);}};this.div_00_btn_31_onclick=function(_c,_d){if(this.ds_1.rowcount<1||(this.ds_1.getRowType(this.ds_1.rowposition)==Dataset.ROWTYPE_INSERT)){return;}var _e="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";var _f=this.ds_4.addRow();this.ds_4.copyRow(_f,this.ds_1,this.ds_1.rowposition,_e);};this.div_00_btn_32_onclick=function(_c,_d){this.ds_4.deleteRow(this.ds_4.rowposition);};this.div_print_btn_print_onclick=function(_c,_d){var _e=this.ds_1;var _f=_e.rowposition;var _g=_e.getColumn(_f,"REQUST_NO");if(this.fn_checkUpdated()){return this.gfn_message("info.처리불가","수정된 내용을 저장 후 진행해 주시기바랍니다.");}var _h=this.ds_ctr.getSelectColumn("CNTRCT_NM");var _i=this.ds_ctr.getSelectColumn("TOT_CNTRCT_AMOUNT");var _j=this.fn_numToHangul(_i);var _k=this.ds_ctr.getSelectColumn("CNTRCT_DE");var _l=this.ds_ctr.getSelectColumn("STRWRK_DE");var _m=this.ds_ctr.getSelectColumn("COMPET_DE");var _n="";for(var _am=0;_am<this.ds_ctrDtl.getRowCount();_am++ ){if(_am==0){_n=this.ds_ctrDtl.getColumn(_am,"BCNC_NM");}else{_n=_n+", "+this.ds_ctrDtl.getColumn(_am,"BCNC_NM");}}var _o=[];var _p=this.ds_1.getSelectColumn("NM1");var _q=this.ds_1.getSelectColumn("DEPT_NM1");var _r=this.ds_1.getSelectColumn("HR_CLSF_NM1");var _s=this.ds_1.getSelectColumn("NM2");var _t=this.ds_1.getSelectColumn("DEPT_NM2");var _u=this.ds_1.getSelectColumn("HR_CLSF_NM2");_o.push(_q+"  "+_r+"  "+_p);_o.push(_t+"  "+_u+"  "+_s);_o.join("\r");var _v=[];var _w=this.ds_4.rowcount;for(_am=0;_am<_w;_am++ ){var _x=this.ds_4.getColumn(_am,"EMPNO")||'';if(_x.trim()){var _y=this.ds_4.getColumn(_am,"DEPT_NM");var _z=this.ds_4.getColumn(_am,"HR_CLSF_NM");var _aa=this.ds_4.getColumn(_am,"EMPNM");_v.push(_y+"  "+_z+"  "+_aa);}}_v.join("\r");var _ab=this.ds_1.getSelectColumn("PXCOND_AMOUNT");var _ac=this.ds_1.getSelectColumn("REMAIN_AMT");var _ad=new Array(11);_ad[0]="금 "+this.comUtils.formatComma(_i)+"( "+_j+" )정";_ad[1]=_n;_ad[2]=_k.substring(0,4)+"년 "+_k.substring(4,6)+"월 "+_k.substring(6,8)+"일";_ad[3]="년 "+"월 "+"일";_ad[4]=_l.substring(0,4)+"년 "+_l.substring(4,6)+"월 "+_l.substring(6,8)+"일";_ad[5]=_m.substring(0,4)+"년 "+_m.substring(4,6)+"월 "+_m.substring(6,8)+"일";_ad[6]=this.comUtils.formatComma(_ac);_ad[7]=_v;_ad[8]=_o;_ad[9]="";_ad[10]=this.comUtils.formatComma(_ab);var _ae=_ad.join("|");var _af=_h;var _ag=_h;this.ds_approve.clearData();this.ds_approve.addRow();this.ds_approve.setColumn(0,"TITLE",_ag);this.ds_approve.setColumn(0,"DATA_TITLE",_af);this.ds_approve.setColumn(0,"DATA_VALUE",_ae);this.ds_approve.setColumn(0,"DEPT_CD",application.gds_userInfo.getColumn(0,"DEPT_CODE"));this.ds_approve.setColumn(0,"EMP_CD",application.gds_userInfo.getColumn(0,"USER_ID"));this.ds_approve.setColumn(0,"EMPNO",application.gds_userInfo.getColumn(0,"USER_ID"));this.ds_approve.setColumn(0,"SANCTION_DIV","COM3011");var _ah="approve";var _ai="/hsco/pms/prj/approveU.do";var _aj="input1=ds_approve";var _ak="ds_approve=output1";var _al="";Ex.core.tran(this,_ah,_ai,_aj,_ak,_al);this.fn_transaction("approve");};});this.on_initEvent=function(){this.ds_ctr.addEventHandler("onrowposchanged",this.ds_ctr_onrowposchanged,this);this.ds_1.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.ds_3.addEventHandler("oncolumnchanged",this.ds_oncolumnchanged,this);this.ds_BSNS.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.ds_BSNS.addEventHandler("canrowposchange",this.ds_canrowposchange,this);this.ds_4.addEventHandler("oncolumnchanged",this.ds_oncolumnchanged,this);this.ds_rdo.addEventHandler("onrowposchanged",this.ds_ctr_onrowposchanged,this);this.addEventHandler("onload",this.PRJ040601_onload,this);this.addEventHandler("oninit",this.PRJ040601_oninit,this);this.div_search.cmb_bsns_code.addEventHandler("onitemchanged",this.fn_bsnsChanged,this);this.div_work.div_1.btn_31.addEventHandler("onclick",this.div_work_div_1_btn_31_onclick,this);this.div_work.div_1.btn_32.addEventHandler("onclick",this.div_work_div_1_btn_32_onclick,this);this.div_work.div_1.grd_1.addEventHandler("oncellclick",this.grd_1_oncellclick,this);this.div_sanction.btn_print.addEventHandler("onclick",this.div_print_btn_print_onclick,this);this.div_sanction.btn_printCancel.addEventHandler("onclick",this.div_print_btn_printCancel_onclick,this);this.div_02.grd_2.addEventHandler("oncellclick",this.grd_oncellclick,this);this.div_02.grd_2.addEventHandler("onheadclick",this.grd_onheadclick,this);this.div_03.grd_Files.addEventHandler("oncellclick",this.grd_Files_oncellclick,this);this.div_00.sta_1.addEventHandler("onclick",this.div_00_sta_1_onclick,this);this.div_00.grd_ctrDtl.addEventHandler("oncellclick",this.div_00_grd_ctrDtl_oncellclick,this);this.div_00.btn_31.addEventHandler("onclick",this.div_00_btn_31_onclick,this);this.div_00.btn_32.addEventHandler("onclick",this.div_00_btn_32_onclick,this);};this.loadIncludeScript("PRJ040601.xfdl");};})();