(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ010108");this.set_classname("PRJ010108");this.set_titletext("참여기술자 등록/변경");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_YEAR\" type=\"STRING\" size=\"4\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"1Hist\"/><Column id=\"INFRML_CNTRCT_AT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_bzPcp",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BZ_PCP_ROL_DS_CD\" type=\"STRING\" size=\"256\"/><Column id=\"UPP_BZ_PCP_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_PCP_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BRDY\" type=\"STRING\" size=\"256\"/><Column id=\"TECH_GD_NM\" type=\"STRING\" size=\"256\"/><Column id=\"TECH_QF_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CRR_NM\" type=\"STRING\" size=\"256\"/><Column id=\"TSK_DTLS\" type=\"STRING\" size=\"256\"/><Column id=\"PCP_ST_DT\" type=\"STRING\" size=\"256\"/><Column id=\"PCP_ED_DT\" type=\"STRING\" size=\"256\"/><Column id=\"RN_BSS_YR\" type=\"STRING\" size=\"256\"/><Column id=\"RN_BSS_NO\" type=\"STRING\" size=\"256\"/><Column id=\"RN_BSS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"RN_BSS_DT\" type=\"STRING\" size=\"256\"/><Column id=\"CHG_RSN\" type=\"STRING\" size=\"256\"/><Column id=\"CTRT_YRNO\" type=\"STRING\" size=\"256\"/><Column id=\"KEYWORD\" type=\"STRING\" size=\"256\"/><Column id=\"CTGRY_FILE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_SN\" type=\"STRING\" size=\"256\"/><Column id=\"CTRT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"APRV_SEQ\" type=\"STRING\" size=\"256\"/><Column id=\"APRV_PGM_ID\" type=\"STRING\" size=\"256\"/><Column id=\"UPP_BZ_PCP_CNT\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_CTS\" type=\"STRING\" size=\"256\"/><Column id=\"LST_PCP_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ACTV_CS_SN\" type=\"STRING\" size=\"256\"/><Column id=\"UPP_BZ_PCP_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FST_BZ_PCP_SN\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_PCP_SN\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_CD\" type=\"STRING\" size=\"256\"/><Column id=\"PCP_CHG_RTV\" type=\"STRING\" size=\"256\"/><Column id=\"APRV_STAT\" type=\"STRING\" size=\"256\"/><Column id=\"APRV_CNT\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_YEAR\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"APV_YN\" type=\"STRING\" size=\"256\"/><Column id=\"GICO_ROW_STATUS\" type=\"STRING\" size=\"256\"/><Column id=\"UPD_GU\" type=\"STRING\" size=\"256\"/><Column id=\"PCP_FLD_DS_CD\" type=\"STRING\" size=\"256\"/><Column id=\"UPD_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ATCH_CNT\" type=\"STRING\" size=\"256\"/><Column id=\"BLN_FRM_NM\" type=\"STRING\" size=\"256\"/><Column id=\"REGISTER_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_bzPcpHist",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_YEAR\" type=\"STRING\" size=\"10\"/><Column id=\"CNTRCT_NO\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"BZ_PCP_SN\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"BZ_PCP_ROL_DS_CD\" type=\"STRING\" size=\"3\"/><Column id=\"UPP_BZ_PCP_SN\" type=\"STRING\" size=\"8\"/><Column id=\"BZ_PCP_NM\" type=\"STRING\" size=\"256\"/><Column id=\"UPP_BZ_PCP_NM\" type=\"STRING\" size=\"256\"/><Column id=\"BRDY\" type=\"STRING\" size=\"256\"/><Column id=\"TECH_GD_NM\" type=\"STRING\" size=\"256\"/><Column id=\"TECH_QF_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CRR_NM\" type=\"STRING\" size=\"256\"/><Column id=\"TSK_DTLS\" type=\"STRING\" size=\"256\"/><Column id=\"PCP_ST_DT\" type=\"STRING\" size=\"256\"/><Column id=\"PCP_ED_DT\" type=\"STRING\" size=\"256\"/><Column id=\"PCP_CHG_RTV\" type=\"STRING\" size=\"256\"/><Column id=\"LST_PCP_YN\" type=\"STRING\" size=\"256\"/><Column id=\"CHG_RSN\" type=\"STRING\" size=\"256\"/><Column id=\"FST_BZ_PCP_SN\" type=\"STRING\" size=\"256\"/><Column id=\"RN_BSS_YR\" type=\"STRING\" size=\"256\"/><Column id=\"RN_BSS_NO\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_SN\" type=\"STRING\" size=\"256\"/><Column id=\"GUBUN_1\" type=\"STRING\" size=\"256\"/><Column id=\"UPP_PCP_ED_DT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">CNTRCT_YEAR</Col><Col id=\"msgId\">[검색조건] 계약년도</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">CNTRCT_NO</Col><Col id=\"msgId\">[검색조건] 계약번호</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"colId\">BZ_PCP_ROL_DS_CD</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 참여역할</Col></Row><Row><Col id=\"colId\">BZ_PCP_NM</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 성명</Col></Row><Row><Col id=\"colId\">BRDY</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 생년월일</Col></Row><Row><Col id=\"colId\">TECH_GD_NM</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 등급</Col></Row><Row><Col id=\"colId\">TECH_QF_NM</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 기술자격</Col></Row><Row><Col id=\"colId\">CRR_NM</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 경력</Col></Row><Row><Col id=\"colId\">TSK_DTLS</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 업무내역</Col></Row><Row><Col id=\"colId\">PCP_ST_DT</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 참여시작일</Col></Row><Row><Col id=\"colId\">PCP_ED_DT</Col><Col id=\"compId\">ds_bzPcp</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[최종 참여자] 참여종료일</Col></Row><Row><Col id=\"colId\">PCP_ST_DT</Col><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[참여자] 변경일자</Col></Row><Row><Col id=\"colId\">PCP_ED_DT</Col><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[참여자] 참여종료일</Col></Row><Row><Col id=\"colId\">BZ_PCP_NM</Col><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[참여자] 성명</Col></Row><Row><Col id=\"colId\">TECH_GD_NM</Col><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[참여자] 등급</Col></Row><Row><Col id=\"colId\">TECH_QF_NM</Col><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[참여자] 기술자격</Col></Row><Row><Col id=\"colId\">CRR_NM</Col><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">[참여자] 경력</Col></Row><Row><Col id=\"colId\">PCP_ST_DT</Col><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"from\">UPP_PCP_ED_DT</Col><Col id=\"to\">PCP_ST_DT</Col><Col id=\"msgId\">신규기술자 참여시작일^이전기술자 참여종료일</Col></Row><Row><Col id=\"compId\">ds_bzPcpHist</Col><Col id=\"colId\">PCP_ST_DT</Col><Col id=\"msgId\">참여시작일^종료일</Col><Col id=\"from\">PCP_ST_DT</Col><Col id=\"to\">PCP_ED_DT</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_condSub2",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_PCP_SN\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_fileList",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"20\"/><Column id=\"FILE_ORDR\" type=\"INT\" size=\"3\"/><Column id=\"FILE_STRE_COURS\" type=\"STRING\" size=\"2Hist0\"/><Column id=\"STRE_FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"ORGINL_FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"FILE_EXTSN\" type=\"STRING\" size=\"20\"/><Column id=\"FILE_CN\" type=\"STRING\" size=\"4Hist0\"/><Column id=\"FILE_MG\" type=\"INT\" size=\"8\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"1\"/><Column id=\"FILE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"INT\" size=\"5\"/><Column id=\"SYS_SE_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"JOB_SE\" type=\"STRING\" size=\"3\"/><Column id=\"FILE_TY\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_IMAGE\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"INT\" size=\"5\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"INT\" size=\"256\"/><Column id=\"DELETE_IMAGE\" type=\"STRING\" size=\"256\"/><Column id=\"STTUS\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_KEY\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_condSub1",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_PCP_SN\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FST_BZ_PCP_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctgry_file",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"DOC_CS_SN\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_CS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CTGRY_ID\" type=\"STRING\" size=\"256\"/><Column id=\"ESN_YN\" type=\"STRING\" size=\"256\"/><Column id=\"DPL_RGS_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ACTV_CS_SN\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_SN\" type=\"STRING\" size=\"256\"/><Column id=\"CTGRY_FILE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"ORGINL_FILE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_PCP_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond_file",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_fileListHist",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"20\"/><Column id=\"FILE_ORDR\" type=\"INT\" size=\"3\"/><Column id=\"FILE_STRE_COURS\" type=\"STRING\" size=\"2Hist0\"/><Column id=\"STRE_FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"ORGINL_FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"FILE_EXTSN\" type=\"STRING\" size=\"20\"/><Column id=\"FILE_CN\" type=\"STRING\" size=\"4Hist0\"/><Column id=\"FILE_MG\" type=\"INT\" size=\"8\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"1\"/><Column id=\"FILE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"INT\" size=\"5\"/><Column id=\"SYS_SE_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"JOB_SE\" type=\"STRING\" size=\"3\"/><Column id=\"FILE_TY\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_IMAGE\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"INT\" size=\"5\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"INT\" size=\"256\"/><Column id=\"DELETE_IMAGE\" type=\"STRING\" size=\"256\"/><Column id=\"STTUS\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_KEY\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_condSubHist",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_PCP_SN\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctgry_fileHist",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"DOC_CS_SN\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_CS_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CTGRY_ID\" type=\"STRING\" size=\"256\"/><Column id=\"ESN_YN\" type=\"STRING\" size=\"256\"/><Column id=\"DPL_RGS_YN\" type=\"STRING\" size=\"256\"/><Column id=\"ACTV_CS_SN\" type=\"STRING\" size=\"256\"/><Column id=\"DOC_SN\" type=\"STRING\" size=\"256\"/><Column id=\"CTGRY_FILE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"ORGINL_FILE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"BZ_PCP_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond_fileHist",this);_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Button("btn_cancelPrsecWtnessHist","absolute",null,"43","64","19","420",null,this);_a.set_taborder("0");_a.set_text("취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Button("btn_Del01","absolute",null,"43","64","19","487",null,this);_a.set_taborder("1");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_Add01","absolute",null,"43","64","19","554",null,this);_a.set_taborder("2");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Grid("grd_ctgry_file","absolute",null,"68","382","331","28",null,this);_a.set_taborder("3");_a.set_binddataset("ds_ctgry_file");_a.set_autoenter("select");_a.set_cellsizingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"250\"/><Column size=\"70\"/><Column size=\"90\"/><Column size=\"250\"/><Column size=\"60\"/><Column size=\"40\"/><Column size=\"70\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"No\"/><Cell col=\"1\" text=\"표준문서\"/><Cell col=\"2\" text=\"필수여부\"/><Cell col=\"3\" text=\"복수등록허용\"/><Cell col=\"4\" colspan=\"4\" text=\"파일명\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:DOC_CS_NM\"/><Cell col=\"2\" displaytype=\"checkbox\" text=\"bind:ESN_YN\"/><Cell col=\"3\" displaytype=\"checkbox\" text=\"bind:DPL_RGS_YN\"/><Cell col=\"4\" style=\"align:left;\" text=\"bind:ORGINL_FILE_NM\"/><Cell col=\"5\" displaytype=\"button\" text=\"업로드\"/><Cell col=\"6\" displaytype=\"button\" text=\"삭제\"/><Cell col=\"7\" displaytype=\"button\" text=\"다운로드\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("sta_gnfdListHist","absolute",null,"44","100","19","310",null,this);_a.set_taborder("7");_a.set_text("첨부파일");_a.set_cssclass("sta_WF_Title02");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","639","67","11","668",null,null,this);_a.set_taborder("8");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_cancelPrsecWtness","absolute",null,"409","64","19","420",null,this);_a.set_taborder("9");_a.set_text("취소");_a.set_cssclass("btn_WF_Gridcnl");this.addChild(_a.name,_a);_a=new Button("btn_Del02","absolute",null,"409","64","19","487",null,this);_a.set_taborder("10");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_Add02","absolute",null,"409","64","19","554",null,this);_a.set_taborder("11");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Grid("grd_prsecWtnessDtls","absolute","0","433",null,null,"420","0",this);_a.set_taborder("12");_a.set_binddataset("ds_bzPcpHist");_a.set_autoenter("select");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"80\"/><Column size=\"0\"/><Column size=\"110\"/><Column size=\"110\"/><Column size=\"1Hist\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"110\"/><Column size=\"70\"/><Column size=\"1Hist\"/><Column size=\"100\"/><Column size=\"80\"/><Column size=\"340\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"순번\"/><Cell col=\"1\" rowspan=\"2\" text=\"현참여자&#13;&#10;여부\"/><Cell col=\"2\" rowspan=\"2\" text=\"승인여부\"/><Cell col=\"3\" rowspan=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"변경일자&#13;&#10;(참여시작일)\"/><Cell col=\"4\" rowspan=\"2\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"참여종료일\"/><Cell col=\"5\" rowspan=\"2\" text=\"참여업체명\"/><Cell col=\"6\" text=\"이전기술자\"/><Cell col=\"7\" colspan=\"6\" text=\"변경기술자\"/><Cell col=\"13\" rowspan=\"2\" text=\"변경사유\"/><Cell row=\"1\" col=\"6\" text=\"성명\"/><Cell row=\"1\" col=\"7\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"성명\"/><Cell row=\"1\" col=\"8\" text=\"생년월일\"/><Cell row=\"1\" col=\"9\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"등급\"/><Cell row=\"1\" col=\"10\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"기술자격\"/><Cell row=\"1\" col=\"11\" text=\"기술자격\"/><Cell row=\"1\" col=\"12\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"경력\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" style=\"color:red;color2:red;selectcolor:red;\" text=\"bind:GUBUN_1\"/><Cell col=\"2\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:APV_YN\"/><Cell col=\"3\" displaytype=\"date\" edittype=\"date\" text=\"bind:PCP_ST_DT\" mask=\"yyyy-MM-dd\" calendardisplay=\"display\" calendardisplaynulltype=\"nulltext\"/><Cell col=\"4\" displaytype=\"date\" edittype=\"date\" text=\"bind:PCP_ED_DT\" calendardisplay=\"display\" calendardisplaynulltype=\"nulltext\"/><Cell col=\"5\" displaytype=\"text\" edittype=\"text\" style=\"align:left;\" text=\"bind:BLN_FRM_NM\" editdisplay=\"display\"/><Cell col=\"6\" displaytype=\"normal\" edittype=\"none\" style=\"align:center;\" text=\"bind:UPP_BZ_PCP_NM\"/><Cell col=\"7\" displaytype=\"text\" edittype=\"text\" style=\"align:center;\" text=\"bind:BZ_PCP_NM\" editlimit=\"30\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"8\" displaytype=\"date\" edittype=\"date\" text=\"bind:BRDY\" mask=\"yyyy-MM-dd\" calendardisplay=\"display\" calendardisplaynulltype=\"nulltext\"/><Cell col=\"9\" displaytype=\"text\" edittype=\"text\" style=\"align:center;\" text=\"bind:TECH_GD_NM\" editlimit=\"30\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"10\" displaytype=\"text\" edittype=\"text\" style=\"align:center;\" text=\"bind:TECH_QF_NM\" editlimit=\"1Hist\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"11\" edittype=\"text\" text=\"bind:TECH_QF_NM\" editlimit=\"100\" editdisplay=\"display\"/><Cell col=\"12\" displaytype=\"text\" edittype=\"text\" style=\"align:center;\" text=\"bind:CRR_NM\" editlimit=\"100\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"13\" displaytype=\"text\" edittype=\"text\" style=\"align:left;\" text=\"bind:CHG_RSN\" editlimit=\"100\" editdisplay=\"display\" editlengthunit=\"utf8\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Grid("grd_ctgry_fileHist","absolute",null,"433","382",null,"28","0",this);_a.set_taborder("13");_a.set_binddataset("ds_ctgry_fileHist");_a.set_autoenter("select");_a.set_cellsizingtype("col");_a.set_autofittype("none");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"250\"/><Column size=\"70\"/><Column size=\"90\"/><Column size=\"250\"/><Column size=\"60\"/><Column size=\"40\"/><Column size=\"70\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"No\"/><Cell col=\"1\" text=\"표준문서\"/><Cell col=\"2\" text=\"필수여부\"/><Cell col=\"3\" text=\"복수등록허용\"/><Cell col=\"4\" colspan=\"4\" text=\"파일명\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:DOC_CS_NM\"/><Cell col=\"2\" displaytype=\"checkbox\" text=\"bind:ESN_YN\"/><Cell col=\"3\" displaytype=\"checkbox\" text=\"bind:DPL_RGS_YN\"/><Cell col=\"4\" style=\"align:left;\" text=\"bind:ORGINL_FILE_NM\"/><Cell col=\"5\" displaytype=\"button\" text=\"업로드\"/><Cell col=\"6\" displaytype=\"button\" text=\"삭제\"/><Cell col=\"7\" displaytype=\"button\" text=\"다운로드\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("sta_gnfdList03","absolute",null,"409","100","19","310",null,this);_a.set_taborder("17");_a.set_text("첨부파일");_a.set_cssclass("sta_WF_Title02");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","399",null,"10","28",null,this);_a.set_taborder("18");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_prsecWtnessDtls","absolute","0","409","120","19",null,null,this);_a.set_taborder("19");_a.set_text("참여기술자 변경");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("StaticHist","absolute","0","428",null,"5","28",null,this);_a.set_taborder("20");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd_bzPcp","absolute","0","67",null,"333","419",null,this);_a.set_taborder("21");_a.set_binddataset("ds_bzPcp");_a.set_autoenter("select");_a.set_cellsizingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"80\"/><Column size=\"1Hist\"/><Column size=\"80\"/><Column size=\"110\"/><Column size=\"60\"/><Column size=\"120\"/><Column size=\"60\"/><Column size=\"120\"/><Column size=\"110\"/><Column size=\"110\"/><Column size=\"150\"/><Column size=\"80\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"참여역할\"/><Cell col=\"2\" text=\"참여업체명\"/><Cell col=\"3\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"성명\"/><Cell col=\"4\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"생년월일\"/><Cell col=\"5\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"등급\"/><Cell col=\"6\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"기술자격\"/><Cell col=\"7\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"경력\"/><Cell col=\"8\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"업무내역\"/><Cell col=\"9\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"참여시작일\"/><Cell col=\"10\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"참여종료일\"/><Cell col=\"11\" text=\"변경사유\"/><Cell col=\"12\" text=\"등록자\"/></Band><Band id=\"body\"><Cell text=\"expr:currow + 1\"/><Cell col=\"1\" edittype=\"text\" text=\"bind:BZ_PCP_ROL_DS_CD\" editlimit=\"30\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"2\" edittype=\"text\" text=\"bind:BLN_FRM_NM\" editlimit=\"1Hist\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"3\" edittype=\"text\" text=\"bind:BZ_PCP_NM\" editlimit=\"30\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"4\" displaytype=\"date\" edittype=\"date\" text=\"bind:BRDY\" editlengthunit=\"utf8\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" edittype=\"text\" text=\"bind:TECH_GD_NM\" editlimit=\"100\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"6\" edittype=\"text\" text=\"bind:TECH_QF_NM\" editlimit=\"100\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"7\" edittype=\"normal\" text=\"bind:CRR_NM\" editlimit=\"100\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"8\" edittype=\"text\" text=\"bind:TSK_DTLS\" editlimit=\"100\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"9\" displaytype=\"date\" edittype=\"date\" text=\"bind:PCP_ST_DT\" editlengthunit=\"utf8\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"10\" displaytype=\"date\" edittype=\"date\" text=\"bind:PCP_ED_DT\" editlengthunit=\"utf8\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"11\" edittype=\"text\" text=\"bind:CHG_RSN\" editlimit=\"100\" editdisplay=\"display\" editlengthunit=\"utf8\"/><Cell col=\"12\" text=\"bind:REGISTER_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","62",null,"5","28",null,this);_a.set_taborder("22");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("23");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new MaskEdit("msk_CNTRCT_NO","absolute","87","5","115","21",null,null,this.div_search);_a.set_taborder("10");_a.set_readonly("true");_a.set_type("string");_a.set_mask("####-#-#####");_a.set_maskchar(" ");_a.set_cssclass("msk_WF_Essential");_a.style.set_align("left middle");this.div_search.addChild(_a.name,_a);_a=new Static("sta_CNTRCT_NO","absolute","23","5","64","21",null,null,this.div_search);_a.set_taborder("11");_a.set_text("계약번호");_a.set_wordwrap("char");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static36","absolute","357","0","38","5",null,null,this.div_search);_a.set_taborder("12");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static37","absolute","365","8","38","5",null,null,this.div_search);_a.set_taborder("13");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#fa794f66");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","5","15",null,null,"5",this.div_search);_a.set_taborder("14");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#Histffff66");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_CNTRCT_NM","absolute","204","5","280","21",null,null,this.div_search);_a.set_taborder("15");_a.set_readonly("true");this.div_search.addChild(_a.name,_a);_a=new Button("searchCtrt","absolute","181","5","21","21",null,null,this.div_search);_a.set_taborder("16");_a.set_cssclass("btn_WF_Search");this.div_search.addChild(_a.name,_a);_a=new Static("Static05","absolute",null,"0","13","735","0",null,this);_a.set_taborder("24");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","1031","0","15","735",null,null,this);_a.set_taborder("25");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_top","absolute","0","33",null,"10","28",null,this);_a.set_taborder("26");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_cntrctList","absolute","0","43",null,"19","908",null,this);_a.set_taborder("27");_a.set_text("최종 참여기술자 명단");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("23");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("PRJ010108");_b.set_titletext("참여기술자 등록/변경");});this.addLayout(_a.name,_a);_a=new BindItem("item1","div_search.msk_CNTRCT_NO","value","ds_cond","CNTRCT_NO");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item43","div_search.edt_CNTRCT_NM","value","ds_cond","CNTRCT_NM");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("PRJ010108.xfdl","lib::comInclude.xjs");this.addIncludeScript("PRJ010108.xfdl","mis_lib::misUtil.xjs");this.addIncludeScript("PRJ010108.xfdl","lib::comUpDownUtils.xjs");this.registerScript("PRJ010108.xfdl",function(){this.File_UpDownManager=null;this.chargerAt=false;var _a= -1;var _b= -1;this.PRJ010108_oninit=function(_c,_d){};this.PRJ010108_onload=function(_c,_d){this.fn_init_form();this.fn_init_dataset();};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);this.ds_cond.clearData();var _c=this.ds_cond.addRow();this.ds_cond.setColumn(_c,"CNTRCT_YEAR",this.comUtils.getClientDate("YYYY"));};this.fn_init_dataset=function(){var _c={useMultiUpload:true,onChange:this.fn_onFileSelected,onSuccess:this.fn_onFileSuccess};this.File_UpDownManager=new this.fileUpDownManager(this,"PMS","PRJ");this.File_UpDownManager.init(_c);};this.fn_search=function(){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}this.ds_bzPcp.clearData();this.ds_bzPcpHist.clearData();this.ds_fileList.clearData();this.fn_transaction("selectDsMain");};this.fn_save=function(){if(!this.comUtils.isDatasetUpdated(this.ds_bzPcpHist)&&!this.comUtils.isDatasetUpdated(this.ds_bzPcp)){this.gfn_message("comm.데이터.변경.없음");return false;}if(!this.gfn_checkValidation_NoUpdChk(this.ds_bzPcpHist,this.ds_validation)){return;}if(!this.gfn_checkValidation_NoUpdChk(this.ds_bzPcpHist,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){_a=this.ds_bzPcp.rowposition;_b=this.ds_bzPcpHist.rowposition;this.fn_transaction("saveDsMain");}};this.fn_transaction=function(_c){switch(_c){case "selectDsMain":var _d="hsco/pms/prj/PRJ010108/selectDsMain.do";var _e="input1=ds_cond";var _f="ds_bzPcp=output1";break;case "selectDsSub":var _d="hsco/pms/prj/PRJ010108/selectDsSub.do";var _e="input1=ds_condSub1";var _f="ds_bzPcpHist=output1";break;case "saveDsMain":var _d="hsco/pms/prj/PRJ010108/saveDsMain.do";var _e="input1=ds_bzPcp:U input2=ds_bzPcpHist:U";var _f="";break;case "selectCtgryFile":var _d="/hsco/pms/prj/PRJ010108/selectCtgryFile.do";var _e="input1=ds_condSub1";var _f="ds_ctgry_file=output1";break;case "saveCtgryFile":var _d="/hsco/pms/prj/PRJ010108/saveCtgryFile.do";var _e="input1=ds_ctgry_file:A";var _f="ds_ctgry_file=output1";break;case "selectAtchFile":var _d="/hsco/cmm/file/selectAtchmnFileList.do";var _e="input1=ds_cond_file";var _f="ds_fileList=output1";break;case "deleteFile":var _d="hsco/cmm/file/deleteFile.do";var _e="input1=ds_fileList:U";var _f="ds_fileList=output1";break;case "selectCtgryFileHist":var _d="/hsco/pms/prj/PRJ010108/selectCtgryFile.do";var _e="input1=ds_condSub2";var _f="ds_ctgry_fileHist=output1";break;case "saveCtgryFileHist":var _d="/hsco/pms/prj/PRJ010108/saveCtgryFile.do";var _e="input1=ds_ctgry_fileHist:A";var _f="ds_ctgry_fileHist=output1";break;case "selectAtchFileHist":var _d="/hsco/cmm/file/selectAtchmnFileList.do";var _e="input1=ds_cond_FileHistHist";var _f="ds_fileListHist=output1";break;case "deleteFileHist":var _d="hsco/cmm/file/deleteFile.do";var _e="input1=ds_fileListHist:U";var _f="ds_fileListHist=output1";break;}Ex.core.tran(this,_c,_d,_e,_f);};this.fn_callBack=function(_c,_d,_e){if(_d!=0){this.gfn_callback_message(_c,_d,_e);}if(_d!=0){}else{switch(_c){case "selectDsMain":if(_a> -1){this.ds_bzPcp.set_useclientlayout(false);this.ds_bzPcp.set_rowposition(_a);this.ds_bzPcp.set_useclientlayout(true);_a= -1;}break;case "selectDsSub":if(_b> -1){this.ds_bzPcpHist.set_useclientlayout(false);this.ds_bzPcpHist.set_rowposition(_b);this.ds_bzPcpHist.set_useclientlayout(true);_b= -1;}this.ds_fileListHist.clearData();if(this.ds_bzPcpHist.getRowCount()>0){this.fn_search_ctgryFileHist();}break;case "saveDsMain":this.gfn_message("success.처리.성공");this.fn_search();break;case "selectCtgryFile":this.fn_transaction("selectDsSub");break;case "selectAtchFile":if(this.ds_fileList.getRowCount()>0){var _f=this.ds_fileList.rowposition;var _g=this.ds_fileList.getColumn(_f,"FILE_SN");var _h=this.ds_fileList.getColumn(_f,"ORGINL_FILE_NM");var _i=this.ds_fileList.getColumn(_f,"FILE_ORDR");var _j=this.ds_ctgry_file.rowposition;this.ds_ctgry_file.setColumn(_j,"FILE_SN",_g);this.ds_ctgry_file.setColumn(_j,"ORGINL_FILE_NM",_h);this.ds_ctgry_file.setColumn(_j,"FILE_ORDR",_i);var _k=this.ds_ctgry_file.getColumn(_j,"DOC_SN");var _l=this.ds_ctgry_file.getColumn(_j,"CTGRY_FILE_ID");if(this.comUtils.isNull(_k)||this.comUtils.isNull(_l)){this.fn_transaction("saveCtgryFile");}}break;case "deleteFile":this.fn_transaction("selectCtgryFile");break;case "saveCtgryFile":var _m=this.ds_ctgry_file.rowposition;var _k=this.ds_ctgry_file.getColumn(_m,"DOC_SN");this.ds_bzPcp.set_enableevent(false);this.ds_bzPcp.set_updatecontrol(false);var _f=this.ds_bzPcp.rowposition;this.ds_bzPcp.setColumn(_f,"DOC_SN",_k);this.ds_bzPcp.set_updatecontrol(true);this.ds_bzPcp.set_enableevent(true);break;case "selectAtchFileHist":if(this.ds_fileList.getRowCount()>0){var _f=this.ds_fileListHist.rowposition;var _g=this.ds_fileListHist.getColumn(_f,"FILE_SN");var _h=this.ds_fileListHist.getColumn(_f,"ORGINL_FILE_NM");var _i=this.ds_fileListHist.getColumn(_f,"FILE_ORDR");var _j=this.ds_ctgry_fileHist.rowposition;this.ds_ctgry_fileHist.setColumn(_j,"FILE_SN",_g);this.ds_ctgry_fileHist.setColumn(_j,"ORGINL_FILE_NM",_h);this.ds_ctgry_fileHist.setColumn(_j,"FILE_ORDR",_i);var _k=this.ds_ctgry_fileHist.getColumn(_j,"DOC_SN");var _l=this.ds_ctgry_fileHist.getColumn(_j,"CTGRY_FILE_ID");if(this.comUtils.isNull(_k)||this.comUtils.isNull(_l)){this.fn_transaction("saveCtgryFileHist");}}break;case "deleteFileHist":this.fn_transaction("selectCtgryFileHist");break;case "saveCtgryFileHist":var _m=this.ds_ctgry_fileHist.rowposition;var _k=this.ds_ctgry_fileHist.getColumn(_m,"DOC_SN");this.ds_bzPcpHist.set_enableevent(false);this.ds_bzPcpHist.set_updatecontrol(false);var _f=this.ds_bzPcpHist.rowposition;this.ds_bzPcpHist.setColumn(_f,"DOC_SN",_k);this.ds_bzPcpHist.set_updatecontrol(true);this.ds_bzPcpHist.set_enableevent(true);break;}}};this.fn_popupCallBack=function(_c,_d){var _e=new Dataset();var _f=_e.loadXML(_d);if(!_f){return false;}switch(_c){case "CTR030100_P08":var _e=new Dataset();var _f=_e.loadXML(_d);if(_f){var _g=_e.getColumn(0,"CNTRCT_NO");var _h=_e.getColumn(0,"CNTRCT_NM");var _i=_g.substr(0,4);this.ds_cond.setColumn(0,"CNTRCT_YEAR",_i);this.ds_cond.setColumn(0,"CNTRCT_NO",_g);this.ds_cond.setColumn(0,"CNTRCT_NM",_h);this.fn_search();}break;}};this.fn_cancel=function(){if(Ex.util.isUpdated(this.ds_bzPcp)||Ex.util.isUpdated(this.ds_bzPcpHist)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}this.ds_bzPcp.reset();this.ds_bzPcpHist.reset();this.ds_bzPcp.applyChange();this.ds_bzPcpHist.applyChange();}};this.div_search_searchCtrt_onclick=function(_c,_d){var _e={arg_0:this,cntrctYear:this.ds_cond.getColumn(0,"CNTRCT_YEAR"),infrmlCntrctAt:0};this.gfn_popup("CTR030100_P08",800,530,"계약번호 선택",_e,"mis_ctr::CTR030100_P08.xfdl","fn_popupCallBack",true);};this.btn_Add_onclick=function(_c,_d){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}switch(_c.name){case "btn_Add01":var _e=this.ds_bzPcp.addRow();this.ds_fileList.clearData();this.ds_bzPcpHist.clearData();this.ds_fileListHist.clearData();this.ds_bzPcp.setColumn(_e,"CNTRCT_YEAR",this.ds_cond.getColumn(0,"CNTRCT_YEAR"));this.ds_bzPcp.setColumn(_e,"CNTRCT_NO",this.ds_cond.getColumn(0,"CNTRCT_NO"));this.ds_bzPcp.setColumn(_e,"REGISTER_NM",this.fn_getEmpnm());this.ds_bzPcp.setColumn(_e,"PCP_CHG_RTV",1);this.ds_bzPcp.setColumn(_e,"APV_YN",1);this.ds_bzPcp.setColumn(_e,"LST_PCP_YN",'Y');break;case "btn_Add02":var _f=this.ds_bzPcp.rowposition;if(_f<0){this.gfn_message("comm.항목.선택.요청","최종 참여기술자 명단");return false;}if(this.ds_bzPcp.getRowType(this.ds_bzPcp.rowposition)==2){this.gfn_message("comm.정보.저장.요청","최종 참여기술자 명단");return false;}var _e=this.ds_bzPcpHist.addRow();this.ds_bzPcpHist.setColumn(_e,"CNTRCT_YEAR",this.ds_cond.getColumn(0,"CNTRCT_YEAR"));this.ds_bzPcpHist.setColumn(_e,"CNTRCT_NO",this.ds_cond.getColumn(0,"CNTRCT_NO"));this.ds_bzPcpHist.setColumn(_e,"FST_BZ_PCP_SN",this.ds_bzPcp.getColumn(_f,"FST_BZ_PCP_SN"));this.ds_bzPcpHist.setColumn(_e,"UPP_BZ_PCP_NM",this.ds_bzPcp.getColumn(_f,"BZ_PCP_NM"));this.ds_bzPcpHist.setColumn(_e,"UPP_BZ_PCP_SN",this.ds_bzPcp.getColumn(_f,"BZ_PCP_SN"));this.ds_bzPcpHist.setColumn(_e,"UPP_PCP_ED_DT",this.ds_bzPcp.getColumn(_f,"PCP_ED_DT"));this.ds_bzPcpHist.setColumn(_e,"REGISTER_NM",this.fn_getEmpnm());this.ds_bzPcpHist.setColumn(_e,"PCP_CHG_RTV",nexacro.toNumber(this.ds_bzPcp.getColumn(_f,"PCP_CHG_RTV"),0,0,0)+1);this.ds_bzPcpHist.setColumn(_e,"APV_YN",1);this.ds_bzPcpHist.setColumn(_e,"LST_PCP_YN",'Y');this.ds_bzPcp.setColumn(_e,"LST_PCP_YN",'N');break;}};this.btn_Delete_onclick=function(_c,_d){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}switch(_c.name){case "btn_Del01":if(this.ds_bzPcp.getColumn(this.ds_bzPcp.rowposition,"LST_PCP_YN")=='N'){alert("다른 사람으로 변경되었습니다.");return false;}this.ds_bzPcp.deleteRow(this.ds_bzPcp.rowposition);this.ds_condSub1.clearData();this.ds_bzPcpHist.clearData();var _e=this.ds_condSub1.addRow();this.ds_condSub1.setColumn(_e,"CNTRCT_NO",_c.getColumn(_d.newrow,"CNTRCT_NO"));this.ds_condSub1.setColumn(_e,"BZ_PCP_SN",_c.getColumn(_d.newrow,"BZ_PCP_SN"));this.ds_condSub1.setColumn(_e,"DOC_SN",_c.getColumn(_d.newrow,"DOC_SN"));this.fn_search_ctgryFile();break;case "btn_Del02":if(this.ds_bzPcp.getColumn(this.ds_bzPcp.rowposition,"BZ_PCP_SN")!=this.ds_bzPcpHist.getColumn(this.ds_bzPcpHist.rowposition,"BZ_PCP_SN")){alert("현계약자가 아닙니다.");return false;}else{this.ds_bzPcpHist.deleteRow(this.ds_bzPcpHist.rowposition);if(this.ds_bzPcpHist.rowcount==0){this.ds_bzPcp.setColumn(this.ds_bzPcp.rowposition,"LST_PCP_YN",'Y');}else{this.ds_bzPcpHist.setColumn(this.ds_bzPcpHist.getRowCount()-1,"LST_PCP_YN",'Y');}}break;}};this.ds_bzPcp_onrowposchanged=function(_c,_d){if(_d.newrow> -1&&_c.getRowType(_d.newrow)!=Dataset.ROWTYPE_INSERT){this.ds_condSub1.clearData();this.ds_bzPcpHist.clearData();var _e=this.ds_condSub1.addRow();this.ds_condSub1.setColumn(_e,"CNTRCT_NO",_c.getColumn(_d.newrow,"CNTRCT_NO"));this.ds_condSub1.setColumn(_e,"BZ_PCP_SN",_c.getColumn(_d.newrow,"BZ_PCP_SN"));this.ds_condSub1.setColumn(_e,"DOC_SN",_c.getColumn(_d.newrow,"DOC_SN"));this.ds_condSub1.setColumn(_e,"FST_BZ_PCP_SN",_c.getColumn(_d.newrow,"FST_BZ_PCP_SN"));this.fn_search_ctgryFile();}else{this.ds_bzPcpHist.clearData();this.ds_fileList.clearData();this.ds_fileListHist.clearData();}};this.ds_bzPcpHist_onrowposchanged=function(_c,_d){if(_d.newrow> -1&&_c.getRowType(_d.newrow)!=Dataset.ROWTYPE_INSERT){this.ds_condSub2.clearData();var _e=this.ds_condSub2.addRow();this.ds_condSub2.setColumn(_e,"CNTRCT_NO",_c.getColumn(_d.newrow,"CNTRCT_NO"));this.ds_condSub2.setColumn(_e,"BZ_PCP_SN",_c.getColumn(_d.newrow,"BZ_PCP_SN"));this.ds_condSub2.setColumn(_e,"DOC_SN",_c.getColumn(_d.newrow,"DOC_SN"));this.fn_search_ctgryFileHist();}else{this.ds_fileListHist.clearData();}};this.grd_ctgry_file_oncellclick=function(_c,_d){if(_d.cell=='5'){if(this.ds_fileList.getRowCount()>0){this.gfn_message("info.파일.업로드.허용건수초과","1");return false;}this.fn_autoFileSn("PMS","PRJ",this.File_UpDownManager,this.ds_fileList,this.ds_ctgry_file,"TBBH_CTGRY_FILE","FILE_SN",["CTGRY_FILE_ID"]);}if(_d.cell=='6'){if(this.ds_fileList.getRowCount==0){this.gfn_message("info.파일정보.없음");return false;}if(!this.gfn_message("confirm.선택파일.삭제여부","들")){return false;}this.ds_fileList.deleteAll();this.ds_cond_file.clearData();this.fn_transaction("deleteFile");var _e=this.ds_ctgry_file.rowposition;this.ds_ctgry_file.set_enableevent(false);this.ds_ctgry_file.deleteRow(_e);this.ds_ctgry_file.set_enableevent(true);this.fn_transaction("saveCtgryFile");}if(_d.cell=='7'){if(this.ds_fileList.getRowCount()==0){this.gfn_message("err.파일.다운로드.정보없음");return false;}for(var _i=0;_i<this.ds_fileList.getRowCount();_i++ ){var _f=this.ds_fileList.getColumn(_i,"FILE_SN");var _g=this.ds_fileList.getColumn(_i,"FILE_ORDR");var _h=this.ds_fileList.getColumn(_i,"ORGINL_FILE_NM");this.File_UpDownManager.download(_f,_g,_h);}}};this.grd_ctgry_fileHist_oncellclick=function(_c,_d){if(_d.cell=='5'){if(this.ds_fileListHist.getRowCount()>0){this.gfn_message("info.파일.업로드.허용건수초과","1");return false;}this.fn_autoFileSn("PMS","PRJ",this.File_UpDownManager,this.ds_fileListHist,this.ds_ctgry_fileHist,"TBBH_CTGRY_FILE","FILE_SN",["CTGRY_FILE_ID"]);}if(_d.cell=='6'){if(this.ds_fileListHist.getRowCount==0){this.gfn_message("info.파일정보.없음");return false;}if(!this.gfn_message("confirm.선택파일.삭제여부","들")){return false;}this.ds_fileListHist.deleteAll();this.ds_cond_fileHist.clearData();this.fn_transaction("deleteFile");var _e=this.ds_ctgry_fileHist.rowposition;this.ds_ctgry_fileHist.set_enableevent(false);this.ds_ctgry_fileHist.deleteRow(_e);this.ds_ctgry_fileHist.set_enableevent(true);this.fn_transaction("saveCtgryFile");}if(_d.cell=='7'){if(this.ds_fileList.getRowCount()==0){this.gfn_message("err.파일.다운로드.정보없음");return false;}for(var _i=0;_i<this.ds_fileListHist.getRowCount();_i++ ){var _f=this.ds_fileListHist.getColumn(_i,"FILE_SN");var _g=this.ds_fileListHist.getColumn(_i,"FILE_ORDR");var _h=this.ds_fileListHist.getColumn(_i,"ORGINL_FILE_NM");this.File_UpDownManager.download(_f,_g,_h);}}};this.fn_search_ctgryFile=function(){this.ds_ctgry_file.set_enableevent(false);this.ds_ctgry_file.clearData();this.ds_ctgry_file.set_enableevent(true);if(this.ds_bzPcp.getRowCount()>0){this.fn_transaction("selectCtgryFile");}};this.fn_search_ctgryFileHist=function(){this.ds_ctgry_fileHist.set_enableevent(false);this.ds_ctgry_fileHist.clearData();this.ds_ctgry_fileHist.set_enableevent(true);if(this.ds_bzPcpHist.getRowCount()>0){this.fn_transaction("selectCtgryFileHist");}};this.ds_ctgry_file_onrowposchanged=function(_c,_d){this.ds_fileList.clearData();if(_d.newrow> -1){var _e=_c.getColumn(_d.newrow,"FILE_SN");this.ds_cond_file.clearData();var _f=this.ds_cond_file.addRow();this.ds_cond_file.setColumn(_f,"FILE_SN",_e);this.fn_transaction("selectAtchFile");}};this.fn_uploadCallback=function(){if(this.File_UpDownManager._form==null){return false;}else if(this.File_UpDownManager._form.af_fileDataset==null){return false;}else if(this.comUtils.isNull(this.File_UpDownManager._form.af_fileDataset.name)){return false;}var _c=this.File_UpDownManager._form.af_fileDataset.name;alert("fileDsName : "+_c);if(_c=="ds_fileList"){this.ds_fileList.clearData();var _d=this.ds_ctgry_file.getColumn(this.ds_ctgry_file.rowposition,"FILE_SN");this.ds_cond_file.clearData();var _e=this.ds_cond_file.addRow();this.ds_cond_file.setColumn(_e,"FILE_SN",_d);this.fn_transaction("selectAtchFile");}else if(_c=="ds_fileListHist"){this.ds_fileListHist.clearData();var _d=this.ds_ctgry_fileHist.getColumn(this.ds_ctgry_fileHist.rowposition,"FILE_SN");this.ds_cond_fileHist.clearData();var _e=this.ds_cond_fileHist.addRow();this.ds_cond_fileHist.setColumn(_e,"FILE_SN",_d);this.fn_transaction("selectAtchFileHist");}};});this.on_initEvent=function(){this.ds_bzPcp.addEventHandler("onrowposchanged",this.ds_bzPcp_onrowposchanged,this);this.ds_bzPcpHist.addEventHandler("onrowposchanged",this.ds_bzPcpHist_onrowposchanged,this);this.ds_ctgry_file.addEventHandler("onrowposchanged",this.ds_ctgry_file_onrowposchanged,this);this.ds_ctgry_fileHist.addEventHandler("onrowposchanged",this.ds_ctgry_file_onrowposchanged,this);this.addEventHandler("onload",this.PRJ010108_onload,this);this.addEventHandler("oninit",this.PRJ010108_oninit,this);this.btn_cancelPrsecWtnessHist.addEventHandler("onclick",this.div_cntrwk_servc_btn_cancelPrsecWtness_onclick,this);this.btn_Del01.addEventHandler("onclick",this.btn_Delete_onclick,this);this.btn_Add01.addEventHandler("onclick",this.btn_Add_onclick,this);this.grd_ctgry_file.addEventHandler("oncellclick",this.grd_ctgry_file_oncellclick,this);this.btn_cancelPrsecWtness.addEventHandler("onclick",this.div_cntrwk_servc_btn_cancelPrsecWtness_onclick,this);this.btn_Del02.addEventHandler("onclick",this.btn_Delete_onclick,this);this.btn_Add02.addEventHandler("onclick",this.btn_Add_onclick,this);this.grd_ctgry_fileHist.addEventHandler("oncellclick",this.grd_ctgry_fileHist_oncellclick,this);this.div_search.searchCtrt.addEventHandler("onclick",this.div_search_searchCtrt_onclick,this);};this.loadIncludeScript("PRJ010108.xfdl");};})();