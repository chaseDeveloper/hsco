(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ040304");this.set_classname("PRJ040304");this.set_titletext("PRJ040304_용역성과품등록관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_ctr",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"CTR_GB\" type=\"STRING\" size=\"100\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"21\"/><Column id=\"FILE_ORDR\" type=\"BIGDECIMAL\" size=\"4\"/><Column id=\"FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"VAL0\" type=\"STRING\" size=\"100\"/><Column id=\"OTHBC_YN\" type=\"STRING\" size=\"1\"/><Column id=\"Column0\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctrDtl",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_1",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"RSLT_PRDLST_NO\" type=\"BIGDECIMAL\" size=\"11\"/><Column id=\"REGIST_DE\" type=\"STRING\" size=\"8\"/><Column id=\"OTHBC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"NBFPS\" type=\"BIGDECIMAL\" size=\"12\"/><Column id=\"DTA_STLE\" type=\"STRING\" size=\"3\"/><Column id=\"RSLT_DTLS\" type=\"STRING\" size=\"100\"/><Column id=\"EMPNO_CHARGER\" type=\"STRING\" size=\"8\"/><Column id=\"RM\" type=\"STRING\" size=\"200\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"21\"/><Column id=\"FILE_ORDR\" type=\"BIGDECIMAL\" size=\"4\"/><Column id=\"FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"VAL0\" type=\"STRING\" size=\"100\"/><Column id=\"OTHBC_YN\" type=\"STRING\" size=\"1\"/><Column id=\"RELATE_INSTT\" type=\"STRING\" size=\"100\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctrF",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"21\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_1</Col><Col id=\"colId\">REGIST_DE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">등록일자</Col></Row><Row><Col id=\"compId\">ds_1</Col><Col id=\"colId\">RSLT_DTLS</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">주요내용</Col></Row><Row><Col id=\"compId\">ds_1</Col><Col id=\"colId\">RELATE_INSTT</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">유관기관</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond_ctr",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CTR_GB\" type=\"STRING\" size=\"3\"/><Column id=\"IS_FILE\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond_ctrDtl",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond1",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CTR_GB\" type=\"STRING\" size=\"3\"/><Column id=\"IS_FILE\" type=\"STRING\" size=\"3\"/><Column id=\"CB1\" type=\"STRING\" size=\"3\"/><Column id=\"CB2\" type=\"STRING\" size=\"3\"/><Column id=\"CB3\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_fileSn",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_CTR001",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ017",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ022",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_BSNS",this);_a.set_useclientlayout("0");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"string\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_ALL_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"3\"/><Column id=\"RM\" type=\"string\" size=\"200\"/><Column id=\"STRWRK_DE\" type=\"string\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"8\"/><Column id=\"BSNS_CONFM_DE\" type=\"string\" size=\"8\"/><Column id=\"MVN_DE\" type=\"string\" size=\"8\"/><Column id=\"RN\" type=\"string\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_fileList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("false");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"ORGINL_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_EXTSN\" type=\"string\" size=\"32\"/><Column id=\"FILE_STRE_COURS\" type=\"string\" size=\"32\"/><Column id=\"FILE_ID\" type=\"string\" size=\"32\"/><Column id=\"SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"SYS_SE_CODE\" type=\"string\" size=\"32\"/><Column id=\"FILE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"FILE_TY\" type=\"string\" size=\"32\"/><Column id=\"JOB_SE\" type=\"string\" size=\"32\"/><Column id=\"DELETE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"STRE_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_MG\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_CN\" type=\"string\" size=\"32\"/><Column id=\"FILE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"string\" size=\"32\"/><Column id=\"USE_AT\" type=\"string\" size=\"32\"/><Column id=\"STTUS\" type=\"string\" size=\"32\"/><Column id=\"FILE_SN\" type=\"bigdecimal\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_text("28");_a.set_visible("0");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("4");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_CL_SE","absolute","15","6","300","20",null,null,this.div_search);_a.set_taborder("5");_a.set_text("사업코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_bsns_code","absolute","79","5","350","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("6");_a.set_innerdataset("ds_BSNS");_a.set_codecolumn("BSNS_CODE");_a.set_datacolumn("BSNS_ALL_NM");_a.set_displayrowcount("15");_a.set_cssclass("cmb_WF_Essential");_a=new Div("div_work","absolute","0","33",null,null,"28","0",this);_a.set_taborder("5");this.addChild(_a.name,_a);_a=new Div("div_2","absolute","0","234",null,null,"427","0",this.div_work);_a.set_taborder("10");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","128","19",null,null,this.div_work.div_2);_a.set_taborder("6");_a.set_text("용역성과품목록");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_2.addChild(_a.name,_a);_a=new Button("btn_11","absolute",null,"10","64","19","67",null,this.div_work.div_2);_a.set_taborder("8");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.div_work.div_2.addChild(_a.name,_a);_a=new Button("btn_12","absolute",null,"10","64","19","0",null,this.div_work.div_2);_a.set_taborder("9");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_work.div_2.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work.div_2);_a.set_taborder("10");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.div_2.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work.div_2);_a.set_taborder("11");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_2.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","34",null,null,"0","0",this.div_work.div_2);_a.set_taborder("14");_a.set_binddataset("ds_1");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"115\"/><Column size=\"300\"/><Column size=\"120\"/><Column size=\"70\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"등록일자\"/><Cell col=\"2\" text=\"주요내용\"/><Cell col=\"3\" text=\"유관기관\"/><Cell col=\"4\" text=\"등록담당\"/></Band><Band id=\"body\"><Cell displaytype=\"text\" expr=\"(currow+1)\"/><Cell col=\"1\" displaytype=\"date\" edittype=\"date\" text=\"bind:REGIST_DE\" calendardisplay=\"edit\" calendardisplaynulltype=\"none\"/><Cell col=\"2\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:RSLT_DTLS\" editlimit=\"200\" editimemode=\"hangul\" editdisplay=\"edit\" editlengthunit=\"utf8\"/><Cell col=\"3\" edittype=\"text\" style=\"align:left;\" text=\"bind:RELATE_INSTT\" editdisplay=\"edit\"/><Cell col=\"4\" displaytype=\"normal\" edittype=\"none\" style=\"align:center;\" text=\"bind:EMPNM\" editdisplay=\"edit\"/></Band></Format></Formats>");this.div_work.div_2.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","200","19",null,null,this.div_work);_a.set_taborder("11");_a.set_text("계약목록(용역)");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work);_a.set_taborder("12");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work);_a.set_taborder("13");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_ctr","absolute","0","34",null,"200","210",null,this.div_work);_a.set_taborder("14");_a.set_binddataset("ds_ctr");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"150\"/><Column size=\"90\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"18\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"계약번호\"/><Cell col=\"1\" rowspan=\"2\" text=\"계약명\"/><Cell col=\"2\" rowspan=\"2\" text=\"계약금액\"/><Cell col=\"3\" rowspan=\"2\" text=\"계약일자\"/><Cell col=\"4\" colspan=\"2\" text=\"용역계획기간\"/><Cell col=\"6\" rowspan=\"2\" text=\"첨부파일명\"/><Cell row=\"1\" col=\"4\" text=\"착수일자\"/><Cell row=\"1\" col=\"5\" text=\"완성일자\"/></Band><Band id=\"body\"><Cell text=\"bind:CNTRCT_NO\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:CNTRCT_NM\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:TOT_CNTRCT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"3\" displaytype=\"date\" text=\"bind:CNTRCT_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"4\" displaytype=\"date\" text=\"bind:STRWRK_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" displaytype=\"date\" text=\"bind:COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"6\"/></Band><Band id=\"summary\"><Cell colspan=\"2\" style=\"align:center;line:1 solid #ffd8cdff,0 none #e0e0e0ff;selectline:1 solid #FFD8CD,0 none #e0e0e0ff;\" text=\"합계\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(TOT_CNTRCT_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"3\" colspan=\"4\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Div("div_1","absolute",null,"-1","200","235","0",null,this.div_work);_a.set_taborder("15");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","14","126","19",null,null,this.div_work.div_1);_a.set_taborder("34");_a.set_text("수급자");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work.div_1);_a.set_taborder("35");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work.div_1);_a.set_taborder("36");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Grid("grd_ctrDtl","absolute","0","35",null,null,"0","0",this.div_work.div_1);_a.set_taborder("37");_a.set_binddataset("ds_ctrDtl");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"150\"/><Column size=\"60\"/></Columns><Rows><Row size=\"36\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"업체명\"/><Cell col=\"1\" text=\"대표자\"/></Band><Band id=\"body\"><Cell style=\"align:left;padding:0 5 0 5;\" text=\"bind:BCNC_NM\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:RPRSNTV\"/></Band></Format></Formats>");this.div_work.div_1.addChild(_a.name,_a);_a=new Div("div_3","absolute",null,"234","414",null,"0","0",this.div_work);_a.set_taborder("16");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_work.div_3);_a.set_taborder("64");_a.set_text("첨부파일");_a.set_cssclass("sta_WF_Title02");_a.style.set_background("transparent URL('theme://images/sta_WF_Title02.png') left middle");_a.getSetter("visible2").set("0");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work.div_3);_a.set_taborder("65");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work.div_3);_a.set_taborder("66");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_3.addChild(_a.name,_a);_a=new Grid("grd_Files","absolute","0","34",null,null,"0","0",this.div_work.div_3);_a.set_taborder("71");_a.set_binddataset("ds_fileList");_a.set_autofittype("col");_a.getSetter("autofittype2").set("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"68\"/><Column size=\"270\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"48\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"파일형식\"/><Cell col=\"2\" text=\"파일명\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" displaytype=\"image\" style=\"padding: ;\" text=\"bind:FILE_IMAGE\" autosizerow=\"limitmin\" autosizecol=\"limitmin\"/><Cell col=\"2\" style=\"align:left middle;padding:0 0 0 5;cursor:hand;\" text=\"bind:ORGINL_FILE_NM\" autosizecol=\"default\"/></Band></Format></Formats>");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_del","absolute",null,"10","58","19","0",null,this.div_work.div_3);_a.set_taborder("72");_a.set_text("선택삭제");_a.set_cssclass("btn_WF_Process");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_down","absolute",null,"10","78","19","63",null,this.div_work.div_3);_a.set_taborder("73");_a.set_text("선택다운로드");_a.set_cssclass("btn_WF_Process");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_up","absolute",null,"10","68","19","147",null,this.div_work.div_3);_a.set_taborder("74");_a.set_text("파일업로드");_a.set_cssclass("btn_WF_Process");this.div_work.div_3.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("4");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work.div_2,function(_b){_b.set_taborder("10");});this.div_work.div_2.addLayout(_a.name,_a);_a=new Layout("default","",200,235,this.div_work.div_1,function(_b){_b.set_taborder("15");});this.div_work.div_1.addLayout(_a.name,_a);_a=new Layout("default","",414,0,this.div_work.div_3,function(_b){_b.set_taborder("16");});this.div_work.div_3.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work,function(_b){_b.set_taborder("5");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("PRJ040304");_b.set_titletext("PRJ040304_용역성과품등록관리");});this.addLayout(_a.name,_a);_a=new BindItem("item01","div_search.cmb_CTR_GB","value","ds_cond_ctr","CTR_GB");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item02","div_work.div_3.cal_2","value","ds_1","REGIST_DE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item03","div_work.div_3.edt_3","value","ds_1","DEPT_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item04","div_work.div_3.edt_4","value","ds_1","EMPNM");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("PRJ040304.xfdl","lib::comInclude.xjs");this.addIncludeScript("PRJ040304.xfdl","pms_lib::pmsUtilInclude.xjs");this.addIncludeScript("PRJ040304.xfdl","mis_lib::misUtil.xjs");this.addIncludeScript("PRJ040304.xfdl","lib::comUpDownUtils.xjs");this.registerScript("PRJ040304.xfdl",function(){var _a;var _b;var _c;this.File_UpDownManager=null;var _d= -1;this.PRJ040304_oninit=function(_e,_f){this.fn_init();this.fn_init_form();this.fn_init_dataset();var _g={useMultiUpload:true,onChange:this.fn_onFileSelected,onSuccess:this.fn_onFileSuccess};this.File_UpDownManager=new this.fileUpDownManager(this,"PMS","PRJ");this.File_UpDownManager.init(_g);};this.fn_onFileSuccess=function(_e,_f){this.fn_transaction("mList");};this.PRJ040304_onload=function(_e,_f){this.fn_loadCombo();};this.fn_init_form=function(){};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);this.checkDs.push(this.ds_1);};this.fn_loadCombo=function(){var _e=[['ds_CTR001','CTR001',1,''],['ds_PRJ017','PRJ017',1,'A'],['ds_PRJ022','PRJ022',1,'']];var _f=null;this.gfn_comboLoad(_e,_f);this.fn_fill_combo(this.div_search.cmb_bsns_code,"hsco/pms/prj/bsnsCdList.do","선택",null);};this.fn_search=function(){var _e=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_e==''){this.alert("사업코드를 선택하세요.");return;}this.fn_bsnsChanged(this.div_search.cmb_bsns_code);};this.fn_save=function(){if(!this.gfn_checkValidation(this.ds_1,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("save");}};this.fn_transaction=function(_e){if(this.ds_cond1.rowcount<1){return;}var _f;var _g;var _h;var _i="hsco/pms/prj/PRJ040304/"+_e+".do";var _j="input1=ds_cond1";var _k="";switch(_e){case "ctrList":_i="hsco/pms/prj/ctrList.do";_j="input1=ds_cond1";_k="ds_ctr=output1";break;case "ctrDtlList":_i="hsco/pms/prj/ctrDtlList.do";_j="input1=ds_cond1";_k="ds_ctrDtl=output1";break;case "selectAtchFile":this.ds_fileList.clearData();this.ds_fileList.addRow();this.ds_fileList.setColumn(0,"FILE_SN",this.ds_1.getColumn(this.ds_1.rowposition,"FILE_SN"));var _i="/hsco/cmm/file/selectAtchmnFileList.do";var _j="input1=ds_fileList";var _k="ds_fileList=output1";break;case "mList":this.ds_fileList.clearData();_f=this.ds_cond1;_g=this.ds_ctr;_h="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,";_k="ds_1=output1";break;case "save":_j="input1=ds_1:U";_j+=" inputF=ds_ctrF:U";break;}if(_f){_f.copyRow(0,_g,_g.rowposition,_h);}switch(_e){case "ctrList":this.ds_ctr.clearData();case "ctrDtlList":this.ds_ctrDtl.clearData();case "mList":this.ds_1.clearData();}Ex.core.tran(this,_e,_i,_j,_k);};this.fn_callBack=function(_e,_f,_g){if(_f!=0){return this.gfn_callback_message(_e,_f,_g);}switch(_e){case "ctrList":if(!_b){return;}var _h=this.div_PRJ.getCode();if(_h!=_b){return;}var _i=this.ds_ctr;var _j=_i.findRow('CNTRCT_NO',_c);if(_j<0){return;}_i.set_rowposition(_j);_b=null;this.fn_transaction("ctrDtlList");break;case "ctrDtlList":this.fn_transaction("mList");break;case "mList":if(_d>0){this.ds_1.set_rowposition(_d);_d= -1;}break;case "save":return this.fn_transaction("mList");case "getFileSn":var _i=this.ds_fileSn;if(_i.rowcount<1){return;}var _k=_i.getColumn(0,"FILE_SN");var _i;if(this.g_gbFile==1){var _l=this.ds_ctr;_i=this.ds_ctrF;_i.copyRow(_i.addRow(),_l,_l.rowposition);}else{_i=this.ds_1;}_i.setColumn(_i.rowposition,"FILE_SN",_k);this.fn_upFile(_k);break;case "deleteFile":return this.fn_transaction("mList");}};this.fn_insert=function(_e){this.fn_insertDS(this.ds_1);};this.fn_delete=function(_e){this.ds_1.deleteRow(this.ds_1.rowposition);};this.fn_insertDS=function(_e){var _f;var _g;var _h=_e.addRow();switch(_e){case this.ds_1:_f=this.ds_ctr;_g="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,";var _i=this.gfn_today();this.div_work.div_3.cal_2.set_value(_i);_e.setColumn(_h,"DTA_STLE",1);_e.setColumn(_h,"NBFPS",1);break;}_e.copyRow(_h,_f,_f.rowposition,_g);};this.grd_Files_oncellclick=function(_e,_f){var _g=this.objects[_e.binddataset];if(_f.cell==_e.getBindCellIndex("body","FILE_NM")){if(1!=_g.getColumn(_f.row,'OTHBC_YN')){return;}var _h=_g.getColumn(_f.row,"FILE_SN");var _i=_g.getColumn(_f.row,"FILE_ORDR");var _j=_g.getColumn(_f.row,"FILE_NM");this.fn_downFile(_h,_i,_j);}};this.btn_Files_onclick=function(_e,_f){this.g_gbFile=parseInt(_e.name.replace("btn_Files",""))||1;var _g;if(this.g_gbFile==1){_g=this.ds_ctr;}else{_g=this.ds_1;}var _h=_g.getColumn(_g.rowposition,"FILE_SN");this.fn_upFile(_h);};this.fn_bsnsChanged=function(_e,_f){var _g=_e.index||0;if(this.ds_BSNS.rowcount==0){return false;}this.ds_BSNS.set_rowposition(_g);this.ds_cond1.setColumn(0,"BSNS_CODE",this.ds_BSNS.getColumn(_g,"BSNS_CODE"));this.ds_cond1.setColumn(0,"CTR_GB",2);this.ds_cond1.setColumn(0,"IS_FILE",1);this.ds_ctrDtl.clearData();this.ds_1.clearData();this.fn_transaction("ctrList");};this.ds_ctr_onrowposchanged=function(_e,_f){if(_e.rowcount<1){return;}this.ds_cond1.setColumn(0,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.fn_transaction("ctrDtlList");};this.btn_11_onclick=function(_e,_f){var _g=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_g==''){return;}var _h=this.ds_1.addRow();this.ds_1.setColumn(_h,"BSNS_CODE",_g);this.ds_1.setColumn(_h,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.ds_1.setColumn(_h,"REGIST_DE",this.gfn_today());};this.btn_12_onclick=function(_e,_f){this.ds_1.deleteRow(this.ds_1.rowposition);};this.div_work_div_03_btn_up_onclick=function(_e,_f){_d=this.ds_1.rowposition;this.fn_autoFileSn("PMS","PRJ",this.File_UpDownManager,this.ds_fileList,this.ds_1,"TBPRJ_SERVC_RSLT","FILE_SN",["BSNS_CODE","CNTRCT_NO","RSLT_PRDLST_NO"]);};this.div_work_div_03_btn_down_onclick=function(_e,_f){var _g=this.ds_fileList.findRow("CHK","1");if(_g<0){this.gfn_message("comm.데이터.선택.없음");return;}for(var _l=0;_l<this.ds_fileList.getRowCount();_l++ ){var _h=this.ds_fileList.getColumn(_l,"FILE_SN");var _i=this.ds_fileList.getColumn(_l,"FILE_ORDR");var _j=this.ds_fileList.getColumn(_l,"ORGINL_FILE_NM");var _k=this.ds_fileList.getColumn(_l,"CHK");if(_k=='1'){this.File_UpDownManager.download(_h,_i,_j);}}};this.div_work_div_03_btn_del_onclick=function(_e,_f){var _g=this.ds_fileList.findRow("CHK","1");if(_g<0){this.gfn_message("comm.데이터.선택.없음");return;}if(!this.gfn_message("confirm.선택파일.삭제여부","들")){return false;}for(var _m=this.ds_fileList.getRowCount()-1;_m>=0;_m-- ){var _h=this.ds_fileList.getColumn(_m,"CHK");if(_h=='1'){this.ds_fileList.setRowType(_m,Dataset.ROWTYPE_DELETE);}else{this.ds_fileList.setRowType(_m,Dataset.ROWTYPE_NORMAL);}}var _i="deleteFile";var _j="hsco/cmm/file/deleteFile.do";var _k="input1=ds_fileList:U";var _l="ds_fileList=output1";Ex.core.tran(this,_i,_j,_k,_l);};this.div_work_div_03_grd_Files_oncellclick=function(_e,_f){if('2'==_e.currentcell){var _g=this.ds_fileList.getColumn(_e.currentrow,"FILE_SN");var _h=this.ds_fileList.getColumn(_e.currentrow,"FILE_ORDR");var _i=this.ds_fileList.getColumn(_e.currentrow,"ORGINL_FILE_NM");this.File_UpDownManager.download(_g,_h,_i);}};this.ds_1_onrowposchanged=function(_e,_f){this.fn_transaction("selectAtchFile");};});this.on_initEvent=function(){this.ds_ctr.addEventHandler("onrowposchanged",this.ds_ctr_onrowposchanged,this);this.ds_1.addEventHandler("onrowposchanged",this.ds_1_onrowposchanged,this);this.addEventHandler("onload",this.PRJ040304_onload,this);this.addEventHandler("oninit",this.PRJ040304_oninit,this);this.div_search.cmb_bsns_code.addEventHandler("onitemchanged",this.fn_bsnsChanged,this);this.div_work.div_2.sta_1.addEventHandler("onclick",this.div_work_div_3_sta_1_onclick,this);this.div_work.div_2.btn_11.addEventHandler("onclick",this.btn_11_onclick,this);this.div_work.div_2.btn_12.addEventHandler("onclick",this.btn_12_onclick,this);this.div_work.div_3.grd_Files.addEventHandler("oncellclick",this.div_work_div_03_grd_Files_oncellclick,this);this.div_work.div_3.btn_del.addEventHandler("onclick",this.div_work_div_03_btn_del_onclick,this);this.div_work.div_3.btn_down.addEventHandler("onclick",this.div_work_div_03_btn_down_onclick,this);this.div_work.div_3.btn_up.addEventHandler("onclick",this.div_work_div_03_btn_up_onclick,this);};this.loadIncludeScript("PRJ040304.xfdl");};})();