(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ050402");this.set_classname("PRJ050402");this.set_titletext("PRJ050402_공사완성요청관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_ctr",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMP\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_1",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"REQUST_DE\" type=\"STRING\" size=\"8\"/><Column id=\"REQUST_NO\" type=\"STRING\" size=\"14\"/><Column id=\"PRSEC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"EXPNDTR_DE\" type=\"STRING\" size=\"8\"/><Column id=\"PXCOND_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"PXCOND_RT\" type=\"BIGDECIMAL\" size=\"8\"/><Column id=\"LGTFF_SE\" type=\"STRING\" size=\"3\"/><Column id=\"BIZRNO\" type=\"STRING\" size=\"13\"/><Column id=\"REQST_SE\" type=\"STRING\" size=\"3\"/><Column id=\"EXAMER\" type=\"STRING\" size=\"50\"/><Column id=\"EMPNO_OBSRVER_1\" type=\"STRING\" size=\"8\"/><Column id=\"NM1\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT1\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"S_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"S_RT\" type=\"BIGDECIMAL\" size=\"8\"/><Column id=\"REMAIN_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"SANCTN_KND\" type=\"STRING\" size=\"2\"/><Column id=\"ADVAN_EXCCLC_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"RL_PYMNT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"20\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_2",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"MNG_SN\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"CHANGE_SN\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"8\"/><Column id=\"LGTFF_DE\" type=\"STRING\" size=\"8\"/><Column id=\"TCHNLGY_QUALF\" type=\"STRING\" size=\"100\"/><Column id=\"TCHNLGY_GRAD\" type=\"STRING\" size=\"100\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"CHK\" type=\"STRING\" size=\"1\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_3",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CODE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"INT\" size=\"3\"/><Column id=\"CHK\" type=\"STRING\" size=\"1\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ADD_YN\" type=\"STRING\" size=\"3\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"4000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"4000\"/><Column id=\"AL1\" type=\"STRING\" size=\"3\"/><Column id=\"VAL0\" type=\"STRING\" size=\"100\"/><Column id=\"VAL1\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\"/><Col id=\"colId\"/><Col id=\"notNull\"/><Col id=\"msgId\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond1",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"CTR_GB\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"REQST_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"IS_COMP\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_approve",this);_a.getSetter("useclientlayout2").set("1");_a._setContents("<ColumnInfo><Column id=\"DATA_VALUE\" type=\"STRING\" size=\"4000\"/><Column id=\"DATA_TITLE\" type=\"STRING\" size=\"1000\"/><Column id=\"O_URL\" type=\"STRING\" size=\"1000\"/><Column id=\"DEPT_CD\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_aud",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"1000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ubiReport00",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"CODE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"1000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"1000\"/><Column id=\"PRSEC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"VAL1\" type=\"STRING\" size=\"3\"/><Column id=\"AL1\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_COM022",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ012",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ010",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ011",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ014",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ018",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ017",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ023",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ025",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_CTR007",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_BSNS",this);_a.set_useclientlayout("0");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"string\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_ALL_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"3\"/><Column id=\"RM\" type=\"string\" size=\"200\"/><Column id=\"STRWRK_DE\" type=\"string\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"8\"/><Column id=\"BSNS_CONFM_DE\" type=\"string\" size=\"8\"/><Column id=\"MVN_DE\" type=\"string\" size=\"8\"/><Column id=\"RN\" type=\"string\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_taborder("0");_a.set_text("28");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_PRJ","absolute","0","33","280",null,null,"0",this);_a.set_taborder("1");_a.set_url("pms_prj::prjList.xfdl");this.addChild(_a.name,_a);_a=new Div("div_search_b","absolute","1064","0",null,"33","-756",null,this);_a.set_taborder("2");_a.set_cssclass("div_WFSA_Box");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta_CTR_GB","absolute","15","7","62","20",null,null,this.div_search_b);_a.set_taborder("4");_a.set_text("계약구분");_a.set_cssclass("sta_WFSA_Label");this.div_search_b.addChild(_a.name,_a);_a=new Combo("cmb_CTR_GB","absolute","80","5","83","22",null,null,this.div_search_b);this.div_search_b.addChild(_a.name,_a);_a.set_taborder("5");_a.set_innerdataset("@ds_PRJ017");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_enable("false");_a=new Static("sta_PXCOND_SE","absolute","186","7","62","20",null,null,this.div_search_b);_a.set_taborder("6");_a.set_text("기성구분");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("false");this.div_search_b.addChild(_a.name,_a);_a=new Combo("cmb_PXCOND_SE","absolute","251","5","83","22",null,null,this.div_search_b);this.div_search_b.addChild(_a.name,_a);_a.set_taborder("7");_a.set_innerdataset("@ds_PRJ023");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_visible("false");_a=new Div("div_work","absolute","280","33",null,null,"28","0",this);_a.set_taborder("3");this.addChild(_a.name,_a);_a=new Div("div_1","absolute","0","24",null,"136","0",null,this.div_work);_a.set_taborder("25");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_ctr","absolute","0","10",null,null,"0","0",this.div_work.div_1);_a.set_taborder("0");_a.set_binddataset("ds_ctr");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"70\"/><Column size=\"150\"/><Column size=\"90\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"18\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"계약번호\"/><Cell col=\"1\" rowspan=\"2\" text=\"계약명\"/><Cell col=\"2\" rowspan=\"2\" text=\"계약금액\"/><Cell col=\"3\" rowspan=\"2\" text=\"계약일자\"/><Cell col=\"4\" colspan=\"2\" text=\"용역계획기간\"/><Cell row=\"1\" col=\"4\" text=\"착수일자\"/><Cell row=\"1\" col=\"5\" text=\"완성일자\"/></Band><Band id=\"body\"><Cell text=\"bind:CNTRCT_NO\"/><Cell col=\"1\" text=\"bind:CNTRCT_NM\" style=\"align:left;padding:0 5 0 5;\"/><Cell col=\"2\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" mask=\"#,##0\" text=\"bind:TOT_CNTRCT_AMOUNT\"/><Cell col=\"3\" text=\"bind:CNTRCT_DE\" displaytype=\"date\" calendardisplaynulltype=\"none\"/><Cell col=\"4\" text=\"bind:STRWRK_DE\" displaytype=\"date\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" text=\"bind:COMPET_DE\" displaytype=\"date\" calendardisplaynulltype=\"none\"/></Band></Format></Formats>");this.div_work.div_1.addChild(_a.name,_a);_a=new Div("div_2","absolute","0","160",null,"192","0",null,this.div_work);_a.set_taborder("26");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","29",null,null,"0","0",this.div_work.div_2);_a.set_taborder("6");_a.set_binddataset("ds_1");_a.getSetter("autofittype2").set("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"110\"/><Column size=\"100\"/><Column size=\"45\"/><Column size=\"100\"/><Column size=\"45\"/><Column size=\"100\"/><Column size=\"70\"/><Column size=\"110\"/><Column size=\"80\"/><Column size=\"100\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"20\"/><Column size=\"110\"/><Column size=\"35\"/><Column size=\"70\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"18\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"차수\"/><Cell col=\"1\" rowspan=\"2\" text=\"기성&#13;&#10;요청일자\"/><Cell col=\"2\" colspan=\"2\" text=\"금회 기성요청액\"/><Cell col=\"4\" colspan=\"2\" text=\"누계 기성요청액\"/><Cell col=\"6\" rowspan=\"2\" text=\"잔여 기성액\"/><Cell col=\"7\" rowspan=\"2\" text=\"결재현황\"/><Cell col=\"8\" rowspan=\"2\" text=\"선금정산액\"/><Cell col=\"9\" rowspan=\"2\" text=\"지출일자\"/><Cell col=\"10\" rowspan=\"2\" text=\"실지급\"/><Cell col=\"11\" rowspan=\"2\" text=\"요청번호\"/><Cell col=\"12\" rowspan=\"2\" colspan=\"2\" text=\"검사입회자\"/><Cell col=\"14\" rowspan=\"2\" text=\"검사일자\"/><Cell col=\"15\" rowspan=\"2\" text=\"정식&#13;&#10;여부\"/><Cell col=\"16\" rowspan=\"2\" text=\"검사관\"/><Cell row=\"1\" col=\"2\" text=\"금액\"/><Cell row=\"1\" col=\"3\" text=\"기성율\"/><Cell row=\"1\" col=\"4\" text=\"금액\"/><Cell row=\"1\" col=\"5\" text=\"기성율\"/></Band><Band id=\"body\"><Cell text=\"bind:ODR\"/><Cell col=\"1\" displaytype=\"date\" edittype=\"date\" text=\"bind:REQUST_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"2\" displaytype=\"number\" edittype=\"masknumber\" style=\"align:right;padding: ;\" text=\"bind:PXCOND_AMOUNT\" mask=\"###,###,###,###,##0\" editdisplay=\"display\" editlimitbymask=\"both\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:PXCOND_RT\" mask=\"##0.00\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:S_AMT\" mask=\"#,##0\"/><Cell col=\"5\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:S_RT\" mask=\"##0.00\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:REMAIN_AMT\" mask=\"#,##0\"/><Cell col=\"7\" displaytype=\"expr:!REQUST_NO?'':'button'\" text=\"bind:SANCTN_KND\" expr=\"expr:!REQUST_NO?'':dataset.parent.fn_BtnNm(SANCTN_KND)\"/><Cell col=\"8\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:ADVAN_EXCCLC_AMOUNT\" mask=\"#,##0\"/><Cell col=\"9\" displaytype=\"date\" text=\"bind:EXPNDTR_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"10\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:RL_PYMNT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"11\" text=\"bind:REQUST_NO\"/><Cell col=\"12\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:NM1\" editdisplay=\"display\"/><Cell col=\"13\" displaytype=\"image\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/><Cell col=\"14\" displaytype=\"date\" edittype=\"date\" text=\"bind:PRSEC_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"15\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:REQST_SE\"/><Cell col=\"16\" displaytype=\"text\" edittype=\"text\" text=\"bind:EXAMER\" editdisplay=\"display\"/></Band></Format></Formats>");this.div_work.div_2.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","24",null,"5","0",null,this.div_work.div_2);_a.set_taborder("7");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.div_2.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","8","200","19",null,null,this.div_work.div_2);_a.set_taborder("8");_a.set_text("기성내역");_a.set_cssclass("sta_WF_Title02");this.div_work.div_2.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"5","0",null,this.div_work.div_2);_a.set_taborder("9");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.div_2.addChild(_a.name,_a);_a=new Div("div_3","absolute","0","352","58.72%","180",null,null,this.div_work);_a.set_taborder("27");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"5","0",null,this.div_work.div_3);_a.set_taborder("2");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","24",null,"5","0",null,this.div_work.div_3);_a.set_taborder("3");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","8","200","19",null,null,this.div_work.div_3);_a.set_taborder("4");_a.set_text("감독관");_a.set_cssclass("sta_WF_Title02");this.div_work.div_3.addChild(_a.name,_a);_a=new Grid("grd_2","absolute","0","29",null,null,"0","5",this.div_work.div_3);_a.set_taborder("5");_a.set_binddataset("ds_2");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"45\"/><Column size=\"90\"/><Column size=\"170\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\"/><Cell col=\"1\" text=\"순번\"/><Cell col=\"2\" text=\"성명\"/><Cell col=\"3\" text=\"기술자격\"/><Cell col=\"4\" text=\"등급\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" expr=\"(currow+1)\"/><Cell col=\"2\" text=\"bind:EMPNM\" style=\"align:left;padding:0 5 0 5;\"/><Cell col=\"3\" text=\"bind:TCHNLGY_QUALF\" style=\"align:left;padding:0 5 0 5;\"/><Cell col=\"4\" text=\"bind:TCHNLGY_GRAD\" style=\"align:left;padding:0 5 0 5;\"/></Band></Format></Formats>");this.div_work.div_3.addChild(_a.name,_a);_a=new Div("div_32","absolute",null,"352","41.28%","180","0",null,this.div_work);_a.set_taborder("28");_a.set_url("pms_prj::prjFiles.xfdl");this.div_work.addChild(_a.name,_a);_a=new Div("div_4","absolute","0","532","58.72%",null,null,"0",this.div_work);_a.set_taborder("29");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","0","200","19",null,null,this.div_work.div_4);_a.set_taborder("3");_a.set_text("양식구분");_a.set_cssclass("sta_WF_Title02");this.div_work.div_4.addChild(_a.name,_a);_a=new Button("btn_41","absolute",null,"0","64","19","0",null,this.div_work.div_4);_a.set_taborder("4");_a.set_text("생성");_a.set_cssclass("btn_WF_Process");this.div_work.div_4.addChild(_a.name,_a);_a=new Div("div_1","absolute","0","25",null,"25","0",null,this.div_work.div_4);_a.set_taborder("5");this.div_work.div_4.addChild(_a.name,_a);_a=new Static("sta_1","absolute","10","2","41","20",null,null,this.div_work.div_4.div_1);_a.set_taborder("2");_a.set_text("제목");_a.set_cssclass("sta_WFSA_Label");this.div_work.div_4.div_1.addChild(_a.name,_a);_a=new Edit("edt_1","absolute","48","0",null,null,"0","5",this.div_work.div_4.div_1);_a.set_taborder("3");_a.set_maxlength("100");this.div_work.div_4.div_1.addChild(_a.name,_a);_a=new Grid("grd_4","absolute","0","50","27.89%",null,null,"0",this.div_work.div_4);_a.set_taborder("6");_a.set_binddataset("ds_3");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"0\"/><Column size=\"30\"/><Column size=\"0\"/><Column size=\"90\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell col=\"0\" text=\"\"/><Cell col=\"1\" text=\"결재\"/><Cell col=\"2\" text=\"코드\"/><Cell col=\"3\" text=\"양식\"/></Band><Band id=\"body\"><Cell col=\"0\"/><Cell col=\"1\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"2\" text=\"bind:CODE\"/><Cell col=\"3\" displaytype=\"combo\" text=\"bind:SANCTN_FORM_SE\" combodataset=\"ds_PRJ025\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" style=\"align:left;padding:0 5 0 5;\"/></Band></Format></Formats>");this.div_work.div_4.addChild(_a.name,_a);_a=new Div("div_2","absolute","27.89%","50",null,null,"0","0",this.div_work.div_4);_a.set_taborder("7");this.div_work.div_4.addChild(_a.name,_a);_a=new Static("sta_1","absolute","10","0",null,"22","0",null,this.div_work.div_4.div_2);_a.set_taborder("3");_a.set_text("요약");_a.set_cssclass("sta_GID_Title");this.div_work.div_4.div_2.addChild(_a.name,_a);_a=new TextArea("txt_SANCTN_SUMM","absolute","10","25",null,null,"0","0",this.div_work.div_4.div_2);_a.set_taborder("4");_a.set_maxlength("500");_a.style.set_padding("5 5 5 5");_a.style.set_align("left top");_a.style.set_font("9 Gulimche");_a.getSetter("wordwrap2").set("char");this.div_work.div_4.div_2.addChild(_a.name,_a);_a=new Div("div_42","absolute",null,"532","41.28%",null,"0","0",this.div_work);_a.set_taborder("30");this.div_work.addChild(_a.name,_a);_a=new Div("div_1","absolute","10","0",null,"45","0",null,this.div_work.div_42);_a.set_taborder("3");this.div_work.div_42.addChild(_a.name,_a);_a=new Static("sta_1","absolute","10","7","41","20",null,null,this.div_work.div_42.div_1);_a.set_taborder("2");_a.set_text("기타");_a.set_cssclass("sta_WFSA_Label");this.div_work.div_42.div_1.addChild(_a.name,_a);_a=new TextArea("txt_SANCTN_ETC","absolute","48","7",null,null,"5","0",this.div_work.div_42.div_1);_a.set_taborder("3");_a.set_wordwrap("char");_a.set_maxlength("50");_a.style.set_padding("1 5 1 5");_a.style.set_align("left top");_a.style.set_font("9 Gulimche");this.div_work.div_42.div_1.addChild(_a.name,_a);_a=new Div("div_2","absolute","10","50",null,null,"0","0",this.div_work.div_42);_a.set_taborder("4");this.div_work.div_42.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","0",null,"22","0",null,this.div_work.div_42.div_2);_a.set_taborder("3");_a.set_text("본문");_a.set_cssclass("sta_GID_Title");this.div_work.div_42.div_2.addChild(_a.name,_a);_a=new TextArea("txt_SANCTN_CN","absolute","0","25",null,null,"0","0",this.div_work.div_42.div_2);_a.set_taborder("4");_a.set_wordwrap("char");_a.set_maxlength("500");_a.style.set_padding("5 5 5 5");_a.style.set_align("left top");_a.style.set_font("9 Gulimche");this.div_work.div_42.div_2.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","3","29",null,"5","5",null,this.div_work);_a.set_taborder("31");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","3","0",null,"10","5",null,this.div_work);_a.set_taborder("32");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","11","200","19",null,null,this.div_work);_a.set_taborder("33");_a.set_text("계약 목록(용역)");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("4");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_CL_SE","absolute","15","6","300","20",null,null,this.div_search);_a.set_taborder("5");_a.set_text("사업코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_bsns_code","absolute","79","5","300","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("6");_a.set_innerdataset("ds_BSNS");_a.set_codecolumn("BSNS_CODE");_a.set_datacolumn("BSNS_ALL_NM");_a.set_displayrowcount("15");_a=new Div("div_1","absolute","1069","192",null,"48","-1069",null,this);_a.set_taborder("5");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"5","0",null,this.div_1);_a.set_taborder("51");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0",null,null,"5","0","0",this.div_1);_a.set_taborder("52");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");this.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute","0","0","15",null,null,"0",this.div_1);_a.set_taborder("53");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_v00","absolute","177","0","15",null,null,"0",this.div_1);_a.set_taborder("54");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_v02","absolute","470","0","15",null,null,"0",this.div_1);_a.set_taborder("55");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_v03","absolute","72","0","5",null,null,"0",this.div_1);_a.set_taborder("56");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_v04","absolute","263","0","5",null,null,"0",this.div_1);_a.set_taborder("57");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_v05","absolute","545","0","5",null,null,"0",this.div_1);_a.set_taborder("58");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.div_1.addChild(_a.name,_a);_a=new Button("btn_2","absolute","347","4","21","21",null,null,this.div_1);_a.set_taborder("59");_a.set_cssclass("btn_WF_Search");this.div_1.addChild(_a.name,_a);_a=new Static("sta_3","absolute","487","7","65","19",null,null,this.div_1);_a.set_taborder("60");_a.set_text("정식여부");_a.set_cssclass("sta_WFSA_Label");this.div_1.addChild(_a.name,_a);_a=new Static("sta_9","absolute","487","28","65","19",null,null,this.div_1);_a.set_taborder("61");_a.set_text("검사관");_a.set_cssclass("sta_WFSA_Label");this.div_1.addChild(_a.name,_a);_a=new Static("sta_2","absolute","192","7","85","19",null,null,this.div_1);_a.set_taborder("62");_a.set_text("검사입회자");_a.set_cssclass("sta_WFSA_Label");this.div_1.addChild(_a.name,_a);_a=new Static("sta_8","absolute","192","28","85","19",null,null,this.div_1);_a.set_taborder("63");_a.set_text("검사일자");_a.set_cssclass("sta_WFSA_Label");this.div_1.addChild(_a.name,_a);_a=new Static("sta_4","absolute","15","7","65","19",null,null,this.div_1);_a.set_taborder("64");_a.set_text("요청번호");_a.set_cssclass("sta_WFSA_Label");this.div_1.addChild(_a.name,_a);_a=new Edit("edt_4","absolute","77","5","100","19",null,null,this.div_1);_a.set_taborder("65");_a.set_enable("false");_a.getSetter("style2").set("align:right middle;");this.div_1.addChild(_a.name,_a);_a=new Calendar("cal_8","absolute","268","26","100","19",null,null,this.div_1);this.div_1.addChild(_a.name,_a);_a.set_taborder("66");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("edt_WFDA_Blue");_a=new Edit("edt_2","absolute","268","5","100","19",null,null,this.div_1);_a.set_taborder("67");this.div_1.addChild(_a.name,_a);_a=new Edit("edt_22","absolute","370","5","100","19",null,null,this.div_1);_a.set_taborder("68");this.div_1.addChild(_a.name,_a);_a=new CheckBox("chk_3","absolute","550","5","20","19",null,null,this.div_1);_a.set_taborder("69");_a.set_value("0");_a.set_truevalue("1");_a.set_falsevalue("0");this.div_1.addChild(_a.name,_a);_a=new Edit("edt_7","absolute","550","26","183","19",null,null,this.div_1);_a.set_taborder("70");this.div_1.addChild(_a.name,_a);_a=new MaskEdit("mae_6","absolute","550","26","100","19",null,null,this.div_1);_a.set_taborder("71");_a.set_mask("#,##0");_a.set_enable("false");_a.set_visible("false");this.div_1.addChild(_a.name,_a);_a=new Static("sta_6","absolute","487","28","65","19",null,null,this.div_1);_a.set_taborder("72");_a.set_text("계약잔액");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("false");this.div_1.addChild(_a.name,_a);_a=new Button("btn_Copy","absolute",null,"3","66","21","0",null,this.div_1);_a.set_taborder("73");_a.set_text("차수복사");this.div_1.addChild(_a.name,_a);_a=new Calendar("cal_7","absolute","77","27","100","19",null,null,this.div_1);this.div_1.addChild(_a.name,_a);_a.set_taborder("74");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("edt_WFDA_Blue");_a.set_visible("false");_a=new Static("sta_7","absolute","15","29","65","19",null,null,this.div_1);_a.set_taborder("75");_a.set_text("요청일자");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("false");this.div_1.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search_b,function(_b){_b.set_taborder("2");_b.set_cssclass("div_WFSA_Box");_b.set_visible("false");});this.div_search_b.addLayout(_a.name,_a);_a=new Layout("default","",0,136,this.div_work.div_1,function(_b){_b.set_taborder("25");});this.div_work.div_1.addLayout(_a.name,_a);_a=new Layout("default","",0,192,this.div_work.div_2,function(_b){_b.set_taborder("26");});this.div_work.div_2.addLayout(_a.name,_a);_a=new Layout("default","",0,180,this.div_work.div_3,function(_b){_b.set_taborder("27");});this.div_work.div_3.addLayout(_a.name,_a);_a=new Layout("default","",0,25,this.div_work.div_4.div_1,function(_b){_b.set_taborder("5");});this.div_work.div_4.div_1.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work.div_4.div_2,function(_b){_b.set_taborder("7");});this.div_work.div_4.div_2.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work.div_4,function(_b){_b.set_taborder("29");});this.div_work.div_4.addLayout(_a.name,_a);_a=new Layout("default","",0,45,this.div_work.div_42.div_1,function(_b){_b.set_taborder("3");});this.div_work.div_42.div_1.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work.div_42.div_2,function(_b){_b.set_taborder("4");});this.div_work.div_42.div_2.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work.div_42,function(_b){_b.set_taborder("30");});this.div_work.div_42.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work,function(_b){_b.set_taborder("3");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("4");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",0,48,this.div_1,function(_b){_b.set_taborder("5");_b.set_visible("false");});this.div_1.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("PRJ050402");_b.set_titletext("PRJ050402_공사완성요청관리");});this.addLayout(_a.name,_a);_a=new BindItem("item30","div_work.div_4.div_1.edt_1","value","ds_3","SANCTN_SJ");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item31","div_work.div_4.div_2.txt_SANCTN_SUMM","value","ds_3","SANCTN_SUMM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item32","div_work.div_42.div_1.txt_SANCTN_ETC","value","ds_3","SANCTN_ETC");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item33","div_work.div_42.div_2.txt_SANCTN_CN","value","ds_3","SANCTN_CN");this.addChild(_a.name,_a);_a.bind();_a=null;};this.loadPreloadList=function(){this._addPreloadList("fdl","pms_prj::prjList.xfdl");this._addPreloadList("fdl","pms_prj::prjFiles.xfdl");};this.addIncludeScript("PRJ050402.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("PRJ050402.xfdl",function(){this.g_sGB='12';var _a;var _b;var _c;this.g_row1;this.g_BtnNms=[];this.PRJ050402_oninit=function(_d,_e){this.form_id=application.gv_curFormId+'_';this.fn_init();this.fn_init_form();this.fn_init_dataset();};this.fn_onFileSuccess=function(_d,_e){this.fn_transaction("mList");};this.PRJ050402_onload=function(_d,_e){this.fn_loadCombo();};this.fn_init_form=function(){};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);this.checkDs.push(this.ds_1);this.checkDs.push(this.ds_2);this.checkDs.push(this.ds_3);};this.fn_loadCombo=function(){var _d=[['ds_COM022','COM022',1,''],['ds_PRJ012','PRJ012',1,''],['ds_PRJ010','PRJ010',1,''],['ds_PRJ011','PRJ011',1,''],['ds_PRJ014','PRJ014',1,''],['ds_PRJ017','PRJ017',1,''],['ds_PRJ023','PRJ023',1,''],['ds_PRJ025','PRJ025',1,'']];var _e=null;this.gfn_comboLoad(_d,_e);this.fn_fill_combo(this.div_search.cmb_bsns_code,"hsco/pms/prj/bsnsCdList.do","전체",null);};this.fn_search=function(){var _d=this.div_search.cmb_bsns_code.value;this.div_PRJ.set_BSNS_CODE(_d);this.div_PRJ.fn_search();};this.fn_save=function(){if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("save");}};this.fn_transaction=function(_d){if(this.ds_cond1.rowcount<1){return;}var _e;var _f;var _g;var _h="input1=ds_cond1";var _i="";switch(_d){case "ctrList":ds=this.ds_cond1;_e=this.div_PRJ.ds_PRJ;_f="BSNS_CODE=BSNS_CODE,";_g="hsco/pms/prj/ctrList.do";_i="ds_ctr=output1";this.ds_cond1.setColumn(0,"CTR_GB","1");break;case "mList":ds=this.ds_cond1;_e=this.ds_ctr;_f="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,";_i="ds_1=output1";this.ds_cond1.setColumn(0,"PXCOND_SE","2");break;case "fList":_e=this.ds_1;var _j=_e.getColumn(_e.rowposition,'FILE_SN');var _k=this.div_work.div_32;return _k.fn_fileList(_j);case "rList":ds=this.ds_2;_e=this.ds_1;_f="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,"+"REQST_SE=REQST_SE,";_i="ds_2=output1";_i+=" ds_3=output2";break;case "save":this.g_row1=this.ds_1.rowposition;_g="hsco/pms/prj/PRJ050401/save.do";_h="input1=ds_1:U";_h+=" input2=ds_2:U";_h+=" input3=ds_3:U";break;case "approve":_h="input1=ds_aud:U";_i=" ds_approve=output1";break;}switch(_d){case "ctrList":this.ds_ctr.clearData();case "mList":this.ds_1.clearData();case "rList":this.ds_2.clearData();this.ds_3.clearData();}if(_f){this.ds_cond1.copyRow(0,_e,_e.rowposition,_f);}if(!_g){_g="hsco/pms/prj/PRJ050401/"+_d+".do";}Ex.core.tran(this,_d,_g,_h,_i);};this.fn_callBack=function(_d,_e,_f){if(_e!=0){return this.gfn_callback_message(_d,_e,_f);}switch(_d){case "mList":break;case "rList":if(this.g_row1){this.ds_1.set_rowposition(this.g_row1);this.g_row1=null;}if(!this.ds_3_tmp){return;}for(var _g=0;_g<this.ds_3_tmp.rowcount;_g++ ){this.ds_3.addRow();this.ds_3.copyRow(_g,this.ds_3_tmp,_g);this.ds_3.copyRow(_g,this.ds_1,this.ds_1.rowposition);}this.ds_3_tmp=null;break;case "save":this.fn_transaction("mList");break;case "approve":this.fn_popup_sanction();break;}};this.fn_print=function(){var _d=new this.cf_Opts();var _e=this.ds_1;var _f=this.ds_3;var _g=_e.rowposition;var _h=_f.rowposition;var _i=parseInt(_f.getColumn(_h,'SANCTN_FORM_SE'))||0;var _j=' ';var _k=this.ds_PRJ025.findRow('CODE',_i);if(_k>=0){_j=this.ds_PRJ025.getColumn(_k,'CODE_NM');}var _l=this.ds_ubiReport00;_l.clearData();var _m=_l.addRow();_l.copyRow(_m,_f,_h);_l.setColumn(_m,'PRSEC_DE',_e.getColumn(_g,'PRSEC_DE'));var _n='/pms/prj/PRJ050401_1.jrf';;var _o,_p='';var _q=_i%10;switch(_q){case 1:case 2:break;case 3:case 4:break;case 3:break;default:break;}_d.setToolbar(false);_d.setScale(100);_d.setReportPath(_n);_d.setSaveFilename(_j);_d.setLocalDs(["ds_ubiReport00",_l]);var _r={arg_0:this,opts:_d};var _s=function(_t,_u){this.debug('this.fn_print() - fn_cb');};this.gfn_popup("prjReportPouup",884,735,_j,_r,"common::frmReportPopup.xfdl",_s,1);};this.fn_sanction=function(){var _d=this.ds_1;var _e=_d.rowposition;var _f=_d.getColumn(_e,"REQUST_NO");if(_f){return this.gfn_message("info.처리불가","이미 결재가 진행되었습니다.");}if(this.fn_checkUpdated()){return this.gfn_message("info.처리불가","수정된 내용을 저장 후 진행해 주시기바랍니다.");}var _g=this.ds_aud;_g.clearData();var _h=_g.addRow();_g.copyRow(_h,this.ds_3,this.ds_3.rowposition);this.fn_transaction("approve");};this.fn_popup_sanction=function(){var _d=this.ds_approve;if(_d.rowcount<1){return;}var _e=this.ds_1;var _f=_d.getColumn(0,"REQUST_NO");_e.setColumn(_e.rowposition,"REQUST_NO",_f);_e.applyChange();var _g=_d.getColumn(0,"O_URL");if(!_g){return;}system.execBrowser(_g);};this.fn_insert=function(){this.fn_insertDS(this.ds_1);};this.fn_delete=function(){this.fn_deleteDS(this.ds_1);};this.fn_insertDS=function(_d){var _e;var _f;var _g;var _h=_d.addRow();switch(_d){case this.ds_1:_f=this.ds_ctr;_g="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"CNTRCT_SE=CNTRCT_SE,";var _i=this.gfn_today();_e=(_h<1)?'1':''+(1+parseInt(_d.getColumn(_h-1,'ODR')));_d.setColumn(_h,'ODR',_e);_d.setColumn(_h,'REQUST_DE',_i);_d.setColumn(_h,'PXCOND_SE','2');break;case this.ds_2:_f=this.ds_1;_g="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";break;case this.ds_3:_f=this.ds_1;_g="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";_e=this.div_work.div_4.div_1.cmb_SANCTN_FORM_SE.value;_d.setColumn(_h,'SANCTN_FORM_SE',_e);break;}if(_g){_d.copyRow(_h,_f,_f.rowposition,_g);}};this.fn_deleteDS=function(_d){_d.deleteRow(_d.rowposition);};this.fn_checkUpdated=function(_d){if(!this.checkDs){return false;}for(var _f=0;_f<this.checkDs.length;_f++ ){if(this.comUtils.isDatasetUpdated(this.checkDs[_f])){if(!_d){return true;}var _e=this.gfn_message("confirm.변경.취소.여부");if(!_e){this.checkDs[_f].reset();}return _e;}}};this.ds_onrowposchanged=function(_d,_e){if(_d.rowcount<1){return;}switch(_d){case this.ds_ctr:return this.fn_transaction("mList");case this.ds_1:this.fn_transaction("fList");return this.fn_transaction("rList");case this.div_PRJ.ds_PRJ:var _f=this.div_PRJ.getCode();if(!_b){this.ds_cond1.setColumn(0,'BSNS_CODE',_f);application.setPrivateProfile(this.form_id+'BSNS_CODE',_f);}else{if(_f&&_b!=_f){return;}}return this.fn_transaction("ctrList");}};this.ds_oncolumnchanged=function(_d,_e){var _f=_e.row;if('1'!=_d.getColumn(_f,'ADD_YN')){return;}_d.set_updatecontrol(0);_d.setRowType(_f,Dataset.ROWTYPE_INSERT);_d.set_updatecontrol(1);_d.setColumn(_f,'ADD_YN',0);};this.ds_3_tmp;this.fn_copy=function(){var _d=this.ds_3;if(_d.rowcount>0){this.ds_3_tmp=new Dataset();this.ds_3_tmp.copyData(_d);}this.fn_insertDS(this.ds_1);};this.btn_41_onclick=function(_d,_e){this.fn_make();};this.fn_make=function(){var _d=this.ds_ctr;if(_d.rowcount<1){return;}var _e=this.ds_1;if(_e.rowcount<1){return;}var _f=this.ds_3;var _g=_f.rowposition;var _h=parseInt(_f.getColumn(_g,'SANCTN_FORM_SE'))||0;var _i=_d.rowposition;var _j=_e.rowposition;var _k,_l,_m,_n;var _o=_h%10;switch(_o){case 1:case 2:_k={차수:_e.getColumn(_j,'ODR')};_l={계약명:_d.getColumn(_i,'CNTRCT_NM'),계약금액:this.comUtils.formatComma(_d.getColumn(_i,'TOT_CNTRCT_AMOUNT')),착공일자:this.dateUtils.format(_d.getColumn(_i,'STRWRK_DE'),"yyyy년 mm월 dd일"),준공일자:this.dateUtils.format(_d.getColumn(_i,'COMPET_DE'),"yyyy년 mm월 dd일"),시공사:_d.getColumn(_i,'COMP'),총기성금액:this.comUtils.formatComma(_e.getColumn(_j,'S_AMT')),총기성율:this.comUtils.formatComma(_e.getColumn(_j,'S_RT')),기성금액:this.comUtils.formatComma(_e.getColumn(_j,'PXCOND_AMOUNT')),기성율:this.comUtils.formatComma(_e.getColumn(_j,'PXCOND_RT'))};_m={착공일자:this.dateUtils.format(_d.getColumn(_i,'STRWRK_DE'),"yyyy년 mm월 dd일"),시공사:_d.getColumn(_i,'COMP')};_n={착공일자:this.dateUtils.format(_d.getColumn(_i,'STRWRK_DE'),"yyyy년 mm월 dd일"),준공일자:this.dateUtils.format(_d.getColumn(_i,'COMPET_DE'),"yyyy년 mm월 dd일"),차수:_e.getColumn(_j,'ODR'),기성율:this.comUtils.formatComma(_e.getColumn(_j,'S_RT'))};break;case 3:case 4:_k={};_l={부서명:this.fn_genNames('DEPT_NM'),성명:this.fn_genNames('TCHNLGY_QUALF,TCHNLGY_GRAD,EMPNM')};_m={};_n={};break;case 5:_k={};_l={계약명:_d.getColumn(_i,'CNTRCT_NM'),검사자:this.fn_genNames('TCHNLGY_QUALF,TCHNLGY_GRAD,EMPNM')};_m={};_n={};break;case 0:_l={S_RT:_e.getColumn(_j,'S_RT')};break;default:break;}if(_k){this.fn_genTemplate(_f,_h,'VAL2','SANCTN_SJ',_k);}if(_l){this.fn_genTemplate(_f,_h,'ETC1','SANCTN_SUMM',_l);}if(_m){this.fn_genTemplate(_f,_h,'ETC2','SANCTN_ETC',_m);}if(_n){this.fn_genTemplate(_f,_h,'ETC3','SANCTN_CN',_n);}};this.fn_genTemplate=function(_d,_e,_f,_g,_h){var _i=this.ds_PRJ025;var _j=_i.findRow('CODE',_e);if(_j<0){return '';}var _k=_i.getColumn(_j,_f);if(!_k){return '';}for(var _l in _h){_k=_k.replace('{'+_l+'}',_h[_l]);}_j=_d.rowposition;_d.setColumn(_j,_g,_k);};this.fn_genNames=function(_d){var _e=this.ds_2;var _f=new Dataset();_f.copyData(_e,true);_f.filter('CHK==1');_d=_d.split(',');var _g='';for(var _h=0;_h<_f.rowcount;_h++ ){if(_h>0){_g+=', ';}for(var _i=0;_i<_d.length;_i++ ){if(_i>0){_g+=' ';}_g+=_f.getColumn(_h,_d[_i]);}}return _g;};this.grd_onheadclick=function(_d,_e){if(_e.col==0){this.gfn_setGridCheckAll(_d,_e);}};this.fn_BtnNm=function(_d){_d=parseInt(_d)||0;return this.g_BtnNms[_d];};this.grd_1_oncellclick=function(_d,_e){if(_e.cell==_d.getBindCellIndex("body","SANCTN_KND")){var _f=this.ds_1.getColumn(_e.row,"REQUST_NO");this.fn_PopupSanc(_f);}else if(_e.cell==13){var _g='EMPNO_OBSRVER_1=EMPNO,'+'NM1=EMPNM,';this.fn_PopupEmp(_g);}};this.fn_PopupSanc=function(_d){if(!_d){return;}var _e=function(_g,_h){if(!_h){return;}};var _f={arg_0:this,arg_1:_d};this.gfn_popup('sancPopup',710,518,'',_f,"com::COM010400_P01.xfdl",_e,1);};this.grd_oncellclick=function(_d,_e){if(_e.cell==0){_d.setCellProperty("Head",_e.cell,"text","0");}};this.btn_Emp1Popup_onclick=function(_d,_e){var _f='EMPNO_OBSRVER_1=EMPNO,'+'NM1=EMPNM,'+'DEPT1=DEPT_NM,';;this.fn_PopupEmp(_f);};this.fn_PopupEmp=function(_d){var _e=function(_g,_h){if(!_h){return;}var _i=new Dataset();nRowCnt=_i.loadXML(_h);if(nRowCnt<1){return;}this.ds_1.copyRow(this.ds_1.rowposition,_i,0,_d);};var _f={};this.gfn_popup('popLadCode',500,500,'',_f,"com::empno_P01.xfdl",_e,1);};this.fn_procChk_Mgr=function(_d){if(_d.rowcount<1){return;}_d.set_updatecontrol(false);var _e;for(var _f=0;_f<_d.rowcount;_f++ ){_e=_d.getRowType(_f);if(_e<=Dataset.ROWTYPE_NORMAL){continue;}_e=('1'==_d.getColumn(_f,'CHK'))?Dataset.ROWTYPE_INSERT:Dataset.ROWTYPE_DELETE;_d.setRowType(_f,_e);}_d.set_updatecontrol(true);};});this.on_initEvent=function(){this.ds_ctr.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.ds_1.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.ds_3.addEventHandler("oncolumnchanged",this.ds_oncolumnchanged,this);this.ds_BSNS.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.ds_BSNS.addEventHandler("canrowposchange",this.ds_canrowposchange,this);this.addEventHandler("onload",this.PRJ050402_onload,this);this.addEventHandler("oninit",this.PRJ050402_oninit,this);this.div_work.div_2.grd_1.addEventHandler("oncellclick",this.grd_1_oncellclick,this);this.div_work.div_3.grd_2.addEventHandler("oncellclick",this.grd_oncellclick,this);this.div_work.div_3.grd_2.addEventHandler("onheadclick",this.grd_onheadclick,this);this.div_work.div_4.btn_41.addEventHandler("onclick",this.btn_41_onclick,this);this.div_1.btn_2.addEventHandler("onclick",this.btn_Emp1Popup_onclick,this);this.div_1.btn_Copy.addEventHandler("onclick",this.fn_copy,this);};this.loadIncludeScript("PRJ050402.xfdl");this.loadPreloadList();};})();