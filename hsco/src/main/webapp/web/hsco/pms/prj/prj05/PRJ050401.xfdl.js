(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ050401");this.set_classname("PRJ050401");this.set_titletext("PRJ050401_공사기성요청관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_ctr",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMP\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_1",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE2\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"REQUST_DE\" type=\"STRING\" size=\"8\"/><Column id=\"REQUST_NO\" type=\"STRING\" size=\"14\"/><Column id=\"PRSEC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"EXPNDTR_DE\" type=\"STRING\" size=\"8\"/><Column id=\"PXCOND_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"PXCOND_RT\" type=\"BIGDECIMAL\" size=\"8\"/><Column id=\"LGTFF_SE\" type=\"STRING\" size=\"3\"/><Column id=\"BIZRNO\" type=\"STRING\" size=\"13\"/><Column id=\"REQST_SE\" type=\"STRING\" size=\"3\"/><Column id=\"EXAMER\" type=\"STRING\" size=\"50\"/><Column id=\"EMPNO_OBSRVER_1\" type=\"STRING\" size=\"8\"/><Column id=\"NM1\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT1\" type=\"STRING\" size=\"100\"/><Column id=\"EMPNO_OBSRVER_2\" type=\"STRING\" size=\"8\"/><Column id=\"NM2\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT2\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"S_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"S_RT\" type=\"BIGDECIMAL\" size=\"8\"/><Column id=\"REMAIN_AMT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"SANCTN_KND\" type=\"STRING\" size=\"2\"/><Column id=\"ADVAN_EXCCLC_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"RL_PYMNT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"20\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_2",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"MNG_SN\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"CHANGE_SN\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"8\"/><Column id=\"LGTFF_DE\" type=\"STRING\" size=\"8\"/><Column id=\"TCHNLGY_QUALF\" type=\"STRING\" size=\"100\"/><Column id=\"TCHNLGY_GRAD\" type=\"STRING\" size=\"100\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"100\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"CHK\" type=\"STRING\" size=\"1\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_3",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CODE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"INT\" size=\"3\"/><Column id=\"CHK\" type=\"STRING\" size=\"1\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ADD_YN\" type=\"STRING\" size=\"3\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"4000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"4000\"/><Column id=\"AL1\" type=\"STRING\" size=\"3\"/><Column id=\"VAL0\" type=\"STRING\" size=\"100\"/><Column id=\"VAL1\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\"/><Col id=\"colId\"/><Col id=\"notNull\"/><Col id=\"msgId\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond1",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"CTR_GB\" type=\"STRING\" size=\"3\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"REQST_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"IS_COMP\" type=\"STRING\" size=\"3\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_approve",this);_a.getSetter("useclientlayout2").set("1");_a._setContents("<ColumnInfo><Column id=\"DATA_VALUE\" type=\"STRING\" size=\"4000\"/><Column id=\"DATA_TITLE\" type=\"STRING\" size=\"1000\"/><Column id=\"O_URL\" type=\"STRING\" size=\"1000\"/><Column id=\"DEPT_CD\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_aud",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"1000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ubiReport00",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"BIGDECIMAL\" size=\"3\"/><Column id=\"CODE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_FORM_SE\" type=\"STRING\" size=\"3\"/><Column id=\"SANCTN_SJ\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_SUMM\" type=\"STRING\" size=\"1000\"/><Column id=\"SANCTN_ETC\" type=\"STRING\" size=\"100\"/><Column id=\"SANCTN_CN\" type=\"STRING\" size=\"1000\"/><Column id=\"PRSEC_DE\" type=\"STRING\" size=\"8\"/><Column id=\"VAL1\" type=\"STRING\" size=\"3\"/><Column id=\"AL1\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"1000\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_COM022",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ012",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ010",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ011",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ014",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ018",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ017",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ023",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ025",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_CTR007",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_BSNS",this);_a.set_useclientlayout("0");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"string\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_ALL_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"3\"/><Column id=\"RM\" type=\"string\" size=\"200\"/><Column id=\"STRWRK_DE\" type=\"string\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"8\"/><Column id=\"BSNS_CONFM_DE\" type=\"string\" size=\"8\"/><Column id=\"MVN_DE\" type=\"string\" size=\"8\"/><Column id=\"RN\" type=\"string\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctrDtl",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_4",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PXCOND_SE\" type=\"STRING\" size=\"3\"/><Column id=\"ODR\" type=\"INT\" size=\"3\"/><Column id=\"MNG_SN\" type=\"INT\" size=\"10\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"8\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"8\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_rdo",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"10\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"100\"/></ColumnInfo><Rows><Row><Col id=\"CODE\">1</Col><Col id=\"CODE_NM\">검사명령부</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_text("28");_a.set_visible("0");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("4");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("sta_CL_SE","absolute","15","6","300","20",null,null,this.div_search);_a.set_taborder("3");_a.set_text("사업코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_bsns_code","absolute","79","5","350","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("4");_a.set_innerdataset("ds_BSNS");_a.set_codecolumn("BSNS_CODE");_a.set_datacolumn("BSNS_ALL_NM");_a.set_displayrowcount("15");_a.set_cssclass("cmb_WF_Essential");_a=new Div("div_work","absolute","0","32",null,null,"28","0",this);_a.set_taborder("5");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","13","200","19",null,null,this.div_work);_a.set_taborder("25");_a.set_text("계약목록(공사)");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work);_a.set_taborder("26");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work);_a.set_taborder("27");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_ctr","absolute","0","35",null,"200","210",null,this.div_work);_a.set_taborder("28");_a.set_binddataset("ds_ctr");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"0\"/><Column size=\"150\"/><Column size=\"90\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"18\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"계약번호\"/><Cell col=\"1\" rowspan=\"2\" text=\"계약구분\"/><Cell col=\"2\" rowspan=\"2\" text=\"계약명\"/><Cell col=\"3\" rowspan=\"2\" text=\"계약금액\"/><Cell col=\"4\" rowspan=\"2\" text=\"계약일자\"/><Cell col=\"5\" colspan=\"2\" text=\"공사계획기간\"/><Cell col=\"7\" rowspan=\"2\" text=\"첨부파일명\"/><Cell row=\"1\" col=\"5\" text=\"착공일자\"/><Cell row=\"1\" col=\"6\" text=\"준공일자\"/></Band><Band id=\"body\"><Cell text=\"bind:CNTRCT_NO\"/><Cell col=\"1\" displaytype=\"combo\" combodataset=\"ds_PRJ017\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"2\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:CNTRCT_NM\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:TOT_CNTRCT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"4\" displaytype=\"date\" text=\"bind:CNTRCT_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" displaytype=\"date\" text=\"bind:STRWRK_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"6\" displaytype=\"date\" text=\"bind:COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"7\"/></Band><Band id=\"summary\"><Cell colspan=\"3\" style=\"align:center;line:1 solid #ffd8cdff,0 none #e0e0e0ff;selectline:1 solid #FFD8CD,0 none #e0e0e0ff;\" text=\"합계\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(TOT_CNTRCT_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"4\" colspan=\"4\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Div("div_00","absolute",null,"0","200","235","0",null,this.div_work);_a.set_taborder("29");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","14","126","19",null,null,this.div_work.div_00);_a.set_taborder("34");_a.set_text("수급자");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work.div_00);_a.set_taborder("35");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work.div_00);_a.set_taborder("36");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Grid("grd_ctrDtl","absolute","0","35",null,null,"0","0",this.div_work.div_00);_a.set_taborder("37");_a.set_binddataset("ds_ctrDtl");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"150\"/><Column size=\"60\"/></Columns><Rows><Row size=\"36\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"업체명\"/><Cell col=\"1\" text=\"대표자\"/></Band><Band id=\"body\"><Cell style=\"align:left;padding:0 5 0 5;\" text=\"bind:BCNC_NM\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:RPRSNTV\"/></Band></Format></Formats>");this.div_work.div_00.addChild(_a.name,_a);_a=new Div("div_1","absolute","0","235",null,"467","211",null,this.div_work);_a.set_taborder("30");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_work.div_1);_a.set_taborder("36");_a.set_text("기성내역");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_1.addChild(_a.name,_a);_a=new Button("btn_31","absolute",null,"10","64","19","67",null,this.div_work.div_1);_a.set_taborder("37");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work.div_1);_a.set_taborder("38");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work.div_1);_a.set_taborder("39");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Button("btn_32","absolute",null,"10","64","19","0",null,this.div_work.div_1);_a.set_taborder("40");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_work.div_1.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","34",null,null,"0","0",this.div_work.div_1);_a.set_taborder("41");_a.set_binddataset("ds_1");_a.getSetter("autofittype2").set("col");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"70\"/><Column size=\"0\"/><Column size=\"115\"/><Column size=\"120\"/><Column size=\"120\"/><Column size=\"70\"/><Column size=\"120\"/><Column size=\"85\"/><Column size=\"120\"/><Column size=\"70\"/><Column size=\"80\"/><Column size=\"20\"/><Column size=\"80\"/><Column size=\"20\"/><Column size=\"115\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"차수\"/><Cell col=\"1\" text=\"기성구분\"/><Cell col=\"2\" text=\"요청일자\"/><Cell col=\"3\" text=\"기성금액\"/><Cell col=\"4\" text=\"잔여기성액\"/><Cell col=\"5\" text=\"결재현황\"/><Cell col=\"6\" text=\"선금정산액\"/><Cell col=\"7\" text=\"지출일자\"/><Cell col=\"8\" text=\"실지급\"/><Cell col=\"9\" text=\"요청번호\"/><Cell col=\"10\" colspan=\"2\" text=\"입회원1\"/><Cell col=\"12\" colspan=\"2\" text=\"입회원2\"/><Cell col=\"14\" text=\"검사일자\"/></Band><Band id=\"body\"><Cell text=\"bind:ODR\"/><Cell col=\"1\" displaytype=\"combo\" text=\"bind:PXCOND_SE2\" combodataset=\"ds_PRJ023\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"2\" displaytype=\"date\" edittype=\"date\" text=\"bind:REQUST_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"3\" displaytype=\"number\" edittype=\"masknumber\" style=\"align:right;padding: ;\" text=\"bind:PXCOND_AMOUNT\" mask=\"###,###,###,###,##0\" editdisplay=\"display\" editlimitbymask=\"both\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:REMAIN_AMT\" mask=\"#,##0\"/><Cell col=\"5\" displaytype=\"expr:!REQUST_NO?'':'button'\" text=\"bind:SANCTN_KND\" expr=\"expr:!REQUST_NO?'':dataset.parent.fn_BtnNm(SANCTN_KND)\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:ADVAN_EXCCLC_AMOUNT\" mask=\"#,##0\"/><Cell col=\"7\" displaytype=\"date\" text=\"bind:EXPNDTR_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"8\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:RL_PYMNT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"9\" text=\"bind:REQUST_NO\"/><Cell col=\"10\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:NM1\" editdisplay=\"display\"/><Cell col=\"11\" displaytype=\"image\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/><Cell col=\"12\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:NM2\" editdisplay=\"display\"/><Cell col=\"13\" displaytype=\"image\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/><Cell col=\"14\" displaytype=\"date\" edittype=\"date\" text=\"bind:PRSEC_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/></Band><Band id=\"summary\"><Cell colspan=\"3\" style=\"align:center;line:1 solid #ffd8cdff,0 none #e0e0e0ff;selectline:1 solid #FFD8CD,0 none #e0e0e0ff;\" text=\"합계\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(PXCOND_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"4\" colspan=\"2\"/><Cell col=\"6\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(ADVAN_EXCCLC_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"7\"/><Cell col=\"8\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(RL_PYMNT_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"9\" colspan=\"6\"/></Band></Format></Formats>");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_v00","absolute","694",null,"10","203",null,"-256",this);_a.set_taborder("7");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_02","absolute","0","747",null,null,"337","-256",this);_a.set_taborder("8");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_02);_a.set_taborder("56");_a.set_text("감독관");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_02.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_02);_a.set_taborder("57");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_02.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_02);_a.set_taborder("58");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_02.addChild(_a.name,_a);_a=new Grid("grd_2","absolute","0","34",null,null,"0","0",this.div_02);_a.set_taborder("59");_a.set_binddataset("ds_2");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"90\"/><Column size=\"170\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\"/><Cell col=\"1\" text=\"성명\"/><Cell col=\"2\" text=\"기술자격\"/><Cell col=\"3\" text=\"등급\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:EMPNM\"/><Cell col=\"2\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:TCHNLGY_QUALF\"/><Cell col=\"3\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:TCHNLGY_GRAD\"/></Band></Format></Formats>");this.div_02.addChild(_a.name,_a);_a=new Div("div_03","absolute",null,"747","327",null,"0","-256",this);_a.set_taborder("9");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_03);_a.set_taborder("71");_a.set_text("첨부파일");_a.set_cssclass("sta_WF_Title02");_a.style.set_background("transparent URL('theme://images/sta_WF_Title02.png') left middle");_a.getSetter("visible2").set("0");this.div_03.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_03);_a.set_taborder("72");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_03.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_03);_a.set_taborder("73");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_03.addChild(_a.name,_a);_a=new Grid("grd_Files","absolute","0","34",null,null,"0","0",this.div_03);_a.set_taborder("74");_a.set_binddataset("ds_files");_a.set_autofittype("col");_a.getSetter("autofittype2").set("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"50\"/><Column size=\"0\"/><Column size=\"200\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"순번\"/><Cell col=\"2\" text=\"기타\"/><Cell col=\"3\" text=\"파일명\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" expr=\"currow+1\"/><Cell col=\"2\" text=\"bind:EXT\"/><Cell col=\"3\" style=\"align:left middle;cursor:hand;\" text=\"bind:FILE_NM\"/></Band></Format></Formats>");this.div_03.addChild(_a.name,_a);_a=new Button("btn_del00","absolute",null,"10","38","19","0",null,this.div_03);_a.set_taborder("75");_a.set_text("삭제");_a.set_cssclass("btn_WF_Process");this.div_03.addChild(_a.name,_a);_a=new Button("btn_del01","absolute",null,"10","38","19","41",null,this.div_03);_a.set_taborder("76");_a.set_text("받기");_a.set_cssclass("btn_WF_Process");this.div_03.addChild(_a.name,_a);_a=new Button("btn_00","absolute",null,"10","38","19","82",null,this.div_03);_a.set_taborder("77");_a.set_text("첨부");_a.set_cssclass("btn_WF_Process");this.div_03.addChild(_a.name,_a);_a=new Div("div_00","absolute",null,"266","200","469","28",null,this);_a.set_taborder("10");this.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","14","126","19",null,null,this.div_00);_a.set_taborder("44");_a.set_text("검사원");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_00);_a.set_taborder("45");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_00);_a.set_taborder("46");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_00.addChild(_a.name,_a);_a=new Grid("grd_ctrDtl","absolute","0","35",null,null,"0","0",this.div_00);_a.set_taborder("47");_a.set_binddataset("ds_4");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"134\"/><Column size=\"20\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" colspan=\"2\" text=\"검사원\"/></Band><Band id=\"body\"><Cell text=\"bind:MNG_SN\"/><Cell col=\"1\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:EMPNM\" editdisplay=\"display\"/><Cell col=\"2\" displaytype=\"image\" expr=\"expr:'theme://images/btn_WF_Search.png'\"/></Band></Format></Formats>");this.div_00.addChild(_a.name,_a);_a=new Button("btn_31","absolute",null,"10","64","19","67",null,this.div_00);_a.set_taborder("48");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.div_00.addChild(_a.name,_a);_a=new Button("btn_32","absolute",null,"10","64","19","0",null,this.div_00);_a.set_taborder("49");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_00.addChild(_a.name,_a);_a=new Div("div_sanction","absolute",null,"0","189","95","-205",null,this);_a.set_taborder("11");_a.set_cssclass("div_WF_Calendar");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_print","absolute","39",null,"60","21",null,"17",this.div_sanction);_a.set_taborder("74");_a.set_text("전자결재");this.div_sanction.addChild(_a.name,_a);_a=new Button("btn_printCancel","absolute","102",null,"40","21",null,"17",this.div_sanction);_a.set_taborder("75");_a.set_text("취소");this.div_sanction.addChild(_a.name,_a);_a=new Radio("Radio00","absolute","8.02%","19",null,"21","8.02%",null,this.div_sanction);this.div_sanction.addChild(_a.name,_a);_a.set_taborder("76");_a.set_innerdataset("@ds_rdo");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_value("1");_a.set_index("0");_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("4");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",200,235,this.div_work.div_00,function(_b){_b.set_taborder("29");});this.div_work.div_00.addLayout(_a.name,_a);_a=new Layout("default","",1031,467,this.div_work.div_1,function(_b){_b.set_taborder("30");});this.div_work.div_1.addLayout(_a.name,_a);_a=new Layout("default","",1031,703,this.div_work,function(_b){_b.set_taborder("5");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_02,function(_b){_b.set_taborder("8");_b.set_visible("false");});this.div_02.addLayout(_a.name,_a);_a=new Layout("default","",327,0,this.div_03,function(_b){_b.set_taborder("9");_b.set_visible("false");});this.div_03.addLayout(_a.name,_a);_a=new Layout("default","",200,469,this.div_00,function(_b){_b.set_taborder("10");});this.div_00.addLayout(_a.name,_a);_a=new Layout("default","",189,95,this.div_sanction,function(_b){_b.set_taborder("11");_b.set_cssclass("div_WF_Calendar");_b.set_visible("false");});this.div_sanction.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("PRJ050401");_b.set_titletext("PRJ050401_공사기성요청관리");});this.addLayout(_a.name,_a);_a=new BindItem("item01","div_search.cmb_CTR_GB","value","ds_cond1","CTR_GB");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item30","div_work.div_4.div_1.edt_1","value","ds_3","SANCTN_SJ");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item31","div_work.div_4.div_2.txt_SANCTN_SUMM","value","ds_3","SANCTN_SUMM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item32","div_work.div_42.div_1.txt_SANCTN_ETC","value","ds_3","SANCTN_ETC");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item33","div_work.div_42.div_2.txt_SANCTN_CN","value","ds_3","SANCTN_CN");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("PRJ050401.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("PRJ050401.xfdl",function(){this.g_sGB='11';var _a;var _b;var _c;var _d;this.g_BtnNms=[];this.PRJ050401_oninit=function(_e,_f){this.form_id=application.gv_curFormId+'_';this.fn_init();this.fn_init_form();this.fn_init_dataset();};this.fn_onFileSuccess=function(_e,_f){this.fn_transaction("mList");};this.PRJ050401_onload=function(_e,_f){this.fn_loadCombo();};this.fn_init_form=function(){};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);this.checkDs.push(this.ds_1);this.checkDs.push(this.ds_2);this.checkDs.push(this.ds_3);};this.fn_loadCombo=function(){var _e=[['ds_COM022','COM022',1,''],['ds_PRJ012','PRJ012',1,''],['ds_PRJ010','PRJ010',1,''],['ds_PRJ011','PRJ011',1,''],['ds_PRJ014','PRJ014',1,''],['ds_PRJ017','PRJ017',1,''],['ds_PRJ023','PRJ023',1,''],['ds_PRJ025','PRJ025',1,'']];var _f=null;this.gfn_comboLoad(_e,_f);this.fn_fill_combo(this.div_search.cmb_bsns_code,"hsco/pms/prj/bsnsCdList.do","선택",null);};this.fn_search=function(){var _e=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_e==''){this.alert("사업코드를 선택하세요.");return;}this.ds_cond1.setColumn(0,"BSNS_CODE",_e);this.ds_cond1.setColumn(0,"CTR_GB","1");this.ds_ctr.clearData();this.ds_ctrDtl.clearData();this.ds_1.clearData();this.fn_transaction("ctrList");};this.fn_save=function(){if(this.ds_ctr.getColumn(this.ds_ctr.rowposition,"TOT_CNTRCT_AMOUNT")<(this.ds_1.getSum('parseInt(ADVAN_EXCCLC_AMOUNT)||0')+this.ds_1.getSum('parseInt(PXCOND_AMOUNT)||0'))){return this.gfn_message("info.처리불가","기성금액 및 선금정산액의 합이 계약금액보다 큽니다.");}else{if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("save");}}};this.fn_transaction=function(_e){if(this.ds_cond1.rowcount<1){return;}var _f;var _g;var _h;var _i="input1=ds_cond1";var _j="";switch(_e){case "ctrList":_h="hsco/pms/prj/ctrList.do";_i="input1=ds_cond1";_j="ds_ctr=output1";break;case "ctrDtlList":_h="hsco/pms/prj/ctrDtlList.do";_i="input1=ds_cond1";_j="ds_ctrDtl=output1";break;case "mList":ds=this.ds_cond1;_f=this.ds_ctr;_g="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,";_j="ds_1=output1";this.ds_cond1.setColumn(0,"PXCOND_SE","2");break;case "rList":ds=this.ds_cond1;_f=this.ds_1;_g="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";_j="ds_4=output1";break;case "save":_d=this.ds_1.rowposition;_h="hsco/pms/prj/PRJ050401/save.do";_i="input1=ds_1:U";_i+=" input2=ds_4:U";break;case "approve":_i="input1=ds_aud:U";_j=" ds_approve=output1";break;}switch(_e){case "ctrList":this.ds_ctr.clearData();case "mList":this.ds_1.clearData();case "rList":this.ds_4.clearData();}if(_g){this.ds_cond1.copyRow(0,_f,_f.rowposition,_g);}if(!_h){_h="hsco/pms/prj/PRJ050401/"+_e+".do";}Ex.core.tran(this,_e,_h,_i,_j);};this.fn_callBack=function(_e,_f,_g){if(_f!=0){return this.gfn_callback_message(_e,_f,_g);}switch(_e){case "ctrList":this.fn_transaction("ctrDtlList");break;case "mList":if(_d> -1){this.ds_1.set_rowposition(_d);_d= -1;}break;case "rList":break;case "save":this.fn_transaction("mList");break;case "approve":this.fn_popup_sanction();break;}};this.fn_print=function(){var _e=new this.cf_Opts();var _f=this.ds_1;var _g=this.ds_3;var _h=_f.rowposition;var _i=_g.rowposition;var _j=parseInt(_g.getColumn(_i,'SANCTN_FORM_SE'))||0;var _k=' ';var _l=this.ds_PRJ025.findRow('CODE',_j);if(_l>=0){_k=this.ds_PRJ025.getColumn(_l,'CODE_NM');}var _m=this.ds_ubiReport00;_m.clearData();var _n=_m.addRow();_m.copyRow(_n,_g,_i);_m.setColumn(_n,'PRSEC_DE',_f.getColumn(_h,'PRSEC_DE'));var _o='/pms/prj/PRJ050401_1.jrf';;var _p,_q='';var _r=_j%10;switch(_r){case 1:case 2:break;case 3:case 4:break;case 3:break;default:break;}_e.setToolbar(false);_e.setScale(100);_e.setReportPath(_o);_e.setSaveFilename(_k);_e.setLocalDs(["ds_ubiReport00",_m]);var _s={arg_0:this,opts:_e};var _t=function(_u,_v){this.debug('this.fn_print() - fn_cb');};this.gfn_popup("prjReportPouup",884,735,_k,_s,"common::frmReportPopup.xfdl",_t,1);};this.fn_sanction_bak=function(){var _e=this.ds_1;var _f=_e.rowposition;var _g=_e.getColumn(_f,"REQUST_NO");if(_g){return this.gfn_message("info.처리불가","이미 결재가 진행되었습니다.");}if(this.fn_checkUpdated()){return this.gfn_message("info.처리불가","수정된 내용을 저장 후 진행해 주시기바랍니다.");}var _h=this.ds_aud;_h.clearData();var _i=_h.addRow();_h.copyRow(_i,this.ds_3,this.ds_3.rowposition);this.fn_transaction("approve");};this.fn_popup_sanction=function(){var _e=this.ds_approve;if(_e.rowcount<1){return;}var _f=this.ds_1;var _g=_e.getColumn(0,"REQUST_NO");_f.setColumn(_f.rowposition,"REQUST_NO",_g);_f.applyChange();var _h=_e.getColumn(0,"O_URL");if(!_h){return;}system.execBrowser(_h);};this.fn_insert=function(){this.fn_insertDS(this.ds_1);};this.fn_delete=function(){this.fn_deleteDS(this.ds_1);};this.fn_insertDS=function(_e){var _f;var _g;var _h;var _i=_e.addRow();switch(_e){case this.ds_1:_g=this.ds_ctr;_h="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"CNTRCT_SE=CNTRCT_SE,";var _j=this.gfn_today();_f=(_i<1)?'1':''+(1+parseInt(_e.getColumn(_i-1,'ODR')));_e.setColumn(_i,'ODR',_f);_e.setColumn(_i,'REQUST_DE',_j);_e.setColumn(_i,'PXCOND_SE','2');break;case this.ds_2:_g=this.ds_1;_h="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";break;case this.ds_3:_g=this.ds_1;_h="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";_f=this.div_work.div_4.div_1.cmb_SANCTN_FORM_SE.value;_e.setColumn(_i,'SANCTN_FORM_SE',_f);break;}if(_h){_e.copyRow(_i,_g,_g.rowposition,_h);}};this.fn_deleteDS=function(_e){_e.deleteRow(_e.rowposition);};this.fn_checkUpdated=function(_e){if(!this.checkDs){return false;}for(var _g=0;_g<this.checkDs.length;_g++ ){if(this.comUtils.isDatasetUpdated(this.checkDs[_g])){if(!_e){return true;}var _f=this.gfn_message("confirm.변경.취소.여부");if(!_f){this.checkDs[_g].reset();}return _f;}}};this.ds_onrowposchanged=function(_e,_f){if(_e.rowcount<1){return;}switch(_e){case this.ds_ctr:return this.fn_transaction("mList");case this.ds_1:this.fn_transaction("fList");return this.fn_transaction("rList");}};this.ds_oncolumnchanged=function(_e,_f){var _g=_f.row;if('1'!=_e.getColumn(_g,'ADD_YN')){return;}_e.set_updatecontrol(0);_e.setRowType(_g,Dataset.ROWTYPE_INSERT);_e.set_updatecontrol(1);_e.setColumn(_g,'ADD_YN',0);};this.ds_3_tmp;this.fn_copy=function(){var _e=this.ds_3;if(_e.rowcount>0){this.ds_3_tmp=new Dataset();this.ds_3_tmp.copyData(_e);}this.fn_insertDS(this.ds_1);};this.btn_41_onclick=function(_e,_f){this.fn_make();};this.fn_make=function(){var _e=this.ds_ctr;if(_e.rowcount<1){return;}var _f=this.ds_1;if(_f.rowcount<1){return;}var _g=this.ds_3;var _h=_g.rowposition;var _i=parseInt(_g.getColumn(_h,'SANCTN_FORM_SE'))||0;var _j=_e.rowposition;var _k=_f.rowposition;var _l,_m,_n,_o;var _p=_i%10;switch(_p){case 1:case 2:_l={차수:_f.getColumn(_k,'ODR')};_m={계약명:_e.getColumn(_j,'CNTRCT_NM'),계약금액:this.comUtils.formatComma(_e.getColumn(_j,'TOT_CNTRCT_AMOUNT')),착공일자:this.dateUtils.format(_e.getColumn(_j,'STRWRK_DE'),"yyyy년 mm월 dd일"),준공일자:this.dateUtils.format(_e.getColumn(_j,'COMPET_DE'),"yyyy년 mm월 dd일"),시공사:_e.getColumn(_j,'COMP'),총기성금액:this.comUtils.formatComma(_f.getColumn(_k,'S_AMT')),총기성율:this.comUtils.formatComma(_f.getColumn(_k,'S_RT')),기성금액:this.comUtils.formatComma(_f.getColumn(_k,'PXCOND_AMOUNT')),기성율:this.comUtils.formatComma(_f.getColumn(_k,'PXCOND_RT'))};_n={착공일자:this.dateUtils.format(_e.getColumn(_j,'STRWRK_DE'),"yyyy년 mm월 dd일"),시공사:_e.getColumn(_j,'COMP')};_o={착공일자:this.dateUtils.format(_e.getColumn(_j,'STRWRK_DE'),"yyyy년 mm월 dd일"),준공일자:this.dateUtils.format(_e.getColumn(_j,'COMPET_DE'),"yyyy년 mm월 dd일"),차수:_f.getColumn(_k,'ODR'),기성율:this.comUtils.formatComma(_f.getColumn(_k,'S_RT'))};break;case 3:case 4:_l={};_m={부서명:this.fn_genNames('DEPT_NM'),성명:this.fn_genNames('TCHNLGY_QUALF,TCHNLGY_GRAD,EMPNM')};_n={};_o={};break;case 5:_l={};_m={계약명:_e.getColumn(_j,'CNTRCT_NM'),검사자:this.fn_genNames('TCHNLGY_QUALF,TCHNLGY_GRAD,EMPNM')};_n={};_o={};break;case 0:_m={S_RT:_f.getColumn(_k,'S_RT')};break;default:break;}if(_l){this.fn_genTemplate(_g,_i,'VAL2','SANCTN_SJ',_l);}if(_m){this.fn_genTemplate(_g,_i,'ETC1','SANCTN_SUMM',_m);}if(_n){this.fn_genTemplate(_g,_i,'ETC2','SANCTN_ETC',_n);}if(_o){this.fn_genTemplate(_g,_i,'ETC3','SANCTN_CN',_o);}};this.fn_genTemplate=function(_e,_f,_g,_h,_i){var _j=this.ds_PRJ025;var _k=_j.findRow('CODE',_f);if(_k<0){return '';}var _l=_j.getColumn(_k,_g);if(!_l){return '';}for(var _m in _i){_l=_l.replace('{'+_m+'}',_i[_m]);}_k=_e.rowposition;_e.setColumn(_k,_h,_l);};this.fn_genNames=function(_e){var _f=this.ds_2;var _g=new Dataset();_g.copyData(_f,true);_g.filter('CHK==1');_e=_e.split(',');var _h='';for(var _i=0;_i<_g.rowcount;_i++ ){if(_i>0){_h+=', ';}for(var _j=0;_j<_e.length;_j++ ){if(_j>0){_h+=' ';}_h+=_g.getColumn(_i,_e[_j]);}}return _h;};this.grd_onheadclick=function(_e,_f){if(_f.col==0){this.gfn_setGridCheckAll(_e,_f);}};this.fn_BtnNm=function(_e){_e=parseInt(_e)||0;return this.g_BtnNms[_e];};this.grd_1_oncellclick=function(_e,_f){if(_f.cell==_e.getBindCellIndex("body","SANCTN_KND")){var _g=this.ds_1.getColumn(_f.row,"REQUST_NO");this.fn_PopupSanc(_g);}else if(_f.cell==10||_f.cell==11){var _h='EMPNO_OBSRVER_1=EMPNO,'+'NM1=EMPNM,';this.fn_PopupEmp(_h);}else if(_f.cell==12||_f.cell==13){var _h='EMPNO_OBSRVER_2=EMPNO,'+'NM2=EMPNM,';this.fn_PopupEmp(_h);}};this.fn_PopupSanc=function(_e){if(!_e){return;}var _f=function(_h,_i){if(!_i){return;}};var _g={arg_0:this,arg_1:_e};this.gfn_popup('sancPopup',710,518,'',_g,"com::COM010400_P01.xfdl",_f,1);};this.grd_oncellclick=function(_e,_f){if(_f.cell==0){_e.setCellProperty("Head",_f.cell,"text","0");}};this.btn_Emp1Popup_onclick=function(_e,_f){var _g='EMPNO_OBSRVER_1=EMPNO,'+'NM1=EMPNM,'+'DEPT1=DEPT_NM,';;this.fn_PopupEmp(_g);};this.fn_PopupEmp=function(_e){var _f=function(_h,_i){if(!_i){return;}var _j=new Dataset();nRowCnt=_j.loadXML(_i);if(nRowCnt<1){return;}this.ds_1.copyRow(this.ds_1.rowposition,_j,0,_e);};var _g={};this.gfn_popup('popLadCode',500,500,'',_g,"com::empno_P01.xfdl",_f,1);};this.fn_procChk_Mgr=function(_e){if(_e.rowcount<1){return;}_e.set_updatecontrol(false);var _f;for(var _g=0;_g<_e.rowcount;_g++ ){_f=_e.getRowType(_g);if(_f<=Dataset.ROWTYPE_NORMAL){continue;}_f=('1'==_e.getColumn(_g,'CHK'))?Dataset.ROWTYPE_INSERT:Dataset.ROWTYPE_DELETE;_e.setRowType(_g,_f);}_e.set_updatecontrol(true);};this.fn_bsnsChanged=function(_e,_f){var _g=_e.index||0;if(this.ds_BSNS.rowcount==0){return false;}this.ds_BSNS.set_rowposition(_g);};this.ds_ctr_onrowposchanged=function(_e,_f){if(_e.rowcount<1){return;}this.ds_cond1.setColumn(0,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.fn_transaction("ctrDtlList");this.fn_transaction("mList");};this.div_work_div_1_btn_31_onclick=function(_e,_f){var _g=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_g==''){return;}if(this.ds_ctr.rowcount<1){return;}var _h=this.ds_1.addRow();this.ds_1.setColumn(_h,"BSNS_CODE",_g);this.ds_1.setColumn(_h,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.ds_1.setColumn(_h,"PXCOND_SE",'2');};this.div_work_div_1_btn_32_onclick=function(_e,_f){this.ds_1.deleteRow(this.ds_1.rowposition);};this.fn_sanction=function(){if(!this.div_sanction.visible){this.div_sanction.set_right(136);this.div_sanction.set_visible(true);var _e=this.div_sanction.components.length;for(var _g=0;_g<_e;_g++ ){var _f=this.div_sanction.components.get_item(_g);if(_f instanceof CheckBox){_f.set_value(false);}}}else{this.div_sanction.set_visible(false);}};this.div_print_btn_printCancel_onclick=function(_e,_f){this.div_sanction.set_visible(false);};this.div_00_btn_31_onclick=function(_e,_f){if(this.ds_1.rowcount<1||(this.ds_1.getRowType(this.ds_1.rowposition)==Dataset.ROWTYPE_INSERT)){return;}var _g="BSNS_CODE=BSNS_CODE,"+"CNTRCT_NO=CNTRCT_NO,"+"PXCOND_SE=PXCOND_SE,"+"ODR=ODR,";var _h=this.ds_4.addRow();this.ds_4.copyRow(_h,this.ds_1,this.ds_1.rowposition,_g);};this.div_00_btn_32_onclick=function(_e,_f){this.ds_4.deleteRow(this.ds_4.rowposition);};this.fn_PopupEmp2=function(_e){var _f=function(_h,_i){if(!_i){return;}var _j=new Dataset();nRowCnt=_j.loadXML(_i);if(nRowCnt<1){return;}this.ds_4.copyRow(this.ds_4.rowposition,_j,0,_e);};var _g={};this.gfn_popup('popLadCode',500,500,'',_g,"com::empno_P01.xfdl",_f,1);};this.div_00_grd_ctrDtl_oncellclick=function(_e,_f){if(_f.cell==1||_f.cell==2){var _g='EMPNO=EMPNO,'+'EMPNM=EMPNM,';this.fn_PopupEmp2(_g);}};});this.on_initEvent=function(){this.ds_ctr.addEventHandler("onrowposchanged",this.ds_ctr_onrowposchanged,this);this.ds_1.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.ds_3.addEventHandler("oncolumnchanged",this.ds_oncolumnchanged,this);this.ds_BSNS.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.ds_BSNS.addEventHandler("canrowposchange",this.ds_canrowposchange,this);this.ds_4.addEventHandler("oncolumnchanged",this.ds_oncolumnchanged,this);this.ds_rdo.addEventHandler("onrowposchanged",this.ds_ctr_onrowposchanged,this);this.addEventHandler("onload",this.PRJ050401_onload,this);this.addEventHandler("oninit",this.PRJ050401_oninit,this);this.div_search.cmb_bsns_code.addEventHandler("onitemchanged",this.fn_bsnsChanged,this);this.div_work.div_1.btn_31.addEventHandler("onclick",this.div_work_div_1_btn_31_onclick,this);this.div_work.div_1.btn_32.addEventHandler("onclick",this.div_work_div_1_btn_32_onclick,this);this.div_work.div_1.grd_1.addEventHandler("oncellclick",this.grd_1_oncellclick,this);this.div_02.grd_2.addEventHandler("oncellclick",this.grd_oncellclick,this);this.div_02.grd_2.addEventHandler("onheadclick",this.grd_onheadclick,this);this.div_03.grd_Files.addEventHandler("oncellclick",this.grd_Files_oncellclick,this);this.div_00.sta_1.addEventHandler("onclick",this.div_00_sta_1_onclick,this);this.div_00.grd_ctrDtl.addEventHandler("oncellclick",this.div_00_grd_ctrDtl_oncellclick,this);this.div_00.btn_31.addEventHandler("onclick",this.div_00_btn_31_onclick,this);this.div_00.btn_32.addEventHandler("onclick",this.div_00_btn_32_onclick,this);this.div_sanction.btn_print.addEventHandler("onclick",this.div_print_btn_print_onclick,this);this.div_sanction.btn_printCancel.addEventHandler("onclick",this.div_print_btn_printCancel_onclick,this);};this.loadIncludeScript("PRJ050401.xfdl");};})();