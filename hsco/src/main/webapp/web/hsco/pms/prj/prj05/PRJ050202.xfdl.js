(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("PRJ050202");this.set_classname("PRJ050202");this.set_titletext("PRJ050202_시공참여자등록관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_ctr",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ctrDtl",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"CNTRCT_NM\" type=\"STRING\" size=\"100\"/><Column id=\"TOT_CNTRCT_AMOUNT\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"CNTRCT_DE\" type=\"STRING\" size=\"8\"/><Column id=\"STRWRK_DE\" type=\"STRING\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"STRING\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_1",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"5\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"11\"/><Column id=\"PRTCPNT_NO\" type=\"BIGDECIMAL\" size=\"11\"/><Column id=\"CHANGE_SN\" type=\"BIGDECIMAL\" size=\"11\"/><Column id=\"REGIST_DE\" type=\"STRING\" size=\"8\"/><Column id=\"TCHNLGY_REALM\" type=\"STRING\" size=\"50\"/><Column id=\"NM\" type=\"STRING\" size=\"15\"/><Column id=\"BRTHDY\" type=\"STRING\" size=\"8\"/><Column id=\"SEXDSTN\" type=\"STRING\" size=\"1\"/><Column id=\"TCHNLGY_QUALF\" type=\"STRING\" size=\"50\"/><Column id=\"TCHNLGY_GRAD\" type=\"STRING\" size=\"50\"/><Column id=\"JOB_CN\" type=\"STRING\" size=\"50\"/><Column id=\"PSITN\" type=\"STRING\" size=\"50\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"20\"/><Column id=\"PARTCPTN_SE\" type=\"STRING\" size=\"256\"/><Column id=\"PARTCPTN_BGNDE\" type=\"STRING\" size=\"256\"/><Column id=\"PARTCPTN_ENDDE\" type=\"STRING\" size=\"256\"/><Column id=\"SN\" type=\"STRING\" size=\"11\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\"/><Col id=\"colId\"/><Col id=\"notNull\"/><Col id=\"msgId\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_COM005",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_tmp",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_BSNS",this);_a.set_useclientlayout("0");_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"string\" size=\"5\"/><Column id=\"BSNS_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_ALL_NM\" type=\"string\" size=\"100\"/><Column id=\"BSNS_TY\" type=\"string\" size=\"3\"/><Column id=\"RM\" type=\"string\" size=\"200\"/><Column id=\"STRWRK_DE\" type=\"string\" size=\"8\"/><Column id=\"COMPET_DE\" type=\"string\" size=\"8\"/><Column id=\"BSNS_CONFM_DE\" type=\"string\" size=\"8\"/><Column id=\"MVN_DE\" type=\"string\" size=\"8\"/><Column id=\"RN\" type=\"string\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_PRJ017",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" size=\"1\"/><Column id=\"CODE_NM\" size=\"32\"/></ColumnInfo><Rows><Row><Col id=\"CODE\"/><Col id=\"CODE_NM\">전체</Col></Row><Row><Col id=\"CODE\">1</Col><Col id=\"CODE_NM\">공사</Col></Row><Row><Col id=\"CODE\">2</Col><Col id=\"CODE_NM\">용역</Col></Row><Row><Col id=\"CODE\">3</Col><Col id=\"CODE_NM\">기타</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond1",this);_a._setContents("<ColumnInfo><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"255\"/><Column id=\"CNTRCT_SE\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"CTR_GB\" type=\"BIGDECIMAL\" size=\"11\"/><Column id=\"partcptnSe\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_files",this);_a.set_useclientlayout("1");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"1\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"21\"/><Column id=\"FILE_ORDR\" type=\"BIGDECIMAL\" size=\"4\"/><Column id=\"FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"EXT\" type=\"STRING\" size=\"20\"/><Column id=\"VAL0\" type=\"STRING\" size=\"100\"/><Column id=\"VAL1\" type=\"STRING\" size=\"100\"/><Column id=\"OTHBC_YN\" type=\"STRING\" size=\"1\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond_file",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"BSNS_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCT_NO\" type=\"STRING\" size=\"256\"/><Column id=\"PRTCPNT_NO\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta_gud_v01","absolute",null,"0","28",null,"0","0",this);_a.set_text("28");_a.set_visible("0");_a.style.set_background("#1b3cd23c");_a.style.set_align("center");this.addChild(_a.name,_a);_a=new Div("div_work","absolute","0","32",null,null,"28","0",this);_a.set_taborder("3");this.addChild(_a.name,_a);_a=new Div("div_1","absolute","0","235",null,null,"300","0",this.div_work);_a.set_taborder("3");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_work.div_1);_a.set_text("계약별시공참여자");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_1.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","34",null,null,"0","0",this.div_work.div_1);_a.set_taborder("1");_a.set_binddataset("ds_1");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"115\"/><Column size=\"120\"/><Column size=\"80\"/><Column size=\"115\"/><Column size=\"60\"/><Column size=\"115\"/><Column size=\"20\"/><Column size=\"115\"/><Column size=\"120\"/><Column size=\"70\"/><Column size=\"150\"/><Column size=\"120\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"등록일자\"/><Cell col=\"2\" text=\"기술분야\"/><Cell col=\"3\" cssclass=\"Cellgrd_WF_HeadEssential\" text=\"성명\"/><Cell col=\"4\" text=\"생년월일\"/><Cell col=\"5\" text=\"성별\"/><Cell col=\"6\" colspan=\"3\" text=\"참여기간\"/><Cell col=\"9\" text=\"기술자격\"/><Cell col=\"10\" text=\"등급\"/><Cell col=\"11\" text=\"업무내용\"/><Cell col=\"12\" text=\"소속\"/></Band><Band id=\"body\"><Cell text=\"bind:SN\"/><Cell col=\"1\" displaytype=\"date\" edittype=\"date\" style=\"align:center;\" text=\"bind:REGIST_DE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"2\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:TCHNLGY_REALM\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\"/><Cell col=\"3\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:NM\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\"/><Cell col=\"4\" displaytype=\"date\" edittype=\"date\" style=\"align:center;\" text=\"bind:BRTHDY\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" displaytype=\"combo\" edittype=\"combo\" style=\"padding: ;\" text=\"bind:SEXDSTN\" combodataset=\"ds_COM005\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\" combodisplay=\"display\"/><Cell col=\"6\" displaytype=\"date\" edittype=\"date\" style=\"align:center;line:1 solid #efececff,0 none #e0e0e0ff;selectline:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:PARTCPTN_BGNDE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"7\" style=\"line:1 solid #efececff,0 none #e0e0e0ff;selectline:1 solid #efececff,0 none #e0e0e0ff;\" text=\"~\"/><Cell col=\"8\" displaytype=\"date\" edittype=\"date\" style=\"align:center;line:1 solid #efececff,0 none #e0e0e0ff;selectline:1 solid #efececff,0 none #e0e0e0ff;\" text=\"bind:PARTCPTN_ENDDE\" calendardisplay=\"display\" calendardisplaynulltype=\"none\"/><Cell col=\"9\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:TCHNLGY_QUALF\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\"/><Cell col=\"10\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:TCHNLGY_GRAD\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\"/><Cell col=\"11\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:JOB_CN\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\"/><Cell col=\"12\" edittype=\"text\" style=\"align:left;padding: ;\" text=\"bind:PSITN\" editlimit=\"0\" editimemode=\"hangul\" editdisplay=\"display\"/></Band></Format></Formats>");this.div_work.div_1.addChild(_a.name,_a);_a=new Button("btn_32","absolute",null,"10","64","19","69",null,this.div_work.div_1);_a.set_taborder("2");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.div_work.div_1.addChild(_a.name,_a);_a=new Button("btn_31","absolute",null,"10","64","19","136",null,this.div_work.div_1);_a.set_taborder("3");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");_a.set_visible("true");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work.div_1);_a.set_taborder("5");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work.div_1);_a.set_taborder("6");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_1.addChild(_a.name,_a);_a=new Button("btn_00","absolute",null,"10","66","19","0",null,this.div_work.div_1);_a.set_taborder("7");_a.set_text("일괄등록");_a.set_cssclass("btn_WF_Process");_a.set_visible("true");this.div_work.div_1.addChild(_a.name,_a);_a=new CheckBox("chk_01","absolute","128","10","150","21",null,null,this.div_work.div_1);_a.set_taborder("8");_a.set_text("참여중인 용역자만 표시");_a.set_value("1");_a.set_truevalue("1");_a.set_falsevalue("0");_a.style.set_font("9 Gulim");this.div_work.div_1.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","13","200","19",null,null,this.div_work);_a.set_taborder("4");_a.set_text("계약목록(공사)");_a.set_cssclass("sta_WF_Title02");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work);_a.set_taborder("5");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work);_a.set_taborder("6");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_ctr","absolute","0","35",null,"200","210",null,this.div_work);_a.set_taborder("7");_a.set_binddataset("ds_ctr");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"100\"/><Column size=\"0\"/><Column size=\"150\"/><Column size=\"90\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"18\" band=\"head\"/><Row size=\"18\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell rowspan=\"2\" text=\"계약번호\"/><Cell col=\"1\" rowspan=\"2\" text=\"계약구분\"/><Cell col=\"2\" rowspan=\"2\" text=\"계약명\"/><Cell col=\"3\" rowspan=\"2\" text=\"계약금액\"/><Cell col=\"4\" rowspan=\"2\" text=\"계약일자\"/><Cell col=\"5\" colspan=\"2\" text=\"용역계획기간\"/><Cell col=\"7\" rowspan=\"2\" text=\"첨부파일명\"/><Cell row=\"1\" col=\"5\" text=\"착공일자\"/><Cell row=\"1\" col=\"6\" text=\"준공일자\"/></Band><Band id=\"body\"><Cell text=\"bind:CNTRCT_NO\"/><Cell col=\"1\" displaytype=\"combo\" combodataset=\"ds_PRJ017\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"2\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:CNTRCT_NM\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;padding:0 5 0 0;\" text=\"bind:TOT_CNTRCT_AMOUNT\" mask=\"#,##0\"/><Cell col=\"4\" displaytype=\"date\" text=\"bind:CNTRCT_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"5\" displaytype=\"date\" text=\"bind:STRWRK_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"6\" displaytype=\"date\" text=\"bind:COMPET_DE\" calendardisplaynulltype=\"none\"/><Cell col=\"7\"/></Band><Band id=\"summary\"><Cell colspan=\"3\" style=\"align:center;line:1 solid #ffd8cdff,0 none #e0e0e0ff;selectline:1 solid #FFD8CD,0 none #e0e0e0ff;\" text=\"합계\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:right;\" text=\"expr:dataset.getSum('parseInt(TOT_CNTRCT_AMOUNT)||0')\" mask=\"#,##0\"/><Cell col=\"4\" colspan=\"4\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Div("div_00","absolute",null,"0","200","235","0",null,this.div_work);_a.set_taborder("8");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","14","126","19",null,null,this.div_work.div_00);_a.set_taborder("30");_a.set_text("수급자");_a.set_cssclass("sta_WF_Title02");_a.getSetter("visible2").set("0");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","1",null,"10","0",null,this.div_work.div_00);_a.set_taborder("31");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","30",null,"5","0",null,this.div_work.div_00);_a.set_taborder("32");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_00.addChild(_a.name,_a);_a=new Grid("grd_ctrDtl","absolute","0","35",null,null,"0","0",this.div_work.div_00);_a.set_taborder("33");_a.set_binddataset("ds_ctrDtl");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"150\"/><Column size=\"60\"/></Columns><Rows><Row size=\"36\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"업체명\"/><Cell col=\"1\" text=\"대표자\"/></Band><Band id=\"body\"><Cell style=\"align:left;padding:0 5 0 5;\" text=\"bind:BCNC_NM\"/><Cell col=\"1\" style=\"align:left;padding:0 5 0 5;\" text=\"bind:RPRSNTV\"/></Band></Format></Formats>");this.div_work.div_00.addChild(_a.name,_a);_a=new Div("div_3","absolute",null,"235","290",null,"0","0",this.div_work);_a.set_taborder("9");this.div_work.addChild(_a.name,_a);_a=new Static("sta_1","absolute","0","12","126","19",null,null,this.div_work.div_3);_a.set_taborder("85");_a.set_text("첨부파일");_a.set_cssclass("sta_WF_Title02");_a.style.set_background("transparent URL('theme://images/sta_WF_Title02.png') left middle");_a.getSetter("visible2").set("0");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_gud_h01","absolute","0","0",null,"10","0",null,this.div_work.div_3);_a.set_taborder("86");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_3.addChild(_a.name,_a);_a=new Static("sta_gud_h02","absolute","0","29",null,"5","0",null,this.div_work.div_3);_a.set_taborder("87");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center");this.div_work.div_3.addChild(_a.name,_a);_a=new Grid("grd_Files","absolute","0","34",null,null,"0","0",this.div_work.div_3);_a.set_taborder("88");_a.set_binddataset("ds_files");_a.set_autofittype("col");_a.getSetter("autofittype2").set("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"21\"/><Column size=\"28\"/><Column size=\"0\"/><Column size=\"150\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"순번\"/><Cell col=\"2\" text=\"기타\"/><Cell col=\"3\" text=\"파일명\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" expr=\"currow+1\"/><Cell col=\"2\" text=\"bind:EXT\"/><Cell col=\"3\" style=\"align:left middle;cursor:hand;\" text=\"bind:FILE_NM\"/></Band></Format></Formats>");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_del","absolute",null,"10","38","19","0",null,this.div_work.div_3);_a.set_taborder("89");_a.set_text("삭제");_a.set_cssclass("btn_WF_Process");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_down","absolute",null,"10","38","19","41",null,this.div_work.div_3);_a.set_taborder("90");_a.set_text("받기");_a.set_cssclass("btn_WF_Process");this.div_work.div_3.addChild(_a.name,_a);_a=new Button("btn_up","absolute",null,"10","38","19","82",null,this.div_work.div_3);_a.set_taborder("91");_a.set_text("첨부");_a.set_cssclass("btn_WF_Process");this.div_work.div_3.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("5");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Combo("cmb_bsns_code","absolute","79","5","350","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("0");_a.set_innerdataset("ds_BSNS");_a.set_codecolumn("BSNS_CODE");_a.set_datacolumn("BSNS_NM");_a.set_displayrowcount("15");_a.set_cssclass("cmb_WF_Essential");_a=new Static("sta_CL_SE","absolute","15","6","59","20",null,null,this.div_search);_a.set_taborder("1");_a.set_text("사업코드");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Radio("rdo_cntrct_se","absolute","522","6","202","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("2");_a.set_rowcount("1");_a.set_innerdataset("@ds_PRJ017");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_value("1");_a.set_visible("false");_a.set_index("1");_a=new Static("sta_CL_SE00","absolute","455","6","59","20",null,null,this.div_search);_a.set_taborder("3");_a.set_text("계약구분");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("false");this.div_search.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.div_work.div_1,function(_b){_b.set_taborder("3");});this.div_work.div_1.addLayout(_a.name,_a);_a=new Layout("default","",200,235,this.div_work.div_00,function(_b){_b.set_taborder("8");});this.div_work.div_00.addLayout(_a.name,_a);_a=new Layout("default","",290,0,this.div_work.div_3,function(_b){_b.set_taborder("9");});this.div_work.div_3.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.div_work,function(_b){_b.set_taborder("3");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("5");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("PRJ050202");_b.set_titletext("PRJ050202_시공참여자등록관리");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("PRJ050202.xfdl","pms_lib::pmsUtilInclude.xjs");this.registerScript("PRJ050202.xfdl",function(){this.FILE_MANAGER=null;this.PRJ050202_oninit=function(_a,_b){this.fn_init();this.fn_init_dataset();};this.fn_onFileSuccess=function(_a,_b){this.fn_transaction("mList");};this.PRJ050202_onload=function(_a,_b){this.fn_loadCombo();var _c={onChange:this.fn_onFileSelected,onSuccess:this.fn_onFileSuccess,useMultiSelect:true};this.FILE_MANAGER=new this.fileManager(this,"PMS","PRJ");this.FILE_MANAGER.init(_c);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);this.checkDs.push(this.ds_1);};this.fn_loadCombo=function(){var _a=[['ds_COM005','COM005',1,''],['ds_PRJ017','PRJ017',1,'전체']];var _b=null;this.gfn_comboLoad(_a,_b);this.fn_fill_combo(this.div_search.cmb_bsns_code,"hsco/pms/prj/bsnsCdList.do","선택",null);};this.fn_search=function(){var _a=this.ds_BSNS.getColumn(this.ds_BSNS.rowposition,"BSNS_CODE")||'';if(_a==''){this.alert("사업코드를 선택하세요.");return;}this.ds_cond1.setColumn(0,"BSNS_CODE",_a);this.ds_cond1.setColumn(0,"CTR_GB",this.div_search.rdo_cntrct_se.value);this.ds_ctr.clearData();this.ds_ctrDtl.clearData();this.ds_1.clearData();this.ds_files.clearData();this.fn_transaction("ctrList");};this.fn_save=function(){if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("save");}};this.btn_1_onclick=function(_a,_b){var _c=this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO");if(!_c){return;}this.ds_files.clearData();var _d=this.ds_ctr.rowposition;var _e=this.ds_ctr.getColumn(_d,"BSNS_CODE");var _c=this.ds_ctr.getColumn(_d,"CNTRCT_NO");var _f=this.ds_ctr.getColumn(_d,"STRWRK_DE");var _g=this.ds_ctr.getColumn(_d,"COMPET_DE");var _h=this.gfn_today();var _i=this.ds_1.insertRow(0);this.ds_1.setColumn(_i,"BSNS_CODE",_e);this.ds_1.setColumn(_i,"CNTRCT_NO",_c);this.ds_1.setColumn(_i,"PARTCPTN_BGNDE",_f);this.ds_1.setColumn(_i,"PARTCPTN_ENDDE",_g);this.ds_1.setColumn(_i,"REGIST_DE",_h);};this.btn_2_onclick=function(_a,_b){this.ds_1.deleteRow(this.ds_1.rowposition);};this.fn_transaction=function(_a){if(this.ds_cond1.rowcount<1){return;}var _b=this.ds_cond1;var _c;var _d="hsco/pms/prj/PRJ040104/"+_a+".do";var _e="input1=ds_cond1";var _f="";switch(_a){case "ctrList":_d="hsco/pms/prj/ctrList.do";_e="input1=ds_cond1";_f="ds_ctr=output1";break;case "ctrDtlList":_d="hsco/pms/prj/ctrDtlList.do";_e="input1=ds_cond1";_f="ds_ctrDtl=output1";break;case "mList":_d="hsco/pms/prj/PRJ040104/mList.do";_e="input1=ds_cond1";_f="ds_1=output1";break;case "fileList":_d="hsco/pms/prj/fileList.do";_e="inputF=ds_cond1";_f="ds_files=outputF";break;case "fileDelete":_d="hsco/pms/prj/PRJ040104/fileDelete.do";_e="input1=ds_cond_file input2=ds_files:U";_f="";break;case "save":_d="hsco/pms/prj/PRJ040104/save.do";_e="input1=ds_1:U";_f="";break;}Ex.core.tran(this,_a,_d,_e,_f);};this.fn_callBack=function(_a,_b,_c){if(_b!=0){return this.gfn_callback_message(_a,_b,_c);}switch(_a){case "save":this.gfn_message("info.정상처리");this.fn_transaction("mList");break;case "fileDelete":this.gfn_message("info.정상처리");var _d=this.ds_files.rowcount;for(i=_d-1;i>=0;i-- ){if(this.ds_files.getColumn(i,"CHK")=='1'){this.ds_files.deleteRow(i);}}this.ds_files.applyChange();if(this.ds_files.rowcount==0){this.ds_1.setColumn(this.ds_1.rowposition,"FILE_SN",null);}break;}};this.fn_popupCallBack=function(_a,_b){if(_b=='S'){this.ds_ctr_onrowposchanged(this.ds_ctr);}return true;};this.fn_bsnsChanged=function(_a,_b){var _c=_a.index||0;if(this.ds_BSNS.rowcount==0){return false;}this.ds_BSNS.set_rowposition(_c);};this.ds_ctr_onrowposchanged=function(_a,_b){this.ds_ctrDtl.clearData();this.ds_1.clearData();this.ds_files.clearData();this.ds_cond1.setColumn(0,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.ds_cond1.setColumn(0,"partcptnSe",this.div_work.div_1.chk_01.value);this.fn_transaction("ctrDtlList");this.fn_transaction("mList");};this.ds_1_onrowposchanged=function(_a,_b){this.ds_files.clearData();var _c=this.ds_1.getColumn(this.ds_1.rowposition,"FILE_SN");if(!_c){return;}this.ds_cond1.setColumn(0,"FILE_SN",_c);this.fn_transaction("fileList");};this.btn_3_onclick=function(_a,_b){var _c=this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO");if(!_c){return;}var _d={};_d["bsnsCode"]=this.ds_ctr.getColumn(this.ds_ctr.rowposition,"BSNS_CODE");_d["cntrctNo"]=_c;this.gfn_popup("PRJ040104_P01",1024,733,"시공참여자 일괄등록",{objParam:_d},"pms_prj04::PRJ040104_P01.xfdl","fn_popupCallBack",true);};this.div_work_div_1_chk_01_onclick=function(_a,_b){this.ds_1.clearData();this.ds_files.clearData();this.ds_cond1.setColumn(0,"CNTRCT_NO",this.ds_ctr.getColumn(this.ds_ctr.rowposition,"CNTRCT_NO"));this.ds_cond1.setColumn(0,"partcptnSe",this.div_work.div_1.chk_01.value);this.fn_transaction("mList");};this.div_work_div_3_btn_up_onclick=function(_a,_b){if(this.ds_1.rowposition== -1){this.alert("선택된 용역참여자가 없습니다.");return;}this.FILE_MANAGER.addFiles();};this.div_work_div_3_btn_down_onclick=function(_a,_b){for(var _f=0;_f<this.ds_files.rowcount;_f++ ){if(this.ds_files.getColumn(_f,"CHK")==1){var _c=this.ds_files.getColumn(_f,"FILE_SN");var _d=this.ds_files.getColumn(_f,"FILE_ORDR");var _e=this.ds_files.getColumn(_f,"FILE_NM");if(!_c||!_d){return;}this.FILE_MANAGER.download(_c,_d,_e);}}};this.div_work_div_3_btn_del_onclick=function(_a,_b){if(this.ds_files.rowcount<1){this.alert("info.삭제.데이터.없음");return;}this.ds_cond_file.clearData();this.ds_cond_file.addRow();this.ds_cond_file.setColumn(0,"BSNS_CODE",this.ds_1.getSelectColumn("BSNS_CODE"));this.ds_cond_file.setColumn(0,"CNTRCT_NO",this.ds_1.getSelectColumn("CNTRCT_NO"));this.ds_cond_file.setColumn(0,"PRTCPNT_NO",this.ds_1.getSelectColumn("PRTCPNT_NO"));this.ds_cond_file.setColumn(0,"FILE_SN",this.ds_1.getSelectColumn("FILE_SN"));if(confirm("첨부파일을 삭제하시겠습니까?")){this.fn_transaction("fileDelete");}};this.div_work_div_3_grd_Files_oncelldblclick=function(_a,_b){var _c=this.objects[_a.binddataset];if(_b.cell==_a.getBindCellIndex("body","FILE_NM")){var _d=_c.getColumn(_b.row,"FILE_SN");var _e=_c.getColumn(_b.row,"FILE_ORDR");var _f=_c.getColumn(_b.row,"FILE_NM");if(!_d||!_e){return;}this.FILE_MANAGER.download(_d,_e,_f);}};this.fn_onFileSelected=function(_a,_b){if(_a!=this.FILE_MANAGER.TYPE_UPLOADER){return;}var _c=this.pmsUtil.isArray(_b);if(!_c){_b=[_b];}var _d=_b.length;var _e=this.ds_1.getSelectColumn("FILE_SN");this.ds_cond_file.clearData();for(var _k=0;_k<_d;_k++ ){var _f=this.ds_cond_file.addRow();this.ds_cond_file.setColumn(_f,"BSNS_CODE",this.ds_1.getSelectColumn("BSNS_CODE"));this.ds_cond_file.setColumn(_f,"CNTRCT_NO",this.ds_1.getSelectColumn("CNTRCT_NO"));this.ds_cond_file.setColumn(_f,"PRTCPNT_NO",this.ds_1.getSelectColumn("PRTCPNT_NO"));this.ds_cond_file.setColumn(_f,"FILE_SN",_e);}if(this.FILE_MANAGER.hasFile()){var _g=this.FILE_MANAGER.getfileCount();var _h="hsco/pms/prj/PRJ040104/fileUpload.do";var _i="input1=ds_cond_file";var _j="ds_failList=failList ds_cond_file=output1";this.FILE_MANAGER.upload(_h,_i,_j);}};this.fn_onFileSuccess=function(_a,_b){if(_a==this.FILE_MANAGER.TYPE_UPLOADER){this.gfn_message("success.파일.업로드.성공");var _c=this.ds_cond_file.getColumn(0,"FILE_SN");this.ds_1.setColumn(this.ds_1.rowposition,"FILE_SN",_c);this.ds_cond1.setColumn(0,"FILE_SN",_c);this.fn_transaction("fileList");}else if(_a==this.FILE_MANAGER.TYPE_DOWNLOADER){}};});this.on_initEvent=function(){this.ds_ctr.addEventHandler("onrowposchanged",this.ds_ctr_onrowposchanged,this);this.ds_1.addEventHandler("onrowposchanged",this.ds_1_onrowposchanged,this);this.ds_files.addEventHandler("onrowposchanged",this.ds_onrowposchanged,this);this.addEventHandler("onload",this.PRJ050202_onload,this);this.addEventHandler("oninit",this.PRJ050202_oninit,this);this.div_work.div_1.btn_32.addEventHandler("onclick",this.btn_2_onclick,this);this.div_work.div_1.btn_31.addEventHandler("onclick",this.btn_1_onclick,this);this.div_work.div_1.btn_00.addEventHandler("onclick",this.btn_3_onclick,this);this.div_work.div_1.chk_01.addEventHandler("onclick",this.div_work_div_1_chk_01_onclick,this);this.div_work.div_3.grd_Files.addEventHandler("oncelldblclick",this.div_work_div_3_grd_Files_oncelldblclick,this);this.div_work.div_3.btn_del.addEventHandler("onclick",this.div_work_div_3_btn_del_onclick,this);this.div_work.div_3.btn_down.addEventHandler("onclick",this.div_work_div_3_btn_down_onclick,this);this.div_work.div_3.btn_up.addEventHandler("onclick",this.div_work_div_3_btn_up_onclick,this);this.div_search.cmb_bsns_code.addEventHandler("onitemchanged",this.fn_bsnsChanged,this);this.div_search.rdo_cntrct_se.addEventHandler("onitemchanged",this.div_search_rdo_sndngSe_onitemchanged,this);};this.loadIncludeScript("PRJ050202.xfdl");};})();