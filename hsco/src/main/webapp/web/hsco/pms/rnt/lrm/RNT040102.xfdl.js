(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("rnt040102");this.set_classname("rnt040102");this.set_titletext("물품코드등록");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_thng_code",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"THNG_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"THNG_NM\" type=\"STRING\" size=\"255\"/><Column id=\"RM\" type=\"STRING\" size=\"255\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"255\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"255\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"255\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"255\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"255\"/><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"STNDRD\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_M\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_D\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRWK_SE\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRWK_KND\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"colId\">THNG_NM</Col><Col id=\"compId\">grd_thng_code</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">물품명</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"THNG_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cnt",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CNT\" type=\"STRING\" size=\"255\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_rpairs_photo",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"THNG_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_NO\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_ORDR\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_EXTSN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmn_d",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"255\"/><Column id=\"VAL0\" type=\"STRING\" size=\"255\"/><Column id=\"INT_VAL\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"255\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"255\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"255\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"255\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE_SN\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"VAL0\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmn_list",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"255\"/><Column id=\"VAL0\" type=\"STRING\" size=\"255\"/><Column id=\"INT_VAL\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"255\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"255\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"255\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"255\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"ALL_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond01",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"THNG_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_ORDR\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmn_m",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"255\"/><Column id=\"VAL0\" type=\"STRING\" size=\"255\"/><Column id=\"INT_VAL\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"255\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"255\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"255\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_use",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE\">0</Col><Col id=\"CODE_NM\">미사용</Col></Row><Row><Col id=\"CODE\">1</Col><Col id=\"CODE_NM\">사용</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_thng_stndrd",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"THNG_CODE\" type=\"STRING\" size=\"10\"/><Column id=\"STNDRD_CODE\" type=\"STRING\" size=\"10\"/><Column id=\"STNDRD_NM\" type=\"STRING\" size=\"50\"/><Column id=\"RM\" type=\"STRING\" size=\"200\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"1\"/><Column id=\"FILE_SN\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"20\"/><Column id=\"REGIST_DT\" type=\"DATE\" size=\"7\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"20\"/><Column id=\"UPDT_DT\" type=\"DATE\" size=\"7\"/><Column id=\"FILE_NM\" type=\"STRING\" size=\"200\"/><Column id=\"FILE_BTN\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_ORDR\" type=\"STRING\" size=\"200\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond02",this);_a._setContents("<ColumnInfo><Column id=\"THNG_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond03",this);_a._setContents("<ColumnInfo><Column id=\"FILE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"THNG_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"STNDRD_CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond04",this);_a._setContents("<ColumnInfo><Column id=\"STNDRD_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"THNG_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_ORDR\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond05",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond06",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cmmn_m2",this);_a.set_useclientlayout("true");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE\" type=\"STRING\" size=\"255\"/><Column id=\"CODE_ORDR\" type=\"STRING\" size=\"255\"/><Column id=\"VAL0\" type=\"STRING\" size=\"255\"/><Column id=\"INT_VAL\" type=\"BIGDECIMAL\" size=\"10\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"255\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"255\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"255\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"255\"/><Column id=\"GRP_CODE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRWK_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Grid("grd_thng_code","absolute","0","34","838","334",null,null,this);_a.set_taborder("56");_a.set_autofittype("col");_a.set_binddataset("ds_thng_code");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"150\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"200\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"코드\"/><Cell col=\"1\" text=\"물품명\"/><Cell col=\"2\" text=\"공종구분\"/><Cell col=\"3\" text=\"공정구분\"/><Cell col=\"4\" text=\"비고\"/><Cell col=\"5\" text=\"사용여부\"/></Band><Band id=\"body\"><Cell displaytype=\"normal\" text=\"bind:THNG_CODE\"/><Cell col=\"1\" displaytype=\"text\" edittype=\"text\" text=\"bind:THNG_NM\"/><Cell col=\"2\" displaytype=\"combo\" edittype=\"none\" text=\"bind:CNTRWK_SE\" combodataset=\"ds_cmmn_m\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"3\" displaytype=\"combo\" edittype=\"combo\" text=\"bind:CNTRWK_KND\" combodataset=\"ds_cmmn_list\" combocodecol=\"CODE\" combodatacol=\"ALL_CODE_NM\" combotype=\"filter\"/><Cell col=\"4\" displaytype=\"text\" edittype=\"text\" style=\"align:left;\" text=\"bind:RM\"/><Cell col=\"5\" displaytype=\"combo\" edittype=\"combo\" text=\"bind:USE_AT\" combodataset=\"ds_use\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static01","absolute",null,"0","13","735","0",null,this);_a.set_taborder("71");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","1031","0","15","735",null,null,this);_a.set_taborder("72");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0%","29",null,"5","2.64%",null,this);_a.set_taborder("76");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static31","absolute","0%","13",null,"19","84.04%",null,this);_a.set_taborder("77");_a.set_text("물품코드");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","0",null,"10","28",null,this);_a.set_taborder("79");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static12","absolute","838","0","5","735",null,null,this);_a.set_taborder("117");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Grid("grd_thng_stndrd","absolute","0","399","838","334",null,null,this);_a.set_taborder("118");_a.set_binddataset("ds_thng_stndrd");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"100\"/><Column size=\"150\"/><Column size=\"200\"/><Column size=\"171\"/><Column size=\"14\"/><Column size=\"80\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"규격코드\"/><Cell col=\"1\" text=\"물품규격명\"/><Cell col=\"2\" text=\"비고\"/><Cell col=\"3\" colspan=\"2\" text=\"첨부파일\"/><Cell col=\"5\" text=\"사용여부\"/></Band><Band id=\"body\"><Cell displaytype=\"normal\" text=\"bind:STNDRD_CODE\"/><Cell col=\"1\" displaytype=\"text\" edittype=\"text\" text=\"bind:STNDRD_NM\"/><Cell col=\"2\" displaytype=\"text\" edittype=\"text\" style=\"align:left;\" text=\"bind:RM\"/><Cell col=\"3\" text=\"bind:FILE_NM\"/><Cell col=\"4\" displaytype=\"normal\" text=\"bind:FILE_BTN\" expandshow=\"show\"/><Cell col=\"5\" displaytype=\"combo\" edittype=\"combo\" text=\"bind:USE_AT\" combodataset=\"ds_use\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","0%","394",null,"5","2.64%",null,this);_a.set_taborder("119");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","0","367",null,"10","28",null,this);_a.set_taborder("120");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0%","378",null,"19","84.04%",null,this);_a.set_taborder("121");_a.set_text("물품규격");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Button("btn_add","absolute","609","375","64","19",null,null,this);_a.set_taborder("122");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");this.addChild(_a.name,_a);_a=new Button("btn_Del","absolute","675","375","64","19",null,null,this);_a.set_taborder("123");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Button("btn_delAtchFile","absolute","741","375","97","19",null,null,this);_a.set_taborder("124");_a.set_text("첨부파일삭제");_a.set_cssclass("btn_WF_Griddel");this.addChild(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("rnt040102");_b.set_titletext("물품코드등록");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("RNT040102.xfdl","pms_lib::pmsUtilInclude.xjs");this.addIncludeScript("RNT040102.xfdl","lib::comInclude.xjs");this.registerScript("RNT040102.xfdl",function(){this.FILE_MANAGER=null;this.RNT040102_oninit=function(_a,_b){this.fn_init();this.fn_init_form();this.fn_init_dataset();};this.RNT040102_onload=function(_a,_b){var _c={onChange:this.fn_onFileSelected,onSuccess:this.fn_onFileSuccess};this.FILE_MANAGER=new this.fileManager(this,"PMS","RPA");this.FILE_MANAGER.init(_c);this.ds_cond05.clearData();var _d=this.ds_cond05.addRow();this.ds_cond05.setColumn(_d,"VAL0",this.ds_thng_code.getColumn(this.ds_thng_code.rowposition,"CNTRWK_SE"));this.fn_transaction("CodeD");this.fn_transaction("CodeM");};this.fn_init_form=function(){this.gfn_initForm(this);};this.fn_init_dataset=function(){this.checkDs.push(this.ds_thng_code);};this.fn_loadCombo=function(){};this.fn_search=function(){this.fn_transaction("selectSlaryList");};this.fn_save=function(){if(this.gfn_message("confirm.저장.여부")){this.fn_transaction("saveSlaryList");}};this.fn_save2=function(){var _a=this.FILE_MANAGER.hasFile();if(_a){var _b=this.FILE_MANAGER.getfileCount();var _c="hsco/pms/rnt/rnt040102/fileCUD.do";var _d="input1=ds_cond03";var _e="ds_failList=failList";this.FILE_MANAGER.upload(_c,_d,_e);}else{this.fn_transaction("saveSlaryList2");}};this.fn_insert=function(_a,_b){this.ds_thng_code.addRow();};this.fn_delete=function(_a,_b){if(this.ds_thng_stndrd.getRowCount()>0){alert("물품규격에 자료가 남아있습니다.");if(this.gfn_message("confirm.삭제여부")){var _c=this.ds_thng_code.rowposition;var _d=this.ds_thng_code.getRowType(_c);this.ds_thng_code.deleteRow(_c);}}else{var _c=this.ds_thng_code.rowposition;var _d=this.ds_thng_code.getRowType(_c);this.ds_thng_code.deleteRow(_c);}};this.fn_transaction=function(_a){switch(_a){case "selectSlaryList":var _b="hsco/pms/rnt/rnt040102/getList.do";var _c="";var _d="ds_thng_code=output1";break;case "CodeM":var _b="hsco/pms/rnt/rnt040101/getList.do";var _c="input1=ds_cond05";var _d="ds_cmmn_m=output1";break;case "AddCodeM":var _b="hsco/pms/rnt/rnt040102/getListM.do";var _c="input1=ds_cond06";var _d="ds_cmmn_m2=output1";break;case "CodeD":this.ds_cond00.clearData();var _e=this.ds_cmmn_m;this.ds_cond00.addRow();var _b="hsco/pms/rnt/rnt040102/getList1.do";var _c="input1=ds_cond00";var _d="ds_cmmn_list=output1";break;case "saveSlaryList":var _b="hsco/pms/rnt/rnt040102/listCUD.do";var _f="input1=ds_thng_code:U"+" input2=ds_thng_stndrd:U";var _c=_f;var _d="";break;case "selectStndrdList":this.ds_cond02.clearData();this.ds_thng_stndrd.clearData();var _g=this.ds_cond02.addRow();this.ds_cond02.setColumn(_g,"THNG_CODE",this.ds_thng_code.getColumn(this.ds_thng_code.rowposition,"THNG_CODE"));var _b="hsco/pms/rnt/rnt040102/stndrdlist.do";var _c="input1=ds_cond02";var _d="ds_thng_stndrd=output1";break;case "saveSlaryList2":var _b="hsco/pms/rnt/rnt040102/fileCUD.do";var _c="input1=ds_cond03";var _d="";break;case "deleteFile":trace("ds_cond04 = "+this.ds_cond04.saveXML());var _b="hsco/pms/rnt/rnt040102/fileD.do";var _c="input1=ds_cond04";var _d="";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_a=="AddCodeM"){trace("CNTRWK_SE = "+this.ds_cmmn_m2.getColumn(this.ds_cmmn_m2.rowposition,"CNTRWK_SE"));this.ds_thng_code.setColumn(this.ds_thng_code.rowposition,"CNTRWK_SE",this.ds_cmmn_m2.getColumn(this.ds_cmmn_m2.rowposition,"CNTRWK_SE"));var _d=this.ds_thng_code.rowcount;var _e=this.ds_thng_code.rowposition();}if(_a=="selectSlaryList"){}if(_a=="deleteFile"){this.fn_transaction("selectSlaryList");}if(_b==0){return;}this.gfn_callback_message(_a,_b,_c);};this.ds_thng_code_onrowposchanged=function(_a,_b){this.fn_transaction("selectStndrdList");};this.btn_Add_onclick=function(_a,_b){if(this.ds_thng_code.getColumn(this.ds_thng_code.rowposition,"THNG_CODE")==null||undefined){alert("선택한 물품에 코드가 없습니다.\n선택한 물품코드를 먼저 저장해주십시오.");return;}var _c=this.ds_thng_stndrd.addRow();this.ds_thng_stndrd.setColumn(_c,"THNG_CODE",this.ds_thng_code.getColumn(this.ds_thng_code.rowposition,"THNG_CODE"));this.ds_thng_stndrd.setColumn(_c,"USE_AT","1");};this.btn_Del_onclick=function(_a,_b){if(this.ds_thng_code.getColumn(this.ds_thng_code.rowposition,"THNG_CODE")==null||undefined){alert("선택한 물품에 코드가 없습니다.\n선택한 물품코드를 먼저 저장해주십시오.");return;}var _c=this.ds_thng_stndrd.rowposition;var _d=this.ds_thng_stndrd.getRowType(_c);this.ds_thng_stndrd.deleteRow(_c);};this.ds_thng_code_oncolumnchanged=function(_a,_b){if(_b.columnid=="CNTRWK_KND"){trace("11111111");this.ds_cond06.clearData();var _c=this.ds_cond06.addRow();this.ds_cond06.setColumn(_c,"CODE",this.ds_thng_code.getColumn(this.ds_thng_code.rowposition,"CNTRWK_KND"));this.fn_transaction("AddCodeM");}};this.grd_thng_stndrd_oncellclick=function(_a,_b){if(_b.cell==_a.getBindCellIndex("body","FILE_NM")){if(!this.ds_thng_stndrd.getColumn(_b.row,"FILE_SN")){return;}if(this.confirm("선택한 파일을 다운로드 하시겠습니까?")){this.fn_downloadAtchFile();}return;}else if(_b.cell==_a.getBindCellIndex("body","FILE_BTN")){if(this.ds_thng_stndrd.getRowType(this.ds_thng_stndrd.rowposition)!=Dataset.ROWTYPE_NORMAL){return;}this.fn_addAtchFile();}};this.fn_addAtchFile=function(){this.FILE_MANAGER.addFiles();};this.fn_onFileSelected=function(_a,_b){if(_a==this.FILE_MANAGER.TYPE_UPLOADER){var _c=this.pmsUtil.isArray(_b);if(_c){}else{this.ds_cond03.clearData();var _d=this.ds_cond03.addRow();this.ds_thng_stndrd.setColumn(this.ds_thng_stndrd.rowposition,"FILE_NM",_b);this.ds_cond03.setColumn(_d,"THNG_CODE",this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"THNG_CODE"));this.ds_cond03.setColumn(_d,"STNDRD_CODE",this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"STNDRD_CODE"));this.fn_save2();}}};this.fn_downloadAtchFile=function(){var _a=this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"FILE_SN");var _b=this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"FILE_ORDR");var _c=this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"FILE_NM");this.FILE_MANAGER.download(_a,_b,_c);};this.fn_onFileSuccess=function(_a,_b){if(_a==this.FILE_MANAGER.TYPE_UPLOADER){this.fn_transaction("saveSlaryList");}if(_a==this.FILE_MANAGER.TYPE_DOWNLOADER){this.gfn_message("success.파일.다운로드.성공");}};this.Button00_onclick=function(_a,_b){if(this.ds_thng_code.getColumn(this.ds_thng_code.rowposition,"THNG_CODE")==null||undefined){alert("선택한 물품에 코드가 없습니다.\n선택한 물품코드를 먼저 저장해주십시오.");return;}this.ds_cond04.clearData();var _c="첨부파일을 삭제하시겠습니까?";if(confirm(_c)){if(this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"FILE_NM")){var _d=this.ds_cond04.addRow();this.ds_cond04.setColumn(_d,"STNDRD_CODE",this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"STNDRD_CODE"));this.ds_cond04.setColumn(_d,"THNG_CODE",this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"THNG_CODE"));this.ds_cond04.setColumn(_d,"FILE_SN",this.ds_thng_stndrd.getColumn(this.ds_thng_stndrd.rowposition,"FILE_SN"));this.fn_transaction("deleteFile");}else{this.alert("선택된 행에 첨부파일이 없습니다.");return;}}};this.fn_setAtchFileView=function(){var _a=this.comUtils.isNullEmpty(atchPath)?false:true;this.btn_delAtchFile.set_visible(_a);};this.fn_deleteAtchFile=function(){var _a="첨부파일을 삭제하시겠습니까?";if(confirm(_a)){this.fn_transaction("deleteFile");}};});this.on_initEvent=function(){this.ds_thng_code.addEventHandler("onrowposchanged",this.ds_thng_code_onrowposchanged,this);this.ds_thng_code.addEventHandler("oncolumnchanged",this.ds_thng_code_oncolumnchanged,this);this.ds_rpairs_photo.addEventHandler("onrowposchanged",this.ds_rpairs_photo_onrowposchanged,this);this.ds_cmmn_d.addEventHandler("onrowposchanged",this.ds_cmmn_d_onrowposchanged,this);this.addEventHandler("oninit",this.RNT040102_oninit,this);this.addEventHandler("onload",this.RNT040102_onload,this);this.grd_thng_stndrd.addEventHandler("oncellclick",this.grd_thng_stndrd_oncellclick,this);this.btn_add.addEventHandler("onclick",this.btn_Add_onclick,this);this.btn_Del.addEventHandler("onclick",this.btn_Del_onclick,this);this.btn_delAtchFile.addEventHandler("onclick",this.Button00_onclick,this);};this.loadIncludeScript("RNT040102.xfdl");};})();