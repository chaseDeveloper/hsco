(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("UbiReport");this.set_classname("UbiReport");this.set_titletext("New Form");this._setFormPosition(0,0,895,780);}this.style.set_font("9 arial");_a=new Button("Button00","absolute","696","12","135","94",null,null,this);_a.set_taborder("1");_a.set_text("Button00");this.addChild(_a.name,_a);_a=new nexacro.UbiViewer("UbiViewer00","absolute","12","19","672","602",null,null,this);_a.set_taborder("2");_a.set_text("UbiViewer00");this.addChild(_a.name,_a);_a=new Layout("default","",895,780,this,function(_b){_b.set_classname("UbiReport");_b.set_titletext("New Form");_b.style.set_font("9 arial");});this.addLayout(_a.name,_a);_a=null;};this.registerScript("UbiReport.xfdl",function(){this.host=application.services["svcurl"].url;this.UbiViewer00.resource="http://"+this.host+"/ubireport/ajax/js4";this.UbiReport_onload=function(_a,_b){var _c=this.parent.isRuntime;var _d=this.parent.gridobj;var _e=this.parent.datasets;var _f=this.parent.localdatasets;var _g=this.parent.reportfile;var _h="arg1#1111#arg2#2222#";if(_g==undefined){alert("리포트 파일명이 정의되지 않았습니다.");return;}this.UbiViewer00.jrffile=_g;this.UbiViewer00.gatewayurl="http://"+this.host+"/UbiGateway";this.UbiViewer00.dataurl="http://"+this.host+"/UbiData";this.UbiViewer00.reporturl="http://192.168.0.10:8880/ubireport/work/";this.UbiViewer00.resid="UBIAJAX";this.UbiViewer00.toolbar=true;this.UbiViewer00.fileurl="http://"+this.host+"/ubireport/work/property";this.UbiViewer00.isStreaming=true;this.UbiViewer00.arg=_h;if(_c==true){var _i=_d.getFormatRowCount();var _j=_d.getFormatColCount();var _k=new Array;var _l=new Array;var _m="230.230.230";var _n="240.240.240";var _o=0;var _p=0;var _q=0;var _r=0;var _s="";var _t="";var _u=0;var _v=0;for(_o=0;_o<_i;_o++ ){_s=_d.getFormatRowProperty(_o,"band");if(_s==_t){_r++ ;}else{_r=0;}_l[_o]=_d.getRealRowSize(_o,_r,false);_t=_s;}for(_o=0;_o<_j;_o++ ){_k[_o]=_d.getRealColSize(_o);}var _w=0;var _x=0;var _y=this.UbiViewer00.getDesignDataset(this);_t="";var _z=0;var _aa=0;var _ab=0;var _ac=0;var _ad=0;var _ae=0;var _af=0;var _ag=0;var _ah=0;var _ai=0;var _aj="";_aa=_y.addRow();_y.setColumn(_aa,"type","widths");_y.setColumn(_aa,"text",_k);_aa=_y.addRow();_y.setColumn(_aa,"type","heights");_y.setColumn(_aa,"text",_l);for(_o=0;_o<_i;_o++ ){_s=_d.getFormatRowProperty(_o,"band");if(_s!=_t){if(_s=="head"){_z= -1;_aj=_m;}else if(_s=="body"){_z=0;_aj="";}else if(_s=="summ"){_z= -2;_aj=_n;}_w=_d.getCellCount(_s);for(_p=0;_p<_w;_p++ ){_ab=_d.getCellProperty(_s,_p,"row");_ac=_d.getCellProperty(_s,_p,"col");_ae=_d.getCellProperty(_s,_p,"rowspan");_ad=_d.getCellProperty(_s,_p,"colspan");_aa=_y.addRow();_y.setColumn(_aa,"type",_s);_y.setColumn(_aa,"row",_ab);_y.setColumn(_aa,"col",_ac);_y.setColumn(_aa,"rowspan",_ae);_y.setColumn(_aa,"colspan",_ad);_y.setColumn(_aa,"align",_d.getCellProperty(_s,_p,"align"));if(_z!=0){_y.setColumn(_aa,"text",_d.getCellText(_z,_p));}_y.setColumn(_aa,"bgcolor",_aj);_y.setColumn(_aa,"linespace","4");if(_p==2){_y.setColumn(_aa,"foreground","255.0.0");_y.setColumn(_aa,"suppressing","true");_y.setColumn(_aa,"fontexpr","'궁서,1,12'");}}}_t=_s;}this.addChild(_y.name,_y);_w=_d.getCellCount("Body");_x=_d.rowcount;var _ak=new Dataset("dsGrid",this);this.addChild(_ak.name,_ak);trace("cellcount : "+_w);for(_o=0;_o<_w;_o++ ){_ak.addColumn("column"+_o,"string");}for(_p=0;_p<_x;_p++ ){_ak.addRow();for(_q=0;_q<_w;_q++ ){_ak.setColumn(_p,_q,_d.getCellText(_p,_q));}}this.UbiViewer00.setRuntimeData(_y,_ak);this.removeChild(_y.name);this.removeChild(_ak.name);}else{this.UbiViewer00.runtimedata="";if(_e){for(var _o=0;_o<_e.length;_o++ ){var _al=_e[_o];this.UbiViewer00.addTransaction(this.parent.getOwnerFrame().frame.form,_al[0],_al[1],_al[2],_al[3],_al[4],_al[5]);}}if(_f){for(var _o=0;_o<_f.length;_o++ ){var _al=_f[_o];trace("datasetinfo[1] : "+_al[1]);this.UbiViewer00.setDataset(_al[0],_al[1]);}}}this.UbiViewer00.retrieve(this,"retrieveEnd");};this.retrieveEnd=function(){};});this.on_initEvent=function(){this.addEventHandler("onload",this.UbiReport_onload,this);};this.loadIncludeScript("UbiReport.xfdl");};})();