(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("SAM090001");this.set_classname("tbl_info");this.set_titletext("코드생성기(단일테이블)");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_1",this);_a._setContents("<ColumnInfo><Column id=\"TABLE_NAME\" type=\"STRING\" size=\"255\"/><Column id=\"T_NM\" type=\"STRING\" size=\"255\"/><Column id=\"COL_NAME\" type=\"STRING\" size=\"255\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_2",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("ds_gb",this);_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"16\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"255\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("DS_SEARCH",this);_a._setContents("<ColumnInfo><Column id=\"OWNER\" type=\"STRING\" size=\"255\"/><Column id=\"GB\" type=\"STRING\" size=\"256\"/><Column id=\"TABLE_NAME\" type=\"STRING\" size=\"256\"/><Column id=\"T_NM\" type=\"STRING\" size=\"256\"/><Column id=\"COLUMN_NAME\" type=\"STRING\" size=\"256\"/><Column id=\"C_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_w","absolute","0","59",null,null,"0","0",this);_a.set_taborder("22");_a.style.set_border("0 none #808080ff");this.addChild(_a.name,_a);_a=new Grid("grd_1","absolute","0","34",null,null,"762","0",this.div_w);_a.set_cssclass("grd02_WF_blue");_a.set_taborder("6");_a.set_binddataset("ds_1");_a.set_cellsizingtype("col");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"0\"/><Column size=\"200\"/><Column size=\"170\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"#\"/><Cell col=\"1\" text=\"TBL\"/><Cell col=\"2\" text=\"TBL명\"/></Band><Band id=\"body\"><Cell text=\"bind:CODE\"/><Cell col=\"1\" edittype=\"text\" style=\"align:left;\" text=\"bind:TABLE_NAME\"/><Cell col=\"2\" edittype=\"text\" style=\"align:left;\" text=\"bind:T_NM\"/></Band></Format></Formats>");this.div_w.addChild(_a.name,_a);_a=new Grid("grd_2","absolute","306","34",null,null,"350","0",this.div_w);_a.set_cssclass("grd02_WF_blue");_a.set_taborder("7");_a.set_binddataset("ds_2");_a.set_cellsizingtype("col");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"150\"/><Column size=\"180\"/><Column size=\"70\"/><Column size=\"90\"/><Column size=\"30\"/><Column size=\"30\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"#\"/><Cell col=\"1\" text=\"COL\"/><Cell col=\"2\" text=\"COL명\"/><Cell col=\"3\" text=\"LEN\"/><Cell col=\"4\" text=\"TYPE\"/><Cell col=\"5\" text=\"PK\"/><Cell col=\"6\" text=\"NN\"/></Band><Band id=\"body\"><Cell text=\"bind:COLUMN_ID\"/><Cell col=\"1\" style=\"align:left;\" text=\"bind:COLUMN_NAME\"/><Cell col=\"2\" style=\"align:left;\" text=\"bind:C_NM\"/><Cell col=\"3\" displaytype=\"number\" style=\"align:left;\" text=\"bind:LEN\"/><Cell col=\"4\" style=\"align:left;\" text=\"bind:DATA_TYPE\"/><Cell col=\"5\" text=\"bind:PK\"/><Cell col=\"6\" text=\"bind:NN\"/></Band></Format></Formats>");this.div_w.addChild(_a.name,_a);_a=new TextArea("txt_sql","absolute","719","138",null,null,"0","0",this.div_w);_a.set_taborder("8");this.div_w.addChild(_a.name,_a);_a=new Static("Static21","absolute","0","0",null,"10","0",null,this.div_w);_a.set_taborder("13");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Static("Static10","absolute","0","29",null,"5","0",null,this.div_w);_a.set_taborder("14");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Static("Static00","absolute","720","9","155","21",null,null,this.div_w);_a.set_taborder("15");_a.set_text("Generated Codes");_a.set_cssclass("sta_WF_Title01");this.div_w.addChild(_a.name,_a);_a=new Static("Static12","absolute","303","9","155","21",null,null,this.div_w);_a.set_taborder("16");_a.set_text("테이블 컬럼");_a.set_cssclass("sta_WF_Title02");this.div_w.addChild(_a.name,_a);_a=new Static("Static38","absolute","-1","9","130","21",null,null,this.div_w);_a.set_taborder("17");_a.set_text("테이블 목록");_a.set_cssclass("sta_WF_Title01");this.div_w.addChild(_a.name,_a);_a=new Static("Static02","absolute","297","1","10","57",null,null,this.div_w);_a.set_taborder("18");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_w.addChild(_a.name,_a);_a=new Static("Static01","absolute","709","1","10","208",null,null,this.div_w);_a.set_taborder("19");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_w.addChild(_a.name,_a);_a=new Button("btn_grd","absolute","812","115","66","21",null,null,this.div_w);_a.set_taborder("20");_a.set_text("Gen Grid");this.div_w.addChild(_a.name,_a);_a=new Button("btn_DS","absolute","880","115","86","21",null,null,this.div_w);_a.set_taborder("21");_a.set_text("Gen Dataset");this.div_w.addChild(_a.name,_a);_a=new Button("btn_CRUD","absolute","969","115","86","21",null,null,this.div_w);_a.set_taborder("22");_a.set_text("Sql Select");this.div_w.addChild(_a.name,_a);_a=new Static("Static24","absolute","719","86","90","27",null,null,this.div_w);_a.set_taborder("23");_a.set_text("DS Id");_a.set_cssclass("sta_WF_Label");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Static("Static51","absolute","808","86",null,"27","0",null,this.div_w);_a.set_taborder("24");_a.set_cssclass("sta_WF_Labelbg");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Static("Static03","absolute","719","34","90","27",null,null,this.div_w);_a.set_taborder("25");_a.set_text("업무/SQL ID");_a.set_cssclass("sta_WF_Label");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Static("Static04","absolute","808","34",null,"27","0",null,this.div_w);_a.set_taborder("26");_a.set_cssclass("sta_WF_Labelbg");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Edit("edt_S_ID","absolute","897","37","159","21",null,null,this.div_w);_a.set_taborder("27");_a.set_cssclass("edt_WF_Essential");this.div_w.addChild(_a.name,_a);_a=new Static("Static05","absolute","719","60","90","27",null,null,this.div_w);_a.set_taborder("28");_a.set_text("SQL 주석");_a.set_cssclass("sta_WF_Label");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Static("Static06","absolute","808","60",null,"27","0",null,this.div_w);_a.set_taborder("29");_a.set_cssclass("sta_WF_Labelbg");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Edit("edt_S_NM","absolute","812","63","244","21",null,null,this.div_w);_a.set_taborder("30");_a.set_cssclass("edt_WF_Essential");this.div_w.addChild(_a.name,_a);_a=new Edit("edt_S_FIX","absolute","1018","89","38","21",null,null,this.div_w);_a.set_taborder("31");_a.set_value("m");_a.set_cssclass("edt_WF_Essential");this.div_w.addChild(_a.name,_a);_a=new Combo("cmb_jobSe","absolute","812","37","84","21",null,null,this.div_w);this.div_w.addChild(_a.name,_a);_a.set_taborder("32");_a.set_innerdataset("@ds_gb");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE");_a.set_type("search");_a.set_cssclass("cmb_WF_Essential");_a=new Static("Static22","absolute","972","86","44","27",null,null,this.div_w);_a.set_taborder("33");_a.set_text("sFix");_a.set_cssclass("sta_WF_Label");_a.style.set_align("center middle");this.div_w.addChild(_a.name,_a);_a=new Edit("edt_dsId","absolute","811","89","159","21",null,null,this.div_w);_a.set_taborder("34");_a.set_cssclass("edt_WF_Essential");this.div_w.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"59","0",null,this);_a.set_taborder("23");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static16","absolute","15","5","90","21",null,null,this.div_search);_a.set_taborder("56");_a.set_text("조회구분");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static17","absolute","328","5","90","21",null,null,this.div_search);_a.set_taborder("57");_a.set_text("업무구분");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static18","absolute","584","5","90","21",null,null,this.div_search);_a.set_taborder("58");_a.set_text("Column");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_COL_NM","absolute","645","5","167","21",null,null,this.div_search);_a.set_taborder("59");this.div_search.addChild(_a.name,_a);_a=new Static("Static12","absolute","827","5","51","21",null,null,this.div_search);_a.set_taborder("60");_a.set_text("속성명");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_C_NM","absolute","877","5",null,"21","15",null,this.div_search);_a.set_taborder("61");this.div_search.addChild(_a.name,_a);_a=new Static("Static00","absolute","15","31","90","21",null,null,this.div_search);_a.set_taborder("62");_a.set_text("Table");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_TBL_NM","absolute","78","31","235","21",null,null,this.div_search);_a.set_taborder("63");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","328","31","90","21",null,null,this.div_search);_a.set_taborder("64");_a.set_text("엔티티명");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_T_NM","absolute","391","31","178","21",null,null,this.div_search);_a.set_taborder("65");this.div_search.addChild(_a.name,_a);_a=new Static("Static02","absolute","584","31","90","21",null,null,this.div_search);_a.set_taborder("66");_a.set_text("Owner");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_OWNER","absolute","645","31","167","21",null,null,this.div_search);_a.set_taborder("67");_a.set_value("DUCODVL");this.div_search.addChild(_a.name,_a);_a=new Radio("rdo_tbl","absolute","78","5","191","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);var _b=new Dataset("rdo_tbl_innerdataset",this.div_search.rdo_tbl);_b._setContents("<ColumnInfo><Column id=\"codecolumn\" size=\"256\"/><Column id=\"datacolumn\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"codecolumn\">0</Col><Col id=\"datacolumn\">Table</Col></Row><Row><Col id=\"codecolumn\">1</Col><Col id=\"datacolumn\">Column</Col></Row></Rows>");_a.set_innerdataset(_b);_a.set_taborder("68");_a.set_codecolumn("codecolumn");_a.set_datacolumn("datacolumn");_a.set_value("0");_a.set_direction("vertical");_a.set_cssclass("rdo_WF_Essential");_a.set_index("0");_a=new Combo("cmb_GB","absolute","391","4","178","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("69");_a.set_innerdataset("@ds_gb");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a.set_cssclass("cmb_WF_Essential");_a=new Layout("default","",0,0,this.div_w,function(_c){_c.set_taborder("22");_c.style.set_border("0 none #808080ff");});this.div_w.addLayout(_a.name,_a);_a=new Layout("default","",0,59,this.div_search,function(_c){_c.set_taborder("23");_c.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_c){_c.set_classname("tbl_info");_c.set_titletext("코드생성기(단일테이블)");});this.addLayout(_a.name,_a);_a=new BindItem("item3","div_search.edt_T_NM","value","DS_SEARCH","T_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","div_search.edt_COL_NM","value","DS_SEARCH","COLUMN_NAME");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item5","div_search.edt_C_NM","value","DS_SEARCH","C_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.cmb_GB","value","DS_SEARCH","GB");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","div_search.edt_OWNER","value","DS_SEARCH","OWNER");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_search.edt_TBL_NM","value","DS_SEARCH","TABLE_NAME");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("SAM090001.xfdl","lib::comInclude.xjs");this.registerScript("SAM090001.xfdl",function(){this.div_search.edt_OWNER.value="DUCODVL";this.SAM090001_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.SAM090001_onload=function(_a,_b){this.fn_loadCombo();};this.fn_init_dataset=function(){trace("fn_init_dataset");this.gfn_initCondDs(this,this.div_search);if(this.DS_SEARCH.rowcount==0){this.DS_SEARCH.addRow();}};this.fn_init_form=function(){trace("fn_init_form");this.gfn_initForm(this);};this.fn_loadCombo=function(){trace("fn_loadCombo");var _a=[["ds_gb","COM025","1","전체"]];this.gfn_comboLoad(_a,this.fn_callbackAfter);};this.fn_search=function(_a){this.fn_transaction(_a);};this.fn_transaction=function(_a){switch(_a){case "TBLList":var _b="hsco/dev/codegen/listTbl.do";var _c="input1=DS_SEARCH";var _d="ds_1=output1";break;case "COLList":var _b="hsco/dev/codegen/listCols.do";var _c="input1=DS_SEARCH";var _d="ds_2=output1";break;case "GbList":var _b="hsco/dev/codegen/listTblGb.do";var _c="input1=DS_SEARCH";var _d="ds_gb=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callbackAfter=function(){};this.fn_callBack=function(_a,_b,_c){if(_b<0){return ExtNx.core.comMsg("alert",_c);}switch(_a){case 'TBLList':break;case 'COLList':break;case 'GbList':break;}};this.ds_1_onrowposchanged=function(_a,_b){if(this.DS_SEARCH.getRowCount()==0){this.DS_SEARCH.addRow();}else{this.DS_SEARCH.clearData();this.DS_SEARCH.addRow();}this.DS_SEARCH.setColumn(0,"GB",_a.getColumn(_b.newrow,"GB"));this.DS_SEARCH.setColumn(0,"OWNER",_a.getColumn(_b.newrow,"OWNER"));this.DS_SEARCH.setColumn(0,"TABLE_NAME",_a.getColumn(_b.newrow,"TABLE_NAME"));this.DS_SEARCH.setColumn(0,"T_NM",_a.getColumn(_b.newrow,"T_NM"));var _c=_a.getColumn(_b.newrow,"T_NM");this.div_w.edt_S_NM.set_value(_c);this.fn_search("COLList");};this.div_search_onitemchanged=function(_a,_b){var _c=this.div_search.cmb_GB.value;if(_c==""||_c==undefined||_c==null){this.alert("업무구분을 선택하세요.");return;}this.fn_search("TBLList");};this.div_search_onkeydown=function(_a,_b){if(_b.keycode==13){var _c=this.div_search.cmb_GB.value;if(_c==""||_c==undefined||_c==null){this.alert("업무구분을 선택하세요.");return;}this.fn_search("TBLList");}};this.setTxt=function(_a){this.div_w.txt_sql.set_value(_a);trace("SQL:"+_a);system.setClipboard("CF_TEXT",_a);};this.getCamels=function(_a){var _b=_a.toLowerCase().split('_');var _c='';for(var _d in _b){_c+=(_d==0)?_b[_d]:this.getCamelWord(_b[_d]);}return _c;};this.getCamelWord=function(_a){if(Eco.isEmpty(_a)){return '';}return _a[0].toUpperCase()+_a.substr(1);};this.btn_copy_onclick=function(_a,_b){var _c=this.ds_2;var _d=_c.rowposition;var _e="";var _f=_c.getColumn(_d,"TABLE_NAME");var _g=_c.getColumn(_d,"T_NM");_g=Eco.isEmpty(_g)?"\n":"\t\t\t\t-- "+_g+" \r\n";var _h=Eco.date.getMaskFormatString(new Date(),'yyyy_MMdd');var _i="";var _j=_e+"BAK_"+_f+'_'+_h;var _k=_e+_f;_i+="-- TBL Backup"+_g;_i+="CREATE TABLE "+_j+" AS \r\n";_i+="SELECT * FROM "+_k+"\r\n";_i+="WHERE 1=1\r\n";_i+=";\r\n\r\n";_i+="-- TBL Copy"+_g;_i+="DELETE FROM "+_k+";\r\n";_i+="INSERT INTO "+_k+"\r\n";_i+="SELECT * FROM "+_k+";\r\n\r\n\r\n";_i+="-- TBL Copy2"+_g;_i+="INSERT INTO "+_e+_f+'(\r\n';_i+="(\r\n";var _l="";for(var _o=0;_o<_c.rowcount;_o++ ){var _m=_c.getColumn(_o,"COLUMN_NAME");var _n=_c.getColumn(_o,"C_NM");_n=Eco.isEmpty(_n)?"\n":"\t\t\t\t-- "+_n+" \n";_l+=(_o==0?'\t ':'\t,')+_m+_n;}_i+=_l;_i+=")\r\n";_i+="SELECT\r\n";_i+=_l;_i+="FROM "+_e+_f+_g;_i+=";\r\n";this.setTxt(_i);};this.btn_CRUD_onclick=function(_a,_b){var _c=this.div_w.cmb_jobSe.value;var _d=this.div_w.edt_S_ID.value;var _e=this.div_w.edt_S_NM.value;if(_c==""||_c==undefined){this.alert("업무구분을 선택하세요.");return;}if(_d==""||_d==undefined){this.alert("SELECT ID를 입력하세요.");return;}if(_e==""||_e==undefined){this.alert("SQL 주석을 입력하세요.");return;}var _f=this.ds_2;if(_f.rowcount<1){return;}var _g=_f.rowposition;var _h="";var _i=_f.getColumn(_g,"TABLE_NAME");var _j=_f.getColumn(_g,"T_NM");_j=Eco.isEmpty(_j)?"\r\n":"\t\t\t\/** "+_j+" *\/\r\n";var _k=this.div_w.edt_S_FIX.value;var _l=this.div_w.cmb_jobSe.value;var _m="";var _n=new Array();_m+="	<!-- "+_e+" ================================================== -->\r\n\r\n";_m+="	<!-- "+_e+" 조회 -->\r\n";_m+='	<select id="'+_l+_d+'.'+_k+'List" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">\r\n';_m+="SELECT\r\n";for(var _t=0;_t<_f.rowcount;_t++ ){var _o=_f.getColumn(_t,"COLUMN_NAME");if(_o=='REGISTER_ID'){continue;}if(_o=='REGIST_DT'){continue;}if(_o=='UPDUSR_ID'){continue;}if(_o=='UPDT_DT'){continue;}var _p=_f.getColumn(_t,"C_NM");_p=Eco.isEmpty(_p)?"\r\n":"\t\t\t\/** "+_p+" *\/\r\n";_m+=(_t==0?'\t A.':'\t,A.')+_o+_p;if(!Eco.isEmpty(_f.getColumn(_t,"PK"))){_n[_f.getColumn(_t,"PK")-1]=_t;}}_m+="FROM "+_h+_i+" A"+_j;for(var _t=0;_t<_n.length;_t++ ){var _q=_n[_t];var _o=_f.getColumn(_q,"COLUMN_NAME");var _p=_f.getColumn(_q,"C_NM");_p=Eco.isEmpty(_p)?"\r\n":"\t\t\t\/** "+_p+" *\/\r\n";if(_t==0){_m+='WHERE 1=1\r\n';}_m+='  AND A.'+_o+" = #"+_o+"#"+_p;}_m+='<isNotEmpty property="CD1" >\r\n';_m+="</isNotEmpty>\r\n";_m+="ORDER BY 1,2,3\r\n";_m+="	</select>\r\n\r\n";var _r="";_m+="	<!-- "+_e+" 추가 -->\r\n";_m+='	<insert id="'+_l+_d+'.'+_k+'C" parameterClass="java.util.HashMap">\r\n';_m+="INSERT INTO "+_h+_i+" ("+_j;for(var _t=0;_t<_f.rowcount;_t++ ){var _o=_f.getColumn(_t,"COLUMN_NAME");var _p=_f.getColumn(_t,"C_NM");_p=Eco.isEmpty(_p)?"\r\n":"\t\t\t\/** "+_p+" *\/\r\n";_m+=(_t==0?'\t ':'\t,')+_o+_p;_r+=(_t==0?'\t ':'\t,');if(_o=='REGISTER_ID'||_o=='UPDUSR_ID'){_r+='#USER_ID#'+_p;}else if(_o=='REGIST_DT'||_o=='UPDT_DT'){_r+='SYSDATE'+_p;}else{_r+='#'+_o+'#'+_p;}}_m+=") VALUES (\r\n"+_r+")\r\n";_m+="	</insert>\r\n\r\n";_m+="	<!-- "+_e+" 수정 -->\r\n";_m+='	<update id="'+_l+_d+'.'+_k+'U" parameterClass="java.util.HashMap">\r\n';_m+="UPDATE "+_h+_i+_j;_m+="  SET\r\n";var _s=_n.length;for(var _t=0;_t<_f.rowcount;_t++ ){if(!Eco.isEmpty(_f.getColumn(_t,"PK"))){continue;}var _o=_f.getColumn(_t,"COLUMN_NAME");if(_o=='REGISTER_ID'){continue;}if(_o=='REGIST_DT'){continue;}var _p=_f.getColumn(_t,"C_NM");_p=Eco.isEmpty(_p)?"\r\n":"\t\t\t\/** "+_p+" *\/\r\n";_m+=(_t==_s?'\t ':'\t,')+_o;if(_o=='UPDUSR_ID'){_m+=" = #USER_ID#"+_p;}else if(_o=='UPDT_DT'){_m+=" = SYSDATE"+_p;}else{_m+=" = #"+_o+"#"+_p;}}for(var _t=0;_t<_n.length;_t++ ){var _q=_n[_t];var _o=_f.getColumn(_q,"COLUMN_NAME");var _p=_f.getColumn(_q,"C_NM");_p=Eco.isEmpty(_p)?"\r\n":"\t\t\t\/** "+_p+" *\/\r\n";_m+=(_t==0?'WHERE ':'  AND ')+_o+" = #"+_o+"#"+_p;}_m+="	</update>\r\n\r\n";_m+="	<!-- "+_e+" 삭제 -->\r\n";_m+='	<delete id="'+_l+_d+'.'+_k+'D" parameterClass="java.util.HashMap">\r\n';_m+="DELETE FROM "+_h+_i+_j;for(var _t=0;_t<_n.length;_t++ ){var _q=_n[_t];var _o=_f.getColumn(_q,"COLUMN_NAME");var _p=_f.getColumn(_q,"C_NM");_p=Eco.isEmpty(_p)?"\r\n":"\t\t\t\/** "+_p+" *\/\r\n";_m+=(_t==0?'WHERE ':'  AND ')+_o+" = #"+_o+"#"+_p;}_m+="	</delete>\r\n\r\n";this.setTxt(_m);};this.btn_Grid_onclick=function(_a,_b){var _c=this.ds_2;if(_c.rowcount<1){return;}var _d=_c.rowposition;var _e="";var _f=_c.getColumn(_d,"TABLE_NAME");var _g="";var _h=new Array();var _i='';var _j='';var _k='';for(var _n=0;_n<_c.rowcount;_n++ ){var _l=_c.getColumn(_n,"COLUMN_NAME");var _m=_c.getColumn(_n,"C_NM");_i+='  <Column size="50"/>\r\n';_j+='  <Cell col="'+(_n+1)+'" text="'+_m+'"/>\r\n';_k+='  <Cell col="'+(_n+1)+'" displaytype="text" edittype="text" text="bind:'+_l+'"/>\r\n';}_g+='<Columns>\r\n';_g+=_i;_g+='</Columns>\r\n';_g+='<Rows>\r\n';_g+='  <Row size="24" band="head"/>\r\n';_g+='  <Row size="24"/>\r\n';_g+='</Rows>\r\n';_g+='<Band id="head">\r\n';_g+=_j;_g+='</Band>\r\n';_g+='<Band id="body">\r\n';_g+=_k;_g+='</Band>\r\n';this.setTxt(_g);};this.btn_DS_onclick=function(_a,_b){var _c=this.div_w.edt_dsId.value;if(_c==""||_c==undefined){this.alert("데이터셋ID를 입력하세요.");return;}var _d=this.ds_2;if(_d.rowcount<1){return;}var _e=_d.rowposition;var _f="";var _g=_d.getColumn(_e,"TABLE_NAME");var _h="";var _i=new Array();_h+='      <Dataset id="'+_c+'">\r\n';_h+='        <ColumnInfo>\r\n';for(var _n=0;_n<_d.rowcount;_n++ ){var _j=_d.getColumn(_n,"COLUMN_NAME");var _k=_d.getColumn(_n,"DATA_TYPE");var _l='STRING';var _m='255';switch(_k){case 'NUMBER':_l='BIGDECIMAL';_m=_d.getColumn(_n,"LEN2");break;case 'CHAR':case 'VARCHAR2':_m=_d.getColumn(_n,"LEN");break;default:break;}_h+='          <Column id="'+_j+'" type="'+_l+'" size="'+_m+'"/>\r\n';}_h+='        </ColumnInfo>\r\n';_h+='      </Dataset>\r\n';_h+='\r\n';this.setTxt(_h);};this.btn_tbl_onclick=function(_a,_b){var _c=this.ds_2;var _d=_c.rowposition;var _e="";var _f=_c.getColumn(_d,"TABLE_NAME");var _g=_c.getColumn(_d,"T_NM");var _h=Eco.isEmpty(_g)?"\r\n":"\t\t\t-- "+_g+" \r\n";var _i="";var _j=new Array();var _k="";var _l="";var _m=_c.rowcount-1;_i+="DROP TABLE "+_e+_f+';'+_h;_i+="CREATE TABLE "+_e+_f+_h;_i+="(\r\n";for(var _t=0;_t<_c.rowcount;_t++ ){var _n=_c.getColumn(_t,"COLUMN_NAME");var _o=_c.getColumn(_t,"DATA_TYPE");var _p=_c.getColumn(_t,"C_NM");var _q=Eco.isEmpty(_c.getColumn(_t,"NULLS"))?"":" NOT NULL";var _r=Eco.isEmpty(_p)?"\r\n":"\t\t\t-- "+_p+" \r\n";if(_o!="DATE"){_o+="("+_c.getColumn(_t,"LEN")+")";}var _s="\t"+_n+"\t\t"+_o+_q+(_t==_m?' ':',')+_r;_i+=_s;if(!Eco.isEmpty(_c.getColumn(_t,"PK"))){_j[_c.getColumn(_t,"PK")-1]=_t;}if(!Eco.isEmpty(_p)){_l+="COMMENT ON COLUMN "+_e+_f+'.'+_n+" IS '"+_p+"';\r\n";};}_i+=")\r\n";_i+="IN TS_"+_e+"_DAT\r\n";_i+="INDEX IN TS_"+_e+"_IDX;\r\n\r\n";for(var _t=0;_t<_j.length;_t++ ){_k+=(_k.length==0?' ':',')+_c.getColumn(_j[_t],"COLUMN_NAME");}_i+="ALTER TABLE "+_e+_f+" ADD CONSTRAINT PK_"+_f+"\r\n";_i+="\tPRIMARY KEY("+_k+");\r\n\r\n";_i+="COMMENT ON TABLE "+_e+_f+" IS '"+_g+"';\r\n\r\n";_i+=_l+"\r\n\r\n";this.setTxt(_i);};});this.on_initEvent=function(){this.ds_1.addEventHandler("onrowposchanged",this.ds_1_onrowposchanged,this);this.addEventHandler("oninit",this.SAM090001_oninit,this);this.addEventHandler("onload",this.SAM090001_onload,this);this.div_w.btn_grd.addEventHandler("onclick",this.btn_Grid_onclick,this);this.div_w.btn_DS.addEventHandler("onclick",this.btn_DS_onclick,this);this.div_w.btn_CRUD.addEventHandler("onclick",this.btn_CRUD_onclick,this);this.div_search.edt_COL_NM.addEventHandler("onkeydown",this.div_search_onkeydown,this);this.div_search.edt_C_NM.addEventHandler("onkeydown",this.div_search_onkeydown,this);this.div_search.edt_TBL_NM.addEventHandler("onkeydown",this.div_search_onkeydown,this);this.div_search.edt_T_NM.addEventHandler("onkeydown",this.div_search_onkeydown,this);this.div_search.edt_OWNER.addEventHandler("onkeydown",this.div_search_onkeydown,this);this.div_search.cmb_GB.addEventHandler("onitemchanged",this.div_search_onitemchanged,this);};this.loadIncludeScript("SAM090001.xfdl");};})();