(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("HPM050201_P01");this.set_classname("Pattern_03");this.set_titletext("팝업 등록");this._setFormPosition(0,0,770,631);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BANNER_ID\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_popupKind",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_popupConfirmYn",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BOARD_IDX\" type=\"STRING\" size=\"256\"/><Column id=\"BOARD_CONFIRM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_fileList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"ORGINL_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_EXTSN\" type=\"string\" size=\"32\"/><Column id=\"FILE_STRE_COURS\" type=\"string\" size=\"32\"/><Column id=\"FILE_ID\" type=\"string\" size=\"32\"/><Column id=\"SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"SYS_SE_CODE\" type=\"string\" size=\"32\"/><Column id=\"FILE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"FILE_TY\" type=\"string\" size=\"32\"/><Column id=\"JOB_SE\" type=\"string\" size=\"32\"/><Column id=\"DELETE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"STRE_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_MG\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_CN\" type=\"string\" size=\"32\"/><Column id=\"FILE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"string\" size=\"32\"/><Column id=\"USE_AT\" type=\"string\" size=\"32\"/><Column id=\"STTUS\" type=\"string\" size=\"32\"/><Column id=\"FILE_SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_WIDTH\" type=\"string\" size=\"16\"/><Column id=\"FILE_HEIGHT\" type=\"string\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_downfileList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"ORGINL_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_EXTSN\" type=\"string\" size=\"32\"/><Column id=\"FILE_STRE_COURS\" type=\"string\" size=\"32\"/><Column id=\"FILE_ID\" type=\"string\" size=\"32\"/><Column id=\"SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"SYS_SE_CODE\" type=\"string\" size=\"32\"/><Column id=\"FILE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"FILE_TY\" type=\"string\" size=\"32\"/><Column id=\"JOB_SE\" type=\"string\" size=\"32\"/><Column id=\"DELETE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"STRE_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_MG\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_CN\" type=\"string\" size=\"32\"/><Column id=\"FILE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"string\" size=\"32\"/><Column id=\"USE_AT\" type=\"string\" size=\"32\"/><Column id=\"STTUS\" type=\"string\" size=\"32\"/><Column id=\"FILE_SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_WIDTH\" type=\"string\" size=\"16\"/><Column id=\"FILE_HEIGHT\" type=\"string\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_addfileList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"PROGRS\" type=\"BIGDECIMAL\" size=\"16\"/><Column id=\"ORGINL_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_EXTSN\" type=\"string\" size=\"32\"/><Column id=\"FILE_STRE_COURS\" type=\"string\" size=\"32\"/><Column id=\"FILE_ID\" type=\"string\" size=\"32\"/><Column id=\"SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"SYS_SE_CODE\" type=\"string\" size=\"32\"/><Column id=\"FILE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"FILE_TY\" type=\"string\" size=\"32\"/><Column id=\"JOB_SE\" type=\"string\" size=\"32\"/><Column id=\"DELETE_IMAGE\" type=\"string\" size=\"32\"/><Column id=\"STRE_FILE_NM\" type=\"string\" size=\"32\"/><Column id=\"FILE_MG\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_CN\" type=\"string\" size=\"32\"/><Column id=\"FILE_ORDR\" type=\"bigdecimal\" size=\"16\"/><Column id=\"TRNSMIS_FILE_SIZE\" type=\"string\" size=\"32\"/><Column id=\"USE_AT\" type=\"string\" size=\"32\"/><Column id=\"STTUS\" type=\"string\" size=\"32\"/><Column id=\"FILE_SN\" type=\"bigdecimal\" size=\"16\"/><Column id=\"FILE_WIDTH\" type=\"string\" size=\"16\"/><Column id=\"FILE_HEIGHT\" type=\"string\" size=\"16\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_popup",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BANNER_ID\" type=\"STRING\" size=\"256\"/><Column id=\"BANNER_SJ\" type=\"STRING\" size=\"256\"/><Column id=\"BANNER_CN\" type=\"STRING\" size=\"256\"/><Column id=\"BANNER_URL\" type=\"STRING\" size=\"256\"/><Column id=\"TMPLAT_ID\" type=\"STRING\" size=\"256\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"256\"/><Column id=\"WIDTH_SIZE\" type=\"STRING\" size=\"256\"/><Column id=\"VRTICL_SIZE\" type=\"STRING\" size=\"256\"/><Column id=\"WIDTH_LC\" type=\"STRING\" size=\"256\"/><Column id=\"VRTICL_LC\" type=\"STRING\" size=\"256\"/><Column id=\"APPLC_BGNDE\" type=\"STRING\" size=\"256\"/><Column id=\"APPLC_ENDDE\" type=\"STRING\" size=\"256\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"INNER_SANCTN_ID\" type=\"STRING\" size=\"256\"/><Column id=\"CONFM_AT\" type=\"STRING\" size=\"256\"/><Column id=\"APPLC_AT\" type=\"STRING\" size=\"256\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"256\"/><Column id=\"BANNER_TYPE\" type=\"STRING\" size=\"256\"/><Column id=\"IN_SANCTNSTS_IMG\" type=\"STRING\" size=\"256\"/><Column id=\"LAST_SANCTN_STTUS\" type=\"STRING\" size=\"256\"/><Column id=\"APPLC_BGNTM\" type=\"STRING\" size=\"256\"/><Column id=\"APPLC_ENDTM\" type=\"STRING\" size=\"256\"/><Column id=\"BANNER_IMG_URL\" type=\"STRING\" size=\"4000\"/><Column id=\"ORDER_SEQ\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("Static03","absolute",null,"0","15","100%","0",null,this);_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static06","absolute","0","0","100%","10",null,null,this);_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_exit","absolute",null,"0","50","35","5",null,this);_a.set_cssclass("btn_WF_PopupClose");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","0","15","100%",null,null,this);_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","34","100%","5",null,null,this);_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_work","absolute","15","5",null,null,"15","15",this);this.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","60",null,null,"0","0",this.div_work);_a.set_taborder("434");_a.set_cssclass("sta_WF_Labelbg");_a.style.set_align("center middle");this.div_work.addChild(_a.name,_a);_a=new Button("btn_save","absolute",null,"3","80","25","0",null,this.div_work);_a.set_text("저장");_a.set_cssclass("btn_WF_CRUD");this.div_work.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","34",null,"27","0",null,this.div_work);_a.set_taborder("431");_a.set_cssclass("sta_WF_Labelbg");this.div_work.addChild(_a.name,_a);_a=new Static("sta_NM16","absolute","0","34","113","27",null,null,this.div_work);_a.set_taborder("412");_a.set_text("제목");_a.set_cssclass("sta_WF_Label");this.div_work.addChild(_a.name,_a);_a=new Edit("edt_bbsId00","absolute","114","37",null,"21","3",null,this.div_work);_a.set_taborder("413");_a.set_cssclass("edt_WF_Readonly");_a.set_readonly("true");this.div_work.addChild(_a.name,_a);_a=new Div("RichTextEditor","absolute","14","75","720","521",null,null,this.div_work);_a.set_taborder("432");_a.set_text("RichTextEditor");_a.style.set_border("0 none #808080ff");_a.set_async("false");_a.set_scrollbars("autovert");_a.set_url("common::RichTextEditor.xfdl");this.div_work.addChild(_a.name,_a);_a=new Layout("default","",738,606,this.div_work,function(_b){});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",770,631,this,function(_b){_b.set_classname("Pattern_03");_b.set_titletext("팝업 등록");});this.addLayout(_a.name,_a);_a=new BindItem("item11","div_work.edt_bbsId00","value","ds_popup","BANNER_SJ");this.addChild(_a.name,_a);_a.bind();_a=null;};this.loadPreloadList=function(){this._addPreloadList("fdl","common::RichTextEditor.xfdl");};this.addIncludeScript("HPM050201_P01.xfdl","lib::comInclude.xjs");this.addIncludeScript("HPM050201_P01.xfdl","lib::comUpDownUtils.xjs");this.addIncludeScript("HPM050201_P01.xfdl","mis_lib::misUtil.xjs");this.registerScript("HPM050201_P01.xfdl",function(){this.File_UpDownManager=null;this.RichTextEditor=this.div_work.RichTextEditor;this.RichTextEditorPreview=this.div_work.RichTextEditorPreview;this.bEditMode=false;this.hpmurl=application.gv_host;this.HPM050201_P01_oninit=function(_a,_b){};this.HPM050201_P01_onload=function(_a,_b){trace("HPM050201_P01_onload");this.gfn_initForm(this);var _c=function(){};var _d=this.parent.popupId;this.ds_cond.clearData();this.ds_cond.addRow();if(!this.comUtils.isNull(_d)){this.ds_cond.setColumn(0,"BANNER_ID",_d);this.bEditMode=true;}};this.RichTextEditorInit=function(){var _a={editor:{loadCallback:this.onloadEditor},image:{}};this.RichTextEditor.initialize(_a,this);};this.fn_transaction=function(_a){var _b=true;var _c="";var _d="";var _e="";switch(_a){case "select":_c="hsco/hpm/ctm/HPM050201/selectPopup.do";_d="input1=ds_cond";_e="ds_popup=output1";break;case "save":_c="hsco/hpm/ctm/HPM050201/popupU.do";_d="input1=ds_popup";_e="";break;}Ex.core.tran(this,_a,_c,_d,_e,"","fn_callBack",true,_b);};this.fn_callBack=function(_a,_b,_c){if(_b!='0'){this.gfn_callback_message(_a,_b,_c);}if(_b=='0'){switch(_a){case "select":var _d=this.ds_popup.getColumn(0,"BANNER_CN");this.RichTextEditor.setContent(_d);break;case "save":this.gfn_message("success.처리.성공","정상적으로 처리되었습니다.","","",function(){this.close("0000");});break;}}};this.onloadEditor=function(){this.fn_transaction("select");};this.fn_onFileSuccess=function(_a,_b){if(_a==this.File_UpDownManager.TYPE_UPLOADER){for(var _d=0,_e=this.ds_fileList.rowcount;_d<_e;_d++ ){var _c=this.ds_addfileList.findRow("ORGINL_FILE_NM",this.ds_fileList.getColumn(_d,"ORGINL_FILE_NM"));this.ds_fileList.copyRow(_d,this.ds_addfileList,_c);}}if(_a==this.File_UpDownManager.TYPE_DOWNLOADER){}};this.div_work_grd_fileList_onheadclick=function(_a,_b){if(_b.col==1){this.gfn_setGridCheckAll(_a,_b);}};this.btn_exit_onclick=function(_a,_b){this.close("");};this.btn_save_onclick=function(_a,_b){var _c=this.RichTextEditor.getContent();var _d=this.RichTextEditor.getTextContent();var _e=application.services["svcurl"].url;_c=_c.split(_e).join("");_c=_c.split(this.hpmurl).join("");_c=_c.split('src="upload').join('src="/upload');this.ds_popup.setColumn(0,"BANNER_CN",_c);if(this.gfn_message("comm.행위여부","저장")){this.fn_transaction("save");}};this.fn_Editor_setViewerContent=function(_a){if(Eco.isEmpty(_a)){_a="";}if(""!=_a&&undefined!=_a){_a=_a.split('/uploadfiledir/Image').join('/upload/ETC/HPG/boardfile/Image');_a=_a.split('src="//').join('src="/');_a=_a.split('src="/upload/ETC').join('src="'+this.hpmurl+'upload/ETC');}this.RichTextEditor.setContent(_a);if(this.bEditMode){this.RichTextEditor.setContent(_a);}else{this.RichTextEditorPreview.web_preview.callMethod("setContent",_a);}};});this.on_initEvent=function(){this.ds_popup.addEventHandler("onrowposchanged",this.ds_bannerList_onrowposchanged,this);this.addEventHandler("oninit",this.HPM050201_P01_oninit,this);this.addEventHandler("onload",this.HPM050201_P01_onload,this);this.btn_exit.addEventHandler("onclick",this.btn_exit_onclick,this);this.div_work.btn_save.addEventHandler("onclick",this.btn_save_onclick,this);};this.loadIncludeScript("HPM050201_P01.xfdl");this.loadPreloadList();};})();