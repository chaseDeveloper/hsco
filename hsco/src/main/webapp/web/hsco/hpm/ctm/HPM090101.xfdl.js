(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("HPM090101");this.set_classname("HPM090101");this.set_titletext("LG U+ 거래내역");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"SELNG_BGNDE\" type=\"STRING\" size=\"256\"/><Column id=\"SELNG_ENDDE\" type=\"STRING\" size=\"256\"/><Column id=\"ORDER_BGNDE\" type=\"STRING\" size=\"256\"/><Column id=\"ORDER_ENDDE\" type=\"STRING\" size=\"256\"/><Column id=\"STORE_ID\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"PK\"/><Col id=\"notNull\">Y</Col><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">BGNDE</Col><Col id=\"msgId\">조회시작일자</Col></Row><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">ENDDE</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">조회종료일자</Col></Row><Row><Col id=\"compId\">ds_cond</Col><Col id=\"colId\">BGNDE</Col><Col id=\"msgId\">조회시작일자^조회종료일자</Col><Col id=\"to\">ENDDE</Col><Col id=\"notNull\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_lgExcclcDataList",this);_a.set_useclientlayout("true");_a.set_keystring("INCME_YM");_a._setContents("<ColumnInfo><Column id=\"MID\" type=\"STRING\" size=\"256\"/><Column id=\"PAYTYPE\" type=\"STRING\" size=\"256\"/><Column id=\"TRANSACTION\" type=\"STRING\" size=\"256\"/><Column id=\"OID\" type=\"STRING\" size=\"256\"/><Column id=\"FINANCECODE\" type=\"STRING\" size=\"256\"/><Column id=\"FINANCENAME\" type=\"STRING\" size=\"256\"/><Column id=\"BUYERID\" type=\"STRING\" size=\"256\"/><Column id=\"AMOUNT\" type=\"BIGDECIMAL\" size=\"256\"/><Column id=\"USEESCROW\" type=\"STRING\" size=\"256\"/><Column id=\"REFUNDDATE\" type=\"STRING\" size=\"256\"/><Column id=\"AUTHNUMBER\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"STATUS\" type=\"STRING\" size=\"256\"/><Column id=\"BIZPLC_NM\" type=\"STRING\" size=\"256\"/><Column id=\"ORDER_DE\" type=\"STRING\" size=\"256\"/><Column id=\"DELNG_TY\" type=\"STRING\" size=\"256\"/><Column id=\"FEE_SM\" type=\"STRING\" size=\"256\"/><Column id=\"SELNG_DE\" type=\"STRING\" size=\"256\"/><Column id=\"PYMNT_DE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_hpm019",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_hpm020",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_storeIdList",this);_a._setContents("<ColumnInfo><Column id=\"STORE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"STORE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("Static36","absolute","0","33","1031","10",null,null,this);_a.set_taborder("21");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static00","absolute",null,"0","15","735","13",null,this);_a.set_taborder("24");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static01","absolute",null,null,"13","735","0","0",this);_a.set_taborder("25");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_gnfdList","absolute","0","43",null,"19","883",null,this);_a.set_taborder("104");_a.set_text("LG U+ 거래내역 목록");_a.set_cssclass("sta_WF_Title02");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0","62",null,"5","28",null,this);_a.set_taborder("105");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("106");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static01","absolute","0","0","15",null,null,"0",this.div_search);_a.set_taborder("12");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("sta_searchDe01","absolute","14","5","64","21",null,null,this.div_search);_a.set_taborder("14");_a.set_text("거래일자");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_bgnDe","absolute","78","5","100","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("15");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a=new Static("Static03","absolute","178","9","15","16",null,null,this.div_search);_a.set_taborder("16");_a.set_text("~");_a.style.set_align("center");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_endDe","absolute","193","5","102","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("17");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Essential");_a=new Static("Static00","absolute","295","0","15",null,null,"0",this.div_search);_a.set_taborder("18");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("sta_storeId","absolute","309","5","64","21",null,null,this.div_search);_a.set_taborder("19");_a.set_text("상점ID");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_storeId","absolute","373","6","150","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("20");_a.set_innerdataset("@ds_storeIdList");_a.set_codecolumn("STORE_ID");_a.set_datacolumn("STORE_NM");_a=new Static("sta_searchDe02","absolute","310","-27","64","21",null,null,this.div_search);_a.set_taborder("22");_a.set_text("주문일자");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("false");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_bgnDe00","absolute","374","-27","100","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("23");_a.set_dateformat("yyyy-MM-dd");_a.set_visible("false");_a=new Static("Static04","absolute","474","-23","15","16",null,null,this.div_search);_a.set_taborder("24");_a.set_text("~");_a.style.set_align("center");_a.set_visible("false");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_endDe00","absolute","489","-27","102","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("25");_a.set_dateformat("yyyy-MM-dd");_a.set_visible("false");_a=new Grid("grd_lgExcclcDataList","absolute","0","67",null,null,"28","0",this);_a.set_taborder("107");_a.set_binddataset("ds_lgExcclcDataList");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"200\"/><Column size=\"15\"/><Column size=\"100\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"관리부서\"/><Cell col=\"2\" text=\"사업소\"/><Cell col=\"3\" text=\"상점ID\"/><Cell col=\"4\" text=\"결제수단\"/><Cell col=\"5\" text=\"은행기관\"/><Cell col=\"6\" text=\"주문번호\"/><Cell col=\"7\" colspan=\"2\" text=\"거래금액\"/><Cell col=\"9\" text=\"거래일자\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:DEPT_NM\"/><Cell col=\"2\" text=\"bind:BIZPLC_NM\"/><Cell col=\"3\" displaytype=\"combo\" style=\"align: ;\" text=\"bind:MID\" combodataset=\"ds_storeIdList\" combocodecol=\"STORE_ID\" combodatacol=\"STORE_NM\"/><Cell col=\"4\" displaytype=\"combo\" text=\"bind:PAYTYPE\" combodataset=\"ds_hpm019\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"5\" style=\"align:left;\" text=\"bind:FINANCENAME\"/><Cell col=\"6\" style=\"align:left;\" text=\"bind:OID\"/><Cell col=\"7\" style=\"align:right;line:1 solid #ddddddff,1 none #ddddddff;selectline:1 solid #efececff,1 none #efececff;\" text=\"bind:STATUS\"/><Cell col=\"8\" displaytype=\"number\" style=\"align:right;color:EXPR(STATUS == '+' ? 'red' : 'blue');color2:EXPR(STATUS == '+' ? 'red' : 'blue');selectcolor:EXPR(STATUS == '+' ? 'red' : 'blue');\" text=\"bind:AMOUNT\"/><Cell col=\"9\" displaytype=\"date\" text=\"bind:REFUNDDATE\" calendardisplaynulltype=\"none\"/></Band><Band id=\"summary\"><Cell/><Cell col=\"1\" colspan=\"8\" displaytype=\"number\" text=\"expr:dataset.getCaseSum(&quot;STATUS ==  '+'&quot;, &quot;AMOUNT&quot;) - dataset.getCaseSum(&quot;STATUS ==  '-'&quot;, &quot;AMOUNT&quot;)\"/><Cell col=\"9\"/><Cell col=\"10\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("btn_insertExcclcData","absolute",null,"41","91","21","28",null,this);_a.set_taborder("108");_a.set_text("거래내역 생성");this.addChild(_a.name,_a);_a=new Layout("default","",1031,59,this.div_search,function(_b){_b.set_taborder("106");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("HPM090101");_b.set_titletext("LG U+ 거래내역");});this.addLayout(_a.name,_a);_a=new BindItem("item0","div_SEARCH.cmb_rentFcltsSe_s","value","ds_cond","SE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item14","div_SEARCH.cmb_pchrgAt_s","value","ds_cond","CL");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item15","div_SEARCH.edt_fcltyNm_s","value","ds_cond","FCLTY_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","div_search.cal_bgnDe","value","ds_cond","SELNG_BGNDE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","div_search.cal_endDe","value","ds_cond","SELNG_ENDDE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item3","div_search.cal_bgnDe00","value","ds_cond","ORDER_BGNDE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item4","div_search.cal_endDe00","value","ds_cond","ORDER_ENDDE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item5","div_search.cmb_storeId","value","ds_cond","STORE_ID");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("HPM090101.xfdl","lib::comInclude.xjs");this.addIncludeScript("HPM090101.xfdl","mis_lib::misUtil.xjs");this.registerScript("HPM090101.xfdl",function(){this.HPM090101_onload=function(_a,_b){this.fn_init_form();this.fn_init_dataset();var _c=this.dateUtils.format(this.gfn_today(),"yyyymmdd");var _d=this.dateUtils.format(this.gfn_today(),"yyyymm");var _e=this.dateUtils.getLastDay(_c).getDate();this.ds_cond.clearData();this.ds_cond.addRow();this.ds_cond.setColumn(0,"SELNG_BGNDE",_d+"01");this.ds_cond.setColumn(0,"SELNG_ENDDE",_d+_e);this.ds_cond.setColumn(0,"STORE_ID","");var _f=[["ds_hpm019","HPM019","1",""],["ds_hpm020","HPM020","1",""]];var _g=function(_h,_i,_j){this.fn_transaction("selectStoreIdList");};this.gfn_comboLoad(_f,_g);};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);};this.fn_search=function(){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}this.ds_lgExcclcDataList.clearData();this.fn_transaction("selectlgExcclcDataList");};this.fn_transaction=function(_a){switch(_a){case "selectStoreIdList":var _b="hsco/hpm/lguplus/HPM090101/selectStoreIdList.do";var _c="";var _d="ds_storeIdList=output1";break;case "selectlgExcclcDataList":var _b="hsco/hpm/lguplus/HPM090101/lgExcclcDataList.do";var _c="input1=ds_cond";var _d="ds_lgExcclcDataList=output1";break;case "lgExcclcData":var _b="hsco/hpm/lguplus/HPM090101/lgExcclcData.do";var _c="input1=ds_cond";var _d="";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!='0'){this.gfn_callback_message(_a,_b,_c);}if(_b=='0'){switch(_a){case "selectStoreIdList":this.ds_storeIdList.insertRow(0);this.ds_storeIdList.setColumn(0,"STORE_ID","");this.ds_storeIdList.setColumn(0,"STORE_NM","전체");this.div_search.cmb_storeId.set_index(0);this.fn_search();break;case "selectlgExcclcDataList":break;case "lgExcclcData":this.gfn_message("success.처리.성공");this.fn_search();break;}}};this.btn_insertExcclcData_onclick=function(_a,_b){if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}var _c=this.fn_dateStr(this.ds_cond.getColumn(0,"SELNG_BGNDE"),"-");var _d=this.fn_dateStr(this.ds_cond.getColumn(0,"SELNG_ENDDE"),"-");if(application.confirm(_c+" ~ "+_d+" 기간의 모든 정산내역을 생성하시겠습니까?\n계속 진행하시면 기존 데이터는 삭제됩니다.")){this.ds_lgExcclcDataList.clearData();this.fn_transaction("lgExcclcData");}};this.grd_lgExcclcDataList_onheadclick=function(_a,_b){if(_b.col=="0"){this.ds_lgExcclcDataList.set_updatecontrol(false);this.gfn_setGridCheckAll(_a,_b);this.ds_lgExcclcDataList.set_updatecontrol(true);}else{LGV_COL_SORT=_b.col;this._gridSort(_a,_b);}};this.fn_sum=function(){1;};});this.on_initEvent=function(){this.addEventHandler("oninit",this.HPM090101_oninit,this);this.addEventHandler("onload",this.HPM090101_onload,this);this.Static02.addEventHandler("onclick",this.Static02_onclick,this);this.grd_lgExcclcDataList.addEventHandler("onheadclick",this.grd_lgExcclcDataList_onheadclick,this);this.btn_insertExcclcData.addEventHandler("onclick",this.btn_insertExcclcData_onclick,this);};this.loadIncludeScript("HPM090101.xfdl");};})();