(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("SYM090200_P90");this.set_classname("Pattern_03");this.set_titletext("결재선 선택");this._setFormPosition(0,0,850,325);}_a=new Dataset("ds_schCond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"INNER_SANCTN_MDL_ID\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sSanctnerList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"HR_CLSF_SE\" type=\"STRING\" size=\"256\"/><Column id=\"RSPOFC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"OFCPS_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_uSanctnerList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"SANCTN_SN\" type=\"INT\" size=\"3\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"HR_CLSF_SE\" type=\"STRING\" size=\"256\"/><Column id=\"RSPOFC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"SANCTN_STEP\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"OFCPS_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sSanctnerDeptUserInfo",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"HR_CLSF_SE\" type=\"STRING\" size=\"256\"/><Column id=\"RSPOFC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"OFCPS_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sSanctnerUserInfo",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"RSPOFC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"OFCPS_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_sSanctnerRecentInfo",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"SANCTN_SN\" type=\"STRING\" size=\"256\"/><Column id=\"RSPOFC_SE\" type=\"STRING\" size=\"256\"/><Column id=\"SANCTN_STEP\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNM\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"OFCPS_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cbCond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_deptCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"50\"/><Column id=\"DEPT_CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_rspofcSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_SanctnStep",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_OfcpsSe",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">grd_uSanctnerList</Col><Col id=\"colId\">SANCTN_SN</Col><Col id=\"notNull\">Y</Col><Col id=\"PK\">Y</Col><Col id=\"msgId\">결재순서</Col><Col id=\"func\">fn_validation_test</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Static("Static02","absolute","0","0","100%","35",null,null,this);_a.set_taborder("58");_a.set_text("결재선 선택");_a.set_cssclass("sta_WF_PopupTitle");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","0","15","100%",null,null,this);_a.set_taborder("59");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_exit","absolute",null,"0","50","30","5",null,this);_a.set_taborder("60");_a.set_cssclass("btn_WF_PopupClose");this.addChild(_a.name,_a);_a=new Static("Static03","absolute",null,"0","15","100%","0",null,this);_a.set_taborder("61");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static06","absolute","0","35","100%","15",null,null,this);_a.set_taborder("62");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_work","absolute","15","75",null,"215","15",null,this);_a.set_taborder("98");this.addChild(_a.name,_a);_a=new Grid("grd_uSanctnerList","absolute",null,"5","385","200","0",null,this.div_work);_a.set_taborder("27");_a.set_binddataset("ds_uSanctnerList");_a.set_autosizingtype("none");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"40\"/><Column size=\"70\"/><Column size=\"70\"/><Column size=\"80\"/><Column size=\"80\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"순서\"/><Cell col=\"2\" text=\"직책\"/><Cell col=\"3\" displaytype=\"normal\" text=\"직위\"/><Cell col=\"4\" text=\"결재단계\"/><Cell col=\"5\" displaytype=\"normal\" text=\"결재자\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" displaytype=\"number\" edittype=\"masknumber\" editfilter=\"lower,number,nosign\" text=\"bind:SANCTN_SN\" mask=\"+##0\" editlimit=\"3\" editautoselect=\"false\" editlimitbymask=\"integer\"/><Cell col=\"2\" displaytype=\"combo\" edittype=\"none\" text=\"bind:RSPOFC_SE\" combodataset=\"ds_rspofcSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"3\" displaytype=\"combo\" text=\"bind:OFCPS_SE\" combodataset=\"ds_OfcpsSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"4\" displaytype=\"combo\" edittype=\"combo\" text=\"bind:SANCTN_STEP\" combodataset=\"ds_SanctnStep\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"5\" displaytype=\"normal\" text=\"bind:EMPNM\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Grid("grd_sSanctnerList","absolute","0","5","385","200",null,null,this.div_work);_a.set_taborder("28");_a.set_binddataset("ds_sSanctnerList");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"70\"/><Column size=\"120\"/><Column size=\"70\"/><Column size=\"70\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"성명\"/><Cell col=\"2\" text=\"부서\"/><Cell col=\"3\" text=\"직책\"/><Cell col=\"4\" text=\"직위\"/></Band><Band id=\"body\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" text=\"bind:EMPNM\"/><Cell col=\"2\" displaytype=\"combo\" text=\"bind:DEPT_CODE\" combodataset=\"ds_deptCode\" combocodecol=\"DEPT_CODE\" combodatacol=\"DEPT_NM\"/><Cell col=\"3\" displaytype=\"combo\" edittype=\"none\" text=\"bind:RSPOFC_SE\" combodataset=\"ds_rspofcSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/><Cell col=\"4\" displaytype=\"combo\" text=\"bind:OFCPS_SE\" combodataset=\"ds_OfcpsSe\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/></Band></Format></Formats>");this.div_work.addChild(_a.name,_a);_a=new Button("btnAddSanctner","absolute","398","80","24","22",null,null,this.div_work);_a.set_taborder("29");_a.set_text(">");_a.style.set_font("bold 9 arial");this.div_work.addChild(_a.name,_a);_a=new Button("btnSubtractSanctner","absolute","398","110","24","22",null,null,this.div_work);_a.set_taborder("30");_a.set_text("<");_a.style.set_font("bold 9 arial");this.div_work.addChild(_a.name,_a);_a=new Combo("CB_COND","absolute","15","50","150","22",null,null,this);this.addChild(_a.name,_a);_a.set_taborder("99");_a.set_innerdataset("@ds_cbCond");_a.set_codecolumn("CODE");_a.set_datacolumn("CODE_NM");_a=new Button("btn_SanctnerRecentInfo","absolute",null,"50","150","22","15",null,this);_a.set_taborder("100");_a.set_text("최근결재선 불러오기");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Button("btn_userInfoSearch","absolute","307","50","60","22",null,null,this);_a.set_taborder("101");_a.set_text("조회");_a.set_cssclass("btn_WF_Process");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Edit("userInfoCond","absolute","170","50","132","22",null,null,this);_a.set_taborder("102");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_Save","absolute",null,"292","80","25","15",null,this);_a.set_taborder("103");_a.set_text("확인");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Layout("default","",982,606,this.div_work,function(_b){_b.set_taborder("98");});this.div_work.addLayout(_a.name,_a);_a=new Layout("default","",850,325,this,function(_b){_b.set_classname("Pattern_03");_b.set_titletext("결재선 선택");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("SYM090200_P90.xfdl","lib::comInclude.xjs");this.addIncludeScript("SYM090200_P90.xfdl","lib::comInnerSanct.xjs");this.addIncludeScript("SYM090200_P90.xfdl","lib::comFile.xjs");this.addIncludeScript("SYM090200_P90.xfdl","lib::comUpDownUtils.xjs");this.registerScript("SYM090200_P90.xfdl",function(){this.SYM090200_P90_oninit=function(_a,_b){this.gfn_initForm(this);};this.SYM090200_P90_onload=function(_a,_b){this.ds_cbCond.clearData();this.ds_cbCond.addRow();this.ds_cbCond.setColumn(0,"CODE","1");this.ds_cbCond.setColumn(0,"CODE_NM","내부서");this.ds_cbCond.addRow();this.ds_cbCond.setColumn(1,"CODE","2");this.ds_cbCond.setColumn(1,"CODE_NM","성명");this.CB_COND.set_index(0);this.fn_loadDeptCombo();var _c=[["ds_rspofcSe","HRM214","1",""],["ds_SanctnStep","COM028","1",""],["ds_OfcpsSe","HRM021","1",""]];this.gfn_comboLoad(_c,this.fn_loadCombo_callback);this.ds_uSanctnerList.set_min("SANCTN_SN",0);this.ds_uSanctnerList.set_max("SANCTN_SN",999);};this.fn_loadCombo_callback=function(){this.ds_SanctnStep.deleteRow(this.ds_SanctnStep.findRow("CODE","S1"));this.fn_search();};this.fn_loadDeptCombo=function(){if(this.ds_deptCode.rowcount==0){this.ds_deptCode.addRow();}this.ds_deptCode.setColumn(0,"USE_AT","1");var _a=[["ds_deptCode","ds_deptCode","","전체","hsco/com/sym/cdm/deptCode/selectDeptCode.do",1]];this.gfn_comboLoadNonCodeTbl(_a,this.fn_callback);};this.fn_search=function(){this.fn_transaction("sSanctnerList");};this.fn_transaction=function(_a){var _b="";var _c="fn_callback";var _d=true;var _e=false;this.ds_schCond.clearData();if(this.ds_schCond.rowcount==0){this.ds_schCond.addRow();}switch(_a){case "sSanctnerList":this.ds_schCond.setColumn(0,"INNER_SANCTN_MDL_ID",this.parent.arg_1);var _f="hsco/com/sym/ism/SYM090200/sSanctnerList.do";var _g="input1=ds_schCond";var _h="ds_sSanctnerDeptUserInfo=sSanctnerDeptUserInfo ";break;case "sSanctnerUserInfo":this.ds_schCond.setColumn(0,"EMPNM",this.userInfoCond.value);var _f="hsco/com/sym/ism/SYM090200/sSanctnerUserInfo.do";var _g="input1=ds_schCond";var _h="ds_sSanctnerUserInfo=sSanctnerUserInfo";break;case "sSanctnerRecentInfo":this.ds_schCond.setColumn(0,"INNER_SANCTN_MDL_ID",this.parent.arg_1);var _f="hsco/com/sym/ism/SYM090200/sSanctnerRecentInfo.do";var _g="input1=ds_schCond";var _h="ds_sSanctnerRecentInfo=sSanctnerRecentInfo";break;}Ex.core.tran(this,_a,_f,_g,_h,_b,_c,_d,_e);};this.fn_callback=function(_a,_b,_c){if(_b!=0){this.gfn_callback_message(_a,_b,_c);}else{switch(_a){case "sSanctnerList":this.ds_sSanctnerList.clearData();this.ds_uSanctnerList.clearData();if(this.ds_sSanctnerDeptUserInfo.rowcount>0){this.ds_sSanctnerList.copyData(this.ds_sSanctnerDeptUserInfo);}if(this.parent.arg_2&&this.parent.arg_2.rowcount>0){this.ds_uSanctnerList.copyData(this.parent.arg_2);}else{if(this.ds_sSanctnerRecentInfo.rowcount>0){this.ds_uSanctnerList.copyData(this.ds_sSanctnerRecentInfo);}}break;case "sSanctnerUserInfo":this.ds_sSanctnerList.clearData();if(this.ds_sSanctnerUserInfo.rowcount>0){this.ds_sSanctnerList.copyData(this.ds_sSanctnerUserInfo);}break;case "sSanctnerRecentInfo":this.ds_uSanctnerList.clearData();if(this.ds_sSanctnerRecentInfo.rowcount>0){this.ds_uSanctnerList.copyData(this.ds_sSanctnerRecentInfo);}else{this.gfn_message("info.정보.없음","해당양식 최근결재선");}break;}}};this.btn_exit_onclick=function(_a,_b){this.close("");};this.btn_userInfoSearch_onclick=function(_a,_b){this.fn_transaction("sSanctnerUserInfo");};this.userInfoCond_onkeydown=function(_a,_b){if(_b.keycode==13){this.fn_transaction("sSanctnerUserInfo");}};this.CB_COND_onitemchanged=function(_a,_b){if(_a.index==0){this.userInfoCond.set_visible(false);this.btn_userInfoSearch.set_visible(false);this.ds_sSanctnerList.clearData();this.ds_sSanctnerList.copyData(this.ds_sSanctnerDeptUserInfo);}else{this.userInfoCond.set_visible(true);this.btn_userInfoSearch.set_visible(true);this.ds_sSanctnerList.clearData();this.ds_sSanctnerList.copyData(this.ds_sSanctnerUserInfo);}};this.btn_SanctnerRecentInfo_onclick=function(_a,_b){this.fn_transaction("sSanctnerRecentInfo");};this.div_work_grd_sSanctnerList_onheadclick=function(_a,_b){if(_b.col==0){this.gfn_setGridCheckAll(_a,_b);}};this.div_work_btnAddSanctner_onclick=function(_a,_b){var _c=this.gfn_getCheckData(this.div_work.grd_sSanctnerList,"CHK");var _d=this.ds_uSanctnerList.getMax("SANCTN_SN");if(!_d){_d=0;}var _e=_d;for(var _h=0;_h<_c.rowcount;_h++ ){var _f=false;if( -1==this.ds_uSanctnerList.findRow("EMPNO",_c.getColumn(_h,"EMPNO"))){var _g=this.ds_uSanctnerList.addRow();this.ds_uSanctnerList.setColumn(_g,"CHK","0");_e++ ;if(_e==1000){_e=999;}this.ds_uSanctnerList.setColumn(_g,"SANCTN_SN",_e);this.ds_uSanctnerList.setColumn(_g,"EMPNO",_c.getColumn(_h,"EMPNO"));this.ds_uSanctnerList.setColumn(_g,"EMPNM",_c.getColumn(_h,"EMPNM"));this.ds_uSanctnerList.setColumn(_g,"HR_CLSF_SE",_c.getColumn(_h,"HR_CLSF_SE"));this.ds_uSanctnerList.setColumn(_g,"RSPOFC_SE",_c.getColumn(_h,"RSPOFC_SE"));this.ds_uSanctnerList.setColumn(_g,"OFCPS_SE",_c.getColumn(_h,"OFCPS_SE"));this.ds_uSanctnerList.setColumn(_g,"SANCTN_STEP","S2");this.ds_uSanctnerList.setColumn(_g,"DEPT_CODE",_c.getColumn(_h,"DEPT_CODE"));}}};this.div_work_grd_uSanctnerList_onheadclick=function(_a,_b){if(_b.col==0){this.gfn_setGridCheckAll(_a,_b);}};this.div_work_btnSubtractSanctner_onclick=function(_a,_b){var _c=this.gfn_getCheckData(this.div_work.grd_uSanctnerList,"CHK");for(var _e=_c.rowcount-1;_e>=0;_e-- ){var _d=this.ds_uSanctnerList.findRow("EMPNO",_c.getColumn(_e,"EMPNO"));this.ds_uSanctnerList.deleteRow(_d);}};this.btn_Save_onclick=function(_a,_b){var _c=0;for(var _g=0;_g<this.ds_uSanctnerList.rowcount;_g++ ){var _d=this.ds_uSanctnerList.getColumn(_g,"SANCTN_SN");if(_d==""||_d=="0"){this.gfn_message("info.처리불가","결재순서에 0이상의 값을 입력하여 주십시오");return;}if("S2"==this.ds_uSanctnerList.getColumn(_g,"SANCTN_STEP")){_c++ ;}if(_c>5){this.gfn_message("info.처리불가","결재자는 5명을 초과할 수 없습니다.");return;}for(var _h=_g+1;_h<this.ds_uSanctnerList.rowcount;_h++ ){var _e=this.ds_uSanctnerList.getColumn(_h,"SANCTN_SN");if(Number(_d)==Number(_e)){this.gfn_message("info.처리불가","결재순서에 중복된 값이 존재합니다.");return;}}}if(_c==0){this.gfn_message("info.처리불가","결재자가 미등록 되었습니다.");return;}var _f=new Dataset();_f.copyData(this.ds_uSanctnerList);this.close(_f.saveXML());};});this.on_initEvent=function(){this.ds_schCond.addEventHandler("oncolumnchanged",this.ds_innerSanctnDtls_oncolumnchanged,this);this.addEventHandler("oninit",this.SYM090200_P90_oninit,this);this.addEventHandler("onload",this.SYM090200_P90_onload,this);this.btn_exit.addEventHandler("onclick",this.btn_exit_onclick,this);this.div_work.grd_uSanctnerList.addEventHandler("onheadclick",this.div_work_grd_uSanctnerList_onheadclick,this);this.div_work.grd_sSanctnerList.addEventHandler("onheadclick",this.div_work_grd_sSanctnerList_onheadclick,this);this.div_work.btnAddSanctner.addEventHandler("onclick",this.div_work_btnAddSanctner_onclick,this);this.div_work.btnSubtractSanctner.addEventHandler("onclick",this.div_work_btnSubtractSanctner_onclick,this);this.CB_COND.addEventHandler("onitemchanged",this.CB_COND_onitemchanged,this);this.btn_SanctnerRecentInfo.addEventHandler("onclick",this.btn_SanctnerRecentInfo_onclick,this);this.btn_userInfoSearch.addEventHandler("onclick",this.btn_userInfoSearch_onclick,this);this.userInfoCond.addEventHandler("onkeydown",this.userInfoCond_onkeydown,this);this.btn_Save.addEventHandler("onclick",this.btn_Save_onclick,this);};this.loadIncludeScript("SYM090200_P90.xfdl");};})();