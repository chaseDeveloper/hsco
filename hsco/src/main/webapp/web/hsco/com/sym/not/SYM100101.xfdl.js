(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("SYM100101");this.set_classname("Pattern_03");this.set_titletext("공지관리");this._setFormPosition(0,0,1059,735);}_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_noticeList</Col><Col id=\"colId\">SJ</Col><Col id=\"PK\">[Undefined]</Col><Col id=\"notNull\">Y</Col><Col id=\"type\">[Undefined]</Col><Col id=\"nlength\">[Undefined]</Col><Col id=\"from\">[Undefined]</Col><Col id=\"to\">[Undefined]</Col><Col id=\"lengthChkGb\">[Undefined]</Col><Col id=\"msgId\">공지제목</Col><Col id=\"expr\">[Undefined]</Col><Col id=\"func\">[Undefined]</Col></Row><Row><Col id=\"compId\">ds_noticeList</Col><Col id=\"colId\">CN</Col><Col id=\"PK\">[Undefined]</Col><Col id=\"notNull\">Y</Col><Col id=\"type\">[Undefined]</Col><Col id=\"nlength\">[Undefined]</Col><Col id=\"from\">[Undefined]</Col><Col id=\"to\">[Undefined]</Col><Col id=\"lengthChkGb\">[Undefined]</Col><Col id=\"msgId\">내용</Col><Col id=\"expr\">[Undefined]</Col><Col id=\"func\">[Undefined]</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_noticeList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"SN\" type=\"STRING\" size=\"256\"/><Column id=\"SJ\" type=\"STRING\" size=\"256\"/><Column id=\"CN\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/><Column id=\"NOTICE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"USER_NM\" type=\"STRING\" size=\"256\"/><Column id=\"REGIST_DE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"SJ\" type=\"STRING\" size=\"256\"/><Column id=\"CN\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows/>");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","595","407",null,"27","28",null,this);_a.set_taborder("114");_a.set_cssclass("sta_WF_Labelbg");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","0","0",null,"33","28",null,this);_a.set_taborder("0");_a.set_cssclass("div_WFSA_Box");this.addChild(_a.name,_a);_a=new Static("Static08","absolute","0","0","15","31",null,null,this.div_search);_a.set_taborder("11");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Static("Static04","absolute","244","5","38","21",null,null,this.div_search);_a.set_taborder("13");_a.set_text("내용");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("true");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_sj","absolute","79","5","150","21",null,null,this.div_search);_a.set_taborder("0");_a.set_readonly("false");_a.set_autoselect("true");this.div_search.addChild(_a.name,_a);_a=new Static("Static03","absolute","229","0","15","31",null,null,this.div_search);_a.set_taborder("21");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#00ffff66");this.div_search.addChild(_a.name,_a);_a=new Edit("edt_cn","absolute","282","5","200","21",null,null,this.div_search);_a.set_taborder("1");_a.set_readonly("false");_a.set_autoselect("true");this.div_search.addChild(_a.name,_a);_a=new Static("Static16","absolute","14","5","65","21",null,null,this.div_search);_a.set_taborder("32");_a.set_text("공지제목");_a.set_cssclass("sta_WFSA_Label");_a.set_visible("true");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute",null,"0","15","735","13",null,this);_a.set_taborder("56");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static13","absolute",null,"0","13","735","0",null,this);_a.set_taborder("57");_a.set_text("스\r\n크\r\n롤\r\n13");_a.set_visible("false");_a.style.set_background("#d07b173c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static04","absolute","0%","42",null,"21","87.63%",null,this);_a.set_taborder("59");_a.set_text("공지 목록");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Static("Static10","absolute","0","62",null,"5","28",null,this);_a.set_taborder("60");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static46","absolute","48.91%","67",null,"644","50.14%",null,this);_a.set_taborder("61");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static22","absolute",null,"42","159","21","372",null,this);_a.set_taborder("62");_a.set_text("상세정보");_a.set_cssclass("sta_WF_Title02");this.addChild(_a.name,_a);_a=new Static("Static07","absolute",null,"93","502","315","27",null,this);_a.set_taborder("68");_a.set_cssclass("sta_WF_Labelbg");this.addChild(_a.name,_a);_a=new Static("sta_cn","absolute",null,"93","101","315","430",null,this);_a.set_taborder("69");_a.set_text("내용");_a.set_cssclass("sta_WF_Label");this.addChild(_a.name,_a);_a=new TextArea("txa_cn","absolute",null,"96","398","309","30",null,this);_a.set_taborder("3");_a.set_scrollbars("none");_a.set_wordwrap("char");_a.set_lengthunit("utf8");_a.set_maxlength("1000");_a.set_cssclass("txt_WF_Essential");this.addChild(_a.name,_a);_a=new Static("Static00","absolute",null,"67","436","27","28",null,this);_a.set_taborder("78");_a.set_cssclass("sta_WF_Labelbg");this.addChild(_a.name,_a);_a=new Static("sta_sj","absolute",null,"67","101","27","430",null,this);_a.set_taborder("79");_a.set_text("공지제목");_a.set_cssclass("sta_WF_Label");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0%","33",null,"10","2.64%",null,this);_a.set_taborder("89");_a.set_text("10");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Edit("edt_sj","absolute",null,"70","398","21","30",null,this);_a.set_taborder("2");_a.set_maxlength("300");_a.set_lengthunit("utf8");_a.set_cssclass("edt_WF_Essential");this.addChild(_a.name,_a);_a=new Static("Static12","absolute",null,"433","502","27","27",null,this);_a.set_taborder("103");_a.set_cssclass("sta_WF_Labelbg");this.addChild(_a.name,_a);_a=new Edit("edt_register","absolute",null,"436","145","21","283",null,this);_a.set_taborder("5");_a.set_readonly("true");_a.set_cssclass("edt_WF_Readonly");this.addChild(_a.name,_a);_a=new Calendar("cal_registDe","absolute",null,"436","128","21","50",null,this);this.addChild(_a.name,_a);_a.set_taborder("6");_a.set_readonly("true");_a.set_dateformat("yyyy-MM-dd");_a.set_cssclass("cal_WF_Readonly");_a=new Static("sta_register","absolute",null,"433","101","27","430",null,this);_a.set_taborder("106");_a.set_text("작성자");_a.set_cssclass("sta_WF_Label");this.addChild(_a.name,_a);_a=new Static("sta_registDe","absolute",null,"433","101","27","180",null,this);_a.set_taborder("107");_a.set_text("등록일자");_a.set_cssclass("sta_WF_Label");this.addChild(_a.name,_a);_a=new Static("Static02","absolute",null,"459","502","27","28",null,this);_a.set_taborder("108");_a.set_cssclass("sta_WF_Labelbg");this.addChild(_a.name,_a);_a=new CheckBox("chk_noticeAt","absolute",null,"461","17","23","410",null,this);_a.set_taborder("7");_a.set_value("0");_a.set_truevalue("1");_a.set_falsevalue("0");this.addChild(_a.name,_a);_a=new Static("sta_noticeAt","absolute",null,"459","101","27","430",null,this);_a.set_taborder("110");_a.set_text("공지여부");_a.set_cssclass("sta_WF_Label");this.addChild(_a.name,_a);_a=new Grid("grd_noticeList","absolute","0","67",null,null,"540","0",this);_a.set_taborder("1");_a.set_autofittype("col");_a.set_cellsizingtype("col");_a.set_binddataset("ds_noticeList");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"300\"/><Column size=\"60\"/><Column size=\"100\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"순번\"/><Cell col=\"1\" text=\"공지제목\"/><Cell col=\"2\" text=\"공지여부\"/><Cell col=\"3\" text=\"등록일자\"/><Cell col=\"4\" text=\"작성자\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" style=\"align:left;\" text=\"bind:SJ\"/><Cell col=\"2\" displaytype=\"checkbox\" text=\"bind:NOTICE_AT\"/><Cell col=\"3\" displaytype=\"date\" text=\"bind:REGIST_DE\"/><Cell col=\"4\" text=\"bind:USER_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Edit("edt_rm","absolute",null,"410","398","21","30",null,this);_a.set_taborder("4");_a.set_lengthunit("utf8");_a.set_maxlength("300");this.addChild(_a.name,_a);_a=new Static("sta_rm","absolute",null,"407","101","27","430",null,this);_a.set_taborder("112");_a.set_text("비고");_a.set_cssclass("sta_WF_Label");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("0");_b.set_cssclass("div_WFSA_Box");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1059,735,this,function(_b){_b.set_classname("Pattern_03");_b.set_titletext("공지관리");});this.addLayout(_a.name,_a);_a=new BindItem("item23","cal_registDe","value","ds_noticeList","REGIST_DE");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item22","edt_register","value","ds_noticeList","USER_NM");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item6","div_search.edt_sj","value","ds_cond","SJ");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item11","div_search.edt_cn","value","ds_cond","CN");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item15","edt_sj","value","ds_noticeList","SJ");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item18","txa_cn","value","ds_noticeList","CN");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item0","chk_noticeAt","value","ds_noticeList","NOTICE_AT");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","edt_rm","value","ds_noticeList","RM");this.addChild(_a.name,_a);_a.bind();_a=null;};this.addIncludeScript("SYM100101.xfdl","mis_lib::misUtil.xjs");this.addIncludeScript("SYM100101.xfdl","lib::comInclude.xjs");this.registerScript("SYM100101.xfdl",function(){this.saveRow= -1;this.SYM100101_oninit=function(_a,_b){};this.SYM100101_onload=function(_a,_b){this.fn_init_form();this.fn_init_dataset();this.ds_cond.clearData();this.ds_cond.addRow();this.ds_cond.setColumn(0,"SJ","");this.ds_cond.setColumn(0,"CN","");this.fn_search();};this.fn_init_form=function(){this.gfn_initForm(this);this.fn_misFormInit(this);};this.fn_init_dataset=function(){this.gfn_initCondDs(this,this.div_search);};this.fn_search=function(){if(Ex.util.isUpdated(this.ds_noticeList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond,this.ds_validation)){return;}this.fn_transaction("selectNoticeList");};this.fn_insert=function(){var _a=this.ds_noticeList.addRow();this.ds_noticeList.setColumn(_a,"USER_NM",this.fn_getEmpnm());this.ds_noticeList.setColumn(_a,"REGIST_DE",this.dateUtils.format(this.gfn_today(),"yyyymmdd"));};this.fn_save=function(){if(!this.comUtils.isDatasetUpdated(this.ds_noticeList)){this.gfn_message("comm.데이터.변경.없음");return false;}if(!this.gfn_checkValidation_NoUpdChk(this.ds_noticeList,this.ds_validation)){return;}if(this.gfn_message("confirm.저장.여부")){this.saveRow=this.ds_noticeList.rowposition;this.fn_transaction("noticeCUD");}};this.fn_delete=function(){if(this.ds_noticeList.rowcount>0){var _a=this.ds_noticeList.rowposition;var _b=this.ds_noticeList.getColumn(_a,"NOTICE_AT");if(_b=="1"){this.gfn_message("info.처리불가","공지로 등록된 건은 삭제할 수 없습니다. 공지여부를 해제 후 다시 진행해주십시오.");return false;}if(this.gfn_message("confirm.삭제여부")){var _c=this.ds_noticeList.rowposition;this.ds_noticeList.deleteRow(_c);}}};this.fn_cancel=function(){if(Ex.util.isUpdated(this.ds_noticeList)){if(!this.gfn_message("confirm.변경.취소.여부")){return false;}}if(this.gfn_message("confirm.취소여부")){this.ds_noticeList.reset();this.ds_noticeList.applyChange();}};this.fn_transaction=function(_a){switch(_a){case "selectNoticeList":var _b="hsco/com/sym/not/SYM100101/selectNoticeList.do";var _c="input1=ds_cond";var _d="ds_noticeList=output1";break;case "noticeCUD":var _b="hsco/com/sym/not/SYM100101/noticeCUD.do";var _c="input1=ds_noticeList:U";var _d="";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_b!='0'){this.gfn_callback_message(_a,_b,_c);}if(_b=='0'){switch(_a){case "selectNoticeList":if(this.saveRow> -1){this.ds_noticeList.set_rowposition(this.saveRow);this.saveRow= -1;}break;case "noticeCUD":this.fn_search();break;}}};this.ds_noticeList_cancolumnchange=function(_a,_b){if(_b.columnid=="NOTICE_AT"){var _c=_b.newvalue;var _d=this.ds_noticeList.getCaseCount("NOTICE_AT == '1'");if(_c=='1'){if(_d>0){this.gfn_message("info.처리불가","이미 활성화 된 공지가 존재합니다.");return false;}}}};});this.on_initEvent=function(){this.ds_noticeList.addEventHandler("cancolumnchange",this.ds_noticeList_cancolumnchange,this);this.addEventHandler("onload",this.SYM100101_onload,this);this.div_search.Static04.addEventHandler("onclick",this.div_search_Static04_onclick,this);this.div_search.edt_sj.addEventHandler("onkeyup",this.div_search_edt_onkeyup,this);this.div_search.edt_cn.addEventHandler("onkeyup",this.div_search_edt_onkeyup,this);};this.loadIncludeScript("SYM100101.xfdl");};})();