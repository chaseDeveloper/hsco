(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("deptCode");this.set_classname("deptCode");this.set_titletext("부서검색");this._setFormPosition(0,0,195,21);}_a=new Dataset("ds_searchDept",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"256\"/><Column id=\"FORM_ID\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_deptCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"DEPT_NM\" type=\"STRING\" size=\"50\"/><Column id=\"DEPT_SE\" type=\"STRING\" size=\"3\"/><Column id=\"DEPT_LEVEL\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"UPPER_DEPT_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"BEFORE_DEPT_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"BPLC_SE\" type=\"STRING\" size=\"3\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"1\"/><Column id=\"USE_BGNDE\" type=\"STRING\" size=\"8\"/><Column id=\"USE_ENDDE\" type=\"STRING\" size=\"8\"/><Column id=\"OUTPT_ORDR\" type=\"BIGDECIMAL\" size=\"22\"/><Column id=\"RM\" type=\"STRING\" size=\"200\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"DATE\" size=\"7\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"DATE\" size=\"7\"/><Column id=\"LAST_AT\" type=\"STRING\" size=\"1\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("div_Search","absolute","0","0",null,null,"0","0",this);_a.set_taborder("3");_a.set_text("Div00");this.addChild(_a.name,_a);_a=new Edit("edt_deptCode","absolute","0","0","76",null,null,"0",this.div_Search);_a.set_taborder("0");_a.set_maxlength("6");this.div_Search.addChild(_a.name,_a);_a=new Button("btn_dept","absolute","54","0","22",null,null,"0",this.div_Search);_a.set_taborder("1");_a.set_cssclass("btn_WF_Search");this.div_Search.addChild(_a.name,_a);_a=new Edit("edt_deptNm","absolute","78","0",null,null,"0","0",this.div_Search);_a.set_taborder("2");this.div_Search.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.div_Search,function(_b){_b.set_taborder("3");_b.set_text("Div00");});this.div_Search.addLayout(_a.name,_a);_a=new Layout("default","",195,21,this,function(_b){_b.set_classname("deptCode");_b.set_titletext("부서검색");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("deptCode.xfdl","lib::comInclude.xjs");this.registerScript("deptCode.xfdl",function(){this.bSearchPopup=true;this.onlySelectLast=false;this.authorCtrlAt=null;this.parentFormId=null;this.deptCode_oninit=function(_a,_b){this.fn_init_form();this.fn_init_dataset();};this.deptCode_onload=function(_a,_b){};this.fn_init_form=function(){this.gfn_initForm(this);this.ds_searchDept.clearData();this.ds_searchDept.addRow();};this.fn_init_dataset=function(){};this.fn_searchDeptCode=function(){this.ds_deptCode.clearData();this.fn_transaction("selectDeptCode");};this.fn_transaction=function(_a){switch(_a){case "selectDeptCode":var _b="hsco/com/sym/cdm/deptCode/selectDeptCode.do";var _c="input1=ds_searchDept";var _d="ds_deptCode=output1";break;}Ex.core.tran(this,_a,_b,_c,_d);};this.fn_callBack=function(_a,_b,_c){if(_c){this.gfn_callback_message(_a,_b,_c);}if(_b==0){switch(_a){case "selectDeptCode":if(this.ds_deptCode.getRowCount()==1){var _d=this.ds_deptCode.getColumn(0,"DEPT_CODE");var _e=this.ds_deptCode.getColumn(0,"DEPT_NM");this.div_Search.edt_deptCode.set_value(_d);this.div_Search.edt_deptNm.set_value(_e);}else if(this.ds_deptCode.getRowCount()>1){this.ds_deptCode.clearData();this.ds_deptCode.addRow();if(this.bSearchPopup){this.div_Search_btn_dept_onclick();}}break;}}this.bSearchPopup=true;};this.fn_popupCallBack=function(_a,_b){if(_a=="deptPop"){this.ds_deptCode.clearData();nRowCnt=this.ds_deptCode.loadXML(_b);if(nRowCnt){this.div_Search.edt_deptCode.set_value(this.ds_deptCode.getColumn(0,"DEPT_CODE"));this.div_Search.edt_deptNm.set_value(this.ds_deptCode.getColumn(0,"DEPT_NM"));}}};this.edit_onkeydown=function(_a,_b){if(_b.keycode=='13'){if(this.comUtils.isNull(_a.value)){this.div_Search.edt_deptCode.set_value("");this.div_Search.edt_deptNm.set_value("");this.ds_searchDept.setColumn(0,"DEPT_CODE","");this.ds_searchDept.setColumn(0,"DEPT_NM","");this.bSearchPopup=false;}else if(_a.name=='edt_deptCode'){this.ds_searchDept.setColumn(0,"DEPT_CODE",_a.value);}else if(_a.name=='edt_deptNm'){this.ds_searchDept.setColumn(0,"DEPT_NM",_a.value);}this.fn_searchDeptCode();}};this.edit_onchanged=function(_a,_b){if(this.comUtils.isNull(_b.postvalue)){this.div_Search.edt_deptCode.set_value("");this.div_Search.edt_deptNm.set_value("");this.ds_searchDept.setColumn(0,"DEPT_CODE","");this.ds_searchDept.setColumn(0,"DEPT_NM","");this.bSearchPopup=false;this.fn_searchDeptCode();}};this.div_Search_btn_dept_onclick=function(_a,_b){var _c=!_a?this.div_Search.edt_deptCode.value:'';var _d=!_a?this.div_Search.edt_deptNm.value:'';var _e={arg_0:this,deptCode:_c,deptNm:_d,onlySelectLast:this.onlySelectLast,authorCtrlAt:this.authorCtrlAt,parentFormId:this.parentFormId};this.gfn_popup("deptPop",400,400,"부서선택",_e,"com::deptCode_P01.xfdl","fn_popupCallBack",true);};this.GetValue=function(_a){return this.ds_deptCode.getColumn(0,_a);};this.SetDeptCode=function(_a){this.ds_deptCode.clearData();var _b=this.ds_deptCode.addRow();this.ds_deptCode.setColumn(_b,"DEPT_CODE",_a);};this.fn_setBind=function(_a,_b,_c){var _d=new BindItem();_d.init("COM_DEPT_CODE_EDT01","div_Search.edt_deptCode","value",_a,_b);this.addChild("COM_DEPT_CODE_EDT01",_d);this.COM_DEPT_CODE_EDT01.bind();var _e=new BindItem();_e.init("COM_DEPT_NM_EDT01","div_Search.edt_deptNm","value",_a,_c);this.addChild("COM_DEPT_NM_EDT01",_e);this.COM_DEPT_NM_EDT01.bind();};this.fn_setReadonly=function(_a){this.div_Search.edt_deptCode.set_readonly(_a);this.div_Search.edt_deptNm.set_readonly(_a);this.div_Search.btn_dept.set_enable(!_a);if(_a){this.div_Search.edt_deptCode.set_cssclass("edt_WF_Readonly");this.div_Search.edt_deptNm.set_cssclass("edt_WF_Readonly");}else{this.div_Search.edt_deptCode.set_cssclass("");this.div_Search.edt_deptNm.set_cssclass("");}};this.fn_setCssclass=function(_a){this.div_Search.edt_deptCode.set_cssclass(_a);this.div_Search.edt_deptNm.set_cssclass(_a);switch(_a){case "edt_WF_Readonly":this.div_Search.edt_deptCode.set_readonly(true);this.div_Search.edt_deptNm.set_readonly(true);this.div_Search.btn_dept.set_visible(false);break;}};this.fn_set_enable=function(_a){this.div_Search.btn_dept.set_enable(_a);this.div_Search.edt_deptCode.set_enable(_a);this.div_Search.edt_deptNm.set_enable(_a);};this.fn_set_onlyLast=function(_a){this.onlySelectLast=_a;};});this.on_initEvent=function(){this.addEventHandler("onload",this.deptCode_onload,this);this.addEventHandler("oninit",this.deptCode_oninit,this);this.div_Search.edt_deptCode.addEventHandler("onkeydown",this.edit_onkeydown,this);this.div_Search.edt_deptCode.addEventHandler("onchanged",this.edit_onchanged,this);this.div_Search.btn_dept.addEventHandler("onclick",this.div_Search_btn_dept_onclick,this);this.div_Search.edt_deptNm.addEventHandler("onkeyup",this.edit_onkeyup,this);this.div_Search.edt_deptNm.addEventHandler("onkeydown",this.edit_onkeydown,this);this.div_Search.edt_deptNm.addEventHandler("onchanged",this.edit_onchanged,this);};this.loadIncludeScript("deptCode.xfdl");};})();