(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("COM010700_P01");this.set_classname("SAL010108_P01");this.set_titletext("SMS발신관리");this._setFormPosition(0,0,1050,600);}_a=new Dataset("ds_cond",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_mssageManage",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"SYS_SE_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"MSSAGE_ID\" type=\"STRING\" size=\"256\"/><Column id=\"MSSAGE_SE\" type=\"STRING\" size=\"256\"/><Column id=\"MSSAGE_CN\" type=\"STRING\" size=\"256\"/><Column id=\"MXTR_WRD0\" type=\"STRING\" size=\"256\"/><Column id=\"MXTR_WRD1\" type=\"STRING\" size=\"256\"/><Column id=\"MXTR_WRD2\" type=\"STRING\" size=\"256\"/><Column id=\"MXTR_WRD3\" type=\"STRING\" size=\"256\"/><Column id=\"MXTR_WRD4\" type=\"STRING\" size=\"256\"/><Column id=\"RESVE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"RESVE_HM\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_CLOS_HM\" type=\"STRING\" size=\"256\"/><Column id=\"RM\" type=\"STRING\" size=\"256\"/><Column id=\"USE_AT\" type=\"STRING\" size=\"256\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"256\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"256\"/><Column id=\"TYPE\" type=\"STRING\" size=\"1\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_cond00",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"APPLC_DE\" type=\"STRING\" size=\"256\"/><Column id=\"APPLC_DE2\" type=\"STRING\" size=\"256\"/><Column id=\"EMPNO\" type=\"STRING\" size=\"256\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"SCH_TYPE\" type=\"STRING\" size=\"256\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"256\"/><Column id=\"RECPTN_TELNO\" type=\"STRING\" size=\"256\"/><Column id=\"RCVER_NM\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_SVC_TY\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_CN\" type=\"STRING\" size=\"256\"/><Column id=\"RSLT_CD\" type=\"STRING\" size=\"256\"/><Column id=\"STS\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_validation",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"compId\" type=\"STRING\" size=\"256\"/><Column id=\"colId\" type=\"STRING\" size=\"256\"/><Column id=\"PK\" type=\"STRING\" size=\"256\"/><Column id=\"notNull\" type=\"STRING\" size=\"256\"/><Column id=\"type\" type=\"STRING\" size=\"256\"/><Column id=\"nlength\" type=\"STRING\" size=\"256\"/><Column id=\"from\" type=\"STRING\" size=\"256\"/><Column id=\"to\" type=\"STRING\" size=\"256\"/><Column id=\"lengthChkGb\" type=\"STRING\" size=\"256\"/><Column id=\"msgId\" type=\"STRING\" size=\"256\"/><Column id=\"expr\" type=\"STRING\" size=\"256\"/><Column id=\"func\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"compId\">ds_smsClient</Col><Col id=\"PK\">Y</Col><Col id=\"colId\">RECIPIENT_NUM</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">수신번호</Col></Row><Row><Col id=\"compId\">ds_smsTran</Col><Col id=\"colId\">CONTENT</Col><Col id=\"msgId\">전송 메시지</Col><Col id=\"notNull\">Y</Col></Row><Row><Col id=\"compId\">ds_smsTran</Col><Col id=\"colId\">CALLBACK</Col><Col id=\"notNull\">Y</Col><Col id=\"msgId\">발신번호</Col></Row><Row><Col id=\"compId\">ds_cond00</Col><Col id=\"colId\">APPLC_DE</Col><Col id=\"to\">APPLC_DE2</Col><Col id=\"msgId\">발송일자</Col></Row><Row><Col id=\"compId\">ds_cond00</Col><Col id=\"colId\">DEPT_CODE</Col><Col id=\"msgId\">부서명</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsLog",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_SVC_TY\" type=\"STRING\" size=\"256\"/><Column id=\"RECPTN_TELNO\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_RESVE_DT\" type=\"STRING\" size=\"256\"/><Column id=\"MSSAGE_TY\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_CN\" type=\"STRING\" size=\"256\"/><Column id=\"RCVER_NM\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_PREPAR_VALUE_0\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_PREPAR_VALUE_1\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_PREPAR_VALUE_2\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_PREPAR_VALUE_3\" type=\"STRING\" size=\"256\"/><Column id=\"CHRCTR_PREPAR_VALUE_4\" type=\"STRING\" size=\"256\"/><Column id=\"SEND_DATE\" type=\"STRING\" size=\"256\"/><Column id=\"STS\" type=\"STRING\" size=\"256\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"256\"/><Column id=\"RLST_CD\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_import",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"Column0\" type=\"STRING\" size=\"256\"/><Column id=\"Column1\" type=\"STRING\" size=\"256\"/><Column id=\"Column2\" type=\"STRING\" size=\"256\"/><Column id=\"Column3\" type=\"STRING\" size=\"256\"/><Column id=\"Column4\" type=\"STRING\" size=\"256\"/><Column id=\"Column5\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_schCode",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"NAME\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE\">1</Col><Col id=\"NAME\">내용</Col></Row><Row><Col id=\"CODE\">3</Col><Col id=\"NAME\">수신번호</Col></Row><Row><Col id=\"CODE\">5</Col><Col id=\"NAME\">수신자</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsStatus",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"code\" type=\"STRING\" size=\"256\"/><Column id=\"name\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"code\">1</Col><Col id=\"name\">전송대기</Col></Row><Row><Col id=\"code\">2</Col><Col id=\"name\">결과대기</Col></Row><Row><Col id=\"code\">3</Col><Col id=\"name\">완료</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_rentHouseSmsSendList",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"JOB_SE\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_CODE\" type=\"STRING\" size=\"256\"/><Column id=\"HOUSE_NM\" type=\"STRING\" size=\"256\"/><Column id=\"DONG\" type=\"STRING\" size=\"256\"/><Column id=\"HO\" type=\"STRING\" size=\"256\"/><Column id=\"LOT_TY\" type=\"STRING\" size=\"256\"/><Column id=\"CNTRCTR_NO\" type=\"STRING\" size=\"256\"/><Column id=\"NM\" type=\"STRING\" size=\"256\"/><Column id=\"MBTLNO\" type=\"STRING\" size=\"256\"/><Column id=\"GUIDANCE_TY\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_DT\" type=\"STRING\" size=\"256\"/><Column id=\"SNDNG_DTLS\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_smsMsgMng",this);_a._setContents("<ColumnInfo><Column id=\"CHANGE_WORD0\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_WORD1\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_WORD2\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_WORD3\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_WORD4\" type=\"STRING\" size=\"256\"/><Column id=\"CHANGE_CNT\" type=\"STRING\" size=\"256\"/><Column id=\"CONTENT_TRANS\" type=\"STRING\" size=\"256\"/><Column id=\"CONTENT_ORIGIN\" type=\"STRING\" size=\"256\"/><Column id=\"BROAD_MSSAGE_ID\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CHANGE_WORD0\">① 조합단어</Col><Col id=\"CHANGE_WORD1\">② 조합단어</Col><Col id=\"CHANGE_WORD2\">③ 조합단어</Col><Col id=\"CHANGE_WORD3\">④ 조합단어</Col><Col id=\"CHANGE_WORD4\">⑤ 조합단어</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_ums_sndng_dtls",this);_a._setContents("<ColumnInfo><Column id=\"SNDNG_ID\" type=\"STRING\" size=\"11\"/><Column id=\"SNDNG_SVC_TY\" type=\"STRING\" size=\"1\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"RECPTN_TELNO\" type=\"STRING\" size=\"12\"/><Column id=\"SNDNG_TELNO\" type=\"STRING\" size=\"12\"/><Column id=\"SNDNG_RESVE_DT\" type=\"STRING\" size=\"16\"/><Column id=\"MSSAGE_TY\" type=\"STRING\" size=\"2\"/><Column id=\"MMS_SJ\" type=\"STRING\" size=\"120\"/><Column id=\"SNDNG_CN\" type=\"STRING\" size=\"4000\"/><Column id=\"SNDNG_SESION_ID\" type=\"STRING\" size=\"20\"/><Column id=\"UMS_SENDER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"RCVER_NM\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD1\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD2\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD3\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD4\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD5\" type=\"STRING\" size=\"30\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"20\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"16\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"16\"/><Column id=\"RESERVE_SNDNG_AT\" type=\"STRING\" size=\"1\"/><Column id=\"CHRCTR_PREPAR_VALUE_0\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_1\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_2\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_3\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_4\" type=\"STRING\" size=\"100\"/><Column id=\"BROAD_MSSAGE_ID\" type=\"STRING\" size=\"10\"/><Column id=\"CHK\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_ums_sndng_dtls_target",this);_a._setContents("<ColumnInfo><Column id=\"SNDNG_ID\" type=\"STRING\" size=\"11\"/><Column id=\"SNDNG_SVC_TY\" type=\"STRING\" size=\"1\"/><Column id=\"DEPT_CODE\" type=\"STRING\" size=\"6\"/><Column id=\"RECPTN_TELNO\" type=\"STRING\" size=\"12\"/><Column id=\"SNDNG_TELNO\" type=\"STRING\" size=\"12\"/><Column id=\"SNDNG_RESVE_DT\" type=\"STRING\" size=\"16\"/><Column id=\"MSSAGE_TY\" type=\"STRING\" size=\"2\"/><Column id=\"MMS_SJ\" type=\"STRING\" size=\"120\"/><Column id=\"SNDNG_CN\" type=\"STRING\" size=\"4000\"/><Column id=\"SNDNG_SESION_ID\" type=\"STRING\" size=\"20\"/><Column id=\"UMS_SENDER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"RCVER_NM\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD1\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD2\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD3\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD4\" type=\"STRING\" size=\"30\"/><Column id=\"CHANGE_WRD5\" type=\"STRING\" size=\"30\"/><Column id=\"FILE_SN\" type=\"STRING\" size=\"20\"/><Column id=\"REGISTER_ID\" type=\"STRING\" size=\"12\"/><Column id=\"REGIST_DT\" type=\"STRING\" size=\"16\"/><Column id=\"UPDUSR_ID\" type=\"STRING\" size=\"12\"/><Column id=\"UPDT_DT\" type=\"STRING\" size=\"16\"/><Column id=\"RESERVE_SNDNG_AT\" type=\"STRING\" size=\"1\"/><Column id=\"CHRCTR_PREPAR_VALUE_0\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_1\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_2\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_3\" type=\"STRING\" size=\"100\"/><Column id=\"CHRCTR_PREPAR_VALUE_4\" type=\"STRING\" size=\"100\"/><Column id=\"BROAD_MSSAGE_ID\" type=\"STRING\" size=\"10\"/><Column id=\"CHK\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Grid("grd_smsLog","absolute","15","356",null,null,"15","16",this);_a.set_taborder("2");_a.set_binddataset("ds_smsLog");_a.set_autofittype("none");_a.set_cellsizingtype("col");_a.set_autosizingtype("row");_a.set_scrollbars("autoboth");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"35\"/><Column size=\"130\"/><Column size=\"65\"/><Column size=\"105\"/><Column size=\"632\"/><Column size=\"130\"/><Column size=\"74\"/><Column size=\"88\"/><Column size=\"60\"/><Column size=\"60\"/><Column size=\"60\"/><Column size=\"60\"/><Column size=\"60\"/><Column size=\"60\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"번호\"/><Cell col=\"1\" text=\"발송일시\"/><Cell col=\"2\" text=\"발송상태\"/><Cell col=\"3\" text=\"수신자번호\"/><Cell col=\"4\" text=\"메시지내용\"/><Cell col=\"5\" text=\"수신일시\"/><Cell col=\"6\" text=\"수신자\"/><Cell col=\"7\" text=\"수신결과\"/><Cell col=\"8\" text=\"문자종류\"/><Cell col=\"9\" text=\"비고1\"/><Cell col=\"10\" text=\"비고2\"/><Cell col=\"11\" text=\"비고3\"/><Cell col=\"12\" text=\"비고4\"/><Cell col=\"13\" text=\"비고5\"/></Band><Band id=\"body\"><Cell celltype=\"head\" displaytype=\"number\" text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:SNDNG_RESVE_DT\" mask=\"####-##-## ##:##:##\"/><Cell col=\"2\" displaytype=\"normal\" edittype=\"none\" style=\"align:left middle;\" text=\"bind:RLST_CD\"/><Cell col=\"3\" text=\"bind:RECPTN_TELNO\"/><Cell col=\"4\" style=\"align:left middle;\" text=\"bind:SNDNG_CN\" wordwrap=\"char\"/><Cell col=\"5\" text=\"bind:SEND_DATE\" mask=\"####-##-## ##:##:##\"/><Cell col=\"6\" style=\"align:left middle;\" text=\"bind:RCVER_NM\"/><Cell col=\"7\" style=\"align:left middle;\" text=\"bind:STS\"/><Cell col=\"8\" displaytype=\"normal\" edittype=\"none\" text=\"bind:SNDNG_SVC_TY\"/><Cell col=\"9\" style=\"align:left middle;\" text=\"bind:CHRCTR_PREPAR_VALUE_0\"/><Cell col=\"10\" style=\"align:left middle;\" text=\"bind:CHRCTR_PREPAR_VALUE_1\"/><Cell col=\"11\" style=\"align:left middle;\" text=\"bind:CHRCTR_PREPAR_VALUE_2\"/><Cell col=\"12\" style=\"align:left middle;\" text=\"bind:CHRCTR_PREPAR_VALUE_3\"/><Cell col=\"13\" style=\"align:left middle;\" text=\"bind:CHRCTR_PREPAR_VALUE_4\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static05","absolute","0","0","15",null,null,"0",this);_a.set_taborder("4");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static02","absolute",null,"0","15",null,"0","0",this);_a.set_taborder("5");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#1b3cd23c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Div("div_search","absolute","15","298",null,"33","15",null,this);_a.set_taborder("8");_a.set_cssclass("div_WFSA_Box");_a.set_scrollbars("none");this.addChild(_a.name,_a);_a=new Static("Static17","absolute","6","5","67","21",null,null,this.div_search);_a.set_taborder("4");_a.set_text("발송일자");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","325","6","70","21",null,null,this.div_search);_a.set_taborder("5");_a.set_text("조회조건");_a.set_cssclass("sta_WFSA_Label");this.div_search.addChild(_a.name,_a);_a=new Combo("cmb_dept_se","absolute","387","5","100","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("0");_a.style.set_font("10 Gulim");_a.set_displayrowcount("-1");_a.set_codecolumn("CODE");_a.set_datacolumn("NAME");_a.set_innerdataset("@ds_schCode");_a.set_autoselect("false");_a.set_readonly("false");_a.set_value("1");_a.set_text("내용");_a.set_index("0");_a=new Calendar("cal_date1","absolute","70","5","110","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("6");_a.set_dateformat("yyyy-MM-dd");_a=new Static("Static04","absolute","180","5","19","21",null,null,this.div_search);_a.set_taborder("7");_a.set_text("~");_a.style.set_align("center middle");this.div_search.addChild(_a.name,_a);_a=new Calendar("cal_date2","absolute","198","5","110","21",null,null,this.div_search);this.div_search.addChild(_a.name,_a);_a.set_taborder("8");_a.set_dateformat("yyyy-MM-dd");_a=new Edit("sch_txt","absolute","48.43%","5",null,"21","31.24%",null,this.div_search);_a.set_taborder("9");this.div_search.addChild(_a.name,_a);_a=new Div("div_search","absolute","23","303",null,"33","8",null,this.div_search);_a.set_taborder("10");_a.set_cssclass("div_WFSA_Box");this.div_search.addChild(_a.name,_a);_a=new Static("Static17","absolute","6","5","67","21",null,null,this.div_search.div_search);_a.set_taborder("10");_a.set_text("발송일자");_a.set_cssclass("sta_WFSA_Label");this.div_search.div_search.addChild(_a.name,_a);_a=new Static("Static01","absolute","320","5","70","21",null,null,this.div_search.div_search);_a.set_taborder("11");_a.set_text("조회조건");_a.set_cssclass("sta_WFSA_Label");this.div_search.div_search.addChild(_a.name,_a);_a=new Combo("cmb_dept_se","absolute","382","5","100","21",null,null,this.div_search.div_search);this.div_search.div_search.addChild(_a.name,_a);_a.set_taborder("12");_a.set_value("1");_a.set_text("내용");_a.set_innerdataset("@ds_schCode");_a.set_codecolumn("CODE");_a.set_datacolumn("NAME");_a.style.set_font("10 Gulim");_a.set_index("0");_a=new Calendar("cal_date1","absolute","70","5","110","21",null,null,this.div_search.div_search);this.div_search.div_search.addChild(_a.name,_a);_a.set_taborder("13");_a.set_dateformat("yyyy-MM-dd");_a=new Static("Static04","absolute","182","5","19","21",null,null,this.div_search.div_search);_a.set_taborder("14");_a.set_text("~");_a.style.set_align("center middle");this.div_search.div_search.addChild(_a.name,_a);_a=new Calendar("cal_date2","absolute","201","5","110","21",null,null,this.div_search.div_search);this.div_search.div_search.addChild(_a.name,_a);_a.set_taborder("15");_a.set_dateformat("yyyy-MM-dd");_a=new Edit("sch_txt","absolute","49.95%","5",null,"21","29.58%",null,this.div_search.div_search);_a.set_taborder("16");this.div_search.div_search.addChild(_a.name,_a);_a=new Static("Static08","absolute","1","585",null,"15","1",null,this);_a.set_taborder("9");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static12","absolute","15","40",null,"5","15",null,this);_a.set_taborder("10");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static11","absolute","15","70","178","204",null,null,this);_a.set_taborder("28");_a.set_cssclass("sta_WF_Labelbg");this.addChild(_a.name,_a);_a=new Static("sta_chk_size","absolute","114","73","42","21",null,null,this);_a.set_taborder("26");_a.set_text("0");_a.style.set_align("right middle");this.addChild(_a.name,_a);_a=new TextArea("txarea_con","absolute","22","96","164","149",null,null,this);_a.set_taborder("29");_a.set_scrollbars("autovert");_a.set_imemode("hangul");_a.set_lengthunit("ascii");_a.set_maxlength("2000");_a.style.set_bordertype("round 5 5");_a.set_wordwrap("char");_a.set_enable("false");_a.set_readonly("true");_a.set_cssclass("txt_WF_Readonly");this.addChild(_a.name,_a);_a=new Static("Static13","absolute","24","248","54","23",null,null,this);_a.set_taborder("31");_a.set_text("발신번호");this.addChild(_a.name,_a);_a=new Edit("edt_telno","absolute","79","248","107","21",null,null,this);_a.set_taborder("32");_a.set_readonly("true");_a.set_value("");_a.set_cssclass("edt_WF_Readonly");_a.set_enable("true");this.addChild(_a.name,_a);_a=new Static("sta_title00","absolute","200","45","95","21",null,null,this);_a.set_taborder("33");_a.set_text("수신자 목록");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Static("sta_title01","absolute","15","334","179","21",null,null,this);_a.set_taborder("34");_a.set_text("발송 목록");_a.set_cssclass("sta_WF_Title02");_a.style.set_font("bold 10 Gulim");this.addChild(_a.name,_a);_a=new Grid("grd_smsClient","absolute","200","70",null,"180","15",null,this);_a.set_taborder("35");_a.set_binddataset("ds_ums_sndng_dtls");_a.set_autofittype("col");_a.set_autoenter("select");_a.set_autosizingtype("row");_a.set_cellsizingtype("none");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"40\"/><Column size=\"56\"/><Column size=\"115\"/><Column size=\"80\"/><Column size=\"570\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" text=\"순번\"/><Cell col=\"2\" text=\"수신자번호\"/><Cell col=\"3\" text=\"수신자\"/><Cell col=\"4\" text=\"메시지내용\"/></Band><Band id=\"body\"><Cell celltype=\"head\" displaytype=\"checkbox\" edittype=\"checkbox\" text=\"bind:CHK\"/><Cell col=\"1\" celltype=\"head\" edittype=\"none\" editfilter=\"number\" text=\"expr:currow+1\" editlimit=\"11\" editdisplay=\"edit\" editlimitbymask=\"both\" editlengthunit=\"utf8\" expandshow=\"hide\"/><Cell col=\"2\" edittype=\"normal\" editfilter=\"number\" text=\"bind:RECPTN_TELNO\" editlimit=\"12\" editdisplay=\"display\" editlengthunit=\"utf8\" expandshow=\"show\"/><Cell col=\"3\" edittype=\"normal\" text=\"bind:RCVER_NM\" editlimit=\"20\" editdisplay=\"display\"/><Cell col=\"4\" celltype=\"none\" style=\"align:left;\" text=\"bind:SNDNG_CN\" wordwrap=\"char\" editdisplay=\"edit\" autosizerow=\"limitmin\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("Button25","absolute","1010","46","25","19",null,null,this);_a.set_taborder("36");_a.set_cssclass("btn_WF_Gridexcelup");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_add2","absolute","876","46","64","19",null,null,this);_a.set_taborder("37");_a.set_text("행추가");_a.set_cssclass("btn_WF_Gridadd");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_del2","absolute","943","46","64","19",null,null,this);_a.set_taborder("38");_a.set_text("행삭제");_a.set_cssclass("btn_WF_Griddel");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_init","absolute",null,"45","53","21","930",null,this);_a.set_taborder("40");_a.set_text("초기화");_a.set_cssclass("btn_WF_Process");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn_Cre","absolute","126","45","66","21",null,null,this);_a.set_taborder("41");_a.set_text("문자발송");_a.set_cssclass("btn_WF_Process");_a.set_enable("false");this.addChild(_a.name,_a);_a=new Static("Static15","absolute","15","351",null,"5","15",null,this);_a.set_taborder("50");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static17","absolute","15","331",null,"5","15",null,this);_a.set_taborder("51");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static18","absolute","15","293",null,"5","15",null,this);_a.set_taborder("52");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("sta_title02","absolute","15","277","179","21",null,null,this);_a.set_taborder("53");_a.set_text("문자 발송 조회");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Static("sta_con_size","absolute","162","73","27","21",null,null,this);_a.set_taborder("54");_a.set_text("Byte");_a.style.set_align("left middle");this.addChild(_a.name,_a);_a=new Static("Static19","absolute","15","65",null,"5","15",null,this);_a.set_taborder("56");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_Search","absolute",null,"304","40","21","288",null,this);_a.set_taborder("57");_a.set_text("조회");_a.set_cssclass("btn_WF_Process");this.addChild(_a.name,_a);_a=new Static("Static03","absolute","15","274",null,"5","15",null,this);_a.set_taborder("59");_a.set_text("5");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Static("Static06","absolute","15","0",null,"15","15",null,this);_a.set_taborder("62");_a.set_text("15");_a.set_visible("false");_a.style.set_background("#dc143c3c");_a.style.set_align("center middle");this.addChild(_a.name,_a);_a=new Button("btn_Close","absolute",null,"15","50","25","15",null,this);_a.set_taborder("63");_a.set_text("종료");_a.set_cssclass("btn_WF_CRUD");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","206","251",null,"23","15",null,this);_a.set_taborder("64");_a.set_text("맞춤문자의 경우 화면마다 메시지 형식이 정해져 있습니다. 맞춤문자 등록, 수정은 운영팀에 문의하여 주시기 바랍니다.");_a.set_enable("false");_a.style.setStyleValue("color","disabled","#333333ff");this.addChild(_a.name,_a);_a=new Static("sta_title03","absolute","15","18","95","21",null,null,this);_a.set_taborder("65");_a.set_text("SMS 발송");_a.set_cssclass("sta_WF_Title01");this.addChild(_a.name,_a);_a=new Static("sta_title04","absolute","300","45","300","21",null,null,this);_a.set_taborder("66");_a.set_text("※ 체크박스를 선택한 대상만 전송합니다.");_a.set_cssclass("sta_WF_Title01");_a.style.set_background("left middle");_a.style.set_padding("0 0 0 0");_a.style.set_font("9 Gulim");this.addChild(_a.name,_a);_a=new Layout("default","",0,33,this.div_search.div_search,function(_b){_b.set_taborder("10");_b.set_cssclass("div_WFSA_Box");});this.div_search.div_search.addLayout(_a.name,_a);_a=new Layout("default","",0,33,this.div_search,function(_b){_b.set_taborder("8");_b.set_cssclass("div_WFSA_Box");_b.set_scrollbars("none");});this.div_search.addLayout(_a.name,_a);_a=new Layout("default","",1050,600,this,function(_b){_b.set_classname("SAL010108_P01");_b.set_titletext("SMS발신관리");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("COM010700_P01.xfdl","lib::comInclude.xjs");this.registerScript("COM010700_P01.xfdl",function(){var _a=this.gfn_getDeptId();var _b=true;this.COM010700_P01_oninit=function(_c,_d){this.gfn_initForm();this.gfn_initCondDs(this,this.div_search);};this.COM010700_P01_onload=function(_c,_d){this.div_search.cal_date1.set_value(this.dateUtils.format(this.gfn_today(),"yyyymmdd"));this.div_search.cal_date2.set_value(this.dateUtils.format(this.gfn_today(),"yyyymmdd"));this.edt_telno.set_value("0533500301");this.txarea_con.set_enable(true);this.btn_Cre.set_enable(true);if(this.parent.JOB_SE!=undefined&&this.parent.JOB_SE!=""&&this.parent.JOB_SE.length==6){this.fn_transaction("selMssageManage");}else{this.txarea_con.set_readonly(false);this.txarea_con.set_cssclass("");this.btn_init.set_visible(true);this.btn_add2.set_visible(true);this.btn_del2.set_visible(true);this.Button25.set_visible(true);_b=false;this.ds_ums_sndng_dtls.clearData();this.grd_smsClient.set_enableevent(false);this.ds_ums_sndng_dtls.set_enableevent(false);this.grd_smsClient.setCellProperty("head",0,"text",'1');for(var _f=0,_g=this.parent.ds.rowcount;_f<_g;_f++ ){this.ds_ums_sndng_dtls.addRow();var _e=this.parent.ds.getColumn(_f,"MBTLNO");if(_e!=undefined){_e=_e.replace(/\-/gi,"");}this.ds_ums_sndng_dtls.setColumn(_f,"CHK",1);this.ds_ums_sndng_dtls.setColumn(_f,"RECPTN_TELNO",_e);this.ds_ums_sndng_dtls.setColumn(_f,"RCVER_NM",this.parent.ds.getColumn(_f,"NM"));}this.ds_ums_sndng_dtls.set_enableevent(true);this.grd_smsClient.set_enableevent(true);if(this.parent.ds.rowcount>0){this.grd_smsClient.selectRow(0);}}};this.fn_transaction=function(_c){var _d="";var _e="";var _f="";var _g=true;switch(_c){case "selectSmstranList":_d="hsco/cmm/ums/selectSmstranList.do";_e="input1=ds_cond00";_f="ds_smsLog=output1";break;case "saveSmstranList":_d="hsco/cmm/ums/sendUms.do";_e="input1=ds_ums_sndng_dtls_target";_f="";break;case "delSmsclientList":_d="hsco/cmm/ums/SmstranC_D.do";_e="input1=ds_smsLog:U";_f="";break;case "selMssageManage":this.ds_cond.clearData();if(this.ds_cond.rowcount==0){this.ds_cond.addRow();}this.ds_cond.setColumn(0,"CODE",this.parent.JOB_SE);this.ds_mssageManage.clearData();_d="hsco/cmm/ums/mssageManageList.do";_e="input1=ds_cond";_f="ds_mssageManage=output1";_g=false;break;}Ex.core.tran(this,_c,_d,_e,_f,"","fn_callBack",null,_g);};this.fn_callBack=function(_c,_d,_e){if(_d!=0){this.gfn_callback_message(_c,_d,_e);}else{switch(_c){case "selectSmstranList":break;case "saveSmstranList":this.gfn_message("info.처리불가","문자가 발송되었습니다.");this.ds_ums_sndng_dtls.clearData();this.btn_Search_onclick();break;case "delSmsclientList":break;case "selMssageManage":if(this.ds_mssageManage.rowcount>1){this.gfn_message("info.처리불가","맞춤문자 형식이 복수개로 처리가 불가능합니다.\n운영팀에 문의하여 주시기 바랍니다.","","",function(){this.close();});}if(this.ds_mssageManage.rowcount==0){this.gfn_message("info.처리불가","맞춤문자 형식이 존재하지 않아 처리가 불가능합니다.\n운영팀에 문의하여 주시기 바랍니다.","","",function(){this.close();});}this.ds_ums_sndng_dtls.clearData();this.grd_smsClient.set_enableevent(false);this.ds_ums_sndng_dtls.set_enableevent(false);this.grd_smsClient.setCellProperty("head",0,"text",'1');for(var _h=0,_i=this.parent.ds.rowcount;_h<_i;_h++ ){this.ds_ums_sndng_dtls.addRow();var _f=this.ds_mssageManage.getColumn(0,"MSSAGE_CN");var _g=this.parent.ds.getColumn(_h,"MBTLNO");if(_g!=undefined){_g=_g.replace(/\-/gi,"");}this.ds_ums_sndng_dtls.setColumn(_h,"CHK",1);this.ds_ums_sndng_dtls.setColumn(_h,"RECPTN_TELNO",_g);this.ds_ums_sndng_dtls.setColumn(_h,"RCVER_NM",this.parent.ds.getColumn(_h,"NM"));this.ds_ums_sndng_dtls.setColumn(_h,"CHANGE_WRD1",this.parent.ds.getColumn(_h,"CHANGE_WORD0"));this.ds_ums_sndng_dtls.setColumn(_h,"CHANGE_WRD2",this.parent.ds.getColumn(_h,"CHANGE_WORD1"));this.ds_ums_sndng_dtls.setColumn(_h,"CHANGE_WRD3",this.parent.ds.getColumn(_h,"CHANGE_WORD2"));this.ds_ums_sndng_dtls.setColumn(_h,"CHANGE_WRD4",this.parent.ds.getColumn(_h,"CHANGE_WORD3"));this.ds_ums_sndng_dtls.setColumn(_h,"CHANGE_WRD5",this.parent.ds.getColumn(_h,"CHANGE_WORD4"));this.ds_ums_sndng_dtls.setColumn(_h,"CHRCTR_PREPAR_VALUE_0",this.parent.ds.getColumn(_h,"CHRCTR_PREPAR_VALUE_0"));this.ds_ums_sndng_dtls.setColumn(_h,"CHRCTR_PREPAR_VALUE_1",this.parent.ds.getColumn(_h,"CHRCTR_PREPAR_VALUE_1"));this.ds_ums_sndng_dtls.setColumn(_h,"CHRCTR_PREPAR_VALUE_2",this.parent.ds.getColumn(_h,"CHRCTR_PREPAR_VALUE_2"));this.ds_ums_sndng_dtls.setColumn(_h,"CHRCTR_PREPAR_VALUE_3",this.parent.ds.getColumn(_h,"CHRCTR_PREPAR_VALUE_3"));this.ds_ums_sndng_dtls.setColumn(_h,"CHRCTR_PREPAR_VALUE_4",this.parent.ds.getColumn(_h,"CHRCTR_PREPAR_VALUE_4"));if(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD1")!=undefined&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD1").indexOf("undefined")== -1&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD1")!=""){_f=_f.split("%CHANGEWORD1%").join(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD1"));}if(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD2")!=undefined&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD2").indexOf("undefined")== -1&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD2")!=""){_f=_f.split("%CHANGEWORD2%").join(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD2"));}if(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD3")!=undefined&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD3").indexOf("undefined")== -1&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD3")!=""){_f=_f.split("%CHANGEWORD3%").join(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD3"));}if(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD4")!=undefined&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD4").indexOf("undefined")== -1&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD4")!=""){_f=_f.split("%CHANGEWORD4%").join(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD4"));}if(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD5")!=undefined&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD5").indexOf("undefined")== -1&&this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD5")!=""){_f=_f.split("%CHANGEWORD5%").join(this.ds_ums_sndng_dtls.getColumn(_h,"CHANGE_WRD5"));}this.ds_ums_sndng_dtls.setColumn(_h,"SNDNG_CN",_f);}this.ds_ums_sndng_dtls.set_enableevent(true);this.grd_smsClient.set_enableevent(true);this.grd_smsClient.selectRow(0);this.grd_smsClient_onselectchanged();break;}}};this.div_cont_btn_Cre_onclick=function(_c,_d){for(var _l=0,_m=this.ds_ums_sndng_dtls.rowcount;_l<_m;_l++ ){var _e=this.ds_ums_sndng_dtls.getColumn(_l,"SNDNG_CN");if(_e.indexOf("CHANGEWORD")> -1){for(var _n=0;_n<5;_n++ ){if(_e.indexOf("CHANGEWORD"+(_n+1))> -1){var _f=this.ds_mssageManage.getColumn(0,"MXTR_WRD"+_n);this.gfn_message("info.처리불가",(_l+1)+"행의 ("+_f+") 항목이 누락되어\n메시지 전송이 불가능합니다.\n운영팀에 문의하여 주시기 바랍니다.");return;}}}var _g=this.ds_ums_sndng_dtls.getColumn(_l,"RECPTN_TELNO");var _h=this.comUtils.getBytes(_e,"EUC-KR");var _i="S";if(_h>80){_i="M";}this.ds_ums_sndng_dtls.setColumn(_l,"SNDNG_SVC_TY",_i);this.ds_ums_sndng_dtls.setColumn(_l,"RESERVE_SNDNG_AT","N");this.ds_ums_sndng_dtls.setColumn(_l,"DEPT_CODE",_a);this.ds_ums_sndng_dtls.setColumn(_l,"SNDNG_TELNO",this.edt_telno.value);this.ds_ums_sndng_dtls.setColumn(_l,"MSSAGE_TY","0");this.ds_ums_sndng_dtls.setColumn(_l,"SNDNG_SENDER_ID",application.gv_userId);this.ds_ums_sndng_dtls.setColumn(_l,"BROAD_MSSAGE_ID",this.ds_mssageManage.getColumn(0,"MSSAGE_ID"));this.ds_ums_sndng_dtls.setColumn(_l,"REGISTER_ID",application.gv_userId);this.ds_ums_sndng_dtls.setColumn(_l,"UPDUSR_ID",application.gv_userId);var _j="";if(_i=="M"){_j=_e.substr(0,20);}this.ds_ums_sndng_dtls.setColumn(_l,"MMS_SJ",_j);}this.ds_ums_sndng_dtls_target.clearData();for(var _l=0;_l<this.ds_ums_sndng_dtls.rowcount;_l++ ){if(this.ds_ums_sndng_dtls.getColumn(_l,"CHK")==1){var _k=this.ds_ums_sndng_dtls_target.addRow();this.ds_ums_sndng_dtls_target.copyRow(_k,this.ds_ums_sndng_dtls,_l);}}if(this.ds_ums_sndng_dtls_target.rowcount==0){this.gfn_message("comm.err","문자발송 대상을 선택해 주시기 바랍니다.");return;}if(this.gfn_message("comm.행위여부","문자를 발송")){this.fn_transaction("saveSmstranList");}};this.txarea_con_onkeyup=function(_c,_d){this.sta_chk_size.set_text(this.txarea_con.getLength("ascii"));if(!_b){var _e=this.txarea_con.text;this.grd_smsClient.set_enableevent(false);if(this.txarea_con.text.length==0||(_d!=undefined&&_d.ctrlKey&&_d.keycode==86)){this.ds_ums_sndng_dtls.set_enableevent(false);}for(var _f=0,_g=this.ds_ums_sndng_dtls.rowcount;_f<_g;_f++ ){if(this.ds_ums_sndng_dtls.getColumn(_f,"CHK")==1){this.ds_ums_sndng_dtls.setColumn(_f,"SNDNG_CN",_e);}}if(this.txarea_con.text.length==0||(_d!=undefined&&_d.ctrlKey&&_d.keycode==86)){this.ds_ums_sndng_dtls.set_enableevent(true);}this.grd_smsClient.set_enableevent(true);if(this.txarea_con.text.length==0){this.txarea_con.setCaretPos(0);}}};this.btn_init_onclick=function(_c,_d){this.txarea_con.set_value("");this.txarea_con_onkeyup();};this.grd_smsClient_onselectchanged=function(_c,_d){if(_b){this.txarea_con.set_value(this.ds_ums_sndng_dtls.getColumn(this.ds_ums_sndng_dtls.rowposition,"SNDNG_CN"));this.txarea_con_onkeyup();}};this.grd_smsClient_onexpandup=function(_c,_d){if(_d.col=='1'){var _e={arg_0:this};var _f=function(_g,_h){var _i=new Dataset();nRowCnt=_i.loadXML(_h);if(nRowCnt){var _j=this.ds_ums_sndng_dtls.rowposition;var _k=_i.getColumn(0,"TELNO_2");var _l=/\-/g;_k=_k.replace(_l,'');_l=/\s/g;_k=_k.replace(_l,'');this.ds_ums_sndng_dtls.setColumn(_j,"RCVER_NM",_i.getColumn(0,"EMPNM"));this.ds_ums_sndng_dtls.setColumn(_j,"RECPTN_TELNO",_k);}};this.gfn_popup("empPop",400,400,"사원조회팝업",_e,"com::empno_P01.xfdl",_f,true);}};this.btn_add2_onclick=function(_c,_d){var _e=this.ds_ums_sndng_dtls.addRow();this.grd_smsClient.setFocus();this.grd_smsClient.setCellPos(2);this.ds_ums_sndng_dtls.setColumn(_e,"CHK",1);this.ds_ums_sndng_dtls.setColumn(_e,"SNDNG_CN",this.txarea_con.text);};this.btn_del2_onclick=function(_c,_d){if(this.ds_ums_sndng_dtls.getRowCount()>0){if(this.gfn_message("confirm.삭제여부")){var _e=this.ds_ums_sndng_dtls.rowposition;this.ds_ums_sndng_dtls.deleteRow(_e);}}};this.Button25_onclick=function(_c,_d){this.ds_ums_sndng_dtls.clearData();var _e={targetDs:this.ds_import,headSet:false,callBack:this.excelImport_callBack};this.gfn_importExcel(_e);};this.excelImport_callBack=function(){var _c=1;if(this.ds_import.rowcount>=1){var _d;if(this.ds_import.getColumn(i,"Column0")!=undefined&&this.comUtils.isPhone("HP_NO",(this.ds_import.getColumn(0,"Column0")).replace(/\-/g,""))){_c=0;}this.grd_smsClient.set_enableevent(false);this.ds_ums_sndng_dtls.set_enableevent(false);var _e=this.txarea_con.text;for(var _h=_c;_h<this.ds_import.rowcount;_h++ ){var _f=this.ds_import.getColumn(_h,"Column0");if(_f==undefined||_f==""){break;}var _g=_f.replace(/\-/g,"");_d=this.ds_ums_sndng_dtls.addRow();this.ds_ums_sndng_dtls.setColumn(_d,"RECPTN_TELNO",_g);this.ds_ums_sndng_dtls.setColumn(_d,"RCVER_NM",this.ds_import.getColumn(_h,"Column1"));this.ds_ums_sndng_dtls.setColumn(_d,"SNDNG_CN",_e);}this.ds_ums_sndng_dtls.set_enableevent(true);this.grd_smsClient.set_enableevent(true);}};this.btn_Search_onclick=function(_c,_d){this.fn_sendList();};this.fn_sendList=function(){this.ds_smsLog.clearData();this.ds_cond00.clearData();var _c=this.ds_cond00.addRow();this.ds_cond00.setColumn(_c,"APPLC_DE",this.div_search.cal_date1.value);this.ds_cond00.setColumn(_c,"APPLC_DE2",this.div_search.cal_date2.value);this.ds_cond00.setColumn(_c,"SCH_TYPE",this.div_search.cmb_dept_se.value);this.ds_cond00.setColumn(_c,"REGISTER_ID",application.gv_userId);if(this.div_search.cmb_dept_se.value=="1"){this.ds_cond00.setColumn(_c,"SNDNG_CN",this.div_search.sch_txt.value);}else if(this.div_search.cmb_dept_se.value=="2"){this.ds_cond00.setColumn(_c,"STS",this.div_search.sch_txt.value);}else if(this.div_search.cmb_dept_se.value=="3"){this.ds_cond00.setColumn(_c,"RECPTN_TELNO",this.div_search.sch_txt.value);}else if(this.div_search.cmb_dept_se.value=="4"){this.ds_cond00.setColumn(_c,"SNDNG_SVC_TY",this.div_search.sch_txt.value);}else if(this.div_search.cmb_dept_se.value=="5"){this.ds_cond00.setColumn(_c,"RCVER_NM",this.div_search.sch_txt.value);}if(!this.gfn_checkValidation(this.ds_cond00,this.ds_validation)){return;}this.fn_transaction("selectSmstranList");};this.btn_Close_onclick=function(_c,_d){this.close();};this.grd_smsClient_onheadclick=function(_c,_d){if(_d.col==0){var _e=this.txarea_con.text;if(_c.getCellProperty("head",_d.cell,"text")==0){if(_e!=null&&_e!=""){for(var _f=0,_g=this.ds_ums_sndng_dtls.rowcount;_f<_g;_f++ ){this.ds_ums_sndng_dtls.setColumn(_f,"SNDNG_CN",_e);}}}else{for(var _f=0,_g=this.ds_ums_sndng_dtls.rowcount;_f<_g;_f++ ){this.ds_ums_sndng_dtls.setColumn(_f,"SNDNG_CN","");}}this.gfn_setGridCheckAll(_c,_d);}else{this.gfn_gridSort(_c,_d);}};this.ds_ums_sndng_dtls_oncolumnchanged=function(_c,_d){if(_d.columnid=="CHK"){if(_d.newvalue=="0"){this.ds_ums_sndng_dtls.setColumn(_d.row,"SNDNG_CN","");}else{var _e=this.txarea_con.text;this.ds_ums_sndng_dtls.setColumn(_d.row,"SNDNG_CN",_e);}}};});this.on_initEvent=function(){this.ds_ums_sndng_dtls.addEventHandler("oncolumnchanged",this.ds_ums_sndng_dtls_oncolumnchanged,this);this.addEventHandler("oninit",this.COM010700_P01_oninit,this);this.addEventHandler("onload",this.COM010700_P01_onload,this);this.Static12.addEventHandler("onclick",this.Static12_onclick,this);this.txarea_con.addEventHandler("onkeyup",this.txarea_con_onkeyup,this);this.grd_smsClient.addEventHandler("onexpandup",this.grd_smsClient_onexpandup,this);this.grd_smsClient.addEventHandler("onselectchanged",this.grd_smsClient_onselectchanged,this);this.grd_smsClient.addEventHandler("onheadclick",this.grd_smsClient_onheadclick,this);this.Button25.addEventHandler("onclick",this.Button25_onclick,this);this.btn_add2.addEventHandler("onclick",this.btn_add2_onclick,this);this.btn_del2.addEventHandler("onclick",this.btn_del2_onclick,this);this.btn_init.addEventHandler("onclick",this.btn_init_onclick,this);this.btn_Cre.addEventHandler("onclick",this.div_cont_btn_Cre_onclick,this);this.btn_Search.addEventHandler("onclick",this.btn_Search_onclick,this);this.btn_Close.addEventHandler("onclick",this.btn_Close_onclick,this);};this.loadIncludeScript("COM010700_P01.xfdl");};})();