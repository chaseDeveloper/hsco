(function(){return function(){if(!this._is_form){return;}this.on_create=function(){var _a=null;if(Form==this.constructor){this.set_name("frmGridSort");this.set_classname("frmSchText");this.set_titletext("그리드정렬");this._setFormPosition(0,0,294,200);}_a=new Dataset("DS_MENU",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CHK\" type=\"STRING\" size=\"256\"/><Column id=\"MENU_ID\" type=\"INT\" size=\"10\"/><Column id=\"MENU_NM\" type=\"STRING\" size=\"50\"/><Column id=\"MENU_LVL\" type=\"INT\" size=\"3\"/><Column id=\"COL_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("DS_SCHCOL",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("true");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"IDX\" type=\"STRING\" size=\"256\"/><Column id=\"COL_NM\" type=\"STRING\" size=\"256\"/><Column id=\"COL_ID\" type=\"STRING\" size=\"256\"/><Column id=\"SORT_SE\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("DS_SORTSE",this);_a.set_firefirstcount("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"CODE\" type=\"STRING\" size=\"256\"/><Column id=\"CODE_NM\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CODE\">-</Col><Col id=\"CODE_NM\">▼</Col></Row><Row><Col id=\"CODE\">+</Col><Col id=\"CODE_NM\">▲</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Static("sta_popupBg","absolute","1","1","291","198",null,null,this);_a.set_taborder("1");_a.set_cssclass("sta_WF_PopupBg2");this.addChild(_a.name,_a);_a=new Static("sta_title","absolute","2","5","289","30",null,null,this);_a.set_taborder("0");_a.set_cssclass("sta_WF_Confirm");this.addChild(_a.name,_a);_a=new Grid("grd_schItem","absolute","2","34","131",null,null,"3",this);_a.set_taborder("4");_a.set_binddataset("DS_MENU");_a.set_autofittype("col");_a.set_treeinitstatus("expand,all");_a.set_treeuseexpandkey("true");_a.style.set_border("1 solid #e0e0e0ff");_a.style.set_align("left middle");_a.set_cssclass("grd_LF_Menu");_a.set_treeuseimage("false");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"127\"/></Columns><Rows><Row size=\"24\"/></Rows><Band id=\"body\"><Cell displaytype=\"tree\" edittype=\"tree\" style=\"align:left;\" text=\"bind:MENU_NM\" treestartlevel=\"1\" treelevel=\"bind:MENU_LVL\" treecheck=\"bind:CHK\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("Static00","absolute","6","18","92","13",null,null,this);_a.set_taborder("5");_a.set_text("정렬목록");_a.set_cssclass("sta_WF_Title03");this.addChild(_a.name,_a);_a=new Grid("grd_schprocItem","absolute","134","34","157",null,null,"3",this);_a.set_cssclass("grd_LF_Menu");_a.set_taborder("6");_a.set_binddataset("DS_SCHCOL");_a.set_autofittype("col");_a.set_treeuseimage("false");_a.set_treeinitstatus("expand,all");_a.set_treeuseexpandkey("false");_a.style.set_border("1 solid #e0e0e0ff");_a.style.set_align("left middle");_a.set_treeusebutton("no");_a.set_treeusecheckbox("false");_a.set_fillareatype("none");_a.set_treeuseline("false");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"99\"/><Column size=\"57\"/></Columns><Rows><Row size=\"24\"/></Rows><Band id=\"body\"><Cell celltype=\"body\" displaytype=\"normal\" edittype=\"none\" style=\"align:left;\" text=\"bind:COL_NM\"/><Cell col=\"1\" displaytype=\"combo\" edittype=\"combo\" text=\"bind:SORT_SE\" combodataset=\"DS_SORTSE\" combocodecol=\"CODE\" combodatacol=\"CODE_NM\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("btn_add","absolute","226","13","64","19",null,null,this);_a.set_taborder("7");_a.set_text("정렬");_a.set_cssclass("btn_WF_Gridadd");_a.style.set_background("@gradation URL('theme://images/btn_WF_GridOk.png') left middle");this.addChild(_a.name,_a);_a=new Layout("default","",294,200,this,function(_b){_b.set_classname("frmSchText");_b.set_titletext("그리드정렬");});this.addLayout(_a.name,_a);_a=null;};this.addIncludeScript("frmGridSort.xfdl","lib::comInclude.xjs");this.registerScript("frmGridSort.xfdl",function(){this.fv_objGrid;this.frmGridSort_onload=function(_a,_b){this.fn_init_form();this.fn_init_dataset();this.fv_objGrid=this.parent.arg_1;this.fn_initColList();};this.fn_init_form=function(){this.gfn_initForm(this);};this.fn_init_dataset=function(){this.DS_MENU.clearData();this.DS_SCHCOL.clearData();};this.fn_initColList=function(){var _a=this.fv_objGrid.getFormatColCount();var _b=0;this.DS_MENU.enableevent=false;for(var _c=0;_c<_a;_c++ ){_b=this.DS_MENU.addRow();this.DS_MENU.setColumn(_b,"CHK","0");this.DS_MENU.setColumn(_b,"MENU_ID",_c);this.DS_MENU.setColumn(_b,"MENU_NM",this.fv_objGrid.getCellProperty("Head",_c,"text"));this.DS_MENU.setColumn(_b,"COL_NM",this.fv_objGrid.getCellProperty("Body",_c,"text").split(":")[1]);this.DS_MENU.setColumn(_b,"MENU_LVL",0);}this.DS_MENU.enableevent=true;};this.btn_close_onclick=function(_a,_b){this.close(false);};this.DS_MENU_oncolumnchanged=function(_a,_b){if(_b.columnid=="CHK"){if(_b.newvalue=="1"){var _c=this.DS_SCHCOL.addRow();this.DS_SCHCOL.setColumn(_c,"IDX",this.DS_MENU.getColumn(_b.row,"MENU_ID"));this.DS_SCHCOL.setColumn(_c,"COL_NM",this.DS_MENU.getColumn(_b.row,"MENU_NM"));this.DS_SCHCOL.setColumn(_c,"COL_ID",this.DS_MENU.getColumn(_b.row,"COL_NM"));this.DS_SCHCOL.setColumn(_c,"SORT_SE","+");}else{var _d=this.DS_MENU.getColumn(_b.row,"MENU_ID");var _e=this.DS_SCHCOL.findRow("IDX",_d);this.DS_SCHCOL.deleteRow(_e);}}};this.Div00_btn_add_onclick=function(_a,_b){this.close(this.DS_SCHCOL.saveXML());};});this.on_initEvent=function(){this.DS_MENU.addEventHandler("oncolumnchanged",this.DS_MENU_oncolumnchanged,this);this.DS_SCHCOL.addEventHandler("oncolumnchanged",this.DS_MENU_oncolumnchanged,this);this.addEventHandler("oninit",this.frmGridSort_onload,this);this.sta_title.addEventHandler("onmousemove",this.sta_title_onmousemove,this);this.sta_title.addEventHandler("onlbuttondown",this.sta_title_onlbuttondown,this);this.btn_add.addEventHandler("onclick",this.Div00_btn_add_onclick,this);};this.loadIncludeScript("frmGridSort.xfdl");};})();