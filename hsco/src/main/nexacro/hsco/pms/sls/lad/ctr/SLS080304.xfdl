<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\..\default_typedef.xml"/>
  <Form id="SLS080304" classname="SLS080201" left="0" top="0" width="1059" height="735" titletext="토지재계약" oninit="SLS080304_oninit" onload="SLS080304_onload">
    <Layouts>
      <Layout>
        <Div id="div_search" taborder="13" left="0" top="0" height="33" cssclass="div_WFSA_Box" width="1031">
          <Layouts>
            <Layout>
              <Static id="Static16" taborder="5" text="토지코드" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Static id="Static17" taborder="6" text="B.L.T" cssclass="sta_WFSA_Label" left="324" top="5" width="51" height="21"/>
              <Static id="Static00" taborder="7" text="적용년월" cssclass="sta_WFSA_Label" left="548" top="5" width="64" height="21"/>
              <Edit id="edt_blckSh" taborder="1" left="375" top="5" width="50" height="21" lengthunit="utf8" maxlength="3"/>
              <Edit id="edt_lotSh" taborder="2" left="427" top="5" width="50" height="21" lengthunit="utf8" maxlength="3"/>
              <Edit id="edt_lotTySh" taborder="3" left="479" top="5" width="50" height="21" lengthunit="utf8" maxlength="2"/>
              <Combo id="cmb_ladCodeSh" taborder="0" innerdataset="@ds_ladCodeSh" codecolumn="LAD_CODE" datacolumn="ALL_LAD_NM" cssclass="cmb_WF_Essential" left="79" top="5" width="230" height="21"/>
              <Div id="div_applcYm" taborder="4" url="common::frmMonCal.xfdl" left="612" top="5" width="84" height="21" visible="true" async="false"/>
              <CheckBox id="chk_cntrctrSttusCode" taborder="8" text="해약자만 검색" value="0" truevalue="1" falsevalue="0" left="727" top="5" width="100" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static01" taborder="14" text="15" visible="false" left="1031" top="0" right="13" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static03" taborder="15" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" left="1046" top="0" right="0" height="735" style="background:#d07b173c;align:center middle;"/>
        <Static id="dtl_guide12" taborder="16" text="10" visible="false" left="0" top="33" right="28" height="10" style="background:hotpink;color:#333333ff;align:center middle;opacity:50;"/>
        <Div id="div_work" taborder="48" text="Div01" left="0" top="43" width="1031" height="692">
          <Layouts>
            <Layout>
              <Static id="Static00" taborder="0" text="변경후" cssclass="sta_WF_Title02" left="643" top="0" right="247" height="19"/>
              <Static id="Static04" taborder="1" text="변경전" cssclass="sta_WF_Title02" left="248" top="0" right="642" height="19"/>
              <Static id="Static20" taborder="2" text="5" visible="false" left="0" top="19" width="1032" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static51" taborder="9" cssclass="sta_WF_Labelbg" left="243" top="24" width="389" height="27"/>
              <Static id="Static05" taborder="10" cssclass="sta_WF_Labelbg" left="243" top="50" width="389" height="27"/>
              <Static id="Static06" taborder="11" cssclass="sta_WF_Labelbg" left="243" top="76" width="389" height="27"/>
              <Static id="Static08" taborder="12" text="임대료" cssclass="sta_WF_Label" left="437" top="76" width="90" height="27" style="align:left middle;"/>
              <Static id="Static07" taborder="13" text="납부기한일" cssclass="sta_WF_Label" left="437" top="24" width="90" height="27" style="align:left middle;"/>
              <Calendar id="cal_beforePayendDate" taborder="14" dateformat="yyyy-MM-dd" left="529" top="27" width="100" height="21" value="null" enable="false"/>
              <Calendar id="cal_beforeRentDeTo" taborder="15" dateformat="yyyy-MM-dd" left="456" top="53" width="100" height="21" value="null" enable="false"/>
              <Static id="Static16" taborder="17" cssclass="sta_WF_Labelbg" left="642" top="76" width="389" height="27"/>
              <Static id="Static15" taborder="18" cssclass="sta_WF_Labelbg" left="642" top="50" width="389" height="27"/>
              <Static id="Static10" taborder="19" cssclass="sta_WF_Labelbg" left="642" top="24" width="389" height="27"/>
              <Static id="Static17" taborder="23" text="임대료" cssclass="sta_WF_Label" left="836" top="76" width="90" height="27" style="align:left middle;"/>
              <Static id="Static14" taborder="24" text="납부기한일" cssclass="sta_WF_Label" left="836" top="24" width="90" height="27" style="align:left middle;"/>
              <Static id="Static13" taborder="28" text="보증금" cssclass="sta_WF_Label" left="642" top="76" width="90" height="27" style="align:left middle;"/>
              <Static id="Static12" taborder="29" text="임대기간" cssclass="sta_WF_Label" left="642" top="50" width="90" height="27" style="align:left middle;"/>
              <Static id="Static11" taborder="30" text="적용년월" cssclass="sta_WF_Label" left="642" top="24" width="90" height="27" style="align:left middle;"/>
              <Static id="dtl_guide12" taborder="31" text="10" visible="false" left="243" top="102" right="61" height="11" style="background:hotpink;color:#333333ff;align:center middle;opacity:50;"/>
              <Calendar id="cal_beforeRentDeFr" taborder="33" dateformat="yyyy-MM-dd" left="335" top="53" width="100" height="21" value="null" enable="false"/>
              <Static id="Static01" taborder="34" text="~" left="435" top="54" width="21" height="21" style="align:center middle;"/>
              <Grid id="grd_lcntrctrReCntrctList" cssclass="grd_WF_Data" taborder="36" binddataset="ds_LcntrctrReCntrctList" useinputpanel="false" autofittype="none" left="243" top="113" height="276" right="0">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="40"/>
                      <Column size="150"/>
                      <Column size="50"/>
                      <Column size="80"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell rowspan="2" displaytype="normal" edittype="none" text="선택"/>
                      <Cell col="1" rowspan="2" text="계약자"/>
                      <Cell col="2" rowspan="2" text="년차"/>
                      <Cell col="3" rowspan="2" text="적용년월"/>
                      <Cell col="4" colspan="4" text="임대기간"/>
                      <Cell col="8" colspan="2" text="보증금"/>
                      <Cell col="10" colspan="2" text="임대료"/>
                      <Cell col="12" rowspan="2" text="납부기한일"/>
                      <Cell row="1" col="4" text="변경전_시작일"/>
                      <Cell row="1" col="5" text="변경전_종료일"/>
                      <Cell row="1" col="6" text="변경후_시작일"/>
                      <Cell row="1" col="7" text="변경후_종료일"/>
                      <Cell row="1" col="8" text="변경전"/>
                      <Cell row="1" col="9" text="변경후"/>
                      <Cell row="1" col="10" text="변경전"/>
                      <Cell row="1" col="11" text="변경후"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                      <Cell col="1" displaytype="text" style="align:left;" text="bind:CSTMR_NM"/>
                      <Cell col="2" displaytype="text" text="bind:RE_CNTRCT_SN"/>
                      <Cell col="3" displaytype="normal" text="bind:APPLC_YM" mask="####-##" calendardisplaynulltype="none"/>
                      <Cell col="4" displaytype="date" text="bind:BFCHG_RENT_BGNDE" mask="yyyy-MM-dd" calendardisplaynulltype="none"/>
                      <Cell col="5" displaytype="date" text="bind:BFCHG_RENT_ENDDE" mask="yyyy-MM-dd" calendardisplaynulltype="none"/>
                      <Cell col="6" displaytype="date" text="bind:RENT_BGNDE" mask="yyyy-MM-dd" calendardisplaynulltype="none"/>
                      <Cell col="7" displaytype="date" text="bind:RENT_ENDDE" mask="yyyy-MM-dd" calendardisplaynulltype="none"/>
                      <Cell col="8" displaytype="number" style="align:right;" text="bind:BFCHG_RENT_GTN"/>
                      <Cell col="9" displaytype="number" style="align:right;" text="bind:RENT_GTN"/>
                      <Cell col="10" displaytype="number" style="align:right;" text="bind:BFCHG_FYER_RNTCHRG"/>
                      <Cell col="11" displaytype="number" style="align:right;" text="bind:FYER_RNTCHRG"/>
                      <Cell col="12" displaytype="date" text="bind:PAY_TMLMT" mask="yyyy-MM-dd" calendardisplaynulltype="none"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="Static44" taborder="37" text="10" visible="false" left="243" top="389" height="10" style="background:#dc143c3c;align:center middle;" width="727"/>
              <Div id="Div00" taborder="38" left="243" top="399" right="0" height="33" cssclass="div_WFSA_Box">
                <Layouts>
                  <Layout>
                    <Button id="btn_regist" taborder="46" text="등록" onclick="btn_regist_onclick" cssclass="btn_WF_CRUD" left="733" top="5" width="50" height="21" userdata="fn_search"/>
                    <Static id="Static00" taborder="47" text="임대약정" cssclass="sta_WF_Title02" left="3" top="8" right="679" height="19"/>
                  </Layout>
                </Layouts>
              </Div>
              <Static id="Static02" taborder="4" text="임대기간" cssclass="sta_WF_Label" left="243" top="50" width="90" height="27" style="align:left middle;"/>
              <Static id="Static09" taborder="5" text="보증금" cssclass="sta_WF_Label" left="243" top="76" width="90" height="27" style="align:left middle;"/>
              <Static id="Static84" taborder="3" text="적용년월" cssclass="sta_WF_Label" left="243" top="24" width="90" height="27" style="align:left middle;"/>
              <MaskEdit id="msk_afterAmt" taborder="43" mask="#,###" left="928" top="79" width="100" height="21" readonly="false" enable="true" cssclass="msk_WF_Essential"/>
              <MaskEdit id="msk_afterGtn" taborder="44" mask="#,###" left="734" top="79" width="100" height="21" readonly="false" enable="true" cssclass="msk_WF_Essential"/>
              <MaskEdit id="msk_beforeAmt" taborder="45" mask="#,###" left="529" top="79" width="100" height="21" enable="false"/>
              <MaskEdit id="msk_beforeGtn" taborder="46" mask="#,###" left="335" top="79" width="100" height="21" enable="false"/>
              <Calendar id="cal_afterPayendDate" taborder="47" dateformat="yyyy-MM-dd" left="928" top="27" width="100" height="21" readonly="false" enable="true" cssclass="cal_WF_Essential"/>
              <Calendar id="cal_afterRentDeTo" taborder="48" dateformat="yyyy-MM-dd" left="855" top="53" width="100" height="21" readonly="false" enable="true" cssclass="cal_WF_Essential"/>
              <Static id="Static03" taborder="49" text="~" left="834" top="54" width="21" height="21" style="align:center middle;"/>
              <Calendar id="cal_afterRentDeFr" taborder="50" dateformat="yyyy-MM-dd" left="734" top="53" width="100" height="21" readonly="false" enable="true" cssclass="cal_WF_Essential"/>
              <Div id="div_afterApplyYear" taborder="51" url="common::frmMonCal.xfdl" left="734" top="27" width="84" height="21" visible="true" enable="true" cssclass="cal_WF_Essential" async="false"/>
              <Div id="div_beforeApplyYear" taborder="52" url="common::frmMonCal.xfdl" left="335" top="27" width="84" height="21" visible="true" enable="true" async="false"/>
              <Grid id="grd_ladLcntrctrList" cssclass="grd_WF_Data" taborder="53" binddataset="ds_ladLcntrctrList" useinputpanel="false" left="1" top="24" bottom="1" width="232" autofittype="col">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="70"/>
                      <Column size="150"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="B.L.T"/>
                      <Cell col="1" text="계약자"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="text" style="align:left;color:EXPR((LAD_SE=='99')?'red':'');color2:EXPR((LAD_SE=='99')?'red':'');" text="bind:BLCK_LOT_TY"/>
                      <Cell col="1" displaytype="text" style="align:left;color:EXPR((LAD_SE=='99')?'red':'');color2:EXPR((LAD_SE=='99')?'red':'');" text="bind:ALL_CNTRCTR_NO"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="Static18" taborder="54" text="계약목록" cssclass="sta_WF_Title02" left="0" top="0" right="890" height="19"/>
              <Static id="Static19" taborder="55" text="10" onclick="Static47_onclick" visible="false" left="233" top="24" width="10" style="background:#1b3cd23c;align:center middle;" bottom="1"/>
              <Static id="Static47" taborder="56" text="10" visible="false" left="632" top="24" width="10" height="78" style="background:#1b3cd23c;align:center middle;"/>
              <Grid id="grd_lcntrctrRentPayPopList" taborder="57" binddataset="ds_lcntrctrRentPayPopList" autoenter="select" useinputpanel="false" onexpandup="Tab00_tabpage2_grd_hcntrctrCocnrList_onexpandup" left="243" top="432" right="0" bottom="1">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="40"/>
                      <Column size="140"/>
                      <Column size="90"/>
                      <Column size="90"/>
                      <Column size="110"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                      <Column size="100"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="순번"/>
                      <Cell col="1" text="납부코드"/>
                      <Cell col="2" text="납부구분"/>
                      <Cell col="3" text="납부순번"/>
                      <Cell col="4" text="납부기한일"/>
                      <Cell col="5" text="납부금액"/>
                      <Cell col="6" text="공급가액"/>
                      <Cell col="7" text="부가세"/>
                      <Cell col="8" text="할부이자"/>
                      <Cell col="9" text="할부공급가"/>
                      <Cell col="10" text="할부부가세"/>
                      <Cell col="11" text="감액"/>
                      <Cell col="12" text="연체금액"/>
                      <Cell col="13" text="선납할인"/>
                      <Cell col="14" text="납부합계"/>
                      <Cell col="15" text="미수금액"/>
                      <Cell col="16" text="변경기한일"/>
                      <Cell col="17" text="할부이율"/>
                      <Cell col="18" text="할부일수"/>
                      <Cell col="19" text="이율"/>
                      <Cell col="20" text="일수"/>
                      <Cell col="21" text="참고사항"/>
                      <Cell col="22" text="청구년월"/>
                      <Cell col="23" text="조정일자"/>
                      <Cell col="24" text="납부방법"/>
                      <Cell col="25" text="납부은행"/>
                      <Cell col="26" text="납부번호"/>
                      <Cell col="27" text="수납금액"/>
                      <Cell col="28" text="수납일자"/>
                      <Cell col="29" text="수납방법"/>
                      <Cell col="30" text="수납은행"/>
                      <Cell col="31" text="수납번호"/>
                      <Cell col="32" text="수납처리자"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="normal" style="align: ;" expr="expr:currow + 1"/>
                      <Cell col="1" displaytype="combo" style="align:left;" text="bind:PAY_CODE" combodataset="ds_payCode" combocodecol="CODE" combodatacol="ALL_CODE_NM" combodisplay="edit"/>
                      <Cell col="2" displaytype="combo" edittype="combo" text="bind:PAY_SE" combodataset="ds_paySe" combocodecol="CODE" combodatacol="ALL_CODE_NM" combodisplay="display"/>
                      <Cell col="3" displaytype="combo" edittype="combo" text="bind:PAY_ODR" combodataset="ds_paySn" combocodecol="CODE" combodatacol="ALL_CODE_NM" combodisplay="display"/>
                      <Cell col="4" displaytype="date" edittype="date" text="bind:PAY_TMLMT" calendardisplay="display" calendardisplaynulltype="none"/>
                      <Cell col="5" displaytype="number" edittype="masknumber" style="align:right;" text="bind:PAYAMT" editdisplay="display"/>
                      <Cell col="6" displaytype="number" edittype="masknumber" style="align:right;" text="bind:PAY_SUPLY_AMOUNT" editdisplay="display"/>
                      <Cell col="7" displaytype="number" edittype="masknumber" style="align:right;" text="bind:PAY_VAT" editdisplay="display"/>
                      <Cell col="8" displaytype="number" edittype="masknumber" style="align:right;" text="bind:INSTLMT_INTR" editdisplay="display"/>
                      <Cell col="9" displaytype="number" edittype="masknumber" style="align:right;" text="bind:INSTLMT_INTR_SUPLY_AMOUNT" editdisplay="display"/>
                      <Cell col="10" displaytype="number" edittype="masknumber" style="align:right;" text="bind:INSTLMT_INTR_VAT" editdisplay="display"/>
                      <Cell col="11" displaytype="number" edittype="masknumber" style="align:right;" text="bind:RDCAMT_AMOUNT" editdisplay="display"/>
                      <Cell col="12" displaytype="number" style="align:right;" text="bind:ARRRG_AMOUNT"/>
                      <Cell col="13" displaytype="number" style="align:right;" text="bind:PREPAY_DSCNT_AMOUNT"/>
                      <Cell col="14" displaytype="number" style="align:right;" text="bind:PAYAMT_SM"/>
                      <Cell col="15" displaytype="number" style="align:right;" text="bind:UNCLAMT"/>
                      <Cell col="16" displaytype="date" text="bind:PAY_STDR_DE" calendardisplaynulltype="none"/>
                      <Cell col="17" displaytype="number" style="align:right;"/>
                      <Cell col="18" displaytype="number" style="align:right;"/>
                      <Cell col="19" style="align:right;" text="bind:ARRRG_DSCNT_INTRT"/>
                      <Cell col="20" text="bind:ARRRG_DSCNT_DAYCNT"/>
                      <Cell col="21" displaytype="text" edittype="text" text="bind:RM"/>
                      <Cell col="22" displaytype="normal" text="bind:RQEST_YM" mask="####-##" calendardisplaynulltype="none"/>
                      <Cell col="23" displaytype="date" text="bind:MDAT_DE" calendardisplaynulltype="none"/>
                      <Cell col="24" displaytype="normal" text="bind:PAYMTHD"/>
                      <Cell col="25" text="bind:BANK_CODE"/>
                      <Cell col="26" text="bind:PAY_NO"/>
                      <Cell col="27" displaytype="number" edittype="masknumber" text="bind:R_RCIV_AMOUNT" editdisplay="display"/>
                      <Cell col="28" displaytype="date" edittype="date" text="bind:R_RCIV_DE" calendardisplay="display" calendardisplaynulltype="none"/>
                      <Cell col="29" text="bind:R_RCIV_MTH"/>
                      <Cell col="30" text="bind:R_BANK_CODE"/>
                      <Cell col="31" text="bind:R_OCR_NO"/>
                      <Cell col="32" text="bind:R_OPETR_ID"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_ladCodeSh" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="ALL_LAD_NM" type="STRING" size="256"/>
          <Column id="ACQS_AMOUNT" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP" type="STRING" size="256"/>
          <Column id="LOCPLC_ADRES" type="STRING" size="256"/>
          <Column id="OPERTN_BGNDE" type="STRING" size="256"/>
          <Column id="OPERTN_ENDDE" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_1" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">div_search</Col>
            <Col id="colId">cmb_ladCodeSh</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">토지코드</Col>
          </Row>
          <Row>
            <Col id="compId">ds_LcntrctrReCntrctList</Col>
            <Col id="colId">PAY_TMLMT</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">납부기한일</Col>
          </Row>
          <Row>
            <Col id="compId">ds_LcntrctrReCntrctList</Col>
            <Col id="colId">RENT_BGNDE</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from">RENT_BGNDE</Col>
            <Col id="to">RENT_ENDDE</Col>
            <Col id="lengthChkGb"/>
            <Col id="msgId">임대시작일</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="colId">RENT_ENDDE</Col>
            <Col id="compId">ds_LcntrctrReCntrctList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">임대종료일</Col>
            <Col id="from">RENT_BGNDE</Col>
            <Col id="to">RENT_ENDDE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_LcntrctrReCntrctList</Col>
            <Col id="colId">RENT_GTN</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">보증금</Col>
          </Row>
          <Row>
            <Col id="compId">ds_LcntrctrReCntrctList</Col>
            <Col id="colId">FYER_RNTCHRG</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">임대료</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="APPLC_YM" type="STRING" size="256"/>
          <Column id="CANCL_SE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="APPLC_YM"/>
            <Col id="LOT_TY"/>
            <Col id="LOT"/>
            <Col id="BLCK"/>
            <Col id="LAD_CODE"/>
            <Col id="CANCL_SE">0</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_LcntrctrReCntrctList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_LcntrctrReCntrctList_onrowposchanged" canrowposchange="ds_LcntrctrReCntrctList_canrowposchange">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="BLCK_LOT_TY" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="LAD_CSTMR_NO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="RE_CNTRCT_SN" type="STRING" size="256"/>
          <Column id="RE_CNTRCT_DE" type="STRING" size="256"/>
          <Column id="APPLC_YM" type="STRING" size="256"/>
          <Column id="BFCHG_RENT_BGNDE" type="STRING" size="256"/>
          <Column id="BFCHG_RENT_ENDDE" type="STRING" size="256"/>
          <Column id="BFCHG_RENT_GTN" type="STRING" size="256"/>
          <Column id="BFCHG_FYER_RNTCHRG" type="STRING" size="256"/>
          <Column id="RENT_BGNDE" type="STRING" size="256"/>
          <Column id="RENT_ENDDE" type="STRING" size="256"/>
          <Column id="RENT_GTN" type="STRING" size="256"/>
          <Column id="FYER_RNTCHRG" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="INSTLMT_AT" type="STRING" size="256"/>
          <Column id="INSTLMT_CO" type="STRING" size="256"/>
          <Column id="INSTLMT_TMLMT_DE" type="STRING" size="256"/>
          <Column id="CONFM_AT" type="STRING" size="256"/>
          <Column id="RETURN_PRVONSH" type="STRING" size="256"/>
          <Column id="BFCHG_APPLC_YM" type="STRING" size="256"/>
          <Column id="BFCHG_PAY_TMLMT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_ladLcntrctrList_onrowposchanged">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="BLCK_LOT_TY" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="LAD_CSTMR_NO" type="STRING" size="256"/>
          <Column id="ALL_CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="CNTRCT_TY" type="STRING" size="256"/>
          <Column id="CNTRCT_TY_NM" type="STRING" size="256"/>
          <Column id="CNTRCT_DE" type="STRING" size="256"/>
          <Column id="BFCHG_RENT_BGNDE" type="STRING" size="256"/>
          <Column id="BFCHG_RENT_ENDDE" type="STRING" size="256"/>
          <Column id="BFCHG_RENT_GTN" type="STRING" size="256"/>
          <Column id="BFCHG_FYER_RNTCHRG" type="STRING" size="256"/>
          <Column id="APPLC_YM" type="STRING" size="256"/>
          <Column id="BFCHG_APPLC_YM" type="STRING" size="256"/>
          <Column id="PRPOS_SE" type="STRING" size="256"/>
          <Column id="SUPLY_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="APPLC_YM" type="STRING" size="256"/>
          <Column id="LTTOT_RENT_SE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="APPLC_YM"/>
            <Col id="LOT_TY"/>
            <Col id="LOT"/>
            <Col id="BLCK"/>
            <Col id="LAD_CODE"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_payCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_lcntrctrRentPayPopList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="RQEST_YM" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_ODR" type="STRING" size="256"/>
          <Column id="PAY_SE" type="STRING" size="256"/>
          <Column id="INSTLMT_SE" type="STRING" size="256"/>
          <Column id="PAYAMT" type="STRING" size="256"/>
          <Column id="PAY_SUPLY_AMOUNT" type="STRING" size="256"/>
          <Column id="PAY_VAT" type="STRING" size="256"/>
          <Column id="INSTLMT_INTR" type="STRING" size="256"/>
          <Column id="INSTLMT_INTR_SUPLY_AMOUNT" type="STRING" size="256"/>
          <Column id="INSTLMT_INTR_VAT" type="STRING" size="256"/>
          <Column id="ARRRG_AMOUNT" type="STRING" size="256"/>
          <Column id="PREPAY_DSCNT_AMOUNT" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="PAY_STDR_DE" type="STRING" size="256"/>
          <Column id="NHT_OUTPT_DE" type="STRING" size="256"/>
          <Column id="PAYMTHD" type="STRING" size="256"/>
          <Column id="BANK_CODE" type="STRING" size="256"/>
          <Column id="OCR_NO" type="STRING" size="256"/>
          <Column id="MDAT_DE" type="STRING" size="256"/>
          <Column id="OPETR_ID" type="STRING" size="256"/>
          <Column id="LEV_DECSN_NO" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="RCIV_DECSN_NO" type="STRING" size="256"/>
          <Column id="LTTOT_RENT_SE" type="STRING" size="256"/>
          <Column id="TMPR_RCIV_DE" type="STRING" size="256"/>
          <Column id="TMPR_RCIV_AMOUNT" type="STRING" size="256"/>
          <Column id="RDCAMT_AMOUNT" type="STRING" size="256"/>
          <Column id="ARRRG_DSCNT_SE" type="STRING" size="256"/>
          <Column id="ARRRG_DSCNT_AMOUNT" type="STRING" size="256"/>
          <Column id="ARRRG_DSCNT_SUPLY_AMOUNT" type="STRING" size="256"/>
          <Column id="ARRRG_DSCNT_VAT" type="STRING" size="256"/>
          <Column id="ARRRG_DSCNT_DAYCNT" type="STRING" size="256"/>
          <Column id="ARRRG_DSCNT_INTRT" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="PAYAMT_SM" type="STRING" size="256"/>
          <Column id="UNCLAMT" type="STRING" size="256"/>
          <Column id="R_RCIV_AMOUNT" type="STRING" size="256"/>
          <Column id="R_RCIV_DE" type="STRING" size="256"/>
          <Column id="R_RCIV_MTH" type="STRING" size="256"/>
          <Column id="R_BANK_CODE" type="STRING" size="256"/>
          <Column id="R_OCR_NO" type="STRING" size="256"/>
          <Column id="R_OPETR_ID" type="STRING" size="256"/>
          <Column id="INSTLMT_AT" type="STRING" size="256"/>
          <Column id="RENT_ODR" type="STRING" size="256"/>
          <Column id="RENT_BGNDE" type="STRING" size="256"/>
          <Column id="RENT_ENDDE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_paySe" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_paySn" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="div_search.cmb_ladCodeSh" propid="value" datasetid="ds_cond00" columnid="LAD_CODE"/>
      <BindItem id="item1" compid="div_search.edt_blckSh" propid="value" datasetid="ds_cond00" columnid="BLCK"/>
      <BindItem id="item2" compid="div_search.edt_lotSh" propid="value" datasetid="ds_cond00" columnid="LOT"/>
      <BindItem id="item3" compid="div_search.edt_lotTySh" propid="value" datasetid="ds_cond00" columnid="LOT_TY"/>
      <BindItem id="item4" compid="div_work.cal_afterPayendDate" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="PAY_TMLMT"/>
      <BindItem id="item5" compid="div_work.cal_afterRentDeTo" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="RENT_ENDDE"/>
      <BindItem id="item6" compid="div_work.msk_afterAmt" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="FYER_RNTCHRG"/>
      <BindItem id="item7" compid="div_work.msk_afterGtn" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="RENT_GTN"/>
      <BindItem id="item8" compid="div_work.cal_afterRentDeFr" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="RENT_BGNDE"/>
      <BindItem id="item9" compid="div_work.cal_beforePayendDate" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="BFCHG_PAY_TMLMT"/>
      <BindItem id="item10" compid="div_work.cal_beforeRentDeTo" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="BFCHG_RENT_ENDDE"/>
      <BindItem id="item11" compid="div_work.msk_beforeAmt" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="BFCHG_FYER_RNTCHRG"/>
      <BindItem id="item12" compid="div_work.msk_beforeGtn" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="BFCHG_RENT_GTN"/>
      <BindItem id="item13" compid="div_work.cal_beforeRentDeFr" propid="value" datasetid="ds_LcntrctrReCntrctList" columnid="BFCHG_RENT_BGNDE"/>
      <BindItem id="item15" compid="div_search.chk_cntrctrSttusCode" propid="value" datasetid="ds_cond00" columnid="CANCL_SE"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SLS080304
 * 화면명   : 토지계약자 재계약
 * 화면설명 : 토지계약자 재계약을 관리한다.
 * 작성일   : 2015. 10. 02
 * 작성자   : 변승우
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    2015.00.00   홍길동   fn_xxx() 보완 수정
 ***********************************************************************
 */


/***********************************************************************
 * Script Include 
 ***********************************************************************/
// 시스템 공통 라이브러리 Include
include "pms_lib::pmsUtilInclude.xjs";


/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
// 화면 전역에서 사용할 Form 변수를 선언한다.
// TODO

/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.SLS080304_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init();
	this.fn_init_form();		// Form 초기화
	this.fn_init_dataset();		// DataSet 초기화	
}

this.SLS080304_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	var DEFAULT_YM = this.dateUtils.format(this.dateUtils.today(),'yyyymm');
	this.div_search.div_applcYm.setValue(DEFAULT_YM);
	this.div_search.div_applcYm.setValue("");
	
	// 월력 바인딩
	this.div_work.div_beforeApplyYear.fn_setBind("ds_LcntrctrReCntrctList","BFCHG_APPLC_YM");
	this.div_work.div_afterApplyYear.fn_setBind("ds_LcntrctrReCntrctList","APPLC_YM");
	
	
	this.fn_loadCombo();		// Combo에 사용되는 Dataset Load
	
	// 기타 화면 로드 시 조회를 해야 하는 경우
	// TODO
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	this.gfn_initForm(this);	// 시스템 공통으로 Form을 Initialize 한다.
}

/*
 * 함수명  	: fn_init_dataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	this.gfn_initCondDs(this, this.div_search);	// 조건에 사용되는 Dataset 초기화
}


/*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function()
{
	// 토지 코드 목록 조회
	var ladCodeParam = {};
	ladCodeParam["UASE_AT"] = "1";
	this.pmsUtil.getLadCodeList(ladCodeParam, "ds_ladCodeSh","fn_callBack");
	
	var comboParams = [
				  ["ds_payCode","LAD0A1" ,"1" ,"선택"]   //납부코드
				  ,["ds_paySe","LAD0A8" ,"1" ,"선택"]   //납부구분
				  ,["ds_paySn","LAD0A9" ,"1" ,"선택"]   //납부순번
              ];

	this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
}


this.fn_callbackAfter = function()
{		

}

//=====================================================================================================

/*
 * 함수명  	    : fn_search
 * 설명 		: 재계약목록 조회
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function() 
{
	// 검색영역 Validation 체크
	if(!this.gfn_checkValidation(this.div_search, this.ds_validation)) {
		return;
	}
	
	// Clear Datasets
	this.pmsUtil.clearDataSet([this.ds_ladLcntrctrList]);
	
	// 계약목록 조회
    this.fn_transaction("selectLadLcntrctrList");     
}

//추가
var cnt = 0;
this.fn_insert = function()
{    
    var nRow = this.ds_ladLcntrctrList.rowposition;  //계약자 리스트 선택된 로우    
    if(nRow < 0){    	
    	this.alert("선택된 토지계약자 정보가 없습니다.");
        return false; 
    }
    
    for(i=0; i < this.ds_LcntrctrReCntrctList.getRowCount(); i++){
		if(this.ds_LcntrctrReCntrctList.getRowType(nAddRow) == Dataset.ROWTYPE_INSERT){
			cnt++;
		}
    }
    if(cnt > 0){    	
    	this.alert("재계약정보는 한건만 추가할 수 있습니다.");
    	cnt = 0;
        return false; 
    }
    
	//재계약 추가
	var nAddRow = this.ds_LcntrctrReCntrctList.addRow();
	
	var cntrctrNo = this.ds_ladLcntrctrList.getColumn(nRow, "CNTRCTR_NO");
	this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "CNTRCTR_NO", cntrctrNo);
	
	//최초 추가일 경우
	if(this.ds_LcntrctrReCntrctList.getRowType(nAddRow) == Dataset.ROWTYPE_INSERT){
		var ALL_CNTRCTR_NO 			= this.ds_ladLcntrctrList.getColumn(nRow, "ALL_CNTRCTR_NO");
		var CNTRCT_DE 			= this.ds_ladLcntrctrList.getColumn(nRow, "CNTRCT_DE");
		var BFCHG_RENT_BGNDE 	= this.ds_ladLcntrctrList.getColumn(nRow, "BFCHG_RENT_BGNDE");
		var BFCHG_RENT_ENDDE 	= this.ds_ladLcntrctrList.getColumn(nRow, "BFCHG_RENT_ENDDE");
		var BFCHG_RENT_GTN 		= this.ds_ladLcntrctrList.getColumn(nRow, "BFCHG_RENT_GTN");
		var BFCHG_FYER_RNTCHRG 	= this.ds_ladLcntrctrList.getColumn(nRow, "BFCHG_FYER_RNTCHRG");
		var BFCHG_APPLC_YM		= this.ds_ladLcntrctrList.getColumn(nRow, "BFCHG_APPLC_YM");

		this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "CSTMR_NM", 			ALL_CNTRCTR_NO);
		this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "CNTRCT_DE", 			CNTRCT_DE);
		this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "BFCHG_RENT_BGNDE", 	BFCHG_RENT_BGNDE);
		this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "BFCHG_RENT_ENDDE", 	BFCHG_RENT_ENDDE);
		this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "BFCHG_RENT_GTN", 		BFCHG_RENT_GTN);
		this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "BFCHG_FYER_RNTCHRG", 	BFCHG_FYER_RNTCHRG);
		this.ds_LcntrctrReCntrctList.setColumn(nAddRow, "BFCHG_APPLC_YM", 		BFCHG_APPLC_YM);
		//this.div_work.div_beforeApplyYear.setValue(BFCHG_APPLC_YM);
		
		var DEFAULT_YM = this.dateUtils.format(this.dateUtils.today(),'yyyymm');
		this.div_work.div_afterApplyYear.setValue(DEFAULT_YM);
	}
	cnt = 0;
}

//저장
this.fn_save = function()
{
	/*
	var nRow = this.ds_LcntrctrReCntrctList.rowposition;
	if(this.ds_LcntrctrReCntrctList.getRowType(nRow) == Dataset.ROWTYPE_INSERT){
		var APPLC_YM = this.div_work.div_afterApplyYear.getValue();
		this.ds_LcntrctrReCntrctList.setColumn(nRow, "APPLC_YM", 			APPLC_YM);
	}
	*/
	
	if(!this.gfn_checkValidation(this.ds_LcntrctrReCntrctList, this.ds_validation)) {
    	return;
	}	
	
	if(this.confirm("저장하시겠습니까?")){		
		this.fn_transaction("saveLcntrctrReCntrctList");		
	}
}


//삭제 
this.fn_delete = function()
{
	this.gfn_delMultiRow(this.ds_LcntrctrReCntrctList);
	
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/ 
 /*
 * 함수명  	    : fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
	
	    // 토지계약자 계약목록 조회
		case "selectLadLcntrctrList" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080304/selectLadLcntrctrList.do";
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_ladLcntrctrList=output1";			
			break;
			    
		// 토지계약자 재계약목록 조회
		case "selectLcntrctrReCntrctList" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080304/selectLcntrctrReCntrctList.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_LcntrctrReCntrctList=output1";			
			break;
			
		// 토지계약자 재계약목록 저장
		case "saveLcntrctrReCntrctList" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080304/saveLcntrctrReCntrctList.do";
			var sInDatasets   	= "input1=ds_LcntrctrReCntrctList:U input2=ds_lcntrctrRentPayPopList:U";
			var sOutDatasets  	= "";			
			break;
		
		// 임대약정 조회
		case "selectLcntrctrRentPayPopList" : 
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080201/selectLcntrctrRentPayPopList.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_lcntrctrRentPayPopList=output1";
			break;	

		default :
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}


//=====================================================================================================
/*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	var bSuccess = nErrorCode == 0 ? true : false;
	if (bSuccess){
		
		var comboOption = null;
		var targetCombo = null;
		switch(strSvcId){
				
			// 토지코드 목록 조회영역
			case "ladCodeSh" :
				targetCombo = this.div_search.cmb_ladCodeSh;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_SELECT;
				comboOption["noNullText"] = "코드없음";				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
				break;
				
			// 토지계약자 계약목록 조회
			case "selectLadLcntrctrList" :
			
				if(this.ds_ladLcntrctrList.getRowCount() > 0){
					
				}
				else{
					this.alert("조회된 데이타가 없습니다.");
				}
				
			// 토지계약자 재계약목록 조회
			case "selectLcntrctrReCntrctList" :
			
				if(this.ds_LcntrctrReCntrctList.getRowCount() > 0){
					/*
					//적용년월 셋팅
					var nRow = this.ds_ladLcntrctrList.rowposition;
					var BFCHG_APPLC_YM	= this.ds_ladLcntrctrList.getColumn(nRow, "BFCHG_APPLC_YM");
					var APPLC_YM	= this.ds_ladLcntrctrList.getColumn(nRow, "APPLC_YM");
					this.div_work.div_beforeApplyYear.setValue(BFCHG_APPLC_YM);
					this.div_work.div_afterApplyYear.setValue(APPLC_YM);
					*/
				}
				else{
					//this.alert("조회된 데이타가 없습니다.");
					//this.div_work.div_beforeApplyYear.setValue("");
					//this.div_work.div_afterApplyYear.setValue("");
				}
				break;
				
			// 토지계약자 재계약목록 저장
			case "saveLcntrctrReCntrctList" :
				this.alert("저장되었습니다.");
				this.ds_ladLcntrctrList_onrowposchanged();
				break;
				
			// 임대약정 조회
			case "selectLcntrctrRentPayPopList" :
				break;
		}
	}
	else{
		this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
	}
}

/***********************************************************************
* Transaction 영역 끝
************************************************************************/


/***********************************************************************
* 사용자 정의 함수
************************************************************************/
// 할부 금액 적용 버튼
this.div_work_Div00_btn_application_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.alert("준비중입니다.");
}

this.ds_ladLcntrctrList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if (this.ds_ladLcntrctrList.rowcount > 0) {
	
		// Clear Datasets
		this.pmsUtil.clearDataSet([this.ds_LcntrctrReCntrctList]);
		//this.div_work.div_beforeApplyYear.setValue("");
		//this.div_work.div_afterApplyYear.setValue("");
	
		// 조회조건 설정		
		this.ds_cond01.setColumn(0, "CNTRCTR_NO", this.ds_ladLcntrctrList.getColumn(this.ds_ladLcntrctrList.rowposition, "CNTRCTR_NO"));		
		this.ds_cond01.setColumn(0, "LAD_CODE", this.ds_ladLcntrctrList.getColumn(this.ds_ladLcntrctrList.rowposition, "LAD_CODE"));
		this.ds_cond01.setColumn(0, "BLCK", this.ds_ladLcntrctrList.getColumn(this.ds_ladLcntrctrList.rowposition, "BLCK"));
		this.ds_cond01.setColumn(0, "LOT", this.ds_ladLcntrctrList.getColumn(this.ds_ladLcntrctrList.rowposition, "LOT"));
		this.ds_cond01.setColumn(0, "LOT_TY", this.ds_ladLcntrctrList.getColumn(this.ds_ladLcntrctrList.rowposition, "LOT_TY"));
		this.ds_cond01.setColumn(0, "APPLC_YM", this.div_search.div_applcYm.getValue());	


	    //1.재계약해약정보 조회
	    this.fn_transaction("selectLcntrctrReCntrctList");
	    
	    // 임대약정 조회
		this.ds_cond01.setColumn(0, "LTTOT_RENT_SE", "R");
		this.fn_transaction("selectLcntrctrRentPayPopList");
		
	}
}


//임대약정에 변경건 있으면 로우변경 금지
this.ds_LcntrctrReCntrctList_canrowposchange = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(Ex.util.isUpdated(this.ds_lcntrctrRentPayPopList) == true && this.ds_lcntrctrRentPayPopList.rowcount > 0){
		this.alert("임대약정리스트에 변경된 데이타가 있습니다.");
		return false;		
	}
}


//한건만 선택
this.ds_LcntrctrReCntrctList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	for(var i = 0; i < this.ds_LcntrctrReCntrctList.rowcount; i++){
		if( i == this.ds_LcntrctrReCntrctList.rowposition){			
			this.ds_LcntrctrReCntrctList.setColumn(i,"CHK","1");
		}
		else{
			this.ds_LcntrctrReCntrctList.setColumn(i,"CHK","0");
		}
	}
}

// ----------------------------------------------------------------------------
// 등록
// ----------------------------------------------------------------------------
this.btn_regist_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_ladLcntrctrList.rowposition;  //계약자 리스트 선택된 로우 
    var cntrctrNo = this.ds_ladLcntrctrList.getColumn(nRow, "CNTRCTR_NO");
    var cstmrNm = this.ds_ladLcntrctrList.getColumn(nRow, "CSTMR_NM");
	var ladCode = this.ds_ladLcntrctrList.getColumn(nRow, "LAD_CODE");	
    var blck = this.ds_ladLcntrctrList.getColumn(nRow, "BLCK");
    var lot = this.ds_ladLcntrctrList.getColumn(nRow, "LOT");
    var lotTy = this.ds_ladLcntrctrList.getColumn(nRow, "LOT_TY");
    var prposSe = this.ds_ladLcntrctrList.getColumn(nRow, "PRPOS_SE");
    var suplySe = this.ds_ladLcntrctrList.getColumn(nRow, "SUPLY_SE");
    var tabSe = 1; //임대
	this.gfn_popup("popup_ladPayInfo"
				   , 600
				   , 470
				   , "납부기준"
				   , {cntrctrNo:cntrctrNo, ladCode:ladCode, blck:blck, lot:lot, lotTy:lotTy, prposSe:prposSe, suplySe:suplySe, tabSe:tabSe, callback:"fn_popup_ladPayInfo_callBack"}
				   , "pms_sls_lad_ctr::SLS080201_P02.xfdl");
}

// 등록 콜백
this.fn_popup_ladPayInfo_callBack = function (ds:dataset, instlmtAt)
{
	var RE_CNTRCT_SN = this.ds_LcntrctrReCntrctList.getColumn(this.ds_LcntrctrReCntrctList.rowposition,"RE_CNTRCT_SN");
	// 테이터셋 복사
	var targetDS = new Dataset();
	targetDS = this.ds_lcntrctrRentPayPopList;
		
	for(var i = 0; i < ds.rowcount; i++){
		var nRow = targetDS.addRow();				
		targetDS.copyRow(nRow, ds, i);
		targetDS.setColumn(nRow,RE_CNTRCT_SN);
	}
	
	// 납부, 할부 라디오 버튼 설정
	//this.Tab00.tabpage1.rdo_instlmtAt.set_value(instlmtAt);

	return true;
}
]]></Script>
  </Form>
</FDL>
