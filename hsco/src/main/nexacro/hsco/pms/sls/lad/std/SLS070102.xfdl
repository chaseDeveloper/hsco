<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\..\default_typedef.xml"/>
  <Form id="SLS070102" classname="SLS070101" left="0" top="0" width="1059" height="738" titletext="토지상세정보관리" oninit="SLS070102_oninit" onload="SLS070102_onload">
    <Layouts>
      <Layout>
        <!-- [BEGIN] 조회조건 -->
        <Div id="div_search" taborder="0" left="-1" top="0" height="33" cssclass="div_WFSA_Box" right="29">
          <Layouts>
            <Layout>
              <Static id="sta_schLadCode" taborder="8" text="토지코드" cssclass="sta_WFSA_Label" left="7" top="5" height="21" width="64"/>
              <Combo id="cmb_ladCode" taborder="0" cssclass="cmb_WF_Essential" left="72" top="5" height="21" width="132" index="-1" text="선택" innerdataset="@ds_ladCode" codecolumn="LAD_CODE" datacolumn="ALL_LAD_NM" displaynulltext="선택" onitemchanged="fn_comboOnItemChangeHandler" autoselect="true" type="search"/>
              <Static id="sta_schPrposSe" taborder="9" text="용도구분" cssclass="sta_WFSA_Label" left="401" top="6" height="21" width="64"/>
              <Combo id="cmb_prposSeCode" taborder="1" left="471" top="5" height="21" width="132" innerdataset="@ds_schPrposSeCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" displaynulltext="전체"/>
              <Static id="sta_schBlt" taborder="10" text="B.L.T" cssclass="sta_WFSA_Label" left="223" top="6" height="21" width="64"/>
              <Edit id="edt_blckFm" taborder="2" left="280" top="5" width="34" height="21" inputtype="digit" maxlength="3" autoselect="true" imemode="none"/>
              <Edit id="edt_lotFm" taborder="3" left="316" top="5" width="34" height="21" imemode="none" inputtype="digit" maxlength="3" autoselect="true"/>
              <Edit id="edt_lotTyFm" taborder="4" left="352" top="5" width="34" height="21" inputtype="number,english" maxlength="2" autoselect="true" inputmode="upper" imemode="none"/>
              <Static id="sta_remndrLadSeCode" taborder="12" text="토지구분" cssclass="sta_WFSA_Label" left="618" top="5" width="64" height="21"/>
              <Combo id="cmb_remndrLadSeCode" taborder="13" left="681" top="4" width="132" height="21" innerdataset="ds_setRemndrLadSeCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" displaynulltext="전체"/>
              <Static id="sta_suplyCode" taborder="14" text="공급구분" cssclass="sta_WFSA_Label" left="831" top="5" width="64" height="21"/>
              <Combo id="cmb_suplyCode" taborder="15" left="894" top="5" width="132" height="21" innerdataset="@ds_suplyCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" displaynulltext="전체"/>
            </Layout>
          </Layouts>
        </Div>
        <!-- [ END ] 조회조건 -->
        <Static id="Static00" taborder="7" text="5" visible="false" left="0%" top="34" right="2.64%" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_titLadDetList" taborder="8" text="상세목록" cssclass="sta_WF_Title02" left="0" top="38" height="21" width="264"/>
        <Button id="btn_insertAllAddr" taborder="1" text="일괄지번" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Process" top="38" height="21" width="66" right="98"/>
        <Button id="btn_insertAll" taborder="2" text="일괄등록" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Process" top="38" height="21" width="66" right="168"/>
        <Button id="btn_deleteAll" taborder="3" text="일괄삭제" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Process" top="38" height="21" width="66" right="28"/>
        <!-- [BEGIN] 토지상세 목록 -->
        <Grid id="grd_ladDet" taborder="4" binddataset="ds_ladDetailList" useinputpanel="false" autofittype="none" onselectchanged="fn_grdOnSelectChangHandler" left="0" top="63" right="28" height="285">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="30"/>
                <Column size="55"/>
                <Column size="50"/>
                <Column size="50"/>
                <Column size="60"/>
                <Column size="72"/>
                <Column size="300"/>
                <Column size="200"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="100"/>
                <Column size="200"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="토지"/>
                <Cell col="2" text="블록"/>
                <Cell col="3" text="롯트"/>
                <Cell col="4" text="롯트타입"/>
                <Cell col="5" text="우편번호"/>
                <Cell col="6" text="주소"/>
                <Cell col="7" text="상세주소"/>
                <Cell col="8" text="지번"/>
                <Cell col="9" text="상세지번"/>
                <Cell col="10" text="공급구분"/>
                <Cell col="11" text="용도구분"/>
                <Cell col="12" text="목차"/>
                <Cell col="13" text="계약여부"/>
                <Cell col="14" text="예정금액"/>
                <Cell col="15" text="당초면적"/>
                <Cell col="16" text="당초단가"/>
                <Cell col="17" text="당초금액"/>
                <Cell col="18" text="확정면적"/>
                <Cell col="19" text="확정단가"/>
                <Cell col="20" text="확정금액"/>
                <Cell col="21" text="전체면적"/>
                <Cell col="22" text="비고"/>
              </Band>
              <Band id="body">
                <Cell style="backgroundimage: ;" expr="expr:currow+1"/>
                <Cell col="1" text="bind:LAD_CODE"/>
                <Cell col="2" text="bind:BLCK"/>
                <Cell col="3" text="bind:LOT"/>
                <Cell col="4" text="bind:LOT_TY"/>
                <Cell col="5" style="align: ;" text="bind:LOCPLC_ZIP_LNM"/>
                <Cell col="6" style="align:left;" text="bind:LOCPLC_BASS_ADRES"/>
                <Cell col="7" style="align:left;" text="bind:LOCPLC_DETAIL_ADRES"/>
                <Cell col="8" text="bind:LOCPLC_BASS_ADRES_LNM"/>
                <Cell col="9" text="bind:LOCPLC_DETAIL_ADRES_LNM"/>
                <Cell col="10" displaytype="combo" style="align:left;" text="bind:SUPLY_CODE" combodataset="ds_suplyCode" combocodecol="CODE" combodatacol="ALL_CODE_NM"/>
                <Cell col="11" displaytype="combo" style="align:left;" text="bind:PRPOS_SE" combodataset="ds_prposSeCode" combocodecol="CODE" combodatacol="ALL_CODE_NM"/>
                <Cell col="12" displaytype="combo" style="align:left;" text="bind:CNTNT_SE" combodataset="ds_cntntSeCode" combocodecol="CODE" combodatacol="ALL_CODE_NM"/>
                <Cell col="13" displaytype="combo" style="align:left;" text="bind:LAD_SE" combodataset="ds_ladSeCode" combocodecol="CODE" combodatacol="ALL_CODE_NM"/>
                <Cell col="14" displaytype="number" style="align:right;" text="bind:PLAN_AMOUNT" mask="#,##0"/>
                <Cell col="15" displaytype="number" style="align:right;" text="bind:BGNN_AR" mask="#,##0.00"/>
                <Cell col="16" displaytype="number" style="align:right;" text="bind:BGNN_UNTPC" mask="#,##0"/>
                <Cell col="17" displaytype="number" style="align:right;" text="bind:BGNN_AMOUNT" mask="#,##0"/>
                <Cell col="18" displaytype="number" style="align:right;" text="bind:DCSN_AR" mask="#,##0.00"/>
                <Cell col="19" displaytype="number" style="align:right;" text="bind:DCSN_UNTPC" mask="#,##0"/>
                <Cell col="20" displaytype="number" style="align:right;" text="bind:DCSN_AMOUNT" mask="#,##0"/>
                <Cell col="21" displaytype="number" style="align:right;" text="bind:ALL_AR" mask="#,##0.00"/>
                <Cell col="22" text="bind:RM"/>
              </Band>
              <Band id="summary">
                <Cell colspan="2" displaytype="number" style="align:left;" text="expr:dataset.getRowCount()" mask="expr:dataset.getRowCount() == 0  ? &quot;건수 : 0&quot;  : '건수 : #,###'"/>
                <Cell col="2"/>
                <Cell col="3"/>
                <Cell col="4"/>
                <Cell col="5"/>
                <Cell col="6"/>
                <Cell col="7"/>
                <Cell col="8"/>
                <Cell col="9"/>
                <Cell col="10"/>
                <Cell col="11"/>
                <Cell col="12"/>
                <Cell col="13"/>
                <Cell col="14" displaytype="number" expr="expr:dataset.getSum('PLAN_AMOUNT')" mask="#,##0"/>
                <Cell col="15" displaytype="number" expr="expr:dataset.getSum('BGNN_AR')" mask="#,##0.00"/>
                <Cell col="16" displaytype="number" autosizerow="default"/>
                <Cell col="17" displaytype="number" text="expr:dataset.getSum('BGNN_AMOUNT')" mask="#,##0"/>
                <Cell col="18" displaytype="number" expr="expr:dataset.getSum('DCSN_AR')" mask="#,##0.00"/>
                <Cell col="19" displaytype="number" text="expr:dataset.getSum('DCSN_UNTPC')" expr="expr:dataset.getSum('DCSN_UNTPC')" mask="#,##0"/>
                <Cell col="20" displaytype="number" expr="expr:dataset.getSum('DCSN_AMOUNT')" mask="#,##0"/>
                <Cell col="21"/>
                <Cell col="22"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <!-- [ END ] 토지상세 목록 -->
        <!-- [BEGIN] 상세 정보 영역 -->
        <Static id="sta_titLadDetInfo" taborder="14" text="상세정보" cssclass="sta_WF_Title02" left="0" top="363" height="21" width="130"/>
        <Button id="btn_deleteInfo" taborder="39" text="삭제" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Process" top="363" height="21" width="53" left="513" visible="false"/>
        <Button id="btn_saveInfo" taborder="38" text="저장" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Process" top="363" height="21" width="53" left="568" visible="false"/>
        <Div id="div_ladDetailInfo" taborder="5" left="0" top="389" height="311" style="background:antiquewhite;" width="621">
          <Layouts>
            <Layout>
              <Static id="sta_WFDA_Label00" taborder="36" cssclass="sta_WF_Labelbg" left="97" top="0" height="27" right="0"/>
              <Static id="sta_WFDA_Label01" taborder="37" cssclass="sta_WF_Labelbg" left="97" top="26" height="27" right="0"/>
              <Static id="sta_WFDA_Label02" taborder="38" cssclass="sta_WF_Labelbg" left="97" top="52" right="0" height="27"/>
              <Static id="sta_WFDA_Label03" taborder="39" cssclass="sta_WF_Labelbg" left="97" top="78" right="0" height="27"/>
              <Static id="sta_WFDA_Label06" taborder="42" cssclass="sta_WF_Labelbg" left="97" top="102" right="0" height="27"/>
              <Static id="sta_WFDA_Label07" taborder="43" cssclass="sta_WF_Labelbg" left="97" top="128" right="0" height="27"/>
              <Static id="sta_WFDA_Label08" taborder="44" cssclass="sta_WF_Labelbg" left="97" top="154" right="0" height="27"/>
              <Static id="sta_WFDA_Label09" taborder="45" cssclass="sta_WF_Labelbg" left="97" top="180" right="0" height="27"/>
              <Static id="sta_WFDA_Label10" taborder="46" cssclass="sta_WF_Labelbg" left="97" top="206" right="0" height="27"/>
              <Static id="sta_WFDA_Label11" taborder="47" cssclass="sta_WF_Labelbg" left="97" top="232" right="0" height="27"/>
              <Static id="sta_WFDA_Label12" taborder="48" cssclass="sta_WF_Labelbg" left="97" top="258" right="0" height="27"/>
              <Static id="sta_WFDA_Label13" taborder="49" cssclass="sta_WF_Labelbg" left="97" top="284" right="0" height="27"/>
              <!-- 토지코드 -->
              <Static id="sta_detLadCode" taborder="51" text="토지코드" cssclass="sta_WF_Label" left="0" top="0" height="27" width="100"/>
              <Edit id="edt_lad" taborder="0" readonly="true" cssclass="edt_WF_Readonly" enableevent="false" left="102" top="3" height="21" width="80"/>
              <Edit id="edt_ladNm" taborder="1" readonly="true" cssclass="edt_WF_Readonly" enableevent="false" left="184" top="3" height="21" width="200"/>
              <!-- B.L.T -->
              <Static id="sta_detBlt" taborder="52" text="B.L.T" cssclass="sta_WF_Label" left="0" top="26" height="27" width="100"/>
              <Edit id="edt_blck" taborder="2" left="102" top="29" width="45" height="21" inputtype="digit" maxlength="3" imemode="none" cssclass="edt_WF_Readonly" readonly="true"/>
              <Edit id="edt_lot" taborder="3" left="149" top="29" width="45" height="21" inputtype="digit" maxlength="3" imemode="none" cssclass="edt_WF_Readonly" readonly="true"/>
              <Edit id="edt_lotTy" taborder="4" left="196" top="29" width="45" height="21" maxlength="2" imemode="none" inputmode="upper" inputtype="number,english" cssclass="edt_WF_Readonly" readonly="true"/>
              <!-- 소재지 -->
              <Static id="sta_detLocolc" taborder="55" text="소재지" cssclass="sta_WF_Label" left="0" top="52" height="53" width="100"/>
              <Edit id="edt_locplcZip" taborder="5" left="102" top="55" height="21" width="95" readonly="false"/>
              <Button id="btn_locplcZipLnm" taborder="6" cssclass="btn_WF_Search" left="175" top="55" height="21" width="21" onclick="fn_btnOnClickHandler"/>
              <Edit id="edt_locplcBassAdres" taborder="7" left="199" top="55" height="21" width="420" readonly="false"/>
              <Edit id="edt_locplcDetailAdres" taborder="8" left="199" top="80" height="21" width="420" readonly="false"/>
              <!-- 소재지(지번) -->
              <!-- 토지구분(잔여토지) -->
              <Static id="sta_detRemndrLadSe" taborder="65" text="토지구분" cssclass="sta_WF_Label" left="0" top="102" height="27" width="100"/>
              <Combo id="cmb_remndrLadSe" taborder="13" left="102" top="105" height="21" width="118" innerdataset="@ds_remndrLadSeCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" displaynulltext="선택"/>
              <Static id="sta_bgnnAr" taborder="75" left="424" top="105" height="21" width="95" style="background:#f0f0f0ff;border:1 solid #bdbdbdff ;align:right middle;"/>
              <Static id="sta_dcsnAr" taborder="76" left="523" top="105" height="21" style="background:#f0f0f0ff;border:1 solid #bdbdbdff ;align:right middle;" width="95"/>
              <!-- 공급구분/당초면적/확정면적 -->
              <Static id="sta_detSuplyCode" taborder="69" text="공급구분" cssclass="sta_WF_Label" left="0" top="128" height="27" width="100"/>
              <Combo id="cmb_suplyCode" taborder="14" left="102" top="131" height="21" width="118" innerdataset="@ds_suplyCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" displaynulltext="선택" cssclass="cmb_WF_Essential"/>
              <Static id="sta_detBgnnAr" taborder="71" text="당초면적" cssclass="sta_WF_Label" left="222" top="128" height="27" width="100"/>
              <MaskEdit id="mse_bgnnAr" taborder="15" limitbymask="decimal" left="324" top="131" height="21" width="95" mask="#,##0.00" autoselect="true" onchanged="fn_mseOnKeyUpHandler"/>
              <Static id="sta_detDcsnAr" taborder="73" text="확정면적" cssclass="sta_WF_Label" left="421" top="128" height="27" width="100"/>
              <MaskEdit id="mse_dcsnAr" taborder="16" mask="#,##0.00" autoselect="true" limitbymask="decimal" left="523" top="131" height="21" width="95" onkeyup="fn_mseOnKeyUpHandler"/>
              <!-- 용도구분/당초단가/확정단가 -->
              <Static id="sta_detPrposSe" taborder="53" text="용도구분" cssclass="sta_WF_Label" left="0" top="154" height="27" width="100"/>
              <Combo id="cmb_prposSe" taborder="17" left="102" top="157" height="21" width="118" innerdataset="@ds_prposSeCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" displaynulltext="선택" cssclass="cmb_WF_Essential"/>
              <Static id="sta_detBgnnUntpc" taborder="54" text="당초단가" cssclass="sta_WF_Label" left="222" top="154" height="27" width="100"/>
              <MaskEdit id="mse_bgnnUntpc" taborder="18" limitbymask="decimal" left="324" top="157" height="21" width="95" mask="#,##0" autoselect="true"/>
              <Static id="sta_detDcsnUntpc" taborder="57" text="확정단가" cssclass="sta_WF_Label" left="421" top="154" height="27" width="100"/>
              <MaskEdit id="mse_dcsnUntpc" taborder="19" limitbymask="decimal" left="523" top="157" height="21" width="95" mask="#,##0" autoselect="true" onkeyup="fn_mseOnKeyUpHandler"/>
              <!-- 급지구분/당초금액/확정금액 -->
              <Static id="sta_detClassificationSe" taborder="59" text="급지구분" cssclass="sta_WF_Label" left="0" top="180" height="27" width="100"/>
              <Combo id="cmb_classificationSe" taborder="20" displaynulltext="선택" innerdataset="@ds_classificationSeCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" left="102" top="183" height="21" width="118"/>
              <Static id="sta_detBgnnAmount" taborder="62" text="당초금액" cssclass="sta_WF_Label" left="222" top="180" height="27" width="100"/>
              <MaskEdit id="mse_bgnnAmount" taborder="21" limitbymask="decimal" left="324" top="183" height="21" width="95" mask="#,##0" autoselect="true" onkeyup="fn_mseOnKeyUpHandler" onchanged="div_ladDetailInfo_mse_bgnnAmount_onchanged"/>
              <Static id="sta_detDcsnAmount" taborder="64" text="확정금액" cssclass="sta_WF_Label" left="421" top="180" height="27" width="100"/>
              <MaskEdit id="mse_dcsnAmount" taborder="22" limitbymask="decimal" left="523" top="183" height="21" width="95" mask="#,##0" autoselect="true"/>
              <!-- 목차구분/보증금/철거이행보증 -->
              <Static id="sta_detCntntSe" taborder="67" text="목차구분" cssclass="sta_WF_Label" left="0" top="206" height="27" width="100"/>
              <Combo id="cmb_cntntSe" taborder="23" displaynulltext="선택" innerdataset="@ds_cntntSeCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" left="102" top="209" height="21" width="118"/>
              <Static id="sta_detRentGtn" taborder="70" text="보증금" cssclass="sta_WF_Label" left="222" top="206" height="27" width="100"/>
              <MaskEdit id="mse_rentGtn" taborder="24" limitbymask="decimal" left="324" top="209" height="21" width="95" mask="#,##0" autoselect="true"/>
              <Static id="sta_detRemvlFlflGtn" taborder="74" text="철거이행보증" cssclass="sta_WF_Label" left="421" top="206" height="27" width="100"/>
              <MaskEdit id="mse_remvlFlflGtn" taborder="25" limitbymask="decimal" left="523" top="209" height="21" width="95" mask="#,##0" autoselect="true"/>
              <!-- 계약구분/연간임대료/전체면적 -->
              <Static id="sta_detCntrctSttus" taborder="56" text="계약구분" cssclass="sta_WF_Label" left="0" top="232" height="27" width="100"/>
              <Combo id="cmb_cntrctSttus" taborder="26" displaynulltext="선택" innerdataset="@ds_cntrctSttusCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" left="102" top="235" height="21" width="119"/>
              <Static id="sta_detFyerRntchrg" taborder="61" text="연간임대료" cssclass="sta_WF_Label" left="222" top="232" height="27" width="100"/>
              <MaskEdit id="mse_fyerRntchrg" taborder="27" limitbymask="decimal" left="324" top="235" height="21" width="95" mask="#,##0" autoselect="true"/>
              <Static id="sta_detAllAr" taborder="66" text="전체면적" cssclass="sta_WF_Label" left="421" top="232" height="27" width="100"/>
              <MaskEdit id="mse_allAr" taborder="28" limitbymask="decimal" left="523" top="235" height="21" width="95" mask="#,##0.00" autoselect="true"/>
              <!-- 계약여부/계약자 -->
              <Static id="sta_detLadSe" taborder="72" text="계약여부" cssclass="sta_WF_Label" left="0" top="258" height="27" width="100"/>
              <Combo id="cmb_ladSe" taborder="29" displaynulltext="선택" innerdataset="@ds_ladSeCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" left="102" top="261" height="21" width="119"/>
              <Static id="sta_detallNm" taborder="58" text="계약자" cssclass="sta_WF_Label" left="222" top="258" height="27" width="100"/>
              <Edit id="edt_allNm" taborder="30" readonly="true" cssclass="edt_WF_Readonly" enableevent="false" left="324" top="261" height="21" width="294"/>
              <!-- 비고 -->
              <Static id="sta_detRm" taborder="68" text="비고" cssclass="sta_WF_Label" left="0" top="284" height="27" width="100"/>
              <Edit id="edt_rm" taborder="31" left="102" top="287" height="21" width="516" autoselect="true"/>
              <!-- 첨부파일 -->
              <!--
              <FileUpload id="fup_atchFile" taborder="0" retry="0" index="0" left="102" top="367" height="21" width="407" cssclass="fup_WF_upload" innerdataset="@ds_File"/>
              -->
              <Edit id="edt_realBlck" taborder="78" inputtype="digit" readonly="false" maxlength="3" left="426" top="29" width="45" height="21" autoselect="true"/>
              <Edit id="edt_realLot" taborder="79" inputtype="digit" readonly="false" maxlength="3" left="473" top="29" width="45" height="21" autoselect="true"/>
              <Edit id="edt_realLotTy" taborder="80" inputmode="upper" inputtype="number,english" readonly="false" maxlength="3" left="520" top="29" width="45" height="21" autoselect="true"/>
              <Static id="sta_realDetBlt" taborder="81" text="B.L.T(실제)" cssclass="sta_WF_Label" left="324" top="26" width="100" height="27"/>
              <Edit id="edt_locplcDetailAdresLnm" taborder="82" left="167" top="80" right="424" height="21" readonly="false"/>
              <Edit id="edt_locplcBassAdresLnm" taborder="83" left="102" top="80" right="456" height="21" readonly="false"/>
              <Static id="sta_detAtchFile" taborder="84" text="첨부파일" cssclass="sta_WF_Label" visible="false" left="0" top="310" width="100" height="27"/>
              <Edit id="edt_atchFile" taborder="85" readonly="true" visible="false" enableevent="false" left="101" top="313" width="407" height="21"/>
              <Button id="btn_atchFile" taborder="86" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Search" visible="false" left="486" top="313" width="23" height="21" onmouseenter="fn_btnOnMouseEnterHandler"/>
              <Button id="btn_cancelAtchFile" taborder="87" text="취소" onclick="fn_btnOnClickHandler" visible="false" left="511" top="313" width="53" height="21"/>
              <Button id="btn_delAtchFile" taborder="88" text="삭제" onclick="fn_btnOnClickHandler" visible="false" left="511" top="313" width="53" height="21"/>
              <Button id="btn_viewAtchFile" taborder="89" text="보기" onclick="fn_btnOnClickHandler" visible="false" left="566" top="313" width="52" height="21"/>
              <Static id="sta_WFDA_Label14" taborder="90" cssclass="sta_WF_Labelbg" visible="false" left="97" top="310" right="0" height="27"/>
              <Static id="sta_detBgnnAr00" taborder="91" text="예정금액" cssclass="sta_WF_Label" left="222" top="102" width="100" height="27"/>
              <MaskEdit id="mse_bgnnAr00" taborder="92" mask="#,##0" autoselect="true" onkeyup="fn_mseOnKeyUpHandler" left="324" top="105" width="95" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <!-- [ END ] 상세 정보 영역 -->
        <Static id="Static01" taborder="36" text="5" visible="false" left="0" top="712" right="27" height="22" style="background:#dc143c3c;align:center middle;"/>
        <!--
        <ImageViewer id="ImageViewer00" taborder="40" text="ImageViewer00" left="74.13%" top="474" right="10.1%" height="140"/>
        -->
        <Tab id="tab_master" taborder="40" left="1078" top="0" right="-424" bottom="318" tabindex="0" scrollbars="autoboth" style="showextrabutton:false;" visible="false">
          <Tabpages>
            <Tabpage id="tpg_ladPay" text="납부정보">
              <Layouts>
                <Layout>
                  <Button id="btn_grdLadPayClass" taborder="5" text="급지적용" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Process" top="5" right="200" width="66" height="19" visible="false"/>
                  <Button id="btn_grdLadPayAddRow" taborder="6" text="행추가" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Gridadd" top="5" right="133" width="64" height="19" visible="false"/>
                  <Button id="btn_grdLadPayDelRow" taborder="7" text="행삭제" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Griddel" top="5" right="67" width="64" height="19" visible="false"/>
                  <Button id="btn_grdLadPayCnlRow" taborder="8" text="행취소" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Gridcnl" top="5" right="1" width="64" height="19" visible="false"/>
                  <Grid id="grd_ladPayInfo" taborder="9" binddataset="ds_ladPayInfoList" autoenter="select" useinputpanel="false" autofittype="col" left="1" top="29" right="1" bottom="42" visible="false">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="40"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="80"/>
                          <Column size="120"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="납부코드"/>
                          <Cell col="2" text="납부기한일"/>
                          <Cell col="3" text="비율"/>
                          <Cell col="4" text="납부금액"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" style="backgroundimage: ;" text="bind:CHK"/>
                          <Cell col="1" displaytype="combo" edittype="combo" text="bind:PAY_CODE" editautoselect="true" combodataset="ds_ladPayCode" combocodecol="CODE" combodatacol="ALL_CODE_NM" combodisplaynulltext="expr:this.parent.parent.pmsUtil.getPromptText('PROMPT_SELECT')" combodisplay="display"/>
                          <Cell col="2" displaytype="date" edittype="date" text="bind:PAY_TMLMT" editautoselect="true" calendardisplay="display"/>
                          <Cell col="3" displaytype="number" edittype="masknumber" style="align:right;" text="bind:PAY_RATE" mask="###.##" editautoselect="true" editdisplay="display" editlimitbymask="both"/>
                          <Cell col="4" displaytype="number" edittype="masknumber" style="align:right;" text="bind:PAYAMT" mask="#,##0" editautoselect="true" editdisplay="display"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Grid id="grd_rpairs_file" taborder="41" binddataset="ds_rpairs_file" useinputpanel="false" autofittype="col" left="632" top="388" right="28" bottom="26">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="26"/>
                <Column size="26"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="25" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="checkbox" edittype="checkbox"/>
                <Cell col="1" style="font:9 돋움;" text="순번"/>
                <Cell col="2" style="font:9 돋움;" text="파일명"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                <Cell col="1" text="expr:currow + 1"/>
                <Cell col="2" style="align:left middle;" text="bind:FILE_NM"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="Button01" taborder="42" text="파일추가" onclick="Button01_onclick" cssclass="btn_WF_Gridadd" top="367" height="19" right="186" width="81"/>
        <Button id="Button06" taborder="43" text="파일삭제" onclick="Button06_onclick" cssclass="btn_WF_Griddel" top="367" height="19" right="108" width="74"/>
        <Button id="Button03" taborder="44" text="다운로드" onclick="Button03_onclick" cssclass="btn_WF_Process" top="367" height="19" right="28" width="76"/>
        <Static id="sta_titLadDetInfo00" taborder="45" text="첨부파일" cssclass="sta_WF_Title02" left="632" top="363" width="130" height="21"/>
      </Layout>
    </Layouts>
    <Objects>
      <!-- 토지구분-잔여지(LAD0A2) -->
      <Dataset id="ds_remndrLadSeCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 공급구분(LAD004) -->
      <Dataset id="ds_suplyCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 용도구분(LAD003) -->
      <Dataset id="ds_schPrposSeCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prposSeCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 급지구분(LAD0B5) -->
      <Dataset id="ds_classificationSeCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 목차구분(LAD002) -->
      <Dataset id="ds_cntntSeCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 계약상태(구분)(LAD0A4) -->
      <Dataset id="ds_cntrctSttusCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 토지상태구분(계약여부)(LAD0A3) -->
      <Dataset id="ds_ladSeCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 토지납부코드(LAD0A1) -->
      <Dataset id="ds_ladPayCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 토지코드 -->
      <Dataset id="ds_ladCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="ALL_LAD_NM" type="STRING" size="256"/>
          <Column id="ACQS_AMOUNT" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP" type="STRING" size="256"/>
          <Column id="LOCPLC_ADRES" type="STRING" size="256"/>
          <Column id="OPERTN_BGNDE" type="STRING" size="256"/>
          <Column id="OPERTN_ENDDE" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_1" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 토지코드별 대상토지 목록 -->
      <Dataset id="ds_ladDetailList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" canrowposchange="fn_dsCanRowPosChangeHandler" onrowposchanged="ds_ladDetailList_onrowposchanged">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="LAD_SE" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP" type="STRING" size="256"/>
          <Column id="LOCPLC_BASS_ADRES" type="STRING" size="256"/>
          <Column id="LOCPLC_DETAIL_ADRES" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP_LNM" type="STRING" size="256"/>
          <Column id="LOCPLC_BASS_ADRES_LNM" type="STRING" size="256"/>
          <Column id="LOCPLC_DETAIL_ADRES_LNM" type="STRING" size="256"/>
          <Column id="PRPOS_SE" type="STRING" size="256"/>
          <Column id="CLASSIFICATION_SE" type="STRING" size="256"/>
          <Column id="CNTNT_SE" type="STRING" size="256"/>
          <Column id="BGNN_AR" type="BIGDECIMAL" size="256"/>
          <Column id="BGNN_UNTPC" type="BIGDECIMAL" size="256"/>
          <Column id="BGNN_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="DCSN_AR" type="BIGDECIMAL" size="256"/>
          <Column id="DCSN_UNTPC" type="BIGDECIMAL" size="256"/>
          <Column id="DCSN_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="REMVL_FLFL_GTN" type="STRING" size="256"/>
          <Column id="RENT_GTN" type="STRING" size="256"/>
          <Column id="FYER_RNTCHRG" type="STRING" size="256"/>
          <Column id="ATCH_FLPTH" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="FILE_ORDR" type="STRING" size="256"/>
          <Column id="FILE_EXTSN" type="STRING" size="256"/>
          <Column id="FILE_TY" type="STRING" size="256"/>
          <Column id="ATCH_FILE" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="REMNDR_LAD_SE" type="STRING" size="256"/>
          <Column id="SUPLY_CODE" type="STRING" size="256"/>
          <Column id="CNTRCT_STTUS" type="STRING" size="256"/>
          <Column id="BDNBR" type="STRING" size="256"/>
          <Column id="ALL_AR" type="BIGDECIMAL" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="LAD_CSTMR_NO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="ALL_NM" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="ALL_LAD_NM" type="STRING" size="256"/>
          <Column id="PRPOS_SE_NM" type="STRING" size="256"/>
          <Column id="CNTNT_SE_NM" type="STRING" size="256"/>
          <Column id="LAD_SE_NM" type="STRING" size="256"/>
          <Column id="CLASSIFICATION_SE_NM" type="STRING" size="256"/>
          <Column id="REMNDR_LAD_SE_NM" type="STRING" size="256"/>
          <Column id="SUPLY_CODE_NM" type="STRING" size="256"/>
          <Column id="CNTRCT_STTUS_NM" type="STRING" size="256"/>
          <Column id="ALL_ADDR" type="STRING" size="256"/>
          <Column id="CLASSIFICATION_UNTPC" type="STRING" size="256"/>
          <Column id="BLCK_SUM" type="STRING" size="256"/>
          <Column id="REAL_BLCK" type="STRING" size="256"/>
          <Column id="REAL_LOT" type="STRING" size="256"/>
          <Column id="REAL_LOT_TY" type="STRING" size="256"/>
          <Column id="ORGINL_FILE_NM" type="STRING" size="256"/>
          <Column id="PLAN_AMOUNT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 대상토지 납부정보 -->
      <Dataset id="ds_ladPayInfoList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" cancolumnchange="fn_dsCanColumnChangeHandler" oncolumnchanged="fn_dsOnColumnChangeHandler">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="PAY_RATE" type="FLOAT" size="256"/>
          <Column id="PAYAMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 대상토지 납부정보 : 급지적용용 조회내역 -->
      <Dataset id="ds_ladPayInfoListClass" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="PAY_RATE" type="FLOAT" size="256"/>
          <Column id="PAYAMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 조회조건 -->
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="PRPOS_SE" type="STRING" size="256"/>
          <Column id="BLCK_FM" type="STRING" size="256"/>
          <Column id="LOT_FM" type="STRING" size="256"/>
          <Column id="LOT_TY_FM" type="STRING" size="256"/>
          <Column id="BLCK_TO" type="STRING" size="256"/>
          <Column id="LOT_TO" type="STRING" size="256"/>
          <Column id="LOT_TY_TO" type="STRING" size="256"/>
          <Column id="BLT_FM" type="STRING" size="256"/>
          <Column id="BLT_TO" type="STRING" size="256"/>
          <Column id="SUPLY_CODE" type="STRING" size="256"/>
          <Column id="REMNDR_LAD_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 조회조건 - 납부정보, 할인정보 조회용 -->
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 조회조건 - 납부정보 급지적용 용-->
      <Dataset id="ds_cond02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="PRPOS_SE" type="STRING" size="256"/>
          <Column id="SUPLY_CODE" type="STRING" size="256"/>
          <Column id="DELETE_AT" type="STRING" size="256"/>
          <!-- 당초금액-->
          <Column id="BGNN_AMOUNT" type="STRING" size="256"/>
          <!-- 확정금액 -->
          <Column id="DCSN_AMOUNT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 첨부파일관련 : 파일일련번호 -->
      <Dataset id="ds_fileSn" firefirstcount="0" firenextcount="0" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" useclientlayout="true">
        <ColumnInfo>
          <Column id="FILE_SN" type="BIGDECIMAL" size="256"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="JOB_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <!-- 실패 목록 -->
      <Dataset id="ds_failLadList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_failPayList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <!-- 입력값 확인 -->
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">div_search</Col>
            <Col id="colId">cmb_ladCode</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">토지코드</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond02</Col>
            <Col id="colId">LAD_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">상세정보의 토지코드</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond02</Col>
            <Col id="colId">BLCK</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">상세정보의 블록</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond02</Col>
            <Col id="colId">LOT</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">상세정보의 롯트</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond02</Col>
            <Col id="colId">LOT_TY</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">상세정보의 롯트구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond02</Col>
            <Col id="colId">SUPLY_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">상세정보의 공급구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond02</Col>
            <Col id="colId">PRPOS_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">상세정보의 용도구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladDetailList</Col>
            <Col id="colId">LAD_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">토지코드</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladDetailList</Col>
            <Col id="colId">BLCK</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">블록</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladDetailList</Col>
            <Col id="colId">LOT</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">롯트</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladDetailList</Col>
            <Col id="colId">LOT_TY</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">롯트구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladDetailList</Col>
            <Col id="colId">SUPLY_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">공급구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladDetailList</Col>
            <Col id="colId">PRPOS_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">용도구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladPayInfoList</Col>
            <Col id="colId">PAY_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">납부코드</Col>
          </Row>
          <Row>
            <Col id="compId">ds_ladPayInfoList</Col>
            <Col id="colId">PAY_TMLMT</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">납부기한일</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_setRemndrLadSeCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_SetsuplyCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rpairs_file" onrowposchanged="ds_rpairs_photo_onrowposchanged" useclientlayout="true">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="FILE_NO" type="STRING" size="256"/>
          <Column id="FILE_NM" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="FILE_ORDR" type="STRING" size="256"/>
          <Column id="FILE_EXTSN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond05" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="255"/>
          <Column id="BLCK" type="STRING" size="255"/>
          <Column id="LOT" type="STRING" size="255"/>
          <Column id="LOT_TY" type="STRING" size="255"/>
          <Column id="ATCH_FILE" type="STRING" size="255"/>
          <Column id="ATCH_FLPTH" type="STRING" size="255"/>
          <Column id="FILE_SN" type="STRING" size="255"/>
          <Column id="FILE_ORDR" type="STRING" size="255"/>
          <Column id="FILE_EXTSN" type="STRING" size="256"/>
          <Column id="FILE_TY" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond" useclientlayout="true">
        <ColumnInfo>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cnt" useclientlayout="true">
        <ColumnInfo>
          <Column id="CNT" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond03" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="FILE_ORDR" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_file_delete" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="FILE_ORDR" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item38" compid="div_ladDetailInfo.edt_atchFile" propid="value" datasetid="ds_ladDetailList" columnid="ORGINL_FILE_NM"/>
      <BindItem id="item40" compid="div_search.cmb_suplyCode" propid="value" datasetid="ds_cond00" columnid="SUPLY_CODE"/>
      <BindItem id="item0" compid="div_search.cmb_ladCode" propid="value" datasetid="ds_cond00" columnid="LAD_CODE"/>
      <BindItem id="item1" compid="div_search.cmb_prposSeCode" propid="value" datasetid="ds_cond00" columnid="PRPOS_SE"/>
      <BindItem id="item2" compid="div_search.edt_blckFm" propid="value" datasetid="ds_cond00" columnid="BLCK_FM"/>
      <BindItem id="item3" compid="div_search.edt_lotFm" propid="value" datasetid="ds_cond00" columnid="LOT_FM"/>
      <BindItem id="item4" compid="div_search.edt_lotTyFm" propid="value" datasetid="ds_cond00" columnid="LOT_TY_FM"/>
      <BindItem id="item10" compid="div_ladDetailInfo.edt_locplcBassAdres" propid="value" datasetid="ds_ladDetailList" columnid="LOCPLC_BASS_ADRES"/>
      <BindItem id="item9" compid="div_ladDetailInfo.edt_locplcZip" propid="value" datasetid="ds_ladDetailList" columnid="LOCPLC_ZIP_LNM"/>
      <BindItem id="item11" compid="div_ladDetailInfo.edt_locplcDetailAdres" propid="value" datasetid="ds_ladDetailList" columnid="LOCPLC_DETAIL_ADRES"/>
      <BindItem id="item8" compid="div_ladDetailInfo.edt_lad" propid="value" datasetid="ds_ladDetailList" columnid="LAD_CODE"/>
      <BindItem id="item12" compid="div_ladDetailInfo.edt_ladNm" propid="value" datasetid="ds_ladDetailList" columnid="LAD_NM"/>
      <BindItem id="item13" compid="div_ladDetailInfo.edt_blck" propid="value" datasetid="ds_ladDetailList" columnid="BLCK"/>
      <BindItem id="item14" compid="div_ladDetailInfo.edt_lot" propid="value" datasetid="ds_ladDetailList" columnid="LOT"/>
      <BindItem id="item15" compid="div_ladDetailInfo.edt_lotTy" propid="value" datasetid="ds_ladDetailList" columnid="LOT_TY"/>
      <BindItem id="item19" compid="div_ladDetailInfo.cmb_remndrLadSe" propid="value" datasetid="ds_ladDetailList" columnid="REMNDR_LAD_SE"/>
      <BindItem id="item20" compid="div_ladDetailInfo.cmb_suplyCode" propid="value" datasetid="ds_ladDetailList" columnid="SUPLY_CODE"/>
      <BindItem id="item21" compid="div_ladDetailInfo.mse_bgnnAr" propid="value" datasetid="ds_ladDetailList" columnid="BGNN_AR"/>
      <BindItem id="item22" compid="div_ladDetailInfo.mse_dcsnAr" propid="value" datasetid="ds_ladDetailList" columnid="DCSN_AR"/>
      <BindItem id="item23" compid="div_ladDetailInfo.cmb_prposSe" propid="value" datasetid="ds_ladDetailList" columnid="PRPOS_SE"/>
      <BindItem id="item24" compid="div_ladDetailInfo.mse_bgnnUntpc" propid="value" datasetid="ds_ladDetailList" columnid="BGNN_UNTPC"/>
      <BindItem id="item25" compid="div_ladDetailInfo.mse_dcsnUntpc" propid="value" datasetid="ds_ladDetailList" columnid="DCSN_UNTPC"/>
      <BindItem id="item26" compid="div_ladDetailInfo.cmb_classificationSe" propid="value" datasetid="ds_ladDetailList" columnid="CLASSIFICATION_SE"/>
      <BindItem id="item27" compid="div_ladDetailInfo.mse_bgnnAmount" propid="value" datasetid="ds_ladDetailList" columnid="BGNN_AMOUNT"/>
      <BindItem id="item28" compid="div_ladDetailInfo.mse_dcsnAmount" propid="value" datasetid="ds_ladDetailList" columnid="DCSN_AMOUNT"/>
      <BindItem id="item29" compid="div_ladDetailInfo.cmb_cntntSe" propid="value" datasetid="ds_ladDetailList" columnid="CNTNT_SE"/>
      <BindItem id="item30" compid="div_ladDetailInfo.mse_rentGtn" propid="value" datasetid="ds_ladDetailList" columnid="RENT_GTN"/>
      <BindItem id="item31" compid="div_ladDetailInfo.mse_remvlFlflGtn" propid="value" datasetid="ds_ladDetailList" columnid="REMVL_FLFL_GTN"/>
      <BindItem id="item32" compid="div_ladDetailInfo.cmb_cntrctSttus" propid="value" datasetid="ds_ladDetailList" columnid="CNTRCT_STTUS"/>
      <BindItem id="item33" compid="div_ladDetailInfo.mse_fyerRntchrg" propid="value" datasetid="ds_ladDetailList" columnid="FYER_RNTCHRG"/>
      <BindItem id="item34" compid="div_ladDetailInfo.mse_allAr" propid="value" datasetid="ds_ladDetailList" columnid="ALL_AR"/>
      <BindItem id="item35" compid="div_ladDetailInfo.cmb_ladSe" propid="value" datasetid="ds_ladDetailList" columnid="LAD_SE"/>
      <BindItem id="item36" compid="div_ladDetailInfo.edt_allNm" propid="value" datasetid="ds_ladDetailList" columnid="ALL_NM"/>
      <BindItem id="item37" compid="div_ladDetailInfo.edt_rm" propid="value" datasetid="ds_ladDetailList" columnid="RM"/>
      <BindItem id="item39" compid="div_search.cmb_remndrLadSeCode" propid="value" datasetid="ds_cond00" columnid="REMNDR_LAD_SE"/>
      <BindItem id="item5" compid="div_ladDetailInfo.edt_realBlck" propid="value" datasetid="ds_ladDetailList" columnid="REAL_BLCK"/>
      <BindItem id="item6" compid="div_ladDetailInfo.edt_realLot" propid="value" datasetid="ds_ladDetailList" columnid="REAL_LOT"/>
      <BindItem id="item7" compid="div_ladDetailInfo.edt_realLotTy" propid="value" datasetid="ds_ladDetailList" columnid="REAL_LOT_TY"/>
      <BindItem id="item16" compid="div_ladDetailInfo.edt_locplcDetailAdresLnm" propid="value" datasetid="ds_ladDetailList" columnid="LOCPLC_DETAIL_ADRES_LNM"/>
      <BindItem id="item17" compid="div_ladDetailInfo.edt_locplcBassAdresLnm" propid="value" datasetid="ds_ladDetailList" columnid="LOCPLC_BASS_ADRES_LNM"/>
      <BindItem id="item18" compid="div_ladDetailInfo.mse_bgnnAr00" propid="value" datasetid="ds_ladDetailList" columnid="PLAN_AMOUNT"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SLS070102
 * 화면명   : 토지상세정보 관리
 * 화면설명 : 토지상세정보를 관리한다.
 * 작성일   : 2015.07.20
 * 작성자   : 
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    2015.09.17   이상준   Re-Work
 ***********************************************************************
 */
 
/***********************************************************************
 * Script Include 
 ***********************************************************************/
// 시스템 공통 라이브러리 Include
include "pms_lib::pmsUtilInclude.xjs";

/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
// 화면 전역에서 사용할 Form 변수를 선언한다.
this.SELECTED_LAD_CODE = null;				// 선택 토지코드
this.SELECTED_LAD_NM = null;				// 선택 토지명

this.RELOAD_LAD_DETAIL_LIST = false;		// 토지상세목록 리로드 여부

this.SELECTED_LAD_DETAIL_INFO = null;		// 선택 토지정보
this.AFTER_LAD_DETAIL_INDEX = -1;			// 후 선택 토지 정보 Index
this.AFTER_LAD_DETAIL_INFO = null;			// 후 선택 토지 정보

this.SYS_SE = "PMS";						// 시스템 구분
/*this.JOB_SE = "SLS";						// 업무 구분*/
this.JOB_SE = "LAD";						// 업무 구분
this.FILE_MANAGER = null;					// 파일 업/다운로더
var rowpos = "";
var select_at = false;
var save_row = -1;
this.chargerYn = 'N';
var newRow = 'N';

// 조회전 변경데이터 저장처리 여부
// 조회전 처리로 구현 되었으나, 공통적으로 저장하지 않아 구분값으로 처리
this.CHANG_DATA_BEFORE_SAVE = false;

// 임시 - 토지상세 삭제시 그리드 체크박스 사용여부 - 미구현
this.USE_DELETE_CHECK = false;

/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.SLS070102_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init();
	//this.fn_init_form();		// Form 초기화 - fn_init에 포함
	this.fn_init_dataset();		// DataSet 초기화	
}

this.SLS070102_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_loadCombo();		// Combo에 사용되는 Dataset Load
	this.fn_setDefaultInfo();	// 기본화면 정보 설정
	
	// 파일 업/다운로더 설정
	var fileConfig = {
		onChange: this.fn_onFileSelected,
		onSuccess : this.fn_onFileSuccess,
		onError : this.fn_onFileError
	};
	this.FILE_MANAGER = new this.fileManager(this, this.SYS_SE, this.JOB_SE);
	this.FILE_MANAGER.init(fileConfig);
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	this.gfn_initForm(this);	// 시스템 공통으로 Form을 Initialize 한다.
}

/*
 * 함수명  	: fn_init_dataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	//조회, 종료시에 수정여부 체크할 데이터셋 지정
	this.checkDs.push(this.ds_ladPayInfoList, this.ds_ladDetailList);		// 납부정보 목록, 상세목록
	
	this.gfn_initCondDs(this, this.div_search);	// 조건에 사용되는 Dataset 초기화
}

/*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function()
{
	// 공통코드 목록 조회 - 토지구분, 용도구분, 급지구분, 목차구분
/*	var comboParams = [
			["ds_remndrLadSeCode", "LAD0A2", "", "전체"],
			["ds_suplyCode", "LAD004", "", "전체"]
		];
	this.gfn_comboLoad(comboParams, this.fn_callbackAfter); ds_prposSeCode
*/	
		
	var comCodeParam = [
		  {OUT_PUT:"ds_remndrLadSeCode", GRP_CODE:"LAD0A2", USE_AT:"1", PARAM_NAME:"", PARAM_VALUE:""}	// 토지구분-잔여지
		, {OUT_PUT:"ds_prposSeCode", GRP_CODE:"LAD003", USE_AT:"1"}										// 토지용도코드
		, {OUT_PUT:"ds_classificationSeCode", GRP_CODE:"LAD0B5", USE_AT:"1"}							// 토지급지구분
		, {OUT_PUT:"ds_suplyCode", GRP_CODE:"LAD004", USE_AT:"1"}										// 토지공급코드
		, {OUT_PUT:"ds_cntntSeCode", GRP_CODE:"LAD002", USE_AT:"1"}										// 목차구분
		, {OUT_PUT:"ds_cntrctSttusCode", GRP_CODE:"LAD0A4", USE_AT:"1", PARAM_NAME:"CHRCTR_PREPAR_VALUE_0", PARAM_VALUE:"V"}	// 토지계약상태
		, {OUT_PUT:"ds_ladSeCode", GRP_CODE:"LAD0A3", USE_AT:"1"}										// 토지상태
		, {OUT_PUT:"ds_ladPayCode", GRP_CODE:"LAD0A1", USE_AT:"1"}										// 토지납부코드
	];
	//this.fn_get_remndrLadSeCode(this.div_search.cmb_remndrLadSeCode, "선택");
	//this.fn_get_suplyCode(this.div_search.cmb_suplyCode, "전체");
	this.pmsUtil.getCommonCode("selectCommonCode", comCodeParam);
	
	// 토지 코드 목록 조회
	var ladCodeParam = {};
	ladCodeParam["UASE_AT"] = "1";
	this.pmsUtil.getLadCodeList(ladCodeParam, "ds_ladCode");

}

/*
 * 함수명  	: fn_callbackAfter
 * 설명 		: callback 처리 후에 더 필요한 작업이 있을 경우, 작성
 * params  		: None
 * return Type 	: None
 * 사용법		: this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
 */
/*
this.fn_callbackAfter = function()
{
	 // TODO
}
*/
/***********************************************************************
* Transaction 영역 시작
************************************************************************/

/*--------------------------------------------------------------------
 * [BEGIN] 기본 버튼 처리
 --------------------------------------------------------------------*/
 
/*
 * 함수명  	: fn_search
 * 설명 		: 토지 상세정보 관리 대상목록  조회 이벤트 처리
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{

	this.fn_selectLadDetailList(false, false);		// 토지상세정보 조회
}

/*
 * 함수명  	: fn_insert
 * 설명 		: 신규 버튼 이벤트 처리(행추가)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function()
{
	
	this.fn_addGridRow(this.grd_ladDet, "LAD");	// 신규 토지상세정보 행 추가	
	
}

/*
 * 함수명  	: fn_save
 * 설명 		: 저장 버튼 이벤트 처리(행 저장)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{
	newRow = 'N';
	this.fn_saveDetailInfo();	// 토지 상세정보 저장
}

/*
 * 함수명  	: fn_delete
 * 설명 		: 삭제 버튼 이벤트 처리(행 삭제)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete = function()
{
	this.fn_deleteDetailInfo();	// 토지 상세정보 삭제
}

/*--------------------------------------------------------------------
 * [ END ] 기본 버튼 처리
 --------------------------------------------------------------------*/

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/

/*
 * 함수명  	: fn_selectLadDetailList
 * 설명 		: 토지상세목록 조회 처리 함수
 * params  		: reload : 재조회 여부
 * return Type 	: None
 * 사용법		: this.fn_selectLadDetailList(Boolean);
 */
this.fn_selectLadDetailList = function(reload, byFile){

	// 검색영역 Validation 체크
	if(!this.gfn_checkValidation(this.div_search, this.ds_validation)) {
		return;
	}

	// Clear DataSet
	if(byFile){
		this.pmsUtil.clearDataSet([this.ds_ladPayInfoList, this.ds_cond02, this.ds_cond01]);
	}else{
		this.pmsUtil.clearDataSet([this.ds_ladPayInfoList, this.ds_cond02, this.ds_cond01, this.ds_ladDetailList]);
	}
	
	// 선택 상세정보 초기화 - 수정시 이전 선택값 선택을 위해 구분
	if(!reload){
		this.SELECTED_LAD_DETAIL_INFO = null;
		
		// 저장후 최종 선택 정보 선택을 위한 처리
		this.AFTER_LAD_DETAIL_INDEX = -1;			// 후 선택 잔여지 정보 Index
		this.AFTER_LAD_DETAIL_INFO = null;			// 후 선택 잔여지 정보
	}

	this.RELOAD_LAD_DETAIL_LIST = reload;	// 리로드 여부 설정

	this.fn_setDetailView(false);			// 상세정보영역 설정
	
	this.FILE_MANAGER.reset();				// 파일 업/다운로더 초기화

	// BLT값 계산
	var schMap = this.pmsUtil.getDatasetItem(this.ds_cond00, 0);
	var bltInfoMap = this.pmsUtil.getBltSumInfo(schMap);				// 블록,로트,롯트구분을을 합산하여 검색조건을 만든다.
	
	// BLT 값 조회조건 반영
	this.pmsUtil.putMapToDataset(this.ds_cond00, bltInfoMap, 0);
	
	
	this.pmsUtil.getLadDetailList("ds_cond00", "ds_ladDetailList");		// 토지코드별 토지상세정보 목록 조회
}

/*
 * 함수명  	: fn_selectDetailAllInfo
 * 설명 		: 선택 토지 상세정보 요청 처리 함수
 * params  		: selRowIndex : 선택 토지상세 목록 Row Index
 * return Type 	: None
 * 사용법		: this.fn_selectDetailInfo(ROW_INDEX);
 */
this.fn_selectDetailAllInfo = function(oGrid){

	var selRowItem = this.pmsUtil.getGridSelectedItem(oGrid);
	this.SELECTED_LAD_DETAIL_INFO = selRowItem;							// 선택 토지상세정보
	
	var rowType = selRowItem["DS_ROW_TYPE"];
	
	// Clear DataSet
	this.pmsUtil.clearDataSet([this.ds_ladPayInfoList]);
	
	// 추가된 Row일 경우 return;
	if(rowType == Dataset.ROWTYPE_INSERT){
		// TODO
	}else{
		// 납부정보, 급지적용용 정보 설정
		this.pmsUtil.putMapToDataset(this.ds_cond01, selRowItem, 0);	// 납부정보 조회 용
		this.pmsUtil.putMapToDataset(this.ds_cond02, selRowItem, 0);	// 납부정보 급지적용 용
	
		this.fn_transaction("selectLadDetailAllInfo");
	}
}

/*
 * 함수명  	: fn_deleteAllDetailInfo
 * 설명 		: 토지 상세정보 일괄 삭제처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_deleteAllDetailInfo();
 */
this.fn_deleteAllDetailInfo = function(){

	var checkCnt = this.fn_checkCnt(this.grd_ladDet);
	var isDeleteAll = checkCnt > 0 ? false : true;

	var confirmMsgId = "comm.행위여부";	// {0} 하시겠습니까?
	var cmfirmMsg = "";
	if(isDeleteAll)
	{
		if(this.USE_DELETE_CHECK){
			cmfirmMsg += "선택된 토지상세정보가 없습니다.\n";
		}
		cmfirmMsg += "조회된 토지코드([" + this.SELECTED_LAD_CODE + "]" + this.SELECTED_LAD_NM + ")의 모든 상세정보를 일괄 삭제";
	}else{
		cmfirmMsg += "선택된(" + checkCnt + " 건) 토지코드([" + this.SELECTED_LAD_CODE + "]" + this.SELECTED_LAD_NM + ")의 상세정보를 일괄 삭제";
	}
	
	if(this.confirm(confirmMsgId, cmfirmMsg))
	{
		if(isDeleteAll){
			this.fn_transaction("deleteLadDetailAllInfo");		// 토지코드별 토지정보 일괄삭제
		}else{
			this.fn_transaction("deleteLadDetailCheckedInfo");	// 선택(체크) 토지코드별 토지정보 일괄삭제
		}
	}
}

/*
 * 함수명  	: fn_deleteDetailInfo
 * 설명 		: 토지 상세정보 삭제 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_deleteDetailInfo();
 */
this.fn_deleteDetailInfo = function(){

	var selItem = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);
	var rowType = selItem["DS_ROW_TYPE"];
	var rowIdx = this.ds_ladDetailList.rowposition; // selItem["DS_ROW"];
	
	var confirmMsgId = "";
	var confirmMsg = "";
	var ladInfo = "[" + selItem['LAD_CODE'] + "] "+ selItem['LAD_NM'] 
					+ " (" + selItem["BLCK"] 
					+ "-" + selItem["LOT"] 
					+ "-" + selItem["LOT_TY"] + ")";
	confirmMsgId = "comm.행위여부";	// {0} 하시겠습니까?
	confirmMsg = "선택한 토지정보(" + ladInfo + ")를 삭제합니다.\n진행";
	
	if(this.confirm(confirmMsgId, confirmMsg)){
		if(rowType == Dataset.ROWTYPE_INSERT){
			this.ds_ladDetailList.deleteRow(rowIdx);
		}else{
			// 일괄처리시 해제
			//this.ds_ladDetailList.deleteRow(rowIdx);
			this.fn_transaction("deleteLadDetailInfo");		// 선택 토지 상세정보 삭제
		}
	}
}

/*
 * 함수명  	: fn_saveDetailInfo
 * 설명 		: 토지 상세정보 저장 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_saveDetailInfo();
 */
this.fn_saveDetailInfo = function(){
	
	// 파일 첨부관련 체크 및 설정
	// 파일일련번호 채번 후 미첨부 항목 체크 및 수정
	this.fn_beforeCheckAttchFile();
	
	// 토지상세정보 수정 확인
	var isLadUpdated = this.comUtils.isDatasetUpdated(this.ds_ladDetailList);
	
	// 납부정보 수정 확인
	var isPayUpdated = this.comUtils.isDatasetUpdated(this.ds_ladPayInfoList);
	
	if(isPayUpdated){
		//this.debug("납부정보 수정내역 있음");
		
		// 체크전 필수 제외 처리 - 저장시에는 필수 처리해야 함.
		var unCheckIdx = this.ds_validation.findRow("colId", "PAY_TMLMT");
		this.ds_validation.setColumn(unCheckIdx, "notNull", "Y");
		if(!this.gfn_checkValidation(this.ds_ladPayInfoList, this.ds_validation)) {
			return;
		}
	}
	
	if(isLadUpdated){
		//this.debug("토지정보 수정내역 있음");
		
		// 기본 Validation 체크
		if(!this.gfn_checkValidation(this.ds_ladDetailList, this.ds_validation)) {
			return;
		}
	}
	
	var tranId = null;			// 요청 Transaction ID
	var fileDatasets = null;	// 파일 업로드 요청 Dataset 정보
	var checkFile = false;		// 파일 첨부 확인여부 - 토지정보의 경우 처리를 위함
	if(isLadUpdated && isPayUpdated){
		// 토지정보, 납부정보 저장
		checkFile = true;
		tranId = "saveLadDetailAllInfo";
		fileDatasets = "input1=ds_ladDetailList:U input2=ds_ladPayInfoList:U";
	}else if(isLadUpdated && !isPayUpdated){
		// 토지정보 저장
		checkFile = true;
		tranId = "saveLadDetailInfo";
		fileDatasets = "input1=ds_ladDetailList:U";
	}else if(!isLadUpdated && isPayUpdated){
		// 납부정보 저장
		checkFile = false;
		tranId = "saveLadPayInfo";
	}else{
		this.alert("comm.데이터.변경.없음");
		return;
	}
	
	if(!this.confirm("confirm.저장.여부")){
		return;
	}

	// 저장 후 선택 행 정보 설정
	this.AFTER_LAD_DETAIL_INDEX = this.ds_ladDetailList.rowposition;				// 선택 행
	this.AFTER_LAD_DETAIL_INFO = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);	// 선택 행 토지 상세정보

	// Clear DataSet
	this.pmsUtil.clearDataSet([this.ds_failLadList, this.ds_failPayList]);

	// 파일 첨부 확인 필요 저장정보
	if(checkFile){
		// 파일 첨부여부 확인
		var hasAttFile = this.FILE_MANAGER.hasFile();
		if(hasAttFile){
			var attFileCount = this.FILE_MANAGER.getfileCount();

			var sController = "hsco/pms/sls/lad/std/SLS070102/"+ tranId +".do";
			var oInDatasets = fileDatasets;
			var sOutDatasets = "ds_failList=failList";
		
			this.FILE_MANAGER.upload(sController, oInDatasets, sOutDatasets);
		}else{
			this.fn_transaction(tranId);	// 토지 상세정보 저장
		}
	}else{
		this.fn_transaction(tranId);		// 토지 상세정보 저장
	}
}

/**
 * 함수명  	: fn_selectLadPayInfoList
 * 설명 		: 토지 납부정보 조회
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_selectLadPayInfoList();
 */
this.fn_selectLadPayInfoList = function(){

	this.fn_transaction("selectLadPayInfoList");		// 토지 납부정보 조회
}

/**
 * 함수명  	: fn_transaction
 * 설명 		: 급지적용 처리 - 토지정보의 납부금액이율, 급지정보를 이용하여 해당 토지의 납부정보를 생성한다.
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_setLadPayInfoClass();
 */
this.fn_setLadPayInfoClass = function(){

	// 선택 토지 상세정보
	// this.SELECTED_LAD_DETAIL_INFO 이 있으나 변경사항이 있을수 있어 재 추출
	var selItem = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);
	var rowType = selItem["DS_ROW_TYPE"];
 
	// 검색영역 Validation 체크
	if(selItem == null){
		var altMsg = "선택된 토지상세정보가 없습니다.";
		this.gfn_message(null, altMsg);
		return;
	}
	
	// 처리 조건 설정
	this.pmsUtil.putMapToDataset(this.ds_cond02, selItem, 0);	// 납부정보 급지적용 용
	
	// 필수값 확인
	if(rowType == Dataset.ROWTYPE_INSERT){
	
		// 기본 Validation 체크
		if(!this.gfn_checkValidation(this.ds_cond02, this.ds_validation)) {
			return;
		}
		
		this.fn_transaction("selectLadPayInfoClass");		// 토지코드별 토지정보 납부정보 급지적용 용 목록 조회처리
		
	}else{
	
		var payInfoListLeng = this.ds_ladPayInfoList.getRowCount();
		var deleteAt = "N";		// 기존정보 삭제 여부
		if(payInfoListLeng > 0){
			var confirmMsg = "등록된 납부정보가 있습니다. 다시 일괄 설정하시겠습니까?";
			if(confirm(confirmMsg)){
				deleteAt = "Y";
			}else{
				return;
			}
		}
		this.ds_cond02.setColumn(0, "DELETE_AT", deleteAt);	// 기존정보 삭제여부 설정

		this.fn_transaction("createLadPayInfoClass");		// 토지코드별 토지정보 납부정보 급지적용 처리
	}
}

/**
 * 함수명  	: fn_saveLadPayInfo
 * 설명 		: 토지 납부정보 저장
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_saveLadPayInfo();
 */
//this.fn_saveLadPayInfo = function(){
//	// 기본 Validation 체크
//	// 체크전 필수 제외 처리 - 저장시에는 필수 처리해야 함.
//	var unCheckIdx = this.ds_validation.findRow("colId", "PAY_TMLMT");
//	this.ds_validation.setColumn(unCheckIdx, "notNull", "Y");
//	if(!this.gfn_checkValidation(this.ds_ladPayInfoList, this.ds_validation)) {
//		return;
//	}
//	this.fn_transaction("saveLadPayInfo");		// 토지코드별 토지정보 납부정보 저장처리
//}

/*
 * 함수명  	: fn_getFileSn
 * 설명 		: 파일 첨부용 파일일련번호(FILE_SN) 채번
 * params  		: null 	: 
 * return Type 	: None
 * 사용법		: this.fn_getFileSn()
 */
this.fn_getNewFileSn = function(){

	var selFileSn = this.pmsUtil.getGridSelectedItem(this.grd_ladDet, "FILE_SN");
	if(this.comUtils.isNullEmpty(selFileSn)){

		// 대상 DataSet 초기화
		this.pmsUtil.clearDataSet([this.ds_fileSn]);

		this.div_ladDetailInfo.btn_atchFile.set_enable(false);

		this.fn_transaction("getFileSn");
	}
}

/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{

	var bSync = true;
	
	var sController = null;
	var oInDatasets = null;
	var sOutDatasets = null;
	var reqParam = null;
	this.debug("strSvcId : " + strSvcId);
	
	switch (strSvcId) {

		// 토지코드별 토지정보 조회
		case "selectLadDetailAllInfo" :
			sController = "hsco/pms/sls/lad/std/SLS070102/selectLadDetailAllInfo.do";
			oInDatasets = "input1=ds_cond01";
			sOutDatasets = "ds_ladPayInfoList=ladPayInfoList";
			break;
			
		// 토지코드별 토지정보 저장
		case "saveLadDetailInfo" :
			sController = "hsco/pms/sls/lad/std/SLS070102/saveLadDetailInfo.do";
			oInDatasets = "input1=ds_ladDetailList:U";
			sOutDatasets = "ds_failLadList=failLadList";
			break;

		// 토지코드별 토지정보, 납부정보 통합 저장
		case "saveLadDetailAllInfo" :
			sController = "hsco/pms/sls/lad/std/SLS070102/saveLadDetailAllInfo.do";
			oInDatasets = "input1=ds_ladDetailList:U input2=ds_ladPayInfoList:U";
			sOutDatasets = "ds_failLadList=failLadList ds_failPayList=failPayList";
			break;
			
		// 토지코드별 토지정보 일괄삭제
		case "deleteLadDetailAllInfo" :
			reqParam = {};
			reqParam["LAD_CODE"] = this.SELECTED_LAD_CODE;
		
			sController = "hsco/pms/sls/lad/std/SLS070102/deleteLadDetailAllInfo.do";
			oInDatasets = reqParam;
			sOutDatasets = "";
			break;
			
		// 토지코드별 선택 토지정보 일괄삭제
		case "deleteLadDetailCheckedInfo" :
			sController = "hsco/pms/sls/lad/std/SLS070102/deleteLadDetailCheckedInfo.do";
			oInDatasets = "input1=ds_ladDetailList:U";
			sOutDatasets = "";
			break;
			
		// 선택 토지 상세정보 삭제
		case "deleteLadDetailInfo" :
			sController = "hsco/pms/sls/lad/std/SLS070102/deleteLadDetailInfo.do";
			oInDatasets = "input1=ds_cond01";
			sOutDatasets = "";
			break;
			
		// 선택 토지 상세 파일정보 삭제
		case "deleteLadDetailFileInfo" :
			reqParam = this.SELECTED_LAD_DETAIL_INFO;
			reqParam["FILE_SN"] = reqParam["FILE_SN"];
			reqParam["FILE_ORDR"] = reqParam["FILE_ORDR"];
			
			sController = "hsco/pms/sls/lad/std/SLS070102/deleteLadDetailFileInfo.do";
			oInDatasets = reqParam;
			sOutDatasets = "";
			break;
	
		// 토지코드별 토지정보 납부정보 조회처리
		case "selectLadPayInfoList" :
			sController = "hsco/pms/sls/lad/std/SLS070102/selectLadPayInfoList.do";
			oInDatasets = "input1=ds_cond01";
			sOutDatasets = "ds_ladPayInfoList=ladPayInfoList";
			break;
			
		// 토지코드별 토지정보 납부정보 급지적용 처리용 목록 조회
		case "selectLadPayInfoClass" :
			sController = "hsco/pms/sls/lad/std/SLS070102/selectLadPayInfoClass.do";
			oInDatasets = "input1=ds_cond02";
			sOutDatasets = "ds_ladPayInfoListClass=ladPayInfoList";
			break;
			
		// 토지코드별 토지정보 납부정보 급지적용 처리
		case "createLadPayInfoClass" :
			sController = "hsco/pms/sls/lad/std/SLS070102/createLadPayInfoClass.do";
			oInDatasets = "input1=ds_cond02";
			sOutDatasets = "ds_ladPayInfoList=ladPayInfoList";
			break;
			
		// 토지코드별 토지정보 납부정보 저장처리
		case "saveLadPayInfo" :
			sController = "hsco/pms/sls/lad/std/SLS070102/saveLadPayInfo.do";
			oInDatasets = "input1=ds_ladPayInfoList:U";
			sOutDatasets = "ds_failPayList=failPayList";
			break;
			
							
 		case "selectSlaryList2": // 파일조회
				trace("######################")
				trace(this.ds_cond.saveXML());
				trace("######################")
				
				sController   	= "hsco/pms/sls/lad/std/SLS070102/getMultiFileList.do";
				oInDatasets   	= "input1=ds_cond";
				sOutDatasets  	= "ds_rpairs_file=multifileList";
				break;				
			
		case "saveSlaryList2":	// 파일 저장
				sController   	= "hsco/pms/sls/lad/std/SLS070102/atchCUD.do";	
				oInDatasets 	= "input1=ds_cond05";                  
				sOutDatasets  	= "";
				break;	
										
			
		// 파일 일련번호 조회
		case "getFileSn" :
			sController   	= "hsco/cmm/file/getFileSn.do";
			oInDatasets   	= "";
			sOutDatasets  	= "ds_fileSn=output_fsn";
			break;
			
		case "delete" :	// 파일 선택 파일 삭제			
				sController = "hsco/pms/sls/lad/std/SLS070102/atchDelete.do";
				oInDatasets = "input1=ds_file_delete";
				sOutDatasets = "";
				break;					
			
		default :
			break;
	}

	if(sController == null) return;
	
	var sInDataType = typeof(oInDatasets);
	if(sInDataType == "object"){
		this.pmsUtil.pmsComTran(strSvcId, sController, oInDatasets, sOutDatasets, null, null, false);
	}else{
		Ex.core.tran(this, strSvcId, sController, oInDatasets, sOutDatasets, null, null, null, bSync);
	}
}

 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
 
/*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{

	var bSuccess = nErrorCode == 0 ? true : false;
	if (bSuccess){
		
		var comboOption = null;
		var targetCombo = null;
		switch(strSvcId){
		
			case "selectCommonCode" :			// 공통코드 목록 조회

				// 조회조건용 Dataset 설정
				this.ds_schPrposSeCode.copyData(this.ds_prposSeCode);

				// 조회영역 - 용도구분
				targetCombo = this.div_search.cmb_prposSeCode;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";
				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
				
				this.ds_setRemndrLadSeCode.copyData(this.ds_remndrLadSeCode);

				// 조회영역 - 토지구분
				targetCombo = this.div_search.cmb_remndrLadSeCode;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";
				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
								
				this.ds_SetsuplyCode.copyData(this.ds_suplyCode);

				// 조회영역 - 공급구분
				targetCombo = this.div_search.cmb_suplyCode;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";
				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);										
				
				break;

			case "ladCode" :					// 토지코드 목록 조회
				// 조회영역 - 토지코드
				targetCombo = this.div_search.cmb_ladCode;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_SELECT;
				comboOption["noNullText"] = "코드없음";
				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
				break;
				
			case "ladDetailList" :				// 토지코드별 토지상세정보 목록 조회
			
				// 토지상세목록 타이틀 설정
				this.fn_setTitleLadDetailList(false);
				break;
				
			case "selectLadDetailAllInfo" :		// 토지 상세정보 조회
			
			
				/*this.div_ladDetailInfo.mse_bgnnUntpc.set_value("");*/
				this.fn_setDetailView(true);	// 상세정보 영역 사용여부 설정 및 기타 설정
				break;
				

			case "saveLadDetailInfo" : 			// 토지코드별 토지정보 저장
				 //break;
			case "saveLadDetailAllInfo" : 		// 토지코드별 토지정보, 납부정보 통합 저장				 
			case "deleteLadDetailAllInfo" :		// 토지코드별 토지정보 일괄삭제
			case "deleteLadDetailCheckedInfo" :	// 토지코드별 선택 토지정보 일괄삭제
			case "deleteLadDetailInfo" :		// 선택 토지 상세정보 삭제
				this.fn_showFailInfoMsg(strSvcId);	// 처리 실패정보 출력
				this.fn_selectLadDetailList(true, false);
				break;
				
			case "deleteLadDetailFileInfo" :	// 선택 토지 상세 파일정보 삭제
				this.fn_selectLadDetailList(true, false);
				break;
				
			case "selectLadPayInfoList" : 		// 토지코드별 토지정보 납부정보 조회처리
				break;
				
			case "selectLadPayInfoClass" : 		// 토지코드별 토지정보 납부정보 급지적용 처리용 목록 조회
				this.fn_selectLadDetailList(true, false);	// 조회한 처리용 목록을 납부정보에 추가
				break;
				
			case "createLadPayInfoClass" : 		// 토지코드별 토지정보 납부정보 급지적용 처리
				break;
				
			case "saveLadPayInfo" :				// 토지코드별 토지정보 납부정보 저장처리
				this.fn_showFailInfoMsg(strSvcId);	// 처리 실패정보 출력
				this.fn_selectLadDetailList(true, false);
				break;
				
			// 파일일련번호 조회
			case "getFileSn" :
			
				// 채번 파일일련번호 설정
				this.fn_setFileSnInfo(true);
				break;
		
			case "delete" :
			
				// 파일삭제 
				this.ds_rpairs_file.clearData();	
				if(this.gfn_message("success.처리.성공"));	
				this.fn_selectLadDetailList(true, false);
				this.fn_transaction("selectSlaryList2"); // 파일조회	
				break;				
				
			default :
				break;
		}
	}else{
	
		//this.debug("strSvcId = " + strSvcId + " :  nErrorCode = " +  nErrorCode + " : strErrorMsg = " + strErrorMsg);
	
		this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
	}
}

/**
 * 처리결과(실패) 출력
 */
this.fn_showFailInfoMsg = function(strSvcId){

	var svcTyNm = strSvcId.indexOf("delete") > -1 ? "삭제" : "저장";
	
	var failLadLeng = this.ds_failLadList.getRowCount();
	var failPayLeng = this.ds_failPayList.getRowCount();
	
	var failMsg = svcTyNm + "에 실패하였습니다.\n";
	if(failLadLeng > 0 || failPayLeng > 0){
		if(failLadLeng > 0){
			failMsg += "\n토지상세정보 : " + failLadLeng + " 건";
		}
		if(failPayLeng > 0){
			failMsg += "\n납부정보 : " + failPayLeng + " 건";
		}
		this.gfn_message(null, failMsg);
	}
}

/***********************************************************************
* Transaction 영역 끝
************************************************************************/

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/

/*
 * 함수명  	: fn_btnOnClickHandler
 * 설명 		: 버튼 onClick 이벤트 처리
 * params  		: obj 	: 이벤트 발생 그리드 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <Button onclick="fn_btnOnClickHandler">...</Button>
 */
this.fn_btnOnClickHandler = function(obj:Button,  e:nexacro.ClickEventInfo)
{

	var btnName = obj.name;
	switch(btnName){
	
		case "btn_insertAll" :					// 토지 상세정보 일괄등록
			this.fn_popup_saveAllDetailInfo();
			break;
			
		case "btn_deleteAll" :					// 토지 상세정보 일괄삭제
			this.fn_deleteAllDetailInfo();
			break;
			
		case "btn_insertAllAddr" :				// 토지 지번 일괄처리
			this.fn_popup_saveAllAddrInfo();
			break;
		
		case "btn_locplcZip" :					// 토지 소재지 주소검색
			this.fn_popupZipCode(false);
			break;
			
		case "btn_locplcZipLnm" :				// 토지 소재지 지번 주소검색
			this.fn_popupZipCode(true);
			break;
			
		/*
		case "btn_deleteInfo" :					// 토지 상세정보 삭제 - 버튼 숨김
			this.fn_deleteDetailInfo();
			break;
			
		case "btn_saveInfo" :					// 토지 상세정보 저장 - 버튼 숨김
			this.fn_saveDetailInfo();
			break;
		*/
		
		case "btn_atchFile" :					// 첨부파일 선택
			this.fn_addAtchFile();
			break;
			
		case "btn_cancelAtchFile" :				// 첨부파일 선택 취소
			this.fn_canceAtchlFile();
			break;
			
		case "btn_delAtchFile" :				// 첨부파일 삭제
			this.fn_deleteAtchFile();
			break;
			
		case "btn_viewAtchFile" :				// 첨부파일 보기(다운로드)
			this.fn_downloadAtchFile();
			break;
			
		// [BEGIN] 납부정보 Tab 영역
		case "btn_grdLadPayClass" :				// 급지적용
			this.fn_setLadPayInfoClass();
			break;
		
		case "btn_grdLadPayAddRow" :			// 납부정보 행 추가
			this.fn_addGridRow(this.tab_master.tpg_ladPay.grd_ladPayInfo, "PAY");
			break;
		
		case "btn_grdLadPayDelRow" :			// 납부정보 행삭제
			this.fn_deleteGridRow(this.tab_master.tpg_ladPay.grd_ladPayInfo, "PAY");
			break;
		
		case "btn_grdLadPayCnlRow" :			// 납부정보 행 취소
			this.fn_cancelGridRow(this.tab_master.tpg_ladPay.grd_ladPayInfo, "PAY");
			break;
			
		// [ END ] 납부정보 Tab 영역
		
		default :
			break;
	}

}

/*
 * 함수명  	: fn_btnOnMouseEnterHandler
 * 설명 		: Button onmouseenter 이벤트 처리(마우스오버)
 * params  		: obj 	: 이벤트 발생 콤보 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <Button onitemchanged="fn_btnOnMouseEnterHandler">...</Button>
 */
this.fn_btnOnMouseEnterHandler = function(obj:Button, e:nexacro.MouseEventInfo){
	var btnName = obj.name;
	switch(btnName){
		case "btn_atchFile" :					// 첨부파일 선택
			this.fn_getNewFileSn();
			break;
		default :
			break;
	}
}

/*
 * 함수명  	: fn_comboOnItemChangeHandler
 * 설명 		: 콤보 onItemChange 이벤트 처리(아이템 선택)
 * params  		: obj 	: 이벤트 발생 콤보 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <Combo onitemchanged="fn_comboOnItemChangeHandler">...</Combo>
 */
this.fn_comboOnItemChangeHandler = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{

	var comName = obj.name;
	var comValue = e ? e.postvalue : obj.value;
	var comIndex = e ? e.postindex : obj.index;

	var paramMap = {};
	switch(comName){

		case "cmb_ladCode" :	// 조회조건 토지코드
			break;

		default :
			break;
	}
}

/*
 * 함수명  	: fn_dsCanRowPosChangeHandler
 * 설명 		: 데이터셋 canrowposchange 이벤트 처리(행 선택)
 * params  		: obj 	: 이벤트 발생 데이터셋 Component
				  e		: 발생 이벤트
 * return Type 	: Boolean
 * 사용법		: <Dataset canrowposchange="fn_dsCanRowPosChangeHandler">...</Dataset>
 */
this.fn_dsCanRowPosChangeHandler = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo){

	var result = true;
	var dsName = obj.name;
	switch(dsName){
	
		// 토지상세목록
		case "ds_ladDetailList" :
			var oldRow = e.oldrow;
			var newRow = e.newrow;

			result = this.fn_checkUpdatePayInfoList(this.ds_ladPayInfoList, "납부정보", dsName, newRow);	// 납부정보 수정내역 확인
			break;
		
		default :
			break;
	}
	
	return result;
}

/*
 * 함수명  	: fn_grdOnSelectChangHandler
 * 설명 		: 그리드 onSelectChange 이벤트 처리(행 선택)
 * params  		: obj 	: 이벤트 발생 그리드 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <Grid onselectchanged="fn_grdOnSelectChangHandler">...</Grid>
 */
this.fn_grdOnSelectChangHandler = function(obj:Grid, e:nexacro.GridSelectEventInfo){

	var gridName = obj.name;
	var selColdx = e.col;
	var selRowPosition = e.row;
	var oldRowPosition = e.oldrow;
	var targetDs = obj.binddataset ? obj.binddataset : obj.getInnerDataset();
	var targetDsObj = typeof(targetDs) == "string" ? this[targetDs] : targetDs;
	switch(gridName){

		case "grd_ladDet" :	// 상세목록
		
			var targetDsObjLeng = targetDsObj.getRowCount();
		
			if(targetDsObjLeng > 0){
			
				if(selRowPosition > -1){

					var selRowType = null;
					if(this.AFTER_LAD_DETAIL_INDEX > -1){
						
						var afterInfo = this.AFTER_LAD_DETAIL_INFO;
						selRowType = afterInfo["DS_ROW_TYPE"];
						var reSelRowPosition = -1;
						if(selRowType == Dataset.ROWTYPE_INSERT){
						
							var filterStr = "LAD_CODE=='" + afterInfo["LAD_CODE"] 
											+ "'&&BLCK=='" + afterInfo["BLCK"] 
											+ "'&&LOT=='" + afterInfo["LOT"] 
											+ "'&&LOT_TY=='" + afterInfo["LOT_TY"] + "'";
							reSelRowPosition = targetDsObj.findRowExpr(filterStr);
							
						}else{// (selRowType == Dataset.ROWTYPE_UPDATE)
							reSelRowPosition = this.AFTER_LAD_DETAIL_INDEX;
						}

						this.AFTER_LAD_DETAIL_INDEX = -1;
						this.AFTER_LAD_DETAIL_INFO = null;

						// 선택행이 첫번째(0)일 경우 수정 후 행 변경 이벤트가 발생하지 않아
						// 강제적으로 설정
						if(selRowPosition == 0 && reSelRowPosition == 0){
							if(this.RELOAD_LAD_DETAIL_LIST){
								// 선택 토지정보의 기타정보 조회 및 입력부 설정
								this.fn_getLandEtcInfoBySelectRow(obj);
								
								this.RELOAD_LAD_DETAIL_LIST = false;
							}
						}else{
							targetDsObj.set_rowposition(reSelRowPosition);
						}
					}else{
						// 선택 토지정보의 기타정보 조회 및 입력부 설정
						this.fn_getLandEtcInfoBySelectRow(obj);
					}
				}
			}else{
				this.AFTER_LAD_DETAIL_INDEX = -1;
				this.AFTER_LAD_DETAIL_INFO = null;
			}
			break;

		default :
			break;
	}
}

/**
 * 선택 토지정보의 기타정보 조회 및 입력부 설정
 */
this.fn_getLandEtcInfoBySelectRow = function(obj:Grid)
{
	// 선택한 행의 Rowtype에 따라 설정
	var selRowType = this.pmsUtil.getGridSelectedRowType(obj);
	if(selRowType == Dataset.ROWTYPE_INSERT){
		this.fn_setBLTInputFieldSttus(false);	// B.L.T 입력 필드 처리(Edit)
	}else{
		this.fn_setBLTInputFieldSttus(true);	// B.L.T 입력 필드 처리(Readonly)
	}
	
	// 해당 토지코드의 기타정보(납부정보)목록 조회
	this.fn_selectDetailAllInfo(obj);
}

/*
 * 함수명  	: fn_mseOnChangeHandler
 * 설명 		: 마스크에디터 onchange 이벤트 처리
 * params  		: obj 	: 이벤트 발생 마스트에디터 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <MaskEdit onheaderclick="fn_mseOnChangeHandler">...</MaskEdit>
 */
this.fn_mseOnKeyUpHandler = function(obj:MaskEdit, e:nexacro.ChangeEventInfo)
{
	var mseName = obj.name;
	switch(mseName){
		case "mse_bgnnAmount" : // 당초금액
			this.fn_setPayamtByRatio(this.ds_ladPayInfoList, true, obj);	// 당초금액 변경시 납부정보 금액 변경
			break;
		case "mse_bgnnAr" :	// 당초 면적
			this.fn_set_Untpc();
			break;
		case "mse_dcsnAr" :	// 확정 면적
			this.fn_setArInfo(true);
			break;
		case "mse_dcsnUntpc" : // 확정 단가
			this.fn_setDcsnAmount();
			break;
		default :
			break;
	}
}

this.div_ladDetailInfo_mse_bgnnAmount_onchanged = function(obj:MaskEdit, e:nexacro.ChangeEventInfo)
{
	this.fn_set_Untpc();
}


this.fn_set_Untpc = function()
{
	var mse_bgnnAr = this.div_ladDetailInfo.mse_bgnnAr.value;  // 당초 면적
	var mse_bgnnAmount = this.div_ladDetailInfo.mse_bgnnAmount.value; // 당초금액
	
	var bgnnAr = this.comUtils.isNullEmpty(mse_bgnnAr) ? 0 : Number(mse_bgnnAr);
	var bgnnAmount = this.comUtils.isNullEmpty(mse_bgnnAmount) ? 0 : Number(mse_bgnnAmount);
	
	if(bgnnAmount > 0){ // 당초금액을 0보다 작을수 없습니다.
		if(bgnnAr >= 0){ // 당초 면적을 0보다 작을수 없습니다.
			this.div_ladDetailInfo.mse_bgnnUntpc.set_value((Number(mse_bgnnAmount)/Number(bgnnAr)));
		}else{
			alert("당초면적은 0 보다 작을수 없습니다.");
		}		
	}else if(bgnnAmount == 0){
		if(bgnnAr == 0){ // 당초 면적을 0보다 작을수 없습니다.
			this.div_ladDetailInfo.mse_bgnnUntpc.set_value((Number(mse_bgnnAmount)/Number(bgnnAr)));
		}else{
			alert("당초금액은 0보다 작을수 없습니다.");
		}	
	}else if(bgnnAmount <= -1){
		alert("당초금액은 0보다 작을수 없습니다.");
	}
}

/*
 * 함수명  	: fn_dsOnColumnChangeHandler
 * 설명 		: 데이터셋 oncolumnchange 이벤트 처리(행 선택)
 * params  		: obj 	: 이벤트 발생 데이터셋 Component
				  e		: 발생 이벤트
 * return Type 	: Boolean
 * 사용법		: <Dataset cancolumnchange="fn_dsOnColumnChangeHandler">...</Dataset>
 */
this.fn_dsOnColumnChangeHandler = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	var result = true;
	
	var rowIdx = e.row;			// 이벤트 발생 Row Index
	var colId = e.columnid;		// 이벤트 발생 Column Index
	var newValue = e.newvalue;	// 이벤트 발생 Column 신규 값
	var dsName = obj.name;		// 이벤트 발생 Dataset Id(Name)
	
	switch(dsName){
	
		case "ds_ladPayInfoList" :	// 토지 납부정보 목록
			if(colId == "PAY_RATE"){	// 비율변경시 납부금액 자동계산처리
				this.fn_setPayamtByRatio(obj, false);
			}
			break;
			
		default :
			break;
	}
	
	return result;
}

/*
 * 함수명  	: fn_dsCanColumnChangeHandler
 * 설명 		: 데이터셋 cancolumnchange 이벤트 처리
 * params  		: obj 	: 이벤트 발생 데이터셋 Component
				  e		: 발생 이벤트
 * return Type 	: Boolean
 * 사용법		: <Dataset canrowposchange="fn_dsCanColumnChangeHandler">...</Dataset>
 */
this.fn_dsCanColumnChangeHandler = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	var result = true;
	var dsName = obj.name;
	
	var rowIdx = e.row;
	var colId = e.columnid;
	var oldValue = e.oldvalue;
	var newValue = e.newvalue;
	switch(dsName){
	
		// 토지상세목록
		case "ds_ladPayInfoList" :
		
			if(colId == "PAY_RATE"){	// 비율변경시 입력 비율 유효성 확인
				result = this.fn_enablePayRatio(obj, colId, rowIdx, newValue);
				
				if(!result){
					//this.gfn_message(null, "비율의 총합은 100을 넘을 수 없습니다.\n이전값으로 복원합니다.");
					obj.setColumn(rowIdx, colId, oldValue);
				}
			}
			break;
		
		default :
			break;		
	}
	
	return result;
}

/**
 * 납부비율 합계계산
 */
this.fn_enablePayRatio = function(obj:Dataset, colId, notRowId, notValue){
	var result = true;
	
	var canValue = this.comUtils.isNullEmpty(notValue) ? 0 : Number(notValue);
	var canSumIdx = this.comUtils.isNullEmpty(notRowId) ? -1 : notRowId;
	
	var colSum = 0;
	var rowCount = obj.getRowCount();
	for(var i = 0; i < rowCount; i++){
	
		if(canSumIdx > -1 && i == canSumIdx){
			continue;
		}
		var colValue = obj.getColumn(i, colId);
		
		colSum += Number(colValue);
	}
	
	if(canSumIdx > -1){
		colSum += canValue;
	}

	if(colSum > 100){
		result = false;
	}
		
	return result;
}

/**
 * 납부비율에 따른 납부금액 계산 및 적용
 */
this.fn_setPayamtByRatio = function(obj:Dataset, isInput , input)
{
	var objSize = obj.getRowCount();
	if(objSize > 0){

		var payInfoList = null;
		var tempListObj = this.pmsUtil.datasetToObject(obj);					// Dataset > Object(Map)
		var isArrayObj = this.pmsUtil.isArray(tempListObj);

		payInfoList = isArrayObj ? tempListObj : [tempListObj];

		var setSumAmt = 0;
		var payInfoListLeng = payInfoList == null ? 0 : payInfoList.length;

		var selItem = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);
		var dcsnAmount = isInput ? Number(input.value) : Number(selItem["BGNN_AMOUNT"]); 	// 기준금액 : 당초금액
	
		for(var i = 0; i < payInfoListLeng; i++){
			var ratioMap = payInfoList[i];
			
			var tgRatio = Number(ratioMap["PAY_RATE"]) * 0.01;			// 비율계산
			var tgAmt = Math.floor(dcsnAmount * tgRatio * 0.1) * 10;	// 비율에 따른 금액
			
			var payamt = 0;
			if(tgRatio > 0){
				var tempSumAmt = setSumAmt + tgAmt;
				if(tempSumAmt < dcsnAmount){
					payamt = tgAmt;
					setSumAmt = tempSumAmt;
				}else{
					payamt = dcsnAmount - setSumAmt;
					setSumAmt = setSumAmt + (dcsnAmount - setSumAmt);
				}
			}
			
			ratioMap["PAYAMT"] = payamt;
		}
		
		// 잔금처리 - 2009.07.30 박선영씨 요청으로 남는금액은 계약금에 합산함.
		if(setSumAmt < dcsnAmount){
			var blce = dcsnAmount - setSumAmt;

			for(var j = 0; j < payInfoListLeng; j++){
				var payItemMap = payInfoList[j];
				
				var payCode = payItemMap["PAY_CODE"];
				var inPayAmt = Number(payItemMap["PAYAMT"]); 	// 납부금액
				
				// 계약금(S0)의 경우 처리
				if(payCode == "S0"){
					var newPayAmt = inPayAmt + blce;
					payItemMap["PAYAMT"] = newPayAmt;
					break;
				}
			}
		}
		
		// 결과 데이터셋 적용
		this.pmsUtil.putListToDataset(this.ds_ladPayInfoList, payInfoList);
		//this.ds_ladPayInfoList.applyChange();	// 변경적용 > 적용시 수정인데 초기로 설정되는 문제발생 > 주석처리
		// 직접 변경시 데이터셋은 변경이 되었으나 그리드에 정상출력이 되지않는 문제로 별도 처리
		this.pmsUtil.commitGridView(this.tab_master.tpg_ladPay.grd_ladPayInfo);
	}
}

/***********************************************************************
* 사용자 정의 함수
************************************************************************/
/**
 * 화면 기본 설정
 */
this.fn_setDefaultInfo = function(){
	
	this.fn_setTitleLadDetailList(true);	// 토지상세목록 타이틀 설정
	
	this.fn_setDetailView(false);			// 상세정보 영역 설정
}

/**
 * 상세정보 영역 사용여부 설정 및 기타 설정
 */
this.fn_setDetailView = function(enabled){

	this.div_ladDetailInfo.set_enable(enabled);	// 상세정보 영역
	this.btn_deleteInfo.set_enable(enabled);	// 상세정보 삭제버튼
	this.btn_saveInfo.set_enable(enabled);		// 상세정보 저장버튼
	
	// 평형정보 계산 및 출력
	if(enabled){
		this.fn_setArInfo(false);				
	}
	this.div_ladDetailInfo.sta_bgnnAr.set_visible(enabled);
	this.div_ladDetailInfo.sta_dcsnAr.set_visible(enabled);
	
	// 첨부파일 부 설정
	this.fn_setAtchFileView();
	
	// Tab 영역 처리
	this.tab_master.set_enable(enabled);
	if(enabled){
		// TODO
	}else{
		this.tab_master.set_tabindex(0);
	}
}

/**
 * 토지정보 B.L.T 입력필드 상태값 설정
 */
this.fn_setBLTInputFieldSttus = function(isReadonly){

	var cssClass = isReadonly ? "edt_WF_Readonly" : "edt_WF_Essential";
	
	this.div_ladDetailInfo.edt_blck.set_readonly(isReadonly);
	this.div_ladDetailInfo.edt_lot.set_readonly(isReadonly);
	this.div_ladDetailInfo.edt_lotTy.set_readonly(isReadonly);
	
	this.div_ladDetailInfo.edt_blck.set_cssclass(cssClass);
	this.div_ladDetailInfo.edt_lot.set_cssclass(cssClass);
	this.div_ladDetailInfo.edt_lotTy.set_cssclass(cssClass);
}

/**
 * 첨부파일 영역 처리
 */
this.fn_setAtchFileView = function(){

	// 첨부파일이 있으면 첨부파일의 검색버튼을 숨기고, 파일삭제, 파일보기 버튼 활성화 처리
//	var atchPath = this.pmsUtil.getGridSelectedItem(this.grd_ladDet, "ORGINL_FILE_NM");		// 파일 경로(파일일련번호)
	var atchFile = this.pmsUtil.getGridSelectedItem(this.grd_ladDet, "ORGINL_FILE_NM");		// 파일명
//	var hasAtchPath = this.comUtils.isNullEmpty(atchPath) ? false : true;
	var hasAtchFile = this.comUtils.isNullEmpty(atchFile) ? false : true;
	
	
//	this.debug(":::::::: 파일 경로 ::::::::" + " [[ " + hasAtchPath + " ]] ");
	this.debug(":::::::: 파일 명 ::::::::::" + " [[ " + hasAtchFile + " ]] ");
	
	
	this.div_ladDetailInfo.btn_atchFile.set_visible(!hasAtchFile);		 	// 파일검색
	//this.div_ladDetailInfo.fup_atchFile.set_visible(!hasAtchFile);	 	// 파일검색(업로드)
//	this.div_ladDetailInfo.edt_atchFile.set_visible(hasAtchFile);		 	// 파일정보
	
	this.div_ladDetailInfo.btn_cancelAtchFile.set_visible(!hasAtchFile); 	// 파일 선택 취소
//	if(!hasAtchPath){
///		this.div_ladDetailInfo.btn_cancelAtchFile.set_enable(hasAtchFile); 	// 파일 선택 취소
//	}
	
	this.div_ladDetailInfo.btn_delAtchFile.set_visible(hasAtchFile);	 	// 파일삭제
	this.div_ladDetailInfo.btn_viewAtchFile.set_visible(hasAtchFile);	 	// 파일보기(다운로드)
}

/**
 * 토지상세목록 타이틀 설정 및 일괄처리 버튼 활성화 설정
 */
this.fn_setTitleLadDetailList = function(isReset){
	
	var defTit = "상세목록";
	
	var dspTitle = "";
	if(isReset){
		dspTitle = defTit;
		this.SELECTED_LAD_CODE = null;
		this.SELECTED_LAD_NM = null;
	}else{
		var schLadCodeMap = this.fn_getSelectedLadCodeInfo();
		var schLadNm = schLadCodeMap["ALL_LAD_NM"];
		this.SELECTED_LAD_CODE = schLadCodeMap["LAD_CODE"];
		this.SELECTED_LAD_NM = schLadCodeMap["LAD_NM"];
		
		dspTitle = defTit + " : " + schLadNm;
	}
	
	//this.btn_insertAllAddr.set_enable(!isReset);	// 일괄 지번
	//this.btn_insertAll.set_enable(!isReset);		// 일괄 등록
	this.btn_deleteAll.set_enable(!isReset);		// 일괄 삭제
	
	this.sta_titLadDetList.set_text(dspTitle);	
}

/**
 * 평형 정보 표기 설정
 */
this.fn_setArInfo = function(isInput){
	
	// 평형정보 설정
	var bgnnArStr = "";
	var dcsnArStr = "";
	
	var inBgnnAr = isInput ? this.div_ladDetailInfo.mse_bgnnAr.value : this.SELECTED_LAD_DETAIL_INFO["BGNN_AR"];
	var inDcsnAr = isInput ? this.div_ladDetailInfo.mse_dcsnAr.value : this.SELECTED_LAD_DETAIL_INFO["DCSN_AR"];

	if(inBgnnAr){
		bgnnArStr = (Number(inBgnnAr)*0.302499).toFixed(1) + " 평";	// 소수점 1자리 반올림 처리
	}
	if(inDcsnAr){
		dcsnArStr = (Number(inDcsnAr)*0.302499).toFixed(1) + " 평"; // 소수점 1자리 반올림 처리
	}
	
	this.div_ladDetailInfo.sta_bgnnAr.set_text(bgnnArStr);		// 당초면적
	this.div_ladDetailInfo.sta_dcsnAr.set_text(dcsnArStr);		// 확정면적
}

// 확정금액

this.fn_setDcsnAmount = function(){
	var dcsnAmount = 0;
		
	var inDcsnUntpc = this.div_ladDetailInfo.mse_dcsnUntpc.value;
	if(inDcsnUntpc){
			dcsnAmount = (Number(inDcsnUntpc) * Number(this.div_ladDetailInfo.mse_dcsnAr.value));
			
	}
	this.div_ladDetailInfo.mse_dcsnAmount.set_value(dcsnAmount);
}


/*--------------------------------------------------------------------
 * 그리드 처리 관련
 --------------------------------------------------------------------*/
 
/**
 * 함수명  	: fn_addGridRow
 * 설명 		: 그리드 행 추가
 * params  		: oGrid 대상 그리드
 * 				: String 구분("LAD":토지정보,"PAY":납부금액이율)
 * return Type 	: None
 * 사용법		: this.fn_addGridRow(GRID, String);
 */
this.fn_addGridRow = function(oGrid:Grid, type)
{
	// 대상 데이터셋 추출
	var targetDs = oGrid.binddataset ? oGrid.binddataset : oGrid.getInnerDataset();
	var targetDsObj = typeof(targetDs) == "string" ? this[targetDs] : targetDs;
	
	var newIndex = targetDsObj.addRow();	// 행 추가
	newRow = 'Y'; //파일체크
	
	switch(type)
	{
		// 토지정보
		case "LAD":
			// 신규 토지상세정보 설정
			this.fn_setNewLadDetailInfo(oGrid, targetDsObj, newIndex);
			break;
			
		case "PAY" :	// 납부정보
			// 신규 토지상세 기타 정보(납부정보) 설정
			this.fn_setNewEtcInfo(targetDsObj, newIndex);
			break;
			
		default :
			break;
	}
}

/**
 * 함수명  	: fn_cancelGridRow
 * 설명 		: 그리드 행 취소
 * params  		: oGrid 대상 그리드
 * 				: String 구분("LAD":토지정보,"PAY":납부금액이율)
 * return Type 	: None
 * 사용법		: this.fn_cancelGridRow(GRID, String);
 */
this.fn_cancelGridRow = function(oGrid:Grid, type)
{
	// 대상 데이터셋 추출
	var targetDs = oGrid.binddataset ? oGrid.binddataset : oGrid.getInnerDataset();
	var targetDsObj = typeof(targetDs) == "string" ? this[targetDs] : targetDs;
	
	// 수정여부 확인
	var isUpdated = this.comUtils.isDatasetUpdated(targetDsObj);
	if(isUpdated){
		var confirmMsg = "입력을 취소하시겠습니까?\n확인 버튼을 클릭하시면 입력(수정)한 내용이 초기화 됩니다.";
		if(this.confirm(null, confirmMsg)){
			// 대상 데이터셋 초기화
			targetDsObj.reset();
		}
	}else{
		this.alert("comm.데이터.변경.없음");
	}
}

/**
 * 함수명  	: fn_deleteGridRow
 * 설명 		: 그리드 행 삭제
 * params  		: oGrid 대상 그리드
 * 				: String 구분("LAD":토지정보,"PAY":납부금액이율)
 * return Type 	: None
 * 사용법		: this.fn_deleteGridRow(GRID, String);
 */
this.fn_deleteGridRow = function(oGrid:Grid, type)
{
	// 대상 데이터셋 추출
	var targetDs = oGrid.binddataset ? oGrid.binddataset : oGrid.getInnerDataset();
	var targetDsObj = typeof(targetDs) == "string" ? this[targetDs] : targetDs;
	
	// 삭제 대상 행 목록 추출
	var option = {};
	option["viewRow"] = "expr:CHK == '1'";
	var checkList = this.pmsUtil.datasetToObject(targetDsObj, option, true);
	var checkListLeng = checkList == null ? 0 : checkList.length;

	// 선택자료 여부 체크
	if(checkListLeng == 0)
	{
		var altMsg = "삭제할 " + (type == "PAY" ? "납부정보 " : "") + "항목";
		this.alert("comm.항목.선택.요청", altMsg);
		return;
	}
	
	// 선택 데이터 삭제 - 삭제 하시겠습니까? 메시지 출력됨
	this.gfn_delMultiRow(targetDsObj);
}

/*--------------------------------------------------------------------
 * 신규행 추가 관련
 --------------------------------------------------------------------*/

/*
 * 함수명  	: fn_setNewLadDetailInfo
 * 설명 		: 신규 토지 기본정보 설정
 * params  		: oGrid 		대상 그리드
				  targetDsObj 	대상 그리드 데이터셋
				  newIndex		신규행 Index
 * return Type 	: None
 * 사용법		: this.fn_setNewLadDetailInfo();
 */
this.fn_setNewLadDetailInfo = function(oGrid, targetDsObj, newIndex)
{
	// 기초정보 설정 전 확인 - 선택 토지코드 확인
	var schLadInfoMap = this.fn_getSelectedLadCodeInfo();
	if(schLadInfoMap == null){
		
		// 생성 ROw 삭제
		targetDsObj.deleteRow(newIndex);
		
		var altMsgId = "comm.항목.선택.요청";	// {0}을 선택하십시오.
		var altMsg = "토지코드";
		this.alert(altMsgId, altMsg);
		return;
	}
	
	// 기초정보 설정
	targetDsObj.setColumn(newIndex, "LAD_CODE", schLadInfoMap["LAD_CODE"]);
	targetDsObj.setColumn(newIndex, "LAD_NM", schLadInfoMap["LAD_NM"]);
	
	// 타이밍 문제로 입력 처리
	//var selRowItem = this.pmsUtil.getDatasetItem(this.ds_ladDetailList, newIndex);
	//this.SELECTED_LAD_DETAIL_INFO = selRowItem;			// 선택 토지상세정보
	
	// 상세정보 활성화
	this.fn_setDetailView(true);
	
	// B.L.T 입력 필드 상태 처리(Edit)
	this.fn_setBLTInputFieldSttus(false);
	
	// 입력 포커스 처리
	this.pmsUtil.setFocusGridBindComp(oGrid, newIndex, "BLCK");
}

/*
 * 함수명  	: fn_setNewLandInfo
 * 설명 		: 신규 토지 기타 정보(납부금액이율/급지등록) 설정
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.fn_setNewLandInfo();
 */
this.fn_setNewEtcInfo = function(oDs:Dataset, setIndex)
{
	var selLadItem = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);	// 선택행 정보 추출
	
	//this.debug("fn_setNewEtcInfo = " + JSON.stringify(selLadItem));
	
	// 토지상세정보 입력여부 확인
	//var isNullLadCode = this.comUtils.isNullEmpty(setLadCode);
	var checkPass = true;
	var chkList = [
		{FIELD:"LAD_CODE", FIELD_NM:"토지코드"}
		,{FIELD:"BLCK", FIELD_NM:"블록"}
		,{FIELD:"LOT", FIELD_NM:"롯트"}
		,{FIELD:"LOT_TY", FIELD_NM:"롯트타입"}
	];
	
	var nullField = null;
	var nullFieldNm = null;
	var chkListLeng = chkList.length;
	for(var i = 0; i < chkListLeng; i++)
	{
		var checkItem = chkList[i];
		var checkField = checkItem["FIELD"];
		var selValue = selLadItem[checkField];
		
		//this.debug(i + " > checkField = " + checkField);
		//this.debug(i + " > selValue = " + selValue);
		
		var isNullValue = this.comUtils.isNullEmpty(selValue);
		
		//this.debug(i + " > isNullValue = " + isNullValue);
		
		if(isNullValue){
			nullField = checkField;
			nullFieldNm = checkItem["FIELD_NM"];
			checkPass = false;
			break;
		}
	}
	
	if(checkPass)
	{
		// 기초 데이터 설정
		this.pmsUtil.putMapToDataset(oDs, selLadItem, setIndex);	// 기초정보 설정(토지코드, 블록, 롯트, 롯트구분)
		oDs.setColumn(setIndex, "CHK", "0");	// 체크정보 추가
		
	}else{
		// 생성 ROw 삭제
		oDs.deleteRow(setIndex);
	
		this.alert("comm.입력.요청.를", nullFieldNm);	// {0} 항목을 입력하십시오.
		
		// 입력 포커스 처리
		var landSelPos = this.ds_ladDetailList.rowposition;
		this.pmsUtil.setFocusGridBindComp(this.ds_ladDetailList, landSelPos, nullField);
	}
}
 
/*--------------------------------------------------------------------
 * 데이터 처리 관련
 --------------------------------------------------------------------*/

/**
 * 조회(조회조건 선택) 토지코드 정보 추출
 */
this.fn_getSelectedLadCodeInfo = function(){

	var result = null;

	// 1. 조회조건 입력 토지코드 정보 확인
	var schLadCode = this.ds_cond00.getColumn(0, "LAD_CODE");
	if(this.comUtils.isNullEmpty(schLadCode)){
		return result;
	}
	
	// 2. 토지코드 목록에서 입력 토지코드에 해당하는 정보 추출
	var findIdx = this.ds_ladCode.findRow("LAD_CODE", schLadCode);
	result = this.pmsUtil.getDatasetItem(this.ds_ladCode, findIdx);
	
	return result;
}


// 신규 토지정보의 급지적용 처리용 조회 데이터를 실제 데이터셋에 입력한다.
this.fn_insertLadPayInfoClass = function(){

	var dsClassSize = this.ds_ladPayInfoListClass.getRowCount();
	if(dsClassSize > 0){
		var payInfoSize = this.ds_ladPayInfoList.getRowCount();
		if(payInfoSize > 0){
			this.ds_ladPayInfoList.clearData();
		}
		
		var dsClassList = this.pmsUtil.datasetToObject(this.ds_ladPayInfoListClass);
		this.pmsUtil.putListToDataset(this.ds_ladPayInfoList, (this.pmsUtil.isArray(dsClassList) ? dsClassList : [dsClassList]));
	}
}

/**
 * 함수명  	: fn_checkUpdatePayInfoList
 * 설명 		: 납부정보 목록의 변경여부를 확인 한다.
 * 				  저장 후 조회처리를 한다.
 * params		: targetDs		: 대상 Dataset
 * 				  afterRowDs	: 처리 후 선택 DataSet Name
 *				  afterRowIdx	: 처리 후 선택 Row Index
 * return Type 	: Boolean
 * 사용법		: this.fn_checkUpdatePayInfoList(this.DATASET, ROW_INDEX);
 */
this.fn_checkUpdatePayInfoList = function(targetDs, targetNm, afterRowDs, afterRowIdx){
	var result = true;
	var confMsg = null;

	if(this.CHANG_DATA_BEFORE_SAVE){

		// 변경정보를 확인한다.
		var isUpdated = this.comUtils.isDatasetUpdated(targetDs);
		if(isUpdated){
			// 정보 저장 시 저장 루틴 구현
		}
	}else{
		// 변경정보를 확인한다.
		var isUpdated = this.comUtils.isDatasetUpdated(targetDs);
		if(isUpdated){
		
			confMsg = targetNm;//+ "에 " + this.pmsUtil.CHECK_CHANGE_MESSAGE;
						
			if(this.confirm(this.pmsUtil.CHECK_CHANGE_MESSAGE, confMsg)){
				result = false;
			}
		}else{
			result = true;
		}
	}
	return result;
}

/**
 * 저장전 파일첨부가 정상적으로 이루어 졌는지 확인
 * 파일일련번호를 채번하였으나 선택된 파일이 없는경우 파일 일련번호 초기화 처리
 */
this.fn_beforeCheckAttchFile = function(){
	
	var updatedList = this.pmsUtil.getGridUpdatedItems(this.grd_ladDet, false);	// 수정목록, 삭제행은 제외
	var updatedListLeng = updatedList == null ? 0 : updatedList.length;
	for(var i = 0; i < updatedListLeng; i++){
	
		var updateItem = updatedList[i];
		var upFileSn = updateItem["FILE_SN"];
		var upAtchFile = updateItem["ATCH_FILE"];
		if(this.comUtils.isNullEmpty(upFileSn)){
			// TODO
		}else{
			if(this.comUtils.isNullEmpty(upAtchFile)){
				var targetIdx = this.ds_ladDetailList.findRow("FILE_SN", upFileSn);
				this.ds_ladDetailList.setColumn(targetIdx, "FILE_SN", null);
			}
		}
	}
}

/*--------------------------------------------------------------------
 * 팝업 처리 관련
 --------------------------------------------------------------------*/

/**
 * 주소검색 팝업 출력
 * @param isLnm 지번필드 여부
 */
this.fn_popupZipCode = function(isLnm){

	var option = {};
	option["zipField"] = isLnm ? "LOCPLC_ZIP_LNM" : "LOCPLC_ZIP";		// 우편번호
	option["roadBaseField"] = isLnm ? null : "LOCPLC_BASS_ADRES";		// 도로명주소(일반)
	option["roadDetField"] = isLnm ? null : "LOCPLC_DETAIL_ADRES";		// 도로명주소(상세)
	//option["jibunField"] = isLnm ? "LOCPLC_DETAIL_ADRES_LNM" : "LOCPLC_DETAIL_ADRES";		// 지번주소
	option["jibunBaseField"] = isLnm ? "LOCPLC_BASS_ADRES" : null;	// 지번주소(일반)
	option["jibunDetField"] = isLnm ? "LOCPLC_DETAIL_ADRES" : null;	// 지번주소(상세)
	option["schWord"] = isLnm ? this.div_ladDetailInfo.edt_locplcBassAdresLnm.value : this.div_ladDetailInfo.edt_locplcBassAdres.value;
	//option["callback"] = this.fn_callbackZip;
	
	this.pmsUtil.popupZipCode(this.ds_ladDetailList, option);
}

/**
 * 토지일괄등록 팝업 출력
 */
this.fn_popup_saveAllDetailInfo = function(){

	var selItemMap = this.pmsUtil.getComboSelectedItem(this.div_search.cmb_ladCode);

	var popupParm = {
		caller : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		paramMap : selItemMap,
		callBack : this.callBackSaveAllDetail
	};
			
	// 팝업 공통함수
	this.gfn_popup("popup_saveAllDetail", 800, 500, "토지일괄등록", popupParm, "pms_sls_lad_std::SLS070102_P1.xfdl");
}

/**
 * 토지일괄등록 팝업 CallBack
 */
this.callBackSaveAllDetail = function(oPopup, result)
{
	if(result == true){
		oPopup.OPENER.fn_search();	// 조회처리
	}
	
	oPopup.close();
}

/**
 * 토지지번일괄처리 팝업 출력
 */
this.fn_popup_saveAllAddrInfo = function(){
	var selItemMap = this.pmsUtil.getComboSelectedItem(this.div_search.cmb_ladCode);

	var popupParm = {
		caller : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		paramMap : selItemMap,
		callBack : this.callBackSaveAllAddr
	};
			
	// 팝업 공통함수
	this.gfn_popup("popup_saveAllAddr", 800, 500, "지번일괄처리", popupParm, "pms_sls_lad_std::SLS070102_P2.xfdl");
}

this.callBackSaveAllAddr = function(oPopup, result)
{
	if(result == true){
		oPopup.OPENER.fn_search();	// 조회처리
	}
	
	oPopup.close();
}

/*--------------------------------------------------------------------
 * 첨부파일 처리 관련
 --------------------------------------------------------------------*/

// 파일일련번호 설정
this.fn_setFileSnInfo = function(addFile){

	var fileSn = this.ds_fileSn.getColumn(0, "FILE_SN");

	// 파일 일련번호 존재 확인
	if(this.comUtils.isNullEmpty(fileSn)){
		this.alert(null, "파일일련번호가 없습니다.");
		return;
	}

	// 선택 토지상세 정보에 추가
	this.pmsUtil.setGridSelectedItemValue(this.grd_ladDet, "FILE_SN", fileSn);
	
	if(addFile){
		this.div_ladDetailInfo.btn_atchFile.set_enable(true);
	}
}

/**
 * 파일업로드 파일 선택
 * @param 
 * @return void
 */
this.fn_addAtchFile = function(){
	
	//this.FILE_MANAGER.addFiles();
	
	var selFileSn = this.pmsUtil.getGridSelectedItem(this.grd_ladDet, "FILE_SN");
	if(this.comUtils.isNullEmpty(selFileSn)){
		this.fn_getNewFileSn();
	}else{
	
		//attchEvntInfo.reset();	// 이벤트 정보 삭제
		// fileManager.addFilesWithSn = function(fileSn, useMultiUpload, isSingle, useMultiSelect, allowTypes)
		this.FILE_MANAGER.addFilesWithSn(selFileSn, true, true, false, null);
		
	}
}

/**
 * 파일업로드 선택 파일 취소
 * @param 
 * @return void
 */
this.fn_canceAtchlFile = function(){

	var useAddFileSn = this.FILE_MANAGER.USE_ADD_FILE_SN;
	var cancelField = useAddFileSn ? "FILE_SN" : "ORGINL_FILE_NM";
	
	var selFileNm = this.pmsUtil.getGridSelectedItem(this.grd_ladDet, cancelField);
	var result = this.FILE_MANAGER.cancelFiles(selFileNm);

	if(result){
		this.pmsUtil.setGridSelectedItemValue(this.grd_ladDet, "ORGINL_FILE_NM", null);		// 표기용 파일명 정보 초기화
		if(useAddFileSn){
			this.pmsUtil.setGridSelectedItemValue(this.grd_ladDet, "FILE_SN", null);	// 처리용 파일일련번호 정보 초기화
		}
		this.fn_setAtchFileView();		// 첨부파일 영역 처리
	}
}

/**
 * 함수명  	: fn_deleteAtchFile
 * 설명 		: 토지 상세 첨부파일 삭제
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_deleteAtchFile();
 */
this.fn_deleteAtchFile = function(){

	var confirmMsg = "첨부파일을 삭제하시겠습니까?";
	if(confirm(confirmMsg)){
	
		this.AFTER_LAD_DETAIL_INDEX = this.ds_ladDetailList.rowposition;					// 후 선택 토지 정보 Index
		this.AFTER_LAD_DETAIL_INFO = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);		// 후 선택 토지 정보

		this.fn_transaction("deleteLadDetailFileInfo");		// 토지 상세 첨부파일 삭제
	}
}

/**
 * 함수명  	: fn_downloadAtchFile
 * 설명 		: 토지 상세 첨부파일 보기(다운로드)
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_downloadAtchFile();
 */
this.fn_downloadAtchFile = function(){

	var ladDetInfo = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);	// 선택 토지 상세정보
	
	var fileExtsn = ladDetInfo["FILE_EXTSN"];
	var fileSn = ladDetInfo["FILE_SN"];			// atchFileInfArr[0];	// 파일일련번호(파일경로)
	var fileOrder = ladDetInfo["FILE_ORDR"];	// atchFileInfArr.length > 2 ? atchFileInfArr[1] : "";	// 파일 순차번호
	var fileName = ladDetInfo["ATCH_FILE"];		// 실제 파일명
	
	this.FILE_MANAGER.download(fileSn, fileOrder, fileName);
}

/**
 * 파일업로드 파일 선택 이벤트 핸들러
 * @param fileFullName 선택 전체 파일명
 * @param type 실행구분(ExtFileUpload/ExtFileDownload)
 * @param fileFullName 선택 파일명
 * @return void
 */
// this.fn_onFileSelected = function(type, fileFullName){
// 
// 	if(type == this.FILE_MANAGER.TYPE_UPLOADER){
// 		var isNmArray = this.pmsUtil.isArray(fileFullName);
// 		if(isNmArray){
// 			// TODO - 본 화면은 단건 처리이므로 해당 없음.
// 		}else{
// 		
// 			if(typeof(fileFullName) == "boolean" && !fileFullName){
// 				// 선택파일이 조건에 맞지않아 제외되어 건수가 없을 경우
// 				// 선택행의 FILE_SN을 삭제한다.
// 				this.ds_ladDetailList.setColumn(this.ds_ladDetailList.rowposition, "FILE_SN", null);	// 첨부된 파일 데이터 셋 입력 취소 처리
// 			}else{
// 				this.ds_ladDetailList.setColumn(this.ds_ladDetailList.rowposition, "ATCH_FILE", fileFullName);	// 첨부된 파일 데이터 셋 입력 처리
// 				this.fn_setAtchFileView();		// 첨부파일 영역 처리
// 			}
// 		}
// 	}
// }

this.fn_onFileSelected = function(type, fileFullName){

 		this.debug("LAD_CODE : " + this.ds_cond05.getColumn(0, "LAD_CODE"));
 		this.debug("BLCK : " + this.ds_cond05.getColumn(0, "BLCK"));
 		this.debug("LOT : " + this.ds_cond05.getColumn(0, "LOT"));
 		this.debug("LOT_TY : " + this.ds_cond05.getColumn(0, "LOT_TY"));
 		this.debug("LOT_TY : " + this.ds_cond05.getColumn(0, "LOT_TY"));
 		this.debug("FILE_SN : " + this.ds_cond05.getColumn(0, "FILE_SN"));
 		this.debug("getRowCount : " + this.ds_cond05.getRowCount());
 		
	// 저장 후 선택 행 정보 설정
	this.AFTER_LAD_DETAIL_INDEX = this.ds_ladDetailList.rowposition;				// 선택 행
	this.AFTER_LAD_DETAIL_INFO = this.pmsUtil.getGridSelectedItem(this.grd_ladDet);	// 선택 행 토지 상세정보 		
 		
	this.ds_cond05.clearData();
	if(type == this.FILE_MANAGER.TYPE_UPLOADER){
		var isNmArray = this.pmsUtil.isArray(fileFullName);
		
		if(isNmArray){
			var selFileLeng = fileFullName.length;
			for(var i = 0; i < selFileLeng; i++){
				var nRow = this.ds_cond05.addRow();
				this.ds_cond05.setColumn(nRow , "LAD_CODE" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "LAD_CODE"));
				this.ds_cond05.setColumn(nRow , "BLCK" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "BLCK"));
				this.ds_cond05.setColumn(nRow , "LOT" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "LOT"));
				this.ds_cond05.setColumn(nRow , "LOT_TY" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "LOT_TY"));
				this.ds_cond05.setColumn(nRow , "FILE_SN" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "FILE_SN")); 
				}	
				this.fn_save2();
		}else{
			var nRow = this.ds_cond05.addRow();
				this.ds_cond05.setColumn(nRow , "LAD_CODE" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "LAD_CODE"));
				this.ds_cond05.setColumn(nRow , "BLCK" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "BLCK"));
				this.ds_cond05.setColumn(nRow , "LOT" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "LOT"));
				this.ds_cond05.setColumn(nRow , "LOT_TY" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "LOT_TY"));
				this.ds_cond05.setColumn(nRow , "FILE_SN" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "FILE_SN"));    
			    this.fn_save2();
			//this.fn_setAtchFileView();		// 첨부파일 영역 처리
		}
	}
}

/**
 * 파일업로드 파일 업로드 성공 이벤트 핸들러
 * @param fileFullName 선택 전체 파일명
 * @param type 실행구분(ExtFileUpload/ExtFileDownload)
 * @param e 발생이벤트
 * @return void
 */
this.fn_onFileSuccess = function(type, e){
	this.debug("fn_onFileSuccess : type " + type);
	this.debug("fn_onFileSuccess e : " + e);
	if(type == this.FILE_MANAGER.TYPE_UPLOADER){
		this.fn_reloadLadListByFile();
	}
	if(type == this.FILE_MANAGER.TYPE_DOWNLOADER){
		trace("파일 다운로드 완료");
	}
}

this.fn_reloadLadListByFile = function(){
	this.fn_showFailInfoMsg("saveLadInfoWithFile");	// 처리 실패정보 출력
// 	var rowPosition = this.AFTER_LAD_DETAIL_INDEX;
// 	this.AFTER_LAD_DETAIL_INDEX = -1;
// 	this.AFTER_LAD_DETAIL_INFO = null;
// 	this.grd_ladDet.selectRow(rowPosition);	

	if(newRow != 'Y'){
		this.fn_selectLadDetailList(true, true);
		if(save_row != -1)
		{
			this.ds_ladDetailList.set_rowposition(save_row);
			save_row = -1;
		}		
	}else{
		newRow = 'N';
		this.alert("신규 저장후 파일을 첨부해 주세요.");
	}

}


this.fn_onFileError = function(type, e){
	if(type == this.FILE_MANAGER.TYPE_UPLOADER){
		trace("파일 업로드 오류");
	}
	if(type == this.FILE_MANAGER.TYPE_DOWNLOADER){
		if(e.errorcode == "404"){
			this.gfn_message("err.파일.없음", "파일이 존재하지 않아 다운로드 할 수 없습니다.");
		}
	}
}

this.Button01_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{

	if(this.ds_ladDetailList.getRowType(this.ds_ladDetailList.rowposition) == Dataset.ROWTYPE_EMPTY){
		this.alert("상세목록이 존재 하지 않습니다.");
		return;
	}else{
		save_row = this.ds_ladDetailList.rowposition;	
		this.fn_addAtchFile2();	 	
	}
	

	
}

/**
 * 파일업로드 파일 선택
 * @param 
 * @return void
 */
this.fn_addAtchFile2 = function(){

	this.FILE_MANAGER.addFiles();
}

this.fn_save2 = function()
{
	// 파일 첨부여부 확인
	var hasAttFile = this.FILE_MANAGER.hasFile();

	if(hasAttFile){


 		var attFileCount = this.FILE_MANAGER.getfileCount();
		var sController = "hsco/pms/sls/lad/std/SLS070102/atchCUD.do";
		var oInDatasets = "input1=ds_cond05:U";
		var sOutDatasets = "ds_failPayList=failPayList";
 		this.FILE_MANAGER.upload(sController, oInDatasets, sOutDatasets);

	}else{
			this.fn_transaction("saveSlaryList2");		// 첨부파일저장
	}	
}


this.ds_ladDetailList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.ds_cond.clearData();
	var nRow = this.ds_cond.addRow();
	this.ds_cond.setColumn(nRow , "LAD_CODE" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "LAD_CODE"));
	this.ds_cond.setColumn(nRow , "FILE_SN" , this.ds_ladDetailList.getColumn(this.ds_ladDetailList.rowposition , "FILE_SN"));
 	this.fn_transaction("selectSlaryList2"); // 파일조회
}

/**
 * 함수명  	: Button06_onclick
 * 설명 		: 첨부파일 삭제
 * params  		: null
 * return Type 	: None
 * 사용법		: this.Button06_onclick();
 */
this.Button06_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_deleteAtchFile();
}

this.fn_deleteAtchFile = function(){
	this.ds_file_delete.clearData();
	var checkListLeng = 0;
	var confirmMsg = "선택한 이미지를 삭제하시겠습니까?";
	if(confirm(confirmMsg)){
			this.ds_file_delete.clearData();
			// 선택자료 가져오기
			for(var i = 0 ; i < this.ds_rpairs_file.rowcount ; i++){
				if(this.ds_rpairs_file.getColumn( i , "CHK") == '1'){
					var nRow = this.ds_file_delete.addRow();
					this.ds_file_delete.setColumn( nRow , "LAD_CODE" , this.ds_ladDetailList.getColumn( this.ds_ladDetailList.rowposition , "LAD_CODE"));
					this.ds_file_delete.setColumn( nRow , "BLCK" , this.ds_ladDetailList.getColumn( this.ds_ladDetailList.rowposition , "BLCK"));
					this.ds_file_delete.setColumn( nRow , "LOT" , this.ds_ladDetailList.getColumn( this.ds_ladDetailList.rowposition , "LOT"));
					this.ds_file_delete.setColumn( nRow , "LOT_TY" , this.ds_ladDetailList.getColumn( this.ds_ladDetailList.rowposition , "LOT_TY"));
					this.ds_file_delete.setColumn( nRow , "FILE_SN" , this.ds_rpairs_file.getColumn( i , "FILE_SN"));
					this.ds_file_delete.setColumn( nRow , "FILE_ORDR" , this.ds_rpairs_file.getColumn( i , "FILE_ORDR"));	
					checkListLeng += 1;
					}
				}	
			
			// 선택자료 여부 체크
			if (checkListLeng == 0 ) {
				this.alert("선택된 자료가없습니다.");
				return;
			}
				trace("######################")
				trace(this.ds_file_delete.saveXML());
				trace("######################")

			this.fn_transaction("delete");		// 첨부파일 삭제;
	}

}

this.Button03_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_downloadAtchFile();
}

this.fn_downloadAtchFile = function(){

	for(var i = 0 ; i < this.ds_rpairs_file.getRowCount() ; i++)
	{
		if(this.ds_rpairs_file.getColumn( i , "CHK") == 1){
			var fileSn = this.ds_rpairs_file.getColumn(i , "FILE_SN"); 	// 파일일련번호(파일경로)
			var fileOrder = this.ds_rpairs_file.getColumn(i , "FILE_ORDR");					// 임시 : 첨부파일은 공통으로 파일일련번호와 파일순차로 조회가능하나 현재(2015/10/21) 컬럼이 맞지않음
			var fileName = this.ds_rpairs_file.getColumn(i , "FILE_NM");	// 실제 파일명	
			this.FILE_MANAGER.download(fileSn, fileOrder, fileName);	
		}
	}			
}

]]></Script>
  </Form>
</FDL>
