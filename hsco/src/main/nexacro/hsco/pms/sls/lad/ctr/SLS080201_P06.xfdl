<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\..\default_typedef.xml"/>
  <Form id="SLS080201_P06" classname="SLS080201" left="0" top="0" width="850" height="670" titletext="토지해약처리" oninit="SLS080201_P06_oninit" onload="SLS080201_P06_onload" visible="true">
    <Layouts>
      <Layout>
        <Div id="div_detail" taborder="3" text="Div01" left="12" top="69" width="832" bottom="27">
          <Layouts>
            <Layout>
              <Div id="div_list2" taborder="48" left="0%" top="249" right="0.84%" height="330" style="background:transparent;" visible="false">
                <Layouts>
                  <Layout>
                    <Grid id="grd_lcntrctrPayList" taborder="8" binddataset="ds_lcntrctrPayList" autoenter="select" useinputpanel="false" left="0" top="186" right="6" bottom="5">
                      <Formats>
                        <Format id="default">
                          <Columns>
                            <Column size="40"/>
                            <Column size="100"/>
                            <Column size="90"/>
                            <Column size="110"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="110"/>
                            <Column size="90"/>
                            <Column size="100"/>
                            <Column size="100"/>
                          </Columns>
                          <Rows>
                            <Row size="24" band="head"/>
                            <Row size="24" band="head"/>
                            <Row size="24"/>
                            <Row size="24" band="summ"/>
                          </Rows>
                          <Band id="head">
                            <Cell/>
                            <Cell col="1" colspan="8" text="납부정보"/>
                            <Cell col="9" colspan="3" text="수납정보"/>
                            <Cell row="1" text="순번"/>
                            <Cell row="1" col="1" text="납부코드"/>
                            <Cell row="1" col="2" text="납부기한일"/>
                            <Cell row="1" col="3" text="납부금액"/>
                            <Cell row="1" col="4" text="할부이자"/>
                            <Cell row="1" col="5" text="연체금액"/>
                            <Cell row="1" col="6" text="선납할인"/>
                            <Cell row="1" col="7" text="감액"/>
                            <Cell row="1" col="8" text="납부합계"/>
                            <Cell row="1" col="9" text="수납일자"/>
                            <Cell row="1" col="10" text="수납금액"/>
                            <Cell row="1" col="11" text="미수금액"/>
                          </Band>
                          <Band id="body">
                            <Cell style="align:center;" expr="expr:currow + 1"/>
                            <Cell col="1" displaytype="normal" style="align:left;" text="bind:PAY_CODE_NM"/>
                            <Cell col="2" displaytype="date" text="bind:PAY_TMLMT" calendardisplaynulltype="none"/>
                            <Cell col="3" displaytype="number" style="align:right;" text="bind:TOT_PAYAMT"/>
                            <Cell col="4" displaytype="number" style="align:right;" text="bind:INSTLMT_INTR"/>
                            <Cell col="5" displaytype="number" style="align:right;" text="bind:ARRRG_AMOUNT" calendardisplaynulltype="none"/>
                            <Cell col="6" displaytype="number" style="align:right;" text="bind:PREPAY_DSCNT_AMOUNT" calendardisplaynulltype="none"/>
                            <Cell col="7" displaytype="number" style="align:right;" text="bind:CHA_AMT"/>
                            <Cell col="8" displaytype="number" style="align:right;" expr="expr:RDCAMT_AMOUNT == 0 ? PAYAMT_SM + (CHA_AMT) : PAYAMT_SM"/>
                            <Cell col="9" displaytype="date" style="align:right;" text="bind:R_RCIV_DE" calendardisplaynulltype="none"/>
                            <Cell col="10" displaytype="number" style="align:right;" text="bind:R_RCIV_AMOUNT"/>
                            <Cell col="11" displaytype="number" style="align:right;" text="bind:UNCLAMT"/>
                          </Band>
                          <Band id="summary">
                            <Cell/>
                            <Cell col="1"/>
                            <Cell col="2" text="합계"/>
                            <Cell col="3" displaytype="number" style="align:right middle;" expr="expr:dataset.getSum('TOT_PAYAMT')"/>
                            <Cell col="4" displaytype="number" style="align:right;" text="expr:dataset.getSum('INSTLMT_INTR')"/>
                            <Cell col="5" displaytype="number" style="align:right middle;" expr="expr:dataset.getSum('ARRRG_AMOUNT')"/>
                            <Cell col="6" displaytype="number" style="align:right middle;" expr="expr:dataset.getSum('PREPAY_DSCNT_AMOUNT')"/>
                            <Cell col="7" displaytype="number" style="align:right middle;" expr="expr:dataset.getSum('CHA_AMT')"/>
                            <Cell col="8" displaytype="number" style="align:right middle;" expr="expr:dataset.getSum('RDCAMT_AMOUNT == 0 ? PAYAMT_SM + (CHA_AMT) : PAYAMT_SM')"/>
                            <Cell col="9"/>
                            <Cell col="10" displaytype="number" style="align:right middle;" expr="expr:dataset.getSum('R_RCIV_AMOUNT')"/>
                            <Cell col="11" displaytype="number" style="align:right middle;" expr="expr:dataset.getSum('UNCLAMT')"/>
                          </Band>
                        </Format>
                      </Formats>
                    </Grid>
                    <Static id="Static03" taborder="9" text="보증금수납내역" cssclass="sta_WF_Title02" left="0" top="0" right="639" height="19"/>
                    <Grid id="grd_ladLcntrctrPayInfo2" taborder="10" binddataset="ds_ladLcntrctrPayInfo2" useinputpanel="false" left="0" top="27" right="6" height="125">
                      <Formats>
                        <Format id="default">
                          <Columns>
                            <Column size="40"/>
                            <Column size="110"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="110"/>
                            <Column size="110"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="110"/>
                          </Columns>
                          <Rows>
                            <Row size="24" band="head"/>
                            <Row size="24" band="head"/>
                            <Row size="24"/>
                            <Row size="24" band="summ"/>
                          </Rows>
                          <Band id="head">
                            <Cell rowspan="2" displaytype="checkbox" edittype="checkbox"/>
                            <Cell col="1" rowspan="2" text="보증금"/>
                            <Cell col="2" colspan="4" text="수납내역(+)"/>
                            <Cell col="6" colspan="4" text="공제내역(-)"/>
                            <Cell col="10" rowspan="2" text="실지급액"/>
                            <Cell row="1" col="2" text="수납일자"/>
                            <Cell row="1" col="3" text="납부코드"/>
                            <Cell row="1" col="4" text="수납금액"/>
                            <Cell row="1" col="5" text="연체이자"/>
                            <Cell row="1" col="6" text="위약금"/>
                            <Cell row="1" col="7" text="소득세"/>
                            <Cell row="1" col="8" text="주민세"/>
                            <Cell row="1" col="9" text="소계"/>
                          </Band>
                          <Band id="body">
                            <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                            <Cell col="1" displaytype="number" style="align:right;" text="bind:F_S1_SUMAMT" suppress="1" suppressalign="middle"/>
                            <Cell col="2" displaytype="date" edittype="none" style="align:center;" text="bind:RCIV_DE" calendardisplaynulltype="none"/>
                            <Cell col="3" style="align:left;" text="bind:PAY_CODE_NM"/>
                            <Cell col="4" displaytype="number" style="align:right;" text="bind:F_S1_SUMAMT"/>
                            <Cell col="5" displaytype="number" style="align:right;" text="bind:ARRRG_AMOUNT"/>
                            <Cell col="6" displaytype="number" style="align:right;" text="0" suppress="9" suppressalign="middle"/>
                            <Cell col="7" displaytype="number" style="align:right;" text="bind:F_INC_AMT"/>
                            <Cell col="8" displaytype="number" style="align:right;" text="bind:F_INS_AMT"/>
                            <Cell col="9" displaytype="number" style="align:right;" text="0"/>
                            <Cell col="10" displaytype="number" style="align:right;" text="0" expr="0" suppress="13" suppressalign="middle"/>
                          </Band>
                          <Band id="summary">
                            <Cell/>
                            <Cell col="1" displaytype="number" style="align:right;" expr="expr:dataset.getSum('F_S1_SUMAMT')"/>
                            <Cell col="2"/>
                            <Cell col="3" text="합계"/>
                            <Cell col="4" displaytype="number" style="align:right;" expr="expr:dataset.getSum('F_S1_SUMAMT')"/>
                            <Cell col="5" displaytype="number" style="align:right;" expr="expr:dataset.getSum('ARRRG_AMOUNT')"/>
                            <Cell col="6" displaytype="number" style="align:right;"/>
                            <Cell col="7" displaytype="number" style="align:right;"/>
                            <Cell col="8" displaytype="number" style="align:right;"/>
                            <Cell col="9" displaytype="number" style="align:right;"/>
                            <Cell col="10" displaytype="number" style="align:right;"/>
                          </Band>
                        </Format>
                      </Formats>
                    </Grid>
                    <Static id="Static00" taborder="11" text="임대료미납내역" cssclass="sta_WF_Title02" left="0" top="168" right="639" height="19"/>
                  </Layout>
                </Layouts>
              </Div>
              <Div id="div_list1" taborder="45" left="0%" top="249" right="0.36%" height="330" style="background:transparent;" visible="false">
                <Layouts>
                  <Layout width="829" height="330">
                    <Static id="Static03" taborder="3" text="분양금수납내역" cssclass="sta_WF_Title02" left="0" top="0" right="639" height="19"/>
                    <Grid id="grd_ladLcntrctrPayInfo" taborder="4" binddataset="ds_ladLcntrctrPayInfo" useinputpanel="false" left="0" top="35" width="819" height="255">
                      <Formats>
                        <Format id="default">
                          <Columns>
                            <Column size="40"/>
                            <Column size="110"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="110"/>
                            <Column size="110"/>
                            <Column size="50"/>
                            <Column size="50"/>
                            <Column size="110"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="100"/>
                            <Column size="110"/>
                          </Columns>
                          <Rows>
                            <Row size="24" band="head"/>
                            <Row size="24" band="head"/>
                            <Row size="24"/>
                            <Row size="24" band="summ"/>
                          </Rows>
                          <Band id="head">
                            <Cell rowspan="2" displaytype="checkbox" edittype="checkbox"/>
                            <Cell col="1" rowspan="2" text="분양금액"/>
                            <Cell col="2" colspan="4" text="수납내역(+)"/>
                            <Cell col="6" colspan="3" text="지급이자(+)"/>
                            <Cell col="9" colspan="4" text="공제내역(-)"/>
                            <Cell col="13" rowspan="2" text="실지급액"/>
                            <Cell row="1" col="2" text="수납일자"/>
                            <Cell row="1" col="3" text="납부코드"/>
                            <Cell row="1" col="4" text="수납금액"/>
                            <Cell row="1" col="5" text="연체이자"/>
                            <Cell row="1" col="6" text="일수"/>
                            <Cell row="1" col="7" text="이율"/>
                            <Cell row="1" col="8" text="산출금액"/>
                            <Cell row="1" col="9" text="위약금"/>
                            <Cell row="1" col="10" text="소득세"/>
                            <Cell row="1" col="11" text="주민세"/>
                            <Cell row="1" col="12" text="소계"/>
                          </Band>
                          <Band id="body">
                            <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                            <Cell col="1" displaytype="number" style="align:right;" text="0" suppress="1" suppressalign="middle"/>
                            <Cell col="2" displaytype="date" edittype="none" style="align:center;" text="bind:RCIV_DE" calendardisplaynulltype="none"/>
                            <Cell col="3" style="align:left;" text="bind:PAY_CODE_NM"/>
                            <Cell col="4" displaytype="number" style="align:right;" text="bind:F_S1_SUMAMT"/>
                            <Cell col="5" displaytype="number" style="align:right;" text="bind:ARRRG_AMOUNT"/>
                            <Cell col="6" displaytype="number" style="align:right;" text="bind:F_DAY" calendardisplaynulltype="none"/>
                            <Cell col="7" displaytype="number" style="align:center;" text="bind:F_R_RATIO" mask="#0.00"/>
                            <Cell col="8" displaytype="number" style="align:right;" text="bind:F_INTR_AMT"/>
                            <Cell col="9" displaytype="number" style="align:right;" text="0" suppress="9" suppressalign="middle"/>
                            <Cell col="10" displaytype="number" style="align:right;" text="0"/>
                            <Cell col="11" displaytype="number" style="align:right;" text="0"/>
                            <Cell col="12" displaytype="number" style="align:right;" text="0"/>
                            <Cell col="13" displaytype="number" style="align:right;" text="0" suppress="13" suppressalign="middle"/>
                          </Band>
                          <Band id="summary">
                            <Cell/>
                            <Cell col="1" displaytype="number" style="align:right;"/>
                            <Cell col="2"/>
                            <Cell col="3" text="합계"/>
                            <Cell col="4" displaytype="number" style="align:right;" text="expr:dataset.getSum('F_S1_SUMAMT')"/>
                            <Cell col="5" displaytype="number" style="align:right;" text="expr:dataset.getSum('ARRRG_AMOUNT')"/>
                            <Cell col="6"/>
                            <Cell col="7"/>
                            <Cell col="8" displaytype="number" style="align:right;"/>
                            <Cell col="9" displaytype="number" style="align:right;"/>
                            <Cell col="10" displaytype="number" style="align:right;"/>
                            <Cell col="11" displaytype="number" style="align:right;"/>
                            <Cell col="12" displaytype="number" style="align:right;"/>
                            <Cell col="13" displaytype="number" style="align:right;"/>
                          </Band>
                        </Format>
                      </Formats>
                    </Grid>
                  </Layout>
                </Layouts>
              </Div>
              <Static id="Static38" taborder="24" cssclass="sta_WF_Labelbg" left="0" top="185" height="27" right="0"/>
              <Static id="Static03" taborder="21" cssclass="sta_WF_Labelbg" left="0" top="107" height="27" right="0"/>
              <Static id="Static23" taborder="23" cssclass="sta_WF_Labelbg" left="0" top="159" height="27" right="0"/>
              <Static id="Static51" taborder="32" cssclass="sta_WF_Labelbg" left="0" top="50" height="27" right="0"/>
              <Static id="Static84" taborder="31" text="토지코드" cssclass="sta_WF_Label" left="0" top="50" width="90" height="27"/>
              <Static id="Static04" taborder="20" text="해약일자" cssclass="sta_WF_Label" left="0" top="107" width="90" height="27" style="align:left middle;"/>
              <Static id="Static29" taborder="19" text="예금주" cssclass="sta_WF_Label" left="0" top="159" width="90" height="27" style="align:left middle;"/>
              <Static id="Static00" taborder="35" text="위약금&#13;&#10;납부기한일" cssclass="sta_WF_Label" left="0" top="185" width="90" height="27" style="align:left middle;"/>
              <Static id="Static13" taborder="22" cssclass="sta_WF_Labelbg" left="0" top="133" height="27" right="0"/>
              <Static id="Static11" taborder="25" text="해약사유" cssclass="sta_WF_Label" left="563" top="107" width="90" height="27" style="align:left middle;"/>
              <Static id="Static15" taborder="26" text="사유기타" cssclass="sta_WF_Label" left="254" top="133" width="90" height="27" style="align:left middle;"/>
              <Static id="Static26" taborder="27" text="담당부서" cssclass="sta_WF_Label" left="615" top="256" width="90" height="0" style="align:right middle;"/>
              <Edit id="edt_reasonEtc" taborder="4" left="346" top="136" width="471" height="21" lengthunit="utf8" maxlength="200"/>
              <Edit id="edt_depositor" taborder="5" left="92" top="162" width="160" height="21" lengthunit="utf8" maxlength="30"/>
              <Calendar id="cal_cancelDe" taborder="1" dateformat="yyyy-MM-dd" left="92" top="110" width="160" height="21" value="null" onchanged="div_detail_cal_cancelDe_onchanged" cssclass="cal_WF_Essential"/>
              <Static id="Static08" taborder="28" text="은행" cssclass="sta_WF_Label" left="254" top="159" width="90" height="27" style="align:left middle;"/>
              <Static id="Static05" taborder="29" text="해약구분" cssclass="sta_WF_Label" left="254" top="107" width="90" height="27" style="align:left middle;"/>
              <Static id="Static09" taborder="30" text="계좌" cssclass="sta_WF_Label" left="563" top="159" width="90" height="27" style="align:left middle;"/>
              <Edit id="edt_Account" taborder="7" left="655" top="162" width="162" height="21" lengthunit="utf8" maxlength="20" inputtype="number"/>
              <Combo id="cmb_cancelSe" taborder="2" left="346" top="110" width="215" height="21" codecolumn="codecolumn" datacolumn="datacolumn" cssclass="cmb_WF_Essential" index="0" text="선택" onitemchanged="div_detail_cmb_cancelSe_onitemchanged">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn"/>
                      <Col id="datacolumn">선택</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">01</Col>
                      <Col id="datacolumn">[01]해약처리</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">02</Col>
                      <Col id="datacolumn">[02]대체처리</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Combo id="cmb_cancelReason" taborder="3" left="655" top="110" width="162" height="21" innerdataset="@ds_resciResnCode" codecolumn="CODE" datacolumn="ALL_CODE_NM" cssclass="cmb_WF_Essential"/>
              <Combo id="cmb_bank" taborder="6" left="346" top="162" width="215" height="21" innerdataset="@ds_bankSe" codecolumn="CODE" datacolumn="ALL_CODE_NM"/>
              <CheckBox id="chk_3" taborder="11" text="산출금액 없음" left="703" top="188" width="110" height="21" tooltiptype="hover" falsevalue="0" value="0" onchanged="calAmt" truevalue="1"/>
              <CheckBox id="chk_2" taborder="10" text="소득세, 주민세없음" left="554" top="188" width="134" height="21" tooltiptype="hover" falsevalue="0" onchanged="calAmt" value="0" truevalue="1"/>
              <CheckBox id="chk_1" taborder="9" text="위약금없음" left="451" top="188" width="88" height="21" tooltiptype="hover" falsevalue="0" onchanged="calAmt" value="false" truevalue="1"/>
              <Static id="Static01" taborder="33" text="B.L.T" cssclass="sta_WF_Label" left="254" top="50" width="90" height="27"/>
              <Static id="Static02" taborder="34" text="계약자" cssclass="sta_WF_Label" left="563" top="50" width="90" height="27"/>
              <Edit id="edt_lot" taborder="15" readonly="true" cssclass="edt_WF_Readonly" left="395" top="53" width="47" height="21"/>
              <Edit id="edt_type" taborder="16" readonly="true" cssclass="edt_WF_Readonly" left="445" top="53" width="47" height="21"/>
              <Edit id="edt_block" taborder="14" readonly="true" cssclass="edt_WF_Readonly" left="346" top="53" width="47" height="21"/>
              <Edit id="edt_cntrctrId" taborder="18" readonly="true" cssclass="edt_WF_Readonly" left="655" top="53" width="162" height="21" oneditclick="div_detail_edt_cntrctrId_oneditclick"/>
              <Combo id="cmb_ladCode" taborder="13" innerdataset="@ds_ladCode" codecolumn="LAD_CODE" datacolumn="ALL_LAD_NM" left="92" top="53" width="160" height="21" cssclass="cmb_WF_Readonly" readonly="true"/>
              <Button id="btn_ladInfo" taborder="17" text="상세보기" onclick="div_detail_btn_ladInfo_onclick" cssclass="btn_WF_Link" left="494" top="53" width="66" height="21"/>
              <Div id="div_sub" taborder="12" text="Div00" left="0" top="217" height="27" right="0" visible="false">
                <Layouts>
                  <Layout>
                    <Static id="Static51" taborder="5" left="0" top="0" right="0" height="27" cssclass="sta_WF_Labelbg"/>
                    <Static id="Static84" taborder="4" text="대체토지코드" cssclass="sta_WF_Label" left="0" top="0" width="90" height="27"/>
                    <Static id="Static01" taborder="6" text="B.L.T" cssclass="sta_WF_Label" left="254" top="0" width="90" height="27"/>
                    <Edit id="edt_lot" taborder="2" readonly="false" left="395" top="3" width="47" height="21" lengthunit="utf8" maxlength="3" cssclass="edt_WF_Essential"/>
                    <Edit id="edt_type" taborder="3" readonly="false" left="445" top="3" width="47" height="21" lengthunit="utf8" maxlength="2" cssclass="edt_WF_Essential"/>
                    <Edit id="edt_block" taborder="1" readonly="false" left="346" top="3" width="47" height="21" lengthunit="utf8" maxlength="3" cssclass="edt_WF_Essential"/>
                    <Combo id="cmb_ladCode" taborder="0" innerdataset="@ds_ladCode" codecolumn="LAD_CODE" datacolumn="ALL_LAD_NM" left="92" top="3" width="160" height="21" cssclass="cmb_WF_Readonly" readonly="true"/>
                  </Layout>
                </Layouts>
              </Div>
              <Calendar id="cal_payTmlmt" taborder="8" dateformat="yyyy-MM-dd" left="92" top="188" width="160" height="21"/>
              <Static id="Static10" taborder="36" text="계약타입" cssclass="sta_WF_Label" left="0" top="133" width="90" height="27" style="align:left middle;"/>
              <Edit id="edt_cntrctrTyNm" taborder="37" readonly="true" cssclass="edt_WF_Readonly" left="92" top="136" width="160" height="21"/>
              <Button id="btn_output" taborder="39" text="정산내역서" left="382" top="18" width="86" height="21" onclick="div_detail_btn_output_onclick"/>
              <Button id="btn_pymntRequst" taborder="38" text="가상계좌" onclick="div_detail_btn_pymntRequst_onclick" left="668" top="18" width="66" height="21" cssclass="btn_WF_Link"/>
              <Static id="Static12" taborder="40" text="위약금이율" cssclass="sta_WF_Label" left="254" top="185" width="90" height="27" style="align:left middle;"/>
              <MaskEdit id="msk_ratio" taborder="41" mask="#,#0.00" cssclass="msk_WF_Readonly" left="346" top="187" width="50" height="21"/>
              <Static id="Static14" taborder="42" text="%" left="396" top="187" width="21" height="21" style="align:center middle;"/>
              <Button id="btn_expndtrDecsn" taborder="43" text="지출결의(원금)" onclick="btn_expndtrDecsnA_onclick" cssclass="btn_WF_Process" left="575" top="18" width="88" height="21"/>
              <Static id="Static07" taborder="47" text="해약정보" cssclass="sta_WF_Title02" left="0" top="82" right="644" height="19"/>
              <Button id="btn_expndtrDecsn00" taborder="49" text="지출결의(이자)" onclick="btn_expndtrDecsnB_onclick" cssclass="btn_WF_Process" left="476" top="18" width="91" height="21"/>
              <Static id="Static06" taborder="50" text="계약자정보" cssclass="sta_WF_Title02" left="0" top="31" right="644" height="19"/>
              <Button id="btn_delete" taborder="51" text="해약처리복원" onclick="btn_delete_onclick" cssclass="btn_WF_Process" left="740" top="18" width="88" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="sta_popTitle" taborder="10" text="해약처리" cssclass="sta_WF_PopupTitle" left="0" top="0" height="34" right="0"/>
        <Button id="btn_xClose" taborder="11" onclick="btn_close_onclick" cssclass="btn_WF_PopupClose" left="810" top="9" height="20" right="10"/>
        <Button id="btn_close" taborder="12" text="종료" onclick="btn_close_onclick" cssclass="btn_WF_CRUD" left="780" top="44" width="50" height="25" userdata="fn_search"/>
        <Button id="btn_insert" taborder="17" text="저장" onclick="fn_save" cssclass="btn_WF_CRUD" left="667" top="44" width="50" height="25" userdata="fn_search"/>
        <Static id="Static04" taborder="18" left="1.76%" top="78" width="818" height="1" style="border:1 solid blue ;"/>
        <Static id="Static06" taborder="19" text="토지해약처리" cssclass="sta_WF_Title01" left="14" top="48" right="630" height="19"/>
        <Button id="btn_appr" taborder="20" text="결재" onclick="fn_sanction" cssclass="btn_WF_CRUD" left="724" top="43" width="50" height="25" userdata="fn_search"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_ladCodeSh" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="ALL_LAD_NM" type="STRING" size="256"/>
          <Column id="ACQS_AMOUNT" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP" type="STRING" size="256"/>
          <Column id="LOCPLC_ADRES" type="STRING" size="256"/>
          <Column id="OPERTN_BGNDE" type="STRING" size="256"/>
          <Column id="OPERTN_ENDDE" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_1" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladSeCodeSh" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_suplyCodeSh" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prposSeCodeSh" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cntrctSeCodeSh" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cntrctSttusCodeSh" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="LAD_SE" type="STRING" size="256"/>
          <Column id="PRPOS_SE" type="STRING" size="256"/>
          <Column id="CNTRCT_STTUS" type="STRING" size="256"/>
          <Column id="CNTRCT_TY" type="STRING" size="256"/>
          <Column id="SUPLY_CODE" type="STRING" size="256"/>
          <Column id="CNTRCT_NM" type="STRING" size="256"/>
          <Column id="CANCL_SE" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CANCL_SE">0</Col>
            <Col id="CSTMR_NM"/>
            <Col id="CNTRCT_NM"/>
            <Col id="SUPLY_CODE"/>
            <Col id="CNTRCT_TY"/>
            <Col id="CNTRCT_STTUS"/>
            <Col id="PRPOS_SE"/>
            <Col id="LAD_SE"/>
            <Col id="LOT_TY"/>
            <Col id="LOT"/>
            <Col id="BLCK"/>
            <Col id="LAD_CODE"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">div_search</Col>
            <Col id="colId">cmb_ladCodeSh</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">토지코드</Col>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">cal_cancelDe</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">해약일자</Col>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">cmb_cancelSe</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">해약구분</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">cmb_cancelReason</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">해약사유</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">cmb_ladCode</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">토지코드</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">edt_block</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">블록</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">edt_lot</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">롯트</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">edt_type</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">롯트타입</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">div_detail</Col>
            <Col id="colId">edt_cntrctrId</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">계약자</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CANCL_DE" type="STRING" size="256"/>
          <Column id="LTTOT_RENT_SE" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="CNTRCT_TY" type="STRING" size="256"/>
          <Column id="CNTRCT_TY_NM" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_NO" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_NO_INTR" type="STRING" size="256"/>
          <Column id="DECSN_YEAR" type="STRING" size="256"/>
          <Column id="LAD_NM_ONLY" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_ladLcntrctrPayInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="F_S1_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="F_TOT_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_DAY" type="BIGDECIMAL" size="256"/>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="F_INTR_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INC_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INS_AMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bankSe" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="ALL_LAD_NM" type="STRING" size="256"/>
          <Column id="ACQS_AMOUNT" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP" type="STRING" size="256"/>
          <Column id="LOCPLC_ADRES" type="STRING" size="256"/>
          <Column id="OPERTN_BGNDE" type="STRING" size="256"/>
          <Column id="OPERTN_ENDDE" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_1" type="STRING" size="256"/>
          <Column id="PLAN_CONFM_NTFC_DE_2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrPayAmtInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="F_SUM" type="BIGDECIMAL" size="256"/>
          <Column id="F_CANCELAMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resciSe" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resciResnCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrPayInfoOrg" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="F_S1_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="F_TOT_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_DAY" type="BIGDECIMAL" size="256"/>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="F_INTR_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INC_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INS_AMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrCancl" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_ladLcntrctrCancl_oncolumnchanged">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="FG" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CANCL_DE" type="STRING" size="256"/>
          <Column id="RESCI_SE" type="STRING" size="256"/>
          <Column id="RESCI_SE_NM" type="STRING" size="256"/>
          <Column id="RESCI_RESN_CODE" type="STRING" size="256"/>
          <Column id="RESCI_RESN_CODE_NM" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="LTTOT_AMOUNT" type="STRING" size="256"/>
          <Column id="PAYAMT" type="STRING" size="256"/>
          <Column id="OVDINTR" type="STRING" size="256"/>
          <Column id="RETURN_INTR" type="STRING" size="256"/>
          <Column id="PENLTY" type="STRING" size="256"/>
          <Column id="INCMTAX" type="STRING" size="256"/>
          <Column id="IHNTS" type="STRING" size="256"/>
          <Column id="PYMNTAMT" type="STRING" size="256"/>
          <Column id="PENLTY_INTRT" type="STRING" size="256"/>
          <Column id="PENLTY_APPLC_AT" type="STRING" size="256"/>
          <Column id="ALTRTV_LAD_CODE" type="STRING" size="256"/>
          <Column id="ALTRTV_LAD_NM" type="STRING" size="256"/>
          <Column id="ALTRTV_BLCK" type="STRING" size="256"/>
          <Column id="ALTRTV_LOT" type="STRING" size="256"/>
          <Column id="ALTRTV_LOT_TY" type="STRING" size="256"/>
          <Column id="BANK_CODE" type="STRING" size="256"/>
          <Column id="BANK_CODE_NM" type="STRING" size="256"/>
          <Column id="DPSTR" type="STRING" size="256"/>
          <Column id="ACNUTNO" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="EXCCLC_DE" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="RESCI_SUM_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="SUB_SUM_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_RCIV_DE" type="STRING" size="256"/>
          <Column id="SUB_RCIV_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_OVDINTR" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_IDRK_CO" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_COMPUT_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_INCMTAX" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_IHNTS" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_RETURN_INTRT" type="BIGDECIMAL" size="256"/>
          <Column id="SUB_RETURN_INTR" type="BIGDECIMAL" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="F_S1_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="F_DAY" type="BIGDECIMAL" size="256"/>
          <Column id="F_INTR_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="CNTRCT_TY" type="STRING" size="256"/>
          <Column id="ELCTRN_SANCTN_NO" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_DE" type="STRING" size="256"/>
          <Column id="DECSN_YEAR" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_NO" type="STRING" size="256"/>
          <Column id="SANCTN_AT" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_NO_INTR" type="STRING" size="256"/>
          <Column id="DECSN_YEAR_INTR" type="STRING" size="256"/>
          <Column id="APPRSTS" type="STRING" size="256"/>
          <Column id="REGIST_DT2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrPayInfoChk" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="F_S1_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="F_TOT_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_DAY" type="BIGDECIMAL" size="256"/>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="F_INTR_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INC_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INS_AMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrPayInfo2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="F_S1_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="F_TOT_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_DAY" type="BIGDECIMAL" size="256"/>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="F_INTR_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INC_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INS_AMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrPayInfoOrg2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="F_S1_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="F_TOT_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_DAY" type="BIGDECIMAL" size="256"/>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="F_INTR_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INC_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INS_AMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_lcntrctrPayList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="RQEST_YM" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="PAY_ODR" type="STRING" size="256"/>
          <Column id="PAY_SE" type="STRING" size="256"/>
          <Column id="INSTLMT_SE" type="STRING" size="256"/>
          <Column id="PAYAMT" type="BIGDECIMAL" size="256"/>
          <Column id="PAY_SUPLY_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="PAY_VAT" type="BIGDECIMAL" size="256"/>
          <Column id="INSTLMT_INTR" type="BIGDECIMAL" size="256"/>
          <Column id="INSTLMT_INTR_SUPLY_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="INSTLMT_INTR_VAT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="PREPAY_DSCNT_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="PAY_STDR_DE" type="STRING" size="256"/>
          <Column id="NHT_OUTPT_DE" type="STRING" size="256"/>
          <Column id="PAYMTHD" type="STRING" size="256"/>
          <Column id="BANK_CODE" type="STRING" size="256"/>
          <Column id="OCR_NO" type="STRING" size="256"/>
          <Column id="MDAT_DE" type="STRING" size="256"/>
          <Column id="OPETR_ID" type="STRING" size="256"/>
          <Column id="LEV_DECSN_NO" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="RCIV_DECSN_NO" type="STRING" size="256"/>
          <Column id="LTTOT_RENT_SE" type="STRING" size="256"/>
          <Column id="TMPR_RCIV_DE" type="STRING" size="256"/>
          <Column id="TMPR_RCIV_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="RDCAMT_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_DSCNT_SE" type="STRING" size="256"/>
          <Column id="ARRRG_DSCNT_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_DSCNT_SUPLY_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_DSCNT_VAT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_DSCNT_DAYCNT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_DSCNT_INTRT" type="BIGDECIMAL" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="R_RCIV_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="TOT_PAYAMT" type="BIGDECIMAL" size="256"/>
          <Column id="PAYAMT_SM" type="BIGDECIMAL" size="256"/>
          <Column id="UNCLAMT" type="BIGDECIMAL" size="256"/>
          <Column id="R_RCIV_DE" type="STRING" size="256"/>
          <Column id="CHA_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="INSTLMT_INTRT" type="STRING" size="256"/>
          <Column id="RENT_BGNDE" type="STRING" size="256"/>
          <Column id="RENT_ENDDE" type="STRING" size="256"/>
          <Column id="CNTRCT_DE" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ladLcntrctrPayInfoChk2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_NO" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="F_S1_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="F_TOT_SUMAMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_DAY" type="BIGDECIMAL" size="256"/>
          <Column id="F_R_RATIO" type="BIGDECIMAL" size="256"/>
          <Column id="F_INTR_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INC_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="F_INS_AMT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cntrctSttusCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnMastr" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="10"/>
          <Column id="CAUSE_ACTION_NO" type="STRING" size="10"/>
          <Column id="BUDGET_YEAR" type="STRING" size="4"/>
          <Column id="BSNS_SE" type="STRING" size="1"/>
          <Column id="BALC_SE" type="STRING" size="1"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="8"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="ANACT_KND" type="STRING" size="2"/>
          <Column id="DEPT_CODE" type="STRING" size="6"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="CYFD_SE" type="STRING" size="1"/>
          <Column id="ITNC_DE" type="STRING" size="8"/>
          <Column id="PYMNT_ITNC_DE" type="STRING" size="8"/>
          <Column id="DET_DCSN_DE" type="STRING" size="8"/>
          <Column id="PRMPC_JRNLZPR_RGIST_DE" type="STRING" size="8"/>
          <Column id="CPTAL_EXPNDTR_ACNTBK_DE" type="STRING" size="8"/>
          <Column id="EXPNDTR_BUDGET_CNRL_DE" type="STRING" size="8"/>
          <Column id="CAUSE_ACTION_DE" type="STRING" size="8"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="BUDGET_ACNT_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="8"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="CPTAL_CHRG_CONFM" type="STRING" size="1"/>
          <Column id="TIMHDER_CONFM" type="STRING" size="1"/>
          <Column id="CNTRCT_NO" type="STRING" size="11"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="SUMRY" type="STRING" size="200"/>
          <Column id="BSNS_CODE" type="STRING" size="5"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="PRMPC_YEAR" type="STRING" size="256"/>
          <Column id="PRMPC_CODE" type="STRING" size="6"/>
          <Column id="PRMPC_NM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="7"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
          <Column id="EXPNDTR_CNFIRM_AT" type="STRING" size="2"/>
          <Column id="ATMC_JRNLZ_TY_CODE" type="STRING" size="256"/>
          <Column id="GNRL_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="GNRL_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="CHECK_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnMtrDet" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnMtrDet_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="CNTRCT_DE" type="STRING" size="8"/>
          <Column id="ACPTNC_DE" type="STRING" size="8"/>
          <Column id="ORDER_DE" type="STRING" size="8"/>
          <Column id="DVYFG_DE" type="STRING" size="8"/>
          <Column id="PYMNT_CMMND_PBLICTE_DE" type="STRING" size="8"/>
          <Column id="CHECK_NO" type="BIGDECIMAL" size="22"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="DSGN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="CNTRCT_SE" type="STRING" size="3"/>
          <Column id="CNTRCT_MTHD" type="STRING" size="1"/>
          <Column id="ATCH_FILE" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH" type="STRING" size="200"/>
          <Column id="ATCH_FILE_1" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH_1" type="STRING" size="200"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="7"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnDetail" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnDetail_oncolumnchanged" onrowsetchanged="ds_expDsnDetail_onrowsetchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AT" type="STRING" size="1"/>
          <Column id="BILL_KND" type="STRING" size="1"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT" type="BIGDECIMAL" size="22"/>
          <Column id="BCNC_CODE" type="STRING" size="10"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="30"/>
          <Column id="ADRES" type="STRING" size="200"/>
          <Column id="RQEST_DE" type="STRING" size="8"/>
          <Column id="RQEST_MAN" type="STRING" size="30"/>
          <Column id="RCPT_DE" type="STRING" size="8"/>
          <Column id="RCPT_MAN" type="STRING" size="30"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="ENTRPRS_SE" type="STRING" size="1"/>
          <Column id="EVRFRND" type="STRING" size="1"/>
          <Column id="TCNDVLP" type="STRING" size="1"/>
          <Column id="CNTRWK_PRPOS_MTRIL" type="STRING" size="1"/>
          <Column id="AREA_ENTRPS" type="STRING" size="1"/>
          <Column id="FEMALE_ENTRPRS" type="STRING" size="1"/>
          <Column id="MIDDL_PD_CMPET_PRDUCT" type="STRING" size="1"/>
          <Column id="FRGCPT_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN" type="STRING" size="1"/>
          <Column id="SRSILL_DSPSN" type="STRING" size="1"/>
          <Column id="SOCTY_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN_PRDCTN_FCLTY" type="STRING" size="1"/>
          <Column id="SOCTY_CPER_MXTR" type="STRING" size="1"/>
          <Column id="GREEN_PRDUCT" type="STRING" size="1"/>
          <Column id="WHTAX_AT" type="STRING" size="1"/>
          <Column id="WHTAX_KND" type="STRING" size="1"/>
          <Column id="WHTAX_ADRES" type="STRING" size="200"/>
          <Column id="IHDNUM" type="STRING" size="256"/>
          <Column id="INCMTAX" type="STRING" size="256"/>
          <Column id="IHNTS" type="STRING" size="256"/>
          <Column id="WHTAX_INCOME_SE_CODE" type="STRING" size="256"/>
          <Column id="WHTAX_INDUTY_CODE" type="STRING" size="256"/>
          <Column id="MTCHG_SE" type="STRING" size="5"/>
          <Column id="BRRW_AMOUNT_INTR_RPAY_AT" type="STRING" size="1"/>
          <Column id="RM" type="STRING" size="200"/>
          <Column id="CMPNSP_NO" type="STRING" size="30"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="7"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_decsnNo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_DE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_approve" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DATA_VALUE" type="STRING" size="1000"/>
          <Column id="DATA_TITLE" type="STRING" size="256"/>
          <Column id="O_URL" type="STRING" size="256"/>
          <Column id="I_KEY" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="DEPT_CD" type="STRING" size="256"/>
          <Column id="EMP_CD" type="STRING" size="256"/>
          <Column id="TITLE" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond03" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="PRPOS_SE" type="STRING" size="256"/>
          <Column id="SUPLY_SE" type="STRING" size="256"/>
          <Column id="CHK1" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="256"/>
          <Column id="CHK2" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_ladLcntrctrInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LAD_CODE" type="STRING" size="256"/>
          <Column id="BLCK" type="STRING" size="256"/>
          <Column id="LOT" type="STRING" size="256"/>
          <Column id="LOT_TY" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="LAD_CSTMR_NO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_MTLTY" type="STRING" size="256"/>
          <Column id="IHIDNUM" type="STRING" size="256"/>
          <Column id="PRPOS_SE" type="STRING" size="256"/>
          <Column id="SUPLY_SE" type="STRING" size="256"/>
          <Column id="ZIP" type="STRING" size="256"/>
          <Column id="ADRES" type="STRING" size="256"/>
          <Column id="ADRES_DETAIL" type="STRING" size="256"/>
          <Column id="ZIP_DM" type="STRING" size="256"/>
          <Column id="BASS_ADRES_DM" type="STRING" size="256"/>
          <Column id="DETAIL_ADRES_DM" type="STRING" size="256"/>
          <Column id="CNTRCT_TY" type="STRING" size="256"/>
          <Column id="CNTRCT_DE" type="STRING" size="256"/>
          <Column id="RENT_BGNDE" type="STRING" size="256"/>
          <Column id="RENT_ENDDE" type="STRING" size="256"/>
          <Column id="TELNO" type="STRING" size="256"/>
          <Column id="ETC_CTTPC" type="STRING" size="256"/>
          <Column id="MBTLNO" type="STRING" size="256"/>
          <Column id="FAXNO" type="STRING" size="256"/>
          <Column id="ENTRPS_CHARGER" type="STRING" size="256"/>
          <Column id="ENTRPS_DEPT" type="STRING" size="256"/>
          <Column id="ENTRPS_TELNO" type="STRING" size="256"/>
          <Column id="CTRTC_FILE_COURS" type="STRING" size="256"/>
          <Column id="CTRTC_FILE" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP" type="STRING" size="256"/>
          <Column id="LOCPLC_BASS_ADRES" type="STRING" size="256"/>
          <Column id="LOCPLC_DETAIL_ADRES" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP_LNM" type="STRING" size="256"/>
          <Column id="LOCPLC_BASS_ADRES_LNM" type="STRING" size="256"/>
          <Column id="LOCPLC_DETAIL_ADRES_LNM" type="STRING" size="256"/>
          <Column id="BGNN_AR" type="STRING" size="256"/>
          <Column id="BGNN_UNTPC" type="STRING" size="256"/>
          <Column id="BGNN_AMOUNT" type="STRING" size="256"/>
          <Column id="DCSN_AR" type="STRING" size="256"/>
          <Column id="DCSN_UNTPC" type="STRING" size="256"/>
          <Column id="DCSN_AMOUNT" type="STRING" size="256"/>
          <Column id="ALL_AR" type="STRING" size="256"/>
          <Column id="RENT_GTN" type="STRING" size="256"/>
          <Column id="FYER_RNTCHRG" type="STRING" size="256"/>
          <Column id="PRPOS_SE_NM" type="STRING" size="256"/>
          <Column id="LAD_NM" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="PAY_TMLMT1" type="STRING" size="256"/>
          <Column id="PAY_TMLMT2" type="STRING" size="256"/>
          <Column id="S0" type="STRING" size="256"/>
          <Column id="S1" type="STRING" size="256"/>
          <Column id="S2" type="STRING" size="256"/>
          <Column id="S9" type="STRING" size="256"/>
          <Column id="REMVL_FLFL_GTN" type="STRING" size="256"/>
          <Column id="FILE_NM" type="STRING" size="256"/>
          <Column id="FILE_EXTSN" type="STRING" size="256"/>
          <Column id="NMCHANGE_NO" type="STRING" size="256"/>
          <Column id="CDIT_TRNSFR_AMOUNT" type="STRING" size="256"/>
          <Column id="TRNSFR_DE" type="STRING" size="256"/>
          <Column id="DET_AMOUNT" type="STRING" size="256"/>
          <Column id="CDIT_DECSN_DE" type="STRING" size="256"/>
          <Column id="OWNSHIP_BEFORE_DE" type="STRING" size="256"/>
          <Column id="OWNSHIP_RPRSNTV_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item15" compid="div_detail.edt_lot" propid="value" datasetid="ds_cond01" columnid="LOT"/>
      <BindItem id="item16" compid="div_detail.edt_type" propid="value" datasetid="ds_cond01" columnid="LOT_TY"/>
      <BindItem id="item14" compid="div_detail.edt_block" propid="value" datasetid="ds_cond01" columnid="BLCK"/>
      <BindItem id="item17" compid="div_detail.edt_cntrctrId" propid="value" datasetid="ds_cond01" columnid="CSTMR_NM"/>
      <BindItem id="item13" compid="div_detail.cmb_ladCode" propid="value" datasetid="ds_ladLcntrctrList" columnid="LAD_CODE"/>
      <BindItem id="item12" compid="div_detail.cal_cancelDe" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="CANCL_DE"/>
      <BindItem id="item18" compid="div_detail.cmb_cancelSe" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="RESCI_SE"/>
      <BindItem id="item19" compid="div_detail.cmb_cancelReason" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="RESCI_RESN_CODE"/>
      <BindItem id="item20" compid="div_detail.edt_reasonEtc" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="RM"/>
      <BindItem id="item21" compid="div_detail.edt_depositor" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="DPSTR"/>
      <BindItem id="item22" compid="div_detail.cmb_bank" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="BANK_CODE"/>
      <BindItem id="item23" compid="div_detail.edt_Account" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="ACNUTNO"/>
      <BindItem id="item24" compid="div_detail.div_sub.cmb_ladCode" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="ALTRTV_LAD_CODE"/>
      <BindItem id="item25" compid="div_detail.div_sub.edt_block" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="ALTRTV_BLCK"/>
      <BindItem id="item26" compid="div_detail.div_sub.edt_lot" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="ALTRTV_LOT"/>
      <BindItem id="item27" compid="div_detail.div_sub.edt_type" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="ALTRTV_LOT_TY"/>
      <BindItem id="item29" compid="div_detail.cal_payTmlmt" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="PAY_TMLMT"/>
      <BindItem id="item11" compid="div_detail.chk_1" propid="value" datasetid="ds_ladLcntrctrCancl" columnid="PENLTY_APPLC_AT"/>
      <BindItem id="item28" compid="div_detail.edt_cntrctrTyNm" propid="value" datasetid="ds_cond01" columnid="CNTRCT_TY_NM"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SLS080202
 * 화면명   : 토지해약처리
 * 화면설명 : 토지해약처리를 관리한다.
 * 작성일   : 2015. 10. 02
 * 작성자   : 변승우
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    2015.00.00   홍길동   fn_xxx() 보완 수정
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ***********************************************************************/
// 시스템 공통 라이브러리 Include
include "pms_lib::pmsUtilInclude.xjs";

/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
// 화면 전역에서 사용할 Form 변수를 선언한다.
// TODO
var CNTRCT_TY;    // SL : 분양, RN:임대
	
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.SLS080201_P06_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init();
	this.fn_init_form();		// Form 초기화
	this.fn_init_dataset();		// DataSet 초기화		
}

this.SLS080201_P06_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	//this.ds_cond00.setColumn( this.ds_cond00.rowposition , "CANCL_SE" , 0);
	this.fn_loadCombo();		// Combo에 사용되는 Dataset Load
	
	// 기타 화면 로드 시 조회를 해야 하는 경우
	// TODO
	
	this.fn_cancelInfo();
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	this.gfn_initForm(this);	// 시스템 공통으로 Form을 Initialize 한다.
}

/*
 * 함수명  	: fn_init_dataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	this.gfn_initCondDs(this, this.div_search);	// 조건에 사용되는 Dataset 초기화
	
	//해약구분 변경
	this.div_detail_cmb_cancelSe_onitemchanged();
}

/*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function()
{
	// 공통코드 목록 조회 - 토지구분, 용도구분, 급지구분, 목차구분
 	var comCodeParam = [
		
		  {OUT_PUT:"ds_cntrctSttusCodeSh", GRP_CODE:"LAD0A4", USE_AT:"1", PARAM_NAME:"CHRCTR_PREPAR_VALUE_0", PARAM_VALUE:"V"} // 계약타입
 		, {OUT_PUT:"ds_cntrctSeCodeSh",    GRP_CODE:"LAD0A3", USE_AT:"1"} // 계약구분
 		, {OUT_PUT:"ds_prposSeCodeSh",     GRP_CODE:"LAD003", USE_AT:"1"} // 용도구분
 		, {OUT_PUT:"ds_suplyCodeSh",       GRP_CODE:"LAD004", USE_AT:"1"} // 공급구분
 		, {OUT_PUT:"ds_ladSeCodeSh",       GRP_CODE:"LAD0A2", USE_AT:"1"} // 토지구분
 		
		, {OUT_PUT:"ds_resciResnCode",     GRP_CODE:"LAD008", USE_AT:"1"} // 해약사유
		, {OUT_PUT:"ds_bankSe",            GRP_CODE:"COM021", USE_AT:"1"} // 은행구분
 		
 	];
 	this.pmsUtil.getCommonCode("selectCommonCode", comCodeParam);
	
	// 토지 코드 목록 조회
	var ladCodeParam = {};
	ladCodeParam["UASE_AT"] = "1";
	this.pmsUtil.getLadCodeList(ladCodeParam, "ds_ladCodeSh");
	this.pmsUtil.getLadCodeList(ladCodeParam, "ds_ladCode");
	
	//해약일자
	var CANCL_DE = this.gfn_today();
	this.div_detail.cal_cancelDe.set_value(CANCL_DE);
}

this.btn_close_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.close();	
}

// 해약처리 복원
this.btn_delete_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_delete();
}

this.div_detail_btn_output_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_output();
}

// 토지계약자 해약정보 및 납부정보조회
this.fn_cancelInfo = function () 
{
		//계약타입
		//this.CNTRCT_TY = "SL"; //this.ds_cond01.getColumn(0, "CNTRCT_TY");

			// 조회조건 설정		
		this.ds_cond01.setColumn(0, "CNTRCTR_NO", this.parent.cntrctrNo);
		this.ds_cond01.setColumn(0, "CSTMR_NM", this.parent.cstmrNm);	
		this.ds_cond01.setColumn(0, "LAD_CODE", this.parent.ladCode);
		this.ds_cond01.setColumn(0, "LAD_NM", "["+this.parent.ladCode+"]"+this.parent.ladNm);
		this.ds_cond01.setColumn(0, "LAD_NM_ONLY", this.parent.ladNm);		
		this.ds_cond01.setColumn(0, "BLCK", this.parent.blck);
		this.ds_cond01.setColumn(0, "LOT", this.parent.lot);
		this.ds_cond01.setColumn(0, "LOT_TY", this.parent.lotTy);

		// Clear Datasets
		this.pmsUtil.clearDataSet([this.ds_ladLcntrctrInfo, this.ds_ladLcntrctrPayInfo, this.ds_ladLcntrctrPayInfo2, this.ds_ladLcntrctrCancl, this.ds_lcntrctrPayList]);

	    //1.토지계약정보 조회
	    this.fn_transaction("selectLadLcntrctrInfo");

		this.CNTRCT_TY = this.ds_ladLcntrctrInfo.getColumn(0,"CNTRCT_TY");
		if (this.CNTRCT_TY == "SL") {
			this.div_detail.div_list1.set_visible(true);
			this.div_detail.div_list2.set_visible(false);
		} else {
			this.div_detail.div_list1.set_visible(false);
			this.div_detail.div_list2.set_visible(true);		
		}
		
		this.ds_cond01.setColumn(0, "CNTRCT_TY", this.CNTRCT_TY);
		if (this.CNTRCT_TY == "SL")
			this.ds_cond01.setColumn(0, "CNTRCT_TY_NM", "[SL]분양계약");
		else if (this.CNTRCT_TY == "RN")
			this.ds_cond01.setColumn(0, "CNTRCT_TY_NM", "[RN]임대계약");		
	
		// 해약정보 조회조건 설정
		var CANCL_DE = this.div_detail.cal_cancelDe.value;		
		if(CANCL_DE == undefined || CANCL_DE == ""){
			CANCL_DE = this.gfn_today();
		}
		
		this.ds_cond01.setColumn(0, "CANCL_DE", CANCL_DE);			
		
		//탭
		if (this.CNTRCT_TY == "SL"){//분양			
			this.ds_cond01.setColumn(0, "LTTOT_RENT_SE", "S");
		}
		else if (this.CNTRCT_TY == "RN"){//임대
			this.ds_cond01.setColumn(0, "LTTOT_RENT_SE", "R");
		}
		
	    //1.해약정보 조회
	    this.fn_transaction("selectLadLcntrctrCancl");
}

//저장
this.fn_save = function()
{
	var chk = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"CHK");
	if(chk == "1"){
		this.alert("이미 해약처리가 되었습니다.");
		return
	}
	
	if(!this.gfn_checkValidation(this.div_detail, this.ds_validation)) {
    	return;
	}
	
	var cancelSe  = this.div_detail.cmb_cancelSe.value;
	var ladCode  = this.div_detail.div_sub.cmb_ladCode.value;
	var block  = this.div_detail.div_sub.edt_block.value;
	var lot  = this.div_detail.div_sub.edt_lot.value;
	var type  = this.div_detail.div_sub.edt_type.value;
	if(cancelSe == "02"){
		if(ladCode == ""){
			this.alert("대체토지코드를 선택하세요.");
			return
		}
		if(block == ""){
			this.alert("대체블록번호를 입력하세요.");
			return
		}
		if(lot == ""){
			this.alert("대체롯트번호를 입력하세요.");
			return
		}
		if(type == ""){
			this.alert("대체롯트타입를 입력하세요.");
			return
		}
	}
	
	var chk1 = this.div_detail.chk_1.value;	
	var payTmlmt = this.div_detail.cal_payTmlmt.value;

	if((chk1 == undefined || chk1 == 0) && payTmlmt == undefined){
		this.alert("위약금납부기한일 입력하세요.");
		return
	}
	
	if(this.confirm("현계약자에 대하여 해약처리를 하시겠습니까? [주의]")){
		
		//해약정보셋팅
		trace("해약정보셋팅 시작");
		this.set_ladLcntrctrCanclValue();
		trace("해약정보셋팅 종료");
	
		if (this.CNTRCT_TY == "SL" ){//분양
			//작업용 데이터셋 만들기
			this.ds_ladLcntrctrPayInfoChk.clearData();
			for(i=0; i < this.ds_ladLcntrctrPayInfo.getRowCount(); i++){
				var printChk = this.ds_ladLcntrctrPayInfo.getColumn(i, "CHK");
				if(printChk == 1){			
					var addRow = this.ds_ladLcntrctrPayInfoChk.addRow();
					this.ds_ladLcntrctrPayInfoChk.copyRow(addRow, this.ds_ladLcntrctrPayInfo, i);
				}		
			}
			this.fn_transaction("spslsLadLcntrctrCanclUi");
		} else if(this.CNTRCT_TY == "RN" ){//임대
			
			//작업용 데이터셋 만들기
			this.ds_ladLcntrctrPayInfoChk2.clearData();
			for(i=0; i < this.ds_ladLcntrctrPayInfo2.getRowCount(); i++){
				var printChk = this.ds_ladLcntrctrPayInfo2.getColumn(i, "CHK");
				if(printChk == 1){			
					var addRow = this.ds_ladLcntrctrPayInfoChk2.addRow();
					this.ds_ladLcntrctrPayInfoChk2.copyRow(addRow, this.ds_ladLcntrctrPayInfo2, i);
				}		
			}
			this.fn_transaction("spslsLadLcntrctrCanclUi2");
		} else {
		    alert("계약구분(분양/임대)이 없습니다");
		}
	}
}

//삭제(해약처리 취소)
this.fn_delete = function()
{
	var chk = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"CHK");
	
	if(chk == "1"){		
		if(this.confirm("현계약자에 대하여 해약처리를 취소 하시겠습니까? ")){
		
			if (this.CNTRCT_TY == "SL" ){//분양
				
				this.fn_transaction("spslsLadLcntrctrCanclUiCancl");
			}
			else if(this.CNTRCT_TY == "RN"  ){//임대

				this.fn_transaction("spslsLadLcntrctrCanclUiCancl");
			}

		}
	}
	else{
		this.alert("해약정보가 없습니다.");
	}		
}

this.fn_output = function ()
{
	var vOpts = new this.cf_Opts();
	vOpts.setToolbar(false);
	vOpts.setScale(100);
	
	var LAD_CODE = this.ds_cond01.getColumn(0, "LAD_CODE");
	var LAD_NM = this.ds_cond01.getColumn(0, "LAD_NM");

	vOpts.setArgs("LAD_CODE", LAD_CODE);
	vOpts.setArgs("LAD_NM", LAD_NM);
	vOpts.setArgs("BLCK", this.ds_cond01.getColumn(0, "BLCK"));
	vOpts.setArgs("LOT", this.ds_cond01.getColumn(0, "LOT"));
	vOpts.setArgs("LOT_TY", this.ds_cond01.getColumn(0, "LOT_TY"));		
	vOpts.setArgs("CSTMR_NM", this.ds_cond01.getColumn(0, "CSTMR_NM"));
	
	vOpts.setArgs("CANCL_DE", this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "CANCL_DE"));
	vOpts.setArgs("EXCCLC_DE", this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "EXCCLC_DE"));
			

	if (this.CNTRCT_TY == "SL" ){//분양
		
		if(this.ds_ladLcntrctrPayInfo.getRowCount() > 0){
		
			var F_SUM = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  1, "text");//분양금액
			var amt3 = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  8, "text" );//산출금액총계
			var F_CANCELAMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  9, "text" );//위약금
			var F_INC_AMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  10, "text" );//소득세
			var F_INS_AMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  11, "text" );//주민세
			var amt4 = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  12, "text");//소계
			var sum = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  13, "text" );// 실지급액
			
			vOpts.setArgs("F_SUM", F_SUM);
			vOpts.setArgs("amt3", amt3);
			vOpts.setArgs("F_CANCELAMT", F_CANCELAMT);
			vOpts.setArgs("F_INC_AMT", F_INC_AMT);
			vOpts.setArgs("F_INS_AMT", F_INS_AMT);
			vOpts.setArgs("amt4", amt4);
			vOpts.setArgs("sum", sum);
			
			vOpts.setReportPath("/pms/sls/SLS080202_R01.jrf");
			vOpts.setSaveFilename("토지해약정산내역(분양)");
			vOpts.setLocalDs(["ds_ladLcntrctrPayInfo", this.ds_ladLcntrctrPayInfo]);
		}
		else{
			this.alert("조회된 데이터가 없습니다.");
			this.gfn_message("info.조회.데이터.없음");
		}
		
	}
	else if(this.CNTRCT_TY == "RN"){//임대
		
		if(this.ds_ladLcntrctrPayInfo2.getRowCount() > 0){
			
			var F_SUM = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  1, "text");//보증금
			var F_CANCELAMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  6, "text" );//위약금
			var F_INC_AMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  7, "text" );//소득세
			var F_INS_AMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  8, "text" );//주민세
			var amt4 = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  9, "text");//소계
			var sum = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  10, "text" );// 실지급액
			
			vOpts.setArgs("F_SUM", F_SUM);			
			vOpts.setArgs("F_CANCELAMT", F_CANCELAMT);
			vOpts.setArgs("F_INC_AMT", F_INC_AMT);
			vOpts.setArgs("F_INS_AMT", F_INS_AMT);
			vOpts.setArgs("amt4", amt4);
			vOpts.setArgs("sum", sum);
			
			vOpts.setReportPath("/pms/sls/SLS080202_R02.jrf");
			vOpts.setSaveFilename("토지해약정산내역(임대)");
			vOpts.setLocalDs(["ds_ladLcntrctrPayInfo", this.ds_ladLcntrctrPayInfo2]);
		}
		else{
			this.alert("조회된 데이터가 없습니다.");
			this.gfn_message("info.조회.데이터.없음");
		}

	}
	
	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		opts : vOpts
	};

	this.gfn_popup("Popup_Report", 884, 735, "토지해약정산내역", parm, "common::frmReportPopup.xfdl", "report_callback");
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/ 
 /*
 * 함수명  	    : fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	var argument     = "";
	var callbackFunc = "fn_callBack";
	var showProgress = true;
	var bAsync       = true;
	switch (strSvcId) {
	
	    // 토지계약상세 조회
		case "selectLadLcntrctrInfo" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080201/selectLadLcntrctrInfo.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_ladLcntrctrInfo=output1";			
		    bAsync = false;
			break;
						
	    // 해약정보
		case "selectLadLcntrctrCancl" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/selectLadLcntrctrCancl.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_ladLcntrctrCancl=output1 ds_ladLcntrctrPayAmtInfo=output2";
			break;
			
		// 분양탭 : 토지계약자납부정보조회(tabpage1)
		case "selectLadLcntrctrPayInfo" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/selectLadLcntrctrPayInfo.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_ladLcntrctrPayInfo=output1";	
			//var sOutDatasets  	= "ds_ladLcntrctrPayInfo=output1 ds_ladLcntrctrPayAmtInfo=output2";			
			break;
			
	    // 토지 분양해약(대체) 처리
		case "spslsLadLcntrctrCanclUi" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/spslsLadLcntrctrCanclUi.do";
			var sInDatasets   	= "input1=ds_ladLcntrctrCancl:U input2=ds_ladLcntrctrPayInfoChk:A" ;
			var sOutDatasets  	= "";
			break;
			
		// 토지 임대해약(대체) 처리
		case "spslsLadLcntrctrCanclUi2" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/spslsLadLcntrctrCanclUi.do";
			var sInDatasets   	= "input1=ds_ladLcntrctrCancl:U input2=ds_ladLcntrctrPayInfoChk2:A input3=ds_lcntrctrPayList:A" ;
			var sOutDatasets  	= "";
			break;
			
		// 토지 임대해약(대체) 취소 처리
		case "spslsLadLcntrctrCanclUiCancl" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/spslsLadLcntrctrCanclUiCancl.do";
			var sInDatasets   	= "input1=ds_ladLcntrctrCancl:A";
			var sOutDatasets  	= "";
			break;
			
			
	    // 임대탭 : 보증금(tabpage2)
		case "selectLadLcntrctrPayInfo2" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/selectLadLcntrctrPayInfo.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_ladLcntrctrPayInfo2=output1";
			break;
			
		// 임대탭: 임대료(tabpage2)
		case "selectLcntrctrPayList" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/selectLcntrctrPayList.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_lcntrctrPayList=output1";
			break;
		
		//전자결재
		case "approve" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/approveU.do";
			var sInDatasets   	= "input1=ds_approve";
			var sOutDatasets  	= "ds_approve=output1";
			break;

		//결의번호 업데이트 (원금)
		case "updateExpndtrDecsnNo" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/updateExpndtrDecsnNo.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "";
			break;
		//결의번호 업데이트 (이자)
		case "updateExpndtrDecsnNoIntr" :
			var sController   	= "hsco/pms/sls/lad/ctr/SLS080202/updateExpndtrDecsnNoIntr.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "";
			break;
			
		default :
			break;
	}	
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets, argument, callbackFunc, showProgress, bAsync); 
}



/**********************************************************************
 * Transaction Callback 영역
 **********************************************************************/ 
/*
 * 함수명  	    : fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	var bSuccess = nErrorCode == 0 ? true : false;
	if (bSuccess){
		
		var comboOption = null;
		var targetCombo = null;
		switch(strSvcId){
		
			// 공통코드 목록 조회
			case "selectCommonCode" :
			
				// 조회영역 - 토지구분
				targetCombo = this.div_search.cmb_ladSeCodeSh;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
				
				//토지구분
				targetCombo = this.div_detail.div_sub.cmb_ladCode;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_SELECT;
				comboOption["noNullText"] = "코드없음";
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);						

				// 조회영역 - 용도구분
				targetCombo = this.div_search.cmb_prposSeCodeSh;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
								
				// 조회영역 - 계약구분
				targetCombo = this.div_search.cmb_cntrctSeCodeSh;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
				
				// 조회영역 - 계약타입
				targetCombo = this.div_search.cmb_cntrctSttusCodeSh;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);

				// 조회영역 - 공급구분				
				targetCombo = this.div_search.cmb_suplyCodeSh;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_ALL;
				comboOption["noNullText"] = "코드없음";				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
								
				// 해약사유		
				targetCombo = this.div_detail.cmb_cancelReason;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_SELECT;
				comboOption["noNullText"] = "코드없음";				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
				
				// 은행
				targetCombo = this.div_detail.cmb_bank;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_SELECT;
				comboOption["noNullText"] = "코드없음";				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
											
				break;
				
			// 토지코드 목록 조회영역
			case "ladCodeSh" :
				targetCombo = this.div_search.cmb_ladCodeSh;
				comboOption = {};
				comboOption["type"] = this.pmsUtil.PROMPT_SELECT;
				comboOption["noNullText"] = "코드없음";				
				this.pmsUtil.setComboPrompt(targetCombo, comboOption);
				break;
				
			// 토지코드 목록 상세영역
			case "ladCode" :
				break;

			
			// 토지계약자해약정보조회
			case "selectLadLcntrctrCancl" :
				//계약타입		
				//var CNTRCT_TY = this.ds_cond01.getColumn(0, "CNTRCT_TY");
				//2-2.해약정보 있을때
				if(this.ds_ladLcntrctrCancl.getRowCount() > 0){
					
					//해약정보 및 해약정보 상세정보를 납부그리드에 표시			
					
					//탭
					if (this.CNTRCT_TY == "SL"){//분양
						//this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setBindDataset(this.ds_ladLcntrctrCancl);
						this.ds_ladLcntrctrPayInfo.copyData(this.ds_ladLcntrctrCancl);
						this.ds_ladLcntrctrPayInfoOrg.copyData(this.ds_ladLcntrctrCancl);

					}
					else if (this.CNTRCT_TY == "RN"){//임대
						
						//보증금 내역 표시
						this.ds_ladLcntrctrPayInfo2.copyData(this.ds_ladLcntrctrCancl);
						this.ds_ladLcntrctrPayInfoOrg2.copyData(this.ds_ladLcntrctrCancl);
						
						//임대료 조회
						this.fn_transaction("selectLcntrctrPayList");
					}
					else{
						this.pmsUtil.clearDataSet([this.ds_ladLcntrctrPayInfo, this.ds_ladLcntrctrPayInfo2, this.ds_lcntrctrPayList]);
						return;
					}
					
					//해약구분이 대체면 대체토지코드정보 보여줌(체크박스, 금액계산)
					this.div_detail_cmb_cancelSe_onitemchanged();
					
					//화면 잠금
					this.div_detail.cal_cancelDe.set_enable(false);
					this.div_detail.cmb_cancelSe.set_enable(false);
					this.div_detail.cmb_cancelReason.set_enable(false);
					this.div_detail.edt_reasonEtc.set_enable(false);
					this.div_detail.edt_depositor.set_enable(false);
					this.div_detail.cmb_bank.set_enable(false);
					this.div_detail.edt_Account.set_enable(false);
					this.div_detail.cal_payTmlmt.set_enable(false);
					
					this.div_detail.chk_1.set_enable(false);
					
					//this.div_detail.chk_2.set_enable(false);
					//this.div_detail.chk_3.set_enable(false);
					
					this.div_detail.div_sub.set_enable(false);
				}
				else{//2-1.해약정보 없을때
					
					//화면 풀기
					this.div_detail.cal_cancelDe.set_enable(true);
					this.div_detail.cmb_cancelSe.set_enable(true);
					this.div_detail.cmb_cancelReason.set_enable(true);
					this.div_detail.edt_reasonEtc.set_enable(true);
					this.div_detail.edt_depositor.set_enable(true);
					this.div_detail.cmb_bank.set_enable(true);
					this.div_detail.edt_Account.set_enable(true);
					this.div_detail.cal_payTmlmt.set_enable(true);
					
					this.div_detail.chk_1.set_enable(true);
					
					//this.div_detail.chk_2.set_enable(true);
					//this.div_detail.chk_3.set_enable(true);
					
					this.div_detail.div_sub.set_enable(true);
					
					//this.alert("조회된 데이타가 없습니다.");
					var addRow = this.ds_ladLcntrctrCancl.addRow();
					
					//해약일자
					var CANCL_DE = this.gfn_today();
					this.div_detail.cal_cancelDe.set_value(CANCL_DE);
					this.div_detail.cmb_cancelReason.set_index(0);
					this.div_detail.cmb_bank.set_index(0);
					
					// 해약정보 설정
					this.ds_ladLcntrctrCancl.setColumn(addRow, "CNTRCTR_NO", 	this.ds_cond01.getColumn(0, "CNTRCTR_NO"));		
					this.ds_ladLcntrctrCancl.setColumn(addRow, "LAD_CODE", 		this.ds_cond01.getColumn(0, "LAD_CODE"));
					this.ds_ladLcntrctrCancl.setColumn(addRow, "BLCK", 			this.ds_cond01.getColumn(0, "BLCK"));
					this.ds_ladLcntrctrCancl.setColumn(addRow, "LOT", 			this.ds_cond01.getColumn(0, "LOT"));
					this.ds_ladLcntrctrCancl.setColumn(addRow, "LOT_TY", 		this.ds_cond01.getColumn(0, "LOT_TY"));
					this.ds_ladLcntrctrCancl.setColumn(addRow, "CNTRCT_TY", 	this.ds_cond01.getColumn(0, "CNTRCT_TY"));
										
					this.div_detail.div_sub.cmb_ladCode.set_index(0);
					this.div_detail_cmb_cancelSe_onitemchanged();
					
					//탭
					if (this.CNTRCT_TY == "SL"){//분양
						this.ds_cond01.setColumn(0, "LTTOT_RENT_SE", "S");
						//3.납부정보
						this.fn_transaction("selectLadLcntrctrPayInfo");
					}
					else if (this.CNTRCT_TY == "RN"){//임대
						this.ds_cond01.setColumn(0, "LTTOT_RENT_SE", "R");
						//3.납부정보-보증금
						this.fn_transaction("selectLadLcntrctrPayInfo2");
					}
					else{
						// Clear Datasets
						this.pmsUtil.clearDataSet([this.ds_ladLcntrctrPayInfo, this.ds_ladLcntrctrPayInfo2, this.ds_lcntrctrPayList]);
					}
				}
				break;			
				
			// 분양탭 : 토지계약자납부정보조회(tabpage1)
			case "selectLadLcntrctrPayInfo" :
				//this.Tab00_onchanged();
				
				//원본데이타셋 복사
				this.ds_ladLcntrctrPayInfoOrg.copyData(this.ds_ladLcntrctrPayInfo);
				//금액계산
				this.calAmt();
				
				//해약정보셋팅
				this.set_ladLcntrctrCanclValue();
					

				break;
				
			// 토지 분양해약(대체) 처리
			case "spslsLadLcntrctrCanclUi" :
				this.fn_cancelInfo();
				this.alert("해약처리 되었습니다.");
				break;
				
			// 토지 임대해약(대체) 처리
			case "spslsLadLcntrctrCanclUi2" :
				this.fn_cancelInfo();
				this.alert("해약처리 되었습니다.");
				break;
				
			// 토지 임대해약(대체) 처리 취소
			case "spslsLadLcntrctrCanclUiCancl" :
				
				this.fn_cancelInfo();
				this.alert("정상적으로 해약이 취소 되었습니다.");
				break;

			    
			// 임대탭: 보증금(tabpage2) 조회
			case "selectLadLcntrctrPayInfo2" :
				//원본데이타셋 복사
				this.ds_ladLcntrctrPayInfoOrg2.copyData(this.ds_ladLcntrctrPayInfo2);
				
				//탭
				if (this.CNTRCT_TY == "SL" ){//분양
					this.div_detail.chk_3.set_enable(true);
				}
				else if (this.CNTRCT_TY == "RN" ){//임대
					//this.div_detail.chk_1.set_value(1);
					this.ds_ladLcntrctrCancl.setColumn(this.ds_ladLcntrctrCancl.rowposition,"PENLTY_APPLC_AT","1");//위약금없음
					this.div_detail.chk_2.set_value(1);
					this.div_detail.chk_3.set_value(1);
					this.div_detail.chk_3.set_enable(false);
				}				
				//금액계산
				this.calAmt2();
				
				
				//해약정보셋팅
				this.set_ladLcntrctrCanclValue();
				
				//3.납부정보-임대료 조회
				this.pmsUtil.clearDataSet([this.ds_lcntrctrPayList]);				
				this.fn_transaction("selectLcntrctrPayList");	
				
			    break;
			    
			// 임대탭 : 임대료 (tabpage2) 조회
			case "selectLcntrctrPayList" :
				
			    break;
			    
			// 전자결재
			case "approve" :
				var oUrl = this.ds_approve.getColumn(0,"O_URL");
				trace("전자결재 호출 : " + oUrl);
				system.execBrowser(oUrl);
				
				//재조회
				this.fn_cancelInfo();
				
			    break;
				
		}
	}
	else{
		this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
	}
}

/***********************************************************************
* Transaction 영역 끝
************************************************************************/



/***********************************************************************
* 사용자 정의 함수
************************************************************************/


//해약일자 변경
this.div_detail_cal_cancelDe_onchanged = function(obj:Calendar, e:nexacro.ChangeEventInfo)
{
	this.fn_cancelInfo();
}

//탭변경 전
this.div_detail_Tab00_canchange = function(obj:Tab, e:nexacro.TabIndexChangeEventInfo)
{
	//계약타입
	//var CNTRCT_TY = this.ds_cond01.getColumn(0, "CNTRCT_TY");
	//탭
	if (this.CNTRCT_TY == "SL" ){//분양
		return false;		
	}
	else if (this.CNTRCT_TY == "RN" ){//임대
		return false;
	}
}
//탭변경 후
this.Tab00_onchanged = function(obj:Tab, e:nexacro.TabIndexChangeEventInfo)
{
	this.div_detail_cmb_cancelSe_onitemchanged();
	
	this.fn_cancelInfo();
}


//금액계산
this.calAmt = function()
{	
	if (this.CNTRCT_TY == "SL"  ){//분양
		
		var chk1 = this.div_detail.chk_1.value;
		var chk2 = this.div_detail.chk_2.value;
		var chk3 = this.div_detail.chk_3.value;
		//alert("   chk1 = " + chk1 + "   chk2 = " + chk2 + "   chk3 = " + chk3);	
		var F_R_RATIO = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_R_RATIO");//위약금 이율
		var F_SUM = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_SUM");//분양금액
		var F_CANCELAMT = 0;//위약금
		var F_INC_AMT = 0;	//소득세
		var F_INS_AMT = 0;	//주민세
		
		var amt1 = this.ds_ladLcntrctrPayInfo.getSum("F_S1_SUMAMT"); // 수납금액합계
		var amt2 = this.ds_ladLcntrctrPayInfo.getSum("ARRRG_AMOUNT"); //연체이자합계
		var amt3 = 0;
		
		if(chk3 == 1){ //산출금액없음
			for(i=0; i < this.ds_ladLcntrctrPayInfo.getRowCount(); i++){
				this.ds_ladLcntrctrPayInfo.setColumn(i,"F_INTR_AMT",0);
			}
			
			if(chk1 == 1){ //위약금없음
				F_CANCELAMT = 0;
				amt3 = 0; //이자총계			
				this.div_detail.cal_payTmlmt.set_cssclass("");
			}
			else{			
				F_CANCELAMT = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_CANCELAMT");//위약금			
				amt3 = 0; //이자총계
				this.div_detail.cal_payTmlmt.set_cssclass("cal_WF_Essential");
			}
		}
		else{		
			
			if(chk1 == 1){ //위약금없음
				F_CANCELAMT = 0;
				
				for(i=0; i < this.ds_ladLcntrctrPayInfo.getRowCount(); i++){			
					this.ds_ladLcntrctrPayInfo.setColumn(i,"F_INTR_AMT",this.ds_ladLcntrctrPayInfoOrg.getColumn(i,"F_INTR_AMT"));
				}
				amt3 = this.ds_ladLcntrctrPayInfo.getSum("F_INTR_AMT"); //이자총계
				this.div_detail.cal_payTmlmt.set_cssclass("");
			}
			else{
				
				F_CANCELAMT = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_CANCELAMT");//위약금
				
				for(i=0; i < this.ds_ladLcntrctrPayInfo.getRowCount(); i++){
					var payCode = this.ds_ladLcntrctrPayInfoOrg.getColumn(i,"PAY_CODE");
					if(payCode != "S0"){
						this.ds_ladLcntrctrPayInfo.setColumn(i,"F_INTR_AMT",this.ds_ladLcntrctrPayInfoOrg.getColumn(i,"F_INTR_AMT"));
					}
					else{
						this.ds_ladLcntrctrPayInfo.setColumn(i,"F_INTR_AMT",0);
					}
				}
				amt3 = this.ds_ladLcntrctrPayInfo.getSum("PAY_CODE == 'S0' ?  0 : F_INTR_AMT"); //이자총계
				this.div_detail.cal_payTmlmt.set_cssclass("cal_WF_Essential");
			}
		}		
		
		// 2008.8.26 이자총계로 소득세.주민세 산출하는 방식으로 변경 요청(박선영)
		if(chk2 == 1){ //소득세,주민세 없음
			F_INC_AMT = 0;	
			F_INS_AMT = 0;
		}
		else{		
			F_INC_AMT = Math.floor(amt3 * 0.2 / 10) * 10;	
			F_INS_AMT = Math.floor(F_INC_AMT  * 0.1 / 10) * 10;
		}
		
		var amt4 = F_CANCELAMT*1 + F_INC_AMT*1 + F_INS_AMT*1; //소계
			
		var sum = amt1*1 + amt2*1 + amt3*1 - amt4*1;// 실지급액

		this.div_detail.msk_ratio.set_value(F_R_RATIO);		
		this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  1, "text", F_SUM);//분양금액
		this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  8, "text", amt3);//산출금액총계
		this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  9, "text", F_CANCELAMT);//위약금
		this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  10, "text", F_INC_AMT);//소득세
		this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  11, "text", F_INS_AMT);//주민세
		this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  12, "text", amt4);//소계
		this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  13, "text", sum);// 실지급액
		
		//해약정보가 있을경우
		var chk = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"CHK");		
		if(chk == "1"){
			var LTTOT_AMOUNT = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"LTTOT_AMOUNT");
			var PAYAMT = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"PAYAMT");
			var OVDINTR = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"OVDINTR");
			var PENLTY = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"PENLTY");
			
			var amt4 = PENLTY*1 + F_INC_AMT*1 + F_INS_AMT*1; //소계
			var sum = PAYAMT*1 + OVDINTR*1 + amt3*1 - amt4*1;// 실지급액
		
			this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  1, "text", LTTOT_AMOUNT);//분양금액
			this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  8, "text", amt3);//산출금액총계
			this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  9, "text", PENLTY);//위약금
			this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  10, "text", F_INC_AMT);//소득세
			this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  11, "text", F_INS_AMT);//주민세
			this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  12, "text", amt4);//소계
			this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  13, "text", sum);// 실지급액
		}
	
	}
	else if(this.CNTRCT_TY == "RN" ){//임대
		
		this.calAmt2();
	}

}

//금액계산2
this.calAmt2 = function()
{	
	var chk1 = this.div_detail.chk_1.value;
	var chk2 = this.div_detail.chk_2.value;
	var chk3 = this.div_detail.chk_3.value;
	//alert("   chk1 = " + chk1 + "   chk2 = " + chk2 + "   chk3 = " + chk3);	
	var F_R_RATIO = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_R_RATIO");//위약금 이율
	var F_SUM = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_SUM");//보증금액
	var F_CANCELAMT = 0;//위약금
	var F_INC_AMT = 0;	//소득세
	var F_INS_AMT = 0;	//주민세
	
	var amt1 = this.ds_ladLcntrctrPayInfo2.getSum("F_S1_SUMAMT"); // 수납금액합계
	var amt2 = this.ds_ladLcntrctrPayInfo2.getSum("ARRRG_AMOUNT"); //연체이자합계
	var amt3 = 0;
	
	if(chk3 == 1){ //산출금액없음
		for(i=0; i < this.ds_ladLcntrctrPayInfo2.getRowCount(); i++){
			this.ds_ladLcntrctrPayInfo2.setColumn(i,"F_INTR_AMT",0);
		}
		
		if(chk1 == 1){ //위약금없음
			F_CANCELAMT = 0;
			amt3 = 0; //이자총계			
			this.div_detail.cal_payTmlmt.set_cssclass("");
		}
		else{			
			F_CANCELAMT = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_CANCELAMT");//위약금			
			amt3 = 0; //이자총계
			this.div_detail.cal_payTmlmt.set_cssclass("cal_WF_Essential");
		}
	}
	else{		
		
		if(chk1 == 1){ //위약금없음
			F_CANCELAMT = 0;
			
			for(i=0; i < this.ds_ladLcntrctrPayInfo2.getRowCount(); i++){			
				this.ds_ladLcntrctrPayInfo2.setColumn(i,"F_INTR_AMT",this.ds_ladLcntrctrPayInfoOrg2.getColumn(i,"F_INTR_AMT"));
			}
			amt3 = this.ds_ladLcntrctrPayInfo2.getSum("F_INTR_AMT"); //이자총계
			this.div_detail.cal_payTmlmt.set_cssclass("");
		}
		else{
			
			F_CANCELAMT = this.ds_ladLcntrctrPayAmtInfo.getColumn(this.ds_ladLcntrctrPayAmtInfo.rowposition,"F_CANCELAMT");//위약금
			
			for(i=0; i < this.ds_ladLcntrctrPayInfo2.getRowCount(); i++){
				var payCode = this.ds_ladLcntrctrPayInfoOrg2.getColumn(i,"PAY_CODE");
				if(payCode != "R0"){
					this.ds_ladLcntrctrPayInfo2.setColumn(i,"F_INTR_AMT",this.ds_ladLcntrctrPayInfoOrg2.getColumn(i,"F_INTR_AMT"));
				}
				else{
					this.ds_ladLcntrctrPayInfo2.setColumn(i,"F_INTR_AMT",0);
				}
			}
			amt3 = this.ds_ladLcntrctrPayInfo2.getSum("PAY_CODE == 'R0' ?  0 : F_INTR_AMT"); //이자총계
			this.div_detail.cal_payTmlmt.set_cssclass("cal_WF_Essential");
		}
	}		
	
	// 2008.8.26 이자총계로 소득세.주민세 산출하는 방식으로 변경 요청(박선영)
	if(chk2 == 1){ //소득세,주민세 없음
		F_INC_AMT = 0;	
		F_INS_AMT = 0;
    }
    else{		
		F_INC_AMT = Math.floor(amt3 * 0.2 / 10) * 10;	
		F_INS_AMT = Math.floor(F_INC_AMT  * 0.1 / 10) * 10;
    }
  
	var amt4 = F_CANCELAMT*1 + F_INC_AMT*1 + F_INS_AMT*1; //소계		
	var sum = amt1*1 + amt2*1 - amt4*1;// 실지급액

	this.div_detail.msk_ratio.set_value(F_R_RATIO);
	this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.setCellProperty( "Summ",  1, "text", F_SUM);//보증금액
	//this.div_detail.div_list1.grd_ladLcntrctrPayInfo.setCellProperty( "Summ",  8, "text", amt3);//산출금액총계
	this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.setCellProperty( "Summ",  6, "text", F_CANCELAMT);//위약금
	this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.setCellProperty( "Summ",  7, "text", F_INC_AMT);//소득세
	this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.setCellProperty( "Summ",  8, "text", F_INS_AMT);//주민세
	this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.setCellProperty( "Summ",  9, "text", amt4);//소계
	this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.setCellProperty( "Summ",  10, "text", sum);// 실지급액
}

//해약구분 변경
this.div_detail_cmb_cancelSe_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	//해약정보가 없을경우 = 신규
	var chk = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"CHK");	
	var cancelSe = this.div_detail.cmb_cancelSe.value;
	
	trace("해약구분 : " + cancelSe);
	
	if(cancelSe == "02"){ //대체처리
		this.div_detail.div_sub.set_visible(true);
				
		//this.div_detail.div_list1.setOffsetTop(180);
		//this.div_detail.div_list1.setOffsetLeft(0);		
		//this.div_detail.btn_expndtrDecsn.setOffsetTop(186);
		//this.div_detail.btn_output.setOffsetTop(186);
		//this.div_detail.btn_reqstdoc.setOffsetTop(186);

		//this.div_detail.btn_noticeSheet.setOffsetTop(186);
		//this.div_detail.btn_pymntRequst.setOffsetTop(186);
		
		if( chk != "1"){ //신규
			this.div_detail.chk_1.set_value(1);
			this.div_detail.chk_2.set_value(1);
			this.div_detail.chk_3.set_value(1);
			this.ds_ladLcntrctrCancl.setColumn(this.ds_ladLcntrctrCancl.rowposition,"PENLTY_APPLC_AT","1");//위약금없음
			this.div_detail.div_sub.cmb_ladCode.set_value(this.div_detail.cmb_ladCode.value);
		}
		else{
			this.div_detail.chk_3.set_value(1);
			
			this.div_detail.chk_1.set_enable(false);
			this.div_detail.chk_2.set_enable(false);
			this.div_detail.chk_3.set_enable(false);
		}
		
				
	}
	else if (cancelSe == "01"){ //해약처리
		this.div_detail.div_sub.set_visible(false);
		
		//this.div_detail.div_list1.setOffsetTop(143);
		//this.div_detail.div_list1.setOffsetLeft(0);		
		//this.div_detail.btn_expndtrDecsn.setOffsetTop(150);
		//this.div_detail.btn_output.setOffsetTop(150);
		//this.div_detail.btn_reqstdoc.setOffsetTop(150);
		
		//this.div_detail.btn_noticeSheet.setOffsetTop(150);
		//this.div_detail.btn_pymntRequst.setOffsetTop(150);
		
		if( chk != "1"){ //신규
			if(this.CNTRCT_TY == "SL"){ //분양
				this.div_detail.chk_1.set_value(0);
				this.div_detail.chk_2.set_value(0);
				this.div_detail.chk_3.set_value(0);	
				this.ds_ladLcntrctrCancl.setColumn(this.ds_ladLcntrctrCancl.rowposition,"PENLTY_APPLC_AT","0");//위약금없음
			}
			else{//임대
				this.div_detail.chk_1.set_value(1);
				this.div_detail.chk_2.set_value(1);
				this.div_detail.chk_3.set_value(1);
				this.ds_ladLcntrctrCancl.setColumn(this.ds_ladLcntrctrCancl.rowposition,"PENLTY_APPLC_AT","1");//위약금없음
			}				
						
			this.div_detail.div_sub.cmb_ladCode.set_value("");
			this.div_detail.div_sub.edt_block.set_value("");
			this.div_detail.div_sub.edt_lot.set_value("");
			this.div_detail.div_sub.edt_type.set_value("");		
		}
		else{
			
			this.div_detail.chk_1.set_enable(false);
			this.div_detail.chk_2.set_enable(false);
			this.div_detail.chk_3.set_enable(false);
		}
	}
	
	if (this.CNTRCT_TY == "SL"){//분양
		
		this.div_detail.chk_3.set_enable(true);		
		this.calAmt();
	}
	else{//임대
		
		this.div_detail.chk_3.set_enable(false);		
		this.calAmt2();
	}

}

this.ds_ladLcntrctrCancl_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	//해약구분 변경
	if(e.columnid == "RESCI_SE"){
		this.div_detail_cmb_cancelSe_onitemchanged();
	}
	
}

// ----------------------------------------------------------------------------------
// -- 토지정보 팝업
// ----------------------------------------------------------------------------------
this.div_detail_btn_ladInfo_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	
	var ladCode = this.ds_cond01.getColumn(0, "LAD_CODE");	
    var blck = this.ds_cond01.getColumn(0, "BLCK"); 
    var lot = this.ds_cond01.getColumn(0, "LOT");
    var lotTy = this.ds_cond01.getColumn(0, "LOT_TY");
	
	this.gfn_popup("popup_ladInfo"
				   , 600
				   , 470
				   , "토지정보"
				   , {ladCode:ladCode, blck:blck, lot:lot, lotTy:lotTy, callback:"fn_ladInfo_callBack"}
				   , "pms_sls_lad_ctr::SLS080201_P01.xfdl");
}

this.fn_ladInfo_callBack = function ()
{
	//TODO
}



// 신청서
this.div_detail_btn_reqstdoc_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.alert("삭제된 기능입니다.");
}
// 납부요청
this.div_detail_btn_pymntRequst_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.ds_cond03.clearData();
	var nRow = this.ds_cond03.addRow();
	this.ds_cond03.setColumn( nRow , "CNTRCTR_NO" , this.ds_cond01.getColumn(0, "CNTRCTR_NO"));
	this.ds_cond03.setColumn( nRow , "LAD_CODE" , this.ds_cond01.getColumn(0, "LAD_CODE"));
	this.ds_cond03.setColumn( nRow , "BLCK" , this.ds_cond01.getColumn(0, "BLCK"));
	this.ds_cond03.setColumn( nRow , "LOT" , this.ds_cond01.getColumn(0, "LOT"));
	this.ds_cond03.setColumn( nRow , "LOT_TY" , this.ds_cond01.getColumn(0, "LOT_TY"));
    this.ds_cond03.setColumn( nRow , "NM" , this.ds_cond01.getColumn(0, "CSTMR_NM"));
    if (this.CNTRCT_TY == "SL") 
    {
		this.ds_cond03.setColumn( nRow , "CHK1" , 1);
	}	
    if (this.CNTRCT_TY == "RN") 
    {
		this.ds_cond03.setColumn( nRow , "CHK2" , 1);
	}	
	trace("ds_cond03 =" + this.ds_cond03.saveXML());
	var parm = {
		arg_4 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		arg_5 : this.ds_cond03
	};
	
	this.gfn_popup("Pop3", 800, 800, "수납요청 가상계좌", parm, "pms_sls_com::SLS000000_P05.xfdl");		
}


/* 임대 TAB 페이지 */
// 납부요청
this.div_detail_Tab00_tabpage2_Div00_btn_payRequst_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.alert("준비중입니다.");
}

//고지서
this.div_detail_Tab00_tabpage2_Div00_btn_noticeSheet_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.alert("준비중입니다.");
}



//해약정보셋팅
this.set_ladLcntrctrCanclValue = function()
{
	var addRow = this.ds_ladLcntrctrCancl.rowposition;
	
	if (this.CNTRCT_TY == "SL" ){//분양		
		var F_SUM = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  1, "text");//분양금액

		var PAYAMT = this.ds_ladLcntrctrPayInfo.getSum('F_S1_SUMAMT'); //수납금액합
		var OVDINTR = this.ds_ladLcntrctrPayInfo.getSum('ARRRG_AMOUNT');//연체이자합계
		var amt3 = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  8, "text" );//산출금액총계
		var F_CANCELAMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  9, "text" );//위약금
		var F_INC_AMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  10, "text" );//소득세
		var F_INS_AMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  11, "text" );//주민세
		var amt4 = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  12, "text");//소계
		var sum = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  13, "text" );// 실지급액

		this.ds_ladLcntrctrCancl.setColumn(addRow, "LTTOT_AMOUNT", 	F_SUM);//분양금액
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PAYAMT", 		PAYAMT);//납부금액
		this.ds_ladLcntrctrCancl.setColumn(addRow, "OVDINTR", 		OVDINTR);//연체이자
		this.ds_ladLcntrctrCancl.setColumn(addRow, "RETURN_INTR", 	amt3);//반환이자(지급이자합계)
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PENLTY", 		F_CANCELAMT);//위약금
		this.ds_ladLcntrctrCancl.setColumn(addRow, "INCMTAX", 		F_INC_AMT);//소득세
		this.ds_ladLcntrctrCancl.setColumn(addRow, "IHNTS", 		F_INS_AMT);//주민세
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PYMNTAMT", 		sum);//지급액(해약반환금액)
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PENLTY_INTRT", 	this.div_detail.msk_ratio.value);//위약금이율
	}
	else{//임대
							
		var F_SUM = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  1, "text");//보증금
		var PAYAMT = this.ds_ladLcntrctrPayInfo2.getSum('F_S1_SUMAMT'); //수납금액합
		var OVDINTR = this.ds_ladLcntrctrPayInfo2.getSum('ARRRG_AMOUNT');//연체이자합계
		var F_CANCELAMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  6, "text" );//위약금
		var F_INC_AMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  7, "text" );//소득세
		var F_INS_AMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  8, "text" );//주민세
		var amt4 = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  9, "text");//소계
		var sum = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  10, "text" );// 실지급액
//alert("F_CANCELAMT=" + F_CANCELAMT +"    F_INC_AMT=" + F_INC_AMT +"     F_INS_AMT=" + F_INS_AMT);
		this.ds_ladLcntrctrCancl.setColumn(addRow, "LTTOT_AMOUNT", 	F_SUM);//보증금						
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PAYAMT", 		PAYAMT);//납부금액
		this.ds_ladLcntrctrCancl.setColumn(addRow, "OVDINTR", 		OVDINTR);//연체이자
		this.ds_ladLcntrctrCancl.setColumn(addRow, "RETURN_INTR", 	0);//반환이자(지급이자합계)
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PENLTY", 		F_CANCELAMT);//위약금
		this.ds_ladLcntrctrCancl.setColumn(addRow, "INCMTAX", 		F_INC_AMT);//소득세
		this.ds_ladLcntrctrCancl.setColumn(addRow, "IHNTS", 		F_INS_AMT);//주민세
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PYMNTAMT", 		sum);//지급액(해약반환금액)
		this.ds_ladLcntrctrCancl.setColumn(addRow, "PENLTY_INTRT", 	this.div_detail.msk_ratio.value);//위약금이율
	
	}
}

/*
* 함수명  		: btn_expndtrDecsn_onclick
* 설명 			: 지출결의서
* params  		: None
* return Type 	: None
* 사용법		: 
1. EXPNDTR_DECSN_DE, DECSN_YEAR, EXPNDTR_DECSN_NO 컬럼을 테이블에 추가
2. 업데이트 쿼리문 작성후 이상명 차장에게 해당 쿼리의 id값을 등록해달라고 요청.
	<update id="SLS080202DAO.updateExpndtrDecsnNo" parameterClass="java.util.Map">
		UPDATE TBSLS_LCNTRCTR_CANCL SET
			   EXPNDTR_DECSN_DE  	= #EXPNDTR_DECSN_DE#
			  ,DECSN_YEAR 			= #DSNMASTR.DECSN_YEAR#
			  ,EXPNDTR_DECSN_NO  	= #DSNMASTR.DECSN_NO#
			  ,UPDUSR_ID            = #S_USER_ID#
		      ,UPDT_DT              = SYSDATE
	  	 WHERE 1 = 1
	       AND CNTRCTR_NO  = #CNTRCTR_NO#
		  
	</update>
	
	이상명 차장 부재시에는 ACC020203ServiceImpl 클래스의 MAP_DECSN_NO_QUERY에 직접 추가
	* CC020203ServiceImpl 클래스의 MAP_DECSN_NO_QUERY
	* 키값은 지출결의서 팝업의 파라미터로 넘겨준 화면 ID
	* 내용은 쿼리의 id
	private final static Map<String,String> MAP_DECSN_NO_QUERY = new HashMap<String,String>();
	static {
		MAP_DECSN_NO_QUERY.put("LAW010103", "LAW010103DAO.updateExpndtrDecsnNo");	// 변호사비용지출관리
		MAP_DECSN_NO_QUERY.put("CUS010108", "CUS010108DAO.updateExpndtrDecsnNo");	// 고객방문평가카드지출관리
		MAP_DECSN_NO_QUERY.put("CUS010207", "CUS010207DAO.updateExpndtrDecsnNo");	// 고객모니터단지출관리
		MAP_DECSN_NO_QUERY.put("HRM070202", "HRM070202DAO.decsnNoU");				// 관내출장
		MAP_DECSN_NO_QUERY.put("HRM070203", "HRM070203DAO.decsnNoU");				// 관외출장
		MAP_DECSN_NO_QUERY.put("CMP040200", "CMP040200DAO.updateExpndtrDecsnNo");	// 보상금청구
		MAP_DECSN_NO_QUERY.put("RNT01030400", "RNT01030400DAO.updateExpndtrDecsnNo");	// 영구임대보증금 청구
		MAP_DECSN_NO_QUERY.put("SLS080202", "SLS080202DAO.updateExpndtrDecsnNo");		// 토지 분양금/임대보증금 청구
	};

3.ds_expDsnMastr, ds_expDsnMtrDet, ds_expDsnDetail 데이터셋을 해당 메뉴화면에 그대로 복사
4.ds_decsnNo 데이터셋을 지출결의서 번호가 저장될 테이블의 기본키로 컬럼을 구성한다.

*/


this.btn_expndtrDecsnA_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_expndtrDecsn("A"); // A:원금, B:이자
}


this.btn_expndtrDecsnB_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_expndtrDecsn("B"); // A:원금, B:이자
}


this.fn_expndtrDecsn = function(arg)
{
	var chk = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"CHK");
	if(chk != '1'){	
		this.alert("해약자가 아닙니다");
		return;
	}
	
	//결재상태가 전결완료상태일때만 지출결의서 등록가능하도록 한다.
	//if(this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "SANCTN_AT") != '1'){
	//	this.alert("결재가 완료되지 않았습니다.");
		//return;
	//}
	
	//지출결의번호	
	var EXPNDTR_DECSN_NO = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"EXPNDTR_DECSN_NO");
	var EXPNDTR_DECSN_NO_INTR = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"EXPNDTR_DECSN_NO_INTR");
	
	trace("########## EXPNDTR_DECSN_NO 1 : " + EXPNDTR_DECSN_NO);
	
	if(arg == "A" && !this.comUtils.isNullEmpty(EXPNDTR_DECSN_NO)){
		this.alert("기작성한 지출결의서가 존재합니다.");
		return;
	}
	if(arg == "B" && !this.comUtils.isNullEmpty(EXPNDTR_DECSN_NO_INTR)){
		this.alert("기작성한 지출결의서가 존재합니다.");
		return;
	}

	var day 	= this.gfn_today();		// 결의일자
	var pymntDe = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "EXCCLC_DE");// 정산일자
	var canclDe = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "CANCL_DE"); //해약일자
	var pymntYr = "";	// 회계년
	
	if(this.comUtils.isNullEmpty(pymntDe)){
		pymntYr = canclDe.substring(0,4);	// 회계년
		pymntDe = canclDe+"";
	}
	else{
		pymntYr = pymntDe.substring(0,4);	// 회계년
	}
	//alert("pymntYr = " + pymntYr);
	var sumry	= null;

	var sum 	= 0;
	var eza     = 0;
	var trgFormId = arg=="A" ? "SLS080202" : "SLS080201";
	
	if (this.CNTRCT_TY == "SL"  ){//분양
		sum = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  13, "text" );// 실지급액 -> 결의금액
		eza = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  8, "text" );
		sumry = arg == "A" ? "분양금청구(원금)" : "분양금청구(이자)";
	}
	else{//임대
		sum = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  10, "text" );// 실지급액 -> 결의금액
		sumry = arg == "A" ? "임대보증금청구(원금)" : "임대보증금청구(이자)";
	}
		
    sum = (arg == "A") ? sum - eza : eza;	    

    if (Number(sum) == 0)
    {
        alert("지출결의할 금액이 없습니다");
	    return;
    }
	// 결의마스터 셋팅
	this.ds_expDsnMastr.clearData();
	this.ds_expDsnMastr.addRow();
	this.ds_expDsnMastr.setColumn(0, "DECSN_YEAR"		, pymntYr);						// 회계년월
	this.ds_expDsnMastr.setColumn(0, "ANACT_KND"		, "03");						// 결의서구분
	this.ds_expDsnMastr.setColumn(0, "DEPT_CODE"		, this.gfn_getDeptId());		// 부서코드
	this.ds_expDsnMastr.setColumn(0, "DEPT_NM"			, this.gfn_getDeptName());		// 부서명
	this.ds_expDsnMastr.setColumn(0, "ITNC_DE"			, day);							// 발의일자
	this.ds_expDsnMastr.setColumn(0, "PYMNT_ITNC_DE"	, pymntDe);						// 지급발의일자
	this.ds_expDsnMastr.setColumn(0, "DECSN_AMOUNT"		, Number(sum));					// 결의금액
	this.ds_expDsnMastr.setColumn(0, "FNNC_INSTT_CODE"	, "004");						// 지출은행 (국민은행 초기값 셋팅)
	this.ds_expDsnMastr.setColumn(0, "ACNUTNO"			, "599701-04-195140");			// 계좌번호
	this.ds_expDsnMastr.setColumn(0, "SUMRY"			, sumry);						// 적요	
	
	this.ds_expDsnMastr.setColumn(0, "DET_DCSN_DE",             day); // 채무확정일자
	this.ds_expDsnMastr.setColumn(0, "PRMPC_JRNLZPR_RGIST_DE",  day); //원장분개장등기
	this.ds_expDsnMastr.setColumn(0, "EXPNDTR_BUDGET_CNRL_DE",  day); //지출예산통제
	this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE", day); //자금지출부등기
	this.ds_expDsnMastr.setColumn(0, "CAUSE_ACTION_DE",         day); // 원인행위일자 2016.09.04
		
	// 결의마스터상세
	this.ds_expDsnMtrDet.clearData();
	this.ds_expDsnMtrDet.addRow();
	this.ds_expDsnMtrDet.setColumn(0, "TAXXPT_AMOUNT"	, "0");							// 면세금액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_DECSN_AMOUNT", "0");							// 부가세결의금액
	this.ds_expDsnMtrDet.setColumn(0, "SUPLY_AMOUNT"	, "0");							// 공급가액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_AMOUNT"		, "0");							// 부가세금액

	// 결의세부
	this.ds_expDsnDetail.clearData();
	this.ds_expDsnDetail.addRow();
	this.ds_expDsnDetail.setColumn(0, "DECSN_AMOUNT"	, Number(sum));					// 결의금액
	this.ds_expDsnDetail.setColumn(0, "TAXXPT_AMOUNT"	, "0");							// 면세금액
	this.ds_expDsnDetail.setColumn(0, "VAT_AT"			, "0");							// 부가세여부
	this.ds_expDsnDetail.setColumn(0, "VAT_DECSN_AMOUNT", "0");							// 부가세결의금액
	this.ds_expDsnDetail.setColumn(0, "SUPLY_AMOUNT"	, "0");							// 공급가액
	this.ds_expDsnDetail.setColumn(0, "VAT"				, "0");							// 부가세
	this.ds_expDsnDetail.setColumn(0, "RCPT_DE"			,  pymntDe);					// 영수일자
	this.ds_expDsnDetail.setColumn(0, "FNNC_INSTT_CODE"	, this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "BANK_CD"));		// 지출은행
	this.ds_expDsnDetail.setColumn(0, "ACNUTNO"			, this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "ACNUTNO"));		// 계좌번호

	// 결의서 등록 후 결의번호를 입력해야하는 데이터셋 정보(기본키값 설정)
	// 결의번호를 업데이트할때 쿼리문의 조회조건으로 쓰인다.
	this.ds_decsnNo.clearData();
	this.ds_decsnNo.addRow();
	this.ds_decsnNo.setColumn(0, "CNTRCTR_NO"	, this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "CNTRCTR_NO"));
	this.ds_decsnNo.setColumn(0, "EXPNDTR_DECSN_DE"	, pymntDe);
	
	// 지출결의 팝업 호출
	var decsnYear;
	var decsnNo;
	if (arg == "A") {
	    decsnYear  = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "DECSN_YEAR");
	    decsnNo	   = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "EXPNDTR_DECSN_NO");
	} else {
	    decsnYear  = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "DECSN_YEAR_INTR");
		decsnNo	   = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition, "EXPNDTR_DECSN_NO_INTR");
	}
	trace("########## decsnYear = " + decsnYear + " decsnNo=" + decsnNo);
	
	var param = {
		 arg_0      			: this
		,trgFormId				: trgFormId						// 팝업을 호출하는 화면의 ID
		,anactKnd				: "03"								// 결의서구분
		,decsnYear				: decsnYear							// 결의년도
		,decsnNo				: decsnNo							// 결의번호
		,dsExpDsnMastr			: this.ds_expDsnMastr.saveXML()		// 결의마스터(Dataset)
		,dsExpDsnMtrDet 		: this.ds_expDsnMtrDet.saveXML()	// 결의마스터상세(Dataset)
		,dsExpDsnDetail 		: this.ds_expDsnDetail.saveXML()	// 결의세부(Dataset)
		,dsDecsnNo				: this.ds_decsnNo.saveXML()			// 키값정보(Dataset)
	};	
	this.gfn_popup("expDsnPopup", 902, 719, "지출결의서", param, "mis_acc::ACC020203_P01.xfdl", "fn_PopUpCallback3",true);
}

/***********************************************************************************
* 설명	: 지출결의서 팝업 콜백
***********************************************************************************/
this.fn_PopUpCallback3 = function(sPopupId, sReturn)
{   
	switch(sPopupId)
	{
		case "expDsnPopup":
		    this.fn_transaction("selectLadLcntrctrCancl");
		break;
	}
}


/*
 * 함수명  	: fn_sanction
 * 설명 		: 결재 버튼 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.fn_sanction = function(){

	var sanctnNo = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition , "ELCTRN_SANCTN_NO");
	var apprsts = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition , "APPRSTS");
	var registDt = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition , "REGIST_DT2");
	
	if(apprsts == "1" || apprsts == "9"){
		var param = {
			arg_0 : this,  
			arg_1 : sanctnNo,
			arg_2 : registDt
		};

		this.gfn_popup('sancPopup', 710, 518, '', param, "com::COM010400_P01.xfdl");		
		//this.gfn_message("info.처리불가","이미 결재가 진행되었습니다.");
		return;
	}
	
	var chk = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition,"CHK");
	if(chk != '1'){	
		this.alert("해약자가 아닙니다");
		return;
	}

    var dsRow = this.ds_ladLcntrctrCancl.rowposition;  
    var today = this.dateUtils.today();
    
    var LAD_NM = this.ds_cond01.getColumn(0 , "LAD_NM_ONLY"); //지구명
    var CSTMR_NM = this.ds_cond01.getColumn(0, "CSTMR_NM"); //성명
    var BLCK_LOT_TY = this.ds_cond01.getColumn(0, "BLCK")+"-"+this.ds_cond01.getColumn(0, "LOT")+"-"+this.ds_cond01.getColumn(0, "LOT_TY");
    
   trace("########## LAD_NM : " + LAD_NM);

    var F_SUM = 0;//분양금액
	var PAYAMT = 0; //수납금액합
	var OVDINTR = 0;//연체이자합계
	var sumAmt1 = 0; //지출금액:계
	var sumAmt2 = 0; //지출금액:납부금액
	var sumAmt3 = 0; //공제금액:이자소득세
	var amt3 = 0;//산출금액총계
	var F_CANCELAMT = 0;//위약금
	var F_INC_AMT = 0;//소득세
	var F_INS_AMT = 0;//주민세
	var amt4 = 0;//소계
	var sum = 0;// 실지급액
    var sumry 	= "";
    var sumry2 	= "";
    
    trace("########## E");

	if (this.CNTRCT_TY == "SL" ){//분양
		F_SUM = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  1, "text");//분양금액
		
		PAYAMT = this.ds_ladLcntrctrPayInfo.getSum('F_S1_SUMAMT'); //수납금액합
		OVDINTR = this.ds_ladLcntrctrPayInfo.getSum('ARRRG_AMOUNT');//연체이자합계
		amt3 = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  8, "text" );//산출금액총계=지출금액:지급이자	
		sumAmt1 = Number(PAYAMT) + Number(OVDINTR)+ Number(amt3); //지출금액:계
		sumAmt2 = Number(PAYAMT) + Number(OVDINTR); //지출금액:납부금액		
		
		F_CANCELAMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  9, "text" );//위약금=공제금액:위약금
		F_INC_AMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  10, "text" );//소득세
		F_INS_AMT = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  11, "text" );//주민세
		sumAmt3 = Number(F_INC_AMT) + Number(F_INS_AMT); //공제금액:이자소득세
		amt4 = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  12, "text");//소계=공제금액:계
		
		sum = this.div_detail.div_list1.grd_ladLcntrctrPayInfo.getCellProperty( "Summ",  13, "text" );// 실지급액
		sumry = "분양";
		sumry2 = "분양";
	}
	else{//임대
	
		F_SUM = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  1, "text");//보증금
		
		PAYAMT = this.ds_ladLcntrctrPayInfo2.getSum('F_S1_SUMAMT'); //수납금액합
		OVDINTR = this.ds_ladLcntrctrPayInfo2.getSum('ARRRG_AMOUNT');//연체이자합계
		sumAmt1 = Number(PAYAMT) + Number(OVDINTR)+ Number(amt3); //지출금액:계
		sumAmt2 = Number(PAYAMT) + Number(OVDINTR); //지출금액:납부금액		
		
		F_CANCELAMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  6, "text" );//위약금
		F_INC_AMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  7, "text" );//소득세
		F_INS_AMT = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  8, "text" );//주민세
		sumAmt3 = Number(F_INC_AMT) + Number(F_INS_AMT); //공제금액:이자소득세
		amt4 = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  9, "text");//소계
		
		sum = this.div_detail.div_list2.grd_ladLcntrctrPayInfo2.getCellProperty( "Summ",  10, "text" );// 실지급액
		sumry = "임대";
		sumry2 = "임대보증";
	}
    var han_amt = this.fn_numToHangul(sumAmt1);//지출금액
        
	var exp1 = this.ds_ladLcntrctrCancl.getColumn(dsRow, "BANK_CODE_NM") + " ";
	exp1 = exp1 + this.ds_ladLcntrctrCancl.getColumn(dsRow, "ACNUTNO");
	exp1 = exp1 + " 예금주:" + this.ds_ladLcntrctrCancl.getColumn(dsRow, "DPSTR");
	exp1 = exp1 + "(금" + this.comUtils.formatComma(sum) + "원)";//지출처1
	var exp2 = "국민은행 599701-04-204794 예금주:수입지출외현금 및 유가증권취급담당(금" + this.comUtils.formatComma(sumAmt3) + "원)";//지출처2
	var exp3 = "화성은행 9600011608520 예금주:화성도시공사(금" + this.comUtils.formatComma(F_CANCELAMT) + "원)";//지출처3
	
	//전자결재 후 지출결의서를 생성하므로 지출과목은 불러올수 없을것 같음...
	var exp4 = "지출과목1(" + this.comUtils.formatComma(sumAmt2) + "원)";//지출과목1
	var exp5 = "지출과목2(" + this.comUtils.formatComma(amt3) + "원)";//지출과목2
    
	//SPETC_GROUPWARE_01 : 분양토지해약 I_DIV = '543' => '|' 19개
	var filds = new Array(18);
	filds[0] = "금" + this.comUtils.formatComma(sumAmt1) + "원(금" + han_amt + "원)정"; 
	filds[1] = LAD_NM;
	filds[2] = CSTMR_NM;
	filds[3] = BLCK_LOT_TY;
	filds[4] = this.comUtils.formatComma(F_SUM) ;
	filds[5] = this.comUtils.formatComma(sumAmt1);
	filds[6] = this.comUtils.formatComma(sumAmt2);
	filds[7] = this.comUtils.formatComma(amt3);
	filds[8] = this.comUtils.formatComma(amt4);
	filds[9] = this.comUtils.formatComma(F_CANCELAMT);
	filds[10] = this.comUtils.formatComma(sumAmt3);
	filds[11] = this.comUtils.formatComma(sum);
	filds[12] = exp1;
	filds[13] = exp2;
	filds[14] = exp3;
	filds[15] = exp4;
	filds[16] = exp5;
	filds[17] = "";
		
	//var dataValue = filds.join("|");
	var dataValue = "";  // 일단 일반기안으로 올린다.
	
	var dataTitle = LAD_NM + " " + sumry + "토지 계약해제 및 "+ sumry2 +"대금 반환";
	var title     = LAD_NM + " " + sumry + "토지 계약해제 및 "+ sumry2 +"대금 반환";
	
	this.ds_approve.clearData();	
	this.ds_approve.addRow();
	
	this.ds_approve.setColumn(0, "TITLE",      title                );
	this.ds_approve.setColumn(0, "DATA_TITLE", dataTitle            );
	this.ds_approve.setColumn(0, "DATA_VALUE", dataValue            );
	this.ds_approve.setColumn(0, "DEPT_CD",    application.gds_userInfo.getColumn(0, "DEPT_CODE")); //this.gfn_getDeptId()
	this.ds_approve.setColumn(0, "EMP_CD",     application.gds_userInfo.getColumn(0, "USER_ID")); //this.gfn_getUserId()
	this.ds_approve.setColumn(0, "EMPNO", 	   application.gds_userInfo.getColumn(0, "USER_ID"));
	this.ds_approve.setColumn(0, "CNTRCTR_NO", this.ds_ladLcntrctrCancl.getColumn( this.ds_ladLcntrctrCancl.rowposition , "CNTRCTR_NO"));
	
	this.fn_transaction("approve");

}

/*
 * 함수명  	: popupSactionStts
 * 설명 		: 전자결재 진행현황 팝업
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.popupSactionStts = function(sanctnNo){
	
	var sanctnNo = this.ds_ladLcntrctrCancl.getColumn(this.ds_ladLcntrctrCancl.rowposition , "ELCTRN_SANCTN_NO");
	
	if(sanctnNo){
		this.popupSactionStts(sanctnNo);
	} 
	else{
		this.gfn_message("fail.정보검색.실패", "진행된 결재 정보를");
	}
	
    var parm = {
		arg_0 : this,  
		arg_1 : sanctnNo  // 결재번호
	};
	
	/**
	* 팝업 공통함수
	* @param {string} svcId
	* @param {number} Width
	* @param {number} Height
	* @param {string} Title
	* @param {string} form URL
	* @param {string} Callback Function
	* @return N/A
	* @example
	* @memberOf comLib
	*/
	this.gfn_popup("COM010400_P01", 710, 580, "전자결재진행 현황", parm, "com::COM010400_P01.xfdl", "fn_PopCallback");
}


]]></Script>
  </Form>
</FDL>
