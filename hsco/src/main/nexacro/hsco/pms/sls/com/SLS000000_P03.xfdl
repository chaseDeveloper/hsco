<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="SLS000000_P03" classname="SLS000000_P03" left="0" top="0" width="800" height="900" titletext="가상계좌관리" oninit="SLS000000_P03_oninit" onload="SLS000000_P03_onload">
    <Layouts>
      <Layout>
        <Static id="Static00" taborder="0" left="0" top="0" width="800" height="901" cssclass="sta_WF_PopupBg"/>
        <Static id="Static01" taborder="1" text="가상계좌 관리" left="0" top="0" width="800" height="34" cssclass="sta_WF_PopupTitle"/>
        <Static id="Static05" taborder="2" text="15" visible="false" left="2" top="0" width="15" height="800" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static02" taborder="4" text="15" visible="false" left="785" top="-1" width="15" height="800" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static06" taborder="5" text="15" visible="false" left="0" top="34" width="786" height="15" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static03" taborder="6" text="15" visible="false" left="17" width="768" style="background:#dc143c3c;align:center middle;" bottom="0" height="15"/>
        <Button id="Button50" taborder="7" text="취소" left="745" top="862" height="23" width="40" onclick="Button50_onclick"/>
        <Button id="Button01" taborder="8" text="확인" left="702" top="862" height="23" width="40" onclick="Button01_onclick"/>
        <Static id="Static04" taborder="10" text="10" visible="false" left="17" top="816" width="768" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Button id="Button02" taborder="11" text="종료" cssclass="btn_WF_CRUD" top="51" width="50" height="25" left="735" onclick="Button02_onclick"/>
        <Button id="Button05" taborder="15" text="조회" cssclass="btn_WF_CRUD" top="51" width="50" height="25" left="683" onclick="Button05_onclick"/>
        <Grid id="grd_applcnt" taborder="41" useinputpanel="false" left="17" top="150" width="768" height="0" autofittype="col" binddataset="ds_mt_rntchrg" onheadclick="grd_applcnt_onheadclick" oncellclick="grd_applcnt_oncellclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="60"/>
                <Column size="120"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell style="font:bold 9 돋움체;" text="은행"/>
                <Cell col="1" text="계좌번호"/>
                <Cell col="2" text="계좌상태"/>
                <Cell col="3" text="대표계좌"/>
                <Cell col="4" displaytype="number" text="보증금전용"/>
                <Cell col="5" text="주거급여전용"/>
                <Cell col="6" text="신규일시"/>
                <Cell col="7" text="해지일시"/>
                <Cell col="8" text="수정자"/>
                <Cell col="9" text="수정일시"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" text="bind:PAY_CODE" combodataset="ds_code" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="1" displaytype="combo" text="bind:PAY_SE" combodataset="ds_gb" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="2" text="bind:PAY_SN" combodataset="ds_sn" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="3" displaytype="checkbox" text="bind:PAY_TMLMT"/>
                <Cell col="4" displaytype="checkbox" text="bind:PAYAMT" mask="#,###"/>
                <Cell col="5" displaytype="checkbox" text="bind:DFNNT_AMOUNT" mask="#,##0"/>
                <Cell col="6" displaytype="date" text="bind:ARRRG_AMOUNT" mask="#,##0"/>
                <Cell col="7" displaytype="date" text="bind:TOT_AMOUNT" mask="#,###"/>
                <Cell col="8" text="bind:PAY_NO"/>
                <Cell col="9" displaytype="date"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static12" taborder="42" text="5" visible="false" left="17" top="76" width="768" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Div id="div_cntrctrInfo" taborder="51" left="17" top="81" height="33" cssclass="div_WFSA_Box" width="768">
          <Layouts>
            <Layout>
              <Static id="Static00" taborder="0" text="부  서" cssclass="sta_WFSA_Label" left="6" top="5" width="60" height="21" style="background:URL('theme://images/sta_WFSA_Label.png') left middle;"/>
              <Static id="Static02" taborder="2" text="계약자" cssclass="sta_WFSA_Label" left="168" top="5" width="60" height="21" style="background:URL('theme://images/sta_WFSA_Label.png') left middle;"/>
              <Edit id="Edit02" taborder="3" left="219" top="5" width="102" height="21" readonly="true" style="background:#f0f0f0ff;"/>
              <Static id="Static01" taborder="4" text="계약번호" cssclass="sta_WFSA_Label" left="43.73%" top="5" right="48.43%" height="21" style="background:URL('theme://images/sta_WFSA_Label.png') left middle;"/>
              <Edit id="Edit00" taborder="5" readonly="true" left="52.48%" top="5" right="33.94%" height="21" style="background:#f0f0f0ff;"/>
              <Combo id="Combo00" taborder="6" readonly="true" innerdataset="@ds_dev" codecolumn="CRT_DIV" datacolumn="CRT_DIV_NM" cssclass="cmb_WF_Readonly" top="4" height="21" width="100" left="58"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static07" taborder="52" text="10" visible="false" left="17" top="114" width="768" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static08" taborder="53" text="3" visible="false" left="742" top="862" height="24" style="background:#1b3cd23c;align:center middle;" width="3"/>
        <Static id="sta_title" taborder="54" cssclass="sta_WF_Title01" left="17" top="53" height="21" text="가상계좌 관리" width="197"/>
        <Static id="Static51" taborder="64" text="5" visible="false" left="1" top="145" width="522" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static09" taborder="106" text="5" visible="false" left="0.13%" top="407" right="34.63%" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static10" taborder="107" text="입금내역" cssclass="sta_WF_Title02" left="2%" top="394" right="85.5%" height="19"/>
        <Static id="Static11" taborder="108" text="10" visible="false" left="2.13%" top="387" right="1.88%" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static13" taborder="109" text="5" visible="false" left="0.13%" top="562" right="34.63%" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static14" taborder="110" text="납부진행내역" cssclass="sta_WF_Title02" top="549" height="19" width="100" left="16"/>
        <Static id="Static15" taborder="111" text="10" visible="false" left="2.13%" top="542" right="1.88%" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static16" taborder="113" text="5" visible="false" left="0.13%" top="717" right="34.63%" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static17" taborder="114" text="납부진행 상세내역" cssclass="sta_WF_Title02" top="704" height="19" width="150" left="16"/>
        <Static id="Static18" taborder="115" text="10" visible="false" left="2.13%" top="697" right="1.88%" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static19" taborder="116" text="10" visible="false" left="2.13%" top="852" right="1.88%" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Grid id="grd_vaMastList" taborder="117" binddataset="ds_vaMastList" useinputpanel="false" cellsizingtype="col" autofittype="col" oncellclick="fn_grdOnCellClickHandler" selectscrollmode="scroll" top="150" height="237" width="769" left="16">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="은행"/>
                <Cell col="1" text="계좌번호"/>
                <Cell col="2" text="계좌상태"/>
                <Cell col="3" text="대표계좌"/>
                <Cell col="4" text="보증금전용"/>
                <Cell col="5" text="주거급여전용"/>
                <Cell col="6" text="신규일시"/>
                <Cell col="7" text="최초등록자"/>
                <Cell col="8" text="수정일시"/>
                <Cell col="9" text="최종수정자"/>
              </Band>
              <Band id="body">
                <Cell style="align:left;" text="bind:BANK_NM" combodataset="ds_bankCdList" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="1" text="bind:VACCT_NO"/>
                <Cell col="2" text="bind:STAT_NM"/>
                <Cell col="3" displaytype="checkbox" edittype="checkbox" text="bind:OPT1"/>
                <Cell col="4" displaytype="checkbox" edittype="checkbox" text="bind:OPT2"/>
                <Cell col="5" displaytype="checkbox" edittype="checkbox" text="bind:OPT3"/>
                <Cell col="6" text="bind:INP_DT"/>
                <Cell col="7" text="bind:FIRST_ENTRY_NM"/>
                <Cell col="8" text="bind:UPD_DT"/>
                <Cell col="9" text="bind:LAST_ENTRY_NM"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Div id="div_newVaMastInfo" taborder="118" text="div_cntrctrInfo" top="120" height="28" width="791" left="8">
          <Layouts>
            <Layout>
              <Static id="Static31" taborder="16" text="가상계좌 목록" cssclass="sta_WF_Title02" left="1.01%" top="5" right="86.35%" height="19"/>
              <Static id="sta_BANK_CD" taborder="17" text="은행" cssclass="sta_WFSA_Label" left="25.66%" top="4" right="65.61%" height="21"/>
              <Combo id="cmb_bankCd" taborder="18" text="선택" displaynulltext="선택" innerdataset="ds_bankCdList" codecolumn="CODE" datacolumn="ALL_CODE_NM" index="0" onitemchanged="fn_comboOnItemChangeHandler" cssclass="cmb_WF_Essential" top="4" height="21" width="120" left="247"/>
              <Button id="btn_newAccount" taborder="19" text="신규계좌부여" onclick="fn_btnOnClickHandler" cssclass="btn_WF_Process" left="47.28%" top="4" right="39.95%" height="21"/>
              <CheckBox id="chk_opt1" taborder="20" text="대표계좌여부" value="0" truevalue="1" falsevalue="0" onclick="fn_checkboxOnClickHandler" left="61.44%" top="4" right="26.04%" height="21"/>
              <CheckBox id="chk_opt2" taborder="21" text="보증금전용" value="0" truevalue="1" falsevalue="0" onclick="fn_checkboxOnClickHandler" left="74.08%" top="4" right="14.79%" height="21"/>
              <CheckBox id="chk_opt3" taborder="22" text="주거급여전용" value="0" truevalue="1" falsevalue="0" onclick="fn_checkboxOnClickHandler" left="85.21%" top="4" right="2.28%" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Grid id="Grid01" taborder="119" binddataset="ds_receipt" useinputpanel="false" autofittype="col" top="412" height="132" width="768" left="17">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="100"/>
                <Column size="200"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell style="font:bold 9 돋움체;" text="은행"/>
                <Cell col="1" style="font:bold 9 돋움체;" text="계좌번호"/>
                <Cell col="2" style="font:bold 9 돋움체;" text="입금일자"/>
                <Cell col="3" style="font:bold 9 돋움체;" text="납입기한"/>
                <Cell col="4" style="font:bold 9 돋움체;" text="청구순번"/>
                <Cell col="5" style="font:bold 9 돋움체;" text="납부코드"/>
                <Cell col="6" style="font:bold 9 돋움체;" text="입금액"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" text="bind:BANK_CD" combodataset="ds_bankCdList" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="1" text="bind:VACCT_NO"/>
                <Cell col="2" displaytype="date" text="bind:IN_DATE"/>
                <Cell col="3" text="bind:PAYEND_DATE"/>
                <Cell col="4" text="bind:BILL_SEQ"/>
                <Cell col="5" displaytype="combo" text="bind:CORT_CODE" combodataset="ds_code" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="6" text="bind:BILL_AMT"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid00" taborder="120" binddataset="ds_bill" useinputpanel="false" autofittype="col" top="567" height="130" width="768" left="17">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="80"/>
                <Column size="120"/>
                <Column size="80"/>
                <Column size="60"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="100"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell style="font:bold 9 돋움체;" text="은행"/>
                <Cell col="1" style="font:bold 9 돋움체;" text="계좌번호"/>
                <Cell col="2" style="font:bold 9 돋움체;" text="거래일자"/>
                <Cell col="3" style="font:bold 9 돋움체;" text="거래순번"/>
                <Cell col="4" style="font:bold 9 돋움체;" text="거래시작일"/>
                <Cell col="5" style="font:bold 9 돋움체;" text="거래종료일"/>
                <Cell col="6" style="font:bold 9 돋움체;" text="청구금액"/>
                <Cell col="7" text="등록자"/>
                <Cell col="8" text="등록일"/>
                <Cell col="9" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" text="bind:BANK_CD" combodataset="ds_bankCdList" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="1" text="bind:VACCT_NO" combodataset="bind:VACCT_NO"/>
                <Cell col="2" text="bind:TR_DATE"/>
                <Cell col="3" text="bind:TR_NO"/>
                <Cell col="4" text="bind:TR_SDATE"/>
                <Cell col="5" text="bind:TR_EDATE"/>
                <Cell col="6" text="bind:BILL_AMT"/>
                <Cell col="7" text="bind:PUT_USER_ID"/>
                <Cell col="8" displaytype="date" text="bind:PUT_DATE"/>
                <Cell col="9" text="bind:EXT1"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid02" taborder="121" binddataset="ds_bill_detail" useinputpanel="false" autofittype="col" top="722" height="130" width="768" left="17">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="100"/>
                <Column size="200"/>
                <Column size="106"/>
                <Column size="100"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell style="font:bold 9 돋움체;" text="은행"/>
                <Cell col="1" style="font:bold 9 돋움체;" text="계좌번호"/>
                <Cell col="2" style="font:bold 9 돋움체;" text="납부코드"/>
                <Cell col="3" style="font:bold 9 돋움체;" text="납부기한"/>
                <Cell col="4" style="font:bold 9 돋움체;" text="청구금액"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" text="bind:BANK_CD" combodataset="ds_bankCdList" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="1" text="bind:VACCT_NO"/>
                <Cell col="2" displaytype="combo" text="bind:CORT_CODE" combodataset="ds_code" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="3" text="bind:PAYEND_DATE"/>
                <Cell col="4" text="bind:BILL_AMT"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_area"/>
      <Dataset id="ds_dev">
        <ColumnInfo>
          <Column id="CRT_DIV" type="STRING" size="256"/>
          <Column id="CRT_DIV_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CRT_DIV">SL</Col>
            <Col id="CRT_DIV_NM">주택</Col>
          </Row>
          <Row>
            <Col id="CRT_DIV">RN</Col>
            <Col id="CRT_DIV_NM">영구임대</Col>
          </Row>
          <Row>
            <Col id="CRT_DIV">LN</Col>
            <Col id="CRT_DIV_NM">토지</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_bank"/>
      <Dataset id="ds_va">
        <ColumnInfo>
          <Column id="BANK_NM" type="STRING" size="256"/>
          <Column id="VACCT_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_CD" type="STRING" size="256"/>
          <Column id="CRT_DIV" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_code00"/>
      <Dataset id="ds_code">
        <ColumnInfo>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE_NM">지원금</Col>
            <Col id="CODE">BS</Col>
          </Row>
          <Row>
            <Col id="CODE_NM">임대료</Col>
            <Col id="CODE">RN</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_houseCodeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="ALL_HOUSE_NM" type="STRING" size="256"/>
          <Column id="HOUSE_SE" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sn"/>
      <Dataset id="ds_cond02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CRT_DIV" type="STRING" size="256"/>
          <Column id="CUST_CD" type="STRING" size="256"/>
          <Column id="BANK_CD" type="STRING" size="256"/>
          <Column id="VACCT_NO" type="STRING" size="256"/>
          <Column id="TRDATE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond03" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="OPT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_vaMastList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" cancolumnchange="fn_dsCanColumnChangeHandler" onrowposchanged="ds_vaMastList_onrowposchanged">
        <ColumnInfo>
          <Column id="BANK_CD" type="STRING" size="256"/>
          <Column id="BANK_NM" type="STRING" size="256"/>
          <Column id="VACCT_NO" type="STRING" size="256"/>
          <Column id="CUST_CD" type="STRING" size="256"/>
          <Column id="CUST_NM" type="STRING" size="256"/>
          <Column id="CRT_DIV" type="STRING" size="256"/>
          <Column id="STAT_CD" type="STRING" size="256"/>
          <Column id="STAT_NM" type="STRING" size="256"/>
          <Column id="INP_DT" type="STRING" size="256"/>
          <Column id="UPD_DT" type="STRING" size="256"/>
          <Column id="CLS_DT" type="STRING" size="256"/>
          <Column id="CUR_BAL" type="STRING" size="256"/>
          <Column id="LST_IN_DT" type="STRING" size="256"/>
          <Column id="LST_OUT_DT" type="STRING" size="256"/>
          <Column id="EBS_SEND_GB" type="STRING" size="256"/>
          <Column id="EBS_SEND_DT" type="STRING" size="256"/>
          <Column id="PUT_USER_NM" type="STRING" size="256"/>
          <Column id="EXT1" type="STRING" size="256"/>
          <Column id="OPT1" type="STRING" size="256"/>
          <Column id="OPT2" type="STRING" size="256"/>
          <Column id="OPT3" type="STRING" size="256"/>
          <Column id="FIRST_DATE" type="STRING" size="256"/>
          <Column id="FIRST_ENTRY" type="STRING" size="256"/>
          <Column id="FIRST_ENTRY_NM" type="STRING" size="256"/>
          <Column id="LAST_ENTRY" type="STRING" size="256"/>
          <Column id="LAST_ENTRY_NM" type="STRING" size="256"/>
          <Column id="LAST_DATE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condVaMast" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CRT_DIV" type="STRING" size="256"/>
          <Column id="BANK_CD" type="STRING" size="256"/>
          <Column id="CUST_CD" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <!-- OPT1 -->
          <Column id="ACCT_DIV" type="STRING" size="256"/>
          <!-- OPT2 -->
          <Column id="BJ_YN" type="STRING" size="256"/>
          <!-- OPT3 -->
          <Column id="JG_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="END_SE" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CHK1" type="STRING" size="256"/>
          <Column id="CHK2" type="STRING" size="256"/>
          <Column id="CHK3" type="STRING" size="256"/>
          <Column id="CHK4" type="STRING" size="256"/>
          <Column id="CHK5" type="STRING" size="256"/>
          <Column id="CRT_DIV" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bankCdList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condChangeVaMast" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CRT_DIV" type="STRING" size="256"/>
          <Column id="BANK_CD" type="STRING" size="256"/>
          <Column id="VACCT_NO" type="STRING" size="256"/>
          <Column id="CUST_CD" type="STRING" size="256"/>
          <!-- OPT1 -->
          <Column id="OPT1" type="STRING" size="256"/>
          <!-- OPT2 -->
          <Column id="OPT2" type="STRING" size="256"/>
          <!-- OPT3 -->
          <Column id="OPT3" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bill" useclientlayout="true">
        <ColumnInfo>
          <Column id="BANK_CD" type="STRING" size="3"/>
          <Column id="VACCT_NO" type="STRING" size="20"/>
          <Column id="TR_DATE" type="STRING" size="8"/>
          <Column id="TR_NO" type="STRING" size="20"/>
          <Column id="TR_SDATE" type="STRING" size="8"/>
          <Column id="TR_EDATE" type="STRING" size="8"/>
          <Column id="BILL_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="PAY_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="SALE_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="INT_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="IN_DATE" type="STRING" size="8"/>
          <Column id="CRT_DIV" type="STRING" size="2"/>
          <Column id="CRT_ID" type="STRING" size="10"/>
          <Column id="PUT_USER_ID" type="STRING" size="20"/>
          <Column id="PUT_DATE" type="DATE" size="7"/>
          <Column id="EXT1" type="STRING" size="50"/>
          <Column id="BILL_DIV" type="STRING" size="1"/>
          <Column id="TR_NO_TRAN" type="STRING" size="20"/>
          <Column id="LOSS_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="LSALE_AMT" type="BIGDECIMAL" size="22"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_receipt" useclientlayout="true">
        <ColumnInfo>
          <Column id="IN_DATE" type="DATE" size="7"/>
          <Column id="CRT_DIV" type="STRING" size="2"/>
          <Column id="CRT_ID" type="STRING" size="10"/>
          <Column id="BANK_CD" type="STRING" size="3"/>
          <Column id="VACCT_NO" type="STRING" size="20"/>
          <Column id="BILL_SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="TR_DATE" type="STRING" size="8"/>
          <Column id="TR_NO" type="STRING" size="20"/>
          <Column id="CORT_CODE" type="STRING" size="3"/>
          <Column id="REC_CLASS" type="STRING" size="1"/>
          <Column id="REC_SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="PAYEND_DATE" type="DATE" size="7"/>
          <Column id="BILL_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="WORK_DIV" type="STRING" size="1"/>
          <Column id="PUT_USER_ID" type="STRING" size="20"/>
          <Column id="PUT_DATE" type="DATE" size="7"/>
          <Column id="EXT1" type="STRING" size="50"/>
          <Column id="BILL_DIV" type="STRING" size="1"/>
          <Column id="PAY_NUM" type="STRING" size="5"/>
          <Column id="TR_NO_TRAN" type="STRING" size="20"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bill_detail" useclientlayout="true">
        <ColumnInfo>
          <Column id="REC_SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="PAYEND_DATE" type="DATE" size="7"/>
          <Column id="BILL_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="PAY_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="SALE_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="INT_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="PUT_USER_ID" type="STRING" size="20"/>
          <Column id="PUT_DATE" type="DATE" size="7"/>
          <Column id="EXT1" type="STRING" size="50"/>
          <Column id="PAY_NUM" type="STRING" size="5"/>
          <Column id="LOSS_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="LSALE_AMT" type="BIGDECIMAL" size="22"/>
          <Column id="OPT2" type="STRING" size="1"/>
          <Column id="BANK_CD" type="STRING" size="3"/>
          <Column id="VACCT_NO" type="STRING" size="20"/>
          <Column id="TR_DATE" type="STRING" size="8"/>
          <Column id="TR_NO" type="STRING" size="20"/>
          <Column id="BILL_SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="CRT_DIV" type="STRING" size="2"/>
          <Column id="CRT_ID" type="STRING" size="10"/>
          <Column id="CORT_CODE" type="STRING" size="3"/>
          <Column id="REC_CLASS" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item4" compid="div_search.Edit02" propid="value" datasetid="ds_cond00" columnid="CSTMR_NM"/>
      <BindItem id="item2" compid="div_search.Edit00" propid="value" datasetid="ds_cond00" columnid="CSTMR_NM"/>
      <BindItem id="item1" compid="div_newVaMastInfo.cmb_bankCd" propid="value" datasetid="ds_condVaMast" columnid="BANK_CD"/>
      <BindItem id="item3" compid="div_newVaMastInfo.chk_opt1" propid="value" datasetid="ds_condVaMast" columnid="ACCT_DIV"/>
      <BindItem id="item5" compid="div_newVaMastInfo.chk_opt2" propid="value" datasetid="ds_condVaMast" columnid="BJ_YN"/>
      <BindItem id="item6" compid="div_newVaMastInfo.chk_opt3" propid="value" datasetid="ds_condVaMast" columnid="JG_YN"/>
      <BindItem id="item7" compid="div_cntrctrInfo.Edit00" propid="value" datasetid="ds_cond00" columnid="CNTRCTR_NO"/>
      <BindItem id="item8" compid="div_cntrctrInfo.Edit02" propid="value" datasetid="ds_cond00" columnid="CSTMR_NM"/>
      <BindItem id="item0" compid="div_cntrctrInfo.Combo00" propid="value" datasetid="ds_cond00" columnid="CRT_DIV"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SLS000000_P02.xfdl
 * 화면명   : 주택 가상계좌 관리
 * 화면설명 : 가상계좌 관리
 * 작성일   : 2015.12.28
 * 작성자   : 이광원
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *   
 *    
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ************************************************************************/
include "lib::comInclude.xjs";
include "pms_lib::pmsUtilInclude.xjs";
/***********************************************************************
 * 화면 변수 선언부
 ************************************************************************/
 this.fv_objForm;
/***********************************************************************
 * Form Function
 
 ************************************************************************/
 
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.SLS000000_P03_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// Form 초기화
	this.fn_init();		
	this.fn_init_form();

	// DataSet 초기화
	this.fn_init_dataset();
}
 
this.SLS000000_P03_onload = function (obj:Form, e:LoadEventInfo)
{

	this.ds_condVaMast.addRow();	
	this.fv_objForm = this.parent.arg_0;
	if(this.ds_cond00.rowcount == 0) this.ds_cond00.addRow();
	this.ds_cond00.copyRow(0,this.parent.arg_1,0);
	
	this.ds_cond01.addRow();
	this.ds_cond01.setColumn(0 , "CUST_CD" , this.ds_cond00.getColumn(0 , "CNTRCTR_NO"));
	this.ds_cond01.setColumn(0 , "CRT_DIV" , this.ds_cond00.getColumn(0 , "CRT_DIV"));

	this.fn_transaction("selectVaMastList");		
}
/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
 
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	// 시스템 공통으로 Form을 Initialize 한다.
	this.gfn_initForm(this);
	this.fn_transaction("selectInitInfo");
	// 해당 Form에 필요한 초기화 부분 기술
	// =======================================

    // Form Eliments 초기화

    // Grid 초기화(필요한 경우)
    // 공통코드콤보 초기화
    // 부서콤보 초기화
}

/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	// 조건 Dataset 외에 초기화가 필요한 Dataset에 대한 초기화 코드를 추가한다.
	// TODO
}
/*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function ()
{
/*
params  		: 1. param_1    : 반환받을 DATASET 명 			(예: ds_comCode00)
                  2. param_2	: 그룹코드						(예 : COM007)
                  3. param_3	: 사용여부		    			(예 : 1(사용), ""(사용안함))
                  4. param_4	: 콤보박스INDEX(0) 표시		(예 : "전체", "선택", " "(공백), ""(첫번째데이터부터시작) )
*/
	var comboParams = [
			["ds_bank", "COM021", "1", "전체"]
		];
	
	this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
}
/***********************************************************************
* Transaction 영역 시작
************************************************************************/
 /*
 * 함수명  	: Button05_onclick
 * 설명 		: 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.Button05_onclick();
 */
this.Button05_onclick = function()
{
	this.fn_transaction("selectVaMastList");	
}
/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/
/*
 * 함수명  	: fn_search
 * 설명 		: 신청자 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		// 화면기초정보(가상계좌은행) 조회
		case "selectInitInfo" :
				var sController = "hsco/pms/sls/hou/rci/SLS040101/selectInitInfo.do";
				var sInDatasets = "";
				var sOutDatasets = "ds_bankCdList=cybBankCode";
				break;
			
		// 가상계좌목록 조회
		case "selectVaMastList" :
				var sController = "hsco/pms/com/COM000000/selectVaMastList.do";
				var sInDatasets = "input1=ds_cond01";
				var sOutDatasets = "ds_vaMastList=vaMast";
				break;	
				
		// 신규가상계좌 생성
		case "insertVaMast" :
				var sController = "hsco/pms/com/COM000000/insertVaMast.do";
				var sInDatasets = "input1=ds_condVaMast";
				var sOutDatasets = "";
				break;				
				
		// 선택 가상계좌 Option정보 변경
		case "updateVaMastOptInfo" :
				var sController = "hsco/pms/com/COM000000/updateVaMastOptionInfo.do";
				var sInDatasets = "input1=ds_condChangeVaMast";
				var sOutDatasets = "";
				break;			
																														
		// 가상계좌 계좌별 입금내역 조회
		case "selectVaReceiptList" :
				var sController = "hsco/pms/com/COM000000/selectVaReceiptList.do";
				var sInDatasets = "input1=ds_cond02";
				var sOutDatasets = "ds_receipt=VaReceipt";
				break;	
																																		
		// 가상계좌 계좌별 납부진행내역 조회
		case "selectVaBillList" :
				var sController = "hsco/pms/com/COM000000/selectVaBillList.do";
				var sInDatasets = "input1=ds_cond02";
				var sOutDatasets = "ds_bill=VaBill";
				break;																																			
				
		// 가상계좌 계좌별 납부진행상세내역 조회
		case "selectVaBillDetailList" :              
				var sController = "hsco/pms/com/COM000000/selectVaBillDetailList.do";
				var sInDatasets = "input1=ds_cond02";
				var sOutDatasets = "ds_bill_detail=tVaBillDetail";
				break;																																					
	}
	
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 	

}
 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
 
 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	// 오류 및 성공 메시지를 화면에 보여준다.
	if(strSvcId == "insertVaMast")
	{			
		this.fn_selectVaMastList(true);	
	}
	if(strSvcId == "selectVaMastList")
	{			
		if(this.ds_vaMastList.rowcount < 1) return;
		
		this.ds_vaMastList_onrowposchanged();
	}		
	if(nErrorCode == 0) return;
	this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
}


/***********************************************************************
* Transaction 영역 끝
************************************************************************/

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/
// 종료버튼
this.Button02_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.close();
}

/*
 * 함수명  	: fn_grdOnSelectChangHandler
 * 설명 		: 그리드 onSelectChange 이벤트 처리(행 선택)
 * params  		: obj 	: 이벤트 발생 그리드 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <Button onclick="fn_btnOnClickHandler">...</Button>
 */
this.fn_btnOnClickHandler = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var btnName = obj.name;
	switch(btnName){
	
		// 신규계좌 부여
		// 권한 - 가상계좌관리자인 경우 실행
		case "btn_newAccount" :
		
			// 입력값 추출
			var selInfoMap = this.pmsUtil.getInputMap(this.div_cntrctrInfo);
			var inputMap = this.pmsUtil.getInputMap(this.div_newVaMastInfo);

			// 입력값 유효성 검사
			var crtDiv = selInfoMap["CRT_DIV"];        // 업무구분
			var bankCd = inputMap["BANK_CD"];			// 은행코드
			var cntrctrNo = selInfoMap["CNTRCTR_NO"];	// 계약번호
			var opt1 = inputMap["ACCT_DIV"];			// 대표계좌(임대료계좌)
			var opt2 = inputMap["BJ_YN"];				// 보증금전용
			var opt3 = inputMap["JG_YN"];				// 주거급여전용
			
			if(this.comUtils.isNullEmpty(bankCd)){
				alert("은행을 선택하세요.");
				return;
			}
			
			var confirmMsgId = "";
			var confirmMsg = "";
			if(opt1 == "1"){
				confirmMsgId = "comm.행위여부";
				confirmMsg = "임대료계좌로 지정할 경우 기존 임대료계좌는 해제됩니다. 진행";
			}else{
				confirmMsgId = "comm.행위여부";
				confirmMsg = "가상계좌를 부여합니다. 진행";
			}
			
			//if(confirm(confirmMsg)){
			if(this.gfn_message(confirmMsgId, confirmMsg)){
				var paramMap = {};
				paramMap["CRT_DIV"] = crtDiv;
				paramMap["HOUSE_CODE"] = this.ds_cond00.getColumn( 0 , "HOUSE_CODE");
				paramMap["BANK_CD"] = bankCd;
				paramMap["CUST_CD"] = cntrctrNo;
				paramMap["ACCT_DIV"] = opt1;
				paramMap["BJ_YN"] = opt2;
				paramMap["JG_YN"] = opt3;
				
				// 전송값을 설정한다.
				this.pmsUtil.putMapToDataset(this.ds_condVaMast, paramMap, 0);
				
				this.fn_transaction("insertVaMast");
			}
			break;
		
		default :
			break;
	}
}	
/*
 * 함수명  	: fn_dsCanColumnChangeHandler
 * 설명 		: 데이터셋 cancolumnchange 이벤트 처리(행 선택)
 * params  		: obj 	: 이벤트 발생 데이터셋 Component
				  e		: 발생 이벤트
 * return Type 	: Boolean
 * 사용법		: <Dataset cancolumnchange="fn_dsCanColumnChangeHandler">...</Dataset>
 */
this.fn_dsCanColumnChangeHandler = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	var result = true;
	
	var rowIdx = e.row;			// 이벤트 발생 Row Index
	var colId = e.columnid;		// 이벤트 발생 Column Index
	var newValue = e.newvalue;	// 이벤트 발생 Column 신규 값
	var dsName = obj.name;		// 이벤트 발생 Dataset Id(Name)	

	switch(dsName){
	
		// 가상계좌 목록
		case "ds_vaMastList" :
			var backCd = obj.getColumn(rowIdx, "BANK_CD");
			var bankNm = obj.getColumn(rowIdx, "BANK_NM");
			
			if(colId == "OPT1" && newValue == "1"){
				var findExpr = "BANK_CD=='" + backCd + "'&&OPT1=='1'";	// 선택 은행에 임대료지정계좌(OPT1=1)을 찾는다.
				var findRow = this.ds_vaMastList.findRowExpr(findExpr);
				result = findRow > 0 ? false : true;
			}
			if(!result){

				this.gfn_message("info.항목.중복", "해당은행(" + bankNm + ") 계좌 중 임대료지정계좌");
			}
		
			break;
			
		default :
			break;
	}
	
	return result;
}

/*
 * 함수명  	: fn_grdOnCellClickHandler
 * 설명 		: 그리드 oncellclick 이벤트 처리(컬럼 선택)
 * params  		: obj 	: 이벤트 발생 그리드 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <Grid oncellclick="fn_grdOnCellClickHandler">...</Grid>
 */
this.fn_grdOnCellClickHandler = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var gridName = obj.name;
	var selRowPosition = e.row;
	switch(gridName){
	
		// 가상계좌 목록
		case "grd_vaMastList" :
			// 체크박스(컬럼)일 경우에만 처리
			// 3: 대표계좌, 4: 보증금전용, 5.주거급여전용
			// AS-IS의 경우 가상계좌관리자만 대표계좌변경 처리 가능
			var colIdx = e.col;
			var rowIdx = e.row;
			if(colIdx == 3 || colIdx == 4 || colIdx == 5){
				
				// 3: 대표계좌의 중복여부는 Dataset 이벤트(fn_dsCanColumnChangeHandler)로 확인
				// 행데이터 업데이트 처리
				this.fn_updateVaMastInfo(rowIdx);
				
			}else{
				// TODO
			}
			break;
			
		default :
			break;
	}
}

/**
 * 선택 가상계좌 Option정보 Update 처리
 */
this.fn_updateVaMastInfo = function(rowIndex){
	
	var chRowMap = this.fn_setVaMastOptInfo(rowIndex);
    
    trace("chRowMap =" + chRowMap);
    
    
	// Clear Datasets
	this.pmsUtil.clearDataSet([this.ds_condChangeVaMast]);	// 가상계좌정보 변경 조건
	
	// 변경조건에 데이터 입력
	this.pmsUtil.putMapToDataset(this.ds_condChangeVaMast, chRowMap);

	this.pmsUtil.dumper(this.ds_condChangeVaMast);
	
	// 선택 가상계좌 정보를 변경한다.
	this.fn_transaction("updateVaMastOptInfo");
}
/*
 * 함수명  	: fn_selectVaMastList
 * 설명 		: 선택 대상의 가상계좌목록 조회 이벤트 처리
 *                출력 대상 Dataset의 초기화 및 조회조건 값을 설정한다.
 * params  		: selRowPosition	: 선택행
 * return Type 	: None
 * 사용법		: this.fn_selectIntrtList(selRowPosition);
 */
this.fn_selectVaMastList = function(isReload, selRowPosition){

	// 리로드 여부 확인 - 리로드 시 조회조건 값은 유지
	if(isReload){
		
		// Clear Datasets
		this.pmsUtil.clearDataSet([this.ds_vaMastList, this.ds_condVaMast]);	// 가상계좌 목록, 신규등록 조건
	}else{
	
		// Clear Datasets
		this.pmsUtil.clearDataSet([this.ds_cond01, this.ds_vaMastList, this.ds_condVaMast]);	// 가상계좌 조회조건, 가상계좌 목록, 신규등록 조건
		
		// 조회조건 설정
		// 대상목록 선택 값
		var selCntrctrNo = this.div_cntrctrInfo.Edit00.value;	// 계약자 번호
		var crtDiv = this.div_cntrctrInfo.Combo00.value;	// 계약자 번호
		
		var paramMap = {};
		paramMap["CRT_DIV"] = this.CRT_DIV;
		paramMap["CUST_CD"] = selCntrctrNo;
		
		// 조회조건을 설정한다.
		this.pmsUtil.putMapToDataset(this.ds_cond01, paramMap, 0);
		
		//this.fn_setNewVaMastInfo(true);
	}
	
	// 가상계좌 목록을 조회한다.
	this.fn_transaction("selectVaMastList");
}
/**
 * 선택 가상계좌 옵션값 변경 처리
 * - 연계처리
 */
this.fn_setVaMastOptInfo = function(rowIndex){

	var result = null;
	
	var rowOpt1 = this.ds_vaMastList.getColumn(rowIndex, "OPT1");
	
	// 임대료지정계좌(OPT1)로 설정 시 보증금지정계좌(OPT2)의 설정을 해제한다.
	// 적용 가능여부는 요청시 Update전 확인
	if(rowOpt1 == "1"){
		this.ds_vaMastList.setColumn(rowIndex, "OPT2", "0");
	}

	result = this.pmsUtil.getDatasetItem(this.ds_vaMastList, rowIndex);

	return result;
}
/*
 * 함수명  	: fn_checkboxOnClickHandler
 * 설명 		: 체크박스 onClick 이벤트 처리(아이템 선택)
 * params  		: obj 	: 이벤트 발생 콤보 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: <CheckBox onclick = "fn_checkboxOnClickHandler">...</CheckBox>
 */
this.fn_checkboxOnClickHandler = function(obj:CheckBox,  e:nexacro.ClickEventInfo)
{
	var chkName = obj.name;
	var chkValue = obj.value;
	
	switch(chkName){
		case "chk_opt1" :
			if(chkValue == "1"){
				this.fn_setCheckStatus(true, false, false);
			}
			break;
		case "chk_opt2" :
			if(chkValue == "1"){
				this.fn_setCheckStatus(false, true, false);
			}
			break;
		case "chk_opt3" :
			if(chkValue == "1"){
				this.fn_setCheckStatus(false, false, true);
			}
			break;
		default :
			break;
	}
}
/**
 * 체크박스 체크 상태 변경
 *  - 연계처리
 */
this.fn_setCheckStatus = function(op1Chked, op2Chked, op3Chked){
	this.div_newVaMastInfo.chk_opt1.set_value(op1Chked ? "1" : "0");
	this.div_newVaMastInfo.chk_opt2.set_value(op2Chked ? "1" : "0");
	this.div_newVaMastInfo.chk_opt3.set_value(op3Chked ? "1" : "0");
}
/*
 * 함수명  	: ds_vaMastList_onrowposchanged
 * 설명 		: 가상계좌 로우변경시 조회
 * params  		: obj 	: 이벤트 발생 콤보 Component
				  e		: 발생 이벤트
 * return Type 	: None
 * 사용법		: this.ds_vaMastList_onrowposchanged();
 */
this.ds_vaMastList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
		this.ds_cond02.clearData();
		var nRow = this.ds_cond02.addRow();
		this.ds_cond02.setColumn(nRow , "CRT_DIV" , this.div_cntrctrInfo.Combo00.value);
		this.ds_cond02.setColumn(nRow , "CUST_CD" , this.div_cntrctrInfo.Edit00.value);
		this.ds_cond02.setColumn(nRow , "BANK_CD" , this.ds_vaMastList.getColumn(this.ds_vaMastList.rowposition , "BANK_CD"));
		this.ds_cond02.setColumn(nRow , "VACCT_NO" , this.ds_vaMastList.getColumn(this.ds_vaMastList.rowposition , "VACCT_NO"));
		this.fn_transaction("selectVaReceiptList");	
		this.fn_transaction("selectVaBillList");	
		this.fn_transaction("selectVaBillDetailList");	
}
]]></Script>
  </Form>
</FDL>
