<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="SLS050100" classname="SLS050100" left="0" top="0" width="809" height="752" titletext="입주예정일관리" oninit="SLS050100_oninit" onload="SLS050100_onload">
    <Layouts>
      <Layout>
        <Div id="div_search" taborder="0" left="0" top="0" style="background:#f9fbffff;font:bold 9 Verdana;" cssclass="div_WFSA_Box" height="33" right="28">
          <Layouts>
            <Layout>
              <Static id="Static04" taborder="97" text="주택코드" onclick="Static04_onclick" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21" style="color:#3f3f3fb3;align:right;"/>
              <Combo id="cmb_houseCode" taborder="98" innerdataset="ds_houseCodeList" codecolumn="HOUSE_CODE" datacolumn="ALL_HOUSE_NM" onitemchanged="fn_comboOnItemChangeHandler" left="92" top="5" width="204" height="21" cssclass="cmb_WF_Essential"/>
              <Static id="Static06" taborder="100" text="5" visible="false" left="0" top="0" right="0" height="5" style="background:#fa794f66;align:center middle;"/>
              <Static id="Static07" taborder="101" text="5" visible="false" left="0" top="26" right="0" height="5" style="background:#fa794f66;align:center middle;"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="div_WORK" taborder="3" text="Div00" left="0" top="33" bottom="198" width="797">
          <Layouts>
            <Layout>
              <Grid id="grd_dongList" taborder="10" useinputpanel="false" left="0" top="34" width="78" autofittype="col" binddataset="ds_dongList" onselectchanged="div_WORK_grd_dongList_onselectchanged" height="444">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="76"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="동"/>
                    </Band>
                    <Band id="body">
                      <Cell text="bind:DONG"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Grid id="grd_mvnPrearnDeTimeList" taborder="16" useinputpanel="false" autofittype="col" left="93" top="34" width="443" binddataset="ds_mvnPrearnDeTimeList" onselectchanged="div_WORK_grd_mvnPrearnDeTimeList_onselectchanged" oncelldblclick="div_WORK_grd_mvnPrearnDeTimeList_oncelldblclick" height="444">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="40"/>
                      <Column size="43"/>
                      <Column size="65"/>
                      <Column size="60"/>
                      <Column size="40"/>
                      <Column size="96"/>
                      <Column size="88"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="라인"/>
                      <Cell col="1" text="열"/>
                      <Cell col="2" text="동"/>
                      <Cell col="3" text="호"/>
                      <Cell col="4" text="층"/>
                      <Cell col="5" text="입주예정일"/>
                      <Cell col="6" text="입주시간"/>
                    </Band>
                    <Band id="body">
                      <Cell text="bind:LINE_NO" suppress="bind:LINE_NO"/>
                      <Cell col="1" text="bind:HO_LINE_NO" suppress="bind:HO_LINE_NO" suppressalign="first"/>
                      <Cell col="2" text="bind:DONG"/>
                      <Cell col="3" text="bind:HO"/>
                      <Cell col="4" text="bind:FLOOR"/>
                      <Cell col="5" displaytype="expr:RENT_MVN_PRARNDE == null  ? 'normal' : 'date'" edittype="none" text="expr:RENT_MVN_PRARNDE == null  ? CSTMR_NM: RENT_MVN_PRARNDE" calendardisplaynulltype="none"/>
                      <Cell col="6" text="bind:MVN_PREARNGE_TIME"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="sta_relation00" taborder="21" text="동" cssclass="sta_WF_Title02" left="0" top="10" width="99" height="19"/>
              <Static id="sta_relation02" taborder="22" text="호" cssclass="sta_WF_Title02" left="95" top="10" width="125" height="19"/>
              <Static id="sta_relation03" taborder="32" text="입주가능일시" cssclass="sta_WF_Title02" left="553" top="11" width="109" height="19"/>
              <Grid id="grd_mvnOkTimeList" taborder="34" binddataset="ds_mvnDeTimeList" useinputpanel="false" autofittype="col" left="551" top="34" width="233" oncelldblclick="div_WORK_grd_mvnOkTimeList_oncelldblclick" height="389">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="102"/>
                      <Column size="101"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="입주예정일"/>
                      <Cell col="1" text="입주시간"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="date" text="bind:MVN_PRARNDE" suppress="bind:MVN_PRARNDE"/>
                      <Cell col="1" edittype="none" text="bind:MVN_PREARNGE_TIME"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="sta_relation01" taborder="35" text="예외일시지정" cssclass="sta_WF_Title02" left="553" top="431" width="109" height="19"/>
              <Calendar id="cal_exDate" taborder="36" readonly="false" dateformat="yyyy-MM-dd" left="551" top="457" width="108" height="21" style="background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;border:1 solid #f1b54dff ;" onchanged="div_WORK_cal_exDate_onchanged"/>
              <Combo id="cmb_exTime" taborder="37" innerdataset="@ds_mvnPrearnTimeList" codecolumn="PREARNGE_SN" datacolumn="MVN_PREARNGE_TIME" onitemchanged="div_hcntCtrSeizrInfo02_cmb_seizrSe01_onitemchanged" enable="true" left="664" top="457" width="122" height="21" style=":disabled {background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;border:1 solid #f1b54dff ;color:#333333ff;}"/>
              <Button id="btn_apply" taborder="38" text="지정" left="721" top="431" width="55" height="20" style="font:8 arial;" onclick="div_WORK_btn_apply_onclick"/>
            </Layout>
          </Layouts>
        </Div>
        <Button id="btn_sameLine" taborder="4" text="동일라인 지정" top="5" width="120" height="21" onclick="btn_sameLine_onclick" right="153"/>
        <Button id="btn_regSchd" taborder="5" text="입주가능일 일괄등록" top="5" width="120" height="21" onclick="btn_regSchd_onclick" right="275"/>
        <Button id="btn_listStat" taborder="6" text="입주지정일현황" onclick="btn_status_onclick" top="5" width="120" height="21" right="31"/>
        <Tab id="Tab00" taborder="7" left="0%" top="520" height="204" tabindex="0" scrollbars="autoboth" right="25" preload="true">
          <Tabpages>
            <Tabpage id="tab_pay" text="납부정보">
              <Layouts>
                <Layout>
                  <Grid id="Grid00" taborder="0" useinputpanel="false" left="0%" top="0" right="0%" bottom="0" binddataset="ds_payList">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="58"/>
                          <Column size="55"/>
                          <Column size="75"/>
                          <Column size="109"/>
                          <Column size="93"/>
                          <Column size="100"/>
                          <Column size="89"/>
                          <Column size="93"/>
                          <Column size="101"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                          <Row size="24" band="summ"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="동"/>
                          <Cell col="1" text="호"/>
                          <Cell col="2" text="계약자"/>
                          <Cell col="3" text="납부코드"/>
                          <Cell col="4" text="납부금액"/>
                          <Cell col="5" text="연체/선납금액"/>
                          <Cell col="6" text="계"/>
                          <Cell col="7" text="납부기한"/>
                          <Cell col="8" text="수납일자"/>
                        </Band>
                        <Band id="body">
                          <Cell text="bind:DONG" suppress="bind:DONG"/>
                          <Cell col="1" text="bind:HO" suppress="bind:HO"/>
                          <Cell col="2" text="bind:CSTMR_NM" suppress="bind:HO"/>
                          <Cell col="3" displaytype="combo" style="align:left;" text="bind:PAY_CODE" combodataset="ds_payCode" combocodecol="CODE" combodatacol="ALL_CODE_NM"/>
                          <Cell col="4" displaytype="number" style="align:right;" text="bind:PAYAMT"/>
                          <Cell col="5" displaytype="number" style="align:right;" text="bind:ARRRG_AMOUNT"/>
                          <Cell col="6" displaytype="number" style="align:right;" text="bind:TOT_AMT"/>
                          <Cell col="7" displaytype="date" text="bind:PAY_TMLMT"/>
                          <Cell col="8" displaytype="date" text="bind:RCIV_DE"/>
                        </Band>
                        <Band id="summary">
                          <Cell/>
                          <Cell col="1"/>
                          <Cell col="2"/>
                          <Cell col="3"/>
                          <Cell col="4"/>
                          <Cell col="5" expr="expr:dataset.getSum('ARRRG_AMOUNT')"/>
                          <Cell col="6" expr="expr:dataset.getSum('TOT_AMT')"/>
                          <Cell col="7"/>
                          <Cell col="8"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tab_va" text="가상계좌 수납내역">
              <Layouts>
                <Layout>
                  <Grid id="Grid00" taborder="0" binddataset="ds_vaList" useinputpanel="false" left="0%" top="0" right="0%" bottom="0">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="58"/>
                          <Column size="55"/>
                          <Column size="75"/>
                          <Column size="144"/>
                          <Column size="103"/>
                          <Column size="93"/>
                          <Column size="101"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                          <Row size="24" band="summ"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="동"/>
                          <Cell col="1" text="호"/>
                          <Cell col="2" text="계약자"/>
                          <Cell col="3" text="납부코드"/>
                          <Cell col="4" text="납부금액"/>
                          <Cell col="5" text="납부기한"/>
                          <Cell col="6" text="수납일자"/>
                        </Band>
                        <Band id="body">
                          <Cell text="bind:DONG" suppress="bind:DONG"/>
                          <Cell col="1" text="bind:HO" suppress="bind:HO"/>
                          <Cell col="2" text="bind:CSTMR_NM" suppress="bind:HO"/>
                          <Cell col="3" displaytype="combo" style="align:left;" text="bind:PAY_CODE" combodataset="ds_payCode" combocodecol="CODE" combodatacol="ALL_CODE_NM"/>
                          <Cell col="4" displaytype="number" style="align:right;" text="bind:PAYAMT"/>
                          <Cell col="5" displaytype="date" text="bind:PAY_TMLMT"/>
                          <Cell col="6" displaytype="date" text="bind:RCIV_DE"/>
                        </Band>
                        <Band id="summary">
                          <Cell/>
                          <Cell col="1"/>
                          <Cell col="2"/>
                          <Cell col="3"/>
                          <Cell col="4" expr="expr:dataset.getSum('PAYAMT')"/>
                          <Cell col="5"/>
                          <Cell col="6"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tab_sameDate" text="동일예외일 지정현황" applystyletype="cascade,keep">
              <Layouts>
                <Layout>
                  <Grid id="Grid00" taborder="0" binddataset="ds_sameDateList" useinputpanel="false" left="0%" top="0" right="0%" bottom="0">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="58"/>
                          <Column size="55"/>
                          <Column size="75"/>
                          <Column size="84"/>
                          <Column size="110"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="동"/>
                          <Cell col="1" text="호"/>
                          <Cell col="2" text="계약자"/>
                          <Cell col="3" text="입주예정일"/>
                          <Cell col="4" text="입주시간"/>
                        </Band>
                        <Band id="body">
                          <Cell text="bind:DONG" suppress="bind:DONG"/>
                          <Cell col="1" text="bind:HO" suppress="bind:HO"/>
                          <Cell col="2" text="bind:CSTMR_NM" suppress="bind:HO"/>
                          <Cell col="3" displaytype="normal" style="align:left;" text="bind:RENT_MVN_PRARNDE" combodataset="ds_payCode" combocodecol="CODE" combodatacol="ALL_CODE_NM"/>
                          <Cell col="4" displaytype="normal" style="align:right;" text="bind:MVN_PREARNGE_TIME"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_stTimeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ST_TIME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="ED_TIME"/>
          </Row>
          <Row>
            <Col id="ST_TIME">09:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">10:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">11:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">12:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">13:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">14:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">15:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">16:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">17:00</Col>
          </Row>
          <Row>
            <Col id="ST_TIME">18:00 이후</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_edTimeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ED_TIME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="ED_TIME"/>
          </Row>
          <Row>
            <Col id="ED_TIME">09:00 이전~</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">10:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">11:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">12:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">13:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">14:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">15:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">16:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">17:00</Col>
          </Row>
          <Row>
            <Col id="ED_TIME">18:00</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_dongList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">div_search</Col>
            <Col id="colId">cmb_houseCode</Col>
            <Col id="notNull">Y</Col>
            <Col id="to"/>
            <Col id="msgId">주택코드</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="houseCode" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="LINE_NO" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_houseCodeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="ALL_HOUSE_NM" type="STRING" size="256"/>
          <Column id="HOUSE_SE" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_mvnPrarndeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="PREARNGE_SN" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HOUSE_COLUMN" type="STRING" size="256"/>
          <Column id="MVN_PRARNDE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_mvnDeTimeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="MVN_PRARNDE" type="STRING" size="256"/>
          <Column id="PREARNGE_SN" type="STRING" size="256"/>
          <Column id="MVN_PREARNGE_TIME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_houseColumnList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_COLUMN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dongFloorList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HOUSE_COLUMN" type="STRING" size="256"/>
          <Column id="LINE_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_lineList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="LINE_NO" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="LINE_NO">1</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">2</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">3</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">4</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">5</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">6</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">7</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">8</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">9</Col>
          </Row>
          <Row>
            <Col id="LINE_NO">10</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_mvnPrearnDeTimeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_mvnPrearnDeTimeList_onrowposchanged">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="FLOOR" type="STRING" size="256"/>
          <Column id="HO_LINE_NO" type="STRING" size="256"/>
          <Column id="LINE_NO" type="STRING" size="256"/>
          <Column id="RENT_MVN_PRARNDE" type="STRING" size="256"/>
          <Column id="RENT_MVN_TIME" type="STRING" size="256"/>
          <Column id="MVN_PREARNGE_TIME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAYAMT" type="BIGDECIMAL" size="256"/>
          <Column id="ARRRG_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="TOT_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_vaList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="PAYAMT" type="BIGDECIMAL" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_mvnPrearnTimeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="ST_TIME" type="STRING" size="256"/>
          <Column id="ED_TIME" type="STRING" size="256"/>
          <Column id="PREARNGE_SN" type="STRING" size="256"/>
          <Column id="MVN_PREARNGE_TIME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sameDateList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="FLOOR" type="STRING" size="256"/>
          <Column id="HO_LINE_NO" type="STRING" size="256"/>
          <Column id="LINE_NO" type="STRING" size="256"/>
          <Column id="RENT_MVN_PRARNDE" type="STRING" size="256"/>
          <Column id="RENT_MVN_TIME" type="STRING" size="256"/>
          <Column id="MVN_PREARNGE_TIME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="RENT_MVN_PRARNDE" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item39" compid="div_WORK.cmb_exTime" propid="value" datasetid="ds_hcntrctrChangeList" columnid="CHGHY_CODE"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * Script Include 
 ***********************************************************************/
include "pms_lib::pmsUtilInclude.xjs";

/***********************************************************************
 * Script Include 
 * ds_mvnPrearnDeTimeList : 입주지정일시 목록
 * ds_mvnPrarndeList : 입주예정일
 * ds_mvnPrearnTimeList : 입주예정시간 목록
 * ds_mvnDeTimeList : 입주가능일시 목록
 * ds_dongFloorList : 동라인 목
 ***********************************************************************/

this.SLS050100_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init();//공통 폼 초기화
	this.fn_init_dataset();//Dataset 초기화
}

this.SLS050100_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_loadCombo();		// Combo에 사용되는 Dataset Load			
	this.fn_get_codeList();
	
	this.div_WORK.cal_exDate.set_value(this.gfn_today());
}

/*
 * 함수명  	: fn_init_dataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	this.gfn_initCondDs(this, this.div_search);
}


/*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function()
{
	// 공통코드 목록 조회
 	var comCodeParam = [
 		 {OUT_PUT:"ds_payCode",           GRP_CODE:"LAD0A1", USE_AT:"1"} // 납부코드 		 
 	];
 	this.pmsUtil.getCommonCode("selectCommonCode", comCodeParam);	
 	
 	
}

/*
 * 함수명  	: fn_get_codeList
 * 설명 		: 모든 코드 리스트 검색
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_get_codeList();
 */
this.fn_get_codeList = function(){
	var paramMap = {};
	paramMap["HOUSE_SE"] = "S1,S2,S3,S4";
	paramMap["USE_AT"] = "1";
	this.pmsUtil.getHouseCode(paramMap, "ds_houseCodeList","fn_callBack2");	
}



/*
 * 함수명  	: fn_search
 * 설명 		: 조회
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function(){
	
	// 검색영역 Validation 체크
	if(this.gfn_checkValidation(this.div_search, this.ds_validation) == false) {
		return;
	}
	this.fn_divToDS(this.ds_cond00, this.div_search);
	this.ds_cond00.setColumn(0, "HOUSE_CODE", this.ds_cond00.getColumn(0, "houseCode"));
	this.ds_cond01.setColumn(0, "HOUSE_CODE", this.ds_cond00.getColumn(0, "houseCode"));
	
	this.ds_dongList.clearData();		
	this.fn_transaction("dongList");			//동 목록
	//this.fn_transaction("dongFloorList");		//동라인 목록
	this.fn_transaction("mvnPrearnTimeList");
}

/*
 * 함수명  	: fn_save
 * 설명 		: 저장
 * params  		: None
 * return Type 	: None
 * 사용법		:
 */
this.fn_save = function(){
	if(Ex.util.isUpdated(this.ds_mvnPrearnDeTimeList) == true){
		if(application.confirm("저장하시겠습니까?") == true){
			this.fn_transaction("mvnPrearnDeTimeU");
		}
	}
}

/*
 * 함수명  	: fn_cancel
 * 설명 		: 취소
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.fn_cancel = function(){
	if(application.confirm("변경하신 모든 사항이 취소됩니다")){
		var ds = this.ds_mvnPrearnTimeList;
		ds.reset();
		ds.applyChange();
	}
}


this.fn_callBack2 = function(){
	comboOption = {
					type: this.pmsUtil.PROMPT_SELECT,  //PROMPT_SELECT(선택),PROMPT_ALL
					noNullText: "코드없음"  //목록이 없는 경우 출력 텍스트
				}
	this.pmsUtil.setComboPrompt(this.div_search.cmb_houseCode, comboOption, true);	// 조회영역
}
/*
 * 함수명  	: div_WORK_grd_dongList_onselectchanged
 * 설명 		: 
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.div_WORK_grd_dongList_onselectchanged = function(obj:Grid, e:nexacro.GridSelectEventInfo)
{
	this.ds_mvnPrearnDeTimeList.clearData();
	//this.ds_mvnPrarndeList.clearData();
	//this.ds_mvnDeTimeList.clearData();
	this.ds_cond01.copyRow(0, this.ds_dongList, this.ds_dongList.rowposition);
	this.fn_transaction("mvnPrearnDeTimeList"); //입주지정일시 목록
	//this.fn_transaction("mvnPrarndeList"); 		//입주예정일 목록
	//this.fn_transaction("houseColumnList");		//열 목록

}



/*
 * 함수명  	: div_WORK_btn_saveLine_onclick
 * 설명 		: 동라인 목록 저장
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.div_WORK_btn_saveLine_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(Ex.util.isUpdated(this.ds_mvnPrearnTimeList) == true){
		if(application.confirm("저장하시겠습니까?") == true){
			this.fn_transaction("dongFloorU");
		}
	}
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	var bSync = true;
	
	switch (strSvcId) {
		case "dongList":			//동 목록
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/dongList.do"; 
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_dongList=output1";
			break; 

		case "houseColumnList":		//열 목록
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/houseColumnList.do"; 
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_houseColumnList=output1";
			break;
			
		case "dongFloorList":		//동 라인 목록
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/dongFloorList.do"; 
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_dongFloorList=output1";
			break;
			
		case "dongFloorU":		//동 라인 수정
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/dongFloorU.do"; 
			var sInDatasets   	= "input1=ds_dongFloorList:U";
			var sOutDatasets  	= "";
			break;
			
		case "mvnPrearnDeTimeList":	//입주지정일시 목록
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/mvnPrearnDeTimeList.do"; 
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_mvnPrearnDeTimeList=output1";
			break;
			
		case "mvnPrearnDeTimeU": 	//입주지정일 수정
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/mvnPrearnDeTimeU.do"; 
			var sInDatasets   	= "input1=ds_mvnPrearnDeTimeList:U";
			var sOutDatasets  	= "";
			break;
		
		case "mvnDeTimeList":		//입주가능시간
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/mvnDeTimeList.do"; 
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_mvnDeTimeList=output1";
			break;

		case "mvnPayList":		//열 목록
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/mvnPayList.do"; 
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_payList=output1";
			break;
			
		case "mvnVAList":		//열 목록
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/mvnVAList.do"; 
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_vaList=output1";
			break;	
			
		case "mvnPrearnTimeList":	//입주예정시간 목록
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/mvnPrearnTimeList.do"; 
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_mvnPrearnTimeList=output1";
			break;
			
		case "sameDateList":	// 동일일시지정 현황
		    //검색 항목 데이터셋 세팅
			this.ds_cond02.clearData();
			var nRow = this.ds_cond02.addRow();
			this.ds_cond02.setColumn(nRow ,"HOUSE_CODE"  , this.ds_mvnPrearnDeTimeList.getColumn(this.ds_mvnPrearnDeTimeList.rowposition,"HOUSE_CODE"));  // 주택코드
			this.ds_cond02.setColumn(nRow ,"RENT_MVN_PRARNDE" , this.div_WORK.cal_exDate.value     );  // 지정일
			this.ds_cond02.setColumn(nRow ,"CNTRCTR_NO"  , this.ds_mvnPrearnDeTimeList.getColumn(this.ds_mvnPrearnDeTimeList.rowposition,"CNTRCTR_NO"));  // 지정일
			
			var sController   	= "/hsco/pms/sls/hou/mvn/SLS050100/sameDateList.do"; 
			var sInDatasets   	= "input1=ds_cond02";
			var sOutDatasets  	= "ds_sameDateList=output1";			
			break;	
	}
	
	if(this.fn_validate_tranasaction(strSvcId, sController, sInDatasets, sOutDatasets) == false){
		return;
	}
	
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets, "", null, null, bSync); 
}

/**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
/*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	var bSuccess = nErrorCode == 0 ? true : false;
	if (bSuccess){
		switch(strSvcId){
			case "mvnDeTimeList":
				this.fn_use_timeSnList();
				break;
				
			case "cmbHouseCodeList" : 	// 주택코드  콤보  -- SvcId  ds_ 를 제외한 명(OutDataset_ID)
				comboOption = {
					type: this.pmsUtil.PROMPT_SELECT,  //PROMPT_SELECT(선택),PROMPT_ALL
					noNullText: "코드없음"  //목록이 없는 경우 출력 텍스트
				}
				this.pmsUtil.setComboPrompt(this.div_search.cmb_houseCode, comboOption, true);	// 조회영역
				break;
				
			case "sameDateList":	
				this.Tab00.tab_sameDate.set_text("동일예외일 지정현황 (" + this.ds_sameDateList.rowcount + ")");				
				break;	
		}
	}else{
		this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	}
	
	this.debug( (bSuccess==true?"Success : ":"Fail : ") + strSvcId);
}

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/
/*
 * 함수명  	: div_WORK_grd_mvnPrearnDeTimeList_onselectchanged
 * 설명 		: 입주일시 지정 onselectchanged 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.div_WORK_grd_mvnPrearnDeTimeList_onselectchanged = function(obj:Grid, e:nexacro.GridSelectEventInfo)
{
	var preLineNo = this.ds_mvnPrearnDeTimeList.getColumn(e.oldrow, "LINE_NO");
	var newLineNo = this.ds_mvnPrearnDeTimeList.getColumn(e.row, "LINE_NO");
	this.debug(preLineNo + ":" + newLineNo);
	if(preLineNo != newLineNo){
		this.ds_mvnDeTimeList.clearData();
		this.ds_cond01.setColumn(0, "LINE_NO", newLineNo);
		this.fn_transaction("mvnDeTimeList");		//입주가능일시 목록
	}else{
		this.fn_use_timeSnList();
	}
	
	this.ds_cond01.setColumn(0, "HO", this.ds_mvnPrearnDeTimeList.getColumn(e.row, "HO")); 
	this.fn_transaction("mvnPayList");
	this.fn_transaction("mvnVAList");
	this.fn_transaction("sameDateList");	
}


/*
 * 함수명  	: div_WORK_grd_mvnPrearnDeTimeList_oncelldblclick
 * 설명 		: 입주지정일시 더블클릭
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.div_WORK_grd_mvnPrearnDeTimeList_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var rowposition = this.ds_mvnPrearnDeTimeList.rowposition;
	this.ds_mvnPrearnDeTimeList.setColumn(rowposition, "RENT_MVN_PRARNDE", "");
	this.ds_mvnPrearnDeTimeList.setColumn(rowposition, "RENT_MVN_TIME", "");
	this.ds_mvnPrearnDeTimeList.setColumn(rowposition, "MVN_PREARNGE_TIME", "");
	
	this.fn_use_timeSnList();
}

/*
 * 함수명  	: div_WORK_grd_mvnOkTimeList_oncelldblclick
 * 설명 		: 입주가능일시 더블클릭
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.div_WORK_grd_mvnOkTimeList_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var rowposition = this.ds_mvnPrearnDeTimeList.rowposition;
	this.ds_mvnPrearnDeTimeList.copyRow(rowposition, this.ds_mvnDeTimeList, e.row, "RENT_MVN_PRARNDE=MVN_PRARNDE,RENT_MVN_TIME=PREARNGE_SN,MVN_PREARNGE_TIME=MVN_PREARNGE_TIME");
	
	this.fn_use_timeSnList();
}

/*
 * 함수명  	: div_WORK_btn_apply_onclick
 * 설명 		: 예외일시 지정
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.div_WORK_btn_apply_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var rowposition = this.ds_mvnPrearnDeTimeList.rowposition;
	this.ds_mvnPrearnDeTimeList.setColumn(rowposition, "RENT_MVN_PRARNDE", this.div_WORK.cal_exDate.value);
	this.ds_mvnPrearnDeTimeList.setColumn(rowposition, "RENT_MVN_TIME", this.div_WORK.cmb_exTime.value);
	this.ds_mvnPrearnDeTimeList.setColumn(rowposition, "MVN_PREARNGE_TIME", this.div_WORK.cmb_exTime.text);
	
	this.fn_use_timeSnList();	
}

/*
 * 함수명  	: div_WORK_btn_cancelLine_onclick
 * 설명 		: 동라인 목록 취소
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.div_WORK_btn_cancelLine_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(application.confirm("변경하신 모든 사항이 취소됩니다")){
		var ds = this.ds_dongFloorList;
		ds.reset();
		ds.applyChange();
	}
}
/***********************************************************************
* 사용자 정의 함수
************************************************************************/


/*
 * 함수명  	: fn_use_timeSnList
 * 설명 		: 입주가능한 일시만 그리드에 보여주도록..
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.fn_use_timeSnList = function(){
	var selectLine = this.ds_mvnPrearnDeTimeList.getColumn(this.ds_mvnPrearnDeTimeList.rowposition, "LINE_NO");

	var rentMvnTimeList = [];
	var rowcount = this.ds_mvnPrearnDeTimeList.rowcount;
	
	for(var i=0; i<rowcount; i++){
		var line = this.ds_mvnPrearnDeTimeList.getColumn(i, "LINE_NO");
		
		if(selectLine == line){
			var date = this.ds_mvnPrearnDeTimeList.getColumn(i, "RENT_MVN_PRARNDE");
			if(this.comUtils.isNullEmpty(date) == true) continue;
			rentMvnTimeList.push({date:date, time:this.ds_mvnPrearnDeTimeList.getColumn(i, "RENT_MVN_TIME")});
		}
	}
	
	var condition = "";
	
	var len = rentMvnTimeList.length;
	
	for(var i=0; i<len; i++){
		if(i > 0) condition += " && ";
		condition += "!(MVN_PRARNDE == " + rentMvnTimeList[i].date + " && PREARNGE_SN == " + rentMvnTimeList[i].time + ")";
	}

	this.debug(condition, true);
	
	this.ds_mvnDeTimeList.filter(condition);
}

this.btn_sameLine_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var houseCode = this.div_search.cmb_houseCode.value;
			
	var param = {
		arg_0 : this, 
		houseCode : houseCode,
	};	
	
	this.gfn_popup("houseSameLine"
       , 500
       , 500
       , "동일라인 지정"
       , param
       ,"pms_sls_hou_mvn::SLS050100_P01.xfdl");	
}

this.btn_regSchd_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var houseCode = this.div_search.cmb_houseCode.value;
			
	var param = {
		arg_0 : this, 
		houseCode : houseCode,
	};	
	
	this.gfn_popup("houseRegSchd"
       , 500
       , 500
       , "입주가능일 일괄등록"
       , param
       ,"pms_sls_hou_mvn::SLS050100_P02.xfdl");		
}



this.btn_status_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var houseCode = this.div_search.cmb_houseCode.value;
			
	var param = {
		arg_0 : this, 
		houseCode : houseCode,
	};	
	
	this.gfn_popup("houseStatus"
       , 500
       , 500
       , "입주일지정현황"
       , param
       ,"pms_sls_hou_mvn::SLS050100_P03.xfdl");	
}

this.div_WORK_cal_exDate_onchanged = function(obj:Calendar, e:nexacro.ChangeEventInfo)
{
	this.fn_transaction("sameDateList");	
}

this.ds_mvnPrearnDeTimeList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	
}
]]></Script>
  </Form>
</FDL>
