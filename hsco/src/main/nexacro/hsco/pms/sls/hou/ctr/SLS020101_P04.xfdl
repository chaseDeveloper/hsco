<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\..\default_typedef.xml"/>
  <Form id="SLS020201" classname="SLS020201" left="0" top="0" width="800" height="714" titletext="명의변경" oninit="SLS020201_oninit" onload="SLS020201_onload">
    <Layouts>
      <Layout>
        <Static id="Static02" taborder="13" text="주택정보" cssclass="sta_WF_Title02" left="8" top="104" width="130" height="19"/>
        <Static id="Static03" taborder="16" text="변경전 정보" cssclass="sta_WF_Title02" left="8" top="159" width="130" height="19"/>
        <Div id="div_hcntCtrSeizrInfo" taborder="3" left="8" top="178" width="391" height="221" style="border:0 none #808080ff ;" enable="true">
          <Layouts>
            <Layout>
              <Static id="Static05" taborder="291" cssclass="sta_WF_Labelbg" left="0" top="78" right="6" height="27"/>
              <Static id="Static17" taborder="292" cssclass="sta_WF_Labelbg" left="0" top="0" right="6" height="27"/>
              <Static id="Static15" taborder="294" text="계약자명" cssclass="sta_WF_Label" left="0" top="0" width="72" height="27"/>
              <Static id="Static20" taborder="295" text="2" visible="false" top="50" right="191" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static00" taborder="296" cssclass="sta_WF_Labelbg" left="0" top="52" right="6" height="27"/>
              <Static id="Static02" taborder="297" text="주소" cssclass="sta_WF_Label" left="0" top="52" width="72" height="54"/>
              <Static id="Static04" taborder="298" text="2" visible="false" top="50" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Edit id="edt_crdtrAdres" taborder="2" left="74" top="55" width="50" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff;" enable="false"/>
              <Static id="Static08" taborder="300" text="2" visible="false" top="76" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static09" taborder="301" cssclass="sta_WF_Labelbg" left="0" top="104" right="6" height="27"/>
              <Static id="Static10" taborder="302" text="기   타&#13;&#10;연락처" cssclass="sta_WF_Label" left="0" top="104" width="72" height="27"/>
              <Static id="Static11" taborder="303" text="전화번호" cssclass="sta_WF_Label" left="192" top="104" width="71" height="27"/>
              <Static id="Static12" taborder="304" text="2" visible="false" top="102" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static13" taborder="305" cssclass="sta_WF_Labelbg" left="0" top="130" right="6" height="27"/>
              <Static id="Static16" taborder="306" text="휴대전화" cssclass="sta_WF_Label" left="0" top="130" width="72" height="27"/>
              <Static id="Static22" taborder="307" text="2" visible="false" top="128" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static23" taborder="308" cssclass="sta_WF_Labelbg" left="0" top="156" right="6" height="27"/>
              <Static id="Static24" taborder="309" text="자격구분" cssclass="sta_WF_Label" left="0" top="156" width="72" height="27"/>
              <Static id="Static26" taborder="310" text="2" visible="false" top="154" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static30" taborder="312" text="2" visible="false" top="180" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static01" taborder="315" text="2" visible="false" top="24" right="-1" bottom="-1" width="3" style="background:#00ffff66;"/>
              <Edit id="edt_nm" taborder="0" left="74" top="3" width="116" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff;" enable="false"/>
              <Static id="Static03" taborder="317" text="주민번호" cssclass="sta_WF_Label" left="192" top="0" width="71" height="27"/>
              <Static id="Static18" taborder="318" text="2" visible="false" top="-3" right="191" bottom="318" width="2" style="background:#00ffff66;"/>
              <MaskEdit id="mae_IHIDNUM" taborder="1" type="string" mask="######-#{#####}" left="265" top="3" width="116" height="21" cssclass="msk_WF_Readonly" readonly="true" enable="false" style=":disabled {align:center middle;}"/>
              <Static id="Static21" taborder="322" text="주민번호" cssclass="sta_WF_Label" left="192" top="130" width="71" height="27"/>
              <Edit id="edt_crdtrAdres00" taborder="3" left="126" top="55" width="255" height="21" style="background:#f0f0f0ff;" readonly="true" cssclass="edt_WF_Readonly" enable="false"/>
              <Edit id="edt_crdtrAdres01" taborder="4" left="74" top="80" width="307" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff;" enable="false"/>
              <Static id="Static06" taborder="328" text="이메일" cssclass="sta_WF_Label" left="192" top="130" width="71" height="27"/>
              <Edit id="edt_incdntCn02" taborder="8" left="265" top="133" width="116" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff;" enable="false"/>
              <Combo id="cmb_seizrSe00" taborder="9" innerdataset="@ds_qualfSe" codecolumn="CODE" datacolumn="CODE_NM" left="74" top="159" width="116" height="21" style="background:#f0f0f0ff;" cssclass="cmb_WF_Readonly" readonly="true" enable="false"/>
              <Edit id="edt_incdntCn00" taborder="5" readonly="true" cssclass="edt_WF_Readonly" left="74" top="107" width="116" height="21" style="background:#f0f0f0ff;" enable="false"/>
              <Edit id="edt_incdntCn03" taborder="7" readonly="true" cssclass="edt_WF_Readonly" left="74" top="133" width="116" height="21" style="background:#f0f0f0ff;" enable="false"/>
              <Edit id="edt_incdntCn04" taborder="6" readonly="true" cssclass="edt_WF_Readonly" left="265" top="107" width="116" height="21" style="background:#f0f0f0ff;" enable="false"/>
              <Static id="Static07" taborder="329" cssclass="sta_WF_Labelbg" left="0" top="26" right="6" height="27"/>
              <Static id="Static25" taborder="330" text="계약자2" cssclass="sta_WF_Label" left="0" top="26" width="72" height="27"/>
              <Edit id="edt_nm00" taborder="331" readonly="true" cssclass="edt_WF_Readonly" enable="false" left="74" top="29" width="116" height="21" style="background:#f0f0f0ff;"/>
              <Static id="Static27" taborder="332" text="주민번호" cssclass="sta_WF_Label" left="192" top="26" width="71" height="27"/>
              <MaskEdit id="mae_IHIDNUM00" taborder="333" readonly="true" type="string" mask="######-#{#####}" cssclass="msk_WF_Readonly" enable="false" left="265" top="29" width="116" height="21" style=":disabled {align:center middle;}"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Div id="div_hcntCtrSeizrInfo01" taborder="4" left="8" top="367" width="385" height="81" style="border:0 none #808080ff ;" enable="true">
          <Layouts>
            <Layout>
              <Static id="Static17" taborder="334" cssclass="sta_WF_Labelbg" left="0" top="0" right="0" height="27"/>
              <Static id="Static14" taborder="335" cssclass="sta_WF_Labelbg" left="0" top="26" right="0" height="27"/>
              <Static id="Static15" taborder="336" text="대출" cssclass="sta_WF_Label" left="0" top="0" width="72" height="27"/>
              <Static id="Static20" taborder="9" text="2" visible="false" top="24" right="191" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static00" taborder="8" cssclass="sta_WF_Labelbg" left="0" top="52" right="0" height="27"/>
              <Static id="Static02" taborder="339" text="국주기금" cssclass="sta_WF_Label" left="0" top="52" width="72" height="27"/>
              <Static id="Static04" taborder="340" text="2" visible="false" top="50" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static08" taborder="342" text="2" visible="false" top="76" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static01" taborder="354" text="2" visible="false" top="72" right="-1" bottom="-49" width="3" style="background:#00ffff66;"/>
              <Static id="Static18" taborder="357" text="2" visible="false" top="-109" right="191" bottom="160" width="2" style="background:#00ffff66;"/>
              <Static id="Static19" taborder="359" text="압류" cssclass="sta_WF_Label" left="0" top="26" width="72" height="27"/>
              <MaskEdit id="mse_rntChrg01" taborder="2" mask="###,###,###,###" left="280" top="3" width="101" height="21" cssclass="msk_WF_Readonly" readonly="true" style="background:#f0f0f0ff; :disabled {color:red;}" enable="false"/>
              <MaskEdit id="mse_rntChrg04" taborder="5" mask="###,###,###,###" left="280" top="28" width="101" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff; :disabled {color:red;}" enable="false"/>
              <MaskEdit id="mse_rntChrg06" taborder="7" mask="###,###,###,###" left="177" top="55" width="204" height="21" cssclass="msk_WF_Readonly" readonly="true" style="background:#f0f0f0ff; :disabled {color:red;}" enable="false"/>
              <Edit id="edt_incdntCn00" taborder="0" left="74" top="3" width="101" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff; :disabled {color:red;}" enable="false"/>
              <Edit id="edt_incdntCn01" taborder="1" left="177" top="3" width="101" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff; :disabled {color:red;}" enable="false"/>
              <Edit id="edt_incdntCn02" taborder="3" left="74" top="28" width="101" height="21" style="background:#f0f0f0ff; :disabled {color:red;}" readonly="true" cssclass="edt_WF_Readonly" enable="false"/>
              <Edit id="edt_incdntCn03" taborder="4" left="177" top="28" width="101" height="21" cssclass="edt_WF_Readonly" readonly="true" style="background:#f0f0f0ff; :disabled {color:red;}" enable="false"/>
              <Edit id="edt_incdntCn04" taborder="6" readonly="true" cssclass="edt_WF_Readonly" left="74" top="55" width="101" height="21" style="background:#f0f0f0ff; :disabled {color:red;}" enable="false"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Div id="div_hcntCtrSeizrInfo02" taborder="5" left="403" top="178" width="385" height="296" style="border:0 none #808080ff ;" enable="true">
          <Layouts>
            <Layout>
              <Static id="Static05" taborder="343" cssclass="sta_WF_Labelbg" left="0" top="102" right="0" height="27"/>
              <Static id="Static17" taborder="344" cssclass="sta_WF_Labelbg" left="0" top="0" right="0" height="27"/>
              <Static id="Static14" taborder="345" cssclass="sta_WF_Labelbg" left="0" top="26" right="0" height="27"/>
              <Static id="Static15" taborder="346" text="변경일자" cssclass="sta_WF_Label" left="0" top="0" width="72" height="27"/>
              <Static id="Static20" taborder="347" text="2" visible="false" top="24" right="191" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static00" taborder="348" cssclass="sta_WF_Labelbg" left="0" top="78" right="0" height="27"/>
              <Static id="Static02" taborder="349" text="주소" cssclass="sta_WF_Label" left="0" top="78" width="72" height="54"/>
              <Static id="Static04" taborder="350" text="2" visible="false" top="102" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Edit id="edt_crdtrAdres" taborder="6" left="74" top="81" width="80" height="21" readonly="true" style="background:#ffffffff;"/>
              <Static id="Static08" taborder="352" text="2" visible="false" top="128" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static09" taborder="353" cssclass="sta_WF_Labelbg" left="0" top="128" right="0" height="27"/>
              <Static id="Static10" taborder="354" text="기   타&#13;&#10;연락처" cssclass="sta_WF_Label" left="0" top="128" width="72" height="27"/>
              <Static id="Static11" taborder="355" text="전화번호" cssclass="sta_WF_Label" left="192" top="128" width="71" height="27"/>
              <Static id="Static12" taborder="356" text="2" visible="false" top="154" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static13" taborder="357" cssclass="sta_WF_Labelbg" left="0" top="154" right="0" height="27"/>
              <Static id="Static16" taborder="358" text="휴대전화" cssclass="sta_WF_Label" left="0" top="154" width="72" height="27"/>
              <Static id="Static22" taborder="359" text="2" visible="false" top="180" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static23" taborder="360" cssclass="sta_WF_Labelbg" left="0" top="180" right="0" height="27"/>
              <Static id="Static24" taborder="361" text="비고" cssclass="sta_WF_Label" left="0" top="180" width="72" height="27"/>
              <Static id="Static26" taborder="362" text="2" visible="false" top="206" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static27" taborder="363" cssclass="sta_WF_Labelbg" left="0" top="206" right="0" height="27"/>
              <Static id="Static30" taborder="366" text="2" visible="false" top="254" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static01" taborder="376" text="2" visible="false" top="24" right="-1" bottom="-1" width="3" style="background:#00ffff66;"/>
              <Static id="Static03" taborder="380" text="변경사유" cssclass="sta_WF_Label" left="192" top="0" width="71" height="27"/>
              <Static id="Static18" taborder="381" text="2" visible="false" top="-3" right="191" bottom="318" width="2" style="background:#00ffff66;"/>
              <Static id="Static19" taborder="383" text="계약자명" cssclass="sta_WF_Label" left="0" top="26" width="72" height="27"/>
              <Edit id="edt_nmAf" taborder="2" left="74" top="29" width="116" height="21" readonly="true" style="background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;" cssclass="edt_WF_Essential"/>
              <MaskEdit id="mae_crdtrTelno03" taborder="3" type="string" mask="######-#{#####}" left="265" top="29" width="116" height="21" readonly="true" style="background:#ffffffff;align:center middle;" onlbuttondown="div_hcntCtrSeizrInfo02_mae_crdtrTelno03_onlbuttondown" onlbuttonup="div_hcntCtrSeizrInfo02_mae_crdtrTelno03_onlbuttonup"/>
              <Edit id="edt_crdtrAdres00" taborder="7" left="156" top="81" width="225" height="21" readonly="true" style="background:#ffffffff;"/>
              <Edit id="edt_crdtrAdres01" taborder="8" left="74" top="106" width="307" height="21" readonly="true" style="background:#ffffffff;"/>
              <Static id="Static06" taborder="391" text="이메일" cssclass="sta_WF_Label" left="192" top="154" width="71" height="27"/>
              <Edit id="edt_incdntCn02" taborder="12" left="265" top="157" width="116" height="21" readonly="true" style="background:#ffffffff;" maxlength="30"/>
              <Calendar id="cal_relisRceptDe00" taborder="0" dateformat="yyyy-MM-dd" left="74" top="3" width="116" height="21" style="background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;border:1 solid #f1b54dff ;" readonly="true" enable="true" cssclass="cal_WF_Essential"/>
              <Combo id="cmb_seizrSe01" taborder="1" innerdataset="@ds_chghyCode" codecolumn="CODE" datacolumn="CODE_NM" left="265" top="3" width="116" height="21" onitemchanged="div_hcntCtrSeizrInfo02_cmb_seizrSe01_onitemchanged" enable="true" cssclass="cmb_WF_Essential" style=":disabled {background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;border:1 solid #f1b54dff ;color:#333333ff;}"/>
              <Static id="Static07" taborder="397" text="주민번호" cssclass="sta_WF_Label" left="192" top="26" width="71" height="27"/>
              <Static id="Static37" taborder="399" text="2" visible="false" top="76" right="191" width="120" height="2" style="background:#00ffff66;"/>
              <Edit id="edt_rm" taborder="13" left="74" top="183" width="307" height="21" readonly="true" lengthunit="utf8" maxlength="200"/>
              <Static id="Static43" taborder="407" text="첨부파일" cssclass="sta_WF_Label" left="0" top="206" width="72" height="27"/>
              <Static id="Static28" taborder="410" cssclass="sta_WF_Labelbg" left="0" top="232" right="0" height="27"/>
              <Static id="Static29" taborder="411" text="최초등록" cssclass="sta_WF_Label" left="0" top="232" width="72" height="27"/>
              <Static id="Static31" taborder="412" text="2" visible="false" top="258" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static32" taborder="413" text="2" visible="false" top="252" right="213" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static33" taborder="414" text="최종수정" cssclass="sta_WF_Label" left="192" top="232" width="71" height="27"/>
              <Calendar id="cal_relisRceptDe01" taborder="15" dateformat="yyyy-MM-dd" left="74" top="235" width="116" height="21" enable="false" style="color:#b6b6b6ff;" readonly="true"/>
              <Calendar id="cal_relisRceptDe02" taborder="16" dateformat="yyyy-MM-dd" left="265" top="235" width="116" height="21" enable="false" style="background:#f0f0f0ff;color:#b6b6b6ff;" readonly="true"/>
              <Static id="Static36" taborder="419" text="2" visible="false" top="96" right="191" width="120" height="2" style="background:#00ffff66;"/>
              <Button id="btn_cstmrSearch" taborder="423" cssclass="btn_WF_Search" left="168" top="28" width="21" height="21" enable="true" onclick="div_hcntCtrSeizrInfo02_btn_cstmrSearch_onclick"/>
              <Edit id="edt_crdtrAdres03" taborder="9" readonly="true" left="74" top="131" width="116" height="21" style="background:#ffffffff;" enable="true" maxlength="12" inputtype="number"/>
              <Edit id="edt_crdtrAdres04" taborder="10" readonly="true" left="265" top="131" width="116" height="21" style="background:#ffffffff;"/>
              <Edit id="edt_crdtrAdres05" taborder="11" readonly="true" left="74" top="157" width="116" height="21" style="background:#ffffffff;" inputtype="number" maxlength="11"/>
              <Edit id="edt_ctrtcFile" taborder="14" readonly="true" cssclass="edt_WF_Readonly" left="74" top="209" width="189" height="21" style="padding:1 6 0 6;" oneditclick="div_hcntCtrSeizrInfo02_edt_ctrtcFile_oneditclick"/>
              <Button id="btn_atchFile" taborder="425" text="파일첨부" onclick="btn_atchFile_onclick" left="265" top="209" width="52" height="21" style="font:8 Gulim;"/>
              <Button id="btn_downAtchFile" taborder="426" text="다운로드" onclick="btn_downAtchFile_onclick" left="319" top="209" width="49" height="21" style="font:8 Gulim;"/>
              <Static id="Static21" taborder="427" cssclass="sta_WF_Labelbg" left="0" top="52" right="0" height="27"/>
              <Static id="Static34" taborder="428" text="2" visible="false" top="42" right="199" width="120" height="2" style="background:#00ffff66;"/>
              <Static id="Static35" taborder="429" text="계약자2" cssclass="sta_WF_Label" left="0" top="52" width="72" height="27"/>
              <Edit id="edt_nmSubAf" taborder="4" left="74" top="55" width="116" height="21" readonly="true"/>
              <MaskEdit id="mae_crdtrTelno00" taborder="5" readonly="true" type="string" mask="######-#{#####}" left="265" top="55" width="116" height="21" style="background:#ffffffff;align:center middle;" onlbuttondown="div_hcntCtrSeizrInfo02_mae_crdtrTelno03_onlbuttondown" onlbuttonup="div_hcntCtrSeizrInfo02_mae_crdtrTelno03_onlbuttonup"/>
              <Static id="Static38" taborder="432" text="주민번호" cssclass="sta_WF_Label" left="192" top="52" width="71" height="27"/>
              <Button id="btn_cstmrSearch2" taborder="433" onclick="div_hcntCtrSeizrInfo02_btn_cstmrSearch2_onclick" cssclass="btn_WF_Search" enable="true" left="168" top="55" width="21" height="21"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Grid id="grd_intrtList" taborder="6" binddataset="ds_hcntrctrChangeList" autoenter="select" useinputpanel="false" cellsizingtype="col" left="8" top="475" style=":disabled {background:#ffffffff;}" autoupdatetype="itemselect" height="237" width="780" oncelldblclick="grd_intrtList_oncelldblclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="30"/>
                <Column size="52"/>
                <Column size="110"/>
                <Column size="112"/>
                <Column size="106"/>
                <Column size="106"/>
                <Column size="112"/>
                <Column size="112"/>
                <Column size="112"/>
                <Column size="106"/>
                <Column size="106"/>
                <Column size="93"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24" band="head"/>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell rowspan="3" displaytype="checkbox"/>
                <Cell col="1" colspan="2" text="구분"/>
                <Cell col="3" colspan="5" text="변경 전 내역"/>
                <Cell col="8" colspan="3" text="변경 후 내역"/>
                <Cell col="11" text="처리자"/>
                <Cell row="1" col="1" rowspan="2" text="순번"/>
                <Cell row="1" col="2" text="변경일자"/>
                <Cell row="1" col="3" text="성명"/>
                <Cell row="1" col="4" text="주민번호"/>
                <Cell row="1" col="5" text="전화번호"/>
                <Cell row="1" col="6" text="계약자2"/>
                <Cell row="1" col="7" text="주민번호"/>
                <Cell row="1" col="8" text="성명"/>
                <Cell row="1" col="9" text="주민번호"/>
                <Cell row="1" col="10" text="전화번호"/>
                <Cell row="1" col="11" text="등록자"/>
                <Cell row="2" col="2" text="내부결재"/>
                <Cell row="2" col="3" colspan="3" text="주소"/>
                <Cell row="2" col="6"/>
                <Cell row="2" col="7"/>
                <Cell row="2" col="8" colspan="3" text="주소"/>
                <Cell row="2" col="11" text="수정자"/>
              </Band>
              <Band id="body">
                <Cell rowspan="2" displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                <Cell col="1" rowspan="2" text="bind:CHANGE_SN"/>
                <Cell col="2" displaytype="date" edittype="none" text="bind:CHANGE_DE" combodisplay="edit" calendardisplay="display" calendardisplaynulltype="none"/>
                <Cell col="3" text="bind:NM_BF"/>
                <Cell col="4" displaytype="text" edittype="none" text="bind:IHIDNUM_BF" mask="######-#{######}" combodisplay="display"/>
                <Cell col="5" displaytype="text" edittype="none" text="bind:TELNO_BF" calendardisplaynulltype="none"/>
                <Cell col="6" text="bind:NM_SUB_BF"/>
                <Cell col="7" displaytype="text" edittype="none" text="bind:IHIDNUM_SUB_BF" mask="######-#{######}"/>
                <Cell col="8" edittype="none" text="bind:NM_AF"/>
                <Cell col="9" displaytype="text" edittype="none" text="bind:IHIDNUM_AF" mask="######-#{######}"/>
                <Cell col="10" displaytype="text" edittype="none" text="bind:TELNO_AF"/>
                <Cell col="11" edittype="none" text="bind:REGISTER_ID"/>
                <Cell row="1" col="2" displaytype="image" text="bind:LAST_SANCTNSTS_IMG"/>
                <Cell row="1" col="3" colspan="3" text="bind:ADRES_TT_BF"/>
                <Cell row="1" col="6"/>
                <Cell row="1" col="7"/>
                <Cell row="1" col="8" colspan="3" text="bind:ADRES_TT_AF"/>
                <Cell row="1" col="11" text="bind:UPDUSR_ID"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static09" taborder="27" text="변경후 정보" cssclass="sta_WF_Title02" left="403" top="159" width="130" height="19"/>
        <Static id="sta_popTitle" taborder="28" text="명의변경" cssclass="sta_WF_PopupTitle" left="0" top="0" height="34" right="0"/>
        <Button id="btn_xClose" taborder="29" onclick="btn_quit_onclick" cssclass="btn_WF_PopupClose" left="761" top="7" width="20" height="20"/>
        <Button id="btn_quit" taborder="31" text="종료" cssclass="btn_WF_CRUD" left="737" top="51" width="50" height="25" userdata="fn_search" onclick="btn_quit_onclick"/>
        <Div id="div_houseTyInfo" taborder="33" left="8" top="123" height="29" style="border:0 none #808080ff ;" width="780">
          <Layouts>
            <Layout>
              <Static id="Static19" taborder="132" cssclass="sta_WF_Labelbg" left="0" top="0" height="27" width="780"/>
              <Static id="Static47" taborder="133" text="주택코드" cssclass="sta_WF_Label" left="0" top="0" width="72" height="27"/>
              <Static id="Static21" taborder="135" text="2" visible="false" top="-2" right="263" bottom="2" width="2" style="background:#00ffff66;"/>
              <Edit id="edt_houseTyCodeR" taborder="136" readonly="true" cssclass="edt_WF_Readonly" left="73" top="3" width="148" height="21"/>
              <Static id="Static00" taborder="137" text="동/호" cssclass="sta_WF_Label" left="222" top="0" width="72" height="27"/>
              <Edit id="edt_dongR" taborder="138" readonly="true" cssclass="edt_WF_Readonly" left="296" top="3" width="53" height="21"/>
              <Edit id="edt_hoR" taborder="139" readonly="true" cssclass="edt_WF_Readonly" left="351" top="3" width="55" height="21"/>
              <Static id="Static01" taborder="140" text="계약자" cssclass="sta_WF_Label" left="408" top="0" width="72" height="27"/>
              <Edit id="edt_nmR" taborder="141" readonly="true" cssclass="edt_WF_Readonly" left="482" top="3" width="294" height="21"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Static id="Static00" taborder="34" text="변경이력" cssclass="sta_WF_Title02" left="8" top="454" width="130" height="19"/>
        <Button id="btn_popUp01" taborder="35" text="신청서" onclick="div_houseTyInfo_btn_popUp01_onclick" cssclass="btn_WF_Link" left="733" top="91" width="53" height="21" style="background:@gradation;border:1 solid #c5ab6eff ;color:#804500ff;bordertype:round 2 2 ;gradation:linear 0,0 #fff7e8ff 0,100 #ebe9e2ff;"/>
        <Button id="btn_contDoc" taborder="36" text="승계계약서" cssclass="btn_WF_Link" left="640" top="91" width="86" height="21" style="background:@gradation;border:1 solid #c5ab6eff ;color:#804500ff;bordertype:round 2 2 ;gradation:linear 0,0 #fff7e8ff 0,100 #ebe9e2ff;" onclick="btn_contDoc_onclick"/>
        <Button id="btn_insert" taborder="38" text="신규" cssclass="btn_WF_CRUD" left="513" top="51" width="50" height="25" userdata="fn_search" onclick="fn_insert"/>
        <Button id="btn_appr" taborder="39" text="결재" cssclass="btn_WF_CRUD" left="681" top="51" width="50" height="25" userdata="fn_search" onclick="btn_appr_onclick"/>
        <Static id="Static01" taborder="40" text="명의변경" cssclass="sta_WF_Title01" left="7" top="50" right="463" height="19"/>
        <Button id="btn_delete" taborder="41" text="삭제" onclick="fn_rollback" cssclass="btn_WF_CRUD" left="625" top="51" width="50" height="25" userdata="fn_search"/>
        <Button id="btn_saveOnly" taborder="42" text="저장" cssclass="btn_WF_CRUD" left="569" top="51" width="50" height="25" userdata="fn_search" onclick="btn_saveOnly_onclick"/>
        <Static id="Static14" taborder="43" text="5" left="15" top="81" right="15" height="1" style="background:#6e9bc5ff;border:0 solid #6e9bc5ff ;color:gray;align:center middle;"/>
        <Static id="Static04" taborder="44" text="10" visible="false" left="0" top="76" right="0" height="10" style="background:#dc143c3c;align:center middle;"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item4" compid="div_houseTyInfo.edt_houseTyCodeR" propid="value" datasetid="ds_cond01" columnid="ALL_HOUSE_NM"/>
      <BindItem id="item5" compid="div_houseTyInfo.edt_dongR" propid="value" datasetid="ds_cond01" columnid="DONG"/>
      <BindItem id="item6" compid="div_houseTyInfo.edt_hoR" propid="value" datasetid="ds_cond01" columnid="HO"/>
      <BindItem id="item8" compid="div_houseTyInfo.edt_nmR" propid="value" datasetid="ds_cond01" columnid="CNTRCTR_NM"/>
      <BindItem id="item9" compid="div_hcntCtrSeizrInfo01.mse_rntChrg01" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_LON_AMOUNT"/>
      <BindItem id="item12" compid="div_hcntCtrSeizrInfo01.mse_rntChrg04" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_SEIZR_AMOUNT"/>
      <BindItem id="item14" compid="div_hcntCtrSeizrInfo01.mse_rntChrg06" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_KJF_AMOUNT"/>
      <BindItem id="item1" compid="div_hcntCtrSeizrInfo.edt_nm" propid="value" datasetid="ds_hcntrctrChangeList" columnid="NM_BF"/>
      <BindItem id="item10" compid="div_hcntCtrSeizrInfo.mae_IHIDNUM" propid="value" datasetid="ds_hcntrctrChangeList" columnid="IHIDNUM_BF"/>
      <BindItem id="item11" compid="div_hcntCtrSeizrInfo.edt_crdtrAdres" propid="value" datasetid="ds_hcntrctrChangeList" columnid="ZIP_BF"/>
      <BindItem id="item13" compid="div_hcntCtrSeizrInfo.edt_crdtrAdres00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="ADRES_BF"/>
      <BindItem id="item15" compid="div_hcntCtrSeizrInfo.edt_crdtrAdres01" propid="value" datasetid="ds_hcntrctrChangeList" columnid="ADRES_DETAIL_BF"/>
      <BindItem id="item18" compid="div_hcntCtrSeizrInfo.edt_incdntCn02" propid="value" datasetid="ds_hcntrctrChangeList" columnid="EMAIL_BF"/>
      <BindItem id="item20" compid="div_hcntCtrSeizrInfo02.cal_relisRceptDe00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="CHANGE_DE"/>
      <BindItem id="item21" compid="div_hcntCtrSeizrInfo02.edt_nmAf" propid="value" datasetid="ds_hcntrctrChangeList" columnid="NM_AF"/>
      <BindItem id="item22" compid="div_hcntCtrSeizrInfo02.mae_crdtrTelno03" propid="value" datasetid="ds_hcntrctrChangeList" columnid="IHIDNUM_AF"/>
      <BindItem id="item23" compid="div_hcntCtrSeizrInfo02.edt_crdtrAdres" propid="value" datasetid="ds_hcntrctrChangeList" columnid="ZIP_AF"/>
      <BindItem id="item24" compid="div_hcntCtrSeizrInfo02.edt_crdtrAdres00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="ADRES_AF"/>
      <BindItem id="item25" compid="div_hcntCtrSeizrInfo02.edt_crdtrAdres01" propid="value" datasetid="ds_hcntrctrChangeList" columnid="ADRES_DETAIL_AF"/>
      <BindItem id="item29" compid="div_hcntCtrSeizrInfo02.edt_incdntCn02" propid="value" datasetid="ds_hcntrctrChangeList" columnid="EMAIL_AF"/>
      <BindItem id="item30" compid="div_hcntCtrSeizrInfo02.edt_rm" propid="value" datasetid="ds_hcntrctrChangeList" columnid="RM"/>
      <BindItem id="item32" compid="div_hcntCtrSeizrInfo02.cal_relisRceptDe01" propid="value" datasetid="ds_hcntrctrChangeList" columnid="REGIST_DT"/>
      <BindItem id="item33" compid="div_hcntCtrSeizrInfo02.cal_relisRceptDe02" propid="value" datasetid="ds_hcntrctrChangeList" columnid="UPDT_DT"/>
      <BindItem id="item34" compid="div_hcntCtrSeizrInfo01.edt_incdntCn00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_LON_BANK"/>
      <BindItem id="item35" compid="div_hcntCtrSeizrInfo01.edt_incdntCn01" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_LON_DE"/>
      <BindItem id="item36" compid="div_hcntCtrSeizrInfo01.edt_incdntCn02" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_SEIZR_CRDTR_NM"/>
      <BindItem id="item37" compid="div_hcntCtrSeizrInfo01.edt_incdntCn03" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_SEIZR_DE"/>
      <BindItem id="item38" compid="div_hcntCtrSeizrInfo01.edt_incdntCn04" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_KJF_DE"/>
      <BindItem id="item39" compid="div_hcntCtrSeizrInfo02.cmb_seizrSe01" propid="value" datasetid="ds_hcntrctrChangeList" columnid="CHGHY_CODE"/>
      <BindItem id="item26" compid="div_hcntCtrSeizrInfo02.edt_crdtrAdres03" propid="value" datasetid="ds_hcntrctrChangeList" columnid="CTTPC_AFTCH"/>
      <BindItem id="item27" compid="div_hcntCtrSeizrInfo02.edt_crdtrAdres04" propid="value" datasetid="ds_hcntrctrChangeList" columnid="TELNO_AF"/>
      <BindItem id="item28" compid="div_hcntCtrSeizrInfo02.edt_crdtrAdres05" propid="value" datasetid="ds_hcntrctrChangeList" columnid="MBTLNO_AF"/>
      <BindItem id="item16" compid="div_hcntCtrSeizrInfo.edt_incdntCn00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="CTTPC_BFCHG"/>
      <BindItem id="item17" compid="div_hcntCtrSeizrInfo.edt_incdntCn03" propid="value" datasetid="ds_hcntrctrChangeList" columnid="MBTLNO_BF"/>
      <BindItem id="item19" compid="div_hcntCtrSeizrInfo.edt_incdntCn04" propid="value" datasetid="ds_hcntrctrChangeList" columnid="TELNO_BF"/>
      <BindItem id="item40" compid="div_hcntCtrSeizrInfo.cmb_seizrSe00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="BFCHG_QUALF_SE"/>
      <BindItem id="item0" compid="div_hcntCtrSeizrInfo02.edt_ctrtcFile" propid="value" datasetid="ds_hcntrctrChangeList" columnid="ORGINL_FILE_NM"/>
      <BindItem id="item2" compid="div_hcntCtrSeizrInfo.edt_nm00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="NM_SUB_BF"/>
      <BindItem id="item3" compid="div_hcntCtrSeizrInfo.mae_IHIDNUM00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="IHIDNUM_SUB_BF"/>
      <BindItem id="item7" compid="div_hcntCtrSeizrInfo02.edt_nmSubAf" propid="value" datasetid="ds_hcntrctrChangeList" columnid="NM_SUB_AF"/>
      <BindItem id="item31" compid="div_hcntCtrSeizrInfo02.mae_crdtrTelno00" propid="value" datasetid="ds_hcntrctrChangeList" columnid="IHIDNUM_SUB_AF"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_SE" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG_HO" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="AEA" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_STTUS_CODE" type="STRING" size="256"/>
          <Column id="CNTRCTR_STTUS_AT" type="STRING" size="1"/>
          <Column id="RENT_LTTOT_CNVRS_AT" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">div_search</Col>
            <Col id="colId">cmb_houseCodeCmb</Col>
            <Col id="notNull">N</Col>
            <Col id="msgId">주택코드</Col>
            <Col id="type"/>
          </Row>
          <Row>
            <Col id="compId">ds_hcntrctrChangeList</Col>
            <Col id="colId">CHANGE_DE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">변경일자</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hcntrctrChangeList</Col>
            <Col id="colId">CHGHY_CODE</Col>
            <Col id="msgId">변경사유</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hcntrctrChangeList</Col>
            <Col id="colId">NM_AF</Col>
            <Col id="msgId">계약자</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cmbHouseCodeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="ALL_HOUSE_NM" type="STRING" size="256"/>
          <Column id="HOUSE_SE" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmbDongHoList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="DONG_HO" type="STRING" size="256"/>
          <Column id="HOUSE_TY_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmbTyAeaList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="AEA" type="STRING" size="256"/>
          <Column id="AEA_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hcntrctrList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_hcntrctrList_onrowposchanged">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="ALL_HOUSE_NM" type="STRING" size="256"/>
          <Column id="HOUSE_SE" type="STRING" size="256"/>
          <Column id="HOUSE_TY_CODE" type="STRING" size="256"/>
          <Column id="DONG_HO" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="AEA" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="SU_NM" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CNTRCTR_STTUS_CODE" type="STRING" size="256"/>
          <!--
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="HOUSE_CODE_NM" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="DONG_HO" type="STRING" size="256"/>
          <Column id="FLOOR" type="STRING" size="256"/>
          <Column id="HOUSE_TY_CODE" type="STRING" size="256"/>
          <Column id="TY_AEA" type="STRING" size="256"/>
          <Column id="AEA" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO_CANCL" type="STRING" size="256"/>
          -->
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="ALL_HOUSE_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_NM" type="STRING" size="256"/>
          <Column id="HOUSE_TYPE_SE" type="STRING" size="256"/>
          <Column id="CHANGE_SE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_hcntrctrChangeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_hcntrctrChangeList_onrowposchanged">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CHANGE_SE" type="STRING" size="256"/>
          <Column id="CHANGE_SN" type="STRING" size="256"/>
          <Column id="CHANGE_DE" type="STRING" size="256"/>
          <Column id="CHGHY_CODE" type="STRING" size="256"/>
          <Column id="CHGHY_NM" type="STRING" size="256"/>
          <Column id="CHANGE_ATCHMNFL_COURS" type="STRING" size="256"/>
          <Column id="CHANGE_ATCHMNFL" type="STRING" size="256"/>
          <Column id="CONFM_COMPT_AT" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_BFCHG" type="STRING" size="256"/>
          <Column id="BFCHG_BDNBR" type="STRING" size="256"/>
          <Column id="BFCHG_NMCHANGE_SN" type="STRING" size="256"/>
          <Column id="BFCHG_QUALF_SE" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_DE" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_RCIV_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_LON_DE" type="STRING" size="256"/>
          <Column id="BFCHG_LON_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_LON_BANK" type="STRING" size="256"/>
          <Column id="BFCHG_KJF_DE" type="STRING" size="256"/>
          <Column id="BFCHG_KJF_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_CRDTR_NM" type="STRING" size="256"/>
          <Column id="BFCHG_RM" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO" type="STRING" size="256"/>
          <Column id="APPLC_AT" type="STRING" size="256"/>
          <Column id="CTTPC_BFCHG" type="STRING" size="256"/>
          <Column id="CTTPC_AFTCH" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="REGIST_DT2" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_BF" type="STRING" size="256"/>
          <Column id="NM_BF" type="STRING" size="256"/>
          <Column id="IHIDNUM_BF" type="STRING" size="256"/>
          <Column id="ZIP_BF" type="STRING" size="256"/>
          <Column id="ADRES_BF" type="STRING" size="256"/>
          <Column id="ADRES_DETAIL_BF" type="STRING" size="256"/>
          <Column id="TELNO_BF" type="STRING" size="256"/>
          <Column id="MBTLNO_BF" type="STRING" size="256"/>
          <Column id="EMAIL_BF" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_AF" type="STRING" size="256"/>
          <Column id="NM_AF" type="STRING" size="256"/>
          <Column id="IHIDNUM_AF" type="STRING" size="256"/>
          <Column id="ZIP_AF" type="STRING" size="256"/>
          <Column id="ADRES_AF" type="STRING" size="256"/>
          <Column id="ADRES_DETAIL_AF" type="STRING" size="256"/>
          <Column id="TELNO_AF" type="STRING" size="256"/>
          <Column id="MBTLNO_AF" type="STRING" size="256"/>
          <Column id="EMAIL_AF" type="STRING" size="256"/>
          <Column id="ADRES_TT_BF" type="STRING" size="256"/>
          <Column id="ADRES_TT_AF" type="STRING" size="256"/>
          <Column id="BFCHG_CTRTC_FILE_COURS" type="STRING" size="256"/>
          <Column id="BFCHG_CTRTC_FILE" type="STRING" size="256"/>
          <Column id="CNTRCT_DE" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="FILE_ORDR" type="STRING" size="256"/>
          <Column id="FILE_STRE_COURS" type="STRING" size="256"/>
          <Column id="STRE_FILE_NM" type="STRING" size="256"/>
          <Column id="ORGINL_FILE_NM" type="STRING" size="256"/>
          <Column id="FILE_EXTSN" type="STRING" size="256"/>
          <Column id="NM_SUB_BF" type="STRING" size="256"/>
          <Column id="IHIDNUM_SUB_BF" type="STRING" size="256"/>
          <Column id="NM_SUB_AF" type="STRING" size="256"/>
          <Column id="IHIDNUM_SUB_AF" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_SUB_NO" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_SUB" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_BFCHG_SUB_NO" type="STRING" size="256"/>
          <Column id="INNER_SANCTN_NO" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_STTUS" type="STRING" size="256"/>
          <Column id="LAST_SANCTNSTS_IMG" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hcntrctrChangeInsert" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CHANGE_SE" type="STRING" size="256"/>
          <Column id="CHANGE_DE" type="STRING" size="256"/>
          <Column id="CONFM_COMPT_AT" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_BFCHG" type="STRING" size="256"/>
          <Column id="BFCHG_BDNBR" type="STRING" size="256"/>
          <Column id="BFCHG_NMCHANGE_SN" type="STRING" size="256"/>
          <Column id="BFCHG_QUALF_SE" type="STRING" size="256"/>
          <Column id="BFCHG_CTRTC_FILE_COURS" type="STRING" size="256"/>
          <Column id="BFCHG_CTRTC_FILE" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_DE" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_CRDTR_NM" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_RCIV_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_LON_DE" type="STRING" size="256"/>
          <Column id="BFCHG_LON_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_LON_BANK" type="STRING" size="256"/>
          <Column id="BFCHG_KJF_DE" type="STRING" size="256"/>
          <Column id="BFCHG_KJF_AMOUNT" type="STRING" size="256"/>
          <Column id="APPLC_AT" type="STRING" size="256"/>
          <Column id="CTTPC_BFCHG" type="STRING" size="256"/>
          <Column id="BFCHG_RM" type="STRING" size="256"/>
          <Column id="NM_BF" type="STRING" size="256"/>
          <Column id="IHIDNUM_BF" type="STRING" size="256"/>
          <Column id="ZIP_BF" type="STRING" size="256"/>
          <Column id="ADRES_BF" type="STRING" size="256"/>
          <Column id="ADRES_DETAIL_BF" type="STRING" size="256"/>
          <Column id="TELNO_BF" type="STRING" size="256"/>
          <Column id="MBTLNO_BF" type="STRING" size="256"/>
          <Column id="EMAIL_BF" type="STRING" size="256"/>
          <Column id="ADRES_TT_BF" type="STRING" size="256"/>
          <Column id="CHANGE_SN" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="RENT_QUALF_SE" type="STRING" size="256"/>
          <Column id="NM_SUB_BF" type="STRING" size="256"/>
          <Column id="IHIDNUM_SUB_BF" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_BFCHG_SUB_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chghyCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_NmchangeInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="TY_AEA" type="STRING" size="256"/>
          <Column id="HOUSE_DVR_AR" type="STRING" size="256"/>
          <Column id="HOUSE_CMNUSE_AR" type="STRING" size="256"/>
          <Column id="SUM_AR" type="STRING" size="256"/>
          <Column id="PAYAMT" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="APT_ADDR" type="STRING" size="256"/>
          <Column id="LOCPLC_ZIP" type="STRING" size="256"/>
          <Column id="LOCPLC_BASS_ADRES" type="STRING" size="256"/>
          <Column id="LOCPLC_DETAIL_ADRES" type="STRING" size="256"/>
          <Column id="CNTRCT_DE" type="STRING" size="256"/>
          <Column id="MT_RNTCHRG" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_qualfSe" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_innerSanctnParam" useclientlayout="true">
        <ColumnInfo>
          <Column id="INNER_SANCTN_MDL_ID" type="STRING" size="10"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="JOB_SE" type="STRING" size="256"/>
          <Column id="JOB_KEY" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_cprInfoList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="BIZRNO" type="STRING" size="256"/>
          <Column id="MTLTY" type="STRING" size="256"/>
          <Column id="RPRSNTV" type="STRING" size="256"/>
          <Column id="RPRSNTV_IHIDNUM" type="STRING" size="256"/>
          <Column id="JURIRNO" type="STRING" size="256"/>
          <Column id="ZIP" type="STRING" size="256"/>
          <Column id="ADRES" type="STRING" size="256"/>
          <Column id="ADRES_DETAIL" type="STRING" size="256"/>
          <Column id="ADDR" type="STRING" size="256"/>
          <Column id="ADRES_RN" type="STRING" size="256"/>
          <Column id="TELNO" type="STRING" size="256"/>
          <Column id="FAXNO" type="STRING" size="256"/>
          <Column id="EMAIL" type="STRING" size="256"/>
          <Column id="BIZCND" type="STRING" size="256"/>
          <Column id="ITEM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileSn" firefirstcount="0" firenextcount="0" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" useclientlayout="true">
        <ColumnInfo>
          <Column id="FILE_SN" type="BIGDECIMAL" size="256"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="JOB_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hcntrctrChangeListSingle" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_hcntrctrChangeList_onrowposchanged">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CHANGE_SE" type="STRING" size="256"/>
          <Column id="CHANGE_SN" type="STRING" size="256"/>
          <Column id="CHANGE_DE" type="STRING" size="256"/>
          <Column id="CHGHY_CODE" type="STRING" size="256"/>
          <Column id="CHGHY_NM" type="STRING" size="256"/>
          <Column id="CHANGE_ATCHMNFL_COURS" type="STRING" size="256"/>
          <Column id="CHANGE_ATCHMNFL" type="STRING" size="256"/>
          <Column id="CONFM_COMPT_AT" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_BFCHG" type="STRING" size="256"/>
          <Column id="BFCHG_BDNBR" type="STRING" size="256"/>
          <Column id="BFCHG_NMCHANGE_SN" type="STRING" size="256"/>
          <Column id="BFCHG_QUALF_SE" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_DE" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_RCIV_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_LON_DE" type="STRING" size="256"/>
          <Column id="BFCHG_LON_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_LON_BANK" type="STRING" size="256"/>
          <Column id="BFCHG_KJF_DE" type="STRING" size="256"/>
          <Column id="BFCHG_KJF_AMOUNT" type="STRING" size="256"/>
          <Column id="BFCHG_SEIZR_CRDTR_NM" type="STRING" size="256"/>
          <Column id="BFCHG_RM" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO" type="STRING" size="256"/>
          <Column id="APPLC_AT" type="STRING" size="256"/>
          <Column id="CTTPC_BFCHG" type="STRING" size="256"/>
          <Column id="CTTPC_AFTCH" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="REGIST_DT2" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_BF" type="STRING" size="256"/>
          <Column id="NM_BF" type="STRING" size="256"/>
          <Column id="IHIDNUM_BF" type="STRING" size="256"/>
          <Column id="ZIP_BF" type="STRING" size="256"/>
          <Column id="ADRES_BF" type="STRING" size="256"/>
          <Column id="ADRES_DETAIL_BF" type="STRING" size="256"/>
          <Column id="TELNO_BF" type="STRING" size="256"/>
          <Column id="MBTLNO_BF" type="STRING" size="256"/>
          <Column id="EMAIL_BF" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_NO_AF" type="STRING" size="256"/>
          <Column id="NM_AF" type="STRING" size="256"/>
          <Column id="IHIDNUM_AF" type="STRING" size="256"/>
          <Column id="ZIP_AF" type="STRING" size="256"/>
          <Column id="ADRES_AF" type="STRING" size="256"/>
          <Column id="ADRES_DETAIL_AF" type="STRING" size="256"/>
          <Column id="TELNO_AF" type="STRING" size="256"/>
          <Column id="MBTLNO_AF" type="STRING" size="256"/>
          <Column id="EMAIL_AF" type="STRING" size="256"/>
          <Column id="ADRES_TT_BF" type="STRING" size="256"/>
          <Column id="ADRES_TT_AF" type="STRING" size="256"/>
          <Column id="BFCHG_CTRTC_FILE_COURS" type="STRING" size="256"/>
          <Column id="BFCHG_CTRTC_FILE" type="STRING" size="256"/>
          <Column id="CNTRCT_DE" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="FILE_ORDR" type="STRING" size="256"/>
          <Column id="FILE_STRE_COURS" type="STRING" size="256"/>
          <Column id="STRE_FILE_NM" type="STRING" size="256"/>
          <Column id="ORGINL_FILE_NM" type="STRING" size="256"/>
          <Column id="FILE_EXTSN" type="STRING" size="256"/>
          <Column id="NM_SUB_BF" type="STRING" size="256"/>
          <Column id="IHIDNUM_SUB_BF" type="STRING" size="256"/>
          <Column id="NM_SUB_AF" type="STRING" size="256"/>
          <Column id="IHIDNUM_SUB_AF" type="STRING" size="256"/>
          <Column id="HOUSE_CSTMR_SUB_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond05" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="INNER_SANCTN_ID" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_sanctnknd" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="SANCTNKND" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_file_delete" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="FILE_ORDR" type="STRING" size="256"/>
          <Column id="CHANGE_SE" type="STRING" size="256"/>
          <Column id="CHANGE_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SLS020101_P04
 * 화면명   : 주택명의변경
 * 화면설명 : 주택명의변경
 * 작성일   : 2016.07.25
 * 작성자   : 박태혁
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    2015.00.00   홍길동   fn_xxx() 보완 수정
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ***********************************************************************/
// 시스템 공통 라이브러리 Include
include "pms_lib::pmsUtilInclude.xjs"; 
include "lib::comInnerSanct.xjs";

/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
//this.HOUSE_SE = "S1,S3,S5,S9";
//var HOUSE_TYPE_SE = "";  //타입구분 (01:분양),(02:임대)
var SANCTN_NO = "";
var SAVEONLY = false;
var DONE = false;
this.FILE_MANAGER = null;					// 파일 업/다운로더

/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
//form init 
this.SLS020201_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init(this);
	
	// Form 초기화
	this.fn_init_form();
	
	// DataSet 초기화
	this.fn_init_dataset();	
}

this.SLS020201_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// 파일 업/다운로더 설정
	var fileConfig = {
		onChange: this.fn_onFileSelected,
		onSuccess : this.fn_onFileSuccess,
		onError : this.fn_onFileError
	};
	this.FILE_MANAGER = new this.fileManager(this, "ONB", "SND");
	this.FILE_MANAGER.init(fileConfig);


	 // 공통콤보 코드처리
	this.fn_loadCombo();	
	
    // 화성도시공사 사업자정보 조회
    this.fn_fill_code(this.ds_cprInfoList, "/hsco/pms/com/PMS000000/cprInfoList.do", "", "");
	
	//주택코드 콤보리스트(사용자 콤보 처리)
	//this.fn_loadComboNonCodeTbl();
	
	//alert(this.parent.arg_1.getColumn(0, "HOUSE_CODE"));
	this.fn_hcntrctrListSearch();
}

/***********************************************************************
 * 공통 코드 조회
 ***********************************************************************/
/*
 * 함수명  	    : fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function()
{

/*
params  		: 1. param_1    : 반환받을 DATASET 명 		(예 : ds_comCode00)
                  2. param_2	: 그룹코드					(예 : COM007)
                  3. param_3	: 사용여부		    		(예 : 1(사용), ""(사용안함))
                  4. param_4	: 콤보박스INDEX(0) 표시		(예 : "전체", "선택", " "(공백), ""(첫번째데이터부터시작) )
*/
	var comboParams = [
			              ["ds_qualfSe"     ,"HOU004" ,"1" ,"선택"    ]   //입주자격(분양,임대)
			             ,["ds_chghyCode"   ,"HOU008" ,"1" ,"선택"    ]   //변경사유코드
		              ];		              
    this.gfn_comboLoad(comboParams, this.fn_callbackAfter);	
}

/*
 * 함수명  	: fn_callbackAfter
 * 설명 		: callback 처리 후에 더 필요한 작업이 있을 경우, 작성
 * params  		: None
 * return Type 	: None
 * 사용법		: this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
 */
this.fn_callbackAfter = function ()
{
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
/*
 * 함수명  	    : initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
 
 //Form 초기화
this.fn_init_form = function()
{
	// ** 시스템 공통으로 Form을 초기화
	this.gfn_initForm(this);
}

/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	// 조건에 사용되는 Dataset 전체 및 AddRows
    this.gfn_initCondDs(this, this.div_search);
    
    this.checkDs.push(this.ds_hcntrctrChangeList   ); //주택계약 명의변경 데이터셋
    this.checkDs.push(this.ds_hcntrctrChangeInsert ); //주택계약 명의변경 신규 데이터셋	
}

// 종료버튼 
this.btn_quit_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	//if(this.fn_confirm() == true){
		this.close();
	//}	
}

this.fn_confirm = function () 
{
	// 콜백 호출
	var opener = this.opener; //Runtime 작동시 부모 폼
	if(opener[this.callback] == null){
		opener = this.opener.div_workFrame.div_main; //브라우저 작동시 부모 폼
	}
	var bResult = opener[this.callback]();		
	return bResult;
}

//주택계약자변경 리스트 조회
this.fn_hcntrctrListSearch = function()
{
	//주택계약자변경 리스트 출력 검색 항목 데이터셋(cond01) 세팅
	this.ds_cond01.setColumn(0 ,"CNTRCTR_NO"   , this.parent.cntrctrNo); // 주택계약번호
	this.ds_cond01.setColumn(0 ,"CNTRCTR_NM"   , this.parent.cntrctrNm); // 주택계약번호
	this.ds_cond01.setColumn(0 ,"HOUSE_CODE"   , this.parent.houseCode); // 주택코드
	this.ds_cond01.setColumn(0 ,"ALL_HOUSE_NM" , this.parent.allHouseNm);// 주택코드
	this.ds_cond01.setColumn(0 ,"DONG"         , this.parent.dong);  	 // 동
	this.ds_cond01.setColumn(0 ,"HO"           , this.parent.ho);  		 // 호
	this.ds_cond01.setColumn(0 ,"HOUSE_TYPE_SE", this.parent.houseTypeSe == "01" ? "01" : "02"); // 주택타입 구분 (01: 분양, 02:임대)
	this.ds_cond01.setColumn(0 ,"CHANGE_SE"     , this.parent.changeSe);  // 명의변경, 임차권양도 구분 (01: 명의변경, 02:임차권양도)
	
	trace("################ this.parent.changeSe : " + this.parent.changeSe);
	
	this.pmsUtil.dumper(this.ds_cond01);
	
	//명의변경일 경우 승계계약서를 사용할 수 없다
	this.debug("CHANGE_SE = "+this.ds_cond01.getColumn(0 , "CHANGE_SE") );
	if(this.ds_cond01.getColumn(0 , "CHANGE_SE") == '01'){
		this.btn_contDoc.set_visible(false);
	}else{
		this.sta_popTitle.set_text("임차권양도");
		this.Static01.set_text("임차권양도");
	}

	this.pmsUtil.dumper(this.ds_cond01);
	
    // 주택계약변경 내역 리스트 출력
	this.fn_transaction("selectHcntrctrChangeList");  
}

/*
 * 함수명  	: fn_insert
 * 설명 		: 명의변경 신규등록
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function()
{  
    if (SAVEONLY) {
        this.alert("저장중인 건이 있으므로 신규를 진행할 수 없습니다.");
        return;
    }
    
    //주택계약자명의변경 임시 데이터셋 클리어
    this.ds_hcntrctrChangeInsert.clearData();
    
    // 주택계약변경 추가
	this.fn_transaction("selectHcntrctrChangeInsert");  
}

this.btn_saveOnly_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
    if (DONE) {
        this.alert("결재요청된건은 수정할 수 없습니다.");
        return;
    }

	// 파일 첨부여부 확인
	var hasAttFile = this.FILE_MANAGER.hasFile();
	if(hasAttFile){
		var attFileCount = this.FILE_MANAGER.getfileCount();
		var sController = "";
		
		if (SAVEONLY)
			sController   	= "hsco/pms/sls/hou/ctr/SLS020201/updateHcntrctrChangeAll.do";
		else
			sController   	= "hsco/pms/sls/hou/ctr/SLS020201/saveHcntrctrChangeList.do";
		
		var sInDatasets   	= "input1=ds_hcntrctrChangeList:U";
		var sOutDatasets  	= "";
		
		this.FILE_MANAGER.upload(sController, sInDatasets, sOutDatasets);
	}
	else{
		if (SAVEONLY)
			this.fn_transaction("updateHcntrctrChangeAll");	
		else
			this.fn_transaction("saveOnly");	
	}
	
	SAVEONLY = true;
	
	//this.fn_test();
}

this.fn_test = function(){
	// 파일 첨부여부 확인
	var hasAttFile = this.FILE_MANAGER.hasFile();
	if(hasAttFile){
		var attFileCount = this.FILE_MANAGER.getfileCount();
		var sController = "";
		
		if (SAVEONLY)
			sController   	= "hsco/pms/sls/hou/ctr/SLS020201/updateHcntrctrChangeAll.do";
		else
			sController   	= "hsco/pms/sls/hou/ctr/SLS020201/saveHcntrctrChangeList.do";
		
		var sInDatasets   	= "input1=ds_hcntrctrChangeList:U";
		var sOutDatasets  	= "";
		
		this.FILE_MANAGER.upload(sController, sInDatasets, sOutDatasets);
	}
	else{
		if (SAVEONLY)
			this.fn_transaction("updateHcntrctrChangeAll");	
		else
			this.fn_transaction("saveOnly");	
	}
}


this.fn_rollback = function()
{
    if (DONE) {
        this.alert("결재요청된건은 삭제할 수 없습니다.");
        return;
    }
    
	if (this.ds_hcntrctrChangeList.rowcount < 1)
	{
		alert("명의변경건이 없습니다");
		return;
	}
    if(this.confirm("명의변경을 복원하시겠습니까?")){        
		this.fn_transaction("deleteHcntrctrChangeRollback");
    }	
}



// 주택계약자 정보 복사
this.fn_hcntrctrChangeListCopy = function()
{
  var nAddRow = this.ds_hcntrctrChangeList.addRow()   ; //주택계약자변경 리스트
  var nRow    = this.ds_hcntrctrChangeInsert.rowposition; //주택계약자명의변경 리스트
 
  this.fn_dsToParamDs(this.ds_hcntrctrChangeInsert, this.ds_hcntrctrChangeList, nRow, nAddRow, false);// 원본데이터셋,대상데이터셋,원본Rownum, 대상Rownum    
}

//명의변경 신청서 출력 팝업창
this.fn_reportPop = function()
{

    var reportPath = "";
    if (this.ds_cond01.getColumn(0, "HOUSE_TYPE_SE") == "01")
        reportPath = "pms/sls/SLS020201_R02.jrf";
    else{
        if(this.ds_cond01.getColumn(0 , "CHANGE_SE") == '01'){
			reportPath = "pms/sls/SLS020201_R01.jrf"; //명의변경
        }else{
			reportPath = "pms/sls/SLS020201_R03.jrf"; //임차권양도
        }
    }
	this.ds_hcntrctrChangeList.setColumn(this.ds_hcntrctrChangeList.rowposition, "CHGHY_NM", this.div_hcntCtrSeizrInfo02.cmb_seizrSe01.text);
    trace("ds_NmchangeInfo.CNTRCT_DE : " + this.ds_NmchangeInfo.getColumn(0, "CNTRCT_DE"));
    trace("ds_NmchangeInfo.LOCPLC_DETAIL_ADRES : " + this.ds_NmchangeInfo.getColumn(0, "LOCPLC_DETAIL_ADRES"));
    trace("ds_NmchangeInfo.APT_ADDR : " + this.ds_NmchangeInfo.getColumn(0, "APT_ADDR"));

	trace("this.ds_hcntrctrChangeList.rowposition : " + this.ds_hcntrctrChangeList.rowposition);

    // 현재건만 인쇄하도록 단건만 넘긴다.
	this.ds_hcntrctrChangeListSingle.clearData();
	var nRow = this.ds_hcntrctrChangeListSingle.addRow();
	this.ds_hcntrctrChangeListSingle.copyRow(nRow, this.ds_hcntrctrChangeList, this.ds_hcntrctrChangeList.rowposition);
	//this.ds_hcntrctrChangeList.copyRow(0, this.ds_hcntrctrChangeListSingle, this.ds_hcntrctrChangeListSingle.rowposition);

	//this.pmsUtil.dumper(this.ds_NmchangeInfo);
	//this.pmsUtil.dumper(this.ds_hcntrctrChangeListSingle);
	//this.pmsUtil.dumper(this.ds_hcntrctrChangeList);

	
	var vOpts = new this.cf_Opts();
	vOpts.setToolbar(false);
	vOpts.setScale(100);
	vOpts.setArgs("title", "주택 명의변경 신청서");
	vOpts.setReportPath(reportPath);
	vOpts.setSaveFilename("주택 명의변경 신청서");
	vOpts.setLocalDs(["ds_NmchangeInfo", 		this.ds_NmchangeInfo]);
	vOpts.setLocalDs(["ds_hcntrctrChangeListSingle", this.ds_hcntrctrChangeListSingle]);

    
    
	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		opts : vOpts
	};
	this.gfn_popup("Popup_Report", 884, 735, "주택 명의변경 신청서", parm, "common::frmReportPopup.xfdl", "report_callback");
}	

//승계계약서 출력 팝업창
this.fn_contDocPop = function()
{
	this.ds_hcntrctrChangeList.setColumn(this.ds_hcntrctrChangeList.rowposition, "CHGHY_NM", this.div_hcntCtrSeizrInfo02.cmb_seizrSe01.text);

	var vOpts = new this.cf_Opts();
	vOpts.setToolbar(false);
	vOpts.setScale(100);
	vOpts.setArgs("title", "임대차계약 권리의무승계 계약서");
	vOpts.setReportPath("pms/sls/SLS020202_R02.jrf");
	vOpts.setSaveFilename("임대차계약 권리의무승계 계약서");
	vOpts.setLocalDs(["ds_NmchangeInfo", 		this.ds_NmchangeInfo]);
	vOpts.setLocalDs(["ds_hcntrctrChangeList", 	this.ds_hcntrctrChangeList]);
	vOpts.setLocalDs(["ds_cprInfoList", 	this.ds_cprInfoList]);
    
	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		opts : vOpts
	};

	this.gfn_popup("Popup_Report", 884, 735, "임대차계약 권리의무승계 계약서", parm, "common::frmReportPopup.xfdl", "report_callback");	

}
// 승계계약서
this.btn_contDoc_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{    
	var rowCnt = this.ds_hcntrctrChangeList.rowcount;
	if(rowCnt < 1){
		this.alert("신청내역이 없습니다");
		return;
	}

	this.ds_cond02.clearData();
	this.ds_NmchangeInfo.clearData();
		
	var nRow  = this.ds_hcntrctrChangeList.rowposition;
	this.ds_cond02.addRow();
		
	this.ds_cond02.setColumn(0,"CNTRCTR_NO" , this.ds_hcntrctrChangeList.getColumn(nRow, "CNTRCTR_NO") ); 	// 계약자번호
	this.fn_transaction("selectContDoc"); //주택명의변경 신청서
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/  
/*
 * 함수명  	    : fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
    var bSync = true;
	switch (strSvcId) {
		
		// 주택계약자변경 리스트 조회
		case "selectHcntrctrChangeList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/selectHcntrctrChangeList.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_hcntrctrChangeList=output1";
	        bSync = false; //동기방식으로 처리
		    break;        
		
		// 주택계약자변경 신규
		case "selectHcntrctrChangeInsert": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/selectHcntrctrChangeInsert.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_hcntrctrChangeInsert=output1";
		    break;            

		// 명의변경 복원
		case "deleteHcntrctrChangeRollback": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/deleteHcntrctrChangeRollback.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "";
		    break;            
		
		//주택계약자명의변경 저장
		case "saveHcntrctrChangeList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/saveHcntrctrChangeList.do";
	        var sInDatasets   	= "input1=ds_hcntrctrChangeList:U";
	        var sOutDatasets  	= "";
		    break;       

		//주택계약자명의변경 저장
		case "saveOnly": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/saveHcntrctrChangeList.do";
	        var sInDatasets   	= "input1=ds_hcntrctrChangeList:U";
	        var sOutDatasets  	= "";
		    break;       

		//주택계약자명의변경 저장
		case "updateSanctnNo": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/updateSanctnNo.do";
	        var sInDatasets   	= "input1=ds_hcntrctrChangeList:U";
	        var sOutDatasets  	= "";
		    break;       

		case "updateHcntrctrChangeAll":
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/updateHcntrctrChangeAll.do";
	        var sInDatasets   	= "input1=ds_hcntrctrChangeList:U";
	        var sOutDatasets  	= "";
		    break;       
		         
		// 주택계약자변경 신청서
		case "selectNmchangeReqstdoc": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/selectNmchangeReqstdoc.do";
	        var sInDatasets   	= "input1=ds_cond02";  
	        var sOutDatasets  	= "ds_NmchangeInfo=output1";
        	//this.pmsUtil.dumper(this.ds_cond02); //전체 출력
		    break;

		// 승계계약서
		case "selectContDoc": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/selectNmchangeReqstdoc.do";
	        var sInDatasets   	= "input1=ds_cond02";  
	        var sOutDatasets  	= "ds_NmchangeInfo=output1";
        	//this.pmsUtil.dumper(this.ds_cond02); //전체 출력
		    break;
		    
		// 파일 일련번호 조회
		case "getFileSn" :
			var sController   	= "hsco/cmm/file/getFileSn.do";
			var sInDatasets   	= "";
			var sOutDatasets  	= "ds_fileSn=output_fsn";
			break;		    
			
		//내부결재 상태조회
		case "sanknKnd": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020201/SANCTNKND.do";
	        var sInDatasets   	= "input1=ds_cond05";
	        var sOutDatasets  	= "ds_sanctnknd=output1";
	        bSync = false; //동기방식으로 처리
		    break;
		      
		// 첨부 파일 삭제	
		case "deleteFile" :			
			
			trace("ds_file_delete =" + this.ds_file_delete.saveXML());
		
		    var sController = "hsco/pms/sls/hou/ctr/SLS020101/ChangeFileDelete.do";
			var sInDatasets = "input1=ds_file_delete";
			var sOutDatasets = "";
			break;		

			
		default :
			break;          			
	}
    
    if(this.fn_validate_tranasaction(strSvcId, sController, sInDatasets, sOutDatasets) == false){
		return;
	}	
	//Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets, "", null, null, bSync);
}

 /**********************************************************************
 * Transaction Callback 영역
 **********************************************************************/ 
 /*
 * 함수명  	    : fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	 var bSuccess = nErrorCode == 0 ? true : false;
	
	//성공,에러메시지 출력 
	//this.fn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	
	if (bSuccess){	    
	    var comboOption = null;		
		switch (strSvcId) {
			
            case "selectHcntrctrChangeList"  : 		                    //주택계약자 변경리스트		
								
//                 SAVEONLY = false;
//                 
//                 if (this.ds_hcntrctrChangeList.rowcount >= 1) {					
//                     this.ds_hcntrctrChangeList.setLastRowposition();    // 마지막으로 이동
//                     if (this.comUtils.isNullEmpty(this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "INNER_SANCTN_NO")) || sanctnknd == '08') {
// 						SAVEONLY = true;
// 						DONE = false;
// 						this.fn_editPropertiesDetail(true, false);
//                     } else {
//                         SAVEONLY = false;
//                         DONE = true;
//                         this.fn_editPropertiesDetail(false, true);
//                     }                    
//                 }
			    break;

		    case "selectHcntrctrChangeInsert":                          //주택계약자 변경 신규	
		    	//this.alert(this.parent.houseTypeSe);
		    	
		        if (this.ds_cond01.getColumn(0, "HOUSE_TYPE_SE") == "02") {
			        this.ds_hcntrctrChangeInsert.setColumn(this.ds_hcntrctrChangeInsert.rowposition, "BFCHG_QUALF_SE",  
			                                               this.ds_hcntrctrChangeInsert.getColumn(this.ds_hcntrctrChangeInsert.rowposition, "RENT_QUALF_SE"));			 
					this.pmsUtil.dumper(this.ds_hcntrctrChangeInsert);		    			                                               
			    }
			    
		        this.fn_hcntrctrChangeListCopy();                       //주택계약자 정보 복사
		        SAVEONLY = false;
		        DONE = false;
		    	break;
		    				    
			case "deleteHcntrctrChangeRollback" :
		        this.fn_hcntrctrListSearch();			
			    break;
		    
		    case "saveHcntrctrChangeList"    :                          //주택계약자 명의변경 저장
		        this.fn_hcntrctrListSearch();
		        this.ds_hcntrctrChangeList.setLastRowposition();          //저장후에는 마지막 로우에 포커스로 이동
		    	break;

		    case "saveOnly"    :                          //주택계약자 명의변경 저장
		        this.fn_hcntrctrListSearch();
		        this.ds_hcntrctrChangeList.setLastRowposition();          //저장후에는 마지막 로우에 포커스로 이동
		        this.alert("저장되었습니다");
		    	break;

		   case "updateHcntrctrChangeAll" :
		        this.fn_hcntrctrListSearch();
		        //this.ds_hcntrctrChangeList.setLastRowposition();          //저장후에는 마지막 로우에 포커스로 이동
		        this.alert("수정되었습니다");
		    	break;		    
		    	
		    case "selectNmchangeReqstdoc"    :                          //주택계약자명의변경 신청서 팝업
		        this.fn_reportPop();   //신청서 레포트 팝업
		    	break;			    	
		    case "selectContDoc" :      // 승계계약서 레포트 팝업
		        this.fn_contDocPop();
		        break;
			// 파일일련번호 조회
			case "getFileSn" :
				// 채번 파일일련번호 설정
				this.fn_setFileSnInfo(true);
				break;
		        
		}
    }else{
	   // this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
	}	    
}

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/ 


/***********************************************************************
 * 사용자 정의 함수
 ***********************************************************************/

/*
 * 함수명  	    : fn_delete
 * 설명 		: 주택계약 명의변경 삭제
 *                주택계약 명의변경을 삭제한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete = function()
{
    //if(!this.confirm("삭제하시겠습니까?"))	{
    //    this.fn_checkItemDelete(this.grd_intrtList); //그리드 삭제  
    //}
        
	if (this.ds_hcntrctrChangeList.rowcount < 1)
	{
		alert("명의변경건이 없습니다");
		return;
	}

	// 최종건만 삭제가능하도록 한다.
	var i = 0;
	for (i = 0; i < this.ds_hcntrctrChangeList.rowcount ; i++){
		this.ds_hcntrctrChangeList.setColumn(i, "CHK", 0);
	}
	this.ds_hcntrctrChangeList.setColumn(i-1, "CHK", 1);		
	this.gfn_delMultiRow(this.ds_hcntrctrChangeList);
	        
}

/*
 * 함수명  	    : fn_cancel
 * 설명 		: 주택계약 명의변경 취소
 *                주택계약 명의변경 신규 등록을 취소한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_cancel();
 */
this.fn_cancel = function()
{
    if(this.confirm("작업을 취소 하시겠습니까?")){
        this.ds_hcntrctrChangeList.cancel();
    }   
}  

// 공공임대주책 명의변경 신청서 데이터셋 세팅
this.div_houseTyInfo_btn_popUp01_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var rowCnt = this.ds_hcntrctrChangeList.rowcount;
	if(rowCnt < 1){
		this.alert("신청내역이 없습니다");
		return;
	}
	
	this.ds_cond02.clearData();
	this.ds_NmchangeInfo.clearData();
		
	var nRow  = this.ds_hcntrctrChangeList.rowposition;
	this.ds_cond02.addRow();
		
	this.ds_cond02.setColumn(0,"CNTRCTR_NO" , this.ds_hcntrctrChangeList.getColumn(nRow, "CNTRCTR_NO") ); 	// 계약자번호
	this.fn_transaction("selectNmchangeReqstdoc"); //주택명의변경 신청서
}	

this.btn_appr_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
    if (this.FILE_MANAGER.hasFile()) {
        this.alert("저장 후 결재 바랍니다.");
        return;
    }
    
    
    //결재상태 및 결재번호 조회
    var ds = this.ds_hcntrctrChangeList;
    // 상태조회
    this.ds_cond05.clearData;
    this.ds_sanctnknd.clearData();
    this.ds_cond05.setColumn( this.ds_cond05.addRow() , "INNER_SANCTN_ID" , ds.getColumn(ds.rowposition, "INNER_SANCTN_NO"));
    this.fn_transaction("sanknKnd"); 
    var sanctnknd = this.ds_sanctnknd.getColumn( 0 , "SANCTNKND");
    
    
    if (!this.comUtils.isNullEmpty(ds.getColumn(ds.rowposition, "SANCTN_NO")) && sanctnknd != 'S08' )
    {
        this.alert("이미 결재요청되었습니다.");
        return;
    }
    
    if(!this.gfn_checkValidation_NoUpdChk(this.ds_hcntrctrChangeList, this.ds_validation)) {
        return;
	}

    // 현재건만 인쇄하도록 단건만 넘긴다.
	this.ds_hcntrctrChangeListSingle.clearData();
	var nRow = this.ds_hcntrctrChangeListSingle.addRow();
	this.ds_hcntrctrChangeListSingle.copyRow(nRow, this.ds_hcntrctrChangeList, this.ds_hcntrctrChangeList.rowposition);
	
    this.ds_cond02.clearData();
    this.ds_cond02.addRow();
    this.ds_cond02.setColumn(0,"CNTRCTR_NO" , this.ds_cond01.getColumn(0, "CNTRCTR_NO") ); 	// 계약자번호
	var sanctnId     = "";
	var strSvcId     = "SanctnSvcId";
	var reportTitle  = "명의변경 신청서";
    var sController  = "hsco/pms/sls/hou/ctr/SLS020201/selectNmchangeReqstdoc.do";
	var sInDatasets  = "input1=ds_cond02 input2=ds_hcntrctrChangeListSingle";  
	var sOutDatasets = "ds_NmchangeInfo=output1 ds_hcntrctrChangeListSingle=output2";
	var reportUri    = "/pms/sls/SLS020201_R02.jrf"
	var saveFileName = "명의변경 신청서";
	this.gfn_makeReportTranInfo(sanctnId, strSvcId, sController, sInDatasets, sOutDatasets, reportTitle, reportUri, saveFileName);

	var key = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "CNTRCTR_NO") + "^" 
			+ this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "CHANGE_SE") + "^" 
			+ this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "CHANGE_SN") + "^TBSLS_HCNTRCTR_CHANGE";

    var registDt = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "REGIST_DT2");
    
	this.debug("key : " +key);
	
    this.ds_innerSanctnParam.clearData();
    this.ds_innerSanctnParam.addRow();
    this.ds_innerSanctnParam.setColumn(0, "INNER_SANCTN_MDL_ID", "SLS-100052");     /*내부결재모형ID*/
    this.ds_innerSanctnParam.setColumn(0, "SYS_SE_CODE", "PMS");               /*시스템구분 COM024*/
    this.ds_innerSanctnParam.setColumn(0, "JOB_SE", "SLS");                    /*업무구분 COM025*/
    this.ds_innerSanctnParam.setColumn(0, "JOB_KEY", key);                    /*시스템 업무별 UNIQUE KEY*/
     
    var fn_cb = function(sPopupId, sReturn){
        var sanctnResult = sReturn.split("^"); /*index 0: 응답코드, index 1 : 내부결재ID*/
        if("0000" == sanctnResult[0]){
          
            this.ds_hcntrctrChangeList.setColumn(this.ds_hcntrctrChangeList.rowposition, "SANCTN_NO" , sanctnResult[1]);
			
			trace("########## SANCTN_NO : " + sanctnResult[1]);
			this.fn_transaction("updateHcntrctrChangeAll");	
			/*
			// 파일 첨부여부 확인
			var hasAttFile = this.FILE_MANAGER.hasFile();
			trace("hasAttFile =" + hasAttFile);
			if(hasAttFile){
				trace("11111111");
				var attFileCount = this.FILE_MANAGER.getfileCount();
				var sController = "";
				
				if (SAVEONLY)
					sController   	= "hsco/pms/sls/hou/ctr/SLS020201/updateHcntrctrChangeAll.do";
				else
					sController   	= "hsco/pms/sls/hou/ctr/SLS020201/saveHcntrctrChangeList.do";
				
				var sInDatasets   	= "input1=ds_hcntrctrChangeList";
				var sOutDatasets  	= " ";
				
				this.FILE_MANAGER.upload(sController, sInDatasets, sOutDatasets);
				
			}
			else{
				trace("222222222");
				if (SAVEONLY){ 
					trace("333333333");
					this.fn_transaction("updateHcntrctrChangeAll");	
				}	
				else{
					trace("44444444444");
					this.fn_transaction("saveHcntrctrChangeList");	
				}	
			}			    
			//this.fn_test();
			*/
		}
    }
    var result = this.gfn_openInnerSanctionPopup(this.ds_innerSanctnParam, fn_cb, registDt);	
}

//명의변경 리스트 데이터셋 변경 이벤트 처리
this.ds_hcntrctrChangeList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.fn_editProperties(obj, e.newrow); //변경후 정보 수정 속성 설정
}

/***********************************************************************
 * 변경후 정보 수정 속성 설정
 * 행 추가인 경우만 변경후 정보 입력 가능
 ***********************************************************************/
this.fn_editProperties = function(ds:Dataset, nRow){
    /** 차후 , 결재 진행 상태 체크 여부도 반영 해야함*/
    var boolEnable    = false       ; //enable
    var boolReadonly  = true        ; //readonly
   
    //rowtype (0:존재하지않음, 1:초기상태, 2:추가, 4:수정, 8:삭제)
    var inRowType  = ds.getRowType(nRow);  
    
	trace("11111111111111111111111111111111111111111111111111111111111111111111111111111");
	//결재상태 및 결재번호 조회
	var ds = this.ds_hcntrctrChangeList;
	// 상태조회
	this.ds_cond05.clearData;
	this.ds_sanctnknd.clearData();
	trace("INNER_SANCTN_NO =" + ds.getColumn(ds.rowposition, "INNER_SANCTN_NO")); 				
	this.ds_cond05.addRow();
	this.ds_cond05.setColumn( 0 , "INNER_SANCTN_ID" , ds.getColumn(ds.rowposition, "INNER_SANCTN_NO"));
	this.fn_transaction("sanknKnd"); 
	var sanctnknd = this.ds_sanctnknd.getColumn( 0 , "SANCTNKND");		   

	if (this.ds_hcntrctrChangeList.rowcount >= 1) {
		if (this.comUtils.isNullEmpty(this.ds_hcntrctrChangeList.getColumn(nRow, "INNER_SANCTN_NO")) || sanctnknd == 'S08') {
			trace("0000");
			SAVEONLY = true;
			DONE = false;
		    boolEnable   = true      ; //enable          
		    boolReadonly = false     ; //readonly	 			
		} else {
			trace("9999");
			SAVEONLY = false;
			DONE = true;
		    boolEnable   = false      ; //enable          
		    boolReadonly = true     ; //readonly				
		}                    
	}    
    
    // 행 추가인경우만 수정 가능(변경후 정보)
    if(inRowType == '2'){     
       boolEnable   = true      ; //enable          
	   boolReadonly = false     ; //readonly	 
    } 
      
      
    this.fn_editPropertiesDetail(boolEnable, boolReadonly);
}

this.fn_editPropertiesDetail = function (boolEnable, boolReadonly)  {
    var file_view   = false;  //첨부파일 보기
    var file_delete = false;  //첨부파일 삭제
    
    //첨부파일 존재 여부 체크, 파일 존재시 파일보기 버튼 활성화
    if(this.comUtils.isNullEmpty(this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"CHANGE_ATCHMNFL_COURS") )  == false  &&
       this.comUtils.isNullEmpty(this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"CHANGE_ATCHMNFL")       )  == false )
   {
       file_view = true;
   }

    this.div_hcntCtrSeizrInfo02.cal_relisRceptDe00.set_readonly(boolReadonly);  // 변경일자(달력)
    this.div_hcntCtrSeizrInfo02.cmb_seizrSe01.set_enable(boolEnable)         ;  // 변경사유(콤보)
   // this.div_hcntCtrSeizrInfo02.edt_nmAf.set_readonly(boolReadonly)          ;  // 계약자명(Edit)
    this.div_hcntCtrSeizrInfo02.btn_cstmrSearch.set_enable(boolEnable)       ;  // 계약자명(Button)
    this.div_hcntCtrSeizrInfo02.btn_cstmrSearch2.set_enable(boolEnable)         // 계약자2명(Button)
    this.div_hcntCtrSeizrInfo02.edt_crdtrAdres03.set_readonly(boolReadonly)  ;  // 기타연락처(Edit)
    this.div_hcntCtrSeizrInfo02.edt_rm.set_readonly(boolReadonly)            ;  // 비고(Edit)
    this.div_hcntCtrSeizrInfo02.btn_atchFile.set_enable(boolEnable);  // 첨부파일(Button)
    //this.div_hcntCtrSeizrInfo02.btn_fileDelete.set_enable(boolEnable)        ;  // 파일삭제(Button)   
    //this.div_hcntCtrSeizrInfo02.btn_fileView.set_enable(file_view)           ;  // 파일보기(Button)    
  
    /* 분기 처리 필요 */
   // this.div_hcntCtrSeizrInfo.btn_cocnrList.set_enable(true)                 ;  // 공유자관리:Button(변경전)
    //this.div_hcntCtrSeizrInfo02.btn_cocnrMn.set_enable(true)                 ;  // 공유자관리(Button:변경후)  btn_cocnrList : 보기/수정삭제 분기 필요
}

//변경전 정보 공유자 보기 팝업(변경전)
this.div_hcntCtrSeizrInfo_btn_cocnrList_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
    var nRow = this.ds_hcntrctrChangeList.rowposition;
    
	var paraCntrctrCstmrNo = this.ds_hcntrctrChangeList.getColumn(nRow, "HOUSE_CSTMR_NO_BFCHG"); //주택고객 번호(변경전)
    var paraCntrctrNo      = this.ds_hcntrctrChangeList.getColumn(nRow, "CNTRCTR_NO"          ); //주택계약 번호
    var paraCntrctrCstmrNm = this.ds_hcntrctrChangeList.getColumn(nRow, "NM_BF"               ); //주택계약자 이름
    var paraBViewOnly      = true                                                              ; //보기전용
   
	this.gfn_popup("houseCstmrCocnr"
       , 641
       , 700
       , "주택계약자 공유자 정보"
       , { cntrctrCstmrNo:paraCntrctrCstmrNo
          ,cntrctrNo:paraCntrctrNo
          ,cntrctrCstmrNm:paraCntrctrCstmrNm
          ,bViewOnly:paraBViewOnly
         }          
       ,"pms_sls_com::houseCstmrCocnr_P01.xfdl");	
}

//공유자 팝업창(변경후)
this.div_hcntCtrSeizrInfo02_Button02_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(this.div_hcntCtrSeizrInfo02.edt_nmAf.value == null){
	  this.gfn_message("comm.항목.입력.을","계약자명");
	  return;
	}
	
	var nRow = this.ds_hcntrctrChangeList.rowposition;
    
	var paraCntrctrCstmrNo = this.ds_hcntrctrChangeList.getColumn(nRow, "HOUSE_CSTMR_NO") ; //주택고객 번호
    var paraCntrctrNo      = this.ds_hcntrctrChangeList.getColumn(nRow, "CNTRCTR_NO"       ) ; //주택계약 번호
    var paraCntrctrCstmrNm = this.ds_hcntrctrChangeList.getColumn(nRow, "NM_AF"            ) ; //주택계약자 이름
    var paraBViewOnly      = false                                                           ; //보기전용

	this.gfn_popup("houseCstmrCocnr"
       , 641
       , 828
       , "주택계약자 공유자 관리"
       , { cntrctrCstmrNo:paraCntrctrCstmrNo
          ,cntrctrNo:paraCntrctrNo
          ,cntrctrCstmrNm:paraCntrctrCstmrNm
          ,bViewOnly:paraBViewOnly
         }          
       ,"pms_sls_com::houseCstmrCocnr_P01.xfdl");
	
}

//변경후 고객 등록 팝업
this.div_hcntCtrSeizrInfo02_btn_cstmrSearch_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var paraCallback = "fn_houseCstmr_Callback"; 
	
	var cstmrNm = this.div_hcntCtrSeizrInfo02.edt_nmAf.value;
	if(cstmrNm == undefined){
		cstmrNm = "";
	}
		
    this.gfn_popup("houseCstmrCocnr"
       , 641
       , 596
       , "주택계약자 고객 검색"
       , { cstmrNm:cstmrNm ,callback :paraCallback
         }             
       ,"pms_sls_com::houseCstmr_P01.xfdl");	
}


//주택고객 팝업 콜백 : 고객번호, 이름, 주민번호, 우편번호, 주소, 상세주소, 전화번호, 휴대폰, 이메일
this.fn_houseCstmr_Callback = function(houseCstmrNo, nm, ihidnum, zip, adres, adresDetail, telno, mbtlno, email){
    
    var nRow = this.ds_hcntrctrChangeList.rowposition;
    
    this.ds_hcntrctrChangeList.setColumn(nRow, "HOUSE_CSTMR_NO" , houseCstmrNo); //주택고객번호(변경후)
    this.ds_hcntrctrChangeList.setColumn(nRow, "NM_AF"          , nm          ); //계약자명
    this.ds_hcntrctrChangeList.setColumn(nRow, "IHIDNUM_AF"     , ihidnum     ); //주민등록번호
    this.ds_hcntrctrChangeList.setColumn(nRow, "ZIP_AF"         , zip         ); //우편번호
    this.ds_hcntrctrChangeList.setColumn(nRow, "ADRES_AF"       , adres       ); //주소
    this.ds_hcntrctrChangeList.setColumn(nRow, "ADRES_DETAIL_AF", adresDetail ); //상세주소
    this.ds_hcntrctrChangeList.setColumn(nRow, "TELNO_AF"       , telno       ); //전화번호
    this.ds_hcntrctrChangeList.setColumn(nRow, "MBTLNO_AF"      , mbtlno      ); //휴대전화
    this.ds_hcntrctrChangeList.setColumn(nRow, "EMAIL_AF"       , email       ); //이메일
    
    var getZip   = this.comUtils.isNullEmpty(zip)?"":zip ;
    
    this.ds_hcntrctrChangeList.setColumn(nRow, "ADRES_TT_AF"  , getZip + ' ' +  adres + ' ' + adresDetail   ); //전체주소
   

    return true;
}


//변경후 계약자2 등록 팝업
this.div_hcntCtrSeizrInfo02_btn_cstmrSearch2_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var paraCallback = "fn_houseCstmr_Callback2"; 
	
	var cstmrNm = this.div_hcntCtrSeizrInfo02.edt_nmSubAf.value;
	if(cstmrNm == undefined){
		cstmrNm = "";
	}
		
    this.gfn_popup("houseCstmrCocnr"
       , 641
       , 596
       , "주택계약자 고객 검색"
       , { cstmrNm:cstmrNm ,callback :paraCallback
         }             
       ,"pms_sls_com::houseCstmr_P01.xfdl");	
}

//주택고객 팝업 콜백 : 고객번호, 이름, 주민번호
this.fn_houseCstmr_Callback2 = function(houseCstmrNo, nm, ihidnum, zip, adres, adresDetail, telno, mbtlno, email){
    
    var nRow = this.ds_hcntrctrChangeList.rowposition;
    
    this.ds_hcntrctrChangeList.setColumn(nRow, "HOUSE_CSTMR_SUB_NO" , houseCstmrNo); //주택고객번호(변경후)
    this.ds_hcntrctrChangeList.setColumn(nRow, "NM_SUB_AF"          , nm          ); //계약자명
    this.ds_hcntrctrChangeList.setColumn(nRow, "IHIDNUM_SUB_AF"     , ihidnum     ); //주민등록번호
    
    return true;
}


//구분(분양,임대) 콤보 체인지 이벤트
this.div_search_cmb_houseGbn_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	this.ds_cmbDongHoList.clearData()           ; //동호 콤보 클리어
	this.ds_cmbTyAeaList.clearData()            ; //평형 콤보 클리어
	this.div_search.edt_nm.set_value("")        ; //성명 클리어
	
	this.ds_hcntrctrChangeList.clearData()      ; //주택계약변경 목록
	//this.ds_hcntrctrList.set_enableevent(false) ; //rowposchanged 이벤트 차단
	this.ds_hcntrctrList.clearData()            ; //주택계약 목록 클리어
    //this.ds_hcntrctrList.set_enableevent(true)  ; //rowposchanged 이벤트 허용
    
	this.fn_search_replace();
}



//변경후 정보
this.div_hcntCtrSeizrInfo02_mae_crdtrTelno03_onlbuttondown = function(obj:MaskEdit, e:nexacro.MouseEventInfo)
{
	var IHIDNUM_AF = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"IHIDNUM_AF");
	if(!this.comUtils.isNullEmpty(IHIDNUM_AF)){
		this.div_hcntCtrSeizrInfo02.mae_crdtrTelno03.set_mask('######-#######');
	}
}

this.div_hcntCtrSeizrInfo02_mae_crdtrTelno03_onlbuttonup = function(obj:MaskEdit, e:nexacro.MouseEventInfo)
{
	var IHIDNUM_AF = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"IHIDNUM_AF");
	if(!this.comUtils.isNullEmpty(IHIDNUM_AF)){
		this.div_hcntCtrSeizrInfo02.mae_crdtrTelno03.set_mask('######-#{######}');
	}
}

/* 사용자 콤보처리
 * 함수명  	: fn_loadComboNonCodeTbl
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: strDs - Data를 담아올 dataset 명
 *                obj - Click된 Combo Component
 *                ※ 위 Argument가 사용되면 함수는 해당되는 건만 찾아서 데이터를 가져온다.
 *                   전체 Combo의 데이터를 가져오려고 한다면, 생략하면 된다. 예 : this.fn_loadComboNonCodeTbl();
 * return Type 	: None
 * 사용법		: this.fn_loadComboNonCodeTbl();
 */
this.fn_loadComboNonCodeTbl = function (strDs, obj)
{
	// [BEGIN] 주택코드 목록
	// 전달값 구성
	var paramMap = {};
	paramMap["HOUSE_SE"] = this.div_search.cmb_houseGbn.value;	// 주택구분(판매)
	paramMap["USE_AT"  ] = "1"          ;   // 사용여부 : 0(미사용), 1(사용)
	
	this.pmsUtil.getHouseCode(paramMap, "ds_cmbHouseCodeList");
	// [ END ] 주택코드 목록
}

/*
 * 함수명  	    : fn_search
 * 설명 		: 주택계약 명의변경 조회
 *                주택계약 명의변경 내역을 조회한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */ 
this.fn_search = function()
{
  
	// Validation 체크
	if(!this.gfn_checkValidation(this.div_search, this.ds_validation)) {
    	return;
	}
	
	// 조회조건 추가 설정
	/* 2016.06.22
	var dongHoMap = this.pmsUtil.getComboSelectedItem(this.div_search.cmb_dongHo);
	this.ds_cond00.setColumn(0, "DONG", dongHoMap["DONG"] );  // 선택 동
	this.ds_cond00.setColumn(0, "HO"  , dongHoMap["HO"  ] );  // 선택 호
	*/
	//2016.06.22 동/호정보 없을때 오류 방지
    if(this.ds_cmbDongHoList.rowcount > 0){
		var dongHoMap = this.pmsUtil.getComboSelectedItem(this.div_search.cmb_dongHo);
		if( dongHoMap["DONG"] != null ){
			this.ds_cond00.setColumn(0, "DONG", dongHoMap["DONG"] );  // 선택 동
		}
		else{
			this.ds_cond00.setColumn(0, "DONG", "" );  // 선택 동
		}
		if( dongHoMap["HO"] != null ){
			this.ds_cond00.setColumn(0, "HO"  , dongHoMap["HO"  ] );  // 선택 호
		}
		else{
			this.ds_cond00.setColumn(0, "HO"  , "" );  // 선택 호
		}
    }

	this.ds_cond00.setColumn(0, "CNTRCTR_STTUS_CODE" , "01");  // 계약상태코드
	this.ds_cond00.setColumn(0, "CNTRCTR_STTUS_AT"   , "Y" );  // 순수 해약(계약)정보만 조회
	this.ds_cond00.setColumn(0, "RENT_LTTOT_CNVRS_AT", "Y" );  // 임대/분양 전환일자있는사람만(Y:  , N: )
	
	this.ds_cond00.setColumn(0, "HOUSE_SE", this.div_search.cmb_houseGbn.value );   //주택구분 세팅(S1,S3,S5,S9)
	
	this.pmsUtil.dumper(this.ds_cond00);

	// Clear Datasets
	//this.ds_hcntrctrList.clearData()       ;  // 계약정보 데이터셋 클리어

	// 주택계약 리스트 조회
	//this.fn_transaction("selectHcntrctrList");
	this.pmsUtil.getHcntrctrList("ds_cond00", "ds_hcntrctrList");
	
}



/*
 * 함수명  	    : fn_save
 * 설명 		: 주택계약 명의변경 저장
 *                주택계약 명의변경 저장 함수
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
/* 
this.fn_save = function()
{
    if(!this.gfn_checkValidation(this.ds_hcntrctrChangeList, this.ds_validation)) {
        return;
	}   
   if(this.confirm("저장하시겠습니까?"))	{
	  this.fn_transaction("saveHcntrctrChangeList")  ;  //명의변경 리스트 저장
       
	} // END IF
}
*/

/*
// 콤보 리스트 변경시 발생 이벤트
this.fn_comboOnItemChangeHandler = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	var comName = obj.name;
	var comValue = e ? e.postvalue : obj.value;
	var comIndex = e ? e.postindex : obj.index;
	var paramMap = {};
	switch(comName){
		// 조회조건 - 주택 콤보
		case "cmb_houseCodeCmb" :   //이벤트발생 컴포넌트
			paramMap["HOUSE_CODE"] = comValue;
			this.pmsUtil.getHouseDongHoAea(paramMap, "ds_cmbDongHoList", "ds_cmbTyAeaList");  //연동될 다음 컴포넌트
			break;
		default :
			break;
	}	
}
*/
/*
this.div_search_cmb_houseCodeCmb_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{	
	//주택코드 콤보에서 항목선택시 
	if(this.comUtils.isNullEmpty(this.div_search.cmb_houseCodeCmb.value) == false){
	    this.fn_transaction("cmbDongHoList")  ; //동호 콤보 리스트 호출
	    this.fn_transaction("cmbTyAeaList")   ; //평형 콤보 리스트 호출
	}	
	//this.fn_loadComboNonCodeTbl("ds_houseTyCmb", obj);
}
*/
/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/

//주택코드목록 콤보 재 호출(화면 클리어 후)
/*
this.fn_search_replace = function(){
 // [BEGIN] 주택코드 목록
	// 전달값 구성
	var paramMap = {};
	paramMap["HOUSE_SE"] = this.div_search.cmb_houseGbn.value;	// 주택구분(판매)
	paramMap["USE_AT"  ] = "1"          ;   // 사용여부 : 0(미사용), 1(사용)
	this.pmsUtil.getHouseCode(paramMap, "ds_cmbHouseCodeList");
}
*/


// 주택계약 리스트 데이터셋 Rowposition 변경시 이벤트 처리
/*
this.ds_hcntrctrList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	var nRow = e.newrow;
    if(nRow < 0 ){
        //this.gfn_message("info.항목.선택.알림","주택계약 정보");
        //return false;
    }
    
    //var str1  = this.ds_hcntrctrList.getColumn(nRow, "HOUSE_SE"      ); //주택구분(분양,임대)
	//var str2  = this.ds_hcntrctrList.getColumn(nRow, "LTTOT_CNVRS_SE"); //분양전환구분(01:분양전환대기,02:분양전환완료)
	//var str3  = this.ds_hcntrctrList.getColumn(nRow, "LTTOT_CNVRS_DE"); //분양전환일자
	//var str4  = this.ds_hcntrctrList.getColumn(nRow, "RENT_LTTOT_USE_AT"); //분양전환여부
	//alert("str4 = " + str4);

	//분양(S), 임대(R) 구분 
	//if( str4 == "Y"){  //임대
	//	STR_HOUSE_TYPE_SE = '02';
	//}
	//else if( str1 == "S1"|| str1 == "S3" || str1 == "S5" || str1 == "S9" || str2 == '02' || str4 == "N"){  //분양
	//	STR_HOUSE_TYPE_SE = '01';
	//}
	///else{       					//임대
	//	STR_HOUSE_TYPE_SE = '02';
	//}
	//this.div_hcntCtrSeizrInfo.cmb_houseGbn.set_value(STR_HOUSE_TYPE_SE);	
	
	this.fn_hcntrctrListSearch();
 }
*/

//공공임대주택 명의변경 신청서 출력 팝업창
/*this.fn_reportPop3 = function()
{
    var vOpts = new this.cf_Opts();
	
	vOpts.setToolbar(false);
	vOpts.setScale(100);
	vOpts.setArgs("title", "공공임대주택 명의변경 신청서");
	vOpts.setArgs("user", "홍길동");
		
	vOpts.setReportPath("/pms/sls/SLS020201_R01.jrf");
	vOpts.setSaveFilename("공공임대주택 명의변경 신청서");
	vOpts.setLocalDs(["ds_NmchangeInfo", this.ds_NmchangeInfo]);
	
	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		opts : vOpts
	};

	this.gfn_popup("Popup_Report", 884, 735, "공공임대면의변경 신청서", parm, "common::frmReportPopup.xfdl", "report_callback");
}	
*/


//주민번호 변환
//변경전 정보
/*
this.div_hcntCtrSeizrInfo_mae_IHIDNUM_onlbuttondown = function(obj:MaskEdit, e:nexacro.MouseEventInfo)
{
	var IHIDNUM_BF = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"IHIDNUM_BF");
	if(!this.comUtils.isNullEmpty(IHIDNUM_BF)){
		this.div_hcntCtrSeizrInfo.mae_IHIDNUM.set_mask('######-#######');
	}
}

this.div_hcntCtrSeizrInfo_mae_IHIDNUM_onlbuttonup = function(obj:MaskEdit, e:nexacro.MouseEventInfo)
{
	var IHIDNUM_BF = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"IHIDNUM_BF");
	if(!this.comUtils.isNullEmpty(IHIDNUM_BF)){
		this.div_hcntCtrSeizrInfo.mae_IHIDNUM.set_mask('######-#{######}');
	}
}
*/


this.div_hcntCtrSeizrInfo02_edt_ctrtcFile_oneditclick = function(obj:Edit,  e:nexacro.EditClickEventInfo)
{
	
}

this.btn_atchFile_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
    if (this.ds_hcntrctrChangeList.rowcount > 0)
		this.fn_addAtchFile(false);//단건
}

this.btn_downAtchFile_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_downloadAtchFile();
}



/*
 * 함수명  	: fn_addAtchFile
 * 설명 		: 업로드 파일선택
 * params  		: isMulti   true(다건), false(단건)
 * return Type 	: None
 * 사용법		: this.fn_addAtchFile();
 */
this.fn_addAtchFile = function(isMulti){
	
	var allowFile = null;//["txt"];	// 선택 허용 파일유형 - Confilg에서 설정이 가능하나 선택시에도 처리가능하게
	var useMultiSelect = isMulti;
	
	//신규 첨부파일
	var fileSn = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"FILE_SN");	
	if(this.comUtils.isNullEmpty(fileSn)){	
		this.fn_getNewFileSn();		
	}
	else{		
	    // 첨부파일 삭제
	    this.fn_deleteAtchFile();
		this.FILE_MANAGER.addFilesWithSn(fileSn, false, true, false, null);
	}
	
}

/*
 * 함수명  	: fn_btnOnMouseEnterHandler
 * 설명 		: 파일일련번호 가지고오기
 * params  		: isMulti   true(다건), false(단건)
 * return Type 	: None
 * 사용법		: this.fn_btnOnMouseEnterHandler();
 */
this.fn_btnOnMouseEnterHandler = function(obj:Button, e:nexacro.MouseEventInfo){
	var btnName = obj.name;
	switch(btnName){
		case "btn_atchFile" :
			this.fn_getNewFileSn();
			break;
		default :
			break;
	}
}

/*
 * 함수명  	: fn_getNewFileSn
 * 설명 		: 파일 첨부용 파일일련번호(FILE_SN) 채번
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_getNewFileSn()
 */
this.fn_getNewFileSn = function(){
	var fileSn = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition,"FILE_SN");
	if(this.comUtils.isNullEmpty(fileSn)){
		// 대상 DataSet 초기화
		this.pmsUtil.clearDataSet([this.ds_fileSn]);
		this.div_hcntCtrSeizrInfo02.btn_atchFile.set_enable(false);

		this.fn_transaction("getFileSn");
	}
}

/*
 * 함수명  	: fn_setFileSnInfo
 * 설명 		: 파일일련번호 설정
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_setFileSnInfo()
 */
this.fn_setFileSnInfo = function(addFile){

	// 파일 일련번호 존재 확인
	var fileSn = this.ds_fileSn.getColumn(this.ds_fileSn.rowposition, "FILE_SN");	
	if(this.comUtils.isNullEmpty(fileSn)){
		this.alert(null, "파일일련번호가 없습니다.");
		return;
	}
	
	// 주택상세 정보에 추가
	this.ds_hcntrctrChangeList.setColumn(this.ds_hcntrctrChangeList.rowposition,"FILE_SN", fileSn);
	
	if(addFile){
		this.div_hcntCtrSeizrInfo02.btn_atchFile.set_enable(true);
	}

	this.fn_addAtchFile(false);
}

/**
 * 함수명  	: fn_onFileSelected 이벤트 핸들러
 * 설명 		: 업로드 파일선택 첨부파일선택시 콜백 함수
 * params  		: fileFullName 선택 전체 파일명, type 실행구분(ExtFileUpload/ExtFileDownload)
 * return Type 	: None
 * 사용법		: this.fn_onFileSelected();
 */
this.fn_onFileSelected = function(type, fileFullName) {
	if(type == this.FILE_MANAGER.TYPE_UPLOADER) {
		var isNmArray = this.comUtils.isArray(fileFullName);
		
		if(isNmArray) {
			// TODO - 본 화면은 단건 처리이므로 해당 없음.				
		} 
		else{
			if(typeof(fileFullName) == "boolean" && !fileFullName){
				/* 선택파일이 조건에 맞지않아 제외되어 건수가 없을 경우
				 * 선택행의 FILE_SN을 삭제한다. 
				 */
				this.ds_hcntrctrChangeList.setColumn(this.ds_hcntrctrChangeList.rowposition, "FILE_SN", "");	// 첨부된 파일 데이터 셋 입력 취소 처리
			}
			else{
				this.ds_hcntrctrChangeList.setColumn(this.ds_hcntrctrChangeList.rowposition, "ORGINL_FILE_NM", fileFullName);	// 첨부된 파일 데이터 셋 입력 처리
				
				this.fn_setAtchFileView();		// 첨부파일 뷰 설정
			}
		}
	}
}

/**
 * 함수명  	: fn_onFileSuccess 파일 업로드 성공 이벤트 핸들러
 * 설명 		: 파일 업로드 성공
 * params  		: type 실행구분(ExtFileUpload/ExtFileDownload), e 발생이벤트
 * return Type 	: None
 * 사용법		: this.fn_onFileSuccess();
 */
this.fn_onFileSuccess = function(type, e){

	if(type == this.FILE_MANAGER.TYPE_UPLOADER){
		this.alert("저장되었습니다.");	
		this.fn_search();			
	}
	if(type == this.FILE_MANAGER.TYPE_DOWNLOADER){
		trace("파일 다운로드 완료");
	}
}

this.fn_onFileError = function(type, e){
	if(type == this.FILE_MANAGER.TYPE_UPLOADER){
		trace("파일 업로드 오류");
	}
	if(type == this.FILE_MANAGER.TYPE_DOWNLOADER){
		if(e.errorcode == "404"){
			this.gfn_message("err.파일.없음", "파일이 존재하지 않아 다운로드 할 수 없습니다.");
		}
	}
}

/**
 * 함수명  	: fn_downloadAtchFile
 * 설명 		: 첨부파일 보기(다운로드)
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_downloadAtchFile();
 */
this.fn_downloadAtchFile = function(){
	var fileSn = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "FILE_SN");			// 파일일련번호(파일경로)
	var fileOrder = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "FILE_ORDR");
	var fileName = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "ORGINL_FILE_NM");	// 실제 파일명
	
	this.FILE_MANAGER.download(fileSn, fileOrder, fileName);
}

/**
 * 파일업로드 선택 파일 취소
 * @param 
 * @return void
 */
this.fn_cancelAtchFile = function(){
	
	var nCurRow = this.ds_hcntrctrChangeList.rowposition;	
	var useAddFileSn = this.FILE_MANAGER.USE_ADD_FILE_SN;
	var cancelField = useAddFileSn ? "FILE_SN" : "ORGINL_FILE_NM";
	var selFileNm = this.ds_hcntrctrChangeList.getColumn(nCurRow, cancelField);
	var result = this.FILE_MANAGER.cancelFiles(selFileNm);
	
	if(result){
		this.ds_hcntrctrChangeList.setColumn(nCurRow, "ORGINL_FILE_NM", "");		// 표기용 파일명 정보 초기화
		
		if(useAddFileSn){
			this.ds_hcntrctrChangeList.setColumn(nCurRow, "FILE_SN", "");	// 처리용 파일일련번호 정보 초기화
		}
		
		this.fn_setAtchFileView();		// 첨부파일 영역 처리
	}
}

/**
 * 함수명  	: fn_deleteAtchFile
 * 설명 		: 첨부파일 삭제
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_deleteAtchFile();
 */
this.fn_deleteAtchFile = function(){

	var confirmMsg = "첨부파일을 삭제하시겠습니까?";
	if(confirm(confirmMsg)){
	
		var nCurRow = this.ds_hcntrctrInfo.rowposition;
		//this.ds_hcntrctrChangeList.setColumn(nCurRow, "CTRTC_FILE_COURS", "");
		//this.ds_hcntrctrChangeList.setColumn(nCurRow, "CTRTC_FILE", "");

		this.fn_transaction("deleteFileInfo");		// 토지 상세 첨부파일 삭제
	}
}

/**
 * 함수명  	: fn_setAtchFileView
 * 설명 		: 첨부파일 보기 설정
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_setAtchFileView();
 */
this.fn_setAtchFileView = function(){

	// 첨부파일이 있으면 첨부파일의 검색버튼을 숨기고, 파일삭제, 파일보기 버튼 활성화 처리	
	var atchPath = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "ORGINL_FILE_NM");	// 파일경로
	var atchFile = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "FILE_SN");			// 파일일련번호
	var atchFileOrdr = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "FILE_ORDR");	// 파일순번

	var hasAtchPath = this.comUtils.isNullEmpty(atchPath) ? false : true;
	var hasAtchFile = this.comUtils.isNullEmpty(atchFile) ? false : true; //일련번호
	var hasAtchFileOrdr = this.comUtils.isNullEmpty(atchFileOrdr) ? false : true;
	//저장된파일이 있을때
	if(hasAtchPath && hasAtchFile && hasAtchFileOrdr){	
		//this.div_hcntCtrSeizrInfo02.btn_atchFile.set_visible(false);		 	// 파일검색
		//this.div_hcntCtrSeizrInfo02.btn_cancelAtchFile.set_visible(false); 	// 취소
		//this.div_hcntCtrSeizrInfo02.btn_delAtchFile.set_visible(true);	 		// 파일삭제
		//this.div_hcntCtrSeizrInfo02.btn_downAtchFile.set_visible(true);		// 파일보기(다운로드)
	}
	//저장된파일이 없을때
	if(!hasAtchPath && !hasAtchFile && !hasAtchFileOrdr){	
		this.div_hcntCtrSeizrInfo02.btn_atchFile.set_visible(true);		 	// 파일검색
		//this.div_hcntCtrSeizrInfo02.btn_cancelAtchFile.set_visible(true); 		// 취소
		//this.div_hcntCtrSeizrInfo02.btn_delAtchFile.set_visible(false);	 	// 파일삭제
		//this.div_hcntCtrSeizrInfo02.btn_downAtchFile.set_visible(false);		// 파일보기(다운로드)
	}
	//추가하고 파일과,일련번호 있을때
	if(hasAtchPath && hasAtchFile && !hasAtchFileOrdr){	
		this.div_hcntCtrSeizrInfo02.btn_atchFile.set_visible(true);		 	// 파일검색
		//this.div_hcntCtrSeizrInfo02.btn_cancelAtchFile.set_visible(true); 		// 취소
		//this.div_hcntCtrSeizrInfo02.btn_delAtchFile.set_visible(false);	 	// 파일삭제
		//this.div_hcntCtrSeizrInfo02.btn_downAtchFile.set_visible(false);		// 파일보기(다운로드)
	}
	//추가하고 일련번호만 있을때
	if(!hasAtchPath && hasAtchFile && !hasAtchFileOrdr){	
		this.div_hcntCtrSeizrInfo02.btn_atchFile.set_visible(true);		 	// 파일검색
		//this.div_hcntCtrSeizrInfo02.btn_cancelAtchFile.set_visible(true); 		// 취소
		//this.div_hcntCtrSeizrInfo02.btn_delAtchFile.set_visible(false);	 	// 파일삭제
		//this.div_hcntCtrSeizrInfo02.btn_downAtchFile.set_visible(false);		// 파일보기(다운로드)
	}	
}

this.grd_intrtList_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var SANCTN_NO = this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition, "INNER_SANCTN_NO");	
		if(!this.comUtils.isNullEmpty(SANCTN_NO) && SANCTN_NO > 0){
			this.fn_InnerSactionPop(SANCTN_NO);
		}
}

//내부결재 조회
this.fn_InnerSactionPop = function(SANCTN_NO){

    var param = {
		arg_0 : this,  
		arg_1 : SANCTN_NO
	};
	
	var fn_cb = function(sPopupId, sReturn) {
		//결재완료
	}
	
	this.gfn_popupTop("SYM101000_P20", 1100, 730, "결재정보", param, "com_sym_ism::SYM101000_P20.xfdl", fn_cb);
}
/**
 * 파일 삭제
 * @param 
 * @return void
 */
this.fn_deleteAtchFile = function(){
	this.ds_file_delete.clearData();
	
	var confirmMsg = "선택한 파일을 삭제하시겠습니까?";
	if(confirm(confirmMsg)){
			this.ds_file_delete.clearData();
			var nRow = this.ds_file_delete.addRow();
			this.ds_file_delete.setColumn( nRow , "FILE_SN" , this.ds_hcntrctrChangeList.getColumn( this.ds_hcntrctrChangeList.rowposition , "FILE_SN"));
			this.ds_file_delete.setColumn( nRow , "FILE_ORDR" , this.ds_hcntrctrChangeList.getColumn( this.ds_hcntrctrChangeList.rowposition , "FILE_ORDR"));	
			this.ds_file_delete.setColumn( nRow , "CNTRCTR_NO" , this.ds_hcntrctrChangeList.getColumn(this.ds_hcntrctrChangeList.rowposition , "CNTRCTR_NO"));
			this.ds_file_delete.setColumn( nRow , "CHANGE_SE" , this.ds_hcntrctrChangeList.getColumn( this.ds_hcntrctrChangeList.rowposition , "CHANGE_SE"));
			this.ds_file_delete.setColumn( nRow , "CHANGE_SN" , this.ds_hcntrctrChangeList.getColumn( this.ds_hcntrctrChangeList.rowposition , "CHANGE_SN"));
			this.fn_transaction("deleteFile");		// 첨부파일 삭제;
	}
}
]]></Script>
  </Form>
</FDL>
