<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\..\default_typedef.xml"/>
  <Form id="SLS020102" classname="SLS020102" left="0" top="0" width="840" height="647" titletext="해약처리-분양" oninit="SLS020102_oninit" onload="SLS020102_onload">
    <Layouts>
      <Layout>
        <Static id="Static19" taborder="20" cssclass="sta_WF_Labelbg" left="11" top="125" height="27" width="820"/>
        <Static id="Static03" taborder="9" text="해약정보" cssclass="sta_WF_Title02" left="11" top="159" height="19" width="240"/>
        <Static id="Static07" taborder="14" text="주택정보" cssclass="sta_WF_Title02" left="11" top="106" height="19" width="240"/>
        <Static id="Static47" taborder="15" text="주택코드" cssclass="sta_WF_Label" left="11" top="125" width="80" height="27"/>
        <Edit id="edt_houseTyCodeR" taborder="16" readonly="true" cssclass="edt_WF_Readonly" left="92" top="128" width="173" height="21"/>
        <Static id="Static08" taborder="17" text="동/호" cssclass="sta_WF_Label" left="267" top="125" width="55" height="27"/>
        <Edit id="edt_dongR" taborder="18" readonly="true" cssclass="edt_WF_Readonly" left="324" top="128" width="64" height="21"/>
        <Edit id="edt_hoR" taborder="19" readonly="true" cssclass="edt_WF_Readonly" left="390" top="128" width="64" height="21"/>
        <Static id="Static10" taborder="21" text="계약자" cssclass="sta_WF_Label" left="456" top="125" width="55" height="27"/>
        <Edit id="edt_conTractorR" taborder="22" readonly="true" cssclass="edt_WF_Readonly" left="513" top="128" width="148" height="21"/>
        <Div id="Div08" taborder="24" left="11" top="178" height="133" cssclass="div_WFSA_Box" style="border:0 none #808080ff ;" width="820">
          <Layouts>
            <Layout>
              <Static id="Static00" taborder="156" cssclass="sta_WF_Labelbg" left="0" top="52" height="27" width="820"/>
              <Static id="Static10" taborder="150" cssclass="sta_WF_Labelbg" left="0" top="26" height="27" width="820"/>
              <Static id="Static02" taborder="166" cssclass="sta_WF_Labelbg" left="0" top="104" height="27" width="820"/>
              <Static id="Static14" taborder="144" cssclass="sta_WF_Labelbg" left="0" top="0" height="27" width="820"/>
              <Edit id="edt_rm" taborder="137" left="82" top="107" width="460" height="21" lengthunit="utf8" maxlength="200"/>
              <Edit id="edt_seizr" taborder="139" cssclass="edt_WF_Readonly" enable="false" left="626" top="107" width="94" height="21" readonly="true" style=":disabled {color:red;}"/>
              <Calendar id="cal_receptDe" taborder="140" dateformat="yyyy-MM-dd" left="82" top="3" width="110" height="21" style="background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;" cssclass="cal_WF_Essential" readonly="false"/>
              <Static id="Static03" taborder="145" text="해약일자" cssclass="sta_WF_Label" left="272" top="0" width="80" height="27"/>
              <Calendar id="cal_cancelDe" taborder="146" dateformat="yyyy-MM-dd" left="354" top="3" width="110" height="21" style="background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;" cssclass="cal_WF_Essential" readonly="false" onchanged="fn_cancelCancelDeEvent"/>
              <Static id="Static06" taborder="147" text="퇴거일자" cssclass="sta_WF_Label" left="544" top="0" width="80" height="27"/>
              <Calendar id="cal_lvhsDe" taborder="148" dateformat="yyyy-MM-dd" left="626" top="3" width="110" height="21" style="background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;"/>
              <Static id="Static04" taborder="149" text="전화번호" cssclass="sta_WF_Label" left="0" top="26" width="80" height="27"/>
              <Edit id="edt_telNo" taborder="151" left="82" top="29" width="188" height="21" inputtype="number" lengthunit="utf8" maxlength="12"/>
              <Static id="Static11" taborder="152" text="휴대전화" cssclass="sta_WF_Label" left="272" top="26" width="80" height="27"/>
              <Edit id="edt_mbtlNo" taborder="153" left="354" top="29" width="188" height="21" inputtype="number" lengthunit="utf8" maxlength="12"/>
              <Static id="Static12" taborder="154" text="해약사유" cssclass="sta_WF_Label" left="544" top="26" width="80" height="27"/>
              <Combo id="cmb_cancelResn" taborder="155" index="-1" left="626" top="29" width="191" height="21" cssclass="cmb_WF_Essential" style="background:#fffcfbff URL('theme://images/img_WF_Essential.png') left top;" innerdataset="@ds_cancelresncmb" datacolumn="CODE_NM" codecolumn="CODE"/>
              <Static id="Static13" taborder="157" text="주소" cssclass="sta_WF_Label" left="0" top="52" width="80" height="27"/>
              <Edit id="edt_addr" taborder="158" left="82" top="55" width="735" height="21" lengthunit="utf8" maxlength="200"/>
              <Static id="Static01" taborder="159" cssclass="sta_WF_Labelbg" left="0" top="78" height="27" width="820"/>
              <Static id="Static05" taborder="160" text="예금주" cssclass="sta_WF_Label" left="0" top="78" width="80" height="27"/>
              <Static id="Static08" taborder="161" text="은행" cssclass="sta_WF_Label" left="272" top="78" width="80" height="27"/>
              <Static id="Static16" taborder="162" text="계좌" cssclass="sta_WF_Label" left="544" top="78" width="80" height="27"/>
              <Edit id="edt_acnutNo" taborder="163" left="626" top="81" width="191" height="21" inputtype="number" lengthunit="utf8" maxlength="20"/>
              <Edit id="edt_dpstr" taborder="164" left="82" top="81" width="188" height="21" lengthunit="utf8" maxlength="30"/>
              <Combo id="cmb_bank" taborder="165" left="354" top="81" width="188" height="21" innerdataset="@ds_bankcmb" datacolumn="CODE_NM" codecolumn="CODE"/>
              <Static id="Static17" taborder="167" text="참고사항" cssclass="sta_WF_Label" left="0" top="104" width="80" height="27"/>
              <Static id="Static09" taborder="168" text="압류정보" cssclass="sta_WF_Label" left="544" top="104" width="80" height="27"/>
              <Static id="Static15" taborder="169" text="접수일자" cssclass="sta_WF_Label" left="0" top="0" width="80" height="27"/>
              <MaskEdit id="msk_amt" taborder="170" mask="###,###,###,###,###" onchanged="fn_cancelRentReturnAmtSearchCall" cssclass="msk_WF_Readonly" left="722" top="107" width="95" height="21" readonly="true" style="color:red;"/>
            </Layout>
          </Layouts>
        </Div>
        <Edit id="Edit00" taborder="29" left="663" top="128" width="98" height="21" readonly="true" cssclass="edt_WF_Readonly"/>
        <Static id="Static00" taborder="31" text="정산내역" cssclass="sta_WF_Title02" left="11" top="359" height="19" width="240"/>
        <Div id="Div00" taborder="32" left="11" top="324" height="28" cssclass="div_WFSA_Box" width="821">
          <Layouts>
            <Layout>
              <Static id="Static19" taborder="170" text="반환이자 이율" cssclass="sta_WFSA_Label" left="13" top="3" width="95" height="21"/>
              <CheckBox id="chk_b" taborder="171" text="위약금적용" value="1" truevalue="1" falsevalue="0" onchanged="fn_cancelReturnAmtReSearch" left="366" top="3" width="82" height="21" tooltiptype="hover" tooltiptext="tklhytyty"/>
              <CheckBox id="chk_a" taborder="172" text="계약금 반환이자 지급" value="0" truevalue="1" falsevalue="0" onchanged="fn_cancelReturnAmtReSearch" left="215" top="3" width="138" height="21" tooltiptype="hover" tooltiptext="tklhytyty"/>
              <Static id="Static05" taborder="173" text="15" visible="false" left="0%" top="0" right="98.39%" height="31" style="background:#00ffff66;"/>
              <Static id="Static01" taborder="176" text="기본" cssclass="sta_WFSA_Label" left="475" top="3" width="39" height="21"/>
              <Static id="Static00" taborder="178" text="확장" cssclass="sta_WFSA_Label" left="608" top="3" width="39" height="21"/>
              <Static id="Static10" taborder="179" text="15" visible="false" left="43.18%" top="-6" right="56.16%" height="31" style="background:#00ffff66;"/>
              <MaskEdit id="msk_01" taborder="180" mask="#,#0.00" onchanged="fn_cancelReturnAmtReSearch" cssclass="msk_WF_Essential" left="108" top="3" width="60" height="21"/>
              <Static id="Static14" taborder="181" text="%" left="168" top="3" width="21" height="21" style="align:center middle;"/>
              <MaskEdit id="msk_02" taborder="182" mask="#,#0.00" onchanged="fn_cancelReturnAmtReSearch" cssclass="msk_WF_Essential" left="514" top="3" width="60" height="21"/>
              <Static id="Static02" taborder="183" text="%" left="574" top="3" width="21" height="21" style="align:center middle;"/>
              <MaskEdit id="msk_03" taborder="184" mask="#,#0.00" onchanged="fn_cancelReturnAmtReSearch" cssclass="msk_WF_Essential" left="646" top="3" width="60" height="21"/>
              <Static id="Static03" taborder="185" text="%" left="706" top="3" width="21" height="21" style="align:center middle;"/>
              <Static id="Static08" taborder="186" text="15" visible="false" left="56.63%" top="0" right="41.76%" height="31" style="background:#00ffff66;"/>
              <Static id="Static07" taborder="187" text="15" visible="false" left="72.82%" top="0" right="25.57%" height="31" style="background:#00ffff66;"/>
              <Static id="Static06" taborder="188" text="15" visible="false" left="25.09%" top="0" right="73.3%" height="31" style="background:#00ffff66;"/>
            </Layout>
          </Layouts>
        </Div>
        <Grid id="grd_lttotList" taborder="33" binddataset="ds_hcntrctrCancelReturnAmtList" useinputpanel="false" left="8" top="376" bottom="55" width="827">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="57"/>
                <Column size="101"/>
                <Column size="77"/>
                <Column size="90"/>
                <Column size="90"/>
                <Column size="90"/>
                <Column size="90"/>
                <Column size="90"/>
                <Column size="80"/>
                <Column size="148"/>
                <Column size="100"/>
                <Column size="170"/>
                <Column size="100"/>
                <Column size="90"/>
                <Column size="110"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24" band="head"/>
                <Row size="30" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell rowspan="3" text="계약자"/>
                <Cell col="1" rowspan="3" text="분양금액"/>
                <Cell col="2" colspan="4" text="실납부액"/>
                <Cell col="6" colspan="4" text="반환금 및 지급 이자"/>
                <Cell col="10" colspan="5" text="공제금액"/>
                <Cell row="1" col="2" rowspan="2" text="구분"/>
                <Cell row="1" col="3" rowspan="2" text="납부금액"/>
                <Cell row="1" col="4" rowspan="2" text="연체이자"/>
                <Cell row="1" col="5" rowspan="2" text="납부일자"/>
                <Cell row="1" col="6" rowspan="2" text="반환납부금(a)"/>
                <Cell row="1" col="7" rowspan="2" text="반환연체금(b)"/>
                <Cell row="1" col="8" rowspan="2" text="기산일"/>
                <Cell row="1" col="9" text="지급이자(c)"/>
                <Cell row="1" col="10" text="계(d)"/>
                <Cell row="1" col="11" text="위약금(e)"/>
                <Cell row="1" col="12" text="소득세(f)"/>
                <Cell row="1" col="13" text="주민세(g)"/>
                <Cell row="1" col="14" text="실지급액"/>
                <Cell row="2" col="9" text="납부금액*반환이율%&#13;&#10;*기산일/365"/>
                <Cell row="2" col="10" text="(e)+(f)+(g)"/>
                <Cell row="2" col="11" text="(계약금+확장(기본))&#13;&#10;*확장%"/>
                <Cell row="2" col="12" text="(c)*20%"/>
                <Cell row="2" col="13" text="(f)*10%"/>
                <Cell row="2" col="14" text="(a)+(b)+(c)-(d)"/>
              </Band>
              <Band id="body">
                <Cell text="bind:CNAME"/>
                <Cell col="1" displaytype="number" style="align:right;" text="bind:TOT_AMT"/>
                <Cell col="2" style="align: ;" text="bind:PAY_CODE_NM"/>
                <Cell col="3" displaytype="number" style="align:right;" text="bind:PAYAMT"/>
                <Cell col="4" displaytype="number" style="align:right;" text="bind:ARRRG_AMOUNT"/>
                <Cell col="5" displaytype="date" text="bind:RCIV_DE" calendardisplay="edit" calendardisplaynulltype="none"/>
                <Cell col="6" displaytype="number" style="align:right;" text="bind:PAYAMT"/>
                <Cell col="7" displaytype="number" style="align:right;" text="bind:ARRRG_AMOUNT"/>
                <Cell col="8" displaytype="number" style="align: ;" text="bind:BET_DAY"/>
                <Cell col="9" displaytype="number" style="align:right;" text="bind:INT_AMT"/>
                <Cell col="10" displaytype="number" style="align:right;" text="bind:RT_AMT"/>
                <Cell col="11" displaytype="number" style="align:right;" text="bind:P_AMT"/>
                <Cell col="12" displaytype="number" style="align:right;" text="bind:SO_AMT"/>
                <Cell col="13" displaytype="number" style="align:right;" text="bind:JU_AMT"/>
                <Cell col="14" displaytype="number" style="align:right;" text="bind:PAY_AMT"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_popTitle" taborder="34" text="해약처리" cssclass="sta_WF_PopupTitle" left="0" top="0" height="34" right="0"/>
        <Button id="btn_save" taborder="35" text="저장" onclick="fn_save" cssclass="btn_WF_CRUD" left="660" top="43" width="50" height="25" userdata="fn_search"/>
        <Button id="btn_appr" taborder="36" text="결재" onclick="fn_sanction" cssclass="btn_WF_CRUD" left="716" top="43" width="50" height="25" userdata="fn_search"/>
        <Button id="btn_quit" taborder="37" text="종료" onclick="btn_quit_onclick" cssclass="btn_WF_CRUD" left="772" top="43" width="50" height="25" userdata="fn_search"/>
        <Static id="Static01" taborder="38" text="분양(보증금)해약처리" cssclass="sta_WF_Title01" left="11" top="50" height="19" width="246"/>
        <Button id="btn_delete" taborder="39" text="해약처리복원" onclick="fn_delete" cssclass="btn_WF_Link" left="733" top="80" width="87" height="21" style="background:@gradation;border:1 solid #c5ab6eff ;color:#804500ff;bordertype:round 2 2 ;gradation:linear 0,0 #fff7e8ff 0,100 #ebe9e2ff;"/>
        <Button id="btn_xClose" taborder="40" onclick="btn_quit_onclick" cssclass="btn_WF_PopupClose" left="809" top="7" width="20" height="20"/>
        <Button id="btn_printList" taborder="41" text="정산내역서" onclick="btn_printList_onclick" top="355" right="9" width="88" height="19"/>
        <Button id="btn_expndtrDecsn" taborder="42" text="지출결의" onclick="btn_expndtrDecsn_onclick" cssclass="btn_WF_Link" left="541" top="80" width="87" height="21" style="background:@gradation;border:1 solid #c5ab6eff ;color:#804500ff;bordertype:round 2 2 ;gradation:linear 0,0 #fff7e8ff 0,100 #ebe9e2ff;"/>
        <Button id="btn_pymntRequst" taborder="43" text="가상계좌" cssclass="btn_WF_Link" left="637" top="80" width="87" height="21" style="background:@gradation;border:1 solid #c5ab6eff ;color:#804500ff;bordertype:round 2 2 ;gradation:linear 0,0 #fff7e8ff 0,100 #ebe9e2ff;" onclick="btn_pymntRequst_onclick"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item20" compid="Div08.cal_receptDe" propid="value" datasetid="ds_hcntrctrCancelList" columnid="REGIST_DT"/>
      <BindItem id="item4" compid="edt_houseTyCodeR" propid="value" datasetid="ds_hcntrctrList" columnid="ALL_HOUSE_NM"/>
      <BindItem id="item5" compid="edt_dongR" propid="value" datasetid="ds_hcntrctrList" columnid="DONG"/>
      <BindItem id="item6" compid="edt_hoR" propid="value" datasetid="ds_hcntrctrList" columnid="HO"/>
      <BindItem id="item0" compid="edt_conTractorR" propid="value" datasetid="ds_hcntrctrList" columnid="CSTMR_NM"/>
      <BindItem id="item1" compid="Div08.cal_cancelDe" propid="value" datasetid="ds_hcntrctrCancelList" columnid="CANCL_DE"/>
      <BindItem id="item2" compid="Div08.cal_lvhsDe" propid="value" datasetid="ds_hcntrctrCancelList" columnid="LVHS_DE"/>
      <BindItem id="item7" compid="Div08.edt_telNo" propid="value" datasetid="ds_hcntrctrCancelList" columnid="LVHS_TELNO"/>
      <BindItem id="item8" compid="Div08.edt_mbtlNo" propid="value" datasetid="ds_hcntrctrCancelList" columnid="LVHS_MOBLPHON"/>
      <BindItem id="item9" compid="Div08.cmb_cancelResn" propid="value" datasetid="ds_hcntrctrCancelList" columnid="RESCI_RESN_CODE"/>
      <BindItem id="item10" compid="Div08.edt_addr" propid="value" datasetid="ds_hcntrctrCancelList" columnid="LVHS_ADRES"/>
      <BindItem id="item11" compid="Div08.edt_dpstr" propid="value" datasetid="ds_hcntrctrCancelList" columnid="DPSTR"/>
      <BindItem id="item12" compid="Div08.cmb_bank" propid="value" datasetid="ds_hcntrctrCancelList" columnid="BANK_CODE"/>
      <BindItem id="item13" compid="Div08.edt_acnutNo" propid="value" datasetid="ds_hcntrctrCancelList" columnid="ACNUTNO"/>
      <BindItem id="item14" compid="Div08.edt_rm" propid="value" datasetid="ds_hcntrctrCancelList" columnid="RM"/>
      <BindItem id="item15" compid="Div08.edt_seizr" propid="value" datasetid="ds_hcntrctrCancelList" columnid="CRDTR_NM"/>
      <BindItem id="item18" compid="Edit00" propid="value" datasetid="ds_hcntrctrList" columnid="CNTRCTR_NO"/>
      <BindItem id="item30" compid="Div08.msk_amt" propid="value" datasetid="ds_hcntrctrCancelList" columnid="TOT_AMOUNT"/>
      <BindItem id="item3" compid="Div00.msk_01" propid="value" datasetid="ds_lttotRatioInfo" columnid="RAT2"/>
      <BindItem id="item16" compid="Div00.msk_02" propid="value" datasetid="ds_lttotRatioInfo" columnid="RAT3"/>
      <BindItem id="item17" compid="Div00.msk_03" propid="value" datasetid="ds_lttotRatioInfo" columnid="RAT4"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_SE" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="AEA" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_STTUS_CODE" type="STRING" size="256"/>
          <Column id="CNTRCTR_STTUS_AT" type="STRING" size="256"/>
          <Column id="RENT_LTTOT_CNVRS_AT" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="HOUSE_SE">S1,S3,S5,S9</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">div_search</Col>
            <Col id="colId">cmb_houseCode</Col>
            <Col id="notNull">N</Col>
            <Col id="msgId">주택코드</Col>
            <Col id="type"/>
          </Row>
          <Row>
            <Col id="compId">Div08</Col>
            <Col id="colId">cal_cancelDe</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">해약일자</Col>
          </Row>
          <Row>
            <Col id="compId">Div08</Col>
            <Col id="colId">cmb_cancelResn</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">해약사유</Col>
          </Row>
          <Row>
            <Col id="compId">this.tpg_00.tabpage3.Div00</Col>
            <Col id="colId">Calendar00</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">퇴거예정일</Col>
          </Row>
          <Row>
            <Col id="compId">this.tpg_00.tabpage3.Div00</Col>
            <Col id="colId">Calendar01</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">점검시작일</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">this.tpg_00.tabpage3.Div00</Col>
            <Col id="colId">Calendar02</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">점검종료일</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">this.tpg_00.tabpage3.Div00</Col>
            <Col id="colId">TextArea00</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">전달사항</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cmbHouseCodeList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="ALL_HOUSE_NM" type="STRING" size="256"/>
          <Column id="HOUSE_SE" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmbDongHoList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="DONG_HO" type="STRING" size="256"/>
          <Column id="HOUSE_TY_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmbTyAeaList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="AEA" type="STRING" size="256"/>
          <Column id="AEA_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bankcmb" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cancelresncmb" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hcntrctrCancelList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CANCL_DE" type="STRING" size="256"/>
          <Column id="RESCI_RESN_CODE" type="STRING" size="256"/>
          <Column id="RESCI_RESN_DETAIL" type="STRING" size="256"/>
          <Column id="BANK_CODE" type="STRING" size="256"/>
          <Column id="BANK_CODE_NM" type="STRING" size="256"/>
          <Column id="ACNUTNO" type="STRING" size="256"/>
          <Column id="DPSTR" type="STRING" size="256"/>
          <Column id="LVHS_DE" type="STRING" size="256"/>
          <Column id="LVHS_ADRES" type="STRING" size="256"/>
          <Column id="LVHS_TELNO" type="STRING" size="256"/>
          <Column id="LVHS_MOBLPHON" type="STRING" size="256"/>
          <Column id="PENLTY_APPLC_AT" type="STRING" size="256"/>
          <Column id="PENLTY" type="STRING" size="256"/>
          <Column id="PENLTY_INTRT" type="STRING" size="256"/>
          <Column id="ELCTRN_SANCTN_NO" type="STRING" size="256"/>
          <Column id="CANCL_EXPNDTR_DECSN_NO" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="REGIST_DT2" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="RENT_BGNDE" type="STRING" size="256"/>
          <Column id="RENT_ENDDE" type="STRING" size="256"/>
          <Column id="LTTOT_RENT_SE" type="STRING" size="256"/>
          <Column id="PAY_CODE_SE" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_DE" type="STRING" size="256"/>
          <Column id="DECSN_YEAR" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_NO" type="STRING" size="256"/>
          <Column id="SANCTN_AT" type="STRING" size="256"/>
          <Column id="VACCT_NM" type="STRING" size="256"/>
          <Column id="APPRSTS" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CANCL_DE" type="STRING" size="256"/>
          <Column id="ALL_HOUSE_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_hcntrctrCancelReturnAmtList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ORD" type="STRING" size="256"/>
          <Column id="CNAME" type="STRING" size="256"/>
          <Column id="PAY_CODE" type="STRING" size="256"/>
          <Column id="TOT_AMT" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="PAYAMT" type="STRING" size="256"/>
          <Column id="ARRRG_AMOUNT" type="STRING" size="256"/>
          <Column id="RCIV_DE" type="STRING" size="256"/>
          <Column id="BET_DAY" type="STRING" size="256"/>
          <Column id="INT_AMT" type="STRING" size="256"/>
          <Column id="RT_AMT" type="STRING" size="256"/>
          <Column id="SO_AMT" type="STRING" size="256"/>
          <Column id="JU_AMT" type="STRING" size="256"/>
          <Column id="P_AMT" type="STRING" size="256"/>
          <Column id="PAY_AMT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="RETURN_AMT_INTRT" type="STRING" size="256"/>
          <Column id="PENLTY_AMT_INTRT" type="STRING" size="256"/>
          <Column id="ESTN_AMT_INTRT" type="STRING" size="256"/>
          <Column id="CNTRCTAMOUNT_RETURN_INTR_YN" type="STRING" size="256"/>
          <Column id="PENLTY_APPLC_YN" type="STRING" size="256"/>
          <Column id="CANCL_DE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_hcntrctrSeizrInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="TOT_AMOUNT" type="STRING" size="256"/>
          <Column id="CRDTR_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond03" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="CANCL_DE" type="STRING" size="256"/>
          <Column id="RENT_ENDDE" type="STRING" size="256"/>
          <Column id="RENT_LTTOT_CNVRS_DE" type="STRING" size="256"/>
          <Column id="RESRVE_AMT" type="STRING" size="256"/>
          <Column id="INTR_INTRT" type="STRING" size="256"/>
          <Column id="PENLTY_INTRT" type="STRING" size="256"/>
          <Column id="FCLTS_AMT" type="STRING" size="256"/>
          <Column id="INDMNTY" type="STRING" size="256"/>
          <Column id="RNTCHRG_APPLC_AT" type="STRING" size="256"/>
          <Column id="PENLTY_APPLC_AT" type="STRING" size="256"/>
          <Column id="INDMNTY_APPLC_AT" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_houseRentCancelReturnAmtList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="S_BASS_GTN" type="STRING" size="256"/>
          <Column id="S_CONT_AMT" type="STRING" size="256"/>
          <Column id="S_RNTCHRG" type="STRING" size="256"/>
          <Column id="SUM_PAYAMT" type="STRING" size="256"/>
          <Column id="S_PAY_TMLMT" type="STRING" size="256"/>
          <Column id="S_RENT_AMT" type="STRING" size="256"/>
          <Column id="S_APPAY_AMT" type="STRING" size="256"/>
          <Column id="S_THSMON_RENT_AMT" type="STRING" size="256"/>
          <Column id="S_RENT_SUM_AMT" type="STRING" size="256"/>
          <Column id="S_PENLTY_AMT" type="STRING" size="256"/>
          <Column id="S_IDRK" type="STRING" size="256"/>
          <Column id="S_RENT_AMT_C" type="STRING" size="256"/>
          <Column id="S_INDMNTY" type="STRING" size="256"/>
          <Column id="S_RESRVE_AMT" type="STRING" size="256"/>
          <Column id="S_FCLTS_AMT" type="STRING" size="256"/>
          <Column id="S_PYMNTAMT" type="STRING" size="256"/>
          <Column id="DDCAMOUNT" type="STRING" size="256"/>
          <Column id="S_MONTH_DD" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_houseRentPayList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="PAY_CODE_NM" type="STRING" size="256"/>
          <Column id="PAYAMT" type="INT" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_lttotRatioInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="RAT2" type="STRING" size="256"/>
          <Column id="RAT3" type="STRING" size="256"/>
          <Column id="RAT4" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_houseLttotCancelList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="TOT_ENGG_AMOUNT" type="STRING" size="256"/>
          <Column id="TOT_PAYAMT" type="STRING" size="256"/>
          <Column id="RETURN_PAYAMT" type="STRING" size="256"/>
          <Column id="RETURN_ARRRG_AMOUNT" type="STRING" size="256"/>
          <Column id="RETURN_PAY_INTR" type="STRING" size="256"/>
          <Column id="INCMTAX" type="STRING" size="256"/>
          <Column id="IHNTS" type="STRING" size="256"/>
          <Column id="RETURN_INTRT" type="STRING" size="256"/>
          <Column id="ESTN_INTRT" type="STRING" size="256"/>
          <Column id="RETURN_INTR_PYMNT_AT" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="PENLTY_INTRT" type="STRING" size="256"/>
          <Column id="PENLTY_APPLC_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_houseRentCancelList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="RNTCHRG_APPLC_AT" type="STRING" size="256"/>
          <Column id="RNTCHRG" type="STRING" size="256"/>
          <Column id="RESRVE_AMOUNT" type="STRING" size="256"/>
          <Column id="INDMNTY_APPLC_AT" type="STRING" size="256"/>
          <Column id="INDMNTY" type="STRING" size="256"/>
          <Column id="BANK_CODE_FCLTS" type="STRING" size="256"/>
          <Column id="DPSTR_FCLTS" type="STRING" size="256"/>
          <Column id="ACNUT_NO_FCLTS" type="STRING" size="256"/>
          <Column id="RESRVE_AMOUNT_TREDE" type="STRING" size="256"/>
          <Column id="RESRVE_AMOUNT_EXPNDTR_DECSN_NO" type="STRING" size="256"/>
          <Column id="RESRVE_AMOUNT_BANK_CODE" type="STRING" size="256"/>
          <Column id="RESRVE_AMOUNT_DPSTR" type="STRING" size="256"/>
          <Column id="RESRVE_AMOUNT_ACNUTNO" type="STRING" size="256"/>
          <Column id="FCLTS_ELCTRN_SANCTN_NO" type="STRING" size="256"/>
          <Column id="FCLTS_ABNRML_AT" type="STRING" size="256"/>
          <Column id="INTR_INTRT" type="STRING" size="256"/>
          <Column id="PAY_GTN" type="STRING" size="256"/>
          <Column id="PAY_TMLMT" type="STRING" size="256"/>
          <Column id="OVDINTR" type="STRING" size="256"/>
          <Column id="ARRRG_AMOUNT" type="STRING" size="256"/>
          <Column id="IDRK_CO" type="STRING" size="256"/>
          <Column id="RNTCHRG_THSMON" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="PENLTY_APPLC_AT" type="STRING" size="256"/>
          <Column id="PENLTY" type="STRING" size="256"/>
          <Column id="PENLTY_INTRT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rentRatioInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="RAT1" type="STRING" size="256"/>
          <Column id="RAT2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rentCancelChckReqestInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CHCK_SN" type="STRING" size="256"/>
          <Column id="CANCL_DE" type="STRING" size="256"/>
          <Column id="CHCK_EMPNO" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_NM" type="STRING" size="256"/>
          <Column id="HOUSE_SUPLY_SE" type="STRING" size="256"/>
          <Column id="CNTRCTR_CTTPC" type="STRING" size="256"/>
          <Column id="LVHS_PREARNGE_DE" type="STRING" size="256"/>
          <Column id="CHCK_BGNDE" type="STRING" size="256"/>
          <Column id="CHCK_ENDDE" type="STRING" size="256"/>
          <Column id="DLIV_MATTER" type="STRING" size="256"/>
          <Column id="REFER_MATTER" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="ELCTRN_SANCTN_NO" type="STRING" size="256"/>
          <Column id="SANCTN_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rentCancelChckDspthInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CHCK_SN" type="STRING" size="256"/>
          <Column id="RCEPT_DE" type="STRING" size="256"/>
          <Column id="CHCK_EMPNO" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="HOUSE_NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_NM" type="STRING" size="256"/>
          <Column id="HOUSE_SUPLY_SE" type="STRING" size="256"/>
          <Column id="CNTRCTR_CTTPC" type="STRING" size="256"/>
          <Column id="LVHS_DE" type="STRING" size="256"/>
          <Column id="CHCK_DE" type="STRING" size="256"/>
          <Column id="BND_AMOUNT" type="STRING" size="256"/>
          <Column id="CHCK_DTLS" type="STRING" size="256"/>
          <Column id="RPAIRS_DTLS" type="STRING" size="256"/>
          <Column id="FCLTY_RPAIRS_AMOUNT" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnMastr" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="10"/>
          <Column id="CAUSE_ACTION_NO" type="STRING" size="10"/>
          <Column id="BUDGET_YEAR" type="STRING" size="4"/>
          <Column id="BSNS_SE" type="STRING" size="1"/>
          <Column id="BALC_SE" type="STRING" size="1"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="8"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="ANACT_KND" type="STRING" size="2"/>
          <Column id="DEPT_CODE" type="STRING" size="6"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="CYFD_SE" type="STRING" size="1"/>
          <Column id="ITNC_DE" type="STRING" size="8"/>
          <Column id="PYMNT_ITNC_DE" type="STRING" size="8"/>
          <Column id="DET_DCSN_DE" type="STRING" size="8"/>
          <Column id="PRMPC_JRNLZPR_RGIST_DE" type="STRING" size="8"/>
          <Column id="CPTAL_EXPNDTR_ACNTBK_DE" type="STRING" size="8"/>
          <Column id="EXPNDTR_BUDGET_CNRL_DE" type="STRING" size="8"/>
          <Column id="CAUSE_ACTION_DE" type="STRING" size="8"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="BUDGET_ACNT_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="8"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="CPTAL_CHRG_CONFM" type="STRING" size="1"/>
          <Column id="TIMHDER_CONFM" type="STRING" size="1"/>
          <Column id="CNTRCT_NO" type="STRING" size="11"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="SUMRY" type="STRING" size="200"/>
          <Column id="BSNS_CODE" type="STRING" size="5"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="PRMPC_YEAR" type="STRING" size="256"/>
          <Column id="PRMPC_CODE" type="STRING" size="6"/>
          <Column id="PRMPC_NM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="7"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
          <Column id="EXPNDTR_CNFIRM_AT" type="STRING" size="2"/>
          <Column id="ATMC_JRNLZ_TY_CODE" type="STRING" size="256"/>
          <Column id="GNRL_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="GNRL_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="CHECK_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnMtrDet" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnMtrDet_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="CNTRCT_DE" type="STRING" size="8"/>
          <Column id="ACPTNC_DE" type="STRING" size="8"/>
          <Column id="ORDER_DE" type="STRING" size="8"/>
          <Column id="DVYFG_DE" type="STRING" size="8"/>
          <Column id="PYMNT_CMMND_PBLICTE_DE" type="STRING" size="8"/>
          <Column id="CHECK_NO" type="BIGDECIMAL" size="22"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="DSGN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="CNTRCT_SE" type="STRING" size="3"/>
          <Column id="CNTRCT_MTHD" type="STRING" size="1"/>
          <Column id="ATCH_FILE" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH" type="STRING" size="200"/>
          <Column id="ATCH_FILE_1" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH_1" type="STRING" size="200"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="7"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnDetail" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnDetail_oncolumnchanged" onrowsetchanged="ds_expDsnDetail_onrowsetchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AT" type="STRING" size="1"/>
          <Column id="BILL_KND" type="STRING" size="1"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT" type="BIGDECIMAL" size="22"/>
          <Column id="BCNC_CODE" type="STRING" size="10"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="30"/>
          <Column id="ADRES" type="STRING" size="200"/>
          <Column id="RQEST_DE" type="STRING" size="8"/>
          <Column id="RQEST_MAN" type="STRING" size="30"/>
          <Column id="RCPT_DE" type="STRING" size="8"/>
          <Column id="RCPT_MAN" type="STRING" size="30"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="ENTRPRS_SE" type="STRING" size="1"/>
          <Column id="EVRFRND" type="STRING" size="1"/>
          <Column id="TCNDVLP" type="STRING" size="1"/>
          <Column id="CNTRWK_PRPOS_MTRIL" type="STRING" size="1"/>
          <Column id="AREA_ENTRPS" type="STRING" size="1"/>
          <Column id="FEMALE_ENTRPRS" type="STRING" size="1"/>
          <Column id="MIDDL_PD_CMPET_PRDUCT" type="STRING" size="1"/>
          <Column id="FRGCPT_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN" type="STRING" size="1"/>
          <Column id="SRSILL_DSPSN" type="STRING" size="1"/>
          <Column id="SOCTY_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN_PRDCTN_FCLTY" type="STRING" size="1"/>
          <Column id="SOCTY_CPER_MXTR" type="STRING" size="1"/>
          <Column id="GREEN_PRDUCT" type="STRING" size="1"/>
          <Column id="WHTAX_AT" type="STRING" size="1"/>
          <Column id="WHTAX_KND" type="STRING" size="1"/>
          <Column id="WHTAX_ADRES" type="STRING" size="200"/>
          <Column id="IHDNUM" type="STRING" size="256"/>
          <Column id="INCMTAX" type="STRING" size="256"/>
          <Column id="IHNTS" type="STRING" size="256"/>
          <Column id="WHTAX_INCOME_SE_CODE" type="STRING" size="256"/>
          <Column id="WHTAX_INDUTY_CODE" type="STRING" size="256"/>
          <Column id="MTCHG_SE" type="STRING" size="5"/>
          <Column id="BRRW_AMOUNT_INTR_RPAY_AT" type="STRING" size="1"/>
          <Column id="RM" type="STRING" size="200"/>
          <Column id="CMPNSP_NO" type="STRING" size="30"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="7"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_decsnNo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="EXPNDTR_DECSN_DE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_approve" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DATA_VALUE" type="STRING" size="1000"/>
          <Column id="DATA_TITLE" type="STRING" size="256"/>
          <Column id="O_URL" type="STRING" size="256"/>
          <Column id="I_KEY" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="DEPT_CD" type="STRING" size="256"/>
          <Column id="EMP_CD" type="STRING" size="256"/>
          <Column id="TITLE" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="DIV_SE" type="STRING" size="256"/>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CHCK_SN" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond06" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HOUSE_CODE" type="STRING" size="256"/>
          <Column id="CRT_DIV" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="256"/>
          <Column id="CNTRCTR_NO" type="STRING" size="256"/>
          <Column id="DONG" type="STRING" size="256"/>
          <Column id="HO" type="STRING" size="256"/>
          <Column id="CSTMR_NM" type="STRING" size="256"/>
          <Column id="CHK1" type="STRING" size="256"/>
          <Column id="CHK2" type="STRING" size="256"/>
          <Column id="CHK3" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SLS020102
 * 화면명   : 주택계약관리
 * 화면설명 : 주택계약 해약처리-분양
 * 작성일   : 2015.10.22
 * 작성자   : 정윤원
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    2015.00.00   홍길동   fn_xxx() 보완 수정
 ***********************************************************************
 */

/*
1.임대에 관한 해약처리 협의필요(미 작업)
  - 해당 화면설계 수정 필요함
  - 해당 처리 로직및 이자계산, 위약금,반환금,유보금 계산 로직필요
  
2.시설점검,유보금에 대한 등록 처리 관련 협의필요

3.분양,임대 메뉴 분리 필요
*/
/***********************************************************************
 * Script Include 
 ***********************************************************************/
// 시스템 공통 라이브러리 Include
include "pms_lib::pmsUtilInclude.xjs"; 

// 업무에 필요한 공통 라이브러리 파일을 추가할 수 있다.
// TODO

/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
this.SLS020102_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	//그리드 정렬
	this.fn_init_allGrid(this);
	
	// Form 초기화
	this.fn_init_form();
	
	// DataSet 초기화
	this.fn_init_dataset();
}

this.SLS020102_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// 공통콤보 코드처리
	this.fn_loadCombo();
	//주택코드 콤보리스트(사용자 콤보 처리)
	//this.fn_loadComboNonCodeTbl();
	this.fn_hcntrctrListSearch();	
}

/***********************************************************************
 * 공통 코드 조회
 ***********************************************************************/
/*
 * 함수명  	    : fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function ()
{

/*
params  		: 1. param_1    : 반환받을 DATASET 명 		(예 : ds_comCode00)
                  2. param_2	: 그룹코드					(예 : COM007)
                  3. param_3	: 사용여부		    		(예 : 1(사용), ""(사용안함))
                  4. param_4	: 콤보박스INDEX(0) 표시		(예 : "전체", "선택", " "(공백), ""(첫번째데이터부터시작) )
*/
	var comboParams = [
			              ["ds_cancelresncmb"   ,"HOU007" ,"1" ,"선택"    ]   //해약사유
			             ,["ds_bankcmb"         ,"COM021" ,"1" ,"선택"    ]   //은행명
		              ];
		              
    this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
}

/* 사용자 콤보처리
 * 함수명  	: fn_loadComboNonCodeTbl
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: strDs - Data를 담아올 dataset 명
 *                obj - Click된 Combo Component
 *                ※ 위 Argument가 사용되면 함수는 해당되는 건만 찾아서 데이터를 가져온다.
 *                   전체 Combo의 데이터를 가져오려고 한다면, 생략하면 된다. 예 : this.fn_loadComboNonCodeTbl();
 * return Type 	: None
 * 사용법		: this.fn_loadComboNonCodeTbl();
 */
this.fn_loadComboNonCodeTbl = function (strDs, obj)
{
	// [BEGIN] 주택코드 목록 (분양,임대 구분)
	// 전달값 구성
	var paramMap = {}; 	
	
	paramMap["HOUSE_SE"] = this.div_search.cmb_houseGbn.value;	// 주택구분(판매)  
	paramMap["USE_AT"  ] = "1"                               ;   // 사용여부 : 0(미사용), 1(사용)

	this.pmsUtil.getHouseCode(paramMap, "ds_cmbHouseCodeList");	
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
/*
 * 함수명  	    : initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
 
 //Form 초기화
this.fn_init_form = function()
{
	// ** 시스템 공통으로 Form을 초기화
	this.gfn_initForm(this);	
}

/*
 * 함수명  	    : initDataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	// 조건에 사용되는 Dataset 전체 및 AddRows
    this.gfn_initCondDs(this, this.div_search);    
    this.ds_hcntrctrCancelList.clearData();	
}


// 콤보 리스트 변경시 발생 이벤트
this.fn_comboOnItemChangeHandler = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	var comName = obj.name;
	var comValue = e ? e.postvalue : obj.value;
	var comIndex = e ? e.postindex : obj.index;
	var paramMap = {};
	switch(comName){
			
		// 조회조건 - 주택 콤보
		case "cmb_houseCode" :   //이벤트발생 컴포넌트
			paramMap["HOUSE_CODE"] = comValue;			
			this.pmsUtil.getHouseDongHoAea(paramMap, "ds_cmbDongHoList", "ds_cmbTyAeaList");  //연동될 다음 컴포넌트			
			break;			
		default :
			break;
	}	
}
 
//1.주택계약자 해약 리스트 조회
this.fn_hcntrctrListSearch = function()
{
    
	this.ds_cond01.setColumn(0 ,"CNTRCTR_NO"  , this.parent.cntrctrNo); // 주택계약번호
	this.ds_cond01.setColumn(0 ,"CNTRCTR_NM"  , this.parent.cntrctrNm); // 주택계약번호
	this.ds_cond01.setColumn(0 ,"HOUSE_CODE"  , this.parent.houseCode);// 주택코드
	this.ds_cond01.setColumn(0 ,"ALL_HOUSE_NM", this.parent.allHouseNm);// 주택코드
	this.ds_cond01.setColumn(0 ,"DONG"        , this.parent.dong);  	// 동
	this.ds_cond01.setColumn(0 ,"HO"          , this.parent.ho);  		// 호
	
    //1. 주택계약자 해약 내역 리스트/압류정보조회  Next-> fn_houseCancelListInfo
	this.fn_transaction("selectHouseCancelList");  
}

/* 주택계약 해약(공통) 상세정보 신규시 값 세팅 */
this.fn_houseCancelListInfo = function(){
	trace("fn_houseCancelListInfo() start... ");
	
    /*신규등록인경우, 행추가, 기본값 세팅*/
    if(this.ds_hcntrctrCancelList.rowcount <= 0){ //신규인경우

        var nRow    = this.ds_hcntrctrCancelList.addRow(); //주택계약 해약정보 행 추가
     
        /*기본 정보 세팅*/
        this.ds_hcntrctrCancelList.setColumn(0, "CNTRCTR_NO", this.ds_cond01.getColumn(0, "CNTRCTR_NO")); //주택계약번호   
        this.ds_hcntrctrCancelList.setColumn(0, "HOUSE_CODE", this.ds_cond01.getColumn(0, "HOUSE_CODE")); //주택코드
        this.ds_hcntrctrCancelList.setColumn(0, "DONG"      , this.ds_cond01.getColumn(0, "DONG"      )); //동
        this.ds_hcntrctrCancelList.setColumn(0, "HO"        , this.ds_cond01.getColumn(0, "HO"        )); //호
        this.ds_hcntrctrCancelList.setColumn(0, "DPSTR"     , this.ds_cond01.getColumn(0, "CNTRCTR_NM")); 
        
        /*압류정보 세팅 */
        this.ds_hcntrctrCancelList.setColumn(0, "TOT_AMOUNT", this.ds_hcntrctrSeizrInfo.getColumn(0, "TOT_AMOUNT" )); //압류금액
        this.ds_hcntrctrCancelList.setColumn(0, "CRDTR_NM"  , this.ds_hcntrctrSeizrInfo.getColumn(0, "CRDTR_NM"   )); //채권자명
        
        /*접수,해약일자세팅*/
        this.Div08.cal_cancelDe.set_enableevent(false);   //해약일자 이벤트 해제
        
        this.ds_hcntrctrCancelList.setColumn(0, "CANCL_DE"  , this.gfn_dateInfo("NOW_DATE")                        ); //해약일자(현재날짜)
        this.Div08.cal_receptDe.set_value(this.gfn_dateInfo("NOW_DATE") )                                           ; //접수일자(현재날짜)
        
        this.Div08.cal_cancelDe.set_enableevent(true);    //해약일자 이벤트 실행
       
        this.Div08.cmb_cancelResn.set_index(0);
        this.Div08.cmb_bank.set_index(0);
    }
   
    /*임대시작일,임대종료일 세팅 */
    
    // TODO 일단 생략 - 박태혁
    //this.ds_hcntrctrCancelList.setColumn(0, "RENT_BGNDE", this.ds_hcntrctrList.getColumn(nGetRow, "RENT_BGNDE")); //임대시작일
    //this.ds_hcntrctrCancelList.setColumn(0, "RENT_ENDDE", this.ds_hcntrctrList.getColumn(nGetRow, "RENT_ENDDE")); //임대종료일    
      
    //해약정보 없을때 상세정보 잠금 2016.06.22
	//var chk = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition,"CHK");
	//if(chk == '1'){	
	//	this.Div08.set_enable(true);
	//}else{
	//	this.Div08.set_enable(false);
	//}
	trace("fn_houseCancelListInfo() end ");
}

/* 주택 분양 해약 - 반환금 조회 */
this.fn_LttotCancelList = function()
{ 
    /*(1)주택 분양 해약 상세 조회및 이율정보 조회 초기값 세팅*/
    var nReturnAmtIntrt = 0; //반환금 이자 이율
    var nBaseIntrt      = 0; //기본이율(위약금이율)
    var nEstnAmtIntrt   = 0; //발코니 확장금 이율
  
    this.ds_houseLttotCancelList.clearData(); //주택 분양해약 상세
    this.ds_lttotRatioInfo.clearData();       //주택 분양해약 이율

	this.ds_cond01.setColumn(0, "CANCL_DE", this.Div08.cal_cancelDe.value);
    this.fn_transaction("selectLttotRatioInfo");       // 주택 분양 이율 정보조회

    this.fn_transaction("selectHouseLttotCancelList"); //주택 분양해약 상세 조회
    
    var nDsLttotCnt = this.ds_houseLttotCancelList.rowcount;
    //var nGetRow     = this.ds_hcntrctrList.rowposition;    //선택된 계약자정보 인덱스

    /*
     * 주택분양 해약 정보가 있는경우 해당 테이블에서 이율정보를 가지고옴
     * 주택 분양 해약정보가 없는 경우 이율정보 테이블에서 이율정보를 가지고옴
    */
    
    /*(2) 이율정보 화면 세팅 */
    
    /* 기존 주택 분양 해약 정보 가 있는 경우 이율정보 세팅*/
     this.Div00.chk_a.set_enableevent(false); //계약금 반환이자 지급여부 이벤트 해제
     this.Div00.chk_b.set_enableevent(false); //위약금 적용여부 이벤트 해제
   
    if( nDsLttotCnt > 0){
  
        nReturnAmtIntrt = this.ds_houseLttotCancelList.getColumn(0,"RETURN_INTRT"          ) ; // 반환금 이자 이율
        nBaseIntrt      = this.ds_houseLttotCancelList.getColumn(0,"PENLTY_INTRT"          ) ; // 기본이율,분양위약금
        nEstnAmtIntrt   = this.ds_houseLttotCancelList.getColumn(0,"ESTN_INTRT"            ) ; // 발코니 확장금 이율
      
        nChka           = this.ds_houseLttotCancelList.getColumn(0,"RETURN_INTR_PYMNT_AT"  ) ; // 반환이자 지급여부
        nChkb           = this.ds_houseLttotCancelList.getColumn(0,"PENLTY_APPLC_AT"       ) ; // 위약금적용여부
       
        this.Div00.chk_a.set_value(nChka);                                     // 계약금 반환이자 지급 여부 체크
        this.Div00.chk_b.set_value(nChkb);                                     // 위약금적용 여부 체크
        
        this.Div00.msk_01.set_value(nReturnAmtIntrt);
        this.Div00.msk_02.set_value(nBaseIntrt);
        this.Div00.msk_03.set_value(nEstnAmtIntrt);
        
      
    /* 기존 주택 분양 해약 정보 가 없는 경우 이율정보 세팅*/  
    }else{ 
    
    
        var nRow = this.ds_houseLttotCancelList.addRow(); //행추가
        this.ds_houseLttotCancelList.setColumn(nRow,"CNTRCTR_NO", this.ds_cond01.getColumn(0, "CNTRCTR_NO") ); //계약번호 설정
        
        nReturnAmtIntrt = this.ds_lttotRatioInfo.getColumn(nRow ,"RAT2") ; //S2 : 반환금 이자 이율
        nBaseIntrt      = this.ds_lttotRatioInfo.getColumn(nRow ,"RAT3") ; //S3 : 기본이율,분양위약금
        nEstnAmtIntrt   = this.ds_lttotRatioInfo.getColumn(nRow ,"RAT4") ; //S4 : 발코니 확장금 이율       
        
        this.Div00.chk_a.set_value(1);                 // 계약금 반환이자 지급 여부 체크
        this.Div00.chk_b.set_value(1);                 // 위약금적용 여부 체크
    }
  
     this.Div00.chk_a.set_enableevent(true); //계약금 반환이자 지급여부 이벤트 실행
     this.Div00.chk_b.set_enableevent(true); //위약금 적용여부 이벤트 실행
     
    /* 주택 분양 해약 반환금 조회 함수 호출*/
    this.fn_cancelReturnAmtSearchCall(nReturnAmtIntrt ,nBaseIntrt ,nEstnAmtIntrt);
    
}  

/* 주택 분양 해약 반환금 조회 */
this.fn_cancelReturnAmtSearchCall = function(nReturnAmtIntrt ,nBaseIntrt ,nEstnAmtIntrt)
{
    /* 화면 이율 값 세팅 , Edit */
    //this.tpg_00.tabpage1.Div08.msk_01.set_value(nReturnAmtIntrt);      //반환이율
    //this.tpg_00.tabpage1.Div08.msk_02.set_value(nBaseIntrt     );      //기본-분양위약금이율
    //this.tpg_00.tabpage1.Div08.msk_03.set_value(nEstnAmtIntrt  );      //발코니확장이율    
    
    /*그리드 텍스트 수정(이율 표시)*/
    this.grd_lttotList.setCellProperty("Head",18,"text","납부금액*" + nReturnAmtIntrt + "%" + "\n *기산일/365");
    //this.tpg_00.tabpage1.grd_lttotList.setCellProperty("Head",20,"text","계약금*"+nBaseIntrt + "%+" + "확장금(기본)* \n" + nEstnAmtIntrt + "%");
    this.grd_lttotList.setCellProperty("Head",20,"text","계약금+" + "확장금(기본)* \n" + nEstnAmtIntrt + "%");
  
    /*(3) 검색 조건 세팅:반환금 계산을 위한 값 세팅 */
    var sCntrCtrNo  = this.ds_cond01.getColumn(0, "CNTRCTR_NO"); //주택계약번호
    var sEntyAt     = this.Div00.chk_a.value            ; //계약금 반환이자 지급여부
    var sPenltyAt   = this.Div00.chk_b.value            ; //위약금 적용여부
    var sCancelDe   = this.Div08.cal_cancelDe.value                     ; //해약일자
  
    /* 주택계약 해약 리스트 출력 검색 항목 데이터셋(cond01) 세팅 */
    this.ds_cond02.setColumn(0 ,"CNTRCTR_NO"                  , sCntrCtrNo                ); // 주택계약번호
    this.ds_cond02.setColumn(0 ,"RETURN_AMT_INTRT"            , nReturnAmtIntrt / 100.    ); // 반환 이율 
    this.ds_cond02.setColumn(0 ,"PENLTY_AMT_INTRT"            , nBaseIntrt      / 100.    ); // 기본-분양위약금
    this.ds_cond02.setColumn(0 ,"ESTN_AMT_INTRT"              , nEstnAmtIntrt   / 100.    ); // 확장 이율
    this.ds_cond02.setColumn(0 ,"CNTRCTAMOUNT_RETURN_INTR_YN" , sEntyAt                   ); // 계약금 반환이자 지급여부(0:미지급, 1:지급)
    this.ds_cond02.setColumn(0 ,"PENLTY_APPLC_YN"             , sPenltyAt                 ); // 위약금 적용여부         (0:미적용, 1:적용)
    this.ds_cond02.setColumn(0 ,"CANCL_DE"                    , sCancelDe                 ); // 해약일자
  
    this.fn_transaction("selectHouseLttotCancelReturnAmtList");  	//주택계약 반환금 조회
}

/*
 *분양아파트 해약에 따른 정산내역-레포트 출력
 */
this.btn_printList_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var phouseNm = this.ds_cond01.getColumn(0, "ALL_HOUSE_NM") + " " 
	             + Number(this.ds_cond01.getColumn(0, "DONG")) + " 동 "
	             + Number(this.ds_cond01.getColumn(0, "HO")) +  " 호";
		
	var rptOption         = {}                          ;  //파라미터 설정
   
	rptOption["path"    ] = "pms/sls/SLS020102_R02.jrf" ; //파일경로
	rptOption["title"   ] = "분양아파트 해약에 따른 정산내역"     ; //제목
	rptOption["filename"] = "분양아파트_해약에따른_정산내역"     ; //파일다운로드 파일명
	rptOption["dataset" ] = ["ds_hcntrctrCancelReturnAmtList", this.ds_hcntrctrCancelReturnAmtList]; //데이터셋
	rptOption["arguments"] = {HOUSE_NM:phouseNm}        ; //주택명,동,호   
   
	//레포트 팝업창 호출
	this.pmsUtil.popupReportView(this, rptOption);
}

this.btn_pymntRequst_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.ds_cond06.clearData();
	var nRow = this.ds_cond06.addRow();
	this.ds_cond06.setColumn( nRow, "CNTRCTR_NO", this.ds_cond01.getColumn( this.ds_cond01.rowposition, "CNTRCTR_NO"));
	this.ds_cond06.setColumn( nRow, "HOUSE_CODE", this.ds_cond01.getColumn( this.ds_cond01.rowposition, "HOUSE_CODE"));
	this.ds_cond06.setColumn( nRow, "DONG",       this.ds_cond01.getColumn( this.ds_cond01.rowposition, "DONG"));
	this.ds_cond06.setColumn( nRow, "HO",         this.ds_cond01.getColumn( this.ds_cond01.rowposition, "HO"));
	this.ds_cond06.setColumn( nRow, "CRT_DIV",    "SL");	
	this.ds_cond06.setColumn( nRow, "CSTMR_NM",   this.ds_cond01.getColumn(this.ds_cond01.rowposition,"CNTRCTR_NM"));
	
	this.ds_cond06.setColumn( nRow, "CHK1", "1");
	this.ds_cond06.setColumn( nRow, "CHK2", "1");
	this.ds_cond06.setColumn( nRow, "CHK3", "1");
		
	trace("ds_cond06 =" + this.ds_cond06.saveXML());
	var parm = {
		arg_4 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		arg_5 : this.ds_cond06
	};
	
	this.gfn_popup("Pop3", 800, 800, "수납요청 가상계좌", parm, "pms_sls_com::SLS000000_P02.xfdl");	
}

/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/

//주택코드목록 콤보 재 호출(화면 클리어 후)
this.fn_search_replace = function(){
 // [BEGIN] 주택코드 목록
	// 전달값 구성
	var paramMap = {};
	paramMap["HOUSE_SE"] = this.div_search.cmb_houseGbn.value;	// 주택구분(분양,임대)
	paramMap["USE_AT"  ] = "1"                               ;  // 사용여부 : 0(미사용), 1(사용)
	
	this.pmsUtil.getHouseCode(paramMap, "ds_cmbHouseCodeList");  
}

// 종료버튼 
this.btn_quit_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	//if(this.fn_confirm() == true){
		this.close();
	//}	
}

//저장
this.fn_save = function(){
	
  //신규인 경우만 저장, 그외 수정,삭제 안됨
  var rowType = this.ds_hcntrctrCancelList.getRowType(0);
  
  if(rowType != '2'){
      return;
  }
  
  if(!this.gfn_checkValidation(this.Div08, this.ds_validation)) {
    	return;
  }

  if(this.confirm("저장하시겠습니까?")){
  
      /* 주택계약자해약 */
	  this.ds_hcntrctrCancelList.setColumn(0 ,"PENLTY_APPLC_AT"       , this.Div00.chk_b.value )                        ; //위약금적용여부
	  this.ds_hcntrctrCancelList.setColumn(0 ,"PENLTY_INTRT"          , this.Div00.msk_02.value)                        ; //위약금이율
	  this.ds_hcntrctrCancelList.setColumn(0 ,"PENLTY"                , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"P_AMT") )      ; //위약금
	  this.ds_hcntrctrCancelList.setColumn(0 ,"LTTOT_RENT_SE"         , "01"                                          ); //분양(01),임대(02) 구분
	  this.ds_hcntrctrCancelList.setColumn(0 ,"PAY_CODE_SE"           ,'S'                                                             ); //납부코드구분 분양(S), 임대(R) 
	     
	  /*주택분양해약 */ 
      this.ds_houseLttotCancelList.setColumn(0, "TOT_ENGG_AMOUNT"     , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"TOT_AMT"     )); //총약정금액
      this.ds_houseLttotCancelList.setColumn(0, "TOT_PAYAMT"          , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"PAYAMT"      )); //총납부금액
      this.ds_houseLttotCancelList.setColumn(0, "RETURN_PAYAMT"       , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"PAYAMT"      )); //반환납부금액
      this.ds_houseLttotCancelList.setColumn(0, "RETURN_ARRRG_AMOUNT" , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"ARRRG_AMOUNT")); //반환연체금액
      this.ds_houseLttotCancelList.setColumn(0, "RETURN_PAY_INTR"     , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"INT_AMT"     )); //반환납부이자
      this.ds_houseLttotCancelList.setColumn(0, "INCMTAX"             , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"SO_AMT"      )); //소득세
      this.ds_houseLttotCancelList.setColumn(0, "IHNTS"               , this.ds_hcntrctrCancelReturnAmtList.getColumn(0,"JU_AMT"      )); //주민세
      this.ds_houseLttotCancelList.setColumn(0, "RETURN_INTRT"        , this.Div00.msk_01.value                        ); //반환이자이율
      this.ds_houseLttotCancelList.setColumn(0, "ESTN_INTRT"          , this.Div00.msk_03.value                        ); //확장이율
      this.ds_houseLttotCancelList.setColumn(0, "RETURN_INTR_PYMNT_AT", this.Div00.chk_a.value                         ); //반환이자지급여부
	  this.fn_transaction("saveHouseCancelInfo")  ;  //주택계약 해약 정보 저장
	} // END IF		
}

//삭제
this.fn_delete = function(){	
  
  //신규인 경우만 저장, 그외 수정,삭제 안됨
  //var rowType = this.ds_hcntrctrCancelList.getRowType(0);  
  //if(rowType == '2')
  //    return;
  
	var sanctnNo = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "ELCTRN_SANCTN_NO");
	if(!this.comUtils.isNullEmpty(sanctnNo)){
		this.gfn_message("info.처리불가","이미 결재가 진행되었습니다.");
		return;
	}
  
  if(this.confirm("해약상태를 복원 하시겠습니까?")){
      var nRow = this.ds_hcntrctrCancelList.rowposition;
      this.ds_houseLttotCancelList.deleteRow(nRow);
      this.ds_hcntrctrCancelList.deleteRow(nRow);
      this.fn_transaction("saveHouseCancelInfo")  ;  //주택계약 해약 정보 저장
  }
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/  
/*
 * 함수명  	    : fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
    var bSync = true;
	switch (strSvcId) {
	
/*C.공통정보 */
		// C-1. 주택계약자 해약 리스트 조회(분양,임대 공통)
		case "selectHouseCancelList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectHouseCancelList.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_hcntrctrCancelList=output1";
		    break;        
		
		 // C-2. 주택계약 압류정보조회(분양,임대)
		case "selectHcntrctrSeizrInfo": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectHcntrctrSeizrInfo.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_hcntrctrSeizrInfo=output1";
		    break;        

/*A.주택 분양 해약 정보 */
	    // A-1. 주택 분양 해약 리스트
		case "selectHouseLttotCancelList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectHouseLttotCancelList.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_houseLttotCancelList=output1";
	        bSync  = false;
		    break;        	     
		
		// A-2.주택분양 해약- 이율정보 조회
		case "selectLttotRatioInfo"             :     
		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectLttotRatioInfo.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_lttotRatioInfo=output1";
	        var bSync = false;
		    break;
		
		//A-3. 주택분양 해약 반환금 조회
		case "selectHouseLttotCancelReturnAmtList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectHouseLttotCancelReturnAmtList.do";
	        var sInDatasets   	= "input1=ds_cond02";
	        var sOutDatasets  	= "ds_hcntrctrCancelReturnAmtList=output1";
		    break;        
		
		//A-4. 주택계약 해약정보 저장/삭제
		case "saveHouseCancelInfo": 
 	  	    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/saveHouseCancelInfo.do";
            var sInDatasets   	= "input1=ds_hcntrctrCancelList:U input2=ds_houseLttotCancelList:U";
	        var sOutDatasets  	= "";
		    break;       
		 
		
/*B.주택 임대 해약 정보 */		
		    
		 // B-1. 주택계약 해약 리스트 조회(임대)
		case "selectHouseRentCancelList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectHouseRentCancelList.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_houseRentCancelList=output1";
	        var bSync = false;
		    break;        
     
     	// B-2. 주택임대- 이율정보 조회
		case "selectRentRatioInfo"             :     
		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectRentRatioInfo.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_rentRatioInfo=output1";
	        var bSync = false;
		    break;   
		
		// B-3. 주택계약(임대) 해약 반환금 조회
		case "selectHouseCancelRentReturnAmtList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectHouseCancelRentReturnAmtList.do";
	        var sInDatasets   	= "input1=ds_cond03";
	        var sOutDatasets  	= "ds_houseRentCancelReturnAmtList=output1";
	        var bSync = false;
		    break;     
	
		 
		// B-4.주택계약(임대) 납부보증금 조회
		case "selectRenLttotPayList": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectRenLttotPayList.do";
	        var sInDatasets   	= "input1=ds_cond03";
	        var sOutDatasets  	= "ds_houseRentPayList=output1";
		    break;    
		 
		// B-5.주택계약, 주택임대 해약 정보 저장
		case "saveHouseRentCancelInfo": 
 	  	    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/saveHouseRentCancelInfo.do";
            var sInDatasets   	= "input1=ds_hcntrctrCancelList:U input2=ds_houseRentCancelList:U";
	        var sOutDatasets  	= "";
		    break;
		    
		           
/*C.주택 임대 시설점검 정보 */	
	
		//시설점검의뢰 조회
		case "selectRentCancelChckReqestInfo": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectRentCancelChckReqestInfo.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_rentCancelChckReqestInfo=output1";
	        var bSync = false;
		    break;
		 
		//시설점검의뢰 저장
		case "saveRentCancelChckReqestInfo": 
 	  	    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/saveRentCancelChckReqestInfo.do";
            var sInDatasets   	= "input1=ds_rentCancelChckReqestInfo:U";
	        var sOutDatasets  	= "";
		    break;
		    
		//시설점검 통보 조회
		case "selectRentCancelChckDspthInfo": 
 		    var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/selectRentCancelChckDspthInfo.do";
	        var sInDatasets   	= "input1=ds_cond01";
	        var sOutDatasets  	= "ds_rentCancelChckDspthInfo=output1";
	        var bSync = false;
		    break;
		    
		    
		//전자결재
		case "approve" :
			var sController   	= "hsco/pms/sls/hou/ctr/SLS020102/approveU.do";
			var sInDatasets   	= "input1=ds_approve";
			var sOutDatasets  	= "ds_approve=output1";
			break;
		
		case "sancKnd": // 전자결재 진행상태
			bSync = false;
			this.ds_approve.clearData();
			var nRow = this.ds_approve.addRow();
			this.ds_approve.setColumn( nRow , "SANCTN_NO" , this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "ELCTRN_SANCTN_NO"));
		
			var sController   	= "hsco/pms/rnt/rnt030301/sancKnd.do";
			var sInDatasets   	= "input1=ds_cond11";
			var sOutDatasets  	= "ds_sancKnd=output1";					
	}
	if(this.fn_validate_tranasaction(strSvcId, sController, sInDatasets, sOutDatasets) == false){
		return;
	}
	
	////this.fn_init_gridAlignInfo(strSvcId , sOutDatasets);
	//Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets, "", null, null, bSync); 
}


/**********************************************************************
 * Transaction Callback 영역
 **********************************************************************/ 
 /*
 * 함수명  	    : fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	var bSuccess = nErrorCode == 0 ? true : false;
	
	//성공,에러메시지 출력 
	//this.fn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	if (bSuccess){ 
			
        var comboOption = null;

		
		switch (strSvcId) {
		    case "cmbHouseCodeList"              : 	// 주택코드 목록
				comboOption = {
					type: this.pmsUtil.PROMPT_ALL,  //PROMPT_SELECT(선택),PROMPT_ALL
					noNullText: "코드없음"  //목록이 없는 경우 출력 텍스트
				}
				this.pmsUtil.setComboPrompt(this.div_search.cmb_houseCode, comboOption, true);	// 조회영역
				break;
		    
		    // 동-호 로드
			case "cmbDongHoList" :
				comboOption = {
					type: this.pmsUtil.PROMPT_ALL,
					noNullText: "코드없음"
				}
				this.pmsUtil.setComboPrompt(this.div_search.cmb_dongHo, comboOption, true);		// 조회영역
				break;
			// 평형 로드
			case "cmbTyAeaList"  :
				comboOption = {
					type: this.pmsUtil.PROMPT_ALL,
					noNullText: "코드없음"
				}
				this.pmsUtil.setComboPrompt(this.div_search.cmb_tyAea, comboOption, true);		// 조회영역
				break;
		    
/*공통*/
		    case "hcntrctrList"                            :  // 주택 계약 조회 리스트
		        break;

            case "selectHouseCancelList"                   :  // 1.주택계약자 해약리스트				
			 
			   
			  // 2.압류정보 조회
			  this.fn_transaction("selectHcntrctrSeizrInfo");
	          
	          break;
			 
			case "selectHcntrctrSeizrInfo"                 :  // 2.주택계약자 압류정보 조회
			 
			  // 3.주택계약 해약정보 신규여부 체크
              this.fn_houseCancelListInfo();
              this.fn_LttotCancelList();
		      
		      break;
			
/*분양*/
			case "selectHouseLttotCancelList"              :  // 3.주택 분양 해약 상세 조회		    
			    break;
			
			case "selectLttotRatioInfo"                    :  // 주택 분양 해약 이율정보 조회
			    break;
			    
            case "selectHouseLttotCancelReturnAmtList"     :  // 주택계약 해약(분양)반환금 조회 
			    break;
		
/*임대*/		
			 case "selectHouseRentCancelList"              :  // 주택 임대 해약 상세조회				
			    break;
			 
			  case "selectRentRatioInfo"                   :  // 주택 임대 이율정보 조회
			    break;  
			
			case "selectHouseCancelRentReturnAmtList"      :  // 주택계약 해약(임대) 반환금 조회 
		        this.fn_transaction("selectRenLttotPayList"); // 주택계약 해약(임대) 납부보증금조회
			    break;    
			
            case "selectRenLttotPayList"                   :  // 주택계약 해약(임대) 납부 보증금조회
			    break;    

            case "saveHouseCancelInfo"                     :  // 주택계약(분양) 해약 저장
                //this.fn_search();
                alert("처리완료");
                this.fn_transaction("selectHouseCancelList");
			    break;		
		    
		    case "saveHouseRentCancelInfo"                 :  // 주택계약(임대) 해약 저장
                //this.fn_search();
			    break;
			    
			 // 전자결재
			case "approve" :
				var oUrl = this.ds_approve.getColumn(0,"O_URL");
				system.execBrowser(oUrl);
				
				//재조회
				//this.ds_hcntrctrList_onrowposchanged();
		}				
	}
	else{
	    this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
	}
	this.debug( (bSuccess==true?"Success : ":"Fail : ") + strSvcId);
}

/***********************************************************************
 * 사용자 정의 함수
***********************************************************************/

/*주택분양- (해약일자, 이자율,적용여부) 변경시 발생이벤트 */
this.fn_cancelReturnAmtReSearch = function(){

    var nReturnAmtIntrt =  this.Div00.msk_01.value; //반환이율
	var nBaseIntrt      =  this.Div00.msk_02.value; //기본-분양위약금이율
	var nEstnAmtIntrt   =  this.Div00.msk_03.value; //발코니확장이율
	
	this.fn_cancelReturnAmtSearchCall(nReturnAmtIntrt ,nBaseIntrt ,nEstnAmtIntrt); //반환 / 기본-위약금 / 확장
}

/*주택임대 - (해약일자, 이자이율, 위약금이율, 임대료적용,위약금적용,배상금적용,유보금) 변경시 발생이벤트 */
this.fn_cancelCancelDeEvent = function(){
	//this.fn_transaction("selectLttotRatioInfo");    // 주택 분양 이율 정보조회
    //this.fn_cancelReturnAmtReSearch(); 				//주택분양 해약 반환금 조회   
         
	this.fn_LttotCancelList();
}


//유보금처리
this.Tab00_tabpage1_btn_inspyProc_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
  var paraCstmrNo = '1';
  var paraCallback = "fn_houseCstmr_Callback"; 
	// 팝업호출
	this.gfn_popup("SLS020102_P01"
	               , 600
	               , 470
	               , "유보금처리"
	               ,{ cntrctrCstmrNo : paraCstmrNo
	                 ,callback       : paraCallback
	               
	               }
	               , "pms_sls_hou_ctr::SLS020102_P01.xfdl");
}

//공공임대아파트해약신청서
this.tpg_00_tabpage2_Button00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nRow = 	this.ds_hcntrctrList.rowposition;	
	var HOUSE_NM = this.ds_hcntrctrList.getColumn(nRow, "HOUSE_NM") + " " +  Number(this.ds_hcntrctrList.getColumn(nRow, "DONG")) + " 동 "+  Number(this.ds_hcntrctrList.getColumn(nRow, "HO")) +  " 호";
	var TY_AEA = this.ds_hcntrctrList.getColumn(nRow, "TY_AEA")//타입평형
	var CSTMR_NM = this.ds_hcntrctrList.getColumn(nRow, "CSTMR_NM")//성명
	var IHIDNUM = this.ds_hcntrctrList.getColumn(nRow, "IHIDNUM")//생년월일
	IHIDNUM = IHIDNUM.substr(0,6);
	
	//전화번호 포멧 세팅
	var formatList = [
					 {FIELD:"LVHS_TELNO",TYPE:"PHONE"}
					,{FIELD:"LVHS_MOBLPHON",TYPE:"PHONE"}
					
					];
	var succ = this.pmsUtil.fn_setFormatData(this.ds_hcntrctrCancelList, formatList);
	
	var row = 	this.ds_hcntrctrCancelList.rowposition;
	var LVHS_TELNO = this.ds_hcntrctrCancelList.getColumn(row, "LVHS_TELNO"); //전화번호
	if(this.comUtils.isNullEmpty(LVHS_TELNO)){
		LVHS_TELNO = "";
	}
	var LVHS_MOBLPHON = this.ds_hcntrctrCancelList.getColumn(row, "LVHS_MOBLPHON");//휴대전화번호
	if(this.comUtils.isNullEmpty(LVHS_MOBLPHON)){
		LVHS_MOBLPHON = "";
	}
	var LVHS_ADRES = this.ds_hcntrctrCancelList.getColumn(row, "LVHS_ADRES");//주소
	if(this.comUtils.isNullEmpty(LVHS_ADRES)){
		LVHS_ADRES = "";
	}
	var DPSTR = this.ds_hcntrctrCancelList.getColumn(row, "DPSTR");//예금주
	if(this.comUtils.isNullEmpty(DPSTR)){
		DPSTR = "";
	}
	var BANK_CODE_NM = this.ds_hcntrctrCancelList.getColumn(row, "BANK_CODE_NM");//은행
	if(this.comUtils.isNullEmpty(BANK_CODE_NM)){
		BANK_CODE_NM = "";
	}
	var ACNUTNO = this.ds_hcntrctrCancelList.getColumn(row, "ACNUTNO");//계좌번호
	if(this.comUtils.isNullEmpty(ACNUTNO)){
		ACNUTNO = "";
	}
	
	var rptOption         = {}                          ;  //파라미터 설정
   
	rptOption["path"    ] = "pms/sls/SLS020102_R01.jrf" ; //파일경로
	rptOption["title"   ] = "공공임대아파트 해약신청서"     ; //제목
	rptOption["filename"] = "공공임대아파트 해약신청서"     ; //파일다운로드 파일명
	rptOption["dataset" ] = ["ds_houseRentCancelReturnAmtList", this.ds_houseRentCancelReturnAmtList]; //데이터셋
	rptOption["arguments"] = { HOUSE_NM:HOUSE_NM //주택명,동,호
							  ,TY_AEA:TY_AEA
							  ,CSTMR_NM:CSTMR_NM
							  ,IHIDNUM:IHIDNUM
							  
							  ,LVHS_TELNO:LVHS_TELNO
							  ,LVHS_MOBLPHON:LVHS_MOBLPHON							  
							  ,LVHS_ADRES:LVHS_ADRES
							  ,DPSTR:DPSTR
							  ,BANK_CODE_NM:BANK_CODE_NM
							  ,ACNUTNO:ACNUTNO
							  
							 }; 
   
	//레포트 팝업창 호출
	this.pmsUtil.popupReportView(this, rptOption);
}



/* ====================================================================================================================
* 함수명  		: btn_expndtrDecsn_onclick
* 설명 			: 지출결의서
* params  		: None
* return Type 	: None
* 사용법		: 
1. EXPNDTR_DECSN_DE, DECSN_YEAR, EXPNDTR_DECSN_NO 컬럼을 테이블에 추가
2. 업데이트 쿼리문 작성후 이상명 차장에게 해당 쿼리의 id값을 등록해달라고 요청.
	<update id="SLS080202DAO.updateExpndtrDecsnNo" parameterClass="java.util.Map">
		UPDATE TBSLS_LCNTRCTR_CANCL SET
			   EXPNDTR_DECSN_DE  	= #EXPNDTR_DECSN_DE#
			  ,DECSN_YEAR 			= #DSNMASTR.DECSN_YEAR#
			  ,EXPNDTR_DECSN_NO  	= #DSNMASTR.DECSN_NO#
			  ,UPDUSR_ID            = #S_USER_ID#
		      ,UPDT_DT              = SYSDATE
	  	 WHERE 1 = 1
	       AND CNTRCTR_NO  = #CNTRCTR_NO#
		  
	</update>
	
	이상명 차장 부재시에는 ACC020203ServiceImpl 클래스의 MAP_DECSN_NO_QUERY에 직접 추가
	* CC020203ServiceImpl 클래스의 MAP_DECSN_NO_QUERY
	* 키값은 지출결의서 팝업의 파라미터로 넘겨준 화면 ID
	* 내용은 쿼리의 id
	private final static Map<String,String> MAP_DECSN_NO_QUERY = new HashMap<String,String>();
	static {
		MAP_DECSN_NO_QUERY.put("LAW010103", "LAW010103DAO.updateExpndtrDecsnNo");	// 변호사비용지출관리
		MAP_DECSN_NO_QUERY.put("CUS010108", "CUS010108DAO.updateExpndtrDecsnNo");	// 고객방문평가카드지출관리
		MAP_DECSN_NO_QUERY.put("CUS010207", "CUS010207DAO.updateExpndtrDecsnNo");	// 고객모니터단지출관리
		MAP_DECSN_NO_QUERY.put("HRM070202", "HRM070202DAO.decsnNoU");				// 관내출장
		MAP_DECSN_NO_QUERY.put("HRM070203", "HRM070203DAO.decsnNoU");				// 관외출장
		MAP_DECSN_NO_QUERY.put("CMP040200", "CMP040200DAO.updateExpndtrDecsnNo");	// 보상금청구
		MAP_DECSN_NO_QUERY.put("RNT01030400", "RNT01030400DAO.updateExpndtrDecsnNo");	// 영구임대보증금 청구
		MAP_DECSN_NO_QUERY.put("SLS080202", "SLS080202DAO.updateExpndtrDecsnNo");		// 토지 분양금/임대보증금 청구
	};

3.ds_expDsnMastr, ds_expDsnMtrDet, ds_expDsnDetail 데이터셋을 해당 메뉴화면에 그대로 복사
4.ds_decsnNo 데이터셋을 지출결의서 번호가 저장될 테이블의 기본키로 컬럼을 구성한다.
======================================================================================================================*/
this.btn_expndtrDecsn_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	//var CANCL_DE = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition,"CANCL_DE");
	//if(!this.comUtils.isNullEmpty(CANCL_DE)){
	var chk = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition,"CHK");
	if(chk != '1'){	
		this.alert("해약자가 아닙니다");
		return;
	}
	
	//결재상태가 전결완료상태일때만 지출결의서 등록가능하도록 한다.  // TODO 임시 SKIP
	if(this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "SANCTN_AT") != '1'){
		this.alert("결재가 완료되지 않았습니다.");
		//return;
	}
	
	//지출결의번호	
// 	var EXPNDTR_DECSN_NO = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition,"EXPNDTR_DECSN_NO");
// 	if(!this.comUtils.isNullEmpty(EXPNDTR_DECSN_NO)){
// 		this.alert("기작성한 지출결의서가 존재합니다.");
// 		return;
// 	}

	var day 	= this.gfn_today();		// 결의일자	
	var pymntDe = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "CANCL_DE"); //해약일자
	var pymntYr = "";	// 회계년
	pymntYr = pymntDe.substring(0,4);	// 회계년
	//alert("pymntYr = " + pymntYr);
	var sumry	= null;
	var sum 	= 0;	
		
	var PAY_AMT = this.ds_hcntrctrCancelReturnAmtList.getColumn(this.ds_hcntrctrCancelReturnAmtList.rowposition , "PAY_AMT");// 실지급액 -> 결의금액
	sum = PAY_AMT;
	sumry = "분양금청구";

	// 결의마스터 셋팅
	this.ds_expDsnMastr.clearData();
	this.ds_expDsnMastr.addRow();
	this.ds_expDsnMastr.setColumn(0, "DECSN_YEAR"		, pymntYr);						// 회계년월
	this.ds_expDsnMastr.setColumn(0, "ANACT_KND"		, "03");						// 결의서구분
	this.ds_expDsnMastr.setColumn(0, "DEPT_CODE"		, this.gfn_getDeptId());		// 부서코드
	this.ds_expDsnMastr.setColumn(0, "DEPT_NM"			, this.gfn_getDeptName());		// 부서명
	this.ds_expDsnMastr.setColumn(0, "ITNC_DE"			, day);							// 발의일자
	this.ds_expDsnMastr.setColumn(0, "PYMNT_ITNC_DE"	, pymntDe);						// 지급발의일자
	this.ds_expDsnMastr.setColumn(0, "DECSN_AMOUNT"		, Number(sum));					// 결의금액
	this.ds_expDsnMastr.setColumn(0, "FNNC_INSTT_CODE"	, "004");						// 지출은행 (국민은행 초기값 셋팅)
	this.ds_expDsnMastr.setColumn(0, "ACNUTNO"			, "599701-04-195140");			// 계좌번호
	this.ds_expDsnMastr.setColumn(0, "SUMRY"			, sumry);						// 적요

	this.ds_expDsnMastr.setColumn(0, "DET_DCSN_DE",             day); // 채무확정일자
	this.ds_expDsnMastr.setColumn(0, "PRMPC_JRNLZPR_RGIST_DE",  day); //원장분개장등기
	this.ds_expDsnMastr.setColumn(0, "EXPNDTR_BUDGET_CNRL_DE",  day); //지출예산통제
	this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE", day); //자금지출부등기
	this.ds_expDsnMastr.setColumn(0, "CAUSE_ACTION_DE",         day); // 원인행위일자 2016.09.04
	
	// 결의마스터상세
	this.ds_expDsnMtrDet.clearData();
	this.ds_expDsnMtrDet.addRow();
	this.ds_expDsnMtrDet.setColumn(0, "TAXXPT_AMOUNT"	, "0");							// 면세금액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_DECSN_AMOUNT", "0");							// 부가세결의금액
	this.ds_expDsnMtrDet.setColumn(0, "SUPLY_AMOUNT"	, "0");							// 공급가액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_AMOUNT"		, "0");							// 부가세금액

	// 결의세부
	this.ds_expDsnDetail.clearData();
	this.ds_expDsnDetail.addRow();
	this.ds_expDsnDetail.setColumn(0, "DECSN_AMOUNT"	, Number(sum));					// 결의금액
	this.ds_expDsnDetail.setColumn(0, "TAXXPT_AMOUNT"	, "0");							// 면세금액
	this.ds_expDsnDetail.setColumn(0, "VAT_AT"			, "0");							// 부가세여부
	this.ds_expDsnDetail.setColumn(0, "VAT_DECSN_AMOUNT", "0");							// 부가세결의금액
	this.ds_expDsnDetail.setColumn(0, "SUPLY_AMOUNT"	, "0");							// 공급가액
	this.ds_expDsnDetail.setColumn(0, "VAT"				, "0");							// 부가세
	this.ds_expDsnDetail.setColumn(0, "RCPT_DE"			,  pymntDe);					// 영수일자
	

	this.ds_expDsnDetail.setColumn(0, "RCPT_MAN"	, this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "DPSTR"));		// 지출은행
	this.ds_expDsnDetail.setColumn(0, "FNNC_INSTT_CODE"	, this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "BANK_CODE"));		// 지출은행
	this.ds_expDsnDetail.setColumn(0, "ACNUTNO"			, this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "ACNUTNO"));		// 계좌번호

	// 결의서 등록 후 결의번호를 입력해야하는 데이터셋 정보(기본키값 설정)
	// 결의번호를 업데이트할때 쿼리문의 조회조건으로 쓰인다.
	this.ds_decsnNo.clearData();
	this.ds_decsnNo.addRow();
	this.ds_decsnNo.setColumn(0, "CNTRCTR_NO"	, this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "CNTRCTR_NO"));
	this.ds_decsnNo.setColumn(0, "EXPNDTR_DECSN_DE"	, pymntDe);
	
	// 지출결의 팝업 호출
	var decsnYear 		= this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "DECSN_YEAR");
	var decsnNo			= this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition, "EXPNDTR_DECSN_NO");
	//alert("decsnYear = " + decsnYear + " decsnNo=" + decsnNo);
	var param = {
		 arg_0      			: this
		,trgFormId				: "SLS020102"						// 팝업을 호출하는 화면의 ID
		,anactKnd				: "03"								// 결의서구분
		,decsnYear				: decsnYear							// 결의년도
		,decsnNo				: decsnNo							// 결의번호
		,dsExpDsnMastr			: this.ds_expDsnMastr.saveXML()		// 결의마스터(Dataset)
		,dsExpDsnMtrDet 		: this.ds_expDsnMtrDet.saveXML()	// 결의마스터상세(Dataset)
		,dsExpDsnDetail 		: this.ds_expDsnDetail.saveXML()	// 결의세부(Dataset)
		,dsDecsnNo				: this.ds_decsnNo.saveXML()			// 키값정보(Dataset)
	};
	
	this.pmsUtil.dumper(this.ds_expDsnDetail);
	
	this.gfn_popup("expDsnPopup", 902, 719, "지출결의서", param, "mis_acc::ACC020203_P01.xfdl", "fn_PopUpCallback3",true);
}

/***********************************************************************************
* 설명	: 지출결의서 팝업 콜백
***********************************************************************************/
this.fn_PopUpCallback3 = function(sPopupId, sReturn)
{
	switch(sPopupId)
	{
		case "expDsnPopup":
			
		break;
	}
}

/*
 * 함수명  	: fn_sanction
 * 설명 		: 결재 버튼 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: 
 */
this.fn_sanction = function(){
	
	var sanctnNo = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "ELCTRN_SANCTN_NO");
	var apprsts  = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "APPRSTS");
	var registDt = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "REGIST_DT2");

	if(apprsts == "1" || apprsts == "9"){
		var param = {
			arg_0 : this,  
			arg_1 : sanctnNo,
			arg_2 : registDt
		};
		this.gfn_popup('sancPopup', 710, 518, '', param, "com::COM010400_P01.xfdl");		
		//this.gfn_message("info.처리불가","이미 결재가 진행되었습니다.");
		return;
	}
		
    var today = this.dateUtils.today();    
	var DIV_SE = "SLS3006";	// SLS3006.주택계약해제및위약금수입처리
    
    var HOUSE_NM = this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "HOUSE_NM");
    //HOUSE_NM = HOUSE_NM + " " + this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "DONG");
    //HOUSE_NM = HOUSE_NM + "동 " + this.ds_hcntrctrCancelList.getColumn(this.ds_hcntrctrCancelList.rowposition , "HO");
    //HOUSE_NM = HOUSE_NM + "호 " + this.ds_cond01.getColumn(this.ds_cond01.rowposition , "CNTRCTR_NM");
        
    var CANCL_DE = this.ds_hcntrctrCancelList.getColumn(0, "CANCL_DE");//해약접수일
	var PAY_AMT = this.ds_hcntrctrCancelList.getColumn(0, "PENLTY");
    var HAN_AMT = this.fn_numToHangul(PAY_AMT);    
		
	//SPETC_GROUPWARE_01 I_DIV = '545' => '|' 17개
	if(CANCL_DE == null){	
		this.alert("해약자가 아닙니다");
		return;
	}
	
	var filds = new Array(1);
	filds[0]  = HOUSE_NM;    //대상주택
	filds[1]  = CANCL_DE.substring(0, 4) + ". " 
	          + CANCL_DE.substring(4, 6) + ". " 
	          + CANCL_DE.substring(6, 8);    //해지일자
	filds[2]  = "금" + this.comUtils.formatComma(PAY_AMT) + "원(금" +HAN_AMT + "원)정";//지출금액
	filds[3]  = this.ds_cond01.getColumn(0, "CNTRCTR_NM");    //성명1
	filds[4]  = HOUSE_NM;    
	filds[5]  = this.ds_hcntrctrCancelList.getColumn(0, "DONG") + "/"
	          + this.ds_hcntrctrCancelList.getColumn(0, "HO")
	filds[6]  = this.comUtils.formatComma(PAY_AMT);
	filds[7]  = CANCL_DE.substring(0, 4) +". " 
	          + CANCL_DE.substring(4, 6) +". " 
	          + CANCL_DE.substring(6, 8);    //해지일자
	filds[8]  = "화성도시공사";
	filds[9]  = this.ds_hcntrctrCancelList.getColumn(0, "VACCT_NM");    //가상계좌번호
	filds[10] = "자본적지출, 유동부채상환, 선수금사환 270-271-606-03-13-01";
	filds[11] = "사업수익, 영업외수입, 기타영업외수익 670-679-040-02-13-01";
	filds[12] = "";	
		
	var dataValue = filds.join("|");
	var dataTitle = "계약 해제 및 위약금 수입처리"; //(" + this.ds_cond01.getColumn(this.ds_cond01.rowposition , "ALL_HOUSE_NM") + ")";
	var title     = dataTitle;
	
	this.ds_approve.clearData();	
	this.ds_approve.addRow();	
	this.ds_approve.setColumn(0, "TITLE",      	title                );
	this.ds_approve.setColumn(0, "DATA_TITLE", 	dataTitle            );
	this.ds_approve.setColumn(0, "DATA_VALUE", 	dataValue            );
	this.ds_approve.setColumn(0, "DEPT_CD",    	application.gds_userInfo.getColumn(0, "DEPT_CODE")); //this.gfn_getDeptId()
	this.ds_approve.setColumn(0, "EMP_CD",     	application.gds_userInfo.getColumn(0, "USER_ID")); //this.gfn_getUserId()
	this.ds_approve.setColumn(0, "EMPNO", 	   	application.gds_userInfo.getColumn(0, "USER_ID"));	
	this.ds_approve.setColumn(0, "CNTRCTR_NO", 	this.ds_hcntrctrCancelList.getColumn( this.ds_hcntrctrCancelList.rowposition , "CNTRCTR_NO"));
	this.ds_approve.setColumn(0, "DIV_SE", 	   	DIV_SE);
	this.pmsUtil.dumper(this.ds_approve);	
	this.fn_transaction("approve");
}
]]></Script>
  </Form>
</FDL>
