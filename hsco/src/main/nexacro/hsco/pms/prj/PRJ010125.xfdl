<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="PRJ010125" classname="PRJ010125" left="0" top="0" width="1059" height="735" titletext="비상연락망등록" oninit="PRJ010125_oninit" onload="PRJ010125_onload">
    <Layouts>
      <Layout>
        <Static id="Static03" taborder="1" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static04" taborder="2" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Tab id="tab_emgncContactNtwk" taborder="0" left="0" top="0" tabindex="0" scrollbars="autoboth" right="28" bottom="0" style="showextrabutton:false;">
          <Tabpages>
            <Tabpage id="tabpage1" text="비상연락망 전화번호">
              <Layouts>
                <Layout width="1031" height="705">
                  <Static id="Static09" taborder="4" text="10" visible="false" left="0" top="0" right="0" height="10" style="background:#dc143c3c;align:center middle;"/>
                  <Static id="sta_emgncContactNtwk" taborder="5" text="비상연락망" cssclass="sta_WF_Title02" left="0" top="10" width="150" height="19"/>
                  <Button id="btn_Add1" taborder="0" text="행추가" onclick="btn_Add_onclick" cssclass="btn_WF_Gridadd" top="10" right="134" width="64" height="19"/>
                  <Button id="btn_Delete1" taborder="1" text="행삭제" cssclass="btn_WF_Griddel" top="10" right="67" width="64" height="19" onclick="btn_Delete_onclick"/>
                  <Button id="btn_Cancel1" taborder="2" text="취소" onclick="btn_Cancel_onclick" cssclass="btn_WF_Gridcnl" top="10" right="0" width="64" height="19"/>
                  <Static id="Static07" taborder="6" text="5" visible="false" left="0" top="29" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
                  <Grid id="grd_emgncContactNtwkTelno" taborder="3" autoenter="select" useinputpanel="false" left="0" top="34" right="0" bottom="0" binddataset="ds_emgncContactNtwkTelno" onexpandup="grd_onexpandup" autoupdatetype="itemselect">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="120"/>
                          <Column size="150"/>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="200"/>
                          <Column size="90"/>
                          <Column size="80"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell rowspan="2" cssclass="Cellgrd_WF_HeadEssential" text="비상대책조직"/>
                          <Cell col="1" rowspan="2" cssclass="Cellgrd_WF_HeadEssential" text="비상대책역할"/>
                          <Cell col="2" colspan="2" text="부서"/>
                          <Cell col="4" colspan="3" cssclass="Cellgrd_WF_HeadEssential" text="사원"/>
                          <Cell col="7" colspan="3" text="전화번호"/>
                          <Cell col="10" rowspan="2" text="비고"/>
                          <Cell col="11" colspan="2" text="수정정보"/>
                          <Cell row="1" col="2" text="부서코드"/>
                          <Cell row="1" col="3" text="부서명"/>
                          <Cell row="1" col="4" text="직위"/>
                          <Cell row="1" col="5" text="사번"/>
                          <Cell row="1" col="6" text="성명"/>
                          <Cell row="1" col="7" text="내선번호"/>
                          <Cell row="1" col="8" text="집전화번호"/>
                          <Cell row="1" col="9" text="휴대폰"/>
                          <Cell row="1" col="11" text="수정일자"/>
                          <Cell row="1" col="12" text="수정자"/>
                        </Band>
                        <Band id="body">
                          <Cell edittype="normal" style="align:left middle;padding: ;" text="bind:EMGNC_CNTRPLN_ORGNZT" editlimit="300" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:EMGNC_CNTRPLN_ORGNZT"/>
                          <Cell col="1" displaytype="combo" edittype="combo" style="padding: ;" text="bind:EMGNC_CNTRPLN_ROLE" combodataset="ds_prj031G" combocodecol="CODE" combodatacol="CODE_NM" combodisplay="display"/>
                          <Cell col="2" text="bind:DEPT_CODE"/>
                          <Cell col="3" style="align:left middle;padding:0 0 0 5;" text="bind:DEPT_NM" tooltiptext="bind:DEPT_NM"/>
                          <Cell col="4" displaytype="combo" style="align:left middle;padding:0 0 0 5;" text="bind:OFCPS_SE" combodataset="ds_hrm003" combocodecol="CODE" combodatacol="CODE_NM"/>
                          <Cell col="5" text="bind:EMPNO" expandshow="expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'show' : 'hide'"/>
                          <Cell col="6" style="align:left middle;padding:0 0 0 5;" text="bind:EMPNM"/>
                          <Cell col="7" text="bind:LXTN_NO"/>
                          <Cell col="8" text="bind:TELNO_1"/>
                          <Cell col="9" text="bind:TELNO_2"/>
                          <Cell col="10" edittype="normal" style="align:left middle;padding: ;" text="bind:RM" editlimit="500" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:RM"/>
                          <Cell col="11" displaytype="date" text="bind:UPDT_DT" calendardisplaynulltype="none"/>
                          <Cell col="12" style="align:left middle;padding:0 0 0 5;" text="bind:UPDUSR_NM"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tabpage2" text="사업소 전화번호">
              <Layouts>
                <Layout width="1031" height="705">
                  <Static id="Static09" taborder="0" text="10" visible="false" left="0" top="0" right="0" height="10" style="background:#dc143c3c;align:center middle;"/>
                  <Static id="sta_bizplcSttus" taborder="1" text="사업소현황" cssclass="sta_WF_Title02" left="0" top="10" width="150" height="19"/>
                  <Static id="Static07" taborder="2" text="5" visible="false" left="0" top="29" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
                  <Grid id="grd_bizplcTelnoMastr" taborder="3" binddataset="ds_bizplcTelnoMastr" autoenter="select" useinputpanel="false" left="0" top="34" right="0" height="264" autoupdatetype="itemselect">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="150"/>
                          <Column size="80"/>
                          <Column size="180"/>
                          <Column size="150"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="200"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell colspan="2" text="부서"/>
                          <Cell col="2" rowspan="2" cssclass="Cellgrd_WF_HeadEssential" text="공사명"/>
                          <Cell col="3" colspan="3" cssclass="Cellgrd_WF_HeadEssential" text="주소"/>
                          <Cell col="6" colspan="2" text="전화번호"/>
                          <Cell col="8" rowspan="2" text="비고"/>
                          <Cell row="1" text="부서코드"/>
                          <Cell row="1" col="1" text="부서명"/>
                          <Cell row="1" col="3" cssclass="Cellgrd_WF_HeadEssential" text="우편번호"/>
                          <Cell row="1" col="4" cssclass="Cellgrd_WF_HeadEssential" text="주소"/>
                          <Cell row="1" col="5" cssclass="Cellgrd_WF_HeadEssential" text="상세주소"/>
                          <Cell row="1" col="6" cssclass="Cellgrd_WF_HeadEssential" text="사무실"/>
                          <Cell row="1" col="7" text="FAX"/>
                        </Band>
                        <Band id="body">
                          <Cell text="bind:DEPT_CODE"/>
                          <Cell col="1" style="align:left middle;padding:0 0 0 5;" text="bind:DEPT_NM" tooltiptext="bind:DEPT_NM"/>
                          <Cell col="2" edittype="normal" style="align:left middle;padding: ;" text="bind:CNTRWK_NM" editlimit="300" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:CNTRWK_NM"/>
                          <Cell col="3" edittype="normal" style="padding: ;" text="bind:ZIP" editlimit="6" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="4" edittype="normal" style="align:left middle;padding: ;" text="bind:ADRES" editlimit="300" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:ADRES"/>
                          <Cell col="5" edittype="normal" style="align:left middle;padding: ;" text="bind:ADRES_DETAIL" editlimit="300" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:ADRES_DETAIL"/>
                          <Cell col="6" edittype="normal" style="align:left middle;padding: ;" text="bind:TELNO" editlimit="30" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="7" edittype="normal" style="align:left middle;padding: ;" text="bind:FXNUM" editlimit="30" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="8" edittype="normal" style="align:left middle;padding: ;" text="bind:RM" editlimit="500" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:RM"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Button id="btn_Add2" taborder="4" text="행추가" onclick="btn_Add_onclick" cssclass="btn_WF_Gridadd" top="10" right="134" width="64" height="19"/>
                  <Button id="btn_Delete2" taborder="5" text="행삭제" onclick="btn_Delete_onclick" cssclass="btn_WF_Griddel" top="10" right="67" width="64" height="19"/>
                  <Button id="btn_Cancel2" taborder="6" text="취소" onclick="btn_Cancel_onclick" cssclass="btn_WF_Gridcnl" top="10" right="0" width="64" height="19"/>
                  <Static id="Static00" taborder="7" text="10" visible="false" left="0" top="298" right="0" height="10" style="background:#dc143c3c;align:center middle;"/>
                  <Static id="sta_emplTelno" taborder="8" text="사원 전화번호" cssclass="sta_WF_Title02" left="0" top="308" width="150" height="19"/>
                  <Button id="btn_Add3" taborder="9" text="행추가" onclick="btn_Add_onclick" cssclass="btn_WF_Gridadd" top="308" width="64" height="19" left="302"/>
                  <Button id="btn_Delete3" taborder="10" text="행삭제" onclick="btn_Delete_onclick" cssclass="btn_WF_Griddel" top="308" width="64" height="19" left="369"/>
                  <Button id="btn_Cancel3" taborder="11" text="취소" onclick="btn_Cancel_onclick" cssclass="btn_WF_Gridcnl" top="308" width="64" height="19" left="436"/>
                  <Static id="Static01" taborder="12" text="5" visible="false" left="0" top="327" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
                  <Grid id="grd_bizplcTelnoDetail1" taborder="13" binddataset="ds_bizplcTelnoDetail1" autoenter="select" useinputpanel="false" left="0" top="332" bottom="0" width="500" onexpandup="grd_onexpandup" autoupdatetype="itemselect">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="120"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="부서코드"/>
                          <Cell col="1" text="부서명"/>
                          <Cell col="2" text="직위"/>
                          <Cell col="3" cssclass="Cellgrd_WF_HeadEssential" text="사번"/>
                          <Cell col="4" text="성명"/>
                          <Cell col="5" text="집전화번호"/>
                          <Cell col="6" text="휴대폰"/>
                          <Cell col="7" text="내선번호"/>
                        </Band>
                        <Band id="body">
                          <Cell text="bind:NOW_DEPT_CODE"/>
                          <Cell col="1" style="align:left middle;padding:0 0 0 5;" text="bind:NOW_DEPT_NM" tooltiptext="bind:NOW_DEPT_NM"/>
                          <Cell col="2" displaytype="combo" style="align:left middle;padding:0 0 0 5;" text="bind:OFCPS_SE" combodataset="ds_hrm003" combocodecol="CODE" combodatacol="CODE_NM"/>
                          <Cell col="3" text="bind:EMPNO" expandshow="expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'show' : 'hide'"/>
                          <Cell col="4" style="align:left middle;padding:0 0 0 5;" text="bind:EMPNM"/>
                          <Cell col="5" style="align:left middle;padding:0 0 0 5;" text="bind:TELNO_1"/>
                          <Cell col="6" style="align:left middle;padding:0 0 0 5;" text="bind:TELNO_2"/>
                          <Cell col="7" style="align:left middle;padding:0 0 0 5;" text="bind:LXTN_NO"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Grid id="grd_bizplcTelnoDetail2" taborder="14" binddataset="ds_bizplcTelnoDetail2" autoenter="select" useinputpanel="false" top="332" bottom="0" right="0" left="510" autoupdatetype="itemselect">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="150"/>
                          <Column size="100"/>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="250"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell cssclass="Cellgrd_WF_HeadEssential" text="시공사명"/>
                          <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="직위"/>
                          <Cell col="2" cssclass="Cellgrd_WF_HeadEssential" text="성명"/>
                          <Cell col="3" cssclass="Cellgrd_WF_HeadEssential" text="내선번호"/>
                          <Cell col="4" text="휴대폰"/>
                          <Cell col="5" text="집전화번호"/>
                          <Cell col="6" text="비고"/>
                        </Band>
                        <Band id="body">
                          <Cell edittype="normal" style="align:left middle;padding: ;" text="bind:CNSTRTR" editlimit="300" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:CNSTRTR"/>
                          <Cell col="1" edittype="normal" style="align:left middle;padding: ;" text="bind:OFCPS_NM" editlimit="45" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="2" edittype="normal" style="align:left middle;padding: ;" text="bind:NM" editlimit="45" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="3" edittype="normal" style="align:left middle;padding: ;" text="bind:LXTN_NO" editlimit="30" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="4" edittype="normal" style="align:left middle;padding: ;" text="bind:MBTLNUM" editlimit="30" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="5" edittype="normal" style="align:left middle;padding: ;" text="bind:TELNO" editlimit="30" editdisplay="display" editlengthunit="utf8"/>
                          <Cell col="6" edittype="normal" style="align:left middle;padding: ;" text="bind:RM" editlimit="500" editdisplay="display" editlengthunit="utf8" tooltiptext="bind:RM"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="Static03" taborder="15" text="10" visible="false" left="500" top="298" width="10" style="background:#1b3cd23c;align:center middle;" bottom="0"/>
                  <Static id="sta_extrlEntrpsTelno" taborder="16" text="외부업체 전화번호" cssclass="sta_WF_Title02" left="510" top="308" width="150" height="19"/>
                  <Button id="btn_Add4" taborder="17" text="행추가" onclick="btn_Add_onclick" cssclass="btn_WF_Gridadd" top="308" width="64" height="19" right="134"/>
                  <Button id="btn_Delete4" taborder="18" text="행삭제" onclick="btn_Delete_onclick" cssclass="btn_WF_Griddel" top="308" width="64" height="19" right="67"/>
                  <Button id="btn_Cancel4" taborder="19" text="취소" onclick="btn_Cancel_onclick" cssclass="btn_WF_Gridcnl" top="308" width="64" height="19" right="0"/>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
      </Layout>
    </Layouts>
    <Bind/>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condSub" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="BIZPLC_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_emgncContactNtwkTelno</Col>
            <Col id="colId">EMGNC_CNTRPLN_ORGNZT</Col>
            <Col id="msgId">비상대책조직</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_emgncContactNtwkTelno</Col>
            <Col id="colId">EMGNC_CNTRPLN_ROLE</Col>
            <Col id="msgId">비상대책역할</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_emgncContactNtwkTelno</Col>
            <Col id="colId">EMPNO</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사원정보</Col>
          </Row>
          <Row>
            <Col id="compId">ds_bizplcTelnoMastr</Col>
            <Col id="colId">CNTRWK_NM</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">공사명</Col>
          </Row>
          <Row>
            <Col id="compId">ds_bizplcTelnoMastr</Col>
            <Col id="colId">ZIP</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">우편번호</Col>
          </Row>
          <Row>
            <Col id="compId">ds_bizplcTelnoMastr</Col>
            <Col id="colId">ADRES</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">주소</Col>
          </Row>
          <Row>
            <Col id="compId">ds_bizplcTelnoMastr</Col>
            <Col id="colId">ADRES_DETAIL</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">상세주소</Col>
          </Row>
          <Row>
            <Col id="compId">ds_bizplcTelnoMastr</Col>
            <Col id="colId">TELNO</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사무실전화번호</Col>
          </Row>
          <Row>
            <Col id="compId">ds_bizplcTelnoDetail1</Col>
            <Col id="colId">EMPNO</Col>
            <Col id="PK">Y</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사번</Col>
          </Row>
          <Row>
            <Col id="colId">CNSTRTR</Col>
            <Col id="compId">ds_bizplcTelnoDetail2</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">시공사명</Col>
          </Row>
          <Row>
            <Col id="colId">OFCPS_NM</Col>
            <Col id="compId">ds_bizplcTelnoDetail2</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">직위</Col>
          </Row>
          <Row>
            <Col id="colId">NM</Col>
            <Col id="compId">ds_bizplcTelnoDetail2</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">성명</Col>
          </Row>
          <Row>
            <Col id="colId">LXTN_NO</Col>
            <Col id="compId">ds_bizplcTelnoDetail2</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">내선번호</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_emgncContactNtwkTelno" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="TEL_SN" type="STRING" size="256"/>
          <Column id="EMGNC_CNTRPLN_ORGNZT" type="STRING" size="300"/>
          <Column id="EMGNC_CNTRPLN_ROLE" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="500"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="OFCPS_SE" type="STRING" size="256"/>
          <Column id="TELNO_1" type="STRING" size="256"/>
          <Column id="TELNO_2" type="STRING" size="256"/>
          <Column id="LXTN_NO" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="UPDUSR_NM" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bizplcTelnoMastr" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_bizplcTelnoMastr_onrowposchanged">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="BIZPLC_SN" type="STRING" size="256"/>
          <Column id="CNTRWK_NM" type="STRING" size="300"/>
          <Column id="ZIP" type="STRING" size="256"/>
          <Column id="ADRES" type="STRING" size="300"/>
          <Column id="ADRES_DETAIL" type="STRING" size="300"/>
          <Column id="TELNO" type="STRING" size="256"/>
          <Column id="FXNUM" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="500"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bizplcTelnoDetail1" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="BIZPLC_SN" type="STRING" size="256"/>
          <Column id="DETAIL_SE" type="STRING" size="256"/>
          <Column id="DETAIL_SN" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="NOW_DEPT_CODE" type="STRING" size="256"/>
          <Column id="NOW_DEPT_NM" type="STRING" size="256"/>
          <Column id="OFCPS_SE" type="STRING" size="256"/>
          <Column id="TELNO_1" type="STRING" size="256"/>
          <Column id="TELNO_2" type="STRING" size="256"/>
          <Column id="LXTN_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bizplcTelnoDetail2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="BIZPLC_SN" type="STRING" size="256"/>
          <Column id="DETAIL_SE" type="STRING" size="256"/>
          <Column id="DETAIL_SN" type="STRING" size="256"/>
          <Column id="CNSTRTR" type="STRING" size="300"/>
          <Column id="OFCPS_NM" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="256"/>
          <Column id="LXTN_NO" type="STRING" size="256"/>
          <Column id="MBTLNUM" type="STRING" size="256"/>
          <Column id="TELNO" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="500"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prj031" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prj031G" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm003" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 업무구분	: 사업 > 자료관리 > 자료관리 > 비상연락망등록
 * 화면ID		: PRJ010125
 * 화면명		: 비상연락망등록
 * 화면설명	: 비상연락망을 등록한다.
 * 작성일		: 2017.11.08
 * 작성자		: 김형태
 * 수정이력	: 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    
 *   
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ***********************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";

/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
this.checkDs = [
  this.ds_emgncContactNtwkTelno
  ,this.ds_bizplcTelnoMastr
  ,this.ds_bizplcTelnoDetail1
  ,this.ds_bizplcTelnoDetail2
];

var saveRow = -1;

/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.PRJ010125_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// ..
}
this.PRJ010125_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// form 초기화
	this.fn_init_form();

	// dataset 초기화
	this.fn_init_dataset();
}

/***********************************************************************
 * Form 오브젝트 초기화
 ***********************************************************************/ 
this.fn_init_form = function()
{
	this.gfn_initForm(this);
	this.fn_misFormInit(this);
	
	// 초기 검색조건
	this.ds_cond.clearData();
	var nRow = this.ds_cond.addRow();
	var deptCode = this.gfn_getDeptId();
	
	this.ds_cond.setColumn(nRow, "DEPT_CODE", deptCode);
	
	// 공통코드
	var comboParams = [
		["ds_hrm003" , "HRM003", "Y", "A", "B"]	// ds_hrm003 : 직위
	   ,["ds_prj031" , "PRJ031", "Y", "A", "B"]	// ds_prj031 : 비상대책역할
	   ,["ds_prj031G", "PRJ031", "Y", "D", "B"]	// ds_prj031 : 비상대책역할
	];
	var callback = function (svcId, errorCode, errorMsg) {
		this.fn_search();	// 초기조회
	};
	this.gfn_comboLoad(comboParams, callback);
}

/***********************************************************************
 * Dataset 오브젝트 초기화
 ***********************************************************************/ 
this.fn_init_dataset = function()
{
	// ..
}


/**********************************************************************
* Transaction 영역 시작
***********************************************************************
*
* 1. Transaction 관련 이벤트 핸들러
* 2. call Transaction 영역
* 3. callback 영역(Transaction, Popup)
* 
***********************************************************************/


/**********************************************************************
* Transaction 관련 이벤트 핸들러 
***********************************************************************/


/*
 * 함수명  	: fn_search
 * 설명 		: 조회 이벤트 처리(비상연락망전화번호, 사업소전화번호마스터)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
// 	if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond, this.ds_validation)) {
// 		return false;
// 	}
	
	this.ds_emgncContactNtwkTelno.clearData();
	this.ds_bizplcTelnoMastr.clearData();
	this.ds_bizplcTelnoDetail1.clearData();
	this.ds_bizplcTelnoDetail2.clearData();
	this.fn_transaction("selectEmgncContactNtwk");
}


/*
 * 함수명  	: fn_search_sub
 * 설명 		: 조회 이벤트 처리(사업소전화번호상세(사원, 외부업체))
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search_sub();
 */
this.fn_search_sub = function()
{
	this.ds_bizplcTelnoDetail1.clearData();
	this.ds_bizplcTelnoDetail2.clearData();
	this.fn_transaction("selectBizplcTelnoDetail");
}


/*
 * 함수명  	: fn_save
 * 설명 		: 저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{	
	try{
		// update check
		if (   !this.comUtils.isDatasetUpdated(this.ds_emgncContactNtwkTelno)	// 비상연락망전화번호
		    && !this.comUtils.isDatasetUpdated(this.ds_bizplcTelnoMastr)		// 사업소전화번호마스터
		    && !this.comUtils.isDatasetUpdated(this.ds_bizplcTelnoDetail1)		// 사업소전화번호상세(사원)
		    && !this.comUtils.isDatasetUpdated(this.ds_bizplcTelnoDetail2)		// 사업소전화번호상세(외부업체)
		   ) {
			this.gfn_message("comm.데이터.변경.없음");
			return false;
		}
		
		// validation check
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_emgncContactNtwkTelno, this.ds_validation)) {		// 탭1 : 비상연락망전화번호
			this.tab_emgncContactNtwk.set_tabindex(0);
			return false;
		}
		else if(!this.gfn_checkValidation_NoUpdChk(this.ds_bizplcTelnoMastr, this.ds_validation)) {		// 탭2 : 사업소전화번호마스터
			this.tab_emgncContactNtwk.set_tabindex(1);
			return false;
		}
		else if(!this.gfn_checkValidation_NoUpdChk(this.ds_bizplcTelnoDetail1, this.ds_validation)) {	// 탭2 : 사업소전화번호상세(사원)
			this.tab_emgncContactNtwk.set_tabindex(1);
			return false;
		}
		else if(!this.gfn_checkValidation_NoUpdChk(this.ds_bizplcTelnoDetail2, this.ds_validation)) {	// 탭2 : 사업소전화번호상세(외부업체)
			this.tab_emgncContactNtwk.set_tabindex(1);
			return false;
		}
	}catch(e) {
		alert(e.message);
	}
	
	if(this.gfn_message("confirm.저장.여부"))	{
		saveRow = this.ds_bizplcTelnoMastr.rowposition;
		this.fn_transaction("save");
	}
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "selectEmgncContactNtwk":		// 조회(비상연락망전화번호, 사업소전화번호마스터)
			var sController   	= "hsco/pms/prj/PRJ010125/selectEmgncContactNtwk.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_emgncContactNtwkTelno=output1 ds_bizplcTelnoMastr=output2";
			break;
		case "selectBizplcTelnoDetail":		// 상세조회(사업소전화번호상세(사원, 외부업체)
			var sController   	= "hsco/pms/prj/PRJ010125/selectBizplcTelnoDetail.do";
			var sInDatasets   	= "input1=ds_condSub";
			var sOutDatasets  	= "ds_bizplcTelnoDetail1=output1 ds_bizplcTelnoDetail2=output2";
			break;
		case "save":						// 저장
			var sController   	= "hsco/pms/prj/PRJ010125/save.do";
			var sInDatasets   	= "input1=ds_emgncContactNtwkTelno:U input2=ds_bizplcTelnoMastr:U input3=ds_bizplcTelnoDetail1:U input4=ds_bizplcTelnoDetail2:U";
			var sOutDatasets  	= "";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}

 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	// 오류 및 성공 메시지를 화면에 보여준다.
	if(nErrorCode != 0) {
	  this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	}
	if (nErrorCode != 0){
	} else {
		switch (strSvcId) {
			case "selectEmgncContactNtwk":	// 조회(비상연락망전화번호, 사업소전화번호마스터)
				if(saveRow > -1){
					this.ds_bizplcTelnoMastr.set_rowposition(saveRow);
					saveRow = -1;
				}
				break;
			case "selectBizplcTelnoDetail":	// 상세조회(사업소전화번호상세(사원, 외부업체)
				break;
			case "save":					// 저장
				this.gfn_message("success.처리.성공");
				this.fn_search();
				break;
		}
	}
}

/*
 * 함수명  	: fn_popupCallback2
 * 설명 		: Popup Callback 처리
 * params  		: sPopupId    : 팝업 ID
 *                sReturn  : 팝업 처리 결과(dataset.saveXML())
 * return Type 	: None
 * 사용법		: 
 */
this.fn_popupCallback = function(sPopupId, sReturn)
{
	// 비상연락망전화번호
	if(sPopupId == "emgncContactNtwkTelno") {
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
		
		if(loadCnt) {
			var deptCode = dsTemp.getColumn(0, "DEPT_CODE");
			var deptNm   = dsTemp.getColumn(0, "DEPT_NM");
			var empno    = dsTemp.getColumn(0, "EMPNO");
			var empnm    = dsTemp.getColumn(0, "EMPNM");
			var ofcpsSe  = dsTemp.getColumn(0, "OFCPS_SE");
			var telno1   = dsTemp.getColumn(0, "TELNO_1");
			var telno2   = dsTemp.getColumn(0, "TELNO_2");
			var lxtnNo   = dsTemp.getColumn(0, "LXTN_NO");
			
			var nRow = this.ds_emgncContactNtwkTelno.rowposition;
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "DEPT_CODE", deptCode);
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "DEPT_NM"  , deptNm);
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "EMPNO"    , empno);
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "EMPNM"    , empnm);
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "OFCPS_SE" , ofcpsSe);
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "TELNO_1"  , telno1);
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "TELNO_2"  , telno2);
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "LXTN_NO"  , lxtnNo);
		}
	}
	
	// 사원전화번호
	if(sPopupId == "bizplcTelnoDetail1") {
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
		
		if(loadCnt) {
			var deptCode = dsTemp.getColumn(0, "DEPT_CODE");
			var deptNm   = dsTemp.getColumn(0, "DEPT_NM");
			var empno    = dsTemp.getColumn(0, "EMPNO");
			var empnm    = dsTemp.getColumn(0, "EMPNM");
			var ofcpsSe  = dsTemp.getColumn(0, "OFCPS_SE");
			var telno1   = dsTemp.getColumn(0, "TELNO_1");
			var telno2   = dsTemp.getColumn(0, "TELNO_2");
			var lxtnNo   = dsTemp.getColumn(0, "LXTN_NO");
			
			var nRow = this.ds_bizplcTelnoDetail1.rowposition;
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "NOW_DEPT_CODE", deptCode);
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "NOW_DEPT_NM"  , deptNm);
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "EMPNO"        , empno);
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "EMPNM"        , empnm);
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "OFCPS_SE"     , ofcpsSe);
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "TELNO_1"      , telno1);
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "TELNO_2"      , telno2);
			this.ds_bizplcTelnoDetail1.setColumn(nRow, "LXTN_NO"      , lxtnNo);
		}
	}
}


/***********************************************************************
* Transaction 영역 끝
************************************************************************/



/**********************************************************************
* non-Transaction 관련 컴포넌트 이벤트 처리 함수
***********************************************************************
*
* 1. 공통버튼 관련 이벤트 처리
* 2. 버튼 관련 이벤트 처리
* 3. Dataset 관련 이벤트 처리
* 
***********************************************************************/



/**********************************************************************
* 공통버튼 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: fn_cancel
 * 설명 		: 취소 버튼 이벤트 처리(Dataset 변경 내역 Reset)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_cancel();
 */
this.fn_cancel= function()
{
	if(   Ex.util.isUpdated(this.ds_emgncContactNtwkTelno)
	   || Ex.util.isUpdated(this.ds_bizplcTelnoMastr)
	   || Ex.util.isUpdated(this.ds_bizplcTelnoDetail1)
	   || Ex.util.isUpdated(this.ds_bizplcTelnoDetail2)) {
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
		this.ds_emgncContactNtwkTelno.reset();
		this.ds_bizplcTelnoMastr.reset();
		this.ds_bizplcTelnoDetail1.reset();
		this.ds_bizplcTelnoDetail2.reset();
		
		this.ds_emgncContactNtwkTelno.applyChange();
		this.ds_bizplcTelnoMastr.applyChange();
		this.ds_bizplcTelnoDetail1.applyChange();
		this.ds_bizplcTelnoDetail2.applyChange();
	}
}


/**********************************************************************
* 공통버튼 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: ds_bizplcTelnoMastr_onrowposchanged
 * 설명 		: 사업소현황 행 변경시 이벤트 처리
 * params  		: none
 * return Type 	: none
 * 사용법		: this.ds_bizplcTelnoMastr_onrowposchanged(obj, e)
 */
this.ds_bizplcTelnoMastr_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(e.newrow > -1) {
		// 변경여부 체크
		if(Ex.util.isUpdated(this.ds_bizplcTelnoDetail1) || Ex.util.isUpdated(this.ds_bizplcTelnoDetail2)) {
			if(!this.gfn_message("confirm.변경.취소.여부")) {
				return false;	// 아니오
			}
		}
		
		this.ds_condSub.clearData();
		var nRow = this.ds_condSub.addRow();
		var deptCode = obj.getColumn(e.newrow, "DEPT_CODE");
		var bizplcSn = obj.getColumn(e.newrow, "BIZPLC_SN");
		
		this.ds_condSub.setColumn(nRow, "DEPT_CODE", deptCode);
		this.ds_condSub.setColumn(nRow, "BIZPLC_SN", bizplcSn);
		
		this.fn_search_sub();
	}
	else {
		this.ds_bizplcTelnoDetail1.clearData();
		this.ds_bizplcTelnoDetail2.clearData();
	}
}

/*
 * 함수명  	: btn_Add_onclick
 * 설명 		: '행추가' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_Add_onclick(obj,e);
 */
this.btn_Add_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var btnId = obj.id;
	
	if(btnId == "btn_Add1") {			// 비상연락망전화번호
		var nRow = this.ds_emgncContactNtwkTelno.addRow();
		var cCnt = this.ds_prj031G.rowcount;
		
		if(cCnt > 0) {
			var role = this.ds_prj031G.getColumn(0, "CODE");
			this.ds_emgncContactNtwkTelno.setColumn(nRow, "EMGNC_CNTRPLN_ROLE", role);
		}
	}
	else if(btnId == "btn_Add2") {		// 사업소전화번호마스터
		// 변경여부 체크
		if(Ex.util.isUpdated(this.ds_bizplcTelnoDetail1) || Ex.util.isUpdated(this.ds_bizplcTelnoDetail2)) {
			if(!this.gfn_message("confirm.변경.취소.여부")) {
				return false;	// 아니오
			}
		}
		
		this.ds_bizplcTelnoMastr.set_enableevent(false);
		var nRow = this.ds_bizplcTelnoMastr.addRow();
		var deptCode = this.gfn_getDeptId();
		var deptNm   = this.gfn_getDeptName();
		
		this.ds_bizplcTelnoMastr.setColumn(nRow, "DEPT_CODE", deptCode);
		this.ds_bizplcTelnoMastr.setColumn(nRow, "DEPT_NM"  , deptNm);
		
		this.ds_bizplcTelnoDetail1.clearData();
		this.ds_bizplcTelnoDetail2.clearData();
		this.ds_bizplcTelnoMastr.set_enableevent(true);
	}
	else if(btnId == "btn_Add3") {		// 사업소전화번호상세(사원)
		var pRow = this.ds_bizplcTelnoMastr.rowposition;
		var deptCode = this.ds_bizplcTelnoMastr.getColumn(pRow, "DEPT_CODE");
		var bizplcSn = this.ds_bizplcTelnoMastr.getColumn(pRow, "BIZPLC_SN");
		
		if(pRow < 0) {
			this.gfn_message("comm.항목.선택.요청","사업소현황");
			return false;
		}
		
		var nRow = this.ds_bizplcTelnoDetail1.addRow();
		this.ds_bizplcTelnoDetail1.setColumn(nRow, "DEPT_CODE", deptCode);
		this.ds_bizplcTelnoDetail1.setColumn(nRow, "BIZPLC_SN", bizplcSn);
		this.ds_bizplcTelnoDetail1.setColumn(nRow, "DETAIL_SE", "001");
	}
	else if(btnId == "btn_Add4") {		// 사업소전화번호상세(외부업체)
		var pRow = this.ds_bizplcTelnoMastr.rowposition;
		var deptCode = this.ds_bizplcTelnoMastr.getColumn(pRow, "DEPT_CODE");
		var bizplcSn = this.ds_bizplcTelnoMastr.getColumn(pRow, "BIZPLC_SN");
		
		if(pRow < 0) {
			this.gfn_message("comm.항목.선택.요청","사업소현황");
			return false;
		}
		
		var nRow = this.ds_bizplcTelnoDetail2.addRow();
		this.ds_bizplcTelnoDetail2.setColumn(nRow, "DEPT_CODE", deptCode);
		this.ds_bizplcTelnoDetail2.setColumn(nRow, "BIZPLC_SN", bizplcSn);
		this.ds_bizplcTelnoDetail2.setColumn(nRow, "DETAIL_SE", "002");
	}
}

/*
 * 함수명  	: btn_Delete_onclick
 * 설명 		: '행삭제' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_Delete_onclick(obj,e);
 */
this.btn_Delete_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var btnId = obj.id;
	
	if(btnId == "btn_Delete1") {			// 비상연락망전화번호
		var nRow = this.ds_emgncContactNtwkTelno.rowposition;
		
		if(nRow < 0) {
			this.gfn_message("comm.항목.선택.요청","비상연락망");
			return false;
		}
		if(this.gfn_message("confirm.삭제여부")){
			this.ds_emgncContactNtwkTelno.deleteRow(nRow);		
		}
	}
	else if(btnId == "btn_Delete2") {		// 사업소전화번호마스터
		var nRow = this.ds_bizplcTelnoMastr.rowposition;
		
		if(nRow < 0) {
			this.gfn_message("comm.항목.선택.요청","사업소현황");
			return false;
		}
		if(this.gfn_message("confirm.삭제여부")){
			this.ds_bizplcTelnoMastr.deleteRow(nRow);		
		}
	}
	else if(btnId == "btn_Delete3") {		// 사업소전화번호상세(사원)
		var nRow = this.ds_bizplcTelnoDetail1.rowposition;
		
		if(nRow < 0) {
			this.gfn_message("comm.항목.선택.요청","사원 전화번호");
			return false;
		}
		if(this.gfn_message("confirm.삭제여부")){
			this.ds_bizplcTelnoDetail1.deleteRow(nRow);		
		}
	}
	else if(btnId == "btn_Delete4") {		// 사업소전화번호상세(외부업체)
		var nRow = this.ds_bizplcTelnoDetail2.rowposition;
		
		if(nRow < 0) {
			this.gfn_message("comm.항목.선택.요청","사원 전화번호");
			return false;
		}
		if(this.gfn_message("confirm.삭제여부")){
			this.ds_bizplcTelnoDetail2.deleteRow(nRow);		
		}
	}
}

/*
 * 함수명  	: btn_Cancel_onclick
 * 설명 		: '취소' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_Cancel_onclick(obj,e);
 */
this.btn_Cancel_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var btnId = obj.id;
	
	if(btnId == "btn_Cancel1") {			// 비상연락망전화번호
		if(Ex.util.isUpdated(this.ds_emgncContactNtwkTelno)){
			if(this.gfn_message("confirm.취소여부")){
				this.ds_emgncContactNtwkTelno.reset();
				this.ds_emgncContactNtwkTelno.applyChange();
				return;
			}	
		}else{
			this.gfn_message("comm.내역.변경.없음");
		}
	}
	else if(btnId == "btn_Cancel2") {		// 사업소전화번호마스터
		if(Ex.util.isUpdated(this.ds_bizplcTelnoMastr)){
			if(this.gfn_message("confirm.취소여부")){
				this.ds_bizplcTelnoMastr.reset();
				this.ds_bizplcTelnoMastr.applyChange();
				
				// 서브조회
				this.ds_condSub.clearData();
				var nRow = this.ds_condSub.addRow();
				var pRow = this.ds_bizplcTelnoMastr.rowposition;
				var deptCode = this.ds_bizplcTelnoMastr.getColumn(pRow, "DEPT_CODE");
				var bizplcSn = this.ds_bizplcTelnoMastr.getColumn(pRow, "BIZPLC_SN");
				
				this.ds_condSub.setColumn(nRow, "DEPT_CODE", deptCode);
				this.ds_condSub.setColumn(nRow, "BIZPLC_SN", bizplcSn);
				
				this.fn_search_sub();
				
				return;
			}	
		}else{
			this.gfn_message("comm.내역.변경.없음");
		}
	}
	else if(btnId == "btn_Cancel3") {		// 사업소전화번호상세(사원)
		if(Ex.util.isUpdated(this.ds_bizplcTelnoDetail1)){
			if(this.gfn_message("confirm.취소여부")){
				this.ds_bizplcTelnoDetail1.reset();
				this.ds_bizplcTelnoDetail1.applyChange();
				return;
			}	
		}else{
			this.gfn_message("comm.내역.변경.없음");
		}
	}
	else if(btnId == "btn_Cancel4") {		// 사업소전화번호상세(외부업체)
		if(Ex.util.isUpdated(this.ds_bizplcTelnoDetail2)){
			if(this.gfn_message("confirm.취소여부")){
				this.ds_bizplcTelnoDetail2.reset();
				this.ds_bizplcTelnoDetail2.applyChange();
				return;
			}	
		}else{
			this.gfn_message("comm.내역.변경.없음");
		}
	}
}


/**********************************************************************
* Dataset 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: grd_onexpandup
 * 설명 		: Grid expand 이미지 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.grd_onexpandup(obj,e);
 */
this.grd_onexpandup = function(obj:Grid, e:nexacro.GridMouseEventInfo)
{
	var btnId = obj.id;
	
	if(btnId == "grd_emgncContactNtwkTelno") {
		var parm = {
			 arg_0      : this
		};
		this.gfn_popup("emgncContactNtwkTelno", 0, 0, "", parm, "com::empno_P01.xfdl", "fn_popupCallback", true);
	}
	else if(btnId == "grd_bizplcTelnoDetail1") {
		var parm = {
			 arg_0      : this
		};
		this.gfn_popup("bizplcTelnoDetail1", 0, 0, "", parm, "com::empno_P01.xfdl", "fn_popupCallback", true);
	}
}
]]></Script>
  </Form>
</FDL>
