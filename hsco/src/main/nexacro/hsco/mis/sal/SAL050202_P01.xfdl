<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="SAL050202_P01" classname="SAL050202_P01" left="0" top="0" width="1000" height="600" titletext="인적공제및기타소득공제" oninit="SAL050202_P01_oninit" onload="SAL050202_P01_onload">
    <Layouts>
      <Layout>
        <Static id="Static03" taborder="14" cssclass="sta_WF_PopupBg" left="0%" top="0" height="600" width="1000"/>
        <Static id="Static06" taborder="1" text="15" visible="false" left="4" top="0" right="4" height="15" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title" taborder="2" text="연말정산 인적 및 기타 소득공제" cssclass="sta_WF_Title01" left="15" top="18" height="21" width="480"/>
        <Static id="Static12" taborder="3" text="5" visible="false" left="34" top="40" right="34" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static05" taborder="4" text="15" visible="false" left="0" top="2" height="438" style="background:#1b3cd23c;align:center middle;" width="15"/>
        <Static id="Static00" taborder="5" text="15" visible="false" height="438" style="background:#1b3cd23c;align:center middle;" right="0" width="15" bottom="128"/>
        <Grid id="grd_yndExcclcHnDdc" taborder="6" binddataset="ds_yndExcclcHnDdc" useinputpanel="false" autofittype="none" left="15" top="45" right="15" bottom="233" oncellclick="grd_yndExcclcHnDdc_oncellclick" autoenter="select">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="35"/>
                <Column size="32"/>
                <Column size="72"/>
                <Column size="104"/>
                <Column size="76"/>
                <Column size="30"/>
                <Column size="30"/>
                <Column size="30"/>
                <Column size="30"/>
                <Column size="30"/>
                <Column size="53"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="109"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="140"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell rowspan="2" text="번호"/>
                <Cell col="1" rowspan="2" text="공제"/>
                <Cell col="2" text="관계"/>
                <Cell col="3" text="성명"/>
                <Cell col="4" rowspan="2" text="장애인"/>
                <Cell col="5" rowspan="2" text="6세이하" wordwrap="char"/>
                <Cell col="6" rowspan="2" text="부녀자" wordwrap="char"/>
                <Cell col="7" rowspan="2" text="경로" wordwrap="char"/>
                <Cell col="8" rowspan="2" text="출산입양" wordwrap="char"/>
                <Cell col="9" rowspan="2" text="한부모" wordwrap="char"/>
                <Cell col="10" rowspan="2" text="자료구분" wordwrap="char"/>
                <Cell col="11" rowspan="2" text="보장성보험료" wordwrap="char"/>
                <Cell col="12" rowspan="2" text="장애인보장성" wordwrap="char"/>
                <Cell col="13" colspan="6" text="교육비"/>
                <Cell col="19" rowspan="2" text="기부금"/>
                <Cell col="20" colspan="3" text="의료비"/>
                <Cell col="23" colspan="5" text="카드"/>
                <Cell row="1" col="2" text="내외국인"/>
                <Cell row="1" col="3" text="주민등록번호"/>
                <Cell row="1" col="13" text="근로자본인"/>
                <Cell row="1" col="14" text="취학전아동"/>
                <Cell row="1" col="15" text="초중고생"/>
                <Cell row="1" col="16" text="교복구입비"/>
                <Cell row="1" col="17" text="대학생"/>
                <Cell row="1" col="18" text="장애인특수교육비"/>
                <Cell row="1" col="20" text="의료비"/>
                <Cell row="1" col="21" text="난임시술비"/>
                <Cell row="1" col="22" text="시력교정용안경 구입비"/>
                <Cell row="1" col="23" text="신용카드"/>
                <Cell row="1" col="24" text="직불,선불"/>
                <Cell row="1" col="25" text="현금영수증"/>
                <Cell row="1" col="26" text="전통시장"/>
                <Cell row="1" col="27" text="대중교통"/>
              </Band>
              <Band id="body">
                <Cell rowspan="2" displaytype="number" text="expr:currow+1"/>
                <Cell col="1" rowspan="2" displaytype="checkbox" edittype="checkbox" text="bind:DDC_AT"/>
                <Cell col="2" displaytype="combo" edittype="combo" text="bind:FAMILY_RELATE" combodataset="ds_hrm013" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="3" text="bind:FAMILY_NM"/>
                <Cell col="4" rowspan="2" displaytype="combo" edittype="combo" text="bind:TROBL_AT" combodataset="ds_sal016" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="5" rowspan="2" displaytype="checkbox" edittype="none" text="bind:BELOW_6_AT"/>
                <Cell col="6" rowspan="2" displaytype="checkbox" edittype="none" text="bind:LADY_AT"/>
                <Cell col="7" rowspan="2" displaytype="checkbox" edittype="none" text="bind:COURS_PVLTRT_AT"/>
                <Cell col="8" rowspan="2" displaytype="checkbox" edittype="checkbox" text="bind:CHLDBRTH_ADP_AT"/>
                <Cell col="9" rowspan="2" displaytype="checkbox" edittype="none" text="bind:PARNTS_1_AT"/>
                <Cell col="10" text="국세청"/>
                <Cell col="11" displaytype="number" edittype="none" style="align:right;" text="bind:GRNT_INSRNC"/>
                <Cell col="12" displaytype="number" edittype="none" style="align:right;" text="bind:DSPSN_INSRNC"/>
                <Cell col="13" displaytype="number" edittype="none" style="align:right;" text="bind:EDCCT_DTA"/>
                <Cell col="14" displaytype="number" edittype="none" style="align:right;" text="bind:EDCCT_DTA1"/>
                <Cell col="15" displaytype="number" edittype="none" style="align:right;" text="bind:EDCCT_DTA2"/>
                <Cell col="16" displaytype="number" edittype="none" style="align:right;" text="bind:EDCCT_DTA3"/>
                <Cell col="17" displaytype="number" edittype="none" style="align:right;" text="bind:EDCCT_DTA4"/>
                <Cell col="18" displaytype="number" edittype="none" style="align:right;" text="bind:EDCCT_DTA5"/>
                <Cell col="19" displaytype="number" edittype="none" style="align:right;" text="bind:CTBNY_DTA"/>
                <Cell col="20" displaytype="number" edittype="none" style="align:right;" text="bind:MCP_DTA"/>
                <Cell col="21" displaytype="number" edittype="none" style="align:right;" text="bind:CBPR_TREAT"/>
                <Cell col="22" displaytype="number" edittype="none" style="align:right;" text="bind:GLASSES_BUY"/>
                <Cell col="23" displaytype="number" edittype="none" style="align:right;" text="bind:CREDTCARD_DTA"/>
                <Cell col="24" displaytype="number" edittype="none" style="align:right;" text="bind:DBCD_PRPAY_DTA"/>
                <Cell col="25" displaytype="number" edittype="none" style="align:right;" text="bind:CASH_RCIPT_DTA"/>
                <Cell col="26" displaytype="number" edittype="none" style="align:right;" text="bind:TRDIT_MRKT_DTA"/>
                <Cell col="27" displaytype="number" edittype="none" style="align:right;" text="bind:PBTRNSP_TRNSPORT_USE_DTA"/>
                <Cell row="1" col="2" displaytype="combo" edittype="combo" text="bind:ISE_FRGNR_SE" combodataset="ds_sal020" combocodecol="CODE" combodatacol="CODE_NM" combodisplayrowcount="-1"/>
                <Cell row="1" col="3" text="bind:FAMILY_IHIDNUM_ENCPT" mask="######-#######"/>
                <Cell row="1" col="10" text="기타"/>
                <Cell row="1" col="11" displaytype="number" edittype="normal" style="align:right;" text="bind:GRNT_INSRNC_ETC"/>
                <Cell row="1" col="12" displaytype="number" edittype="normal" style="align:right;" text="bind:DSPSN_INSRNC_ETC"/>
                <Cell row="1" col="13" displaytype="number" edittype="normal" style="align:right;" text="bind:EDCCT_ETC"/>
                <Cell row="1" col="14" displaytype="number" edittype="normal" style="align:right;" text="bind:EDCCT_ETC1"/>
                <Cell row="1" col="15" displaytype="number" edittype="normal" style="align:right;" text="bind:EDCCT_ETC2"/>
                <Cell row="1" col="16" displaytype="number" edittype="normal" style="align:right;" text="bind:EDCCT_ETC3"/>
                <Cell row="1" col="17" displaytype="number" edittype="normal" style="align:right;" text="bind:EDCCT_ETC4"/>
                <Cell row="1" col="18" displaytype="number" edittype="normal" style="align:right;" text="bind:EDCCT_ETC5"/>
                <Cell row="1" col="19" displaytype="number" edittype="none" style="align:right;" text="bind:CTBNY_ETC"/>
                <Cell row="1" col="20" displaytype="number" edittype="none" style="align:right;" text="bind:MCP_ETC"/>
                <Cell row="1" col="21" displaytype="number" edittype="none" style="align:right;" text="bind:CBPR_TREAT_ETC"/>
                <Cell row="1" col="22" displaytype="number" edittype="none" style="align:right;" text="bind:GLASSES_BUY_ETC"/>
                <Cell row="1" col="23" displaytype="number" edittype="normal" style="align:right;" text="bind:CREDTCARD_ETC"/>
                <Cell row="1" col="24" displaytype="number" edittype="normal" style="align:right;" text="bind:DBCD_PRPAY_ETC"/>
                <Cell row="1" col="25" displaytype="number" edittype="normal" style="align:right;" text="bind:CASH_RCIPT_ETC"/>
                <Cell row="1" col="26" displaytype="number" edittype="normal" style="align:right;" text="bind:TRDIT_MRKT_ETC"/>
                <Cell row="1" col="27" displaytype="number" edittype="normal" style="align:right;" text="bind:PBTRNSP_USE_ETC"/>
              </Band>
              <Band id="summary">
                <Cell/>
                <Cell col="1"/>
                <Cell col="2"/>
                <Cell col="3"/>
                <Cell col="4"/>
                <Cell col="5"/>
                <Cell col="6"/>
                <Cell col="7"/>
                <Cell col="8"/>
                <Cell col="9"/>
                <Cell col="10"/>
                <Cell col="11" displaytype="number" text="expr:dataset.getSum('GRNT_INSRNC')"/>
                <Cell col="12" displaytype="number" text="expr:dataset.getSum('DSPSN_INSRNC')"/>
                <Cell col="13" displaytype="number" text="expr:dataset.getSum('EDCCT_DTA')"/>
                <Cell col="14" displaytype="number" text="expr:dataset.getSum('EDCCT_DTA1')"/>
                <Cell col="15" displaytype="number" text="expr:dataset.getSum('EDCCT_DTA2')"/>
                <Cell col="16" displaytype="number" text="expr:dataset.getSum('EDCCT_DTA3')"/>
                <Cell col="17" displaytype="number" text="expr:dataset.getSum('EDCCT_DTA4')"/>
                <Cell col="18" displaytype="number" text="expr:dataset.getSum('EDCCT_DTA5')"/>
                <Cell col="19" displaytype="number" text="expr:dataset.getSum('CTBNY_DTA')"/>
                <Cell col="20" displaytype="number" text="expr:dataset.getSum('MCP_DTA')"/>
                <Cell col="21" displaytype="number" text="expr:dataset.getSum('CBPR_TREAT')"/>
                <Cell col="22" displaytype="number" text="expr:dataset.getSum('GLASSES_BUY')"/>
                <Cell col="23" displaytype="number" text="expr:dataset.getSum('CREDTCARD_DTA')"/>
                <Cell col="24" displaytype="number" text="expr:dataset.getSum('DBCD_PRPAY_DTA')"/>
                <Cell col="25" displaytype="number" text="expr:dataset.getSum('CASH_RCIPT_DTA')"/>
                <Cell col="26" displaytype="number" text="expr:dataset.getSum('TRDIT_MRKT_DTA')"/>
                <Cell col="27" displaytype="number" text="expr:dataset.getSum('PBTRNSP_TRNSPORT_USE_DTA')"/>
                <Cell row="1"/>
                <Cell row="1" col="1"/>
                <Cell row="1" col="2"/>
                <Cell row="1" col="3"/>
                <Cell row="1" col="4"/>
                <Cell row="1" col="5"/>
                <Cell row="1" col="6"/>
                <Cell row="1" col="7"/>
                <Cell row="1" col="8"/>
                <Cell row="1" col="9"/>
                <Cell row="1" col="10"/>
                <Cell row="1" col="11" displaytype="number" text="expr:dataset.getSum('GRNT_INSRNC_ETC')"/>
                <Cell row="1" col="12" displaytype="number" text="expr:dataset.getSum('DSPSN_INSRNC_ETC')"/>
                <Cell row="1" col="13" displaytype="number" text="expr:dataset.getSum('EDCCT_ETC')"/>
                <Cell row="1" col="14" displaytype="number" text="expr:dataset.getSum('EDCCT_ETC1')"/>
                <Cell row="1" col="15" displaytype="number" text="expr:dataset.getSum('EDCCT_ETC2')"/>
                <Cell row="1" col="16" displaytype="number" text="expr:dataset.getSum('EDCCT_ETC3')"/>
                <Cell row="1" col="17" displaytype="number" text="expr:dataset.getSum('EDCCT_ETC4')"/>
                <Cell row="1" col="18" displaytype="number" text="expr:dataset.getSum('EDCCT_ETC5')"/>
                <Cell row="1" col="19" displaytype="number" text="expr:dataset.getSum('CTBNY_ETC')"/>
                <Cell row="1" col="20" displaytype="number" text="expr:dataset.getSum('MCP_ETC')"/>
                <Cell row="1" col="21" displaytype="number" text="expr:dataset.getSum('CBPR_TREAT_ETC')"/>
                <Cell row="1" col="22" displaytype="number" text="expr:dataset.getSum('GLASSES_BUY_ETC')"/>
                <Cell row="1" col="23" displaytype="number" text="expr:dataset.getSum('CREDTCARD_ETC')"/>
                <Cell row="1" col="24" displaytype="number" text="expr:dataset.getSum('DBCD_PRPAY_ETC')"/>
                <Cell row="1" col="25" displaytype="number" text="expr:dataset.getSum('CASH_RCIPT_ETC')"/>
                <Cell row="1" col="26" displaytype="number" text="expr:dataset.getSum('TRDIT_MRKT_ETC')"/>
                <Cell row="1" col="27" displaytype="number" text="expr:dataset.getSum('PBTRNSP_USE_ETC')"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_title00" taborder="7" text="공제대상선택" cssclass="sta_WF_Title01" left="15" top="374" width="480" height="21"/>
        <Grid id="grd_yndExcclcHnDdc2" taborder="8" binddataset="ds_hrFamily" useinputpanel="false" autofittype="col" left="15" top="403" bottom="14" width="331" oncelldblclick="grd_yndExcclcHnDdc2_oncelldblclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="64"/>
                <Column size="75"/>
                <Column size="146"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="번호"/>
                <Cell col="1" text="관계"/>
                <Cell col="2" text="성명"/>
                <Cell col="3" text="주민등록번호"/>
              </Band>
              <Band id="body">
                <Cell displaytype="number" text="expr:currow+1"/>
                <Cell col="1" displaytype="combo" text="bind:FAMILY_RELATE_SE" combodataset="ds_hrm013" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="2" text="bind:FAMILY_NM"/>
                <Cell col="3" text="bind:IHIDNUM_ENCPT" mask="######-#######"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static02" taborder="9" text="5" visible="false" left="10" top="397" right="58" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Button id="btn_Close" taborder="10" text="닫기" onclick="btn_Close_onclick" cssclass="btn_WF_CRUD" left="935" top="15" width="50" height="25"/>
        <Button id="btn_Save" taborder="11" text="저장" cssclass="btn_WF_CRUD" left="883" top="15" width="50" height="25" onclick="btn_Save_onclick"/>
        <Button id="btn_Del" taborder="12" text="삭제" cssclass="btn_WF_CRUD" left="831" top="15" width="50" height="25" onclick="btn_Del_onclick"/>
        <Static id="Static01" taborder="13" text="15" visible="false" left="0.4%" right="0.4%" height="15" style="background:#dc143c3c;align:center middle;" bottom="0"/>
        <Static id="Static04" taborder="15" text="(대상자를 더블클릭하세요.)" left="119" top="374" height="20" style="color:crimson;" onclick="Static04_onclick" width="164"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EXCCLC_YEAR" type="STRING" size="256"/>
          <Column id="EXCCLC_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_yndExcclcHnDdc" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EXCCLC_YEAR" type="STRING" size="256"/>
          <Column id="EXCCLC_SE" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="FAMILY_NM" type="STRING" size="256"/>
          <Column id="FAMILY_IHIDNUM_ENCPT" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="FAMILY_RELATE" type="STRING" size="256"/>
          <Column id="DDC_AT" type="STRING" size="256"/>
          <Column id="ISE_FRGNR_SE" type="STRING" size="256"/>
          <Column id="TROBL_AT" type="STRING" size="256"/>
          <Column id="BELOW_6_AT" type="STRING" size="256"/>
          <Column id="LADY_AT" type="STRING" size="256"/>
          <Column id="COURS_PVLTRT_AT" type="STRING" size="256"/>
          <Column id="CHLDBRTH_ADP_AT" type="STRING" size="256"/>
          <Column id="PARNTS_1_AT" type="STRING" size="256"/>
          <Column id="DTA_SE" type="STRING" size="256"/>
          <Column id="GRNT_INSRNC" type="BIGDECIMAL" size="256"/>
          <Column id="DSPSN_INSRNC" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_SE_DTA" type="STRING" size="256"/>
          <Column id="EDCCT_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="CTBNY_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="MCP_SE_DTA" type="STRING" size="256"/>
          <Column id="MCP_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="CREDTCARD_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="DBCD_PRPAY_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="CASH_RCIPT_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="TRDIT_MRKT_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="PBTRNSP_TRNSPORT_USE_DTA" type="BIGDECIMAL" size="256"/>
          <Column id="GRNT_INSRNC_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="DSPSN_INSRNC_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_SE_ETC" type="STRING" size="256"/>
          <Column id="EDCCT_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="CTBNY_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="MCP_SE_ETC" type="STRING" size="256"/>
          <Column id="MCP_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="CREDTCARD_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="DBCD_PRPAY_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="TRDIT_MRKT_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="PBTRNSP_USE_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="GLASSES_BUY" type="BIGDECIMAL" size="256"/>
          <Column id="GLASSES_BUY_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="CBPR_TREAT" type="BIGDECIMAL" size="256"/>
          <Column id="CBPR_TREAT_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_DTA1" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_ETC1" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_DTA2" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_ETC2" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_DTA3" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_ETC3" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_DTA4" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_ETC4" type="BIGDECIMAL" size="256"/>
          <Column id="EDCCT_DTA5" type="BIGDECIMAL" size="256"/>
          <Column id="CASH_RCIPT_ETC" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrFamily" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="FAMILY_NM" type="STRING" size="256"/>
          <Column id="FAMILY_RELATE_SE" type="STRING" size="256"/>
          <Column id="SEXDSTN_SE" type="STRING" size="256"/>
          <Column id="BRTHDY" type="STRING" size="256"/>
          <Column id="OCCP_NM" type="STRING" size="256"/>
          <Column id="ACDMCR_SE" type="STRING" size="256"/>
          <Column id="TROBL_AT" type="STRING" size="256"/>
          <Column id="SUPORT_AT" type="STRING" size="256"/>
          <Column id="ALLWNC_PYMNT_AT" type="STRING" size="256"/>
          <Column id="ALLWNC_REQST_DE" type="STRING" size="256"/>
          <Column id="CNFIRM_AT" type="STRING" size="256"/>
          <Column id="IHIDNUM_ENCPT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sal004" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sal018" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sal019" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sal016" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sal020" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sal021" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm013" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">EXCCLC_YEAR</Col>
            <Col id="compId">ds_cond00</Col>
            <Col id="PK">Y</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond00</Col>
            <Col id="colId">EXCCLC_SE</Col>
            <Col id="PK">Y</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond00</Col>
            <Col id="colId">EMPNO</Col>
            <Col id="PK">Y</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 업무구분 : 인적공제및기타소득공제
 * 화면ID   : SAL050202_P01
 * 화면명   : 인적공제및기타소득공제
 * 화면설명 : 인적공제및기타소득공제를 관리한다.
 * 작성일   : 2015.10.14
 * 작성자   : 이동석
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    
 ***********************************************************************/
 

/***********************************************************************
 * Script Include 
 ***********************************************************************/
include "lib::comInclude.xjs";
var empno = this.parent.EMPNO;
var excclcYear = this.parent.EXCCLCYEAR;
var excclcSe = this.parent.EXCCLCSE;


/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/


/***********************************************************************
 * onInit 영역
 ***********************************************************************/
this.SAL050202_P01_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init_form();
	this.fn_init_dataset();
}

/***********************************************************************
 * onLoad 영역
 ***********************************************************************/
this.SAL050202_P01_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_loadCombo();
	this.fn_search();
}

/***********************************************************************
 * 설명: 공통조회
 ************************************************************************/
this.fn_loadCombo = function()
{
	var comboParams = [["ds_sal004", "SAL004", 1, ""],   // 의료비구분
	                   ["ds_sal018", "SAL018", 1, ""],   // 보험료구분
	                   ["ds_sal019", "SAL019", 1, ""],   // 교육비구분
	                   ["ds_sal020", "SAL020", 1, ""],   // 내외국인구분
	                   ["ds_sal021", "SAL021", 1, ""],   // 관계구분
	                   ["ds_sal016", "SAL016", 1, " "],  // 장애인구분
	                   ["ds_hrm013", "HRM013", 1, ""]    // 가족관계구분
		              ];

	this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
	
}

/***********************************************************************
 * Form 오브젝트 초기화
 ***********************************************************************/ 
this.fn_init_form = function()
{
	this.gfn_initForm(this);    
}

/***********************************************************************
 * Dataset 오브젝트 초기화
 ***********************************************************************/ 
this.fn_init_dataset = function()
{
	this.gfn_initCondDs(this, this.div_search);	
}


/***********************************************************************
* 조회처리
************************************************************************/
this.fn_search = function()
{
	
	this.ds_hrFamily.clearData();
	this.ds_yndExcclcHnDdc.clearData();
	this.ds_cond00.clearData();
	this.ds_cond00.addRow();	
	this.ds_cond00.setColumn(0,"EMPNO",empno);
	this.ds_cond00.setColumn(0,"EXCCLC_YEAR",excclcYear);
	this.ds_cond00.setColumn(0,"EXCCLC_SE",excclcSe);    	
	
	// Validation 체크
//	if(!this.gfn_checkValidation(this.ds_cond00, this.ds_validation)) {
//		return;
//	}	
	
	this.fn_transaction("selectYndhnddcList");
}

/***********************************************************************
* 저장처리
************************************************************************/
this.btn_Save_onclick = function()
{
	// Validation 체크
	if(!this.gfn_checkValidation(this.ds_yndExcclcHnDdc, this.ds_validation)) {
		return;
	}

	if(this.gfn_message("confirm.저장.여부"))	{
		this.fn_transaction("saveYndExcclcHnDdcList");
	}
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/ 
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "selectYndhnddcList": 
			var sController   	= "hsco/mis/sal/SAL050202/selectYndhnddcList.do";
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_hrFamily=output1 ds_yndExcclcHnDdc=output2";
			break;		
		case "saveYndExcclcHnDdcList":	
			var sController   	= "hsco/mis/sal/SAL050202/YndExcclcHnDdcCUD.do";	
			var sInDatasets   	= "input2=ds_yndExcclcHnDdc:U";
			var sOutDatasets  	= "";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}

 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/ 
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	// 오류 및 성공 메시지를 화면에 보여준다.
	/*this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);*/
	if (nErrorCode != 0){
		       this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);	
} else {		
		switch (strSvcId) {
			case "selectYndExcclcHnDdcList": 
			 	break;			
			case "saveYndExcclcHnDdcList":
			//    this.alert("저장이 완료되었습니다."); 
			    this.fn_search();
				break;
		}
	}
}


/***********************************************************************
* 행삭제
************************************************************************/
this.btn_Del_onclick = function()
{
	if(this.ds_yndExcclcHnDdc.getColumn(this.ds_yndExcclcHnDdc.rowposition,"FAMILY_RELATE") == "000") {
	       this.alert("본인은 삭제할 수 없습니다.");
	} else {
		if ( this.gfn_message("confirm.삭제여부")) { 
			var nRow = this.ds_yndExcclcHnDdc.rowposition;
			this.ds_yndExcclcHnDdc.deleteRow(nRow);	
		}	
	}	
}

/***********************************************************************
* 닫기
************************************************************************/
this.btn_Close_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.close();
}

/***********************************************************************
* 대상자선택
************************************************************************/
this.grd_yndExcclcHnDdc2_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var nRow = this.ds_hrFamily.rowposition;
	var FAMILY_RELATE_SE = this.ds_hrFamily.getColumn(nRow, "FAMILY_RELATE_SE");			
	var FAMILY_NM        = this.ds_hrFamily.getColumn(nRow, "FAMILY_NM");	
	var IHIDNUM_ENCPT    = this.ds_hrFamily.getColumn(nRow, "IHIDNUM_ENCPT");	
	var EMPNO            = this.ds_hrFamily.getColumn(nRow, "EMPNO");	
	var TRBLE_YN         = this.ds_hrFamily.getColumn(nRow, "TROBL_AT");
   
    var Check1 = this.ds_yndExcclcHnDdc.findRow( "FAMILY_IHIDNUM_ENCPT", IHIDNUM_ENCPT )
	
	if(Check1 > -1) {
	     this.alert( FAMILY_NM + " 님이 이미 등록되어 있습니다. ");
	     return;
	}  
   
	var nRow2 = this.ds_yndExcclcHnDdc.addRow(); 	 	 	
	
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"EXCCLC_YEAR",excclcYear);	
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"EXCCLC_SE",excclcSe);	
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"EMPNO",EMPNO);	
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"FAMILY_NM",FAMILY_NM);	
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"FAMILY_RELATE",FAMILY_RELATE_SE );
	
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"FAMILY_IHIDNUM_ENCPT",IHIDNUM_ENCPT);
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"DDC_AT","1");
	this.ds_yndExcclcHnDdc.setColumn(nRow2,"ISE_FRGNR_SE","1");	
	
}

/***********************************************************************
* 입력체크
************************************************************************/
this.grd_yndExcclcHnDdc_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	this.chk_input();
}

/***********************************************************************
* 입력체크
************************************************************************/
this.chk_input = function()
{
	var Hrow_con = this.ds_yndExcclcHnDdc.getRowCount();
	for(var i=0; i<= Hrow_con-1; i++){
	         // 부녀자, 한부모 본인만 체크
	         /*if(this.ds_yndExcclcHnDdc.getColumn(i,"FAMILY_RELATE") != "000") {
	               if(this.ds_yndExcclcHnDdc.getColumn(i,"LADY_AT") == "1") {
	                   this.alert("본인만 부녀자 체크가능합니다.");
	                   this.ds_yndExcclcHnDdc.setColumn(i,"LADY_AT","0");	                   
	               } 
	               if(this.ds_yndExcclcHnDdc.getColumn(i,"PARNTS_1_AT") == "1") {
	                   this.alert("본인만 한부모 체크가능합니다.");
	                   this.ds_yndExcclcHnDdc.setColumn(i,"PARNTS_1_AT","0");	    
	               } 
	          // 부녀자, 한부모 동시체크 안되게      
	         } 
	         if(this.ds_yndExcclcHnDdc.getColumn(i,"FAMILY_RELATE") == "000") {
	               if(this.ds_yndExcclcHnDdc.getColumn(i,"LADY_AT") == "1" && this.ds_yndExcclcHnDdc.getColumn(i,"PARNTS_1_AT") == "1") {
	                   this.alert("부녀자, 한부모 동시 체크 안됩니다.");
	                   this.ds_yndExcclcHnDdc.setColumn(i,"LADY_AT","");
	                   this.ds_yndExcclcHnDdc.setColumn(i,"PARNTS_1_AT","1");
	               }
	           
	         }
	         */
	        // 보험구분선택1 
	        if(this.ds_yndExcclcHnDdc.getColumn(i,"IRNCF_DTA") > 0) { 
// 	              if(!this.ds_yndExcclcHnDdc.getColumn(i,"IRNCF_SE_DTA")) {
// 	                   this.alert("보험구분을 선택하세요");
// 	                   this.ds_yndExcclcHnDdc.setColumn(i,"IRNCF_DTA","0");
// 	              }   
	        }
	        // 보험구분선택2
	        if(this.ds_yndExcclcHnDdc.getColumn(i,"IRNCF_ETC") > 0) { 
// 	              if(!this.ds_yndExcclcHnDdc.getColumn(i,"IRNCF_SE_ETC")) {
// 	                   this.alert("보험구분을 선택하세요");
// 	                   this.ds_yndExcclcHnDdc.setColumn(i,"IRNCF_ETC","0");
// 	              }   
	        }
	        
	        // 교육비구분선택1 
	        if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_DTA") > 0) { 
// 	              if(!this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_DTA")) {
// 	                   this.alert("교육비구분을 선택하세요");
// 	                   this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_DTA","0");
// 	              } 
// 	              // 본인은 본인만  
// 	              if((this.ds_yndExcclcHnDdc.getColumn(i,"FAMILY_RELATE") == "000")) {
// 	                   if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_DTA") != "1") {
// 	                       this.alert("교육비 본인은 본인만 입력");
// 	                       this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_SE_DTA","1");
// 	                   }
// 	              }
	              //금액 한도 체크 
	              if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_DTA") == "2"  ) {
						if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_DTA") > 3000000){
							this.alert("300백만원 한도를 초과하였습니다.");
							this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_DTA","3000000");
						}
	              }
	              if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_DTA") == "3"){
						if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_DTA") > 9000000){
							this.alert("900백만원 한도를 초과하였습니다.");
							this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_DTA","9000000");
						}	              
	              }
	        }
	        
	        // 교육비구분선택2
	        if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_ETC") > 0) { 
// 	              if(!this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_ETC")) {
// 	                   this.alert("교육비구분을 선택하세요");
// 	                   this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_ETC","0");
// 	              }
	              // 본인은 본인만     
// 	              if((this.ds_yndExcclcHnDdc.getColumn(i,"FAMILY_RELATE") == "000")) {
// 	                   if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_ETC") != "1") {
// 	                       this.alert("교육비 본인은 본인만 입력");
// 	                       this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_SE_ETC","1");
// 	                   }
// 	              }
	              //금액 한도 체크 
	              if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_ETC") == "2") {
						if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_ETC") > 3000000){
							this.alert("300백만원 한도를 초과하였습니다.");
							this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_ETC","3000000");
						}
	              }
	              if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_SE_ETC") == "3"){
						if(this.ds_yndExcclcHnDdc.getColumn(i,"EDCCT_ETC") > 9000000){
							this.alert("900백만원 한도를 초과하였습니다.");
							this.ds_yndExcclcHnDdc.setColumn(i,"EDCCT_ETC","9000000");
						}	              
	              }	              
	              
	        }
	        
	         // 의료비구분선택1 
	        if(this.ds_yndExcclcHnDdc.getColumn(i,"MCP_DTA") > 0) { 
// 	              if(!this.ds_yndExcclcHnDdc.getColumn(i,"MCP_SE_DTA")) {
// 	                   this.alert("의료비구분을 선택하세요");
// 	                   this.ds_yndExcclcHnDdc.setColumn(i,"MCP_DTA","0");
// 	              }   
	        }
	        
	        // 의료비구분선택2
	        if(this.ds_yndExcclcHnDdc.getColumn(i,"MCP_ETC") > 0) { 
// 	              if(!this.ds_yndExcclcHnDdc.getColumn(i,"MCP_SE_ETC")) {
// 	                   this.alert("의료비구분을 선택하세요");
// 	                   this.ds_yndExcclcHnDdc.setColumn(i,"MCP_ETC","0");
// 	              }   
	        } 
// 	        
// // 	        // 6세이하 나이체크
// // 	        if(DS_DATA_HN_DDC.getColumn(i,"BELOW_6_TINY") == "1") {
// // 	             var FMLY_RGSTNO = DS_DATA_HN_DDC.getColumn(i,"RGSTNO");	
// // 	             if( parseInt(FMLY_RGSTNO.substr(0,2)) <= 6 || parseInt(FMLY_RGSTNO.substr(6,1)) <= 2){				     
// // 					   alert("6세이하가 아닙니다.");
// // 					   DS_DATA_HN_DDC.setColumn(i,"BELOW_6_TINY","0");					 			           	
// // 				 } 
// // 	        }
// // 	        
// // 	        
// // 	        // 경로 체크
// // 	        if(DS_DATA_HN_DDC.getColumn(i,"RTE_PVLTRT") == "1") {
// // 	             var FMLY_RGSTNO = DS_DATA_HN_DDC.getColumn(i,"RGSTNO");	
// // // 	             alert(FMLY_RGSTNO.substr(0,2));
// // // 	             alert(FMLY_RGSTNO.substr(6,1));
// // 				 if( parseInt(FMLY_RGSTNO.substr(0,2)) > 43 || parseInt(FMLY_RGSTNO.substr(6,1)) > 2){				     
// // 					   alert("경로공제자가 아닙니다.");
// // 					   DS_DATA_HN_DDC.setColumn(i,"RTE_PVLTRT","0");					 			           	
// // 				 }
// // 	        }
// // 	        // 인적공제 체크
// // 	        if(DS_DATA_HN_DDC.getColumn(i,"HN_DDC_YN") == "1") {
// // 	             var FMLY_RGSTNO = DS_DATA_HN_DDC.getColumn(i,"RGSTNO");
// // 	              if(parseInt(FMLY_RGSTNO.substr(6,1)) < 3){
// // 						if(parseInt(FMLY_RGSTNO.substr(0,2)) < 44){
// // 							DS_DATA_HN_DDC.setColumn(i,"RTE_PVLTRT","1");	
// // 						}
// //  	              }
// //  	              // 공제 대상 체크 (21 ~ 59세는 대상이 아님, 배우자, 장애는 통과)
// //  	               if(parseInt(FMLY_RGSTNO.substr(6,1)) < 3){
// // 						if(parseInt(FMLY_RGSTNO.substr(0,2)) < 93 && parseInt(FMLY_RGSTNO.substr(0,2)) > 53){
// // 						
// // 						     if(DS_DATA_HN_DDC.getColumn(i,"REL_CD") == "05" || DS_DATA_HN_DDC.getColumn(i,"REL_CD") == "06" || DS_DATA_HN_DDC.getColumn(i,"REL_CD") == "07" || DS_DATA_HN_DDC.getColumn(i,"TPHH_DVSN") == "1") {
// // 						         DS_DATA_HN_DDC.setColumn(i,"HN_DDC_YN","1");
// // 						     }else {
// // 						         alert("인적공제 대상이 아닙니다.");
// // 							     DS_DATA_HN_DDC.setColumn(i,"HN_DDC_YN","0");	
// // 							     return;
// // 							 }    
// // 						} else if (parseInt(FMLY_RGSTNO.substr(0,2)) > 92 && parseInt(FMLY_RGSTNO.substr(0,2)) < 54) {
// // 						    DS_DATA_HN_DDC.setColumn(i,"HN_DDC_YN","1");
// // 						}
// //  	               } 	               
// //  	               if(parseInt(FMLY_RGSTNO.substr(6,1)) > 2){						
// // 							DS_DATA_HN_DDC.setColumn(i,"HN_DDC_YN","1");						
// //  	               }
// //     
// //  	              
// // 	        } else if(DS_DATA_HN_DDC.getColumn(i,"HN_DDC_YN") == "0") {
// // 	             DS_DATA_HN_DDC.setColumn(i,"RTE_PVLTRT","0");	
// // 	        }
// 	        
	        // 출산입양 자녀 체크
	        if(this.ds_yndExcclcHnDdc.getColumn(i,"CHLDBRTH_ADP_AT") == "1") {
	              if(this.ds_yndExcclcHnDdc.getColumn(i,"FAMILY_RELATE") == "007" || this.ds_yndExcclcHnDdc.getColumn(i,"FAMILY_RELATE") == "016"  ) {
	              
	              } else {
	                   this.alert("출산입양은 자녀 및 손자만 해당됩니다.");
					   this.ds_yndExcclcHnDdc.setColumn(i,"CHLDBRTH_ADP_AT","0");		
	              }	         
	        } 
	         
	}         
}


this.Button00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.close();
}

]]></Script>
  </Form>
</FDL>
