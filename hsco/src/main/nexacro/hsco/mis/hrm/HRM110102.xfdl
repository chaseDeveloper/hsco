<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="HRM110102" classname="UI_HRM110102" left="0" top="0" width="1059" height="735" titletext="원천세(일용직) 전표발행" onload="HRM110102_onload" oninit="HRM110102_oninit">
    <Layouts>
      <Layout>
        <Div id="div_search" taborder="0" left="0" top="0" right="28" height="59" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="sta_INCOME_SE" taborder="8" text="소득구분" cssclass="sta_WFSA_Label" left="178" top="5" width="64" height="21"/>
              <Static id="sta_MANAGE_YM" taborder="6" text="관리연월" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Combo id="cmb_INCOME_SE" taborder="1" left="242" top="5" width="84" height="21" codecolumn="CODE" datacolumn="CODE_NM" innerdataset="@ds_hrm031_s"/>
              <Static id="sta_PYMNT_SJ" taborder="11" text="지급제목" cssclass="sta_WFSA_Label" left="341" top="6" width="64" height="21"/>
              <Static id="sta_emp" taborder="10" text="담당사원" cssclass="sta_WFSA_Label" left="341" top="31" width="64" height="21"/>
              <Static id="Static01" taborder="5" text="15" visible="false" left="0" top="0" style="background:#00ffff66;" width="15" bottom="0"/>
              <Div id="div_MANAGE_YM" taborder="0" url="common::frmMonCal.xfdl" left="79" top="5" width="84" height="21" async="false"/>
              <Edit id="edt_PYMNT_SJ" taborder="2" left="405" top="5" height="21" width="340"/>
              <Div id="div_EMP" taborder="4" url="com::empno.xfdl" left="405" top="31" width="166" height="21" enable="false" async="false"/>
              <Static id="Static02" taborder="7" text="15" visible="false" left="163" top="5" width="15" height="21" style="background:#00ffff66;"/>
              <Static id="Static03" taborder="9" text="15" visible="false" left="326" top="5" width="15" height="21" style="background:#00ffff66;"/>
              <Static id="Static51" taborder="12" text="5" visible="false" left="0" top="0" height="5" style="background:#dc143c3c;align:center middle;" right="0"/>
              <Static id="Static04" taborder="13" text="5" visible="false" left="0" top="26" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="sta_searchDept" taborder="14" text="담당부서" cssclass="sta_WFSA_Label" left="15" top="31" width="64" height="21"/>
              <Div id="div_DEPT" taborder="3" url="com::deptCode.xfdl" left="79" top="31" width="247" height="21" enable="false" async="false"/>
              <Static id="Static05" taborder="15" text="15" visible="false" left="326" top="24" width="15" height="33" style="background:#00ffff66;"/>
              <Static id="Static06" taborder="16" text="5" visible="false" left="0" right="0" height="5" style="background:#dc143c3c;align:center middle;" bottom="0"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Static id="Static00" taborder="14" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Grid id="grd_delbr" taborder="3" useinputpanel="false" left="0" top="93" binddataset="ds_delbr" right="28" height="291" autoenter="select" cellsizingtype="col" onexpandup="grd_delbr_onexpandup">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="62"/>
                <Column size="60"/>
                <Column size="120"/>
                <Column size="320"/>
                <Column size="150"/>
                <Column size="160"/>
                <Column size="150"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="결의여부"/>
                <Cell col="2" cssclass="Cellgrd_WF_HeadEssential" text="소득구분"/>
                <Cell col="3" cssclass="Cellgrd_WF_HeadEssential" text="건명"/>
                <Cell col="4" cssclass="Cellgrd_WF_HeadEssential" text="근무부서"/>
                <Cell col="5" cssclass="Cellgrd_WF_HeadEssential" text="관리담당"/>
                <Cell col="6" text="결의번호"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow + 1"/>
                <Cell col="1" displaytype="checkbox" text="bind:DECSN_AT"/>
                <Cell col="2" displaytype="combo" edittype="expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'combo' : 'none'" text="bind:INCOME_SE" combodataset="ds_hrm031" combocodecol="CODE" combodatacol="CODE_NM" combodisplay="expr:dataset.getRowType(currow) == Dataset.ROWTYPE_INSERT ? 'display' : 'edit'"/>
                <Cell col="3" edittype="expr:DECSN_AT == '1' ? 'none' : 'normal'" style="align:left middle;" text="bind:PYMNT_SJ" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'"/>
                <Cell col="4" style="align:left middle;" text="bind:MNGR_DEPT_NM"/>
                <Cell col="5" text="bind:MNGR_EMPNM" expandshow="expr:DECSN_AT == '1' ? 'hide' : 'show'"/>
                <Cell col="6" text="bind:DECSN_YNO"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static01" taborder="15" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Static id="Static36" taborder="16" text="10" visible="false" left="0" top="59" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title01" taborder="12" text="원천세-일용직 지출결의등록" cssclass="sta_WF_Title02" left="0" top="69" width="224" height="19" style="align:left middle;"/>
        <Static id="Static51" taborder="17" text="5" visible="false" left="0" top="88" width="1031" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title00" taborder="13" text="상세내역" cssclass="sta_WF_Title02" left="0" top="394" width="224" height="19" style="align:left middle;"/>
        <Static id="Static02" taborder="18" text="10" visible="false" left="0" top="384" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static03" taborder="19" text="5" visible="false" left="0" top="413" width="1031" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Grid id="grd_delbrDetail" taborder="7" binddataset="ds_delbr_detail" useinputpanel="false" left="0" top="418" bottom="105" right="28" autoenter="select" cellsizingtype="col" onexpandup="grd_delbrDetail_onexpandup" extendsizetype="none" autoupdatetype="itemselect">
          <Formats>
            <Format id="DELBR">
              <Columns>
                <Column size="40"/>
                <Column size="90"/>
                <Column size="110"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="80"/>
                <Column size="90"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="110"/>
                <Column size="110"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="70"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="60"/>
                <Column size="0"/>
                <Column size="120"/>
                <Column size="120"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="성명"/>
                <Cell col="2" text="주민등록번호"/>
                <Cell col="3" text="전화번호"/>
                <Cell col="4" text="휴대폰번호"/>
                <Cell col="5" cssclass="Cellgrd_WF_HeadEssential" text="은행코드"/>
                <Cell col="6" cssclass="Cellgrd_WF_HeadEssential" text="은행명"/>
                <Cell col="7" cssclass="Cellgrd_WF_HeadEssential" text="예금주"/>
                <Cell col="8" cssclass="Cellgrd_WF_HeadEssential" text="계좌번호"/>
                <Cell col="9" cssclass="Cellgrd_WF_HeadEssential" text="근무시작일"/>
                <Cell col="10" cssclass="Cellgrd_WF_HeadEssential" text="근무종료일"/>
                <Cell col="11" cssclass="Cellgrd_WF_HeadEssential" text="근무일수"/>
                <Cell col="12" cssclass="Cellgrd_WF_HeadEssential" text="근무시간"/>
                <Cell col="13" cssclass="Cellgrd_WF_HeadEssential" text="근무단가"/>
                <Cell col="14" cssclass="Cellgrd_WF_HeadEssential" text="추가지급액"/>
                <Cell col="15" text="지급총금액"/>
                <Cell col="16" text="소득금액"/>
                <Cell col="17" text="소득세세율"/>
                <Cell col="18" text="소득세"/>
                <Cell col="19" text="주민세"/>
                <Cell col="20" text="원천세 계"/>
                <Cell col="21" text="산재보험금액"/>
                <Cell col="22" text="보험적용"/>
                <Cell col="23" text="회사부담고용보험"/>
                <Cell col="24" text="개인부담고용보험"/>
                <Cell col="25" text="실지급금액"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow + 1"/>
                <Cell col="1" text="bind:LABRR_NM" expandshow="expr:DECSN_AT == '1' ? 'hide' : 'show'"/>
                <Cell col="2" edittype="mask" text="bind:IHIDNUM" mask="######-#{@@@@@@}"/>
                <Cell col="3" text="bind:TELNO_1"/>
                <Cell col="4" text="bind:TELNO_2"/>
                <Cell col="5" text="bind:BANK_CODE"/>
                <Cell col="6" style="align:left middle;" text="bind:BANK_NM"/>
                <Cell col="7" style="align:left middle;" text="bind:DPSTR_NM"/>
                <Cell col="8" text="bind:ACNUTNO"/>
                <Cell col="9" displaytype="date" edittype="expr:DECSN_AT == '1' ? 'none' : 'date'" style="align:center middle;" text="bind:WORK_BGNDE" calendardisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'" calendardisplaynulltype="none"/>
                <Cell col="10" displaytype="date" edittype="expr:DECSN_AT == '1' ? 'none' : 'date'" style="align:center middle;" text="bind:WORK_ENDDE" calendardisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'" calendardisplaynulltype="none"/>
                <Cell col="11" displaytype="number" edittype="expr:DECSN_AT == '1' ? 'none' : 'masknumber'" style="align:right middle;" text="bind:WORK_DAYCNT" mask="###" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'" editlimitbymask="both"/>
                <Cell col="12" displaytype="number" edittype="expr:DECSN_AT == '1' ? 'none' : 'masknumber'" style="align:right middle;" text="bind:WORK_TIME" mask="###" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'" editlimitbymask="both"/>
                <Cell col="13" displaytype="number" edittype="expr:DECSN_AT == '1' ? 'none' : 'masknumber'" style="align:right middle;" text="bind:WORK_UNTPC" mask="##,###,###,###" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'" editlimitbymask="both"/>
                <Cell col="14" displaytype="number" edittype="expr:DECSN_AT == '1' ? 'none' : 'masknumber'" style="align:right middle;" text="bind:ADIT_PYMNTAMT" mask="##,###,###,##9" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'" editlimitbymask="both"/>
                <Cell col="15" displaytype="number" style="align:right middle;" text="bind:PYMNT_TOT_AMOUNT"/>
                <Cell col="16" displaytype="number" style="align:right middle;" text="bind:INCOME_AMOUNT"/>
                <Cell col="17" displaytype="number" style="align:right middle;" text="bind:INCMTAX_TAXRT"/>
                <Cell col="18" displaytype="number" style="align:right middle;" text="bind:INCMTAX_AMOUNT"/>
                <Cell col="19" displaytype="number" style="align:right middle;" text="bind:IHNTS_AMOUNT"/>
                <Cell col="20" displaytype="number" style="align:right middle;" text="bind:WHTAX_AMOUNT"/>
                <Cell col="21" displaytype="number" style="align:right middle;" text="bind:IACI_AMOUNT"/>
                <Cell col="22" displaytype="checkbox" style="align: ;" text="bind:INSRNC_APPLC_AT"/>
                <Cell col="23" displaytype="number" style="align:right middle;" text="bind:CMPNY_BND_EMPLYMINSRNC"/>
                <Cell col="24" displaytype="number" style="align:right middle;" text="bind:INDVDL_BND_EMPLYMINSRNC"/>
                <Cell col="25" displaytype="number" style="align:right middle;" text="bind:REAL_PYMNT_AMOUNT"/>
              </Band>
            </Format>
            <Format id="ETC_INCOME">
              <Columns>
                <Column size="40"/>
                <Column size="90"/>
                <Column size="110"/>
                <Column size="100"/>
                <Column size="90"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="200"/>
                <Column size="120"/>
                <Column size="80"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="70"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="120"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="성명"/>
                <Cell col="2" text="주민등록번호"/>
                <Cell col="3" cssclass="Cellgrd_WF_HeadEssential" text="은행코드"/>
                <Cell col="4" cssclass="Cellgrd_WF_HeadEssential" text="은행명"/>
                <Cell col="5" cssclass="Cellgrd_WF_HeadEssential" text="예금주"/>
                <Cell col="6" cssclass="Cellgrd_WF_HeadEssential" text="계좌번호"/>
                <Cell col="7" text="주소"/>
                <Cell col="8" cssclass="Cellgrd_WF_HeadEssential" text="지급총금액"/>
                <Cell col="9" cssclass="Cellgrd_WF_HeadEssential" text="필요경비율"/>
                <Cell col="10" text="필요경비금액"/>
                <Cell col="11" text="소득금액"/>
                <Cell col="12" text="소득세세율"/>
                <Cell col="13" text="소득세"/>
                <Cell col="14" text="주민세"/>
                <Cell col="15" text="원천세 계"/>
                <Cell col="16" text="실지급금액"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow + 1"/>
                <Cell col="1" text="bind:LABRR_NM" expandshow="expr:DECSN_AT == '1' ? 'hide' : 'show'"/>
                <Cell col="2" text="bind:IHIDNUM" mask="######-#{######}"/>
                <Cell col="3" text="bind:BANK_CODE"/>
                <Cell col="4" style="align:left middle;" text="bind:BANK_NM"/>
                <Cell col="5" text="bind:DPSTR_NM"/>
                <Cell col="6" text="bind:ACNUTNO"/>
                <Cell col="7" style="align:left middle;" text="bind:ADRES_2"/>
                <Cell col="8" displaytype="number" edittype="expr:DECSN_AT == '1' ? 'none' : 'masknumber'" style="align:right middle;" text="bind:PYMNT_TOT_AMOUNT" mask="##,###,###,###" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'"/>
                <Cell col="9" displaytype="number" edittype="expr:DECSN_AT == '1' ? 'none' : 'masknumber'" style="align:right middle;" text="bind:NEET_EXPENS_RATE" mask="##9.#" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'" editlimitbymask="both"/>
                <Cell col="10" displaytype="number" style="align:right middle;" text="bind:NEET_EXPENS_AMOUNT"/>
                <Cell col="11" displaytype="number" style="align:right middle;" text="bind:INCOME_AMOUNT"/>
                <Cell col="12" displaytype="number" style="align:right middle;" text="bind:INCMTAX_TAXRT"/>
                <Cell col="13" displaytype="number" style="align:right middle;" text="bind:INCMTAX_AMOUNT"/>
                <Cell col="14" displaytype="number" style="align:right middle;" text="bind:IHNTS_AMOUNT"/>
                <Cell col="15" displaytype="number" style="align:right middle;" text="bind:WHTAX_AMOUNT"/>
                <Cell col="16" displaytype="number" style="align:right middle;" text="bind:REAL_PYMNT_AMOUNT"/>
              </Band>
            </Format>
            <Format id="BSNS_INCOME">
              <Columns>
                <Column size="40"/>
                <Column size="90"/>
                <Column size="80"/>
                <Column size="100"/>
                <Column size="90"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="200"/>
                <Column size="120"/>
                <Column size="70"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="120"/>
                <Column size="60"/>
                <Column size="0"/>
                <Column size="120"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="성명"/>
                <Cell col="2" text="거래처"/>
                <Cell col="3" cssclass="Cellgrd_WF_HeadEssential" text="은행코드"/>
                <Cell col="4" cssclass="Cellgrd_WF_HeadEssential" text="은행명"/>
                <Cell col="5" cssclass="Cellgrd_WF_HeadEssential" text="예금주"/>
                <Cell col="6" cssclass="Cellgrd_WF_HeadEssential" text="계좌번호"/>
                <Cell col="7" text="주소"/>
                <Cell col="8" cssclass="Cellgrd_WF_HeadEssential" text="지급총금액"/>
                <Cell col="9" text="소득세세율"/>
                <Cell col="10" text="소득세"/>
                <Cell col="11" text="주민세"/>
                <Cell col="12" text="원천세 계"/>
                <Cell col="13" text="실지급금액"/>
                <Cell col="14" text="보험적용"/>
                <Cell col="15" text="회사부담고용보험"/>
                <Cell col="16" text="개인부담고용보험"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow + 1"/>
                <Cell col="1" text="bind:LABRR_NM" expandshow="expr:DECSN_AT == '1' ? 'hide' : 'show'"/>
                <Cell col="2" style="align:left middle;" text="bind:BCNC_NM"/>
                <Cell col="3" text="bind:BANK_CODE"/>
                <Cell col="4" style="align:left middle;" text="bind:BANK_NM"/>
                <Cell col="5" text="bind:DPSTR_NM"/>
                <Cell col="6" text="bind:ACNUTNO"/>
                <Cell col="7" style="align:left middle;" text="bind:ADRES_2"/>
                <Cell col="8" displaytype="number" edittype="expr:DECSN_AT == '1' ? 'none' : 'masknumber'" style="align:right middle;" text="bind:PYMNT_TOT_AMOUNT" mask="##,###,###,###" editdisplay="expr:DECSN_AT == '1' ? 'edit' : 'display'"/>
                <Cell col="9" displaytype="number" style="align:right middle;" text="bind:INCMTAX_TAXRT"/>
                <Cell col="10" displaytype="number" style="align:right middle;" text="bind:INCMTAX_AMOUNT"/>
                <Cell col="11" displaytype="number" style="align:right middle;" text="bind:IHNTS_AMOUNT"/>
                <Cell col="12" displaytype="number" style="align:right middle;" text="bind:WHTAX_AMOUNT"/>
                <Cell col="13" displaytype="number" style="align:right middle;" text="bind:REAL_PYMNT_AMOUNT"/>
                <Cell col="14" displaytype="checkbox" edittype="checkbox" style="align: ;" text="bind:INSRNC_APPLC_AT"/>
                <Cell col="15" displaytype="number" style="align:right middle;" text="bind:CMPNY_BND_EMPLYMINSRNC"/>
                <Cell col="16" displaytype="number" style="align:right middle;" text="bind:INDVDL_BND_EMPLYMINSRNC"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_add" taborder="4" text="행추가" cssclass="btn_WF_Gridadd" top="394" width="64" height="19" right="162" onclick="btn_add_onclick"/>
        <Button id="btn_delete" taborder="5" text="행삭제" cssclass="btn_WF_Griddel" top="394" width="64" height="19" right="95" onclick="btn_delete_onclick"/>
        <Button id="btn_cancel" taborder="6" text="행취소" cssclass="btn_WF_Gridcnl" top="394" width="64" height="19" right="28" onclick="btn_cancel_onclick"/>
        <Button id="btn_expDsnRegist" taborder="2" text="지출결의등록" cssclass="btn_WF_Process" top="69" right="28" width="90" height="19" onclick="btn_expDsnRegist_onclick"/>
        <Static id="sta_gnfdList03" taborder="20" text="첨부파일" cssclass="sta_WF_Title02" top="818" width="100" height="19" style="align:left middle;" right="378" visible="false"/>
        <Button id="btn_delFiles" taborder="8" text="선택삭제" onclick="btn_delFiles_onclick" cssclass="btn_WF_Process" top="818" right="188" width="67" height="19" visible="false"/>
        <Button id="btn_uploadFiles" taborder="9" text="파일업로드" onclick="btn_uploadFiles_onclick" cssclass="btn_WF_Process" top="818" right="116" width="68" height="19" visible="false"/>
        <Button id="btn_downFiles" taborder="10" text="선택다운로드" onclick="btn_downFiles_onclick" cssclass="btn_WF_Process" top="818" right="28" width="85" height="19" visible="false"/>
        <Grid id="grd_cmmnAtchmnfl" taborder="11" binddataset="ds_fileList" autoenter="select" useinputpanel="false" cellsizingtype="col" autofittype="col" oncellclick="grd_cmmnAtchmnfl_oncellclick" onheadclick="grd_cmmnAtchmnfl_onheadclick" top="842" right="28" bottom="-424" width="450" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="65"/>
                <Column size="300"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="40"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="checkbox" edittype="checkbox"/>
                <Cell col="1" text="파일형식"/>
                <Cell col="2" celltype="head" text="파일명"/>
                <Cell col="3" text="확장자"/>
                <Cell col="4" text="사이즈"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                <Cell col="1" displaytype="image" text="bind:FILE_IMAGE" autosizerow="limitmin" autosizecol="limitmin"/>
                <Cell col="2" displaytype="normal" style="align:left middle;" text="bind:ORGINL_FILE_NM"/>
                <Cell col="3" text="bind:FILE_EXTSN"/>
                <Cell col="4" text="bind:FILE_MG"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static42" taborder="21" text="10" visible="false" top="818" bottom="-424" width="10" style="background:#1b3cd23c;align:center middle;" right="478"/>
        <Button id="btn_expDsnView" taborder="22" text="지출결의보기" cssclass="btn_WF_Process" enable="true" top="69" right="121" width="90" height="19" onclick="btn_expDsnView_onclick"/>
        <Div id="div_guidance" taborder="24" left="0" cssclass="div_WFSA_Box" right="28" bottom="0" height="95">
          <Layouts>
            <Layout>
              <Static id="sta_title" taborder="0" text="참고사항" cssclass="sta_WF_Title03" left="0" top="5" width="224" height="19" style="align:left middle;"/>
              <Static id="Static51" taborder="1" text="5" visible="false" left="0" top="0" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="sta_guidance" taborder="2" text="- 일용직소득세율 : 6  기타소득세율 : 20  사업소득세율 : 3  주민세율 : 10  산재보험율 : 0.065  고용보험 본인부담분 : 0.65  회사부담분 : 1.1" left="0" top="29" right="0" height="21" style="color:blue;padding:0 0 0 0;align:left middle;font:bold 9 Gulim;"/>
              <Static id="sta_guidance2" taborder="3" text="- 일용소득은 일단가 10만원까지 비과세금액으로 제약 (근로소득의 경우 제약없음)" left="0" top="50" right="0" style="color:darkred;padding:0 0 0 0;align:left middle;font:bold 9 Gulim;" height="21"/>
              <Static id="Static00" taborder="4" text="5" visible="false" left="0" top="24" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="sta_guidance3" taborder="5" text="- 고용보험은 총근무시간이 60시간 이상일 경우 계산" left="0" top="71" right="30" height="21" style="color:darkred;padding:0 0 0 0;align:left middle;font:bold 9 Gulim;"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static04" taborder="25" text="10" visible="false" left="0" top="630" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static05" taborder="26" text="(지출결의 등록시 자금지출부등기일은 실지급일로 설정)" top="69" width="318" height="21" right="220"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond" useclientlayout="true">
        <ColumnInfo>
          <Column id="MANAGE_YM" type="STRING" size="256"/>
          <Column id="INCOME_SE" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond_sub" useclientlayout="true">
        <ColumnInfo>
          <Column id="MANAGE_YM" type="STRING" size="256"/>
          <Column id="MANAGE_SEQ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_delbr" useclientlayout="true" onrowposchanged="ds_delbr_onrowposchanged" canrowposchange="ds_delbr_canrowposchange">
        <ColumnInfo>
          <Column id="MANAGE_YM" type="STRING" size="256"/>
          <Column id="MANAGE_SEQ" type="STRING" size="256"/>
          <Column id="DECSN_AT" type="STRING" size="256"/>
          <Column id="DECSN_YEAR" type="STRING" size="256"/>
          <Column id="DECSN_NO" type="STRING" size="256"/>
          <Column id="DECSN_YNO" type="STRING" size="256"/>
          <Column id="INCOME_SE" type="STRING" size="256"/>
          <Column id="PYMNT_SJ" type="STRING" size="256"/>
          <Column id="MNGR_DEPT_CODE" type="STRING" size="256"/>
          <Column id="MNGR_DEPT_NM" type="STRING" size="256"/>
          <Column id="MNGR_EMPNO" type="STRING" size="256"/>
          <Column id="MNGR_EMPNM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_delbr_detail" useclientlayout="true" oncolumnchanged="ds_delbr_detail_oncolumnchanged">
        <ColumnInfo>
          <Column id="MANAGE_YM" type="STRING" size="256"/>
          <Column id="MANAGE_SEQ" type="STRING" size="256"/>
          <Column id="DETAIL_SEQ" type="STRING" size="256"/>
          <Column id="DYLRR_NO" type="STRING" size="256"/>
          <Column id="DYLRR_ACNUT_NO" type="STRING" size="256"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="LABRR_NM" type="STRING" size="256"/>
          <Column id="IHIDNUM" type="STRING" size="256"/>
          <Column id="TELNO_1" type="STRING" size="256"/>
          <Column id="TELNO_2" type="STRING" size="256"/>
          <Column id="BANK_CODE" type="STRING" size="256"/>
          <Column id="BANK_NM" type="STRING" size="256"/>
          <Column id="DPSTR_NM" type="STRING" size="256"/>
          <Column id="ACNUTNO" type="STRING" size="256"/>
          <Column id="WORK_BGNDE" type="STRING" size="256"/>
          <Column id="WORK_ENDDE" type="STRING" size="256"/>
          <Column id="WORK_DAYCNT" type="BIGDECIMAL" size="256"/>
          <Column id="WORK_TIME" type="BIGDECIMAL" size="256"/>
          <Column id="WORK_UNTPC" type="BIGDECIMAL" size="256"/>
          <Column id="ADIT_PYMNTAMT" type="BIGDECIMAL" size="256"/>
          <Column id="NEET_EXPENS_RATE" type="BIGDECIMAL" size="256"/>
          <Column id="NEET_EXPENS_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="INCOME_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="PYMNT_TOT_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="INCMTAX_TAXRT" type="BIGDECIMAL" size="256"/>
          <Column id="INCMTAX_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="IHNTS_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="WHTAX_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="INSRNC_APPLC_AT" type="BIGDECIMAL" size="256"/>
          <Column id="IACI_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="CMPNY_BND_EMPLYMINSRNC" type="BIGDECIMAL" size="256"/>
          <Column id="INDVDL_BND_EMPLYMINSRNC" type="BIGDECIMAL" size="256"/>
          <Column id="REAL_PYMNT_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="ADRES_1" type="STRING" size="500"/>
          <Column id="ADRES_2" type="STRING" size="500"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="DECSN_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm031" firenextcount="0" useclientlayout="true">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm031_s" firenextcount="0" useclientlayout="true">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="PROGRS" type="BIGDECIMAL" size="16"/>
          <Column id="ORGINL_FILE_NM" type="string" size="32"/>
          <Column id="FILE_EXTSN" type="string" size="32"/>
          <Column id="FILE_STRE_COURS" type="string" size="32"/>
          <Column id="FILE_ID" type="string" size="32"/>
          <Column id="SN" type="bigdecimal" size="16"/>
          <Column id="SYS_SE_CODE" type="string" size="32"/>
          <Column id="FILE_IMAGE" type="string" size="32"/>
          <Column id="FILE_TY" type="string" size="32"/>
          <Column id="JOB_SE" type="string" size="32"/>
          <Column id="DELETE_IMAGE" type="string" size="32"/>
          <Column id="STRE_FILE_NM" type="string" size="32"/>
          <Column id="FILE_MG" type="bigdecimal" size="16"/>
          <Column id="FILE_CN" type="string" size="32"/>
          <Column id="FILE_ORDR" type="bigdecimal" size="16"/>
          <Column id="TRNSMIS_FILE_SIZE" type="string" size="32"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="STTUS" type="string" size="32"/>
          <Column id="FILE_SN" type="bigdecimal" size="16"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condFile" useclientlayout="true">
        <ColumnInfo>
          <Column id="FILE_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" useclientlayout="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">MANAGE_YM</Col>
            <Col id="msgId">관리연월</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_delbr</Col>
            <Col id="colId">INCOME_SE</Col>
            <Col id="msgId">소득구분</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">PYMNT_SJ</Col>
            <Col id="compId">ds_delbr</Col>
            <Col id="msgId">지급제목</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">MNGR_DEPT_CODE</Col>
            <Col id="compId">ds_delbr</Col>
            <Col id="msgId">근무부서</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">MNGR_EMPNO</Col>
            <Col id="compId">ds_delbr</Col>
            <Col id="msgId">관리담당</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">LABRR_NM</Col>
            <Col id="msgId">근로자성명</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">BANK_CODE</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">은행코드</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">BANK_NM</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">은행명</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">DPSTR_NM</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">예금주</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">ACNUTNO</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">계좌번호</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_expDsnMastr" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnMastr_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="10"/>
          <Column id="CAUSE_ACTION_NO" type="STRING" size="10"/>
          <Column id="BUDGET_YEAR" type="STRING" size="4"/>
          <Column id="BSNS_SE" type="STRING" size="1"/>
          <Column id="BALC_SE" type="STRING" size="1"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="8"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="ANACT_KND" type="STRING" size="2"/>
          <Column id="DEPT_CODE" type="STRING" size="6"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="CYFD_SE" type="STRING" size="1"/>
          <Column id="ITNC_DE" type="STRING" size="8"/>
          <Column id="PYMNT_ITNC_DE" type="STRING" size="8"/>
          <Column id="DET_DCSN_DE" type="STRING" size="8"/>
          <Column id="PRMPC_JRNLZPR_RGIST_DE" type="STRING" size="8"/>
          <Column id="CPTAL_EXPNDTR_ACNTBK_DE" type="STRING" size="8"/>
          <Column id="EXPNDTR_BUDGET_CNRL_DE" type="STRING" size="8"/>
          <Column id="CAUSE_ACTION_DE" type="STRING" size="8"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="BUDGET_ACNT_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="8"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="CPTAL_CHRG_CONFM" type="STRING" size="1"/>
          <Column id="TIMHDER_CONFM" type="STRING" size="1"/>
          <Column id="CNTRCT_NO" type="STRING" size="11"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="SUMRY" type="STRING" size="200"/>
          <Column id="BSNS_CODE" type="STRING" size="5"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="PRMPC_YEAR" type="STRING" size="256"/>
          <Column id="PRMPC_CODE" type="STRING" size="6"/>
          <Column id="PRMPC_NM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="8"/>
          <Column id="EXPNDTR_CNFIRM_AT" type="STRING" size="2"/>
          <Column id="ATMC_JRNLZ_TY_CODE" type="STRING" size="256"/>
          <Column id="GNRL_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="GNRL_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="CHECK_NO" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="SANCTN_SE" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_STTUS" type="STRING" size="256"/>
          <Column id="INC_EXP_AT" type="STRING" size="256"/>
          <Column id="CPTAL_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="DRFT_APPRID" type="STRING" size="256"/>
          <Column id="DRFT_DOCREGNO" type="STRING" size="256"/>
          <Column id="DRFT_DATE" type="STRING" size="256"/>
          <Column id="DRFT_USERID" type="STRING" size="256"/>
          <Column id="TRG_FORM_ID" type="STRING" size="256"/>
          <Column id="TRG_FORM_ID2" type="STRING" size="256"/>
          <Column id="SANCTN_STS" type="STRING" size="256"/>
          <Column id="BUDGET_CNRL_AT" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_ANACT_KND" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_REGIST_SE" type="STRING" size="256"/>
          <Column id="CHI_CNT" type="STRING" size="256"/>
          <Column id="CHI_AT" type="STRING" size="256"/>
          <Column id="WIK_CPTAL_PLAN_AT" type="STRING" size="256"/>
          <Column id="CNSUL_SJ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnMtrDet" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnMtrDet_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="CNTRCT_DE" type="STRING" size="8"/>
          <Column id="ACPTNC_DE" type="STRING" size="8"/>
          <Column id="ORDER_DE" type="STRING" size="8"/>
          <Column id="DVYFG_DE" type="STRING" size="8"/>
          <Column id="PYMNT_CMMND_PBLICTE_DE" type="STRING" size="8"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="DSGN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="CNTRCT_SE" type="STRING" size="3"/>
          <Column id="CNTRCT_MTHD" type="STRING" size="1"/>
          <Column id="ATCH_FILE" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH" type="STRING" size="200"/>
          <Column id="ATCH_FILE_1" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH_1" type="STRING" size="200"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnDetail" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnDetail_oncolumnchanged" onrowsetchanged="ds_expDsnDetail_onrowsetchanged" onrowposchanged="ds_expDsnDetail_onrowposchanged" cancolumnchange="ds_expDsnDetail_cancolumnchange">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AT" type="STRING" size="1"/>
          <Column id="BILL_KND" type="STRING" size="1"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT" type="BIGDECIMAL" size="22"/>
          <Column id="BCNC_CODE" type="STRING" size="10"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="30"/>
          <Column id="ADRES" type="STRING" size="200"/>
          <Column id="RQEST_DE" type="STRING" size="8"/>
          <Column id="RQEST_MAN" type="STRING" size="30"/>
          <Column id="RCPT_DE" type="STRING" size="8"/>
          <Column id="RCPT_MAN" type="STRING" size="30"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="ENTRPRS_SE" type="STRING" size="1"/>
          <Column id="EVRFRND" type="STRING" size="1"/>
          <Column id="TCNDVLP" type="STRING" size="1"/>
          <Column id="CNTRWK_PRPOS_MTRIL" type="STRING" size="1"/>
          <Column id="AREA_ENTRPS" type="STRING" size="1"/>
          <Column id="FEMALE_ENTRPRS" type="STRING" size="1"/>
          <Column id="MIDDL_PD_CMPET_PRDUCT" type="STRING" size="1"/>
          <Column id="FRGCPT_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN" type="STRING" size="1"/>
          <Column id="SRSILL_DSPSN" type="STRING" size="1"/>
          <Column id="SOCTY_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN_PRDCTN_FCLTY" type="STRING" size="1"/>
          <Column id="SOCTY_CPER_MXTR" type="STRING" size="1"/>
          <Column id="GREEN_PRDUCT" type="STRING" size="1"/>
          <Column id="DSPSN_STD_BPLC" type="STRING" size="1"/>
          <Column id="WATER_INDUST" type="STRING" size="1"/>
          <Column id="MDLC_INDUST" type="STRING" size="1"/>
          <Column id="FARMNG_INDUST" type="STRING" size="1"/>
          <Column id="ENERGY_INDUST" type="STRING" size="1"/>
          <Column id="WHTAX_AT" type="STRING" size="1"/>
          <Column id="WHTAX_KND" type="STRING" size="1"/>
          <Column id="WHTAX_ADRES" type="STRING" size="200"/>
          <Column id="IHDNUM" type="STRING" size="256"/>
          <Column id="INCMTAX" type="BIGDECIMAL" size="22"/>
          <Column id="IHNTS" type="BIGDECIMAL" size="22"/>
          <Column id="WHTAX_INCOME_SE_CODE" type="STRING" size="256"/>
          <Column id="WHTAX_INDUTY_CODE" type="STRING" size="256"/>
          <Column id="WHTAX_PYMNT_TOTAMT" type="BIGDECIMAL" size="22"/>
          <Column id="MTCHG_SE" type="STRING" size="5"/>
          <Column id="BRRW_AMOUNT_INTR_RPAY_AT" type="STRING" size="1"/>
          <Column id="RM" type="STRING" size="200"/>
          <Column id="CMPNSP_NO" type="STRING" size="30"/>
          <Column id="PRPDVS_TRGET_CODE" type="STRING" size="4"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
          <Column id="ENDW_INTR_AT" type="STRING" size="256"/>
          <Column id="PBNCD_NO" type="STRING" size="256"/>
          <Column id="ERROR_AT" type="STRING" size="256"/>
          <Column id="CHGHY" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_decsnNo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="MANAGE_YM" type="STRING" size="256"/>
          <Column id="MANAGE_SEQ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation1" firefirstcount="0" firenextcount="0" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" useclientlayout="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">WORK_BGNDE</Col>
            <Col id="msgId">근무시작일</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">WORK_ENDDE</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">근무종료일</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">WORK_DAYCNT</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">근무일수</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">WORK_TIME</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">근무시간</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">WORK_UNTPC</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">근무단가</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">ADIT_PYMNTAMT</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">추가지급액</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_validation2" firefirstcount="0" firenextcount="0" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" useclientlayout="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">PYMNT_TOT_AMOUNT</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">지급총금액</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">NEET_EXPENS_RATE</Col>
            <Col id="msgId">필요경비율</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_validation3" firefirstcount="0" firenextcount="0" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" useclientlayout="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">PYMNT_TOT_AMOUNT</Col>
            <Col id="compId">ds_delbr_detail</Col>
            <Col id="msgId">지급총금액</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item4" compid="div_SEARCH.Edit00" propid="value" datasetid="ds_cond" columnid="CREDTR"/>
      <BindItem id="item5" compid="div_SEARCH.cmb_INCOME_SE" propid="value" datasetid="ds_cond" columnid="PRINT_SE"/>
      <BindItem id="item0" compid="div_SEARCH.Edit01" propid="value" datasetid="ds_cond" columnid="CREDTR"/>
      <BindItem id="item36" compid="div_SEARCH.spn_YEAR" propid="value" datasetid="ds_cond" columnid="YEAR"/>
      <BindItem id="item1" compid="div_SEARCH.Edit02" propid="value" datasetid="ds_cond" columnid="CREDTR"/>
      <BindItem id="item2" compid="div_search.cmb_INCOME_SE" propid="value" datasetid="ds_cond" columnid="INCOME_SE"/>
      <BindItem id="item28" compid="btn_delFiles" propid="enable" datasetid="ds_edcAcmsltList" columnid="ENABLE_AT"/>
      <BindItem id="item29" compid="btn_uploadFiles" propid="enable" datasetid="ds_edcAcmsltList" columnid="ENABLE_AT"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * Script Include 
************************************************************************/

include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";
include "lib::comUpDownUtils.xjs";

/***********************************************************************
 * 화면 변수 선언부
************************************************************************/
var nRowPos = 0;
this.File_UpDownManager = null;
this.chargerAt = false;

/***********************************************************************
 * onInit / onLoad 영역
************************************************************************/

this.HRM110102_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// Form 초기화
	this.fn_init_form();
	
	// DataSet 초기화
	this.fn_init_dataset();
} 
this.HRM110102_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.div_search.div_MANAGE_YM.fn_setBind("ds_cond", "MANAGE_YM");
	this.div_search.div_MANAGE_YM.msk_mon.set_cssclass("msk_WF_Essential");
	this.div_search.div_DEPT.fn_setBind("ds_cond","DEPT_CODE","DEPT_NM");
	this.div_search.div_EMP.fn_setBind("ds_cond", "EMPNO", "EMPNM");
	
	var comboParams = [
	    ["ds_hrm031",   "HRM031", "Y", "D", "B"],		// ds_hrm031 : 소득구분
	    ["ds_hrm031_s", "HRM031", "Y", "A", "B"]		// ds_hrm031 : 소득구분(검색조건)
	];
	var callback = function (svcId, errorCode, errorMsg) {
		// 초기 조회조건 세팅
		this.ds_cond.clearData();
		var nRow = this.ds_cond.addRow();
		this.ds_cond.set_enableevent(false);
		this.ds_cond.setColumn(nRow, "MANAGE_YM", this.comUtils.getClientDate("YYYYMM"));	// 당월
		this.ds_cond.setColumn(nRow, "INCOME_SE", "");										// 전체
		this.ds_cond.set_enableevent(true);
		
		// 수정가능여부를 판별하기위해 권한그룹 체크
		if(this.gfn_authGrpId("HRM_ADMIN") != -1) {			// 인사결재자
			this.chargerAt = true;
		}
		if(this.gfn_authGrpId("SAL_ADMIN") != -1) {			// 급여결재자
			this.chargerAt = true;
		}
		if(this.gfn_authGrpId("ACC_ADMIN") != -1) {			// 회계결재자
			this.chargerAt = true;
		}
		if(this.gfn_authGrpId("WHTAX_ADMIN") != -1) {		// 원천세결재자
			this.chargerAt = true;
		}
		// 수정가능한 경우 부서, 사원정보 변경 가능
		if(this.chargerAt){
			this.div_search.div_DEPT.set_enable(true);
			this.div_search.div_EMP.set_enable(true);
			this.ds_cond.setColumn(nRow, "DEPT_CODE", "000000"        );		// 부서코드
			this.ds_cond.setColumn(nRow, "DEPT_NM",   "화성도시공사");		// 부서명
		}
		// 본인의 부서, 사원정보 고정
		else{
			//해당 부서만
			this.ds_cond.setColumn(nRow, "DEPT_CODE", this.gfn_getDeptId()  );	// 부서코드
			this.ds_cond.setColumn(nRow, "DEPT_NM",   this.gfn_getDeptName());	// 부서명
			this.ds_cond.setColumn(nRow, "EMPNO",     this.gfn_getEmpNo()   );	// 사원코드
			this.ds_cond.setColumn(nRow, "EMPNM",     this.gfn_getUserName());	// 사원명
		}
		
		this.fn_search();
	};
	this.gfn_comboLoad (comboParams, callback);
}



/***********************************************************************
 * Form/Dataset 오브젝트 초기화
************************************************************************/

/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */ 
this.fn_init_form = function()
{
	this.gfn_initForm(this);
	this.fn_misFormInit(this);
	
}

/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	// 파일 메니저 설정
	var fileConfig = {
		useMultiUpload : true,
		onChange: this.fn_onFileSelected,	// 파일 선택 이벤트 핸들러
		onSuccess : this.fn_onFileSuccess	// 전송 성공 이벤트 핸들러
		//responseGrid : this.div_multiFile.grd_fileList,
		//responseArea : this.div_multiFile.sta_helpMessage
	};
	this.File_UpDownManager = new this.fileUpDownManager(this, "MIS", "HRM");
	this.File_UpDownManager.init(fileConfig);
}



/**********************************************************************
* Transaction 영역 시작
***********************************************************************
*
* 1. Transaction 관련 이벤트 핸들러
* 2. call Transaction 영역
* 3. callback 영역(Transaction, Popup)
* 
***********************************************************************/



/**********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/

/*
 * 함수명  	: fn_search
 * 설명 		: 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
	// validation 체크
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond, this.ds_validation)) {
		return false;
	}
	
	this.ds_delbr_detail.clearData();
	this.ds_delbr.clearData();
	
    this.fn_transaction("selectDelbr");
}

/*
 * 함수명  	: fn_search_dtl
 * 설명 		: 상세 조회 이벤트 처리
 *
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search_dtl();
 */
this.fn_search_dtl = function()
{
	this.ds_delbr_detail.clearData();
	
	var dbRow     = this.ds_delbr.rowposition;
	var manageYm  = this.ds_delbr.getColumn(dbRow, "MANAGE_YM");
	var manageSeq = this.ds_delbr.getColumn(dbRow, "MANAGE_SEQ");
	
	this.ds_cond_sub.clearData();
	var nRow = this.ds_cond_sub.addRow();
	this.ds_cond_sub.setColumn(nRow, "MANAGE_YM",  manageYm );
	this.ds_cond_sub.setColumn(nRow, "MANAGE_SEQ", manageSeq);
	
	this.fn_transaction("selectDelbrDetail");
}


/*
 * 함수명  	: fn_save
 * 설명 		: 저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{
	// validation 체크
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_delbr, this.ds_validation)) {
		return false;
	}
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_delbr_detail, this.ds_validation)) {
		return false;
	}
	
	var nRow = this.ds_delbr.rowposition;
	var incomeSe = this.ds_delbr.getColumn(nRow, "INCOME_SE");
	
	if(incomeSe == "01" || incomeSe == "04") {			// 일용직(01 : 일용소득, 04 : 근로소득)
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_delbr_detail, this.ds_validation1)) {
			return false;
		}
	}
	else if(incomeSe == "02") {		// 기타소득
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_delbr_detail, this.ds_validation2)) {
			return false;
		}
	}
	else if(incomeSe == "03") {		// 사업소득
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_delbr_detail, this.ds_validation3)) {
			return false;
		}
	}
	
	// save
	if(this.gfn_message("confirm.저장.여부"))	{
		nRowPos = this.ds_delbr.rowposition;
		this.fn_transaction("saveDelbr");
	}
}



/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/ 
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "selectDelbr":
			var sController   	= "hsco/mis/hrm/HRM110102/selectDelbr.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_delbr=output1";
			break;
		case "selectDelbrDetail":
			var sController   	= "hsco/mis/hrm/HRM110102/selectDelbrDetail.do";
			var sInDatasets   	= "input1=ds_cond_sub";
			var sOutDatasets  	= "ds_delbr_detail=output1";
			break;
		case "saveDelbr":
			var sController   	= "hsco/mis/hrm/HRM110102/saveDelbr.do";
			var sInDatasets   	= "input1=ds_delbr:U input2=ds_delbr_detail:U";
			var sOutDatasets  	= "";
			break;
		case "selectFileList":      // 첨부파일 조회
			var sController   	= "hsco/mis/hrm/HRM110102/selectFileList.do";
			var sInDatasets   	= "input1=ds_condFile";
			var sOutDatasets  	= "ds_fileList=output1";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets);
}



/**********************************************************************
 * Transaction Callback 영역
***********************************************************************/
 
 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	if(nErrorCode != '0') {
		this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	}
	
	if (nErrorCode == '0') {
		switch (strSvcId) {
			case "selectDelbr":
				if(this.ds_delbr.getRowCount() > 0 && nRowPos > -1){
					this.ds_delbr.set_rowposition(nRowPos);
					nRowPos = -1;
				}
				break;
			case "selectDelbrDetail":
				break;
			case "saveDelbr":
				this.fn_search();
				break;
			case "selectFileList":      // 첨부파일 조회
				this.ds_fileList.filter("USE_AT == '1'");
				break;
		}
	}
}


/*
 * 함수명  	: fn_popupCallBack
 * 설명 		: Popup Callback 처리
 * params  		: sPopupId    : 팝업 ID
 *                sReturn  : 팝업 처리 결과(dataset.saveXML())
 * return Type 	: None
 * 사용법		: 
 */
this.fn_popupCallBack = function(sPopupId, sReturn)
{
	// 사업코드 선택
	if(sPopupId == "empPop") {
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
		if(loadCnt) {
			var empno    = dsTemp.getColumn(0, "EMPNO");
			var empnm    = dsTemp.getColumn(0, "EMPNM");
			var deptCode = dsTemp.getColumn(0, "DEPT_CODE");
			var deptNm   = dsTemp.getColumn(0, "DEPT_NM");
			
			empnm = "[" + deptNm + "]" + empnm;
			
			var dRow    = this.ds_delbr.rowposition;
			this.ds_delbr.setColumn(dRow, "MNGR_EMPNO",     empno    );	// 사원번호
			this.ds_delbr.setColumn(dRow, "MNGR_EMPNM",     empnm    );	// 사원명
			this.ds_delbr.setColumn(dRow, "MNGR_DEPT_CODE", deptCode );	// 부서코드
			this.ds_delbr.setColumn(dRow, "MNGR_DEPT_NM",   deptNm   );	// 부서명
		}
	}
	// 일용직근로자 선택
	else if(sPopupId == "HRM110101_P01") {
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
		if(loadCnt) {
			var dylrrSeq    = dsTemp.getColumn(0, "DYLRR_NO");			// 일용직근로자순번
			var acnutSeq    = dsTemp.getColumn(0, "ACNUT_SEQ");			// 일용직근로자계좌순번
			var labrrNm     = dsTemp.getColumn(0, "LABRR_NM");			// 성명
			var ihidnum     = dsTemp.getColumn(0, "IHIDNUM");			// 주민등록번호
			var adres1      = dsTemp.getColumn(0, "ADRES_1");			// 도로명주소
			var adres2      = dsTemp.getColumn(0, "ADRES_2");			// 지번주소
			var telno1      = dsTemp.getColumn(0, "TELNO_1");			// 전화번호
			var telno2      = dsTemp.getColumn(0, "TELNO_2");			// 휴대폰번호
			var taxtSe      = dsTemp.getColumn(0, "TAXT_SE");			// 과세구분
			var bankCode    = dsTemp.getColumn(0, "BANK_CODE");			// 은행코드
			var bankNm      = dsTemp.getColumn(0, "BANK_NM");			// 은행명
			var dpstrNm     = dsTemp.getColumn(0, "DPSTR_NM");			// 예금주
			var acnutno     = dsTemp.getColumn(0, "ACNUTNO");			// 계좌번호
			var mnbsAcnutAt = dsTemp.getColumn(0, "MNBS_ACNUT_AT");		// 주거래계좌여부
			
			var ddRow    = this.ds_delbr_detail.rowposition;
			this.ds_delbr_detail.setColumn(ddRow, "DYLRR_NO",       dylrrSeq );	// 일용직근로자순번
			this.ds_delbr_detail.setColumn(ddRow, "DYLRR_ACNUT_NO", acnutSeq );	// 일용직근로자계좌순번
			this.ds_delbr_detail.setColumn(ddRow, "LABRR_NM",        labrrNm  );	// 성명
			this.ds_delbr_detail.setColumn(ddRow, "IHIDNUM",         ihidnum  );	// 주민등록번호
			this.ds_delbr_detail.setColumn(ddRow, "ADRES_1",         adres1   );	// 도로명주소
			this.ds_delbr_detail.setColumn(ddRow, "ADRES_2",         adres2   );	// 지번주소
			this.ds_delbr_detail.setColumn(ddRow, "TELNO_1",         telno1   );	// 전화번호
			this.ds_delbr_detail.setColumn(ddRow, "TELNO_2",         telno2   );	// 휴대폰번호
			this.ds_delbr_detail.setColumn(ddRow, "BANK_CODE",       bankCode );	// 은행코드
			this.ds_delbr_detail.setColumn(ddRow, "BANK_NM",         bankNm   );	// 은행명
			this.ds_delbr_detail.setColumn(ddRow, "DPSTR_NM",        dpstrNm  );	// 예금주
			this.ds_delbr_detail.setColumn(ddRow, "ACNUTNO",         acnutno  );	// 계좌번호
		}
	}
	// 거래처 선택
	if(sPopupId == "CTR010101_P02") {
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
		if(loadCnt) {
			var dylrrSeq      = dsTemp.getColumn(0, "BCNC_CODE");		// 거래코드
			var acnutSeq      = dsTemp.getColumn(0, "SN");				// 계좌순번
			var bcncNm        = dsTemp.getColumn(0, "BCNC_NM");			// 거래처명
			var labrrNm       = dsTemp.getColumn(0, "RPRSNTV");			// 대표자명
			var ihidnum       = dsTemp.getColumn(0, "RPRSNTV_IHIDNUM");	// 대표자주민등록번호
			var rn            = this.comUtils.isNull(dsTemp.getColumn(0, "RN")) ? "" : dsTemp.getColumn(0, "RN");							// 도로명
			var detailRdnmadr = this.comUtils.isNull(dsTemp.getColumn(0, "DETAIL_RDNMADR")) ? "" : dsTemp.getColumn(0, "DETAIL_RDNMADR");	// 도로명주소상세
			var adres         = this.comUtils.isNull(dsTemp.getColumn(0, "ADRES")) ? "" : dsTemp.getColumn(0, "ADRES");						// 주소			
			var detailAdres   = this.comUtils.isNull(dsTemp.getColumn(0, "DETAIL_ADRES")) ? "" : dsTemp.getColumn(0, "DETAIL_ADRES");		//상세주소			
			var adres1        = rn + " " + detailRdnmadr;				// 도로명주소
			var adres2        = adres + " " + detailAdres;				// 지번주소
			var telno1        = dsTemp.getColumn(0, "TELNO");			// 전화번호
			var telno2        = dsTemp.getColumn(0, "MBTLNUM");			// 휴대폰번호
			var taxtSe        = dsTemp.getColumn(0, "TAXT_SE");			// 과세구분
			var bankCode      = dsTemp.getColumn(0, "BANK_CODE");		// 은행코드
			var bankNm        = dsTemp.getColumn(0, "BANK_NM");			// 은행명
			var dpstrNm       = dsTemp.getColumn(0, "DPSTR_NM");		// 예금주
			var acnutno       = dsTemp.getColumn(0, "ACNUTNO");			// 계좌번호
			var mnbsAcnutAt   = dsTemp.getColumn(0, "MNBS_ACNUT_AT");	// 주거래계좌여부
			
			var ddRow    = this.ds_delbr_detail.rowposition;
			
			this.ds_delbr_detail.setColumn(ddRow, "DYLRR_NO",       dylrrSeq );	// 일용직근로자순번
			this.ds_delbr_detail.setColumn(ddRow, "DYLRR_ACNUT_NO", acnutSeq );	// 일용직근로자계좌순번
			this.ds_delbr_detail.setColumn(ddRow, "BCNC_NM",         bcncNm   );	// 거래처명
			this.ds_delbr_detail.setColumn(ddRow, "LABRR_NM",        labrrNm  );	// 성명
			this.ds_delbr_detail.setColumn(ddRow, "IHIDNUM",         ihidnum  );	// 주민등록번호
			this.ds_delbr_detail.setColumn(ddRow, "ADRES_1",         adres1   );	// 도로명주소
			this.ds_delbr_detail.setColumn(ddRow, "ADRES_2",         adres2   );	// 지번주소
			this.ds_delbr_detail.setColumn(ddRow, "TELNO_1",         telno1   );	// 전화번호
			this.ds_delbr_detail.setColumn(ddRow, "TELNO_2",         telno2   );	// 휴대폰번호
			this.ds_delbr_detail.setColumn(ddRow, "BANK_CODE",       bankCode );	// 은행코드
			this.ds_delbr_detail.setColumn(ddRow, "BANK_NM",         bankNm   );	// 은행명
			this.ds_delbr_detail.setColumn(ddRow, "DPSTR_NM",        dpstrNm  );	// 예금주
			this.ds_delbr_detail.setColumn(ddRow, "ACNUTNO",         acnutno  );	// 계좌번호
		}
	}
}



/***********************************************************************
* Transaction 영역 끝
************************************************************************/



/**********************************************************************
* non-Transaction 관련 컴포넌트 이벤트 처리 함수
***********************************************************************
*
* 1. Dataset 관련 이벤트 처리
* 2. Button 관련 이벤트 처리
* 3. Dataset 관련 이벤트 처리
* 4. Grid 관련 이벤트 처리
* 5. 첨부파일 관련 이벤트 처리
*
***********************************************************************/



/**********************************************************************
* 공통함수 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: fn_insert
 * 설명 		: 신규 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function()
{
	if(Ex.util.isUpdated(this.ds_delbr_detail)) {
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
	}
	
	var manageYm = this.ds_cond.getColumn(0, "MANAGE_YM");
	var incomeSe = this.ds_hrm031.getColumn(0, "CODE");
	var empno    = this.gfn_getEmpNo();
	var empnm    = this.gfn_getUserName();
	var deptCode = this.gfn_getDeptId();
	var deptNm   = this.gfn_getDeptName();
	
	this.ds_delbr.set_enableevent(false);
	var nRow = this.ds_delbr.addRow();
	this.ds_delbr.setColumn(nRow, "MANAGE_YM"     , manageYm);
	this.ds_delbr.setColumn(nRow, "INCOME_SE"     , incomeSe);
	this.ds_delbr.setColumn(nRow, "MNGR_DEPT_CODE", deptCode);
	this.ds_delbr.setColumn(nRow, "MNGR_DEPT_NM"  , deptNm);
	this.ds_delbr.setColumn(nRow, "MNGR_EMPNO"    , empno);
	this.ds_delbr.setColumn(nRow, "MNGR_EMPNM"    , "[" + deptNm + "]" + empnm);
	
 	this.ds_delbr_detail.set_enableevent(false);
 	this.ds_delbr_detail.clearData();
 	this.ds_delbr_detail.set_enableevent(true);
	
	this.ds_delbr.set_enableevent(true);
}


/*
 * 함수명  	: fn_delete
 * 설명 		: 삭제 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete = function()
{
	if(!this.gfn_message("confirm.삭제여부")) {
		return false;	// 아니오
	}
	
	this.ds_delbr_detail.set_enableevent(false);
 	this.ds_delbr_detail.clearData();
 	this.ds_delbr_detail.set_enableevent(true);
	
	var grpRow = this.ds_delbr.rowposition;
	this.ds_delbr.deleteRow(grpRow)
}


/*
 * 함수명  	: fn_ca1ncel
 * 설명 		: 취소 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_cancel();
 */
this.fn_cancel = function()
{
	if(Ex.util.isUpdated(this.ds_delbr) || Ex.util.isUpdated(this.ds_delbr_detail)) {
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
		
		this.ds_delbr_detail.reset();
		this.ds_delbr.reset();
		
		this.ds_delbr_detail.applyChange();
		this.ds_delbr.applyChange();
	}
}


/**********************************************************************
* Button 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: btn_add_onclick
 * 설명 		: '행추가' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_add_onclick(obj,e);
 */
this.btn_add_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var dbRow     = this.ds_delbr.rowposition;
	var manageYm  = this.ds_delbr.getColumn(dbRow, "MANAGE_YM");
	var manageSeq = this.ds_delbr.getColumn(dbRow, "MANAGE_SEQ");
	
	if(dbRow < 0) {
		this.gfn_message("info.처리불가", "원천세-일용직 전표생성 내용이 존재하지 않습니다.");
		return false;
	}
	
	if(this.ds_delbr.getRowType(dbRow) == Dataset.ROWTYPE_INSERT) {
		this.gfn_message("info.처리불가", "원천세-일용직 전표생성 내용을 저장 후 다시 시도해 주십시오.");
		return false;
	}
	
	var nRow = this.ds_delbr_detail.addRow();
	this.ds_delbr_detail.setColumn(nRow, "MANAGE_YM",  manageYm );
	this.ds_delbr_detail.setColumn(nRow, "MANAGE_SEQ", manageSeq);
	this.ds_delbr_detail.setColumn(nRow, "ADIT_PYMNTAMT", 0);
	
}


/*
 * 함수명  	: btn_delete_onclick
 * 설명 		: '행삭제' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_delete_onclick(obj,e);
 */
this.btn_delete_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var ddRow = this.ds_delbr_detail.rowposition;
	if(ddRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
		return false;
	}
	this.ds_delbr_detail.deleteRow(ddRow);
}


/*
 * 함수명  	: btn_cancel_onclick
 * 설명 		: '행취소' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_cancel_onclick(obj,e);
 */
this.btn_cancel_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(Ex.util.isUpdated(this.ds_delbr_detail)) {
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
		
		this.ds_delbr_detail.reset();
		this.ds_delbr_detail.applyChange();
	}
}



/**********************************************************************
* Dataset 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: ds_delbr_canrowposchange
 * 설명 		: Dataset 행 변경 전 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_delbr_canrowposchange(obj,e);
 */
this.ds_delbr_canrowposchange = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	// 변경여부 체크
	if(Ex.util.isUpdated(this.ds_delbr_detail)) {
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
	}
}


/*
 * 함수명  	: ds_delbr_onrowposchanged
 * 설명 		: Dataset 행 변경 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_delbr_onrowposchanged(obj,e);
 */
this.ds_delbr_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.div_guidance.sta_guidance3.set_visible(true);
	if(e.newrow > -1) {		
		// 그리드 포맷 변환
		var incomeSe = obj.getColumn(e.newrow, "INCOME_SE");
		if(incomeSe == "01" || incomeSe == "04") {						// 일용직(01 : 일용소득, 04 : 근로소득)
			this.grd_delbrDetail.setFormat("DELBR");
		} else if(incomeSe == "02") {				// 기타소득
			this.grd_delbrDetail.setFormat("ETC_INCOME");
		} else if(incomeSe == "03") {				// 사업소득
			this.grd_delbrDetail.setFormat("BSNS_INCOME");
			this.div_guidance.sta_guidance3.set_visible(false);
		}
		
		// 버튼 기능 사용여부
		var decsnAt = obj.getColumn(e.newrow, "DECSN_AT");
		if(decsnAt == '1') {
			// 상세내역 버튼
			this.btn_add.set_enable(false);
			this.btn_delete.set_enable(false);
			this.btn_cancel.set_enable(false);
			
			// 첨부파일 버튼
			this.btn_delFiles.set_enable(false);
			this.btn_uploadFiles.set_enable(false);
			
			// 지출결의 버튼
			this.btn_expDsnView.set_enable(true);
			this.btn_expDsnRegist.set_enable(false);
		} else {
			// 상세내역 버튼
			this.btn_add.set_enable(true);
			this.btn_delete.set_enable(true);
			this.btn_cancel.set_enable(true);
			
			// 첨부파일 버튼
			this.btn_delFiles.set_enable(true);
			this.btn_uploadFiles.set_enable(true);
			
			// 지출결의 버튼
			this.btn_expDsnView.set_enable(false);
			this.btn_expDsnRegist.set_enable(true);
		}
		
		this.fn_search_dtl();
	} else {
		// 지출결의 버튼
		this.btn_expDsnView.set_enable(false);
		this.btn_expDsnRegist.set_enable(false);
	}
}



/*
 * 함수명  	: ds_delbr_detail_oncolumnchanged
 * 설명 		: Dataset 데이터 변경 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_delbr_detail_oncolumnchanged(obj,e);
 */
this.ds_delbr_detail_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	var isSkip = true;
	switch(e.columnid) {
		case "INCOME_SE":
		case "WORK_BGNDE":
		case "WORK_ENDDE":
		case "WORK_DAYCNT":
		case "WORK_UNTPC":
		case "ADIT_PYMNTAMT":
		case "WORK_TIME":
		case "PYMNT_TOT_AMOUNT":
		case "NEET_EXPENS_RATE":
		case "INSRNC_APPLC_AT":
			isSkip = false;
			break;
	}
	
	if(isSkip) {
		return true;
	}
	
	var dRow         = this.ds_delbr.rowposition;
	var incomeSe     = this.ds_delbr.getColumn(dRow, "INCOME_SE");	// 소득구분
	
	var workBgnDe    = obj.getColumn(e.row, "WORK_BGNDE");			// 근무시작일
	var workEndDe    = obj.getColumn(e.row, "WORK_ENDDE");			// 근무종료일
	
	var workDaycnt   = obj.getColumn(e.row, "WORK_DAYCNT");			// 근무일수
	var workUntpc    = obj.getColumn(e.row, "WORK_UNTPC");			// 근무단가
	var aditPymntamt = obj.getColumn(e.row, "ADIT_PYMNTAMT");		// 추가지급액
	var workTime     = obj.getColumn(e.row, "WORK_TIME") ? nexacro.toNumber(obj.getColumn(e.row, "WORK_TIME")) : 0;			// 근무시간
	
	var incmtaxTaxrt          = 0;			// 소득세세율
	
	var pymntTotAmount        = 0;			// 지급총액
	var incomeAmount          = 0;			// 소득금액
	var cmpnyBndEmplyminsrnc  = 0;			// 회사부담고용보험
	var indvdlBndEmplyminsrnc = 0;			// 개인부담고용보험
	var neetExpensRate        = 0;			// 필요경비율
	var neetExpensAmount      = 0;			// 필요경비금액
	
	var incmtaxAmount         = 0;			// 소득세
	var ihntsAmount           = 0;			// 주민세
	var whtaxAmount           = 0;			// 원천세
	var iaciAmount            = 0;			// 산재보험금액
	
	var realPymntAmount       = 0;			// 실지급금액
	
	var insrncApplcAt         = '0';		// 보험적용여부
	
	
	// 소득구분에 따른 소득세 세율 설정
	switch(incomeSe) {
		case "01": case "04":
			incmtaxTaxrt = 6;
			break;
		case "02":
			incmtaxTaxrt = 20;
			break;
		case "03":
			incmtaxTaxrt = 3;
			break;
	}
	
	/* 01 : 일용소득, 04 : 근로소득 */
	if(incomeSe == '01' || incomeSe == '04') {
		// 지급총액 = (근무일 * 단가) + 추가지급액
		pymntTotAmount = (workTime * workUntpc) + aditPymntamt;
		
		// 월 60시간 이상 시(하루 8시간 기준) 고용보험 적용
		if(workTime >= 60) {
			insrncApplcAt = '1';												// 고용보험여부
			cmpnyBndEmplyminsrnc  = Math.floor(pymntTotAmount * 1.10 / 100);	// 회사부담금 = 총지급액 * 1.1
			indvdlBndEmplyminsrnc = Math.floor(pymntTotAmount * 0.65 / 100);	// 개인부담금 = 총지급액 * 0.65
		}
		obj.set_enableevent(false);
		obj.setColumn(e.row, "INSRNC_APPLC_AT",         insrncApplcAt         );
		obj.set_enableevent(true);
		obj.setColumn(e.row, "CMPNY_BND_EMPLYMINSRNC",  cmpnyBndEmplyminsrnc  );
		obj.setColumn(e.row, "INDVDL_BND_EMPLYMINSRNC", indvdlBndEmplyminsrnc );
		
		// 소득금액 = 지급총액 - 비과세금액
		if(incomeSe == '01' && workUntpc > 100000) {
			// 일용직일경우 일단가 10만원까지는 비과세
			incomeAmount = pymntTotAmount - (workDaycnt * 100000);
		}
		
		// 근로소득의 경우, 비과세금액의 제한 없음
		if(incomeSe == '04') {
			incomeAmount = pymntTotAmount;
		}
		
		// 소득세(원단위절사) = 소득금액 * 소득세세율
		incmtaxAmount  = Math.floor(incomeAmount * incmtaxTaxrt / 100 / 10) * 10;
		incmtaxAmount -= Math.floor(incmtaxAmount * 55 / 100 / 10) * 10;	// 일용직의 경우 책정된 소득세의 55%를 추가감면
		
		// 산재보험금액 = 지급총액 * 0.685
		iaciAmount = Math.floor(pymntTotAmount * 0.685 / 100);
		
	}
	/* 02 : 기타소득, 03 : 사업소득 */
	else {
		pymntTotAmount = obj.getColumn(e.row, "PYMNT_TOT_AMOUNT");	// 지급총액
		neetExpensRate = obj.getColumn(e.row, "NEET_EXPENS_RATE");	// 필요경비율
		
		// 필요경비금액 = 지급총액 * 필요경비율 / 100
		neetExpensAmount = Math.floor(pymntTotAmount * neetExpensRate / 100);
		
		// 여부에 따른 고용보험 적용
		insrncApplcAt = obj.getColumn(e.row, "INSRNC_APPLC_AT");
		if(insrncApplcAt == '1') {
			cmpnyBndEmplyminsrnc  = Math.floor(pymntTotAmount * 1.10 / 100);	// 회사부담금 = 총지급액 * 1.1
			indvdlBndEmplyminsrnc = Math.floor(pymntTotAmount * 0.65 / 100);	// 개인부담금 = 총지급액 * 0.65
		}
		obj.setColumn(e.row, "CMPNY_BND_EMPLYMINSRNC",  cmpnyBndEmplyminsrnc  );
		obj.setColumn(e.row, "INDVDL_BND_EMPLYMINSRNC", indvdlBndEmplyminsrnc );
		
		// 소득금액 = 지급총액 - 필요경비금액
		incomeAmount = pymntTotAmount - neetExpensAmount;
		
		if(incomeSe == '02') {
			// 소득세(원단위절사) = 소득금액 * 소득세세율
			incmtaxAmount = Math.floor(incomeAmount * incmtaxTaxrt / 100 / 10)  * 10;
		}
		else if(incomeSe == '03') {
			// 소득세(원단위절사) = 지급총금액 * 소득세세율
			incmtaxAmount = Math.floor(pymntTotAmount * incmtaxTaxrt / 100 / 10)  * 10;
		}
	}
	
	// 주민세(원단위절사) = 소득세액의 10%
	ihntsAmount = Math.floor(incmtaxAmount / 10 / 10) * 10;
	
	// 원천세 = 소득세 + 주민세
	whtaxAmount = incmtaxAmount + ihntsAmount;
	
	// 실지급금액 = 지급총액 - 원천세 - 개인부담보험료(일용직일경우만 계산)
	realPymntAmount = pymntTotAmount - whtaxAmount - indvdlBndEmplyminsrnc;
	
	
	obj.setColumn(e.row, "INCMTAX_TAXRT",      incmtaxTaxrt);		// 소득세세율
	obj.setColumn(e.row, "PYMNT_TOT_AMOUNT",   pymntTotAmount);		// 지급총액
	obj.setColumn(e.row, "IACI_AMOUNT",        iaciAmount);			// 산재보험금액
	obj.setColumn(e.row, "NEET_EXPENS_AMOUNT", neetExpensAmount);	// 필요경비금액
	obj.setColumn(e.row, "INCOME_AMOUNT",      incomeAmount);		// 소득금액
	obj.setColumn(e.row, "INCMTAX_AMOUNT",     incmtaxAmount);		// 소득세
	obj.setColumn(e.row, "IHNTS_AMOUNT",       ihntsAmount);		// 주민세
	obj.setColumn(e.row, "WHTAX_AMOUNT",       whtaxAmount);		// 원천세
	obj.setColumn(e.row, "REAL_PYMNT_AMOUNT",  realPymntAmount);	// 실지급금액
}



/**********************************************************************
* Grid 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: grd_delbr_onexpandup
 * 설명 		: Grid expand 이미지 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.grd_delbr_onexpandup(obj,e);
 */
this.grd_delbr_onexpandup = function(obj:Grid, e:nexacro.GridMouseEventInfo)
{
	if(e.col == 5) {
		var parm = {
			 arg_0      : this
		};
		this.gfn_popup("empPop", 400, 400, "사원 선택", parm, "com::empno_P01.xfdl", "fn_popupCallBack", true);
	}
}


/*
 * 함수명  	: grd_delbrDetail_onexpandup
 * 설명 		: Grid expand 이미지 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.grd_delbrDetail_onexpandup(obj,e);
 */
this.grd_delbrDetail_onexpandup = function(obj:Grid, e:nexacro.GridMouseEventInfo)
{
	if(e.col == 1) {
		var nRow = this.ds_delbr.rowposition;
		var incomeSe = this.ds_delbr.getColumn(nRow, "INCOME_SE");
		
		if(incomeSe == "01" || incomeSe == "04") {
			var parm = {
				 arg_0      : this
			};
			this.gfn_popup("HRM110101_P01", 400, 400, "", parm, "mis_hrm::HRM110101_P01.xfdl", "fn_popupCallBack", true);
		}
		else {
			var parm = {
				 arg_0      : this
			};
			this.gfn_popup("CTR010101_P02", 800, 530, "", parm, "mis_ctr::CTR010101_P02.xfdl", "fn_popupCallBack", true);
		}
	}
}



/*
 * 함수명  	: ds_delbr_detail_onrowposchanged
 * 설명 		: 상세내역 행 변경시 이벤트 처리
 * params  		: none
 * return Type 	: none
 * 사용법		: this.ds_delbr_detail_onrowposchanged(obj, e)
 */
this.ds_delbr_detail_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.ds_fileList.clearData();
	
	if(e.newrow > -1) {
		this.ds_condFile.clearData();
		var nRow = this.ds_condFile.addRow();
		var fileSn  = obj.getColumn(e.newrow, "FILE_SN");
		this.ds_condFile.setColumn(nRow, "FILE_SN", fileSn );
		
		this.fn_transaction("selectFileList");
	}
}



/***********************************************************************
 * 첨부파일버튼 관련 이벤트 처리
 ***********************************************************************/

/*
 * 함수명  	: btn_delFiles_onclick
 * 설명 		: '선택삭제' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_delFiles_onclick(obj,e);
 */
this.btn_delFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var findRow = this.ds_fileList.findRow("CHK", "1");
	
	if(findRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
			return;
	}
	
	if(!this.gfn_message("confirm.선택파일.삭제여부", "들")){
		return false;
	}
	
	for(var fRow = this.ds_fileList.getRowCount()-1; fRow >= 0; fRow--) {
		var chkVal = this.ds_fileList.getColumn(fRow, "CHK");
		if(chkVal == '1') {
			this.ds_fileList.deleteRow(fRow);
		}
	}
	
	var strSvcId   	 = "deleteFile";
	var sController  = "hsco/cmm/file/deleteFile.do";
	var sInDatasets  = "input1=ds_fileList:U";
	var sOutDatasets = "ds_fileList=output1";
	
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}



/*
 * 함수명  	: btn_uploadFiles_onclick
 * 설명 		: '파일업로드' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_uploadFiles_onclick(obj,e);
 */
this.btn_uploadFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{	
	var nRow     = this.ds_delbr_detail.rowposition;	
	var nRowType = this.ds_delbr_detail.getRowType(nRow);
	
	if(nRow < 0){
		this.gfn_message("comm.항목.선택.요청","대상 정보");
		return;
	}
	
	if(nRowType == 2){
		this.gfn_message("info.진행가능","신규 정보를 저장");
		return;
	}
	
	// 첨부파일 업로드(fileSn 자동채번 / 첨부파일 Master에 ROW추가 / 파일 업로드 및 자동저장 / 테이블에 fileSn반영 / 데이터셋에 fileSn반영, 단 신규 ROW가 아닐경우 ROWTYPE은 유지)
	this.mCallback = function() {
		this.fn_autoFileSn(
			 "MIS"											// 대분류   (SYS_SE)
			,"HRM"											// 업무구분 (JOB_SE)
			, this.File_UpDownManager						// fileManager 오브젝트
			, this.ds_fileList								// fileObject
			, this.ds_delbr_detail							// fileSn을 불러오거나 반영해야 하는 컬럼
			, "TBHRM_DELBR_DETAIL"							// fileSn을 저장할 테이블
			, "FILE_SN"										// fileSn 컬럼명이 다를 경우를 대비
			, ["MANAGE_YM", "MANAGE_SEQ", "DETAIL_SEQ"]		// fileSn을 저장할 테이블의 PK (FileSn 확인 및 자동반영목적)
		);
	}
	
	this.mCallback();
}



/*
 * 함수명  	: btn_downFiles_onclick
 * 설명 		: '선택다운로드' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_downFiles_onclick(obj,e);
 */
this.btn_downFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var findRow = this.ds_fileList.findRow("CHK", "1");
	if(findRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
			return;
	}
	
	for(var fRow = 0; fRow < this.ds_fileList.getRowCount(); fRow++) {
		var fileSn    = this.ds_fileList.getColumn(fRow, "FILE_SN");
		var fileOrder = this.ds_fileList.getColumn(fRow, "FILE_ORDR");
		var fileName  = this.ds_fileList.getColumn(fRow, "ORGINL_FILE_NM");
		var chk       = this.ds_fileList.getColumn(fRow, "CHK");
		if(chk == '1') {
			this.File_UpDownManager.download(fileSn, fileOrder, fileName);
		}
	}
}


 /*
 * 함수명  	: fn_onFileSuccess
 * 설명 		: 파일 업로드 성공시 이벤트
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_onFileSuccess();
 */
this.fn_onFileSuccess = function(){
	this.gfn_message("success.처리.성공");
	
	var nRow = this.ds_delbr_detail.rowposition;
	this.ds_condFile.setColumn(0, "FILE_SN", this.ds_delbr_detail.getColumn(nRow, "FILE_SN"));
	
	this.fn_transaction("selectFileList");
}

 /*
 * 함수명  	: fn_onFileError
 * 설명 		: 파일 업로드 실패시 이벤트
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_onFileError();
 */
this.fn_onFileError = function(){
	
	//this.gfn_message("info.저장.초과", "이미지 파일만");	
}

/*
 * 함수명  	: file_upload_popup
 * 설명 		: 첨부파일 그리드 전체파일선택 ON/OFF 이벤트
 * params  		: None
 * return Type 	: None
 * 사용법		: this.file_upload_popup(obj,e);
 */
this.grd_cmmnAtchmnfl_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 0) {
		this.gfn_setGridCheckAll(obj, e);
	}
}

/*
 * 함수명  	: file_upload_popup
 * 설명 		: 첨부파일 그리드 Body의 체크 버튼이 눌러졌을 때, Head 부분의 체크 버튼을 꺼 줌.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.file_upload_popup(obj,e);
 */
this.grd_cmmnAtchmnfl_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.cell == 0) {
		obj.setCellProperty("Head", e.cell, "text", "0");
	}
}

/*
 * 함수명  	: btn_expDsnRegist_onclick
 * 설명 		: 지출결의등록
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_expDsnRegist_onclick();
 */
this.btn_expDsnRegist_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{	
	var today = this.dateUtils.today();

	if(Ex.util.isUpdated(this.ds_delbr) || Ex.util.isUpdated(this.ds_delbr_detail)) {
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
		this.ds_delbr.reset();				//DATASET ROLLBACK
		this.ds_delbr.applyChange();		//DATASET COMMIT
		this.ds_delbr_detail.reset();		//DATASET ROLLBACK
		this.ds_delbr_detail.applyChange();	//DATASET COMMIT
		
		this.gfn_message("info.처리불가", "수정된 내역을 초기화 하였습니다.\n다시 결의등록을 진행하여 주시기 바랍니다.");
		return false;
	}
	
	var currow      = this.ds_delbr.rowposition;
	var decsnYear = this.ds_delbr.getColumn(currow, "DECSN_YEAR");
	var decsnNo   = this.ds_delbr.getColumn(currow, "DECSN_NO");
	
	if(!this.comUtils.isNull(decsnNo)) {	// 결의번호 있으면 지출결의등록 불가
		this.gfn_message("info.처리불가", "이미 지출결의가 등록된 건입니다.\n다시 확인하여 주십시오.");
		return false;
	}
	
	if(currow <= -1) {
		this.gfn_message("info.처리불가", "결의내역이 등록되지 않았습니다.");
		return false;c
	}
	
	if(this.ds_delbr_detail.getRowCount() <= 0) {
		this.gfn_message("info.처리불가", "상세내역이 등록되지 않았습니다.");
		return false;
	}
		
	// 결의세부
	var nRow = -1;
	this.ds_expDsnDetail.clearData();
	for(var i = 0; i < this.ds_delbr_detail.getRowCount(); i++) {	
		nRow = this.ds_expDsnDetail.addRow();
		this.ds_expDsnDetail.setColumn(nRow, "DECSN_AMOUNT"      , this.ds_delbr_detail.getColumn(i, "REAL_PYMNT_AMOUNT"));	// 결의금액
		this.ds_expDsnDetail.setColumn(nRow, "TAXXPT_AMOUNT"     , "0");													// 면세금액
		this.ds_expDsnDetail.setColumn(nRow, "VAT_AT"            , "0");													// 부가세여부
		this.ds_expDsnDetail.setColumn(nRow, "VAT_DECSN_AMOUNT"  , "0");													// 부가세결의금액
		this.ds_expDsnDetail.setColumn(nRow, "SUPLY_AMOUNT"      , this.ds_delbr_detail.getColumn(i, "REAL_PYMNT_AMOUNT"));	// 공급가액
		this.ds_expDsnDetail.setColumn(nRow, "VAT"        		 , "0");													// 부가세금액
		this.ds_expDsnDetail.setColumn(nRow, "RCPT_DE"           , today);													// 영수일자
		this.ds_expDsnDetail.setColumn(nRow, "BCNC_CODE"         , this.ds_delbr_detail.getColumn(i, "DYLRR_NO"));			// 거래처코드
		this.ds_expDsnDetail.setColumn(nRow, "BCNC_NM"           , this.ds_delbr_detail.getColumn(i, "BCNC_NM"));			// 거래처명
		this.ds_expDsnDetail.setColumn(nRow, "NM"                , this.ds_delbr_detail.getColumn(i, "LABRR_NM"));			// 대표자명
		this.ds_expDsnDetail.setColumn(nRow, "FNNC_INSTT_CODE"   , this.ds_delbr_detail.getColumn(i, "BANK_CODE"));			// 지급은행
		this.ds_expDsnDetail.setColumn(nRow, "RCPT_MAN"          , this.ds_delbr_detail.getColumn(i, "DPSTR_NM"));			// 영수자 <- 예금주명
		this.ds_expDsnDetail.setColumn(nRow, "ACNUTNO"           , this.ds_delbr_detail.getColumn(i, "ACNUTNO"));			// 계좌번호
		this.ds_expDsnDetail.setColumn(nRow, "ADRES"             , this.ds_delbr_detail.getColumn(i, "ADRES_2"));			// 주소
	}
	
	// 수입지출외현금
	var amt1 	= this.ds_delbr_detail.getSum("INCMTAX_AMOUNT");			// 소득세
	var amt2 	= this.ds_delbr_detail.getSum("IHNTS_AMOUNT");				// 주민세
	var amt3 	= this.ds_delbr_detail.getSum("IACI_AMOUNT");				// 산재보험
	//var amt4 	= this.ds_delbr_detail.getSum("CMPNY_BND_EMPLYMINSRNC");	// 고용보험(회사)
	var amt5 	= this.ds_delbr_detail.getSum("INDVDL_BND_EMPLYMINSRNC");	// 고용보험(개인)
	var totamt 	= amt1 + amt2 + amt3 + amt5;
	
	if(totamt > 0) {
		nRow = this.ds_expDsnDetail.addRow();
		this.ds_expDsnDetail.setColumn(nRow, "DECSN_AMOUNT"      , totamt);	// 결의금액
		this.ds_expDsnDetail.setColumn(nRow, "TAXXPT_AMOUNT"     , "0");													// 면세금액
		this.ds_expDsnDetail.setColumn(nRow, "VAT_AT"            , "0");													// 부가세여부
		this.ds_expDsnDetail.setColumn(nRow, "VAT_DECSN_AMOUNT"  , "0");													// 부가세결의금액
		this.ds_expDsnDetail.setColumn(nRow, "SUPLY_AMOUNT"      , totamt);	// 공급가액
		this.ds_expDsnDetail.setColumn(nRow, "VAT"        		 , "0");													// 부가세금액
		this.ds_expDsnDetail.setColumn(nRow, "RCPT_DE"           , today);													// 영수일자
		this.ds_expDsnDetail.setColumn(nRow, "BCNC_CODE"         , "008926");					// 거래처코드
		this.ds_expDsnDetail.setColumn(nRow, "BCNC_NM"           , "수입지출외현금");			// 거래처명
		this.ds_expDsnDetail.setColumn(nRow, "NM"                , "수입지출외현금");			// 대표자명
		this.ds_expDsnDetail.setColumn(nRow, "RCPT_MAN"          , "화성도시공사");			// 영수자 <- 예금주명
		this.ds_expDsnDetail.setColumn(nRow, "FNNC_INSTT_CODE"   , "011");						// 지급은행 (농협)
		this.ds_expDsnDetail.setColumn(nRow, "ACNUTNO"   		 , "3010166956501");			// 계좌번호 (4대보험 및 원천세 예수금)
		
	}
	
	// 결의마스터 셋팅
	this.ds_expDsnMastr.clearData();
	this.ds_expDsnMastr.addRow();
	this.ds_expDsnMastr.setColumn(0, "DECSN_YEAR"             , today.substring(0,4));		// 회계년월
	this.ds_expDsnMastr.setColumn(0, "ANACT_KND"              , "03");						// 결의서구분
	this.ds_expDsnMastr.setColumn(0, "DEPT_CODE"              , this.gfn_getDeptId());		// 부서코드
	this.ds_expDsnMastr.setColumn(0, "DEPT_NM"			      , this.gfn_getDeptName());	// 부서명
	this.ds_expDsnMastr.setColumn(0, "ITNC_DE"                , today);						// 발의일자
	this.ds_expDsnMastr.setColumn(0, "DET_DCSN_DE"            , today);						// 채무확정일자
	this.ds_expDsnMastr.setColumn(0, "PYMNT_ITNC_DE"          , today);						// 지급발의일자
	this.ds_expDsnMastr.setColumn(0, "PRMPC_JRNLZPR_RGIST_DE" , today);						// 원장분개장등기
	this.ds_expDsnMastr.setColumn(0, "EXPNDTR_BUDGET_CNRL_DE" , today);						// 지출예산통제
	this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE", today);						// 자금지출부등기
	this.ds_expDsnMastr.setColumn(0, "SUMRY"				  , this.ds_delbr.getColumn(currow, "PYMNT_SJ"));	// 적요
	this.ds_expDsnMastr.setColumn(0, "DECSN_AMOUNT"           , this.ds_expDsnDetail.getSum("DECSN_AMOUNT"));	// 총금액 -> 결의금액
	
	// 결의마스터상세
	this.ds_expDsnMtrDet.clearData();
	this.ds_expDsnMtrDet.addRow();
	this.ds_expDsnMtrDet.setColumn(0, "TAXXPT_AMOUNT"	, "0");		// 면세금액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_DECSN_AMOUNT", "0");	// 부가세결의금액
	this.ds_expDsnMtrDet.setColumn(0, "SUPLY_AMOUNT"	, this.ds_expDsnDetail.getSum("SUPLY_AMOUNT"));	// 공급가액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_AMOUNT"		, this.ds_expDsnDetail.getSum("VAT"));	// 부가세금액

	this.ds_decsnNo.clearData();
	this.ds_decsnNo.addRow();
	this.ds_decsnNo.setColumn(0, "MANAGE_YM", this.ds_delbr.getColumn(currow, "MANAGE_YM"));
	this.ds_decsnNo.setColumn(0, "MANAGE_SEQ", this.ds_delbr.getColumn(currow, "MANAGE_SEQ"));
	
	var args = {
		  arg_0				: this
		, trgFormId			: "HRM110102"						// 팝업을 호출하는 화면의 ID
		, trgFormId2		: "MIS"								// 삭제방지코드
		, anactKnd			: "03"								// 지출결의서
		, dsExpDsnMastr		: this.ds_expDsnMastr.saveXML()		// 결의마스터(Dataset)
		, dsExpDsnMtrDet	: this.ds_expDsnMtrDet.saveXML()	// 결의마스터상세(Dataset)
 		, dsExpDsnDetail	: this.ds_expDsnDetail.saveXML()	// 결의세부(Dataset)
 		, dsDecsnNo			: this.ds_decsnNo.saveXML()			// 키값정보(Dataset)
    };
	
	this.gfn_popup("expDsnPopup", 903, 842, "지출결의서", args, "mis_acc::ACC020203_P01.xfdl", "fn_popupCallBack",true);
}

/*
 * 함수명  	: btn_expDsnView_onclick
 * 설명 		: 지출결의등록
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_expDsnView_onclick(obj, e);
 */
this.btn_expDsnView_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var args = {
		  arg_0				: this
		, trgFormId			: "HRM110102"						// 팝업을 호출하는 화면의 ID
		, trgFormId2		: "MIS"								// 삭제방지코드
		, anactKnd			: "03"								// 지출결의서
		, decsnYear			: this.ds_delbr.getColumn(this.ds_delbr.rowposition, "DECSN_YEAR")
		, decsnNo			: this.ds_delbr.getColumn(this.ds_delbr.rowposition, "DECSN_NO")
    };
	
	this.gfn_popup("expDsnPopup", 903, 842, "지출결의서", args, "mis_acc::ACC020203_P01.xfdl", "fn_popupCallBack",true);
}
]]></Script>
  </Form>
</FDL>
