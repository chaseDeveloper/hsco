<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="HRM060106" classname="HRM060106" left="0" top="0" width="1059" height="735" titletext="근무성적평정현황" onload="HRM060106_onload">
    <Layouts>
      <Layout>
        <Static id="Static08" taborder="2" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static07" taborder="3" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" onclick="Static07_onclick" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Div id="div_search" taborder="5" left="0" top="0" right="28" height="33" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="sta_STDR_DE" taborder="31" text="평정년도" wordwrap="char" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Static id="Static04" taborder="38" text="15" visible="false" left="0" top="5" bottom="5" width="15" style="background:#00ffff66;"/>
              <Static id="sta_STDR_DE00" taborder="40" text="반기구분" wordwrap="char" cssclass="sta_WFSA_Label" left="180" top="5" width="64" height="21"/>
              <Static id="Static00" taborder="42" text="15" visible="false" left="165" top="5" bottom="5" width="15" style="background:#00ffff66;"/>
              <Combo id="cmb_HT_SE" taborder="1" left="244" top="5" width="86" height="21" innerdataset="@ds_hrm049" codecolumn="CODE" datacolumn="CODE_NM"/>
              <Spin id="spn_EVL_YEAR" taborder="0" value="0" left="79" top="5" width="86" height="21" max="9999" min="1001"/>
              <Static id="sta_jssfcSe" taborder="48" text="직종" cssclass="sta_WFSA_Label" left="345" top="5" width="38" height="21"/>
              <Combo id="cmb_jssfcSe" taborder="49" innerdataset="ds_hrm001" codecolumn="CODE" datacolumn="CODE_NM" left="383" top="5" width="100" height="21" displaynulltext="전체"/>
              <Static id="Static02" taborder="50" text="15" visible="false" left="483" top="0" width="15" height="33" style="background:#00ffff66;"/>
              <Static id="sta_clsfSe" taborder="51" text="직급" cssclass="sta_WFSA_Label" left="498" top="5" width="38" height="21"/>
              <Combo id="cmb_clsfSe" taborder="52" innerdataset="ds_hrm002" codecolumn="CODE" datacolumn="CODE_NM" left="536" top="5" width="80" height="21" displaynulltext="전체"/>
              <Static id="Static03" taborder="53" text="15" visible="false" left="616" top="0" width="15" height="33" style="background:#00ffff66;"/>
              <Static id="Static06" taborder="54" text="15" visible="false" left="330" top="0" width="15" height="33" style="background:#00ffff66;"/>
              <Static id="sta_stdrYear00" taborder="55" text="피평가자" cssclass="sta_WFSA_Label" left="631" top="5" width="68" height="21"/>
              <Edit id="edt_pzdcrNm00" taborder="56" oneditclick="div_work_tab_dtls_tpg_dscplDemand_div_work01_edt_dmrtr01_oneditclick" left="699" top="5" width="83" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static36" taborder="10" text="10" visible="false" left="0" top="33" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title01" taborder="11" text="피평가자(평정 확인)" cssclass="sta_WF_Title02" left="0" top="43" width="224" height="19" style="align:left middle;"/>
        <Static id="Static51" taborder="12" text="5" visible="false" left="0" top="62" width="1031" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Grid id="grd_work_evl_trgter" taborder="13" binddataset="ds_work_evl_trgter" autoenter="select" useinputpanel="false" cellsizingtype="col" left="0" top="67" right="28" bottom="167" onheadclick="grd_work_evl_trgter_onheadclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="80"/>
                <Column size="83"/>
                <Column size="90"/>
                <Column size="90"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="70"/>
                <Column size="69"/>
                <Column size="80"/>
                <Column size="90"/>
                <Column size="120"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="60"/>
                <Column size="60"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="평정단계"/>
                <Cell col="1" text="대상구분"/>
                <Cell col="2" text="직종"/>
                <Cell col="3" text="직급"/>
                <Cell col="4" text="인원분포"/>
                <Cell col="5" text="직위"/>
                <Cell col="6" text="직렬"/>
                <Cell col="7" text="사원번호"/>
                <Cell col="8" text="사원명"/>
                <Cell col="9" text="현직급임용일"/>
                <Cell col="10" text="소속부서"/>
                <Cell col="11" text="점수(1차)"/>
                <Cell col="12" text="점수(2차)"/>
                <Cell col="13" text="점수(확인)"/>
                <Cell col="14" text="평정점수"/>
                <Cell col="15" text="직무수행"/>
                <Cell col="16" text="추가점수"/>
                <Cell col="17" text="총점수"/>
                <Cell col="18" text="등수"/>
                <Cell col="19" text="등급"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" style="selectbackground: ;" text="bind:EVL_STEP_SE" suppressalign="middle" combodataset="ds_hrm095" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="1" style="selectbackground: ;" text="bind:CLSF_TY" suppressalign="middle"/>
                <Cell col="2" style="selectbackground: ;" text="bind:JSSFC_NM" suppressalign="middle"/>
                <Cell col="3" style="selectbackground: ;" text="bind:CLSF_NM" suppressalign="middle"/>
                <Cell col="4" style="selectbackground: ;" text="bind:CLSF_CNT" suppressalign="middle"/>
                <Cell col="5" style="selectbackground: ;" text="bind:OFCPS_NM"/>
                <Cell col="6" style="selectbackground: ;" text="bind:JBLN_NM"/>
                <Cell col="7" style="selectbackground: ;" text="bind:EMPNO"/>
                <Cell col="8" style="selectbackground: ;" text="bind:EMPNM"/>
                <Cell col="9" displaytype="date" text="bind:CLSF_GNFD_DE" calendardisplaynulltype="none"/>
                <Cell col="10" style="align: ;" text="bind:DEPT_NM"/>
                <Cell col="11" style="align:right middle;padding:0 10 0 0;" text="bind:EVL_1_SCORE"/>
                <Cell col="12" style="align:right middle;padding:0 10 0 0;" text="bind:EVL_2_SCORE"/>
                <Cell col="13" style="align:right middle;padding:0 10 0 0;" text="bind:EVL_3_SCORE"/>
                <Cell col="14" style="align:right middle;padding:0 10 0 0;" text="bind:EVL_SCORE"/>
                <Cell col="15" style="align:right middle;padding:0 10 0 0;" text="bind:TOT_DMRTR"/>
                <Cell col="16" displaytype="number" edittype="masknumber" style="align:right middle;padding: ;" text="bind:ADIT_SCORE" mask="##0.##" editdisplay="display" editlimitbymask="both"/>
                <Cell col="17" style="align:right middle;padding:0 10 0 0;" text="bind:TOT_EVL_SCORE"/>
                <Cell col="18" style="padding: ;" text="bind:SCORE_RNK"/>
                <Cell col="19" style="padding: ;" text="bind:GRAD_NM"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_acmsltPd_b04" taborder="31" cssclass="sta_WF_Labelbg" left="99" width="486" height="27" bottom="81"/>
        <Static id="Static00" taborder="32" text="5" visible="false" top="601" right="469" width="5" height="135" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static04" taborder="33" text="10" visible="false" left="0" top="567" right="28" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_jobPrtnAcmslt00" taborder="34" text="직무수행능력에 관한 사항" cssclass="sta_WF_Title02" left="0" width="205" height="19" bottom="139"/>
        <Static id="Static05" taborder="35" text="5" visible="false" left="0" top="596" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_acmsltPd_b01" taborder="36" cssclass="sta_WF_Labelbg" left="99" width="486" height="27" bottom="107"/>
        <Static id="sta_empnm_b00" taborder="37" cssclass="sta_WF_Labelbg" left="99" width="486" height="27" bottom="55"/>
        <Static id="sta_brthday01" taborder="38" text="외국어능력" cssclass="sta_WF_Label" left="0" width="187" height="27" bottom="55"/>
        <Static id="sta_clsfGnfdDe_b00" taborder="39" cssclass="sta_WF_Labelbg" left="185" width="400" height="56" bottom="0"/>
        <Static id="sta_clsfGnfdDe00" taborder="40" text="기타" cssclass="sta_WF_Label" left="0" width="186" height="56" bottom="0"/>
        <TextArea id="TextArea01" taborder="41" wordwrap="char" lengthunit="ascii" maxlength="1000" left="189" width="393" height="50" bottom="3"/>
        <Combo id="Combo01" taborder="42" innerdataset="ds_hrm053" codecolumn="CODE" datacolumn="CODE_NM" left="189" width="190" height="21" bottom="110"/>
        <Combo id="Combo02" taborder="43" innerdataset="ds_hrm054" codecolumn="CODE" datacolumn="CODE_NM" left="189" width="190" height="21" bottom="58"/>
        <Edit id="Edit34" taborder="44" inputtype="dot,digit" maxlength="3" left="381" width="57" height="21" bottom="58"/>
        <Static id="Static06" taborder="45" text="점" left="440" width="21" height="21" bottom="58"/>
        <Static id="sta_acmsltPd00" taborder="46" text="직무관련 전문자격증" cssclass="sta_WF_Label" left="0" width="187" height="27" bottom="107"/>
        <Static id="sta_empnm00" taborder="47" text="PC활용 및 정보화능력" cssclass="sta_WF_Label" left="0" width="187" height="27" bottom="81"/>
        <Edit id="edt_pc" taborder="48" lengthunit="ascii" maxlength="500" left="189" width="392" height="21" bottom="84"/>
        <Grid id="grd_cmmnAtchmnfl" taborder="49" binddataset="ds_fileList" autoenter="select" useinputpanel="false" cellsizingtype="col" oncellclick="grd_cmmnAtchmnfl_oncellclick" onheadclick="grd_cmmnAtchmnfl_onheadclick" left="590" right="28" height="134" bottom="0">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="30"/>
                <Column size="40"/>
                <Column size="60"/>
                <Column size="300"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="40"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="checkbox" edittype="checkbox"/>
                <Cell col="1" text="순번"/>
                <Cell col="2" text="파일형식"/>
                <Cell col="3" celltype="head" text="파일명"/>
                <Cell col="4" text="확장자"/>
                <Cell col="5" text="사이즈"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                <Cell col="1" displaytype="normal" text="bind:SN"/>
                <Cell col="2" displaytype="image" text="bind:FILE_IMAGE" autosizerow="limitmin" autosizecol="limitmin"/>
                <Cell col="3" displaytype="normal" style="align:left middle;" text="bind:ORGINL_FILE_NM"/>
                <Cell col="4" text="bind:FILE_EXTSN"/>
                <Cell col="5" text="bind:FILE_MG"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_jobPrtnAcmslt02" taborder="50" text="첨부파일" cssclass="sta_WF_Title02" left="590" width="205" height="19" bottom="139"/>
        <Button id="btn_downFiles" taborder="53" text="선택다운로드" onclick="btn_downFiles_onclick" cssclass="btn_WF_Process" width="85" height="19" right="27" bottom="139"/>
        <Button id="btn_print1" taborder="54" text="일괄출력(업무추진실적)" onclick="btn_print1_onclick" top="42" right="194" width="156" height="21"/>
        <Button id="btn_print2" taborder="55" text="일괄출력(근무성적평정표)" onclick="btn_print2_onclick" top="42" right="28" width="164" height="21"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item1" compid="div_search.cmb_HT_SE" propid="value" datasetid="ds_cond" columnid="HT_SE"/>
      <BindItem id="item0" compid="div_search.spn_EVL_YEAR" propid="value" datasetid="ds_cond" columnid="EVL_YEAR"/>
      <BindItem id="item15" compid="div_search.cmb_jssfcSe" propid="value" datasetid="ds_cond" columnid="JSSFC_SE"/>
      <BindItem id="item16" compid="div_search.cmb_clsfSe" propid="value" datasetid="ds_cond" columnid="CLSF_SE"/>
      <BindItem id="item18" compid="div_search.edt_pzdcrNm00" propid="value" datasetid="ds_cond" columnid="EMPNM"/>
      <BindItem id="item25" compid="TextArea01" propid="text" datasetid="ds_workScreAcmslt" columnid=""/>
      <BindItem id="item41" compid="TextArea01" propid="value" datasetid="ds_workScreAcmslt" columnid="CRQFC_ETC"/>
      <BindItem id="item42" compid="Combo01" propid="value" datasetid="ds_workScreAcmslt" columnid="DTY_RELATE_CRQFC_SE"/>
      <BindItem id="item43" compid="Combo02" propid="value" datasetid="ds_workScreAcmslt" columnid="FGGG_TEST_SE"/>
      <BindItem id="item29" compid="Edit34" propid="text" datasetid="ds_workScreAcmslt" columnid=""/>
      <BindItem id="item44" compid="Edit34" propid="value" datasetid="ds_workScreAcmslt" columnid="FGGG_TEST_SCORE"/>
      <BindItem id="item13" compid="edt_pc" propid="value" datasetid="ds_workScreAcmslt" columnid="INFRM_ABLTY"/>
      <BindItem id="item26" compid="edt_pc" propid="text" datasetid="ds_workScreAcmslt" columnid=""/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond" oncolumnchanged="ds_cond_oncolumnchanged">
        <ColumnInfo>
          <Column id="EVL_YEAR" type="STRING" size="256"/>
          <Column id="HT_SE" type="STRING" size="256"/>
          <Column id="EVL_MAN_3_EMPNO" type="STRING" size="256"/>
          <Column id="EVL_MAN_3_EMPNM" type="STRING" size="256"/>
          <Column id="JSSFC_SE" type="STRING" size="256"/>
          <Column id="CLSF_SE" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="YEAR_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_work_evl_trgter" useclientlayout="false" onrowposchanged="ds_work_evl_trgter_onrowposchanged">
        <ColumnInfo>
          <Column id="EVL_YEAR" type="STRING" size="256"/>
          <Column id="HT_SE" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="CLSF_TY" type="STRING" size="256"/>
          <Column id="JSSFC_SE" type="STRING" size="256"/>
          <Column id="CLSF_SE" type="STRING" size="256"/>
          <Column id="CLSF_GNFD_DE" type="STRING" size="256"/>
          <Column id="CLSF_CNT" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="JSSFC_NM" type="STRING" size="256"/>
          <Column id="CLSF_NM" type="STRING" size="256"/>
          <Column id="OFCPS_NM" type="STRING" size="256"/>
          <Column id="JBLN_NM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="EVL_MAN_1_EMPNO" type="STRING" size="256"/>
          <Column id="EVL_MAN_2_EMPNO" type="STRING" size="256"/>
          <Column id="CNFRMR_EMPNO" type="STRING" size="256"/>
          <Column id="EVL_STEP_SE" type="STRING" size="256"/>
          <Column id="EVL_1_SCORE" type="STRING" size="256"/>
          <Column id="EVL_2_SCORE" type="STRING" size="256"/>
          <Column id="EVL_3_SCORE" type="STRING" size="256"/>
          <Column id="EVL_SCORE" type="STRING" size="256"/>
          <Column id="TOT_DMRTR" type="STRING" size="256"/>
          <Column id="ADIT_SCORE" type="STRING" size="256"/>
          <Column id="TOT_EVL_SCORE" type="STRING" size="256"/>
          <Column id="SCORE_RNK" type="STRING" size="256"/>
          <Column id="GRAD_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_work_scre_evl" useclientlayout="true" oncolumnchanged="ds_work_scre_evl_oncolumnchanged">
        <ColumnInfo>
          <Column id="EVL_YEAR" type="STRING" size="256"/>
          <Column id="HT_SE" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="EVL_SE" type="STRING" size="256"/>
          <Column id="EVL_SE_NM" type="STRING" size="256"/>
          <Column id="EVL_IEM_CODE" type="STRING" size="256"/>
          <Column id="EVL_IEM_NM" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EVL_MAN_SE" type="STRING" size="256"/>
          <Column id="EVL_MAN_EMPNO" type="STRING" size="256"/>
          <Column id="IEM_GRAD1_SCORE" type="BIGDECIMAL" size="256"/>
          <Column id="IEM_GRAD2_SCORE" type="BIGDECIMAL" size="256"/>
          <Column id="IEM_GRAD3_SCORE" type="BIGDECIMAL" size="256"/>
          <Column id="IEM_GRAD4_SCORE" type="BIGDECIMAL" size="256"/>
          <Column id="IEM_GRAD5_SCORE" type="BIGDECIMAL" size="256"/>
          <Column id="EVL_GRAD1_AT" type="BIGDECIMAL" size="256"/>
          <Column id="EVL_GRAD2_AT" type="BIGDECIMAL" size="256"/>
          <Column id="EVL_GRAD3_AT" type="BIGDECIMAL" size="256"/>
          <Column id="EVL_GRAD4_AT" type="BIGDECIMAL" size="256"/>
          <Column id="EVL_GRAD5_AT" type="BIGDECIMAL" size="256"/>
          <Column id="EVL_GRAD" type="STRING" size="256"/>
          <Column id="EVL_SCORE" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_print" useclientlayout="true">
        <ColumnInfo>
          <Column id="EVL_YEAR" type="STRING" size="256"/>
          <Column id="HT_SE" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm049" firenextcount="0" useclientlayout="true">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm095" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm001" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm002" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_workScreAcmslt" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EVL_YEAR" type="STRING" size="256"/>
          <Column id="HT_SE" type="STRING" size="256"/>
          <Column id="HT_BGNDE" type="STRING" size="256"/>
          <Column id="HT_ENDDE" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="OFCPS_SE" type="STRING" size="256"/>
          <Column id="HR_CLSF_NM" type="STRING" size="256"/>
          <Column id="BRTHDY" type="STRING" size="256"/>
          <Column id="ECNY_DE" type="STRING" size="256"/>
          <Column id="CLSF_GNFD_DE" type="STRING" size="256"/>
          <Column id="DEPT_GNFD_DE" type="STRING" size="256"/>
          <Column id="LATEN" type="STRING" size="256"/>
          <Column id="WTRMS_ABSENC" type="STRING" size="256"/>
          <Column id="WTRMS_LRLY" type="STRING" size="256"/>
          <Column id="WTRMS_GNOT" type="STRING" size="256"/>
          <Column id="TWDCVLN_UNKD" type="STRING" size="256"/>
          <Column id="WARN" type="STRING" size="256"/>
          <Column id="ADMNT_WARN" type="STRING" size="256"/>
          <Column id="ATENT" type="STRING" size="256"/>
          <Column id="OFCPS_RELIS" type="STRING" size="256"/>
          <Column id="RPRIMND" type="STRING" size="256"/>
          <Column id="SLYRD" type="STRING" size="256"/>
          <Column id="STOP_OCCP" type="STRING" size="256"/>
          <Column id="DTY_RELATE_CRQFC_SE" type="STRING" size="256"/>
          <Column id="INFRM_ABLTY" type="STRING" size="256"/>
          <Column id="FGGG_TEST_SE" type="STRING" size="256"/>
          <Column id="FGGG_TEST_SCORE" type="STRING" size="256"/>
          <Column id="CRQFC_ETC" type="STRING" size="256"/>
          <Column id="DTY_ATITD_ETC" type="STRING" size="256"/>
          <Column id="HOPE_DEPT1" type="STRING" size="256"/>
          <Column id="HOPE_DEPT1_NM" type="STRING" size="256"/>
          <Column id="HOPE_DEPT2" type="STRING" size="256"/>
          <Column id="HOPE_DEPT2_NM" type="STRING" size="256"/>
          <Column id="NOW_DEPT_MNTNC_AT" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="OFCPS_NM" type="STRING" size="256"/>
          <Column id="HR_CLSF_SE" type="STRING" size="256"/>
          <Column id="JSSFC_SE" type="STRING" size="256"/>
          <Column id="PTDSCPL" type="STRING" size="256"/>
          <Column id="GRSP" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="PROGRS" type="BIGDECIMAL" size="16"/>
          <Column id="ORGINL_FILE_NM" type="string" size="32"/>
          <Column id="FILE_EXTSN" type="string" size="32"/>
          <Column id="FILE_STRE_COURS" type="string" size="32"/>
          <Column id="FILE_ID" type="string" size="32"/>
          <Column id="SN" type="bigdecimal" size="16"/>
          <Column id="SYS_SE_CODE" type="string" size="32"/>
          <Column id="FILE_IMAGE" type="string" size="32"/>
          <Column id="FILE_TY" type="string" size="32"/>
          <Column id="JOB_SE" type="string" size="32"/>
          <Column id="DELETE_IMAGE" type="string" size="32"/>
          <Column id="STRE_FILE_NM" type="string" size="32"/>
          <Column id="FILE_MG" type="bigdecimal" size="16"/>
          <Column id="FILE_CN" type="string" size="32"/>
          <Column id="FILE_ORDR" type="bigdecimal" size="16"/>
          <Column id="TRNSMIS_FILE_SIZE" type="string" size="32"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="STTUS" type="string" size="32"/>
          <Column id="FILE_SN" type="bigdecimal" size="16"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condDtl" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EVL_YEAR" type="STRING" size="256"/>
          <Column id="HT_SE" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condFile" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="FILE_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm053" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hrm054" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * Script Include 
************************************************************************/
 
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";
include "lib::comUpDownUtils.xjs";



/***********************************************************************
 * 화면 변수 선언부
************************************************************************/
var nRowPos = 0;
this.File_UpDownManager = null;



/***********************************************************************
 * onInit / onLoad 영역
************************************************************************/
this.HRM060106_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_init_form();
	this.fn_init_dataset();
	
	// 공통코드
	/*******************************************************************************
	 * params  		: 1. param_1    : 반환받을 DATASET 명 			(예: DS_AREA_NO_CODE)
					  2. param_2	: 그룹코드						(예 : COM007)
					  3. param_3	: 사용여부		    			(예 : A(전체), Y(사용), N(사용안함))
					  4. param_4	: 콤보박스INDEX(0) 표시		(예 : A(전체), S(선택), E(공백), D(첫번째데이터부터시작) )
					  5. param_5	: 코드+코드명					(예 : G(코드명), B(코드-코드명) )
	 ******************************************************************************/
	var comboParams = [
		["ds_hrm001" , "HRM001", "Y", "A", "B"],	// 직종 구분
		["ds_hrm002"  ,"HRM002", "Y", "A", "B"],	// 직급 구분
	    ["ds_hrm049",   "HRM049", "Y", "D", "B"],	// ds_hrm049 : 반기구분
	    ["ds_hrm095",   "HRM095", "Y", "D", "B"],	// ds_hrm095 : 평정단계구분
	    ["ds_hrm053",   "HRM053", "Y", "D", "B"],	// ds_hrm053 : 직무수행능력 자격증
	    ["ds_hrm054",   "HRM054", "Y", "D", "B"]	// ds_hrm094 : 직무수행능력 외국어
	];
	var callback = function (svcId, errorCode, errorMsg) {
		this.ds_cond.clearData();
		var nRow = this.ds_cond.addRow();
		this.ds_cond.set_enableevent(false);
		this.ds_cond.setColumn(nRow, "EVL_YEAR",        this.comUtils.getClientDate("YYYY"));
		this.ds_cond.setColumn(nRow, "HT_SE",           this.comUtils.getClientDate("MM") <= '06' ? '01' : '02');
		this.ds_cond.set_enableevent(true);
		this.fn_search();
	};
	this.gfn_comboLoad (comboParams, callback);
}



/***********************************************************************
 * Form/Dataset 오브젝트 초기화
************************************************************************/

/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */ 
this.fn_init_form = function()
{
	this.gfn_initForm(this);
	this.fn_misFormInit(this);
	
	// 파일 메니저 설정
	var fileConfig = {
		useMultiUpload : true,
		onChange: this.fn_onFileSelected,	// 파일 선택 이벤트 핸들러
		onSuccess : this.fn_onFileSuccess	// 전송 성공 이벤트 핸들러
	};
	this.File_UpDownManager = new this.fileUpDownManager(this, "MIS", "HRM");
	this.File_UpDownManager.init(fileConfig);
}

/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	// 조건 Dataset 외에 초기화가 필요한 Dataset에 대한 초기화 코드를 추가
}



/**********************************************************************
* Transaction 영역 시작
***********************************************************************
*
* 1. Transaction 관련 이벤트 핸들러
* 2. call Transaction 영역
* 3. callback 영역(Transaction, Popup)
* 
***********************************************************************/



/**********************************************************************
 * Transaction 관련 이벤트 핸들러 
***********************************************************************/

/*
 * 함수명  	: fn_search
 * 설명 		: 조회 이벤트 처리         
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
	if(Ex.util.isUpdated(this.ds_work_evl_trgter)) {
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
	}
	
	this.ds_work_evl_trgter.clearData();
	this.ds_workScreAcmslt.clearData();
	this.ds_fileList.clearData();
	
	var year = this.ds_cond.getColumn(0, "EVL_YEAR");
	if(year >= 2020) {
		this.ds_cond.setColumn(0, "YEAR_SE", "02");
	} else {
		this.ds_cond.setColumn(0, "YEAR_SE", "01");
	}
	
	this.fn_transaction("selectWorkEvlTrgter");
}


/*
 * 함수명  	: fn_search_dtl
 * 설명 		: 상세조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search_dtl();
 */
this.fn_search_dtl = function()
{
	var evlYear   = this.ds_cond.getColumn(0, "EVL_YEAR");
	var htSe      = this.ds_cond.getColumn(0, "HT_SE");
	
	var etRow     = this.ds_work_evl_trgter.rowposition;
	var empno     = this.ds_work_evl_trgter.getColumn(etRow, "EMPNO");
	
	this.ds_condDtl.clearData();
	var nRow = this.ds_condDtl.addRow();
	this.ds_condDtl.setColumn(nRow, "EVL_YEAR",       evlYear);
	this.ds_condDtl.setColumn(nRow, "HT_SE",          htSe   );
	this.ds_condDtl.setColumn(nRow, "EMPNO",          empno  );
	
	this.ds_workScreAcmslt.clearData();
	this.fn_transaction("selectEvlScreEvl");
}

/*
 * 함수명  	: fn_save
 * 설명 		: 저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{
	if (!this.comUtils.isDatasetUpdated(this.ds_work_evl_trgter)) {
		this.gfn_message("comm.데이터.변경.없음");
		return false;
	}
	
	// save
	if(this.gfn_message("confirm.저장.여부"))	{
		nRowPos = this.ds_work_evl_trgter.rowposition;
		this.fn_transaction("saveEvlScreEvl");
	}
}



/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/ 

/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "selectWorkEvlTrgter":	// 평정대상자 조회
			var sController   	= "/hsco/mis/hrm/HRM060106/selectWorkEvlTrgter.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_work_evl_trgter=output1";
			break;
		case "selectEvlScreEvl":	// 직무수행능력에 관한 사항 조회
			var sController   	= "/hsco/mis/hrm/HRM060106/selectEvlScreEvl.do";
			var sInDatasets   	= "input1=ds_condDtl";
			var sOutDatasets  	= "ds_workScreAcmslt=output1";
			break;
		case "saveEvlScreEvl":		// 추가점수 저장
			var sController   	= "/hsco/mis/hrm/HRM060106/saveEvlScreEvl.do";
			var sInDatasets   	= "input1=ds_work_evl_trgter:U";
			var sOutDatasets  	= "";
			break;
		case "selectFileList":      // 첨부파일 조회
			var sController   	= "hsco/mis/hrm/HRM060106/selectFileList.do";
			var sInDatasets   	= "input1=ds_condFile";
			var sOutDatasets  	= "ds_fileList=output1";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}



/**********************************************************************
 * Transaction Callback 영역
***********************************************************************/
 
 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	if (nErrorCode != 0){
		this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	} else {
		switch (strSvcId) {
			case "selectWorkEvlTrgter":
				if(this.ds_work_evl_trgter.getRowCount() > 0 && nRowPos > -1){
					this.ds_work_evl_trgter.set_rowposition(nRowPos);
					nRowPos = -1;
				}
				break;
			case "selectEvlScreEvl":
				this.ds_condFile.clearData();
				if(this.ds_workScreAcmslt.getRowCount()>0){
					this.ds_condFile.addRow();
					this.ds_condFile.setColumn(0, "FILE_SN", this.ds_workScreAcmslt.getColumn(0, "FILE_SN"));
					this.fn_transaction("selectFileList");
				}
				break;
			case "saveEvlScreEvl":
				this.fn_search();
				break;
			case "selectFileList":      // 첨부파일 조회
				break;
		}
	}
}

/**********************************************************************
* Dataset 관련 이벤트 처리
***********************************************************************/
/*
 * 함수명  	: ds_work_evl_trgter_onrowposchanged
 * 설명 		: Dataset 행 변경 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_work_evl_trgter_onrowposchanged(obj,e);
 */
this.ds_work_evl_trgter_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(e.newrow > -1) {
		this.fn_search_dtl();
	}
}


/*
 * 함수명  	: ds_cond_oncolumnchanged
 * 설명 		: Dataset 데이터 변경 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cond_oncolumnchanged(obj,e);
 */
this.ds_cond_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	this.fn_search();
}


/**********************************************************************
* Dataset 관련 이벤트 처리
***********************************************************************/



/**********************************************************************
* 사용자정의 함수
***********************************************************************/

/*
 * 함수명  	: btn_downFiles_onclick
 * 설명 		: '선택다운로드' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_downFiles_onclick(obj,e);
 */
this.btn_downFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var findRow = this.ds_fileList.findRow("CHK", "1");
	if(findRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
		return;
	}
	
	for(var fRow = 0; fRow < this.ds_fileList.getRowCount(); fRow++) {
		var fileSn    = this.ds_fileList.getColumn(fRow, "FILE_SN");
		var fileOrder = this.ds_fileList.getColumn(fRow, "FILE_ORDR");
		var fileName  = this.ds_fileList.getColumn(fRow, "ORGINL_FILE_NM");
		var chk       = this.ds_fileList.getColumn(fRow, "CHK");
		if(chk == '1') {
			this.File_UpDownManager.download(fileSn, fileOrder, fileName);
		}
	}
}


this.grd_work_evl_trgter_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	this.gfn_gridSort(obj, e);			// Grid 데이터 정렬
}



this.btn_print1_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var sRow     = this.ds_cond.rowposition;
	var evlYear  = this.ds_cond.getColumn(sRow, "EVL_YEAR");
	var htSe     = this.ds_cond.getColumn(sRow, "HT_SE");
	
	this.ds_print.clearData();
	var nRow = this.ds_print.addRow();
	this.ds_print.setColumn(nRow, "EVL_YEAR", evlYear);
	this.ds_print.setColumn(nRow, "HT_SE",    htSe);
	
	this.gfn_ReportPopup(this, "MIS/HRM/HRM060105_R02.crf", this.ds_cond);
}



this.btn_print2_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var sRow     = this.ds_cond.rowposition;
	var evlYear  = this.ds_cond.getColumn(sRow, "EVL_YEAR");
	var htSe     = this.ds_cond.getColumn(sRow, "HT_SE");
	
	this.ds_print.clearData();
	var nRow = this.ds_print.addRow();
	this.ds_print.setColumn(nRow, "EVL_YEAR", evlYear);
	this.ds_print.setColumn(nRow, "HT_SE",    htSe);
	
	this.gfn_ReportPopup(this, "MIS/HRM/HRM060105_R03.crf", this.ds_cond);
}
]]></Script>
  </Form>
</FDL>
