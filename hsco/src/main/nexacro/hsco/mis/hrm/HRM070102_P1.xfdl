<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="HRM070102_P1" classname="HRM070102_P1" left="0" top="0" width="1059" height="360" titletext="근무상황부 등록(상세)" onload="HRM070102_P1_onload">
    <Layouts>
      <Layout>
        <Static id="Static01" taborder="18" text="근무상황부 등록(상세)" cssclass="sta_WF_PopupTitle" left="0" top="0" right="0" height="34"/>
        <Button id="btn_Save" taborder="0" onclick="fn_save" top="49" right="119" width="50" height="25" style="background:#4563a1ff;border:1 solid #2d4d8eff ;bordertype:round 2 2 ;font:bold 9 Gulim;" userdata="A:T;" cssclass="btn_WF_CRUD" text="저장"/>
        <Button id="btn_Close" taborder="2" onclick="btn_Close_onclick" top="49" right="15" width="50" height="25" style="background:#4563a1ff;border:1 solid #2d4d8eff ;bordertype:round 2 2 ;font:bold 9 Gulim;gradation:linear 0,0 #f4f4f4ff 0,100 #e2e7edff;" userdata="A:T;" text="닫기" cssclass="btn_WF_CRUD"/>
        <Button id="btn_approval" taborder="1" onclick="btn_approval_onclick" top="49" right="67" width="50" height="25" style="background:#4563a1ff;border:1 solid #2d4d8eff ;bordertype:round 2 2 ;font:bold 9 Gulim;" userdata="A:T;" cssclass="btn_WF_CRUD" text="결재"/>
        <Div id="div_detail00" taborder="3" left="0" top="90" width="1045" height="94">
          <Layouts>
            <Layout>
              <Edit id="edt_DEPT_CODE" taborder="38" readonly="true" cssclass="edt_WF_Readonly" left="760" top="13" width="26" height="21"/>
              <Edit id="edt_OFCPS" taborder="39" readonly="true" cssclass="edt_WF_Readonly" left="984" top="13" right="45" height="21"/>
              <Static id="sta_WFDA_Label01" taborder="13" cssclass="sta_WF_Labelbg" left="150" top="10" width="362" height="27"/>
              <Static id="sta_WFDA_Label00" taborder="14" cssclass="sta_WF_Labelbg" left="646" top="10" height="27" right="0"/>
              <Edit id="edt_EMPNO" taborder="0" left="153" top="13" width="111" height="21" readonly="true" cssclass="edt_WF_Readonly"/>
              <Edit id="edt_EMPNM" taborder="1" left="266" top="13" width="137" height="21" readonly="true" cssclass="edt_WF_Readonly"/>
              <Edit id="edt_DEPT_NM" taborder="2" left="649" top="13" width="137" height="21" readonly="true" cssclass="edt_WF_Readonly"/>
              <Edit id="edt_OFCPS_NM" taborder="4" left="891" top="13" height="21" readonly="true" cssclass="edt_WF_Readonly" right="36"/>
              <Edit id="edt_CLSF_SE" taborder="3" left="790" top="13" width="97" height="21" readonly="true" cssclass="edt_WF_Readonly"/>
              <Static id="sta_EMP" taborder="7" text="사번 / 성명" cssclass="sta_WF_Label" top="10" right="894" width="136" height="27" style="font:9 Dotum;"/>
              <Static id="sta_EMP00" taborder="8" text="소속 / 직급 / 직위 " cssclass="sta_WF_Label" top="10" right="398" width="136" height="27" style="align:left middle;font:9 Dotum;"/>
              <Button id="btn_Vrsc_man_search00" taborder="37" onclick="div_detail00_btn_Vrsc_man_search_onclick" top="18" right="624" width="13" height="13" style="background:URL('theme://images\btn_WF_Search.png');border:0 solid #8d8d8dff ;cursor:default;"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="div_detail01" taborder="4" left="0" top="154" width="1045" height="190">
          <Layouts>
            <Layout>
              <Static id="sta_WFDA_Label00" taborder="16" cssclass="sta_WF_Labelbg" left="150" top="2" width="362" height="27"/>
              <Static id="sta_WFDA_Label01" taborder="17" cssclass="sta_WF_Labelbg" left="150" top="28" width="362" height="27"/>
              <Static id="sta_WFDA_Label02" taborder="18" cssclass="sta_WF_Labelbg" left="150" top="54" width="362" height="27"/>
              <Static id="sta_WFDA_Label03" taborder="19" cssclass="sta_WF_Labelbg" left="150" top="80" width="362" height="27"/>
              <Static id="sta_WFDA_Label04" taborder="27" cssclass="sta_WF_Labelbg" left="150" top="132" width="362" height="27"/>
              <Static id="sta_WFDA_Label05" taborder="20" cssclass="sta_WF_Labelbg" left="150" top="158" width="362" height="27"/>
              <Static id="sta_WFDA_Label06" taborder="21" cssclass="sta_WF_Labelbg" left="515" top="-7" width="529" height="195"/>
              <Calendar id="cal_BGNDT" taborder="1" left="153" top="31" width="153" height="21" dateformat="yyyy-MM-dd" value="null" innerdataset="@DS_WRKCP" datecolumn="BGNDT" cssclass="cal_WF_Essential"/>
              <Static id="Static04" taborder="22" text="~" left="306" top="31" height="21" width="21" style="align:center middle;"/>
              <Calendar id="cal_ENDDT" taborder="2" dateformat="yyyy-MM-dd" left="327" top="31" width="153" height="21" innerdataset="@DS_WRKCP" value="null" datecolumn="ENDDT" cssclass="cal_WF_Essential"/>
              <Combo id="cmb_AM_PM_AT" taborder="3" left="153" top="57" width="153" height="21" innerdataset="@DS_AM_PM_AT" datacolumn="CODE_NM" codecolumn="CODE" readonly="true" cssclass="cmb_WF_Readonly"/>
              <Edit id="edt_DAYCNT" taborder="4" readonly="true" left="153" top="83" width="101" height="21" cssclass="edt_WF_Readonly" style="align:center middle;"/>
              <Edit id="edt_VRSC_MAN_CALL" taborder="7" readonly="true" left="153" top="161" width="153" height="21" cssclass="edt_WF_Readonly"/>
              <Static id="sta_VRSC_MAN" taborder="13" text="업무대행자" cssclass="sta_WF_Label" top="132" right="894" width="136" height="27" style="align:left middle;font:9 Dotum;"/>
              <Static id="sta_VRSC_MAN_CALL" taborder="15" text="연락처" cssclass="sta_WF_Label" top="158" right="894" width="136" height="27" style="align:left middle;font:9 Dotum;"/>
              <Static id="sta_BGN_DT" taborder="10" text="시작일자/종료일자" cssclass="sta_WF_Label" top="28" right="894" width="136" height="27" style="align:left middle;font:9 Dotum;"/>
              <Static id="sta_DCLZ_SE" taborder="9" text="근태구분" cssclass="sta_WF_Label" top="2" right="894" width="136" height="27" style="font:9 Dotum;"/>
              <Static id="sta_AM_PM_SE" taborder="11" text="오전오후 구분" cssclass="sta_WF_Label" top="54" right="894" width="136" height="27" style="align:left middle;font:9 Dotum;"/>
              <Static id="sta_DAYCNT" taborder="12" text="일수/시간" cssclass="sta_WF_Label" top="80" right="894" width="136" height="27" style="align:left middle;font:9 Dotum;"/>
              <Combo id="cmb_DCLZ_SE" taborder="0" codecolumn="CODE" datacolumn="CODE_NM" onitemchanged="cmb_DCLZ_SE_onitemchanged" left="153" top="5" width="153" height="21" cssclass="cmb_WF_Essential" innerdataset="@DS_DCLZ_SE1"/>
              <Edit id="edt_VRSC_EMPNO" taborder="5" readonly="true" left="153" top="135" right="791" height="21" style="background:#ffffffff;"/>
              <Edit id="edt_VRSC_MAN_NM" taborder="6" readonly="true" oneditclick="div_search_edt_ASSETS_CL_CODE_oneditclick" left="256" top="135" right="587" height="21" style="background:#ffffffff;"/>
              <Button id="btn_Vrsc_man_search" taborder="14" onclick="btn_Assets_Popup_onclick" top="141" right="792" width="13" height="13" style="background:URL('theme://images\btn_WF_Search.png');border:0 solid #8d8d8dff ;cursor:default;"/>
              <TextArea id="txt_PRVONSH" taborder="28" left="517" top="5" width="523" height="179" cssclass="txt_WF_Essential" wordwrap="english"/>
              <Static id="sta_dcnt" taborder="29" top="83" right="540" width="190" height="21" style="align:left middle;font:9 Dotum;"/>
              <Static id="sta_DAYCNT00" taborder="30" text="연차/사용/잔여" cssclass="sta_WF_Label" top="106" right="894" width="136" height="27" style="align:left middle;font:9 Dotum;"/>
              <Static id="sta_WFDA_Label07" taborder="32" cssclass="sta_WF_Labelbg" left="150" top="106" width="362" height="27"/>
              <Edit id="edt_YCNT1" taborder="33" readonly="true" cssclass="edt_WF_Readonly" left="153" top="109" width="101" height="21" style="align:center middle;"/>
              <Edit id="edt_YCNT2" taborder="34" readonly="true" cssclass="edt_WF_Readonly" left="255" top="109" width="101" height="21" style="align:center middle;"/>
              <Edit id="edt_YCNT3" taborder="35" readonly="true" cssclass="edt_WF_Readonly" left="357" top="109" width="101" height="21" style="align:center middle;"/>
              <Edit id="edt_DAYCNT00" taborder="36" readonly="true" cssclass="edt_WF_Readonly" left="255" top="83" width="51" height="21" style="align:center middle;" onchanged="div_detail01_edt_DAYCNT00_onchanged"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="sta_REGIST_NM" taborder="5" text="휴가자" cssclass="sta_WF_Title02" left="17" top="79" right="971" height="21" style="font:bold 9 Gulim;"/>
        <Static id="Static06" taborder="6" text="15" visible="false" left="0" top="34" width="1058" height="15" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static02" taborder="9" text="15" visible="false" left="1044" top="34" width="15" height="261" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static05" taborder="10" text="15" visible="false" left="0" top="34" width="15" height="262" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static12" taborder="12" text="5" visible="false" left="17" top="74" width="1026" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_DETAIL" taborder="15" text="상세내용" cssclass="sta_WF_Title02" left="17" top="135" right="955" height="21" style="align:left middle;font:bold 9 Gulim;"/>
        <Static id="sta_DETAIL00" taborder="16" text="사유/용무" cssclass="sta_WF_Title02" left="516" top="135" right="451" height="21" style="font:bold 9 Gulim;"/>
        <Static id="Static10" taborder="17" text="10" visible="false" left="17" top="127" width="1026" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static03" taborder="19" text="15" visible="false" left="2" top="345" width="1040" height="15" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title" taborder="20" text="상세등록" cssclass="sta_WF_Title01" left="17" top="49" width="197" height="21"/>
        <Static id="sta_DETAIL01" taborder="21" text="신청구분" cssclass="sta_WF_Title02" left="157" top="79" right="810" height="21" style="font:bold 9 Gulim;"/>
        <Radio id="rdo_CANCEL_SE" taborder="15" index="-1" innerdataset="@DS_CANCEL_SE" codecolumn="CODE" datacolumn="CODE_NM" value="0" direction="vertical" cssclass="rdo_WF_Readonly" left="231" top="82" width="110" height="16" onitemchanged="rdo_CANCEL_SE_onitemchanged"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="div_detail00.edt_EMPNO" propid="value" datasetid="DS_WRKCP" columnid="EMPNO"/>
      <BindItem id="item1" compid="div_detail00.edt_EMPNM" propid="value" datasetid="DS_WRKCP" columnid="EMPNM"/>
      <BindItem id="item2" compid="div_detail00.edt_DEPT_NM" propid="value" datasetid="DS_WRKCP" columnid="DEPT_NM"/>
      <BindItem id="item3" compid="div_detail00.edt_CLSF_SE" propid="value" datasetid="DS_WRKCP" columnid="CLSF_SE"/>
      <BindItem id="item4" compid="div_detail00.edt_OFCPS_NM" propid="value" datasetid="DS_WRKCP" columnid="OFCPS_NM"/>
      <BindItem id="item10" compid="div_detail01.cal_ENDDT" propid="value" datasetid="DS_WRKCP" columnid="ENDDT"/>
      <BindItem id="item12" compid="div_detail01.edt_DAYCNT" propid="value" datasetid="DS_WRKCP" columnid="WORK_DAYCNT"/>
      <BindItem id="item15" compid="div_detail01.edt_VRSC_MAN_CALL" propid="value" datasetid="DS_WRKCP" columnid="TELNO_2"/>
      <BindItem id="item9" compid="div_detail01.cmb_AM_PM_AT" propid="value" datasetid="DS_WRKCP" columnid="AM_PM_SE"/>
      <BindItem id="item11" compid="div_detail01.cal_BGNDT" propid="value" datasetid="DS_WRKCP" columnid="BGNDT"/>
      <BindItem id="item8" compid="div_detail01.cmb_DCLZ_SE" propid="value" datasetid="DS_WRKCP" columnid="DCLZ_SE"/>
      <BindItem id="item13" compid="div_detail01.edt_VRSC_EMPNO" propid="value" datasetid="DS_WRKCP" columnid="VRSC_EMPNO"/>
      <BindItem id="item14" compid="div_detail01.edt_VRSC_MAN_NM" propid="value" datasetid="DS_WRKCP" columnid="VRSC_MAN_NM"/>
      <BindItem id="item5" compid="div_detail01.txt_PRVONSH" propid="value" datasetid="DS_WRKCP" columnid="PRVONSH"/>
      <BindItem id="item17" compid="div_detail01.edt_DAYCNT00" propid="value" datasetid="DS_WRKCP" columnid="WORK_DAYCNT1"/>
      <BindItem id="item19" compid="div_detail01.edt_YCNT1" propid="value" datasetid="DS_WRKCP" columnid="YCNT1"/>
      <BindItem id="item20" compid="div_detail01.edt_YCNT2" propid="value" datasetid="DS_WRKCP" columnid="YCNT2"/>
      <BindItem id="item21" compid="div_detail01.edt_YCNT3" propid="value" datasetid="DS_WRKCP" columnid="YCNT3"/>
      <BindItem id="item6" compid="div_detail00.edt_DEPT_CODE" propid="value" datasetid="DS_WRKCP" columnid="DEPT_CODE"/>
      <BindItem id="item7" compid="div_detail00.edt_OFCPS" propid="value" datasetid="DS_WRKCP" columnid="OFCPS_SE"/>
    </Bind>
    <Objects>
      <Dataset id="DS_WRKCP" firefirstcount="0" firenextcount="0" useclientlayout="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="DS_WRKCP_oncolumnchanged" onload="DS_WRKCP_onload" updatecontrol="true">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="CLSF_SE" type="STRING" size="256"/>
          <Column id="OFCPS_NM" type="STRING" size="256"/>
          <Column id="OFCPS_SE" type="STRING" size="256"/>
          <Column id="PROGRS_STTUS_SE" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="DCLZ_SE" type="STRING" size="256"/>
          <Column id="BGNDT" type="STRING" size="256"/>
          <Column id="ENDDT" type="STRING" size="256"/>
          <Column id="AM_PM_SE" type="STRING" size="256"/>
          <Column id="WORK_DAYCNT" type="STRING" size="256"/>
          <Column id="WORK_DAYCNT1" type="STRING" size="256"/>
          <Column id="VRSC_MAN_NM" type="STRING" size="256"/>
          <Column id="VRSC_EMPNO" type="STRING" size="256"/>
          <Column id="TELNO_2" type="STRING" size="256"/>
          <Column id="PRVONSH" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="SANCTN_STTS" type="STRING" size="256"/>
          <Column id="DRFT_DT" type="STRING" size="256"/>
          <Column id="SANCTN_KND" type="STRING" size="256"/>
          <Column id="SANCTN_STS" type="STRING" size="256"/>
          <Column id="YCNT1" type="STRING" size="256"/>
          <Column id="YCNT2" type="STRING" size="256"/>
          <Column id="YCNT3" type="STRING" size="256"/>
          <Column id="CANCEL_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_SEARCH" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_SEARCH2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_DCLZ_SE1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GRP_CODE_SN" type="bigdecimal" size="16"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_AM_PM_AT" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">001</Col>
            <Col id="CODE_NM">오전</Col>
          </Row>
          <Row>
            <Col id="CODE">002</Col>
            <Col id="CODE_NM">오후</Col>
          </Row>
          <Row>
            <Col id="CODE">003</Col>
            <Col id="CODE_NM">종일</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="DS_REGISTER_INFO" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="CLSF_SE" type="STRING" size="256"/>
          <Column id="OFCPS_NM" type="STRING" size="256"/>
          <Column id="OFCPS_SE" type="STRING" size="256"/>
          <Column id="DCLZ_SE" type="STRING" size="256"/>
          <Column id="Column0" type="STRING" size="256"/>
          <Column id="TELNO_2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_approve" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DATA_VALUE" type="STRING" size="1000"/>
          <Column id="DATA_TITLE" type="STRING" size="256"/>
          <Column id="O_URL" type="STRING" size="256"/>
          <Column id="I_KEY" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="DEPT_CD" type="STRING" size="256"/>
          <Column id="EMP_CD" type="STRING" size="256"/>
          <Column id="TITLE" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="CANCEL_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sanctnSttusCode" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">DCLZ_SE</Col>
            <Col id="compId">DS_WRKCP</Col>
            <Col id="msgId">근태구분</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">BGNDT</Col>
            <Col id="compId">DS_WRKCP</Col>
            <Col id="msgId">시작일자</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">DS_WRKCP</Col>
            <Col id="colId">ENDDT</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">종료일자</Col>
          </Row>
          <Row>
            <Col id="compId">DS_WRKCP</Col>
            <Col id="colId">BGNDT</Col>
            <Col id="PK">[Undefined]</Col>
            <Col id="notNull"/>
            <Col id="type">[Undefined]</Col>
            <Col id="nlength">[Undefined]</Col>
            <Col id="from">[Undefined]</Col>
            <Col id="to">ENDDT</Col>
            <Col id="lengthChkGb">[Undefined]</Col>
            <Col id="msgId">시작일자^종료일자</Col>
            <Col id="expr">[Undefined]</Col>
            <Col id="func">[Undefined]</Col>
          </Row>
          <Row>
            <Col id="compId">DS_WRKCP</Col>
            <Col id="colId">PRVONSH</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사유/용무</Col>
          </Row>
          <Row>
            <Col id="colId">EMPNO</Col>
            <Col id="compId">DS_WRKCP</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사번</Col>
          </Row>
          <Row>
            <Col id="colId">EMPNM</Col>
            <Col id="compId">DS_WRKCP</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">성명</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond_sub" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="BGNDT" type="STRING" size="256"/>
          <Column id="ENDDT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_diffDay" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DAYCNT" type="STRING" size="256"/>
          <Column id="WKDAY" type="STRING" size="256"/>
          <Column id="HLDY" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_CANCEL_SE" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE_NM">신규</Col>
          </Row>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="CODE_NM">취소</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="DS_DCLZ_BSIS" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="YCNT1" type="STRING" size="256"/>
          <Column id="YCNT2" type="STRING" size="256"/>
          <Column id="YCNT3" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_CNT" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_DUP_CHK" firefirstcount="0" firenextcount="0" useclientlayout="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="DS_WRKCP_oncolumnchanged" onload="DS_WRKCP_onload">
        <ColumnInfo>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="BGNDT" type="STRING" size="256"/>
          <Column id="ENDDT" type="STRING" size="256"/>
          <Column id="AM_PM_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 01. 업무구분 : 근무상황부
 * 02. 화면명   : HRM070102_P1.xfdl
 * 03. 화면설명 : 근무상황부
 * 04. 작성일   : 2015.07.17
 * 05. 작성자   : 이혜선
 * 06. 수정이력 : 2015.07.17 최초생성
 ***********************************************************************
 *     수정일     작성자   내용
 ***********************************************************************
 *    2015.07.17   이혜선   최초
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ************************************************************************/
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";
this.fv_objForm;


/***********************************************************************
* 폼로드 시 처리
************************************************************************/
this.HRM070102_P1_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{	
	/* 권한 분배 */
	if ( this.gfn_authcode("005") > -1 ) { //인사담당자
		
	}else{ //일반사용자
		//this.div_detail00.btn_Vrsc_man_search00.set_visible(false);
	}

	this.fn_loadCombo();
}

/*
 * 함수명  	    : fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function ()
{
	this.DS_DCLZ_SE1.filter("VAL1=='1'");
	
	var comboParams = [ 
		    ["DS_DCLZ_SE1", "SAL009", "1", ""],   //근태구분
		   ["ds_sanctnSttusCode", "COM023", "1", ""]   // 전자결재상태
		];
		
	this.gfn_comboLoad(comboParams, this.fn_callbackAfter());
	
	//this.gfn_loadCodeCombo(this, this.div_detail01.cmb_DCLZ_SE, "ds_gubun1", "SAL009", "MisHrm006", "Y", "전체", "N", "");
}

/*
 * 함수명  	: fn_callbackAfter
 * 설명 		: 공통 callback
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_callbackAfter();
 */
this.fn_callbackAfter = function ()
{
	this.fv_objForm = this.parent.art_0;
	var v_popupMsg  = this.parent.arg_1;
	var v_popupMsg2 = this.parent.arg_2;
	var v_popupMsg3 = this.parent.arg_3;
	
	if(!v_popupMsg2){	//신규버튼
		this.DS_SEARCH2.clearData();
		var nRow = this.DS_SEARCH2.addRow();
		this.DS_SEARCH2.setColumn(nRow,"EMPNO",v_popupMsg);
		this.fn_search1();
	}
	else {	//셀더블클릭
		this.DS_SEARCH.clearData();
		var nRow = this.DS_SEARCH.addRow();
		this.DS_SEARCH.setColumn(nRow,"EMPNO",v_popupMsg2);
		this.DS_SEARCH.setColumn(nRow,"SEQ",v_popupMsg3);
		this.fn_cudSetup();		// 전자결재 추가 (2016.7)
		this.fn_search();

	}
}
/***********************************************************************
 * 설명: 상세조회 처리
 ************************************************************************/
this.fn_search = function()
{	
	this.DS_WRKCP.clearData();
	var sSvcID        	= "tbhrmWrkcpR";                    
    var sController   	= "hsco/mis/hrm/HRM070102/tbhrmWrkcpR.do";
	var sInDatasets   	= "input1=DS_SEARCH";
	var sOutDatasets  	= "DS_WRKCP=output1";
	var sArgs = "";	

	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs); 
}

/***********************************************************************
 * 설명: 결재에 따른 CONTROL 상태 UPDATE (2016.7)
 ************************************************************************/
 this.fn_cudSetup = function()
 {
	// 전자결재 상태 체크 2016.7
	// 기안상태 COM022 (0:기안전 1:기안 9:기안오류)
	// 결재상태 COM023 (1: 진행 2:보류 4:대기 8:협조대기 32:삭제 256:완료 512:반송 4096:취소 1024:참조 NUL:상신전 DUP:결재중복)
	// 기안전인것 : 재상신 및 수정/삭제
	// 결재상태가 상신전 외는 신규로 다시 진행.
	
	var draftKnd = this.parent.arg_4;
	
	var bEnable = (draftKnd == "1" || draftKnd == "9") ? false : true;
	
	this.btn_Save.set_enable(bEnable);
	this.btn_approval.set_enable(bEnable);
	this.rdo_CANCEL_SE.set_readonly(bEnable);

 }


/***********************************************************************
 * 설명: 등록자 정보 조회처리
 ************************************************************************/
this.fn_search1 = function()
{	
	this.DS_WRKCP.clearData();
	var sSvcID        	= "registerInfoR";                    
    var sController   	= "hsco/mis/hrm/HRM070102/registerInfoR.do";
	var sInDatasets   	= "input2=DS_SEARCH2";
	var sOutDatasets  	= "DS_REGISTER_INFO=output2";
	var sArgs = "";	

	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs); 
}


/***********************************************************************
 * 설명: 두 날짜 사이의 총 일수 및 공휴일을 조회한다.
 ************************************************************************/
this.fn_search_diffDay = function()
{	
	this.ds_diffDay.clearData();
	var sSvcID        	= "selectDiffDay";
    var sController   	= "hsco/mis/hrm/HRM070102/selectDiffDay.do";
	var sInDatasets   	= "input1=ds_cond_sub";
	var sOutDatasets  	= "ds_diffDay=output1";
	var sArgs = "";	

	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs); 
}

/***********************************************************************
 * 설명: 두 날짜 사이의 총 일수 및 공휴일을 조회한다.
 ************************************************************************/
this.fn_search_ycnt = function()
{	
	this.DS_DCLZ_BSIS.clearData();
	var sSvcID        	= "selectTbhrmDclzBsis";                    
	var sController   	= "hsco/mis/hrm/HRM070102/selectTbhrmDclzBsis.do";
	var sInDatasets   	= "input1=ds_cond_sub";
	var sOutDatasets  	= "DS_DCLZ_BSIS=output1";
	var sArgs = "";	
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
		
}

/***********************************************************************************
* 설명	: 대행자 검색팝업 호출
***********************************************************************************/
this.btn_Assets_Popup_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
        deptCd	: this.DS_WRKCP.getColumn(0, "DEPT_CODE") //ADD
		
	};
	
	this.gfn_popup("empPop", 400, 400, "사원조회팝업", parm, "com::empno_P01.xfdl", "fn_PopupCallback", true);
}

/***********************************************************************************
* 설명	: 대행자 검색팝업 콜백
***********************************************************************************/
this.fn_PopupCallback = function(sPopupId, sReturn)
{
	if(sPopupId == "empPop") {
		var dataset = new Dataset();
        nRowCnt = dataset.loadXML(sReturn);
        if(nRowCnt){
			this.div_detail01.edt_VRSC_EMPNO.set_value(dataset.getColumn(0, "EMPNO"));
			this.div_detail01.edt_VRSC_MAN_NM.set_value(dataset.getColumn(0, "EMPNM"));
			//this.div_detail01.edt_VRSC_MAN_CALL.set_value(dataset.getColumn(0, "TELNO_2"));
        }
	}
}

/***********************************************************************
 * 설명: 취소버튼 클릭시
 ************************************************************************/
this.fn_cancel= function()
{
	if (this.gfn_message("confirm.취소여부") ) {  
		this.DS_WRKCP.reset();		//DATASET ROLLBACK
		this.DS_WRKCP.applyChange();	//DATASET COMMIT
		return;
	}	
}

/***********************************************************************
 * 설명: 저장버튼 클릭시
 ************************************************************************/
this.fn_save= function()
{	

	// validation 체크
	if(!this.gfn_checkValidation_NoUpdChk(this.DS_WRKCP, this.ds_validation)) {
		return;
	}
	
	if(parseInt(this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "WORK_DAYCNT")) > 
	   parseInt(this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "YCNT3")) &&
	   (this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "DCLZ_SE") == '200' ||   	//결근
	    this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "DCLZ_SE") == '201' ||   	//연차 	
	    this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "DCLZ_SE") == '214' || 		//휴가 
	    this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "DCLZ_SE") == '210' ||		//조퇴 
	    this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "DCLZ_SE") == '218' ) ) {	//외출 
		this.gfn_message("info.처리불가","일수가 개인의 연차 잔여일수보다 클수 없습니다.");

		return;
	}

	//취소:1/재신청:2 처리 
	var cancelSe = this.rdo_CANCEL_SE.value;
	if(cancelSe == '1' || cancelSe == '2' )	{
		if (this.DS_WRKCP.getColumn(0, "CANCEL_SE") == undefined || this.DS_WRKCP.getColumn(0, "CANCEL_SE") == "") { 
			//신규자료로 다시 생성함  
			this.DS_WRKCP.set_updatecontrol(false);
			this.DS_WRKCP.setRowType(0, Dataset.ROWTYPE_INSERT );
			
			this.DS_WRKCP.setColumn (0, "SEQ", 	""); 	
			this.DS_WRKCP.setColumn (0, "SANCTN_NO", "");  
			this.DS_WRKCP.setColumn (0, "SANCTN_STS", "");  
			this.DS_WRKCP.setColumn (0, "SANCTN_STTS", "");  
			this.DS_WRKCP.setColumn (0, "DRFT_STS", "");  
			this.DS_WRKCP.setColumn (0, "CANCEL_SE", cancelSe);
		}
		this.fn_save1(); //저장 
	} else {
		// 일자 중복여부 확인 
		this.DS_CNT.clearData();
		this.DS_DUP_CHK.clearData();
		
		this.DS_DUP_CHK.addRow();
		this.DS_DUP_CHK.setColumn (0, "EMPNO", 	this.DS_WRKCP.getColumn (0, "EMPNO"));
		this.DS_DUP_CHK.setColumn (0, "SEQ", 	this.DS_WRKCP.getColumn (0, "SEQ"));
		this.DS_DUP_CHK.setColumn (0, "BGNDT", 	this.DS_WRKCP.getColumn (0, "BGNDT"));
		this.DS_DUP_CHK.setColumn (0, "ENDDT", 	this.DS_WRKCP.getColumn (0, "ENDDT"));
		this.DS_DUP_CHK.setColumn (0, "AM_PM_SE", 	this.DS_WRKCP.getColumn (0, "AM_PM_SE"));

		var sSvcID        	= "selectDupCnt";                    
		var sController   	= "hsco/mis/hrm/HRM070102/selectDupCnt.do";
		var sInDatasets   	= "input1=DS_DUP_CHK";
		var sOutDatasets  	= "DS_CNT=output1";
		var sArgs = "";	
		Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
	}
	
}
this.fn_save1 = function() {
	//this.alert("----"+this.DS_WRKCP.getRowType(0));
	if(this.gfn_message("confirm.저장.여부"))	{	
		var sSvcID        	= "tbhrmWrkcpCUD";                    
		var sController   	= "hsco/mis/hrm/HRM070102/tbhrmWrkcpCUD.do";	
		var sInDatasets   	= "input3=DS_WRKCP:U";
		var sOutDatasets  	= "DS_WRKCP=output1";
		var sArgs = "";	
		Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
	}
}
/***********************************************************************
 * 설명: 닫기
 ************************************************************************/
this.btn_Close_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.close();
}

/***********************************************************************************
* 설명	: 트랜잭션 콜백함수를 처리한다.
***********************************************************************************/
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{ 
	//에러 처리
	if (nErrorCode < 0) {
		//alert(strSvcId);
		//return Ex.core.comMsg("alert", strErrorMsg);
	}
	else {
		if (strSvcId == "registerInfoR") {
		
			var nRow = this.DS_WRKCP.addRow();
			this.DS_WRKCP.setColumn(nRow,"EMPNO",this.DS_REGISTER_INFO.getColumn(0,"EMPNO"));
			this.DS_WRKCP.setColumn(nRow,"EMPNM",this.DS_REGISTER_INFO.getColumn(0,"EMPNM"));
			this.DS_WRKCP.setColumn(nRow,"DEPT_CODE",this.DS_REGISTER_INFO.getColumn(0,"DEPT_CODE"));
			this.DS_WRKCP.setColumn(nRow,"DEPT_NM",this.DS_REGISTER_INFO.getColumn(0,"DEPT_NM"));
			this.DS_WRKCP.setColumn(nRow,"CLSF_SE",this.DS_REGISTER_INFO.getColumn(0,"CLSF_SE"));
			this.DS_WRKCP.setColumn(nRow,"OFCPS_NM",this.DS_REGISTER_INFO.getColumn(0,"OFCPS_NM"));
			this.DS_WRKCP.setColumn(nRow,"OFCPS_SE",this.DS_REGISTER_INFO.getColumn(0,"OFCPS_SE"));
			this.DS_WRKCP.setColumn(nRow,"DCLZ_SE",this.DS_REGISTER_INFO.getColumn(0,"DCLZ_SE"));
			this.DS_WRKCP.setColumn(nRow,"SANCTN_KND",'0');
			this.DS_WRKCP.setColumn(nRow,"TELNO_2",this.DS_REGISTER_INFO.getColumn(0,"TELNO_2"));
			this.DS_WRKCP.setRowType(nRow, Dataset.ROWTYPE_INSERT );
			this.rdo_CANCEL_SE.set_index("");
		}
		if(strSvcId == "tbhrmWrkcpCUD"){
			//this.gfn_message("success.처리.성공", null, null, null, this.fn_popupCallback1);
			alert("저장됐습니다.");
			this.close();
		}
		if(strSvcId == "tbhrmWrkcpR"){
			var dclz_se = this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "DCLZ_SE");
			var sanctnknd = this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "SANCTN_KND");
			
			var wRow = this.DS_WRKCP.rowposition;
			var bgnDt = this.DS_WRKCP.getColumn(wRow, "BGNDT");
			var endDt = this.DS_WRKCP.getColumn(wRow, "ENDDT");
			if(bgnDt != endDt) {
				this.ds_cond_sub.clearData();
				var nRow = this.ds_cond_sub.addRow();
				this.ds_cond_sub.setColumn(nRow, "BGNDT", bgnDt);
				this.ds_cond_sub.setColumn(nRow, "ENDDT", endDt);
				this.fn_search_diffDay();			
			}
			if(!this.comUtils.isNull(bgnDt)) {
				this.ds_cond_sub.clearData();
				var nRow = this.ds_cond_sub.addRow();
				this.ds_cond_sub.setColumn(nRow, "EMPNO", this.DS_WRKCP.getColumn(0,"EMPNO"));
				this.ds_cond_sub.setColumn(nRow, "BGNDT", bgnDt);
				this.ds_cond_sub.setColumn(nRow, "ENDDT", endDt);
				this.fn_search_ycnt();			
			}
// 			if(sanctnknd != '0'){ //결재가 진행되면 수정불가 -- 버튼으로 처리 
// 				this.div_detail01.cmb_DCLZ_SE.set_readonly(true);
// 				this.div_detail01.cal_BGNDT.set_readonly(true);
// 				this.div_detail01.cal_ENDDT.set_readonly(true);
// 				this.div_detail01.cmb_AM_PM_AT.set_readonly(true);
// 				this.div_detail01.edt_DAYCNT.set_readonly(true);
// 				this.div_detail01.edt_DAYCNT00.set_readonly(true);
// 				this.div_detail01.btn_Vrsc_man_search.set_readonly(true);
// 				this.div_detail01.txt_PRVONSH.set_readonly(true);
// 			} 
			if (dclz_se == "210" || dclz_se == "218") { //  조퇴/외출시 
				this.div_detail01.edt_DAYCNT00.set_readonly(false);
				this.div_detail01.edt_DAYCNT00.set_cssclass("");
			} else {
				this.div_detail01.edt_DAYCNT00.set_readonly(true);
				this.div_detail01.edt_DAYCNT00.set_cssclass("edt_WF_Readonly");
			} 
			if (this.DS_WRKCP.getColumn(0, "CANCEL_SE") == '1' ||
				this.DS_WRKCP.getColumn(0, "CANCEL_SE") == '2' ) {
				var cancelSe = this.DS_WRKCP.getColumn(0, "CANCEL_SE");
				this.rdo_CANCEL_SE.set_index(cancelSe);
				this.rdo_CANCEL_SE.set_readonly(true);
			}    				
		}
		if(strSvcId == "approve"){
			var brow = this.ds_approve.getColumn(0,"O_URL");
			system.execBrowser(brow); 
			this.close();
		}
		
		if(strSvcId == "selectDiffDay") {
			//alert(this.ds_diffDay.saveXML());
			var daycnt = this.ds_diffDay.getColumn(0, "DAYCNT");
			var wkday  = this.ds_diffDay.getColumn(0, "WKDAY");
			var hldy   = this.ds_diffDay.getColumn(0, "HLDY");
			
			//this.DS_WRKCP.set_updatecontrol(false);
			if(daycnt >= 30){
				wkday = daycnt;
			}
			this.DS_WRKCP.setColumn(0, "WORK_DAYCNT", wkday);	// 평일만 계산
			//this.DS_WRKCP.set_updatecontrol(true);
			if (daycnt >= 30) {
				this.div_detail01.sta_dcnt.set_text("(총일수 " + daycnt + "일)");
			} else 	{
				this.div_detail01.sta_dcnt.set_text("(총일수 " + daycnt + "일 - 휴일 " + hldy + "일)");
			}	
		}
		if(strSvcId == "selectTbhrmDclzBsis") {
			var ycnt1 = this.DS_DCLZ_BSIS.getColumn(0, "YCNT1");
			var ycnt2 = this.DS_DCLZ_BSIS.getColumn(0, "YCNT2");
			var ycnt3 = this.DS_DCLZ_BSIS.getColumn(0, "YCNT3");
			this.DS_WRKCP.setColumn(0, "YCNT1", ycnt1);
			this.DS_WRKCP.setColumn(0, "YCNT2", ycnt2);
			this.DS_WRKCP.setColumn(0, "YCNT3", ycnt3);
		}
		if(strSvcId == "selectDupCnt") {
			var cnt = this.DS_CNT.getColumn(0, "CNT");
			if (cnt > 0) {
				this.gfn_message("info.처리불가","해당일자에 이미 근무 내역이 존재 합니다.");
			} else {
				this.fn_save1(); //저장 
			}	
		}
	}
}

 /*
 * 함수명  	: fn_popupCallback1
 * 설명 		: 공통메시지 Callback 처리
 * params  		: 
 * return Type 	: None
 * 사용법		: 
 */
this.fn_popupCallback1 = function() {
	if (this.DS_WRKCP.getColumn(wRow, "CANCEL_SE") == '1' ||
	    this.DS_WRKCP.getColumn(wRow, "CANCEL_SE") == '2' ) {
	    this.rdo_CANCEL_SE.set_index(this.DS_WRKCP.getColumn(wRow, "CANCEL_SE"));
	    this.rdo_CANCEL_SE.set_readonly(true);
	}    

	var empNo = this.DS_WRKCP.getColumn(0, "EMPNO");
	var seq   = this.DS_WRKCP.getColumn(0, "SEQ");
	this.DS_SEARCH.clearData();
	var nRow = this.DS_SEARCH.addRow();
	this.DS_SEARCH.setColumn(0, "EMPNO", empNo);
	this.DS_SEARCH.setColumn(0, "SEQ"  , seq);
	this.fn_search();
}

/***********************************************************************************
* 설명	: 결재
***********************************************************************************/
this.btn_approval_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var SANCTN_STS = this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition, "SANCTN_STS");
	var cancelSe = this.rdo_CANCEL_SE.value;

	//2016.08.10
	switch (SANCTN_STS) {
			case "1": case "2": case "4": case "8": case "1024": case "DUP":
			this.gfn_message("comm.결재.진행");					
			return;
			
			case "32": case "256": case "512": case "4096": 
			this.gfn_message("comm.결재.완료");
			return;
			
			default:
			break;
	}
	/*
	if(Ex.util.isUpdated(this.DS_WRKCP)){
			this.gfn_message("info.처리불가","수정된 내용을 저장 후 진행해 주시기바랍니다.");
			return false;
	}	
	*/
	var bgnDe = this.DS_WRKCP.getColumn(0, "BGNDT");
	var endDe = this.DS_WRKCP.getColumn(0, "ENDDT");
	
	var filds = new Array(45);
	
	filds[0] = this.div_detail00.edt_DEPT_NM.value;
	filds[1] = this.div_detail00.edt_OFCPS_NM.value;
	filds[2] = this.div_detail00.edt_EMPNM.value;
	filds[3] = this.div_detail00.edt_EMPNO.value;
	filds[4] = this.div_detail01.cmb_DCLZ_SE.text;
	filds[5] = bgnDe.substr(0, 4) + '.' + bgnDe.substr(4, 2) + '.' + bgnDe.substr(6, 2);
	filds[6] = endDe.substr(0, 4) + '.' + endDe.substr(4, 2) + '.' + endDe.substr(6, 2);
	filds[7] = this.div_detail01.cmb_AM_PM_AT.text;
	filds[8] = this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition,"WORK_DAYCNT");
	filds[9] = this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition,"PRVONSH");
	filds[10] = this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition,"VRSC_MAN_NM");
	filds[11] = this.DS_WRKCP.getColumn(this.DS_WRKCP.rowposition,"TELNO_2");
	
	var dataValue = filds.join("|");
	var dataTitle = "근 무 상 황 부";
	var title     = "근 무 상 황 부";
	if (cancelSe  == '1') {
		dataTitle = dataTitle + '(취소)';
		title     = title + '(취소)';
	}
	
	this.ds_approve.clearData();	
	this.ds_approve.addRow();
	this.ds_approve.setColumn(0, "TITLE",       title                );
	this.ds_approve.setColumn(0, "DATA_TITLE",  dataTitle            );
	this.ds_approve.setColumn(0, "DATA_VALUE",  dataValue            );
 	this.ds_approve.setColumn(0, "DEPT_CD",     this.gfn_getDeptId() );
 	this.ds_approve.setColumn(0, "EMP_CD",      this.fn_getEmpno() );
	this.ds_approve.setColumn(0, "EMPNO", 		this.DS_WRKCP.getColumn(0,"EMPNO"));
	this.ds_approve.setColumn(0, "SEQ", 		this.DS_WRKCP.getColumn(0,"SEQ"));
	this.ds_approve.setColumn(0, "CANCEL_SE", 	cancelSe); //@@@@
	this.ds_approve.setColumn(0, "SANCTN_NO",   this.DS_WRKCP.getColumn(0,"SANCTN_NO"));
	
	var sSvcID        	= "approve";                    
	var sController   	= "hsco/mis/hrm/HRM070102/approve.do";	
	var sInDatasets   	= "input1=ds_approve";
	var sOutDatasets  	= "ds_approve=output1";
	var sArgs = "";	
	
	if(this.gfn_message("comm.행위여부", "결재를 상신"))	{
		Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
	}
	
}


/***********************************************************************************
* 설명	: 상세조회에서 날짜 변경시 처리
***********************************************************************************/
this.DS_WRKCP_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	var bgnDt  = e.columnid == "BGNDT"    ? e.newvalue : obj.getColumn(e.row, "BGNDT");
	var endDt  = e.columnid == "ENDDT"    ? e.newvalue : obj.getColumn(e.row, "ENDDT");
	var ampmSe = e.columnid == "AM_PM_SE" ? e.newvalue : obj.getColumn(e.row, "AM_PM_SE");
	
	if(e.columnid == "BGNDT" || e.columnid == "ENDDT") {
		if(!this.comUtils.isNull(bgnDt) && !this.comUtils.isNull(endDt)) {
			if(bgnDt > endDt){
				var errMsg = e.columnid == "BGNDT" ? "시작일자는 종료일자를" : "종료일자는 시작일자를";
				this.gfn_message("info.처리불가", errMsg + "초과할 수 없습니다.");
			} 
			else if(bgnDt == endDt){
				this.div_detail01.cmb_AM_PM_AT.set_readonly(false);
				this.div_detail01.cmb_AM_PM_AT.set_cssclass("");
				if(this.div_detail01.cmb_AM_PM_AT.value == undefined){
					this.div_detail01.cmb_AM_PM_AT.set_index(0);
					obj.setColumn(0, "WORK_DAYCNT", '0.5');
				}
				
				this.div_detail01.sta_dcnt.set_text("");
			} 
			else if(bgnDt < endDt){
				this.div_detail01.cmb_AM_PM_AT.set_value("");
				this.div_detail01.cmb_AM_PM_AT.set_readonly(true);
				this.div_detail01.cmb_AM_PM_AT.set_cssclass("cmb_WF_Readonly");
				
				this.ds_cond_sub.clearData();
				var nRow = this.ds_cond_sub.addRow();
				this.ds_cond_sub.setColumn(nRow, "BGNDT", bgnDt);
				this.ds_cond_sub.setColumn(nRow, "ENDDT", endDt);
				
				this.fn_search_diffDay();
			}
			if(!this.comUtils.isNull(bgnDt)){
				this.ds_cond_sub.clearData();
				var nRow = this.ds_cond_sub.addRow();
				this.ds_cond_sub.setColumn(nRow, "EMPNO", this.DS_WRKCP.getColumn(0,"EMPNO"));
				this.ds_cond_sub.setColumn(nRow, "BGNDT", bgnDt);
				this.ds_cond_sub.setColumn(nRow, "ENDDT", endDt);
				
				this.fn_search_ycnt();
			}	
		}
	}
	if(e.columnid == "AM_PM_SE") {
		if(!this.comUtils.isNull(ampmSe)) {
			ampmSe == '003' ? obj.setColumn(0, "WORK_DAYCNT", '1') : obj.setColumn(0, "WORK_DAYCNT", '0.5');
		}
	}
}

this.cmb_DCLZ_SE_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{

	var dclz_se = obj.value;
	if (dclz_se == "210" || dclz_se == "218") { //  조퇴/외출시 
		this.div_detail01.edt_DAYCNT00.set_readonly(false);
		this.div_detail01.edt_DAYCNT00.set_cssclass("");
	} else {
		this.div_detail01.edt_DAYCNT00.set_readonly(true);
		this.div_detail01.edt_DAYCNT00.set_cssclass("edt_WF_Readonly");
	} 
}

this.div_detail01_edt_DAYCNT00_onchanged = function(obj:Edit, e:nexacro.ChangeEventInfo)
{
	 this.DS_WRKCP.SetColumn(this.DS_WRKCP.rowposition,"WORK_DAYCNT", obj.value * 0.125 );
}

this.rdo_CANCEL_SE_onitemchanged = function(obj:Radio, e:nexacro.ItemChangeEventInfo)
{
	var draftKnd = this.parent.arg_4;
	var bEnable = (draftKnd == "1" || draftKnd == "9") ? false : true;

	if (obj.value == '')  {
		this.btn_Save.set_enable(bEnable);
		this.btn_approval.set_enable(bEnable);
	} else {
		this.btn_Save.set_enable(true);
		this.btn_approval.set_enable(true);
	}
}

this.DS_WRKCP_onload = function(obj:Dataset, e:nexacro.DSLoadEventInfo)
{
	//this.div_detail01.cmb_DCLZ_SE.enable = false;
}

/***********************************************************************************
* 설명	: 등록자 검색팝업
***********************************************************************************/
this.div_detail00_btn_Vrsc_man_search_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var parm = {
		arg_0 : this//,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
        //deptCd	: this.DS_WRKCP.getColumn(0,"DEPT_CODE") //ADD
		
	};
	
	this.gfn_popup("empPop", 400, 400, "사원조회팝업", parm, "com::empno_P01.xfdl", "fn__AssetsPopupCallback", true);
}

/***********************************************************************************
* 설명	: 등록자 검색팝업 콜백
***********************************************************************************/
this.fn__AssetsPopupCallback = function(sPopupId, sReturn)
{
	if(sPopupId == "empPop") {
		var dataset = new Dataset();
        nRowCnt = dataset.loadXML(sReturn);
        if(nRowCnt){
			this.div_detail00.edt_EMPNO.set_value(dataset.getColumn(0, "EMPNO"));
			this.div_detail00.edt_EMPNM.set_value(dataset.getColumn(0, "EMPNM"));
			this.div_detail01.edt_VRSC_MAN_CALL.set_value(dataset.getColumn(0, "TELNO_2"));
			this.div_detail00.edt_DEPT_NM.set_value(dataset.getColumn(0, "DEPT_NM"));
			this.div_detail00.edt_CLSF_SE.set_value(dataset.getColumn(0, "CLSF_CODE"));
			this.div_detail00.edt_OFCPS_NM.set_value(dataset.getColumn(0, "OFCPS_NM"));
			this.div_detail00.edt_DEPT_CODE.set_value(dataset.getColumn(0, "DEPT_CODE"));
			this.div_detail00.edt_OFCPS.set_value(dataset.getColumn(0, "OFCPS"));
        }
	}
}
]]></Script>
  </Form>
</FDL>
