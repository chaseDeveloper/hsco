<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="HRM060101" classname="HRM060101" left="0" top="0" width="1059" height="735" titletext="근무평정기준정보" oninit="HRM060101_oninit" onload="HRM060101_onload">
    <Layouts>
      <Layout>
        <Static id="Static36" taborder="1" text="10" visible="false" left="0" top="33" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Div id="div_search" taborder="0" left="0" top="0" right="28" height="33" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="Static06" taborder="88" text="15" visible="false" left="0" top="0" width="15" height="33" style="background:#00ffff66;"/>
              <Static id="sta_stdrYear" taborder="0" text="평정년도" cssclass="sta_WFSA_Label" left="15" top="6" width="64" height="19"/>
              <Spin id="spn_EMPMN_YEAR" taborder="1" value="0" max="2050" min="1990" left="79" top="6" width="90" height="19" cssclass="spn_WF_Essential"/>
              <Static id="sta_stdrYear00" taborder="2" text="구분" cssclass="sta_WFSA_Label" left="184" top="6" width="38" height="19"/>
              <Combo id="cmb_odrSe" taborder="3" left="222" top="6" width="90" height="19" datacolumn="CODE_NM" codecolumn="CODE" innerdataset="@ds_odrSe" cssclass="cmb_WF_Essential"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static03" taborder="3" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static04" taborder="4" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;" onclick="Static04_onclick"/>
        <Div id="div_work" taborder="2" left="0" top="43" height="693" right="28">
          <Layouts>
            <Layout>
              <Static id="Static36" taborder="0" text="10" visible="false" left="0" top="33" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Tab id="tab_tbhrmPereva" taborder="1" left="0" top="0" right="0" height="692" tabindex="0" scrollbars="autoboth" style="showextrabutton:false;" onchanged="div_work_tab_tbhrmPereva_onchanged" canchange="div_work_tab_tbhrmPereva_canchange">
                <Tabpages>
                  <Tabpage id="tabpage1" text="평가항목">
                    <Layouts>
                      <Layout>
                        <Static id="Static01" taborder="6" text="5" visible="false" left="0" top="0" width="1032" height="5" style="background:#dc143c3c;align:center middle;"/>
                        <Static id="Static09" taborder="0" text="평가항목" onclick="Static03_onclick" cssclass="sta_WF_Title02" left="1" top="5" width="130" height="19"/>
                        <Static id="Static02" taborder="7" text="5" onclick="Tab00_tabpage5_Static02_onclick" visible="false" left="0" top="24" width="1032" height="5" style="background:#dc143c3c;align:center middle;"/>
                        <Button id="btn_RowInsert0" taborder="2" text="행추가" onclick="fn_rowInsert" cssclass="btn_WF_Gridadd" top="5" right="133" width="64" height="19"/>
                        <Button id="btn_RowDelete0" taborder="3" text="행삭제" onclick="fn_rowDelete" cssclass="btn_WF_Griddel" top="5" right="67" width="64" height="19"/>
                        <Button id="btn_RowCancel0" taborder="4" text="행취소" onclick="fn_rowCancel" cssclass="btn_WF_Gridcnl" top="5" right="1" width="64" height="19"/>
                        <Grid id="grd_tbhrmPerevaIemList" taborder="5" useinputpanel="false" left="1" top="29" right="1" bottom="1" autoenter="select" autofittype="col" binddataset="ds_tbhrmPerevaIemList" oncellclick="div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_oncellclick" onheadclick="div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_onheadclick">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="29"/>
                                <Column size="83"/>
                                <Column size="65"/>
                                <Column size="110"/>
                                <Column size="130"/>
                                <Column size="66"/>
                                <Column size="465"/>
                                <Column size="47"/>
                                <Column size="40"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell rowspan="2" displaytype="checkbox" edittype="checkbox"/>
                                <Cell col="1" rowspan="2" text="평정기준"/>
                                <Cell col="2" rowspan="2" text="평정대상"/>
                                <Cell col="3" colspan="3" text="평정항목"/>
                                <Cell col="6" text="평정세부항목"/>
                                <Cell col="7" rowspan="2" text="출력&#13;&#10;순서"/>
                                <Cell col="8" rowspan="2" text="사용"/>
                                <Cell row="1" col="3" text="평정요인"/>
                                <Cell row="1" col="4" text="평정요소"/>
                                <Cell row="1" col="5" text="항목구분"/>
                                <Cell row="1" col="6" text="평정사항"/>
                              </Band>
                              <Band id="body">
                                <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                                <Cell col="1" displaytype="combo" edittype="expr:dataset.getRowType(currow)=='2' ? &quot;combo&quot; : &quot;none&quot;" cssclass="Cellgrd_WF_AlignLeft" text="bind:STDR_SE" suppress="1" combodataset="ds_stdrSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                <Cell col="2" displaytype="combo" edittype="expr:dataset.getRowType(currow)=='2' ? &quot;combo&quot; : &quot;none&quot;" cssclass="Cellgrd_WF_AlignLeft" text="bind:TRGET_SE" suppress="2" combodataset="ds_trgetSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                <Cell col="3" displaytype="combo" edittype="combo" cssclass="Cellgrd_WF_AlignLeft" text="bind:DEVA_FCTR_SE" suppress="1" combodataset="ds_devaFctrSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                <Cell col="4" displaytype="combo" edittype="combo" cssclass="Cellgrd_WF_AlignLeft" text="bind:DEVA_FACTOR_SE" combodataset="ds_devaFactorSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                <Cell col="5" displaytype="combo" edittype="combo" cssclass="Cellgrd_WF_AlignLeft" text="bind:IEM_SE" combodataset="ds_iemSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                <Cell col="6" edittype="normal" cssclass="Cellgrd_WF_AlignLeft" text="bind:DEVA_MATTER"/>
                                <Cell col="7" edittype="normal" editfilter="digit" text="bind:OUTPT_ORDR"/>
                                <Cell col="8" displaytype="checkbox" edittype="checkbox" text="bind:USE_AT"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                  <Tabpage id="tabpage2" text="평가항목별 배점">
                    <Layouts>
                      <Layout>
                        <Static id="Static06" taborder="7" text="5" visible="false" left="4" top="0" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
                        <Static id="Static09" taborder="0" onclick="Static03_onclick" cssclass="sta_WF_Title02" left="1" top="5" width="130" height="19" text="평가항목별 배점"/>
                        <Static id="Static02" taborder="11" text="5" onclick="Tab00_tabpage5_Static02_onclick" visible="false" left="0" top="24" width="1032" height="5" style="background:#dc143c3c;align:center middle;"/>
                        <Grid id="grd_tbhrmPerevaAllot" taborder="6" autoenter="select" useinputpanel="false" autofittype="col" left="1" top="29" right="1" bottom="1" binddataset="ds_tbhrmPerevaAllotList" oncellclick="div_work_tab_tbhrmPereva_tabpage2_grd_tbhrmPerevaAllot_oncellclick" onheadclick="div_work_tab_tbhrmPereva_tabpage2_grd_tbhrmPerevaAllot_onheadclick">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="27"/>
                                <Column size="40"/>
                                <Column size="115"/>
                                <Column size="198"/>
                                <Column size="574"/>
                                <Column size="76"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                                <Row size="24" band="summ"/>
                              </Rows>
                              <Band id="head">
                                <Cell rowspan="2" displaytype="checkbox" edittype="checkbox" text="0"/>
                                <Cell col="1" rowspan="2" text="순번"/>
                                <Cell col="2" colspan="2" text="평정항목"/>
                                <Cell col="4" text="평정세부항목"/>
                                <Cell col="5" rowspan="2" cssclass="Cellgrd_WF_HeadEssential" text="배점"/>
                                <Cell row="1" col="2" text="평정요인"/>
                                <Cell row="1" col="3" text="평정요소"/>
                                <Cell row="1" col="4" text="평정사항"/>
                              </Band>
                              <Band id="body">
                                <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                                <Cell col="1" text="expr:currow+1"/>
                                <Cell col="2" displaytype="combo" cssclass="Cellgrd_WF_AlignLeft" text="bind:DEVA_FCTR_SE" suppress="1" combodataset="ds_devaFctrSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                <Cell col="3" displaytype="combo" cssclass="Cellgrd_WF_AlignLeft" text="bind:DEVA_FACTOR_SE" combodataset="ds_devaFactorSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                <Cell col="4" displaytype="normal" cssclass="Cellgrd_WF_AlignLeft" text="bind:DEVA_MATTER"/>
                                <Cell col="5" edittype="normal" editfilter="digit" text="bind:DEVA_ALLOT"/>
                              </Band>
                              <Band id="summary">
                                <Cell/>
                                <Cell col="1"/>
                                <Cell col="2"/>
                                <Cell col="3"/>
                                <Cell col="4" text="계"/>
                                <Cell col="5" displaytype="number" style="align:center middle;" text="expr:dataset.getSum(&quot;DEVA_ALLOT&quot;)"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Static id="sta_stdrYear00" taborder="3" text="평정대상" cssclass="sta_WFSA_Label" top="5" width="64" height="19" right="107"/>
                        <Combo id="Combo00" taborder="4" top="5" width="106" height="19" right="1" innerdataset="@ds_trgetSe" datacolumn="CODE_NM" codecolumn="CODE"/>
                        <Static id="sta_stdrYear01" taborder="1" text="평정기준" cssclass="sta_WFSA_Label" top="5" width="64" height="19" right="292"/>
                        <Combo id="Combo01" taborder="2" top="5" width="106" height="19" right="186" innerdataset="@ds_stdrSe" datacolumn="CODE_NM" codecolumn="CODE"/>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                  <Tabpage id="tabpage3" text="평정설문">
                    <Layouts>
                      <Layout>
                        <Static id="Static06" taborder="2" text="5" visible="false" left="4" top="0" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
                        <Static id="Static02" taborder="3" text="5" onclick="Tab00_tabpage5_Static02_onclick" visible="false" left="0" top="24" width="1032" height="5" style="background:#dc143c3c;align:center middle;"/>
                        <Div id="Div00" taborder="5" left="0" top="0" bottom="0" width="76.43%">
                          <Layouts>
                            <Layout>
                              <Static id="Static09" taborder="2" text="평정설문내역" onclick="Static03_onclick" cssclass="sta_WF_Title02" left="1" top="5" width="130" height="19"/>
                              <Grid id="grd_perevaQustnrList" taborder="3" binddataset="ds_tbhrmPerevaQustnrList" useinputpanel="false" left="1" top="29" right="0" bottom="1" oncellclick="div_work_tab_tbhrmPereva_tabpage3_Div00_grd_perevaQustnrList_oncellclick" onheadclick="div_work_tab_tbhrmPereva_tabpage3_Div00_grd_perevaQustnrList_onheadclick">
                                <Formats>
                                  <Format id="default">
                                    <Columns>
                                      <Column size="29"/>
                                      <Column size="80"/>
                                      <Column size="80"/>
                                      <Column size="100"/>
                                      <Column size="498"/>
                                    </Columns>
                                    <Rows>
                                      <Row size="24" band="head"/>
                                      <Row size="24"/>
                                    </Rows>
                                    <Band id="head">
                                      <Cell displaytype="checkbox" edittype="checkbox" text="0"/>
                                      <Cell col="1" text="평정기준"/>
                                      <Cell col="2" text="평정대상"/>
                                      <Cell col="3" text="문항구분"/>
                                      <Cell col="4" text="문항"/>
                                    </Band>
                                    <Band id="body">
                                      <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                                      <Cell col="1" displaytype="combo" edittype="expr:dataset.getRowType(currow)=='2' ? &quot;combo&quot; : &quot;none&quot;" cssclass="Cellgrd_WF_AlignLeft" text="bind:STDR_SE" combodataset="ds_stdrSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                      <Cell col="2" displaytype="combo" edittype="expr:dataset.getRowType(currow)=='2' ? &quot;combo&quot; : &quot;none&quot;" cssclass="Cellgrd_WF_AlignLeft" text="bind:TRGET_SE" combodataset="ds_trgetSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                      <Cell col="3" displaytype="combo" edittype="combo" cssclass="Cellgrd_WF_AlignLeft" text="bind:QESITM_SE" combodataset="ds_iemSe" combocodecol="CODE" combodatacol="CODE_NM"/>
                                      <Cell col="4" edittype="normal" cssclass="Cellgrd_WF_AlignLeft" text="bind:QESITM_CN"/>
                                    </Band>
                                  </Format>
                                </Formats>
                              </Grid>
                              <Button id="btn_RowInsert1" taborder="4" text="행추가" onclick="fn_rowInsert" cssclass="btn_WF_Gridadd" top="5" right="133" width="64" height="19"/>
                              <Button id="btn_RowDelete1" taborder="5" text="행삭제" onclick="fn_rowDelete" cssclass="btn_WF_Griddel" top="5" right="67" width="64" height="19"/>
                              <Button id="btn_RowCancel1" taborder="6" text="행취소" onclick="fn_rowCancel" cssclass="btn_WF_Gridcnl" top="5" right="1" width="64" height="19"/>
                            </Layout>
                          </Layouts>
                        </Div>
                        <Div id="Div01" taborder="6" text="Div01" left="77.4%" top="0" right="1" bottom="0">
                          <Layouts>
                            <Layout>
                              <Grid id="grd_perevaQustnrR" taborder="0" binddataset="ds_tbhrmPerevaQustnrR" useinputpanel="false" left="0" top="29" right="0" bottom="1">
                                <Formats>
                                  <Format id="default">
                                    <Columns>
                                      <Column size="40"/>
                                      <Column size="192"/>
                                    </Columns>
                                    <Rows>
                                      <Row size="24" band="head"/>
                                      <Row size="24"/>
                                    </Rows>
                                    <Band id="head">
                                      <Cell text="순번"/>
                                      <Cell col="1" text="답변 보기"/>
                                    </Band>
                                    <Band id="body">
                                      <Cell text="expr:currow+1"/>
                                      <Cell col="1" edittype="normal" cssclass="Cellgrd_WF_AlignLeft" text="bind:EX_CN"/>
                                    </Band>
                                  </Format>
                                </Formats>
                              </Grid>
                              <Button id="btn_RowInsert2" taborder="1" text="행추가" onclick="fn_rowInsert" cssclass="btn_WF_Gridadd" top="5" right="133" width="64" height="19"/>
                              <Button id="btn_RowDelete2" taborder="2" text="행삭제" onclick="fn_rowDelete" cssclass="btn_WF_Griddel" top="5" right="67" width="64" height="19"/>
                              <Button id="btn_RowCancel2" taborder="3" text="행취소" onclick="fn_rowCancel" cssclass="btn_WF_Gridcnl" top="5" right="1" width="64" height="19"/>
                            </Layout>
                          </Layouts>
                        </Div>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                </Tabpages>
              </Tab>
            </Layout>
          </Layouts>
        </Div>
        <Button id="btn_odrCopy" taborder="5" text="직전차수 복사" onclick="fn_odrCopy" cssclass="btn_WF_Process" top="47" right="29" width="105" height="19"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="div_search.spn_EMPMN_YEAR" propid="value" datasetid="ds_cond00" columnid="DEVA_YEAR"/>
      <BindItem id="item1" compid="div_search.cmb_odrSe" propid="value" datasetid="ds_cond00" columnid="ODR_SE"/>
      <BindItem id="item2" compid="div_work.tab_tbhrmPereva.tabpage2.Combo01" propid="value" datasetid="ds_cond01" columnid="STDR_SE"/>
      <BindItem id="item3" compid="div_work.tab_tbhrmPereva.tabpage2.Combo00" propid="value" datasetid="ds_cond01" columnid="TRGET_SE"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="false" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" cancolumnchange="ds_cond00_cancolumnchange" oncolumnchanged="ds_cond00_oncolumnchanged">
        <ColumnInfo>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tbhrmPerevaIemList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
          <Column id="STDR_SE" type="STRING" size="256"/>
          <Column id="TRGET_SE" type="STRING" size="256"/>
          <Column id="DEVA_FCTR_SE" type="STRING" size="256"/>
          <Column id="DEVA_FACTOR_SE" type="STRING" size="256"/>
          <Column id="IEM_SE" type="STRING" size="256"/>
          <Column id="DEVA_MATTER" type="STRING" size="256"/>
          <Column id="OUTPT_ORDR" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="DEVA_ALLOT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_stdrSe" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_devaFctrSe" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_devaFactorSe" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_iemSe" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tbhrmPerevaAllotList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_tbhrmPerevaAllotList_oncolumnchanged">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
          <Column id="STDR_SE" type="STRING" size="256"/>
          <Column id="TRGET_SE" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="DEVA_FCTR_SE" type="STRING" size="256"/>
          <Column id="DEVA_FACTOR_SE" type="STRING" size="256"/>
          <Column id="DEVA_MATTER" type="STRING" size="256"/>
          <Column id="DEVA_ALLOT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="false" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" cancolumnchange="ds_cond01_cancolumnchange" oncolumnchanged="ds_cond01_oncolumnchanged">
        <ColumnInfo>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
          <Column id="STDR_SE" type="STRING" size="256"/>
          <Column id="TRGET_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tbhrmPerevaQustnrList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_tbhrmPerevaQustnrList_onrowposchanged">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
          <Column id="STDR_SE" type="STRING" size="256"/>
          <Column id="TRGET_SE" type="STRING" size="256"/>
          <Column id="QESITM_SE" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="QESITM_CN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tbhrmPerevaQustnrR" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
          <Column id="STDR_SE" type="STRING" size="256"/>
          <Column id="TRGET_SE" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
          <Column id="EX_CN" type="STRING" size="256"/>
          <Column id="EX_SEQ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
          <Column id="STDR_SE" type="STRING" size="256"/>
          <Column id="TRGET_SE" type="STRING" size="256"/>
          <Column id="SEQ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond03" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEVA_YEAR" type="STRING" size="256"/>
          <Column id="ODR_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_tbhrmPerevaIemList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">평정기준</Col>
            <Col id="colId">STDR_SE</Col>
            <Col id="PK"/>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaIemList</Col>
            <Col id="colId">TRGET_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">평정대상</Col>
            <Col id="PK"/>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaIemList</Col>
            <Col id="msgId">평정요인</Col>
            <Col id="colId">DEVA_FCTR_SE</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaIemList</Col>
            <Col id="msgId">평정요소</Col>
            <Col id="colId">DEVA_FACTOR_SE</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaIemList</Col>
            <Col id="msgId">항목구분</Col>
            <Col id="colId">IEM_SE</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaIemList</Col>
            <Col id="msgId">평정사항</Col>
            <Col id="colId">DEVA_MATTER</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaQustnrList</Col>
            <Col id="colId">STDR_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">평정기준</Col>
            <Col id="PK"/>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaQustnrList</Col>
            <Col id="colId">TRGET_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">평정대상</Col>
            <Col id="PK"/>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaQustnrList</Col>
            <Col id="colId">QESITM_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">문항구분</Col>
            <Col id="PK"/>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaQustnrList</Col>
            <Col id="colId">QESITM_CN</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">문항</Col>
            <Col id="to"/>
            <Col id="PK"/>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="lengthChkGb"/>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_tbhrmPerevaQustnrR</Col>
            <Col id="notNull">Y</Col>
            <Col id="colId">EX_CN</Col>
            <Col id="msgId">답변보기</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_odrSe" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_curOdrInfo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUR_DEVA_YEAR" type="STRING" size="256"/>
          <Column id="CUR_ODR_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_trgetSe" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_qesitmSe" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="GRP_CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
          <Column id="CODE_ORDR" type="STRING" size="256"/>
          <Column id="VAL0" type="STRING" size="256"/>
          <Column id="VAL1" type="STRING" size="256"/>
          <Column id="VAL2" type="STRING" size="256"/>
          <Column id="VAL3" type="STRING" size="256"/>
          <Column id="VAL4" type="STRING" size="256"/>
          <Column id="INT_VAL" type="STRING" size="256"/>
          <Column id="MSTK_VAL" type="STRING" size="256"/>
          <Column id="ETC1" type="STRING" size="256"/>
          <Column id="ETC2" type="STRING" size="256"/>
          <Column id="ETC3" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 업무구분 : MIS > 인사관리 > 근무평정기준정보
 * 화면ID   : HRM060101
 * 화면명   : 근무평정기준정보
 * 화면설명 : 근무평정기준정보를 관리한다.
 * 작성일   : 2015.09.21
 * 작성자   : 이혜선
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    
 *   
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ***********************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";
/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
 this.checkDs = [
  this.ds_tbhrmPerevaIemList
,this.ds_tbhrmPerevaAllotList
];
this.saveRow = -1;
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.HRM060101_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init_form();
	this.fn_init_dataset();
}
this.HRM060101_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_loadCombo();
}

/***********************************************************************
 * Form 오브젝트 초기화
 ***********************************************************************/ 
this.fn_init_form = function()
{
	this.gfn_initForm(this);
	this.fn_misFormInit(this);
}

/***********************************************************************
 * Dataset 오브젝트 초기화
 ***********************************************************************/ 
this.fn_init_dataset = function()
{
	this.gfn_initCondDs(this, this.div_search);
}

/***********************************************************************
* Transaction 영역 시작
************************************************************************/

/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/
  /*
 * 함수명  	: fn_init_current
 * 설명 		: get 평가차수
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_init_current();
 */
this.fn_init_current = function()
{
	this.ds_curOdrInfo.clearData();
	this.fn_transaction("selectCurDevaOdrInfo");
}

  /*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
this.fn_loadCombo = function ()
{
	var comboParams = [
			["ds_odrSe", "_HRM223", "1", ""] //평정차수구분
			,["ds_stdrSe", "_HRM224", "1", ""] //평정기준구분
			,["ds_trgetSe", "_HRM225", "1", ""] //평정대상구분
			,["ds_devaFctrSe", "_HRM226", "1", ""] //평정요인구분
			,["ds_devaFactorSe", "_HRM227", "1", ""] //평정요소구분
			,["ds_iemSe", "_HRM228", "1", ""] //항목구분
		];
	
	this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
}

/*
 * 함수명  	: fn_callbackAfter
 * 설명 		: callback 처리 후
 * params  		: None
 * return Type 	: None
 * 사용법		: this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
 */
this.fn_callbackAfter = function ()
{
	this.fn_init_current();
	this.ds_stdrSe.filter("VAL0=='A'");
}

/*
 * 함수명  	: fn_search
 * 설명 		: 근무평정기준정보 조회 이벤트 처리     
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function(){
	
	if(this.div_work.tab_tbhrmPereva.tabindex == 0)//평가항목 탭
	{	
		this.ds_tbhrmPerevaIemList.clearData();
		this.fn_transaction("selectTbhrmPerevaIemList");
	}
	else if(this.div_work.tab_tbhrmPereva.tabindex == 1)//평가항목별 배점 탭
	{
// 		this.ds_stdrSe.setColumn(0,"CODE","");
// 		this.ds_trgetSe.setColumn(0,"CODE","");
// 		alert(this.ds_stdrSe.saveXML());
//  		this.ds_cond01.setColumn(0,"STDR_SE",'001');
//  		this.ds_cond01.setColumn(0,"TRGET_SE",'001');
// 		this.ds_cond01.setColumn(0,"DEVA_YEAR",this.ds_cond00.getColumn(0,"DEVA_YEAR"));
// 		this.ds_cond01.setColumn(0,"ODR_SE",this.ds_cond00.getColumn(0,"ODR_SE"));
// 		alert(this.ds_cond01.saveXML());
	this.ds_cond01.setColumn(0,"DEVA_YEAR",this.ds_cond00.getColumn(0,"DEVA_YEAR"));
	this.ds_cond01.setColumn(0,"ODR_SE",this.ds_cond00.getColumn(0,"ODR_SE"));
		this.ds_tbhrmPerevaAllotList.clearData();
		this.fn_transaction("selectTbhrmPerevaAllotList");	
	}
	else if(this.div_work.tab_tbhrmPereva.tabindex == 2)//평정설문 탭
	{
		this.ds_tbhrmPerevaQustnrList.clearData();
		this.ds_tbhrmPerevaQustnrR.clearData();
		this.fn_transaction("selectTbhrmPerevaQustnrList");			
	}
}

/*
 * 함수명  	: div_work_tab_tbhrmPereva_onchanged
 * 설명 		: 탭페이지 변경 후 조회 처리           
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_tab_tbhrmPereva_onchanged();
 */
this.div_work_tab_tbhrmPereva_onchanged = function(obj:Tab, e:nexacro.TabIndexChangeEventInfo)
{
	this.ds_cond01.setColumn(0,"DEVA_YEAR",this.ds_cond00.getColumn(0,"DEVA_YEAR"));
	this.ds_cond01.setColumn(0,"ODR_SE",this.ds_cond00.getColumn(0,"ODR_SE"));
	
	if(this.div_work.tab_tbhrmPereva.tabindex == 0)//평가항목 탭
	{	
		
		this.ds_stdrSe.filter("VAL0=='A'");
		this.ds_tbhrmPerevaAllotList.clearData();
		this.ds_tbhrmPerevaQustnrList.clearData();
		this.ds_tbhrmPerevaQustnrR.clearData();
		
		this.ds_tbhrmPerevaIemList.clearData();
		this.fn_transaction("selectTbhrmPerevaIemList");
	}
	else if(this.div_work.tab_tbhrmPereva.tabindex == 1)//평가항목별 배점 탭
	{
		this.ds_stdrSe.filter("VAL0=='A'");
		this.ds_tbhrmPerevaIemList.clearData();
		this.ds_tbhrmPerevaQustnrList.clearData();
		this.ds_tbhrmPerevaQustnrR.clearData();
		//this.ds_cond01.clearData();
		//var nRow = this.ds_cond01.addRow();
 		//this.ds_cond01.setColumn(0,"STDR_SE","");
 		//this.ds_cond01.setColumn(0,"TRGET_SE","");
 		//this.div_work.tab_tbhrmPereva.tabpage2.Combo01.set_index(0);
 		//this.div_work.tab_tbhrmPereva.tabpage2.Combo00.set_index(0);
// 		this.ds_cond01.setColumn(nRow,"DEVA_YEAR",this.ds_cond00.getColumn(0,"DEVA_YEAR"));
// 		this.ds_cond01.setColumn(nRow,"ODR_SE",this.ds_cond00.getColumn(0,"ODR_SE"));
		this.ds_tbhrmPerevaAllotList.clearData();
		this.fn_transaction("selectTbhrmPerevaAllotList");			
	}
	else if(this.div_work.tab_tbhrmPereva.tabindex == 2)//평정설문 탭
	{
		this.ds_stdrSe.filter("VAL0=='B'");
		this.ds_tbhrmPerevaIemList.clearData();
		this.ds_tbhrmPerevaAllotList.clearData();
		this.ds_tbhrmPerevaQustnrList.clearData();
		this.ds_tbhrmPerevaQustnrR.clearData();
		this.fn_transaction("selectTbhrmPerevaQustnrList");			
	}
}

/*
 * 함수명  	: fn_save
 * 설명 		: 저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{
	// 데이터셋 수정 여부체크
	if (!this.comUtils.isDatasetUpdated(this.ds_tbhrmPerevaIemList) && !this.comUtils.isDatasetUpdated(this.ds_tbhrmPerevaAllotList) && !this.comUtils.isDatasetUpdated(this.ds_tbhrmPerevaQustnrList) && !this.comUtils.isDatasetUpdated(this.ds_tbhrmPerevaQustnrR)){
		this.gfn_message("comm.데이터.변경.없음");
		return false;
	}
	// validation 체크(평가항목)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_tbhrmPerevaIemList, this.ds_validation)) {
		return;
	}
	// validation 체크(평정설문내역)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_tbhrmPerevaQustnrList, this.ds_validation)) {
		return;
	}
	// validation 체크(평정설문답변)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_tbhrmPerevaQustnrR, this.ds_validation)) {
		return;
	}
	if(this.gfn_message("confirm.저장.여부"))	{
		this.saveRow = this.ds_tbhrmPerevaAllotList.rowposition;
		this.fn_transaction("saveTbhrmPerevaList");
	}
}

/*
 * 함수명  	: ds_tbhrmPerevaQustnrList_onrowposchanged
 * 설명 		: 평정설문탭 평정설문문항 데이터셋 row변경시              
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_tbhrmPerevaQustnrList_onrowposchanged();
 */
this.ds_tbhrmPerevaQustnrList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(this.ds_tbhrmPerevaQustnrList.getRowCount() != 0){
		this.ds_cond02.clearData();
		var nRow = this.ds_cond02.addRow();
		this.ds_cond02.setColumn(nRow,"DEVA_YEAR",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"DEVA_YEAR"));
		this.ds_cond02.setColumn(nRow,"ODR_SE",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"ODR_SE"));
		this.ds_cond02.setColumn(nRow,"STDR_SE",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"STDR_SE"));
		this.ds_cond02.setColumn(nRow,"TRGET_SE",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"TRGET_SE"));
		this.ds_cond02.setColumn(nRow,"SEQ",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"SEQ"));
		this.ds_tbhrmPerevaQustnrR.clearData();
		this.fn_transaction("selectTbhrmPerevaQustnrR");
	}
}

/*
 * 함수명  	: fn_odrCopy
 * 설명 		: 직전차수복사             
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_odrCopy();
 */
this.fn_odrCopy = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var tabIndex = this.div_work.tab_tbhrmPereva.tabindex;
	if(tabIndex == '0') //평가항목 탭
	{
		if (this.gfn_message("confirm.삭제.진행","직전차수의 평가항목정보를 이관하여 자료를 생성하기 위해서\n현재 저장된 정보는 삭제됩니다.")) {
			var yr = this.div_search.spn_EMPMN_YEAR.value;
			
			if(this.div_search.cmb_odrSe.value==1){
				this.ds_cond03.clearData();
				var nRow = this.ds_cond03.addRow();
				this.ds_cond03.setColumn(nRow,"DEVA_YEAR",parseInt(yr)-1);
				this.ds_cond03.setColumn(nRow,"ODR_SE","2");
			}
			else if(this.div_search.cmb_odrSe.value==2){
				this.ds_cond03.clearData();
				var nRow = this.ds_cond03.addRow();
				this.ds_cond03.setColumn(nRow,"DEVA_YEAR",yr);
				this.ds_cond03.setColumn(nRow,"ODR_SE","1");
			}
			this.fn_transaction("CopyTbhrmPerevaIemList");
			return;
		}		
	}
	else if(tabIndex == '1') //평가항목별 배점 탭
	{
		if (this.gfn_message("confirm.삭제.진행","직전차수의 평가항목정보를 이관하여 자료를 생성하기 위해서\n현재 저장된 정보는 삭제됩니다.")) {
			var yr = this.div_search.spn_EMPMN_YEAR.value;
			
			if(this.div_search.cmb_odrSe.value==1){
				this.ds_cond03.clearData();
				var nRow = this.ds_cond03.addRow();
				this.ds_cond03.setColumn(nRow,"DEVA_YEAR",parseInt(yr)-1);
				this.ds_cond03.setColumn(nRow,"ODR_SE","2");
			}
			else if(this.div_search.cmb_odrSe.value==2){
				this.ds_cond03.clearData();
				var nRow = this.ds_cond03.addRow();
				this.ds_cond03.setColumn(nRow,"DEVA_YEAR",yr);
				this.ds_cond03.setColumn(nRow,"ODR_SE","1");
			}
			this.fn_transaction("CopyTbhrmPerevaIemList");
			return;
		}	
	}
	else if(tabIndex == '2')//평정설문 탭
	{
		if (this.gfn_message("confirm.삭제.진행","직전차수의 평가항목정보를 이관하여 자료를 생성하기 위해서\n현재 저장된 정보는 삭제됩니다.")) {
			var yr = this.div_search.spn_EMPMN_YEAR.value;
			
			if(this.div_search.cmb_odrSe.value==1){
				this.ds_cond03.clearData();
				var nRow = this.ds_cond03.addRow();
				this.ds_cond03.setColumn(nRow,"DEVA_YEAR",parseInt(yr)-1);
				this.ds_cond03.setColumn(nRow,"ODR_SE","2");
			}
			else if(this.div_search.cmb_odrSe.value==2){
				this.ds_cond03.clearData();
				var nRow = this.ds_cond03.addRow();
				this.ds_cond03.setColumn(nRow,"DEVA_YEAR",yr);
				this.ds_cond03.setColumn(nRow,"ODR_SE","1");
			}
			this.fn_transaction("CopyTbhrmPerevaQustnrList");
			return;
		}	
	}
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "selectCurDevaOdrInfo": // GET 현재 평가차수(평가연도&차수)
			var sController   	= "hsco/mis/hrm/HRMCommon/selectCurDevaOdrInfo.do";
			var sInDatasets   	= "";
			var sOutDatasets  	= "ds_curOdrInfo=output1";
			break;	
		case "selectTbhrmPerevaIemList": // 평가항목 탭조회
			var sController   	= "hsco/mis/hrm/HRM060101/tbhrmPerevaIemList.do";
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_tbhrmPerevaIemList=output1";
			break;
		case "selectTbhrmPerevaAllotList": //평가항목별 배점 탭조회
			var sController   	= "hsco/mis/hrm/HRM060101/tbhrmPerevaAllotList.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_tbhrmPerevaAllotList=output1";
			break;
		case "selectTbhrmPerevaQustnrList": //평정설문 탭조회
			var sController   	= "hsco/mis/hrm/HRM060101/tbhrmPerevaQustnrList.do";
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_tbhrmPerevaQustnrList=output1";
			break;
		case "selectTbhrmPerevaQustnrR": //평정설문 탭 답변조회
			var sController   	= "hsco/mis/hrm/HRM060101/tbhrmPerevaQustnrR.do";
			var sInDatasets   	= "input1=ds_cond02";
			var sOutDatasets  	= "ds_tbhrmPerevaQustnrR=output1";
			break;
		case "saveTbhrmPerevaList": // 저장하기
			var sController   	= "hsco/mis/hrm/HRM060101/tbhrmPerevaCUD.do";
			var sInDatasets   	= "input1=ds_tbhrmPerevaIemList:U input2=ds_tbhrmPerevaAllotList:U input3=ds_tbhrmPerevaQustnrList:U input4=ds_tbhrmPerevaQustnrR:U";
			var sOutDatasets  	= "";
			break;
		case "CopyTbhrmPerevaIemList": //평가항목 탭 직전차수복사
			var sController   	= "hsco/mis/hrm/HRM060101/copyTbhrmPerevaIemList.do";
			var sInDatasets   	= "input1=ds_cond03";
			var sOutDatasets  	= "";
			break;
		case "CopyTbhrmPerevaAllotList": //평가항목별배점 탭 직전차수복사
			var sController   	= "hsco/mis/hrm/HRM060101/copyTbhrmPerevaAllotList.do";
			var sInDatasets   	= "input1=ds_cond03";
			var sOutDatasets  	= "";
			break;
		case "CopyTbhrmPerevaQustnrList": //평정설문 탭 직전차수복사
			var sController   	= "hsco/mis/hrm/HRM060101/copyTbhrmPerevaQustnrList.do";
			var sInDatasets   	= "input1=ds_cond03";
			var sOutDatasets  	= "";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}

 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{	
	// 오류 및 성공 메시지를 화면에 보여준다.
	if(nErrorCode != 0) {
	  this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	}
	if (nErrorCode != 0){
	} else {
		switch (strSvcId) {				
			case "selectCurDevaOdrInfo": // GET 현재 평가차수(평가연도&차수)
				this.fn_setCurOdrInfo();	
				break;	
 			case "saveTbhrmPerevaList": // 저장하기
				this.gfn_message("success.처리.성공");
				this.fn_search();
 				break;
 			case "CopyTbhrmPerevaIemList": //평가항목 탭 직전차수복사
				this.fn_search();
 				break;
 			case "CopyTbhrmPerevaAllotList": //평가항목별배점 탭 직전차수복사
				this.fn_search();
 				break;
			case "CopyTbhrmPerevaQustnrList": //평정설문 탭 직전차수복사
				this.fn_search();
 				break;
 		case "selectTbhrmPerevaAllotList": //평가항목별 배점 탭조회
			if(this.saveRow > -1){
				this.ds_tbhrmPerevaAllotList.set_rowposition(this.saveRow);
				this.saveRow = -1;
			}	
			break;
		}
	}
}


/***********************************************************************
* Transaction 영역 끝
************************************************************************/
/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 *********************************** ************************************/
  /*
 * 함수명  	: fn_setCurOdrInfo
 * 설명 		: 현재평가차수 set
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_setCurOdrInfo();
 */
this.fn_setCurOdrInfo = function()
{
	this.ds_cond00.set_enableevent(true);
	if (this.ds_curOdrInfo.rowcount == 1 ){	
		var sCurDevaYear = this.ds_curOdrInfo.getColumn(0,"CUR_DEVA_YEAR");
		var sCurOdrSe 	= this.ds_curOdrInfo.getColumn(0,"CUR_ODR_SE");
				
		if(this.comUtils.isNull(sCurDevaYear) || this.comUtils.isNull(sCurOdrSe) ) {
			return false;
		}else{
			this.ds_cond00.set_enableevent(false);
			this.ds_cond00.setColumn(0,"DEVA_YEAR",sCurDevaYear);
			this.ds_cond00.setColumn(0,"ODR_SE",sCurOdrSe);
			this.ds_cond00.set_enableevent(true);
		}		
	}else{
		return false;
	}
	this.ds_cond01.set_enableevent(false);
	this.ds_cond01.clearData();
	var nRow = this.ds_cond01.addRow();
	this.ds_cond01.setColumn(0,"STDR_SE",this.ds_stdrSe.getColumn(0,"CODE"));
	this.ds_cond01.setColumn(0,"TRGET_SE",this.ds_trgetSe.getColumn(0,"CODE"));
	this.ds_cond01.setColumn(nRow,"DEVA_YEAR",this.ds_cond00.getColumn(0,"DEVA_YEAR"));
	this.ds_cond01.setColumn(nRow,"ODR_SE",this.ds_cond00.getColumn(0,"ODR_SE"));
	this.ds_cond01.set_enableevent(true);
	this.fn_search();
}

/*
 * 함수명  	: fn_rowInsert
 * 설명 		: 행추가버튼 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_rowInsert();
 */
this.fn_rowInsert = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(obj.name=="btn_RowInsert0")
	{
		var nRow = this.ds_tbhrmPerevaIemList.addRow();
		this.ds_tbhrmPerevaIemList.setColumn(nRow,"DEVA_YEAR",this.div_search.spn_EMPMN_YEAR.value);
		this.ds_tbhrmPerevaIemList.setColumn(nRow,"ODR_SE",this.div_search.cmb_odrSe.value);
	}
	else if(obj.name=="btn_RowInsert1")
	{
		this.ds_tbhrmPerevaQustnrR.clearData();
		var nRow = this.ds_tbhrmPerevaQustnrList.addRow();
		this.ds_tbhrmPerevaQustnrList.setColumn(nRow,"DEVA_YEAR",this.div_search.spn_EMPMN_YEAR.value);
		this.ds_tbhrmPerevaQustnrList.setColumn(nRow,"ODR_SE",this.div_search.cmb_odrSe.value);
	}
	else if(obj.name=="btn_RowInsert2")
	{
		if(!this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition, "SEQ")) {
			this.gfn_message("info.처리불가", "평정문항을 저장한 후\n답변을 추가할 수 있습니다.");
		}
		else{
			var nRow = this.ds_tbhrmPerevaQustnrR.addRow();
			this.ds_tbhrmPerevaQustnrR.setColumn(nRow,"DEVA_YEAR",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"DEVA_YEAR"));
			this.ds_tbhrmPerevaQustnrR.setColumn(nRow,"ODR_SE",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"ODR_SE"));
			this.ds_tbhrmPerevaQustnrR.setColumn(nRow,"STDR_SE",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"STDR_SE"));
			this.ds_tbhrmPerevaQustnrR.setColumn(nRow,"TRGET_SE",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"TRGET_SE"));
			this.ds_tbhrmPerevaQustnrR.setColumn(nRow,"SEQ",this.ds_tbhrmPerevaQustnrList.getColumn(this.ds_tbhrmPerevaQustnrList.rowposition,"SEQ"));
		}
	}
}

/*
 * 함수명  	: fn_rowDelete
 * 설명 		: 삭제버튼 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_rowDelete();
 */
this.fn_rowDelete = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(obj.name=="btn_RowDelete0") //평가항목 탭
	{
		this.gfn_delMultiRow(this.ds_tbhrmPerevaIemList);
	}
	else if(obj.name=="btn_RowDelete1") //평정설문 탭 설문그리드
	{
		this.gfn_delMultiRow(this.ds_tbhrmPerevaQustnrList);
	}
	else if(obj.name=="btn_RowDelete2")//평정설문 탭 답변그리드
	{
		this.ds_tbhrmPerevaQustnrR.deleteRow(this.ds_tbhrmPerevaQustnrR.rowposition);
	}
}

/*
 * 함수명  	: fn_rowCancel
 * 설명 		: 행취소버튼 처리              
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_rowCancel();
 */
this.fn_rowCancel= function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(obj.name=="btn_RowCancel0") //평가항목 탭
	{
		if (this.gfn_message("confirm.취소여부")) {
			this.ds_tbhrmPerevaIemList.reset();
			this.ds_tbhrmPerevaIemList.applyChange();
			return;
		}	
	}
	else if(obj.name=="btn_RowCancel1") //평정설문 탭 설문그리드
	{
		if (this.gfn_message("confirm.취소여부")) {
			this.ds_tbhrmPerevaQustnrList.reset();
			this.ds_tbhrmPerevaQustnrList.applyChange();
			return;
		}	
	}
	else if(obj.name=="btn_RowCancel2")//평정설문 탭 답변그리드
	{
		if (this.gfn_message("confirm.취소여부")) {
			this.ds_tbhrmPerevaQustnrR.reset();
			this.ds_tbhrmPerevaQustnrR.applyChange();
			return;
		}	
	}
}

 /*
 * 함수명  	: div_work_tab_tbhrmPereva_canchange
 * 설명 		: 탭변경 전 업데이트 체크
 *                
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_tab_tbhrmPereva_canchange();
 */
this.div_work_tab_tbhrmPereva_canchange = function(obj:Tab, e:nexacro.TabIndexChangeEventInfo)
{
	if(!this.fn_check()){
		return false;
	}		
}

/***********************************************************************
* 사용자 정의 함수
************************************************************************/
 /*
 * 함수명  	: fn_check
 * 설명 		: 변경사항 저장 체크 함수               
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_check();
 */
this.fn_check= function()
{	
	if(Ex.util.isUpdated(this.ds_tbhrmPerevaIemList)||Ex.util.isUpdated(this.ds_tbhrmPerevaAllotList)||Ex.util.isUpdated(this.ds_tbhrmPerevaQustnrList)||Ex.util.isUpdated(this.ds_tbhrmPerevaQustnrR)) {
		if(!this.gfn_message("confirm.변경.취소.여부")){
			return false; //아니오	
		}
		else{
			return true;
		}
	}else{
		return true;
	}
}

/*
 * 함수명  	: ds_cond00_cancolumnchange
 * 설명 		: 검색조건 변경 전 update check      
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cond00_cancolumnchange();
 */
this.ds_cond00_cancolumnchange = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "DEVA_YEAR") {
		if(!this.fn_check()){
		return false;
		}
	}
	if(e.columnid == "ODR_SE") {
		if(!this.fn_check()){
			return false;
		}
	}
	this.ds_tbhrmPerevaIemList.clearData();
	this.ds_tbhrmPerevaAllotList.clearData();
}

/*
 * 함수명  	: ds_cond01_cancolumnchange
 * 설명 		: 검색조건 변경 전 update check      
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cond01_cancolumnchange();
 */
this.ds_cond01_cancolumnchange = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "STDR_SE") {
		if(!this.fn_check()){
		return false;
		}
	}
	if(e.columnid == "TRGET_SE") {
		if(!this.fn_check()){
			return false;
		}
	}
	this.ds_tbhrmPerevaAllotList.clearData();
}

/*
 * 함수명  	: ds_cond00_oncolumnchanged
 * 설명 		: 검색조건 데이터셋 컬럼 변경시
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cond00_oncolumnchanged();
 */
this.ds_cond00_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "DEVA_YEAR") {
		this.fn_search();
	}
	if(e.columnid == "ODR_SE") {
		this.fn_search();
	}
}

/*
 * 함수명  	: ds_cond01_oncolumnchanged
 * 설명 		: 검색조건 데이터셋 컬럼 변경시
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cond01_oncolumnchanged();
 */
this.ds_cond01_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "STDR_SE") {
		this.fn_search();
	}
	if(e.columnid == "TRGET_SE") {
		this.fn_search();
	}
}

/*
 * 함수명  	: div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_oncellclick
 * 설명 		: 체크 전체해제
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_oncellclick();
 */
this.div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.cell == 0) {
		obj.setCellProperty("Head", e.cell, "text", "0");
	}
}

/*
 * 함수명  	: div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_onheadclick
 * 설명 		: 헤드클릭 정렬, 체크박스 전체전택
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_onheadclick();
 */
this.div_work_tab_tbhrmPereva_tabpage1_grd_tbhrmPerevaIemList_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 0) {
		this.gfn_setGridCheckAll(obj, e);
	}	
	this.gfn_gridSort(obj, e);
}

this.div_work_tab_tbhrmPereva_tabpage2_grd_tbhrmPerevaAllot_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 0) {
		this.gfn_setGridCheckAll(obj, e);
	}	
	this.gfn_gridSort(obj, e);
}

this.div_work_tab_tbhrmPereva_tabpage2_grd_tbhrmPerevaAllot_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.cell == 0) {
		obj.setCellProperty("Head", e.cell, "text", "0");
	}
}

this.div_work_tab_tbhrmPereva_tabpage3_Div00_grd_perevaQustnrList_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 0) {
		this.gfn_setGridCheckAll(obj, e);
	}	
	this.gfn_gridSort(obj, e);
}

this.div_work_tab_tbhrmPereva_tabpage3_Div00_grd_perevaQustnrList_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.cell == 0) {
		obj.setCellProperty("Head", e.cell, "text", "0");
	}
	
}

this.ds_tbhrmPerevaAllotList_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{

	if(e.columnid=="DEVA_ALLOT"){
		if(obj.getColumn(obj.rowposition,"STDR_SE")=="001")
		{
			if(obj.getSum("DEVA_ALLOT") > 70){
				obj.setColumn(e.row, e.columnid, e.oldvalue);
				this.gfn_message("info.처리불가","평정배점 합계는\n70점 이내여야 합니다.");
			}
 		}
		if(obj.getColumn(obj.rowposition,"STDR_SE")=="002")//다면평가
		{
			if(obj.getSum("DEVA_ALLOT") > 20){
				obj.setColumn(e.row, e.columnid, e.oldvalue);
				this.gfn_message("info.처리불가","다면평가의 평정배점 합계는\n20점 이내여야 합니다.");
			}
		}	
	}
}
]]></Script>
  </Form>
</FDL>
