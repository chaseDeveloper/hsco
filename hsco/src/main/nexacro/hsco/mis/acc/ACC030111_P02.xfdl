<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="ACC030111_P02" classname="ACC030111_P02" left="0" top="0" width="630" height="271" titletext="기타증빙전표발행" onload="ACC030111_P02_onload" oninit="ACC030111_P02_oninit">
    <Layouts>
      <Layout>
        <Static id="Static00" taborder="5" cssclass="sta_WF_PopupBg" left="0" top="0" width="630" height="271"/>
        <Button id="btn_Close" taborder="2" text="닫기" onclick="btn_Close_onclick" top="17" width="50" height="25" cssclass="btn_WF_CRUD" right="17"/>
        <Div id="div_Cont" taborder="4" left="17" top="47" bottom="14" right="17" style="background:beige;">
          <Layouts>
            <Layout>
              <Static id="Static04" taborder="21" cssclass="sta_WF_Labelbg" left="99" top="130" right="0" height="27"/>
              <Static id="sta_pblicteDe" taborder="0" text="발행일자" cssclass="sta_WF_Label" left="0" width="100" height="27" top="0"/>
              <Static id="Static05" taborder="1" cssclass="sta_WF_Labelbg" left="99" height="27" top="0" right="0"/>
              <Static id="sta_rprsntvNm" taborder="2" text="대표자명" cssclass="sta_WF_Label" left="0" top="26" width="100" height="27"/>
              <Static id="Static00" taborder="3" cssclass="sta_WF_Labelbg" left="99" top="26" height="27" right="0"/>
              <Static id="sta_billKnd" taborder="4" text="계산서종류" cssclass="sta_WF_Label" left="0" top="52" width="100" height="27"/>
              <Static id="Static01" taborder="5" cssclass="sta_WF_Labelbg" left="99" top="52" height="27" right="0"/>
              <Static id="sta_suplyAmount" taborder="6" text="공급가액" cssclass="sta_WF_Label" left="0" top="78" width="100" height="27"/>
              <Static id="Static02" taborder="7" cssclass="sta_WF_Labelbg" left="99" top="78" height="27" right="0"/>
              <Static id="sta_rqestRcptSe" taborder="8" text="영수/청구" cssclass="sta_WF_Label" left="0" top="104" width="100" height="27"/>
              <Static id="Static03" taborder="9" cssclass="sta_WF_Labelbg" left="99" top="104" height="27" right="0"/>
              <Edit id="edt_prvcntrEntrpsCode" taborder="10" readonly="true" cssclass="edt_WF_Essential" left="349" top="3" width="88" height="21"/>
              <Button id="btn_bcncPopup" taborder="11" cssclass="btn_WF_Search" left="416" top="3" width="21" height="21" onclick="div_Cont_btn_bcncPopup_onclick"/>
              <Edit id="edt_prvcntrEntrpsNm" taborder="12" readonly="true" cssclass="edt_WF_Readonly" left="439" top="3" height="21" right="3"/>
              <Calendar id="cal_pblicteDe" taborder="13" dateformat="yyyy-MM-dd" cssclass="cal_WF_Essential" left="103" top="3" width="100" height="21"/>
              <Static id="sta_bcnc" taborder="14" text="거래처" cssclass="sta_WF_Label" left="246" top="0" width="100" height="27"/>
              <Static id="sta_bizrno" taborder="15" text="사업자등록번호" cssclass="sta_WF_Label" left="246" top="26" width="100" height="27"/>
              <Static id="sta_puchasSelngSe" taborder="16" text="매입매출" cssclass="sta_WF_Label" left="246" top="52" width="100" height="27"/>
              <Static id="sta_taxamt" taborder="17" text="세액" cssclass="sta_WF_Label" left="246" top="78" width="100" height="27"/>
              <Static id="sta_smAmount" taborder="18" text="합계금액" cssclass="sta_WF_Label" left="246" top="104" width="100" height="27"/>
              <Static id="sta_nddtSe" taborder="20" text="불공제사유" cssclass="sta_WF_Label" left="246" top="130" width="100" height="27"/>
              <Static id="sta_rm" taborder="22" text="비고" cssclass="sta_WF_Label" left="0" top="156" width="100" height="54"/>
              <Static id="Static06" taborder="23" cssclass="sta_WF_Labelbg" left="99" top="156" right="0" height="54"/>
              <Edit id="edt_rm" taborder="24" lengthunit="utf8" maxlength="150" left="103" bottom="359" height="21" style="color:black;" right="3"/>
              <Edit id="edt_rprsntvNm" taborder="25" left="103" right="774" bottom="489" height="21" style="color:black;" cssclass="edt_WF_Readonly" readonly="true"/>
              <Edit id="edt_rm01" taborder="26" left="349" top="29" right="528" height="21" style="color:black;" cssclass="edt_WF_Readonly"/>
              <MaskEdit id="msk_suplyAmount" taborder="27" mask="###,###,###,###,###" limitbymask="both" cssclass="msk_WF_Essential" left="103" top="81" width="140" height="21"/>
              <MaskEdit id="msk_taxamt" taborder="28" mask="###,###,###,###,###" limitbymask="both" left="349" top="81" width="140" height="21"/>
              <MaskEdit id="msk_smAmount" taborder="29" mask="###,###,###,###,###" limitbymask="both" cssclass="msk_WF_Readonly" left="349" top="107" width="140" height="21" readonly="true"/>
              <Edit id="edt_prvcntrEntrpsNm00" taborder="30" readonly="true" cssclass="edt_WF_Readonly" left="103" top="29" width="140" height="21"/>
              <Edit id="edt_bizrno" taborder="31" readonly="true" cssclass="edt_WF_Readonly" left="349" top="29" width="140" height="21"/>
              <Combo id="cmb_billKnd" taborder="33" left="103" top="55" width="140" height="21" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Essential" innerdataset="@ds_acc030"/>
              <Combo id="cmb_rqestRcptSe" taborder="35" left="103" top="107" width="140" height="21" innerdataset="@ds_acc041" codecolumn="CODE" datacolumn="CODE_NM"/>
              <Combo id="cmb_nddtSe" taborder="36" left="349" top="133" height="21" innerdataset="@ds_acc039" codecolumn="CODE" datacolumn="CODE_NM" right="3"/>
              <TextArea id="txt_rm" taborder="37" left="103" top="159" height="48" right="3" wordwrap="char" lengthunit="utf8" maxlength="150"/>
              <CheckBox id="chk_taxtAt" taborder="38" left="497" top="81" width="90" height="21" truevalue="1" text="부가세여부" cssclass="chk_WF_Readonly" falsevalue="0"/>
              <Static id="sta_taxtAt" taborder="39" text="전자세금계산서" cssclass="sta_WF_Label" left="0" top="130" width="100" height="27"/>
              <Radio id="Radio00" taborder="40" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" onitemclick="div_detail1_Radio00_onitemclick" cssclass="rdo_WF_Essential" left="103" top="133" width="117" height="21">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">2</Col>
                      <Col id="datacolumn">발행</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">미발행</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Radio>
              <Combo id="cmb_puchasSelngSe" taborder="41" readonly="true" innerdataset="@ds_acc029" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Readonly" left="349" top="55" width="140" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="sta_title" taborder="6" text="기타증빙전표발행" onclick="Static00_onclick" cssclass="sta_WF_Title01" left="17" top="20" width="180" height="19" style="font:bold 9 Dotum;"/>
        <Static id="Static06" taborder="7" text="15" visible="false" left="0" top="2" height="15" style="background:#dc143c3c;align:center middle;" right="0"/>
        <Static id="Static05" taborder="8" text="15" visible="false" left="2" top="0" width="15" style="background:#1b3cd23c;align:center middle;" bottom="0"/>
        <Static id="Static02" taborder="9" text="15" visible="false" top="0" width="15" style="background:#1b3cd23c;align:center middle;" right="2" bottom="0"/>
        <Static id="Static12" taborder="10" text="5" visible="false" left="0" top="42" height="5" style="background:#dc143c3c;align:center middle;" right="0"/>
        <Button id="btn_dsnRegist" taborder="11" text="지출결의등록" cssclass="btn_WF_CRUD" top="17" right="70" width="90" height="25" onclick="btn_dsnRegist_onclick"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cond_oncolumnchanged">
        <ColumnInfo>
          <Column id="ISSU_ID" type="STRING" size="256"/>
          <Column id="BILL_TYPE" type="STRING" size="256"/>
          <Column id="SUM_AM" type="BIGDECIMAL" size="15"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_etcPrufChit" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_etcPrufChit_oncolumnchanged">
        <ColumnInfo>
          <Column id="TAXBILL_NO" type="STRING" size="256"/>
          <Column id="PUCHAS_SELNG_SE" type="STRING" size="256"/>
          <Column id="BILL_KND" type="STRING" size="256"/>
          <Column id="PBLICTE_DE" type="STRING" size="256"/>
          <Column id="TAXT_AT" type="STRING" size="256"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="15"/>
          <Column id="TAXAMT" type="BIGDECIMAL" size="15"/>
          <Column id="SM_AMOUNT" type="BIGDECIMAL" size="15"/>
          <Column id="RQEST_RCPT_SE" type="STRING" size="256"/>
          <Column id="NTS_CONFM_NO" type="STRING" size="256"/>
          <Column id="CASH_SE" type="STRING" size="256"/>
          <Column id="DECSN_YEAR" type="STRING" size="256"/>
          <Column id="DECSN_NO" type="STRING" size="256"/>
          <Column id="DECSN_SEQ" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="NDDT_SE" type="STRING" size="256"/>
          <Column id="MAPNG_KEY" type="STRING" size="256"/>
          <Column id="BCNC_CODE" type="STRING" size="256"/>
          <Column id="BIZRNO" type="STRING" size="256"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="RPRSNTV_NM" type="STRING" size="256"/>
          <Column id="BIZCND" type="STRING" size="256"/>
          <Column id="ITEM" type="STRING" size="256"/>
          <Column id="RN" type="STRING" size="256"/>
          <Column id="DETAIL_RDNMADR" type="STRING" size="256"/>
          <Column id="ADRES" type="STRING" size="256"/>
          <Column id="DETAIL_ADRES" type="STRING" size="256"/>
          <Column id="BPLC_ADRES" type="STRING" size="256"/>
          <Column id="SMLPZ_SE" type="STRING" size="256"/>
          <Column id="EVRFRND_AT" type="STRING" size="256"/>
          <Column id="TCNDVLP" type="STRING" size="256"/>
          <Column id="CNTRWK_PRPOS_MTRIL" type="STRING" size="256"/>
          <Column id="AREA_ENTRPS_AT" type="STRING" size="256"/>
          <Column id="FEMALE_ENTRPRS_AT" type="STRING" size="256"/>
          <Column id="DSPSN_ENTRPRS_AT" type="STRING" size="256"/>
          <Column id="SRSILL_DSPSN_ENTRPRS_AT" type="STRING" size="256"/>
          <Column id="SOCENT_AT" type="STRING" size="256"/>
          <Column id="GREEN_PRDUCT_AT" type="STRING" size="256"/>
          <Column id="DSPSN_PRDCTN_FCLTY_AT" type="STRING" size="256"/>
          <Column id="SOCTY_CPER_MXTR_AT" type="STRING" size="256"/>
          <Column id="DSPSN_STD_BPLC" type="STRING" size="256"/>
          <Column id="WATER_INDUST" type="STRING" size="256"/>
          <Column id="MDLC_INDUST" type="STRING" size="256"/>
          <Column id="FARMNG_INDUST" type="STRING" size="256"/>
          <Column id="ENERGY_INDUST" type="STRING" size="256"/>
          <Column id="BANK_CODE" type="STRING" size="256"/>
          <Column id="DPSTR_NM" type="STRING" size="256"/>
          <Column id="ACNUTNO" type="STRING" size="256"/>
          <Column id="PBLICTE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_etcPrufChit</Col>
            <Col id="colId">PBLICTE_DE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">발행일자</Col>
          </Row>
          <Row>
            <Col id="compId">ds_etcPrufChit</Col>
            <Col id="colId">BCNC_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">거래처</Col>
          </Row>
          <Row>
            <Col id="compId">ds_etcPrufChit</Col>
            <Col id="colId">BILL_KND</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">계산서종류</Col>
          </Row>
          <Row>
            <Col id="compId">ds_etcPrufChit</Col>
            <Col id="colId">SUPLY_AMOUNT</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">공급가액</Col>
          </Row>
          <Row>
            <Col id="colId">PBLICTE_AT</Col>
            <Col id="compId">ds_etcPrufChit</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">전자세금계산서 발행여부</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_acc029" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc030" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc041" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc039" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnMastr" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnMastr_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="10"/>
          <Column id="CAUSE_ACTION_NO" type="STRING" size="10"/>
          <Column id="BUDGET_YEAR" type="STRING" size="4"/>
          <Column id="BSNS_SE" type="STRING" size="1"/>
          <Column id="BALC_SE" type="STRING" size="1"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="8"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="ANACT_KND" type="STRING" size="2"/>
          <Column id="DEPT_CODE" type="STRING" size="6"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="CYFD_SE" type="STRING" size="1"/>
          <Column id="ITNC_DE" type="STRING" size="8"/>
          <Column id="PYMNT_ITNC_DE" type="STRING" size="8"/>
          <Column id="DET_DCSN_DE" type="STRING" size="8"/>
          <Column id="PRMPC_JRNLZPR_RGIST_DE" type="STRING" size="8"/>
          <Column id="CPTAL_EXPNDTR_ACNTBK_DE" type="STRING" size="8"/>
          <Column id="EXPNDTR_BUDGET_CNRL_DE" type="STRING" size="8"/>
          <Column id="CAUSE_ACTION_DE" type="STRING" size="8"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="BUDGET_ACNT_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="8"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="CPTAL_CHRG_CONFM" type="STRING" size="1"/>
          <Column id="TIMHDER_CONFM" type="STRING" size="1"/>
          <Column id="CNTRCT_NO" type="STRING" size="11"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="SUMRY" type="STRING" size="200"/>
          <Column id="BSNS_CODE" type="STRING" size="5"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="PRMPC_YEAR" type="STRING" size="256"/>
          <Column id="PRMPC_CODE" type="STRING" size="6"/>
          <Column id="PRMPC_NM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="8"/>
          <Column id="EXPNDTR_CNFIRM_AT" type="STRING" size="2"/>
          <Column id="ATMC_JRNLZ_TY_CODE" type="STRING" size="256"/>
          <Column id="GNRL_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="GNRL_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="CHECK_NO" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="SANCTN_SE" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_STTUS" type="STRING" size="256"/>
          <Column id="INC_EXP_AT" type="STRING" size="256"/>
          <Column id="CPTAL_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="DRFT_APPRID" type="STRING" size="256"/>
          <Column id="DRFT_DOCREGNO" type="STRING" size="256"/>
          <Column id="DRFT_DATE" type="STRING" size="256"/>
          <Column id="DRFT_USERID" type="STRING" size="256"/>
          <Column id="TRG_FORM_ID" type="STRING" size="256"/>
          <Column id="TRG_FORM_ID2" type="STRING" size="256"/>
          <Column id="SANCTN_STS" type="STRING" size="256"/>
          <Column id="BUDGET_CNRL_AT" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_ANACT_KND" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_REGIST_SE" type="STRING" size="256"/>
          <Column id="CHI_CNT" type="STRING" size="256"/>
          <Column id="CHI_AT" type="STRING" size="256"/>
          <Column id="WIK_CPTAL_PLAN_AT" type="STRING" size="256"/>
          <Column id="CNSUL_SJ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnMtrDet" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnMtrDet_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="CNTRCT_DE" type="STRING" size="8"/>
          <Column id="ACPTNC_DE" type="STRING" size="8"/>
          <Column id="ORDER_DE" type="STRING" size="8"/>
          <Column id="DVYFG_DE" type="STRING" size="8"/>
          <Column id="PYMNT_CMMND_PBLICTE_DE" type="STRING" size="8"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="DSGN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="CNTRCT_SE" type="STRING" size="3"/>
          <Column id="CNTRCT_MTHD" type="STRING" size="1"/>
          <Column id="ATCH_FILE" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH" type="STRING" size="200"/>
          <Column id="ATCH_FILE_1" type="STRING" size="100"/>
          <Column id="ATCH_FLPTH_1" type="STRING" size="200"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_expDsnDetail" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnDetail_oncolumnchanged" onrowsetchanged="ds_expDsnDetail_onrowsetchanged" onrowposchanged="ds_expDsnDetail_onrowposchanged" cancolumnchange="ds_expDsnDetail_cancolumnchange">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="11"/>
          <Column id="SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="TAXXPT_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT_AT" type="STRING" size="1"/>
          <Column id="BILL_KND" type="STRING" size="1"/>
          <Column id="VAT_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="VAT" type="BIGDECIMAL" size="22"/>
          <Column id="BCNC_CODE" type="STRING" size="10"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="30"/>
          <Column id="ADRES" type="STRING" size="200"/>
          <Column id="RQEST_DE" type="STRING" size="8"/>
          <Column id="RQEST_MAN" type="STRING" size="30"/>
          <Column id="RCPT_DE" type="STRING" size="8"/>
          <Column id="RCPT_MAN" type="STRING" size="30"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="ENTRPRS_SE" type="STRING" size="1"/>
          <Column id="EVRFRND" type="STRING" size="1"/>
          <Column id="TCNDVLP" type="STRING" size="1"/>
          <Column id="CNTRWK_PRPOS_MTRIL" type="STRING" size="1"/>
          <Column id="AREA_ENTRPS" type="STRING" size="1"/>
          <Column id="FEMALE_ENTRPRS" type="STRING" size="1"/>
          <Column id="MIDDL_PD_CMPET_PRDUCT" type="STRING" size="1"/>
          <Column id="FRGCPT_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN" type="STRING" size="1"/>
          <Column id="SRSILL_DSPSN" type="STRING" size="1"/>
          <Column id="SOCTY_ENTRPRS" type="STRING" size="1"/>
          <Column id="DSPSN_PRDCTN_FCLTY" type="STRING" size="1"/>
          <Column id="SOCTY_CPER_MXTR" type="STRING" size="1"/>
          <Column id="GREEN_PRDUCT" type="STRING" size="1"/>
          <Column id="DSPSN_STD_BPLC" type="STRING" size="1"/>
          <Column id="WATER_INDUST" type="STRING" size="1"/>
          <Column id="MDLC_INDUST" type="STRING" size="1"/>
          <Column id="FARMNG_INDUST" type="STRING" size="1"/>
          <Column id="ENERGY_INDUST" type="STRING" size="1"/>
          <Column id="WHTAX_AT" type="STRING" size="1"/>
          <Column id="WHTAX_KND" type="STRING" size="1"/>
          <Column id="WHTAX_ADRES" type="STRING" size="200"/>
          <Column id="IHDNUM" type="STRING" size="256"/>
          <Column id="INCMTAX" type="BIGDECIMAL" size="22"/>
          <Column id="IHNTS" type="BIGDECIMAL" size="22"/>
          <Column id="WHTAX_INCOME_SE_CODE" type="STRING" size="256"/>
          <Column id="WHTAX_INDUTY_CODE" type="STRING" size="256"/>
          <Column id="WHTAX_PYMNT_TOTAMT" type="BIGDECIMAL" size="22"/>
          <Column id="MTCHG_SE" type="STRING" size="5"/>
          <Column id="BRRW_AMOUNT_INTR_RPAY_AT" type="STRING" size="1"/>
          <Column id="RM" type="STRING" size="200"/>
          <Column id="CMPNSP_NO" type="STRING" size="30"/>
          <Column id="PRPDVS_TRGET_CODE" type="STRING" size="4"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
          <Column id="ENDW_INTR_AT" type="STRING" size="256"/>
          <Column id="PBNCD_NO" type="STRING" size="256"/>
          <Column id="ERROR_AT" type="STRING" size="256"/>
          <Column id="CHGHY" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_decsnNo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="TAXBILL_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item12" compid="div_Cont.cmb_puchasSelngSe" propid="value" datasetid="ds_etcPrufChit" columnid="PUCHAS_SELNG_SE"/>
      <BindItem id="item10" compid="div_Cont.edt_prvcntrEntrpsCode" propid="value" datasetid="ds_etcPrufChit" columnid="BCNC_CODE"/>
      <BindItem id="item13" compid="div_Cont.edt_prvcntrEntrpsNm" propid="value" datasetid="ds_etcPrufChit" columnid="BCNC_NM"/>
      <BindItem id="item0" compid="div_Cont.cal_pblicteDe" propid="value" datasetid="ds_etcPrufChit" columnid="PBLICTE_DE"/>
      <BindItem id="item6" compid="div_Cont.edt_rm" propid="value" datasetid="ds_rqestEdayAuditList" columnid="EDAY_AUDIT_NM"/>
      <BindItem id="item35" compid="div_Cont.edt_rm" propid="readonly" datasetid="ds_rqestEdayAuditList" columnid="READONLY"/>
      <BindItem id="item1" compid="div_Cont.edt_rprsntvNm" propid="value" datasetid="ds_rqestEdayAuditList" columnid="EDAY_AUDIT_NM"/>
      <BindItem id="item2" compid="div_Cont.edt_rprsntvNm" propid="readonly" datasetid="ds_rqestEdayAuditList" columnid="READONLY"/>
      <BindItem id="item3" compid="div_Cont.edt_rm01" propid="value" datasetid="ds_rqestEdayAuditList" columnid="EDAY_AUDIT_NM"/>
      <BindItem id="item4" compid="div_Cont.edt_rm01" propid="readonly" datasetid="ds_rqestEdayAuditList" columnid="READONLY"/>
      <BindItem id="item19" compid="div_Cont.msk_suplyAmount" propid="value" datasetid="ds_etcPrufChit" columnid="SUPLY_AMOUNT"/>
      <BindItem id="item5" compid="div_Cont.msk_taxamt" propid="value" datasetid="ds_etcPrufChit" columnid="TAXAMT"/>
      <BindItem id="item7" compid="div_Cont.msk_smAmount" propid="value" datasetid="ds_etcPrufChit" columnid="SM_AMOUNT"/>
      <BindItem id="item8" compid="div_Cont.edt_prvcntrEntrpsNm00" propid="value" datasetid="ds_etcPrufChit" columnid="RPRSNTV_NM"/>
      <BindItem id="item9" compid="div_Cont.edt_bizrno" propid="value" datasetid="ds_etcPrufChit" columnid="BIZRNO"/>
      <BindItem id="item11" compid="div_Cont.cmb_billKnd" propid="value" datasetid="ds_etcPrufChit" columnid="BILL_KND"/>
      <BindItem id="item14" compid="div_Cont.chk_taxtAt" propid="value" datasetid="ds_etcPrufChit" columnid="TAXT_AT"/>
      <BindItem id="item15" compid="div_Cont.cmb_nddtSe" propid="value" datasetid="ds_etcPrufChit" columnid="NDDT_SE"/>
      <BindItem id="item16" compid="div_Cont.txt_rm" propid="value" datasetid="ds_etcPrufChit" columnid="RM"/>
      <BindItem id="item17" compid="div_Cont.cmb_rqestRcptSe" propid="value" datasetid="ds_etcPrufChit" columnid="RQEST_RCPT_SE"/>
      <BindItem id="item24" compid="div_Cont.Radio00" propid="value" datasetid="ds_etcPrufChit" columnid="PBLICTE_AT"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/**********************************************************************
* 화면ID	: ACC030111_P02.xfdl
* 화면명	: 기타증빙전표발행
* 화면설명	: 기타증빙전표 정보를 입력한다.
* 작성일	: 2017.11.27
* 작성자	: 김형태
* 수정이력	: 
***********************************************************************
*     수정일     수정자   내용
***********************************************************************
*
***********************************************************************
*/

/**********************************************************************
* Script Include 
***********************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";


/**********************************************************************
* 화면 변수 선언부
***********************************************************************/



/**********************************************************************
* onInit / onLoad 영역
***********************************************************************/

this.ACC030111_P02_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// ..
}

this.ACC030111_P02_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// Form 초기화
	this.fn_init_form();

	// DataSet 초기화
	this.fn_init_dataset();
}



/**********************************************************************
* Form/Dataset 오브젝트 초기화
***********************************************************************/

/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	this.gfn_initForm(this);	// 시스템 공통으로 Form을 Initialize 한다.
	this.fn_misFormInit(this);
	
	this.ds_etcPrufChit.clearData();
	this.ds_etcPrufChit.addRow();
	
	// 공통코드
	var comboParams = [
		 ["ds_acc029", "ACC029", "Y", "D", "B"]			// 매입매출
		,["ds_acc030", "ACC030", "Y", "D", "B"]			// 계산서종류
		,["ds_acc039", "ACC039", "Y", "S", "B"]			// 불공제사유
		,["ds_acc041", "ACC041", "Y", "D", "B"]			// 청구영수구분
	];
	var callback = function (svcId, errorCode, errorMsg) {
		var today = this.dateUtils.today();
		
		this.ds_etcPrufChit.setColumn(0, "PBLICTE_DE"     , today);
		this.ds_etcPrufChit.setColumn(0, "BILL_KND"       , "1");
		this.ds_etcPrufChit.setColumn(0, "PUCHAS_SELNG_SE", "1");
		this.ds_etcPrufChit.setColumn(0, "RQEST_RCPT_SE"  , "1");
		this.ds_etcPrufChit.setColumn(0, "NDDT_SE"        , "");
		this.ds_etcPrufChit.setColumn(0, "SUPLY_AMOUNT"   , 0);
		this.ds_etcPrufChit.setColumn(0, "TAXAMT"         , 0);
		this.ds_etcPrufChit.setColumn(0, "SM_AMOUNT"      , 0);
		this.ds_etcPrufChit.setColumn(0, "TAXT_AT"		  , ['030100','030200','030300','030400','030500'].indexOf(this.gfn_getDeptId()) > -1 ? "1" : "0");
	};
	this.gfn_comboLoad (comboParams, callback);
}


/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	// 조건 Dataset 외에 초기화가 필요한 Dataset에 대한 초기화 코드를 추가
}



/**********************************************************************
* Transaction 영역 시작
***********************************************************************
*
* 1. Transaction 관련 이벤트 핸들러
* 2. call Transaction 영역
* 3. callback 영역(Transaction, Popup)
* 
***********************************************************************/



/**********************************************************************
* Transaction 관련 이벤트 핸들러 
***********************************************************************/

/*
 * 함수명  	: fn_init
 * 설명 		: 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_init();
 */
this.fn_init = function()
{
	// todo..
}



/*
 * 함수명  	: fn_popupCallBack
 * 설명 		: Popup Callback 처리
 * params  		: sPopupId    : 팝업 ID
 *                sReturn  : 팝업 처리 결과(dataset.saveXML())
 * return Type 	: None
 * 사용법		: 
 */
this.fn_popupCallBack = function(sPopupId, sReturn)
{
	// 거래처선택
	if(sPopupId == "bcncPopup") {
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
		if(loadCnt) {
			var nRow = this.ds_etcPrufChit.rowposition;
			var bcncCode             = dsTemp.getColumn(0, "BCNC_CODE");				// 거래처코드
			var bcncNm               = dsTemp.getColumn(0, "BCNC_NM");					// 거래처명
			var bizrno               = dsTemp.getColumn(0, "BIZRNO");					// 사업자등록번호
			var rprsntv              = dsTemp.getColumn(0, "RPRSNTV");					// 대표자
			var bizcnd               = dsTemp.getColumn(0, "BIZCND");					// 업태
			var induty               = dsTemp.getColumn(0, "INDUTY");					// 종목
			
			var smlpzSe              = dsTemp.getColumn(0, "SMLPZ_SE");					// 중소기업구분
			var evrfrndAt            = dsTemp.getColumn(0, "EVRFRND_AT");				// 친환경여부
			var tcndvlp              = dsTemp.getColumn(0, "TCNDVLP");					// 기술개발
			var cntrwkPrposMtril     = dsTemp.getColumn(0, "CNTRWK_PRPOS_MTRIL");		// 공사용도자재
			var areaEntrpsAt         = dsTemp.getColumn(0, "AREA_ENTRPS_AT");			// 지역업체여부
			var femaleEntrprsAt      = dsTemp.getColumn(0, "FEMALE_ENTRPRS_AT");		// 여성기업여부
			var dspsnEntrprsAt       = dsTemp.getColumn(0, "DSPSN_ENTRPRS_AT");			// 장애인기업여부
			var srsillDspsnEntrprsAt = dsTemp.getColumn(0, "SRSILL_DSPSN_ENTRPRS_AT");	// 중증장애인기업여부
			var socentAt             = dsTemp.getColumn(0, "SOCENT_AT");				// 사회적기업여부
			var greenPrductAt        = dsTemp.getColumn(0, "GREEN_PRDUCT_AT");			// 녹색제품여부
			var dspsnPrdctnFcltyAt   = dsTemp.getColumn(0, "DSPSN_PRDCTN_FCLTY_AT");	// 장애인생산시설여부
			var soctyCperMxtrAt      = dsTemp.getColumn(0, "SOCTY_CPER_MXTR_AT");		// 사회적협동조합여부
			var dspsnStdBplc         = dsTemp.getColumn(0, "DSPSN_STD_BPLC");			// 장애인표준사업장
			var waterIndust          = dsTemp.getColumn(0, "WATER_INDUST");				// 물산업
			var mdlcIndust           = dsTemp.getColumn(0, "MDLC_INDUST");				// 의료산업
			var farmngIndust         = dsTemp.getColumn(0, "FARMNG_INDUST");			// 농업산업
			var energyIndust         = dsTemp.getColumn(0, "ENERGY_INDUST");			// 에너지산업
			
			var bankCode             = dsTemp.getColumn(0, "BANK_CODE");				// 은행코드
			var dpstrNm              = dsTemp.getColumn(0, "DPSTR_NM");					// 예금주명
			var acnutno              = dsTemp.getColumn(0, "ACNUTNO");					// 계좌번호
			
			var rn                   = dsTemp.getColumn(0, "RN");						// 도로명
			var detailRdnmadr        = dsTemp.getColumn(0, "DETAIL_RDNMADR");			// 세부도로명주소
			var adres                = dsTemp.getColumn(0, "ADRES");					// 주소
			var detailAdres          = dsTemp.getColumn(0, "DETAIL_ADRES");				// 상세주소
			var bplcAdres            = "";												// 사업장주소
			
			if(!this.comUtils.isNull(rn)) {	// 도로명
				bplcAdres += rn;
			}
			if(!this.comUtils.isNull(detailRdnmadr)) {	// 세부도로명주소
				if(bplcAdres != "") {
					bplcAdres += " ";
				}
				
				bplcAdres += adres;
			}
			if(bplcAdres == "") {	// 도로명주소 없을 경우
				if(!this.comUtils.isNull(adres)) {	// 주소
					bplcAdres += adres;
				}
				if(!this.comUtils.isNull(detailAdres)) {	// 상세주소
					if(bplcAdres != "") {
						bplcAdres += " ";
					}
					
					bplcAdres += detailAdres;
				}
			}
			
			bplcAdres = bplcAdres.substr(0, 150);
			
			this.ds_etcPrufChit.setColumn(nRow, "BCNC_CODE"               , bcncCode);				// 거래처코드
			this.ds_etcPrufChit.setColumn(nRow, "BCNC_NM"                 , bcncNm);				// 거래처명
			this.ds_etcPrufChit.setColumn(nRow, "BIZRNO"                  , bizrno);				// 사업자등록번호
			this.ds_etcPrufChit.setColumn(nRow, "RPRSNTV_NM"              , rprsntv);				// 대표자명
			this.ds_etcPrufChit.setColumn(nRow, "BIZCND"                  , bizcnd);				// 업태
			this.ds_etcPrufChit.setColumn(nRow, "ITEM"                    , induty);				// 종목
			this.ds_etcPrufChit.setColumn(nRow, "RN"                      , rn);					// 도로명
			this.ds_etcPrufChit.setColumn(nRow, "DETAIL_RDNMADR"          , detailRdnmadr);			// 세부도로명주소
			this.ds_etcPrufChit.setColumn(nRow, "ADRES"                   , adres);					// 주소
			this.ds_etcPrufChit.setColumn(nRow, "DETAIL_ADRES"            , detailAdres);			// 상세주소
			this.ds_etcPrufChit.setColumn(nRow, "BPLC_ADRES"              , bplcAdres);				// 사업장주소
			this.ds_etcPrufChit.setColumn(nRow, "SMLPZ_SE"                , smlpzSe);				// 중소기업구분
			this.ds_etcPrufChit.setColumn(nRow, "EVRFRND_AT"              , evrfrndAt);				// 친환경여부
			this.ds_etcPrufChit.setColumn(nRow, "TCNDVLP"                 , tcndvlp);				// 기술개발
			this.ds_etcPrufChit.setColumn(nRow, "CNTRWK_PRPOS_MTRIL"      , cntrwkPrposMtril);		// 공사용도자재
			this.ds_etcPrufChit.setColumn(nRow, "AREA_ENTRPS_AT"          , areaEntrpsAt);			// 지역업체여부
			this.ds_etcPrufChit.setColumn(nRow, "FEMALE_ENTRPRS_AT"       , femaleEntrprsAt);		// 여성기업여부
			this.ds_etcPrufChit.setColumn(nRow, "DSPSN_ENTRPRS_AT"        , dspsnEntrprsAt);		// 장애인기업여부
			this.ds_etcPrufChit.setColumn(nRow, "SRSILL_DSPSN_ENTRPRS_AT" , srsillDspsnEntrprsAt);	// 중증장애인기업여부
			this.ds_etcPrufChit.setColumn(nRow, "SOCENT_AT"               , socentAt);				// 사회적기업여부
			this.ds_etcPrufChit.setColumn(nRow, "GREEN_PRDUCT_AT"         , greenPrductAt);			// 녹색제품여부
			this.ds_etcPrufChit.setColumn(nRow, "DSPSN_PRDCTN_FCLTY_AT"   , dspsnPrdctnFcltyAt);	// 장애인생산시설여부
			this.ds_etcPrufChit.setColumn(nRow, "SOCTY_CPER_MXTR_AT"      , soctyCperMxtrAt);		// 사회적협동조합여부
			this.ds_etcPrufChit.setColumn(nRow, "DSPSN_STD_BPLC"          , dspsnStdBplc);			// 장애인표준사업장
			this.ds_etcPrufChit.setColumn(nRow, "WATER_INDUST"            , waterIndust);			// 물산업
			this.ds_etcPrufChit.setColumn(nRow, "MDLC_INDUST"             , mdlcIndust);			// 의료산업
			this.ds_etcPrufChit.setColumn(nRow, "FARMNG_INDUST"           , farmngIndust);			// 농업산업
			this.ds_etcPrufChit.setColumn(nRow, "ENERGY_INDUST"           , energyIndust);			// 에너지산업
			this.ds_etcPrufChit.setColumn(nRow, "BANK_CODE"               , bankCode);				// 은행코드
			this.ds_etcPrufChit.setColumn(nRow, "DPSTR_NM"                , dpstrNm);				// 예금주명
			this.ds_etcPrufChit.setColumn(nRow, "ACNUTNO"                 , acnutno);				// 계좌번호
		}
	}
	
	// 결의서등록
	if(sPopupId == "expDsnPopup") {
		this.close();
	}
}


/**********************************************************************
* Transaction 영역 끝
***********************************************************************/



/**********************************************************************
* non-Transaction 관련 컴포넌트 이벤트 처리 함수
***********************************************************************
*
* 1. Dataset 관련 이벤트 처리
* 2. Grid 관련 이벤트 처리
* 3. Button 관련 이벤트 처리
* 4. Tab 관련 이벤트 처리
* 
***********************************************************************/



/**********************************************************************
* Dataset 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: ds_etcPrufChit_oncolumnchanged
 * 설명 		: 컬럼 변경시 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_etcPrufChit_oncolumnchanged();
 */
this.ds_etcPrufChit_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "SUPLY_AMOUNT") {	// 공급가액
		var taxamt   = Math.round(e.newvalue * 0.1);
		var taxtAt   = obj.getColumn(e.row, "TAXT_AT");
		var smAmount = 0;
		
		if(taxtAt == "1") {
			smAmount = e.newvalue;
		}
		else {
			smAmount = e.newvalue + taxamt;
		}
		
		obj.setColumn(e.row, "TAXAMT"   , taxamt);
		obj.setColumn(e.row, "SM_AMOUNT", smAmount);
	}
	else if(e.columnid == "TAXAMT") {		// 세액
		var suplyAmount = obj.getColumn(e.row, "SUPLY_AMOUNT");
		var taxtAt      = obj.getColumn(e.row, "TAXT_AT");
		var smAmount    = 0;
		
		smAmount = suplyAmount + e.newvalue;
		
		obj.setColumn(e.row, "SM_AMOUNT", smAmount);
	}
	else if(e.columnid == "TAXT_AT") {		// 부가세여부
		if(e.newvalue == "1") {
			this.div_Cont.cmb_nddtSe.set_readonly(true);
			this.div_Cont.cmb_nddtSe.set_cssclass("cmb_WF_Readonly");
			obj.setColumn(e.row, "NDDT_SE", "");
		} else {
			this.div_Cont.cmb_nddtSe.set_readonly(false);
			this.div_Cont.cmb_nddtSe.set_cssclass("");
		}
	}
}


/**********************************************************************
* Grid 관련 이벤트 처리
***********************************************************************/



/**********************************************************************
* Button 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: div_Cont_btn_bcncPopup_onclick
 * 설명 		: '거래처' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_Cont_btn_bcncPopup_onclick(obj,e);
 */
this.div_Cont_btn_bcncPopup_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var args = {
		  arg_0				: this
    };
	
	this.gfn_popup("bcncPopup", 950, 650, "", args, "mis_ctr::CTR010101_P02.xfdl", "fn_popupCallBack",true);
}


/*
 * 함수명  	: btn_Close_onclick
 * 설명 		: '닫기' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_Close_onclick(obj,e);
 */
this.btn_Close_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.close();
}


/*
 * 함수명  	: btn_dsnRegist_onclick
 * 설명 		: '지출결의등록' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_dsnRegist_onclick(obj,e);
 */
this.btn_dsnRegist_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	// validation 체크(기타증빙전표발행)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_etcPrufChit, this.ds_validation)) {
		return;
	}
	
	if(this.ds_etcPrufChit.getColumn(0,"TAXT_AT") == "0" && this.comUtils.isNull(this.ds_etcPrufChit.getColumn(0,"NDDT_SE"))) {
		this.gfn_message("info.처리불가","불공제 사유가 선택되지 않았습니다.");
		return;
	}
	
	var nRow = this.ds_etcPrufChit.rowposition;
	var rm          = this.ds_etcPrufChit.getColumn(nRow, "RM");
	var sRm         = null;
	var taxbillNo   = this.ds_etcPrufChit.getColumn(nRow, "TAXBILL_NO");
	var pblicteDe   = this.ds_etcPrufChit.getColumn(nRow, "PBLICTE_DE");
	var taxtAt      = this.ds_etcPrufChit.getColumn(nRow, "TAXT_AT");
	var smAmount    = this.ds_etcPrufChit.getColumn(nRow, "SM_AMOUNT");
	var suplyAmount = this.ds_etcPrufChit.getColumn(nRow, "SUPLY_AMOUNT");
	var taxAmt      = this.ds_etcPrufChit.getColumn(nRow, "TAXAMT");
	var rdoBillKnd  = this.ds_etcPrufChit.getColumn(nRow, "BILL_KND");
	var billKnd     = null;
	var vatSe       = null;
	var day 	    = this.gfn_today();					// 결의일자
	var pymntDe     = this.gfn_today().substring(0,8);	// 지급예정일자
	var pymntYr     = pymntDe.substring(0,4);			// 회계년
	
	// 비고
	if(!this.comUtils.isNull(rm)) {
		sRm = rm;
	}
	
	// 계산서구분
	if(rdoBillKnd == "2") {
		billKnd = "1";
	}
	else {
		billKnd = "2";
	}
	
	
	var bcncCode             = this.ds_etcPrufChit.getColumn(nRow, "BCNC_CODE");				// 거래처코드
	var bcncNm               = this.ds_etcPrufChit.getColumn(nRow, "BCNC_NM");					// 거래처명
	var bizrno               = this.ds_etcPrufChit.getColumn(nRow, "BIZRNO");					// 사업자등록번호
	var rprsntv              = this.ds_etcPrufChit.getColumn(nRow, "RPRSNTV");					// 대표자
	var bizcnd               = this.ds_etcPrufChit.getColumn(nRow, "BIZCND");					// 업태
	var item                 = this.ds_etcPrufChit.getColumn(nRow, "ITEM");						// 종목
	var smlpzSe              = this.ds_etcPrufChit.getColumn(nRow, "SMLPZ_SE");					// 중소기업구분
	var evrfrndAt            = this.ds_etcPrufChit.getColumn(nRow, "EVRFRND_AT");				// 친환경여부
	var tcndvlp              = this.ds_etcPrufChit.getColumn(nRow, "TCNDVLP");					// 기술개발
	var cntrwkPrposMtril     = this.ds_etcPrufChit.getColumn(nRow, "CNTRWK_PRPOS_MTRIL");		// 공사용도자재
	var areaEntrpsAt         = this.ds_etcPrufChit.getColumn(nRow, "AREA_ENTRPS_AT");			// 지역업체여부
	var femaleEntrprsAt      = this.ds_etcPrufChit.getColumn(nRow, "FEMALE_ENTRPRS_AT");		// 여성기업여부
	var dspsnEntrprsAt       = this.ds_etcPrufChit.getColumn(nRow, "DSPSN_ENTRPRS_AT");			// 장애인기업여부
	var srsillDspsnEntrprsAt = this.ds_etcPrufChit.getColumn(nRow, "SRSILL_DSPSN_ENTRPRS_AT");	// 중증장애인기업여부
	var socentAt             = this.ds_etcPrufChit.getColumn(nRow, "SOCENT_AT");				// 사회적기업여부
	var greenPrductAt        = this.ds_etcPrufChit.getColumn(nRow, "GREEN_PRDUCT_AT");			// 녹색제품여부
	var dspsnPrdctnFcltyAt   = this.ds_etcPrufChit.getColumn(nRow, "DSPSN_PRDCTN_FCLTY_AT");	// 장애인생산시설여부
	var soctyCperMxtrAt      = this.ds_etcPrufChit.getColumn(nRow, "SOCTY_CPER_MXTR_AT");		// 사회적협동조합여부
	var dspsnStdBplc         = this.ds_etcPrufChit.getColumn(nRow, "DSPSN_STD_BPLC");			// 장애인표준사업장
	var waterIndust          = this.ds_etcPrufChit.getColumn(nRow, "WATER_INDUST");				// 물산업
	var mdlcIndust           = this.ds_etcPrufChit.getColumn(nRow, "MDLC_INDUST");				// 의료산업
	var farmngIndust         = this.ds_etcPrufChit.getColumn(nRow, "FARMNG_INDUST");			// 농업산업
	var energyIndust         = this.ds_etcPrufChit.getColumn(nRow, "ENERGY_INDUST");			// 에너지산업
	var bankCode             = this.ds_etcPrufChit.getColumn(nRow, "BANK_CODE");				// 은행코드
	var dpstrNm              = this.ds_etcPrufChit.getColumn(nRow, "DPSTR_NM");					// 예금주명
	var acnutno              = this.ds_etcPrufChit.getColumn(nRow, "ACNUTNO");					// 계좌번호
	var bplcAdres            = this.ds_etcPrufChit.getColumn(nRow, "BPLC_ADRES");				// 사업장주소
	
	// 결의마스터 셋팅
	this.ds_expDsnMastr.clearData();
	this.ds_expDsnMastr.addRow();
	this.ds_expDsnMastr.setColumn(0, "DECSN_YEAR"             , pymntYr);					// 회계년월
	this.ds_expDsnMastr.setColumn(0, "ANACT_KND"              , "03");						// 결의서구분
	this.ds_expDsnMastr.setColumn(0, "DEPT_CODE"              , this.gfn_getDeptId());		// 부서코드
	this.ds_expDsnMastr.setColumn(0, "DEPT_NM"			      , this.gfn_getDeptName());	// 부서명
	this.ds_expDsnMastr.setColumn(0, "SUMRY"			      , rm);						// 적요
	
	this.ds_expDsnMastr.setColumn(0, "ITNC_DE"                , day);						// 발의일자
	this.ds_expDsnMastr.setColumn(0, "DET_DCSN_DE"            , pblicteDe);					// 채무확정일자(세금계산서 발행일자와 통일요청 REQ-0016)
	this.ds_expDsnMastr.setColumn(0, "PYMNT_ITNC_DE"          , pymntDe);					// 지급발의일자
	this.ds_expDsnMastr.setColumn(0, "PRMPC_JRNLZPR_RGIST_DE" , day);						// 원장분개장등기
	this.ds_expDsnMastr.setColumn(0, "EXPNDTR_BUDGET_CNRL_DE" , pymntDe);					// 지출예산통제
	this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE", pymntDe);					// 자금지출부등기
	
	this.ds_expDsnMastr.setColumn(0, "CAUSE_ACTION_DE"        , pblicteDe);					// 원인행위일자
	
	this.ds_expDsnMastr.setColumn(0, "DECSN_AMOUNT"           , smAmount);					// 총금액 -> 결의금액
	
	// 결의마스터상세
	this.ds_expDsnMtrDet.clearData();
	this.ds_expDsnMtrDet.addRow();
	this.ds_expDsnMtrDet.setColumn(0, "TAXXPT_AMOUNT"	, "0");			// 면세금액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_DECSN_AMOUNT", smAmount);	// 부가세결의금액
	this.ds_expDsnMtrDet.setColumn(0, "SUPLY_AMOUNT"	, suplyAmount);	// 공급가액
	this.ds_expDsnMtrDet.setColumn(0, "VAT_AMOUNT"		, taxAmt);		// 부가세금액
	
	// 결의세부
	this.ds_expDsnDetail.clearData();
	this.ds_expDsnDetail.addRow();
	this.ds_expDsnDetail.setColumn(0, "DECSN_AMOUNT"      , smAmount);				// 결의금액
	this.ds_expDsnDetail.setColumn(0, "TAXXPT_AMOUNT"     , "0");					// 면세금액
	this.ds_expDsnDetail.setColumn(0, "VAT_AT"            , taxtAt);				// 부가세여부
	this.ds_expDsnDetail.setColumn(0, "VAT_DECSN_AMOUNT"  , smAmount);				// 부가세결의금액
	this.ds_expDsnDetail.setColumn(0, "SUPLY_AMOUNT"      , suplyAmount);			// 공급가액
	this.ds_expDsnDetail.setColumn(0, "VAT"               , taxAmt);				// 부가세금액
	this.ds_expDsnDetail.setColumn(0, "RCPT_DE"           , pymntDe);				// 영수일자
	this.ds_expDsnDetail.setColumn(0, "BCNC_CODE"         , bcncCode);				// 거래처코드
	this.ds_expDsnDetail.setColumn(0, "BCNC_NM"           , bcncNm);				// 거래처명
	this.ds_expDsnDetail.setColumn(0, "NM"                , rprsntv);				// 대표자명
	this.ds_expDsnDetail.setColumn(0, "ENTRPRS_SE"        , smlpzSe);				// 기업구분(중소기업,대기업)
	this.ds_expDsnDetail.setColumn(0, "EVRFRND"           , evrfrndAt);				// 친환경
	this.ds_expDsnDetail.setColumn(0, "TCNDVLP"           , tcndvlp);				// 기술개발
	this.ds_expDsnDetail.setColumn(0, "CNTRWK_PRPOS_MTRIL", cntrwkPrposMtril);		// 공사용자재
	this.ds_expDsnDetail.setColumn(0, "AREA_ENTRPS"       , areaEntrpsAt);			// 지역업체
	this.ds_expDsnDetail.setColumn(0, "FEMALE_ENTRPRS"    , femaleEntrprsAt);		// 여성기업
	this.ds_expDsnDetail.setColumn(0, "DSPSN"             , dspsnEntrprsAt);		// 장애인
	this.ds_expDsnDetail.setColumn(0, "SRSILL_DSPSN"      , srsillDspsnEntrprsAt);	// 중증장애인
	this.ds_expDsnDetail.setColumn(0, "SOCTY_ENTRPRS"     , socentAt);				// 사회적기업
	this.ds_expDsnDetail.setColumn(0, "GREEN_PRDUCT"      , greenPrductAt);			// 녹색제품
	this.ds_expDsnDetail.setColumn(0, "DSPSN_PRDCTN_FCLTY", dspsnPrdctnFcltyAt);	// 장애인생산시설
	this.ds_expDsnDetail.setColumn(0, "SOCTY_CPER_MXTR"   , soctyCperMxtrAt);		// 사회적협동조합
	this.ds_expDsnDetail.setColumn(0, "DSPSN_STD_BPLC"    , dspsnStdBplc);			// 장애인표준사업장
	this.ds_expDsnDetail.setColumn(0, "WATER_INDUST"      , waterIndust);			// 물산업
	this.ds_expDsnDetail.setColumn(0, "MDLC_INDUST"       , mdlcIndust);			// 의료산업
	this.ds_expDsnDetail.setColumn(0, "FARMNG_INDUST"     , farmngIndust);			// 농업사업
	this.ds_expDsnDetail.setColumn(0, "ENERGY_INDUST"     , energyIndust);			// 에너지산업
	this.ds_expDsnDetail.setColumn(0, "FNNC_INSTT_CODE"   , bankCode);				// 지급은행
	this.ds_expDsnDetail.setColumn(0, "RCPT_MAN"          , dpstrNm);				// 영수자 <- 예금주명
	this.ds_expDsnDetail.setColumn(0, "ACNUTNO"           , acnutno);				// 계좌번호
	this.ds_expDsnDetail.setColumn(0, "ADRES"             , bplcAdres);				// 주소
	this.ds_expDsnDetail.setColumn(0, "BILL_KND"          , billKnd);				// 계산서구분
	
	// 결의서 등록 후 결의번호를 입력해야하는 데이터셋 정보
	this.ds_decsnNo.clearData();
	this.ds_decsnNo.addRow();
	this.ds_decsnNo.setColumn(0, "TAXBILL_NO", taxbillNo);
	
	this.saveRow = this.ds_etcPrufChit.rowposition;
	
	var args = {
		  arg_0				: this
		, trgFormId			: "ACC030111_P02"					// 팝업을 호출하는 화면의 ID
		, trgFormId2		: "MIS"								// 삭제방지코드
		, anactKnd			: "03"								// 지출결의서
		, dsExpDsnMastr		: this.ds_expDsnMastr.saveXML()		// 결의마스터(Dataset)
		, dsExpDsnMtrDet	: this.ds_expDsnMtrDet.saveXML()	// 결의마스터상세(Dataset)
		, dsExpDsnDetail	: this.ds_expDsnDetail.saveXML()	// 결의세부(Dataset)
		, dsDecsnNo			: this.ds_decsnNo.saveXML()			// 키값정보(Dataset)
		, dsEtcPrufChit		: this.ds_etcPrufChit.saveXML()		// 세금계산서마스터(Dataset)
    };
	
	this.gfn_popup("expDsnPopup", 903, 842, "지출결의서", args, "mis_acc::ACC020203_P01.xfdl", "fn_popupCallBack",true);
}
]]></Script>
  </Form>
</FDL>
