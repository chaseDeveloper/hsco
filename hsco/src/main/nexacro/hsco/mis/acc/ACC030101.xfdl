<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="ACC030101" classname="UI_ACC030101" left="0" top="0" width="1059" height="735" titletext="세금계산서발행" onload="ACC030101_onload">
    <Layouts>
      <Layout>
        <Div id="div_SEARCH" taborder="0" text="Div00" left="0" top="0" right="28" height="59" applystyletype="cascade,keep" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="sta_EMPL_SE00" taborder="7" text="계산서번호" cssclass="sta_WFSA_Label" left="15" top="31" width="77" height="21"/>
              <Static id="sta_EMPL_SE01" taborder="8" text="발행일자" cssclass="sta_WFSA_Label" left="15" top="5" width="77" height="21"/>
              <Static id="Static09" taborder="12" text="15" visible="false" left="0" top="0" width="15" style="background:#00ffff66;" height="57"/>
              <Calendar id="Calendar00" taborder="0" left="97" top="5" width="100" height="21" dateformat="yyyy-MM-dd" value="null" cssclass="cal_WF_Essential"/>
              <Calendar id="Calendar01" taborder="1" dateformat="yyyy-MM-dd" left="214" top="5" width="100" height="21" cssclass="cal_WF_Essential"/>
              <Static id="Static00" taborder="17" text="~" left="199" top="5" width="13" height="21" style="align:center;"/>
              <Static id="sta_EMPL_SE04" taborder="20" text="사업자(주민)번호" cssclass="sta_WFSA_Label" left="569" top="31" width="115" height="21"/>
              <Static id="sta_EMPL_SE05" taborder="21" text="거래처명" cssclass="sta_WFSA_Label" left="329" top="31" width="70" height="21"/>
              <Static id="sta_EMPL_SE06" taborder="22" text="매입/매출" cssclass="sta_WFSA_Label" left="329" top="5" width="70" height="21"/>
              <Static id="sta_EMPL_SE02" taborder="23" text="결의여부" cssclass="sta_WFSA_Label" left="569" top="5" width="110" height="21"/>
              <Edit id="Edit00" taborder="4" left="97" top="31" width="150" height="21"/>
              <Combo id="Combo00" taborder="3" left="689" top="5" width="119" height="21" codecolumn="codecolumn" datacolumn="datacolumn">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn"/>
                      <Col id="datacolumn">전체</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">등록</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">0</Col>
                      <Col id="datacolumn">미등록</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Edit id="Edit01" taborder="6" left="689" top="31" width="150" height="21"/>
              <Edit id="Edit02" taborder="5" left="404" top="31" width="150" height="21"/>
              <Combo id="Combo01" taborder="2" left="404" top="5" width="150" height="21" innerdataset="@ds_acc029s" codecolumn="CODE" datacolumn="CODE_NM"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static00" taborder="16" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static01" taborder="17" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Static id="Static36" taborder="18" text="10" visible="false" left="0" top="59" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title01" taborder="19" text="세금계산서 내역" cssclass="sta_WF_Title02" left="0" top="69" width="132" height="19" style="align:left middle;"/>
        <Static id="Static51" taborder="20" text="5" visible="false" left="0" top="88" width="1031" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Grid id="grd_mastr" taborder="1" useinputpanel="false" left="0" top="92" width="480" autofittype="col" bottom="0" binddataset="ds_taxbilMaster" onheadclick="grd_mastr_onheadclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="100"/>
                <Column size="70"/>
                <Column size="159"/>
                <Column size="90"/>
                <Column size="70"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="발행일자"/>
                <Cell col="1" text="계산서번호"/>
                <Cell col="2" text="거래처명"/>
                <Cell col="3" text="공급가액"/>
                <Cell col="4" text="세액"/>
              </Band>
              <Band id="body">
                <Cell displaytype="date" text="bind:PBLICTE_DE" calendardisplaynulltype="none"/>
                <Cell col="1" text="bind:TAXBILL_NO"/>
                <Cell col="2" displaytype="normal" style="align:left;" text="bind:BCNC_NM"/>
                <Cell col="3" displaytype="number" style="align:right;" text="bind:SUPLY_AMOUNT"/>
                <Cell col="4" displaytype="number" style="align:right;" text="bind:TAXAMT"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_title00" taborder="23" text="상세내용" cssclass="sta_WF_Title02" left="492" top="69" width="132" height="19" style="align:left middle;"/>
        <Div id="div_detail1" taborder="2" top="94" height="339" cssclass="div_detailBox" width="541" left="490">
          <Layouts>
            <Layout width="476" height="122">
              <Static id="Static27" taborder="111" cssclass="sta_WF_Labelbg" left="0" top="208" right="0" height="27"/>
              <Static id="Static37" taborder="51" cssclass="sta_WF_Labelbg" left="0" top="26" height="27" right="0"/>
              <Static id="Static05" taborder="83" cssclass="sta_WF_Labelbg" left="0" top="52" right="0" height="27"/>
              <Static id="Static11" taborder="87" cssclass="sta_WF_Labelbg" left="0" top="234" right="0" height="27"/>
              <Static id="Static12" taborder="88" cssclass="sta_WF_Labelbg" left="0" top="260" right="0" height="27"/>
              <Static id="Static23" taborder="89" cssclass="sta_WF_Labelbg" left="0" top="286" right="0" height="27"/>
              <Static id="Static24" taborder="90" cssclass="sta_WF_Labelbg" left="0" top="312" right="0" height="27"/>
              <Static id="Static00" taborder="52" text="매입매출" cssclass="sta_WF_Label" left="0" top="52" width="104" height="27"/>
              <Static id="Static15" taborder="59" text="계산서종류" cssclass="sta_WF_Label" left="269" top="52" width="104" height="27"/>
              <Static id="Static14" taborder="74" text="공급가액" cssclass="sta_WF_Label" left="0" top="286" width="104" height="27"/>
              <Static id="Static16" taborder="75" text="세액" cssclass="sta_WF_Label" left="269" top="286" width="104" height="27"/>
              <Static id="Static17" taborder="76" text="합계" cssclass="sta_WF_Label" left="0" top="312" width="104" height="27"/>
              <Static id="Static18" taborder="77" text="영수/청구" cssclass="sta_WF_Label" left="0" top="234" width="104" height="27"/>
              <Static id="Static20" taborder="79" text="결의서" cssclass="sta_WF_Label" left="0" top="260" width="104" height="27"/>
              <Static id="Static21" taborder="80" text="주소" cssclass="sta_WF_Label" left="0" top="208" width="104" height="27"/>
              <Static id="Static22" taborder="81" text="계산서번호" cssclass="sta_WF_Label" left="0" top="26" width="104" height="27"/>
              <Static id="Static09" taborder="82" text="발행일자" cssclass="sta_WF_Label" left="269" top="26" width="104" height="27"/>
              <Edit id="Edit00" taborder="0" left="106" top="29" width="161" height="21" cssclass="edt_WF_Readonly" readonly="true"/>
              <Combo id="cmb_PUCHAS_SELNG_SE" taborder="2" left="106" top="55" width="161" height="21" readonly="true" innerdataset="@ds_acc029" codecolumn="CODE" datacolumn="CODE_NM" index="-1" cssclass="cmb_WF_Readonly"/>
              <Combo id="Combo01" taborder="3" left="375" top="55" width="161" height="21" cssclass="cmb_WF_Essential" codecolumn="CODE" datacolumn="CODE_NM" innerdataset="@ds_acc030"/>
              <Calendar id="Calendar00" taborder="1" left="375" top="30" width="161" height="21" cssclass="cal_WF_Essential"/>
              <Edit id="Edit07" taborder="10" left="106" top="211" width="430" height="21" cssclass="edt_WF_Readonly" readonly="true"/>
              <Combo id="Combo02" taborder="11" left="106" top="237" width="161" height="21" codecolumn="codecolumn" datacolumn="datacolumn" cssclass="cmb_WF_Essential">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">영수</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2</Col>
                      <Col id="datacolumn">청구</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <MaskEdit id="MaskEdit00" taborder="13" left="106" top="289" width="161" height="21" mask="#,###" cssclass="msk_WF_Readonly" readonly="true"/>
              <MaskEdit id="MaskEdit01" taborder="14" left="375" top="289" width="161" height="21" mask="#,###" cssclass="msk_WF_Readonly" readonly="true"/>
              <MaskEdit id="MaskEdit02" taborder="15" left="106" top="315" width="161" height="21" mask="#,###" cssclass="msk_WF_Readonly" readonly="true"/>
              <Edit id="Edit08" taborder="113" readonly="true" cssclass="edt_WF_Readonly" left="106" top="263" width="388" height="21"/>
              <Button id="Button13" taborder="114" text="보기" left="496" top="263" width="40" height="21" onclick="div_detail1_Button13_onclick"/>
              <Static id="Static19" taborder="115" text="전자세금계산서" cssclass="sta_WF_Label" left="269" top="234" width="104" height="27"/>
              <Radio id="Radio00" taborder="116" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" cssclass="rdo_WF_Essential" left="375" top="237" width="117" height="21">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">2</Col>
                      <Col id="datacolumn">발행</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">미발행</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Radio>
              <Static id="Static30" taborder="123" cssclass="sta_WF_Labelbg" left="0" top="78" right="0" height="27"/>
              <Static id="Static06" taborder="126" cssclass="sta_WF_Labelbg" left="8" top="130" height="27" width="533"/>
              <Static id="Static07" taborder="127" cssclass="sta_WF_Labelbg" left="0" top="156" height="27" width="541"/>
              <Static id="Static10" taborder="128" cssclass="sta_WF_Labelbg" left="0" top="182" height="27" width="541"/>
              <Static id="Static01" taborder="129" text="거래처" cssclass="sta_WF_Label" left="0" top="130" width="104" height="27"/>
              <Static id="Static02" taborder="130" text="사업자등록번호" wordwrap="char" cssclass="sta_WF_Label" left="0" top="156" width="104" height="27"/>
              <Static id="Static03" taborder="131" text="대표자" cssclass="sta_WF_Label" left="269" top="156" width="104" height="27"/>
              <Static id="Static04" taborder="132" text="업태" cssclass="sta_WF_Label" left="269" top="182" width="104" height="27"/>
              <Static id="Static08" taborder="133" text="업종" cssclass="sta_WF_Label" left="0" top="182" width="104" height="27"/>
              <Edit id="Edit01" taborder="134" readonly="true" cssclass="edt_WF_Essential" left="106" top="133" width="111" height="21"/>
              <Edit id="Edit02" taborder="135" readonly="true" cssclass="edt_WF_Readonly" left="219" top="133" width="317" height="21"/>
              <Edit id="Edit03" taborder="136" readonly="true" cssclass="edt_WF_Readonly" left="106" top="159" width="161" height="21"/>
              <Edit id="Edit04" taborder="137" readonly="true" cssclass="edt_WF_Readonly" left="375" top="159" width="161" height="21"/>
              <Edit id="Edit05" taborder="138" readonly="true" cssclass="edt_WF_Readonly" left="106" top="185" width="161" height="21"/>
              <Edit id="Edit06" taborder="139" readonly="true" cssclass="edt_WF_Readonly" left="375" top="185" width="161" height="21"/>
              <Button id="btn_bcncPopup" taborder="140" onclick="btn_bcncPopup_onclick" cssclass="btn_WF_Search" left="196" top="133" width="21" height="21"/>
              <Static id="Static25" taborder="141" cssclass="sta_WF_Labelbg" left="0" top="104" right="0" height="27"/>
              <Static id="Static13" taborder="73" text="공제여부" cssclass="sta_WF_Label" left="0" top="104" width="104" height="27"/>
              <Radio id="Radio01" taborder="12" left="106" top="107" width="117" height="21" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" cssclass="rdo_WF_Essential" index="-1">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">예</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">0</Col>
                      <Col id="datacolumn">아니오</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Radio>
              <Combo id="Combo05" taborder="124" readonly="true" codecolumn="codecolumn" datacolumn="datacolumn" cssclass="cmb_WF_Readonly" left="106" top="81" width="161" height="21" index="-1">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">일반매입</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2</Col>
                      <Col id="datacolumn">일반매출</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Static id="Static31" taborder="125" text="불공제" cssclass="sta_WF_Label" left="269" top="104" width="104" height="27"/>
              <Combo id="cmb_bulgongsau" taborder="144" readonly="false" innerdataset="@ds_acc039" codecolumn="CODE" datacolumn="CODE_NM" left="375" top="107" width="161" height="21"/>
              <Static id="Static33" taborder="145" text="거래구분" cssclass="sta_WF_Label" left="0" top="78" width="104" height="27"/>
              <Static id="Static34" taborder="147" text="매입-&gt;일반매입, 매출-&gt;일반매출" visible="false" left="179" top="78" width="183" height="27" style="background:#00ffff66;"/>
              <Static id="Static42" taborder="154" cssclass="sta_WF_Labelbg" left="0" top="0" right="0" height="27"/>
              <Static id="Static43" taborder="155" text="비고" cssclass="sta_WF_Label" left="0" top="0" width="104" height="27"/>
              <Edit id="Edit09" taborder="156" readonly="false" left="106" top="3" width="430" height="21" maxlength="50" lengthunit="ascii"/>
              <Static id="Static26" taborder="117" text="국세청발행여부" cssclass="sta_WF_Label" left="269" top="78" width="104" height="27"/>
              <CheckBox id="CheckBox00" taborder="122" left="375" top="81" width="24" height="21" enable="true" cssclass="chk_WF_Readonly" readonly="true"/>
              <Combo id="Combo04" taborder="157" readonly="true" innerdataset="@ds_temp" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Readonly" left="426" top="315" width="110" height="21" visible="false"/>
              <Static id="Static29" taborder="158" text="발행구분" cssclass="sta_WF_Label" left="344" top="312" width="80" height="27" visible="false"/>
              <Combo id="Combo03" taborder="159" readonly="true" innerdataset="@ds_temp" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Readonly" left="242" top="315" width="100" height="21" visible="false"/>
              <Static id="Static40" taborder="160" text="맵핑필요" visible="false" left="232" top="309" width="52" height="27" style="background:#00ffff66;"/>
              <Static id="Static28" taborder="161" text="발행상태" cssclass="sta_WF_Label" left="160" top="312" width="80" height="27" visible="false"/>
              <Static id="Static41" taborder="162" text="맵핑필요" visible="false" left="492" top="309" width="52" height="27" style="background:#00ffff66;"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static42" taborder="25" text="10" visible="false" left="480" top="58" bottom="0" style="background:#1b3cd23c;align:center middle;" width="10"/>
        <Grid id="grd_dtls" taborder="6" useinputpanel="false" left="490" top="464" bottom="-1" right="28" binddataset="ds_taxbilDetail" autoenter="select">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="90"/>
                <Column size="300"/>
                <Column size="100"/>
                <Column size="60"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="80"/>
                <Column size="107"/>
                <Column size="150"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell text="품목일자"/>
                <Cell col="1" text="품목"/>
                <Cell col="2" text="규격"/>
                <Cell col="3" text="수량"/>
                <Cell col="4" text="단가"/>
                <Cell col="5" text="공급가액"/>
                <Cell col="6" text="세액"/>
                <Cell col="7" text="합계"/>
                <Cell col="8" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="date" edittype="date" text="bind:PRDLST_DE" calendardisplaynulltype="none"/>
                <Cell col="1" edittype="text" style="align:left;" text="bind:PRDLST" editlimit="100" editlimitbymask="decimal"/>
                <Cell col="2" edittype="text" text="bind:STNDRD" editlimit="100"/>
                <Cell col="3" edittype="masknumber" text="bind:QY" mask="###########" maskchar=" " editlimit="11" editlimitbymask="integer"/>
                <Cell col="4" displaytype="number" edittype="masknumber" text="bind:UNTPC" mask="###,###,##.###" maskchar=" " editlimit="11" editlimitbymask="both"/>
                <Cell col="5" displaytype="number" edittype="masknumber" style="align:right;" text="bind:SUPLY_AMOUNT" mask="###,###,###,###,###" maskchar=" " editlimit="15" editlimitbymask="integer"/>
                <Cell col="6" displaytype="number" edittype="masknumber" style="align:right;" text="bind:TAXAMT" mask="###,###,###,###,###" maskchar=" " editlimit="15" editlimitbymask="integer"/>
                <Cell col="7" displaytype="number" style="align:right;" text="expr:SUPLY_AMOUNT+TAXAMT" mask="###,###,###,###,###" maskchar=" " editlimit="15" editlimitbymask="integer"/>
                <Cell col="8" edittype="text" style="align:left;" text="bind:RM" editlimit="100"/>
              </Band>
              <Band id="summary">
                <Cell/>
                <Cell col="1"/>
                <Cell col="2"/>
                <Cell col="3"/>
                <Cell col="4"/>
                <Cell col="5" displaytype="number" style="align:right;" text="expr:dataset.getSum(&quot;SUPLY_AMOUNT&quot;)"/>
                <Cell col="6" displaytype="number" style="align:right;" text="expr:dataset.getSum(&quot;TAXAMT&quot;)"/>
                <Cell col="7" displaytype="number" style="align:right;" text="expr:dataset.getSum(&quot;SUPLY_AMOUNT&quot;)+dataset.getSum(&quot;TAXAMT&quot;)"/>
                <Cell col="8"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static02" taborder="27" text="10" visible="false" top="431" height="10" style="background:#dc143c3c;align:center middle;" width="539" right="30"/>
        <Static id="sta_title02" taborder="28" text="품목" cssclass="sta_WF_Title03" left="493" top="441" width="132" height="19" style="align:left middle;"/>
        <Static id="Static03" taborder="29" text="5" visible="false" top="460" width="539" height="5" style="background:#dc143c3c;align:center middle;" right="30"/>
        <Button id="btn_add" taborder="3" text="행추가" cssclass="btn_WF_Gridadd" top="441" width="64" height="19" right="162" onclick="btn_add_onclick"/>
        <Button id="btn_del" taborder="4" text="행삭제" cssclass="btn_WF_Griddel" top="441" width="64" height="19" right="95" onclick="btn_del_onclick"/>
        <Button id="btn_reset" taborder="5" text="행취소" cssclass="btn_WF_Gridcnl" top="441" width="64" height="19" right="28" onclick="btn_reset_onclick"/>
        <Button id="btn_taxbilC" taborder="30" text="발행" cssclass="btn_WF_Process" left="991" top="68" width="40" height="21" onclick="Button50_onclick" visible="false" enable="false"/>
        <Button id="btn_excelDown" taborder="31" onclick="btn_excelDown_onclick" cssclass="btn_WF_Gridexceldn" top="69" width="25" height="19" left="455"/>
        <Grid id="grd_excel" taborder="32" binddataset="ds_taxbilMaster" useinputpanel="false" autofittype="col" left="1" top="757" bottom="-225" width="1028" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="150"/>
                <Column size="150"/>
                <Column size="150"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="200"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="30" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="발행일자"/>
                <Cell col="1" text="계산서번호"/>
                <Cell col="2" text="거래처명"/>
                <Cell col="3" text="공급가액"/>
                <Cell col="4" text="세액"/>
                <Cell col="5" text="합계"/>
                <Cell col="6" text="매입매출"/>
                <Cell col="7" text="계산서종류"/>
                <Cell col="8" text="거래구분"/>
                <Cell col="9" text="국세청&#13;&#10;발행여부"/>
                <Cell col="10" text="공제여부"/>
                <Cell col="11" text="불공제"/>
                <Cell col="12" text="거래처번호"/>
                <Cell col="13" text="거래처명"/>
                <Cell col="14" text="사업자등록번호"/>
                <Cell col="15" text="대표자"/>
                <Cell col="16" text="업종"/>
                <Cell col="17" text="업태"/>
                <Cell col="18" text="주소"/>
                <Cell col="19" text="영수/청구"/>
                <Cell col="20" text="전자세금계산서"/>
                <Cell col="21" text="결의서"/>
                <Cell col="22" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="date" text="bind:PBLICTE_DE" calendardisplaynulltype="none"/>
                <Cell col="1" text="bind:TAXBILL_NO"/>
                <Cell col="2" displaytype="normal" style="align:left;" text="bind:BCNC_NM"/>
                <Cell col="3" displaytype="number" style="align:right;" text="bind:SUPLY_AMOUNT"/>
                <Cell col="4" displaytype="number" style="align:right;" text="bind:TAXAMT"/>
                <Cell col="5" displaytype="number" text="bind:SM_AMOUNT"/>
                <Cell col="6" displaytype="combo" text="bind:PUCHAS_SELNG_SE" combodataset="ds_acc029" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="7" displaytype="combo" text="bind:BILL_KND" combodataset="ds_acc030" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="8" displaytype="normal" text="expr:PUCHAS_SELNG_SE == '1' ? '일반매출' : (PUCHAS_SELNG_SE == '2' ? '일반매입' : '')"/>
                <Cell col="9" text="expr:ISSU_SEQNO == '1' ? '발행' : '미발행'"/>
                <Cell col="10" text="expr:TAXT_AT == '1' ? '예' : '아니오'"/>
                <Cell col="11" displaytype="combo" text="bind:NDDT_SE" combodataset="ds_acc039" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="12" text="bind:BCNC_CODE"/>
                <Cell col="13" style="align:left;" text="bind:BCNC_NM"/>
                <Cell col="14" text="bind:BIZRNO"/>
                <Cell col="15" text="bind:RPRSNTV_NM"/>
                <Cell col="16" text="bind:INDUTY"/>
                <Cell col="17" text="bind:BIZCND"/>
                <Cell col="18" style="align:left;" text="bind:BPLC_ADRES"/>
                <Cell col="19" displaytype="normal" text="expr:RQEST_RCPT_SE == '1' ? '영수' : (RQEST_RCPT_SE == '2' ? '청구' : '' )"/>
                <Cell col="20" text="expr:PBLICTE_AT == '1' ? '발행' : '미발행'"/>
                <Cell col="21"/>
                <Cell col="22" style="align:left;" text="bind:RM"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PBLICTE_FROM_DE" type="STRING" size="256"/>
          <Column id="PBLICTE_TO_DE" type="STRING" size="256"/>
          <Column id="TAXBILL_NO" type="STRING" size="256"/>
          <Column id="PUCHAS_SELNG_SE" type="STRING" size="256"/>
          <Column id="SRCH_TAXBILL_NO" type="STRING" size="256"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="BIZRNO" type="STRING" size="256"/>
          <Column id="DECSN_YN" type="STRING" size="256"/>
          <Column id="BCNC_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_taxbilMaster" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_taxbilMaster_onrowposchanged" canrowposchange="ds_taxbilMaster_canrowposchange" oncolumnchanged="ds_taxbilMaster_oncolumnchanged">
        <ColumnInfo>
          <Column id="SM_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="BIZCND" type="string" size="32"/>
          <Column id="UPDUSR_ID" type="string" size="32"/>
          <Column id="CASH_SE" type="string" size="32"/>
          <Column id="REGIST_DT" type="string" size="32"/>
          <Column id="TAXBILL_NO" type="string" size="32"/>
          <Column id="PUCHAS_SELNG_SE" type="string" size="32"/>
          <Column id="ITEM" type="string" size="32"/>
          <Column id="BPLC_ADRES" type="string" size="32"/>
          <Column id="RQEST_RCPT_SE" type="string" size="32"/>
          <Column id="TAXAMT" type="bigdecimal" size="16"/>
          <Column id="PBLICTE_DE" type="string" size="32"/>
          <Column id="BIZRNO" type="string" size="32"/>
          <Column id="SUPLY_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="REGISTER_ID" type="string" size="32"/>
          <Column id="BILL_KND" type="string" size="32"/>
          <Column id="RPRSNTV_NM" type="string" size="32"/>
          <Column id="TAXT_AT" type="string" size="32"/>
          <Column id="UPDT_DT" type="string" size="32"/>
          <Column id="BCNC_CODE" type="string" size="32"/>
          <Column id="NTS_CONFM_NO" type="string" size="32"/>
          <Column id="BCNC_NM" type="string" size="32"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="NDDT_SE" type="STRING" size="256"/>
          <Column id="ISSU_SEQNO" type="STRING" size="256"/>
          <Column id="INDUTY" type="STRING" size="256"/>
          <Column id="PBLICTE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_taxbilDetail" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_taxbilDetail_oncolumnchanged">
        <ColumnInfo>
          <Column id="TAXBILL_NO" type="STRING" size="10"/>
          <Column id="SEQ" type="BIGDECIMAL" size="22"/>
          <Column id="PRDLST_DE" type="STRING" size="8"/>
          <Column id="PRDLST" type="STRING" size="200"/>
          <Column id="STNDRD" type="STRING" size="200"/>
          <Column id="QY" type="BIGDECIMAL" size="22"/>
          <Column id="UNTPC" type="BIGDECIMAL" size="22"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="TAXAMT" type="BIGDECIMAL" size="22"/>
          <Column id="RM" type="STRING" size="200"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
          <Column id="BCNC_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_taxbilMasterTmp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="SM_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="BIZCND" type="string" size="32"/>
          <Column id="UPDUSR_ID" type="string" size="32"/>
          <Column id="CASH_SE" type="string" size="32"/>
          <Column id="REGIST_DT" type="string" size="32"/>
          <Column id="TAXBILL_NO" type="string" size="32"/>
          <Column id="PUCHAS_SELNG_SE" type="string" size="32"/>
          <Column id="INDUTY" type="string" size="32"/>
          <Column id="BPLC_ADRES" type="string" size="32"/>
          <Column id="RQEST_RCPT_SE" type="string" size="32"/>
          <Column id="TAXAMT" type="bigdecimal" size="16"/>
          <Column id="PBLICTE_DE" type="string" size="32"/>
          <Column id="BIZRNO" type="string" size="32"/>
          <Column id="SUPLY_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="REGISTER_ID" type="string" size="32"/>
          <Column id="RQEST_RCPT_SE" type="string" size="32"/>
          <Column id="RPRSNTV" type="string" size="32"/>
          <Column id="TAXT_AT" type="string" size="32"/>
          <Column id="UPDT_DT" type="string" size="32"/>
          <Column id="BCNC_CODE" type="string" size="32"/>
          <Column id="NTS_CONFM_NO" type="string" size="32"/>
          <Column id="BCNC_NM" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">PBLICTE_FROM_DE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">발행일자</Col>
            <Col id="from">PBLICTE_FROM_DE</Col>
            <Col id="to">PBLICTE_TO_DE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">PBLICTE_TO_DE</Col>
            <Col id="notNull">Y</Col>
            <Col id="from">PBLICTE_FROM_DE</Col>
            <Col id="to">PBLICTE_TO_DE</Col>
            <Col id="msgId">발행일자</Col>
          </Row>
          <Row>
            <Col id="colId">PUCHAS_SELNG_SE</Col>
            <Col id="compId">ds_taxbilMaster</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">매입/매출</Col>
          </Row>
          <Row>
            <Col id="compId">ds_taxbilMaster</Col>
            <Col id="colId">BCNC_CODE</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="msgId">거래처</Col>
          </Row>
          <Row>
            <Col id="compId">ds_taxbilMaster</Col>
            <Col id="colId">PBLICTE_DE</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="msgId">발행일자</Col>
          </Row>
          <Row>
            <Col id="compId">ds_taxbilMaster</Col>
            <Col id="colId">RQEST_RCPT_SE</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="msgId">계산서종류</Col>
          </Row>
          <Row>
            <Col id="compId">ds_taxbilMaster</Col>
            <Col id="colId">RQEST_RCPT_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">영수/청구</Col>
          </Row>
          <Row>
            <Col id="compId">ds_taxbilMaster</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">공제여부</Col>
            <Col id="colId">TAXT_AT</Col>
          </Row>
          <Row>
            <Col id="compId">ds_taxbilMaster</Col>
            <Col id="colId">PBLICTE_AT</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">전자세금계산서 발행여부</Col>
          </Row>
          <Row>
            <Col id="compId">ds_taxbilDetail</Col>
            <Col id="colId">STNDRD</Col>
            <Col id="notNull"/>
            <Col id="msgId">[품목]규격</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_acc029" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc030" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc029s" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_temp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="CODE_CN">맵핑필요</Col>
            <Col id="CODE_NM">맵핑필요</Col>
          </Row>
          <Row>
            <Col id="CODE_NM">맵핑필요</Col>
            <Col id="CODE">2</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_temp2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="CODE_CN">맵핑필요</Col>
            <Col id="CODE_NM">일반매입</Col>
          </Row>
          <Row>
            <Col id="CODE_NM">일반매출</Col>
            <Col id="CODE">2</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_acc039" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="CODE_CN">맵핑필요</Col>
            <Col id="CODE_NM">일반매입</Col>
          </Row>
          <Row>
            <Col id="CODE_NM">일반매출</Col>
            <Col id="CODE">2</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="TAXBILL_NO" type="STRING" size="256"/>
          <Column id="BCNC_CODE" type="STRING" size="256"/>
          <Column id="PBLICTE_DE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_taxbilMasterItis" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_taxbilMaster_onrowposchanged" canrowposchange="ds_taxbilMaster_canrowposchange" oncolumnchanged="ds_taxbilMaster_oncolumnchanged">
        <ColumnInfo>
          <Column id="SM_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="BIZCND" type="string" size="32"/>
          <Column id="UPDUSR_ID" type="string" size="32"/>
          <Column id="CASH_SE" type="string" size="32"/>
          <Column id="REGIST_DT" type="string" size="32"/>
          <Column id="TAXBILL_NO" type="string" size="32"/>
          <Column id="PUCHAS_SELNG_SE" type="string" size="32"/>
          <Column id="ITEM" type="string" size="32"/>
          <Column id="BPLC_ADRES" type="string" size="32"/>
          <Column id="RQEST_RCPT_SE" type="string" size="32"/>
          <Column id="TAXAMT" type="bigdecimal" size="16"/>
          <Column id="PBLICTE_DE" type="string" size="32"/>
          <Column id="BIZRNO" type="string" size="32"/>
          <Column id="SUPLY_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="REGISTER_ID" type="string" size="32"/>
          <Column id="BILL_KND" type="string" size="32"/>
          <Column id="RPRSNTV_NM" type="string" size="32"/>
          <Column id="TAXT_AT" type="string" size="32"/>
          <Column id="UPDT_DT" type="string" size="32"/>
          <Column id="BCNC_CODE" type="string" size="32"/>
          <Column id="NTS_CONFM_NO" type="string" size="32"/>
          <Column id="BCNC_NM" type="string" size="32"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="NDDT_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="div_SEARCH.Calendar00" propid="value" datasetid="ds_cond" columnid="PBLICTE_FROM_DE"/>
      <BindItem id="item1" compid="div_SEARCH.Calendar01" propid="value" datasetid="ds_cond" columnid="PBLICTE_TO_DE"/>
      <BindItem id="item3" compid="div_detail1.Edit00" propid="value" datasetid="ds_taxbilMaster" columnid="TAXBILL_NO"/>
      <BindItem id="item4" compid="div_detail1.Calendar00" propid="value" datasetid="ds_taxbilMaster" columnid="PBLICTE_DE"/>
      <BindItem id="item5" compid="div_detail1.cmb_PUCHAS_SELNG_SE" propid="value" datasetid="ds_taxbilMaster" columnid="PUCHAS_SELNG_SE"/>
      <BindItem id="item6" compid="div_detail1.Combo01" propid="value" datasetid="ds_taxbilMaster" columnid="BILL_KND"/>
      <BindItem id="item13" compid="div_detail1.Edit07" propid="value" datasetid="ds_taxbilMaster" columnid="BPLC_ADRES"/>
      <BindItem id="item14" compid="div_detail1.Combo02" propid="value" datasetid="ds_taxbilMaster" columnid="RQEST_RCPT_SE"/>
      <BindItem id="item15" compid="div_detail1.Radio01" propid="value" datasetid="ds_taxbilMaster" columnid="TAXT_AT"/>
      <BindItem id="item16" compid="div_detail1.MaskEdit01" propid="value" datasetid="ds_taxbilMaster" columnid="TAXAMT"/>
      <BindItem id="item17" compid="div_detail1.MaskEdit00" propid="value" datasetid="ds_taxbilMaster" columnid="SUPLY_AMOUNT"/>
      <BindItem id="item18" compid="div_detail1.MaskEdit02" propid="value" datasetid="ds_taxbilMaster" columnid="SM_AMOUNT"/>
      <BindItem id="item2" compid="div_SEARCH.Combo01" propid="value" datasetid="ds_cond" columnid="PUCHAS_SELNG_SE"/>
      <BindItem id="item20" compid="div_SEARCH.Edit00" propid="value" datasetid="ds_cond" columnid="SRCH_TAXBILL_NO"/>
      <BindItem id="item21" compid="div_SEARCH.Edit02" propid="value" datasetid="ds_cond" columnid="BCNC_NM"/>
      <BindItem id="item22" compid="div_SEARCH.Edit01" propid="value" datasetid="ds_cond" columnid="BIZRNO"/>
      <BindItem id="item23" compid="div_SEARCH.Combo00" propid="value" datasetid="ds_cond" columnid="DECSN_YN"/>
      <BindItem id="item19" compid="div_detail1.Edit08" propid="value" datasetid="ds_taxbilMaster" columnid="SUMRY"/>
      <BindItem id="item24" compid="div_detail1.Radio00" propid="value" datasetid="ds_taxbilMaster" columnid="PBLICTE_AT"/>
      <BindItem id="item27" compid="div_detail1.Combo05" propid="value" datasetid="ds_taxbilMaster" columnid="PUCHAS_SELNG_SE"/>
      <BindItem id="item7" compid="div_detail1.Edit01" propid="value" datasetid="ds_taxbilMaster" columnid="BCNC_CODE"/>
      <BindItem id="item8" compid="div_detail1.Edit02" propid="value" datasetid="ds_taxbilMaster" columnid="BCNC_NM"/>
      <BindItem id="item9" compid="div_detail1.Edit03" propid="value" datasetid="ds_taxbilMaster" columnid="BIZRNO"/>
      <BindItem id="item10" compid="div_detail1.Edit04" propid="value" datasetid="ds_taxbilMaster" columnid="RPRSNTV_NM"/>
      <BindItem id="item12" compid="div_detail1.Edit05" propid="value" datasetid="ds_taxbilMaster" columnid="INDUTY"/>
      <BindItem id="item11" compid="div_detail1.Edit06" propid="value" datasetid="ds_taxbilMaster" columnid="BIZCND"/>
      <BindItem id="item29" compid="div_detail1.cmb_bulgongsau" propid="value" datasetid="ds_taxbilMaster" columnid="NDDT_SE"/>
      <BindItem id="item31" compid="div_detail1.Button13" propid="enable" datasetid="ds_taxbilMaster" columnid="DECSN_YN"/>
      <BindItem id="item30" compid="div_detail1.Edit09" propid="value" datasetid="ds_taxbilMaster" columnid="RM"/>
      <BindItem id="item28" compid="div_detail1.CheckBox00" propid="value" datasetid="ds_taxbilMaster" columnid="ISSU_SEQNO"/>
      <BindItem id="item26" compid="div_detail1.Combo04" propid="value" datasetid="ds_taxbilMaster" columnid="RQEST_RCPT_SE"/>
      <BindItem id="item25" compid="div_detail1.Combo03" propid="value" datasetid="ds_taxbilMaster" columnid="RQEST_RCPT_SE"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : ACC030101
 * 화면명   : 세금계산서 발행
 * 화면설명 : 세금계산서 발행을 관리한다.
 * 작성일   : 2015.08.25
 * 작성자   : 이상명
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    
 ***********************************************************************
 */


/***********************************************************************
 * Script Include 
 ************************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";

// 업무에 필요한 공통 라이브러리 파일을 추가할 수 있다.
// TODO


/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
 

 /***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.ACC030101_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// Form 초기화
	this.fn_init_form();
	this.fn_misFormInit(this);

	// DataSet 초기화
	this.fn_init_dataset();

	// 공통코드
	var comboParams = [
		 ["ds_acc029", "ACC029", "Y", "D", "B"]	// 매입매출구분
		,["ds_acc030", "ACC030", "Y", "D", "B"]	// 계산서종류
		,["ds_acc029s","ACC029", "Y", "A", "B"]	// 매입매출구분(검색조건)
		,["ds_acc039", "ACC039", "Y", "D", "B"]	// 불공제구분
	];
	var callback = function (svcId, errorCode, errorMsg) {
		// 조회 이벤트 / 함수 호출
		this.fn_search();
	};
	this.gfn_comboLoad (comboParams, callback);
	
	
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
 
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	// 시스템 공통으로 Form을 Initialize 한다.
	this.gfn_initForm(this);
	
	var today = this.dateUtils.today();
	this.ds_cond.clearData();
	this.ds_cond.addRow();
	this.ds_cond.setColumn(0, "PBLICTE_FROM_DE", today.substr(0,6)+"01");
	this.ds_cond.setColumn(0, "PBLICTE_TO_DE", today);
}

/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	//this.gfn_initCondDs(this, this.div_search);
	
	// 조건 Dataset 외에 초기화가 필요한 Dataset에 대한 초기화 코드를 추가한다.
	// TODO
}

/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/
/*
 * 함수명  	: fn_search
 * 설명 		: 과목코드 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{	
	// validation 체크
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond, this.ds_validation)) {
		return false;
	}
	if (this.comUtils.isDatasetUpdated(this.ds_taxbilDetail) || this.comUtils.isDatasetUpdated(this.ds_taxbilMaster)) {
		if(!this.gfn_message("confirm.변경.취소.여부")){
		return false;
		}
	}
	this.ds_taxbilDetail.applyChange();
	this.ds_taxbilMaster.clearData();
	this.ds_taxbilDetail.clearData();
	this.fn_transaction("taxbilMasterList");
}

/*
 * 함수명  	: fn_save
 * 설명 		: 과목코드 저장
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save= function()
{
	// 데이터셋 수정 여부체크
	if (!this.comUtils.isDatasetUpdated(this.ds_taxbilMaster) && !this.comUtils.isDatasetUpdated(this.ds_taxbilDetail)) {
		this.gfn_message("comm.데이터.변경.없음");
		return false;
	}
	
	// validation 체크(세금계산서)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_taxbilMaster, this.ds_validation)) {
		return;
	}
	
	// validation 체크(품목)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_taxbilDetail, this.ds_validation)) {
		return;
	}
	
	//품목 등록에 따라 세금계산서에 공급가액, 세액 설정
	if (this.comUtils.isDatasetUpdated(this.ds_taxbilDetail)) {
		if(this.ds_taxbilDetail.rowcount>0){
			this.ds_taxbilMaster.setColumn(this.ds_taxbilMaster.rowposition, "SUPLY_AMOUNT", this.ds_taxbilDetail.getSum("SUPLY_AMOUNT"));						// 공급가액
			this.ds_taxbilMaster.setColumn(this.ds_taxbilMaster.rowposition, "TAXAMT", this.ds_taxbilDetail.getSum("TAXAMT"));									// 세액
			this.ds_taxbilMaster.setColumn(this.ds_taxbilMaster.rowposition, "SM_AMOUNT", this.ds_taxbilDetail.getSum("SUPLY_AMOUNT") + this.ds_taxbilDetail.getSum("TAXAMT"));	// 합계
		}else{
			this.ds_taxbilMaster.setColumn(this.ds_taxbilMaster.rowposition, "SUPLY_AMOUNT", null);			// 공급가액
			this.ds_taxbilMaster.setColumn(this.ds_taxbilMaster.rowposition, "TAXAMT", null);				// 세액
			this.ds_taxbilMaster.setColumn(this.ds_taxbilMaster.rowposition, "SM_AMOUNT", null);				// 합계
		}
	}
	
	this.fn_transaction("taxbilMasterCUD");
	
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
 
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "taxbilMasterList": // 세금계산서 조회
			var sController   	= "hsco/mis/acc/ACC030101/taxbilMasterList.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_taxbilMaster=output1";
			break;
		case "taxbilDetailList": // 품목 조회
			var sController   	= "hsco/mis/acc/ACC030101/taxbilDetailList.do";
			var sInDatasets   	= "input1=ds_cond2";
			var sOutDatasets  	= "ds_taxbilDetail=output1";
			this.ds_taxbilDetail.clearData();
			break;	
		case "taxbilMasterCUD":	 // 세금계산서 저장
			var sController   	= "hsco/mis/acc/ACC030101/taxbilMasterCUD.do";
			var sInDatasets   	= "input1=ds_taxbilMaster:U input2=ds_taxbilDetail:U";
			var sOutDatasets  	= "";
			break;
		case "taxbilItisC":		// 세금계산서 발행
			var sController   	= "hsco/mis/acc/ACC030101/taxbilItisC.do";
			var sInDatasets   	= "input1=ds_taxbilMasterItis:A";
			var sOutDatasets  	= "";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}

/**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/

 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	if (nErrorCode != 0) {
		// 오류 메시지를 보여주는 동작 외에 처리할 내용이 있으면 아래에 기술.
		// 처리할 내용이 없다면, switch 문은 생략합니다.
		switch(strSvcId) {
			case "taxbilMasterList":
				break;
			case "taxbilDetailList":
				break;
			case "taxbilMasterCUD":
				break;
			case "taxbilItisC":
				break;
			default:
				break;
		}
		// 오류 및 성공 메시지를 화면에 보여준다.
		this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	} else {
		// 성공 메시지를 보여주는 동작 외에 처리할 내용이 있으면 아래에 기술.
		// 처리할 내용이 없다면, switch 문은 생략합니다.
		switch(strSvcId) {
			case "taxbilMasterList":
				break;
			case "taxbilDetailList":
				break;
			case "taxbilMasterCUD":
				this.gfn_message("success.처리.성공");
				this.fn_search();
				break;
			case "taxbilItisC":
				this.gfn_message("success.처리.성공");
				this.fn_search();
				break;
			default:
				break;
		}
	}
	
	
}

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/
/*
 * 함수명  	: fn_insert
 * 설명 		: 신규 버튼
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function()
{
	var nRow = this.ds_taxbilMaster.addRow();
	// 초기값 설정
	this.ds_taxbilMaster.setColumn(nRow, "PBLICTE_DE", this.dateUtils.today());	// 발행일자
	this.ds_taxbilMaster.setColumn(nRow, "PUCHAS_SELNG_SE", "2");						// 매입(고정)
}


/*
 * 함수명  	: fn_delete
 * 설명 		: 삭제 버튼
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete= function()
{
	if (this.gfn_message("confirm.삭제여부") ) {
		this.ds_taxbilMaster.deleteRow(this.ds_taxbilMaster.rowposition);
		
		this.ds_cond.setColumn(0, "TAXBILL_NO", this.ds_taxbilMaster.getColumn(this.ds_taxbilMaster.rowposition, "TAXBILL_NO"));
		this.ds_taxbilDetail.clearData();
		this.fn_transaction("taxbilDetailList");
	}
}

/*
 * 함수명  	: fn_cancel
 * 설명 		: 취소 버튼 이벤트 처리(Dataset 변경 내역 Reset)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_cancel();
 */
this.fn_cancel= function()
{
	this.ds_taxbilMaster.reset();
	this.ds_taxbilDetail.reset();
}

/*
 * 함수명  	: fn_print
 * 설명 		: 출력 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_print();
 */
this.fn_print = function()
{
	var vOpts = new this.cf_Opts;
	vOpts.setToolbar(false);
	vOpts.setScale(100);
	vOpts.setArgs("title", "세금계산서 내역");
	vOpts.setSaveFilename("세금계산서 내역");
	vOpts.clearLocalDs();
	vOpts.setGrid(this.grd_mastr);
	vOpts.setReportPath("/common/hscoLandscapeA3.jrf");

	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		opts : vOpts
	};

	this.gfn_popup("Popup_Report", 884, 735, "세금계산서 내역", parm, "common::frmReportPopup.xfdl", "");
}

/*
 * 함수명  	: btn_excelDn_onclick
 * 설명 		: 그리드 엑셀 다운로드
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_excelDn_onclick();
 */
this.btn_excelDn_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.gfn_exportExcel(this.grd, "exportExl");
}

/*
 * 함수명  	: div_SEARCH_btn_bcncPopup_onclick
 * 설명 		: 거래처 팝업
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_SEARCH_btn_bcncPopup_onclick();
 */
this.btn_bcncPopup_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.gfn_popup("btn_bcncPopup", "", "", "거래처",{searchStr:this.ds_cond.saveXML()}, "mis_ctr::CTR010101_P02.xfdl", "fn_popupCallBack", true);
}

/*
 * 함수명  	: fn_popupCallBack
 * 설명 		: 거래처 팝업 콜백
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_popupCallBack();
 */
this.fn_popupCallBack = function(strID, variant)
{
	if(variant != null && variant.length > 0) {
		var dsTemp = new Dataset();
		dsTemp.loadXML(variant);
		trace(variant)
		
		var currow = this.ds_taxbilMaster.rowposition;
		this.ds_taxbilMaster.setColumn(currow, "BCNC_CODE",  dsTemp.getColumn(0, "BCNC_CODE"));				// 거래처코드
		this.ds_taxbilMaster.setColumn(currow, "BCNC_NM", 	 dsTemp.getColumn(0, "BCNC_NM"));				// 거래처명
		this.ds_taxbilMaster.setColumn(currow, "BIZRNO",	 dsTemp.getColumn(0, "BIZRNO"));				// 사업자번호
		this.ds_taxbilMaster.setColumn(currow, "RPRSNTV", dsTemp.getColumn(0, "RPRSNTV"));				// 대표자
		this.ds_taxbilMaster.setColumn(currow, "BIZCND", 	 dsTemp.getColumn(0, "BIZCND"));				// 업태
		this.ds_taxbilMaster.setColumn(currow, "INDUTY", 		 dsTemp.getColumn(0, "INDUTY"));				// 업종
		
		var addr = "";
		if(!this.comUtils.isNull(dsTemp.getColumn(0, "ADRES"))) {
			addr += dsTemp.getColumn(0, "ADRES");
		}
		if(!this.comUtils.isNull(dsTemp.getColumn(0, "DETAIL_ADRES"))) {
			addr += " " + dsTemp.getColumn(0, "DETAIL_ADRES");
		}
		
		this.ds_taxbilMaster.setColumn(currow, "BPLC_ADRES", addr); // 주소
	}
}

/*
 * 함수명  	: ds_taxbilMaster_onrowposchanged
 * 설명 		: 세금계산서 행 변경 처리 (품목 조회)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_taxbilMaster_onrowposchanged();
 */
this.ds_taxbilMaster_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(obj.getRowType(e.newrow) == Dataset.ROWTYPE_INSERT){
		this.div_detail1.cmb_PUCHAS_SELNG_SE.set_cssclass("cmb_WF_Essential");
		this.div_detail1.cmb_PUCHAS_SELNG_SE.set_readonly(false);
	}else{
		this.div_detail1.cmb_PUCHAS_SELNG_SE.set_cssclass("cmb_WF_Readonly");
		this.div_detail1.cmb_PUCHAS_SELNG_SE.set_readonly(true);
	}
	
	if(obj.getColumn(e.newrow, "TAXT_AT") == "0"){
		this.div_detail1.cmb_bulgongsau.set_cssclass("cmb_WF_Essential");
		this.div_detail1.cmb_bulgongsau.set_readonly(false);
	}else{
		this.div_detail1.cmb_bulgongsau.set_cssclass("cmb_WF_Readonly");
		this.div_detail1.cmb_bulgongsau.set_readonly(true);
	}
	
	if(obj.getColumn(e.newrow, "PUCHAS_SELNG_SE") == "2"){
		this.btn_taxbilC.set_enable(true);
	}else{
		this.btn_taxbilC.set_enable(false);
	}
	
	this.ds_cond2.clearData();
	this.ds_cond2.addRow();
	this.ds_cond2.setColumn(0, "TAXBILL_NO", obj.getColumn(e.newrow, "TAXBILL_NO"));
	this.ds_cond2.setColumn(0, "BCNC_CODE", obj.getColumn(e.newrow, "BCNC_CODE"));
	this.ds_cond2.setColumn(0, "PBLICTE_DE", obj.getColumn(e.newrow, "PBLICTE_DE"));
	
	this.ds_taxbilDetail.clearData();
	this.fn_transaction("taxbilDetailList");
}

/*
 * 함수명  	: ds_taxbilDetail_oncolumnchanged
 * 설명 		: 품목 금액 변경시 합계 계산 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_taxbilDetail_oncolumnchanged();
 */
this.ds_taxbilDetail_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	switch(e.columnid) {
		case "QY":				// 수량
		case "UNTPC":			// 단가
			// 공급가액,세액,합계 계산
			obj.setColumn(e.row, "SUPLY_AMOUNT", obj.getColumn(e.row, "QY") * obj.getColumn(e.row, "UNTPC"));
			obj.setColumn(e.row, "TAXAMT", Math.floor(obj.getColumn(e.row, "SUPLY_AMOUNT")/10));
	}
}

/*
 * 함수명  	: btn_add_onclick
 * 설명 		: 품목 추가
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_add_onclick();
 */
this.btn_add_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_taxbilDetail.addRow();
	this.ds_taxbilDetail.setColumn(nRow, "TAXBILL_NO", this.ds_taxbilMaster.getColumn(this.ds_taxbilMaster.rowposition, "TAXBILL_NO"));
	this.ds_taxbilDetail.setColumn(nRow, "SUPLY_AMOUNT", 0);
	this.ds_taxbilDetail.setColumn(nRow, "TAXAMT", 0);
	this.ds_taxbilDetail.setColumn(nRow, "PRDLST_DE", this.ds_taxbilMaster.getColumn(this.ds_taxbilMaster.rowposition, "PBLICTE_DE"));
	this.ds_taxbilDetail.setColumn(nRow, "BCNC_CODE", this.ds_taxbilMaster.getColumn(this.ds_taxbilMaster.rowposition, "BCNC_CODE"));
}

/*
 * 함수명  	: btn_del_onclick
 * 설명 		: 품목 삭제
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_del_onclick();
 */
this.btn_del_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.ds_taxbilDetail.deleteRow(this.ds_taxbilDetail.rowposition);
}

/*
 * 함수명  	: btn_reset_onclick
 * 설명 		: 품목 초기화
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_reset_onclick();
 */
this.btn_reset_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.ds_taxbilDetail.reset();
}

/*
 * 함수명  	: ds_taxbilMaster_canrowposchange
 * 설명 		: 세금계산서 선택에 따른 품목 초기화 여부
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_reset_onclick();
 */
this.ds_taxbilMaster_canrowposchange = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if (this.comUtils.isDatasetUpdated(this.ds_taxbilDetail)) {
		if(!this.gfn_message("confirm.변경.취소.여부")){
		return false;
		}
	}
	this.ds_taxbilDetail.applyChange();
	this.ds_taxbilDetail.clearData();
}

this.div_detail1_Button13_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_taxbilMaster.rowposition;
	this.arrStrUrl = {
		 "01": "mis_acc::ACC020203_P03.xfdl"	// 여비지출결의서
		,"02": "mis_acc::ACC020203_P02.xfdl"	// 구입과지출결의서
		,"03": "mis_acc::ACC020203_P01.xfdl"	// 지출결의서
		,"04": "mis_acc::ACC020203_P04.xfdl"	// 임차와지출결의서
		,"05": "mis_acc::ACC020203_P05.xfdl"	// 반납결의서
		,"06": "mis_acc::ACC020203_P06.xfdl"	// 공사와집행결의서
		,"07": "mis_acc::ACC020203_P07.xfdl"	// 봉급지출결의서
		,"08": "mis_acc::ACC020203_P08.xfdl"	// 용역과지출결의서
	};

	var args = {
		  arg_0     : this
		, trgFormId	: "ACC030101"												// 팝업을 호출하는 화면의 ID
		, anactKnd	: this.ds_taxbilMaster.getColumn(nRow, "ANACT_KND")
		, decsnYear	: this.ds_taxbilMaster.getColumn(nRow, "DECSN_YEAR")
		, decsnNo	: this.ds_taxbilMaster.getColumn(nRow, "DECSN_NO")
	};
	this.gfn_popup("expDsnPopup", 903, 842, "결의서", args, this.arrStrUrl[args.anactKnd], "fn_popupCallBack", true);
}
this.ds_taxbilMaster_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "TAXT_AT"){
		if(e.newvalue == "0"){
			this.div_detail1.cmb_bulgongsau.set_cssclass("cmb_WF_Essential");
			this.div_detail1.cmb_bulgongsau.set_readonly(false);
		}else{
			this.div_detail1.cmb_bulgongsau.set_cssclass("cmb_WF_Readonly");
			this.div_detail1.cmb_bulgongsau.set_value("");
			this.div_detail1.cmb_bulgongsau.set_readonly(true);
		}
	}
}

this.Button50_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if (this.comUtils.isDatasetUpdated(this.ds_taxbilDetail) || this.comUtils.isDatasetUpdated(this.ds_taxbilMaster)) {
		if(!this.gfn_message("confirm.변경.취소.여부")){
			return false;
		}
	}
	
	var itisRow = 0;
	var nRow = this.ds_taxbilMaster.rowposition;
	this.ds_taxbilMasterItis.clearData();
	
	if(obj.getRowType(e.newrow) != Dataset.ROWTYPE_NORMAL){
		this.gfn_message("comm.정보.저장.요청","세금계산서");
		return false;
	}
	
	if(!this.comUtils.isNullEmpty(this.ds_taxbilMaster.getColumn(nRow, "ISSU_SEQNO"))){
		this.gfn_message("comm.처리.완료","세금계산서 발행");
		return false;
	}
	
	var itisRow = this.ds_taxbilMasterItis.addRow();
	this.ds_taxbilMasterItis.copyRow(itisRow, this.ds_taxbilMaster, nRow);
	
	if(this.ds_taxbilMasterItis.getRowCount()>0){
		this.fn_transaction("taxbilItisC");
	}else{
		alert("발행가능건이 없습니다.");
	}
}

this.grd_mastr_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 0)
	{	
		//모든 체크박스 선택
		this.ds_taxbilMaster.set_updatecontrol(false);
		this.gfn_setGridCheckAll(obj, e);
		this.ds_taxbilMaster.set_updatecontrol(true);
	}else {
		//선택한 헤드에 따른 정렬
		this.gfn_gridSort(obj, e);
	}
}

this.btn_excelDown_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.gfn_exportExcel(this.grd_excel, "grd_excel");	
}
]]></Script>
  </Form>
</FDL>
