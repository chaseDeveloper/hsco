<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="ACC050103" classname="UI_ACC050103" left="0" top="0" width="1059" height="735" titletext="전표관리" onload="ACC050103_onload">
    <Layouts>
      <Layout>
        <Div id="div_SEARCH" taborder="0" text="Div00" left="0" top="0" right="28" height="85" applystyletype="cascade,keep" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="sta_EMPL_SE" taborder="11" text="전표구분" left="338" top="5" height="21" cssclass="sta_WFSA_Label" width="64"/>
              <Static id="sta_EMPL_SE00" taborder="12" text="예산계정" cssclass="sta_WFSA_Label" left="15" top="31" width="64" height="21"/>
              <Static id="sta_EMPL_SE01" taborder="13" text="대상일자" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Static id="sta_EMPL_SE02" taborder="14" text="회계계정" cssclass="sta_WFSA_Label" left="703" top="5" width="64" height="21"/>
              <Static id="sta_EMPL_SE04" taborder="15" text="전표종류" cssclass="sta_WFSA_Label" left="338" top="31" width="64" height="21"/>
              <Static id="Static09" taborder="16" text="15" visible="false" left="0" top="0" width="15" style="background:#00ffff66;" bottom="0"/>
              <Static id="sta_EMPL_SE03" taborder="17" text="사업코드" cssclass="sta_WFSA_Label" left="703" top="31" width="64" height="21"/>
              <Calendar id="Calendar00" taborder="0" dateformat="yyyy-MM-dd" left="84" top="5" width="111" height="21" cssclass="cal_WF_Essential"/>
              <Static id="Static00" taborder="18" text="~" left="197" top="5" width="13" height="21" style="align:center;"/>
              <Calendar id="Calendar01" taborder="1" dateformat="yyyy-MM-dd" left="212" top="5" width="111" height="21" cssclass="cal_WF_Essential"/>
              <Combo id="Combo00" taborder="2" left="407" top="5" width="128" height="21" innerdataset="@ds_acc023" codecolumn="CODE" datacolumn="CODE_NM"/>
              <Combo id="cmb_chitKnd" taborder="8" left="407" top="31" width="128" height="21" innerdataset="@ds_acc031s" codecolumn="CODE" datacolumn="CODE_NM"/>
              <Edit id="edt_bdgAcntNm" taborder="7" readonly="false" left="84" top="31" width="239" height="21" inputfilter="dot" inputtype="dot" onkeydown="div_SEARCH_edt_bdgAcntNm_onkeydown"/>
              <Button id="btn_srchBdgPopup" taborder="21" onclick="btn_onclick" cssclass="btn_WF_Search" left="302" top="31" width="21" height="21"/>
              <Edit id="edt_acntCode" taborder="4" readonly="false" left="772" top="5" width="85" height="21" inputtype="dot" inputfilter="dot" onkeydown="div_SEARCH_edt_acntCode_onkeydown"/>
              <Button id="btn_accnutPopup" taborder="5" onclick="btn_onclick" cssclass="btn_WF_Search" left="836" top="5" width="21" height="21"/>
              <Edit id="edt_acntNm" taborder="6" readonly="true" cssclass="edt_WF_Readonly" left="859" top="5" width="151" height="21"/>
              <Edit id="edt_bsnsNm" taborder="10" readonly="false" left="772" top="31" width="238" height="21" inputtype="dot" inputfilter="dot" onkeydown="div_SEARCH_edt_bsnsNm_onkeydown" style="padding:1 18 0 6;"/>
              <Button id="btn_srchBsnsPopup" taborder="26" onclick="btn_onclick" cssclass="btn_WF_Search" left="990" top="31" width="21" height="21"/>
              <Static id="Static01" taborder="31" text="15" visible="false" left="323" top="0" width="15" style="background:#00ffff66;" bottom="0"/>
              <Static id="Static02" taborder="32" text="15" visible="false" left="688" top="0" width="15" height="57" style="background:#00ffff66;"/>
              <Combo id="cmb_confmAt" taborder="9" codecolumn="codecolumn" datacolumn="datacolumn" left="588" top="31" width="100" height="21">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn"/>
                      <Col id="datacolumn">전체</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">승인</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">0</Col>
                      <Col id="datacolumn">미승인</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">Y</Col>
                      <Col id="datacolumn">확인</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">N</Col>
                      <Col id="datacolumn">미확인</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Static id="sta_EMPL_SE06" taborder="34" text="상태" cssclass="sta_WFSA_Label" left="550" top="31" width="38" height="21"/>
              <Static id="Static03" taborder="35" text="15" visible="false" left="535" top="0" width="15" height="57" style="background:#00ffff66;"/>
              <Static id="sta_chitTy" taborder="36" text="구분" cssclass="sta_WFSA_Label" left="550" top="5" width="38" height="21"/>
              <Combo id="cmb_chitTy" taborder="3" innerdataset="@ds_acc024s" codecolumn="CODE" datacolumn="CODE_NM" left="588" top="5" width="100" height="21">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn"/>
                      <Col id="datacolumn">전체</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">승인</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">0</Col>
                      <Col id="datacolumn">미승인</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">Y</Col>
                      <Col id="datacolumn">확인</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">N</Col>
                      <Col id="datacolumn">미확인</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Static id="Static51" taborder="37" text="5" visible="false" left="0" top="52" width="1031" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static04" taborder="38" text="5" visible="false" left="0" width="1031" height="5" style="background:#dc143c3c;align:center middle;" bottom="0"/>
              <Static id="sta_EMPL_SE05" taborder="39" text="적요" cssclass="sta_WFSA_Label" left="15" top="57" width="64" height="21"/>
              <Edit id="edt_sumry" taborder="40" onkeydown="div_SEARCH_edt_bdgAcntNm_onkeydown" left="84" top="57" width="239" height="21"/>
              <Static id="sta_EMPL_SE07" taborder="41" text="차/대변" cssclass="sta_WFSA_Label" left="338" top="57" width="64" height="21"/>
              <Static id="sta_EMPL_SE08" taborder="44" text="~" left="538" top="57" width="15" height="21" style="align:center;"/>
              <MaskEdit id="msk_minAm" taborder="45" left="406" top="57" height="21" width="129" mask="###,###,###,###,###,###,###,###,###,###" limitbymask="both"/>
              <MaskEdit id="msk_maxAm" taborder="46" left="555" top="57" height="21" width="131" mask="###,###,###,###,###,###,###,###,###,###" limitbymask="both"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static00" taborder="16" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static01" taborder="17" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Static id="Static36" taborder="18" text="10" visible="false" left="0" top="84" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title01" taborder="19" text="전표리스트" cssclass="sta_WF_Title02" left="0" top="94" width="132" height="19" style="align:left middle;"/>
        <Static id="Static51" taborder="20" text="5" visible="false" left="0" top="113" width="1031" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Grid id="grd_chit" taborder="2" useinputpanel="false" left="0" top="118" right="28" binddataset="ds_chitList" autosizingtype="row" extendsizetype="row" bottom="355" oncelldblclick="grd_chit_oncelldblclick" style="cursor:hand;">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="40"/>
                <Column size="90"/>
                <Column size="80"/>
                <Column size="180"/>
                <Column size="80"/>
                <Column size="60"/>
                <Column size="130"/>
                <Column size="130"/>
                <Column size="250"/>
                <Column size="250"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="확정"/>
                <Cell col="2" text="일자"/>
                <Cell col="3" text="전표번호"/>
                <Cell col="4" text="회계계정"/>
                <Cell col="5" text="결의서번호"/>
                <Cell col="6" text="구분"/>
                <Cell col="7" text="차변"/>
                <Cell col="8" text="대변"/>
                <Cell col="9" text="적요1"/>
                <Cell col="10" text="적요2"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow+1"/>
                <Cell col="1" displaytype="checkbox" edittype="checkbox" style="controlborder: ;" text="bind:CHIT_CONFM_AT"/>
                <Cell col="2" displaytype="date" text="bind:CHIT_DE" calendardisplaynulltype="none"/>
                <Cell col="3" text="bind:CHIT_NO"/>
                <Cell col="4" style="align:left;" text="bind:ACCNUT_ACNT_LIST" wordwrap="char" autosizerow="limitmin"/>
                <Cell col="5" text="bind:DECSN_NO"/>
                <Cell col="6" displaytype="combo" text="bind:CHIT_TY" combodataset="ds_acc024" combocodecol="CODE" combodatacol="expr:CHIT_SE == &quot;1&quot; ? &quot;VAL0&quot; : (CHIT_SE == &quot;2&quot; ? &quot;VAL1&quot; : &quot;&quot;)"/>
                <Cell col="7" style="align:right;" text="bind:DEBTOR_AMOUNT"/>
                <Cell col="8" style="align:right;" text="bind:CRDIT_AMOUNT"/>
                <Cell col="9" style="align:left;" text="bind:SUMRY_1" wordwrap="none" autosizerow="default"/>
                <Cell col="10" style="align:left;" text="bind:SUMRY_2" wordwrap="none" autosizerow="default"/>
              </Band>
              <Band id="summary">
                <Cell colspan="2" displaytype="number" style="align:right;" text="expr:dataset.rowcount"/>
                <Cell col="2"/>
                <Cell col="3"/>
                <Cell col="4"/>
                <Cell col="5"/>
                <Cell col="6"/>
                <Cell col="7" displaytype="number" style="align:right;" text="expr:dataset.getSum(&quot;DEBTOR_AMOUNT&quot;)"/>
                <Cell col="8" displaytype="number" style="align:right;" text="expr:dataset.getSum(&quot;CRDIT_AMOUNT&quot;)"/>
                <Cell col="9" colspan="2"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static02" taborder="23" text="10" visible="false" left="0" top="379" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_title00" taborder="24" text="전표내역" cssclass="sta_WF_Title02" left="0" width="132" height="19" style="align:left middle;" bottom="334"/>
        <Static id="Static03" taborder="25" text="5" visible="false" left="0" top="401" width="1031" height="5" style="background:#dc143c3c;align:center middle;" onclick="Static03_onclick"/>
        <Div id="div_detail1" taborder="3" right="37" cssclass="div_detailBox" bottom="172" height="158" left="0">
          <Layouts>
            <Layout width="476" height="122">
              <Static id="Static20" taborder="103" cssclass="sta_WF_Labelbg" left="0" top="52" right="0" height="27"/>
              <Static id="Static04" taborder="97" cssclass="sta_WF_Labelbg" left="81" top="78" right="0" height="27"/>
              <Static id="Static19" taborder="75" cssclass="sta_WF_Labelbg" left="69" top="104" height="54" right="0"/>
              <Static id="Static06" taborder="49" cssclass="sta_WF_Labelbg" left="68" top="26" height="27" right="0"/>
              <Static id="Static37" taborder="51" cssclass="sta_WF_Labelbg" left="68" top="0" height="27" right="0"/>
              <Static id="Static00" taborder="52" text="회계년도" cssclass="sta_WF_Label" left="0" top="0" width="90" height="27"/>
              <Static id="Static01" taborder="53" text="전표구분" cssclass="sta_WF_Label" left="612" top="0" width="90" height="27"/>
              <Static id="Static02" taborder="54" text="결의번호" wordwrap="char" cssclass="sta_WF_Label" left="0" top="26" width="90" height="27"/>
              <Static id="Static08" taborder="56" text="자금지출일자" cssclass="sta_WF_Label" left="816" top="26" width="90" height="27"/>
              <Static id="Static15" taborder="59" text="전표일자" cssclass="sta_WF_Label" left="204" top="26" width="90" height="27"/>
              <Static id="Static13" taborder="70" text="채무확정일자" cssclass="sta_WF_Label" left="612" top="26" width="90" height="27"/>
              <Static id="Static14" taborder="71" text="발의일자" cssclass="sta_WF_Label" left="408" top="26" width="90" height="27"/>
              <Static id="Static16" taborder="72" text="전표번호" cssclass="sta_WF_Label" left="204" top="0" width="90" height="27"/>
              <Static id="Static17" taborder="73" text="적요1" cssclass="sta_WF_Label" left="0" top="104" width="90" height="54"/>
              <Static id="Static18" taborder="74" text="적요2" cssclass="sta_WF_Label" left="497" top="104" width="69" height="54"/>
              <Spin id="Spin00" taborder="0" value="0" left="92" top="3" width="110" height="21" cssclass="spn_WF_Readonly" readonly="true" min="1000" max="9999"/>
              <Edit id="Edit00" taborder="1" left="296" top="3" width="110" height="21" cssclass="edt_WF_Readonly" readonly="true"/>
              <Calendar id="cal_CHIT_DE" taborder="2" left="296" top="29" width="110" height="21" dateformat="yyyy-MM-dd" value="null" cssclass="cal_WF_Essential"/>
              <Calendar id="Calendar07" taborder="3" left="500" top="29" width="110" height="21" dateformat="yyyy-MM-dd" value="null" cssclass="cal_WF_Readonly" readonly="true"/>
              <Calendar id="Calendar00" taborder="5" left="704" top="29" width="110" height="21" dateformat="yyyy-MM-dd" value="null" cssclass="cal_WF_Readonly" readonly="true"/>
              <Calendar id="Calendar01" taborder="9" left="908" top="29" width="110" height="21" dateformat="yyyy-MM-dd" value="null" cssclass="cal_WF_Essential"/>
              <Edit id="Edit05" taborder="8" left="92" top="29" width="110" height="21" cssclass="edt_WF_Readonly" readonly="true"/>
              <Combo id="Combo00" taborder="4" left="704" top="3" width="110" height="21" innerdataset="@ds_acc023" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Readonly" readonly="true"/>
              <TextArea id="TextArea00" taborder="14" left="92" top="107" width="403" height="48" maxlength="100" wordwrap="char"/>
              <TextArea id="TextArea01" taborder="15" left="568" top="107" width="450" height="48" maxlength="100" wordwrap="char"/>
              <Static id="Static09" taborder="94" text="전표종류" cssclass="sta_WF_Label" left="408" top="0" width="90" height="27"/>
              <Static id="Static10" taborder="95" text="전표유형" cssclass="sta_WF_Label" left="816" top="0" width="90" height="27"/>
              <Combo id="Combo01" taborder="6" left="500" top="3" width="110" height="21" cssclass="cmb_WF_Readonly" readonly="true" innerdataset="@ds_acc031" codecolumn="CODE" datacolumn="CODE_NM"/>
              <Combo id="Combo02" taborder="7" left="908" top="3" width="110" height="21" cssclass="cmb_WF_Readonly" readonly="true" innerdataset="@ds_acc024" codecolumn="CODE"/>
              <Static id="Static03" taborder="96" text="증빙구분" wordwrap="char" cssclass="sta_WF_Label" left="0" top="78" width="90" height="27"/>
              <Combo id="Combo03" taborder="98" readonly="true" cssclass="cmb_WF_Readonly" left="92" top="81" width="110" height="21" innerdataset="@ds_acc040" codecolumn="CODE" datacolumn="CODE_NM"/>
              <Static id="Static05" taborder="99" text="부서" wordwrap="char" cssclass="sta_WF_Label" left="204" top="78" width="90" height="27"/>
              <Static id="Static07" taborder="100" text="사업" wordwrap="char" cssclass="sta_WF_Label" left="497" top="78" width="69" height="27"/>
              <Static id="Static11" taborder="101" text="예산계정" wordwrap="char" cssclass="sta_WF_Label" left="0" top="52" width="90" height="27"/>
              <Static id="Static12" taborder="102" text="부기" wordwrap="char" cssclass="sta_WF_Label" left="612" top="52" width="90" height="27"/>
              <Edit id="Edit04" taborder="104" readonly="true" cssclass="edt_WF_Readonly" left="92" top="55" width="110" height="21"/>
              <Edit id="Edit02" taborder="105" readonly="true" cssclass="edt_WF_Readonly" left="204" top="55" width="406" height="21"/>
              <Edit id="Edit01" taborder="106" readonly="true" cssclass="edt_WF_Readonly" left="704" top="55" width="68" height="21"/>
              <Edit id="Edit03" taborder="107" readonly="true" cssclass="edt_WF_Readonly" left="774" top="55" width="244" height="21"/>
              <Div id="div_dept" taborder="108" url="com::deptCode.xfdl" left="296" top="81" width="199" height="22" async="false"/>
              <Edit id="Edit06" taborder="109" left="568" top="81" width="450" height="21" cssclass="edt_WF_Readonly"/>
              <Button id="btn_bsnsPopup" taborder="110" onclick="btn_onclick" cssclass="btn_WF_Search" left="997" top="81" width="21" height="21"/>
              <Button id="btn_bdgPopup" taborder="111" onclick="btn_onclick" cssclass="btn_WF_Search" left="69" top="55" width="21" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Button id="btn_addDtls" taborder="4" text="행추가" onclick="btn_onclick" cssclass="btn_WF_Gridadd" width="64" height="19" right="99" bottom="147"/>
        <Button id="btn_delDtls" taborder="5" text="행삭제" onclick="btn_onclick" cssclass="btn_WF_Griddel" width="64" height="19" right="32" bottom="147"/>
        <Grid id="grd_chitDetail" taborder="7" useinputpanel="false" left="0" right="29" bottom="0" height="145" binddataset="ds_chitDetail" autoenter="select" onexpandup="grd_chitDetail_onexpandup">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="70"/>
                <Column size="160"/>
                <Column size="140"/>
                <Column size="140"/>
                <Column size="0"/>
                <Column size="200"/>
                <Column size="100"/>
                <Column size="140"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" colspan="2" text="회계계정과목"/>
                <Cell col="3" cssclass="Cellgrd_WF_HeadEssential" text="차변금액"/>
                <Cell col="4" cssclass="Cellgrd_WF_HeadEssential" text="대변금액"/>
                <Cell col="5" text="거래처"/>
                <Cell col="6" text="거래처"/>
                <Cell col="7" text="은행"/>
                <Cell col="8" text="계좌번호"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow+1"/>
                <Cell col="1" edittype="expand" style="padding:0 2 0 2;" text="bind:ACCNUT_ACNT_CODE"/>
                <Cell col="2" style="align:left;padding:0 2 0 2;" text="bind:ACCNUT_ACNT_NM" expandshow="show"/>
                <Cell col="3" displaytype="number" edittype="masknumber" style="align:right;padding:0 2 0 2;" text="bind:DEBTOR_AMOUNT" mask="###,###,###,###,##0" maskchar=" " editlimit="15" editlimitbymask="integer"/>
                <Cell col="4" displaytype="number" edittype="masknumber" style="align:right;padding:0 2 0 2;" text="bind:CRDIT_AMOUNT" mask="###,###,###,###,##0" maskchar=" " editlimit="15" editlimitbymask="integer"/>
                <Cell col="5" displaytype="normal" edittype="expand" style="align:left;padding:0 2 0 2;" text="bind:BCNC_NM" expandshow="show" expandsize="20"/>
                <Cell col="6" edittype="expand" style="align:left;" text="bind:BCNC_NM" expandshow="show" expandsize="20"/>
                <Cell col="7" displaytype="combo" edittype="combo" text="bind:FNNC_INSTT_CODE" combodataset="ds_com021" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="8" edittype="text" style="align:left;" text="bind:ACNUTNO"/>
              </Band>
              <Band id="summary">
                <Cell colspan="3"/>
                <Cell col="3" displaytype="number" style="align:right;" text="expr:dataset.getSum(&quot;DEBTOR_AMOUNT&quot;)"/>
                <Cell col="4" displaytype="number" style="align:right;" text="expr:dataset.getSum(&quot;CRDIT_AMOUNT&quot;)"/>
                <Cell col="5"/>
                <Cell col="6"/>
                <Cell col="7"/>
                <Cell col="8"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_cancel" taborder="28" text="일괄확정취소" onclick="btn_onclick" cssclass="btn_WF_Process" top="94" right="28" width="92" height="19" enable="true" visible="true"/>
        <Button id="btn_confm" taborder="29" text="일괄확정" onclick="btn_onclick" cssclass="btn_WF_Process" top="94" right="122" width="92" height="19" enable="true" visible="true"/>
        <Static id="sta_title03" taborder="30" text="전표상세내역" cssclass="sta_WF_Title03" left="0" bottom="148" width="132" height="19" style="border:1 none #808080ff ;align:left middle;"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cond_oncolumnchanged" cancolumnchange="ds_cond_cancolumnchange">
        <ColumnInfo>
          <Column id="CHIT_FROM_DE" type="STRING" size="256"/>
          <Column id="CHIT_TO_DE" type="STRING" size="256"/>
          <Column id="CHIT_SE" type="STRING" size="256"/>
          <Column id="CHIT_KND" type="STRING" size="256"/>
          <Column id="ACCNUT_ACNT_CODE" type="STRING" size="256"/>
          <Column id="ACCNUT_ACNT_NM" type="STRING" size="256"/>
          <Column id="BUDGET_YEAR" type="STRING" size="256"/>
          <Column id="BSNS_SE" type="STRING" size="256"/>
          <Column id="BALC_SE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="PRMPC_YEAR" type="STRING" size="256"/>
          <Column id="PRMPC_CODE" type="STRING" size="256"/>
          <Column id="PRMPC_NM" type="STRING" size="256"/>
          <Column id="ACCNUT_YEAR" type="STRING" size="256"/>
          <Column id="CHIT_NO" type="STRING" size="256"/>
          <Column id="OUT_RESULT_MSG" type="STRING" size="256"/>
          <Column id="CHIT_CONFM_AT" type="STRING" size="256"/>
          <Column id="CHIT_TY" type="STRING" size="256"/>
          <Column id="SUMRY" type="STRING" size="256"/>
          <Column id="MIN_AM" type="STRING" size="256"/>
          <Column id="MAX_AM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc023" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chit" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" cancolumnchange="ds_chit_cancolumnchange">
        <ColumnInfo>
          <Column id="DEBTOR_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="CHIT_DE" type="string" size="32"/>
          <Column id="SUMRY_1" type="string" size="32"/>
          <Column id="CRDIT_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="CHIT_CONFM_AT" type="string" size="32"/>
          <Column id="SUMRY_2" type="string" size="32"/>
          <Column id="DECSN_NO" type="string" size="32"/>
          <Column id="ACCNUT_YEAR" type="STRING" size="256"/>
          <Column id="CHIT_NO" type="string" size="32"/>
          <Column id="ACCNUT_ACNT_LIST" type="string" size="32"/>
          <Column id="DECSN_YEAR" type="string" size="32"/>
          <Column id="BUDGET_ACNT_LIST" type="string" size="32"/>
          <Column id="CHIT_SE" type="STRING" size="256"/>
          <Column id="CHIT_KND" type="STRING" size="256"/>
          <Column id="CPTAL_EXPNDTR_DE" type="STRING" size="256"/>
          <Column id="BUDGET_YEAR" type="STRING" size="256"/>
          <Column id="BSNS_SE" type="STRING" size="256"/>
          <Column id="BALC_SE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="ITNC_DE" type="STRING" size="256"/>
          <Column id="DET_DCSN_DE" type="STRING" size="256"/>
          <Column id="CHIT_TY" type="STRING" size="256"/>
          <Column id="CHIT_TY_DATACOL" type="STRING" size="256"/>
          <Column id="CHIT_CNFIRM_AT" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="PRUF_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chitDetail" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEBTOR_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="EXPNDTR_UNIT_CODE" type="string" size="32"/>
          <Column id="BSNS_CODE" type="string" size="32"/>
          <Column id="PRMPC_NM" type="string" size="32"/>
          <Column id="SEQ" type="bigdecimal" size="16"/>
          <Column id="DEPT_CODE" type="string" size="32"/>
          <Column id="BALC_SE" type="string" size="32"/>
          <Column id="ACCNUT_YEAR" type="string" size="32"/>
          <Column id="ACCNUT_ACNT_CODE" type="string" size="32"/>
          <Column id="BUDGET_ACNT_CODE" type="string" size="32"/>
          <Column id="CRDIT_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="BUDGET_YEAR" type="string" size="32"/>
          <Column id="BSNS_NM" type="string" size="32"/>
          <Column id="CHIT_NO" type="string" size="32"/>
          <Column id="ACCNUT_ACNT_NM" type="string" size="32"/>
          <Column id="BSNS_SE" type="string" size="32"/>
          <Column id="CHIT_DE" type="STRING" size="256"/>
          <Column id="SUMRY_1" type="STRING" size="256"/>
          <Column id="BCNC_CODE" type="STRING" size="256"/>
          <Column id="BCNC_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="ACNUTNO" type="STRING" size="256"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc023s" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc031s" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc024" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc031" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chitList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_chitList_onrowposchanged" canrowposchange="ds_chitList_canrowposchange">
        <ColumnInfo>
          <Column id="DEBTOR_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="CHIT_DE" type="string" size="32"/>
          <Column id="SUMRY_1" type="string" size="32"/>
          <Column id="CRDIT_AMOUNT" type="bigdecimal" size="16"/>
          <Column id="CHIT_CONFM_AT" type="string" size="32"/>
          <Column id="SUMRY_2" type="string" size="32"/>
          <Column id="DECSN_NO" type="string" size="32"/>
          <Column id="ACCNUT_YEAR" type="STRING" size="256"/>
          <Column id="CHIT_NO" type="string" size="32"/>
          <Column id="ACCNUT_ACNT_LIST" type="string" size="32"/>
          <Column id="DECSN_YEAR" type="string" size="32"/>
          <Column id="BUDGET_ACNT_LIST" type="string" size="32"/>
          <Column id="CHIT_SE" type="STRING" size="256"/>
          <Column id="CHIT_KND" type="STRING" size="256"/>
          <Column id="CPTAL_EXPNDTR_DE" type="STRING" size="256"/>
          <Column id="BUDGET_YEAR" type="STRING" size="256"/>
          <Column id="BSNS_SE" type="STRING" size="256"/>
          <Column id="BALC_SE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="ITNC_DE" type="STRING" size="256"/>
          <Column id="DET_DCSN_DE" type="STRING" size="256"/>
          <Column id="CHIT_TY" type="STRING" size="256"/>
          <Column id="CHIT_TY_DATACOL" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">CHIT_FROM_DE</Col>
            <Col id="compId">ds_cond</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">대상일자</Col>
            <Col id="from">CHIT_FROM_DE</Col>
            <Col id="to">CHIT_TO_DE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="msgId">대상일자</Col>
            <Col id="notNull">Y</Col>
            <Col id="colId">CHIT_TO_DE</Col>
            <Col id="from">CHIT_FROM_DE</Col>
            <Col id="to">CHIT_TO_DE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_chit</Col>
            <Col id="colId">ACCNUT_YEAR</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">회계년도</Col>
          </Row>
          <Row>
            <Col id="compId">ds_chit</Col>
            <Col id="colId">CHIT_DE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">전표일자</Col>
          </Row>
          <Row>
            <Col id="compId">ds_chitDetail</Col>
            <Col id="colId">ACCNUT_ACNT_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">회계계정과목</Col>
          </Row>
          <Row>
            <Col id="compId">ds_chit</Col>
            <Col id="colId">CPTAL_EXPNDTR_DE</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">자금지출일자</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_com021" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc040" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc024s" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="div_detail1.Spin00" propid="value" datasetid="ds_chit" columnid="ACCNUT_YEAR"/>
      <BindItem id="item1" compid="div_detail1.Edit00" propid="value" datasetid="ds_chit" columnid="CHIT_NO"/>
      <BindItem id="item2" compid="div_detail1.cal_CHIT_DE" propid="value" datasetid="ds_chit" columnid="CHIT_DE"/>
      <BindItem id="item3" compid="div_detail1.Edit05" propid="value" datasetid="ds_chit" columnid="DECSN_NO"/>
      <BindItem id="item4" compid="div_detail1.TextArea00" propid="value" datasetid="ds_chit" columnid="SUMRY_1"/>
      <BindItem id="item5" compid="div_detail1.TextArea01" propid="value" datasetid="ds_chit" columnid="SUMRY_2"/>
      <BindItem id="item6" compid="div_SEARCH.Calendar00" propid="value" datasetid="ds_cond" columnid="CHIT_FROM_DE"/>
      <BindItem id="item7" compid="div_SEARCH.Calendar01" propid="value" datasetid="ds_cond" columnid="CHIT_TO_DE"/>
      <BindItem id="item8" compid="div_SEARCH.edt_bdgAcntNm" propid="value" datasetid="ds_cond" columnid="BUDGET_ACNT_NM"/>
      <BindItem id="item11" compid="div_SEARCH.edt_acntCode" propid="value" datasetid="ds_cond" columnid="ACCNUT_ACNT_CODE"/>
      <BindItem id="item12" compid="div_SEARCH.edt_acntNm" propid="value" datasetid="ds_cond" columnid="ACCNUT_ACNT_NM"/>
      <BindItem id="item13" compid="div_SEARCH.edt_bsnsNm" propid="value" datasetid="ds_cond" columnid="BSNS_NM"/>
      <BindItem id="item15" compid="div_detail1.Combo00" propid="value" datasetid="ds_chit" columnid="CHIT_SE"/>
      <BindItem id="item16" compid="div_SEARCH.Combo00" propid="value" datasetid="ds_cond" columnid="CHIT_SE"/>
      <BindItem id="item17" compid="div_SEARCH.cmb_chitKnd" propid="value" datasetid="ds_cond" columnid="CHIT_KND"/>
      <BindItem id="item20" compid="div_detail1.Calendar01" propid="value" datasetid="ds_chit" columnid="CPTAL_EXPNDTR_DE"/>
      <BindItem id="item21" compid="div_detail1.Calendar07" propid="value" datasetid="ds_chit" columnid="ITNC_DE"/>
      <BindItem id="item22" compid="div_detail1.Calendar00" propid="value" datasetid="ds_chit" columnid="DET_DCSN_DE"/>
      <BindItem id="item23" compid="div_detail1.Combo01" propid="value" datasetid="ds_chit" columnid="CHIT_KND"/>
      <BindItem id="item24" compid="div_detail1.Combo02" propid="value" datasetid="ds_chit" columnid="CHIT_TY"/>
      <BindItem id="item25" compid="div_detail1.Combo02" propid="datacolumn" datasetid="ds_chit" columnid="CHIT_TY_DATACOL"/>
      <BindItem id="item9" compid="div_detail1.Combo03" propid="value" datasetid="ds_chit" columnid="PRUF_SE_CODE"/>
      <BindItem id="item10" compid="div_detail1.Edit04" propid="value" datasetid="ds_chit" columnid="BUDGET_ACNT_CODE"/>
      <BindItem id="item64" compid="div_detail1.Edit02" propid="value" datasetid="ds_chit" columnid="BUDGET_ACNT_NM"/>
      <BindItem id="item29" compid="div_detail1.Edit02" propid="tooltiptext" datasetid="ds_chit" columnid="BUDGET_ACNT_NM"/>
      <BindItem id="item14" compid="div_detail1.Edit01" propid="value" datasetid="ds_chit" columnid="EXPNDTR_UNIT_CODE"/>
      <BindItem id="item63" compid="div_detail1.Edit03" propid="value" datasetid="ds_chit" columnid="EXPNDTR_UNIT_NM"/>
      <BindItem id="item18" compid="div_detail1.Edit06" propid="value" datasetid="ds_chit" columnid="BSNS_NM"/>
      <BindItem id="item26" compid="div_SEARCH.cmb_confmAt" propid="value" datasetid="ds_cond" columnid="CHIT_CONFM_AT"/>
      <BindItem id="item19" compid="div_SEARCH.cmb_chitTy" propid="value" datasetid="ds_cond" columnid="CHIT_TY"/>
      <BindItem id="item27" compid="div_SEARCH.edt_sumry" propid="value" datasetid="ds_cond" columnid="SUMRY"/>
      <BindItem id="item28" compid="div_SEARCH.msk_minAm" propid="value" datasetid="ds_cond" columnid="MIN_AM"/>
      <BindItem id="item30" compid="div_SEARCH.msk_maxAm" propid="value" datasetid="ds_cond" columnid="MAX_AM"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : ACC020304
 * 화면명   : 지출내역조회
 * 화면설명 : 지출내역조회을 관리한다.
 * 작성일   : 2015.08.25
 * 작성자   : 이상명
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    
 ***********************************************************************
 */


/***********************************************************************
 * Script Include 
 ************************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";

// 업무에 필요한 공통 라이브러리 파일을 추가할 수 있다.
// TODO


/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
this.arrStrUrl = {
	 "01": "mis_acc::ACC020203_P03.xfdl"	// 여비지출결의서
	,"02": "mis_acc::ACC020203_P02.xfdl"	// 구입과지출결의서
	,"03": "mis_acc::ACC020203_P01.xfdl"	// 지출결의서
	,"05": "mis_acc::ACC020203_P05.xfdl"	// 여입결의서
	,"06": "mis_acc::ACC020203_P06.xfdl"	// 공사와집행결의서
	,"07": "mis_acc::ACC020203_P07.xfdl"	// 봉급지출결의서
	,"09": "mis_acc::ACC020203_P10.xfdl"	// 지출결의서(법인카드)
	,"11": "mis_acc::ACC020203_P11.xfdl"	// 지출결의서(자금이체)
	,"21": "mis_acc::ACC070101_P01.xfdl"	// 수입결의서
	,"22": "mis_acc::ACC070101_P02.xfdl"	// 반납결의서
};
 
 /***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.ACC050103_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// Form 초기화
	this.fn_init_form();
	this.fn_misFormInit(this);

	// 공통코드	
	var comboParams = [
		 ["ds_acc023" , "ACC023", "Y", "D", "B"]		// 전표구분
		,["ds_acc024" , "ACC024", "Y", "D", "B"]		// 전표유형
		,["ds_acc024s", "ACC024", "Y", "A", "B"]		// 전표유형(검색조건)
		,["ds_acc031" , "ACC031", "Y", "D", "B"]		// 전표종류
		,["ds_acc031s", "ACC031", "Y", "A", "B"]		// 전표종류(검색조건)
		,["ds_com021" , "COM021", "Y", "D", "B"]		// 은행코드
		,["ds_acc040" , "ACC040", "Y", "D", "B"]		// 증빙구분
	];
	var callback = function (svcId, errorCode, errorMsg) {
		//var nRow = this.ds_acc031s.findRow("CODE", "50");
		//this.ds_acc031s.deleteRow(nRow);
		this.ds_cond.setColumn(0, "CHIT_SE", "2");
		this.fn_search();
	};
	this.gfn_comboLoad (comboParams, callback);
	
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
 
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	this.div_detail1.div_dept.fn_setBind("ds_chit","DEPT_CODE","DEPT_NM");
	this.div_detail1.div_dept.div_Search.edt_deptCode.set_readonly(true);
	this.div_detail1.div_dept.div_Search.edt_deptCode.set_cssclass("edt_WF_Readonly");
	this.div_detail1.div_dept.div_Search.edt_deptNm.set_readonly(true);
	this.div_detail1.div_dept.div_Search.edt_deptNm.set_cssclass("edt_WF_Readonly");

	// 시스템 공통으로 Form을 Initialize 한다.
	this.gfn_initForm(this);
	
	var today = this.dateUtils.today();
	this.ds_cond.clearData();
	this.ds_cond.addRow();
	this.ds_cond.setColumn(0, "CHIT_FROM_DE", today.substr(0,6)+"01");
	this.ds_cond.setColumn(0, "CHIT_TO_DE", this.dateUtils.getLastDay(today,"s"));
	this.ds_cond.setColumn(0, "CHIT_SE", "2");
	this.ds_cond.setColumn(0, "CHIT_KND", "");
	this.ds_cond.setColumn(0, "CHIT_CONFM_AT", "");
	
}


/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/
/*
 * 함수명  	: fn_search
 * 설명 		: 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{	
	if(Ex.util.isUpdated(this.ds_chit) || Ex.util.isUpdated(this.ds_chitDetail)) {
		if(this.gfn_message("comm.행위여부","변경된 데이터가 있습니다. 저장하지 않고 진행") ){
			this.ds_chitDetail.reset();
			this.ds_chit.reset();
			this.ds_chitList.reset();
		} else {
			return ;
		}
	}

	if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond, this.ds_validation)) {
		return;
	}
	
	this.fn_transaction("chitList");
}

/*
 * 함수명  	: fn_save
 * 설명 		: 저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save= function()
{
	if(Ex.util.isUpdated(this.ds_chit) || Ex.util.isUpdated(this.ds_chitDetail)) {
		if(this.ds_chit.getRowCount() > 0) {
			if(this.fn_isAccClosAt(this.ds_chit.getColumn(0,"CHIT_DE"),"C")) {
				this.gfn_message("info.처리불가","전표마감된 자료입니다.");
				return;
			}
		}

		if(this.ds_chit.getRowCount() == 1 && this.ds_chitDetail.getRowCount() <= 0) {
			this.gfn_message("info.항목.건수.이상", "전표상세내역을 1건");
			return;
		}
		
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_chit, this.ds_validation)) {
			return;
		}
		
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_chitDetail, this.ds_validation)) {
			return;
		}

		// 차변,대변 합계가 일치하는지 체크
		if(Number(this.ds_chitDetail.getSum("DEBTOR_AMOUNT")) != Number(this.ds_chitDetail.getSum("CRDIT_AMOUNT"))) {
			this.gfn_message("errors.항목값.범위.동일", "차변금액의 합계|대변금액의 합계");
			return;
		}
	}
	
	this.fn_transaction("saveChit");
}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
 
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "chitList": 		// 전표마스터
			this.ds_chitList.clearData();
			this.ds_chit.clearData();
			this.ds_chitDetail.clearData();
			var sController   	= "hsco/mis/acc/ACC050103/chitList.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_chitList=output1";
			break;
		case "chit": 			// 전표조회
			this.ds_chit.clearData();
			this.ds_chitDetail.clearData();
			var sController   	= "hsco/mis/acc/ACC050103/chit.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_chit=output1 ds_chitDetail=output2";
			break;
		case "saveChit":		// 전표저장
			var sController   	= "hsco/mis/acc/ACC050103/saveChit.do";
			var sInDatasets   	= "input1=ds_chit:A input2=ds_chitDetail:U input3=ds_chitList:U";
			var sOutDatasets  	= "";
			break;
		case "incmeSlipC":		// 수입전표생성
			var sController   	= "hsco/mis/acc/ACC050103/incmeSlipC.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}

/**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/

 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	
	if (nErrorCode != 0) {
		this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	} else {
		// 성공 메시지를 보여주는 동작 외에 처리할 내용이 있으면 아래에 기술.
		// 처리할 내용이 없다면, switch 문은 생략합니다.
		switch(strSvcId) {
			case "chitList":
				break;
			case "chit":
				if("1" == this.ds_chit.getColumn(0,"CHIT_CNFIRM_AT")) {
					this.div_detail1.cal_CHIT_DE.set_readonly(true);
					this.div_detail1.cal_CHIT_DE.set_cssclass("cal_WF_Readonly");
				}
				else {
					this.div_detail1.cal_CHIT_DE.set_readonly(false);
					this.div_detail1.cal_CHIT_DE.set_cssclass("cal_WF_Essential");
				}
				
				break;
			case "saveChit":
				this.fn_transaction("chitList");
				break;
			case "incmeSlipC":
				this.fn_transaction("chitList");
				break;
			default:
				break;
		}
	}
	
	
}

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/
/*
 * 함수명  	: fn_insert
 * 설명 		: 신규 버튼
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function()
{
	if(Ex.util.isUpdated(this.ds_chit) || Ex.util.isUpdated(this.ds_chitDetail)) {
		if(!this.gfn_message("comm.행위여부","변경된 데이터가 있습니다. 저장하지 않고 진행") ){
			return false;
		}
	}

	var today = this.dateUtils.today();
	this.ds_chit.clearData();
	this.ds_chitDetail.clearData();
	var nRow = this.ds_chit.addRow();
	// 기본값 설정
	this.ds_chit.setColumn(nRow, "ACCNUT_YEAR", today.substr(0,4));	// 회계년도
	this.ds_chit.setColumn(nRow, "CHIT_DE", today);					// 전표일자
	this.ds_chit.setColumn(nRow, "CHIT_SE", "3");					// 전표구분(대체전표)
	this.ds_chit.setColumn(nRow, "CPTAL_EXPNDTR_DE", today);		// 자금지출일자
}


/*
 * 함수명  	: fn_delete
 * 설명 		: 삭제 버튼
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete= function()
{	
	if(this.ds_chit.getRowCount() > 0) {
		if("1" == this.ds_chit.getColumn(this.ds_chit.rowposition, "CHIT_CONFM_AT")) {
			this.gfn_message("fail.삭제.불가","확정된 건은");
			return;
		}
	
		if (this.gfn_message("confirm.삭제여부") ) {
			this.ds_chit.deleteRow(this.ds_chit.rowposition);
			this.ds_chitDetail.deleteAll();
			//this.ds_chitList.deleteRow(this.ds_chitList.rowposition);
			this.ds_chitList.setColumn(this.ds_chitList.rowposition, "CHIT_NO", "삭제");
		}
	}
}

/*
 * 함수명  	: fn_cancel
 * 설명 		: 취소 버튼 이벤트 처리(Dataset 변경 내역 Reset)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_cancel();
 */
this.fn_cancel= function()
{
	if(this.gfn_message("confirm.취소여부") ){
		this.ds_chit.reset();
		this.ds_chit.applyChange();
		this.ds_chitDetail.reset();
		this.ds_chitDetail.applyChange();
	}	
}

/*
 * 함수명  	: fn_print
 * 설명 		: 출력 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_print();
 */
this.fn_print = function()
{
	var vOpts = new this.cf_Opts();
	vOpts.setToolbar(false);
	vOpts.setScale(100);
	vOpts.setIsStreaming(true);
	vOpts.setScrollPage(true);
	vOpts.setReportPath("/mis/acc/ACC050103_R1.jrf");
	vOpts.setSaveFilename("일반분개전표");
	vOpts.setLocalDs(["ds_chitDetail", this.ds_chitDetail]);
	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		opts : vOpts
	};
	this.gfn_popup("Popup_Report", 1200, 800, "일반분개전표", parm, "common::frmReportPopup.xfdl", "report_callback");
}


/*
 * 함수명  	: grd_chitDetail_onexpandup
 * 설명 		: 전표상세 onexpandup 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.grd_chitDetail_onexpandup();
 */
this.grd_chitDetail_onexpandup = function(obj:Grid, e:nexacro.GridMouseEventInfo)
{
	var year = this.ds_chitDetail.getColumn(e.row, "ACCNUT_YEAR");

	switch(e.cell) {
		case 2:	// 회계계정과목 팝업
			this.gfn_popup("grd_accnutAcntPopup", "", "", "회계계정과목팝업", {year:year}, "mis_acc::ACC010103_P01.xfdl", "fn_popupCallBack", true);
			break;
		case 6:	// 거래처 팝업
			this.gfn_popup("grd_bcncPopup", 600, 500, "거래처", {bAcnutPop:false}, "mis_ctr::CTR010101_P02.xfdl", "fn_popupCallBack", true);
			break;
		/*
		case 6:	// 사업코드 팝업
			this.gfn_popup("grd_bsnsPopup", 500, 500, "사업코드팝업", "", "pms_prj::popBsns.xfdl", "fn_popupCallBack", true);
			break;
		*/
		case 9:
			var year = this.ds_chit.getColumn(0, "ACCNUT_YEAR");
			var strObjArr = new Array();
			strObjArr.push("edt_YEAR");
			var parm = {
				  arg_0      : this
				 ,searchDs   : null		       // 검색조건(YEAR, BSNS_SE, BALC_SE, DEPT_CODE 컬럼만 이용)
				 ,strObj     : strObjArr.join(",")		    // 수정불가능 처리할 오브젝트 명(ex : "edt_YEAR,cbo_BSNS_SE,rdo_BALC_SE,div_srchDept")
				 ,year_S     : year            // 예산년도(srchDs보다 우선순위를 가짐)
				 ,bsnsSe_S   : null            // 사업구분(srchDs보다 우선순위를 가짐)
				 ,balcSe_S   : null            // 수지구분(srchDs보다 우선순위를 가짐)
				 ,deptCode_S : null            // 부서코드(srchDs보다 우선순위를 가짐)
				 ,acntPopup  : false           // (true : 예산계정코드선택팝업, false : 지출단위선택팝업)
			};
			this.gfn_popup("btn_bdgPopup", 900, 635, "예산선택팝업", parm, "com::bdgAcntPop.xfdl", "fn_popupCallBack", true);
			break;
		default:
			break;
	}
}


/*
 * 함수명  	: btn_onclick
 * 설명 		: 버튼 클릭 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_onclick();
 */
this.btn_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{	
	var year = this.ds_cond.getColumn(0, "CHIT_TO_DE").substr(0,4);
	var strObjArr = new Array();
	strObjArr.push("edt_YEAR");

	switch(obj.name) {
	
		case "btn_accnutPopup": // 검색조건: 회계계정과목
		var parm = {
				  arg_0      : this
				 ,year       : year
				 ,chit       : false // chit 0이 아닌것을 보내면 전표처리여부 상관없이 계정과목을 선택할 수 있게 함
			};
			this.gfn_popup("btn_accnutPopup", "", "", "회계계정과목", parm, "mis_acc::ACC010103_P01.xfdl", "fn_popupCallBack", true);
			break;
			
		case "btn_srchBdgPopup":// 검색조건: 예산과목
			if(this.ds_cond.getColumn(0, "CHIT_SE") < 3){
				var balcSE = this.ds_cond.getColumn(0, "CHIT_SE");
				strObjArr.push("rdo_BALC_SE");
			}
			var parm = {
				  arg_0      : this
				 ,searchDs   : this.ds_cond.saveXML()       // 검색조건(YEAR, BSNS_SE, BALC_SE, DEPT_CODE 컬럼만 이용)
				 ,strObj     : strObjArr.join(",")		   	// 수정불가능 처리할 오브젝트 명(ex : "edt_YEAR,cbo_BSNS_SE,rdo_BALC_SE,div_srchDept")
				 ,year_S     : year            // 예산년도(srchDs보다 우선순위를 가짐)
				 ,bsnsSe_S   : null            // 사업구분(srchDs보다 우선순위를 가짐)
				 ,balcSe_S   : balcSE          // 수지구분(srchDs보다 우선순위를 가짐)
				 ,deptCode_S : null            // 부서코드(srchDs보다 우선순위를 가짐)
				 ,acntPopup  : true            // (true : 예산계정코드선택팝업, false : 지출단위선택팝업)
			};
			this.gfn_popup("btn_srchBdgPopup", 900, 635, "예산선택팝업", parm, "com::bdgAcntPop.xfdl", "fn_popupCallBack", true);
			break;
			
		case "btn_srchBsnsPopup":	// 검색조건: 사업코드
			var tmp = this.div_SEARCH.Calendar00.text;
			if(tmp.length > 4) {
				tmp = tmp.substr(0,4);
			}
			else {
				tmp = this.dateUtils.today();
				tmp = tmp.substr(0,4);
			}
			
			var param = {
				accnutYear	:	tmp
			};
			
			this.gfn_popup("btn_srchBsnsPopup", 500, 500, "사업코드", param, "pms_prj::popBsns.xfdl", "fn_popupCallBack", true);
			break;
			
		case "btn_bsnsPopup":
			this.gfn_popup("btn_bsnsPopup", 500, 500, "사업코드", "", "pms_prj::popBsns.xfdl", "fn_popupCallBack", true);
			break;

		case "btn_bdgPopup":	// 마스터: 예산과목, 지출단위			
			var parm = {
				  arg_0      : this
				 ,searchDs   : this.ds_cond.saveXML()       // 검색조건(YEAR, BSNS_SE, BALC_SE, DEPT_CODE 컬럼만 이용)
				 ,strObj     : strObjArr.join(",")		    // 수정불가능 처리할 오브젝트 명(ex : "edt_YEAR,cbo_BSNS_SE,rdo_BALC_SE,div_srchDept")
				 ,year_S     : year            // 예산년도(srchDs보다 우선순위를 가짐)
				 ,bsnsSe_S   : null            // 사업구분(srchDs보다 우선순위를 가짐)
				 ,balcSe_S   : null            // 수지구분(srchDs보다 우선순위를 가짐)
				 ,deptCode_S : null            // 부서코드(srchDs보다 우선순위를 가짐)
				 ,acntPopup  : false           // (true : 예산계정코드선택팝업, false : 지출단위선택팝업)
			};
			this.gfn_popup("btn_bdgPopup", 900, 635, "예산선택팝업", parm, "com::bdgAcntPop.xfdl", "fn_popupCallBack", true);
			break;
			
		case "btn_addDtls":		// 디테일 그리드: 행추가
			if(this.ds_chit.getRowCount() > 0) {		
				var nRow = this.ds_chitDetail.addRow();
				// 초기값
				this.ds_chitDetail.setColumn(nRow, "ACCNUT_YEAR", 		 this.ds_chit.getColumn(0,"ACCNUT_YEAR"));
			}
			break;
			
		case "btn_delDtls":		// 디테일 그리드: 행삭제
			if(this.ds_chitDetail.getRowCount() > 0) {
				if (this.gfn_message("confirm.삭제여부") ) {
					this.ds_chitDetail.deleteRow(this.ds_chitDetail.rowposition);
				}
			}
			break;

		case "btn_confm":
			if(Ex.util.isUpdated(this.ds_chit) || Ex.util.isUpdated(this.ds_chitList) || Ex.util.isUpdated(this.ds_chitDetail)) {
				this.gfn_message("comm.정보.저장.요청", "변경된");
				return false;				
			}
			
			var findRow = this.ds_chitList.findRow("CHIT_CONFM_AT", "0");
			if(findRow < 0) {
				this.gfn_message("comm.데이터.선택.없음");
				return;
			}
		
			if(!this.gfn_message("comm.행위여부","일괄확정")) {
				return;
			}

			for(i = 0; i < this.ds_chitList.getRowCount(); i++) {
				if(this.ds_chitList.getColumn(i, "CHIT_CONFM_AT") == "0") {
					this.ds_chitList.setColumn(i, "CHIT_CONFM_AT", "1");
				}
			}
			this.fn_save();
			break;
			
		case "btn_cancel":
			if(Ex.util.isUpdated(this.ds_chit) || Ex.util.isUpdated(this.ds_chitList) || Ex.util.isUpdated(this.ds_chitDetail)) {
				this.gfn_message("comm.정보.저장.요청", "변경된");
				return false;
			}

			var findRow = this.ds_chitList.findRow("CHIT_CONFM_AT", "1");
			if(findRow < 0) {
				this.gfn_message("comm.데이터.선택.없음");
				return;
			}
			
			if(!this.gfn_message("comm.행위여부","일괄확정취소")) {
				return;
			}
			
			for(i = 0; i < this.ds_chitList.getRowCount(); i++) {
				if(this.ds_chitList.getColumn(i, "CHIT_CONFM_AT") == "1") {
					this.ds_chitList.setColumn(i, "CHIT_CONFM_AT", "0");
				}
			}
			this.fn_save();
			break;
	}
}

/*
 * 함수명  	: fn_popupCallBack
 * 설명 		: 팝업 콜백
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_popupCallBack();
 */
this.fn_popupCallBack = function(strID, variant)
{
	var dsTemp = new Dataset();
	var currow = this.ds_chitDetail.rowposition;

	switch(strID) {
		case "btn_accnutPopup":		// 검색조건: 회계계정과목 팝업 콜백
			if(!this.comUtils.isNull(variant)) {
				dsTemp.loadXML(variant);
				this.ds_cond.setColumn(0, "ACCNUT_YEAR", 		dsTemp.getColumn(0, "ACCNUT_YEAR"));
				this.ds_cond.setColumn(0, "ACCNUT_ACNT_CODE", 	dsTemp.getColumn(0, "ACCNUT_ACNT_CODE"));
				this.ds_cond.setColumn(0, "ACCNUT_ACNT_NM", 	dsTemp.getColumn(0, "ACCNUT_ACNT_NM"));
			}
			break;
			
		case "btn_srchBdgPopup":	// 검색조건: 예산과목 팝업 콜백
			if(!this.comUtils.isNull(variant)) {
				dsTemp.loadXML(variant);
				this.ds_cond.setColumn(0, "BUDGET_YEAR", 		dsTemp.getColumn(0,"YEAR"));
				this.ds_cond.setColumn(0, "BSNS_SE", 			dsTemp.getColumn(0,"BSNS_SE"));
				this.ds_cond.setColumn(0, "BALC_SE", 			dsTemp.getColumn(0,"BALC_SE"));
				this.ds_cond.setColumn(0, "BUDGET_ACNT_CODE", 	dsTemp.getColumn(0,"BUDGET_ACNT_CODE"));
				this.ds_cond.setColumn(0, "BUDGET_ACNT_NM", 	dsTemp.getColumn(0,"BUDGET_ACNT_NM"));
			}
			break;
			
		case "btn_srchBsnsPopup":		// 검색조건: 사업코드 팝업 콜백
			if(!this.comUtils.isNull(variant)) {
				dsTemp.loadXML(variant);
				this.ds_cond.setColumn(0, "BSNS_CODE", 	dsTemp.getColumn(0, "BSNS_CODE"));
				this.ds_cond.setColumn(0, "BSNS_NM", 	dsTemp.getColumn(0, "BSNS_NM"));
			}
			break;
			
		case "btn_bdgPopup":		// 예산계정과목 팝업 콜백
			if(!this.comUtils.isNull(variant)) {
				dsTemp.loadXML(variant);
				this.ds_chit.setColumn(0, "BUDGET_YEAR", 		 dsTemp.getColumn(0,"YEAR"));
				this.ds_chit.setColumn(0, "BSNS_SE", 			 dsTemp.getColumn(0,"BSNS_SE"));
				this.ds_chit.setColumn(0, "BALC_SE", 			 dsTemp.getColumn(0,"BALC_SE"));
				this.ds_chit.setColumn(0, "BUDGET_ACNT_CODE", 	 dsTemp.getColumn(0,"BUDGET_ACNT_CODE"));
				this.ds_chit.setColumn(0, "BUDGET_ACNT_NM",  	 dsTemp.getColumn(0,"BUDGET_TREE_NM"));
				this.ds_chit.setColumn(0, "DEPT_CODE", 		 	 dsTemp.getColumn(0,"DEPT_CODE"));
				this.ds_chit.setColumn(0, "DEPT_NM", 		 	 dsTemp.getColumn(0,"DEPT_NM"));
				this.ds_chit.setColumn(0, "EXPNDTR_UNIT_CODE",   dsTemp.getColumn(0,"EXPNDTR_UNIT_CODE"));
				this.ds_chit.setColumn(0, "EXPNDTR_UNIT_NM", 	 dsTemp.getColumn(0,"EXPNDTR_UNIT_NM"));
				this.ds_chit.setColumn(0, "BSNS_CODE", 		 	 dsTemp.getColumn(0,"DETAIL_BSNS_CODE"));
				this.ds_chit.setColumn(0, "BSNS_NM", 			 dsTemp.getColumn(0,"DETAIL_BSNS_NM"));
			}
			break;
			
		case "grd_accnutAcntPopup":	// 회계계정과목 팝업 콜백
			if(!this.comUtils.isNull(variant)) {
				dsTemp.loadXML(variant);
				this.ds_chitDetail.setColumn(currow, "ACCNUT_ACNT_CODE", 	dsTemp.getColumn(0, "ACCNUT_ACNT_CODE"));
				this.ds_chitDetail.setColumn(currow, "ACCNUT_ACNT_NM", 		dsTemp.getColumn(0, "ACCNUT_ACNT_NM"));
			}
			break;
			
		case "btn_bsnsPopup":		// 사업코드 팝업 콜백
			if(!this.comUtils.isNull(variant)) {
				dsTemp.loadXML(variant);
				this.ds_chit.setColumn(0, "BSNS_CODE", 	dsTemp.getColumn(0, "BSNS_CODE"));
				this.ds_chit.setColumn(0, "BSNS_NM", 	dsTemp.getColumn(0, "BSNS_NM"));
			}
			break;
			
		case "grd_bcncPopup":		// 거래처 팝업 콜백
			if(!this.comUtils.isNull(variant)) {
				dsTemp.loadXML(variant);
				this.ds_chitDetail.setColumn(currow, "BCNC_CODE", 	dsTemp.getColumn(0, "BCNC_CODE"));
				this.ds_chitDetail.setColumn(currow, "BCNC_NM", 	dsTemp.getColumn(0, "BCNC_NM"));
			}
			break;
		default:
			break;
	}

	
}

/*
 * 함수명  	: ds_cond_oncolumnchanged
 * 설명 		: 전표구분에 따라 전표종류 콤보 필터링
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cond_oncolumnchanged();
 */
this.ds_cond_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "CHIT_SE") {
		if(e.newvalue == "") {
			this.ds_acc031s.filter("");
		} else {
			this.ds_acc031s.filter("VAL0 == '" + e.newvalue + "' || CODE_NM == '전체'");
			
			if(e.newvalue == "1") {
				this.div_SEARCH.cmb_chitTy.set_enable(true);
				this.div_SEARCH.cmb_chitTy.set_datacolumn("VAL0");
				this.ds_cond.setColumn(0, "CHIT_KND", "");
				this.ds_cond.setColumn(0, "CHIT_TY" , "");
			}
			else if(e.newvalue == "2") {
				this.div_SEARCH.cmb_chitTy.set_enable(true);
				this.div_SEARCH.cmb_chitTy.set_datacolumn("VAL1");
				this.ds_cond.setColumn(0, "CHIT_KND", "");
				this.ds_cond.setColumn(0, "CHIT_TY" , "");
			}
			else {
				this.div_SEARCH.cmb_chitTy.set_enable(false);
				this.ds_cond.setColumn(0, "CHIT_KND", "");
				this.ds_cond.setColumn(0, "CHIT_TY" , "");
			}
		}
	}
}


/*
 * 함수명  	: ds_chitList_onrowposchanged
 * 설명 		: 전표목록 행변경 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_chitList_onrowposchanged();
 */
this.ds_chitList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.ds_cond.setColumn(0, "ACCNUT_YEAR", obj.getColumn(e.newrow, "ACCNUT_YEAR"));
	this.ds_cond.setColumn(0, "CHIT_NO", 	 obj.getColumn(e.newrow, "CHIT_NO"));
	this.fn_transaction("chit");
}


/*
 * 함수명  	: grd_chit_oncelldblclick
 * 설명 		: 전표리스트 더블클릭 : 결의서 팝업
 * params  		: None
 * return Type 	: None
 * 사용법		: this.grd_chit_oncelldblclick();
 */
this.grd_chit_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.cell == 1) {
		return;
	}

	if(this.ds_chitList.getColumn(e.row, "CHIT_SE") == "1") {
		var args = {
			  anactKnd	: this.ds_chitList.getColumn(e.row, "CHIT_KND")
			, decsnYear	: this.ds_chitList.getColumn(e.row, "DECSN_YEAR")
			, decsnNo	: this.ds_chitList.getColumn(e.row, "DECSN_NO")
		};
		this.gfn_popup("incDsnPopup", 903, 842, "수입결의서", args, this.arrStrUrl[args.anactKnd], "fn_popupCallBack", true);	
	} 
	else if(this.ds_chitList.getColumn(e.row, "CHIT_SE") == "2") {
		var args = {
			  anactKnd	: this.ds_chitList.getColumn(e.row, "CHIT_KND")
			, decsnYear	: this.ds_chitList.getColumn(e.row, "DECSN_YEAR")
			, decsnNo	: this.ds_chitList.getColumn(e.row, "DECSN_NO")
		};
		this.gfn_popup("expDsnPopup", 903, 842, "지출결의서", args, this.arrStrUrl[args.anactKnd], "fn_popupCallBack", true);	
	}
}

/*
 * 함수명  	: ds_chitList_canrowposchange
 * 설명 		: 데이터셋 변경 체크
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_chitList_canrowposchange();
 */
this.ds_chitList_canrowposchange = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(Ex.util.isUpdated(this.ds_chit) || Ex.util.isUpdated(this.ds_chitDetail)) {
		if(this.gfn_message("comm.행위여부","변경된 데이터가 있습니다. 저장하지 않고 진행") ){
			this.ds_chitDetail.reset();
			this.ds_chit.reset();
			this.ds_chitList.reset();
			return true;
		} else {
			return false;
		}
	}
	
	return true;
}

/**********************************************************************
* 조회조건 사업명 backspace, delete 키보드 입력시 값 지움
***********************************************************************/ 

this.div_SEARCH_edt_acntCode_onkeydown = function(obj:Edit, e:nexacro.KeyEventInfo)
{
	if(e.keycode == '8'){   // backspace
		this.ds_cond.setColumn(0, "ACCNUT_ACNT_CODE");
		this.ds_cond.setColumn(0, "ACCNUT_ACNT_NM");
	}else if(e.keycode == '46'){  // delete
		this.ds_cond.setColumn(0, "ACCNUT_ACNT_CODE");
		this.ds_cond.setColumn(0, "ACCNUT_ACNT_NM");
	}
}

this.div_SEARCH_edt_bsnsNm_onkeydown = function(obj:Edit, e:nexacro.KeyEventInfo)
{
	if(e.keycode == '8'){   // backspace
		this.ds_cond.setColumn(0, "BSNS_CODE");
		this.ds_cond.setColumn(0, "BSNS_NM");
	}else if(e.keycode == '46'){  // delete
		this.ds_cond.setColumn(0, "BSNS_CODE");
		this.ds_cond.setColumn(0, "BSNS_NM");
	}
}

this.div_SEARCH_Edit04_onkeydown = function(obj:Edit, e:nexacro.KeyEventInfo)
{
	if(e.keycode == '8'){   // backspace
		this.ds_cond.setColumn(0, "PRMPC_CODE");
		this.ds_cond.setColumn(0, "PRMPC_NM");
	}else if(e.keycode == '46'){  // delete
		this.ds_cond.setColumn(0, "PRMPC_CODE");
		this.ds_cond.setColumn(0, "PRMPC_NM");
	}
}

this.div_SEARCH_edt_bdgAcntNm_onkeydown = function(obj:Edit, e:nexacro.KeyEventInfo)
{
	if(e.keycode == '8'){   // backspace
		this.ds_cond.setColumn(0, "BUDGET_ACNT_CODE");
		this.ds_cond.setColumn(0, "BUDGET_ACNT_NM");
	}else if(e.keycode == '46'){  // delete
		this.ds_cond.setColumn(0, "BUDGET_ACNT_CODE");
		this.ds_cond.setColumn(0, "BUDGET_ACNT_NM");
	}
}

this.grd_chitDetail_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var args = {
		  chitNo			: this.ds_chitDetail.getColumn(e.row, "CHIT_NO")
		 ,seq				: this.ds_chitDetail.getColumn(e.row, "SEQ")
		 ,chitDe          	: this.ds_chitDetail.getColumn(e.row, "CHIT_DE")
		 ,accnutAcntCode  	: this.ds_chitDetail.getColumn(e.row, "ACCNUT_ACNT_CODE")
		 ,accnutAcntNm    	: this.ds_chitDetail.getColumn(e.row, "ACCNUT_ACNT_NM")
		 ,seAccnutAcntCode	: this.ds_chitDetail.getColumn(e.row, "SE_ACCNUT_ACNT_CODE")
		 ,seAccnutAcntNm  	: this.ds_chitDetail.getColumn(e.row, "SE_ACCNUT_ACNT_NM")
	};
	this.gfn_popup("chitDtlPopup", 860, 408, "전표세부내역", args, "mis_acc::ACC050103_P02.xfdl", "fn_popupCallBack", true);		
}

this.ds_cond_cancolumnchange = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "MIN_AM") {
		var nRow = obj.rowposition;
		var minAm = e.newvalue;
		var maxAm = (!this.comUtils.isNull(obj.getColumn(nRow, "MAX_AM")) ? nexacro.toNumber(obj.getColumn(nRow, "MAX_AM")) : "");
		if(!this.comUtils.isNull(minAm) && !this.comUtils.isNull(maxAm)) {
			if(minAm > maxAm) {
				this.gfn_message("info.처리불가","차/대변 검색조건의 최솟값은 최댓값보다 작아야 합니다.");
			}
		}
	}
	
	
	if(e.columnid == "MAX_AM") {
		var nRow = obj.rowposition;
		var minAm = (!this.comUtils.isNull(obj.getColumn(nRow, "MIN_AM")) ? nexacro.toNumber(obj.getColumn(nRow, "MIN_AM")) : "");
		var maxAm = e.newvalue;
		if(!this.comUtils.isNull(minAm) && !this.comUtils.isNull(maxAm)) {
			if(minAm > maxAm) {
				this.gfn_message("info.처리불가","차/대변 검색조건의 최솟값은 최댓값보다 작아야 합니다.");
				return false;
			}
		}
	}
}

this.ds_chit_cancolumnchange = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "CHIT_DE"){
		// 전표일자의 년도가 바뀔경우 회계년도, 예산년도를 전표일자의 년도로 변경
		var nYear = e.newvalue.substr(0,4);
		if(obj.getColumn(e.row, "ACCNUT_YEAR") != nYear){
			if(obj.getRowType() == Dataset.ROWTYPE_INSERT){
				obj.setColumn(e.row, "ACCNUT_YEAR",nYear);
				if(!this.comUtils.isNull(obj.getColumn(e.row, "BUDGET_YEAR"))){
					obj.setColumn(e.row, "BUDGET_YEAR",nYear);
				}
				for(var i = 0; i < this.ds_chitDetail.getRowCount(); i++){
					this.ds_chitDetail.setColumn(i, "ACCNUT_YEAR", nYear);
				}
			}else{
				this.gfn_message("fail.수정.불가","저장된 전표는 회계년도를 변경할 수 없어 다른년도의 일자로");
				return false;
			}
		}
	}
}]]></Script>
  </Form>
</FDL>
