<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="ACC020203_P05" classname="UI_ACC020203_P05" left="0" top="0" width="715" height="577" titletext="여입결의서" onload="ACC020203_P05_onload" scrollbars="none">
    <Layouts>
      <Layout>
        <Div id="div_detail1" taborder="5" left="440" top="104" cssclass="div_detailBox" height="285" width="259">
          <Layouts>
            <Layout width="476" height="122">
              <Static id="Static10" taborder="76" cssclass="sta_WF_Labelbg" left="103" top="208" right="0" height="27"/>
              <Static id="Static04" taborder="69" cssclass="sta_WF_Labelbg" left="103" top="130" right="0" height="53"/>
              <Static id="Static11" taborder="59" cssclass="sta_WF_Labelbg" left="83" top="26" height="27" right="0"/>
              <Static id="Static14" taborder="63" cssclass="sta_WF_Labelbg" left="91" top="78" height="27" right="0"/>
              <Static id="Static15" taborder="64" cssclass="sta_WF_Labelbg" left="103" top="104" height="27" right="0"/>
              <Static id="Static16" taborder="65" cssclass="sta_WF_Labelbg" left="91" top="52" height="27" right="0"/>
              <Static id="Static27" taborder="58" cssclass="sta_WF_Labelbg" left="83" top="0" height="27" right="0"/>
              <Static id="Static00" taborder="9" text="발의일자" left="0" top="0" height="27" cssclass="sta_WF_Label" width="104"/>
              <Static id="Static02" taborder="10" text="원인행위일자" cssclass="sta_WF_Label" left="0" top="26" height="27" wordwrap="char" width="104"/>
              <Static id="Static03" taborder="11" text="채무확정액등기" cssclass="sta_WF_Label" left="0" top="52" height="27" width="104"/>
              <Calendar id="cal_itncDe" taborder="0" left="106" top="3" height="21" style="align:center;" width="150" dateformat="yyyy-MM-dd" value="null"/>
              <Calendar id="cal_causeActionDe" taborder="4" left="106" top="29" width="150" height="21" style="align:center;" dateformat="yyyy-MM-dd"/>
              <Static id="Static06" taborder="41" text="원가분개장등기" cssclass="sta_WF_Label" left="0" top="78" width="104" height="27"/>
              <Static id="Static09" taborder="44" text="지급번호" cssclass="sta_WF_Label" left="0" top="104" width="104" height="27"/>
              <Calendar id="cal_detDcsnDe" taborder="1" left="106" top="55" width="150" height="21" style="align:center;" dateformat="yyyy-MM-dd"/>
              <Calendar id="cal_prmpcJrnlzprRgistDe" taborder="2" left="106" top="81" width="150" height="21" style="align:center;" dateformat="yyyy-MM-dd"/>
              <Edit id="Edit00" taborder="8" left="106" top="107" width="150" height="21" readonly="true" cssclass="edt_WF_Readonly"/>
              <Static id="Static07" taborder="67" text="사업지구" wordwrap="char" cssclass="sta_WF_Label" left="0" top="130" width="104" height="53"/>
              <Edit id="Edit02" taborder="68" readonly="true" cssclass="edt_WF_Readonly" left="106" top="133" width="150" height="47"/>
              <Button id="btn_bsnsPopup" taborder="70" onclick="fn_popup_onclick" cssclass="btn_WF_Search" left="85" top="146" height="21" width="14" visible="false" enable="false"/>
              <Static id="Static01" taborder="71" wordwrap="char" cssclass="sta_WF_Label" left="0" top="234" width="104" height="51" text="수정요청 내용"/>
              <Static id="Static05" taborder="72" cssclass="sta_WF_Labelbg" left="103" top="182" right="0" height="27"/>
              <Static id="Static08" taborder="73" text="지출계좌" cssclass="sta_WF_Label" left="0" top="182" width="104" height="53"/>
              <Combo id="cmb_fnccInsttCode" taborder="74" readonly="true" innerdataset="ds_fnncInstt" codecolumn="FNNC_INSTT_CODE" datacolumn="FNNC_INSTT_CODE_NM" cssclass="cmb_WF_Readonly" left="106" top="185" width="150" height="21"/>
              <Edit id="Edit01" taborder="75" cssclass="edt_WF_Essential" left="106" top="211" width="150" height="21" readonly="true"/>
              <Button id="btn_branchAcnut" taborder="77" onclick="fn_popup_onclick" cssclass="btn_WF_Search" left="83" top="197" width="21" height="21"/>
              <Static id="Static12" taborder="78" cssclass="sta_WF_Labelbg" left="103" top="234" right="0" height="51"/>
              <TextArea id="txt_expndrUpdtReqCn" taborder="79" left="40.93%" top="237" right="1.16%" height="45" wordwrap="char"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="div_detail2" taborder="4" left="15" top="181" height="208" cssclass="div_detailBox" width="415">
          <Layouts>
            <Layout>
              <Static id="Static16" taborder="110" cssclass="sta_WF_Labelbg" left="79" top="181" right="165" height="27"/>
              <Static id="Static15" taborder="109" cssclass="sta_WF_Labelbg" left="246" top="181" right="0" height="27"/>
              <Static id="Static13" taborder="108" cssclass="sta_WF_Labelbg" left="243" top="156" right="0" height="27"/>
              <Static id="Static04" taborder="107" cssclass="sta_WF_Labelbg" left="79" top="156" right="168" height="27"/>
              <Static id="Static18" taborder="89" cssclass="sta_WF_Labelbg" left="0" top="156" right="335" height="27"/>
              <Static id="Static20" taborder="94" cssclass="sta_WF_Labelbg" left="0" top="181" right="335" height="27"/>
              <Static id="Static07" taborder="78" cssclass="sta_WF_Labelbg" left="0" top="0" height="27" right="0"/>
              <Static id="Static08" taborder="79" cssclass="sta_WF_Labelbg" left="0" top="26" height="27" right="0"/>
              <Static id="Static03" taborder="80" cssclass="sta_WF_Labelbg" left="0" top="52" height="27" right="0"/>
              <Static id="Static09" taborder="81" cssclass="sta_WF_Labelbg" left="0" top="78" height="27" right="0"/>
              <Static id="Static10" taborder="82" cssclass="sta_WF_Labelbg" left="0" top="104" height="27" right="0"/>
              <Static id="Static00" taborder="16" text="결의번호" cssclass="sta_WF_Label" left="0" top="0" height="27" width="70"/>
              <Static id="Static01" taborder="17" text="예산계정" cssclass="sta_WF_Label" left="0" top="26" height="27" width="70"/>
              <Static id="Static02" taborder="18" text="부기" wordwrap="char" cssclass="sta_WF_Label" left="0" top="78" height="53" width="80"/>
              <Edit id="edt_bukipCode" taborder="6" left="82" top="81" height="21" width="120" cssclass="edt_WF_Essential" readonly="true"/>
              <Edit id="Edit01" taborder="7" left="82" top="107" height="21" width="330" cssclass="edt_WF_Readonly" readonly="true"/>
              <Edit id="Edit04" taborder="3" left="73" top="29" height="21" width="120" cssclass="edt_WF_Readonly" readonly="true"/>
              <Edit id="Edit02" taborder="4" left="3" top="55" width="409" height="21" cssclass="edt_WF_Readonly" readonly="true"/>
              <MaskEdit id="msk_caActAmt" taborder="5" mask="###,###,###,###,###" left="264" top="29" width="148" height="21" cssclass="msk_WF_Readonly" readonly="true"/>
              <Static id="Static05" taborder="70" text="배정잔액" cssclass="sta_WF_Label" left="196" top="26" width="65" height="27"/>
              <Static id="Static06" taborder="71" text="부기잔액" cssclass="sta_WF_Label" left="204" top="78" width="70" height="27"/>
              <MaskEdit id="msk_caActAmt00" taborder="8" mask="###,###,###,###,###" left="276" top="81" width="136" height="21" cssclass="msk_WF_Readonly" readonly="true"/>
              <Static id="Static11" taborder="84" text="거래유형" cssclass="sta_WF_Label" left="0" top="130" width="80" height="27"/>
              <Static id="Static12" taborder="85" text="차변" cssclass="sta_WF_Label" left="79" top="130" width="168" height="27" style="align:center middle;"/>
              <Static id="Static14" taborder="86" text="대변" cssclass="sta_WF_Label" left="246" top="130" width="169" height="27" style="align:center middle;"/>
              <Edit id="Edit03" taborder="88" readonly="true" cssclass="edt_WF_Essential" left="82" top="159" width="162" height="21"/>
              <Edit id="Edit06" taborder="90" readonly="true" cssclass="edt_WF_Essential" left="249" top="159" width="163" height="21"/>
              <Edit id="Edit07" taborder="93" readonly="true" cssclass="edt_WF_Essential" left="82" top="184" width="162" height="21"/>
              <Edit id="Edit08" taborder="95" readonly="true" cssclass="edt_WF_Essential" left="249" top="184" width="163" height="21"/>
              <Button id="btn_atmcJrnlzTy" taborder="96" onclick="fn_popup_onclick" cssclass="btn_WF_Search" left="59" top="133" width="21" height="21"/>
              <Edit id="Edit09" taborder="97" readonly="true" cssclass="edt_WF_Readonly" left="3" top="159" width="74" height="21" value="채무확정"/>
              <Edit id="Edit10" taborder="98" readonly="true" cssclass="edt_WF_Readonly" left="3" top="184" width="74" height="21" value="지급"/>
              <Static id="Static22" taborder="102" text="예산구분" cssclass="sta_WF_Label" left="196" top="0" width="65" height="27"/>
              <Combo id="Combo00" taborder="103" readonly="true" innerdataset="@ds_bdg001" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Readonly" left="264" top="3" width="86" height="21"/>
              <Button id="btn_budgetAcntPopup" taborder="106" onclick="fn_popup_onclick" cssclass="btn_WF_Search" left="59" top="94" width="21" height="21"/>
              <Edit id="Edit05" taborder="111" readonly="true" cssclass="edt_WF_Readonly" left="73" top="3" width="120" height="21"/>
              <Combo id="cmb_CYFD_SE" taborder="112" readonly="false" innerdataset="ds_acc046" codecolumn="CODE" datacolumn="CODE_NM" left="352" top="3" width="60" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static05" taborder="30" text="15" visible="false" left="0" top="0" bottom="0" width="15" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static06" taborder="31" text="15" visible="false" left="0" top="0" height="15" style="background:#dc143c3c;align:center middle;" right="0"/>
        <Static id="Static02" taborder="32" text="15" visible="false" top="0" bottom="0" style="background:#1b3cd23c;align:center middle;" right="0" width="15"/>
        <Button id="btn_close2" taborder="2" text="종료" onclick="fn_close" cssclass="btn_WF_CRUD" top="15" right="15" width="50" height="25"/>
        <Button id="btn_save" taborder="1" text="저장" onclick="fn_save" cssclass="btn_WF_CRUD" top="15" right="68" width="50" height="25"/>
        <Static id="Static07" taborder="36" text="10" visible="false" left="0" top="78" height="10" style="background:#dc143c3c;align:center middle;" right="0"/>
        <Static id="Static12" taborder="37" text="5" visible="false" left="0" top="40" height="5" style="background:#dc143c3c;align:center middle;" right="0"/>
        <Div id="div_search" taborder="3" left="15" top="45" right="15" height="34" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="Static16" taborder="18" text="부서" cssclass="sta_WFSA_Label" left="169" top="5" width="38" height="21"/>
              <Div id="div_dept" taborder="1" url="com::deptCode.xfdl" left="212" top="5" width="195" height="22" async="false"/>
              <Static id="Static00" taborder="20" text="회계년도" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Spin id="spn_decsnYear" taborder="0" value="0" left="84" top="5" width="70" height="21" style="align:center;"/>
              <Static id="sta_sanctn" taborder="25" text="결재상태" cssclass="sta_WFSA_Label" visible="true" top="5" height="21" width="66" right="127"/>
              <Combo id="cmb_sanctn" taborder="26" readonly="true" innerdataset="@ds_com022" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Readonly" visible="true" top="5" height="21" width="112" index="-1" right="10"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="sta_title" taborder="39" text="여입결의서" cssclass="sta_WF_Title01" left="17" top="17" width="197" height="21"/>
        <Static id="Static31" taborder="40" text="계정정보" cssclass="sta_WF_Title02" left="15" top="158" width="130" height="21"/>
        <Static id="Static08" taborder="41" text="5" visible="false" left="0" top="99" height="5" style="background:#dc143c3c;align:center middle;" right="0"/>
        <Static id="Static01" taborder="43" text="지출결의정보" cssclass="sta_WF_Title02" left="441" top="84" width="130" height="21"/>
        <Static id="Static09" taborder="64" text="10" visible="false" left="0" top="389" height="10" style="background:#dc143c3c;align:center middle;" right="0"/>
        <Button id="btn_sanctn" taborder="69" text="결재" onclick="fn_sanction" cssclass="btn_WF_CRUD" left="544" top="15" height="25" visible="true" enable="true" width="50"/>
        <Tab id="tab" taborder="71" left="15" top="399" right="15" height="165" onchanged="tab_onchanged" tabindex="0" scrollbars="autoboth" style="showextrabutton:false;">
          <Tabpages>
            <Tabpage id="tabpage1" text="내용">
              <Layouts>
                <Layout width="885" height="251">
                  <Div id="div_detail00" taborder="0" left="0" top="0" right="0" height="131" cssclass="div_detailBox">
                    <Layouts>
                      <Layout width="476" height="122">
                        <Static id="Static12" taborder="164" cssclass="sta_WF_Labelbg" left="14" top="0" right="0" height="27"/>
                        <Static id="Static02" taborder="134" cssclass="sta_WF_Labelbg" left="0" top="26" right="0" height="27"/>
                        <Static id="Static16" taborder="137" cssclass="sta_WF_Labelbg" left="0" top="52" right="0" height="27"/>
                        <Static id="Static09" taborder="140" text="반납고지서번호" cssclass="sta_WF_Label" left="456" top="26" height="27" width="104"/>
                        <Edit id="Edit06" taborder="145" left="562" top="29" height="21" width="120"/>
                        <Static id="Static06" taborder="146" text="납부일" cssclass="sta_WF_Label" left="228" top="26" height="27" width="104"/>
                        <Calendar id="Calendar03" taborder="147" dateformat="yyyy-MM-dd" left="334" top="29" height="21" style="align:center;" width="120"/>
                        <Static id="Static23" taborder="149" cssclass="sta_WF_Labelbg" left="0" top="78" right="0" height="53"/>
                        <Static id="Static10" taborder="153" text="납부기한" cssclass="sta_WF_Label" left="0" top="26" height="27" width="104"/>
                        <Calendar id="Calendar01" taborder="154" dateformat="yyyy-MM-dd" left="106" top="29" height="21" style="align:center;" width="120"/>
                        <Static id="Static21" taborder="155" text="반납사유" wordwrap="char" cssclass="sta_WF_Label" left="0" top="78" height="53" width="104"/>
                        <Static id="Static08" taborder="157" text="주소" wordwrap="char" cssclass="sta_WF_Label" left="0" top="52" height="27" width="104"/>
                        <Edit id="Edit04" taborder="158" maxlength="100" left="106" top="55" height="21" width="348"/>
                        <Static id="Static13" taborder="159" text="반납자" wordwrap="char" cssclass="sta_WF_Label" left="456" top="52" height="27" width="104"/>
                        <Edit id="Edit05" taborder="160" maxlength="15" left="562" top="55" height="21" width="120" cssclass="edt_WF_Essential"/>
                        <Static id="Static00" taborder="161" text="결의금액" cssclass="sta_WF_Label" left="0" top="0" height="27" width="104"/>
                        <Static id="Static03" taborder="162" text="지출일자" cssclass="sta_WF_Label" left="228" top="0" height="27" width="104"/>
                        <Static id="Static05" taborder="163" text="고지서발행" cssclass="sta_WF_Label" left="456" top="0" height="27" width="104"/>
                        <Calendar id="Calendar00" taborder="165" dateformat="yyyy-MM-dd" left="562" top="3" height="21" style="align:center;" width="120"/>
                        <Calendar id="Calendar02" taborder="166" dateformat="yyyy-MM-dd" left="334" top="3" height="21" style="align:center;" width="120"/>
                        <MaskEdit id="MaskEdit00" taborder="167" left="106" top="3" width="120" height="21" mask="###,###,###,###,###" cssclass="msk_WF_Essential" limitbymask="integer"/>
                        <TextArea id="txt_sumry" taborder="168" left="106" top="81" width="576" height="47" cssclass="txt_WF_Essential" wordwrap="char"/>
                      </Layout>
                    </Layouts>
                  </Div>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tabpage2" text="첨부파일">
              <Layouts>
                <Layout>
                  <Grid id="grd_file" taborder="0" binddataset="ds_fileList" useinputpanel="false" onheadclick="tab_tabpage3_grd_file_onheadclick" left="0%" top="5" right="0%" bottom="0" oncelldblclick="tab_tabpage2_grd_file_oncelldblclick">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="40"/>
                          <Column size="65"/>
                          <Column size="350"/>
                          <Column size="80"/>
                          <Column size="80"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="40"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1" text="파일형식"/>
                          <Cell col="2" celltype="head" text="파일명"/>
                          <Cell col="3" text="확장자"/>
                          <Cell col="4" text="사이즈"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                          <Cell col="1" displaytype="image" text="bind:FILE_IMAGE" autosizerow="limitmin" autosizecol="limitmin"/>
                          <Cell col="2" displaytype="normal" style="align:left middle;" text="bind:ORGINL_FILE_NM"/>
                          <Cell col="3" text="bind:FILE_EXTSN"/>
                          <Cell col="4" text="bind:FILE_MG"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Button id="btn_delFiles" taborder="73" text="선택삭제" onclick="btn_delFiles_onclick" cssclass="btn_WF_Process" visible="false" left="62.45%" top="404" right="27.07%" height="19"/>
        <Button id="btn_uploadFiles" taborder="74" text="파일업로드" onclick="btn_uploadFiles_onclick" cssclass="btn_WF_Process" visible="false" left="73.36%" top="404" right="16.16%" height="19"/>
        <Button id="btn_downFiles" taborder="75" text="선택다운로드" onclick="btn_downFiles_onclick" cssclass="btn_WF_Process" visible="false" left="84.28%" top="404" right="2.62%" height="19"/>
        <Static id="Static00" taborder="76" text="15" visible="false" left="0" right="0" height="15" style="background:#dc143c3c;align:center middle;" bottom="0"/>
        <Static id="Static04" taborder="80" text="원인행위" cssclass="sta_WF_Title02" left="15" top="84" width="130" height="21"/>
        <Static id="Static27" taborder="81" cssclass="sta_WF_Labelbg" left="15" top="104" height="53" width="415"/>
        <Edit id="Edit03" taborder="85" readonly="true" cssclass="edt_WF_Essential" left="18" top="107" width="100" height="21"/>
        <TextArea id="txt_cnsulNo" taborder="86" scrollbars="none" wordwrap="char" cssclass="txt_WF_Readonly" left="120" top="107" width="307" height="47"/>
        <Button id="btn_actPopup" taborder="79" text="선택" onclick="fn_popup_onclick" cssclass="btn_WF_Process" top="131" width="48" height="21" left="18"/>
        <Button id="btn_actPopupView" taborder="78" text="보기" onclick="fn_popup_onclick" cssclass="btn_WF_Process" top="131" width="49" height="21" left="68"/>
        <Static id="sta_msg" taborder="87" text="(해당 지출 담당자 승인 후에 전자결재 상신이 가능합니다)" visible="false" left="215" top="19" width="325" height="21" style="color:blue;"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_expDsnMastr" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_expDsnMastr_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="10"/>
          <Column id="CAUSE_ACTION_NO" type="STRING" size="10"/>
          <Column id="BUDGET_YEAR" type="STRING" size="4"/>
          <Column id="BSNS_SE" type="STRING" size="1"/>
          <Column id="BALC_SE" type="STRING" size="1"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="8"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="ANACT_KND" type="STRING" size="2"/>
          <Column id="DEPT_CODE" type="STRING" size="6"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="CYFD_SE" type="STRING" size="1"/>
          <Column id="ITNC_DE" type="STRING" size="8"/>
          <Column id="PYMNT_ITNC_DE" type="STRING" size="8"/>
          <Column id="DET_DCSN_DE" type="STRING" size="8"/>
          <Column id="PRMPC_JRNLZPR_RGIST_DE" type="STRING" size="8"/>
          <Column id="CPTAL_EXPNDTR_ACNTBK_DE" type="STRING" size="8"/>
          <Column id="EXPNDTR_BUDGET_CNRL_DE" type="STRING" size="8"/>
          <Column id="CAUSE_ACTION_DE" type="STRING" size="8"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="BUDGET_ACNT_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="8"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE_BLCE" type="BIGDECIMAL" size="22"/>
          <Column id="CPTAL_CHRG_CONFM" type="STRING" size="1"/>
          <Column id="TIMHDER_CONFM" type="STRING" size="1"/>
          <Column id="CNTRCT_NO" type="STRING" size="11"/>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="ACNUTNO" type="STRING" size="20"/>
          <Column id="SUMRY" type="STRING" size="200"/>
          <Column id="BSNS_CODE" type="STRING" size="5"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="PRMPC_YEAR" type="STRING" size="256"/>
          <Column id="PRMPC_CODE" type="STRING" size="6"/>
          <Column id="PRMPC_NM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="7"/>
          <Column id="EXPNDTR_CNFIRM_AT" type="STRING" size="2"/>
          <Column id="ATMC_JRNLZ_TY_CODE" type="STRING" size="256"/>
          <Column id="GNRL_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="GNRL_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_DEBTOR_ACNT_NM" type="STRING" size="256"/>
          <Column id="SETOFF_CRDIT_ACNT_NM" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="CHECK_NO" type="STRING" size="256"/>
          <Column id="SANCTN_NO" type="STRING" size="256"/>
          <Column id="SANCTN_SE" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_STTUS" type="STRING" size="256"/>
          <Column id="INC_EXP_AT" type="STRING" size="256"/>
          <Column id="CPTAL_DECSN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="DRFT_APPRID" type="STRING" size="256"/>
          <Column id="DRFT_DOCREGNO" type="STRING" size="256"/>
          <Column id="DRFT_DATE" type="STRING" size="256"/>
          <Column id="DRFT_USERID" type="STRING" size="256"/>
          <Column id="TRG_FORM_ID" type="STRING" size="256"/>
          <Column id="TRG_FORM_ID2" type="STRING" size="256"/>
          <Column id="BUDGET_CNRL_AT" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_ANACT_KND" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_REGIST_SE" type="STRING" size="256"/>
          <Column id="CHI_CNT" type="STRING" size="256"/>
          <Column id="CHI_AT" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_SUMRY" type="STRING" size="256"/>
          <Column id="ACNUT_NM" type="STRING" size="256"/>
          <Column id="CNSUL_SJ" type="STRING" size="256"/>
          <Column id="BUDGET_DEPT_CODE" type="STRING" size="256"/>
          <Column id="SANCTN_KND" type="STRING" size="256"/>
          <Column id="ASIGN_JAN_AMOUNT" type="BIGDECIMAL" size="22"/>
          <Column id="EXPNDTR_UPDT_REQ_CN" type="STRING" size="256"/>
          <Column id="UPDT_REQ_AT" type="STRING" size="256"/>
          <Column id="REGISTER_EMPNO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rturnExpDsnMtrDet" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_rturnExpDsnMtrDet_oncolumnchanged">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="4"/>
          <Column id="DECSN_NO" type="STRING" size="10"/>
          <Column id="CNRL_LEDGR_RGIST_DE" type="STRING" size="8"/>
          <Column id="PYMNT_CNRL_LEDGR_DE" type="STRING" size="8"/>
          <Column id="EXPNDTR_DE" type="STRING" size="8"/>
          <Column id="NHT_PBLICTE_DE" type="STRING" size="8"/>
          <Column id="RTURN_NHT_NO" type="BIGDECIMAL" size="22"/>
          <Column id="PAY_TMLMT" type="STRING" size="8"/>
          <Column id="PAY_DE" type="STRING" size="8"/>
          <Column id="ADRES" type="STRING" size="256"/>
          <Column id="NM" type="STRING" size="256"/>
          <Column id="MTCHG_SE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bdg001" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc002" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc003" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DECSN_YEAR" type="STRING" size="256"/>
          <Column id="DECSN_NO" type="STRING" size="256"/>
          <Column id="ANACT_KND" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_NO" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bdg002" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_wikCptalPlan" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PLAN_YM" type="STRING" size="256"/>
          <Column id="WEEK_ATMB" type="STRING" size="256"/>
          <Column id="SE" type="STRING" size="256"/>
          <Column id="CYFD_SE" type="STRING" size="256"/>
          <Column id="SN" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="BUDGET_YEAR" type="STRING" size="256"/>
          <Column id="BSNS_SE" type="STRING" size="256"/>
          <Column id="BALC_SE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_CODE" type="STRING" size="256"/>
          <Column id="EXPNDTR_UNIT_NM" type="STRING" size="256"/>
          <Column id="DECSN_YN" type="STRING" size="256"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="CPTAL_CHRG_CONFM_YN" type="STRING" size="256"/>
          <Column id="TIMHDER_CONFM_YN" type="STRING" size="256"/>
          <Column id="EXPNDTR_BUDGET_CNRL_DE" type="STRING" size="256"/>
          <Column id="CPTAL_EXPNDTR_ACNTBK_RGIST_DE" type="STRING" size="256"/>
          <Column id="ITNC_DE" type="STRING" size="256"/>
          <Column id="DCSN_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="ANACT_KND" type="STRING" size="256"/>
          <Column id="CAUSE_ACTION_NO" type="STRING" size="256"/>
          <Column id="DECSN_YEAR" type="STRING" size="256"/>
          <Column id="DECSN_NO" type="STRING" size="256"/>
          <Column id="PLAN_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="CONFM_AT" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="EXPNDTR_CNFIRM_YN" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="256"/>
          <Column id="REGISTER_EMPNM" type="STRING" size="256"/>
          <Column id="UPDUSR_EMPNM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dscsnNo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">EXPNDTR_UNIT_CODE</Col>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="msgId">[계정정보]부기코드</Col>
            <Col id="notNull">Y</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="nlength">8</Col>
          </Row>
          <Row>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="colId">DECSN_AMOUNT</Col>
            <Col id="notNull">Y</Col>
            <Col id="nlength">15</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">[세부내용]결의금액</Col>
          </Row>
          <Row>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="colId">RTURN_NHT_NO</Col>
            <Col id="notNull"/>
            <Col id="msgId">[세부내용]반납고지서번호</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="nlength">15</Col>
          </Row>
          <Row>
            <Col id="colId">ACNUTNO</Col>
            <Col id="msgId">계좌번호</Col>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="notNull">Y</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="nlength">20</Col>
          </Row>
          <Row>
            <Col id="colId">FNNC_INSTT_CODE</Col>
            <Col id="msgId">지출은행</Col>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="notNull">Y</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="nlength">3</Col>
          </Row>
          <Row>
            <Col id="colId">SUMRY</Col>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="nlength">100</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">[내용]반납사유</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">NM</Col>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="nlength">15</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">[내용]성명</Col>
          </Row>
          <Row>
            <Col id="colId">ADRES</Col>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="nlength">100</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">[내용]주소</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rturnExpDsnMtrDet</Col>
            <Col id="colId">NM</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">[내용]반납자</Col>
          </Row>
          <Row>
            <Col id="compId">ds_expDsnMastr</Col>
            <Col id="colId">EXPNDTR_UPDT_REQ_CN</Col>
            <Col id="PK"/>
            <Col id="notNull"/>
            <Col id="type"/>
            <Col id="nlength">100</Col>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">수정요청내용</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_com022" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_frmtnPd_onrowposchanged">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="PROGRS" type="BIGDECIMAL" size="16"/>
          <Column id="ORGINL_FILE_NM" type="string" size="32"/>
          <Column id="FILE_EXTSN" type="string" size="32"/>
          <Column id="FILE_STRE_COURS" type="string" size="32"/>
          <Column id="FILE_ID" type="string" size="32"/>
          <Column id="SN" type="bigdecimal" size="16"/>
          <Column id="SYS_SE_CODE" type="string" size="32"/>
          <Column id="FILE_IMAGE" type="string" size="32"/>
          <Column id="FILE_TY" type="string" size="32"/>
          <Column id="JOB_SE" type="string" size="32"/>
          <Column id="DELETE_IMAGE" type="string" size="32"/>
          <Column id="STRE_FILE_NM" type="string" size="32"/>
          <Column id="FILE_MG" type="bigdecimal" size="16"/>
          <Column id="FILE_CN" type="string" size="32"/>
          <Column id="FILE_ORDR" type="bigdecimal" size="16"/>
          <Column id="TRNSMIS_FILE_SIZE" type="string" size="32"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="STTUS" type="string" size="32"/>
          <Column id="FILE_SN" type="bigdecimal" size="16"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fnncInstt" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="FNNC_INSTT_CODE" type="STRING" size="3"/>
          <Column id="FNNC_INSTT_CODE_NM" type="STRING" size="50"/>
          <Column id="USE_AT" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acc046">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item4" compid="div_detail1.cal_itncDe" propid="value" datasetid="ds_expDsnMastr" columnid="ITNC_DE"/>
      <BindItem id="item0" compid="div_detail2.edt_bukipCode" propid="value" datasetid="ds_expDsnMastr" columnid="EXPNDTR_UNIT_CODE"/>
      <BindItem id="item1" compid="div_detail2.Edit04" propid="value" datasetid="ds_expDsnMastr" columnid="BUDGET_ACNT_CODE"/>
      <BindItem id="item11" compid="div_detail2.msk_caActAmt" propid="value" datasetid="ds_expDsnMastr" columnid="ASIGN_JAN_AMOUNT"/>
      <BindItem id="item12" compid="div_detail2.msk_caActAmt00" propid="value" datasetid="ds_expDsnMastr" columnid="EXPNDTR_UNIT_CODE_BLCE"/>
      <BindItem id="item2" compid="div_detail1.cal_causeActionDe" propid="value" datasetid="ds_expDsnMastr" columnid="CAUSE_ACTION_DE"/>
      <BindItem id="item3" compid="div_detail1.cal_detDcsnDe" propid="value" datasetid="ds_expDsnMastr" columnid="DET_DCSN_DE"/>
      <BindItem id="item17" compid="div_detail1.Edit00" propid="value" datasetid="ds_expDsnMastr" columnid="CHECK_NO"/>
      <BindItem id="item18" compid="tab.tabpage1.div_detail00.msk_caActAmt00" propid="value" datasetid="ds_expDsnMastr" columnid="DECSN_YEAR"/>
      <BindItem id="item7" compid="tab.tabpage1.div_detail00.Calendar02" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="EXPNDTR_DE"/>
      <BindItem id="item34" compid="tab.tabpage1.div_detail00.Calendar00" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="NHT_PBLICTE_DE"/>
      <BindItem id="item19" compid="tab.tabpage1.div_detail00.Edit06" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="RTURN_NHT_NO"/>
      <BindItem id="item20" compid="tab.tabpage1.div_detail00.Edit06" propid="value" datasetid="ds_actMastr" columnid="BUDGET_ACNT_CODE"/>
      <BindItem id="item21" compid="tab.tabpage1.div_detail00.Calendar01" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="PAY_TMLMT"/>
      <BindItem id="item35" compid="tab.tabpage1.div_detail00.Calendar03" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="PAY_DE"/>
      <BindItem id="item9" compid="div_search.spn_decsnYear" propid="value" datasetid="ds_expDsnMastr" columnid="DECSN_YEAR"/>
      <BindItem id="item22" compid="div_detail2.Edit02" propid="value" datasetid="ds_expDsnMastr" columnid="BUDGET_ACNT_NM"/>
      <BindItem id="item37" compid="div_detail2.Edit01" propid="value" datasetid="ds_expDsnMastr" columnid="EXPNDTR_UNIT_NM"/>
      <BindItem id="item38" compid="div_detail1.cal_prmpcJrnlzprRgistDe" propid="value" datasetid="ds_expDsnMastr" columnid="PRMPC_JRNLZPR_RGIST_DE"/>
      <BindItem id="item32" compid="tab.tabpage1.div_detail00.Edit05" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="NM"/>
      <BindItem id="item33" compid="tab.tabpage1.div_detail00.Edit05" propid="value" datasetid="ds_actMastr" columnid="BUDGET_ACNT_CODE"/>
      <BindItem id="item10" compid="tab.tabpage1.div_detail00.msk_caActAmt01" propid="value" datasetid="ds_expDsnMastr" columnid="DECSN_AMOUNT"/>
      <BindItem id="item15" compid="div_detail2.Edit03" propid="value" datasetid="ds_expDsnMastr" columnid="GNRL_DEBTOR_ACNT_NM"/>
      <BindItem id="item24" compid="div_detail2.Edit06" propid="value" datasetid="ds_expDsnMastr" columnid="GNRL_CRDIT_ACNT_NM"/>
      <BindItem id="item25" compid="div_detail2.Edit07" propid="value" datasetid="ds_expDsnMastr" columnid="SETOFF_DEBTOR_ACNT_NM"/>
      <BindItem id="item27" compid="div_detail2.Edit08" propid="value" datasetid="ds_expDsnMastr" columnid="SETOFF_CRDIT_ACNT_NM"/>
      <BindItem id="item42" compid="div_detail2.Combo00" propid="value" datasetid="ds_expDsnMastr" columnid="BSNS_SE"/>
      <BindItem id="item13" compid="div_detail2.Edit05" propid="value" datasetid="ds_expDsnMastr" columnid="DECSN_NO"/>
      <BindItem id="item43" compid="tab.tabpage1.div_detail00.Calendar05" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="EXPNDTR_DE"/>
      <BindItem id="item44" compid="tab.tabpage1.div_detail00.Edit04" propid="value" datasetid="ds_rturnExpDsnMtrDet" columnid="ADRES"/>
      <BindItem id="item82" compid="div_search.cmb_sanctn" propid="value" datasetid="ds_expDsnMastr" columnid="SANCTN_KND"/>
      <BindItem id="item48" compid="tab.tabpage1.div_detail00.MaskEdit00" propid="value" datasetid="ds_expDsnMastr" columnid="DECSN_AMOUNT"/>
      <BindItem id="item49" compid="tab.tabpage1.div_detail00.MaskEdit00" propid="tooltiptext" datasetid="ds_expDsnMastr" columnid="CPTAL_DECSN_AMOUNT"/>
      <BindItem id="item28" compid="div_detail1.Edit02" propid="value" datasetid="ds_expDsnMastr" columnid="BSNS_NM"/>
      <BindItem id="item29" compid="div_detail1.Edit02" propid="value" datasetid="ds_actMastr" columnid="BUDGET_ACNT_CODE"/>
      <BindItem id="item65" compid="Edit03" propid="value" datasetid="ds_expDsnMastr" columnid="CAUSE_ACTION_NO"/>
      <BindItem id="item8" compid="txt_cnsulNo" propid="value" datasetid="ds_expDsnMastr" columnid="CNSUL_SJ"/>
      <BindItem id="item60" compid="div_detail1.cmb_fnccInsttCode" propid="value" datasetid="ds_expDsnMastr" columnid="FNNC_INSTT_CODE"/>
      <BindItem id="item5" compid="div_detail1.Edit01" propid="value" datasetid="ds_expDsnMastr" columnid="ACNUTNO"/>
      <BindItem id="item6" compid="tab.tabpage1.div_detail00.txt_sumry" propid="value" datasetid="ds_expDsnMastr" columnid="SUMRY"/>
      <BindItem id="item14" compid="div_detail2.Edit02" propid="tooltiptext" datasetid="ds_expDsnMastr" columnid="BUDGET_ACNT_NM"/>
      <BindItem id="item30" compid="div_detail2.cmb_CYFD_SE" propid="value" datasetid="ds_expDsnMastr" columnid="CYFD_SE"/>
      <BindItem id="item16" compid="div_detail1.txt_expndrUpdtReqCn" propid="value" datasetid="ds_expDsnMastr" columnid="EXPNDTR_UPDT_REQ_CN"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : ACC020203_P05
 * 화면명   : 여입결의서
 * 화면설명 : 여입결의서를 등록한다.
 * 작성일   : 2017.07.20
 * 작성자   : 이상명
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ************************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";
include "lib::comUpDownUtils.xjs";

// 업무에 필요한 공통 라이브러리 파일을 추가할 수 있다.
// TODO

/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
this.strRtnGbn	= "";	// 팝업 this.close()시 리턴값(I:신규, U:수정, C:닫기)
this.File_UpDownManager = null;

/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.ACC020203_P05_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// 파일 메니저 설정
	var fileConfig = {
		useMultiUpload : true,
		onChange: this.fn_onFileSelected,	// 파일 선택 이벤트 핸들러
		onSuccess : this.fn_onFileSuccess	// 전송 성공 이벤트 핸들러
	};
	this.File_UpDownManager = new this.fileUpDownManager(this, "MIS", "ACC");
	this.File_UpDownManager.init(fileConfig);
	
	this.fn_misFormInit(this);
	// 데이터셋 동적 바인딩
	this.div_search.div_dept.fn_setBind("ds_expDsnMastr","DEPT_CODE","DEPT_NM");
	if(this.gfn_authGrpId("ACC_ADMIN") == -1 && this.gfn_authGrpId("ACC_USER") == -1) {
         this.div_search.div_dept.fn_setReadonly(true);
    }
		
	// 결의서코드 정보
	this.fn_transaction("selectExpCode");	
	
	// 공통코드
	var comboParams = [
		["ds_acc002", "ACC002", "Y", "D", "B"],	// 지출결의서 구분
		["ds_acc003", "ACC003", "Y", "D", "B"],	// 지출은행
	    ["ds_bdg001", "BDG001", "Y", "D", "B"],	// 사업구분
	    ["ds_bdg002", "BDG002", "Y", "D", "B"],	// 수지구분
	    ["ds_com022", "COM022", "Y", "D", "B"],	// 결재상태
	    ["ds_acc046", "ACC046", "Y", "D", "B"]	// 이월구분
	];
	var callback = function (svcId, errorCode, errorMsg) {
		this.fn_search();	//  최초조회
	};
	this.gfn_comboLoad (comboParams, callback);
}

/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/
/*
 * 함수명  	: fn_search
 * 설명 		: 조회 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{	
	var decsnYear = this.getOwnerFrame().decsnYear;		// 결의년도
	var decsnNo	  = this.getOwnerFrame().decsnNo;		// 결의번호
	
	if(!this.comUtils.isNull(decsnNo)) {
		this.fn_setReadonly(this.div_search.spn_decsnYear, null);
		this.strRtnGbn = "U";
		
		// 여입결의서 조회
		this.ds_cond.clearData();
		this.ds_cond.addRow();
		this.ds_cond.setColumn(0, "DECSN_YEAR"	, decsnYear);
		this.ds_cond.setColumn(0, "DECSN_NO"	, decsnNo);
		this.ds_cond.setColumn(0, "ANACT_KND"	, "05");
		
		//해당 부서만
		this.ds_cond.setColumn(0, "DEPT_CODE"	, this.gfn_getDeptId());	// 부서코드
		this.ds_cond.setColumn(0, "DEPT_NM"		, this.gfn_getDeptName());	// 부서명
		
		this.fn_transaction("selectExpDsn");
	} else {
		this.strRtnGbn = "I";
		this.btn_sanctn.set_enable(false);
		this.sta_msg.set_visible(true);

		var today = this.dateUtils.today();
		//20200507 재무팀수정요청내용 컬럼 추가로인한 수정 by 권재만
		this.div_detail1.txt_expndrUpdtReqCn.set_cssclass("txt_WF_Readonly");
		this.div_detail1.txt_expndrUpdtReqCn.set_readonly(true);
		
		// 지출결의마스터 생성 및 초기값 설정(부모창에서 넘겨받은 데이터셋이 있으면 셋팅)
		
		if(this.comUtils.isNull(this.getOwnerFrame().dsExpDsnMastr)) {
			this.ds_expDsnMastr.addRow();
			this.ds_expDsnMastr.setColumn(0, "DECSN_YEAR"				, decsnYear);	// 결의년도
			this.ds_expDsnMastr.setColumn(0, "BUDGET_YEAR"				, decsnYear);	// 예산년도
			this.ds_expDsnMastr.setColumn(0, "ANACT_KND"				, "05");		// 결의서종류
			this.ds_expDsnMastr.setColumn(0, "ITNC_DE"					, today);		// 발의일자
			this.ds_expDsnMastr.setColumn(0, "DET_DCSN_DE"				, today);		// 채무확정일자
			this.ds_expDsnMastr.setColumn(0, "PYMNT_ITNC_DE"			, today);		// 지급발의일자
			this.ds_expDsnMastr.setColumn(0, "PRMPC_JRNLZPR_RGIST_DE"	, today);		// 원가분개장등기
			this.ds_expDsnMastr.setColumn(0, "EXPNDTR_BUDGET_CNRL_DE"	, today);		// 지출예산통제
			this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE"	, today);		// 자금지출부
			this.ds_expDsnMastr.setColumn(0, "CAUSE_ACTION_DE"			, today);		// 원인행위일자
			this.ds_expDsnMastr.setColumn(0, "DECSN_AMOUNT"				, "0");			// 결의금액
			this.ds_expDsnMastr.setColumn(0, "DEPT_CODE"				, this.gfn_getDeptId());	// 부서코드
			this.ds_expDsnMastr.setColumn(0, "DEPT_NM"					, this.gfn_getDeptName());	// 부서명
			
			this.ds_expDsnMastr.setColumn(0, "TRG_FORM_ID"				, this.getOwnerFrame().trgFormId);	// 화면제어
			this.ds_expDsnMastr.setColumn(0, "TRG_FORM_ID2"				, this.getOwnerFrame().trgFormId2);	// PMS 화면,삭제제어
			
			this.ds_expDsnMastr.setColumn(0, "CYFD_SE"					, "0");								// 이월구분	
			
		} else {
			this.fn_loadXml(this.getOwnerFrame().dsExpDsnMastr, this.ds_expDsnMastr);
			
			// 예산정보 조회
			var dsBudget = this.fn_getBudgetInfo(this.ds_expDsnMastr);
			if(dsBudget.getRowCount() > 0) {
				this.ds_expDsnMastr.setColumn(0, "BUDGET_ACNT_NM", 			dsBudget.getColumn(0, "BUDGET_ACNT_NM"));
				this.ds_expDsnMastr.setColumn(0, "EXPNDTR_UNIT_NM", 		dsBudget.getColumn(0, "EXPNDTR_UNIT_NM"));
				this.ds_expDsnMastr.setColumn(0, "BUDGET_ACNT_BLCE", 		dsBudget.getColumn(0, "BUDGET_ACNT_BLCE"));
				this.ds_expDsnMastr.setColumn(0, "EXPNDTR_UNIT_CODE_BLCE", 	dsBudget.getColumn(0, "EXPNDTR_UNIT_CODE_BLCE"));
			}
			
			if(!this.comUtils.isNull(this.getOwnerFrame().trgFormId)) {
				this.ds_expDsnMastr.setColumn(0, "TRG_FORM_ID"				, this.getOwnerFrame().trgFormId);
			}
			
			this.fn_setDatasetType(this.ds_expDsnMastr, "I");
		}
	
		// 지출결의마스터상세 생성 및 초기값 설정(부모창에서 넘겨받은 데이터셋이 있으면 셋팅)
		if(this.comUtils.isNull(this.getOwnerFrame().dsRturnExpDsnMtrDet)) {
			this.ds_rturnExpDsnMtrDet.addRow();
			this.ds_rturnExpDsnMtrDet.setColumn(0, "CNRL_LEDGR_RGIST_DE", today);		// 통제원장등기
			this.ds_rturnExpDsnMtrDet.setColumn(0, "PYMNT_CNRL_LEDGR_DE", today);		// 지급통제원장
			this.ds_rturnExpDsnMtrDet.setColumn(0, "EXPNDTR_DE"			, today);		// 지출일자
			this.ds_rturnExpDsnMtrDet.setColumn(0, "NHT_PBLICTE_DE"		, today);		// 고지서발행
			this.ds_rturnExpDsnMtrDet.setColumn(0, "PAY_TMLMT"			, today);		// 납부기한
			this.ds_rturnExpDsnMtrDet.setColumn(0, "PAY_DE"				, today);		// 납부일
		} else {
			this.fn_loadXml(this.getOwnerFrame().dsRturnExpDsnMtrDet, this.ds_rturnExpDsnMtrDet);
			this.fn_setDatasetType(this.ds_rturnExpDsnMtrDet, "I");
		}
		
		// 자금지출계획
		if(!this.comUtils.isNull(this.getOwnerFrame().dsWikCptalPlan)) {
			this.fn_loadXml(this.getOwnerFrame().dsWikCptalPlan, this.ds_wikCptalPlan);
		}
		
		// 결의번호가 등록되어야하는 테이블의 Dataset
		if(!this.comUtils.isNull(this.getOwnerFrame().dsDecsnNo)) {
			this.ds_dscsnNo.loadXML(this.getOwnerFrame().dsDecsnNo);
		}
	}
}

/*
 * 함수명  	: fn_save
 * 설명 		: 저장 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save= function()
{
	if(Ex.util.isUpdated(this.ds_expDsnMastr) 	|| 
	   Ex.util.isUpdated(this.ds_rturnExpDsnMtrDet)) {
	   
	   	if(!this.gfn_checkValidation_NoUpdChk(this.ds_expDsnMastr, this.ds_validation)) {
			return;
		}
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_rturnExpDsnMtrDet, this.ds_validation)) {
			return;
		}
		
		// 거래유형 필수입력 처리
		if(this.ds_expDsnMastr.getColumn(0,"DECSN_YEAR") >= 2016 && this.comUtils.isNull(this.ds_expDsnMastr.getColumn(0,"ATMC_JRNLZ_TY_CODE"))) {
			this.gfn_message("info.처리불가","[계정정보] 거래유형을 선택하십시오.");
			return false;
		}
		
		// 수정요청건인지 판단
		if(this.strRtnGbn == "U") {
			var reqCn    = this.ds_expDsnMastr.getColumn(0, "EXPNDTR_UPDT_REQ_CN");
			var orgReqCn = this.ds_expDsnMastr.getOrgColumn(0, "EXPNDTR_UPDT_REQ_CN");
			
			// 수정요청내용이 존재하며 기존값과 다를 경우 수정요청건으로 판단
			if(!this.comUtils.isNull(reqCn) && reqCn != orgReqCn) {
				this.ds_expDsnMastr.setColumn(0, "UPDT_REQ_AT", "1");
			}
		}
		
		var expndtrDe = this.ds_rturnExpDsnMtrDet.getColumn(0, "EXPNDTR_DE");
		if(!this.comUtils.isNull(expndtrDe)){ //반납지출결의마스터 상세 테이블의 [지출일자] 정보를 [자금지출장부일자]로 세팅
			this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE", expndtrDe);
		}else{//값이 없을경우 금일날짜 세팅
			this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE", this.dateUtils.today());
		}

		this.fn_transaction("saveExpDsn");
	} 
	else {
		this.gfn_message("comm.내역.변경.없음");
	}
}

/*
 * 함수명  	: fn_sanction
 * 설명 		: '결재' 버튼 클릭 후
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_sanction();
 */
this.fn_sanction = function()
{
	// 유효성 체크
	if(this.comUtils.isDatasetUpdated(this.ds_expDsnMastr) || 
	   this.comUtils.isDatasetUpdated(this.ds_rturnExpDsnMtrDet)
		) {
		this.gfn_message("comm.정보.저장.요청", "지출결의서");
		return;
	}
	if(this.ds_expDsnMastr.getRowCount() == 0) {
		this.gfn_message("info.처리불가","계정정보/결의정보를 찾을 수 없습니다.");
		return;
	}
	if(this.ds_rturnExpDsnMtrDet.getRowCount() == 0) {
		this.gfn_message("info.처리불가","내용을 찾을 수 없습니다.");
		return;
	}
	
	// 결재상신
	var arrSancData = [
		 "[지출]"+this.ds_expDsnMastr.getColumn(0,"SUMRY")										//결재제목
		,this.ds_expDsnMastr.getColumn(0,"DECSN_YEAR")											//결재연도
		,this.fn_dateStr(this.ds_expDsnMastr.getColumn(0,"ITNC_DE"),".")						//분임경리관_발의일
		,this.fn_dateStr(this.ds_expDsnMastr.getColumn(0,"DET_DCSN_DE"),".")					//분임경리관_채무확정액등기
		,this.ds_expDsnMastr.getColumn(0,"GWAN_NM")												//관
		,this.ds_expDsnMastr.getColumn(0,"HANG_NM")												//항
		,this.ds_expDsnMastr.getColumn(0,"SEHANG_NM")											//세항
		,this.ds_expDsnMastr.getColumn(0,"MOK_NM")												//목
		,this.ds_expDsnMastr.getColumn(0,"SEMOK_NM")											//세목
		,this.fn_dateStr(this.ds_expDsnMastr.getColumn(0,"ITNC_DE"),".")						//지출담당 발의일
		,this.fn_dateStr(this.ds_expDsnMastr.getColumn(0,"CAUSE_ACTION_DE"),".")				//원인행위부등기
		,this.fn_dateStr(this.ds_expDsnMastr.getColumn(0,"DET_DCSN_DE"),".")					//지출담당 채무확정액등기
		,this.fn_dateStr(this.ds_expDsnMastr.getColumn(0,"PRMPC_JRNLZPR_RGIST_DE"),".")			//재고분개장등기
		,this.fn_numToHangul(this.ds_expDsnMastr.getColumn(0,"DECSN_AMOUNT"))+"원정"			//총금액_한글
		,this.comUtils.formatComma(this.ds_expDsnMastr.getColumn(0,"DECSN_AMOUNT"))				//총금액
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"EXPNDTR_DE"),null,"YYYY") 		//지출일_년
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"EXPNDTR_DE"),null,"MM")	 		//지출일_월
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"EXPNDTR_DE"),null,"DD") 		//지출일_일
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"NHT_PBLICTE_DE"),null,"YYYY") 	//고지서발행_년
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"NHT_PBLICTE_DE"),null,"MM") 	//고지서발행_월
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"NHT_PBLICTE_DE"),null,"DD") 	//고지서발행_일
		,this.ds_expDsnMastr.getColumn(0,"CHECK_NO")											//지급번호
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"PAY_TMLMT"),null,"YYYY") 		//납입기한_년
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"PAY_TMLMT"),null,"MM") 			//납입기한_월
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"PAY_TMLMT"),null,"DD") 			//납입기한_일
		,this.ds_rturnExpDsnMtrDet.getColumn(0,"RTURN_NHT_NO") 									//반환고지서번호
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"PAY_DE"),null,"YYYY") 			//납부일_년
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"PAY_DE"),null,"MM") 			//납부일_월
		,this.fn_dateStr(this.ds_rturnExpDsnMtrDet.getColumn(0,"PAY_DE"),null,"DD") 			//납부일_일
		,this.ds_rturnExpDsnMtrDet.getColumn(0,"ADRES") 										//반납자_주소
		,this.ds_rturnExpDsnMtrDet.getColumn(0,"NM") 											//반납자_성명
		,this.ds_expDsnMastr.getColumn(0,"SUMRY")							//반납사유
	];
	
	this.fn_callHandySanc2(
		 this						// context
		,'0000000066'				// formId
		,this.ds_expDsnMastr		// misDataset
		,"TBACC_EXP_DSN_MASTR"		// tableName
		,["DECSN_YEAR","DECSN_NO"]	// tableKey
		,arrSancData				// arrSancData
		,null
		,null
		,null
		,this.ds_fileList
	);
}
/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
 
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	var sArgs = "";
	
	switch (strSvcId) {
		case "selectExpDsn":
			var sController   	= "hsco/mis/acc/ACC020203/selectExpDsn.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_expDsnMastr=output1 ds_rturnExpDsnMtrDet=output4";
			break;

		case "saveExpDsn":
			var sController   	= "hsco/mis/acc/ACC020203/saveExpDsn.do";
			var sInDatasets   	= "input1=ds_expDsnMastr:A input4=ds_rturnExpDsnMtrDet:U input16=ds_wikCptalPlan:A input20=ds_dscsnNo:A";
			var sOutDatasets  	= "ds_expDsnMastr=output1";
			
			// 결의서 팝업을 호출한 화면ID를 넘긴다.
			if(!this.comUtils.isNull(this.getOwnerFrame().trgFormId)) {
				sArgs = "TRG_FORM_ID=" + this.getOwnerFrame().trgFormId;
			}
			break;
		case "selectExpCode":	// 지출결의서 코드정보
			var sController   	= "hsco/mis/acc/ACC020203/selectExpCode.do";
			var sInDatasets   	= "";
			var sOutDatasets  	= "ds_fnncInstt=output1";
			break;
		case "selectAtchFile":		// 첨부파일 조회
			var sController   	= "hsco/mis/acc/ACC020203/selectAtchFile.do";
			var sInDatasets   	= "input1=ds_expDsnMastr";
			var sOutDatasets  	= "ds_fileList=output1";
			break;    

		default:
		break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets, sArgs); 
}

 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/

 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	
	if (nErrorCode == 0) {
		switch(strSvcId) {
			case "selectExpDsn":
				this.fn_authCheck();	// 권한체크
				
				if(this.comUtils.isNotNull(this.ds_expDsnMastr.getColumn(0, "FILE_SN"))){
					this.fn_transaction("selectAtchFile");
				}
				// 결재상태와 양식 visible 처리
				if(this.comUtils.isNotNull(this.ds_expDsnMastr.getColumn(0, "SANCTN_NO"))){
					this.div_search.sta_sanctn.set_visible(true);
					this.div_search.cmb_sanctn.set_visible(true);
				}
				break;

			case "saveExpDsn":
				this.alert("저장 되었습니다.");
				//this.close(this.strRtnGbn);
				break;
			case "selectExpCode":		// 결의서 코드정보
				this.ds_fnncInstt.insertRow(0);
				this.ds_fnncInstt.setColumn(0, "FNNC_INSTT_CODE_NM", "미선택");
				break;
			default:
				break;
		}
	}
	
	// 오류 및 성공 메시지를 화면에 보여준다.
	this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);	
}

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/
/*
 * 함수명  	: fn_close
 * 설명 		: 종료 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_close();
 */
this.fn_close = function()
{
	this.close("C");
}

/*
 * 함수명  	: ds_expDsnMastr_oncolumnchanged
 * 설명 		: 지출결의마스터 데이터 변경시 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_expDsnMastr_oncolumnchanged();
 */
this.ds_expDsnMastr_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	switch(e.columnid) {
	
		case "DECSN_YEAR":
			obj.setColumn(e.row, "BUDGET_YEAR"				, e.newvalue);
			break;
			
		// 발의일자 변경시 다른일자 동일하게 변경 
		case "ITNC_DE":				
			//obj.setColumn(e.row, "DET_DCSN_DE"	, e.newvalue);	// 채무확정일자
			obj.setColumn(e.row, "PYMNT_ITNC_DE"	, e.newvalue);	// 지급발의일자
			//this.ds_rturnExpDsnMtrDet.setColumn(this.ds_rturnExpDsnMtrDet.rowposition, "CNRL_LEDGR_RGIST_DE"	, e.newvalue);	// 통제원장등기
			//obj.setColumn(e.row, "PRMPC_JRNLZPR_RGIST_DE"	, e.newvalue);	// 원가분개장등기
			//obj.setColumn(e.row, "EXPNDTR_BUDGET_CNRL_DE"	, e.newvalue);	// 지출예산통제 일자
			obj.setColumn(e.row, "CPTAL_EXPNDTR_ACNTBK_DE"	, e.newvalue);	// 자금지출부등기
			//obj.setColumn(e.row, "CAUSE_ACTION_DE"	, e.newvalue);	// 원인행위일자
			this.ds_rturnExpDsnMtrDet.setColumn(this.ds_rturnExpDsnMtrDet.rowposition, "PYMNT_CNRL_LEDGR_DE"	, e.newvalue);	// 지급통제원장
			
			break;
		
		default:
			break;
	}
}


/*
 * 함수명  	: ds_rturnExpDsnMtrDet_oncolumnchanged
 * 설명 		: 여입결의마스터상세 데이터셋 변경이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_rturnExpDsnMtrDet_oncolumnchanged();
 */
this.ds_rturnExpDsnMtrDet_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	switch(e.columnid) {
		case "CNRL_LEDGR_RGIST_DE":	// 통제원장등기
			this.ds_expDsnMastr.setColumn(0, "PRMPC_JRNLZPR_RGIST_DE"	, e.newvalue);	// 원장분개장등기
			break;
		case "PYMNT_CNRL_LEDGR_DE":	// 지급통제원장
			this.ds_expDsnMastr.setColumn(0, "PYMNT_ITNC_DE"			, e.newvalue);	// 지급발의일자
			this.ds_expDsnMastr.setColumn(0, "CPTAL_EXPNDTR_ACNTBK_DE"	, e.newvalue);	// 자금지출부등기
			break;
		case "PAY_DE":	// 납부일
			this.ds_rturnExpDsnMtrDet.setColumn(0, "EXPNDTR_DE"			, e.newvalue);	// 지출일자
			this.ds_rturnExpDsnMtrDet.setColumn(0, "NHT_PBLICTE_DE"	, e.newvalue);	// 고지서발행
			break;
		case "NHT_PBLICTE_DE":	// 고지서발행
			this.ds_rturnExpDsnMtrDet.setColumn(0, "EXPNDTR_DE"			, e.newvalue);	// 지출일자
			break;
		default:
			break;
	}
}

/*
 * 함수명  	: fn_popup_onclick
 * 설명 		: 팝업창 호출
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_popup_onclick();
 */
this.fn_popup_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	switch(obj.name) {
		case "btn_budgetAcntPopup":	// 예산계정과목 팝업
			var parm = {
				  arg_0      : this
				 ,searchDs   : this.ds_expDsnMastr.saveXML()       	// 검색조건(YEAR, BSNS_SE, BALC_SE, DEPT_CODE 컬럼만 이용)
				 ,strObj     : "edt_YEAR,rdo_BALC_SE" 			// 수정불가능 처리할 오브젝트 명(ex : "edt_YEAR,cbo_BSNS_SE,rdo_BALC_SE,div_srchDept")
				 ,year_S     : this.ds_expDsnMastr.getColumn(0,"BUDGET_YEAR")         // 예산년도(srchDs보다 우선순위를 가짐)
				 ,bsnsSe_S   : null         // 사업구분(srchDs보다 우선순위를 가짐)
				 ,balcSe_S   : null         // 수지구분(srchDs보다 우선순위를 가짐)
				 ,deptCode_S : null         // 부서코드(srchDs보다 우선순위를 가짐)
				 ,acntPopup  : false        // (true : 예산계정코드선택팝업, false : 지출단위선택팝업)
				 ,acntCode_S : null         // 고정 처리할 예산계정코드 목록 (0000000)
				 ,bAccPopup  : true
			};
			this.gfn_popup("btn_budgetAcntPopup", 800, 620, "예산계정과목", parm, "com::bdgAcntPop.xfdl", "fn_popupCallBack", true);
			break;
			
		case "btn_bsnsPopup":		// 사업지구 팝업
			this.gfn_popup("btn_bsnsPopup", 500, 500, "사업지구", "", "pms_prj::popBsns.xfdl", "fn_popupCallBack", true);
			break;
			
		case "btn_bcncPopup":		// 거래처 팝업
			if(this.ds_expDsnDetail.getRowCount() > 0) {
				this.gfn_popup("btn_bcncPopup", 600, 500, "거래처", {searchDs:this.ds_cond.saveXML(),bAcnutPop:true}, "mis_ctr::CTR010101_P02.xfdl", "fn_popupCallBack", true);
			}
			break;
			
		case "btn_actPopup":		// 원인행위정보 팝업
			var param = {
				 arg_0		: this
				,anactKnd	: '03'
				,deptCode	: this.ds_expDsnMastr.getColumn(0, "DEPT_CODE")
				,deptNm		: this.ds_expDsnMastr.getColumn(0, "DEPT_NM")
			};
			this.gfn_popup("btn_actPopup", 600, 500, "원인행위정보", param, "mis_acc::ACC020203_P09.xfdl", "fn_popupCallBack", true);
			break;
			
		case "btn_actPopupView":
			if(this.comUtils.isNotNull(this.ds_expDsnMastr.getColumn(0, "CAUSE_ACTION_NO"))){
				var args	 = {
					causeActionNo	: this.ds_expDsnMastr.getColumn(0, "CAUSE_ACTION_NO")
				};
				this.gfn_popup("actPopupView", 885, 665, "원인행위조회", args, "mis_acc::ACC020201_P01.xfdl", "fn_popupCallBack", true);
			}
			break;
			
		case "btn_atmcJrnlzTy":		// 자동분개유형 팝업
			
			var parm = {
				  arg_0      : this
				 ,year       : this.ds_expDsnMastr.getColumn(0, "BUDGET_YEAR")
				 ,bsnsSe     : this.ds_expDsnMastr.getColumn(0, "BSNS_SE")
				 ,balcSe     : this.ds_expDsnMastr.getColumn(0, "BALC_SE")
				 ,acntCode   : this.ds_expDsnMastr.getColumn(0, "BUDGET_ACNT_CODE")
				 ,bukipCode  : this.ds_expDsnMastr.getColumn(0, "EXPNDTR_UNIT_CODE")
			};			
			
			if(this.comUtils.isNull(parm.year) ||
				this.comUtils.isNull(parm.bsnsSe) ||
				this.comUtils.isNull(parm.balcSe) ||
				this.comUtils.isNull(parm.acntCode)) {
				this.gfn_message("comm.항목.선택.요청", "예산계정과목");
				return;
			}
			
			this.gfn_popup("btn_atmcJrnlzTy", 815, 563, "자동분개유형", parm, "mis_acc::ACC020203_P12.xfdl", "fn_popupCallBack", true);
			break;

		case "btn_branchAcnut":
			var parm = {
				arg_0 : this  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
			};

			this.gfn_popup("btn_branchAcnut", 563, 500, "브런치계좌조회", parm, "mis_fun::FUN010103_P01.xfdl", "fn_popupCallBack", true);
			break;
			
		default:
			break;
	}
}

/*
 * 함수명  	: fn_popupCallBack
 * 설명 		: 팝업창 콜백 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_popupCallBack();
 */
this.fn_popupCallBack = function(strID, variant)
{
	switch(strID) {
		case "btn_budgetAcntPopup":	// 예산계정과목 팝업 콜백
			if(variant != null && variant.length > 0) {
				var dsTemp = new Dataset();
				dsTemp.loadXML(variant);
				this.ds_expDsnMastr.setColumn(0, "DECSN_YEAR", 				dsTemp.getColumn(0, "YEAR"));					// 회계년도
				this.ds_expDsnMastr.setColumn(0, "BUDGET_YEAR", 			dsTemp.getColumn(0, "YEAR"));					// 예산년도
				this.ds_expDsnMastr.setColumn(0, "BSNS_SE", 				dsTemp.getColumn(0, "BSNS_SE"));				// 사업구분
				this.ds_expDsnMastr.setColumn(0, "BALC_SE", 				dsTemp.getColumn(0, "BALC_SE"));				// 수지구분
				this.ds_expDsnMastr.setColumn(0, "BUDGET_ACNT_CODE", 		dsTemp.getColumn(0, "BUDGET_ACNT_CODE"));		// 예산계정코드
				this.ds_expDsnMastr.setColumn(0, "BUDGET_ACNT_NM", 			"("+dsTemp.getColumn(0, "DEPT_NM")+")"+ dsTemp.getColumn(0, "BUDGET_TREE_NM"));			// 예산계정명
				this.ds_expDsnMastr.setColumn(0, "BUDGET_ACNT_BLCE", 		dsTemp.getColumn(0, "BUDGET_BALC"));			// 예산잔액
				this.ds_expDsnMastr.setColumn(0, "EXPNDTR_UNIT_CODE", 		dsTemp.getColumn(0, "EXPNDTR_UNIT_CODE"));		// 지출단위코드
				this.ds_expDsnMastr.setColumn(0, "EXPNDTR_UNIT_CODE_BLCE", 	dsTemp.getColumn(0, "EXPNDTR_UNIT_BALC"));		// 지출단위잔액
				this.ds_expDsnMastr.setColumn(0, "EXPNDTR_UNIT_NM", 		dsTemp.getColumn(0, "EXPNDTR_UNIT_NM"));	// 지출단위코드명
				this.ds_expDsnMastr.setColumn(0, "ASIGN_JAN_AMOUNT", 		dsTemp.getColumn(0, "ASIGN_JAN_AMOUNT"));		// 배정잔액
				
				//사업지구 팝업 대신 
				this.ds_expDsnMastr.setColumn(0, "BSNS_CODE",			dsTemp.getColumn(0, "DETAIL_BSNS_CODE"));	// 사업지구코드
				this.ds_expDsnMastr.setColumn(0, "BSNS_NM",				dsTemp.getColumn(0, "DETAIL_BSNS_NM"));		// 사업지구명
				this.ds_expDsnMastr.setColumn(0, "BUDGET_DEPT_CODE"				, dsTemp.getColumn(0, "DEPT_CODE"));			// 예산부서코드
				
				// 거래유형 초기화(예산계정과목 변경후엔 거래유형을 다시 선택하게 해야 함)
				this.ds_expDsnMastr.setColumn(0, "ATMC_JRNLZ_TY_CODE"	, 	"");	// 자동분개유형
				this.ds_expDsnMastr.setColumn(0, "GNRL_DEBTOR_ACNT_NM"	, 	"");	// 일반_차변계정
				this.ds_expDsnMastr.setColumn(0, "GNRL_CRDIT_ACNT_NM"	, 	"");	// 일반_대변계정
				this.ds_expDsnMastr.setColumn(0, "SETOFF_DEBTOR_ACNT_NM", 	"");	// 상계_차변계정
				this.ds_expDsnMastr.setColumn(0, "SETOFF_CRDIT_ACNT_NM"	, 	"");	// 상계_대변계정
				
				// 거래유형 팝업 호출
				this.fn_popup_onclick({ name:"btn_atmcJrnlzTy" } , null);
			}
			break;
			
		case "btn_bsnsPopup":	//사업지구
			if(variant != null && variant.length > 0) {
				var dsTemp = new Dataset();
				dsTemp.loadXML(variant);
				this.ds_expDsnMastr.setColumn(0, "BSNS_CODE",			dsTemp.getColumn(0, "BSNS_CODE"));			// 사업지구코드
				this.ds_expDsnMastr.setColumn(0, "BSNS_NM",				dsTemp.getColumn(0, "BSNS_NM"));			// 사업지구명
			}
			break;

		case "btn_bcncPopup":		// 거래처 팝업 콜백
			
			if(variant != null && variant.length > 0) {
				var currow = this.ds_expDsnDetail.rowposition;
				var dsTemp = new Dataset();
				dsTemp.loadXML(variant);
				this.ds_expDsnDetail.setColumn(currow, "BCNC_CODE", dsTemp.getColumn(0, "BCNC_CODE"));					// 거래처코드
				this.ds_expDsnDetail.setColumn(currow, "BCNC_NM", dsTemp.getColumn(0, "BCNC_NM"));						// 거래처명
				this.ds_expDsnDetail.setColumn(currow, "NM", dsTemp.getColumn(0, "RPRSNTV"));							// 대표자명
				if(this.comUtils.isNull(dsTemp.getColumn(0, "DPSTR_NM"))) {
					this.ds_expDsnDetail.setColumn(currow, "RCPT_MAN", dsTemp.getColumn(0, "BCNC_NM"));	// 영수자
				} else {
					this.ds_expDsnDetail.setColumn(currow, "RCPT_MAN", dsTemp.getColumn(0, "DPSTR_NM"));	// 영수자 <- 예금주명
				}
				
				
				var addr = dsTemp.getColumn(0, "RN");
				if(!this.comUtils.isNull(dsTemp.getColumn(0, "DETAIL_RDNMADR"))) {
					addr += " ";
					addr += dsTemp.getColumn(0, "DETAIL_RDNMADR");
				}
				if(this.comUtils.isNull(addr)) {
					addr = dsTemp.getColumn(0, "ADRES");
					if(!this.comUtils.isNull(dsTemp.getColumn(0, "DETAIL_ADRES"))) {
						addr += " ";
						addr += dsTemp.getColumn(0, "DETAIL_ADRES");
					}
				}
				this.ds_expDsnDetail.setColumn(currow, "ADRES", addr);	// 주소
				this.ds_expDsnDetail.setColumn(currow, "FNNC_INSTT_CODE", dsTemp.getColumn(0, "BANK_CODE"));			// 지급은행
				this.ds_expDsnDetail.setColumn(currow, "ACNUTNO", dsTemp.getColumn(0, "ACNUTNO"));						// 계좌번호
				this.ds_expDsnDetail.setColumn(currow, "AREA_ENTRPS", dsTemp.getColumn(0, "AREA_ENTRPS_AT"));			// 지역업체
				this.ds_expDsnDetail.setColumn(currow, "FEMALE_ENTRPRS", dsTemp.getColumn(0, "FEMALE_ENTRPRS_AT"));		// 여성기업
				this.ds_expDsnDetail.setColumn(currow, "DSPSN", dsTemp.getColumn(0, "DSPSN_ENTRPRS_AT"));				// 장애인
				this.ds_expDsnDetail.setColumn(currow, "SRSILL_DSPSN", dsTemp.getColumn(0, "SRSILL_DSPSN_ENTRPRS_AT"));	// 중증장애인
				this.ds_expDsnDetail.setColumn(currow, "SOCTY_ENTRPRS", dsTemp.getColumn(0, "SOCENT_AT"));// 사회적기업
				//this.ds_expDsnDetail.setColumn(currow, "", dsTemp.getColumn(0, "DSPSN_PRDCTN_FCLTY_AT"));// 장애인생산시설
				//this.ds_expDsnDetail.setColumn(currow, "", dsTemp.getColumn(0, "SOCTY_CPER_MXTR_AT"));// 사회적협동조합
				//this.ds_expDsnDetail.setColumn(currow, "", dsTemp.getColumn(0, "GREEN_PRDUCT_AT"));// 녹색제품
			}
			break;
			
		case "btn_actPopup":		// 원인행위정보 팝업 콜백
		
			if(variant != null && variant.length > 0) {
				var dsTemp = new Dataset();
				dsTemp.loadXML(variant);
				
				// 데이터셋 복사 칼럼 지정
				var strColInfo = [
					 "CAUSE_ACTION_NO=CAUSE_ACTION_NO"
					,"BUDGET_YEAR=BUDGET_YEAR"
					,"BSNS_SE=BSNS_SE"
					,"BALC_SE=BALC_SE"
					,"BSNS_CODE=BSNS_CODE"
					,"BSNS_NM=BSNS_NM"
					,"BUDGET_DEPT_CODE=BUDGET_DEPT_CODE"
					,"BUDGET_ACNT_CODE=BUDGET_ACNT_CODE"
					,"BUDGET_ACNT_NM=BUDGET_ACNT_NM"
					,"EXPNDTR_UNIT_CODE=BUKIP_CODE"
					,"EXPNDTR_UNIT_NM=BUKIP_NM"
					,"CAUSE_ACTION_DE=CNSUL_DE"
					,"SUMRY=CNSUL_SJ"
					,"BUDGET_ACNT_BLCE=BUDGET_BLCE"
					,"EXPNDTR_UNIT_CODE_BLCE=BUKIP_BLCE"
					,"DECSN_AMOUNT=CNSUL_BLCE"
					,"CYFD_SE=CYFD_SE"
					,"DECSN_YEAR=BUDGET_YEAR"
				];
				this.ds_expDsnMastr.copyRow(0, dsTemp, 0, strColInfo.join(","));
				
				// 예산 등 수정불가 항목 설정
				this.fn_setReadonly(this.div_detail2.cmb_CYFD_SE, null);
				this.fn_setReadonly(this.div_detail2.btn_budgetAcntPopup, null);
				this.fn_setReadonly(this.div_detail2.edt_bukipCode, null);
				
				// 거래유형 팝업 호출
				this.fn_popup_onclick({ name:"btn_atmcJrnlzTy" } , null);

			}
			break;
			
		case "btn_atmcJrnlzTy":		// 자동분개유형
			if(variant != null && variant.length > 0) {
				trace(variant);
				var dsTemp = new Dataset();
				dsTemp.loadXML(variant);
				this.ds_expDsnMastr.setColumn(0, "ATMC_JRNLZ_TY_CODE", 		dsTemp.getColumn(0, "SN"));						// 자동분개유형코드
				this.ds_expDsnMastr.setColumn(0, "GNRL_DEBTOR_ACNT_NM", 	dsTemp.getColumn(0, "GNRL_DEBTOR_ACNT_NM"));	// 일반_차변계정
				this.ds_expDsnMastr.setColumn(0, "GNRL_CRDIT_ACNT_NM", 		dsTemp.getColumn(0, "GNRL_CRDIT_ACNT_NM"));		// 일반_대변계정
				this.ds_expDsnMastr.setColumn(0, "SETOFF_DEBTOR_ACNT_NM", 	dsTemp.getColumn(0, "SETOFF_DEBTOR_ACNT_NM"));	// 상계_차변계정
				this.ds_expDsnMastr.setColumn(0, "SETOFF_CRDIT_ACNT_NM", 	dsTemp.getColumn(0, "SETOFF_CRDIT_ACNT_NM"));	// 상계_대변계정
			}
			break;
					
		case "btn_branchAcnut":
			if(variant != null && variant.length > 0) {
				var dsTemp = new Dataset();
				dsTemp.loadXML(variant);
				this.ds_expDsnMastr.setColumn(0, "ACNUTNO", dsTemp.getColumn(0, "ACNUTNO"));
				this.ds_expDsnMastr.setColumn(0, "FNNC_INSTT_CODE", dsTemp.getColumn(0, "BANK_CODE"));
			}
			
			break;
	}
}

/*
 * 함수명  	: tab_onchanged
 * 설명 		: 탭페이지에 따른 버튼 visible 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: n/a
 */
this.tab_onchanged = function(obj:Tab, e:nexacro.TabIndexChangeEventInfo)
{
	switch(obj.tabindex){
		case 0:
			this.btn_delFiles.set_visible(false);
			this.btn_uploadFiles.set_visible(false);
			this.btn_downFiles.set_visible(false);
			break;
		case 1:
			this.btn_delFiles.set_visible(true);
			this.btn_uploadFiles.set_visible(true);
			this.btn_downFiles.set_visible(true);
			break;
	}
}


/*
 * 함수명  	: btn_uploadFiles_onclick
 * 설명 		: '파일업로드' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_uploadFiles_onclick(obj,e);
 */
this.btn_uploadFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	// 첨부파일 업로드(fileSn 자동채번 / 첨부파일 Master에 ROW추가 / 파일 업로드 및 자동저장 / 테이블에 fileSn반영 / 데이터셋에 fileSn반영, 단 신규 ROW가 아닐경우 ROWTYPE은 유지)
	this.fn_autoFileSn(
		 "MIS"									// 대분류   (SYS_SE)
		,"ACC"									// 업무구분 (JOB_SE)
		, this.File_UpDownManager				// fileManager 오브젝트
		, this.ds_fileList						// fileObject
		, this.ds_expDsnMastr					// fileSn을 불러오거나 반영해야 하는 컬럼
		, "TBACC_EXP_DSN_MASTR"					// fileSn을 저장할 테이블
		, "FILE_SN"								// fileSn 컬럼명이 다를 경우를 대비
		, ["DECSN_NO","DECSN_YEAR"]				// fileSn을 저장할 테이블의 PK (FileSn 확인 및 자동반영목적)
	);
}

/*
 * 함수명  	: btn_downFiles_onclick
 * 설명 		: '선택다운로드' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_downFiles_onclick(obj,e);
 */
this.btn_downFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var findRow = this.ds_fileList.findRow("CHK", "1");
	if(findRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
		return;
	}
	
	for(var fRow = 0; fRow < this.ds_fileList.getRowCount(); fRow++) {
		var fileSn    = this.ds_fileList.getColumn(fRow, "FILE_SN");
		var fileOrder = this.ds_fileList.getColumn(fRow, "FILE_ORDR");
		var fileName  = this.ds_fileList.getColumn(fRow, "ORGINL_FILE_NM");
		var chk       = this.ds_fileList.getColumn(fRow, "CHK");
		if(chk == '1') {
			this.File_UpDownManager.download(fileSn, fileOrder, fileName);
		}
	}
}


/*
 * 함수명  	: btn_delFiles_onclick
 * 설명 		: '선택삭제' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_delFiles_onclick(obj,e);
 */
this.btn_delFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var findRow = this.ds_fileList.findRow("CHK", "1");
	if(findRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
			return;
	}
	
	if(!this.gfn_message("confirm.선택파일.삭제여부", "들")){
		return false;
	}
	
	for(var fRow = this.ds_fileList.getRowCount()-1; fRow >= 0; fRow--) {
		var chkVal = this.ds_fileList.getColumn(fRow, "CHK");
		if(chkVal == '1') {
			this.ds_fileList.deleteRow(fRow);
		}
	}
	
	var strSvcId   	 = "deleteFile";
	var sController  = "hsco/cmm/file/deleteFile.do";
	var sInDatasets  = "input1=ds_fileList:U";
	var sOutDatasets = "ds_fileList=output1";
	
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}

/*
 * 함수명  	: grd_cmmnAtchmnfl_onheadclick
 * 설명 		: Grid expand 이미지 클릭 후 이벤트 처리(자동분개유형 Grid)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.grd_cmmnAtchmnfl_onheadclick(obj,e);
 */

this.tab_tabpage3_grd_file_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
		if(e.col == 0) {
		var strVal = obj.getCellProperty("head", e.cell, "text");
		if (this.comUtils.isNullEmpty(strVal)) {
			strVal = "0";	// 값이 존재하지 않는 경우 해제
		}
		
		// Head값 반전
		if (strVal == "0") {
			obj.setCellProperty("head", e.cell, "text", '1');
			strVal = "1";
		} else {
			obj.setCellProperty("head", e.cell, "text", '0');
			strVal = "0";
		}
		
		// Body 셋팅
		this.ds_fileList.set_enableevent(false);
		for (var cRow = 0; cRow < this.ds_fileList.getRowCount(); cRow++) {
			this.ds_fileList.setColumn(cRow, "CHK", strVal);
		}
		this.ds_fileList.set_enableevent(true);
	}
}

/*
 * 함수명  	: fn_authCheck
 * 설명 		: 지출결의서 권한 체크
 * params  		: 
 * return Type 	: None
 * 사용법		: 
 */
this.fn_authCheck = function() 
{
	var sanctnKnd = ['1','4','5'];	// 1:상신, 4:중간결재, 5:결재완료
	
	switch(this.getOwnerFrame().trgFormId) {
		case "ACC020203":	// 지출결의서 관리
			if(sanctnKnd.indexOf(this.ds_expDsnMastr.getColumn(0, "SANCTN_KND")) > -1) {
				var except = [
					 "btn_save"				// 저장 버튼
					,"btn_close2"			// 종료 버튼
					,"btn_downFiles"		// 첨부파일 다운로드
					,"grd_file"
					,"txt_sumry"			// 적요
					,"btn_actPopupView"		// 원인행위정보 버튼
					,"cal_detDcsnDe"			// 채무확정일자
					,"cal_prmpcJrnlzprRgistDe"	// 분개장등기
					,"cal_pymntItncDe"			// 지급발의일자
					,"cal_expndtrBudgetCnrlDe"	// 지출예산통제
					,"cal_cptalExpndtrAcntbkDe"	// 자금지출부등기
					,"btn_branchAcnut"			// 지출계좌
					,"btn_atmcJrnlzTy"			// 분개유형
					,"btn_delFiles"				// 파일삭제
					,"btn_uploadFiles"			// 파일업로드
					,"btn_downFiles"			// 파일 다운로드
				]
				this.fn_setReadonly(this, except);
			}
			break;
			
		case "ACC020305":	// 중소기업구매실적
				var except = [
					 "btn_close2"			// 종료 버튼
					,"btn_downFiles"		// 첨부파일 다운로드
					,"grd_file"
					,"btn_actPopupView"		// 원인행위정보 버튼 
				]
			this.fn_setReadonly(this, except);
			break;
			
		default:			// 그 외 모든화면
			if(sanctnKnd.indexOf(this.ds_expDsnMastr.getColumn(0, "SANCTN_KND")) > -1) {
				var except = [
					 "btn_save"				// 저장 버튼
					,"btn_close2"			// 종료 버튼
					,"btn_downFiles"		// 첨부파일 다운로드
					,"grd_file"
					,"btn_actPopupView"		// 원인행위정보 버튼 
				]
				this.fn_setReadonly(this, except);
			} else if(this.ds_expDsnMastr.getColumn(0, "EXPNDTR_CNFIRM_AT") == "1") {
				var except = [
					 "btn_sanctn"			// 결재 버튼
					,"btn_save"				// 저장 버튼
					,"btn_close2"			// 종료 버튼
					,"btn_downFiles"		// 첨부파일 다운로드
					,"grd_file"
					,"btn_actPopupView"		// 원인행위정보 버튼 
				]
				this.fn_setReadonly(this, except);
			} 
			break;
	}
	
	// 재무팀 승인 전엔 결재버튼 비활성화
	if(sanctnKnd.indexOf(this.ds_expDsnMastr.getColumn(0, "SANCTN_KND")) == -1 && this.ds_expDsnMastr.getColumn(0, "EXPNDTR_CNFIRM_AT") != "1") {
		this.sta_msg.set_visible(true);
		this.fn_setReadonly(this.btn_sanctn, null);
	}
}



this.tab_tabpage2_grd_file_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var fileSn    = this.ds_fileList.getColumn(this.ds_fileList.rowposition, "FILE_SN");
	var fileOrder = this.ds_fileList.getColumn(this.ds_fileList.rowposition, "FILE_ORDR");
	var fileName  = this.ds_fileList.getColumn(this.ds_fileList.rowposition, "ORGINL_FILE_NM");
	this.File_UpDownManager.download(fileSn, fileOrder, fileName);
}
]]></Script>
  </Form>
</FDL>
