<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="CTR020100" classname="CTR020100" left="0" top="0" width="1059" height="735" titletext="계약의뢰관리" onload="CTR020100_onload" oninit="CTR020100_oninit">
    <Layouts>
      <Layout>
        <Static id="Static20" taborder="52" cssclass="sta_WF_Labelbg" left="99" top="242" width="469" height="27"/>
        <Static id="Static37" taborder="33" cssclass="sta_WF_Labelbg" left="99" top="67" width="469" height="27"/>
        <Div id="div_search" taborder="0" left="0" top="0" right="28" height="33" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout width="1031" height="59">
              <Static id="Static02" taborder="1" text="15" visible="false" left="0" top="0" bottom="0" width="15" style="background:#00ffff66;"/>
              <Static id="sta_YEAR00" taborder="4" text="의뢰번호" wordwrap="char" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Edit id="edt_reqestNm" taborder="3" readonly="true" left="199" top="5" width="369" height="21" cssclass="edt_WF_Readonly"/>
              <Static id="sta_title00" taborder="5" text="(의뢰번호를 선택한 후 조회합니다.)" left="578" top="6" width="232" height="19" style="color:blue;padding:0 0 0 0;align:left middle;font:bold 9 Gulim;"/>
              <MaskEdit id="msk_REQEST_NO" taborder="6" left="79" top="5" width="118" height="21" mask="####-#-#####" cssclass="msk_WF_Readonly" type="string" maskchar=" " style="padding:1 21 0 6;align:center middle;"/>
              <Button id="btn_cntrctReqestPopup" taborder="2" onclick="fn_popup_onclick" cssclass="btn_WF_Search" left="176" top="5" width="21" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static00" taborder="24" text="10" visible="false" left="0" top="33" right="28" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_budgetStats" taborder="25" text="계약의뢰정보" cssclass="sta_WF_Title02" left="0" top="43" width="100" height="19"/>
        <Static id="Static08" taborder="26" text="5" visible="false" left="0" top="62" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static01" taborder="28" text="15" visible="false" left="1031" top="0" width="15" style="background:#1b3cd23c;align:center middle;" bottom="0"/>
        <Static id="Static02" taborder="29" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" style="background:#d07b173c;align:center middle;" bottom="0"/>
        <Static id="Static42" taborder="27" text="10" visible="false" left="568" top="32" bottom="0" width="10" style="background:#1b3cd23c;align:center middle;"/>
        <Tab id="tab_cntrct" taborder="23" top="67" right="28" bottom="0" tabindex="0" scrollbars="autoboth" style="showextrabutton:false;" preload="true" left="578">
          <Tabpages>
            <Tabpage id="tabpage1" text="발주계획" url="mis_ctr::CTR020100_T01.xfdl"/>
            <Tabpage id="tabpage2" text="물품상세" url="mis_ctr::CTR020100_T02.xfdl"/>
          </Tabpages>
        </Tab>
        <Static id="Static34" taborder="30" cssclass="sta_WF_Labelbg" left="99" top="320" width="469" height="27"/>
        <Static id="Static17" taborder="31" cssclass="sta_WF_Labelbg" left="99" top="119" width="469" height="27"/>
        <Static id="Static05" taborder="32" cssclass="sta_WF_Labelbg" left="99" top="93" width="469" height="27"/>
        <Static id="Static03" taborder="34" text="의뢰일" onclick="div_detail_Static00_onclick" cssclass="sta_WF_Label" left="0" top="93" width="100" height="27"/>
        <Static id="Static04" taborder="35" text="의뢰구분" cssclass="sta_WF_Label" left="214" top="93" width="100" height="27"/>
        <Calendar id="cal_reqestDe" taborder="2" dateformat="yyyy-MM-dd" cssclass="cal_WF_Readonly" left="102" top="96" width="110" height="21" style="align:center middle;" readonly="true"/>
        <Combo id="cmb_reqestSe" taborder="3" innerdataset="@ds_ctr022" codecolumn="CODE" datacolumn="CODE_NM" displayrowcount="12" cssclass="cmb_WF_Readonly" left="316" top="96" width="110" height="21" readonly="true"/>
        <Static id="Static16" taborder="36" text="의뢰부서" onclick="div_detail_Static00_onclick" cssclass="sta_WF_Label" left="0" top="119" width="100" height="27"/>
        <Static id="Static18" taborder="37" text="승인여부" onclick="div_detail_Static00_onclick" cssclass="sta_WF_Label" left="0" top="67" width="100" height="27"/>
        <Static id="Static19" taborder="38" text="의뢰자" onclick="div_detail_Static00_onclick" cssclass="sta_WF_Label" left="301" top="119" width="100" height="27"/>
        <Static id="Static09" taborder="39" cssclass="sta_WF_Labelbg" left="99" top="145" width="469" height="27"/>
        <Edit id="edt_reqestNm" taborder="6" lengthunit="ascii" maxlength="100" cssclass="edt_WF_Essential" left="102" top="148" width="463" height="21"/>
        <Static id="Static12" taborder="40" text="공동도급구분" onclick="div_detail_Static00_onclick" cssclass="sta_WF_Label" left="301" top="242" width="100" height="27"/>
        <Combo id="cmb_copertnOutsrcSe" taborder="8" innerdataset="@ds_ctr033" codecolumn="CODE" datacolumn="CODE_NM" displayrowcount="12" cssclass="cmb_WF_Essential" left="403" top="245" width="162" height="21" index="-1"/>
        <Static id="Static25" taborder="41" text="계약기간" cssclass="sta_WF_Label" left="0" top="268" width="100" height="27"/>
        <Static id="Static27" taborder="42" cssclass="sta_WF_Labelbg" left="99" top="268" width="469" height="27"/>
        <Static id="Static28" taborder="43" text="수의계약업체" cssclass="sta_WF_Label" left="0" top="320" width="100" height="27"/>
        <Edit id="edt_prvcntrEntrpsCode" taborder="13" readonly="true" cssclass="edt_WF_Readonly" left="102" top="323" width="88" height="21"/>
        <Button id="btn_bcncPopup" taborder="14" onclick="fn_popup_onclick" cssclass="btn_WF_Search" enable="false" left="169" top="323" width="21" height="21"/>
        <Static id="Static30" taborder="44" text="관련규정" wordwrap="char" cssclass="sta_WF_Label" left="0" top="346" width="100" height="46"/>
        <Static id="Static31" taborder="45" onclick="div_detail_Static21_onclick" cssclass="sta_WF_Labelbg" left="99" top="346" width="469" height="46"/>
        <TextArea id="txt_prvcntrPrvonsh" taborder="16" readonly="true" lengthunit="ascii" maxlength="300" cssclass="txt_WF_Essential" left="102" top="349" height="40" width="463"/>
        <Div id="div_deptCode" taborder="4" url="com::deptCode.xfdl" left="102" top="122" width="197" height="21" enable="false" visible="true" async="false"/>
        <Div id="div_empno" taborder="5" url="com::empno.xfdl" left="403" top="122" width="162" height="21" enable="false" async="false"/>
        <Static id="Static29" taborder="46" text="의뢰명" wordwrap="char" cssclass="sta_WF_Label" left="0" top="145" width="100" height="27"/>
        <Edit id="edt_prvcntrEntrpsNm" taborder="15" readonly="true" cssclass="edt_WF_Readonly" left="192" top="323" width="373" height="21"/>
        <Static id="Static33" taborder="47" onclick="div_detail_Static21_onclick" cssclass="sta_WF_Labelbg" left="99" top="391" width="469" height="46"/>
        <Static id="Static32" taborder="48" text="반려사유" wordwrap="char" cssclass="sta_WF_Label" left="0" top="391" width="100" height="46"/>
        <TextArea id="txt_returnPrvonsh" taborder="17" readonly="true" cssclass="txt_WF_Readonly" left="102" top="394" height="40" width="463" maxlength="200" lengthunit="ascii"/>
        <Combo id="cmb_confmAt" taborder="1" readonly="true" innerdataset="@ds_com052" codecolumn="CODE" datacolumn="CODE_NM" displayrowcount="12" left="102" top="70" width="110" height="21" style="background:lightcyan;font:bold 9 Gulim;" index="-1"/>
        <Calendar id="cal_strwrkDe" taborder="9" dateformat="yyyy-MM-dd" cssclass="cal_WF_Essential" left="102" top="271" width="110" height="21" style="align:center middle;"/>
        <Calendar id="cal_competDe" taborder="10" dateformat="yyyy-MM-dd" cssclass="cal_WF_Essential" left="224" top="271" width="110" height="21" style="align:center middle;"/>
        <Static id="Static43" taborder="49" onclick="div_detail_Static21_onclick" cssclass="sta_WF_Labelbg" left="99" top="171" width="469" height="72"/>
        <Static id="Static44" taborder="50" text="사업내용" wordwrap="char" cssclass="sta_WF_Label" left="0" top="171" width="100" height="72"/>
        <TextArea id="txt_rm" taborder="18" left="102" top="174" height="66" width="463" maxlength="300" lengthunit="ascii"/>
        <Static id="Static45" taborder="51" text="결재(계약의뢰)" onclick="div_detail_Static00_onclick" cssclass="sta_WF_Label" left="214" top="67" width="108" height="27"/>
        <Combo id="cmb_cntrctMthSe" taborder="7" innerdataset="@ds_ctr049" codecolumn="CODE" datacolumn="CODE_NM" displayrowcount="12" cssclass="cmb_WF_Essential" left="102" top="245" width="197" height="21"/>
        <Static id="Static26" taborder="53" text="계약방법" cssclass="sta_WF_Label" left="0" top="242" width="100" height="27"/>
        <Static id="Static13" taborder="54" text="~" left="212" top="271" width="12" height="21" style="align:center middle;"/>
        <Static id="sta_gnfdList03" taborder="55" text="첨부파일" cssclass="sta_WF_Title02" left="0" top="447" width="100" height="19" style="align:left middle;"/>
        <Button id="btn_delFiles" taborder="19" text="선택삭제" onclick="btn_delFiles_onclick" cssclass="btn_WF_Process" top="447" width="67" height="19" left="341"/>
        <Button id="btn_uploadFiles" taborder="20" text="파일업로드" onclick="btn_uploadFiles_onclick" cssclass="btn_WF_Process" top="447" width="68" height="19" left="412"/>
        <Button id="btn_downFiles" taborder="21" text="선택다운로드" onclick="btn_downFiles_onclick" cssclass="btn_WF_Process" top="447" width="85" height="19" left="483"/>
        <Static id="Static14" taborder="56" text="10" visible="false" left="0" top="437" height="10" style="background:#dc143c3c;align:center middle;" width="568"/>
        <Static id="Static22" taborder="57" text="5" visible="false" left="0" top="466" height="5" style="background:#dc143c3c;align:center middle;" width="568"/>
        <Grid id="grd_cmmnAtchmnfl" taborder="22" binddataset="ds_fileList" autoenter="select" useinputpanel="false" cellsizingtype="col" autofittype="col" oncellclick="grd_cmmnAtchmnfl_oncellclick" onheadclick="grd_cmmnAtchmnfl_onheadclick" left="0" top="471" bottom="0" width="568" oncelldblclick="grd_cmmnAtchmnfl_oncelldblclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="40"/>
                <Column size="50"/>
                <Column size="300"/>
                <Column size="60"/>
                <Column size="90"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="40"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="checkbox" edittype="checkbox"/>
                <Cell col="1" text="No"/>
                <Cell col="2" text="형식"/>
                <Cell col="3" celltype="head" text="파일명"/>
                <Cell col="4" text="확장자"/>
                <Cell col="5" text="사이즈"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="checkbox" text="bind:CHK"/>
                <Cell col="1" text="expr:currow+1"/>
                <Cell col="2" displaytype="image" text="bind:FILE_IMAGE" autosizerow="limitmin" autosizecol="limitmin"/>
                <Cell col="3" displaytype="normal" style="align:left middle;" text="bind:ORGINL_FILE_NM"/>
                <Cell col="4" text="bind:FILE_EXTSN"/>
                <Cell col="5" style="align:right middle;padding:0 5 0 0;" text="expr:nexacro.round(FILE_MG / 1024/1024,2) + &quot;MB&quot;"/>
              </Band>
              <Band id="summary">
                <Cell/>
                <Cell col="1" style="padding:0 5 0 0;" text="expr:dataset.getRowCount()"/>
                <Cell col="2" style="align:left middle;" text="건"/>
                <Cell col="3"/>
                <Cell col="4" text="용량"/>
                <Cell col="5" style="align:right middle;" text="expr:nexacro.round(dataset.getSum(&quot;FILE_MG&quot;) / 1024/1024,2) + &quot;MB&quot;"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_title00" taborder="58" text="(상단의 '신규' 버튼을 클릭하여 추가합니다)" left="274" top="43" width="294" height="19" style="color:blue;padding:0 0 0 0;align:right middle;font:bold 9 Gulim;"/>
        <ImageViewer id="img_SANCTN_KND1" taborder="59" left="325" top="71" width="45" height="19" image="URL('theme://images/sanctn/S0.png')" style="background:transparent;border:1 none #bdbdbdff ;" visible="false" onclick="img_SANCTN_KND1_onclick"/>
        <ImageViewer id="img_SANCTN_KND2" taborder="60" image="URL('theme://images/sanctn/S0.png')" visible="false" left="501" top="71" width="45" height="19" style="background:transparent;border:1 none #bdbdbdff ;" onclick="img_SANCTN_KND2_onclick"/>
        <Static id="Static06" taborder="61" text="결재(계약건의)" onclick="div_detail_Static00_onclick" cssclass="sta_WF_Label" left="390" top="67" width="108" height="27"/>
        <Static id="sta_title01" taborder="62" text="(최대 10건, 총 용량 10MB까지 등록바랍니다.)" left="74" top="447" width="264" height="19" style="color:blue;padding:0 0 0 0;align:left middle;font:bold 9 Gulim;"/>
        <Static id="Static10" taborder="64" cssclass="sta_WF_Labelbg" left="99" top="294" width="469" height="27"/>
        <MaskEdit id="msk_reqestAmount" taborder="11" mask="###,###,###,###,###" limitbymask="both" cssclass="msk_WF_Essential" left="102" top="297" width="140" height="21"/>
        <Static id="Static07" taborder="63" text="추정금액" cssclass="sta_WF_Label" left="0" top="294" width="100" height="27"/>
        <Static id="Static11" taborder="65" text="조달수수료" cssclass="sta_WF_Label" left="244" top="294" width="87" height="27"/>
        <MaskEdit id="msk_prcureFee" taborder="12" mask="###,###,###,###,###" limitbymask="both" cssclass="msk_WF_Readonly" left="333" top="297" width="140" height="21" readonly="true"/>
        <Static id="Static15" taborder="66" text="(계약의 전체기간을 의미합니다)" left="340" top="271" width="198" height="21"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item19" compid="msk_reqestAmount" propid="value" datasetid="ds_cntrctReqest" columnid="REQEST_AMOUNT"/>
      <BindItem id="item28" compid="cal_reqestDe" propid="value" datasetid="ds_cntrctReqest" columnid="REQEST_DE"/>
      <BindItem id="item3" compid="cmb_reqestSe" propid="value" datasetid="ds_cntrctReqest" columnid="REQEST_SE"/>
      <BindItem id="item12" compid="edt_reqestNm" propid="value" datasetid="ds_cntrctReqest" columnid="REQEST_NM"/>
      <BindItem id="item9" compid="cmb_copertnOutsrcSe" propid="value" datasetid="ds_cntrctReqest" columnid="COPERTN_OUTSRC_SE"/>
      <BindItem id="item10" compid="edt_prvcntrEntrpsCode" propid="value" datasetid="ds_cntrctReqest" columnid="PRVCNTR_ENTRPS_CODE"/>
      <BindItem id="item25" compid="txt_prvcntrPrvonsh" propid="value" datasetid="ds_cntrctReqest" columnid="PRVCNTR_PRVONSH"/>
      <BindItem id="item13" compid="edt_prvcntrEntrpsNm" propid="value" datasetid="ds_cntrctReqest" columnid="PRVCNTR_ENTRPS_NM"/>
      <BindItem id="item30" compid="txt_returnPrvonsh" propid="value" datasetid="ds_cntrctReqest" columnid="RETURN_PRVONSH"/>
      <BindItem id="item6" compid="cmb_confmAt" propid="value" datasetid="ds_cntrctReqest" columnid="CONFM_AT"/>
      <BindItem id="item5" compid="cal_strwrkDe" propid="value" datasetid="ds_cntrctReqest" columnid="STRWRK_DE"/>
      <BindItem id="item16" compid="cal_competDe" propid="value" datasetid="ds_cntrctReqest" columnid="COMPET_DE"/>
      <BindItem id="item23" compid="txt_rm" propid="value" datasetid="ds_cntrctReqest" columnid="RM"/>
      <BindItem id="item17" compid="div_search.edt_reqestNm" propid="value" datasetid="ds_cond" columnid="REQEST_NM"/>
      <BindItem id="item18" compid="cmb_cntrctMthSe" propid="value" datasetid="ds_cntrctReqest" columnid="CNTRCT_MTH_SE"/>
      <BindItem id="item1" compid="btn_delFiles" propid="enable" datasetid="ds_edcAcmsltList" columnid="ENABLE_AT"/>
      <BindItem id="item29" compid="btn_uploadFiles" propid="enable" datasetid="ds_edcAcmsltList" columnid="ENABLE_AT"/>
      <BindItem id="item7" compid="div_search.msk_REQEST_NO" propid="value" datasetid="ds_cond" columnid="REQEST_NO"/>
      <BindItem id="item0" compid="msk_prcureFee" propid="value" datasetid="ds_cntrctReqest" columnid="PRCURE_FEE"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cond_oncolumnchanged">
        <ColumnInfo>
          <Column id="REQEST_NO" type="STRING" size="10"/>
          <Column id="REQEST_NM" type="STRING" size="256"/>
          <Column id="REQEST_NO2" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_cntrctReqest" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cntrctReqest_oncolumnchanged" onrowposchanged="ds_cntrctReqest_onrowposchanged">
        <ColumnInfo>
          <Column id="REQEST_NO" type="STRING" size="256"/>
          <Column id="ORDER_YEAR" type="STRING" size="256"/>
          <Column id="ORDER_SN" type="BIGDECIMAL" size="6"/>
          <Column id="ORDER_NM" type="STRING" size="400"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="REQEST_SE" type="STRING" size="256"/>
          <Column id="DETAIL_SE" type="STRING" size="256"/>
          <Column id="REQEST_DE" type="STRING" size="256"/>
          <Column id="REQEST_DEPT_CODE" type="STRING" size="256"/>
          <Column id="REQEST_DEPT_NM" type="STRING" size="256"/>
          <Column id="CLIENT_EMPNO" type="STRING" size="256"/>
          <Column id="CLIENT_EMPNM" type="STRING" size="256"/>
          <Column id="REQEST_NM" type="STRING" size="256"/>
          <Column id="REQEST_AMOUNT" type="BIGDECIMAL" size="15"/>
          <Column id="SUPLY_AMOUNT" type="BIGDECIMAL" size="15"/>
          <Column id="VAT_AM" type="BIGDECIMAL" size="15"/>
          <Column id="PRCURE_FEE" type="BIGDECIMAL" size="15"/>
          <Column id="CNTRCT_MTH_SE" type="STRING" size="256"/>
          <Column id="DETAIL_STLE_SE" type="STRING" size="256"/>
          <Column id="COPERTN_OUTSRC_SE" type="STRING" size="256"/>
          <Column id="STRWRK_DE" type="STRING" size="256"/>
          <Column id="COMPET_DE" type="STRING" size="256"/>
          <Column id="PRVCNTR_ENTRPS_CODE" type="STRING" size="256"/>
          <Column id="PRVCNTR_ENTRPS_NM" type="STRING" size="256"/>
          <Column id="PRVCNTR_PRVONSH" type="STRING" size="300"/>
          <Column id="CONFM_AT" type="STRING" size="256"/>
          <Column id="RETURN_PRVONSH" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="300"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="ENABLE_AT" type="STRING" size="256"/>
          <Column id="CNTRCT_AT" type="STRING" size="256"/>
          <Column id="SANCTN_NO1" type="STRING" size="256"/>
          <Column id="SANCTN_KND1" type="STRING" size="256"/>
          <Column id="SANCTN_NO2" type="STRING" size="256"/>
          <Column id="SANCTN_KND2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="colId">REQEST_NM</Col>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="msgId">의뢰명</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="colId">REQEST_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">의뢰구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="colId">REQEST_DEPT_CODE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">의뢰부서</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="colId">CLIENT_EMPNO</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">의뢰자</Col>
          </Row>
          <Row>
            <Col id="colId">CNTRCT_MTH_SE</Col>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="msgId">계약방법</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">COPERTN_OUTSRC_SE</Col>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="msgId">공동도급구분</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">STRWRK_DE</Col>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="msgId">계약시작일</Col>
            <Col id="notNull">Y</Col>
            <Col id="to">COMPET_DE</Col>
          </Row>
          <Row>
            <Col id="colId">COMPET_DE</Col>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="msgId">계약종료일</Col>
            <Col id="notNull">Y</Col>
            <Col id="from">STRWRK_DE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="colId">REQEST_AMOUNT</Col>
            <Col id="msgId">추정금액</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntrctReqest</Col>
            <Col id="colId">PRVCNTR_PRVONSH</Col>
            <Col id="msgId">관련규정</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntrctReqestThng</Col>
            <Col id="colId">DVYFG_MTHD</Col>
            <Col id="msgId">납품방식</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">THNG_IDNTFC_NO</Col>
            <Col id="compId">ds_cntrctReqestThng</Col>
            <Col id="msgId">물품식별번호</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">STNDRD_NM</Col>
            <Col id="compId">ds_cntrctReqestThng</Col>
            <Col id="msgId">규격명</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">QY</Col>
            <Col id="compId">ds_cntrctReqestThng</Col>
            <Col id="msgId">수량</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntrctReqestThng</Col>
            <Col id="colId">UNTPC</Col>
            <Col id="msgId">단가</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">UNIT_SE</Col>
            <Col id="compId">ds_cntrctReqestThng</Col>
            <Col id="msgId">단위구분</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="colId">AMOUNT</Col>
            <Col id="compId">ds_cntrctReqestThng</Col>
            <Col id="msgId">금액</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_orderPlan</Col>
            <Col id="colId">ORDER_PLAN_SN</Col>
            <Col id="msgId">발주계획</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond_fileSn" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="FILE_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="PROGRS" type="BIGDECIMAL" size="16"/>
          <Column id="ORGINL_FILE_NM" type="string" size="32"/>
          <Column id="FILE_EXTSN" type="string" size="32"/>
          <Column id="FILE_STRE_COURS" type="string" size="32"/>
          <Column id="FILE_ID" type="string" size="32"/>
          <Column id="SN" type="bigdecimal" size="16"/>
          <Column id="SYS_SE_CODE" type="string" size="32"/>
          <Column id="FILE_IMAGE" type="string" size="32"/>
          <Column id="FILE_TY" type="string" size="32"/>
          <Column id="JOB_SE" type="string" size="32"/>
          <Column id="DELETE_IMAGE" type="string" size="32"/>
          <Column id="STRE_FILE_NM" type="string" size="32"/>
          <Column id="FILE_MG" type="BIGDECIMAL" size="16"/>
          <Column id="FILE_CN" type="string" size="32"/>
          <Column id="FILE_ORDR" type="bigdecimal" size="16"/>
          <Column id="TRNSMIS_FILE_SIZE" type="string" size="32"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="STTUS" type="string" size="32"/>
          <Column id="FILE_SN" type="bigdecimal" size="16"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ctr022" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ctr023" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ctr049" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ctr033" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_com052" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condSub" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="REQEST_NO" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ctr029" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ctr037" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ETC1" type="string" size="32"/>
          <Column id="VAL2" type="string" size="32"/>
          <Column id="CODE_CN" type="string" size="32"/>
          <Column id="VAL1" type="string" size="32"/>
          <Column id="USE_YN" type="string" size="32"/>
          <Column id="ETC3" type="string" size="32"/>
          <Column id="VAL4" type="string" size="32"/>
          <Column id="ETC2" type="string" size="32"/>
          <Column id="VAL3" type="string" size="32"/>
          <Column id="CODE_ORDR" type="bigdecimal" size="16"/>
          <Column id="MSTK_VAL" type="string" size="32"/>
          <Column id="ALL_CODE_NM" type="string" size="32"/>
          <Column id="CODE_NM" type="string" size="32"/>
          <Column id="INT_VAL" type="string" size="32"/>
          <Column id="GRP_CODE" type="string" size="32"/>
          <Column id="CODE" type="string" size="32"/>
          <Column id="VAL0" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cntrctReqestThng" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cntrctReqestThng_oncolumnchanged">
        <ColumnInfo>
          <Column id="REQEST_NO" type="STRING" size="256"/>
          <Column id="SN" type="STRING" size="256"/>
          <Column id="THNG_CL_NO" type="STRING" size="256"/>
          <Column id="THNG_IDNTFC_NO" type="STRING" size="256"/>
          <Column id="THNG_CL_NM" type="STRING" size="256"/>
          <Column id="STNDRD_NM" type="STRING" size="256"/>
          <Column id="QY" type="STRING" size="256"/>
          <Column id="UNTPC" type="STRING" size="256"/>
          <Column id="UNIT_SE" type="STRING" size="256"/>
          <Column id="AMOUNT" type="BIGDECIMAL" size="15"/>
          <Column id="DVYFG_MTHD" type="STRING" size="256"/>
          <Column id="DVYFG_CO" type="STRING" size="256"/>
          <Column id="DVYFG_PLACE" type="STRING" size="256"/>
          <Column id="DVYFG_TMLMT_DE" type="STRING" size="256"/>
          <Column id="DVYFG_DEMAND_NO" type="STRING" size="256"/>
          <Column id="DVYFG_DEMAND_DE" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tempCntrctReqestThng" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cntrctReqestThng_oncolumnchanged">
        <ColumnInfo>
          <Column id="REQEST_NO" type="STRING" size="256"/>
          <Column id="SN" type="STRING" size="256"/>
          <Column id="THNG_CL_NO" type="STRING" size="256"/>
          <Column id="THNG_IDNTFC_NO" type="STRING" size="256"/>
          <Column id="THNG_CL_NM" type="STRING" size="256"/>
          <Column id="STNDRD_NM" type="STRING" size="256"/>
          <Column id="QY" type="STRING" size="256"/>
          <Column id="UNTPC" type="STRING" size="256"/>
          <Column id="UNIT_SE" type="STRING" size="256"/>
          <Column id="AMOUNT" type="STRING" size="256"/>
          <Column id="DVYFG_MTHD" type="STRING" size="256"/>
          <Column id="DVYFG_CO" type="STRING" size="256"/>
          <Column id="DVYFG_PLACE" type="STRING" size="256"/>
          <Column id="DVYFG_TMLMT_DE" type="STRING" size="256"/>
          <Column id="DVYFG_DEMAND_NO" type="STRING" size="256"/>
          <Column id="DVYFG_DEMAND_DE" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_import" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_orderPlan" useclientlayout="true" keystring="G:ORDER_PLAN_YEAR+ORDER_PLAN_SN+,S:SN+">
        <ColumnInfo>
          <Column id="ORDER_PLAN_YEAR" type="STRING" size="256"/>
          <Column id="ORDER_PLAN_SN" type="STRING" size="256"/>
          <Column id="SN" type="STRING" size="256"/>
          <Column id="ORDER_PLAN_MT" type="STRING" size="256"/>
          <Column id="ORDER_NM" type="STRING" size="256"/>
          <Column id="CNTRCT_SE_CODE" type="STRING" size="256"/>
          <Column id="THTI_ODR_OUTSRC_AM" type="BIGDECIMAL" size="256"/>
          <Column id="BUDGET_YEAR" type="STRING" size="256"/>
          <Column id="BSNS_SE" type="STRING" size="256"/>
          <Column id="BALC_SE" type="STRING" size="256"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="256"/>
          <Column id="BUKIP_CODE" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="BUKIP_NM" type="STRING" size="256"/>
          <Column id="EXECUT_BUDGET_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="REQEST_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_orderPlan_grp" useclientlayout="true" keystring="G:ORDER_PLAN_YEAR+ORDER_PLAN_SN+DEPT_NM+ORDER_NM+ORDER_PLAN_MT+THTI_ODR_OUTSRC_AM+,S:SN+">
        <ColumnInfo>
          <Column id="ORDER_PLAN_YEAR" type="STRING" size="256"/>
          <Column id="ORDER_PLAN_SN" type="STRING" size="256"/>
          <Column id="SN" type="STRING" size="256"/>
          <Column id="ORDER_PLAN_MT" type="STRING" size="256"/>
          <Column id="ORDER_NM" type="STRING" size="256"/>
          <Column id="CNTRCT_SE_CODE" type="STRING" size="256"/>
          <Column id="THTI_ODR_OUTSRC_AM" type="BIGDECIMAL" size="256"/>
          <Column id="BUDGET_YEAR" type="STRING" size="256"/>
          <Column id="BSNS_SE" type="STRING" size="256"/>
          <Column id="BALC_SE" type="STRING" size="256"/>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_CODE" type="STRING" size="256"/>
          <Column id="BUKIP_CODE" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="BSNS_NM" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="BUDGET_ACNT_NM" type="STRING" size="256"/>
          <Column id="BUKIP_NM" type="STRING" size="256"/>
          <Column id="EXECUT_BUDGET_AMT" type="BIGDECIMAL" size="256"/>
          <Column id="DECSN_AMOUNT" type="BIGDECIMAL" size="256"/>
          <Column id="REQEST_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : CTR020100
 * 화면명   : 계약의뢰관리
 * 화면설명 : 계약의뢰를 관리한다. 
 * 작성일   : 2017.07.07
 * 작성자   : 김형태
 * 수정이력 :
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *    
 ***********************************************************************
 */
 

/**********************************************************************
* Script Include
***********************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";
include "lib::comUpDownUtils.xjs";


/**********************************************************************
* 화면 변수 선언부
***********************************************************************/
this.File_UpDownManager = null;
this.chargerAt = false;
this.popupAt = false;

/**********************************************************************
* onInit / onLoad 영역
***********************************************************************/

this.CTR020100_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// ..
}

this.CTR020100_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	
	// Form 초기화
	this.fn_init_form();

	// DataSet 초기화
	this.fn_init_dataset();
}


/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
 
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	this.gfn_initForm(this);
	this.fn_misFormInit(this);	
	
	// 데이터셋 동적 바인딩	
	this.div_deptCode.fn_setBind("ds_cntrctReqest","REQEST_DEPT_CODE","REQEST_DEPT_NM");
	this.div_empno.fn_setBind("ds_cntrctReqest", "CLIENT_EMPNO", "CLIENT_EMPNM");
	
	this.div_empno.div_sear.edt_emplnm.set_readonly(true);
	this.div_empno.div_sear.edt_empno.set_readonly(true);
	this.div_empno.div_sear.edt_emplnm.set_cssclass("edt_WF_Readonly");
	this.div_empno.div_sear.edt_empno.set_cssclass("edt_WF_Readonly");
	
	this.div_deptCode.div_Search.edt_deptCode.set_readonly(true);
	this.div_deptCode.div_Search.edt_deptNm.set_readonly(true);
	this.div_deptCode.div_Search.edt_deptCode.set_cssclass("edt_WF_Essential");
	this.div_deptCode.div_Search.edt_deptNm.set_cssclass("edt_WF_Essential");
	
	// 공통코드
	var comboParams = [
	    ["ds_ctr022", "CTR022", "Y", "D", "B"]	// ds_ctr022 : 의뢰구분(계약구분)
	   ,["ds_ctr023", "CTR023", "Y", "D", "B"]	// ds_ctr023 : 상세구분(계약종류)
	   ,["ds_ctr049", "CTR049", "Y", "D", "B"]	// ds_ctr049 : 계약방법
	   ,["ds_ctr029", "CTR029", "Y", "D", "B"]	// ds_ctr029 : 구매계약단위
	   ,["ds_ctr033", "CTR033", "Y", "D", "B"]	// ds_ctr033 : 공동도급구분(이행방식)
	   ,["ds_ctr037", "CTR037", "Y", "D", "B"]	// ds_ctr033 : 납품방식
	   ,["ds_com052", "COM052", "Y", "D", "B"]	// ds_com052 : 승인여부
	];
	var callback = function (svcId, errorCode, errorMsg) {
		// 계약담당자
		if(this.gfn_authGrpId("CTR_ADMIN") != -1) {
			this.chargerAt = true;
		}
	};
	this.gfn_comboLoad(comboParams, callback);
}

/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	var fileConfig = {
		useMultiUpload : true,
		onChange: this.fn_onFileSelected,	// 파일 선택 이벤트 핸들러
		onSuccess : this.fn_onFileSuccess	// 전송 성공 이벤트 핸들러
	};
	this.File_UpDownManager = new this.fileUpDownManager(this, "MIS", "CTR");
	this.File_UpDownManager.init(fileConfig);
}


/**********************************************************************
* Transaction 영역 시작
***********************************************************************
*
* 1. Transaction 관련 이벤트 핸들러
* 2. call Transaction 영역
* 3. callback 영역(Transaction, Popup)
*
***********************************************************************/



/**********************************************************************
* Transaction 관련 이벤트 핸들러
***********************************************************************/

/*
 * 함수명  	: fn_search
 * 설명 		: 조회(계약의뢰)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
	// clear Datasets
	this.ds_cntrctReqest.clearData();
	this.ds_fileList.clearData();
	this.ds_orderPlan.clearData();
	
	// transaction
	this.fn_transaction("cntRequest");
}

/*
 * 함수명  	: fn_searchSub
 * 설명 		: 조회(첨부파일, 예산배정내역, 계약업무처리과정조회, 물품등록)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_searchSub();
 */
this.fn_searchSub = function()
{
	// clear Datasets
	this.ds_fileList.clearData();
	this.ds_orderPlan.clearData();
	
	// transaction
	this.fn_transaction("cntRequestSub");
}

/*
 * 함수명  	: fn_save
 * 설명 		: 저장(계약의뢰)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{
	// update check
	if (   !this.comUtils.isDatasetUpdated(this.ds_cntrctReqest)			// 계약의뢰정보
	    && !this.comUtils.isDatasetUpdated(this.ds_orderPlan)				// 발주계획
	    && !this.comUtils.isDatasetUpdated(this.ds_cntrctReqestThng)		// 물품상세
	    ) {
		this.gfn_message("comm.데이터.변경.없음");
		return false;
	}
	
	// validation check(계약의뢰)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_cntrctReqest, this.ds_validation)) {
		return false;
	}
	// validation check(발주계획)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_orderPlan, this.ds_validation)) {
		return false;
	}
	// validation check(물품상세)
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_cntrctReqestThng, this.ds_validation)) {
		return false;
	}
	
	
	// 발주계획 존재여부
// 	var orderPlanCnt = this.ds_orderPlan.rowcount;
// 	if(orderPlanCnt < 1){
// 		this.gfn_message("info.처리불가","발주계획을 등록하여 주십시오.");
// 		return false;
// 	}
	
	// save
	if(this.gfn_message("confirm.저장.여부"))	{
		this.fn_transaction("cntRequestCUD");
	}
}




/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
 
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "cntRequest":			// 계약의뢰 조회
			var sController   	= "hsco/mis/ctr/CTR020100/cntRequest.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_cntrctReqest=output1";
			break;			
		case "cntRequestCUD": 		// 계약의뢰 저장
			var sController   	= "hsco/mis/ctr/CTR020100/cntRequestCUD.do";
			var sInDatasets   	= "input0=ds_cond:A input1=ds_cntrctReqest:U input2=ds_orderPlan:U input3=ds_cntrctReqestThng:U";
			var sOutDatasets  	= "ds_cond=output1";
			break;
		case "cntRequestSub":		// 서브조회(첨부파일, 예산배정내역, 물품등록)
			var sController   	= "/hsco/mis/ctr/CTR020100/cntRequestSub.do";
			var sInDatasets   	= "input1=ds_condSub";
			var sOutDatasets  	= "ds_fileList=output1 ds_orderPlan=output2 ds_cntrctReqestThng=output3";
			break;
		case "selectFileList":      // 첨부파일 조회
			var sController   	= "hsco/mis/ctr/CTR020100/selectFileList.do";
			var sInDatasets   	= "input1=ds_condSub";
			var sOutDatasets  	= "ds_fileList=output1";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}


/**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/

 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	if(nErrorCode != '0') {
		this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	}
	
	if (nErrorCode == '0') {
		switch(strSvcId) {
			case "cntRequest":		// 계약의뢰 조회
				var nRow = this.ds_cntrctReqest.rowposition;
				
				// 결재상태
				var sanctnKnd1 = this.ds_cntrctReqest.getColumn(nRow, "SANCTN_KND1");
				var sanctnUrl1 = this.gfn_getSanctnImgUrl(sanctnKnd1);
				this.img_SANCTN_KND1.set_visible(true);
				this.img_SANCTN_KND1.set_image(sanctnUrl1);
				
				var sanctnKnd2 = this.ds_cntrctReqest.getColumn(nRow, "SANCTN_KND2");
				var sanctnUrl2 = this.gfn_getSanctnImgUrl(sanctnKnd2);
				this.img_SANCTN_KND2.set_visible(true);
				this.img_SANCTN_KND2.set_image(sanctnUrl2);
				
				// 수정여부
				var enableAt = this.ds_cntrctReqest.getColumn(nRow, "ENABLE_AT");
				if(enableAt == '1') {
					if(this.popupAt) {
						this.cmb_confmAt.set_cssclass("");				// 승인여부
						this.cmb_confmAt.set_readonly(false);
					} else {
						this.edt_reqestNm.set_cssclass("edt_WF_Essential");				// 의뢰명
						this.edt_reqestNm.set_readonly(false);
						this.cmb_cntrctMthSe.set_cssclass("cmb_WF_Essential");			// 계약방법
						this.cmb_cntrctMthSe.set_readonly(false);
						this.cmb_copertnOutsrcSe.set_cssclass("cmb_WF_Essential");		// 공동도급구분
						this.cmb_copertnOutsrcSe.set_readonly(false);
						this.cal_strwrkDe.set_cssclass("cal_WF_Essential");				// 계약시작일
						this.cal_strwrkDe.set_readonly(false);
						this.cal_competDe.set_cssclass("cal_WF_Essential");				// 계약종료일
						this.cal_competDe.set_readonly(false);
						this.msk_reqestAmount.set_cssclass("msk_WF_Essential");			// 추정금액
						this.msk_reqestAmount.set_readonly(false);
						this.txt_prvcntrPrvonsh.set_cssclass("txt_WF_Essential");		// 관련규정
						this.txt_prvcntrPrvonsh.set_readonly(false);
						
						this.cmb_reqestSe.set_cssclass("cmb_WF_Essential");				// 의뢰구분
						this.cmb_reqestSe.set_readonly(false);
						
						this.txt_rm.set_cssclass("");					// 사업내용
						this.txt_rm.set_readonly(false);
						
						this.div_deptCode.set_enable(true);								// 부서
						this.div_empno.set_enable(true);								// 담당자
					}
					
					// 의뢰구분 : 물품
					var reqestSe = this.ds_cntrctReqest.getColumn(nRow, "REQEST_SE");
					if(reqestSe == '3') {
						this.tab_cntrct.tabpage2.set_enable(true);
					} else {
						this.tab_cntrct.tabpage2.set_enable(false);
					}
					
					// 승인구분 : 반려
					var confmAt = this.ds_cntrctReqest.getColumn(nRow, "CONFM_AT");
					if(confmAt == '2') {
						this.txt_returnPrvonsh.set_cssclass("");
						this.txt_returnPrvonsh.set_readonly(false);
					} else {
						this.txt_returnPrvonsh.set_cssclass("txt_WF_Readonly");
						this.txt_returnPrvonsh.set_readonly(true);
					}
					
					// 계약방법 : 수의계약
					var cntrctMthSe = this.ds_cntrctReqest.getColumn(nRow, "CNTRCT_MTH_SE");
					if(cntrctMthSe == '04') {
						this.btn_bcncPopup.set_enable(true);
					} else {
						this.btn_bcncPopup.set_enable(false);
					}
				} else {
					if(this.popupAt) {
						this.cmb_confmAt.set_cssclass("");				// 승인여부
						this.cmb_confmAt.set_readonly(false);
					} else {
						this.edt_reqestNm.set_cssclass("edt_WF_Readonly");				// 의뢰명
						this.edt_reqestNm.set_readonly(true);
						this.cmb_cntrctMthSe.set_cssclass("cmb_WF_Readonly");			// 계약방법
						this.cmb_cntrctMthSe.set_readonly(true);
						this.cmb_copertnOutsrcSe.set_cssclass("cmb_WF_Readonly");		// 공동도급구분
						this.cmb_copertnOutsrcSe.set_readonly(true);
						this.cal_strwrkDe.set_cssclass("cal_WF_Readonly");				// 계약시작일
						this.cal_strwrkDe.set_readonly(true);
						this.cal_competDe.set_cssclass("cal_WF_Readonly");				// 계약종료일
						this.cal_competDe.set_readonly(true);
						this.msk_reqestAmount.set_cssclass("msk_WF_Readonly");			// 추정금액
						this.msk_reqestAmount.set_readonly(true);
						this.txt_returnPrvonsh.set_cssclass("txt_WF_Readonly");			// 반려사유
						this.txt_returnPrvonsh.set_readonly(true);
						
						this.cmb_reqestSe.set_cssclass("cmb_WF_Readonly");				// 의뢰구분
						this.cmb_reqestSe.set_readonly(true);
						
						this.txt_rm.set_cssclass("txt_WF_Readonly");					// 사업내용
						this.txt_rm.set_readonly(true);
						
						this.div_deptCode.set_enable(false);							// 부서
						this.div_empno.set_enable(false);								// 담당자
						
						this.txt_prvcntrPrvonsh.set_cssclass("txt_WF_Readonly");		// 관련규정
						this.txt_prvcntrPrvonsh.set_readonly(true);
					}
				}
				break;
			case "cntRequestCUD":	// 계약의뢰 저장
				this.gfn_message("success.처리.성공");
				this.fn_search();
				break;
			case "cntRequestSub":	// 서브조회(첨부파일, 예산배정내역, 물품등록)
				this.ds_fileList.filter("USE_AT == '1'");
				this.ds_orderPlan_grp.copyData(this.ds_orderPlan);
				break;
			case "selectFileList":	// 첨부파일 조회
				this.ds_fileList.filter("USE_AT == '1'");
				break;
		}
	}
}


/*
 * 함수명  	: fn_popupCallBack
 * 설명 		: 팝업 콜백
 * params  		: None
 * return Type 	: None
 * 사용법		: n/a
 */
this.fn_popupCallBack = function(strID, variant)
{
	var dsTemp = new Dataset();
	var loadCnt = dsTemp.loadXML(variant);
	
	// 값이 존재하지 않을 경우에는 아무런 값을 덮어쓰지 않음
	if(!loadCnt) {
		return false;
	}
	
	var nRow = this.ds_cntrctReqest.rowposition;
	switch(strID) {
		// 계약의뢰선택(검색조건)
		case "btn_cntrctReqestPopup":
			this.ds_cond.setColumn(0, "REQEST_NO" , dsTemp.getColumn(0, "REQEST_NO"));
			this.ds_cond.setColumn(0, "REQEST_NO2", dsTemp.getColumn(0, "REQEST_NO").substr(0, 4) + "-" + dsTemp.getColumn(0, "REQEST_NO").substr(4, 1) + "-" + dsTemp.getColumn(0, "REQEST_NO").substr(5));
			this.ds_cond.setColumn(0, "REQEST_NM" , dsTemp.getColumn(0, "REQEST_NM"));
			break;
		// 거래처(업체)조회 팝업 콜백
		case "btn_bcncPopup":
			this.ds_cntrctReqest.setColumn(nRow, "PRVCNTR_ENTRPS_CODE", dsTemp.getColumn(0, "BCNC_CODE"));
			this.ds_cntrctReqest.setColumn(nRow, "PRVCNTR_ENTRPS_NM"  , dsTemp.getColumn(0, "BCNC_NM"));
			break;
		// 사업명조회
		case "btn_bsnsPopup":
			this.ds_cntrctReqest.setColumn(nRow, "BSNS_NM",   dsTemp.getColumn(0, "BSNS_NM"));
			this.ds_cntrctReqest.setColumn(nRow, "BSNS_CODE", dsTemp.getColumn(0, "BSNS_CODE"));
			break;
	}
}



/***********************************************************************
* Transaction 영역 끝
************************************************************************/



/**********************************************************************
* non-Transaction 관련 컴포넌트 이벤트 처리 함수
***********************************************************************
*
* 1. 공통함수 처리
* 2. Dataset 관련 이벤트 처리
* 3. Button 관련 이벤트 처리
* 4. Grid 관련 이벤트 처리
* 5. 사용자 정의 함수 처리
* 6. 첨부파일 관련 이벤트 처리
* 
***********************************************************************/



/**********************************************************************
* 공통함수 처리
***********************************************************************/

/*
 * 함수명  	: fn_insert
 * 설명 		: 신규 버튼
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function()
{
	if(Ex.util.isUpdated(this.ds_cntrctReqest)) {	// 탭에서 변경된게 있는지 확인해야함
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
	}
	
	this.ds_orderPlan.clearData();
	this.ds_cntrctReqest.clearData();
	this.ds_fileList.clearData();

	var nRow = this.ds_cntrctReqest.addRow();
	var cntrctMthSe     = '04'		// 수의계약
	var copertnOutsrcSe = '4'		// 단독도급
	
	this.ds_cntrctReqest.set_enableevent(false);
	
	this.edt_reqestNm.set_cssclass("edt_WF_Essential");				// 의뢰명
	this.edt_reqestNm.set_readonly(false);
	this.cmb_cntrctMthSe.set_cssclass("cmb_WF_Essential");			// 계약방법
	this.cmb_cntrctMthSe.set_readonly(false);
	this.cmb_copertnOutsrcSe.set_cssclass("cmb_WF_Essential");		// 공동도급구분
	this.cmb_copertnOutsrcSe.set_readonly(false);
	this.cal_strwrkDe.set_cssclass("cal_WF_Essential");				// 계약시작일
	this.cal_strwrkDe.set_readonly(false);
	this.cal_competDe.set_cssclass("cal_WF_Essential");				// 계약종료일
	this.cal_competDe.set_readonly(false);
	this.msk_reqestAmount.set_cssclass("msk_WF_Essential");			// 추정금액
	this.msk_reqestAmount.set_readonly(false);
	this.txt_prvcntrPrvonsh.set_cssclass("txt_WF_Essential");		// 관련규정
	this.txt_prvcntrPrvonsh.set_readonly(false);

	this.cmb_reqestSe.set_cssclass("cmb_WF_Essential");				// 의뢰구분
	this.cmb_reqestSe.set_readonly(false);
	
	this.txt_rm.set_cssclass("");					// 사업내용
	this.txt_rm.set_readonly(false);
	
	this.div_deptCode.set_enable(true);								// 부서
	this.div_empno.set_enable(true);								// 담당자
	
	this.ds_cntrctReqest.setColumn(nRow, "REQEST_DE"        , this.dateUtils.today());	// 의뢰일
	this.ds_cntrctReqest.setColumn(nRow, "REQEST_DEPT_CODE" , this.gfn_getDeptId());	// 부서코드
	this.ds_cntrctReqest.setColumn(nRow, "REQEST_DEPT_NM"   , this.gfn_getDeptName());	// 부서명
	this.ds_cntrctReqest.setColumn(nRow, "CLIENT_EMPNO"     , this.gfn_getEmpNo());		// 사원코드
	this.ds_cntrctReqest.setColumn(nRow, "CLIENT_EMPNM"     , this.gfn_getUserName());	// 사원명
	this.ds_cntrctReqest.setColumn(nRow, "CONFM_AT"         , "0");						// 승인여부
	this.ds_cntrctReqest.set_enableevent(true);
	
	this.ds_cntrctReqest.setColumn(nRow, "CNTRCT_MTH_SE"    , cntrctMthSe);				// 계약방법
	
	this.ds_cntrctReqest.set_enableevent(false);
	this.ds_cntrctReqest.setColumn(nRow, "COPERTN_OUTSRC_SE", copertnOutsrcSe);			// 공동도급구분
	this.ds_cntrctReqest.setColumn(nRow, "ENABLE_AT"        , '1');						// 수정여부
	this.ds_cntrctReqest.setColumn(nRow, "CNTRCT_AT"        , '0');						// 계약여부
	this.ds_cntrctReqest.set_enableevent(true);
}


/*
 * 함수명  	: fn_delete
 * 설명 		: 삭제 버튼
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete= function()
{	
	var confmAt = this.ds_cntrctReqest.getColumn(0, "CONFM_AT");
	if(confmAt == '1') {
		this.gfn_message("info.처리불가", "미승인 건만 삭제할 수 있습니다.");
		return false;
	}
	
	if(this.gfn_message("confirm.삭제여부")) {
		this.ds_cntrctReqest.deleteRow(this.ds_cntrctReqest.rowposition);
		this.ds_orderPlan.deleteAll();
		this.ds_cntrctReqestThng.deleteAll();
		
		this.ds_cond.setColumn(0, "REQEST_NO" , "");
		this.ds_cond.setColumn(0, "REQEST_NO2", "");
		this.ds_cond.setColumn(0, "REQEST_NM" , "");
	}
}


/*
 * 함수명  	: fn_cancel
 * 설명 		: 취소 버튼 이벤트 처리(Dataset 변경 내역 Reset)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_cancel();
 */
this.fn_cancel= function()
{
	if(   Ex.util.isUpdated(this.ds_cntrctReqest)			// 계약의뢰정보
	   || Ex.util.isUpdated(this.ds_orderPlan)		// 예산배정내역
	   || Ex.util.isUpdated(this.ds_cntrctReqestThng)		// 물품상세
	  ) {	// 탭에서 변경된게 있는지 확인해야함
		if(!this.gfn_message("confirm.변경.취소.여부")) {
			return false;	// 아니오
		}
		
		this.ds_cntrctReqest.reset();
		this.ds_orderPlan.reset();
		this.ds_cntrctReqestThng.reset();
		
		this.ds_cntrctReqest.applyChange();
		this.ds_orderPlan.applyChange();
		this.ds_cntrctReqestThng.applyChange();
	}
}



/***********************************************************************
* Dataset 관련 이벤트 처리
************************************************************************/

/*
 * 함수명  	: ds_cntrctReqest_oncolumnchanged
 * 설명 		: Dataset 데이터 변경 후 이벤트 처리(계약의뢰 dataset)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cntrctReqest_oncolumnchanged(obj,e);
 */
this.ds_cntrctReqest_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	switch(e.columnid) {
		case "CONFM_AT":		// 승인여부
			if(e.newvalue == '2') {	// 반려일 경우 반려사유 입력가능
				this.txt_returnPrvonsh.set_cssclass("");
				this.txt_returnPrvonsh.set_readonly(false);
			} else {
				this.txt_returnPrvonsh.set_cssclass("txt_WF_Readonly");
				this.txt_returnPrvonsh.set_readonly(true);
				
				this.ds_cntrctReqest.setColumn(e.row, "RETURN_PRVONSH",     "");		// 반려사유
			}
			break;
		case "CNTRCT_MTH_SE":	// 계약방법
			if(e.newvalue == '04') {	// 수의계약
				this.btn_bcncPopup.set_enable(true);
				
			} else {
				this.btn_bcncPopup.set_enable(false);
				
				
				this.ds_cntrctReqest.setColumn(e.row, "PRVCNTR_ENTRPS_CODE", "");	// 수의계약업체(코드)
				this.ds_cntrctReqest.setColumn(e.row, "PRVCNTR_ENTRPS_NM"  , "");	// 수의계약업체(명)
			}
			
			if(e.newvalue == '06') {	// 조달계약
				this.msk_prcureFee.set_cssclass("");
				this.msk_prcureFee.set_readonly(false);
			} else {
				this.ds_cntrctReqest.setColumn(e.row, "PRCURE_FEE", "");	// 조달수수료
				
				this.msk_prcureFee.set_cssclass("msk_WF_Readonly");
				this.msk_prcureFee.set_readonly(true);
			}
			break;
	}
}



/*
 * 함수명  	: ds_cntrctReqest_oncolumnchanged
 * 설명 		: Dataset 데이터 변경 후 이벤트 처리(물품상세 dataset)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cntrctReqest_oncolumnchanged(obj,e);
 */
this.ds_cntrctReqestThng_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "QY" || e.columnid == "UNTPC") {
		var qy     = obj.getColumn(e.row, "QY");
		var untpc  = obj.getColumn(e.row, "UNTPC");
		
		qy    = !this.comUtils.isNull(qy)    ? qy    : 0;
		untpc = !this.comUtils.isNull(untpc) ? untpc : 0;
		
		var amount = nexacro.round(qy * untpc);
		obj.setColumn(e.row, "AMOUNT", amount);
	}
}


/*
 * 함수명  	: ds_cond_oncolumnchanged
 * 설명 		: Dataset 데이터 변경 후 이벤트 처리(의뢰번호(검색조건))
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cond_oncolumnchanged(obj,e);
 */
this.ds_cond_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(!this.comUtils.isNull(e.newvalue)) {
		this.fn_search();
	}
}



/**********************************************************************
* Button 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명  	: fn_popup_onclick
 * 설명 		: '팝업' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_popup_onclick(obj,e);
 */
this.fn_popup_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	switch(obj.name) {
		// 계약의뢰선택(검색조건)
		case "btn_cntrctReqestPopup":
			this.gfn_popup("btn_cntrctReqestPopup", 1024, 500, "", null, "mis_ctr::CTR020100_P02.xfdl", "fn_popupCallBack", true);
			break;
		// 거래처(수의계약업체)조회 팝업
		case "btn_bcncPopup":
			this.gfn_popup("btn_bcncPopup", 600, 500, "거래처 선택", null, "mis_ctr::CTR010101_P02.xfdl", "fn_popupCallBack", true);
			break;
		// 사업명조회
		case "btn_bsnsPopup":
			this.gfn_popup("btn_bsnsPopup", 500, 465, "", null, "mis_acc::ACC000000_P04.xfdl", "fn_popupCallBack", true);
			break;
	}
}



/**********************************************************************
* Grid 관련 이벤트 처리
***********************************************************************/




/**********************************************************************
* 사용자 정의 함수 처리
***********************************************************************/



/*
 * 함수명  	: ds_cntrctReqest_onrowposchanged
 * 설명 		: Dataset 행 변경 후 이벤트 처리(계약의뢰 dataset)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_cntrctReqest_onrowposchanged(obj,e);
 */
this.ds_cntrctReqest_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(e.newrow < 0) {
		this.ds_fileList.clearData();
	}
	else {
		if(this.ds_cntrctReqest.getRowType(e.newrow) == Dataset.ROWTYPE_INSERT) {
			this.ds_condSub.clearData();
		} else {
			this.ds_condSub.clearData();
			var nRow = this.ds_condSub.addRow();
			var fileSn   = obj.getColumn(e.newrow, "FILE_SN");
			var reqestNo = obj.getColumn(e.newrow, "REQEST_NO");
			
			this.ds_condSub.setColumn(nRow, "FILE_SN", fileSn);
			this.ds_condSub.setColumn(nRow, "REQEST_NO", reqestNo);
			
			this.fn_searchSub();
		}
	}
}




/***********************************************************************
 * 첨부파일버튼 관련 이벤트 처리
 ***********************************************************************/

/*
 * 함수명  	: btn_delFiles_onclick
 * 설명 		: '선택삭제' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_delFiles_onclick(obj,e);
 */
this.btn_delFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var findRow  = this.ds_fileList.findRow("CHK", "1");
	var confmAt  = this.ds_cntrctReqest.getColumn(this.ds_cntrctReqest.rowposition, "CONFM_AT");
	var cntrctAt = this.ds_cntrctReqest.getColumn(this.ds_cntrctReqest.rowposition, "CNTRCT_AT");
	var enableAt = this.ds_cntrctReqest.getColumn(this.ds_cntrctReqest.rowposition, "ENABLE_AT");
	
	if(enableAt != "1"){
		this.gfn_message("fail.수정.불가", "승인˙반려된 건은");
		return;
	}
	
	if(findRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
			return;
	}
	
	if(!this.gfn_message("confirm.선택파일.삭제여부", "들")){
		return false;
	}
	
	for(var fRow = this.ds_fileList.getRowCount()-1; fRow >= 0; fRow--) {
		var chkVal = this.ds_fileList.getColumn(fRow, "CHK");
		if(chkVal == '1') {
			this.ds_fileList.deleteRow(fRow);
		}
	}
	
	var strSvcId   	 = "deleteFile";
	var sController  = "hsco/cmm/file/deleteFile.do";
	var sInDatasets  = "input1=ds_fileList:U";
	var sOutDatasets = "ds_fileList=output1";
	
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}



/*
 * 함수명  	: btn_uploadFiles_onclick
 * 설명 		: '파일업로드' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_uploadFiles_onclick(obj,e);
 */
this.btn_uploadFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(this.ds_fileList.getRowCount() >= 10) {
		var errMsg = "첨부파일은 최대 10건까지만 등록 가능합니다";
		alert(errMsg);
		return false;
	}
	
	var nRow     = this.ds_cntrctReqest.rowposition;	
	var nRowType = this.ds_cntrctReqest.getRowType(nRow);
	var confmAt  = this.ds_cntrctReqest.getColumn(nRow, "CONFM_AT");
	var cntrctAt = this.ds_cntrctReqest.getColumn(nRow, "CNTRCT_AT");
	var enableAt = this.ds_cntrctReqest.getColumn(nRow, "ENABLE_AT");
	
	if(nRow < 0){
		this.gfn_message("comm.항목.선택.요청","대상 정보");
		return;
	}
	
	if(nRowType == 2){
		this.gfn_message("info.진행가능","신규 정보를 저장");
		return;
	}
	
	if(enableAt != "1"){
		this.gfn_message("fail.수정.불가", "승인˙반려된 건은 ");
		return;
	}
	
	// 첨부파일 업로드(fileSn 자동채번 / 첨부파일 Master에 ROW추가 / 파일 업로드 및 자동저장 / 테이블에 fileSn반영 / 데이터셋에 fileSn반영, 단 신규 ROW가 아닐경우 ROWTYPE은 유지)
	this.mCallback = function() {
		this.fn_autoFileSn(
			 "MIS"									// 대분류   (SYS_SE)
			,"CTR"									// 업무구분 (JOB_SE)
			, this.File_UpDownManager				// fileManager 오브젝트
			, this.ds_fileList						// fileObject
			, this.ds_cntrctReqest					// fileSn을 불러오거나 반영해야 하는 컬럼
			, "TBCTR_CNTRCT_REQEST"					// fileSn을 저장할 테이블
			, "FILE_SN"								// fileSn 컬럼명이 다를 경우를 대비
			, ["REQEST_NO"]							// fileSn을 저장할 테이블의 PK (FileSn 확인 및 자동반영목적)
		);
	}
	
	this.mCallback();
}



/*
 * 함수명  	: btn_downFiles_onclick
 * 설명 		: '선택다운로드' 버튼 클릭 후 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_downFiles_onclick(obj,e);
 */
this.btn_downFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var findRow = this.ds_fileList.findRow("CHK", "1");
	if(findRow < 0) {
		this.gfn_message("comm.데이터.선택.없음");
			return;
	}
	
	for(var fRow = 0; fRow < this.ds_fileList.getRowCount(); fRow++) {
		var fileSn    = this.ds_fileList.getColumn(fRow, "FILE_SN");
		var fileOrder = this.ds_fileList.getColumn(fRow, "FILE_ORDR");
		var fileName  = this.ds_fileList.getColumn(fRow, "ORGINL_FILE_NM");
		var chk       = this.ds_fileList.getColumn(fRow, "CHK");
		if(chk == '1') {
			this.File_UpDownManager.download(fileSn, fileOrder, fileName);
		}
	}
}


 /*
 * 함수명  	: fn_onFileSuccess
 * 설명 		: 파일 업로드 성공시 이벤트
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_onFileSuccess();
 */
this.fn_onFileSuccess = function(){
	this.gfn_message("success.처리.성공");
	
	var nRow = this.ds_cntrctReqest.rowposition;
	this.ds_condSub.setColumn(0, "FILE_SN", this.ds_cntrctReqest.getColumn(nRow, "FILE_SN"));
	
	this.fn_transaction("selectFileList");
}

 /*
 * 함수명  	: fn_onFileError
 * 설명 		: 파일 업로드 실패시 이벤트
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_onFileError();
 */
this.fn_onFileError = function(){
	
	//this.gfn_message("info.저장.초과", "이미지 파일만");	
}

/*
 * 함수명  	: file_upload_popup
 * 설명 		: 첨부파일 그리드 전체파일선택 ON/OFF 이벤트
 * params  		: None
 * return Type 	: None
 * 사용법		: this.file_upload_popup(obj,e);
 */
this.grd_cmmnAtchmnfl_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 0) {
		this.gfn_setGridCheckAll(obj, e);
	}
}

/*
 * 함수명  	: file_upload_popup
 * 설명 		: 첨부파일 그리드 Body의 체크 버튼이 눌러졌을 때, Head 부분의 체크 버튼을 꺼 줌.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.file_upload_popup(obj,e);
 */
this.grd_cmmnAtchmnfl_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.cell == 0) {
		obj.setCellProperty("Head", e.cell, "text", "0");
	}
}


/*
 * 함수명  	: fn_importExcel
 * 설명 		: Excel Import 작업
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_importExcel(obj,e);
 */
this.fn_excelUpload = function()
{
	var arg = {
		targetDs : this.ds_import,
		callBack : this.excelImport_callBack
	};	
	this.fn_importExcel(arg);
}



/*
 * 함수명  	: fn_importExcel
 * 설명 		: Excel Import 작업
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_importExcel(obj,e);
 */
this.fn_importExcel = function(arg)
{
	var importObj, objNm = "_common_excel_import";
	
	importObj = new nexacro.ExcelImportObject(objNm, this);
	this[objNm] = importObj;
	importObj.set_importtype(nexacro.ImportTypes.EXCEL);
	importObj.set_importtype(nexacro.ImportTypes.EXCEL);
	importObj.addEventHandler("onsuccess", this._gfn_excelImport_onsuccess, this);
	importObj.addEventHandler("onerror", this._gfn_excelImport_onerror, this);
	importObj.set_importurl(application.services["svcurl"].url + "XImport.do");
	
	importObj.user_callBack = null;
	
	var objTargetDs = null;

    if(arg.targetDs) {
		objTargetDs = arg.targetDs.name;
    }

    if (typeof arg.callBack == "function") {
		importObj.user_callBack = arg.callBack;
    }
	
    importObj.importData("", "[command=getsheetdata;output=outDs;]", "["+objTargetDs+"=outDs]","");
}


//엑셀파일 업로드 콜백
this.excelImport_callBack = function(){
	if(this.ds_import.rowcount > 0) {
		var uploadMode = 0;
		
		if(this.ds_import.findRow("Column0", "납품요구번호:") > -1) {			// 2번째 열부터 데이터를 끌어와서 계산
			uploadMode = '1';
		} else if(this.ds_import.findRow("Column1", "납품요구번호:") > -1) {	// 1번째 열부터 데이터를 끌어와서 계산
			uploadMode = '2';
		}
		
		if(uploadMode == '1') {
			var strDvyfgDemandNo = this.ds_import.getColumn(this.ds_import.findRow("Column0", "납품요구번호:"), "Column6");	// 납품요구번호(문자)
			var dvyfgDemandDe    = this.ds_import.getColumn(this.ds_import.findRow("Column0", "납품요구번호:"), "Column21");	// 납품요구일자
			
			// 물품정보를 가져오기 위해 시작행 및 종료행 설정
			var stRow    = this.ds_import.findRow("Column19", "납품장소");	// 납품장소가 존재하는 행
			var edRow    = -1;
			var stGrdRow = -1;		// 물품정보가 시작되는 행
			
			// 종료행 선택의 기본조건(순번 행이 더이상 존재하지 않는 행을 찾아야 함)
			for(var snRow = 0; snRow < this.ds_import.rowcount; snRow++) {
				// 물품정보 시작 위치
				if(this.ds_import.getColumn(snRow, "Column0") == "1") {
					stGrdRow = snRow;
				}
				// 물품정보 시작 위치 잡히면 처리
				if(stGrdRow > 0) {
					if(this.ds_import.getColumn(snRow, "Column15") == "수 량 합 계 :") {
						edRow = snRow;
						break;
					}
				}
			}
			
			if(edRow < 0) {
				edRow = this.ds_import.rowcount - 1;
			}
			
			var dvyfgDemandNo = strDvyfgDemandNo.replace(/-/g, "");	// 납품요구번호에서 숫자만 남김
			
			// 임시 dataset에 설정
			this.ds_tempCntrctReqestThng.clearData();
			
			for(var cRow = stRow + 1; cRow < edRow; cRow += 2) {
				var nRow = this.ds_tempCntrctReqestThng.addRow();
				var pRow = this.ds_cntrctReqest.rowposition;
				var strUnitSe = this.ds_import.getColumn(cRow, "Column14");	// 단위
				var fRow      = this.ds_ctr029.findRow("CODE_NM", strUnitSe);
				var unitSe    = this.ds_ctr029.getColumn(fRow, "CODE");		// 단위구분
				
				this.ds_tempCntrctReqestThng.setColumn(nRow, "REQEST_NO"      , this.ds_cntrctReqest.getColumn(pRow, "REQEST_NO"));	// 의뢰번호
				this.ds_tempCntrctReqestThng.setColumn(nRow, "THNG_CL_NO"     , this.ds_import.getColumn(cRow, "Column3"));			// 물품분류번호
				this.ds_tempCntrctReqestThng.setColumn(nRow, "THNG_IDNTFC_NO" , this.ds_import.getColumn(cRow, "Column8"));			// 물품식별번호
				this.ds_tempCntrctReqestThng.setColumn(nRow, "THNG_CL_NM"     , this.ds_import.getColumn(cRow, "Column10"));		// 물품분류명
				this.ds_tempCntrctReqestThng.setColumn(nRow, "STNDRD_NM"      , this.ds_import.getColumn(cRow + 1, "Column10"));	// 규격명
				this.ds_tempCntrctReqestThng.setColumn(nRow, "QY"             , this.ds_import.getColumn(cRow, "Column19"));		// 수량
				this.ds_tempCntrctReqestThng.setColumn(nRow, "UNTPC"          , this.ds_import.getColumn(cRow, "Column16"));		// 단가
				this.ds_tempCntrctReqestThng.setColumn(nRow, "UNIT_SE"        , unitSe);											// 단위구분
				this.ds_tempCntrctReqestThng.setColumn(nRow, "AMOUNT"         , this.ds_import.getColumn(cRow + 1, "Column16"));	// 금액
				this.ds_tempCntrctReqestThng.setColumn(nRow, "DVYFG_MTHD"     , "001");												// 납품방식(일괄납품으로 고정)
				this.ds_tempCntrctReqestThng.setColumn(nRow, "DVYFG_CO"       , "1");												// 납품횟수(1회로 고정)
				this.ds_tempCntrctReqestThng.setColumn(nRow, "DVYFG_PLACE"    , this.ds_import.getColumn(cRow + 1, "Column19"));	// 납품장소
				this.ds_tempCntrctReqestThng.setColumn(nRow, "DVYFG_TMLMT_DE" , this.ds_import.getColumn(cRow, "Column23"));		// 납기일
				this.ds_tempCntrctReqestThng.setColumn(nRow, "DVYFG_DEMAND_NO", dvyfgDemandNo);										// 납품요구번호
				this.ds_tempCntrctReqestThng.setColumn(nRow, "DVYFG_DEMAND_DE", dvyfgDemandDe);										// 납품요구일자
			}
			
			// 임시 dataset에서 물품 dataset으로 복사
			this.ds_cntrctReqestThng.set_enableevent(false);
			for(var cpRow = 0; cpRow < this.ds_tempCntrctReqestThng.rowcount; cpRow++) {
				var nRow = this.ds_cntrctReqestThng.addRow();
				this.ds_cntrctReqestThng.copyRow(nRow, this.ds_tempCntrctReqestThng, cpRow);
			}
			this.ds_cntrctReqestThng.set_enableevent(true);
		}
	}
}



this.fn_sanction = function()
{
	if(this.comUtils.isDatasetUpdated(this.ds_cntrctReqest)) {
		this.gfn_message("comm.정보.저장.요청", "계약의뢰");
		return;
	}
	
	var cRow = this.ds_cntrctReqest.rowposition;
	var confmAt  = this.ds_cntrctReqest.getColumn(cRow, "CONFM_AT");
	confmAt      = this.comUtils.isNull(confmAt) ? '0' : confmAt;
	if(confmAt != '1') {
		var errMsg = "승인된 건만 결재가 가능합니다." + "\n";
		errMsg    += "계약 담당자에게 문의하세요";
		alert(errMsg);
		return false;
	}
	
	// 의뢰명
	var reqestNm = this.ds_cntrctReqest.getColumn(cRow, "REQEST_NM");
	
	// 착수일
	var strwrkDe = this.ds_cntrctReqest.getColumn(cRow, "STRWRK_DE");
	if(this.comUtils.isNull(strwrkDe)) {
		strwrkDe = "";
	} else {
		strwrkDe = this.dateUtils.format(strwrkDe, "yyyy. mm.");
	}
	
	// 준공일
	var competDe = this.ds_cntrctReqest.getColumn(cRow, "COMPET_DE");
	if(this.comUtils.isNull(competDe)) {
		competDe = "";
	} else {
		competDe = this.dateUtils.format(competDe, "yyyy. mm.");
	}
	
	// 사업내용
	var rm = this.ds_cntrctReqest.getColumn(cRow, "RM");
	
	// 예산액
	var budgetAm = this.ds_orderPlan.getSum("EXECUT_BUDGET_AMT");
	if(!this.comUtils.isNull(budgetAm)) {
		budgetAm = this.comUtils.formatComma(budgetAm) + "원 ";
	} else {
		budgetAm = "";
	}
	
	// 추정금액
	var outsrcAm = this.ds_orderPlan.getCaseSum("dataset.getColumn(currow, 'ORDER_NM') != dataset.getColumn(currow-1, 'ORDER_NM')", "THTI_ODR_OUTSRC_AM")
	if(!this.comUtils.isNull(outsrcAm)) {
		outsrcAm = this.comUtils.formatComma(outsrcAm) + "원 ";
	} else {
		outsrcAm = "";
	}
	
	var normalCnt = 0;
	for(var fRow = 0; fRow < this.ds_orderPlan.getRowCount(); fRow++) {
		var rowType = this.ds_orderPlan.getRowType(fRow);
		if(rowType == Dataset.ROWTYPE_NORMAL) {
			normalCnt ++;
		}
	}
	
	// 1건
	if(normalCnt <= 1) {
		// 예산과목
		var budgetAcntNm = "";
		var bdgAcntNm = this.ds_orderPlan.getColumn(0, "BUDGET_ACNT_NM");
		var bukipNm   = this.ds_orderPlan.getColumn(0, "BUKIP_NM");
		
		if(!this.comUtils.isNull(bdgAcntNm)) {
			bdgAcntNm = this.comUtils.isNull(bdgAcntNm) ? '' : bdgAcntNm;
			bukipNm   = this.comUtils.isNull(bukipNm) ? '' : bukipNm;
			budgetAcntNm += bdgAcntNm + " (" + bukipNm + ")"
		}
		
		var arrSancData = new Array(8);
		arrSancData[0]  = "「" + reqestNm + "」계약 요청";		// 결재제목
		arrSancData[1]  = "2. 위 호와 관련하여, 「" + reqestNm + "」 계약을 아래와 같이 요청합니다.";	// 의뢰명1
		arrSancData[2]  = reqestNm;								// 의뢰명2
		arrSancData[3]  = strwrkDe + " ~ " + competDe;			// 계약기간
		arrSancData[4]  = rm;									// 사업내용
		arrSancData[5]  = budgetAm;								// 예산액
		arrSancData[6]  = outsrcAm;								// 추정금액
		arrSancData[7]  = budgetAcntNm;							// 예산
		
		this.fn_callHandySanc2(
			 this						// context
			,'0000000078'				// formId
			,this.ds_cntrctReqest		// misDataset
			,"TBCTR_CNTRCT_REQEST"		// tableName
			,["REQEST_NO"]				// tableKey
			,arrSancData				// arrSancData
			,null						// subData
			,null						// multiCheck(0 or 1)
			,"SANCTN_NO1"				// otherColumn
			,this.ds_fileList			// file Dataset
		);
	} else if(this.ds_orderPlan.getRowCount() > 1) {
		var arrSancData = new Array(67);
		arrSancData[0]  = "「" + reqestNm + "」계약 요청";		// 결재제목
		arrSancData[1]  = "2. 위 호와 관련하여, 「" + reqestNm + "」 계약을 아래와 같이 요청합니다.";	// 의뢰명1
		arrSancData[2]  = reqestNm;								// 의뢰명2
		arrSancData[3]  = strwrkDe + " ~ " + competDe;			// 계약기간
		arrSancData[4]  = rm;									// 사업내용
		arrSancData[5]  = budgetAm;								// 예산액
		arrSancData[6]  = outsrcAm;								// 추정금액
		
		// 예산과목
		var budgetAcntNm = "";
		var cnt = 0;
		for(var bRow = 0; bRow < this.ds_orderPlan.getRowCount(); bRow++) {
			var rowType = this.ds_orderPlan.getRowType(bRow);
			if(rowType == Dataset.ROWTYPE_NORMAL) {
				var bdgAcntNm = this.ds_orderPlan.getColumn(bRow, "BUDGET_ACNT_NM");
				var bukipNm   = this.ds_orderPlan.getColumn(bRow, "BUKIP_NM");
				var orderNm   = this.ds_orderPlan.getColumn(bRow, "ORDER_NM");
				
				// 예산액
				var budgetAm = this.ds_orderPlan.getColumn(bRow, "EXECUT_BUDGET_AMT");
				if(!this.comUtils.isNull(budgetAm)) {
					budgetAm = this.comUtils.formatComma(budgetAm) + "원 ";
				} else {
					budgetAm = "";
				}
				
				// 추정금액
				var outsrcAm = this.ds_orderPlan.getColumn(bRow, "THTI_ODR_OUTSRC_AM");
				if(!this.comUtils.isNull(outsrcAm)) {
					outsrcAm = this.comUtils.formatComma(outsrcAm) + "원 ";
				} else {
					outsrcAm = "";
				}
				if(cnt < 12) {
					arrSancData[7 + 0 + cnt*5]  = (cnt+1);							// No
					arrSancData[7 + 1 + cnt*5]  = bdgAcntNm + " (" + bukipNm + ")";	// 예산과목
					arrSancData[7 + 2 + cnt*5]  = orderNm;							// 발주명
					arrSancData[7 + 3 + cnt*5]  = budgetAm;							// 예산금액
					arrSancData[7 + 4 + cnt*5]  = outsrcAm;							// 추정금액
				} else {
					arrSancData[7 + 0 + 11*5]  += "\n" + (cnt+1);							// No
					arrSancData[7 + 1 + 11*5]  += "\n" + bdgAcntNm + " (" + bukipNm + ")";	// 예산과목
					arrSancData[7 + 2 + 11*5]  += "\n" + orderNm;							// 발주명
					arrSancData[7 + 3 + 11*5]  += "\n" + budgetAm;							// 예산금액
					arrSancData[7 + 4 + 11*5]  += "\n" + outsrcAm;							// 추정금액
				}
				
				cnt++
			}
		}
		
		
		this.fn_callHandySanc2(
			 this						// context
			,'0000000077'				// formId
			,this.ds_cntrctReqest		// misDataset
			,"TBCTR_CNTRCT_REQEST"		// tableName
			,["REQEST_NO"]				// tableKey
			,arrSancData				// arrSancData
			,null						// subData
			,null						// multiCheck(0 or 1)
			,"SANCTN_NO1"				// otherColumn
			,this.ds_fileList			// file Dataset
		);
	}
}


// 결재문서 재확인(의뢰)
this.img_SANCTN_KND1_onclick = function(obj:ImageViewer,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_cntrctReqest.rowposition;
	if(['1','2','3','4','5'].indexOf(this.ds_cntrctReqest.getColumn(nRow, "SANCTN_KND1")) > -1) {
		this.fn_openSanc(this.ds_cntrctReqest.getColumn(nRow, "SANCTN_NO1"));
	}
}


// 결재문서 재확인(건의)
this.img_SANCTN_KND2_onclick = function(obj:ImageViewer,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_cntrctReqest.rowposition;
	if(['1','2','3','4','5'].indexOf(this.ds_cntrctReqest.getColumn(nRow, "SANCTN_KND2")) > -1) {
		this.fn_openSanc(this.ds_cntrctReqest.getColumn(nRow, "SANCTN_NO2"));
	}
}


/*
 * 함수명  	: grd_cmmnAtchmnfl_oncelldblclick
 * 설명 		: 첨부파일 다운로드(더블클릭)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.grd_cmmnAtchmnfl_oncelldblclick(obj,e);
 */
this.grd_cmmnAtchmnfl_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var nRow = this.ds_fileList.rowposition;
	
	var fileSn    = this.ds_fileList.getColumn(nRow, "FILE_SN");
	var fileOrder = this.ds_fileList.getColumn(nRow, "FILE_ORDR");
	var fileName  = this.ds_fileList.getColumn(nRow, "ORGINL_FILE_NM");
	this.File_UpDownManager.download(fileSn, fileOrder, fileName);
}]]></Script>
  </Form>
</FDL>
