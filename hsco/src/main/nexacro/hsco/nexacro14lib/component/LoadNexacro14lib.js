if(nexacro.Browser!="Runtime"){if(!nexacro.Element){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){nexacro.__createCanvasElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_b.createElement("div");var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_c,_d);nexacro.__setDOMNodeSize(_g,_e,_f);_g._linked_element=_a;_g._element_type=9;return _g;};nexacro.__destroyCanvasElementHandle=nexacro._desyroyElementHandle;}else if(nexacro.Browser!="Edge"||nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9)){nexacro.__createCanvasElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_b.createElement("canvas");var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_c,_d);nexacro.__setDOMNodeSize(_g,_e,_f);_g._linked_element=_a;_g._element_type=9;_g._draw_ctx=_g.getContext("2d");return _g;};nexacro.__destroyCanvasElementHandle=function(_a,_b){if(_a){_a.removeChild(_b);}_b._draw_ctx=null;_b._linked_element=null;};}nexacro.__setElementHandleBringToFront=nexacro.__bringDOMNodeToFront;nexacro.__setElementHandleSendToBack=nexacro.__sendDOMNodeToBack;nexacro.__setElementHandleMoveToPrev=nexacro.__moveDOMNodeToPrev;nexacro.__setElementHandleMoveToNext=nexacro.__moveDOMNodeToNext;nexacro.__setLastFocusedElement=function(_a){if(_a){var _b=_a.linkedcontrol?_a.linkedcontrol._getWindow():(_a._parent_elem?_a._parent_elem.linkedcontrol._getWindow():null);if(_b){var _c=_b;while(true){if(_c instanceof nexacro.PopupWindow){if(_c==_c.parent){break;}_c=_c.parent;}else{break;}}if(!_c){_c=_b;}_c._last_focused_elem=_a;}}};nexacro.Element=function(_a){this.parent=_a;this._parent_elem=_a;};var _pElement=nexacro._createPrototype(nexacro.Object,nexacro.Element);nexacro.Element.prototype=_pElement;_pElement._type_name="Element";_pElement.left=0;_pElement.top=0;_pElement.width=0;_pElement.height=0;_pElement.visible=true;_pElement.mirror=false;_pElement.rtldirection="inherit";_pElement._handle=null;_pElement._dest_handle=null;_pElement._owner_elem=null;_pElement._is_nc_element=false;_pElement.clearContents=nexacro._emptyFn;_pElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=0;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.mirror){var _e=this.background;if(_e&&_e.image){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());}}if(this.rtldirection){nexacro.__setDOMNodeStyleDirection(_d,this.rtldirection);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pElement._destroyElementHandle=function(){var _a=this._handle;var _b=this._owner_elem;if(_a&&_b){_a._linked_element=null;nexacro.__removeDOMNode(_b._handle,_a);this._owner_elem=null;this._handle=this._dest_handle=null;}};_pElement._removeElementHandle=function(){var _a=this._handle;var _b=this._owner_elem;if(_a&&_b){_a._linked_element=null;nexacro.__removeDOMNode(_b._handle,_a);this._owner_elem=null;this._handle=this._dest_handle=null;}};_pElement._appendToContainer=function(_a){var _b=this._handle;if(_b&&_a._handle&&this._owner_elem==null){this._owner_elem=_a;nexacro.__appendDOMNode(_a._dest_handle,_b);}};_pElement._removeFromContainer=function(){var _a=this._owner_elem;if(_a){this._owner_elem=null;var _b=this._handle;if(_b&&_a._handle){nexacro.__unlinkDOMNode(_a._dest_handle,_b);}}};_pElement.getContainerElement=function(){return this;};_pElement.getRootWindowHandle=function(){if(this._owner_elem){return this._owner_elem.getRootWindowHandle();}return null;};_pElement._getElementBaseUrl=function(){var _a=this;while(_a&&!_a._is_form){_a=_a.parent;}if(_a&&_a._is_form){return _a._getFormBaseUrl();}return "";};_pElement.hasSetSelectionRange=function(){var _a=this._input_handle;if(_a){if(_a.setSelectionRange){return true;}}return false;};_pElement._getParentFont=function(){var _a=this._parent_elem;while(_a){if(_a.font){return _a.font;}_a=_a._parent_elem;}return null;};_pElement._isRtl=function(){var _a=this._parent_elem;var _b=this.rtldirection;while(_a){if(_a.rtldirection&&_a.rtldirection!="inherit"){_b=_a.rtldirection;break;}_a=_a._parent_elem;}return _b=="rtl";};_pElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStylePos(_c.style,_a,_b);}}};_pElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}}};_pElement.setElementVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);if(nexacro.OS=="Android"||nexacro.OS=="iOS"){if(this.visible){var _c=this.zindex;if(!_c||_c<0){_c="";}nexacro.__setDOMNodeStyleZindex(_b.style,_c);}else{nexacro.__setDOMNodeStyleZindex(_b.style,nexacro._zindex_hide);}}}}};_pElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this.background;var _e=this.image;if(_d&&_d.image){var _f=this._handle;var _g=this._isRtl();if(_f){this.setElementBorder(this.border,this.bordertype);this.setElementPadding(this.padding);nexacro.__setDOMNodeStyleTransformMirror(_f.style,this.mirror&&this._isRtl());}if(this._client_element){_f=this._client_element._handle;if(_f){nexacro.__setDOMNodeStyleTransformMirror(_f.style,this.mirror&&this._isRtl());}}}}};_pElement.setElementRtlDirection=function(_a){if(this.rtldirection!=_a){this.rtldirection=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleDirection(_b.style,_a);}if(this.align){this.setElementAlign(this.align);}if(this.halign&&this.valign){this.setElementAlignXY(this.halign,this.valign);}if(this.shadow){this.setElementShadow(this.shadow);}if(this.border){this.setElementBorder(this.border,this.bordertype);}if(this.bordertype){this.setElementBorder(this.border,this.bordertype);}if(this.padding){this.setElementPadding(this.padding);}if(this.gradation){this.setElementBackground(this.background,this.gradation);}}};_pElement.setElementEnable=nexacro._emptyFn;_pElement.setElementTabIndex=nexacro._emptyFn;_pElement.setElementAlign=nexacro._emptyFn;_pElement.setElementAlignXY=nexacro._emptyFn;_pElement.setElementPadding=nexacro._emptyFn;_pElement.setElementPaddingXY=nexacro._emptyFn;_pElement.setElementFont=nexacro._emptyFn;_pElement.setElementColor=nexacro._emptyFn;_pElement.setElementCursor=nexacro._emptyFn;delete _pElement;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){nexacro._VMLContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pVMLContainerElement=nexacro._createPrototype(nexacro.Element,nexacro._VMLContainerElement);nexacro._VMLContainerElement.prototype=__pVMLContainerElement;__pVMLContainerElement._type_name="VMLContainerElement";__pVMLContainerElement.bordertype=null;__pVMLContainerElement.border=null;__pVMLContainerElement.background=null;__pVMLContainerElement._inner_left=0;__pVMLContainerElement._inner_top=0;__pVMLContainerElement._inner_width=0;__pVMLContainerElement._inner_height=0;__pVMLContainerElement._outer_path="";__pVMLContainerElement._inner_path="";__pVMLContainerElement._border_handle=null;__pVMLContainerElement._backgroundtype=0;__pVMLContainerElement._applied_backgroundtype=0;__pVMLContainerElement._background_handle=null;__pVMLContainerElement._background_fill_handle=null;__pVMLContainerElement._imagetype=0;__pVMLContainerElement._applied_imagetype=0;__pVMLContainerElement._image_handle=null;__pVMLContainerElement._image_fill_handle=null;__pVMLContainerElement._img_url="";__pVMLContainerElement._img_repeat="";__pVMLContainerElement._img_bkpos_x=0;__pVMLContainerElement._img_bkpos_y=0;__pVMLContainerElement._need_update=false;__pVMLContainerElement._need_update_border=false;__pVMLContainerElement._need_update_background=false;__pVMLContainerElement._need_update_image=false;__pVMLContainerElement._is_nc_element=true;__pVMLContainerElement.create=function(_a){var _b=this._parent_elem;if(_b._handle){if(!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);var _e=_d.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStyleUnitSize(_e,"100%","100%");this._handle=this._dest_handle=_d;}if(_a){nexacro.__insertDOMNode(_b._dest_handle,this._handle,_a);}else{nexacro.__appendDOMNode(_b._dest_handle,this._handle);}this.updateVMLInfo();}};__pVMLContainerElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;if(this._owner_elem&&this._owner_elem._dest_handle){nexacro.__removeDOMNode(this._owner_elem._dest_handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;var _b=this._background_handle;if(_b){nexacro.__removeDOMNode(_a,_b);var _c=this._background_fill_handle;if(_c){nexacro.__removeDOMNode(_b,_c);}}var _d=this._border_handle;if(_d){nexacro.__removeDOMNode(_a,_d);}var _e;if(_e){nexacro.__removeDOMNode(_a,_e);var _f=this._image_fill_handle;if(_f){nexacro.__removeDOMNode(_e,_f);}}this._background_fill_handle=null;this._border_handle=null;this._background_handle=null;this._image_handle=null;this._image_fill_handle=null;}this.parent=null;this._parent_elem=null;};__pVMLContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){if(_b){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;}};__pVMLContainerElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(this.bordertype){this.setVMLBorder(this.bordertype,this.border);if(this._handle){this.updateVMLInfo();}}}};__pVMLContainerElement._createVMLOuterPath=function(_a,_b,_c,_d,_e){var _f=0,_g=_a*10,_h=0,_i=_b*10;var _j=[];if(_c>0&&_d>0){var _k=_c*10,_l=_d*10;if(_e._lefttop){_j.push('m'+_f+','+(_h+_l)+'qy'+(_f+_k)+','+_h);}else{_j.push('m'+_f+','+_h);}if(_e._righttop){_j.push('l'+(_g-_k)+','+_h+'qx'+_g+','+(_h+_l));}else{_j.push('l'+_g+','+_h);}if(_e._rightbottom){_j.push('l'+_g+','+(_i-_l)+'qy'+(_g-_k)+','+_i);}else{_j.push('l'+_g+','+_i);}if(_e._leftbottom){_j.push('l'+(_f+_k)+','+_i+'qx'+_f+','+(_i-_l));}else{_j.push('l'+_f+','+_i);}_j.push('x');}else{_j.push('m'+_f+','+_h);_j.push('l'+_g+','+_h);_j.push('l'+_g+','+_i);_j.push('l'+_f+','+_i);_j.push('x');}return _j.join('');};__pVMLContainerElement._createVMLInnerPath=function(_a,_b,_c,_d,_e,_f){var _g=_e._top_width;var _h=_e._right_width;var _i=_e._bottom_width;var _j=_e._left_width;var _k=0,_l=_a*10,_m=0,_n=_b*10;if(_e&&!_e._is_real_empty()){_k+=_j*10;_l-=_h*10;_m+=_g*10;_n-=_i*10;}if(_k>=_l||_m>=_n){return "";}var _o=[];var _p,_q;if(_c>0&&_d>0){_p=(_c-_j)*10;_q=(_d-_g)*10;if(_p>0&&_q>0&&_f._lefttop){_o.push('m'+_k+','+(_m+_q)+'qy'+(_k+_p)+','+_m);}else{_o.push('m'+_k+','+_m);}_p=(_c-_h)*10;_q=(_d-_g)*10;if(_p>0&&_q>0&&_f._righttop){_o.push('l'+(_l-_p)+','+_m+'qx'+_l+","+(_m+_q));}else{_o.push('l'+_l+','+_m);}_p=(_c-_h)*10;_q=(_d-_i)*10;if((_p>0&&_q>0)&&_f._rightbottom){_o.push('l'+_l+','+(_n-_q)+'qy'+(_l-_p)+','+_n);}else{_o.push('l'+_l+','+_n);}_p=(_c-_j)*10;_q=(_d-_i)*10;if(_p>0&&_q>0&&_f._leftbottom){_o.push('l'+(_k+_p)+','+_n+'qx'+_k+','+(_n-_q));}else{_o.push('l'+_k+','+_n);}_o.push('x');}else{_o.push('m'+_k+','+_m);_o.push('l'+_l+','+_m);_o.push('l'+_l+','+_n);_o.push('l'+_k+','+_n);_o.push('x');}return _o.join('');};__pVMLContainerElement.setVMLBorder=function(_a,_b){if(this.bordertype!=_a||this.border!=_b||this.prev_width!=this.width||this.prev_height!=this.height){var _c=this.width;var _d=this.height;if(_a&&_b){var _e=_b._getBorderWidth();var _f=_b._getBorderHeight();this._inner_left=_b._left_width;this._inner_top=_b._top_width;this._inner_width=_c-_e;this._inner_height=_d-_f;var _g=_b._syscolor;if(!_g||_g==""){_g=_b._top_syscolor;}this._border_color=_g;var _h=_a._radiusx,_i=_a._radiusy;var _j=0;if((_h+_h)>_c){_j=_h-Math.floor(_c/2);}if((_i+_i)>_d){var _k=_i-Math.floor(_d/2);if(_k>_j){_j=_k;}}if(_j){_h-=_j;_i-=_j;}var _l=this._createVMLOuterPath(_c,_d,_h,_i,_a);var _m=this._createVMLInnerPath(_c,_d,_h,_i,_b,_a);this._outer_path=_l;this._inner_path=_m;}else{this._inner_left=0;this._inner_top=0;this._inner_width=_c;this._inner_height=_d;this._outer_path="";var _m=this._createVMLOuterPath(_c,_d,0,0,_a);this._inner_path=_m;}this.prev_width=_c;this.prev_height=_d;this.bordertype=_a;this.border=_b;this._need_update=true;this._need_update_border=true;}};__pVMLContainerElement.setVMLBackground=function(_a,_b){if((_a&&(this.background!=_a||this.background._syscolor!=_a._syscolor))||(_a.color=="@gradation"&&(_b&&(this.gradation!=_b||this.gradation._sysvalue2!=_b._sysvalue2)))){if(_a){if(_a.color=="@gradation"&&_b&&_b._sysvalue2){this._backgroundtype=2;}else if(_a._value=="transparent"){_a._syscolor="transparent";_a._sysopacity=0;this._backgroundtype=1;}else if(_a._syscolor){this._backgroundtype=1;}else if(nexacro.BrowserVersion==8){_a._syscolor="transparent";_a._sysopacity=0;this._backgroundtype=1;}else{this._backgroundtype=0;}this.background=_a;this.gradation=_b;}else{this.background=null;this.gradation=null;this._backgroundtype=0;}this._need_update=true;this._need_update_background=true;}};__pVMLContainerElement.setVMLStretchImage=function(_a){if(this._imagetype!=2||this.img_url!=_a){this._imagetype=2;this._img_url=_a;this._img_repeat="";this._img_bkpos_x=0;this._img_bkpos_y=0;this._need_update=true;this._need_update_image=true;}};__pVMLContainerElement.setVMLRepeatImage=function(_a,_b,_c,_d,_e){if(_c==""){_c="no-repeat";}if(this._imagetype!=1||this.img_url!=_b||this._img_repeat!=_c||this._img_bkpos_x!=_d||this._img_bkpos_y!=_e){this._imagetype=1;this._img_url=_b;this._img_repeat=_c;this._img_bkpos_x=_d;this._img_bkpos_y=_e;this._need_update=true;this._need_update_image=true;}};__pVMLContainerElement.clearVMLImage=function(){if(this._imagetype!=0){this._imagetype=0;this._img_url="";this._img_repeat="";this._img_bkpos="";this._need_update_image=true;}};__pVMLContainerElement.updateVMLInfo=function(){var _a=this._handle;var _b=this.getRootWindowHandle();if(_a&&_b){var _c=this._backgroundtype;var _d=this._need_update_border;var _e=this._need_update_background;var _f=this._need_update_image;var _g=this._border_handle;var _h=this._background_handle;var _i=this._image_handle;if(_e){var _j=this._applied_backgroundtype;var _c=this._backgroundtype;if(_c==0){if(_h){nexacro.__removeDOMNode(_a,_h);var _k=this._background_fill_handle;if(_k){nexacro.__removeDOMNode(_h,_k);}this._background_handle=null;this._background_fill_handle=null;}}else if(_c==1){var _l=this.background;if(_j==0){_h=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px;' stroked='f' coordorigin='5 5' coordsize='10 10'>");_h.path=this._inner_path;if(_i){_a.insertBefore(_h,_i);}else if(_g){_a.insertBefore(_h,_g);}else{_a.appendChild(_h);}this._background_handle=_h;if(_l._syscolor=="transparent"&&nexacro.BrowserVersion==8){_h.fillcolor="none";var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill color = 'red' opacity= '0' />");_h.appendChild(_m);this._background_fill_handle=_m;}else if(_l._syscolor=="transparent"){_h.fillcolor="none";}else{var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}var _n=(_l._sysopacity/100);var _o=_l._syscolor;_m=_b.createElement("<v:fill type= 'gradient' color = '"+_o+"' opacity = '"+_n+"' color2 = '"+_o+"'"+" o:opacity2 = '"+_n+"' colors = '0 "+_o+" 1 "+_o+"' />");_h.appendChild(_m);this._background_fill_handle=_m;}}else if(_j>=1){if(_l._syscolor=="transparent"&&nexacro.BrowserVersion==8){_h.fillcolor="none";var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill color = 'red' opacity= '0' />");_h.appendChild(_m);this._background_fill_handle=_m;}else if(_l._syscolor=="transparent"){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_h.fillcolor="none";}else{var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}var _n=(_l._sysopacity/100);var _o=_l._syscolor;_m=_b.createElement("<v:fill type= 'gradient' color = '"+_o+"' opacity = '"+_n+"' color2 = '"+_o+"'"+" o:opacity2 = '"+_n+"' colors = '0 "+_o+" 1 "+_o+"' />");_h.appendChild(_m);this._background_fill_handle=_m;}}else if(_j==2){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill color = '"+_l._syscolor+"'"+" opacity= '"+(_l._sysopacity/100)+"' />");_h.appendChild(_m);this._background_fill_handle=_m;}}else{var _p=this.gradation;this._need_vmlrefresh=true;if(_j==0){_h=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px' stroked='f' coordorigin='5 5' coordsize='10 10'>");_h.path=this._inner_path;var _m=_b.createElement("<v:fill "+_p._sysvalue2+">");_h.appendChild(_m);if(_i){_a.insertBefore(_h,_i);}else if(_g){_a.insertBefore(_h,_g);}else{_a.appendChild(_h);}this._background_handle=_h;this._background_fill_handle=_m;}else if(_j==1){if(_p._sysvalue2){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill "+_p._sysvalue2+">");_h.appendChild(_m);this._background_fill_handle=_m;}}else if(_j==2){if(_p._sysvalue2){var _m=this._background_fill_handle;if(_m){nexacro.__removeDOMNode(_h,_m);this._background_fill_handle=null;}_m=_b.createElement("<v:fill "+_p._sysvalue2+">");_h.appendChild(_m);this._background_fill_handle=_m;}}}this._applied_backgroundtype=_c;}else{if(_d&&_h){_h.path=this._inner_path;}}if(_f){var _q=this._applied_imagetype;var _r=this._imagetype;if(_r==0){if(_i){nexacro.__removeDOMNode(_a,_i);var _s=this._image_fill_handle;if(_s){nexacro.__removeDOMNode(_i,_s);}this._image_handle=null;this._image_fill_handle=null;}}else if(_r==1){if(_q==0){_i=_b.createElement("div");var _t=_i.style;nexacro.__setDOMNodeStyleAbsolute(_t);nexacro.__setDOMNodeStylePos(_t,this._inner_left,this._inner_top);nexacro.__setDOMNodeStyleSize(_t,this._inner_width,this._inner_height);nexacro.__setDOMNodeStyleBackgroundImage(_t,this._img_url,this._img_repeat,(this._img_bkpos_x+"% "+this._img_bkpos_y+"%"));if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;this._image_fill_handle=null;}else if(_q==1){var _t=_i.style;nexacro.__setDOMNodeStylePos(_t,this._inner_left,this._inner_top);nexacro.__setDOMNodeStyleSize(_t,this._inner_width,this._inner_height);nexacro.__setDOMNodeStyleBackgroundImage(_t,this._img_url,this._img_repeat,(this._img_bkpos_x+"% "+this._img_bkpos_y+"%"));}else{if(_i){nexacro.__removeDOMNode(_a,_i);var _s=this._image_fill_handle;if(_s){nexacro.__removeDOMNode(_i,_s);}this._image_handle=null;this._image_fill_handle=null;}_i=_b.createElement("div");var _t=_i.style;nexacro.__setDOMNodeStyleAbsolute(_t);nexacro.__setDOMNodeStylePos(_t,this._inner_left,this._inner_top);nexacro.__setDOMNodeStyleSize(_t,this._inner_width,this._inner_height);nexacro.__setDOMNodeStyleBackgroundImage(_t,this._img_url,this._img_repeat,(this._img_bkpos_x+"% "+this._img_bkpos_y+"%"));if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;if(this._image_fill_handle){nexacro.__removeDOMNode(_i,this._image_fill_handle);this._image_fill_handle=null;}}}else{if(_q==0){_i=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px;' stroked='f' coordorigin='5 5' coordsize='10 10'>");_i.path=this._inner_path;var _m=_b.createElement("<v:fill  type='frame' src='"+this._img_url+"'/>");_i.appendChild(_m);if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;this._image_fill_handle=_m;}else if(_q==1){if(_i){nexacro.__removeDOMNode(_a,_i);var _s=this._image_fill_handle;if(_s){nexacro.__removeDOMNode(_i,_s);}this._image_handle=null;this._image_fill_handle=null;}_i=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px;' stroked='f' coordorigin='5 5' coordsize='10 10'>");_i.path=this._inner_path;var _m=_b.createElement("<v:fill  type='frame' src='"+this._img_url+"'/>");_i.appendChild(_m);if(_g&&nexacro.BrowserVersion<8){_a.insertBefore(_i,_g);}else{_a.appendChild(_i);}this._image_handle=_i;this._image_fill_handle=_m;}else if(_q==2){_i.path=this._inner_path;var _m=this._image_fill_handle;if(_m){_m.src=this._img_url;}}}this._applied_imagetype=_r;}else{if(_d&&_i){if(_r==1){nexacro.__setDOMNodeStylePos(_t,this.left,this.top);nexacro.__setDOMNodeStyleSize(_t,this.width,this.height);}else if(_r==2){_i.path=this._inner_path;}}}if(_d){var _u=this._outer_path;if(_g){if(_u){_g.path=_u+" "+this._inner_path+" e";if(this._border_color=="transparent"||this._border_color==""){_g.fillcolor="none";}else{_g.fillcolor=this._border_color;}this._border_handle=_g;}else{nexacro.__removeDOMNode(_a,_g);this._border_handle=null;}}else if(_u){_g=_b.createElement("<v:shape style='position:absolute;width:1px;height:1px' stroked='f' coordorigin='5 5' coordsize='10 10'>");if(_h&&nexacro.BrowserVersion==8){_a.insertBefore(_g,_h);}else{_a.appendChild(_g);}_g.path=this._outer_path+" "+this._inner_path+" e";if(this._border_color=="transparent"||this._border_color==""){_g.fillcolor="none";}else{_g.fillcolor=this._border_color;}this._border_handle=_g;}}this._need_update=false;this._need_update_border=false;this._need_update_background=false;this._need_update_image=false;}};delete __pVMLContainerElement;nexacro._RepeatImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pRepeatImageElement=nexacro._createPrototype(nexacro.Element,nexacro._RepeatImageElement);nexacro._RepeatImageElement.prototype=__pRepeatImageElement;__pRepeatImageElement._type_name="RepeatImageElement";__pRepeatImageElement._img_url="";__pRepeatImageElement._repeat="";__pRepeatImageElement._posx=0;__pRepeatImageElement._posy=0;__pRepeatImageElement._is_nc_element=true;__pRepeatImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);var _e=_d.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}if(this._img_url){nexacro.__setDOMNodeStyleBackgroundImage(_e,this._img_url,this._repeat,(this._posx+"% "+this._posy+"%"));}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_e,this.mirror&&this._isRtl());}}};__pRepeatImageElement.setElementInfo=function(_a,_b,_c,_d){if(this._img_url!=_a||this._repeat!=_b||this._posx!=_c||this._posy!=_d){this._img_url=_a;this._repeat=_b;this._posx=_c;this._posy=_d;var _e=this._handle;if(_e){nexacro.__setDOMNodeStyleBackgroundImage(_e.style,_a,_b,(_c+"% "+_d+"%"));}}};__pRepeatImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pRepeatImageElement;nexacro._StretchImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pStretchImageElement=nexacro._createPrototype(nexacro.Element,nexacro._StretchImageElement);nexacro._StretchImageElement.prototype=__pStretchImageElement;__pStretchImageElement._type_name="StretchImageElement";__pStretchImageElement._img_url="";__pStretchImageElement._is_nc_element=true;__pStretchImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("img");_d.id=this._parent_elem._handle.id+this._type_name;_d._linked_element=this;nexacro.__setDOMNodeSelectable(_d,false);nexacro.__setDOMNodeAlt(_d,this._parent_elem.accessibility_label?this._parent_elem.accessibility_label:this._parent_elem.linkedcontrol.id);var _e=_d.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);if(this._img_url){nexacro.__setImageDOMNodeImageUrl(_d,this._img_url);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_e,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{var _f=_b._dest_handle;var _g=nexacro.__getLastChildDOMNode(_f);nexacro.__insertDOMNode(_f,_d,_g);}}};__pStretchImageElement.setElementInfo=function(_a){if(this._img_url!=_a){this._img_url=_a;var _b=this._handle;if(_b){if(_a==""){nexacro.__setDOMNodeStyleVisible(_b.style,visible);}else{nexacro.__setImageDOMNodeImageUrl(_b,_a);}}}};__pStretchImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pStretchImageElement;}nexacro._QuadImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pQuadImageElement=nexacro._createPrototype(nexacro.Element,nexacro._QuadImageElement);nexacro._QuadImageElement.prototype=__pQuadImageElement;__pQuadImageElement._type_name="QuadImageElement";__pQuadImageElement._img_url="";__pQuadImageElement._lefttop_node=null;__pQuadImageElement._righttop_node=null;__pQuadImageElement._rightbottom_node=null;__pQuadImageElement._leftbottom_node=null;__pQuadImageElement._is_nc_element=true;__pQuadImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);if((this.width%2)==1){var _e="51%";}else{var _e="50%";}if((this.height%2)==1){var _f="51%";}else{var _f="50%";}var _g=_d.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,this.left,this.top);nexacro.__setDOMNodeStyleSize(_g,this.width,this.height);var _h=_c.createElement("div");lefttop_style=_h.style;nexacro.__setDOMNodeStylePosLeftTop(lefttop_style);nexacro.__setDOMNodeStyleUnitSize(lefttop_style,_e,_f);lefttop_style.backgroundRepeat="no-repeat";lefttop_style.backgroundPosition="left top";this._lefttop_node=_h;var _i=_c.createElement("div");righttop_style=_i.style;nexacro.__setDOMNodeStylePosRightTop(righttop_style);nexacro.__setDOMNodeStyleUnitSize(righttop_style,"50%",_f);righttop_style.backgroundRepeat="no-repeat";righttop_style.backgroundPosition="right top";this._righttop_node=_i;var _j=_c.createElement("div");rightbottom_style=_j.style;nexacro.__setDOMNodeStylePosRightBottom(rightbottom_style);nexacro.__setDOMNodeStyleUnitSize(rightbottom_style,"50%","50%");rightbottom_style.backgroundRepeat="no-repeat";rightbottom_style.backgroundPosition="right bottom";this._rightbottom_node=_j;var _k=_c.createElement("div");leftbottom_style=_k.style;nexacro.__setDOMNodeStylePosLeftBottom(leftbottom_style);nexacro.__setDOMNodeStyleUnitSize(leftbottom_style,_e,"50%");leftbottom_style.backgroundRepeat="no-repeat";leftbottom_style.backgroundPosition="left bottom";this._leftbottom_node=_k;if(this._img_url){var _l="url("+this._img_url+")";lefttop_style.backgroundImage=_l;righttop_style.backgroundImage=_l;rightbottom_style.backgroundImage=_l;leftbottom_style.backgroundImage=_l;}_d.appendChild(_h);_d.appendChild(_i);_d.appendChild(_j);_d.appendChild(_k);if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_g,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}}};__pQuadImageElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;if(this._owner_elem&&this._owner_elem._dest_handle){nexacro.__removeDOMNode(this._owner_elem._dest_handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._lefttop_node=null;this._righttop_node=null;this._rightbottom_node=null;this._leftbottom_node=null;}this.parent=null;this._parent_elem=null;};__pQuadImageElement.setElementInfo=function(_a){if(this._img_url!=_a){this._img_url=_a;if(this._handle){var _b="url("+_a+")";this._lefttop_node.style.backgroundImage=_b;this._righttop_node.style.backgroundImage=_b;this._rightbottom_node.style.backgroundImage=_b;this._leftbottom_node.style.backgroundImage=_b;}}};__pQuadImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pQuadImageElement;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){nexacro._EdgeImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pEdgeImageElement=nexacro._createPrototype(nexacro.Element,nexacro._EdgeImageElement);nexacro._EdgeImageElement.prototype=__pEdgeImageElement;__pEdgeImageElement._type_name="EdgeImageElement";__pEdgeImageElement._edge_type=0;__pEdgeImageElement._applied_edge_type=0;__pEdgeImageElement._img_url="";__pEdgeImageElement._applied_img_url="";__pEdgeImageElement._edgex=0;__pEdgeImageElement._edgey=0;__pEdgeImageElement._img_width=0;__pEdgeImageElement._img_height=0;__pEdgeImageElement._img_sizereq=false;__pEdgeImageElement._image_cc_node=null;__pEdgeImageElement._div_lt_node=null;__pEdgeImageElement._div_rt_node=null;__pEdgeImageElement._div_lb_node=null;__pEdgeImageElement._div_rb_node=null;__pEdgeImageElement._image_tt_node=null;__pEdgeImageElement._image_rr_node=null;__pEdgeImageElement._image_bb_node=null;__pEdgeImageElement._image_ll_node=null;__pEdgeImageElement._is_nc_element=true;__pEdgeImageElement._need_update_imagesize=false;__pEdgeImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();if(_c){var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);this._applied_edge_type=0;var _e=this.width;var _f=this.height;var _g=_d.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,this.left,this.top);nexacro.__setDOMNodeStyleSize(_g,_e,_f);var _h=_c.createElement("img");var _i=_h.style;nexacro.__setDOMNodeAlt(_h,"");nexacro.__setDOMNodeStylePosLeftTop(_i);nexacro.__setDOMNodeStyleUnitSize(_i,"100%","100%");_d.appendChild(_h);this._image_cc_node=_h;if(!this._img_sizereq){if(this._img_width>0&&this._img_height>0){this._updateImgSize(_d,this._edge_type,_e,_f,this._img_url,this._img_width,this._img_height,this._edgex,this._edgey);}else if(this._img_url){var _j=nexacro._getImageSize(this._img_url,this._on_notify_imgsize,this);this._img_sizereq=true;if(_j){this._img_width=_j.width;this._img_height=_j.height;this._updateImgSize(_d,this._edge_type,_e,_f,this._img_url,_j.width,_j.height,this._edgex,this._edgey);}}}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_g,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}}}};__pEdgeImageElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;if(this._owner_elem&&this._owner_elem._dest_handle){nexacro.__removeDOMNode(this._owner_elem._dest_handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._div_lt_node=null;this._div_rt_node=null;this._div_lb_node=null;this._div_rb_node=null;this._image_tt_node=null;this._image_rr_node=null;this._image_bb_node=null;this._image_ll_node=null;this._image_cc_node=null;}this.parent=null;this._parent_elem=null;};__pEdgeImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);if(this._img_width>0&&this._img_height>0){this._updateLayout(_c,this._edge_type,_a,_b,this._img_width,this._img_height,this._edgex,this._edgey);}else{this._updateLayout(_c,0,_a,_b,this._img_width,this._img_height,this._edgex,this._edgey);}}}};__pEdgeImageElement._updateURL=function(_a,_b,_c){if(_b==3){var _d="url("+_c+")";this._div_lt_node.style.backgroundImage=_d;this._div_rt_node.style.backgroundImage=_d;this._div_lb_node.style.backgroundImage=_d;this._div_rb_node.style.backgroundImage=_d;}if(_b==1||_b==3){this._image_ll_node.src=_c;this._image_rr_node.src=_c;}if(_b==2||_b==3){this._image_tt_node.src=_c;this._image_bb_node.src=_c;}if(this._image_cc_node){this._image_cc_node.src=_c;}this._applied_img_src=_c;};__pEdgeImageElement.setElementInfo=function(_a,_b,_c){var _d=false;var _e=false;var _f=0;if(_b<0){_b=0;}if(_c<0){_c=0;}if(_b>0&&_c>0){_f=3;}else if(_c>0){_f=2;}else if(_b>0){_f=1;}if(this._img_url!=_a){this._img_url=_a;_d=true;}if(this._edge_type!=_f||this._edgex!=_b||this._edgey!=_c){this._edge_type=_f;this._edgex=_b;this._edgey=_c;_e=true;}var _g=this._handle;if(_g){var _h=this.width;var _i=this.height;if(_d){var _j=nexacro._getImageSize(this._img_url,this._on_notify_imgsize,this);this._img_sizereq=true;if(_j){this._img_sizereq=false;if(this._img_width!=_j.width||this._img_height!=_j.height){this._img_width=_j.width;this._img_height=_j.height;this._updateLayout(_g,_f,_h,_i,_j.width,_j.height,this._edgex,this._edgey);this._updateURL(_g,_f,_a);}else{this._updateURL(_g,_f,_a);}}else{this._img_sizereq=true;this._img_width=0;this._img_height=0;this._updateLayout(_g,0,_h,_i,0,0,0,0);}}else if(_e){if(this._img_width>0&&this._img_height>0){this._updateLayout(_g,_f,_h,_i,this._img_width,this._img_height,this._edgex,this._edgey);this._updateURL(_g,_f,this._img_url);}}}else if(_d){var _j=nexacro._getImageSize(this._img_url,this._on_notify_imgsize,this);this._img_sizereq=true;if(_j){this._img_sizereq=false;this._img_width=_j.width;this._img_height=_j.height;}}};if(nexacro.BrowserVersion<=7){nexacro._makeImageClipInfo=function(_a,_b,_c,_d){return "rect("+_a+" "+_b+" "+_c+" "+_d+")";};}else{nexacro._makeImageClipInfo=function(_a,_b,_c,_d){return "rect("+_a+"px,"+_b+"px,"+_c+"px,"+_d+"px)";};}__pEdgeImageElement._createLeftRight=function(_a,_b,_c,_d,_e,_f,_g){var _h=( -_e);var _i=_d+_e+_e;var _j=_g+_e;var _k=_d-_g+_e;var _l=_a.createElement("img");node_style=_l.style;nexacro.__setDOMNodeAlt(_l,"");nexacro.__setDOMNodeStyleAbsolute(node_style);nexacro.__setDOMNodeStylePos(node_style,0,_h);nexacro.__setDOMNodeStyleSize(node_style,_c,_i);node_style.clip=nexacro._makeImageClipInfo(_j,_f,_k,0);_b.appendChild(_l);var _m=_a.createElement("img");node_style=_m.style;nexacro.__setDOMNodeAlt(_m,"");nexacro.__setDOMNodeStyleAbsolute(_m.style);node_style.right="0px";node_style.top=_h+"px";nexacro.__setDOMNodeStyleSize(node_style,_c,_i);node_style.clip=nexacro._makeImageClipInfo(_j,_c,_k, -_f+_c);_b.appendChild(_m);this._image_rr_node=_m;this._image_ll_node=_l;};__pEdgeImageElement._updateLeftRight=function(_a,_b,_c,_d,_e){var _f=( -_c);var _g=_b+_c+_c;var _h=_e+_c;var _i=_b-_e+_c;var _j=this._image_ll_node.style;_j.top=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_a,_g);_j.clip=nexacro._makeImageClipInfo(_h,_d,_i,0);var _j=this._image_rr_node.style;_j.top=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_a,_g);_j.clip=nexacro._makeImageClipInfo(_h,_a,_i, -_d+_a);};__pEdgeImageElement._destroyLeftRight=function(_a){if(this._image_ll_node){nexacro.__removeDOMNode(_a,this._image_ll_node);}if(this._image_rr_node){nexacro.__removeDOMNode(_a,this._image_rr_node);}this._image_ll_node=null;this._image_rr_node=null;};__pEdgeImageElement._createTopBottom=function(_a,_b,_c,_d,_e,_f,_g){var _h=( -_e);var _i=_d+_e+_e;var _j=_f+_e;var _k=_d-_f+_e;var _l=_a.createElement("img");var _m=_l.style;nexacro.__setDOMNodeAlt(_l,"");nexacro.__setDOMNodeStyleAbsolute(_m);nexacro.__setDOMNodeStylePos(_m,_h,0);nexacro.__setDOMNodeStyleSize(_m,_i,_c);_m.clip=nexacro._makeImageClipInfo(0,_k,_g,_j);_b.appendChild(_l);var _n=_a.createElement("img");var _m=_n.style;nexacro.__setDOMNodeAlt(_n,"");nexacro.__setDOMNodeStyleAbsolute(_n.style);_m.left=_h+"px";_m.bottom="0px";nexacro.__setDOMNodeStyleSize(_m,_i,_c);_m.clip=nexacro._makeImageClipInfo( -_g+_c,_k,_c,_j);_b.appendChild(_n);this._image_tt_node=_l;this._image_bb_node=_n;};__pEdgeImageElement._updateTopBottom=function(_a,_b,_c,_d,_e){var _f=( -_c);var _g=_b+_c+_c;var _h=_d+_c;var _i=_b-_d+_c;var _j=this._image_tt_node.style;_j.left=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_g,_a);_j.clip=nexacro._makeImageClipInfo(0,_i,_e,_h);var _j=this._image_bb_node.style;_j.left=_f+"px";nexacro.__setDOMNodeStyleSize(_j,_g,_a);_j.clip=nexacro._makeImageClipInfo( -_e+_a,_i,_a,_h);};__pEdgeImageElement._destroyTopBottom=function(_a){if(this._image_tt_node){nexacro.__removeDOMNode(_a,this._image_tt_node);}if(this._image_bb_node){nexacro.__removeDOMNode(_a,this._image_bb_node);}this._image_tt_node=null;this._image_bb_node=null;};__pEdgeImageElement._createCorners=function(_a,_b,_c,_d){var _e=_a.createElement("div");var _f=_e.style;nexacro.__setDOMNodeStylePosLeftTop(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.backgroundPosition="left top";_f.fontSize="1px";_b.appendChild(_e);var _g=_a.createElement("div");_f=_g.style;nexacro.__setDOMNodeStylePosRightTop(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.fontSize="1px";_f.backgroundPosition="right top";_b.appendChild(_g);var _h=_a.createElement("div");_f=_h.style;nexacro.__setDOMNodeStylePosLeftBottom(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.backgroundPosition="left bottom";_f.fontSize="1px";_b.appendChild(_h);var _i=_a.createElement("div");_f=_i.style;nexacro.__setDOMNodeStylePosRightBottom(_f);nexacro.__setDOMNodeStyleSize(_f,_c,_d);_f.backgroundPosition="right bottom";_f.fontSize="1px";_b.appendChild(_i);this._div_lt_node=_e;this._div_rt_node=_g;this._div_lb_node=_h;this._div_rb_node=_i;};__pEdgeImageElement._updateCorners=function(_a,_b){nexacro.__setDOMNodeStyleSize(this._div_lt_node.style,_a,_b);nexacro.__setDOMNodeStyleSize(this._div_rt_node.style,_a,_b);nexacro.__setDOMNodeStyleSize(this._div_lb_node.style,_a,_b);nexacro.__setDOMNodeStyleSize(this._div_rb_node.style,_a,_b);};__pEdgeImageElement._destroyCorners=function(_a){if(this._div_lt_node){nexacro.__removeDOMNode(_a,this._div_lt_node);}if(this._div_rt_node){nexacro.__removeDOMNode(_a,this._div_rt_node);}if(this._div_lb_node){nexacro.__removeDOMNode(_a,this._div_lb_node);}if(this._div_rb_node){nexacro.__removeDOMNode(_a,this._div_rb_node);}this._div_lt_node=null;this._div_rt_node=null;this._div_lb_node=null;this._div_rb_node=null;};__pEdgeImageElement._updateLayout=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this.getRootWindowHandle();var _j=this._applied_edge_type;if(_a){if(_g>_e){_g=_e;}if(_h>_f){_h=_f;}var _k=_e-_g-_g;var _l=_f-_h-_h;var _m=0;var _n=0;var _o=_e/2;var _p=_f/2;if(_g>_o){if(_k<0){_k=_k* -1;}_m=Math.round(_g*((_c-_g-_g)/(_k))-_c+_g);}else{if(_k==0){_m=Math.round(_g*((_c-_g-_g+1)/(_e-_g-_g+1))-_g);}else{_m=Math.round(_g*((_c-_g-_g)/(_e-_g-_g))-_g);}}if(_h>_p){if(_l<0){_l=_l* -1;}_n=Math.round(_h*((_d-_h-_h)/(_l))-_d+_h);}else{if(_l==0){_n=Math.round(_h*((_d-_h-_h+1)/(_f-_h-_h+1))-_h);}else{_n=Math.round(_h*((_d-_h-_h)/(_f-_h-_h))-_h);}}if(_b==0){if(_j==1){this._destroyLeftRight(_a);}else if(_j==2){this._destroyTopBottom(_a);}else if(_j==3){this._destroyLeftRight(_a);this._destroyTopBottom(_a);this._destroyCorners(_a);}var _q=this._image_cc_node.style;nexacro.__setDOMNodeStylePosLeftTop(_q);nexacro.__setDOMNodeStyleUnitSize(_q,"100%","100%");}else if(_b==1){if(_j==1){this._updateLeftRight(_e,_d,_n,_g,_h);}else if(_j==2){this._destroyTopBottom(_a);this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);}else if(_j==3){this._destroyTopBottom(_a);this._destroyCorners(_a);this._updateLeftRight(_e,_d,_n,_g,_h);}else{this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);}}else if(_b==2){if(_j==1){this._destroyLeftRight(_a);this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}else if(_j==2){this._updateTopBottom(_f,_c,_m,_g,_h);}else if(_j==3){this._destroyLeftRight(_a);this._destroyCorners(_a);this._updateTopBottom(_f,_c,_m,_g,_h);}else{this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}}else{if(_j==0){this._createCorners(_i,_a,_g,_h);this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}if(_j==1){this._createCorners(_i,_a,_g,_h);this._updateLeftRight(_e,_d,_n,_g,_h);this._createTopBottom(_i,_a,_f,_c,_m,_g,_h);}else if(_j==2){this._createCorners(_i,_a,_g,_h);this._createLeftRight(_i,_a,_e,_d,_n,_g,_h);this._updateTopBottom(_f,_c,_m,_g,_h);}else{this._updateCorners(_g,_h);this._updateLeftRight(_e,_d,_n,_g,_h);this._updateTopBottom(_f,_c,_m,_g,_h);}}if(_b!=0){_q=this._image_cc_node.style;nexacro.__setDOMNodeStylePos(_q,( -_m),( -_n));nexacro.__setDOMNodeStyleSize(_q,(_c+_m+_m),(_d+_n+_n));_q.clip=nexacro._makeImageClipInfo(_h+_n,_c-_g+_m,_d-_h+_n,_g+_m);}this._applied_edge_type=_b;}};__pEdgeImageElement._updateImgSize=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a){var _j=false,_k=false;if(this._applied_edge_type!=_b){_j=true;_k=true;}else if(this._applied_img_url!=_e){_k=true;}if(_j){this._updateLayout(_a,_b,_c,_d,_f,_g,_h,_i);this._updateURL(_a,_b,_e);}else if(_k){this._updateURL(_a,_b,_e);}}};__pEdgeImageElement._on_notify_imgsize=function(_a,_b,_c){if(!(_b&&_c)){return;}if(_a!=this._img_url){return;}var _d=this._handle;var _e=this._edge_type;this._img_sizereq=false;this._img_width=_b;this._img_height=_c;if(_d&&_e){this._updateImgSize(_d,_e,this.width,this.height,_a,_b,_c,this._edgex,this._edgey);}};__pEdgeImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pEdgeImageElement;}else if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=10)){nexacro._EdgeImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var __pEdgeImageElement=nexacro._createPrototype(nexacro.Element,nexacro._EdgeImageElement);nexacro._EdgeImageElement.prototype=__pEdgeImageElement;__pEdgeImageElement._type_name="_EdgeImageElement";__pEdgeImageElement._node_width=0;__pEdgeImageElement._node_height=0;__pEdgeImageElement._edgex=0;__pEdgeImageElement._edgey=0;__pEdgeImageElement._img_url="";__pEdgeImageElement._is_nc_element=true;__pEdgeImageElement.create=function(_a){var _b=this._parent_elem;if(_b._handle&&!this._handle){this._owner_elem=_b;var _c=_b.getRootWindowHandle();if(_c){var _d=_c.createElement("div");_d.id=this._parent_elem._handle.id+this._type_name;nexacro.__setDOMNodeSelectable(_d,false);var _e=_d.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this._node_width,this._node_height);if(this._img_url){_e.borderColor="transparent";nexacro.__setDOMNodeStyleEdgeBorder(_e,this._img_url,this._edgex,this._edgey);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_e,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_d;if(_a){nexacro.__insertDOMNode(_b._dest_handle,_d,_a._handle);}else{nexacro.__appendDOMNode(_b._dest_handle,_d);}}}};__pEdgeImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=(_a-this._edgex-this._edgex);var _d=(_b-this._edgey-this._edgey);if(this._node_width!=_c||this._node_height!=_d){this._node_width=(_c<0)?0:_c;this._node_height=(_d<0)?0:_d;var _e=this._handle;if(_e){var _f=_e.style;nexacro.__setDOMNodeStyleSize(_f,_c,_d);nexacro.__setDOMNodeStyleEdgeBorder(_f,this._img_url,this._edgex,this._edgey);}}}};__pEdgeImageElement.setElementInfo=function(_a,_b,_c){if(this._img_url!=_a||this._edgex!=_b||this._edgey!=_c){this._img_url=_a;var _d=this._handle;var _e=this.width-_b-_b;var _f=this.height-_c-_c;this._edgex=_b;this._edgey=_c;if(this._node_width!=_e||this._node_height!=_f){this._node_width=(_e<0)?0:_e;this._node_height=(_f<0)?0:_f;var _d=this._handle;if(_d){var _g=_d.style;nexacro.__setDOMNodeStyleSize(_g,_e,_f);nexacro.__setDOMNodeStyleEdgeBorder(_g,this._img_url,_b,_c);}}else if(_d){nexacro.__setDOMNodeStyleEdgeBorder(this._handle.style,this._img_url,_b,_c);}}};__pEdgeImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete __pEdgeImageElement;}nexacro.TextBoxElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextBoxElement=nexacro._createPrototype(nexacro.Element,nexacro.TextBoxElement);nexacro.TextBoxElement.prototype=_pTextBoxElement;_pTextBoxElement._type_name="TextBoxElement";_pTextBoxElement.font=null;_pTextBoxElement.color=null;_pTextBoxElement.cursor=null;_pTextBoxElement.align=null;_pTextBoxElement.halign="left";_pTextBoxElement.valign="top";_pTextBoxElement.padding=null;_pTextBoxElement.padding_left=0;_pTextBoxElement.padding_top=0;_pTextBoxElement.padding_right=0;_pTextBoxElement.padding_bottom=0;_pTextBoxElement.text="";_pTextBoxElement.linespace=0;_pTextBoxElement.wordwrap="none";_pTextBoxElement.decoration="";_pTextBoxElement._cell_node=null;_pTextBoxElement._use_newline=true;_pTextBoxElement._default_textoverflow="ellipsis";if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=7){_pTextBoxElement._createTextElementHandle=function(_a,_b,_c,_d,_e){var _f=_a.createElement("table");var _g=_f.style;_f.cellSpacing=0;_f.cellPadding=0;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,_b,_c);nexacro.__setDOMNodeStyleSize(_g,_d,_e);nexacro.__setTextDOMNodeStyleAlignXY(_g,this.halign,this.valign);var _h=_a.createElement("tbody");var _i=_a.createElement("tr");var _j=_a.createElement("td");_j.style.whiteSpace="pre";_f.appendChild(_h);_h.appendChild(_i);_i.appendChild(_j);nexacro.__setDOMNodeStyleSize(_j.style,_d,_e);this._cell_node=_j;return _f;};_pTextBoxElement._destroyTextElementHandle=function(){};_pTextBoxElement._appendTextElementHandle=function(){};_pTextBoxElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;var _d=this._cell_node;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);nexacro.__setDOMNodeStyleSize(_d.style,_a,_b);}}};}else if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){_pTextBoxElement._createTextElementHandle=function(_a,_b,_c,_d,_e){var _f=_a.createElement("div");var _g=_f.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,_b,_c);nexacro.__setDOMNodeStyleSize(_g,_d,_e);var _h=_a.createElement("div");var _i=_h.style;_i.display="table-cell";_i.whiteSpace="pre";_i.textOverflow=this._default_textoverflow;nexacro.__setDOMNodeStyleSize(_i,_d,_e);this._cell_node=_h;return _f;};_pTextBoxElement._appendTextElementHandle=function(_a,_b){nexacro.__appendDOMNode(_a,_b);};_pTextBoxElement._destroyTextElementHandle=function(){nexacro.__removeDOMNode(this._handle,this._cell_node);};_pTextBoxElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}_c=this._cell_node;if(_c){_c.style.textOverflow="";nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);_c.style.textOverflow=this._default_textoverflow;}}};}_pTextBoxElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=this._createTextElementHandle(_b,this.left,this.top,this.width,this.height);_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;var _e=this._cell_node;var _f=_e.style;var _g=this._isRtl();if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}if(this.align){var _h=this.align._getStyleObject(_g);nexacro.__setDOMNodeStyleAlign(_f,_h);}else if(this.halign&&this.valign){var _i=this.halign;if(_g){_i=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}nexacro.__setDOMNodeStyleAlignXY(_f,_i,this.valign);}if(this.padding){var _j=this.padding._getStyleObject(_g);nexacro.__setDOMNodeStylePadding(_f,_j);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){if(_g){nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_right,this.padding_top,this.padding_left,this.padding_bottom);}else{nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_f,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_e,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_e,this.decoration);}else{nexacro.__setDOMNodeText(_e,this.text,this._use_newline,this.wordwrap);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._appendTextElementHandle(_c,_e);}};_pTextBoxElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}if(this._cell_node){this._destroyTextElementHandle();}this._owner_elem=null;this._handle=this._dest_handle=null;this._cell_node=null;}this.parent=null;this._parent_elem=null;};_pTextBoxElement.setParentElement=function(_a){this.parent=_a;this._parent_elem=_a;};_pTextBoxElement.setElementFont=function(_a){this.font=_a;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStyleFont(_b.style,_a);}};_pTextBoxElement.setElementColor=function(_a){this.color=_a;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStyleColor(_b.style,_a);}};_pTextBoxElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._cell_node;if(_c){_c.style.textOverflow="";nexacro.__setTextDOMNodeStyleAlign(_c.style,_b);_c.style.textOverflow=this._default_textoverflow;}};_pTextBoxElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._cell_node;if(_d){_d.style.textOverflow="";nexacro.__setTextDOMNodeStyleAlignXY(_d.style,_c,_b);_d.style.textOverflow=this._default_textoverflow;}};_pTextBoxElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStylePadding(_b.style,_a);}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8){_pTextBoxElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._cell_node;if(_e){var _f=this.width-_a-_c;var _g=this.height-_b-_d;if(this._isRtl()){nexacro.__setDOMNodeStylePaddingXY(_e.style,_c,_b,_a,_d);}else{nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}nexacro.__setDOMNodeStyleSize(_e.style,_f,_g);}};}else{_pTextBoxElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._cell_node;if(_e){var _f=this.width-_a-_c;var _g=this.height-_b-_d;if(this._isRtl()){nexacro.__setDOMNodeStylePaddingXY(_e.style,_c,_b,_a,_d);}else{nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}nexacro.__setDOMNodeStyleSize(_e.style,_f,_g);}};}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Safari"){_pTextBoxElement.setElementText=function(_a){if(this.text!==_a){if(_a==null){this.text="";}else{this.text=_a.replace(/\r\n|\r/g,"\n");}var _b=this._cell_node;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};}else{_pTextBoxElement.setElementText=function(_a){if(this.text!==_a){if(_a==null){this.text="";}else{this.text=_a.replace(/\r\n|\r|\n/g,"\r\n");}var _b=this._cell_node;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};}_pTextBoxElement.setElementLineSpace=function(_a){if(this.linespace!=_a){this.linespace=_a;var _b=this._cell_node;if(_b){var _c=this._parent_elem.linkedcontrol;if(_c){var _d=nexacro._getTextSize2("Wj",this.font||this._getParentFont());_a=_d[1]+nexacro._toInt(_a);}nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}}};_pTextBoxElement.setElementDecorateText=function(_a){if(this.decoration!=_a){this.decoration=_a;var _b=this._cell_node;if(_b){nexacro.__setDOMNodeStyleDecorateText(_b,_a);}}};_pTextBoxElement.setElementUseNewLine=function(_a){if(this._use_newline!=_a){this._use_newline=_a;var _b=this._cell_node;if(_b){if(this.wordwrap!="none"){return;}nexacro.__setDOMNodeText(cell_node,this.text,this._use_newline,this.wordwrap);}}};_pTextBoxElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){this.wordwrap=_a;var _b=this._cell_node;if(_b){if(_a!="none"){nexacro.__setDOMNodeWordWrap(_b,_a);}else if(this._use_newline){nexacro.__setDOMNodeWordWrap(_b,"none");}else{_b.innerHTML="";nexacro.__setDOMNodeWordWrap(_b,"none");}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_b,this.decoration);}else{nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}}};_pTextBoxElement.setElementTextOverFlow=function(){var _a=this._cell_node;if(_a){nexacro.__setDOMNodeStyleTextOverFlow(_a.style);}};_pTextBoxElement._setElementAccessibilityRole=function(){if(this._handle){nexacro.__setDOMNodeAccessibilityRole(this._handle,"option");}};_pTextBoxElement._setElementAccessibilityLabel=function(){if(this._parent_elem&&this._handle){var _a=this._parent_elem._makeAccessibilityLabelbyReadtype();nexacro.__setDOMNodeAccessibilityLabel(this._handle,_a);}};delete _pTextBoxElement;nexacro.ImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pImageElement=nexacro._createPrototype(nexacro.Element,nexacro.ImageElement);nexacro.ImageElement.prototype=_pImageElement;_pImageElement._type_name="ImageElement";_pImageElement.imageurl="";_pImageElement.image_width=0;_pImageElement.image_height=0;_pImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=5;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);var _e=_b.createElement("img");var _f=_e.style;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){nexacro.__setDOMNodeStyleAbsolute(_f);}nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);nexacro.__setDOMNodeSelectable(_e,false);nexacro.__setDOMNodeAlt(_e,this._parent_elem.accessibility_label?this._parent_elem.accessibility_label:this._parent_elem.linkedcontrol.id);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.imageurl){nexacro.__setImageDOMNodeImageUrl(_e,this.imageurl);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_c;this._image_handle=_e;nexacro.__appendDOMNode(_a._dest_handle,_c);nexacro.__appendDOMNode(_c,_e);}};_pImageElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}if(this._image_handle){nexacro.__removeDOMNode(_a,this._image_handle);}this._owner_elem=null;this._handle=this._dest_handle=null;this._image_handle=null;}this.parent=null;this._parent_elem=null;};_pImageElement.setElementImageUrl=function(_a){var _b=this;while(!_b.linkedcontrol){_b=_b.parent;}var _c=_b.linkedcontrol._lastest_imgurl;var _d=true;if(_c!=undefined){_d=(_c==_a);}if(this.imageurl!=_a&&_d){_a=nexacro._getURIValue(_a);if(this.imageurl==_a){return;}if(_a&&!nexacro._isAbsolutePath(_a)){var _e=this._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_e);if(this.imageurl==_a){return;}}this.imageurl=_a;var _f=this._image_handle;if(_f){nexacro.__setImageDOMNodeImageUrl(_f,_a);}}};_pImageElement.setElementImageBase64=function(_a){if(this.imageurl!=_a){var _b=this._image_handle;this.imageurl=_a;if(_b){nexacro.__setImageDOMNodeImageUrl(_b,_a);}}};_pImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};_pImageElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStylePos(_c.style,_a,_b);}}};_pImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}var _d=this._image_handle;if(_d){nexacro.__setDOMNodeStyleSize(_d.style,_a,_b);}}};_pImageElement.setElementHandleImageObject=nexacro._emptyFn;delete _pImageElement;nexacro.AlignImageElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pAlignImageElement=nexacro._createPrototype(nexacro.Element,nexacro.AlignImageElement);nexacro.AlignImageElement.prototype=_pAlignImageElement;_pAlignImageElement._type_name="AlignImageElement";_pAlignImageElement.align=null;_pAlignImageElement.halign="";_pAlignImageElement.valign="";_pAlignImageElement.imageurl="";if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=7){_pAlignImageElement._image_width=0;_pAlignImageElement._image_height=0;_pAlignImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("img");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=5;nexacro.__setDOMNodeSelectable(_c,false);nexacro.__setDOMNodeAlt(_c,"");var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.imageurl){nexacro.__setImageDOMNodeImageUrl(_c,this.imageurl);}if(this.align){var _e=this.align;nexacro.__setElementHandleAlign(_c,_e.halign,_e.valign);}else if(this.halign&&this.valign){this._setElementAlignXY(_c);}if(this.mirror){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pAlignImageElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._handle;if(_b){this._setElementAlignXY(_b);}};_pAlignImageElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(this._handle){this.setElementAlignXY(this.halign,this.valign);}}};_pAlignImageElement.setElementAlignXY=function(_a,_b){this.align=null;this.halign=_a;this.valign=_b;var _c=this._handle;if(_c){this._setElementAlignXY(_c);}};_pAlignImageElement._setElementAlignXY=function(_a){var _b=0,_c=0,_d=0,_e=0;if(this.width>0){_b=this.imageurl?this._image_width:this.width;var _g=this.halign;if(this._isRtl()){_g=this.halign=="left"?"right":(this.halign=="right"?"left":this.halign);}switch(_g){case "left":_d=0;break;case "right":_d=this.width-_b;break;default:_d=((this.width-_b)/2)|0;break;}}if(this.height>0){_c=this.imageurl?this._image_height:this.height;switch(this.valign){case "top":_e=0;break;case "bottom":_e=this.height-_c;break;default:_e=((this.height-_c)/2)|0;break;}}var _f=_a.style;nexacro.__setDOMNodeStylePos(_f,_d,_e);nexacro.__setDOMNodeStyleSize(_f,_b,_c);};_pAlignImageElement.setElementImageUrl=function(_a){if(this.imageurl!=_a){_a=nexacro._getURIValue(_a);if(this.imageurl==_a){return;}if(_a&&!nexacro._isAbsolutePath(_a)){var _b=this._parent_elem._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_b);if(this.imageurl==_a){return;}}this.imageurl=_a;var _c=nexacro._getImageSize(_a,this._on_loadImg,this);if(_c){this._image_width=_c.width;this._image_height=_c.height;var _d=this._handle;if(_d){nexacro.__setImageDOMNodeImageUrl(_d,_a);this.setElementAlignXY(this.halign,this.valign);}}}};_pAlignImageElement._on_loadImg=function(_a,_b,_c){var _d=this._handle;this._image_width=_b;this._image_height=_c;if(_d&&this.imageurl==_a){nexacro.__setImageDOMNodeImageUrl(_d,_a);this.setElementAlignXY(this.halign,this.valign);}};}else{_pAlignImageElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=6;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;_d.position="absolute";nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);_d.backgroundRepeat="no-repeat";if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.align){nexacro.__setBKImageDOMNodeStyleAlign(_d,this.align);}else if(this.halign&&this.valign){nexacro.__setBKImageDOMNodeStyleAlignXY(_d,this.halign,this.valign);}if(this.imageurl){nexacro.__setBKImageDOMNodeStyleImageUrl(_d,this.imageurl);}if(this._owner_elem.mirror){nexacro.__setDOMNodeStyleTransformMirror(_d,this._owner_elem.mirror&&this._isRtl());}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pAlignImageElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._handle;if(_b){nexacro.__setBKImageDOMNodeStyleAlign(_b.style,_a);}};_pAlignImageElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._handle;if(_d){nexacro.__setBKImageDOMNodeStyleAlignXY(_d.style,_c,_b);}};_pAlignImageElement.setElementImageUrl=function(_a){if(this.imageurl!=_a){_a=nexacro._getURIValue(_a);if(this.imageurl==_a){return;}if(_a&&!nexacro._isAbsolutePath(_a)){var _b=this._parent_elem._getElementBaseUrl();_a=nexacro._getImageLocation(_a,_b);if(this.imageurl==_a){return;}}this.imageurl=_a;var _c=this._handle;if(_c){nexacro.__setBKImageDOMNodeStyleImageUrl(_c.style,_a);}}};}_pAlignImageElement.setElementImageMirror=function(_a,_b){var _c=this.mirror;if(_a){_c=nexacro._toBoolean(_a._value);}if(this.mirror!=_c||_b){this.mirror=_c;var _d=this._handle;if(_d){nexacro.__setDOMNodeStyleTransformMirror(_d.style,this.mirror&&this._isRtl());}}};delete _pAlignImageElement;nexacro.InputElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pInputElement=nexacro._createPrototype(nexacro.Element,nexacro.InputElement);nexacro.InputElement.prototype=_pInputElement;_pInputElement._type_name="InputElement";_pInputElement.enable=true;_pInputElement.tabindex= -1;_pInputElement.font=null;_pInputElement.color=null;_pInputElement.cursor=null;_pInputElement.align=null;_pInputElement.halign="";_pInputElement.valign="";_pInputElement.padding=null;_pInputElement.padding_left=0;_pInputElement.padding_top=0;_pInputElement.padding_right=0;_pInputElement.padding_bottom=0;_pInputElement.useime="global";_pInputElement.imemode="auto";_pInputElement.readonly=false;_pInputElement.maxlength= -1;_pInputElement.password=false;_pInputElement.text="";_pInputElement.value="";_pInputElement.displaynulltext="";_pInputElement.color=null;_pInputElement.caretcolor=null;_pInputElement.selectcolor=null;_pInputElement.selectbackground=null;_pInputElement.compositecolor=null;_pInputElement.tabindentsize=4;_pInputElement.usemultiline=false;_pInputElement.linespace=0;_pInputElement.wordwrap="none";_pInputElement.type="normal";_pInputElement._handle=null;_pInputElement._input_handle=null;_pInputElement._display_elem=null;_pInputElement._type="text";_pInputElement._prev_x=0;_pInputElement._is_focused=false;_pInputElement._is_focusing=false;_pInputElement._accept_keyinput=false;_pInputElement._accept_blur_by_altkey=false;_pInputElement._is_mousedown=false;_pInputElement._is_input_touchstart=false;_pInputElement._isUseDelCaret=false;_pInputElement.setInputElementCompositeClear=nexacro._emptyFn;_pInputElement._isPreventDefault=function(_a,_b){_a=_a._getFromComponent(_a);return (_a[_b]&&_a[_b].defaultprevented);};_pInputElement._setElementInputRole=function(){var _a=this._parent_elem.accessibility_role;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeAccessibilityRole(_b,_a);}};_pInputElement._setElementInputLabel=function(){var _a=this._parent_elem._makeAccessibilityLabelbyReadtype();var _b=this._input_handle;if(_b){nexacro.__setDOMNodeAccessibilityLabel(_b,_a);}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){_pInputElement._wantAccessibilityAdditionalLabel=function(){var _a=this._parent_elem.accessibility_role;switch(_a){case "document":case "spinbutton":return false;break;default:return true;break;}};}else if(nexacro.Browser=="Chrome"){_pInputElement._wantAccessibilityAdditionalLabel=function(){return true;};}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pInputElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="";if(this.halign&&this.valign){var _c=nexacro._getTextSize2("Wj",this.font||this._getParentFont());_b=nexacro.__getInputHTMLStyleAlignXY(this.halign,this.valign,this.height,_c[1]);}var _d=nexacro.__getHTMLAttrEnable(this.enable)+nexacro.__getHTMLAttrReadOnly(this.readonly)+nexacro.__getHTMLAttrTabIndex(this.tabindex)+nexacro.__getHTMLAttrTabIndentSize(this.tabindentsize);var _e=nexacro.__getHTMLStyleAbsoluteTransparent()+nexacro.__getHTMLStylePos(0,0)+nexacro.__getHTMLStyleSize(this.width,this.height)+"border:none;outline:none;"+nexacro.__getHTMLStyleFont(this.font)+nexacro.__getHTMLStyleColor(this.color)+_b+nexacro.__getHTMLStyleCursor(this.cursor,"text")+nexacro.__getHTMLStylemeMode(this.imemode);var _f="";if(this.password&&this.maxlength>0){var _f=nexacro.__getHTMLAttrMaxLength(this.maxlength);}var _g=" type='"+this._type+"'";var _h=" value='"+(this.text?nexacro._encodeXml(this.text):"")+"'";var _i=" id='"+this.parent._handle.id+"_input'";var _j="<input"+_f+_g+_i+_d+_h+" style='"+_e+"'/>";_a.innerHTML=_j;var _k=_a.firstChild;_k._linked_element=this;if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_k,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_k,this._parent_elem.accessibility_role);}return _k;}};}else{_pInputElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="input";var _c=this._owner_elem.getRootWindowHandle();var _d=_c.createElement(_b);_d._linked_element=this;nexacro.__setDOMNodeId(_d,this.parent._handle.id,"_"+_b);if(!this.enable){nexacro.__setDOMNodeEnable(_d,false);}if(this.readonly){nexacro.__setDOMNodeReadOnly(_d,true);}if(this.tabindex>= -1){nexacro.__setDOMNodeTabIndex(_d,this.tabindex);}if(this._type){nexacro.__changeInputDOMNodeType(_d,this._type);}if(this.password&&this.maxlength>0){nexacro.__setDOMNodeMaxLength(_d,this.maxlength);}var _e=_d.style;_e.border="none";_e.outline="none";nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);nexacro.__setDOMNodeStyleCursor(_e,this.cursor,"text");if(this.font){nexacro.__setDOMNodeStyleFont(_e,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_e,this.color);}if(this.halign&&this.valign){var _f=nexacro._getTextSize2("Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_e,this.halign,this.valign,this.height,this.width,_f[1]);}if(this.tabindentsize>4){nexacro.__setDOMNodeTabIndentSize(_d,this.tabindentsize);}if(this.text){nexacro.__setDOMNodeValue(_d,this.text);}if(this.imemode){nexacro.__setDOMNodeImeMode(_d,this.imemode);}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11&&nexacro.SystemLang=="ko-KR"){if(this.type){if(this.type.indexOf("normal")== -1&&this.type.indexOf("full")== -1){nexacro.__setDOMNodeImeMode(_d,"disabled");}else{nexacro.__setDOMNodeImeMode(_d,this.imemode);}}}nexacro.__appendDOMNode(_a,_d);if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_d,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_d,this._parent_elem.accessibility_role);}return _d;}};};_pInputElement._destroyInputHandle=function(){if(this._input_handle){this._input_handle._linked_element=null;nexacro.__removeDOMNode(this._dest_handle,this._input_handle);this._input_handle=null;}};_pInputElement._createPlaceHolderElement=function(_a){var _b=this._display_elem;if(this._handle&&!_b){var _b=this._display_elem=new nexacro.TextBoxElement(this);_b.setElementSize(this.width,this.height);_b.setElementFont(this.font);_b.setElementColor(this.color);_b.setElementAlignXY(this.halign,this.valign);_b.setElementVisible(!!_a);_b.setElementText(this.displaynulltext);_b.create();nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_b._handle,true);if(nexacro.SupportTouch&&nexacro.isTouchInteraction){nexacro._observeSysEvent(_b._handle,"touchstart","ontouchstart",this._inputhandler_displayelement_ontouchstart_forward);}return _b;}};_pInputElement._destroyPlaceHolderElement=function(){if(this._display_elem){this._display_elem.destroy();this._display_elem=null;}};_pInputElement._createFakeFocusElement=function(){var _a=this._fake_input_handle;if(this._handle&&!_a){var _b=document.createElement("input");_b.type="text";var _c=_b.style;nexacro.__setDOMNodeTabIndex(_b, -1);nexacro.__setDOMNodeStyleAbsolute(_c);nexacro.__setDOMNodeStylePos(_c,0, -10);nexacro.__setDOMNodeStyleSize(_c,1,1);_c.opacity=0;_c.border="0px solid #ffffff";this._fake_input_handle=_b;nexacro.__appendDOMNode(this._handle,_b);}};_pInputElement._destroyFakeFocusElement=function(){if(this._fake_input_handle){nexacro.__removeDOMNode(this._handle,this._fake_input_handle);this._fake_input_handle=null;}};_pInputElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){var _b=this._handle;var _c=_a.getRootWindowHandle();if(!_b){this._owner_elem=_a;_b=_c.createElement("div");_b.id=this._parent_elem._handle.id+this._type_name;_b._linked_element=this;_b._element_type=7;var _d=_b.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_d,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}nexacro.__setDOMNodeStyleCursor(_d,this.cursor);this._handle=this._dest_handle=_b;nexacro.__appendDOMNode(_a._dest_handle,_b);this._input_handle=this._createInputHandle();}var _e=this._display_elem;if(this.displaynulltext&&!_e){this._createPlaceHolderElement(this.value?false:true);}}};_pInputElement.destroy=function(){this._destroyPlaceHolderElement();this._destroyInputHandle();if(this._input_handle){this._input_handle._linked_element=null;nexacro.__removeDOMNode(this._dest_handle,this._input_handle);this._input_handle=null;}this.color=null;this.cursor=null;this.font=null;this.padding=null;this.selectbackground=null;this.selectcolor=null;return nexacro.Element.prototype.destroy.call(this);};_pInputElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStylePos(_c.style,_a,_b);}var _d=this._input_handle;if(_d){nexacro.__setDOMNodeStylePos(_d.style,_a,_b);}var _e=this._display_elem;if(_e){_e.setElementPosition(_a,_b);}}};_pInputElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}var _d=this._input_handle;if(_d){var _e=this.getElementCaretPos();nexacro.__setDOMNodeStyleSize(_d.style,_a,_b);this.setElementAlignXY(this.halign,this.valign);var _f=this.getElementCaretPos();if((_e!= -1&&_f!= -1)&&(_e.begin!=_f.begin||_e.end!=_f.end)){this.setElementSetSelect(0,0);this.setElementSetSelect(_e.begin,_e.end);}}var _g=this._display_elem;if(_g){_g.setElementSize(_a,_b);}}};_pInputElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._parent_elem.linkedcontrol;var _c=this._input_handle;if(_c){nexacro.__setDOMNodeEnable(_c,_a);if(nexacro.OS=="iOS"&&_b){var _d=_b.on_find_CurrentStyle_color(_b._pseudo);if(_a){_c.style.opacity="";_c.style.webkitTextFillColor="";}else{_c.style.opacity=1;_c.style.webkitTextFillColor=_d._syscolor;}}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==9){this._isUseDelCaret=_a?false:true;this._deleteCaret();}}}};_pInputElement.setElementTabIndex=function(_a){if(this.tabindex!=_a){this.tabindex=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeTabIndex(_b,_a);}}};_pInputElement.setElementFont=function(_a){this.font=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleFont(_b.style,_a);}var _c=this._display_elem;if(_c){_c.setElementFont(_a);}};_pInputElement.setElementColor=function(_a){this.color=_a;var _b=this._parent_elem.linkedcontrol;var _c=this._input_handle;if(_c){if(nexacro.OS=="iOS"&&_b){if(_b.enable){_c.style.webkitTextFillColor="";nexacro.__setDOMNodeStyleColor(_c.style,_a);}else{_c.style.webkitTextFillColor=_a._syscolor;}}else{nexacro.__setDOMNodeStyleColor(_c.style,_a);}}var _d=this._display_elem;if(_d){_d.setElementColor(_a);}};_pInputElement.setElementCursor=function(_a){this.cursor=_a;var _b=_a;var _c=this._handle;var _d=this._input_handle;if(_c&&_d){if(!this.readonly&&this.enable&&_b&&_b._value=="auto"){_b=nexacro._getCachedStyleObj("cursor","text");}nexacro.__setDOMNodeStyleCursor(_c.style,_b);nexacro.__setDOMNodeStyleCursor(_d.style,_b);}var _e=this._display_elem;if(_e){_e.setElementCursor(_b);}};_pInputElement.setElementAlign=function(_a){var _b=_a?_a._getStyleObject(this._isRtl()):null;this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _c=this._input_handle;if(_c){var _e=this.padding;var _f=_e?this.width-_e.left-_e.right:this.width;var _g=nexacro._getTextSize2("Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_c.style,_b._halign,_b._valign,this.height,_f,_g[1]);}var _d=this._display_elem;if(_d){_d.setElementAlign(_a);}};_pInputElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._input_handle;if(_d){var _f=this.padding;var _g=_f?this.width-_f.left-_f.right:this.width;if(_g<0){_g=0;}var _h=nexacro._getTextSize2("Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_d.style,_c,_b,this.height,_g,_h[1]);}var _e=this._display_elem;if(_e){_e.setElementAlignXY(_a,_b);}};_pInputElement.setElementPadding=function(_a){this.padding=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStylePadding(_b.style,_a);}var _c=this._display_elem;if(_c){_c.setElementPadding(_a);}};_pInputElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._input_handle;if(_e){nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}};_pInputElement.setElementValue=function(_a,_b,_c){var _d=this._input_handle;var _e=this._parent_elem.linkedcontrol;var _f=_e._edit_base_api;if(!_e._is_alive){return;}var _g=(this.value===_a)?false:true;var _h=(_a=="")?true:false;if(_f){this.text=_f._text;}else{this.text=_a;}this.value=_a;if(_c){return;}if(_d){var _i=nexacro.__getDOMNodeValue(_d);var _j=(this.text==_i)?false:true;if(_g||_j||_h||_b){this._updateInputValue();}}};_pInputElement._updateInputValue=function(){var _a=this._input_handle;var _b=this._display_elem;var _c=this._parent_elem.linkedcontrol;var _d=_c._edit_base_api;var _e=this.displaynulltext;var _f=nexacro._checkActiveElement(this);if(this.value!==undefined&&this.value!==null){this._setInputVisible(true);nexacro.__setDOMNodeValue(_a,this.text);}else if(!_f&&_e&&_e.length>0){this._setInputVisible(false);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8&&_c._is_subcontrol&&(_c._displaymode||_c.parent._displaymode)){nexacro.__setDOMNodeValue(_a,_e);}else{nexacro.__setDOMNodeValue(_a,this.text);_b.setElementText(_e);}}else{this._setInputVisible(true);if(_d&&(_d._type_name=="EditMaskString"||_d._type_name=="EditMaskNumber")){nexacro.__setDOMNodeValue(_a,this.text);}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8&&_c._is_subcontrol&&(_c._displaymode||_c.parent._displaymode)){nexacro.__setDOMNodeValue(_a," ");}else{nexacro.__setDOMNodeValue(_a,"");}}}};_pInputElement.setElementDisplayNullText=function(_a){var _b=this._handle;var _c=this._input_handle;var _d=false;if(this.displaynulltext!=_a){_d=true;this.displaynulltext=_a;}if(_b&&_c){var _e=this._display_elem;if(_a){if(!_e){this._createPlaceHolderElement(false);}}else{if(_e){this._destroyPlaceHolderElement();}}if(_d&&nexacro._isNull(this.value)){this._updateInputValue();}}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9){_pInputElement._setInputVisible=function(_a){if(this._input_visible!=_a){this._input_visible=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}var _c=this._display_elem;if(_c){_c.setElementVisible(!_a);}}};}else if(nexacro.Browser=="MobileSafari"){_pInputElement._setInputVisible=function(_a){var _b=this._input_handle;if(_b){if(!(nexacro._enableaccessibility&&nexacro._accessibilitytype==4)){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}}var _c=this._display_elem;if(_c){if(!_a){_c.setElementSize(this.width,this.height);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){nexacro.__setDOMNodeAccessibilityLabel(this._input_handle,this._parent_elem.accessibility_label+" "+this.displaynulltext);}}else{_c.setElementSize(0,0);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){nexacro.__setDOMNodeAccessibilityLabel(this._input_handle,this._parent_elem.accessibility_label);}}_c.setElementVisible(!_a);}};}else{_pInputElement._setInputVisible=function(_a){var _b=this._input_handle;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}var _c=this._display_elem;if(_c){if(!_a){_c.setElementSize(this.width,this.height);}else{_c.setElementSize(0,0);}_c.setElementVisible(!_a);}};}_pInputElement.setElementMaxLength=function(_a){if(this.maxlength!=_a){this.maxlength=_a;var _b=this._input_handle;if(_b){if(this.password&&_a>0){nexacro.__setDOMNodeMaxLength(_b,_a);}else{_b.removeAttribute("maxlength");}}}};_pInputElement.setElementReadonly=function(_a){if(this.readonly!=_a){this.readonly=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeReadOnly(_b,_a);if(_a){this._deleteCaret();}}}};_pInputElement.setElementCaretColor=function(_a){this.caretcolor=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeCaretColor(_b,_a);}};_pInputElement.setElementSelectColor=function(_a){this.selectcolor=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeSelectColor(_b,_a);}};_pInputElement.setElementSelectBackgroundColor=function(_a){this.selectbackground=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeSelectBackgroundColor(_b,_a);}};_pInputElement.setElementCompositeColor=function(_a){this.compositecolor=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeCompositeColor(_b,_a);}};_pInputElement.setElementTabindentSize=function(_a){this.tabindentsize=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeTabIndentSize(_b,_a);}};_pInputElement.setElementLineSpace=function(_a){};_pInputElement.setElementWordWrap=function(_a){};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_pInputElement.setElementPassword=function(_a){if(this.password!=_a){this.password=_a;this._type=_a?"password":"text";var _b=this.maxlength;var _c=this._input_handle;if(_c){var _d=nexacro.__changeInputDOMNodeType(_c,this._type);if(_a){if(_b>0){nexacro.__setDOMNodeMaxLength(_d,_b);}else{_d.removeAttribute("maxlength");}}else{_d.removeAttribute("maxlength");}if(_d!=_c){this._unBindEvent();_d._linked_element=this;this._input_handle=_d;this._bindEvent();if(this._is_focused){this.setElementFocus();}}}}};}else{_pInputElement.setElementPassword=function(_a){if(this.password!=_a){this.password=_a;this._type=_a?"password":"text";var _b=this.maxlength;var _c=this._input_handle;if(_c){nexacro.__changeInputDOMNodeType(_c,this._type);if(_a){if(_b>0){nexacro.__setDOMNodeMaxLength(_c,_b);}else{_c.removeAttribute("maxlength");}}else{_c.removeAttribute("maxlength");}}}};}if(nexacro.SupportTouch&&nexacro.isTouchInteraction){_pInputElement.setElementInputType=function(_a){if(_a=="number"){_a="tel";}else if(_a!=="date"){_a="text";}if(this._type!=_a){this._type=_a;var _b=this._input_handle;if(_b){nexacro.__changeInputDOMNodeType(_b,this._type);}}};}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11&&nexacro.SystemLang=="ko-KR"){_pInputElement.setElementInputType=function(_a){var _b=this._input_handle;if(_b){if(_a.indexOf("normal")== -1&&_a.indexOf("full")== -1){nexacro.__setDOMNodeImeMode(_b,"disabled");}else{nexacro.__setDOMNodeImeMode(_b,this.imemode);}}this.type=_a;this._type="text";};}else{_pInputElement.setElementInputType=function(_a){this._type="text";};}}_pInputElement.setElementUseIme=function(_a){if(this.useime!=_a){this.useime=_a;}};_pInputElement.setElementImeMode=function(_a){if(this.imemode!=_a){this.imemode=_a;var _b=this._input_handle;if(_b){nexacro.__setDOMNodeImeMode(_b,_a);}}};_pInputElement.setElementFocus=function(_a){var _b=this._input_handle;if(_b){this._is_focusing=true;this._setInputVisible(true);if(nexacro.isTouchInteraction){if(!this._is_input_touchstart){var _c=this._parent_elem.linkedcontrol;if(nexacro.OS=="iOS"&&_c){nexacro.OnceCallbackTimer.callonce(_c,function(){nexacro.__setInputDOMNodeFocus(_b);});}else{nexacro.__setInputDOMNodeFocus(_b);}}this._is_input_touchstart=false;}else{nexacro.__setInputDOMNodeFocus(_b);}nexacro.__setLastFocusedElement(this);}};_pInputElement.setElementBlur=function(){var _a=this._input_handle;if(_a){nexacro.__setDOMNodeBlur(_a);}};_pInputElement.setElementSetSelect=function(_a,_b){var _c=this._input_handle;if(_c){var _d=this.getRootWindowHandle();var _e=this.getElementValue();var _f=_e.length;_b=(_b== -1?_f:_b);var _g=_b-_a;if(_d){if(_g==_f){if(nexacro.isTouchInteraction&&nexacro.OS=="iOS"){nexacro.__setDOMNodeSetSelect(_d,_c,_a,_b);}else{nexacro.__setDOMNodeSelect(_d,_c);}}else{nexacro.__setDOMNodeSetSelect(_d,_c,_a,_b);}}}};_pInputElement.getElementId=function(){var _a=this._input_handle;if(_a){return _a.id;}return  -1;};_pInputElement.inputElementAttributefillter=function(_a){if(_a=="accesskey"){return "accessKey";}else if(_a=="contenteditable"){return "contentEditable";}else if(_a=="tabindex"){return "tabIndex";}else{return _a;}};_pInputElement.getInputElementAttribute=function(_a){var _b=this._input_handle;if(_b){var _c=_b[this.inputElementAttributefillter(_a)];if(_c){return _c;}else{return undefined;}}return undefined;};_pInputElement.setInputElementAttribute=function(_a,_b){var _c=this._input_handle;if(_c){_a=this.inputElementAttributefillter(_a);if(_a){_c.setAttribute(_a,_b);return true;}else{return false;}}return false;};_pInputElement.getElementCaretPos=function(){var _a=this._input_handle;var _b=nexacro._checkActiveElement(this);if(_a&&_b){var _c=this.getRootWindowHandle();if(_c){return nexacro.__getDOMNodeCaretPos(_c,_a);}}return  -1;};_pInputElement.getElementSelectionRange=function(){var _a=this._input_handle;var _b=this.getRootWindowHandle();if(_a&&_b){var _c=nexacro.__getDOMNodeCaretPos(_b,_a);return [_c.begin,_c.end];}return [0,0];};_pInputElement.getCaretLine=function(){return 1;};_pInputElement.getScrollLeft=function(){var _a=this._input_handle;if(_a){if(nexacro.Browser=="Edge"){return _a.scrollLeft+3;}else{return _a.scrollLeft;}}return 0;};_pInputElement.setScrollLeft=function(_a){var _b=this._input_handle;if(_b){_b.scrollLeft=_a;}};_pInputElement.getScrollTop=function(){var _a=this._input_handle;if(_a){return _a.scrollTop;}return 0;};_pInputElement.setScrollTop=function(_a){var _b=this._input_handle;if(_b){_b.scrollTop=_a;}};_pInputElement.getScrollWidth=function(){var _a=this._input_handle;if(_a){return _a.scrollWidth;}return 0;};_pInputElement.getScrollHeight=function(){var _a=this._input_handle;if(_a){return (_a.clientHeight>_a.scrollHeight?_a.clientHeight:_a.scrollHeight);}return 0;};_pInputElement.getElementValue=function(){var _a=this._input_handle;if(_a){return nexacro.__getDOMNodeValue(_a);}return "";};_pInputElement.setElementAccessibilityRole=function(_a){var _b=nexacro._roleList[_a];var _c=this._input_handle;if(_c){nexacro.__setDOMNodeAccessibilityRole(_c,_b);}};_pInputElement._checkActiveElement=function(){var _a=this._input_handle;var _b=true;if(_a){_b=nexacro._checkActiveElement(this);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pInputElement._bindEvent=function(){var _a=this._input_handle;if(typeof _a.onpropertychange!=="undefined"){_a.attachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);}else{nexacro._observeSysEvent(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._observeSysEvent(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._observeSysEvent(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._observeSysEvent(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);}nexacro._observeSysEvent(_a,"focus","onfocus",this._inputhandler_onfocus_forward);nexacro._observeSysEvent(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._observeSysEvent(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._observeSysEvent(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._observeSysEvent(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._observeSysEvent(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._observeSysEvent(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._observeSysEvent(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._observeSysEvent(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._observeSysEvent(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._observeSysEvent(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._observeSysEvent(_a,"select","onselect",this._inputhandler_onselect_forward);};_pInputElement._unBindEvent=function(){var _a=this._input_handle;if(_a){if(typeof _a.onpropertychange!=="undefined"){_a.detachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);if(_a.type!="password"){nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}}else{nexacro._stopSysObserving(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._stopSysObserving(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._stopSysObserving(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._stopSysObserving(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}nexacro._stopSysObserving(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._stopSysObserving(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._stopSysObserving(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._stopSysObserving(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._stopSysObserving(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._stopSysObserving(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._stopSysObserving(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._stopSysObserving(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._stopSysObserving(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._stopSysObserving(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._stopSysObserving(_a,"select","onselect",this._inputhandler_onselect_forward);}};_pInputElement._inputhandler_onkeyinput_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;if(_a.propertyName===undefined||_a.propertyName=="value"){return nexacro._inputhandler_onkeyinput(_b,_a);}};_pInputElement._inputhandler_oncopy_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncopy(_b,_a);};_pInputElement._inputhandler_oncut_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncut(_b,_a);};_pInputElement._inputhandler_onpaste_forward=function(_a){application._is_input_paste=true;if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onpaste(_b,_a);};_pInputElement._inputhandler_oncompositionstart_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncompositionstart(_b,_a);};_pInputElement._inputhandler_oncompositionupdate_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncompositionupdate(_b,_a);};_pInputElement._inputhandler_oncompositionend_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_oncompositionend(_b,_a);};_pInputElement._inputhandler_onfocus_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onfocus(_b,_a);};_pInputElement._inputhandler_onblur_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onblur(_b,_a);};_pInputElement._inputhandler_onkeypress_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onkeypress(_b,_a);};_pInputElement._inputhandler_onmousedown_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onmousedown(_b,_a);};_pInputElement._inputhandler_onmouseup_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;if(_a.button==2){application._input_paste_comp=_b._linked_element._parent_elem.linkedcontrol;}return nexacro._inputhandler_onmouseup(_b,_a);};_pInputElement._inputhandler_lock_onmouseup_forward=nexacro._emptyFn;_pInputElement._inputhandler_onmousemove_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onmousemove(_b,_a);};_pInputElement._inputhandler_lock_onmousemove_forward=nexacro._emptyFn;_pInputElement._inputhandler_ontouchstart_forward=function(_a){};_pInputElement._inputhandler_ontouchend_forward=function(_a){};_pInputElement._inputhandler_ontouchmove_forward=function(_a){};_pInputElement._inputhandler_onkeydown_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onkeydown(_b,_a);};_pInputElement._inputhandler_onkeyup_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onkeyup(_b,_a);};_pInputElement._inputhandler_onselect_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;return nexacro._inputhandler_onselect(_b,_a);};if(nexacro.OSVersion>=6.0){_pInputElement._on_sys_keyinput=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){return;}if(nexacro.BrowserVersion==8){if(this._accept_keyinput||this._is_keydown){_e._on_input_keyinput(this);}else{this._accept_keyinput=true;}}else{_e._on_input_keyinput(this);}};}else{_pInputElement._on_sys_keyinput=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){return;}var _f=false;if(this._accept_keyinput||this._is_keydown){if(_e._edit_base_api._is_selected()&&_e._edit_base_api._keycode!=nexacro.KeyCode_ImeInput&&_e._edit_base_api._keycode!=8&&_e._edit_base_api._keycode!=46){_f=true;}_e._on_input_keyinput(this);this._accept_keyinput=_f;}};}_pInputElement._on_sys_copy=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_copy(this);};_pInputElement._on_sys_cut=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_cut(this);};_pInputElement._on_sys_paste=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_paste(this);};_pInputElement._on_sys_compositionstart=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionstart(_a);};_pInputElement._on_sys_compositionupdate=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionupdate(_a);};_pInputElement._on_sys_compositionend=function(_a){var _b=this._parent_elem.linkedcontrol;var _c=this;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionend(_a);if(!(_a==""||_b._edit_base_api._is_hangul(_a))){nexacro.OnceCallbackTimer.callonce(_b,function(){_c._on_sys_keyinput(this);});}};}else{_pInputElement._bindEvent=function(){var _a=this._input_handle;if(typeof _a.onpropertychange!=="undefined"){_a.attachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);}else{nexacro._observeSysEvent(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._observeSysEvent(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._observeSysEvent(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._observeSysEvent(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);}nexacro._observeSysEvent(_a,"focus","onfocus",this._inputhandler_onfocus_forward);nexacro._observeSysEvent(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._observeSysEvent(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._observeSysEvent(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._observeSysEvent(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._observeSysEvent(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._observeSysEvent(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._observeSysEvent(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._observeSysEvent(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._observeSysEvent(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._observeSysEvent(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._observeSysEvent(_a,"select","onselect",this._inputhandler_onselect_forward);};_pInputElement._unBindEvent=function(){var _a=this._input_handle;if(_a){if(typeof _a.onpropertychange!=="undefined"){_a.detachEvent("onpropertychange",this._inputhandler_onkeyinput_forward);if(_a.type!="password"){nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}}else{nexacro._stopSysObserving(_a,"input","oninput",this._inputhandler_onkeyinput_forward);nexacro._stopSysObserving(_a,"compositionstart","oncompositionstart",this._inputhandler_oncompositionstart_forward);nexacro._stopSysObserving(_a,"compositionupdate","oncompositionupdate",this._inputhandler_oncompositionupdate_forward);nexacro._stopSysObserving(_a,"compositionend","oncompositionend",this._inputhandler_oncompositionend_forward);nexacro._stopSysObserving(_a,"focus","onfocus",this._inputhandler_onfocus_forward);}nexacro._stopSysObserving(_a,"blur","onblur",this._inputhandler_onblur_forward);nexacro._stopSysObserving(_a,"mousedown","onmousedown",this._inputhandler_onmousedown_forward);nexacro._stopSysObserving(_a,"mouseup","onmouseup",this._inputhandler_onmouseup_forward);nexacro._stopSysObserving(_a,"mousemove","onmousemove",this._inputhandler_onmousemove_forward);nexacro._stopSysObserving(_a,"keydown","onkeydown",this._inputhandler_onkeydown_forward);nexacro._stopSysObserving(_a,"keypress","onkeypress",this._inputhandler_onkeypress_forward);nexacro._stopSysObserving(_a,"keyup","onkeyup",this._inputhandler_onkeyup_forward);nexacro._stopSysObserving(_a,"copy","oncopy",this._inputhandler_oncopy_forward);nexacro._stopSysObserving(_a,"cut","oncut",this._inputhandler_oncut_forward);nexacro._stopSysObserving(_a,"paste","onpaste",this._inputhandler_onpaste_forward);nexacro._stopSysObserving(_a,"select","onselect",this._inputhandler_onselect_forward);}};_pInputElement._inputhandler_oncopy_forward=function(_a){application._is_input_paste=true;if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncopy(_b,_a);};_pInputElement._inputhandler_oncut_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncut(_b,_a);};_pInputElement._inputhandler_onpaste_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;application._is_input_paste=true;return nexacro._inputhandler_onpaste(_b,_a);};_pInputElement._inputhandler_onkeyinput_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeyinput(_b,_a);};_pInputElement._inputhandler_oncompositionstart_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncompositionstart(_b,_a);};_pInputElement._inputhandler_oncompositionupdate_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncompositionupdate(_b,_a);};_pInputElement._inputhandler_oncompositionend_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_oncompositionend(_b,_a);};_pInputElement._inputhandler_onfocus_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onfocus(_b,_a);};_pInputElement._inputhandler_onblur_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onblur(_b,_a);};_pInputElement._inputhandler_onkeypress_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeypress(_b,_a);};_pInputElement._inputhandler_onmousedown_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onmousedown(_b,_a);};_pInputElement._inputhandler_onmouseup_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;if(_a.button==2){application._input_paste_comp=_b._linked_element._parent_elem.linkedcontrol;}return nexacro._inputhandler_onmouseup(_b,_a);};_pInputElement._inputhandler_lock_onmouseup_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;if(_a.button==2){application._input_paste_comp=_b._linked_element._parent_elem.linkedcontrol;}return nexacro._inputhandler_lock_onmouseup(_b,_a);};_pInputElement._inputhandler_onmousemove_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onmousemove(_b,_a);};_pInputElement._inputhandler_lock_onmousemove_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_lock_onmousemove(_b,_a);};_pInputElement._inputhandler_onkeydown_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeydown(_b,_a);};_pInputElement._inputhandler_onkeyup_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onkeyup(_b,_a);};_pInputElement._inputhandler_onselect_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;return nexacro._inputhandler_onselect(_b,_a);};_pInputElement._on_sys_keyinput=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_keyinput(this);};_pInputElement._on_sys_copy=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_copy(this);};_pInputElement._on_sys_cut=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_cut(this);};_pInputElement._on_sys_paste=function(){var _a=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_a,"onkeydown")){return;}if(!_a._is_alive){return;}_a._on_input_paste(this);};_pInputElement._on_sys_compositionstart=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionstart(_a);};_pInputElement._on_sys_compositionupdate=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionupdate(_a);};_pInputElement._on_sys_compositionend=function(_a){var _b=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_b,"onkeydown")){return;}if(!_b._is_alive){return;}_b._on_input_compositionend(_a);};}_pInputElement._inputhandler_displayelement_ontouchstart_forward=function(_a){var _b=this._linked_element.parent;var _c=_b._parent_elem.linkedcontrol;var _d=_c._getWindow();var _e=_d.getCurrentFocusPaths();var _f=_c;while(_f&&_f._is_nc_control){_f=_f.parent;}if(!_f){return;}if(_e){focuspath_index=nexacro._indexOf(_e,_f);}if(focuspath_index> -1){_b._setInputVisible(true);}};_pInputElement._on_sys_focus=function(_a){var _b=this._parent_elem.linkedcontrol;var _c=_b._edit_base_api;var _d=_b._getWindow();if(_d._is_active_window){var _f=_d.getCurrentFocusPaths();var _g=_b;while(_g&&_g._is_nc_control){_g=_g.parent;}if(!_g){return;}_g=_g._getRootComponent(_g);var _h= -1;if(_f){_h=nexacro._indexOf(_f,_g);}if(_h== -1){var _i=_f?_f[_f.length-1]:null;if(_i){_i._re_focus=true;if(nexacro.Browser=="Safari"){if(_c._is_composition()){nexacro.OnceCallbackTimer.callonce(_i,function(){_i.on_apply_custom_setfocus();});}else{_i.on_apply_custom_setfocus();}}else{_i.on_apply_custom_setfocus();}_i._re_focus=false;return;}}}if(this._isPreventDefault(_b,"onfocus")){return;}if(!_b._is_alive){return;}_b._on_input_focus(this,_a);var _e=this._input_handle;if(_e&&!this._is_focused){this._is_focused=true;this._setInputVisible(true);}nexacro.__setLastFocusedElement(this);};_pInputElement._on_sys_blur=function(_a){var _b=this._parent_elem.linkedcontrol;var _c=_b._getWindow();var _d= -1;var _e=_c.getCurrentFocusPaths();if(this._isPreventDefault(_b,"onkillfocus")){return;}if(!_b._is_alive){return;}if((_b&&_b._edit_base_api&&_b._edit_base_api._accept_blur_event)){if(_c._is_active_window&&!_c._is_iframe_focus){var _h=_b;while(_h&&_h._is_nc_control){_h=_h.parent;}if(!_h){return;}if(_e){_d=nexacro._indexOf(_e,_h);}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9){if(_d> -1){_b._set_editbase_focusstat("blur");this.setElementFocus();return;}}else if(nexacro.Browser=="MobileSafari"){if(_d> -1){_b._on_killfocus();}}}}_b._on_input_blur(this,_a);var _f=this._input_handle;if(_f&&this._is_focused){this._is_focused=false;if(nexacro._isNull(this.value)&&this.displaynulltext){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(!this._is_focusing||_f.readOnly){this._setInputVisible(false);}}else{this._setInputVisible(false);}}this._is_focusing=false;}var _g=nexacro._getMainWindowHandle();if(_g!=_g.parent){var _i=_e[_e.length-1];if(!nexacro._enableaccessibility&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>9)){if(!_i._has_inputElement){this._createFakeFocusElement();this._fake_input_handle.focus();this._destroyFakeFocusElement();}}}};_pInputElement._on_sys_keypress=function(_a,_b,_c,_d,_e,_f){var _g=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_g,"onkeydown")){return;}if(!_g._is_alive){return;}if(_d&&_b==118){return;}if(_a==nexacro.Event.KEY_TAB){this._event_stop=true;return;}_g._on_input_keypress(this,_a,_b,_c,_d,_e);var _h=String.fromCharCode(_a);_h=_g._edit_base_api.applyInputmode(_h);if(_h.length==1&&nexacro.isAlpha(_h)){_a=_h.charCodeAt(0);}_f.keyCode=_a;};_pInputElement._on_sys_mousedown=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4&&_e&&_e._accessibility_role=="combobox"){this._event_stop=true;return;}if(this._isPreventDefault(_e,"onlbuttondown")||this._isPreventDefault(_e,"onrbuttondown")){this._event_stop=true;return;}if(!_e._is_alive){return;}if(_e._on_input_mousedown){_e._on_input_mousedown(this,_b,_c,_d);}};_pInputElement._on_sys_touchstart=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}if(_a._on_input_touchstart){_a._on_input_touchstart(this);}};_pInputElement._on_sys_touchmove=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}if(_a._on_input_touchmove){_a._on_input_touchmove(this);}};_pInputElement._on_sys_touchend=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}if(_a._on_input_touchend){_a._on_input_touchend(this);}};_pInputElement._on_sys_mouseup=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onlbuttonup")||this._isPreventDefault(_e,"onrbuttonup")){this._event_stop=true;return;}if(!_e._is_alive){return;}if(_e._on_input_mouseup){_e._on_input_mouseup(this,_b,_c,_d);}};_pInputElement._on_sys_mousemove=function(_a,_b,_c,_d){var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onmousemove")){return;}if(!_e._is_alive){return;}_e._on_input_mousemove(this);};if(nexacro.Browser!="Edge"||nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.OSVersion>=6.0)){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){_pInputElement._on_sys_keydown=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){this._event_stop=true;return;}if(!_e._is_alive){return;}_e._on_input_keydown(this,_a,_b,_c,_d);if(_a==nexacro.Event.KEY_DELETE||_a==nexacro.Event.KEY_BACKSPACE){if(nexacro.Browser=="Gecko"){return;}_e._on_input_keypress(this,_a,_a,_b,_c,_d);}if(_a==nexacro.Event.KEY_TAB){this._on_sys_keyinput(this);}this._is_keydown=true;};_pInputElement._on_sys_keyup=function(_a,_b,_c,_d){this._is_keydown=false;if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeyup")){return;}if(!_e._is_alive){return;}_e._on_input_keyup(this,_a,_b,_c,_d);this._accept_keyinput=false;};}else{_pInputElement._on_sys_keydown=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){this._event_stop=true;return;}if(!_e._is_alive){return;}_e._on_input_keydown(this,_a,_b,_c,_d);if(_a==nexacro.Event.KEY_DELETE||_a==nexacro.Event.KEY_BACKSPACE){if(nexacro.Browser=="Gecko"){return;}_e._on_input_keypress(this,_a,_a,_b,_c,_d);}};_pInputElement._on_sys_keyup=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeyup")){return;}if(!_e._is_alive){return;}_e._on_input_keyup(this,_a,_b,_c,_d);};}}else{_pInputElement._on_sys_keydown=function(_a,_b,_c,_d){if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeydown")){this._event_stop=true;return;}if(!_e._is_alive){return;}if(_a!=16){this._accept_keyinput=true;}_e._on_input_keydown(this,_a,_b,_c,_d);if(_a==nexacro.Event.KEY_DELETE||_a==nexacro.Event.KEY_BACKSPACE){if(nexacro.Browser=="Gecko"){return;}_e._on_input_keypress(this,_a,_a,_b,_c,_d);}if(_a==nexacro.KeyCode_ImeInput||_a==nexacro.Event.KEY_BACKSPACE||_a==nexacro.Event.KEY_DELETE){this._on_sys_keyinput(this);}if(_a==18&&_b==true){this._accept_blur_by_altkey=true;}else if(_a!=18&&_b==true){this._accept_blur_by_altkey=false;}this._is_keydown=true;};_pInputElement._on_sys_keyup=function(_a,_b,_c,_d){this._is_keydown=false;if(!this._parent_elem){return;}var _e=this._parent_elem.linkedcontrol;if(this._isPreventDefault(_e,"onkeyup")){return;}if(!_e._is_alive){return;}_e._on_input_keyup(this,_a,_b,_c,_d);if(this._accept_blur_by_altkey==true&&document.selection){this._deleteCaret();this.setElementBlur();}this._accept_keyinput=false;this._accept_blur_by_altkey=false;};}_pInputElement._on_sys_select=function(){var _a=this._parent_elem.linkedcontrol;if(!_a._is_alive){return;}_a._on_input_select(this);};if(nexacro.Browser=="Gecko"){_pInputElement._deleteCaret=function(){if(window.getSelection&&this._isUseDelCaret){var _a=window.getSelection();var _b=this._parent_elem.linkedcontrol;var _c=_b.getSelect();if(_c[0]==_c[1]){_a.removeAllRanges();}}};}else{_pInputElement._deleteCaret=function(){if(document.selection&&this._isUseDelCaret){var _a=document.selection.createRange();begin=0-_a.duplicate().moveStart('character', -100000);end=begin+_a.text.length;if(begin==end){document.selection.empty();}}};}_pInputElement._checkInputAutoSelect=function(){var _a=this._parent_elem.linkedcontrol;if(_a){if(_a.autoselect){return true;}}return false;};delete _pInputElement;_pInputElement=null;nexacro.TextAreaElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextAreaElement=new nexacro._createPrototype(nexacro.InputElement,nexacro.TextAreaElement);nexacro.TextAreaElement.prototype=_pTextAreaElement;_pTextAreaElement._type_name="TextAreaElement";_pTextAreaElement.usemultiline=true;if(nexacro.Browser=="Chrome"){_pTextAreaElement._overflow_scroll_size=0;}else{_pTextAreaElement._overflow_scroll_size=17;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pTextAreaElement._bindEvent=function(){var _a=this._input_handle;nexacro.InputElement.prototype._bindEvent.call(this);nexacro._observeSysEvent(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);};_pTextAreaElement._unBindEvent=function(){var _a=this._input_handle;if(_a){nexacro.InputElement.prototype._unBindEvent.call(this);nexacro._stopSysObserving(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);}};_pTextAreaElement._inputhandler_onscroll_forward=function(_a){if(window.event){_a=window.event;}var _b=_a.srcElement;var _c=_b._linked_element;if(_c){var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e&&_e._cur_ldown_elem){var _f=_c.parent.scroll_top;var _g=_c.parent.scroll_left;var _h=_c.parent._hscroll_control;if(_h&&!_h._is_tracking){_h.set_pos(_b.scrollLeft);}var _i=_c.parent._vscroll_control;if(_i&&!_i._is_tracking){_i.set_pos(_b.scrollTop);}}}};if(nexacro.BrowserVersion<=7){_pTextAreaElement.setElementBlur=function(){var _a=this._input_handle;if(_a){nexacro.__setDOMNodeBlur(_a);nexacro._setDOMNodeRemoveCaret();}};}}else{_pTextAreaElement._bindEvent=function(){var _a=this._input_handle;nexacro.InputElement.prototype._bindEvent.call(this);nexacro._observeSysEvent(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);};_pTextAreaElement._unBindEvent=function(){var _a=this._input_handle;if(_a){nexacro.InputElement.prototype._unBindEvent.call(this);nexacro._stopSysObserving(_a,"scroll","onscroll",this._inputhandler_onscroll_forward);}};_pTextAreaElement._inputhandler_onscroll_forward=function(_a){var _b=_a.target;var _c=_b._linked_element;if(_c){var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();var _f=_c.getElementCaretPos();if((_e&&_e._cur_ldown_elem)||(nexacro.isTouchInteraction&&(_e&&_e._cur_touch_elem||((_f&&_f!= -1)&&_f.begin!=_f.end)))){var _g=_c.parent.scroll_top;var _h=_c.parent.scroll_left;if(_h!=_b.scrollLeft){var _i=_c.parent._hscroll_control;if(_i&&!_i._is_tracking){_i.set_pos(_b.scrollLeft);}}if(_g!=_b.scrollTop){var _j=_c.parent._vscroll_control;if(_j&&!_j._is_tracking){_j.set_pos(_b.scrollTop);}}}}};}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pTextAreaElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="";if(this.halign&&this.valign){var _c=this.getScrollHeight();var _d=Math.max(0,this.height-_c);_b=nexacro.__getTextAreaHTMLStyleAlignXY(this.halign,this.valign,_d);}var _e=nexacro.__getTextAreaHTMLAttrEnable(this.enable)+nexacro.__getHTMLAttrReadOnly(this.readonly)+nexacro.__getHTMLAttrTabIndex(this.tabindex)+nexacro.__getHTMLAttrWordWrap(this.wordwrap);var _f=nexacro.__getTextAreaHTMLStyleAbsoluteTransparent()+nexacro.__getHTMLStylePos(0,0)+nexacro.__getHTMLStyleSize(this.width+this._overflow_scroll_size,this.height+this._overflow_scroll_size)+"border:none;outline:none;resize:none;"+nexacro.__getHTMLStyleFont(this.font)+nexacro.__getHTMLStyleColor(this.color)+_b+nexacro.__getHTMLStyleCursor(this.cursor,"text")+nexacro.__getHTMLStyleLineSpace(this.linespace)+nexacro.__getHTMLStyleWordWrap(this.wordwrap)+nexacro.__getHTMLStylemeMode(this.imemode);var _g=this.text?nexacro._encodeXml(this.text):"";var _h=" id='"+this.parent._handle.id+"_textarea'";var _i="<textarea "+_e+_h+" style='"+_f+"'/>"+_g+"</textarea>";_a.innerHTML=_i;var _j=_a.firstChild;_j._linked_element=this;if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_j,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_j,this._parent_elem.accessibility_role);};return _j;}};_pTextAreaElement.setElementSetSelect=function(_a,_b){var _c=this._input_handle;if(_c){var _d=this.getRootWindowHandle();_b=(typeof _b=='number')?_b:_a;var _e=this.getElementValue();if(_b== -1){_b=_c.value.length;var _f=_e.slice(0,_a);var _g=_e.slice(0,_b);_a-=_f.split('\r\n').length-1;_b-=_g.split('\r\n').length-1;}nexacro.__setTextAreaDOMNodeSetSelect(_d,_c,_a,_b);}};}else{_pTextAreaElement._createInputHandle=function(){var _a=this._handle;if(_a){var _b="textarea";var _c=this._owner_elem.getRootWindowHandle();var _d=_c.createElement(_b);_d._linked_element=this;nexacro.__setDOMNodeId(_d,this.parent._handle.id,"_"+_b);if(!this.enable){nexacro.__setTextAreaDOMNodeEnable(_d,false);}if(this.readonly){nexacro.__setDOMNodeReadOnly(_d,true);}if(this.tabindex>= -1){nexacro.__setDOMNodeTabIndex(_d,this.tabindex);}var _e=_d.style;_e.border="none";_e.outline="none";_e.resize="none";nexacro.__setTextAreaDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width+this._overflow_scroll_size,this.height+this._overflow_scroll_size);nexacro.__setDOMNodeStyleCursor(_e,this.cursor,"text");if(this.font){nexacro.__setDOMNodeStyleFont(_e,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_e,this.color);}if(this.halign&&this.valign){var _f=nexacro._getTextSize2("Wj",this.font||this._getParentFont());nexacro.__setInputDOMNodeStyleAlignXY(_e,this.halign,this.valign,this.height,this.width,_f[1]);}if(this.tabindentsize>4){nexacro.__setDOMNodeTabIndentSize(_d,this.tabindentsize);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_e,this.linespace);}nexacro.__setTextAreaDOMNodeWordWrap(_d,this.wordwrap);if(this.text){nexacro.__setDOMNodeValue(_d,this.text);}if(this.imemode){nexacro.__setDOMNodeImeMode(_d,this.imemode);}nexacro.__appendDOMNode(_a,_d);if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityLabelBy(_d,"accessibility_notify_0");nexacro.__setDOMNodeAccessibilityRole(_d,this._parent_elem.accessibility_role);}return _d;}};_pTextAreaElement.setElementSetSelect=function(_a,_b){var _c=this._input_handle;if(_c){var _d=this.getRootWindowHandle();_b=(typeof _b=='number')?(_b== -1?_c.value.length:_b):_a;if(nexacro._checkActiveElement(this)){nexacro.__setTextAreaDOMNodeSetSelect(_d,_c,_a,_b);}}};}_pTextAreaElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}_c=this._input_handle;if(_c){var _d=this.getElementCaretPos();var _e=_a+this._overflow_scroll_size;var _f=_b+this._overflow_scroll_size;nexacro.__setDOMNodeStyleSize(_c.style,_e,_f);if(_c.clientWidth>_a||_c.clientHeight>_b){_e+=(_a-_c.clientWidth);_f+=(_b-_c.clientHeight);nexacro.__setDOMNodeStyleSize(_c.style,_e,_f);}var _g=this.getElementCaretPos();if((_d!= -1&&_g!= -1)&&(_d.begin!=_g.begin||_d.end!=_g.end)){this.setElementSetSelect(0,0);this.setElementSetSelect(_d.begin,_d.end);}}var _h=this._display_elem;if(_h){_h.setElementSize(_a,_b);}}};_pTextAreaElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._parent_elem.linkedcontrol;var _c=this._input_handle;if(_c){nexacro.__setTextAreaDOMNodeEnable(_c,_a);if(nexacro.OS=="iOS"&&_b){var _d=_b.on_find_CurrentStyle_color(_b._pseudo);if(_a){_c.style.opacity="";_c.style.webkitTextFillColor="";}else{_c.style.opacity=1;_c.style.webkitTextFillColor=_d._syscolor;}}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==9){this._isUseDelCaret=_a?false:true;this._deleteCaret();}}}};_pTextAreaElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._input_handle;if(_b){var _d=this.getScrollHeight();var _e=Math.max(0,this.height-_d);nexacro.__setTextAreaDOMNodeStyleAlignXY(_b.style,this.halign,this.valign,_e);}var _c=this._display_elem;if(_c){_c.setElementAlign(_a);}};_pTextAreaElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._input_handle;if(_d){var _f=this.getScrollHeight();var _g=Math.max(0,this.height-_f);nexacro.__setTextAreaDOMNodeStyleAlignXY(_d.style,_c,_b,_g);}var _e=this._display_elem;if(_e){_e.setElementAlignXY(_c,_b);}};_pTextAreaElement.setElementLineSpace=function(_a){this.linespace=_a;var _b=this._input_handle;if(_b){var _c=this._parent_elem.linkedcontrol;if(_c){var _d=nexacro._getTextSize2("Wj",this.font||this._getParentFont());_a=_d[1]+nexacro._toInt(_a);}nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}};_pTextAreaElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){this.wordwrap=_a;var _b=this._handle;var _c=this._input_handle;if(_b&&_c){nexacro.__setTextAreaDOMNodeWordWrap(_c,this.wordwrap);this._updateInputValue();}}};_pTextAreaElement.setElementPassword=function(_a){};_pTextAreaElement.getElementCaretPos=function(){var _a=this._input_handle;var _b=nexacro._checkActiveElement(this);if(_a&&_b){var _c=this.getRootWindowHandle();return nexacro.__getTextAreaDOMNodeCaretPos(_c,_a);}return  -1;};_pTextAreaElement.getElementSelectionRange=function(){var _a=this._input_handle;var _b=this.getRootWindowHandle();if(_a&&_b){var _c=nexacro.__getTextAreaDOMNodeCaretPos(_b,_a);return [_c.begin,_c.end];}return [0,0];};_pTextAreaElement.getCaretLine=function(){var _a=this._input_handle;if(_a){var _b=this.getRootWindowHandle();return nexacro.__getDOMNodeCaretLine(_b,_a);}return 0;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pTextAreaElement.getElementValue=function(){var _a=this._input_handle;if(_a){var _b=nexacro.__getDOMNodeValue(_a);if(_b){_b=_b.replace(/\r\n/g,"\n");}return _b;}return "";};_pTextAreaElement.setElementValue=function(_a,_b,_c){var _d=this._input_handle;var _e=this._parent_elem.linkedcontrol;var _f=_e._edit_base_api;if(!_e._is_alive){return;}var _g=(this.value===_a)?false:true;var _h=(_a=="")?true:false;if(_a){_a=_a.replace(/\r\n/g,"\n");}if(_f){this.text=_f._text;}else{this.text=_a;}this.value=_a;if(_c){return;}if(_d){var _i=nexacro.__getDOMNodeValue(_d);var _j=(this.text==_i)?false:true;if(_g||_j||_h||_b){this._updateInputValue();}}};}else{_pTextAreaElement.getElementValue=function(){var _a=this._input_handle;if(_a){return nexacro.__getDOMNodeValue(_a);;}return "";};_pTextAreaElement.setElementValue=function(_a,_b,_c){var _d=this._input_handle;var _e=this._parent_elem.linkedcontrol;var _f=_e._edit_base_api;if(!_e._is_alive){return;}var _g=(this.value===_a)?false:true;var _h=(_a=="")?true:false;if(_a){_a=_a.replace(/\r\n/g,"\n");}if(_f){this.text=_f._text;}else{this.text=_a;}this.value=_a;if(_c){return;}if(_d){var _i=nexacro.__getDOMNodeValue(_d);var _j=(this.text==_i)?false:true;if(_g||_j||_h||_b){this._updateInputValue();}}};}_pTextAreaElement._is_prevent_enter=false;_pTextAreaElement._inputhandler_onkeydown_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target||_a.srcElement;if(this._is_prevent_enter){if(_a.keyCode==13&&(_a.altKey||_a.ctrlKey)){_a.preventDefault();}}return nexacro._inputhandler_onkeydown(_b,_a);};delete _pTextAreaElement;_pTextAreaElement=null;nexacro._inputhandler_onkeyinput=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_keyinput(nexacro._getSysEventKey(_b),_b.altKey,_b.ctrlKey,_b.shiftKey);return true;}return false;};nexacro._inputhandler_oncopy=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_copy();return true;}return false;};nexacro._inputhandler_oncut=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_cut();return true;}return false;};nexacro._inputhandler_onpaste=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_paste();return true;}return false;};nexacro._inputhandler_oncompositionupdate=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_compositionupdate(_b.data);return true;}return false;};nexacro._inputhandler_oncompositionend=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_compositionend(_b.data);return true;}return false;};nexacro._inputhandler_oncompositionstart=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_compositionstart(_b.data);return true;}return false;};nexacro._inputhandler_onfocus=function(_a,_b){var _c=_a._linked_element;if(_c){if(nexacro.isTouchInteraction&&nexacro.OS=="Android"){if(!_c.readonly&&_a.readOnly){nexacro.__setDOMNodeReadOnly(_c._input_handle,false);}}_c._on_sys_focus();return true;}return false;};nexacro._inputhandler_onblur=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_blur(_a);return true;}return false;};nexacro._inputhandler_onkeypress=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_keypress(_b.keyCode,_b.charCode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b);_c._accept_keyinput=true;if(_c._event_stop){_c._event_stop=false;nexacro._stopSysEvent(_b);}return true;}return false;};nexacro._inputhandler_onmousedown=function(_a,_b){var _c=_a._linked_element;if(_c&&_c._on_sys_mousedown){nexacro._stopPropagation(_b);_c._is_mousedown=true;var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=application._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;if(nexacro.isTouchInteraction&&nexacro.OS=="Android"){if(!_c.readonly&&_a.readOnly){nexacro.__setDOMNodeReadOnly(_c._input_handle,false);}}_b.id=_g;if(nexacro.Browser=="Edge"&&!_c._checkActiveElement()&&_d.autoselect){nexacro._stopSysEvent(_b);_c._event_stop=false;}_h._syshandler_onmousedown_forward(_b);var _i=_c._parent_elem.linkedcontrol._edit_base_api._is_selected();_c._on_sys_mousedown(_b.keyCode,_b.altKey,_b.ctrlKey,_b.shiftKey);if(_c._event_stop||(_b.ctrlKey&&!_i)){nexacro._stopSysEvent(_b);_c._event_stop=false;}_c._is_mousedown=false;return true;}return false;};nexacro._inputhandler_onmouseup=function(_a,_b){var _c=_a._linked_element;if(_c&&_c._on_sys_mouseup){nexacro._stopPropagation(_b);var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=application._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;_c._on_sys_mouseup(_b.keyCode,_b.altKey,_b.ctrlKey,_b.shiftKey);if((nexacro.Browser!="Edge"&&nexacro.Browser!="IE")&&nexacro._getSysEventBtnCode(_b)==(application._is_attach_childframe?nexacro_HTMLSysEvent[_g].MOUSE_LBUTTON:nexacro_HTMLSysEvent.MOUSE_LBUTTON)){_b.id=_g;_h._syshandler_lock_onmouseup_forward(_b);}else{_h._syshandler_onmouseup_forward(_b);}if(_c._event_stop){if(nexacro.Browser!="Edge"&&nexacro.Browser!="IE"){_b.preventDefault();_b.stopped=true;_c._event_stop=false;}}return true;}return false;};nexacro._inputhandler_onmousemove=function(_a,_b){var _c=_a._linked_element;if(_c&&_c._on_sys_mousemove){if((nexacro.Browser!="Edge"&&nexacro.Browser!="IE")&&nexacro._getSysEventBtnCode(_b)==nexacro_HTMLSysEvent.MOUSE_LBUTTON){nexacro._stopPropagation(_b);}var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}if(_e._cur_screen_pos.x==_b.screenX&&_e._cur_screen_pos.y==_b.screenY){return false;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=application._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;if((nexacro.Browser!="Edge"&&nexacro.Browser!="IE")&&nexacro._getSysEventBtnCode(_b)==(application._is_attach_childframe?nexacro_HTMLSysEvent[_g].MOUSE_LBUTTON:nexacro_HTMLSysEvent.MOUSE_LBUTTON)){_b.id=_g;_h._syshandler_lock_onmousemove_forward(_b);}_c._on_sys_mousemove();if(_c._isPreventDefault(_d,"ondrag")){var _i=_c.getElementCaretPos();var _j=(_i&&_i!= -1)?_i.begin:0;if(_b.screenX>_c._prev_x){_j=(_i&&_i!= -1)?_i.end:0;}_c.setElementSetSelect(_j,_j);}_c._prev_x=_b.screenX;return true;}return false;};nexacro._inputhandler_onkeydown=function(_a,_b){var _c=_a._linked_element;if(_c){nexacro._stopPropagation(_b);var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}var _f=_e._handle;var _g=_e._custom_node_id;var _h=application._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;_b.id=_g;_h._syshandler_onkeydown_forward(_b);_c._on_sys_keydown(nexacro._getSysEventKey(_b),_b.altKey,_b.ctrlKey,_b.shiftKey);if(_c._event_stop){nexacro._stopSysEvent(_b);_c._event_stop=false;}return true;}return false;};nexacro._inputhandler_onkeyup=function(_a,_b){var _c=_a._linked_element;if(_c){nexacro._stopPropagation(_b);var _d=_c._parent_elem.linkedcontrol;var _e=_d._getWindow();if(_e instanceof nexacro.PopupWindow){_e=_e.parent;}_c._on_sys_keyup(nexacro._getSysEventKey(_b),_b.altKey,_b.ctrlKey,_b.shiftKey);var _f=_e._handle;var _g=_e._custom_node_id;var _h=application._is_attach_childframe?_f.nexacro_HTMLSysEvent[_g]:_f.nexacro_HTMLSysEvent;_b.id=_g;_h._syshandler_onkeyup_forward(_b);if(_c._event_stop){nexacro._stopSysEvent(_b);_c._event_stop=false;}return true;}return false;};nexacro._inputhandler_onselect=function(_a,_b){var _c=_a._linked_element;if(_c){_c._on_sys_select();return true;}return false;};nexacro.ControlElementBase=function(_a){this.parent=_a;this._parent_elem=_a;};var _pControlElementBase=nexacro._createPrototype(nexacro.Element,nexacro.ControlElementBase);nexacro.ControlElementBase.prototype=_pControlElementBase;_pControlElementBase._type_name="ControlElementBase";_pControlElementBase.enable=true;_pControlElementBase.tabindex= -1;_pControlElementBase.zindex= -1;_pControlElementBase.font=null;_pControlElementBase.color=null;_pControlElementBase.cursor=null;_pControlElementBase.client_left=0;_pControlElementBase.client_top=0;_pControlElementBase.client_width=0;_pControlElementBase.client_height=0;_pControlElementBase.border=null;_pControlElementBase.bordertype=null;_pControlElementBase.background=null;_pControlElementBase.gradation=null;_pControlElementBase.opacity=100;_pControlElementBase.padding=null;_pControlElementBase.padding_left=0;_pControlElementBase.padding_top=0;_pControlElementBase.padding_right=0;_pControlElementBase.padding_bottom=0;_pControlElementBase.position_step=undefined;_pControlElementBase.linkedcontrol=null;_pControlElementBase.accessibility_role="";_pControlElementBase.accessibility_enable=false;_pControlElementBase.accessibility_label="";_pControlElementBase.accessibility_desclevel="";_pControlElementBase.accessibility_description="";_pControlElementBase.accessibility_action="";_pControlElementBase._accessibility_value=undefined;_pControlElementBase._accessibility_stat_disabled=undefined;_pControlElementBase._accessibility_stat_hidden=undefined;_pControlElementBase._accessibility_stat_checked=undefined;_pControlElementBase._accessibility_stat_pressed=undefined;_pControlElementBase._accessibility_stat_selected=undefined;_pControlElementBase._accessibility_stat_expanded=undefined;_pControlElementBase._accessibility_stat_autocomplete=undefined;_pControlElementBase._accessibility_flag_haspopup=undefined;_pControlElementBase._accessibility_flag_focusable=undefined;_pControlElementBase._accessibility_flag_readonly=undefined;_pControlElementBase._accessibility_flag_password=undefined;_pControlElementBase._accessibility_flag_multiselectable=undefined;_pControlElementBase._accessibility_flag_selectable=undefined;_pControlElementBase._accessibility_flag_defaultbutton=undefined;_pControlElementBase._accessibility_prop_itemcount=undefined;_pControlElementBase._accessibility_prop_itemindex=undefined;_pControlElementBase._accessibility_prop_valuemax=undefined;_pControlElementBase._accessibility_prop_valuemin=undefined;_pControlElementBase._dom_border=null;_pControlElementBase._inner_left=0;_pControlElementBase._inner_top=0;_pControlElementBase._inner_width=0;_pControlElementBase._inner_height=0;_pControlElementBase._node_width=0;_pControlElementBase._node_height=0;_pControlElementBase._background_style=0;_pControlElementBase._node_opacity_str="";_pControlElementBase._node_opacity=100;_pControlElementBase._node_bkcolor="";_pControlElementBase._node_gradation="";_pControlElementBase._node_bkurl="";_pControlElementBase._node_bkrepeat="";_pControlElementBase._node_bkpos="";_pControlElementBase._client_element=null;_pControlElementBase._vml_elem=null;_pControlElementBase._bkimg_elem=null;_pControlElementBase.create=nexacro._emptyFn;_pControlElementBase.destroy=nexacro._emptyFn;_pControlElementBase.clearContents=nexacro._emptyFn;_pControlElementBase.setElementStepCount=nexacro._emptyFn;_pControlElementBase.setElementStepIndex=nexacro._emptyFn;_pControlElementBase.setLinkedControl=function(_a){if(!this.linkedcontrol&&_a){this.parent=_a;this.linkedcontrol=_a;}};_pControlElementBase.setElementPositionBasis=function(_a){if(this.position!=_a){this.position=_a;if(this._handle){if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(_a.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(this._handle.style);}else{nexacro.__setDOMNodeStyleAbsolute(this._handle.style);}}}}};_pControlElementBase.setElementPositionBasis=function(_a){if(this.position!=_a){this.position=_a;if(this._handle){if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(_a.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(this._handle.style);}else{nexacro.__setDOMNodeStyleAbsolute(this._handle.style);}}}}};_pControlElementBase.setElementPositionStep=function(_a){if(this.position_step!=_a||_a== -1){this.position_step=_a;var _b=this._handle;if(_b&&this._parent_elem){var _c=this._owner_elem;var _d=this._parent_elem.getContainerElement(_a);if(_c&&_c._dest_handle&&_d&&_d._dest_handle){nexacro.__unlinkDOMNode(_c._dest_handle,this._handle);nexacro.__appendDOMNode(_d._dest_handle,this._handle);this._owner_elem=_d;}}}};_pControlElementBase.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeEnable(_b,_a);}}};_pControlElementBase.setElementTabIndex=function(_a){if(this.tabindex!=_a){this.tabindex=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeTabIndex(_b,_a);}}};_pControlElementBase.setElementZIndex=function(_a){if(this.zindex!=_a){this.zindex=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleZindex(_b.style,_a);}}};_pControlElementBase.setElementFont=nexacro._emptyFn;_pControlElementBase.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(this._client_element){this._client_element.setElementColor(_a);}};_pControlElementBase.setElementCursor=function(_a){this.cursor=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleCursor(_b.style,_a);}};_pControlElementBase.setElementToolTip=function(_a,_b){if(_a===undefined){_a="";}if(this.tooltiptext!=_a||this.tooltiptype!=_b){this.tooltiptext=_a;this.tooltiptype=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeToolTip(_c,_a,_b);}}};_pControlElementBase.setElementShadow=function(_a){this.shadow=_a;var _b=this._handle;if(_b){var _c=_a?_a._getStyleObject(this._isRtl()):null;nexacro.__setDOMNodeStyleShadow(_b.style,_c);}};_pControlElementBase.setElementFocus=function(_a){var _b=this._handle;if(_b){nexacro.__setDOMNodeFocus(_b,_a);nexacro.__setLastFocusedElement(this);}};_pControlElementBase.setElementOpacity=function(_a){this.opacity=_a;var _b=this._handle;if(_b){this._setControlOpacity(this,_b,(parseInt(_a.value)));}};_pControlElementBase.setElementAlign=nexacro._emptyFn;_pControlElementBase.setElementAlignXY=nexacro._emptyFn;_pControlElementBase.setElementPadding=nexacro._emptyFn;_pControlElementBase.setElementPaddingXY=nexacro._emptyFn;_pControlElementBase.setElementHittestType=nexacro._emptyFn;_pControlElementBase.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;this._setControlSize(this,this._handle,_a,_b);this._updateClientSize();}};_pControlElementBase.setElementBorder=function(_a,_b){var _c=this._isRtl();var _d=_a;var _e=_b;_d=_a?_a._getStyleObject(_c^this.mirror):null;_e=_b?_b._getStyleObject(_c):null;this.border=_a;this.bordertype=_b;this._setControlBorder(this,this._handle,_d,_e);this._updateClientSize();};_pControlElementBase.setElementBackground=function(_a,_b){this.background=_a;this.gradation=_b;var _c=this._isRtl();var _d=_b;_d=_b?_b._getStyleObject(_c):null;this._setControlBackground(this,this._handle,_a,_d);};_pControlElementBase.setElementAccessibilityRole=function(_a){var _b=nexacro._roleList[_a];if(this.accessibility_role!=_b){this.accessibility_role=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeAccessibilityRole(_c,_b);}}};_pControlElementBase.setElementAccessibilityLabel=function(_a){if(this.accessibility_label!=_a){this.accessibility_label=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityLabel(_b,_a);}}};_pControlElementBase.setElementAccessibilityEnable=function(_a){if(this.accessibility_enable!=_a){this.accessibility_enable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityEnable(_b,_a);}}};_pControlElementBase.setElementAccessibilityDescription=function(_a){if(this.accessibility_description!=_a){this.accessibility_description=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityDescription(_b,_a);}}};_pControlElementBase.setElementAccessibilityDescLevel=function(_a){};_pControlElementBase.setElementAccessibilityAction=function(_a){this.accessibility_action=_a;};_pControlElementBase.setElementAccessibilityValue=function(_a,_b,_c){if(this._accessibility_value!=_a){this._accessibility_value=_a;var _d=this._handle;if(_d){nexacro.__setDOMNodeAccessibilityValue(_d,_a,_b,_c);}}};_pControlElementBase.setElementAccessibilityStatDisabled=function(_a){if(this._accessibility_stat_disabled!=_a){this._accessibility_stat_disabled=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatDisabled(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatHidden=function(_a){if(this._accessibility_stat_hidden!=_a){this._accessibility_stat_hidden=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatHidden(_b,_a);}}};_pControlElementBase.setElementAccessibilityHidden=function(_a){if(this._client_element){var _b=this._client_element._handle;if(_b){nexacro.__setDOMNodeAccessibilityHidden(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatChecked=function(_a){if(this._accessibility_stat_checked!=_a){this._accessibility_stat_checked=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatChecked(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatPressed=function(_a){if(this._accessibility_stat_pressed!=_a){this._accessibility_stat_pressed=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatPressed(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatSelected=function(_a){if(this._accessibility_stat_selected!=_a){this._accessibility_stat_selected=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatSelected(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatExpanded=function(_a){if(this._accessibility_stat_expanded!=_a){this._accessibility_stat_expanded=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatExpanded(_b,_a);}}};_pControlElementBase.setElementAccessibilityStatAutoComplete=function(_a){if(this._accessibility_stat_autocomplete!=_a){this._accessibility_stat_autocomplete=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatAutoComplete(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagHasPopup=function(_a){if(this._accessibility_flag_haspopup!=_a){this._accessibility_flag_haspopup=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityStatHasPopup(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagFocusable=function(_a){if(this._accessibility_flag_focusable!=_a){this._accessibility_flag_focusable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagFocusable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagReadOnly=function(_a){if(this._accessibility_flag_readonly!=_a){this._accessibility_flag_readonly=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagReadOnly(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagPassword=function(_a){if(this._accessibility_flag_password!=_a){this._accessibility_flag_password=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagPassword(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagMultiSelectable=function(_a){if(this._accessibility_flag_multiselectable!=_a){this._accessibility_flag_multiselectable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagMultiSelectable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagSelectable=function(_a){if(this._accessibility_flag_selectable!=_a){this._accessibility_flag_selectable=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagSelectable(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagDefaultButton=function(_a){if(this._accessibility_flag_defaultbutton!=_a){this._accessibility_flag_defaultbutton=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagDefaultButton(_b,_a);}}};_pControlElementBase.setElementAccessibilityFlagMultiLine=function(_a){if(this._accessibility_flag_multiline!=_a){this._accessibility_flag_multiline=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityFlagMultiLine(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoCount=function(_a){if(this._accessibility_prop_infocount!=_a){this._accessibility_prop_infocount=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoCount(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoIndex=function(_a){if(this._accessibility_prop_infoindex!=_a){this._accessibility_prop_infoindex=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoIndex(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueMax=function(_a){if(this._accessibility_prop_infovaluemax!=_a){this._accessibility_prop_infovaluemax=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoValueMax(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueMin=function(_a){if(this._accessibility_prop_infovaluemin!=_a){this._accessibility_prop_infovaluemin=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoValueMin(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoValueCur=function(_a){if(this._accessibility_prop_infovaluecur!=_a){this._accessibility_prop_infovaluecur=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoValueCur(_b,_a);}}};_pControlElementBase.setElementAccessibilityInfoLevel=function(_a){if(this._accessibility_prop_infolevel!=_a){this._accessibility_prop_infolevel=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityInfoLevel(_b,_a);}}};_pControlElementBase.setElementAccessibilityHotKey=function(_a){if(this._accessibility_prop_hotkey!=_a){this._accessibility_prop_hotkey=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityHotKey(_b,_a);}}};_pControlElementBase.setElementAccessibilityActiveDescendant=function(_a){this._accessibility_prop_activedescendant=_a.linkedcontrol._unique_id;var _b=this._handle;if(_b){nexacro.__setDOMNodeAccessibilityActiveDescendant(_b,_a.linkedcontrol._unique_id);}};_pControlElementBase.setElementAccessibilityStatFocus=function(_a){var _b;if(_a){_b=_a;}else{var _d=this._makeAccessibilityLabelbyReadtype(this);this.accessibility_readlabel=_d;_b=_d;}var _c=this._handle;if(_c){nexacro.__notifyAccessibility(_c,_b,"focus");}};_pControlElementBase.setElementAccessibilityNotifyEvent=nexacro._emptyFn;_pControlElementBase._refreshForeground=function(_a,_b){var _c=this._isRtl();if(!this.visible){nexacro.__setDOMNodeStyleVisible(_b,false);}if(!this.enable){nexacro.__setDOMNodeEnable(_a,false);}if(this.tabindex>= -1){nexacro.__setDOMNodeTabIndex(_a,this.tabindex);}if(this.zindex>=0){nexacro.__setDOMNodeStyleZindex(_b,this.zindex);}if(this.cursor){nexacro.__setDOMNodeStyleCursor(_b,this.cursor);}if(this.tooltiptext){nexacro.__setDOMNodeToolTip(_a,this.tooltiptext,this.tooltiptype);}if(this.shadow){var _d=this.shadow._getStyleObject(_c);nexacro.__setDOMNodeStyleShadow(_b,_d);}if(this.opacity){this._setControlOpacity(this,this._handle,(parseInt(this.opacity.value)));}if(nexacro._enableaccessibility){if(this.accessibility_role){nexacro.__setDOMNodeAccessibilityRole(_a,this.accessibility_role);}if(this.accessibility_enable){if(this.accessibility_enable){nexacro.__setDOMNodeAccessibilityEnable(_a,this.accessibility_enable);}if(this.accessibility_desclevel){nexacro.__setDOMNodeAccessibilityDescLevel(_a,this.accessibility_desclevel);}if(this.accessibility_description){nexacro.__setDOMNodeAccessibilityDescription(_a,this.accessibility_description);}var _e=this._makeAccessibilityLabelbyReadtype(this);if(_e!=this.accessibility_readlabel){this.accessibility_readlabel=_e;nexacro.__setDOMNodeAccessibilityLabel(_a,this.accessibility_readlabel);}}else{nexacro.__setDOMNodeAccessibilityEnable(_a,this.accessibility_enable);}if(this._accessibility_value){nexacro.__setDOMNodeAccessibilityValue(_a,this._accessibility_value);}if(this._accessibility_stat_disabled){nexacro.__setDOMNodeAccessibilityStatDisabled(_a,this._accessibility_stat_disabled);}if(this._accessibility_stat_hidden){nexacro.__setDOMNodeAccessibilityStatHidden(_a,this._accessibility_stat_hidden);}if(this._accessibility_stat_checked){nexacro.__setDOMNodeAccessibilityStatChecked(_a,this._accessibility_stat_checked);}if(this._accessibility_stat_pressed){nexacro.__setDOMNodeAccessibilityStatPressed(_a,this._accessibility_stat_pressed);}if(this._accessibility_stat_selected){nexacro.__setDOMNodeAccessibilityStatSelected(_a,this._accessibility_stat_selected);}if(this._accessibility_stat_expanded){nexacro.__setDOMNodeAccessibilityStatExpanded(_a,this._accessibility_stat_expanded);}if(this._accessibility_stat_autocomplete){nexacro.__setDOMNodeAccessibilityStatAutoComplete(_a,this._accessibility_stat_autocomplete);}if(this._accessibility_flag_haspopup){nexacro.__setDOMNodeAccessibilityStatHasPopup(_a,this._accessibility_flag_haspopup);}if(this._accessibility_flag_focusable){nexacro.__setDOMNodeAccessibilityFlagFocusable(_a,this._accessibility_flag_focusable);}if(this._accessibility_flag_readonly){nexacro.__setDOMNodeAccessibilityFlagReadOnly(_a,this._accessibility_flag_readonly);}if(this._accessibility_flag_password){nexacro.__setDOMNodeAccessibilityFlagPassword(_a,this._accessibility_flag_password);}if(this._accessibility_flag_multiselectable){nexacro.__setDOMNodeAccessibilityFlagMultiSelectable(_a,this._accessibility_flag_multiselectable);}if(this._accessibility_flag_selectable){nexacro.__setDOMNodeAccessibilityFlagSelectable(_a,this._accessibility_flag_selectable);}if(this._accessibility_flag_defaultbutton){nexacro.__setDOMNodeAccessibilityFlagDefaultButton(_a,this._accessibility_flag_defaultbutton);}if(this._accessibility_flag_multiline){nexacro.__setDOMNodeAccessibilityFlagMultiLine(_a,this._accessibility_flag_multiline);}if(this._accessibility_prop_itemcount){nexacro.__setDOMNodeAccessibilityInfoCount(_a,this._accessibility_prop_itemcount);}if(this._accessibility_prop_itemindex){nexacro.__setDOMNodeAccessibilityInfoIndex(_a,this._accessibility_prop_itemindex);}if(this._accessibility_prop_valuemax){nexacro.__setDOMNodeAccessibilityInfoValueMax(_a,this._accessibility_prop_valuemax);}if(this._accessibility_prop_valuemin){nexacro.__setDOMNodeAccessibilityInfoValueMin(_a,this._accessibility_prop_valuemin);}}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_pControlElementBase._refreshVMLContainerElement=function(_a,_b){if(_a&&_b&&_a._dest_handle&&_b._dest_handle&&_a._client_element&&_a._client_element._dest_handle){var _c=_b._owner_elem;nexacro.__unlinkDOMNode(_a._handle,_b._dest_handle);nexacro.__insertDOMNode(_a._dest_handle,_b._dest_handle,_a._client_element._dest_handle);_b._owner_elem=_c;return true;}return false;};_pControlElementBase._setControlOpacity=function(_a,_b,_c){var _d="";if(_c<0){_c=0;}if(_c<100){_d="progid:DXImageTransform.Microsoft.Alpha(opacity="+_c+")";}if(this._node_opacity_str!=_d){this._node_opacity_str=_d;if(_b){var _e=_b.style;nexacro.__setDOMNodeStyleForceVisibility(_e,true);if(_d){if(this._node_gradation){_e.filter=this._node_gradation+' '+_d;}else{_e.filter=_d;}}else{if(this._node_gradation){_e.filter=this._node_gradation;}else{_e.filter="";}}nexacro.__setDOMNodeStyleVisible(_e,this.visible);}}};if((nexacro.BrowserVersion<=6||nexacro.checkDocument.quirksMode)){_pControlElementBase._setControlSize=function(_a,_b,_c,_d){var _e=_c;var _f=_d;var _g=this.border;if(_g&&!_g._is_real_empty()){_e=_c-_g._getBorderWidth();_f=_d-_g._getBorderHeight();if(_e<0){_e=0;}if(_f<0){_f=0;}}if(this._node_width!=_c||this._node_height!=_d){this._node_width=_c;this._node_height=_d;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_c,_d);}}if(this._inner_width!=_e||this._inner_height!=_f){this._inner_width=_e;this._inner_height=_f;var _h=this._bkimage_elem;if(_h){_h.setElementSize(_e,_f);}}};}else{_pControlElementBase._setControlSize=function(_a,_b,_c,_d){var _e=_c;var _f=_d;var _g=this.border;if(_g&&!_g._is_real_empty()){_e=_c-_g._getBorderWidth();_f=_d-_g._getBorderHeight();if(_e<0){_e=0;}if(_f<0){_f=0;}}if(this._inner_width!=_e||this._inner_height!=_f){this._node_width=this._inner_width=_e;this._node_height=this._inner_height=_f;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_e,_f);}var _h=this._bkimage_elem;if(_h){_h.setElementSize(_e,_f);}}};}if((nexacro.BrowserVersion<=6||nexacro.checkDocument.quirksMode)){_pControlElementBase._isVML=function(){if(this._vml_elem){return true;}return false;};_pControlElementBase._setControlBorder=function(_a,_b,_c,_d){var _e=_a.width;var _f=_a.height;var _g=0;var _h=0;var _i=_e;var _j=_f;var _k=application.usevml;var _l=false;if(_d&&_d._isRound()){_l=true;}if(_c&&!_c._is_real_empty()){if(_k&&_l){_g=_c._left_width;_h=_c._top_width;}_i=_e-_c._getBorderWidth();_j=_f-_c._getBorderHeight();if(_i<0){_i=0;}if(_j<0){_j=0;}}var _m=(_b?_b.style:null);var _n=this._vml_elem;if(_k&&_l){if(this._dom_border){this._dom_border=null;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,null);}}this._clearDOMBackgroundOnly(_b);if(_n){_n.setElementSize(_a.width,_a.height);_n.setVMLBorder(_d,_c);this._vml_elem=_n;if(this.background){this._setControlBackground(_a,_b,this.background,this.gradation);}}else{_n=new nexacro._VMLContainerElement(_a);_n.setElementSize(_a.width,_a.height);_n.setVMLBorder(_d,_c);this._vml_elem=_n;this._setControlBackground(_a,_b,this.background,this.gradation);if(_b){var _r=_b.firstChild;_n.create(_r);}}}else{if(this._dom_border!=_c){this._dom_border=_c;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,_c);}}if(_n){_n.destroy();_n=null;this._vml_elem=_n;this._setControlBackground(_a,_b,this.background,this.gradation);}}var _o=this._inner_left!=_g||this._inner_top!=_h;var _p=this._inner_width!=_i||this._inner_height!=_j;var _q=this._bkimage_elem;if(_o){this._inner_left=_g;this._inner_top=_h;if(_q){_q.setElementPosition(_g,_h);}}if(_p){this._inner_width=_i;this._inner_height=_j;if(_q){_q.setElementSize(_i,_j);}}};}else{_pControlElementBase._isVML=function(){if(this._vml_elem){return true;}return false;};_pControlElementBase._setControlBorder=function(_a,_b,_c,_d){var _e=_a.width;var _f=_a.height;var _g=0;var _h=0;var _i=_e;var _j=_f;var _k=application.usevml;var _l=false;if(_d&&_d._isRound()){_l=true;}if(_c&&!_c._is_real_empty()){if(_k&&_l){_g=_c._left_width;_h=_c._top_width;}_i=_e-_c._getBorderWidth();_j=_f-_c._getBorderHeight();if(_i<0){_i=0;}if(_j<0){_j=0;}}var _m=this._vml_elem;if(_k&&_l){if(this._node_width!=_e||this._node_height!=_f){this._node_width=_e;this._node_height=_f;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_e,_f);}}if(this._dom_border){this._dom_border=null;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,null);}}this._clearDOMBackgroundOnly(_b);if(_m){_m.setElementSize(_a.width,_a.height);_m.setVMLBorder(_d,_c);this._vml_elem=_m;if(this.background){this._setControlBackground(_a,_b,this.background,this.gradation);}}else{_m=new nexacro._VMLContainerElement(_a);_m.setElementSize(_a.width,_a.height);_m.setVMLBorder(_d,_c);this._vml_elem=_m;this._setControlBackground(_a,_b,this.background,this.gradation);if(_b){var _q=_b.firstChild;_m.create(_q);}}}else{if(this._node_width!=_i||this._node_height!=_j){this._node_width=_i;this._node_height=_j;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_i,_j);}}if(this._dom_border!=_c){this._dom_border=_c;if(_b){nexacro.__setDOMNodeStyleBorder(_b.style,_c);}}if(_m){_m.destroy();_m=null;this._vml_elem=_m;this._setControlBackground(_a,_b,this.background,this.gradation);}}var _n=this._inner_left!=_g||this._inner_top!=_h;var _o=this._inner_width!=_i||this._inner_height!=_j;var _p=this._bkimage_elem;if(_n){this._inner_left=_g;this._inner_top=_h;if(_p){_p.setElementPosition(_g,_h);}}if(_o){this._inner_width=_i;this._inner_height=_j;if(_p){_p.setElementSize(_i,_j);}}};}_pControlElementBase._setDOMBackgroundOnly=function(_a,_b,_c){if(_a){var _d=_a?_a.style:null;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_d.backgroundColor=(_b?_b:"transparent");}if(this._node_gradation!=_c){this._node_gradation=_c;nexacro.__setDOMNodeStyleForceVisibility(_d,true);if(_c){if(this._node_opacity_str){_d.filter=_c+' '+this._node_opacity_str;}else{_d.filter=_c;}}else{if(this._node_opacity_str){_d.filter=this._node_opacity_str;}else{_d.filter="";}}nexacro.__setDOMNodeStyleVisible(_d,this.visible);}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";_d.backgroundImage="";}}else{this._node_bkcolor=_b;this._node_gradation=_c;this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";}};_pControlElementBase._setDOMBackground=function(_a,_b,_c,_d,_e,_f,_g){var _h=_f+"% "+_g+"%";if(_e==""){_e="no-repeat";}_b=(_b?_b:"transparent");if(_a){var _i=_a.style;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_i.backgroundColor=_b;}if(this._node_gradation!=_c){this._node_gradation=_c;nexacro.__setDOMNodeStyleForceVisibility(_i,true);if(_c){if(this._node_opacity_str){_i.filter=_c+' '+this._node_opacity_str;}else{_i.filter=_c;}}else{if(this._node_opacity_str){_i.filter=this._node_opacity_str;}else{_i.filter="";}}nexacro.__setDOMNodeStyleVisible(_i,this.visible);}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(this.linkedcontrol._is_subcontrol==true&&_b=="transparent"&&_d==""){_d=null;}}if(this._background_style!=0||this._node_bkurl!=_d||this._node_bkrepeat!=_e||this._node_bkpos!=_h){this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(_d){var _j="url("+_d+")";_i.backgroundImage=_j;_i.backgroundRepeat=_e;_i.backgroundPosition=_h;}else{_i.backgroundImage="";}}}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(this.linkedcontrol._is_subcontrol==true&&_b=="transparent"&&_d==""){_d=null;}}this._node_bkcolor=_b;this._node_gradation=_c;this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}}};_pControlElementBase._clearDOMBackgroundOnly=function(_a){if(_a){var _b=_a.style;if(this._node_bkcolor){this._node_bkcolor="";_b.backgroundColor="transparent";}if(this._node_gradation){this._node_gradation="";nexacro.__setDOMNodeStyleForceVisibility(_b,true);if(this._node_opacity_str){_b.filter=this._node_opacity_str;}else{_b.filter="";}nexacro.__setDOMNodeStyleVisible(_b,this.visible);}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";_b.backgroundImage="";}}else{this._node_bkcolor="";this._node_gradation="";this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";}};_pControlElementBase._clearDOMBackground=function(_a){if(_a){var _b=_a.style;if(this._node_bkcolor){this._node_bkcolor="";_b.backgroundColor="transparent";}if(this._node_gradation){this._node_gradation="";nexacro.__setDOMNodeStyleForceVisibility(_b,true);if(this._node_opacity_str){_b.filter=this._node_opacity_str;}else{_b.filter="";}nexacro.__setDOMNodeStyleVisible(_b,this.visible);}if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";this._background_style=0;_b.backgroundImage="";}}else{this._node_bkcolor="";this._node_gradation="";if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";this._background_style=0;}};_pControlElementBase._setControlBackground=function(_a,_b,_c,_d,_e){if(_c){var _f="";var _g=_c._syscolor;var _h=_c.image;var _i=_c.repeat;var _j=_c.position_x;var _k=_c.position_y;var _l=_c.imageedge_x;var _m=_c.imageedge_y;var _n=this._vml_elem;var _o=application.usevml;if(_e){_o=false;}_h=nexacro._getURIValue(_h);if(_h&&!nexacro._isAbsolutePath(_h)){var _p=this._getElementBaseUrl();_h=nexacro._getImageLocation(_h,_p);}if(_c.color=="@gradation"&&_d){_g="";_f=_d._sysvalue;}if(_o&&_c._sysopacity<100){var _q=this.bordertype;if(!_n&&_q&&_q._isRound()){this._clearDOMBackgroundOnly(_b);_n=new nexacro._VMLContainerElement(_a);_n.setElementSize(_a.width,_a.height);_n.setVMLBorder(_q,this.border);this._vml_elem=_n;if(_b){var _r=_b.firstChild;_n.create(_r);}}}if(_n){if(_h){if(_i=="quad"){this._clearDOMBackgroundOnly(_b);_n.setVMLBackground(_c,_d);_n.clearVMLImage();this._setDOMQuadImage(_a,_b,_h);}else if(_i=="stretch"){if(_l==0&&_m==0){this._clearDOMBackground(_b);_n.setVMLBackground(_c,_d);_n.setVMLStretchImage(_h);}else{this._clearDOMBackgroundOnly(_b);_n.setVMLBackground(_c,_d);_n.clearVMLImage();this._setDOMEdgeImage(_a,_b,_h,_l,_m);}}else{this._clearDOMBackground(_b);_n.setVMLBackground(_c,_d);_n.setVMLRepeatImage(_b,_h,_i,_j,_k);}}else{this._clearDOMBackground(_b);_n.clearVMLImage();_n.setVMLBackground(_c,_d);}_n.updateVMLInfo();}else{if(_h){if(_i=="quad"){this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMQuadImage(_a,_b,_h);}else if(_i=="stretch"){if(_l==0&&_m==0){this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMStretchImage(_a,_b,_h,_j,_k);}else{this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMEdgeImage(_a,_b,_h,_l,_m);}}else{if(!_i){_i="no-repeat";}if(_f){this._setDOMBackgroundOnly(_b,_g,_f);this._setDOMRepeatImage(_a,_b,_h,_i,_j,_k);}else{this._setDOMBackground(_b,_g,_f,_h,_i,_j,_k);}}}else{this._setDOMBackground(_b,_g,_f,"","",0,0);}}}};_pControlElementBase._createControlSubElements=function(_a,_b){if(_b){var _c=_b.style;var _d=this._dom_border;if(_d&&!_d._is_real_empty()){if(_d._linecnt==1){_c.border=_d._systop;}else{var _e=_d._getStyleObject(this._isRtl());_c.borderTop=_e._systop;_c.borderRight=_e._sysright;_c.borderBottom=_e._sysbottom;_c.borderLeft=_e._sysleft;}}var _f=this._node_bkcolor;if(_f){_c.backgroundColor=_f;}var _g=this._node_gradation;nexacro.__setDOMNodeStyleForceVisibility(_c,true);if(_g){if(this._node_opacity_str){_c.filter=_g+' '+this._node_opacity_str;}else{_c.filter=_g;}}else if(this._node_opacity_str){_c.filter=this._node_opacity_str;}nexacro.__setDOMNodeStyleVisible(_c,this.visible);var _h=this._node_bkurl;if(_h){var _i="url("+_h+")";var _j=this._node_bkrepeat;var _k=this._node_bkpos;_c.backgroundImage=_i;_c.backgroundRepeat=_j;_c.backgroundPosition=_k;}var _l=this._vml_elem;if(_l){var _m=null;_l.create(null);}var _n=this._bkimage_elem;if(_n){var _m=null;if(_a._client_element){_m=_a._client_element;}_n.create(_m);}}};_pControlElementBase._destroyControlSubElements=function(){if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(this._vml_elem){this._vml_elem.destroy();this._vml_elem=null;}};_pControlElementBase._setDOMRepeatImage=function(_a,_b,_c,_d,_e,_f){if(this._background_style==1){this._bkimage_elem.setElementInfo(_c,_d,_e,_f);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _g=new nexacro._RepeatImageElement(_a);_g.setElementPosition(this._inner_left,this._inner_top);_g.setElementSize(this._inner_width,this._inner_height);_g.setElementInfo(_c,_d,_e,_f);this._bkimage_elem=_g;this._background_style=1;if(_b){var _h=null;if(_a._client_element){_h=_a._client_element;}_g.create(_h);}}};_pControlElementBase._setDOMStretchImage=function(_a,_b,_c){if(this._background_style==2){this._bkimage_elem.setElementInfo(_c);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _d=new nexacro._StretchImageElement(_a);_d.setElementPosition(this._inner_left,this._inner_top);_d.setElementSize(this._inner_width,this._inner_height);_d.setElementInfo(_c);this._bkimage_elem=_d;this._background_style=2;if(_b){var _e=null;if(_a._client_element){_e=_a._client_element;}_d.create(_e);}}};_pControlElementBase._setDOMQuadImage=function(_a,_b,_c){if(this._background_style==3){this._bkimage_elem.setElementInfo(_c);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _d=new nexacro._QuadImageElement(_a);_d.setElementPosition(this._inner_left,this._inner_top);_d.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_d.setElementInfo(_c);this._bkimage_elem=_d;this._background_style=3;if(_b){var _e=null;if(_a._client_element){_e=_a._client_element;}_d.create(_e);}}};_pControlElementBase._setDOMEdgeImage=function(_a,_b,_c,_d,_e){if(this._background_style==4){this._bkimage_elem.setElementInfo(_c,_d,_e);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _f=new nexacro._EdgeImageElement(_a);_f.setElementPosition(this._inner_left,this._inner_top);_f.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_f.setElementInfo(_c,_d,_e);this._bkimage_elem=_f;this._background_style=4;if(_b){var _g=null;if(_a._client_element){_g=_a._client_element;}_f.create(_g);}}};}else{_pControlElementBase._isVML=function(){return false;};_pControlElementBase._setControlOpacity=function(_a,_b,_c){if(this._node_opacity!=_c){this._node_opacity=_c;if(_b){if(_c>=100){_b.style.opacity=1;}else if(_c<=0){_b.style.opacity=0;}else{_b.style.opacity=_c/100;}}}};_pControlElementBase._setControlSize=function(_a,_b,_c,_d){var _e=_c;var _f=_d;var _g=this.border;if(_g&&!_g._is_real_empty()){_e=_c-_g._getBorderWidth();_f=_d-_g._getBorderHeight();if(_e<0){_e=0;}if(_f<0){_f=0;}}if(this._inner_width!=_e||this._inner_height!=_f){this._node_width=this._inner_width=_e;this._node_height=this._inner_height=_f;if(_b){nexacro.__setDOMNodeStyleSize(_b.style,_e,_f);}var _h=this._bkimage_elem;if(_h){_h.setElementSize(_e,_f);}}};_pControlElementBase._setControlBorder=function(_a,_b,_c,_d){if(_b){if(_d){nexacro.__setDOMNodeStyleBorderType(_b.style,_d,_b);}else{nexacro.__clearDOMNodeStyleBorderType(_b.style);}}this.border=_c;var _e=_a.width;var _f=_a.height;var _g=_e;var _h=_f;if(_c&&!_c._is_real_empty()){if(_b){var _i=_b.style;if(_c._linecnt==1){_i.border=_c._systop;}else{_i.borderTop=_c._systop;_i.borderRight=_c._sysright;_i.borderBottom=_c._sysbottom;_i.borderLeft=_c._sysleft;}}_g=_e-_c._getBorderWidth();_h=_f-_c._getBorderHeight();if(_g<0){_g=0;}if(_h<0){_h=0;}}else{if(_b){_b.style.border="none";}}if(this._inner_width!=_g||this._inner_height!=_h){this._node_width=this._inner_width=_g;this._node_height=this._inner_height=_h;if(_b){var _i=_b.style;_i.width=_g+"px";_i.height=_h+"px";}var _j=this._bkimage_elem;if(_j){_j.setElementSize(_g,_h);}}};_pControlElementBase._setDOMBackgroundOnly=function(_a,_b,_c){_b=(_b?_b:"transparent");if(_a){var _d=_a.style;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_d.backgroundColor=_b;}if(this._node_gradation!=_c){this._node_gradation=_c;nexacro.__setDOMNodeStyleBackgroundGradation(_d,_c);}if(this._node_bkurl){this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";_d.backgroundImage="";}}else{this._node_bkcolor=_b;this._node_gradation=_c;this._node_bkurl="";this._node_bkrepeat="";this._node_bkpos="";}};_pControlElementBase._setDOMBackground=function(_a,_b,_c,_d,_e,_f,_g){var _h=_f+"% "+_g+"%";if(_e==""){_e="no-repeat";}_b=(_b?_b:"transparent");if(_a){var _i=_a.style;if(this._node_bkcolor!=_b){this._node_bkcolor=_b;_i.backgroundColor=_b;}if(this._background_style!=0||this._node_gradation!=_c||this._node_bkurl!=_d||this._node_bkrepeat!=_e||this._node_bkpos!=_h){this._node_gradation=_c;this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}if(nexacro.Browser=="Chrome"){if(_d&&_d.substring(0,17)=="data:image;base64"){var _j=_d.substr(0,10);var _k=_d.substr(10,_d.length-1);_d=_j+"/*"+_k;}}nexacro.__setDOMNodeStyleBackgroundImageGradation(_i,_d,_c,_e,_h);}}else{if(nexacro.Browser=="IE"&&(nexacro.BrowserVersion==9||nexacro.BrowserVersion==10)){if(this.linkedcontrol._is_subcontrol==true&&_b=="transparent"&&_d==""){_d=null;}}this._node_bkcolor=_b;if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}this._node_gradation=_c;this._node_bkurl=_d;this._node_bkrepeat=_e;this._node_bkpos=_h;}};_pControlElementBase._setControlBackground=function(_a,_b,_c,_d){if(_c){var _e="";var _f=_c._syscolor;var _g=_c.image;var _h=_c.repeat;var _i=_c.position_x;var _j=_c.position_y;var _k=_c.imageedge_x;var _l=_c.imageedge_y;var _e="";_g=nexacro._getURIValue(_g);if(_g&&!nexacro._isAbsolutePath(_g)){var _m=this._getElementBaseUrl();_g=nexacro._getImageLocation(_g,_m);}if(_c.color=="@gradation"&&_d){_f="";_e=_d._sysvalue;}if(_g){if(_h=="quad"){this._setDOMBackgroundOnly(_b,_f,_e);this._setDOMQuadImage(_a,_b,_g);}else if(_h=="stretch"&&(_k!=0||_l!=0)){this._setDOMBackgroundOnly(_b,_f,_e);this._setDOMEdgeImage(_a,_b,_g,_k,_l);}else{this._setDOMBackground(_b,_f,_e,_g,_h,_i,_j);}}else{this._setDOMBackground(_b,_f,_e,"","",0,0);}}};_pControlElementBase._createControlSubElements=function(_a,_b){if(_b){var _c=_b.style;var _d=this.bordertype;if(_d){var _e=_d._getStyleObject(this._isRtl());nexacro.__setDOMNodeStyleBorderType(_b.style,_e,_b);}var _f=this.border;if(_f&&!_f._is_real_empty()){if(_f._linecnt==1){_c.border=_f._systop;}else{var _g=_f._getStyleObject(this._isRtl());_c.borderTop=_g._systop;_c.borderRight=_g._sysright;_c.borderBottom=_g._sysbottom;_c.borderLeft=_g._sysleft;}}var _h=this._node_bkcolor;if(_h){_c.backgroundColor=_h;}var _i=this._node_gradation;var _j=this._node_bkurl;var _k=this._node_bkrepeat;var _l=this._node_bkpos;nexacro.__setDOMNodeStyleBackgroundImageGradation(_c,_j,_i,_k,_l);var _m=this._bkimage_elem;if(_m){var _n=null;if(_a._client_element){_n=_a._client_element;}_m.create(_n);}}};_pControlElementBase._destroyControlSubElements=function(){if(this._bkimage_elem){this._bkimage_elem.destroy();this._bkimage_elem=null;this._background_style=0;}};_pControlElementBase._setDOMQuadImage=function(_a,_b,_c){if(this._background_style==3){this._bkimage_elem.setElementInfo(_c);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _d=new nexacro._QuadImageElement(_a);_d.setElementPosition(this._inner_left,this._inner_top);_d.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_d.setElementInfo(_c);this._bkimage_elem=_d;this._background_style=3;if(_b){var _e=null;if(_a._client_element){_e=_a._client_element;}_d.create(_e);}}};_pControlElementBase._setDOMEdgeImage=function(_a,_b,_c,_d,_e){if(this._background_style==4){this._bkimage_elem.setElementInfo(_c,_d,_e);}else{if(this._bkimage_elem){this._bkimage_elem.destroy();}var _f=new nexacro._EdgeImageElement(_a);_f.setElementPosition(this._inner_left,this._inner_top);_f.setElementSize(this._inner_width,this._inner_height,(this._vml_elem!=null));_f.setElementInfo(_c,_d,_e);this._bkimage_elem=_f;this._background_style=4;if(_b){var _g=null;if(_a._client_element){_g=_a._client_element;}_f.create(_g);}}};}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<8){_pControlElementBase.setAccessibility=nexacro._emptyFn;_pControlElementBase.notifyAccessibility=nexacro._emptyFn;_pControlElementBase._makeAccessibilityLabelbyReadtype=nexacro._emptyFn;}else{_pControlElementBase.setAccessibility=function(_a){var _b=_a._role;var _c=_a.enable;var _d=_a._desclevel?_a._desclevel:_a.desclevel;var _e=(_a._label?_a._label:_a.label);var _f=_a._description?_a._description:_a.description;var _g=_a._action?_a._action:_a.action;var _h=this._handle;if(_h){if(_b!=this.accessibility_role&&_b!="none"){this.accessibility_role=_b;nexacro.__setDOMNodeAccessibilityRole(_h,_b);}if(_d!=this.accessibility_desclevel){this.accessibility_desclevel=_d;nexacro.__setDOMNodeAccessibilityDescLevel(_h,_d);}if(_e!=this.accessibility_label){this.accessibility_label=_e;}if(_f!=this.accessibility_description){this.accessibility_description=_f;nexacro.__setDOMNodeAccessibilityDescription(_h,_f);}if(_g!=this.accessibility_action){this.accessibility_action=_g;}var _i=this._makeAccessibilityLabelbyReadtype();if(_i!=this.accessibility_readlabel){this.accessibility_readlabel=_i;nexacro.__setDOMNodeAccessibilityLabel(_h,_i);}this.accessibility_enable=_c;}else{this.accessibility_role=_b;this.accessibility_desclevel=_d;this.accessibility_label=_e;this.accessibility_description=_f;this.accessibility_action=_g;this.accessibility_enable=_c;}};_pControlElementBase.notifyAccessibility=function(_a,_b,_c){var _d=this._makeAccessibilityLabelbyReadtype(this);this.accessibility_readlabel=_d;nexacro.__notifyAccessibility(this._handle,_a?_a:this.accessibility_readlabel,_b?_b:"notify",this,_c);};_pControlElementBase._makeAccessibilityLabelbyReadtype=function(){var _a=" ";if(this.accessibility_desclevel!="none"&&this.accessibility_desclevel!="child"){if((nexacro._accessibilitydescreadtype&0x01)==0x01){_a=nexacro.AccessibilityUtil.getAccessibilityLabel(this);}if((nexacro._accessibilitydescreadtype&0x02)==0x02&&this.accessibility_action){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityAction(this);}if((nexacro._accessibilitydescreadtype&0x04)==0x04&&this.accessibility_description){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityDescription(this);}if(nexacro.AccessibilityUtil.getAccessibilityAdditionalLabel){_a+=" "+nexacro.AccessibilityUtil.getAccessibilityAdditionalLabel(this);}}return _a;};}nexacro.SimpleControlElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pSimpleControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.SimpleControlElement);nexacro.SimpleControlElement.prototype=_pSimpleControlElement;_pSimpleControlElement._type_name="SimpleControlElement";_pSimpleControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);if(this.mirror){var _e=this.background;if(_e&&_e.image){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());if(this._client_element&&this._client_element._handle){nexacro.__setDOMNodeStyleTransformMirror(this._client_element._handle.style,this.mirror&&this._isRtl());}}}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}};_pSimpleControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pSimpleControlElement._updateClientSize=function(){this.client_left=this._inner_left;this.client_top=this._inner_top;this.client_width=this._inner_width;this.client_height=this._inner_height;};_pSimpleControlElement.getContainerElement=function(){return this;};_pSimpleControlElement.setElementPadding=function(_a){};_pSimpleControlElement.setElementPaddingXY=function(_a,_b,_c,_d){};_pSimpleControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pSimpleControlElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pSimpleControlElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pSimpleControlElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pSimpleControlElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pSimpleControlElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pControlElementBase.saveToImage=nexacro._emptyFn;_pControlElementBase.saveToImageFile=nexacro._emptyFn;_pControlElementBase.saveToImageObject=nexacro._emptyFn;_pSimpleControlElement.setElementHScrollPos=function(_a){if(_a<0){_a=0;}if(this.scroll_left!=_a||this._reset_scrollpos){this.scroll_left=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeHScrollPos(_b,_a);}}};_pSimpleControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(this.scroll_top!=_a||this._reset_scrollpos){this.scroll_top=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeVScrollPos(_b,_a);}}};_pSimpleControlElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(this.scroll_left!=_a||this.scroll_top!=_b){this.scroll_left=_a;this.scroll_top=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeOffset(_c,_a,_b);}}};_pSimpleControlElement._refreshVMLContainerElement=function(_a,_b){if(_a&&_b&&_a._dest_handle&&_b._dest_handle){var _c=_b._dest_handle.parentNode;var _d=nexacro.__getLastChildDOMNode(_c);if(_d&&_b._dest_handle!=_d){nexacro.__unlinkDOMNode(_c,_b._dest_handle);_c.insertBefore(_b._dest_handle,_d);return true;}}return false;};nexacro.ControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.ControlElement);nexacro.ControlElement.prototype=_pControlElement;_pControlElement._type_name="ControlElement";_pControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);if(this.rtldirection){nexacro.__setDOMNodeStyleDirection(_d,this.rtldirection);}}if(this._handle&&!this._client_element._handle){this._client_element.create();}if(_d){var _e=this.background;if(_e&&_e.image){nexacro.__setDOMNodeStyleTransformMirror(_d,this.mirror&&this._isRtl());nexacro.__setDOMNodeStyleTransformMirror(this._client_element._handle.style,this.mirror&&this._isRtl());}}}};_pControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pControlElement.getContainerElement=function(){return this._client_element;};_pControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;if(this.padding){var _f=this.padding._getStyleObject(this._isRtl());_a+=_f.left;_b+=_f.top;_c-=(_f.left+_f.right);_d-=(_f.top+_f.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){if(this._isRtl()){_a+=this.padding_right;}else{_a+=this.padding_left;}_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}var _e=this._client_element;if(_e){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_e.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_e.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pControlElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;this._updateClientSize();};_pControlElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;this._updateClientSize();};_pControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pControlElement.sendToBackElement=function(_a){this._client_element.sendToBackElement(_a);};_pControlElement.bringToFrontElement=function(_a){this._client_element.bringToFrontElement(_a);};_pControlElement.moveToNextElement=function(_a,_b){this._client_element.moveToNextElement(_a,_b);};_pControlElement.moveToPrevElement=function(_a,_b){this._client_element.moveToPrevElement(_a,_b);};nexacro.FrameControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;this._border_elems=new nexacro.Collection();this._frame_node=null;};var _pFrameControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.FrameControlElement);nexacro.FrameControlElement.prototype=_pFrameControlElement;_pFrameControlElement._type_name="FrameControlElement";_pFrameControlElement._title_control=null;_pFrameControlElement._menubar_control=null;_pFrameControlElement._status_control=null;_pFrameControlElement._title_height=0;_pFrameControlElement._menu_height=0;_pFrameControlElement._status_height=0;_pFrameControlElement._title_top=0;_pFrameControlElement._title_width=0;_pFrameControlElement._menu_top=0;_pFrameControlElement._menu_width=0;_pFrameControlElement._status_top=0;_pFrameControlElement._status_width=0;_pFrameControlElement._max_child_zindex=0;_pFrameControlElement._is_window_element=false;_pFrameControlElement._resizable=false;_pFrameControlElement._doc=null;_pFrameControlElement.create=function(){if(!this._handle){if(this._parent_elem==null){var _a=this.linkedcontrol._getWindow();var _b=this._doc=_a._doc;this._owner_elem=_a;this._is_window_element=true;this.left=0;this.top=0;this.width=this._node_width=_a.clientWidth;this.height=this._node_height=_a.clientHeight;var _c;if(_a._custom_node_id){_c=this._handle=this._dest_handle=_a._dest_handle=_b.createElement("DIV");}else{_c=this._handle=this._dest_handle=_a._dest_handle;}this.linkedcontrol._unique_id=this.linkedcontrol.id;_c.id=this.linkedcontrol.id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!_a._custom_node_id&&!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){nexacro.__setDOMNodeStyleFixed(_d);}nexacro.__setDOMNodeStyleMargin(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);this._client_element.create();}else{var _e=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement();if(_e&&_e._handle&&!this._handle){this._owner_elem=_e;var _b=_e.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;var _d=_c.style;if(_e instanceof nexacro.ModalOverlayElement){if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_e._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);if(this._client_element){this._client_element.create();}this._frame_node=nexacro._createFrameNode(_c,this.left,this.top,_b);}}if(this._resizable){this._createBorderElements();this._updateBorderElementsPosition();}}else{if(this._parent_elem==null){var _a=this.linkedcontrol._getWindow();if(this._handle!=_a._dest_handle){var _f=this._handle;var _b=this._doc=_a._doc;this._owner_elem=_a;this._is_window_element=true;this.left=0;this.top=0;this.width=this._node_width=_a.clientWidth;this.height=this._node_height=_a.clientHeight;var _c=this._handle=this._dest_handle=_a._dest_handle;this.linkedcontrol._unique_id=this.linkedcontrol.id;_c.id=this.linkedcontrol.id;_c._linked_element=this;_c._element_type=1;var _d=_c.style;if(this.border){this.border=null;}this._title_height=0;this._status_height=0;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStyleMargin(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);if(_f.hasChildNodes()){var _g=_f.childNodes;for(var _h=0;_h<_g.length;_h++ ){var _i=_g[_h];nexacro.__appendDOMNode(_c,_i);}}this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}}};_pFrameControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._is_window_element&&(!this._owner_elem||_b)){nexacro.__removeDOMNode(_b,_a);}nexacro._destroyFrameNode(_a,this._frame_node);this._frame_node=null;this._owner_elem=null;this._doc=null;if(!this._is_window_element){this._dest_handle=null;}this._handle=null;this._destroyBorderElements();this._destroyControlSubElements();if(this._client_element){this._client_element.destroy();}this._client_element=null;this._dest_handle=null;this._title_control=null;this._menubar_control=null;this._status_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pFrameControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};_pFrameControlElement._removeFromContainer=function(){var _a=this._owner_elem;if(_a){this._owner_elem=null;var _b=this._handle;if(_b&&_a._handle){if(_a._dest_handle!=_b){nexacro.__unlinkDOMNode(_a._dest_handle,_b);}}}};_pFrameControlElement.getContainerElement=function(){return this._client_element;};_pFrameControlElement.getRootWindowHandle=function(){if(this._is_window_element){return this._doc;}else if(this._owner_elem){return this._owner_elem.getRootWindowHandle();}else if(this._parent&&this._parent.getRootWindowHandle){return this._parent.getRootWindowHandle();}return null;};_pFrameControlElement.setElementBorder=function(_a,_b){if(this.linkedcontrol&&this.linkedcontrol._is_window){return;}nexacro.ControlElementBase.prototype.setElementBorder.call(this,_a,_b);};_pFrameControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this._title_control;if(_e){if(!this._is_verticalmin&&(this.client_left!=_a||this._title_top!=_b||this._title_width!=_c)){this._title_top=_b;this._title_width=_c;_e.move(_a,_b,_c,this._title_height);}else if(this._is_verticalmin&&(this.client_top!=_b||this._title_top!=_b||this._title_height!=_d)){this._title_top=_b;this._title_width=_c;_e.move(_a,_b,_c,_d);}_b+=this._title_height;_d-=this._title_height;if(_d<0){_d=0;}}else{this._title_top=_b;}var _f=this._menubar_control;if(_f){var _i=_b;if(this.client_left!=_a||this._menu_top!=_b||this._menu_width!=_c){this._menu_top=_b;this._menu_width=_c;_f.move(_a,_b,_c,this._menu_height);}_b+=this._menu_height;_d-=this._menu_height;if(_d<0){_d=0;}}else{this._menu_top=_b;}var _g=this._status_control;if(_g){if(this._status_height>0){_d-=this._status_height;if(_d<0){_d=0;}}var _j=_b+_d;if(this.client_left!=_a||this._status_top!=_j||this._status_width!=_c){this._status_top=_j;this._status_width=_c;_g.move(_a,_j,_c,this._status_height);}}else{this._status_top=_b+_d;}var _h=this._client_element;if(_h){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_h.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_h.setElementSize(_c,_d);}}this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;this._updateBorderElementsPosition();};_pFrameControlElement.appendChildElement=function(_a){if(this._handle){if(!this._client_element){return;}if(_a._parent_elem==this._client_element){_a._is_nc_element=true;}else{if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this._client_element;_a._removeFromContainer();}else{_a._parent_elem=this._client_element;}}else{_a._parent_elem=this._client_element;}}_a._is_nc_element=true;_a.setElementPosition(0,0);_a.setElementSize(this.client_width,this.client_height);if(this.font){_a.setElementFont(this.font);}if(this.color){_a.setElementColor(this.color);}if(this.align){_a.setElementAlign(this.align);}else if(this.halign||this.valign){_a.setElementAlignXY(this.halign,this.valign);}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pFrameControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pFrameControlElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem&&_a._owner_elem._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);if(_a._border_elems){for(var _b=0;_b<_a._border_elems.length;_b++ ){nexacro.__setElementHandleSendToBack(_a._border_elems[_b]._handle);}}}};_pFrameControlElement.bringToFrontElement=function(_a){if(this._client_element&&this._client_element._handle){this._max_child_zindex++ ;var _b=(this._max_child_zindex*10);_a.setElementZIndex(_b);if(_a._border_elems){for(var _c=0;_c<_a._border_elems.length;_c++ ){_a._border_elems[_c].setElementZIndex(_b+(_c+1));}}}};_pFrameControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pFrameControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pFrameControlElement.setTitleBarControl=function(_a,_b){if(this._title_control!=_a){if(_a){_a._is_nc_control=true;this._title_control=_a;this._title_height=parseInt(_b)|0;this._title_width=0;}else{this._title_control=null;this._title_height=0;this._title_width=0;}this._updateClientSize();}else if(_a){this._title_height=parseInt(_b)|0;this._title_width=0;this._updateClientSize();}};_pFrameControlElement.setStatusBarControl=function(_a,_b){if(this._status_control!=_a){if(_a){_a._is_nc_control=true;this._status_control=_a;this._status_height=parseInt(_b)|0;this._status_width=0;}else{this._status_control=null;this._status_height=0;this._status_width=0;}this._updateClientSize();}else if(_a){this._status_height=parseInt(menu_height)|0;this._status_width=0;this._updateClientSize();}};_pFrameControlElement.setMenuBarControl=function(_a,_b){if(this._menu_control!=_a){if(_a){_a._is_nc_control=true;this._menu_control=_a;this._menu_height=parseInt(_b)|0;this._menu_width=0;_a.set_visible(this._menu_height>0);}else{this._menu_control=null;this._menu_height=0;this._menu_width=0;}this._updateClientSize();}else if(_a){this._menu_height=parseInt(_b)|0;this._menu_width=0;_a.set_visible(this._menu_height>0);}};_pFrameControlElement._createBorderElements=function(){if(this.parent==null||this._parent_elem==null){return;}if(this._border_elems.length>0){return;}var _a=Array("lt","t","rt","l","r","lb","b","rb");for(var _b=0;_b<8;_b++ ){var _c=new nexacro.FrameResizeBorderElement(this._parent_elem);_c.parent=this;this._border_elems.add_item(_a[_b],_c);}this._setResizable(this._resizable);for(var _b=0;_b<8;_b++ ){var _c=this._border_elems[_b];_c.linkedcontrol=this.linkedcontrol;_c.create();}};_pFrameControlElement._destroyBorderElements=function(){for(var _a=0;_a<this._border_elems.length;_a++ ){this._border_elems[_a].destroy();this._border_elems[_a]=null;}};_pFrameControlElement.setElementPosition=function(_a,_b){nexacro.ControlElementBase.prototype.setElementPosition.call(this,_a,_b);this._updateBorderElementsPosition();};_pFrameControlElement.setElementSize=function(_a,_b){nexacro.ControlElementBase.prototype.setElementSize.call(this,_a,_b);this._updateBorderElementsPosition();};_pFrameControlElement._updateBorderElementsPosition=function(){if(this._border_elems.length==0){return;}var _a=this.border;if(!_a){return;}var _b,_c,_d,_e;if(_a._linecnt==1){_b=_c=_d=_e=_a._getBorderLeftWidth();}else{_b=_a._getBorderLeftWidth();_c=_a._getBorderTopWidth();_d=_a._getBorderRightWidth();_e=_a._getBorderBottomWidth();}var _f=this._inner_width;var _g=this._inner_height;if(_b<5){var _n=5-_b;_b+=_n;_f-=_n;}if(_c<5){var _o=5-_c;_c+=_o;_g-=_o;}if(_d<5){var _p=5-_d;_d+=_p;_f-=_p;}if(_e<5){var _q=5-_e;_e+=_q;_g-=_q;}var _h=this.left;var _i=this.top;var _j=_h+this.width;var _k=_i+this.height;var _l=_h;var _m=_i;for(var _r=0;_r<8;_r++ ){this._border_elems[_r].setElementPosition(_l,_m);switch(_r){case 0:_l+=_b;break;case 1:_l+=_f;break;case 2:_l=_h;_m+=_c;break;case 3:_l+=(_b+_f);break;case 4:_l=_h;_m+=_g;break;case 5:_l+=_b;break;case 6:_l+=_f;break;case 7:break;}}for(var _r=0;_r<8;_r++ ){if(_r==0||_r==3||_r==5){_l=_b;}if(_r==1||_r==6){_l=_f;}if(_r==2||_r==4||_r==7){_l=_d;}if(_r<3){_m=_c;}else if(_r<5){_m=_g;}else{_m=_e;}this._border_elems[_r].setElementSize(_l,_m);}};_pFrameControlElement._setResizable=function(_a){this._resizable=_a;if(this._handle){if(this._border_elems.length==0){if(_a){this._createBorderElements();this._updateBorderElementsPosition();}else{return;}}var _b=Array("nw","n","ne","w","e","sw","s","se");for(var _c=0;_c<8;_c++ ){var _d=this._border_elems[_c];_d._is_track=_a;var _e;if(_a){_e=new nexacro.Style_value(_b[_c]+"-resize");}else{_e=new nexacro.Style_value("arrow");}_d.setElementCursor(_e);}}if(this._status_control){this._status_control._setResizable(_a);}};nexacro.FrameResizeBorderElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pFrameResizeBorderElement=nexacro._createPrototype(nexacro.SimpleControlElement,nexacro.FrameResizeBorderElement);nexacro.FrameResizeBorderElement.prototype=_pFrameResizeBorderElement;_pFrameResizeBorderElement._type_name="FrameResizeBorderElement";_pFrameResizeBorderElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement();if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);if(this._client_element){this._client_element.create();}}};_pFrameResizeBorderElement._on_starttrack=function(){this.linkedcontrol._on_border_starttrack(this.cursor);};_pFrameResizeBorderElement._on_endtrack=function(_a,_b,_c){this.linkedcontrol._on_border_endtrack(_a,_b,_c);};_pFrameResizeBorderElement._on_movetrack=function(_a,_b,_c){this.linkedcontrol._on_border_movetrack(_a,_b,_c);};delete _pFrameResizeBorderElement;nexacro.ModalOverlayElement=function(_a){this._parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pModalOverlayElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.ModalOverlayElement);nexacro.ModalOverlayElement.prototype=_pModalOverlayElement;_pModalOverlayElement._type_name="ModalOverlayElement";_pModalOverlayElement.create=function(_a,_b,_c){if(this._parent_elem&&!this._handle){var _d=this.linkedcontrol._getWindow();var _e=this._doc=this._parent.getRootWindowHandle();var _f=this._handle=this._dest_handle=_e.createElement("div");_f._linked_element=this;var _g=_d._handle;this.width=nexacro._getWindowHandleClientWidth(_g)||_d.clientWidth;this.height=nexacro._getWindowHandleClientHeight(_g)||_d.clientHeight;var _h=_f.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,0,0);nexacro.__setDOMNodeStyleSize(_h,this.width,this.height);nexacro.__setDOMNodeStyleZindex(_h,_a);this.setElementColor(_b);var _d=this.linkedcontrol._getWindow();var _i=_d;if(_c){_i._dest_handle.insertBefore(_f,_c);}else{nexacro.__appendDOMNode(_i._dest_handle,_f);}if(this._client_element){this._client_element.setElementSize(this.width,this.height);this._client_element.create();}this._refreshForeground(_i._dest_handle,_i._dest_handle.style);this._frame_node=nexacro._createFrameNode(_f,this.left,this.top,_e);}};_pModalOverlayElement.destroy=function(){if(!this._handle){return;}var _a=this.linkedcontrol._getWindow();var _b=_a;nexacro.__removeDOMNode(_b._dest_handle,this._handle);this._handle=null;this._client_element.destroy();this._client_element=null;nexacro._destroyFrameNode(this._handle,this._frame_node);this._frame_node=null;this._refreshForeground(_b._dest_handle,_b._dest_handle.style);};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_pModalOverlayElement.setElementColor=function(_a){_a=this._preventTransparentHittest(_a);this.color=_a;this._createVMLNode();};}else{_pModalOverlayElement.setElementColor=function(_a){_a=this._preventTransparentHittest(_a);this.color=_a;this._setDOMBackgroundOnly(this._handle,_a?_a._syscolor:0,null);};}_pModalOverlayElement._preventTransparentHittest=function(_a){if(!_a){return;}if(_a._value=="transparent"||_a._syscolor=="transparent"){_a._setValue("#ffffff01");}else if(_a._sysalpha==0){_a._sysalpha=1;var _b=_a._value;if(_b.length==9&&_b[7]=='0'&&_b[8]=='0'){_a._value=_b.slice(0,8)+"1";}_b=_a.value;if(_b.length==9&&_b[7]=='0'&&_b[8]=='0'){_a.value=_b.slice(0,8)+"1";}}return _a;};_pModalOverlayElement.setElementSize=function(_a,_b){var _c=nexacro.ControlElement.prototype.setElementSize.call(this,_a,_b);if(this._vml_node){var _d=_a;var _e=_b;this._vml_node.path="m 0,0 l "+_d+",0, "+_d+","+_e+", 0,"+_e+" x e";if(this._vml_fillnode){this._vml_node.removeChild(this._vml_fillnode);}var _f=this._doc;var _g=this.color;var _h=_g?_g._syscolor:0;var _i=_g?_g._sysalpha*100/255:100;var _j=_f.createElement("<v:fill color='"+_h+"' opacity='"+_i+"%'/>");this._vml_node.appendChild(_j);this._vml_fillnode=_j;}return _c;};_pModalOverlayElement._createVMLNode=function(){if(!this._handle){return;}if(this._vml_node){this._destroyVMLNode();}var _a=this.width;var _b=this.height;var _c=this._doc;var _d=_c.createElement("<v:shape stroked='f' style='position:absolute;width:"+_a+"px;height:"+_b+"px' coordorigin='0 0' coordsize='"+_a+" "+_b+"'/>");_a=parseInt(_a|1);_b=parseInt(_b|1);_d.path="m 0,0 l "+_a+",0, "+_a+","+_b+", 0,"+_b+" x e";this._handle.appendChild(_d);this._vml_node=_d;var _e=this.color;var _f=_e?_e._syscolor:0;var _g=_e?_e._sysalpha*100/255:100;var _h=_c.createElement("<v:fill color='"+_f+"' opacity='"+_g+"%'/>");_d.appendChild(_h);this._vml_fillnode=_h;};_pModalOverlayElement._destroyVMLNode=function(){if(this._handle&&this._vml_node){var _a=this._vml_node;nexacro.__removeDOMNode(this._handle,this._vml_node);this._vml_node=null;this._vml_fillnode=null;}};_pModalOverlayElement.getContainerElement=function(){return this._client_element;};_pModalOverlayElement.getRootWindowHandle=function(){return this._doc;};delete _pModalOverlayElement;nexacro.ScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ScrollableContainerElement(this);this._client_element=_b;};var _pScrollableControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.ScrollableControlElement);nexacro.ScrollableControlElement.prototype=_pScrollableControlElement;_pScrollableControlElement._type_name="ScrollableControlElement";_pScrollableControlElement._zoomFactor=100;_pScrollableControlElement.scroll_left=0;_pScrollableControlElement.scroll_top=0;_pScrollableControlElement.container_maxwidth=0;_pScrollableControlElement.container_maxheight=0;_pScrollableControlElement._hscroll_visible=false;_pScrollableControlElement._vscroll_visible=false;_pScrollableControlElement._hscroll_height=0;_pScrollableControlElement._vscroll_width=0;_pScrollableControlElement._hscroll_left=0;_pScrollableControlElement._hscroll_top=0;_pScrollableControlElement._hscroll_width=0;_pScrollableControlElement._vscroll_left=0;_pScrollableControlElement._vscroll_top=0;_pScrollableControlElement._vscroll_height=0;_pScrollableControlElement.hscroll_limit=0;_pScrollableControlElement.vscroll_limit=0;_pScrollableControlElement._scroll_showtype= -1;_pScrollableControlElement._scrollview_width_top=0;_pScrollableControlElement._step_count=0;_pScrollableControlElement._step_index= -1;_pScrollableControlElement._hscroll_control=null;_pScrollableControlElement._vscroll_control=null;_pScrollableControlElement._resizebutton_element=null;_pScrollableControlElement._step_containers=null;_pScrollableControlElement._scroll_overlap=false;_pScrollableControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}if(this._handle){var _e=this._step_count;if(_e>0){this._step_containers=[];for(var _f=0;_f<_e;_f++ ){var _g=new nexacro.ContainerElement(this._client_element);_g.setElementPosition(_f*this.client_width,0);_g.setElementSize(this.client_width,this.client_height);_g.create();this._step_containers.push(_g);}if(this._scroll_showtype>=0){this._updateClientSize();}}}}};_pScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;var _c=this._step_containers;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){var _f=_c[_e];_f.destroy();}this._step_containers=null;}this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pScrollableControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();var _a=this._step_containers;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){var _d=_a[_c];_d.destroy();}this._step_containers=null;}}};_pScrollableControlElement.getContainerElement=function(_a){var _b=this._step_count;var _c=this._step_index;var _d=this._step_containers;if(_b>0&&_d&&_b>_a){if(_a<0||_a==null){_a=(_c> -1?_c:0);}return _d[_a];}else{return this._client_element;}};_pScrollableControlElement.setElementStepCount=function(_a){if(this._step_count!=_a){var _b=this._step_count;var _c=this._step_containers;if(_c&&this._step_count){for(var _d=0;_d<_b;_d++ ){var _e=_c[_d];_e.destroy();}this._step_containers=null;}this._step_count=_a;if(this._handle&&_a>0){this._step_containers=[];for(var _d=0;_d<_a;_d++ ){var _e=new nexacro.ContainerElement(this._client_element);_e.setElementPosition(_d*this.client_width,0);_e.setElementSize(this.client_width,this.client_height);_e.create();this._step_containers.push(_e);}}if(this._scroll_showtype>=0){this._updateClientSize();}}};_pScrollableControlElement.setElementStepIndex=function(_a){if(this._step_index!=_a){if(this._step_count>0){if(_a> -1&&this._step_count>_a){this._step_index=_a;}}else{this._step_index=_a;}}};_pScrollableControlElement.getZoom=function(){return this._zoomFactor;};_pScrollableControlElement.setZoom=function(_a){var _b=this._handle;if(_b){if(_a<0){_a=0;}this._zoomFactor=_a;var _c=this.getContainerElement(this._step_index);if(_c){this._client_element.setZoom(_a);}this._updateClientSize();}};_pScrollableControlElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;this._updateClientSize();};_pScrollableControlElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;this._updateClientSize();};_pScrollableControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this.padding;if(this.padding){_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}var _f=this._client_element;if(!_f||_c==0||_d==0){return;}var _g=this._zoomFactor/100;var _h=_c/_g;var _i=_d/_g;var _j=this._scroll_showtype;var _k=false;var _l=this.container_maxwidth;var _m=this.container_maxheight;if(_g!=1){var _q=4;_h=nexacro.floor(_h,_q);_i=nexacro.floor(_i,_q);_l=nexacro.floor(_l,_q);_m=nexacro.floor(_m,_q);}var _n=this._step_count;var _o=this._step_index;var _p=this._step_containers;if(_n>0&&_p){_k=true;}if(_j>0){var _r=false;var _s=false;var _t=0;var _u=0;if(_j==1){if(this._vscroll_control&&_m>_i){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m-_i;}if(_n>0&&_p){_l=_n*_h;}if(this._hscroll_control&&_l>_h){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}if(this._vscroll_control&&_m>_i){if(!_s){_s=true;_c-=this._vscroll_width;_h=_c/_g;}_u=_m-_i;}_t=_l-_h;}}else if(_j==2){if(this._vscroll_control){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m+this._hscroll_height-_i;}if(_n>0&&_p){_l=_n*_h;}if(this._hscroll_control){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}_t=_l-_h;}}else if(_j==31){if(this._vscroll_control){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m-_i;}if(_n>0&&_p){_l=_n*_h;}if(this._hscroll_control&&_l>_h){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}if(this._vscroll_control&&_m>_i){if(!_s){_s=true;_c-=this._vscroll_width;_h=_c/_g;}_u=_m-_i;}_t=_l-_h;}}else if(_j==32){if(this._vscroll_control&&_m>_i){_s=true;_c-=this._vscroll_width;_h=_c/_g;_u=_m+this._hscroll_height-_i;}if(_n>0&&_p){_l=_n*_h;}if(this._hscroll_control){if(!_k){_r=true;_d-=this._hscroll_height;_i=_d/_g;}_t=_l-_h;}}var _v=false;var _w=false;if(this.hscroll_limit!=_t){_w=true;this.hscroll_limit=_t;}if(this.vscroll_limit!=_u){_v=true;this.vscroll_limit=_u;}var _x=false;var _y=false;var _z=false;var _aa=false;if(this.scroll_top>_u){_x=true;this.scroll_top=_u;}if(this.scroll_left>_t){_y=true;this.scroll_left=_t;}if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b);}if(this.client_width!=_h||this.client_height!=_i||_f.width!=_h||_f.height!=_i){this.client_width=_c;this.client_height=_d;_f.setElementSize(_h,_i);if(_n>0&&_p){for(var _ab=0;_ab<_n;_ab++ ){var _ac=_p[_ab];_ac.setElementPosition(_h*_ab,0);_ac.setElementSize(_h,_d);}_o=this._step_index;var _ad=_h*_o;if(this.scroll_left!=_ad){_y=true;this.scroll_left=_ad;}}}if(_y){_f.setElementHScrollPos(this.scroll_left);}if(_x){_f.setElementVScrollPos(this.scroll_top);}if(this._vscroll_control){if(this._vscroll_control.parent.enable!=this._vscroll_control.enable){_z=true;}if(_s){if(!this._vscroll_visible){this._vscroll_visible=true;this._vscroll_control.set_visible(true);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_v){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_i,_i,true,this.scroll_top);}else if(_x){this._vscroll_control._setScrollPos(this.scroll_top);}if(_z){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}}else{if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_v){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left-this._vscroll_width,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_i,_i,false,this.scroll_top);}else if(_x){this._vscroll_control._setScrollPos(this.scroll_top);}if(_z){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}if(this._vscroll_visible){this._vscroll_visible=false;this._vscroll_control.set_visible(false);}}}if(this._hscroll_control){if(this._hscroll_control.parent.enable!=this._hscroll_control.enable){_aa=true;}if(_r){if(!this._hscroll_visible){this._hscroll_visible=true;this._hscroll_control.set_visible(true);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_w){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_h,_h,true,this.scroll_left);}else if(_y){this._hscroll_control._setScrollPos(this.scroll_left);}if(_aa){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}}else{if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_w){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top-this._hscroll_height,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_h,_h,false,this.scroll_left);}else if(_y){this._hscroll_control._setScrollPos(this.scroll_left);}if(_aa){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}if(this._hscroll_visible){this._hscroll_visible=false;this._hscroll_control.set_visible(false);}}}}else{if(_n>0&&_p){_l=_n*_h;var _t=0;if(_l>_h){_t=_l-_h;}if(this.hscroll_limit!=_t){this.hscroll_limit=_t;}}if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b);}if(this.client_width!=_h||this.client_height!=_i||_f.width!=_h||_f.height!=_i){this.client_width=_c;this.client_height=_d;_f.setElementSize(_h,_i);if(_n>0&&_p&&_n>_o){for(var _ab=0;_ab<_n;_ab++ ){var _ac=_p[_ab];_ac.setElementPosition(_h*_ab,0);_ac.setElementSize(_h,_d);}}}}};_pScrollableControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{var _d=this.getContainerElement(_a.position_step);_a._appendToContainer(_d);}}};_pScrollableControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pScrollableControlElement.sendToBackElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b.sendToBackElement(_a);};_pScrollableControlElement.bringToFrontElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b.bringToFrontElement(_a);};_pScrollableControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pScrollableControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pScrollableControlElement.setScrollControls=function(_a,_b,_c,_d,_e){var _f=false;if(this._scroll_showtype!=_e){this._scroll_showtype=_e;_f=true;}if(this._hscroll_control!=_a){if(_a){this._hscroll_visible=true;_a._is_nc_control=true;this._hscroll_control=_a;if(this._hscroll_height!=_c){this._hscroll_height=_c;_f=true;}}else{this._hscroll_control=null;if(this._hscroll_height){this._hscroll_height=0;_f=true;}this._hscroll_left=0;this._hscroll_top=0;this._hscroll_width=0;}}if(this._vscroll_control!=_b){if(_b){this._vscroll_visible=true;_b._is_nc_control=true;this._vscroll_control=_b;if(this._vscroll_width!=_d){this._vscroll_width=_d;_f=true;}}else{this._vscroll_control=null;if(this._vscroll_width){this._vscroll_width=0;_f=true;}this._vscroll_left=0;this._vscroll_top=0;this._vscroll_height=0;}}if(_f){this._updateClientSize();}};_pScrollableControlElement.setElementHScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(this.scroll_left!=_a||this._reset_scrollpos){this.scroll_left=_a;if(this._client_element){this._client_element.setElementHScrollPos(_a);}if(this._hscroll_control){this._hscroll_control._setScrollPos(this.scroll_left);}}};_pScrollableControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}if(this.scroll_top!=_a||this._reset_scrollpos){this.scroll_top=_a;if(this._client_element){this._client_element.setElementVScrollPos(_a);}if(this._vscroll_control){this._vscroll_control._setScrollPos(this.scroll_top);}}};_pScrollableControlElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}if(this.scroll_left!=_a||this.scroll_top!=_b){this.scroll_left=_a;this.scroll_top=_b;if(this._client_element){this._client_element.setElementScrollPos(_a,_b);}if(this._hscroll_control){this._hscroll_control._setScrollPos(this.scroll_left);}if(this._vscroll_control){this._vscroll_control._setScrollPos(this.scroll_top);}}};_pScrollableControlElement.setElementScrollMaxSize=function(_a,_b){if(this.container_maxwidth!=_a||this.container_maxheight!=_b){this.container_maxwidth=_a;this.container_maxheight=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};_pScrollableControlElement.setElementScrollbarSize=function(_a,_b){if(this._vscroll_width!=_a||this._hscroll_height!=_b){this._vscroll_width=_a;this._hscroll_height=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};_pScrollableControlElement.setElementInitPosSize=function(_a,_b,_c,_d){};delete _pControlElementBase;delete _pSimpleControlElement;delete _pControlElement;delete _pFrameControlElement;delete _pScrollableControlElement;nexacro.ContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pContainerElement=nexacro._createPrototype(nexacro.Element,nexacro.ContainerElement);nexacro.ContainerElement.prototype=_pContainerElement;_pContainerElement._type_name="ContainerElement";_pContainerElement.font=null;_pContainerElement.color=null;_pContainerElement._is_nc_element=true;_pContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c._linked_element=this;_c._element_type=2;nexacro.__setDOMNodeSelectable(_c,false);nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;if(nexacro.Browser=="IE"&&(nexacro.BrowserVersion>=8&&nexacro.BrowserVersion<=9)){nexacro.__setDOMNodeStyleFilterTransparent(_d);}nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pContainerElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){_a._linked_element=null;if(_b){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}};_pContainerElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this.parent_elem){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this.parent_elem;_a._removeFromContainer();}else{_a._parent_elem=this.parent_elem;}}else{_a._parent_elem=this.parent_elem;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pContainerElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pContainerElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pContainerElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pContainerElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pContainerElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pContainerElement.setElementFont=nexacro._emptyFn;_pContainerElement.setElementColor=function(_a){this.color=_a;if(this._handle){nexacro.__setDOMNodeStyleColor(this._handle.style,_a);}};delete _pContainerElement;nexacro.ScrollableContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pScrollableContainerElement=nexacro._createPrototype(nexacro.ContainerElement,nexacro.ScrollableContainerElement);nexacro.ScrollableContainerElement.prototype=_pScrollableContainerElement;_pScrollableContainerElement._type_name="ScrollableContainerElement";_pScrollableContainerElement._scroll_left=0;_pScrollableContainerElement._scroll_top=0;_pScrollableContainerElement._cached_scrollTop=0;_pScrollableContainerElement._cached_scrollLeft=0;_pScrollableContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeOffset(_c,this._scroll_left,this._scroll_top);}nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);}};_pScrollableContainerElement.destroy=function(){var _a=this._handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pScrollableContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;if(_b&&_b._handle){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion<=8){_pScrollableContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){var _d=_c.parent;var _e=false;if(_d._recover_vpos!=undefined){_b.scrollTop=_d._recover_vpos;_e=true;}if(_d._recover_hpos!=undefined){_b.scrollLeft=_d._recover_hpos;_e=true;}if(_e){return;}var _f=_c._scroll_top|0;var _g=_c._scroll_left|0;_c._cached_scrollLeft=_b.scrollLeft;_c._cached_scrollTop=_b.scrollTop;if(_g!=_c._cached_scrollLeft){var _h=_c._findScrollbarLinkedControl(_c,false);if(_h){_h.hscrollbar.set_pos(_c._cached_scrollLeft);}}if(_f!=_c._cached_scrollTop){var _h=_c._findScrollbarLinkedControl(_c,true);if(_h){_h.vscrollbar.set_pos(_c._cached_scrollTop);}}}};}else{_pScrollableContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){var _d=_c.parent;var _e=false;if(_d._recover_vpos!=undefined){_b.scrollTop=_d._recover_vpos;_d._recover_vpos=undefined;_e=true;}if(_d._recover_hpos!=undefined){_b.scrollLeft=_d._recover_hpos;_d._recover_hpos=undefined;_e=true;}if(_e){return;}var _f=_c._scroll_top|0;var _g=_c._scroll_left|0;_c._cached_scrollLeft=_b.scrollLeft;_c._cached_scrollTop=_b.scrollTop;if(_g!=_c._cached_scrollLeft){var _h=_c._findScrollbarLinkedControl(_c,false);if(_h){_h.hscrollbar.set_pos(_c._cached_scrollLeft);}}if(_f!=_c._cached_scrollTop){var _h=_c._findScrollbarLinkedControl(_c,true);if(_h){_h.vscrollbar.set_pos(_c._cached_scrollTop);}}}};}}else{_pScrollableContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;var _c=_b._linked_element;if(_c){var _d=_c.parent;if(_d._recover_vpos!=undefined){_b.scrollTop=_d._recover_vpos;_d._recover_vpos=undefined;return;}if(_d._recover_hpos!=undefined){_b.scrollLeft=_d._recover_hpos;_d._recover_hpos=undefined;return;}var _e=_c._scroll_top|0;var _f=_c._scroll_left|0;_c._cached_scrollLeft=_b.scrollLeft;_c._cached_scrollTop=_b.scrollTop;if(_f!=_c._cached_scrollLeft){var _g=_c._findScrollbarLinkedControl(_c,false);if(_g){_g.hscrollbar.set_pos(_c._cached_scrollLeft);}}if(_e!=_c._cached_scrollTop){var _g=_c._findScrollbarLinkedControl(_c,true);if(_g){_g.vscrollbar.set_pos(_c._cached_scrollTop);}}}};}_pScrollableContainerElement._findScrollbarLinkedControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){if(_b){if(_c.vscrollbar&&_c.vscrollbar._isVisible()){return _c;}}else{if(_c.hscrollbar&&_c.hscrollbar._isVisible()){return _c;}}}_a=_a.parent;}};_pScrollableContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._handle;if(_b){if(this._cached_scrollTop!=_a){nexacro.__setDOMNodeVScrollPos(_b,_a);}}}};_pScrollableContainerElement.setElementHScrollPos=function(_a){if(this._scroll_left!=_a||this.parent._reset_scrollpos){this._scroll_left=_a;var _b=this._handle;if(_b){if(this._cached_scrollLeft!=_a){nexacro.__setDOMNodeHScrollPos(_b,_a);}}}};_pScrollableContainerElement.setElementScrollPos=function(_a,_b){if(this._scroll_left!=_a||this._scroll_top!=_b||this.parent._reset_scrollpos){this._scroll_left=_a;this._scroll_top=_b;var _c=this._handle;if(_c){if(this._cached_scrollTop!=_b){nexacro.__setDOMNodeVScrollPos(_c,_b);}if(this._cached_scrollLeft!=_a){nexacro.__setDOMNodeHScrollPos(_c,_a);}}}};_pScrollableContainerElement.getZoom=function(){if(this._handle){var _a=nexacro.__getDOMNodeStyleTransformcale(this._handle.style);if(_a){return parseInt(_a*100.0);}return 100;}return 100;};_pScrollableContainerElement.setZoom=function(_a){if(this._handle){nexacro.__setDOMNodeStyleTransformScale(this._handle.style,_a/100);}};delete _pScrollableContainerElement;nexacro.ScrollableInnerContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pScrollableInnerContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.ScrollableInnerContainerElement);nexacro.ScrollableInnerContainerElement.prototype=_pScrollableInnerContainerElement;_pScrollableInnerContainerElement._type_name="ScrollableInnerContainerElement";_pScrollableInnerContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);var _d=_b.createElement("div");_d.id=_c.id+"_inner";nexacro.__setDOMNodeSelectable(_d,false);var _e=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);var _f=_d.style;_f.position="absolute";nexacro.__setDOMNodeStylePos(_f,0,0);nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}this._handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);nexacro.__appendDOMNode(_c,_d);this._dest_handle=_d;if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeStyleTranslate(_f, -this._scroll_left, -this._scroll_top);}nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);}};_pScrollableInnerContainerElement.destroy=function(){var _a=this._handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pScrollableInnerContainerElement._noEventScroll=false;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pScrollableInnerContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_b.scrollLeft>0){_b.scrollLeft=0;}if(_b.scrollTop>0){_b.scrollTop=0;}}};}else{_pScrollableInnerContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;var _c=_b._linked_element;if(_c){if(_b.scrollLeft>0){_b.scrollLeft=0;}if(_b.scrollTop>0){_b.scrollTop=0;}}};}_pScrollableInnerContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._dest_handle;if(_b){nexacro.__setDOMNodeStyleTranslateY(_b.style, -_a);}}};_pScrollableInnerContainerElement.setElementHScrollPos=function(_a){if(this._scroll_left!=_a||this.parent._reset_scrollpos){this._scroll_left=_a;var _b=this._dest_handle;if(_b){nexacro.__setDOMNodeStyleTranslateX(_b.style, -_a);}}};_pScrollableInnerContainerElement.setElementScrollPos=function(_a,_b){if(this._scroll_left!=_a||this._scroll_top!=_b){this._scroll_left=_a;this._scroll_top=_b;var _c=this._dest_handle;if(_c){nexacro.__setDOMNodeStyleTranslate(_c.style, -_a, -_b);}}};_pScrollableInnerContainerElement.setElementScrollMaxSize=function(_a,_b){var _c=this._dest_handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}};delete _pScrollableInnerContainerElement;nexacro.PopupControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ContainerElement(this);this._client_element=_b;this._frame_node=null;};var _pPopupControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.PopupControlElement);nexacro.PopupControlElement.prototype=_pPopupControlElement;_pPopupControlElement._type_name="PopupControlElement";_pPopupControlElement._doc=null;_pPopupControlElement._is_window_element=false;_pPopupControlElement.create=function(){if(this._parent_elem==null){if(!this._handle){var _a=this.linkedcontrol;var _b=this.linkedcontrol._getWindow();var _c=this._doc=_b._doc;var _d=_b;this._is_window_element=true;var _e=_c.createElement("div");_a._unique_id=_a.parent._unique_id+'_'+_a.id;_e.id=_a._unique_id;_e._linked_element=this;_e._element_type=1;nexacro.__setDOMNodeSelectable(_e,false);var _f=_e.style;nexacro.__setDOMNodeStyleAbsolute(_f);nexacro.__setDOMNodeStylePos(_f,this.left,this.top);nexacro.__setDOMNodeStyleSize(_f,this._node_width,this._node_height);this._handle=this._dest_handle=_e;if(_a._findOwnerElementHandle){var _g=_a._findOwnerElementHandle();if(_g.is_append){nexacro.__appendDOMNode(_g.owner_handle,_e);}else{_g.owner_handle.insertBefore(_e,_g.ref_handle);}this._owner_elem=_g.owner_handle._linked_element;}else{nexacro.__appendDOMNode(_d._dest_handle,_e);this._owner_elem=_d;}this._createControlSubElements(this,_e);this._refreshForeground(_e,_f);this._frame_node=nexacro._createFrameNode(_e,this.left,this.top,_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pPopupControlElement.getRootWindowHandle=function(){return this._doc;};_pPopupControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}nexacro._destroyFrameNode(_a,this._frame_node);this._frame_node=null;this._owner_elem=null;this._doc=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};delete _pPopupControlElement;nexacro.PopupScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;var _b=new nexacro.ScrollableContainerElement(this);this._client_element=_b;this._frame_node=null;};var _pPopupScrollableControlElement=nexacro._createPrototype(nexacro.ScrollableControlElement,nexacro.PopupScrollableControlElement);nexacro.PopupScrollableControlElement.prototype=_pPopupScrollableControlElement;_pPopupScrollableControlElement._type_name="PopupScrollableControlElement";_pPopupScrollableControlElement._doc=null;_pPopupScrollableControlElement._is_window_element=true;_pPopupScrollableControlElement.create=function(_a){if(this._parent_elem==null){if(!this._handle){var _b=this.linkedcontrol._getWindow();var _c=this._doc=_b._doc;var _d=_b;this._is_window_element=true;var _e=_c.createElement("div");var _f=this.linkedcontrol;_f._unique_id=_f.parent._unique_id+'_'+_f.id;_e.id=_f._unique_id;_e._linked_element=this;_e._element_type=1;nexacro.__setDOMNodeSelectable(_e,false);var _g=_e.style;nexacro.__setDOMNodeStyleAbsolute(_g);nexacro.__setDOMNodeStylePos(_g,this.left,this.top);nexacro.__setDOMNodeStyleSize(_g,this._node_width,this._node_height);this._handle=this._dest_handle=_e;if(_f._findOwnerElementHandle){var _h=_f._findOwnerElementHandle();if(_h.is_append){nexacro.__appendDOMNode(_h.owner_handle,_e);}else{_h.owner_handle.insertBefore(_e,_h.ref_handle);}this._owner_elem=_h.owner_handle._linked_element;}else{nexacro.__appendDOMNode(_d._dest_handle,_e);this._owner_elem=_d;}this._createControlSubElements(this,_e);this._refreshForeground(_e,_g);this._frame_node=nexacro._createFrameNode(_e,this.left,this.top,_c);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pPopupScrollableControlElement.getRootWindowHandle=function(){return this._doc;};_pPopupScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}nexacro._destroyFrameNode(_a,this._frame_node);this._frame_node=null;this._owner_elem=null;this._doc=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pPopupScrollableControlElement.clearContents=function(){if(this._handle){this._client_element.clearContents();}};delete _pPopupScrollableControlElement;nexacro.TextElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pTextElement=nexacro._createPrototype(nexacro.Element,nexacro.TextElement);nexacro.TextElement.prototype=_pTextElement;_pTextElement._type_name="TextElement";_pTextElement.font=null;_pTextElement.color=null;_pTextElement.align=null;_pTextElement.halign="";_pTextElement.valign="";_pTextElement.padding=null;_pTextElement.padding_left=0;_pTextElement.padding_top=0;_pTextElement.padding_right=0;_pTextElement.padding_bottom=0;_pTextElement.text="";_pTextElement.linespace=0;_pTextElement.wordwrap="none";_pTextElement.decoration="";_pTextElement._use_newline=true;_pTextElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleTextSize(_d,this.height);_d.position="absolute";nexacro.__setDOMNodeStyleTextOverFlow(_d);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_a._handle.style,this.align);}else if(this.halign&&this.valign){nexacro.__setDOMNodeStyleAlignXY(_a._handle.style,this.halign,this.valign);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_d,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_d,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_c,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_d,this.decoration);}else{nexacro.__setDOMNodeText(_c,this.text,this._use_newline,this.wordwrap);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pTextElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};_pTextElement.setElementFont=function(_a){this.font=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleFont(_b.style,_a);}};_pTextElement.setElementColor=function(_a){this.color=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleColor(_b.style,_a);}};_pTextElement.setElementPadding=function(_a){this.padding=_a;this.padding_left=0;this.padding_top=0;this.padding_right=0;this.padding_bottom=0;var _b=this._handle;if(_b){nexacro.__setDOMNodeStylePadding(_b.style,_a);}};_pTextElement.setElementPaddingXY=function(_a,_b,_c,_d){this.padding=null;this.padding_left=_a;this.padding_top=_b;this.padding_right=_c;this.padding_bottom=_d;var _e=this._handle;if(_e){nexacro.__setDOMNodeStylePaddingXY(_e.style,_a,_b,_c,_d);}};_pTextElement.setElementAlign=function(_a){this.align=_a;this.halign=_a._halign;this.valign=_a._valign;var _b=this._owner_elem;if(_b){var _c=_b._handle;if(_c){nexacro.__setDOMNodeStyleAlign(_c.style,_a);}}};_pTextElement.setElementAlignXY=function(_a,_b){var _c=_a;if(this._isRtl()){_c=_a=="left"?"right":(_a=="right"?"left":_a);}this.align=null;this.halign=_a;this.valign=_b;var _d=this._owner_elem;if(_d){var _e=_d._handle;if(_e){nexacro.__setDOMNodeStyleAlignXY(_e.style,_c,_b);}}};_pTextElement.setElementText=function(_a){if(this.text!=_a){if(_a==null){this.text="";}else{this.text=_a;}var _b=this._handle;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};_pTextElement.setElementLineSpace=function(_a){if(this.linespace!=_a){this.linespace=_a;var _b=this._handle;if(_b){var _c=this._parent_elem.linkedcontrol;if(_c){var _d=nexacro._getTextSize2("Wj",this.font||this._getParentFont());_a=_d[1]+nexacro._toInt(_a);}nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}}};_pTextElement.setElementDecorateText=function(_a){if(this.decoration!=_a){this.decoration=_a;var _b=this._handle;if(_b){nexacro.__setDOMNodeStyleDecorateText(_b,_a);}}};_pTextElement.setElementUseNewLine=function(_a){if(this._use_newline!=_a){this._use_newline=_a;var _b=this._handle;if(_b){if(this.wordwrap!="none"){return;}nexacro.__setDOMNodeText(_b,this.text,_a,this.wordwrap);}}};_pTextElement.setElementWordWrap=function(_a){if(_a==true||_a=="true"){_a="char";}else if(_a==false||_a=="false"){_a="none";}if(this.wordwrap!=_a){var _b=this._handle;if(_b){nexacro.__setDOMNodeText(_b,this.text,this._use_newline,this.wordwrap);}}};_pTextElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStylePos(_c.style,_a,_b);}}};_pTextElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);}_c=this._cell_node;if(_c){_c.style.textOverflow="";nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);_c.style.textOverflow=this._default_textoverflow;}}};delete _pTextElement;nexacro.PluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pPluginElement=nexacro._createPrototype(nexacro.Element,nexacro.PluginElement);nexacro.PluginElement.prototype=_pPluginElement;_pPluginElement._type_name="PluginElement";_pPluginElement.license="";_pPluginElement.lpkpath="";_pPluginElement.classid="";_pPluginElement.codebase="";_pPluginElement.code="";_pPluginElement.archive="";_pPluginElement.mimetype="";_pPluginElement.pluginsrc="";_pPluginElement.plugintype="";_pPluginElement.pluginpage="";_pPluginElement.windowed=false;_pPluginElement.popupstyle=false;_pPluginElement.enable=true;_pPluginElement.font=null;_pPluginElement.color=null;_pPluginElement.cursor=null;_pPluginElement.align=null;_pPluginElement.padding=null;_pPluginElement.color=null;_pPluginElement._object_node=null;_pPluginElement._embed_node=null;_pPluginElement._params=null;_pPluginElement._events=null;_pPluginElement._object_id=null;_pPluginElement.create=function(){var _a;var _b;if(!this._parent_elem){_b=nexacro._managerFrameDoc;_a=_b.body;this._owner_elem=_b.body;this._owner_elem._dest_handle=_b.body;}else{_a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;_b=_a.getRootWindowHandle();}}if(_a&&!this._handle){var _c=this._createObjectElementHandle(_b,this.left,this.top,this.width,this.height,this._params);nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_d,this.align);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}this._handle=this._dest_handle=_c;var _e=this._events;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){this.addEventHandler(_e.get_id(_g),_e.get_item(_g),null);}nexacro.__appendDOMNode(_a._dest_handle,_c);}};_pPluginElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _d=null;if(this._owner_elem&&this._owner_elem._dest_handle){_d=this._owner_elem._dest_handle;}if(!this._owner_elem||_d){nexacro.__removeDOMNode(_d,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._object_node=null;this._embed_node=null;}this.parent=null;this._parent_elem=null;var _b=this._params;if(_b){_b.destroy();this._params=null;}var _c=this._events;if(_c){_c.destroy();this._events=null;}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("div");_g._linked_element=this;_g._element_type=8;var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_b,_c);nexacro.__setDOMNodeStyleSize(_h,_d,_e);var _i="";if(this.lpkpath){_i+='<object classid = "clsid:5220cb21-c88d-11cf-b347-00aa00a28331">';_i+='<param name="LPKPath" value="'+this.lpkpath+'">';_i+='<embed src= "'+this.lpkpath+'" ></embed>';_i+='</object>';}if(this._parent_elem&&this.component){this._object_id=this._parent_elem._handle.id+'_'+this.component._type_name;_i+='<object id='+this._object_id+' style="position: absolute; overflow: hidden; width: '+_d+'px; height: '+_e+'px;" ';}else{_i+='<object style="position: absolute; overflow: hidden; width: '+_d+'px; height: '+_e+'px;" ';}var _j=this.classid;if(_j){_i+='classid="'+_j+'" ';}var _k=this.codebase;if(_k){_i+='codebase="'+_k+'" ';}var _l=this.code;if(_l){_i+='code="'+_l+'" ';}var _m=this.archive;if(_m){_i+='archive="'+_m+'" ';}var _n=this.mimetype;if(_n){_i+='type="'+_n+'" ';}var _o=this.data;if(_o){_i+='data="'+_o+'" ';}_i+='>';var _p=(_f?_f.length:0);for(var _t=0;_t<_p;_t++ ){_i+='<param name="'+_f.get_id(_t)+'" value="'+_f.get_item(_t)+'" />';}var _q=false;if(nexacro.BrowserVersion>=9){if(this.pluginsrc||this.pluginpage){_q=true;_i+='<embed width="'+_d+'" height="'+_e+'" ';var _u=this.pluginsrc;if(_u){_i+='src="'+_u+'" ';}var _v=this.pluginpage;if(_v){_i+='pluginspage="'+_v+'" ';}var _w=this.plugintype;if(_w){_i+='type="'+_w+'" ';}for(var _t=0;_t<_p;_t++ ){_i+=_f.get_id(_t)+'="'+_f.get_item(_t)+'" ';}_i+='/>';}}_i+="</object>";_g.innerHTML=_i;var _r=null;var _s=_g.firstChild;while(_s){if(_s.nodeType==1&&_s.tagName.toLowerCase()=="object"){_r=_s;}_s=_s.nextSibling;}this._object_node=_r;if(_r&&_q){var _x=null;var _y=_r.getElementsByTagName("embed");if(_y&&_y.length>0){_x=_y[0];}this._embed_node=_x;}return _g;};}else{_pPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("object");_g._linked_element=this;_g._element_type=8;var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_b,_c);nexacro.__setDOMNodeStyleSize(_h,_d,_e);var _i=this.codebase;if(_i){_g.setAttribute('codebase',_i);}var _j=this.code;if(_j){_g.setAttribute('code',_j);}var _k=this.archive;if(_k){_g.setAttribute('archive',_k);}if(nexacro.Browser=="Chrome"){var _m=this.mimetype;if(_m){_g.setAttribute('type',_m);}}var _l=(_f?_f.length:0);for(var _n=0;_n<_l;_n++ ){this._setObjectDOMParam(_a,_g,_f.get_id(_n),_f.get_item(_n));}if(this.pluginsrc||this.pluginpage){var _o=_a.createElement("embed");var _p=_o.style;nexacro.__setDOMNodeStyleAbsolute(_p);nexacro.__setDOMNodeStyleSize(_p,_d,_e);var _q=this.pluginsrc;if(_q){_o.setAttribute('src',_q);}var _r=this.pluginpage;if(_r){_o.setAttribute('pluginspage',_r);}var _s=this.plugintype;if(_s){_o.setAttribute('type',_s);}for(var _n=0;_n<_l;_n++ ){_o.setAttribute(_f.get_id(_n),_f.get_item(_n));}this._embed_node=_o;_g.appendChild(_o);}this._object_node=_g;return _g;};}_pPluginElement._setObjectDOMParam=function(_a,_b,_c,_d){var _e=_a.createElement("param");_e.setAttribute("name",_c);_e.setAttribute("value",_d);_b.appendChild(_e);};_pPluginElement.on_update_position=function(_a,_b,_c,_d){var _e=this._object_node;if(_e){var _f=_e.style;nexacro.__setDOMNodeStyleAbsolute(_f);if(_b){nexacro.__setDOMNodeStylePos(_f,_c,_d);}if(_a){nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);}}};_pPluginElement.setElementFocus=function(_a){var _b=this._object_node;if(_b){nexacro.__setDOMNodeFocus(_b,true);nexacro.__setLastFocusedElement(this);}};_pPluginElement.setElementLicense=function(_a){if(this.license!=_a){this.license=_a;}};_pPluginElement.setElementLicenseFile=function(_a){if(!this._handle&&this.lpkpath!=_a){this.lpkpath=_a;}};_pPluginElement.setElementMIMEType=function(_a){if(this.mimetype!=_a){this.mimetype=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('type',_a);}}if(this.plugintype!=_a){this.plugintype=_a;var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");_b.appendChild(_c);}_c.setAttribute('type',type);}}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pPluginElement.setElementClassId=function(_a){if(_a){if(_a.charAt(0)=='{'){}{var _b=_a.replace(/\{|\}/g,"");_a="clsid:"+_b;}}if(this.classid!=_a){this.classid=_a;var _c=this._object_node;if(this._handle&&this._object_node){_c.setAttribute('classid',_a);}}};}else{_pPluginElement.setElementClassId=nexacro._emptyFn;}_pPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('codebase',_a);}}};_pPluginElement.setElementCode=function(_a){if(this.code!=_a){this.code=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('code',_a);}}};_pPluginElement.setElementArchive=function(_a){if(this.archive!=_a){this.archive=_a;var _b=this._object_node;if(this._handle&&this._object_node){_b.setAttribute('archive',_a);}}};_pPluginElement.getElementParam=function(_a){if(this._handle&&this._object_node){var _b=this._object_node;var _c=_b.getElementsByTagName("param");for(var _d in _c){if(_c[_d].name==_a){return _c[_d].value;}}if(this._object_node[_a]){return this._object_node[_a];}}else{var _e=this._params;return _e.get_item(_a);}};_pPluginElement.setElementParam=function(_a,_b){var _c=this._object_node;if(this._handle&&_c){var _d=this.getRootWindowHandle();var _e=_c.getElementsByTagName("param");for(var _f in _e){if(_e[_f].name==_a){_e[_f].value=_b;this._object_node[_a]=_b;return;}}this._setObjectDOMParam(_d,_c,_a,_b);this._object_node[_a]=_b;}else{var _g=this._params;if(_g.get_item(_a)){_g.set_item(_a,_b);}else{_g.add_item(_a,_b);}}};_pPluginElement.setElementPluginSrc=function(_a){if(this.pluginsrc!=_a){this.pluginsrc=_a;var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");var _e=_c.style;nexacro.__setDOMNodeStyleAbsolute(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);_b.appendChild(_c);}_c.setAttribute('src',_a);}}};_pPluginElement.setElementPluginMIMEType=function(_a){if(this.plugintype!=_a){this.plugintype=_a;var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");_b.appendChild(_c);}_c.setAttribute('type',_a);}}};_pPluginElement.setElementPluginPage=function(_a){if(this.pluginpage!=_a){this.pluginpage=_a;var _b=this._object_node;if(this._handle&&this._object_node){var _c=this._embed_node;if(_c==null){var _d=this.getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");_b.appendChild(_c);}_c.setAttribute('pluginspage',_a);}}};_pPluginElement.callMethod=function(){if(arguments.length<1){return;}if(this._handle&&this._object_node){var fn_name=Array.prototype.shift.call(arguments);var str;if(this._object_id){str=this._object_id+'.'+fn_name;}else if(this._embed_node){str='this._embed_node.'+fn_name;}else{str='this._object_node.'+fn_name;}str+='(';var len=arguments.length;if(len>0){str+='arguments[0]';for(var i=1;i<len;i++ ){str+=', arguments['+i+']';}}str+=');';return eval(str);}};_pPluginElement.getPluginObject=function(){if(this._handle&&this._object_node){var _a=new nexacro.PluginObject;_a._handle=this._object_node;_a._doc=this.getRootWindowHandle();return _a;}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pPluginElement.addEventHandler=function(_a,_b,_c){if(this._handle&&this._object_node&&this._object_id){var _d=this.getRootWindowHandle();var _e=_d.createElement("script");_e.setAttribute('for',this._object_id);var _f=/^function\s?([^\s(]*)/;var _g=/\(.*?\)/;var _h=_b.toString().match(_g)[0];var _i=_a+_h;var _j;_e.setAttribute('event',_i);_e.setAttribute('language','javascript');var _k,_l;_k=this.component.parent;if(_k){_j="."+this.component.id+'["'+_a+'"]; \n';_j+='if (eventFn) eventFn._firePluginEvent'+_h+';';do{if(_k instanceof nexacro.MainFrame){_j='var eventFn = application.mainframe'+_j;break;}if(_k instanceof nexacro.ChildFrame){_l=_k.parent;if(_l){if(_l instanceof nexacro.FrameSet||_l instanceof nexacro.VFrameSet||_l instanceof nexacro.HFrameSet||_l instanceof nexacro.ChildFrame){if(_l._frames&&_l._frames.length){var _m;var _n=_l._frames.length;for(_m=0;_m<_n;_m++ ){if(_l._frames[_m]==_k){_j='._frames['+_m+']'+_j;break;}}}}else if(_l instanceof nexacro.MainFrame){_j='.frame'+_j;}else if(_l instanceof nexacro.Form){_j='.'+_k.id+_j;}}}else if(_k instanceof nexacro.FrameSet||_k instanceof nexacro.VFrameSet||_k instanceof nexacro.HFrameSet){_l=_k.parent;if(_l){if(_l._frames&&_l._frames.length){var _m;var _n=_l._frames.length;for(_m=0;_m<_n;_m++ ){if(_l._frames[_m]==_k){_j='._frames['+_m+']'+_j;break;}}}}}else if(_k instanceof nexacro.Div){_j='.'+_k.id+_j;}else if(_k instanceof nexacro.Form){_j='.form'+_j;}_k=_k.parent;}while(_k)}_e.text=_j;var _o=this._parent_elem.getContainerElement(this.position_step);_o._dest_handle.appendChild(_e);return true;}else{this._events.add_item(_a,_b);}return false;};_pPluginElement.removeEventHandler=function(_a,_b,_c){if(this._handle){var _d=this.getRootWindowHandle();var _e=/^function\s?([^\s(]*)/;var _f=/\(.*?\)/;var _g=_b.toString().match(_f)[0];var _h=_a+_g;var _i;var _j=this._parent_elem.getContainerElement(this.position_step);var _k=_j._dest_handle.getElementsByTagName("script");var _l=_k.length;for(_i=0;_i<_l;_i++ ){var _m=_k[_i];if(_m){var _n=_m.getAttribute('event');if(_n===_h){var _o=_m.parentNode;_o.removeChild(_m);break;}}}}};}else{_pPluginElement.addEventHandler=function(_a,_b,_c){if(this._handle&&this._object_node){var _d=this._object_node;_d.setAttribute(_a,_a);var _e=this.getRootWindowHandle();var _f=_e.createElement("script");var _g=/^function\s?([^\s(]*)/;var _h=/\(.*?\)/;var _i=_b.toString().match(_h)[0];var _j=_a+_i;_f.setAttribute('event',_j);var _k,_l;_k=this.component.parent;if(_k){callfunc="."+this.component.id+'["'+_a+'"]; \n';callfunc+='\tif (eventFn) eventFn._firePluginEvent'+_i+';'+"\n};";do{if(_k instanceof nexacro.MainFrame){callfunc='\tvar eventFn = application.mainframe'+callfunc;break;}if(_k instanceof nexacro.ChildFrame){_l=_k.parent;if(_l){if(_l instanceof nexacro.FrameSet||_l instanceof nexacro.VFrameSet||_l instanceof nexacro.HFrameSet||_l instanceof nexacro.ChildFrame){if(_l._frames&&_l._frames.length){var _m;var _n=_l._frames.length;for(_m=0;_m<_n;_m++ ){if(_l._frames[_m]==_k){callfunc='._frames['+_m+']'+callfunc;break;}}}}else if(_l instanceof nexacro.MainFrame){callfunc='.frame'+callfunc;}else if(_l instanceof nexacro.Form){callfunc='.'+_k.id+callfunc;}}}else if(_k instanceof nexacro.FrameSet||_k instanceof nexacro.VFrameSet||_k instanceof nexacro.HFrameSet){_l=_k.parent;if(_l){if(_l._frames&&_l._frames.length){var _m;var _n=_l._frames.length;for(_m=0;_m<_n;_m++ ){if(_l._frames[_m]==_k){callfunc='._frames['+_m+']'+callfunc;break;}}}}}else if(_k instanceof nexacro.Div){callfunc='.'+_k.id+callfunc;}else if(_k instanceof nexacro.Form){callfunc='.form'+callfunc;}_k=_k.parent;}while(_k)}callfunc='function '+_j+'\n{\n'+callfunc;_f.text=callfunc;this._handle.appendChild(_f);return true;}else{this._events.add_item(_a,_b);}return false;};_pPluginElement.removeEventHandler=function(_a,_b,_c){if(this._handle&&this._object_node){var _d=this._object_node;_d.removeAttribute(_a);var _e=this.getRootWindowHandle();var _f=/^function\s?([^\s(]*)/;var _g=/\(.*?\)/;var _h=_b.toString().match(_g)[0];var _i=_a+_h;var _j;var _k=this._handle.getElementsByTagName("script");var _l=_k.length;for(_j=0;_j<_l;_j++ ){var _m=_k[_j];if(_m){var _n=_m.getAttribute('event');if(_n===_i){var _o=_m.parentNode;_o.removeChild(_m);break;}}}}};};_pPluginElement.getProperty=_pPluginElement.getElementParam;_pPluginElement.setProperty=_pPluginElement.setElementParam;_pPluginElement.install=nexacro._emptyFn;_pPluginElement.isInstalled=nexacro._emptyFn;_pPluginElement.isLoaded=nexacro._emptyFn;_pPluginElement.setElementPluginVisible=nexacro._emptyFn;_pPluginElement.setElementAdjustAlpha=nexacro._emptyFn;_pPluginElement.setElementWindowed=nexacro._emptyFn;_pPluginElement.setElementPopupStyle=nexacro._emptyFn;_pPluginElement.initEvent=nexacro._emptyFn;_pPluginElement.updateWindow=nexacro._emptyFn;delete _pPluginElement;nexacro.PluginObject=function(){};var _pPluginObject=nexacro._createPrototype(nexacro.Object,nexacro.PluginObject);nexacro.PluginObject.prototype=_pPluginObject;_pPluginObject._type_name="PluginObject";_pPluginObject._handle=null;_pPluginObject._doc=null;_pPluginObject._window=null;_pPluginObject.getProperty=function(_a){var _b=this._handle;if(_b!==undefined){if(_a){var _c=_b[_a];if(_c!==undefined){if(_c===null||(typeof _c!="object"&&_c!=undefined)){return _c;}var _d=new nexacro.PluginObject;_d._handle=_c;_d._window=this._window;return _d;}var _e=this._handle.getElementsByTagName("param");for(var _f in _e){if(_e[_f].name==_a){return _e[_f].value;}}}}};_pPluginObject.setProperty=function(_a,_b){if(this._handle&&_a&&_b){if(this._handle[_a]!==undefined){this._handle[_a]=_b;return;}var _c=this._handle.getElementsByTagName("param");for(var _d in _c){if(_c[_d].name==_a){_c[_d].value=_b;return;}}var _e=this._doc.createElement("param");_e.setAttribute("name",_a);_e.setAttribute("value",_b);this._handle.appendChild(_e);}};_pPluginObject._delete_property=function(_a){if(this._handle&&_a){if(this._handle[_a]){this._handle[_a]="";return;}var _b=this._handle.getElementsByTagName("param");for(var _c in _b){if(_b[_c].name==_a){this._handle.removeChild(_b[_c]);return;}}}};_pPluginObject.callMethod=function(){if(arguments.length<1){return;}if(this._handle){var _a=Array.prototype.shift.call(arguments);var _b=this._handle[_a].apply(this._handle,arguments);if(_b!=null&&typeof (_b)=="object"){var _c=new nexacro.PluginObject;_c._handle=_b;return _c;}return _b;}};_pPluginObject.destroy=nexacro._emptyFn;delete _pPluginObject;nexacro.WebBrowserPluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pWebBrowserPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro.WebBrowserPluginElement);nexacro.WebBrowserPluginElement.prototype=_pWebBrowserPluginElement;_pWebBrowserPluginElement._type_name="WebBrowserPluginElement";_pWebBrowserPluginElement.initEvent=nexacro._emptyFn;_pWebBrowserPluginElement._object_node=null;_pWebBrowserPluginElement._embed_node=null;_pWebBrowserPluginElement._params=null;_pWebBrowserPluginElement._events=null;_pWebBrowserPluginElement._window=null;_pWebBrowserPluginElement._document=null;_pWebBrowserPluginElement._block_node=null;_pWebBrowserPluginElement._prev_outfocus_message_elem=null;_pWebBrowserPluginElement._next_outfocus_message_elem=null;var _iframe_eventhandler_ontouchmove=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(nexacro.OS=="iOS"){var _f=_c._nexacro_iframe_contaniner;}else{var _f=_d;}if(_c._nexacro_bScroll&&_c._nexacro_preTouchInfo){var _g=_a.changedTouches?_a.changedTouches.length:1;for(var _h=0;_h<_g;_h++ ){var _i=_a.changedTouches?_a.changedTouches[_h]:(_a.touches?_a.touches[0]:_a);}var _j=_i.pageX||_i.clientX;var _k=_i.pageY||_i.clientY;var _l=_i.screenX||_j;var _m=_i.screenY||_k;var _n=[_j,_k,_l,_m];function getDirection(_o,_p){var _q=_p[2]-_o[2];var _r=_p[3]-_o[3];if(Math.abs(_r)>=Math.abs(_q)){return ["y",_r];}else{return ["x",_q];}}var _o=getDirection(_c._nexacro_preTouchInfo,_n);var _p=false;if(_o[0]=="y"){var _q=_c.defaultView||_c.parentWindow;if(nexacro.OS=="iOS"){var _r=parseInt(_f.style.height);}else{var _r=nexacro._getWindowHandleClientHeight(_q);var _s=_q.innerHeight;_r=(_r>_s)?_r:_s;}var _t=_f.scrollHeight||_c.documentElement.scrollHeight;var _u=_f.scrollTop||_c.documentElement.scrollTop;if((_u==0&&_o[1]>0)||(((_t-_r)<=_u)&&_o[1]<0)){_p=true;}var _v=_c._nexacro_preTouchInfo[1];if((_o[1]<0&&_k>_v)||(_o[1]>0&&_k<_v)){return;}}}}};var _iframe_eventhandler_ontouchstart=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(nexacro.OS=="iOS"){var _f=_c._nexacro_iframe_contaniner;}else{var _f=_d;}_c._nexacro_bScroll=false;var _g=_c.defaultView||_c.parentWindow;if(nexacro.OS=="iOS"){var _h=parseInt(_f.style.height);}else{var _h=nexacro._getWindowHandleClientHeight(_g);var _i=_g.innerHeight;_h=(_h>_i)?_h:_i;}var _j=_f.scrollHeight||_c.documentElement.scrollHeight;var _k=_f.scrollTop||_c.documentElement.scrollTop;if(_k==0||(_j-_h)<=_k){_c._nexacro_bScroll=true;var _l=_a.changedTouches?_a.changedTouches.length:1;for(var _m=0;_m<_l;_m++ ){var _n=_a.changedTouches?_a.changedTouches[_m]:(_a.touches?_a.touches[0]:_a);}var _o=_n.pageX||_n.clientX;var _p=_n.pageY||_n.clientY;var _q=_n.screenX||_o;var _r=_n.screenY||_p;_c._nexacro_preTouchInfo=[_o,_p,_q,_r];nexacro._syshandler_ontouchstart(window.nexacro_HTMLSysEvent,_e,_a);}}};var _iframe_eventhandler_ontouchend=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(_c._nexacro_bScroll){nexacro._syshandler_ontouchend(window.nexacro_HTMLSysEvent,_e,_a);}}};var _iframe_eventhandler_onmousewheel=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _b=_a.srcElement;}else{var _b=_a.target;}if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;if(nexacro.OS=="iOS"){var _f=_c._nexacro_iframe_contaniner;}else{var _f=_d;}var _g=_c.defaultView||_c.parentWindow;var _h=0;var _i=_f.scrollHeight||_c.documentElement.scrollHeight;var _j=_f.scrollTop||_c.documentElement.scrollTop;if(nexacro.OS=="iOS"){_h=parseInt(_f.style.height);}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){_h=_c.documentElement.offsetHeight;}else{_h=_g.innerHeight;}}var _k=nexacro.__getWheelDeltaY(_a);if((_j==0&&_k>0)||(_i-_h<=_j&&_k<0)){nexacro._syshandler_onmousewheel(window.nexacro_HTMLSysEvent,_e,_a);}}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _iframe_eventhandler_onload=function(_a){if(window.event){_a=window.event;}var _b=_a.srcElement;if(!_b){return;}try{var _c=_b.contentDocument||_b.contentWindow.document;_c._nexacro_iframe_contaniner=_b._contaniner._handle;if(nexacro.SupportTouch&&nexacro.isTouchInteraction){nexacro._observeSysEvent(_c,"MSPointerMove","ontouchmove",_iframe_eventhandler_ontouchmove);nexacro._observeSysEvent(_c,"MSPointerDown","ontouchstart",_iframe_eventhandler_ontouchstart);nexacro._observeSysEvent(_c,"MSPointerUp","ontouchend",_iframe_eventhandler_ontouchend);}nexacro._observeSysEvent(_c,"mousewheel","onmousewheel",_iframe_eventhandler_onmousewheel);}catch(e){;}finally{var _d=_b._linked_element;if(!_d){return;}return _d._on_frame_load(_b.contentWindow);}};}else{var _iframe_eventhandler_onload=function(_a){if(window.event){_a=window.event;}var _b=_a.target;if(!_b){return;}try{var _c=_b.contentDocument||_b.contentWindow.document;_c._nexacro_iframe_contaniner=_b._contaniner._handle;if(nexacro.SupportTouch){nexacro._observeSysEvent(_c,"touchmove","ontouchmove",_iframe_eventhandler_ontouchmove);nexacro._observeSysEvent(_c,"touchstart","ontouchstart",_iframe_eventhandler_ontouchstart);nexacro._observeSysEvent(_c,"touchend","ontouchend",_iframe_eventhandler_ontouchend);}nexacro._observeSysEvent(_c,"mousewheel","onmousewheel",_iframe_eventhandler_onmousewheel);nexacro._observeSysEvent(_c,"DOMMouseScroll","onmousewheel",_iframe_eventhandler_onmousewheel);}catch(e){;}finally{var _d=_b._linked_element;if(!_d){return;}return _d._on_frame_load(_b.contentWindow);}};}_pWebBrowserPluginElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=this._createInternalFrameElementHandle(_b,this.left,this.top,this.width,this.height,this._params);_c._contaniner=_a;if(nexacro._enableaccessibility){nexacro.__setDOMNodeAccessibilityActiveDescendant(_c,this._parent_elem.linkedcontrol._unique_id);}nexacro.__setDOMNodeSelectable(_c,true);if(nexacro.OS=="iOS"){nexacro.__setMobileIframeDOMNodeStyleScroll(_a._handle.style);}if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")&&this.visible){this._need_hide=true;}var _d=_c.style;if(!this.visible||this._need_hide){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_d,this.align);}if(this.padding){nexacro.__setDOMNodeStylePadding(_d,this.padding);}var _e=_b.createElement("div");var _f=_e.style;nexacro.__setDOMNodeTabIndex(_e,0);nexacro.__setDOMNodeStyleAbsolute(_f);nexacro.__setDOMNodeStylePos(_f,this.left,this.top);nexacro.__setDOMNodeStyleSize(_f,1,1);_f.opacity=0;_e.parent_elem=this.parent;nexacro.__appendDOMNode(_a._dest_handle,_e);nexacro._observeSysEvent(_e,"focus","onfocus",this._go_prev_focus);if(nexacro._enableaccessibility){var _g=this._prev_outfocus_message_elem=new nexacro.TextBoxElement(_a);_g.create();nexacro.__setDOMNodeTabIndex(_g._handle,0);nexacro._observeSysEvent(_g._handle,"focus","onfocus",this._iframe_onfocus_forward);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);if(nexacro._enableaccessibility){_g=this._next_outfocus_message_elem=new nexacro.TextBoxElement(_a);_g.create();nexacro.__setDOMNodeTabIndex(_g._handle,0);nexacro._observeSysEvent(_g._handle,"focus","onfocus",this._iframe_onfocus_forward);}_e=_b.createElement("div");_f=_e.style;nexacro.__setDOMNodeTabIndex(_e,0);nexacro.__setDOMNodeStyleAbsolute(_f);nexacro.__setDOMNodeStylePos(_f,0, +this.height-5);nexacro.__setDOMNodeStyleSize(_f,1,1);_f.opacity=0;_f.border="0px solid #ffffff";_e.parent_elem=this.parent;nexacro.__appendDOMNode(_a._dest_handle,_e);nexacro._observeSysEvent(_e,"focus","onfocus",this._go_next_focus);nexacro._observeSysEvent(_c,"load","onload",_iframe_eventhandler_onload);if(nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9)||(nexacro.isTouchInteraction&&nexacro.SupportTouch)){nexacro._observeSysEvent(_c,"focusin","onfocusin",this._iframe_onfocusin_forward);nexacro._observeSysEvent(_c,"focusout","onfocusout",this._iframe_onfocusout_forward);}}};_pWebBrowserPluginElement._go_prev_focus=function(_a){var _b=_a.target?_a.target:_a.srcElement;var _c=_b.parent_elem.linkedcontrol._getForm();var _d=_c._searchPrevTabFocus(_c._last_focused,undefined,undefined,false);if(_d&&_d[0]){if(_d[0] instanceof nexacro.Form&&_d[0]._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_d[0]._last_focused);}_d[0]._setFocus(true,1,true);}};_pWebBrowserPluginElement._go_next_focus=function(_a){var _b=_a.target?_a.target:_a.srcElement;var _c=_b.parent_elem.linkedcontrol._getForm();var _d=_c._searchNextTabFocus(_c._last_focused,undefined,undefined,false);if(_d&&_d[0]){if(_d[0] instanceof nexacro.Form&&_d[0]._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_d[0]._last_focused);}_d[0]._setFocus(true,0,true);}};_pWebBrowserPluginElement._on_frame_load=function(_a){try{var _f="";var _g=this._parent_elem.linkedcontrol;if(_a){if(this._need_hide){nexacro.__setDOMNodeStyleVisible(this._handle.style,true);this._need_hide=false;}this._window=_a;this._document=_a.document;if(_a.NEXACROWEBBROWSER==undefined){_a.NEXACROWEBBROWSER=_g;}}if(this._document){_f=this._document.location.href;}}catch(e){this._window=null;this._document=null;}var _a=_g._getWindow();var _b=_a.getCurrentFocusPaths();var _c=_g;while(_c&&_c._is_nc_control){_c=_c.parent;}if(!_c){return;}var _d= -1;var _e=0;if(_b){_d=nexacro._indexOf(_b,_c);_e=_b.length;}if(_d<0&&_e>0){_b[_e-1].on_apply_custom_setfocus();}_g.on_load_handler(_f);};_pWebBrowserPluginElement.destroy=function(){if(this._prev_outfocus_message_elem){nexacro._stopSysObserving(this._prev_outfocus_message_elem._handle,"focus","onfocus",this._iframe_onfocus_forward);this._prev_outfocus_message_elem.destroy();this._prev_outfocus_message_elem=null;}if(this._next_outfocus_message_elem){this._next_outfocus_message_elem.destroy();this._next_outfocus_message_elem=null;}var _a=this._handle;if(_a){nexacro._stopSysObserving(_a,"load","onload",_iframe_eventhandler_onload);_a._linked_element=null;var _d=null;if(this._owner_elem&&this._owner_elem._dest_handle){_d=this._owner_elem._dest_handle;}if(!this._owner_elem||_d){nexacro.__removeDOMNode(_d,_a);}var _e=this._block_node;if(_e&&_d){nexacro.__removeDOMNode(_d,_e);}this._block_node=null;this._document=null;this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;var _b=this._params;if(_b){_b.destroy();this._params=null;}var _c=this._events;if(_c){_c.destroy();this.events=null;}};_pWebBrowserPluginElement._createInternalFrameElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("iframe");_g._linked_element=this;_g._element_type=8;_g.frameBorder=0;this._object_id=this._parent_elem._handle.id+'_'+this.component._type_name;if(this._object_id){_g.setAttribute('id',this._object_id);}var _h=_g.style;_h.position="absolute";nexacro.__setDOMNodeTitle(_g,this._parent_elem.tooltiptext?this._parent_elem.tooltiptext:(this._parent_elem.accessibility_label?this._parent_elem.accessibility_label:this._parent_elem.linkedcontrol.id));nexacro.__setDOMNodeStylePos(_h,_b,_c);nexacro.__setDOMNodeStyleSize(_h,_d,_e);var _i=(_f?_f.length:0);for(var _j=0;_j<_i;_j++ ){this._setInternalFrameDOMParam(_a,_g,_f.get_id(_j),_f.get_item(_j));}return _g;};_pWebBrowserPluginElement._setInternalFrameDOMParam=function(_a,_b,_c,_d){_b.setAttribute(_c,_d);};_pWebBrowserPluginElement.setElementFocus=nexacro._emptyFn;_pWebBrowserPluginElement._setElementFocus=function(_a){var _b=this._handle;if(_b){nexacro.__setDOMNodeFocus(_b,true);nexacro.__setLastFocusedElement(this);}};_pWebBrowserPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;if(this._handle){this._handle.setAttribute('codebase',_a);}}};_pWebBrowserPluginElement.getElementParam=function(_a){var _b=this._handle;if(_b){var _c=null;if(_a){if(_a==="document"){var _d=this._document;if(!_d){_d=this._document=_b.contentDocument||_b.contentWindow.document;}var _e=new nexacro.PluginObject;_e._handle=_d;return _e;}else if(_a=="window"){var _f=this._window;if(!_f){_f=this._window=_b.contentWindow;}var _e=new nexacro.PluginObject;_e._handle=_f;return _e;}_c=_b[_a];if(_c!=null&&typeof (_c)=="object"){var _e=new nexacro.PluginObject;_e._handle=_c;return _e;}return _c;}}else{var _g=this._params;return _g.get_item(_a);}};_pWebBrowserPluginElement.setElementParam=function(_a,_b){if(this._handle){var _c=this.getRootWindowHandle();this._setInternalFrameDOMParam(_c,this._handle,_a,_b);}else{var _d=this._params;_d.add_item(_a,_b);}};_pWebBrowserPluginElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this._handle;if(_b){var _c=this._block_node;if(_a){if(_c){nexacro.__removeDOMNode(_c.parentNode,_c);this._block_node=null;}}else{var _d=this.getRootWindowHandle();this._block_node=_c=_d.createElement("DIV");var _e=_c.style;_e.cssText=_b.style.cssText;this.parent._setControlOpacity(this,_c,1);_e.backgroundColor="#ffffff";_e.zIndex=100000;var _f=_b.parentNode;_f.appendChild(_c);_f.insertBefore(_c,_b);}}}};_pWebBrowserPluginElement._getDoc=function(){return this._document;};_pWebBrowserPluginElement._setUrl=function(_a){if(this._handle){this.setElementParam("src",_a);}};_pWebBrowserPluginElement._setGo=function(){if(this._handle&&this._handle.contentWindow){try{this._handle.contentWindow.history.go(0);}catch(e){}}};_pWebBrowserPluginElement._setBack=function(){if(this._handle&&this._handle.contentWindow){try{this._handle.contentWindow.history.back();}catch(e){}}};_pWebBrowserPluginElement._setForward=function(){if(this._handle&&this._handle.contentWindow){try{this._handle.contentWindow.history.forward();}catch(e){}}};_pWebBrowserPluginElement.callMethod=function(){if(arguments.length<1){return;}var _a=arguments[0];var _b=Array.prototype.shift.call(arguments);return this._window[_b].apply(this._window,arguments);};if(nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=9)||(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_pWebBrowserPluginElement._iframe_onfocusout_forward=function(_a){var _b=this._linked_element._parent_elem.linkedcontrol._getWindow();_b._is_iframe_focus=false;};_pWebBrowserPluginElement._iframe_onfocusin_forward=function(_a){var _b=this._linked_element._parent_elem.linkedcontrol._getWindow();_b._is_iframe_focus=true;};}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pWebBrowserPluginElement._iframe_onfocus_forward=function(_a){if(window.event){_a=window.event;}if(application._com_waiting){if(_a.preventDefault){_a.preventDefault();}}var _b=_a.srcElement;var _c=_b._linked_element;if(_c){_c._killfocus_flag=true;}};}else{_pWebBrowserPluginElement._iframe_onfocus_forward=function(_a){if(application._com_waiting){nexacro._stopSysEvent(_a);}var _b=_a.target;var _c=_b._linked_element;if(_c){_c._killfocus_flag=true;}};}_pWebBrowserPluginElement.getProperty=_pWebBrowserPluginElement.getElementParam;_pWebBrowserPluginElement.setProperty=_pWebBrowserPluginElement.setElementParam;delete _pWebBrowserPluginElement;nexacro.MediaPlayerPluginElement=function(_a){this.parent=_a;this._parent_elem=_a;this._parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();this._node_type=null;};var _pMediaPlayerPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro.MediaPlayerPluginElement);nexacro.MediaPlayerPluginElement.prototype=_pMediaPlayerPluginElement;_pMediaPlayerPluginElement._type_name="MediaPlayerPluginElement";_pMediaPlayerPluginElement.classid="{6bf52a52-394a-11d3-b153-00c04f79faa6}";if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pMediaPlayerPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("object");_g._linked_element=this;_g._element_type=8;var _h=_g.style;nexacro.__setDOMNodeStyleAbsolute(_h);nexacro.__setDOMNodeStylePos(_h,_b,_c);nexacro.__setDOMNodeStyleSize(_h,_d,_e);_g.setAttribute('classid',"clsid:6bf52a52-394a-11d3-b153-00c04f79faa6");_g.setAttribute('type',"video/x-ms-wmv");this._setObjectDOMParam(_a,_g,"wmode","transparent");var _i=(_f?_f.length:0);for(var _j=0;_j<_i;_j++ ){this._setObjectDOMParam(_a,_g,_f.get_id(_j),_f.get_item(_j));}this._object_node=_g;return _g;};_pMediaPlayerPluginElement._play=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("play");}}};_pMediaPlayerPluginElement._pause=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("pause");}}};_pMediaPlayerPluginElement._rewind=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("fastReverse");}}};_pMediaPlayerPluginElement._stop=function(){var _a=this.getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("stop");}}};_pMediaPlayerPluginElement._togglemute=function(){var _a=this.getPluginObject();if(_a){var _b=this.getPluginObject("settings");if(_b){var _c=_b.getProperty("mute");if(nexacro._toBoolean(_c)==true){_b._delete_property("mute");}else{_b.setProperty("mute","true");}}}};_pMediaPlayerPluginElement._setMediaEnable=_pMediaPlayerPluginElement._setMediaControl=_pMediaPlayerPluginElement._setMediaUrl=_pMediaPlayerPluginElement._setMediaCurrentTime=_pMediaPlayerPluginElement._setMediaLoop=_pMediaPlayerPluginElement._setMediaAutoPlay=_pMediaPlayerPluginElement._setMediaVolume=nexacro.PluginElement.prototype.setElementParam;}else{_pMediaPlayerPluginElement._getNodeType=function(_a){var _b="video";switch(_a){case "mp3":case "wav":_b="audio";break;}return _b;};_pMediaPlayerPluginElement._getType=function(_a){var _b="video/"+_a;switch(_a){case "mp3":case "wav":_b="audio"+_a;break;}return _b;};_pMediaPlayerPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=this.source;if(_g){var _m=(_g+"").substring(_g.lastIndexOf(".")+1).toLowerCase();}var _h=this._getType(_m);var _i=this._getNodeType(_m);var _j=_a.createElement(_i);this._node_type=_i;_j._linked_element=this;_j._element_type=8;var _k=_j.style;nexacro.__setDOMNodeStyleAbsolute(_k);nexacro.__setDOMNodeStylePos(_k,_b,_c);nexacro.__setDOMNodeStyleSize(_k,_d,_e);var _l=this.controls;if(_l!=null){_j.controls=_l;}if(this.autoplay!=null){_j.autoplay=this.autoplay;}if(this.volume!=null){_j.volume=this.volume;}if(this.loop!=null){_j.loop=this.loop;}if(_g){var _n=this._source_node=_a.createElement("source");_n.setAttribute('src',this.source);_n.setAttribute('type',this._getType(_m));_j.appendChild(_n);}nexacro._observeSysEvent(_j,"canplaythrough","oncanplaythrough",this._media_eventhandler_canplaythrough);nexacro._observeSysEvent(_j,"ended","onended",this._media_eventhandler_changedstatus);nexacro._observeSysEvent(_j,"error","onerror",this._media_eventhandler_error);nexacro._observeSysEvent(_j,"pause","onpause",this._media_eventhandler_changedstatus);nexacro._observeSysEvent(_j,"play","onplay",this._media_eventhandler_changedstatus);nexacro._observeSysEvent(_j,"progress","onprogress",this._media_eventhandler_progress);nexacro._observeSysEvent(_j,"timeupdate","ontimeupdate",this._media_eventhandler_timeupdate);this._object_node=_j;return _j;};_pMediaPlayerPluginElement._media_eventhandler_changedstatus=function(_a){var _b=_a.target._linked_element._parent_elem.linkedcontrol;_b&&_b._on_statuschanged(_a.type);};_pMediaPlayerPluginElement._media_eventhandler_timeupdate=function(_a){var _b=_a.target;var _c=_b._linked_element._parent_elem.linkedcontrol;_c&&_c._on_currenttimechanged(_b.currentTime);};_pMediaPlayerPluginElement._media_eventhandler_error=function(_a){var _b=_a.target;var _c=_b._linked_element._parent_elem.linkedcontrol;if(_c){var _d="";var _e=_b.error.code;switch(_e){case 1:_d="fetching process aborted by user";break;case 2:_d="error occurred when downloading";break;case 3:_d="error occurred when decoding";break;case 4:_d="video not supported";break;}_c._on_error("NativeError",_d,_e);}};_pMediaPlayerPluginElement._media_eventhandler_canplaythrough=function(_a){var _b=_a.target;var _c=_b._linked_element._parent_elem.linkedcontrol;_c.size=_b.videoWidth+" "+_b.videoHeight;_c.duration=_b.duration;};_pMediaPlayerPluginElement.setElementSource=function(_a){this.source=_a;if(this._object_node){var _b=this._source_node;if(_b){this._object_node.removeChild(_b);}var _c=nexacro._managerFrameDoc;_b=this._source_node=_c.createElement("source");_b.setAttribute('src',_a);if(this.type){this._source_node.setAttribute('type',_a);}this._object_node.appendChild(_b);}};_pMediaPlayerPluginElement.setElementAttribute=function(_a,_b){this[_a]=_b;if(this._object_node){this._object_node.setAttribute(_a,_b);}};_pMediaPlayerPluginElement.setElementProperty=function(_a,_b){this[_a]=_b;if(this._object_node){this._object_node[_a]=_b;}};_pMediaPlayerPluginElement._play=function(){var _a=this._object_node;_a.play();return;};_pMediaPlayerPluginElement._pause=function(){var _a=this._object_node;_a.pause();return;};_pMediaPlayerPluginElement._rewind=function(){var _a=this._object_node;if(_a.currentTime!=null){_a.currentTime=0;_a.play();}};_pMediaPlayerPluginElement._stop=function(){var _a=this._object_node;if(_a.currentTime!=null){_a.pause();_a.currentTime=0;}};_pMediaPlayerPluginElement._togglemute=function(_a){var _b=this._object_node;if(_b){_b.muted=!_b.muted;}return;};_pMediaPlayerPluginElement._setMediaControl=function(_a,_b){if(_b=="none"){_b=false;}else{_b=true;}if(this.controls!=_b){this.controls=_b;var _c=this._object_node;if(_c){_c.controls=_b;}}};_pMediaPlayerPluginElement._setMediaUrl=function(_a,_b){if(this.source!=_b){this.source=_b;if(this._object_node){this._object_node.src=_b;}}};_pMediaPlayerPluginElement._setMediaCurrentTime=function(_a,_b){if(_b> -1){if(this._object_node){this._object_node.currentTime=_b;}}};_pMediaPlayerPluginElement._setMediaLoop=function(_a,_b){if(this.loop!=_b){this.loop=_b;if(this._object_node){this._object_node.loop=_b;}}};_pMediaPlayerPluginElement._setMediaAutoPlay=function(_a,_b){if(this.autoplay!=_b){this.autoplay=_b;if(this._object_node){this._object_node.autoplay=_b;}}};_pMediaPlayerPluginElement._setMediaVolume=function(_a,_b){_b=_b/100;if(this.volume!=_b){this.volume=_b;if(this._object_node){this._object_node.volume=_b;}}};_pMediaPlayerPluginElement._setMediaEnable=function(_a,_b){this.enable=_b;};}_pMediaPlayerPluginElement.destroy=function(){nexacro.PluginElement.prototype.destroy.call();};_pMediaPlayerPluginElement.set_volume=function(_a){};delete _pMediaPlayerPluginElement;nexacro.CanvasElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pCanvasElement=nexacro._createPrototype(nexacro.Element,nexacro.CanvasElement);nexacro.CanvasElement.prototype=_pCanvasElement;_pCanvasElement._type_name="CanvasElement";_pCanvasElement.lineOffset=0.5;_pCanvasElement.scale=10;_pCanvasElement.scalex=0;_pCanvasElement.scaley=0;_pCanvasElement.fillStyle="#000000";_pCanvasElement.strokeStyle="#000000";_pCanvasElement.lineCap="butt";_pCanvasElement.lineJoin="miter";_pCanvasElement.lineWidth=1;_pCanvasElement.miterLimit=10;_pCanvasElement.shadowColor="#000000";_pCanvasElement._shadowColor="#000000";_pCanvasElement.shadowOffsetX=0;_pCanvasElement.shadowOffsetY=0;_pCanvasElement.shadowBlur=0;_pCanvasElement.font=null;_pCanvasElement._font=null;_pCanvasElement.textAlign="start";_pCanvasElement.textBaseline=0;_pCanvasElement.globalAlpha=1;_pCanvasElement.globalCompositeOperation=1;_pCanvasElement._status_stack=[];_pCanvasElement._matrix_stack=[];_pCanvasElement.createPattern=function(){return null;};_pCanvasElement.createLinearGradient=function(_a,_b,_c,_d){var _e=this._handle;if(_e){return nexacro.__createCanvasLinearGradient(_e,_a,_b,_c,_d);}return null;};_pCanvasElement.createRadialGradient=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){return nexacro.__createCanvasRadialGradient(_g,_a,_b,_c,_d,_e,_f);}return null;};_pCanvasElement.setElementFillStyle=function(_a){var _b=this._handle;if(_b&&_a){this.fillStyle=_a;if(_a instanceof nexacro.Style_color){nexacro.__setCanvasFillColor(_b,_a);}else{nexacro.__setCanvasFillGradation(_b,_a);}}};_pCanvasElement.setElementFont=function(_a){var _b=this._handle;if(!_a||!_b){return;}var _c=_a._sysvalue;if(!this.font||this.font._sysvalue!=_c){this.font=_a;this._font=_c;nexacro.__setCanvasFont(_b,_a,_c);}else{nexacro.__setCanvasFont(_b,_a,_c);}};_pCanvasElement.clearRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasClearRect(_e,_a,_b,_c,_d);}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pCanvasElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeStylePos(_c.style,_a,_b);}}};}else{_pCanvasElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeStylePos(_c._draw_node.style,_a,_b);}}};}_pCanvasElement.setElementGlobalAlpha=function(_a){var _b=this._handle;if(_b&&_a>=0){this.globalAlpha=_a;nexacro.__setCanvasGlobalAlpha(_b,_a);}};_pCanvasElement.setElementGlobalCompositeOperation=function(_a){var _b=this._handle;if(_b&&_a){this.globalCompositeOperation=_a;nexacro.__setCanvasGlobalCompositeOperation(_b,_a);}};_pCanvasElement.setElementLineCap=function(_a){var _b=this._handle;if(_b){this.lineCap=_a;nexacro.__setCanvasLineCap(_b,_a);}};_pCanvasElement.setElementLineJoin=function(_a){var _b=this._handle;if(_b){this.lineJoin=_a;nexacro.__setCanvasLineJoin(_b,_a);}};_pCanvasElement.setElementLineWidth=function(_a){var _b=this._handle;if(_b&&isFinite(_a)){this.lineWidth=_a;this.lineOffset=_a/2;nexacro.__setCanvasLineWidth(_b,_a);}};_pCanvasElement.setElementStrokeStyle=function(_a){var _b=this._handle;if(_b&&_a){this.strokeStyle=_a;nexacro.__setCanvasStrokeStyle(_b,_a);}};_pCanvasElement.setElementMiterLimit=function(_a){var _b=this._handle;if(_b&&_a){this.miterLimit=_a;nexacro.__setCanvasMiterLimit(_b,_a);}};_pCanvasElement.setElementShadowBlur=function(_a){var _b=this._handle;if(_b){this.shadowBlur=_a;nexacro.__setCanvasShadowBlur(_b,_a);}};_pCanvasElement.setElementShadowColor=function(_a){var _b=this._handle;if(_a&&_b){this.shadowColor=_a;_b._shadowColor=nexacro._getWebColorFromXreColor(_a.value);nexacro.__setCanvasShadowColor(_b,_b._shadowColor);}};_pCanvasElement.setElementShadowOffsetX=function(_a){var _b=this._handle;if(_b){this.shadowOffsetX=_a;nexacro.__setCanvasShadowOffsetX(_b,_a);}};_pCanvasElement.setElementShadowOffsetY=function(_a){var _b=this._handle;if(_b){this.shadowOffsetY=_a;nexacro.__setCanvasShadowOffsetY(_b,_a);}};_pCanvasElement.setElementTextAlign=function(_a){var _b=this._handle;if(_b){this.textAlign=_a;nexacro.__setCanvasTextAlign(_b,_a);}};_pCanvasElement.setElementTextBaseline=function(_a){var _b=this._handle;if(_b){this.textBaseline=_a;nexacro.__setCanvasTextBaseline(_b,_a);}};_pCanvasElement.arc=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__darwCanvasArc(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.arc2=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._degreesToRadians(_d);var _h=nexacro._degreesToRadians(_e);var _i=this._handle;if(_i){nexacro.__darwCanvasArc(_i,_a,_b,_c,_g,_h,_f);}};_pCanvasElement.arcTo=function(_a,_b,_c,_d,_e){var _f=this._handle;if(_f){nexacro.__drawCanvasArcTo(_f,_a,_b,_c,_d,_e);}};_pCanvasElement.beginPath=function(){var _a=this._handle;if(_a){nexacro.__drawCanvasBeginPath(_a);}};_pCanvasElement.bezierCurveTo=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__drawCanvasBezierCurveTo(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.clip=function(){var _a=this._handle;if(_a){nexacro.__clipCanvas(_a);}};_pCanvasElement.closePath=function(){var _a=this._handle;if(_a){nexacro.__drawCanvasClosePath(_a);}};_pCanvasElement.drawImage=function(_a,_b,_c,_d,_e){var _f=this._handle;var _g=_a._handle;if(_g&&_f){nexacro.__drawCanvasImage(_f,_g,_b,_c,_d,_e);}};_pCanvasElement.fill=function(){var _a=this._handle;if(_a){nexacro.__fillCanvas(_a);}};_pCanvasElement.fillRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__fillCanvasRect(_e,_a,_b,_c,_d);}};_pCanvasElement.fillText=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasFillText(_e,_a,_b,_c,_d);}};_pCanvasElement.isPointInPath=function(_a,_b){var _c=this._handle;if(_c){return nexacro.__isPointInCanvasPath(_c,_a,_b);}return false;};_pCanvasElement.lineTo=function(_a,_b){var _c=this._handle;if(_c){nexacro.__drawCanvaslineTo(_c,_a,_b);}};_pCanvasElement.moveTo=function(_a,_b){var _c=this._handle;if(_c){nexacro.__drawCanvasmoveTo(_c,_a,_b);}};_pCanvasElement.quadraticCurveTo=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasQuadraticCurveTo(_e,_a,_b,_c,_d);}};_pCanvasElement.rect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__rectCanvas(_e,_a,_b,_c,_d);}};_pCanvasElement.rotate=function(_a){var _b=this._handle;if(_b){nexacro.__rotateCanvas(_b,_a);}};_pCanvasElement.rotate2=function(_a){var _b=nexacro._degreesToRadians(_a);this.rotate(_b);};_pCanvasElement.scale=function(_a,_b){var _c=this._handle;this.scalex=_a;this.scaley=_b;if(_c){nexacro.__scaleCanvas(_c,_a,_b);}};_pCanvasElement.setTransform=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__setCanvasTransform(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.stroke=function(){var _a=this._handle;if(_a){nexacro.__strokeCanvas(_a);}};_pCanvasElement.strokeRect=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasStrokeRect(_e,_a,_b,_c,_d);}};_pCanvasElement.strokeText=function(_a,_b,_c,_d){var _e=this._handle;if(_e){nexacro.__drawCanvasStrokeText(_e,_a,_b,_c,_d);}};_pCanvasElement.transform=function(_a,_b,_c,_d,_e,_f){var _g=this._handle;if(_g){nexacro.__transformCanvas(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.translate=function(_a,_b){var _c=this._handle;if(_c){nexacro.__translateCanvas(_c,_a,_b);}};_pCanvasElement.save=function(){var _a=this._handle;if(_a){nexacro.__saveCanvas(_a);}};_pCanvasElement.toDataURL=function(){var _a=this._handle;try{if(_a){return nexacro.__toDataURLCanvas(_a);}}catch(e){try{if(_a){return nexacro.__toDataURLCanvas(_a);}}catch(e){return "";}}};_pCanvasElement.restore=function(){var _a=this._handle;if(_a){nexacro.__restoreCanvas(_a);}};_pCanvasElement.drawArc=function(_a,_b,_c,_d,_e,_f,_g){if(!_g){_d=_d*(Math.PI/180);_e=_e*(Math.PI/180);}this.arc(_a,_b,_c,_d,_e,_f);};_pCanvasElement.drawFill=function(){this.fill();this.beginPath();};_pCanvasElement._setPenStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement.drawStrokeLine=function(_a,_b,_c,_d){this.moveTo(_a,_b);this.lineTo(_c,_d);this.drawStroke();};_pCanvasElement.drawStrokeVLine=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);this.drawStroke();};_pCanvasElement.drawStrokeHLine=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);this.drawStroke();};_pCanvasElement.drawFillArc=function(_a,_b,_c,_d,_e,_f){this.drawArc(_a,_b,_c,_d,_e,_f,true);this.closePath();this.fill();this.beginPath();};_pCanvasElement.drawFillArc2=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._degreesToRadians(_d);var _h=nexacro._degreesToRadians(_e);this.arc(_a,_b,_c,_g,_h,_f);this.closePath();this.fill();this.beginPath();};_pCanvasElement.halfRect=function(_a,_b,_c,_d){var _e=this.lineWidth;var _f=(_d>0)?_e: -_e;this.moveTo(_a,_b);this.lineTo(_a,_b+_d);this.lineTo(_a+_c,_b+_d);this.lineTo(_a+_c,_b);this.lineTo(_a+_c-_e,_b);this.lineTo(_a+_c-_e,_b+_d-_f);this.lineTo(_a+_e,_b+_d-_f);this.lineTo(_a+_e,_b);this.closePath();};_pCanvasElement.drawStrokeHalfRect=function(_a,_b,_c,_d){this.halfRect(_a,_b,_c,_d);this.drawStroke();};_pCanvasElement.drawStrokeRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d,true);this.drawStroke();};_pCanvasElement.drawStrokeArc=function(_a,_b,_c,_d,_e,_f){this.arc(_a,_b,_c,_d,_e,_f);this.drawStroke();};_pCanvasElement.drawStrokeArc2=function(_a,_b,_c,_d,_e,_f){this.arc2(_a,_b,_c,_d,_e,_f);this.drawStroke();};_pCanvasElement.drawStrokeInsetRect=function(_a,_b,_c,_d){this.insetRect(_a,_b,_c,_d);this.drawStroke();};_pCanvasElement.hline=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);};_pCanvasElement.vline=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);};if(!(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9)){_pCanvasElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){var _b=this._handle;if(!_b){this._owner_elem=_a;var _c=_a.getRootWindowHandle();_b=_c.createElement("div");_b._linked_element=this;_b._element_type=7;nexacro.__setDOMNodeSelectable(_b,false);this._handle=this._dest_handle=_b;var _d=_c.createElement("canvas");_b._draw_node=_d;_b._draw_ctx=_d.getContext("2d");var _e=_d.style;_e.border="none";nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setCanvasNodeSize(_d,this.width,this.height);nexacro.__setCanvasTextAlign(_b,this.textAlign);nexacro.__appendDOMNode(_b,_d);nexacro.__appendDOMNode(_a._dest_handle,_b);}}};_pCanvasElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;_a._draw_node=null;_a._draw_ctx=null;}this.parent=null;this._parent_elem=null;};_pCanvasElement._drawRotate=function(_a){var _b=this._handle;if(!_b){return;}var _c=_a*Math.PI/180;this._handle._draw_ctx.rotate(_c);};_pCanvasElement.circle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2*Math.PI,true);};_pCanvasElement.drawStrokeCircle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2*Math.PI,true);this.drawStroke();};_pCanvasElement.drawStrokeInsetArc=function(_a,_b,_c,_d,_e){var _f=this.lineWidth/2;this.drawArc(_a,_b,_c-_f,_d,_e);this.drawStroke();};_pCanvasElement.drawStrokeInsetCircle=function(_a,_b,_c){var _d=this.lineOffset;this.arc(_a,_b,_c-_d,0,2*Math.PI,true);this.drawStroke();};_pCanvasElement.drawFillRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d);this.fill();this.beginPath();};_pCanvasElement.endDraw=function(){this.beginPath();this.closePath();};_pCanvasElement.drawStroke=function(){this.stroke();this.beginPath();};_pCanvasElement.drawFillCircle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2*Math.PI,true);this.fill();this.beginPath();};_pCanvasElement.insetRect=function(_a,_b,_c,_d){if(_c==0||_d==0){return;}var _e=this.lineOffset;var _f=(_c>0)?_e: -_e;var _g=(_d>0)?_e: -_e;this.moveTo(_a+_f,_b+_g);this.lineTo(_a+_f,_b+_d-_g);this.lineTo(_a+_c-_f,_b+_d-_g);this.lineTo(_a+_c-_f,_b+_g);this.closePath();};_pCanvasElement._setLineStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._moveCanvas=function(_a,_b,_c,_d){this.left=_a||0;this.top=_b||0;this.width=_c||0;this.height=_d||0;if(this._handle){var _e=this._handle._draw_node;if(_e){_e.width=this.width;_e.height=this.height;var _f=_e.style;_f.left=this.left+"px";_f.top=this.top+"px";_f.width=this.width+"px";_f.height=this.height+"px";}}};_pCanvasElement.measureText=function(_a,_b){var _c=this._handle;if(_c){if(!_b){_b=new nexacro.Style_font(_c._draw_ctx.font);}var _d=nexacro._getTextSize(_a,_b);return {width:_d[0],height:_d[1]};}};_pCanvasElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeSize(_c._draw_node,_a,_b);}}};}else{_pCanvasElement._image_data=null;_pCanvasElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){var _b=this._handle;if(!_b){this._owner_elem=_a;var _c=_a.getRootWindowHandle();_b=_c.createElement("div");_b._linked_element=this;_b._element_type=7;_b._scale=10;_b._half_scale=5;_b._path_str="";_b._vml_str="";_b._line_scale=1;_b._matrix=nexacro._createMatrixIdentity();_b._pathArray=[];_b._image=null;_b._textBaseline=3;this._handle=this._dest_handle=_b;var _d=_c.createElement("div");_b._draw_node=_d;var _e=_d.style;_e.border="none";nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeSize(_e,this.width,this.height);if(!this.font){this.font=new nexacro.Style_font("8px Arial");}nexacro.__appendDOMNode(_b,_d);nexacro.__appendDOMNode(_a._dest_handle,_b);}}};_pCanvasElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;_a._linked_element=null;_a._pathArray=null;_a._matrix=null;_a._draw_node=null;}this.parent=null;this._parent_elem=null;};_pCanvasElement._getCoordSize=function(_a,_b){var _c=this._handle._matrix;var _d=this._handle._scale;var _e=this._handle._half_scale;return {x:Math.round(_d*(_a*_c[0][0]+_b*_c[1][0]+_c[2][0])-_e),y:Math.round(_d*(_a*_c[0][1]+_b*_c[1][1]+_c[2][1])-_e)};};_pCanvasElement._getCoordPos=function(_a,_b){var _c=this._handle._matrix;return {x:(_a*_c[0][0]+_b*_c[1][0]+_c[2][0]),y:(_a*_c[0][1]+_b*_c[1][1]+_c[2][1])};};_pCanvasElement._getLineCapStr=function(){return (this.lineCap=="butt")?"flat":this.lineCap;};_pCanvasElement._moveCanvas=function(_a,_b,_c,_d){this.left=_a||0;this.top=_b||0;this.width=_c||0;this.height=_d||0;if(this._handle&&this._handle._draw_node){var _e=this._handle._draw_node;if(_e){var _f=_e.style;_f.left=this.left+"px";_f.top=this.top+"px";_f.width=this.width+"px";_f.height=this.height+"px";}}};_pCanvasElement._setLineStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._setPenStyle=function(_a){if(_a&&_a._isValid()){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(_a.width);}};_pCanvasElement._circle=function(_a,_b,_c){var _d=this._handle;if(_d){var _e=_d._scale;var _f=_d._half_scale;var _g=_c*_e;var _h=_a+_g-_f;var _i=_b-_f;var _j=this._getCoordSize(_a,_b);var _k=this._getCoordSize(_h,_i);var _l=' at'+(_j.x-_g)+','+(_j.y-_g)+' '+(_j.x+_g)+','+(_j.y+_g)+' '+_k.x+','+_k.y+' '+_k.x+','+_k.y+' ';_d._pathArray.push({x:_j.x-_g,y:_j.y-_g});_d._pathArray.push({x:_j.x+_g,y:_j.y+_g});_d._pathArray.push({x:_k.x,y:_k.y});_d._path_str+=_l;}};_pCanvasElement.circle=function(_a,_b,_c,_d){if(_d){var _e=this.lineOffset;this._circle(_a,_b,_c-_e);}else{this._circle(_a,_b,_c);}};_pCanvasElement.insetRect=function(_a,_b,_c,_d){if(_c==0||_d==0){return;}var _e=(_c>0)?gap: -gap;var _f=(_d>0)?gap: -gap;this.moveTo(_a+_e,_b+_f);this.lineTo(_a+_e,_b+_d-_f);this.lineTo(_a+_c-_e,_b+_d-_f);this.lineTo(_a+_c-_e,_b+_f);this.closePath();};_pCanvasElement.drawHalfRect=function(_a,_b,_c,_d){this.halfRect(_a,_b,_c,_d);this.drawStroke();};_pCanvasElement.drawFillRect=function(_a,_b,_c,_d){this.moveTo(_a,_b);this.lineTo(_a+_c,_b);this.lineTo(_a+_c,_b+_d);this.lineTo(_a,_b+_d);this.closePath();this.fill();this.beginPath();};_pCanvasElement.strokeRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d,true);this.drawStroke();};_pCanvasElement.drawStrokeInsetArc=function(_a,_b,_c,_d,_e){var _f=this.lineWidth;this.drawArc(_a,_b,_c-_f,_d,_e);this.drawStroke();this.closePath();};_pCanvasElement.drawFillCircle=function(_a,_b,_c){this.circle(_a,_b,_c);this.fill();this.beginPath();};_pCanvasElement.drawStrokeCircle=function(_a,_b,_c){var _d=this.lineOffset;this.circle(_a,_b,_c+_d);this.circle(_a,_b,_c-_d);this.drawStroke();};_pCanvasElement.drawStrokeInsetCircle=function(_a,_b,_c){var _d=this.lineWidth;this.circle(_a,_b,_c);this.circle(_a,_b,_c-_d);this.drawStroke();};_pCanvasElement.drawStroke=function(){var _a=this._handle;var _b=_a._linked_element;if(_a&&_a._path_str){var _c="";_c+="<v:shape filled='f' stroked='t' style='position:absolute;width:10px;height:10px;' ";_c+="coordorigin='0 0' coordsize='"+_a._scale*10+' '+_a._scale*10+"' ";_c+="color='"+_a._stroke_color+"' ";_c+="strokecolor='"+_a._stroke_color+"' ";if(_a._stroke_alpha!=1){_c+="opacity='"+_a._stroke_alpha+"' ";}var _d=_b.lineWidth*_a._line_scale;_c+="joinstyle='"+_b.lineJoin+"' endcap='"+_b._getLineCapStr()+"' strokeweight='"+_d+"px' ";_c+="path='"+_a._path_str+"' />";_a._vml_str+=_c;_a._draw_node.innerHTML=_a._vml_str;_a._path_str="";}};_pCanvasElement.endDraw=function(){this.beginPath();};_pCanvasElement.measureText=function(_a,_b){var _c=this._handle;if(_c){if(!_b){return;_b=new nexacro.Style_font();}var _d=nexacro._getTextSize(_a,_b);return {width:_d[0],height:_d[1]};}};_pCanvasElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){nexacro.__setCanvasNodeSize(_c._draw_node.style,_a,_b);_c._draw_node.innerHTML="";_c._vml_str="";_c._path_str="";}}};}_pCanvasElement.drawFillText=function(_a,_b,_c,_d){this.fillText(_a,_b,_c,_d);this.beginPath();};_pCanvasElement.drawBorder=function(_a,_b,_c,_d,_e,_f){if(false&&_f&&_f.type=="round"){if(_e.width&&_e.color!=""&&_e.color!="transparent"){var _g=new nexacro.Style_color(_e.color);this.setElementStrokeStyle(_g);this.setElementLineWidth(parseInt(_e.width));var _h=_f._radiusx,_i=_f._radiusy;if(_h>0&&_i>0){var _j=0;if((_h+_h)>_c){_j=_h-Math.floor(_c/2);}if((_i+_i)>_d){var _k=_i-Math.floor(_d/2);if(_k>_j){_j=_k;}}if(_j){_h-=_j;_i-=_j;}this.moveTo(_a+_h+1000,_b);this.arcTo(_a+_c,_b,_a,_b+_i,_i);this.lineTo(bottomright.x,bottomright.y-rounding.w);this.arcTo(bottomright.x,bottomright.y,bottomright.x-rounding.w,bottomright.y,rounding.w);this.lineTo(bottomleft.x+rounding.h,bottomleft.y);this.arcTo(bottomleft.x,bottomleft.y,bottomleft.x,bottomleft.y-rounding.h,rounding.h);this.lineTo(topleft.x,topleft.y+rounding.x);this.arcTo(topleft.x,topleft.y,topleft.x+rounding.x,topleft.y,rounding.x);this.drawStroke();}else{this.drawStrokeInsetRect(_a,_b,_c,_d);}}}else if(_e&&!_e._is_empty){if(_e._linecnt==1){if(_e.width&&_e.color!=""&&_e.color!="transparent"){var _g=new nexacro.Style_color(_e.color);this.setElementStrokeStyle(_g);this.setElementLineWidth(parseInt(_e.width));this.drawStrokeInsetRect(_a,_b,_c,_d);}}else if(_e._linecnt==2){if(_e.top._isValid()){this._setLineStyle(_e.top);var _l=_e.top._width/2;this.moveTo(_a,_b+_l);this.lineTo(_a+_c,_b+_l);this.moveTo(_a,_b+_d-_l);this.lineTo(_a+_c,_b+_d-_l);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _l=_e.right._width/2;this.moveTo(_a+_c-_l,_b);this.lineTo(_a+_c-_l,_b+_d);this.moveTo(_a+_l,_b);this.lineTo(_a+_l,_b+_d);this.stroke();}}else if(_e._linecnt==3){if(_e.top._isValid()){this._setLineStyle(_e.top);var _l=_e.top._width/2;this.moveTo(_a,_b+_l);this.lineTo(_a+_c,_b+_l);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _l=_e.right._width/2;this.moveTo(_a+_c-_l,_b);this.lineTo(_a+_c-_l,_b+_d);this.moveTo(_a+_l,_b);this.lineTo(_a+_l,_b+_d);this.stroke();}if(_e.bottom._isValid()){this._setLineStyle(_e.bottom);var _l=_e.bottom._width/2;this.moveTo(_a,_b+_c-_l);this.lineTo(_a+_c,_b+_c-_l);this.stroke();}}else{if(_e.top._isValid()){this._setLineStyle(_e.top);var _l=_e.top._width/2;this.moveTo(_a,_b+_l);this.lineTo(_a+_c,_b+_l);this.stroke();}if(_e.right._isValid()){this._setLineStyle(_e.right);var _l=_e.right._width/2;this.moveTo(_a+_c-_l,_b);this.lineTo(_a+_c-_l,_b+_d);this.stroke();}if(_e.bottom._isValid()){this._setLineStyle(_e.bottom);var _l=_e.bottom._width/2;this.moveTo(_a,_b+_c-_l);this.lineTo(_a+_c,_b+_c-_l);this.stroke();}if(_e.left._isValid()){this._setLineStyle(_e.left);var _l=_e.left._width/2;this.moveTo(_a+_l,_b);this.lineTo(_a+_l,_b+_d);this.stroke();}}}};_pCanvasElement=null;nexacro.CanvasGradient=function(_a){this.type_=_a;this.x0=0;this.y0=0;this.r0=0;this.x1=0;this.y1=0;this.r1=0;this.colors=[];};var _pCanvasGradient=nexacro.CanvasGradient.prototype;_pCanvasGradient.addColorStop=function(_a,_b){var _c=nexacro._getWebColorFromXreColor(_b);var _d=nexacro._getXreColorAlpha(_b)/255;this.colors.push({offset:_a,color:_c,alpha:_d});};delete _pCanvasGradient;nexacro.GridScrollableControlElement=function(_a){this.parent=_a;this._parent_elem=_a;this._target_vscroll_elements=null;this._target_hscroll_elements=null;var _b=new nexacro.ContainerElement(this);this._client_element=_b;};var _pGridScrollableControlElement=nexacro._createPrototype(nexacro.ControlElementBase,nexacro.GridScrollableControlElement);nexacro.GridScrollableControlElement.prototype=_pGridScrollableControlElement;_pGridScrollableControlElement._type_name="GridScrollableControlElement";_pGridScrollableControlElement.scroll_left=0;_pGridScrollableControlElement.scroll_top=0;_pGridScrollableControlElement.container_maxwidth=0;_pGridScrollableControlElement.container_maxheight=0;_pGridScrollableControlElement._hscroll_visible=false;_pGridScrollableControlElement._vscroll_visible=false;_pGridScrollableControlElement._hscroll_height=0;_pGridScrollableControlElement._vscroll_width=0;_pGridScrollableControlElement._hscroll_left=0;_pGridScrollableControlElement._hscroll_top=0;_pGridScrollableControlElement._hscroll_width=0;_pGridScrollableControlElement._vscroll_left=0;_pGridScrollableControlElement._vscroll_top=0;_pGridScrollableControlElement._vscroll_height=0;_pGridScrollableControlElement.hscroll_limit=0;_pGridScrollableControlElement.vscroll_limit=0;_pGridScrollableControlElement._scroll_showtype= -1;_pGridScrollableControlElement._scrollview_width_top=0;_pGridScrollableControlElement._hscroll_control=null;_pGridScrollableControlElement._vscroll_control=null;_pGridScrollableControlElement._resizebutton_element=null;_pGridScrollableControlElement._scroll_overlap=false;_pGridScrollableControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;_c._element_type=1;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){if(this.linkedcontrol.parent._type_name=="Form"&&this.linkedcontrol.position.toLowerCase()=="fixed"){nexacro.__setDOMNodeStyleFixed(_d);}else{nexacro.__setDOMNodeStyleAbsolute(_d);}}else{nexacro.__setDOMNodeStyleAbsolute(_d);}nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}nexacro._observeSysEvent(this._client_element._handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);}};_pGridScrollableControlElement.destroy=function(){var _a=this._handle;if(_a){nexacro._stopSysObserving(this._client_element._handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_element.destroy();this._client_element=null;if(this._target_vscroll_elements){if(nexacro._isArray(this._target_vscroll_elements)){for(var _c=0,_d=this._target_vscroll_elements.length;_c<_d;_c++ ){this._target_vscroll_elements[_c]=null;}}this._target_vscroll_elements=null;}if(this._target_hscroll_elements){if(nexacro._isArray(this._target_hscroll_elements)){for(var _c=0,_d=this._target_hscroll_elements.length;_c<_d;_c++ ){this._target_hscroll_elements[_c]=null;}}this._target_hscroll_elements=null;}this._hscroll_control=null;this._vscroll_control=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pGridScrollableControlElement.clearContents=function(){if(this._handle){nexacro._stopSysObserving(this._client_element._handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._stopSysObserving(this._handle,"scroll","onscroll",this._syshandler_onscroll_forward);this._client_element.clearContents();}};_pGridScrollableControlElement._syshandler_onscroll_forward=function(_a){if(window.event){_a=window.event;}var _b=_a.srcElement||_a.target;_b.scrollLeft=0;_b.scrollTop=0;};_pGridScrollableControlElement.getContainerElement=function(_a){return this._client_element;};_pGridScrollableControlElement.setVertScrollElements=function(_a){this._target_vscroll_elements=_a;};_pGridScrollableControlElement.setHorzScrollElements=function(_a){this._target_hscroll_elements=_a;};_pGridScrollableControlElement.setContainerVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementVScrollPos(_a);}}else{_b.setElementVScrollPos(_a);}}};_pGridScrollableControlElement.setContainerHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementHScrollPos(_a);}}else{_b.setElementHScrollPos(_a);}}};_pGridScrollableControlElement.setContainerMaxHeight=function(_a){var _b=this._target_vscroll_elements;if(_b){this.container_maxheight=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxHeight(_a);}}else{_b._setContainerMaxHeight(_a);}}};_pGridScrollableControlElement.setContainerMaxWidth=function(_a){var _b=this._target_hscroll_elements;if(_b){this.container_maxwidth=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxWidth(_a);}}else{_b._setContainerMaxWidth(_a);}}};_pGridScrollableControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this._client_element;if(this._scroll_showtype>0){var _f=this._target_vscroll_elements,_g=_f,_h=this._target_hscroll_elements,_i=_h;if(nexacro._isArray(_f)){_g=_f[0];}if(nexacro._isArray(_h)){_i=_h[0];}var _j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;var _k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;var _l=(_g)?_g._getContainerMaxHeight():0;var _m=(_i)?_i._getContainerMaxWidth():0;var _n=(_i)?_i._getScrollLeft():0;var _o=(_g)?_g._getScrollTop():0;var _p=false;var _q=false;var _r=0;var _s=0;var _t=this._step_count;var _u=false;var _v=this._scroll_showtype;if(_v==1){if(this._vscroll_control&&_l>_j){_q=true;_c-=this._vscroll_width;_s=_l-_j;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control&&_m>_k){_p=true;_d-=this._hscroll_height;_j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;if(this._vscroll_control&&_l>_j){if(!_q){_q=true;_c-=this._vscroll_width;_k-=this._vscroll_width;}_s=_l-_j;}_r=_m-_k;}}else if(_v==2){if(this._vscroll_control){_q=true;_c-=this._vscroll_width;_s=_l+this._hscroll_height-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control){if(!_u){_p=true;_d-=this._hscroll_height;}_r=_m-_k;}}else if(_v==31){if(this._vscroll_control){_q=true;_c-=this._vscroll_width;_s=_l-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control&&_m>_k){_p=true;_d-=this._hscroll_height;_j=(_g)?_g._calculateClientHeight(_d-this.client_height):_d-this.client_height;if(this._vscroll_control&&_l>_j){if(!_q){_q=true;_c-=this._vscroll_width;_k-=this._vscroll_width;}_s=_l-_j;}_r=_m-_k;}}else if(_v==32){if(this._vscroll_control&&_l>_j){_q=true;_c-=this._vscroll_width;_s=_l+this._hscroll_height-_j;}if(_t>0&&step_containers){_m=_t*this.client_width;}_k=(_i)?_i._calculateClientWidth(_c-this.client_width):_c-this.client_width;if(this._hscroll_control){if(!_u){_p=true;_d-=this._hscroll_height;}_r=_m-_k;}}if(_r<0){_r=0;}if(_s<0){_s=0;}var _w=false;var _x=false;if(this.hscroll_limit!=_r){_x=true;this.hscroll_limit=_r;}if(this.vscroll_limit!=_s){_w=true;this.vscroll_limit=_s;}var _y=false;var _z=false;var _aa=false;var _ab=false;if(_o>_s){_y=true;_o=_s;}if(_n>_r){_z=true;_n=_r;}if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_e.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_e.setElementSize(_c,_d);}if(_z){this.setElementHScrollPos(_n);}if(_y){this.setElementVScrollPos(_o);}if(this._vscroll_control){if(this._vscroll_control.parent.enable!=this._vscroll_control.enable){_aa=true;}if(_q){if(!this._vscroll_visible){this._vscroll_visible=true;this._vscroll_control.set_visible(true);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_w){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,true,_o);}else{this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,true,_o);if(_y){this._vscroll_control._setScrollPos(_o);}}if(_aa){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}}else{if(this._vscroll_visible){this._vscroll_visible=false;this._vscroll_control.set_visible(false);}if(this._vscroll_left!=(_a+_c)||this._vscroll_top!=_b||this._vscroll_height!=_d||_w){this._vscroll_left=(_a+_c);this._vscroll_top=_b;this._vscroll_height=_d;this._vscroll_control._setScrollInfo(this._vscroll_left,_b,this._vscroll_width,this._vscroll_height,0,this.vscroll_limit,30,_j,_j,false,_o);}else if(_y){this._vscroll_control._setScrollPos(_o);}if(_aa){this._vscroll_control._setEnable(this._vscroll_control.parent.enable);}}}if(this._hscroll_control){if(this._hscroll_control.parent.enable!=this._hscroll_control.enable){_ab=true;}if(_p){if(!this._hscroll_visible){this._hscroll_visible=true;this._hscroll_control.set_visible(true);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_x){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_k,_k,true,_n);}else if(_z){this._hscroll_control._setScrollPos(_n);}if(_ab){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}}else{if(this._hscroll_visible){this._hscroll_visible=false;this._hscroll_control.set_visible(false);}if(this._hscroll_left!=_a||this._hscroll_top!=(_b+_d)||this._hscroll_width!=_c||_x){this._hscroll_left=_a;this._hscroll_top=(_b+_d);this._hscroll_width=_c;this._hscroll_control._setScrollInfo(_a,this._hscroll_top,this._hscroll_width,this._hscroll_height,0,this.hscroll_limit,30,_k,_k,false,_n);}else if(_z){this._hscroll_control._setScrollPos(_n);}if(_ab){this._hscroll_control._setEnable(this._hscroll_control.parent.enable);}}}}else{if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_e.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_e.setElementSize(_c,_d);}}};_pGridScrollableControlElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this){if(_a._handle){var _b=child.elem.getRootWindowHandle();var _c=this._client_element.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this;_a._removeFromContainer();}else{_a._parent_elem=this;}}else{_a._parent_elem=this;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this._client_element);}}};_pGridScrollableControlElement.removeChildElement=function(_a){if(_a._parent_elem==this){_a._removeFromContainer();}};_pGridScrollableControlElement.sendToBackElement=function(_a){this._client_element.sendToBackElement(_a);};_pGridScrollableControlElement.bringToFrontElement=function(_a){this._client_element.bringToFrontElement(_a);};_pGridScrollableControlElement.moveToNextElement=function(_a,_b){this._client_element.moveToNextElement(_a,_b);};_pGridScrollableControlElement.moveToPrevElement=function(_a,_b){this._client_element.moveToPrevElement(_a,_b);};_pGridScrollableControlElement.setScrollControls=function(_a,_b,_c,_d,_e){var _f=false;if(this._scroll_showtype!=_e){this._scroll_showtype=_e;_f=true;}if(this._hscroll_control!=_a){if(_a){this._hscroll_visible=true;_a._is_nc_control=true;this._hscroll_control=_a;if(this._hscroll_height!=_c){this._hscroll_height=_c;_f=true;}}else{this._hscroll_control=null;if(this._hscroll_height){this._hscroll_height=0;_f=true;}this._hscroll_left=0;this._hscroll_top=0;this._hscroll_width=0;}}if(this._vscroll_control!=_b){if(_b){this._vscroll_visible=true;_b._is_nc_control=true;this._vscroll_control=_b;if(this._vscroll_width!=_d){this._vscroll_width=_d;_f=true;}}else{this._vscroll_control=null;if(this._vscroll_width){this._vscroll_width=0;_f=true;}this._vscroll_left=0;this._vscroll_top=0;this._vscroll_height=0;}}if(_f){this._updateClientSize();}};_pGridScrollableControlElement._arrangeBandOrder=function(){var _a=this.linkedcontrol;if(_a){var _b=this._client_element;var _c=null;if(_b._handle){if(_a._headBand){contorl_element=_a._headBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._bodyBand){contorl_element=_a._bodyBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._summBand){contorl_element=_a._summBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._headBand){contorl_element=_a._headBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._bodyBand){contorl_element=_a._bodyBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._summBand){contorl_element=_a._summBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,contorl_element._handle);}}delete _c;}};_pGridScrollableControlElement._arrangeBandOrder=function(){var _a=this.linkedcontrol;if(_a){var _b=this._client_element;var _c=null;if(_b._handle){if(_a._headBand){contorl_element=_a._headBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._bodyBand){contorl_element=_a._bodyBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._summBand){contorl_element=_a._summBand._control_element;nexacro.__removeDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._headBand){contorl_element=_a._headBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._bodyBand){contorl_element=_a._bodyBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,contorl_element._handle);}if(_a._summBand){contorl_element=_a._summBand._control_element;nexacro.__appendDOMNode(_b._dest_handle,contorl_element._handle);}}delete _c;}};if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){_pGridScrollableControlElement.setElementHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _c=_b._getScrollLeft();if(_c!=_a||this._reset_scrollpos){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control){this._hscroll_control._setScrollPos(_a);}}if(this.parent._procRefreshDOM==true){var _d;if(nexacro._isArray(_b)){_d=_b[0]._client_body_element;}else{_d=_b._client_body_element;}if(_d){_d._refreshDOM();}}}};_pGridScrollableControlElement.setElementVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}var _c=_b._getScrollTop();if(_c!=_a||this._reset_scrollpos){this.scroll_top=_a;this.linkedcontrol._scroll_top=_a;this.setContainerVScrollPos(_a);if(this._vscroll_control&&!this._vscroll_control._no_set_scrollinfo){this._vscroll_control._setScrollPos(_a);}}if(this.parent._procRefreshDOM==true){var _d;if(nexacro._isArray(_b)){_d=_b[0]._client_element;}else{_d=_b._client_element;}if(_d){_d._refreshDOM();}}}};}else{_pGridScrollableControlElement.setElementHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _c=_b._getScrollLeft();if(_c!=_a||this._reset_scrollpos){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control&&!this._hscroll_control._no_set_scrollinfo){this._hscroll_control._setScrollPos(_a);}}}};_pGridScrollableControlElement.setElementVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}var _c=_b._getScrollTop();if(_c!=_a||this._reset_scrollpos){this.scroll_top=_a;this.linkedcontrol._scroll_top=_a;this.setContainerVScrollPos(_a);if(this._vscroll_control&&!this._vscroll_control._no_set_scrollinfo){this._vscroll_control._setScrollPos(_a);}}}};};_pGridScrollableControlElement.setElementScrollPos=function(_a,_b){var _c=this._target_vscroll_elements;var _d=this._target_hscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}if(_b<0){_b=0;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}var _e=_c._getScrollTop();if(_e!=_b){this.scroll_top=_b;this.linkedcontrol._scroll_top=_b;this.setContainerVScrollPos(_b);if(this._vscroll_control){this._vscroll_control._setScrollPos(_b);}}}if(_d){if(nexacro._isArray(_d)){_d=_d[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _f=_d._getScrollLeft();if(_f!=_a){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this.setContainerHScrollPos(_a);if(this._hscroll_control){this._hscroll_control._setScrollPos(_a);}}}};_pGridScrollableControlElement._setInnerElementScrollMaxSize=function(_a){var _b=this._target_vscroll_elements;if(_b&&_a){_b._client_element._scroll_max_arr=_a;}};_pGridScrollableControlElement.setElementScrollMaxSize=function(_a,_b){var _c=this._target_vscroll_elements;if(nexacro._isArray(_c)){_c=_c[0];}var _d=this._target_hscroll_elements;if(nexacro._isArray(_d)){_d=_d[0];}var _e=(_c)?_c._getContainerMaxHeight():0;var _f=(_d)?_d._getContainerMaxWidth():0;var _g=false;if(_f!=_a||_e!=_b){if(_e!=_b){this.setContainerMaxHeight(_b);}if(_f!=_a){this.setContainerMaxWidth(_a);}_g=true;}if(_c&&this._scroll_showtype>=0){this._updateClientSize();}return _g;};_pGridScrollableControlElement.setElementScrollMaxWidth=function(_a,_b){var _c=this._target_hscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}var _d=_c._getContainerMaxWidth();if(_d!=_a){if(_d!=_a){this.setContainerMaxWidth(_a);}if(_b&&this._scroll_showtype>=0){this._updateClientSize();}return true;}}return false;};_pGridScrollableControlElement.setElementScrollMaxHeight=function(_a,_b){var _c=this._target_vscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}var _d=_c._getContainerMaxHeight();if(_d!=_a){if(_d!=_a){this.setContainerMaxHeight(_a);}if(_b&&this._scroll_showtype>=0){this._updateClientSize();}return true;}}return false;};_pGridScrollableControlElement.setElementScrollbarSize=function(_a,_b){if(this._vscroll_width!=_a||this._hscroll_height!=_b){this._vscroll_width=_a;this._hscroll_height=_b;if(this._scroll_showtype>=0){this._updateClientSize();}return true;}return false;};delete _pGridScrollableControlElement;nexacro.GridBandControlElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this._type=_b;this._client_element=new nexacro.GridBandContainerElement(this);this._client_element_fix=null;this._fix_height=0;this.container_maxwidth=0;this.container_maxheight=0;};var _pGridBandControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridBandControlElement);nexacro.GridBandControlElement.prototype=_pGridBandControlElement;_pGridBandControlElement._type_name="GridBandControlElement";_pGridBandControlElement.scroll_left=0;_pGridBandControlElement.scroll_top=0;_pGridBandControlElement.create=function(){nexacro.ControlElement.prototype.create.call(this);if(this._client_element_fix){this._client_element_fix.create();}};_pGridBandControlElement.destroy=function(){if(this._client_element_fix){this._client_element_fix.destroy();this._client_element_fix=null;}return nexacro.ControlElement.prototype.destroy.call(this);};_pGridBandControlElement._setFixArea=function(_a){this._fix_height=_a;if(!this._client_element_fix){this._client_element_fix=new nexacro.GridBandContainerElement(this,true);}if(this._handle&&!this._client_element_fix._handle){this._client_element_fix.create();}this._updateClientSize();};_pGridBandControlElement.getContainerElement=function(_a){if(_a){return this._client_element_fix;}return this._client_element;};_pGridBandControlElement._setContainerMaxHeight=function(_a){if(this._type=="body"){if(this.container_maxheight!=_a){this.container_maxheight=_a;this._client_element._setScrollHeight(_a);}}};_pGridBandControlElement._calculateClientHeight=function(_a){var _b=this.client_height+_a+((this.border)?this.border._getBorderHeight():0);return _b;};_pGridBandControlElement.setElementBorder=function(_a,_b){this.border=_a;this.bordertype=_b;this._setControlBorder(this,this._handle,_a,_b,true);this._updateClientSize();this._client_element._adjustPos();};_pGridBandControlElement._getContainerMaxHeight=function(){if(this._type=="body"){return this.container_maxheight;}else{return this.client_height;}};_pGridBandControlElement._getScrollLeft=function(){return this.scroll_left;};_pGridBandControlElement._getScrollTop=function(){if(this._type=="body"){return this.scroll_top;}else{return 0;}};_pGridBandControlElement._updateClientSize=function(){var _a=0;var _b=0;var _c=this._inner_width;var _d=this._inner_height;var _e=this.border;if(_e&&!_e._is_real_empty()){_c+=_e._getBorderWidth();_d+=_e._getBorderHeight();}var _f=this._fix_height;_b+=_f;_d-=_f;var _g=this._client_element_fix;if(_g){_g.setElementPosition(_a,0);_g.setElementSize(_c,_f);}var _h=this._client_element;if(_h){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_h.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_h.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridBandControlElement.setElementVScrollPos=function(_a){if(this._type=="body"){this._client_element._try_user_setvpos=true;this._client_element.setElementVScrollPos(_a);this._client_element._try_user_setvpos=null;this.scroll_top=_a;}};_pGridBandControlElement._setOnScrollCallbackTarget=function(_a){if(this._type=="body"){this._client_element._grid=_a;}};_pGridBandControlElement.setElementCursor=nexacro._emptyFn;_pGridBandControlElement.setElementShadow=nexacro._emptyFn;delete _pGridBandControlElement;nexacro.GridBandContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;this._scroll_max_arr=[];this._ext_inner=[];};var _pGridBandContainerElement;var _gridScrollMode=1;if(nexacro.Browser=="Edge"||(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"))){_gridScrollMode=0;}if(_gridScrollMode){_pGridBandContainerElement=nexacro._createPrototype(nexacro.ScrollableInnerContainerElement,nexacro.GridBandContainerElement);}else{_pGridBandContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.GridBandContainerElement);}nexacro.GridBandContainerElement.prototype=_pGridBandContainerElement;_pGridBandContainerElement._type_name="GridBandContainerElement";_pGridBandContainerElement._findScrollbarLinkedControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){_c=_c.parent;if(_b){if(_c.vscrollbar&&_c.vscrollbar._isVisible()){return _c;}}else{if(_c.hscrollbar&&_c.hscrollbar._isVisible()){return _c;}}}_a=_a.parent;}};_pGridBandContainerElement._adjustPos=function(){this.setElementPosition(this.left,this.top);};_pGridBandContainerElement.setElementPosition=function(_a,_b){var _c=this.parent.border;this.left=_a;this.top=_b;var _d=this._handle;if(_d){if(_c){_a=_a-_c._left_width;_b=_b-_c._top_width;}nexacro.__setDOMNodeStylePos(_d.style,_a,_b);}};if(_gridScrollMode){_pGridBandContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);var _d=_b.createElement("div");_d.id=_c.id+"_inner";nexacro.__setDOMNodeSelectable(_d,false);var _e=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_e);nexacro.__setDOMNodeStylePos(_e,this.left,this.top);nexacro.__setDOMNodeStyleSize(_e,this.width,this.height);var _f=_d.style;_f.position="absolute";nexacro.__setDOMNodeStylePos(_f,0,0);nexacro.__setDOMNodeStyleSize(_f,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}nexacro.__appendDOMNode(_c,_d);this._dest_handle=_d;this._handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._setScrollHeight(_a.container_maxheight);if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeStyleTranslate(_f, -this._scroll_left, -this._scroll_top);}nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);this._adjustPos();}};_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;if(!_b){_b=_a.srcElement;}if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;return;}var _d=_c._scroll_top|0;if(_b.scrollLeft>0){_c._noEventScroll=true;_b.scrollLeft=0;}if(_b.scrollTop>0){_c._noEventScroll=true;_b.scrollTop=0;}}};_pGridBandContainerElement._setInnerElementExtend=function(){var _a=this._handle;var _b=this._dest_handle;var _c=this._scroll_max_arr;var _d=this._owner_elem.getRootWindowHandle();if(_c.length>0){for(var _e=1;_e<_c.length;_e++ ){var _f=_d.createElement("div");_f.id=_b.id+"_ext_"+(_e-1);nexacro.__setDOMNodeSelectable(_f,false);var _g=_f.style;_g.position="absolute";nexacro.__setDOMNodeStylePos(_g,0,_c[0]);nexacro.__setDOMNodeStyleSize(_f.style,this.width,_c[_e]-_c[_e-1]);nexacro.__appendDOMNode(_a,_f);this._ext_inner.push(_f);}}};_pGridBandContainerElement._setScrollHeight=function(_a){var _b=this._dest_handle;if(_b){if(this._scroll_max_arr&&this._scroll_max_arr.length>0){nexacro.__setDOMNodeStyleSize(_b.style,this.width,this._scroll_max_arr[0]);this._setInnerElementExtend();}else{nexacro.__setDOMNodeStyleSize(_b.style,this.width,_a);}}};if(_gridScrollMode==2){_pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._dest_handle;if(_b){nexacro.__setDOMNodeStylePos(_b.style,0, -_a);if(this._grid){this._grid._callback_onscroll(_a);}}}};}else{_pGridBandContainerElement._getInnerElementIndex=function(_a){var _b=this._ext_inner;var _c=this._scroll_max_arr;for(var _d=0;_d<_c.length;_d++ ){if(_a<_c[_d]){return _d-1;}}return null;};_pGridBandContainerElement._changeInnerElement=function(_a,_b,_c){var _d=this._getInnerElementIndex(_b);var _e=(this._ext_inner[_d])?this._ext_inner[_d]:this._dest_handle;var _f=_c.parentElement;if(_f!=_e){if(_a){nexacro.__removeDOMNode(_f,_c);nexacro.__appendDOMNode(_e,_c);}else{nexacro.__removeDOMNode(_f,_c);nexacro.__appendDOMNode(_e,_c);}}else{if(_d!=null&&_d> -1){_b=_b-this._scroll_max_arr[_d];}}return _b;};_pGridBandContainerElement._setInnerElementVScrollPos=function(_a){var _b=_a;var _c=this._ext_inner;var _d=this._scroll_max_arr;for(var _e=0;_e<_c.length;_e++ ){if(_e>0){if(_a>=_d[_e-1]){_b=_a-_d[_e-1];if(_b>=_d[1]){_b=_d[1];}nexacro.__setDOMNodeStyleTranslateY(_c[_e].style, -_b);}}else{if(_a>=_d[1]){_b=_d[1];}nexacro.__setDOMNodeStyleTranslateY(_c[0].style, -_b);nexacro.__setDOMNodeStyleTranslateY(this._dest_handle.style, -_b);}}};_pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._dest_handle;if(_b){nexacro.__setDOMNodeStyleTranslateY(_b.style, -_a);this._setInnerElementVScrollPos(_a);if(this._grid){this._grid._callback_onscroll(_a);}}}};}_pGridBandContainerElement._refreshDOM=function(){if(this._handle){nexacro.__setDOMNodeVScrollPos(this._handle,1);}};}else{_pGridBandContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=3;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsoluteTransparent(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMNodeOffset(_c,this._scroll_left,this._scroll_top);}var _e=this._tempdiv=_b.createElement("div");_e._element_type=3;nexacro.__setDOMNodeStyleAbsoluteTransparent(_e.style);nexacro.__setDOMNodeStylePos(_e.style,0,0);nexacro.__setDOMNodeStyleSize(_e.style,1,1);nexacro.__setDOMNodeStyleVisible(_e.style,false);nexacro.__appendDOMNode(_c,_e);this._setScrollHeight(_a.container_maxheight);nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_onscroll_forward);this._adjustPos();}};_pGridBandContainerElement.destroy=function(){var _a=this._handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}nexacro.__removeDOMNode(_a,this._tempdiv);this._tempdiv=null;this._owner_elem=null;this._handle=this._dest_handle=null;}this.parent=null;this._parent_elem=null;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion<=8){_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;if(_c._grid){_c._grid._callback_onscroll(_b.scrollTop);}return;}var _d=_c._scroll_top|0;if(!_c._try_user_setvpos){if(_d!=_b.scrollTop){var _e=_c._findScrollbarLinkedControl(_c,true);if(_e){if(_e._scrollpixel=="all"){_e.vscrollbar.set_pos(_b.scrollTop);}else{_e.vscrollbar.set_pixelpos(_b.scrollTop);}}else{_b.scrollTop=_d;}}}}};}else{_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;if(_c._grid){_c._grid._callback_onscroll(_b.scrollTop);}return;}var _d=_c._scroll_top|0;if(_d!=_b.scrollTop){var _e=_c._findScrollbarLinkedControl(_c,true);if(_e){if(_e._scrollpixel=="all"){_e.vscrollbar.set_pos(_b.scrollTop);}else{_e.vscrollbar.set_pixelpos(_b.scrollTop);}}else{_b.scrollTop=_d;}}}};}}else{_pGridBandContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;if(_c._grid){_c._grid._callback_onscroll(_b.scrollTop);}return;}var _d=_c._scroll_top|0;if(_d!=_b.scrollTop){var _e=_c._findScrollbarLinkedControl(_c,true);if(_e){if(_e._scrollpixel=="all"){_e.vscrollbar.set_pos(_b.scrollTop);}else{_e.vscrollbar.set_pixelpos(_b.scrollTop);}}else{_b.scrollTop=_d;}}}};}_pGridBandContainerElement._setScrollHeight=function(_a){if(this._tempdiv){nexacro.__setDOMNodeStylePos(this._tempdiv.style,0,_a-1);}};_pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this._handle;if(_b){this._noEventScroll=true;nexacro.__setDOMNodeVScrollPos(_b,_a);}}};};delete _pGridBandContainerElement;nexacro.GridRowControlElement=function(_a){this.parent=_a;this._parent_elem=_a;this._client_left_element=null;this._client_body_element=new nexacro.GridAreaContainerElement(this,"body");this._client_right_element=null;this._left_width=0;this._right_width=0;this._body_width=0;this._body_scroll_maxwidth=0;this.scroll_left=0;};var _pGridRowControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridRowControlElement);nexacro.GridRowControlElement.prototype=_pGridRowControlElement;_pGridRowControlElement._type_name="GridRowControlElement";_pGridRowControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this.linkedcontrol._fixed);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle){if(!this._client_body_element._handle){this._client_body_element.create();}if(this._client_left_element&&!this._client_left_element._handle){this._client_left_element.create();}if(this._client_right_element&&!this._client_right_element._handle){this._client_right_element.create();}this._client_element=this._client_body_element;}}};_pGridRowControlElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_a.parentNode,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._destroyControlSubElements();this._client_body_element.destroy();if(this._client_left_element){this._client_left_element.destroy();}if(this._client_right_element){this._client_right_element.destroy();}this._client_body_element=null;this._client_left_element=null;this._client_right_element=null;this._client_element=null;}this.parent=null;this._parent_elem=null;this.linkedcontrol=null;};_pGridRowControlElement.clearContents=function(){if(this._handle){this._client_body_element.clearContents();if(this._client_left_element){this._client_left_element.clearContents();}if(this._client_right_element){this._client_right_element.clearContents();}}};_pGridRowControlElement.getContainerElement=function(_a){if(_a=="left"){return this._client_left_element;}else if(_a=="right"){return this._client_right_element;}return this._client_body_element;};_pGridRowControlElement.setArea=function(_a,_b){if(_a>0&&!this._client_left_element){this._client_left_element=new nexacro.GridAreaContainerElement(this,"left");}if(_b>0&&!this._client_right_element){this._client_right_element=new nexacro.GridAreaContainerElement(this,"right");}this._left_width=_a;if(this._client_left_element){this._client_left_element.setElementPosition(this.client_left,this.client_top);this._client_left_element.setElementSize(_a,this.client_height);}this._right_width=_b;if(this._client_right_element){this._client_right_element.setElementPosition(this.client_width-_b,this.client_top);this._client_right_element.setElementSize(_b,this.client_height);}this._body_width=this.client_width-_a-_b;this._client_body_element.setElementPosition(_a,this.client_top);this._client_body_element.setElementSize(this._body_width,this.height);};_pGridRowControlElement._updateClientSize=function(){this.client_left=this._inner_left;this.client_top=this._inner_top;this.client_width=this._inner_width;this.client_height=this._inner_height;this.setArea(this._left_width,this._right_width);};_pGridRowControlElement._setContainerMaxWidth=function(_a){if(this._body_scroll_maxwidth!=_a){this._body_scroll_maxwidth=_a;}};_pGridRowControlElement._calculateClientWidth=function(_a){var _b=this._body_width+_a;return _b;};_pGridRowControlElement._getContainerMaxWidth=function(){return this._body_scroll_maxwidth;};_pGridRowControlElement._getScrollLeft=function(){return this.scroll_left;};_pGridRowControlElement.setElementHScrollPos=function(_a){this._client_body_element.setElementHScrollPos(_a);this.scroll_left=_a;};if(_gridScrollMode==1){_pGridRowControlElement.setElementPosition=function(_a,_b){var _c=this._owner_elem;if(this.left!=_a||this.top!=_b){if(_c&&this.top!=_b){var _d=this._handle;if(_c._scroll_top<_b){_b=_c._changeInnerElement(true,_b,this._handle);}else{_b=_c._changeInnerElement(false,_b,this._handle);}}this.left=_a;this.top=_b;if(_d){nexacro.__setDOMNodeStylePos(_d.style,_a,_b);}}};}_pGridRowControlElement.setElementCursor=nexacro._emptyFn;_pGridRowControlElement.setElementShadow=nexacro._emptyFn;delete _pGridRowControlElement;nexacro.GridAreaContainerElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this._areatype=_b;};var _pGridAreaContainerElement;if(nexacro.Browser=="Edge"){_pGridAreaContainerElement=nexacro._createPrototype(nexacro.ScrollableContainerElement,nexacro.GridAreaContainerElement);}else{_pGridAreaContainerElement=nexacro._createPrototype(nexacro.ScrollableInnerContainerElement,nexacro.GridAreaContainerElement);}nexacro.GridAreaContainerElement.prototype=_pGridAreaContainerElement;_pGridAreaContainerElement._type_name="GridAreaContainerElement";_pGridAreaContainerElement._findScrollbarLinkedControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){_c=_c.parent.parent;if(_b){if(_c.vscrollbar&&_c.vscrollbar._isVisible()){return _c;}}else{if(_c.hscrollbar&&_c.hscrollbar._isVisible()){return _c;}}}_a=_a.parent;}};if(nexacro.Browser=="Edge"){_pGridAreaContainerElement.setElementHScrollPos=function(_a){this._scroll_left=_a;var _b=this._dest_handle;if(this._handle){nexacro.__setDOMNodeHScrollPos(this._handle,_a);}};}else{_pGridAreaContainerElement.setElementHScrollPos=function(_a){this._scroll_left=_a;var _b=this._dest_handle;if(this._handle){nexacro.__setDOMNodeStyleTranslateX(_b.style, -_a);}};}_pGridAreaContainerElement._refreshDOM=function(){if(this._handle){this._noRecovery=true;nexacro.__setDOMNodeHScrollPos(this._handle,1);}};_pGridAreaContainerElement.setElementCursor=nexacro._emptyFn;_pGridAreaContainerElement.setElementShadow=nexacro._emptyFn;delete _pGridAreaContainerElement;nexacro.GridCellControlElement=function(_a,_b,_c,_d){this.parent=_a;this._parent_elem=_a;this._area=_b;this._expand_width=0;this._expand_ctrl=null;this._mode="";this._changeMode(_c,_d);};var _pGridCellControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridCellControlElement);nexacro.GridCellControlElement.prototype=_pGridCellControlElement;_pGridCellControlElement._type_name="GridCellControlElement";_pGridCellControlElement._changeMode=function(_a,_b){_a=(_a)?_a:"text";if(this._mode!==_a){var _c=this._client_element;var _d=false;if(this._mode.indexOf("text")>=0&&_a.indexOf("text")>=0){_d=true;}if(_a=="text"){this._client_element=new nexacro.GridCellTextSimpleContainerElement(this);if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){this._client_element.padding=(_b)?_b:null;}}else if(_a=="expandtext"){this._client_element=new nexacro.GridCellTextContainerElement(this);}else{this._client_element=new nexacro.GridCellContainerElement(this);}var _e=this._client_element;if(_c){if(_d){_e.font=_c.font;_e.color=_c.color;_e.cursor=_c.cursor;_e.align=_c.align;_e.halign=_c.halign;_e.valign=_c.valign;_e.text=_c.text;_e.linespace=_c.linespace;_e.wordwrap=_c.wordwrap;_e.decoration=_c.decoration;_e._cell_node=_c._cell_node;_e._use_newline=_c._use_newline;}if(this.linkedcontrol._subComp){this.linkedcontrol._subComp.destroy();this.linkedcontrol._subComp=null;}_c.destroy();}if(this._handle&&!_e._handle){_e.create();}_e.setElementSize(this.client_width,this.client_height);_e.setElementPosition(this.client_left,this.client_top);this._mode=_a;}else{if(this._mode=="text"){if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){this._client_element.padding=(_b)?_b:null;}}}return this._client_element;};_pGridCellControlElement.create=function(){var _a=(this._is_nc_element)?this._parent_elem:this._parent_elem.getContainerElement(this._area);if(_a&&_a._handle){if(!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");this.linkedcontrol._unique_id=this.linkedcontrol.parent._unique_id+'_'+this.linkedcontrol.id;_c.id=this.linkedcontrol._unique_id;_c._linked_element=this;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this._node_width,this._node_height);this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._createControlSubElements(this,_c);this._refreshForeground(_c,_d);}if(this._handle&&!this._client_element._handle){this._client_element.create();}}};_pGridCellControlElement._setExpandControl=function(_a,_b){this._expand_ctrl=_a;this._expand_width=_b;this._updateClientSize();};_pGridCellControlElement._updateClientSize=function(){var _a=this._inner_left;var _b=this._inner_top;var _c=this._inner_width;var _d=this._inner_height;var _e=this.padding;if(this.padding){_a+=_e.left;_b+=_e.top;_c-=(_e.left+_e.right);_d-=(_e.top+_e.bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){_a+=this.padding_left;_b+=this.padding_top;_c-=(this.padding_left+this.padding_right);_d-=(this.padding_top+this.padding_bottom);if(_c<0){_c=0;}if(_d<0){_d=0;}}if(this._expand_ctrl&&this._expand_ctrl.visible==true){_c-=this._expand_width;if(_c<0){_c=0;}}var _f=this._client_element;if(_f){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_f.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_f.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridCellControlElement._setDisplay=function(_a){var _b;if(_b=this._handle){var _c=_b.style;if(_a){nexacro.__setDOMNodeStyleDisplay(_c,"");}else{nexacro.__setDOMNodeStyleDisplay(_c,"none");}}};_pGridCellControlElement.setContainerVisible=function(_a){if(this._client_element){this._client_element.setElementVisible(_a);}};_pGridCellControlElement._setControlBackground=function(_a,_b,_c,_d,_e){return nexacro.ControlElement.prototype._setControlBackground.call(this,_a,_b,_c,_d,true);};delete _pGridCellControlElement;nexacro.GridCellContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellContainerElement=nexacro._createPrototype(nexacro.ContainerElement,nexacro.GridCellContainerElement);nexacro.GridCellContainerElement.prototype=_pGridCellContainerElement;_pGridCellContainerElement._type_name="GridCellContainerElement";_pGridCellContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=_b.createElement("div");_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=2;nexacro.__setDOMNodeSelectable(_c,false);nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;nexacro.__setDOMNodeStyleAbsolute(_d);nexacro.__setDOMNodeStylePos(_d,this.left,this.top);nexacro.__setDOMNodeStyleSize(_d,this.width,this.height);if(this.font){nexacro.__setDOMNodeStyleFont(_d,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_d,this.color);}if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);}};delete _pGridCellContainerElement;nexacro.GridCellTextContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellTextContainerElement=nexacro._createPrototype(nexacro.TextBoxElement,nexacro.GridCellTextContainerElement);nexacro.GridCellTextContainerElement.prototype=_pGridCellTextContainerElement;_pGridCellTextContainerElement._type_name="GridCellTextContainerElement";_pGridCellTextContainerElement._is_nc_element=true;_pGridCellTextContainerElement.create=function(){var _a=this._parent_elem;if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=this._createTextElementHandle(_b,this.left,this.top,this.width,this.height);_c.id=this._parent_elem._handle.id+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);nexacro.AccessibilityUtil.supportMobileApplicationAccessibility(_c);var _d=_c.style;var _e=this._cell_node;var _f=_e.style;if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_f,this.align);}else if(this.halign&&this.valign){nexacro.__setDOMNodeStyleAlignXY(_f,this.halign,this.valign);}if(this.padding){nexacro.__setDOMNodeStylePadding(_f,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_f,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_e,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_e,this.decoration);}else{nexacro.__setDOMNodeText(_e,this.text,this._use_newline,this.wordwrap);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._appendTextElementHandle(_c,_e);}};_pGridCellTextContainerElement.destroy=function(){var _a=this._handle;if(_a){_a._linked_element=null;var _b=null;if(this._owner_elem&&this._owner_elem._dest_handle){_b=this._owner_elem._dest_handle;}if(!this._owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;this._cell_node=null;}this.parent=null;this._parent_elem=null;};_pGridCellTextContainerElement.clearContents=function(){var _a=this._handle;var _b=this._owner_elem;if(_a){_a._linked_element=null;if(_b){nexacro.__removeDOMNode(_b._handle,_a);}this._owner_elem=null;this._handle=this._dest_handle=null;}};_pGridCellTextContainerElement.appendChildElement=function(_a){if(this._handle){if(_a._parent_elem!=this.parent_elem){if(_a._handle){var _b=_a.getRootWindowHandle();var _c=this.getRootWindowHandle();if(_b!=_c){_a._parent_elem=this.parent_elem;_a._removeFromContainer();}else{_a._parent_elem=this.parent_elem;}}else{_a._parent_elem=this.parent_elem;}}if(!_a._handle){_a.create();}else{_a._appendToContainer(this);}}};_pGridCellTextContainerElement.removeChildElement=function(_a){if(_a._owner_elem==this){_a._removeFromContainer();}};_pGridCellTextContainerElement.moveToNextElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToNext(_a._handle,_b._handle);}};_pGridCellTextContainerElement.moveToPrevElement=function(_a,_b){if(_a&&_b&&_a._owner_elem==this&&_b._owner_elem==this&&_a._handle&&_b._handle){nexacro.__setElementHandleMoveToPrev(_a._handle,_b._handle);}};_pGridCellTextContainerElement.sendToBackElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleSendToBack(_a._handle);}};_pGridCellTextContainerElement.bringToFrontElement=function(_a){if(_a&&_a._owner_elem==this&&_a._handle){nexacro.__setElementHandleBringToFront(_a._handle);}};_pGridCellTextContainerElement.setElementTextVisible=function(_a){var _b=this._cell_node;_a=_a&&this.visible;if(_b){nexacro.__setDOMNodeStyleVisible(_b.style,_a);}};delete _pGridCellTextContainerElement;nexacro.GridCellTextSimpleContainerElement=function(_a){this.parent=_a;this._parent_elem=_a;};var _pGridCellTextSimpleContainerElement=nexacro._createPrototype(nexacro.GridCellTextContainerElement,nexacro.GridCellTextSimpleContainerElement);nexacro.GridCellTextSimpleContainerElement.prototype=_pGridCellTextSimpleContainerElement;_pGridCellTextSimpleContainerElement._type_name="GridCellTextSimpleContainerElement";if(nexacro.Browser!="IE"||(nexacro.Browser=="IE"&&nexacro.BrowserVersion>=8)){_pGridCellTextSimpleContainerElement._createTextElementHandle=function(_a,_b,_c,_d,_e){var _f=_a.createElement("div");var _g=_f.style;nexacro.__setDOMNodeStylePos(_g,0,0);_d=this.parent.width;_e=this.parent.height;nexacro.__setDOMNodeStyleSize(_g,_d,_e);_g.display="table-cell";_g.whiteSpace="pre";_g.textOverflow=this._default_textoverflow;this._cell_node=_f;return _f;};_pGridCellTextSimpleContainerElement._appendTextElementHandle=nexacro._emptyFn;_pGridCellTextSimpleContainerElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this._handle;if(_c){_c.style.textOverflow="";_a=this.parent.width;_b=this.parent.height;nexacro.__setDOMNodeStyleSize(_c.style,_a,_b);_c.style.textOverflow=this._default_textoverflow;}}};}delete _pGridCellTextSimpleContainerElement;nexacro.EventPassOverlayElement=function(_a,_b){this.parent=_a;this._parent_elem=_a;this.width=_a.width;this.height=_a.height;this._start_hscroll=0;this.pointer_events="none";this._target_elements=_b;};var _pEventPassOverlayElement=nexacro._createPrototype(nexacro.TextBoxElement,nexacro.EventPassOverlayElement);nexacro.EventPassOverlayElement.prototype=_pEventPassOverlayElement;_pEventPassOverlayElement._type_name="EventPassOverlayElement";_pEventPassOverlayElement.create=function(){var _a=this._parent_elem.getContainerElement(this.position_step);if(_a&&_a._handle&&!this._handle){this._owner_elem=_a;var _b=_a.getRootWindowHandle();var _c=this._createTextElementHandle(_b,this.left,this.top,this.width,this.height);_c.id=this._parent_elem._handle.id+'_'+this._type_name;_c._linked_element=this;_c._element_type=4;nexacro.__setDOMNodeSelectable(_c,false);var _d=_c.style;var _e=this._cell_node;var _f=_e.style;nexacro.__setDOMNodeStyleAbsolute(_f);if(!this.visible){nexacro.__setDOMNodeStyleVisible(_d,false);}if(this.pointer_events){nexacro.__setDOMNodeStylePointerEvents(_d,this.pointer_events);}if(this.font){nexacro.__setDOMNodeStyleFont(_f,this.font);}if(this.color){nexacro.__setDOMNodeStyleColor(_f,this.color);}if(this.align){nexacro.__setDOMNodeStyleAlign(_f,this.align);}else if(this.halign&&this.valign){nexacro.__setDOMNodeStyleAlignXY(_f,this.halign,this.valign);}if(this.padding){nexacro.__setDOMNodeStylePadding(_f,this.padding);}else if(this.padding_left||this.padding_top||this.padding_right||this.padding_bottom){nexacro.__setDOMNodeStylePaddingXY(_f,this.padding_left,this.padding_top,this.padding_right,this.padding_bottom);}if(this.linespace>0){nexacro.__setDOMNodeStyleLineSpace(_f,this.linespace);}if(this.wordwrap!="none"){nexacro.__setDOMNodeWordWrap(_e,this.wordwrap);}if(this.decoration){nexacro.__setDOMNodeStyleDecorateText(_e,this.decoration);}else{nexacro.__setDOMNodeText(_e,this.text,this._use_newline,this.wordwrap);}this._handle=this._dest_handle=_c;nexacro.__appendDOMNode(_a._dest_handle,_c);this._appendTextElementHandle(_c,_e);}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){_pEventPassOverlayElement.setSelectEventPassElement=function(_a,_b){var _c=this._target_elements,_d=_c.length,_e=_c[0];if(_d>1){var _f=null,_g=null;var _h=null;var _i=0,_j=0,_k=0,_l=0;for(var _m=0;_m<_d;_m++ ){_h=nexacro._getElementXYInWindow(_c[_m]._handle);_i=_h[0];_j=_h[1];_k=_i+_e.width;_l=_j+_e.height;if(_i<=_a&&_a<=_k&&_j<=_b&&_b<=_l){_e=_c[_m];_g=_e.linkedcontrol;}_f=_c[_m].linkedcontrol;_f._applyMouseLeaveEvent();}}if(_g){_g._applyMouseOverEvent();}return _e;};}_pEventPassOverlayElement.setTargetElements=function(_a){this._target_elements=_a;};_pEventPassOverlayElement.updateCellNodeClient=function(_a,_b,_c,_d,_e,_f){var _g=this._cell_node;if(_g){var _h=_a+_c;var _b=this._getNodeAlignPos();_a=0;if(_f){if(_e>=this._start_hscroll){_e-=this._start_hscroll;_a= -_e;_c+=_e;}}else{if(_e>0){var _i=this.parent.linkedcontrol;if(_h<_i._client_width){_a= -_e;}_c+=_e;}}nexacro.__setDOMNodeStylePos(_g.style,_a,_b);nexacro.__setDOMNodeStyleSize(_g.style,_c,_d);}};_pEventPassOverlayElement.updateElementLineHeight=function(_a){var _b=this._cell_node;if(_b&&_a!=this.linespace){nexacro.__setDOMNodeStyleLineSpace(_b.style,_a);}};_pEventPassOverlayElement.setElementAlign=function(_a){this.setElementAlignXY(_a.halign,_a.valign);this.align=_a;};_pEventPassOverlayElement.setElementAlignXY=function(_a,_b){this.align=null;this.halign=_a;this.valign=_b;var _c=this._cell_node;if(_c){var _d=0;var _e=this._getNodeAlignPos();nexacro.__setDOMNodeStylePosLeftTop(_c.style,_d,_e);}};_pEventPassOverlayElement._getNodeAlignPos=function(){var _a=this._cell_node;if(_a){var _b=0;var _c=(this.align)?this.align.halign:this.halign;var _d=(this.align)?this.align.valign:this.valign;var _e=nexacro._getTextSize(this.text,this.font,true,this.width,this.wordwrap);if(this.height>0&&this.height>_e[1]){if(_d=="bottom"){_e=nexacro._getTextSize(this.text,this.font,true);_b=(_e)?this.height-_e[1]:0;}else if(_d=="middle"){_b=(_e)?(this.height/2)-(_e[1]/2):0;}}nexacro.__setDOMNodeStyleAlignXY(_a.style,_c,"top");return _b;}};_pEventPassOverlayElement.setElementStartHScrollPos=function(_a){this._start_hscroll=_a;};delete _pEventPassOverlayElement;}}if(!nexacro.Component){nexacro.__position9xObj=function(_a){if(_a){this._target=_a;}this.left=0;this.top=0;this.right=0;this.bottom=0;this.width=0;this.height=0;this.x=0;this.y=0;this._value="absolute 0 0 0 0";};__pPosition9xObj=nexacro._createPrototype(nexacro.Object,nexacro.__position9xObj);nexacro.__position9xObj.prototype=__pPosition9xObj;__pPosition9xObj.style="absolute";__pPosition9xObj.x=0;__pPosition9xObj.y=0;__pPosition9xObj._bsize=false;__pPosition9xObj._bmove=false;__pPosition9xObj.toString=function(){return this._value;};__pPosition9xObj._emptyObject=function(){this._value="absolute 0 0 0 0";this.style="absolute";this.left=0;this.right=0;this.top=0;this.bottom=0;this.x=0;this.y=0;this.width=0;this.height=0;};__pPosition9xObj._updateValue=function(){this.width=this.right-this.left;this.height=this.bottom-this.top;this.x=this.left;this.y=this.top;this._value="absolute "+this.left+' '+this.top+' '+this.right+' '+this.bottom;};__pPosition9xObj._update=function(){this.width=this.right-this.left;this.height=this.bottom-this.top;this.x=this.left;this.y=this.top;var _a="absolute "+this.left+' '+this.top+' '+this.right+' '+this.bottom;if(_a!=this._value){this._value=_a;if(this._target!=null){this._target._adjustPosition(this.left,this.top,null,null,this.width,this.height,this._target.parent._client_width,this._target.parent._client_height);this._target.on_update_position(this._bsize,this._bmove);this._bsize=false;this._bmove=false;}}};__pPosition9xObj._set=function(_a){var _b=(_a==null)?"":_a.toString().trim();if(_b!=this._value){if(_b==""){this._emptyObject();}else{var _c=_b.split(/\s+/);switch(_c.length){case 4:this.left=parseInt(_c[0])|0;this.top=parseInt(_c[1])|0;this.right=parseInt(_c[2])|0;this.bottom=parseInt(_c[3])|0;break;case 5:this.left=parseInt(_c[1])|0;this.top=parseInt(_c[2])|0;this.right=parseInt(_c[3])|0;this.bottom=parseInt(_c[4])|0;break;default:this._emptyObject();break;}this._update();}}};__pPosition9xObj.set_style=function(_a){if(_a!=this.style){if(_a=="absolute"){this.style="absolute";}}};__pPosition9xObj.set_left=function(_a){var _b=parseInt(_a)|0;if(_b>this.right){this.right=_b;}if(_b!=this.left){this.left=_b;this._bmove=true;this._bsize=true;this._update();}};__pPosition9xObj.set_top=function(_a){var _b=parseInt(_a)|0;if(_b>this.bottom){this.bottom=_b;}if(_b!=this.top){this.top=_b;this._bmove=true;this._bsize=true;this._update();}};__pPosition9xObj.set_right=function(_a){var _b=parseInt(_a)|0;if(this.left>_b){this.left=_b;}if(_b!=this.right){this.right=_b;this._bsize=true;this._update();}};__pPosition9xObj.set_bottom=function(_a){var _b=parseInt(_a)|0;if(this.top>_b){this.top=_b;}if(_b!=this.bottom){this.bottom=_b;this._bsize=true;this._update();}};__pPosition9xObj.set_x=function(_a){var _b=parseInt(_a)|0;if(_b!=this.left){this.left=_b;this.right=this.left+this.width;this._bsize=true;this._bmove=true;this._update();}};__pPosition9xObj.set_y=function(_a){var _b=parseInt(_a)|0;if(_b!=this.top){this.top=_b;this.bottom=this.top+this.height;this._bsize=true;this._bmove=true;this._update();}};__pPosition9xObj.set_width=function(_a){if(_a<0){_a=0;}var _b=this.left+(parseInt(_a)|0);if(_b!=this.right){this.right=_b;this._bsize=true;this._update();}};__pPosition9xObj.set_height=function(_a){if(_a<0){_a=0;}var _b=this.top+(parseInt(_a)|0);if(_b!=this.bottom){this.bottom=_b;this._bsize=true;this._update();}};delete __pPosition9xObj;nexacro.__position29xObj=function(_a){if(_a){this._target=_a;}this._value="absolute l:0 w:0 t:0 h:0";};__pPosition29xObj=nexacro._createPrototype(nexacro.Object,nexacro.__position29xObj);nexacro.__position29xObj.prototype=__pPosition29xObj;__pPosition29xObj.style="absolute";__pPosition29xObj.left=null;__pPosition29xObj.right=null;__pPosition29xObj.top=null;__pPosition29xObj.bottom=null;__pPosition29xObj.width=null;__pPosition29xObj.height=null;__pPosition29xObj._bsize=false;__pPosition29xObj._bmove=false;__pPosition29xObj.toString=function(){return this._value;};__pPosition29xObj._emptyObject=function(){this._value="absolute l:0 t:0 w:0 h:0";this.style="absolute";this.left=null;this.right=null;this.top=null;this.bottom=null;this.width=null;this.height=null;};__pPosition29xObj._updateValue=function(){var _a=this.left,_b=this.right,_c=this.top,_d=this.bottom,_e=this.width,_f=this.height;var _g=[];var _h=0;if(_a!=undefined){_g[_h++ ]="l:"+_a;}if(_b!=undefined){_g[_h++ ]="r:"+_b;}if(_e!=undefined){_g[_h++ ]="w:"+_e;}if(_c!=undefined){_g[_h++ ]="t:"+_c;}if(_d!=undefined){_g[_h++ ]="b:"+_d;}if(_f!=undefined){_g[_h++ ]="h:"+_f;}this._value="absolute "+_g[0]+' '+_g[1]+' '+_g[2]+' '+_g[3];};__pPosition29xObj.set_left=function(_a){if(this.left!=_a){this.left=_a;this._target.set_left(_a);}};__pPosition29xObj.set_top=function(_a){if(this.top!=_a){this.top=_a;this._target.set_top(_a);}};__pPosition29xObj.set_right=function(_a){if(this.right!=_a){this.right=_a;this._target.set_right(_a);}};__pPosition29xObj.set_bottom=function(_a){if(this.bottom!=_a){this.bottom=_a;this._target.set_bottom(_a);}};__pPosition29xObj.set_width=function(_a){if(this.width!=_a){this.width=_a;this._target.set_width(_a);}};__pPosition29xObj.set_height=function(_a){if(this.height!=_a){this.height=_a;this._target.set_height(_a);}};delete __pPosition29xObj;nexacro.Component=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this.id=this.name=_a||null;if(_i){this.parent=_i;this._refform=this._findForm(_i);}else{this.parent=null;this._refform=null;}this.position=_b?_b:"absolute";var _j=_i?this.parent._adjust_width:null;var _k=_i?this.parent._adjust_height:null;this._adjustPosition(_c,_d,_g,_h,_e,_f,_j,_k);this.style=this.on_create_custom_style();this.currentstyle=this.on_create_custom_currentStyle();this._styles={};this._enable_redraw_history={};};var _pComponent=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Component);nexacro.Component.prototype=_pComponent;_pComponent._type_name="Component";_pComponent.expr="";_pComponent.cssclass="";_pComponent.visible=true;_pComponent.enable=true;_pComponent.taborder="";_pComponent.tabstop=true;_pComponent.hotkey="";_pComponent.transparenthittest=false;_pComponent.enableredraw=true;_pComponent.enableevent=true;_pComponent.tooltiptype="default";_pComponent.tooltiptext="";_pComponent.scrollbars="none";_pComponent.hotkey=null;_pComponent.rtldirection=null;_pComponent.positionstep=0;_pComponent._css_finder=null;_pComponent._ref_css_finder=null;_pComponent._refcssobj=null;_pComponent._refcssid="";_pComponent._client_left=0;_pComponent._client_top=0;_pComponent._client_width=0;_pComponent._client_height=0;_pComponent._adjust_left= -1;_pComponent._adjust_top= -1;_pComponent._adjust_width= -1;_pComponent._adjust_height= -1;_pComponent._client_left_ltr=0;_pComponent._adjust_left_ltr= -1;_pComponent._is_loading=false;_pComponent._is_created=false;_pComponent._is_alive=true;_pComponent._status="enable";_pComponent._selected=false;_pComponent._pushed=false;_pComponent._readonly=false;_pComponent._is_created_contents=false;_pComponent._has_dirty_pos=false;_pComponent._has_dirty_rect=false;_pComponent._pseudo="normal";_pComponent._control_pseudo="";_pComponent._contents_pseudo="";_pComponent._apply_pushed_pseudo=false;_pComponent._apply_client_padding=true;_pComponent._apply_client_border=false;_pComponent._is_component=true;_pComponent._is_subcontrol=false;_pComponent._is_reference_control=true;_pComponent._is_form=false;_pComponent._is_frame=false;_pComponent._is_window=false;_pComponent._is_nc_control=false;_pComponent._is_simple_control=false;_pComponent._is_scrollable=false;_pComponent._is_popup_control=false;_pComponent._is_band_control=false;_pComponent._is_band_vert_paging=false;_pComponent._is_area_scroll=false;_pComponent._is_focus_accept=true;_pComponent._is_comp_focus=false;_pComponent._control_element=null;_pComponent._zindex=null;_pComponent._bind_event=null;_pComponent._taborder= -1;_pComponent._display_text="";_pComponent._real_enable=null;_pComponent._real_visible=false;_pComponent._vml_visible=true;_pComponent._last_focused=null;_pComponent._hotkey=null;_pComponent._track_capture=true;_pComponent._focus_direction= -1;_pComponent._rtldirection=undefined;_pComponent._re_focus=false;_pComponent._scrollbars=0;_pComponent._scroll_showtype= -1;_pComponent._scroll_top=0;_pComponent._scroll_left=0;_pComponent._scroll_height=0;_pComponent.hscrollbar=null;_pComponent.vscrollbar=null;_pComponent._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};_pComponent.initProperties=function(){};_pComponent.initEvents=function(){};_pComponent._resizePopupInbound=nexacro._emptyFn;nexacro.Component._default_color=nexacro._getCachedStyleObj("color","red");nexacro.Component._default_margin=nexacro._getCachedStyleObj("margin","0 0 0 0");nexacro.Component._default_padding=nexacro._getCachedStyleObj("padding","0 0 0 0");nexacro.Component._default_font=nexacro._getCachedStyleObj("font","Dotum,9");nexacro.Component._default_center_align=nexacro._getCachedStyleObj("align","center middle");nexacro.Component._default_left_align=nexacro._getCachedStyleObj("align","left middle");nexacro.Component._default_right_align=nexacro._getCachedStyleObj("align","right middle");nexacro.Component._default_step_align=nexacro._getCachedStyleObj("align","center bottom");nexacro.Component._default_textarea_align=nexacro._getCachedStyleObj("align","left top");nexacro.Component._default_align=nexacro.Component._default_center_align;nexacro.Component._default_buttonimg_align=nexacro._getCachedStyleObj("align","lefttext middle");nexacro.Component._default_opacity=nexacro._getCachedStyleObj("opacity","100");nexacro.Component._default_cursor=nexacro._getCachedStyleObj("cursor","auto");nexacro.Component._wait_cursor=nexacro._getCachedStyleObj("cursor","wait");nexacro.Component._default_accessibility=nexacro._getCachedStyleObj("accessibility","");nexacro.Component._default_shadow=nexacro._getCachedStyleObj("shadow","");nexacro.Component._default_rtlimagemirroring=nexacro._getCachedStyleObj("rtlimagemirroring","false");nexacro.Component.SCROLLBAR_DEFAULT_SIZE=17;nexacro.Component._status_table={"enable_normal":"normal","enable_disabled":"normal","enable_focused":"focused","enable_mouseover":"mouseover","enable_selected":"selected","enable_pushed":"pushed","enable_readonly":"readonly","enable_deactivate":"deactivate","disable_normal":"disabled","disable_disabled":"disabled","disable_focused":"disabled","disable_mouseover":"disabled","disable_selected":"disabled","disable_pushed":"disabled","disable_readonly":"disabled","focus_normal":"focused","focus_disabled":"disabled","focus_focused":"focused","focus_mouseover":"mouseover","focus_selected":"selected","focus_pushed":"pushed","focus_readonly":"focused","readonly_normal":"readonly","readonly_disabled":"disabled","readonly_focused":"focused","readonly_mouseover":"mouseover","readonly_selected":"selected","readonly_pushed":"pushed","readonly_readonly":"readonly"};_pComponent._width=null;_pComponent._height=null;_pComponent._left=null;_pComponent._top=null;_pComponent._right=null;_pComponent._bottom=null;_pComponent.left=null;_pComponent.top=null;_pComponent.right=null;_pComponent.bottom=null;_pComponent.width=null;_pComponent.height=null;_pComponent._overedobj=null;_pComponent._dragging_cursor=null;_pComponent.__setPosition9x=function(_a){if(_a.indexOf(":")>=0){var _b=_a.split(/\s+/);var _c=0;var _d="",_e="";var _f=0;var _g={left:null,top:null,right:null,bottom:null,width:null,height:null};var _h=this._adjust_left;var _i=this._adjust_top;var _j=this._adjust_width;var _k=this._adjust_height;var _l=false,_m=false;this.position="absolute";if(_b.length==5){this.position=_b[0];_c=1;}for(_c;_c<_b.length;_c++ ){_d=_b[_c].toString();_f=_d.indexOf(":");_e=_d.substring(0,_f);_d=_d.substring(_f+1);switch(_e){case "l":_g.left=_d;break;case "t":_g.top=_d;break;case "r":_g.right=_d;break;case "b":_g.bottom=_d;break;case "w":_g.width=_d;break;case "h":_g.height=_d;break;}}this._adjustPosition(_g.left,_g.top,_g.right,_g.bottom,_g.width,_g.height,this.parent._client_width,this.parent._client_height);}else{var _b=_a.split(/\s+/);var _g={left:0,top:0,right:0,bottom:0};var _h=this._adjust_left;var _i=this._adjust_top;var _j=this._adjust_width;var _k=this._adjust_height;var _l=false,_m=false;switch(_b.length){case 4:this.position="absolute";_g.left=(parseInt(_b[0])|0);_g.top=(parseInt(_b[1])|0);_g.right=(parseInt(_b[2])|0);_g.bottom=(parseInt(_b[3])|0);break;case 5:this.position=(parseInt(_b[0])||"absolute");_g.left=(parseInt(_b[1])|0);_g.top=(parseInt(_b[2])|0);_g.right=(parseInt(_b[3])|0);_g.bottom=(parseInt(_b[4])|0);break;default:this.position="absolute";_g.left=0;_g.top=0;_g.right=0;_g.bottom=0;break;}var _n=_g.right-_g.left;var _o=_g.bottom-_g.top;this._adjustPosition(_g.left,_g.top,null,null,_n,_o,this.parent._client_width,this.parent._client_height);}if(this._adjust_width!=_j||this._adjust_height!=_k){_l=true;}if(this._adjust_left!=_h||this._adjust_top!=_i){_m=true;}this.on_update_position(_l,_m);};_pComponent.__getPosition9x=function(_a){var _b=new nexacro.__position9xObj(_a);_b.left=this._adjust_left;_b.top=this._adjust_top;_b.right=this._adjust_left+this._adjust_width;_b.bottom=this._adjust_top+this._adjust_height;_b._updateValue();return _b;};_pComponent.__getPosition29x=function(_a){var _b=new nexacro.__position29xObj(_a);_b.left=this.left;_b.top=this.top;_b.right=this.right;_b.bottom=this.bottom;_b.width=this.width;_b.height=this.height;_b._updateValue();return _b;};_pComponent.set_position=function(_a){if(this.position!=_a){this.position=_a;this.on_apply_position(_a);}};_pComponent.on_apply_position=function(_a){var _b=this.getElement();if(_b){_b.setElementPositionBasis(_a);}};_pComponent._adjustPosition=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=null;var _j=_a;var _k=_c;var _l=this._isRtl(this.parent);if(_l){var _m=_j;_j=_k;_k=_m;}if(this.parent&&this.parent._is_form&&this.parent.parent&&this.parent.parent._is_frame){var _n=this.parent;var _o=_n.getZoom();if(_o!=100){_g=(_g*100)/_o;_h=(_h*100)/_o;}}for(var _p=0;_p<6;_p++ ){switch(_p){case 0:_i=_j;if(_i!=null){if(_p%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.left=_a;this._left=_i;}break;case 1:_i=_b;if(_i!=null){if(_p%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.top=_b;this._top=_i;}break;case 2:_i=_k;if(_i!=null){if(_p%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.right=_c;this._right=_i;}break;case 3:_i=_d;if(_i!=null){if(_p%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.bottom=_d;this._bottom=_i;}break;case 4:_i=_e;if(_i!=null){if(_p%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.width=_e;this._width=_i;}break;case 5:_i=_f;if(_i!=null){if(_p%2==0){_i=this._convToPixel(_i,_g);}else{_i=this._convToPixel(_i,_h);}}if(isNumber(_i)||_i==null){this.height=_f;this._height=_i;}break;}}if(this._width!=null||(this._right!=null&&this._left!=null)){this._adjust_width=this._width!=null?this._width:_g-this._left-this._right;}if(this._height!=null||this._bottom!=null){this._adjust_height=this._height!=null?this._height:_h-this._top-this._bottom;}if(this._left!=null||this._right!=null){this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_g-this._right-this._adjust_width;if(_l){this._adjust_left_ltr=this._right!=null?this._right:_g-this._left-this._adjust_width;}}if(this.top!=null||this._bottom!=null){this._adjust_top=this._top!=null?this._top:_h-this._bottom-this._adjust_height;}if(this.left&&this.width&&this.right){this._right=0;this.right=null;}if(this.top&&this.height&&this.bottom){this._bottom=0;this.bottom=null;}};_pComponent._convToPixel=function(_a,_b){if(typeof (_a)=="string"&&_a.indexOf("%")>=0){return parseInt(_b*(parseFloat(_a)/100));}return (parseInt(_a)|0);};_pComponent._setAllZeroPixel=function(){var _a=false,_b=false;if(this._adjust_left!=0||this._adjust_top!=0){this.left=0;this.top=0;_a=true;}if(this._adjust_width!=0||this._adjust_height!=0){this.width=0;this.height=0;_b=true;}this._update_position(_b,_a);};_pComponent.set_left=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.left!=_a){this.left=_a;if(_a===null||_a===undefined){this._left=null;if(this._right&&!this._width){this.set_width(this._adjust_width);}else if(!this._right&&this._width){var _b=this._adjust_left+this._adjust_width;this.set_right(this.parent._client_width-_b);}return;}if(this.right&&this.width){this.width=null;this._width=null;}this._update_position(false,true);}};_pComponent.set_top=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.top!=_a){this.top=_a;if(_a===null||_a===undefined){this._top=null;if(this._bottom&&!this._height){this.set_height(this._adjust_height);}else if(!this._bottom&&this._height){var _b=this._adjust_top+this._adjust_height;this.set_bottom(this.parent._client_height-_b);}return;}if(this.bottom&&this.height){this.height=null;this._height=null;}this._update_position(false,true);}};_pComponent.set_right=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.right!=_a){this.right=_a;if(_a===null||_a===undefined){this._right=null;if(this._left&&!this._width){this.set_width(this._adjust_width);}else if(!this._left&&this._width){this.set_left(this._adjust_left);}return;}if(!nexacro._isNull(this.left)&&!nexacro._isNull(this.width)){this.width=null;this._width=null;}this._update_position(true,true);}};_pComponent.set_bottom=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.bottom!=_a){this.bottom=_a;if(_a===null||_a===undefined){this._bottom=null;if(this._top&&!this._height){this.set_height(this._adjust_height);}else if(!this._top&&this._height){this.set_top(this._adjust_top);}return;}if(!nexacro._isNull(this.top)&&!nexacro._isNull(this.height)){this.height=null;this._height=null;}this._update_position(true,true);}};_pComponent.set_width=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.width!=_a){this.width=_a;if(_a===null||_a===undefined){this._width=null;if(this._left> -1&&!this._right){var _b=this._adjust_left+this._adjust_width;this.set_right(this.parent._client_width-_b);}else if(!this._left&&this._right> -1){this.set_left(this._adjust_left);}return;}if(!nexacro._isNull(this.left)&&!nexacro._isNull(this.right)){this.right=null;this._right=null;}this._update_position(true,false);}};_pComponent.set_height=function(_a){if(_a!==null&&_a!==undefined&&isNaN(parseInt(_a))){return;}if(this.height!=_a){this.height=_a;if(_a===null||_a===undefined){this._height=null;if(this._top&&!this._bottom){var _b=this._adjust_top+this._adjust_height;this.set_bottom(this.parent._client_height-_b);}else if(!this._top&&this._bottom){this.set_top(this._adjust_top);}return;}if(!nexacro._isNull(this.top)&&!nexacro._isNull(this.bottom)){this.bottom=null;this._bottom=null;}this._update_position(true,false);}};_pComponent.getPixelLeft=function(){return this._left;};_pComponent.getPixelTop=function(){return this._top;};_pComponent.getPixelRight=function(){return this._right;};_pComponent.getPixelBottom=function(){return this._bottom;};_pComponent.getPixelWidth=function(){return this._width;};_pComponent.getPixelHeight=function(){return this._height;};_pComponent.getOffsetLeft=function(){return this._adjust_left;};_pComponent.getOffsetTop=function(){return this._adjust_top;};_pComponent.getOffsetRight=function(){return this._adjust_left+this._adjust_width;};_pComponent.getOffsetBottom=function(){return this._adjust_top+this._adjust_height;};_pComponent.getOffsetWidth=function(){return this._adjust_width;};_pComponent.getOffsetHeight=function(){return this._adjust_height;};_pComponent.setOffsetLeft=function(_a){return this.set_left(_a);};_pComponent.setOffsetTop=function(_a){this.set_top(_a);};_pComponent.setOffsetRight=function(_a){this.set_width((_a|0)-this._adjust_left);};_pComponent.setOffsetBottom=function(_a){this.set_height((_a|0)-this._adjust_top);};_pComponent.setOffsetWidth=function(_a){this.set_width(_a);};_pComponent.setOffsetHeight=function(_a){this.set_height(_a);};_pComponent._getAccessibilityRole=function(_a){return _a.role?_a.role:this._accessibility_role;};_pComponent._getAccessibilityLabel=function(_a){var _b="";return (_b=this._getLinkedLabel(_a.label))?_b:this.on_get_style_accessibility_label();};_pComponent._on_getAccessibilityAdditionalLabel=function(){return "";};_pComponent._on_getAccessibilityAdditionalRole=function(){if(this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="heading"){return " heading";}return "";};_pComponent._getAccessibilityDescLevel=function(_a){if(_a=="none"||_a=="child"){return _a;}var _b=this.parent;if(_b&&_b._getDescLevel){return _b._getDescLevel();}else{return _a;}};_pComponent._getAccessibilityDescription=function(_a){var _b="";return (_b=this._getLinkedDescription(_a.description))?_b:this.on_get_style_accessibility_description();};_pComponent._getAccessibilityAction=function(_a){var _b=this._getLinkedAction(_a.action);return _b?_b:(_b=this.on_get_style_accessibility_action())?_b:"";};_pComponent._getAccessibilityReadLabel=function(){var _a=this.getElement();if(_a&&_a.accessibility_readlabel){return _a.accessibility_readlabel;}return "";};_pComponent.on_get_style_accessibility_label=function(){var _a="";_a=this.text?this.text:this.value;return _a;};_pComponent.on_get_style_accessibility_description=function(){return this.tooltiptext;};_pComponent.on_get_style_accessibility_action=function(){return "";};_pComponent._getLinkedLabel=function(_a){if(_a){if(_a.match("@")){var _b=_a.substr(_a.search("@")+1,_a.length);var _c=this._getFormChildById(_b);if(_c){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);return _c._getAccessibilityLabel(_d);}else{return;}}}return _a;};_pComponent._getLinkedDescription=function(_a){if(_a){if(_a.match("@")){var _b=_a.substr(_a.search("@")+1,_a.length);var _c=this._getFormChildById(_b);if(_c){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);return _c._getAccessibilityDescription(_d);}else{return;}}}return _a;};_pComponent._getDescLevel=function(){if(this!=application){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a){var _b=_a.desclevel;var _c=this.parent;if(_b=="none"||_b=="self"){return "none";}else if(_c&&_c._getDescLevel){return _c._getDescLevel();}}}return "all";};_pComponent._getLinkedAction=function(_a){if(_a){if(_a.match("@")){var _b=_a.substr(_a.search("@")+1,_a.length);var _c=this._getFormChildById(_b);if(_c){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);return _c._getAccessibilityAction(_d);}else{return;}}}return _a;};_pComponent._getFormChildById=function(_a){return this.parent[_a];};_pComponent._getAccessibilityParentValue=function(_a){var _b="";var _c=nexacro._accessibilitydescreadtype;if((_c&0x01)==0x01){var _d=this._getAccessibilityLabel(_a);if(_d){_b=_d;}}if((_c&0x02)==0x02&&this.accessibility_action){var _e=" "+this._getAccessibilityAction(_a);if(_e){_b+=_e;}}if((_c&0x04)==0x04&&this.accessibility_description){var _f=" "+this._getAccessibilityDescription(_a);if(_f){_b+=_f;}}return _b;};_pComponent._make_accessibility_value=function(_a){var _b=this._getAccessibilityDescLevel(_a.desclevel);var _c="none";var _d=" ";var _e="";var _f="";if(_a.enable&&(_b!="none"&&_b!="child")){_c=this._getAccessibilityRole(_a);_d=this._getAccessibilityLabel(_a);_e=this._getAccessibilityDescription(_a);_f=this._getAccessibilityAction(_a);}var _g=_a.enable?"enable":"disable";if(!_c){_c="none";}if(!_d){_d=" ";}var _h=_c+" "+_g+" "+_b+" '"+_d+"' '"+_e+"' '"+_f+"'";var _i=nexacro._roleList[_c];var _j=nexacro._getCachedStyleObj("accessibility",_h);if(!_j._role||_j.desclevel!=_a.desclevel||_j._role!=_i||_j._label!=_d||_j._description!=_e||_j._action!=_f){_j._role=nexacro._roleList[_c];_j._label=_d;_j._description=_e;_j._action=_f;_j._desclevel=_b;return _j;}else{return _j;}return _a;};_pComponent._refreshAccessibilityValue=function(){if(nexacro._enableaccessibility&&(nexacro._accessibilitytype==4||nexacro._accessibilitytype==5)){var _a=this.getElement();var _b=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_b&&_a){_b=this._make_accessibility_value(_b);_a.setAccessibility(_b);}}};_pComponent._setAccessibilityRole=nexacro._emptyFn;_pComponent._setAccessibilityLabel=nexacro._emptyFn;_pComponent._setAccessibilityEnable=nexacro._emptyFn;_pComponent._setAccessibilityDescription=nexacro._emptyFn;_pComponent._setAccessibilityDescLevel=nexacro._emptyFn;_pComponent._setAccessibilityStatDisabled=nexacro._emptyFn;_pComponent._setAccessibilityStatHidden=nexacro._emptyFn;_pComponent._setAccessibilityStatChecked=nexacro._emptyFn;_pComponent._setAccessibilityStatPressed=nexacro._emptyFn;_pComponent._setAccessibilityStatSelected=nexacro._emptyFn;_pComponent._setAccessibilityStatExpanded=nexacro._emptyFn;_pComponent._setAccessibilityFlagHasPopup=nexacro._emptyFn;_pComponent._setAccessibilityFlagFocusable=nexacro._emptyFn;_pComponent._setAccessibilityFlagReadOnly=nexacro._emptyFn;_pComponent._setAccessibilityFlagPassword=nexacro._emptyFn;_pComponent._setAccessibilityFlagMultiSelectable=nexacro._emptyFn;_pComponent._setAccessibilityFlagSelectable=nexacro._emptyFn;_pComponent._setAccessibilityFlagDefaultButton=nexacro._emptyFn;_pComponent._setAccessibilityFlagMultiLine=nexacro._emptyFn;_pComponent._setAccessibilityInfoCount=nexacro._emptyFn;_pComponent._setAccessibilityInfoIndex=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueMax=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueMin=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueCur=nexacro._emptyFn;_pComponent._setAccessibilityInfoLevel=nexacro._emptyFn;_pComponent._setAccessibilityHotKey=nexacro._emptyFn;_pComponent._setAccessibilityActiveDescendant=nexacro._emptyFn;_pComponent._notifyAccessibility=nexacro._emptyFn;_pComponent._setAccessibilityStatFlag=nexacro._emptyFn;_pComponent._isAccessibilityEnable=nexacro._echoFn;_pComponent._isItemAccessibilityEnable=nexacro._echoFn;_pComponent._setAccessibilityValue=nexacro._emptyFn;_pComponent._setAccessibilityStatFocus=nexacro._emptyFn;_pComponent._getNextAccessibilityOrderIndex=nexacro._emptyFn;_pComponent._get_css_typename=function(){return this._type_name;};_pComponent._get_css_assumedtypename=function(){return this._type_name;};_pComponent._make_css_finder=function(){var _a;if(this._is_popup_frame){_a=this;}else{_a=this._refform;}if(!_a){return null;}else{if(_a._is_frame){if(_a._is_popup_frame){_a=this;}else{_a=application;}}else{while(_a&&!_a._is_form){if(_a._is_application){break;}_a=_a.parent;if(!_a){return null;}}}}var _b=this._ref_css_finder;if(!_b){this._makeCssRefInfo();}var _c=this._css_finder;if(!_c){var _d=[];var _e=_a._find_csslist;if(!_e){_e=_a._make_find_csslist();}var _f=_e.length;var _g="";var _h=this._get_css_typename();var _i=this._get_css_assumedtypename();var _j="";if(_h!=_i){_j=_i;}var _k=false,_l=false;var _m=false,_n=false;var _o;var _p;var _q;var _r;var _s;var _t=this._refcssid;if(this._refcssid){for(var _u=0;_u<_f;_u++ ){_o=_e[_u];_p=_o[_t];if(_p){_d.push(_p);_l=true;}}}_g=this.cssclass;if(_g){_g="."+_g;if(_j){var _v=_j+_g;for(var _u=0;_u<_f;_u++ ){_o=_e[_u];_s=_o[_v];if(_s){_d.push(_s);_n=true;_k=true;}}}if(_h){var _w=_h+_g;for(var _u=0;_u<_f;_u++ ){_o=_e[_u];_s=_o[_w];if(_s){_d.push(_s);_m=true;_k=true;}}}for(var _u=0;_u<_f;_u++ ){_o=_e[_u];_r=_o[_g];if(_r){_d.push(_r);_k=true;}}}if(_j){for(var _u=0;_u<_f;_u++ ){_o=_e[_u];_q=_o[_j];if(_q){_d.push(_q);_n=true;}}}if(_h){for(var _u=0;_u<_f;_u++ ){_o=_e[_u];_q=_o[_h];if(_q){_d.push(_q);_m=true;}}}var _x="";if(_k||_l||_m||_n){if(_j){_x+=_j;}else{_x+=_h;}if(_l){_x+="_"+_t;this._cssfind_useid=true;}if(_k){_x+="_"+this.cssclass;}}if(!_x){_c={};_c._finder_name=_h;}else{_c=_a._cssfinder_cache[_x];if(!_c){_c={};var _y,_z;var _aa=_d.length;for(var _u=_aa-1;_u>=0;_u-- ){var _ab=_d[_u];for(var _ac in _ab){if(!_ab.hasOwnProperty(_ac)){continue;}var _ad=_ab[_ac];if(_ad._is_selector){continue;}for(_y in _ad){if(!_ad.hasOwnProperty(_y)){continue;}_z=_ad[_y];if(!_c[_y]){_c[_y]={};}_c[_y][_ac]=_z;}}}_c._finder_name=_x;_c._find_selectors=_d;_a._cssfinder_cache[_x]=_c;}}this._css_finder=_c;}if(!_b){var _ae=this._refcssobj;var _af=this._refcssid;if(_ae&&_ae._is_component&&_af){if(!this._is_frame||(this._is_frame&&!this._is_popup_frame)){this._ref_css_finder=_ae._make_refcss_finder(_af,4);}}}return _c;};_pComponent._make_refcss_finder=function(_a,_b){var _c;if(this._is_popup_frame){_c=this;}else{_c=this._refform;}if(!_c){return null;}this._makeCssRefInfo();var _d=this._refcssid;var _e=_a;var _f=_d?(_d+_a):_a;var _g=null;var _h=this._refcssobj;if(_b-- >0&&_h&&_h._is_component&&_d){if(!this._is_frame||(this._is_frame&&!this._is_popup_frame)){_g=_h._make_refcss_finder(_f,_b);}}var _i=this._css_finder;var _j;if(!_g){if(!_i){_i=this._make_css_finder();}if(this._cssfind_useid){_j=_i._finder_name+"_"+_f;}else{_j=_i._finder_name+"_"+_e;}}else{if(this._cssfind_useid){_j=_g._finder_name+"_"+_f;}else{_j=_g._finder_name+"_"+_e;}}var _k=_c._cssfinder_cache[_j];if(!_k){var _l=[];if(_g){var _m=_g._find_selectors;if(_m){var _n;var _o=_m.length;for(var _p=0;_p<_o;_p++ ){_n=_m[_p];_l.push(_n);}}}if(_d){var _q=_c._find_csslist;if(!_q){_q=_c._make_find_csslist();}var _n;var _r;var _o=_q.length;for(var _p=0;_p<_o;_p++ ){_n=_q[_p];if(_r=_n[_f]){_l.push(_r);}}}var _s=_i._find_selectors;if(_s){var _n,_t;var _o=_s.length;for(var _p=0;_p<_o;_p++ ){_n=_s[_p];if(_t=_n[_a]){_l.push(_t);}}}var _u,_v;var _w=_l.length;if(_w>0){_k={};for(var _p=_w-1;_p>=0;_p-- ){var _x=_l[_p];for(var _y in _x){if(_y.charAt(0)=='$'){continue;}var _z=_x[_y];if(_z._is_selector){continue;}for(_u in _z){if(!_z.hasOwnProperty(_u)){continue;}_v=_z[_u];if(!_k[_u]){_k[_u]={};}_k[_u][_y]=_v;}}}if(this._cssfind_useid&&this._is_component&&this._is_subcontrol){_j=_i._finder_name+"_"+"#"+this.parent.id+_f;}_k._finder_name=_j;_k._find_selectors=_l;_c._cssfinder_cache[_j]=_k;}}return _k;};_pComponent._find_comp_pseudo_obj=function(_a,_b,_c){var _d;var _e=this._css_finder;do{if(_b!="normal"){var _f=this._styles[_b];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}var _g=(this._readonly&&_b!="readonly");if(_g){var _h=this._styles["readonly"];if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}var _i=this.style;if((_d=_i[_a])&&(!_d._is_empty)){break;}if(!_e){_e=this._make_css_finder();}var _j=this._ref_css_finder;var _k=(_j?_j[_b]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}var _l=(_e?_e[_b]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}if(_g){_k=(_j?_j["readonly"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["readonly"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}_k=(_j?_j["normal"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["normal"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}else{if(this._readonly){var _h=this._styles["readonly"];if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}var _i=this.style;if((_d=_i[_a])&&(!_d._is_empty)){break;}if(!_e){_e=this._make_css_finder();}var _j=this._ref_css_finder;var _k,_l;if(this._readonly){_k=(_j?_j["readonly"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["readonly"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}_k=(_j?_j["normal"]:null);if(_k&&(_d=_k[_a])&&(!_d._is_empty)){break;}_l=(_e?_e["normal"]:null);if(_l&&(_d=_l[_a])&&(!_d._is_empty)){break;}}}while(false)if(_d&&!_d._is_empty){var _m=_d._type_name.toLowerCase();if(_c&&_m!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return null;};_pComponent._find_comp_pseudo_obj_from_finder=function(_a,_b,_c){var _d;var _e=this._css_finder;do{if(_b!="normal"){if(!_e){_e=this._make_css_finder();}var _f=this._ref_css_finder;var _g=(_f?_f[_b]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}var _h=(_e?_e[_b]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}if(this._readonly&&_b!="readonly"){_g=(_f?_f["readonly"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["readonly"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}_g=(_f?_f["normal"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["normal"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}else{if(!_e){_e=this._make_css_finder();}var _f=this._ref_css_finder;var _g,_h;if(this._readonly){_g=(_f?_f["readonly"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["readonly"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}_g=(_f?_f["normal"]:null);if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_h=(_e?_e["normal"]:null);if(_h&&(_d=_h[_a])&&(!_d._is_empty)){break;}}}while(false)if(_d&&!_d._is_empty){var _i=_d._type_name.toLowerCase();if(_c&&_i!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return null;};_pComponent._makeCssRefInfo=function(){if(!this._refcssobj){var _a=this.parent;if(_a&&_a._is_component){this._refcssobj=_a;}}if(!this._refcssid&&this.id){this._refcssid="#"+this.id;}return this._refcssobj;};_pComponent._find_ctrl_pseudo_obj=_pComponent._find_comp_pseudo_obj;_pComponent._find_typedctrl_pseudo_obj=_pComponent._find_comp_pseudo_obj;_pComponent._contains=function(_a){while(_a){if(_a==this){return true;}_a=_a.parent;}return false;};_pComponent._getRootComponent=function(_a){var _b=_a;while(_b&&(_b._is_subcontrol||!_b._is_component)){if(_b==_b.parent){return null;}_b=_b.parent;}return _b;};_pComponent._getPopupRootComponent=function(_a){var _b=_a;while(_b&&(_b._is_subcontrol||!_b._is_component)&&!_b.popupwindow){if(_b==_b.parent){return null;}_b=_b.parent;}return _b;};_pComponent._getElementRootControl=function(_a){var _b=_a;while(_b&&!_b.linkedcontrol){_b=_b.parent;}var _c=_b.linkedcontrol;while(_c&&!_c._is_subcontrol){if(_c==_c.parent){break;}_c=_c.parent;}return _c;};_pComponent._getMainForm=function(){var _a=this;while(_a){if(_a._is_frame){return _a.form;}if(!_a._is_form&&_a._refform){_a=_a._refform;}else if(_a.parent){_a=_a.parent;}else{if(_a._is_form){return _a;}return null;}}return null;};_pComponent._getRootWindowComponent=function(_a){var _b=_a?_a:this;while(_b){if(_b._is_window){return _b;}if(_b._isPopupVisible()){return _b;}if(_b==_b.parent){break;}_b=_b.parent;}return null;};_pComponent._isPopupVisible=function(){return false;};_pComponent._closePopup=function(){var _a=this.popupwindow;if(_a){_a._closePopup();}};_pComponent._getReferenceComponent=function(_a){var _b=_a;while(_b&&!_b._is_reference_control){if(_b==_b.parent){return null;}_b=_b.parent;}return _b;};_pComponent._getReferenceContext=function(){return this._refform;};_pComponent._centerPopup=function(_a,_b,_c){var _d=this._getOwnerFrame();if(!_d){return;}var _e=_d._getWindow();_d=_e?_e.frame:null;if(!_d){return;}var _f=nexacro._getElementPositionInFrame(_d.getElement());var _g=((_d.width/2)-(_b/2));var _h=((_d.height/2)-(_c/2));_h=_h<0?0:_h;_c=_c>_d.height?_d.height:_c;_a._popup((_g+_f.x),(_h+_f.y),_b,_c);};_pComponent._getPopupType=function(){var _a=this.on_find_CurrentStyle_popuptype(this._pseudo);if(!_a){return application.popuptype;}return _a._value;};_pComponent._getDlgCode=function(_a,_b,_c,_d){return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:false,want_touchstart:false,want_touchmove:false};};_pComponent.set_scrollbars=function(_a){if(_a!=this.scrollbars||!this._is_created){switch(_a){case "none":this._scrollbars=0;break;case "autovert":this._scrollbars=1;break;case "autohorz":this._scrollbars=2;break;case "autoboth":this._scrollbars=3;break;case "fixedvert":this._scrollbars=4;break;case "fixedhorz":this._scrollbars=8;break;case "fixedboth":this._scrollbars=12;break;case "alwaysvert":this._scrollbars=16;break;case "alwayshorz":this._scrollbars=32;break;default:this._scrollbars=3;_a="autoboth";}this.scrollbars=_a;if(this._control_element&&this._is_created){this._onResetScrollBar();}}return _a;};_pComponent.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}return true;};_pComponent.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}return true;};_pComponent._onRecalcScrollSize=nexacro._emptyFn;_pComponent._onResetScrollBar=function(){if(!this._is_scrollable){return;}var _a=this._control_element;if(_a){var _b=false;var _c=false;var _d=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _e=_d;var _f=_d;var _g=0;var _h=false;var _i=false;switch(this._scrollbars){case 0:break;case 1:_h=true;_g=1;break;case 2:_i=true;_g=1;break;case 3:_h=true;_i=true;_g=1;break;case 4:_h=true;_g=2;break;case 8:_i=true;_g=2;break;case 12:_h=true;_i=true;_g=2;break;case 16:_h=true;_i=true;_g=31;break;case 32:_h=true;_i=true;_g=32;break;}if(_i&&!this.hscrollbar){this.hscrollbar=this._createHScrollBar(_d);if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(this._client_width,_e);}_b=true;}else if(_i&&this.hscrollbar){if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(this._client_width,_e);_a._hscroll_height=_e;}}else if(!_i&&this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}if(_h&&!this.vscrollbar){this.vscrollbar=this._createVScrollBar(_d);if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,this._client_height);}_c=true;}else if(_h&&this.vscrollbar){if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,this._client_height);_a._vscroll_width=_f;}}else if(!_h&&this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}_a.setScrollControls(this.hscrollbar,this.vscrollbar,_e,_f,_g);if(_b){this.hscrollbar.createComponent();}if(_c){this.vscrollbar.createComponent();}if(_a._handle){if(this.hscrollbar&&!this.hscrollbar._is_created){this.hscrollbar.on_created();}if(this.vscrollbar&&!this.vscrollbar._is_created){this.vscrollbar.on_created();}}this._updateClientSize(_a);}};_pComponent._cancelEvent=function(_a){};_pComponent._createVScrollBar=function(_a){var _b=new nexacro.ScrollBarCtrl("vscrollbar","absolute",0,0,_a,this._client_width,null,null,this);_b._setDirection("vert");_b._setEventHandler("onscroll",this.on_vscroll,this);_b.on_update_style_scrollbarsize();return _b;};_pComponent._createHScrollBar=function(_a){var _b=new nexacro.ScrollBarCtrl("hscrollbar","absolute",0,0,this._client_width,_a,null,null,this);_b._setDirection("horz");_b._setEventHandler("onscroll",this.on_hscroll,this);_b.on_update_style_scrollbarsize();return _b;};_pComponent._isWheelScrollable=function(_a){var _b=this._control_element;if(!_b){return false;}var _c=_b.scroll_top;var _d=_b.container_maxheight;var _e=this._client_height;if((_c+_e>=_d&&_a<0)||(_c==0&&_a>0)){return false;}return true;};_pComponent._getResultPseudo=function(_a,_b){if(_b==""){_b="normal";}return nexacro.Component._status_table[_a+"_"+_b];};_pComponent.getCurrentPseudo=function(){return this._pseudo;};_pComponent.setCurrentPseudo=function(_a){var _b=this._getResultPseudo(this._status,_a);if(_b){this._stat_change(this.status,_a);}return _b;};_pComponent._stat_change=function(_a,_b){this.on_change_status(_a,_b);};_pComponent.on_change_status=function(_a,_b){var _c;switch(_a){case "enable":if(this._status!="focus"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "disable":this._status="disable";break;case "focus":if(this._status!="disable"){this._status="focus";}break;case "notfocus":if(this._status!="disable"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "select":this._selected=true;break;case "notselect":this._selected=false;break;case "push":this._pushed=true;break;case "notpush":this._pushed=false;if(this._selected&&_b=="normal"){_b="selected";}break;case "readonly":if(!this._readonly){this._readonly=true;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="enable"){this._status="readonly";}break;case "writable":if(this._readonly){this._readonly=false;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="readonly"){this._status="enable";}break;}this.on_apply_pseudo(_b);this._setAccessibilityStatFlag(this._status,_b);};_pComponent.on_apply_custom_pseudo=function(_a){};_pComponent.on_apply_pseudo=function(_a,_b){var _c=this.parent;var _d=(nexacro._is_enable_setting)?this.enable:this.enable&&this._real_enable;if(_c&&!_c._is_application&&this._getWindow()==_c._getWindow()){while(_c!=null){if(!_c._is_frame||(_c._is_frame&&!_c._is_popup_frame)){if(_c._is_subcontrol==false){if(_c._real_enable==false||_c.enable==false){_d=false;break;}}if(_c.parent&&!_c.parent._is_application&&_c._getWindow()!=_c.parent._getWindow()){break;}_c=_c.parent;}else{break;}}}if(this._setEnable(_d)){return;}this._pseudo=_a=this._getResultPseudo(this._status,_a);var _e=this._control_element;if(this.visible&&_e){if(!_b){this._updateControl(_e,_a);}this._updateContents(_e,_a);}};_pComponent._find_pseudo_obj=_pComponent._find_comp_pseudo_obj;_pComponent.on_create_custom_style=function(){return new nexacro.Style(this);};_pComponent.on_create_custom_currentStyle=function(){return new nexacro.CurrentStyle(this);};_pComponent._updateCurrentStyle=function(_a){var _b=this._find_pseudo_obj(_a,this._pseudo);if(_b){if(_b!=this.currentstyle[_a]){this.currentstyle[_a]=_b;return true;}}return false;};_pComponent.on_find_CurrentStyle_background=function(_a){return this._find_pseudo_obj("background",_a,"background");};_pComponent.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pComponent.on_find_CurrentStyle_bordertype=function(_a){return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pComponent.on_find_CurrentStyle_gradation=function(_a){return this._find_pseudo_obj("gradation",_a,"gradation");};_pComponent.on_find_CurrentStyle_opacity=function(_a){var _b=this._find_pseudo_obj("opacity",_a,"opacity");return (_b)?_b:nexacro.Component._default_opacity;};_pComponent.on_find_CurrentStyle_shadow=function(_a){return this._find_pseudo_obj("shadow",_a,"shadow");};_pComponent.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a,"cursor");}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a,"cursor");}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a,"cursor");}return (_b)?_b:nexacro.Component._default_cursor;};_pComponent.on_find_CurrentStyle_margin=function(_a){var _b=this._find_pseudo_obj("margin",_a,"margin");return (_b)?_b:nexacro.Component._default_margin;};_pComponent.on_find_CurrentStyle_padding=function(_a){var _b=this._find_pseudo_obj("padding",_a,"padding");return (_b)?_b:nexacro.Component._default_padding;};_pComponent.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");return (_b)?_b:nexacro.Component._default_align;};_pComponent.on_find_CurrentStyle_font=function(_a){var _b=this._find_pseudo_obj("font",_a,"font");if(!_b){_b=this._find_inherit_pseudo_obj("font",_a,"font");}return (_b)?_b:nexacro.Component._default_font;};_pComponent.on_find_CurrentStyle_color=function(_a){var _b=this._find_pseudo_obj("color",_a,"color");if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pComponent.on_find_CurrentStyle_accessibility=function(_a){var _b=this._find_pseudo_obj("accessibility",_a,"accessibility");return _b?_b:nexacro.Component._default_accessibility;};_pComponent.on_find_CurrentStyle_rtlimagemirroring=function(_a){var _b=this._find_pseudo_obj("rtlimagemirroring",_a,"rtlimagemirroring");return _b?_b:nexacro.Component._default_rtlimagemirroring;};_pComponent._find_inherit_pseudo_obj=function(_a,_b,_c){var _d=this._find_pseudo_obj(_a,_b,_c);if(!_d){var _e=this._refcssobj;if(!_e){_e=this._makeCssRefInfo();}if(_e&&_e._is_component){_d=_e._find_inherit_pseudo_obj(_a,_b,_c);}}if(_d&&!_d._is_empty){var _f=_d._type_name.toLowerCase();if(_c&&_f!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}}return _d;};_pComponent.on_find_CurrentStyle_glow=function(){};_pComponent.on_find_CurrentStyle_blur=function(){};_pComponent.on_update_style_margin=function(){this.on_apply_style_margin(this.currentstyle.margin=this.on_find_CurrentStyle_margin(this._pseudo));};_pComponent.on_update_style_border=function(){this.on_apply_style_border(this.currentstyle.border=this.on_find_CurrentStyle_border(this._pseudo));};_pComponent.on_update_style_bordertype=function(){this.on_apply_style_bordertype(this.currentstyle.bordertype=this.on_find_CurrentStyle_bordertype(this._pseudo));};_pComponent.on_update_style_background=function(){this.on_apply_style_background(this.currentstyle.background=this.on_find_CurrentStyle_background(this._pseudo));};_pComponent.on_update_style_gradation=function(){this.on_apply_style_gradation(this.currentstyle.gradation=this.on_find_CurrentStyle_gradation(this._pseudo));};_pComponent.on_update_style_opacity=function(){this.on_apply_style_opacity(this.currentstyle.opacity=this.on_find_CurrentStyle_opacity(this._pseudo));};_pComponent.on_update_style_shadow=function(){this.on_apply_style_shadow(this.currentstyle.shadow=this.on_find_CurrentStyle_shadow(this._pseudo));};_pComponent.on_update_style_cursor=function(){this.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));};_pComponent.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);if(this._apply_client_padding){var _b=this._control_element;_b.setElementPadding(_a);this._updateClientSize(_b);}else{this.on_apply_style_padding(_a);}};_pComponent.on_update_style_align=function(){this.on_apply_style_align(this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo));};_pComponent.on_update_style_font=function(){this.on_apply_style_font(this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo));};_pComponent.on_update_style_color=function(){this.on_apply_style_color(this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo));};_pComponent.on_update_style_accessibility=function(){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);this.on_apply_style_accessibility(this.currentstyle.accessibility=this._make_accessibility_value(_a));};_pComponent.on_update_style_rtlimagemirroring=function(){var _a=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);this.on_apply_style_rtlimagemirroring(this.currentstyle.rtlimagemirroring=_a);};_pComponent.on_update_style_glow=function(){};_pComponent.on_update_style_blur=function(){};_pComponent.on_apply_style_margin=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b&&this._margin!=_a){this._margin=_a;this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);_b.setElementVisible(this.visible);_b.setElementPosition(this._adjust_left,this._adjust_top);_b.setElementSize(this._adjust_width,this._adjust_height);}};_pComponent.on_apply_style_border=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_a,_c.bordertype);_b.setElementBackground(_c.background,_c.gradation);this._updateClientSize(_b);}};_pComponent.on_apply_style_bordertype=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_c.border,_a);_b.setElementBackground(_c.background,_c.gradation);this._updateClientSize(_b);}};_pComponent.on_apply_style_background=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBackground(_a,this.currentstyle.gradation);}};_pComponent.on_apply_style_gradation=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBackground(this.currentstyle.background,_a);}};_pComponent.on_apply_style_opacity=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementOpacity(_a);}};_pComponent.on_apply_style_shadow=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_a=(_a==undefined)?nexacro.Component._default_shadow:_a;_b.setElementShadow(_a);}};_pComponent.on_apply_style_cursor=function(_a){var _b=this._control_element;if(_b){_b.setElementCursor(_a);}};_pComponent.on_apply_style_control_padding=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b&&_a){_b.setElementPadding(_a);}};_pComponent.on_apply_style_accessibility=function(_a){var _b=this._control_element;if(_b&&_a){_b.setAccessibility(_a);}};_pComponent.on_apply_style_rtlimagemirroring=function(_a){var _b=this._control_element;var _c=this._img_elem;if(_b&&_a){_b.setElementImageMirror(_a);if(_c){_c.setElementImageMirror(_a);}}};_pComponent.on_apply_style_padding=function(_a){};_pComponent.on_apply_style_align=function(_a){};_pComponent.on_apply_style_font=function(_a){};_pComponent.on_apply_style_color=function(_a){};_pComponent.on_apply_style_glow=function(_a){};_pComponent.on_apply_style_blur=function(_a){};_pComponent.on_apply_custom_class=function(){};_pComponent.on_apply_text=function(){};_pComponent.on_apply_expr=function(){};_pComponent.on_apply_prop_enable=function(_a){if(this._is_scrollable==true){if(this.vscrollbar){this.vscrollbar._setEnable(_a);}if(this.hscrollbar){this.hscrollbar._setEnable(_a);}}};_pComponent.on_apply_prop_class=function(){this.currentstyle._empty();this._css_finder=null;this._ref_css_finder=null;this._control_pseudo="";this._contents_pseudo="";this._cssfinder_cache={};var _a=(!this._pseudo)?"normal":this._pseudo;if(this.vscrollbar){this.vscrollbar.on_apply_prop_class();}if(this.hscrollbar){this.hscrollbar.on_apply_prop_class();}this._onResetScrollBar();this.on_apply_pseudo(_a);this.on_apply_custom_class(_a);};_pComponent.on_apply_prop_taborder=function(){if(this.tabstop){this._setAccessibilityFlagFocusable(this._taborder>=0?true:false);}};_pComponent.on_apply_custom_setfocus=function(_a){var _b=this._control_element;if(_b){var _c=((_a=="lbutton")?false:nexacro._enableaccessibility);_b.setElementFocus(_c);}};_pComponent.on_apply_prop_tooltip=function(){var _a=this._control_element;if(_a&&!this._is_subcontrol){_a.setElementToolTip(this.tooltiptext,this.tooltiptype);}};_pComponent.on_apply_prop_rtldirection=function(){var _a=this._control_element;var _b=this._rtldirection;if(_a){_a.setElementRtlDirection(_b);}};_pComponent.on_apply_locale=nexacro._emptyFn;_pComponent.on_create_contents=function(){};_pComponent.on_created_contents=function(){};_pComponent.on_destroy_contents=function(){};_pComponent.on_created=function(_a){if(!this._is_loading){var _b=null;if(!this._is_window){_b=this.parent?this.parent._control_element:null;if(!_b){return false;}}if(!_a){_a=this._getWindow();}var _c=this._control_element;var _d=this._isEnable();if((this._real_enable==null&&_d==false)||(this._real_enable&&this._real_enable!=_d)){this._real_enable=_d;this._stat_change(_d?"enable":"disable",this._pseudo);this.on_apply_prop_enable(_d);}else{this._real_enable=_d;}if(_c){_c.create(_a);if(!_c._handle){return;}}if(!this._is_subcontrol){this._registerHotkey();}if(this._is_created!=true){this.on_created_contents();}this._is_created=true;if(this._is_subcontrol){nexacro._addSubComponent(this);}}};_pComponent.on_change_containerPos=function(_a,_b){};_pComponent.on_change_containerRect=function(_a,_b){};_pComponent.on_create_normal_control_element=function(_a){var _b=new nexacro.ControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_scrollable_control_element=function(_a){var _b=new nexacro.ScrollableControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_frame_control_element=function(_a){var _b=new nexacro.FrameControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_tablecell_control_element=function(_a){var _b=new nexacro.CellControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_simple_control_element=function(_a){var _b=new nexacro.SimpleControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_popup_control_element=function(_a){var _b=new nexacro.PopupControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_popupscrollable_control_element=function(_a){var _b=new nexacro.PopupScrollableControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_band_control_element=function(_a){var _b=new nexacro.BandControlElement(_a,this._is_band_vert_paging);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_area_scroll_control_element=function(_a){var _b=new nexacro.ScrollableAreaControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_control_element=function(_a){var _b=null;if(this._is_simple_control){_b=this.on_create_simple_control_element(_a);}else if(this._is_tablecell){_b=this.on_create_tablecell_control_element(_a);}else if(this._is_frame){_b=this.on_create_frame_control_element(_a);}else if(this._is_scrollable){_b=this.on_create_scrollable_control_element(_a);}else if(this._is_band_control){_b=this.on_create_band_control_element(_a);}else if(this._is_area_scroll){this._is_scrollable=true;_b=this.on_create_area_scroll_control_element(_a);}else if(this._is_popup_control){_b=this.on_create_popup_control_element(_a);}else{_b=this.on_create_normal_control_element(_a);}return _b;};_pComponent.createComponent=function(_a){var _b=null;if(!this._is_window){_b=this.parent?this.parent._control_element:null;if(!_b){return false;}}var _c=this._control_element;if(!_c){_c=this.on_create_control_element(_b);if(this._is_nc_control){_c._is_nc_element=true;}var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.text||this.expr){this.on_apply_text();}if(this._taborder>=0){this.on_apply_prop_taborder();}if(this.tooltiptext){this.on_apply_prop_tooltip();}this.on_apply_positionstep(this.positionstep);if(!_a&&_b&&_b._handle){var _e=this._getWindow();this.on_created(_e);}}return true;};_pComponent.destroyComponent=function(){if(!this._is_alive){return;}this._is_alive=false;if(!this._is_subcontrol){this._unregisterHotkey();}if(nexacro._enableaccessibility){if(application._accessibilityHistoryList){application._remove_accessibility_history(this);}}this._clearEventListeners();if(this.parent&&this.parent._overedobj&&this.parent._overedobj==this){this.parent._overedobj=null;}if(this.parent&&this.parent.removeChild){this.parent.removeChild(this.id);}else{var _a=this._getWindow();if(_a){_a._removeFromCurrentFocusPath(this);}}if(this._control_element){this._control_element.destroy();this._control_element=null;}if(this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}if(this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}this.on_destroy_contents();if(this._subctrlitems){nexacro._deleteAllSubComponent(this);}if(this._is_subcontrol&&this.parent&&this.parent._subctrlitems){nexacro._deleteSubComponent(this,this.parent);}this._is_created=false;if(this._refform){this._refform=null;}if(this.parent){this.parent=null;}if(this._refobj){this._refobj=null;}if(this.hotkey){this.hotkey=null;}if(this.rtldirection){this.rtldirection=null;}if(this._refcssobj){this._refcssobj=null;}if(this._overedobj){this._overedobj=null;}if(this._event_list){this._event_list=null;}if(this._last_focused){this._last_focused=null;}this._delete_style();if(this.currentstyle){this.currentstyle._empty();this.currentstyle=null;}this._css_finder=null;this._ref_css_finder=null;this._enable_redraw_history=null;return true;};_pComponent._delete_style=function(){if(this.style){this.style.destroy();this.style=null;}if(this._styles){var _a=this._styles;for(var _b in _a){var _c=_a[_b];if(_c.destroy){_c.destroy();_c=null;}}this._styles=null;}};_pComponent._initControl=function(_a,_b){var _c=this.visible;if(!this.visible){_a.setElementVisible(false);}else{_a.setElementVisible(true);}var _d=this.on_find_CurrentStyle_margin(_b);var _e=this.currentstyle;if(_d&&_d!=_e.margin){_e.margin=_d;this._margin=_d;}if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width||this.parent._init_width,this.parent._client_height||this.parent._init_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);this._updateControl(_a,_b);};_pComponent._isEnableRedraw=function(){var _a=this._getFromComponent(this);if(!_a.enableredraw){if(!_a._enable_redraw_history["common_updatestyle"]){_a._enable_redraw_history["common_updatestyle"]=[];}this._is_applyenableredraw=false;_a._enable_redraw_history["common_updatestyle"].push(this);}return _a.enableredraw;};_pComponent._updateCursor=function(_a){if(nexacro._cur_track_info||nexacro._cur_extra_track_info){return;}var _b=this.currentstyle;if(!_a){_a=this.on_find_CurrentStyle_cursor(this._pseudo);}_b.cursor=_a;this._control_element.setElementCursor(_a);_a=null;};_pComponent._updateControl=function(_a,_b){if(!this._isEnableRedraw()){return;}if(nexacro._cur_track_info&&_b=="mouseover"){return;}var _c=false;if(this._adjust_width!=0&&this._adjust_height!=0){_c=true;}if(_a&&this._control_pseudo!=_b){this._control_pseudo=_b;var _d=this.currentstyle;var _e=this.on_find_CurrentStyle_border(_b);var _f=this.on_find_CurrentStyle_bordertype(_b);var _g=this.on_find_CurrentStyle_background(_b);var _h=this.on_find_CurrentStyle_gradation(_b);var _i=(_g!=_d.background);var _j=(_f!=_d.bordertype);var _k=(_e!=_d.border);var _l=(_h!=_d.gradation);if(_k||_j||_i||_l){this._apply_client_border=_k;_d.bordertype=_f;_d.border=_e;_d.background=_g;_d.gradation=_h;if(_c){_a.setElementBorder(_e,_f);_a.setElementBackground(_g,_h);}}_e=_f=_g=_h=null;_i=_j=_k=_l=null;var _m=this.on_find_CurrentStyle_opacity(_b);if(_m&&_m!=_d.opacity){_d.opacity=_m;if(_c){_a.setElementOpacity(_m);}}_m=null;var _n=this.on_find_CurrentStyle_shadow(_b);if(_n&&_n!=_d.shadow){_d.shadow=_n;if(_c){_a.setElementShadow(_n);}}_n=null;if(!nexacro._cur_track_info&&!nexacro._cur_extra_track_info){var _o=this.on_find_CurrentStyle_cursor(_b);if(_o&&_o!=_d.cursor){_d.cursor=_o;if(_c){_a.setElementCursor(_o);}}_o=null;}if(nexacro._enableaccessibility){var _p=this.on_find_CurrentStyle_accessibility(_b);if(_p&&_p!=_d.accessibility){_d.accessibility=this._make_accessibility_value(_p);if(_c){_a.setAccessibility(_d.accessibility);}}_p=null;}if(this._apply_client_padding){var _q=this.on_find_CurrentStyle_padding(_b);if(_q&&_q!=_d.padding){_d.padding=_q;if(_c){_a.setElementPadding(_q);}}_q=null;}if(_c){this._updateClientSize(_a);}_d=null;return true;}return false;};_pComponent._initContents=function(_a,_b){if(this._contents_pseudo!=_b){this._contents_pseudo=_b;var _c=this.currentstyle;this.on_apply_custom_pseudo(_b);this.on_create_contents();this._is_created_contents=true;if(this._has_dirty_pos){this.on_change_containerPos(this._adjust_left,this._adjust_top);this._has_dirty_pos=false;}if(this._has_dirty_rect){this.on_change_containerRect(this._client_width,this._client_height);this._has_dirty_rect=false;}}this._is_loading=false;};_pComponent._updateContents=function(_a,_b){if(!this._isEnableRedraw()){return;}if(nexacro._cur_track_info&&_b=="mouseover"){return;}if(this._contents_pseudo!=_b&&this._adjust_width!=0&&this._adjust_height!=0){this._contents_pseudo=_b;var _c=this.currentstyle;this.on_apply_custom_pseudo(_b);}};_pComponent._updateClientSize=function(_a){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;if(this._client_left!=_b||this._client_top!=_c){this._client_left=_b;this._client_top=_c;if(this._is_created_contents){this.on_change_containerPos(_b,_c);}else{this._has_dirty_pos=true;}}if(this._client_width!=_d||this._client_height!=_e){this._client_width=_d;this._client_height=_e;if(this._is_created_contents){this.on_change_containerRect(_d,_e);nexacro._redrawVMLBorder(this);}else{this._has_dirty_rect=true;}}};_pComponent._applyZoomPopup=nexacro._emptyFn;_pComponent.on_update_position=function(_a,_b){var _c=this._control_element;if(_c){_c.setElementPosition(this._adjust_left,this._adjust_top);_c.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pComponent._applysetPosition=function(_a,_b,_c,_d){var _e=this._adjust_left;var _f=this._adjust_top;var _g=this._adjust_width;var _h=this._adjust_height;this._adjustPosition(_a,_b,null,null,_c,_d,this.parent._client_width,this.parent._client_height);var _i=this._control_element;if(_i){_i.setElementPosition(this._adjust_left,this._adjust_top);_i.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_i);if(_e!=this._adjust_left||_f!=this._adjust_top){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_g!=this._adjust_width||_h!=this._adjust_height){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pComponent.set_positionstep=function(_a){if(_a===""||_a===null||_a===undefined){_a=0;}else{_a=parseInt(_a)|0;}if(this.positionstep!==_a){this._beforepositionstep=this.positionstep;this.positionstep=_a;this.on_apply_positionstep(_a);}};_pComponent.on_apply_positionstep=function(_a){var _b=this.getElement();if(_b){if(_a==null){_a=0;}_b.setElementPositionStep(_a);}};_pComponent.set_style=function(_a){_a=nexacro._decodeXml(_a);var _b=_a.split("}");var _c=_b[0].trim();var _d=this._styles={};_b.pop();var _e,_f=_b.length;var _g,_h,_i;_g=_c.split("{");_i=_g[0].substring(0,_g[0].lastIndexOf(";")+1).trim();if(_i.length==0){_i=_g[0].substring(0,_g[0].length).trim();}var _j=(this.style._value!=_i);if(_j){this.style._setValue(_i);}if(_f>0){for(_e=0;_e<_f;_e++ ){_g=_b[_e].split("{");_h=_g[0].substring(_g[0].lastIndexOf(":")+1).trim();var _k=this.on_create_custom_style();_k._setValue(_g[1]);_d[_h]=_k;}}if(_j){this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}return this.style._value;};_pComponent.set_name=function(_a){this.name=_a;};_pComponent.set_text=function(_a){var _b=nexacro._toString(_a);if(_b!=this.text){this.text=_b;this._display_text=_b;this.on_apply_text();}};_pComponent.set_expr=function(_a){var _b=nexacro._toString(_a);if(_b!=this.expr){this.expr=_b;this.on_apply_expr();}};_pComponent.set_cssclass=function(_a){if(_a!=this.cssclass){this.cssclass=_a;if(this.parent){if(this._is_created){this.on_apply_prop_class();}}}};_pComponent.set_visible=function(_a){if(_a===undefined||_a===null){return;}var _b=this._control_element;_a=nexacro._toBoolean(_a);if(this.visible!=_a){var _c=this._getWindow();var _d;if(!_a&&this._is_created&&this.parent){if(_c&&_c._indexOfCurrentFocusPaths(this)> -1){var _e=this._getForm();var _f=this.tabstop;this.tabstop=false;_d=_e._searchNextTabFocus();this.tabstop=_f;}}this.visible=_a;if(_b){_b.setElementVisible(_a);this._setAccessibilityStatHidden(!_a);if(this.visible){nexacro._resetVML(this);var _g=this.parent;if(!this._is_subcontrol&&this._is_created&&_g&&_g._is_created){if(_c&&_c._focus_list&&_c._indexOfCurrentFocusPaths(_g)==_c._getCurrentFocusPathsLength()-1){this._on_focus(true);}}this.on_apply_pseudo(this._pseudo);}else{var _g=this.parent;if(!this._is_subcontrol&&_g){if(_c&&_c._indexOfCurrentFocusPaths(this)> -1){_c._removeFromCurrentFocusPath(this,false);if(_d&&_d[0]){_d[0]._on_focus(true);}}}}}}};nexacro._is_enable_setting=false;_pComponent.set_enable=function(_a){_a=nexacro._toBoolean(_a);if(this.enable!=_a){var _b=this._getWindow();var _c;if(!this._is_subcontrol&&!_a&&this._is_created&&this.parent){if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){var _d=this._getForm();var _e=this.tabstop;this.tabstop=false;_c=_d._searchNextTabFocus();this.tabstop=_e;}}var _f=this._control_element;this.enable=_a;if(this._is_created){var _g=_a;if(this.parent&&this.parent._real_enable){_g=this.parent._real_enable&&_a;}if(this._real_enable!=_g){nexacro._is_enable_setting=true;this._setEnable(_g);nexacro._is_enable_setting=false;var _h=this.parent;if(!this._is_subcontrol&&this._is_created&&_h&&_h._is_created){if(_g){if(_b&&_b._indexOfCurrentFocusPaths(_h)==_b._getCurrentFocusPathsLength()-1&&!_h._last_focused){this._on_focus(true);}}else{if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){_b._removeFromCurrentFocusPath(this,false);if(_c&&_c[0]){_c[0]._on_focus(true);}}}}}}}};_pComponent._is_enable_changing=false;_pComponent._setEnable=function(_a){if(this._is_enable_changing){return false;}var _b=(_a&&this.enable);if(this._real_enable!=_b){var _c=this._control_element;this._real_enable=_b;if(_b){this._status="enable";this._pseudo="normal";}else{this._status="disable";this._pseudo="disabled";}this._is_enable_changing=true;this._stat_change(this._status,this._pseudo);this._is_enable_changing=false;this.on_apply_prop_enable(this._real_enable);return true;}return false;};_pComponent.set_taborder=function(_a){if(_a>=0&&_a!=this.taborder){this.taborder=_a;this._taborder=(( +_a)!=( +_a))? -1:parseInt(_a);this.on_apply_prop_taborder();}return _a;};_pComponent.set_tabstop=function(_a){_a=nexacro._toBoolean(_a);if(this.tabstop){if(!_a){this.tabstop=_a;this.on_apply_prop_taborder();}}else{if(_a){this.tabstop=_a;this.on_apply_prop_taborder();}}return _a;};_pComponent.on_get_prop_tabstop=function(){return this.tabstop;};_pComponent._isFocusAcceptable=function(){return this._is_focus_accept;};_pComponent.set_tooltiptext=function(_a){if(_a!=this.tooltiptext){if(!_a){_a="";}this.tooltiptext=_a;this.on_apply_prop_tooltip();}return _a;};_pComponent.set_tooltiptype=function(_a){if(_a!=this.tooltiptype){this.tooltiptype=_a;this.on_apply_prop_tooltip();}return _a;};_pComponent.set_enableevent=function(_a){this.enableevent=nexacro._toBoolean(_a);return _a;};_pComponent.set_enableredraw=function(_a){this.enableredraw=nexacro._toBoolean(_a);if(this.enableredraw){this.on_apply_enableredraw();}return _a;};_pComponent.on_apply_enableredraw=function(){if(this._enable_redraw_history["common_updatestyle"]){var _a=this._enable_redraw_history["common_updatestyle"];var _b=_a.length;for(var _c=0;_c<_b;_c++ ){var _d=_a[_c];if(_d._is_applyenableredraw){continue;}_d._control_pseudo="";_d._contents_pseudo="";_d.on_apply_pseudo(_d._pseudo);_d._is_applyenableredraw=true;}this._enable_redraw_history["common_updatestyle"]=[];}this._enable_redraw_history={};};_pComponent.set_transparenthittest=function(_a){};_pComponent._on_last_lbuttonup=nexacro._emptyFn;_pComponent._on_last_keyup=nexacro._emptyFn;_pComponent.set_hotkey=function(_a){var _b=this._hotkey;if(_b){this._unregisterHotkey();}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.hotkey=null;this._hotkey=null;delete _c;}else{this.hotkey=_c._toString();this._hotkey=_c;if(this._is_created){this._registerHotkey();}}};_pComponent.set_rtldirection=function(_a){var _b=this.rtldirection;if(_b!=_a){this.rtldirection=_a;this._setRtlDirection(_a);}return _a;};_pComponent.set_locale=nexacro._emptyFn;_pComponent._registerHotkey=function(){var _a=this._hotkey;if(!_a||_a._is_registered){return;}this._setAccessibilityHotKey(this.hotkey);var _b=this._getMainForm();if(this._is_frame||this==_b){var _c=this.getOwnerFrame();if(_c){nexacro._registerHotkeyComp(_c,this,_a);}}else{if(_b){nexacro._registerHotkeyComp(_b,this,_a);}}};_pComponent._unregisterHotkey=function(){var _a=this._hotkey;if(!_a||!_a._is_registered){return;}var _b=this._getMainForm();if(this._is_frame||this==_b){var _c=this.getOwnerFrame();if(_c){nexacro._unregisterHotkeyComp(_c,this,_a);}}else{if(_b){nexacro._unregisterHotkeyComp(_b,this,_a);}else{delete this._hotkey;this._hotkey=null;}}};_pComponent._processHotkey=function(_a,_b,_c,_d){var _e=this._getMainForm();if(!this._is_frame&&this!=_e){if(_e){return _e._processHotkey(_a,_b,_c,_d,this);}}};_pComponent._on_hotkey=function(_a,_b,_c,_d){this.setFocus();};_pComponent._saveScrollPos=function(){};_pComponent._applyScrollPos=function(){};_pComponent.bringToFront=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=this._child_list;var _d=_b.length;var _e=_d-1;var _f=nexacro._indexOf(_b,this);if(_f>=0&&_f<_e){_b.splice(_f,1);_b.splice(_e,0,this);var _g=_a.getElement();var _h=this._control_element;if(_c!=null||_c!=undefined){for(var _i=0;_i<_c.length;_i++ ){var _j=_c[_i];_j._saveScrollPos();}}_g.bringToFrontElement(_h);if(_c!=null||_c!=undefined){for(var _i=0;_i<_c.length;_i++ ){var _j=_c[_i];_j._applyScrollPos();}}}}};_pComponent.bringToPrev=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=this._child_list;var _d=_b.length;var _e=_d-1;var _f=nexacro._indexOf(_b,this);if(_f>=0&&_f<_e){if(_c!=null||_c!=undefined){for(var _g=0;_g<_c.length;_g++ ){var _h=_c[_g];_h._saveScrollPos();}}this.moveToPrev(_b[_f+1]);if(_c!=null||_c!=undefined){for(var _g=0;_g<_c.length;_g++ ){var _h=_c[_g];_h._applyScrollPos();}}}}};_pComponent.moveToNext=function(_a){if(this.parent){var _b=this.parent;var _c=(nexacro._isString(_a))?_b[_a]:_a;if(_c==null){return;}var _d=_b._child_list;var _e=nexacro._indexOf(_d,this);var _f=nexacro._indexOf(_d,_c);if(_e<0||_f<0){return;}if(_e> -1&&_f> -1&&_e!=_f-1){_d.splice(_e,1);var _g=nexacro._indexOf(_d,_c);_d.splice(_g,0,this);var _h=_b.getElement();_h.moveToNextElement(this._control_element,_c.getElement());}}};_pComponent.moveToPrev=function(_a){if(this.parent){var _b=this.parent;var _c=(nexacro._isString(_a))?_b[_a]:_a;if(_c==null){return;}var _d=_b._child_list;var _e=nexacro._indexOf(_d,this);var _f=nexacro._indexOf(_d,_c);if(_e<0||_f<0){return;}if(_e> -1&&_f> -1&&_e!=_f+1){_d.splice(_e,1);var _g=nexacro._indexOf(_d,_c);_d.splice(_g+1,0,this);var _h=_b.getElement();_h.moveToPrevElement(this._control_element,_c.getElement());}}};_pComponent.sendToBack=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=nexacro._indexOf(_b,this);if(_c>0){_b.splice(_c,1);_b.splice(0,0,this);var _d=_a.getElement();_d.sendToBackElement(this._control_element);}}};_pComponent.sendToNext=function(){if(this.parent){var _a=this.parent;var _b=_a._child_list;var _c=nexacro._indexOf(_b,this);if(_c>0){this.moveToNext(_b[_c-1]);}}};_pComponent.create=function(){this.initProperties();this.initEvents();};_pComponent._destroy=function(){return this.destroy();};_pComponent.destroy=function(){if(!this._is_alive){return;}return this.destroyComponent();};_pComponent.init=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_a){this.id=this.name=_a;}this.position=_b?_b:"absolute";var _i=this._adjust_left;var _j=this._adjust_top;var _k=this._adjust_width;var _l=this._adjust_height;var _m=false,_n=false;if(arguments.length>=6){this._adjustPosition(_c,_d,_g,_h,_e,_f,this.parent?this.parent._client_width:0,this.parent?this.parent._client_height:0);if(this._adjust_width!=_k||this._adjust_height!=_l){_m=true;}if(this._adjust_left!=_i||this._adjust_top!=_j){_n=true;}this.on_update_position(_m,_n);}};_pComponent._getPosRight=function(){return this._adjust_left+this._adjust_width;};_pComponent._getPosBottom=function(){return this._adjust_top+this._adjust_height;};_pComponent.move=function(_a,_b,_c,_d,_e,_f){var _g=this._adjust_left;var _h=this._adjust_top;var _i=this._adjust_width;var _j=this._adjust_height;var _k=false,_l=false;var _m=false;this._adjustPosition(_a,_b,_e,_f,_c,_d,this.parent._client_width,this.parent._client_height);if(this._adjust_width!=_i||this._adjust_height!=_j){_k=true;if(_i==0||_j==0){_m=true;}}if(this._adjust_left!=_g||this._adjust_top!=_h){_l=true;}if(this._isPopupVisible&&this._isPopupVisible()){_k=true;}this.on_update_position(_k,_l);if(this._control_element){if(_m){this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";}var _n=this._getResultPseudo(this._status,this._pseudo);this._updateControl(this._control_element,_n);this._updateContents(this._control_element,_n);}};_pComponent.move_default=null;_pComponent._setFocus=function(_a,_b,_c){if(_b> -1||_b<4){this._focus_direction=_b;}else{this._focus_direction= -1;}if(_c==true){this._block_inner_focus=true;this.setFocus(_a);this._block_inner_focus=false;}else{return this.setFocus(_a);}};_pComponent.setFocus=function(_a,_b){var _c=this._getRootWindow();if(!this.getElement()){return;}var _d=_c._isActiveLayerComponent(this);if(!_d){return;}if(!this._isVisible()||!this._isEnable()||!this.enableevent||!this._isFocusAcceptable()){return;}if(_a===undefined){_a=true;}var _e;if(_b===undefined){_e=nexacro._enableaccessibility;}else{_e=!_b;}var _f,_g=false;if(_e){if(this instanceof nexacro.Form){if(this._block_inner_focus){_f=true;}this._block_inner_focus=true;if(this._last_focused){if(_c._indexOfCurrentFocusPaths(this._last_focused)>=0){_g=true;_c._removeFromCurrentFocusPath(this._last_focused);}else{this._last_focused=null;}}}}var _h=this._focus_direction;if(_a){var _l=this,_m,_n=this;if(!this._block_inner_focus){while(_l){_m=_l._getLastFocused();if(!_m){_m=_l._getTabOrderFirst();}if(_m){_n=_m;}_l=_m;}_n._resetScrollPos(_n,_n._adjust_left,_n._adjust_top,_n._adjust_left+_n._adjust_width,_n._adjust_top+_n._adjust_height,_h);}else{nexacro.Component.prototype._resetScrollPos.call(this,this,this._adjust_left,this._adjust_top,this._adjust_left+this._adjust_width,this._adjust_top+this._adjust_height,_h);}}var _i=this._find_lastFocused(this);var _j="focus";if(_h==0){_j="tabkey";}else if(_h==1){_j="shifttabkey";}else if(_h==2){_j="downkey";}else if(_h==3){_j="upkey";}this._focus_direction= -1;var _k=this._getRootForm();_k._is_comp_focus=true;this._on_focus(true,_j);_k._is_comp_focus=false;if(_g){this.on_apply_custom_setfocus();}if(this._block_inner_focus&&!_f){this._block_inner_focus=false;}return _i;};_pComponent.redraw=function(){};_pComponent.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){var _f=this.getElement();if(_f&&_f._handle&&_f._vml_elem){_f._refreshVMLContainerElement(_f,_f._vml_elem);}return;}var _c=this._adjust_width;var _d=this._adjust_height;var _e=false;if(_c!=this._adjust_left+_a||_d!=this._adjust_top+_b){this.width=_a;this.height=_b;_e=true;}this._update_position(_e,false);};_pComponent._update_position=function(_a,_b){var _c=this._adjust_left;var _d=this._adjust_top;var _e=this._adjust_width;var _f=this._adjust_height;var _g=false;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._adjust_width!=_e||this._adjust_height!=_f){_a=true;if(_e==0||_f==0){_g=true;}}if(this._adjust_left!=_c||this._adjust_top!=_d){_b=true;}this.on_update_position(_a,_b);if(_g){this.currentstyle._empty();this.on_apply_pseudo();}};_pComponent._on_afterHideWaitComp=function(_a){if(this._pseudo!=_a){this._stat_change(this._status,_a);}};_pComponent.saveToImage=function(_a,_b,_c){if(this._control_element){return this._control_element.saveToImageFile(_a,_b,_c);}};_pComponent.saveToImageFile=function(_a,_b,_c){if(this._control_element){return this._control_element.saveToImageFile(_a,_b,_c);}};_pComponent.saveToImageObject=function(){if(this._control_element){return this._control_element.saveToImageObject();}};_pComponent.applyto_bindSource=function(_a,_b){if(!this._bind_event){return true;}var _c={propid:_a,val:_b};var _d=this._bind_event._fireEvent(this,_c);return _d;};_pComponent.on_getBindableProperties=function(){};_pComponent.show=function(){var _a=this.parent;if(_a){var _b=this._control_element;if(!_b){if(this.createComponent(true)){this.on_created();}}else{}}};_pComponent._resizeBorder=function(){var _a=this._adust_width;var _b=this._adjust_height;var _c=this.on_find_CurrentStyle_border(this._pseudo);if(_c){var _d=nexacro._cloneStyleObject(_c);var _e=false;if(_a<(_d.left_width+_d.right_width)){_d.left_width=_a;_d.right_width=0;_e=true;}if(_b<(_d.top_width+_d.bottom_width)){_d.top_width=_b;_d.bottom_width=0;_e=true;}if(_e){this._control_element.setElementBorder(_d,this.currentstyle.bordertype);}}};_pComponent._isVisible=function(){var _a=this;while(_a!=null){if(_a.visible==false){return false;}_a=_a.parent;}return true;};_pComponent._isEnable=function(){var _a=this;while(_a!=null){if(_a._is_frame&&_a._is_popup_frame){break;}if(_a._real_enable==false||_a.enable==false){return false;}_a=_a.parent;}return true;};_pComponent._isPropEnable=function(){var _a=this;while(_a!=null){if(_a._is_frame&&_a._is_popup_frame){break;}if(_a.enable==false){return false;}_a=_a.parent;}return true;};_pComponent._isAccessibilityRoleHeading=function(){if(this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="heading"){return true;}else{return false;}};_pComponent._isEditableComponent=function(_a){if(this.readonly!==undefined){if(_a&&_a.match(this._type_name)){if(this._type_name=="Edit"){var _b=_a.split(",");for(var _c=0;_c<_b.length;_c++ ){if(_b[_c].trim()==this._type_name){return true;}}}else{return true;}}else if(_a=="All"||_a==""){return true;}else{return false;}}return false;};_pComponent._getForm=function(){return this._refform;};_pComponent._getRootForm=function(){var _a=this._refform;while((_a&&_a._is_form==false)||(_a&&_a._is_form&&(_a instanceof nexacro.Div||_a instanceof nexacro.Tabpage||_a instanceof nexacro.Tab))){_a=_a.parent;}return _a;};_pComponent._findDataset=function(_a){if(_a&&_a.length>0){var _b=this[_a];if(_b&&(_b._type_name=="Dataset")){return _b;}if(this._refform){var _b=this._refform.lookup(_a);if(_b&&(_b._type_name=="Dataset")){return _b;}}}return undefined;};_pComponent._findForm=function(_a){var _b=_a;while(_b&&_b._is_form==false){_b=_b.parent;}return _b;};_pComponent._getOwnerFrame=function(){var _a=this;while(_a&&!_a._is_frame){_a=_a.parent;}return _a;};_pComponent._getWindow=function(){var _a=this.parent;if(_a){return _a._getWindow();}var _b=this._refform;if(_b&&_b!=this){return _b._getWindow();}return nexacro._findWindow(nexacro._getMainWindowHandle());};_pComponent._getRootWindow=function(){var _a=this._getWindow();while(_a){if(_a.frame){return _a;}_a=_a.parent;}return this._getWindow();};_pComponent._getWindowHandle=function(){var _a=this._getWindow();if(_a){return _a._handle;}return null;};_pComponent._getLastFocused=function(){return this._last_focused;};_pComponent._find_lastFocused=function(){var _a=this._getMainForm();if(!_a){return null;}var _b=_a._last_focused;while(_b&&_b._is_form){var _c=_b._getLastFocused();if(!_c){break;}_b=_c;}return _b;};_pComponent._getDragData=function(){if(this.text){return this.text;}return null;};_pComponent.getElement=function(){return this._control_element;};_pComponent.getMainframe=function(){if(application._is_attach_childframe){return this._getWindow().frame;}return application.mainframe;};_pComponent._getScrollable=function(_a,_b,_c,_d){if(!this._is_scrollable){return false;}var _e,_f,_g=this.vscrollbar;if(_b&&_g&&_g.enable){_f=_g.pos+_d;if(_f<_g._max&&_f>=_g._min){_e={y:true};}}var _h=this.hscrollbar;if(_a&&_h&&_h.enable){_f=_h.pos+_c;if(_f<_h._max&&_f>_h._min){if(_e){_e.x=true;}else{_e={x:true};}}}return _e;};_pComponent._getRefFormBaseUrl=function(){if(this._refform){return this._refform._getFormBaseUrl();}};_pComponent._getScreenPosition=function(){var _a=this._control_element;if(_a){var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=nexacro._getElementScreenPosition(_a);var _d=_c.x;var _e=_c.y;return {x:_d,y:_e};}return {x:0,y:0};};_pComponent._getWindowPosition=function(){var _a=this._control_element;if(_a){var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=nexacro._getElementXYInWindow(_a._handle);var _d=_c[0]-(_b?_b._getBorderLeftWidth():0);var _e=_c[1]-(_b?_b._getBorderTopWidth():0);return {x:_d,y:_e};}return {x:0,y:0};};_pComponent._isRtl=function(_a){if(!_a){_a=this;}return _a._rtldirection=="rtl";};_pComponent._setRtlDirection=function(_a){var _b=this.rtldirection;var _c=this._rtldirection;if(_a=="inherit"){var _d=this.parent._rtldirection;if(_c!=_d){_c=_d;}}else if(_c!=_a){if(_b==_a){_c=_a;}else if(!_b||_b=="inherit"){_c=_a;}}if(_c!=this._rtldirection){this._rtldirection=_c;this.on_apply_prop_rtldirection();}};_pComponent._convertLeftForRtlLayout=function(_a,_b){var _c=this._control_element;if(this._isRtl()){_a=_c.client_width-_b-_a;}return _a;};_pComponent._setLocale=function(_a){if(!this.locale){this._locale=_a;this.on_apply_locale();}};_pComponent._getLocale=function(){if(this._locale===undefined){return undefined;}var _a=nexacro.System.locale;var _b=this;while(_b){if(_b._locale){_a=_b._locale;break;}_b=_b.parent;}return _a;};_pComponent._getCumulativeZoomFactor=function(){var _a=this;var _b=100;while(_a&&!(_a instanceof nexacro.Frame)){if(_a.getZoom){var _c=_a.getZoom();if(_c!=100){_b*=(_c/100.0);}}_a=_a.parent;}return _b;};_pComponent._getFixedOffsetValue=function(){var _a=0,_b=0;if(this.right!=null){_a=0;}else if(this.width!=null){var _c=this.width;if(typeof (_c)=="string"&&_c.indexOf("%")>=0){if(parseFloat(_c)<=100){_a=0;}else{_a=this.getOffsetRight();}}else{_a=this.getOffsetRight();}}if(this.bottom!=null){_b=0;}else if(this.height!=null){var _c=this.height;if(typeof (_c)=="string"&&_c.indexOf("%")>=0){if(parseFloat(_c)<=100){_b=0;}else{_b=this.getOffsetBottom();}}else{_b=this.getOffsetBottom();}}return {right:_a,bottom:_b};};_pComponent._setAccessibilityNotifyEvent=function(_a){var _b=this.getElement();if(_b&&_b.accessibility_enable){if(_a!==undefined){this._resetScrollPos(this,this._adjust_left,this._adjust_top,this._adjust_left+this._adjust_width,this._adjust_top+this._adjust_height,(_a>0)?0:1);}_b.setElementAccessibilityNotifyEvent();var _c=this._getForm();if(_c){var _d=_c._getWindow();_d._accessibility_last_focused_comp=this._getRootComponent(this);}return true;}return false;};_pComponent._setAccessibilityInfoByHover=function(){return this._setAccessibilityNotifyEvent();};_pComponent._clearAccessibilityInfoByHover=nexacro._emptyFn;delete _pComponent;}if(!nexacro.PopupComponent){nexacro.PopupComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.visible=false;this._is_window=true;this._attached_comp=null;this._is_subcontrol=true;this._call_comp=null;};var _pPopupComponent=nexacro.PopupComponent.prototype=nexacro._createPrototype(nexacro.Component,nexacro.PopupComponent);_pPopupComponent._type_name="PopupComponent";_pPopupComponent._is_popup_control=true;_pPopupComponent._is_selfclose=true;_pPopupComponent._default_zindex=nexacro._zindex_popup;_pPopupComponent._track_capture=true;_pPopupComponent.on_create_control_element=function(_a){var _b=this.on_create_popup_control_element(_a);if(_b&&this._default_zindex>0){_b.setElementZIndex(this._default_zindex);}return _b;};_pPopupComponent.on_created=function(_a){if(!this._is_created){nexacro.Component.prototype.on_created.call(this,_a);}var _b=this._control_element;if(!this.visible&&_b){_b.setElementPosition(0,0);_b.setElementSize(1,1);}};_pPopupComponent.destroyComponent=function(){this._is_alive=false;if(this.visible){application._removePopupComponent(this);this.visible=false;}if(nexacro._enableaccessibility){if(application._accessibilityHistoryList&&!this._is_subcontrol){application._remove_accessibility_history(this);}}var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);_a._releaseCaptureLock(this._attached_comp);this._track_capture=false;}if(this._subctrlitems){nexacro._deleteAllSubComponent(this);}if(this._is_subcontrol&&this.parent&&this.parent._subctrlitems){nexacro._deleteSubComponent(this,this.parent);}if(this.parent&&this.parent.removeChild){this.parent.removeChild(this.id);}if(this._control_element){this._control_element.destroy();this._control_element=null;}this._clearEventListeners();this.on_destroy_contents();this._is_created=false;return true;};_pPopupComponent.on_change_containerRect=function(_a,_b){var _c=this._attached_comp;if(_c){var _d=_c._adjust_left;var _e=_c._adjust_top;var _f=_c._adjust_width;var _g=_c._adjust_height;var _h=false,_i=false;var _j=false;_c._adjustPosition(0,0,null,null,_a,_b,this._client_width,this._client_height);if(_c._adjust_width!=_f||_c._adjust_height!=_g){_h=true;if(_f==0||_g==0){_j=true;}}if(_c._adjust_left!=_d||_c._adjust_top!=_e){_i=true;}if(_c._isPopupVisible&&_c._isPopupVisible()){_h=true;}_c.on_update_position(_h,_i);if(_c._control_element){if(_j){_c.currentstyle._empty();_c._control_pseudo="";_c._contents_pseudo="";}var _k=_c._getResultPseudo(_c._status,_c._pseudo);_c._updateControl(_c._control_element,_k);_c._updateContents(_c._control_element,_k);}}};_pPopupComponent._contains=function(_a){while(_a){if(_a==this._attached_comp){return true;}_a=_a.parent;}return false;};_pPopupComponent.set_visible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._control_element;if(_b){_b.setElementVisible(_a);if(this.visible){if(!this._is_subcontrol){if(this.parent._last_focused){this._call_comp=this.parent._last_focused;}else{this._call_comp=this.parent;}}var _c=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_b,_c);this._updateContents(_b,_c);}else{if(this instanceof nexacro.WaitComponent){var _c=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_b,_c);}_b.setElementPosition(0,0);_b.setElementSize(1,1);}if(nexacro._enableaccessibility&&this._attached_comp){this._attached_comp._setAccessibilityStatExpanded(_a);this._attached_comp._setAccessibilityStatHidden(_a);}if(this.visible){nexacro._resetVML(this);}if(this._is_selfclose){if(!_a){var _d=this._attached_comp;if(_d&&_d.on_fire_oncloseup){_d.on_fire_oncloseup(_d);}application._removePopupComponent(this);var _e=this._getWindow();_e._removeFromCurrentFocusPath(this,false);if(!this._is_subcontrol){this._call_comp._on_focus(true);}}else{application._appendPopupComponent(this);}}}}};_pPopupComponent._attach=function(_a){this._attached_comp=_a;nexacro._addSubComponent(this,_a);var _b=this._control_element;if(_a&&_a!=this&&_a._control_element&&_b){var _c=_a._control_element;if(_c){var _d=_c._parent_elem;if(_a._is_created&&_d!=_b){_c._removeFromContainer();}_c._parent_elem=_b;}if(_a._is_created){_c._appendToContainer(_b);}}};_pPopupComponent._detach=function(_a){if(this._attached_comp==_a&&_a!=this){this._attached_comp=null;var _b=this._control_element;var _c=_a._control_element;if(_c&&_b){if(_a._is_created){_c._removeFromContainer();}_c._parent_elem=null;}}};_pPopupComponent._is_popup=function(_a){return this.visible;};_pPopupComponent._popup=function(_a,_b,_c,_d){if(!this._attached_comp){return;}var _e=this._getWindow();if(_e&&this._track_capture){_e._setCaptureLock(this._attached_comp,true,false);}var _f=this._control_element;if(_f){_f.setElementPosition(_a,_b);_f.setElementSize(_c,_d);this._updateClientSize(_f);}this.set_visible(true);};_pPopupComponent._popupBy=function(_a,_b,_c,_d,_e){if(!this._attached_comp||!_a){return;}var _f,_g;var _h=nexacro._getElementPositionInFrame(_a.getElement());var _i=_a.on_find_CurrentStyle_border(_a._pseudo);var _j={x:_h.x,y:_h.y};var _k=this._getWindow();_f=_j.x+_b-(_k?_k._custom_node_left:0);_g=_j.y+_c-(_k?_k._custom_node_top:0);if(_k&&this._track_capture){_k._setCaptureLock(this._attached_comp,true,false);}var _l=this._control_element;if(_l){_l.setElementPosition(_f,_g);_l.setElementSize(_d,_e);this._updateClientSize(_l);}this.set_visible(true);};_pPopupComponent._closePopup=function(){var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this._attached_comp);}this.set_visible(false);};_pPopupComponent._findOwnerElementHandle=function(){var _a={};_a.owner_handle=null;_a.is_append=true;_a.ref_handle=null;var _b=this._getWindow();if(_b){var _c;if(this instanceof nexacro.WaitComponent){_c={};_c.popup_zindex=nexacro._zindex_waitcursor;}else{_c=_b._getComponentLayerInfo(this);}if(_c.is_modal){var _d=_c.frame;var _e=_d._modal_overlay_elem;_a.owner_handle=_e._handle;_a.is_append=true;}else{if(_c.ref_first_modal_frame){var _d=_c.ref_first_modal_frame;_a.owner_handle=_b._dest_handle;_a.is_append=false;_a.ref_handle=_d._modal_overlay_elem._handle;}else{_a.owner_handle=_b._dest_handle;_a._is_append=true;}}}return _a;};delete _pPopupComponent;}if(!nexacro.WaitComponent){nexacro.WaitComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.visible=false;this._img_elem=null;this._image_width=0;this._image_height=0;this._context_list=[];this._is_subcontrol=false;this._is_focus_accept=false;};var _pWaitComponent=nexacro.WaitComponent.prototype=nexacro._createPrototype(nexacro.PopupComponent,nexacro.WaitComponent);_pWaitComponent._type_name="WaitComponent";_pWaitComponent._is_popup_control=true;_pWaitComponent._is_selfclose=false;_pWaitComponent._default_zindex=nexacro._zindex_waitcursor;_pWaitComponent.on_create_contents=function(){var _a=this.getElement();if(_a){this._img_elem=new nexacro.ImageElement(_a);}};_pWaitComponent.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._img_elem;if(_b){_b.setElementVisible(true);_b.create();}}if(nexacro._enableaccessibility){var _c=this.currentstyle;var _d=nexacro.Component._default_accessibility;if(_d&&_d!=_c.accessibility){_c.accessibility=this._make_accessibility_value(_d);_a.setAccessibility(_c.accessibility);}}};_pWaitComponent.on_change_containerRect=function(_a,_b){var _c=this._img_elem;if(_c){var _d=Math.round((_a-this._image_width)/2);var _e=Math.round((_b-this._image_height)/2);_c.setElementPosition(_d,_e);_c.setElementSize(this._image_width,this._image_height);}};_pWaitComponent._getAccessibilityLabel=function(_a){return "Wait Cursor";};_pWaitComponent._on_loadimage=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this._img_elem;if(_d&&_b>0&&_c>0){this._image_width=_b;this._image_height=_c;var _e=this._adjust_width;var _f=this._adjust_height;var _g=Math.round((_e-_b)/2);var _h=Math.round((_f-_c)/2);_d.setElementPosition(_g,_h);_d.setElementSize(_b,_c);_d.setElementImageUrl(_a);}};_pWaitComponent.setImage=function(_a){var _b=this._img_elem;if(_b){var _c=nexacro._getImageSize(_a,this._on_loadimage,this);if(_c){this._image_width=_c.width;this._image_height=_c.height;var _d=this._adjust_width;var _e=this._adjust_height;var _f=Math.round((_d-_c.width)/2);var _g=Math.round((_e-_c.height)/2);_b.setElementPosition(_f,_g);_b.setElementSize(_c.width,_c.height);_b.setElementImageUrl(_a);}}};_pWaitComponent._updateControl=function(_a,_b){if(_a){this._control_pseudo=_b;if(this._control_pseudo!=_b){if(nexacro.Browser=="Runtime"){var _c=nexacro._getCachedStyleObj("background","#ffffff01");_a.setElementBackground(_c,null);}}return true;}return false;};_pWaitComponent.on_destroy_contents=function(){if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}};_pWaitComponent.show=function(){if(!this._is_created||!this.parent){return;}var _a=this._getWindow();if(_a){var _b,_c,_d,_e;_b=_a.getLeft();_c=_a.getTop();if(_a.frame){var _f=_a.frame;_d=_f.getOffsetWidth();_e=_f.getOffsetHeight();}else{_d=_a.getClientWidth();_e=_a.getClientHeight();}_a._setCaptureLock(this,true,true);this._adjustPosition(0,0,null,null,_d,_e,_d,_e);this.on_update_position(true,true);var _g=this._control_element;if(_g){_g.setElementPosition(0,0);_g.setElementSize(_d,_e);this._updateClientSize(_g);var _h=nexacro.Component._wait_cursor;var _i=this.currentstyle;if(_h&&_i.cursor!=_h){_i.cursor=_h;_g.setElementCursor(_h);}}this.set_visible(true);}};_pWaitComponent.hide=function(){var _a=this._getWindow();if(_a){_a._releaseCaptureLock(this);var _b=this._control_element;if(_b){_b.setElementSize(1,1);this._updateClientSize(_b);}}if(this._is_created&&this._is_alive){var _c=this.parent;while(_c){if(_c._is_form){break;}_c=_c._last_focused;}this.set_visible(false);var _d=nexacro._getHoverElement(_a);var _e=_a.findComponent(_d,0,0)[0];if(_c){var _f=_c._last_focused;if(_f){var _g;if(_c._obj_mousemove&&(_c._obj_mousemove!=_f)){_f._on_afterHideWaitComp("normal");if(_c._obj_mousemove instanceof nexacro.WaitComponent){_g=nexacro._getCachedStyleObj("cursor","arrow");}else{_g=_c._obj_mousemove.currentstyle.cursor;}}else{var _h=false;var _i=_e;while(_i){if(_i==_f){_h=true;break;}_i=_i.parent;}if(_h){_f._on_afterHideWaitComp(_f._pseudo);_g=_f.currentstyle?_f.currentstyle.cursor:null;}else{_f._on_afterHideWaitComp("normal");if(_e){_e._on_afterHideWaitComp("mouseover");_g=_e?_e.currentstyle?_e.currentstyle.cursor:null:null;}}}var _j=this.currentstyle;if(_g!=_j.cursor){_j.cursor=_g;this._control_element.setElementCursor(_g);}}else{_g=_e?_e.currentstyle?_e.currentstyle.cursor:null:null;var _j=this.currentstyle;if(_g!=_j.cursor){_j.cursor=_g;this._control_element.setElementCursor(_g);}}}}};_pWaitComponent._addContext=function(_a){if(_a){this._context_list.push(_a);}};_pWaitComponent._removeContext=function(_a){if(!_a){return;}var _b=nexacro._indexOf(this._context_list,_a);if(_b>=0){this._context_list[_b]=null;delete this._context_list[_b];this._context_list.shift();}};_pWaitComponent.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return true;};_pWaitComponent._on_keydown=function(_a,_b,_c,_d,_e){if(_b==nexacro.Event.KEY_TAB){_a._event_stop=true;}else if(_b==nexacro.Event.KEY_ESC){var _f=this._context_list;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){var _i=_f[_h];if(_i instanceof nexacro.Form){_i._stopTransaction();}}}return true;};delete _pWaitComponent;}if(!nexacro.CanvasComponent){nexacro.CanvasComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.id=this.name=_a||null;this.enableevent=false;this._apply_client_padding=false;this._canvas=null;this._drawn=false;this._control_element=null;this._inner_elem=null;};var _pCanvasComponent=nexacro._createPrototype(nexacro.Component,nexacro.CanvasComponent);nexacro.CanvasComponent.prototype=_pCanvasComponent;_pCanvasComponent._type_name="CanvasComp";_pCanvasComponent.on_create_contents=function(){var _a=this.getElement();var _b=new nexacro.CanvasElement(_a);if(_b){_b.setElementPosition(0,0);_b.setElementSize(this._client_width,this._client_height);}this._canvas=_b;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pCanvasComponent.on_created_contents=function(){var _a=this._canvas;if(_a){_a.create();}this.ondraw(_a);};}else{_pCanvasComponent.on_created_contents=function(){var _a=this._canvas;if(_a){_a.create();}this.ondraw(_a);};}_pCanvasComponent._initInner=function(){this.on_apply_pseudo();this.on_apply_custom_pseudo();};_pCanvasComponent.on_destroy_contents=function(){if(this._canvas){this._canvas.destroy();this._canvas=null;}};_pCanvasComponent.on_change_containerRect=function(_a,_b){if(this._canvas){this._canvas._moveCanvas(0,0,_a,_b);this._drawn=false;this.ondraw(this._canvas);}};_pCanvasComponent.ondraw=function(_a){};_pCanvasComponent.redraw=function(){this.ondraw(this._canvas);};delete _pCanvasComponent;nexacro.CanvasCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pCanvasCtrl=nexacro.CanvasCtrl.prototype=nexacro._createPrototype(nexacro.CanvasComponent,nexacro.CanvasCtrl);nexacro._setForControlStyleFinder(_pCanvasCtrl);delete _pCanvasCtrl;}if(nexacro.Component){var _pComponent=nexacro.Component.prototype;_pComponent._resetScrollPos=function(_a,_b,_c,_d,_e,_f){if(this._is_frame){return;}if(!this._is_popup_control&&this.parent&&this.parent!=this){this.parent._resetScrollPos(this,_b,_c,_d,_e,_f);}};_pComponent._getSameParent=function(_a){if(!_a){return;}var _b=this.parent;var _c=0;var _d=[];while(_b){_c=nexacro._indexOf(_a,_b);_d.push(_b);if(_c> -1||_b._is_window||(_b._is_frame&&(_b._window_type==1||_b._window_type==4))){return [_d,_c];}_b=_b.parent;}};_pComponent._setLastFocus=function(_a){if(_a&&!_a._is_popup_control){if(_a&&nexacro._enableaccessibility&&nexacro._accessibilitytype==5){_a._setAccessibilityNotifyEvent();}if(this==_a){this._last_focused=null;return;}var _b=this;while(_b&&_b._is_form){_b._last_focused=_a;_a=_b;_b=_b.parent;}}};_pComponent._getTabOrderFirst=function(){return null;};_pComponent._setCurFocusPathsByCurPos=function(_a,_b){var _c=_b?_b:this._getRootWindow();var _d=[];var _e=_a.parent;_c.clearCurrentFocusPaths();if(_c.frame==_a){return;}while(_e){_d.push(_e);if(_e==_c.frame||(_e._is_frame&&(_e._window_type==1||_e._window_type==4))){break;}_e=_e.parent;}for(var _f=_d.length;_f>0;_f-- ){_c.addCurrentFocusPaths(_d[_f-1]);}};_pComponent._getRecalcCanvasXY=function(_a,_b,_c){_b+=this._adjust_left-this._scroll_left||0;_c+=this._adjust_top-this._scroll_top||0;var _d=this._getWindow();var _e=this.currentstyle;var _f=_d.findComponent(_a);if(_f!=this){if(_e&&_e.padding){_b+=_e.padding.left;_c+=_e.padding.top;}}return [_b,_c];};_pComponent._getClientXY=function(_a,_b){var _c=0,_d=0,_e=0,_f=0,_g=this.currentstyle;if(_g){if(_g.border){_d=_g.border._top_width;_c=_g.border._left_width||_g.border._top_width;}}var _h=_a-_c;var _i=_b-_d;return [_h,_i];};_pComponent._isParentdefaultprevented=function(_a,_b){var _c=_a.parent;while(_c){if(!_c._getFromComponent){return false;}var _d=_c._getFromComponent(_c);var _e=_d["on"+_b];if(!_e||(_e&&!_e.defaultprevented)){_c=_c.parent;if(_d instanceof nexacro.MainFrame){return false;}}else{return true;}}return false;};_pComponent._setfocusing_comp=null;_pComponent._on_focus=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive||!this.visible||!this._isEnable()){return;}var _g=this._getRootWindow();if(_a){var _h=_g.getCurrentFocusPaths();var _i=this;while(_i&&_i._is_nc_control){_i=_i.parent;}if(!_i){return;}var _j= -1;if(_h){_j=nexacro._indexOf(_h,_i);}if(_j> -1){if(_j==_h.length-1){if(this._getTabOrderFirst()==null){if(_g._is_active_window==false){_g._on_sys_activate();}return;}}else{if(!(this instanceof nexacro.PopupDiv)){return;}}}if(_i._isFocusAcceptable()==false){return;}var _k=this;var _e=this._getRootComponent(_i);var _l=null;if(_h&&_h.length){_l=_i._getSameParent(_h);}if(_l){var _m=_l[1];var _n=_h[_h.length-1];var _o=this._getRootComponent(_n);var _p=_h.slice(_m+1);_p=_p.reverse();var _q=_l[0];if(_q&&(_q.length>0)){var _r;for(var _s=0,_t=_q.length;_s<_t;_s++ ){_r=_q[_s];if(_r&&_r._isFocusAcceptable()==false){return;}}}var _u;if(_q&&(_q.length>1)){var _r,_v;for(var _s=0,_t=_q.length;_s<_t;_s++ ){_r=_q[_s];if(_r&&_r.components){_r._last_focused=(_v?_v:_i);}_v=_r;}}else{if(_i.parent&&_i.parent.components){_i.parent._last_focused=_i;}}if(_p&&_p.length>0){for(var _s=0,_t=_p.length;_s<_t;_s++ ){_u=_p[_s];if(_u&&_u._is_alive&&!_u._is_killfocusing){_u._is_killfocusing=true;var _w=_g.getCurrentFocusPaths().slice(0);_g._removeFromCurrentFocusPath(_u,false,_e,_k);if(_u.enableevent){_g._setfocusing_comp=_e;var _x=_g.getCurrentFocusPaths().slice(0);_u.on_fire_onkillfocus(_e,_k);var _y=_g.getCurrentFocusPaths();var _z=(_x.length!=_y.length);if(!_z){for(var _aa=0;_aa<_x.length;_aa++ ){if(_x[_aa]!=_y[_aa]||(_w.length==_x.length&&_w[_aa]==_x[_aa])||(_w.length!=_x.length&&_w[_aa]!=_x[_aa])){_z=true;break;}}}if(_z){_u._is_killfocusing=false;return;}}_u._is_killfocusing=false;}}}if(_q&&(_q.length>1)){var _ab=_q[_q.length-2];_i._setCurFocusPathsByCurPos(_ab,_g);_ab._on_focus(false,_b,_o,_n,_e,_k);}else{_i._setCurFocusPathsByCurPos(_i,_g);_i._on_focus(false,_b,_o,_n,_e,_k);}}else{_i._setCurFocusPathsByCurPos(_i,_g);_i._on_focus(false,_b,_c,_d);}}else{var _ac=this._getLastFocused();if(!_ac||(_ac&&(!_ac.visible||!_ac.enable))){var _ad=nexacro._enableaccessibility;_ac=this._getTabOrderFirst(_ad);}if(_ac&&_ac.visible&&!this._block_inner_focus){if(_g._is_active_window!==false){if(this._pseudo=="pushed"){this._stat_change("focus","pushed");}else{this._stat_change("focus","focused");}}{var _ae=_g.getCurrentFocusPaths();var _x=null;if(_ae){_x=_ae.slice(0);}if(!this._is_comp_focus){this.on_fire_onsetfocus(_c,_d);}if(_ae){var _y=_g.getCurrentFocusPaths();var _z=(_x.length!=_y.length);if(!_z){for(var _aa=0;_aa<_x.length;_aa++ ){if(_x[_aa]!=_y[_aa]){_z=true;break;}}}if(_z){return;}}}this._setLastFocus(_ac);_g.addCurrentFocusPaths(this);_ac._on_focus(false,_b,_c,_d,_e,_f);}else{var _af;if(_f&&this!=_f){var _ag=_f;while(_ag&&!(_ag._is_window)){if(_ag==this){_af=true;break;}_ag=_ag.parent;}}if(_b=="lbuttondown"&&_af==true){this._stat_change("focus","mouseover");}else{if(_g._is_active_window!==false){if(this._pseudo=="pushed"){this._stat_change("focus","pushed");}else{this._stat_change("focus","focused");}}}{var _ae=_g.getCurrentFocusPaths();var _x=null;if(_ae){_x=_ae.slice(0);}this.on_fire_onsetfocus(_c,_d);if(_ae){var _y=_g.getCurrentFocusPaths();var _z=(_x.length!=_y.length);if(!_z){for(var _aa=0;_aa<_x.length;_aa++ ){if(_x[_aa]!=_y[_aa]){_z=true;break;}}}if(_z){return;}}}if(nexacro._enableaccessibility){this._setAccessibilityStatFocus(_b);}this._setLastFocus(this);_g.addCurrentFocusPaths(this);this.on_apply_custom_setfocus(_b);if(_af){var _ah=null;_ag=_f;while(_ag&&this!=_ag){if(_ag instanceof nexacro.Form){break;}_ah=_ag;_ag=_ag.parent;}if(_ah&&!_ah._is_application){_ah._on_focus(false,_b,_c,_d,_e,_f);}}}}};_pComponent._on_activate=function(){if(!this._is_alive){return;}if(!this._isSelected()){this._stat_change("focus","normal");}};_pComponent._on_deactivate=function(){if(!this._is_alive){return;}if(!this._isSelected()){this._stat_change("notfocus","normal");}if(this._on_killfocus){this._on_killfocus(null,null);}};_pComponent._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_j[0],_j[1],this,this);this.on_click_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i);}};_pComponent.on_click_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return;};_pComponent._on_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this._getFromComponent(this);if(!_j.onlbuttonup||(_j.onlbuttonup&&!_j.onlbuttonup.defaultprevented)){if(this.visible&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_ondblclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}}};_pComponent._focus_refer_comp=null;_pComponent._getFromComponent=function(_a){var _b=_a;if(_a._is_subcontrol){_b=this._getRootComponent(_a);}return _b;};_pComponent._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){application._skipDragEventAfterMsgBox=false;var _m=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);var _n=this._getFromComponent(this);if(!_n.onlbuttondown||(_n.onlbuttondown&&!_n.onlbuttondown.defaultprevented)){this.on_lbuttondown_default_action(_a,this._focus_refer_comp,_f,_g);_m=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _m;};_pComponent._on_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){application._skipDragEventAfterMsgBox=false;var _n;if(_m){_n=this._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true,_m);}var _o=this._getFromComponent(this);if(!_o.onlbuttondown||(_o.onlbuttondown&&!_o.onlbuttondown.defaultprevented)){if(_m){this.on_lbuttondown_default_action(_a,this._focus_refer_comp,_f,_g);}_n=this._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false,_m);}return _n;};_pComponent._on_bubble_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}var _o=this._getWindow();if(_j===undefined){var _p;if(!_l){_p=this;_l=this._focus_refer_comp=this;if(!_l._is_reference_control){_l=this._focus_refer_comp=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){if(_n){var _q=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],this,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],this,_l);}}if(_j===false){_j=undefined;}var _r;if(_n){if(this._is_track){_r=false;}if(this._is_repeat){_r=true;}}else{_r=this.on_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}var _r=this.on_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(_r){return;}else if(_r===false){_j=_r;}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _s=this._getRecalcCanvasXY(_a,_f,_g);_f=_s[0];_g=_s[1];if(this._is_subcontrol){return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{if(!_n){nexacro._setDragInfo(_o,_a,_o._curWindowX,_o._curWindowY,null,null);}return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this.visible&&this._isEnable()&&_n){var _q=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],_k,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_q[0],_q[1],_k,_l);}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _s=this._getRecalcCanvasXY(_a,_f,_g);_f=_s[0];_g=_s[1];return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent._on_bubble_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}var _n=this._getWindow();if(_j===undefined){var _o;if(!_l){_o=this;_l=this._focus_refer_comp=this;if(!_l._is_reference_control){_l=this._focus_refer_comp=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _p=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l);}if(_j===false){_j=undefined;}if(_m){var _q=this.on_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(_q){return;}}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_f,_g);_f=_r[0];_g=_r[1];if(this._is_subcontrol){return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else{nexacro._setDragInfo(_n,_a,_n._curWindowX,_n._curWindowY,null,null);return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){var _p=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l);}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_f,_g);_f=_r[0];_g=_r[1];return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m);}}};_pComponent.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._getWindow();if(_l===this){if(this._apply_pushed_pseudo){this._stat_change("push","pushed");this._is_pushed_area=true;this._is_push=true;}}if(this._is_track){nexacro._setTrackInfo(_n,this,_n._curWindowX,_n._curWindowY);return false;}if(this._is_repeat){nexacro._setRepeatInfo(this,_n,_l,_n._curWindowX,_n._curWindowY,_f,_g);return true;}};_pComponent.on_lbuttondown_default_action=function(_a,_b,_c,_d){var _e=this._getWindow();if(this.visible&&this._isEnable()&&_b){_b._on_focus(true,"lbuttondown");}else{var _f=_e._findComponentForEvent(_a,0,0);if(_f&&_f[0]){_f[0]._on_focus(true,"lbuttondown");}}};_pComponent._on_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);var _n=this._getFromComponent(this);if(_n&&(!_n.onrbuttondown||(_n.onrbuttondown&&!_n.onrbuttondown.defaultprevented))){this.on_rbuttondown_default_action();_m=this._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _m;};_pComponent._on_bubble_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}else{_j=this.on_fire_sys_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}if(_j===false){_j=undefined;}}if((!this.onrbuttondown||(this.onrbuttondown&&!this.onrbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else{return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}else{_j=this.on_fire_sys_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}}if((!this.onrbuttondown||(this.onrbuttondown&&!this.onrbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m);}}};_pComponent.on_rbuttondown_default_action=function(){};_pComponent._lbuttonup_first_comp=null;_pComponent._lbuttonup_event_bubbles=undefined;_pComponent._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);var _o=this._getFromComponent(this);if(_o&&(!_o.onlbuttonup||(_o.onlbuttonup&&!_o.onlbuttonup.defaultprevented))){this.on_lbuttonup_default_action();_n=this._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_touch_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n;var _o=this._getFromComponent(this);if(_o&&(!_o.onlbuttonup||(_o.onlbuttonup&&!_o.onlbuttonup.defaultprevented))){_n=this._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_touch_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_j===undefined){this._lbuttonup_event_bubbles=undefined;if(!_l){this._lbuttonup_first_comp=this;_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}this.on_lbuttonup_basic_action();if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{return this.parent._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{this._lbuttonup_event_bubbles=_j;if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_touch_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_j===undefined){this._lbuttonup_event_bubbles=undefined;if(!_l){this._lbuttonup_first_comp=this;_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(_n){this.on_lbuttonup_basic_action();}if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}else{_j=this.on_fire_sys_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}if(_j===false){_j=undefined;}}if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{this._lbuttonup_event_bubbles=_j;if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}else{_j=this.on_fire_sys_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}}if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_lbuttonup_basic_action=function(){if(this._apply_pushed_pseudo){this._is_push=false;if(this._is_pushed_area){if(nexacro.isTouchInteraction){this._stat_change("notpush","normal");}else{this._stat_change("notpush","mouseover");}this._is_pushed_area=false;}}};_pComponent.on_lbuttonup_default_action=function(){};_pComponent._on_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);var _o=this._getFromComponent(this);if(_o&&(!_o.onrbuttonup||(_o.onrbuttonup&&!_o.onrbuttonup.defaultprevented))){this.on_rbuttonup_default_action();_n=this._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}else{_j=this.on_fire_sys_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}if(_j===false){_j=undefined;}}if((!this.onrbuttonup||(this.onrbuttonup&&!this.onrbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}else{_j=this.on_fire_sys_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}}if((!this.onrbuttonup||(this.onrbuttonup&&!this.onrbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_rbuttonup_default_action=function(){};_pComponent._on_mouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);if(!this._is_alive){return _n;}var _o=this._getFromComponent(this);if(_o&&(!_o.onmouseup||(_o.onmouseup&&!_o.onmouseup.defaultprevented))){this.on_mouseup_default_action();_n=this._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_mouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}else{_j=this.on_fire_sys_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_m);}if(_j===false){_j=undefined;}}if((!this.onmouseup||(this.onmouseup&&!this.onmouseup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _o=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}else{_j=this.on_fire_sys_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_m);}}if((!this.onmouseup||(this.onmouseup&&!this.onmouseup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,false,_k,_l,_m,_n);}}};_pComponent.on_mouseup_default_action=function(){};_pComponent._on_mousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);if(!this._is_alive){return _m;}var _n=this._getFromComponent(this);if(!_n.onmousedown||(_n.onmousedown&&!_n.onmousedown.defaultprevented)){this.on_mousedown_default_action();_m=this._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _m;};_pComponent._on_bubble_mousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}else{_j=this.on_fire_sys_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}if(_j===false){_j=undefined;}}if((!this.onmousedown||(this.onmousedown&&!this.onmousedown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else{return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}else{_j=this.on_fire_sys_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}}if((!this.onmousedown||(this.onmousedown&&!this.onmousedown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,false,_k,_l,_m);}}};_pComponent.on_mousedown_default_action=function(){};_pComponent._on_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(application._current_popups.length>0){var _o=this._getWindow();var _p=_o.findComponent(_a,0,0);if(_p&&_p[0]){var _q=application._current_popups[0];if(_q._track_capture&&!_q._contains(_p[0])){return;}}}if(!this._is_created){return;}var _m=this._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);if(!this._is_alive){return _m;}var _n=this._getFromComponent(this);if(!_n.onmousemove||(_n.onmousemove&&!_n.onmousemove.defaultprevented)){this.on_mousemove_default_action();_m=this._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);}return _m;};_pComponent._on_bubble_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}if(this.visible&&this._isEnable()){if(_m){this.on_mousemove_basic_action();}var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}else{_j=this.on_fire_sys_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l);}if(_j===false){_j=undefined;}}if(this.parent){this.parent._overedobj=this;}if((!this.onmousemove||(this.onmousemove&&!this.onmousemove.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m);}else{return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}else{if(this.visible&&this._isEnable()){if(_m){this.on_mousemove_basic_action();}var _n=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}else{_j=this.on_fire_sys_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],_k,_l);}}if(this.parent){this.parent._overedobj=this;}if((!this.onmousemove||(this.onmousemove&&!this.onmousemove.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){var _o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,false,_k,_l,_m);}}};_pComponent.on_mousemove_basic_action=function(){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else{if(!nexacro.isTouchInteraction){this._stat_change("","mouseover");if(this._dragging_cursor){this._dragging_cursor=null;var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this._updateCursor(_a);}}}};_pComponent.on_mousemove_default_action=function(){};_pComponent._mouseenter_event_bubbles=undefined;_pComponent._on_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(application._current_popups.length>0){var _p=this._getWindow();var _q=_p.findComponent(_a,0,0);if(_q&&_q[0]){var _r=application._current_popups[0];if(_r._track_capture&&!_r._contains(_q[0])){return;}}}if(!this._is_created){return;}var _n=this._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);if(!this._is_alive){return _n;}var _o=this._getFromComponent(this);if(!_o.onmouseenter||(_o.onmouseenter&&!_o.onmouseenter.defaultprevented)){this.on_mouseenter_default_action();_n=this._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_k===undefined){var _o;var _p=this._is_subcontrol?true:false;if(!_m){_o=this;_m=this;if(!_m._is_reference_control){_m=this._getReferenceComponent(_m);}}if(this.visible&&this._isEnable()){if(_p){if(_b&&this._contains(_b)){return true;}if(_o==this){var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}if(_k===false){_k=undefined;}}}else{_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return true;}var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}}}if((!this.onmouseenter||(this.onmouseenter&&!this.onmouseenter.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];if(_p){return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,null,_m,_n);}else{return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,this,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}}if((!this.onmouseenter||(this.onmouseenter&&!this.onmouseenter.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,false,_i,_j,_l,_m,_n);}}};_pComponent.on_mouseenter_default_action=function(){};_pComponent._on_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(application._current_popups.length>0){var _p=this._getWindow();var _q=_p.findComponent(_a,0,0);if(_q&&_q[0]){var _r=application._current_popups[0];if(_r._track_capture&&!_r._contains(_q[0])){return;}}}var _n=this._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true);if(!this._is_alive){return _n;}var _o=this._getFromComponent(this);if(!_o.onmouseleave||(_o.onmouseleave&&!_o.onmouseleave.defaultprevented)){this.on_mouseleave_default_action(_b);_n=this._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false);}return _n;};_pComponent._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(_k===undefined){var _o;var _p=this._is_subcontrol?true:false;if(!_m){_o=this;_m=this;if(!_m._is_reference_control){_m=this._getReferenceComponent(_m);}}if(this.visible&&this._isEnable()){this.on_mouseleave_basic_action(_p);if(_p){if(_b&&this._contains(_b)){return true;}if(_o==this){var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}if(_k===false){_k=undefined;}}}else{_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return true;}var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],this,_m);}}}if((!this.onmouseleave||(this.onmouseleave&&!this.onmouseleave.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];if(_p){return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,null,_m,_n);}else{return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,this,_m,_n);}}}else{if(this.visible&&this._isEnable()){var _q=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_q[0],_q[1],_l,_m);}}if((!this.onmouseleave||(this.onmouseleave&&!this.onmouseleave.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){var _r=this._getRecalcCanvasXY(_a,_g,_h);_g=_r[0];_h=_r[1];return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,_l,_m,_n);}}};_pComponent._isSelected=function(){return this._selected;};_pComponent.on_mouseleave_basic_action=function(_a){if(_a){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else if(!this._isSelected()){var _b=this;var _c=true;while(_b){if(_b._is_alive==false){_c=false;break;}_b=_b.parent;}if(_c){this._stat_change("","normal");}}}else{if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else if(this._isSelected()){this._stat_change("select","selected");}else{this._stat_change("","normal");}}};_pComponent.on_mouseleave_default_action=function(_a){};_pComponent._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){return this._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);};_pComponent._on_bubble_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}if(_l===undefined){if(!_n){_n=this;if(!_n._is_reference_control){_n=this._getReferenceComponent(_n);}}if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[1],this,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[1],this,_n);if(_r){return false;}if(this.vscrollbar&&this.vscrollbar.enable&&this.vscrollbar.visible){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(this.hscrollbar&&this.hscrollbar.enable&&this.hscrollbar.visible){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}if(_l===false){_l=undefined;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){var _y=this._getRecalcCanvasXY(_a,_h,_i);_h=_y[0];_i=_y[1];if(this._is_subcontrol){return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,null,_n,_o);}else{return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,this,_n,_o);}}}}}}else{if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);if(_r){return false;}if(this.vscrollbar&&this.vscrollbar.enable&&this.vscrollbar.visible){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OS=="Mac OS"){if(this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){var _y=this._getRecalcCanvasXY(_a,_h,_i);_h=_y[0];_i=_y[1];return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,_m,_n,_o);}}}}}};_pComponent._setVScrollDefaultAction=function(_a,_b){_a._setPos(_a.pos-_b,"mousewheel");};_pComponent._setHScrollDefaultAction=function(_a,_b){_a._setPos(_a.pos-_b,"mousewheel");};_pComponent.on_mousewheel_default_action=function(){};_pComponent._init_drag_info=function(){nexacro._cur_drag_info=null;};_pComponent._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(application._skipDragEventAfterMsgBox){this._init_drag_info();return false;}var _m=this._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);var _n=this._getFromComponent(this);if(_n&&(_n.ondrag&&_n.ondrag.defaultprevented)){this._init_drag_info();}return _m;};_pComponent._on_bubble_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(_j===undefined){var _m;if(!_l){_l=this;if(!_l._is_reference_control){_l=this._getReferenceComponent(_l);}}var _n=this._getFromComponent(this);if(this._is_subcontrol){_m=true;}else{_m=false;var _o=this._getClientXY(_f,_g);_j=this.on_fire_user_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_l);if(!_j||_j[0]!==true){if(!this.ondrag||(_n.ondrag&&!_n.ondrag.defaultprevented)){this.on_fire_sys_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_l);}}}if((!_j||_j[0]!==true)){if((!_n.ondrag||(_n.ondrag&&!_n.ondrag.stoppropagation))&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(_m){return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l);}else{return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l);}}}return _j;}else{if((!_j||_j[0]!==true)&&this.parent&&!this.parent._is_application){var _o=this._getClientXY(_f,_g);_j=this.on_fire_user_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,this);if(!_j||_j[0]!==true){var _n=this._getFromComponent(this);if(!_n.ondrag||(_n.ondrag&&!_n.ondrag.defaultprevented)){this.on_fire_sys_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,this);}if((!_n.ondrag||(_n.ondrag&&!_n.ondrag.stoppropagation))&&this.parent&&!this.parent._is_application){var _p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l);}}}return _j;}};_pComponent.on_drag_default_action=function(){};_pComponent._on_drop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){var _q=_b?_b._input_element:null;if(_q&&_q.enable){var _t=_q._parent_elem.linkedcontrol._edit_base_api._is_selected();if(_c==this&&(!_t||_d==null||_d==undefined||_d=="")){return;}}var _r=this._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,true);if(!this._is_alive){return;}var _s=this._getFromComponent(this);if(!_s.ondrop||(_s.ondrop&&!_s.ondrop.defaultprevented)){this.on_drop_default_action();_r=this._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false);}return _r;};_pComponent._on_bubble_drop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){if(!this._is_alive){return;}if(_n===undefined){var _r;if(!_p){_p=this;if(!_p._is_reference_control){_p=this._getReferenceComponent(_p);}}if(this.visible&&this._isEnable()){this.on_drop_basic_action();var _s=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],this,_p);}else{_n=this.on_fire_sys_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],this,_p);}}if((!this.ondrop||(this.ondrop&&!this.ondrop.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _t=this._getRecalcCanvasXY(_a,_j,_k);_j=_t[0];_k=_t[1];if(this._is_subcontrol){return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,null,_p,_q);}else{return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,this,_p,_q);}}}else{if(this.visible&&this._isEnable()){var _s=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],_o,_p);}else{_n=this.on_fire_sys_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],_o,_p);}}if((!this.ondrop||(this.ondrop&&!this.ondrop.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _t=this._getRecalcCanvasXY(_a,_j,_k);_j=_t[0];_k=_t[1];return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,_o,_p,_q);}}};_pComponent.on_drop_basic_action=function(){if(this._dragging_cursor){this._dragging_cursor=null;var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this._updateCursor(_a);}};_pComponent.on_drop_default_action=function(){};_pComponent._on_dragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){var _q=_b?_b._input_element:null;if(_q&&_q.enable){var _t=_q._parent_elem.linkedcontrol._edit_base_api._is_selected();if(!_t||_d==null||_d==undefined||_d==""){return;}}var _r=this._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,true);var _s=this._getFromComponent(this);if(!_s.ondragmove||(_s.ondragmove&&!_s.ondragmove.defaultprevented)){this.on_dragmove_default_action();_r=this._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false);}else if(_s.ondragmove&&_s.ondragmove.defaultprevented){this._init_drag_info();}return _r;};_pComponent._on_bubble_dragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){if(!this._is_alive){return;}if(_n===undefined){var _r;if(!_p){_p=this;if(!_p._is_reference_control){_p=this._getReferenceComponent(_p);}}if(this._is_subcontrol){_r=true;this.on_dragmove_basic_action();}else{_r=false;if(this.visible&&this._isEnable()){this.on_dragmove_basic_action();var _s=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],this,_p);}else{_n=this.on_fire_sys_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],this,_p);}}}if((!this.ondragmove||(this.ondragmove&&!this.ondragmove.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _t=this._getRecalcCanvasXY(_a,_j,_k);_j=_t[0];_k=_t[1];if(this.parent instanceof nexacro.Form){_j-=this.parent._control_element.scroll_left;_k-=this.parent._control_element.scroll_top;}if(_r){return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,null,_p,_q);}else{return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,this,_p,_q);}}}else{if(this.visible&&this._isEnable()){var _s=this._getClientXY(_j,_k);if(_q){_n=this.on_fire_user_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],_o,_p);}else{_n=this.on_fire_sys_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_j,_k,_s[0],_s[1],_o,_p);}}if((!this.ondragmove||(this.ondragmove&&!this.ondragmove.stoppropagation))&&_n!==true&&this.parent&&!this.parent._is_application){var _t=this._getRecalcCanvasXY(_a,_j,_k);_j=_t[0];_k=_t[1];return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,_o,_p,_q);}}};_pComponent.on_dragmove_basic_action=function(){var _a=nexacro._cur_drag_info;var _b=this._getWindow();if(_a&&_a.targetwin==_b){var _c=_a.target;if(_c&&_c!=this){var _d=_c.on_find_CurrentStyle_cursor(_c._pseudo);this._updateCursor(_d);this._dragging_cursor=_d;}}};_pComponent.on_dragmove_default_action=function(){};_pComponent._on_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r=_c?_c._input_element:null;if(_r&&_r.enable){var _u=_r._parent_elem.linkedcontrol._edit_base_api._is_selected();if(!_u||_e==null||_e==undefined||_e==""){return;}}var _s=this._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,true);var _t=this._getFromComponent(this);if(!_t.ondragenter||(_t.ondragenter&&!_t.ondragenter.defaultprevented)){this.on_dragenter_default_action();_s=this._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,false);}else if(_t.ondragenter&&_t.ondragenter.defaultprevented){this._init_drag_info();}return _s;};_pComponent._on_bubble_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){this._dragenter_first_comp=this;_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_b==this){this.on_dragenter_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragenter_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else{return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,this,_q,_r);}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}this._stat_change("","mouseover");}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pComponent.on_dragenter_basic_action=function(){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else{this._stat_change("","mouseover");}};_pComponent.on_dragenter_default_action=function(_a){};_pComponent._on_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r=_c?_c._input_element:null;if(_r&&_r.enable){var _u=_r._parent_elem.linkedcontrol._edit_base_api._is_selected();if(!_u||_e==null||_e==undefined||_e==""){return;}}var _s=this._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,true);var _t=this._getFromComponent(this);if(!_t.ondragleave||(_t.ondragleave&&!_t.ondragleave.defaultprevented)){this.on_dragleave_default_action();_s=this._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,false);}return _s;};_pComponent._on_bubble_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_p==this){this.on_dragleave_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragleave_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else{return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,this,_q,_r);}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}if(!_b||!this._contains(_b)){this._stat_change("","normal");}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pComponent.on_dragleave_basic_action=function(){if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("notpush","normal");this._is_pushed_area=false;}else{this._stat_change("","normal");}};_pComponent.on_dragleave_default_action=function(){};_pComponent._on_keydown=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._on_bubble_keydown(_a,_b,_c,_d,_e,_f,_g,_h,true);if(!this._is_alive){return _i;}var _j=this._getFromComponent(this);if(!_j.onkeydown||(_j.onkeydown&&!_j.onkeydown.defaultprevented)){this.on_keydown_default_action();_i=this._on_bubble_keydown(_a,_b,_c,_d,_e,_f,_g,_h,false);}return _i;};_pComponent._on_bubble_keydown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;if(!_h._is_reference_control){_h=this._getReferenceComponent(_h);}}if(this.visible&&this._isEnable()){if(_i&&!this._is_hotkey){_f=this.on_fire_user_onkeydown(_b,_c,_d,_e,this,_h);}else{_f=this.on_fire_sys_onkeydown(_b,_c,_d,_e,this,_h);this._is_hotkey=false;}if(_f===false){_f=undefined;}}if((!this.onkeydown||(this.onkeydown&&!this.onkeydown.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()){if(_i){_f=this.on_fire_user_onkeydown(_b,_c,_d,_e,_g,_h);}else{_f=this.on_fire_sys_onkeydown(_b,_c,_d,_e,_g,_h);}}if((!this.onkeydown||(this.onkeydown&&!this.onkeydown.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_keydown_default_action=function(){};_pComponent._on_keyup=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_b==nexacro.Event.KEY_TAB&&!this._is_subcontrol){if(!this.acceptstab){return;}}var _i=this._on_bubble_keyup(_a,_b,_c,_d,_e,_f,_g,_h,true);var _j=this._getFromComponent(this);if(_j&&(!_j.onkeyup||(_j.onkeyup&&!_j.onkeyup.defaultprevented))){this.on_keyup_default_action();_i=this._on_bubble_keyup(_a,_b,_c,_d,_e,_f,_g,_h,false);}return _i;};_pComponent._on_bubble_keyup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;if(!_h._is_reference_control){_h=this._getReferenceComponent(_h);}}if(this.visible&&this._isEnable()){if(_i){_f=this.on_fire_user_onkeyup(_b,_c,_d,_e,this,_h);}else{_f=this.on_fire_sys_onkeyup(_b,_c,_d,_e,this,_h);}if(_f===false){_f=undefined;}}if((!this.onkeyup||(this.onkeyup&&!this.onkeyup.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()){if(_i){_f=this.on_fire_user_onkeyup(_b,_c,_d,_e,_g,_h);}else{_f=this.on_fire_sys_onkeyup(_b,_c,_d,_e,_g,_h);}}if((!this.onkeyup||(this.onkeyup&&!this.onkeyup.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_keyup_default_action=function(){};_pComponent._on_keypress=function(_a,_b,_c,_d,_e){};_pComponent._on_contextmenu=function(_a,_b,_c,_d){var _e=this._isEnable();var _f=_e;if(!this._is_alive){return _f;}if(_e){var _g=this._getFromComponent(this);var _h=nexacro.Browser=="Safari"?_g.onrbuttondown:_g.onrbuttonup;if(_h&&_h.defaultprevented){_f=false;}else{_f=this._on_bubble_contextmenu(_b,_c,_d,true);_h=_g.oncontextmenu;if(!_h||(_h&&!_h.defaultprevented)){_f=this._on_bubble_contextmenu(_b,_c,_d,false);}else{_f=false;}}}return _f;};_pComponent._on_bubble_contextmenu=function(_a,_b,_c,_d){var _e=true;if(!this._is_alive){return;}if(_a===undefined){if(!_c){_c=this;if(!_c._is_reference_control){_c=this._getReferenceComponent(_c);}}if(_d){this._on_contextmenu_basic_action();}else{_e=this._on_contextmenu_default_action();}if(this.visible&&this._isEnable()){var _f=_d?this.on_fire_user_oncontextmenu:this.on_fire_sys_oncontextmenu;_a=_f.call(this,this,_c);}if((!this.oncontextmenu||(this.oncontextmenu&&!this.oncontextmenu.stoppropagation))&&(_a!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_contextmenu(_a,null,_c,_d);}else{return this.parent._on_bubble_contextmenu(false,null,_c,_d);}}}else{if(this.visible&&this._isEnable()){var _f=_d?this.on_fire_user_oncontextmenu:this.on_fire_sys_oncontextmenu;_a=_f.call(this,this,_c);}if((!this.oncontextmenu||(this.oncontextmenu&&!this.oncontextmenu.stoppropagation))&&(_a!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_contextmenu(false,_b,_c,_d);}}return _e;};_pComponent._on_contextmenu_basic_action=function(){return;};_pComponent._on_contextmenu_default_action=function(){var _a=this;var _b=_a._type;var _c=application?application.usecontextmenu:"all";if(_c=="all"){if(_a instanceof nexacro.Form||_a instanceof nexacro.Edit||_a instanceof nexacro.MaskEdit||_a instanceof nexacro.TextArea){return true;}return false;}else if(_c=="form"){if(_a instanceof nexacro.Form){return true;}return false;}else if(_c=="edit"){if(_a instanceof nexacro.Edit||_a instanceof nexacro.MaskEdit||_a instanceof nexacro.TextArea){return true;}return false;}else{return false;}};_pComponent._on_touchstart=function(_a,_b,_c,_d,_e,_f){this._on_bubble_touchstart(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);var _h=_g.ontouchstart;if(!_h||(_h&&!_h.defaultprevented)){this._on_bubble_touchstart(_a,_b,_c,_d,_e,_f,false);}};_pComponent._on_bubble_touchstart=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(_d===undefined){if(!_f){_f=this;if(!_f._is_reference_control){_f=this._getReferenceComponent(_f);}}if(_g){this.on_touchstart_basic_action(_a,_c,_f);}else{this.on_touchstart_default_action();}if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){var _h=_g?this.on_fire_user_ontouchstart:this.on_fire_sys_ontouchstart;_d=_h.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchstart(_a,_b,_c,_d,null,_f,_g);}else{var _j="select";if(this.selectscrollmode){if(this.selectscrollmode=="default"){_j=(nexacro.isTouchInteraction)?"scroll":"select";}else{_j=this.selectscrollmode;}}if(_b.length==1&&_j=="select"){var _k=_a._start_win;var _l=_a._start_elem;nexacro._setDragInfo(_k,_l,_k._curWindowX,_k._curWindowY,null,null);}return this.parent._on_bubble_touchstart(_a,_b,_c,false,this,_f,_g);}}}else{if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);var _h=_g?this.on_fire_user_ontouchstart:this.on_fire_sys_ontouchstart;_d=_h.call(this,_b,_c,_e,_f);}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchstart(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchstart_basic_action=function(_a,_b,_c){var _d=_a.getFirstTouchInputInfo(_b);if(_d){if(this._apply_pushed_pseudo){this._stat_change("push","pushed");this._is_pushed_area=true;this._is_push=true;}var _e=_d._elem;if(application._current_popups.length>0){application._checkClosePopupComponent(this,true);}var _f=this._getWindow();if(this._is_track){nexacro._setTrackInfo(_f,this,_f._curWindowX,_f._curWindowY);return false;}if(this._is_repeat){nexacro._setRepeatInfo(this,_f,_c,_f._curWindowX,_f._curWindowY,_b[0].canvasX,_b[0].canvasY);return true;}}};_pComponent.on_touchstart_default_action=function(){};_pComponent._on_touchmove=function(_a,_b,_c,_d,_e,_f){this._on_bubble_touchmove(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);var _h=_g.ontouchmove;if(!_h||(_h&&!_h.defaultprevented)){this._on_bubble_touchmove(_a,_b,_c,_d,_e,_f,false);}};_pComponent._on_bubble_touchmove=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(_d===undefined){if(!_f){_f=this;if(!_f._is_reference_control){_f=this._getReferenceComponent(_f);}}if(_g){this.on_touchmove_basic_action();}else{this.on_touchmove_default_action();}if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){var _h=_g?this.on_fire_user_ontouchmove:this.on_fire_sys_ontouchmove;_d=_h.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}var _i=this.ontouchmove;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchmove(_a,_b,_c,_d,null,_f,_g);}else{return this.parent._on_bubble_touchmove(_a,_b,_c,false,this,_f,_g);}}}else{if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);var _h=_g?this.on_fire_user_ontouchmove:this.on_fire_sys_ontouchmove;_d=_h.call(this,_b,_c,this,_f);}var _i=this.ontouchmove;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchmove(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchmove_basic_action=function(){};_pComponent.on_touchmove_default_action=function(){};_pComponent._on_touchend=function(_a,_b,_c,_d,_e,_f){this._on_bubble_touchend(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);if(_g){var _h=_g.ontouchend;if(!_h||(_h&&!_h.defaultprevented)){this._on_bubble_touchend(_a,_b,_c,_d,_e,_f,false);}if(_h&&_h.defaultprevented){return true;}}};_pComponent._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(_d===undefined){if(!_f){_f=this;if(!_f._is_reference_control){_f=this._getReferenceComponent(_f);}}if(_g){this.on_touchend_basic_action(_a,_c);}else{this.on_touchend_default_action();}if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){var _h=_g?this.on_fire_user_ontouchend:this.on_fire_sys_ontouchend;_d=_h.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchend(_a,_b,_c,_d,null,_f,_g);}else{return this.parent._on_bubble_touchend(_a,_b,_c,false,this,_f,_g);}}}else{if(this.visible&&this._isEnable()&&((_g&&this.enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);var _h=_g?this.on_fire_user_ontouchend:this.on_fire_sys_ontouchend;_d=_h.call(this,_b,_c,this,_f);}var _i=this.ontouchstart;if((!_i||(_i&&!_i.stoppropagation))&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchend(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchend_basic_action=function(_a,_b){var _c=_a.getFirstTouchInputInfo(_b);if(_c){if(this._apply_pushed_pseudo){this._is_push=false;if(this._is_pushed_area){if(nexacro.isTouchInteraction){this._stat_change("notpush","normal");}else{this._stat_change("notpush","mouseover");}this._is_pushed_area=false;}}}};_pComponent.on_touchend_default_action=function(){};_pComponent._on_tap=function(_a,_b,_c,_d,_e,_f,_g,_h){this._on_bubble_tap(_a,_b,_c,_d,_e,_f,_g,_h,true);var _i=this._getFromComponent(this);var _j=_i.ontap;if(!_j||(_j&&!_j.defaultprevented)){this._on_bubble_tap(_a,_b,_c,_d,_e,_f,_g,_h,false);}};_pComponent._on_bubble_tap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){var _j=false;if(!_h){_h=this._focus_refer_comp=this;if(!_h._is_reference_control){_h=this._focus_refer_comp=this._getReferenceComponent(_h);}_j=true;}if(_i){if(_j){this.on_tap_basic_action(_a,_b,_c,_d,_e,_f,_g,_h);}}else{this.on_tap_default_action(_a,_b,_c,_d,_e,_f,_g,_h);}if(this.visible&&this._isEnable()){var _k=this._getClientXY(_b,_c);if(!_i||(_i&&application.enabletouchevent&&this.enableevent)){var _l=_i?this.on_fire_user_ontap:this.on_fire_sys_ontap;_f=_l.call(this,_a,_d,_e,_b,_c,_k[0],_k[1],this,_h);if(_f===false){_f=undefined;}}}var _m=this.ontap;if((!_m||(_m&&!_m.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _n=this._getRecalcCanvasXY(_a,_b,_c);_b=_n[0];_c=_n[1];if(this._is_subcontrol){return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()&&application.enabletouchevent&&this.enableevent){var _k=this._getClientXY(_b,_c);var _l=_i?this.on_fire_user_ontap:this.on_fire_sys_ontap;_f=_l.call(this,_a,_d,_e,_b,_c,_k[0],_k[1],_g,_h);}var _m=this.ontap;if((!_m||(_m&&!_m.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _n=this._getRecalcCanvasXY(_a,_b,_c);_b=_n[0];_c=_n[1];return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._getWindow();if(this.visible&&this._isEnable()&&_h){_h._on_focus(true,"tap");}else{var _j=_i._findComponentForEvent(_a,0,0);if(_j&&_j[0]){_j[0]._on_focus(true,"tap");}}this._on_click(_a,"touch",false,false,false,_b,_c,_d,_e);};_pComponent.on_tap_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_dbltap=function(_a,_b,_c,_d,_e,_f,_g,_h){this._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,_g,_h,true);var _i=this._getFromComponent(this);var _j=_i.ondbltap;if(!_j||(_j&&!_j.defaultprevented)){this._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,_g,_h,false);}};_pComponent._on_bubble_dbltap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;if(!_h._is_reference_control){_h=this._getReferenceComponent(_h);}}if(_i){this.on_dbltap_basic_action(_a,_b,_c,_d,_e,_g,_h);}else{this.on_dbltap_default_action(_a,_b,_c,_d,_e,_g,_h);}if(this.visible&&this._isEnable()){var _j=this._getClientXY(_b,_c);if(!_i||(_i&&application.enabletouchevent&&this.enableevent)){var _k=_i?this.on_fire_user_ondbltap:this.on_fire_sys_ondbltap;_f=_k.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],this,_h);if(_f===false){_f=undefined;}}}var _l=this.ondbltap;if((!_l||(_l&&!_l.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _m=this._getRecalcCanvasXY(_a,_b,_c);_b=_m[0];_c=_m[1];if(this._is_subcontrol){return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this.visible&&this._isEnable()&&application.enabletouchevent&&this.enableevent){var _j=this._getClientXY(_b,_c);var _k=_i?this.on_fire_user_ondbltap:this.on_fire_sys_ondbltap;_f=_k.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],_g,_h);}var _l=this.ondbltap;if((!_l||(_l&&!_l.stoppropagation))&&(_f!==true)&&this.parent&&!this.parent._is_application){var _m=this._getRecalcCanvasXY(_a,_b,_c);_b=_m[0];_c=_m[1];return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_dbltap_basic_action=function(){};_pComponent.on_dbltap_default_action=function(){};_pComponent._on_pinchstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onpinchstart;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"pinchstart")){return true;}this._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_pinchstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_g===undefined){if(!_i){_i=this;if(!_i._is_reference_control){_i=this._getReferenceComponent(_i);}}if(_k){this.on_pinchstart_basic_action();}else{this.on_pinchstart_default_action();}if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchstart:this.on_fire_sys_onpinchstart;_g=_l.call(this,_a,_b,_c,_d,this,_i);if(_g===false){_g=undefined;}}}var _m=this.onpinchstart;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,null,_i,_j,_k);}else{return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,false,this,_i,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchstart:this.on_fire_sys_onpinchstart;_g=_l.call(this,_a,_b,_c,_d,_h,_i);}}var _m=this.onpinchstart;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,false,_h,_i,_j,_k);}}};_pComponent.on_pinchstart_basic_action=function(){};_pComponent.on_pinchstart_default_action=function(){};_pComponent._on_pinch=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onpinch;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"pinch")){return true;}this._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_pinch=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_g===undefined){if(!_i){_i=this;if(!_i._is_reference_control){_i=this._getReferenceComponent(_i);}}if(_k){this.on_pinch_basic_action();}else{this.on_pinch_default_action();}if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinch:this.on_fire_sys_onpinch;_g=_l.call(this,_a,_b,_c,_d,_e,_f,this,_i);if(_g===false){_g=undefined;}}}var _m=this.onpinch;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,null,_i,_j,_k);}else{return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,false,this,_i,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinch:this.on_fire_sys_onpinch;_g=_l.call(this,_a,_b,_c,_d,_e,_f,_h,_i);}}var _m=this.onpinch;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,false,_h,_i,_j,_k);}}};_pComponent.on_pinch_basic_action=function(){};_pComponent.on_pinch_default_action=function(){};_pComponent._on_pinchend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onpinchend;if(!_l||(_l&&!_l.defaultprevented)){this._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}};_pComponent._on_bubble_pinchend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_g===undefined){if(!_i){_i=this;if(!_i._is_reference_control){_i=this._getReferenceComponent(_i);}}if(_k){this.on_pinchend_basic_action();}else{this.on_pinchend_default_action();}if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchend:this.on_fire_sys_onpinchend;_g=_l.call(this,_a,_b,_c,_d,this,_i);if(_g===false){_g=undefined;}}}var _m=this.onpinchend;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,null,_i,_j,_k);}else{return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,false,this,_i,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(application.enabletouchevent&&(!_k||(_k&&this.enableevent))){var _l=_k?this.on_fire_user_onpinchend:this.on_fire_sys_onpinchend;_g=_l.call(this,_a,_b,_c,_d,_h,_i);}}var _m=this.onpinchend;if((!_m||(_m&&!_m.stoppropagation))&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,false,_h,_i,_j,_k);}}};_pComponent.on_pinchend_basic_action=function(){};_pComponent.on_pinchend_default_action=function(){};_pComponent._on_flingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}this._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onflingstart;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"flingstart")){return true;}this._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_flingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_k){this.on_flingstart_basic_action();}else{this.on_flingstart_default_action();}if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingstart:this.on_fire_sys_onflingstart;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _m=this.onflingstart;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingstart:this.on_fire_sys_onflingstart;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _m=this.onflingstart;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_flingstart_basic_action=function(){};_pComponent.on_flingstart_default_action=function(){};_pComponent._on_fling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}this._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onfling;if(!_l||(_l&&!_l.defaultprevented)){if(this._isParentdefaultprevented(_k,"fling")){return true;}this._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(_l&&_l.defaultprevented){return true;}};_pComponent._on_bubble_fling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=this._getFromComponent(this);if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_k){this.on_fling_basic_action();}else{this.on_fling_default_action();}if(this.visible&&this._isEnable()){if((!_k&&(!_l.onfling||(_l.onfling&&!_l.onfling.defaultprevented)))||(_k&&application.enabletouchevent&&this.enableevent)){var _m=_k?this.on_fire_user_onfling:this.on_fire_sys_onfling;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _n=this.onfling;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this.visible&&this._isEnable()){if((!_k&&(!_l.onfling||(_l.onfling&&!_l.onfling.defaultprevented)))||(_k&&application.enabletouchevent&&this.enableevent)){var _m=_k?this.on_fire_user_onfling:this.on_fire_sys_onfling;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _n=this.onfling;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_fling_basic_action=function(){};_pComponent.on_fling_default_action=function(){};_pComponent._on_flingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}this._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);var _k=this._getFromComponent(this);var _l=_k.onflingend;if(!_l||(_l&&!_l.defaultprevented)){this._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);}if(this instanceof nexacro.Form){if(nexacro.OS=="iOS"){var _m=this._getWindow();var _n=_m.getCurrentFocusPaths();var _o=_n[_n.length-1];var _p=_o._input_element;if(_p){nexacro._deleteRefreshNode();nexacro._refreshCaret();}}}};_pComponent._on_bubble_flingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_k){this.on_flingend_basic_action();}else{this.on_flingend_default_action();}if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingend:this.on_fire_sys_onflingend;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _m=this.onflingend;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this.visible&&this._isEnable()){if(!_k||(_k&&application.enabletouchevent&&this.enableevent)){var _l=_k?this.on_fire_user_onflingend:this.on_fire_sys_onflingend;_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _m=this.onflingend;if((!_m||(_m&&!_m.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_flingend_basic_action=function(){};_pComponent.on_flingend_default_action=function(){};_pComponent._on_longpress=function(_a,_b,_c,_d,_e){this._on_bubble_longpress(_a,_b,_c,_d,_e,true);var _f=this._getFromComponent(this);var _g=_f.onlongpress;if(!_g||(_g&&!_g.defaultprevented)){this._on_bubble_longpress(_a,_b,_c,_d,_e,false);}};_pComponent._on_bubble_longpress=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}if(_c===undefined){if(!_e){_e=this;if(!_e._is_reference_control){_e=this._getReferenceComponent(_e);}}if(_f){this.on_longpress_basic_action();}else{this.on_longpress_default_action();}if(this.visible&&this._isEnable()&&(!_f||(_f&&this.enableevent))){var _g=_f?this.on_fire_user_onlongpress:this.on_fire_sys_onlongpress;_c=_g.call(this,_a,_b,this,_e);if(_c===false){_c=undefined;}}var _h=this.onlongpress;if((!_h||(_h&&!_h.stoppropagation))&&(_c!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_longpress(_a,_b,_c,null,_e,_f);}else{return this.parent._on_bubble_longpress(_a,_b,false,this,_e,_f);}}}else{if(this.visible&&this._isEnable()&&(!_f||(_f&&this.enableevent))){var _g=_f?this.on_fire_user_onlongpress:this.on_fire_sys_onlongpress;_c=_g.call(this,_a,_b,_d,_e);}var _h=this.onlongpress;if((!_h||(_h&&!_h.stoppropagation))&&(_c!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_longpress(_a,_b,false,_d,_e,_f);}}};_pComponent.on_longpress_basic_action=function(){};_pComponent.on_longpress_default_action=function(){};_pComponent._on_slidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,true);var _l=this._getFromComponent(this);var _m=_l.onslidestart;if(!_m||(_m&&!_m.defaultprevented)){if(this._isParentdefaultprevented(_l,"slidestart")){return true;}this._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false);}if(_m&&_m.defaultprevented){return true;}};_pComponent._on_bubble_slidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_l){this.on_slidestart_basic_action();}else{this.on_slidestart_default_action();}if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslidestart:this.on_fire_sys_onslidestart;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _n=this.onslidestart;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k,_l);}else{return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k,_l);}}}else{if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslidestart:this.on_fire_sys_onslidestart;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _n=this.onslidestart;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k,_l);}}};_pComponent.on_slidestart_basic_action=function(){};_pComponent.on_slidestart_default_action=function(){};_pComponent._on_slide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,true);var _l=this._getFromComponent(this);var _m=_l.onslide;if(!_m||(_m&&!_m.defaultprevented)){if(this._isParentdefaultprevented(_l,"slide")){return true;}this._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false);}if(_m&&_m.defaultprevented){return true;}};_pComponent._on_bubble_slide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}var _m=this._getFromComponent(this);if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_l){this.on_slide_basic_action();}else{this.on_slide_default_action();}if(this.visible&&this._isEnable()){if((!_l&&(!_m.onslide||(_m.onslide&&!_m.onslide.defaultprevented)))||(_l&&application.enabletouchevent&&this.enableevent)){var _n=_l?this.on_fire_user_onslide:this.on_fire_sys_onslide;_h=_n.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _o=this.onslide;if((!_o||(_o&&!_o.stoppropagation))&&(_h!==true)&&this.parent){if(this.parent._is_application){if(!_l&&_b._scroll_comp==null&&!application._cur_track_info){if(nexacro._allow_default_pinchzoom&&_f!=0&&Math.abs(_f)>Math.abs(_g)){_b._scroll_end=true;_b._scroll_direction=(_f>0)? -10:10;}else if(_g!=0){_b._scroll_end=true;_b._scroll_direction=(_g>0)? -1:1;}}return;}if(this._is_subcontrol){return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k,_l);}else{return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k,_l);}}}else{if(this.visible&&this._isEnable()){if((!_l&&(!_m.onslide||(_m.onslide&&!_m.onslide.defaultprevented)))||(_l&&application.enabletouchevent&&this.enableevent)){var _n=_l?this.on_fire_user_onslide:this.on_fire_sys_onslide;_h=_n.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _o=this.onslide;if((!_o||(_o&&!_o.stoppropagation))&&(_h!==true)&&this.parent){if(this.parent._is_application){if(!_l&&_b._scroll_comp==null&&!application._cur_track_info){if(nexacro._allow_default_pinchzoom&&_f!=0&&Math.abs(_f)>Math.abs(_g)){_b._scroll_end=true;_b._scroll_direction=(_f>0)? -10:10;}else if(_g!=0){_b._scroll_end=true;_b._scroll_direction=(_g>0)? -1:1;}}return;}else if(nexacro.OS=="iOS"){var _p=document.documentElement.clientWidth/window.innerWidth;if(_p>1&&nexacro._allow_default_pinchzoom&&_g!=0){_b._scroll_end=true;_b._scroll_direction=(_g>0)? -1:1;return;}}return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k,_l);}}};_pComponent.on_slide_basic_action=function(){};_pComponent.on_slide_default_action=function(){};_pComponent._on_slideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,true);var _l=this._getFromComponent(this);var _m=_l.onslideend;if(!_m||(_m&&!_m.defaultprevented)){this._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false);}};_pComponent._on_bubble_slideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(_h===undefined){if(!_j){_j=this;if(!_j._is_reference_control){_j=this._getReferenceComponent(_j);}}if(_l){this.on_slideend_basic_action();}else{this.on_slideend_default_action();}if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslideend:this.on_fire_sys_onslideend;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}var _n=this.onslideend;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k,_l);}else{return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k,_l);}}}else{if(this.visible&&this._isEnable()){if(!_l||(_l&&application.enabletouchevent&&this.enableevent)){var _m=_l?this.on_fire_user_onslideend:this.on_fire_sys_onslideend;_h=_m.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}var _n=this.onslideend;if((!_n||(_n&&!_n.stoppropagation))&&(_h!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k,_l);}}};_pComponent.on_slideend_basic_action=function(){};_pComponent.on_slideend_default_action=function(){};_pComponent._on_zoom=function(_a,_b,_c){if(!this._is_alive){return;}if(this.visible&&this._isEnable()){this.setZoom(_a);if(this.enableevent){this.on_fire_onzoom(_a,this,_c);}}};_pComponent._on_accessibilitygesture=function(_a,_b,_c,_d){var _e=this._on_bubble_accessibilitygesture(_a,_b,_c,_d,true);if(!this._is_alive){return _e;}var _f=this._getFromComponent(this);if(!_f.onaccessibilitygesture||(_f.onaccessibilitygesture&&!_f.onaccessibilitygesture.defaultprevented)){this.on_accessibilitygesture_default_action();_e=this._on_bubble_accessibilitygesture(_a,_b,_c,_d,false);}return _e;};_pComponent._on_bubble_accessibilitygesture=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}if(_b===undefined){if(!_d){_d=this;if(!_d._is_reference_control){_d=this._getReferenceComponent(_d);}}if((this.visible&&this._isEnable())||(this.visible&&nexacro._enableaccessibility&&nexacro._accessibilitytype==5)){if(_e&&!this._is_hotkey){_b=this.on_fire_user_onaccessibilitygesture(_a,this,_d);}else{_b=this.on_fire_sys_onaccessibilitygesture(_a,this,_d);this._is_hotkey=false;}if(_b===false){_b=undefined;}}if((!this.onaccessibilitygesture||(this.onaccessibilitygesture&&!this.onaccessibilitygesture.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_accessibilitygesture(_a,_b,null,_d,_e);}else{return this.parent._on_bubble_accessibilitygesture(_a,false,this,_d,_e);}}}else{if(this.visible&&this._isEnable()){if(_e){_b=this.on_fire_user_onaccessibilitygesture(_a,_c,_d);}else{_b=this.on_fire_sys_onaccessibilitygesture(_a,_c,_d);}}if((!this.accessibilitygesture||(this.accessibilitygesture&&!this.accessibilitygesture.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_accessibilitygesture(_a,false,_c,_d,_e);}}};_pComponent.on_accessibilitygesture_default_action=function(){};_pComponent._on_orientationchange=function(_a){if(!this._is_alive){return;}if(this.visible&&this._isEnable()){if(this.enableevent){this.on_fire_onorientationchange(_a);}}};_pComponent._on_starttrack=nexacro._emptyFn;_pComponent._on_movetrack=nexacro._emptyFn;_pComponent._on_endtrack=nexacro._emptyFn;_pComponent._on_startrepeat=nexacro._emptyFn;_pComponent._on_repeat=nexacro._emptyFn;_pComponent._on_endrepeat=nexacro._emptyFn;_pComponent.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onclick&&this.onclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);var _n=this.onclick._fireEvent(this,_m);_m.destroy();_m=null;return _n;}return false;};_pComponent.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro._fireBeforeDblclick(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this.ondblclick&&this.ondblclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"ondblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.ondblclick._fireEvent(this,_m);}return false;};_pComponent.on_fire_onkillfocus=function(_a,_b){if(this.onkillfocus&&this.onkillfocus._has_handlers){var _c=new nexacro.KillFocusEventInfo(this,"onkillfocus",_a,_b);return this.onkillfocus._fireEvent(this,_c);}return false;};_pComponent.on_fire_onsetfocus=function(_a,_b){if(this.onsetfocus&&this.onsetfocus._has_handlers){var _c=new nexacro.SetFocusEventInfo(this,"onsetfocus",_a,_b);return this.onsetfocus._fireEvent(this,_c);}return false;};_pComponent.on_fire_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f);return this.onkeydown._fireEvent(this,_g);}return false;};_pComponent.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f);return this.onkeydown._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f);return this.onkeydown._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireEvent(this,_g);}return false;};_pComponent.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseenter._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseenter._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseenter._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseleave._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseleave._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseleave._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousemove._fireEvent(this,_m);}return false;};_pComponent.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousemove._fireSysEvent(this,_m);}return false;};_pComponent.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousemove._fireUserEvent(this,_m);}return false;};_pComponent.on_fire_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _o=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n);return this.onmousewheel._fireEvent(this,_o);}return false;};_pComponent.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _o=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n);return this.onmousewheel._fireSysEvent(this,_o);}return false;};_pComponent.on_fire_user_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _o=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n);return this.onmousewheel._fireUserEvent(this,_o);}return false;};_pComponent.on_fire_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=new nexacro.DragEventInfo(this,"ondrag",_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return [this.ondrag._fireEvent(this,_o),this,_m,_n,_o.userdata];}return [false];};_pComponent.on_fire_sys_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=new nexacro.DragEventInfo(this,"ondrag",_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return [this.ondrag._fireSysEvent(this,_o),this,_m,_n,_o.userdata];}return [false];};_pComponent.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=new nexacro.DragEventInfo(this,"ondrag",_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return [this.ondrag._fireUserEvent(this,_o),this,_m,_n,_o.userdata];}return [false];};_pComponent.on_fire_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondrop._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondrop._fireSysEvent(this,_q);}return false;};_pComponent.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondrop._fireUserEvent(this,_q);}return false;};_pComponent.on_fire_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragenter._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragenter._fireSysEvent(this,_q);}return false;};_pComponent.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragenter._fireUserEvent(this,_q);}return false;};_pComponent.on_fire_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragleave._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragleave._fireSysEvent(this,_q);}return false;};_pComponent.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragleave._fireUserEvent(this,_q);}return false;};_pComponent.on_fire_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragmove._fireEvent(this,_q);}return false;};_pComponent.on_fire_sys_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragmove._fireSysEvent(this,_q);}return false;};_pComponent.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.ondragmove._fireUserEvent(this,_q);}return false;};_pComponent.on_fire_onmove=function(_a,_b){if(this.onmove&&this.onmove._has_handlers){var _c=new nexacro.MoveEventInfo(this,"onmove",_a,_b);return this.onmove._fireEvent(this,_c);}return false;};_pComponent.on_fire_onsize=function(_a,_b){if(this.onsize&&this.onsize._has_handlers){var _c=new nexacro.SizeEventInfo(this,"onsize",_a,_b);return this.onsize._fireEvent(this,_c);}return false;};_pComponent.on_fire_oncontextmenu=function(_a,_b){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _c=new nexacro.ContextMenuEventInfo(this,"oncontextmenu",_a,_b);return this.ontouchstart._fireEvent(this,_c);}return false;};_pComponent.on_fire_user_oncontextmenu=function(_a,_b){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _c=new nexacro.ContextMenuEventInfo(this,"oncontextmenu",_a,_b);return this.oncontextmenu._fireUserEvent(this,_c);}return false;};_pComponent.on_fire_sys_oncontextmenu=function(_a,_b){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _c=new nexacro.ContextMenuEventInfo(this,"oncontextmenu",_a,_b);return this.oncontextmenu._fireSysEvent(this,_c);}return true;};_pComponent.on_fire_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontap=function(){if(this.ontap&&this.ontap._has_handlers){var _a=new nexacro.TapEventInfo(this,"ontap");return this.ontap._fireEvent(this,_a);}return false;};_pComponent.on_fire_user_ontap=_pComponent.on_fire_ontap;_pComponent.on_fire_sys_ontap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pComponent.on_fire_ondbltap=function(){if(this.ondbltap&&this.ondbltap._has_handlers){var _a=new nexacro.TapEventInfo(this,"ondbltap");return this.ondbltap._fireEvent(this,_a);}return false;};_pComponent.on_fire_user_ondbltap=_pComponent.on_fire_ondbltap;_pComponent.on_fire_sys_ondbltap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._on_dblclick(_a,"touch",false,false,false,_d,_e,_b,_c);return true;};_pComponent.on_fire_onpinchstart=function(_a,_b,_c,_d,_e,_f){if(this.onpinchstart&&this.onpinchstart._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchstart",_b,_c,_d,_e,_f);return this.onpinchstart._fireEvent(this,_g);}return false;};_pComponent.on_fire_user_onpinchstart=function(_a,_b,_c,_d,_e,_f){if(this.onpinchstart&&this.onpinchstart._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchstart",_b,_c,_d,_e,_f);return this.onpinchstart._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_sys_onpinchstart=function(_a,_b,_c,_d,_e,_f){if(this.onpinchstart&&this.onpinchstart._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchstart",_b,_c,_d,_e,_f);return this.onpinchstart._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onpinch&&this.onpinch._has_handlers){var _i=new nexacro.PinchEventInfo(this,"onpinch",_b,_c,_d,_g,_h);return this.onpinch._fireEvent(this,_i);}return false;};_pComponent.on_fire_user_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onpinch&&this.onpinch._has_handlers){var _i=new nexacro.PinchEventInfo(this,"onpinch",_b,_c,_d,_g,_h);return this.onpinch._fireUserEvent(this,_i);}return false;};_pComponent.on_fire_sys_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this instanceof nexacro.Form){if(this._is_popup_control){return true;}if(this.parent&&this.parent instanceof nexacro.ChildFrame){var _i=Math.abs(_d)/_e;var _j=_d>0?1: -1;var _k=(1.0+(_j*_i));var _l=this.getZoom()||100;_l=_l*_k;if(!nexacro._allow_default_pinchzoom){var _m=application._curscreen;if(_m){var _n=100;if(this._autofittedZoomFactor!==undefined){_n=this._autofittedZoomFactor;}var _o=_m._zoommin*100*_n/100;var _p=_m._zoommax*100*_n/100;if(_o!==undefined&&_p!==undefined&&_o>=_p){return true;}if(_o!=undefined&&_o>=0&&_l<_o){_l=_o;}if(_p!=undefined&&_p>=0&&_l>_p){_l=_p;}}}this._on_zoom(_l,this,_h);return true;}}return false;};_pComponent.on_fire_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireEvent(this,_g);}return false;};_pComponent.on_fire_user_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_sys_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingstart&&this.onflingstart._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingstart",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingstart._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingstart&&this.onflingstart._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingstart",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingstart._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pComponent.on_fire_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onfling&&this.onfling._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onfling",null,_c,_d,_e,_f,_g,_h,_i);return this.onfling._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onfling&&this.onfling._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onfling",null,_c,_d,_e,_f,_g,_h,_i);return this.onfling._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_b._scroll_comp==this){_b._proc_scroll=true;return true;}return false;};_pComponent.on_fire_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingend&&this.onflingend._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingend",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingend._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onflingend&&this.onflingend._has_handlers){var _j=new nexacro.FlingEventInfo(this,"onflingend",null,_c,_d,_e,_f,_g,_h,_i);return this.onflingend._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent.on_fire_onlongpress=function(_a,_b,_c,_d){if(this.onlongpress&&this.onlongpress._has_handlers){var _e=new nexacro.LongPressEventInfo(this,"onlongpress",_b,_c,_d);return this.onlongpress._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_onlongpress=function(_a,_b,_c,_d){if(this.onlongpress&&this.onlongpress._has_handlers){var _e=new nexacro.LongPressEventInfo(this,"onlongpress",_b,_c,_d);return this.onlongpress._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_onlongpress=function(_a,_b,_c,_d){if(this.onlongpress&&this.onlongpress._has_handlers){var _e=new nexacro.LongPressEventInfo(this,"onlongpress",_b,_c,_d);return this.onlongpress._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslidestart&&this.onslidestart._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslidestart",_c,_d,_e,_f,_g,_h,_i);return this.onslidestart._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslidestart&&this.onslidestart._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslidestart",_c,_d,_e,_f,_g,_h,_i);return this.onslidestart._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslidestart&&this.onslidestart._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslidestart",_c,_d,_e,_f,_g,_h,_i);return this.onslidestart._fireSysEvent(this,_j);}return false;};_pComponent.on_fire_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslide&&this.onslide._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslide",_c,_d,_e,_f,_g,_h,_i);return this.onslide._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslide&&this.onslide._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslide",_c,_d,_e,_f,_g,_h,_i);return this.onslide._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(nexacro._cur_track_info){if(nexacro._cur_track_info.target._no_slide_scroll==true){return true;}}if(!this.hscrollbar&&!this.vscrollbar){return false;}var _j=_b._scroll_comp;var _k=_b._scroll_mode;if(_j){if(_j!=this){return false;}}else{var _l=false;var _m=false;if(_f!=0&&this.hscrollbar&&this.hscrollbar.enable&&(this.dragscrolltype!="none"&&this.dragscrolltype!="vert")){if(_f<0){if(this.hscrollbar.pos<this.hscrollbar.max){_l=true;}}else{if(this.hscrollbar.pos>0){_l=true;}}}if(_g!=0&&this.vscrollbar&&this.vscrollbar.enable&&(this.dragscrolltype!="none"&&this.dragscrolltype!="horz")){if(_g<0){if(this.vscrollbar.pos<this.vscrollbar.max){_m=true;}}else{if(this.vscrollbar.pos>0){_m=true;}}}if(this.dragscrolltype=="all"&&(_l||_m)){_k=3;}else if(_l&&_m){if(Math.abs(_g)<Math.abs(_f)){_k=2;}else{_k=1;}}else if(_l){_k=2;}else if(_m){_k=1;}if(this.selectscrollmode!=undefined){var _n;if(this.selectscrollmode=="default"){_n=(nexacro.isTouchInteraction)?"scroll":"select";}else{_n=this.selectscrollmode;}if(_n=="select"){_k=0;}}if(_k>0){_j=this;_b._scroll_end=false;_b._scroll_comp=this;_b._scroll_mode=_k;}else{return false;}}if(this.getZoom){var _o=this.getZoom();if(_o!=100){_f/=(_o/100.0);_g/=(_o/100.0);}}if((_k==3||_k==2)&&_f!=0&&this.hscrollbar&&this.hscrollbar.enable){this.hscrollbar._setPos(this.hscrollbar.pos-_f,"slide");}if((_k==3||_k==1)&&_g!=0&&this.vscrollbar&&this.vscrollbar.enable){this.vscrollbar._setPos(this.vscrollbar.pos-_g,"slide");}return true;};_pComponent.on_fire_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslideend&&this.onslideend._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslideend",_c,_d,_e,_f,_g,_h,_i);return this.onslideend._fireEvent(this,_j);}return false;};_pComponent.on_fire_user_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslideend&&this.onslideend._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslideend",_c,_d,_e,_f,_g,_h,_i);return this.onslideend._fireUserEvent(this,_j);}return false;};_pComponent.on_fire_sys_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onslideend&&this.onslideend._has_handlers){var _j=new nexacro.SlideEventInfo(this,"onslideend",_c,_d,_e,_f,_g,_h,_i);return this.onslideend._fireSysEvent(this,_j);}return false;};_pComponent.on_fire_onzoom=function(_a,_b,_c){if(this.onzoom&&this.onzoom._has_handlers){var _d=new nexacro.ZoomEventInfo(this,"onzoom",_a,_b,_c);return this.onzoom._fireEvent(this,_d);}return false;};_pComponent.on_fire_user_onzoom=function(_a,_b,_c){if(this.onzoom&&this.onzoom._has_handlers){var _d=new nexacro.ZoomEventInfo(this,"onzoom",_a,_b,_c);return this.onzoom._fireUserEvent(this,_d);}return false;};_pComponent.on_fire_sys_onzoom=function(_a,_b,_c){if(this.onzoom&&this.onzoom._has_handlers){var _d=new nexacro.ZoomEventInfo(this,"onzoom",_a,_b,_c);return this.onzoom._fireSysEvent(this,_d);}return false;};_pComponent.on_fire_onorientationchange=function(_a){if(this.onorientationchange&&this.onorientationchange._has_handlers){var _b=new nexacro.OrientationChangeEventInfo(this,"onorientationchange",_a);return this.onorientationchange._fireEvent(this,_b);}return false;};_pComponent.on_fire_user_onaccessibilitygesture=function(_a,_b,_c){};_pComponent.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){};delete _pComponent;}if(!nexacro.Dataset){nexacro._getXMLTagData=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f=_e+_c.length;var _g=_a.indexOf(_d,_f);if(_g> -1){var _h=_a.substring(_f,_g);return [_h,"",_e,_g+_d.length];}else{var _h=_a.substring(_f);return [_h,"",_e,_a.length];}}return null;};nexacro._getXMLTagData2=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f;var _g=_e+_c.length;var _h=_a.indexOf(">",_g);if(_h<0){return null;}else if(_h>0&&_a.charAt(_h-1)=='/'){_f=_a.substring(_g,_h-1).trim();return ["",_f,_e,_h];}else{_f=_a.substring(_g,_h).trim();}_h++ ;var _i=_a.indexOf(_d,_h);if(_i> -1){var _j=_a.substring(_h,_i);return [_j,_f,_e,_i+_d.length];}else{var _j=_a.substring(_h);return [_j,_f,_e,_a.length];}}return null;};nexacro._getXMLTagData3=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f=_e+_c.length;if(_a.charAt(_f)==" "){var _g;var _h=_f+1;var _i=_a.indexOf(">",_h);if(_i<0){return null;}else if(_i>0&&_a.charAt(_i-1)=='/'){_g=_a.substring(_h,_i-1).trim();return ["",_g,_e,_i];}else{_g=_a.substring(_h,_i).trim();}_i++ ;var _j=_a.indexOf(_d,_i);if(_j> -1){var _k=_a.substring(_i,_j);return [_k,_g,_e,_j+_d.length];}else{var _k=_a.substring(_i);return [_k,_g,_e,_a.length];}}else if(_a.charAt(_f)=="/"){_f=_f+1;if(_a.charAt(_f)==">"){return ["","",_e,_f];}}else{if(_a.charAt(_e+1)==">"){_e=_e+1;}var _i=_e+_c.length;var _j=_a.indexOf(_d,_i);if(_j> -1){var _k=_a.substring(_i,_j);return [_k,"",_e,_j+_d.length];}else{var _k=_a.substring(_i);return [_k,"",_e,_a.length];}}}return null;};nexacro._getXMLTagData4=function(_a,_b,_c){var _d=_a.indexOf(_c,_b);if(_d> -1){var _e=_d+_c.length;var _f=_a.indexOf("/>",_e);if(_f> -1){var _g=_a.substring(_e,_f).trim();return ["",_g,_e,_f+2];}else{var _g=_a.substring(_e).trim();return ["",_g,_e,_a.length];}}return null;};nexacro._getXMLAttributeID=function(_a){var _b=_a.indexOf("id=\"");if(_b> -1){var _c=_b+4;var _d=_a.indexOf("\"",_c);if(_d> -1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeType=function(_a){var _b=_a.indexOf("type=\"");if(_b> -1){var _c=_b+6;var _d=_a.indexOf("\"",_c);if(_d> -1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeData=function(_a,_b){var _c=_a.indexOf(_b+"=\"");if(_c> -1){var _d=_c+_b.length+2;var _e=_a.indexOf("\"",_d);if(_e> -1){return _a.substring(_d,_e);}return "";}return null;};nexacro.Date=function(_a,_b,_c,_d,_e,_f,_g){if(_a==null){this._timecheck=true;this.date=new Date();}else if(_b==null&&typeof _a=="string"){this._timecheck=true;this.date=new Date(_a);}else if(_c==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);this.date=new Date(_a,_b);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_d==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);this.date=new Date(_a,_b,_c);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_e==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);this.date=new Date(_a,_b,_c,_d);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_f==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);this.date=new Date(_a,_b,_c,_d,_e);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_g==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else{this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);_g=(parseInt(_g,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f,_g);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}return;};var _pDate=nexacro._createPrototype(nexacro.Object,nexacro.Date);nexacro.Date.prototype=_pDate;_pDate._type_name="Date";_pDate.getFullYear=function(){return this.date.getFullYear();};_pDate.setFullYear=function(_a,_b,_c){if(_c!=null){this.date.setFullYear(_a,_b,_c);}else if(_b!=null){this.date.setFullYear(_a,_b);}else{this.date.setFullYear(_a);}};_pDate.getYear=function(){return this.date.getYear();};_pDate.setYear=function(_a,_b,_c){if(_c!=null){this.date.setYear(_a,_b,_c);}else if(_b!=null){this.date.setYear(_a,_b);}else{this.date.setYear(_a);}};_pDate.getMonth=function(){return this.date.getMonth();};_pDate.setMonth=function(_a,_b){if(_b==null){this.date.setMonth(_a);}else{this.date.setMonth(_a,_b);}};_pDate.getDate=function(){return this.date.getDate();};_pDate.setDate=function(_a){this.date.setDate(_a);};_pDate.getDay=function(){return this.date.getDay();};_pDate.getHours=function(){return this.date.getHours();};_pDate.setHours=function(_a,_b,_c,_d){if(_d!=null){this.date.setHours(_a,_b,_c,_d);}else if(_c!=null){this.date.setHours(_a,_b,_c);}else if(_b!=null){this.date.setHours(_a,_b);}else{this.date.setHours(_a);}};_pDate.getMinutes=function(){return this.date.getMinutes();};_pDate.setMinutes=function(_a,_b,_c){if(_c!=null){this.date.setMinutes(_a,_b,_c);}else if(_b!=null){this.date.setMinutes(_a,_b);}else{this.date.setMinutes(_a);}};_pDate.getSeconds=function(){return this.date.getSeconds();};_pDate.setSeconds=function(_a,_b){if(_b!=null){this.date.setSeconds(_a,_b);}else{this.date.setSeconds(_a);}};_pDate.getMilliseconds=function(){return this.date.getMilliseconds();};_pDate.setMilliseconds=function(_a){this.date.setMilliseconds(_a);};_pDate.getTime=function(){return this.date.getTime();};_pDate.setTime=function(_a){this.date.setTime(_a);};_pDate.getTimezoneOffset=function(){return this.date.getTimezoneOffset();};_pDate.getUTCFullYear=function(){return this.date.getUTCFullYear();};_pDate.setUTCFullYear=function(_a,_b,_c){if(_c!=null){this.date.setUTCFullYear(_a,_b,_c);}else if(_b!=null){this.date.setUTCFullYear(_a,_b);}else{this.date.setUTCFullYear(_a);}};_pDate.getUTCMonth=function(){return this.date.getUTCMonth();};_pDate.setUTCMonth=function(_a,_b){if(_b==null){this.date.setUTCMonth(_a);}else{this.date.setUTCMonth(_a,_b);}};_pDate.getUTCDate=function(){return this.date.getUTCDate();};_pDate.setUTCDate=function(_a){this.date.setUTCDate(_a);};_pDate.getUTCDay=function(){return this.date.getUTCDay();};_pDate.getUTCHours=function(){return this.date.getUTCHours();};_pDate.setUTCHours=function(_a,_b,_c,_d){if(_d!=null){this.date.setUTCHours(_a,_b,_c,_d);}else if(_c!=null){this.date.setUTCHours(_a,_b,_c);}else if(_b!=null){this.date.setUTCHours(_a,_b);}else{this.date.setUTCHours(_a);}};_pDate.getUTCMinutes=function(){return this.date.getUTCMinutes();};_pDate.setUTCMinutes=function(_a,_b,_c){if(_c!=null){this.date.setUTCMinutes(_a,_b,_c);}else if(_b!=null){this.date.setUTCMinutes(_a,_b);}else{this.date.setUTCMinutes(_a);}};_pDate.getUTCSeconds=function(){return this.date.getUTCSeconds();};_pDate.setUTCSeconds=function(_a,_b){if(_b==null){this.date.setUTCSeconds(_a);}else{this.date.setUTCSeconds(_a,_b);}};_pDate.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds();};_pDate.setUTCMilliseconds=function(_a){this.date.setUTCMilliseconds(_a);};_pDate.parse=function(_a){return this.date.parse(_a);};_pDate.UTC=function(_a,_b,_c,_d,_e,_f,_g){return this.date.UTC(_a,_b,_c,_d,_e,_f,_g);};_pDate.valueOf=function(){return this.toString();};_pDate.toGMTString=function(){return this.date.toGMTString();};_pDate.toDateString=function(){return this.date.toDateString();};_pDate.toTimeString=function(){return this.date.toTimeString();};_pDate.toLocaleDateString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_format);return _c;};_pDate.toLocaleTimeString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.time_format);return _c;};_pDate.toString=function(){var _a=this.getFullYear();var _b=this.getMonth()+1;var _c=this.getDate();var _d=this.getHours();var _e=this.getMinutes();var _f=this.getSeconds();var _g=this.getMilliseconds();_a=_a!==null?this.toZeroDigitString(_a,4):"0000";_b=_b!==null?this.toZeroDigitString(_b,2):_b;_c=_c!==null?this.toZeroDigitString(_c,2):_c;_d=_d!==null?this.toZeroDigitString(_d,2):_d;_e=_e!==null?this.toZeroDigitString(_e,2):_e;_f=_f!==null?this.toZeroDigitString(_f,2):_f;_g=_g!==null?this.toZeroDigitString(_g,3):_g;if(this._timecheck){return ""+_a+_b+_c+_d+_e+_f+_g;}else{return ""+_a+_b+_c;}};_pDate.toLocaleString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_time_format);return _c;};_pDate.toUTCString=function(){return this.date.toUTCString();};_pDate.toZeroDigitString=function(_a,_b){var _c="";_a=_a.toString();if(_a.length<_b){for(var _d=0;_d<_b-_a.length;_d++ ){_c+="0";}}return _c+_a;};_pDate.getLocaleFormatString=function(_a,_b,_c){var _d=nexacro.Locale.getLocaleInfo(_a);var _e=_b;_e=_e.replace(/%r/g,_d.time_format_ampm);_e=_e.replace(/%x/g,_d.date_format);_e=_e.replace(/%X/g,_d.time_format);_e=_e.replace(/%T/g,"%H:%M:%S");if(_c===true){_e=_e.replace(/%Y/g,"\u200E%Y");_e=_e.replace(/%y/g,"\u200E%y");_e=_e.replace(/%d/g,"\u200E%d");_e=_e.replace(/%e/g,"\u200E%e");}_e=_e.replace(/%a/g,this.toLocaleWeekDayString(_a,"short"));_e=_e.replace(/%A/g,this.toLocaleWeekDayString(_a,"long"));_e=_e.replace(/%b/g,this.toLocaleMonthString(_a,"short"));_e=_e.replace(/%B/g,this.toLocaleMonthString(_a,"long"));_e=_e.replace(/%p/g,this.toLocaleAMPMString(_a));_e=_e.replace(/%y/g,this.getYear());_e=_e.replace(/%Y/g,this.getFullYear());_e=_e.replace(/%n/g,this.getMonth()+1);_e=_e.replace(/%m/g,nexacro._toString(this.getMonth()+1).padLeft(2,"0"));_e=_e.replace(/%d/g,nexacro._toString(this.getDate()).padLeft(2,"0"));_e=_e.replace(/%e/g,this.getDate());_e=_e.replace(/%H/g,this.getHours());_e=_e.replace(/%l/g,this.getHours());_e=_e.replace(/%I/g,this.getHours());_e=_e.replace(/%M/g,this.getMinutes());_e=_e.replace(/%S/g,this.getSeconds());_e=_e.replace(/\\a/g,"a");_e=_e.replace(/\\m/g,"m");_e=_e.replace(/\\d/g,"d");return _e;};_pDate.toLocaleWeekDayString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getDay();var _e="";switch(_b){case "short":{_e=_c.weekday_names_short[_d];}break;case "narrow":{_e=_c.weekday_names_narrow[_d];}break;case "long":default:{_e=_c.weekday_names_long[_d];}break;}return _e;};_pDate.toLocaleMonthString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getMonth();var _e="";switch(_b){case "short":{_e=_c.month_names_short[_d];}break;case "narrow":{_e=_c.month_names_narrow[_d];}break;case "long":default:{_e=_c.month_names_long[_d];}break;}return _e;};_pDate.toLocaleAMPMString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getHours();var _d="";if((_c%12)%2){_d=_b.ampm[1];if(!_d){_d="PM";}}else{_d=_b.ampm[0];if(!_d){_d="AM";}}return _d;};delete _pDate;nexacro.DataUtils={_undefined_type:0,_string_type:1,_int_type:2,_float_type:3,_bicdecimal_type:4,_dete_type:5,_time_type:6,_datetime_type:7,_bolb_type:8,_variant_type:9,_typecodes:{"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,"string":1,"int":2,"float":3,"double":3,"decimal":3,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typeint:{"string":1,"int":2,"float":3,"double":3,"decimal":4,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typenames:["undefined","STRING","INT","DOUBLE","BIGDECIMAL","DATE","TIME","DATETIME","BLOB","VARIANT"],_default_sizes:[8,32,4,8,16,6,9,17,256,0],_default_values:[undefined,"",0,0.0,0.0,null,null,null,null,null],_boolean_values:{"false":false,"False":false,"FALSE":false,"no":false,"No":false,"NO":false,"n":false,"N":false,"off":false,"Off":false,"OFF":false,"0":false,"true":true,"True":true,"TRUE":true,"yes":true,"Yes":true,"YES":true,"y":true,"Y":true,"on":true,"On":true,"ON":true,"1":true},_init_date:new Date(0),_max_milliseconds:100000000*24*60*60*1000,_min_milliseconds: -100000000*24*60*60*1000,getDefaultValue:function(_a){return nexacro.DataUtils._default_values[_a.toLowerCase()];},getDefaultSize:function(_a){return nexacro.DataUtils._default_sizes[_a.toLowerCase()];},toTypeCode:function(_a){var _b=nexacro.DataUtils._typeint[_a.toLowerCase()];return (_b==null)?0:_b;},toTypeName:function(_a){var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?"undefined":_b;},findDataType:function(_a){if((typeof _a)=="object"){return (_a instanceof Date)?7:0;}var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?0:_b;},isBinary:function(_a){return (_a==12);},toString:function(_a){if(_a==null){return _a;}if(_a instanceof Date){return this._formatDateTime(_a);}return _a.toString();},toStringFromText:function(_a){return _a;},toStringFromXMLText:function(_a){return nexacro._decodeXml(_a);},toTextFromString:function(_a){return _a;},toXMLTextFromString:function(_a){return nexacro._encodeXml(_a);},toInt:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toIntFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toTextFromInt:function(_a){return (_a==null)?undefined:_a+"";},toBoolean:function(_a){if(typeof _a=="string"){_a=this._boolean_values[_a];}return (_a?true:false);},toBooleanFromText:function(_a){_a=this._boolean_values[_a];return (_a?true:false);},toTextFromBoolean:function(_a){return (_a==null)?_a:_a+"";},toFloat:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toFloatFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromFloat:function(_a){return (_a==null)?undefined:(_a+"");},toNumber:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toNumberFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromNumber:function(_a){return (_a==null)?undefined:(_a+"");},toDecimal:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else if(_a instanceof Date){return new nexacro.Decimal(_a.getTime());}return (isFinite(_a))?new nexacro.Decimal(_a):"";},toDecimalFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return undefined;}else{return new nexacro.Decimal(_a);}},toTextFromDecimal:function(_a){return (_a==null)?undefined:_a.toString();},toDate:function(_a){if(_a==null){return undefined;}else if(_a===""){return "";}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"DATE");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToDate(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToDate(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"DATE");},toTextFromDate:function(_a){return (_a==null)?null:nexacro.DataUtils._formatDate(_a);},toTime:function(_a){if(_a==null||_a==""){return null;}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"TIME");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToTime(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"TIME");},toTextFromTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatTime(_a);},toDateTime:function(_a){if(_a==null){return undefined;}if(_a===""){return "";}if((typeof _a)=="string"){if(isNaN( +_a)){return "";}return nexacro.DataUtils._parseDateTime(_a,"DATETIME");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToTime(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"DATETIME");},toTextFromDateTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatDateTime(_a);},toBlob:function(_a){return _a;},toBlobFromText:function(_a){return _a;},toTextFromBlob:function(_a){return _a;},toVariant:function(_a){return _a;},toVariantFromText:function(_a){return _a;},toTextFromVariant:function(_a){return (_a==null)?_a:(_a+"");},convert:function(_a,_b){switch(_b){case 1:return this.toString(_a);case 2:return this.toInt(_a);case 3:return this.toFloat(_a);case 4:return this.toDecimal(_a);case 5:return this.toDate(_a);case 6:return this.toTime(_a);case 7:return this.toDateTime(_a);case 8:return this.toBlob(_a);default:return this.toVariant(_a);}return "";},_datetimeToDate:function(_a){_a.setHours(0);_a.setMinutes(0);_a.setSeconds(0);_a.setMilliseconds(0);return _a;},_datetimeToTime:function(_a){_a.setFullYear(0);_a.setMonth(0);_a.setDate(1);return _a;},_parseDateTime:function(_a,_b){_a=_a.trim();_b=_b.toUpperCase();switch(_b){case "DATETIME":var _c=_a.substring(0,4);var _d=_a.substring(4,6);var _e=_a.substring(6,8);var _f=_a.substring(8,10);var _g=_a.substring(10,12);var _h=_a.substring(12,14);var _i=_a.substring(14,16);return nexacro.DataUtils._toDateTime(_c,_d,_e,_f,_g,_h,_i);case "DATE":var _c=_a.substring(0,4);var _d=_a.substring(4,6);var _e=_a.substring(6,8);return nexacro.DataUtils._toDate(_c,_d,_e);case "TIME":var _f=_a.substring(0,2);var _g=_a.substring(2,4);var _h=_a.substring(4,6);var _i=_a.substring(6,9);return nexacro.DataUtils._toTime(_f,_g,_h,_i);}return "";},_formatDate:function(_a){if(!_a){return undefined;}return this._leftPad(_a.getFullYear()*10000+(_a.getMonth()+1)*100+_a.getDate(),8);},_formatTime:function(_a){if(!_a){return undefined;}var _b="";var _c=_a.getMilliseconds();_b=this._leftPad(_c,3);return this._leftPad(_a.getHours()*10000+_a.getMinutes()*100+_a.getSeconds(),6)+_b;},_formatDateTime:function(_a){if(isNaN(_a)){return undefined;}var _b=this._leftPad(_a.getFullYear()*10000+(_a.getMonth()+1)*100+_a.getDate(),8);var _c="";var _d=_a.getMilliseconds();_c=this._leftPad(_d,3);var _e=this._leftPad(_a.getHours()*10000+_a.getMinutes()*100+_a.getSeconds(),6)+_c;return _b+_e;},_toDate:function(_a,_b,_c){var _d=new nexacro.Date(_a,_b-1,_c);return (( +_d)!=( +_d))?undefined:_d;},_toTime:function(_a,_b,_c,_d){var _e=new nexacro.Date(0,0,1,_a,_b,_c,_d);return (( +_e)!=( +_e))?undefined:_e;},_toDateTime:function(_a,_b,_c,_d,_e,_f,_g){var _h=new nexacro.Date(_a,_b-1,_c,_d,_e,_f,_g);return (( +_h)!=( +_h))?undefined:_h;},_isValidTime:function(_a){return (_a<=this._MAX_MILLISECONDS&&_a>=this._MIN_MILLISECONDS);},_leftPad:function(_a,_b){_a=_a+"";var _c=_b-_a.length;switch(_c){case 0:return _a;case 1:return "0"+_a;case 2:return "00"+_a;case 3:return "000"+_a;case 4:return "0000"+_a;case 5:return "00000"+_a;}return _a;}};nexacro.ExprParser=function(){this.output=[];this._itemidx= -1;this._itempos=0;this._prevtype= -1;};_pExprParser=nexacro._createPrototype(nexacro.Object,nexacro.ExprParser);nexacro.ExprParser.prototype=_pExprParser;_pExprParser.whitespace=nexacro._gen_arrmap("\n\r\t ".split(''));_pExprParser.wordchars=nexacro._gen_arrmap("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(''));_pExprParser.punct=nexacro._gen_arrmap("+ - * / % & ++ -- = += -= *= /= %= == === != <> !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(' '));_pExprParser.line_starters=nexacro._gen_arrmap("continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(','));_pExprParser.regexp_hanja=/[\u2E80-\u2EFF]|[\u31C0-\u31EF]|[\u3200-\u32FF]|[\u3400-\u4DBF]|[\u4E00-\u9FBF]|[\uF900-\uFAFF]/;_pExprParser.regexp_nipon=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u31F0-\u31FF]/;_pExprParser.regexp_hangul=/[ㄱ-ㅎ]|[ㅏ-ㅣ]|[가-힣]/;_pExprParser.regexp_num=/^[0-9]+[Ee]$/;_pExprParser.is_ternary_op=function(){var _a=0,_b=0;var _c=this.output;var _d=_c.length-1;function is_ternary_op_loop(){if(_d>=0){switch(_c[_d]){case ':':if(_a===0){_b++ ;}break;case '?':if(_a===0){if(_b===0){return true;}else{_b-- ;}}break;case '{':if(_a===0){return false;}_a-- ;break;case '(':case '[':_a-- ;break;case ')':case ']':case '}':_a++ ;break;}_d-- ;return false;}return true;}while(true){if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}}};_pExprParser.append=function(_a,_b){var _c=this.output;var _d=_c.length;if(_b==2&&this._prevtype==2){_c[_d-1].tok+=_a;return;}if(_b==10){if(this._prevtype==2){_c[_d-1].tok+=_a;return;}else if(_d==0){_c[_d]={type:2,tok:_a,pos: -1};this._prevtype=1;return;}}else if(_b==4){this._itempos=0;}else if(_b==5&&this._prevtype==0){_c[_d-1].type=1;this._itempos=0;}var _e={type:_b,tok:_a,pos:this._itempos};_c[_d]=_e;if(_b==10&&this._prevtype==0){if(this._itempos>=0){this._itempos++ ;}}else if(_b==5||_b==7||_b==9){this._itempos=0;}else if(_b==6||_b==8){this._itempos= -1;}this._prevtype=_b;};_pExprParser.tokenizeExpr=function(_a){this.input=_a;var _b=this.output;var _c="";var _d="";var _e="";var _f= -1;var _g=_a+"";var _h=_g.length;var _i=0;if(_i>=_h){return 0;}while(true){if(_i>=_h){return _b.length;}var _j;var _k=_g.charAt(_i);_i++ ;while(_k in this.whitespace){if(_i>=_h){return _b.length;;}_k=_g.charAt(_i);_i++ ;}if(_k in this.wordchars||this.regexp_hangul.test(_k)||this.regexp_hanja.test(_k)||this.regexp_nipon.test(_k)){if(_i<_h){_j=_g.charAt(_i);while(_j in this.wordchars||this.regexp_hangul.test(_j)||this.regexp_hanja.test(_j)||this.regexp_nipon.test(_j)){_k+=_j;_i++ ;if(_i>=_h){break;}_j=_g.charAt(_i);}}if(_i<_h&&this.regexp_num.test(_k)&&(_j==='-'||_j==='+')){var _l=_g.charAt(_i);_i+=1;this.parse_pos=_i;_j=_g.charAt(_i);while(_j in this.wordchars||this.regexp_hangul.test(_j)||this.regexp_hanja.test(_j)||this.regexp_nipon.test(_j)){_k+=_j;_i++ ;if(_i>=_h){break;}_j=_g.charAt(_i);}this.append(_k,3);continue;}if(_k=='in'){this.append(_k,4);}else{var _m=parseFloat(_k);if(isFinite(_m)){this.append(_k,2);}else{this.append(_k,0);}}continue;}if(_k=='('){this.append(_k,5);continue;}if(_k==')'){this.append(_k,6);continue;}if(_k=='['){this.append(_k,7);continue;}if(_k==']'){this.append(_k,8);continue;}if(_k==','){this.append(_k,9);continue;}if(_k=='{'){this.append(_k,10);continue;}if(_k=='}'){this.append(_k,11);continue;}if(_k==';'){this.append(_k,12);continue;}if(_k=="'"||_k=='"'){while(_i<_h){var _n=_k;var _o=false;_j=_g.charAt(_i);_k+=_j;_i++ ;while(_o||_j!=_n){if(!_o){_o=(_j=='\\');}else{_o=false;}_j=_g.charAt(_i);_k+=_j;_i++ ;if(_i>=_h){break;}}if(_j==_n){this.append(_k,3);break;}return  -1;}continue;}if(_k=='/'){_j=_g.charAt(_i);if(_j=='*'){_k+=_j;_i++ ;while(_i<_h){_j=_g.charAt(_i);_k+=_j;_i++ ;if(_j=='*'){if(_i>=_h){break;}_j=_g.charAt(_i);_k+=_j;_i++ ;if(_j=='/'){continue;}}}return  -1;}if(_j=='/'){_k+=_j;_i++ ;_j=_g.charAt(_i);while(_i<_h){_j=_g.charAt(_i);if(_j=="\r"||_j=="\n"){_i+=1;continue;;}_k+=_j;_i++ ;}continue;}if(nexacro._indexOf([ -1,4,5,7,9],_b._prevtype)>=0){while(_i<_h){var _o=false;var _p=false;_j=_g.charAt(_i);_k+=_j;_i++ ;while(_o||_p||_j!='/'){if(!_o){_o=(_j=='\\');if(_j=='['){_p=true;}else if(_j==']'){_p=false;}}else{_o=false;}_j=_g.charAt(_i);_k+=_j;_i++ ;}if(_j!='/'){return  -1;}_j=_g.charAt(_i);while(_i<_h&&(_j in this.wordchars||this.regexp_hangul.test(_k)||this.regexp_hanja.test(_k)||this.regexp_nipon.test(_k))){_k+=_j;_i++ ;_j=_g.charAt(_i);}this.append(_k,3);break;}continue;}}if(_k in this.punct){while(_i<_h){_j=_g.charAt(_i);if((_k+_j) in this.punct){_k+=_j;_i++ ;}else{break;}}if(_k.charAt(0)=='='){if(_k!='=='&&_k!='==='){if(_i>=_h){return  -1;}}}this.append(_k,4);continue;}if(_k=='.'){this.append(_k,10);continue;}return  -1;}};_pExprParser.makeSubExpr=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_e.length;var _g=_a.colinfos;var _h=_a._constVars;var _i;var _j=_b;function makeSubExpr_loop(_k){if(_j<_c){var _l=_e[_j];if(_j!=0&&_l.type==4){_d+=' ';_d+=_l.tok;_d+=' ';}else{var _m="";if(_l.type==0&&_l.pos==0){var _i=_l.tok;if((_g!=undefined&&_i in _g)||(_h!=undefined&&_i in _h)){if(_j<(_c-1)&&_e[_j+1].type==7){var _n=0;var _o;for(_o=_j+2;_o<_c;_o++ ){if(_e[_o].type==7){bcbt++ ;}if(_e[_o].type==8){if(_n==0){break;}else{_n-- ;}}}if(_o<_c&&_o>(_j+2)){var _p=_k.makeSubExpr(_a,_j+2,_o);if(_p!=null){_d+="dataset.getColumn("+_p+", '"+_i+"')";_j=_o;}else{return undefined;}}else{return undefined;}}else{_d+="dataset.getColumn(rowidx, '"+_i+"')";}}else if(_i=="new"){_d+=_i+" ";}else{_d+=_i;}}else{_d+=_l.tok;}}_j++ ;return false;}return true;}while(true){if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}}return _d;};_pExprParser.makeExpr=function(_a,_b){var _c=this.tokenizeExpr(_b);var _d=this.makeSubExpr(_a,0,this.output.length);return _d;};_pExprParser.makeSubEval=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_e.length;var _g;var _h=_b;function makeSubEval_loop(){if(_h<_c){var _i=_e[_h];if(_h!=0&&_i.type==4){_d+=' ';_d+=_i.tok;_d+=' ';}else{var _j="";if(_i.type==0&&_i.pos==0){var _g=_i.tok;if(_g=="var"){}else{_d+=_g;}}else if(_i.type==1&&_i.pos==0){var _g=_i.tok;_d+=_g;}else{_d+=_i.tok;}}_h++ ;return false;}return true;}while(true){if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}}return _d;};_pExprParser.makeEval=function(_a,_b){var _c=this.tokenizeExpr(_b);var _d=this.makeSubEval(_a,0,this.output.length);return _d;};delete _pExprParser;nexacro.VariableList=function(){nexacro.Collection.call(this);};var _pVariableList=nexacro._createPrototype(nexacro.Collection,nexacro.VariableList);nexacro.VariableList.prototype=_pVariableList;_pVariableList._type_name="VariableList";_pVariableList._updateID=function(_a,_b){var _c=this[_a];if(_c!=_b){_c=_b;this[_a]=_c;}return this.update_id(_a,_b);};_pVariableList.deleteItem=function(_a){return this.delete_item(_a);};delete _pVariableList;nexacro.DSColumnInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=_a;this.name=_a;this.type=_b;this.ntype=_c;this.size=_d;this.prop=_e;this.sumtext=_f;this._index=_g;switch(_c){case 1:this._toText=nexacro.DataUtils.toTextFromString;this._fromText=nexacro.DataUtils.toStringFromText;this._fromVal=nexacro.DataUtils.toString;this._toXMLText=nexacro.DataUtils.toXMLTextFromString;this._fromXMLText=nexacro.DataUtils.toStringFromXMLText;break;case 2:this._toText=nexacro.DataUtils.toTextFromInt;this._fromText=nexacro.DataUtils.toIntFromText;this._fromVal=nexacro.DataUtils.toInt;this._toXMLText=nexacro.DataUtils.toTextFromInt;this._fromXMLText=nexacro.DataUtils.toIntFromText;break;case 3:this._toText=nexacro.DataUtils.toTextFromFloat;this._fromText=nexacro.DataUtils.toFloatFromText;this._fromVal=nexacro.DataUtils.toFloat;this._toXMLText=nexacro.DataUtils.toTextFromFloat;this._fromXMLText=nexacro.DataUtils.toFloatFromText;break;case 4:this._toText=nexacro.DataUtils.toTextFromDecimal;this._fromText=nexacro.DataUtils.toDecimalFromText;this._fromVal=nexacro.DataUtils.toDecimal;this._toXMLText=nexacro.DataUtils.toTextFromDecimal;this._fromXMLText=nexacro.DataUtils.toDecimalFromText;break;case 5:this._toText=nexacro.DataUtils.toTextFromDate;this._fromText=nexacro.DataUtils.toDateFromText;this._fromVal=nexacro.DataUtils.toDate;this._toXMLText=nexacro.DataUtils.toTextFromDate;this._fromXMLText=nexacro.DataUtils.toDateFromText;break;case 6:this._toText=nexacro.DataUtils.toTextFromTime;this._fromText=nexacro.DataUtils.toTimeFromText;this._fromVal=nexacro.DataUtils.toTime;this._toXMLText=nexacro.DataUtils.toTextFromTime;this._fromXMLText=nexacro.DataUtils.toTimeFromText;break;case 7:this._toText=nexacro.DataUtils.toTextFromDateTime;this._fromText=nexacro.DataUtils.toDateTimeFromText;this._fromVal=nexacro.DataUtils.toDateTime;this._toXMLText=nexacro.DataUtils.toTextFromDateTime;this._fromXMLText=nexacro.DataUtils.toDateTimeFromText;break;case 8:this._toText=nexacro.DataUtils.toTextFromBlob;this._fromText=nexacro.DataUtils.toBlobFromText;this._fromVal=nexacro.DataUtils.toBlob;this._toXMLText=nexacro.DataUtils.toTextFromBlob;this._fromXMLText=nexacro.DataUtils.toBlobFromText;break;default:this._toText=nexacro.DataUtils.toTextFromvariant;this._fromText=nexacro.DataUtils.toVariantFromText;this._fromVal=nexacro.DataUtils.toVariant;this._toXMLText=nexacro.DataUtils.toTextFromvariant;this._fromXMLText=nexacro.DataUtils.toVariantFromText;break;}};var _pDSColumnInfo=nexacro._createPrototype(nexacro.Object,nexacro.DSColumnInfo);nexacro.DSColumnInfo.prototype=_pDSColumnInfo;_pDSColumnInfo._type_name="DSColumnInfo";_pDSColumnInfo.set_size=function(_a){_a=parseInt(_a)|0;if(this.size!=_a){if(!(( +_a)!=( +_a))){this.size=_a;}}};_pDSColumnInfo.set_type=function(_a){_a=nexacro._toString(_a);if(this.type!=_a){this.type=_a;this.ntype=nexacro.DataUtils._typeint[_a.toLowerCase()];}};_pDSColumnInfo.set_prop=function(_a){_a=nexacro._toString(_a);if(this.prop!=_a){this.prop=_a;}};_pDSColumnInfo.set_sumtext=function(_a){_a=nexacro._toString(_a);if(this.sumtext!=_a){this.sumtext=_a;}};delete _pDSColumnInfo;nexacro.DSColumnInfoList=function(){nexacro.Collection.apply(this);};var _pDSColumnInfoList=nexacro._createPrototype(nexacro.Collection,nexacro.DSColumnInfoList);nexacro.DSColumnInfoList.prototype=_pDSColumnInfoList;_pDSColumnInfoList._type_name="DSColumnInfoList";_pDSColumnInfoList._updateID=function(_a,_b){var _c=this[_a];if(_c.id!=_b){_c.set_id(_b);this[_a]=_c;}return this.update_id(_a,_b);};_pDSColumnInfoList.deleteItem=function(_a){return this.delete_item(_a);};delete _pDSColumnInfoList;nexacro.DSColChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"oncolumnchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.col=_d;this.colidx=_e;this.columnid=_f;this.oldvalue=_g;this.newvalue=_h;};var _pDSColChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSColChangeEventInfo);nexacro.DSColChangeEventInfo.prototype=_pDSColChangeEventInfo;_pDSColChangeEventInfo._type_name="DSColChangeEventInfo";delete _pDSColChangeEventInfo;nexacro.DSLoadEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onload";this.fromobject=this.fromreferenceobject=_a;this.errorcode=_c;this.errormsg=_d;this.reason=_e;};var _pDSLoadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSLoadEventInfo);nexacro.DSLoadEventInfo.prototype=_pDSLoadEventInfo;_pDSLoadEventInfo._type_name="DSLoadEventInfo";delete _pDSLoadEventInfo;nexacro.DSRowPosChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowposchanged";this.fromobject=this.fromreferenceobject=_a;this.newrow=_d;this.oldrow=_c;this.reason=_e;};var _pDSRowPosChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowPosChangeEventInfo);nexacro.DSRowPosChangeEventInfo.prototype=_pDSRowPosChangeEventInfo;_pDSRowPosChangeEventInfo._type_name="DSRowPosChangeEventInfo";delete _pDSRowPosChangeEventInfo;nexacro.DSRowsetChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowsetchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.count=_d;this.reason=_e;};var _pDSRowsetChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowsetChangeEventInfo);nexacro.DSRowsetChangeEventInfo.prototype=_pDSRowsetChangeEventInfo;_pDSRowsetChangeEventInfo._type_name="DSRowsetChangeEventInfo";delete _pDSRowsetChangeEventInfo;nexacro.Dataset=function(_a,_b){this.id=this.name=_a;if(_b){this.parent=_b;}this.colinfos=new nexacro.DSColumnInfoList();this.colcount=0;this.constcount=0;this.rowcount=0;this.rowposition= -1;this.loadstatus=false;this.enableevent=true;this.updatecontrol=true;this.keystring="";this.filterstr="";this.loadkeymode="keep";this.loadfiltermode="keep";this.reversesubsum=false;this.arguments="";this.firefirstcount=0;this.firenextcount=0;this.useclientlayout=false;this._event_list={"onload":1,"cancolumnchange":1,"oncolumnchanged":1,"onvaluechanged":1,"canrowposchange":1,"onrowposchanged":1,"onrowsetchanged":1};this._constVars=new nexacro.VariableList();this._rawRecords=[];this._viewRecords=this._rawRecords;this._deletedRecords=[];this._onworkcompleted=new nexacro.EventListener("onworkcompleted");this._keycols=[];this._keycols.max_keylevel=0;this._exprFuncs={};this._defaultKeyStr="";this._defaultFilterStr="";this._eventstat=true;this._deleteRows=[];};var _pDataset=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Dataset);nexacro.Dataset.prototype=_pDataset;_pDataset._type_name="Dataset";_pDataset._isData=true;nexacro.Dataset.LOADMODE_KEEP=0;nexacro.Dataset.LOADMODE_RESET=1;nexacro.Dataset._LOADMODE_ENUM={"keep":0,"reset":1};_pDataset.on_created=function(){};_pDataset.destroy=function(){if(this.colinfos){this.colinfos.clear();delete this.colinfos;this.colinfos=null;}if(this._constVars){this._constVars.clear();delete this._constVars;this._constVars=null;}if(this._onworkcompleted){this._onworkcompleted._clearAll();delete this._onworkcompleted;this._onworkcompleted=null;}this._rawRecords=null;this._viewRecords=null;this._deletedRecords=null;this._keycols=null;this._deleteRows=null;this._event_list=null;this._exprFuncs=null;nexacro.EventSinkObject.prototype.destroy.call(this);};_pDataset.set_name=function(_a){this.id=this.name=_a;};_pDataset.set_enableevent=function(_a){_a=nexacro._toBoolean(_a);if(this.enableevent!=_a){this.enableevent=_a;this._eventstat=(_a&&!this.loadstatus);if(_a){this.on_fire_onrowsetchanged( -1, -1,41);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _b=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_b);}}}};_pDataset.set_updatecontrol=function(_a){this.updatecontrol=nexacro._toBoolean(_a);};_pDataset.set_rowposition=function(_a){_a=parseInt(_a,10)|0;if(isFinite(_a)){this._setRowPosition(_a);}return this.rowposition;};_pDataset.colinfos=null;_pDataset.set_keystring=function(_a){_a=_a?_a.toString():"";this.keystring=_a;this.on_apply_keystring();return this.keystring;};_pDataset.on_apply_keystring=function(){this.updateSortGroup(this.keystring,true);};_pDataset.set_filterstr=function(_a){var _b=_a.toString();if(_b!=this.filterstr){this.filter(_b);}return this.filterstr;};_pDataset.set_loadkeymode=function(_a){if(this.loadkeymode!=_a){this.loadkeymode=_a;}};_pDataset.set_loadfiltermode=function(_a){if(this.loadfiltermode!=_a){this.loadfiltermode=_a;}};_pDataset.set_reversesubsum=function(_a){_a=nexacro._toBoolean(_a);if(this.reversesubsum!=_a){this.reversesubsum=_a;this.on_apply_reversesubsum();}};_pDataset.on_apply_reversesubsum=function(){if(this.keystring){this.updateSortGroup(this.keystring);}};_pDataset.set_useclientlayout=function(_a){if(_a==false||_a==0||_a=="false"){this.useclientlayout=false;}else{this.useclientlayout=true;}};_pDataset.on_fire_onload=function(_a,_b,_c){var _d=this.onload;if(_d&&_d._has_handlers){var _e=new nexacro.DSLoadEventInfo(this,"onload",_a,_b,_c);_d._fireEvent(this,_e);}};_pDataset.on_fire_onrowsetchanged=function(_a,_b,_c){var _d=this.onrowsetchanged;if(_d&&_d._has_handlers){var _e=new nexacro.DSRowsetChangeEventInfo(this,"onrowsetchanged",_a,_b,_c);_d._fireEvent(this,_e);}};_pDataset.on_fire_canrowposchange=function(_a){var _b=this.canrowposchange;if(_b&&_b._has_handlers){_a.eventid="canrowposchange";var _c=_b._fireCheckEvent(this,_a);if(_c===undefined){_c=true;}_c=nexacro._toBoolean(_c);if(_c){this.rowposition=_a.newrow;}return _c;}return true;};_pDataset.on_fire_onrowposchanged=function(_a){var _b=this.onrowposchanged;if(_b&&_b._has_handlers){_a.eventid="onrowposchanged";_b._fireEvent(this,_a);}};_pDataset.on_fire_cancolumnchange=function(_a){var _b=this.cancolumnchange;if(_b&&_b._has_handlers){if(!_b._firestat){_a.eventid="cancolumnchange";_b._firestat=true;var _c=_b._fireCheckEvent(this,_a);_b._firestat=false;return (_c==undefined)?true:_c;}else if(_b._firestat){}else{return false;}}return true;};_pDataset.on_fire_oncolumnchanged=function(_a){var _b=this.oncolumnchanged;if(_b&&_b._has_handlers){if(!_b._firestat){_b._firestat=true;_a.eventid="oncolumnchanged";_b._fireEvent(this,_a);_b._firestat=false;}else{_a.eventid="oncolumnchanged";_b._fireEvent(this,_a,true);}}};_pDataset.on_fire_onvaluechanged=function(_a){var _b=this.onvaluechanged;if(_b&&_b._has_handlers){_a.eventid="onvaluechanged";_b._fireEvent(this,_a);}};_pDataset.clear=function(){var _a=this.rowposition;var _b=this.rowcount;this._clearAll();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,24);if(_a>=0&&_a==this.rowposition){this._forcesetRowPosition( -1,51);}}else{this.rowposition= -1;}return _b;};_pDataset.getColCount=function(){return this.colcount;};_pDataset.getConstCount=function(){return this._constVars.length;};_pDataset.getRowCount=function(){return this._viewRecords.length;};_pDataset.getDeletedRowCount=function(){return this._deletedRecords.length;};_pDataset.getDeletedRowset=function(){return this._deletedRecords;};_pDataset.addConstColumn=function(_a,_b){var _c=this._addConstColumn(_a,_b);if(_c>=0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}return _c;};_pDataset.addColumn=function(_a,_b,_c){var _d=this._addColumn(_a,_b,_c);if(_d>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _d;};_pDataset.addColumnInfo=function(_a,_b){var _c=this._addColumnInfo(_a,_b);if(_c>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _c;};_pDataset.appendColList=function(_a){var _b=this._appendColList(_a);if(_b>0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _b;};_pDataset.deleteColumn=function(_a){var _b=this._deleteColumn(_a);if(_b){this._clearAllExprs();var _c=this._constVars.length+this.colinfos.length;var _d=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);if(_c==0&&_d>=0){this._forcesetRowPosition( -1,51);}}else if(_c==0&&_d>=0){this.rowposition= -1;}}return _b;};_pDataset.getColID=function(_a){if(( +_a)!=( +_a)){_a=0;}if(_a>=this.colinfos.length){return this._constVars.get_id(_a-this.colinfos.length);}else{return this.colinfos.get_id(_a);}};_pDataset.getConstColID=function(_a){if(( +_a)!=( +_a)){_a=0;}return this._constVars.get_id(_a);};_pDataset.getColumnInfo=function(_a){if(typeof (_a)=="string"){if(this.colinfos.indexOf(_a)> -1){return this.colinfos[_a];}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}return (this.colinfos[_a]==undefined)?null:this.colinfos[_a];}return null;};_pDataset.updateColID=function(_a,_b){if(typeof (_a)=="string"){if(this.colinfos.indexOf(_a)> -1){_a=this.colinfos.indexOf(_a);}else if(this._constVars.indexOf(_a)> -1){return this.updateConstColID(_a,_b);}else{return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(!this.colinfos[_a]){var _d=_a-this.colinfos.length;if(this._constVars[_d]){return this.updateConstColID(_d,_b);}else{return  -1;}}}var _c=this.colinfos._updateID(_a,_b);if(_c&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);var _e=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_e);return _a;}return  -1;};_pDataset.updateConstColID=function(_a,_b){if(typeof (_a)=="string"){if(this._constVars.indexOf(_a)> -1){_a=this._constVars.indexOf(_a);}else{return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(!this._constVars[_a]){return  -1;}}var _c=this._constVars._updateID(_a,_b);if(_c&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);var _d=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_d);return _a;}return  -1;};_pDataset.addRow=function(){if(this.colinfos.length<=0){return  -1;}var _a=this.updatecontrol?2:1;var _b=this._appendRow(_a);if(_b>=0){var _c=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged(_b,1,12);}if(_c==this.rowposition){this._setRowPosition(_b,undefined,51);}}return _b;};_pDataset.insertRow=function(_a){if(_a<0){return _a;}var _b=this.updatecontrol?2:1;var _c=this._insertRow(_a,_b);if(_c>=0&&this._eventstat){var _d=this.rowposition;this.on_fire_onrowsetchanged(_c,1,12);if(_d==this.rowposition){this._setRowPosition(_c,undefined,51,true);}}return _c;};_pDataset.deleteRow=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}var _b=this._deleteRow(_a);if(_b>=0){if(this._eventstat){var _c=this.rowposition;this.on_fire_onrowsetchanged(_b,1,20);var _d=this.rowposition;if(_c==_d){if(_d>_b){this._setRowPosition(_d-1,undefined,52);}else if(_d==_b){if(this.rowcount==0){this._forcesetRowPosition( -1,51);}else{if(_d==this.rowcount){this._forcesetRowPosition(this.rowcount-1,51);}else{this._setRowPosition(_d,undefined,53,true);}}}}}else{var _c=this.rowposition;var _d=this.rowposition;if(_d>_b){this.rowposition=_d-1;}else if(_d==_b){if(this.rowcount==0){this.rowposition= -1;}else{if(_d==this.rowcount){this.rowposition=this.rowcount-1;}}}}}return _b>=0?true:false;};_pDataset.moveRow=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return  -1;}}if(( +_b)!=( +_b)){_b=0;}else{if(_b<0){return  -1;}}var _c=this._moveRow(_a,_b);if(_c>=0&&this._eventstat){var _d=this.rowposition;var _e,_f;if(_a>_b){_e=_b;_f=(_a-_b+1);}else{_e=_a;_f=(_b-_a+1);}this.on_fire_onrowsetchanged(_e,_f,32);if(_d==this.rowposition){if(_d==_a){this._setRowPosition(_b,undefined,52);}else if(_a>_b&&_d>=_b&&_d<_a){this._setRowPosition(_d+1,undefined,52);}else if(_a<_b&&_d>_a&&_d<_b){this._setRowPosition(_d-1,undefined,52);}}}return _c;};_pDataset.exchangeRow=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}if(( +_b)!=( +_b)){_b=0;}else{if(_b<0||_b>=this.rowcount){return false;}}if(this._exchangeRow(_a,_b)&&this._eventstat){var _c=this.rowposition;this.on_fire_onrowsetchanged(_a,1,33);this.on_fire_onrowsetchanged(_b,1,33);if(_c==this.rowposition){if(_c==_a){this._setRowPosition(_b,undefined,52);}else if(_c==_b){this._setRowPosition(_a,undefined,52);}}return true;}return false;};_pDataset.deleteAll=function(){var _a=this.rowposition;var _b=this._deleteAll();if(_b>0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,22);if(_a==this.rowposition){this._forcesetRowPosition( -1,51);}}return _b;};_pDataset.clearData=function(){var _a=this.rowposition;var _b=this._clearData();if(_b>0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,23);if(_a>=0&&_a==this.rowposition){this._forcesetRowPosition( -1,51);}}else{this.rowposition= -1;}return _b;};_pDataset.deleteMultiRows=function(_a){if(typeof (_a)!="object"){return 0;}var _b=this.rowposition;var _c=this._viewRecords[_b];_a.sort(function(_e,_f){return _e-_f;});var _d=this._deleteMultiRows(_a);if(_d>0){this.rowcount-=_d;var _e= -1;if(_c!=null){_e=nexacro._indexOf(this._viewRecords,_c);}if(this._eventstat){this._deleteRows=_a;this.on_fire_onrowsetchanged( -1,_d,20);if(_b==this.rowposition){if(_b>_e){if(this.rowcount<=0){this._forcesetRowPosition( -1,51);}else if(_e== -1){if(_b<this.rowcount){this._setRowPosition(_b,undefined,53);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}else{this._forcesetRowPosition( -1,51);}}else{this._setRowPosition(_e,undefined,52);}}}}else{this.rowposition=_e;}}return _d;};_pDataset.filterRow=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return;}}var _b=this.rowposition;var _c=this._filterRow(_a);if(_c){if(this._eventstat){this.on_fire_onrowsetchanged(_a,1,31);if(_b==this.rowposition){if(_b>_a){this._setRowPosition(_b-1,undefined,52);}else if(_b==_a){if(this.rowcount==0){this._forcesetRowPosition( -1,51);}else{if(_b==this.rowcount){this._forcesetRowPosition(this.rowcount-1,51);}else{this._setRowPosition(_b,undefined,53);}}}}}else{if(_b>_a){this.rowposition=(_b-1);}else if(_b==_a){if(_b>this.rowcount){_b=this.rowcount-1;}this.rowposition=_b;}}}};_pDataset.getRowType=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;return _b[_a]._rtype;};_pDataset.getRowLevel=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;return _b[_a]._level;};_pDataset.getGroupRangeStart=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return  -1;}}var _b=this._viewRecords;if(_b[_a]._rtype==16){return _b[_a]._grpstart;}else{return _a;}};_pDataset.getGroupRangeCount=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;if(_b[_a]._rtype==16){return _b[_a]._grpend-_b[_a]._grpstart;}else{return 1;}};_pDataset.setRowType=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}var _c=this._viewRecords;if(_b==null||this.updatecontrol==true){return false;}var _d= -1;switch(_b){case 0:case 1:case 2:case 4:case 8:case 16:_d=_b;break;default:switch(_b.toString().toUpperCase()){case 'E':_d=0;break;case 'I':_d=2;break;case 'U':_d=4;break;case 'D':_d=8;break;case 'G':_d=16;break;default:_d=1;break;}}if(_d== -1){return false;}if(_c[_a]._rtype!=_d){if(_c[_a]._rtype==4){if(_c[_a]._orgrow){delete _c[_a]["_orgrow"];}}if(_d==4){var _e=[];var _f=_c[_a].length;for(var _g=0;_g<_f;_g++ ){_e[_g]=_c[_a][_g];}_c[_a]._orgrow=_e;}}_c[_a]._rtype=_d;if(this.enableevent){this.on_fire_onrowsetchanged(_a,1,40);}return true;};_pDataset.getConstColumn=function(_a){if(typeof (_a)=="string"){if(this._constVars.indexOf(_a)> -1){return this._constVars.get_item(_a);}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}return this._constVars.get_item(_a);}};_pDataset.getColumn=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}var _c=_a;var _d;if(typeof (_b)!="string"){if(( +_b)!=( +_b)||_b==undefined){_b=0;}_d=this.colinfos[_b];if(_d==null){if(typeof (_b)=="number"){_b-=this.colinfos.length;}return this._constVars[_b];}}else{if(this.colinfos.indexOf(_b)> -1){_d=this.colinfos[_b];}else if(this._constVars.indexOf(_b)> -1){return this._constVars[_b];}else{return;}}var _e=this._viewRecords[_c];if(_e==null){return undefined;}var _f=_e[_d._index];if((_d.type=="datetime"||_d.type=="DATETIME")&&_f){return _f;}return _e[_d._index];};_pDataset.getColumnSet=function(_a,_b,_c){return null;};_pDataset.getOrgColumn=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){}else if(this._constVars.indexOf(_b)> -1){return this._constVars[_b];}else{return;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}}var _c=this.colinfos[_b];if(_c==undefined){return;}var _d=this._viewRecords[_a];if(_d==null){return undefined;}return _d._orgrow?_d._orgrow[_c._index]:_d[_c._index];};_pDataset.getDeletedColumn=function(_a,_b){_a=parseInt(_a,10)|0;if(( +_a)!=( +_a)){_a=0;}if(_a<0||_a>=this._deletedRecords.length){return undefined;}_a+=1;var _c;var _d=this._rawRecords.length;var _e;for(_c=0;_c<_d&&_a>0;_c++ ){if(this._rawRecords[_c]._rtype==8){_e=this._rawRecords[_c];_a-- ;}}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){_b=this.colinfos.indexOf(_b);}else{return;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}}if(_e==null){return undefined;}return _e[_b];};_pDataset.setConstColumn=function(_a,_b){var _c=this._constVars;var _d;var _e=_c.indexOf(_a);if(typeof (_a)=="string"){if(_e<0||_e==undefined){return false;}else{_d=_e;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a<0||_a>=_c.length){return false;}else{_d=_a;}}if(this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _f=_c[_d];if(_b==_f){return false;}var _g=_c.get_id(_d);var _h=new nexacro.DSColChangeEventInfo(this,"cancolumnchange", -1,_d+this.colinfos.length, -1,_g,_f,_b);if(this.on_fire_cancolumnchange(_h)){_b=_h.newvalue;if(_b!=_f){_c.set_item(_d,_b);this.on_fire_oncolumnchanged(_h);this.on_fire_onvaluechanged(_h);return true;}}return false;}else{_c.set_item(_d,_b);return true;}};_pDataset.setColumn=function(_a,_b,_c){return this._setColumn(_a,_b,_c,null);};_pDataset._setColumn=function(_a,_b,_c,_d){var _e=_a;if(( +_e)!=( +_e)){_e=0;}else{if(_e<0||_e>=this.rowcount){return false;}}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){_b=this.colinfos.indexOf(_b);}else if(this._constVars.indexOf(_b)> -1){return this.setConstColumn(_b,_c);}else{return false;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}if(!this.colinfos[_b]){var _h=_b-this.colinfos.length;if(this._constVars[_h]){return this.setConstColumn(_h,_c);}else{return false;}}}var _f=this.colinfos[_b];_f._index=_b;var _g=this._viewRecords[_e];if(_g!=null){if(this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _i=_g[_f._index];var _j=_f._fromVal(_c);var _k=this._getColumnType(_b);if(_i===_j){return false;}if(_k>=4&&_k<=7){if(_k==4){if(_j&&_i&&_i.hi==_j.hi&&_i.lo==_j.lo){return false;}}else{if(_j&&_i&&_i.getTime()==_j.getTime()){return false;}}}var _l=new nexacro.DSColChangeEventInfo(this,"cancolumnchange",_e,_f._index, -1,_f.id,_i,_j);if(this.on_fire_cancolumnchange(_l)){_j=_f._fromVal(_l.newvalue);if(this._updateColumn(_e,_g,_f._index,_j)){_l.newvalue=_j;this.on_fire_oncolumnchanged(_l);this.on_fire_onvaluechanged(_l);return true;}}else{if(_d){_d.status="cancolumnchange";}}}else{_j=_f._fromVal(_c);this._updateColumn(_e,_g,_f._index,_j);return true;}}return false;};_pDataset.copyRow=function(_a,_b,_c,_d){if(_b==null){return false;}if(( +_a)!=( +_a)){_a=0;}if(( +_c)!=( +_c)){_c=0;}if(_a<0||_a>=this.rowcount){return false;}if(_b._type_name!="Dataset"){return false;}if(_c<0||_c>=_b.rowcount){return false;}var _e=_b.colinfos;var _f=this.colinfos;var _g=this._viewRecords[_a];if(_d!=null&&_d.length>0){var _h=_d==""?_f:_d.split(',');var _i=_h.length;var _j=0;function copyRow_loop(_k){if(_j<_i){var _l=_h[_j].split('=');var _m=_l.length;for(var _n=0;_n<_m;_n++ ){_l[_n]=_l[_n].trim();}var _o,_p;if(_m==2){_o=_l[1];_p=_l[0];var _q=_e.indexOf(_o);var _r=_f.indexOf(_p);if(_q>=0&&_r>=0){var _s=_f[_r]._fromVal(_b.getColumn(_c,_q));_k._updateColumn(_a,_g,_r,_s);}}_j++ ;return false;}return true;}while(true){if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}}}else{var _k=_b._viewRecords[_c];var _i=_e.length;var _j=0;function copyRow_loop2(_l){if(_j<_i){var _m=_e[_j];var _n=_f.indexOf(_m.id);if(_n!=null){var _o=_f[_n]._fromVal(_k[_m._index]);_l._updateColumn(_a,_g,_n,_o);}_j++ ;return false;}return true;}while(true){if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}}}if(this._eventstat&&((this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _l=new nexacro.DSColChangeEventInfo(this,"oncolumnchanged",_a, -1, -1,"",undefined,"");this.on_fire_oncolumnchanged(_l);this.on_fire_onvaluechanged(_l);}return true;};_pDataset.filter=function(_a){if(_a!=null){var _b=_a.toString();this.filterstr=_b;this._filterFn=null;if(!this.loadstatus&&this._rawRecords.length>0){var _c=this._viewRecords;var _d=this.rowposition;var _e=_c[_d];this._reFilter();this._resetSortGroup();var _f=nexacro._indexOf(this._viewRecords,_e);if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,31);if(_d==this.rowposition){if(this.rowcount){if(_f== -1){this._forcesetRowPosition( -1,51);}else if(_d>=0&&_d!=_f){this._setRowPosition(_f,undefined,52);}else{this._forcesetRowPosition(_f,51);}}else{this._forcesetRowPosition( -1,51);}}}else{this.rowposition=_f;}}else if(!this.loadstatus){this._defaultFilterStr=_b;}return true;}return false;};_pDataset.updateSortGroup=function(_a,_b){var _c=true;if(arguments.length<2){if(_a){_a=_a.toString();this.keystring=_a;}else{if(!this.keystring){_c=false;}}}else{if(!_b){_c=false;}}if(_c){var _d=false;if(this.keystring==""||this.keystring=="S:"||this.keystring=="G:"){_d=true;}if(this.keystring&&!_d){var _e=this._viewRecords;var _f=this.rowposition;var _g=_e[_f];this._clearKeyCols();if(!this.loadstatus&&this._rawRecords.length>0){this._resetSortGroup();}}else{this._deleteAllGroupData();var _e=this._viewRecords;var _f=this.rowposition;var _g=_e[_f];this._clearKeyCols();if(!this.loadstatus&&this._rawRecords.length>0){this._viewRecords=this._rawRecords;this._reFilter();}}var _h=nexacro._indexOf(this._viewRecords,_g);if(this.enableevent){this.on_fire_onrowsetchanged( -1, -1,30);if(_f==this.rowposition){if(_f>=0&&_f!=_h){this._setRowPosition(_h,undefined,52);}}}else{this.rowposition=_h;}}return _c;};_pDataset.copyData=function(_a,_b){if(!_a||_a._type_name!="Dataset"){return  -1;}_b=nexacro._toBoolean(_b);var _c=this.rowposition;var _d=(this.filterstr!=null&&this.filterstr!="")?true:false;var _e=(this.keystring==""||this.keystring=="S:"||this.keystring=="G:")?true:false;this._clearAll();this._copyData(_a,_b);var _f=!this.loadstatus&&this._rawRecords.length>0;var _g=!this.loadstatus&&this._rawRecords.length>0;this._eventstat=!this.loadstatus&&this.enableevent;if(_d){var _h=this.filterstr.toString();this.filterstr=_h;this._filterFn=null;}if(_e){this._deleteAllGroupData();this._clearKeyCols();if(_g&&_f){this._viewRecords=this._rawRecords;}}if(_g&&_f){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onrowsetchanged( -1,this.rowcount,11);}if(_c==this.rowposition){if(this.rowcount>0){if(_c!=0){this._setRowPosition(0,undefined,51);}else if(this.id!=_a.id){this.rowposition= -1;this._setRowPosition(_c,undefined,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _i=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_i);}}}else if(_c> -1){this._forcesetRowPosition( -1,51);}}this.loadstatus=false;this._eventstat=this.enableevent;return this.rowcount;};_pDataset.mergeData=function(_a){if(!_a||_a._type_name!="Dataset"){return  -1;}var _b=0;if(_a._rawRecords.length>0){var _c=this.loadstatus;this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;_b=this._mergeData(_a);this.loadstatus=_c;this._eventstat=!this.loadstatus&&this.enableevent;var _d=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged( -1,_b,13);}if(_d==this.rowposition&&_d== -1&&_b>0){this._setRowPosition(0,undefined,51);}this.loadstatus=false;this._eventstat=this.enableevent;}return this.rowcount;};_pDataset.appendData=function(_a,_b,_c){if(!_a||_a._type_name!="Dataset"){return  -1;}if(_a._viewRecords.length>0){var _d=this.loadstatus;this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;this._appendData(_a,_b,_c);this.loadstatus=_d;this._eventstat=!this.loadstatus&&this.enableevent;var _e=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged( -1,this.rowcount,12);}if(_e==this.rowposition&&_e== -1&&this.rowcount>0){this._setRowPosition(0,undefined,51);}this.loadstatus=false;this._eventstat=this.enableevent;return this.rowcount;}return 0;};_pDataset.loadFromDOM=function(_a,_b){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);if(_a!=null){this._bWorkingstatus=true;var _c;if(_a.nodeName=="Dataset"){_c=_a;}else{var _d=_a.getElementsByTagName("Dataset");_c=_d[0];}var _e=0;if(_b&&this.firefirstcount>0){_e=this._loadFromDOM(_c,_e,this.firefirstcount,this.useclientlayout,_b);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_e=this._loadFromDOM(_c,_e, -1,this.useclientlayout,false);}}else{_e=this._loadFromDOM(_c,_e, -1,this.useclientlayout,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;return this.rowcount;}};_pDataset.loadFromXMLStr=function(_a,_b){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);this._bWorkingstatus=true;if(_a){this._bWorkingstatus=true;if(_b&&this.firefirstcount>0){var _c=this._loadFromXMLStr(_a,0,this.firefirstcount,this.useclientlayout,_b);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromXMLStr(_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromXMLStr(_a,0, -1,this.useclientlayout,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;return this.rowcount;}};_pDataset.loadXML=function(_a,_b){return this.loadFromXMLStr(_a,_b);};_pDataset.loadFromPPXArray=function(_a,_b,_c,_d){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].charAt(0)!="D"){_c++ ;}if(_c<_b){_c++ ;var _e=this._getColLinesFromPPXLines(_a,_c);_c+=_e.length;if(_d&&this.firefirstcount>0){_c=this._loadFromPPXArray(_e,_a,_c,this.firefirstcount,this.useclientlayout,_d);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromPPXArray(_e,_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromPPXArray(_e,_a,_c, -1,this.useclientlayout,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset._saveXML=function(_a,_b,_c,_d){if(!_c){_c=0;}var _e=(_a?_a:this.id);var _f="N";switch(_b){case "A":case "a":case "all":case "All":_f="A";break;case "U":case "u":case "update":case "Update":_f="U";break;case "N":case "n":case "normal":case "Normal":_f="N";break;case "V":case "v":case "view":case "View":_f="V";break;}var _g;var _h;var _i=[];this.__writeXMLData(_i,"<Dataset id=\""+_e+"\">",_c++ );if(this._constVars.length+this.colinfos.length){this.__writeXMLData(_i,"<ColumnInfo>",_c++ );_h=this._constVars.length;_g=0;function saveXML_constcol_loop(_m){if(_g<_h){var _n=_m._constVars.get_id(_g);var _o=_m._constVars[_g];if(_o){_m.__writeXMLData(_i,"<ConstColumn id=\""+_n+"\" value=\""+_o+"\" />",_c);}else{_m.__writeXMLData(_i,"<ConstColumn id=\""+_n+"\" />",_c);}_g++ ;return false;}return true;}while(true){if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}}_h=this.colinfos.length;_g=0;function saveXML_colinfo_loop(_m){if(_g<_h){var _n=_m.colinfos[_g];var _o=_n.id;var _p=_n.type?_n.type:nexacro.DataUtils.toTypeName(_n.ntype);var _q=_n.size;var _r=_n.prop;if(_r=="NONE"||_r==null||(typeof _r)=="number"||_r==""){_m.__writeXMLData(_i,"<Column id=\""+_o+"\" type=\""+_p+"\" size=\""+_q+"\"  />",_c);}else{_m.__writeXMLData(_i,"<Column id=\""+_o+"\" type=\""+_p+"\" size=\""+_q+"\" prop=\""+_r.toLowerCase()+"\" />",_c);}_g++ ;return false;}return true;}while(true){if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}}this.__writeXMLData(_i,"</ColumnInfo>", --_c);}else{this.__writeXMLData(_i,"<ColumnInfo />",_c);}_h=0;var _j=this._rawRecords;if(_j){_h=_j.length;}var _k=this._viewRecords;var _l=_k?_k.length:0;if(_h){this.__writeXMLData(_i,"<Rows>",_c++ );var _m;if(_f=="A"){_g=0;function saveXML_row_loop1(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==1||_m._rtype==2||_m._rtype==4||_m._rtype==8){_n.__writeXMLCrudRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}}}else if(_f=="U"){_g=0;function saveXML_row_loop2(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==2||_m._rtype==4||_m._rtype==8){_n.__writeXMLCrudRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}}}else if(_f=="V"){_g=0;function saveXML_row_loop4(_n){if(_g<_l){_m=_k[_g];_n.__writeXMLNormalRow(_i,_m,_c,_d);_g++ ;return false;}return true;}while(true){if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}}}else{_g=0;function saveXML_row_loop3(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==1||_m._rtype==2||_m._rtype==4){_n.__writeXMLNormalRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}}}this.__writeXMLData(_i,"</Rows>", --_c);}else{this.__writeXMLData(_i,"<Rows>",_c);this.__writeXMLData(_i,"</Rows>",_c);}this.__writeXMLData(_i,"</Dataset>", --_c);return _i.join("\n");};_pDataset.saveXML=function(_a,_b,_c){return this._saveXML(_a,_b,_c,true);};_pDataset.loadFromSSVArray=function(_a,_b,_c,_d){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].substring(0,7)!="Dataset"){_c++ ;}if(_c<_b){_c++ ;var _e=this._getColLinesFromSSVLines(_a,_c);_c+=_e.length;if(_d&&this.firefirstcount>0){_c=this._loadFromSSVArray(_e,_a,_c,this.firefirstcount,this.useclientlayout,_d);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromSSVArray(_e,_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromSSVArray(_e,_a,_c, -1,this.useclientlayout,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset.loadSSV=function(_a,_b){var _c=String.fromCharCode(30);if(_a){var _d=_a.split(_c);if(_d.length){this.loadFromSSVArray(_d,_b);}}return this.rowcount;};_pDataset.saveSSV=function(_a,_b){var _c=String.fromCharCode(30);var _d=String.fromCharCode(31);var _e=this.id;if(_a&&_a.length>0){_e=_a;}var _f="N";switch(_b){case "A":case "a":case "all":case "All":_f="A";break;case "U":case "u":case "update":case "Update":_f="U";break;}var _g;var _h;var _i=[];this.__writeData(_i,"Dataset:"+_e+_c);_h=this._constVars.length;if(_h>0){_g=0;this.__writeData(_i,"_Const_"+_d);function saveSSV_constcol_loop(_k){if(_g<_h){var _l=_k._constVars.get_id(_g);var _m=_k._constVars[_g];if(_m){if(_g==(_h-1)){_k.__writeData(_i,_d+_l+"="+_m+_c);}else{_k.__writeData(_i,_d+_l+"="+_m+_d);}}else{if(_g==(_h-1)){_k.__writeData(_i,_d+_l+"="+_c);}else{_k.__writeData(_i,_d+_l+"="+_d);}}_g++ ;return false;}return true;}while(true){if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}}}_h=this.colinfos.length;if(_h>0){this.__writeData(_i,"_RowType_"+_d);_g=0;function saveSSV_colinfo_loop(_k){if(_g<_h){var _l=_k.colinfos[_g];var _m=_l.id;var _n=_l.type?_l.type:nexacro.DataUtils.toTypeName(_l.ntype);var _o=_l.size;if(_o){if(_g==(_h-1)){_k.__writeData(_i,_m+":"+_n+"("+_o+")"+_c);}else{_k.__writeData(_i,_m+":"+_n+"("+_o+")"+_d);}}else{if(_g==(_h-1)){_k.__writeData(_i,_m+":"+_n+_c);}else{_k.__writeData(_i,_m+":"+_n+_d);}}_g++ ;return false;}return true;}while(true){if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}}}else{this.__writeData(_i,"_RowType_"+_c);}_h=0;var _j=this._rawRecords;if(_j){_h=_j.length;}if(_h){var _k;if(_f=="A"){_g=0;function saveSSV_row_loop1(_l){if(_g<_h){_k=_j[_g];if(_k._rtype==1||_k._rtype==2||_k._rtype==4||_k._rtype==8){_l.__writeSSVCrudRow(_i,_k);}_g++ ;return false;}return true;}while(true){if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}}}else if(_f=="U"){_g=0;function saveSSV_row_loop2(_l){if(_g<_h){_k=_j[_g];if(_k._rtype==2||_k._rtype==4||_k._rtype==8){_l.__writeSSVCrudRow(_i,_k);}_g++ ;return false;}return true;}while(true){if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}}}else{_g=0;function saveSSV_row_loop3(_l){if(_g<_h){_k=_j[_g];if(_k._rtype==1||_k._rtype==2||_k._rtype==4){_l.__writeSSVNormalRow(_i,_k);}_g++ ;return false;}return true;}while(true){if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}}}}_i.push(_c);return _i.join("");};_pDataset.loadFromCSVArray=function(_a,_b,_c,_d){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].substring(0,7)!="Dataset"){_c++ ;}if(_c<_b){_c++ ;var _e=_a[_c++ ];if(_d&&this.firefirstcount>0){_c=this._loadFromCSVArray(_e,_a,_c,this.firefirstcount,this.useclientlayout,_d);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromCSVArray(_e,_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromCSVArray(_e,_a,_c, -1,this.useclientlayout,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset.loadCSV=function(_a,_b){if(_a){var _c=_a.split(/\r\n|\n/);if(_c.length){this.loadFromCSVArray(_c,_c.length,0,_b);}}return this.rowcount;};_pDataset.saveCSV=function(_a){var _b=this.id;if(_a&&_a.length>0){_b=_a;}var _c;var _d;var _e=[];this.__writeData(_e,"Dataset:"+_b+"\r\n");_d=this.colinfos.length;if(_d>0){_c=0;function saveSSV_colinfo_loop(_g){if(_c<_d){var _h=_g.colinfos[_c];var _i=_h.id;var _j=_h.type?_h.type:nexacro.DataUtils.toTypeName(_h.ntype);var _k=_h.size;if(_k){if(_c==(_d-1)){_g.__writeData(_e,_i+":"+_j+"("+_k+")\r\n");}else{_g.__writeData(_e,_i+":"+_j+"("+_k+"),");}}else{if(_c==(_d-1)){_g.__writeData(_e,_i+":"+_j+"\r\n");}else{_g.__writeData(_e,_i+":"+_j+",");}}_c++ ;return false;}return true;}while(true){if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}}}else{this.__writeData(_e,"\r\n");}_d=0;var _f=this._rawRecords;if(_f){_d=_f.length;}if(_d){var _g;_c=0;function saveCSV_row_loop(_h){if(_c<_d){_g=_f[_c];if(_g._rtype==1||_g._rtype==2||_g._rtype==4){_h.__writeCSVRowData(_e,_g);}_c++ ;return false;}return true;}while(true){if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}}}_e.push("\r\n");return _e.join("");};_pDataset.loadBin=function(_a){if(_a){var _b=nexacro._convertDatasetBINToSSV(_a);if(_b){return this.loadSSV(_b);}}return this.rowcount;};_pDataset.saveBin=function(_a,_b){var _c=this.saveSSV(_a,_b);if(_c){return nexacro._convertDatasetSSVToBIN(_c);}return _c;};_pDataset.applyChange=function(){var _a=this._rawRecords;var _b=_a.length;var _c=_b-1;function applyChange_loop(){if(_c>=0){var _d=_a[_c];if(_d._rtype==0||_d._rtype==8){_a.splice(_c,1);}else{_d._rtype=1;if(_d._orgrow){delete _d["_orgrow"];}}_c-- ;return false;}return true;}while(true){if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}}this._deletedRecords=[];if(this.enableevent){this.on_fire_onrowsetchanged( -1,_b,40);}};_pDataset.reset=function(){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;var _a=this.rowposition;var _b=this._rawRecords;var _c=_b.length;var _d=_c-1;function reset_loop(){if(_d>=0){var _e=_b[_d];if(_e._rtype==0||_e._rtype==2){_b.splice(_d,1);}else if(_e._rtype==4){_e._rtype=1;if(_e._orgrow){var _f=_e.length;for(var _g=0;_g<_f;_g++ ){_e[_g]=_e._orgrow[_g];}delete _e["_orgrow"];}}else if(_e._rtype==8){_e._rtype=1;}_d-- ;return false;}return true;}while(true){if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}}if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=this._rawRecords;this._reFilter();this._deletedRecords.splice(0,this._deletedRecords.length);this.loadstatus=false;this._eventstat=this.enableevent;this.rowcount=this._viewRecords.length;if(this._eventstat){this._bWorkingstatus=true;this.on_fire_onload(0,"",2);if(this.rowposition>=this.rowcount&&this.rowcount>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(this.rowposition,51);}this._bWorkingstatus=false;}};_pDataset.assign=function(_a){if(!_a||_a._type_name!="Dataset"){return  -1;}this._eventstat=this.enableevent;var _b=this.rowposition;this._clearAll();this._assign(_a);if(this.filterstr){this.filter(this.filterstr);}if(this.keystring){this.on_apply_keystring();}if(this._eventstat){this.on_fire_onrowsetchanged( -1,this.rowcount,10);}if(_b==this.rowposition){if(this.rowcount>0){if(_b!=0){this._setRowPosition(0,undefined,51);}else if(this.id!=_a.id){this.rowposition= -1;this._setRowPosition(_b,undefined,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _c=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_c);}}}else if(_b> -1){this._forcesetRowPosition( -1,51);}}return this.rowcount;};_pDataset.identifyExpr=function(_a){if(typeof (_a)!="string"){return _a;}_a=_a+"";var _b=_a.substr(0,4).toUpperCase();if(_b=="EXPR"||_b=="BIND"){var _c=_a.substr(4).trim();if(/^expr(\s*):|^bind(\s*):/.test(_a)){_a=_c.substr(1);}else{_a=_c.substring(1,_c.length-1);}var _d=new nexacro.ExprParser();var _e=_d.makeExpr(this,_a);var _f=nexacro._createInlineFunc(_e,["currow","rowidx","comp","dataset"]);if(_f){_a=_f.call(null,this.rowposition,this.rowposition,this,this);}}return _a;};_pDataset.lookup=function(_a,_b,_c){var _d=this._viewRecords;var _e=0;var _f=_d.length;_a=this.identifyExpr(_a);var _g=this.findRow(_a,_b,_e,_f);return (_g== -1)?undefined:this.getColumn(_g,_c);};_pDataset.lookupAs=function(_a,_b,_c){var _d=this._viewRecords.slice(0,this._viewRecords.length);var _e=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);var _f=0;var _g=_e.length;_a=this.identifyExpr(_a);var _h=this.findRowAs(_a,_b,_f,_g);var _i=(_h== -1)?undefined:this.getColumn(_h,_c);this._viewRecords=_d.slice(0,this._rawRecords.length);return _i;};_pDataset.findRow=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f;var _g= -1;var _h= -1;if(typeof (_a)=="string"){_h=this.colinfos.indexOf(_a);if(_h==undefined){_g=this._constVars.indexOf(_a);}if(!(( +_a)!=( +_a))){return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a> -1&&_a<this.colcount){var _k=this.colinfos.length;if(_a<_k){_h=_a;}else{_g=_a-_k;}}else{return  -1;}}if(_h>=0){return this._findRow(_h,_b,_c,_d);}if(_g>=0){_f=this._constVars[_g];if(_f==_b&&_d>0){return _c;}else{return  -1;}}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return  -1;}var _j=_c;function findRow_loop(_l){if(_j<_d){var _m=_e[_j];if(_l._checkRowData(_m)){_f=_i.call(this,_j,_j,null,_l);if(_f==_b){return true;}}_j++ ;return false;}return true;}while(true){if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}}return (_j<_d)?_j: -1;};_pDataset.findRowExpr=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=this._exprFuncs[_a];if(_e==null){_e=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _e!="function"){return  -1;}var _f=_b;function findRowExpr_loop(_g){if(_f<_c){var _h=_d[_f];if(_g._checkRowData(_h)){var _i=_e.call(_g,_f,_f,null,_g);if(_i){return true;}}_f++ ;return false;}return true;}while(true){if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}}return (_f<_c)?_f: -1;};_pDataset.findRowAs=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f;var _g= -1;var _h= -1;if(typeof (_a)=="string"){_h=this.colinfos.indexOf(_a);if(_h==undefined||_h<0){_g=this._constVars.indexOf(_a);}if(!(( +_a)!=( +_a))){return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a> -1&&_a<this.colcount){var _k=this.colinfos.length;if(_a<_k){_h=_a;}else{_g=_a-_k;}}else{return  -1;}}if(_h>=0){return this._findRowAs(_h,_b,_c,_d);}if(_g>=0){_f=this._constVars[_g];if(this._isLike(_f,_b)&&_d>0){return 0;}else{return  -1;}}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return  -1;}var _j=_c;function findRowAs_loop(_l){if(_j<_d){var _m=_e[_j];if(_l._checkRowData(_m)){_f=_i.call(_l,_j,_j,null,_l);if(_l._isLike(_f,_b)){return true;}}_j++ ;return false;}return true;}while(true){if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}}return (_j<_d)?_j: -1;};_pDataset.getSum=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e*this._getCount(_b,_c, -1);}var _f=this._constVars.indexOf(_a);if(_f>=0){_e=this._constVars[_f];if((typeof _e)=="number"){return _e*this._getCount(_b,_c, -1);}else if(_e instanceof nexacro.Decimal){var _h=new nexacro.Decimal(this._getCount(_b,_c, -1));_h.mulDecimal(_e);return _h.isNaN()?0:_h;}else{return 0;}}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getSum(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return 0;}var _h=0;var _i;var _j=_b;function getSum_loop(_k){if(_j<_c){if(_k._checkRowData(_d[_j])){_i=_g.call(_k,_j,_j,null,_k);if((_h instanceof nexacro.Decimal)==false){if((_i instanceof nexacro.Decimal)==false){_h+=( +_i);}else{_h=new nexacro.Decimal(_h);_h.addDecimal(_i);}}else{if((_i instanceof nexacro.Decimal)==false){_h.addDouble(_i);}else{_h.addDecimal(_i);}}}_j++ ;return false;}return true;}while(true){if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?0:_h;}return ( +_h)!=( +_h)?0:_h;};_pDataset.getMin=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._constVars[_f];}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getMin(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=undefined;var _i=_b;function getMin_loop(_j){if(_i<_c){if(_j._checkRowData(_d[_i])){_e=_g.call(_j,_i,_i,null,_j);if(_h==null){_h=_e;}else if((_e instanceof nexacro.Decimal)==false){if(_e!=null&&_e<_h){_h=_e;}}else if(_e!=null){var _k=new nexacro.Decimal(_h);if((_e.hi<_k.hi)||(_e.hi==_k.hi&&_e.lo<_k.lo)){_h=_e;}}}_i++ ;return false;}return true;}while(true){if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset.getMax=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._constVars[_f];}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getMax(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=undefined;var _i=_b;function getMax_loop(_j){if(_i<_c){if(_j._checkRowData(_d[_i])){_e=_g.call(_j,_i,_i,null,_j);if(_h==null){_h=_e;}else if((_e instanceof nexacro.Decimal)==false){if(_e!=null&&_e>_h){_h=_e;}}else if(_e!=null){var _k=new nexacro.Decimal(_h);if((_e.hi>_k.hi)||(_e.hi==_k.hi&&_e.lo>_k.lo)){_h=_e;}}}_i++ ;return false;}return true;}while(true){if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset.getAvg=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){_e=this._constVars[_f];if(((typeof _e)=="number")||(_e instanceof nexacro.Decimal)){return _e;}else{return Infinity;}}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getAvg(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return Infinity;}var _h=0;var _i=0;var _j=_b;function getAvg_loop(_k){if(_j<_c){if(_k._checkRowData(_d[_j])){_e=_g.call(_k,_j,_j,null,_k);if(_e!=null){_h++ ;if((_i instanceof nexacro.Decimal)==false){if((_e instanceof nexacro.Decimal)==false){_i+=( +_e);}else{_i=new nexacro.Decimal(_i);_i.addDecimal(_e);}}else{if((_e instanceof nexacro.Decimal)==false){_i.addDouble(_e);}else{_i.addDecimal(_e);}}}}_j++ ;return false;}return true;}while(true){if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}}if(_h==0){return Infinity;}if(_i instanceof nexacro.Decimal){_i.divDouble(_h);}else{_i=_i/_h;}return _i;};_pDataset.getCaseCount=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}if(!_c||_c<0||_c>_d.length){_c=_d.length;}var _e=parseFloat(_a);if(isFinite(_e)){return this._getCount(_b,_c, -1);}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._getCount(_b,_c, -1);}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getCount(_b,_c, -1);}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return 0;}var _h=0;var _i=null;for(var _j=_b;_j<_c;_j++ ){if(this._checkRowData(_d[_j])){_i=_g.call(this,_j,_j,null,this);if(_i===true){_h++ ;}}}return _h;};_pDataset.getCaseSum=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f*this.getCaseCount(_a,_c,_d);}var _g=this._constVars.indexOf(_b);if(_g>=0){_f=this._constVars[_g];if((typeof _f)=="number"){return _f*this.getCaseCount(_a,_c,_d);}else if(_f instanceof nexacro.Decimal){var _j=new nexacro.Decimal(this.getCaseCount(_a,_c,_d));_j.mulDecimal(_f);return _j.isNaN()?0:_j;}else{return 0;}}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseSum(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return 0;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return 0;}var _j=0;var _k;var _l=null;var _m=_c;function getCaseSum_loop(_n){if(_m<_d){if(_n._checkRowData(_e[_m])){_l=_i.call(_n,_m,_m,null,_n);if(_l===true){_k=_h.call(_n,_m,_m,null,_n);if((_j instanceof nexacro.Decimal)==false){if((_k instanceof nexacro.Decimal)==false){_j+=( +_k);}else{_j=new nexacro.Decimal(_j);_j.addDecimal(_k);}}else{if((_k instanceof nexacro.Decimal)==false){_j.addDouble(_k);}else{_j.addDecimal(_k);}}}}_m++ ;return false;}return true;}while(true){if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?0:_j;}return ( +_j)!=( +_j)?0:_j;};_pDataset.getCaseMin=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){return this._constVars[_g];}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseMin(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return undefined;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return undefined;}var _j=undefined;var _k=null;var _l=_c;function getCaseMin_loop(_m){if(_l<_d){if(_m._checkRowData(_e[_l])){_k=_i.call(_m,_l,_l,null,_m);if(_k===true){_f=_h.call(_m,_l,_l,null,_m);if(_j==null){_j=_f;}else if((_f instanceof nexacro.Decimal)==false){if(_f!=null&&_f<_j){_j=_f;}}else if(_f!=null){var _n=new nexacro.Decimal(_j);if((_f.hi<_n.hi)||(_f.hi==_n.hi&&_f.lo<_n.lo)){_j=_f;}}}}_l++ ;return false;}return true;}while(true){if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset.getCaseMax=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){return this._constVars[_g];}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseMax(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return undefined;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return undefined;}var _j=undefined;var _k=null;var _l=_c;function getCaseMax_loop(_m){if(_l<_d){if(_m._checkRowData(_e[_l])){_k=_i.call(_m,_l,_l,null,_m);if(_k===true){_f=_h.call(_m,_l,_l,null,_m);if(_j==null){_j=_f;}else if((_f instanceof nexacro.Decimal)==false){if(_f!=null&&_f>_j){_j=_f;}}else if(_f!=null){var _n=new nexacro.Decimal(_j);if((_f.hi>_n.hi)||(_f.hi==_n.hi&&_f.lo>_n.lo)){_j=_f;}}}}_l++ ;return false;}return true;}while(true){if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset.getCaseAvg=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){_f=this._constVars[_g];if(((typeof _f)=="number")||(_f instanceof nexacro.Decimal)){return _f;}else{return Infinity;}}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseAvg(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return Infinity;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return Infinity;}var _j=0;var _k=0;var _l=null;var _m=_c;function getCaseAvg_loop(_n){if(_m<_d){if(_n._checkRowData(_e[_m])){_l=_i.call(_n,_m,_m,null,_n);if(_l===true){_f=_h.call(_n,_m,_m,null,_n);if(_f!=null){_j++ ;if((_k instanceof nexacro.Decimal)==false){if((_f instanceof nexacro.Decimal)==false){_k+=( +_f);}else{_k=new nexacro.Decimal(_k);_k.addDecimal(_f);}}else{if((_f instanceof nexacro.Decimal)==false){_k.addDouble(_f);}else{_k.addDecimal(_f);}}}}}_m++ ;return false;}return true;}while(true){if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}}if(_j==0){return Infinity;}if(_k instanceof nexacro.Decimal){_k.divDouble(_j);}else{_k=_k/_j;}return _k;};_pDataset.getCountNF=function(_a){var _b=this._getNotDelRec();var _c= -1;var _d="";if(_a){if(typeof (_a)=="string"){_c=this.colinfos.indexOf(_a);if(!(_c>=0)){return 0;}}else if(typeof (_a)=="number"){_c=_a;_d=this.colinfos.get_id(_c);if(!_d){return 0;}}else{return 0;}var _e=this._viewRecords;this._viewRecords=_b;this._checkRowData=this._checkRawRowData;var _f=0;var _g=this._rawRecords.length;var _h=this._getCount(_f,_g, -1,_c,true);this._checkRowData=this._checkViewRowData;this._viewRecords=_e;return _h;}return _b.length;};_pDataset.getSumNF=function(_a,_b,_c){return this._calcNFData(this.getSum,_a,_b,_c);};_pDataset.getMinNF=function(_a,_b,_c){return this._calcNFData(this.getMin,_a,_b,_c);};_pDataset.getMaxNF=function(_a,_b,_c){return this._calcNFData(this.getMax,_a,_b,_c);};_pDataset.getAvgNF=function(_a,_b,_c){return this._calcNFData(this.getAvg,_a,_b,_c);};_pDataset.findMaxLengthRow=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}if(!_c||_c>_d.length){_c=_d.length;}var _e=parseInt(_a)|0;if(isFinite(_e)){if(_e>=0){return this._findMaxLengthRow(_e,_b,_c);}else{return  -1;}}var _f=this._constVars.indexOf(_a);if(_f>=0){return (this._constVars[_f])?this._constVars[_f].toString().length:0;}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._findMaxLengthRow(_f,_b,_c);}return  -1;};_pDataset.findMaxLengthRowNF=function(_a,_b,_c){return this._calcNFData(this.findMaxLengthRow,_a,_b,_c);};_pDataset._endIdx=function(_a,_b,_c){var _d=this._viewRecords.length;if(_c){switch(_a){case 1:return 0;case 4:if(_b<0||_b>=_d){return _d;}if(( +_b)!=( +_b)){return 0;}return _b;default:return _d;}}else{if(_a==3){if(_b<0||_b>_d){return _d;}if(( +_b)!=( +_b)){return 0;}return _b;}return _d;}};_pDataset._clearAllExprs=function(){this._exprFuncs=null;this._exprFuncs={};};_pDataset._clearAll=function(){this.colinfos=null;var _a=this.rowcount;this.colinfos=new nexacro.DSColumnInfoList();this._constVars=new nexacro.VariableList();this._rawRecords.splice(0,this._rawRecords.length);if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._deletedRecords.splice(0,this._deletedRecords.length);this._viewRecords=null;this._rawRecords=null;this._deletedRecords=null;this._rawRecords=[];this._deletedRecords=[];this._viewRecords=this._rawRecords;this.colcount=0;this.constcount=0;this.rowcount=0;this._keycols.splice(0,this._keycols.length);this._keycols.max_keylevel=0;if(this.loadkeymode.toLowerCase()=="reset"){this.keystring=this._defaultKeyStr;}if(this.loadfiltermode.toLowerCase()=="reset"){this.filterstr=this._defaultFilterStr;}this._filterFn=null;this._clearAllExprs();return _a;};_pDataset._clearData=function(){var _a=this.rowcount;this._rawRecords.splice(0,this._rawRecords.length);if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=this._rawRecords;this._deletedRecords.splice(0,this._deletedRecords.length);this._deletedRecords=null;this._deletedRecords=[];this.rowcount=0;return _a;};_pDataset._forcesetRowPosition=function(_a,_b){if(_a<0||_a>=this.rowcount){_a= -1;}var _c=this.rowposition;if(_a!=_c&&_a<this.rowcount){if(this.canrowposchange&&this.canrowposchange._has_handlers&&_c!= -1){var _d=new nexacro.DSRowPosChangeEventInfo(this,"canrowposchange",_c,_a,_b);var _e=this.on_fire_canrowposchange(_d);if(_e==false){return;}}if(this.onrowposchanged&&this.onrowposchanged._has_handlers){var _d=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_c,_a,_b);this.rowposition=_a;this.on_fire_onrowposchanged(_d);}else{this.rowposition=_a;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _d=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",_a, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_d);}};_pDataset._setRowPosition=function(_a,_b,_c,_d){if(_a<0||_a>=this.rowcount){_a= -1;}var _e=this.rowposition;if(_a!=_e){if((this.canrowposchange&&this.canrowposchange._has_handlers)||(this.onrowposchanged&&this.onrowposchanged._has_handlers)){var _f=new nexacro.DSRowPosChangeEventInfo(this,"canrowposchange",_e,_a,_c);if(this.canrowposchange&&this.canrowposchange._has_handlers&&this._eventstat&&_b===undefined&&(_e>= -1)){var _g=this.on_fire_canrowposchange(_f);if(_g==false){return;}if(_a!=_f.newrow){_a=_f.newrow;}if(_a>=0||_a<this.rowcount){this.rowposition=_a;if(_a!=_e){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_f);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}}else{if(_a>=0||_a<this.rowcount){this.rowposition=_a;if(this._eventstat){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_f);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}}}else{this.rowposition=_a;if(this._eventstat&&this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else if(_d){if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}return this.rowposition;};_pDataset._splitKeyCols=function(_a){var _b=[];var _c,_d;if(_a.charAt(0)!='+'&&_a.charAt(0)!='-'){_a='+'+_a;}_c=_a.indexOf('+');_d=_a.indexOf('-');var _e=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);var _f=0;while(_e>=0){_c=_a.indexOf('+',_e+1);_d=_a.indexOf('-',_e+1);var _g=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);if(_g<0){_b[_f]=_a.substr(_e);_f++ ;}else{_b[_f]=_a.substr(_e,_g-_e);_f++ ;}_e=_g;}delete _f;return _b;};_pDataset._clearKeyCols=function(){this._keycols.splice(0,this._keycols.length);this._keycols.max_keylevel=0;};_pDataset._parseKeyCols=function(){var _a=this._keycols.length;if(_a>0){return _a;}var _b=this.keystring;if(_b.length>0){var _c=0;var _d=_b.split(',');var _e=_d.length-1;function _parseKeyCols_loop(_f){if(_e>=0){var _g=_d[_e].trim();if(_g.length==0){_e-- ;return false;}var _h=_g.indexOf(':');if(_h<=0||(_g.charAt(0)!='S'&&_g.charAt(0)!='s')){_c++ ;}var _i;if(_h>=0){_i=_f._splitKeyCols(_g.substr(_h+1));}else{_i=_f._splitKeyCols(_g);}var _j=_i.length-1;function _parseKeyCols_loop2(){if(_j>=0){var _k=_i[_j].trim();if(_k.length==0){_j-- ;return false;}var _l;var _m= -1;var _n=false;if(_k.charAt(0)=='-'){_l=_k.substr(1);_m=_f.colinfos.indexOf(_l);_n=true;}else if(_k.charAt(0)=='+'){_l=_k.substr(1);_m=_f.colinfos.indexOf(_l);_n=false;}else{_l=_k;_m=_f.colinfos.indexOf(_l);_n=false;}if(_m>=0){_f._keycols[_a]={level:_c,colid:_l,colidx:_m,descending:_n};_a++ ;}_j-- ;return false;}return true;}while(true){if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}}_e-- ;return false;}return true;}while(true){if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}}}this._keycols.max_keylevel=_c;return _a;};_pDataset._getLocale=function(){var _a=nexacro.System.locale;var _b=this;while(_b){if(_b._locale){_a=_b._locale;break;}_b=_b.parent;}if(_a.indexOf("_")> -1){_a=_a.substr(0,2);}return _a;};_pDataset._createSortFunc=function(){var _a=this._keycols;var _b=_a.length;var _c=this._getLocale();var _d=this;return function(_e,_f){for(var _g=_b-1;_g>=0;_g-- ){var _h=_a[_g];var _i=_e[_h.colidx];var _j=_f[_h.colidx];var _k=0;if((_i instanceof nexacro.Decimal)==false){if(_i!=null){if(_i!=_j){if(_j!=null){if((_j instanceof nexacro.Decimal)==false){if(_d.colinfos[_h.colidx].type=="STRING"){_k=_i.localeCompare(_j,_c);}else{_k=(_i>_j?1: -1);}}else{_k=((_i.hi>_j.hi||(_i.hi>=_j.hi&&_i.lo>_j.lo))?1: -1);}}else{_k=1;}}else{_k=0;}}else if(_i!=_j){_k= -1;}else{_k=0;}}else{if(_j!=null){_k=(_i.hi==_j.hi&&_i.lo==_j.lo)?0:((_i.hi>_j.hi||(_i.hi>=_j.hi&&_i.lo>_j.lo))?1: -1);}else{_k=1;}}if(_k!=0){return (_h.descending)? -_k:_k;}}return (_e._rawidx>_f._rawidx)?1: -1;};};_pDataset._sortData=function(){var _a=this._viewRecords;if(_a.length>0){if(this._viewRecords==this._rawRecords){_a=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _b=this._createSortFunc();_a.sort(_b);}};_pDataset._deleteAllGroupData=function(){var _a=this._viewRecords;var _b=_a.length;var _c=_b-1;function _deleteAllGroupData_loop(){if(_c>=0){if(_a[_c]._level>0){_a.splice(_c,1);}_c-- ;return false;}return true;}while(true){if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}}};_pDataset._calcGroupData=function(_a,_b){var _c=this.colinfos;var _d=_c.length;var _e=_a._grpstart;var _f=_a._grpend;var _g=_a._level;var _h=this._viewRecords[_e];var _i=0;function _calcGroupData_loop(_j){if(_i<_d){var _k=_c[_i].prop;if(_k&&_k.length>0){_k=_k.toLowerCase();}switch(_k){case "count":_a[_i]=_j._getCount(_e,_f, -1);break;case "sum":_a[_i]=_j._getSum(_i,_e,_f, -1);break;case "max":_a[_i]=_j._getMax(_i,_e,_f, -1);break;case "min":_a[_i]=_j._getMin(_i,_e,_f, -1);break;case "avg":_a[_i]=_j._getAvg(_i,_e,_f, -1);break;case "text":_a[_i]=_c[_i].sumtext;break;case "key":_a[_i]=_h[_i];break;default:if(_b[_i]>=_g){_a[_i]=_h[_i];}else{switch(_c[_i].ntype){case 2:case 3:case 4:_a[_i]=_j._getSum(_i,_e,_f, -1,_c[_i].ntype);break;default:_a[_i]=_c[_i].sumtext;break;}}break;}_i++ ;return false;}return true;}while(true){if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}}};_pDataset._createGroupData=function(){var _a=this._keycols;var _b=_a.max_keylevel;var _c=this._viewRecords;if(_b==0||this._viewRecords.length==0){return;}var _d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var _e=_a.length;var _f=[];var _g=0;function _createGroupData_init_loop(){if(_g<_e){_f[_a[_g].colidx]=_a[_g].level;_g++ ;return false;}return true;}while(true){if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}}var _h,_i;var _j=this._viewRecords.length;var _k=this._viewRecords[0];var _l,_m;var _n,_o;var _p=1;function _createGroupData_loop(_s){if(_p<_j){_l=_s._viewRecords[_p];_n=0;var _t=_e-1;function _createGroupData_chk_loop(){if(_t>=0){if(_a[_t].level==0){_t-- ;return false;}if(_l[_a[_t].colidx] instanceof nexacro.Decimal&&_k[_a[_t].colidx] instanceof nexacro.Decimal){if(!_l[_a[_t].colidx].isEqual(_k[_a[_t].colidx])){_n=_a[_t].level;return true;}}else if(_l[_a[_t].colidx]!=_k[_a[_t].colidx]){_n=_a[_t].level;return true;}_t-- ;return false;}return true;}while(true){if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}}if(_n!=0){var _q=1;function _createGroupData_grp_loop(){if(_q<=_n){_m=[];_m._level=_q;_h=_d[_q];_i=_p;_m._grpstart=_h;_m._grpend=_i;_m._rtype=16;_s._calcGroupData(_m,_f);if(_s.reversesubsum){_c.splice(_h,0,_m);}else{_c.splice(_i,0,_m);}_m=null;_j++ ;_p++ ;_q++ ;return false;}return true;}while(true){if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}}_k=_l;_q=1;function _createGroupData_lastgrp_loop(){if(_q<=_n){_d[_q]=_p;_q++ ;return false;}return true;}while(true){if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}}}_p++ ;return false;}return true;}while(true){if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}}var _q=1;var _r=_c.length;function _createGroupData_last_loop(_s){if(_q<=_b){_m=[];_m._level=_q;_h=_d[_q];_i=_r;_m._grpstart=_h;_m._grpend=_i;_m._rtype=16;_s._calcGroupData(_m,_f);if(_s.reversesubsum){_c.splice(_h,0,_m);}else{_c[_r]=_m;}_r++ ;_q++ ;_m=null;return false;}return true;}while(true){if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}}delete _r;};_pDataset._resetSortGroup=function(){var _a=this.rowposition;if(this.rowposition== -1){var _a=0;}var _b=this._viewRecords[_a];if(this._parseKeyCols()>0&&this._rawRecords.length>0){if(this._rawRecords!=this._viewRecords){if(this._viewRecords.length==0){_b=null;return false;}this._deleteAllGroupData();}else{this._viewRecords=null;this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}this._sortData();this._createGroupData();this.rowcount=this._viewRecords.length;}_b=null;return false;};_pDataset._adjustGroupRowData=function(_a){var _b=this._keycols;if(_b.max_keylevel==0){return false;}var _c=_b.length;var _d=[];var _e=0;function _adjustGroupRowData_init_loop(){if(_e<_c){_d[_b[_e].colidx]=_b[_e].level;_e++ ;return false;}return true;}while(true){if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}}var _f=this._viewRecords;var _g=_f.length;var _h;var _i=_a;function _adjustGroupRowData_loop(_j){if(_i<_g){_h=_f[_i];if(_h&&_h._rtype==16&&_h._grpend>=_a){_h._grpend-- ;if(_h._grpstart<=_a){if(_h._grpend<=_h._grpstart){_f.splice(_i,1);_i-- ;}else{_j._calcGroupData(_h,_d);}}else{_h._grpstart-- ;}}_i++ ;return false;}return true;}while(true){if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}}_d=null;return true;};_pDataset._updateGroupRowData=function(_a){var _b=this._keycols;if(_b.max_keylevel==0){return false;}var _c=_b.length;var _d=[];var _e=0;function _updateGroupRowData_init_loop(){if(_e<_c){_d[_b[_e].colidx]=_b[_e].level;_e++ ;return false;}return true;}while(true){if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}}var _f=this._viewRecords;var _g=_f.length;var _h;var _i=_a;function _updateGroupRowData_loop(_j){if(_i<_g){_h=_f[_i];if(_h._rtype==16&&_h._grpstart<=_a&&_h._grpend>=_a){_j._calcGroupData(_h,_d);}_i++ ;return false;}return true;}while(true){if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}}_d=null;return true;};_pDataset._removeEmptyRows=function(){var _a=this._rawRecords;var _b=_a.length;var _c=_b-1;function _removeEmptyRows_rm_loop(){if(_c>=0){if(_a[_c]._rtype==0){_a.splice(_c,1);}_c-- ;return false;}return true;}while(true){if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}}_b=_a.length;var _c=0;function _removeEmptyRows_adj_loop(){if(_c<_b){_a[_c]._rawidx=_c;_c++ ;return false;}return true;}while(true){if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}}};_pDataset._reFilter=function(){var _a;if(this.filterstr.length>0){_a=this._viewRecords;if(_a!=this._rawRecords){_a.splice(0,_a.length);}_a=this._viewRecords=this._getNotDelRec();if(this._filterFn==null){var _b=this._createExprFunc(this.filterstr);if(typeof _b=="function"){this._filterFn=_b;}}if(this._filterFn){var _c=this._filterFn;var _d=_a.length;var _e;var _f=_d-1;function _reFilter_loop(_g){if(_f>=0){_e=_c.call(_g,_f,_f,null,_g);if(!_e||_a[_f]._rtype==8){_a.splice(_f,1);}_f-- ;return false;}return true;}while(true){if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}}}}else{_a=this._viewRecords;if(_a!=this._rawRecords){_a.splice(0,_a.length);}this._viewRecords=this._getNotDelRec();}_a=null;this.rowcount=this._viewRecords.length;};_pDataset._getConstColIndex=function(_a){return this._constVars.indexOf(_a);};_pDataset._getDataColIndex=function(_a){return this.colinfos.indexOf(_a);};_pDataset._addConstColumn=function(_a,_b,_c){if(_a in this.colinfos){return  -1;}if(_a in this._constVars){var _d=this._constVars.get_item(_a);if(_b!=_d){this._constVars.set_item(_a,_b);return this._constVars.indexOf(_a);}else{return  -1;}}if(_c){_c=nexacro.DataUtils._typecodes[_c.toLowerCase()];_b=nexacro.DataUtils.convert(_b,_c);}this.constcount++ ;this.colcount++ ;return this._constVars.add(_a,_b);};_pDataset._addColumn=function(_a,_b,_c,_d,_e){if((_a in this.colinfos)||(_a in this._constVars)){return  -1;}var _f;if(_b==undefined){_f=1;_b="STRING";}else{_f=nexacro.DataUtils._typeint[_b.toLowerCase()];}if(_f==null){_f=1;}if(( +_c)!=( +_c)){_c=256;}var _g=this.colinfos.length;var _h=new nexacro.DSColumnInfo(_a,_b,_f,_c,_d,_e,_g);this.colcount++ ;return this.colinfos.add(_a,_h);};_pDataset._addColumnInfo=function(_a,_b){if((_a in this.colinfos)||(_a in this._constVars)){return  -1;}var _c=this.colinfos.length;var _d=new nexacro.DSColumnInfo(_a,_b.type,_b.ntype,_b.size,_b.prop,_b.sumtext,_c);this.colcount++ ;return this.colinfos.add(_a,_d);};_pDataset._appendColList=function(_a){if(_a._type_name=="DSColumnInfoList"){var _b=_a.length;var _c=0;var _d=this.colinfos.length;if(_b>0){var _e=0;function _appendColList_loop(_f){if(_e<_b){var _g=_a[_e];var _h=_g.id;if((_h in _f.colinfos)||(_h in _f._constVars)){_e++ ;return false;}var _i=new nexacro.DSColumnInfo(_h,_g.type,_g.ntype,_g.size,_g.prop,_g.sumtext,_d);_f.colinfos.add(_h,_i);_d++ ;_c++ ;_e++ ;return false;}return true;}while(true){if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}}if(_c>0){this.colcount+=_c;}}return _c;}return 0;};_pDataset._deleteColumn=function(_a){if(this.updatecontrol){return false;}var _b=this._constVars;var _c=this.colinfos;if(typeof (_a)=="string"){var _d=_b.indexOf(_a);if(_c.indexOf(_a)> -1){_a=_c.indexOf(_a);}else if(_b.indexOf(_a)> -1){_a=_b.indexOf(_a)+_c.length;}else{return false;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}}if(this.colinfos.deleteItem(_a)> -1){this.colcount-- ;return true;}else{if(_b.deleteItem(_a-this.colinfos.length)> -1){this.constcount-- ;this.colcount-- ;return true;}}return false;};_pDataset._appendRow=function(_a){var _b=[];_b._rawidx=this._rawRecords.length;_b._level=0;_b._rtype=_a;this._rawRecords[_b._rawidx]=_b;var _c=this._viewRecords.length;if(this._rawRecords!=this._viewRecords){this._viewRecords[_c]=_b;_c++ ;}this.rowcount=_c;_b=null;delete _c;return this.rowcount-1;};_pDataset._insertRow=function(_a,_b){var _c=this._viewRecords;if(_a>=_c.length){return this._appendRow(_b);}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _d=[];_d._rawidx=this._rawRecords.length;_d._rtype=_b;_d._level=0;var _e=this._rawRecords;var _f=_e.length;var _g=0;for(var _h=0;_h<_f;_h++ ){if(_e[_h]._rtype==8){_g++ ;}if(_h==_a+_g){break;}}this._rawRecords.splice(_a+_g,0,_d);_c.splice(_a,0,_d);this._removeEmptyRows();this.rowcount=this._viewRecords.length;_d=null;return _a;};_pDataset._deleteRow=function(_a){if(!(( +_a)!=( +_a))){_a=parseInt(_a)|0;}if(_a<0){return  -1;}var _b=this._viewRecords;if(_a>=_b.length){return  -1;}if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _c=_b[_a];if(_c){var _d=this._deletedRecords.length;if(this.updatecontrol){if(_c._rtype==1){_c._rtype=8;this._deletedRecords[_d]=_c;_d++ ;_b.splice(_a,1);}else if(_c._rtype==2){_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}else if(_c._rtype==4){var _e=_c._orgrow;var _f=this.colinfos.length;for(var _g=0;_g<_f;_g++ ){_c[_g]=_e[_g];}delete _c._orgrow;this._deletedRecords[_d]=_c;_d++ ;_b.splice(_a,1);_c._rtype=8;}else if(_c._rtype==16){_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}else{return  -1;}}else{_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}this.rowcount=this._viewRecords.length;}return _a;};_pDataset._moveRow=function(_a,_b){var _c=this._viewRecords;if(this._rawRecords.length<=0){return  -1;}if(_a>=_c.length||_b>=_c.length||_a==_b){return  -1;}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _d=this._rawRecords[_a];this._rawRecords.splice(_a,1);this._rawRecords.splice(_b,0,_d);_d=_c[_a];_c.splice(_a,1);_c.splice(_b,0,_d);return _b;};_pDataset._exchangeRow=function(_a,_b){var _c=this._viewRecords;if(this._rawRecords.length<=0){return  -1;}if(_a>=_c.length||_b>=_c.length||_a==_b){return false;}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _d=this._rawRecords[_a];this._rawRecords[_a]=_c[_b];this._rawRecords[_b]=_d;_d=_c[_a];_c[_a]=_c[_b];_c[_b]=_d;return true;};_pDataset._deleteAll=function(){var _a=this._viewRecords;var _b=_a.length;var _c=0;var _d=0;var _e=this._deletedRecords.length;var _f=this.updatecontrol;var _g=this._deletedRecords;function _deleteAll_loop(_h){if(_d<_b){var _i=_a[_d];if(_f){if(_i._rtype==1){_i._rtype=8;_g[_e]=_i;_e++ ;}else if(_i._rtype==2){_i._rtype=0;_c++ ;}else if(_i._rtype==4){var _j=_i._orgrow;var _k=_h.colinfos.length;for(var _l=0;_l<_k;_l++ ){_i[_l]=_j[_l];}delete _i._orgrow;_i._rtype=8;_g[_e]=_i;_e++ ;}}else{_i._rtype=0;_c++ ;}_d++ ;return false;}return true;}while(true){if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}}if(this._rawRecords==this._viewRecords){this._viewRecords=[];}else{this._viewRecords.splice(0,this._viewRecords.length);}if(_c>0){this._removeEmptyRows();}this.rowcount=0;return _b;};_pDataset._deleteMultiRows=function(_a){var _b=this._viewRecords;if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _c=this._deletedRecords;var _d=_b.length;var _e=[];var _f=0;var _g;var _h;var _i=0;var _j= -1;var _k=_c.length;var _l=0;function _deleteMultiRows_loop(_m){if(_i<_d){_j=_a[_f];_g=_b[_i];_h=_b[_j];if(_g==_h){if(_m.updatecontrol){if(_g._rtype==1){_g._rtype=8;_c[_k]=_g;_k++ ;_f++ ;}else if(_g._rtype==2){_g._rtype=0;_m._removeEmptyRows();_f++ ;}else if(_g._rtype==4){var _n=_g._orgrow;var _o=_m.colinfos.length;for(var _p=0;_p<_o;_p++ ){_g[_i]=_n[_p];}delete _g._orgrow;_g._rtype=8;_c[_k]=_g;_k++ ;_f++ ;}}else{_g._rtype=0;_m._removeEmptyRows();_b.splice(_i,1);_d-- ;_i-- ;_f++ ;}}else{_e[_l]=_g;_l++ ;}_i++ ;return false;}return true;}while(true){if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}}delete _k;delete _l;if(_f>0){if(this._rawRecords!=this._viewRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=_e;}_e=null;return _f;};_pDataset._filterRow=function(_a){var _b=this._viewRecords;if(_a>=_b.length){return false;}if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}_b.splice(_a,1);this._adjustGroupRowData(_a);this.rowcount=this._viewRecords.length;return true;};_pDataset._updateColumn=function(_a,_b,_c,_d){var _e=_b[_c];if(_e===_d||_b._rtype==16){return false;}if(_b._rtype==1&&this.updatecontrol){var _f=[];var _g=_b.length;var _h=0;function _updateColumn_loop(){if(_h<_g){_f[_h]=_b[_h];_h++ ;return false;}return true;}while(true){if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}}_b._orgrow=_f;_b._rtype=4;_f=null;}else if(_b._rtype==4&&this.updatecontrol){if(_b._orgrow){var _i=this.colinfos.length;_b[_c]=_d;if(_b._orgcolstrings){_b._orgcolstrings[_c]=_d;}var _j=true;for(var _k=0;_k<_i;_k++ ){if(!(_b[_k]==""&&_b._orgrow[_k]==undefined)){if(_b[_k] instanceof nexacro.Decimal&&_b._orgrow[_k] instanceof nexacro.Decimal){if(_b[_k].isEqual(_b._orgrow[_k])==false){_j=false;break;}}else if(_b[_k] instanceof nexacro.Date&&_b._orgrow[_k] instanceof nexacro.Date){if(_b[_k].valueOf()!=_b._orgrow[_k].valueOf()){_j=false;break;}}else if(_b[_k]!=_b._orgrow[_k]){_j=false;break;}}}if(_j==true){delete _b["_orgrow"];_b._rtype=1;}}}_b[_c]=_d;if(_b._orgcolstrings){_b._orgcolstrings[_c]=_d;}this._updateGroupRowData(_a);return true;};_pDataset._setLayout=function(_a){this.colinfos=_a.colinfos;this._constVars=_a._constVars;};_pDataset._setRawData=function(_a,_b){this._rawRecords=_a;this._viewRecords=this._rawRecords;this._deletedRecords=_b;};_pDataset._createExprFunc=function(_a){var _b=new nexacro.ExprParser();var _c=_b.makeExpr(this,_a);var _d=nexacro._createInlineFunc(_c,["currow","rowidx","comp","dataset"]);return _d;};_pDataset._getColumnSize=function(_a){if(( +_a)!=( +_a)){if(this.colinfos[_a]){return this.colinfos[_a].size;}else if(this._conVars[_a]){return this._colVars[_a].size;}else{return undefined;}}else{if(_a<0||_a>=this.colcount){return undefined;}var _b=this.colinfos.length;if(this.colinfos[_a]){return this.colinfos[_a].size;}else{return this._colVars[_a-_b].size;}}};_pDataset._getColumnType=function(_a){if(_a in this.colinfos){return this.colinfos[_a].ntype;}if(_a in this._constVars){var _b=this._constVars[_a];var _c=(typeof _b);if(_c=="number"){return 2;}return nexacro.DataUtils._typecodes[_c];}};_pDataset._isConstColumn=function(_a){if(( +_a)!=( +_a)){if(this._constVars[_a]){return true;}else{return false;}}else{var _b=this.colinfos.length;if(_a<this.colcount&&_a>=_b){return true;}else{return false;}}};_pDataset._copyConstColList=function(_a){if(_a._type_name=="VariableList"){var _b=_a.length;var _c=0;var _d=this._constVars.length;if(_b>0){var _e=0;function _copyConstColList_loop(_f){if(_e<_b){var _g=_a.get_id(_e);if((_g in _f.colinfos)||(_g in _f._constVars)){_e++ ;return false;}_f._constVars.add(_g,_a[_e]);_d++ ;_c++ ;_e++ ;return false;}return true;}while(true){if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}}if(_c>0){this.count+=_c;this.constcount+=_c;}}return _c;}return 0;};_pDataset._copyRowList=function(_a){var _b=_a.length;var _c=0;var _d=this._rawRecords.length;var _e=this._viewRecords.length;var _f=this._rawRecords.length;var _g=0;function _copyRowList_loop(_h){if(_g<_b){var _i=_a[_g];var _j=_i._level;var _k=_i._rtype;if((_j==0)&&(_k==1||_k==2||_k==4)){var _l=[];_l._level=0;_l._rawidx=_d;_l._rtype=1;var _m=_i.length;for(var _n=0;_n<_m;_n++ ){_l[_n]=_i[_n];}if(_h._rawRecords!=_h._viewRecords){_h._viewRecords[_e]=_l;_e++ ;}_h._rawRecords[_f]=_l;_f++ ;_l=null;}_i=null;_d++ ;_c++ ;_g++ ;return false;}return true;}while(true){if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}}delete _f;delete _e;return _c;};_pDataset._copyData=function(_a,_b){if(this.name==undefined){this.id=this.name=_a.id;}this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);if(_b==true){if(_a._viewRecords.length>0){this._copyRowList(_a._viewRecords);}}else{if(_a._rawRecords.length>0){this._copyRowList(_a._rawRecords);}}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._mergeData=function(_a){var _b=_a._rawRecords.length;var _c=0;var _d=this._rawRecords.length;var _e=_d;var _f=this.colinfos.length;var _g=this._viewRecords.length;var _h=this._rawRecords.length;var _i=0;function _mergeData_loop(_j){if(_i<_b){var _k=_a._rawRecords[_i];var _l=_k._level;var _m=_k._rtype;if((_l==0)&&(_m==1||_m==2||_m==4)){var _n=[];_n._level=0;_n._rawidx=_e;_n._rtype=1;if(_j._rawRecords!=_j._viewRecords){_j._viewRecords[_g]=_n;_g++ ;}_j._rawRecords[_h]=_n;_h++ ;for(var _o=0;_o<_f;_o++ ){var _p=_j.colinfos.get_id(_o);var _q=_a.colinfos.indexOf(_p);if(_q!=null){_n[_o]=_j.colinfos[_o]._fromVal(_k[_q]);}}_e++ ;_c++ ;}_i++ ;return false;}return true;}while(true){if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}}delete _g;delete _h;if(_c>0){this.rowcount+=_c;}return _c;};_pDataset._appendConstColList=function(_a,_b){if(_a._type_name=="VariableList"){var _c=this._constVars.length;var _d=0;var _e=Math.min(_c,_a.length);if(_c>0){if(_b){var _f=0;function _appendConstColList_loop(_g){if(_f<_c){var _h=_g._constVars.get_id(_f);var _i=_a.indexOf(_h);if(_i!=null){_g._constVars.set_item(_f,_a[_i]);_d++ ;}_f++ ;return false;}return true;}while(true){if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}}}else{var _f=0;function _appendConstColList_loop2(_g){if(_f<_e){_g._constVars.set_item(_f,_a[_f]);_d++ ;_f++ ;return false;}return true;}while(true){if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}}}}return _d;}return 0;};_pDataset._appendRowList=function(_a,_b){var _c=_a._viewRecords.length;var _d=0;var _e=this._rawRecords.length;var _f=this.colinfos.length;var _g=Math.min(_f,_a._rawRecords[0].length);var _h=this._viewRecords.length;var _i=this._rawRecords.length;var _j=0;function _appendRowList_loop(_k){if(_j<_c){var _l=_a._viewRecords[_j];var _m=_l._level;var _n=_l._rtype;if((_m==0)&&(_n==1||_n==2||_n==4)){var _o=[];_o._level=0;_o._rawidx=_e;_o._rtype=1;if(_b==true||_b=="true"){var _p=0;function _appendRowList_loop2(){if(_p<_f){var _q=_k.colinfos.get_id(_p);var _r=_a.colinfos.indexOf(_q);if(_r!=null){_o[_p]=nexacro.DataUtils.convert(_l[_r],_k.colinfos[_p].ntype);}_p++ ;return false;}return true;}while(true){if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}}}else{var _p=0;function _appendRowList_loop3(){if(_p<_g){_o[_p]=nexacro.DataUtils.convert(_l[_p],_k.colinfos[_p].ntype);_p++ ;return false;}return true;}while(true){if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}}}if(_k._rawRecords!=_k._viewRecords){_k._viewRecords[_h]=_o;_h++ ;}_k._rawRecords[_i]=_o;_i++ ;}_e++ ;_d++ ;_j++ ;return false;}return true;}while(true){if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}}delete _h;delete _i;return _d;};_pDataset._appendData=function(_a,_b,_c){if(this.colcount==0){this._appendColList(_a.colinfos);if(_c==true){this._copyConstColList(_a._constVars);}}else{if(_c==true&&_a._constVars.length>0){this._appendConstColList(_a._constVars,_b);}}if(_a._viewRecords.length>0){this._appendRowList(_a,_b);}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._bWorkingstatus=false;_pDataset._endLoad=function(_a,_b,_c){this._bWorkingstatus=true;this._reFilter();this._resetSortGroup();if(this._eventstat){this.on_fire_onload(_a,_b,_c);if(this._viewRecords&&this._viewRecords.length>0){var _d=0;if(_d>=this.rowcount){_d= -1;}var _e=this.rowposition;if(_d!=_e){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){var _f=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_e,_d,51);if(_d>=0||_d<this.rowcount){this.rowposition=_d;if(_d!=_e){this.on_fire_onrowposchanged(_f);}}}else{this.rowposition=_d;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else if(this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pDataset._setContents=function(_a){var _b="<Dataset id=\""+this.id+"\">"+_a+"</Dataset>";if(_b.length){var _c=nexacro._parseXMLDocument(_b);if(_c){if(_c.nodeName=="Dataset"){this._loadFromDOM(_c);}else{var _d=_c.getElementsByTagName("Dataset");this._loadFromDOM(_d[0]);}this.rowposition= -1;}_c=null;}this.updateSortGroup();if(this.parent&&(this.parent!=application&&this.parent._is_form==false)){this.on_created();}};}else{_pDataset._setContents=function(_a){if(_a.length){this._loadFromXMLStr(_a);this.rowposition= -1;}this.updateSortGroup();if(this.parent&&(this.parent!=application&&this.parent._is_form==false)){this.on_created();}};}_pDataset._loadFromDOM=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(_a==null){this.loadstatus=false;this._eventstat=this.enableevent;return 0;}if(!_b){_b=0;}if(!_c){_c= -1;}this._setColInfoFromDOM(_a,_d);_b=this._loadRecordFromDOM(_a,_b,_c);var _f=this._viewRecords;var _g=this._deletedRecords;var _h=this._rawRecords;if(_g.length>0){_f=this._viewRecords=[];var _i=_h.length;var _j=_f.length;var _k=0;function _loadFromDOM_delrow_loop(){if(_k<_i){_currowData=_h[_k];if(_currowData._rtype!=8){_f[_j]=_currowData;_j++ ;}_k++ ;return false;}return true;}while(true){if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}}}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=_f.length;this.loadstatus=false;this._eventstat=this.enableevent;_f=null;_g=null;_h=null;return _b;};_pDataset._setColInfoFromDOM=function(_a,_b){var _c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q;if(_b){;}else{_j=_a.getElementsByTagName("ConstColumn");_f=(_j?_j.length:0);_c=0;function _loadFromDOM_const_loop(_r){if(_c<_f){_n=_j[_c];_p=_n.getAttribute("id");if(_p.length){_r._addConstColumn(_p,_n.getAttribute("value"),_n.getAttribute("type"));}_c++ ;return false;}return true;}while(true){if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}}_j=_a.getElementsByTagName("Column");_f=(_j?_j.length:0);_c=0;function _loadFromDOM_col_loop(_r){if(_c<_f){_n=_j[_c];_p=_n.getAttribute("id");if(_p.length){_r._addColumn(_p,_n.getAttribute("type"),_n.getAttribute("size"),_n.getAttribute("prop"),_n.getAttribute("sumtext"));}_c++ ;return false;}return true;}while(true){if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}}_j=null;}};_pDataset._loadRecordFromDOM=function(_a,_b,_c){var _d=this.colinfos;var _e;var _f,_g;_f=_a.getElementsByTagName("Row");var _h=(_f?_f.length:0);var _i=this._rawRecords;var _j=this._deletedRecords;var _k=_i.length;var _l=_j.length;var _m=_d.length;function _loadFromDOM_row_loop(){if(_b<_h){var _n=new Array(_m);_n._rawidx=_b;_n._level=0;var _o;for(var _p=0;_p<_m;_p++ ){_o=_d[_p];if(_o.ntype>=4&&_o.ntype<=7){_n[_o._index]=null;}}_rowElem=_f[_b];type=_rowElem.getAttribute("type");if(type==null){_n._rtype=1;}else if(type.charAt(0)=='I'||type.charAt(0)=='i'){_n._rtype=2;}else if(type.charAt(0)=='U'||type.charAt(0)=='u'){_n._rtype=4;}else if(type.charAt(0)=='D'||type.charAt(0)=='d'){_n._rtype=8;}else{_n._rtype=1;}_g=_rowElem.getElementsByTagName("Col");len=(_g?_g.length:0);var _q;for(j=0;j<len;j++ ){_colElem=_g[j];id=_colElem.getAttribute("id");_e=_d[id];if(_e){_q=_colElem.firstChild;if(_q){_n[_e._index]=_e._fromText(_q.nodeValue);}else{_n[_e._index]="";}}}_g=null;if(_n._rtype==4){_orgrowElems=_rowElem.getElementsByTagName("OrgRow");orgcnt=(_orgrowElems?_orgrowElems.length:0);if(orgcnt){var _r=new Array(_m);for(var _s=0;_s<_m;_s++ ){if(_d[_s].ntype>=4&&_d[_s].ntype<=7){_r[_d[_s]._index]=null;}}_g=_orgrowElems[0].getElementsByTagName("Col");len=(_g?_g.length:0);for(j=0;j<len;j++ ){_colElem=_g[j];id=_colElem.getAttribute("id");_e=_d[id];if(_e){_q=_colElem.firstChild;if(_q){_r[_e._index]=_e._fromText(_q.nodeValue);}}}_n._orgrow=_r;}}if(_n._rtype==8){_j[_l]=_n;_l++ ;}_i[_k]=_n;_i[_k]._orgcolstrings=_n;_k++ ;_b++ ;_n=null;if(_c>0&&(_k-_l)==_c){return true;}return false;}return true;}while(true){if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}}_f=null;_g=null;_i=null;_j=null;delete _k;delete _l;return _b;};_pDataset._setColInfoFromXMLStr=function(_a){var _b=0;var _c=nexacro._getXMLTagData(_a,_b,"<ColumnInfo>","</ColumnInfo>");if(_c){_b=_c[3];var _d=_c[0];var _e=0;function _loadFromXMLStr_const_loop(_f){var _g=nexacro._getXMLTagData2(_d,_e,"<ConstColumn ","</ConstColumn>");if(_g==null){return true;}_e=_g[3];var _h=_g[1];var _i=nexacro._getXMLAttributeID(_h);var _j=nexacro._getXMLAttributeData(_h,"value");if(_i.length){var _k=nexacro._getXMLAttributeType(_h);_f._addConstColumn(_i,nexacro._decodeXml(_j),_k);}return false;}while(true){if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}}var _f=0;function _loadFromXMLStr_col_loop(_g){var _c=nexacro._getXMLTagData4(_d,_f,"<Column ");if(_c==null){return true;}_f=_c[3];var _h=_c[1];var _i=nexacro._getXMLAttributeID(_h);if(_i&&_i.length){var _j=nexacro._getXMLAttributeType(_h);var _k=nexacro._getXMLAttributeData(_h,"size");var _l=nexacro._getXMLAttributeData(_h,"prop");var _m=nexacro._getXMLAttributeData(_h,"sumtext");_g._addColumn(_i,_j,_k,_l,_m);}return false;}while(true){if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}}}return _b;};_pDataset._loadRecordFromXMLStr=function(_a,_b,_c){var _d=this.colinfos;var _e=this._rawRecords;var _f=this._deletedRecords;var _g=_e.length;var _h=_f.length;var _i=_d.length;var _j=0;if(_b> -1){function _loadFromXMLStr_row_loop(){var _k;var _l;var _m=nexacro._getXMLTagData3(_a,_b,"<Row","</Row>");if(_m==null){return true;}_b=_m[3];_k=_m[0];_l=_m[1];var _n=new Array(_i);_n._rawidx=_j;_n._level=0;_n._orgcolstrings=[];for(var _p=0;_p<_i;_p++ ){if(_d[_p].ntype>=4&&_d[_p].ntype<=7){_n[_d[_p]._index]=undefined;}}_j++ ;if(_l){var _q=nexacro._getXMLAttributeType(_l);if(!_q){_n._rtype=1;}else{var _r=_q.charAt(0);if(_r=='I'||_r=='i'){_n._rtype=2;}else if(_r=='U'||_r=='u'){_n._rtype=4;}else if(_r=='D'||_r=='d'){_n._rtype=8;}else{_n._rtype=1;}}}else{_n._rtype=1;}if(_n._rtype==4){var _s=nexacro._getXMLTagData(_k,0,"<OrgRow>","</OrgRow>");if(_s){_k=_k.substring(0,_s[2])+_k.substring(_s[3]);var _t=_s[0];var _u=new Array(_i);for(var _v=0;_v<_i;_v++ ){if(_d[_v].ntype>=4&&_d[_v].ntype<=7){_u[_d[_v]._index]=null;}}var _w=0;function _loadFromXMLStr_colvalue_loop2(){var _x=nexacro._getXMLTagData2(_t,_w,"<Col ","</Col>");if(_x==null){return true;}_w=_x[3];var _l=_x[1];var _y=nexacro._getXMLAttributeID(_l);var _z=_d[_y];if(_z){_u[_z._index]=_z._fromXMLText(_x[0]);}return false;}while(true){if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}}_n._orgrow=_u;}}var _o=0;function _loadFromXMLStr_colvalue_loop(){if(_k){var _x=nexacro._getXMLTagData2(_k,_o,"<Col ","</Col>");if(_x==null){return true;}_o=_x[3];var _l=_x[1];var _y=nexacro._getXMLAttributeID(_l);var _z=_d[_y];if(_z){_n[_z._index]=_z._fromXMLText(_x[0]);_n._orgcolstrings[_z._index]=_n[_z._index];}return false;}return true;}while(true){if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}}if(_n._rtype==8){_f[_h]=_n;_h++ ;}_e[_g]=_n;_g++ ;_k=null;_l=null;_m=null;_n=null;if(_c>0&&(_g-_h)==_c){return true;}return false;}while(true){if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}}}_e=null;_f=null;return _b;};_pDataset._loadFromXMLStr=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(!_b){_b=0;}if(!_c){_c= -1;}if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(!_a){this.loadstatus=false;this._eventstat=this.enableevent;return 0;}if(_d){if(_b<=0){_b=_a.indexOf("<Rows>");if(_b> -1){_b+=6;}}}else{if(_b<=0){_b=this._setColInfoFromXMLStr(_a);_b=_a.indexOf("<Rows>",_b);if(_b> -1){_b+=6;}}}if(_b> -1){_b=this._loadRecordFromXMLStr(_a,_b,_c);}var _f=this._viewRecords;var _g=this._rawRecords;var _h=this._deletedRecords;var _i=this.colinfos;if(_h.length>0){_f=this._viewRecords=[];var _j=_g.length;var _k=_f.length;var _l=0;function _loadFromXMLStr_delrow_loop(){if(_l<_j){var _m=_g[_l];if(_m._rtype!=8){_f[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=_i.length+this.constcount;this.rowcount=_f.length;this.loadstatus=false;this._eventstat=this.enableevent;_f=null;_g=null;_h=null;_i=null;return _b;};_pDataset._loadFromPPXArray=function(_a,_b,_c,_d,_e,_f){var _g=String.fromCharCode(31);this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}if(!_a||_a.length==0){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}this._setColInfoFromPPXLines(_a,_e);_c=this._loadRecordFromPPXLines(_b,_c,_d);var _h=this._deletedRecords.length;if(_h){var _i=this._viewRecords=[];var _j=this._rawRecords;len=_j.length;var _k=_i.length;var _l=0;function _loadFromPPXArray_delrow_loop(){if(_l<len){var _m=_j[_l];if(_m._rtype!=8){_i[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._getColLinesFromPPXLines=function(_a,_b){var _c=_a.length;var _d=_b;while(true){var _e=_a[_d].charAt(0);if(_d<_c&&(_e=="C"||_e=="V")){_d++ ;}else{break;}}return _a.slice(_b,_d);};_pDataset._setColInfoFromPPXLines=function(_a,_b){var _c=String.fromCharCode(31);var _d=null;var _e=_a.length;var _f=0;if(!_b){function _setColInfoFromPPXLines_loop(_g){if(_f<_e){var _h=_a[_f];var _i=_h.charAt(0);if(_i=='V'){var _j=_h.split(_c);_g._addConstColumn(_j[1],_j[3],_j[2]);_f++ ;return false;}else if(_i=='C'){var _j=_h.split(_c);_g._addColumn(_j[1],_j[2],_j[3],_j[4],_j[5]);_f++ ;return false;}return true;}return true;}while(true){if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}}}};_pDataset._loadRecordFromPPXLines=function(_a,_b,_c){var _d=String.fromCharCode(31);var _e=this.colinfos;var _f=this._rawRecords;var _g=this._deletedRecords;var _h=_f.length;var _i=_g.length;var _j=_e.length;var _k=_a.length;var _l=0;if(_b<_k){function _loadRecordFromPPXLines_row_loop(){if(_b<_k){var _m=_a[_b];var _n=_m.charAt(0);if(_n=='n'||_n=='i'||_n=='u'||_n=='d'){var _o=new Array(_j);_o._rawidx=_l;_o._level=0;_l++ ;if(_n=='i'){_o._rtype=2;}else if(_n=='u'){_o._rtype=4;}else if(_n=='d'){_o._rtype=8;}else{_o._rtype=1;}}else if(_n=='o'){_b++ ;return false;}else{return true;}var _p=_m.split(_d);var _q=_p.length;var _r=1;for(var _s=0;_s<_p.length;_s++ ){if(_p[_s]==String.fromCharCode(3)){_p[_s]=undefined;}}function _loadRecordFromPPXLines_colvalue_loop(){if(_r<_q){var _t=_p[_r];var _u=_e[_t];if(_u){_o[_u._index]=_u._fromText(_p[_r+1]);}_r+=2;return false;}return true;}while(true){if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}}if(_o._rtype==8){_g[_i]=_o;_i++ ;}_f[_h]=_o;_f[_h]._orgcolstrings=_o;_h++ ;_b++ ;if(_c>0&&(_h-_i)==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}}}_e=null;_f=null;_g=null;return _b;};_pDataset._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t","\t\t\t\t\t\t\t"];_pDataset.__writeXMLData=function(_a,_b,_c){_a.push(this._TABS[_c]+_b);};_pDataset.__writeXMLNormalRow=function(_a,_b,_c,_d){this.__writeXMLData(_a,"<Row>",_c++ );this.__writeXMLRowData(_a,_b,_c,_d);this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLCrudRow=function(_a,_b,_c,_d){var _e="<Row";switch(_b._rtype){case 1:break;case 2:_e+=" type=\"insert\"";break;case 4:_e+=" type=\"update\"";break;case 8:_e+=" type=\"delete\"";break;}_e+=">";this.__writeXMLData(_a,_e,_c++ );this.__writeXMLRowData(_a,_b,_c);if(_b._rtype==4&&_b._orgrow){this.__writeXMLData(_a,"<OrgRow>",_c++ );this.__writeXMLRowData(_a,_b._orgrow,_c,_d);this.__writeXMLData(_a,"</OrgRow>", --_c);}this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLRowData=function(_a,_b,_c,_d){var _e=this.colinfos.length;var _f;var _g;var _h=0;function __writeColData_loop(_i){if(_h<_e){_f=_i.colinfos[_h].id;idx=_i.colinfos[_h]._index;if(_b._orgcolstrings&&!!_d){_g=_b._orgcolstrings[idx];}else{_g=_i.colinfos[_h]._toXMLText(_b[idx]);}if(_g!=null){if(_g.length==0){_i.__writeXMLData(_a,"<Col id=\""+_f+"\" />",_c);}else{_i.__writeXMLData(_a,"<Col id=\""+_f+"\">"+_g+"</Col>",_c);}}_h++ ;return false;}return true;}while(true){if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}}};_pDataset.__MakeDataConvertFunc=function(){var _a=this.colinfos;var _b=_a.length;var _c="(function () { return function (arr) { ";for(var _d=0;_d<_b;_d++ ){var _e=_a[_d];switch(_e.ntype){case 1:break;case 2:_c+="arr["+_d+"] = nexacro.DataUtils.toIntFromText(arr["+_d+"]); ";break;case 3:_c+="arr["+_d+"] = nexacro.DataUtils.toFloatFromText(arr["+_d+"]); ";break;case 4:_c+="arr["+_d+"] = nexacro.DataUtils.toDecimalFromText(arr["+_d+"]); ";break;case 5:_c+="arr["+_d+"] = nexacro.DataUtils.toDateFromText(arr["+_d+"]); ";break;case 6:_c+="arr["+_d+"] = nexacro.DataUtils.toTimeFromText(arr["+_d+"]); ";break;case 7:_c+="arr["+_d+"] = nexacro.DataUtils.toDateTimeFromText(arr["+_d+"]); ";break;case 8:_c+="arr["+_d+"] = nexacro.DataUtils.toBlobFromText(arr["+_d+"]); ";break;default:_c+="arr["+_d+"] = nexacro.DataUtils.toTextFromvariant(arr["+_d+"]); ";break;}}_c+="return arr; }; })();";return nexacro._executeEvalStr(_c);};_pDataset.__ssvMakeDataMappingFunc=function(_a){var _b=String.fromCharCode(31);var _c={};var _d=_a.split(_b);var _e=_d.length;for(var _i=1;_i<_e;_i++ ){var _j=_d[_i].split(":");var _k=_j[0];_c[_k]=_i-1;}var _f=this.colinfos;var _g=_f.length;var _h="(function () { return function (arr) { return [";for(var _i=0;_i<_g;_i++ ){var _l=_f[_i];var _m=_c[_l.id];if(_m!=null){switch(_l.ntype){case 1:_h+="arr["+_m+"]";break;case 2:_h+="nexacro.DataUtils.toIntFromText(arr["+_m+"])";break;case 3:_h+="nexacro.DataUtils.toFloatFromText(arr["+_m+"])";break;case 4:_h+="nexacro.DataUtils.toDecimalFromText(arr["+_m+"])";break;case 5:_h+="nexacro.DataUtils.toDateFromText(arr["+_m+"])";break;case 6:_h+="nexacro.DataUtils.toTimeFromText(arr["+_m+"])";break;case 7:_h+="nexacro.DataUtils.toDateTimeFromText(arr["+_m+"])";break;case 8:_h+="nexacro.DataUtils.toBlobFromText(arr["+_m+"])";break;default:_h+="nexacro.DataUtils.toTextFromvariant(arr["+_m+"])";break;}}if(_i!=(_g-1)){_h+=",";}}_c=null;_h+="]; }; })();";return nexacro._executeEvalStr(_h);};_pDataset.__ssvSetConstColInfo=function(_a){var _b=String.fromCharCode(31);var _c=_a.split(_b);var _d=_c.length;var _e=0;function __ssvSetConstColInfo_loop(_f){if(_e<_d){var _g=_c[_e].split("=");var _h=_g[0];if(_h&&_h!="_Const_"){var _i=_g[1];var _j=_h.split(":");var _k=_j[0];var _l=_j[1];if(_l){var _m=_l.indexOf("(");if(_m> -1){_l=_l.substring(0,_m);}}_f._addConstColumn(_k,_i,_l);}_e++ ;return false;}return true;}while(true){if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}}};_pDataset.__ssvSetColInfo=function(_a){var _b=String.fromCharCode(31);var _c=0;var _d=_a.split(_b);var _c=_d.length;var _e=0;function __ssvSetColInfo_loop(_f){if(_e<_c){var _g=_d[_e].split(":");var _h=_g[0];var _i,_j;if(_h&&_h!="_RowType_"){var _k=_g[1];if(_k){var _l=_k.indexOf("(");if(_l> -1){_i=_k.substring(0,_l).toUpperCase();_j=_k.substring(_l+1,_k.indexOf(")",_l+1))|0;}else{_i=_k;}}else{_i="STRING";_j=256;}_f._addColumn(_h,_i,_j,_g[2],_g[3]);}_e++ ;return false;}return true;}while(true){if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}}return _c;};_pDataset._loadFromSSVArray=function(_a,_b,_c,_d,_e,_f){var _g=String.fromCharCode(31);this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _h=this._setColInfoFromSSVLines(_a,_e);if(!_h){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}_c=this._loadRecordFromSSVLines(_b,_c,_d,_h);var _i=this._deletedRecords.length;if(_i){var _j=this._viewRecords=[];var _k=this._rawRecords;len=_k.length;var _l=_j.length;var _m=0;function _loadFromSSVArray_viewRecords_loop(){if(_m<len){var _n=_k[_m];if(_n._rtype!=8){_j[_l]=_n;_l++ ;}_m++ ;return false;}return true;}while(true){if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._getColLinesFromSSVLines=function(_a,_b){var _c=_a.length;var _d=_b;if(_d<_c&&_a[_d].substring(0,7)=="_Const_"){_d++ ;}if(_d<_c&&_a[_d].substring(0,9)=="_RowType_"){_d++ ;}return _a.slice(_b,_d);};_pDataset._setColInfoFromSSVLines=function(_a,_b){if(!_a||_a.length==0){return null;}var _c=null;var _d=_a.length;var _e=0;if(_b){while(_e<_d&&_a[_e].substring(0,9)!="_RowType_"){_e++ ;}if(_e>_d){return null;}_c=this.__ssvMakeDataMappingFunc(_a[_e]);}else{if(_e<_d&&_a[_e].substring(0,7)=="_Const_"){this.__ssvSetConstColInfo(_a[_e]);_e++ ;}if(_e>_d){return null;}if(_e<_d&&_a[_e].substring(0,9)=="_RowType_"){this.__ssvSetColInfo(_a[_e]);_e++ ;}if(_e>_d){return null;}_c=this.__MakeDataConvertFunc();}return _c;};_pDataset._loadRecordFromSSVLines=function(_a,_b,_c,_d){var _e=String.fromCharCode(31);var _f=String.fromCharCode(3);var _g=this._rawRecords;var _h=this._deletedRecords;var _i=_g.length;var _j=_h.length;var _k=_a.length;function _loadRecordFromSSVLines_loop(){if(_b<_k){var _l=_a[_b];if(_l==""){_b++ ;return true;}var _m=_l.split(_e);type=_m[0];_m.shift();for(var _n=0;_n<_m.length;_n++ ){if(_m[_n]==_f){_m[_n]=undefined;}}_m=_d(_m);_m._rawidx=_i;_m._level=0;if(type==null){_m._rtype=1;}else{var _o=type.charAt(0);if(_o=='I'||_o=='i'){_m._rtype=2;}else if(_o=='U'||_o=='u'){_m._rtype=4;}else if(_o=='D'||_o=='d'){_m._rtype=8;}else{_m._rtype=1;}}if(_m._rtype==4){if(_b<(_k-1)&&(_a[_b+1].charAt(0)=='O'||_a[_b+1].charAt(0)=='o')){var _p=_a[_b+1].split(_e);_p.shift();_p=_d(_p);_m._orgrow=_p;}}else if(_m._rtype==8){_h[_j]=_m;_j++ ;}_g[_i]=_m;_g[_i]._orgcolstrings=_m;_i++ ;_b++ ;if(_c>0&&(_i-_j)==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}if(_loadRecordFromSSVLines_loop()){break;}}return _b;};_pDataset.__writeData=function(_a,_b){_a.push(_b);};_pDataset.__getRowTypeChar=function(_a){var _b=null;switch(_a){case 1:_b="N";break;case 2:_b="I";break;case 4:_b="U";break;case 8:_b="D";break;case  -1:_b="O";break;}return _b;};_pDataset.__writeSSVNormalRow=function(_a,_b){this.__writeSSVRowData(_a,"N",_b);};_pDataset.__writeSSVCrudRow=function(_a,_b){this.__writeSSVRowData(_a,this.__getRowTypeChar(_b._rtype),_b);if(_b._rtype==4&&_b._orgrow){this.__writeSSVRowData(_a,this.__getRowTypeChar( -1),_b._orgrow);}};_pDataset.__writeSSVRowData=function(_a,_b,_c){var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);this.__writeData(_a,_b+_e);var _f=this.colinfos.length;var _g=0;function __writeSSVColData_loop(_h){if(_g<_f){idx=_h.colinfos[_g]._index;var _i=_h.colinfos[_g]._toText(_c[idx]);if(_i===undefined){_i=String.fromCharCode(3);}if(_i!=null){if(_g==(_f-1)){_h.__writeData(_a,_i+_d);}else{_h.__writeData(_a,_i+_e);}}else{if(_g==(_f-1)){_h.__writeData(_a,_d);}else{_h.__writeData(_a,_e);}}_g++ ;return false;}return true;}while(true){if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}}};nexacro.__splitCSVRowData=function(_a,_b){var _c=_a.split(",");var _d=_c.length;var _e=0;function __splitCSVRowData_loop1(){if(_e<_d){var _f=_c[_e];var _g=_f.charAt(0);if(_g=="\""||_g=="\'"){while(_f[_f.length-1]!=_g){if(_e<=_d){_f+=","+_c.splice(_e+1,1);_d-- ;}else{break;}}_c[_e]=nexacro._unQuoteStr(_f);}_e++ ;return false;}return true;}while(true){if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}}return _c;};_pDataset.__csvMakeDataMappingFunc=function(_a,_b){var _c={};for(var _g=0;_g<_b;_g++ ){var _h=_a[_g].split(":");var _i=_h[0];_c[_i]=_g;}var _d=this.colinfos;var _e=_d.length;var _f="(function () { return function (arr) { return [";for(var _g=0;_g<_e;_g++ ){var _j=_d[_g];var _k=_c[_j.id];if(_k!=null){switch(_j.ntype){case 1:_f+="arr["+_k+"]";break;case 2:_f+="nexacro.DataUtils.toIntFromText(arr["+_k+"])";break;case 3:_f+="nexacro.DataUtils.toFloatFromText(arr["+_k+"])";break;case 4:_f+="nexacro.DataUtils.toDecimalFromText(arr["+_k+"])";break;case 5:_f+="nexacro.DataUtils.toDateFromText(arr["+_k+"])";break;case 6:_f+="nexacro.DataUtils.toTimeFromText(arr["+_k+"])";break;case 7:_f+="nexacro.DataUtils.toDateTimeFromText(arr["+_k+"])";break;case 8:_f+="nexacro.DataUtils.toBlobFromText(arr["+_k+"])";break;default:_f+="nexacro.DataUtils.toTextFromvariant(arr["+_k+"])";break;}}if(_g!=(_e-1)){_f+=",";}}_f+="]; }; })();";_c=null;return nexacro._executeEvalStr(_f);};_pDataset.__csvSetColInfo=function(_a){var _b=String.fromCharCode(31);var _c=_a.split(",");var _d=_c.length;var _e=0;function __csvSetColInfo_loop(_f){if(_e<_d){var _g=_c[_e].split(":");var _h=_g[0];var _i,_j;if(_h){var _k=_g[1];if(_k){var _l=_k.indexOf("(");if(_l> -1){_i=_k.substring(0,_l).toUpperCase();_j=_k.substring(_l+1,_k.indexOf(")",_l+1))|0;}else{_i=_k.toUpperCase();}}else{_i="STRING";_j=256;}_f._addColumn(_h,_i,_j,_g[2],_g[3]);}_e++ ;return false;}return true;}while(true){if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}}return _d;};_pDataset._loadFromCSVArray=function(_a,_b,_c,_d,_e,_f){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _g=this._setColInfoFromCSVLine(_a,_e);if(!_g){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}var _c=this._loadRecordFromCSVLines(_b,_c,_d,_g);var _h=this._deletedRecords.length;if(_h){var _i=this._viewRecords=[];var _j=this._rawRecords;len=_j.length;var _k=_i.length;var _l=0;function _loadFromCSVArray_delrow_loop(){if(_l<len){var _m=_j[_l];if(_m._rtype!=8){_i[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._setColInfoFromCSVLine=function(_a,_b){if(!_a||_a.length==0){return null;}var _c=null;if(_b){var _d=_a.split(",");csvColCnt=_d.length;_c=this.__csvMakeDataMappingFunc(_d,csvColCnt);}else{csvColCnt=this.__csvSetColInfo(_a);_c=this.__MakeDataConvertFunc();}return _c;};_pDataset._loadRecordFromCSVLines=function(_a,_b,_c,_d){var _e=this._rawRecords;var _f=this._deletedRecords;var _g=_e.length;var _h=_f.length;var _i=_a.length;function _loadRecordFromCSVLines_loop(){if(_b<_i){var _j=_a[_b];if(_j==""){_b++ ;return true;}var _k=nexacro.__splitCSVRowData(_j,csvColCnt);_k=_d(_k);_k._rawidx=_g;_k._level=0;_k._rtype=1;_e[_g]=_k;_e[_g]._orgcolstrings=_k;_g++ ;_b++ ;if(_c>0&&_g==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}}return _b;};_pDataset.__writeCSVRowData=function(_a,_b){var _c=this.colinfos.length;var _d=0;function __writeCSVColData_loop(_e){if(_d<_c){var _f=_e.colinfos[_d];var _g=_f._toText(_b[_d]);if(_g!=null){if(_f.ntype==1){if(_d==(_c-1)){_e.__writeData(_a,nexacro._quoteStr(_g)+"\r\n");}else{_e.__writeData(_a,nexacro._quoteStr(_g)+",");}}else{if(_d==(_c-1)){_e.__writeData(_a,_g+"\r\n");}else{_e.__writeData(_a,_g+",");}}}else{if(_d==(_c-1)){_e.__writeData(_a,"\r\n");}else{_e.__writeData(_a,",");}}_d++ ;return false;}return true;}while(true){if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}}};_pDataset._assignRowList=function(_a){var _b=_a.length;var _c=this._rawRecords.length;var _d=0;var _e=this._deletedRecords.length;var _f=this._viewRecords.length;var _g=this._rawRecords.length;var _h=0;function _assignRowList_loop(_i){if(_h<_b){var _j=_a[_h];var _k=_j._level;var _l=_j._rtype;if(_k==0){var _m=[];_m._level=_k;_m._rawidx=_c;_m._rtype=_l;var _n=_j.length;var _o=0;function _assignRowList_loop2(){if(_o<_n){_m[_o]=_j[_o];_o++ ;return false;}return true;}while(true){if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}}if(_j._orgrow){var _p=_j._orgrow;var _q=[];_q._level=_p._level;_q._rawidx=_c;_q._rtype=_p._rtype;var _n=_p.length;var _o=0;function _assignRowList_loop3(){if(_o<_n){_q[_o]=_p[_o];_o++ ;return false;}return true;}while(true){if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}}_m._orgrow=_q;}if(_l==8){_i._deletedRecords[_e]=_m;_e++ ;}if(_l==1||_l==2||_l==4){if(_i._rawRecords!=_i._viewRecords){_i._viewRecords[_f]=_m;_f++ ;}}else{if(_i._rawRecords==_i._viewRecords){_i._viewRecords=_i._rawRecords.slice(0,_i._rawRecords.length);_f=_i._viewRecords.length;}}_i._rawRecords[_g]=_m;_g++ ;_c++ ;_d++ ;}_h++ ;return false;}return true;}while(true){if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}}delete _e;delete _f;delete _g;return _d;};_pDataset._assign=function(_a){this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);this._assignRowList(_a._rawRecords);this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._isLike=function(_a,_b){if(_a==_b){return true;}else if(_a&&nexacro._isString(_b)){if(_b.length==0){return false;}if(_a.slice(0,_b.length)==_b){return true;}}return false;};_pDataset._findRow=function(_a,_b,_c,_d){var _e=this._viewRecords;var _f;var _g=_c;function _findRow_loop(_h){if(_g<_d){_f=_e[_g];if(_h._checkRowData(_f)){if(_f[_a]==_b){return true;}else if(_f[_a] instanceof nexacro.Decimal&&_b instanceof nexacro.Decimal){if(_f[_a].isEqual(_b)){return true;}}}_g++ ;return false;}return true;}while(true){if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}}return (_g<_d)?_g: -1;};_pDataset._findRowAs=function(_a,_b,_c,_d){var _e=this._viewRecords;var _f;var _g=_c;function _findRowAs_loop(_h){if(_g<_d){_f=_e[_g];if(_h._checkRowData(_f)){if(_h._isLike(_f[_a],_b)){return true;}}_g++ ;return false;}return true;}while(true){if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}}return (_g<_d)?_g: -1;};_pDataset._checkViewRowData=function(_a){return (_a._level==0);};_pDataset._checkRawRowData=function(_a){var _b=_a._level;var _c=_a._rtype;return ((_b==0)&&(_c==1||_c==2||_c==4));};_pDataset._getNotDelRec=function(){var _a=this._rawRecords.slice(0,this._rawRecords.length);var _b=_a.length-1;for(var _c=_b;_c> -1;_c-- ){if(_a[_c]._rtype==8){_a.splice(_c,1);}}return _a;};_pDataset._checkRowData=_pDataset._checkViewRowData;_pDataset._getCount=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g,_h;var _i=0;var _j=_a;function _getCount_loop(_k){if(_j<_b){if(_j==_f.length){return true;}_g=_f[_j];if(_k._checkRowData(_g)){if(_e==true){_h=_g[_d];if(_h){_i++ ;}}else{_i++ ;}}_j++ ;return false;}return true;}while(true){if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}}return _i;};_pDataset._getSum=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=0;var _i=_b;if(_e==1||_e==8){return 0;}if(_e!=4){function _getSum_loop(_j){if(_i<_c){_g=_f[_i];if(_g._rtype==16){_i++ ;return false;}var _k=_g[_a];if(!nexacro._isNumber(_k)){if(!_k){_k=0;}else{_k=parseInt(_k,10);}}if(_j._checkRowData(_g)){_h+=( +_k);}_i++ ;return false;}return true;}while(true){if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}}}else{_h=new nexacro.Decimal;function _getSumDecimal_loop(_j){if(_i<_c){_g=_f[_i];if((_g[_a]!=null)&&(_g[_a]!="")&&(_g[_a]!=undefined)&&_j._checkRowData(_g)){_h.addDecimal(_g[_a]);}_i++ ;return false;}return true;}while(true){if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?0:_h;}return ( +_h)!=( +_h)?0:_h;};_pDataset._getMin=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=undefined;var _i=_b;if(_e!=4){function _getMin_loop(_j){if(_i<_c){_g=_f[_i];if(_j._checkRowData(_g)){if(_h==null||_g[_a]<_h){_h=_g[_a];}}_i++ ;return false;}return true;}while(true){if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}}}else{var _j;function _getMinDecimal_loop(_k){if(_i<_c){_g=_f[_i];if(_k._checkRowData(_g)&&_g[_a]!=null){_j=_g[_a];if(_h==null||_j.hi<_h.hi||(_j.hi==_h.hi&&_j.lo<_h.lo)){_h=_j;}}_i++ ;return false;}return true;}while(true){if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset._getMax=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=undefined;var _i=_b;if(_e!=4){function _getMax_loop(_j){if(_i<_c){_g=_f[_i];if(_j._checkRowData(_g)){if(_h==null||_g[_a]>_h){_h=_g[_a];}}_i++ ;return false;}return true;}while(true){if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}}}else{function _getMaxDecimal_loop(_j){if(_i<_c){_g=_f[_i];if(_j._checkRowData(_g)&&_g[_a]!=null){var _k=_g[_a];if(_h==null||_k.hi>_h.hi||(_k.hi==_h.hi&&_k.lo>_h.lo)){_h=_k;}}_i++ ;return false;}return true;}while(true){if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}else if(_e==1){return (_h)!=(_h)?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset._getAvg=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=0;var _i=0;var _j=_b;if(_e!=4){function _getAvg_loop(_k){if(_j<_c){_g=_f[_j];if(nexacro._isNumber(_g[_a])&&_k._checkRowData(_g)){_h++ ;_i+=( +_g[_a]);}_j++ ;return false;}return true;}while(true){if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}}}else{_i=new nexacro.Decimal;function _getAvgDecimal_loop(_k){if(_j<_c){_g=_f[_j];if(_k._checkRowData(_g)){if((_g[_a] instanceof nexacro.Decimal)){_h++ ;_i.addDecimal(_g[_a]);}}_j++ ;return false;}return true;}while(true){if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}}}if(_h==0){return Infinity;}if(_i instanceof nexacro.Decimal){_i.divDouble(_h);}else{_i=_i/_h;}return _i;};_pDataset._getCaseSum=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return 0;}var _h=this._viewRecords;var _i;var _j=0;var _k=null;var _l=_c;if(_f!=4){function _getCaseSum_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){if((_i[_b]!=null)&&(_i[_b]!="")&&(_i[_b]!=undefined)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){_j+=( +_i[_b]);}}}_l++ ;return false;}return true;}while(true){if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}}}else{_j=new nexacro.Decimal;function _getCaseSumDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){if((_i[_b]!=null)&&(_i[_b]!="")&&(_i[_b]!=undefined)){if(_i[_b]!=null){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){_j.addDecimal(_i[_b]);}}}}_l++ ;return false;}return true;}while(true){if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?0:_j;}return ( +_j)!=( +_j)?0:_j;};_pDataset._getCaseMin=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=this._viewRecords;var _i;var _j=undefined;var _k=null;var _l=_c;if(_f!=4){function _getCaseMin_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_j==null||_i[_b]<_j){_j=_i[_b];}}}_l++ ;return false;}return true;}while(true){if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}}}else{function _getCaseMinDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_i[_b]!=null){var _n=_i[_b];if(_j==null||_n.hi<_j.hi||(_n.hi==_j.hi&&_n.lo<_j.lo)){_j=_n;}}}}_l++ ;return false;}return true;}while(true){if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset._getCaseMax=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=this._viewRecords;var _i;var _j=undefined;var _k=null;var _l=_c;if(_f!=4){function _getCaseMax_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_j==null||_i[_b]>_j){_j=_i[_b];}}}_l++ ;return false;}return true;}while(true){if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}}}else{function _getCaseMaxDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_i[_b]!=null){var _n=_i[_b];if(_j==null||_n.hi>_j.hi||(_n.hi==_j.hi&&_n.lo>_j.lo)){_j=_n;}}}}_l++ ;return false;}return true;}while(true){if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset._getCaseAvg=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return Number.NaN;}var _h=this._viewRecords;var _i;var _j=0;var _k=0;var _l;var _m=null;var _n=_c;if(_f!=4){function _getCaseAvg_loop(_o){if(_n<_d){_i=_h[_n];if(_o._checkRowData(_i)){_m=_g.call(_o,_n,_n,null,_o);if(_m===true){_j++ ;if(_i[_b]){_k+= +_i[_b];}}}_n++ ;return false;}return true;}while(true){if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}}}else{function _getCaseAvgDecimal_loop(_o){if(_n<_d){_i=_h[_n];if(_o._checkRowData(_i)){_m=_g.call(_o,_n,_n,null,_o);if(_m===true){_j++ ;if(_i[_b]){_l=_i[_b];if((_k instanceof nexacro.Decimal)==false){if((_l instanceof nexacro.Decimal)==false){_k+=( +_l);}else{_k=new nexacro.Decimal(_k);_k.addDecimal(_l);}}else{if((_l instanceof nexacro.Decimal)==false){_k.addDouble(_l);}else{_k.addDecimal(_l);}}}}}_n++ ;return false;}return true;}while(true){if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}}}if(_j==0){return Infinity;}if(_k instanceof nexacro.Decimal){_k.divDouble(_j);}else{_k=_k/_j;}return _k;};_pDataset._calcNFData=function(_a,_b,_c,_d){var _e=this._viewRecords;this._viewRecords=this._rawRecords;this._checkRowData=this._checkRawRowData;var _f="";if(_d===undefined){if(_c===undefined){_f=_a.call(this,_b);}else{_f=_a.call(this,_b,_c);}}else{_f=_a.call(this,_b,_c,_d);}this._checkRowData=this._checkViewRowData;this._viewRecords=_e;return _f;};_pDataset._findMaxLengthRow=function(_a,_b,_c){var _d=this._viewRecords;var _e;var _f=undefined;var _g= -1;var _h=_b;function _findMaxLengthRow_loop(_i){if(_h<_c){_e=_d[_h];if(_i._checkRowData(_e)){if(_e[_a]){var _j=_e[_a].toString().length;if(_f==null||_j>_f){_f=_j;_g=_h;}}}_h++ ;return false;}return true;}while(true){if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}}return _g;};delete _pDataset;nexacro.TransactionItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.CommunicationItem.call(this,_a,"data",false,_i,_j);this.context=_b;this.svcid=_c;this.inputDatasets=this._parseDSParam(_d);this.outputDatasets=this._parseDSParam(_e);this.parameters=this._parseVarParam(_f);this.datatype=(!_g?0:_g);this._sendData=this._serializeData();this._usewaitcursor=_h&&application.usewaitcursor;this._remain_data=null;this._progress_data=null;this._progress_cnt=0;this._responseData=null;this._has_firstcount_dataset=this._hasFirstCountDs();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<8){this._check_responseXML=true;}else{this._check_responseXML=false;}if((!application._cookie_variables||application._cookie_variables.length==0)&&!this.parameters&&!this.inputDatasets){this._http_method="GET";}else{this._http_method="POST";}};var _pTransactionItem=nexacro._createPrototype(nexacro.CommunicationItem,nexacro.TransactionItem);nexacro.TransactionItem.prototype=_pTransactionItem;_pTransactionItem._handle=null;_pTransactionItem.callbackList=[];_pTransactionItem.type="data";_pTransactionItem.bcache=false;_pTransactionItem._type_name="TransactionItem";_pTransactionItem.on_start=function(){if(this._usewaitcursor){this._showWaitCursor(this.context);}application._appendCommContext(this.context);application.on_fire_oncommunication(application,0);};_pTransactionItem.on_load_data=function(_a,_b,_c){var _d=null;var _e=null;var _f;var _g=this.bcache;var _h=null;this._addCookieToGlobalVariable(_b);if(_a&&_a._type_name=="DataCache"){_g=false;_f=_a._loadData(this);}else{if(this._protocol<0){_a=this.on_decrypt(_a);}if(this._progress_data){this.on_progress_data(_a,true);_f=this._progress_data._error_info;if(_g){var _m=null;_d=new nexacro.Collection();for(var _n in this._progress_data._datasets){if(this._progress_data._datasets[_n]._isEnable){_m=this._progress_data._datasets[_n]._target_ds;_d.add_item(_m.id,new nexacro._DataSetCache(_m.id,_m.colinfos,_m._constVars,_m._rawRecords));}}this._progress_data._datasets=null;_e=this._progress_data._parameters;}}else{_h=this._deserializeData(_a,0);if(_g){_e=_h[1];_d=_h[2];}_f=_h[0];}}if(_g){var _o=nexacro._DataCacheList[this.path];if(!_o){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_e,_d,_c,this.version);}else{_o.parameters=_e;_o.datasets=_d;_o.last_modified=_c?_c:"";_o.version=this.version;}_o=null;}_e=null;_d=null;_a=null;_h=null;var _i=0;var _j="SUCCESS";if(_f){_i=_f[0];_j=_f[1];_f=null;}if(this._usewaitcursor){this._hideWaitCursor(this.context);}application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);var _k=this.callbackList;var _l=_k.length;if(_l>0){var _p=this.context._load_manager;var _q=_p?_p.getDataItem(this.svcid):null;if(_q){_q._is_cancel=undefined;}_q=null;_p=null;for(var _r=0;_r<_l;_r++ ){var _s=_k[_r];var _t=_s.target;if(_t._is_alive!=false){_s.callback.call(_t,this.svcid,_i,_j);}_t=null;_s=null;}_k.splice(0,_l);}this._handle=null;};_pTransactionItem.on_load_xmldom=function(_a,_b,_c){this._addCookieToGlobalVariable(_b);var _d=this.__deserializeXML("",_a);var _e=0;var _f="SUCCESS";var _g=_d[0];if(this.bcache){var _j=nexacro._DataCacheList[this.path];if(!_j){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_d[1],_d[2],_c,this.version);}else{_j.parameters=_d[1];_j.datasets=_d[2];_j.last_modified=_c;_j.version=this.version;}}if(_g){_e=_g[0];_f=_g[1];}if(this._usewaitcursor){this._hideWaitCursor(this.context);}application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);var _h=this.callbackList;var _i=_h.length;if(_i>0){for(var _k=0;_k<_i;_k++ ){var _l=_h[_k];var _m=_l.target;if(_m._is_alive!=false){_l.callback.call(_m,this.svcid,_e,_f);}}_h.splice(0,_i);}this._handle=null;};_pTransactionItem.on_progress=nexacro._emptyFn;_pTransactionItem.on_progress_data=function(_a,_b){if(!this._progress_data){_a=nexacro.trimLeft(_a);var _c=this._getStreamType(_a);switch(_c){case "CSV":this._progress_data=new nexacro._ProgressDataCSV(this);break;case "SSV":this._progress_data=new nexacro._ProgressDataSSV(this);break;case "PPX":this._progress_data=new nexacro._ProgressDataPPX(this);break;case "XML":this._progress_data=new nexacro._ProgressDataXML(this);break;default:return;}}this._progress_data._on_progress(_a,_b);};_pTransactionItem.on_error=function(_a,_b,_c,_d){var _e=this.callbackList;var _f=_e.length;var _g=false;if(_f>0){for(var _k=0;_k<_f;_k++ ){var _l=_e[_k];var _m=_l.target;if(_m._is_alive!=false){_g=_l.callback.call(_m,this.svcid, -1,"FAILED",_b,_c,this.path,_d);if(_g){continue;}}}if(_g){return true;}}var _h=this.context._load_manager;var _i=_h?_h.getDataItem(this.svcid):null;var _j=_i?_i._handle:null;if(_i&&!_i._is_cancel){return;}_e.splice(0,_f);if(this._usewaitcursor){this._hideWaitCursor(this.context);}application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);this._handle=null;};_pTransactionItem._loadFromData=function(_a){var _b=this._deserializeData(_a,0);var _c=0;var _d="SUCCESS";var _e=this.bcache;errorinfo=_b[0];if(errorinfo){_c=errorinfo[0];_d=errorinfo[1];}if(_e){var _h=_b[1];var _i=_b[2];var _j=nexacro._DataCacheList[this.path];if(!_j){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_h,_i,last_modified,this.version);}else{_j.parameters=_h;_j.datasets=_i;_j.last_modified=last_modified?last_modified:"";_j.version=this.version;}}var _f=this.callbackList;var _g=_f.length;if(_g>0){for(var _k=0;_k<_g;_k++ ){var _l=_f[_k];var _m=_l.target;if(_m._is_alive!=false){_l.callback.call(_m,this.svcid,_c,_d);}}_f.splice(0,_g);}this._handle=null;};_pTransactionItem._showWaitCursor=function(_a){if(_a){_a._waitCursor(true,_a);if(application._refcommuni&&application._refcommuni>=0){application._refcommuni++ ;}else{application._refcommuni=0;}}};_pTransactionItem._hideWaitCursor=function(_a){if(_a){_a._waitCursor(false,_a);if(application._refcommuni>0){application._refcommuni-- ;}}};_pTransactionItem._parseDSParam=function(_a){if(!_a){return undefined;}var _b=[];var _c=/([a-zA-Z가-힣_$][a-zA-Z가-힣0-9_$]*)\s*=\s*([a-zA-Z가-힣_$][a-zA-Z가-힣0-9_$]*(?:\:[aAuUnN])?)/g;var _d=_a.match(_c);if(!_d||_d.length==0){return undefined;}var _e=_d.length;var _f=0;for(var _g=0;_g<_e;_g++ ){var _h=_d[_g].split("=");var _i=_h[0].trim();var _j=_h[1].trim();var _k=false;for(var _l=0;_l<_g;_l++ ){var _m=_d[_l].split("=");var _n=_m[0].trim();if(_i==_n){_k=true;}}if(_k){_g++ ;return false;}var _o="N";var _p=_j.indexOf(":");if(_p> -1){_o=_j.substring(_p+1);_j=_j.substring(0,_p);}var _q={lval:_i,rval:_j,saveType:_o};_b.push(_q);}return _b;};_pTransactionItem._parseVarParam=function(_a){if(!_a){return;}_a=_a.replace(/^\s*|\s*$/g,'');if(_a.length==0){return undefined;}var _b=[];var _c=/([a-zA-Z_][a-zA-Z0-9_]*)\s*="([^"]*)"|([a-zA-Z_][a-zA-Z0-9_]*)\s*='([^']*)'|([a-zA-Z_][a-zA-Z0-9_]*)\s*=([^ ]*)/g;var _d=_a.match(_c);var _e=_d.length;for(var _f=0;_f<_e;_f++ ){var _g=_d[_f].split("=");var _h=_g.length;var _i=_g[0].trim();var _j=_g[1].trim();for(var _k=2;_k<_h;_k++ ){_j=_j+"="+_g[_k].trim();}var _l="N";var _h=_j.length;if(_h>0){_j=nexacro.stripQuote(_j);}var _m={lval:_i,rval:_j,saveType:_l};_b.push(_m);}return _b;};_pTransactionItem._serializeData=function(){if(this.datatype==1){return this.__serializeBIN();}else if(this.datatype==2){return this.__serializeSSV();}else{return this.__serializeXML();}};_pTransactionItem.__serializeXML=function(){var _a=0;var _b=[];var _c=application._cookie_variables;this._writeData(_b,"<?xml version=\"1.0\" encoding=\"UTF-8\"?>",_a);this._writeData(_b,"<Root xmlns=\"http://www.nexacroplatform.com/platform/dataset\">",_a++ );var _d=0;var _e=0;var _f=this.parameters;if(_f){_d=_f.length;}if(_c){_e=_c.length;}if(_d>0||_e>0){this._writeData(_b,"<Parameters>",_a++ );if(_e){for(var _i=0;_i<_e;_i++ ){var _j=_c[_i];var _k=application[_j];if(_k&&_k.length){_k=nexacro._encodeXml(_k);this._writeData(_b,"<Parameter id=\""+_j+"\">"+_k+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_j+"\" />",_a);}}}if(_d>0){for(var _i=0;_i<_d;_i++ ){var _j=_f[_i].lval;var _k=_f[_i].rval;if(_k&&_k.length){_k=nexacro._encodeXml(_k);this._writeData(_b,"<Parameter id=\""+_j+"\">"+_k+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_j+"\" />",_a);}}}this._writeData(_b,"</Parameters>", --_a);}else{this._writeData(_b,"<Parameters />",_a);}var _g=this.inputDatasets;if(_g&&_g.length){var _l=_g.length;for(_i=0;_i<_l;_i++ ){var _j=_g[_i].rval;var _m=this.context._getDatasetObject(_j);if(_m){_b.push(_m._saveXML(_g[_i].lval,_g[_i].saveType,_a,false));}}}this._writeData(_b,"</Root>", --_a);var _h;if(_d==0&&_e==0&&(!_g||_g.length==0)){_h="";}else{_h=_b.join("\n");}return _h;};_pTransactionItem.__serializeSSV=function(){var _a=String.fromCharCode(30);var _b=String.fromCharCode(31);var _c=0;var _d=[];var _e=application._cookie_variables;var _f,_g,_h;var _i=0;_d.push("SSV:utf-8"+_a);var _j=0;var _k=0;var _l=this.parameters;if(_l){_j=_l.length;}if(_e){_k=_e.length;}if(_k>0){for(i=0;i<_k;i++ ){_f=_e[i];_g=application[_f];if(_g&&_g.length){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}if(_j>0){for(i=0;i<_j;i++ ){_f=_l[i].lval;_g=_l[i].rval;if(_g){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}var _m=this.inputDatasets;if(_m&&_m.length){var _o=_m.length;for(var _p=0;_p<_o;_p++ ){var _f=_m[_p].rval;var _h=this.context._getDatasetObject(_f);if(_h){_d.push(_h.saveSSV(_m[_p].lval,_m[_p].saveType));}}}var _n=_d.join("");return _n;};_pTransactionItem.__serializeBIN=function(){var _a=this.__serializeSSV();if(_a){return nexacro._convertStreamSSVToBIN(_a);}return "";};_pTransactionItem._deserializeData=function(_a,_b){if(!_a){return [ -1,"Stream Data is null!"];}_a=_a.trim();var _c=_a.substring(0,3);if(_c=="SSV"){return this.__deserializeSSV(_a);}else if(_c=="CSV"){return this.__deserializeCSV(_a);}else if(_c=="PPX"){return this.__deserializePPX(_a);}else{return this.__deserializeXML(_a);}};_pTransactionItem._setParamter=function(_a,_b){var _c=this.context;if(_a in _c){if(typeof (_c[_a])!="object"){_c[_a]=_b;}}else{if(application._existVariable(_a)){application[_a]=_b;}}};_pTransactionItem._getDataset=function(_a){var _b=this.context;var _c=this.outputDatasets;if(_c&&_c.length){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){var _f=_c[_e];if(_f.rval==_a){return _b._getDatasetObject(_f.lval);}}}};_pTransactionItem._hasFirstCountDs=function(){if(!this.outputDatasets){return false;}var _a=this.outputDatasets.length;var _b=this.context;for(var _c=0;_c<_a;_c++ ){var _d=this.outputDatasets[_c];var _e=_b._getDatasetObject(_d.lval);if(_e){if(_e.firefirstcount>0){return true;}}}return false;};_pTransactionItem.__deserializeXML=function(_a,_b){var _c=[];var _d=new nexacro.Collection();var _e=0;var _f="SUCCESS";if(_a.length>0&&!this._check_responseXML){var _k=_a.substr(0,10).toLowerCase();if(_k.indexOf("<?xml")<0){return [ -1,"invalid nexacro communication format"];}return this.__deserializeXMLFromStr(_a);}if(!_b){if(_a.indexOf("&quot;")>=0){_a=nexacro._replaceAll(_a,"&quot;","\"");}if(_a.indexOf("&apos;")>=0){_a=nexacro._replaceAll(_a,"&apos;","\'");}_b=nexacro._parseXMLDocument(_a);}if(_b.parseError&&_b.parseError.errorCode!=0){_f="invalid nexacro communication format";_e= -1;}if(_e<= -1){return [[_e,_f],_c,_d];}var _g=this.context;var _h=[_e,_f];var _i=nexacro._getCommDataFromDom(_b,this);if(_i){var _l=_i[0];var _m=_l.length;for(var _n=0;_n<_m;_n++ ){if(_l[_n].id=="ErrorCode"){_h[0]=_l[_n].val;}else if(_l[_n].id=="ErrorMsg"){_h[1]=_l[_n].val;}if(this.bcache){_c[_c.length]=new nexacro._ParametersCache(_l[_n].id,_l[_n].val);}}if(this.bcache){var _o=_i[1];_m=_o.length;for(var _n=0;_n<_m;_n++ ){_d.add_item(_o[_n].id,new nexacro._DataSetCache(_o[_n].id,_o[_n].colinfos,_o[_n]._constVars,_o[_n]._rawRecords));}}}_b=null;if(_h[0]&&_h[0]<= -1){return [_h,_c,_d];}var _j=this.inputDatasets;if(_j&&_j.length){var _p=_j.length;for(var _n=0;_n<_p;_n++ ){var _q=_j[_n];var _r=_g._getDatasetObject(_q.rval);if(_r){_r.applyChange();}}}return [_h,_c,_d];};_pTransactionItem.__deserializeXMLFromStr=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";if(!_a){return [ -1,"Stream Data is null!"];}var _f=this.context;var _g=_a.indexOf("<Dataset ");var _h;if(_g> -1){_h=_a.substring(0,_g);}else{_h=_a;}var _i=0;var _j=nexacro._getXMLTagData(_h,_i,"<Parameters>","</Parameters>");if(_j){var _n=_j[0];_i=_j[3];var _o=0;var _p=nexacro._getXMLTagData2(_n,_o,"<Parameter ","</Parameter>");while(_p){_o=_p[3];var _q=_p[1];var _r=nexacro._getXMLAttributeID(_q);if(_r&&_r.length){var _s=_p[0];if(_r=="ErrorCode"){_d=parseInt(_s)|0;if(isFinite(_d)==false){_d= -1;}_s=_d;}else if(_r=="ErrorMsg"){_s=nexacro._decodeXml(_s);_e=_s;}else if(_r in _f){if(typeof (_f[_r])!="object"){_s=nexacro._decodeXml(_s);_f[_r]=_s;}}else{if(application._existVariable(_r)){_s=nexacro._decodeXml(_s);application[_r]=_s;}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_r,_s);}}_p=nexacro._getXMLTagData2(_n,_o,"<Parameter ","</Parameter>");}}if(_d<= -1){return [[_d,_e],_b,_c];}var _k=this.inputDatasets;if(_k&&_k.length){var _t=_k.length;for(var _u=0;_u<_t;_u++ ){var _v=_k[_u];var _w=_f._getDatasetObject(_v.rval);if(_w){_w.applyChange();}}}var _l={};var _m=this.outputDatasets;if(_m&&_m.length){var _x=_m.length;for(var _u=0;_u<_x;_u++ ){var _v=_m[_u];if(_l[_v.rval]==undefined){_l[_v.rval]=_v.lval;}}}if(_g>= -1){var _y=nexacro._getXMLTagData2(_a,_g,"<Dataset ","</Dataset>");while(_y){_g=_y[3];var _q=_y[1];var _z=nexacro._getXMLAttributeID(_q);if(_z&&_z.length){var _aa=_l[_z];var _w=_f._getDatasetObject(_aa);if(_w){_w.rowposition= -1;_w.loadFromXMLStr(_y[0]);if(this.bcache){_c[_aa]=new nexacro._DataSetCache(_aa,_w.colinfos,_w._constVars,_w._rawRecords);}}}_y=nexacro._getXMLTagData2(_a,_g,"<Dataset ","</Dataset>");}}_l=null;return [[_d,_e],_b,_c];};nexacro._getCommDataFromDom=function(_a,_b){var _c=[];var _d=_a.getElementsByTagName("Parameter");var _e=0;if(_d&&_d.length){var _h=_d.length;for(var _i=0;_i<_h;_i++ ){var _j=_d[_i];var _k=_j.getAttribute("id");if(_k&&_k.length){var _l=(_j.textContent||(_j.firstChild?_j.firstChild.nodeValue:""));if(_k=="ErrorCode"){_e=parseInt(_l)|0;if(isFinite(_e)==false){_e= -1;}_c.push({id:_k,val:_e});}else if(_k=="ErrorMsg"){_c.push({id:_k,val:_l});}else{_b._setParamter(_k,_l);}}}}if(_e<= -1){return [_c,null];}var _f=[];var _g=_a.getElementsByTagName("Dataset");if(_g&&_g.length){var _m=_g.length;for(var _i=0;_i<_m;_i++ ){var _n=_g[_i].getAttribute("id");if(_n&&_n.length){var _o=_b._getDataset(_n);if(!_o){_o=new nexacro.Dataset(_n);}if(_o){_o.rowposition= -1;_o.loadFromDOM(_g[_i]);_f.push(_o);}}}}return [_c,_f];};_pTransactionItem.__deserializePPX=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=0;var _g="SUCCESS";if(!_a){return [ -1,"Stream Data is null!"];}var _h=this.context;var _i=_a.split(_d);var _j=_i.length;curIdx=1;var _k;var _l;for(;curIdx<_j;curIdx++ ){_k=_i[curIdx];_l=_k.charAt(0);if(_l=="P"){var _p=_k.split(_e);var _q=_p[1];var _r=_p[2];if(_r==String.fromCharCode(3)){_r=undefined;}if(_q=="ErrorCode"){_f=parseInt(_r)|0;if(isFinite(_f)==false){_f= -1;}_r=_f;}else if(_q=="ErrorMsg"){_g=_p[2];}else if(_q in _h){if(typeof (_h[_q])!="object"){_h[_q]=_r;}}else{if(application._existVariable(_q)){application[_q]=_r;}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_q,_r);}}else{break;}}if(_f<= -1){_i=null;_a=null;return [[_f,_g],_b,_c];}var _m=this.inputDatasets;if(_m&&_m.length){var _s=_m.length;for(var _t=0;_t<_s;_t++ ){var _u=_m[_t];var _v=_h._getDatasetObject(_u.rval);if(_v){_v.applyChange();}}}_m=null;var _n={};var _o=this.outputDatasets;if(_o&&_o.length){var _w=_o.length;for(var _t=0;_t<_w;_t++ ){var _u=_o[_t];if(_n[_u.rval]==undefined){_n[_u.rval]=_u.lval;}}}_o=null;function find_next_dataset_loop(){if(curIdx<_j){_k=_i[curIdx];if(_k.charAt(0)=="D"){return true;}curIdx++ ;return false;}return true;}while(curIdx<_j){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(curIdx<_j){var _x=_k.split(_e);var _y=_x[1];if(_y&&_y.length){var _z=_n[_y];var _v=_h._getDatasetObject(_z);if(_v){_v.rowposition= -1;curIdx=_v.loadFromPPXArray(_i,_j,curIdx,true);if(this.bcache){_c.add_item(_z,new nexacro._DataSetCache(_z,_v.colinfos,_v._constVars,_v._rawRecords));}}else{curIdx++ ;}_v=null;}else{curIdx++ ;}}}_i=null;_a=null;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeSSV=function(_a){var _b=[];var _c=new nexacro.Collection();;var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=0;var _g="SUCCESS";if(!_a){return [ -1,"Stream Data is null!"];}var _h=this.context;var _i=_a.split(_d);var _j=_i.length;var _k=0;_k++ ;var _l;for(;_k<_j;_k++ ){_l=_i[_k];if(_l.substring(0,7)!="Dataset"){var _p=_l.split(_e);var _q=_p.length;for(var _r=0;_r<_q;_r++ ){var _s=_p[_r];var _t=_s;var _u=undefined;var _v=_s.indexOf("=");if(_v>=0){_t=_s.substring(0,_v);_u=_s.substring(_v+1);if(_u==String.fromCharCode(3)){_u=undefined;}}if(_t){var _w=_t;var _v=_t.indexOf(":");if(_v>=0){_w=_t.substring(0,_v);}if(_w=="ErrorCode"){_f=parseInt(_u)|0;if(isFinite(_f)==false){_f= -1;}_u=_f;}else if(_w=="ErrorMsg"){_g=_u;}else if(_w in _h){if(typeof (_h[_w])!="object"){_h[_w]=_u;}}else{if(application._existVariable(_w)){application[_w]=_u;}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_w,_u);}}}}else{break;}}if(_f<= -1){return [[_f,_g],_b,_c];}var _m=this.inputDatasets;if(_m&&_m.length){var _x=_m.length;for(var _r=0;_r<_x;_r++ ){var _y=_m[_r];var _z=_h._getDatasetObject(_y.rval);if(_z){_z.applyChange();}}}var _n={};var _o=this.outputDatasets;if(_o&&_o.length){var _aa=_o.length;for(var _r=0;_r<_aa;_r++ ){var _y=_o[_r];if(_n[_y.rval]==undefined){_n[_y.rval]=_y.lval;}}}function find_next_dataset_loop(){if(_k<_j){_l=_i[_k];if(_l.substring(0,7)=="Dataset"){return true;}_k++ ;return false;}return true;}while(_k<_j){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(_k<_j){var _v=_l.indexOf(":");if(_v>=0){var _ab=_l.substring(_v+1);if(_ab&&_ab.length){var _ac=_n[_ab];var _z=_h._getDatasetObject(_ac);if(_z){_z.rowposition= -1;_k=_z.loadFromSSVArray(_i,_j,_k,true);if(this.bcache){_c.add_item(_ac,new nexacro._DataSetCache(_ac,_z.colinfos,_z._constVars,_z._rawRecords));}}else{_k++ ;}}else{_k++ ;}}else{_k++ ;}}}_n=null;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeCSV=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";if(!_a){return [ -1,"Stream Data is null!"];}var _f=this.context;var _g=_a.split(/\r\n|\n/);var _h=_g.length;var _i=0;_i++ ;var _j,_k,_l,_m,_n;var _o;for(;_i<_h;_i++ ){_o=_g[_i];if(_o.substring(0,7)!="Dataset"){var _s=_o.split(",");var _t=_s.length;for(var _u=0;_u<_t;_u++ ){var _v=_s[_u];if(_v.charAt(0)=="\""||_v.charAt(0)=="\'"){_v=_v.substring(1,_v.length-1);}var _k=_v;var _m=undefined;var _w=_v.indexOf("=");if(_w>=0){_k=_v.substring(0,_w);_m=_v.substring(_w+1);}if(_k){var _l=_k;var _w=_k.indexOf(":");if(_w>=0){_l=_k.substring(0,_w);}if(_l=="ErrorCode"){_d=parseInt(_m)|0;if(isFinite(_d)==false){_d= -1;}_m=_d;}else if(_l=="ErrorMsg"){_e=_m;}else if(_l in _f){if(typeof (_f[_l])!="object"){_f[_l]=_m;}}else{if(application._existVariable(_l)){application[_l]=_m;}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_l,_m);}}}}else{break;}}if(_d<= -1){return [[_d,_e],_b,_c];}var _p=this.inputDatasets;if(_p&&_p.length){var _x=_p.length;for(var _u=0;_u<_x;_u++ ){var _y=_p[_u];var _z=_f._getDatasetObject(_y.rval);if(_z){_z.applyChange();}}}var _q={};var _r=this.outputDatasets;if(_r&&_r.length){var _aa=_r.length;for(var _u=0;_u<_aa;_u++ ){var _y=_r[_u];if(_q[_y.rval]==undefined){_q[_y.rval]=_y.lval;}}}function find_next_dataset_loop(){if(_i<_h){_o=_g[_i];if(_o.substring(0,7)=="Dataset"){return true;}_i++ ;return false;}return true;}while(_i<_h){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(_i<_h){var _w=_o.indexOf(":");if(_w>=0){var _ab=_o.substring(_w+1);if(_ab&&_ab.length){var _ac=_q[_ab];var _z=_f._getDatasetObject(_ac);if(_z){_z.rowposition= -1;_i=_z.loadFromCSVArray(_g,_h,_i,true);if(this.bcache){_c.add_item(_ac,new nexacro._DataSetCache(_ac,_z.colinfos,_z._constVars,_z._rawRecords));}}else{_i++ ;}}else{_i++ ;}}else{_i++ ;}}}return [[_d,_e],_b,_c];};_pTransactionItem._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t"];_pTransactionItem._writeData=function(_a,_b,_c){_a[_a.length]=this._TABS[_c]+_b;};_pTransactionItem._dsUpdate=function(_a){if(_a){var _b;var _c=_a._viewRecords;var _d=_c.length;if(_a._deletedRecords.length>0){_c=_a._viewRecords=[];var _e=_a._rawRecords.length;for(_b=0;_b<_e;_b++ ){var _f=_a._rawRecords[_b];if(_f._rtype!=8){_c[_d]=_f;}}}_a.colcount=_a.colinfos.length;_a.rowcount=_a._viewRecords.length;_a.loadstatus=false;_a._eventstat=_a.enableevent;_a._reFilter();_a._resetSortGroup();}};_pTransactionItem._dsOnload=function(_a,_b){if(_a){if(_a._viewRecords.length>0){_a.rowposition=0;}if(_a._eventstat){if(_b){_a.on_fire_onload(0,"",_b);}else{_a.on_fire_onload(0,"",0);}}}};_pTransactionItem._getStreamType=function(_a){if(!_a){return null;}var _b=nexacro.trimLeft(_a);var _c=_b.slice(0,10).toUpperCase();if(_c.indexOf("CSV")==0){return "CSV";}else if(_c.indexOf("SSV")==0){return "SSV";}else if(_c.indexOf("PPX")==0){return "PPX";}else if(_c.indexOf("<?XML")==0){return "XML";}return null;};delete _pTransactionItem;}if(!nexacro.EditBase){nexacro.EditClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.ClickEventInfo.call(this,_a,_b||"oneditclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.caretpos=(_c==null)?0:_c;};var _pEditClickEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.EditClickEventInfo);nexacro.EditClickEventInfo.prototype=_pEditClickEventInfo;_pEditClickEventInfo._type_name="EditClickEventInfo";delete _pEditClickEventInfo;_pEditClickEventInfo=null;nexacro.CanCharEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"cancharchange";this.fromobject=this.fromreferenceobject=_a;this.chartext=_c;this.posttext=_e;this.pretext=_d;};var _pCanCharEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CanCharEventInfo);nexacro.CanCharEventInfo.prototype=_pCanCharEventInfo;_pCanCharEventInfo._type_name="TextChangeEventInfo";_pCanCharEventInfo.set_chartext=function(_a){this.chartext=_a;};delete _pCanCharEventInfo;_pCanCharEventInfo=null;nexacro.TextChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"ontextchange";this.fromobject=this.fromreferenceobject=_a;this.chartext=_c;this.posttext=_e;this.pretext=_d;this.preimetext=_f;this.postimetext=_g;};var _pTextChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.TextChangeEventInfo);nexacro.TextChangeEventInfo.prototype=_pTextChangeEventInfo;_pTextChangeEventInfo._type_name="TextChangeEventInfo";_pTextChangeEventInfo.set_chartext=function(_a){this.chartext=_a;};delete _pTextChangeEventInfo;_pTextChangeEventInfo=null;nexacro.TextChangedEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"ontextchanged";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.posttext=_d;};var _pTextChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.TextChangedEventInfo);nexacro.TextChangedEventInfo.prototype=_pTextChangedEventInfo;_pTextChangedEventInfo._type_name="TextChangedEventInfo";delete _pTextChangedEventInfo;nexacro.EditBase=function(_a){if(_a){this.comp=_a;}this._init_eventhandler();this._init();};_pEditBase=nexacro.EditBase.prototype;_pEditBase._type_name="EditBase";_pEditBase._old_text="";_pEditBase._text="";_pEditBase._old_value=null;_pEditBase._value=null;_pEditBase._focus_text="";_pEditBase._focus_value=null;_pEditBase._strTab="\t";_pEditBase._set_old_prop=false;_pEditBase._deleted_char="";_pEditBase._is_on_killfocus=false;_pEditBase._is_apply_autoselect=false;_pEditBase._imefirsttxt="";_pEditBase._select_text="";_pEditBase._compositionstart_value="";_pEditBase._compositionend_value="";_pEditBase._bChangeFocusText=false;_pEditBase._keycode=0;_pEditBase._charcode=0;_pEditBase._altkey=false;_pEditBase._ctrlkey=false;_pEditBase._shiftkey=false;_pEditBase._old_begin_pos=0;_pEditBase._old_end_pos=0;_pEditBase._begin_pos=0;_pEditBase._end_pos=0;_pEditBase._input_begin_pos=0;_pEditBase._accept_keyinput_event=true;_pEditBase._accept_focus_event=true;_pEditBase._accept_blur_event=true;_pEditBase._accept_select_event=true;_pEditBase._accept_cut_process=true;_pEditBase._stat_mouse=null;_pEditBase._stat_focus=null;_pEditBase._stat_composition=null;_pEditBase._mouseflag=false;_pEditBase._is_undo=false;_pEditBase._undoStack=null;_pEditBase._textEventInfo=null;_pEditBase._set_timer_by_killfocus=false;_pEditBase._isPasteActionComplete=true;_pEditBase._on_input_mousedown=null;_pEditBase._on_input_mouseup=null;_pEditBase._on_input_mousemove=null;_pEditBase._on_input_touchstart=null;_pEditBase._on_input_touchmove=null;_pEditBase._on_input_touchend=null;_pEditBase._on_input_keydown=null;_pEditBase._on_input_keypress=null;_pEditBase._on_input_keyinput=null;_pEditBase._on_input_keyup=null;_pEditBase._on_input_focus=null;_pEditBase._on_input_blur=null;_pEditBase._on_input_copy=null;_pEditBase._on_input_cut=null;_pEditBase._on_input_paste=null;_pEditBase._on_input_compositionstart=null;_pEditBase._on_input_compositionend=null;_pEditBase._on_input_compositionupdate=null;_pEditBase._on_input_select=null;_pEditBase._on_default_input_keyup=nexacro._emptyFn;_pEditBase._keyup_process_enter=nexacro._emptyFn;_pEditBase._focus_process=nexacro._emptyFn;_pEditBase._blur_process=nexacro._emptyFn;_pEditBase._mouseup_process=nexacro._emptyFn;_pEditBase._mousedown_process=nexacro._emptyFn;_pEditBase.onUpdateStyle=nexacro._emptyFn;_pEditBase.syncValue=nexacro._emptyFn;_pEditBase.insertTabChar=nexacro._emptyFn;_pEditBase.applyInputmode=nexacro._emptyFn;_pEditBase._changeFocusText=nexacro._emptyFn;_pEditBase._setLocale=nexacro._emptyFn;_pEditBase._init_eventhandler=function(){this._on_input_mousedown=this._on_default_input_mousedown;this._on_input_mouseup=this._on_default_input_mouseup;this._on_input_mousemove=this._on_default_input_mousemove;this._on_input_keydown=this._on_default_input_keydown;this._on_input_keypress=this._on_default_input_keypress;this._on_input_keyinput=this._on_default_input_keyinput;this._on_input_keyup=this._on_default_input_keyup;this._on_input_touchstart=this._on_default_input_touchstart;this._on_input_touchmove=this._on_default_input_touchmove;this._on_input_touchend=this._on_default_input_touchend;this._on_input_focus=this._on_default_input_focus;this._on_input_blur=this._on_default_input_blur;this._on_input_copy=this._on_default_input_copy;this._on_input_cut=this._on_default_input_cut;this._on_input_paste=this._on_default_input_paste;this._on_input_compositionstart=this._on_default_input_compositionstart;this._on_input_compositionend=this._on_default_input_compositionend;this._on_input_compositionupdate=this._on_default_input_compositionupdate;this._on_input_select=this._on_default_input_select;};_pEditBase._init=function(){this._old_text="";this._text="";this._old_value=null;this._value=null;this._focus_text="";this._focus_value=null;this._set_old_prop=false;this._old_begin_pos=0;this._old_end_pos=0;this._begin_pos=0;this._end_pos=0;this._input_begin_pos=0;this._accept_focus_event=true;this._accept_blur_event=true;this._set_timer_by_killfocus=false;if(!this._stat_mouse){this._stat_mouse=new nexacro.EditBase.Status("mouse");}else{this._stat_mouse.init();}if(!this._stat_focus){this._stat_focus=new nexacro.EditBase.Status("focus");}else{this._stat_focus.init();}if(!this._stat_composition){this._stat_composition=new nexacro.EditBase.CompositionStatus("composition");}else{this._stat_composition.init();}if(!this._undoStack){this._undoStack=new nexacro.EditBase.UndoStack(this.comp);}else{this._undoStack.init();}if(!this._textEventInfo){this._textEventInfo=new nexacro.EditBase.TextEventInfo(this.comp);}else{this._textEventInfo.init();}};_pEditBase._destroy=function(){this.comp=null;this._old_value=null;this._value=null;this._focus_value=null;this._stat_mouse=null;this._stat_focus=null;this._stat_composition=null;if(this._undoStack){this._undoStack._destroy();this._undoStack=null;}if(this._textEventInfo){this._textEventInfo._destroy();this._textEventInfo=null;}};_pEditBase._on_getAccessibilityAdditionalLabel=function(){var _a=this.comp;var _b=_a._input_element;if(_b&&_b._wantAccessibilityAdditionalLabel){if(!_b._wantAccessibilityAdditionalLabel()){return "";}if(_a.text!==undefined&&_a.value!==undefined){return _a.text;}}return "";};_pEditBase._on_getAccessibilityWholeLabel=function(){var _a=this.comp;var _b=_a._input_element;if(_b){if(_a.text!==undefined&&_a.value!==undefined){return _a.text;}}return "";};_pEditBase.setPosition=function(){var _a=this.comp;var _b=_a._input_element;var _c=_a._control_element;var _d=_a._client_width;var _e=_a._client_height;if(_b&&_b._handle){if(_d!=0&&_e!=0){var _f=nexacro._getCachedPaddingObj("0 1 0 1");var _g=_a.on_find_CurrentStyle_align(_a._pseudo);var _h=_a.on_find_CurrentStyle_padding(_a._pseudo);var _i=_g.valign;var _j=_g.halign;if(_i==""){_i=nexacro.Component._default_left_align.valign;}_b.setElementPosition(0,0);_c.setElementPadding(_h);_b.setElementPadding(_f);_b.setElementSize(_d,_e);_b.setElementAlignXY(_j,_i);}}};_pEditBase.setElementCaretPos=function(_a,_b,_c){if(_c&&_c._type=="date"){_a=0;_b=_c.getElementValue().length;}this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_a;this._end_pos=_b;if(!this._is_composition()){this._input_begin_pos=_a;}if(_c){pos=_c.setElementSetSelect(_a,_b);}};if(nexacro.OS=="iOS"){if(nexacro.OSVersion.charAt(0)<7){_pEditBase.getCompositionData=function(_a){var _b=_a.getElementValue();var _c=this._input_begin_pos;var _d=_b.length-this._imefirsttxt.length;var _e=_b.substr(_c,_d);return _e;};}else{_pEditBase.getCompositionData=function(_a){var _b=_a.getElementCaretPos();if(!_b||_b== -1){return "";}var _c=_a.getElementValue();var _d=this._input_begin_pos;var _e=_b.begin-this._input_begin_pos;var _f=_c.substr(_d,_e);return _f;};}}else{_pEditBase.getCompositionData=function(_a){var _b=_a.getElementCaretPos();if(!_b||_b== -1){return "";}var _c=_a.getElementValue();var _d=this._input_begin_pos;var _e=_b.begin-this._input_begin_pos;var _f=_c.substr(_d,_e);return _f;};}_pEditBase.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}if(this._pasteAction||this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){var _e=_c.length-_d.length;_b=_c.substr(this._begin_pos,_e);}else if(this.getCompositionData(_a)){_b=this.getCompositionData(_a);}else{_b=this._stat_composition.getData(_a);}return _b;};_pEditBase.clearBuffer=function(_a,_b,_c){if(_a===null||_a===undefined){return;}var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);this._setText(_d);this._setValue(_d);this.setElementCaretPos(_b,_b);};_pEditBase.restoreBuffer=function(_a,_b,_c){if(_a===null||_a===undefined){return;}this._setText(_a);this._setValue(_a);this.setElementCaretPos(_b,_c);};_pEditBase.writeBuffer=function(_a){var _b=this._text;if(_b===undefined||_b===null){_b="";}_b=_b.replace(/\r\n/g,"\n");var _c=_a.getElementValue();_c=_c.replace(/\r\n/g,"\n");if(_a&&_c!=_b){_a.setElementValue(_b);}return _b;};_pEditBase.setValue=function(_a){var _b=this.comp._input_element;if(nexacro._isNull(_a)||_a===""){this._setText("");this._setValue(_a);this._undoStack.push(_a);if(_b&&nexacro._checkActiveElement(_b)){this.setElementCaretPos(0,0,_b);}else{this.setElementCaretPos(0,0);}}else{this._setText(_a);this._setValue(_a);this._undoStack.push(_a,_a,this._begin_pos,this._end_pos);}if(_b){_b.setElementValue(_a,true);if(nexacro.Browser=="Gecko"){_b.setElementSetSelect(this._begin_pos,this._end_pos);}}};_pEditBase._on_default_input_mousedown=function(_a,_b,_c,_d){this._old_text=this._text;this._old_value=this._value;var _e=this._stat_mouse.getCurrentStatus();if(_e=="mousedown"){this._is_apply_autoselect=false;}this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseDown);this._mousedown_process(_a);if(_c&&!this._is_selected()){this.comp.setSelect();}var _f=this._stat_focus.getCurrentStatus();if(((nexacro.Browser=="Runtime")||(nexacro.Browser!="Runtime"&&this._mouseflag&&_e=="mousedown"))&&_f!=nexacro.EditBase.Status.Focus&&this._stat_focus.getCurrentStatus()==nexacro.EditBase.Status.Focus){var _g=this.comp._getWindow();var _h=_g?_g._indexOfCurrentFocusPaths(this.comp):0;if(_h<0&&this.comp._is_subcontrol){_h=_g?_g._indexOfCurrentFocusPaths(this.comp.parent):0;}if(_h<0){this.comp._on_focus(true);}}};_pEditBase._on_default_input_mousemove=function(_a){if(this._text==_a.getElementValue()){this._setCaret(_a);}};_pEditBase._on_default_input_mouseup=function(_a,_b,_c,_d){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);this._mouseup_process(_a);if(this._is_apply_autoselect){this._is_apply_autoselect=false;_a._event_stop=true;}if(_a.readonly){_a._deleteCaret();}};_pEditBase._on_default_input_touchstart=function(_a){this._old_text=this._text;this._old_value=this._value;this._mousedown_process(_a);};_pEditBase._on_default_input_touchmove=function(_a){};_pEditBase._on_default_input_touchend=function(_a){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);this._setCaret(_a);if(_a.readonly){_a._deleteCaret();}};_pEditBase._on_default_input_select=function(_a){if(this._accept_select_event===false){this._accept_select_event=true;return;}this._setCaret(_a);if(this._text&&(this._begin_pos!=this._end_pos)){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}};_pEditBase._on_default_input_focus=function(_a,_b){var _c=false;var _d=this._stat_mouse.getCurrentStatus();var _e=this._stat_focus.getCurrentStatus();if(_d==nexacro.EditBase.Status.MouseDown&&_e!=nexacro.EditBase.Status.Focus){_c=true;}if(this._accept_focus_event===false){this._accept_focus_event=true;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);if(!_c&&_a.readonly){_a._deleteCaret();}return;}this._focus_process(_a,_c);if(_e!=nexacro.EditBase.Status.Focus){if(!this.comp._activate_flag){this._setFocusValue();}}if(_c){if(nexacro.Browser!="Edge"&&nexacro.Browser!="IE"){_a._event_stop=true;}}if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.comp._activate_flag=false;this._mouseflag=_c;};_pEditBase._on_default_input_blur=function(_a,_b){if((!this.comp._input_element.getRootWindowHandle())||(_b===_a._handle&&_a.password)){return true;}if(this._accept_blur_event===false){this._accept_blur_event=true;return false;}if(this._is_on_killfocus&&this._stat_mouse.getCurrentStatus()===nexacro.EditBase.Status.MouseDown){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);}this._blur_process(_a);this._stat_focus.setStatus(nexacro.EditBase.Status.Blur);return true;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){if(nexacro.OSVersion>=6.0){if(nexacro.BrowserVersion==10){_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(!_d){_d="";}if(!_e){_e="";}if(!_a.usemultiline){_d=_d.replace(/\r\n/g,"");_d=_d.replace(/\n/g,"");_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}if(_c==_d&&_c==_e){this._setCaret(_a);return false;}if(_c==_e&&this._is_composition()){return false;}if(!this._set_old_prop){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;}if(this._is_selected()&&!this._cutAction){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();this._set_old_prop=true;if(this._pasteAction){this._isPasteActionComplete=false;}return false;}if(this._keycode==nexacro.KeyCode_ImeInput&&(this._stat_composition.getCurrentStatus()!=nexacro.EditBase.Status.CompositionEnd)){var _h=this.getCompositionData(_a);var _i=_a.getElementCaretPos();if(!this._is_composition()){if(_h!="　"){this._on_input_compositionstart(_h);}}else{if(this._is_hangul(_h)){if(_i.begin!=this._begin_pos){var _f=_h.substr(0,1);this._on_input_compositionend(_f);var _g=this._fire_text_event(_f);_h=this.getCompositionData(_a);if(_h.length>0){this._on_input_compositionstart(_h);}}else if(this._compositionend_value===_c){this._on_input_compositionend(_h);}else{this._on_input_compositionupdate(_h);}}else{this._on_input_compositionupdate(_h);}}}else if(this._is_composition()){var _h=this.getCompositionData(_a);if(!this._is_hangul(_h)){this._on_input_compositionupdate(_h);}else{this._on_input_compositionend(_h);}}var _f="";_f=this.getInsertText(_a);var _g=this._fire_text_event(_f);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._set_old_prop=false;this.onUpdateStyle(_b);return _g;};}else if(nexacro.BrowserVersion==9){_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(!_d){_d="";}if(!_e){_e="";}if(!_a.usemultiline){_d=_d.replace(/\r\n/g,"");_d=_d.replace(/\n/g,"");_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}if(_c==_d&&_c==_e){this._setCaret(_a);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._keycode==nexacro.KeyCode_ImeInput){var _h=this.getCompositionData(_a);var _i=_a.getElementCaretPos();if(!this._is_composition()){if(_h!="　"){this._on_input_compositionstart(_h);}}else{if(this._is_hangul(_h)){if(_i.begin!=this._begin_pos){var _f=_h.substr(0,1);this._on_input_compositionend(_f);var _g=this._fire_text_event(_f);_h=this.getCompositionData(_a);if(_h.length>0){this._on_input_compositionstart(_h);}}else if(this._compositionend_value===_c){this._on_input_compositionend(_h);}else{this._on_input_compositionupdate(_h);}}else{this._on_input_compositionupdate(_h);}}}else if(this._is_composition()){var _h=this.getCompositionData(_a);if(!this._is_hangul(_h)){this._on_input_compositionupdate(_h);}}var _f=this.getInsertText(_a);var _g=this._fire_text_event(_f);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _g;};}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(!_d){_d="";}if(!_e){_e="";}if(!_a.usemultiline){if(typeof (_d)=="string"){_d=_d.replace(/\r\n/g,"");_d=_d.replace(/\n/g,"");}if(typeof (_e)=="string"){_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}}if(_c==_d&&_c==_e){this._setCaret(_a);return false;}if(!this._set_old_prop){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;}if(this._is_selected()&&!this._cutAction){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();this._set_old_prop=true;return;}if(this._keycode==nexacro.KeyCode_ImeInput){var _h=this.getCompositionData(_a);var _i=_a.getElementCaretPos();if(!this._is_composition()){if(_h&&_h.charAt(_h.length-1)!="　"){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){this._on_input_compositionstart(_h);}}else{this._on_input_compositionend(_h);}}else{if(_h&&_h.length>0){if(this._is_hangul(_h)){if(_i.begin!=this._begin_pos){var _f=_h.substr(0,1);this._on_input_compositionend(_f);var _g=this._fire_text_event(_f);var _j=_h.substring(1,_h.length);if(_j.length>0){this._on_input_compositionstart(_j);}}else{this._on_input_compositionupdate(_h);}}else{this._on_input_compositionupdate(_h);}}else{}}}else if(this._is_composition()){var _h=this.getCompositionData(_a);if(!this._is_hangul(_h)){this._on_input_compositionupdate(_h);}}var _f=this.getInsertText(_a);var _g=this._fire_text_event(_f);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._set_old_prop=false;this.onUpdateStyle(_b);return _g;};}}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(!_d){_d="";}if(!_e){_e="";}if(!_a.usemultiline){_d=_d.replace(/\r\n/g,"");_d=_d.replace(/\n/g,"");_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}if(_c==_d&&_c==_e){this._setCaret(_a);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._keycode==nexacro.KeyCode_ImeInput){var _h=this.getCompositionData(_a);if(!this._is_composition()){if(_h!="　"){this._on_input_compositionstart(_h);}}else{if(this._is_hangul(_h)){if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _f=_h.substr(0,1);this._compositionend_value=_c.substr(0,_c.length-1);this._on_input_compositionend(_f);var _g=this._fire_text_event(_f);_h=_h.substr(1,_h.length-1);if(_h.length>0){this._on_input_compositionstart(_h);}}else{this._on_input_compositionupdate(_h);}}else{this._on_input_compositionupdate(_h);}}}else if(this._is_composition()){var _h=this.getCompositionData(_a);if(!this._is_hangul(_h)){this._on_input_compositionupdate(_h);}}var _f=this.getInsertText(_a);var _g=this._fire_text_event(_f);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _g;};}}else if(nexacro.OS=="iOS"){if(nexacro.OSVersion.charAt(0)<7){_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(this._is_composition()&&this._imefirsttxt==_c){return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._charcode>=12593&&this._charcode<=12643){if(!this._is_composition()){this._imefirsttxt=this._text;var _h=this.getCompositionData(_a);this._on_input_compositionstart(_h);}else{var _h=this.getCompositionData(_a);if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _f=_h.substr(0,1);var _i=_h.length-1;var _j=_c.substr(0,this._begin_pos);var _k=_c.substr(this._begin_pos+_i,_c.length-1);this._compositionend_value=_j+_k;this._on_input_compositionend(_f);var _g=this._fire_text_event(_f);_h=_h.substr(1,_h.length-1);if(_h.length>0){this._imefirsttxt=this._compositionend_value;this._on_input_compositionstart(_h);}}else{this._on_input_compositionupdate(_h);}}}else if(this._is_composition()){var _h=this.getCompositionData(_a);if(!this._is_hangul(_h)){this._on_input_compositionupdate(_h);}}var _f=this.getInsertText(_a);var _g=this._fire_text_event(_f);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _g;};}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e=this._text;var _f=this._value;if(this._is_composition()&&this._imefirsttxt==_c){return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._charcode>=12593&&this._charcode<=12643){if(!this._is_composition()){this._imefirsttxt=this._text;this._input_begin_pos=(!_d||_d== -1)?0:_d.begin-1;var _i=this.getCompositionData(_a);this._on_input_compositionstart(_i);}else{var _i=this.getCompositionData(_a);if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _g=_i.substr(0,1);var _j=_i.length-1;var _k=_c.substr(0,this._begin_pos);var _l=_c.substr(this._begin_pos+_j,_c.length-1);this._compositionend_value=_k+_l;this._on_input_compositionend(_g);var _h=this._fire_text_event(_g);_i=_i.substr(1,_i.length-1);if(_i.length>0){this._imefirsttxt=this._compositionend_value;this._on_input_compositionstart(_i);}}else{this._on_input_compositionupdate(_i);}}}else{var _i=this.getCompositionData(_a);this._on_input_compositionend(_i);}var _g=this.getInsertText(_a);var _h=this._fire_text_event(_g);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _h;};}}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(!_d){_d="";}if(!_e){_e="";}if(!this._is_composition()&&_c==_d&&_c==_e){this._setCaret(_a);this.onUpdateStyle(_b);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}var _f=this.getInsertText(_a);var _g=this._fire_text_event(_f);if(!this._is_composition()){this._stat_composition.init();}this.onUpdateStyle(_b);return _g;};}_pEditBase._on_input_keyinput_after=function(){if(this._isPasteActionComplete){this._pasteAction=false;this._cutAction=false;}};_pEditBase._on_default_input_copy=function(_a){if(application._input_paste_comp){application._input_paste_comp=null;}};_pEditBase._on_default_input_cut=function(_a){this._cutAction=true;var _b=_a.getElementCaretPos();var _c=_a.getElementValue();if(!_b||_b== -1){this._undoStack.push(_c,_c,0,0);}else{this._begin_pos=_b.begin;this._end_pos=_b.end;this._undoStack.push(_c,_c,_b.begin,_b.end);}if(application._input_paste_comp){application._input_paste_comp=null;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._on_input_keyinput(_a);});}};_pEditBase._on_default_input_paste=function(_a){if(application._input_paste_comp){application._input_paste_comp._setFocus();}this._pasteAction=true;var _b=_a.getElementCaretPos();var _c=_a.getElementValue();if(!_b||_b== -1){this._undoStack.push(_c,_c,0,0);}else{this._undoStack.push(_c,_c,_b.begin,_b.end);}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){if(!(_d._ctrlkey&&_d._keycode==86)){_d.setElementCaretPos(_d._old_begin_pos,_d._old_begin_pos);}_d._on_input_keyinput(_a);});}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_pEditBase._on_default_input_compositionstart=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();if(_a==""||this._is_hangul(_a)){if(this._compositionstart_value.length!=_c.length){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){var _d=_c.substr(this._input_begin_pos,1);this._on_default_input_compositionend(_d);}}}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pEditBase._on_default_input_compositionstart=function(_a){this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionstart=function(_a){if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.OS=="Android"){_pEditBase._on_default_input_compositionstart=function(_a){if(this._keycode==0){this._input_begin_pos=this.comp._input_element.getElementCaretPos().begin;}else{this._input_begin_pos=this._begin_pos;}this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else{_pEditBase._on_default_input_compositionstart=function(_a){this._input_begin_pos=this._begin_pos;this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_pEditBase._on_default_input_compositionupdate=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();if(_a==""||this._is_hangul(_a)){if(this._compositionstart_value.length!=_c.length){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){this._on_default_input_compositionstart(_a);}}if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionStart){this._input_begin_pos=_d.end-_a.length;this._compositionstart_value=_c;}}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else if(nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionupdate=function(_a){if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else{_pEditBase._on_default_input_compositionupdate=function(_a){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._bStatChangeOnly){return;}var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();var _e=this;var _f=_c.substr(0,this._input_begin_pos);var _g=_c.substr(this._input_begin_pos,1);var _h=_c.substr(_d.end,_c.length-_d.end);var _i=_f+_g+_h;if(_a==""||this._is_hangul(_a)){if(this._accept_keyinput_event){this._fire_text_event(_g);this._text=_i;this._value=_i;return true;}else{this._accept_keyinput_event=true;}}};}else{_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);};}_pEditBase._fire_text_event=function(_a){var _b=true;var _c=true;var _d=false;var _e=false;var _f=false;var _g=this.comp;var _h=_g._input_element;var _i=this._cutAction?this._old_text:this._text;var _j=this._value;var _k=_g.autoskip;var _l=this._textEventInfo;var _m=this._get_newText_from_text_event(_a);if(!_i){_i="";}var _n=this._input_begin_pos;var _o=_n+_a.length;var _p=_a;var _q=_a;var _r=_m.substr(0,_n);var _s=_m.substr(_o,_m.length-_o);var _t=this._stat_composition.getPreviousData();var _u=this._stat_composition.getData();var _v=_r+_s;this._initinfo_from_text_event(_a,_m,_n,_o);if(this._check_filterable(_a)){_a=this.applyInputmode(_a);_a=this._apply_inputfilter(_a);_a=this._apply_inputtype(_a);if(_p.length>0&&_a.length==0){_e=true;_a=this._select_text;}this._select_text="";if(!_e){_c=this._check_maxlength_from_text_event(_a);if(!_c){_a="";_m=_g.text;}else{_a=this._apply_maxlength_from_text_event(_a);if(_a!=_p){_d=true;}}}_m=_r+_a+_s;if(_g.maxlength>0&&_m.length>_g.maxlength){_m=_m.substring(0,_g.maxlength);}}_b=this._after_filterprocess_from_text_event(_a,_m,_c,_d);if(this._is_composition()){_q="";}_l.setTextInfo(_q,_i,_b.newText,_t,_u,_v,_b.bInsert,_b.bCut);if(!_e){_b=_g._on_fire_textchangeEventSet(_l);if(_b.bTextchangeRet){if(_b.fireCancharEvent){if(_b.bCancahrchangeRet&&_b.bOncharRet){this._setValue(_l.posttext);this.syncValue();if(!this._is_undo){var _w=_n+_a.length;this._undoStack.push(this._value,this._value,_w,_w);}}else{if(this._is_hangul(_a)){this._cancel_event_char_from_text_event(_n,_n);}else{this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();_h.setElementValue(this._text);this.setElementCaretPos(_n,_n,_h);}return _b;}}if(_l.pretext!=_l.posttext){this._setText(_l.posttext);this.syncValue();if(_b.bChangeInputValue){_h.setElementValue(_l.posttext);}_g.on_fire_ontextchanged(_g,this._old_text,this._text);}if(_q!=_l.chartext){_n+=_l.chartext.length;_h.setElementValue(_l.posttext);this.setElementCaretPos(_n,_n,_h);}else{_n+=_a.length;this._after_eventset_fired_from_text_event(_n);}}else{this._cancel_event_textchange_from_text_event(_n,_o);}}if(!_b.bInsert){this._not_insert_from_text_event(_n,_o);}if(_b.bCut){this._cut_from_text_event(_n,_o);}if(_e){this._cancel_from_text_event(_m,_n,_o);}if(_k){this._autoskip_from_text_event(_p);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.OSVersion>=6.0){if(nexacro.SystemLang=="ja"){if(nexacro.BrowserVersion>=9){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;if(!this._is_on_killfocus){if(!this._set_timer_by_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();if(!this._is_on_killfocus){_d.setElementFocus();}this._accept_keyinput_event=false;}_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_c._text);_c._set_timer_by_killfocus=false;});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementFocus();_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_c._text);_c._set_timer_by_killfocus=false;});}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this;var _e=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_e.setElementBlur();_e.setElementFocus();_e.setElementValue(this._text);this.setElementCaretPos(_b,_b,_e);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_e.setElementValue(_d._text);_d._set_timer_by_killfocus=false;});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){if(!_a&&!this._is_composition()&&!this._is_undo){this._text=this._value;return {newText:this._value,bInsert:false,bCut:false};}return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;if(!this._is_on_killfocus){if(!this._set_timer_by_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c._accept_focus_event=false;_c.setElementCaretPos(_a,_a,_d);});}}else{this._set_timer_by_killfocus=true;var _e=this._text;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_e);_c._set_timer_by_killfocus=false;});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c._accept_focus_event=false;_c.setElementCaretPos(_a,_a,_d);});}else{this._set_timer_by_killfocus=true;var _e=this._text;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_e);_c._set_timer_by_killfocus=false;});}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this;var _e=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;_e.setElementBlur();_e.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._accept_focus_event=false;_d.setElementCaretPos(_b,_b,_e);});}else{this._set_timer_by_killfocus=true;var _f=this._text;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_e.setElementValue(_f);_d._set_timer_by_killfocus=false;});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}}else{if(nexacro.BrowserVersion>=9){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};if(nexacro.BrowserVersion==11){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_a;this._cancel_from_text_event(this._old_value,_a,_a);};}if(nexacro.BrowserVersion==11){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_a;this._cancel_from_text_event(this._old_value,_a,_a);};}if(nexacro.BrowserVersion==11){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_a;this._cancel_from_text_event(this._old_value,_a,_a);};}_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};if(nexacro.Browser=="Edge"){_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};}else{_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};}_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._text);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_d.setElementBlur();_d.setElementFocus();}if(this._pasteAction&&(nexacro.BrowserVersion==9||nexacro.BrowserVersion==10)){_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(_a,_a,_d);});}else{_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(nexacro.BrowserVersion==11){if(this._is_composition()){this._accept_keyinput_event=false;this._bStatChangeOnly=true;this._on_input_compositionend("");this._bStatChangeOnly=false;}}else{this._accept_keyinput_event=false;this._on_input_compositionend("");}this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementFocus();_d.setElementValue(this._text);this.setElementCaretPos(_b,_b,_d);};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}}}else{if(nexacro.SystemLang=="ja"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=function(_a,_b,_c,_d){if(_a&&!this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd){this._value=_b.substr(0,_c)+_b.substr(_d,_b.length-_d);}};_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){if(!_a&&!this._is_composition()&&!this._is_undo){this._text=this._value;return {newText:this._value,bInsert:false,bCut:false};}return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){var _b=this.comp._input_element;if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_b);}};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._accept_blur_event=false;this._accept_focus_event=false;_c.setElementBlur();_c.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_c);}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();this._accept_blur_event=false;this._accept_focus_event=false;_c.setElementBlur();_c.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_c);}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();this._accept_blur_event=false;this._accept_focus_event=false;_d.setElementBlur();_d.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_b,_b,_d);}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=function(_a,_b,_c,_d){if(_a&&!this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd){this._value=_b.substr(0,_c)+_b.substr(_d,_b.length-_d);}};_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength2(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a);}};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);}else{var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_c.setElementValue(_d._text);});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);}else{var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_c.setElementValue(_d._text);});}};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_b.setElementBlur();_b.setElementFocus();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);}else{var _c=this;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_b.setElementValue(_c._text);});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){if(!(_a!=""&&!this._is_hangul(_a))){this._accept_keyinput_event=false;}this._apply_autoskip();}};}}}else if(nexacro.Browser=="Chrome"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(_a,_b,_c);};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._text);this._setValue(this._value);this.syncValue();_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(_a);this._setValue(_a);this.syncValue();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else if(nexacro.Browser=="Gecko"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;this._cancel_from_text_event(this._old_value);};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){_a.setElementBlur();_a.setElementFocus();}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){_a.setElementBlur();_a.setElementFocus();}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){if(!this._accept_cut_process){this._accept_cut_process=true;return;}var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_cut_process=false;_b.setElementBlur();_b.setElementFocus();}if(this._old_begin_pos!=this._old_end_pos){this._accept_select_event=false;}_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}this._accept_cut_process=true;};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{if(nexacro.OS=="iOS"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){_c=this._compositionend_value;}return _c;};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};}_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};if(nexacro.Browser=="Safari"){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;this._accept_keyinput_event=false;_c.setElementBlur();_c.setElementValue("");_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_b,_c);};}else if(nexacro.Browser=="MobileSafari"){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._on_default_input_compositionend("");this.setElementCaretPos(0,0,_c);_c.setElementValue("",true);this._old_begin_pos=_a;this._old_end_pos=_b;this._begin_pos=_a;this._end_pos=_b;this._input_begin_pos=_a;var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_d._old_value=_e;_d._old_text=_e;_c.setElementValue(_e,true);_d.setElementCaretPos(_a,_b,_c);_d._compositionend_value=_c.getElementValue();});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;this._cancel_from_text_event(this._old_value);};}_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setInputElementCompositeClear();}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_a.setInputElementCompositeClear();}this._filteredtext=true;_a.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_a.setInputElementCompositeClear();}this._filteredtext=true;this._setText(this._text);this._setValue(this._value);this.syncValue();_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_b.setInputElementCompositeClear();}this._filteredtext=true;this._setText(_a);this._setValue(_a);this.syncValue();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};};_pEditBase._is_composition=function(){return (this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionStart||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate);};_pEditBase._is_selected=function(){return this._begin_pos!=this._end_pos;};_pEditBase._is_cleared=function(_a){var _b=_a.getElementValue();if(_b==""&&_b!=this._text){return true;}return false;};_pEditBase._check_filterable=function(_a){if(_a==null){return false;}if(this._is_hangul(_a)||!this._is_composition()){return true;}return false;};_pEditBase._set_enable=function(_a){if(this.comp&&this.comp._input_element){this.comp._input_element.setElementEnable(_a);}};_pEditBase._setText=function(_a){if(!nexacro._isNull(_a)){if(!(typeof _a=="string")){_a=nexacro._toString(_a);}_a=_a.replace(/\r\n/g,"\n");}this._text=_a;};_pEditBase._setValue=function(_a){if(!nexacro._isNull(_a)){if(!(typeof _a=="string")){_a=nexacro._toString(_a);}}this._value=_a;};_pEditBase._getText=function(){return this._text;};_pEditBase._getValue=function(){return this._value;};_pEditBase._getFocusText=function(){return this._focus_text;};_pEditBase._getFocusValue=function(){return this._focus_value;};_pEditBase._setCaret=function(_a){var _b=_a.getElementCaretPos();if(_b&&_b!= -1){this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_b.begin;this._end_pos=_b.end;if(!this._is_composition()){this._input_begin_pos=_b.begin;}}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditBase._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this._select_text=this._text;this.setElementCaretPos(0,_c.length,_a);this.onUpdateStyle(_b);}};}else if(nexacro.OS=="Android"){_pEditBase._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this;var _d=this._select_text=this._text;this._is_apply_autoselect=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(0,_d.length,_a);},0);}};}else{_pEditBase._apply_autoselect=function(_a,_b){var _c=this.comp;if(_c.autoselect){var _d=this._select_text=this._text;this._is_apply_autoselect=true;this.setElementCaretPos(0,_d.length,_a);}};}if(nexacro.Browser=="Edge"||nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"||nexacro.Browser=="IE"){_pEditBase._apply_autoskip=function(){var _a=this;nexacro.OnceCallbackTimer.callonce(_a.comp,function(){_a.comp.on_apply_autoskip();},0);};}else{_pEditBase._apply_autoskip=function(){var _a=this.comp;_a.on_apply_autoskip();};}_pEditBase.applyInputmode=function(_a){if(!_a){return _a;}var _b=this.comp.inputmode;if(_b){switch(_b.toLowerCase()){case "upper":_a=_a.toUpperCase();break;case "lower":_a=_a.toLowerCase();break;default:break;}}return _a;};_pEditBase._setFocusValue=function(){this._focus_text=this._text;this._focus_value=this._value;};_pEditBase._calcCaret=function(_a,_b,_c,_d){if(_a&&_a!= -1){var _e=_a.begin;var _f=_c.length;var _g=_d.length;if(_f>_g){var _h=_f-_g;var _i=_h%2?true:false;if(_b=="center"){if(_i){var _j=_e-_h;if(_j<0){_e=0;}else if(_j>=_g){_e=_g;}else{_e=_j+1;}}else{var _k=_h/2;var _j=_e-_k;if(_j<=0){_e=0;}else if(_j>=_g){_e=_g;}else{_e=_j;}}}else if(_b=="right"){if((_e-_h)<=0){_e=0;}else{_e-=_h;}}}else if(_f<_g){_e=_a.begin;}}else{var _e=0;}return {begin:_e,end:_e};};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){_pEditBase._apply_style=function(_a){var _b=this.comp;if(_b&&_b._is_created){var _c=(_a.width<=0)?false:true;var _d=_a.width;_a.setElementSize((_d>0)?_d=_d-1:_d,_a.height);nexacro.OnceCallbackTimer.callonce(this.comp,function(){_a.setElementSize(_c?_d+1:_d,_a.height);},0);}};}else{_pEditBase._apply_style=nexacro._emptyFn;}_pEditBase._apply_elementtype=function(_a){if(_a&&!_a.password){_a.setElementInputType(this.comp.inputtype);}};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};delete _pEditBase;_pEditBase=null;nexacro.EditNormal=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._pre_char="";this._typeRegex=undefined;this._typeRegex1=undefined;};_pEditNormal=nexacro._createPrototype(nexacro.EditBase,nexacro.EditNormal);nexacro.EditNormal.prototype=_pEditNormal;_pEditNormal._type_name="EditNormal";_pEditNormal._filterRegexMap={alpha:"a-zA-Z",comma:",",digit:"0-9",symbol:"!\"#$%&'()*\\/;:<=>?@\\[\\\\\\]\\^_`{|}~'\\\\\\u20a9",sign:"+\\-",space:" \t",dot:"."};_pEditNormal._typeRegexMap={alpha:"a-zA-Z",comma:",",digit:"0-9",dot:".",english:"a-zA-Z",symbol:"!\"#$%&'()*\\/;:<=>?@[\\\\\\]\\^_`{|}~'\\u20a9",number:"0-9\\-.,",numberandenglish:"0-9\\-.,\\a-zA-Z",sign:"+\\-",space:" \t",half:"\\uff61-\\uff9f\\uffe8-\\uffee\\!\"#$%&'()*+,\\-./;:<=>?@[\\\\\\]\\^_`{|}~'\\a-zA-Z\\0-9+",full:"\\uff01-\\uff60\\uffe0-\\uffe6"};_pEditNormal._destroy=function(){this._filterRegexMap=null;this._typeRegexMap=null;this._typeRegex=null;this._typeRegex1=null;nexacro.EditBase.prototype._destroy.call(this);};_pEditNormal.getWCharLen=function(_a){var _b=_a.charCodeAt(0);if(((_b&0xff80)==0)||_b==0x20a9){return 1;}else if((_b&0xff00)<0x0800){return 2;}else{return 3;}};_pEditNormal._is_hangul=function(_a){var _b=new RegExp("[\\uac00-\\ud7af\\u3130-\\u318f\\u1100-\\u11ff]");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_english=function(_a){var _b=new RegExp("[\\u0041-\\u007a]");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_half_japaness=function(_a){var _b=new RegExp("[\\uff61-\\uff9f]");if(_b.test(_a)){return true;}return false;};_pEditNormal.setInputfilter=function(_a){var _b=_a.split(",");var _c="";var _d=_b.length;for(var _e=0;_e<_d;_e++ ){var _f=this._filterRegexMap[_b[_e]];if(_f){_c+=_f;}}if(_c.length){this._filterRegex=new RegExp("["+_c+"]");}else{this._filterRegex=undefined;}};_pEditNormal.setInputType=function(_a){var _b=_a.split(/\s*,\s*/);var _c="";var _d=_b.length;for(var _e=0;_e<_d;_e++ ){var _f=this._typeRegexMap[_b[_e]];if(_f){_c+=_f;}}if(_c.length){this._typeRegex=new RegExp("["+_c+"]");if(_a.indexOf("full")!= -1){var _g=this._typeRegexMap["half"];this._typeRegex1=new RegExp("["+_g+"]");}}else{this._typeRegex=undefined;this._typeRegex1=undefined;}};_pEditNormal.syncValue=function(){var _a=this.comp;var _b=_a._input_element;_a.value=this._value;if(_a.password){_a.text=this._text.replace(/./gi,"*");if(_b){_b.setElementPassword(_a.password);}}else{_a.text=this._text;}};_pEditNormal.setSelectText=function(_a,_b){if(_b&&_b.length>0){var _c=this.comp;var _d=this._begin_pos!==undefined?this._begin_pos:0;var _e=this._end_pos!==undefined?this._end_pos:0;if(_d==_e){return "";}var _f=this._text;if(_c.maxlength&&!(( +_c.maxlength)!=( +_c.maxlength))){var _g=this.getLength(_a,_f);if(_c.maxlength<=_g){return "";}}var _h=_f.split("");var _g=[];var _i="";for(var _j=0,_k=_b.length;_j<_k;_j++ ){_i=_b.charAt(_j);if(this._filterRegex){if(this._filterRegex.test(_i)){continue;}}if(this._typeRegex){if(!this._typeRegex.test(_i)){if(_c.inputtype=="full"){if(this.getWCharLen(_i)==1||this._typeRegex1.test(_i)){continue;}}else{continue;}}if(_c.inputtype!="full"&&this.getWCharLen(_i)>1){continue;}}_g.push(_i);}var _l=_c.getSelectedText();var _m=_g.join("");if(_m.length>0){this._text=_f.substring(0,_d)+_m+_f.substr(_e);this.writeBuffer(_a);this._setValue(this._text);this.syncValue();this._begin_pos=_d;this._end_pos=_d+_m.length;if(!_a.setElementSetSelect(this._begin_pos,this._end_pos)){this._accept_focus_event=false;}return _l;}}return "";};_pEditNormal.applyInputmode=function(_a){if(!_a){return _a;}var _b=this.comp.inputmode;var _c="";var _d=0;if(_b){switch(_b.toLowerCase()){case "upper":{for(_d=0;_d<_a.length;_d++ ){var _e=_a.charAt(_d);var _f=this.getWCharLen(_e);if(_f==1){_e=_e.toUpperCase();}_c+=_e;}}break;case "lower":{for(_d=0;_d<_a.length;_d++ ){var _e=_a.charAt(_d);var _f=this.getWCharLen(_e);if(_f==1){_e=_e.toLowerCase();}_c+=_e;}}break;default:{_c=_a;}break;}}return _c;};_pEditNormal.setLengthunit=function(_a){this._lengthunit=_a;};_pEditNormal.getLength=function(_a,_b,_c,_d,_e){if(_b===undefined){return 0;}if(_e===undefined){_e=this._lengthunit;}if(_c){if(_e=="utf8"){return this.utf8ByteCount(_a,_b,_c,_d);}else if(_e=="ascii"){return this.asciiByteCount(_a,_b,_c,_d);}else{var _f=this.comp;if(_d===undefined){_d=_f.maxlength;}var _g=_b;if(_d<_b.length){_g=_g.substring(0,_d);}return {"len":_b.length,"str":_g};}}else{if(_e=="utf8"){return this.utf8ByteCount(_a,_b);}else if(_e=="ascii"){return this.asciiByteCount(_a,_b);}else{return _b.length;}}};_pEditNormal.utf8Len=function(_a){if(_a>=0xD800&&_a<=0xDFFF){throw new Error("Illegal argument: "+_a);}if(_a<0){throw new Error("Illegal argument: "+_a);}if(_a<=0x7F){return 1;}if(_a<=0x7FF){return 2;}if(_a<=0xFFFF){return 3;}if(_a<=0x1FFFFF){return 4;}if(_a<=0x3FFFFFF){return 5;}if(_a<=0x7FFFFFFF){return 6;}throw new Error("Illegal argument: "+_a);};_pEditNormal.isHighSurrogate=function(_a){return _a>=0xD800&&_a<=0xDBFF;};_pEditNormal.isLowSurrogate=function(_a){return _a>=0xDC00&&_a<=0xDFFF;};_pEditNormal.toCodepoint=function(_a,_b){if(!this.isHighSurrogate(_a)){throw new Error("Illegal argument: "+_a);}if(!this.isLowSurrogate(_b)){throw new Error("Illegal argument: "+_b);}_a=(0x3FF&_a)<<10;var _c=_a|(0x3FF&_b);return _c+0x10000;};_pEditNormal.utf8ByteCount=function(_a,_b,_c,_d){if(_b===undefined){return 0;}var _e=0;if(_c){var _f=this.comp;if(_d===undefined){_d=_f.maxlength;}var _g=_b.length;for(var _h=0;_h<_b.length;_h++ ){var _i=_b.charCodeAt(_h);if(this.isHighSurrogate(_i)){var _j=_i;var _k=_b.charCodeAt( ++_h);_e+=this.utf8Len(this.toCodepoint(_j,_k));}else{_e+=this.utf8Len(_i);}if(_d==_e){_g=_h;break;}else if(_d<_e){_g=_h-1;break;}}return {"len":_e,"str":_b.substring(0,_g+1)};}for(var _h=0;_h<_b.length;_h++ ){var _i=_b.charCodeAt(_h);if(this.isHighSurrogate(_i)){var _j=_i;var _k=_b.charCodeAt( ++_h);_e+=this.utf8Len(this.toCodepoint(_j,_k));}else{_e+=this.utf8Len(_i);}}return _e;};_pEditNormal.asciiByteCount=function(_a,_b,_c,_d){if(_b===undefined){return 0;}var _e,_f=0,_g;if(_c){var _h=this.comp;if(_d===undefined){_d=_h.maxlength;}var _i=_b.length;for(_e=0;_e<_b.length;_e++ ){_g=_b.charCodeAt(_e);if(_g>255){_f++ ;if(_d>=_f){_i=_e-1;}}_f++ ;if(_d>=_f){_i=_e;}}return {"len":_f,"str":_b.substring(0,_i+1)};}else{for(_e=0;_e<_b.length;_e++ ){_g=_b.charCodeAt(_e);if(_g>255){_f++ ;}_f++ ;}return _f;}};_pEditNormal.deleteChar=function(_a){var _b=this._text?this._text:"";var _c=this._begin_pos;var _d=this._end_pos;if(_a){if(_c==_d){_c-- ;if(_b.length>0&&_c>0){if(_b.substring(_c-1,_c)=='\r'){_c-- ;}}}}else{if(_c==_d){_d++ ;if(_b.length>0&&_d<_b.length){if(_b.substring(_d,_d+1)=='\n'){_d++ ;}}}}var _e=_b.substr(0,_c);var _f=_b.substr(_d,_b.length-_d);var _g=_e+_f;this._setText(_g);this._setValue(_g);this.setElementCaretPos(_c,_c);};_pEditNormal._on_default_input_keydown=function(_a,_b,_c,_d,_e){var _f=this.comp;if(!_f){return false;}var _g=_f.readonly;var _h=true;if(_g==true){this.onUpdateStyle(_f);if(_d&&_b==67||_d&&_b==65){return true;}return false;}if(this._check_maxlength()){this._setCaret(_a);}if(_b==nexacro.KeyCode_ImeInput){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.OSVersion<6.0&&!this._is_composition()){this._input_begin_pos=this._old_begin_pos;}}}else{if(this._is_composition()&&(_b==8||_b==46||(_b>=33&&_b<=40))){if(this._is_hangul(this.getCompositionData(_a))){this._on_input_compositionend("");this._stat_composition.init();this._compositionend_value="";}}if(_b==9){if(this._is_composition()){var _i=this.getCompositionData(_a);this._on_input_compositionend(_i);this._fire_text_event(_i);}if(_f.acceptstab||(_d&&!_f.acceptstab)){this.insertTabChar(_a);this._on_input_keyinput(_a);_a._event_stop=true;return false;}}if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return false;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return false;}}if(_b==229){this._accept_select_event=false;}this.onUpdateStyle(_f);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;};_pEditNormal._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=_c||_b;var _h=true;var _i;var _j=false;var _k=false;var _l=false;var _m=this.comp;var _n=_a.getElementValue();var _o=this._text?this._text:"";var _p=this._textEventInfo;var _q=this._input_begin_pos;var _r=this._end_pos;var _s=_q;this._charcode=_c;if(!_m){return false;}if(_a.readonly){if(_g==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}if(_g==nexacro.Event.KEY_BACKSPACE||(_g==nexacro.Event.KEY_DELETE&&_g==this._keycode)||(nexacro.Browser=="MobileSafari"&&_g==127)){this.deleteChar(_g==8?true:false);this._select_text="";_p.setTextInfo("",_o,this._text,"","",_o);_s=this._begin_pos;_j=true;}else if(_g!=nexacro.KeyCode_ImeInput&&_g!=nexacro.Event.KEY_ENTER&&_c!=0){if(_a.password&&_a.maxlength>0){var _t=String.fromCharCode(_g);var _u=_t;_t=this.applyInputmode(_t);_t=this._apply_inputfilter(_t);_t=this._apply_inputtype(_t);if(_u!=_t&&_t.length==0){_j=false;}else{var _v=_o.substr(0,_q);var _w=_o.substr(_r,_o.length-_r);var _x=_v+_w;var _y=_v+_t+_w;_p.setTextInfo("",_o,_y,"","",_o);_s=_q+_p.chartext.length;if(_y.length>_a.maxlength){_l=true;}_j=true;if(nexacro.Browser=="MobileSafari"){this._accept_keyinput_event=false;}}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&_b==27){if(_n!=_o){_p.setTextInfo("",_o,_n,"","",_o);_j=true;}}}}if(_j){_i=_m.on_fire_ontextchange(_p);if(_i){_i=_m.on_fire_cancharchange(_m,_p.chartext,_p.pretext,_p.posttext);if(_i){_i=_m.on_fire_onchar(_p);if(_i){if(_l){_i=false;}else if(_p.pretext!=_p.posttext){this._setText(_p.posttext);this._setValue(_p.posttext);this.setElementCaretPos(this._begin_pos,this._begin_pos);this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,_s,_s);}_m._textchanging=true;_m.on_fire_ontextchanged(_m,_p.pretext,_p.posttext);_m._textchanging=false;}else{_h=false;_k=true;}}}}if(!_i){_h=false;_k=true;this._setText(_o);this._setValue(_o);this.syncValue();this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);}}else if((nexacro.OS=="iOS"&&!(_b==nexacro.Event.KEY_ENTER))||_b==nexacro.Event.KEY_SPACE){_k=this._check_keypressPrevent(_b);if(_k){_h=false;}}if(_k){_a._event_stop=true;}this.onUpdateStyle(this.comp);return _h;};_pEditNormal._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;var _g=_b;var _h=this._val;var _i=_a.getElementCaretPos();this._accept_select_event=true;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_g>=37&&_g<=40)){this._select_text="";}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&nexacro.BrowserVersion>=9&&(_g==8||_g==46)){this._text=_a.getElementValue();}if((_g==0||_g==13)||(_d&&_g==90)){if(!_h||(_h&&!this._is_hangul(_h.charAt(this._begin_pos)))){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(this._is_composition()){var _j=this.getCompositionData(_a);this._on_input_compositionend(_j);this._fire_text_event(_j);this.onUpdateStyle(this.comp);}}}}if(_g==13){this._keyup_process_enter(_a);}if(_g==27){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(this._is_composition()){var _j=this._stat_composition.getData();if(this._is_hangul(_j)){this._on_input_compositionend("");}else{this._on_input_compositionend("");_j="";}this._fire_text_event(_j);}}}if(_g==8){if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&nexacro.OSVersion>=6.0){if(this._is_composition()&&(_i.begin!=this._begin_pos)){if((this._compositionstart_value==this._text)&&(this.getCompositionData(_a)=="")){this._on_input_compositionend("");this._fire_text_event("");}}}else{if(this._is_composition()){if((this._compositionstart_value==this._text)&&(this.getCompositionData(_a)=="")){this._on_input_compositionend("");this._fire_text_event("");}}}}if(nexacro.Browser=="IE"&&nexacro.OSVersion<6.0){var _j=this.getCompositionData(_a);if((_b==121||_b==120)&&this._is_composition()&&!this._is_hangul(_j)){this._on_input_compositionupdate(_j);}else{var _k=this;nexacro.OnceCallbackTimer.callonce(_k.comp,function(){_k._setCaret(_a);},0);}}else if(nexacro.OS=="iOS"){if(this._filteredtext){this._filteredtext=false;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else{this._setCaret(_a);}}else{var _l=this._check_maxlength_from_text_event();if(!_l){var _m=this.comp.maxlength;if(_m&&this._text.length>_m){if(!(this._is_composition()&&!this._is_hangul(this.getCompositionData(_a)))){var _n=this._text.substr(0,_m);_a.setElementValue(_n);}}}this._setCaret(_a);}if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._charcode=0;};_pEditNormal._check_maxlength=function(){var _a=this.comp;var _b=_a._input_element;var _c=this._value;if(!_c){_c="";}if(_a.maxlength>0){if(_c.length){var _d=this.getLength(_b,_c,true);if(_a.maxlength<=_d.len){return false;}}}return true;};_pEditNormal._check_maxlength2=function(_a){if(!_a||_a.length==0){return true;}var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();if(!_d){_d="";}if(_b.maxlength>0){var _e=this._input_begin_pos;var _f=_e+_a.length;_d=_d.substr(0,_e)+_d.substr(_f,_d.length-_f);if(_d.length){var _g=this.getLength(_c,_d,true);if(_b.maxlength<=_g.len){return false;}}}return true;};_pEditNormal._apply_maxlength=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_a;var _e=this._value;if(!_e){_e="";}if(_b.maxlength>0){var _f=this.getLength(_c,_e,true);if(_b.maxlength>_f.len){_d=this.getLength(_c,_a,true,_b.maxlength-_f.len).str;}}return _d;};_pEditNormal._apply_maxlength2=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_a;var _e=_c.getElementValue();if(!_e){_e="";}if(_b.maxlength>0){var _f=this._input_begin_pos;var _g=_f+_a.length;_e=_e.substr(0,_f)+_e.substr(_g,_e.length-_g);var _h=this.getLength(_c,_e,true);if(_b.maxlength>_h.len){_d=this.getLength(_c,_a,true,_b.maxlength-_h.len).str;}}return _d;};_pEditNormal._apply_inputfilter=function(_a){if(!_a){_a="";}var _b=_a?_a.length:0;var _c=_a.split("");var _d=[];for(var _e=0;_e<_b;_e++ ){var _f=_c[_e];if(this._filterRegex){if(this._filterRegex.test(_f)){continue;}}_d.push(_f);}_d=_d.join("");return _d;};_pEditNormal._apply_inputtype=function(_a){if(!_a){_a="";}_a=_a.replace(/\r\n/g,"\n");var _b=this.comp.inputtype;var _c=_a?_a.length:0;var _d=_a.split("");var _e=[];for(var _f=0;_f<_c;_f++ ){var _g=_d[_f];if(_g!='\n'&&this._typeRegex){if(!this._typeRegex.test(_g)){if(_b.indexOf("full")!= -1){if(this.getWCharLen(_g)==1||(this._typeRegex1&&this._typeRegex1.test(_g))){continue;}}else{continue;}}if((_b.indexOf("full")== -1)&&this.getWCharLen(_g)>1){if(!(this._is_half_japaness(_g))){continue;}}}_e.push(_g);}_e=_e.join("");return _e;};_pEditNormal._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();this._setText(_e);if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}if(nexacro.Browser=="Safari"){if(this._is_composition()){this._is_compositionfocus=true;}else{this._is_compositionfocus=false;}}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditNormal._blur_process=function(_a){if(this._is_composition()){if(this.getCompositionData(_a)){var _b=this.getCompositionData(_a);}else{var _b=this._stat_composition.getData(_a);if(_b==_a.getElementValue()){_b="";}}var _c=this._on_input_compositionend(_b);_a.setInputElementCompositeClear();if(!_c){this._fire_text_event(_b);}this._stat_composition.init();this._compositionend_value="";this.onUpdateStyle(this.comp);}this._setCaret(_a);if(nexacro.Browser=="Gecko"){if(this._is_composition()){if(this._is_on_killfocus){_a.setElementBlur();}}}};_pEditNormal._mouseup_process=function(_a){if(this._is_composition()){this._setCaret(_a);}else{var _b=this;nexacro.OnceCallbackTimer.callonce(_b.comp,function(){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _c=_a.getElementValue();if(_c==""&&_c!=_b._text){_b._setText(_c);_b._setValue(_c);_b.syncValue();}}_b._setCaret(_a);if(_b._text){if(_b._begin_pos==_b._end_pos){_b._select_text="";}else{_b._select_text=_b._text.substring(_b._begin_pos,_b._end_pos);}}});}};_pEditNormal._mousedown_process=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(this._is_composition()){var _b=this._stat_composition.getData();this._on_input_compositionend(_b);this._fire_text_event(_b);this._compositionend_value="";this._stat_composition.init();}}};_pEditNormal._keyup_process_enter=function(_a){var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d){this.comp._on_fire_changeEventSet(_b,_c,_d,_e);}};_pEditNormal._check_keypressPrevent=function(_a){var _b=false;var _c=String.fromCharCode(_a);var _d=_c;_c=this._apply_inputfilter(_c);_c=this._apply_inputtype(_c);if(_d!=_c){_b=true;}return _b;};delete _pEditNormal;_pEditNormal=null;nexacro.MultilineEdit=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}};_pMultilineEdit=nexacro._createPrototype(nexacro.EditNormal,nexacro.MultilineEdit);nexacro.MultilineEdit.prototype=_pMultilineEdit;_pMultilineEdit._type_name="MultilineEdit";_pMultilineEdit.setPosition=function(){var _a=this.comp;var _b=_a._input_element;var _c=_a._control_element;var _d=_a._client_width;var _e=_a._client_height;if(_d==0||_e==0){return;}if(_b&&_b._handle){var _f=nexacro._getCachedPaddingObj("0 1 0 1");var _g=_a.on_find_CurrentStyle_align(_a._pseudo);var _h=_a.on_find_CurrentStyle_padding(_a._pseudo);var _i=nexacro.Component._default_textarea_align.valign;var _j=_g.halign;_b.setElementPosition(0,0);_b.setElementSize(_d,_e);_c.setElementPadding(_h);_b.setElementPadding(_f);_b.setElementAlignXY(_j,_i);}};_pMultilineEdit.onUpdateStyle=function(_a){this.setPosition();if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_a._update_scroll();}else{nexacro.OnceCallbackTimer.callonce(_a,function(){_a._update_scroll();});}};_pMultilineEdit.onResetHScroll=function(_a){_a._reset_hscroll();};_pMultilineEdit.insertTabChar=function(_a){var _b=_a.getElementValue();var _c=this._begin_pos;var _d=this._end_pos;var _e=_b.substr(0,this._begin_pos);var _f=_b.substr(this._end_pos,_b.length-this._end_pos);_b=_e+this._strTab+_f;_c=_c+this._strTab.length;this._text=_b;_a.setElementValue(_b);this.setElementCaretPos(_c,_c,_a);};_pMultilineEdit._keyup_process_enter=function(_a){return;};_pMultilineEdit._on_getAccessibilityAdditionalLabel=function(_a){var _b=this.comp;var _c=_b._input_element;if(_c&&_c._wantAccessibilityAdditionalLabel){if(!_c._wantAccessibilityAdditionalLabel()){return "";}if(_b.text!==undefined&&_b.value!==undefined){if(!_a){_a=0;}return _b._getCaretLineString(null,_a);}}return "";};delete _pMultilineEdit;_pMultilineEdit=null;nexacro.EditMaskString=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._mask_PassWDST="{";this._mask_PassWDED="}";this._mask_MARKCHAR="_";this._mask_PASSCHAR="*";this._chkEmpty=String.fromCharCode(0x08);this._isPWInput=false;this._cPassChar=null;this._cMaskChar=null;this._value=null;this._text="";this._strMaskedValue=[];this._bufMask=[];this._bufPass=[];this._strMask=[];};_pEditMaskString=nexacro._createPrototype(nexacro.EditBase,nexacro.EditMaskString);nexacro.EditMaskString.prototype=_pEditMaskString;_pEditMaskString._type_name="EditMaskString";_pEditMaskString._maskChr={"@":/[\u0020-\u00ff]/,"#":/[0-9]/,"*":/[a-zA-Z]/,"9":/[a-zA-Z0-9]/,"A":/[A-Z]/,"a":/[a-z]/,"Z":/[A-Z0-9]/,"z":/[a-z0-9]/,"!":/[0-9]/,"~":/[uAC00-\uFAFF]/,"^":/[uAC00-\uFAFF]/};_pEditMaskString._on_default_input_compositionstart=nexacro._emptyFn;_pEditMaskString._on_default_input_compositionupdate=nexacro._emptyFn;_pEditMaskString._on_default_input_compositionend=nexacro._emptyFn;_pEditMaskString._init=function(){nexacro.EditBase.prototype._init.call(this);if(!this._cPassChar){this._cPassChar=this._mask_PASSCHAR;}if(!this._cMaskChar){this._cMaskChar=this._mask_MARKCHAR;}this._value=null;this._text="";this._strMaskedValue=[];this._bufMask=[];this._bufPass=[];this._strMask=[];};_pEditMaskString._destroy=function(){this._cPassChar=null;this._cMaskChar=null;this._strMaskedValue=null;this._bufMask=null;this._bufPass=null;this._strMask=null;this._maskChr=null;nexacro.EditBase.prototype._destroy.call(this);};_pEditMaskString.setMask=function(_a){this._init();var _b=false;var _c=false;var _d=false;var _e=_a.length;var _f=_a.split("");var _g=this._maskChr;var _h=0;var _i=0;var _j=0;for(_i=0;_i<_e;_i++ ){_h=0;if(_c==false&&_f[_i]=="'"){if(_b==false){_b=true;}else{_b=false;}continue;}if(_c==false&&_f[_i]=="\\"&&!_b){_c=true;continue;}else if(_c){_c=false;}else if(_b==false){if(_g[_f[_i]]){_h=_g[_f[_i]];}if(_f[_i]==this._mask_PassWDST){_d=true;continue;}if(_f[_i]==this._mask_PassWDED){_d=false;continue;}}this._bufMask[_j]=_h;this._bufPass[_j]=_d;this._strMask[_j]=_f[_i];_j++ ;}this._nMaxedLength=_a.length;};_pEditMaskString.setValue=function(_a){var _b=this.comp._input_element;if(nexacro._isNull(_a)){this._setValue(_a);this._setMaskedValue(this.makeMaskedValue(""));this._setText(this.makeText(this._strMaskedValue));}else{this._setValue(_a.toString());this._setMaskedValue(this.makeMaskedValue(this._value));this._setText(this.makeText(this._strMaskedValue));}this._undoStack.push(this._value,this._text);if(_b){_b.setElementValue(this._value,true);}};_pEditMaskString.isFilled=function(){var _a=this._bufMask;var _b=_a.length;var _c=this._strMaskedValue;if(_b==0){return false;}for(var _d=0;_d<_b;_d++ ){if(_a[_d]!=0&&_c[_d]==this._chkEmpty){return false;}}return true;};_pEditMaskString.inputText=function(_a){var _b=false;var _c=this._begin_pos;var _d=this._end_pos;var _e=this._text;var _f=this._strMaskedValue.concat();if(_c!=_d){}else{_c=this.findNextPos(_f,_c-1);}if(this._nMaxedLength<=_c){_b=true;}var _g=_c;var _h=_a.length;var _i=_a.split("");if(!_b){for(var _j=0;_j<_h;_j++ ){_g=this.onInputChar(_f,_i[_j],_g);}_e=this.makeText(_f);}return {newText:_e,newMaskedValue:_f,end:_g};};_pEditMaskString.onInputChar=function(_a,_b,_c){var _d=true;var _e=this._bufMask[_c];var _f=this._strMask[_c];if(_e!==undefined&&_e!=0){if(_f=="A"||_f=="Z"){_b=_b.toUpperCase();}else if(_f=="a"||_f=="z"){_b=_b.toLowerCase();}if(!_e.test(_b)){_d=false;}}else{return _c;}if(_d){_a[_c]=_b;_c=this.findNextPos(_a,_c);}return _c;};_pEditMaskString.deleteChar=function(_a){var _b=this._text;var _c=this._begin_pos;var _d=this._end_pos;if(_a){if(_d==_c&&_c!=0){_c-- ;}this.clearBuffer2(this._text,this._strMaskedValue,_c,_d);}else{if(_d==_c&&_d<_b.length){_d++ ;}this.clearBuffer2(this._text,this._strMaskedValue,_c,_d);}};_pEditMaskString.syncValue=function(){var _a=this.comp;_a.value=this._value;_a.text=this._text;};_pEditMaskString.getValue=function(){if(!this._value){return;}var _a=this._value;if(this._nTrimType){if(this._nTrimType==1){_a=_a.replace(/^\s+/,"");}else if(this._nTrimType==2){_a=_a.replace(/\s+$/,"");}else if(this._nTrimType==3){_a=_a.replace(/^\s+/,"");_a=_a.replace(/\s+$/,"");}return _a;}return _a;};_pEditMaskString.makeMaskedValue=function(_a){var _b=this._strMask;var _c=this._bufMask;var _d=this._maskChr;_a=_a.split("");var _e=_b.length;var _f=_a.length;var _g=false;var _h=[];var _i;var _j,_k,_l;if(_f==_e){for(_k=0;_k<_f;_k++ ){if(_c[_k]==0&&_a[_k]==_b[_k]){continue;}else if(_c[_k]==0){break;}}if(_k==_a.length){_g=true;}}for(_k=0,_l=0;_k<_e;_k++ ){_j=_b[_k];_i=_c[_k];if(_i!=0&&_d[_j]){do{_j=_a[_l];_l++ ;}while(_j&&!_i.test(_j)&&!(_j==this._FillMaskChar)&&!(_j=="\u200e"))if(nexacro._isNull(_j)||(_j==this._FillMaskChar)){_j=this._chkEmpty;}}else if(_g&&_b[_k]==_j){_l++ ;}_h[_k]=_j;}return _h;};_pEditMaskString.makeText=function(_a){var _b;var _c=[];var _d;var _e,_f,_g;var _h=this._strMask.length;for(_b=0;_b<_h;_b++ ){_d=_a[_b];_e=this._bufMask[_b];_f=this._bufPass[_b];_g=this._strMask[_b];if(_e!=0){if(nexacro._isNull(_d)||_d==this._chkEmpty||_d==this._FillMaskChar){_d=this._cMaskChar;}else if(_f){_d=this._cPassChar;this._isPWInput=true;}else if(_g=="A"||_g=="Z"){_d=_d.toUpperCase();}else if(_g=="a"||_g=="z"){_d=_d.toLowerCase();}}_c[_b]=_d;}return _c.join("");};_pEditMaskString.makeValue=function(_a){var _b,_c;var _d;var _e;var _f=this._strMask.length;var _g=[];for(_b=0,_c=0;_b<_f;_b++ ){_e=this._bufMask[_b];if(_e!=0){_d=_a[_b];if(!nexacro._isNull(_d)&&_d!=this._chkEmpty){_g[_c]=_d;_c++ ;}else if(!nexacro._isNull(this._FillMaskChar)){_g[_c]=this._FillMaskChar;_c++ ;}}}var _h=_g.join("");if(this._nTrimType){if(this._nTrimType==1){_h=_h.replace(/^\s+/,"");}else if(this._nTrimType==2){_h=_h.replace(/\s+$/,"");}else if(this._nTrimType==3){_h=_h.replace(/^\s+/,"");_h=_h.replace(/\s+$/,"");}}return _h;};_pEditMaskString.findFirstInputPos=function(_a){var _b;var _c=this._strMask.length;var _d;var _e=false;for(_b=0;_b<_c;_b++ ){var _f=this._bufMask[_b];if(_f!=0){_e=true;_d=_a[_b];if(_d==this._chkEmpty||nexacro._isNull(_d)){return _b;}}}if(_e){return this.findPrevPos(_a,_c)+1;}return 0;};_pEditMaskString.findNextPos=function(_a,_b){var _c;var _d=this._strMask.length;var _e;for(_c=_b+1;_c<_d;_c++ ){_e=this._bufMask[_c];if(_e!=0){return _c;}}for(_c=0;_c<_d;_c++ ){if(this._bufMask[_c]!=0){return this.findPrevPos(_a,_d)+1;}}return _d;};_pEditMaskString.findPrevPos=function(_a,_b){var _c;var _d=this._strMask.length;var _e;for(_c=_b-1;_c>=0;_c-- ){_e=this._bufMask[_c];if(_e!=0){return _c;}}for(_c=_d-1;_c>=0;_c-- ){if(this._bufMask[_c]!=0){return this.findFirstInputPos(_a);}}return 0;};_pEditMaskString.writeBuffer=function(_a){var _b;if(this._text){_b=this._text;}else{_b="";}var _c=this.comp;var _d=_c.displaynulltext;var _e=_a.getElementValue();if(_a&&_e!=_b){_a.setElementValue(_b);}return _b;};_pEditMaskString.clearBuffer=function(_a,_b,_c){var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);this._setMaskedValue(this.makeMaskedValue(_d));this._setText(_d);this._setValue(_d);this.setElementCaretPos(_b,_b);};_pEditMaskString.clearBuffer2=function(_a,_b,_c,_d){var _e= -1;var _f;var _g;var _h=[];for(var _i=_c;_i<_d;_i++ ){_f=this._bufMask[_i];_g=this._strMask[_i];if(_f!=0&&_g!="^"){_h.push(_b[_i]);_b[_i]=this._chkEmpty;_a[_i]=this._cMaskChar;if(_e== -1){_e=_i;}}else{if((_d-_c)<2){var _j=0;var _k=_i;while(this._bufMask[_k]==0||this._strMask[_k]=="^"){_k-- ;_j++ ;}_h.push(_b[_i-_j]);_b[_i-_j]=this._chkEmpty;_a[_i-_j]=this._cMaskChar;if(_e== -1){_e=_i-_j;}}else{_h.push(_b[_i]);if(_e== -1){_e=_i;}}}}if(_e== -1){_e=_c;}this._deleted_char=_h.join("");this._setMaskedValue(_b);this._setText(this.makeText(this._strMaskedValue));this._setValue(this.makeValue(this._strMaskedValue));this.setElementCaretPos(_e,_e);};_pEditMaskString._setMaskedValue=function(_a){this._strMaskedValue=_a;};_pEditMaskString._set_old_info=function(){this._old_text=this._text;this._old_value=this._value;this._oldMaskedValue=this._strMaskedValue;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;};_pEditMaskString._apply_input_filter=function(_a){var _b=false;var _c=false;var _d=this._begin_pos;var _e=this._end_pos;var _f=this._text;var _g=this._strMaskedValue.concat();if(_d!=_e){}else{_d=this.findNextPos(_g,_d-1);}if(this._nMaxedLength<=_d){_c=true;}var _h=_d;var _i=_a.length;var _j=_a.split("");if(!_c){for(var _k=0;_k<_i;_k++ ){_h=this.onInputChar(_g,_j[_k],_h);}_f=this.makeText(_g);}for(_k=0;_k<_g.length;_k++ ){if(_g[_k]!=this._strMaskedValue[_k]){_b=true;break;}}if(_b){this._setMaskedValue(_g);this._setText(this.makeText(this._strMaskedValue));this._setValue(this.makeValue(this._strMaskedValue));}this.setElementCaretPos(_h,_h);};_pEditMaskString._check_value=function(){var _a=this._strMaskedValue;var _b=this._bufMask;var _c=true;for(var _d=0;_d<_a.length;_d++ ){if(_b[_d]!=0&&_a[_d]!=this._chkEmpty){_c=false;}}return _c;};_pEditMaskString.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e=this._text;var _f=_a.getElementValue();var _g=this._strMask;var _h=_c.length-_d.length;var _i=this._deleted_char.length;if(this._pasteAction){if(_h==0){var _j=false;var _k=0;for(_k=0;_k<_c.length;_k++ ){if(!_j&&_c[_k]!=_d[_k]){_b+=_c[_k];_j=true;}else if(_j){_b+=_c[_k];}}}else if(_h<0){var _l=_d.substr(0,this._begin_pos);var _m=_d.substr(this._begin_pos+_i,_d.length-(this._begin_pos+_i));_b=_c.substr(_l.length,_c.length-(_l.length+_m.length));}else{_b=_c.substr(this._begin_pos,_h+_i);}}else if(this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){if(_h==0){var _j=false;var _k=0;for(_k=0;_k<_c.length;_k++ ){if(_c[_k]!=_d[_k]){_b+=_c[_k];_j=true;}else if(_j){break;}}}else if(_h<0){var _l=_d.substr(0,this._begin_pos);var _m=_d.substr(this._begin_pos+_i,_d.length-(this._begin_pos+_i));_b=_c.substr(_l.length,_c.length-(_l.length+_m.length));}else{_b=_c.substr(this._begin_pos,_h);}}else{_b=this._stat_composition.getData(_a);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditMaskString._setElementValue=function(_a,_b,_c,_d,_e){if(_e){_a.setElementValue(this._text,true);}else{_a.setElementValue(this._text);}if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}else if(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"){_pEditMaskString._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){var _e=this;nexacro.OnceCallbackTimer.callonce(this.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c);}};}else{_pEditMaskString._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}_pEditMaskString._changeFocusText=function(_a){var _b=this._value;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();if(!_b){this._setMaskedValue(this.makeMaskedValue(""));}else{this._setMaskedValue(this.makeMaskedValue(_b));}var _e=this.makeText(this._strMaskedValue);this._setText(_e);this.syncValue();if(_c!=_e){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._accept_blur_event=false;}_a.setElementValue(_b);if(nexacro.Browser=="Gecko"){this.setElementCaretPos(_d.begin,_d.end,_a);}}};_pEditMaskString._mousedown_process=function(_a){this._oldMaskedValue=this._strMaskedValue.concat();};_pEditMaskString._mouseup_process=function(_a){if(this._is_composition()){this._setCaret(_a);}else{var _b=this;nexacro.OnceCallbackTimer.callonce(_b.comp,function(){_b._setCaret(_a);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _c=_a.getElementValue();if(_c==""&&_c!=_b._text){_b._setMaskedValue(_b.makeMaskedValue(_c));_b._setText(_b.makeText(_b._strMaskedValue));if(_b._value){_b._setValue(_b.makeValue(_b._strMaskedValue));}_b.syncValue();_b._setElementValue(_a,_b._begin_pos,_b._end_pos);_b.setElementCaretPos(_b._begin_pos,_b._begin_pos,_a);}}if(_b._text){if(_b._begin_pos==_b._end_pos){_b._select_text="";}else{_b._select_text=_b._text.substring(_b._begin_pos,_b._end_pos);}}});}};_pEditMaskString._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(!this._bChangeFocusText){this._changeFocusText(_a);this._bChangeFocusText=true;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditMaskString._blur_process=function(_a){var _b=_a.getElementValue();if(!this._value){this._setMaskedValue(this.makeMaskedValue(""));}else{this._setMaskedValue(this.makeMaskedValue(this._value));}var _c=this.makeText(this._strMaskedValue);this._setText(_c);this.syncValue();this._bChangeFocusText=false;if(_b!=_c||!this._value){_a.setElementValue(this._value);}};_pEditMaskString._keyup_process_enter=function(_a){var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d||_c!=_e){if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){this._accept_keyinput_event=false;}this.comp._on_fire_changeEventSet(_b,_c,_d,_e);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}};_pEditMaskString._on_default_input_keydown=function(_a,_b,_c,_d,_e){var _f=this.comp;this._setCaret(_a);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}if(!_f._accept_keydown_event(_b)){_a._event_stop=true;}};_pEditMaskString._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=true;var _h=_c||_b;var _i=this.comp;if(!_i){return false;}if(_a.readonly){if(_h==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}if(_h==nexacro.Event.KEY_BACKSPACE||(_h==nexacro.Event.KEY_DELETE&&_h==this._keycode)||(nexacro.Browser=="MobileSafari"&&_h==127)){var _j=this._value;var _k=this._text;var _l=this.deleteChar(_h==8?true:false);var _m=this._text;var _n=this._textEventInfo;_n.setTextInfo("",_k,_m,"","",_k);_g=_i.on_fire_ontextchange(_n);if(_g){_g=_i.on_fire_cancharchange(_i,_n.chartext,_n.pretext,_n.posttext);if(_g){_g=_i.on_fire_onchar(_n);}if(_g){this.syncValue();this._setElementValue(_a,this._begin_pos,this._end_pos,true,true);if(_n.pretext!=_n.posttext){if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}_i._textchanging=true;_i.on_fire_ontextchanged(_i,_n.pretext,_n.posttext);_i._textchanging=false;}}}if(!_g){this._setMaskedValue(this._oldMaskedValue);this._setText(_k);this._setValue(_j);this.syncValue();this.setElementCaretPos(this._begin_pos,this._end_pos);}this._select_text="";_a._event_stop=true;}return _g;};_pEditMaskString._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_b>=37&&_b<=40)){this._select_text="";}if(_b==13){this._keyup_process_enter(_a);return;}this._setCaret(_a);};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion==10){_pEditMaskString._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);if(!this._cutAction){if(this._pasteAction){this._isPasteActionComplete=false;}return;}}_d=this.getInsertText(_a);this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}this._isPasteActionComplete=true;};}else if(nexacro.BrowserVersion>=9){_pEditMaskString._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_b,this._begin_pos,this._end_pos);}_d=this.getInsertText(_a);this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskString._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);if(!this._cutAction){return;}}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_b,this._begin_pos,this._end_pos);}_d=this.getInsertText(_a);this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}};}}else{_pEditMaskString._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(_a._type=="date"){_d=_b;}else{_d=this.getInsertText(_a);}this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}};}_pEditMaskString._fire_text_event=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();var _e=this._textEventInfo;var _f=_b.autoskip;var _g=false;if(this._is_undo){this._setMaskedValue(this.makeMaskedValue(_d));this._setText(this.makeText(this._strMaskedValue));this._setValue(this.makeValue(this._strMaskedValue));}else{this._apply_input_filter(_a);}_e.setTextInfo(_a,this._old_text,this._text,"","",this._old_text);var _h=_b.on_fire_ontextchange(_e);if(_h){_h=_b.on_fire_cancharchange(_b,_e.chartext,_e.pretext,_e.posttext,_e.pretext);if(_h){_h=_b.on_fire_onchar(_e);if(_h){if(_e.pretext!=_e.posttext||this._isPWInput){this._isPWInput=false;this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}this._setElementValue(_c,this._begin_pos,this._end_pos,true);_b.on_fire_ontextchanged(_b,this._old_text,this._text);}else{this._setElementValue(_c,this._begin_pos,this._end_pos,true);}}}}if(!_h){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setMaskedValue(this._oldMaskedValue);this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._setElementValue(_c,this._old_begin_pos,this._old_end_pos,true);return;}if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}if(_f){_g=this.isFilled();if(_g){this._apply_autoskip();}}};delete _pEditMaskString;_pEditMaskString=null;nexacro.EditMaskNumber=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._dispComponent=false;this._dispComma=false;this._nMin=0;this._nMax=0;this._nDecimalMin= -1;this._nDecimalMax=0;this._default_grouping=[3];this._default_decimal_point=".";this._default_thousands_sep=",";this._default_positive_sign="";this._default_negative_sign="-";this._default_positive_sign_posn=1;this._default_negative_sign_posn=1;this._positive_sign=this._default_positive_sign;this._negative_sign=this._default_negative_sign;this._positive_sign_posn=this._default_positive_sign_posn;this._negative_sign_posn=this._default_negative_sign_posn;this._grouping=this._default_grouping;this._strPoint=this._default_decimal_point;this._strSeparator=this._default_thousands_sep;this._nSignType=3;};_pEditMaskNumber=nexacro._createPrototype(nexacro.EditBase,nexacro.EditMaskNumber);nexacro.EditMaskNumber.prototype=_pEditMaskNumber;_pEditMaskNumber._type_name="EditMaskNumber";_pEditMaskNumber._init=function(){nexacro.EditBase.prototype._init.call(this);this._dispComponent=false;this._dispComma=false;this._nMin=0;this._nMax=0;this._nDecimalMin= -1;this._nDecimalMax=0;};_pEditMaskNumber.isFilled=function(){var _a=this._text.length;var _b=this._text.indexOf(this._strPoint);if(this._nDecimalMax== -1){return false;}else if(this._nDecimalMax==0){if(this._nMax>0&&(this._nMax<=_a)){return true;}else{return false;}}else{if(_b== -1){return false;}if((_a-_b-1)>=this._nDecimalMax){return true;}}return false;};_pEditMaskNumber.filterChar=function(_a){if(this.isDigit(_a)){return _a;}else if(_a==this._strPoint){return _a;}else if(_a==this._strSeparator){return _a;}else if(_a=='-'&&(this._nSignType==3||this._nSignType==0)){return _a;}else if(_a=='+'&&(this._nSignType==3||this._nSignType==1)){return _a;}return "";};_pEditMaskNumber.setMask=function(_a){var _b=this.trimLeft(_a);var _c=_b.charAt(0);if(_c=='!'){this._nSignType=2;}else if(_c=='+'){this._nSignType=1;}else if(_c=='-'){this._nSignType=0;}else{this._nSignType=3;}if(_a.length<=0){this._nMin=0;this._nMax=0;this._nDecimalMax= -1;this._nDecimalMin=0;return;}this._nMin=0;this._nMax=0;this._nDecimalMax=0;this._nDecimalMin=0;this._dispComma=(_a.indexOf(",")>=0);var _d;var _e=false;for(var _f=0,_g=_a.length;_f<_g;_f++ ){_d=_a.charAt(_f);if(_d=='.'){_e=true;}else if(_d=='#'||_d=='0'||_d=='9'||_d==','){if(_e){this._nDecimalMax++ ;if(_d=='0'){this._nDecimalMin=this._nDecimalMax;}}else{if(_d=='0'||this._nMin>0){this._nMin++ ;}this._nMax++ ;}}}};_pEditMaskNumber.setDisplayMask=function(_a){var _b,_c;var _d=false;var _e=false;var _f=_a.length;var _g=this.trimLeft(_a);var _h=_g.charAt(0);this._init();this._dispComponent=true;if(_h=='!'){this._nSignType=2;}else if(_h=='+'){this._nSignType=1;}else if(_h=='-'){this._nSignType=0;}else{this._nSignType=3;}if(_a.length<=0){this._dispComma=true;this._nDecimalMax= -1;this._nDecimalMin=0;}else{this._dispComma=(_a.indexOf(",")>=0);for(_c=0;_c<_f;_c++ ){_b=_a.charAt(_c);if(_b=="."){_e=true;}else if(_b=="#"||_b=="0"||_b=="9"){if(_e){this._nDecimalMax++ ;if(_b=="0"){this._nDecimalMin=this._nDecimalMax;}}else{if(_b=="9"){if(!_d){_d=true;this._nMin=1;}}else if(_b=="0"||this._nMin>0){this._nMin++ ;}this._nMax++ ;}}}}};_pEditMaskNumber.syncValue=function(){var _a=this.comp;_a.value=this._value;_a.text=this._text;};_pEditMaskNumber.getValue=function(){return this._value;};_pEditMaskNumber.setValue=function(_a){var _b=this.comp?this.comp._input_element:null;if(nexacro._isNull(_a)){this._setValue(_a);this._setText(this.makeText("",false));}else{_a=_a.toString();_a=_a.replace('.',this._strPoint);this._setValue(this.normalizeValue(_a,true));this._setText(this.makeText(this._value,false));}this._undoStack.push(this._value,this._text);if(_b){_b.setElementValue(this._value,true);}};_pEditMaskNumber.deleteChar=function(_a){var _b=this._text;var _c=this._begin_pos;var _d=this._end_pos;var _e={};if(_a){if(_d==_c&&_c!=0){_c-- ;var _f=_b.charAt(_c);if(_f==this._strSeparator){_c-- ;}}this.clearBuffer(_b,_c,_d);}else{if(_d==_c&&_c!=_b.length){var _f=_b.charAt(_d);if(_f==this._strSeparator){_d++ ;}_d++ ;}this.clearBuffer(_b,_c,_d);}};_pEditMaskNumber.makeText=function(_a,_b){if(_b===undefined){_b=true;}var _c=0;var _d= -1;var _e=false;var _f=0;var _g=0;var _h=_a;var _i=this.split(_h);_c=_i.sign;_e=_i.pointexist;var _j=_i.numVal;var _k=_i.decVal;_g=_j.length;_f=_k?_k.length:0;if(this._nMin>_g){var _l="";for(var _m=0,_n=this._nMin-_g;_m<_n;_m++ ){_l+="0";}if(!_b){_j=_l+_j;}}if(this._nDecimalMin>_f){var _l="";for(var _m=0,_n=this._nDecimalMin-_f;_m<_n;_m++ ){_l+="0";}if(!_b){_k=_k+_l;}}else if(this._nDecimalMax!= -1&&this._nDecimalMax<_f){if(!_b&&(this._nLimitType!=3+1||this._nDecimalMax==0)){_k=_k.substring(0,this._nDecimalMax)+_k.substr(_f,_k.length);}}if(this._dispComma){_j=this.applyComma(_j);}if(_c<0){strSign=this._negative_sign;_d=this._negative_sign_posn;}else if(_c>0){strSign=this._positive_sign;_d=this._negative_sign_posn;}else{strSign="";}if(_k.length>0){_j+=this._strPoint;_j+=_k;}else{if(_b&&_e&&this._nDecimalMax>0){_j+=this._strPoint;}else if(!_b&&_e){var _o=_j.length;this._begin_pos=(this._begin_pos>_o)?_o:this._begin_pos;this._end_pos=(this._end_pos>_o)?_o:this._begin_pos;}}switch(_d){case 0:_j="("+_j+")";break;case 1:case 3:case 4:_j=strSign+_j;break;case 2:_j+=strSign;break;default:_j=strSign+_j;break;}return _j;};_pEditMaskNumber.makeDisplayText=function(_a){var _b=this.split(_a);var _c,_d;var _e="";var _f= -1;var _g=_b.sign;var _h=_b.pointexist;var _i=_b.numVal;var _j=_b.decVal;var _k=_i.length;var _l=_j?_j.length:0;if(this._nMin>_k){_d=this._nMin-_k;for(_c=0;_c<_d;_c++ ){_e+="0";}_i=_e+_i;}else if(this._nMin==0&&this._nMin!=this._nMax){if(_i=="0"){_i="";}}if(this._nDecimalMin>_l){_e="";_d=this._nDecimalMin-_l;for(_c=0;_c<_d;_c++ ){_e+="0";}_j=_j+_e;}else if(this._nDecimalMax!= -1&&this._nDecimalMax<_l){if((this._nLimitType!=3+1||this._nDecimalMax==0)){_j=_j.substring(0,this._nDecimalMax)+_j.substr(_l,_j.length);}}if(this._dispComma){_i=this.applyComma(_i);}if(_j.length>0){_i+=this._strPoint;_i+=_j;}if(_g<0){strSign=this._negative_sign;_f=this._negative_sign_posn;}else if(_g>0){strSign=this._positive_sign;_f=this._negative_sign_posn;}else{strSign="";}switch(_f){case 0:_i="("+_i+")";break;case 1:case 3:case 4:_i=strSign+_i;break;case 2:_i+=strSign;break;default:_i=strSign+_i;break;}return _i;};_pEditMaskNumber.normalizeValue=function(_a,_b){if(_a.length<=0){return _a;}if(this._dispComponent&&isFinite(_a)==false){return _a;}if(_b===undefined){_b=true;}_a=this.removeMask(_a);if(_a.charAt(_a.length-1)==this._strPoint){_a=_a+"0";}if(_b){var _c=(_a.charAt(0)=='-')?1:0;while(_a.charAt(0+_c)=='0'&&_a.charAt(1+_c)!=this._strPoint&&_a.length!=(1+_c)){_a=_a.substring(0,0+_c)+_a.substr(0+_c+1,_a.length);}var _d=_a.indexOf(this._strPoint);if(_d>=0){var _e;for(_e=_a.length-1;_e>_d+1;_e-- ){if(_a.charAt(_e)!='0'){break;}}_a=_a.substring(0,_e+1);}}if(_a.charAt(0)=='+'){_a=_a.substr(1);}else if(_a.length<=0||parseFloat(_a)==0.0){if(_a.charAt(0)=='-'){_a=_a.substr(1);}}_a=_a.replace(this._strPoint,this._default_decimal_point);return _a;};_pEditMaskNumber.split=function(_a){var _b=0;var _c;if((_b=_a.indexOf('+'))>=0){_c= +1;_b=1;}else if((_b=_a.indexOf('-'))>=0){_c= -1;_b=1;}else{_c=0;_b=0;}var _d=_a.indexOf(this._default_decimal_point,_b);var _e="",_f,_g="";if(_d<0){_e=_a.substr(_b);_f=false;}else{_e=_a.substr(_b,_d-_b);_g=_a.substr(_d+1);_f=true;}return {"sign":_c,"pointexist":_f,"numVal":_e,"decVal":_g};};_pEditMaskNumber.writeBuffer=function(_a){var _b=this._text;var _c=this.comp;var _d=_c.displaynulltext;var _e=_a.getElementValue();if(_a&&_e!=_b){_a.setElementValue(_b);var _f=_a.getElementValue();}return _b;};_pEditMaskNumber.clearBuffer=function(_a,_b,_c){var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);var _e=_d;var _f="";var _g=this.normalizeValue(_d,false);var _h=_d.indexOf(this._strPoint);if(_h>0){_e=_d.substring(0,_h);_f=_d.substring(_h+1,_d.length);}var _i=this.normalizeValue(_e,false);var _j=this.makeText(_i,true);if(_e.length!=_j.length){var _k=_e.length-_j.length;if(_b!=0){_b=_b-_k;}}if(_h>0){_j=_j+this._strPoint+_f;}this._setText(_j);this._setValue(_g);this.setElementCaretPos(_b,_b);};_pEditMaskNumber.clearBuffer2=function(_a,_b,_c){if(_b==_c){return {"text":_a,"end":_c};}if(_b>_c){var _g=_b;_b=_c;_c=_g;}var _d=_a.substr(_b,_c-_b);var _e=_a.substring(0,_b)+_a.substring(_c);var _f=_d;if(_d.indexOf(this._strPoint)>0){_d=this.makeText(this.normalizeValue(_e));_c=this.findIndex(_e,_d,_b,true);_e=_d;if(_c<0){_c=0;}else if(_d.length<_c){_c=_d.length;}}else if(this._is_selected()&&_f==this._strSeparator){_c=_b;_e=_a;}else{var _h=_e.indexOf(this._strPoint);if(_h<0){_h=_e.length;}if(_b<=_h){_d=this.makeText(this.normalizeValue(_e));_c=this.findIndex(_e,_d,_b,false);_e=_d;}else{_c=_b;var _i=this._nDecimalMin-(_e.length-(_h+1));var _j="";if(_i>0){for(var _k=0;_k<_i;_k++ ){_j+="0";}}_e+=_j;}}return {"text":_e,"end":_c,"pstrDeleted":_f};};_pEditMaskNumber.isDigit=function(_a){if(!this._digit){this._digit=/[0-9]/;}if(this._digit.test(_a)){return true;}return false;};_pEditMaskNumber.isPlusSign=function(_a){if(_a=="+"){return true;}return false;};_pEditMaskNumber.isMinusSign=function(_a){if(_a=="-"){return true;}return false;};_pEditMaskNumber.isComma=function(_a){if(_a==this._strPoint){return true;}return false;};_pEditMaskNumber.isSign=function(_a){if(this.isPlusSign(_a)||this.isMinusSign(_a)){return true;}return false;};_pEditMaskNumber.trim=function(_a){return _a.replace(/^\s\s*/,'').replace(/\s\s*$/,'');};_pEditMaskNumber.trimLeft=function(_a){return _a.replace(/^\s\s*/,'');};_pEditMaskNumber.trimRight=function(_a){return _a.replace(/\s\s*$/,'');};_pEditMaskNumber.removeMask=function(_a){_a=this.trim(_a);var _b=_a.length;var _c;var _d=false;var _e=false;var _f=[];for(_c=0;_c<_b;_c++ ){var _g=_a.charAt(_c);if((_g=='+'||_g=='-')&&(_e===false)){_f.push(_g);_e=true;}else if(this.isDigit(_g)){_f.push(_g);_e=true;}else if(_g==this._strPoint&&_d===false){_f.push(_g);_d=true;_e=true;}else if(_g!=this._strSeparator){if(!this._pasteAction){return "";}}}return _f.join("");};_pEditMaskNumber.applyComma=function(_a){var _b=this._grouping;var _c=this._strSeparator;if(_c.length>0){var _d=_a.split("");var _e=_a.length;var _f=(_c.length+1)*_a.length;var _g=[];var _h=0,_i=_e;var _j=_f;var _k=0;while(_b[_k]&&_i>0){var _l=_b[_k];if(_l=="\\"){_k++ ;_l=parseInt(_b[_k])|0;}if(_l>0){_h=_l;while(_l-- >0&&_i>0){_g[ --_j]=_d[ --_i];}if(_i>0){_g[ --_j]=_c;}}else if(_l==0&&_i>_h){_l=_h;while(_l-- >0){_g[ --_j]=_d[ --_i];}if(_i>0){_g[ --_j]=_c;}}else if(_l==0&&_i<=_h&&_i>0){_l=_i;while(_l-- >0){_g[ --_j]=_d[ --_i];}}else{break;}if(_b.length==2&&_k==0){_k++ ;}}return _g.slice(_j,_f+_j).join("");}return _a;};_pEditMaskNumber.findIndex=function(_a,_b,_c,_d){var _e=0;var _f=_a.indexOf(this._strPoint);var _g=_b.indexOf(this._strPoint);if(_f<0){_f=_a.length-1;}if(_g<0){_g=_b.length-1;}if(_d){var _h=new RegExp(this._strSeparator,"g");var _i=_a;if(this._dispComma){_i=_i.replace(_h,"");}var _j=_b.substring(0,_g+1);if(this._dispComma){_j=_j.replace(_h,"");}_j.replace(this._strPoint,"");var _k=_c+_j.length-_i.length;if(this._dispComma){var _l=_f-_c;for(var _m=_c;_m<_f;_m++ ){if(_a.charAt(_m)==this._strSeparator){_l-- ;}if(_b.charAt(_m)==this._strSeparator){_l++ ;}}_e=_g-_l;if(_b.indexOf(this._strPoint)>=0){_e=_g;}}else{_e=_k;}}else{if(_c==_f){_e=_g;}else if(this._dispComma){var _l=_f-_c;for(var _m=_c;_m<_f;_m++ ){if(_a.charAt(_m)==this._strSeparator){_l-- ;}if(_b.charAt(_m)==this._strSeparator){_l++ ;}}_e=_g-_l;}else{_e=_g-(_f-_c);}}return _e;};_pEditMaskNumber.onInputDigit=function(_a,_b,_c){var _d=_a.indexOf(this._strPoint);var _e=_d>=0;if(!_e){_d=_a.length;}if(_d<_c){if(!this.isLimit(_a)){_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;}}else{if(!this.isLimit(_a)){if(this._dispComma){_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;_d++ ;var _f=_a.length;var _g=_a.indexOf("-");var _h="";if(0<=_g){_h+="-";}if(_h!=""){_a=this.normalizeValue(_a);if(_a.charAt(1)==0){_a=_h+_a;}_a=this.makeText(_a);}else{_a=this.makeText(this.normalizeValue(_a));}var _i=_a.length;_d=_a.indexOf(this._strPoint);if(_f!=_i){_c++ ;}}else{_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;_d++ ;}}}if(_d>this._nMin&&_d>1){if(_a.charAt(0)=='0'){if(_a.charAt(1)==this._strSeparator){_a=_a.substr(2);_c-=2;}else if((this._nMin<=0)&&(_a.charAt(1)!=this._strPoint)){_a=_a.substr(1);_c-- ;}}else if(_a.charAt(0)=='+'||_a.charAt(0)=='-'){if(_a.charAt(1)=='0'&&_a.charAt(2)=='0'){_a=_a.substring(0,1)+_a.substr(2,_a.length);_c-- ;}}}return {"text":_a,"pos":_c};};_pEditMaskNumber.isLimit=function(_a){var _b=_a.length;var _c=_a.indexOf(this._strPoint);var _d=0;var _e=0;if(_c!= -1){_d=_c;_e=_b-(_c+1);}var _f=(_a.charAt(0)=='-'||_a.charAt(0)=='+')?true:false;if(_f){_b-- ;if(this._end_pos<=_c){_d-- ;}}if(this._nLimitType==3){if(this._nDecimalMax==0||_c== -1){return (_b>=this._nMax);}if(this._nMax>0&&this._nDecimalMax>0){if(this._end_pos<=_c){return (_d>=this._nMax);}else if(this._end_pos>_c){return (_e>=this._nDecimalMax);}else{return false;}}}else if(this._nLimitType==2){if(this._nMax>0&&this._nDecimalMax>0){if(this._begin_pos>_c){return (_e>=this._nDecimalMax);}}}else if(this._nLimitType==1){if(this._nDecimalMax==0||_c== -1){return (_b>=this._nMax);}if(this._nMax>0&&this._nDecimalMax>0){if(this._end_pos<=_c){return (_d>=this._nMax);}else{return false;}}}else if(this._nLimitType==0){return false;}return false;};_pEditMaskNumber._set_old_info=function(){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;};_pEditMaskNumber._is_maskchar=function(_a){if(this.isDigit(_a)||_a==this._strPoint){return _a;}else if(this.isSign(_a)&&(this._nSignType==3||this._nSignType==0)){return _a;}else if(this.isSign(_a)&&(this._nSignType==3||this._nSignType==1)){return _a;}return "";};_pEditMaskNumber._apply_sign_filter=function(_a){var _b=this._text;var _c=this._value?this._value:"";var _d=_b.charAt(0);var _e=this._input_begin_pos;if(this.isPlusSign(_a)&&(this._nSignType==1||this._nSignType==3)){if(this.isPlusSign(_d)){_c=this.normalizeValue(_b,true);_b=this.makeText(_c);_e-=1;}else if(this.isMinusSign(_d)){_c=this.normalizeValue(_b.substr(1),true);_b=_a+this.makeText(_c);}else{_b=_a+this.makeText(_c);_e+=1;}this._setValue(_c);this._setText(_b);this.setElementCaretPos(_e,_e);}else if(this.isMinusSign(_a)&&(this._nSignType==0||this._nSignType==3)){if(this.isMinusSign(_d)){_c=this.normalizeValue(_b.substr(1),true);_b=this.makeText(_c);_e-=1;}else if(this.isPlusSign(_d)){_c=this.normalizeValue(_b.substr(1),true);_b=_a+this.makeText(_c);}else{_c=_a+this.normalizeValue(_b,true);_b=this.makeText(_c);_e+=1;}this._setValue(_c);this._setText(_b);this.setElementCaretPos(_e,_e);}};_pEditMaskNumber._apply_comma_filter=function(_a){var _b=this._value?this._value:"";var _c=this._text;var _d=this._input_begin_pos;var _e=true;var _f=_b.indexOf(_a);if(_f== -1){var _g=true;var _h=this._input_begin_pos;var _i=_c.substr(0,_h);var _j=_c.substr(_h);var _k=_j.length;if(this._nDecimalMax==0){_g=false;}else if(this._nLimitType==2||this._nLimitType==3){_g=(_k<=this._nDecimalMax)?true:false;}if(_g){_c=_i+_a+_j;if(_k==0){_e=false;}}}if(_e){_b=this.normalizeValue(_c,false);}if(_f> -1||(_f== -1&&_g)){_d=_c.indexOf(_a)+1;}this._setValue(_b);this._setText(_c);this.setElementCaretPos(_d,_d);};_pEditMaskNumber._apply_digit_filter=function(_a){var _b=this.onInputDigit(this._text,_a,this._input_begin_pos);var _c=_b.text;this._setValue(this.normalizeValue(_c));this._setText(_c);this.setElementCaretPos(_b.pos,_b.pos);};_pEditMaskNumber._setLocale=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);this._strPoint=_b.decimal_point;if(_b.thousands_sep){this._strSeparator=_b.thousands_sep;}else{this._strSeparator=this._default_thousands_sep;}if(!_b.grouping||_b.grouping[0]==0){this._grouping=this._default_grouping;}else{this._grouping=_b.grouping;}if(_b.positive_sign){this._positive_sign=_b.positive_sign;}else{this._positive_sign=this._default_positive_sign;}if(_b.negative_sign){this._negative_sign=_b.negative_sign;}else{this._negative_sign=this._default_negative_sign;}if(_b.p_sign_posn!=undefined||_b.p_sign_posn!=null){this._positive_sign_posn=_b.p_sign_posn;}else{this._positive_sign_posn=this._default_positive_sign_posn;}if(_b.n_sign_posn!=undefined||_b.n_sign_posn!=null){this._negative_sign_posn=_b.n_sign_posn;}else{this._negative_sign_posn=this._default_negative_sign_posn;}};_pEditMaskNumber.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e=this._text;var _f=_a.getElementValue();if(this._pasteAction||this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){var _g=_c.length-_d.length;if(_g==0){var _h=false;var _i=0;for(_i=0;_i<_c.length;_i++ ){if(_c[_i]!=_d[_i]){_b+=_c[_i];_h=true;}else if(_h){break;}}}else{_b=_c.substr(this._begin_pos,_g);}}else{_b=this._stat_composition.getData(_a);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d,_e){if(_e){_a.setElementValue(this._text,true);}else{_a.setElementValue(this._text);}if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}else if(nexacro.Browser=="Safari"){_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){var _e=this;nexacro.OnceCallbackTimer.callonce(this.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c);}};}else{_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}_pEditMaskNumber._changeFocusText=function(_a){var _b=this._value;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e="";if(!_b){_e=this.makeText("",true);}else{if(_a.readonly){_e=this.makeText(_b,false);}else{_e=this.makeText(_b,true);}}this._setText(_e);this.syncValue();if(_a&&_c!=_e){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._accept_blur_event=false;}_a.setElementValue(_b);if(nexacro.Browser=="Gecko"){this.setElementCaretPos(_d.begin,_d.end,_a);}}};_pEditMaskNumber._mouseup_process=function(_a){if(this._is_composition()){this._setCaret(_a);}else{var _b=this;nexacro.OnceCallbackTimer.callonce(_b.comp,function(){_b._setCaret(_a);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _c=_a.getElementValue();if(_c==""&&_c!=_b._text){_b._setText(_b.makeText(_c,true));if(_b._value){_b._setValue(_b.normalizeValue(_b._text));}_b.syncValue();_b._setElementValue(_a,_b._begin_pos,_b._end_pos);_b.setElementCaretPos(_b._begin_pos,_b._begin_pos,_a);}}if(_b._text){if(_b._begin_pos==_b._end_pos){_b._select_text="";}else{_b._select_text=_b._text.substring(_b._begin_pos,_b._end_pos);}}});}};_pEditMaskNumber._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(!this._bChangeFocusText){this._changeFocusText(_a);this._bChangeFocusText=true;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditMaskNumber._blur_process=function(_a){var _b=_a.getElementValue();if(!this._value){var _c=this.makeText("",false);}else{var _c=this.makeText(this._value,false);}this._setText(_c);this.syncValue();this._bChangeFocusText=false;if(_b!=_c||!this._value){_a.setElementValue(this._value,true);}};_pEditMaskNumber._keyup_process_enter=function(_a){var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d||_c!=_e){if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){this._accept_keyinput_event=false;}this.comp._on_fire_changeEventSet(_b,_c,_d,_e);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}};_pEditMaskNumber._on_default_input_keydown=function(_a,_b,_c,_d,_e){this._setCaret(_a);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}};_pEditMaskNumber._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=true;var _h=_c||_b;var _i=this.comp;var _j=this._textEventInfo;var _k=false;if(!_i){return false;}if(_a.readonly){if(_h==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}this._set_old_info();if(_b==nexacro.Event.KEY_SPACE){if(nexacro._isNull(this._value)){var _l=this.makeText("",false);}else{var _l=this.makeText(this._value,false);}this._filteredtext=false;_j.setTextInfo("",this._old_text,_l,"","",this._old_text);_k=true;}if(_h==nexacro.Event.KEY_BACKSPACE||(_h==nexacro.Event.KEY_DELETE&&_h==this._keycode)||(nexacro.Browser=="MobileSafari"&&_h==127)){this.deleteChar(_h==8?true:false);_j.setTextInfo("",this._old_text,this._text,"","",this._old_text);_k=true;}if(_k){_g=_i.on_fire_ontextchange(_j);if(_g){_g=_i.on_fire_cancharchange(_i,_j.chartext,_j.pretext,_j.posttext);if(_g){_g=_i.on_fire_onchar(_j);}if(_g){this._setText(_j.posttext);this._setValue(this.normalizeValue(_j.posttext));this.syncValue();if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&(nexacro.BrowserVersion==10||nexacro.BrowserVersion==9)){this._accept_keyinput_event=false;}_a.setElementValue(this._text,true);this.setElementCaretPos(this._end_pos,this._end_pos,_a);if(_j.pretext!=_j.posttext){if(!this._is_undo){this._undoStack.push(this._value,this._text,this._end_pos,this._end_pos);}_i._textchanging=true;_i.on_fire_ontextchanged(_i,_j.pretext,_j.posttext);_i._textchanging=false;}}}if(!_g){this._setText(this._old_text);this._setValue(this.normalizeValue(this._old_text));this.syncValue();this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);}this._select_text="";_a._event_stop=true;}return _g;};_pEditMaskNumber._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_b>=37&&_b<=40)){this._select_text="";}if(_b==13){this._keyup_process_enter(_a);return;}if(nexacro.OS=="iOS"||nexacro.OS=="Android"){if(this._filteredtext){this._filteredtext=false;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else{this._setCaret(_a);}}else{this._setCaret(_a);}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion==10){_pEditMaskNumber._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}if(!this._set_old_prop){this._set_old_info();}if(this._is_selected()){this.clearBuffer(_c,this._begin_pos,this._end_pos);this._set_old_prop=true;if(!this._cutAction){if(this._pasteAction){this._isPasteActionComplete=false;}return;}}_d=this.getInsertText(_a);this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}this._set_old_prop=false;};}else if(nexacro.BrowserVersion>=9){_pEditMaskNumber._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_c,this._begin_pos,this._end_pos);}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_b,this._begin_pos,this._end_pos);}_d=this.getInsertText(_a);this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskNumber._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}if(!this._set_old_prop){this._set_old_info();}if(this._is_selected()){this.clearBuffer(_c,this._begin_pos,this._end_pos);this._set_old_prop=true;return;}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_b,this._begin_pos,this._end_pos);}_d=this.getInsertText(_a);this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}this._set_old_prop=false;};}}else{_pEditMaskNumber._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=this._text;if(!_c){_c="";}var _d="";if(_b==_c){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_d=this.getInsertText(_a);this._fire_text_event(_d);if(!this._is_composition()){this._stat_composition.init();}};}_pEditMaskNumber._fire_text_event=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();var _e=this._textEventInfo;var _f=_b.autoskip;var _g=false;var _h=false;var _i=false;if(this._is_undo){this._setText(_d);this._setValue(this.normalizeValue(this._text));}else if(this._pasteAction){var _k=0;while(_k<_a.length){var _l=_a.charAt(_k);var _m=this._is_maskchar(_l);if(this.isSign(_m)){this._apply_sign_filter(_m);}else if(this.isComma(_m)){this._apply_comma_filter(_m);}else if(this.isDigit(_m)){this._apply_digit_filter(_m);}_k++ ;}}else{var _m=this._is_maskchar(_a);if(this.isSign(_m)){this._apply_sign_filter(_m);}else if(this.isComma(_m)){this._apply_comma_filter(_m);}else if(this.isDigit(_m)){this._apply_digit_filter(_m);}}if(_d!=this._text){_g=true;this._filteredtext=true;}_e.setTextInfo(_a,this._old_text,this._text,"","",this._old_text);var _j=_b.on_fire_ontextchange(_e);if(_j){_j=_b.on_fire_cancharchange(_b,_e.chartext,_e.pretext,_e.posttext,_e.pretext);if(_j){_j=_b.on_fire_onchar(_e);if(_j){if(_d!=_e.posttext){_i=true;}if(_e.pretext!=_e.posttext){this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}this.setElementCaretPos(this._begin_pos,this._end_pos,_c);_b.on_fire_ontextchanged(_b,this._old_text,this._text);}}}}if(!_j){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._setElementValue(_c,this._old_begin_pos,this._old_end_pos,true);return;}if(_g||_i){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this.syncValue();this._setElementValue(_c,this._begin_pos,this._end_pos,true);}if(_f){_h=this.isFilled();if(_h){this._apply_autoskip();}}};delete _pEditMaskNumber;_pEditMaskNumber=null;nexacro.EditBase.Status=function(_a){this.id=_a;this.init();};var _pEditBaseStatus=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.Status);nexacro.EditBase.Status.prototype=_pEditBaseStatus;_pEditBaseStatus._type_name="EditBaseStatus";_pEditBaseStatus._prev_stat="";_pEditBaseStatus._curr_stat="";_pEditBaseStatus.init=function(){this._prev_stat=nexacro.EditBase.Status.None;this._curr_stat=nexacro.EditBase.Status.None;};_pEditBaseStatus.setStatus=function(_a){this._prev_stat=this._curr_stat;this._curr_stat=_a;};_pEditBaseStatus.getCurrentStatus=function(){return this._curr_stat;};_pEditBaseStatus.getPreviousStatus=function(){return this._prev_stat;};delete _pEditBaseStatus;_pEditBaseStatus=null;nexacro.EditBase.CompositionStatus=function(_a){nexacro.EditBase.Status.call(this,_a);};var _pEditBaseCompositionStatus=nexacro._createPrototype(nexacro.EditBase.Status,nexacro.EditBase.CompositionStatus);nexacro.EditBase.CompositionStatus.prototype=_pEditBaseCompositionStatus;_pEditBaseCompositionStatus._type_name="EditBaseCompositionStatus";_pEditBaseCompositionStatus._prev_stat="";_pEditBaseCompositionStatus._curr_stat="";_pEditBaseCompositionStatus._prev_data="";_pEditBaseCompositionStatus._curr_data="";_pEditBaseCompositionStatus.init=function(){this._prev_stat=nexacro.EditBase.Status.None;this._curr_stat=nexacro.EditBase.Status.None;this._prev_data="";this._curr_data="";};_pEditBaseCompositionStatus.setStatus=function(_a,_b){this._prev_stat=this._curr_stat;this._curr_stat=_a;this._prev_data=this._curr_data;this._curr_data=_b;};_pEditBaseCompositionStatus.getData=function(){return this._curr_data;};_pEditBaseCompositionStatus.getPreviousData=function(){return this._prev_data;};delete _pEditBaseCompositionStatus;_pEditBaseCompositionStatus=null;nexacro.EditBase.Status.None="none";nexacro.EditBase.Status.MouseDown="mousedown";nexacro.EditBase.Status.MouseUp="mouseup";nexacro.EditBase.Status.Click="click";nexacro.EditBase.Status.Select="select";nexacro.EditBase.Status.MouseMove="mousemove";nexacro.EditBase.Status.MouseDrag="drag";nexacro.EditBase.Status.MouseDragMove="dragmove";nexacro.EditBase.Status.MouseDrop="drop";nexacro.EditBase.Status.NoSelectDrag="noselectdrag";nexacro.EditBase.Status.Focus="focus";nexacro.EditBase.Status.Blur="blur";nexacro.EditBase.Status.CompositionStart="start";nexacro.EditBase.Status.CompositionUpdate="update";nexacro.EditBase.Status.CompositionEnd="end";nexacro.EditBase.UndoStack=function(_a){this.init();this.comp=_a;};var _pEditBaseUndoStack=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.UndoStack);nexacro.EditBase.UndoStack.prototype=_pEditBaseUndoStack;_pEditBaseUndoStack._type_name="EditBaseUndoStack";_pEditBaseUndoStack.undoStack=[{value:0,selectionStart:0,selectionEnd:0}];_pEditBaseUndoStack.comp=null;_pEditBaseUndoStack.undoPosition=0;_pEditBaseUndoStack.init=function(){this.undoStack=[{value:0,text:0,selectionStart:0,selectionEnd:0}];this.undoPosition=0;};_pEditBaseUndoStack._destroy=function(){this.comp=null;this.undoStack=null;};_pEditBaseUndoStack.push=function(_a,_b,_c,_d){if(!_b){if(!_a){_b="";}else{_b=_a;}}var _e={value:_a,text:_b,selectionStart:_c,selectionEnd:_d};var _f=this.undoStack[this.undoPosition];if(_f.value===_a){this.refreshUndoItem(_e);}else{this.undoStack.length= ++this.undoPosition;this.undoStack.push(_e);}};_pEditBaseUndoStack.restoreUndoItem=function(_a){var _b=this.comp._input_element;if(_b){_b.text=_a.text;_b.value=_a.value;_b._updateInputValue();_b.setElementSetSelect(_a.selectionStart,_a.selectionEnd);}};_pEditBaseUndoStack.refreshUndoItem=function(_a){var _b=false;var _c=this.undoStack[this.undoPosition];if(_c.value!==_a.value||_c.text!==_a.text||_c.selectionStart!==_a.selectionStart||_c.selectionEnd!==_a.selectionEnd){_b=true;}if(_b){this.undoStack[this.undoPosition]=_a;}};_pEditBaseUndoStack.doUndo=function(){if(this.comp&&this.comp.readonly){return;}if(this.undoPosition>1){this.restoreUndoItem(this.undoStack[ --this.undoPosition]);}};_pEditBaseUndoStack.doRedo=function(){if(this.comp&&this.comp.readonly){return;}if(this.undoPosition<this.undoStack.length-1){this.restoreUndoItem(this.undoStack[ ++this.undoPosition]);}};delete _pEditBaseUndoStack;_pEditBaseUndoStack=null;nexacro.EditBase.TextEventInfo=function(_a){this.init();this.comp=_a;};var _pEditBaseTextEventInfo=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.TextEventInfo);nexacro.EditBase.TextEventInfo.prototype=_pEditBaseTextEventInfo;_pEditBaseTextEventInfo._type_name="EditBaseTextEventInfo";_pEditBaseTextEventInfo.init=function(){this.chartext=null;this.pretext=null;this.posttext=null;this.preimetext=null;this.postimetext=null;this.prechareventtext=null;this.bInsert=true;this.bCut=false;};_pEditBaseTextEventInfo._destroy=function(){this.comp=null;this.chartext=null;this.pretext=null;this.posttext=null;this.preimetext=null;this.postimetext=null;this.prechareventtext=null;this.bInsert=true;this.bCut=false;};_pEditBaseTextEventInfo.setTextInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.chartext=_a;this.pretext=_b;this.posttext=_c;this.preimetext=_d;this.postimetext=_e;this.prechareventtext=_f;this.bInsert=_g;this.bCut=_h;};delete _pEditBaseTextEventInfo;_pEditBaseTextEventInfo=null;}if(!nexacro.Form){nexacro.LayoutChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"onlayoutchanged";this.fromobject=this.fromreferenceobject=_a;this.bubbles=true;this.oldlayout=_c;this.newlayout=_d;this.oldlayoutwidth=_e;this.newlayoutwidth=_f;this.oldlayoutheight=_g;this.newlayoutheight=_h;};var _pLayoutChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.LayoutChangeEventInfo);nexacro.LayoutChangeEventInfo.prototype=_pLayoutChangeEventInfo;_pLayoutChangeEventInfo._type_name="LayoutChangeEventInfo";delete _pLayoutChangeEventInfo;nexacro.DeviceButtonEventInfo=function(_a,_b){this.eventid="ondevicebutton";this.fromobject=_a;this.fromreferenceobject=_a;this.button=_b.button;};var _pDeviceButtonEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DeviceButtonEventInfo);nexacro.DeviceButtonEventInfo.prototype=_pDeviceButtonEventInfo;_pDeviceButtonEventInfo._type_name="DeviceButtonEventInfo";delete _pDeviceButtonEventInfo;nexacro.BindItem=function(_a,_b,_c,_d,_e){nexacro.Object.call(this);this.name=_a||"";this.compid=_b||"";this.propid=_c||"";this.datasetid=_d||"";this.columnid=_e||"";this._en_type=1;this._dataset=null;this._comp=null;};var _pBindItem=nexacro.BindItem.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindItem);_pBindItem._type_name="BindItem";_pBindItem.set_name=function(_a){if(_a&&this.name!=_a){this.name=_a;}};_pBindItem.set_compid=function(_a){if(_a&&this.compid!=_a){this.compid=_a;}};_pBindItem.set_propid=function(_a){if(_a&&this.propid!=_a){this.propid=_a;}};_pBindItem.set_datasetid=function(_a){if(_a&&this.datasetid!=_a){this.datasetid=_a;}};_pBindItem.set_columnid=function(_a){if(_a&&this.columnid!=_a){this.columnid=_a;}};_pBindItem.init=function(_a,_b,_c,_d,_e){this.set_name(_a);this.set_compid(_b);this.set_propid(_c);this.set_datasetid(_d);this.set_columnid(_e);};_pBindItem.destroy=function(){this._dataset=null;this._comp=null;nexacro.Object.prototype.destroy.call(this);};_pBindItem.bind=function(){if(this.parent&&!this.parent._is_loading){if(this.compid==""||this.propid==""||this.datasetid==""||this.columnid==""){return;}this.parent._bind_manager._setBinditem(this,false);this.parent._bind_manager._notify(this);}};_pBindItem._checkType=function(_a){if(typeof _a=="string"&&_a==this.propid){this._en_type=2;}};delete _pBindItem;nexacro.BindManager=function(_a){nexacro.Object.call(this);this.datasets={};this.exception="";this._form=_a;};var _pBindManager=nexacro.BindManager.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindManager);_pBindManager._type_name="BindManager";_pBindManager.destroy=function(){this.datasets=null;this._form=null;nexacro.Object.prototype.destroy.call(this);};_pBindManager.on_changevalue=function(_a,_b){var _c=_b.propid;var _d=this._FindBindItem(_a,_c);var _e=_b.val;if(_d&&_d._en_type==2){this.exception=_a;var _f=_d._dataset;var _g=_f.rowposition;var _h=_f._getDataColIndex(_d.columnid);if(_h!==undefined){var _i=_f.setColumn(_g,_h,_e);if(_i==true){var _j=_f.getColumn(_g,_h);if(_j!=_e){_e=_j;}this.exception=null;return true;}else{this.exception=null;return false;}}}this.exception=null;return true;};_pBindManager.on_valuechanged=function(_a,_b){var _c=_a;var _d=_b.row;var _e=_b.col;var _f=_b.columnid;var _g=_b.newvalue;if(_c.rowposition==_d||_d<0){if(_e<0){return this._notifyAll(_c.name,null, -1,true,null);}else{return this._notifyAll(_c.name,_f,_e,false,_g);}}return true;};_pBindManager.on_load=function(_a,_b){var _c=_a;if(_c.rowcount==0&&_b.reason==0){return this._notifyAll(_c.name,null, -1,true,null);}return true;};_pBindManager._delayBinds=function(){var _a=this._form.binds.length;for(var _b=0;_b<_a;_b++ ){var _c=this._form.binds[_b];if(_c._dataset){continue;}this._setBinditem(_c,false);this._notify(_c);}};_pBindManager._setBinditem=function(_a,_b){if(!_a){return;}var _c=this._form.binds;var _d=_a.datasetid;var _e=_a._dataset;var _f=_a._comp;if(!_a._dataset){_e=this._form._getDatasetObject(_a.datasetid);}if(!_a._comp){_f=this._form._findChildObject(_a.compid);}if(!_e||!_f){return;}if(!_b){_a._dataset=_e;_a._comp=_f;_a._checkType(_f.on_getBindableProperties());if(this.datasets[_d]){var _g=nexacro._indexOf(this.datasets[_d],_a);if(_g> -1){this.datasets[_d].splice(_g,1);if(_f._bind_event){_f._bind_event._removeHandler(this,this.on_changevalue);delete _f._bind_event;_f._bind_event=null;}}this.datasets[_d].push(_a);}else{this.datasets[_d]=[];this.datasets[_d].push(_a);_e.setEventHandler("onload",this.on_load,this);_e.setEventHandler("onvaluechanged",this.on_valuechanged,this);}if(!_f._bind_event){_f._bind_event=new nexacro.EventListener("onbinditem");_f._bind_event._setHandler(this,this.on_changevalue);}}else{if(this.datasets[_d]){var _g=nexacro._indexOf(this.datasets[_d],_a);if(_g> -1){this.datasets[_d].splice(_g,1);if(this.datasets[_d].length==0){_e.removeEventHandler("onload",this.on_load,this);_e.removeEventHandler("onvaluechanged",this.on_valuechanged,this);delete this.datasets[_d];}}}if(_f._bind_event){_f._bind_event._removeHandler(this,this.on_changevalue);delete _f._bind_event;}}};_pBindManager._FindBindItem=function(_a,_b){for(var _c=0;_c<this._form.binds.length;_c++ ){var _d=this._form.binds[_c];if(_d._comp==_a&&_d.propid==_b&&_d.datasetid&&_d.columnid){return _d;}}return null;};_pBindManager._dettachSBindItem=function(_a){if(!_a._bind_event){return;}_a._bind_event._removeHandler(this);var _b=this._form.binds;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]._comp==_a){var _e=_b[_d].datasetid;if(this.datasets[_e]){var _f=nexacro._indexOf(this.datasets[_e],_b[_d]);if(_f> -1){this.datasets[_e][_f].destroy();this.datasets[_e].splice(_f,1);}_b[_d]._comp=null;}}}};_pBindManager._notify=function(_a){var _b=_a._dataset;var _c=_a._comp;if(_b&&_c){var _d=_b.rowposition;if(_a._en_type==2){if(_c.enable){if(_d<0){_c._setEnable(false);}else{_c._setEnable(true);}}var _e=_b._getDataColIndex(_a.columnid);if(_e>=0&&_c.on_change_bindSource){_c.on_change_bindSource(_a.propid,_a._dataset,_d,_e, -1);}}else{if(_a.columnid&&_a.columnid!=""){var _e=_b._getDataColIndex(_a.columnid);if(_e==undefined){_e= -1;}var _f=_b.getColumn(_d,_e);if(_a.propid){if(_c["set_"+_a.propid]){_c["set_"+_a.propid](_f);}else if(_c.style&&_c.style["set_"+_a.propid]){_c.style["set_"+_a.propid](_f);}}}}}};_pBindManager._notifyAll=function(_a,_b,_c,_d,_e){var _f=this.datasets[_a];var _g=null;var _h= -1;if(!_f){return true;}for(var _i=0;_i<_f.length;_i++ ){_g=_f[_i];if(!_g._dataset){continue;}if(_g.columnid==""){continue;}var _j=_g._dataset;_h=_j.rowposition;var _k=_g._comp;if(_k){if(_g._en_type==2){if(_d){if(_k.enable&&_k._isPropEnable()){if(_h<0){_k._setEnable(false);}else{_k._setEnable(true);}}else if(!_k.enable){if(_h>=0){_k._setEnable(true);}}_c=_j._getDataColIndex(_g.columnid);if(_c>=0){if(_k.on_change_bindSource){_k.on_change_bindSource(_g.propid,_g._dataset,_h,_c, -1);}}else{if(_k.on_init_bindSource){_k.on_init_bindSource(_g.columnid,_g.propid,_g._dataset);}}}else{if(_c>=0){if(_g.columnid==_b&&_k.on_change_bindSource){_k.on_change_bindSource(_g.propid,_g._dataset,_h,_c, -1);}}else{if(_g.columnid==_b&&_k.on_init_bindSource){_k.on_init_bindSource(_g.columnid,_g.propid,_g._dataset);}}}}else{var _l;if(_d){_c=_j._getDataColIndex(_g.columnid);if(_c==undefined){_c= -1;}_l=_j.getColumn(_h,_c);}else{if(_b==_g.columnid){_l=_e;}else{continue;}}if(_g.propid){if(_k["set_"+_g.propid]){_k["set_"+_g.propid](_l);}else if(_k.style&&_k.style["set_"+_g.propid]){_k.style["set_"+_g.propid](_l);}}}}}return true;};delete _pBindManager;nexacro.FormBase=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();this.binds=new nexacro.Collection();this._bind_manager=new nexacro.BindManager(this);this._layout_list=new nexacro.Collection();this.scrollbars="autoboth";this.dragscrolltype="all";this._css_selectors={_has_items:false,_has_attr_items:false};this._cssfinder_cache={};this._child_list=[];this._refform=this;this._scrollbars=3;this._load_manager=new nexacro.LoadManager(this);this._timerManager=new nexacro.TimerManager(this);this._executescriptlist=[];this._includescriptlist=[];this._apply_client_padding=false;this._hotkey_list=[];this._load_callbacklist=[];this._is_form=true;this._is_loaded=false;this._is_completed=false;this._is_async=false;this._is_scrollable=true;this._url="";this._base_url="";this._last_focused=null;this._hittest_type="";this._default_layout=null;this._current_layout_name="default";this._cur_real_layout="default";this._obj_mousemove=null;this._locale="";};var _pFormBase=nexacro.FormBase.prototype=nexacro._createPrototype(nexacro.Component,nexacro.FormBase);_pFormBase._type_name="FormBase";_pFormBase.on_create=nexacro._emptyFn;_pFormBase.on_create_control_element=function(_a){if(!_a){return null;}var _b;if(this._is_scrollable){_b=this.on_create_scrollable_control_element(_a);}else{_b=this.on_create_normal_control_element(_a);}return _b;};_pFormBase.createComponent=function(_a){if(this._is_loading){return;}var _b=null;if(!this._is_window){_b=this.parent?this.parent._control_element:null;if(!_b){return false;}}var _c=this._control_element;if(!_c){_c=this.on_create_control_element(_b);if(this._is_nc_control){_c._is_nc_element=true;}var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initLayoutManager();this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}if(this.positionstep!=null){this.on_apply_positionstep(this.positionstep);}if(this._hittest_type){_c.setElementHittestType(this._hittest_type);}if(!_a&&(this._is_window||_b._handle)){var _e=this._getWindow();this.on_created(_e);}}else{if(_b&&_b._handle){_b.appendChildElement(_c);_c.parent=this;this._initLayoutManager();var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}if(!_a){var _f=this._getWindow();this.on_created(_f);}}else{var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}}}return true;};_pFormBase.on_create_contents=function(){var _a=this.components;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].createComponent(true);}};_pFormBase.on_created_contents=function(){var _a=this.objects.length;var _b=0;for(_b=0;_b<_a;_b++ ){this.objects[_b].on_created();}var _c=this.components;_a=_c.length;for(_b=0;_b<_a;_b++ ){_c[_b].on_created();}if(this.stepcontrol){this.stepcontrol.on_created();}if(this._is_scrollable){this.resetScroll();var _d=this._control_element;if(_d&&this.stepcontrol){_d.setElementHScrollPos(_d.client_width*_d._step_index);}}_d=null;_c=null;nexacro._refreshWindow(this._getWindow()._handle);};_pFormBase.on_destroy_contents=function(){if(this._timerManager){this._timerManager.destroy();this._timerManager=null;}if(this._load_manager){var _f=this._load_manager;var _g=_f.transactionList;if(_g){this._stopTransaction(true);for(var _h=_g.length-1;_h>=0;_h-- ){var _i=_g[_h];if(_i._usewaitcursor){_i._hideWaitCursor(this);}_i=null;}_g=null;}this._load_manager.destroy();this._load_manager=null;}var _a=this.binds;var _b=_a.length;for(var _h=0;_h<_b;_h++ ){var _j=_a.get_id(_h);this._bind_manager._setBinditem(_a.get_item(_j),true);this[_j]=null;}var _c=this.components;_b=_c.length;for(var _h=0;_h<_b;_h++ ){var _k=_c.get_id(0);if(this[_k]){if(this[_k]._destroy){this[_k]._destroy();this[_k]=null;}}}var _d=this.objects;_b=_d.length;for(var _h=0;_h<_b;_h++ ){var _l=_d.get_id(0);if(this[_l]){if(this[_l].destroy){this[_l].destroy();}_d.delete_item(_l);delete this[_l];this[_l]=null;}}var _e=this._layout_list;_b=_e.length;for(var _h=0;_h<_b;_h++ ){var _m=_e.get_id(0);if(_m){if(_e[_m].destroy){_e[_m].destroy();}_e.delete_item(_m);}}if(this._bind_manager){this._bind_manager.destroy();this._bind_manager=null;}this.all.clear();this.all=null;this.components.clear();this.components=null;this.objects.clear();this.objects=null;this.binds.clear();this.binds=null;this._layout_list.clear();this._layout_list=null;this._css_selectors=null;this._cssfinder_cache=null;this._child_list=null;this._executescriptlist=null;this._includescriptlist=null;this._hotkey_list=null;this._load_callbacklist=null;this._css_finder=null;this._ref_css_finder=null;this._find_csslist=null;if(this._default_layout){if(this._default_layout.destroy){this._default_layout.destroy();}this._default_layout=null;}this._obj_mousemove=null;};_pFormBase._clearUserFunctions=function(){var _a=null;if(this._type_name=="Div"){_a=nexacro.Div.prototype;}else if(this._type_name=="Tab"){_a=nexacro.Tab.prototype;}else if(this._type_name=="Tabpage"){_a=nexacro.Tabpage.prototype;}else if(this._type_name=="PopupDiv"){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Tab){_a=nexacro.Tab.prototype;}else if(this instanceof nexacro.Tabpage){_a=nexacro.Tabpage.prototype;}else if(this instanceof nexacro.PopupDiv){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Div){_a=nexacro.Div.prototype;}else if(this instanceof nexacro.Form){_a=nexacro.Form.prototype;}else if(this instanceof nexacro.Frame){_a=nexacro.Frame.prototype;}for(var _b in this){if(typeof this[_b]==="function"&&_a&&!_a[_b]){this[_b]=null;}}};_pFormBase._clear=function(){var _a=this.getElement();if(_a){this._is_init=true;this._pseudo="normal";this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";this._clearEventListeners();if(this._timerManager&&this._timerManager.timerList.length>0){this._timerManager.clearAll();}_a.clearContents();if(this.stepcontrol){this._destroyStepControl();delete this.stepcontrol;}var _b=this.binds;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=_b.get_id(_d);this._bind_manager._setBinditem(_b.get_item(_e),true);delete this[_e];}var _f=this.components;var _g=this.objects;this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();_c=_f.length;for(var _d=0;_d<_c;_d++ ){var _h=_f.get_id(_d);if(this[_h]){if(this[_h]._destroy){this[_h]._destroy();}}}_f.clear();_c=_g.length;for(var _d=0;_d<_c;_d++ ){var _i=_g.get_id(_d);if(this[_i]){if(this[_i].destroy){this[_i].destroy();}delete this[_i];}}_g.clear();this.all.clear();this.components.clear();this.objects.clear();this.binds.clear();this._hotkey_list=[];if(this._is_scrollable){this.resetScroll();}}this._is_created=false;};_pFormBase.on_initEvent=nexacro._emptyFn;_pFormBase._loadInclude=_pApplication._loadInclude;_pFormBase._init=nexacro._emptyFn;_pFormBase.loadIncludeScript=nexacro._emptyFn;_pFormBase.loadPreloadList=nexacro._emptyFn;_pFormBase._excuteScript=_pApplication._excuteScript;_pFormBase.registerScript=_pApplication.registerScript;_pFormBase.addIncludeScript=_pApplication.addIncludeScript;_pFormBase.loadIncludeScript=_pApplication.loadIncludeScript;_pFormBase._make_find_csslist=function(){var _a=this._find_csslist;if(!_a){_a=[];var _b=this;var _c;while(_b){_c=_b._css_selectors;if(_c&&_c._has_items){_a.push(_c);}if(_b._is_frame&&_b._is_popup_frame&&_b._window_type!=5){break;}else if(_b.parent==null&&!_b._is_application){_b=application;}else{_b=_b.parent;}}this._find_csslist=_a;}return _a;};_pFormBase._addCss=function(_a,_b,_c,_d){var _e=_a.split(">");var _f=_e.length;var _g=this._css_selectors;_g._has_items=true;var _h="";var _i="";var _j="";for(var _l=0;_l<_f;_l++ ){var _o=_e[_l];if(_o=="*"){continue;}if(_o.substr(0,1)=="#"){_i+=_o;}else if(_o.substr(0,1)=="."){if(_i==""){_j=_o;}}else{if(_o.substr(0,2)=="*."){_o=_o.substring(1);}if(_i==""){_h=_o;}}}if(_h!=""){var _p=_g[_h];if(!_p){_g[_h]=_p={_is_selector:true};}_g=_p;}else if(_j!=""){var _p=_g[_j];if(!_p){_g[_j]=_p={_is_selector:true};}_g=_p;}if(_i!=""){var _p=_g[_i];if(!_p){_g[_i]=_p={_is_selector:true};}_g=_p;}_g._has_attr_items=true;var _k=_g[_b];if(!_k){_g[_b]=_k={};}var _l=0;var _m=_d.length;var _n;if(_l>=_m){return;}_n=_d[_l++ ];_k[_n]=_c;if(_l>=_m){return;}_n=_d[_l++ ];_k[_n]=_c;if(_l>=_m){return;}_n=_d[_l++ ];_k[_n]=_c;if(_l>=_m){return;}_n=_d[_l++ ];_k[_n]=_c;if(_l>=_m){return;}_n=_d[_l++ ];_k[_n]=_c;if(_l>=_m){return;}_n=_d[_l++ ];_k[_n]=_c;if(_l>=_m){return;}_n=_d[_l++ ];_k[_n]=_c;};_pFormBase.create=function(){this.on_create();};_pFormBase.initEvent=function(){this.on_initEvent();};_pFormBase._on_init=function(){if(this._is_created){this._clear();}if(this._is_loading){this._clearEventListeners();}this._init();this.create();this._is_loading=false;if(this.parent&&this.parent.form==this){this.parent._loadedForm();}this._excuteScript(this);this.initEvent();this._is_loaded=true;};_pFormBase._addPreloadList=function(_a,_b,_c,_d){if(!_b){return;}var _e;var _f=application._getServiceObject(_b);if(_a=="data"){_e=application._getServiceLocation(_b,this._base_url);this._load_manager.addPreloadItem(_a,_e,_c,_d,_f);}else{_e=application._getFDLLocation(_b,this._base_url);this._load_manager.addPreloadItem(_a,_e,this,null,_f);}};_pFormBase._findForm=function(_a){return this;};_pFormBase._getReferenceContext=function(){return this;};_pFormBase._getDlgCode=function(_a,_b,_c,_d){var _e=this._getLastFocused();if(_e&&_e!=this){return _e._getDlgCode(_a,_b,_c,_d);}return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:false};};_pFormBase.setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){this._adjustPosition(this.left,this.top,null,null,_a,_b,this.parent._client_width,this.parent._client_height);var _c=this._control_element;if(_c){_c.setElementSize(_a,_b);this._updateClientSize(_c);}}};_pFormBase._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFormBase._destroy=function(){if(!this._is_alive||this._is_destroying){return;}return this.destroyComponent();};_pFormBase.destroy=function(){if(!this._is_alive){return;}var _a=this._on_beforeclose();if(this._checkAndConfirmClose(_a)==false){return false;}if(this._window){this._window._ignore_close_confirm=true;}this._on_close();return this.destroyComponent();};_pFormBase.loadCss=function(_a,_b,_c){if(_a){if(!_b){_b=this._base_url;}var _d=[];_d.push(application._getServiceLocation(_a,_b));_d.push(".js");var _e=application._getServiceObject(_a);this._load_manager.loadCssModule(_d.join(""),null,_c,_e);}};_pFormBase.move=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getElement();var _i=this._adjust_left;var _j=this._adjust_top;var _k=this._adjust_width;var _l=this._adjust_height;var _m=false,_n=false;var _o=false;var _p=this.parent;if(_p){this._adjustPosition(_a,_b,_e,_f,_c,_d,_p._client_width,_p._client_height);}else{this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}if(this._adjust_width!=_k||this._adjust_height!=_l){_m=true;if(_k==0||_l==0){_o=true;}}if(this._adjust_left!=_i||this._adjust_top!=_j){_n=true;}this.on_update_position(_m,_n);if(this._layout_list&&this._layout_list.length>0){this._checkValidLayout();}if(_o){this.currentstyle._empty();this._control_pseudo="";}this._updateControl(_h);this._updateContents(_h);};_pFormBase.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){var _f=this.getElement();if(_f&&_f._handle&&_f._vml_elem){_f._refreshVMLContainerElement(_f,_f._vml_elem);}return;}var _c=this._adjust_width;var _d=this._adjust_height;var _e=false;if(_c!=this._adjust_left+_a||_d!=this._adjust_top+_b){this.width=_a;this.height=_b;_e=true;}this._update_position(_e,false);if(this._layout_list&&this._layout_list.length>0){this._checkValidLayout();}};_pFormBase.confirm=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}application._skipDragEventAfterMsgBox=true;return nexacro._confirm(_d.frame,_a,_b,_c);};_pFormBase.alert=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}application._skipDragEventAfterMsgBox=true;application._is_on_alert=true;nexacro._alert(_d.frame,_a,_b,_c);application._is_on_alert=false;};_pFormBase.getOwnerFrame=function(){var _a=null;if(this.parent&&!(this.parent instanceof nexacro.Frame)){_a=this.parent.getOwnerFrame();}else{_a=this.parent;}return _a;};_pFormBase.lookup=function(_a){for(var _b=this;(_b!=null);_b=(_b.opener||_b.parent)){if(_a in _b){return _b[_a];}}};_pFormBase.lookupSetter=function(_a,_b){if(!_b){_b="set_"+_a;}for(var _c=this;(_c!=null);_c=(_c.opener||_c.parent)){var _d=_c[_b];if(_d){return new nexacro.SetterBinder(_c,_a,_d);}if(_a in _c){return new nexacro.PropBinder(_c,_a);}}return null;};_pFormBase.lookupFunc=function(_a){for(var _b=this;(_b!=null);_b=(_b.opener||_b.parent)){var _c=_b[_a];if(_c){return new nexacro.FuncBinder(_b,_c);}}return null;};_pFormBase.getLayoutInfo=function(_a,_b){var _c=this._layout_list[_a];if(_c){return _c[_b];}return;};_pFormBase.getLayoutInfo=function(_a,_b){var _c=this._layout_list[_a];if(_c){return _c[_b];}return;};_pFormBase._on_activate=function(){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_onactivate();}};_pFormBase._on_deactivate=function(){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_ondeactivate();}};_pFormBase.on_fire_onactivate=function(){if(this.onactivate&&this.onactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"onactivate",true,this,this);this.onactivate._fireEvent(this,_a);}};_pFormBase.on_fire_ondeactivate=function(){if(this.ondeactivate&&this.ondeactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"ondeactivate",false,this,this);this.ondeactivate._fireEvent(this,_a);}};_pFormBase._on_beforeclose=function(_a){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return;}if(!_a){_a=this;}var _b="";var _c=this.components;var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _g=_c[_f];if(!(_g instanceof nexacro.FormBase)){continue;}var _h=_g._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_h);}var _e=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_e);return _b;};_pFormBase._on_bubble_beforeclose=function(_a,_b,_c,_d){var _e=false;if(_b===undefined){_e=true;_c=this;if(!_d){_d=this;}}var _f="";if(this.visible&&this._isEnable()){if(this.enableevent){if(_e){_b=false;}_f=this.on_fire_onbeforeclose(this,_c,_d,_a);}}var _g="";if((!this.onbeforeclose||(this.onbeforeclose&&!this.onbeforeclose.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){_g=this.parent._on_bubble_beforeclose(_a,_b,_c,_d);}return this._appendBeforeCloseMsg(_f,_g);};_pFormBase._on_close=function(){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return true;}var _a=this.components;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){var _d=_a[_c];if(!(_d instanceof nexacro.FormBase)){continue;}_d._on_close();}this._on_bubble_close();};_pFormBase._on_bubble_close=function(_a,_b,_c){var _d=false;if(_a===undefined){_d=true;_b=this;if(!_c){_c=this;}}if(this.visible&&this._isEnable()){if(this.enableevent){if(_d){_a=false;}this.on_fire_onclose(this,_b,_c);}}var _e=this.parent;if(_e){if((!this.onclose||(this.onclose&&!this.onclose.stoppropagation))&&_a!==true&&!_e._is_application){return _e._on_bubble_close(_a,_b,_c);}}};_pFormBase.on_fire_onbeforeclose=function(_a,_b,_c,_d){if(this.onbeforeclose&&this.onbeforeclose._has_handlers){var _e=new nexacro.CloseEventInfo(_a,"onbeforeclose",_b,_c,_d);return this.onbeforeclose._fireEvent(this,_e);}};_pFormBase.on_fire_onclose=function(_a,_b,_c){if(this.onclose&&this.onclose._has_handlers){var _d=new nexacro.CloseEventInfo(_a,"onclose",_b,_c);return this.onclose._fireEvent(this,_d);}return true;};_pFormBase.loadForm=function(_a,_b,_c,_d){if(this._load_manager){var _e=application._getFDLLocation(_a,_d);this._url=_e;this._base_url=nexacro._getBaseUrl(_e);if(this._load_manager){this._load_manager.clearAllLoad();}this._clearUserFunctions();this._is_loading=true;if(this.parent._is_frame&&this.parent.form==this){application._registerLoadforms(this);}this._clearCssInfo();var _f=application._getServiceObject(_a);var _g=this._load_manager.loadMainModule(_e,undefined,_b,_c,_f);}};_pFormBase.getParentContext=function(){};_pFormBase._getFormBaseUrl=function(){return this._base_url;};_pFormBase._clearCssInfo=function(_a){this._css_finder=null;this._ref_css_finder=null;this._cssfinder_cache={};this._find_csslist=null;var _b=this.components;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]._is_form){_b[_d]._clearCssInfo(_a);}}if(!_a){this._css_selectors=null;this._css_selectors={_has_items:false,_has_attr_items:false};}};_pFormBase._findChildObject=function(_a){var _b=_a.indexOf(".");if(_b>0){var _c=_a.substring(0,_b).trim();_c=this[_c];if(_c){return _c._findChildObject(_a.substring(_b+1,_a.length).trim());}}else{return this[_a];}};_pFormBase._getDatasetObject=function(_a){var _b=this[_a];var _c=(this.opener||this.parent);if(_b==null&&_c&&_c!=application){_b=_c._getDatasetObject(_a);}if(_b==null){_b=application[_a];}return _b;};_pFormBase._checkContainerTabFocus=function(){if(this._is_form&&nexacro._enableaccessibility&&this._isAccessibilityEnable()==true){return true;}return false;};_pFormBase._checkContainerHeadingFocus=function(){if(this._is_form&&nexacro._enableaccessibility&&this._isAccessibilityEnable()==true&&this._isAccessibilityRoleHeading()){return true;}return false;};_pFormBase._getTabOrderLast=function(_a,_b,_c,_d){var _e=this._getSortedDecendants(this,true,_a);var _f;for(var _g=_e.length-1;_g>=0;_g-- ){_f=_e[_g];if(_b){if(_f._isEditableComponent(_c)){return _f;}else if(_d&&_f._is_form){var _h=_f._getTabOrderLast(_a,_b,_c,_d);if(_h){return _h;}}}else if(_a){if(_f._isAccessibilityEnable()){return _f;}else if(_f._is_form&&_f.components.length){return _f._getTabOrderLast(true);}}else if(_f.on_get_prop_tabstop()){return _f;}}return null;};_pFormBase._getHeadingOrderLast=function(){var _a=this._getSortedDecendants(this,true,true);var _b;for(var _c=_a.length-1;_c>=0;_c-- ){_b=_a[_c];if(_b._isAccessibilityRoleHeading()){return _b;}else if(_b._is_form){var _d=_b._getHeadingOrderLast();if(_d){return _d;}}}return null;};_pFormBase._getTabOrderFirst=function(_a,_b,_c,_d){var _e=this._getSortedDecendants(this,true,_a);var _f;for(var _g=0;_g<_e.length;_g++ ){_f=_e[_g];if(_b){if(_f._isEditableComponent(_c)){return _f;}else if(_d&&_f._is_form){var _h=_f._getTabOrderFirst(_a,_b,_c,_d);if(_h){return _h;}}}else if(_a){if(_f._isAccessibilityEnable()){return _f;}else if(_f._is_form){return _f._getTabOrderFirst(true);}}else if(_f.on_get_prop_tabstop()){return _f;}}return null;};_pFormBase._getHeadingOrderFirst=function(){var _a=this._getSortedDecendants(this,true,true);var _b;for(var _c=0;_c<_a.length;_c++ ){_b=_a[_c];if(_b._isAccessibilityRoleHeading()){return _b;}else if(_b._is_form){var _d=_b._getHeadingOrderFirst();if(_d){return _d;}}}return null;};_pFormBase._getTabOrderNext=function(_a,_b,_c,_d,_e,_f,_g){if(_a&&_a._is_form&&_b>0&&!_f){var _k=_a._getTabOrderFirst(_c,_d,_e);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){var _l=this._getWindow();if((_k!=null)&&(!_a._contains(_l._accessibility_last_focused_comp)||_a==_l._accessibility_last_focused_comp)){return _k;}}else if(_a._last_focused==null&&_k!=null){return _k;}}var _h=this._getSortedDecendants(this,true,_c);var _i=nexacro._indexOf(_h,_a._getRootComponent(_a));if(_i<0){return null;}var _j;if(_b>0){for(var _m=_i+_b;_m<_h.length;_m++ ){_j=_h[_m];if(_d){if(_j._isEditableComponent(_e)){return _j;}else if(_g&&_j._is_form){var _n=_j._getTabOrderFirst(_c,_d,_e,_g);if(_n){return _n;}}}else if(_c){if(_j._isAccessibilityEnable()){return _j;}else if(_j._is_form&&_j._child_list.length){return _j;}else if(_j._isItemAccessibilityEnable()){return _j;}}else if(_j.on_get_prop_tabstop()){return _j;}}}else if(_b<0){for(var _m=_i+_b;_m>=0;_m-- ){_j=_h[_m];if(_d){if(_j._isEditableComponent(_e)){return _j;}else if(_g&&_j._is_form){var _n=_j._getTabOrderLast(_c,_d,_e,_g);if(_n){return _n;}}}else if(_c){if(_j._isAccessibilityEnable()){return _j;}else if(_j._is_form&&_j._child_list.length){return _j;}else if(_j._isItemAccessibilityEnable()){return _j;}}else if(_j.on_get_prop_tabstop()){return _j;}}}if(_d){if(_b>0){for(var _m=0;_m<_i-_b;_m++ ){_j=_h[_m];if(_d){if(_j._isEditableComponent(_e)){return _j;}else if(_g&&_j._is_form){var _n=_j._getTabOrderFirst(_c,_d,_e,_g);if(_n){return _n;}}}}}else if(_b<0){for(var _m=_h.length-1;_m>_i;_m-- ){_j=_h[_m];if(_d){if(_j._isEditableComponent(_e)){return _j;}else if(_g&&_j._is_form){var _n=_j._getTabOrderLast(_c,_d,_e,_g);if(_n){return _n;}}}}}}return null;};_pFormBase._getHeadingOrderNext=function(_a,_b){if(_a&&_a._is_form){if(_a._last_focused){var _f=_a._getHeadingOrderNext(_a._last_focused,_b);if(_f){return _f;}else{_a._last_focused=null;}}else if(_a._last_focused==null){if(_b==1){var _f=_a._getHeadingOrderFirst(true);}else{var _f=_a._getHeadingOrderLast(true);}if(_f){return _f;}}}var _c=this._getSortedDecendants(this,true,true,null);var _d=nexacro._indexOf(_c,_a._getRootComponent(_a));if(_d<0){return null;}var _e;if(_b>0){for(var _g=_d+_b;_g<_c.length;_g++ ){_e=_c[_g];if(_e._isAccessibilityRoleHeading()){return _e;}else if(_e&&_e._is_form){var _h=_e._getHeadingOrderFirst(true);if(_h){return _h;}}}}else if(_b<0){for(var _g=_d+_b;_g>=0;_g-- ){_e=_c[_g];if(_e._isAccessibilityRoleHeading()){return _e;}else if(_e&&_e._is_form){var _h=_e._getHeadingOrderLast(true);if(_h){return _h;}}}}return null;};_pFormBase._getSortedDecendants=function(_a,_b,_c){if(_b===undefined){_b=false;}var _d=[];var _e=_a.components;if(_e){var _f=_e.length;for(var _g=0;_g<_f;_g++ ){var _h=_e[_g];if(!_h||!_h._is_created||!_h.visible||((_h._isEnable&&!_h._isEnable()||!_h.enable)&&(!nexacro._enableaccessibility||nexacro._accessibilitytype!=5))||_h._popup){continue;}if(!_c&&!_b&&!_h.on_get_prop_tabstop()){continue;}var _i=_h._taborder;if(_i<0){_i=0;}var _j=_d.length;while(_j>0&&_d[_j-1]._taborder>_i){_d[_j]=_d[_j-1];_j-- ;}_d[_j]=_h;}}return _d;};_pFormBase.addLayout=function(_a,_b){if(!_b){return;}if(_a=="default"){this._default_layout=_b;}else if(application._screeninfo==null||(_b.screenid=="")){this._layout_list.add_item(_a,_b);}else if(application._curscreen){if(!_b.screenid||_b.screenid==""){this._layout_list.add_item(_a,_b);return;}var _c=_b.screenid.split(',');var _d=_c.length;for(var _e=0;_e<_d;_e++ ){if(application._curscreen.name==_c[_e]){this._layout_list.add_item(_a,_b);break;}}}};_pFormBase._setPos=function(_a,_b){if(this._adjust_left!=_a||this._adjust_top!=_b){this._adjust_left=this.left=_a;this._adjust_top=this.top=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}this.on_update_position(false,true);}};_pFormBase._setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){this._adjust_width=this.width=_a;this._adjust_height=this.height=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}this.on_update_position(true,false);}};_pFormBase._initLayoutManager=function(){var _a="default";var _b=this._layout_list.length;if(_b>0){var _c=this._current_layout_name;this._current_layout_name="";this._cur_real_layout="";var _d={cx:this._adjust_width,cy:this._adjust_height};var _e=application.getLayoutManager().checkValid(this,_d);_b=this._layout_list.length;if(this._layout_list[_b-1].name!="default"){this._layout_list.add_item("default",this._default_layout);_b=this._layout_list.length;}if(_e>=0){var _f;var _g=this._layout_list[_c];var _h=this._layout_list[_e];var _i=0,_j=0;_i=_g?_g.width:0;_j=_g?_g.height:0;if(_c!=_h.name){_f=this.on_fire_canlayoutchange(this,"canlayoutchange",_c,_h.name,_i,_h.width,_j,_h.height);}if(_f===true||_f===undefined){application.getLayoutManager().loadLayout(this,null,_h);if(_c!=_h.name){this.on_fire_onlayoutchanged(this,"onlayoutchanged",_c,_h.name,_i,_h.width,_j,_h.height);}this._current_layout_name=_h.name;this._cur_real_layout=_h.name;}else{if(_c){_a=_c;}this._current_layout_name=_a;this._cur_real_layout=_a;}}}else if(_b<=0&&this._default_layout){application.getLayoutManager().loadLayout(this,null,this._default_layout,this._default_layout);this._current_layout_name=_a;this._cur_real_layout=_a;}};_pFormBase._checkValidLayout=function(){var _a=application.getLayoutManager();if(_a){var _b=this._current_layout_name;var _c=null;var _d={cx:this._adjust_width,cy:this._adjust_height};var _e=_a.checkValid(this,_d);if(_e> -1){_c=this._layout_list[_e];}else{return _a.getCurrentLayout(this);}if(_c&&_b!=_c.name){var _f=this.all.length;for(var _g=0;_g<_f;_g++ ){if(this.all[_g]._is_form&&this.all[_g]._layout_list.length>0){this.all[_g]._checkValidLayout(_d);}}var _h=this._layout_list[_b];var _i=0,_j=0;_i=_h?_h.width:0;_j=_h?_h.height:0;var _k=this.on_fire_canlayoutchange(this,"canlayoutchange",_b,_c.name,_i,_c.width,_j,_c.height);if(_k===true||_k===undefined){if(_c.name!="default"){_a.changeLayout(this,this._default_layout);}_a.changeLayout(this,_c);this.on_fire_onlayoutchanged(this,"onlayoutchanged",_b,_c.name,_i,_c.width,_j,_c.height);}if(this._is_scrollable){this.resetScroll();}return _c;}}};_pFormBase._on_prepare_stepcontents=function(_a,_b,_c,_d){var _e=this.getElement();if(_e){if(this._is_created&&(_a>0||_c>0)){var _f=this.components;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){var _i=_f[_h].getElement();_e.removeChildElement(_i);}}_e.setElementStepCount(_c);_e.setElementStepIndex(_d);if(_d> -1&&_e._step_count>_d){_e.setElementHScrollPos(_e.client_width*_d);}}if(this.stepcontrol){this._destroyStepControl();}};_pFormBase._on_refresh_stepcontents=function(_a,_b,_c,_d){var _e=this.getElement();if(_e){if(this._is_created&&(_a>0||_c>0)){var _f=this.components;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){var _i=_f[_h].getElement();_e.appendChildElement(_i);}}}if(_c>0){if(!this.stepcontrol){this._createStepControl(_c,_d);}if(this._is_created){this.stepcontrol.on_created();}}};_pFormBase._createStepControl=function(_a,_b){if(!this.stepcontrol){var _c=new nexacro.StepCtrl("stepcontrol","absolute",0,0,0,0,null,null,this);_c.createComponent(true);_c.set_stepcount(_a);_c.set_stepindex(_b);this.stepcontrol=_c;this._updateStepControlSize();this._setEventHandler("onstepchanged",this._on_stepchanged,this);}};_pFormBase._destroyStepControl=function(){var _a=this.stepcontrol;if(_a){_a.destroy();this.stepcontrol=null;}};_pFormBase._updateStepControlSize=function(){var _a=this.stepcontrol;if(_a){this.on_update_style_stepalign();}};_pFormBase._on_stepchanged=function(_a,_b){var _c=this.stepcontrol;var _d=this.getElement();if(_c&&_d){var _e=this.getZoom()/100;var _f=_d.client_width/_e;var _g=(_d.scroll_left!=(_f*_c.stepindex));if(!_g){return;}this._createStepChangeAnimation(_c.stepindex,400);}};_pFormBase.on_fire_sys_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.stepcontrol&&this._stepchange_info){this._on_cancel_stepchange_animation();}return nexacro.Component.prototype.on_fire_sys_onslidestart.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pFormBase.on_fire_sys_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_b&&_b._scroll_comp==this){var _j=this.getElement();var _k=this.stepcontrol;if(!_j||!_k){return;}var _l=this.getZoom()/100;var _m=_j.client_width/_l;var _n=(_j.scroll_left!=(_m*_k.stepindex));if(!_n){return;}var _o=400;var _p=_j.scroll_left-(_m/2);var _q=_b.checkFling();if(_q){var _r=3;var _s=_q.xstartvalue|0;if(_s< -(_m/_r)){_s= -(_m/_r);}if(_s>(_m/_r)){_s=(_m/_r);}_p-=_s;}var _t=nexacro.round(_p/(_m)+0.5);var _u=_k.set_stepindex(_t);if(!_u){_j.setElementHScrollPos(_m*_k.stepindex);}_b._fling_blocked=true;}else{return nexacro.Component.prototype.on_fire_sys_onslideend.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);}return false;};_pFormBase._createStepChangeAnimation=function(_a,_b){if(this._stepchange_info){this._on_cancel_stepchange_animation();}var _c=this.getElement();if(_c){var _d={};_d.is_alive=true;_d.target_index=_a;_d.starttime=new Date().getTime();_d.duration=_b;var _e=this.getZoom()/100;var _f=_c.hscroll_limit/(_c._step_count-1);_d.startpos=_c.scroll_left;_d.endpos=_f*_a;if(this.style.stepshowtype=="action"){var _g=this.stepcontrol;if(_g){_g.set_visible(true);}}var _h=this;_d.timer=new nexacro.AnimationFrame(this,function(){_h._on_stepchange_animation();});_d.timer.start();this._stepchange_info=_d;}};_pFormBase._on_stepchange_animation=function(){var _a=this.getElement();if(!_a){return;}var _b=this._stepchange_info;if(_b&&_b.is_alive){var _c=new Date().getTime()-_b.starttime;var _d=_b.duration;var _e=_c/_d-1;var _f=Math.min((_e*_e*_e+1),1);var _g=_b.startpos+((_b.endpos-_b.startpos)*_f);_a.setElementHScrollPos(_g);if(_c>=_b.duration){this._on_end_stepchange_animation();}else{_b.timer.start();}}};_pFormBase._on_end_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}var _b=this.getElement();var _c=this.stepcontrol;if(_b&&_c){var _d=_a.target_index;delete _a;_b.setElementStepIndex(_d);var _e=_b.hscroll_limit/(_b._step_count-1);_b.setElementHScrollPos(_e*_d);var _f=this.components;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){_f[_h].on_apply_positionstep(_f[_h].positionstep);}this.on_apply_style_stepshowtype(this.style.stepshowtype);this._stepchange_info=null;}};_pFormBase._on_cancel_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}delete _a;this._stepchange_info=null;};_pFormBase._searchNextTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l>0&&_a&&!_b){_j=this._getTabOrderNext(_a,true,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderFirst(_d);}if(!_j){var _m=this.parent;var _n=_m._getSortedDecendants(this.parent,undefined,_d);var _o=_n?_n.length:0;if(!_f&&(_m._is_frame||this._is_window)){_i=[null,this,1];}else if(_m._is_form&&_o>0){_i=_m._searchNextTabFocus(this,false,undefined,_d,_e);}else{_j=this._getTabOrderFirst(_d);}}}else{_j=this._getTabOrderFirst(_d);if(!_j){if(this.parent._is_form){_i=this.parent._searchNextTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}}if(_j&&!_i){var _p=(_j._is_form?_j._getSortedDecendants(_j,undefined,_d):null);var _q=_p?_p.length:0;if(_j._is_form&&_d&&_j._checkContainerTabFocus()==true){_i=[_j];}else if(_j._is_form&&_q>0){_i=_j._searchNextTabFocus(null,true,undefined,_d,_e);}else{_i=[_j];}}return _i;};_pFormBase._searchNextHeadingFocus=function(_a,_b,_c){var _d=(_c==undefined)?(application._tabkeycirculation==0):_c;var _e=nexacro._enableaccessibility;var _f,_g,_h;var _i=this._getSortedDecendants(this,undefined,true);var _j=_i?_i.length:0;if(_j>0&&_a&&!_b){_h=this._getHeadingOrderNext(_a,1);if(_d&&!_h&&this._isPopupVisible()){_h=this._getHeadingOrderFirst();}if(!_h){var _k=this.parent;var _l=_k._getSortedDecendants(this.parent,undefined,true);var _m=_l?_l.length:0;if(!_d&&(_k._is_frame||this._is_window)){_g=[null,this,1];}else if(_k._is_form&&_m>0){_g=_k._searchNextHeadingFocus(this);}else{_h=this._getHeadingOrderFirst();}}}else{_h=this._getHeadingOrderFirst();if(!_h){if(this.parent._is_form){_g=this.parent._searchNextHeadingFocus(this);}else{_g=null;}}}if(_h&&!_g){var _n=(_h._is_form?_h._getSortedDecendants(_h,undefined,true):null);var _o=_n?_n.length:0;if(_h._is_form&&_h._checkContainerHeadingFocus()==true){_g=[_h];}else if(_h._is_form&&_o>0){_g=_h._searchNextHeadingFocus(null,true);}else{_g=[_h];}}return _g;};_pFormBase._searchPrevTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l&&_a&&!_b){_j=this._getTabOrderNext(_a, -1,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderLast(_d);}if(!_j){var _m=this.parent._getSortedDecendants(this.parent,undefined,_d);var _n=_m?_m.length:0;var _o=this.parent.components;if(_f==false&&(this.parent._is_frame||this._is_window)){_i=[null,this, -1];}else if(_d&&this._checkContainerTabFocus()==true&&this.parent._is_form){_i=[this];}else if(this.parent._is_form&&_n>0){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_j=this._getTabOrderLast(_d);}}}else{if(!_b){if(this instanceof nexacro.PopupDiv){_j=this._getTabOrderLast(_d);}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}if(!_i){_j=this._getTabOrderLast(_d);if(!_j&&_i!==null){if(_d&&_g&&this._checkContainerTabFocus()==true){_i=[this];}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}}}if(_j&&!_i){var _p=(_j._is_form?_j._getSortedDecendants(_j,undefined,_d):null);var _q=_p?_p.length:0;if(_j._is_form&&_q>0){_i=_j._searchPrevTabFocus(null,true,undefined,_d,_e);}else{_i=[_j];}}return _i;};_pFormBase._searchPrevHeadingFocus=function(_a,_b,_c){var _d=(_c==undefined)?(application._tabkeycirculation==0):_c;var _e=nexacro._enableaccessibility;var _f,_g,_h;var _i=this._getSortedDecendants(this,undefined,true);var _j=_i?_i.length:0;if(_j&&_a&&!_b){_h=this._getHeadingOrderNext(_a, -1);if(_d&&!_h&&this._isPopupVisible()){_h=this._getHeadingOrderLast();}if(!_h){var _k=this.parent._getSortedDecendants(this.parent,undefined,true);var _l=_k?_k.length:0;var _m=this.parent.components;if(_d==false&&(this.parent._is_frame||this._is_window)){_g=[null,this, -1];}else if(_e&&this._type_name=="Tabpage"){_g=[this.parent];}else if(_e&&this._checkContainerHeadingFocus()==true){_g=[this];}else if(this.parent._is_form&&_l>0){_g=this.parent._searchPrevHeadingFocus(this);}else{_h=this._getHeadingOrderLast();}}}else{if(!_b){if(this.parent._is_form){_g=this.parent._searchPrevTabFocus(this);}else{_g=null;}}if(!_g){_h=this._getTabOrderLast();if(!_h&&_g!==null){if(this.parent._is_form){_g=this.parent._searchPrevHeadingFocus(this);}else{_g=null;}}}}if(_h&&!_g){var _n=(_h._is_form?_h._getSortedDecendants(_h,undefined,true):null);var _o=_n?_n.length:0;if(_h._is_form&&_o>0){_g=_h._searchPrevHeadingFocus(null,true);}else{_g=[_h];}}return _g;};_pFormBase._processArrowKey=function(_a,_b){if(_b[0] instanceof nexacro.Form&&_b[0]._last_focused){var _d=this._getWindow();_d._removeFromCurrentFocusPath(_b[0]._last_focused);}var _c=2;if(!_a){_c=3;}_b[0]._setFocus(true,_c,false);if(application.accessibilityfirstovertext&&_b[0]==this._getTabOrderFirst()){var _e=_b[0];var _f=_e._getAccessibilityReadLabel()+" "+application.accessibilityfirstovertext;_e.getElement().notifyAccessibility(_f,"focus");}else if(application.accessibilitylastovertext&&_b[0]==this._getTabOrderLast()){var _e=_b[0];var _f=_e._getAccessibilityReadLabel()+" "+application.accessibilitylastovertext;_e.getElement().notifyAccessibility(_f,"focus");}};_pFormBase._processHotkey=function(_a,_b,_c,_d,_e){var _f=null;if(_e){_f=_e.parent;}var _g=this._getMainForm();var _h=_g?_g._hotkey_list:this._hotkey_list;for(var _j=0;_j<_h.length;_j++ ){var _k=_h[_j];if(_k[1]==_a&&_k[2]==_b&&_k[3]==_c&&_k[4]==_d){var _l=_k[0];if(_l.parent instanceof nexacro.Tabpage){if(_l.parent._index!=_l.parent.parent.tabindex){continue;}}if(_e&&_l&&_l.parent){if(_e.name!=_l.name||_e.parent.name!=_l.parent.name){var _m=false;for(var _n=(_j+1);_n<_h.length;_n++ ){if((_e.name==_h[_n][0].name&&_e.parent.name==_h[_n][0].parent.name)||(_h[_n][0].parent&&_e.parent==_h[_n][0].parent&&_h[_n][0].enable)){_j=(_n-1);_n=_h.length;_m=true;}}if(_m){continue;}}}if(!_l.enable){continue;}var _o=_l.parent;do{if(_o instanceof nexacro.FormBase){break;}_o=_o.parent;}while(_o)if(!_o.enable){return true;}_l._on_hotkey(_a,_b,_c,_d);return true;}}if(this._is_frame&&this._is_window&&(this._window_type==1||this._window_type==4)){return;}var _i=this.getOwnerFrame();if(_i){return _i._processHotkey(_a,_b,_c,_d);}};_pFormBase._appendBeforeCloseMsg=function(_a,_b){if(typeof (_b)=="boolean"){_b=nexacro._toString(_b);}if(_b===undefined||_b==""||_b===null){return _a;}if(_a===undefined||_a===null){_a="";}else if(_a!=""){_a+="\n";}return (_a+_b);};_pFormBase._checkAndConfirmClose=function(_a){if(_a===undefined||_a==""||_a===null){return true;}if(this._window&&this._window._ignore_close_confirm){return true;}return nexacro._confirm(this,_a);};_pFormBase._onResetScrollBar=function(){if(!this._is_scrollable){return;}var _a=this._control_element;if(_a){var _b=false;var _c=false;var _d=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _e=_d;var _f=_d;var _g=0;var _h=false;var _i=false;var _j=this._scrollbars;if(this.getStepCount()>0&&(_j==0||_j==1||_j==4||_j==16)){_j=2;}switch(_j){case 0:break;case 1:_h=true;_g=1;break;case 2:_i=true;_g=1;break;case 3:_h=true;_i=true;_g=1;break;case 4:_h=true;_g=2;break;case 8:_i=true;_g=2;break;case 12:_h=true;_i=true;_g=2;break;case 16:_h=true;_i=true;_g=31;break;case 32:_h=true;_i=true;_g=32;break;}if(_i&&!this.hscrollbar){this.hscrollbar=this._createHScrollBar(_d);if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(_a.client_width,_e);}_b=true;}else if(_i&&this.hscrollbar){if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(_a.client_width,_e);_a._hscroll_height=_e;}}else if(!_i&&this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}if(_h&&!this.vscrollbar){this.vscrollbar=this._createVScrollBar(_d);if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,_a.client_height);}_c=true;}else if(_h&&this.vscrollbar){if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,_a.client_height);_a._vscroll_width=_f;}}else if(!_h&&this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}_a.setScrollControls(this.hscrollbar,this.vscrollbar,_e,_f,_g);if(_b||this.getStepCount()>0){this.hscrollbar.createComponent();}if(_c){this.vscrollbar.createComponent();}if(_a._handle){if(this.hscrollbar&&!this.hscrollbar._is_created){this.hscrollbar.on_created();}if(this.vscrollbar&&!this.vscrollbar._is_created){this.vscrollbar.on_created();}}this._updateClientSize(_a);}};delete _pFormBase;nexacro.Form_Style=function(_a){nexacro.Style.call(this,_a);};var _pFormStyle=nexacro._createPrototype(nexacro.Style,nexacro.Form_Style);nexacro.Form_Style.prototype=_pFormStyle;eval(nexacro._createAlignAttributeEvalStr("_pFormStyle","stepalign"));eval(nexacro._createValueAttributeEvalStr("_pFormStyle","stepshowtype"));_pFormStyle.__custom_emptyObject=function(){this.stepalign=null;this.stepshowtype=null;};_pFormStyle.__get_custom_style_value=function(){var _a="";if(this.stepalign&&!this.stepalign._is_empty){_a+="stepalign:"+this.stepalign._value+"; ";}if(this.stepshowtype&&!this.stepshowtype._is_empty){_a+="stepshowtype:"+this.stepshowtype._value+"; ";}return _a;};nexacro.Form_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.stepalign=null;this.stepshowtype=null;};var _pFormCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Form_CurrentStyle);nexacro.Form_CurrentStyle.prototype=_pFormCurrentStyle;_pFormCurrentStyle.__custom_emptyObject=_pFormStyle.__custom_emptyObject;_pFormCurrentStyle.__get_custom_style_value=_pFormStyle.__get_custom_style_value;delete _pFormStyle;delete _pFormCurrentStyle;nexacro.Form=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.inheritanceid="";this.layout="";this.opener=null;this.resizebutton=null;this.statustext="";this.titletext="";this.classname="";this.cachelevel="";this.version="";this.layoutautofittype=undefined;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ontouch":1,"onvscroll":1,"onhscroll":1,"onactivate":1,"onbeforeclose":1,"onclose":1,"ondeactivate":1,"onsyscommand":1,"ontimer":1,"oninit":1,"onload":1,"canlayoutchange":1,"canstepchange":1,"onlayoutchanged":1,"onstepchanged":1,"ondevicebuttonup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1,"onorientationchange":1};this._url="";this._init_width=0;this._init_height=0;this._defaultbutton=null;this._escapebutton=null;this._accessibility_role="form";this._zoomFactor=undefined;this._autofittedZoomFactor=undefined;this._is_init=true;this._is_closing=false;};var _pForm=nexacro._createPrototype(nexacro.FormBase,nexacro.Form);nexacro.Form.prototype=_pForm;_pForm._type_name="Form";nexacro.Form_default_stepshowtype=nexacro._getCachedStyleObj("stepshowtype","always");_pForm.on_create_custom_style=function(){return new nexacro.Form_Style(this);};_pForm.on_create_custom_currentStyle=function(){return new nexacro.Form_CurrentStyle();};_pForm.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_stepalign(_a);if(_b.stepalign!=_c){_b.stepalign=_c;this.on_apply_style_stepalign(_c);}var _d=this.on_find_CurrentStyle_stepshowtype(_a);if(_b.stepshowtype!=_d){_b.stepshowtype=_d;this.on_apply_style_stepshowtype(_d);}};_pForm.on_apply_custom_css=function(_a){var _b=this.components;if(_b){for(var _c=0;_c<_b.length;_c++ ){var _d=_b[_c];_d.on_apply_prop_class(_d[_c],_a);}}};_pForm.on_find_CurrentStyle_stepalign=function(_a){var _b=this._find_pseudo_obj("stepalign",_a,"align");return _b?_b:nexacro.Component._default_step_align;};_pForm.on_find_CurrentStyle_stepshowtype=function(_a){var _b=this._find_pseudo_obj("stepshowtype",_a,"value");return _b||nexacro.Form_default_stepshowtype;};_pForm.on_update_style_stepalign=function(){var _a=this.on_find_CurrentStyle_stepalign(this._pseudo);this.currentstyle.stepalign=_a;this.on_apply_style_stepalign(_a);};_pForm.on_update_style_stepshowtype=function(){var _a=this.on_find_CurrentStyle_stepshowtype(this._pseudo);this.currentstyle.stepshowtype=_a;this.on_apply_style_stepshowtype(_a);};_pForm.on_apply_style_stepalign=function(_a){var _b=this.getElement();var _c=this.stepcontrol;if(_b&&_c){var _d=this._adjust_left;var _e=this._adjust_top;var _f=_c._getButtonSize();var _g=_c._getButtonAreaSize(_c.stepcount,_f);var _h=_a.halign;var _i=_a.valign;var _j,_k;switch(_h){case "left":_j=0;break;case "center":_j=(this._adjust_width-_g.width)/2;break;case "right":_j=this._adjust_width-_g.width;break;}switch(_i){case "top":_k=0;break;case "middle":_k=(this._adjust_height-_g.height)/2;break;case "bottom":_k=this._adjust_height-_g.height;break;}_c.move(_j,_k,_g.width,_g.height,null,null);}};_pForm.on_apply_style_stepshowtype=function(_a){var _b=this.stepcontrol;if(_b&&_a){var _c=_a.value;switch(_c){case "action":_b.set_visible(false);break;case "always":default:_b.set_visible(true);break;}}};_pForm.on_get_style_accessibility_label=function(){return this.titletext;};_pForm.on_get_prop_tabstop=function(){return this.tabstop;};_pForm.on_created=function(_a){var _b=nexacro.FormBase.prototype.on_created.call(this,_a);if(!nexacro._isDesktop()&&this.parent&&this.parent._is_frame&&this.parent.form==this){this._fitLayoutToParent();}return _b;};_pForm.on_update_position=function(_a,_b){var _c=this._control_element;if(_c){_c.setElementPosition(this._adjust_left,this._adjust_top);if(_a){var _d=this._calcScrollMaxSize();_c.container_maxwidth=_d.w;_c.container_maxheight=_d.h;}_c.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pForm.on_change_containerRect=function(_a,_b){var _c=false;var _d=this.components;if(nexacro.OS=="Android"&&this.vscrollbar&&this.vscrollbar.visible){_c=true;var _e;var _f;var _g=this._getLastFocused();var _h=this.getOffsetBottom();}for(var _i=0,_j=_d.length;_i<_j;_i++ ){var _k=_d[_i];var _l=_k.getElement();if(_l){if(_c&&_k instanceof nexacro.Edit){_e=_k.getOffsetBottom();_f=_e-_h;if(this.vscrollbar.pos<_f&&_h<_e&&_g==_k){this.vscrollbar.set_pos(_f);}}_k.move(_k.left,_k.top,_k.width,_k.height,_k.right,_k.bottom);}}if(this.stepcontrol){this._updateStepControlSize();}this._onRecalcScrollSize();};_pForm._on_load=function(_a,_b){if(!this._load_callbacklist){return;}var _c=this.parent;if(this.parent&&this.parent.form==this){_c=application;}if(_c&&_c._addLoadCallbacklist){var _d=this;var _e=_c._addLoadCallbacklist({target:_d,callback:_d._on_loadcallback,url:this.url});if(!_e){this._on_loadcallback(_a,_b);}}};_pForm._addLoadCallbacklist=function(_a){if(!this._is_loaded&&this._url&&this._url.length>0){if(!this.parent._load_callbacklist){this.parent._load_callbacklist=[];}this._load_callbacklist.push(_a);return true;}return false;};_pForm._on_loadcallback=function(_a,_b){var _c=this._load_callbacklist;var _d=_c.length;if(_d>0){for(var _h=0;_h<_d;_h++ ){var _i=_c[_h];var _j=_i.target;var _b=_i.url;if(_j._is_alive!=false){_i.callback.call(_j,_j,_b);}}_c.splice(0,_d);}if(this.binds){for(var _h=0;_h<this.binds.length;_h++ ){this.binds[_h].bind();}}this.on_fire_oninit(this);this.createComponent(true);var _e;if(!this._is_created){_e=this._getWindow();this.on_created(_e);}var _f=this.on_fire_onload(_a,_b);if(!(this instanceof nexacro.Tabpage)){this._on_activate();}var _g=this.parent;if(_g){if(_g._is_frame&&_g.form==this){_g._createdForm();application._notifyLoadforms(this);}else{if(!_e){_e=this._getRootWindow();}if(_e&&_e.frame&&_e.frame._activate==true){var _k=_e.getCurrentFocusPaths();if(_k&&nexacro._indexOf(_k,this)> -1){if(this instanceof nexacro.Tabpage){this._on_activate();}if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1){this._setFocus();this._playAccessibilityWholeReadLabel("wholeread");}else{this._on_focus(true);}}else if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1&&this instanceof nexacro.Div){this._playAccessibilityWholeReadLabel("wholeread");}}}}this._refreshAccessibilityValue();return _f;};_pForm.set_opener=nexacro._emptyFn;_pForm.set_inheritanceid=function(_a){};_pForm.set_layout=function(_a){};_pForm.set_statustext=function(_a){if(this.parent&&this.parent._is_frame){if(this.statustext!=_a){this.statustext=_a;this.parent._applyStatusText();}}};_pForm.set_titletext=function(_a){this._setAccessibilityLabel(_a);if(this.parent&&this.parent._is_frame){if(this.titletext!=_a){this.titletext=_a;this.parent._applyTitleText();}}};_pForm.set_classname=function(_a){return;if(this.classname!=_a){this.classname=_a;}};_pForm.set_cachelevel=function(_a){};_pForm.set_version=function(_a){;};_pForm.set_dragscrolltype=function(_a){var _b=["none","vert","horz","both","all"];if(this.dragscrolltype!=_a){if(nexacro._indexOf(_b,_a)>=0){this.dragscrolltype=_a;}else{}}};_pForm.set_layoutautofittype=function(_a){this.layoutautofittype=_a;};_pForm.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=this.components;for(var _c=0,_d=_b.length;_c<_d;_c++ ){var _e=_b[_c];_e._setEnable(_a);}};_pForm.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._control_element;if(_a){this.on_change_containerRect(_a.client_width,_a.client_height);}var _b=this.components;var _c=this._rtldirection;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _f=_b[_d];if(_f._is_form){_f.on_apply_prop_rtldirection(_c);}_f._setRtlDirection(_c);}};_pForm.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pForm.on_apply_locale=function(){var _a=this.components;for(var _b=0,_c=_a.length;_b<_c;_b++ ){var _d=_a[_b];_d._setLocale(this._locale);}};_pForm.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Component.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(application._quickview_mode&&_m!==true&&this.parent instanceof nexacro.ChildFrame){if(_l&&!_l._input_element){return nexacro._showQuickviewMenu(this,_e,_f);}}return _m;};_pForm.on_fire_oninit=function(_a){if(this._is_init&&this.oninit&&this.oninit._has_handlers){this._is_init=false;var _b=new nexacro.Event(_a,"oninit");return this.oninit._fireEvent(this,_b);}return true;};_pForm.on_fire_canstepchange=function(_a){if(this.canstepchange&&this.canstepchange._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"canstepchange",_a._prestepindex,_a._poststepindex);return this.canstepchange._fireCheckEvent(this,_b);}};_pForm.on_fire_onstepchanged=function(_a){if(this.onstepchanged&&this.onstepchanged._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"onstepchanged",_a._prestepindex,_a._poststepindex);return this.onstepchanged._fireEvent(this,_b);}};_pForm.on_fire_canlayoutchange=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.canlayoutchange&&this.canlayoutchange._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.canlayoutchange._fireCheckEvent(this,_i);}return true;};_pForm.on_fire_onlayoutchanged=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onlayoutchanged&&this.onlayoutchanged._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.onlayoutchanged._fireEvent(this,_i);}return true;};_pForm.on_fire_onbeforelayoutchange=function(_a,_b,_c,_d){if(this.onbeforelayoutchange&&this.onbeforelayoutchange._has_handlers){var _e=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d);return this.onbeforelayoutchange._fireEvent(this,_e);}return true;};_pForm.on_fire_onload=function(_a,_b){if(this.onload&&this.onload._has_handlers){this._bFireLoadEvent=true;var _c=new nexacro.LoadEventInfo(_a,"onload",_b);var _d=this.onload._fireEvent(this,_c);this._bFireLoadEvent=false;_c.destroy();_c=null;return _d;}return true;};_pForm.on_fire_ondevicebuttonup=function(_a,_b){if(this.ondevicebuttonup&&this.ondevicebuttonup._has_handlers){var _c=new nexacro.DeviceButtonEventInfo(_a,_b);return this.ondevicebuttonup._fireEvent(this,_c);}return true;};_pForm._on_devicebuttonup=function(_a){var _b=this.on_fire_ondevicebuttonup(this,_a);if(!_b&&this.parent&&this.parent instanceof nexacro.Form){return this.parent._on_devicebuttonup(_a);}return _b;};_pForm.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}var _g=_f;if(!_g){_g=this.getFocus();}if(!_g){_g=this;}if(_g){_g=_g._getRootComponent(_g);}var _h=_g._getDlgCode(_a,_b,_c,_d);if(_a==nexacro.Event.KEY_TAB){if(_h.want_tab==false){var _j;if(nexacro._enableaccessibility){var _i=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);}if(!_d){_j=this._searchNextTabFocus(this._last_focused,undefined,undefined,false);}else{_j=this._searchPrevTabFocus(this._last_focused,undefined,undefined,false);}if(_j&&_j[0]){if(_j[0] instanceof nexacro.Form&&_j[0]._last_focused){var _k=this._getWindow();_k._removeFromCurrentFocusPath(_j[0]._last_focused);}_j[0]._setFocus(true,(!_d?0:1),true);}else if(_j&&_j[2]== -1){var _l=this._last_focused;if(_l){_l.getElement().notifyAccessibility(application.accessibilityfirstovertext);}}else if(_j&&_j[2]==1){var _l=this._last_focused;if(_l){_l.getElement().notifyAccessibility(application.accessibilitylastovertext);}}var _m=this._getRootWindow();if(_m._keydown_element){_m._keydown_element._event_stop=true;}return true;}}else if(_a==nexacro.Event.KEY_RETURN){if(_h.want_return==false){if(this instanceof nexacro.Form){var _n=_g._isPopupVisible();if(!_n&&this._defaultbutton&&this._defaultbutton.enableevent&&this._defaultbutton._isEnable()){this._defaultbutton.click();}}}}else if(_a==nexacro.Event.KEY_ESC){if(nexacro._stopTransaction(this,1)<=0&&_h.want_escape==false){if(this instanceof nexacro.Form){if(this._escapebutton&&this._escapebutton.enableevent&&this._escapebutton._isEnable()){this._escapebutton.click();}}}}else if(nexacro._enableaccessibility&&_a==nexacro.Event.KEY_DOWN){if(_h.want_arrows==false){var _i=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);var _j=this._searchNextTabFocus(this._last_focused,undefined,undefined,true);if(_j&&_j[0]){if(_j[0] instanceof nexacro.Form&&_j[0]._last_focused){var _k=this._getWindow();_k._removeFromCurrentFocusPath(_j[0]._last_focused);}_j[0]._setFocus(true,2,true);}var _m=this._getRootWindow();_m._keydown_element._event_stop=true;return true;}}else if(nexacro._enableaccessibility&&_a==nexacro.Event.KEY_UP){if(_h.want_arrows==false){var _i=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);var _j=this._searchPrevTabFocus(this._last_focused,undefined,undefined,true);if(_j&&_j[0]){if(_j[0] instanceof nexacro.Form&&_j[0]._last_focused){var _k=this._getWindow();_k._removeFromCurrentFocusPath(_j[0]._last_focused);}_j[0]._setFocus(true,3,true);}var _m=this._getRootWindow();_m._keydown_element._event_stop=true;return true;}}var _i=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,_f);if(!this.onkeydown||(this.onkeydown&&!this.onkeydown.defaultprevented)){if(_a==nexacro.Event.KEY_LEFT||_a==nexacro.Event.KEY_RIGHT){if(this.hscrollbar&&this.hscrollbar.visible&&_c==true){if(_h.want_arrows==false){var _o=this.hscrollbar.line;if(_o<=0){_o=this.hscrollbar._linedown;}if(_a==nexacro.Event.KEY_LEFT){_o*= -1;}this.hscrollbar.set_pos(this.hscrollbar.pos+_o);return true;}}}else if(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN){if(this.vscrollbar&&this.vscrollbar.visible&&_c==true){if(_h.want_arrows==false){var _o=this.vscrollbar.line;if(_o<=0){_o=this.vscrollbar._linedown;}if(_a==nexacro.Event.KEY_UP){_o*= -1;}this.vscrollbar.set_pos(this.vscrollbar.pos+_o);return true;}}}}return _i;};_pForm._on_activate=function(){if(!this.parent){return;}var _a=this.getOwnerFrame();if(!_a||!_a._activate){return;}nexacro.FormBase.prototype._on_activate.call(this);};_pForm._on_deactivate=function(){if(!this.parent){return;}var _a=this.getOwnerFrame();if(!_a||!_a._activate){return;}nexacro.FormBase.prototype._on_deactivate.call(this);};_pForm.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementVScrollPos(_b.pos);}return true;};_pForm.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementHScrollPos(_b.pos);}return true;};_pForm._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);};_pForm.on_fire_onorientationchange=function(_a){if(this.onorientationchange&&this.onorientationchange._has_handlers){var _b=new nexacro.OrientationChangeEventInfo(this,"onorientationchange",_a);this.onorientationchange._fireEvent(this,_b);}};_pForm.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this._getWindow();var _e=_c;var _f=null;if(!_e){_e=this.getFocus();}if(!_e){_e=this;}if(_e){_e=_e._getRootComponent(_e);}if(!_a){_f=this._searchPrevTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,true);var _g=_d._accessibility_last_focused_comp;while(_f&&_f[0]&&_f[0]._is_form){if(_f[0]==this){var _h=_f[0].parent._searchPrevTabFocus(_f[0],undefined,undefined,true);}if(_h&&_h[0]){if(_f[0]==_h[0]){_f=_h;break;}_f=_h;}else{break;}}}else{_f=this._searchNextTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,true);while(_f&&_f[0]&&_f[0]._is_form){var _i=this._getSortedDecendants(_f[0],undefined,true);var _j=_i?_i.length:0;if(_j==0){break;}var _h=this._searchNextTabFocus(_f[0],undefined,undefined,true);if(_f[0]==_h[0]){_f=_h;break;}_f=_h;}}if(_f&&_f[0]){_f[0]._setAccessibilityNotifyEvent(_a);return true;}return false;};_pForm.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}_b.parent=this;_b._refform=this;this[_a]=_b;this.all.add_item(_a,_b);_b.id=_a;if(this.visible&&!this._real_visible){_b._real_visible=false;}else{_b._real_visible=this.visible;}if(_b._is_component){_c=this.components.add_item(_a,_b);this._child_list.push(_b);if(_b._is_alive&&_b._is_created&&this._is_created){this._control_element.appendChildElement(_b.getElement());}_b._setRtlDirection(this._rtldirection);}else if(_b instanceof nexacro.BindItem){_c=this.binds.add_item(_a,_b);}else{_c=this.objects.add_item(_a,_b);}return _c;};_pForm.resetScroll=function(){this._onRecalcScrollSize();this._onResetScrollBar();};_pForm.close=function(_a){if(this._is_closing){return;}this._is_closing=true;if(!this.parent||!this.parent._is_frame){return;}this.setWaitCursor(false,null);var _b=this.parent;var _c=_b._on_beforeclose();if(_b._checkAndConfirmClose(_c)==false){this._is_closing=false;return false;}if(_b._window){_b._window._ignore_close_confirm=true;}_b._on_close();if(typeof (_a)=="object"){_a=null;}if(this.parent){this.parent._closeForm(_a);}this._is_closing=false;};_pForm.getFirstComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderFirst(false,false);if(_a){if(_b._is_form){return _b._getTabOrderFirst(false,false);}}return _b;};_pForm.getLastComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderLast(false,false);if(_a){if(_b._is_form){return _b._getTabOrderLast(false,false);}}return _b;};_pForm.getNextComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=_a.parent;var _d=_c._getTabOrderNext(_a,1,false,false);if(_d==undefined){_d=_c.getFirstComponent(_b,false,false);}if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a,1,false,false);if(_e){return _e;}_e=_d._getTabOrderFirst(false,false);if(_e){return _e;}}}return _d;};_pForm.getPrevComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=_a.parent;var _d=_c._getTabOrderNext(_a, -1,false,false);if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a, -1,false,false);if(_e){return _e;}_e=_d._getTabOrderLast(false,false);if(_e){return _e;}}}return _d;};_pForm.getFirstAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderFirst(true,false);if(!_b._isAccessibilityEnable()){_b=this.getNextAccessibilityComponent(_b,_a);}if(_a){if(_b._is_form){return _b._getTabOrderFirst(true,false);}}return _b;};_pForm.getLastAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderLast(true,false);if(!_b._isAccessibilityEnable()){_b=this.getPrevAccessibilityComponent(_b,_a);}if(_a){if(_b._is_form){return _b._getTabOrderLast(true,false);}}return _b;};_pForm.getNextAccessibilityComponent=function(_a,_b){if(_b!==true){_b=false;}if(_a){var _c=_a.parent;var _d=_c._getTabOrderNext(_a,1,true,false);if(_d==undefined&&!nexacro._enableaccessibility){_d=_c.getFirstComponent(_b);}if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a,1,true,false);if(_e){return _e;}_e=_d._getTabOrderFirst(true,false);if(_e){return _e;}}}return _d;}return undefined;};_pForm.getPrevAccessibilityComponent=function(_a,_b){if(_b!==true){_b=false;}if(_a){var _c=_a.parent;var _d=_c._getTabOrderNext(_a, -1,true,false);if(_d==undefined&&!nexacro._enableaccessibility){_d=_c.getLastComponent(_b);}if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a, -1,true,false);if(_e){return _e;}_e=_d._getTabOrderLast(true,false);if(_e){return _e;}}}return _d;}return undefined;};_pForm.getNextEditableComponent=function(_a,_b,_c){if(_c!==true){_c=false;}if(_a){var _d=_a.parent;var _e=_d._getTabOrderNext(_a,1,false,true,_b,undefined,_c);if(_e==undefined){_e=_d._getTabOrderNext(_a,1,false,true,"All",undefined,_c);}if(_e==undefined){_e=_d.getFirstEditableComponent(_b,_c);}return _e;}return undefined;};_pForm.getPrevEditableComponent=function(_a,_b,_c){if(_c!==true){_c=false;}if(_a){var _d=_a.parent;var _e=_d._getTabOrderNext(_a, -1,false,true,_b,undefined,_c);if(_e==undefined){_e=_d._getTabOrderNext(_a, -1,false,true,"All",undefined,_c);}if(_e==undefined){_e=_d.getLastEditableComponent(_b,_c);}return _e;}return undefined;};_pForm.getFirstEditableComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=this._getTabOrderFirst(false,true,_a,_b);if(!_c){_c=this._getTabOrderFirst(false,true,"All",_b);}return _c;};_pForm.getLastEditableComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=this._getTabOrderLast(false,true,_a,_b);if(!_c){_c=this._getTabOrderLast(false,true,"All",_b);}return _c;};_pForm._getNextHeadingComponent=function(_a){var _b=this._searchNextHeadingFocus(_a);if(_b){return _b[0];}};_pForm._getPrevHeadingComponent=function(_a){var _b=this._searchPrevHeadingFocus(_a);if(_b){return _b[0];}};_pForm.getFocus=function(){var _a=this._find_lastFocused();if(_a==null){return this;}return _a;};_pForm.getZoom=function(){var _a=this._control_element;if(_a&&_a.getZoom){return (this._zoomFactor!==undefined)?this._zoomFactor:_a.getZoom();}return 100;};_pForm.setZoom=function(_a){var _b=this.getZoom();if(typeof _a=="string"&&_a.charAt(_a.length-1)=="%"){_a=_a.slice(0,_a.length-1);}_a=parseFloat(_a);var _c=this._control_element;if(_c){this._zoomFactor=_a;_c.container_maxwidth=0;_c.container_maxheight=0;_c.setElementScrollMaxSize(0,0);this._client_width=0;this._client_height=0;this._updateClientSize(_c);_c.setZoom(_a);nexacro._applyZoomEdge(_c,_a);var _d=application._current_popups;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(this._contains(_d[_f])){_d[_f].parent._applyZoomPopup();}}}return _b;};_pForm.go=function(_a){if(this._url!=_a){if(this._url!=""){var _b=this._on_beforeclose();if(this._checkAndConfirmClose(_b)==false){return;}this._on_close();}this._url=_a;this._base_url=nexacro._getBaseUrl(_a);this._apply_formurl();}};_pForm.hasPopupFrame=function(){return false;};_pForm.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return  -1;}if(!_c){return  -1;}if(this[_b]){return  -1;}_c.parent=this;_c._refform=this;this[_b]=_c;this.all.add_item(_b,_c);_c.id=_b;if(_c._is_component){ret=this.components.insert_item(_a,_b,_c);this._child_list.push(_c);}else if(_c instanceof nexacro.BindItem){ret=this.binds.insert_item(_a,_b,_c);}else{ret=this.objects.insert_item(_a,_b,_c);}return ret;};_pForm.isValidObject=function(_a){if(typeof _a=="string"){if(this[_a]){return true;}}else if(_a instanceof Object){var _b=this.all.length;for(var _c=0;_c<_b;_c++ ){if(this.all[_c]==_a){return true;}}}else{if(nexacro._indexOf(this.all,_a)> -1){return true;}}return false;};_pForm.killTimer=function(_a){this._timerManager.deleteTimer(_a);};_pForm.setTimer=function(_a,_b){var _c=new nexacro.EventTimer(this,_a,_b);_c.start();};_pForm.loadStyle=function(_a,_b){if((typeof (_a)!="string")||_a.length==0){return;}_b=_b==false?false:true;var _c=true;if(_b){_c=false;}this._clearCssInfo(_c);var _d=this._base_url;var _e=[];_e.push(application._getServiceLocation(_a,_d));_e.push(".js");var _f=application._getServiceObject(_a);this._load_manager.reloadCssModule(_e.join(""),null,false,_f);this._apply_formstyle(this);};_pForm.reload=function(){var _a=this._getRootWindow();_a._removeFromCurrentFocusPath(this._last_focused,true);var _a=this._getWindow();_a.clearCurrentFocusPaths();this._last_focused=null;this._url=this.parent._formurl;this._base_url=nexacro._getBaseUrl(this._url);this._zoomFactor=100;this._apply_formurl();};_pForm.removeChild=function(_a){if(!_a||_a.length<=0){return null;}if(!this[_a]){return null;}var _b=this[_a];if(_b._is_component){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)> -1);}if(this._defaultbutton==_b){this._defaultbutton=null;}if(this._escapebutton==_b){this._escapebutton=null;}if(this._is_alive&&_b._control_element){_b._control_element._removeFromContainer();}if(this._bind_manager){this._bind_manager._dettachSBindItem(_b);}if(this._overedobj==_b){this._overedobj=null;}this.components.delete_item(_a);var _e=nexacro._indexOf(this._child_list,_b);if(_e> -1){this._child_list.splice(_e,1);}if(_c&&this._is_alive){if(_b instanceof nexacro.Form){_b._on_deactivate();}_d._removeFromCurrentFocusPath(_b,true);_d._last_focused_elem=this._control_element;this._on_focus(true);}}else if(_b instanceof nexacro.BindItem){this._bind_manager._setBinditem(_b,true);this.binds.delete_item(_a);}else{this.objects.delete_item(_a);}_b.parent=null;delete this[_a];this.all.delete_item(_a);_b.id=null;return _b;};_pForm.setWaitCursor=function(_a,_b){var _c=_a;var _d=_b;if(_c==undefined){_c=true;}if(_d==undefined){_d=false;}if(!_d&&!application.usewaitcursor){return;}var _e=this._getWindow();if(_e){if(_a||application._com_waiting){_e._cancelEvent();}}this._waitCursor(_c,null);};_pForm.sleep=function(_a){var _b=new Date().getTime();var _c=_b;while((_c-_b)<_a){_c=new Date().getTime();}};_pForm.transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this._getWindow();if(_j){var _m=_j._cur_ldown_elem||_j._keydown_element;var _n=_j.findComponent(_m,0,0);if(_n&&_n[0]){var _o=_n[0]._getRootComponent(_n[0]);_o._cancelEvent(_n[0]);}}var _k=application._getServiceLocation(_b,this._base_url);var _l=application._getServiceObject(_b,true);this._load_manager.loadDataModule(_k,_a,_c,_d,_e,_f,_g,_h,_i,_l);};_pForm.cancelTransaction=function(_a){if(!this._load_manager){return  -1;}var _b=this._load_manager.dataList;if(!_b){return  -1;}var _c=0;if(_a!=undefined){var _d=(typeof _a=="string")?_a.split(","):_a;if(_d.length>0){var _e=[];for(var _f=0;_f<_b.length;_f++ ){_e[_f]=_b[_f].url;}var _g=[];for(var _h=0;_e.length>_h;_h++ ){var _i=false;for(var _j=0;_d.length>_j;_j++ ){if(_d[_j]==_e[_h]){_i=true;break;}}if(!_i){_g.push(_e[_h]);}}for(var _h=_g.length-1;_h>=0;_h-- ){for(var _j=_b.length-1;_j>=0;_j-- ){if(_b[_j].url==_g[_h]){_b=nexacro._removedatalist(_b,_j);}}}}}this._stopTransaction(true);};_pForm.updateWindow=function(){};_pForm.getStepCount=function(){var _a=this.stepcontrol;if(_a){return _a.stepcount;}};_pForm.setStepIndex=function(_a){var _b=this.stepcontrol;if(_b){return _b.set_stepindex(_a);}};_pForm.applyChange=function(){var _a=this._last_focused;if(!_a){return;}_a.applyto_bindSource("value",_a.value);var _b=this.binds;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=_b[_d];if(_e._comp==_a&&_e.propid=="value"){this._bind_manager._notify(_e);return;}}};_pForm._setFormPosition=function(_a,_b,_c,_d){this._init_width=_c;this._init_height=_d;};_pForm._resetScrollPos=function(_a,_b,_c,_d,_e,_f){if(this._is_frame||!this._control_element){return;}var _g=this.hscrollbar;var _h=this.vscrollbar;var _i,_j;_i=this._client_width;_j=this._client_height;var _k=0;var _l=0;if(_g&&_g.visible){_k=_g.pos;if(_b-_k<_i&&_d-_k>_i){if(_f==1&&_d-_b>_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}else if(_k>_b){if(_f==1&&_d-_b>_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}else if(_b-_k>_i){if(_f==1&&_d-_b>_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}_k=_g.pos;}if(_h&&_h.visible){_l=_h.pos;if(_c-_l<_j&&_e-_l>_j){if(_f==1&&_e-_c>_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}else if(_l>_c){if(_f==1&&_e-_c>_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}else if(_c-_l>_j){if(_f==1&&_e-_c>_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}_l=_h.pos;}_b=this._adjust_left+_b-_k;_c=this._adjust_top+_c-_l;_d=this._adjust_left+_d-_k;_e=this._adjust_top+_e-_l;if(!this._is_popup_control&&this.parent&&this.parent!=this){this.parent._resetScrollPos(this,_b,_c,_d,_e,_f);}};_pForm._setDragMove=function(_a,_b){this._is_track=_a;if(_a&&_b){this._hittest_type="caption";}else{this._hittest_type="none";}if(this._control_element){this._control_element.setElementHittestType(this._hittest_type);}};_pForm._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.getOwnerFrame();if(_a){_a._on_titlebar_starttrack();}};_pForm._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_endtrack(_a,_b,_c);}};_pForm._on_movetrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_movetrack(_a,_b,_c);}};_pForm._setSize=function(_a,_b){var _c=this.getElement();var _d=this._adjust_width;var _e=this._adjust_height;var _f=this._adjust_left;var _g=this._adjust_top;if(_d!=_a||_e!=_b){var _h=false;if(_d==0||_e==0){_h=true;}this.width=this._adjust_width=_a;this.height=this._adjust_height=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._layout_list&&this._layout_list.length>0){var _i=this._checkValidLayout();if(_i){_c=_i._form.getElement();if(_c){_c.setElementSize(_a,_b);this._updateClientSize(_c);}}}this.on_update_position(true,false);if(_c&&_h){this.currentstyle._empty();this._control_pseudo="";var _j=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_c,_j);this._updateContents(_c,_j);}}};_pForm._stopTransaction=function(_a){if(!this._load_manager){return  -1;}var _b=this._load_manager.dataList;if(!_b){return  -1;}var _c=this._load_manager.transactionList;var _d=0;var _e=_b.length;var _f=0;while(_d<_b.length){var _g=_b[_d];if(!_g){_d++ ;continue;}var _h=_g._handle;if(!_h){_d++ ;continue;}if(_g._is_cancel||_g._is_process){_d++ ;_e=_b.length;continue;}if(!_a){_h._user_aborted=false;var _i=_c[_d];if(_i){var _j=_i.on_error( -1,"comm_stop_transaction_byesc",nexacro._communicationStatusTable["stop"],"");if(_j){_g._is_process=true;_h._user_aborted=undefined;_d++ ;continue;}}}_h._user_aborted=true;_g._is_cancel=true;if(nexacro.Browser=="Runtime"){nexacro._cancelLoad(_h);}else{nexacro._cancelLoad(_h);_i.on_error(0,"comm_cancel_byuser");_h=null;_g=null;}_f++ ;if(_e==_b.length){_d++ ;}else{_d=0;_e=_b.length;}}return _f;};_pForm._onRecalcScrollSize=function(_a){var _b=this._control_element;if(this._is_scrollable&&_b){var _c=0,_d=0;if(!_a){var _e=this.components;var _f=this.getZoom()/100;var _g=this._client_width/_f;var _h=this._client_height/_f;for(var _i=0,_j=_e.length;_i<_j;_i++ ){var _k=_e[_i];if(_k&&_k.visible){var _l=_k.getOffsetRight();var _m=_k.getOffsetBottom();var _n=1;if(_k.right){var _o=_k.right;if(typeof (_o)=="string"&&_o.indexOf("%")>=0){if(parseFloat(_o)>=0){_n=0;}}else{if(parseInt(_o)>=0){_n=0;}}}if(_n){_c=Math.max(_c,_l);}var _p=1;if(_k.bottom){var _o=_k.bottom;if(typeof (_o)=="string"&&_o.indexOf("%")>=0){if(parseFloat(_o)>=0){_p=0;}}else{if(parseInt(_o)>=0){_p=0;}}}if(_p){_d=Math.max(_d,_m);}}}if(_g||_h){if(_g<= -1){_c= -1;}if(_h<= -1){_d= -1;}}_b.setElementScrollMaxSize(_c,_d);}else if(_a.visible){var _q=_b.container_maxwidth;var _r=_b.container_maxheight;var _s=_a.getOffsetRight();var _t=_a.getOffsetBottom();if(_q<_s||_r<_t){_c=Math.max(_q,_s);_d=Math.max(_r,_t);_b.setElementScrollMaxSize(_c,_d);}}}};_pForm._calcScrollMaxSize=function(){var _a=this._control_element;if(this._is_scrollable&&_a){var _b=0,_c=0;var _d=this.components;for(var _e=0,_f=_d.length;_e<_f;_e++ ){var _g=_d[_e];if(_g&&_g.visible){var _h=_g._getFixedOffsetValue();_b=Math.max(_b,_h.right);_c=Math.max(_c,_h.bottom);}}return {w:_b,h:_c};}return {w: -1,h: -1};};_pForm._dragEnd=function(_a){var _b=this.getElement();if(_b){var _c=this.stepcontrol;if(_c){var _d=_b._step_count;var _e=_b._step_index;var _f=_a.direction;if(_d>0){var _g= -1;if(_f=="L"){_g=_e+1;}else if(_f=="R"){_g=_e-1;}if(_g<0||_g>=_d){return;}_c.set_stepindex(_g);}}}};_pForm._getDefaultButton=function(){var _a=this.components;if(_a){var _b;for(var _c=0;_c<_a.length;_c++ ){_b=_a[_c];if(_b._is_form){var _d=_b._getDefaultButton();if(_d){return _d;}}else if(nexacro._toBoolean(_b.defaultbutton)){return _b;}}}return null;};_pForm._getEscapeButton=function(){var _a=this.components;if(_a){var _b;for(var _c=0;_c<_a.length;_c++ ){_b=_a[_c];if(_b._is_form){var _d=_b._getEscapeButton();if(_d){return _d;}}else if(nexacro._toBoolean(_b.escapebutton)){return _b;}}}return null;};_pForm._getLayoutAutofitType=function(){var _a=this.layoutautofittype;if(_a===undefined){_a=application.layoutautofittype;}return _a;};_pForm._fitLayoutToParent=function(){var _a=this.getElement();if(this._getLayoutAutofitType()=="width"&&_a){var _b=this._init_width;if(this._current_layout_name!="default"){var _c=application.getLayoutManager().getCurrentLayout(this);_b=parseInt(_c.width);}if(_b!=0){var _d=this.vscrollbar&&this.vscrollbar._isVisible();var _e=this.hscrollbar&&this.hscrollbar._isVisible();var _f=_a.client_width;var _g=_f*100/_b;this.setZoom(_g);var _h=this.vscrollbar&&this.vscrollbar._isVisible();var _i=this.hscrollbar&&this.hscrollbar._isVisible();if((!_e&&_i)||(_d&&!_h)){_f=_a.client_width;_g=_f*100/_b;this.setZoom(_g);}this._autofittedZoomFactor=_g;}}};_pForm._apply_formurl=function(){this._clear();if(this._url){this.loadForm(this._url,true,true);this.set_visible(true);}};_pForm._apply_formstyle=function(_a){for(var _b=0;_b<_a.components.length;_b++ ){var _c=_a.components[_b];if(_c){_c.currentstyle._empty();_c._control_pseudo="";_c._contents_pseudo="";_c._css_finder=null;_c._ref_css_finder=null;if(_c._is_form){_c.on_apply_pseudo("");this._apply_formstyle(_c);}else{_c.on_apply_pseudo("");}}}this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo("");};_pForm._apply_stepcount=function(){var _a=this.stepcontrol;if(_a){this._on_prepare_stepcontents(_a._prestepcount,_a._prestepindex,_a.stepcount,_a.stepindex);this._on_refresh_stepcontents(_a._prestepcount,_a._prestepindex,_a.stepcount,_a.stepindex);}};_pForm._getAccessibilityWholeReadLabel=function(){var _a="";var _b=this._getSortedDecendants(this,true,true);for(var _c=0;_c<_b.length;_c++ ){comp=_b[_c];if(comp._isAccessibilityEnable()){var _d=comp._getAccessibilityReadLabel(true);if(_d){_d.trim();if(_d&&_d.length>0){_a+=_d+" ";}}}}return _a;};_pForm._playAccessibilityWholeReadLabel=function(_a){var _b=this.getElement();if(_b){var _c=this._getAccessibilityWholeReadLabel();_b.notifyAccessibility(_c,_a);}};delete _pForm;}if(!nexacro.TitleBar){nexacro.TitleBar_Style=function(_a){this.icon=null;this._target=_a||null;};var _pTitleBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.TitleBar_Style);nexacro.TitleBar_Style.prototype=_pTitleBarStyle;eval(nexacro._createValueAttributeEvalStr("_pTitleBarStyle","icon"));_pTitleBarStyle.__custom_emptyObject=function(){this.icon=null;};_pTitleBarStyle.__get_custom_style_value=function(){var _a="";if(this.icon&&!this.icon._is_empty){_a+="icon:"+this.icon._value+"; ";}return _a;};nexacro.TitleBar_CurrentStyle=function(){this.icon=null;};var _pTitleBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.TitleBar_CurrentStyle);nexacro.TitleBar_CurrentStyle.prototype=_pTitleBarCurrentStyle;_pTitleBarCurrentStyle.__custom_emptyObject=_pTitleBarStyle.__custom_emptyObject;_pTitleBarCurrentStyle.__get_custom_style_value=_pTitleBarStyle.__get_custom_style_value;delete _pTitleBarStyle;delete _pTitleBarCurrentStyle;nexacro.TitleBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.minbutton=null;this.normalbutton=null;this.maxbutton=null;this.closebutton=null;this._state_openstatus=0;if(_i&&_i._is_frame&&_i._is_window){this._is_track=false;}else{this._is_track=true;}this._icon_elem=null;this._text_elem=null;this._titletext="";this._is_verticalmin=false;this._absolute_style=0;this._iconwidth=0;this._iconheight=0;this._is_scrollable=false;this._is_nc_control=true;this._is_focus_accept=false;};var _pTitleBar=nexacro._createPrototype(nexacro.Form,nexacro.TitleBar);nexacro.TitleBar.prototype=_pTitleBar;_pTitleBar._type_name="TitleBar";nexacro.TitleBar._default_align=nexacro.Component._default_left_align;nexacro.TitleBar._default_icon=null;_pTitleBar.on_create_custom_style=function(){return new nexacro.TitleBar_Style(this);};_pTitleBar.on_create_custom_currentStyle=function(){return new nexacro.TitleBar_CurrentStyle();};_pTitleBar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_icon(_a);if(_e!=_b.icon){_b.icon=_e;this.on_apply_style_icon(_e);}var _f=this.on_find_CurrentStyle_padding(_a);if(_b.padding!=_f){_b.padding=_f;this.on_apply_style_padding(_f);}var _g=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_g!=_b.rtlimagemirroring){_b.rtlimagemirroring=_g;this.on_apply_style_rtlimagemirroring(_g);}};_pTitleBar.on_find_CurrentStyle_icon=function(_a){var _b=this._find_pseudo_obj("icon",_a,"value");return _b?_b:nexacro.TitleBar._default_icon;};_pTitleBar.on_update_style_icon=function(){this.on_apply_style_icon(this.currentstyle.icon=this.on_find_CurrentStyle_icon(this._pseudo));};_pTitleBar.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);if(this._control_element){this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);}};_pTitleBar.on_apply_style_padding=function(_a){if(this._control_element){this._control_element.setElementPadding(_a);}};_pTitleBar.on_apply_style_icon=function(_a){if(this._icon_elem){var _b=this.getOwnerFrame();if(_b&&_b.currentstyle.icon&&!_b.currentstyle.icon._is_empty){_a=_b.currentstyle.icon;}if(_a==null){_a=this.currentstyle.icon;}var _c=nexacro._getImageSize(_a.value,this._on_loadicon,this,this._getRefFormBaseUrl());if(_c){if((_c.width>0)&&(_c.height>0)){this._iconwidth=_c.width;this._iconheight=_c.height;}}if(_b.showtitleicon==false){this._icon_elem.setElementImageUrl("");}else{this._icon_elem.setElementImageUrl(_a.value);}this._updateControlPosition();}};_pTitleBar.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pTitleBar.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pTitleBar.on_apply_style_align=function(_a){if(this._text_elem){this._text_elem.setElementAlign(_a);}};_pTitleBar.on_apply_style_rtlimagemirroring=function(_a){var _b=this._control_element;var _c=this._img_elem;if(this.minbutton){this.minbutton.on_apply_style_rtlimagemirroring(_a);}if(this.maxbutton){this.maxbutton.on_apply_style_rtlimagemirroring(_a);}if(this.normalbutton){this.normalbutton.on_apply_style_rtlimagemirroring(_a);}if(this.closebutton){this.closebutton.on_apply_style_rtlimagemirroring(_a);}};_pTitleBar.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.getOwnerFrame();var _c=this.currentstyle;var _d=this._icon_elem=new nexacro.AlignImageElement(_a);_d.setElementAlignXY("center","middle");var _e=this._text_elem=new nexacro.TextBoxElement(_a);if(this._titletext){_e.setElementText(this._titletext);}_e.setElementAlign(_c.align?_c.align:nexacro.TitleBar._default_align);_e.setElementFont(_c.font);_e.setElementColor(_c.color);var _f=this.minbutton=new nexacro.ImageButtonCtrl("minbutton","absolute",0,0,0,0,null,null,this);var _g=this.maxbutton=new nexacro.ImageButtonCtrl("maxbutton","absolute",0,0,0,0,null,null,this);var _h=this.normalbutton=new nexacro.ImageButtonCtrl("normalbutton","absolute",0,0,0,0,null,null,this);var _i=this.closebutton=new nexacro.ImageButtonCtrl("closebutton","absolute",0,0,0,0,null,null,this);_h.set_visible(false);if(_b){_f._setEventHandler("onclick",_b.on_minbutton_click,_b);_g._setEventHandler("onclick",_b.on_maxbutton_click,_b);_h._setEventHandler("onclick",_b.on_normalbutton_click,_b);_i._setEventHandler("onclick",_b.on_closebutton_click,_b);this._setEventHandler("ondblclick",_b._on_titlebar_dblclick,_b);}var _j;if(_b&&_b.currentstyle.icon&&!_b.currentstyle.icon._is_empty){_j=_b.currentstyle.icon;}else{_j=this.currentstyle.icon;}if(_j){var _k=nexacro._getURIValue(_j._value);_k=nexacro._getImageLocation(_k,this._getRefFormBaseUrl());if(_b.showtitleicon!=false){_d.setElementImageUrl(_j.value);}var _l=nexacro._getImageSize(_k,this._on_loadicon,this,this._getRefFormBaseUrl());if(_l){if((_l.width>0)&&(_l.height>0)){this._iconwidth=_l.width;this._iconheight=_l.height;if(this._icon_elem){this._updateControlPosition(this._client_width,this._client_height);}var _m=this.parent;if(_m&&_m._is_window){var _n=_m._getWindow();if(_n){nexacro._setWindowHandleIcon(_n._handle,_k);}}}}}this._updateControlPosition(this._client_width,this._client_height);_f.createComponent();_g.createComponent();_h.createComponent();_i.createComponent();}};_pTitleBar.on_created_contents=function(){this._icon_elem.create();this._text_elem.create();this.minbutton.on_created();this.maxbutton.on_created();this.normalbutton.on_created();this.closebutton.on_created();if(this._pseudo){var _a=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);this.on_apply_style_rtlimagemirroring(_a);}};_pTitleBar.on_destroy_contents=function(){var _a=this._icon_elem;var _b=this._text_elem;var _c=this.minbutton;var _d=this.maxbutton;var _e=this.normalbutton;var _f=this.closebutton;if(_a){_a.destroy();this._icon_elem=null;}if(_b){_b.destroy();this._text_elem=null;}if(_c){_c.destroy();this.minbutton=null;}if(_d){_d.destroy();this.maxbutton=null;}if(_e){_e.destroy();this.normalbutton=null;}if(_f){_f.destroy();this.closebutton=null;}};_pTitleBar.on_change_containerRect=function(_a,_b){this._updateControlPosition(_a,_b);};_pTitleBar.set_titletext=function(_a){this._titletext=_a;if(this._text_elem){this._text_elem.setElementText(_a);}};_pTitleBar.on_minbutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_minbutton_click(_a,_b);}};_pTitleBar.on_maxbutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_maxbutton_click(_a,_b);}};_pTitleBar.on_normalbutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_normalbutton_click(_a,_b);}};_pTitleBar.on_closebutton_click=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c.on_closebutton_click(_a,_b);}};_pTitleBar._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.getOwnerFrame();if(_a){_a._on_titlebar_starttrack();}};_pTitleBar._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_endtrack(_a,_b,_c);}};_pTitleBar._on_movetrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_movetrack(_a,_b,_c);}};_pTitleBar._on_loadicon=function(_a,_b,_c){if((_b<1)||(_c<1)){return;}this._iconwidth=_b;this._iconheight=_c;if(this._icon_elem){this._updateControlPosition(this._client_width,this._client_height);}var _d=this.parent;if(_d&&_d._is_window){var _e=_d._getWindow();if(_e){nexacro._setWindowHandleIcon(_e._handle,_a);}}};_pTitleBar._updateControlPosition=function(_a,_b){if(!_a||!_b){_a=this._client_width;_b=this._client_height;}var _c=10;var _d=6;var _e=22;var _f=20;var _g=1;var _h=2;var _i=((this._state_openstatus==2)||this._is_verticalmin);if(!this._is_verticalmin){var _j=24;var _k=((_b-_f)/2)|0;if(_k<0){_k=0;}var _l=_a-(_h);_l-=_e;this.closebutton.move(_l,_k,_e,_f);_l-=_g;_l-=_e;this.maxbutton.move(_l,_k,_e,_f);if(!_i){this.normalbutton.move(_l,_k,_e,_f);}_l-=_g;_l-=_e;this.minbutton.move(_l,_k,_e,_f);if(_i){this.normalbutton.move(_l,_k,_e,_f);}var _m=_l;_l=_c;var _n=this._icon_elem;var _o=this._iconwidth;var _p=this._iconheight;_k=((_b-_p)/2)|0;var _q=this._convertLeftForRtlLayout(_l,_o);_n.setElementPosition(_q,_k);_n.setElementSize(_o,_p);_l+=_o;_l+=_d;var _r=(_m-_l);if(_r<0){_r=0;}var _s=_j;_k=((_b-_s)/2)|0;_q=this._convertLeftForRtlLayout(_l,_r);this._text_elem.setElementPosition(_q,_k);this._text_elem.setElementSize(_r,_s);}else{var _j=24;var _t=((_a-_e)/2)|0;if(_t<0){_t=0;}var _u=_b-(_h);_u-=_e;this.closebutton.move(_t,_u,_e,_f);_u-=_g;_u-=_e;this.maxbutton.move(_t,_u,_e,_f);if(!_i){this.normalbutton.move(_t,_u,_e,_f);}_u-=_g;_u-=_e;this.minbutton.move(_t,_u,_e,_f);if(_i){this.normalbutton.move(_t,_u,_e,_f);}var _v=_u;_u=_c;var _n=this._icon_elem;var _o=this._iconwidth;var _p=this._iconheight;_t=((_a-_o)/2)|0;var _q=this._convertLeftForRtlLayout(_t,_o);_n.setElementPosition(_q,_u);_n.setElementSize(_o,_p);_u+=_o;_u+=_d;var _r=(_v-_u);if(_r<0){_r=0;}var _s=_j;_t=((_a-_s)/2)|0;_q=this._convertLeftForRtlLayout(_t,_r);this._text_elem.setElementPosition(_q,_u);this._text_elem.setElementSize(_r,_s);}};_pTitleBar._change_state_OpenStatus=function(_a){var _b=this._prestate_openstatus=this._state_openstatus;this._state_openstatus=_a;if(this._is_verticalmin){_a=2;}if(_b!=_a){switch(_a){case 0:if((this._absolute_style&0x0001)==0){this.minbutton.set_visible(true);}if((this._absolute_style&0x0002)==0){this.maxbutton.set_visible(true);}if((this._absolute_style&0x0008)==0){this.closebutton.set_visible(true);}this.normalbutton.set_visible(false);break;case 1:break;case 2:this.minbutton.set_visible(false);if((this._absolute_style&0x0002)==0){this.maxbutton.set_visible(true);}if((this._absolute_style&0x0008)==0){this.closebutton.set_visible(true);}if((this._absolute_style&0x0004)==0){this.normalbutton.set_visible(true);}break;case 3:if((this._absolute_style&0x0001)==0){this.minbutton.set_visible(true);}this.maxbutton.set_visible(false);if((this._absolute_style&0x0008)==0){this.closebutton.set_visible(true);}if((this._absolute_style&0x0004)==0){this.normalbutton.set_visible(true);}break;}var _c=this.getElement();if(_c){this.on_change_containerRect(_c.client_width,_c.client_height);}}};_pTitleBar._setVerticalMin=function(_a){if(this._is_verticalmin==_a){return;}var _b= -1;if(_a==false){_b=2;}this._is_verticalmin=_a;var _c=this._state_openstatus;if(_b!=( -1)){this._state_openstatus=_b;}this._change_state_OpenStatus(_c);if(this._control_element){this._updateControlPosition();}};_pTitleBar._setDragMove=function(_a,_b){if(_a&&_b){this._hittest_type="caption";}else{this._hittest_type="none";}if(this._control_element){this._control_element.setElementHittestType(this._hittest_type);}};_pTitleBar._setAbsoluteStyle=function(_a,_b,_c){this._absolute_style&=~(_b);this._absolute_style|=_a;if(_c==undefined||_c==true){this._applyAbsoluteStyle();}};_pTitleBar.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);if(this.minbutton&&!((this._absolute_style&0x0010)>0)){this.minbutton._setEnable(_a);}};_pTitleBar._applyAbsoluteStyle=function(){if(this.minbutton){if((this._absolute_style&0x0001)>0){this.minbutton.set_visible(false);}else if((this._absolute_style&0x0100)>0){this.minbutton.set_visible(true);}if((this._absolute_style&0x0010)>0){this.minbutton.set_enable(false);}else if((this._absolute_style&0x1000)>0){this.minbutton.set_enable(true);}}if(this.maxbutton){if((this._absolute_style&0x0002)>0){this.maxbutton.set_visible(false);}else if((this._absolute_style&0x0200)>0){this.maxbutton.set_visible(true);}if((this._absolute_style&0x0020)>0){this.maxbutton.set_enable(false);}else if((this._absolute_style&0x2000)>0){this.maxbutton.set_enable(true);}}if(this.normalbutton){if((this._absolute_style&0x0004)>0){this.normalbutton.set_visible(false);}else if((this._absolute_style&0x0400)>0){this.normalbutton.set_visible(true);}if((this._absolute_style&0x0040)>0){this.normalbutton.set_enable(false);}else if((this._absolute_style&0x4000)>0){this.normalbutton.set_enable(true);}}if(this.closebutton){if((this._absolute_style&0x0008)>0){this.closebutton.set_visible(false);}else if((this._absolute_style&0x08)>0){this.closebutton.set_visible(true);}if((this._absolute_style&0x0080)>0){this.closebutton.set_enable(false);}else if((this._absolute_style&0x8000)>0){this.closebutton.set_enable(true);}}};_pTitleBar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;var _b=this._control_element;if(_b){this._updateControlPosition(_b.client_width,_b.client_height);var _c=this._pseudo;var _d=this.on_find_CurrentStyle_align(_c);this.on_apply_style_align(_d);}if(this.minbutton){this.minbutton._setRtlDirection(_a);}if(this.maxbutton){this.maxbutton._setRtlDirection(_a);}if(this.normalbutton){this.normalbutton._setRtlDirection(_a);}if(this.closebutton){this.closebutton._setRtlDirection(_a);}};delete _pTitleBar;nexacro.TitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBar,nexacro.TitleBarCtrl);nexacro.TitleBarCtrl.prototype=_pTitleBarCtrl;_pTitleBarCtrl._type_name="TitleBarControl";nexacro._setForTypedControlStyleFinder(_pTitleBarCtrl);delete _pTitleBarCtrl;}if(!nexacro.StatusBar){nexacro.StatusBar_Style=function(_a){this._target=_a||null;this.gripimage=null;this.progressbarheight=null;this.progressbarwidth=null;this.progressbargab=null;this.progressbargap=null;this.zoomcomboheight=null;this.zoomcombowidth=null;this.zoomcombogab=null;this.zoomcombogap=null;};var _pStatusBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.StatusBar_Style);nexacro.StatusBar_Style.prototype=_pStatusBarStyle;eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","gripimage"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbarheight"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbarwidth"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbargab"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","progressbargap"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcomboheight"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcombowidth"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcombogab"));eval(nexacro._createValueAttributeEvalStr("_pStatusBarStyle","zoomcombogap"));_pStatusBarStyle.__custom_emptyObject=function(){this.gripimage=null;this.progressbarheight=null;this.progressbarwidth=null;this.progressbargab=null;this.progressbargap=null;this.zoomcomboheight=null;this.zoomcombowidth=null;this.zoomcombogab=null;this.zoomcombogap=null;};_pStatusBarStyle.__get_custom_style_value=function(){var _a="";if(this.gripimage&&!this.gripimage._is_empty){_a+="gripimage:"+this.gripimage._value+"; ";}if(this.progressbarheight&&!this.progressbarheight._is_empty){_a+="progressbarheight:"+this.progressbarheight._value+"; ";}if(this.progressbarwidth&&!this.progressbarwidth._is_empty){_a+="progressbarwidth:"+this.progressbarwidth._value+"; ";}if(this.progressbargab&&!this.progressbargab._is_empty){_a+="progressbargab:"+this.progressbargab._value+"; ";}if(this.progressbargap&&!this.progressbargap._is_empty){_a+="progressbargap:"+this.progressbargap._value+"; ";}if(this.zoomcomboheight&&!this.zoomcomboheight._is_empty){_a+="zoomcomboheight:"+this.zoomcomboheight._value+"; ";}if(this.zoomcombowidth&&!this.zoomcombowidth._is_empty){_a+="zoomcombowidth:"+this.zoomcombowidth._value+"; ";}if(this.zoomcombogab&&!this.zoomcombogab._is_empty){_a+="zoomcombogab:"+this.zoomcombogab._value+"; ";}if(this.zoomcombogap&&!this.zoomcombogap._is_empty){_a+="zoomcombogap:"+this.zoomcombogap._value+"; ";}return _a;};nexacro.StatusBar_CurrentStyle=function(){this.gripimage=null;this.progressbarheight=null;this.progressbarwidth=null;this.progressbargab=null;this.progressbargap=null;this.zoomcomboheight=null;this.zoomcombowidth=null;this.zoomcombogab=null;this.zoomcombogap=null;};var _pStatusBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.StatusBar_CurrentStyle);nexacro.StatusBar_CurrentStyle.prototype=_pStatusBarCurrentStyle;_pStatusBarCurrentStyle.__custom_emptyObject=_pStatusBarStyle.__custom_emptyObject;_pStatusBarCurrentStyle.__get_custom_style_value=_pStatusBarStyle.__get_custom_style_value;delete _pStatusBarStyle;delete _pStatusBarCurrentStyle;nexacro.StatusBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.progressbar=null;this.zoomcombo=null;this.showzoomcombo=false;this._is_nc_control=true;this._text_elem=null;this._gripimage_elem=null;this._gripimage_size={};this._statustext="";this._resizable=false;this._is_scrollable=false;};var _pStatusBar=nexacro._createPrototype(nexacro.Form,nexacro.StatusBar);nexacro.StatusBar.prototype=_pStatusBar;_pStatusBar._type_name="StatusBar";nexacro.StatusBar._default_align=nexacro.Component._default_left_align;nexacro.StatusBar._default_gripimage="";nexacro.StatusBar._default_progressbarwidth=new nexacro.Style_value("200");nexacro.StatusBar._default_progressbarheight=new nexacro.Style_value("20");nexacro.StatusBar._default_progressbargab=new nexacro.Style_value("1");nexacro.StatusBar._default_progressbargap=new nexacro.Style_value("1");nexacro.StatusBar._default_zoomcombowidth=new nexacro.Style_value("70");nexacro.StatusBar._default_zoomcomboheight=new nexacro.Style_value("20");nexacro.StatusBar._default_zoomcombogap=new nexacro.Style_value("1");nexacro.StatusBar._default_zoomcombogab=nexacro.StatusBar._default_zoomcombogap;_pStatusBar.on_create_custom_style=function(){return new nexacro.StatusBar_Style(this);};_pStatusBar.on_create_custom_currentStyle=function(){return new nexacro.StatusBar_CurrentStyle();};_pStatusBar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_gripimage(_a);if(_e!=_b.gripimage){_b.gripimage=_e;this.on_apply_style_gripimage(_e);}};_pStatusBar.on_find_CurrentStyle_gripimage=function(_a){var _b=this._find_pseudo_obj("gripimage",_a,"value");return _b?_b:nexacro.StatusBar._default_gripimage;};_pStatusBar.on_find_CurrentStyle_progressbarwidth=function(_a){return this._find_pseudo_obj("progressbarwidth",_a,"value")||nexacro.StatusBar._default_progressbarwidth;};_pStatusBar.on_find_CurrentStyle_progressbarheight=function(_a){return this._find_pseudo_obj("progressbarheight",_a,"value")||nexacro.StatusBar._default_progressbarheight;};_pStatusBar.on_find_CurrentStyle_progressbargab=function(_a){return this._find_pseudo_obj("progressbargab",_a,"value")||nexacro.StatusBar._default_progressbargab;};_pStatusBar.on_find_CurrentStyle_progressbargap=function(_a){return this._find_pseudo_obj("progressbargap",_a,"value")||nexacro.StatusBar._default_progressbargap;};_pStatusBar.on_find_CurrentStyle_zoomcombowidth=function(_a){return this._find_pseudo_obj("zoomcombowidth",_a,"value")||nexacro.StatusBar._default_zoomcombowidth;};_pStatusBar.on_find_CurrentStyle_zoomcomboheight=function(_a){return this._find_pseudo_obj("zoomcomboheight",_a,"value")||nexacro.StatusBar._default_zoomcomboheight;};_pStatusBar.on_find_CurrentStyle_zoomcombogab=function(_a){return this._find_pseudo_obj("zoomcombogab",_a,"value")||nexacro.StatusBar._default_zoomcombogab;};_pStatusBar.on_find_CurrentStyle_zoomcombogap=function(_a){return this._find_pseudo_obj("zoomcombogap",_a,"value")||nexacro.StatusBar._default_zoomcombogap;};_pStatusBar.on_update_style_gripimage=function(){this.on_apply_style_gripimage(this.currentstyle.gripimage=this.on_find_CurrentStyle_gripimage(this._pseudo));};_pStatusBar.on_update_style_progressbarwidth=function(){this.on_apply_style_progressbarwidth(this.currentstyle.progressbarwidth=this.on_find_CurrentStyle_progressbarwidth(this._pseudo));};_pStatusBar.on_update_style_progressbarheight=function(){this.on_apply_style_progressbarheight(this.currentstyle.progressbarheight=this.on_find_CurrentStyle_progressbarheight(this._pseudo));};_pStatusBar.on_update_style_progressbargab=function(){this.on_apply_style_progressbargab(this.currentstyle.progressbargab=this.on_find_CurrentStyle_progressbargab(this._pseudo));};_pStatusBar.on_update_style_progressbargap=function(){this.on_apply_style_progressbargap(this.currentstyle.progressbargap=this.on_find_CurrentStyle_progressbargap(this._pseudo));};_pStatusBar.on_update_style_zoomcombowidth=function(){this.on_apply_style_zoomcombowidth(this.currentstyle.zoomcombowidth=this.on_find_CurrentStyle_zoomcombowidth(this._pseudo));};_pStatusBar.on_update_style_zoomcomboheight=function(){this.on_apply_style_zoomcomboheight(this.currentstyle.zoomcomboheight=this.on_find_CurrentStyle_zoomcomboheight(this._pseudo));};_pStatusBar.on_update_style_zoomcombogab=function(){this.on_apply_style_zoomcombogab(this.currentstyle.zoomcombogab=this.on_find_CurrentStyle_zoomcombogab(this._pseudo));};_pStatusBar.on_update_style_zoomcombogap=function(){this.on_apply_style_zoomcombogap(this.currentstyle.zoomcombogap=this.on_find_CurrentStyle_zoomcombogap(this._pseudo));};_pStatusBar.on_apply_style_gripimage=function(_a){if(this.gripimage==null&&this._gripimage_elem){this._gripimage_elem.setElementImageUrl(_a.value);}};_pStatusBar.on_apply_style_progressbarwidth=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_progressbarheight=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_progressbargab=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_progressbargap=function(_a){if(this.progressbar&&this.progressbar.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcombowidth=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcomboheight=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcombogab=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_zoomcombogap=function(_a){if(this.zoomcombo&&this.zoomcombo.visible&&this._is_created){this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pStatusBar.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pStatusBar.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._text_elem=new nexacro.TextBoxElement(_a);if(this._statustext){_c.setElementText(this._statustext);}_c.setElementAlign(_b.align?_b.align:nexacro.StatusBar._default_align);_c.setElementFont(_b.font);_c.setElementColor(_b.color);var _d=this.progressbar=new nexacro.ProgressBarCtrl("progressbar","absolute",0,0,0,0,null,null,this);var _e=this.zoomcombo=new nexacro.ComboCtrl("zoomcombo","absolute",0,0,0,0,null,null,this);if(_e){var _f=new nexacro.Dataset("dszoomlist",_e);_f.addColumn("code","int","10");_f.addColumn("data","string","255");var _g=_f.addRow();_f.setColumn(_g,"code","50");_f.setColumn(_g,"data","50%");_g=_f.addRow();_f.setColumn(_g,"code","75");_f.setColumn(_g,"data","75%");_g=_f.addRow();_f.setColumn(_g,"code","100");_f.setColumn(_g,"data","100%");_g=_f.addRow();_f.setColumn(_g,"code","125");_f.setColumn(_g,"data","125%");_g=_f.addRow();_f.setColumn(_g,"code","150");_f.setColumn(_g,"data","150%");_g=_f.addRow();_f.setColumn(_g,"code","200");_f.setColumn(_g,"data","200%");_g=_f.addRow();_f.setColumn(_g,"code","400");_f.setColumn(_g,"data","400%");_e.setInnerDataset(_f);_e.set_codecolumn("code");_e.set_datacolumn("data");}var _h=this._gripimage_elem=new nexacro.AlignImageElement(_a);_h.setElementAlignXY("right","bottom");var _i=_b.gripimage.value;_h.setElementImageUrl(_i?_i:this._default_gripimage);var _j=this.getOwnerFrame();if(_j){_e._setEventHandler("onitemchanged",this.on_zoomcombo_itemchanged,this);}_d.createComponent();if(_e){_e.createComponent();}this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar.on_created_contents=function(){this._text_elem.create();this.progressbar.on_created();if(this.zoomcombo){this.zoomcombo.on_created();}this._gripimage_elem.create();this._setResizable(this._resizable);};_pStatusBar.on_destroy_contents=function(){var _a=this._text_elem;var _b=this.progressbar;var _c=this.zoomcombo;var _d=this._gripimage_elem;if(_a){_a.destroy();this._text_elem=null;}if(_b){_b.destroy();this.progressbar=null;}if(_c){_c.destroy();this.zoomcombo=null;}if(_d){_d.destroy();this.gripimageElem=null;}};_pStatusBar.on_zoomcombo_itemchanged=function(_a,_b){var _c=this.zoomcombo;if(_c){var _d=_c.value;this._allFrameSetZoom(application.mainframe,_d);}};_pStatusBar.on_change_containerRect=function(_a,_b){this._updateControlPosition(_a,_b);};_pStatusBar.set_statustext=function(_a){this._statustext=_a;if(this._text_elem){this._text_elem.setElementText(_a);}};_pStatusBar.set_gripimage=function(_a){this.gripimage=_a;if(this._gripimage_elem){if(!_a){this.currentstyle.gripimage._value=_a;}this._gripimage_elem.setElementImageUrl(_a);}};_pStatusBar.set_showzoomcombo=function(_a){if(this.showzoomcombo!=_a){this.showzoomcombo=_a;this._updateControlPosition(this._client_width,this._client_height);}};_pStatusBar._refreshZoomCombo=function(_a){if(!_a){_a=application.getActiveForm();}if(_a){var _b=_a.getZoom();var _c=this.zoomcombo;if(_c){_c.set_value(_b);}}};_pStatusBar._setResizable=function(_a){var _b=this.getOwnerFrame();if(_b&&this._gripimage_elem){if(!this._gripimage_elem._handle){this._resizable=_a;return;}this._gripimage_elem._is_track=_a;var _c;if(_a){_c=new nexacro.Style_value("se-resize");}else{_c=new nexacro.Style_value("arrow");}if(_a&&_b._is_window){hittest_type="resizingborder_bottomright";}else{hittest_type=undefined;}nexacro.ControlElementBase.prototype.setElementCursor.call(this._gripimage_elem,_c);nexacro.ControlElementBase.prototype.setElementHittestType.call(this._gripimage_elem,hittest_type);if(this._gripimage_elem._on_starttrack==undefined){this._gripimage_elem._on_starttrack=function(){_b._on_border_starttrack(_c);};this._gripimage_elem._on_endtrack=function(_d,_e,_f){_b._on_border_endtrack(_d,_e,_f);};this._gripimage_elem._on_movetrack=function(_d,_e,_f){_b._on_border_movetrack(_d,_e,_f);};}}};_pStatusBar._allFrameSetZoom=function(_a,_b){if(_a){if(_a instanceof nexacro.MainFrame||_a instanceof nexacro.FrameSetBase){var _c=_a.all;var _d=(_c)?_c.length:0;for(var _e=0;_e<_d;_e++ ){this._allFrameSetZoom(_c[_e],_b);}}else if(_a instanceof nexacro.ChildFrame){_a.form.setZoom(_b);}}};_pStatusBar._updateControlPosition=function(_a,_b){var _c=20;var _d=((_b-_c)/2)|0;if(_d<0){_d=0;}var _e=5;var _f=_a;if(_f<0){_f=0;}var _g=this._text_elem;_g.setElementPosition(_e,_d);_g.setElementSize(_f,_b-_d-_d);var _h=this._gripimage_elem;_e=_a-_c;_h.setElementPosition(_e,0);_h.setElementSize(_c,_b);var _i=_e;if(this.zoomcombo){if(this.showzoomcombo&&this._movezoomcombo){_i=this._movezoomcombo(_e,_d,_a,_b);this.zoomcombo.set_visible("true");}else{this.zoomcombo.move(_e,_d,0,0);this.zoomcombo.set_visible("false");}}var _j=this.currentstyle;var _k=this.on_find_CurrentStyle_progressbarwidth(this._pseudo);var _l=this.on_find_CurrentStyle_progressbarheight(this._pseudo);var _m=this.on_find_CurrentStyle_progressbargap(this._pseudo);_e=_i-_k-_m;if(_e<0){_e=0;_k=(_i-_m);}_d=((_b-_l)/2)|0;if(_d<0){_d=0;}if((_d+_l)<_b){_l=_b-_d;}this.progressbar.move(_e,_d,_k,_l);};delete _pStatusBar;nexacro.StatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBar,nexacro.StatusBarCtrl);nexacro.StatusBarCtrl.prototype=_pStatusBarCtrl;_pStatusBarCtrl._type_name="StatusBarControl";nexacro._setForTypedControlStyleFinder(_pStatusBarCtrl);delete _pStatusBarCtrl;}if(!nexacro.Frame){nexacro.Frame_Style=function(_a){nexacro.Style.call(this,_a);this.icon=null;this.showzoomcombo=null;this.statusbarheight=null;this.titlebarheight=null;this.openstatuseffect=null;this.moveeffect=null;};var _pFrameStyle=nexacro._createPrototype(nexacro.Style,nexacro.Frame_Style);nexacro.Frame_Style.prototype=_pFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","icon"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","showzoomcombo"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","statusbarheight"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","titlebarheight"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","openstatuseffect"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","moveeffect"));_pFrameStyle.__custom_emptyObject=function(){this.icon=null;this.showzoomcombo=null;this.statusbarheight=null;this.titlebarheight=null;this.openstatuseffect=null;this.moveeffect=null;};_pFrameStyle.__get_custom_style_value=function(){var _a="";if(this.icon&&!this.icon._is_empty){_a+="icon:"+this.icon._value+"; ";}if(this.showzoomcombo&&!this.showzoomcombo._is_empty){_a+="showzoomcombo:"+this.showzoomcombo._value+"; ";}if(this.statusbarheight&&!this.statusbarheight._is_empty){_a+="statusbarheight:"+this.statusbarheight._value+"; ";}if(this.titlebarheight&&!this.titlebarheight._is_empty){_a+="titlebarheight:"+this.titlebarheight._value+"; ";}if(this.openstatuseffect&&!this.openstatuseffect._is_empty){_a+="openstatuseffect:"+this.openstatuseffect._value+"; ";}if(this.moveeffect&&!this.moveeffect._is_empty){_a+="moveeffect:"+this.moveeffect._value+"; ";}return _a;};nexacro.Frame_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.icon=null;this.titlebarheight=null;this.statusbarheight=null;this.showzoomcombo=null;this.openstatuseffect=null;this.moveeffect=null;};var _pFrameCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Frame_CurrentStyle);nexacro.Frame_CurrentStyle.prototype=_pFrameCurrentStyle;_pFrameCurrentStyle.__custom_emptyObject=_pFrameStyle.__custom_emptyObject;_pFrameCurrentStyle.__get_custom_style_value=_pFrameStyle.__get_custom_style_value;delete _pFrameStyle;delete _pFrameCurrentStyle;nexacro.Frame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.titlebar=null;this.statusbar=null;this.openalign=null;this.openstatus="normal";this.showcascadestatustext=false;this.showcascadetitletext=true;this.showstatusbar=false;this.showtitlebar=true;this.showtitleicon=true;this.statustext="";this.titletext="";this.topmost=false;this._event_list={"onactivate":1,"ondeactivate":1,"onbeforeclose":1,"onclose":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ondevicebuttondown":1,"ondevicebuttonpush":1,"ondevicebuttonup":1,"onsyscommand":1,"onorientationchange":1};this._frames=new nexacro.Collection();this._is_main=_j;if(_i){this._is_top_frame=(_i._type_name=="Application");}this._applied_title_height= -1;this._applied_status_height= -1;this._state_openstatus=0;this._is_click_openstatus=false;this._is_verticalmin=false;this._restore_position=null;this._starttrack_position=null;this._resizemode=null;this._defaultTitleHeight=20;this._defaultStatusHeight=20;this._is_frameset=false;this._is_frame=true;this._is_form=false;this._window=null;this._activate=false;this._window_type= -1;this._accessibility_role="frame";this._is_closing=false;this._is_destroying=false;};_pFrame=nexacro._createPrototype(nexacro.FormBase,nexacro.Frame);nexacro.Frame.prototype=_pFrame;_pFrame._type_name="Frame";nexacro.Frame._default_titlebarheight=nexacro._getCachedStyleObj("value","20");nexacro.Frame._default_statusbarheight=nexacro._getCachedStyleObj("value","20");_pFrame.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_icon(_a);var _d=this.on_find_CurrentStyle_showzoomcombo(_a);var _e=this.on_find_CurrentStyle_statusbarheight(_a);var _f=this.on_find_CurrentStyle_titlebarheight(_a);var _g=this.on_find_CurrentStyle_openstatuseffect(_a);var _h=this.on_find_CurrentStyle_moveeffect(_a);if(_c!=_b.icon){_b.icon=_c;this.on_apply_style_icon();}if(_d!=_b.showzoomcombo){_b.showzoomcombo=_d;this.on_apply_style_showzoomcombo();}if(_e!=_b.statusbarheight){_b.statusbarheight=_e;if(this.showstatusbar){this.on_apply_style_statusbarheight();}}if(_f!=_b.titlebarheight){_b.titlebarheight=_f;if(this.showtitlebar){this.on_apply_style_titlebarheight();}}if(_g!=_b.openstatuseffect){_b.openstatuseffect=_g;this.on_apply_style_openstatuseffect();}if(_h!=_b.moveeffect){_b.moveeffect=_h;this.on_apply_style_moveeffect();}};_pFrame.on_create_custom_style=function(){return new nexacro.Frame_Style(this);};_pFrame.on_create_custom_currentStyle=function(){return new nexacro.Frame_CurrentStyle();};_pFrame.on_find_CurrentStyle_icon=function(_a){return this._find_pseudo_obj("icon",_a,"value");};_pFrame.on_find_CurrentStyle_titlebarheight=function(_a){var _b=this._find_pseudo_obj("titlebarheight",_a,"value");return _b?_b:nexacro.Frame._default_titlebarheight;};_pFrame.on_find_CurrentStyle_statusbarheight=function(_a){var _b=this._find_pseudo_obj("statusbarheight",_a,"value");return _b?_b:nexacro.Frame._default_statusbarheight;};_pFrame.on_find_CurrentStyle_showzoomcombo=function(_a){return this._find_pseudo_obj("showzoomcombo",_a,"value");};_pFrame.on_find_CurrentStyle_openstatuseffect=function(_a){return this._find_pseudo_obj("openstatuseffect",_a,"value");};_pFrame.on_find_CurrentStyle_moveeffect=function(_a){return this._find_pseudo_obj("moveeffect",_a,"value");};_pFrame.on_update_style_icon=function(){this.on_apply_style_icon(this.currentstyle.icon=this.on_find_CurrentStyle_icon(this._pseudo));};_pFrame.on_update_style_titlebarheight=function(){this.on_apply_style_titlebarheight(this.currentstyle.titlebarheight=this.on_find_CurrentStyle_titlebarheight(this._pseudo));};_pFrame.on_update_style_statusbarheight=function(){this.on_apply_style_statusbarheight(this.currentstyle.statusbarheight=this.on_find_CurrentStyle_statusbarheight(this._pseudo));};_pFrame.on_update_style_showzoomcombo=function(){this.on_apply_style_showzoomcombo(this.currentstyle.showzoomcombo=this.on_find_CurrentStyle_showzoomcombo(this._pseudo));};_pFrame.on_update_style_openstatuseffect=function(){this.on_apply_style_openstatuseffect(this.currentstyle.openstatuseffect=this.on_find_CurrentStyle_openstatuseffect(this._pseudo));};_pFrame.on_update_style_moveeffect=function(){this.on_apply_style_moveeffect(this.currentstyle.moveeffect=this.on_find_CurrentStyle_moveeffect(this._pseudo));};_pFrame.on_apply_style_icon=function(){var _a=this.currentstyle.icon;if(this.titlebar){this.titlebar.on_apply_style_icon(_a);}if(this._is_main){}};_pFrame.on_apply_style_titlebarheight=function(){var _a=this.currentstyle.titlebarheight;var _b=nexacro.getStyleValueInt(_a,this._defaultTitleHeight);if(this._setTitleBarHeight(_b)){this._updateClientSize(this._control_element);}};_pFrame.on_apply_style_statusbarheight=function(){var _a=this.currentstyle.statusbarheight;var _b=nexacro.getStyleValueInt(_a,this._defaultStatusHeight);if(this._setStatusBarHeight(_b)){this._updateClientSize(this._control_element);}};_pFrame.on_apply_style_showzoomcombo=function(){var _a=this.currentstyle.showzoomcombo;if(_a&&this.statusbar){var _b=nexacro._toBoolean(_a.value);this.statusbar.set_showzoomcombo(_b);}};_pFrame.on_apply_style_openstatuseffect=function(){var _a=this.currentstyle.openstatuseffect;if(_a){var _b=_a._value;}};_pFrame.on_apply_style_moveeffect=function(){var _a=this.currentstyle.moveeffect;if(_a){var _b=_a._value;}};_pFrame._on_window_loaded=nexacro._emptyFn;_pFrame.on_created_contents=function(){if(this.titlebar){this.titlebar.on_created();}if(this.statusbar){this.statusbar.on_created();}this._resetTitleAbsoluteStyle();};_pFrame.on_create_control_element=function(_a){var _b=this.on_create_frame_control_element(_a);return _b;};_pFrame.createComponent=function(_a){var _b=null;if(this._is_window==false){_b=this.parent._control_element;if(!_b){return false;}}else{if(this._window){nexacro._checkWindowActive(this._window);}}var _c=this._control_element;if(!_c){var _c=this.on_create_control_element(_b);var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(!_a&&_b&&_b._handle){this.on_created();}}return true;};_pFrame.on_create_contents=function(){if(this.titlebar){this.titlebar.set_titletext(this.titletext);}if(this.statusbar){this.statusbar.set_statustext(this.statustext);this.on_apply_style_showzoomcombo();}var _a=false;if(this.showtitlebar){var _b;if(this._applied_title_height<0){var _c=parseInt(this.currentstyle.titlebarheight)|0;if(_c<0){_b=this._defaultTitleHeight;}else{_b=_c;}}else{_b=this._applied_title_height;}_a=this._setTitleBarHeight(_b);}if(this.showstatusbar){var _d;if(this._applied_status_height<0){var _e=parseInt(this.currentstyle.statusbarheight)|0;if(_e<0){_d=this._defaultStatusHeight;}else{_d=_e;}}else{_d=this._applied_status_height;}_a=(this._setStatusBarHeight(_d)||_a);}if(_a){this._updateClientSize(this._control_element);}if(!application._is_loaded){this._on_focus(true,this);}};_pFrame.on_created=function(_a){var _b=this._is_created;nexacro.FormBase.prototype.on_created.call(this,_a);if(this.form){if(this.form._control_element){this.form._on_load(this,this._url);}}else{if(this._init_formurl){this.set_formurl(this._init_formurl);}}if(!_b&&this._state_openstatus!=0){var _c=this.enableevent;var _d=this.openstatus;var _e=this._state_openstatus;this.enableevent=false;this.openstatus="normal";this._state_openstatus=0;this.on_syscommand(this._control_element,_d);this.enableevent=_c;}if(this._control_element){this._control_element._setResizable(this._canDragResize());}if(this._is_window){this._applyTitleText();this._applyStatusText();}};_pFrame.on_destroy_contents=function(){if(this.statusbar){this.statusbar.destroyComponent();this.statusbar=null;}if(this.titlebar){this.titlebar.destroyComponent();this.titlebar=null;}};_pFrame.createTitleBar=function(){var _a;if(this._isTopFrame()){_a=new nexacro.MainTitleBarCtrl("titlebar","absolute",0,0,this._adjust_width,0,null,null,this);}else{_a=new nexacro.ChildTitleBarCtrl("titlebar","absolute",0,0,this._adjust_width,0,null,null,this);}return _a;};_pFrame.createStatusBar=function(){var _a;if(this._isTopFrame()){_a=new nexacro.MainStatusBarCtrl("statusbar","absolute",0,0,this._adjust_width,0,null,null,this);}else{_a=new nexacro.ChildStatusBarCtrl("statusbar","absolute",0,0,this._adjust_width,0,null,null,this);}return _a;};_pFrame._stat_change=function(_a,_b){if(_a=="activate"){if(_b=="activate"||_b===true){this._change_state_activate(true);}else if(_b=="deactivate"||_b===false){this._change_state_activate(false);}return;}nexacro.FormBase.prototype._stat_change.call(this,_a,_b);if(_a=="focus"&&(_b=="focused"||_b=="pushed")&&!this._activate){this._change_state_activate(true);}};_pFrame.setFocus=function(_a){var _b=this._window;if(this._is_window&&_b&&_b._handle){_b._setFocus();}else{if(this.form){this.form._setFocus();}}};_pFrame._update_position=function(_a,_b){var _c=this._left;var _d=this._top;var _e=this._adjust_width;var _f=this._adjust_height;var _g=false;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._adjust_width!=_e||this._adjust_height!=_f){_a=true;if(_e==0||_f==0){_g=true;}}if(this._left!=_c||this._top!=_d){_b=true;}this.on_update_position(_a,_b);if(_g){this.currentstyle._empty();this.on_apply_pseudo();}};_pFrame._adjustPosition=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=null;if(this._is_window){if(this._window){var _m=application._is_attach_childframe?this._getWindow()._custom_node_id:null;_e=_g=_e?_e:nexacro._getWindowHandleClientWidth(this._window._handle,_m);_f=_h=_f?_f:nexacro._getWindowHandleClientHeight(this._window._handle,_m);}}var _j=_a;var _k=_c;var _l=this._isRtl(this.parent);if(_l){var _n=_j;_j=_k;_k=_n;}for(var _o=0;_o<6;_o++ ){switch(_o){case 0:_i=_j;if(_j!=null){if(_o%2==0){_i=this._convToPixel(_j,_g);}else{_i=this._convToPixel(_j,_h);}}this.left=_a;this._left=_i;this._adjust_left=_i;break;case 1:_i=_b;if(_b!=null){if(_o%2==0){_i=this._convToPixel(_b,_g);}else{_i=this._convToPixel(_b,_h);}}this.top=_b;this._top=_i;this._adjust_top=_i;break;case 2:_i=_k;if(_k!=null){if(_o%2==0){_i=this._convToPixel(_k,_g);}else{_i=this._convToPixel(_k,_h);}}this.right=_c;this._right=_i;break;case 3:_i=_d;if(_d!=null){if(_o%2==0){_i=this._convToPixel(_d,_g);}else{_i=this._convToPixel(_d,_h);}}this.bottom=_d;this._bottom=_i;break;case 4:_i=_e;if(_e!=null){if(_o%2==0){_i=this._convToPixel(_e,_g);}else{_i=this._convToPixel(_e,_h);}}this.width=_e;this._width=_i;break;case 5:_i=_f;if(_f!=null){if(_o%2==0){_i=this._convToPixel(_f,_g);}else{_i=this._convToPixel(_f,_h);}}this.height=_f;this._height=_i;break;}}this._adjust_width=this._width!=null?this._width:_g-this._left-this._right;this._adjust_height=this._height!=null?this._height:_h-this._top-this._bottom;if(this._is_window){this._adjust_top=this._adjust_left=0;}else{this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_g-this._right-this._adjust_width;this._adjust_top=this._top!=null?this._top:_h-this._bottom-this._adjust_height;if(_l){this._adjust_left_ltr=this._right!=null?this._right:_g-this._left-this._adjust_width;}}};_pFrame._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFrame.on_get_style_accessibility_label=function(){return this._getTitleText(this.showcascadetitletext);};_pFrame.on_update_position=function(_a,_b){var _c=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b);if(this._is_window&&nexacro.Browser=="Runtime"){var _d=this._window;if(_d){if(_a){_d.setSize(this._adjust_width,this._adjust_height);}if(_b){_d.moveTo(this._left,this._top);}}}return _c;};_pFrame.set_left=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_left.call(this,_a);};_pFrame.set_top=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_top.call(this,_a);};_pFrame.set_right=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_right.call(this,_a);};_pFrame.set_bottom=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_bottom.call(this,_a);};_pFrame.set_width=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_width.call(this,_a);};_pFrame.set_height=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_height.call(this,_a);};_pFrame.set_openstatus=function(_a){if(this.openstatus!=_a){switch(_a){case "minimize":this.on_syscommand(this._control_element,_a);break;case "maximize":this.on_syscommand(this._control_element,_a);break;case "normal":if(this._state_openstatus==2||this._state_openstatus==3){_a="restore";}this.on_syscommand(this._control_element,_a);break;}}return this.openstatus;};_pFrame.set_showcascadestatustext=function(_a){var _b=nexacro._toBoolean(_a);if(this.showcascadestatustext!=_b){this.showcascadestatustext=_b;this._applyStatusText();}};_pFrame.set_showcascadetitletext=function(_a){var _b=nexacro._toBoolean(_a);if(this.showcascadetitletext!=_b){this.showcascadetitletext=_b;this._applyTitleText();}};_pFrame.set_showstatusbar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showstatusbar!=_b){this.showstatusbar=_b;this.showStatusbar(_b);}};_pFrame.set_showtitlebar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showtitlebar!=_b){this.showtitlebar=_b;this.showTitlebar(_b);}};_pFrame.set_showtitleicon=function(_a){var _b=nexacro._toBoolean(_a);if(this.showtitleicon!=_b){this.showtitleicon=_b;}};_pFrame.set_statustext=function(_a){if(this.statustext!=_a){this.statustext=_a;this._applyStatusText();}};_pFrame.set_titletext=function(_a){if(this.titletext!=_a){this.titletext=_a;this._applyTitleText();}};_pFrame.set_topmost=function(_a){var _b=nexacro._toBoolean(_a);if(this.topmost!=_b){this.topmost=_b;}};_pFrame.set_visible=function(_a){nexacro.FormBase.prototype.set_visible.call(this,_a);_a=nexacro._toBoolean(_a);var _b=this.parent;if(_b&&_b._is_frameset&&this._state_openstatus==3&&!_a){var _c=_b._getNextOrderFrame(this);if(_c){_c._change_state_OpenStatus(3);}}if(_a&&this.form&&!nexacro._isDesktop()){this.form._fitLayoutToParent();}};_pFrame.alert=function(_a,_b,_c){nexacro._alert(this,_a,_b,_c);};_pFrame.confirm=function(_a,_b,_c){return nexacro._confirm(this,_a,_b,_c);};_pFrame.getHandle=function(){return  -1;};_pFrame.getOwnerFrame=function(){if(this.parent&&this.parent._is_frame){return this.parent;}return null;};_pFrame.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}if(!_b._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_a);}_b.parent=this;this[_a]=_b;this.all.add_item(_a,_b);var _d=this._frames.add_item(_a,_b);_b._setRtlDirection(this._rtldirection);if(this._is_frameset){this.frames.add_item(_a,_b);this._zorderMap.add_item(_a,_b);if(this._max_frame&&_b._state_openstatus==3){this._max_frame._change_state_OpenStatus(0);}if(this._state_openstatus==2||this._is_autorecalc_frame==true){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}}return _d;};_pFrame.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return  -1;}if(!_c){throw nexacro.MakeReferenceError(this,"reference_not_define",_b);}if(this[_b]){throw nexacro.MakeNativeError(this,"native_exist_id",_b);}if(!_c._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_b);}_c.parent=this;this[_b]=_c;this.all.add_item(_b,_c);var _a=this._frames.insert_item(_a,_b,_c);if(this._is_frameset){this.frames.insert_item(_a,_b,_c);if(this._is_autorecalc_frame==true){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}}return _a;};_pFrame.removeChild=function(_a){if(_a&&_a.length<=0){return null;}if(!this[_a]){return null;}var _b=this[_a];if(_b){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)> -1);}var _e=null;if(this._is_frameset){_e=this._getNextOrderFrame(_b);}if(_b._is_frame&&_b._activate==true){_b._change_state_activate(false);if(this._is_alive&&_d.id==_b._getWindow().id){_d._removeFromCurrentFocusPath(_b,true);_d._last_focused_elem=this._control_element;}}this._frames.remove_item(_a);delete this[_a];this.all.remove_item(_a);if(this._is_frameset){this.frames.remove_item(_a);this._zorderMap.remove_item(_a);}if(this._is_alive&&_b._control_element){_b._control_element._removeFromContainer();}if(this._is_frameset){var _f=false;if(this._max_frame==_b){this._max_frame=null;_f=true;}if(this._active_frame==_b){this._active_frame=null;}if(_f&&_e){_e._change_state_OpenStatus(3);}}if(this._is_frameset&&(this._state_openstatus==2||this._is_autorecalc_frame==true)){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}if(_e){_e.setFocus();}this._applyTitleText();}return _b;};_pFrame.showTitlebar=function(_a){if(_a){var _b=this.currentstyle.titlebarheight;var _c=nexacro.getStyleValueInt(_b,this._defaultTitleHeight);if(this._setTitleBarHeight(_c)){this._updateClientSize(this._control_element);}}else{if(this._setTitleBarHeight(0)){this._updateClientSize(this._control_element);}}this._applyDragMoveType();};_pFrame.showStatusbar=function(_a){if(_a){var _b=this.currentstyle.statusbarheight;var _c=nexacro.getStyleValueInt(_b,this._defaultStatusHeight);if(this._setStatusBarHeight(_c)){this._updateClientSize(this._control_element);}}else{if(this._setStatusBarHeight(0)){this._updateClientSize(this._control_element);}}};_pFrame.move=function(_a,_b,_c,_d,_e,_f){if(!this._canMove()){return;}this._move(_a,_b,_c,_d,_e,_f);};_pFrame._move=function(_a,_b,_c,_d,_e,_f){var _g=this._left;var _h=this._top;var _i=this._adjust_width;var _j=this._adjust_height;var _k=false,_l=false;var _m=false;if(this.parent){this._adjustPosition(_a,_b,_e,_f,_c,_d,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}if(this._adjust_width!=_i||this._adjust_height!=_j){_k=true;if(_i==0||_j==0){_m=true;}}if(this._left!=_g||this._top!=_h){_l=true;}this.on_update_position(_k,_l);if(this._control_element){if(_m){this.currentstyle._empty();this._control_pseudo="";}var _n=this._getResultPseudo(this._status,this._pseudo);this._updateControl(this._control_element,_n);this._updateContents(this._control_element,_n);}};_pFrame.resize=function(_a,_b){if(!this._canResize()){return;}return nexacro.FormBase.prototype.resize.call(this,_a,_b);};_pFrame._on_titlebar_dblclick=function(_a,_b){if(this.resizable==false){return;}switch(this._state_openstatus){case 0:this.on_maxbutton_click();break;case 2:case 3:this.on_normalbutton_click();break;}};_pFrame._on_titlebar_starttrack=function(){if(!this._canDragMove()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left_ltr,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};var _a=this.getOwnerFrame();if(_a&&_a._is_frameset){_a._on_child_starttrack(this);}};_pFrame._on_titlebar_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d=this.getOwnerFrame();if(_d&&_d._is_frameset){_d._on_child_endtrack(this,_a,_b,_c);}delete this._starttrack_position;};_pFrame._on_titlebar_movetrack=function(_a,_b,_c){var _d=this._starttrack_position;if(_d==null){return;}if(!this._is_window){this._move(_d.left+_a,_d.top+_b,_d.width,_d.height);}var _e=this.getOwnerFrame();if(_e&&_e._is_frameset){_e._on_child_movetrack(this,_a,_b,_c);}};_pFrame._on_border_starttrack=function(_a){if(!this._canDragResize()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};this._resizemode=_a;if(this.form){this.form._on_focus(true,"lbuttondown");}};_pFrame._on_border_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}this._resizemode=null;delete this._starttrack_position;};_pFrame._on_border_movetrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d,_e,_f,_g;_d=this._starttrack_position.left;_e=this._starttrack_position.top;_f=this._starttrack_position.width;height=this._starttrack_position.height;var _h=this._getMinMaxInfo();if(this._resizemode._value=="n-resize"||this._resizemode._value=="nw-resize"||this._resizemode._value=="ne-resize"){_e+=_b;height-=_b;if(height<_h.cy){_e-=(_h.cy-height);height=_h.cy;}}if(this._resizemode._value=="s-resize"||this._resizemode._value=="sw-resize"||this._resizemode._value=="se-resize"){height+=_b;if(height<_h.cy){height+=(_h.cy-height);}}if(this._resizemode._value=="w-resize"||this._resizemode._value=="nw-resize"||this._resizemode._value=="sw-resize"){_d+=_a;_f-=_a;if(_f<_h.cx){_d-=(_h.cx-_f);_f=_h.cx;}}if(this._resizemode._value=="e-resize"||this._resizemode._value=="ne-resize"||this._resizemode._value=="se-resize"){_f+=_a;if(_f<_h.cx){_f+=(_h.cx-_f);}}this._move(_d,_e,_f,height);};_pFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._stat_change("activate","activate");};_pFrame.on_minbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"minimize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_maxbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"maximize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_normalbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"restore",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_closebutton_click=function(_a,_b){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();var _d=this.getOwnerFrame();if(_d){_d.removeChild(this.id);if(_d._control_element){_d.on_change_containerRect(_d._control_element.client_width,_d._control_element.client_height);}}if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy();}if(this._control_element){this._control_element.destroy();}this._control_element=null;};_pFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b="";if(this.form){var _d=this.form._on_beforeclose(_a);_b=this.form._appendBeforeCloseMsg(_b,_d);}if(this.frames){var _e=this.frames;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){var _h=_e[_g]._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_h);}}if(this.frame){var _h=this.frame._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_h);}var _c=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_c);return _b;};_pFrame._on_close=function(){if(this._is_closing){return;}this._is_closing=true;if(this.form){this.form._on_close();}if(this.frames){var _a=this.frames;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){if(this._getWindow()!=_a[_c]._getWindow()){continue;}_a[_c]._on_close();}}}if(this.frame){this.frame._on_close();}this._on_bubble_close();this._is_closing=false;return true;};_pFrame._canMove=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragMove=function(){if(nexacro.isTouchInteraction){return false;}if(!this._canMove()){return false;}if(!this._is_window){if(this._window_type==1||this._window_type==4){return true;}var _a=this.getOwnerFrame();if(_a){if(_a._on_child_starttrack==undefined){return false;}}}if(this._dragmovetype==0){return false;}return true;};_pFrame._canResize=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragResize=function(){if(nexacro.isTouchInteraction){return false;}if(!this._canResize()){return false;}if(nexacro.Browser!="Runtime"&&this._is_window){return false;}if(this.resizable==false){return false;}var _a=this.getOwnerFrame();if(_a&&!this._is_window&&(this._window_type!=1&&this._window_type!=4)){if(_a._is_autorecalc_frame){return false;}}return true;};_pFrame._procSysCommand=function(_a){var _b= -1;switch(_a){case "restore":_b=1;break;case "minimize":_b=2;break;case "maximize":_b=3;break;}if(this._is_window&&this._window){if(_b!=( -1)){this._window._procSysCommand(_b);}}if(_b==1){if(this._is_window&&this._window&&this._state_openstatus==2){_a=["normal","restore","minimize","maximize"][this._prestate_openstatus];_b=this._prestate_openstatus;}else{_a="normal";_b=0;}}if(_b!=( -1)){this.openstatus=_a;this._change_state_OpenStatus(_b);}};_pFrame.on_syscommand=function(_a,_b,_c,_d,_e){if(_c===undefined){if(!_e){_e=this;}}if(this.visible&&this._isEnable()&&this.enableevent){_c=this.on_fire_syscommand(this,_b);if(_c===false){return false;}}if((_c!==false)&&this.parent&&!this.parent._is_application&&!this.parent._is_form){var _f=this.parent.on_syscommand(_a,_b,false,_d?_d:this,_e);if(_f==false){return false;}}if(_d&&_d!=this){return true;}this._procSysCommand(_b);};_pFrame._on_activate=function(){if(this._activate==false){return;}nexacro.FormBase.prototype._on_activate.call(this);if(this.form){this.form._on_activate();}return true;};_pFrame._on_deactivate=function(){if(this._activate==false){return;}if(this.form){this.form._on_deactivate();}nexacro.FormBase.prototype._on_deactivate.call(this);return true;};_pFrame._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);if(this.form){this.form._on_orientationchange(_a);}if(this.frames){var _b=this.frames;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]){if(this._getWindow()!=_b[_d]._getWindow()){continue;}_b[_d]._on_orientationchange(_a);}}}if(this.frame){this.frame._on_orientationchange(_a);}return true;};_pFrame._getRootLayerFrame=function(){var _a=this;while(_a){if(_a._is_window){return _a;}if(_a._window_type==1||_a._window_type==4){return _a;}if(_a.getOwnerFrame()){_a=_a.getOwnerFrame();}else{break;}}return _a;};_pFrame._isRootLayerFrame=function(){if(this._is_window){return true;}if(this._window_type==1||this._window_type==4){return true;}return false;};_pFrame.on_fire_syscommand=function(_a,_b){if(this.onsyscommand&&this.onsyscommand._has_handlers){var _c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);var _d=this.onsyscommand._fireCheckEvent(this,_c);if(!_d){return false;}}if(this.form&&this.form.onsyscommand&&this.form.onsyscommand._has_handlers){var _c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);var _d=this.form.onsyscommand._fireCheckEvent(this.form,_c);if(!_d){return false;}}return true;};_pFrame._applyDragMoveType=nexacro._emptyFn;_pFrame.lookup=nexacro._emptyFn;_pFrame.lookupSetter=nexacro._emptyFn;_pFrame.lookupFunc=nexacro._emptyFn;_pFrame._setTitleBarHeight=function(_a){var _b=this._control_element;if(_b&&this._applied_title_height!=_a){this._applied_title_height=_a;if(_a>0){var _c=this._getAppliedTitleHeight(_a);if(!this.titlebar){this.titlebar=this.createTitleBar();var _d=this._getTitleText(this.showcascadetitletext);this.titlebar.set_titletext(_d);_b.setTitleBarControl(this.titlebar,_c);this.titlebar.createComponent();}else{_b.setTitleBarControl(this.titlebar,_c);}}else{if(this.titlebar){this.titlebar.destroyComponent();this.titlebar=null;_b.setTitleBarControl(null,0);}}return true;}return false;};_pFrame._setStatusBarHeight=function(_a){var _b=this._control_element;if(_b&&this._applied_status_height!=_a){this._applied_status_height=_a;if(_a>0){var _c=this._getAppliedStatusHeight(_a);if(!this.statusbar){this.statusbar=this.createStatusBar();var _d=this._getStatusText(this.showcascadestatustext);this.statusbar.set_statustext(_d);_b.setStatusBarControl(this.statusbar,_c);this.statusbar.createComponent();this.statusbar._setResizable(this._canDragResize());}else if(this._applied_status_height!=_c){_b.setStatusBarControl(this.statusbar,_c);}}else{if(this.statusbar){this.statusbar.destroyComponent();this.statusbar=null;_b.setStatusBarControl(null,0);}}return true;}return false;};_pFrame._setVerticalMin=function(_a){if(this._is_verticalmin==_a){return;}this._is_verticalmin=_a;if(this._control_element){this._control_element._is_verticalmin=_a;if(this.titlebar){nexacro.ContainerElement.prototype.bringToFrontElement.call(this._control_element,this.titlebar._control_element);}}if(this.titlebar){this.titlebar._setVerticalMin(_a);}};_pFrame._resetTitleAbsoluteStyle=function(){var _a=this.titlebar;if(!_a){return;}var _b=0;var _c=this.getOwnerFrame();var _d=(this._window_type==1||this._window_type==4||this._window_type==5);if(!this.resizable){if(this._isNested()){_b|=0x0020;}else{_b|=0x0001|0x0002;}}else{_b|=0x0100|0x0200;}if(_c&&!this._isRootLayerFrame()){if(_c._isTopFrame()){_b|=0x0010|0x0020|0x0040;}if(_c.fullframemaximize==false){_b|=0x0001;}}if(_d){_b|=0x0001;if(!this.resizable){_b|=0x0002;}}_a._setAbsoluteStyle(_b,0xffff);};_pFrame._getMinMaxInfo=function(){var _a=110,_b=0;var _c=this.on_find_CurrentStyle_border();if(_c){_a+=_c._getBorderWidth();_b+=_c._getBorderHeight();}if(this.showtitlebar){_b+=this._getTitlebarHeight();}if(this.showstatusbar){_b+=this._getStatusbarHeight();}return {cx:_a,cy:_b};};_pFrame._isTopFrame=function(){return (this._is_top_frame);};_pFrame._getWindow=function(){if(this._is_window){return this._window;}var _a=this.parent;if(_a){return _a._getWindow();}return null;};_pFrame._getTitlebarHeight=function(){if(this.showtitlebar){var _a=20;if(this.style._applied_title_height>0){_a=this.style._applied_title_height;}else if(this.titlebar){_a=this.titlebar._adjust_height;}return _a;}return 0;};_pFrame._getStatusbarHeight=function(){if(this.showtitlebar){var _a=20;if(this.style._applied_status_height>0){_a=this.style._applied_status_height;}else if(this.statusbar){_a=this.statusbar._adjust_height;}return _a;}return 0;};_pFrame._isEnable=function(){return nexacro.FormBase.prototype._isEnable.call(this);};_pFrame._isNested=function(){return !this._is_window;};_pFrame._getTitleText=function(_a){return this.titletext;};_pFrame._applyTitleText=function(){if(this._control_element){var _a=this.showcascadetitletext;var _b=this._getTitleText(_a);if(this.titlebar){this.titlebar.set_titletext(_b);}if(this.parent&&this.parent._is_frame){this.parent._applyTitleText();}if(this._is_window){this._window._setTitleText(_b);}}};_pFrame._applyStatusText=function(){if(this._control_element){var _a=this.showcascadestatustext;var _b=this._getStatusText(_a);if(this.statusbar){this.statusbar.set_statustext(_b);}if(this.parent&&this.parent._is_frame){this.parent._applyStatusText();}if(this._is_window){this._window._setStatusText(_b);}}};_pFrame._change_state_OpenStatus=function(_a){var _b=this._prestate_openstatus=this._state_openstatus;this._state_openstatus=_a;if(_a==1){alert("_change_state_OpenStatus(1) called");}if(_b!=_a){var _c=this.getOwnerFrame();if(_b==2){this._setVerticalMin(false);}if(_b==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){_c._max_frame=null;}}if(_b==0&&(_a==2||_a==3)){if(!this._is_window){if(this._restore_position){this._restore_position=null;}if((_c&&_c._is_frameset&&!_c._is_autorecalc_frame)||(this._window_type==1||this._window_type==4)){this._restore_position={left:this.left,top:this.top,width:this.width,height:this.height,right:this.right,bottom:this.bottom};}}if(this._control_element){this._control_element._setResizable(false);}}if((_b==2||_b==3)&&_a==0){if(!this._is_window){var _d=this._restore_position;if(_d){this._move(_d.left,_d.top,_d.width,_d.height,_d.right,_d.bottom);this._restore_position=null;}}if(this._control_element){this._control_element._setResizable(this._canDragResize());}}if(_a==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){if(_c._max_frame&&_c._max_frame!=this){_c._max_frame._change_state_OpenStatus(0);}_c._max_frame=this;}else if(this._window_type==1||this._window_type==4){var _e=this._getWindow();this._move(0,0,_e.clientWidth,_e.clientHeight);}}if(this.titlebar){this.titlebar._change_state_OpenStatus(_a);}if(this._prestate_openstatus!=this._state_openstatus){if(_c&&_c._control_element){_c.on_change_containerRect(_c._control_element.client_width,_c._control_element.client_height);}}if(_a==3&&!this._is_window){if(_c&&_c._is_frameset==true){this.setFocus();}}this.openstatus=["normal","restore","minimize","maximize"][_a];}};_pFrame._change_state_activate=function(_a){if(this._activate==false&&_a==true){if(this._control_element){var _b=this.getOwnerFrame();if(_b){var _c=this._getWindow();var _d=_b._getWindow();if(_c==_d){_b._change_state_activate(_a,this);}}if(this.form){var _e=this;while(_e){if(_e._is_window){break;}_e=_e.getOwnerFrame();}if(_e&&_e.statusbar){_e.statusbar._refreshZoomCombo(this.form);}}this._applyTitleText();this._applyStatusText();}this._activate=_a;this._on_activate();}else if(this._activate==true&&_a==false){this._on_deactivate();this._activate=_a;}};_pFrame._getAppliedTitleHeight=function(_a){return nexacro._AppliedTitleBarHeight(this,_a);};_pFrame._getAppliedStatusHeight=function(_a){return nexacro._AppliedStatusBarHeight(this,_a);};nexacro.MainFrame_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.menubarheight=null;};var _pMainFrameStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.MainFrame_Style);nexacro.MainFrame_Style.prototype=_pMainFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pMainFrameStyle","menubarheight"));_pMainFrameStyle.__custom_emptyObject=function(){this.menubarheight=null;};_pMainFrameStyle.__get_custom_style_value=function(){var _a="";if(this.menubarheight&&!this.menubarheight._is_empty){_a+="menubarheight:"+this.menubarheight._value+"; ";}return _a;};nexacro.MainFrame_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);this.menubarheight=null;};var _pMainFrameCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.MainFrame_CurrentStyle);nexacro.MainFrame_CurrentStyle.prototype=_pMainFrameCurrentStyle;_pMainFrameCurrentStyle.__custom_emptyObject=_pMainFrameStyle.__custom_emptyObject;_pMainFrameCurrentStyle.__get_custom_style_value=_pMainFrameStyle.__get_custom_style_value;delete _pMainFrameStyle;delete _pMainFrameCurrentStyle;nexacro.MainFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.openalign=new nexacro.Style_align();this.applicationmenu=null;this.frame=null;this.menubar=null;this.resizable=true;this.layered=false;this._window=new nexacro.Window(_a,null,true);this._menu_height=0;this._applied_menu_height=0;this._ref_comm=0;this._defaultTitleHeight=30;this._defaultStatusHeight=30;this._is_window=true;this._is_autorecalc_frame=true;this._accessibility_role="application";};_pMainFrame=nexacro._createPrototype(nexacro.Frame,nexacro.MainFrame);nexacro.MainFrame.prototype=_pMainFrame;_pMainFrame._type_name="MainFrame";_pMainFrame.getActiveFrame=function(){return this.frame;};_pMainFrame.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_menubarheight(_a);if(_c!=_b.menubarheight){_b.menubarheight=_c;this.on_apply_style_menubarheight();}};_pMainFrame.on_create_custom_style=function(){return new nexacro.MainFrame_Style(this);};_pMainFrame.on_create_custom_currentStyle=function(){return new nexacro.MainFrame_CurrentStyle();};_pMainFrame.on_find_CurrentStyle_menubarheight=function(_a){return this._find_pseudo_obj("menubarheight",_a,"value");};_pMainFrame.on_update_style_menubarheight=function(){this.on_apply_style_menubarheight(this.currentstyle.menubarheight=this.on_find_CurrentStyle_menubarheight(this._pseudo));};_pMainFrame.on_apply_style_menubarheight=function(){var _a=this.currentstyle.menubarheight;var _b=nexacro.getStyleValueInt(_a,0);this._menu_height=_b;if(this._setMenuBarHeight(_b)){this._updateClientSize(this._control_element);}};_pMainFrame.on_createBodyFrame=nexacro._emptyFn;_pMainFrame.createComponent=function(){this.createWindow();return nexacro.Frame.prototype.createComponent.call(this);};_pMainFrame.createWindow=function(){var _a=this._window;if(_a==null){_a=this._window=new nexacro.Window(this.name,null,true);}_a.create(null,this.name,this._adjust_width,this._adjust_height,this._adjust_left,this._adjust_top,this.resizable);_a.attachFrame(this,false);_a._setSystemMenuResizable(this.resizable);var _b=nexacro._getMainWindowWidth(_a);var _c=nexacro._getMainWindowHeight(_a);this._setSize(_b,_c);};_pMainFrame.createMenuBar=function(){var _a=new nexacro.Form("menubar",0,0,0,this._menubar_height,this);this._applied_menu_height=this._menubar_height;_a.set_style("background:green;");_a.set_text("menubar");this.manubar=_a;return _a;};_pMainFrame.createBodyFrame=function(){this.on_createBodyFrame();};_pMainFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this.menubar){this._control_element.setMenuBarControl(this.menubar,this._applied_menu_height);this.menubar.createComponent();if(this._applied_menu_height>0){}this._updateClientSize(this._control_element);}if(this.frame){this.frame._setPos(0,0);this.frame._setSize(this._client_width,this._client_height);this.frame.createComponent();this.frame._change_state_OpenStatus(3);}};_pMainFrame.on_created_contents=function(){nexacro.Frame.prototype.on_created_contents.call(this);if(this.menubar){this.menubar.on_created();}if(this.frame){this.frame.on_created();}var _a=this._control_element;if(_a){_a.setElementRtlDirection(application.rtldirection);}if(nexacro.Browser=="Runtime"&&nexacro._isDesktop()){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._adjust_width;var _e=this._adjust_height;var _f=this._getOpenAlignPos(this._getWindow(),_b,_c,_d,_e);if(_f){_b=_f.left;_c=_f.top;}this._move(_b,_c,_d,_e);}};_pMainFrame.destroyComponent=function(){if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}if(application._com_waiting){application._com_waiting=false;}this._is_destroying=true;if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;}else if(this._is_alive){nexacro.Frame.prototype.destroyComponent.call(this);}this._is_destroying=false;return true;};_pMainFrame.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);if(this.menubar){this.menubar.destroyComponent();this.menubar=null;}if(this.frame){this.frame.destroyComponent();this.frame=null;}};_pMainFrame.on_change_containerPos=function(_a,_b){if(this.frame){this.frame._setPos(0,0);}};_pMainFrame.on_change_containerRect=function(_a,_b){if(this.frame){this.frame._setSize(_a,_b);}if(this.titlebar){this.titlebar._update_position(false,true);}};_pMainFrame.on_update_position=function(_a,_b){var _c=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b);if(_a||_b){var _d=this._frames;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(this.frame.id==_d[_f].id){continue;}var _g=_d[_f].form;_g.on_change_containerRect(_g._client_width,_g._client_height);}}if(this._is_window&&nexacro.Browser=="Runtime"){var _h=this._window;if(_h){if(_a){if(nexacro._isDesktop()){_h.setSize(this._adjust_width,this._adjust_height);}}if(_b){_h.moveTo(this._left,this._top);}}}return _c;};_pMainFrame._waitCursor=function(_a,_b){if(this._window){if(_a==true){var _c=this._waitcomp;if(this._ref_comm==0){application._com_waiting=true;if(_c==null){_c=this._waitcomp=new nexacro.WaitComponent("waitwindow","absolute",0,0,0,0,null,null,this);_c.createComponent();_c.on_created();}var _d=application._getLoadingImageUrl();_c.setImage(_d);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{if(this._ref_comm>0){this._ref_comm-- ;}var _c=this._waitcomp;if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;application._com_waiting=false;_c.hide();}}}}};_pMainFrame.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._getRootWindow();if(_b&&_b._handle){nexacro._setPopupWindowHandleVisible(_b._handle,_a);}}};_pMainFrame.set_openalign=function(_a){if(this.openalign._is_empty&&this.openalign._value!=_a){this.openalign._setValue(_a);this.on_apply_prop_openalign();}};_pMainFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this.resizable!=_b){this.resizable=_b;this._resetTitleAbsoluteStyle();if(this._control_element){this._control_element._setResizable(this._canDragResize());}}};_pMainFrame.set_layered=function(_a){var _b=nexacro._toBoolean(_a);if(this.layered!=_b){this.layered=_b;}};_pMainFrame.on_apply_prop_openalign=function(){if(!this.openalign._is_empty){}};_pMainFrame.on_apply_prop_enable=function(_a){if(this.frame){this.frame._setEnable(_a);}};_pMainFrame.on_apply_prop_rtldirection=function(){var _a=this._rtldirection;var _b=this.titlebar;if(_b){_b._setRtlDirection(_a);}var _c=this.statusbar;if(_c){_c._setRtlDirection(_a);}var _d=this.menubar;if(_d){_d._setRtlDirection(_a);}var _e=this.frame;if(_e){_e._setRtlDirection(_a);var _f=this.frame.getOwnerFrame();var _g=_f._control_element.client_width;var _h=_f._control_element.client_height;this.frame._setSize(_g,_h);}};_pMainFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b=application.on_fire_onbeforeexit();var _c=nexacro.Frame.prototype._on_beforeclose.call(this,_a);_c=this._appendBeforeCloseMsg(_c,_b);return _c;};_pMainFrame.on_syscommand=function(_a,_b,_c,_d,_e){var _f=this.on_fire_syscommand(this,_b);if(!_f){return false;}if(_d&&_d!=this){return true;}this._procSysCommand(_b);};_pMainFrame.on_closebutton_click=function(_a,_b){application.exit();};_pMainFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){if(!this.openalign._is_empty){var _f=nexacro._getMonitorIndex(_a.left+_d/2,_a.top+_e/2);var _g=nexacro._getScreenRect(_f);var _h=_g.left;var _i=_g.top;var _j=nexacro._getScreenWidth(_f);var _k=nexacro._getScreenHeight(_f);switch(this.openalign.halign){case "left":_b=_h;break;case "center":_b=_h+Math.round((_j-_d)/2);break;case "right":_b=_h+_j-_d;break;}switch(this.openalign.valign){case "top":_c=_i;break;case "middle":_c=_i+Math.round((_k-_e)/2);break;case "bottom":_c=_i+_k-_e;break;}return {left:_b,top:_c};}return null;};_pMainFrame._setMenuBarHeight=function(_a){if(this._applied_menu_height!=_a){if(_a>0&&this.menubar){this._applied_menu_height=_a;var _b=this._control_element;if(_b){_b.setMenuBarControl(this.menubar,_a);return true;}this.menubar.set_visible(true);}else if(this._applied_menu_height>0&&this.menubar){this._applied_menu_height=0;this.menubar.set_visible(false);this.menubar=null;if(_b){_b.setMenuBarControl(null,0);return true;}}}return false;};_pMainFrame._change_state_activate=function(_a){if(_a==false){if(this.frame){this.frame._change_state_activate(false);}}nexacro.Frame.prototype._change_state_activate.call(this,_a);};_pMainFrame._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){if(this.frame){var _c=this.frame._getTitleText(true);if(_c.length>0){if(_b.length>0){_b+=" - ";}_b+=_c;}}}return _b;};_pMainFrame._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){if(this.frame){var _c=this.frame._getStatusText(true);if(_c.length>0){if(_b.length>0){_b+=" - ";}_b+=_c;}}}return _b;};delete _pMainFrame;nexacro.ChildFrame_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.overlaycolor=null;};var _pChildFrameStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.ChildFrame_Style);nexacro.ChildFrame_Style.prototype=_pChildFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pChildFrameStyle","overlaycolor"));_pChildFrameStyle.__custom_emptyObject=function(){nexacro.Frame_Style.prototype.__custom_emptyObject.call(this);this.overlaycolor=null;};_pChildFrameStyle.__get_custom_style_value=function(){var _a=nexacro.Frame_Style.prototype.__get_custom_style_value.call(this);if(this.overlaycolor&&!this.overlaycolor._is_empty){_a+="overlaycolor:"+this.overlaycolor._value+"; ";}return _a;};nexacro.ChildFrame_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);this.overlaycolor=null;};var _pChildFrameCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.ChildFrame_CurrentStyle);nexacro.ChildFrame_CurrentStyle.prototype=_pChildFrameCurrentStyle;_pChildFrameCurrentStyle.__custom_emptyObject=_pChildFrameStyle.__custom_emptyObject;_pChildFrameCurrentStyle.__get_custom_style_value=_pChildFrameStyle.__get_custom_style_value;delete _pChildFrameStyle;delete _pChildFrameCurrentStyle;nexacro.ChildFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_j);this.openalign=new nexacro.Style_align();this.opener=null;this.form=null;this.autosize=true;this.resizable=false;this.layered=false;this.showontaskbar=null;this.widget=false;this.dragmovetype="normal";this._ref_comm=0;this._waitcomp=null;this._window_type=0;this._dragmovetype=1;this._is_popup_frame=false;this._is_loadform_failed=false;this._init_formurl=_i;};_pChildFrame=nexacro._createPrototype(nexacro.Frame,nexacro.ChildFrame);nexacro.ChildFrame.prototype=_pChildFrame;_pChildFrame._type_name="ChildFrame",nexacro.ChildFrame._default_overlaycolor=nexacro._getCachedStyleObj("color","#00000090");_pChildFrame._close_callback=null;_pChildFrame._close_argument=undefined;_pChildFrame.on_create_custom_style=function(){return new nexacro.ChildFrame_Style(this);};_pChildFrame.on_create_custom_currentStyle=function(){return new nexacro.ChildFrame_CurrentStyle();};_pChildFrame.on_update_style_align=function(_a){if(_a==0){this._updateCurrentStyle("align");this.on_apply_style_align();}else if(_a==2){this.on_apply_prop_openalign();}};_pChildFrame.on_apply_prop_openalign=function(){if(!this.openalign._is_empty){}};_pChildFrame.on_apply_prop_enable=function(_a){if(this.form){this.form._setEnable(_a);}};_pChildFrame.on_apply_prop_rtldirection=function(){var _a=this._rtldirection;var _b=this.titlebar;if(_b){_b._setRtlDirection(_a);}var _c=this.statusbar;if(_c){_c._setRtlDirection(_a);}var _d=this.form;if(_d){_d._setRtlDirection(_a);}};_pChildFrame.on_apply_style_overlaycolor=function(_a){if(this._modal_overlay_elem){this._modal_overlay_elem.setElementColor(_a);}};_pChildFrame.on_find_CurrentStyle_overlaycolor=function(_a){var _b=this._find_pseudo_obj("overlaycolor",_a,"color");if(_b){return _b;}return nexacro.ChildFrame._default_overlaycolor;};_pChildFrame.on_update_style_overlaycolor=function(){this.on_apply_style_overlaycolor(this.currentstyle.overlaycolor=this.on_find_CurrentStyle_overlaycolor(this._pseudo));};_pChildFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this.form){this.form._setPos(0,0);this.form._setSize(this._client_width,this._client_height);this.form.createComponent();}};_pChildFrame.destroyComponent=function(){if(this._window_type==1||this._window_type==4){this._setModalUnlock();this._runCallback();if(this._window_type==4){nexacro._unblockScript();}}if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}this._is_destroying=true;if(application._com_waiting){application._com_waiting=false;}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;this._is_destroying=false;return true;}else{this._is_destroying=false;return nexacro.Frame.prototype.destroyComponent.call(this);}};_pChildFrame.on_destroy_contents=function(){if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}nexacro.Frame.prototype.on_destroy_contents.call(this);if(this._variables){var _a=this._variables.length;for(var _b=0;_b<_a;_b++ ){delete this[this._variables[_b]];}}if(this.form){this.form.destroyComponent();this.form=null;}};_pChildFrame._runCallback=function(){var _a=this._close_callback;if(_a){if(typeof (_a)=="string"){if(this.opener){var _b=this.opener[_a];if(_b){_b.call(this.opener,this.name,this._close_argument);}}}else if(typeof (_a)=="function"){_a.call(this.opener,this.name,this._close_argument);}}};_pChildFrame.on_created_contents=function(){if(this._is_window&&this._window){var _a=this._window;if(this._delayed_window_pos&&_a._handle){_a.moveTo(this._delayed_window_pos.left,this._delayed_window_pos.top);_a.setSize(this._delayed_window_pos.width,this._delayed_window_pos.height);delete this._delayed_window_pos;}this._setSize(this._adjust_width,this._adjust_height);if(_a._handle){_a._setSystemMenuResizable(this.resizable);}}else if((this._window_type==1||this._window_type==4)&&this.form&&this.autosize){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._getAutosizedFrameSize(true);var _e=_d.width;var _f=_d.height;var _g=this._getOpenAlignPos(this._getWindow(),_b,_c,_e,_f);if(_g){_b=_g.left;_c=_g.top;}var _h=this._recalcModalPosition(_b,_c,_e,_f);this._move(_h.left,_h.top,_h.width,_h.height);}nexacro.Frame.prototype.on_created_contents.call(this);};_pChildFrame.on_change_containerPos=function(_a,_b){if(this.form){this.form._setPos(0,0);}};_pChildFrame.on_change_containerRect=function(_a,_b){if(this.form){this.form._setSize(_a,_b);if(!nexacro._isDesktop()){this.form._fitLayoutToParent();}if(this._is_window){this.form.resetScroll();}}if(this.titlebar){this.titlebar._update_position(false,true);}};_pChildFrame.createComponent=function(_a){if(this._window_type!=1&&this._window_type!=4&&this._window_type!=5){return nexacro.Frame.prototype.createComponent.call(this,_a);}var _b=this._modal_overlay_elem;var _c=_b;var _d=this._control_element;if(!_d){var _d=this.on_create_control_element(_c);var _e=this._getResultPseudo(this._status,this._pseudo);this._initControl(_d,_e);this._initContents(_d,_e);if(!_a&&_c&&_c._handle){this.on_created();}}return true;};_pChildFrame._checkValidLayout=function(){if(this.form!=null){this.form._checkValidLayout();}};_pChildFrame._waitCursor=function(_a,_b){if(this._isNested()){return nexacro.Frame.prototype._waitCursor.call(this,_a,_b);}if(this._window){if(_a==true){var _c=this._waitcomp;if(_c==null){_c=this._waitcomp=new nexacro.WaitComponent("waitwindow","absolute",0,0,0,0,null,null,this);_c.createComponent();_c.on_created();}if(this._ref_comm==0){application._com_waiting=true;var _d=application._getLoadingImageUrl();_c.setImage(_d);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{if(this._ref_comm>0){this._ref_comm-- ;}var _c=this._waitcomp;if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;application._com_waiting=false;_c.hide();}}}}};_pChildFrame.set_autosize=function(_a){if(this.autosize!=_a){this.autosize=nexacro._toBoolean(_a);}};_pChildFrame.set_dragmovetype=function(_a){if(this.dragmovetype!=_a){var _b=false;switch(_a){case "all":this.dragmovetype=_a;this._dragmovetype=2;_b=true;break;case "normal":this.dragmovetype=_a;this._dragmovetype=1;break;case "none":this.dragmovetype=_a;this._dragmovetype=0;break;}this._applyDragMoveType();}};_pChildFrame.set_openalign=function(_a){if(this.openalign._is_empty&&this.openalign._value!=_a){this.openalign._setValue(_a);this.on_update_style_align(2);}};_pChildFrame.set_formurl=function(_a){var _b=application._getFDLLocation(_a);if(this._formurl!=_b){if(this.form&&this.form._control_element){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();}this.formurl=_a;this._formurl=_b;this._is_loadform_failed=false;this._createForm();}};_pChildFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this.resizable!=_b){this.resizable=_b;this._resetTitleAbsoluteStyle();if(this._control_element){this._control_element._setResizable(this._canDragResize());}if(this._window){this._window._setSystemMenuResizable(_b);}}};_pChildFrame.set_layered=function(_a){var _b=nexacro._toBoolean(_a);if(this.layered!=_b){this.layered=_b;}};_pChildFrame.set_showontaskbar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showontaskbar!=_b){this.showontaskbar=_b;}};_pChildFrame.set_widget=function(_a){var _b=nexacro._toBoolean(_a);if(this.widget!=_b){this.widget=_b;}};_pChildFrame.init=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a){this.id=this.name=_a;}this.position=_b?_b:"absolute";var _j=this._adjust_left;var _k=this._adjust_top;var _l=this._adjust_width;var _m=this._adjust_height;var _n=false,_o=false;if(arguments.length>=6){this._adjustPosition(_c,_d,_g,_h,_e,_f,this.parent?this.parent._client_width:0,this.parent?this.parent._client_height:0);if(this._adjust_width!=_l||this._adjust_height!=_m){_n=true;}if(this._adjust_left!=_j||this._adjust_top!=_k){_o=true;}this.on_update_position(_n,_o);}if(_i){this._init_formurl=_i;}};_pChildFrame.loadForm=function(_a,_b,_c,_d){return this.getApplication().loadFormurl(_a,null,_b,_c,_d);};_pChildFrame._addVariable=function(_a,_b){this[_a]=_b;if(!this._variables){this._variables=[];}this._variables.push(_a);};_pChildFrame.showModal=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i,_j;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_i=arguments[0];_h=arguments[1];this._arg=arguments[2];this.opener=arguments[3];this._close_callback=arguments[4];}else{_i=this.id;_h=arguments[0];this._arg=arguments[1];this.opener=arguments[2];this._close_callback=arguments[3];}var _k=null;if(_h==null){_h=application.mainframe;}if(_h){_g=_h.addChild(_i,this);}if(_g== -1){return false;}else{_k=this;}if(_k&&_k._arg){for(var _s in _k._arg){_k._addVariable(_s,_k._arg[_s]);}}if(application._registerPopupFrame(_i,this)<0){nexacro.FireSystemError(this,"0x8001002A",_i);return false;}var _l=this.formurl;if(_l){this.set_formurl(_l);}_k._is_window=false;_k._window_type=1;var _m=_k._adjust_left;var _n=_k._adjust_top;var _o=_k._adjust_width;var _p=_k._adjust_height;if(this.autosize){var _t=this._getAutosizedFrameSize(true);this.width=_o=_t.width;this.height=_p=_t.height;}var _q=_k._getOpenAlignPos(this._getWindow(),_m,_n,_o,_p);if(_q){this.left=_q.left;this.top=_q.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _u=null;if(_h&&_h._focusManager){_u=_h._focusManager[0];}if(_u){if(_u.parent._is_form){this.opener=_u.parent;}else{this.opener=_h?_h.form:null;}}else{this.opener=_h?_h.form:null;}}if(this.form){this.form.opener=this.opener;}var _r=this._recalcModalPosition(this.left,this.top,this.width,this.height);this.left=_r.left;this.top=_r.top;this.width=_r.width;this.height=_r.height;this._setModalLock();this.createComponent(true);this.on_created();return true;};_pChildFrame._showModalSync=function(_a,_b,_c,_d){var _e,_f,_g,_h;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_g=arguments[0];_f=arguments[1];this._arg=arguments[2];this.opener=arguments[3];}else{_g=this.id;_f=arguments[0];this._arg=arguments[1];this.opener=arguments[2];}var _i=null;if(_f==null){_f=application.mainframe;}if(_f){_e=_f.addChild(_g,this);}if(_e== -1){return false;}else{_i=this;}if(_i&&_i._arg){for(var _q in _i._arg){_i._addVariable(_q,_i._arg[_q]);}}if(application._registerPopupFrame(_g,this)<0){nexacro.FireSystemError(this,"0x8001002A",_g);return false;}_i._is_window=false;_i._window_type=4;var _j=_i._adjust_left;var _k=_i._adjust_top;var _l=_i._adjust_width;var _m=_i._adjust_height;if(this.autosize){var _r=this._getAutosizedFrameSize(true);this.width=_l=_r.width;this.height=_m=_r.height;}var _n=_i._getOpenAlignPos(this._getWindow(),_j,_k,_l,_m);if(_n){this.left=_n.left;this.top=_n.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _s=null;if(_f&&_f._focusManager){_s=_f._focusManager[0];}if(_s){if(_s.parent._is_form){this.opener=_s.parent;}else{this.opener=_f?_f.form:null;}}else{this.opener=_f?_f.form:null;}}if(this.form){this.form.opener=this.opener;}var _o=this._recalcModalPosition(this.left,this.top,this.width,this.height);this.left=_o.left;this.top=_o.top;this.width=_o.width;this.height=_o.height;this._setModalLock();this.createComponent(true);this.on_created();var _p=this._getWindow();if(_p&&_p._handle){nexacro._blockScript(_p._handle);}return true;};_pChildFrame.showModeless=function(_a,_b,_c,_d){var _e,_f,_g,_h;if(!(_a instanceof nexacro.Frame)&&_a!=null){_f=_b;_g=_a;this.id=_g;this._arg=_c;if(_d){this.opener=_d;}}else{_f=_a;_g=this.id;this._arg=_b;if(_c){this.opener=_c;}}var _i;if(_f){_e=_f.addChild(_g,this);}if(_e== -1){return false;}else{_i=this;}if(_i&&_i._arg){for(var _q in _i._arg){_i._addVariable(_q,_i._arg[_q]);}}if(application._registerPopupFrame(_g,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_g);}if(this._init_formurl){this.set_formurl(this._init_formurl);}_i._is_window=true;_i._window_type=2;var _j=_i._adjust_left;var _k=_i._adjust_top;var _l=_i._adjust_width;var _m=_i._adjust_height;var _n=false;if(this.autosize&&this.form&&!this.form._is_loading){var _r=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");this.width=_l=_r.width;this.height=_m=_r.height;_n=true;}if(!_n){var _s=_i._getOpenAlignPos(_i._window,_j,_k,_l,_m);if(_s){_j=_s.left;_k=_s.top;}}var _o;if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _t=null;if(_f&&_f._focusManager){_t=_f._focusManager[0];}if(_t){if(_t.parent._is_form){this.opener=_t.parent;}else{this.opener=_f?_f.form:null;}}else{this.opener=_f?_f.form:null;}}if(this.form){this.form.opener=this.opener;}this._accessibility_role="dialog";var _p=_f?_f._getWindow():null;if(!this.autosize||_n){this._window=new nexacro.Window(this.name,_p,false);this._window.attachFrame(this,false);this._window.create(_p,this.id,_l,_m,_j,_k,this.resizable,this.layered,this.showontaskbar);if(this._is_created){this._control_element._parent_elem=null;}}else{this._delayed_create_window=true;this._delayed_create_parent=_p;}return true;};_pChildFrame._showModalWindow=function(_a,_b,_c,_d,_e){this._is_popup_frame=true;var _f,_g,_h,_i,_j;var _k=0;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_h=arguments[0];}else{_k= -1;_h=this.id;}_g=arguments[1+_k];this._arg=arguments[2+_k];if(arguments[3+_k]){this.opener=arguments[3+_k];}_j=arguments[4+_k];_j=1;if(_g){_f=_g.addChild(_h,this);}if(_f== -1){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}if(this&&this._arg){for(var _s in this._arg){this._addVariable(_s,this._arg[_s]);}}if(application._registerPopupFrame(_h,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}if(this._init_formurl){this.set_formurl(this._init_formurl);}this._is_window=true;this._window_type=5;var _l=this._adjust_left;var _m=this._adjust_top;var _n=this._adjust_width;var _o=this._adjust_height;var _p=_b._getWindow();if(_p){_l=_p.getLeft();_m=_p.getTop();}var _q=false;if(this.autosize&&this.form&&this.form._control_element){_n=this.form._init_width;_o=this.form._init_height;_q=true;}if(!_q){var _t=this._getOpenAlignPos(this._window,_l,_m,_n,_o);if(_t){_l=_t.left;_m=_t.top;}}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){this.opener=_g?_g.form:null;}if(this.form){this.form.opener=this.opener;}var _r=_g?_g._getWindow():null;if(this.autosize&&!_q){this._delayed_create_window=true;this._delayed_create_parent=_r;}this._window=new nexacro.Window(this.name,_r,false);this._window.attachFrame(this,false);if(this.form&&this.form._load_manager.status>=7){this._loadedForm();}return this._window.createModal(_r,this.id,_n,_o,_l,_m,this.resizable,this.layered,_j);};_pChildFrame._on_init=nexacro._emptyFn;_pChildFrame._on_load=function(){this.createComponent();this.on_created();};_pChildFrame._showModeless=function(_a,_b){application._registerPopupFrame(_a,this);this._is_popup_frame=true;this._is_window=true;this._window=_b;this._window.frame=this;this._window_type=2;this._load_manager.status=2;var _c=application._cssurls.length;if(_c==0){this._load_manager._is_mainloaded=true;}var _d=application._theme_uri+"/theme.css";this.loadCss(_d,application._project_url);if(_c>0){this._load_manager._is_mainloaded=true;}for(var _o=0;_o<_c;_o++ ){_d=application._cssurls[_o];this.loadCss(_d,application._project_url);}var _e;var _f;var _g;var _h,_i,_j,_k;var _l;var _m;var _n=application._popupframeoption[_a];if(_n){delete application._popupframeoption[_a];_e=_n._formurl;_f=_n._openstyles;_g=_n._parentframe;_h=_n._left;_i=_n._top;_j=_n._width;_k=_n._height;_l=_n._args;this.opener=_m=_n._opener;}if(_g){ret=_g.addChild(_a,this);}if(_l){for(var _p in _l){this._addVariable(_p,_l[_p]);}}this.init(_a,"absolute",_h,_i,_j,_k,null,null,_e);if(_e){this.set_formurl(_e);}if(_f){var _q=_f.split(" ");for(var _o=0;_o<_q.length;_o++ ){var _r=_q[_o].split("=");if(this["set_"+_r[0]]){this["set_"+_r[0]](_r[1]);}}}};_pChildFrame.hideModal=function(){};_pChildFrame.hideModeless=function(){};_pChildFrame.getForm=function(){return this.form?this.form:null;};_pChildFrame.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Frame.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(this._is_window){return true;}return _g;};_pChildFrame.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Frame.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(this._is_window){return true;}return _g;};_pChildFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_loadform_failed&&this.showtitlebar==false){var _n=this.getOwnerFrame();if(_n){_n.removeChild(this.id);if(_n._control_element){_n.on_change_containerRect(_n._control_element.client_width,_n._control_element.client_height);}}if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy();}if(this._control_element){this._control_element.destroy();}this._control_element=null;}if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onrbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmousedown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmousemove.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=nexacro.Frame.prototype.on_fire_sys_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);if(this._is_window){return true;}return _o;};_pChildFrame._createForm=function(){var _a=this.formurl;if(!_a){_a="";}var _b=this.form;if(_b){if(_b._url!=this._formurl){_b.destroyComponent();_b=new Form("form","absolute",0,0,this._client_width,this._client_height,null,null,this);_b._is_init=true;_b.opener=this.opener;this.form=_b;_b.loadForm(_a);if(this._control_element){_b.createComponent();}}}else{_b=new Form("form","absolute",0,0,this._client_width,this._client_height,null,null,this);_b.opener=this.opener;this.form=_b;if(this._formurl){_b.loadForm(_a);}if(this._control_element){_b.createComponent();}}return _b;};_pChildFrame._closeForm=function(_a){if(this._is_window){if(_a!==undefined){this._close_argument=_a;this._window.returnValue=_a;}var _b=this.all;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=_b.get_id(_d);var _f=_b[_d];if(_f._is_window&&_f._window&&_f._is_alive){this.removeChild(_e);_f._window.destroy();_f._window=null;}}var _g=this.getOwnerFrame();if(_g){_g.removeChild(this.id);}if(this.form&&this.form._is_alive){this.form._destroy();this.form=null;}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;}}else{if(_a!==undefined){this._close_argument=_a;}var _g=this.getOwnerFrame();if(_g){_g.removeChild(this.id);}if(this.form&&this.form._is_alive){this.form._destroy();this.form=null;}this._destroy();}};_pChildFrame._destroyForm=function(){if(this.form){this.form._destroy();this.form=null;}};_pChildFrame._loadedForm=function(){this._last_focused=this.form;if(this._is_loadform_failed){return;}this._applyDragMoveType();if(this.autosize){var _a=this._delayed_create_parent;var _b=this._left;var _c=this._top;var _d=this.form._init_width;var _e=this.form._init_height;if(this._is_window&&this._window_type==2){if(this._delayed_create_window){var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(_a,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}this._move(this._adjust_left,this._adjust_top,_d,_e);var _h=this._window=new nexacro.Window(this.name,_a,false);_h.attachFrame(this,false);_h.create(_a,this.id,_d,_e,_b,_c,this.resizable,this.layered,this.showontaskbar);delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){var _g=this._getOpenAlignPos(this._window.parent,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;this._move(_b,_c,_d,_e);var _i=_d+this._window._gap_client_width;var _j=_e+this._window._gap_client_height;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){function getWindowSize(_k){var _l=_k._handle;var _m,_n;if(_l.outerWidth){_m=_l.outerWidth;_n=_l.outerHeight;}else{_k.setSize(_i,_j);var _o=_i-nexacro._getWindowHandleOuterWidth(_l);var _p=_j-nexacro._getWindowHandleOuterHeight(_l);_m=_o+_i;_n=_p+_j;}return {width:_m,height:_n};};var _k=getWindowSize(this._window);if(_k.width!=_i||_k.height!=_j){this._window.setSize(_k.width,_k.height);}}else{this._window.setSize(_i,_j);}}}}else if(this._window_type==5){if(this._delayed_create_window){var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(_a,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}if(this._window._handle){this._window.moveTo(_b,_c);if(this._state_openstatus==0){this._window.setSize(_d,_e);}else{this._restore_position={left:_b,top:_c,width:_d,height:_e,right:this.right,bottom:this.bottom};}}else{this._delayed_window_pos={left:_b,top:_c,width:_d,height:_e};}delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){var _g=this._getOpenAlignPos(this._window.parent,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}this._move(_b,_c,_d,_e);var _i=_d+this._window._gap_client_width;var _j=_e+this._window._gap_client_height;this._window.setSize(_i,_j);}}}else if(this._window_type==1||this._window_type==4){var _f=this._getAutosizedFrameSize(true);_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(this._getWindow(),_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}var _l=this._recalcModalPosition(_b,_c,_d,_e);this._move(_l.left,_l.top,_l.width,_l.height);}}};_pChildFrame._on_window_loaded=function(){this._checkValidWindowSize();if(!this._is_created){this.createComponent();this.on_created();}if(this._lockmode){delete this._lockmode;this._lockmode=null;}};_pChildFrame._createdForm=function(){if(this._state_openstatus!=2){var _a=this.getOwnerFrame();if(_a){var _b=false;if(_a._is_frameset&&_a._getTopOrderFrame()==this){_b=true;}else if(!_a._is_frameset&&_a._is_frame){_b=true;}if(_b){if(this._getWindow()==_a._getWindow()){this._change_state_activate(true);}if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this.form._playAccessibilityWholeReadLabel("focus");}else{this.form._on_focus(true);}}}else{this._change_state_activate(true);if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this.form._playAccessibilityWholeReadLabel("focus");}else{this.form._on_focus(true);}}}if(this._is_window&&this.autosize!=true){this._checkValidWindowSize();}};_pChildFrame._applyDragMoveType=function(){var _a=this.form;if(_a){var _b=false;if(this._dragmovetype==2||(this._dragmovetype==1&&!this.showtitlebar)){_b=true;}{_a._setDragMove(_b,this._is_window);}}if(this.titlebar){this.titlebar._setDragMove(this._dragmovetype!=0,this._is_window);}};_pChildFrame._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){if(this.form&&this.form.titletext.length>0){if(_b.length>0){_b+=" - ";}_b+=this.form.titletext;}}return _b;};_pChildFrame._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){if(this.form&&this.form.statustext.length>0){if(_b.length>0){_b+=" - ";}_b+=this.form.statustext;}}return _b;};_pChildFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){if(!this.openalign._is_empty){if(_a==null){return;}var _f=(this._window_type==1||this._window_type==4);var _g=_f?0:(_a.left|0);var _h=_f?0:(_a.top|0);var _i=_a.clientWidth;var _j=_a.clientHeight;switch(this.openalign.halign){case "left":_b=_g;break;case "center":_b=_g+Math.round((_i-_d)/2);break;case "right":_b=_g+_i-_d;break;}switch(this.openalign.valign){case "top":_c=_h;break;case "middle":_c=_h+Math.round((_j-_e)/2);break;case "bottom":_c=_h+_j-_e;break;}return {left:_b,top:_c};}return null;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Gecko"){_pChildFrame._checkValidWindowSize=function(){var _a=this._window;if(!_a){return;}var _b=this._adjust_width;var _c=this._adjust_height;if((_a.clientWidth!=_b||_a.clientHeight!=_c)&&(_a.clientWidth!=0&&_a.clientHeight!=0)){if(this.autosize!=true&&this._control_element){var _d=this._control_element;_d.setElementSize(_b,_c);_d.setElementSize(this._adjust_width,this._adjust_height);_d._updateClientSize();}this._move(this._adjust_left,this._adjust_top,_a.clientWidth,_a.clientHeight);if(this.autosize!=true){this.on_change_containerRect(this._adjust_width,this._adjust_height);}return false;}return true;};}else{_pChildFrame._checkValidWindowSize=nexacro._emptyFn;};_pChildFrame._setModalLock=function(){var _a=this._getWindow();if(!_a){_a=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_a){return;}_a._on_modalLock();var _b=_a.getCurrentFocusPaths()?_a.getCurrentFocusPaths().slice(0):null;_a._removeFromCurrentFocusPath(null,false);var _c=this.on_find_CurrentStyle_overlaycolor(this._pseudo);var _d=nexacro._zindex_firstmodal;var _e=_a._modal_frame_stack;if(_e.length>0){var _i=_e[_e.length-1];_d=_i[1]+1;}var _f=this.parent;if(!_f){_f=application.mainframe;}var _g;if(_a.frame&&_a.frame._waitcomp){var _j=_a.frame._waitcomp;if(_j._control_element&&_j._control_element._handle){_g=_j._control_element._handle;}}var _h=this._modal_overlay_elem=new nexacro.ModalOverlayElement(_f._control_element);_h.setLinkedControl(this);_h.create(_d,_c,_g);_a._modal_frame_stack.push([this,_d,_b]);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){if(this.opener){this.opener._setAccessibilityHidden(true);}}};_pChildFrame._setModalUnlock=function(){var _a=this._getWindow();if(!_a){_a=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_a){return;}var _b=_a._modal_frame_stack;var _c=_b.length;var _d;for(var _f=0;_f<_c;_f++ ){_d=_b[_f];if(_d[0]==this){for(var _g=_f;_g<_c-1;_g++ ){_b[_g]=_b[_g+1];}_b.length=_c-1;break;}}application._unregisterPopupFrame(this.id);var _e=_d[2];if(_e&&_e.length>0){var _h=_e.length;for(_f=0;_f<_h;_f++ ){var _i=_e[_f];if(_i instanceof nexacro.ChildFrame){_i._on_activate();continue;}else if(_i._is_form){_i._on_focus(true);break;}if(_f==(_h-1)){_i._on_focus(true);}}}if(this._modal_overlay_elem){this._modal_overlay_elem.destroy();this._modal_overlay_elem=null;}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){if(this.opener){this.opener._setAccessibilityHidden(false);}}};_pChildFrame._setModalOverlaySize=function(_a,_b){this._modal_overlay_elem.setElementSize(_a,_b);if(this._state_openstatus==3){this._setSize(_a,_b);}};_pChildFrame._recalcModalPosition=function(_a,_b,_c,_d){_a=parseInt(_a);_b=parseInt(_b);_c=parseInt(_c);_d=parseInt(_d);var _e=this._getWindow();if(!_e){return {left:_a,top:_b,width:_c,height:_d};}var _f=parseInt(this.on_find_CurrentStyle_titlebarheight().value)|0;if(_f<=0){_f=this._defaultTitleHeight;}if(_a+_c>_e.clientWidth){_a=_e.clientWidth-_c;}if(_b+_f>_e.clientHeight){_b=_e.clientHeight-_f;}if(_a<0){_a=0;}if(_b<0){_b=0;}return {left:_a,top:_b,width:_c,height:_d};};_pChildFrame._getAutosizedFrameSize=function(_a){var _b=this._adjust_width;var _c=this._adjust_height;var _d=this.form;if(_d&&_d._is_loading==false){_b=_d._init_width;_c=_d._init_height;}if(_a){var _e=0,_f=0;if(this.showtitlebar){_e=parseInt(this.on_find_CurrentStyle_titlebarheight().value)|0;}if(this.showstatusbar){_f=parseInt(this.on_find_CurrentStyle_statusbarheight().value)|0;}var _g=this.on_find_CurrentStyle_border();if(_g){_b+=_g._getBorderLeftWidth()+_g._getBorderRightWidth();_c+=_g._getBorderTopWidth()+_g._getBorderBottomWidth();}_c+=_e+_f;}return {"width":_b,"height":_c};};nexacro.FrameSetBase_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.childmoveeffect=null;this.childopenstatuseffect=null;};var _pFrameSetBaseStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.FrameSetBase_Style);nexacro.FrameSetBase_Style.prototype=_pFrameSetBaseStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameSetBaseStyle","childmoveeffect"));eval(nexacro._createValueAttributeEvalStr("_pFrameSetBaseStyle","childopenstatuseffect"));_pFrameSetBaseStyle.__custom_emptyObject=function(){this.childmoveeffect=null;this.childopenstatuseffect=null;};_pFrameSetBaseStyle.__get_custom_style_value=function(){var _a="";if(this.childmoveeffect&&!this.childmoveeffect._is_empty){_a+="childmoveeffect:"+this.childmoveeffect._value+"; ";}if(this.childopenstatuseffect&&!this.childopenstatuseffect._is_empty){_a+="childopenstatuseffect:"+this.childopenstatuseffect._value+"; ";}return _a;};nexacro.FrameSetBase_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);};var _pFrameSetBaseCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.FrameSetBase_CurrentStyle);nexacro.FrameSetBase_CurrentStyle.prototype=_pFrameSetBaseCurrentStyle;_pFrameSetBaseCurrentStyle.__custom_emptyObject=_pFrameSetBaseStyle.__custom_emptyObject;_pFrameSetBaseCurrentStyle.__get_custom_style_value=_pFrameSetBaseStyle.__get_custom_style_value;delete _pFrameSetBaseStyle;delete _pFrameSetBaseCurrentStyle;nexacro.FrameSetBase=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.frames=new nexacro.Collection();this.separatesize="";this.keepseparatesizewhenswap=false;this.ctrltaborder="active";this.ctrltabtype="order";this.showstatusbar=false;this.showtitlebar=false;this._separatesize=[];this._max_frame=null;this._track_frame=null;this._active_frame=null;this._zorderMap=new nexacro.Collection();this._is_frameset=true;this._is_autorecalc_frame=true;};var _pFrameSetBase=nexacro._createPrototype(nexacro.Frame,nexacro.FrameSetBase);nexacro.FrameSetBase.prototype=_pFrameSetBase;_pFrameSetBase._type_name="FrameSetBase";_pFrameSetBase.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_childmoveeffect(_a);if(_c!=_b.childmoveeffect){_b.childmoveeffect=_c;}var _d=this.on_find_CurrentStyle_childopenstatuseffect(_a);if(_d!=_b.childopenstatuseffect){_b.childopenstatuseffect=_d;}};_pFrameSetBase.on_create_custom_style=function(){return new nexacro.FrameSetBase_Style(this);};_pFrameSetBase.on_create_custom_currentStyle=function(){return new nexacro.FrameSetBase_CurrentStyle();};_pFrameSetBase.on_find_CurrentStyle_childmoveeffect=function(_a){return this._find_pseudo_obj("childmoveeffect",_a,"value");};_pFrameSetBase.on_find_CurrentStyle_childopenstatuseffect=function(_a){return this._find_pseudo_obj("childopenstatuseffect",_a,"value");};_pFrameSetBase.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);var _a=this.frames.length;for(var _b=0;_b<_a;_b++ ){var _c=this.frames[_b];if(_c.set_resizable){_c.set_resizable(true);}_c.createComponent();this._zorderMap.add_item(_c.name,_c);}};_pFrameSetBase.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){;}};_pFrameSetBase.on_created_contents=function(){nexacro.Frame.prototype.on_created_contents.call(this);var _a=0,_b=0;var _c=0,_d=0;var _e=this._control_element;if(_e){_c=_e.client_width/5*3;_d=_e.client_height/5*3;_b=this._control_element.client_top;}var _f=this._getTitlebarHeight();var _g=this.frames.length;for(var _h=0;_h<_g;_h++ ){var _i=this.frames[_h];if(_i.position){if(_i._adjsut_width==0&&_i._adjsut_height==0){_i._move(_a,_b,_c,_d);_a+=_f;_b+=_f;}}_i.on_created();}};_pFrameSetBase.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);var _a=this.frames.length;for(var _b=_a-1;_b>=0;_b-- ){var _c=this.frames[_b];if(_c){_c.destroyComponent();_c=null;}}this.frames=null;};_pFrameSetBase._updateClientSize=function(_a){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;var _f=false;if(this._client_left!=_b||this._client_top!=_c){this._client_left=_b;this._client_top=_c;_f=true;}if(this._client_width!=_d||this._client_height!=_e){this._client_width=_d;this._client_height=_e;_f=true;}if(_f){this.on_change_containerRect(_d,_e);}};_pFrameSetBase.set_ctrltaborder=function(){;};_pFrameSetBase.set_ctrltabtype=function(){;};_pFrameSetBase.set_separatesize=function(_a){if(this.separatesize!=_a){this.separatesize=_a;this._separatesize=_a.split(",");var _b=this._control_element;if(_b){this.on_change_containerRect(_b.client_width,_b.client_height);}}};_pFrameSetBase.set_keepseparatesizewhenswap=function(_a){var _b=nexacro._toBoolean(_a);if(this.keepseparatesizewhenswap!=_b){this.keepseparatesizewhenswap=_b;}};_pFrameSetBase.set_minimizedchildposition=function(_a){var _b=this.minimizedchildposition;if(_b==_a){return;}switch(_a){case "left":this._minimizedchildposition=0;this.minimizedchildposition=_a;break;case "top":this._minimizedchildposition=1;this.minimizedchildposition=_a;break;case "right":this._minimizedchildposition=2;this.minimizedchildposition=_a;break;case "bottom":this._minimizedchildposition=3;this.minimizedchildposition=_a;break;}var _c=this._control_element;if(this.minimizedchildposition==_a&&_c){this.on_change_containerRect(_c.client_width,_c.client_height);}return this.minimizedchildposition;};_pFrameSetBase._on_child_movetrack=function(_a,_b,_c,_d){var _e=(this._type_name=="VFrameSet")?false:true;var _f=(this._type_name=="HFrameSet")?false:true;var _g=_a._adjust_left+(_a._adjust_width/2);var _h=_a._adjust_top+(_a._adjust_height/2);var _i= -1;for(var _j=0;_j<this.frames.length;_j++ ){var _k=this.frames[_j];if(_k==_a){continue;}if(_k._state_openstatus==2){continue;}if(_e){var _l=_k._adjust_left;var _m=_l+_k._adjust_width;if(_l>_g){continue;}if(_m<_g){continue;}}if(_f){var _n=_k._adjust_top;var _o=_n+_k._adjust_height;if(_n>_h){continue;}if(_o<_h){continue;}}_i=_j;break;}if(_i!=( -1)){var _p=this.frames;var _q=_p.indexOf(_a.name);var _r=_p[_i];_p.remove_item(_r.name);_p.insert_item(_q,_r.name,_r);_p.remove_item(_a.name);_p.insert_item(_i,_a.name,_a);if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pFrameSetBase._on_child_starttrack=function(_a,_b,_c,_d){if(_a){this._track_frame=_a;}};_pFrameSetBase._on_child_endtrack=function(_a,_b,_c,_d){this._track_frame=null;if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}};_pFrameSetBase._change_state_activate=function(_a,_b){if(_a==true){if(_b){var _c=this.getActiveFrame();if(_c&&_c!=_b){_c._change_state_activate(false,null);}this._active_frame=_b;if(_b._control_element){if(this._zorderMap.indexOf(_b)<0){alert("zorder missed: "+_b.id);this._zorderMap.insert_item(0,_b,_b.id);}if(this._zorderMap.length>1){if(this._control_element){this._control_element.bringToFrontElement(_b._control_element);}this._zorderMap.remove_item(_b.id);this._zorderMap.add_item(_b.id,_b);}if(this._max_frame&&this._max_frame!=_b){_b._change_state_OpenStatus(3);}}}}else if(_a==false){var _d=this.frames;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){var _g=_d[_f];if(_g._isNested()){_g._change_state_activate(false);}}}nexacro.Frame.prototype._change_state_activate.call(this,_a);};_pFrameSetBase.on_apply_prop_enable=function(_a){var _b=this.frames;for(var _c=0;_c<_b.length;_c++ ){var _d=_b[_c];_d._setEnable(_a);}};_pFrameSetBase.on_apply_prop_rtldirection=function(){var _a=this._control_element;if(_a){this.on_change_containerRect(_a.client_width,_a.client_height);}var _b=this._rtldirection;var _c=this.frames;if(_c){var _d;for(_d=0;_d<_c.length;_d++ ){var _e=_c[_d];if(_e){_e._setRtlDirection(_b);}}}};_pFrameSetBase.getActiveFrame=function(){if(this._active_frame){return this._active_frame;}return this._getTopOrderFrame();};_pFrameSetBase.getHandle=function(){};_pFrameSetBase._getTopOrderFrame=function(){var _a=this._zorderMap.length;if(_a>0){var _b=this._zorderMap.get_item(_a-1);return _b;}return null;};_pFrameSetBase._getNextOrderFrame=function(_a){var _b=this._zorderMap.length;if(_b>0){var _c=this._zorderMap.indexOf(_a.id);if(_c-1>_b-1&&_c-1<0){return null;}var _d=this._zorderMap.get_item(_c-1);return _d;}return null;};_pFrameSetBase._visibleFrameCount=function(){return this.frames.length;};_pFrameSetBase._getMinimizeFrameCount=function(){var _a=0;for(var _b=0;_b<this.frames.length;_b++ ){if(this.frames[_b]._state_openstatus==2){_a++ ;}}return _a;};_pFrameSetBase._recalcSeparateFrameSize=function(_a,_b,_c){var _d=[];var _e=((_c)?_c:this._separatesize.length);var _f=((_b)?_b:this._visibleFrameCount());var _g=0,_h=0;var _i=0,_j=0;var _k=this._separatesize;for(var _l=0;_l<_f;_l++ ){var _m=_k[_l];var _n= -1;var _o= -1;if(_m){_m.trim();_o=((_m.indexOf("*")<0)&&(_m.length>0))?nexacro._parseInt(_m): -1;}if(_o== -1){var _p= -1;if(_m){_p=nexacro._parseInt(_m.substring(0,_n));}if(_p>0){_g+=_p;_d[_l]=_p*_o;}else{_g++ ;_d[_l]=_o;}}else{_h++ ;_i+=_o;if(_i<=_a){_d[_l]=_o;}else if(_h==1){_d[_l]=_a;}else{_i-=_o;}}}_j=_g>0?(_a-_i)/_g:0;for(var _l=0;_l<_f;_l++ ){if(_d[_l]<0){_d[_l]=Math.abs(_d[_l])*_j;}else if(_d[_l]==undefined){_d[_l]=0;}}return _d;};_pFrameSetBase._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getTitleText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pFrameSetBase._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getStatusText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};delete _pFrameSetBase;nexacro.FrameSet_Style=function(_a){nexacro.FrameSetBase_Style.call(this,_a);};var _pFrameSetStyle=nexacro._createPrototype(nexacro.FrameSetBase_Style,nexacro.FrameSet_Style);nexacro.FrameSet_Style.prototype=_pFrameSetStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameSetStyle","minimizewidth"));eval(nexacro._createValueAttributeEvalStr("_pFrameSetStyle","minimizeheight"));_pFrameSetStyle.__custom_emptyObject=function(){this.minimizewidth=null;this.minimizeheight=null;};_pFrameSetStyle.__get_custom_style_value=function(){var _a="";if(this.minimizewidth&&!this.minimizewidth._is_empty){_a+="minimizewidth:"+this.minimizewidth._value+"; ";}if(this.minimizeheight&&!this.minimizeheight._is_empty){_a+="minimizeheight:"+this.minimizeheight._value+"; ";}return _a;};nexacro.FrameSet_CurrentStyle=function(){nexacro.FrameSetBase_CurrentStyle.call(this);};var _pFrameSetCurrentStyle=nexacro._createPrototype(nexacro.FrameSetBase_CurrentStyle,nexacro.FrameSet_CurrentStyle);nexacro.FrameSet_CurrentStyle.prototype=_pFrameSetCurrentStyle;_pFrameSetCurrentStyle.__custom_emptyObject=_pFrameSetStyle.__custom_emptyObject;_pFrameSetCurrentStyle.__get_custom_style_value=_pFrameSetStyle.__get_custom_style_value;delete _pFrameSetStyle;delete _pFrameSetCurrentStyle;nexacro.FrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.separatesize="";this.keepseparatesizewhenswap=false;this.childmoveeffect=null;this.childopenstatuseffect=null;this.ctrltaborder=0;this.ctrltabtype=0;this.minimizedchildposition="bottom";this._separatesize=[];this._minimizedchildposition=3;this._is_autorecalc_frame=false;};var _pFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.FrameSet);nexacro.FrameSet.prototype=_pFrameSet;_pFrameSet._type_name="FrameSet";_pFrameSet.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_minimizewidth(_a);var _d=false;if(_c!=_b.minimizewidth){_b.minimizewidth=_c;_d=true;}var _e=this.on_find_CurrentStyle_minimizeheight(_a);if(_e!=_b.minimizeheight){_b.minimizeheight=_e;_d=true;}if(_d){this.on_change_containerRect(this._client_width,this._client_height);}};_pFrameSet.on_create_custom_style=function(){return new nexacro.FrameSet_Style(this);};_pFrameSet.on_create_custom_currentStyle=function(){return new nexacro.FrameSet_CurrentStyle();};_pFrameSet.on_find_CurrentStyle_minimizewidth=function(_a){return this._find_pseudo_obj("minimizewidth",_a,"value");};_pFrameSet.on_find_CurrentStyle_minimizeheight=function(_a){return this._find_pseudo_obj("minimizeheight",_a,"value");};_pFrameSet.on_apply_style_minimizewidth=function(){};_pFrameSet.on_apply_style_minimizeheight=function(){};_pFrameSet.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){var _d=0;var _e=0;var _f=_c.client_width;var _g=_c.client_height;var _h=_d+_c.client_width;var _i=_e+_c.client_height;if(this._max_frame){this._max_frame._move(_d,_e,_f,_g);}var _j=0;for(_j=0;_j<this.frames.length;_j++ ){var _k=this.frames[_j];if(_k==this._max_frame){continue;}if(_k._state_openstatus==2){_k._setVerticalMin(false);var _l=25*5;var _m= -1;if(_m==( -1)){var _n=_k.on_find_CurrentStyle_titlebarheight();_m=parseInt(_n.value)|0;var _o=_k.on_find_CurrentStyle_border();_m+=_o._getBorderTopWidth();_m+=_o._getBorderBottomWidth();}switch(this._minimizedchildposition){case 0:_i=_e+_m;_k._move(_d,_e,_l,_m);_e=_i;break;case 1:_h=_d+_l;_k._move(_d,_e,_l,_m);_d=_h;break;case 2:_i=_e+_m;_k._move(_h-_l,_e,_l,_m);_e=_i;break;case 3:_h=_d+_l;_k._move(_d,_i-_m,_l,_m);_d=_h;break;}}}}};_pFrameSet.set_minimizewidth=function(){;};_pFrameSet.set_minimizeheight=function(){;};_pFrameSet.arrange=function(_a){if(this._max_frame){this._max_frame.on_syscommand(this._max_frame._control_element,"restore",true,this._max_frame,null);}var _b=0;for(var _g=0;_g<this.frames.length;_g++ ){var _h=this._zorderMap[_g];if(_h.visible==false||_h._state_openstatus==2){continue;}_b++ ;}var _c=0;var _d=0;var _e=this._client_width;var _f=this._client_height;if(_a=="cascade"){var _i=0;for(var _j=100;;_i++ ){if(this._client_height<_j){break;}_j+=(60+(_i*10));}var _k=this._getTitlebarHeight()>0?this._getTitlebarHeight():20;var _l=_k;_e=this._client_width-(_k*_i);_f=this._client_height-(_l*_i);for(var _g=0,_m=0;_g<this.frames.length;_g++ ){var _h=this._zorderMap[_g];if(_h.visible==false||_h._state_openstatus==2){continue;}_c=_k*(_m%(_i+1));_d=_l*(_m%(_i+1));_h._move(_c,_d,_e,_f);_m++ ;}}if(_a=="tilevertical"){var _n=true;var _o=parseInt(Math.sqrt(_b))|0;var _p=parseInt(_b/_o)|0;if((_b%_o)!=0){_o+=1;_n=false;}var _q=_b;for(var _r=0,_g=0;_r<_p;_r++ ){for(var _s=0;_s<_o;){var _h=this._zorderMap[_g];if(_h.visible==false||_h._state_openstatus==2){_g++ ;continue;}var _t={left:_c,top:_d,right:_c+_e,bottom:_d+_f};_t.right=_t.left+((_t.right-_t.left)/_p);_t.bottom=_t.top+((_t.bottom-_t.top)/_o);var _u=_t.right-_t.left;var _v=_t.bottom-_t.top;_t.left+=(_p-_r-1)*_u;_t.top+=(_o-_s-1)*_v;_t.right+=(_p-_r-1)*_u;_t.bottom+=(_o-_s-1)*_v;_h._move(_t.left,_t.top,_t.right-_t.left,_t.bottom-_t.top);_s++ ,_g++ ,_q-- ;}if(!_n&&_o>2&&(_q%(_o-1))==0){_o-- ;_n=true;}}}if(_a=="tilehorizontal"){var _n=true;var _p=parseInt(Math.sqrt(_b))|0;var _o=parseInt(_b/_p)|0;if((_b%_p)!=0){_o+=1;_n=false;}var _q=_b;for(var _r=0,_g=0;_r<_p;_r++ ){for(var _s=0;_s<_o;){var _h=this._zorderMap[_g];if(_h.visible==false||_h._state_openstatus==2){continue;}var _t={left:_c,top:_d,right:_c+_e,bottom:_d+_f};_t.right=_t.left+((_t.right-_t.left)/_p);_t.bottom=_t.top+((_t.bottom-_t.top)/_o);var _u=_t.right-_t.left;var _v=_t.bottom-_t.top;_t.left+=(_p-_r-1)*_u;_t.top+=(_o-_s-1)*_v;_t.right+=(_p-_r-1)*_u;_t.bottom+=(_o-_s-1)*_v;_h._move(_t.left,_t.top,_t.right-_t.left,_t.bottom-_t.top);_s++ ,_g++ ,_q-- ;}if(!_n&&_o>2&&(_q%(_o-1))==0){_o-- ;_n=true;}}}if(_a=="vertical"){for(var _g=0,_m=0;_g<this.frames.length;_g++ ){var _h=this._zorderMap[_g];if(_h.visible==false||_h._state_openstatus==2){continue;}_h._move(_c+(_m*(_e/_b)),_d,(_e/_b),_f);_m++ ;}}if(_a=="horizontal"){var _w=_d;for(var _g=0;_g<this.frames.length;_g++ ){var _h=this._zorderMap[_g];if(_h.visible==false||_h._state_openstatus==2){continue;}var _t={left:_c,top:_d,right:_c+_e,bottom:_d+_f};_t.top=_w;_t.bottom=_t.top+(_f/_b);var _x=0,_y=0;if(_t.bottom-_t.top<_y){_t.bottom=_t.top+_y;}_w=_t.bottom+1;_h._move(_c,_t.top,_e,_t.bottom-_t.top);}}};delete _pFrameSet;nexacro.VFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pVFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.VFrameSet);nexacro.VFrameSet.prototype=_pVFrameSet;_pVFrameSet._type_name="VFrameSet";_pVFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_b);var _e=this.frames.length;var _f=0;var _g=0;var _h=0;var _i=_f+_a;var _j=this._client_height;if(this._max_frame){var _k= -1;var _l=0;for(var _m=0;_m<_e;_m++ ){var _n=this.frames[_m];if(_n==this._max_frame){_k=_m;continue;}var _o=_n.on_find_CurrentStyle_titlebarheight();_l=parseInt(_o.value)|0;var _p=_n.on_find_CurrentStyle_border();if(_p){_l+=_p._getBorderTopWidth();_l+=_p._getBorderBottomWidth();}_j-=_l;_d[_m]=_l;}_d[_k]=_j;}var _q=false;var _r=0;for(var _m=0;_m<_e;_m++ ){var _n=this.frames[_m];if(_q){_g=_h;_q=false;}if(_n._state_openstatus==2){_n._setVerticalMin(false);var _l=0;var _o=_n.on_find_CurrentStyle_titlebarheight();_l=parseInt(_o.value)|0;var _p=_n.on_find_CurrentStyle_border();if(_p){_l+=_p._getBorderTopWidth();_l+=_p._getBorderBottomWidth();}_r+=_d[_m]-_l;_d[_m]=_l;_q=true;}if(_n._state_openstatus!=2){_d[_m]+=_r;_r=0;}_h=_d[_m]+_g;if(_n!=this._track_frame){_n._move(_f,_g,_i-_f,_h-_g);}_g=_h;}}};_pVFrameSet.arrange=nexacro._emptyFn;_pVFrameSet.set_minimizedchildposition=nexacro._emptyFn;delete _pVFrameSet;nexacro.HFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pHFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.HFrameSet);nexacro.HFrameSet.prototype=_pHFrameSet;_pHFrameSet._type_name="HFrameSet";_pHFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_a);var _e=this.frames.length;var _f=0;var _g=0;var _h=0;var _i=_g+_b;var _j=this._client_width;if(this._max_frame){var _k= -1;var _l=0;for(var _m=0;_m<_e;_m++ ){var _n=this.frames[_m];if(_n==this._max_frame){_k=_m;continue;}var _o=_n.on_find_CurrentStyle_titlebarheight();_l=parseInt(_o.value)|0;var _p=_n.on_find_CurrentStyle_border();if(boderval){_l+=_p._getBorderLeftWidth();_l+=_p._getBorderRightWidth();}_j-=_l;_d[_m]=_l;}_d[_k]=_j;}var _q=false;var _r=0;for(var _m=0;_m<_e;_m++ ){var _n=this.frames[_m];if(_q){_f=_h;_q=false;}if(_n._state_openstatus==2){_n._setVerticalMin(true);var _l=0;var _o=_n.on_find_CurrentStyle_titlebarheight();_l=parseInt(_o.value)|0;var _p=_n.on_find_CurrentStyle_border();if(_p){_l+=_p._getBorderLeftWidth();_l+=_p._getBorderRightWidth();}_r+=_d[_m]-_l;_d[_m]=_l;_q=true;}if(_n._state_openstatus!=2){if(this._max_frame&&_n!=this._max_frame){_n._setVerticalMin(true);}else{_n._setVerticalMin(false);}_d[_m]+=_r;_r=0;}_h=_d[_m]+_f;if(_n!=this._track_frame){_n._move(_f,_g,_h-_f,_i-_g);}_f=_h;}}};_pHFrameSet.arrange=nexacro._emptyFn;_pHFrameSet.set_minimizedchildposition=nexacro._emptyFn;delete _pHFrameSet;nexacro.TileFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.separatetype="horizontal";this.separatecount=1;this.fullframemaximize=true;this.minimizedchildposition="bottom";this._separatetype=0;this._minimizedchildposition=3;};var _pTileFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.TileFrameSet);nexacro.TileFrameSet.prototype=_pTileFrameSet;_pTileFrameSet._type_name="TileFrameSet";_pTileFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this.frames.length;var _e=_c.client_width;var _f=_c.client_height;if(this.fullframemaximize==false){if(this._max_frame){for(var _g=0;_g<this.frames.length;_g++ ){if(this._max_frame!=this.frames[_g]&&this.frames[_g]._state_openstatus!=2){this.frames[_g].openstatus="minimize";this.frames[_g]._change_state_OpenStatus(2);}}}else{for(var _g=0;_g<this.frames.length;_g++ ){if(this.frames[_g]._state_openstatus==2){this.frames[_g].openstatus="normal";this.frames[_g]._change_state_OpenStatus(0);}}}}var _h=this._getMinimizeFrameCount();var _i=(_d-_h)>0?_d-_h:1;var _j=this.separatecount>0?this.separatecount:1;var _k=parseInt(_i/_j)+(parseInt(_i%_j)>0?1:0);var _l=false;if(this._minimizedchildposition==1||this._minimizedchildposition==3){_l=true;}var _m=0,_n=0;if(_l){_m=_a;if(_h>0){_n=this._getMaxMinimizedHeight();if(_n==( -1)){_n=25;}}}else{_n=_b;if(_h>0){_m=this._getMaxMinimizedWidth();if(_m==( -1)){_m=150;}}}var _o=0,_p=0;if(this._separatetype==1){_o=(_a-(_l?0:_m))/_k;_p=_b-(_l?_n:0);}else{_o=_a-(_l?0:_m);_p=(_b-(_l?_n:0))/_k;}var _q=_d-_j>0?_j:_d;var _r=_i-_j>0?_j:_i;var _s=0;if(this._separatetype==1){_s=_b;if(_l){_s-=_n;}}else{_s=_a;if(!_l){_s-=_m;}}var _t=this._recalcSeparateFrameSize(_s,_r,_r);var _u=0;var _v=0;var _w=_u+_a;var _x=_v+_b;if(_h>0){switch(this._minimizedchildposition){case 0:_u+=_m;break;case 1:_v+=_n;break;case 2:_w-=_m;break;case 3:_x-=_n;break;}}if(this._separatetype==1){_w=_u+_o;}else{_x=_v+_p;}if(this._max_frame){if(this.fullframemaximize){this._max_frame._move(0,0,_e,_f);}else{this._max_frame._move(_u,_v,_w-_u,_x-_v);}if(this._control_element&&this._max_frame._control_element){this._control_element.bringToFrontElement(this._max_frame._control_element);}}else if(this.fullframemaximize==false){for(var _g=0;_g<this.frames.length;_g++ ){if(this.frames[_g]._state_openstatus==2){this.frames[_g]._change_state_OpenStatus(1);}}}var _g=0,_y=0,_z=0;for(_g=0;_g<_k;_g++ ){for(_y=0;_y<_r&&_z<_d;_z++ ){var _aa=this.frames[_z];if(_aa==this._max_frame){continue;}if(_aa._state_openstatus==2){continue;}if(this._separatetype==1){_x=_t[_y]+_v;}else{_w=_t[_y]+_u;}if(_aa!=this._track_frame){_aa._move(_u,_v,_w-_u,_x-_v);}if(this._separatetype==1){_v=_x;}else{_u=_w;}_y++ ;}if(this._separatetype==1){_v=0;_u=_w;_w=_u+_o;if(this._minimizedchildposition==1){_v+=_n;}}else{_u=0;_v=_x;_x=_v+_p;if(this._minimizedchildposition==0){_u+=_m;}}}if(_h<=0){return;}var _ab=0;var _ac=0;var _ad=_ab+this._client_width;var _ae=_ac+this._client_height;switch(this._minimizedchildposition){case 0:_ad=_ab+_m;break;case 1:_ae=_ac+_n;break;case 2:_ab=_ad-_m;break;case 3:_ac=_ae-_n;break;}var _af=150;var _ag=_a-(_h*_af);_ag=_ag>0?_af:(_a/_h);_ag=_ag<100?100:_ag;for(_g=0;_g<_d;_g++ ){var _aa=this.frames[_g];if(_aa._state_openstatus==2){_aa._setVerticalMin(false);var _ah= -1;if(_ah==( -1)){var _ai=_aa.on_find_CurrentStyle_titlebarheight();_ah=parseInt(_ai.value)|0;var _aj=_aa.on_find_CurrentStyle_border();_ah+=_aj._getBorderTopWidth();_ah+=_aj._getBorderBottomWidth();}switch(this._minimizedchildposition){case 0:_ae=_ac+_ah;_aa._move(_ab,_ac,_ad-_ab,_ah);_ac=_ae;break;case 1:_ad=_ab+_ag;_aa._move(_ab,_ac,_ag,_ae-_ab);_ab=_ad;break;case 2:_ae=_ac+_ah;_aa._move(_ab,_ac,_ad-_ab,_ah);_ac=_ae;break;case 3:_ad=_ab+_ag;_aa._move(_ab,_ac,_ag,_ae-_ac);_ab=_ad;break;}}}}};_pTileFrameSet.set_separatetype=function(_a){if(this.separatetype!=_a){this.separatetype=_a;this._separatetype=(_a=="vertical"?1:0);if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.set_separatecount=function(_a){var _b=nexacro._parseInt(_a);if(this.separatecount!=_b){if(_b<0){this.separatecount=1;}else{this.separatecount=_b;}if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.set_fullframemaximize=function(_a){var _b=nexacro._toBoolean(_a);if(this.fullframemaximize!=_b){this.fullframemaximize=_b;for(var _c=0;_c<this.frames.length;_c++ ){var _d=this.frames[_c];if(_d.titlebar){if(_b==false){_d.titlebar._setAbsoluteStyle(0x0001,0);}else{_d.titlebar._setAbsoluteStyle(0x0100,0x0001);_d.titlebar._setAbsoluteStyle(0,0x0100);}}}if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.arrange=nexacro._emptyFn;_pTileFrameSet._getMaxMinimizedWidth=function(){var _a= -1;for(var _b=0;_b<this.frames.length;_b++ ){var _c=this.frames[_b];if(_c._state_openstatus!=2){continue;}}return _a;};_pTileFrameSet._getMaxMinimizedHeight=function(){var _a= -1;for(var _b=0;_b<this.frames.length;_b++ ){var _c=this.frames[_b];if(_c._state_openstatus!=2){continue;}var _d= -1;if(_d==( -1)){var _e=_c.on_find_CurrentStyle_titlebarheight();_d=parseInt(_e.value)|0;var _f=_c.on_find_CurrentStyle_border();_d+=_f._getBorderTopWidth();_d+=_f._getBorderBottomWidth();if(_d>_a){_a=_d;}}}return _a;};delete _pTileFrameSet;if(!nexacro.MainTitleBarCtrl){nexacro.MainTitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._hittest_type="caption";};var _pMainTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBarCtrl,nexacro.MainTitleBarCtrl);nexacro.MainTitleBarCtrl.prototype=_pMainTitleBarCtrl;delete _pMainTitleBarCtrl;}if(!nexacro.ChildTitleBarCtrl){nexacro.ChildTitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;if(_i&&_i._is_frame&&_i._is_window&&_i._dragmovetype!=0){this._hittest_type="caption";}};var _pChildTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBarCtrl,nexacro.ChildTitleBarCtrl);nexacro.ChildTitleBarCtrl.prototype=_pChildTitleBarCtrl;delete _pChildTitleBarCtrl;}if(!nexacro.MainStatusBarCtrl){nexacro.MainStatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.zoomcombo=null;this.zoomcombogap=1;this.zoomcomboheight=20;this.zoomcombowidth=70;this._comm_progress_ref=0;this._comm_progress_timer=null;};var _pMainStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBarCtrl,nexacro.MainStatusBarCtrl);nexacro.MainStatusBarCtrl.prototype=_pMainStatusBarCtrl;_pMainStatusBarCtrl._movezoomcombo=function(_a,_b,_c,_d){if(!this.zoomcombo){return;}var _e=this.currentstyle;var _f=_e.zoomcombowidth>0?_e.zoomcombowidth._value:70;var _g=_e.zoomcomboheight>0?_e.zoomcomboheight._value:20;var _h=_e.zoomcombogap>0?_e.zoomcombogap._value:2;_a=_a-_f-_h;_a=_a>0?_a:0;_b=((_d-_g)/2)|0;if(_b<0){_b=0;}this.zoomcombo.move(_a,_b,_f,_g);return _a;};if(nexacro.Browser=="Runtime"){_pMainStatusBarCtrl._beginCommProgress=function(){var _a= ++this._comm_progress_ref;if(_a==1){var _b=this.progressbar;if(_b){_b.set_max(1000);_b.set_pos(0);}var _c=new nexacro.CallbackTimer(this,function(){var _b=this.progressbar;if(!_b){return;}var _d=_b.pos;_d+=Math.max(1,(1000-_d)/(100*this._comm_progress_ref));if(_d>990){_d=990;}_b.set_pos(_d);},500);_c.start();this._comm_progress_timer=_c;}};_pMainStatusBarCtrl._stepCommProgress=function(_a,_b){var _c=this.progressbar;if(_c){_c.set_max(_b);_c.set_pos(_a);}};_pMainStatusBarCtrl._endCommProgress=function(){var _a= --this._comm_progress_ref;if(_a==0){var _b=this.progressbar;if(_b){_b.set_pos(0);}if(this._comm_progress_timer){this._comm_progress_timer.stop();}}};}else{_pMainStatusBarCtrl._beginCommProgress=nexacro._emptyFn;_pMainStatusBarCtrl._stepCommProgress=nexacro._emptyFn;_pMainStatusBarCtrl._endCommProgress=nexacro._emptyFn;}delete _pMainStatusBarCtrl;}if(!nexacro.ChildStatusBarCtrl){nexacro.ChildStatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._showzoomcombo=false;};var _pChildStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBarCtrl,nexacro.ChildStatusBarCtrl);nexacro.ChildStatusBarCtrl.prototype=_pChildStatusBarCtrl;delete _pChildStatusBarCtrl;}}if(!nexacro.ScrollBar){nexacro.ScrollBar_Style=function(_a){nexacro.Style.call(this,_a);this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};var _pScrollBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.ScrollBar_Style);nexacro.ScrollBar_Style.prototype=_pScrollBarStyle;eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","barminsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","baroutsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","incbtnsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","decbtnsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","imgoutsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","scrollbarsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","trackbarsize"));_pScrollBarStyle.__custom_emptyObject=function(){this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};_pScrollBarStyle.__get_custom_style_value=function(){var _a="";if(this.barminsize&&!this.barminsize._isEmpty){_a+="barminsize:"+this.barminsize._value+"; ";}if(this.baroutsize&&!this.baroutsize._isEmpty){_a+="baroutsize:"+this.baroutsize._value+"; ";}if(this.incbtnsize&&!this.incbtnsize._isEmpty){_a+="incbtnsize:"+this.incbtnsize._value+"; ";}if(this.decbtnsize&&!this.decbtnsize._isEmpty){_a+="decbtnsize:"+this.decbtnsize._value+"; ";}if(this.imgoutsize&&!this.imgoutsize._isEmpty){_a+="imgoutsize:"+this.imgoutsize._value+"; ";}if(this.scrollbarsize&&!this.scrollbarsize._isEmpty){_a+="scrollbarsize:"+this.scrollbarsize._value+"; ";}if(this.trackbarsize&&!this.trackbarsize._isEmpty){_a+="trackbarsize:"+this.trackbarsize._value+"; ";}return _a;};nexacro.ScrollBar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};var _pScrollBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ScrollBar_CurrentStyle);nexacro.ScrollBar_CurrentStyle.prototype=_pScrollBarCurrentStyle;_pScrollBarCurrentStyle.__custom_emptyObject=_pScrollBarStyle.__custom_emptyObject;_pScrollBarCurrentStyle.__get_custom_style_value=_pScrollBarStyle.__get_custom_style_value;delete _pScrollBarStyle;delete _pScrollBarCurrentStyle;nexacro.ScrollBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.incbutton=null;this.decbutton=null;this.trackbar=null;this.barminsize= -1;this.baroutsize= -1;this.decbtnsize= -1;this.imgoutsize= -1;this.incbtnsize= -1;this.scrollbarsize= -1;this.trackbarsize= -1;this.direction="vert";this.line=1;this.page=3;this.view= -1;this.max=0;this.min=0;this.pos=0;this.onscroll=null;this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ongesture":1,"onscroll":1};this._rectShaft=new nexacro.Rect();this._mousePoint={};this._max=0;this._min=0;this._orgmax=0;this._trackbarsize= -1;this._pos=0;this._lineup=1;this._linedown=1;this._pageup=3;this._pagedown=3;this._nTrackOver=0;this._is_repeat=true;this._start_page_navi=null;this._is_tracking=false;this._reset_trackbar_fix=false;this._set_real=false;this._is_nc_control=true;};nexacro.ScrollBar.TRACKBAR_SIZE_MIN=6;nexacro.ScrollBar.TRACKFIRSTOVER=1;nexacro.ScrollBar.TRACKLASTOVER=2;var _pScrollBar=nexacro._createPrototype(nexacro.Component,nexacro.ScrollBar);nexacro.ScrollBar.prototype=_pScrollBar;_pScrollBar._type_name="ScrollBar";_pScrollBar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_barminsize(_a);if(_c!=_b.barminsize){_b.barminsize=_c;this.on_apply_style_barminsize();}_c=this.on_find_CurrentStyle_baroutsize(_a);if(_c!=_b.baroutsize){_b.baroutsize=_c;this.on_apply_style_baroutsize();}_c=this.on_find_CurrentStyle_decbtnsize(_a);if(_c!=_b.decbtnsize){_b.decbtnsize=_c;this.on_apply_style_decbtnsize();}_c=this.on_find_CurrentStyle_imgoutsize(_a);if(_c!=_b.imgoutsize){_b.imgoutsize=_c;this.on_apply_style_imgoutsize();}_c=this.on_find_CurrentStyle_incbtnsize(_a);if(_c!=_b.incbtnsize){_b.incbtnsize=_c;this.on_apply_style_incbtnsize();}_c=this.on_find_CurrentStyle_scrollbarsize(_a);if(_c!=_b.scrollbarsize){_b.scrollbarsize=_c;this.on_apply_style_scrollbarsize();}_c=this.on_find_CurrentStyle_trackbarsize(_a);if(_c!=_b.trackbarsize){_b.trackbarsize=_c;this.on_apply_style_trackbarsize();}if(this.incbutton){this.incbutton._control_pseudo="";this.incbutton._contents_pseudo="";this.incbutton.on_apply_pseudo(_a);}if(this.decbutton){this.decbutton._control_pseudo="";this.decbutton._contents_pseudo="";this.decbutton.on_apply_pseudo(_a);}if(this.trackbar){this.trackbar._control_pseudo="";this.trackbar._contents_pseudo="";this.trackbar.on_apply_pseudo(_a);}};_pScrollBar.on_apply_prop_class=function(){if(this.incbutton){this.incbutton._css_finder=null;this.incbutton._ref_css_finder=null;}if(this.decbutton){this.decbutton._css_finder=null;this.decbutton._ref_css_finder=null;}if(this.trackbar){this.trackbar._css_finder=null;this.trackbar._ref_css_finder=null;}nexacro.Component.prototype.on_apply_prop_class.call(this);};_pScrollBar.on_create_custom_style=function(){return new nexacro.ScrollBar_Style(this);};_pScrollBar.on_create_custom_currentStyle=function(){return new nexacro.ScrollBar_CurrentStyle();};_pScrollBar.on_find_CurrentStyle_barminsize=function(_a){return this._find_pseudo_obj("barminsize",_a);};_pScrollBar.on_find_CurrentStyle_baroutsize=function(_a){return this._find_pseudo_obj("baroutsize",_a);};_pScrollBar.on_find_CurrentStyle_decbtnsize=function(_a){return this._find_pseudo_obj("decbtnsize",_a);};_pScrollBar.on_find_CurrentStyle_imgoutsize=function(_a){return this._find_pseudo_obj("imgoutsize",_a);};_pScrollBar.on_find_CurrentStyle_incbtnsize=function(_a){return this._find_pseudo_obj("incbtnsize",_a);};_pScrollBar.on_find_CurrentStyle_scrollbarsize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pScrollBar.on_find_CurrentStyle_trackbarsize=function(_a){return this._find_pseudo_obj("trackbarsize",_a);};_pScrollBar.on_update_style_barminsize=function(){this.currentstyle.barminsize=this.on_find_CurrentStyle_barminsize(this._pseudo);this.on_apply_style_barminsize();};_pScrollBar.on_update_style_baroutsize=function(){this.currentstyle.baroutsize=this.on_find_CurrentStyle_baroutsize(this._pseudo);this.on_apply_style_baroutsize();};_pScrollBar.on_update_style_decbtnsize=function(){this.currentstyle.decbtnsize=this.on_find_CurrentStyle_decbtnsize(this._pseudo);this.on_apply_style_decbtnsize();};_pScrollBar.on_update_style_imgoutsize=function(){this.currentstyle.imgoutsize=this.on_find_CurrentStyle_imgoutsize(this._pseudo);this.on_apply_style_imgoutsize();};_pScrollBar.on_update_style_incbtnsize=function(){this.currentstyle.incbtnsize=this.on_find_CurrentStyle_incbtnsize(this._pseudo);this.on_apply_style_incbtnsize();};_pScrollBar.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarsize(this._pseudo);this.on_apply_style_scrollbarsize();};_pScrollBar.on_update_style_trackbarsize=function(){this.currentstyle.trackbarsize=this.on_find_CurrentStyle_trackbarsize(this._pseudo);this.on_apply_style_trackbarsize();};_pScrollBar.on_apply_style_barminsize=function(){var _a=this.currentstyle.barminsize;if(_a&&!_a._isEmpty){this.barminsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);}};_pScrollBar.on_apply_style_baroutsize=function(){var _a=this.currentstyle.baroutsize;if(_a&&!_a._isEmpty){this.baroutsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);}};_pScrollBar.on_apply_style_decbtnsize=function(){var _a=this.currentstyle.decbtnsize;if(_a&&!_a._isEmpty){this.decbtnsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);}};_pScrollBar.on_apply_style_imgoutsize=function(){var _a=this.currentstyle.imgoutsize;if(_a&&!_a._isEmpty){this.imgoutsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);}};_pScrollBar.on_apply_style_incbtnsize=function(){var _a=this.currentstyle.incbtnsize;if(_a&&!_a._isEmpty){this.incbtnsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);}};_pScrollBar.on_apply_style_scrollbarsize=function(){var _a=this.currentstyle.scrollbarsize;if(_a&&!_a._isEmpty){this.scrollbarsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);}};_pScrollBar.on_apply_style_trackbarsize=function(){var _a=this.currentstyle.trackbarsize;if(_a&&!_a._isEmpty){this.trackbarsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);}};_pScrollBar._get_css_assumedtypename=function(){if(!this._is_subcontrol){if(this.direction=="vert"){return "VScrollBar";}else if(this.direction=="horz"){return "HScrollBar";}}return this._type_name;};_pScrollBar.on_create_contents=function(){var _a=this._control_element;if(_a){this.incbutton=new nexacro.ImageButtonCtrl("incbutton","absolute",0,0,0,0,null,null,this);this.decbutton=new nexacro.ImageButtonCtrl("decbutton","absolute",0,0,0,0,null,null,this);this.trackbar=new nexacro.TrackImageButtonCtrl("trackbar","absolute",0,0,0,0,null,null,this);this.trackbar._on_starttrack=this._on_starttrack;this.trackbar._on_movetrack=this._on_movetrack;this.trackbar._on_endtrack=this._on_endtrack;this.trackbar._no_slide_scroll=true;this.incbutton.createComponent();this.decbutton.createComponent();this.trackbar.createComponent();}};_pScrollBar.on_created_contents=function(){var _a=this.incbutton;if(_a){_a.on_created();}var _b=this.decbutton;if(_b){_b.on_created();}var _c=this.trackbar;if(_c){_c.on_created();}this._recalcLayout();};_pScrollBar.on_destroy_contents=function(){if(this.incbutton){this.incbutton.destroy();this.incbutton=null;}if(this.decbutton){this.decbutton.destroy();this.decbutton=null;}if(this.trackbar){this.trackbar.destroy();this.trackbar=null;}this._rectShaft=null;this._mousePoint=null;};_pScrollBar.on_change_containerRect=function(_a,_b){this._recalcLayout();};_pScrollBar._on_repeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e=_a;if(_e==this.decbutton){var _f=this.decbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this);}}else if(_e==this.incbutton){var _f=this.incbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this);}}else if(_e==this){this.on_page_click(this,_b,_c);}};_pScrollBar._on_startrepeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e=_a;if(_e==this.decbutton){var _f=this.decbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this,null);}}else if(_e==this.incbutton){var _f=this.incbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this,null);}}else if(_e==this){var _f=this.trackbar;var _k="";if(this.direction=="vert"){if(_c<_f._adjust_top){_k="pageup";}else if(_c>(_f._adjust_top+_f._adjust_height)){_k="pagedown";}else{_k="";}}else{if(_b<_f._adjust_left){_k="pageleft";}else if(_b>(_f._adjust_left+_f._adjust_width)){_k="pageright";}else{_k="";}}this._start_page_navi=_k;this.on_page_click(this,_b,_c);}};_pScrollBar.set_barminsize=function(_a){if(this.barminsize!=_a){this.barminsize=_a;}};_pScrollBar.set_baroutsize=function(_a){if(this.baroutsize!=_a){this.baroutsize=_a;}};_pScrollBar.set_decbtnsize=function(_a){if(this.decbtnsize!=_a){this.decbtnsize=_a;}};_pScrollBar.set_imgoutsize=function(_a){if(this.imgoutsize!=_a){this.imgoutsize=_a;}};_pScrollBar.set_incbtnsize=function(_a){if(this.incbtnsize!=_a){this.incbtnsize=_a;}};_pScrollBar.set_scrollbarsize=function(_a){if(this.scrollbarsize!=_a){this.scrollbarsize=_a;var _b=this.parent;if(_b){var _c=_b._control_element;var _d=_b.vscrollbar;var _e=_b.hscrollbar;var _f=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _g=_d?(_d.scrollbarsize== -1?_f:_d.scrollbarsize):_f;var _h=_e?(_e.scrollbarsize== -1?_f:_e.scrollbarsize):_f;_c.setElementScrollbarSize(_g,_h);_b._updateClientSize(_c);}}};_pScrollBar.set_trackbarsize=function(_a){if(this.trackbarsize!=_a){this.trackbarsize=_a;}};_pScrollBar.set_pos=function(_a){this._setPos(_a);};_pScrollBar.on_apply_resize=function(){this._recalcLayout();this.on_fire_onsize(this._adjust_width,this._adjust_height);};_pScrollBar.on_apply_move=function(){this._recalcLayout();this.on_fire_onmove(this._adjust_left,this._adjust_top);};_pScrollBar.on_apply_prop_enable=function(_a){var _b=_a;if(_a==undefined){_b=this.enable;}if(this.incbutton){this.incbutton._setEnable(_b);}if(this.decbutton){this.decbutton._setEnable(_b);}if(this.trackbar){this.trackbar._setEnable(_b);}};_pScrollBar.on_fire_onscroll=function(_a,_b,_c,_d,_e){if(this.onscroll&&this.onscroll._has_handlers){_a=(_a+0.5)|0;var _f=(this.direction=="vert")?"onvscroll":"onhscroll";var _g=new nexacro.ScrollEventInfo(this,_f,_a,_b,this,this.parent);if(_c!==undefined){_g.touchscrolling=_c;_g.touchscrolldir=_d;}_g._evtkind=_e;var _h=this.onscroll._fireEvent(this,_g);return _h;}return true;};_pScrollBar.on_incbutton_lbuttondown=function(_a){var _b=this._min;var _c=this._max;var _d=this._pos;var _e=this.line;if(_e== -1){_e=this._lineup;}var _f=_d+_e;var _g=this._getIncNewPosPixel();if(_g!==undefined){_f=_g;}if(_d>=_c){var _i=this._scroll_reverse_convert(_c);this.pos=_i[0];this._pos=_i[1];this.on_fire_onscroll(this.pos,"lastover");}else if(_f>=_c){var _i=this._scroll_reverse_convert(_c);this.pos=_i[0];this._pos=_i[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"linedown":"lineright"));this.on_fire_onscroll(this.pos,"last");}else{var _i=this._scroll_reverse_convert(_f);this.pos=_i[0];this._pos=_i[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"linedown":"lineright"));}var _h=this._rectShaft;this._resetTrackBar(_h.left,_h.top,_h.right,_h.bottom);};_pScrollBar.on_decbutton_lbuttondown=function(_a){var _b=this._min;var _c=this._max;var _d=this._pos;var _e=this.line;if(_e== -1){_e=this._linedown;}var _f=_d-_e;var _g=this._getDecNewPosPixel();if(_g!==undefined){_f=_g;}if(_d<=_b){var _i=this._scroll_reverse_convert(_b);this.pos=_i[0];this._pos=_i[1];this.on_fire_onscroll(this.pos,"firstover");}else if(_f<=_b){var _i=this._scroll_reverse_convert(_b);this.pos=_i[0];this._pos=_i[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"lineup":"lineleft"));this.on_fire_onscroll(this.pos,"first");}else{var _i=this._scroll_reverse_convert(_f);this.pos=_i[0];this._pos=_i[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"lineup":"lineleft"));}var _h=this._rectShaft;this._resetTrackBar(_h.left,_h.top,_h.right,_h.bottom);};_pScrollBar._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.parent;_a._mousePoint={x:0,y:0};nexacro.ScrollBar.prototype._starttrack.call(_a);_a._is_tracking=true;};_pScrollBar._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;nexacro.ScrollBar.prototype._endtrack.call(_d);_d._is_tracking=false;};_pScrollBar._on_movetrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;nexacro.ScrollBar.prototype._movetrack.call(_d,_a,_b);};_pScrollBar.on_page_click=function(_a,_b,_c){var _d=this._min;var _e=this._max;var _f=this._pos;var _g=this.page;var _h=this._pageup;var _i=this._pagedown;if(_g!= -1){_h=_g;_i=_g;}var _j=this.trackbar;if(_j._adjust_width<=0||_j._adjust_height<=0){return;}var _k=_j._adjust_top;var _l=_j._adjust_left;var _m=_j._adjust_left+_j._adjust_width;var _n=_j._adjust_top+_j._adjust_height;var _o=_f,_p;var _q,_r;if(this.direction=="vert"){if(this._start_page_navi=="pageup"&&_c<_k){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageup";}else if(this._start_page_navi=="pagedown"&&_c>_n){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pagedown";}else{_p="";}}else{if(this._start_page_navi=="pageleft"&&_b<_l){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageleft";}else if(this._start_page_navi=="pageright"&&_b>_m){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pageright";}else{_p="";}}if(this._pos==_o){return;}var _s=this._scroll_reverse_convert(_o);this.pos=_s[0];this._pos=_s[1];this.on_fire_onscroll(this.pos,_p);if(this.direction=="vert"){if(_c<_k&&_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_c>_n&&_o==_e){this.on_fire_onscroll(this.pos,"last");}else{if(_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_o==_e){this.on_fire_onscroll(this.pos,"last");}}}else{if(_b<_l&&_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_b>_m&&_o==_e){this.on_fire_onscroll(this.pos,"last");}else{if(_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_o==_e){this.on_fire_onscroll(this.pos,"last");}}}var _t=this._rectShaft;this._resetTrackBar(_t.left,_t.top,_t.right,_t.bottom);};_pScrollBar._setDirection=function(_a){if(this.direction!=_a){switch(_a){case "vert":case "horz":this.direction=_a;this._recalcLayout();break;}}return _a;};_pScrollBar._scroll_convert_pixel=function(_a,_b){return _a;};_pScrollBar._scroll_reverse_convert=function(_a,_b,_c){return [_a,_a];};_pScrollBar._setPos=function(_a,_b){var _c="none";if(_b=="mousewheel"){_c=this._getScrollInfo(_a);}if(_a<this.min){_a=this.min;}if(_a>this.max){_a=this.max;}if(this.pos!=_a){this.pos=_a;this._pos=this._scroll_convert_pixel(_a);var _d=this._rectShaft;this._resetTrackBar(_d.left,_d.top,_d.right,_d.bottom);}this.on_fire_onscroll(this.pos,_c,undefined,undefined,_b);};_pScrollBar._setScrollPos=function(_a){if(this._is_tracking){return;}var _b=this._scroll_reverse_convert(_a);this.pos=_b[0];this._pos=_b[1];if(this._pos<this._min){this.pos=this.min;this._pos=this._min;}if(this._pos>this._max){this.pos=this.max;this._pos=this._max;}this._recalcLayout();};_pScrollBar._setScrollInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._scroll_reverse_convert(_e);this.min=_l[0];this._min=_l[1];_l=this._scroll_reverse_convert(_f,false,true);this.max=_l[0];this._max=_l[1];this._orgmax=_f;this.line=_g;this.page=_h;this.view=_i;_l=this._scroll_reverse_convert(_k);this.pos=_l[0];this._pos=_l[1];if(this._pos<this._min){this.pos=this.min;this._pos=this._min;}if(this._pos>this._max){this.pos=this.max;this._pos=this._max;}var _m=this._adjust_left;var _n=this._adjust_top;var _o=this._adjust_width;var _p=this._adjust_height;var _q=false;if(_m!=_a||_n!=_b||_o!=_c||_p!=_d){_q=true;}if(_q){this._adjustPosition(_a,_b,null,null,_c,_d,this.parent._client_width,this.parent._client_height);var _r=this._control_element;if(_r){_r.setElementPosition(this._adjust_left,this._adjust_top);_r.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_r);if(_m!=this._adjust_left||_n!=this._adjust_top){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_o!=this._adjust_width||_p!=this._adjust_height){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}}this._recalcLayout();this._setEnable(_j);};_pScrollBar._getScrollInfo=function(_a){var _b="";if(this.pos>_a&&_a>this.min){_b="wheelup";}else if(this.pos<_a&&_a<this.max){_b="wheeldown";}else if(_a==this.min){_b="wheelfirst";}else if(_a==this.max){_b="wheellast";}else if(_a<this.min){_b="wheelfirstover";}else if(_a>this.max){_b="wheellastover";}return _b;};_pScrollBar._set_touch_pos=function(_a,_b,_c){if(_a<this._min){_a=this._min;}if(_a>this._max){_a=this._max;}var _d=this._scroll_reverse_convert(_a);if(this._pos!=_d[1]){this.pos=_d[0];this._pos=_d[1];this.on_fire_onscroll(this.pos,"touchscroll",_b,_c);var _e=this._rectShaft;this._resetTrackBar(_e.left,_e.top,_e.right,_e.bottom);}};_pScrollBar._recalcLayout=function(){var _a=this._control_element;if(_a&&this._is_created_contents){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;if(_d<=0||_e<=0){return;}var _f=0,_g=0,_h=0,_i=0,_j=0,_k=0;var _l=this.decbtnsize;var _m=this.incbtnsize;var _n=0;if(this.direction=="vert"){if(_l<0){_l=_d;}if(_m<0){_m=_d;}var _o=_e-(_l+_m);if(_o<0){_l=((_e+(_e%2))/2)|0;_m=_e-_l;}var _p=_c+_e;_f=_b;_g=_f+_d;_h=_c+_l;_i=_p-_m;if(_l==0){this.decbutton.move(_f, -100,_d,_l);}else{this.decbutton.move(_f,_c,_d,_l);}if(_m==0){this.incbutton.move(_f, -100,_d,_e-_i);}else{this.incbutton.move(_f,_i,_d,_e-_i);}var _q=_i-_h;if(_q>0){var _r=this.view;var _s=this.barminsize;var _t=this.baroutsize;var _u=this._max-this._min;if(_t<0){_t=_g-_f;}if(_s<0){_s=((_g-_f)*0.60)|0;if(_s<nexacro.ScrollBar.TRACKBAR_SIZE_MIN){_s=nexacro.ScrollBar.TRACKBAR_SIZE_MIN;}}if(_r<0){_r=1;}if(_q>_t){if(this.trackbarsize>0){this._trackbarsize=this.trackbarsize;}else{_n=(_q*(_r/(_r+_u)))|0;this._trackbarsize=(_n<_s)?_s:_n;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_q<this._trackbarsize){this._trackbarsize=_q;}}else{if(_l<0){_l=_e;}if(_m<0){_m=_e;}var _o=_d-(_l+_m);if(_o<0){_l=((_d+(_d%2))/2)|0;_m=_d-_l;}var _v=_b+_d;_f=_b+_l;_g=_v-_m;_h=_c;_i=_c+_e;if(_l==0){this.decbutton.move(_b, -100,_l,_e);}else{this.decbutton.move(_b,_h,_l,_e);}if(_m==0){this.incbutton.move(_g, -100,_d-_g,_e);}else{this.incbutton.move(_g,_h,_d-_g,_e);}var _q=_g-_f;if(_q>0){var _r=this.view;var _s=this.barminsize;var _t=this.baroutsize;var _u=this._max-this._min;if(_t<0){_t=_i-_h;}if(_s<0){_s=parseInt((_i-_h)*0.60);if(_s<nexacro.ScrollBar.TRACKBAR_SIZE_MIN){_s=nexacro.ScrollBar.TRACKBAR_SIZE_MIN;}}if(_r<0){_r=1;}this._barminsize=_s;this._baroutsize=_t;if(_q>_t){if(this.trackbarsize>0){this._trackbarsize=this.trackbarsize;}else{_n=(_q*(_r/(_r+_u)))|0;this._trackbarsize=(_n<_s)?_s:_n;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_q<this._trackbarsize){this._trackbarsize=_q;}}this._rectShaft.set(_f,_h,_g,_i);this._resetTrackBar(_f,_h,_g,_i);}};_pScrollBar._resetTrackBar=function(_a,_b,_c,_d){if(this._trackbarsize<=0){this.trackbar.set_visible(false);return;}this.trackbar.set_visible(true);var _e=0,_f=0,_g=0,_h=0;var _i=this._min;var _j=this._pos;var _k=this._trackbarsize;var _l=this._max-this._min;if(_l>0){if(this.direction=="vert"){var _m=_d-_b;var _n=((_j-_i)*(_m-_k)/_l)|0;_e=_a;_g=_c;_f=_b+_n;_h=_f+_k;if(_h>_d){_h=_d;_f=_d-_k;}}else{var _m=_c-_a;_n=parseInt((_j-_i)*(_m-_k)/_l);_e=_a+_n;_g=_e+_k;_f=_b;_h=_d;if(_g>_c){_g=_c;_e=_c-_k;}}}if((_e<=0&&_f<=0&&_g-_e<=0&&_h-_f<=0)){this._set_real=true;this._setRealEnable(false);this.trackbar.set_visible(false);}else if(this._set_real){this._set_real=false;this._setRealEnable(true);this.trackbar.set_visible(true);}if(!this._reset_trackbar_fix){this.trackbar.move(_e,_f,_g-_e,_h-_f);}this._reset_trackbar_fix=false;};_pScrollBar._setRealEnable=function(_a){if(_a==undefined){_a=this.enable;}if(this._real_enable!=_a){var _b=this._control_element;this._real_enable=_a;if(_a){this._status="enable";this._pseudo="normal";}else{this._status="disable";this._pseudo="disabled";}if(this.visible&&_b){this._updateControl(_b,this._pseudo);this._updateContents(_b,this._pseudo);}if(this.incbutton){this.incbutton._setRealEnable(_a);}if(this.decbutton){this.decbutton._setRealEnable(_a);}if(this.trackbar){this.trackbar._setRealEnable(_a);}}};_pScrollBar._moveTrackBar=function(_a,_b){var _c=_a.right-_a.left;var _d=_a.bottom-_a.top;if(_a.left<_b.left){_a.left=_b.left;_a.right=_a.left+_c;}if(_a.right>_b.right){_a.right=_b.right;_a.left=_a.right-_c;}if(_a.top<_b.top){_a.top=_b.top;_a.bottom=_a.top+_d;}if(_a.bottom>_b.bottom){_a.bottom=_b.bottom;_a.top=_a.bottom-_d;}this.trackbar.move(_a.left,_a.top,_a.right-_a.left,_a.bottom-_a.top);};_pScrollBar._starttrack=function(){this.on_fire_onscroll(this.pos,"trackstart");};_pScrollBar._endtrack=function(){this.on_fire_onscroll(this.pos,"trackend");var _a=this._rectShaft;this._resetTrackBar(_a.left,_a.top,_a.right,_a.bottom);};_pScrollBar._movetrack=function(_a,_b){var _c=_a;var _d=_b;var _e=this._min;var _f=this._max;var _g=this._pos;var _h=0;var _i=_f-_e;var _j=_g;var _k=this.trackbar;var _l={left:_k._adjust_left,top:_k._adjust_top,right:_k._adjust_left+_k._adjust_width,bottom:_k._adjust_top+_k._adjust_height};var _m=_l.right-_l.left;var _n=_l.bottom-_l.top;if(_m<=0||_n<=0){return;}var _o={left:_l.left,top:_l.top,right:_l.right,bottom:_l.bottom};if(this.direction=="vert"){var _p=this._rectShaft;_h=_d-this._mousePoint.y;if((_h<0&&_l.top>_p.top)||(_h>0&&_l.bottom<_p.bottom)){_o.top+=_h;_o.bottom+=_h;_j=(_i*(_o.top-_p.top)/((_p.bottom-_p.top)-(_o.bottom-_o.top)));this._moveTrackBar(_o,_p);if(_k._adjust_top-_l.top==0){this._mousePoint.x=_c;this._mousePoint.y=_d;}else{this._mousePoint.x=_c;this._mousePoint.y=this._mousePoint.y+(_k._adjust_top-_l.top);}}}else{var _p=this._rectShaft;_h=_c-this._mousePoint.x;if((_h<0&&_l.left>_p.left)||(_h>0&&_l.right<_p.right)){_o.left+=_h;_o.right+=_h;_j=parseInt(_i*((_o.left-_p.left)/((_p.right-_p.left)-(_o.right-_o.left))));this._moveTrackBar(_o,_p);if(_k._adjust_left-_l.left==0){this._mousePoint.x=_c;this._mousePoint.y=_d;}else{this._mousePoint.x=this._mousePoint.x+(_k._adjust_left-_l.left);this._mousePoint.y=_d;}}}if(_j<=_e){var _q=this._scroll_reverse_convert(_e);this.pos=_q[0];this._pos=_q[1];if(!(this._nTrackOver&nexacro.ScrollBar.TRACKFIRSTOVER)){this.on_fire_onscroll(this.pos,"trackfirst");this._nTrackOver=nexacro.ScrollBar.TRACKFIRSTOVER;}else{this.on_fire_onscroll(this.pos,"trackfirstover");}}else if(_j>=_f){var _q=this._scroll_reverse_convert(_f);this.pos=_q[0];this._pos=_q[1];if(!(this._nTrackOver&nexacro.ScrollBar.TRACKLASTOVER)){this.on_fire_onscroll(this.pos,"tracklast");this._nTrackOver=nexacro.ScrollBar.TRACKLASTOVER;}else{this.on_fire_onscroll(this.pos,"tracklastover");}}else{var _q=this._scroll_reverse_convert(_j);this.pos=_q[0];this._pos=_q[1];this.on_fire_onscroll(this.pos,"track");this._nTrackOver=0;}};_pScrollBar._getIncNewPosPixel=function(){};_pScrollBar._getDecNewPosPixel=function(){};_pScrollBar._setScrollLayout=function(_a,_b,_c,_d,_e){if(_e<_a){_e=_a;}if(_e>_b){_e=_b;}var _f=this._scroll_reverse_convert(_a);this.min=_f[0];this._min=_f[1];_f=this._scroll_reverse_convert(_b);this.max=_f[0];this._max=_f[1];this._orgmax=_b;_f=this._scroll_reverse_convert(_e);this.pos=_f[0];this._pos=_f[1];this.line=_d;this.page=_c;this._recalcLayout();};delete _pScrollBar;nexacro.ScrollBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ScrollBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pScrollBarCtrl=nexacro.ScrollBarCtrl.prototype=nexacro._createPrototype(nexacro.ScrollBar,nexacro.ScrollBarCtrl);nexacro._setForTypedControlStyleFinder(_pScrollBarCtrl);_pScrollBarCtrl._type_name="ScrollBarControl";_pScrollBarCtrl._is_focus_accept=false;_pScrollBarCtrl._get_css_assumedtypename=function(){if(this.direction=="vert"){return "VScrollBarControl";}else if(this.direction=="horz"){return "HScrollBarControl";}return this._type_name;};delete _pScrollBarCtrl;}if(!nexacro.Plugin){nexacro.Plugin=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pPlugin=nexacro._createPrototype(nexacro.Component,nexacro.Plugin);nexacro.Plugin.prototype=_pPlugin;_pPlugin._type_name="Plugin";_pPlugin.classid="";_pPlugin.codebase="";_pPlugin.code="";_pPlugin.archive="";_pPlugin.mimetype="";_pPlugin.pluginsrc="";_pPlugin.pluginpage="";_pPlugin.license="";_pPlugin.lpkpath="";_pPlugin.contents="";_pPlugin.adjustalpha=false;_pPlugin.usepersistdata=false;_pPlugin.windowed=false;_pPlugin.popupstyle=false;_pPlugin._obj_id="";_pPlugin._obj_elem=null;_pPlugin._params=null;_pPlugin._event_params=null;_pPlugin.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._obj_elem;if(_b){_b.setElementVisible(_a);}};_pPlugin.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._obj_elem=new nexacro.PluginElement(_a);_b.setElementSize(this._client_width,this._client_height);}};_pPlugin.on_created_contents=function(){this.on_apply_classid();this.on_apply_codebase();this.on_apply_code();this.on_apply_archive();this.on_apply_mimetype();this.on_apply_pluginsrc();this.on_apply_pluginpage();this.on_apply_plugintype();this.on_apply_license();this.on_apply_lpkpath();this.on_apply_adjustalpha();this.on_apply_usepersistdata();this.on_apply_windowed();this.on_apply_popupstyle();var _a=this._obj_elem;if(_a){_a.component=this;var _b=this._params;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a.setElementParam(_b.get_id(_d),_b.get_item(_d));}var _e=this._events;var _f=_e.length;for(var _d=0;_d<_f;_d++ ){_a.addEventHandler(_e.get_id(_d),_e.get_item(_d));}_a.create();_a.setElementVisible(this.visible);_a.initEvent();}};_pPlugin.on_destroy_contents=function(){var _a=this._obj_elem;if(_a){_a.destroy();this._obj_elem=null;}};_pPlugin.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._obj_elem;if(_c){if(_a||_b){_c.on_update_position(_a,_b,this._adjust_left,this._adjust_top);}}};_pPlugin.on_apply_custom_setfocus=function(_a){var _b=this._obj_elem;if(_b){_b.setElementFocus();}};_pPlugin.on_change_containerRect=function(_a,_b){var _c=this._obj_elem;if(_c){_c.setElementSize(_a,_b);}};_pPlugin._setContents=function(_a){if(_a.length){if(_a.indexOf("<Contents>")!=0){_a="<Contents>"+_a+"</Contents>";}var _b=nexacro._parseXMLDocument(_a);if(_b){this._params.clear();var _c=_b.getElementsByTagName("Param");if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){var _f=_c[_e];var _g=_f.getAttribute("name");var _h=_f.getAttribute("value");var _i=this._obj_elem;if(_i){_i.setElementParam(_g,_h);}else{this._params.add_item(_g,_h);}}}}}};_pPlugin.set_contents=function(_a){this.contents=_a;this._setContents(_a);};_pPlugin.set_classid=function(_a){this.classid=_a;this.on_apply_classid();};_pPlugin.on_apply_classid=function(){var _a=this._obj_elem;if(_a){var _b=this.classid;_a.setElementClassId(_b);}};_pPlugin.set_codebase=function(_a){this.codebase=_a;this.on_apply_codebase();};_pPlugin.on_apply_codebase=function(){var _a=this._obj_elem;if(_a){var _b=this.codebase;if(_b){_a.setElementCodebase(_b);}}};_pPlugin.set_code=function(_a){this.code=_a;this.on_apply_code();};_pPlugin.on_apply_code=function(){var _a=this._obj_elem;if(_a){var _b=this.code;if(_b){_a.setElementCode(_b);}}};_pPlugin.set_archive=function(_a){this.archive=_a;this.on_apply_archive();};_pPlugin.on_apply_archive=function(){var _a=this._obj_elem;if(_a){var _b=this.archive;if(_b){_a.setElementArchive(_b);}}};_pPlugin.set_mimetype=function(_a){this.mimetype=_a;this.on_apply_mimetype();};_pPlugin.on_apply_mimetype=function(){var _a=this._obj_elem;if(_a){var _b=this.mimetype;if(_b){_a.setElementMIMEType(_b);}}};_pPlugin.set_pluginsrc=function(_a){this.pluginsrc=_a;this.on_apply_pluginsrc();};_pPlugin.on_apply_pluginsrc=function(){var _a=this._obj_elem;if(_a){var _b=this.pluginsrc;if(_b){_a.setElementPluginSrc(_b);}}};_pPlugin.set_plugintype=function(_a){this.plugintype=_a;this.on_apply_plugintype();};_pPlugin.on_apply_plugintype=function(){var _a=this._obj_elem;if(_a){var _b=this.plugintype;if(_b){_a.setElementPluginMIMEType(_b);}}};_pPlugin.set_pluginpage=function(_a){this.pluginpage=_a;this.on_apply_pluginpage();};_pPlugin.on_apply_pluginpage=function(){var _a=this._obj_elem;if(_a){var _b=this.pluginpage;if(_b){_a.setElementPluginPage(_b);}}};_pPlugin.set_license=function(_a){this.license=_a;this.on_apply_license();};_pPlugin.on_apply_license=function(){var _a=this._obj_elem;if(_a){var _b=this.license;if(_b){_a.setElementLicense(_b);}}};_pPlugin.set_lpkpath=function(_a){this.lpkpath=_a;this.on_apply_lpkpath();};_pPlugin.on_apply_lpkpath=function(){var _a=this._obj_elem;if(_a){var _b=this.lpkpath;if(_b){_a.setElementLicenseFile(_b);}}};_pPlugin.set_adjustalpha=function(_a){this.adjustalpha=nexacro._toBoolean(_a);this.on_apply_adjustalpha();};_pPlugin.on_apply_adjustalpha=function(){var _a=this._obj_elem;if(_a){var _b=this.adjustalpha;if(_b){_a.setElementAdjustAlpha(_b);}}};_pPlugin.set_usepersistdata=function(_a){this.userpersistdata=_a;this.on_apply_usepersistdata();};_pPlugin.on_apply_usepersistdata=function(){var _a=this._obj_elem;if(_a){var _b=this.usepersistdata;if(_b){_a.setElementUsePersistData(_b);}}};_pPlugin.set_windowed=function(_a){this.windowed=nexacro._toBoolean(_a);};_pPlugin.on_apply_windowed=function(){var _a=this._obj_elem;if(_a){var _b=this.windowed;if(_b){_a.setElementWindowed(_b);}}};_pPlugin.set_popupstyle=function(_a){this.popupstyle=nexacro._toBoolean(_a);this.on_apply_popupstyle();};_pPlugin.on_apply_popupstyle=function(){var _a=this._obj_elem;if(_a){var _b=this.popupstyle;if(_b){_a.setElementPopupStyle(_b);}}};_pPlugin.install=function(){var _a=this._obj_elem;if(_a){_a.install();}};_pPlugin.isInstalled=function(){var _a=this._obj_elem;if(_a){return _a.isInstalled();}return false;};_pPlugin.isLoaded=function(){var _a=this._obj_elem;if(_a){return _a.isLoaded();}return false;};_pPlugin.setProperty=function(_a,_b){var _c="set_"+_a;var _d=this[_c];if(_d){_d.call(this,_b);}else{var _e=this._obj_elem;if(_e){_e.setElementParam(_a,_b);}else{this._params.add_item(_a,_b);}}};_pPlugin.getProperty=function(_a){var _b;var _c=this._obj_elem;if(_c){_b=_c.getElementParam(_a);}else{this._params.get_item(_a);}if(_b==null){_b=this[_a];}return _b;};_pPlugin.callMethod=function(){var _a=this._obj_elem;if(_a){return _a.callMethod.apply(_a,arguments);}};_pPlugin._fireEvent=function(){var _a,_b;var _c=this._user_handlers;var _d=_c.length;for(var _a=0;_a<_d;_a++ ){h=_c[_a];if(h){_b=h.handler.apply(h.target,arguments);}}return _b;};_pPlugin.addEventHandler=function(_a,_b,_c){var _d=false;var _e=this._obj_elem;if(_e){_d=_e.addEventHandler(_a,_b);}if(_d==false){this._events.add_item(_a,_b);}if(_a in this._event_list==false){this._event_list[_a]=1;}nexacro.Component.prototype.addEventHandler.call(this,_a,_b,_c);if(this[_a]){this[_a]._firePluginEvent=_pPlugin._fireEvent;}};_pPlugin.removeEventHandler=function(_a,_b,_c){var _d=this._obj_elem;if(_d){_d.removeEventHandler(_a,_b);}else{this._events.delete_item(_a);}nexacro.Component.prototype.removeEventHandler.call(this,_a,_b,_c);};delete _pPlugin;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushEventInfo){nexacro.Event.XPushEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.reason=_b;this.action=_c;this.serverip=_d;this.serverport=_e;this.command=_f;this.message=_g;this.statuscode="";this.errormsg="";if(_g.returnvalue!=undefined&&_g.returnvalue[0]!=undefined){this.returnvalue=_g.returnvalue[0].count;}if(this.command==undefined){this.command=null;}};var _pXPushEventInfo=nexacro.Event.XPushEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushEventInfo._type="nexacroXPushEventInfo";_pXPushEventInfo._type_name="XPushEventInfo";delete _pXPushEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushErrorEventInfo){nexacro.Event.XPushErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.errortype="ObjectError";this.action=_b;this.eventid=_a;this.statuscode=_c;this.errormsg=_d;this.serverip=_e;this.serverport=_f;this.command=_g;if(this.command==undefined){this.command=null;}};var _pXPushErrorEventInfo=nexacro.Event.XPushErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushErrorEventInfo._type="nexacroXPushErrorEventInfo";_pXPushErrorEventInfo._type_name="XPushErrorEventInfo";delete _pXPushErrorEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushKeepAliveEventInfo){nexacro.Event.XPushKeepAliveEventInfo=function(_a,_b){this.eventid=_a;this.type=_b;};var _pXPushKeepAliveEventInfo=nexacro.Event.XPushKeepAliveEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushKeepAliveEventInfo._type="nexacroXPushKeepAliveEventInfo";_pXPushKeepAliveEventInfo._type_name="XPushKeepAliveEventInfo";delete _pXPushErrorEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.Event.XPushRequestMessageCountEventInfo){nexacro.Event.XPushRequestMessageCountEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_a;this.userid=_b;this.sendtype=_c;this.sendid=_d;this.receivetype=_e;this.receiveid=_f;};var _pXPushRequestMessageCountEventInfo=nexacro.Event.XPushRequestMessageCountEventInfo.prototype=nexacro._createPrototype(nexacro.Event);_pXPushRequestMessageCountEventInfo._type="nexacroXPushRequestMessageCountEventInfo";_pXPushRequestMessageCountEventInfo._type_name="XPushRequestMessageCountEventInfo";delete _pXPushErrorEventInfo;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.CommandControl){nexacro.CommandControl=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.actiontype;this.callback;this.check="0";this.messagekey;this.messagetype;this.objdataset;this.objform;this.row= -1;this.type="update";this.useactiveformcallback=false;};var _pCommandControl=nexacro.CommandControl.prototype=nexacro._createPrototype(nexacro.EventSinkObject);_pCommandControl._type="nexacroCommandControl";_pCommandControl._type_name="CommandControl";_pCommandControl.destroy=function(){var _a='""';var _b;return true;};_pCommandControl.on_created=function(){};_pCommandControl.equal=function(_a){if(this.callback!=_a.callback){return false;}if(this.check!=_a.check){return false;}if(this.messagekey!=_a.messagekey){return false;}if(this.messagetype!=_a.messagetype){return false;}if(this.objdataset!==_a.objdataset){return false;}if(this.objform!==_a.objform){return false;}if(this.row!=_a.row){return false;}if(this.type!=_a.type){return false;}if(this.useactiveformcallback!=_a.useactiveformcallback){return false;}return true;};_pCommandControl.remove=function(_a){return (_a<0||_a>this.length)?this:this.slice(0,_a).concat(this.slice(_a+1,this.length));};delete _pCommandControl;}if((!nexacro.Device||nexacro.OS=="Android")&&!nexacro.XPush){nexacro.XPush=function(_a,_b){if(nexacro.OS=="Android"){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;}this.name=_a||"";this.enableevent=true;this.commandlist=new Array;this.controlretry="5";this.debug=false;this.iplist=new Array;this.keepalivetime="30";this.keeptimeout="60";this.layouturl="";this.retry=1;this.sessionid="";this.timeout="30";this.userid="";this._parent_elem=_b;this.errorcode;this.errormsg;this.async=true;this._event_list={"onsuccess":1,"onerror":1,"onkeepalive":1};this.onsuccess=null;this.onerror=null;var _c='""';if(this._parent_elem){var _d=this._parent_elem._getWindow();if(_d){this._handle=nexacro.__createXPushHandle(this,_d._handle);if(this._handle){nexacro.__setXPushHandleOnEvent(this._handle,this._onxpush,this._onsuccess,this._onerror,this._onkeepalive);nexacro.__setXPushHandleOnFunction(this._handle,this._getrandomipinfo,this._seterror);}}}};var _pXPush=nexacro.XPush.prototype=nexacro._createPrototype(nexacro.EventSinkObject);_pXPush._type="nexacroXPush";_pXPush._type_name="XPush";_pXPush._handle=null;_pXPush._currentipinfo=null;_pXPush._findForm=function(_a){var _b=_a;while(_b&&_b._is_form==false){_b=_b.parent;}return _b;};_pXPush.on_created=function(){};_pXPush.destroy=function(){var _a='""';var _b;if(this._handle){nexacro.__destroyXPushHandle(this._handle);}return true;};_pXPush.set_name=function(_a){this.name=_a;};_pXPush.set_channeltype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.channeltype="single";}else{this.channeltype=_a;}return true;};_pXPush.set_commandlist=function(){};_pXPush.set_connectip=function(_a){};_pXPush.set_connectport=function(_a){};_pXPush.set_controlretry=function(_a){if(typeof (_a)=="undefined"||_a==null){this.controlretry=5;}else{if(nexacro._isNumber(_a)){if(_a>=0){this.controlretry=_a;}else{return false;}}else{return false;}}this.on_apply_controlretry();return true;};_pXPush.on_apply_controlretry=function(){if(this._handle){nexacro.__setXPushControlRetry(this._handle,this.controlretry);}};_pXPush.set_debug=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);this.debug=_a;this.on_apply_debug();return true;};_pXPush.on_apply_debug=function(){if(this._handle){nexacro.__setXPushHandleDebug(this._handle,this.debug);}};_pXPush.set_iplist=function(_a){var _b=this.iplist.length;if(_b>0){this.iplist.splice(0,_b);}if(typeof (_a)=="undefined"||_a==null||_a==""){}else{if(_a.indexOf(",")>=0){var _c=_a.split(",");if(_c.length>0){for(var _d=0;_d<_c.length;_d++ ){var _e=_c[_d].split(":");var _f=new Object;_f.ip=_e[0];_f.port=_e[1].valueOf();_f.retry=false;this.iplist.push(_f);}}}else{var _e=_a.split(":");var _f=new Object;_f.ip=_e[0];_f.port=_e[1].valueOf();_f.retry=false;this.iplist.push(_f);}}return true;};_pXPush.set_keepalivetime=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.keepalivetime=30;}else{if(_a>=0){this.keepalivetime=_a;}else{this.keepalivetime=30;}}this.on_apply_keepalivetime();return true;};_pXPush.on_apply_keepalivetime=function(){if(this._handle){nexacro.__setXPushHandleKeepAliveTime(this._handle,this.keepalivetime);}};_pXPush.set_keeptimeout=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.keeptimeout=60;}else{if(_a>0){this.keeptimeout=_a;}else{this.keeptimeout=60;}}return true;};_pXPush.set_layouturl=function(_a){if(typeof (_a)=="undefined"||_a==null){this.layouturl="";}else{this.layouturl=_a;}this.on_apply_layouturl();return true;};_pXPush.on_apply_layouturl=function(){if(this._handle&&this.layouturl!=""){var _a=this.layouturl;if(nexacro.OS!="Android"){var _b=this.layouturl;if(_b.substring(0,4).toLowerCase()=="url("){_b=_b.substring(5,_b.length-2);}var _c=this._findForm(this._parent_elem);if(_c){if(_b.indexOf("%")<0){_a=application._getServiceLocation(_b,_c._getRefFormBaseUrl());}}}nexacro.__setXPushHandleLayoutURL(this._handle,_a);}};_pXPush.set_retry=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.retry=1;}else{if(_a>=0){this.retry=_a;}else{this.retry=1;}}this.on_apply_retry();return true;};_pXPush.on_apply_retry=function(){if(this._handle){nexacro.__setXPushHandleRetry(this._handle,this.retry);}};_pXPush.set_sessionid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.sessionid="";}else{this.sessionid=_a;}return true;};_pXPush.set_timeout=function(_a){_a=nexacro._toInt(_a);if(typeof (_a)=="undefined"||_a==null){this.timeout=30;}else{if(_a>0){this.timeout=_a;}else{this.timeout=30;}}return true;};_pXPush.set_userid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.userid="";}else{this.userid=_a;}return true;};_pXPush.set_async=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);this.async=_a;this.on_apply_async();return true;};_pXPush.on_apply_async=function(){if(this._handle){nexacro.__setXPushHandleAsync(this._handle,this.async);}};_pXPush.subscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADDF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unsubscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="DELF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="RGST";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNRG";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.requestMessageCount=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="MSGC";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.command=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=new nexacro.CommandControl();_k.actiontype=_a;_k.type=_f;_k.callback=_g;_k.messagekey=_c;_k.messagetype=_b;_k.objdataset=_e;_k.objform=_d;if(this._currentipinfo==null){this._onerror( -701);return;}if(_h!=undefined){if(( +_h)!=( +_h)){return false;}else{_k.row=_h;}}else{_k.row= -1;}if(_i!=undefined){_k.check=_i;}else{_k.check="0";}if(_j!=undefined){if(typeof (_j)!="boolean"){if((_j.toLowerCase()!="false")&&(_j.toLowerCase()!="true")){_k.useactiveformcallback=false;}else{_k.useactiveformcallback=nexacro._toBoolean(_j);}}else{_k.useactiveformcallback=_j;}}else{_k.useactiveformcallback=false;}this.strCommand=_a;this.strMessageType=_b;this.strMessageKey=_c;this.objDataset=_e;this.strCallBack=_g;if(this.strCommand===undefined||this.strCommand===null||this.strCommand==""){nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}else{this.strCommand=this.strCommand.toString();if(_a=="ADDF"||_a=="DELF"){if(_d===undefined||_d===null||this.strMessageType===undefined||this.strMessageType===null||this.strMessageType==""||this.strMessageKey===undefined||this.strMessageKey===null||this.strMessageKey==""||this.objDataset===undefined||this.objDataset===null||_f===undefined||_f===null||_f==""||this.strCallBack===undefined||this.strCallBack===null||this.strCallBack==""){nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}else{this.strMessageType=this.strMessageType.toString();this.strMessageKey=this.strMessageKey.toString();if((_f.toLowerCase()!="append")&&(_f.toLowerCase()!="update")&&(_f.toLowerCase()!="insert")&&(_f.toLowerCase()!="replace")&&(_f!="allUpdate")){nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}else{this.strCallBack=this.strCallBack.toString();if(_d[this.strCallBack]===undefined){nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}else{if(_a=="ADDF"){var _l;for(_l=0;_l<this.commandlist.length;_l++ ){var _m=this.commandlist[_l];if(_m.equal(_k)){break;}}if(_l==this.commandlist.length){this.commandlist.push(_k);}}nexacro.__commandXPushHandle(this._handle,_a,_b,_c);}}}}else if(_a=="ADUI"||_a=="UNUI"){this.commandlist.push(_k);nexacro.__commandXPushHandle(this._handle,_a,_b,_c);}else if(_a=="MSGC"){this.commandlist.push(_k);nexacro.__commandXPushHandle(this._handle,_a,_b,_c);}else if(_a=="RGST"||_a=="UNRG"){this.commandlist.push(_k);nexacro.__commandXPushHandle(this._handle,_a);}else{nexacro.__fireXPushHandleErrorEvent(this._handle, -701);}}};_pXPush.connect=function(_a,_b){var _c;if(this._handle){if(_a==null){_a=this.userid;}if(_b==null){_b=this.sessionid;}this._resetIPList();nexacro.__connectXPushHandle(this._handle,_a,_b,this.retry,this.timeout,this.controlretry,this.keeptimeout);}};_pXPush.disconnect=function(){if(this._handle){nexacro.__disconnectXPushHandle(this._handle);}};_pXPush.resume=function(){if(this._handle){nexacro.__resumeXPushHandle(this._handle);}};_pXPush.suspend=function(){if(this._handle){nexacro.__suspendXPushHandle(this._handle);}};_pXPush.getCurrentIP=function(){if(this._currentipinfo){return this._currentipinfo.ip;}return null;};_pXPush.getCurrentPort=function(){if(this._currentipinfo){return this._currentipinfo.port;}return null;};_pXPush.sendResponse=function(_a){if(this._handle){nexacro.__sendResponseXPushHandle(this._handle,_a);}};_pXPush.requestMessage=function(){if(this._handle){if(arguments.length<2){return;}var _a=arguments[0];var _b=new Array();for(var _c=1;_c<arguments.length;_c++ ){_b.push(arguments[_c]);}if(_b.length>0){nexacro.__requestMessageXPushHandle(this._handle,_a,_b);}}};_pXPush._resetIPList=function(){var _a=this.iplist.length;for(var _b=0;_b<_a;_b++ ){if(this.iplist[_b].retry){this.iplist[_b].retry=false;}}};_pXPush._getrandomipinfo=function(){var _a=this.iplist.length;if(_a>0){for(var _b=0;_b<_a;_b++ ){if(this.iplist[_b].retry==false){break;}}if(_b==_a){return null;}var _c;do{_c=Math.floor((Math.random()*((_a-1)-0+1)))+0;}while(this.iplist[_c].retry)this.iplist[_c].retry=true;this._currentipinfo=this.iplist[_c];return this._currentipinfo;}return null;};_pXPush._onxpush=function(_a){var _b;var _c=new Array();var _d=new Array();var _e=new Array();var _f=new Array();var _g=new Array();for(var _h=0;_h<this.commandlist.length;_h++ ){var _i=this.commandlist[_h];if(_i.messagetype==_a.type){var _j= -1;var _k=false;var _l=new Array();var _m=_a.datalist.length;for(var _n=0;_n<_m;_n++ ){var _o=_a.datalist[_n];var _p=_o.id;var _q=_o.item;var _r=_i.objdataset.colinfos.indexOf(_o.id);_l.push(_r);if(_o.key){_k=_o.key;}if(_j== -1&&_i.type=="update"){_j=_i.objdataset.findRow(_p,_q);}}var _s=false;var _t=false;var _u=false;for(var _n=0;_n<_m;_n++ ){var _o=_a.datalist[_n];var _p=_o.id;var _q=_o.item;var _v=_o.checkfield;var _w=_l[_n];if(_n==0&&_q!=_i.messagekey){break;}if(_i.type=="append"){if(_j== -1){if(_i.messagekey==_o.item){_j=_i.objdataset.addRow();_i.objdataset.setColumn(_j,_w,_o.item);_d.push(_o.id);_c.push(_o.id);}}else{_t=true;_i.objdataset.setColumn(_j,_w,_o.item);_d.push(_o.id);_c.push(_o.id);_b=_j;}_u=true;}else if(_i.type=="insert"){if(_j== -1){if(_i.messagekey==_o.item){_j=_i.objdataset.insertRow(_i.row);_i.objdataset.setColumn(_j,_w,_o.item);_d.push(_o.id);_c.push(_o.id);}}else{_t=true;_i.objdataset.setColumn(_j,_w,_o.item);_d.push(_o.id);_c.push(_o.id);_b=_j;}_u=true;}else if(_i.type=="replace"){if(_i.row<_i.objdataset.getRowCount()){var _x=_i.objdataset.getColumn(_i.row,_w);if(_x!=_o.item){_i.objdataset.setColumn(_i.row,_w,_o.item);_c.push(_o.id);_b=_i.row;_t=true;}_u=true;_d.push(_o.id);}}else if(_i.type=="update"){if(!_k){this._onerror( -703);break;}_d.push(_o.id);var _x=_i.objdataset.getColumn(_j,_w);if(_x!=_o.item){_u=true;_t=true;if((_i.check=="0")||(_v&&_v==_i.check)){var _y=_i.objdataset.setColumn(_j,_w,_o.item);_c.push(_o.id);}}_b=_j;}else if(_i.type=="allUpdate"){if(!_k){this._onerror( -703);break;}if(_g.length==0){for(var _j=0;_j<_i.objdataset.getRowCount();_j++ ){if(_q==_i.objdataset.getColumn(_j,_p)){_e.push(_j);_g.push(_j);continue;}}}else{while(_g.length){_j=_g.splice(0,1);var _x=_i.objdataset.getColumn(_j,_w);if(_x!=_o.item){if((_i.check=="0")||(_v&&_v==_i.check)){_i.objdataset.setColumn(_j,_w,_o.item);var _z=_j+","+_o.id;_f.push(_z);}}}_t=true;}_u=true;}}if(_a.action=="RELI"&&_a.msgid!=undefined&&_a.msgid!=null){_t=true;}else if(_t==false){continue;}if(!_u){continue;}if((!_i.useactiveformcallback)||(_i.useactiveformcallback&&(_i.objform===application.getActiveForm()))){if(_i.type!="allUpdate"){var _aa=_i.objform[_i.callback];if(_aa instanceof Function){_aa.call(_i.objform,_b,_c.join(),_d.join(),"DATA",_a.action,_a.msgid);_e.splice(0,_e.length);_d.splice(0,_d.length);}}else if(_i.type=="allUpdate"){var _aa=_i.objform[_i.callback];if(_aa instanceof Function){_aa.call(_i.objform,_e.join(),null,_f,"DATA",_a.action,_a.msgid);_e.splice(0,_e.length);_f.splice(0,_f.length);}}}}}};_pXPush._onsuccess=function(_a,_b,_c,_d,_e,_f){var _g=new Object();_g.messagetype="";_g.messagekey="";_g.messageid="";_g.returnvalue="";if(_c=="RECT"){_g.messagetype="";_g.messagekey="";_g.messageid=_d;}else if(_c=="RGST"||_c=="UNRG"){if(nexacro.OS=="Android"){_g.messagetype="";_g.messagekey="";_g.messageid="";}}else if(_c=="MSGC"){_g.messageid="";_g.messagetype=_d;_g.messagekey=_e;_g.returnvalue=_f;}else if(_b==0||_b==1){}else{_g.messageid="";_g.messagetype=_d;_g.messagekey=_e;}var _h;var _i=this.commandlist.length;var _j;for(_j=0;_j<_i;_j++ ){_h=this.commandlist[_j].valueOf();if(_h.messagetype==_d){if(_h.messagekey==_e){break;}}}if(_j==_i){_h=null;}if(_h&&(_c=="DELF"||_c=="ADUI"||_c=="DELF"||_c=="UNUI"||_c=="MSGC"||_c=="RGST "||_c=="UNRG")){_h.actiontype=_c;var _k=new nexacro.Event.XPushEventInfo("onsuccess",_a,_b,this.getCurrentIP(),this.getCurrentPort(),_h,_g);this._fire_onsuccess(this,_k);this.commandlist.splice(_j,1);}else{var _k=new nexacro.Event.XPushEventInfo("onsuccess",_a,_b,this.getCurrentIP(),this.getCurrentPort(),_h,_g);this._fire_onsuccess(this,_k);if(_b==1){this._currentipinfo=null;this.commandlist=null;this.commandlist=new Array;}}};_pXPush._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pXPush._onerror=function(_a,_b,_c,_d,_e){if(_b==undefined){_b= -1;}var _f=new Object();_f.messagetype="";_f.messagekey="";_f.messageid="";_f.returnvalue="";if(_c=="RECT"){_f.messageid=_d;_f.messagekey="";_f.messagetype="";}else{_f.messagetype=_d;_f.messagekey=_e;_f.messageid="";}var _g;var _h=this.commandlist.length;for(var _k=0;_k<_h;_k++ ){_g=this.commandlist[_k];if(_g.messagetype==_d){if(_g.messagekey==_e){break;}}_g=null;}var _i=this._geterrormsg(_a);this.errorcode=_a;this.errormsg=_i;var _j=new nexacro.Event.XPushErrorEventInfo("onerror",_b,_a,_i,this.getCurrentIP(),this.getCurrentPort(),_g,_f);this._fire_onerror(this,_j);};_pXPush._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pXPush._onkeepalive=function(_a){var _b=new nexacro.Event.XPushKeepAliveEventInfo("onkeepalive",_a);this._fire_onkeepalive(this,_b);};_pXPush._fire_onkeepalive=function(_a,_b){if(this.onkeepalive&&this.onkeepalive._has_handlers){return this.onkeepalive._fireEvent(this,_b);}};_pXPush._seterror=function(_a,_b){this.errorcode=_a;this.errormsg=_b;};_pXPush._onrequestmessagecount=function(_a,_b,_c,_d,_e){var _f=new nexacro.Event.XPushRequestMessageCountEventInfo(_a,_b,_c,_d,_e);this._fire_onrequestmessagecount(this,_f);};_pXPush._fire_onrequestmessagecount=function(_a,_b){if(this.onrequestmessagecount&&this.requestmessagecount._has_handlers){return this.onrequestmessagecount._fireEvent(this,_b);}};_pXPush._geterrormsg=function(_a){var _b;if(_a== -100){_b="object_push_send_byec";}else if(_a== -101){_b="object_push_socket_timeout";}else if(_a== -200){_b="object_push_fail_command_auth";}else if(_a== -201){_b="object_push_fail_all_command_auth";}else if(_a== -202){_b="object_push_fail_data_auth";}else if(_a== -300){_b="object_push_fail_connect";}else if(_a== -301){_b="object_push_fail_send_receive";}else if(_a== -302){_b="object_push_connected_already";}else if(_a== -401){_b="object_push_fail_disconnect";}else if(_a== -501){_b="object_push_fail_suspend";}else if(_a== -601){_b="object_push_fail_resume";}else if(_a== -701){_b="object_push_fail_command";}else if(_a== -702){_b="object_push_notfound_layouturl";}else if(_a== -703){_b="object_push_invalid_layouturl";}else if(_a== -801){_b="object_push_fail_protocol_version";}else if(_a== -901){_b="object_push_fail_rect";}else if(_a== -902){_b="object_push_fail_reqd";}else if(_a== -1001){_b="object_push_fail_rgst_unrg";}else if(_a== -1002){_b="object_push_fail_adui";}else if(_a== -1003){_b="object_push_fail_unui";}else if(_a== -1004){_b="object_push_fail_msgc";}return application._getErrorMessge(_b);};_pXPush.getObject=function(_a){if(_a==undefined){willrunfunc=null;}else{_a=_a*1;var _b=nexacro.Device._userCreatedObj[_a];if(typeof _b=="undefined"||_b==null){_b=null;}}return _b;};delete _pXPush;};if(!nexacro.Device){nexacro.DeviceI=function(){this._userCreatedObj={};this.curDevice=0;this.isphone=0;this._is_hybrid=true;};var _pDeviceI=nexacro.DeviceI.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.DeviceI);_pDeviceI._type_name="Device";_pDeviceI.setup=function(){};_pDeviceI.execiOS=function(){};_pDeviceI.exec=function(_a){};_pDeviceI.makeID=function(){};_pDeviceI.runCallback=function(_a,_b,_c){};_pDeviceI.on_created=function(){};_pDeviceI.isHybrid=function(){};_pDeviceI.publicNumCheck=function(){};_pDeviceI.paramck_folderName=function(_a){};_pDeviceI.publicNumCheck_Sms=function(){};_pDeviceI.pramck_makeCall=function(_a,_b){};_pDeviceI.paramck_play=function(_a){};_pDeviceI.paramck_phoneNumber=function(_a){};_pDeviceI.paramck_message=function(_a){};_pDeviceI.paramck_sendMessage=function(_a,_b){};_pDeviceI.paramck_deleteMessage=function(_a){};_pDeviceI.paramck_AudioLoad=function(_a){};_pDeviceI.paramck_isReachable=function(_a){};_pDeviceI.paramck_watchStart=function(_a){};_pDeviceI.parmack_Geolocation=function(_a,_b,_c){};_pDeviceI.paramck_vibstartpos=function(_a){};_pDeviceI.paramck_vibrepeatcount=function(_a){};_pDeviceI.paramck_vibpattern=function(_a){};_pDeviceI.paramck_accuracy=function(_a){};_pDeviceI.parmack_AccelgetCurrentPosition=function(_a){};_pDeviceI.pramck_AccelwatchStart=function(_a,_b){};_pDeviceI.pramck_virtualproperty=function(_a){};_pDeviceI.pramck_asyncOpen=function(_a,_b){};_pDeviceI.pramck_asyncRead=function(_a){};_pDeviceI.pramck_asyncReadLine=function(_a){};_pDeviceI.paramck_asyncSeek=function(_a,_b){};_pDeviceI.pramck_asyncDelete=function(_a){};_pDeviceI.pramck_asyncIsExist=function(_a){};_pDeviceI.pramck_asyncGetFileList=function(_a,_b,_c){};_pDeviceI.pramck_filedialog_defaultextension=function(_a){};_pDeviceI.pramck_filedialog_filter=function(_a){};_pDeviceI.pramck_filedialog_numbercheck=function(_a){};_pDeviceI.pramck_filedialogasyncOpen=function(_a,_b,_c,_d){};_pDeviceI.pramck_contactString=function(_a){};_pDeviceI.isConvertDateToString=function(_a){};_pDeviceI.isValidDate=function(_a){};_pDeviceI.pramk_ContactFieldArray=function(_a){};_pDeviceI.pramk_ContactIMArray=function(_a){};_pDeviceI.pramk_ContactAddressArray=function(_a){};_pDeviceI.pramk_ContactOrganizationArray=function(_a){};_pDeviceI.pramk_ContactPhotoArray=function(_a){};_pDeviceI.parseDateToInt=function(_a){};_pDeviceI.paramck_takePicture=function(_a,_b,_c,_d,_e){};_pDeviceI.paramck_busytimeout=function(_a){};_pDeviceI.paramck_datasource=function(_a){};_pDeviceI.paramck_asyncOpen=function(_a,_b){};_pDeviceI.paramck_query=function(_a){};_pDeviceI.paramck_paramck_ldbconnection=function(_a){};_pDeviceI.paramck_asyncExecuteQuery=function(_a){};_pDeviceI.paramck_ImagePicker_asyncOpen=function(_a,_b,_c,_d,_e){};_pDeviceI.encodeString=function(_a){};_pDeviceI.DatasetToJSONString=function(_a){};_pDeviceI.DatasetToJSONObject=function(_a){};_pDeviceI.JSONObjectToDataset=function(_a,_b){};_pDeviceI.JSONStringToDataset=function(_a,_b){};_pDeviceI.DatasetToJSONString2=function(_a){};_pDeviceI.DatasetToJSONObject2=function(_a){};_pDeviceI.JSONObjectToDataset2=function(_a,_b){};_pDeviceI.JSONStringToDataset2=function(_a,_b){};_pDeviceI.exit=function(_a){};_pDeviceI=null;nexacro.Device=new nexacro.DeviceI();if(nexacro.Device.isHybrid()){if(window.system){if(nexacro.Device.curDevice==1){nexacro.System.prototype();nexacro.System.getSystemInfo();}}}if(nexacro.System){nexacro.System.makeCall=function(_a,_b){};nexacro.System.execBrowserHybrid=function(_a){};nexacro.System.play=function(_a){};nexacro.System.stop=function(){};nexacro.System.getSystemInfo=function(){};nexacro.System.recvPhoneInfo=function(_a){};nexacro.System.setOrientation=function(_a){};}}if(!nexacro.Sms){nexacro.Sms=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._refform=_b;this.name=_a||"";this.phonenumber="";this.message="";this.enableevent=true;this._is_alive=true;this._event_list={"cansendmessage":1,"onsendmessage":1,"onrecvmessage":1,"ondeletemessage":1,"onerror":1,"onreadmessagelist":1};this.cansendmessage=null;this.onsendmessage=null;this.onrecvmessage=null;this.ondeletemessage=null;this.onerror=null;this.onreadmessagelist=null;var _c='""';var _d;_d='{"id":'+this._id+', "div":"Sms", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pSms=nexacro.Sms.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Sms);_pSms._type_name="Sms";_pSms.destroy=function(){var _a='""';var _b;this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Sms", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pSms.on_created=function(){};_pSms._getReferenceContext=function(){return this._refform;};_pSms.set_phonenumber=function(_a){if(this.paramck_phoneNumber(_a)==true){this.phonenumber=_a;return true;}return false;};_pSms.set_message=function(_a){if(this.paramck_message(_a)==true){this.message=_a;return true;}return false;};_pSms.sendMessage=function(_a,_b){if(nexacro.Device.curDevice!=0){if(nexacro.SystemType=="ipad"){this.sendUnsupportedFunc();return false;}if(Number(nexacro.OSVersion.substring(0,1))<4){this.sendUnsupportedFunc();return false;}}var _c=new nexacro.SmsMessage("SmsMessage",this);_c.set_smsid("-1");if(_a==null&&_b==null){_c.set_phonenumber(this.phonenumber||"");_c.set_message(this.message||"");}else if(_a&&_b){if(typeof (_a)=="undefined"){_a="";}if(typeof (_b)=="undefined"){_b="";}if(!_c.set_phonenumber(_a)){return false;}_c.set_message(_b);}else if(_a!=null||_b!=null){if(typeof (_a)=="undefined"){_a="";}if(!_c.set_phonenumber(_a)){return false;}_c.set_message(_b||"");}else{return false;}var _d=this._cansendmessage(_c.phonenumber,_c.message);if(_d!=null){if(_d.toString()=="false"){return false;}}if(this.paramck_sendMessage(_c.phonenumber,_c.message)){var _e;var _f;var _g=_c.phonenumber.split("+").join("");if(nexacro.Device.curDevice==0){_e='{"number":"'+_g+'", "msg":"'+_c.message+'"}';}else{_e='{  "number":"'+_c.phonenumber;_e+='", "msg":"'+_c.message.replace(/\n/g,"_NEWLINE_");_e+='"}';}_f='{"id":'+this._id+', "div":"Sms", "method":"sendMessage", "params":'+_e+'}';nexacro.Device.exec(_f);return true;}else{return false;}};_pSms.recvStart=function(){if(nexacro.Device.curDevice==0){var _a='""';var _b='{"id":'+this._id+', "div":"Sms", "method":"recvStart", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this.sendUnsupportedFunc();}};_pSms.recvStop=function(){if(nexacro.Device.curDevice==0){var _a='""';var _b='{"id":'+this._id+', "div":"Sms", "method":"recvStop", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this.sendUnsupportedFunc();}};_pSms.readMessageList=function(){if(nexacro.Device.curDevice==0){var _a='""';var _b='{"id":'+this._id+', "div":"Sms", "method":"readMessageList", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this.sendUnsupportedFunc();}};_pSms.deleteMessage=function(_a){if(nexacro.Device.curDevice!=0){this.sendUnsupportedFunc();return false;}this.index=_a;if(this.paramck_deleteMessage(this.index)){if(nexacro.Device.curDevice==0){this.id=_a;var _b='{"id":"'+this.id+'"}';var _c='{"id":'+this._id+', "div":"Sms", "method":"deleteMessage", "params":'+_b+'}';nexacro.Device.exec(_c);}return true;}else{return false;}};_pSms._onsendmessage=function(_a){var _b;if(nexacro.Device.curDevice==0){_b=new nexacro.SmsEventInfo("onsendmessage",_a.smsid,_a.phonenumber,_a.message);}else{_b=new nexacro.SmsEventInfo("onsendmessage", -1,_a.phonenumber,_a.message);}this._fire_onsendmessage(this,_b);};_pSms._fire_onsendmessage=function(_a,_b){if(this.onsendmessage&&this.onsendmessage._has_handlers){return this.onsendmessage._fireEvent(this,_b);}return true;};_pSms._onrecvmessage=function(_a){var _b=new nexacro.SmsEventInfo("onrecvmessage",_a.smsid,_a.phonenumber,_a.message);this._fire_onrecvmessage(this,_b);};_pSms._fire_onrecvmessage=function(_a,_b){if(this.onrecvmessage&&this.onrecvmessage._has_handlers){return this.onrecvmessage._fireEvent(this,_b);}return true;};_pSms._onreadmessagelist=function(objData){var arr=new Array(objData.length);for(var i=0;i<objData.length;i++ ){var jsonOb=eval("("+objData[i]+")");var temp=new nexacro.SmsMessage(jsonOb.id,jsonOb.phonenumber,jsonOb.message,jsonOb.type,jsonOb.date);arr[i]=temp;}var e=new nexacro.SmsMessagListEventInfo(arr);this._fire_onreadmessagelist(this,e);};_pSms._fire_onreadmessagelist=function(_a,_b){if(this.onreadmessagelist&&this.onreadmessagelist._has_handlers){return this.onreadmessagelist._fireEvent(this,_b);}return true;};_pSms._ondeletemessage=function(_a){var _b=new nexacro.SmsEventInfo("ondeletemessage",_a.smsid,_a.phonenumber,_a.message);this._fire_ondeletemessage(this,_b);};_pSms._fire_ondeletemessage=function(_a,_b){if(this.ondeletemessage&&this.ondeletemessage._has_handlers){return this.ondeletemessage._fireEvent(this,_b);}return true;};_pSms._cansendmessage=function(_a,_b){var _c;if(nexacro.Device.curDevice==0){if(nexacro.__getMobileProductType().toLowerCase()=="shw-m380s"){this.sendUnsupportedFunc();return false;}_c=new nexacro.SmsEventInfo("cansendmessage","-1",_a,_b);}else{if(nexacro.SystemType=="ipad"){this.sendUnsupportedFunc();return false;}_c=new nexacro.SmsEventInfo("cansendmessage", -1,_a,_b);}return this._fire_cansendmessage(this,_c);};_pSms._fire_cansendmessage=function(_a,_b){if(this.cansendmessage&&this.cansendmessage._has_handlers){return this.cansendmessage._fireEvent(this,_b);}return true;};_pSms._onerror=function(_a){var _b;if(nexacro.Device.curDevice==0){_b=new nexacro.SmsErrorEventInfo("onerror",_a.smsid,_a.phonenumber,_a.message,_a.errorcode,_a.errormsg);}else{objSmsMessage.set_smsid( -1);_b=new nexacro.SmsErrorEventInfo("onerror",_a.smsid,_a.phonenumber,_a.message,_a.errorcode,_a.errormsg);}this._fire_onerror(this,_b);};_pSms._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pSms.sendUnsupportedFunc=function(){var _a=this;nexacro.OnceCallbackTimer.callonce(this,function(){var _b=new nexacro.SmsErrorEventInfo("onerror","-1",_a.phonenumber,_a.message,"2002","The phone does not support");this._fire_onerror(this,_b);},20);return true;};_pSms.paramck_phoneNumber=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}else{_a=_a.toString();}var _b="";try{_b=_a.split("+").join("");_b=_b.split("-").join("");}catch(e){return false;}if(_b.length<3){return false;}if(!this.publicNumCheck_Sms(_b)){return false;}return true;};_pSms.paramck_message=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pSms.paramck_sendMessage=function(_a,_b){if(_a==null||_b==null||typeof (_a)=="undefined"||typeof (_b)=="undefined"||typeof (_b)!="string"){return false;}else{_a=_a.toString();}try{var _c="";_c=_a.split("+").join("");_c=_c.split("-").join("");}catch(e){return false;}if(!this.publicNumCheck_Sms(_c)){return false;}return true;};_pSms.paramck_deleteMessage=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<1){return false;}return true;};_pSms.publicNumCheck_Sms=function(_a){try{var _b=_a.toString().split(" ").join("");}catch(e){return false;}if(_b.length==0){return false;}try{var _c=Number(_a.toString());}catch(e){return false;}return true;};_pSms=null;}if(!nexacro.SmsMessagListEventInfo){nexacro.SmsMessagListEventInfo=function(_a){this.eventid="onreadmessagelist";this.smsmessages=_a;};var _pSmsMsgList=nexacro.SmsMessagListEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsMessagListEventInfo);_pSmsMsgList._type_name="SmsMessageListEventInfo";_pSmsMsgList=null;}if(!nexacro.SmsMessage){nexacro.SmsMessage=function(_a,_b,_c,_d,_e){this.smsid=_a;this.phonenumber=_b;this.message=_c;this.type=_d;this.date=_e;};var _pSmsMessage=nexacro.SmsMessage.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.SmsMessage);_pSmsMessage._type_name="SmsMessage";_pSmsMessage.set_phonenumber=function(_a){if(this.paramck_phoneNumber(_a)==true){this.phonenumber=_a;return true;}return false;};_pSmsMessage.set_message=function(_a){if(this.paramck_message(_a)==true){this.message=_a;return true;}return false;};_pSmsMessage.set_smsid=function(_a){if(typeof (_a)=="undefined"){this.smsid="";return true;}else if(typeof (_a)=="string"){this.smsid=Number(_a);return true;}else{this.smsid=_a;return true;}return false;};_pSmsMessage.set_type=function(_a){if(typeof (_a)=="undefined"){this.Type="";return true;}else{this.Type=_a;return true;}return false;};_pSmsMessage.set_date=function(_a){if(typeof (_a)=="undefined"){this.date="";return true;}else{this.date=_a;return true;}return false;};_pSmsMessage.paramck_phoneNumber=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}else{_a=_a.toString();}var _b="";try{_b=_a.split("+").join("");_b=_b.split("-").join("");}catch(e){return false;}if(_b.length<3){return false;}if(!this.publicNumCheck_Sms(_b)){return false;}return true;};_pSmsMessage.paramck_message=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pSmsMessage.publicNumCheck_Sms=function(_a){try{var _b=_a.toString().split(" ").join("");}catch(e){return false;}if(_b.length==0){return false;}try{var _c=Number(_a.toString());}catch(e){return false;}return true;};_pSmsMessage=null;}if(!nexacro.SmsEventInfo){nexacro.SmsEventInfo=function(_a,_b,_c,_d){if(typeof (_b)=="undefined"){this.smsid="";}else if(typeof (_b)=="string"){this.smsid=Number(_b);}else{this.smsid=_b;}this.eventid=_a;this.phonenumber=_c;if(nexacro.Device.curDevice==0){this.message=_d;}else{this.message=_d.replace(/__NEW_LINE__/g,"\n");}};var _pSmsEventInfo=nexacro.SmsEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsEventInfo);_pSmsEventInfo._type_name="SmsEventInfo";_pSmsEventInfo=null;}if(!nexacro.SmsErrorEventInfo){nexacro.SmsErrorEventInfo=function(_a,_b,_c,_d,_e,_f){if(typeof (_b)=="undefined"){this.smsid="";}else{this.smsid=_b;}this.eventid=_a;this.smsid=_b;this.phonenumber=_c;if(nexacro.Device.curDevice==0){this.message=_d;}else{this.message=_d.replace(/__NEW_LINE__/g,"\n");}this.errortype="ObjectError";this.statuscode=_e;this.errormsg=_f;};var _pSmsErrorEventInfo=nexacro.SmsErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsErrorEventInfo);_pSmsErrorEventInfo._type_name="SmsErrorEventInfo";_pSmsErrorEventInfo=null;}if(!nexacro.AudioPlayer){nexacro.AudioPlayer=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._refform=_b;this.name=_a||"";this.bload=false;this.bplay=false;this.bpaused=false;this.enableevent=true;this._is_alive=true;this.url="";this.duration=0.0;this.currentpos=0.0;this.repeatcount=1;this.startpos= -1;this.stoppos= -1;this.volume= -1;this.pan= -1;this._event_list={"onload":1,"onplay":1,"onplaying":1,"onstop":1,"onerror":1,"onmovepos":1};this.onload=null;this.onplay=null;this.onplaying=null;this.onstop=null;this.onerror=null;this.onmovepos=null;var _c='""';var _d='{"id":'+this._id+', "div":"Sound", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pAudioPlayer=nexacro.AudioPlayer.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.AudioPlayer);_pAudioPlayer._type_name="AudioPlayer";_pAudioPlayer.destroy=function(){var _a='""';var _b;this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Sound", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pAudioPlayer.on_created=function(){};_pAudioPlayer._getReferenceContext=function(){return this._refform;};_pAudioPlayer.setSystemVolume=function(_a){this.volume=_a;};_pAudioPlayer.set_duration=function(_a){};_pAudioPlayer.set_currentpos=function(_a){};_pAudioPlayer.set_repeatcount=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.repeatcount=_a;}else{return false;}}else{return false;}}return true;};_pAudioPlayer.set_startpos=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a== -1)||(0<=_a&&_a<=this.duration)){this.startpos=_a;}else{return false;}}return true;};_pAudioPlayer.set_stoppos=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a== -1)||(0<=_a&&_a<=this.duration)){this.stoppos=_a;}else{return false;}}return true;};_pAudioPlayer.set_volume=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a>=0.0&&_a<=1.0)||_a== -1){this.volume=_a;}else{return false;}}return true;};_pAudioPlayer.set_pan=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if((_a>=0.0&&_a<=1.0)||_a== -1){this.pan=_a;}else{return false;}}return true;};_pAudioPlayer.set_url=function(_a){var _b=this.paramck_AudioLoad(_a);if(_b==true){this.url=_a;return true;}else{return false;}};_pAudioPlayer.load=function(_a){this.startpos= -1;this.stoppos= -1;var _b=this.paramck_AudioLoad(_a);if(_b==true){this.url=_a;if(nexacro.Device.curDevice==0){var _c="";var _d="";var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_c=1;_d=_a.substring(9,_a.length);}else if(_e.toLowerCase()=="%sd_card%"){_c=2;_d=_a.substring(9,_a.length);}else if(_e.substring(0,7)=="http://"){_d=_a;_c="";}else{var _f=application._getFileCache(_a);if(null!=_f){_c=3;_d=_f;}else{_d=_a;}}var _g='{"target":"'+_d+'", "EnvironmentPath":"'+_c+'"}';}else{var _h="";var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_h="_userapp_"+_a.substring(9,_a.length);}else if(_e.substring(0,7)=="http://"){_h=_a;}else{var _f=application._getFileCache(_a);if(null!=_f){_h="_userapp_"+_f;}else{_h=_a;}}var _g='{"target":"'+_h+'"}';}var _i='{"id":'+this._id+', "div":"Sound", "method":"load", "params":'+_g+'}';nexacro.Device.exec(_i);return true;}else{return false;}};_pAudioPlayer.play=function(_a){var _b;var _c;var _d;if(typeof (_a)=="undefined"||_a==null||_a==""){_a=0;_d=1;}else{if(nexacro.Device.publicNumCheck(_a)&&_a>=0&&_a<=86400000){if(_a<200){return false;}else{_d=0;}}else{return false;}}if(typeof (this.repeatcount)=="undefined"||this.repeatcount==null){this.repeatcount=1;}if(typeof (this.startpos)=="undefined"||this.startpos==null||this.startpos==0){this.startpos= -1;}if(typeof (this.stoppos)=="undefined"||this.stoppos==null||this.stoppos==0){this.stoppos= -1;}if(this.volume>=0.0&&this.volume<=1.0){this.setvolume();}if((this.pan>=0.0&&this.pan<=1.0)||this.pan== -1){this.setpan();}if(nexacro.Device.curDevice==0){_b='{  repeatstartpos:"'+this.startpos;_b+='", repeatstoppos:"'+this.stoppos;_b+='", repeatcount:"'+this.repeatcount;_b+='", playingeventtime:"'+_a;_b+='", intervaltimestate:"'+_d;_b+='"}';}else{_b='{  "repeatstartpos":"'+this.startpos;_b+='", "repeatstoppos":"'+this.stoppos;_b+='", "repeatcount":"'+this.repeatcount;_b+='", "playingeventtime":"'+_a;_b+='", "intervaltimestate":"'+_d;_b+='"}';}if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _e=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_e);},20);return true;}if(this.bplay==true){var _e=this;nexacro.OnceCallbackTimer.callonce(this,function(){var _f=new nexacro.AudioErrorEventInfo("onerror","",_e.currentpos,"1008","Already playing");this._fire_onerror(this,_f);},20);return true;}if(this.startpos== -1&&this.stoppos== -1){_c='{"id":'+this._id+', "div":"Sound", "method":"play", "params":'+_b+'}';}else{_c='{"id":'+this._id+', "div":"Sound", "method":"repeatplay", "params":'+_b+'}';}nexacro.Device.exec(_c);return true;};_pAudioPlayer.pause=function(){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_c);},20);return;}if(this.bplay==false&&this.bpaused==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1009","Not playing");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1303","Already paused");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b='{"id":'+this._id+', "div":"Sound", "method":"pause", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer.resume=function(){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_c);},20);return;}if(this.bplay==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1011","Not Paused");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1010","Can't resume.");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b='{"id":'+this._id+', "div":"Sound", "method":"resume", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer.stop=function(){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_c);},20);return;}if(this.bplay==false&&this.bpaused!=true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1009","Not playing");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b='{"id":'+this._id+', "div":"Sound", "method":"stop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer._onload=function(_a){var _b=new nexacro.AudioEventInfo("onload",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.bload=true;this.bplay=false;this.bpaused=false;this.duration=_a.playtime;this._fire_onload(this,_b);};_pAudioPlayer._fire_onload=function(_a,_b){if(this.onload&&this.onload._has_handlers){return this.onload._fireEvent(this,_b);}return true;};_pAudioPlayer._onplay=function(_a){var _b=new nexacro.AudioEventInfo("onplay",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.currentpos=_a.curtime;this.bplay=true;this.bpaused=false;this._fire_onplay(this,_b);};_pAudioPlayer._fire_onplay=function(_a,_b){if(this.onplay&&this.onplay._has_handlers){return this.onplay._fireEvent(this,_b);}return true;};_pAudioPlayer._onplaying=function(_a){var _b=new nexacro.AudioEventInfo("onplaying",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.currentpos=_a.curtime;this._fire_onplaying(this,_b);};_pAudioPlayer._fire_onplaying=function(_a,_b){if(this.onplaying&&this.onplaying._has_handlers){return this.onplaying._fireEvent(this,_b);}return true;};_pAudioPlayer._onstop=function(_a){var _b=new nexacro.AudioEventInfo("onstop",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this.currentpos=_a.curtime;if(_a.reason=="4"||_a.reason=="5"){this.bpaused=false;this.bplay=false;this.currentpos=0.0;}else if(_a.reason=="6"){this.bpaused=true;this.bplay=false;}this._fire_onstop(this,_b);};_pAudioPlayer._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pAudioPlayer.movePos=function(_a){if(this.bload==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _b=new nexacro.AudioErrorEventInfo("onerror","",0,"1007","Not loaded");this._fire_onerror(this,_b);},20);return;}if(typeof (_a)!="undefined"&&(_a>=0&&_a<=this.duration)&&nexacro.Device.publicNumCheck(_a)){this.time=_a||"";var _b;if(nexacro.Device.curDevice==0){_b='{  desttime:"'+this.time;_b+='"}';}else{_b='{  "desttime":"'+this.time;_b+='"}';}var _c='{"id":'+this._id+', "div":"Sound", "method":"movePos", "params":'+_b+'}';nexacro.Device.exec(_c);return true;}else{return false;}};_pAudioPlayer._onmovepos=function(_a){this.currentpos=_a.curtime;var _b=new nexacro.AudioEventInfo("onmovepos",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this.duration=_a.playtime;this._fire_onmovepos(this,_b);};_pAudioPlayer._fire_onmovepos=function(_a,_b){if(this.onmovepos&&this.onmovepos._has_handlers){return this.onmovepos._fireEvent(this,_b);}return true;};_pAudioPlayer.setvolume=function(){var _a;if(nexacro.Device.curDevice==0){_a='{  volume:"'+this.volume;_a+='"}';}else{_a='{  "volume":"'+this.volume;_a+='"}';}var _b='{"id":'+this._id+', "div":"Sound", "method":"setvolum", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer.setpan=function(){var _a;if(nexacro.Device.curDevice==0){_a='{  pan:"'+this.pan;_a+='"}';}else{_a='{  "pan":"'+this.pan;_a+='"}';}var _b='{"id":'+this._id+', "div":"Sound", "method":"setpan", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioPlayer._onerror=function(_a){var _b=new nexacro.AudioErrorEventInfo("onerror",_a.url,_a.curtime,_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pAudioPlayer._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pAudioPlayer.paramck_AudioLoad=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pAudioPlayer=null;}if(!nexacro.AudioEventInfo){nexacro.AudioEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.eventid=_a;this.reason=_b;this.url=_c;this.duration=_d;this.currentpos=_e;};var _pAudioEventInfo=nexacro.AudioEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AudioEventInfo);_pAudioEventInfo._type_name="AudioEventInfo";_pAudioEventInfo=null;}if(!nexacro.AudioErrorEventInfo){nexacro.AudioErrorEventInfo=function(_a,_b,_c,_d,_e){this.eventid=_a;this.url=_b;this.currentpos=_c;this.errortype="ObjectError";this.statuscode=_d;this.errormsg=_e;};var _pAudioErrorEventInfo=nexacro.AudioErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AudioErrorEventInfo);_pAudioErrorEventInfo._type_name="AudioErrorEventInfo";_pAudioErrorEventInfo=null;}if(!nexacro.Geolocation){nexacro.Geolocation=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.ACCURACY_0=0;this.ACCURACY_1=1;this.ACCURACY_2=2;this.ACCURACY_3=3;this.ACCURACY_4=4;this.coords={latitude:0.0,longitude:0.0,altitude:0.0,heading:0.0,speed:0.0,accuracy:0.0,altitudeaccuracy:0.0,set_latitude:function(){},set_longitude:function(){},set_altitude:function(){},set_heading:function(){},set_speed:function(){},set_accuracy:function(){},set_altitudeaccuracy:function(){}};this.timestamp="";this.sourcetype="";this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d;_d='{"id":'+this._id+', "div":"Geolocation", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pGeolocation=nexacro.Geolocation.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Geolocation);_pGeolocation._type_name="Geolocation";_pGeolocation.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Geolocation", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pGeolocation.on_created=function(){};_pGeolocation.set_coords=function(){};_pGeolocation.set_latitude=function(){};_pGeolocation.set_longitude=function(){};_pGeolocation.set_altitude=function(){};_pGeolocation.set_heading=function(){};_pGeolocation.set_speed=function(){};_pGeolocation.set_accuracy=function(){};_pGeolocation.set_altitudeaccuracy=function(){};_pGeolocation.set_sourcetype=function(){};_pGeolocation.set_timestamp=function(){};_pGeolocation.getCurrentPosition=function(_a,_b){var _c;if(_a==null||_b==null){return false;}if(this.parmack_Geolocation(_a,_b,1)){this.Accuracy=_a;this.Timeout=_b;if(nexacro.Device.curDevice==0){_c='{Accuracy:"'+this.Accuracy+'", Timeout:"'+this.Timeout+'"}';}else{_c='{"Accuracy":"'+this.Accuracy;_c+='", "timeout":"'+this.Timeout+'"}';}var _d='{"id":'+this._id+', "div":"Geolocation", "method":"getCurrentPosition", "params":'+_c+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pGeolocation.watchStart=function(_a,_b){var _c;if(_a==null||_b==null){return false;}if(this.parmack_Geolocation(_a,_b,2)){this.Accuracy=_a.toString();this.IntervalTime=_b.toString();if(nexacro.Device.curDevice==0){_c='{"Accuracy":"'+this.Accuracy+'", "IntervalTime":"'+this.IntervalTime+'"}';}else{this.Accuracy=_a;_c='{"Accuracy":"'+this.Accuracy;_c+='", "timeout":"'+this.IntervalTime+'"}';}var _d='{"id":'+this._id+', "div":"Geolocation", "method":"watchStart", "params":'+_c+'}';nexacro.Device.exec(_d);}else{return false;}return true;};_pGeolocation.watchStop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Geolocation", "method":"watchStop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pGeolocation._onrecvsuccess=function(_a){this.coords.latitude=_a.coords.latitude;this.coords.longitude=_a.coords.longitude;this.coords.altitude=_a.coords.altitude;this.coords.heading=_a.coords.heading;this.coords.speed=_a.coords.speed;this.coords.accuracy=_a.coords.accuracy;this.coords.altitudeaccuracy=_a.coords.altitudeaccuracy;this.timestamp=new Date(_a.timestamp);this.sourcetype=_a.sourcetype;var _b=new nexacro.GeolocationEventInfo("onrecvsuccess",this.coords,this.timestamp,this.sourcetype);this._fire_onrecvsuccess(this,_b);};_pGeolocation._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pGeolocation._onrecverror=function(_a){var _b=new nexacro.GeolocationErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);this._fire_onrecverror(this,_b);};_pGeolocation._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pGeolocation.parmack_Geolocation=function(_a,_b,_c){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if(_c==null||typeof (_c)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}if(nexacro.Device.curDevice==0){if(_c==1){if((_a>=0&&_a<3)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}else if(_c==2){if((_a>=0&&_a<3)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}}else{if(_c==1){if((_a>=0&&_a<5)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}else if(_c==2){if((_a>=0&&_a<5)&&(_b>=200&&_b<=86400000)){return true;}else{return false;}}}return true;};_pGeolocation=null;}if(!nexacro.GeolocationEventInfo){nexacro.GeolocationEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.coords={latitude:Number(_b.latitude),longitude:Number(_b.longitude),altitude:Number(_b.altitude),heading:Number(_b.heading),speed:Number(_b.speed),accuracy:Number(_b.accuracy),altitudeaccuracy:Number(_b.altitudeaccuracy)};this.timestamp=_c;this.sourcetype=_d;};var _pGeolocationEventInfo=nexacro.GeolocationEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.GeolocationEventInfo);_pGeolocationEventInfo._type_name="GeolocationEventInfo";_pGeolocationEventInfo=null;}if(!nexacro.GeolocationErrorEventInfo){nexacro.GeolocationErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pGeolocationErrorEventInfo=nexacro.GeolocationErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.GeolocationErrorEventInfo);_pGeolocationErrorEventInfo._type_name="GeolocationErrorEventInfo";_pGeolocationErrorEventInfo=null;}if(!nexacro.Acceleration){nexacro.Acceleration=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.xpos=0;this.ypos=0;this.zpos=0;this.timestamp="";this.accuracy=0;this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d='{"id":'+this._id+', "div":"Acceleration", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pAcceleration=nexacro.Acceleration.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Acceleration);_pAcceleration._type_name="Acceleration";_pAcceleration.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Acceleration", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pAcceleration.on_created=function(){};_pAcceleration.set_xpos=function(){};_pAcceleration.set_ypos=function(){};_pAcceleration.set_zpos=function(){};_pAcceleration.set_timestamp=function(){};_pAcceleration.set_accuracy=function(){};_pAcceleration.getCurrentAcceleration=function(_a){var _b;if(typeof (_a)=="undefined"||_a==null){this.accuracy=0;}else{if(this.paramck_accuracy(_a)){if(_a>=0&&_a<=3){this.accuracy=_a;}else{return false;}}else{return false;}}var _c=this.parmack_AccelgetCurrentPosition(this.accuracy);if(_c==true){if(nexacro.Device.curDevice==0){_b='{"Accuracy" : "'+this.accuracy.toString()+'"}';}else{_b='{"Accuracy":"'+this.accuracy+'"}';}var _d='{"id":'+this._id+', "div":"Acceleration", "method":"getCurrentAcceleration", "params":'+_b+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pAcceleration.watchStart=function(_a,_b){var _c;var _d=this.pramck_AccelwatchStart(_b,_a);if(_d==true){if(nexacro.Device.curDevice==0){_c='{  IntervalTime:"'+_b;_c+='", Accuracy:"'+_a;_c+='"}';}else{_c='{"timeout":"'+_b;_c+='", "Accuracy":"'+_a;_c+='"}';}var _e='{"id":'+this._id+', "div":"Acceleration", "method":"watchStart", "params":'+_c+'}';nexacro.Device.exec(_e);return true;}else{return false;}};_pAcceleration.watchStop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Acceleration", "method":"watchStop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAcceleration._onrecvsuccess=function(_a){this.xpos=parseFloat(_a.xpos);this.ypos=parseFloat(_a.ypos);this.zpos=parseFloat(_a.zpos);this.timestamp=new Date(_a.timestamp);this.accuracy=parseFloat(_a.accuracy);var _b=new nexacro.AccelerationEventInfo("onrecvsuccess",this);this._fire_onrecvsuccess(this,_b);};_pAcceleration._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pAcceleration._onrecverror=function(_a){var _b=new nexacro.AccelerationErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);this._fire_onrecverror(this,_b);};_pAcceleration._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pAcceleration.paramck_accuracy=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pAcceleration.parmack_AccelgetCurrentPosition=function(_a){if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pAcceleration.pramck_AccelwatchStart=function(_a,_b){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if((_b>=0&&_b<=3)&&(_a>=200&&_a<=86400000)){}else{return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};_pAcceleration=null;}if(!nexacro.AccelerationEventInfo){nexacro.AccelerationEventInfo=function(_a,_b){this.eventid=_a;this.xpos=_b.xpos;this.ypos=_b.ypos;this.zpos=_b.zpos;this.timestamp=_b.timestamp;this.accuracy=_b.accuracy;};_pAccelerationEventInfo=nexacro.AccelerationEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AccelerationEventInfo);_pAccelerationEventInfo._type_name="AccelerationEventInfo";_pAccelerationEventInfo=null;}if(!nexacro.AccelerationErrorEventInfo){nexacro.AccelerationErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};_pAccelerationErrorEventInfo=nexacro.AccelerationErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AccelerationErrorEventInfo);_pAccelerationErrorEventInfo._type_name="AccelerationErrorEventInfo";_pAccelerationErrorEventInfo=null;}if(!nexacro.Vibrator){nexacro.Vibrator=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.repeatcount="1";this.patterns=new Array(100,100);this.startpos="0";this.enableevent=true;this._event_list={"onplay":1,"onstop":1,"onerror":1};this.onplay=null;this.onstop=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"Vibrator", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pVibrator=nexacro.Vibrator.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Vibrator);_pVibrator._type_name="Vibrator";_pVibrator.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Vibrator", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pVibrator.on_created=function(){};_pVibrator.set_repeatcount=function(_a){if(this.paramck_vibrepeatcount(_a)){this.repeatcount=_a;return true;}return false;};_pVibrator.set_patterns=function(_a){if(this.paramck_vibpattern(_a)){this.patterns=_a;return true;}return false;};_pVibrator.set_startpos=function(_a){if(this.paramck_vibstartpos(_a)){this.startpos=_a;return true;}return false;};_pVibrator.hasVibrator=function(){if(nexacro.Device.curDevice==0){return nexacro.__hasVibrator();}else{if(nexacro.Device.isphone==1){return true;}else{return false;}}};_pVibrator.play=function(){var _a;if(nexacro.Device.curDevice==0){if(this.startpos<this.patterns.length&&this.startpos>=0){var _c=new Array();var _d=0;if(Number(this.startpos)%2!=0){_c[0]=0;_d++ ;}var _e=this.patterns.length;for(var _f=this.startpos;_f<_e;_f++ ){_c[_d]=this.patterns[_f];_d++ ;}_a='{  turn:"'+this.repeatcount.toString();_a+='", delay:"'+_c;_a+='"}';}else{return this._onerror({errorcode:'00001',errormsg:'parameter error'});}}else{_a='{  "turn":"'+this.repeatcount;_a+='", "delay":"'+this.patterns;_a+='", "startpos":"'+this.startpos;_a+='"}';if(nexacro.Device.isphone!=1){return this._onerror({errorcode:'10001',errormsg:'Unsupported device Vibrator'});}}var _b='{"id":'+this._id+', "div":"Vibrator", "method":"play", "params":'+_a+'}';nexacro.Device.exec(_b);};_pVibrator.stop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Vibrator", "method":"stop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pVibrator._onplay=function(_a){var _b=new nexacro.VibratorEventInfo("onplay");this._fire_onplay(this,_b);};_pVibrator._fire_onplay=function(_a,_b){if(this.onplay&&this.onplay._has_handlers){return this.onplay._fireEvent(this,_b);}return true;};_pVibrator._onstop=function(_a){var _b=new nexacro.VibratorEventInfo("onstop");this._fire_onstop(this,_b);};_pVibrator._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pVibrator._onerror=function(_a){var _b=new nexacro.VibratorErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pVibrator._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pVibrator.paramck_vibstartpos=function(_a){if(!nexacro.Device.publicNumCheck(_a)||Number(_a)<0){return false;}return true;};_pVibrator.paramck_vibrepeatcount=function(_a){if(!nexacro.Device.publicNumCheck(_a)){return false;}if(Number(_a)<0){return false;}return true;};_pVibrator.paramck_vibpattern=function(_a){if(_a instanceof Array){if(_a.length<=100){for(var _b=0;_b<_a.length;_b++ ){if(!nexacro.Device.publicNumCheck(_a[_b])){return false;}if(_a[_b]<1){return false;}}}else{return false;}if(_a.length%2!=0){return false;}}else{return false;}return true;};_pVibrator=null;}if(!nexacro.VibratorEventInfo){nexacro.VibratorEventInfo=function(_a){this.eventid=_a;};var _pVibratorEventInfo=nexacro.VibratorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VibratorEventInfo);_pVibratorEventInfo._type_name="VibratorEventInfo";_pVibratorEventInfo=null;}if(!nexacro.VibratorErrorEventInfo){nexacro.VibratorErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pVibratorErrorEventInfo=nexacro.VibratorErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VibratorErrorEventInfo);_pVibratorErrorEventInfo._type_name="VibratorErrorEventInfo";_pVibratorErrorEventInfo=null;}if(!nexacro.Network){nexacro.Network=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.availabletype="";this.timestamp="";this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d='{"id":'+this._id+', "div":"Network", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pNetwork=nexacro.Network.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Network);_pNetwork._type_name="Network";_pNetwork.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Network", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pNetwork.on_created=function(){};_pNetwork.set_availabletype=function(){};_pNetwork.set_timestamp=function(){};_pNetwork.isReachable=function(_a){var _b;if(_a==null){return false;}var _c=this.paramck_isReachable(_a);if(_c==true){if(nexacro.Device.curDevice==0){this.url=_a||"";_b='{"url":"'+this.url+'"}';}else{_b='{"target":"'+_a+'"}';this.availabletype="availabletype";this.timestamp="timestamp";}var _d='{"id":'+this._id+', "div":"Network", "method":"isReachable", "params":'+_b+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pNetwork.watchStart=function(_a){var _b;var _c=this.paramck_watchStart(_a);if(_c==true){if(nexacro.Device.curDevice==0){this.intervalTime=_a||"";_b='{"target":"'+this.intervalTime+'"}';}else{_b='{"target":"'+_a+'"}';}var _d='{"id":'+this._id+', "div":"Network", "method":"watchStart", "params":'+_b+'}';nexacro.Device.exec(_d);return true;}else{return false;}};_pNetwork.watchStop=function(){var _a='""';var _b='{"id":'+this._id+', "div":"Network", "method":"watchStop", "params":'+_a+'}';nexacro.Device.exec(_b);};_pNetwork._onrecvsuccess=function(_a){this.availabletype=parseInt(_a.availabletype)|0;this.timestamp=new Date(_a.timestamp);var _b=new nexacro.NetworkEventInfo("onrecvsuccess");this._fire_onrecvsuccess(this,_b);};_pNetwork._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pNetwork._onrecverror=function(_a){var _b=new nexacro.NetworkErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);this._fire_onrecverror(this,_b);};_pNetwork._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pNetwork.paramck_isReachable=function(_a){if(_a.trim().length<1||_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"||_a==""){return false;}return true;};_pNetwork.paramck_watchStart=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<200||_a>86400000){return false;}return true;};_pNetwork=null;}if(!nexacro.NetworkEventInfo){nexacro.NetworkEventInfo=function(_a){this.eventid=_a;};var _pNetworkEventInfo=nexacro.NetworkEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.NetworkEventInfo);_pNetworkEventInfo._type_name="NetworkEventInfo";_pNetworkEventInfo=null;}if(!nexacro.NetworkErrorEventInfo){nexacro.NetworkErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pNetworkErrorEventInfo=nexacro.NetworkErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.NetworkErrorEventInfo);_pNetworkErrorEventInfo._type_name="NetworkErrorEventInfo";_pNetworkErrorEventInfo=null;}if(!nexacro.FileDialog){nexacro.FileDialog=function(_a,_b){this.name=_a||"";this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.enableevent=true;this.defaultextension=true;this.filter="";this.filterindex=0;this.EnvironmentPath=1;this.async=true;this._event_list={"onclose":1,"onerror":1};this.onclose=null;this.onerror=null;var _c='{"defaultextension":"'+this.defaultextension+'","filter":"'+this.filter+'","filterindex":"'+this.filterindex+'"}';var _d='{"id":'+this._id+', "div":"FileDialog", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};nexacro.FileDialog.LOAD=1;nexacro.FileDialog.SAVE=2;nexacro.FileDialog.MULTILOAD=3;nexacro.FileDialog.SELFOLDER=4;var _pFileDialog=nexacro.FileDialog.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.FileDialog);_pFileDialog._type_name="FileDialog";_pFileDialog.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"FileDialog", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pFileDialog.on_created=function(){};_pFileDialog.set_defaultextension=function(_a){if(this.pramck_filedialog_defaultextension(_a)){if(typeof (_a)!="boolean"){if(_a.toLowerCase()=='true'){this.defaultextension=true;}else if(_a.toLowerCase()=='false'){this.defaultextension=false;}}else{this.defaultextension=_a;}return true;}else{return false;}};_pFileDialog.set_filter=function(_a){if(this.pramck_filedialog_filter(_a)){var _b=_a.split("|");var _c=_b.length;if(_c<2){return false;}if((_c%2==1)&&_b[_c-1]!=""){return false;}var _d=/[\*].[a-zA-Z0-9가-힣\*]/gi;for(var _e=0;_e<_c;_e++ ){if(_e%2==1){if(_d.test(_b[_e])==false){return false;}_d.lastIndex=0;}}this.filter=_a;return true;}else{return false;}};_pFileDialog.set_filterindex=function(_a){if(this.pramck_filedialog_numbercheck(_a)){this.filterindex=_a;return true;}else{return false;}};_pFileDialog.set_async=function(_a){};_pFileDialog.open=function(_a,_b,_c,_d){if(_c==null||typeof (_c)=="undefined"){_c="%USERAPP%";}if(_d==null||typeof (_d)=="undefined"){_d="";}if(!this.pramck_filedialogasyncOpen(_a,_b)){return false;}if(this.filter==""){this.filter="All(*.*)|*.*|";}var _e=this.filter.split("|");if(this.defaultextension==true&&this.filterindex>=(_e.length/2)){return false;}if(nexacro.Device.curDevice==0){var _h=_c.substring(0,9);if(_h.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;}else if(_h.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;}else{return false;}}else{var _h=_c.substring(0,9);if(_h.toLowerCase()=="%userapp%"){_c="_userapp_";}else{return false;}}var _f='{"strTitle":"'+_a+'","constOpenMode":"'+_b+'","strInitialPath":"'+_c+'","strFileName":"'+_d+'","defaultextension":"'+this.defaultextension+'","filter":"'+this.filter+'","filterindex":"'+this.filterindex+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _g;_g='{"id":'+this._id+', "div":"FileDialog", "method":"open", "params":'+_f+'}';nexacro.Device.exec(_g);return true;};_pFileDialog._onclose=function(_a){var _b=_a.virtualfiles;var _c=new Array(_b.length);for(var _e=0;_e<_b.length;_e++ ){var _f=new nexacro.VirtualFile("VirtualFile","");_f.filename=_b[_e].filename;_f.fullpath=_b[_e].fullpath;_f.path=_b[_e].path;_c[_e]=_f;}var _d=new nexacro.FileDialogEventInfo("onclose",_a.reason,_a.path,_c);this._fire_onclose(this,_d);};_pFileDialog._fire_onclose=function(_a,_b){if(this.onclose&&this.onclose._has_handlers){return this.onclose._fireEvent(this,_b);}return true;};_pFileDialog.pramck_filedialog_defaultextension=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="boolean"){if(_a.toLowerCase()=='true'||_a.toLowerCase()=='false'){return true;}else{return false;}}else{return true;}};_pFileDialog.pramck_filedialog_filter=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}else{return true;}};_pFileDialog.pramck_filedialog_numbercheck=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pFileDialog.pramck_filedialogasyncOpen=function(_a,_b){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}else{if(!nexacro.Device.publicNumCheck(_b)){return false;}if(_b>4||_b<1){return false;}}return true;};_pFileDialog=null;}if(!nexacro.FileDialogEventInfo){nexacro.FileDialogEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.reason=_b;this.path=_c;this.virtualfiles=_d;};var _pFileDialogEventInfo=nexacro.FileDialogEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.FileDialogEventInfo);_pFileDialogEventInfo._type_name="FileDialogEventInfo";_pFileDialogEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.VirtualFile){nexacro.VirtualFile=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.filename="";this.fullpath="";this.path="";this.enableevent=true;this.async=true;this._event_list={"onsuccess":1,"onerror":1,"getEvent":1};this.onsuccess=null;this.onerror=null;this.getEvent=null;var _c='{"strFilename":"'+this.filename+'","fullpath":"'+this.fullpath+'","path":"'+this.path+'"}';var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};nexacro.VirtualFile.openRead=0x0001;nexacro.VirtualFile.openWrite=0x0002;nexacro.VirtualFile.openAppend=0x0010;nexacro.VirtualFile.openCreate=0x1000;nexacro.VirtualFile.openText=0x0100;nexacro.VirtualFile.openBinary=0x0200;nexacro.VirtualFile.seekBegin=0x0000;nexacro.VirtualFile.seekCurrent=0x0001;nexacro.VirtualFile.seekEnd=0x0002;nexacro.VirtualFile.findAll=0x0001;nexacro.VirtualFile.findFileOnly=0x0002;nexacro.VirtualFile.findDirectoryOnly=0x0003;nexacro.VirtualFile.findCaseless=0x0010;nexacro.VirtualFile.EnvironmentPath=1;var _pVirtualFile=nexacro.VirtualFile.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.VirtualFile);_pVirtualFile._type_name="VirtualFile";_pVirtualFile.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"VirtualFile", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pVirtualFile.on_created=function(){};_pVirtualFile.set_filename=function(_a){if(this.pramck_virtualproperty(_a)){this.filename=_a;return true;}else{return false;}};_pVirtualFile.set_fullpath=function(_a){if(this.pramck_virtualproperty(_a)){this.fullpath=_a;return true;}else{return false;}};_pVirtualFile.set_path=function(_a){if(this.pramck_virtualproperty(_a)){this.path=_a;return true;}else{return false;}};_pVirtualFile.set_environmentpath=function(_a){if(this.pramck_virtualproperty(_a)){this.EnvironmentPath=_a;if(( +this.EnvironmentPath)!=( +this.EnvironmentPath)){return false;}return true;}else{return false;}};_pVirtualFile.set_async=function(_a){};_pVirtualFile.set_filename=function(){};_pVirtualFile.set_fullpath=function(){};_pVirtualFile.set_path=function(){};_pVirtualFile.open=function(_a,_b){this.nOptions="";this.nFiletype="";if(_a==null){this.nOptions=_a;}else if(_a!=null){this.nOptions=_b;this.fullpath=_a;}else{return false;}var _c=this.fullpath.lastIndexOf("/");if(_c== -1){_c=this.fullpath.lastIndexOf("%");}this.path=this.fullpath.substring(0,_c+1);var _d=this.fullpath.lastIndexOf("/");if(_d== -1){_d=this.fullpath.lastIndexOf("%");}this.filename=this.fullpath.substring(_d+1,this.fullpath.length);if(!this.pramck_asyncOpen(this.path,this.nOptions)){return false;}this.strFilename="";if(nexacro.Device.curDevice==0){this.strFilename=this.fullpath.substring(9,this.fullpath.length);var _g=this.fullpath.substring(0,9);if(_g.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;}else if(_g.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;}else{var _h=application._getFileCache(_a);if(null!=_h){this.EnvironmentPath=3;this.strFilename=_h;}else{return false;}}}else{var _i="";var _g=this.fullpath.substring(0,9);if(_g.toLowerCase()=="%userapp%"){_i="_userapp_"+this.fullpath.substring(9,this.fullpath.length);}else{var _h=application._getFileCache(_a);if(null!=_h){_i="_userapp_"+_h;}else{_i=_a;}}this.strFilename=_i;}var _e="";if(nexacro.Device.curDevice==0){_e='{"strFilename":"'+this.strFilename+'","nOptions":"'+this.nOptions+'","nFiletype":"'+this.nFiletype+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';}else{_e='{"strFilename":"'+this.strFilename+'","nOptions":"'+this.nOptions+'","nFiletype":"'+this.nFiletype+'"}';}var _f='{"id":'+this._id+', "div":"VirtualFile", "method":"open", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pVirtualFile.close=function(){var _a='""';var _b='{"id":'+this._id+', "div":"VirtualFile", "method":"close", "params":'+_a+'}';nexacro.Device.exec(_b);};_pVirtualFile.read=function(_a){this.nLength=_a|| -1;this.strCharset="UTF-8";if(!this.pramck_asyncRead(this.nLength)){return false;}var _b='{  "nLength":"'+this.nLength;_b+='", "strCharset":"'+this.strCharset;_b+='"}';var _c='{"id":'+this._id+', "div":"VirtualFile", "method":"read", "params":'+_b+'}';nexacro.Device.exec(_c);return true;};_pVirtualFile.readLine=function(_a){this.strCharset="UTF-8";if(_a==null){this.strDelimeter="";}else if(_a!=null){this.strDelimeter=nexacro.Device.encodeString(_a);if(!this.pramck_asyncReadLine(this.strDelimeter)){return false;}}var _b='{  "strDelimeter":"'+this.strDelimeter;_b+='", "strCharset":"'+this.strCharset;_b+='"}';var _c='{"id":'+this._id+', "div":"VirtualFile", "method":"readLine", "params":'+_b+'}';nexacro.Device.exec(_c);return true;};_pVirtualFile.seek=function(_a,_b){this.nOffset="";this.nOption="";if(_b==null){this.nOffset=_a;this.nOption=VirtualFile.seekCurrent;}else if(_b!=null){this.nOffset=_a;this.nOption=_b;}if(!this.paramck_asyncSeek(this.nOffset,this.nOption)){return false;}var _c='{  "nOffset":"'+this.nOffset;_c+='", "nOption":"'+this.nOption;_c+='"}';var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"seek", "params":'+_c+'}';nexacro.Device.exec(_d);return true;};_pVirtualFile.write=function(_a,_b){this.varData=_a;this.strCharset=_b;if(typeof (this.varData)=="undefined"||this.varData.length==0){return false;}var _c='{  "varData":"'+this.varData;_c+='", "strCharset":"'+this.strCharset;_c+='"}';var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"write", "params":'+_c+'}';nexacro.Device.exec(_d);return true;};_pVirtualFile.remove=function(_a){this._strFilePath="";if(_a instanceof nexacro.VirtualFile){this._strFilePath=_a.fullpath;}else{this._strFilePath=_a;}if(!this.pramck_asyncDelete(this._strFilePath)){return false;}var _b="";var _c="";if(nexacro.Device.curDevice==0){_c=this._strFilePath.substring(0,9);if(_c.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;_b=this._strFilePath.substring(9,this._strFilePath.length);}else if(_c.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;_b=this._strFilePath.substring(9,this._strFilePath.length);}else{var _f=application._getFileCache(_a);if(null!=_f){this.EnvironmentPath=3;_b=_f;}else{return false;}}}else{var _g="";_c=this._strFilePath.substring(0,9);if(_c.toLowerCase()=="%userapp%"){_g="_userapp_"+this._strFilePath.substring(9,this._strFilePath.length);}else{var _f=application._getFileCache(_a);if(null!=_f){_g="_userapp_"+_f;}else{return false;}}_b=_g;}var _d='{"strFilePath":"'+_b+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _e='{"id":'+this._id+',"div":"VirtualFile", "method":"remove", "params":'+_d+'}';nexacro.Device.exec(_e);return true;};_pVirtualFile.getFileList=function(_a,_b,_c){this.strPath=_a;this.strSearchExpr=_b;this.constOption=_c;if(typeof (this.constOption)=="undefined"){this.constOption=VirtualFile.findAll;}if(_a==null||_b==null||!this.pramck_asyncGetFileList(this.strPath,this.strSearchExpr,this.constOption)){return false;}var _d="";if(nexacro.Device.curDevice==0){var _g=this.strPath.substring(0,9);if(_g.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;_d=this.strPath.substring(9,this.strPath.length);}else if(_g.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;_d=this.strPath.substring(9,this.strPath.length);}else{var _h=application._getFileCache(_a);if(null!=_h){this.EnvironmentPath=3;_d=_h;}else{return false;}}}else{var _i="";var _g=this.strPath.substring(0,9);if(_g.toLowerCase()=="%userapp%"){_i="_userapp_"+this.strPath.substring(9,this.strPath.length);}else{var _h=application._getFileCache(_a);if(null!=_h){_i="_userapp_"+_h;}else{return false;}}_d=_i;}var _e='{"strPath":"'+_d+'" ,"strSearchExpr":"'+this.strSearchExpr+'","constOption":"'+this.constOption+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _f='{"id":'+this._id+', "div":"VirtualFile", "method":"getFileList", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pVirtualFile.getFileSize=function(){var _a;if(nexacro.Device.curDevice==0){_a='{  "strPath":"'+this.fullpath;_a+='","EnvironmentPath":"'+this.EnvironmentPath+'"}';}else{var _c="";var _d=this.fullpath.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_c="_userapp_"+this.fullpath.substring(9,this.fullpath.length);}_a='{  "strPath":"'+_c;_a+='","EnvironmentPath":"'+this.EnvironmentPath+'"}';}var _b='{"id":'+this._id+', "div":"VirtualFile", "method":"getFileSize", "params":'+_a+'}';nexacro.Device.exec(_b);};_pVirtualFile.isExist=function(_a){if(!this.pramck_asyncIsExist(_a)){return false;}var _b="";if(nexacro.Device.curDevice==0){var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){this.EnvironmentPath=1;_b=_a.substring(9,_a.length);}else if(_e.toLowerCase()=="%sd_card%"){this.EnvironmentPath=2;_b=_a.substring(9,_a.length);}else{var _f=application._getFileCache(_a);if(null!=_f){this.EnvironmentPath=3;_b=_f;}else{return false;}}}else{var _g="";var _e=_a.substring(0,9);if(_e.toLowerCase()=="%userapp%"){_b="_userapp_"+_a.substring(9,_a.length);}else{var _f=application._getFileCache(_a);if(null!=_f){_b="_userapp_"+_f;}else{return false;}}}var _c='{  "strPath":"'+_b+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _d='{"id":'+this._id+', "div":"VirtualFile", "method":"isExist", "params":'+_c+'}';nexacro.Device.exec(_d);return true;};_pVirtualFile.createDirectory=function(_a,_b){if(!this.pramck_asyncIsExist(_a)){return false;}if(_b==null){this.strPath=_a;this.bAllCreate=false;}else if(_b!=null){this.strPath=_a;this.bAllCreate=_b;}else{return false;}var _c="";if(nexacro.Device.curDevice==0){var _f=_a.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=1;}else if(_f.toLowerCase()=="%sd_card%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=2;}else{return false;}}else{var _f=_a.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_c="_userapp_"+_a.substring(9,_a.length);}else{return false;}}var _d='{  "strPath":"'+_c+'","EnvironmentPath":"'+this.EnvironmentPath+'","bAllCreate":"'+this.bAllCreate+'"}';var _e='{"id":'+this._id+', "div":"VirtualFile", "method":"createDirectory", "params":'+_d+'}';nexacro.Device.exec(_e);return true;};_pVirtualFile.deleteDirectory=function(_a,_b){if(!this.pramck_asyncIsExist(_a)){return false;}if(_b==null){this.strPath=_a;this.bAllChild=false;}else if(_b!=null){this.strPath=_a;this.bAllChild=_b;}else{return false;}var _c="";if(nexacro.Device.curDevice==0){var _f=_a.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=1;}else if(_f.toLowerCase()=="%sd_card%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=2;}else{return false;}}else{var _f=_a.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_c="_userapp_"+_a.substring(9,_a.length);}else{return false;}}var _d='{  "strPath":"'+_c+'","EnvironmentPath":"'+this.EnvironmentPath+'","bAllChild":"'+this.bAllChild+'"}';var _e='{"id":'+this._id+', "div":"VirtualFile", "method":"deleteDirectory", "params":'+_d+'}';nexacro.Device.exec(_e);return true;};_pVirtualFile.renameDirectory=function(_a,_b){if(!this.pramck_asyncIsExist(_a)){return false;}if(!this.paramck_folderName(_b)){return false;}if(_b==null){return false;}this.strPath=_a;this.strNewName=_b;var _c="";var _d="";if(nexacro.Device.curDevice==0){var _g=_a.substring(0,9);if(_g.toLowerCase()=="%userapp%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=1;}else if(_g.toLowerCase()=="%sd_card%"){_c=_a.substring(9,_a.length);this.EnvironmentPath=2;}else{return false;}}else{var _g=_a.substring(0,9);if(_g.toLowerCase()=="%userapp%"){_c="_userapp_"+_a.substring(9,_a.length);}else{return false;}}if(nexacro.Device.curDevice==0){var _g=_b.substring(0,9);if(_g.toLowerCase()=="%userapp%"){_d=_b.substring(9,_b.length);this.EnvironmentPath=1;}else if(_g.toLowerCase()=="%sd_card%"){_d=_b.substring(9,_b.length);this.EnvironmentPath=2;}else{_d=_b;}}else{var _g=_b.substring(0,9);if(_g.toLowerCase()=="%userapp%"){_d="_userapp_"+_b.substring(9,_b.length);}else{_d=_b;}}var _e='{  "strPath":"'+_c+'","strNewName":"'+_d+'","EnvironmentPath":"'+this.EnvironmentPath+'"}';var _f='{"id":'+this._id+', "div":"VirtualFile", "method":"renameDirectory", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pVirtualFile._onsuccess=function(objData){var _textdata="";var _bindata="";var temptxtlen=0;var tempbinlen=0;if(objData.textdata){temptxtlen=objData.textdata.length;}if(objData.binarydata){tempbinlen=objData.binarydata.length;}if(temptxtlen>0){_textdata=objData.textdata.replace(/\&amp\;/g,"&");_textdata=_textdata.replace(/\&lt\;/g,"<");_textdata=_textdata.replace(/\&gt\;/g,">");_textdata=_textdata.replace(/\&quot\;/g,"\"");_textdata=_textdata.replace(/\&apos\;/g,"'");_textdata=_textdata.replace(/\&\#32\;/g," ");_textdata=_textdata.replace(/\&\#13\;/g,"\r");_textdata=_textdata.replace(/\&\#10\;/g,"\n");_textdata=_textdata.replace(/\&\#9\;/g,"\t");}else if(tempbinlen>0){_bindata=objData.binarydata.replace(/\&amp\;/g,"&");_bindata=_bindata.replace(/\&lt\;/g,"<");_bindata=_bindata.replace(/\&gt\;/g,">");_bindata=_bindata.replace(/\&quot\;/g,"\"");_bindata=_bindata.replace(/\&apos\;/g,"'");_bindata=_bindata.replace(/\&\#32\;/g," ");_bindata=_bindata.replace(/\&\#13\;/g,"\r");_bindata=_bindata.replace(/\&\#10\;/g,"\n");_bindata=_bindata.replace(/\&\#9\;/g,"\t");}var e=new nexacro.VirtualFileEventInfo("onsuccess",objData.reason,_textdata,_bindata,eval(objData.fileattributelist),objData.filesize,objData.fileisexist);this._fire_onsuccess(this,e);};_pVirtualFile._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pVirtualFile._onerror=function(_a){var _b=new nexacro.VirtualFileErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pVirtualFile._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pVirtualFile.toJSON=function(){return eval('({"filename":"'+this.filename+'","fullpath":"'+this.fullpath+'","path":"'+this.path+'"})');};_pVirtualFile.paramck_folderName=function(_a){if(_a==null){return false;}if(_a.match(/[\"/:*?<>|]/)){return false;}return true;};_pVirtualFile.pramck_virtualproperty=function(_a){if(typeof (_a)=="undefined"||_a==""||_a==null){return false;}else{return true;}};_pVirtualFile.pramck_asyncOpen=function(_a,_b){if(_b==null){if(typeof (_a)=="undefined"||_a==""||_a==null){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;}if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};_pVirtualFile.pramck_asyncRead=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pVirtualFile.pramck_asyncReadLine=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pVirtualFile.paramck_asyncSeek=function(_a,_b){if(_a==null||typeof (_a)=="undefined"){return false;}if(_b==null||typeof (_b)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pVirtualFile.pramck_asyncDelete=function(_a){if(_a==null||typeof (_a)=="undefined"||_a==""){return false;}else{return true;}};_pVirtualFile.pramck_asyncIsExist=function(_a){if(_a==null||typeof (_a)=="undefined"||_a==""||typeof (_a)!="string"){return false;}else{return true;}};_pVirtualFile.pramck_asyncGetFileList=function(_a,_b,_c){if(_a==null||typeof (_a)=="undefined"||_a==""||typeof (_a)!="string"){return false;}if(_b==null||typeof (_b)=="undefined"||_b==""||typeof (_b)!="string"){return false;}if(_c==null||typeof (_c)=="undefined"||_c==""){return false;}if(!nexacro.Device.publicNumCheck(_c)){return false;}return true;};_pVirtualFile=null;}if(nexacro.OS=="iOS"&&!nexacro.VirtualFileEventInfo){nexacro.VirtualFileEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.reason=_b;this.textdata=_c;this.binarydata=_d;if(typeof (_e)!="undefined"){var _h=new Array(_e.length);for(var _i=0;_i<_e.length;_i++ ){_h[_i]=new nexacro.FileAttribute(_e[_i]);}this.fileattributelist=_h;}else{this.fileattributelist="";}this.filesize=_f;this.fileisexist=_g;};var _pVirtualFileEventInfo=nexacro.VirtualFileEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VirtualFileEventInfo);_pVirtualFileEventInfo._type_name="VirtualFileEventInfo";_pVirtualFileEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.VirtualFileErrorEventInfo){nexacro.VirtualFileErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pVirtualFileErrorEventInfo=nexacro.VirtualFileErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VirtualFileErrorEventInfo);_pVirtualFileErrorEventInfo._type_name="VirtualFileErrorEventInfo";_pVirtualFileErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.FileAttribute){nexacro.FileAttribute=function(_a){this.accesstime=_a.accesstime;this.createtime=_a.createtime;this.filename=_a.filename;this.groupid=_a.groupid;this.modifytime=_a.modifytime;this.size=_a.size;this.userid=_a.userid;this.isdirectory=_a.isdirectory;this.isreadonly=_a.isreadonly;};var _pFileAttribute=nexacro.FileAttribute.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.FileAttribute);_pFileAttribute._type_name="FileAttribute";_pFileAttribute.on_created=function(){};_pFileAttribute.isDirectory=function(){return this.isdirectory;};_pFileAttribute.isReadOnly=function(){return this.isreadonly;};_pFileAttribute=null;}if(!nexacro.Camera){nexacro.Camera=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.imagequality="100";this.imagewidth="0";this.imageheight="0";this.encodingtype="JPEG";this.gettype="0";this.enableevent=true;this._event_list={"oncapture":1,"onerror":1};this.oncapture=null;this.onerror=null;var _c='""';var _d="";_d='{"id":'+this._id+', "div":"Camera", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pCamera=nexacro.Camera.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Camera);_pCamera._type_name="Camera";_pCamera.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"Camera", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pCamera.on_created=function(){};_pCamera.set_imagequality=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagequality=100;}else{if(_a>=0&&_a<=100){this.imagequality=_a;}else{return false;}}return true;};_pCamera.set_imagewidth=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagewidth=0;}else{if(_a>=0){this.imagewidth=_a;}else{return false;}}return true;};_pCamera.set_imageheight=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imageheight=0;}else{if(_a>=0){this.imageheight=_a;}else{return false;}}return true;};_pCamera.set_encodingtype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.encodingtype="JPEG";}else{if(_a=="JPEG"||_a.toUpperCase()=="JPEG"){this.encodingtype="JPEG";}else if(_a=="PNG"||_a.toUpperCase()=="PNG"){this.encodingtype="PNG";}else{return false;}}return true;};_pCamera.set_gettype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.gettype=0;}else{if(_a==0||_a==1){this.gettype=_a;}else{return false;}}return true;};_pCamera.takePicture=function(){if(this.paramck_takePicture(this.imagequality,this.imagewidth,this.imageheight,this.encodingtype,this.gettype)){var _a='{  "quality":"'+this.imagequality.toString();_a+='", "width":"'+this.imagewidth.toString();_a+='", "height":"'+this.imageheight.toString();_a+='", "encodingType":"'+this.encodingtype.toString();_a+='", "gettype":"'+this.gettype.toString();_a+='"}';var _b="";_b='{"id":'+this._id+', "div":"Camera", "method":"takePicture", "params":'+_a+'}';nexacro.Device.exec(_b);}else{}};_pCamera._oncapture=function(_a){var _b=new nexacro.CameraEventInfo("oncapture",_a.reason,_a.url,_a.imagedata,_a.imagewidth,_a.imageheight);this._fire_oncapture(this,_b);};_pCamera._fire_oncapture=function(_a,_b){if(this.oncapture&&this.oncapture._has_handlers){return this.oncapture._fireEvent(this,_b);}return true;};_pCamera._onerror=function(_a){var _b=new nexacro.CameraErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pCamera._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pCamera.paramck_takePicture=function(_a,_b,_c,_d,_e){if(_a!=null){if(!nexacro.Device.publicNumCheck(_a)){return false;}}if(_b!=null){if(!nexacro.Device.publicNumCheck(_b)){return false;}}if(_c!=null){if(!nexacro.Device.publicNumCheck(_c)){return false;}}if(_e!=null){if(!nexacro.Device.publicNumCheck(_e)){return false;}}if(_d!=null){if(typeof (_d)!="string"){return false;}}return true;};_pCamera=null;}if(!nexacro.CameraEventInfo){nexacro.CameraEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_a;this.reason=_b;this.url=_c;this.imagedata=_d;this.imagewidth=_e;this.imageheight=_f;};var _pCameraEventInfo=nexacro.CameraEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.CameraEventInfo);_pCameraEventInfo._type_name="CameraEventInfo";_pCameraEventInfo=null;}if(!nexacro.CameraErrorEventInfo){nexacro.CameraErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pCameraErrorEventInfo=nexacro.CameraErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.CameraErrorEventInfo);_pCameraErrorEventInfo._type_name="CameraErrorEventInfo";_pCameraErrorEventInfo=null;}if(!nexacro.ImagePicker){nexacro.ImagePicker=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.imagequality="100";this.imagewidth="0";this.imageheight="0";this.encodingtype="JPEG";this.gettype="0";this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d="";if(nexacro.Device.curDevice==0){_d='{"id":'+this._id+', "div":"ImagePicker", "method":"constructor", "params":'+_c+'}';}else{_d='{"id":'+this._id+', "div":"Camera", "method":"constructor", "params":'+_c+'}';}nexacro.Device.exec(_d);};var _pImagePicker=nexacro.ImagePicker.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ImagePicker);_pImagePicker._type_name="ImagePicker";_pImagePicker.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];if(nexacro.Device.curDevice==0){_b='{"id":'+this._id+', "div":"ImagePicker", "method":"destroy", "params":'+_a+'}';}else{_b='{"id":'+this._id+', "div":"Camera", "method":"destroy", "params":'+_a+'}';}nexacro.Device.exec(_b);return true;};_pImagePicker.on_created=function(){};_pImagePicker.set_imagequality=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagequality=100;}else{if(_a>=0&&_a<=100){this.imagequality=_a;}else{return false;}}return true;};_pImagePicker.set_imagewidth=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imagewidth=0;}else{if(_a>=0){this.imagewidth=_a;}else{return false;}}return true;};_pImagePicker.set_imageheight=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.imageheight=0;}else{if(_a>=0){this.imageheight=_a;}else{return false;}}return true;};_pImagePicker.set_encodingtype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.encodingtype="JPEG";}else{if(_a=="JPEG"||_a.toUpperCase()=="JPEG"){this.encodingtype="JPEG";}else if(_a=="PNG"||_a.toUpperCase()=="PNG"){this.encodingtype="PNG";}else{return false;}}return true;};_pImagePicker.set_gettype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.gettype=0;}else{if(_a==0||_a==1){this.gettype=_a;}else{return false;}}return true;};_pImagePicker.open=function(_a,_b){if((_a!=null&&typeof (_a)!="undefined")&&((_a==0)||(_a==1)||(_a=="0")||(_a=="1"))){this.gettype=_a;}else{return false;}if((_b!=null&&typeof (_b)!="undefined")&&((_b==0)||(_b==1)||(_b=="0")||(_b=="1"))){this.encodingtype=_b;}if(this.paramck_ImagePicker_asyncOpen(this.imagequality,this.imagewidth,this.imageheight,this.encodingtype,this.gettype)){var _c='{  "quality":"'+this.imagequality.toString();_c+='", "width":"'+this.imagewidth.toString();_c+='", "height":"'+this.imageheight.toString();_c+='", "encodingType":"'+this.encodingtype.toString();_c+='", "gettype":"'+this.gettype.toString();_c+='"}';var _d="";if(nexacro.Device.curDevice==0){_d='{"id":'+this._id+', "div":"ImagePicker", "method":"open", "params":'+_c+'}';}else{_d='{"id":'+this._id+', "div":"Camera", "method":"open", "params":'+_c+'}';}nexacro.Device.exec(_d);return true;}else{return false;}};_pImagePicker._onsuccess=function(_a){var _b=new nexacro.ImagePickerEventInfo("onsuccess",_a.url,_a.imagedata,_a.imagefile);this._fire_onsuccess(this,_b);};_pImagePicker._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pImagePicker._onerror=function(_a){var _b=new nexacro.ImagePickerErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pImagePicker._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pImagePicker.paramck_ImagePicker_asyncOpen=function(_a,_b,_c,_d,_e){if(_a!=null){if(!nexacro.Device.publicNumCheck(_a)){return false;}}if(_b!=null){if(!nexacro.Device.publicNumCheck(_b)){return false;}}if(_c!=null){if(!nexacro.Device.publicNumCheck(_c)){return false;}}if(_e!=null){if(!nexacro.Device.publicNumCheck(_e)){return false;}}if(_d!=null){if(typeof (_d)!="string"){return false;}}return true;};_pImagePicker=null;}if(!nexacro.ImagePickerEventInfo){nexacro.ImagePickerEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.imageurl=_b;this.imagedata=_c;this.imagefile=_d;};var _pImagePickerEventInfo=nexacro.ImagePickerEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ImagePickerEventInfo);_pImagePickerEventInfo._type_name="ImagePickerEventInfo";_pImagePickerEventInfo=null;}if(!nexacro.ImagePickerErrorEventInfo){nexacro.ImagePickerErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pImagePickerErrorEventInfo=nexacro.ImagePickerErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ImagePickerErrorEventInfo);_pImagePickerErrorEventInfo._type_name="ImagePickerErrorEventInfo";_pImagePickerErrorEventInfo=null;}if(!nexacro.AudioRecorder){nexacro.AudioRecorder=function(_a,_b){this._obj=_b;this._refform=_b;this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.brecording=false;this.bpaused=false;this.reccurtime="";this.audiofile="";this.samplerate=8000;this.channelconfig=1;if(nexacro.Device.curDevice==0){this.audioformat="mp3";}else{this.audioformat="wav";}this.enableevent=true;this._is_alive=true;this._event_list={"onrecord":1,"onrecording":1,"onstop":1,"onerror":1};this.onrecord=null;this.onrecording=null;this.onstop=null;this.onerror=null;var _c='""';var _d="";_d='{"id":'+this._id+', "div":"AudioRecorder", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pAudioRecorder=nexacro.AudioRecorder.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.AudioRecorder);_pAudioRecorder._type_name="AudioRecorder";_pAudioRecorder.destroy=function(){var _a='""';var _b;this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"AudioRecorder", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pAudioRecorder.on_created=function(){};_pAudioRecorder._getReferenceContext=function(){return this._refform;};_pAudioRecorder.set_audiofile=function(_a){if(typeof (_a)=="undefind"||_a==null||_a==""){return false;}else{this.audiofile=_a;}return true;};_pAudioRecorder.set_samplerate=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=8000&&_a<=96000){this.samplerate=_a;}else{return false;}}else{return false;}}return true;};_pAudioRecorder.set_channelconfig=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{if(_a==1||_a==2){this.channelconfig=_a;}else{return false;}}return true;};_pAudioRecorder.set_audioformat=function(_a){if(typeof (_a)=="undefind"||_a==null){return false;}else{var _b=_a.lastIndexOf(".");var _c=_a.substring(_b,_a.length).toUpperCase();if((nexacro.Device.curDevice==0)){if(_c=="OGG"||_c=="AMR_NB"||_c=="AMR_WB"||_c=="MP3"){this.audioformat=_a.toUpperCase();}else{return false;}}if(nexacro.Device.curDevice==1){if(_c=="WAV"){this.audioformat="WAV";}else{return false;}}}return true;};_pAudioRecorder.recordingStart=function(_a){var _b;if(typeof (_a)=="undefined"||_a==null||_a==""){return false;}else{if(nexacro.Device.publicNumCheck(_a)&&_a<=86400000&&_a>=0){if(_a<200){return false;}else{_b=0;}}else{return false;}}if(this.brecording==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1301","Already recording");this._fire_onerror(this,_c);},20);return false;}if(this.audiofile==""||typeof (this.audiofile)=="undefined"){var _c=this;nexacro.OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_d);},20);return false;}if(nexacro.Device.curDevice==0){var _d="";var _e="";var _f=this.audiofile.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_d=1;_e=this.audiofile.substring(9,this.audiofile.length);}else if(_f.toLowerCase()=="%sd_card%"){_d=2;_e=this.audiofile.substring(9,this.audiofile.length);}else{nexacro.OnceCallbackTimer.callonce(this,function(){var _g=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_g);},20);return false;}var _g='{  "audiofile":"'+_e;_g+='", "samplerate":"'+this.samplerate;_g+='", "channelconfig":"'+this.channelconfig;_g+='", "audioFormat":"'+this.audioformat;_g+='", "EnvironmentPath":"'+_d;_g+='", playingeventtime:"'+_a;_g+='", intervaltimestate:"'+_b;_g+='"}';var _h="";_h='{"id":'+this._id+', "div":"AudioRecorder", "method":"recordingStart", "params":'+_g+'}';}else{var _i="";var _f=this.audiofile.substring(0,9);if(_f.toLowerCase()=="%userapp%"){_i="_userapp_"+this.audiofile.substring(9,this.audiofile.length);}else{nexacro.OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_j);},20);return false;}var _g='{ "audiofile":"'+_i;_g+='", "samplerate":"'+this.samplerate;_g+='", "channelconfig":"'+this.channelconfig;_g+='", "audioFormat":"'+this.audioformat;_g+='", "playingeventtime":"'+_a;_g+='", "intervaltimestate":"'+_b;_g+='"}';var _h="";_h='{"id":'+this._id+', "div":"Sound", "method":"recordingStart", "params":'+_g+'}';}nexacro.Device.exec(_h);return true;};_pAudioRecorder.recordingStop=function(){if(this.brecording==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b="";if(nexacro.Device.curDevice==0){_b='{"id":'+this._id+', "div":"AudioRecorder", "method":"recordingStop", "params":'+_a+'}';}else{_b='{"id":'+this._id+', "div":"Sound", "method":"recordingStop", "params":'+_a+'}';}nexacro.Device.exec(_b);};_pAudioRecorder.pause=function(){if(nexacro.Device.curDevice==0){return;}if(this.brecording==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==true){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1303","Already paused");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b="";_b='{"id":'+this._id+', "div":"Sound", "method":"recpause", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioRecorder.resume=function(){if(nexacro.Device.curDevice==0){return;}if(this.brecording==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_c);},20);return;}if(this.bpaused==false){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=new nexacro.AudioErrorEventInfo("onerror",this.audiofile,this.reccurtime,"1011","Not paused");this._fire_onerror(this,_c);},20);return;}var _a='""';var _b="";_b='{"id":'+this._id+', "div":"Sound", "method":"recresume", "params":'+_a+'}';nexacro.Device.exec(_b);};_pAudioRecorder._onrecord=function(_a){this.brecording=true;this.bpaused=false;};_pAudioRecorder._fire_onrecord=function(_a,_b){if(this.onrecord&&this.onrecord._has_handlers){return this.onrecord._fireEvent(this,_b);}return true;};_pAudioRecorder._onrecording=function(_a){this.brecording=true;this.bpaused=false;this.reccurtime=_a.curtime;var _b=new nexacro.AudioEventInfo("onrecording",_a.reason,_a.url,_a.playtime,_a.curtime,null,null,null);this._fire_onrecording(this,_b);};_pAudioRecorder._fire_onrecording=function(_a,_b){if(this.onrecording&&this.onrecording._has_handlers){return this.onrecording._fireEvent(this,_b);}return true;};_pAudioRecorder._onstop=function(_a){if(_a.reason=="5"){this.brecording=false;this.bpaused=false;}else if(_a.reason=="6"){this.brecording=true;this.bpaused=true;}var _b=new nexacro.AudioEventInfo("onstop",_a.reason,_a.url,_a.playtime,_a.curtime,null,null,null);this._fire_onstop(this,_b);};_pAudioRecorder._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pAudioRecorder._onerror=function(_a){var _b=new nexacro.AudioErrorEventInfo("onerror",_a.url,_a.curtime,_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pAudioRecorder._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pAudioRecorder=null;}if(!nexacro.ContactSet){nexacro.ContactSet=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.isRunning=false;this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"ContactSet", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pContactSet=nexacro.ContactSet.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactSet);_pContactSet._type_name="ContactSet";_pContactSet.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"ContactSet", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pContactSet.on_created=function(){};_pContactSet.query=function(_a,_b){if(typeof (_a)=="undefined"||_a==""){return false;}if(!(nexacro.Device.pramck_contactString(_a))){return false;}if(_b==null||typeof (_b)=="undefined"){_b= -1;}else{try{var _f=Number(_b.toString());}catch(e){return false;}if(( +_f)!=( +_f)){return false;}if(_b==0||_b< -1){return false;}}var _c=_a.split(";");if(_c.length<1){return false;}for(var _g=0;_g<_c.length;_g++ ){var _h=_c[_g].split(":");if(_h.length<2){return false;}else{var _i=_h[0].toLowerCase();if(_c.length==1){if(!(_i=="all"||_i=="uniqueid"||_i=="categories"||_i=="birthday"||_i=="contactname"||_i=="nickname"||_i=="note"||_i=="phonenumbers"||_i=="emails"||_i=="ims"||_i=="urls"||_i=="addresses"||_i=="organizations")){return false;}}else{if(!(_i=="uniqueid"||_i=="categories"||_i=="birthday"||_i=="contactname"||_i=="nickname"||_i=="note"||_i=="phonenumbers"||_i=="emails"||_i=="ims"||_i=="urls"||_i=="addresses"||_i=="organizations")){return false;}}}if(_h[1].split(" ").join("").length==0){return false;}}if(nexacro.Device.curDevice==1){_a=_a.replace(/\?/g,"_QUESTION_");}var _d='{ "strQueryInfo":"'+_a;_d+='", "nResultCnt":"'+_b;_d+='"}';var _e='{"id":'+this._id+', "div":"ContactSet", "method":"query", "params":'+_d+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_e);return true;};_pContactSet.append=function(_a){if(!(_a instanceof nexacro.Contact)){return false;}if(this.typeCheck(_a)==false){return false;}var _b=_a.toJson();var _c='{"id":'+this._id+', "div":"ContactSet", "method":"append", "params":'+_b+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_c);return true;};_pContactSet.update=function(_a){if(!(_a instanceof nexacro.Contact)){return false;}if(this.typeCheck(_a)==false){return false;}var _b=_a.toJson();var _c='{"id":'+this._id+', "div":"ContactSet", "method":"update", "params":'+_b+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_c);return true;};_pContactSet.remove=function(_a){if(typeof (_a)=="undefined"){return false;}if(_a!=null){if((( +_a)!=( +_a))||_a<0){return false;}}var _b='{ "strUniqueID":"'+_a;_b+='"}';var _c='{"id":'+this._id+', "div":"ContactSet", "method":"remove", "params":'+_b+'}';if(this.isRunning){return false;}this.isRunning=true;nexacro.Device.exec(_c);return true;};_pContactSet._onsuccess=function(_a){this.isRunning=false;if(nexacro.Device.curDevice==0){var _b="";var _c="";var _d="";var _e="";var _f="";var _g="";var _h="";var _i="";var _j="";var _k="";var _l="";var _m="";var _n="";var _o="";var _p="";var _q="";var _r="";var _s="";var _t="";var _u=new Array();for(var _v=0;_v<_a.length;_v++ ){if(typeof (_a[_v].contacts)!="undefined"){if(typeof (_a[_v].contacts.uniqueid)!="undefined"){_c=_a[_v].contacts.uniqueid;}if(typeof (_a[_v].contacts.contactname)!="undefined"){if(typeof (_a[_v].contacts.contactname.displayname)!="undefined"){_d=_a[_v].contacts.contactname.displayname;}if(typeof (_a[_v].contacts.contactname.familyname)!="undefined"){_e=_a[_v].contacts.contactname.familyname;}if(typeof (_a[_v].contacts.contactname.givenname)!="undefined"){_f=_a[_v].contacts.contactname.givenname;}if(typeof (_a[_v].contacts.contactname.middlename)!="undefined"){_g=_a[_v].contacts.contactname.middlename;}if(typeof (_a[_v].contacts.contactname.prefix)!="undefined"){_h=_a[_v].contacts.contactname.prefix;}if(typeof (_a[_v].contacts.contactname.suffix)!="undefined"){_i=_a[_v].contacts.contactname.suffix;}}if(typeof (_a[_v].contacts.nickname)!="undefined"){_j=_a[_v].contacts.nickname;}if(typeof (_a[_v].contacts.birthday)!="undefined"){_k=new Date(_a[_v].contacts.birthday);}if(typeof (_a[_v].contacts.note)!="undefined"){_l=_a[_v].contacts.note;}if(typeof (_a[_v].contacts.phonenumbers)!="undefined"){_m=new Array(_a[_v].contacts.phonenumbers.length);for(var _w=0;_w<_a[_v].contacts.phonenumbers.length;_w++ ){var _x=new nexacro.ContactField("",_a[_v].contacts.phonenumbers[_w].type,_a[_v].contacts.phonenumbers[_w].value,_a[_v].contacts.phonenumbers[_w].label,"");_m[_w]=_x;}}else{_m=new nexacro.ContactField("","","","","");}if(typeof (_a[_v].contacts.emails)!="undefined"){_n=new Array(_a[_v].contacts.emails.length);for(var _w=0;_w<_a[_v].contacts.emails.length;_w++ ){var _y=new nexacro.ContactField("",_a[_v].contacts.emails[_w].type,_a[_v].contacts.emails[_w].value,_a[_v].contacts.emails[_w].label,"");_n[_w]=_y;}}else{_n=new nexacro.ContactField("","","","","");}if(typeof (_a[_v].contacts.ims)!="undefined"){_o=new Array(_a[_v].contacts.ims.length);for(var _w=0;_w<_a[_v].contacts.ims.length;_w++ ){var _z=new nexacro.ContactIM("",_a[_v].contacts.ims[_w].type,_a[_v].contacts.ims[_w].value,_a[_v].contacts.ims[_w].label,_a[_v].contacts.ims[_w].protocoltype,_a[_v].contacts.ims[_w].protocollabel,"");_o[_w]=_z;}}else{_o=new nexacro.ContactIM("","","","","","","");}if(typeof (_a[_v].contacts.categories)!="undefined"){_p=new Array(_a[_v].contacts.categories.length);for(var _w=0;_w<_a[_v].contacts.categories.length;_w++ ){var _aa=new nexacro.ContactField("",_a[_v].contacts.categories[_w].type,_a[_v].contacts.categories[_w].value,_a[_v].contacts.categories[_w].label,"");_p[_w]=_aa;}}else{_p=new nexacro.ContactField("","","","","");}if(typeof (_a[_v].contacts.urls)!="undefined"){_q=new Array(_a[_v].contacts.urls.length);for(var _w=0;_w<_a[_v].contacts.urls.length;_w++ ){var _ab=new nexacro.ContactField("",_a[_v].contacts.urls[_w].type,_a[_v].contacts.urls[_w].value,_a[_v].contacts.urls[_w].label,"");_q[_w]=_ab;}}else{_q=new nexacro.ContactField("","","","","");}if(typeof (_a[_v].contacts.addresses)!="undefined"){_r=new Array(_a[_v].contacts.addresses.length);for(var _w=0;_w<_a[_v].contacts.addresses.length;_w++ ){var _ac=new nexacro.ContactAddress("",_a[_v].contacts.addresses[_w].type,_a[_v].contacts.addresses[_w].country,_a[_v].contacts.addresses[_w].postcode,_a[_v].contacts.addresses[_w].city,_a[_v].contacts.addresses[_w].region,_a[_v].contacts.addresses[_w].street,_a[_v].contacts.addresses[_w].label,"");_r[_w]=_ac;}}else{_r=new nexacro.ContactAddress("","","","","","","","","");}if(typeof (_a[_v].contacts.organizations)!="undefined"){_s=new Array(_a[_v].contacts.organizations.length);for(var _w=0;_w<_a[_v].contacts.organizations.length;_w++ ){var _ad=new nexacro.ContactOrganization("",_a[_v].contacts.organizations[_w].type,_a[_v].contacts.organizations[_w].company,_a[_v].contacts.organizations[_w].department,_a[_v].contacts.organizations[_w].title,_a[_v].contacts.organizations[_w].label,"");_s[_w]=_ad;}}else{_s=new nexacro.ContactOrganization("","","","","","","");}if(typeof (_a[_v].contacts.photos)!="undefined"){_t=new Array(_a[_v].contacts.photos.length);for(var _w=0;_w<_a[_v].contacts.photos.length;_w++ ){var _ae=new nexacro.ContactPhoto("",_a[_v].contacts.photos[_w].imagedata,_a[_v].contacts.photos[_w].label,"");_t[_w]=_ae;}}else{_t=new nexacro.ContactPhoto("","","","");}var _af=new nexacro.Contact("",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,"");_u[_v]=_af;}if(nexacro.Device.curDevice==0){_b=_a[_v].reason;}else{_b=_a.reason;}}var _ag=new nexacro.ContactSetEventInfo("onsuccess",_b,_u);}else{_a.contacts=this.makeContacts(_a.contacts);var _ag=new nexacro.ContactSetEventInfo("onsuccess",_a.reason,_a.contacts);}this._fire_onsuccess(this,_ag);};_pContactSet._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pContactSet._onerror=function(_a){this.isRunning=false;var _b=new nexacro.ContactSetErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pContactSet._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pContactSet.makeContacts=function(objData){var str=objData;var str2=eval("("+str+")");var persons=new Array();persons=str2.contact;var contactObjList=new Array();for(var k=0;k<persons.length;k++ ){var person=persons[k];var phoneObjList=new Array();var phonenumList=person.phonenumbers;for(var i=0;i<phonenumList.length;i++ ){var phonenum=new nexacro.ContactField("",phonenumList[i].type,phonenumList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),phonenumList[i].label,"");phoneObjList[i]=phonenum;}var categoriObjList=new Array();var categoriList=person.categories;for(var i=0;i<categoriList.length;i++ ){var tempVal=new nexacro.ContactField("",categoriList[i].type,categoriList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),categoriList[i].label,"");categoriObjList[i]=tempVal;}var photoObjList=new Array();var photoList=person.photos;for(var i=0;i<photoList.length;i++ ){var tempVal=new nexacro.ContactPhoto("",photoList[i].imagedata,photoList[i].label,"");photoObjList[i]=tempVal;}var organizationObjList=new Array();var organizationList=person.organizations;for(var i=0;i<organizationList.length;i++ ){var tempVal=new nexacro.ContactOrganization("",organizationList[i].type,organizationList[i].company,organizationList[i].department,organizationList[i].title,organizationList[i].label,"");organizationObjList[i]=tempVal;}var addressObjList=new Array();var addressList=person.addresses;for(var i=0;i<addressList.length;i++ ){var tempVal=new nexacro.ContactAddress("",addressList[i].type,addressList[i].country.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].postcode.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].city.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].region.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].street.replace(new RegExp("_NEWLINE_","gi"),"\n"),addressList[i].label,"");addressObjList[i]=tempVal;}var urlsObjList=new Array();var urlsList=person.urls;for(var i=0;i<urlsList.length;i++ ){var tempVal=new nexacro.ContactField("",urlsList[i].type,urlsList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),urlsList[i].label,"");urlsObjList[i]=tempVal;}var imsObjList=new Array();var imsList=person.ims;for(var i=0;i<imsList.length;i++ ){var tempVal=new nexacro.ContactIM("",imsList[i].type,imsList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),imsList[i].label,imsList[i].ptype,imsList[i].plabel,"");imsObjList[i]=tempVal;}var emailsObjList=new Array();var emailsList=person.emails;for(var i=0;i<emailsList.length;i++ ){var tempVal=new nexacro.ContactField("",emailsList[i].type,emailsList[i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),emailsList[i].label,"");emailsObjList[i]=tempVal;}if(typeof (person.note)!="undefined"){person.note=person.note.replace(new RegExp("&#32;","gi")," ");person.note=person.note.replace(new RegExp("_NEWLINE_","gi"),"\n");}contactObjList[k]=new nexacro.Contact("",person.uniqueid,person.contactname.displayname,person.contactname.familyname,person.contactname.givenname,person.contactname.middlename,person.contactname.prefix,person.contactname.suffix,person.nickname,nexacro.Device.isConvertDateToString(person.birthday),person.note,phoneObjList,emailsObjList,imsObjList,categoriObjList,urlsObjList,addressObjList,organizationObjList,photoObjList,"");}return contactObjList;};_pContactSet.typeCheck=function(_a){if(typeof (_a)=="undefined"){return false;}if(typeof (_a.phonenumbers)!="undefined"){if((_a.phonenumbers.length)>0){for(var _b=0;_b<_a.phonenumbers.length;_b++ ){var _c=_a.phonenumbers[_b].type*1;if(_c<0&&_c>12){return false;}var _d=_a.phonenumbers[_b].type+"";if(nexacro.Device.curDevice==0){if(!(_d=="0"||_d=="1"||_d=="2"||_d=="3"||_d=="4"||_d=="6"||_d=="7"||_d=="9"||_d=="10")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.emails)!="undefined"){if((_a.emails.length)>0){for(var _b=0;_b<_a.emails.length;_b++ ){var _c=_a.emails[_b].type*1;if(_c<0&&_c>12){return false;}var _d=_a.emails[_b].type+"";if(nexacro.Device.curDevice==0){if(!(_d=="0"||_d=="4"||_d=="6"||_d=="7"||_d=="10")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.categories)!="undefined"){if((_a.categories.length)>0){for(var _b=0;_b<_a.categories.length;_b++ ){var _c=_a.categories[_b].type*1;if(_c<0&&_c>12){return false;}var _d=_a.categories[_b].type+"";if(_d!="0"){return false;}}}}if(typeof (_a.urls)!="undefined"){if((_a.urls.length)>0){for(var _b=0;_b<_a.urls.length;_b++ ){var _c=_a.urls[_b].type*1;if(_c<0&&_c>12){return false;}var _d=_a.urls[_b].type+"";if(nexacro.Device.curDevice==0){if(_d!="12"){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.ims)!="undefined"){if((_a.ims.length)>0){for(var _b=0;_b<_a.ims.length;_b++ ){var _c=_a.ims[_b].type*1;if(_c<0&&_c>12){return false;}var _d=_a.ims[_b].type+"";if(nexacro.Device.curDevice==0){if(_d!="7"){return false;}var _e=_a.ims[_b].protocoltype+"";if(!(_e=="0"||_e=="1"||_e=="2"||_e=="3"||_e=="4"||_e=="5"||_e=="6"||_e=="7"||_e=="8")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.addresses)!="undefined"){if((_a.addresses.length)>0){for(var _b=0;_b<_a.addresses.length;_b++ ){var _c=_a.addresses[_b].type*1;if(_c<0&&_c>12){return false;}var _d=_a.addresses[_b].type+"";if(nexacro.Device.curDevice==0){if(!(_d=="0"||_d=="4"||_d=="7"||_d=="10")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.organizations)!="undefined"){if((_a.organizations.length)>0){for(var _b=0;_b<_a.organizations.length;_b++ ){var _c=_a.organizations[_b].type*1;if(_c<0&&_c>12){return false;}var _d=_a.organizations[_b].type+"";if(nexacro.Device.curDevice==0){if(!(_d=="0"||_d=="7"||_d=="10")){return false;}}else{if(_d!="10"){return false;}}}}}return true;};_pContactSet=null;}if(!nexacro.ContactSetEventInfo){nexacro.ContactSetEventInfo=function(_a,_b,_c){this.eventid=_a;this.reason=_b;this.contacts=_c;};var _pContactSetEventInfo=nexacro.ContactSetEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ContactSetEventInfo);_pContactSetEventInfo._type_name="ContactSetEventInfo";_pContactSetEventInfo=null;}if(!nexacro.ContactSetErrorEventInfo){nexacro.ContactSetErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pContactSetErrorEventInfo=nexacro.ContactSetErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ContactSetErrorEventInfo);_pContactSetErrorEventInfo._type_name="ContactSetErrorEventInfo";_pContactSetErrorEventInfo=null;}if(!nexacro.Contact){nexacro.Contact=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){this.enableevent=true;if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.uniqueid="";this.contactname={displayname:"",familyname:"",givenname:"",middlename:"",prefix:"",suffix:"",set_displayname:function(){},set_familyname:function(_u){this["familyname"]=_u;},set_givenname:function(_u){this["givenname"]=_u;},set_middlename:function(_u){this["middlename"]=_u;},set_prefix:function(_u){this["prefix"]=_u;},set_suffix:function(_u){this["suffix"]=_u;}};this.nickname="";this.birthday="";this.note="";this.phonenumbers="";this.emails="";this.ims="";this.categories="";this.urls="";this.addresses="";this.organizations="";this.photos="";}else{this.uniqueid=_b||"";this.contactname={displayname:(_c||""),familyname:(_d||""),givenname:(_e||""),middlename:(_f||""),prefix:(_g||""),suffix:(_h||""),set_displayname:function(){},set_familyname:function(_u){this["familyname"]=_u;},set_givenname:function(_u){this["givenname"]=_u;},set_middlename:function(_u){this["middlename"]=_u;},set_prefix:function(_u){this["prefix"]=_u;},set_suffix:function(_u){this["suffix"]=_u;}};this.nickname=(_i||"");this.birthday=(_j||"");if(typeof (_k)!="undefined"&&_k!=""){_k=_k.replace(/&#10;/g,"\n");}this.note=(_k||"");this.phonenumbers=(_l||"");this.emails=(_m||"");this.ims=(_n||"");this.categories=(_o||"");this.urls=(_p||"");this.addresses=(_q||"");this.organizations=(_r||"");this.photos=(_s||"");}};nexacro.Contact.TYPE_CUSTOM=0;nexacro.Contact.TYPE_CALLBACK=1;nexacro.Contact.TYPE_FAX_HOME=2;nexacro.Contact.TYPE_FAX_WORK=3;nexacro.Contact.TYPE_HOME=4;nexacro.Contact.TYPE_MAIN=5;nexacro.Contact.TYPE_MOBILE=6;nexacro.Contact.TYPE_OTHER=7;nexacro.Contact.TYPE_OTHER_FAX=8;nexacro.Contact.TYPE_PAGER=9;nexacro.Contact.TYPE_WORK=10;nexacro.Contact.TYPE_IPHONE=11;nexacro.Contact.TYPE_HOMEPAGE=12;nexacro.Contact.PTYPE_CUSTOM=0;nexacro.Contact.PTYPE_AIM=1;nexacro.Contact.PTYPE_MSN=2;nexacro.Contact.PTYPE_YAHOO=3;nexacro.Contact.PTYPE_SKYPE=4;nexacro.Contact.PTYPE_QQ=5;nexacro.Contact.PTYPE_GOOGLE_TALK=6;nexacro.Contact.PTYPE_ICQ=7;nexacro.Contact.PTYPE_JABBER=8;nexacro.Contact.PTYPE_NETMEETING=9;nexacro.Contact.PTYPE_FACEBOOK=10;nexacro.Contact.PTYPE_GADUGADU=11;var _pContact=nexacro.Contact.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Contact);_pContact._type_name="Contact";_pContact.on_created=function(){};_pContact.set_uniqueid=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.uniqueid=_a;return true;}return false;};_pContact.set_displayname=function(_a){};_pContact.set_familyname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.familyname=_a;return true;}return false;};_pContact.set_givenname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.givenname=_a;return true;}return false;};_pContact.set_middlename=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.middlename=_a;return true;}return false;};_pContact.set_prefix=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.prefix=_a;return true;}return false;};_pContact.set_suffix=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.contactname.suffix=_a;return true;}return false;};_pContact.set_nickname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.nickname=_a;return true;}return false;};_pContact.set_note=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.note=_a;return true;}return false;};_pContact.set_birthday=function(_a){if(this.isValidDate(_a)==true){this.birthday=_a;return true;}return false;};_pContact.set_phonenumbers=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.phonenumbers=_a;return true;}return false;};_pContact.set_emails=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.emails=_a;return true;}return false;};_pContact.set_ims=function(_a){if(this.pramk_ContactIMArray(_a)==true){this.ims=_a;return true;}return false;};_pContact.set_categories=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.categories=_a;return true;}return false;};_pContact.set_urls=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this.urls=_a;return true;}return false;};_pContact.set_addresses=function(_a){if(this.pramk_ContactAddressArray(_a)==true){this.addresses=_a;return true;}return false;};_pContact.set_organizations=function(_a){if(this.pramk_ContactOrganizationArray(_a)==true){this.organizations=_a;return true;}return false;};_pContact.set_photos=function(_a){if(this.pramk_ContactPhotoArray(_a)==true){this.photos=_a;return true;}return false;};_pContact.pramk_ContactFieldArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].value)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactIMArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].label)&&nexacro.Device.pramck_contactString(_a[_b].value)&&nexacro.Device.pramck_contactString(_a[_b].protocoltype)&&nexacro.Device.pramck_contactString(_a[_b].protocollabel))){return false;}}return true;}return false;};_pContact.pramk_ContactAddressArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].country)&&nexacro.Device.pramck_contactString(_a[_b].postcode)&&nexacro.Device.pramck_contactString(_a[_b].city)&&nexacro.Device.pramck_contactString(_a[_b].region)&&nexacro.Device.pramck_contactString(_a[_b].street)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactOrganizationArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].company)&&nexacro.Device.pramck_contactString(_a[_b].department)&&nexacro.Device.pramck_contactString(_a[_b].title)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactPhotoArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].imagedata)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.toJson=function(){if(this.contactname.familyname==null){this.contactname.familyname="";}if(this.contactname.displayname==null){this.contactname.displayname="";}if(this.contactname.givenname==null){this.contactname.givenname="";}if(this.contactname.middlename==null){this.contactname.middlename="";}if(this.contactname.prefix==null){this.contactname.prefix="";}if(this.contactname.suffix==null){this.contactname.suffix="";}if(typeof (this.uniqueid)=="undefined"){this.uniqueid="";}var _a='{ "uniqueid":"'+this.uniqueid;if(nexacro.Device.curDevice==0){_a+='", "contactname":{';_a+=' "familyname":"'+this.contactname.familyname;_a+='", "displayname":"'+this.contactname.displayname;_a+='", "givenname":"'+this.contactname.givenname;_a+='", "middlename":"'+this.contactname.middlename;_a+='", "prefix":"'+this.contactname.prefix;_a+='", "suffix":"'+this.contactname.suffix;_a+='"}';}else{_a+='", "contactname":[{';_a+=' "familyname":"'+this.contactname.familyname;_a+='", "displayname":"'+this.contactname.displayname;_a+='", "givenname":"'+this.contactname.givenname;_a+='", "middlename":"'+this.contactname.middlename;_a+='", "prefix":"'+this.contactname.prefix;_a+='", "suffix":"'+this.contactname.suffix;_a+='"}]';}if(typeof (this.nickname)=="undefined"){this.nickname="";}_a+=', "nickname":"'+this.nickname;if(nexacro.Device.curDevice==0){if(this.birthday!=""){var _b;var _c;var _d;_b=this.birthday.getFullYear();_c=this.birthday.getMonth()+1;_d=this.birthday.getDate();_a+='", "birthday":"'+_b+'-'+_c+'-'+_d;}else{_a+='", "birthday":"'+this.birthday;}}else{if(this.birthday!=""){_a+='", "birthday":"'+this.birthday.getFullYear()+'/'+(this.birthday.getMonth()+1)+'/'+this.birthday.getDate();}else{_a+='", "birthday":"';}}if(typeof (this.note)=="undefined"){this.note="";}if(nexacro.Device.curDevice==1){this.note=this.note.replace(/\r/g,"");this.note=this.note.replace(/\n/g,"_NEWLINE_");this.note=this.note.replace(/&#10;/g,"_NEWLINE_");}_a+='", "note":"'+this.note;_a+='", "phonenumbers":';if(typeof (this.phonenumbers)!="undefined"){if((this.phonenumbers.length)>0){_a+='[';for(var _e=0;_e<this.phonenumbers.length;_e++ ){_a+=this.phonenumbers[_e].toJson();if(((this.phonenumbers.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "emails":';if(typeof (this.emails)!="undefined"){if((this.emails.length)>0){_a+='[';for(var _e=0;_e<this.emails.length;_e++ ){_a+=this.emails[_e].toJson();if(((this.emails.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "ims":';if(typeof (this.ims)!="undefined"){if((this.ims.length)>0){_a+='[';for(var _e=0;_e<this.ims.length;_e++ ){_a+=this.ims[_e].toJson();if(((this.ims.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "categories":';if(typeof (this.categories)!="undefined"){if((this.categories.length)>0){_a+='[';for(var _e=0;_e<this.categories.length;_e++ ){_a+=this.categories[_e].toJson();if(((this.categories.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "urls":';if(typeof (this.urls)!="undefined"){if((this.urls.length)>0){_a+='[';for(var _e=0;_e<this.urls.length;_e++ ){_a+=this.urls[_e].toJson();if(((this.urls.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "addresses":';if(typeof (this.addresses)!="undefined"){if((this.addresses.length)>0){_a+='[';for(var _e=0;_e<this.addresses.length;_e++ ){_a+=this.addresses[_e].toJson();if(((this.addresses.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "organizations":';if(typeof (this.organizations)!="undefined"){if((this.organizations.length)>0){_a+='[';for(var _e=0;_e<this.organizations.length;_e++ ){_a+=this.organizations[_e].toJson();if(((this.organizations.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "photos":';if(typeof (this.photos)!="undefined"){if((this.photos.length)>0){_a+='[';for(var _e=0;_e<this.photos.length;_e++ ){_a+=this.photos[_e].toJson();if(((this.photos.length)-1)==_e){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+='}';return _a;};_pContact.isValidDate=function(_a){if(Object.prototype.toString.call(_a)==="[object Date]"||_a==""){return true;}return false;};_pContact=null;}if(!nexacro.ContactField){nexacro.ContactField=function(_a,_b,_c,_d,_e){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.value="";this.label="";}else{this.type=_b||"";this.value=_c||"";this.label=_d||"";}this.enableevent=true;};var _pContactField=nexacro.ContactField.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactField);_pContactField._type_name="ContactField";_pContactField.on_created=function(){};_pContactField.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}this.type="";return false;};_pContactField.set_value=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.value=_a;return true;}this.value="";return false;};_pContactField.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}this.label="";return false;};_pContactField.toJson=function(){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.value)=="undefined"||this.value==null){this.value="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}var _a='{ "label":"'+this.label;_a+='", "value":"'+this.value;_a+='", "type":"'+this.type;_a+='"}';return _a;};_pContactField=null;}if(!nexacro.ContactIM){nexacro.ContactIM=function(_a,_b,_c,_d,_e,_f,_g){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.value="";this.label="";this.protocoltype="";this.protocollabel="";}else{this.type=_b||"";this.value=_c||"";this.label=_d||"";this.protocoltype=_e||"";this.protocollabel=_f||"";}this.enableevent=true;};var _pContactIM=nexacro.ContactIM.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactIM);_pContactIM._type_name="ContactIM";_pContactIM.on_created=function(){};_pContactIM.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}this.type="";return false;};_pContactIM.set_value=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.value=_a;return true;}this.value="";return false;};_pContactIM.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}this.label="";return false;};_pContactIM.set_protocoltype=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.protocoltype=_a;return true;}this.protocoltype="";return false;};_pContactIM.set_protocollabel=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.protocollabel=_a;return true;}this.protocollabel="";return false;};_pContactIM.toJson=function(){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.value)=="undefined"||this.value==null){this.value="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}if(typeof (this.protocoltype)=="undefined"||this.protocoltype==null){this.protocoltype="";}if(typeof (this.protocollabel)=="undefined"||this.protocollabel==null){this.protocollabel="";}var _a='{ "label":"'+this.label;_a+='", "value":"'+this.value;_a+='", "type":"'+this.type;_a+='", "ptype":"'+this.protocoltype;_a+='", "plabel":"'+this.protocollabel;_a+='"}';return _a;};_pContactIM=null;}if(!nexacro.ContactAddress){nexacro.ContactAddress=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.country="";this.postcode="";this.city="";this.region="";this.street="";this.label="";}else{this.type=_b||"";this.country=_c||"";this.postcode=_d||"";this.city=_e||"";this.region=_f||"";this.street=_g||"";this.label=_h||"";}this.enableevent=true;};var _pContactAddress=nexacro.ContactAddress.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactAddress);_pContactAddress._type_name="ContactAddress";_pContactAddress.on_created=function(){};_pContactAddress.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}return false;};_pContactAddress.set_country=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.country=_a;return true;}return false;};_pContactAddress.set_postcode=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.postcode=_a;return true;}return false;};_pContactAddress.set_city=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.city=_a;return true;}return false;};_pContactAddress.set_region=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.region=_a;return true;}return false;};_pContactAddress.set_street=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.street=_a;return true;}return false;};_pContactAddress.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}return false;};_pContactAddress.toJson=function(){if(nexacro.Device.curDevice==0){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.country)=="undefined"||this.country==null){this.country="";}if(typeof (this.postcode)=="undefined"||this.postcode==null){this.postcode="";}if(typeof (this.city)=="undefined"||this.city==null){this.city="";}if(typeof (this.region)=="undefined"||this.region==null){this.region="";}if(typeof (this.street)=="undefined"||this.street==null){this.street="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}var _a='{ "label":"'+this.label;_a+='", "country":"'+this.country;_a+='", "postcode":"'+this.postcode;_a+='", "city":"'+this.city;_a+='", "region":"'+this.region;_a+='", "street":"'+this.street;_a+='", "type":"'+this.type;_a+='"}';}else{if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}if(typeof (this.country)=="undefined"||this.country==null){this.country="";}if(typeof (this.postcode)=="undefined"||this.postcode==null){this.postcode="";}if(typeof (this.city)=="undefined"||this.city==null){this.city="";}if(typeof (this.region)=="undefined"||this.region==null){this.region="";}if(typeof (this.street)=="undefined"||this.street==null){this.street="";}var _a='{ "label":"'+this.label;_a+='", "type":"'+this.type;_a+='", "value":{';_a+='"Country":"'+this.country;_a+='", "ZIP":"'+this.postcode;_a+='", "City":"'+this.city;_a+='", "State":"'+this.region;_a+='", "Street":"'+this.street;_a+='"}}';}return _a;};_pContactAddress=null;}if(!nexacro.ContactOrganization){nexacro.ContactOrganization=function(_a,_b,_c,_d,_e,_f,_g){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.type="";this.company="";this.department="";this.title="";this.label="";}else{this.type=_b||"";this.company=_c||"";this.department=_d||"";this.title=_e||"";this.label=_f||"";}this.enableevent=true;};var _pContactOrganization=nexacro.ContactOrganization.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactOrganization);_pContactOrganization._type_name="ContactOrganization";_pContactOrganization.on_created=function(){};_pContactOrganization.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.type=_a;return true;}return false;};_pContactOrganization.set_company=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.company=_a;return true;}return false;};_pContactOrganization.set_department=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.department=_a;return true;}return false;};_pContactOrganization.set_title=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.title=_a;return true;}return false;};_pContactOrganization.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}return false;};_pContactOrganization.toJson=function(){if(typeof (this.label)=="undefined"||this.label==null){this.label="";}if(typeof (this.title)=="undefined"||this.title==null){this.title="";}if(typeof (this.company)=="undefined"||this.company==null){this.company="";}if(typeof (this.department)=="undefined"||this.department==null){this.department="";}if(typeof (this.type)=="undefined"||this.type==null){this.type="";}var _a='{ "label":"'+this.label;_a+='", "title":"'+this.title;_a+='", "company":"'+this.company;_a+='", "department":"'+this.department;_a+='", "type":"'+this.type;_a+='"}';return _a;};_pContactOrganization=null;}if(!nexacro.ContactPhoto){nexacro.ContactPhoto=function(_a,_b,_c,_d){if(arguments.length==2){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.imagedata="";this.label="";}else{this.imagedata=_b||"";this.label=_c||"";}this.enableevent=true;};var _pContactPhoto=nexacro.ContactPhoto.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ContactPhoto);_pContactPhoto._type_name="ContactPhoto";_pContactPhoto.on_created=function(){};_pContactPhoto.set_imagedata=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.imagedata=_a;return true;}return false;};_pContactPhoto.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this.label=_a;return true;}return false;};_pContactPhoto.toJson=function(){var _a='{ "imagedata":"'+this.imagedata;_a+='", "label":"'+this.label;_a+='"}';return _a;};_pContactPhoto=null;}if(!nexacro.ExternalAPI){nexacro.ExternalAPI=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1,"onrecvdata":1};this.onsuccess=null;this.onerror=null;this.onrecvdata=null;var _c='""';var _d="";_d='{"id":'+this._id+', "div":"ExternalAPI", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pExternalAPI=nexacro.ExternalAPI.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExternalAPI);_pExternalAPI._type_name="ExternalAPI";_pExternalAPI.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"ExternalAPI", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pExternalAPI.on_created=function(){};_pExternalAPI.isAccessible=function(_a){if(typeof (_a)=="undefined"||_a.length==0||typeof (_a)!="string"){return false;}else{var _b='{"appID":"'+_a+'"}';var _c="";_c='{"id":'+this._id+', "div":"ExternalAPI", "method":"isAccessible", "params":'+_b+'}';nexacro.Device.exec(_c);return true;}};_pExternalAPI.execExtAPI=function(_a,_b,_c,_d){if(typeof (_b)=="undefined"||_b.length==0||typeof (_b)!="string"){return false;}if(typeof (_c)=="undefined"||_c.length==0){return false;}var _e='{"recvID":"'+_a+'"';_e+=', "appID":"'+_b+'"';_e+=', "apiname":"'+_c+'"';_e+=', "params":"'+_d+'"}';var _f="";_f='{"id":'+this._id+', "div":"ExternalAPI", "method":"execExtAPI", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pExternalAPI._onsuccess=function(_a){var _b=new nexacro.ExternalAPIEventinfo("onsuccess",_a.reason,_a.recvid,_a.recvdata);this._fire_onsuccess(this,_b);};_pExternalAPI._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pExternalAPI._onrecvdata=function(_a){var _b=new nexacro.ExternalAPIEventinfo("onrecvdata",_a.reason,_a.recvid,_a.recvdata);this._fire_onrecvdata(this,_b);};_pExternalAPI._fire_onrecvdata=function(_a,_b){if(this.onrecvdata&&this.onrecvdata._has_handlers){return this.onrecvdata._fireEvent(this,_b);}return true;};_pExternalAPI._onerror=function(_a){var _b=new nexacro.ExternalAPIErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pExternalAPI._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pExternalAPI=null;}if(!nexacro.ExternalAPIEventinfo){nexacro.ExternalAPIEventinfo=function(_a,_b,_c,_d){this.eventid=_a;this.reason=_b;this.recvid=_c;this.recvdata=_d;};var _pExternalAPIEventinfo=nexacro.ExternalAPIEventinfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ExternalAPIEventinfo);_pExternalAPIEventinfo._type_name="ExternalAPIEventinfo";_pExternalAPIEventinfo=null;}if(!nexacro.ExternalAPIErrorEventInfo){nexacro.ExternalAPIErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pExternalAPIErrorEventInfo=nexacro.ExternalAPIErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ExternalAPIErrorEventInfo);_pExternalAPIErrorEventInfo._type_name="ExternalAPIErrorEventinfo";_pExternalAPIErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBEventInfo){nexacro.LiteDBEventInfo=function(_a,_b,_c){this.eventid=_a;this.reason=_b;this.returnvalue=_c;};var _pLiteDBEventInfo=nexacro.LiteDBEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBEventInfo);_pLiteDBEventInfo._type_name="LiteDBEventInfo";_pLiteDBEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBErrorEventInfo){nexacro.LiteDBErrorEventInfo=function(_a,_b,_c,_d,_e){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;this.ldberrorcode=_d;this.ldberrormsg=_e;};var _pLiteDBErrorEventInfo=nexacro.LiteDBErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBErrorEventInfo);_pLiteDBErrorEventInfo._type_name="LiteDBErrorEventInfo";_pLiteDBErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBConnection){nexacro.LiteDBConnection=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.bbegin=false;this.enableevent=true;this.sqlstatement="";this.busytimeout=60000;this.openflag=1;this.datasource="";this.preconnect="false";this.async=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"SQLConnection", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};nexacro.LiteDBConnection.openReadWrite=0;nexacro.LiteDBConnection.openReadWriteCreate=1;var _pLiteDBConnection=nexacro.LiteDBConnection.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.LiteDBConnection);_pLiteDBConnection._type_name="LiteDBConnection";_pLiteDBConnection.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"SQLConnection", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pLiteDBConnection.on_created=function(){};_pLiteDBConnection.set_busytimeout=function(_a){if(this.paramck_busytimeout(_a)){this.busytimeout=_a;return true;}else{return false;}};_pLiteDBConnection.set_datasource=function(_a){if(this.paramck_datasource(_a)){this.datasource=_a;if(this.preconnect=="true"||this.preconnect==true){this.open();}return true;}else{return false;}};_pLiteDBConnection.set_openflag=function(_a){if(_a==LiteDBConnection.openReadWrite||_a==LiteDBConnection.openReadWriteCreate){this.openflag=_a;return true;}else{return false;}};_pLiteDBConnection.set_preconnect=function(_a){if(_a=="true"||_a=="false"||_a==true||_a==false){this.preconnect=_a;if(this.preconnect=="true"||this.preconnect==true){if(this.datasource!=""){this.open();}}return true;}else{return false;}};_pLiteDBConnection.set_async=function(_a){};_pLiteDBConnection.begin=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"begin", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.close=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"closeDB", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.commit=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"commit", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.isConnected=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"isConnected", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection.open=function(_a,_b){if(typeof (_b)!="undefined"||_b!=null){this.openflag=_b;}if(typeof (_a)!="undefined"||_a!=null){this.datasource=_a;}if(this.paramck_asyncOpen(this.datasource,this.openflag)){if(this.datasource.substring(0,9).toLowerCase()=="%userapp%"){var _c='{"datasource":"'+this.datasource.substring(9,this.datasource.length)+'", "openflag":"'+this.openflag+'", "busytimeout":"'+this.busytimeout+'"}';var _d='{"id":'+this._id+', "div":"SQLConnection", "method":"openDB", "params":'+_c+'}';nexacro.Device.exec(_d);}else{var _c='{"datasource":"'+this.datasource+'", "openflag":"'+this.openflag+'", "busytimeout":"'+this.busytimeout+'"}';var _d='{"id":'+this._id+', "div":"SQLConnection", "method":"openDB", "params":'+_c+'}';nexacro.Device.exec(_d);}}else{return false;}return true;};_pLiteDBConnection.rollback=function(){var _a='""';var _b='{"id":'+this._id+', "div":"SQLConnection", "method":"rollback", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBConnection._onsuccess=function(_a){var _b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_a.returnvalue);this._fire_onsuccess(this,_b);};_pLiteDBConnection._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBConnection._onerror=function(_a){var _b=new nexacro.LiteDBErrorEventInfo("onerror",_a.errorcode,_a.errormsg,_a.ldberrorcode,_a.ldberrormsg);this._fire_onerror(this,_b);};_pLiteDBConnection._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBConnection.paramck_busytimeout=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<200||_a>86400000){return false;}return true;};_pLiteDBConnection.paramck_datasource=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}return true;};_pLiteDBConnection.paramck_asyncOpen=function(_a,_b){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};_pLiteDBConnection.paramck_query=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pLiteDBConnection.paramck_paramck_ldbconnection=function(_a){if(_a==null||typeof (_a)=="undefined"||!(_a instanceof nexacro.LiteDBConnection)){if(typeof (_a)!="string"){}else{return false;}}return true;};_pLiteDBConnection.paramck_asyncExecuteQuery=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pLiteDBConnection=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBParameter){nexacro.LiteDBParameter=function(_a,_b,_c){this.name=_a||"";this.type=_b||"string";this.value=_c;};var _pLiteDBParameter=nexacro.LiteDBParameter.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.LiteDBParameter);_pLiteDBParameter._type_name="LiteDBParameter";_pLiteDBParameter.set_name=function(_a){if(this.paramck_datasource(_a)){this.name=_a;return true;}else{return false;}};_pLiteDBParameter.set_value=function(_a){if(this.paramck_datasource(_a)){this.value=_a;return true;}else{return false;}};_pLiteDBParameter.set_type=function(_a){if(this.paramck_datasource(_a)){this.type=_a;return true;}else{return false;}};_pLiteDBParameter.toJSON=function(){var valueString;if(this.value==null){valueString='null';}else if(this.value==undefined){valueString='undefined';}else{switch(nexacro.DataUtils.toTypeCode(this.type)){case 2:case 3:valueString=nexacro.DataUtils.toTextFromDecimal(this.value);break;case 4:valueString='"'+nexacro.DataUtils.toTextFromDecimal(this.value)+'"';break;case 5:valueString='"'+nexacro.DataUtils.toTextFromDate(this.value)+'"';break;case 6:valueString='"'+nexacro.DataUtils.toTextFromTime(this.value)+'"';break;case 7:if(this.value.dateObj==undefined){valueString='"'+nexacro.DataUtils.toTextFromDateTime(this.value)+'"';}else{valueString='"'+nexacro.DataUtils.toTextFromDateTime(this.value.dateObj)+'"';}break;case 0:case 1:case 8:case 9:default:valueString='"'+nexacro.Device.encodeString(this.value)+'"';break;}}return eval('({"name":"'+this.name+'","type":'+nexacro.DataUtils.toTypeCode(this.type)+',"value":'+valueString+'})');};_pLiteDBParameter.paramck_datasource=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}return true;};_pLiteDBParameter=null;}if(nexacro.OS=="iOS"&&!nexacro.LiteDBStatement){nexacro.LiteDBStatement=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._obj=_b;this.query="";this.ldbconnection="";this.parameters={};this.paramdataset;this.applyrowpos= -1;this.enableevent=true;this.async=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"SQLStatement", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pLiteDBStatement=nexacro.LiteDBStatement.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.LiteDBStatement);_pLiteDBStatement._type_name="LiteDBStatement";_pLiteDBStatement.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"SQLStatement", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pLiteDBStatement.on_created=function(){};_pLiteDBStatement.set_query=function(_a){if(this.paramck_query(_a)){this.query=_a;return true;}else{return false;}};_pLiteDBStatement.set_ldbconnection=function(_a){var _b=false;if(_a instanceof nexacro.LiteDBConnection){this.ldbconnection=_a;_b=true;}else if(typeof (_a)=="string"){var _c="@";if(_a.indexOf(_c)==0){_a=_a.substring(_c.length);}else if(_a.match(/@/)==null){_a=_c+_a;}if(null!=this._obj[_a]&&this._obj[_a] instanceof nexacro.LiteDBConnection){this.ldbconnection=this._obj[_a];_b=true;}}if(_b){var _d='{"connectionID":"'+this.ldbconnection._id+'"}';var _e='{"id":'+this._id+', "div":"SQLStatement", "method":"set_SQLConnection", "params":'+_d+'}';nexacro.Device.exec(_e);}return _b;};_pLiteDBStatement.set_parameters=function(_a){if(_a instanceof Object){this.parameters=_a;return true;}return false;};_pLiteDBStatement.set_async=function(_a){};_pLiteDBStatement.close=function(){var _a;if(nexacro.Device.curDevice==0){_a='{"id":"'+this._id+'"}';}else{_a='""';}var _b='{"id":'+this._id+',"div":"SQLStatement", "method":"close", "params":'+_a+'}';nexacro.Device.exec(_b);};_pLiteDBStatement.executeQuery=function(_a){if(_a==null){if(this.query.length==0){return false;}}else if(_a){if(typeof (_a)=="string"&&_a.length>0){this.query=_a;}else{return false;}}var _b=this.caheckTypeKeyword(this.query);if(_b!=1){return false;}var _c=this.retQueryString(this.query);var _d=new nexacro.Dataset();var _e={};var _f= -1;if(this.parameters instanceof nexacro.Dataset){_d=this.parameters;}else{_e=this.parameters;}{var _g='{"query":"'+_c+'", "qType":"'+_b+'","parameters":'+JSON.stringify(_e)+',"paramdataset":'+nexacro.Device.DatasetToJSONString2(_d)+',"applyrowpos":'+_f+'}';var _h='{"id":'+this._id+',"div":"SQLStatement", "method":"executeQuery", "params":'+_g+'}';nexacro.Device.exec(_h);}return true;};_pLiteDBStatement.executeUpdate=function(_a){if(_a==null){if(this.query.length==0){return false;}}else if(_a){if(typeof (_a)=="string"&&_a.length>0){this.query=_a;}else{return false;}}else{return false;}var _b=this.caheckTypeKeyword(this.query);if(_b<2){return false;}var _c=this.retQueryString(this.query);var _d=new nexacro.Dataset();var _e={};var _f= -1;if(this.parameters instanceof nexacro.Dataset){_d=this.parameters;}else{_e=this.parameters;}{var _g='{"query":"'+_c+'", "qType":"'+_b+'","parameters":'+JSON.stringify(_e)+',"paramdataset":'+nexacro.Device.DatasetToJSONString2(_d)+',"applyrowpos":'+_f+'}';var _h='{"id":'+this._id+', "div":"SQLStatement", "method":"executeUpdate", "params":'+_g+'}';nexacro.Device.exec(_h);}return true;};_pLiteDBStatement._onsuccess=function(_a){var _b;if(_a.reason!="7"){_b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_a.returnvalue);}else{var _c=new nexacro.Dataset("__tempDS",this._obj);_c=nexacro.Device.JSONObjectToDataset2(_a.returnvalue,_c);_b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_c);}this._fire_onsuccess(this,_b);};_pLiteDBStatement._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBStatement._onerror=function(_a){var _b=new nexacro.LiteDBErrorEventInfo("onerror",_a.errorcode,_a.errormsg,_a.ldberrorcode,_a.ldberrormsg);this._fire_onerror(this,_b);};_pLiteDBStatement._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBStatement.retQueryString=function(_a){_a=_a.replace(/"/g,"_DQOUT_");_a=_a.replace(/'/g,"_QUOT_");return _a;};_pLiteDBStatement.caheckTypeKeyword=function(_a){if(typeof (_a)=="undefined"||_a.length==0){return;}var _b=_a.toLowerCase();var _c=_b.split(" ");for(var _d=0;_d<_c.length;_d++ ){if(_a.match(/select/)!=null){return 1;}else if(_a.match(/insert/)!=null){return 2;}else if(_a.match(/update/)!=null){return 3;}else if(_a.match(/delete/)!=null){return 4;}}return 0;};_pLiteDBStatement.paramck_query=function(_a){if(_a==null||typeof (_a)=="undefined"||typeof (_a)!="string"){return false;}return true;};_pLiteDBStatement=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushEventInfo){nexacro.XPushEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.reason=_b;this.serverip=_c;this.serverport=_d;this.command=_e;this.action=_f;this.message=_g;this.returnvalue=_g.returnvalue;if(this.command==undefined){this.command=null;}};var _pXPushEventInfo=nexacro.XPushEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushEventInfo);_pXPushEventInfo._type_name="XPushEventInfo";_pXPushEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushErrorEventInfo){nexacro.XPushErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;this.serverip=_d;this.serverport=_e;this.command=_f;this.action=_g;this.pushmessageobject=_h;if(this.command==undefined){this.command=null;}};var _pXPushErrorEventInfo=nexacro.XPushErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushErrorEventInfo);_pXPushErrorEventInfo._type_name="XPushErrorEventInfo";_pXPushErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushKeepAliveEventInfo){nexacro.XPushKeepAliveEventInfo=function(_a,_b){this.eventid=_a;this.type=_b;};var _pXPushKeepAliveEventInfo=nexacro.XPushKeepAliveEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushKeepAliveEventInfo);_pXPushKeepAliveEventInfo._type_name="XPushKeepAliveEventInfo";_pXPushKeepAliveEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.XPushRequestMessageCountEventInfo){nexacro.XPushRequestMessageCountEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_a;this.userid=_b;this.sendtype=_c;this.sendid=_d;this.receivetype=_e;this.receiveid=_f;};var _pXPushRequestMessageCountEventInfo=nexacro.XPushRequestMessageCountEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.XPushRequestMessageCountEventInfo);_pXPushRequestMessageCountEventInfo._type_name="XPushRequestMessageCountEventInfo";_pXPushErrorEventInfo=null;}if(nexacro.OS=="iOS"&&!nexacro.CommandControl){nexacro.CommandControl=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.actiontype;this.callback;this.check="0";this.messagekey;this.messagetype;this.objdataset;this.objform;this.row= -1;this.type="update";this.useactiveformcallback=false;};var _pCommandControl=nexacro.CommandControl.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.CommandControl);_pCommandControl._type_name="CommandControl";_pCommandControl.destroy=function(){var _a='""';var _b;return true;};_pCommandControl.on_created=function(){};_pCommandControl.equal=function(_a){if(this.callback!=_a.callback){return false;}if(this.check!=_a.check){return false;}if(this.messagekey!=_a.messagekey){return false;}if(this.messagetype!=_a.messagetype){return false;}if(this.objdataset!==_a.objdataset){return false;}if(this.objform!==_a.objform){return false;}if(this.row!=_a.row){return false;}if(this.type!=_a.type){return false;}if(this.useactiveformcallback!=_a.useactiveformcallback){return false;}return true;};_pCommandControl.toJSON=function(){return eval('({"_id":"'+this._id+'","messagetype":"'+this.messagetype+'","messagekey":"'+this.messagekey+'"})');};_pCommandControl.remove=function(_a){return (_a<0||_a>this.length)?this:this.slice(0,_a).concat(this.slice(_a+1,this.length));};_pCommandControl=null;}if(nexacro.OS=="iOS"&&!nexacro.XPush){nexacro.XPush=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.enableevent=true;this.commandlist=new Array;this.controlretry="5";this.debug=false;this.iplist=new Array;this.keepalivetime="30";this.keeptimeout="60";this.layouturl="";this.retry=1;this.sessionid="";this.timeout="30";this.userid="";this._parent_elem=_b;this.errorcode;this.errormsg;this.async=true;this.connectip="";this.connectport="-1";this.connectSuccess=false;this.action;this._event_list={"onsuccess":1,"onerror":1,"onkeepalive":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d='{"id":'+this._id+', "div":"XPush", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pXPush=nexacro.XPush.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.XPush);_pXPush._type_name="XPush";_pXPush._handle=null;_pXPush._currentipinfo=null;_pXPush.on_created=function(){};_pXPush.destroy=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"XPush", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pXPush.set_channeltype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.channeltype="single";}else{this.channeltype=_a;}return true;};_pXPush.set_commandlist=function(){};_pXPush.set_connectip=function(_a){};_pXPush.set_connectport=function(_a){};_pXPush.set_controlretry=function(_a){if(typeof (_a)=="undefined"||_a==null){this.controlretry=5;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.controlretry=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_debug=function(_a){if(typeof (_a)=="undefined"||_a==null){this.debug=false;}else{this.debug=_a;}return true;};_pXPush.set_iplist=function(_a){var _b=this.iplist.length;if(_b>0){this.iplist.splice(0,_b);}if(typeof (_a)=="undefined"||_a==null||_a==""){}else{if(_a.indexOf(",")>=0){var _c=_a.split(",");if(_c.length>0){for(var _d=0;_d<_c.length;_d++ ){var _e=_c[_d].split(":");var _f=new Object;_f.ip=_e[0];_f.port=_e[1].valueOf();_f.retry=false;this.iplist.push(_f);}}}else{var _e=_a.split(":");var _f=new Object;_f.ip=_e[0];_f.port=_e[1].valueOf();_f.retry=false;this.iplist.push(_f);}}return true;};_pXPush.set_keepalivetime=function(_a){if(typeof (_a)=="undefined"||_a==null){this.keepalivetime=30;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.keepalivetime=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_keeptimeout=function(_a){if(typeof (_a)=="undefined"||_a==null){this.keeptimeout=60;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.keeptimeout=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_layouturl=function(_a){if(typeof (_a)=="undefined"||_a==null){this.layouturl="";}else{var _b=_a.substring(0,9);if(_b.toLowerCase()!="%userapp%"){this._onerror({errorcode:"-702"});}else{this.layouturl=_a;}}return true;};_pXPush.set_retry=function(_a){if(typeof (_a)=="undefined"||_a==null){this.retry=1;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.retry=Number(_a);}else{return false;}}else{return false;}}return true;};_pXPush.set_sessionid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.sessionid="";}else{this.sessionid=_a;}return true;};_pXPush.set_timeout=function(_a){if(typeof (_a)=="undefined"||_a==null){this.timeout=30;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this.timeout=_a;}else{return false;}}else{return false;}}return true;};_pXPush.set_userid=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this.userid="";}else{this.userid=_a;}return true;};_pXPush.set_async=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);this.async=_a;return true;};_pXPush.subscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADDF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unsubscribe=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="DELF";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="RGST";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterDevice=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNRG";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.registerTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="ADUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.unregisterTopic=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="UNUI";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.requestMessageCount=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){strCommand="MSGC";this.command(strCommand,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pXPush.command=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=new nexacro.CommandControl();var _l;this.action=_a;_k.actiontype=_a;_k.type=_f;_k.callback=_g;_k.messagekey=_c;_k.messagetype=_b;_k.objdataset=_e;_k.objform=_d;if(_h!=undefined){if(( +_h)!=( +_h)){return false;}else{_k.row=_h;}}else{_k.row= -1;}if(_i!=undefined){_k.check=_i;}else{_k.check="0";}if(_j!=undefined){if(typeof (_j)!="boolean"){if((_j.toLowerCase()!="false")&&(_j.toLowerCase()!="true")){_k.useactiveformcallback=false;}else{_k.useactiveformcallback=_j;}}else{_k.useactiveformcallback=_j;}}else{_k.useactiveformcallback=false;}this.strCommand=_a;this.strMessageType=_b;this.strMessageKey=_c;this.objDataset=_e;this.strCallBack=_g;if(this.strCommand===undefined||this.strCommand===null||this.strCommand==""){this._onerror({errorcode:"-701"});}else{this.strCommand=this.strCommand.toString();if(_a=="ADDF"||_a=="DELF"){if(_d===undefined||_d===null||this.strMessageType===undefined||this.strMessageType===null||this.strMessageType==""||this.strMessageKey===undefined||this.strMessageKey===null||this.strMessageKey==""||this.objDataset===undefined||this.objDataset===null||_f===undefined||_f===null||_f==""||this.strCallBack===undefined||this.strCallBack===null||this.strCallBack==""){this._onerror({errorcode:"-701"});}else{this.strMessageType=this.strMessageType.toString();this.strMessageKey=this.strMessageKey.toString();if((_f.toLowerCase()!="append")&&(_f.toLowerCase()!="update")&&(_f.toLowerCase()!="insert")&&(_f.toLowerCase()!="replace")&&(_f!="allUpdate")){this._onerror({errorcode:"-701"});}else{this.strCallBack=this.strCallBack.toString();if(_d[this.strCallBack]===undefined){this._onerror({errorcode:"-701"});}else{if(_a=="ADDF"){_l='{"id":'+this._id+', "div":"XPush", "method":"ADDF", "params":'+JSON.stringify(_k)+'}';var _m,_n=false;for(var _m=0;_m<this.commandlist.length;_m++ ){var _o=this.commandlist[_m];if(_o.equal(_k)){_n=true;break;}}if(!_n){this.commandlist.push(_k);}}else if(_a=="DELF"){_l='{"id":'+this._id+', "div":"XPush", "method":"DELF", "params":'+JSON.stringify(_k)+'}';var _m,_n=false;for(var _m=0;_m<this.commandlist.length;_m++ ){var _o=this.commandlist[_m];if(_o.equal(_k)){_n=true;break;}}if(_n){this.commandlist.splice(_m,1);}}}}}}else if(_a=="ADUI"){if(this.connectSuccess==false){this._onerror({errorcode:"-1002"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"ADUI", "params":'+JSON.stringify(_k)+'}';this.commandlist.push(_k);}else if(_a=="UNUI"){if(this.connectSuccess==false){this._onerror({errorcode:"-1003"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"UNUI", "params":'+JSON.stringify(_k)+'}';this.commandlist.push(_k);}else if(_a=="MSGC"){if(this.connectSuccess==false){this._onerror({errorcode:"-1004"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"MSGC", "params":'+JSON.stringify(_k)+'}';this.commandlist.push(_k);}else if(_a=="RGST"){if(this.connectSuccess==false){this._onerror({errorcode:"-1001"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"RGST", "params":'+JSON.stringify(_k)+'}';this.commandlist.push(_k);}else if(_a=="UNRG"){if(this.connectSuccess==false){this._onerror({errorcode:"-1001"});return;}_l='{"id":'+this._id+', "div":"XPush", "method":"UNRG", "params":'+JSON.stringify(_k)+'}';this.commandlist.push(_k);}else{this._onerror({errorcode:"-701"});}}if(!(_l===undefined||_l===null||_l=="")){nexacro.Device.exec(_l);}};_pXPush.connect=function(_a,_b){var _c;var _d;if(_a==null){_a=this.userid;}this.userid=_a;if(_b==null){_b=this.sessionid;}this.sessionid=_b;if(nexacro.Device.publicNumCheck(this.retry)){if(this.retry>=0){_c=Number(this.retry);}}var _e;_e='{ "strUserID":"'+_a;_e+='", "strSessionID":"'+_b;_e+='", "iplist":'+JSON.stringify(this.iplist);_e+=', "retry":"'+_c;_e+='", "controlretry":"'+this.controlretry;_e+='", "layouturl":"'+this.layouturl;_e+='", "keepalivetime":"'+this.keepalivetime;_e+='", "keeptimeout":"'+this.keeptimeout;_e+='", "timeout":"'+this.timeout;_e+='", "commandlist":'+JSON.stringify(this.commandlist);_e+='}';var _f;_f='{"id":'+this._id+', "div":"XPush", "method":"connect", "params":'+_e+'}';nexacro.Device.exec(_f);};_pXPush.disconnect=function(){if(this.connectSuccess){var _a='""';var _b;_b='{"id":'+this._id+', "div":"XPush", "method":"disconnect", "params":'+_a+'}';this.connectSuccess=false;this.commandlist.length=0;nexacro.Device.exec(_b);}else{this.action="BYEC";this._onerror({errorcode:"-401"});}};_pXPush.resume=function(){if(this.connectSuccess){var _a='""';var _b;_b='{"id":'+this._id+', "div":"XPush", "method":"resume", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this._onerror({errorcode:"-601"});}};_pXPush.suspend=function(){if(this.connectSuccess){var _a='""';var _b;_b='{"id":'+this._id+', "div":"XPush", "method":"suspend", "params":'+_a+'}';nexacro.Device.exec(_b);}else{this._onerror({errorcode:"-501"});}};_pXPush.getCurrentIP=function(){if(this.connectip){return this.connectip;}return null;};_pXPush.getCurrentPort=function(){if(this.connectport){return this.connectport;}return null;};_pXPush.sendResponse=function(_a){if(this.connectSuccess){var _b;var _c;_b='{"msgid":"'+_a+'"}';var _c='{"id":'+this._id+', "div":"XPush", "method":"sendResponse", "params":'+_b+'}';nexacro.Device.exec(_c);}else{this._onerror({errorcode:"-901"});}};_pXPush.requestMessage=function(){if(this.connectSuccess){if(arguments.length<2){return;}var _a=arguments[0];var _b="";for(var _c=1;_c<arguments.length;_c++ ){if(_c>1){_b+=",\""+(arguments[_c])+"\"";}else{_b+="\""+(arguments[_c])+"\"";}}if(_b.length>0){var _d;var _e;_d='{"messagetype":"'+_a+'", "messagekeys":['+_b+']}';var _e='{"id":'+this._id+', "div":"XPush", "method":"requestMessage", "params":'+_d+'}';nexacro.Device.exec(_e);}}else{this._onerror({errorcode:"-902"});}};_pXPush._resetIPList=function(){var _a=this.iplist.length;for(var _b=0;_b<_a;_b++ ){if(this.iplist[_b].retry){this.iplist[_b].retry=false;}}};_pXPush._getrandomipinfo=function(){var _a=this.iplist.length;if(_a>0){for(var _b=0;_b<_a;_b++ ){if(this.iplist[_b].retry==false){break;}}if(_b==_a){return null;}var _c;do{_c=Math.floor((Math.random()*((_a-1)-0+1)))+0;}while(this.iplist[_c].retry)this.iplist[_c].retry=true;this._currentipinfo=this.iplist[_c];return this._currentipinfo;}return null;};_pXPush._onxpush=function(ret){var retData;if(nexacro.Device.curDevice==0){retData=ret;}else{retData=eval("("+ret+")");}this.RecvData=retData.recvdata;var paramRow;var paramChangeColumns=new Array();var paramAllColumns=new Array();var paramChangeRows=new Array();var paramobjChangeList=new Array();var rows=this.RecvData.rows;for(var i=0;i<rows.length;i++ ){var row=rows[i];var messageType=this.RecvData.type;var messageKey=row[this.RecvData.key];var layoutKey=this.RecvData.key;var checkFieldname=this.RecvData.check;for(var j=0;j<this.commandlist.length;j++ ){var cc=this.commandlist[j];if(cc.messagetype==messageType&&cc.messagekey==messageKey){if(cc.type=="append"){var cr=cc.objdataset.addRow();for(colId in row){if(!row.hasOwnProperty(colId)){continue;}paramAllColumns.push(colId);cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));paramChangeColumns.push(colId);}paramRow=cr;}else if(cc.type=="insert"){var cr=cc.objdataset.insertRow(cc.row);for(colId in row){if(!row.hasOwnProperty(colId)){continue;}cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));paramAllColumns.push(colId);paramChangeColumns.push(colId);}paramRow=cr;}else if(cc.type=="replace"){for(colId in row){if(!row.hasOwnProperty(colId)){continue;}var value=cc.objdataset.getColumn(cc.row,colId);if(value!=nexacro.Device.decodeString(row[colId])){cc.objdataset.setColumn(cc.row,colId,nexacro.Device.decodeString(row[colId]));paramChangeColumns.push(colId);paramRow=cc.row;}}paramAllColumns.push(colId);}else if(cc.type=="update"){var cr=cc.objdataset.findRow(layoutKey,messageKey);for(colId in row){if(!row.hasOwnProperty(colId)){continue;}paramAllColumns.push(colId);var value=cc.objdataset.getColumn(cr,colId);if(value!=row[colId]){if((cc.check=="0")||((checkFieldname==colId)&&(row[colId]==cc.check))){cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));paramChangeColumns.push(colId);}}}paramRow=cr;}else if(cc.type=="allUpdate"){for(var cr=0;cr<cc.objdataset.getRowCount();cr++ ){if(messageKey==cc.objdataset.getColumn(cr,layoutKey)){paramChangeRows.push(cr);var temp=new Array();temp.push(cr);for(colId in row){if(!row.hasOwnProperty(colId)){continue;}var value=cc.objdataset.getColumn(cr,colId);if(value!=row[colId]){if((cc.check=="0")||(row[colId]==cc.check)){cc.objdataset.setColumn(cr,colId,nexacro.Device.decodeString(row[colId]));temp.push(colId);}}}paramobjChangeList.push(temp.join());}}}if((!cc.useactiveformcallback)||(cc.useactiveformcallback&&(cc.objform===application.getActiveForm()))){if(cc.type!="allUpdate"){var callbackFn=cc.objform[cc.callback];if(callbackFn instanceof Function){callbackFn.call(cc.objform,paramRow,paramChangeColumns.join(),paramAllColumns.join(),"DATA",retData.action,retData.messageid);paramChangeRows.splice(0,paramChangeRows.length);paramAllColumns.splice(0,paramAllColumns.length);}}else if(cc.type=="allUpdate"){var callbackFn=cc.objform[cc.callback];if(callbackFn instanceof Function){callbackFn.call(cc.objform,paramChangeRows.join(),null,paramobjChangeList,"DATA",retData.action,retData.messageid);paramChangeRows.splice(0,paramChangeRows.length);paramobjChangeList.splice(0,paramobjChangeList.length);}}}}}}};_pXPush._onsuccess=function(_a){var _b=new Object();_b.messagetype="";_b.messagekey="";_b.messageid="";_b.returnvalue="";if(_a.classtype=="AUTH"){this.connectSuccess=true;}if(_a.classtype=="RECT"){_b.messagetype="";_b.messagekey="";_b.messageid=_a.messagetype;}else if(_a.classtype=="RGST"||_a.classtype=="UNRG"){if(nexacro.OS=="Android"){_b.messagetype="";_b.messagekey="";_b.messageid="";}}else if(_a.classtype=="MSGC"){_b.messageid="";_b.messagetype=_a.messagetype;_b.messagekey=_a.messagekey;_b.returnvalue=_a.returnvalue.messagecount;}else{_b.messageid="";_b.messagetype=_a.messagetype;_b.messagekey=_a.messagekey;}var _c;var _d=this.commandlist.length;for(var _f=0;_f<_d;_f++ ){_c=this.commandlist[_f];if(_c.messagetype==_a.messagetype){if(_c.messagekey==_a.messagekey){break;}}_c=null;}if(_c){_c.actiontype=_a.classtype;}var _e=new nexacro.XPushEventInfo("onsuccess",_a.reason,_a.serverip,_a.serverport,_c,_a.action,_b);this.connectip=_a.serverip;this.connectport=_a.serverport;this._fire_onsuccess(this,_e);};_pXPush._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pXPush._onerror=function(_a){var _b=new Object();_b.messagetype="";_b.messagekey="";_b.messageid="";_b.returnvalue="";if(_a.classtype=="RECT"){_b.messageid=_a.messagetype;_b.messagekey="";_b.messagetype="";}else{_b.messagetype=_a.messagetype;_b.messagekey=_a.messagekey;_b.messageid="";}var _c;var _d=this.commandlist.length;for(var _g=0;_g<_d;_g++ ){_c=this.commandlist[_g];_c.actiontype=_a.classtype;if(_c.messagetype==_a.messagetype){if(_c.messagekey==_a.messagekey){break;}}_c=null;}var _e=this._geterrormsg(_a.errorcode);if(_a.action===undefined){_a.action=this._getaction(this.action);}this.errorcode=_a.errorcode;this.errormsg=_e;var _f=new nexacro.XPushErrorEventInfo("onerror",this.errorcode,_e,_a.serverip,_a.serverport,_c,_a.action,_b);this.connectip=_a.serverip;this.connectport=_a.serverport;this._fire_onerror(this,_f);};_pXPush._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pXPush._onkeepalive=function(_a){var _b=new nexacro.XPushKeepAliveEventInfo("onkeepalive",_a.type);this._fire_onkeepalive(this,_b);};_pXPush._fire_onkeepalive=function(_a,_b){if(this.onkeepalive&&this.onkeepalive._has_handlers){return this.onkeepalive._fireEvent(this,_b);}};_pXPush._seterror=function(_a,_b){this.errorcode=_a;this.errormsg=_b;};_pXPush._onrequestmessagecount=function(_a,_b,_c,_d,_e){var _f=new nexacro.XPushRequestMessageCountEventInfo(_a,_b,_c,_d,_e);this._fire_onrequestmessagecount(this,_f);};_pXPush._fire_onrequestmessagecount=function(_a,_b){if(this.onrequestmessagecount&&this.requestmessagecount._has_handlers){return this.onrequestmessagecount._fireEvent(this,_b);}};_pXPush._getaction=function(_a){var _b;switch(_a){case "AUTH":_b=nexacro.XPushAction.AUTH;break;case "BYEC":_b=nexacro.XPushAction.BYEC;break;case "ADDF":_b=nexacro.XPushAction.ADDF;break;case "DELF":_b=nexacro.XPushAction.DELF;break;case "REQD":_b=nexacro.XPushAction.REQD;break;case "RECT":_b=nexacro.XPushAction.RECT;break;case "RGST":_b=nexacro.XPushAction.RGST;break;case "UNRG":_b=nexacro.XPushAction.UNRG;break;case "ADUI":_b=nexacro.XPushAction.ADUI;break;case "UNUI":_b=nexacro.XPushAction.UNUI;break;case "MSGC":_b=nexacro.XPushAction.MSGC;break;}return _b;};_pXPush._geterrormsg=function(_a){var _b;if(_a== -100){_b="object_push_send_byec";}else if(_a== -101){_b="object_push_socket_timeout";}else if(_a== -200){_b="object_push_fail_command_auth";}else if(_a== -201){_b="object_push_fail_all_command_auth";}else if(_a== -202){_b="object_push_fail_data_auth";}else if(_a== -300){_b="object_push_fail_connect";}else if(_a== -301){_b="object_push_fail_send_receive";}else if(_a== -302){_b="object_push_connected_already";}else if(_a== -401){_b="object_push_fail_disconnect";}else if(_a== -501){_b="object_push_fail_suspend";}else if(_a== -601){_b="object_push_fail_resume";}else if(_a== -701){_b="object_push_fail_command";}else if(_a== -702){_b="object_push_notfound_layouturl";}else if(_a== -703){_b="object_push_invalid_layouturl";}else if(_a== -801){_b="object_push_fail_protocol_version";}else if(_a== -901){_b="object_push_fail_rect";}else if(_a== -902){_b="object_push_fail_reqd";}else if(_a== -1001){_b="object_push_fail_rgst_unrg";}else if(_a== -1002){_b="object_push_fail_adui";}else if(_a== -1003){_b="object_push_fail_unui";}else if(_a== -1004){_b="object_push_fail_msgc";}return application._getErrorMessge(_b);};_pXPush.getObject=function(_a){if(_a==undefined){willrunfunc=null;}else{_a=_a*1;var _b=nexacro.Device._userCreatedObj[_a];if(typeof _b=="undefined"||_b==null){_b=null;}}return _b;};_pXPush=null;};if(!nexacro.FakeXMLHttpRequest){nexacro.FakeXMLHttpRequest=function(_a,_b,_c,_d){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._obj=_b;this.name=_a||"";this.strURL="";this.strDataType=_c||"";this.strCompress=_d;this.responseHeaders={};this.responseAllHeaders={};this.requestHeaders={};this.UNSENT=0;this.OPENED=1;this.HEADERS_RECEIVED=2;this.LOADING=3;this.DONE=4;this.readyState=0;this.timeout=0;this.withCredentials=false;this.upload={};this.status=0;this.statusText="";this.response="";this.responseType="";this.responseText="";this.responseXML="";this.onreadystatechange=function(){};var _e='""';var _f='{"id":'+this._id+', "div":"FakeXMLHttpRequest", "method":"constructor", "params":'+_e+'}';nexacro.Device.exec(_f);};var _pFakeXMLHttpRequest=nexacro.FakeXMLHttpRequest.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.FakeXMLHttpRequest);_pFakeXMLHttpRequest._type_name="FakeXMLHttpRequest";_pFakeXMLHttpRequest.destory=function(){var _a='""';var _b;delete nexacro.Device._userCreatedObj[this._id];_b='{"id":'+this._id+', "div":"FakeXMLHttpRequest", "method":"destroy", "params":'+_a+'}';nexacro.Device.exec(_b);return true;};_pFakeXMLHttpRequest.on_created=function(){};_pFakeXMLHttpRequest.open=function(_a,_b,_c,_d,_e){this.strURL=_b;};_pFakeXMLHttpRequest.setRequestHeader=function(_a,_b){this.requestHeaders[_a]=_b;};_pFakeXMLHttpRequest.send=function(_a){this.SendData=_a;var _b='{"sendData":"'+nexacro.Device.encodeString(_a)+'","strURL":"'+this.strURL+'","protocolparameters":'+JSON.stringify(nexacro.Device._protocolparameters)+',"strDataType":"'+this.strDataType+'","bCompress":"'+this.strCompress+'","requestHeaders":'+JSON.stringify(this.requestHeaders)+'}';var _c='{"id":'+this._id+', "div":"FakeXMLHttpRequest", "method":"sendData", "params":'+_b+'}';nexacro.Device.exec(_c);};_pFakeXMLHttpRequest.getSendData=function(){return nexacro.Device.encodeString(this.SendData);};_pFakeXMLHttpRequest.abort=function(){return false;};_pFakeXMLHttpRequest.getResponseHeader=function(_a){return this.responseHeaders[_a];};_pFakeXMLHttpRequest.getAllResponseHeaders=function(){return this.responseAllHeaders;};_pFakeXMLHttpRequest.overrideMimeType=function(_a){};_pFakeXMLHttpRequest._fire_onreadystatechange=function(ret){var retData=eval("("+ret+")");this.readyState=retData.readyState;this.status=retData.status;if(retData.responseText){this.responseText=nexacro.Device.decodeString(retData.responseText);}if(retData.responseAllHeaders){this.responseHeaders=JSON.parse(nexacro.Device.decodeString(retData.responseAllHeaders));}if(this.responseHeaders){this.responseAllHeaders=JSON.stringify(this.responseHeaders);}this.onreadystatechange.call();};_pFakeXMLHttpRequest._fire_ontargetevent=function(ret){var retData=eval("("+ret+")");var eventname=retData.eventname;this.readyState=retData.readyState;this.status=retData.status;if(this.upload[eventname]!=undefined){this.upload[eventname].call();}};_pFakeXMLHttpRequest=null;}if(!nexacro.NormalDataset){nexacro.NormalDataset=function(_a,_b){nexacro.Dataset.call(this,_a,_b);this.url="";this.arguments="";this.serverdatasetid="";this.firefirstcount=0;this.firenextcount=0;this.preload=false;this._is_preloaded=false;};var _pNormalDataset=nexacro._createPrototype(nexacro.Dataset,nexacro.NormalDataset);nexacro.NormalDataset.prototype=_pNormalDataset;nexacro.NormalDataset.ROWTYPE_EMPTY=0;nexacro.NormalDataset.ROWTYPE_NORMAL=1;nexacro.NormalDataset.ROWTYPE_INSERT=2;nexacro.NormalDataset.ROWTYPE_UPDATE=4;nexacro.NormalDataset.ROWTYPE_DELETE=8;nexacro.NormalDataset.ROWTYPE_GROUP=16;nexacro.NormalDataset.REASON_LOAD=0;nexacro.NormalDataset.REASON_LOADPROCESS=1;nexacro.NormalDataset.REASON_RESET=2;nexacro.NormalDataset.REASON_LOADCONTENT=3;nexacro.NormalDataset.REASON_ASSIGN=10;nexacro.NormalDataset.REASON_COPY=11;nexacro.NormalDataset.REASON_APPEND=12;nexacro.NormalDataset.REASON_MERGE=13;nexacro.NormalDataset.REASON_DELETE=20;nexacro.NormalDataset.REASON_DELETEALL=22;nexacro.NormalDataset.REASON_CLEARDATA=23;nexacro.NormalDataset.REASON_CLEAR=24;nexacro.NormalDataset.REASON_SORTGROUP=30;nexacro.NormalDataset.REASON_FILTER=31;nexacro.NormalDataset.REASON_MOVE=32;nexacro.NormalDataset.REASON_EXCHANGE=33;nexacro.NormalDataset.REASON_CHANGELAYOUT=34;nexacro.NormalDataset.REASON_CHANGESTATUS=40;nexacro.NormalDataset.REASON_ENABLEEVENT=41;nexacro.NormalDataset.REASON_ROWCHANGE=51;nexacro.NormalDataset.REASON_ROWINDEXCHANGE=52;nexacro.NormalDataset.REASON_ROWOBJECTCHANGE=53;nexacro.NormalDataset.REASON_BINDSOURCE=90;_pNormalDataset.on_created=function(){if(this.url==""||this.preload==false){if(this.colcount>0){this._endLoad(0,"SUCCESS",3);}}if(!nexacro.isDesignMode&&this.preload&&!this._is_preloaded){if(this.url&&this.parent){var _a=false;var _b=[];_b.push("__preload");_b.push(this.url);_b.push(this.id);_b.push(this.serverdatasetid);var _c=_b.join('_');var _d=application._getServiceLocation(this.url);var _e=this.parent._load_manager;if(_e){var _f=_e.getPreloadDataModule(this.id);if(_f){var _g=this.id+"="+this.serverdatasetid;var _h=new nexacro.TransactionItem(_d,this.parent,_c,"",_g,"",0,true);_h._usewaitcursor=false;_h._loadFromData(_f);this._is_preloaded=true;}}}}this._defaultKeyStr=this.keystring;this._defaultFilterStr=this.filterstr;};_pNormalDataset.destroy=function(){nexacro.Dataset.prototype.destroy.call(this);this._refform=null;};_pNormalDataset.set_url=function(_a){this.url=_a;};_pNormalDataset.set_arguments=function(_a){this.arguments=_a;};_pNormalDataset.set_firefirstcount=function(_a){_a=parseInt(_a)|0;if(isFinite(_a)){this.firefirstcount=_a;}};_pNormalDataset.set_firenextcount=function(_a){_a=parseInt(_a)|0;if(isFinite(_a)){this.firenextcount=_a;}};_pNormalDataset.set_preload=function(_a){this.preload=_a;};_pNormalDataset.set_serverdatasetid=function(_a){this.serverdatasetid=_a;};_pNormalDataset.load=function(_a,_b){var _c;if(this._refform){_c=this._refform._getRefFormBaseUrl();}var _d=application._getServiceLocation(this.url,_c);if(_d.length&&this.parent){var _e="__normaldataset_loadurl_"+this.id;var _f=this.parent._load_manager;if(_f){var _g=this.serverdatasetid;if(_g==null||_g.length==0){_g="output";}var _h=this.id+"="+_g;var _i=application._getServiceObject(this.url,true);_f.loadDataModule(_d,_e,"",_h,this.arguments,null,_a,_b,false,_i);}}else{this._endLoad( -1,"empty url",3);}};_pNormalDataset.on_preload_data=function(_a,_b,_c,_d,_e,_f,_g){if(_b!=0){application._onHttpSystemError(this,true,this,_d,_a,_e,_f,_g);}else if(_c&&!this._is_preloaded){var _h=[];_h.push("__preload");_h.push(this.url);_h.push(this.id);_h.push(this.serverdatasetid);var _i=_h.join('_');var _j=this.id+"="+this.serverdatasetid;var _k=new nexacro.TransactionItem(this.url,this.parent,_i,"",_j,"",0,true);_k._usewaitcursor=false;_k._loadFromData(_c);this._is_preloaded=true;}};delete _pNormalDataset;}if(!nexacro.DomParser){nexacro.DomParseException=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"onParseError";this.fromobject=this.fromreferenceobject=_a;this.level=_c;this.line=_d;this.column=_e;this.message=_f;this.description=_g;};var _pDomParseException=nexacro._createPrototype(nexacro.Event,nexacro.DomParseException);nexacro.DomParseException.prototype=_pDomParseException;_pDomParseException._type_name="DomParseException";delete _pDomParseException;nexacro.DomParser=function(_a,_b){this.id=this.name=_a;this.parent=_b;this._event_list={"onParseError":1};};var _pDomParser=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.DomParser);nexacro.DomParser.prototype=_pDomParser;_pDomParser._type_name="DomParser";_pDomParser.on_created=nexacro._emptyFn;_pDomParser.parseFromString=function(_a,_b){if(!_b||_b=="text/xml"){var _c=nexacro._parseXMLDocument(_a);if(_c){var _d=nexacro._getParserError(_c);if(_d){this.on_fire_onparseerror("error",_d.line,_d.column,_d.message,_d.desc);return null;}}return _c;}return null;};_pDomParser.on_fire_onparseerror=function(_a,_b,_c,_d,_e){if(this.onParseError&&this.onParseError._has_handlers){var _f=new nexacro.DomParseException(this,"onParseError",_a,_b,_c,_d,_e);return this.onParseError._fireEvent(this,_f);}return false;};delete _pDomParser;};if(!nexacro.Button){nexacro.Button_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pButtonStyle=nexacro._createPrototype(nexacro.Style,nexacro.Button_Style);nexacro.Button_Style.prototype=_pButtonStyle;eval(nexacro._createValueAttributeEvalStr("_pButtonStyle","image"));eval(nexacro._createAlignAttributeEvalStr("_pButtonStyle","imagealign"));_pButtonStyle.__custom_emptyObject=function(){this.image=null;this.imagealign=null;};_pButtonStyle.__get_custom_style_value=function(){var _a="";if(this.image&&!this.image._is_empty){_a+="image:"+this.image._value+"; ";}if(this.imagealign&&!this.imagealign._is_empty){_a+="imagealign:"+this.imagealign._value+"; ";}return _a;};nexacro.Button_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.image=null;this.imagealign=null;};var _pButtonCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Button_CurrentStyle);nexacro.Button_CurrentStyle.prototype=_pButtonCurrentStyle;_pButtonCurrentStyle.__custom_emptyObject=_pButtonStyle.__custom_emptyObject;_pButtonCurrentStyle.__get_custom_style_value=_pButtonStyle.__get_custom_style_value;delete _pButtonStyle;delete _pButtonCurrentStyle;nexacro.Button=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.defaultbutton=false;this.escapebutton=false;this.selectStatus=false;this.wordwrap="none";this._apply_pushed_pseudo=true;this._text_elem=null;this._img_elem=null;this._text_width= -1;this._text_height= -1;this._image_width=0;this._image_height=0;this._is_hotkey_click=false;this._accessibility_role="button";};var _pButton=nexacro._createPrototype(nexacro.Component,nexacro.Button);nexacro.Button.prototype=_pButton;_pButton._type_name="Button";nexacro.Button._default_image_align=nexacro.Component._default_buttonimg_align;_pButton.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_image(_a);if(_e){var _g=this.on_find_CurrentStyle_align(_a);var _h=this.on_find_CurrentStyle_imagealign(_a);_b.align=_g;_b.imagealign=_h;if(_e!=_b.image){_b.image=_e;this._load_image(_e);}else{this._updateElementPositions(_g,_h);}}else{if(_b.image){_b.image=null;this._load_image(null);}var _g=this.on_find_CurrentStyle_align(_a);if(_g!=_b.align){_b.align=_g;this.on_apply_style_align(_g);}}var _f=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_f!=_b.rtlimagemirroring){_b.rtlimagemirroring=_f;this.on_apply_style_rtlimagemirroring(_f);}};_pButton.on_create_custom_style=function(){return new nexacro.Button_Style(this);};_pButton.on_create_custom_currentStyle=function(){return new nexacro.Button_CurrentStyle();};_pButton.on_find_CurrentStyle_image=function(_a){return this._find_pseudo_obj("image",_a);};_pButton.on_find_CurrentStyle_imagealign=function(_a){var _b=this._find_pseudo_obj("imagealign",_a,"align");return (_b)?_b:nexacro.Button._default_image_align;};_pButton.on_update_style_image=function(){this.on_apply_style_image(this.currentstyle.image=this.on_find_CurrentStyle_image(this._pseudo));};_pButton.on_update_style_imagealign=function(){this.on_apply_style_imagealign(this.currentstyle.imagealign=this.on_find_CurrentStyle_imagealign(this._pseudo));};_pButton.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);};_pButton.on_apply_style_color=function(_a){if(this._text_elem&&_a){this._text_elem.setElementColor(_a);}};_pButton.on_apply_style_font=function(_a){if(this._text_elem&&_a){this._text_elem.setElementFont(_a);this._text_width= -1;this._text_height= -1;if(this._img_elem){var _b=this.currentstyle;if(this._img_elem&&_b.align&&_b.imagealign){this._updateElementPositions(_b.align,_b.imagealign);}}}};_pButton.on_apply_style_align=function(_a){if(this._text_elem&&_a){if(this._img_elem&&this.currentstyle.imagealign){this._updateElementPositions(_a,this.currentstyle.imagealign);}else{var _b=(_a.halign==""?"center":_a._halign);var _c=(_a.valign==""?"middle":_a._valign);this._text_elem.setElementAlignXY(_b,_c);nexacro._updateTextElementPositions(this);}}};_pButton.on_apply_style_image=function(_a){this._load_image(this.currentstyle.image);};_pButton.on_apply_style_imagealign=function(_a){if(this._img_elem){this._updateElementPositions(this.currentstyle.align,_a);}};_pButton.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this.text){var _c=(_b.align.halign==""?"center":_b.align._halign);var _d=(_b.align.valign==""?"middle":_b.align._valign);var _e=new nexacro.TextBoxElement(_a);_e.setElementSize(this._client_width,this._client_height);_e.setElementFont(_b.font);_e.setElementColor(_b.color);_e.setElementAlignXY(_c,_d);this._text_elem=_e;_e=null;}if(_b.image){this._load_image(_b.image);}var _f=this._getMainForm();if(_f&&_f._defaultbutton==this){this._setAccessibilityFlagDefaultButton(true);}_f=null;}};_pButton.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._text_elem;var _c=this._img_elem;if(_c){_c.create();}if(_b){_b.create();}if(this.expr){this.on_apply_expr();}this.on_apply_wordwrap();this.on_apply_prop_rtldirection();_b=null;_c=null;}_a=null;this._preloadImage();};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>=10){_pButton._preloadImage=function(){var _a=["mouseover","disabled","focused","pushed","selected"];var _b=_a.length;for(var _c=0;_c<_b;_c++ ){var _d=this.on_find_CurrentStyle_image(_a[_c]);var _e=_d?_d._value:"";if(_e){_e=nexacro._getURIValue(_e);_e=nexacro._getImageLocation(_e,this._getRefFormBaseUrl());nexacro._getImageSize(_e,function(){},this);}}};}else{_pButton._preloadImage=function(){};}_pButton.destroyComponent=function(){if(!this._is_alive){return;}var _a=this._getMainForm();if(_a){if(_a._defaultbutton==this){_a._defaultbutton=null;}if(_a._escapebutton==this){_a._escapebutton=null;}}return nexacro.Component.prototype.destroyComponent.call(this);};_pButton.on_destroy_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_a){_a.destroy();this._text_elem=null;}if(_b){_b.destroy();this._img_elem=null;}};_pButton.on_change_containerRect=function(_a,_b){var _c=this._text_elem;var _d=this._img_elem;if(_c){_c.setElementSize(_a,_b);if(_d){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}else{nexacro._updateTextElementPositions(this);}}else if(_d){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}this.on_apply_custom_pseudo(this._pseudo);};_pButton._getDlgCode=function(_a,_b,_c,_d){return {want_tab:false,want_return:true,want_escape:false,want_chars:false,want_arrows:false};};_pButton._img_load_completed=function(_a){var _b=this.currentstyle;var _c=_b.imagealign?_b.imagealign:this.on_find_CurrentStyle_imagealign(this._pseudo);_b.imagalign=_c;this._updateElementPositions(_b.align,_c);this._img_elem.setElementImageUrl(_a);_c=null;_b=null;};_pButton._on_loadImg=function(_a,_b,_c){if(!this._is_alive){return;}if(this._lastest_imgurl!=_a){return;}this._image_width=_b;this._image_height=_c;this._img_load_completed(_a);this.on_apply_custom_pseudo(this._pseudo);};_pButton._load_image=function(_a){var _b=this._control_element;if(_b&&_a){var _c=_a?_a._value:"";if(_c){_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());var _d=this._img_elem;if(!_d){_d=new nexacro.ImageElement(_b);this._img_elem=_d;if(this._is_created){_d.create();}}this._lastest_imgurl=_c;var _e=nexacro._getImageSize(_c,this._on_loadImg,this);if(_e){this._image_width=_e.width;this._image_height=_e.height;this._img_load_completed(_c);}_d=null;}else{if(this._img_elem){this._img_elem.destroy();this._img_elem=null;this._image_width=0;this._image_height=0;this._lastest_imgurl="";if(this._text_elem){var _f=this.currentstyle.align;var _g=(_f.halign==""?"center":_f._halign);var _h=(_f.valign==""?"middle":_f._valign);this._text_elem.setElementAlignXY(_g,_h);}}}}};_pButton._updateElementPositions=function(_a,_b){if(!this._is_created_contents){return;}var _c=this._text_elem;var _d=this._img_elem;if(_c&&_d&&_a&&_b){var _e=this._client_width;var _f=this._client_height;var _g=(_a.halign==""?"center":_a.halign);var _h=(_a.valign==""?"middle":_a.valign);var _i=_b.halign;var _j=_b.valign;var _k,_l;if(this._text_width<0){var _m=this.currentstyle.font||nexacro.Component._default_font;var _n=nexacro._getTextSize(this.text,_m);_k=this._text_width=_n[0];_l=this._text_height=_n[1];}else{_k=this._text_width;_l=this._text_height;}var _o=this._image_width;var _p=this._image_height;var _q;var _r,_s;var _t,_u;switch(_i){case "lefttext":if(_g=="left"){_q=0;}else if(_g=="right"){_q=_e-_k-_o;}else{_q=((_e-_k-_o)/2)|0;}_r=_q;_q+=_o;_t=_q;_g="left";break;case "righttext":if(_g=="left"){_q=0;}else if(_g=="right"){_q=_e-_k-_o;}else{_q=((_e-_k-_o)/2)|0;}_t=_q;_q+=_k;_r=_q;_g="left";break;case "left":_r=0;_t=0;break;case "right":_q=_e-_o;_r=_q;_t=0;break;default:_q=((_e-_o)/2)|0;_r=_q;_t=0;break;}switch(_j){case "toptext":if(_h=="top"){_q=0;}else if(_h=="bottom"){_q=_f-_l-_p;}else{_q=((_f-_l-_p)/2)|0;}_s=_q;_q+=_p;_u=_q;_h="top";break;case "bottomtext":if(_h=="top"){_q=0;}else if(_h=="bottom"){_q=_f-_l-_p;}else{_q=((_f-_l-_p)/2)|0;}_u=_q;_q+=_l;_s=_q;_h="top";break;case "top":_s=0;_u=0;break;case "bottom":_q=_f-_p;_s=_q;_u=0;break;default:_q=((_f-_p)/2)|0;_s=_q;_u=0;break;}_t=_t<0?0:_t;_u=_u<0?0:_u;_r=this._convertLeftForRtlLayout(_r,_o);_d.setElementPosition(_r,_s);_d.setElementSize(_o,_p);_c.setElementAlignXY(_g,_h);_c.setElementPaddingXY(_t,_u,0,0);}else if(_c&&_a){var _g=(_a.halign==""?"center":_a._halign);var _h=(_a.valign==""?"middle":_a._valign);_c.setElementAlignXY(_g,_h);}else if(_d&&_b){var _e=this._client_width;var _f=this._client_height;var _g="center";var _h="middle";if(_a){_g=_a.halign==""?"center":_a.halign;_h=_a.valign==""?"middle":_a.valign;}var _i=_b.halign;var _j=_b.valign;var _o=this._image_width;var _p=this._image_height;var _q;var _r,_s;switch(_i){case "lefttext":case "righttext":if(_g=="left"){_r=0;}else if(_g=="right"){_r=_e-_o;}else{_r=((_e-_o)/2)|0;}break;case "left":_r=0;break;case "right":_r=_e-_o;break;default:_r=((_e-_o)/2)|0;break;}switch(_j){case "toptext":case "bottomtext":if(_h=="top"){_s=0;}else if(_h=="bottom"){_s=_f-_p;}else{_s=((_f-_p)/2)|0;}break;case "top":_s=0;break;case "bottom":_s=_f-_p;break;default:_s=((_f-_p)/2)|0;break;}_r=this._convertLeftForRtlLayout(_r,_o);_d.setElementPosition(_r,_s);_d.setElementSize(_o,_p);}_c=null;_d=null;};_pButton.on_apply_text=function(){var _a=this._control_element;if(_a){var _b=this.currentstyle;var _c=this._text_elem;if(!_c){_c=new nexacro.TextBoxElement(_a);this._text_elem=_c;this.on_apply_wordwrap();var _d,_e;if(_b.align){_d=(_b.align.halign==""?"center":_b.align._halign);_e=(_b.align.valign==""?"middle":_b.align._valign);}else{_d="center";_e="middle";}_c.setElementSize(this._client_width,this._client_height);_c.setElementColor(_b.color);_c.setElementFont(_b.font);_c.setElementAlignXY(_d,_e);if(this._is_created){_c.create();}}var _f=this.expr;if(_f&&_f.length>0){_f=_f.trim().split(":");var _g=new nexacro.ExprParser();var _h,_i;var _j;if(_f.length==1){_j=_f[0];}else{if(_f[0].trim().toUpperCase()!="EXPR"){_j=_f.join(":");}else{_j=_f.slice(1).join(":");}}_h=_g.makeExpr(this,_j);_g=null;_i=nexacro._createInlineFunc(_h,["comp"]);if(_i){try{var _k=nexacro._toString(_i.call(null,this));if(_k!=this.displaytext){this.displaytext=_k;}}catch(e){return;}}}else{this.displaytext=this.text;}_f=null;_c.setElementText(this.displaytext);if(this.displaytext&&this.displaytext!=""){this._text_width= -1;this._text_height= -1;}else{this._text_width=0;this._text_height=0;}if(this._img_elem){this._updateElementPositions(_b.align,_b.imagealign);}else{nexacro._updateTextElementPositions(this);}_c=null;_b=null;this._refreshAccessibilityValue();}};_pButton.on_apply_expr=function(){this.on_apply_text();};_pButton.on_apply_prop_rtldirection=function(){var _a=this.getElement();var _b=this._rtldirection;if(_a){_a.setElementRtlDirection(_b);if(this._img_elem){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);this._img_elem.setElementImageMirror(null,true);}else{nexacro._updateTextElementPositions(this);}}};_pButton._on_hotkey=function(_a,_b,_c,_d){this._is_hotkey_click=true;this.click();};_pButton.set_defaultbutton=function(_a){this.defaultbutton=nexacro._toBoolean(_a);var _b=this._getMainForm();if(_b){if(nexacro._toBoolean(_a)==true){_b._defaultbutton=this;this._setAccessibilityFlagDefaultButton(true);}else{if(_b._defaultbutton==this){_b._defaultbutton=null;this._setAccessibilityFlagDefaultButton(false);}}}};_pButton.set_escapebutton=function(_a){this.escapebutton=nexacro._toBoolean(_a);var _b=this._getMainForm();if(_b){var _c=!(this.parent==_b||this._is_created);if(nexacro._toBoolean(_a)==true){if(!_c){_b._escapebutton=this;}}else{if(_b._escapebutton==this){_b._escapebutton=null;}}}};_pButton.click=function(){this.on_fire_onclick("none",false,false,false, -1, -1, -1, -1, -1, -1,this,this);};_pButton.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);var _h=this._getWindow();var _i=_h._cur_ldown_elem||_h._keydown_element;if(!this._is_subcontrol&&!this._is_hotkey_click){if(_i==this._cur_ldown_elem){if(_a==13||_a==32){this.click();}}}this._cur_ldown_elem=null;this._is_hotkey_click=false;return _g;};_pButton._cur_ldown_elem=null;_pButton.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);var _h=this._getWindow();this._cur_ldown_elem=_h._cur_ldown_elem||_h._keydown_element;return _g;};_pButton.getSelectStatus=function(){return this.selectStatus;};_pButton.setSelectStatus=function(_a){var _b=this.selectStatus;if(_a){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}this.selectStatus=_a;return _b;};_pButton.toggleSelectStatus=function(){var _a=this.selectStatus;this.setSelectStatus(!_a);return _a;};_pButton.on_getBindableProperties=function(){return "value";};_pButton.set_wordwrap=function(_a){if(typeof (_a)=="string"){_a=_a.toLowerCase();}if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pButton.on_apply_wordwrap=function(){if(this._text_elem){this._text_elem.setElementWordWrap(this.wordwrap);}};delete _pButton;nexacro.ImageButton=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Button.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.defaultbutton=false;this.escapebutton=false;this.selectStatus=false;this._img_elem=null;this._apply_pushed_pseudo=true;this._is_simple_control=true;};var _pImageButton=nexacro._createPrototype(nexacro.Button,nexacro.ImageButton);nexacro.ImageButton.prototype=_pImageButton;_pImageButton.on_create_custom_style=function(){return new nexacro.Button_Style(this);};_pImageButton.on_create_custom_currentStyle=function(){return new nexacro.Button_CurrentStyle();};_pImageButton.on_find_CurrentStyle_image=function(_a){return this._find_pseudo_obj("image",_a);};_pImageButton.on_find_CurrentStyle_imagealign=function(_a){var _b=this._find_pseudo_obj("imagealign",_a,"align");return (_b)?_b:nexacro.Button._default_image_align;};_pImageButton.on_update_style_image=function(){this.on_apply_style_image(this.currentstyle.image=this.on_find_CurrentStyle_image(this._pseudo));};_pImageButton.on_update_style_imagealign=function(){this.on_apply_style_imagealign(this.currentstyle.imagealign=this.on_find_CurrentStyle_imagealign(this._pseudo));};_pImageButton.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_image(_a);if(_c!=_b.image){_b.image=_c;this._load_image(_c);}var _d=this.on_find_CurrentStyle_align(_a);var _e=this.on_find_CurrentStyle_imagealign(_a);if(_d!=_b.align||_e!=_b.imagealign){_b.align=_d;_b.imagealign=_e;this._update_align(_d,_e);}var _f=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_f!=_b.rtlimagemirroring){this.on_apply_style_rtlimagemirroring(_b.rtlimagemirroring=_f);}_b=null;};_pImageButton.on_apply_style_image=function(_a){this._load_image(_a);};_pImageButton.on_apply_style_align=function(_a){this._update_align(_a,this.currentstyle.imagealign);};_pImageButton.on_apply_style_imagealign=function(_a){this._update_align(_a,this.currentstyle.imagealign);};_pImageButton.on_create_contents=function(){var _a=this._control_element;var _b=new nexacro.AlignImageElement(_a);var _c=this.currentstyle;_b.setElementPosition(this._client_left,this._client_top);_b.setElementSize(this._client_width,this._client_height);this._img_elem=_b;this._update_align(_c.align,_c.imagealign);this._load_image(_c.image);_b=null;_a=null;_c=null;};_pImageButton.on_created_contents=function(){this._img_elem.create();};_pImageButton.on_destroy_contents=function(){if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}};_pImageButton.on_change_containerPos=function(_a,_b){if(this._img_elem&&!(this.getElement()._vml_elem)){this._img_elem.setElementPosition(_a,_b);}};_pImageButton.on_change_containerRect=function(_a,_b){if(this._img_elem){this._img_elem.setElementSize(_a,_b);}};_pImageButton._load_image=function(_a){var _b=this._img_elem;if(_b){var _c=_a?_a._value:"";if(_c){_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());_b.setElementImageUrl(_c);}else{_b.setElementImageUrl("");}}_b=null;};_pImageButton._update_align=function(_a,_b){if(_a==null||_b==null){return;}var _c=this._img_elem;if(_c){var _d=this._client_width;var _e=this._client_height;var _f=_a.halign==""?"center":_a.halign;var _g=_a.valign==""?"middle":_a.valign;var _h=_b.halign;var _i=_b.valign;switch(_h){case "left":case "right":_f=_h;break;}switch(_i){case "top":case "bottom":_g=_i;break;}_c.setElementAlignXY(_f,_g);}_c=null;};_pImageButton.on_apply_text=function(){};_pImageButton.on_apply_expr=function(){};_pImageButton.on_apply_prop_rtldirection=function(){var _a=this.getElement();var _b=this._rtldirection;if(_a){_a.setElementRtlDirection(_b);var _c=this._img_elem;if(_c){var _d=_a.client_left;var _e=_a.client_top;var _f=_a.client_width;_d=this._convertLeftForRtlLayout(_d,_f);_c.setElementImageMirror(null,true);_c.setElementPosition(_d,_e);}}};_pImageButton.click=function(){this.on_fire_onclick("none",false,false,false, -1, -1, -1, -1, -1, -1,this,this);};_pImageButton.getSelectStatus=function(){return this.selectStatus;};_pImageButton.setSelectStatus=function(_a){var _b=this.selectStatus;if(_a){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}this.selectStatus=_a;return _b;};_pImageButton.toggleSelectStatus=function(){var _a=this.selectStatus;this.selectStatus=!_a;return _a;};_pImageButton._setRealEnable=function(_a){if(_a==undefined){_a=this.enable;}if(this._real_enable!=_a){var _b=this._control_element;this._real_enable=_a;if(_a){this._status="enable";this._pseudo="normal";}else{this._status="disable";this._pseudo="disabled";}if(this.visible&&_b){this._updateControl(_b,this._pseudo);this._updateContents(_b,this._pseudo);}}};delete _pImageButton;nexacro.ButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Button.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pButtonCtrl=nexacro.ButtonCtrl.prototype=nexacro._createPrototype(nexacro.Button,nexacro.ButtonCtrl);_pButtonCtrl._type_name="ButtonControl";nexacro._setForControlStyleFinder(_pButtonCtrl);delete _pButtonCtrl;nexacro.TrackButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_track=true;};var _pTrackButtonCtrl=nexacro.TrackButtonCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TrackButtonCtrl);delete _pTrackButtonCtrl;nexacro.ImageButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButton.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pImageButtonCtrl=nexacro.ImageButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButton,nexacro.ImageButtonCtrl);_pImageButtonCtrl._type_name="ButtonControl";nexacro._setForControlStyleFinder(_pImageButtonCtrl);_pImageButtonCtrl.on_apply_pseudo=function(_a){if(this.parent._set_real){return;}var _b=this.parent;var _c=this.enable;while(_b!=null){if(_b._real_enable==false||_b.enable==false){_c=false;break;}if(_b.parent&&!_b.parent._is_application&&_b._getWindow()!=_b.parent._getWindow()){break;}_b=_b.parent;}if(this._setEnable(_c)){return;}this._pseudo=_a=this._getResultPseudo(this._status,_a);var _d=this.getElement();if(this.visible&&_d){this._updateControl(_d,_a);this._updateContents(_d,_a);}_b=null;_d=null;};_pImageButtonCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){var _b=this.parent.on_find_CurrentStyle_rtlimagemirroring(_a);if(!_b){_b=this._find_inherit_pseudo_obj("rtlimagemirroring",_a);}return _b;};delete _pImageButtonCtrl;nexacro.TrackImageButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_track=true;};var _pTrackImageButtonCtrl=nexacro.TrackImageButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.TrackImageButtonCtrl);delete _pTrackImageButtonCtrl;nexacro.StepImageButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButton.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pStepImageButtonCtrl=nexacro._createPrototype(nexacro.ImageButton,nexacro.StepImageButtonCtrl);nexacro.StepImageButtonCtrl.prototype=_pStepImageButtonCtrl;_pStepImageButtonCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("buttonbackground",_a,"background");;};_pStepImageButtonCtrl.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("buttonborder",_a,"border");;};_pStepImageButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("buttonbordertype",_a,"bordertype");;};_pStepImageButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("buttongradation",_a,"gradation");;};_pStepImageButtonCtrl.on_find_CurrentStyle_padding=function(_a){};_pStepImageButtonCtrl.on_find_CurrentStyle_accessibility=function(_a){};_pStepImageButtonCtrl._on_getAccessibilityAdditionalLabel=function(){var _a=this.parent;if(_a){var _b=this.id+" "+_a.stepcount;return _b;}_a=null;return "";};_pStepImageButtonCtrl._on_getAccessibilityAdditionalRole=function(){return " Step";};delete _pStepImageButtonCtrl;}if(!nexacro.Static){nexacro.Static_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.linespace=null;};var _pStaticStyle=nexacro._createPrototype(nexacro.Style,nexacro.Static_Style);nexacro.Static_Style.prototype=_pStaticStyle;eval(nexacro._createValueAttributeEvalStr("_pStaticStyle","linespace"));_pStaticStyle.__custom_emptyObject=function(){this.linespace=null;};_pStaticStyle.__get_custom_style_value=function(){var _a="";if(this.linespace&&this.linespace._is_empty){_a+="linespace:"+this.linespace._value+"; ";}return _a;};nexacro.Static_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.linespace=null;};var _pStaticCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Static_CurrentStyle);nexacro.Static_CurrentStyle.prototype=_pStaticCurrentStyle;_pStaticCurrentStyle.__custom_emptyObject=_pStaticStyle.__custom_emptyObject;_pStaticCurrentStyle.__get_custom_style_value=_pStaticStyle.__get_custom_style_value;delete _pStaticStyle;delete _pStaticCurrentStyle;nexacro.Static=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.text="";this.expr=null;this.wordwrap="none";this.usedecorate=false;this.tabstop=false;this._text="";this._expr=null;this._text_elem=null;this._decorate_text="";this._decorate_link_url="";this._is_focus_accept=false;this._accessibility_role="static";};var _pStatic=nexacro._createPrototype(nexacro.Component,nexacro.Static);nexacro.Static.prototype=_pStatic;_pStatic._type_name="Static";_pStatic.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_align(_a);if(_e!=_b.align){_b.align=_e;this.on_apply_style_align(_e);}var _f=this.on_find_CurrentStyle_linespace(_a);if(_f!=_b.linespace){_b.linespace=_f;this.on_apply_style_linespace(_f);}};_pStatic.on_apply_style_color=function(_a){if(this._text_elem){if(_a){this._text_elem.setElementColor(_a);}else{var _a=new nexacro.Style_color("");this._text_elem.setElementColor(_a);_a=null;}}};_pStatic.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pStatic.on_apply_style_align=function(_a){if(this._text_elem&&_a){var _b=_a.halign==""?"center":_a._halign;var _c=_a.valign==""?"middle":_a._valign;this._text_elem.setElementAlignXY(_b,_c);}};_pStatic.on_apply_style_linespace=function(_a){var _b=this._text_elem;if(_b){var _c=_a?_a:0;var _d=nexacro._getTextSize2("Wj",this.on_find_CurrentStyle_font(this._pseudo));var _e=_d[1]+nexacro._toInt(_c);if(this._adjust_height<_e){_c=(this._adjust_height>_d[1])?(this._adjust_height-_d[1]):0;}_b.setElementLineSpace(_c);}};_pStatic.on_find_CurrentStyle_linespace=function(_a){return this._find_pseudo_obj("linespace",_a);};_pStatic.on_update_style_padding=function(){var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);};_pStatic.on_update_style_linespace=function(){this.on_apply_style_linespace(this.currentstyle.linespace=this.on_find_CurrentStyle_linespace(this._pseudo));};_pStatic.on_create_contents=function(){var _a=this.getElement();if(_a&&this.text){var _b=new nexacro.TextBoxElement(_a);var _c="left";var _d="middle";var _e=this.currentstyle.align;if(_e){_c=_e.halign==""?"center":_e._halign;_d=_e.valign==""?"middle":_e._valign;}this._text_elem=_b;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b=null;}else if(_a&&!this.text&&this._text_elem){this._text_elem.setParentElement(_a);}};_pStatic.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}if(this.expr){this.on_apply_expr();}this.on_apply_wordwrap();this.on_apply_style_linespace(this.currentstyle.linespace);this.on_apply_prop_rtldirection();};_pStatic.on_destroy_contents=function(){var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}_a=null;};_pStatic.on_change_containerRect=function(_a,_b){var _c=this._text_elem;var _d=this.on_find_CurrentStyle_align(this._pseudo);if(this._text_elem){_c.setElementSize(_a,_b);this.on_apply_style_align(_d);}};_pStatic.on_create_custom_style=function(){return new nexacro.Static_Style(this);};_pStatic.on_create_custom_currentStyle=function(){return new nexacro.Static_CurrentStyle();};_pStatic.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this._text_elem;if(_b&&this.usedecorate&&(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8)&&this._is_created){this._text_elem.destroy();this._text_elem=null;delete this._text_elem;_b=null;}if(!_b){var _b=new nexacro.TextBoxElement(this.getElement());var _c="left";var _d="middle";var _e=this.currentstyle.align;if(_e){_c=_e.halign==""?"center":_e._halign;_d=_e.valign==""?"middle":_e._valign;}this._text_elem=_b;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);if(this._is_created){_b.create();}this.on_apply_wordwrap();this.on_apply_style_linespace(this.currentstyle.linespace);}var _f=this.text;var _g=this.expr;if(_g&&_g.length>0){_g=_g.trim().split(":");var _h=_g.length;var _i=new nexacro.ExprParser();var _j,_k;var _l;if(_h==1){_l=_g[0];}else{if(_g[0].trim().toUpperCase()!="EXPR"){_l=_g.join(":");}else{_l=_g.slice(1).join(":");}}_j=_i.makeExpr(this,_l);_k=nexacro._createInlineFunc(_j,["comp"]);if(_k){try{_f=nexacro._toString(_k.call(null,this));this.displaytext=this._parse_decoratetext(_f);}catch(e){return;}}}else{this.displaytext=this._parse_decoratetext(_f);}if(this.usedecorate){_b.setElementDecorateText(_f);}else{_b.decoration="";_b.setElementText(this.displaytext);}this._refreshAccessibilityValue();}};_pStatic.on_apply_expr=function(){this.on_apply_text();};_pStatic.set_usedecorate=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usedecorate){this.usedecorate=_a;this.on_apply_usedecorate();}};_pStatic.on_apply_usedecorate=function(){this.on_apply_text();this.on_apply_wordwrap();};_pStatic.set_wordwrap=function(_a){if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pStatic.on_apply_wordwrap=function(){if(this._text_elem){this._text_elem.setElementWordWrap(this.wordwrap);}};_pStatic.set_linespace=function(_a){_a=nexacro._toInt(_a);if(_a&&_a!=this.linespace){this.linespace=_a;this.on_apply_linespace();}};_pStatic.on_apply_linespace=function(){var _a=this._text_elem;if(_a){var _b=(this.linespace<0)?"":this.linespace+"px";_a.setElementLineSpace(_b);}};_pStatic.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._client_width;var _b=this._client_height;this.on_change_containerRect(_a,_b);};_pStatic.on_get_prop_tabstop=function(){if(nexacro._enableaccessibility){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a&&_a.enable&&_a.role=="link"){return true;}}return false;};_pStatic._isFocusAcceptable=function(){return nexacro._enableaccessibility;};_pStatic.on_get_style_accessibility_label=function(){if(this.usedecorate){return this.displaytext;}else{return this.text;}};_pStatic._getUrl=function(){var _a=this._text_elem;if(_a&&this.usedecorate){var _b=_a.decoration;if(_b!=this._decorate_text){this._decorate_text=_b;var _c=_b?_b.length:0;var _d="";for(var _e=0;_e<_c;_e++ ){var _f=_b.charAt(_e);if(_f=='<'&&_b.charAt(_e+1)=='l'){var _g=0;for(var _h=_e+4;_h<_c;_h++ ){var _i=_b.charAt(_h);if(_i=='\''){if(_g!=0&&_g!=_h){break;}_g=_h;continue;}if(_g!=0){_d+=_i;}}break;}}this._decorate_link_url=_d;}return this._decorate_link_url;}return "";};_pStatic._parse_decoratetext=function(_a){var _b=_a;if(this.usedecorate){var _c=[/<\/?ff\s+[v]\s*=\'.*?>/g,/<\/?fs\s+[v]\s*=\'.*?>/g,/<\/?fc\s+[v]\s*=\'.*?>/g,/<\/?b\s+[v].*?>/g,/<\/?i\s+[v].*?>/g,/<\/?u\s+[v].*?>/g,/<\/?s\s+[v].*?>/g,/<\/?l\s+[v].*?>/g];var _d=[/<\/ff>/g,/<\/fs>/g,/<\/fc>/g,/<\/b>/g,/<\/i>/g,/<\/u>/g,/<\/s>/g,/<\/l>/g];for(var _e=0;_e<=_c.length-1;_e++ ){var _f=0;var _g=_c[_e];var _h=_d[_e];var _i=_g.exec(_b);while(_i){var _j=_h.exec(_b);var _k=_i.index;var _l=_h.lastIndex;var _m=_b.substring(0,_k);var _n=_b.substring(_l,_b.length);var _o=_b.substring(_k,_l);_o=_o.replace(_i[0],"");if(_j[0]){_o=_o.replace(_j[0],"");}_b=_m+_o+_n;_g.lastIndex=0;_h.lastIndex=0;_i=_g.exec(_b);}}}return _b;};delete _pStatic;nexacro.StaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Static.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pStaticCtrl=nexacro.StaticCtrl.prototype=nexacro._createPrototype(nexacro.Static,nexacro.StaticCtrl);_pStaticCtrl._type_name="StaticControl";nexacro._setForControlStyleFinder(_pStaticCtrl);delete _pStaticCtrl;}if(!nexacro.Edit){nexacro.Edit_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.caretcolor=null;this.compositecolor=null;};var _pEditStyle=nexacro._createPrototype(nexacro.Style,nexacro.Edit_Style);nexacro.Edit_Style.prototype=_pEditStyle;eval(nexacro._createColorAttributeEvalStr("_pEditStyle","caretcolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","compositecolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","selectcolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","selectbackground"));_pEditStyle.__custom_emptyObject=function(){this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;};_pEditStyle.__get_custom_style_value=function(){var _a="";if(this.caretcolor&&!this.caretcolor._is_empty){_a+="caretcolor:"+this.caretcolor._value+"; ";}if(this.compositecolor&&!this.compositecolor._is_empty){_a+="compositecolor:"+this.compositecolor._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}return _a;};nexacro.Edit_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;};var _pEditCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Edit_CurrentStyle);nexacro.Edit_CurrentStyle.prototype=_pEditCurrentStyle;_pEditCurrentStyle.__custom_emptyObject=_pEditStyle.__custom_emptyObject;_pEditCurrentStyle.__get_custom_style_value=_pEditStyle.__get_custom_style_value;_pEditStyle=null;_pEditCurrentStyle=null;nexacro.Edit=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.value=undefined;this.useinputpanel=true;this.displaynulltext="";this.readonly=false;this.password=false;this.autoselect=false;this.autoskip=false;this.maxlength=0;this.inputmode="normal";this.inputfilter="none";this.inputtype="normal";this.lengthunit="utf16";this.tabindentsize=4;this.imemode="none";this.useime="global";this.updatebindingvalue="default";this.usecontextmenu=true;this.text="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ontextchange":1,"ontextchanged":1,"oncontextmenu":1,"onfling":1,"onflingstart":1,"onflingend":1,"onpinch":1,"onpinchstart":1,"onpinchend":1,"onslide":1,"onslidestart":1,"onslideend":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"onlongpress":1};this._input_element=null;this._edit_base_api=new nexacro.EditNormal(this);this._accessibility_role="edit";this._caret_pos={begin: -1,end: -1,org_begin: -1,org_end: -1};this._setcaret=false;this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;this._activate_flag=false;this._has_inputElement=true;this._old_selection=[0,0];};var _pEdit=nexacro._createPrototype(nexacro.Component,nexacro.Edit);nexacro.Edit.prototype=_pEdit;_pEdit._type_name="Edit";nexacro.Edit._default_selectcolor=nexacro._getCachedStyleObj("color","#3e3e3eff");nexacro.Edit._focused_selectcolor=nexacro._getCachedStyleObj("color","#ffffffff");nexacro.Edit._default_selectbackground=nexacro._getCachedStyleObj("color","#ffffffb3");_pEdit.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a)||nexacro.Component._default_left_align;if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=null;var _d=this.on_find_CurrentStyle_font(_a);if(_d!=_b.font){_b.font=_d;this.on_apply_style_font(_d);}_d=null;var _e=this.on_find_CurrentStyle_color(_a);if(_e!=_b.color){_b.color=_e;this.on_apply_style_color(_e);}_e=this.on_find_CurrentStyle_caretcolor(_a);if(_e!=_b.caretcolor){_b.caretcolor=_e;this.on_apply_style_caretcolor(_e);}_e=this.on_find_CurrentStyle_compositecolor(_a);if(_e!=_b.compositecolor){_b.compositecolor=_e;this.on_apply_style_compositecolor(_e);}_e=null;var _f=this.on_find_CurrentStyle_selectcolor(_a);if(_f!=_b.selectcolor){_b.selectcolor=_f;this.on_apply_style_selectcolor(_f);}_f=null;var _g=this.on_find_CurrentStyle_selectbackground(_a);if(_g!=_b.selectbackground){_b.selectbackground=_g;this.on_apply_style_selectbackground(_g);}_g=null;var _h=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_h!=_b.rtlimagemirroring){_b.rtlimagemirroring=_h;this.on_apply_style_rtlimagemirroring(_h);}_h=null;};_pEdit.on_create_custom_style=function(){return new nexacro.Edit_Style(this);};_pEdit.on_create_custom_currentStyle=function(){return new nexacro.Edit_CurrentStyle();};_pEdit.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a,"value");}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a,"value");}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a,"value");}return (_b)?_b:nexacro.Component._default_cursor;};_pEdit.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");return (_b)?_b:nexacro.Component._default_left_align;};_pEdit.on_find_CurrentStyle_caretcolor=function(_a){return this._find_pseudo_obj("caretcolor",_a,"color");};_pEdit.on_find_CurrentStyle_compositecolor=function(_a){return this._find_pseudo_obj("compositecolor",_a,"color");};_pEdit.on_find_CurrentStyle_selectcolor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a,"color");if(!_b){if(_a=="focused"){_b=nexacro.Edit._focused_selectcolor;}else{_b=nexacro.Edit._default_selectcolor;}}return _b;};_pEdit.on_find_CurrentStyle_selectbackground=function(_a){var _b=this._find_pseudo_obj("selectbackground",_a,"background");return (_b)?_b:nexacro.Edit._default_selectbackground;};_pEdit.on_update_style_cursor=function(){var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this.currentstyle.cursor=_a;this.on_apply_style_cursor(_a);};_pEdit.on_update_style_caretcolor=function(){var _a=this.on_find_CurrentStyle_caretcolor(this._pseudo);this.currentstyle.caretcolor=_a;this.on_apply_style_caretcolor(_a);};_pEdit.on_update_style_compositecolor=function(){var _a=this.on_find_CurrentStyle_compositecolor(this._pseudo);this.currentstyle.compositecolor=_a;this.on_apply_style_compositecolor(_a);};_pEdit.on_update_style_selectcolor=function(){var _a=this.on_find_CurrentStyle_selectcolor(this._pseudo);this.currentstyle.selectcolor=_a;this.on_apply_style_selectcolor(_a);};_pEdit.on_update_style_selectbackground=function(){var _a=this.on_find_CurrentStyle_selectbackground(this._pseudo);this.currentstyle.selectbackground=_a;this.on_apply_style_selectbackground(_a);};_pEdit.on_apply_style_color=function(_a){var _b=this._input_element;if(_b){_b.setElementColor(_a);}};_pEdit.on_apply_style_font=function(_a){if(_a==null){this.currentstyle.font=nexacro.Component._default_font;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_c.setElementFont(_a);_b.setPosition();_b._apply_style(_c);}};_pEdit.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._input_element;if(_c){_c.setElementCursor(_a);}}};_pEdit.on_apply_style_align=function(_a){if(_a==null){_a=nexacro.Component._default_left_align;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_b.setPosition();_b._apply_style(_c);}};_pEdit.on_apply_style_caretcolor=function(_a){};_pEdit.on_apply_style_compositecolor=function(_a){};_pEdit.on_apply_style_selectbackground=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectBackgroundColor(_a);}};_pEdit.on_apply_style_selectcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectColor(_a);}};_pEdit.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this._input_element){this._input_element.setElementAccessibilityRole(_a.role);}};_pEdit.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._input_element=new nexacro.InputElement(_a);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlign(_b.align);_c.setElementSelectColor(_b.selectcolor);_c.setElementSelectBackgroundColor(_b.selectbackground);}};_pEdit.on_created_contents=function(){var _a=this._input_element;var _b=this._edit_base_api;if(_a){var _c=nexacro._toString(this.value);var _d=this.currentstyle;_a.setElementReadonly(this.readonly);_a.setElementMaxLength(this.maxlength);_a.setElementUseIme(this.useime);_a.setElementImeMode(this.imemode);_a.setElementEnable(this._isEnable());if(this.password){_a.setElementPassword(this.password);}else{_a.setElementInputType(this.inputtype);}if(_b){_b.setValue(_c);}_a.create();this.on_apply_lengthunit();_a._bindEvent(_a);if(_b){_b.setPosition();}if(nexacro._isDesktop()&&(nexacro.Browser=="Chrome"||nexacro.Browser=="Safari")){this.setCaretPos(0);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_a._setElementInputLabel();}this.on_apply_prop_rtldirection();this.on_apply_displaynulltext();if(_d&&_d.cursor){this.on_apply_style_cursor(_d.cursor);}}};_pEdit.on_destroy_contents=function(){var _a=this._input_element;if(_a){_a._unBindEvent();_a.destroy();this._input_element=null;}var _b=this._edit_base_api;if(_b){_b._destroy();this._edit_base_api=null;}if(application._input_paste_comp==this){application._input_paste_comp=null;}this._caret_pos=null;};_pEdit.on_change_containerRect=function(_a,_b){var _c=this._input_element;var _d=this._edit_base_api;if(_c&&_d){_d.setPosition();_d._apply_style(_c);}};_pEdit.on_getBindableProperties=function(){return "value";};_pEdit.on_apply_prop_enable=function(_a){var _b=this._input_element;if(_b){_b.setElementEnable(_a);this.on_apply_style_cursor(this.currentstyle.cursor);}};_pEdit.on_apply_custom_setfocus=function(_a){var _b=this._input_element;var _c=this._edit_base_api;if(_b){if(_c){_c._changeFocusText(_b);_c._bChangeFocusText=true;}_b.setElementFocus();}};_pEdit.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){var _d=this._edit_base_api;if(_d){if(_d._undoStack){_d._undoStack.init();}}this._setValue(undefined);return true;}};_pEdit.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=this._edit_base_api;var _h=this._input_element;if(_g){var _i=_g._getFocusValue();if(_h){if(_f===this.value&&_f===_g._value&&_f===_h.value){if(_i!=_f){_g._setFocusValue();}return true;}if(this._textchanging){return true;}}if(_g._undoStack){_g._undoStack.init();}}this._setValue(_f);if(_g&&_h){if(nexacro._checkActiveElement(_h)){if(_i!=_f){_g._setFocusValue();}}}return true;}return false;};_pEdit.on_get_style_accessibility_label=function(){var _a="";return _a;};_pEdit._on_getAccessibilityAdditionalLabel=function(){if(this._edit_base_api){return this._edit_base_api._on_getAccessibilityAdditionalLabel();}};_pEdit._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this._input_element&&this._status!="focus"){if(!this._input_element._wantAccessibilityAdditionalLabel||!this._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pEdit._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){return "";}else{return _b;}};_pEdit._setAccessibilityStatFocus=function(_a){if(this._input_element){var _b=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_b="none";}this._input_element.setElementAccessibilityRole(_b);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pEdit._setAccessibilityNotifyEvent=function(_a){if(this._edit_base_api){this._edit_base_api._setAccessibilityNotifyLabel();}return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pEdit.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._edit_base_api;if(_a){_a.setPosition();}};_pEdit.set_text=function(_a,_b){};_pEdit.set_value=function(_a){var _b=_a;_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.value){var _c=this._getRootForm();var _d=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_d){var _e=_d._accept_keyinput_event;_d._accept_keyinput_event=false;this._setValue(_a);_d._accept_keyinput_event=_e;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_c&&_c._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}if(typeof _b=="number"){this.value=parseFloat(_a);}}};_pEdit.on_apply_value=function(){var _a=this._edit_base_api;if(_a){_a.setValue(this.value);_a.syncValue();}this._refreshAccessibilityValue();};_pEdit.set_displaynulltext=function(_a){var _b=nexacro._isNull(_a);if(_b){_a="";}else{_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pEdit.on_apply_displaynulltext=function(){var _a=this._input_element;if(_a){_a.setElementDisplayNullText(this.displaynulltext);}};_pEdit.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pEdit.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _b=this._input_element;if(_b){_b.setElementReadonly(_a);}};_pEdit.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;}};_pEdit.set_autoskip=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoskip){this.autoskip=_a;}};_pEdit.on_apply_autoskip=function(){var _a=this._getRootComponent(this);var _b=this._refform.getNextComponent(_a,true);if(_b){_b.setFocus();var _c=_b._edit_base_api?_b._edit_base_api:null;if(_c){_b.setCaretPos(_c._begin_pos);}}};_pEdit.set_imemode=function(_a){_a=nexacro._toString(_a);this.imemode=_a;this.on_apply_imemode();};_pEdit.on_apply_imemode=function(){var _a=this._input_element;if(_a){_a.setElementImeMode(this.imemode);}};_pEdit.set_inputmode=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputmode){this.inputmode=_a;}};_pEdit.set_inputfilter=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputfilter){this.inputfilter=_a;this.on_apply_inputfilter();}};_pEdit.on_apply_inputfilter=function(){var _a=this._edit_base_api;if(_a){_a.setInputfilter(this.inputfilter);}};_pEdit.set_inputtype=function(_a){_a=nexacro._toString(_a);if(_a==""){_a="normal";}if(_a&&_a!=this.inputtype){this.inputtype=_a;this.on_apply_inputtype();}};_pEdit.on_apply_inputtype=function(){var _a=this._edit_base_api;if(_a){_a.setInputType(this.inputtype);_a._apply_elementtype(this._input_element);}};_pEdit.set_lengthunit=function(_a){if(_a!=this.lengthunit){this.lengthunit=_a;this.on_apply_lengthunit();}};_pEdit.on_apply_lengthunit=function(){var _a=this._edit_base_api;if(_a){_a.setLengthunit(this.lengthunit);}};_pEdit.set_maxlength=function(_a){_a=nexacro._toInt(_a);if(_a<0){_a=0;}if(_a!=this.maxlength){this.maxlength=_a;this.on_apply_maxlength();}};_pEdit.on_apply_maxlength=function(){var _a=this._input_element;if(_a){_a.setElementMaxLength(this.maxlength);}};_pEdit.set_password=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.password){this.password=_a;this.on_apply_password();}};_pEdit.on_apply_password=function(){var _a=this._input_element;if(_a){_a.setElementPassword(this.password);}};_pEdit.set_useime=function(_a){_a=nexacro._toString(_a);this.useime=_a;this.on_apply_useime();};_pEdit.on_apply_useime=function(){var _a=this._input_element;if(_a){_a.setElementUseIme(this.useime);}};_pEdit.set_useinputpanel=function(_a){};_pEdit.set_tabindentsize=function(_a){};_pEdit.set_updatebindingvalue=function(_a){};_pEdit.set_usecontextmenu=function(_a){};_pEdit.getLength=function(_a){var _b=this._edit_base_api;if(_b){if(!_a){_a=this.lengthunit;}return _b.getLength(this._input_element,this.value,false,null,_a);}return  -1;};_pEdit.getCaretPos=function(){if(this.readonly){return  -1;}var _a=this._input_element;if(_a){if(!_a._checkActiveElement()){return  -1;}var _b=_a.getElementCaretPos();if(_b&&_b!= -1){return _b.begin;}}return  -1;};_pEdit.getInputElementAttribute=function(_a){var _b=this._input_element;if(_b){return _b.getInputElementAttribute(_a);}return undefined;};_pEdit.setInputElementAttribute=function(_a,_b){var _c=this._input_element;if(_c){return _c.setInputElementAttribute(_a,_b);}return false;};_pEdit.setCaretPos=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){this._caret_pos.org_begin=_a;this._caret_pos.org_end=_a;if(arguments.length==0){_a=0;}else{_a=nexacro._toInt(_a);if(_a== -1){if(_a){_a=this.value.length;}else{_a=0;}}}_c.setElementSetSelect(_a,_a);_b._begin_pos=_b._end_pos=_a;this._caret_pos.begin=_a;this._caret_pos.end=_a;this._setcaret=true;return true;}return false;};_pEdit.getSelect=function(){var _a=this._edit_base_api;if(_a){var _b=_a._begin_pos!==undefined?_a._begin_pos:0;var _c=_a._end_pos!==undefined?_a._end_pos:0;return [_b,_c];}else{return [0,0];}};_pEdit.setSelect=function(_a,_b){var _c=this._input_element;if(_c){var _d=this._edit_base_api;var _e=this.text?this.text:"";var _f=_e.length;this._caret_pos.org_begin=_a;this._caret_pos.org_end=_b;if(nexacro._isNull(_a)||_a===""){_a=0;}if(nexacro._isNull(_b)||_b===""){_b= -1;}if(!nexacro._isNumber(_a)){_a=nexacro._toInt(_a);}if(!nexacro._isNumber(_b)){_b=nexacro._toInt(_b);}if(_a== -1){_a=_f;}if(_b== -1){_b=_f;}if(_a>_b){var _g=_a;_a=_b;_b=_g;}_d._begin_pos=_a;_d._end_pos=_b;this._caret_pos.begin=_a;this._caret_pos.end=_b;this._setcaret=true;if(_c._checkActiveElement()){_c.setElementSetSelect(_a,_b);}else{_c.setElementSetSelect(_a,_b);}return true;}return false;};_pEdit.getSelectedText=function(){var _a=this._edit_base_api;var _b=this._input_element;if(_a){var _c=_a._begin_pos!==undefined?_a._begin_pos:0;var _d=_a._end_pos!==undefined?_a._end_pos:0;var _e=_a._getText();if(_b&&!_b._is_focused){_c=this._old_selection[0];_d=this._old_selection[1];}if(_e&&(_c!=_d)){return _e.substring(_c,_d);}else{return "";}}return "";};_pEdit.setSelectedText=function(_a){_a=nexacro._toString(_a);var _b=this._edit_base_api;var _c=this._input_element;if(_b){if(!_c._is_focused){_c._bFireSelectEvent=false;_c.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}var _d=_b.setSelectText(this._input_element,_a);if(_d&&!_c._is_focused){var _e=_b._getFocusText();var _f=_b._getFocusValue();var _g=_b._getText();var _h=_b._getValue();this._on_fire_changeEventSet(_e,_f,_g,_h);this._restoreSelect();this._cancelSelect();}_c._bFireSelectEvent=true;return _d;}return "";};_pEdit.isAboveSelected=function(){};_pEdit.updateToDataset=function(){var _a=this.applyto_bindSource("value",this.value);if(this._textchanging){this._dsupdate_in_textchanging=true;if(!_a){this._dsupdate_cancel=true;}else{this._dsupdate_cancel=false;}}else{this._dsupdate_in_textchanging=false;}return _a;};_pEdit._on_activate=function(){if(!this._isSelected()){this._stat_change("focus","normal");}this._activate_flag=true;};_pEdit._on_killfocus=function(_a,_b){if(!this._is_alive){return;}var _c=this._edit_base_api;var _d=this._input_element;if(_c&&_d){var _e=_c._getFocusText();var _f=_c._getFocusValue();var _g=_c._getText();var _h=_c._getValue();if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&!_d._is_focused){if(_e!=_g){this.applyto_bindSource("value",this.value);}return;}_c._is_on_killfocus=true;this._on_input_blur(_d);_c._is_on_killfocus=false;if(_e!=_g||(application._is_input_paste&&this==application._input_paste_comp)){application._is_input_paste=false;application._input_paste_comp=null;var _i=this._getWindow();if(_i&&_i._is_active_window!=true&&!_a){_d.setElementValue(_c._value,false,true);return;}var _j=this._on_fire_changeEventSet(_e,_f,_g,_h);if(!_j){return;}}else if(_f===undefined&&_e==_g){_c._setValue(undefined);_c._setText("");_c.syncValue();_d.setElementValue(_c._value);}else{_d.setElementValue(_c._value,false,true);}this._restoreSelect();this._cancelSelect();}};_pEdit._cancelSelect=function(){var _a=this._edit_base_api;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_a._is_selected()){if(this.visible){var _b=this._getRootForm();var _c=_b.getElement();if(_b.vscrollbar){_c._recover_vpos=_b.vscrollbar.pos;}if(_b.hscrollbar){_c._recover_hpos=_b.hscrollbar.pos;}this.setCaretPos(_a._begin_pos);if(nexacro.BrowserVersion<=8){_c._recover_vpos=undefined;_c._recover_hpos=undefined;}}else{this.setCaretPos(_a._begin_pos);}}}};_pEdit._restoreSelect=function(){this._old_selection=this.getSelect();};_pEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j=this.getCaretPos();var _k=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_j,_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pEdit._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}};_pEdit._on_input_focus=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_focus(_a,_b);}};_pEdit._on_input_blur=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_blur(_a,_b);}};_pEdit._on_input_keydown=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keydown(_a,_b,_c,_d,_e);}return _f;};_pEdit._on_input_keyup=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keyup(_a,_b,_c,_d,_e);}return _f;};_pEdit._on_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._edit_base_api;if(_h){_g=_h._on_input_keypress(_a,_b,_c,_d,_e,_f);}return _g;};_pEdit._on_input_mousedown=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mousedown(_a,_b,_c,_d);}};_pEdit._on_input_mouseup=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mouseup(_a,_b,_c,_d);}};_pEdit._on_input_mousemove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_mousemove(_a);}};_pEdit._on_input_touchstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchstart(_a);}};_pEdit._on_input_touchmove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchmove(_a);}};_pEdit._on_input_touchend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchend(_a);}};_pEdit._on_input_select=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_select(_a);}};_pEdit._on_input_copy=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_copy(_a);}};_pEdit._on_input_cut=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_cut(_a);}};_pEdit._on_input_paste=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_paste(_a);}};_pEdit._on_input_compositionstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionstart(_a);}};_pEdit._on_input_compositionupdate=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionupdate(_a);}};_pEdit._on_input_compositionend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionend(_a);}};_pEdit.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pEdit.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pEdit.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}};_pEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(_a,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.oneditclick._fireEvent(this,_o);}return true;};_pEdit.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(_a,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pEdit.on_fire_ontextchange=function(_a,_b){if(this.ontextchange&&this.ontextchange._has_handlers){if(!_b){var _b=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}return this.ontextchange._fireCheckEvent(this,_b);}return true;};_pEdit.on_fire_onchar=function(_a,_b){if(this.onchar&&this.onchar._has_handlers){if(!_b){var _b=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}return this.onchar._fireCheckEvent(this,_b);}return true;};_pEdit._on_fire_textchangeEventSet=function(_a){var _b=_a.chartext;var _c=_a.chartext;var _d=false;var _e=_a.bInsert;var _f=_a.bCut;var _g=true;var _h=true;var _i=true;var _j=false;var _k=false;var _l=true;var _m="";var _n="";var _o=this._edit_base_api;var _p=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);var _q=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);this._setcaret=false;_r=this.on_fire_ontextchange(_a,_p);if(_r){if(_b!=_p.chartext){_j=true;_c=_p.chartext;}if(this._setcaret){_o.restoreBuffer(_o._old_text,_o._old_begin_pos,_o._old_end_pos);_o.syncValue();this.setSelect(this._caret_pos.org_begin,this._caret_pos.org_end);_o.clearBuffer(_o._text,_o._begin_pos,_o._end_pos);_m=_o._text.substr(0,_o._begin_pos);_n=_o._text.substr(_o._end_pos,_o._text.length-_o._end_pos);_a.posttext=_m+_c+_n;this._setcaret=false;_k=true;}if(!_o._is_composition()){_r=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_r){_r=this.on_fire_onchar(_a,_q);if(!_r){_i=false;}if(_b!=_q.chartext){_c=_q.chartext;}}else{_i=false;_h=false;}}else{_l=false;}if(_b!=_c){var _s=_o.applyInputmode(_c);_s=_o._apply_inputfilter(_c);_s=_o._apply_inputtype(_c);if(_c.length>0&&_s.length==0){_d=true;}if(!_d){_e=_o._check_maxlength_from_text_event(_s);if(!_e){_s="";}else{_s=_o._apply_maxlength_from_text_event(_s);if(_s!=_c.chartext){_f=true;}}}_a.chartext=_s;_m=_a.pretext.substr(0,_o._begin_pos);_n=_a.pretext.substr(_o._end_pos,_a.pretext.length-_o._end_pos);_a.posttext=_m+_s+_n;if(_j&&_i&&_h){_r=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_r){evt=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);_r=this.on_fire_onchar(_a);if(!_r){_i=false;}}else{_i=false;_h=false;}}}}else{_g=false;}var _r={bTextchangeRet:_g,bCancahrchangeRet:_h,bOncharRet:_i,fireCancharEvent:_l,bChangeInputValue:_k,bInsert:_e,bCut:_f};return _r;};_pEdit._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=this._edit_base_api;var _f=this._input_element;this._textchanging=true;var _g=this.on_fire_canchange(this,_a,_b,_c,_d);if(!_g){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_f.setElementValue(_e._value,false,true);if(this._dsupdate_cancel||(!this._dsupdate_in_textchanging&&!this.applyto_bindSource("value",this.value))){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_e._setFocusValue();this.on_fire_onchanged(this,_a,_b,this.text,this.value);this._init_bind_flag();return true;};_pEdit._init=function(){var _a=this._edit_base_api;if(_a){_a._init();}this.set_value(undefined);};_pEdit._init_bind_flag=function(){this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;};_pEdit._getDragData=function(){return this.getSelectedText();};_pEdit._setValue=function(_a){if(nexacro._isNull(_a)){this.text="";}else{this.text=nexacro._toString(_a);}this.value=_a;this.on_apply_value();};_pEdit._accept_keydown_event=function(_a){return true;};_pEdit._recreateInputElement=function(){var _a=this._input_element;if(_a){_a._destroyInputHandle();_a._input_handle=_a._createInputHandle();_a._bindEvent(_a);}};_pEdit._accept_keydown_event=function(_a){return true;};_pEdit._set_editbase_focusstat=function(_a){var _b=this._edit_base_api;if(_b){switch(_a){case "focus":_b._stat_focus.setStatus(nexacro.EditBase.Status.Focus);break;case "blur":_b._stat_focus.setStatus(nexacro.EditBase.Status.Blur);break;default:_b._stat_focus.setStatus(_a);break;};}};delete _pEdit;_pEdit=null;nexacro.EditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Edit.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pEditCtrl=nexacro._createPrototype(nexacro.Edit,nexacro.EditCtrl);nexacro.EditCtrl.prototype=_pEditCtrl;_pEditCtrl._type_name="EditControl";nexacro._setForControlStyleFinder(_pEditCtrl);delete _pEditCtrl;_pEditCtrl=null;};if(!nexacro.MaskEdit){nexacro.MaskEdit_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.caretcolor=null;this.compositecolor=null;};var _pMaskEditStyle=nexacro._createPrototype(nexacro.Style,nexacro.MaskEdit_Style);nexacro.MaskEdit_Style.prototype=_pMaskEditStyle;eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","caretcolor"));eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","compositecolor"));eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","selectcolor"));eval(nexacro._createColorAttributeEvalStr("_pMaskEditStyle","selectbackground"));_pMaskEditStyle.__custom_emptyObject=function(){this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;};_pMaskEditStyle.__get_custom_style_value=function(){var _a="";if(this.caretcolor&&!this.caretcolor._is_empty){_a+="caretcolor:"+this.caretcolor._value+"; ";}if(this.compositecolor&&!this.compositecolor._is_empty){_a+="compositecolor:"+this.compositecolor._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}return _a;};nexacro.MaskEdit_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;};var _pMaskEditCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.MaskEdit_CurrentStyle);nexacro.MaskEdit_CurrentStyle.prototype=_pMaskEditCurrentStyle;_pMaskEditCurrentStyle.__custom_emptyObject=_pMaskEditStyle.__custom_emptyObject;_pMaskEditCurrentStyle.__get_custom_style_value=_pMaskEditStyle.__get_custom_style_value;delete _pMaskEditStyle;delete _pMaskEditCurrentStyle;_pMaskEditStyle=null;_pMaskEditCurrentStyle=null;nexacro.MaskEdit=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.type="number";this.limitbymask="decimal";this.trimtype="none";this.value=undefined;this.text="";this.displaynulltext="";this.readonly=false;this.autoselect=false;this.autoskip=false;this.clipmode="includespace";this.mask="";this.maskchar="_";this.updatebindingvalue="default";this.useinputpanel=true;this.usecontextmenu=true;this._activate_flag=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ontextchange":1,"ontextchanged":1,"oncontextmenu":1,"onfling":1,"onflingstart":1,"onflingend":1,"onpinch":1,"onpinchstart":1,"onpinchend":1,"onslide":1,"onslidestart":1,"onslideend":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onlongpress":1};this._input_element=null;this._edit_base_api=null;this._accessibility_role="edit";this._caret_pos={begin: -1,end: -1};this._setcaret=false;this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;this._has_inputElement=true;this._locale="";};var _pMaskEdit=nexacro._createPrototype(nexacro.Component,nexacro.MaskEdit);nexacro.MaskEdit.prototype=_pMaskEdit;_pMaskEdit._type_name="MaskEdit";_pMaskEdit.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a)||nexacro.Component._default_left_align;if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_d!=_b.font){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_e!=_b.color){_b.color=_e;this.on_apply_style_color(_e);}_e=this.on_find_CurrentStyle_caretcolor(_a);if(_e!=_b.caretcolor){_b.caretcolor=_e;this.on_apply_style_caretcolor(_e);}_e=this.on_find_CurrentStyle_compositecolor(_a);if(_e!=_b.compositecolor){_b.compositecolor=_e;this.on_apply_style_compositecolor(_e);}_e=this.on_find_CurrentStyle_selectcolor(_a);if(_e!=_b.selectcolor){_b.selectcolor=_e;this.on_apply_style_selectcolor(_e);}_e=this.on_find_CurrentStyle_selectbackground(_a);if(_e!=_b.selectbackground){_b.selectbackground=_e;this.on_apply_style_selectbackground(_e);}var _f=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_f!=_b.rtlimagemirroring){_b.rtlimagemirroring=_f;this.on_apply_style_rtlimagemirroring(_f);}};_pMaskEdit.on_create_custom_style=function(){return new nexacro.MaskEdit_Style(this);};_pMaskEdit.on_create_custom_currentStyle=function(){return new nexacro.MaskEdit_CurrentStyle();};_pMaskEdit.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a,"value");}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a,"value");}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a,"value");}return (_b)?_b:nexacro.Component._default_cursor;};_pMaskEdit.on_find_CurrentStyle_caretcolor=function(_a){return this._find_pseudo_obj("caretcolor",_a,"color");};_pMaskEdit.on_find_CurrentStyle_compositecolor=function(_a){return this._find_pseudo_obj("compositecolor",_a,"color");};_pMaskEdit.on_find_CurrentStyle_selectcolor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a,"color");if(!_b){if(_a=="focused"){_b=nexacro.Edit._focused_selectcolor;}else{_b=nexacro.Edit._default_selectcolor;}}return _b;};_pMaskEdit.on_find_CurrentStyle_selectbackground=function(_a){var _b=this._find_pseudo_obj("selectbackground",_a,"background");return (_b)?_b:nexacro.Edit._default_selectbackground;};_pMaskEdit.on_update_style_cursor=function(){var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this.currentstyle.cursor=_a;this.on_apply_style_cursor(_a);};_pMaskEdit.on_update_style_caretcolor=function(){var _a=this.on_find_CurrentStyle_caretcolor(this._pseudo);this.currentstyle.caretcolor=_a;this.on_apply_style_caretcolor(_a);};_pMaskEdit.on_update_style_compositecolor=function(){var _a=this.on_find_CurrentStyle_compositecolor(this._pseudo);this.currentstyle.compositecolor=_a;this.on_apply_style_compositecolor(_a);};_pMaskEdit.on_update_style_selectcolor=function(){var _a=this.on_find_CurrentStyle_selectcolor(this._pseudo);this.currentstyle.selectcolor=_a;this.on_apply_style_selectcolor(_a);};_pMaskEdit.on_update_style_selectbackground=function(){var _a=this.on_find_CurrentStyle_selectbackground(this._pseudo);this.currentstyle.selectbackground=_a;this.on_apply_style_selectbackground(_a);};_pMaskEdit.on_apply_style_color=function(_a){var _b=this._input_element;if(_b){_b.setElementColor(_a);}};_pMaskEdit.on_apply_style_font=function(_a){if(_a==null){_a=nexacro.Component._default_font;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_c.setElementFont(_a);_b.setPosition();_b._apply_style(_c);}};_pMaskEdit.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._input_element;if(_c){_c.setElementCursor(_a);}}};_pMaskEdit.on_apply_style_align=function(_a){if(_a==null){_a=nexacro.Component._default_left_align;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_b.setPosition();_b._apply_style(_c);}};_pMaskEdit.on_apply_style_caretcolor=function(_a){};_pMaskEdit.on_apply_style_compositecolor=function(_a){};_pMaskEdit.on_apply_style_selectbackground=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectBackgroundColor(_a);}};_pMaskEdit.on_apply_style_selectcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectColor(_a);}};_pMaskEdit.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this._input_element){this._input_element.setElementAccessibilityRole(_a.role);}};_pMaskEdit.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._input_element=new nexacro.InputElement(_a);if(this.type=="number"){this._edit_base_api=new nexacro.EditMaskNumber(this);}else{this._edit_base_api=new nexacro.EditMaskString(this);}var _c=this.currentstyle;_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlign(_c.align);_b.setElementSelectColor(_c.selectcolor);_b.setElementSelectBackgroundColor(_c.selectbackground);}};_pMaskEdit.on_created_contents=function(_a){this._default_align=this._default_left_align;var _b=this._edit_base_api;var _c=this._input_element;if(_c){var _d=this.currentstyle;this.on_apply_limitbymask();this.on_apply_trimtype();this.on_apply_maskchar();this.on_apply_clipmode();this.on_apply_mask();this.on_apply_value();this.on_apply_locale();_c._is_maskedit=true;_c.create();_c.setElementImeMode("disabled");_c.setElementEnable(this._isEnable());_c.setElementReadonly(this.readonly);_c._bindEvent(_c);if(_b){_b.setPosition();}if(nexacro._isDesktop()&&((nexacro.Browser=="Chrome"||nexacro.Browser=="Safari"))){this.setCaretPos(0);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_c._setElementInputLabel();}this.on_apply_prop_rtldirection();this.on_apply_displaynulltext();if(_d&&_d.cursor){this.on_apply_style_cursor(_d.cursor);}}};_pMaskEdit.on_destroy_contents=function(){var _a=this._input_element;if(_a){_a._unBindEvent();_a.destroy();this._input_element=null;}var _b=this._edit_base_api;if(_b){_b._destroy();this._edit_base_api=null;}if(application._input_paste_comp==this){application._input_paste_comp=null;}this._caret_pos=null;};_pMaskEdit.on_change_containerRect=function(_a,_b){var _c=this._input_element;var _d=this._edit_base_api;if(_c&&_d){_d.setPosition();_d._apply_style(_c);}};_pMaskEdit.on_getBindableProperties=function(){return "value";};_pMaskEdit.on_apply_prop_enable=function(_a){var _b=this._input_element;if(_b){_b.setElementEnable(_a);this.on_apply_style_cursor(this.currentstyle.cursor);}};_pMaskEdit.on_apply_custom_setfocus=function(_a){var _b=this._input_element;var _c=this._edit_base_api;if(_b&&_c){if(!(nexacro.Browser=="Gecko"&&_b._is_mousedown)){_c._changeFocusText(_b);_c._bChangeFocusText=true;_b.setElementFocus();}else{_c._bChangeFocusText=false;}}};_pMaskEdit.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){var _d=this._edit_base_api;if(_d){if(_d._undoStack){_d._undoStack.init();}}this._setValue(undefined);return true;}};_pMaskEdit.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=this._edit_base_api;var _h=this._input_element;if(_g){var _i=_g._getFocusValue();if(_h){if(_f===this.value&&_f===_g._value&&_f===_h.value){if(_i!=_f){_g._setFocusValue();}return true;}if(this._textchanging){return true;}}if(_g._undoStack){_g._undoStack.init();}}this._setValue(_f);if(_g&&_h){if(nexacro._checkActiveElement(_h)){if(_i!=_f){_g._setFocusValue();}}}return true;}return false;};_pMaskEdit.on_get_style_accessibility_label=function(){var _a="";return _a;};_pMaskEdit._on_getAccessibilityAdditionalLabel=function(){if(this._edit_base_api){return this._edit_base_api._on_getAccessibilityAdditionalLabel();}return "";};_pMaskEdit._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this._input_element&&this._status!="focus"){if(!this._input_element._wantAccessibilityAdditionalLabel||!this._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pMaskEdit._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){return "";}else{return _b;}};_pMaskEdit._setAccessibilityStatFocus=function(_a){if(this._input_element){var _b=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_b="none";}this._input_element.setElementAccessibilityRole(_b);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pMaskEdit._setAccessibilityNotifyEvent=function(_a){if(this._edit_base_api){this._edit_base_api._setAccessibilityNotifyLabel();}return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pMaskEdit.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._edit_base_api;if(_a){_a.setPosition();}};_pMaskEdit.set_text=function(_a,_b){};_pMaskEdit.set_value=function(_a){_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.value){var _b=this._getRootForm();var _c=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_c){var _d=_c._accept_keyinput_event;_c._accept_keyinput_event=false;this._setValue(_a);_c._accept_keyinput_event=_d;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_b&&_b._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}}};_pMaskEdit.on_apply_value=function(){var _a=this._edit_base_api;if(_a){_a.setValue(this.value);_a.syncValue();}this._refreshAccessibilityValue();};_pMaskEdit.set_displaynulltext=function(_a){var _b=nexacro._isNull(_a);if(_b){_a="";}else{_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pMaskEdit.on_apply_displaynulltext=function(){var _a=this._input_element;if(_a){_a.setElementDisplayNullText(this.displaynulltext);}};_pMaskEdit.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pMaskEdit.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _b=this._input_element;if(_b){_b.setElementReadonly(_a);}};_pMaskEdit.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;}};_pMaskEdit.set_autoskip=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoskip){this.autoskip=_a;}};_pMaskEdit.on_apply_autoskip=function(){var _a=this._getRootComponent(this);var _b=this._refform.getNextComponent(_a,true);if(_b){_b.setFocus();var _c=_b._edit_base_api?_b._edit_base_api:null;if(_c){_b.setCaretPos(_c._begin_pos);}}};_pMaskEdit.set_clipmode=function(_a){_a=nexacro._toString(_a);if(_a!=this.clipmode){this.clipmode=_a;this.on_apply_clipmode();}};_pMaskEdit.on_apply_clipmode=function(){var _a=this._edit_base_api;if(_a&&this.type=="string"){if(this.clipmode=="includespace"){_a._FillMaskChar=" ";}else{_a._FillMaskChar=undefined;}}};_pMaskEdit.set_limitbymask=function(_a){_a=nexacro._toString(_a);if(_a!=this.limitbymask){this.limitbymask=_a;this.on_apply_limitbymask();}};_pMaskEdit.on_apply_limitbymask=function(){var _a=this._edit_base_api;if(_a&&this.type=="number"){if(this.limitbymask=="both"){_a._nLimitType=3;}else if(this.limitbymask=="integer"){_a._nLimitType=1;}else if(this.limitbymask=="decimal"){_a._nLimitType=2;}else{_a._nLimitType=0;}}};_pMaskEdit.set_mask=function(_a,_b){_a=nexacro._toString(_a);if(_a!=this.mask){this.mask=_a;this.on_apply_mask();if(_b!==false){this.on_apply_value();}}};_pMaskEdit.on_apply_mask=function(){var _a=this._edit_base_api;if(_a){var _b=this.mask;if(!_b){_b="";}_a.setMask(_b);}};_pMaskEdit.set_maskchar=function(_a){_a=nexacro._toString(_a);if(_a==""){_a="_";}if(_a!=this.maskchar){this.maskchar=_a;this.on_apply_maskchar();this.on_apply_value();}};_pMaskEdit.on_apply_maskchar=function(){var _a=this._edit_base_api;if(_a&&this.type=="string"){var _b=this.maskchar;if(_b&&_b.length>0){_a._cMaskChar=_b;}else{_a._cMaskChar=undefined;}}};_pMaskEdit.set_trimtype=function(_a){_a=nexacro._toString(_a);if(_a!=this.trimtype){this.trimtype=_a;this.on_apply_trimtype();}};_pMaskEdit.on_apply_trimtype=function(){var _a=this._edit_base_api;if(_a&&this.type=="string"){if(this.trimtype=="left"){_a._nTrimType=1;}else if(this.trimtype=="right"){_a._nTrimType=2;}else if(this.trimtype=="both"){_a._nTrimType=3;}else{_a._nTrimType=0;}}};_pMaskEdit.set_type=function(_a){_a=nexacro._toString(_a);if(_a!=this.type){this.type=_a;this.on_apply_type();this.on_apply_limitbymask();this.on_apply_trimtype();this.on_apply_maskchar();this.on_apply_clipmode();this.on_apply_displaynulltext();this.on_apply_mask();this.on_apply_value();}};_pMaskEdit.on_apply_type=function(){var _a=this.getElement();if(_a){if(this.type=="number"){this._edit_base_api=null;this._edit_base_api=new nexacro.EditMaskNumber(this);}else{this._edit_base_api=null;this._edit_base_api=new nexacro.EditMaskString(this);}}};_pMaskEdit.set_useinputpanel=function(_a){};_pMaskEdit.set_updatebindingvalue=function(_a){};_pMaskEdit.set_usecontextmenu=function(_a){};_pMaskEdit.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pMaskEdit.on_apply_locale=function(){var _a=this._edit_base_api;if(_a){var _b=this._getLocale();_a._setLocale(_b);this.on_apply_value();}};_pMaskEdit.getLength=function(){var _a=this._input_element;if(_a){var _b=this._edit_base_api;var _c=_b.getValue();if(_c){var _d=_c.length;if(this.type=="number"){if( -1!=_c.indexOf("-",0)){_d-=1;}if( -1!=_c.indexOf(".",0)){_d-=1;}}return _d;}else{return  -1;}}return  -1;};_pMaskEdit.getCaretPos=function(){if(this.readonly){return  -1;}var _a=this._input_element;if(_a){if(!_a._checkActiveElement()){return  -1;}var _b=_a.getElementCaretPos();if(_b&&_b!= -1){return _b.begin;}}return  -1;};_pMaskEdit.getInputElementAttribute=function(_a){var _b=this._input_element;if(_b){return _b.getInputElementAttribute(_a);}return undefined;};_pMaskEdit.setInputElementAttribute=function(_a,_b){var _c=this._input_element;if(_c){return _c.setInputElementAttribute(_a,_b);}return false;};_pMaskEdit.setCaretPos=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){if(arguments.length==0){_a=0;}else{_a=nexacro._toInt(_a);if(_a== -1){if(_a){_a=this.text.length;}else{_a=0;}}}_c.setElementSetSelect(_a,_a);_b._begin_pos=_b._end_pos=_a;this._caret_pos.begin=_a;this._caret_pos.end=_a;this._setcaret=true;return true;}return false;};_pMaskEdit.getSelect=function(){var _a=this._input_element;if(_a){var _b=this._edit_base_api;var _c=_b._begin_pos!==undefined?_b._begin_pos:0;var _d=_b._end_pos!==undefined?_b._end_pos:0;return [_c,_d];}else{return [0,0];}};_pMaskEdit.setSelect=function(_a,_b){var _c=this._input_element;if(_c){var _d=this._edit_base_api;var _e=this.text?this.text:"";var _f=_e.length;if(nexacro._isNull(_a)||_a===""){_a=0;}if(nexacro._isNull(_b)||_b===""){_b= -1;}if(!nexacro._isNumber(_a)){_a=nexacro._toInt(_a);}if(!nexacro._isNumber(_b)){_b=nexacro._toInt(_b);}if(_a== -1){_a=_f;}if(_b== -1){_b=_f;}if(_a>_b){var _g=_a;_a=_b;_b=_g;}_d._begin_pos=_a;_d._end_pos=_b;this._caret_pos.begin=_a;this._caret_pos.end=_b;this._setcaret=true;_c.setElementSetSelect(_a,_b);return true;}return false;};_pMaskEdit.getSelectedText=function(){var _a=this._input_element;if(_a){var _b=this._edit_base_api;var _c=_b._begin_pos!==undefined?_b._begin_pos:0;var _d=_b._end_pos!==undefined?_b._end_pos:0;var _e=_b._getText();if(_e&&(_c!=_d)){return _e.substring(_c,_d);}else{return "";}}return "";};_pMaskEdit.isAboveSelected=function(){};_pMaskEdit.updateToDataset=function(){var _a=this.applyto_bindSource("value",this.value);if(this._textchanging){this._dsupdate_in_textchanging=true;if(!_a){this._dsupdate_cancel=true;}else{this._dsupdate_cancel=false;}}else{this._dsupdate_in_textchanging=false;}return _a;};_pMaskEdit._on_activate=function(){var _a=this._input_element;var _b=this._edit_base_api;if(_b){_b._changeFocusText(_a);_b._bChangeFocusText=true;}if(!this._isSelected()){this._stat_change("focus","normal");}this._activate_flag=true;};_pMaskEdit._on_killfocus=function(_a,_b){if(!this._is_alive){return;}var _c=this._edit_base_api;var _d=this._input_element;if(_c&&_d){var _e=_c._getFocusText();var _f=_c._getFocusValue();var _g=this.text;var _h=this.value;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(!_d._is_focused){if(_e!=_g||_f!=_h){this.applyto_bindSource("value",this.value);}return;}if(_c._is_composition()){var _i=_c._stat_composition.getData();_c._on_input_compositionend(_i);if(!_c._is_hangul(_i)){_c._fire_text_event(_i);}}}_c._is_on_killfocus=true;this._on_input_blur(_d);_c._is_on_killfocus=false;if(_e!=_g||_f!=_h||(application._is_input_paste&&this==application._input_paste_comp)){application._is_input_paste=false;application._input_paste_comp=null;var _j=this._getWindow();if(_j&&_j._is_active_window!=true&&!_a){_d.setElementValue(_c._value,false,true);return;}var _k=this._on_fire_changeEventSet(_e,_f,_g,_h);if(!_k){return;}}else if(_f===undefined&&_e==_g&&!this._isPasswordUsed(_c)){_c._setValue(undefined);_c._setText(_e);_c.syncValue();_d.setElementValue(_c._value);}else{_d.setElementValue(_c._value,false,true);}this._cancelSelect();}};_pMaskEdit._cancelSelect=function(){var _a=this._edit_base_api;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_a._is_selected()){if(this.visible){var _b=this._getRootForm();var _c=_b.getElement();if(_b.vscrollbar){_c._recover_vpos=_b.vscrollbar.pos;}if(_b.hscrollbar){_c._recover_hpos=_b.hscrollbar.pos;}this.setCaretPos(_a._begin_pos);if(nexacro.BrowserVersion<=8){_c._recover_vpos=undefined;_c._recover_hpos=undefined;}}else{this.setCaretPos(_a._begin_pos);}}}};_pMaskEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this._isEnable()&&this.enableevent){var _j=this.getCaretPos();var _k=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_j,_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pMaskEdit._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}};_pMaskEdit._on_input_focus=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_focus(_a);}};_pMaskEdit._on_input_blur=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_blur(_a);}};_pMaskEdit._on_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._edit_base_api;if(_h){_g=_h._on_input_keypress(_a,_b,_c,_d,_e,_f);}return _g;};_pMaskEdit._on_input_keydown=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keydown(_a,_b,_c,_d,_e);}return _f;};_pMaskEdit._on_input_keyup=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keyup(_a,_b,_c,_d,_e);}return _f;};_pMaskEdit._on_input_mousedown=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mousedown(_a,_b,_c,_d);}};_pMaskEdit._on_input_mouseup=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mouseup(_a,_b,_c,_d);}};_pMaskEdit._on_input_touchstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchstart(_a);}};_pMaskEdit._on_input_touchmove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchmove(_a);}};_pMaskEdit._on_input_touchend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchend(_a);}};_pMaskEdit._on_input_mousemove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_mousemove(_a);}};_pMaskEdit._on_input_select=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_select(_a);}};_pMaskEdit._on_input_copy=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_copy(_a);}};_pMaskEdit._on_input_cut=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_cut(_a);}};_pMaskEdit._on_input_paste=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_paste(_a);}};_pMaskEdit._on_input_compositionstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionstart(_a);}};_pMaskEdit._on_input_compositionupdate=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionupdate(_a);}};_pMaskEdit._on_input_compositionend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionend(_a);}};_pMaskEdit.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pMaskEdit.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pMaskEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(_a,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.oneditclick._fireEvent(this,_o);}return true;};_pMaskEdit.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}};_pMaskEdit.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(this,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pMaskEdit.on_fire_ontextchange=function(_a){var _b=true;var _c=this._edit_base_api;var _d=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);if(this.ontextchange&&this.ontextchange._has_handlers){_b=this.ontextchange._fireCheckEvent(this,_d);if(_b&&_a.chartext!=_d.chartext){_c._setValue(_c._old_value);_c._setText(_c._old_text);_c.setElementCaretPos(_c._old_begin_pos,_c._old_end_pos);if(this.type=="number"){var _e=_c._is_maskchar(_d.chartext);if(_c.isSign(_e)){_c._apply_sign_filter(_e);}else if(_c.isComma(_e)){_c._apply_comma_filter(_e);}else if(_c.isDigit(_e)){_c._apply_digit_filter(_e);}_a.setTextInfo(_d.chartext,_c._old_text,_c._text,"","");}else if(this.type=="string"){var _f=_c.inputText(chartext);_a.setTextInfo(_d.chartext,_c._old_text,_f.newText,"","");}}}return _b;};_pMaskEdit.on_fire_onchar=function(_a){var _b=true;var _c=this._edit_base_api;var _d=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);if(this.onchar&&this.onchar._has_handlers){_b=this.onchar._fireCheckEvent(this,_d);if(_b&&_a.chartext!=_d.chartext){_c._setValue(_c._old_value);_c._setText(_c._old_text);_c.setElementCaretPos(_c._old_begin_pos,_c._old_end_pos);if(this.type=="number"){var _e=_c._is_maskchar(_d.chartext);if(_c.isSign(_e)){_c._apply_sign_filter(_e);}else if(_c.isComma(_e)){_c._apply_comma_filter(_e);}else if(_c.isDigit(_e)){_c._apply_digit_filter(_e);}_a.setTextInfo(_d.chartext,_c._old_text,_c._text,"","");}else if(this.type=="string"){var _f=_c.inputText(chartext);_a.setTextInfo(_d.chartext,_c._old_text,_f.newText,"","");}}}return _b;};_pMaskEdit._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=this._edit_base_api;var _f=this._input_element;this._textchanging=true;var _g=this.on_fire_canchange(this,_a,_b,_c,_d);if(!_g){if(this.type=="string"){if(!_b){_e._setMaskedValue(_e.makeMaskedValue(""));}else{_e._setMaskedValue(_e.makeMaskedValue(_b));}}_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}if(this.type=="string"){var _h=_e.getValue();if(!_h){_e._setMaskedValue(_e.makeMaskedValue(""));}else{_e._setMaskedValue(_e.makeMaskedValue(_h));}_e._setText(_e.makeText(_e._strMaskedValue));_e._setValue(_e.makeValue(_e._strMaskedValue));_e.syncValue();}_f.setElementValue(_e._value);if(this._dsupdate_cancel||(!this._dsupdate_in_textchanging&&!this.applyto_bindSource("value",this.value))){if(this.type=="string"){if(!_b){_e._setMaskedValue(_e.makeMaskedValue(""));}else{_e._setMaskedValue(_e.makeMaskedValue(_b));}}_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_e._setFocusValue();this.on_fire_onchanged(this,_a,_b,this.text,this.value);this._init_bind_flag();return true;};_pMaskEdit._init=function(){var _a=this._edit_base_api;if(_a){_a._init();}this.set_value(undefined);};_pMaskEdit._init_bind_flag=function(){this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;};_pMaskEdit._getDragData=function(){return this.getSelectedText();};_pMaskEdit._setValue=function(_a){if(nexacro._isNull(_a)){this.text="";}else{this.text=nexacro._toString(_a);}this.value=_a;this.on_apply_value();};_pMaskEdit._accept_keydown_event=function(_a){return true;};_pMaskEdit._recreateInputElement=function(){var _a=this._input_element;if(_a){_a._destroyInputHandle();_a._input_handle=_a._createInputHandle();_a._bindEvent(_a);}};_pMaskEdit._isPasswordUsed=function(_a){var _b=_a&&_a._bufPass?_a._bufPass.length:0;while(_b-- ){if(_a._bufPass[_b]==true){return true;}}return false;};_pMaskEdit._set_editbase_focusstat=function(_a){var _b=this._edit_base_api;if(_b){switch(_a){case "focus":_b._stat_focus.setStatus(nexacro.EditBase.Status.Focus);break;case "blur":_b._stat_focus.setStatus(nexacro.EditBase.Status.Blur);break;default:_b._stat_focus.setStatus(_a);break;};}};delete _pMaskEdit;_pMaskEdit=null;nexacro.MaskEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MaskEdit.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pMaskEditCtrl=nexacro._createPrototype(nexacro.MaskEdit,nexacro.MaskEditCtrl);nexacro.MaskEditCtrl.prototype=_pMaskEditCtrl;_pMaskEditCtrl._type_name="MaskEditControl";nexacro._setForControlStyleFinder(_pMaskEditCtrl);delete _pMaskEditCtrl;_pMaskEditCtrl=null;};if(!nexacro.TextArea){nexacro.TextArea_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.linespace=null;this.caretcolor=null;this.compositecolor=null;};var _pTextAreaStyle=nexacro._createPrototype(nexacro.Style,nexacro.TextArea_Style);nexacro.TextArea_Style.prototype=_pTextAreaStyle;eval(nexacro._createValueAttributeEvalStr("_pTextAreaStyle","linespace"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","caretcolor"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","compositecolor"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","selectcolor"));eval(nexacro._createColorAttributeEvalStr("_pTextAreaStyle","selectbackground"));_pTextAreaStyle.__custom_emptyObject=function(){this.linespace=null;this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;};_pTextAreaStyle.__get_custom_style_value=function(){var _a="";if(this.linespace&&this.linespace._is_empty){_a+="linespace:"+this.linespace._value+"; ";}if(this.caretcolor&&!this.caretcolor._is_empty){_a+="caretcolor:"+this.caretcolor._value+"; ";}if(this.compositecolor&&!this.compositecolor._is_empty){_a+="compositecolor:"+this.compositecolor._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}return _a;};nexacro.TextArea_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.linespace=null;this.caretcolor=null;this.compositecolor=null;};var _pTextAreaCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.TextArea_CurrentStyle);nexacro.TextArea_CurrentStyle.prototype=_pTextAreaCurrentStyle;_pTextAreaCurrentStyle.__custom_emptyObject=_pTextAreaStyle.__custom_emptyObject;_pTextAreaCurrentStyle.__get_custom_style_value=_pTextAreaStyle.__get_custom_style_value;delete _pTextAreaStyle;delete _pTextAreaCurrentStyle;_pTextAreaStyle=null;_pTextAreaCurrentStyle=null;nexacro.TextArea=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.acceptstab=false;this.autoselect=false;this.autoskip=false;this.displaynulltext="";this.imemode="none";this.inputfilter="none";this.inputmode="normal";this.inputtype="normal";this.lengthunit="utf16";this.maxlength=0;this.readonly=false;this.scrollbars="autoboth";this.tabindentsize=4;this.undotype="char";this.updatebindingvalue="default";this.usecontextmenu=true;this.usecontrolkey=true;this.useinputpanel=true;this.useime="global";this.value=undefined;this.text="";this.wordwrap="none";this.dragscrolltype="all";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"canchange":1,"onchanged":1,"oneditclick":1,"ontextchange":1,"ontextchanged":1,"cancharchange":1,"onchar":1,"onvscroll":1,"onhscroll":1,"onmousewheel":1,"oncontextmenu":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._activate_flag=false;this._edit_base_api=new nexacro.MultilineEdit(this);this._init_max_scroll_width=0;this._init_max_scroll_height=0;this._input_element=null;this._is_scrollable=true;this._max_scroll_width=0;this._max_scroll_height=0;this._old_max_height=undefined;this._scrollbars=3;this._origin_scrollbars=3;this._wordwrap_scrollbars=1;this._update_scroll_lock=false;this._accessibility_role="textbox";this._caret_pos={begin: -1,end: -1};this._setcaret=false;this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;this._max_line=null;this._old_selection=[0,0];};var _pTextArea=nexacro._createPrototype(nexacro.Component,nexacro.TextArea);nexacro.TextArea.prototype=_pTextArea;_pTextArea._type_name="TextArea";nexacro.TextArea._default_selectcolor=nexacro._getCachedStyleObj("color","#3e3e3eff");nexacro.TextArea._focused_selectcolor=nexacro._getCachedStyleObj("color","#ffffffff");nexacro.TextArea._default_selectbackground=nexacro._getCachedStyleObj("color","#ffffffb3");_pTextArea.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_d!=_b.font){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_e!=_b.color){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_caretcolor(_a);if(_f!=_b.caretcolor){_b.caretcolor=_f;this.on_apply_style_caretcolor(_f);}var _g=this.on_find_CurrentStyle_compositecolor(_a);if(_g!=_b.compositecolor){_b.compositecolor=_g;this.on_apply_style_compositecolor(_g);}var _h=this.on_find_CurrentStyle_selectcolor(_a);if(_h!=_b.selectcolor){_b.selectcolor=_h;this.on_apply_style_selectcolor(_h);}var _i=this.on_find_CurrentStyle_selectbackground(_a);if(_i!=_b.selectbackground){_b.selectbackground=_i;this.on_apply_style_selectbackground(_i);}var _j=this.on_find_CurrentStyle_linespace(_a);if(_j!=_b.linespace){_b.linespace=_j;this.on_apply_style_linespace(_j);}var _k=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_k!=_b.rtlimagemirroring){_b.rtlimagemirroring=_k;this.on_apply_style_rtlimagemirroring(_k);}};_pTextArea.on_create_custom_style=function(){return new nexacro.TextArea_Style(this);};_pTextArea.on_create_custom_currentStyle=function(){return new nexacro.TextArea_CurrentStyle();};_pTextArea.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");return (_b)?_b:nexacro.Component._default_textarea_align;};_pTextArea.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a);}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a);}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a);}return (_b)?_b:nexacro.Component._default_cursor;};_pTextArea.on_find_CurrentStyle_caretcolor=function(_a){return this._find_pseudo_obj("caretcolor",_a,"color");};_pTextArea.on_find_CurrentStyle_compositecolor=function(_a){return this._find_pseudo_obj("compositecolor",_a,"color");};_pTextArea.on_find_CurrentStyle_selectcolor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a,"color");if(!_b){if(_a=="focused"){_b=nexacro.TextArea._focused_selectcolor;}else{_b=nexacro.TextArea._default_selectcolor;}}return _b;};_pTextArea.on_find_CurrentStyle_selectbackground=function(_a){var _b=this._find_pseudo_obj("selectbackground",_a,"background");return (_b)?_b:nexacro.TextArea._default_selectbackground;};_pTextArea.on_find_CurrentStyle_linespace=function(_a){return this._find_pseudo_obj("linespace",_a,"value");};_pTextArea.on_update_style_cursor=function(){var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this.currentstyle.cursor=_a;this.on_apply_style_cursor(_a);};_pTextArea.on_update_style_caretcolor=function(){var _a=this.on_find_CurrentStyle_caretcolor(this._pseudo);this.currentstyle.caretcolor=_a;this.on_apply_style_caretcolor(_a);};_pTextArea.on_update_style_compositecolor=function(){var _a=this.on_find_CurrentStyle_compositecolor(this._pseudo);this.currentstyle.compositecolor=_a;this.on_apply_style_compositecolor(_a);};_pTextArea.on_update_style_selectcolor=function(){var _a=this.on_find_CurrentStyle_selectcolor(this._pseudo);this.currentstyle.selectcolor=_a;this.on_apply_style_selectcolor(_a);};_pTextArea.on_update_style_selectbackground=function(){var _a=this.on_find_CurrentStyle_selectbackground(this._pseudo);this.currentstyle.selectbackground=_a;this.on_apply_style_selectbackground(_a);};_pTextArea.on_update_style_linespace=function(){var _a=this.on_find_CurrentStyle_linespace(this._pseudo);this.currentstyle.linespace=_a;this.on_apply_style_linespace(_a);};_pTextArea.on_update_style_padding=function(){var _a=this.on_find_CurrentStyle_padding(this._pseudo);this.currentstyle.padding=_a;this.on_apply_style_padding(_a);};_pTextArea.on_apply_style_align=function(_a){var _b=this.currentstyle;var _c=this._edit_base_api;var _d=this._input_element;if(_d){if(_b.align==null||(_b.align&&_b.align._is_empty)){_b.align=nexacro._cloneStyleObject(nexacro.Component._default_left_align);}_c.setPosition();_c._apply_style(_d);}};_pTextArea.on_apply_style_color=function(_a){var _b=this._input_element;if(_b){if(this.currentstyle.color==null){this.currentstyle.color=nexacro._cloneStyleObject(nexacro.Component._default_color);}_b.setElementColor(_a);}};_pTextArea.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._input_element;if(_c){_c.setElementCursor(_a);}}};_pTextArea.on_apply_style_font=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){if(this.currentstyle.font==null){this.currentstyle.font=nexacro._cloneStyleObject(nexacro.Component._default_font);}_c.setElementFont(_a);_b.setPosition();_b._apply_style(_c);}};_pTextArea.on_apply_style_caretcolor=function(_a){};_pTextArea.on_apply_style_compositecolor=function(_a){};_pTextArea.on_apply_style_selectbackground=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectBackgroundColor(_a);}};_pTextArea.on_apply_style_selectcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectColor(_a);}};_pTextArea.on_apply_style_linespace=function(_a){var _b=this._input_element;if(_b){var _c=_a?_a:0;_b.setElementLineSpace(_c);_b.setElementValue(this.value,true);this._update_scroll();}};_pTextArea.on_apply_style_padding=function(_a){var _b=this._input_element;if(_b){this._edit_base_api.setPosition();this._update_scroll();}};_pTextArea.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this._input_element){this._input_element.setElementAccessibilityRole(_a.role);}};_pTextArea.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._input_element=new nexacro.TextAreaElement(_a);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementSelectColor(_b.selectcolor);_c.setElementSelectBackgroundColor(_b.selectbackground);this._setAccessibilityFlagMultiLine(true);delete _c;_c=null;}};_pTextArea.on_created_contents=function(){var _a=this._input_element;if(_a){var _b=nexacro._toString(this.value);var _c=this._edit_base_api;var _d=this.currentstyle;_a.setElementReadonly(this.readonly);_a.setElementMaxLength(this.maxlength);_a.setElementWordWrap(this.wordwrap);_a.setElementUseIme(this.useime);_a.setElementImeMode(this.imemode);_a.setElementEnable(this._isEnable());_a._is_prevent_enter=this._is_use_ex_enter;if(_c){_c.setValue(_b);}if(this.currentstyle&&this.currentstyle.cursor&&this.currentstyle.cursor.value!="auto"){this.on_apply_style_cursor(this.currentstyle.cursor);}_a.create();this.on_apply_lengthunit();_a._bindEvent();this.on_apply_prop_rtldirection();if(_c){_c.setPosition();}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_a._setElementInputLabel();}this.on_apply_displaynulltext();_a.setElementLineSpace(this.currentstyle.linespace);this._update_scroll();this._init_max_scroll_width=this._max_scroll_width=_a.getScrollWidth();this._init_max_scroll_height=this._max_scroll_height=_a.getScrollHeight();if(_d&&_d.cursor){this.on_apply_style_cursor(_d.cursor);}}};_pTextArea.on_destroy_contents=function(){var _a=this._input_element;if(_a){_a._unBindEvent();_a.destroy();this._input_element=null;}var _b=this._edit_base_api;if(_b){_b._destroy();this._edit_base_api=null;}if(application._input_paste_comp==this){application._input_paste_comp=null;}this._caret_pos=null;};_pTextArea.on_change_containerRect=function(_a,_b){var _c=this._input_element;if(_c){_c.setElementSize(_a,_b);if(this._update_scroll_lock==true){return false;}this._update_scroll_lock=true;this._update_scroll();this._update_scroll_lock=false;}};_pTextArea.on_getBindableProperties=function(){return "value";};_pTextArea.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);if(this._edit_base_api){this._edit_base_api._set_enable(_a);}var _b=this._input_element;if(_b){_b.setElementEnable(_a);this.on_apply_style_cursor(this.currentstyle.cursor);}};_pTextArea.on_apply_custom_setfocus=function(_a){var _b=this._input_element;var _c=this._edit_base_api;var _d=(nexacro.isTouchInteraction&&nexacro.SupportTouch);if(_b){if(nexacro._enableaccessibility&&(_a=="downkey"||_a=="upkey")){if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}this.setCaretPos(0);}if(_c){_c._changeFocusText(_b);_c._bChangeFocusText=true;}if(!(!_d&&(nexacro.Browser=="Chrome"&&_a=="lbuttondown"))){_b.setElementFocus();}var _e=this.hscrollbar?this.hscrollbar.pos:0;var _f=this.vscrollbar?this.vscrollbar.pos:0;_b.setElementFocus();var _g=this;nexacro.OnceCallbackTimer.callonce(_g,function(){if(_e!=0){_g.hscrollbar.set_pos(_e);}if(_f!=0){_g.vscrollbar.set_pos(_f);}});}};_pTextArea.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){var _d=this._edit_base_api;if(_d){if(_d._undoStack){_d._undoStack.init();}}this._setValue(undefined);return true;}};_pTextArea.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=this._edit_base_api;var _h=this._input_element;if(_g){var _i=_g._getFocusValue();if(_h){if(_f===this.value&&_f===_g._value&&_f===_h.value){if(_i!=_f){_g._setFocusValue();}return true;}if(this._textchanging){return true;}}if(_g._undoStack){_g._undoStack.init();}}this._setValue(_f);if(_g&&_h){if(nexacro._checkActiveElement(_h)){if(_i!=_f){_g._setFocusValue();}}}return true;}return false;};_pTextArea.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){this._input_element.setScrollLeft(_b.pos);}return true;};_pTextArea.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){this._input_element.setScrollTop(_b.pos);}return true;};_pTextArea.on_get_style_accessibility_label=function(){var _a="";return _a;};_pTextArea._on_getAccessibilityAdditionalLabel=function(){if(this._edit_base_api&&this._isAccessibilityEnable()){return this._edit_base_api._on_getAccessibilityAdditionalLabel();}return "";};_pTextArea._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){return "";}else{return _b;}};_pTextArea._setAccessibilityStatFocus=function(_a){if(this._input_element){var _b=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_b="none";}this._input_element.setElementAccessibilityRole(_b);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pTextArea._setAccessibilityNotifyEvent=function(_a){if(this._edit_base_api){this._edit_base_api._setAccessibilityNotifyLabel();}return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pTextArea.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._edit_base_api;if(_a){_a.setPosition();}};_pTextArea.set_text=function(_a){};_pTextArea.set_value=function(_a){_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");if(_a.indexOf("\r\n")!= -1||_a.indexOf("\n\r")!= -1){_a=_a.replace(/\r\n/g,"\n").replace(/\n\r/g,"\n");}else{if(_a.indexOf("\r")!= -1){_a=_a.replace(/\r/g,"");}}}if(_a!=this.value){var _b=this._getRootForm();var _c=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_c){var _d=_c._accept_keyinput_event;_c._accept_keyinput_event=false;this._setValue(_a);_c._accept_keyinput_event=_d;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_b&&_b._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}}};_pTextArea.on_apply_value=function(){var _a=this._edit_base_api;if(_a){_a.setValue(this.value);_a.syncValue();_a.onUpdateStyle(this);}this._refreshAccessibilityValue();};_pTextArea.set_scrollbars=function(_a){if(_a!=this.scrollbars||!this._is_created){switch(_a){case "none":this._scrollbars=0;break;case "autovert":this._scrollbars=1;break;case "autohorz":this._scrollbars=2;break;case "autoboth":this._scrollbars=3;break;case "fixedvert":this._scrollbars=4;break;case "fixedhorz":this._scrollbars=8;break;case "fixedboth":this._scrollbars=12;break;case "alwaysvert":this._scrollbars=16;break;case "alwayshorz":this._scrollbars=32;break;default:this._scrollbars=3;_a="autoboth";}this._origin_scrollbars=this._scrollbars;if((this.wordwrap!="none"&&this.wordwrap!="false"&&this.wordwrap!=false)&&this._scrollbars==3){this._scrollbars=this._wordwrap_scrollbars;}else{this._scrollbars=this._origin_scrollbars;}this.scrollbars=_a;if(this._control_element&&this._is_created){this._onResetScrollBar();}}this._update_scroll();return _a;};_pTextArea.set_displaynulltext=function(_a){var _b=nexacro._isNull(_a);if(_b){_a="";}else{_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pTextArea.on_apply_displaynulltext=function(){var _a=this._input_element;if(_a){_a.setElementDisplayNullText(this.displaynulltext);}};_pTextArea.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pTextArea.on_apply_readonly=function(_a){var _b=this.readonly;if(_b){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _c=this._input_element;if(_c){_c.setElementReadonly(_b);}};_pTextArea.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;}};_pTextArea.set_autoskip=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoskip){this.autoskip=_a;}};_pTextArea.on_apply_autoskip=function(){var _a=this._getRootComponent(this);var _b=this._refform.getNextComponent(_a,true);if(_b){_b.setFocus();var _c=_b._edit_base_api?_b._edit_base_api:null;if(_c){_b.setCaretPos(_c._begin_pos);}}};_pTextArea.set_acceptstab=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.acceptstab){this.acceptstab=_a;}};_pTextArea.set_maxlength=function(_a){_a=nexacro._toInt(_a);if(_a&&_a!=this.maxlength){if(_a<0){_a=0;}this.maxlength=_a;this.on_apply_maxlength();}};_pTextArea.on_apply_maxlength=function(){var _a=this._input_element;if(_a){_a.setElementMaxLength(this.maxlength);}};_pTextArea.set_inputmode=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputmode){this.inputmode=_a;}};_pTextArea.set_inputfilter=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputfilter){this.inputfilter=_a;this.on_apply_inputfilter();}};_pTextArea.on_apply_inputfilter=function(){var _a=this._edit_base_api;if(_a){_a.setInputfilter(this.inputfilter);}};_pTextArea.set_inputtype=function(_a){_a=nexacro._toString(_a);if(_a==""){_a="normal";}if(_a&&_a!=this.inputtype){this.inputtype=_a;this.on_apply_inputtype();}};_pTextArea.on_apply_inputtype=function(){var _a=this._edit_base_api;if(_a){_a.setInputType(this.inputtype);}};_pTextArea.set_lengthunit=function(_a){if(_a!=this.lengthunit){this.lengthunit=_a;this.on_apply_lengthunit();}};_pTextArea.on_apply_lengthunit=function(){if(this._edit_base_api){this._edit_base_api.setLengthunit(this.lengthunit);}};_pTextArea.set_imemode=function(_a){this.imemode=nexacro._toString(_a);this.on_apply_imemode();};_pTextArea.on_apply_imemode=function(){var _a=this._input_element;if(_a){_a.setElementImeMode(this.imemode);}};_pTextArea.set_useime=function(_a){this.useime=nexacro._toString(_a);this.on_apply_useime();};_pTextArea.on_apply_useime=function(){var _a=this._input_element;if(_a){_a.setElementUseIme(this.useime);}};_pTextArea.set_wordwrap=function(_a){if(typeof (_a)=="string"){_a=_a.toLowerCase();}if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pTextArea.on_apply_wordwrap=function(){var _a=this._input_element;if(_a){_a.setElementWordWrap(this.wordwrap);}if(this.wordwrap!="false"&&this.wordwrap!=false&&this.wordwrap!="none"&&this._scrollbars==3){this._scrollbars=this._wordwrap_scrollbars;}else{this._scrollbars=this._origin_scrollbars;}this._edit_base_api.onUpdateStyle(this);this.on_apply_value();};_pTextArea.set_linespace=function(_a){_a=nexacro._toInt(_a);if(_a&&_a!=this.linespace){this.linespace=_a;this.on_apply_linespace();this._update_scroll();}};_pTextArea.on_apply_linespace=function(){var _a=this._input_element;if(_a){var _b=(this.linespace<0)?"":this.linespace+"px";_a.setElementLineSpace(_b);}};_pTextArea.set_dragscrolltype=function(_a){nexacro.Form.prototype.set_dragscrolltype.call(this,_a);};_pTextArea.set_tabindentsize=function(_a){_a=nexacro._toInt(_a);if(_a!=this.tabindentsize){this.tabindentsize=_a;}};_pTextArea.set_undotype=function(_a){_a=nexacro._toString(_a);if(_a!=this.undotype){this.undotype=_a;}};_pTextArea.set_usecontrolkey=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontrolkey){this.usecontrolkey=_a;}};_pTextArea.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontextmenu){this.usecontextmenu=_a;}};_pTextArea.set_useinputpanel=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.useinputpanel){this.useinputpanel=_a;}};_pTextArea.set_updatebindingvalue=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.updatebindingvalue){this.updatebindingvalue=_a;}};_pTextArea.getLength=function(_a){var _b=this._edit_base_api;if(_b){if(!_a){_a=this.lengthunit;}return _b.getLength(this._input_element,this.value,false,null,_a);}return  -1;};_pTextArea.getCaretPos=function(){if(this.readonly){return  -1;}var _a=this._input_element;if(_a){if(!_a._checkActiveElement()){return  -1;}var _b=_a.getElementCaretPos();if(_b&&_b!= -1){return _b.begin;}}return  -1;};_pTextArea.getInputElementAttribute=function(_a){var _b=this._input_element;if(_b){return _b.getInputElementAttribute(_a);}return undefined;};_pTextArea.setInputElementAttribute=function(_a,_b){var _c=this._input_element;if(_c){return _c.setInputElementAttribute(_a,_b);}return false;};_pTextArea.setCaretPos=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){if(arguments.length==0){_a=0;}else{_a=nexacro._toInt(_a);if(_a== -1){if(_a){_a=this.value.length;}else{_a=0;}}}_c.setElementSetSelect(_a,_a);_b._begin_pos=_b._end_pos=_a;this._caret_pos.begin=_a;this._caret_pos.end=_a;this._setcaret=true;return true;}return false;};_pTextArea.getSelect=function(){var _a=this._input_element;if(_a){if(this._is_focused==false){return this._last_selection;}var _b=_a.getElementCaretPos();return [_b.begin,_b.end];}else{return this._defalut_lastselection;}};_pTextArea.setSelect=function(_a,_b){var _c=this._input_element;if(_c){var _d=this._edit_base_api;var _e=this.text?this.text:"";var _f=_e.length;if(nexacro._isNull(_a)||_a===""){_a=0;}if(nexacro._isNull(_b)||_b===""){_b= -1;}if(!nexacro._isNumber(_a)){_a=nexacro._toInt(_a);}if(!nexacro._isNumber(_b)){_b=nexacro._toInt(_b);}if(_a== -1){_a=_f;}if(_b== -1){_b=_f;}if(_a>_b){var _g=_a;_a=_b;_b=_g;}_d._begin_pos=_a;_d._end_pos=_b;this._caret_pos.begin=_a;this._caret_pos.end=_b;this._setcaret=true;_c.setElementSetSelect(_a,_b);return true;}return false;};_pTextArea.getSelectedText=function(){var _a=this._input_element;if(_a){var _b=this.getSelect();if(this.value&&_b!=undefined){return this.value.substring(_b[0],_b[1]);}}return "";};_pTextArea.setSelectedText=function(_a){_a=nexacro._toString(_a);var _b=this._input_element;if(_a&&_b){var _c=this.getSelect();if(!_b._is_focused){_c[0]=this._old_selection[0];_c[1]=this._old_selection[1];}if(_c[0]==_c[1]){return;}var _d=this.value;var _e=_d.substring(0,_c[0]);var _f=_d.substring(_c[0],_c[1]);var _g=_d.substr(_c[1]);var _h=_e+_a+_g;this.set_value(_h);if(_b._is_focused){this.setSelect(_c[0],_c[0]+_a.length);}else{this.applyto_bindSource("value",_h);}if(!_b._is_focused){this._restoreSelect();this._cancelSelect();}return _f;}return undefined;};_pTextArea.isAboveSelected=function(){};_pTextArea.insertText=function(_a,_b){_a=nexacro._toString(_a);if(_a){if(_b==null){_b= -1;}var _c=null;var _d=this.value;if(_d){if(_b<0){_c=_d+_a;}else{var _e=_d.split("");_e.splice(_b,0,_a);_c=_e.join("");}}else{_c=_a;}this.set_value(_c);}};_pTextArea.deleteText=function(_a,_b){_a=_a===undefined?0:parseInt(_a,10);_b=_b===undefined? -1:parseInt(_b,10);if(_b< -1||_a<0||isNaN(_a)||isNaN(_b)){return false;}if(_a==null){_a=0;}if(_b==null){_b= -1;}var _c=null;var _d=this.value;var _e=_d.split("");if(_b== -1){_e.splice(_a,_e.length);}else{_e.splice(_a,_b);}_c=_e.join("");this.set_value(_c);};_pTextArea.find=function(_a,_b){if(_b==null){_b=0;}_b=nexacro._toInt(_b);_a=nexacro._toString(_a);if(_b<0){return  -1;}return _a?this.value.indexOf(_a,_b): -1;};_pTextArea.replace=function(_a,_b){if(_b==null){_b="";}_a=nexacro._toString(_a);_b=nexacro._toString(_b);var _c=this.value;if(_a){_c=_c.split(_a).join(_b);this.set_value(_c);}return _c;};_pTextArea.updateToDataset=function(){var _a=this.applyto_bindSource("value",this.value);if(this._textchanging){this._dsupdate_in_textchanging=true;if(!_a){this._dsupdate_cancel=true;}else{this._dsupdate_cancel=false;}}else{this._dsupdate_in_textchanging=false;}return _a;};_pTextArea._on_activate=function(){if(!this._isSelected()){this._stat_change("focus","normal");}this._activate_flag=true;};_pTextArea._on_killfocus=function(_a,_b){if(!this._is_alive){return;}var _c=this._edit_base_api;var _d=this._input_element;if(_c&&_d){var _e=_c._getFocusText();var _f=_c._getFocusValue();var _g=_c._getText();var _h=_c._getValue();if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&!_d._is_focused){if(_e!=_g){this.applyto_bindSource("value",this.value);}return;}_c._is_on_killfocus=true;this._on_input_blur(_d);_c._is_on_killfocus=false;if(_e!=_g||(application._is_input_paste&&this==application._input_paste_comp)){application._is_input_paste=false;application._input_paste_comp=null;var _i=this._getWindow();if(_i&&_i._is_active_window!=true&&!_a){_d.setElementValue(_c._value,false,true);return;}var _j=this._on_fire_changeEventSet(_e,_f,_g,_h);if(!_j){return;}}else if(_f===undefined&&_e==_g){_c._setValue(undefined);_c._setText("");_c.syncValue();_d.setElementValue(_c._value);}else{_d.setElementValue(_c._value,false,true);}this._restoreSelect();this._cancelSelect();}};_pTextArea._cancelSelect=function(){var _a=this._edit_base_api;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_a._is_selected()){if(this.visible){var _b=this._getRootForm();var _c=_b.getElement();if(_b.vscrollbar){_c._recover_vpos=_b.vscrollbar.pos;}if(_b.hscrollbar){_c._recover_hpos=_b.hscrollbar.pos;}this.setCaretPos(_a._begin_pos);if(nexacro.BrowserVersion<=8){_c._recover_vpos=undefined;_c._recover_hpos=undefined;}}else{this.setCaretPos(_a._begin_pos);}}}};_pTextArea._restoreSelect=function(){this._old_selection=this.getSelect();};_pTextArea._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j=this.getCaretPos();var _k=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_j,_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pTextArea._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}};_pTextArea._on_input_focus=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_focus(_a,_b);}};_pTextArea._on_input_blur=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_blur(_a,_b);}};_pTextArea._on_input_keydown=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keydown(_a,_b,_c,_d,_e);}return _f;};_pTextArea._on_input_keyup=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keyup(_a,_b,_c,_d,_e);}return _f;};_pTextArea._on_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._edit_base_api;if(_h){_g=_h._on_input_keypress(_a,_b,_c,_d,_e,_f);}return _g;};_pTextArea._on_input_mousedown=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mousedown(_a,_b,_c,_d);}};_pTextArea._on_input_mouseup=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mouseup(_a,_b,_c,_d);}};_pTextArea._on_input_mousemove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_mousemove(_a);}};_pTextArea._on_input_touchstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchstart(_a);}};_pTextArea._on_input_touchmove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchmove(_a);}};_pTextArea._on_input_touchend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchend(_a);}};_pTextArea._on_input_select=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_select(_a);}};_pTextArea._on_input_copy=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_copy(_a);}};_pTextArea._on_input_cut=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_cut(_a);}};_pTextArea._on_input_paste=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_paste(_a);}};_pTextArea._on_input_compositionstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionstart(_a);}};_pTextArea._on_input_compositionupdate=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionupdate(_a);}};_pTextArea._on_input_compositionend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionend(_a);}};_pTextArea._is_use_ex_enter=false;_pTextArea.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){if(nexacro._enableaccessibility){if(_a==nexacro.Event.KEY_DOWN||_a==nexacro.Event.KEY_UP){var _h;if(_a==nexacro.Event.KEY_DOWN){_h=1;}else if(_a==nexacro.Event.KEY_UP){_h=2;}var _i=this._getCaretLineString(null,_h);if(!_i){_i="#textarea:msg_accessibility_emptyline";}this._notifyAccessibility(_i,"valuechange");}}}var _g=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(this._is_use_ex_enter){if((_c||_b)&&_a==13){var _j=this.getCaretPos();var _k=this.text;var _l=_k.split("");var _m=this._edit_base_api;_l.splice(_j,0,"\n");newValue=_l.join("");if(this.maxlength>=newValue.length||this.maxlength==0){var _n=this._input_element;if(_n){_n.text=newValue;_n.value=newValue;if(_m){if(nexacro.Browser=="IE"){var _o=_m._accept_keyinput_event;_m._accept_keyinput_event=false;_n._updateInputValue();_m._accept_keyinput_event=_o;}else{_n._updateInputValue();}}}_m._fire_text_event("\n");this.setCaretPos(_m._begin_pos);}}}return _g;};_pTextArea.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,"");return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pTextArea.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pTextArea.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}};_pTextArea.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(_a,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.oneditclick._fireEvent(this,_o);}return true;};_pTextArea.on_fire_ontextchanged=function(_a,_b,_c){this._max_line=null;if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(_a,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pTextArea.on_fire_ontextchange=function(_a,_b){if(this.ontextchange&&this.ontextchange._has_handlers){if(!_b){var _b=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}return this.ontextchange._fireCheckEvent(this,_b);}return true;};_pTextArea.on_fire_onchar=function(_a,_b){if(this.onchar&&this.onchar._has_handlers){if(!_b){var _b=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}return this.onchar._fireCheckEvent(this,_b);}return true;};_pTextArea._on_fire_textchangeEventSet=function(_a){var _b=_a.chartext;var _c=_a.chartext;var _d=false;var _e=_a.bInsert;var _f=_a.bCut;var _g=true;var _h=true;var _i=true;var _j=false;var _k=true;var _l=this._edit_base_api;var _m=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);var _n=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);_o=this.on_fire_ontextchange(_a,_m);if(_o){if(_b!=_m.chartext){_j=true;_c=_m.chartext;}if(!_l._is_composition()){_o=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_o){_o=this.on_fire_onchar(_a,_n);if(!_o){_i=false;}if(_b!=_n.chartext){_c=_n.chartext;}}else{_i=false;_h=false;}}else{_k=false;}if(_b!=_c){var _p=_l.applyInputmode(_c);_p=_l._apply_inputfilter(_c);_p=_l._apply_inputtype(_c);if(_c.length>0&&_p.length==0){_d=true;}if(!_d){_e=_l._check_maxlength_from_text_event(_p);if(!_e){_p="";}else{_p=_l._apply_maxlength_from_text_event(_p);if(_p!=_c.chartext){_f=true;}}}_a.chartext=_p;var _q=_a.pretext.substr(0,_l._begin_pos);var _r=_a.pretext.substr(_l._end_pos,_a.pretext.length-_l._end_pos);_a.posttext=_q+_p+_r;if(_j&&_i&&_h){_o=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_o){evt=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);_o=this.on_fire_onchar(_a);if(!_o){_i=false;}}else{_i=false;_h=false;}}}}else{_g=false;}var _o={bTextchangeRet:_g,bCancahrchangeRet:_h,bOncharRet:_i,fireCancharEvent:_k,bInsert:_e,bCut:_f};return _o;};_pTextArea._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=this._edit_base_api;var _f=this._input_element;this._textchanging=true;var _g=this.on_fire_canchange(this,_a,_b,_c,_d);if(!_g){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_f.setElementValue(_e._value,false,true);if(this._dsupdate_cancel||(!this._dsupdate_in_textchanging&&!this.applyto_bindSource("value",this.value))){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_e._setFocusValue();this.on_fire_onchanged(this,_a,_b,this.text,this.value);this._init_bind_flag();return true;};_pTextArea._getDlgCode=function(_a,_b,_c,_d){var _e=true;if(nexacro._enableaccessibility){if(_a==nexacro.Event.KEY_UP){var _f=this._input_element;if(_f){var _g=_f.getCaretLine();if(_g<=1){_e=false;}}else{_e=false;}}else if(_a==nexacro.Event.KEY_DOWN){var _f=this._input_element;if(_f){var _g=_f.getCaretLine();var _h=parseInt(this._getTextLine());if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){if(_g==(_h-1)){var _i=_f.getElementValue();var _j=_i.substr(_i.length-1,1);if(_j=="\n"||_j=="\r"){_g++ ;}}}if(_g>=_h){_e=false;}}else{_e=false;}}}return {want_tab:this.acceptstab,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pTextArea._init=function(){if(this._edit_base_api){this._edit_base_api._init();}this.set_value(undefined);};_pTextArea._init_bind_flag=function(){this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;};_pTextArea._getDragData=function(){return this.getSelectedText();};_pTextArea._getHLineInfo=function(_a,_b){var _c=this.getElement();var _d=this._input_element;var _e=this.currentstyle;var _f=0;var _g=0;var _h=_a;var _i;var _j=_d.value;if(!_j){return 0;}_j=_j.replace(/\n/g,"\n\r");var _k=_j.length;var _l="";while(_h>=0&&(_l!='\n'&&_l!='\r')){_l=_j.charAt( --_h);}_f=_h+1;_l="";_h=_a;while(_k>=_h&&(_l!='\n'&&_l!='\r')){_l=_j.charAt(_h++ );}_g=_h-1;_h=_f;var _m=0;while(_h<_g&&_m<=_b){_i=nexacro._getTextSize2(_j.charAt(_h++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_m+=_i[0];}if(_h>0){_h=_h-1;}var _n=_h;var _o=0;while(_h<=_g&&_o<=_c.client_width){_i=nexacro._getTextSize2(_j.charAt(_h++ ),curstylee.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_o+=_i[0];}var _p=_h-1;if(_a>_n&&_a<_p){return  -1;}if(_a>_n&&_o<_c.client_width&&_m>_b){return  -1;}if(_a==_f){return 0;}var _q= -1;if(_a==_g&&_j.charAt(_a)=='\n'&&_a<_n){_q=0;_h=_f;while(_h<_a){_i=nexacro._getTextSize2(_j.charAt(_h++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_q+=_i[0];}}else if(_a>=_p&&_m>_b){_h=_p;_q=0;while(_h<_a){_i=nexacro._getTextSize2(_j.charAt(_h++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_q+=_i[0];}_q+=_b;}else if(_a<=_n){_h=_n;_q=0;while(_h>=_a){_i=nexacro._getTextSize2(_j.charAt(_h-- ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_q+=_i[0];}_q=_b-_q;if(_q<0){_q=0;}}else if(_a>_f){_h=_f;_q=0;while(_h<_a-1){_i=nexacro._getTextSize2(_j.charAt(_h++ ),_e.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false));_q+=_i[0];}if(_q<0){_q=0;}}return _q;};_pTextArea._getVLineInfo=function(_a){var _b=this.getElement();var _c=this.currentstyle;var _d=_c.font;var _e=nexacro._getTextSize2("Wj",_d);var _f=_c.linespace?nexacro._toInt(_c.linespace):0;var _g=_e[1]+_f;var _h=nexacro._toInt(_a/_g)+1;var _i=_h+Math.ceil((_b.client_height)/_g)-1;return {begin:_h,end:_i};};_pTextArea._getMaxTextLine=function(){var _a=this._input_element;var _b=this.currentstyle;var _c=0;var _d=_a.getScrollHeight();if(_d>0){var _e=_b.linespace?nexacro._toInt(_b.linespace):0;var _f=nexacro._getTextSize2("Wj",_b.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false))[1]+_e;_c=_d/_f;}return _c;};_pTextArea._getTextLine=function(){var _a=this._input_element;var _b=this.value;var _c=0;var _d=0;var _e=this._client_width;var _f;if(_b){_f=_b.split("\n");_c=_f.length;}if(_a&&_a._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _g=0;var _h=0;var _i;for(_g=0;_g<_c;_g++ ){_i=_f[_g];_h+=nexacro._getLineCountWithWordwrap(_a,_i,this.wordwrap);}_c=_h;}this._max_line=_c;return _c;};_pTextArea._getCaretLineString=function(_a,_b){var _c=_a;var _d=1;var _e=this._input_element;if(!_c){_c=this.getCaretPos();if(_e){_d=_e.getCaretLine();}}if(_b==1){var _f=this.value;if(_f){var _g=_f.split("\n");var _h=_g.length;}if(_e&&_e._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _i=0;var _j=0;var _k=0;var _l;var _m="";var _n="";var _o=0;var _p=0;for(_i=0;_i<_h;_i++ ){_l=_g[_i];_j+=nexacro._getLineCountWithWordwrap(_e,_l,this.wordwrap);if(_j>_d){_d=_d-_k;for(j=0;j<_l.length;j++ ){var _q=_d;_n=_l[j];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>_d){_o=j;_m="";for(k=j;k<_l.length;k++ ){_n=_l[k];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>1){_p=k;_m=_l.slice(_o,_p);break;}}_p=k;break;}}break;}_k=_j;}}else{return _g[_d+1];}}else if(_b==2){var _f=this.value;if(_f){var _g=_f.split("\n");var _h=_g.length;}if(_e&&_e._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _i=0;var _j=0;var _k=0;var _l;var _m="";var _n="";var _o=0;var _p=0;for(_i=0;_i<_h;_i++ ){_l=_g[_i];_j+=nexacro._getLineCountWithWordwrap(_e,_l,this.wordwrap);if(_j>=_d-1){_d=_d-_k-1;for(j=0;j<_l.length;j++ ){var _q=_d;_n=_l[j];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>=_d){_o=j;_m="";for(k=j;k<_l.length;k++ ){_n=_l[k];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>1){_p=k;_m=_l.slice(_o,_p);break;}}_p=k;break;}}break;}_k=_j;}}else{return _g[_d-1];}}else if(_b==0){var _f=this.value;if(_f){var _g=_f.split("\n");var _h=_g.length;}if(_e&&_e._handle&&this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false"){var _i=0;var _j=0;var _k=0;var _l;var _m="";var _n="";var _o=0;var _p=0;for(_i=0;_i<_h;_i++ ){_l=_g[_i];_j+=nexacro._getLineCountWithWordwrap(_e,_l,this.wordwrap);if(_j>=_d){_d=_d-_k;for(j=0;j<_l.length;j++ ){var _q=_d;_n=_l[j];_m+=_n;_j=nexacro._getLineCountWithWordwrap(_e,_m,this.wordwrap);if(_j>_d){_p=j;_m=_l.slice(_o,_p);break;}}break;}_k=_j;}}else{return (_g[0])?_g[0]:"";}}return _m;};_pTextArea._update_scroll=function(){var _a=this.getElement();var _b=this._input_element;if(_a&&_b){var _c=_b.getScrollWidth();var _d=_b.getScrollHeight();_a.setElementScrollMaxSize(_c,_d);this._updateClientSize(_a);this._max_scroll_height=_d;if(this.vscrollbar){var _e=_b.getScrollTop();this.vscrollbar.set_pos(_e);}if(this.hscrollbar){var _e=_b.getScrollLeft();this.hscrollbar.set_pos(_e);}this._onResetScrollBar();this._old_max_height=undefined;}};_pTextArea._reset_hscroll=function(){var _a=this.getElement();var _b=this._input_element;if(_a._hscroll_visible){_a.setElementHScrollPos(0);_b.setScrollLeft(0);};};_pTextArea._setValue=function(_a){if(nexacro._isNull(_a)){this.text="";}else{this.text=nexacro._toString(_a);}this.value=_a;this.on_apply_value();};_pTextArea._setVScrollDefaultAction=function(_a,_b){var _c=this.currentstyle;var _d=_c.linespace?nexacro._toInt(_c.linespace):0;var _e=nexacro._getTextSize2("Wj",_c.font,((this.wordwrap!="none"&&this.wordwrap!=false&&this.wordwrap!="false")?true:false))[1]+_d;if(_b>=0){var _f=3;}else{var _f= -3;}_b=_e*_f;_a.set_pos(_a.pos-_b);};_pTextArea._isWheelScrollable=function(_a){var _b=this._input_element;if(!_b){return false;}var _c=_b.getScrollTop();var _d=this._max_scroll_height;var _e=this._client_height;if((_c+_e>=_d&&_a<0)||(_c==0&&_a>0)){return false;}return true;};_pTextArea._accept_keydown_event=function(_a){return true;};_pTextArea._recreateInputElement=function(){var _a=this._input_element;if(_a){_a._destroyInputHandle();_a._input_handle=_a._createInputHandle();_a._bindEvent(_a);}};_pTextArea._set_editbase_focusstat=function(_a){var _b=this._edit_base_api;if(_b){switch(_a){case "focus":_b._stat_focus.setStatus(nexacro.EditBase.Status.Focus);break;case "blur":_b._stat_focus.setStatus(nexacro.EditBase.Status.Blur);break;default:_b._stat_focus.setStatus(_a);break;};}};delete _pTextArea;_pTextArea=null;nexacro.TextAreaCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TextArea.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTextAreaCtrl=nexacro._createPrototype(nexacro.TextArea,nexacro.TextAreaCtrl);nexacro.TextAreaCtrl.prototype=_pTextAreaCtrl;nexacro._setForControlStyleFinder(_pTextAreaCtrl);delete _pTextAreaCtrl;_pTextAreaCtrl=null;};if(!nexacro.ImageViewer){nexacro.ImageAlign=function(_a,_b,_c){nexacro.Object.call(this);this.align=new nexacro.Style_align(_a,_b);this.valign=this.align.valign;this.halign=this.align.halign;this._target=_c;};var _pImageAlign=nexacro.ImageAlign.prototype=nexacro._createPrototype(nexacro.Object,nexacro.ImageAlign);_pImageAlign._type_name="ImageAlign";_pImageAlign.set_halign=function(_a){if(this.align.set_halign(_a)){this.halign=this.align.halign;this._target.on_apply_imagealign(this.align);}};_pImageAlign.set_valign=function(_a){if(this.align.set_valign(_a)){this.valign=this.align.valign;this._target.on_apply_imagealign(this.align);}};_pImageAlign.destroy=function(){this.align=null;this.valign=null;this.halign=null;this._target=null;};delete _pImageAlign;nexacro.ImageViewer=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.text="";this.image="";this.imagealign=new nexacro.ImageAlign("middle","center",this);this.imagewidth=0;this.imageheight=0;this.stretch="none";this.repeatcount= -1;this.resampling=0;this._text_elem=null;this._img_elem=null;this._prewidth=0;this._preheight=0;this._img_type="url";this._accessibility_role="image";};var _pImageViewer=nexacro._createPrototype(nexacro.Component,nexacro.ImageViewer);nexacro.ImageViewer.prototype=_pImageViewer;_pImageViewer._type_name="ImageViewer";_pImageViewer.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_align(_a);if(_b.align!=_e){_b.align=_e;this.on_apply_style_align(_e);}var _f=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_f!=_b.rtlimagemirroring){_b.rtlimagemirroring=_f;this.on_apply_style_rtlimagemirroring(_f);}};_pImageViewer.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pImageViewer.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pImageViewer.on_apply_style_align=function(_a){if(this._text_elem){var _b=_a.halign==""?"center":_a._halign;var _c=_a.valign==""?"middle":_a._valign;this._text_elem.setElementAlignXY(_b,_c);_b=_c=null;}};_pImageViewer.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);};_pImageViewer.on_create_contents=function(){var _a=this.getElement();if(_a){if(this.text){var _b=this._text_elem=new nexacro.TextBoxElement(_a);var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b=_c=_d=null;}}_a=null;};_pImageViewer.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}if(this.imagealign){this.imagealign.destroy();this.imagealign=null;}};_pImageViewer.on_created_contents=function(){var _a=this._text_elem;this._load_image(this.image);if(_a){var _b=this._client_width;var _c=this._client_height;_a.setElementSize(_b,_c);_a.create();}if(this.expr){this.on_apply_expr();}this.on_apply_prop_rtldirection();_a=null;};_pImageViewer.on_fire_onsize=function(_a,_b){if(this._text_elem){var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;this._text_elem.setElementAlignXY(_c,_d);}this.on_apply_imagealign();return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pImageViewer.on_change_containerRect=function(_a,_b){var _c=this._text_elem;var _d=this._img_elem;if(_c){_c.setElementSize(_a,_b);if(_d){this._updateElementPositions();}}else if(_d){this._updateElementPositions();}var _e=this._pseudo;var _f=this.on_find_CurrentStyle_align(_e);this.on_apply_style_align(_f);_c=null;_d=null;};_pImageViewer.on_apply_text=function(){var _a=this.expr;if(_a&&_a.length>0){_a=_a.trim().split(":");var _b=_a.length;var _c=new nexacro.ExprParser();var _d,_e;var _f;if(_b==1){_f=_a[0];}else{if(_a[0].trim().toUpperCase()!="EXPR"){_f=_a.join(":");}else{_f=_a.slice(1).join(":");}}_d=_c.makeExpr(this,_f);_e=nexacro._createInlineFunc(_d,["comp"]);if(_e){try{var _g=nexacro._toString(_e.call(null,this));if(_g!=this.displaytext){this.displaytext=_g;}}catch(e){return;}}_c=null;}else{this.displaytext=this.text;}_a=null;if(!this._text_elem&&this.displaytext){var _h=this.getElement();if(_h){var _i=this._text_elem=new nexacro.TextBoxElement(_h);var _j=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _k=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_i.setElementSize(this._client_width,this._client_height);_i.setElementColor(this.currentstyle.color);_i.setElementFont(this.currentstyle.font);_i.setElementAlignXY(_j,_k);_i.create();_i=_j=_k=null;}_h=null;}if(this._text_elem){this._text_elem.setElementText(this.displaytext);}this._refreshAccessibilityValue();};_pImageViewer.on_apply_expr=function(){this.on_apply_text();};_pImageViewer.set_image=function(_a){if(_a){if(_a instanceof nexacro.Image){if((_a._handle_id)&&nexacro.Browser=="Runtime"&&(((typeof _a._handle_id)=="number")||(_a._handle_id instanceof nexacro.Decimal))){var _b=this.image;var _c=this.getElement();var _d=this._img_elem;var _e=_b._handle_id;if(_e&&((typeof _e)=="number")){_d.destroy(null,_e);}if(!_d){this._img_elem=_d=new nexacro.ImageElement(_c);}if(!_d._handle){_d.create();}_d.setElementHandleImageObject(_a._handle_id);this.image=_a;this._img_type="url";this._load_image(_a._handle_id);return true;}else{_a=_a._base64str;this._img_type="base64";}}else{_a=_a.toString();var _f=nexacro._checkBase64String(_a);if(_f){if(_a.substring(0,10).toLowerCase()=="data:image"){if(_a.substring(0,17).toLowerCase()!="data:image;base64"){var _g=_a.indexOf(",");if(_g> -1){var _h=_a.slice(_g+1,_a.legnth);_a="data:image;base64,"+_h;}}}else{_a="data:image;base64,"+_a;}this._img_type="base64";}else{this._img_type="url";}}}else{_a="";this._img_type="url";}this.image=_a;this.on_apply_image();};_pImageViewer.on_apply_image=function(){this._load_image(this.image);};_pImageViewer.set_imagewidth=function(_a){};_pImageViewer.set_imageheight=function(_a){};_pImageViewer.set_stretch=function(_a){if(_a!=this.stretch){this.stretch=_a;this.on_apply_stretch();}};_pImageViewer.on_apply_stretch=function(){this._updateElementPositions();};_pImageViewer.set_repeatcount=function(_a){if(_a!=this.repeatcount){this.repeatcount=_a;}};_pImageViewer.set_imagealign=function(_a){if(this.imagealign.align.valueOf()!=_a){if(this.imagealign.align._setValue(_a)){this.imagealign.halign=this.imagealign.align.halign;this.imagealign.valign=this.imagealign.align.valign;this.on_apply_imagealign();}}};_pImageViewer.on_apply_imagealign=function(){if(this._img_elem){this._updateElementPositions();}};_pImageViewer.on_apply_repeatcount=function(){};_pImageViewer.set_resampling=function(_a){};_pImageViewer.repeatStart=function(_a){this.repeatcount=parseInt(_a)|0;};_pImageViewer.repeatStop=function(){return;};_pImageViewer._on_loadImg=function(_a,_b,_c){this.imagewidth=this._prewidth=_b;this.imageheight=this._preheight=_c;this._img_load_completed(_a);};_pImageViewer._img_load_completed=function(_a){var _b=this._img_elem;var _c=this.image;if(_b){if(!_c){this._img_elem.setElementVisible(false);this._img_elem.setElementImageUrl("");this._updateElementPositions();this.imagewidth=0;this.imageheight=0;if(this._text_elem){var _d=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _e=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;this._text_elem.setElementAlignXY(_d,_e);}}else{var _f=this._img_type;_c=_c.toString();if(_f=="url"){if(_c.substring(0,4).toLowerCase()=="url("){_c=_c.substring(5,_c.length-2);}_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());if(_c==_a){_b.setElementVisible(true);_b.setElementImageUrl(_a);}}else{_b.setElementVisible(true);_b.setElementImageBase64(_a);}this._updateElementPositions();}}_b=null;};_pImageViewer._load_image=function(_a){var _b=_a.toString();var _c=this.getElement();var _d=this.currentstyle;if(_b&&_c){var _e=this._img_elem;var _f=this._text_elem;var _g=this._img_type;if(_g=="url"){_b=nexacro._getURIValue(_b);_b=nexacro._getImageLocation(_b,this._getRefFormBaseUrl());}if(!_e){this._img_elem=_e=new nexacro.ImageElement(_c);}if(!_e._handle){_e.create();}var _h=nexacro._getImageSize(_b,this._on_loadImg,this);if(_h){this._prewidth=_h.width;this._preheight=_h.height;this._img_load_completed(_b);}if(_f){_c.moveToNextElement(_e,_f);}_e=null;_f=null;img_size=null;}else{if(this._img_elem){this._img_elem.setElementVisible(false);this._img_elem.setElementImageUrl("");this._updateElementPositions();this.imagewidth=0;this.imageheight=0;if(this._text_elem){var _i=_d.align.halign==""?"center":_d.align._halign;var _j=_d.align.valign==""?"middle":_d.align._valign;this._text_elem.setElementAlignXY(_i,_j);}}}_d=null;};_pImageViewer._updateElementPositions=function(){if(this.imagealign.align==null){return;}this._resizeImage();var _a=this._img_elem;if(_a){var _b=this.imagealign.align.halign;var _c=this.imagealign.align.valign;var _d=this._client_width;var _e=this._client_height;var _f,_g;var _h=this.imagewidth;var _i=this.imageheight;var _j;var _k,_l;switch(_b){case "left":_k=0;break;case "right":_j=_d-_h;_k=_j;break;default:_j=Math.floor((_d-_h)/2);_k=_j;break;}switch(_c){case "top":_l=0;textpos_y= -1;break;case "bottom":_j=_e-_i;_l=_j;break;default:_j=Math.floor((_e-_i)/2);_l=_j;break;}_k=this._convertLeftForRtlLayout(_k,_h);_a.setElementPosition(_k,_l);_a.setElementSize(_h,_i);}_a=null;};_pImageViewer._resizeImage=function(){var _a=this._img_elem;var _b=this.stretch;var _c=this.image;if(!_a||_b==null){return;}var _d=this._client_width;var _e=this._client_height;if(_b=="fit"||_c._handle_id){_a.image_width=this.imagewidth=_d;_a.image_height=this.imageheight=_e;}else if(_b=="fixaspectratio"){var _f=0,_g=0;if(this.imagewidth==0&&this.imageheight==0){var _h=this._prewidth;var _i=this._preheight;}else{var _h=this.imagewidth=this._prewidth;var _i=this.imageheight=this._preheight;}var _j=_d/_h;var _k=_e/_i;if(_j<=_k){_f=_d;_g=Math.floor(_i*_j);}else{_f=Math.floor(_h*_k);_g=_e;}_a.image_width=this.imagewidth=_f;_a.image_height=this.imageheight=_g;}else{_a.image_width=this.imagewidth=this._prewidth;_a.image_height=this.imageheight=this._preheight;}_a.setElementSize(this.imagewidth,this.imageheight);this.stretch=_b;_b=null;_a=null;};delete _pImageViewer;_pImageViewer=null;nexacro.ImageViewerCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageViewer.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pImageViewerCtrl=nexacro.ImageViewerCtrl.prototype=nexacro._createPrototype(nexacro.ImageViewer,nexacro.ImageViewerCtrl);_pImageViewerCtrl._type_name="ImageViewerControl";nexacro._setForControlStyleFinder(_pImageViewerCtrl);delete _pImageViewerCtrl;_pImageViewerCtrl=null;}if(!nexacro.CheckBox){nexacro.CheckBoxChangedEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onchanged";this.prevalue=_c;this.postvalue=_d;this.fromobject=this.fromreferenceobject=_a;};var _pCheckBoxChangedEventInfo=nexacro._createPrototype(nexacro.ChangedEventInfo,nexacro.CheckBoxChangedEventInfo);nexacro.CheckBoxChangedEventInfo.prototype=_pCheckBoxChangedEventInfo;_pCheckBoxChangedEventInfo._type_name="CheckBoxChangedEventInfo";delete _pCheckBoxChangedEventInfo;_pCheckBoxChangedEventInfo=null;nexacro.CheckBox_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;};_pCheckBoxStyle=nexacro.CheckBox_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.CheckBox_Style);nexacro.CheckBox_Style.prototype=_pCheckBoxStyle;eval(nexacro._createAlignAttributeEvalStr("_pCheckBoxStyle","buttonalign"));eval(nexacro._createValueAttributeEvalStr("_pCheckBoxStyle","buttonimage"));eval(nexacro._createPaddingAttributeEvalStr("_pCheckBoxStyle","textpadding"));eval(nexacro._createBorderAttributeEvalStr("_pCheckBoxStyle","buttonborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pCheckBoxStyle","buttonbordertype"));eval(nexacro._createValueAttributeEvalStr("_pCheckBoxStyle","buttonsize"));eval(nexacro._createBackgroundAttributeEvalStr("_pCheckBoxStyle","buttonbackground"));eval(nexacro._createGradationAttributeEvalStr("_pCheckBoxStyle","buttongradation"));eval(nexacro._createValueAttributeEvalStr("_pCheckBoxStyle","buttonbackgroundimagemode"));_pCheckBoxStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;this.accessibility=null;};_pCheckBoxStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign&&this.buttonalign._is_empty){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonimage&&this.buttonimage._is_empty){_a+="buttonimage:"+this.buttonimage._value+"; ";}if(this.textpadding&&this.textpadding._is_empty){_a+="textpadding:"+this.textpadding._value+"; ";}if(this.buttonborder&&this.buttonborder._is_empty){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._is_empty){_a+="buttonbordertype:"+this.buttonbordertype._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.buttonbackground&&this.buttonbackground._is_empty){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._is_empty){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbackgroundimagemode&&this.buttonbackgroundimagemode._is_empty){_a+="buttonbackgroundimagemode:"+this.buttonbackgroundimagemode._value+"; ";}if(this.accessibility&&this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.CheckBox_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;};_pCheckBoxCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.CheckBox_CurrentStyle);nexacro.CheckBox_CurrentStyle.prototype=_pCheckBoxCurrentStyle;_pCheckBoxCurrentStyle.__get_custuom_style_value=_pCheckBoxStyle.__get_custuom_style_value;_pCheckBoxCurrentStyle.__custom_emptyObject=_pCheckBoxStyle.__custom_emptyObject;delete _pCheckBoxStyle;_pCheckBoxStyle=null;delete _pCheckBoxCurrentStyle;_pCheckBoxCurrentStyle=null;nexacro.CheckBox=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.text_elem=null;this.chkimg=null;this.value=false;this.binddataset=null;this.readonly=false;this.falsevalue=null;this.truevalue=null;this._event_list={"canchange":1,"onchanged":1,"onclick":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ongesture":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onrbuttondown":1,"onrbuttonup":1,"onsetfocus":1,"onsize":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._accessibility_role="checkbox";this._is_usetextbox=true;};_pCheckBox=nexacro._createPrototype(nexacro.Component,nexacro.CheckBox);nexacro.CheckBox.prototype=_pCheckBox;_pCheckBox._type_name="CheckBox";nexacro.CheckBox._default_buttonsize=nexacro._getCachedStyleObj("buttonsize",13);nexacro.CheckBox._default_textpadding=nexacro._getCachedStyleObj("padding","5 2 5 2");_pCheckBox.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_buttonalign(_a);var _d=this.on_find_CurrentStyle_buttonimage(_a);var _e=this.on_find_CurrentStyle_textpadding(_a);var _f=this.on_find_CurrentStyle_buttonborder(_a);var _g=this.on_find_CurrentStyle_buttonbordertype(_a);var _h=this.on_find_CurrentStyle_buttonsize(_a);var _i=this.on_find_CurrentStyle_buttonbackground(_a);var _j=this.on_find_CurrentStyle_buttonbackgroundimagemode(_a);var _k=this.on_find_CurrentStyle_buttongradation(_a);var _l=this.on_find_CurrentStyle_font(_a);var _m=this.on_find_CurrentStyle_color(_a);var _n=this.on_find_CurrentStyle_align(_a);var _o=this.on_find_CurrentStyle_accessibility(_a);if(this._apply_client_border||_c!=_b.buttonalign){_b.buttonalign=_c;this.on_apply_style_buttonalign(_c);this._apply_client_border=false;}if(_d!=_b.buttonimage){_b.buttonimage=_d;this.on_apply_style_buttonimage(_d);}if(_e!=_b.textpadding){_b.textpadding=_e;this.on_apply_style_textpadding(_e);}if(_f!=_b.buttonborder){_b.buttonborder=_f;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonborder(_f);}if(_g!=_b.buttonbordertype){_b.buttonbordertype=_g;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonbordertype(_g);}if(_h!=_b.buttonsize){_b.buttonsize=_h;this.on_apply_style_buttonsize(_h);}if(_i!=_b.buttonbackground){_b.buttonbackground=_i;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonbackground(_i);}if(_k!=_b.buttongradation){_b.buttongradation=_k;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttongradation(_k);}if(_j!=_b.buttonbackgroundimagemode){_b.buttonbackgroundimagemode=_j;if(this.chkimg){this.chkimg.on_apply_pseudo(_a);}this.on_apply_style_buttonbackgroundimagemode(_j);}if(_l!=_b.font){_b.font=_l;this.on_apply_style_font(_l);}if(_m!=_b.color){_b.color=_m;this.on_apply_style_color(_m);}if(_n!=_b.align){_b.align=_n;this.on_apply_style_align(_n);}var _p=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_p!=_b.rtlimagemirroring){_b.rtlimagemirroring=_p;this.on_apply_style_rtlimagemirroring(_p);}};_pCheckBox.on_create_custom_style=function(){return new nexacro.CheckBox_Style(this);};_pCheckBox.on_create_custom_currentStyle=function(){return new nexacro.CheckBox_CurrentStyle(this);};_pCheckBox.on_find_CurrentStyle_buttonalign=function(_a){var _b=nexacro.Component._default_left_align;return this._find_pseudo_obj("buttonalign",_a,"align")||_b;};_pCheckBox.on_find_CurrentStyle_buttonimage=function(_a){return this._find_pseudo_obj("buttonimage",_a);};_pCheckBox.on_find_CurrentStyle_textpadding=function(_a){return this._find_pseudo_obj("textpadding",_a)||nexacro.CheckBox._default_textpadding;};_pCheckBox.on_find_CurrentStyle_buttonborder=function(_a){return this._find_pseudo_obj("buttonborder",_a,"border");};_pCheckBox.on_find_CurrentStyle_buttonbordertype=function(_a){return this._find_pseudo_obj("buttonbordertype",_a);};_pCheckBox.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||nexacro.CheckBox._default_buttonsize;};_pCheckBox.on_find_CurrentStyle_buttonbackground=function(_a){return this._find_pseudo_obj("buttonbackground",_a);};_pCheckBox.on_find_CurrentStyle_buttongradation=function(_a){return this._find_pseudo_obj("buttongradation",_a);};_pCheckBox.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this._find_pseudo_obj("buttonbackgroundimagemode",_a);};_pCheckBox.on_find_CurrentStyle_align=function(_a){var _b=nexacro.Component._default_left_align;return this._find_pseudo_obj("align",_a)||_b;};_pCheckBox.on_update_style_buttonalign=function(){var _a=this.currentstyle;var _b=_a.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign(_b);};_pCheckBox.on_update_style_buttonimage=function(){var _a=this.currentstyle;var _b=_a.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo);this.on_apply_style_buttonimage(_b);};_pCheckBox.on_update_style_textpadding=function(){var _a=this.currentstyle;var _b=_a.textpadding=this.on_find_CurrentStyle_textpadding(this._pseudo);this.on_apply_style_textpadding(_b);};_pCheckBox.on_update_style_buttonborder=function(){var _a=this.currentstyle;var _b=_a.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(_b);};_pCheckBox.on_update_style_buttonbordertype=function(){var _a=this.currentstyle;var _b=_a.buttonbordertype=this.on_find_CurrentStyle_buttonbordertype(this._pseudo);this.on_apply_style_buttonbordertype(_b);};_pCheckBox.on_update_style_buttonsize=function(){var _a=this.currentstyle;var _b=_a.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(_b);};_pCheckBox.on_update_style_buttonbackground=function(){var _a=this.currentstyle;var _b=_a.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(_b);};_pCheckBox.on_update_style_buttongradation=function(){var _a=this.currentstyle;var _b=_a.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(_b);};_pCheckBox.on_update_style_buttonbackgroundimagemode=function(){var _a=this.currentstyle;var _b=_a.buttonbackgroundimagemode=this.on_find_CurrentStyle_buttonbackgroundimagemode(this._pseudo);this.on_apply_style_buttonbackgroundimagemode(_b);};_pCheckBox.on_apply_style_align=function(_a){if(this.text_elem){var _b=(_a.halign==""?"center":_a._halign);var _c=(_a.valign==""?"middle":_a._valign);this.text_elem.setElementAlignXY(_b,_c);}};_pCheckBox.on_apply_style_buttonalign=function(_a){var _b=this.currentstyle;if(_b&&_b.buttonalign&&this.chkimg){var _c=_b.buttonalign;var _d=this._client_width;var _e=this._client_height;var _f=_c.toString().trim().split(" ");var _g=_f.length;var _h=0,_i=0,_j=0,_k=0;var _l=0,_m=0,_n=0,_o=0,_p=0,_q=0;var _r="";var _s=_b.buttonsize;var _t="left",_u="middle";var _v=_s?(parseInt(_s._value)|0):13;for(var _w=0;_w<_g;_w++ ){switch(_f[_w]){case "center":_t="center";break;case "right":_t="right";break;case "top":_u="top";break;case "bottom":_u="bottom";break;default:break;}}var _x=_b.textpadding;var _y,_z;if(_x){if(_x.left){_l=_x.left;}if(_x.right){_n=_x.right;}if(_x.top){_m=_x.top;}if(_x.bottom){_o=_x.bottom;}}_z=_d-_v;if(_t=="left"||_t=="center"){_l+=_v;_h=0;_j=_v;}else if(_t=="right"){_j=_d;_h=_j-_v;}if(_u=="top"){_i=0;_k=_v;}else if(_u=="bottom"){_k=_e;_i=_k-_v;}else{_i=(_e-_v)/2;_k=_i+_v;}this.chkimg.move(_h,_i,_j-_h,_k-_i);if(this.text_elem){_p=_d-_n-_l;_q=_e-_o-_m;_p=(_p<0)?0:_p;_q=(_q<0)?0:_q;_l=this._convertLeftForRtlLayout(_l,_p);this.text_elem.setElementPosition(_l,_m);this.text_elem.setElementSize(_p,_q);}}};_pCheckBox.on_apply_style_color=function(_a){if(this.text_elem){this.text_elem.setElementColor(_a);}};_pCheckBox.on_apply_style_padding=function(_a){var _b=this.getElement();if(_b){_b.setElementPadding(_a);}};_pCheckBox.on_apply_expr=function(){this.on_apply_text();};_pCheckBox.on_apply_style_font=function(_a){if(this.text_elem){this.text_elem.setElementFont(_a);}};_pCheckBox.on_apply_style_buttonimage=function(_a){if(_a&&this.value==true){if(this.chkimg){this.chkimg.image=_a;this.chkimg._load_image(_a);}this.on_apply_value();}};_pCheckBox.on_apply_style_textpadding=function(_a){if(this.text_elem&&this.currentstyle.textpadding){this.on_apply_style_buttonalign(_a);}};_pCheckBox.on_apply_style_buttonborder=function(_a){if(this.chkimg){this.chkimg.currentstyle.border=_a;this.chkimg.on_update_style_border();}};_pCheckBox.on_apply_style_buttonbordertype=function(_a){if(this.chkimg){this.chkimg.currentstyle.bordertype=_a;this.chkimg.on_update_style_bordertype();}};_pCheckBox.on_apply_style_buttonsize=function(_a){this.on_apply_style_buttonalign(_a);};_pCheckBox.on_apply_style_buttongradation=function(_a){if(this.chkimg){this.chkimg.currentstyle.buttongradation=_a;this.chkimg.on_update_style_gradation();}};_pCheckBox.on_apply_style_buttonbackground=function(_a){if(this.chkimg){this.chkimg.currentstyle.buttonbackground=_a;this.chkimg.on_update_style_background();}};_pCheckBox.on_apply_style_buttonbackgroundimagemode=function(_a){};_pCheckBox.on_apply_style_cursor=function(_a){var _b=nexacro.Component.prototype.on_apply_style_cursor.call(this,_a);if(this.chkimg){this.chkimg.on_apply_style_cursor(_a);}return _b;};_pCheckBox.on_get_style_accessibility_label=function(){return this.text?this.text:"";};_pCheckBox.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;if(this.chkimg){var _b=this.chkimg._img_elem;if(_b){_b.setElementImageMirror(null,true);}}};_pCheckBox.on_create_contents=function(){var _a=this._control_element;if(_a){this.chkimg=new nexacro.CheckBoxImageCtrl("chkimg",this.position,0,0,0,0,null,null,this);this.chkimg.createComponent();var _b=this.currentstyle;if(this._is_usetextbox){var _c=new nexacro.TextBoxElement(_a);var _d=((!_b.align||_b.align.halign=="")?"center":_b.align._halign);var _e=((!_b.align||_b.align.valign=="")?"middle":_b.align._valign);_c.setElementSize(this._client_width,this._client_height);_c.setElementColor(_b.color);_c.setElementFont(_b.font);_c.setElementAlignXY(_d,_e);this.text_elem=_c;_c=null;}if(_b.buttonimage){this.chkimg._load_image(_b.buttonimage);}}};_pCheckBox.on_created_contents=function(){if(this.chkimg){this.chkimg.on_created();var _a=this.chkimg._img_elem;if(_a){_a.create();}}if(this.text_elem){this.text_elem.create();}this.on_apply_text();if(this.expr){this.on_apply_expr();}this._reCalcValue();this.on_apply_style_buttonalign(this.currentstyle.buttonalign);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);this.on_apply_style_textpadding(this.currentstyle.textpadding);this._setEventHandler("onkeyup",this.on_notify_checkbox_onkeyup,this);this.on_apply_prop_rtldirection();};_pCheckBox.on_destroy_contents=function(){if(this.text_elem){this.text_elem.destroy();this.text_elem=null;}if(this.chkimg){this.chkimg.destroy();this.chkimg=null;}this.binddataset=null;this.falsevalue=null;this.truevalue=null;};_pCheckBox.on_change_containerRect=function(_a,_b){var _c=this.text_elem;var _d=this._pseudo;var _e=this.on_find_CurrentStyle_align(_d);if(_c){_c.setElementSize(_a,_b);this.on_apply_style_align(_e);}var _f=this.on_find_CurrentStyle_buttonalign(_d);this.on_apply_style_buttonalign(_f);};_pCheckBox.on_getBindableProperties=function(){return "value";};_pCheckBox.__getBindableProperties=function(){return "value";};_pCheckBox.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this._setValue(undefined,false,false);return true;}};_pCheckBox.on_change_bindSource=function(_a,_b,_c,_d,_e){this.binddataset=_b;if(_a=="value"){this._setValue(_b.getColumn(_c,_d),false,false);return true;}return false;};_pCheckBox.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=_a;if(_a==undefined){_b=this.enable;}if(this.chkimg){this.chkimg._setEnable(_b);}};_pCheckBox.set_value=function(_a){if(this.value!=_a){this._setValue(_a,true,false);}};_pCheckBox.on_apply_value=function(){if(this.chkimg){if(this.isChecked()==true){var _a="theme://images/checked.gif";if(this.currentstyle.buttonimage){_a=this.currentstyle.buttonimage._value;this.chkimg.set_image(_a);this.chkimg.set_imagealign("center middle");}}else{this.chkimg.set_image("");}this.chkimg.on_apply_style_cursor(this.currentstyle.cursor);}};_pCheckBox.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pCheckBox.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pCheckBox.set_text=function(_a){var _b=_a;if(_a===undefined||_a===null){_b="";}else{_b=_a.toString();}if(_b!=this.text){this.text=_b;this.on_apply_text();}return this.text;};_pCheckBox.on_apply_text=function(){if(this.text_elem){var _a=this.expr;if(_a&&_a.length>0){_a=_a.trim().split(":");var _b=_a.length;var _c=new nexacro.ExprParser();var _d,_e;var _f;if(_b==1){_f=_a[0];}else{if(_a[0].trim().toUpperCase()!="EXPR"){_f=_a.join(":");}else{_f=_a.slice(1).join(":");}}_d=_c.makeExpr(this,_f);_c=null;_e=nexacro._createInlineFunc(_d,["comp"]);if(_e){try{var _g=nexacro._toString(_e.call(null,this));if(_g!=this.displaytext){this.displaytext=_g;}}catch(e){_c=null;return;}}_c=null;}else{this.displaytext=this.text;}this.text_elem.setElementText(this.displaytext);}};_pCheckBox.set_truevalue=function(_a){if(this.truevalue!=_a){if(this.isChecked()){this.value=_a;}this.truevalue=_a;this._reCalcValue();return this.truevalue;}};_pCheckBox.set_falsevalue=function(_a){if(this.falsevalue!=_a){if(!this.isChecked()){this.value=_a;}this.falsevalue=_a;this._reCalcValue();return this.falsevalue;}};_pCheckBox.isChecked=function(){return this._isChecked(this.value);};_pCheckBox.updateToDataset=function(){return this.applyto_bindSource("value",this.value);};_pCheckBox.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this.enable){return false;}if(this.readonly==false){if(this._isChecked(this.value)){if(this.falsevalue!=undefined&&this.falsevalue!=""){this._setValue(this.falsevalue,true);}else{this._setValue(false,true);}}else{if(this.truevalue!=undefined&&this.truevalue!=""){this._setValue(this.truevalue,true);}else{this._setValue(true,true);}}}if(this.onclick&&this.onclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onclick._fireEvent(this,_m);}return false;};_pCheckBox.on_fire_onsize=function(_a,_b){this.on_update_style_buttonalign();return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pCheckBox.on_fire_onchanged=function(_a,_b,_c){if(this.onchanged&&this.onchanged._has_handlers){var _d=new nexacro.CheckBoxChangedEventInfo(this,"onchanged",_b,_c);return this.onchanged._fireEvent(this,_d);}return false;};_pCheckBox.on_fire_canchange=function(_a,_b,_c){if(this.canchange&&this.canchange._has_handlers){var _d=new nexacro.CheckBoxChangedEventInfo(this,"canchange",_b,_c);return this.canchange._fireEvent(this,_d);}return true;};_pCheckBox.on_notify_checkbox_onkeyup=function(_a,_b){if(_b.keycode==nexacro.Event.KEY_SPACE){this.on_fire_onclick("",_b.altKey,_b.ctrlKey,_b.shiftKey, -1, -1, -1, -1, -1, -1,this.parent,this);}};_pCheckBox._on_hotkey=function(_a,_b,_c,_d){this.on_fire_onclick("",e.alt_key,e.ctrl_key,e.shift_key, -1, -1, -1, -1, -1, -1,this.parent,this);};_pCheckBox._setValue=function(_a,_b,_c){var _d;if(this.isChecked()==this._isChecked(_a)){return this.value;}if(_c!==false){_d=this.on_fire_canchange(this,this.value,_a);}if(_d||_d===undefined){var _e=this.value;this.value=_a;this._reCalcValue();this._setAccessibilityStatChecked(this.isChecked());if(_e!==this.value){if(_c!==false){this.on_fire_onchanged(this,_e,this.value);}}if(_b==true){var _f=this.applyto_bindSource("value",_a);if(_f==false){this.value=_e;this._reCalcValue();}}}return this.value;};_pCheckBox._isChecked=function(_a){if(this.truevalue!=null){if(this.falsevalue!=null){if(_a==this.falsevalue||_a===undefined){return false;}if(_a==this.truevalue||nexacro._toBoolean(_a)){return true;}return false;}else{if(_a==this.truevalue||nexacro._toBoolean(_a)){return true;}else{return false;}}}else{if(this.falsevalue!=null){if(_a==this.falsevalue){return false;}else{return true;}}else{return nexacro._toBoolean(_a);}}};_pCheckBox._verticalalign=function(_a){};_pCheckBox._reCalcValue=function(){if(!this._control_element){return;}if(this.isChecked()){if(!this.truevalue){if(parseInt(this.value)!=1){this.value=true;}else{this.value=1;}}}else{if(!this.falsevalue){if(parseInt(this.value)!=0){this.value=false;}else{this.value=0;}}}this._setAccessibilityStatChecked(this.isChecked());this.on_apply_value();};delete _pCheckBox;nexacro.CheckBoxCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CheckBox.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};_pCheckBoxCtrl=nexacro._createPrototype(nexacro.CheckBox,nexacro.CheckBoxCtrl);nexacro.CheckBoxCtrl.prototype=_pCheckBoxCtrl;_pCheckBoxCtrl._type_name="CheckBoxControl";nexacro._setForControlStyleFinder(_pCheckBoxCtrl);delete _pCheckBoxCtrl;nexacro.CheckBoxImageCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageViewerCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pCheckBoxImageCtrl=nexacro._createPrototype(nexacro.ImageViewerCtrl,nexacro.CheckBoxImageCtrl);nexacro.CheckBoxImageCtrl.prototype=_pCheckBoxImageCtrl;_pCheckBoxImageCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_buttonbackground(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this.parent.on_find_CurrentStyle_buttonbackgroundimagemode(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_image=function(_a){return this.parent.on_find_CurrentStyle_buttonimage(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_buttonborder(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_buttonbordertype(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_buttongradation(_a);};_pCheckBoxImageCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pCheckBoxImageCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,this);};_pCheckBoxImageCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,this);};delete _pCheckBoxImageCtrl;};if(!nexacro.RadioClickEventInfo){nexacro.RadioClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.ClickEventInfo.call(this,_a,_b||"onradioclick",_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.index=_c;this.itemtext=_d;this.itemvalue=_e;};var _pRadioClickEventInfo=nexacro._createPrototype(nexacro.ClickEventInfo,nexacro.RadioClickEventInfo);nexacro.RadioClickEventInfo.prototype=_pRadioClickEventInfo;_pRadioClickEventInfo._type_name="RadioClickEventInfo";delete _pRadioClickEventInfo;}if(!nexacro.Radio){nexacro.Radio_Style=function(_a){nexacro.Style.call(this);this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.textpadding=null;if(_a){this._target=_a;}};var _pRadioStyle=nexacro._createPrototype(nexacro.Style,nexacro.Radio_Style);nexacro.Radio_Style.prototype=_pRadioStyle;eval(nexacro._createAlignAttributeEvalStr("_pRadioStyle","buttonalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pRadioStyle","buttonbackground"));eval(nexacro._createValueAttributeEvalStr("_pRadioStyle","buttonbackgroundimagemode"));eval(nexacro._createBorderAttributeEvalStr("_pRadioStyle","buttonborder"));eval(nexacro._createColorAttributeEvalStr("_pRadioStyle","buttoncolor"));eval(nexacro._createGradationAttributeEvalStr("_pRadioStyle","buttongradation"));eval(nexacro._createValueAttributeEvalStr("_pRadioStyle","buttonimage"));eval(nexacro._createValueAttributeEvalStr("_pRadioStyle","buttonsize"));eval(nexacro._createBackgroundAttributeEvalStr("_pRadioStyle","itembackground"));eval(nexacro._createBorderAttributeEvalStr("_pRadioStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pRadioStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pRadioStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pRadioStyle","itempadding"));eval(nexacro._createPaddingAttributeEvalStr("_pRadioStyle","textpadding"));eval(nexacro._createAccessibilityAttributeEvalStr("_pRadioStyle","accessibility"));eval(nexacro._createAccessibilityAttributeEvalStr("_pRadioStyle","itemaccessibility"));_pRadioStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.textpadding=null;this.accessibility=null;this.itemaccessibility=null;};_pRadioStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign&&this.buttonalign._is_empty){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonimage&&this.buttonimage._is_empty){_a+="buttonimage:"+this.buttonimage._value+"; ";}if(this.textpadding&&this.textpadding._is_empty){_a+="textpadding:"+this.textpadding._value+"; ";}if(this.buttonborder&&this.buttonborder._is_empty){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttoncolor&&this.buttoncolor._is_empty){_a+="buttoncolor:"+this.buttoncolor._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.buttonbackground&&this.buttonbackground._is_empty){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._is_empty){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbackgroundimagemode&&this.buttonbackgroundimagemode._is_empty){_a+="buttonbackgroundimagemode:"+this.buttonbackgroundimagemode._value+"; ";}if(this.itembackground&&this.itembackground._is_empty){_a+="itembackground:"+this.itembackground._value+"; ";}if(this.itemborder&&this.itemborder._is_empty){_a+="itemborder:"+this.itemborder._value+"; ";}if(this.itembordertype&&this.itembordertype._is_empty){_a+="itembordertype:"+this.itembordertype._value+"; ";}if(this.itemgradation&&this.itemgradation._is_empty){_a+="itemgradation:"+this.itemgradation._value+"; ";}if(this.itempadding&&this.itempadding._is_empty){_a+="itempadding:"+this.itempadding._value+"; ";}if(this.accessibility&&this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}if(this.itemaccessibility&&this.itemaccessibility._is_empty){_a+="itemaccessibility:"+this.itemaccessibility._value+"; ";}return _a;};nexacro.Radio_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttoncolor=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;};var _pRadioCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Radio_CurrentStyle);nexacro.Radio_CurrentStyle.prototype=_pRadioCurrentStyle;_pRadioCurrentStyle.__get_custom_style_value=_pRadioStyle.__get_custom_style_value;_pRadioCurrentStyle.__custom_emptyObject=_pRadioStyle.__custom_emptyObject;delete _pRadioStyle;delete _pRadioCurrentStyle;nexacro.Radio=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.pre_index= -1;this.pre_text;this.pre_value;this.datacolumn="";this.value=undefined;this.index= -1;this.index_init= -1;this.codecolumn="";this.readonly=false;this.innerdataset=null;this.columncount=0;this.rowcount=0;this.direction="horizontal";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondrop":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onitemclick":1,"onitemchanged":1,"canitemchange":1,"onmousedown":1,"onmouseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._apply_pushed_pseudo=true;this._do_apply_val=true;this._accessibility_role="radio";this._want_tab=true;this._want_arrow=false;this._is_first_focus=false;this._accessibility_index= -1;this._items=[];this._exprcache={};};var _pRadio=nexacro._createPrototype(nexacro.Component,nexacro.Radio);nexacro.Radio.prototype=_pRadio;_pRadio._type_name="Radio";_pRadio.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_buttonalign(_a);var _d=this.on_find_CurrentStyle_buttonbackground(_a);var _e=this.on_find_CurrentStyle_buttonbackgroundimagemode(_a);var _f=this.on_find_CurrentStyle_buttonborder(_a);var _g=this.on_find_CurrentStyle_buttoncolor(_a);var _h=this.on_find_CurrentStyle_buttongradation(_a);var _i=this.on_find_CurrentStyle_buttonimage(_a);var _j=this.on_find_CurrentStyle_buttonsize(_a);var _k=this.on_find_CurrentStyle_itembackground(_a);var _l=this.on_find_CurrentStyle_itemborder(_a);var _m=this.on_find_CurrentStyle_itembordertype(_a);var _n=this.on_find_CurrentStyle_itemgradation(_a);var _o=this.on_find_CurrentStyle_itempadding(_a);var _p=this.on_find_CurrentStyle_textpadding(_a);var _q=this.on_find_CurrentStyle_font(_a);var _r=this.on_find_CurrentStyle_color(_a);var _s=this.on_find_CurrentStyle_align(_a);var _t=this.on_find_CurrentStyle_accessibility(_a);var _u=this.on_find_CurrentStyle_itemaccessibility(_a);if(_b.font!=_q){_b.font=_q;this.on_apply_style_font(_b.font);}if(_b.color!=_r){_b.color=_r;this.on_apply_style_color(_b.color);}if(_b.align!=_s){_b.align=_s;this.on_apply_style_align(_b.align);}if(_c!=_b.buttonalign){_b.buttonalign=_c;this.on_apply_style_buttonalign(_b.buttonalign);}if(_d!=_b.buttonbackground){_b.buttonbackground=_d;this.on_apply_style_buttonbackground(_b.buttonbackground);}if(_e!=_b.buttonbackgroundimagemode){_b.buttonbackgroundimagemode=_e;this.on_apply_style_buttonbackgroundimagemode(_b.buttonbackgroundimagemode);}if(_f!=_b.buttonborder){_b.buttonborder=_f;this.on_apply_style_buttonborder(_b.buttonborder);}if(_g!=_b.buttoncolor){_b.buttoncolor=_g;this.on_apply_style_buttoncolor(_b.buttoncolor);}if(_h!=_b.buttongradation){_b.buttongradation=_h;this.on_apply_style_buttongradation(_b.buttongradation);}if(_i!=_b.buttonimage){_b.buttonimage=_i;this.on_apply_style_buttonimage(_b.buttonimage);}if(_j!=_b.buttonsize){_b.buttonsize=_j;this.on_apply_style_buttonsize(_b.buttonsize);}if(_k!=_b.itembackground){_b.itembackground=_k;this.on_apply_style_itembackground(_b.itembackground);}if(_l!=_b.itemborder){_b.itemborder=_l;this.on_apply_style_itemborder(_b.itemborder);}if(_m!=_b.itembordertype){_b.itembordertype=_m;this.on_apply_style_itembordertype(_b.itembordertype);}if(_n!=_b.itemgradation){_b.itemgradation=_n;this.on_apply_style_itemgradation(_b.itemgradation);}if(_o!=_b.itempadding){_b.itempadding=_o;this.on_apply_style_itempadding(_b.itempadding);}if(_p!=_b.textpadding){_b.textpadding=_p;this.on_apply_style_textpadding(_b.textpadding);}if(_t!=_b.accessibility){_b.accessibility=_t;this.on_update_style_accessibility();}if(_u!=_b.itemaccessibility){this.currentstyle.itemaccessibility=_u;this.on_apply_style_itemaccessibility(_u);}var _v=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_v!=_b.rtlimagemirroring){_b.rtlimagemirroring=_v;this.on_apply_style_rtlimagemirroring(_v);}};_pRadio.on_create_custom_style=function(){return new nexacro.Radio_Style(this);};_pRadio.on_create_custom_currentStyle=function(){return new nexacro.Radio_CurrentStyle();};_pRadio.on_find_CurrentStyle_buttonalign=function(_a){return this._find_pseudo_obj("buttonalign",_a,"align");};_pRadio.on_find_CurrentStyle_buttonbackground=function(_a){return this._find_pseudo_obj("buttonbackground",_a,"background");};_pRadio.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this._find_pseudo_obj("buttonbackgroundimagemode",_a);};_pRadio.on_find_CurrentStyle_buttonborder=function(_a){return this._find_pseudo_obj("buttonborder",_a,"border");};_pRadio.on_find_CurrentStyle_buttoncolor=function(_a){return this._find_pseudo_obj("buttoncolor",_a,"color");};_pRadio.on_find_CurrentStyle_buttongradation=function(_a){return this._find_pseudo_obj("buttongradation",_a,"gradation");};_pRadio.on_find_CurrentStyle_buttonimage=function(_a){return this._find_pseudo_obj("buttonimage",_a);};_pRadio.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a);};_pRadio.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pRadio.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pRadio.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pRadio.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pRadio.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding");};_pRadio.on_find_CurrentStyle_itemaccessibility=function(_a){var _b=this._find_pseudo_obj("itemaccessibility",_a,"accessibility");return _b?_b:nexacro.Component._default_accessibility;};_pRadio.on_find_CurrentStyle_textpadding=function(_a){return this._find_pseudo_obj("textpadding",_a,"padding");};_pRadio.on_update_style_buttonalign=function(){this.currentstyle.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign(this.currentstyle.buttonalign);};_pRadio.on_update_style_buttonimage=function(){this.currentstyle.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);};_pRadio.on_update_style_textpadding=function(){this.currentstyle.textpadding=this.on_find_CurrentStyle_textpadding(this._pseudo);this.on_apply_style_textpadding(this.currentstyle.textpadding);};_pRadio.on_update_style_buttonborder=function(){this.currentstyle.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(this.currentstyle.buttonborder);};_pRadio.on_update_style_buttoncolor=function(){this.currentstyle.buttoncolor=this.on_find_CurrentStyle_buttoncolor(this._pseudo);this.on_apply_style_buttoncolor(this.currentstyle.buttoncolor);};_pRadio.on_update_style_buttonsize=function(){this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(this.currentstyle.buttonsize);};_pRadio.on_update_style_buttonbackground=function(){this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);};_pRadio.on_update_style_buttongradation=function(){this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(this.currentstyle.buttongradation);};_pRadio.on_update_style_buttonbackgroundimagemode=function(){this.currentstyle.buttonbackgroundimagemode=this.on_find_CurrentStyle_buttonbackgroundimagemode(this._pseudo);this.on_apply_style_buttonbackgroundimagemode(this.currentstyle.buttonbackgroundimagemode);};_pRadio.on_update_style_itembackground=function(){this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo);this.on_apply_style_itembackground(this.currentstyle.itembackground);};_pRadio.on_update_style_itemborder=function(){this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo);this.on_apply_style_itemborder(this.currentstyle.itemborder);};_pRadio.on_update_style_itembordertype=function(){this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo);this.on_apply_style_itembordertype(this.currentstyle.itembordertype);};_pRadio.on_update_style_itemgradation=function(){this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo);this.on_apply_style_itemgradation(this.currentstyle.itemgradation);};_pRadio.on_update_style_itempadding=function(){this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo);this.on_apply_style_itempadding(this.currentstyle.itempadding);};_pRadio.on_update_style_itemaccessibility=function(){this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo);this.on_apply_style_itemaccessibility(this._make_accessibility_value(this.currentstyle.itemaccessibility));};_pRadio._search_style_obj=function(_a,_b,_c){if(_a&&_a._bindtype!=0){return nexacro._getValueForStyleBindExpr(this,_a,_b,_c);}else{return _a;}};_pRadio.on_apply_style_align=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_align(_a);}}};_pRadio.on_apply_style_color=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"color",_d);_b[_d].on_apply_style_color(_a);}}};_pRadio.on_apply_style_font=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"font",_d);_b[_d].on_apply_style_font(_a);}}};_pRadio.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._items;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e].on_apply_style_cursor(_a);}}}};_pRadio.on_apply_style_buttonalign=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonalign();}}};_pRadio.on_apply_style_buttonbackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonbackground(_a);}}};_pRadio.on_apply_style_buttonbackgroundimagemode=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonbackgroundimagemode(_a);}}};_pRadio.on_apply_style_buttonborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonborder(_a);}}};_pRadio.on_apply_style_buttoncolor=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttoncolor(_a);}}};_pRadio.on_apply_style_buttongradation=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttongradation(_a);}}};_pRadio.on_apply_style_buttonimage=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonimage(_a);}}};_pRadio.on_apply_style_buttonsize=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttonsize(_a);}}};_pRadio.on_apply_style_textpadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_textpadding(_a);}}};_pRadio.on_apply_style_itembackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"background",_d);_b[_d].on_update_style_background();}}};_pRadio.on_apply_style_itemborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"border",_d);_b[_d].on_apply_style_border(_a);}}};_pRadio.on_apply_style_itembordertype=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"bordertype",_d);_b[_d].on_apply_style_bordertype(_a);}}};_pRadio.on_apply_style_itemgradation=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"gradation",_d);_b[_d].on_apply_style_gradation(_a);}}};_pRadio.on_apply_style_itempadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this._search_style_obj(_a,"padding",_d);_b[_d].on_apply_style_padding(_a);}}};_pRadio.on_apply_style_accessibility=function(_a){if(_a){var _b=this.getElement();if(_b){_b.setAccessibility(_a);}}};_pRadio.on_apply_style_itemaccessibility=function(_a){var _b=this._items;this.currentstyle.itemaccessibility=_a;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_a){var _e=this._search_style_obj(_a,"accessibility",_d);if(_e){_b[_d].style.set_accessibility(_e._value);}}}}};_pRadio.on_create_contents=function(){var _a=this.getElement();if(_a){if(!this.innerdataset){var _b=new nexacro.TextBoxElement(_a);this._text_elem=_b;var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(this.currentstyle.font);_b.setElementColor(this.currentstyle.color);_b.setElementAlignXY(_c,_d);}}};_pRadio.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._innerdataset;var _c=this.datacolumn==""?this.codecolumn:this.datacolumn;var _d=this.codecolumn;var _e="";var _f="";var _g=null;if(_b){var _h=_b.getRowCount();var _i=false;if(_h>0){for(var _j=0;_j<_h;_j++ ){_e=_b.getColumn(_j,_c);_f=_b.getColumn(_j,_d);_g=new nexacro.RadioItemCtrl("item","absolute",0,0,0,0,null,null,this);_g.set_text(_e);_g.set_code(_f);_g.set_index(_j);if(_f){if(_f==this.value&&_i==false){_g.set_value(true);_i=true;}}_g.createComponent();if(nexacro._enableaccessibility){_g._setAccessibilityInfoCount(_h);_g._setAccessibilityInfoIndex(_j);}_g._setEventHandler("onclick",this.on_notify_item_onclick,this);this._items[_j]=_g;}this._update_radioitem();}if(this.index_init> -1&&this.index<0&&this.value===undefined){this.index=this.index_init;}this.on_apply_index(this.pre_index,this.index,false);}else{var _k=this._text_elem;if(_k){_k.create();this.on_apply_text();}}this.on_apply_readonly(this.readonly);this.on_apply_value();if(nexacro._enableaccessibility){this._want_arrow=nexacro._enableaccessibility;this.on_update_style_accessibility();}this.on_apply_style_color(this.currentstyle.color);this.on_apply_style_font(this.currentstyle.font);this.on_apply_style_align(this.currentstyle.align);this.on_apply_style_cursor(this.currentstyle.cursor);this.on_apply_style_buttonalign(this.currentstyle.buttonalign);this._setEventHandler("onkeydown",this.on_notify_radio_onkeydown,this);}this.on_apply_prop_rtldirection();};_pRadio.on_destroy_contents=function(){var _a=this._items;var _b=_a.length;var _c=this._text_elem;if(_c){_c.destroy();this._text_elem=null;}for(var _d=0;_d<_b;_d++ ){_a[_d].destroy();_a[_d]=null;}this._items=null;if(this._innerdataset){this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);this._innerdataset=null;}this._exprcache=null;};_pRadio.on_change_containerRect=function(_a,_b){this._update_radioitem();};_pRadio.on_getBindableProperties=function(){return "value";};_pRadio.on_apply_prop_enable=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setEnable(_a);}}};_pRadio.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this.value=undefined;var _d=this._getItem(this.index);var _e=this._getItem( -1);this.index= -1;if(_d){_d.set_value(false);}if(_e){_e.set_value(true);this.text=_e.text;}return true;}};_pRadio.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);this.value=_f;var _g=this._innerdataset;if(!_g){return true;}var _h=this.codecolumn;var _i=_g.findRow(_h,_f);var _j=this._getItem(this.index);var _k=this._getItem(_i);this.index=_i;if(_j){_j.set_value(false);}if(_k){_k.set_value(true);this.text=_k.text;}return true;}return false;};_pRadio.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._items;var _h=this._accessibility_index;var _i=this.index;var _j=_g.length;if(_a==nexacro.Event.KEY_TAB){if(_i> -1){if(_d){if(_h<0){this._want_tab=false;}else{var _k=this._last_focused;this._do_defocus(_k,true);if(_k&&_k._selected){_k._stat_change("select","selected");}this._on_focus(true);this._accessibility_index= -1;}}else{if(_h> -1){this._want_tab=false;}else{var _l=_g[_i];if(_l){_l._on_focus(true);}this._accessibility_index=_i;}}}else{if((_d&&_h<0)||(!_d&&_h>=_j-1)){this._want_tab=false;}else{if(_d){_h-- ;}else{_h++ ;}var _l=_g[_h];if(_l){_l._on_focus(true);}else{this._do_defocus(this._last_focused,true);this._on_focus(true);}this._accessibility_index=_h;}}this._getWindow()._keydown_element._event_stop=true;}else if(_a==nexacro.Event.KEY_SPACE){if(!this.readonly){if(this._accessibility_index> -1){_g[this._accessibility_index]._stat_change("notfocus","normal");this.set_index(this._accessibility_index);}}}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pRadio.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;var _e=this._items;if(_e){if(_a){this._accessibility_index++ ;}else{this._accessibility_index-- ;}if(_e[this._accessibility_index]){_d=true;_e[this._accessibility_index]._setAccessibilityNotifyEvent();}}return _d;};_pRadio._setAccessibilityNotifyEvent=function(_a){var _b=false;var _c=this._items;if(_c){if(_a){this._accessibility_index=0;}else{this._accessibility_index=_c.length-1;}if(_c[this._accessibility_index]){_b=_c[this._accessibility_index]._setAccessibilityNotifyEvent();}}else{_b=nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);}return _b;};_pRadio._setAccessibilityInfoByHover=function(_a){if(_a&&_a.parent instanceof nexacro.RadioItemCtrl){_a=_a.parent;}this._accessibility_index=_a.index;return _a._setAccessibilityNotifyEvent();};_pRadio._getDlgCode=function(_a,_b,_c,_d){if(_a&&(_a==nexacro.Event.KEY_TAB)){var _e=this._getPreCalculateWantTab(_a,_d);}else{var _f=this._getPreCalculateWantArrow(_a);}if(this._is_first_focus){this._is_first_focus=false;}this._want_arrow=nexacro._enableaccessibility;this._want_tab=true;return {want_tab:_e,want_return:false,want_escape:false,want_chars:false,want_arrows:_f};};_pRadio._setFocus=function(_a,_b){this._focus_direction=_b;var _c=this.setFocus(_a);this._focus_direction= -1;return _c;};_pRadio._on_focus=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._focus_direction;if(_b=="tabkey"){_h=0;}else if(_b=="shifttabkey"){_h=1;}else if(_b=="downkey"){_h=2;}else if(_b=="upkey"){_h=3;}if(_a==false){this._focus_direction= -1;}if(_h>=0){_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(_a==false){this._accessibility_index= -1;var _i=this._items;if(_h<2){var _i=this._items;if(_i.length>0){var _j;this._is_first_focus=true;if(this.index> -1){this._accessibility_index=this.index;_j=_i[this._accessibility_index];_j._on_focus(true);_j._stat_change("select","selected");}else{if(_h==0){this._accessibility_index=0;}else{this._accessibility_index=_i.length-1;}_j=_i[this._accessibility_index];_j._on_focus(true);}}}else if(nexacro._enableaccessibility){if(!this.readonly){if(_h==2){if(!this._isAccessibilityEnable()){var _i=this._items;this._is_first_focus=true;if(this.index> -1){_j=_i[this._accessibility_index=this.index];this.set_index(this._accessibility_index);_j._on_focus(true);}else if(_i.length>0){var _k=this._getNextAccessibilityOrderIndex(1);if(_k> -1){this.set_index(_k);this._accessibility_index=_k;var _j=_i[_k];_j._on_focus(true);}}_j._stat_change("select","selected");}}else if(_h==3){if(!this._isAccessibilityEnable()){var _i=this._items;this._is_first_focus=true;if(this.index> -1){_j=_i[this._accessibility_index=this.index];this.set_index(this._accessibility_index);_j._on_focus(true);}else if(_i.length>0){var _k=this._getNextAccessibilityOrderIndex(1);if(_k> -1){this.set_index(_k);this._accessibility_index=_k;var _j=_i[_k];_j._on_focus(true);}}_j._stat_change("select","selected");}}}}}}else{_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);}return _g;};_pRadio._on_getAccessibilityAdditionalLabel=function(){if(this._isAccessibilityEnable()&&!this._is_first_focus){var _a=0;var _b=this._items;if(_b){_a=_b.length;}return ( +this.index+1)+" "+_a;}return "";};_pRadio._on_getAccessibilityAdditionalRole=function(){var _a="";if(!this._is_first_focus&&this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="radio"){_a=" radio";}return _a;};_pRadio.on_get_style_accessibility_label=function(){var _a="";if(!this._is_first_focus){_a=this.text?this.text:this.value;}return _a;};_pRadio.set_text=nexacro._emptyFn;_pRadio.on_apply_text=function(){var _a=this._control_element;var _b=this._text_elem;if(_a){if(!this.innerdataset){if(this._text_elem){_b.setElementText(this.id);}}else{if(this._text_elem){_b.setElementText("");}}this._redraw_radioitem();}};_pRadio.set_value=function(_a){if(_a!=this.value){if(_a==undefined||_a==null){_a="";}else{_a=_a.toString();}}var _b=this.index;var _c=this.value;this._setValue(_a,false);var _d=this.index;var _e=_a;if(this.applyto_bindSource("value",_a)==false){var _f=this._getItem(_d);var _g=this._getItem(_b);if(_f){_f.set_value(false);}if(_g){_g.set_value(true);}this.index=_b;this.value=_c;}};_pRadio.on_apply_value=function(_a){var _b=this._innerdataset;if(!_b){return;}var _c=this.codecolumn;var _d=this.datacolumn;if(!_c&&!_d){return;}if(this.value){var _e=_b.findRow(_c,this.value);if(_a!=true){if(this.index!=_e){this._setIndex(_e,true);}}}if(_a!=true){if(this.value==undefined||this.value===""){this._setIndex( -1,true);}}};_pRadio.set_index=function(_a){this._setIndex(_a,false);};_pRadio.on_apply_index=function(_a,_b,_c){var _d=this._innerdataset;if(!_d){return;}var _e=this.codecolumn;var _f=this.datacolumn;if(!_e&&!_f){return;}var _g,_h,_i;if(_b>=0){_g=_d.getColumn(_b,_e);if(this.value!=_g){if(this.applyto_bindSource("value",_g)===false){_i=this._getItem(_b);if(_i){_i.set_value(false);}_h=this._getItem(this.index);if(_h){_h.set_value(true);this.text=_h.text;}this._do_apply_val=false;return;}this._setValue(_g,true);}}if(_c!=true){if(this.index==undefined){this._setValue(undefined,true);}}if(_b<0){var _l;for(var _m=0;_m<this._items.length;_m++ ){_l=this._getItem(_m);if(_l){_l.set_value(false);}}_g=undefined;if(this.applyto_bindSource("value",_g)===false){_h=this._getItem(this.index);if(_h){_h.set_value(true);this.text=_h.text;}this._do_apply_val=false;return;}this._setValue(_g,true);}var _j=this._getItem(_a);if(_j){_j.set_value(false);}var _k=this._getItem(_b);if(_k){_k.set_value(true);this.text=_k.text;}else{this.text="";}};_pRadio.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pRadio.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _b=null;var _c=this._items;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_b=this._getItem(_e);_b.set_readonly(_a);}};_pRadio.set_datacolumn=function(_a){this.datacolumn=_a;this.on_apply_datacolumn();};_pRadio.on_apply_datacolumn=function(){var _a=this.datacolumn==""?this.codecolumn:this.datacolumn;var _b;var _c=this._innerdataset;if(!_c){return;}var _d=this._items;var _e=_d.length;if(this._creating==false){this._create_radioitem();}for(var _f=0;_f<_e;_f++ ){_b=_c.getColumn(_f,_a);if(_b){_d[_f].set_text(_b);if(_f==this.index){this.text=_b;}}else{_d[_f].set_text("");this.text="";}}};_pRadio.set_codecolumn=function(_a){this.codecolumn=_a;this.on_apply_codecolumn();};_pRadio.on_apply_codecolumn=function(){var _a=this.codecolumn;var _b;var _c=this._innerdataset;if(!_c){return;}var _d=this._items;var _e=_d.length;if(this._creating==false){this._create_radioitem();}for(var _f=0;_f<_e;_f++ ){_b=_c.getColumn(_f,_a);if(_b){_d[_f].set_code(_b);}}this.on_apply_value(false);this.set_index(this.index);if(this.datacolumn==""&&this._control_element){this.on_apply_datacolumn();}};_pRadio.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pRadio._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pRadio.getInnerDataset=function(){return this._innerdataset;};_pRadio.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pRadio.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){_a._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_a._setEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);}else{var _b=this._text_elem;if(!_b&&this._control_element){_b=new nexacro.TextBoxElement(this._control_element);this._text_elem=_b;var _c=this.currentstyle;var _d=(_c.align.halign==""?"center":_c.align._halign);var _e=(_c.align.valign==""?"middle":_c.align._valign);_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlignXY(_d,_e);_b.create();}}this.on_apply_text();};_pRadio.set_columncount=function(_a){if(_a!=this.columncount){this.columncount=_a;this.on_apply_columncount();}};_pRadio.on_apply_columncount=function(){this._update_radioitem();};_pRadio.set_rowcount=function(_a){if(_a!=this.rowcount){this.rowcount=_a;this.on_apply_rowcount();}};_pRadio.on_apply_rowcount=function(){this._update_radioitem();};_pRadio.set_direction=function(_a){if(_a!=this.direction){if(_a.toString()==""){_a="horizontal";}this.direction=_a;this.on_apply_direction();}};_pRadio.on_apply_direction=function(){this._update_radioitem();};_pRadio.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setRtlDirection(_a);}};_pRadio.getCount=function(){var _a=this._items.length;return _a;};_pRadio.updateToDataset=function(){var _a=this.applyto_bindSource("value",this.value);return _a;};_pRadio.on_notify_radio_onkeydown=function(_a,_b){var _c=this._innerdataset;if(!_c||this.readonly){return false;}var _d=_c.getRowCount();var _e=_d-1;if(_d<1){return false;}var _f=this._items;var _g=_f.length;for(var _j=0;_j<_g;_j++ ){if(_f[_j].value==true){this.pre_index=_f[_j].index;this.pre_value=_f[_j].code;this.pre_text=_f[_j].text;}}var _h=nexacro.Event;var _i=undefined;if(!nexacro._enableaccessibility){_i=(_b.keycode==_h.KEY_UP)||(_b.keycode==_h.KEY_LEFT)? -1:(_b.keycode==_h.KEY_DOWN)||(_b.keycode==_h.KEY_RIGHT)?1:undefined;}else{_i=(_b.keycode==_h.KEY_LEFT)? -1:(_b.keycode==_h.KEY_RIGHT)?1:undefined;}if(_i!==undefined){if(nexacro._enableaccessibility){if(this._accessibility_index== -1&&this.index> -1){_a.idx=this.index;}else if(this.index==0&&_h.KEY_UP==_b.keycode){var _k=this._getWindow();_k._removeFromCurrentFocusPath(this,true);if(this._isAccessibilityEnable()){this._on_focus(true);}this._accessibility_index= -1;return;}else{_a.idx=this._accessibility_index+_i;}}else{_a.idx=this.index+_i;}if(_a.idx>=_d){_a.idx=0;}else if(_a.idx<0){_a.idx=_e;}this._accessibility_index=_a.idx;var _l=this._getItem(_a.idx);if(_d!=_a.idx&&_d>=_a.idx&&0<=_a.idx){this.set_index(_a.idx);if(_a.idx!=this.pre_index){this.on_fire_onitemchanged(_l,_b);}}if(nexacro._enableaccessibility){_l._on_focus(true);_l._stat_change("select","selected");}}return false;};_pRadio.on_notify_item_onclick=function(_a,_b){if(!this.enable||this.readonly==true){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){_a._setAccessibilityNotifyEvent();}return false;}var _c=this._items;var _d=_c.length;var _e= -1;for(var _g=0;_g<_d;_g++ ){if(_c[_g].value==true){this.pre_index=_c[_g].index;this.pre_value=_c[_g].code;this.pre_text=_c[_g].text;_e=_g;}}var _f=this.on_fire_canitemchange(_a,_b);if(_f!==false){if(_e>=0){_c[this.pre_index].set_value(false);}this.on_fire_onitemclick(_a,_b);_a.set_value(true);this.set_index(_a.index);if(this.index!=this.pre_index||_e<0){this.on_fire_onitemchanged(_a,_b);}if(nexacro._enableaccessibility){this._accessibility_index=_a.index;_a._on_focus(true);}}};_pRadio.on_fire_canitemchange=function(_a,_b){if(this.canitemchange&&this.canitemchange._has_handlers){var _c=new nexacro.ItemChangeEventInfo(this,"canitemchange",this.pre_index,this.pre_text,this.pre_value,_a.index,_a.text,_a.code);return this.canitemchange._fireCheckEvent(this,_c);}return;};_pRadio.on_fire_onitemchanged=function(_a,_b){if(this.onitemchanged&&this.onitemchanged._has_handlers){var _c=new nexacro.ItemChangeEventInfo(this,"onitemchanged",this.pre_index,this.pre_text,this.pre_value,_a.index,_a.text,_a.code);return this.onitemchanged._fireEvent(this,_c);}return false;};_pRadio.on_fire_onitemclick=function(_a,_b){if(this.onitemclick&&this.onitemclick._has_handlers){var _c=new nexacro.ItemClickEventInfo(this,"onitemclick",_a.index,_a.text,_a.code);return this.onitemclick._fireEvent(this,_c);}return false;};_pRadio._callback_onvaluechanged=function(_a,_b){this._redraw_radioitem();};_pRadio._callback_onload=function(_a,_b){};_pRadio._callback_onrowsetchanged=function(_a,_b){this._redraw_radioitem();};_pRadio._get_contents_rows=function(){var _a=this._buffer_pages,_b=[];if(_a){var _c,_d;for(var _e=0,_f=_a.length;_e<_f;_e++ ){_c=_a[_e];if(_c){_b=_b.concat(_c);}}}return _b;};_pRadio._setIndex=function(_a,_b){_a=parseInt(_a)|0;if(this.index_init<0&&this.index<0&&this._items.length==0){this.index_init=_a;}if(_a>0&&this._items.length>0&&(_a>=this._items.length)){_a= -1;}else if(this._innerdataset&&this._items.length==0){if(this._innerdataset.getRowCount()==0){_a= -1;}}this._do_apply_val=true;this.on_apply_index(this.index,_a,_b);if(this._do_apply_val){this.index=_a;}};_pRadio._getItem=function(_a){var _b=this._items;var _c=_b.length;if(_a>=0&&_b.length>0){return _b[_a];}return null;};_pRadio._redraw_radioitem=function(){var _a=this.getElement();var _b=this._innerdataset;var _c=null;var _d="";var _e="";if(_a&&_a.getRootWindowHandle()){this._delete_radioitem();if(_b){var _f=_b.getRowCount();var _g=this.datacolumn;var _h=this.codecolumn;if(_f>0){for(var _i=0;_i<_f;_i++ ){_d=_b.getColumn(_i,_g==""?_h:_g);_e=_b.getColumn(_i,_h);_c=new nexacro.RadioItemCtrl("item","absolute",0,0,0,0,null,null,this);_c.set_text(_d);_c.set_code(_e);_c.set_index(_i);_c.createComponent();_c.on_created();_c._setEventHandler("onclick",this.on_notify_item_onclick,this);if(nexacro._enableaccessibility){_c._setAccessibilityInfoIndex(_i);_c._setAccessibilityInfoCount(_f);}this._items[_i]=_c;}this._update_radioitem();}}this.on_apply_index(this.pre_index,this.index,false);this.on_apply_style_cursor();}};_pRadio._delete_radioitem=function(){var _a=this._items;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();_a[_c]=null;}while(_b>0){_a.pop();_b-- ;}};_pRadio._update_radioitem=function(){var _a=this.getElement();if(_a){var _b=this._innerdataset;var _c=this._items;var _d=_c.length;if(_b==null||_d==0){return;}var _e=parseInt(this.columncount)|0;var _f=parseInt(this.rowcount)|0;var _g=_b.getRowCount();var _h=_b.getColCount();var _i=1;var _j=_g;var _k="row";var _l=this.direction.toString();var _m=0;var _n=0;var _o=1;if(_e== -1&&_f== -1){_j=1;_i=0;var _p=0;for(var _q=0;_q<_d;_q++ ){var _r=_c[_q]._getItemRealSize();_p+=_r.width;if(this._client_width<_p){_j++ ;_p=_r.width;_i=1;}else{_i++ ;_o=_o>_i?_o:_i;}}_i=_o;var _s=0;var _t=0,_u=0;var _r;for(var _q=0;_q<_j;_q++ ){_t=0;for(var _v=0;_v<_i;_v++ ){if(_g<=_s){break;}var _w=_c[_s];_r=_w._getItemRealSize();_w.move(_t,_u,_r.width,_r.height);_w.setTextOverflow(false);_t+=_r.width;_s++ ;}_u+=_r.height;}}else{if(_l.toLowerCase()=="horizontal"){if(_e>0){_i=_e;}else if((_e<0&&_f<0)||(_e<0&&_f==0)||(_e==0&&_f==0)||(_e==0&&_f==_g)){_i=1;}else if(_e<0&&(_e<_f)&&(_f>1)){_i=Math.round(_j/_f);}else if(_f>0){_i=Math.ceil(_j/_f);if((_i*_f)<_j){_i++ ;_j=(((_i*_f)-_j)>=_i)?_f-1:_f;}}else{_i=_j;}if(_i>_j){_i=_j;}_k="col";_j=parseInt(_g/_i)|0;if((_g>_i)&&(_g%_i)>0){_j++ ;}}else{if(_f>0){_j=_f;}else if(_e>0){_j=parseInt(_g/_e);if((_e*_j)<_g){_j++ ;_i=(((_e*_j)-_g)>=_j)?_e-1:_e;}}else{_j=1;}_k="row";_i=parseInt(_g/_j)|0;if(_i<=0){_i=1;}if((_g>_j)&&(_g%_j)>0){_i++ ;}}_m=this._client_width/_i;_n=this._client_height/_j;var _s=0;var _w;if(_k=="col"){for(var _q=0;_q<_j;_q++ ){for(var _v=0;_v<_i;_v++ ){if(_g<=_s){break;}_w=this._items[_s];_w.move((_m*_v),(_n*_q),_m,_n);_w.setTextOverflow(true);_s++ ;}}}else if(_k==""||_k=="row"){var _t=0,_u;for(var _q=0;_q<_i;_q++ ){_u=0;for(var _v=0;_v<_j;_v++ ){if(_g<=_s){break;}_w=this._items[_s];_w.move((_m*_q),(_n*_v),_m,_n);_w.setTextOverflow(true);_s++ ;}}}}}};_pRadio._searchStyleValue=nexacro._emptyFn;_pRadio._exeExprStyle=nexacro._emptyFn;_pRadio._setValue=function(_a,_b){if(this.value==_a){return null;}var _c=null;if(_a==undefined||_a==null){_c="";}else{_c=_a.toString();}this.value=_c;this.on_apply_value(_b);};_pRadio._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,false);}};_pRadio._getPreCalculateWantTab=function(_a,_b){var _c=this._innerdataset;if(_c){if(this.index> -1){var _d=this.index;if(_d==this._accessibility_index){return false;}}else{var _e=this._accessibility_index;if(_b){if(_e<0){return false;}}else{var _f=_c.getRowCount();if(_e+1>_f){return false;}}}}return this._want_tab;};_pRadio._getPreCalculateWantArrow=function(_a){var _b=this._innerdataset;if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){return true;}else{if(_b){if(_a==nexacro.Event.KEY_UP){return false;}else if(_a==nexacro.Event.KEY_DOWN){return false;}}else{return false;}}return this._want_arrow;};_pRadio._getNextAccessibilityOrderIndex=function(_a){var _b=this._accessibility_index;var _c=this._items;if(_a>0){for(var _d=_b+_a;_d<_c.length;_d++ ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b= -1;}else if(_a<0){for(var _d=_b+_a;_d>=0;_d-- ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b=this._accessibility_index= -1;}return _b;};delete _pRadio;nexacro.RadioCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Radio.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._is_overflow=false;};var _pRadioCtrl=nexacro._createPrototype(nexacro.Radio,nexacro.RadioCtrl);nexacro.RadioCtrl.prototype=_pRadioCtrl;_pRadioCtrl._type_name="RadioControl";nexacro._setForControlStyleFinder(_pRadioCtrl);delete _pRadioCtrl;};if(!nexacro.RadioItemCtrl){nexacro.RadioItem_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.textpadding=null;};var _pRadioItemStyle=nexacro._createPrototype(nexacro.Style,nexacro.RadioItem_Style);nexacro.RadioItem_Style.prototype=_pRadioItemStyle;eval(nexacro._createAlignAttributeEvalStr("_pRadioItemStyle","buttonalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pRadioItemStyle","buttonbackground"));eval(nexacro._createValueAttributeEvalStr("_pRadioItemStyle","buttonbackgroundimagemode"));eval(nexacro._createBorderAttributeEvalStr("_pRadioItemStyle","buttonborder"));eval(nexacro._createColorAttributeEvalStr("_pRadioItemStyle","buttoncolor"));eval(nexacro._createGradationAttributeEvalStr("_pRadioItemStyle","buttongradation"));eval(nexacro._createValueAttributeEvalStr("_pRadioItemStyle","buttonimage"));eval(nexacro._createValueAttributeEvalStr("_pRadioItemStyle","buttonsize"));eval(nexacro._createPaddingAttributeEvalStr("_pRadioItemStyle","textpadding"));eval(nexacro._createAccessibilityAttributeEvalStr("_pRadioItemStyle","accessibility"));_pRadioItemStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonbackground=null;this.buttonbackgroundimagemode=null;this.buttonborder=null;this.buttoncolor=null;this.buttongradation=null;this.buttonimage=null;this.buttonsize=null;this.textpadding=null;this.accessibility=null;};_pRadioItemStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign._value.length){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonimage._value.length){_a+="buttonimage:"+this.buttonimage._value+"; ";}if(this.textpadding._value.length){_a+="textpadding:"+this.textpadding._value+"; ";}if(this.buttonborder._value.length){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttoncolor._value.length){_a+="buttoncolor:"+this.buttoncolor._value+"; ";}if(this.buttonsize._value.length){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.buttonbackground._value.length){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation._value.length){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbackgroundimagemode._value.length){_a+="buttonbackgroundimagemode:"+this.buttonbackgroundimagemode._value+"; ";}if(this.accessibility._value.length){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.RadioItem_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonimage=null;this.textpadding=null;this.buttonborder=null;this.buttoncolor=null;this.buttonsize=null;this.buttonbackground=null;this.buttongradation=null;this.buttonbackgroundimagemode=null;};var _pRadioItemCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.RadioItem_CurrentStyle);nexacro.RadioItem_CurrentStyle.prototype=_pRadioItemCurrentStyle;_pRadioItemCurrentStyle.__get_custom_style_value=_pRadioItemStyle.__get_custom_style_value;_pRadioItemCurrentStyle.__custom_emptyObject=_pRadioItemStyle.__custom_emptyObject;delete _pRadioItemStyle;delete _pRadioItemCurrentStyle;nexacro.RadioItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.radioimg=null;this.value=false;this.index= -1;this.readonly=false;this.code="";this._text_elem=null;this._is_reference_control=false;this._accessibility_role="radioitem";};var _pRadioItemCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.RadioItemCtrl);nexacro.RadioItemCtrl.prototype=_pRadioItemCtrl;nexacro._setForControlStyleFinder(_pRadioItemCtrl);_pRadioItemCtrl.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_buttonalign(_a);var _d=this.on_find_CurrentStyle_buttonimage(_a);var _e=this.on_find_CurrentStyle_textpadding(_a);var _f=this.on_find_CurrentStyle_buttonborder(_a);var _g=this.on_find_CurrentStyle_buttoncolor(_a);var _h=this.on_find_CurrentStyle_buttonsize(_a);var _i=this.on_find_CurrentStyle_buttonbackground(_a);var _j=this.on_find_CurrentStyle_buttongradation(_a);var _k=this.on_find_CurrentStyle_buttonbackgroundimagemode(_a);var _l=this.on_find_CurrentStyle_accessibility(_a);if(_c!=_b.buttonalign){_b.buttonalign=_c;this.on_apply_style_buttonalign();}if(_d!=_b.buttonimage){_b.buttonimage=_d;this.on_apply_style_buttonimage(_b.buttonimage);}if(_e!=_b.textpadding){_b.textpadding=_e;this.on_apply_style_textpadding(_b.textpadding);}if(_f!=_b.buttonborder){_b.buttonborder=_f;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_g!=_b.buttoncolor){_b.buttoncolor=_g;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_h!=_b.buttonsize){_b.buttonsize=_h;this.on_apply_style_buttonsize(_b.buttonsize);}if(_i!=_b.buttonbackground){_b.buttonbackground=_i;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_j!=_b.buttongradation){_b.buttongradation=_j;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_k!=_b.buttonbackgroundimagemode){_b.buttonbackgroundimagemode=_k;if(this.radioimg){this.radioimg.on_apply_pseudo(_a);}}if(_l!=_b.accessibility){_b.accessibility=this._make_accessibility_value(_l);this.on_apply_style_accessibility(_b.accessibility);}};_pRadioItemCtrl.on_create_custom_style=function(){return new nexacro.RadioItem_Style(this);};_pRadioItemCtrl.on_create_custom_currentStyle=function(){return new nexacro.RadioItem_CurrentStyle(this);};_pRadioItemCtrl.on_find_CurrentStyle_background=function(_a){var _b=this.parent.on_find_CurrentStyle_itembackground(_a);return this.parent._search_style_obj(_b,"background",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_buttonalign=function(_a){return this.parent.on_find_CurrentStyle_buttonalign(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonbackground=function(_a){return this.parent.on_find_CurrentStyle_buttonbackground(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this.parent.on_find_CurrentStyle_buttonbackgroundimagemode(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonborder=function(_a){return this.parent.on_find_CurrentStyle_buttonborder(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttoncolor=function(_a){return this.parent.on_find_CurrentStyle_buttoncolor(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttongradation=function(_a){return this.parent.on_find_CurrentStyle_buttongradation(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonimage=function(_a){return this.parent.on_find_CurrentStyle_buttonimage(_a);};_pRadioItemCtrl.on_find_CurrentStyle_buttonsize=function(_a){return this.parent.on_find_CurrentStyle_buttonsize(_a);};_pRadioItemCtrl.on_find_CurrentStyle_textpadding=function(_a){return this.parent.on_find_CurrentStyle_textpadding(_a);};_pRadioItemCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a);};_pRadioItemCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.parent.on_find_CurrentStyle_color(_a);return this.parent._search_style_obj(_b,"color",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.parent.on_find_CurrentStyle_font(_a);return this.parent._search_style_obj(_b,"font",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pRadioItemCtrl.on_find_CurrentStyle_accessibility=function(_a){var _b=this.parent.on_find_CurrentStyle_itemaccessibility(_a);return this.parent._search_style_obj(_b,"accessibility",this.index);};_pRadioItemCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_itemborder(_a);};_pRadioItemCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_itembordertype(_a);};_pRadioItemCtrl.on_find_CurrentStyle_padding=function(_a){return this.parent.on_find_CurrentStyle_itempadding(_a);};_pRadioItemCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_itemgradation(_a);};_pRadioItemCtrl.on_update_style_buttonalign=function(){this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign(this.currentstyle.buttonsize);};_pRadioItemCtrl.on_update_style_buttonbackground=function(){this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);};_pRadioItemCtrl.on_update_style_buttonbackgroundimagemode=function(){this.currentstyle.buttonbackgroundimagemode=this.on_find_CurrentStyle_buttonbackgroundimagemode(this._pseudo);this.on_apply_style_buttonbackgroundimagemode(this.currentstyle.buttonbackgroundimagemode);};_pRadioItemCtrl.on_update_style_buttonborder=function(){this.currentstyle.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(this.currentstyle.buttonborder);};_pRadioItemCtrl.on_update_style_buttoncolor=function(){this.currentstyle.buttoncolor=this.on_find_CurrentStyle_buttoncolor(this._pseudo);this.on_apply_style_buttoncolor(this.currentstyle.buttoncolor);};_pRadioItemCtrl.on_update_style_buttongradation=function(){this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(this.currentstyle.buttongradation);};_pRadioItemCtrl.on_update_style_buttonimage=function(){this.currentstyle.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);};_pRadioItemCtrl.on_update_style_buttonsize=function(){this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(this.currentstyle.buttonsize);};_pRadioItemCtrl.on_update_style_textpadding=function(){this.currentstyle.textpadding=this.on_find_CurrentStyle_textpadding(this._pseudo);this.on_apply_style_textpadding(this.currentstyle.textpadding);};_pRadioItemCtrl.on_update_style_accessibility=function(){this.on_apply_style_accessibility(this.currentstyle.accessibility=this._make_accessibility_value(this.on_find_CurrentStyle_accessibility(this._pseudo)));};_pRadioItemCtrl.on_apply_style_align=function(_a){if(this._text_elem&&_a){var _b=_a.halign==""?"left":_a._halign;var _c=_a.valign==""?"middle":_a._valign;this._text_elem.setElementAlignXY(_b,_c);}};_pRadioItemCtrl.on_apply_style_color=function(_a){if(this._text_elem){if(_a){this._text_elem.setElementColor(_a);}else{this._text_elem.setElementColor("");}}};_pRadioItemCtrl.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pRadioItemCtrl.on_apply_style_cursor=function(_a){this._control_element.setElementCursor(_a);if(this.radioimg){this.radioimg.style.set_cursor(_a);}};_pRadioItemCtrl.on_apply_style_buttonalign=function(_a){var _b=this.on_find_CurrentStyle_buttonalign(this.pseudo);var _c=this.on_find_CurrentStyle_buttonsize(this.pseudo);var _d=this.on_find_CurrentStyle_textpadding(this.pseudo);if(_b){var _e=_b.toString().trim().split(" ");var _f=_e.length;var _g="left";var _h="middle";var _i,_j,_k,_l,_m,_n;var _o=0,_p=0,_q=0,_r=0,_s=0,_t=0;var _u,_v,_w,_x;_w=_c;_x=_d;if(_c==null){_u=20;}else{_u=parseInt(_w._value)|0;}for(var _y=0;_y<_f;_y++ ){_v=_e[_y].toString();if(_v=="center"){_g="center";}else if(_v=="right"){_g="right";}else if(_v=="top"){_h="top";}else if(_v=="bottom"){_h="bottom";}}var _z=0;var _aa=_z+_u;if(_x){if(_x.left){_o=_x.left;}if(_x.right){_q=_x.right;}if(_x.top){_p=_x.top;}if(_x.bottom){_r=_x.bottom;}}if(_g=="left"){_i=_z;_o+=_aa;_aa=0;}else if(_g=="right"){_i=this._client_width-_aa;}else if(_g=="center"){_i=Math.round((this._client_width-_u)/2);}if(_h=="top"){_j=0;_l=_u;}else if(_h=="bottom"){_j=this._client_height-_u;}else{_j=(this._client_height-_u)/2;}if(this.radioimg){this.radioimg.move(_i,_j,_u,_u);}if(this._text_elem){_s=this._client_width-_q-_o-_aa;_t=this._client_height-_r-_p;_s=(_s<0)?0:_s;_t=(_t<0)?0:_t;_o=this._convertLeftForRtlLayout(_o,_s);this._text_elem.setElementPosition(_o,_p);this._text_elem.setElementSize(_s,_t);this.setTextOverflow(!this._is_overflow);}}};_pRadioItemCtrl.on_apply_style_buttonimage=function(_a){this.on_apply_value();};_pRadioItemCtrl.on_apply_style_buttonborder=function(_a){if(this.radioimg){this.radioimg.on_update_style_border();}};_pRadioItemCtrl.on_apply_style_buttoncolor=function(_a){if(this.radioimg){this.radioimg.on_update_style_color();}};_pRadioItemCtrl.on_apply_style_buttonsize=function(_a){this.on_apply_style_buttonalign();};_pRadioItemCtrl.on_apply_style_buttongradation=function(_a){if(this.radioimg){this.radioimg.on_update_style_gradation();}};_pRadioItemCtrl.on_apply_style_buttonbackground=function(_a){var _b=this.radioimg;if(_b){this.radioimg.on_update_style_background();}};_pRadioItemCtrl.on_apply_style_buttonbackgroundimagemode=function(_a){var _b=this.radioimg;var _c="";if(_a.toString()=="quad"){_c="quad";}else{_c="no-repeat";}if(_b){_b.style.set_background_repeat(_c);}};_pRadioItemCtrl.on_apply_style_textpadding=function(_a){this.on_apply_style_buttonalign();};_pRadioItemCtrl.on_apply_style_accessibility=function(_a){if(_a){var _b=this.getElement();_b.setAccessibility(_a);}};_pRadioItemCtrl.on_apply_prop_enable=function(_a){var _b=this.radioimg;if(_b){_b._setEnable(_a);}};_pRadioItemCtrl.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();};_pRadioItemCtrl.on_create_contents=function(){var _a=this.getElement();if(_a){this.radioimg=new nexacro.ImageRadioCtrl("radioimg","absolute",0,0,0,0,null,null,this);this.radioimg.style.set_bordertype("round 50 50");var _b=new nexacro.TextBoxElement(_a);this._text_elem=_b;var _c=this.on_find_CurrentStyle_align();var _d=_c.halign==""?"center":_c._halign;var _e=_c.valign==""?"middle":_c._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.on_find_CurrentStyle_color());_b.setElementFont(this.on_find_CurrentStyle_font());_b.setElementAlignXY(_d,_e);_b.setElementText(this.text);_b.setElementWordWrap("char");this.radioimg.createComponent(true);}};_pRadioItemCtrl.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}this.radioimg.on_created();};_pRadioItemCtrl.on_destroy_contents=function(){var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}if(this.radioimg){this.radioimg.destroy();this.radioimg=null;}};_pRadioItemCtrl.on_change_containerRect=function(_a,_b){this.on_apply_style_buttonalign(this.currentstyle.buttonalign);this.on_apply_style_buttonimage(this.currentstyle.buttonimage);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);this.on_apply_style_textpadding(this.currentstyle.textpadding);this.on_apply_style_buttonborder(this.currentstyle.buttonborder);var _c=this._text_elem;var _d=this.on_find_CurrentStyle_align(this._pseudo);if(this._text_elem){_c.setElementSize(_a,_b);this.on_apply_style_align(_d);}};_pRadioItemCtrl.set_value=function(_a){if(_a!=this.value){this.value=_a;this.on_apply_value();}};_pRadioItemCtrl.on_apply_value=function(){if(this.radioimg){var _a=this._isSelected();var _b=this.on_find_CurrentStyle_buttonimage(this._pseudo);if(_a==true&&_b){this.radioimg.set_image(_b);this.radioimg.set_imagealign("center middle");}else{this.radioimg.set_image("");this._stat_change("","normal");}this._setAccessibilityStatChecked(_a);}};_pRadioItemCtrl.set_index=function(_a){this.index=_a;};_pRadioItemCtrl.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pRadioItemCtrl.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pRadioItemCtrl.set_text=function(_a){this.text=_a;this.on_apply_text();};_pRadioItemCtrl.on_apply_text=function(){if(this._text_elem){this._text_elem.setElementText(this.text);}};_pRadioItemCtrl.set_code=function(_a){this.code=_a;};_pRadioItemCtrl._on_getAccessibilityAdditionalLabel=function(){if(this._isAccessibilityEnable()&&!this.parent._is_first_focus){if(this.index> -1){return ( +this.index+1)+" "+this.parent._items.length;}}return "";};_pRadioItemCtrl._getFormChildById=function(_a){return this.parent._getFormChildById(_a);};_pRadioItemCtrl._getAccessibilityLabel=function(_a){var _b="";if(this.parent._is_first_focus){var _c=this.parent;var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);_b=_c._getAccessibilityParentValue(_d);}_b+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _b;};_pRadioItemCtrl._isSelected=function(){return this.value;};_pRadioItemCtrl._getItemRealSize=function(){var _a=this.on_find_CurrentStyle_buttonalign(this.pseudo);var _b=this.on_find_CurrentStyle_buttonsize(this.pseudo);var _c=this.on_find_CurrentStyle_textpadding(this.pseudo);var _d,_e;var _f=0,_g=0,_h=0,_i=0;var _j=20;if(_b){_j=parseInt(_b._value)|0;}if(_c){if(_c.left){_f=_c.left;}if(_c.right){_h=_c.right;}if(_c.top){_g=_c.top;}if(_c.bottom){_i=_c.bottom;}}var _k=0;if(this._text_elem){var _l=this.on_find_CurrentStyle_font(this.pseudo);_k=nexacro._getTextSize2(this._text_elem.text,_l);}_d=_j+_f+_h+_k[0];_e=_j+_g+_i+_k[1];return {width:Math.ceil(_d),height:Math.ceil(_e)};};_pRadioItemCtrl.setTextOverflow=function(_a){var _b=this._text_elem;if(_b){this._is_overflow=!_a;if(_a){_b.setElementWordWrap("char");}else{_b.setElementTextOverFlow();}}};delete _pRadioItemCtrl;nexacro.ImageRadioCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageViewerCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};var _pImageRadioCtrl=nexacro._createPrototype(nexacro.ImageViewerCtrl,nexacro.ImageRadioCtrl);nexacro.ImageRadioCtrl.prototype=_pImageRadioCtrl;_pImageRadioCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_buttonbackground(_a);};_pImageRadioCtrl.on_find_CurrentStyle_buttonbackgroundimagemode=function(_a){return this.parent.on_find_CurrentStyle_buttonbackgroundimagemode(_a);};_pImageRadioCtrl.on_find_CurrentStyle_image=function(_a){return this.parent.on_find_CurrentStyle_buttonimage(_a);};_pImageRadioCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_buttonborder(_a);};_pImageRadioCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_buttongradation(_a);};_pImageRadioCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this.parent.enable){return false;}this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};delete _pImageRadioCtrl;};if(!nexacro.ListBox){nexacro.ListBoxClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.ClickEventInfo.call(this,_a,_b||"onlistboxclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.fromobject=_n;this.fromreferenceobject=_o;this.index=_c;};var _pListBoxClickEventInfo=nexacro._createPrototype(nexacro.ClickEventInfo,nexacro.ListBoxClickEventInfo);nexacro.ListBoxClickEventInfo.prototype=_pListBoxClickEventInfo;_pListBoxClickEventInfo._type_name="ListBoxClickEventInfo";delete _pListBoxClickEventInfo;_pListBoxClickEventInfo=null;nexacro.ListBox_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.itemheight=null;this.itembackground=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.itemaccessibility=null;};var _pListBoxStyle=nexacro._createPrototype(nexacro.Style,nexacro.ListBox_Style);nexacro.ListBox_Style.prototype=_pListBoxStyle;eval(nexacro._createValueAttributeEvalStr("_pListBoxStyle","itemheight"));eval(nexacro._createBackgroundAttributeEvalStr("_pListBoxStyle","itembackground"));eval(nexacro._createGradationAttributeEvalStr("_pListBoxStyle","itemgradation"));eval(nexacro._createBorderAttributeEvalStr("_pListBoxStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pListBoxStyle","itembordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pListBoxStyle","itempadding"));eval(nexacro._createAccessibilityAttributeEvalStr("_pListBoxStyle","itemaccessibility"));_pListBoxStyle.__custom_emptyObject=function(){this.itemheight=null;this.itembackground=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.itemaccessibility=null;};_pListBoxStyle.__get_custom_style_value=function(){var _a="";var _b=this.itemheight;if(_b&&_b._is_empty){_a+="itemheight:"+_b._value+"; ";}_b=this.itembackground;if(_b&&_b._is_empty){_a+="itembackground:"+_b._value+"; ";}_b=this.itemgradation;if(_b&&_b._is_empty){_a+="itemgradation:"+_b._value+"; ";}_b=this.itemborder;if(_b&&_b._is_empty){_a+="itemborder:"+_b._value+"; ";}_b=this.itembordertype;if(_b&&_b._is_empty){_a+="itembordertype:"+_b._value+"; ";}_b=this.itempadding;if(_b&&_b._is_empty){_a+="itempadding:"+_b._value+"; ";}_b=this.itemaccessibility;if(_b&&_b._is_empty){_a+="itemaccessibility:"+_b._value+"; ";}_b=null;return _a;};nexacro.ListBox_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemheight=null;this.itembackground=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.itemaccessibility=null;};var _pListBoxCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ListBox_CurrentStyle);nexacro.ListBox_CurrentStyle.prototype=_pListBoxCurrentStyle;_pListBoxCurrentStyle.__custom_emptyObject=_pListBoxStyle.__custom_emptyObject;_pListBoxCurrentStyle.__get_custom_style_value=_pListBoxStyle.__get_custom_style_value;delete _pListBoxStyle;_pListBoxStyle=null;delete _pListBoxCurrentStyle;_pListBoxCurrentStyle=null;nexacro.ListBox=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._selectinfo={index: -1,text:"",value:undefined,obj:null};this.scrollbars="autoboth";this.isAboveSelected=false;this.codecolumn="";this.datacolumn="";this.multiselect=false;this.innerdataset=null;this.readonly=false;this.index= -1;this.text="";this.value=undefined;this.dragscrolltype="all";this.selectscrollmode="default";this._scrollbars=3;this._is_scrollable=true;this._temp_elem=null;this._innerdataset=null;this._codecolumn=null;this._datacolumn=null;this._total_page_rowcnt=0;this._total_page_cnt=0;this._contents_maxwidth=null;this._contents_maxheight=null;this._page_rowcount=0;this._page_rowcount_min=0;this._shiftKey=false;this._ctrlKey=false;this._altKey=false;this._vscrollpos=0;this._prevpos=0;this._refresh_rows=[];this._vscrollTask=null;this._userDsChange=false;this._exprcache={};this._overeditemindex= -1;this._lbtnDownIdx= -1;this._cur_end= -1;this._is_redraw=false;this._want_tab=true;this._want_arrow=false;this._accessibility_index= -1;this._accessibility_role="listbox";this._shift_select_base_index=null;this._is_first_focus=false;this._scroll_vpos_queue=[];this._select_multi={"items":[],"map":{},"keys":[],"length":0,"lastselected":null};this._selectinfo_list=[];this._keep_scrolling=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onitemclick":1,"onitemdblclick":1,"canitemchange":1,"onitemchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onitemmouseenter":1,"onvscroll":1,"onhscroll":1,"onmousedown":1,"onmouseup":1};this._setEventHandler("onkeydown",this.on_notify_listbox_onkeydown,this);};var _pListBox=nexacro._createPrototype(nexacro.Component,nexacro.ListBox);nexacro.ListBox.prototype=_pListBox;_pListBox._type_name="ListBox";_pListBox._default_align=nexacro.Component._default_left_align;_pListBox._default_Item_height=24;_pListBox.on_apply_custom_class=function(){var _a=this._get_contents_rows();if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].on_apply_prop_class();}_a=null;}};_pListBox.on_create_custom_style=function(){return new nexacro.ListBox_Style(this);};_pListBox.on_create_custom_currentStyle=function(){return new nexacro.ListBox_CurrentStyle();};_pListBox.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_itemheight(_a);if(_c!=_b.itemheight){_b.itemheight=_c;this.on_apply_style_itemheight(_c);}_c=this.on_find_CurrentStyle_itembackground(_a);if(_c!=_b.itembackground){_b.itembackground=_c;this.on_apply_style_itembackground(_c);}_c=this.on_find_CurrentStyle_itemgradation(_a);if(_c!=_b.itemgradation){_b.itemgradation=_c;this.on_apply_style_itemgradation(_c);}_c=this.on_find_CurrentStyle_itemborder(_a);if(_c!=_b.itemborder){_b.itemborder=_c;this.on_apply_style_itemborder(_c);}_c=this.on_find_CurrentStyle_itembordertype(_a);if(_c!=_b.itembordertype){_b.itembordertype=_c;this.on_apply_style_itembordertype(_c);}_c=this.on_find_CurrentStyle_itempadding(_a);if(_c!=_b.itempadding){_b.itempadding=_c;this.on_apply_style_itempadding(_c);}_c=this.on_find_CurrentStyle_font(_a);if(_c!=_b.font){_b.font=_c;this.on_apply_style_font(_c);}_c=this.on_find_CurrentStyle_color(_a);if(_c!=_b.color){_b.color=_c;this.on_apply_style_color(_c);}_c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=this.on_find_CurrentStyle_itemaccessibility(_a);if(_c!=_b.itemaccessibility){_b.itemaccessibility=_c;this.on_apply_style_itemaccessibility(_c);}_c=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_c!=_b.rtlimagemirroring){_b.rtlimagemirroring=_c;this.on_apply_style_rtlimagemirroring(_c);}_c=null;};_pListBox.on_apply_style_color=function(_a){var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].style.set_color(_a._value);}_b=null;}};_pListBox.on_apply_style_font=function(_a){var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_a){_a=this._search_style_obj(_a,"font",_d);_b[_d].style.set_font(_a._value);}}_b=null;}};_pListBox.on_apply_style_align=function(_a){var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].style.set_align(_a._value);}_b=null;}};_pListBox.on_apply_style_cursor=function(_a){nexacro.Component.prototype.on_apply_style_cursor.call(this,_a);var _b=this._get_contents_rows();if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].style.set_cursor(_a._value);}_b=null;}};_pListBox.on_apply_style_itembackground=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"background",_e);if(_d){_b[_e].style.set_background(_d._value);}}};_pListBox.on_apply_style_itemheight=function(_a){var _b=this.vscrollbar;if(_b){_b._setScrollLayout(_b.min,_b.max,_b.page,this._get_rowheight(),_b.pos);}this._recreate_data(true);};_pListBox.on_apply_style_itemaccessibility=function(_a){var _b=this._get_contents_rows();var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_update_style_accessibility();}_b=null;};_pListBox.on_apply_style_itemgradation=function(_a){if(_a==null){return false;}this.on_apply_style_itembackground(this.currentstyle.itembackground);var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"gradation",_e);if(_d){_b[_e].style.set_gradation(_d._value);}}_b=null;};_pListBox.on_apply_style_itemborder=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"border",_e);if(_d){_b[_e].style.set_border(_d._value);}}_b=null;};_pListBox.on_apply_style_itembordertype=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"bordertype",_e);if(_d){_b[_e].on_apply_style_bordertype(_d);}}_b=null;};_pListBox.on_apply_style_itempadding=function(_a){var _b=this._get_contents_rows();var _c=_b.length;var _d=_a;for(var _e=0;_e<_c;_e++ ){_d=this._search_style_obj(_a,"padding",_e);if(_d){_b[_e].style.set_padding(_d._value);}}_b=null;};_pListBox.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._get_contents_rows();var _b=_a.length;var _c=this._rtldirection;for(var _d=0;_d<_b.length;_d++ ){_a[_d]._setRtlDirection(_c);}};_pListBox.on_find_CurrentStyle_itemheight=function(_a){var _b=this._find_pseudo_obj("itemheight",_a);if(!_b){_b=nexacro._getCachedStyleObj("itemheight",nexacro._default_Item_height);}else{var _c=_b._value;if(_c<0||_c===null||_c===""||_c===undefined){var _d=nexacro._getTextSize2("1",this.currentstyle.font);_b=nexacro._getCachedStyleObj("itemheight",_d[1]);}}return _b;};_pListBox.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pListBox.on_find_CurrentStyle_padding=function(_a){return this._find_pseudo_obj("padding",_a,"padding");};_pListBox.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pListBox.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pListBox.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pListBox.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pListBox.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding");};_pListBox.on_find_CurrentStyle_itemaccessibility=function(_a){return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pListBox.on_update_style_itemheight=function(){this.on_apply_style_itemheight(this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo));};_pListBox.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));};_pListBox.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));};_pListBox.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));};_pListBox.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));};_pListBox.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));};_pListBox.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));};_pListBox.on_create_contents=function(){var _a=this.getElement();_a.setElementSize(this._client_width,this._client_height);this._temp_elem=new nexacro.Element(_a._client_element);this._temp_elem.setElementSize(1,1);this._temp_elem.setElementVisible(false);};_pListBox.on_created_contents=function(){this._temp_elem.create();if(this.getElement()){this.on_apply_innerdataset();}var _a=this._refresh_rows,_b;for(var _c=0,_d=_a.length;_c<_d;_c++ ){_b=_a[_c];if(_b){_b.on_created(this._window);_b._real_visible=false;}}this.on_apply_style_itemheight(this.currentstyle.itemheight);this._refresh_rows=[];if(nexacro._enableaccessibility){this._want_arrow=true;}if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}this._selectinfo.obj=null;this._selectinfo.index=this.index;this._selectinfo.text=this.text;this._selectinfo.value=this.value;this.on_apply_prop_rtldirection();};_pListBox.on_destroy_contents=function(){this._clear_contents();if(this._vscrollTask){this._vscrollTask.destroy();this._vscrollTask=null;}if(this._temp_elem){this._temp_elem.destroy();this._temp_elem=null;}if(this._innerdataset){this._innerdataset._removeEventHandler("onload",this._callback_onload,this);this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);this._innerdataset=null;this.innerdataset=null;}this._removeEventHandler("onkeydown",this.on_notify_listbox_onkeydown,this);this._selectinfo=null;this._select_multi=null;this._refresh_rows.length=0;this._exprcache=null;this._selectinfo_list.length=0;this._scroll_vpos_queue=null;};_pListBox.on_change_containerRect=function(_a,_b){this._recreate_data(true);};_pListBox._callback_onload=function(_a,_b){this._exprcache={};switch(_b.reason){case 0:this._recreate_data();this._is_redraw=true;if(this.index> -1){if(this._changeIndex(this.index)){this.on_apply_index();}}else if(this.value!=""){var _c=this._innerdataset.findRow(this.codecolumn,this.value);if(this._changeIndex(_c)){this.on_apply_index();}}break;}};_pListBox._callback_onvaluechanged=function(_a,_b){if(this._userDsChange==false){this._recreate_data();this._is_redraw=true;}};_pListBox._callback_onrowsetchanged=function(_a,_b){if(this._userDsChange==false){this._recreate_data();this._is_redraw=true;}};_pListBox.on_init_bindSource=function(_a,_b,_c){if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}if(_b=="value"){this.set_value(undefined);return true;}return false;};_pListBox.on_change_bindSource=function(_a,_b,_c,_d,_e){var _f;if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}if(_a=="value"){_f=_b.getColumn(_c,_d);this.set_value(_f);return true;}return false;};_pListBox.on_getBindableProperties=function(){return "value";};_pListBox.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=_a;if(_a==undefined){_b=this.enable;}var _c=this._get_contents_rows();if(_c&&_c.length>0){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e]._setEnable(_b);}_c=null;}};_pListBox._getDlgCode=function(_a,_b,_c,_d){var _e,_f;if(_a&&(_a==nexacro.Event.KEY_TAB)){_e=this._getPreCalculateWantTab(_a,_d);}else{_f=this._getPreCalculateWantArrow(_a);}if(this._is_first_focus){this._is_first_focus=false;}this._want_arrow=nexacro._enableaccessibility;this._want_tab=true;if(_c){if(_a==nexacro.Event.KEY_LEFT){var _g=this.hscrollbar;if(_g){_f=_g.pos>_g.min?true:false;}else{_f=false;}}else if(_a==nexacro.Event.KEY_UP){var _h=this.vscrollbar;if(_h){_f=_h.pos>_h.min?true:false;}else{_f=false;}}else if(_a==nexacro.Event.KEY_RIGHT){var _g=this.hscrollbar;if(_g){_f=_g.pos<_g.max?true:false;}else{_f=false;}}else if(_a==nexacro.Event.KEY_DOWN){var _h=this.vscrollbar;if(_h){_f=_h.pos<_h.max?true:false;}else{_f=false;}}}return {want_tab:_e,want_return:false,want_escape:false,want_chars:false,want_arrows:_f};};_pListBox._setFocus=function(_a,_b,_c){this._focus_direction=_b;var _d=this.setFocus(_a,_c);this._focus_direction= -1;return _d;};_pListBox._on_focus=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._focus_direction;if(_b=="tabkey"){_h=0;}else if(_b=="shifttabkey"){_h=1;}else if(_b=="downkey"){_h=2;}else if(_b=="upkey"){_h=3;}if(_a==false){this._focus_direction= -1;}if(_h>=0){_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(_a==false){this._accessibility_index= -1;if(this._last_focused){this._do_defocus(this._last_focused,false);}if(_h<2){var _i=this._get_contents_rows();if(_i.length>0){var _j;if(this.index> -1){this._accessibility_index=this.index;}else{if(_h==0){this._accessibility_index=0;}else{this._accessibility_index=_i.length-1;}}this._is_first_focus=true;_j=_i[this._accessibility_index];_j._on_focus(true);this._shift_select_base_index=this._accessibility_index;_j=null;}_i=null;}else if(_h==2){if(!this._isAccessibilityEnable()){var _j;var _i=this._get_contents_rows();this._is_first_focus=true;if(this.index> -1){_j=_i[this._accessibility_index=this.index];_j._on_focus(true);_j.set_selected(true);this._shift_select_base_index=this.index;}else if(_i.length>0){if(this.multiselect){this._do_select(this._getNextAccessibilityOrderIndex(1));}else if(this._changeIndex(this._getNextAccessibilityOrderIndex(1))){this.on_apply_index();}}_i=null;_j=null;}}else if(_h==3){this._is_first_focus=true;var _i=this._get_contents_rows();var _j;if(this.index== -1){if(_i.length>0){if(this.multiselect){if(this.index> -1){this._accessibility_index=this.index;}else{this._accessibility_index=_i.length;}var _k=this._getNextAccessibilityOrderIndex( -1);this._do_select(_k);}else{if(this.index> -1){this._accessibility_index=this.index;}else{this._accessibility_index=_i.length;}var _k=this._getNextAccessibilityOrderIndex( -1);_j=_i[_k];if(this._changeIndex(_k)){this.on_apply_index();}}}}else{_j=_i[this._accessibility_index=this.index];if(nexacro._enableaccessibility&&this.multiselect){this._do_select(this._accessibility_index);}else{_j.set_selected(true);}}_i=null;_j=null;}}}else{_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(this._last_focused){this._do_defocus(this._last_focused,false);}else if(this._select_multi.lastselected===undefined&&this._accessibility_index> -1){var _i=this._get_contents_rows();_i[this._accessibility_index]._stat_change("notfocus","normal");}}return _g;};_pListBox.on_get_style_accessibility_label=function(){var _a="";if(!this._is_first_focus){_a=this.text?this.text:this.value;}return _a;};_pListBox.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset||(typeof _a=="object"&&_a._type_name=="Dataset")){this._innerdataset=_a;this.innerdataset=_a.id;this._keep_scrolling=(this.innerdataset!=_a.id)?false:true;this.on_apply_innerdataset();}};_pListBox._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pListBox.getInnerDataset=function(){return this._innerdataset;};_pListBox.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}};_pListBox.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){if(this.datacolumn||this.codecolumn){if(!this.datacolumn){this._datacolumn=this.codecolumn;}if(!this.codecolumn){this._codecolumn=this.datacolumn;}_a._setEventHandler("onload",this._callback_onload,this);_a._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_a._setEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);this._recreate_data(this._keep_scrolling);this._is_redraw=true;}}};_pListBox.set_visible=function(_a){var _b=this.vscrollbar;var _c=nexacro.Browser=="Chrome"&&_a&&this.visible!=_a&&_b;nexacro.Component.prototype.set_visible.call(this,_a);if(_c){var _d=_b.pos;_b.set_pos(_d-1);_b.set_pos(_d);}};_pListBox.set_codecolumn=function(_a){if(_a&&_a!=this.codecolumn){this.codecolumn=_a;this.on_apply_innerdataset();}};_pListBox.set_datacolumn=function(_a){if(_a&&_a!=this.datacolumn){this.datacolumn=_a;this.on_apply_innerdataset();}};_pListBox.set_multiselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.multiselect){this.multiselect=_a;this.on_apply_multiselect();}};_pListBox.on_apply_multiselect=function(){var _a= -1;this._select_clear();this._shiftKey=false;this._ctrlKey=false;if(!this.multiselect){_a=this.index;this._do_select(_a);}};_pListBox.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this._setAccessibilityFlagReadOnly(_a);}};_pListBox.set_text=function(_a){};_pListBox.set_index=function(_a,_b){var _c=this._innerdataset;var _a=parseInt(_a,10)|0;if(this._is_created){if(!_c||_a<0||_a>_c.getRowCount()-1){_a= -1;}}if(this._changeIndex(_a,_b,true)){this.on_apply_index();}else{this._on_last_selectfocuschanged(this.index,true);}};_pListBox.on_apply_index=function(){if(!this.multiselect){var _a=this.index;var _b=this._get_contents_rows();var _c=_b.length;if(_b&&_a== -1){for(i=0;i<_c;i++ ){var _d=_b[i];_d.set_selected(false);if(nexacro._enableaccessibility){_d._setAccessibilityInfoIndex(i+1);_d._setAccessibilityInfoCount(_c);}}_b=null;}var _e=this.getElement();if(_e&&_a> -1){this._do_select(_a);}}};_pListBox.set_value=function(_a){if(_a!==this.value){this.value=_a;}var _b=this._innerdataset;if(_b){var _c= -1;if(this.value!==undefined){_c=_b.findRow(this.codecolumn,this.value);}if(this.index!=_c){this._is_value_setting=true;this.set_index(_c);this._is_value_setting=false;}}};_pListBox.set_dragscrolltype=function(_a){nexacro.Form.prototype.set_dragscrolltype.call(this,_a);};_pListBox.set_resizebutton=function(){};_pListBox.set_selectscrollmode=function(_a){this.selectscrollmode=nexacro._toString(_a);};_pListBox.getCount=function(){return (this._innerdataset)?this._innerdataset.getRowCount():0;};_pListBox.getSelectedCount=function(){return this._get_selectcount();};_pListBox.getSelect=function(_a){if(_a<0||_a>=this.getCount()){return false;}var _b=this._select_multi.items;var _c=this._select_multi.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]==_a){return true;}}return false;};_pListBox.getSelectedItems=function(){if(this._select_multi&&this._select_multi.length>0){var _a=this._select_multi.items;_a.sort();return _a;}else{return [];}};_pListBox.clearSelect=function(){if(this._select_multi&&this._select_multi.length>0){this._selectinfo.index= -1;if(this._changeIndex( -1)){this.on_apply_index();}this._select_clear();if(this._ctrlKey===true){this._recreate_data();this._is_redraw=true;}return true;}else{return false;}};_pListBox.redraw=function(){if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}};_pListBox.setSelect=function(_a,_b){_b=nexacro._toBoolean(_b);_a=parseInt(_a)|0;var _c=this._get_rowobj_byrow(_a);if(_a>=0){if(_b==true){if(!this.multiselect){this._deselect_all(true);if(this._changeIndex(_a,true)){this.on_apply_index();}}else{_c.set_selected(_b);this._changeIndex(_a);this._select_add(_a);}}else{_c.set_selected(false);this._select_remove(_a);if(this._select_multi&&this._select_multi.length==0){this._changeIndex( -1);}}}else{if(this._changeIndex( -1)){this.on_apply_index();}this._select_clear();}};_pListBox.updateToDataset=function(){return this.applyto_bindSource("value",this.value);};_pListBox.isAboveSelected=function(){};_pListBox.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._accessibility_index;var _h=this._get_contents_rows().length;if(_a==nexacro.Event.KEY_TAB){var _i=this._selectinfo;if(_i&&_i.index> -1){if(_d){if(_g<0){this._want_tab=false;}else{var _j=this._last_focused;this._do_defocus(_j,true);if(_j&&_j._selected){_j._stat_change("select","selected");}this._accessibility_index= -1;}}else{if(_g> -1){this._want_tab=false;}else{var _k=this._get_contents_rows();var _l=_k[this.index];if(_l){_l._on_focus(true);}this._accessibility_index=this.index;}}}else{if((_d&&_g<0)||(!_d&&_g>=_h-1)){this._want_tab=false;}else{if(_d){_g-- ;}else{_g++ ;}var _k=this._get_contents_rows();var _l=_k[_g];if(_l){_l._on_focus(true);}this._accessibility_index=_g;}}this._getWindow()._keydown_element._event_stop=true;}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pListBox.on_notify_listbox_onkeydown=function(_a,_b){if(this.readonly){return false;}var _c=this._selectinfo;var _d,_e=this._overeditemindex;var _f=this._innerdataset;var _g= +this.index;var _h=this.text;var _i=this.value;var _j,_k,_l;var _m=this._get_contents_rows();var _n=this._shiftKey=_b.shiftKey;this._ctrlKey=_b.ctrlKey;this._altKey=_b.altKey;var _o=_b.keycode;if(_o==nexacro.Event.KEY_UP){if(_b.ctrlKey){this._do_scroll("up");return true;}if(this.multiselect){if(nexacro._enableaccessibility){_d=this._getNextAccessibilityOrderIndex( -1);if(this._accessibility_index<0){var _p=this._getWindow();_p._removeFromCurrentFocusPath(this,true);if(this._isAccessibilityEnable()){this._on_focus(true);}this._accessibility_index= -1;return;}else{if(this._select_multi.lastselected===undefined&&this._accessibility_index<this._get_rowcount()){_m[this._accessibility_index]._stat_change("notfocus","normal");}this._select_withkeyupevent(_b);}_d=this._accessibility_index;}else{this._select_withkeyupevent(_b);_d=this._get_selection_last();}if(_d!=null){if(_d> -1){this._changeIndex(_d);}}}else{if(nexacro._enableaccessibility){if(this.index==0){var _p=this._getWindow();_p._removeFromCurrentFocusPath(this,true);if(this._isAccessibilityEnable()){this._on_focus(true);}this._accessibility_index= -1;return;}else{if(this._accessibility_index!=this.index){var _q=_m[this._accessibility_index];if(_q){_q._stat_change("notfocus","normal");}}this._accessibility_index=this._getNextAccessibilityOrderIndex( -1);_d=this._accessibility_index;}}else{_d= +this.index-1;}if(_d> -1){if(this._changeIndex(_d)){this.on_apply_index();}}}}else if(_o==nexacro.Event.KEY_DOWN){if(_b.ctrlKey){this._do_scroll("down");return true;}if(this.multiselect){if(nexacro._enableaccessibility){if(this.index> -1&&this._accessibility_index== -1){_d=this._accessibility_index=this.index;this._do_select(this._accessibility_index);}else{_d=this._getNextAccessibilityOrderIndex(1);if(this._accessibility_index<_f.getRowCount()){if(this._select_multi.lastselected===undefined&&this._accessibility_index> -1){_m[this._accessibility_index]._stat_change("notfocus","normal");}this._select_withkeydownevent(_b);}}}else{this._select_withkeydownevent(_b);_d=this._get_selection_last();}if(_d!=null){if(_d<_f.getRowCount()){this._changeIndex(_d);}}}else{if(nexacro._enableaccessibility){if(this.index> -1&&this._accessibility_index== -1){_m[this.index]._on_focus(true);this._accessibility_index=this.index;}else{if(this._accessibility_index!=this.index){var _q=_m[this._accessibility_index];if(_q){_q._stat_change("notfocus","normal");}}this._accessibility_index=this._getNextAccessibilityOrderIndex(1);}_d=this._accessibility_index;}else{_d= +this.index+1;}if(_d<_f.getRowCount()){if(this._changeIndex(_d)){this.on_apply_index();}}}}if(!_n){this._shift_select_base_index=_a.index;}if((this.multiselect==true)&&(this._ctrlKey==true)&&(_o==nexacro.Event.KEY_SPACE)){var _r=this._get_rowobj_byrow(this._select_multi.lastselected);var _s=false;this._sellist=this._select_multi.items;var _t=this._sellist.length;var _u,_v;for(var _w=0;_w<_t;_w++ ){_v=this._sellist[_w];if(this._select_multi.lastselected==_v){_s=true;_r=this._get_rowobj_byrow(_v);_u=_v;}}if(_s!==true){if(_r){_r.set_selected(true);}this._select_add(this._select_multi.lastselected);}else{this._do_deselect(_u,true);}}else if(_o==nexacro.Event.KEY_SPACE){if(nexacro._enableaccessibility&&this._accessibility_index> -1){var _m=this._get_contents_rows();if(_m[this._accessibility_index]._control_pseudo=="focused"){_m[this._accessibility_index]._stat_change("notfocus","normal");}if(this._changeIndex(this._accessibility_index)){this.on_apply_index();}}}this.on_apply_style_itemborder(this.currentstyle.itemborder);};_pListBox.on_notify_item_onlbuttondown=function(_a,_b){_a._keep_selecting=true;_a._stat_change("select","selected");var _c=this._shiftKey=_b.shiftKey;this._ctrlKey=_b.ctrlKey;this._altKey=_b.altKey;this._selectinfo.obj=_a;this._selectinfo.index=_a.index;this._selectinfo.text=_a.text;this._selectinfo.value=_a.value;if(nexacro.isTouchInteraction){this._selectinfo_list[this._selectinfo_list.length]=this._selectinfo;}if(!_c){this._shift_select_base_index=_a.index;}this._lbtnDownIdx=_a.index;};_pListBox.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}return nexacro.Component.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pListBox.on_fire_sys_ontouchend=function(_a,_b,_c,_d){if(_d&&(_d instanceof nexacro.ScrollBarCtrl||(_d.parent&&_d.parent instanceof nexacro.ScrollBarCtrl))){return;}var _e=this._selectinfo_list;var _f=nexacro.Component.prototype.on_fire_sys_ontouchend.call(this,_a,_b,_c,_d);while(_e.length){var _g=_e[0].obj;if(_g){_g._keep_selecting=false;var _h=this._get_contents_rows();var _i;var _j=_a[0];var _k=_j.canvasX;var _l=_j.canvasY;var _m=this.getElement();if(_m){var _n=this.currentstyle.border;var _o=_n?_n._left_width:0;var _p=_n?_n._top_width:0;_k=_k-((_m.scroll_left?_m.scroll_left:0)-_o);_l=_l-((_m.scroll_top?_m.scroll_top:0)-_p);if(_k<0){_k=_o;}if(_l<0){_l=_p;}}var _q=this._getClientXY(_k,_l);this.on_fire_onitemclick(this,_g.index,_g.text,_g.value,_j._current_state,this._altKey,this._ctrlKey,this._shiftKey,_j.screenX,_j.screenY,_k,_l,_q[0],_q[1]);_i=_g;var _r=_i.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_r);}else{this._do_select(_r,false);}}else{if(this._changeIndex(_r)){this.on_apply_index();}else{if(!_g.selected){_g._stat_change("notselect","normal");}}}}_e.shift();}return _f;};_pListBox.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l&&(_l instanceof nexacro.ScrollBarCtrl||(_l.parent&&_l.parent instanceof nexacro.ScrollBarCtrl))){return;}var _n=this._selectinfo;var _o=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _p=_n.obj;if(_p){_p._keep_selecting=false;var _q=this._get_contents_rows();var _r;this.on_fire_onitemclick(this,_p.index,_p.text,_p.value,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(nexacro._enableaccessibility){if(this._accessibility_index> -1){var _s=this._get_rowobj_byrow(this._accessibility_index);if(_n.index!=this._accessibility_index&&_s&&_s._selected==true){this._deselect_all(true);_s._stat_change("notselect","normal");}}}_r=_p;var _t=_r.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_t);}else{this._do_select(_t,false);}}else{if(this._changeIndex(_t)){this.on_apply_index();}else{if(!_p.selected){_p._stat_change("notselect","normal");}}}}return _o;};_pListBox.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);if(this.selectscrollmode=="select"&&this.multiselect){if(this._innerdataset){var _k= -1;if(_c[0]._elem&&_c[0]._elem.parent){_k=_c[0]._elem.parent.index;}if(this._lbtnDownIdx> -1&&_k> -1){this._deselect_all(true);var _l=this._lbtnDownIdx;var _m=_k;var _n=_k;if(!nexacro._isNumber(_l)){_l=0;}if(!nexacro._isNumber(_m)){_m=this._get_rowcount();}if(_l>_m){var _o=_m;_m=_l;_l=_o;_n=_o;}var _p=[];for(i=_l;i<=_m;i++ ){_p.push(i);}this._do_multi_select(_p,true);this._changeIndex(_n);}}return true;}return _j;};_pListBox.on_notify_item_onmouseenter=function(_a,_b){this._overeditemindex=_a.index;return false;};_pListBox.on_notify_item_onmouseleave=function(_a,_b){var _c=this._get_contents_rows();_a=this._getItemByRealIdx(_c,this._overeditemindex).obj;if(_a){if(!_a.selected){this._overeditemindex= -1;}}};_pListBox.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.readonly){return false;}if(this.onitemclick&&this.onitemclick._has_handlers){var _o=new nexacro.ItemClickEventInfo(_a,"onitemclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);var _p=this.onitemclick._fireEvent(this,_o);_o=null;return nexacro._toBoolean(_p);}return false;};_pListBox.on_fire_canitemchange=function(_a,_b,_c,_d,_e,_f,_g){if(this.canitemchange&&this.canitemchange._has_handlers){var _h=new nexacro.ItemChangeEventInfo(this,"canitemchange",_b,_c,_d,_e,_f,_g);var _i=this.canitemchange._fireCheckEvent(this,_h);_h=null;return nexacro._toBoolean(_i);}return true;};_pListBox._onItemchanged=function(_a,_b,_c,_d,_e,_f,_g){this.applyto_bindSource("value",_a.value);this.on_fire_onitemchanged(this,_b,_c,_d,_e,_f,_g);return true;};_pListBox.on_fire_onitemchanged=function(_a,_b,_c,_d,_e,_f,_g){if(!this._selectinfo){return false;}this._selectinfo.obj=null;this._selectinfo.index=_a.index;this._selectinfo.text=_a.text;this._selectinfo.value=_a.value;var _h=this._selectinfo;_h.index=_e;_h.text=_f;_h.value=_g;if(this.onitemchanged&&this.onitemchanged._has_handlers){var _i=new nexacro.ItemChangeEventInfo(this,"onitemchanged",_b,_c,_d,_e,_f,_g);var _j=this.onitemchanged._fireEvent(this,_i);return nexacro._toBoolean(_j);}return false;};_pListBox.on_notify_item_ondblclick=function(_a,_b){if(this.readonly||!this.enableevent){return false;}_b.canvasX+=_a._adjust_left-_a._scroll_left||0;_b.canvasY+=_a._adjust_top-_a._scroll_top||0;var _c=_a.currentstyle;if(_c&&_c.padding){_b.canvasX+=_c.padding.left;_b.canvasY+=_c.padding.top;}var _d=this._getClientXY(_b.canvasX,_b.canvasY);_b.clientX=_d[0];_b.clientY=_d[1];return this.on_fire_onitemdblclick(this,this.index,this.text,this.value,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY);};_pListBox.on_fire_onitemdblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.readonly){return false;}if(this.onitemdblclick&&this.onitemdblclick._has_handlers){var _o=new nexacro.ItemClickEventInfo(_a,"onitemdblclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);var _p=this.onitemdblclick._fireEvent(this,_o);return nexacro._toBoolean(_p);}return false;};_pListBox._adjustScrollRows_callback=function(_a){var _b=this.vscrollbar.pos;if(_a){this._scroll_vpos_queue=[];}else{this._scroll_vpos_queue.pop();if(this._scroll_vpos_queue.length>0){this._aniframe_rowscroll.start();}}var _c=this._get_first_visible_row();var _d=this._get_last_visible_row(true);this._draw_contents(_c,_d);this._control_element.setElementVScrollPos(_b);this._clearHiddenPage();};_pListBox.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}if(_b.type=="trackstart"||_b.type=="tracklastover"||_b.type=="trackfirstover"){return;}if(nexacro.Browser=="Runtime"||(navigator.userAgent.indexOf("Android 4.1")> -1||navigator.userAgent.indexOf("Android 4.2")> -1||navigator.userAgent.indexOf("Android 4.3")> -1)){this._adjustScrollRows_callback(true);}else{if(_b._evtkind=="fling"||_b._evtkind=="slide"||_b.type=="track"){if(!this._aniframe_rowscroll){var _c=this;this._scroll_vpos_queue=[];this._aniframe_rowscroll=new nexacro.AnimationFrame(this,function(){_c._adjustScrollRows_callback();});}var _d=this._scroll_vpos_queue.push(_b.pos);if(_d==1){this._aniframe_rowscroll.start();}}else{this._adjustScrollRows_callback(true);}}return true;};_pListBox.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementHScrollPos(_b.pos);_c=null;}return true;};_pListBox.on_fire_onsize=function(_a,_b){if(this._is_redraw==false){this._recreate_data();this._is_redraw=true;}return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pListBox.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;var _e=this._get_contents_rows();var _f=null;if(_e){if(!_a){if(this._overeditemindex== -1){this._overeditemindex=_e.length-1;_d=true;}else if(this._overeditemindex<=0){this._overeditemindex= -1;}else{this._overeditemindex-- ;_d=true;}}else{if(this._overeditemindex== -1){this._overeditemindex++ ;_d=true;}else if(this._overeditemindex==_e.length-1){this._overeditemindex= -1;}else{this._overeditemindex++ ;_d=true;}}}if(_d){_f=this._getItemByRealIdx(_e,this._overeditemindex).obj;_f._setAccessibilityNotifyEvent();}return _d;};_pListBox._create_item=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return new nexacro.ListItemCtrl(_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pListBox._create_row=function(_a,_b,_c,_d,_e){var _f=this._innerdataset;var _g=this.datacolumn?this.datacolumn:this._datacolumn;var _h=this.codecolumn?this.codecolumn:this._codecolumn;var _i=_f.getColumn(_a,_g);var _j=_f.getColumn(_a,_h);var _k=this._create_item("item","absolute",_b,_c,_d-_b,_e-_c,null,null,this);_k.set_value(_j);_k.set_text(_i);_k.set_index(_a);_k.set_selected(false);_k._setEventHandler("onlbuttondown",this.on_notify_item_onlbuttondown,this);_k._setEventHandler("ontouchstart",this.on_notify_item_onlbuttondown,this);_k._setEventHandler("ondblclick",this.on_notify_item_ondblclick,this);_k._setEventHandler("onmouseenter",this.on_notify_item_onmouseenter,this);_k._setEventHandler("onmouseleave",this.on_notify_item_onmouseleave,this);_k.createComponent();if(!this._is_created){this._refresh_rows[this._refresh_rows.length]=_k;}if(this.multiselect==true){var _l=this._select_multi.items;var _m=this._select_multi.length;for(var _n=0;_n<_m;_n++ ){if(_a==_l[_n]){_k.set_selected(true);break;}}}else{if(this.index==_a){_k.set_selected(true);this._set_last_selectfocused(_a);}}return _k;};_pListBox._refresh_scroll=function(){this._contents_maxwidth=null;this._contents_maxheight=null;this._set_scroll_max_size();this._refresh_size(false);};_pListBox._refresh_row=function(_a,_b,_c){var _d=this._get_rowobj_byrow(_a);switch(_b){case "value":if(_d){_d.set_value(_c);}break;case "text":if(_d){_d.set_text(_c);}var _e=this._set_scroll_max_width(_a);if(_e){this._refresh_size(true);}break;case "index":if(_d){_d.set_index(_c);}break;case "select":if(_d){_d.set_selected(_c);}break;}};_pListBox._get_rowcount=function(){var _a=this._innerdataset;if(_a&&(this.datacolumn||this.codecolumn)){return _a.getRowCount();}else{return 0;}};_pListBox._getMaxTextSize=function(){var _a=this._innerdataset;var _b=this.datacolumn||this.codecolumn;if(!_a||!_b){return false;}var _c=this.on_find_CurrentStyle_font(this._pseudo)||nexacro.Component._default_font;var _d=this.currentstyle.itempadding?this.currentstyle.itempadding.left+this.currentstyle.itempadding.right:0;_d+=this.currentstyle.itemborder?this.currentstyle.itemborder._left_width+this.currentstyle.itemborder._right_width:0;var _e;var _f=_a.getRowCount();var _g=0;if(_f>0){for(i=0;i<_f;i++ ){_e=nexacro._getTextSize2(_a.getColumn(i,_b),_c)[0];if(_g<_e){_g=_e;}}_g+=_d;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){return _g;}else{_g=Math.max(this._contents_maxwidth,_g);return _g;}}else{return 0;}};_pListBox._get_rowheight=function(){var _a=this.currentstyle.itemheight;return _a?_a.value|0:20;};_pListBox._get_select_mode=function(){if(this.multiselect){return "multi";}else{return "single";}};_pListBox._set_scroll_max_size=function(){this._set_scroll_max_width();this._contents_maxheight=this._get_rowcount()*this._get_rowheight();if(this._temp_elem){this._temp_elem.setElementPosition(0,this._contents_maxheight-1);}};_pListBox._set_scroll_max_width=function(_a){var _b=this.currentstyle.font||this._default_font;var _c=this._innerdataset;var _d=this.currentstyle.itempadding?this.currentstyle.itempadding.left+this.currentstyle.itempadding.right:0;_d+=this.currentstyle.itemborder?this.currentstyle.itemborder._left_width+this.currentstyle.itemborder._right_width:0;if(_b&&_c){if(this._contents_maxwidth!==null){if(this._pos_max_width==_a){var _e=this.datacolumn;var _f=this._getMaxTextSize();var _g=false;if(this._contents_maxwidth!=_f){this._contents_maxwidth=Math.max(this._contents_maxwidth,_f);_g=true;}this._pos_max_width=row;return _g;}else{var _h=_c.getColumn(_a,this.datacolumn);var _f=nexacro._getTextSize2(_h,_b);if(this._contents_maxwidth<_f[0]){this._contents_maxwidth=_f[0]+_d;this._pos_max_width=_a;return true;}return false;}}else{var _e=this.datacolumn;var _i=_c.findMaxLengthRow(_e);var _f=this._getMaxTextSize();this._contents_maxwidth=_f+_d;this._pos_max_width=_i;return true;}}return false;};_pListBox._getItemByRealIdx=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0;_c<_a.length;_c++ ){if(_a[_c].index==_b){return {"obj":_a[_c],"index":_c};}}}return {"obj":null,"index":null};};_pListBox._clearHiddenPage=function(){var _a=this._get_first_visible_row();var _b=this._get_last_visible_row(true);var _c=this._get_page_from_rowidx(_a);var _d=this._get_page_from_rowidx(_b);var _e=100;var _f=this._get_rowcount();if(this._buffer_pages){var _g=this._buffer_pages;var _h,_i;var _j=0;for(var _k=0,_l=_g.length;_k<_l;_k++ ){if(_k>=_c&&_k<=_d){continue;}if((_f-_j)<=_e){break;}_h=_g[_k];if(_h){for(var _m=0,_n=_h.length;_m<_n;_m++ ){_i=_h[_m];if(_i){_i.destroy();}_j++ ;}_g[_k]=null;}}}};_pListBox._draw_contents=function(_a,_b,_c){if(!this._buffer_pages){this._buffer_pages=[];}var _d;var _e;var _f,_g;if(!this._has_range(_a,_b)){var _h=this._get_page_from_rowidx(_a);var _i=this._get_page_from_rowidx(_b);var _j;_f=(_h-1)*this._page_rowcount;var _k=this._get_rowcount();var _l=this._get_rowheight();var _m=this.getElement();var _n=0;var _o=this._page_rowcount;if(_m){_n=_m.container_maxwidth;}for(_j=_h;_j<=_i;_j++ ){if(!(this._buffer_pages[_j])||this._buffer_pages[_j].length<=0){_d=this._buffer_pages[_j]=[];for(var _p=0;_p<_o;_p++ ){_g=(_g===undefined)?(_f*_l):_g;_e=this._create_row(_f,0,_g,_n,_g+_l);_d.push(_e);_g=_e._adjust_top+_e._adjust_height;_f++ ;if(_k<=_f){break;}}}else{_d=this._buffer_pages[_j];var _q=_d[_d.length-1];_g=_q._adjust_top+_q._adjust_height;_f+=_d.length;}}}this._previous_start=this._cur_start;this._previous_end=this._cur_end;this._cur_start=_a;this._cur_end=_b;};_pListBox._resetDisplayInfo=function(){var _a=this.getElement();if(!_a){return;}this._page_rowcount=Math.ceil((_a.client_height)/this._get_rowheight());this._page_rowcount_min=Math.floor((_a.client_height)/this._get_rowheight());var _b=this._get_rowcount();if(_b==0){this._total_page_cnt=0;this._total_page_rowcnt=0;}else{this._total_page_cnt=Math.ceil(_b/this._page_rowcount);this._total_page_rowcnt=(this._page_rowcount*this._total_page_cnt);}};_pListBox._recreate_data=function(_a){var _b=this.getElement();if(!_b){return;}this._clear_contents();this._resetDisplayInfo();var _c=this._get_rowcount();if(_c==0){return;}this._refresh_scroll();var _d,_e;if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_d=0;_e=_c-1;}else{if(_a){_d=this._get_first_visible_row();_e=this._get_last_visible_row(true);}else{_d=0;if(_c<=this._total_page_rowcnt){_e=_c-1;}else{_e=this._total_page_rowcnt-1;}if(this._page_rowcount<_e){_e=this._page_rowcount;}}}this._draw_contents(_d,_e);this._refresh_size(false);};_pListBox._refresh_size=function(_a){var _b=this.getElement();if(_b){var _c=this._contents_maxwidth;var _d=this._contents_maxheight;var _e=_b.container_maxwidth;var _f=_b.container_maxheight;_c=Math.max(_c,_b.client_width);_d=Math.max(_d,_b.client_height);if((_b.container_maxwidth!=_c||_b.container_maxheight!=_d)){_b.setElementScrollMaxSize(_c,_d);}if(_a){this._refresh_scroll();}this._onResetScrollBar();}};_pListBox._clear_contents=function(){if(this._vscrollTask){this._vscrollTask.stop();}if(this._buffer_pages){var _a=this._buffer_pages;var _b,_c;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b){for(var _f=0,_g=_b.length;_f<_g;_f++ ){_c=_b[_f];if(_c){_c.destroy();}}_a[_d]=null;}}}this._buffer_pages=null;};_pListBox._get_first_visible_row=function(){var _a=(this.vscrollbar)?this.vscrollbar.pos:0;return Math.floor(_a/this._get_rowheight());};_pListBox._get_last_visible_row=function(_a){var _b;if(_a){_b=this._get_first_visible_row()+this._page_rowcount;}else{_b=this._get_first_visible_row()+this._page_rowcount_min;}var _c=this._get_rowcount();if(_b>=_c){_b=_c-1;}return _b;};_pListBox._get_page_from_rowidx=function(_a){return Math.floor(_a/this._page_rowcount)+1;};_pListBox._has_range=function(_a,_b){if(!this._buffer_pages){return false;}var _c=this._get_page_from_rowidx(_a),_d=this._get_page_from_rowidx(_b);for(;_c<=_d;_c++ ){if(!this._has_page(_c)){return false;}}return true;};_pListBox._has_page=function(_a){return !!this._buffer_pages[_a];};_pListBox._get_contents_rows=function(){var _a=this._buffer_pages,_b=[];if(_a){var _c,_d;for(var _e=0,_f=_a.length;_e<_f;_e++ ){_c=_a[_e];if(_c){_b=_b.concat(_c);}}}return _b;};_pListBox._get_rowobj_byrow=function(_a){var _b=this._buffer_pages;if(_b){var _c,_d;for(var _e=0,_f=_b.length;_e<_f;_e++ ){_c=_b[_e];if(_c){for(var _g=0,_h=_c.length;_g<_h;_g++ ){_d=_c[_g];if(_d&&_d.index==_a){return _d;}}}}}};_pListBox._select_withmouseevent=function(_a,_b,_c){switch(this._get_select_mode()){case 'multi':if(this._shiftKey){if(!this._ctrlKey){this._deselect_all(true);}this._select_range(this._shift_select_base_index,_a,this._shiftKey);}else if(this._ctrlKey){var _d=this._get_rowobj_byrow(_a);if(_d){_d.set_selected(!_d.selected);}if(_d.selected===false){var _e,_f;var _g=this._select_multi;_f=_g?_g.length:0;for(_e=0;_e<_f;_e++ ){if(_a===_g.items[_e]){this._select_remove(_a);}}}else{this._select_add(_a);}this._set_last_selectfocused(_a);}else if(this._is_selected(_a)&&!this._shiftKey&&!this._ctrlKey&&this._get_selectcount()>1){this._do_select(_a,_c,false);}else{this._do_select(_a,false);}break;case 'single':this._do_select(_a,false);break;}};_pListBox._select_withkeyupevent=function(_a){var _b=this._select_multi.lastselected===undefined?nexacro._enableaccessibility?this._accessibility_index:this._select_multi.lastselected:this._select_multi.lastselected;if(_b>0){var _c=_b-1;if(_a.shiftKey&&_b){if(this._is_selected(_b)&&this._is_selected(_c)){this._do_deselect(_b,true);this._set_last_selectfocused(_c);if(this._isAccessibilityEnable()){var _d=this._get_contents_rows();_d[_c]._setFocus(true);}}else if(!this._is_selected(_b)){this._do_select(_b,true);this._do_select(_c,true);}else{this._do_select(_c,true);}}else{this._shift_select_base_index=null;this._deselect_all(true);this._do_select(_c);}}};_pListBox._select_withkeydownevent=function(_a){var _b=this._select_multi.lastselected===undefined?nexacro._enableaccessibility?this._accessibility_index:this._select_multi.lastselected:this._select_multi.lastselected;var _c=this._get_rowcount();if(_b+1<_c){var _d=_b+1;if(_a.shiftKey&&_b>=0){if(this._shift_select_base_index==_b){this._deselect_all(true);this._do_select(this._shift_select_base_index,true);}if(this._is_selected(_b)&&this._is_selected(_d)){this._do_deselect(_b,true);this._set_last_selectfocused(_d);}else if(!this._is_selected(_b)){this._do_select(_b,true);this._do_select(_d,true);}else{this._do_select(_d,true);}}else{this._shift_select_base_index=null;this._deselect_all(true);this._do_select(_d);}}};_pListBox._getPreCalculateWantTab=function(_a,_b){if(this._selectinfo&&this._selectinfo.index> -1){var _c=this._selectinfo.index;if(_c!= -1&&this.index==_c){return false;}}else{var _d=this._accessibility_index;if(_b){if(_d<0){return false;}}else{var _e=this._get_contents_rows().length;if(_d+1>_e){return false;}}}return this._want_tab;};_pListBox._getPreCalculateWantArrow=function(_a){if(_a==nexacro.Event.KEY_UP){var _b=this._accessibility_index;if(_b==0&&!this._isAccessibilityEnable()){return false;}else if(this._accessibility_index== -1){var _c=this._getNextAccessibilityOrderIndex( -1);if(_c> -1){return true;}else{return false;}}}else if(_a==nexacro.Event.KEY_DOWN){if(this.index){var _d=this._get_contents_rows().length;if(this.index> -1&&this._accessibility_index== -1){return true;}else if(_b>=_d-1||this._getNextAccessibilityOrderIndex(1)>=_d||this._getNextAccessibilityOrderIndex(1)<0){return false;}}else{return true;}}return this._want_arrow;};_pListBox._getNextAccessibilityOrderIndex=function(_a){var _b=this._accessibility_index;var _c=this._get_contents_rows();if(_a>0){for(var _d=_b+_a;_d<_c.length;_d++ ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b= -1;}else if(_a<0){for(var _d=_b+_a;_d>=0;_d-- ){if(_c[_d]._isAccessibilityEnable()){return _d;}}_b=this._accessibility_index= -1;}return _b;};_pListBox._do_scroll=function(_a){var _b=this._get_first_visible_row();var _c=this._get_rowheight();var _d=this.vscrollbar;if(_d){var _e=_b;if(_a=="down"){_e+=1;}else{if(_d.pos<=_e*_c){_e-=1;}}_d.set_pos(_e*_c);_d=null;}};_pListBox._select_add=function(_a){if(_a<0||_a>this._innerdataset.getRowCount()-1){return;}var _b=_a+"";var _c=this._select_multi;var _d=_c.map[_b];if(typeof _d!='undefined'){return this._select_replace(_b,_a);}_c.map[_b]=_a;_c.length++ ;_c.items.push(_a);_c.keys.push(_b);this._changeIndex(_a,undefined,undefined,"_select_add");};_pListBox._select_replace=function(_a,_b){var _c=this._select_indexOfkey(_a);var _d=this._select_multi;_d.items[_c]=_b;_d.map[_a]=_b;};_pListBox._select_indexOfkey=function(_a){_a+="";return nexacro._indexOf(this._select_multi.keys,_a);};_pListBox._get_selectcount=function(){return this._select_multi.length;};_pListBox._select_remove=function(_a){var _b=this._select_indexOfkey(_a);var _c=this._select_multi;if(_b<_c.length&&_b>=0){_c.length-- ;_c.items.splice(_b,1);var _d=_c.keys[_b];if(typeof _d!='undefined'){_c.map[_d]=undefined;}_c.keys.splice(_b,1);if(!this.multiselect&&_c.length==0){this.index= -1;this.text="";this.value=undefined;}return _a;}return false;};_pListBox._select_indexOf=function(_a){if(!this.multiselect){return this._selectinfo?this._selectinfo.index==_a: -1;}else{return nexacro._indexOf(this._select_multi.items,_a);}};_pListBox._get_selection_last=function(){var _a=this._select_multi;return _a.items[_a.length-1];};_pListBox._get_select_range=function(_a,_b){var _c=this._select_multi;var _d=_c.items,_e=[],_f;if(_d.length<1){return _e;}_a=_a||0;_b=Math.min(typeof _b=='undefined'?_c.length-1:_b,_c.length-1);if(_a<=_b){for(_f=_a;_f<=_b;_f++ ){_e[_e.length]=_d[_f];}}else{for(_f=_a;_f>=_b;_f-- ){_e[_e.length]=_d[_f];}}return _e;};_pListBox._select_clear=function(){var _a=this._get_contents_rows();var _b=_a.length;if(_a){for(var _c=0;_c<_b;_c++ ){_a[_c].set_selected(false);}}this._select_multi={"items":[],"map":{},"keys":[],"length":0,"lastselected":null};};_pListBox._is_selected=function(_a){return this._select_indexOf(_a)!== -1;};_pListBox._select_range=function(_a,_b,_c,_d){if(!_c){this._deselect_all(true);}var _e=0,_f,_g,_h,_i=[],_j=_b;if(!nexacro._isNumber(_a)){_a=0;}if(!nexacro._isNumber(_b)){_b=this._get_rowcount();}if(_a>_b){_g=_b;_b=_a;_a=_g;_j=_g;}for(_f=_a;_f<=_b;_f++ ){if(this._is_selected(_f)){_e++ ;}}if(!_d){_h= -1;}else{_h=(_d=='up')?_a:_b;}for(_f=_a;_f<=_b;_f++ ){if(_e==(_b-_a+1)){if(_f!=_h){this._do_deselect(_f,true);}}else{_i.push(_f);}}this._do_multi_select(_i,true);this._changeIndex(_j);};_pListBox._deselect_all=function(_a){var _b=0,_c=this._get_rowcount();for(;_b<_c;_b++ ){this._do_deselect(_b,_a);}};_pListBox._do_select=function(_a,_b,_c){if(this.readonly){return false;}var _d;if(typeof _a==="number"){_a=[_a];}if(this._get_select_mode()=="single"&&_a){_d=_a.length?_a[0]:_a;this._do_single_select(_d,_c);}else{this._do_multi_select(_a,_b,_c);}};_pListBox._do_deselect=function(_a,_b){if(nexacro._isNumber(_a)){_a=[_a];}else if(!nexacro._isArray(_a)){_a=[_a];}var _c=_a.length;var _d,_e=0,_f=0;var _g=[0];var _h=this._select_multi;for(;_e<_c;_e++ ){_d=_a[_e];if(this._is_selected(_d)){ ++_f;this._on_select_change(_d,false,"deselect",_g,_b);}}return _g[0]===_f;};_pListBox._select_commit=function(_a,_b,_c){var _d=this._select_multi;switch(_a){case "deselect": ++(_c[0]);this._select_remove(_b);break;case "singleselect":var _e=_d.lastselected;this._select_add(_b);if(_e!=_b&&this._get_selectcount()>0&&this._do_deselect(_e)===false){return false;}_c[0]=true;break;case "multiselect":this._select_add(_b);_c[0]=true;break;}};_pListBox._do_single_select=function(_a,_b){var _c=[false];this._on_select_change(_a,true,"singleselect",_c,_b);if(_c[0]){if(!_b){this._set_last_selectfocused(_a);}}};_pListBox._do_multi_select=function(_a,_b,_c){var _d=_a[0];var _e=this._selectinfo.index;var _f=_a.length;if(!_b&&this._get_selectcount()>0){if(this._do_deselect(this._get_select_range(),_c)===false){return;}}var _g=[false];var _h=0,_i;var _j=this._select_multi;for(;_h<_f;_h++ ){_i=_a[_h];if(_b&&this._is_selected(_i)){continue;}this._on_select_change(_i,true,"multiselect",_g,_c);}this._set_last_selectfocused(_d,_c);};_pListBox._set_last_selectfocused=function(_a,_b){var _c=this._select_multi.lastselected;this._select_multi.lastselected=_a;if(_a!==_c){this._on_last_selectfocuschanged(_a,_b);}};_pListBox._on_select_change=function(_a,_b,_c,_d,_e){if(this._select_commit(_c,_a,_d)!==false){if(_b){this._refresh_row(_a,"select",true);}else{this._refresh_row(_a,"select",false);}}};_pListBox._on_last_selectfocuschanged=function(_a,_b){if(_a> -1){var _c=this.getElement();var _d=this._get_first_visible_row();var _e=this._get_last_visible_row(true);if(this.vscrollbar){if(_a<=_d){this.vscrollbar.set_pos(_a*this._get_rowheight());}else if(_a>=_e){if(_c){var _f=(_a+1)*this._get_rowheight()-_c.client_height;this.vscrollbar.set_pos(_f);}}}else{var _g=this._get_contents_rows();if(_g[_a]){var _h=_g[_a].getElement();if(_h){_h.setElementFocus();}}}}};_pListBox._search_style_obj=function(_a,_b,_c){if(_a&&_a._bindtype!=0){if(this._is_subcontrol){return nexacro._getValueForStyleBindExpr(this.parent,_a,_b,_c);}else{return nexacro._getValueForStyleBindExpr(this,_a,_b,_c);}}else{return _a;}};_pListBox._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,true);}};_pListBox._changeIndex=function(_a,_b,_c){if(_b||_a!=this.index){var _d=this._innerdataset;var _e=parseInt(_a,10)|0;var _f=this.index;var _g=this.text;var _h=this.value;var _i=(this.codecolumn||this.datacolumn);if(_d&&_i){var _j=_d.getColumn(_e,this.datacolumn||this.codecolumn);var _k=_d.getColumn(_e,this.codecolumn||this.datacolumn);var _l=_j==undefined?"":_j;var _m=_k;this._prevpos=this._vscrollpos;if(_c!=true){if(this.on_fire_canitemchange(this,_f,_g,_h,_e,_l,_m)!=false){this._accessibility_index=this.index=_e;this.text=_l;if(!this._is_value_setting){this.value=_m;}this.applyto_bindSource("value",_k);this.on_fire_onitemchanged(this,_f,_g,_h,_e,_l,_m);return true;}}else{this._accessibility_index=this.index=_e;this.text=_l;if(!this._is_value_setting){this.value=_m;}this.applyto_bindSource("value",_k);return true;}}}return false;};_pListBox._setAccessibilityNotifyEvent=function(){if(this._overeditemindex<0){this._overeditemindex=0;}var _a=this._get_contents_rows();var _b=null;if(_a){_b=this._getItemByRealIdx(_a,this._overeditemindex).obj;_b._setAccessibilityNotifyEvent();}};_pListBox._setAccessibilityInfoByHover=function(_a){if(_a){this._overeditemindex=_a.index;return _a._setAccessibilityInfoByHover();}return;};_pListBox._clearAccessibilityInfoByHover=function(){this._overeditemindex= -1;return;};delete _pListBox;_pListBox=null;nexacro.ListItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._is_reference_control=false;this._accessibility_role="listitem";this.index="";this.value=undefined;this.selected=false;this._keep_selecting=false;this.wordwrap="none";};var _pListItemCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.ListItemCtrl);nexacro.ListItemCtrl.prototype=_pListItemCtrl;_pListItemCtrl.destroy=function(){this._removeEventHandler("onlbuttondown",this.parent.on_notify_item_onlbuttondown,this.parent);this._removeEventHandler("ontouchstart",this.parent.on_notify_item_onlbuttondown,this.parent);this._removeEventHandler("ondblclick",this.parent.on_notify_item_ondblclick,this.parent);this._removeEventHandler("onmouseenter",this.parent.on_notify_item_onmouseenter,this.parent);this._removeEventHandler("onmouseleave",this.parent.on_notify_item_onmouseleave,this.parent);nexacro.Component.prototype.destroy.call(this);};_pListItemCtrl.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_c!=_b.font){_b.font=_c;this.on_apply_style_font(_c);}_c=this.on_find_CurrentStyle_color(_a);if(_c!=_b.color){_b.color=_c;this.on_apply_style_color(_c);}_c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=this.on_find_CurrentStyle_linespace(_a);if(_c!=_b.linespace){_b.linespace=_c;this.on_apply_style_linespace(_c);}_c=this.on_find_CurrentStyle_accessibility(_a);if(_c!=_b.accessibility){_b.accessibility=this._make_accessibility_value(_c);this.on_apply_style_accessibility(_b.accessibility);}_c=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_c!=_b.rtlimagemirroring){_b.rtlimagemirroring=_c;this.on_apply_style_rtlimagemirroring(_b.rtlimagemirroring);}_c=null;};_pListItemCtrl.on_find_CurrentStyle_background=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itembackground(_a);return this.parent._search_style_obj(_b,"background",this.index);};_pListItemCtrl.on_find_CurrentStyle_gradation=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itemgradation(_a);return this.parent._search_style_obj(_b,"gradation",this.index);};_pListItemCtrl.on_find_CurrentStyle_border=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itemborder(_a);return this.parent._search_style_obj(_b,"border",this.index);};_pListItemCtrl.on_find_CurrentStyle_bordertype=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itembordertype(_a);return this.parent._search_style_obj(_b,"bordertype",this.index);};_pListItemCtrl.on_find_CurrentStyle_padding=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_itempadding(_a);return this.parent._search_style_obj(_b,"padding",this.index);};_pListItemCtrl.on_find_CurrentStyle_color=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_color(_a);return this.parent._search_style_obj(_b,"color",this.index);};_pListItemCtrl.on_find_CurrentStyle_font=function(_a){if((this._keep_selecting||this.selected)&&this.parent.enable){_a="selected";}var _b=this.parent.on_find_CurrentStyle_font(_a);return this.parent._search_style_obj(_b,"font",this.index);};_pListItemCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a);};_pListItemCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_itemaccessibility(_a);};_pListItemCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return this.parent.on_find_CurrentStyle_rtlimagemirroring(_a);};_pListItemCtrl.on_apply_custom_setfocus=function(_a){if(!this.parent._is_subcontrol&&this.parent._pseudo=="focused"){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}};_pListItemCtrl.isFocusAcceptable=function(){return nexacro._enableaccessibility;};_pListItemCtrl._getAccessibilityLabel=function(_a){var _b=this.parent._is_first_focus;var _c="";if(_b&&this._isAccessibilityEnable()){var _d=this.parent;var _e=_d.on_find_CurrentStyle_accessibility(_d._pseudo);_c=_d._getAccessibilityParentValue(_e);}_c+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _c;};_pListItemCtrl._getAccessibilityRole=function(_a){var _b="";if(this._isAccessibilityEnable()){var _c=this.parent;if(_c._is_first_focus){var _d=_c.on_find_CurrentStyle_accessibility(_c._pseudo);_b=_d.role?_d.role:_c._accessibility_role;}else{_b=_a.role?_a.role:this._accessibility_role;}}return _b;};_pListItemCtrl._setAccessibilityStatFocus=function(_a){var _b=this.parent;if(!_b._is_subcontrol&&_b._pseudo=="focused"){if(_b.multiselect&&_b._shift_select_base_index&&_b._shift_select_base_index!=this.index){var _c=_b._get_contents_rows()[_b._shift_select_base_index];if(_c&&_c._pseudo=="selected"){var _d=_c._getAccessibilityLabel(_c.on_find_CurrentStyle_accessibility(this._pseudo));_d+=" "+this._getAccessibilityLabel(this.on_find_CurrentStyle_accessibility(this._pseudo));this._setAccessibilityLabel(_d);}}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);}};_pListItemCtrl.on_get_style_accessibility_label=function(){return this.text;};_pListItemCtrl.set_index=function(_a){if(_a!==this.index){this.index=parseInt(_a,10);}};_pListItemCtrl.set_value=function(_a){if(_a!==this.value){this.value=_a;}};_pListItemCtrl.set_selected=function(_a){if(_a!=this.selected){this.selected=_a;this.on_apply_selected();}};_pListItemCtrl.on_apply_selected=function(){this._control_pseudo="";this._contents_pseudo="";if(this.selected){this._stat_change("select","selected");}else{if(nexacro._enableaccessibility){if(this._control_pseudo=="focused"){this._stat_change("notfocus","normal");}else{this._stat_change("notselect","normal");}}else{this._stat_change("notselect","normal");}}};_pListItemCtrl.on_apply_mouseover=function(_a){if(_a){this._stat_change("notselect","mouseover");}else{if(this.selected){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}}};nexacro.ListBoxCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ListBox.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pListBoxCtrl=nexacro.ListBoxCtrl.prototype=nexacro._createPrototype(nexacro.ListBox,nexacro.ListBoxCtrl);_pListBoxCtrl._type_name="ListBoxControl";nexacro._setForControlStyleFinder(_pListBoxCtrl);delete _pListBoxCtrl;_ListBoxCtrl=null;};if(!nexacro.Combo){nexacro.ComboCloseUpEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this.id=this.eventid=_b||"oncloseup";this.fromobject=this.fromreferenceobject=_a;this.posttext=_g;this.pretext=_d;this.postvalue=_h;this.prevalue=_e;this.postindex=_f;this.preindex=_c;this.isselect=_i;};var _pComboCloseUpEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ComboCloseUpEventInfo);nexacro.ComboCloseUpEventInfo.prototype=_pComboCloseUpEventInfo;_pComboCloseUpEventInfo._type_name="ComboCloseUpEventInfo";delete _pComboCloseUpEventInfo;_pComboCloseUpEventInfo=null;nexacro.Combo_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.itemheight=null;this.itembackground=null;this.itemcolor=null;this.itemfont=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.buttonsize=null;this.itemaccessibility=null;this.popuptype=null;};var _pComboStyle=nexacro._createPrototype(nexacro.Style,nexacro.Combo_Style);nexacro.Combo_Style.prototype=_pComboStyle;_pComboStyle._type_name="ComboStyle";eval(nexacro._createValueAttributeEvalStr("_pComboStyle","itemheight"));eval(nexacro._createBackgroundAttributeEvalStr("_pComboStyle","itembackground"));eval(nexacro._createColorAttributeEvalStr("_pComboStyle","itemcolor"));eval(nexacro._createFontAttributeEvalStr("_pComboStyle","itemfont"));eval(nexacro._createGradationAttributeEvalStr("_pComboStyle","itemgradation"));eval(nexacro._createBorderAttributeEvalStr("_pComboStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pComboStyle","itembordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pComboStyle","itempadding"));eval(nexacro._createValueAttributeEvalStr("_pComboStyle","buttonsize"));eval(nexacro._createAccessibilityAttributeEvalStr("_pComboStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pComboStyle","popuptype"));_pComboStyle.__custom_emptyObject=function(){this.itemheight=null;this.itembackground=null;this.itemcolor=null;this.itemfont=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.buttonsize=null;this.itemaccessibility=null;this.popuptype=null;};_pComboStyle.__get_custom_style_value=function(){var _a="";var _b=this.itemheight;if(_b&&_b._is_empty){_a+="itemheight:"+_b._value+"; ";}_b=this.itembackground;if(_b&&_b._is_empty){_a+="itembackground:"+_b._value+"; ";}_b=this.itemcolor;if(_b&&_b.is_empty){_a+="itemcolor:"+_b._value+"; ";}_b=this.itemfont;if(_b&&_b._is_empty){_a+="itemfont:"+_b._value+"; ";}_b=this.itemgradation;if(_b&&_b._is_empty){_a+="itemgradation:"+_b._value+"; ";}_b=this.itemborder;if(_b&&_b._is_empty){_a+="itemborder:"+_b._value+"; ";}_b=this.itembordertype;if(_b&&_b._is_empty){_a+="itembordertype:"+_b._value+"; ";}_b=this.itempadding;if(_b&&_b._is_empty){_a+="itempadding:"+_b._value+"; ";}_b=this.buttonsize;if(_b&&_b._is_empty){_a+="buttonsize:"+_b._value+"; ";}_b=this.accessibility;if(_b&&_b._is_empty){_a+="accessibility:"+_b._value+"; ";}_b=this.itemaccessibility;if(_b&&_b._is_empty){_a+="itemaccessibility:"+_b._value+"; ";}_b=this.popuptype;if(_b&&_b._is_empty){_a+="popuptype:"+_b._value+"; ";}_b=null;return _a;};nexacro.Combo_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemheight=null;this.itembackground=null;this.itemcolor=null;this.itemfont=null;this.itemgradation=null;this.itemborder=null;this.itembordertype=null;this.itempadding=null;this.buttonsize=null;this.itemaccessibility=null;this.popuptype=null;};var _pComboCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Combo_CurrentStyle);nexacro.Combo_CurrentStyle.prototype=_pComboCurrentStyle;_pComboCurrentStyle._type_name="ComboCurrentStyle";_pComboCurrentStyle.__custom_emptyObject=_pComboStyle.__custom_emptyObject;_pComboCurrentStyle.__get_custom_style_value=_pComboStyle.__get_custom_style_value;delete _pComboStyle;delete _pComboCurrentStyle;nexacro.Combo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._selectinfo={index: -1,text:"",value:undefined};this._eventinfo={postindex: -1,posttext:"",postvalue:undefined,preindex: -1,pretext:"",prevalue:undefined,isselect:false};this.comboedit=null;this.dropbutton=null;this.combolist=null;this.popupwindow=null;this.value=undefined;this.index= -1;this.text="";this.codecolumn="";this.datacolumn="";this.innerdataset=null;this.type="dropdown";this.readonly=false;this.displayrowcount= -1;this.displaynulltext="";this.autoselect=false;this.autoskip=false;this.imemode="normal";this.inputtype="normal";this.useime="global";this.selectchangetype="noboundup";this._exprcache={};this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"onmove":1,"onsize":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onrbuttondown":1,"onrbuttonup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oneditclick":1,"ontextchanged":1,"onitemclick":1,"canitemchange":1,"onitemchanged":1,"ondropdown":1,"oncloseup":1,"ontextchange":1,"onchar":1,"cancharchange":1,"oncontextmenu":1,"onmousewheel":1};this._prevalue=undefined;this._preindex= -1;this._pretext="";this._moverindex= -1;this._default_buttonsize=nexacro._getCachedStyleObj("buttonsize","-1");this._innerdataset=null;this._filtereddataset=null;this._downkey=false;this._enterkey=false;this._keyval=undefined;this._text_change=false;this._want_arrows=true;this._accessibility_role="combobox";this._has_inputElement=true;this._is_recheck=false;this._scroll_proc=false;this._start_vscroll_pos=0;};var _pCombo=nexacro._createPrototype(nexacro.Component,nexacro.Combo);nexacro.Combo.prototype=_pCombo;_pCombo._type_name="Combo";_pCombo.on_create_custom_style=function(){return new nexacro.Combo_Style(this);};_pCombo.on_create_custom_currentStyle=function(){return new nexacro.Combo_CurrentStyle();};_pCombo.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_itemheight(_a);if(_c!=_b.itemheight){_b.itemheight=_c;this.on_apply_style_itemheight(_c);}_c=this.on_find_CurrentStyle_border(_a);if(_c!=_b.border){_b.border=_c;this.on_apply_style_border(_c);}_c=this.on_find_CurrentStyle_itembackground(_a);if(_c!=_b.itembackground){_b.itembackground=_c;this.on_apply_style_itembackground(_c);}_c=this.on_find_CurrentStyle_itemcolor(_a);if(_c!=_b.itemcolor){_b.itemcolor=_c;this.on_apply_style_itemcolor(_c);}_c=this.on_find_CurrentStyle_itemfont(_a);if(_c!=_b.itemfont){_b.itemfont=_c;this.on_apply_style_itemfont(_c);}_c=this.on_find_CurrentStyle_itemgradation(_a);if(_c!=_b.itemgradation){_b.itemgradation=_c;this.on_apply_style_itemgradation(_c);}_c=this.on_find_CurrentStyle_itemborder(_a);if(_c!=_b.itemborder){_b.itemborder=_c;this.on_apply_style_itemborder(_c);}_c=this.on_find_CurrentStyle_itembordertype(_a);if(_c!=_b.itembordertype){_b.itembordertype=_c;this.on_apply_style_itembordertype(_c);}_c=this.on_find_CurrentStyle_itempadding(_a);if(_c!=_b.itempadding){_b.itempadding=_c;this.on_apply_style_itempadding(_c);}_c=this.on_find_CurrentStyle_itemaccessibility(_a);if(_c!=_b.itemaccessibility){_b.itemaccessibility=_c;this.on_apply_style_itemaccessibility(_c);}_c=this.on_find_CurrentStyle_buttonsize(_a);if(_c!=_b.buttonsize){_b.buttonsize=_c;this.on_apply_style_buttonsize(_c);}_c=this.on_find_CurrentStyle_align(_a);if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=this.on_find_CurrentStyle_font(_a);if(_c!=_b.font){_b.font=_c;this.on_apply_style_font(_c);}_c=this.on_find_CurrentStyle_color(_a);if(_c!=_b.color){_b.color=_c;if(_c!=null){this.on_apply_style_color(_c);}}var _d=this.on_find_CurrentStyle_popuptype(_a);if(_b.popuptype!=_d){_b.popuptype=_d;}_c=null;};_pCombo.on_find_CurrentStyle_itemheight=function(_a){return this._find_pseudo_obj("itemheight",_a);};_pCombo.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pCombo.on_find_CurrentStyle_itemcolor=function(_a){return this._find_pseudo_obj("itemcolor",_a,"color")||nexacro.Component._default_color;};_pCombo.on_find_CurrentStyle_itemfont=function(_a){return this._find_pseudo_obj("itemfont",_a,"font");};_pCombo.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pCombo.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pCombo.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pCombo.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding")||nexacro.Component._default_padding;};_pCombo.on_find_CurrentStyle_itemaccessibility=function(_a){return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pCombo.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||this._default_buttonsize;};_pCombo.on_find_CurrentStyle_popuptype=function(_a){return this._find_pseudo_obj("popuptype",_a);};_pCombo.on_find_CurrentStyle_align=function(_a,_b){if(_b){return _b._find_pseudo_obj("align",_a,"align")||this._find_pseudo_obj("align",_a,"align");}return this._find_pseudo_obj("align",_a,"align");};_pCombo.on_find_CurrentStyle_background=function(_a,_b){if(_b){return _b._find_pseudo_obj("background",_a,"background")||this._find_pseudo_obj("background",_a,"background");}return this._find_pseudo_obj("background",_a,"background");};_pCombo.on_find_CurrentStyle_border=function(_a,_b){if(_b){return _b._find_pseudo_obj("border",_a,"border")||this._find_pseudo_obj("border",_a,"border");}return this._find_pseudo_obj("border",_a,"border");};_pCombo.on_find_CurrentStyle_bordertype=function(_a,_b){if(_b){return _b._find_pseudo_obj("bordertype",_a,"bordertype")||this._find_pseudo_obj("bordertype",_a,"bordertype");}return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pCombo.on_find_CurrentStyle_color=function(_a,_b){if(_b){return _b._find_pseudo_obj("color",_a,"color")||this._find_pseudo_obj("color",_a,"color");}return this._find_pseudo_obj("color",_a,"color");};_pCombo.on_find_CurrentStyle_font=function(_a,_b){if(_b){return _b._find_pseudo_obj("font",_a,"font")||this._find_pseudo_obj("font",_a,"font");}return this._find_pseudo_obj("font",_a,"font");};_pCombo.on_find_CurrentStyle_gradation=function(_a,_b){if(_b){return _b._find_pseudo_obj("gradation",_a,"gradation")||this._find_pseudo_obj("gradation",_a,"gradation");}return this._find_pseudo_obj("gradation",_a,"gradation");};_pCombo.on_find_CurrentStyle_accessibility=function(_a,_b){if(_b){return _b._find_pseudo_obj("accessibility",_a,"accessibility")||this._find_pseudo_obj("accessibility",_a,"accessibility");}return this._find_pseudo_obj("accessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pCombo.on_update_style_itemheight=function(){this.on_apply_style_itemheight(this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo));};_pCombo.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));};_pCombo.on_update_style_itemcolor=function(){this.on_apply_style_itemcolor(this.currentstyle.itemcolor=this.on_find_CurrentStyle_itemcolor(this._pseudo));};_pCombo.on_update_style_itemfont=function(){this.on_apply_style_itemfont(this.currentstyle.itemfont=this.on_find_CurrentStyle_itemfont(this._pseudo));};_pCombo.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));};_pCombo.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));};_pCombo.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));};_pCombo.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));};_pCombo.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));};_pCombo.on_update_style_buttonsize=function(){this.on_apply_style_buttonsize(this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo));};_pCombo.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);};_pCombo.on_apply_style_color=function(_a){if(this.comboedit){this.comboedit.on_apply_style_color(_a);}};_pCombo.on_apply_style_font=function(_a){if(this.comboedit){this.comboedit.on_apply_style_font(_a);}};_pCombo.on_apply_style_align=function(_a){if(!_a){_a=this.on_find_CurrentStyle_align(this._pseudo);}if(this.comboedit){this.comboedit.style.set_align(_a);}};_pCombo.on_apply_style_cursor=function(_a){nexacro.Component.prototype.on_apply_style_cursor.call(this,_a);if(this.comboedit){this.comboedit.on_apply_style_cursor(_a);}if(this.dropbutton){this.dropbutton.on_apply_style_cursor(_a);}};_pCombo.on_apply_style_itemheight=function(_a){if(this.combolist){this.combolist.on_update_style_itemheight();}};_pCombo.on_apply_style_itembackground=function(_a){if(this.combolist){this.combolist.on_apply_style_itembackground(_a);}};_pCombo.on_apply_style_itemcolor=function(_a){if(this.combolist){this.combolist.on_apply_style_color(_a);}};_pCombo.on_apply_style_itemfont=function(_a){if(this.combolist){this.combolist.on_apply_style_font(_a);}};_pCombo.on_apply_style_itemgradation=function(_a){if(this.combolist){this.combolist.on_apply_style_itemgradation(_a);}};_pCombo.on_apply_style_itemborder=function(_a){if(this.combolist){this.combolist.on_apply_style_itemborder(_a);}};_pCombo.on_apply_style_itembordertype=function(_a){if(this.combolist){this.combolist.on_apply_style_itembordertype(_a);}};_pCombo.on_apply_style_itempadding=function(_a){if(this.combolist){this.combolist.on_apply_style_itempadding(_a);}};_pCombo.on_apply_style_itemaccessibility=function(_a){if(this.combolist){this.combolist.on_apply_style_itemaccessibility(_a);}};_pCombo.on_apply_style_buttonsize=function(_a){this._recalcLayout();};_pCombo.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this.comboedit){this.comboedit.on_apply_style_accessibility(_a);}};_pCombo.on_create_contents=function(){if(this.getElement()){this.comboedit=new nexacro.ComboEditCtrl("comboedit","absolute",0,0,0,0,null,null,this);this.dropbutton=new nexacro.ComboButtonCtrl("dropbutton","absolute",0,0,0,0,null,null,this);this.comboedit.createComponent();this.dropbutton.createComponent();}};_pCombo.on_created_contents=function(){this.on_apply_autoskip();this.on_apply_displaynulltext();this.on_apply_imemode();this.on_apply_type();this.on_apply_autoselect();if(this.value!==undefined){this.on_apply_value();}else if(this.index> -1){this.on_apply_index();}else if(this.text!==""){this.on_apply_text();}this._setEventHandler("onmousewheel",this.on_notify_combo_mousewheel,this);this.comboedit._setEventHandler("oneditclick",this.on_notify_edit_oneditclick,this);this.comboedit._setEventHandler("ontextchanged",this.on_notify_edit_ontextchanged,this);this.comboedit._setEventHandler("ontextchange",this.on_notify_edit_ontextchange,this);this.comboedit._setEventHandler("onchar",this.on_notify_edit_onchar,this);this.comboedit._setEventHandler("cancharchange",this.on_notify_edit_cancharchange,this);this.comboedit._setEventHandler("ontap",this.on_notify_ondropdown,this);if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){this.comboedit._setEventHandler("onlbuttondown",this.on_notify_edit_onlbuttondown,this);this.dropbutton._setEventHandler("onlbuttondown",this.on_notify_ondropdown,this);}this.dropbutton._setEventHandler("ontap",this.on_notify_ondropdown,this);this.comboedit.on_created();this.dropbutton.on_created();if(nexacro._enableaccessibility){this._want_arrows=false;this._setAccessibilityActiveDescendant(this.comboedit);this._setAccessibilityStatAutoComplete("list");this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));}this.on_apply_style_align(this.currentstyle.align);this.on_apply_style_cursor(this.currentstyle.cursor);this.on_apply_prop_rtldirection();if(!this.innerdataset){this.set_text("");}};_pCombo.on_destroy_contents=function(){var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);}var _b=this._getRootForm();if(_b){_b._bind_manager._dettachSBindItem(this);}if(this.comboedit){this.comboedit.destroy();this.comboedit=null;}if(this.dropbutton){this.dropbutton.destroy();this.dropbutton=null;}if(this.combolist){this.combolist.destroy();this.combolist=null;}if(this.popupwindow){this.popupwindow.destroy();this.popupwindow=null;}if(this._innerdataset){this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);}this._innerdataset=null;this.innerdataset=null;this._filtereddataset=null;this._selectinfo=null;this._eventinfo=null;this._exprcache=null;this._default_buttonsize=null;};_pCombo.on_change_containerRect=function(_a,_b){this._recalcLayout();};_pCombo.on_apply_custom_setfocus=function(_a){var _b=this.comboedit;try{_b._stat_change("focus","focused");if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_b.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}catch(e){}};_pCombo.on_getBindableProperties=function(){return "value";};_pCombo._callback_onvaluechanged=function(_a,_b){if(this.type=="filter"){this._createFilteredDataset();}this._recheckValue();this._is_recheck=true;};_pCombo._callback_onrowsetchanged=function(_a,_b){if(_b.reason==31){if(this.type=="filter"){this._createFilteredDataset();}}else if(_b.reason==10){this.set_index( -1);}if(this._is_recheck==false){this._recheckValue();this._is_recheck=true;}};_pCombo.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=_a;if(_a==undefined){_b=this.enable;}if(this.comboedit){this.comboedit._setEnable(_b);}if(this.dropbutton){this.dropbutton._setEnable(_b);}if(this.combolist){this.combolist._setEnable(_b);}};_pCombo.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;if(this.comboedit){this.comboedit._setRtlDirection(_a);}if(this.dropbutton){this.dropbutton._setRtlDirection(_a);}if(this.combolist){this.combolist._setRtlDirection(_a);}};_pCombo.on_apply_custom_class=function(){if(this.comboedit){this.comboedit.on_apply_prop_class();}if(this.dropbutton){this.dropbutton.on_apply_prop_class();}if(this.combolist){this.combolist.on_apply_prop_class();}};_pCombo.on_init_bindSource=function(_a,_b,_c){if(this.type=="filter"){this._createFilteredDataset();}this._prevalue=undefined;this._preindex= -1;this._pretext="";this.value=undefined;this.index= -1;this.text="";this._eventinfo.preindex= -1;this._eventinfo.pretext="";this._eventinfo.prevalue=undefined;this._eventinfo.postindex= -1;this._eventinfo.posttext="";this._eventinfo.postvalue=undefined;this.redraw();return true;};_pCombo.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a!=="value"||!_b||_c< -1||_d< -1){return false;}if(this.type=="filter"){this._createFilteredDataset();}var _f=_b.getColumn(_c,_d);if(this.value==_f){return true;}this._prevalue=this.value;this._preindex=this.index;this._pretext=this.text;this.value=_f;this.index=this._getIndex(_f);this.text=this._getItemText(this.index);if(this.index== -1&&!this._innerdataset){this.index=_c;this.text=_f;}this._eventinfo.preindex=this._preindex;this._eventinfo.pretext=this._pretext;this._eventinfo.prevalue=this._prevalue;this._eventinfo.postindex=this.index;this._eventinfo.posttext=this.text;this._eventinfo.postvalue=this.value;this.redraw();return true;};_pCombo.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);if(this._isPopupVisible()){if(_a||_b){this._closePopup();return;}this._update_popupwindow_position();if(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime"){var _c=this;var _d=this._popupwindow_position_observer;if(_d){if(_d._interval_timer){_d._interval_timer.stop();delete _d._interval_timer;_d._interval_timer=null;}this._popupwindow_position_observer=null;}var _e=this._control_element;_d=this._popupwindow_position_observer={};_d._observed_count=0;_d._elem_pos=nexacro._getElementPositionInFrame(_e);_d._interval_timer=new nexacro.CallbackTimer(this,function(){if( ++_d._observed_count>=50){_d._interval_timer.destroy();delete _d._interval_timer;_d._interval_timer=null;return;}var _f=nexacro._getElementPositionInFrame(_e);if(_d._elem_pos.x!=_f.x||_d._elem_pos.y!=_f.y){_c._update_popupwindow_position();_d._observed_count=50;}},100);_d._interval_timer.start();}}};_pCombo._getDlgCode=function(_a,_b,_c,_d){if(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN){if(_c||_b){return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:true};}}return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:this._want_arrows};};_pCombo.on_get_style_accessibility_label=function(){return "";};_pCombo._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this.comboedit._input_element&&this._status!="focus"){if(!this.comboedit._input_element._wantAccessibilityAdditionalLabel||!this.comboedit._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pCombo.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(_a!=this.visible){nexacro.Component.prototype.set_visible.call(this,_a);if(!_a&&this._is_created){this.closeDropdown();}}};_pCombo.set_value=function(_a){if(_a!=this.value){var _b=this.applyto_bindSource("value",_a);if(_b){this._prevalue=this.value;this.value=_a;this.on_apply_value();}}};_pCombo.on_apply_value=function(){if(this.getElement()){var _a=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _b=this.type=="filter"?_a:this._innerdataset;if(_b){var _c=_b.getRowCount();for(var _d=0;_d<_c;_d++ ){var _e=this._getItemValue(_d);if(_e instanceof nexacro.Decimal&&this.value instanceof nexacro.Decimal){if(_e.isEqual(this.value)){this.index=_d;this.text=this._getItemText(this.index);this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();return;}}else if(this.value==_e){this.index=_d;this.text=this._getItemText(this.index);this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();return;}}this.index= -1;this.text="";this._refreshAccessibilityValue();}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();}};_pCombo.set_index=function(_a){if(_a!=this.index){var _b;if(this.type=="filter"){_b=this._filtereddataset;}else{_b=this._innerdataset;}if(_b){_a=parseInt(_a,10)|0;this._preindex=this.index;this._pretext=this.text;this._prevalue=this.value;this.index=_a;this.on_apply_index();}}};_pCombo.on_apply_index=function(){if(this.getElement()){var _a=this._innerdataset;var _b=this.index;if(_b>=0&&_a&&_b<_a.getRowCount()){this.value=this._getItemValue(_b);this.text=this._getItemText(_b);this._eventinfo.preindex=this._preindex;this._eventinfo.pretext=this._pretext;this._eventinfo.prevalue=this._prevalue;this._eventinfo.postindex=this.index;this._eventinfo.posttext=this.text;this._eventinfo.postvalue=this.value;if(this.applyto_bindSource("value",this.value)===false&&!nexacro._isNull(this.value)){this.index=this._preindex;this.value=this._prevalue;this.text=this._getItemText(this.index);}this.redraw();this._cancelSelect();this._refreshAccessibilityValue();return;}this.index= -1;this.value=undefined;this.text="";if(_a){if(this.applyto_bindSource("value",this.value)===false){this.index=this._preindex;this.value=this._prevalue;if(this.index!= -1){this.text=this._getItemText(this.index);}}}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();}};_pCombo.set_text=function(_a){if(_a!=this.text){this._pretext=this.text;this.text=_a==undefined?"":_a;this.on_apply_text();}};_pCombo.on_apply_text=function(){if(this.getElement()){var _a=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _b=this.type=="filter"?_a:this._innerdataset;if(!_b||(!this.datacolumn&&!this.codecolumn)){if(this.comboedit._input_element._value==undefined||this._pretext!=""){if(this.value){this._setEditValue(this.text);}else{if(this.displaynulltext||this.text==""){this._setEditValue(undefined);}else{this._setEditValue(this.text);}}}this._refreshAccessibilityValue();return;}if(_b&&this._is_created){var _c=_b.getRowCount();for(var _d=0;_d<_c;_d++ ){if(this.text==this._getItemText(_d)){this.index=_d;this.value=this._getItemValue(_d);if(this.applyto_bindSource("value",this.value)===false){this.index=this._preindex;this.value=this._prevalue;}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();return;}}this.value=undefined;this.text="";}this._preindex=this.index;this._prevalue=this.value;this.redraw();this._refreshAccessibilityValue();}};_pCombo.set_codecolumn=function(_a){if(_a!=this.codecolumn){this.codecolumn=_a;this.on_apply_codecolumn();}};_pCombo.on_apply_codecolumn=function(){if(this.combolist){this.combolist.set_codecolumn(this.codecolumn);}if(this.type=="filter"){this._createFilteredDataset();}this._recheckValue();this._is_recheck=true;};_pCombo.set_datacolumn=function(_a){if(_a!=this.datacolumn){this.datacolumn=_a;this.on_apply_datacolumn();}};_pCombo.on_apply_datacolumn=function(){if(this.combolist){this.combolist.set_datacolumn(this.datacolumn);}if(this.type=="filter"){this._createFilteredDataset();}this._recheckValue();this._is_recheck=true;};_pCombo.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset||(typeof _a=="object"&&_a._type_name=="Dataset")){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();this._recheckValue();this._is_recheck=true;}};_pCombo._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pCombo.getInnerDataset=function(){return this._innerdataset;};_pCombo.set_innerdataset=function(_a){this.innerdataset="";if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}};_pCombo.on_apply_innerdataset=function(){var _a=this._innerdataset;if(this.combolist){this.combolist.setInnerDataset(_a);}if(_a){_a._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_a._setEventHandler("onrowsetchanged",this._callback_onrowsetchanged,this);if(this.type=="filter"){this._createFilteredDataset();}}};_pCombo.set_displayrowcount=function(_a){if(_a!=this.displayrowcount){this.displayrowcount=_a;}};_pCombo.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;this.on_apply_autoselect();}};_pCombo.on_apply_autoselect=function(){if(this.type=="search"){this.comboedit&&this.comboedit.set_autoselect(this.autoselect);}else{this.comboedit&&this.comboedit.set_autoselect(false);}};_pCombo.set_autoskip=function(_a){if(_a!=this.autoskip){this.autoskip=_a;this.on_apply_autoskip();}};_pCombo.on_apply_autoskip=function(){this.comboedit&&this.comboedit.set_autoskip(this.autoskip);};_pCombo.set_displaynulltext=function(_a){if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pCombo.on_apply_displaynulltext=function(){this.comboedit&&this.comboedit.set_displaynulltext(this.displaynulltext);};_pCombo.set_type=function(_a){if(_a!=this.type){this.type=_a;this.on_apply_type();}};_pCombo.on_apply_type=function(){if(this.getElement()){if(this._filtereddataset){this._filtereddataset.filter("");}if(this.type=="dropdown"){this.comboedit.set_readonly(true);}else{this.comboedit.set_readonly(this.readonly);}this.on_apply_autoselect();}};_pCombo.set_imemode=function(_a){this.imemode=nexacro._toString(_a);this.on_apply_imemode();};_pCombo.on_apply_imemode=function(){this.comboedit&&this.comboedit.set_imemode(this.imemode);};_pCombo.set_inputtype=function(_a){};_pCombo.set_comboedit=function(_a){};_pCombo.set_combolist=function(_a){};_pCombo.set_popupwindow=function(_a){};_pCombo.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pCombo.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this.comboedit){if(this.type=="dropdown"){this.comboedit.set_readonly(true);}else{this.comboedit.set_readonly(_a);}}};_pCombo.set_useime=function(_a){};_pCombo.set_selectchangetype=function(_a){this.selectchangetype=nexacro._toString(_a);};_pCombo.redraw=function(){var _a=this.combolist;if(this.comboedit){if(this.text){this._setEditValue(this.text);}else{this._setEditValue(undefined);}}if(_a){var _b=this._getRawToListindex(this.index);_a._overeditemindex=_b;_a.set_index(_b);}this._moverindex=this.index;_a=null;};_pCombo.dropdown=function(){if(this.enable===false||this.readonly===true||this.visible===false){return;}var _a;if(!this.isDropdown()){if(this.type=="filter"){_a=this._filtereddataset;if(_a){_a.set_filterstr("");}else{_a=this._getFilteredDataset();}}else{_a=this._innerdataset;}if(_a&&_a.rowcount==0){_a=this._innerdataset;}this.setFocus(false);this._showPopup(_a,this.index);}};_pCombo.isDropdown=function(){if(!this.popupwindow){return false;}return this.popupwindow._is_popup();};_pCombo.getSelect=function(){if(this._control_element){return this.comboedit.getSelect();}};_pCombo.getCount=function(){if(this._control_element){if(this.combolist){return this.combolist.getCount();}else if(this._innerdataset){return this._innerdataset.getRowCount();}else{return 0;}}};_pCombo.getSelectedText=function(){if(this._control_element){return this.comboedit.getSelectedText();}};_pCombo.getCaretPos=function(){if(this.readonly){return  -1;}if(this._control_element){return this.comboedit.getCaretPos();}};_pCombo.setSelect=function(_a,_b){if(this._control_element){return this.comboedit.setSelect(_a,_b);}};_pCombo.setSelectedText=function(_a){if(this._control_element){return this.comboedit.setSelectedText(_a);}};_pCombo.closeDropdown=function(_a,_b){if(this.isDropdown()){this.popupwindow._closePopup();}};_pCombo.updateToDataset=function(){return this.applyto_bindSource("value",this.value);};_pCombo.isAboveSelected=function(){};_pCombo.on_notify_ondropdown=function(_a,_b){if(this.readonly){return false;}var _c=this._innerdataset;if(this._isPopupVisible()==true){this.popupwindow._closePopup();}else{var _d=this.comboedit;if(_d){_d.setSelect(0,0);}if(this.combolist&&this.type=="filter"){if(this._filtereddataset){this._filtereddataset.set_filterstr("");}var _e=_c.getRowCount();for(i=0;i<_e;i++ ){if(this.text==this._getItemText(i)){this._showPopup(_c,i);return false;}else{this._showPopup(_c,this.index);}}}else{this._showPopup(_c,this.index);}}return false;};_pCombo.on_notify_item_onlbuttonup=function(){if(!this.combolist){return false;}if(this.selectchangetype!="noboundup"){return false;}if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}return false;};_pCombo.on_notify_item_canitemchange=function(_a,_b){var _c=_b,_d;if(this.type=="filter"){var _e=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _f=this._getRawIndex(_e,_b.postindex);_f=(_f== -1)?_b.postindex:_f;}else{_f=_b.postindex;}if(_d=this.on_fire_canitemchange(_a,this.index,this.text,this.value,_f,_b.posttext,_b.postvalue)){_c.preindex=_c.postindex;_c.pretext=_c.posttext;_c.prevalue=_c.postvalue;_c.postindex=_f;_c.posttext=_b.posttext;_c.postvalue=_b.postvalue;this._setIndex(_f);if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}else{if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}if(this.type=="filter"){_e.set_filterstr("");}}if(this.comboedit){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _g=this._getWindow();if(_g){_g._removeFromCurrentFocusPath(this,true);}}if(this.parent&&(this.parent._last_focused&&(this.parent._last_focused.id==this.id))){this.comboedit._setFocus(false);}}return _d;};_pCombo.on_notify_item_onitemclick=function(_a,_b){if(!this.combolist||!this.comboedit){return false;}this.on_fire_onitemclick(_a,_b.index,_b.itemtext,_b.itemvalue,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY);if(_b.index==this.index){if(this.type=="filter"){var _c=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _d=this.type=="filter"?_c:this._innerdataset;var _e=this._getRawIndex(_d,_b.index);if(_e!=this.index){return;}}var _f=_b;this.on_fire_canitemchange(_a,this.index,this.text,this.value,_b.index,_b.itemtext,_b.itemvalue);if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}if(this.comboedit){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _g=this._getWindow();if(_g){_g._removeFromCurrentFocusPath(this,true);}}this._setFocus(false);}}}};_pCombo.on_notify_item_onitemchanged=function(_a,_b){if(!this.combolist||!this.comboedit){return false;}var _c=_b.postindex;var _d=this.codecolumn;var _e=this.datacolumn;var _f;if(this.type=="filter"){var _i=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();_f=this.type=="filter"?_i:this._innerdataset;_c=this._getRawIndex(_f,_c);_f=this._filtereddataset;_i.set_filterstr("");}else{_f=this._innerdataset;}var _g=this._selectinfo;var _h={preindex:this.index,pretext:this.text,prevalue:this.value,postindex:_c,posttext:_f.getColumn(_c,_e||_d),postvalue:_f.getColumn(_c,_d||_e)};this._eventinfo.preindex=_h.preindex;this._eventinfo.pretext=_h.pretext;this._eventinfo.prevalue=_h.prevalue;this._eventinfo.postindex=_h.postindex;this._eventinfo.posttext=_h.posttext;this._eventinfo.postvalue=_h.postvalue;this._eventinfo.isselect=true;if(this.index!=_c){if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}else{if(this.type!="dropdown"){this._setEditValue(this.text);}if(this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}if(this.comboedit){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _j=this._getWindow();if(_j){_j._removeFromCurrentFocusPath(this,true);}}if(this.parent&&(this.parent._last_focused&&(this.parent._last_focused.id==this.id))){this.comboedit._setFocus(false);}}return false;};_pCombo._setEditValue=function(_a){this.comboedit.set_value(_a);};_pCombo.on_combo_keydown=function(_a,_b,_c,_d,_e,_f){if(this.readonly||!this.comboedit){return false;}var _g=nexacro.Event;var _h=this.combolist;var _i=this.popupwindow;var _j=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _k=this.type=="filter"?_j:this._innerdataset;var _l=this.datacolumn;var _m=this.codecolumn;var _n,_o,_p=this._moverindex;if(_p<0){_p=this.index;}if(!_k||(!_l&&!_m)){return;}if(_b==_g.KEY_ESC){if(this._isPopupVisible()){_i._closePopup();this._setEditValue(this.text);}return false;}if(_c==true&&_b==_g.KEY_DOWN){if(this._isPopupVisible()){_i._closePopup();}else{this._showPopup(_k,this.index);}return false;}var _q=this._selectinfo;var _r={preindex:this.index,pretext:this.text,prevalue:this.value,postindex:_q.index,posttext:_q.text,postvalue:_q.value};if(_b==_g.KEY_ENTER){if(_p>=0){if(this.type=="filter"){_o=this._getRawIndex(_k,_p);_o=(_o== -1)?_p:_o;_j.set_filterstr("");}else{_o=_p;}}_r.postindex=_o;_r.postvalue=this._getItemValue(_o);_r.posttext=this._getItemText(_o);if(this.on_fire_canitemchange(this,_r.preindex,_r.pretext,_r.prevalue,_r.postindex,_r.posttext,_r.postvalue)==false){this._setEditValue(this.text);if(this._isPopupVisible()){_i._closePopup();}return false;}this._setIndex(_o);if(this._isPopupVisible()){this._enterkey=true;_i._closePopup();}this._eventinfo.isselect=true;}if(_b==nexacro.Event.KEY_UP||_b==nexacro.Event.KEY_DOWN){if(!nexacro._enableaccessibility||_d||this._isPopupVisible()){if(this._isPopupVisible()){var _s;if(_b==nexacro.Event.KEY_UP){if(_p>0){var _t= -1;if(_h._overedItem){_t=_h._overedItem.index;}else{_t=_p;}if(_t==_p){_n=_p-1;}else{_n=_t-1;}}else{_n=0;}this._downkey=false;_h._reset_item(_n);_h._overeditemindex=_n;this._moverindex=_n;_s=_k.getColumn(_n,_l||_m);_s=_s==undefined?"":_s;this._setEditValue(_s);}else{var _t=0;if(_h._overedItem){_t=_h._overedItem.index;}else{_t=_p;}if(_t==_p){_n=_p+1;}else{_n=_t+1;}if(_n<_k.getRowCount()){this._downkey=true;_h._reset_item(_n);_h._overeditemindex=_n;this._moverindex=_n;_s=_k.getColumn(_n,_l||_m);_s=_s==undefined?"":_s;this._setEditValue(_s);}}}else{if(_b==nexacro.Event.KEY_UP){if(_p>0){_n=_p-1;}else{_n=0;}}else{if(_p+1<_k.getRowCount()){_n=_p+1;}else{_n=_p;}}if(_n>=0){if(this.type=="filter"){_o=this._getRawIndex(_k,_n);_o=(_o== -1)?_n:_o;_j.set_filterstr("");}else{_o=_n;}}_r.postindex=_o;_r.postvalue=this._getItemValue(_o);_r.posttext=this._getItemText(_o);if(this.index!=_o){var _u=this.on_fire_canitemchange(this,_r.preindex,_r.pretext,_r.prevalue,_r.postindex,_r.posttext,_r.postvalue);if(_u){this._setIndex(_o);}}}this._getWindow()._keydown_element._event_stop=true;}this._getWindow()._keydown_element._event_stop=true;return false;}return false;};if(nexacro.Browser=="Gecko"){_pCombo.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=this.popupwindow;if(this.comboedit.value==null||this.comboedit.value==""){if(_g._is_popup()){_g._closePopup();}}var _h=nexacro.Component.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN){if(this.type=="dropdown"){this.comboedit.setCaretPos(0);}}return _h;};_pCombo._eachColosePopup=nexacro._emptyFn;}else{_pCombo._eachColosePopup=function(_a){var _b=this.popupwindow;if(_b._is_popup()){_b._closePopup();}};}_pCombo.on_fire_onkillfocus=function(_a,_b){if(this._text_change==true){this._setEditValue(this.text);}if(this.combolist){this.combolist._reset_item(this.index);this.combolist._overeditemindex= -1;this._moverindex= -1;}if(this._isPopupVisible()){this.popupwindow._closePopup();this._setEditValue(this.text);}if(this.comboedit){this.comboedit._stat_change("notfocus","normal");}nexacro.Component.prototype.on_fire_onkillfocus.call(this,_a,_b);};_pCombo.on_notify_edit_onlbuttondown=function(_a,_b){if(this.readonly){return false;}if(this._isPopupVisible()){this.popupwindow._closePopup();}else{if(this.type=="dropdown"){this._showPopup(this._innerdataset,this.index);}}return false;};_pCombo._is_fling=false;_pCombo._on_bubble_flingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._is_fling=true;return nexacro.Component.prototype._on_bubble_flingstart.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k);};_pCombo._on_bubble_flingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._is_fling=false;return nexacro.Component.prototype._on_bubble_flingend.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k);};_pCombo.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return nexacro.Component.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pCombo.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=this._is_real_upelem;this._is_real_upelem=null;if(_l instanceof nexacro.ScrollBarCtrl){return;}if(_l&&_l.parent instanceof nexacro.ScrollBarCtrl){return;}var _o=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _p=this._getWindow();var _q="";var _r=_p.findComponent(_p._cur_ldown_elem,0,0);if(_r&&_r[0]){_q=_r[0]._unique_id;}var _s="";_r=_p.findComponent(_m,0,0);if(_r&&_r[0]){_s=_r[0]._unique_id;}if(_q!=_s){return;}var _t= -1;var _u=this.index;var _v=this.combolist;var _w=this.comboedit;var _x=_v&&_v._selectinfo;if(_v){_t=_v._overeditemindex;}if(this.visible&&this._isEnable()&&this._isPopupVisible()){if(_v){if(_t> -1){if(_u!=_t){if(_x.index==_t){this._setIndex(_u);}else{this._setIndex(_t);}if(_n&&this._isPopupVisible()){if(!this._scroll_proc){this.popupwindow._closePopup();}}}else{this._setIndex(_u);}if(_w){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_w.on_apply_custom_setfocus();}}}else{this._setIndex(_u);}}}_v=null;_w=null;return _o;};_pCombo.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pCombo.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);this.on_combo_keydown(null,_a,_b,_c,_d,0);return _g;};_pCombo._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this.popupwindow&&this.popupwindow._is_popup()){if(this.combolist){return this.combolist._on_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);}}return true;};_pCombo.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.readonly){return false;}var _o=this._find_lastFocused();if((this!=_o&&!this._is_subcontrol)||(this.parent!=_o&&this._is_subcontrol)){return;}if(!this.popupwindow||!this.popupwindow._is_popup()){var _p=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _q=this.type=="filter"?_p:this._innerdataset;var _r=this.index;var _s=0;if(_b>0){if(_r>0){_s=_r-1;}else{_s=0;}this._setIndex(_s);}else{_s=_r+1;if(_s<_q.getRowCount()){this._setIndex(_s);}}}return true;};_pCombo.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCombo.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onfling.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return _j;};_pCombo.on_notify_edit_cancharchange=function(_a,_b){if(this.cancharchange&&this.cancharchange._has_handlers){_b.fromobject=this;var _c=this.cancharchange._fireCheckEvent(this,_b);if(!_c){this.value=_b.pretext;this.text=_b.pretext;this._setEditValue(this.text);}return nexacro._toBoolean(_c);}return true;};_pCombo.on_notify_edit_onchar=function(_a,_b){if(this.onchar&&this.onchar._has_handlers){var _c=new nexacro.TextChangeEventInfo(_a,_b.chartext,_b.pretext,_b.posttext);var _d=this.onchar._fireCheckEvent(this,_c);return nexacro._toBoolean(_d);}return true;};_pCombo.on_notify_edit_ontextchange=function(_a,_b){return this.on_fire_ontextchange(_a,_b);};_pCombo.on_notify_edit_ontextchanged=function(_a,_b){return this.on_fire_ontextchanged(_a,_b);};_pCombo.on_fire_ontextchange=function(_a,_b){if(this.ontextchange&&this.ontextchange._has_handlers){_b.fromobject=this;var _c=this.ontextchange._fireCheckEvent(this,_b);if(_b.pretext!=_b.posttext){this._text_change=true;}return nexacro._toBoolean(_c);}return true;};_pCombo.on_fire_ontextchanged=function(_a,_b){var _c=false;if(this.ontextchanged&&this.ontextchanged._has_handlers){_b.fromobject=this;_c=this.ontextchanged._fireEvent(this,_b);}this.on_combo_text_changed(_b.pretext,_b.posttext);return nexacro._toBoolean(_c);};_pCombo.on_notify_edit_oneditclick=function(_a,_b){if(nexacro.isTouchInteraction&&nexacro.SupportTouch&&!application.enabletouchevent){var _c=new nexacro.EventInfo(this,"oneditclick");this.on_notify_edit_onlbuttondown(this,_c);}if(this.oneditclick&&this.oneditclick._has_handlers){_b.fromobject=this;var _d=this.oneditclick._fireEvent(this,_b);return nexacro._toBoolean(_d);}return true;};_pCombo.on_combo_text_changed=function(_a,_b){if(this.readonly||!this.comboedit){return false;}if((this.type!="dropdown")&&(this.onkeydown&&this.onkeydown.defaultprevented===true)){this.comboedit.set_value("");return;}var _c=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _d=this.type=="filter"?_c:this._innerdataset;if(!_d){return false;}if(!this.combolist&&this.type!="dropdown"){this._createList(_d);}var _e=this.datacolumn||this.codecolumn;var _f=_b;var _g=this.comboedit;var _h=this.popupwindow;this._keyval=_f;if(_f===""){this._text_change=true;this._eachColosePopup();return;}switch(this.type){case "search":var _i=_d.findRowAs(_e,_f);if(_i>=0){var _j=false;if(_g._edit_base_api&&_g._edit_base_api._charcode==nexacro.Event.KEY_BACKSPACE){_j=true;}if(!_h._is_popup()){this._text_change=true;this._showPopup(_d,_i);}else{this._showPopup(_d,_i);}}else{if(_h._is_popup()){_h._closePopup();}}break;case "filter":_d.set_filterstr("");_d.set_filterstr(_e+".match('"+_f+"')");if(_d.getRowCount()>0){this.combolist._overeditemindex=0;this._moverindex=0;this._text_change=true;this._showPopup(_d,0);}else{if(_h._is_popup()){_h._closePopup();}}break;}this._keyval=undefined;};_pCombo.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onitemclick&&this.onitemclick._has_handlers){var _o=new nexacro.ItemClickEventInfo(_a,"onitemclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this.onitemclick._fireEvent(this,_o);}return false;};_pCombo.on_fire_onitemchanged=function(_a,_b,_c,_d,_e,_f,_g){this.applyto_bindSource("value",_a.value);var _h=this._selectinfo;_h.index=_e;_h.text=_f;_h.value=_g;this._eventinfo.preindex=_b;this._eventinfo.pretext=_c;this._eventinfo.prevalue=_d;this._eventinfo.postindex=_e;this._eventinfo.posttext=_f;this._eventinfo.postvalue=_g;this._eventinfo.isselect=true;if(this.onitemchanged&&this.onitemchanged._has_handlers){var _i=new nexacro.ItemChangeEventInfo(this,"onitemchanged",_b,_c,_d,_e,_f,_g);this.onitemchanged._fireEvent(this,_i);}return false;};_pCombo.on_fire_canitemchange=function(_a,_b,_c,_d,_e,_f,_g){if(this.canitemchange&&this.canitemchange._has_handlers){var _h=new nexacro.ItemChangeEventInfo(this,"canitemchange",_b,_c,_d,_e,_f,_g);var _i=this.canitemchange._fireCheckEvent(this,_h);return nexacro._toBoolean(_i);}return true;};_pCombo.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=new nexacro.EventInfo(this,"ondropdown");_b.postvalue=this.value;var _c=this.ondropdown._fireEvent(this,_b);if(_c==undefined){_c=true;}return nexacro._toBoolean(_c);}return true;};_pCombo.on_fire_oncloseup=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._getWindow();if(_i&&this._track_capture){_i._releaseCaptureLock(this);}var _j;if(this.combolist){_j=this.combolist.index;if(this.type=="filter"){_j=this._getRawToListindex(_j);}if(!this._enterkey){this.combolist._reset_item(_j);}this._enterkey=false;this.combolist._overeditemindex= -1;this._moverindex= -1;if(this.combolist._overedItem){this.combolist._overedItem=null;}}if(_h==false&&(this.combolist&&this.index!=_j)){if((_c==_f)&&(this._keyval!=="")&&(this._text_change==false)){this._setEditValue(this.text);}if(this.combolist){if(this.type=="filter"){_b=this._getRawToListindex(_b);}this.combolist.index=_b;this.combolist.on_apply_index(_b);}}if(this.oncloseup&&this.oncloseup._has_handlers){var _k=new nexacro.ComboCloseUpEventInfo(this,"oncloseup",_b,_c,_d,_e,_f,_g,_h);var _l=this.oncloseup._fireEvent(this,_k);return nexacro._toBoolean(_l);}return false;};_pCombo.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;if(this._isPopupVisible()){var _e=this.combolist;var _f=_e._get_contents_rows();var _g=null;if(_f){if(_a){_e._overeditemindex++ ;}else{_e._overeditemindex-- ;}if(_e._overeditemindex<0||_e._overeditemindex>_f.length-1){if(this._isPopupVisible()){this._closePopup();}_e._overeditemindex=0;}else{_g=_e._getItemByRealIdx(_f,_e._overeditemindex).obj;}}if(_g){_d=true;_g._setAccessibilityNotifyEvent();}}return _d;};_pCombo._applyZoomPopup=function(){if(this.popupwindow&&this.popupwindow._is_popup()){if(this.enable===false||this.readonly===true||this.visible===false){return;}var _a=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _b=this.type=="filter"?_a:this._innerdataset;if(_b&&_b.rowcount==0){_b=this._innerdataset;}this._showPopup(_b,this.index);}};_pCombo._setIndex=function(_a,_b){if(_b||_a!=this.index){var _c;if(this.type=="filter"){_c=this._filtereddataset;}else{_c=this._innerdataset;}if(_c){_a=parseInt(_a,10)|0;this._preindex=this.index;this._pretext=this.text;this._prevalue=this.value;this.index=_a;this.on_apply_index();this.on_fire_onitemchanged(this,this._eventinfo.preindex,this._eventinfo.pretext,this._eventinfo.prevalue,this._eventinfo.postindex,this._eventinfo.posttext,this._eventinfo.postvalue);}}return _a;};_pCombo._recalcLayout=function(){if(!this.getElement()||!this._is_created_contents){return;}var _a=this.comboedit;var _b=this.dropbutton;var _c=0;var _d=this._client_width;var _e=this._client_height;var _f=this._client_left;var _g=this._client_top;var _h=this.on_find_CurrentStyle_buttonsize(this._pseudo);if(!_h||_h._is_empty){_c=_e;}else if(parseInt(_h._value,10)>_d){_c=_d;}else{_c=parseInt(_h._value,10)|0;if(_c<0){_c=_e;}}if(_b){var _i=_d-_c;var _j=_g;var _k=_c;var _l=_e;var _m=_b.on_find_CurrentStyle_margin(this._pseudo);if(_m&&!_m._is_empty){_i=_i+_m.left;_j=_m.top;_k=_c-_m.left-_m.right;_l=_e-_m.top-_m.bottom;}_b.move(_i,_j,_k,_l,null,null);}if(_a){var _n=_f;var _o=_g;var _p=_d-_c-1;var _q=_e;var _r=_a.on_find_CurrentStyle_margin(this._pseudo);if(_r&&!_r._is_empty){_n=_r.left;_o=_r.top;_p=_p-_r.left-_r.right;_q=_q-_r.top-_r.bottom;}_a.move(_n,_o,_p,_q,null,null);}};_pCombo._getMaxTextSize=function(_a){var _b=this.datacolumn||this.codecolumn;var _c=this.combolist;if(!_a||!_b||!_c){return false;}return _c._getMaxTextSize();};_pCombo._isPopupVisible=function(){var _a=this.popupwindow;if(_a&&_a.visible==true){return true;}else{return false;}};_pCombo._createListOnly=function(_a){var _b=this.datacolumn;var _c=this.codecolumn;var _d=this.combolist;if(!_a||_a&&_a.getRowCount()<=0||(!_b&&!_c)){return;}if(!_d){this._exprcache={};_d=this.combolist=new nexacro.ComboListCtrl("combolist","absolute",0,0,1,1,null,null,this);_d.set_scrollbars("autovert");_d.set_codecolumn(_c);_d.set_datacolumn(_b);this.on_apply_innerdataset();_d.createComponent(true);_d._setEventHandler("onitemclick",this.on_notify_item_onitemclick,this);_d._setEventHandler("canitemchange",this.on_notify_item_canitemchange,this);_d._setEventHandler("onitemchanged",this.on_notify_item_onitemchanged,this);}};_pCombo._createList=function(_a,_b,_c){var _d=this.datacolumn;var _e=this.codecolumn;if(!_a||_a&&_a.getRowCount()<=0||(!_d&&!_e)){return;}if(!this.combolist){this._createListOnly(_a);}var _f=this.combolist;var _g=this.popupwindow;if(!_g){_g=this.popupwindow=new nexacro.ComboPopupWindow("combopopup","absolute",0,0,0,0,null,null,this);_g._track_capture=false;}if(!_g._is_created){_g.createComponent(true);_g._attach(_f);_g.on_created();}if(!_f._is_created){var _h=_f._control_element;if(_h&&_h._adjust_height==null){if(_b!=undefined&&_c!=undefined){_h.setElementSize(_b,_c);}else{var _i=this._getPopuplistSize(_a);var _j=_i.width;var _k=_i.height;_h.setElementSize(_j,_k);}}_f.on_created();_f.getElement().setElementToolTip("",_f.getElement().tooltiptype);}_g=null;_f=null;};_pCombo._update_popupwindow_position=function(){var _a=this.popupwindow;if(_a){var _b=_a._control_element;var _c=this.type=="filter"?(this._filtereddataset?this._filtereddataset:this._getFilteredDataset()):this._innerdataset;_c=(_c&&_c.rowcount==0)?this._innerdataset:_c;var _d=this._getPopuplistSize(_c);var _e=_d.height,_f=_d.width;var _g=nexacro._getElementPositionInFrame(this._control_element);{var _h={x:0,y:0};var _i=this._getWindow();var _j=_i.getWidth();var _k=_i.getHeight();var _l=this._getCumulativeZoomFactor()/100.0;_h.width=_j-_g.x+(this._adjust_width*_l);_f=parseInt(Math.min(_f,_h.width/_l));_h.height=_k-_g.y+(this._adjust_height*_l);_e=parseInt(Math.min(_e,_h.height/_l));}var _m=_a._getScalePosition(_f,_e);var _n=_g.x+_m.left,_o=_g.y+_m.top;if(this._getPopupType()=="center"){var _p=this._getOwnerFrame();if(!_p){return;}var _q=_p._getWindow();_p=_q?_q.frame:null;if(!_p){return;}_n=((_p.width/2)-(_b.width/2));_o=((_p.height/2)-(_b.height/2));_o=_o<0?0:_o;}_b.setElementPosition(_n/_l,_o);_a=null;}};_pCombo._showPopup=function(_a,_b){var _c=false;var _d=this.index;this._eventinfo.preindex=this.index;this._eventinfo.pretext=this.text;this._eventinfo.prevalue=this.value;if(this.on_fire_ondropdown(this)==false){return;}if(_d!=this.index){_c=true;}if((this.ondropdown&&this.dropdown.preventable&&this.ondropdown.defaultprevented===true)||!_a||(_a&&_a.getRowCount()==0)||this._getPopupType()=="none"){return;}if(_c){_b=this.index;}this._createListOnly(_a);var _e=this._getPopuplistSize(_a);var _f=parseInt(_e.width);var _g=parseInt(_e.height);if(_g>700){var _j={x:0,y:0};var _k=this._getWindow();var _l=_k.getWidth();var _m=_k.getHeight();var _n=nexacro._getElementPositionInFrame(this._control_element);var _o=this._getCumulativeZoomFactor()/100.0;_j.width=_l-_n.x+(this._adjust_width*_o);_f=parseInt(Math.min(_f,_j.width/_o));_j.height=_m-_n.y+(this._adjust_height*_o);_g=parseInt(Math.min(_g,_j.height/_o));}this._createList(_a,_f,_g);var _h=this.combolist;var _i=this.popupwindow;this.on_apply_prop_rtldirection();if(nexacro._enableaccessibility){this._want_arrows=true;}if(_h){if(this._getPopupType()=="center"){_i._popupCenterAuto(_f,_g);}else{_i._popupAuto(_f,_g);}_h.setInnerDataset(_a);_h.set_index(_b);_h._reset_item(_b);if(_b== -1&&_h.vscrollbar){_h.getElement().setElementVScrollPos(0);}var _p=this._getWindow();if(_p&&this._track_capture){if(_p._getCaptureComp(true,false)!=this){_p._setCaptureLock(this,true,false);}}if(nexacro._enableaccessibility){if(nexacro._accessibilitytype==4){_h.setFocus();}else if(nexacro._accessibilitytype==5){_h._setAccessibilityNotifyEvent();}}_h=null;}};_pCombo._closePopup=function(){var _a=this.popupwindow;if(_a){_a._closePopup();}_a=null;};_pCombo._getPopuplistSize=function(_a){var _b=this.combolist;var _c=_a.getRowCount();var _d=this.displayrowcount<_c?this.displayrowcount:_c;var _e,_f;var _g=this._getMaxTextSize(_a);var _h=parseInt(_b.currentstyle.itemheight._value,10);var _i=_b.on_find_CurrentStyle_padding(this._pseudo);var _j=_b.on_find_CurrentStyle_border(this._pseudo);var _k=_b.on_find_CurrentStyle_itempadding(this._pseudo);var _l=_b.on_find_CurrentStyle_itemborder(this._pseudo);var _m=_i?_i._getPaddingWidth():0;var _n=_i?_i._getPaddingHeight():0;var _o=_j?_j._getBorderWidth():0;var _p=_j?_j._getBorderHeight():0;var _q=_k?_k._getPaddingWidth():0;var _r=_l?_l._getBorderWidth():0;_f=_d<=0?_h*_c:_h*_d;_f+=_n+_p;_g+=_m+_o;_e=Math.max(this._adjust_width,_g);return {width:_e,height:_f};};_pCombo._getRawToListindex=function(_a){if(this.type=="filter"){var _b=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _c=_b._viewRecords.length;var _d=_b._viewRecords;for(var _e=0;_e<_c;_e++ ){if(_d[_e]._rawidx==_a){return _e;}}}return _a;};_pCombo._getRawIndex=function(_a,_b){var _c=this._innerdataset;if(_b== -1||(_a._viewRecords.length<=_b)){return  -1;}var _d=_a._viewRecords[_b]._rawidx;var _e=_c._rawRecords;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){if(_e[_g]._rawidx==_d){return _d;}}return  -1;};_pCombo._getFilteredDataset=function(){if(!this._filtereddataset){this._createFilteredDataset();}return this._filtereddataset;};_pCombo._createFilteredDataset=function(){var _a=this._filtereddataset;var _b=this.codecolumn;var _c=this.datacolumn;var _d=this._innerdataset;if(_d&&(!(_b in _d.colinfos)||!(_c in _d.colinfos))){return;}if(!_d||_d&&_d.getRowCount()<=0||!_c&&!_b){return;}var _e=_d.getRowCount();if(!_a){_a=this._filtereddataset=new nexacro.Dataset("filter_"+this.id);_a.addColumn(_b,"string");_a.addColumn(_c,"string");for(var _f=0;_f<_e;_f++ ){_a.insertRow(_f);_a.setColumn(_f,_b,_d.getColumn(_f,_b));_a.setColumn(_f,_c,_d.getColumn(_f,_c));}}else{if(this.combolist){this.combolist._userDsChange=true;_a.clear();_a.addColumn(_b,"string");_a.addColumn(_c,"string");for(var _f=0;_f<_e;_f++ ){_a.insertRow(_f);_a.setColumn(_f,_b,_d.getColumn(_f,_b));_a.setColumn(_f,_c,_d.getColumn(_f,_c));}this.combolist._userDsChange=false;this.combolist.redraw();}else{_a.clear();_a.addColumn(_b,"string");_a.addColumn(_c,"string");for(var _f=0;_f<_e;_f++ ){_a.insertRow(_f);_a.setColumn(_f,_b,_d.getColumn(_f,_b));_a.setColumn(_f,_c,_d.getColumn(_f,_c));}}}};_pCombo._getDragData=function(){if(this.comboedit&&this.comboedit.getSelectedText){return this.comboedit.getSelectedText();}};_pCombo._recheckValue=function(){var _a=this._innerdataset;if(!this.comboedit){return false;}if(this.value!==undefined){if(_a){var _b=_a.getRowCount();for(var _c=0;_c<_b;_c++ ){if(this.value==this._getItemValue(_c)){this.index=_c;this.text=this._getItemText(_c);this.redraw();return;}}this.index= -1;this.text="";this.redraw();return;}}if(this.text!=""){if(_a){var _b=_a.getRowCount();for(var _c=0;_c<_b;_c++ ){if(this.text==this._getItemText(_c)){this.index=_c;this.value=this._getItemValue(_c);this.redraw();return;}}}}if(this.index!= -1){if(_a){if(this.index<_a.getRowCount()){this.value=this._getItemValue(this.index);this.text=this._getItemText(this.index);this.redraw();return;}}}this.index= -1;this.value=undefined;this.text="";if(!_a){this.redraw();}};_pCombo._getItemValue=function(_a){var _b=this._innerdataset;var _c=this.codecolumn||this.datacolumn;if(_b&&_c){var _d=_b.getColumn(_a,_c);if(_d==undefined&&this.type=="filter"){_d=this._innerdataset.getColumn(_a,_c);}return _d;}return null;};_pCombo._getItemText=function(_a){var _b=this._innerdataset;var _c=this.datacolumn||this.codecolumn;if(_b&&_c){var _d=_b.getColumn(_a,_c);if(_d==undefined&&this.type=="filter"){_d=this._innerdataset.getColumn(_a,_c);}return _d;}return null;};_pCombo._getIndex=function(_a){var _b=this._filtereddataset?this._filtereddataset:this._getFilteredDataset();var _c=this.type=="filter"?_b:this._innerdataset;if(_c){var _d=_c.getRowCount();for(var _e=0;_e<_d;_e++ ){var _f=this._getItemValue(_e);if(_a instanceof nexacro.Decimal){_a=_a.toString();}if(_f instanceof nexacro.Decimal){_f=_f.toString();}if(_a==_f){return _e;}}}return  -1;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pCombo._cancelSelect=function(){if(this.comboedit){this.comboedit._cancelSelect();}};}else{_pCombo._cancelSelect=function(){if(this.comboedit){this.comboedit.setCaretPos(0);}};}_pCombo._setAccessibilityInfoByHover=function(_a){if(this._isPopupVisible()){var _b=this.combolist;return _b._setAccessibilityInfoByHover(_a);}else{return this._setAccessibilityNotifyEvent();}};_pCombo._clearAccessibilityInfoByHover=function(){if(this.combolist){this.combolist._clearAccessibilityInfoByHover();}};delete _pCombo;_pCombo=null;nexacro.ComboListCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ListBoxCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._default_itemheight=nexacro._getCachedStyleObj("itemheight","20");this._overedItem=null;this._downItem=null;this._is_accessibility_changeIdx=false;};var _pComboListCtrl=nexacro._createPrototype(nexacro.ListBoxCtrl,nexacro.ComboListCtrl);nexacro.ComboListCtrl.prototype=_pComboListCtrl;_pComboListCtrl.on_find_CurrentStyle_itemheight=function(_a){return this.parent.on_find_CurrentStyle_itemheight(_a)||this._default_itemheight;};_pComboListCtrl.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pComboListCtrl.on_find_CurrentStyle_itembackground=function(_a){return this.parent._find_pseudo_obj("itembackground",_a,"background")||this._find_pseudo_obj("itembackground",_a,"background");};_pComboListCtrl.on_find_CurrentStyle_itemgradation=function(_a){return this.parent._find_pseudo_obj("itemgradation",_a,"gradation")||this._find_pseudo_obj("itemgradation",_a,"gradation");};_pComboListCtrl.on_find_CurrentStyle_itemborder=function(_a){return this.parent._find_pseudo_obj("itemborder",_a,"border")||this._find_pseudo_obj("itemborder",_a,"border");};_pComboListCtrl.on_find_CurrentStyle_itembordertype=function(_a){return this.parent._find_pseudo_obj("itembordertype",_a,"bordertype")||this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pComboListCtrl.on_find_CurrentStyle_itempadding=function(_a){return this.parent._find_pseudo_obj("itempadding",_a,"padding")||this._find_pseudo_obj("itempadding",_a,"padding");};_pComboListCtrl.on_find_CurrentStyle_itemaccessibility=function(_a){return this.parent._find_pseudo_obj("itemaccessibility",_a,"accessibility")||this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pComboListCtrl.on_find_CurrentStyle_color=function(_a){return this.parent._find_pseudo_obj("itemcolor",_a,"color")||this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;};_pComboListCtrl.on_find_CurrentStyle_font=function(_a){return this.parent._find_pseudo_obj("itemfont",_a,"font")||this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;};_pComboListCtrl._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){return nexacro.Component.prototype._on_mousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);};_pComboListCtrl.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l&&(_l instanceof nexacro.ScrollBarCtrl||(_l.parent&&_l.parent instanceof nexacro.ScrollBarCtrl))){return;}if(nexacro.isTouchInteraction){if(this._is_fling_stop){return;}var _r=this._selectinfo_list;if(this.parent._scroll_proc){if(_r.length){var _s=_r.length-1;var _t=_r[_s];if(_t.index!=this.parent.index){_t.obj._keep_selecting=false;_t.obj._stat_change("notselect","normal");_r.splice(_s,1);}}return;}}var _n=this._getWindow().findComponent(_m);var _o=this._selectinfo;var _p=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _q=_o.obj;if(_q){this._is_lbutton_up=true;_q._keep_selecting=false;var _u=this._get_contents_rows();var _v;if(this._contains(_m)){this.on_fire_onitemclick(this,_n.index,_n.text,_n.value,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(nexacro._enableaccessibility){if(this._accessibility_index> -1){var _w=this._get_rowobj_byrow(this._accessibility_index);if(_o.index!=this._accessibility_index&&_w&&_w._selected==true){this._deselect_all(true);_w._stat_change("notselect","normal");}}}_v=_n;var _x=_v.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_x);}else{this._do_select(_x,false);}}else{if(this._changeIndex(_x)){this.on_apply_index();if(!_q.selected){_q._stat_change("notselect","normal");}}else{if(!_q.selected){_q._stat_change("notselect","normal");}}}}else{if(!_q.selected){_q._stat_change("notselect","normal");}}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._is_accessibility_changeIdx=true;}}return _p;};_pComboListCtrl.on_fire_sys_ontouchstart=function(_a,_b,_c,_d){if(this._is_fling_stop=this.parent._is_fling){return;}this._downItem=this._getWindow().findComponent(_a[0]._elem);var _e=nexacro.Component.prototype.on_fire_sys_ontouchstart.call(this,_a,_b,_c,_d);return _e;};_pComboListCtrl.on_fire_sys_ontouchend=function(_a,_b,_c,_d){if(_d&&(_d instanceof nexacro.ScrollBarCtrl||(_d.parent&&_d.parent instanceof nexacro.ScrollBarCtrl))){return;}if(this._is_fling_stop){return;}var _e=this._selectinfo_list;if(this.parent._scroll_proc){if(_e.length){var _h=_e.length-1;var _i=_e[_h];if(_i.index!=this.parent.index){_i.obj._keep_selecting=false;_i.obj._stat_change("notselect","normal");_e.splice(_h,1);}}return;}var _f=this._getWindow().findComponent(_a[0]._elem);var _g=nexacro.Component.prototype.on_fire_sys_ontouchend.call(this,_a,_b,_c,_d);while(_e.length){var _j=_e[0].obj;if(_j){_j._keep_selecting=false;var _k=this._get_contents_rows();var _l;if(this._contains(_f)&&this._downItem.index==_f.index){var _m=_a[0];this.on_fire_onitemclick(this,_f.index,_f.text,_f.value,_m._current_state,this._altKey,this._ctrlKey,this._shiftKey,_m.screenX,_m.screenY,_m.canvasX,_m.canvasY,_m.clientX,_m.clientY);_l=_f;var _n=_l.index;if(this.multiselect){if(this._shiftKey==true||this._ctrlKey==true){this._select_withmouseevent(_n);}else{this._do_select(_n,false);}}else{if(this._changeIndex(_n)){this.on_apply_index();if(!_j.selected){_j._stat_change("notselect","normal");}}else{if(!_j.selected){_j._stat_change("notselect","normal");}}}}else{if(!_j.selected){_j._stat_change("notselect","normal");}}}_e.shift();}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._is_accessibility_changeIdx=true;}return _g;};_pComboListCtrl.on_vscroll=function(_a,_b){if(_b._evtkind=="fling"||_b._evtkind=="slide"){if(_b.pos!=this.parent._start_vscroll_pos){this.parent._scroll_proc=true;}}nexacro.ListBoxCtrl.prototype.on_vscroll.call(this,_a,_b);};_pComboListCtrl.on_hscroll=function(_a,_b){this.parent._scroll_proc=true;nexacro.ListBoxCtrl.prototype.on_hscroll.call(this,_a,_b);};_pComboListCtrl._is_fling_stop=false;_pComboListCtrl.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!nexacro.isTouchInteraction){return;}if(this._is_fling_stop=this.parent._is_fling){return;}var _n=_a.parent;while(!_n._is_component){_n=_n.parent;}if(!_n){return;}_n._keep_selecting=true;_n._stat_change("select","selected");var _o=this._shiftKey=_e;this._ctrlKey=_d;this._altKey=_c;this._selectinfo.obj=_n;this._selectinfo.index=_n.index;this._selectinfo.text=_n.text;this._selectinfo.value=_n.value;this._selectinfo_list[this._selectinfo_list.length]=this._selectinfo;if(!_o){this._shift_select_base_index=_n.index;}this._lbtnDownIdx=_n.index;};_pComboListCtrl.on_notify_item_onlbuttondown=function(_a,_b){if(nexacro.isTouchInteraction){if(this._is_fling_stop=this.parent._is_fling){return;}}this.parent._start_vscroll_pos=this.vscroll&&this.vscroll.pos>0?this.vscroll.pos:0;this.parent._scroll_proc=false;if(!nexacro.isTouchInteraction){var _c=this.getSelectedItems();var _d=_c.length;for(var _e=0;_e<_d;_e++ ){var _f=this._get_rowobj_byrow(_c[_e]);if(_f){_f.selected=false;_f._stat_change("notselect","normal");}}}nexacro.ListBoxCtrl.prototype.on_notify_item_onlbuttondown.call(this,_a,_b);};_pComboListCtrl.on_notify_item_onmouseenter=function(_a,_b){};_pComboListCtrl.on_notify_item_onmouseleave=function(_a,_b){};_pComboListCtrl._create_item=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return new nexacro.ComboListItemCtrl(_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pComboListCtrl._reset_item=function(_a){var _b=this.getElement();var _c=this.index;if(this._overedItem){_c=this._overedItem.index;}var _d=_b.scroll_top==undefined?0:_b.scroll_top;var _e,_f,_g;var _h=parseInt(this.currentstyle.itemheight._value,10);var _i=this._get_rowcount();var _j=this._get_last_visible_row(true)-1;if(_a>=_i){return;}_f=(_a<0?0:_a)*_h;_g=_f+_h;if((_c!=_a)&&(_g>=this._client_height+_d)&&(this.parent._downkey==true)){_e=_d+_h;}else if(_f<_d){_e=_f;}if(_e>=0){this.vscrollbar.set_pos(_e);}var _k=this._get_contents_rows();var _l=this._getItemByRealIdx(_k,this._overeditemindex).obj;var _m=this._getItemByRealIdx(_k,_a).obj;if(_l){_l.on_apply_mouseover(false);this._set_overeditemindex( -1);}if(_m){this._overedItem=_m;_m.on_apply_mouseover(true);this._set_overeditemindex(_m.index);}};_pComboListCtrl._refresh_size=function(_a){var _b=this.getElement();if(_b){this._onResetScrollBar();var _c=this._contents_maxwidth;var _d=this._contents_maxheight;var _e=_b.container_maxwidth;var _f=_b.container_maxheight;_c=Math.max(_c,_b.client_width);_d=Math.max(_d,_b.client_height);if((_b.container_maxwidth!=_c||_b.container_maxheight!=_d)){_b.setElementScrollMaxSize(_c,_d);}if(_a){this._refresh_scroll();}}};_pComboListCtrl._set_overeditemindex=function(_a){this._overeditemindex=_a;this.parent._moverindex=_a;};_pComboListCtrl._changeIndex=function(_a,_b,_c,_d){var _e=this.parent;if(_b||_a!=this.index||(_e.type=="search"&&_e.index!=_a&&_a==this.index&&!_e._keyval)){var _f=this._innerdataset;var _g=parseInt(_a,10)|0;var _h=this.index;var _i=this.text;var _j=this.value;var _k=(this.codecolumn||this.datacolumn);if(_f&&_k){var _l=_f.getColumn(_g,this.datacolumn||this.codecolumn);var _m=_f.getColumn(_g,this.codecolumn||this.datacolumn);var _n=_l==undefined?"":_l;var _o=_m;if(_c!=true){if(this.on_fire_canitemchange(this,_h,_i,_j,_g,_n,_o)!=false){this._accessibility_index=this.index=_g;this.text=_n;if(!this._is_value_setting){this.value=_o;}this.applyto_bindSource("value",_m);this.on_fire_onitemchanged(this,_h,_i,_j,_g,_n,_o);return true;}}else{this._accessibility_index=this.index=_g;this.text=_n;if(!this._is_value_setting){this.value=_o;}this.applyto_bindSource("value",_m);return true;}}}else if(_e.type=="filter"&&_a==this.index&&!_e._keyval){if(_d=="_select_add"){return true;}var _f=_e._filtereddataset?_e._filtereddataset:_e._getFilteredDataset();_a=_e._getRawIndex(_f,_a);if(_a!=_e.index){var _g=parseInt(this.index,10)|0;var _h=this.index;var _i=this.text;var _j=this.value;var _k=(this.codecolumn||this.datacolumn);if(_f&&_k){var _l=_f.getColumn(_g,this.datacolumn||this.codecolumn);var _m=_f.getColumn(_g,this.codecolumn||this.datacolumn);var _n=_l==undefined?"":_l;var _o=_m;if(this.on_fire_canitemchange(this,_h,_i,_j,_g,_n,_o)!=false){this._accessibility_index=this.index=_g;this.text=_n;if(!this._is_value_setting){this.value=_o;}this.applyto_bindSource("value",_m);this.on_fire_onitemchanged(this,_h,_i,_j,_g,_n,_o);return true;}}}else{var _p=this._get_rowobj_byrow(_a);if(_p&&_p.selected==false){_p.set_selected(true);}if(_e._isPopupVisible()&&!_c){if(!this.parent._scroll_proc){_e.popupwindow._closePopup();}}}}return false;};_pComboListCtrl._setAccessibilityNotifyEvent=function(_a){if(this._is_accessibility_changeIdx){this._is_accessibility_changeIdx=false;return this.parent._setAccessibilityNotifyEvent(_a);}else{return nexacro.ListBox.prototype._setAccessibilityNotifyEvent.call(this,_a);}};delete _pComboListCtrl;_pComboListCtrl=null;nexacro.ComboListItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ListItemCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pComboListItemCtrl=nexacro._createPrototype(nexacro.ListItemCtrl,nexacro.ComboListItemCtrl);nexacro.ComboListItemCtrl.prototype=_pComboListItemCtrl;_pComboListItemCtrl.on_mousemove_basic_action=function(){if(nexacro.isTouchInteraction){return;}var _a=this.parent._overedItem;if(_a&&_a!=this){if(_a._apply_pushed_pseudo&&_a._is_push){_a._stat_change("notpush","normal");_a._is_pushed_area=false;}else if(!_a._selected){_a._stat_change("","normal");}_a=null;}this.parent._overedItem=this;if(this._apply_pushed_pseudo&&this._is_push){this._stat_change("push","pushed");this._is_pushed_area=true;}else{this.parent._set_overeditemindex(this.index);this._stat_change("","mouseover");}};_pComboListItemCtrl.on_apply_mouseover=function(_a){if(this.selected){return;}if(_a){this._stat_change("notselect","mouseover");}else{this._stat_change("notselect","normal");}};_pComboListItemCtrl.on_apply_selected=function(){if(this.selected){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}};_pComboListItemCtrl._common_lbuttonup=function(_a,_b,_c,_d,_e){if(_a){var _f=nexacro._getFirstTouchInfo(_a);if(_f){_b=_f._elem;_c=_f.canvasX;_d=_f.canvasY;_e=_b;_f=null;}}if(_b!=_e){this.parent.parent._is_real_upelem=_e;}return true;};_pComboListItemCtrl._on_touchend=function(_a,_b,_c,_d,_e,_f){this._common_lbuttonup(_c,null,null,null,null);return nexacro.Component.prototype._on_touchend.call(this,_a,_b,_c,_d,_e,_f);};_pComboListItemCtrl._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._common_lbuttonup(null,_a,_f,_g,_m);return nexacro.Component.prototype._on_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};delete _pComboListItemCtrl;_pComboListItemCtrl=null;nexacro.ComboEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.EditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._accessibility_role="combobox";};var _pComboEditCtrl=nexacro._createPrototype(nexacro.EditCtrl,nexacro.ComboEditCtrl);nexacro.ComboEditCtrl.prototype=_pComboEditCtrl;_pComboEditCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a,this)||nexacro.Component._default_color;};_pComboEditCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a,this)||nexacro.Component._default_font;};_pComboEditCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a,this)||nexacro.Component._default_align;};_pComboEditCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_accessibility(_a,this)||nexacro.Component._default_accessibility;};_pComboEditCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_background(_a,this);};_pComboEditCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_border(_a,this);};_pComboEditCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_bordertype(_a,this);};_pComboEditCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_gradation(_a,this);};_pComboEditCtrl.on_apply_custom_setfocus=function(_a){var _b=this._input_element;if(_b){if(nexacro._enableaccessibility){_b._setElementInputRole();}_b.setElementFocus(true);_b=null;}};_pComboEditCtrl.on_get_style_accessibility_label=function(){return "";};_pComboEditCtrl._getFromComponent=function(_a){var _b=_a.parent;if(_b&&_b._isPopupVisible()){return _b;}else{return nexacro.Component.prototype._getFromComponent.call(this,_a);}};_pComboEditCtrl.set_value=function(_a){nexacro.Edit.prototype.set_value.call(this,_a);this._setAccessibilityValue(this.text,false);if(this.parent.type=="dropdown"&&this._input_element._is_focused==true){this.setCaretPos(0);}};_pComboEditCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,_l);};delete _pComboEditCtrl;_pComboEditCtrl=null;nexacro.ComboButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pComboButtonCtrl=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.ComboButtonCtrl);nexacro.ComboButtonCtrl.prototype=_pComboButtonCtrl;_pComboButtonCtrl.on_find_CurrentStyle_background=function(_a){return this._find_ctrl_pseudo_obj("background",_a,"background");};_pComboButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this._find_ctrl_pseudo_obj("gradation",_a,"gradation");};_pComboButtonCtrl.on_find_CurrentStyle_border=function(_a){return this._find_ctrl_pseudo_obj("border",_a,"border");};_pComboButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this._find_ctrl_pseudo_obj("bordertype",_a,"bordertype");};_pComboButtonCtrl.on_find_CurrentStyle_align=function(_a){return this._find_ctrl_pseudo_obj("align",_a,"align")||nexacro.Component._default_align;};_pComboButtonCtrl.on_find_CurrentStyle_margin=function(_a){return this._find_ctrl_pseudo_obj("margin",_a,"margin")||nexacro.Component._default_margin;};_pComboButtonCtrl.on_find_CurrentStyle_cursor=function(_a){return this._find_ctrl_pseudo_obj("cursor",_a,"cursor")||nexacro.Component._default_cursor;};_pComboButtonCtrl.on_find_CurrentStyle_opacity=function(_a){return this._find_ctrl_pseudo_obj("opacity",_a,"opacity")||nexacro.Component._default_opacity;};_pComboButtonCtrl.on_find_CurrentStyle_shadow=function(_a){return this._find_ctrl_pseudo_obj("shadow",_a,"shadow");};_pComboButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){if(_b.comboedit){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_b.comboedit.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}_b=null;}};_pComboButtonCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro.isTouchInteraction&&nexacro.SupportTouch&&!application.enabletouchevent){var _m=new nexacro.EventInfo(this,"ondropdown");this.parent.on_notify_ondropdown(this,_m);}return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pComboButtonCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,_l);};delete _pComboButtonCtrl;_pComboButtonCtrl=null;nexacro.ComboPopupWindow=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pPopupWindow=nexacro._createPrototype(nexacro.PopupComponent,nexacro.ComboPopupWindow);nexacro.ComboPopupWindow.prototype=_pPopupWindow;_pPopupWindow.set_visible=function(_a){nexacro.PopupComponent.prototype.set_visible.call(this,_a);var _b=this.parent;if(!_a){var _c=_b._keyval;var _d=_b._eventinfo;if(_c===null||_c===undefined){if(_b.displaynulltext!=""&&_b.value==undefined){_b._setEditValue(undefined);}else{_b._setEditValue(_b.text);}}_b.on_fire_oncloseup(_b,_d.preindex,_d.pretext,_d.prevalue,_d.postindex,_d.posttext,_d.postvalue,_d.isselect);}else{_b._eventinfo.isselect=false;}_b=null;};_pPopupWindow._closePopup=function(){if(nexacro._enableaccessibility){this.parent._want_arrows=false;}nexacro.PopupComponent.prototype._closePopup.call(this);};_pPopupWindow._getMainFrame=function(){var _a=this;while(_a&&_a instanceof nexacro.MainFrame){_a=_a.parent;}return _a;};_pPopupWindow._getScalePosition=function(_a,_b){var _c=this.parent;var _d=this._attached_comp;if(!_d){return;}var _e=this._getOwnerFrame();if(!_e){return;}var _f=_e._getWindow();_e=_f?_f.frame:null;if(!_e){return;}var _g=this._getCumulativeZoomFactor()/100.0;var _h=nexacro._getElementPositionInFrame(_c.getElement());var _i=nexacro._getElementPositionInFrame(_e.getElement());var _j=nexacro._getElementScreenPosition(_e.getElement());var _k=_a;var _l=_b*_g;var _m=_c._adjust_width;var _n=_c._adjust_height*_g;var _o,_p,_q,_r;var _s,_t;var _u=_b;var _v,_w,_x;_s=_i.x+_e._adjust_width;_t=_i.y+_e._adjust_height;var _y=nexacro._getScreenAvailHeight();_o=0;_p=_n;_q=_k;_r=_l;var _z=0;if(_y>_t&&_j.y+_t>_y){_z=_y-_j.y-(_h.y+_n);}else{_z=_t-(_h.y+_n);}var _aa=_h.y;var _ab=list_pb=list_bt=list_bb=0;var _ac=(parseInt(_d.currentstyle.itemheight._value,10))*_g;if(_d.currentstyle.padding){_ab=(parseInt(_d.currentstyle.padding.top,10))*_g;list_pb=(parseInt(_d.currentstyle.padding.bottom,10))*_g;}if(_d.currentstyle.border){list_bt=(parseInt(_d.currentstyle.border.top_width,10))*_g;list_bb=(parseInt(_d.currentstyle.border.bottom_width,10))*_g;}var _ad=_ab+list_pb+list_bt+list_bb;var _ae=_c.displayrowcount;var _af=0;var _ag=0;var _ah=_c._filtereddataset?_c._filtereddataset:_c._getFilteredDataset();var _ai=_c.type=="filter"?_ah:_c._innerdataset;if(_ai){_af=_ai.getRowCount();}if(_ae== -1){_ag=(_af<3?_af:3)*_ac+_ad;_l=(_af*_ac+_ad)*_g;if(_z>_ag){if(_z>_l){_r=_l;}else{_r=_z;}}else{if(_aa>_ag){if(_aa>_l){_p= -_l;_r=_l;}else{_p= -_aa;_r=_aa;}}else{if(_z>_aa){_r=_z;}else{_p= -_aa;_r=_aa;}}}}else{_af=_af>_ae?_ae:_af;_ag=_af*_ac+_ad;_l=(_af*_ac+_ad)*_g;if(_z>_ag){_r=_ag;}else{if(_aa>_ag){_p= -_ag;_r=_ag;}else{if(_z>_aa){_r=_z;}else{_p= -_aa;_r=_aa;}}}}_w=this.parent._getMaxTextSize(this.parent._innerdataset);if(_d.vscrollbar){_v=_d.vscrollbar.width;_x=_w+_v;if((_m<_x)&&(_r<_u)){_q+=_v;}}if(_h.x<_i.x){var _aj=_i.x-_h.x;_o+=_aj;}else if(_h.x+_k>_i.x+_s){var _aj=(_h.x+_k)-(_i.x+_s);_o-=_aj;if(_d.vscrollbar){_o-=_v;}if(_o<(_i.x-_h.x)){_o=_i.x-_h.x;}}return {left:_o,top:_p,width:_q,height:_r,scale:_g};};_pPopupWindow._popupAuto=function(_a,_b){var _c=this._getScalePosition(_a,_b);var _d=_c.scale,_e=_c.left,_f=_c.top,_g=_c.width,_h=_c.height;var _i=this.getElement();if(_i.setZoom){_i.setZoom(_d*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_i,_d*100);}this._popupBy(this.parent,_e,_f,_g,(_h/_d));};_pPopupWindow._popupCenterAuto=function(_a,_b){var _c=this._getScalePosition(_a,_b);var _d=_c.scale,_e=_c.left,_f=_c.top,_g=_c.width,_h=_c.height;var _i=this.getElement();if(_i.setZoom){_i.setZoom(_d*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_i,_d*100);}var _j=this._getOwnerFrame();if(!_j){return;}var _k=_j._getWindow();_j=_k?_k.frame:null;var _l=nexacro._getElementPositionInFrame(_j.getElement());var _m=((_j.width/2)-(_g/2));var _n=((_j.height/2)-(_h/2));_n=_n<0?0:_n;this._popupBy(_j,(_m/_d),_n,_g,(_h/_d));};delete _pPopupWindow;_pPopupWindow=null;nexacro.ComboCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Combo.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pComboCtrl=nexacro.ComboCtrl.prototype=nexacro._createPrototype(nexacro.Combo,nexacro.ComboCtrl);_pComboCtrl._type_name="ComboControl";nexacro._setForControlStyleFinder(_pComboCtrl);_pComboCtrl.on_created_contents=function(){nexacro.Combo.prototype.on_created_contents.call(this);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){this._control_element.setElementAccessibilityHidden(true);}};delete _pComboCtrl;_pComboCtrl=null;};if(!nexacro.Div){nexacro.Div=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.async=true;this.url=null;this.applystyletype="cascade,keep";this.scrollbars="autoboth";this._init_width=(_g-_c)|0;this._init_height=(_h-_d)|0;this._text_elem=null;this._url=null;this._urlloading=false;this._oldstyletype=3;this._styletype=3;this._originStyles={};this._linkstyles={};this._linkstyles.normal=this.on_create_custom_style();this._setstylecomplete=false;this._callstylecnt=0;this._cssclass="";this._linkedcssclass="";this._setclasscomplete=false;this._callclasscnt=0;if(_i){this._has_parent=true;}else{this._has_parent=false;}this._scrollbars=3;this._apply_client_padding=true;this._accessibility_role="form";this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"onvscroll":1,"onhscroll":1,"onactivate":1,"onbeforeclose":1,"onclose":1,"ondeactivate":1,"onsyscommand":1,"ontimer":1,"oninit":1,"onload":1,"canlayoutchange":1,"canstepchange":1,"onlayoutchanged":1,"onstepchanged":1,"onmouseup":1,"onmousedown":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1};};var _pDiv=nexacro._createPrototype(nexacro.Form,nexacro.Div);nexacro.Div.prototype=_pDiv;_pDiv._type_name="Div";_pDiv._find_pseudo_obj=function(_a,_b,_c){switch(this._styletype){case 5:return this._find_cascade_pseudo_obj(_a,_b,_c);case 4:return this._find_apply_pseudo_obj(_a,_b,_c);case 1:return this._find_keep_pseudo_obj(_a,_b,_c);case 3:default:return this._find_cascadekeep_pseudo_obj(_a,_b,_c);}return null;};_pDiv._find_cascade_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._linkstyles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}var _f=this._styles[_b];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}var _g=this._linkstyles["normal"];if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}var _g=this.style;if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _h=_d._type_name.toLowerCase();if(_c&&_h!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv._find_apply_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._linkstyles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}}var _f=this._linkstyles["normal"];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _g=_d._type_name.toLowerCase();if(_c&&_g!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv._find_keep_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._styles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}}var _f=this.style;if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _g=_d._type_name.toLowerCase();if(_c&&_g!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv._find_cascadekeep_pseudo_obj=function(_a,_b,_c){var _d;do{if(_b!="normal"){var _e=this._styles[_b];if(_e&&(_d=_e[_a])&&(!_d._is_empty)){break;}var _f=this._linkstyles[_b];if(_f&&(_d=_f[_a])&&(!_d._is_empty)){break;}}var _g=this.style;if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}_g=this._linkstyles["normal"];if(_g&&(_d=_g[_a])&&(!_d._is_empty)){break;}}while(false)if(_d&&!_d._is_empty){var _h=_d._type_name.toLowerCase();if(_c&&_h!=_c){_d=nexacro._getCachedStyleObj(_c,_d._value);}return _d;}return this._find_comp_pseudo_obj_from_finder(_a,_b,_c);};_pDiv.on_apply_custom_pseudo=function(_a){var _b=_b=["align","background","border","bordertype","color","cursor","font","glow","gradation","margin","opacity","padding","shadow","accessibility"];var _c;if(!this._url||this._url.length==0){this._oldstyletype=this._styletype;this._styletype=1;_c=this._find_style(_b);this._styletype=this._oldstyletype;this._apply_style(_c);}else{if(this._setstylecomplete){_c=this._find_style(_b);this._apply_style(_c);}}_b=null;};_pDiv.on_update_style_align=function(){var _a=this.style.align;var _b=this.on_update_style("align",_a);if(_b){this.on_apply_style_align(_a);}};_pDiv.on_update_style_background=function(){var _a=this.style.background;var _b=this.on_update_style("background",_a);if(_b){this.on_apply_style_background(_a);}};_pDiv.on_update_style_border=function(){var _a=this.style.border;var _b=this.on_update_style("border",_a);if(_b){this.on_apply_style_border(_a);}};_pDiv.on_update_style_bordertype=function(){var _a=this.style.bordertype;var _b=this.on_update_style("bordertype",_a);if(_b){this.on_apply_style_bordertype(_a);}};_pDiv.on_update_style_color=function(){var _a=this.style.color;var _b=this.on_update_style("color",_a);if(_b){this.on_apply_style_color(_a);}};_pDiv.on_update_style_cursor=function(){var _a=this.style.cursor;var _b=this.on_update_style("cursor",_a);if(_b){this.on_apply_style_cursor(_a);}};_pDiv.on_update_style_font=function(){var _a=this.style.font;var _b=this.on_update_style("font",_a);if(_b){this.on_apply_style_font(_a);}};_pDiv.on_update_style_glow=function(){var _a=this.style.glow;var _b=this.on_update_style("glow",_a);if(_b){this.on_apply_style_glow(_a);}};_pDiv.on_update_style_gradation=function(){var _a=this.style.gradation;var _b=this.on_update_style("gradation",_a);if(_b){this.on_apply_style_gradation(_a);}};_pDiv.on_update_style_margin=function(){var _a=this.style.margin;var _b=this.on_update_style("margin",_a);if(_b){this.on_apply_style_margin(_a);}};_pDiv.on_update_style_opacity=function(){var _a=this.style.opacity;var _b=this.on_update_style("opacity",_a);if(_b){this.on_apply_style_opacity(_a);}};_pDiv.on_update_style_padding=function(){var _a=this.style.padding;var _b=this.on_update_style("padding",_a);if(_b){this.on_apply_style_padding(_a);}};_pDiv.on_update_style_shadow=function(){var _a=this.style.shadow;var _b=this.on_update_style("shadow",_a);if(_b){this.on_apply_style_shadow(_a);}};_pDiv.on_update_style_accessibility=function(){var _a=this.style.accessibility;var _b=this.on_update_style("accessibility",_a);if(_b){this.on_apply_style_accessibility(this._make_accessibility_value(_a));}};_pDiv.on_update_style=function(_a,_b){var _c="normal";if(!this._setstylecomplete&&this._is_loading){if(!this._linkstyles[_c]){var _d=nexacro._cloneStyleObject(this.style);this._linkstyles[_c]=_d;_d=null;}this._linkstyles[_c][_a]=_b;if(this._styletype==4||this._styletype==5||(this._styletype==3&&this._styles[_c]&&this._styles[_c][_a]==null)){this.currentstyle[_a]=_b;return true;}}else if(this._setstylecomplete&&!this._is_loading){var _e=_b;if(!this._styles[_c]){var _d=nexacro._cloneStyleObject(this.style);this._styles[_c]=_d;_d=null;}this._styles[_c][_a]=_e;if(!this._url||this._url.length==0){this.currentstyle[_a]=_b;return true;}else{if(this._styletype==1||this._styletype==3){this.currentstyle[_a]=_b;return true;}else{return false;}}}};_pDiv.on_apply_style_color=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pDiv.on_apply_style_font=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pDiv.on_apply_style_align=function(_a){var _b=this._text_elem;if(_b){var _c=_a.halign==""?"center":_a._halign;var _d=_a.valign==""?"middle":_a._valign;_b.setElementAlignXY(_c,_d);}};_pDiv.on_create_contents=function(){if(this.components.length>0){nexacro.Form.prototype.on_create_contents.call(this);}else{var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this.text){var _c=new nexacro.TextBoxElement(_a);var _d=((_b.align==null||_b.align.halign=="")?"center":_b.align._halign);var _e=((_b.align==null||_b.align.valign=="")?"middle":_b.align._valign);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlignXY(_d,_e);this._text_elem=_c;_c=null;_b=null;_d=null;_e=null;}else if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){this._text_elem=new nexacro.TextBoxElement(_a);this._text_elem.setElementSize(this._client_width,this._client_height);}}_a=null;}this._setStyle();this._setclasscomplete=true;};_pDiv.on_created_contents=function(){this.on_apply_applystyletype();if(this.text){this.on_apply_text();var _a=this._text_elem;if(_a){_a.create();_a=null;}}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4&&this._text_elem){this._text_elem.create();this._text_elem._setElementAccessibilityRole();this._text_elem._setElementAccessibilityLabel();}if(this._is_loaded==false&&this.url!=null&&!this._has_parent){this._has_parent=true;this.loadForm(this.url,this.async,true,this.parent._url);}nexacro.Form.prototype.on_created_contents.call(this);};_pDiv.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}this._has_parent=false;this._user_property_list=null;nexacro.Form.prototype.on_destroy_contents.call(this);if(this._originStyles){var _a=this._originStyles;for(var _b in _a){var _c=_a[_b];if(_c.destroy){_c.destroy();_c=null;}}this._originStyles=null;}if(this._linkstyles){var _d=this._linkstyles;for(var _b in _d){var _e=_d[_b];if(_e.destroy){_e.destroy();_e=null;}}this._linkstyles=null;}};_pDiv.on_change_containerRect=function(_a,_b){if(this._text_elem){this._text_elem.setElementSize(_a,_b);}nexacro.Form.prototype.on_change_containerRect.call(this,_a,_b);};_pDiv.on_update_position=function(_a,_b){var _c=this._child_list;var _d=_c?_c.length:0;for(var _e=0;_e<_d;_e++ ){var _f=_c[_e];if(_f._isPopupVisible&&_f._isPopupVisible()){if(_f._closePopup){_f._closePopup();}}_f=null;}childe_list=null;_d=null;nexacro.Form.prototype.on_update_position.call(this,_a,_b);};_pDiv._getAccessibilityRole=function(_a){var _b=_a.role?_a.role:this._accessibility_role;return _b;};_pDiv.on_get_style_accessibility_label=function(){return this.text?this.text:"";};_pDiv.getFocus=function(){return this.parent?this.parent.getFocus():null;};_pDiv.getParentContext=function(){return this.parent;};_pDiv.reload=function(){this.on_apply_url(true);};_pDiv.addChild=function(_a,_b){var _c=nexacro.Form.prototype.addChild.call(this,_a,_b);if(_b._is_component){this._delete_text();}return _c;};_pDiv._delete_text=function(){this._apply_client_padding=false;if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._control_element){this._control_element.setElementPadding(nexacro.Component._default_padding);}};_pDiv._initContents=function(_a,_b){if(this._urlloading){_b="normal";this._pseudo="normal";this._contents_pseudo="";}this._urlloading=false;nexacro.Component.prototype._initContents.call(this,_a,_b);};_pDiv._init=function(){this._css_finder=null;this._ref_css_finder=null;this._cssfinder_cache={};if(!this._setstylecomplete&&this._callstylecnt==0){this._setStyle();}if(this.hscrollbar){this.hscrollbar._setScrollPos(0);}if(this.vscrollbar){this.vscrollbar._setScrollPos(0);}this._cssclass=this.cssclass;this._callclasscnt++ ;};_pDiv._clear=function(){var _a=this.getElement();if(_a){this._is_init=true;this._pseudo="normal";this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";this._clearEventListeners();if(this._timerManager&&this._timerManager.timerList.length>0){this._timerManager.clearAll();}if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}_a.clearContents();_a=null;if(this.stepcontrol){this._destroyStepControl();this.stepcontrol=null;}var _b=this.binds;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=_b.get_id(_d);this._bind_manager._setBinditem(_b.get_item(_e),true);this[_e]=null;}_b.clear();_b=null;var _f=this.components;var _g=this.objects;this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();_c=_f.length;for(var _d=0;_d<_c;_d++ ){var _h=_f.get_id(_d);if(this[_h]){if(this[_h]._destroy){this[_h]._destroy();}}}_f.clear();_f=null;_c=_g.length;for(var _d=0;_d<_c;_d++ ){var _i=_g.get_id(_d);if(this[_i]){if(this[_i].destroy){this[_i].destroy();}delete this[_i];this[_i]=null;}}_g.clear();_g=null;if(this._linkstyles){var _j=this._linkstyles;for(pseudo in _j){var _k=_j[pseudo];if(_k.destroy){_k.destroy();_k=null;}}}this.resetScroll();this._clear_prop();this._last_focused=null;}this._is_created=false;};_pDiv._loadInclude=function(_a,_b){var _c=this.async;if(!this._is_created){if(!this.parent||!this.parent._is_created){_c=true;}}application._loadInclude.call(this,_a,_b,_c);_c=null;};_pDiv.on_apply_text=function(){var _a=this.getElement();var _b=this._text_elem;var _c=this.currentstyle;if(_a){if(!_b&&this.text&&this.components.length<1){_b=this._text_elem=new nexacro.TextBoxElement(_a);_b.create();}if(_b){var _d=(_c.align.halign==""?"center":_c.align._halign);var _e=(_c.align.valign==""?"middle":_c.align._valign);_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlignXY(_d,_e);_d=null;_e=null;if(this.style.color!="transparent"){var _f=this._display_text;if(_f){_b.setElementText(_f);}else{_b.setElementText("");}}if(this._is_created&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_b._setElementAccessibilityRole();_b._setElementAccessibilityLabel();}}}_a=null;_b=null;_c=null;};_pDiv.set_async=function(_a){this.async=nexacro._toBoolean(_a);};_pDiv.set_url=function(_a,_b){if((_a!=this.url)&&!(_a==""&&this.url==null)){if(_a.substring(_a.length-5)==".xfdl"||!_a){this.url=_a;this._url=_a;this.on_apply_url();}}};_pDiv.getSetter=function(_a,_b){if(!this._user_property_list){this._user_property_list=[];}this._user_property_list[_a]=1;if(!_b){_b="set_"+_a;}var _c=this[_b];if(_c){return new nexacro.SetterBinder(this,_a,_c);}return new nexacro.PropBinder(this,_a);};_pDiv._clear_prop=function(){var _a=nexacro._div_property_list;var _b=this._user_property_list;var _c=[];var _d=_a.length;var _e=_b?_b.length:0;var _f=0;for(_f=0;_f<_d;_f++ ){var _g=_a[_f];_c[_f]=this[_g];this[_g]=null;}for(_f=0;_f<_e;_f++ ){var _g=_b[_f];_c[_f+_d]=this[_g];this[_g]=null;}for(var _h in this){if(this.hasOwnProperty(_h)&&this[_h]!=null){this[_h]=null;}}for(_f=0;_f<_d;_f++ ){var _g=_a[_f];this[_g]=_c[_f];}for(_f=0;_f<_e;_f++ ){var _g=_b[_f];this[_g]=_c[_f+_d];}_c=null;};_pDiv.on_apply_url=function(_a){if(this._url&&this._url.length>0){this._urlloading=true;this._setstylecomplete=false;application.getLayoutManager().clearLayout(this);var _b=this.async;if(_a!=true){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();}var _d=this.parent;if(_d!=null){while(!_d._url){_d=_d.parent;}if(this._apply_client_padding){this._delete_text();}this.loadForm(this._url,_b,true,_d._url);this._has_parent=true;}else{this._has_parent=false;}_d=null;}else{var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();this.on_apply_emptyurl();this.on_apply_applystyletype();}if(this.onactivate&&this.onactivate._has_handlers&&this._isCompleted){var _e=new ActivateEventInfo(this,"onactivate",true);this.onactivate._fireEvent(this,_e);_e=null;}};_pDiv.on_apply_emptyurl=function(){this._clear();var _a=this.parent._control_element;if(!_a){return false;}var _b=this._control_element;if(_b){var _c=this._getResultPseudo(this._status,this._pseudo);this.cssclass=this._cssclass;this._initControl(_b,_c);this._initContents(_b,_c);if(_a._handle){_a.appendChildElement(_b);this.on_created();}_c="";}_a=null;_b=null;};_pDiv.set_applystyletype=function(_a){if(this.applystyletype!=_a){this.applystyletype=_a;this.on_apply_applystyletype();}};_pDiv.on_apply_applystyletype=function(){var _a=this.getElement();if(_a){var _b=["align","background","border","bordertype","color","cursor","font","glow","gradation","margin","opacity","padding","shadow","accessibility"];var _c;if(!this._url||this._url.length==0){this._oldstyletype=this._styletype;this._styletype=1;_c=this._find_style(_b);this._styletype=this._oldstyletype;this.cssclass=this._cssclass;}else{switch(this.applystyletype){case "keep":this._styletype=1;this.cssclass=this._cssclass;break;case "apply":this._styletype=4;this.cssclass=this._linkedcssclass;break;case "cascade":this._styletype=5;this.cssclass=this._linkedcssclass;break;case "cascade,keep":this._styletype=3;this.cssclass=this._linkedcssclass;break;default:this._styletype=3;this.cssclass=this._linkedcssclass;v="cascade,keep";break;}_c=this._find_style(_b);}this._apply_style(_c);_b=null;_c=null;}_a=null;};_pDiv.set_cssclass=function(_a){if(this.cssclass!=_a){if(!this._setclasscomplete){if(!this._url||this._url.length==0){this._cssclass=_a;}else{if(this._is_loading&&this._callclasscnt==0){this._cssclass=_a;}else if(this._is_loading&&this._callclasscnt!=0){this._linkedcssclass=_a;}}}else{if(this._is_loading){this._linkedcssclass=_a;}else{this._cssclass=_a;}}this.cssclass=_a;this.on_apply_cssclass(_a);}};_pDiv.set_class=_pDiv.set_cssclass;_pDiv.on_apply_cssclass=function(){var _a=this._pseudo;var _b=this._control_element;if(_b){this.currentstyle._empty();this._css_finder=null;this._ref_css_finder=null;this._cssfinder_cache={};_a=this._pseudo==""?"normal":this._pseudo;if(this.vscrollbar){this.vscrollbar.on_apply_prop_class();}if(this.hscrollbar){this.hscrollbar.on_apply_prop_class();}this._onResetScrollBar();this._pseudo="";this._control_pseudo="";this._contents_pseudo="";this._updateControl(_b,_a);this._updateContents(_b,_a);}};_pDiv._apply_style=function(_a){this.on_apply_style_align(_a.align);this.on_apply_style_background(_a.background);this.on_apply_style_border(_a.border);this.on_apply_style_bordertype(_a.bordertype);this.on_apply_style_color(_a.color);this.on_apply_style_cursor(_a.cursor);this.on_apply_style_font(_a.font);this.on_apply_style_glow(_a.glow);this.on_apply_style_gradation(_a.gradation);this.on_apply_style_margin(_a.margin);this.on_apply_style_opacity(_a.opacity);this.on_apply_style_padding(_a.padding);this.on_apply_style_shadow(_a.shadow);this.on_apply_style_accessibility(_a.accessibility);};_pDiv._find_style=function(_a){var _b={};var _c=_a.length;var _d=this._pseudo;for(var _e=0;_e<_c;_e++ ){var _f=_a[_e];switch(_f){case "accessibility":_b["accessibility"]=this._make_accessibility_value(this.on_find_CurrentStyle_accessibility(_d));if(!_b["accessibility"]){_b["accessibility"]=nexacro._getCachedAccessibilityObj("");}break;case "align":_b["align"]=this.on_find_CurrentStyle_align(_d);if(!_b["align"]){_b["align"]=nexacro._getCachedAlignObj("");}break;case "background":_b["background"]=this.on_find_CurrentStyle_background(_d);if(!_b["background"]){_b["background"]=nexacro._getCachedBackgroundObj("");}break;case "border":_b["border"]=this.on_find_CurrentStyle_border(_d);if(!_b["border"]){_b["border"]=nexacro._getCachedBorderObj("");}break;case "bordertype":_b["bordertype"]=this.on_find_CurrentStyle_bordertype(_d);if(!_b["bordertype"]){_b["bordertype"]=nexacro._getCachedBordertypeObj("");}break;case "color":_b["color"]=this.on_find_CurrentStyle_color(_d);if(!_b["color"]){_b["color"]=nexacro._getCachedColorObj("");}break;case "cursor":_b["cursor"]=this.on_find_CurrentStyle_cursor(_d);if(!_b["cursor"]){_b["cursor"]=nexacro._getCachedStyleObj("");}case "font":_b["font"]=this.on_find_CurrentStyle_font(_d);if(!_b["font"]){_b["font"]=nexacro._getCachedFontObj("");}case "glow":_b["glow"]=this.on_find_CurrentStyle_glow(_d);if(!_b["glow"]){_b["glow"]=nexacro._getCachedGlowObj("");}case "gradation":_b["gradation"]=this.on_find_CurrentStyle_gradation(_d);if(!_b["gradation"]){_b["gradation"]=nexacro._getCachedGradationObj("");}case "margin":_b["margin"]=this.on_find_CurrentStyle_margin(_d);if(!_b["margin"]){_b["margin"]=nexacro._getCachedMarginObj("");}case "opacity":_b["opacity"]=this.on_find_CurrentStyle_opacity(_d);if(!_b["opacity"]){_b["opacity"]=nexacro._getCachedStyleObj("opacity","100");}case "padding":_b["padding"]=this.on_find_CurrentStyle_padding(_d);if(!_b["padding"]){_b["padding"]=nexacro._getCachedPaddingObj("");}case "shadow":_b["shadow"]=this.on_find_CurrentStyle_shadow(_d);if(!_b["shadow"]){_b["shadow"]=nexacro._getCachedShadowObj("");}break;}this.currentstyle[_f]=_b[_f];}return _b;};_pDiv._setStyle=function(){if(!this._setstylecomplete&&this._callstylecnt==0){var _a=nexacro._cloneStyleObject(this.style);this._originStyles.normal=_a;for(var _b in this._styles){this._originStyles[_b]=nexacro._cloneStyleObject(this._styles[_b]);}if(!this._url||this._url.length==0){this._setstylecomplete=true;}else{this.style._empty();}this._callstylecnt++ ;_a=null;}else if(!this._setstylecomplete&&this._callstylecnt!=0){if(this._url||this._url.length>0){var _a=nexacro._cloneStyleObject(this.style);this._linkstyles.normal=_a;for(var _b in this._styles){this._linkstyles[_b]=nexacro._cloneStyleObject(this._styles[_b]);}this._setstylecomplete=true;this._callstylecnt++ ;for(_b in this._originStyles){var _c=nexacro._cloneStyleObject(this._originStyles[_b]);_c._target=this;if(_b=="normal"){this.style=_c;}else{this._styles[_b]=_c;}_c=null;}_a=null;}else{this.style=nexacro._cloneStyleObject(this._originStyles.normal);}}return;};delete _pDiv;_pDiv=null;nexacro.DivCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Div.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pDivCtrl=nexacro.DivCtrl.prototype=nexacro._createPrototype(nexacro.Div,nexacro.DivCtrl);nexacro._setForControlStyleFinder(_pDivCtrl);delete _pDivCtrl;_pDivCtrl=null;}if(!nexacro.ProgressBar){nexacro.ProgressBar_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pProgressBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.ProgressBar_Style);nexacro.ProgressBar_Style.prototype=_pProgressBarStyle;eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","bartype"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","smooth"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","direction"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","startimage"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","progressimage"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","endimage"));eval(nexacro._createValueAttributeEvalStr("_pProgressBarStyle","barcolor"));eval(nexacro._createGradationAttributeEvalStr("_pProgressBarStyle","bargradation"));_pProgressBarStyle.__custom_emptyObject=function(){this.bartype=null;this.smooth=null;this.direction=null;this.startimage=null;this.progressimage=null;this.endimage=null;this.barcolor=null;this.bargradation=null;};_pProgressBarStyle.__get_custom_style_value=function(){var _a="";if(this.bartype&&!this.bartype._is_empty){_a+="bartype:"+this.bartype._value+"; ";}if(this.smooth&&!this.smooth._is_empty){_a+="smooth:"+this.smooth._value+"; ";}if(this.direction&&!this.direction._is_empty){_a+="direction:"+this.direction._value+"; ";}if(this.startimage&&!this.startimage._is_empty){_a+="startimage:"+this.startimage._value+"; ";}if(this.progressimage&&!this.progressimage._is_empty){_a+="progressimage:"+this.progressimage._value+"; ";}if(this.endimage&&!this.endimage._is_empty){_a+="endimage:"+this.endimage._value+"; ";}if(this.barcolor&&!this.barcolor._is_empty){_a+="barcolor:"+this.barcolor._value+"; ";}if(this.bargradation&&!this.bargradation._is_empty){_a+="bargradation:"+this.bargradation._value+"; ";}return _a;};nexacro.ProgressBar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.bartype=null;this.smooth=null;this.direction=null;this.startimage=null;this.progressimage=null;this.endimage=null;this.barcolor=null;this.bargradation=null;};var _pProgressBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ProgressBar_CurrentStyle);nexacro.ProgressBar_CurrentStyle.prototype=_pProgressBarCurrentStyle;_pProgressBarCurrentStyle.__custom_emptyObject=_pProgressBarStyle.__custom_emptyObject;_pProgressBarCurrentStyle.__get_custom_style_value=_pProgressBarStyle.__get_custom_style_value;_pProgressBarStyle=null;_pProgressBarCurrentStyle=null;nexacro.ProgressBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.celllist=[];this.cellitem=null;this.start_img=null;this.progress_img=null;this.progress_img_list=new Array();this.end_img=null;this.statictext=null;this.style_list=null;this.start_img_width=0;this.progress_img_width=0;this.end_img_width=0;this.start_img_url="";this.progress_img_url="";this.end_img_url="";this.pos=0;this.step=1;this.max=100;this.min=0;this.blocksize=15;this.blockgap=2;this._accessibility_role="progressbar";};var _pProgressBar=nexacro._createPrototype(nexacro.Component,nexacro.ProgressBar);nexacro.ProgressBar.prototype=_pProgressBar;_pProgressBar._type_name="ProgressBar";nexacro.ProgressBar._default_bartype=nexacro._getCachedStyleObj("bartype","normal");_pProgressBar.on_apply_custom_pseudo=function(_a){if(!_a){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_bartype(_a);var _d=this.on_find_CurrentStyle_smooth(_a);var _e=this.on_find_CurrentStyle_direction(_a);var _f=this.on_find_CurrentStyle_startImage(_a);var _g=this.on_find_CurrentStyle_progressImage(_a);var _h=this.on_find_CurrentStyle_endImage(_a);var _i=this.on_find_CurrentStyle_barColor(_a);var _j=this.on_find_CurrentStyle_barGradation(_a);var _k=this.on_find_CurrentStyle_font(_a);var _l=this.on_find_CurrentStyle_color(_a);var _m=this.on_find_CurrentStyle_align(_a);if(_b.font!=_k){_b.font=_k;this.on_apply_style_font(_k);}if(_b.color!=_l){_b.color=_l;this.on_apply_style_color(_l);}if(_b.align!=_m){_b.align=_m;this.on_apply_style_align(_m);}if(_c!=_b.bartype){_b.bartype=_c;this.on_apply_style_bartype(_c);}if(_d!=_b.smooth){_b.smooth=_d;this.on_apply_style_smooth(_d);}if(_e!=_b.direction){_b.direction=_e;this.on_apply_style_direction(_e);}if(_f!=_b.startimage){_b.startimage=_f;this.on_apply_style_startimage(_f);}if(_g!=_b.progressimage){_b.progressimage=_g;this.on_apply_style_progressimage(_g);}if(_h!=_b.endimage){_b.endimage=_h;this.on_apply_style_endimage(_h);}if(_i!=_b.barcolor){_b.barcolor=_i;this.on_apply_style_barcolor(_i);}if(_j!=_b.bargradation){_b.bargradation=_j;this.on_apply_style_bargradation(_j);}};_pProgressBar.on_create_custom_style=function(){return new nexacro.ProgressBar_Style(this);};_pProgressBar.on_create_custom_currentStyle=function(){return new nexacro.ProgressBar_CurrentStyle();};_pProgressBar.on_find_CurrentStyle_bartype=function(_a){var _b=this._find_pseudo_obj("bartype",_a);return (_b)?_b:nexacro.ProgressBar._default_bartype;};_pProgressBar.on_find_CurrentStyle_smooth=function(_a){return this._find_pseudo_obj("smooth",_a);};_pProgressBar.on_find_CurrentStyle_direction=function(_a){return this._find_pseudo_obj("direction",_a);};_pProgressBar.on_find_CurrentStyle_startImage=function(_a){return this._find_pseudo_obj("startimage",_a);};_pProgressBar.on_find_CurrentStyle_progressImage=function(_a){return this._find_pseudo_obj("progressimage",_a);};_pProgressBar.on_find_CurrentStyle_endImage=function(_a){return this._find_pseudo_obj("endimage",_a);};_pProgressBar.on_find_CurrentStyle_barColor=function(_a){return this._find_pseudo_obj("barcolor",_a,"color");};_pProgressBar.on_find_CurrentStyle_barGradation=function(_a){return this._find_pseudo_obj("bargradation",_a,"gradation");};_pProgressBar.on_update_style_bartype=function(){var _a=this.currentstyle.bartype=this.on_find_CurrentStyle_bartype(this._pseudo);this.on_apply_style_bartype(_a);};_pProgressBar.on_update_style_smooth=function(){var _a=this.currentstyle.smooth=this.on_find_CurrentStyle_smooth(this._pseudo);this.on_apply_style_smooth(_a);};_pProgressBar.on_update_style_direction=function(){var _a=this.currentstyle.direction=this.on_find_CurrentStyle_direction(this._pseudo);this.on_apply_style_direction(_a);};_pProgressBar.on_update_style_startimage=function(){var _a=this.currentstyle.startimage=this.on_find_CurrentStyle_startImage(this._pseudo);this.on_apply_style_startimage(_a);};_pProgressBar.on_update_style_progressimage=function(){var _a=this.currentstyle.progressimage=this.on_find_CurrentStyle_progressImage(this._pseudo);this.on_apply_style_progressimage(_a);};_pProgressBar.on_update_style_endimage=function(){var _a=this.currentstyle.endimage=this.on_find_CurrentStyle_endImage(this._pseudo);this.on_apply_style_endimage(_a);};_pProgressBar.on_update_style_barcolor=function(){var _a=this.currentstyle.barcolor=this.on_find_CurrentStyle_barColor(this._pseudo);this.on_apply_style_barcolor(_a);};_pProgressBar.on_update_style_bargradation=function(){var _a=this.currentstyle.bargradation=this.on_find_CurrentStyle_barGradation(this._pseudo);this.on_apply_style_bargradation(_a);};_pProgressBar.on_apply_style_bartype=function(_a){this._update();};_pProgressBar.on_apply_style_smooth=function(_a){if(!_a){return;}if(_a==true&&this.celllist&&this.celllist.length>1){for(i=1;i<this.celllist.length;i++ ){this.celllist[i].destroy();}}this._update();};_pProgressBar.on_apply_style_direction=function(_a){this._update();};_pProgressBar.on_apply_style_startimage=function(_a){if(!_a){return;}var _b=this._get_img_fullurl(_a);var _c=nexacro._getImageSize(_b,this._on_start_img,this);if(_c!=null){this.start_img_width=_c.width;this.start_img_url=_b;this._on_start_img(_b,_c.width,_c.height);}};_pProgressBar.on_apply_style_progressimage=function(_a){if(!_a){return;}var _b=this._get_img_fullurl(_a);var _c=nexacro._getImageSize(_b,this._on_progress_img,this);if(_c!=null){this.progress_img_width=_c.width;this.progress_img_url=_b;this._on_progress_img(_b,_c.width,_c.height);}};_pProgressBar.on_apply_style_endimage=function(_a){if(!_a){return;}var _b=this._get_img_fullurl(_a);var _c=nexacro._getImageSize(_b,this._on_end_img,this);if(_c!=null){this.end_img_width=_c.width;this.end_img_url=_b;this._on_end_img(_b,_c.width,_c.height);}};_pProgressBar.on_apply_style_barcolor=function(_a){var _b=this.cellitem;if(!_b){return;}_a=_a?_a.toString():"transparent";if(_a!="@gradation"){_b.style.set_background(_a);var _c=this.celllist;if(_c){var _d=_c.length;for(i=1;i<_d;i++ ){_c[i].style.set_background(_a);}}}};_pProgressBar.on_apply_style_bargradation=function(_a){var _b=this.cellitem;if(!_b||!_a){return;}var _c=this.on_find_CurrentStyle_barColor(this._pseudo);_c=_c?_c.toString():"transparent";if(_c=="@gradation"){_b.style.set_background(_c);_b.on_update_style_gradation();var _d=this.celllist;if(_d){var _e=_d.length;for(var _f=1;_f<_e;_f++ ){_d[_f].style.set_background(_c);_d[_f].on_update_style_gradation();}}}};_pProgressBar.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pProgressBar.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);this._text_width= -1;this._text_height= -1;}};_pProgressBar.on_apply_style_align=function(_a){if(this._text_elem&&_a){this._text_elem.setElementAlignXY(_a.halign?_a._halign:"center",_a.valign?_a._valign:"middle");}};_pProgressBar.on_create_contents=function(){var _a=this.getElement();if(_a){if(this.text){var _b=this._text_elem=new nexacro.TextBoxElement(_a);var _c=this.on_find_CurrentStyle_align(this._pseudo);_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.on_find_CurrentStyle_color(this._pseudo));_b.setElementFont(this.on_find_CurrentStyle_font(this._pseudo));_b.setElementAlignXY(_c.halign?_c._halign:"center",_c.valign?_c._valign:"middle");}var _d=this.on_find_CurrentStyle_bartype(this._pseudo);if(_d!="image"){this.cellitem=new nexacro.ProgressBarCell("cell0","absolute",0,0,0,this._client_height,null,null,this);this.cellitem.createComponent();}}};_pProgressBar.on_created_contents=function(){this.on_apply_text(this.text);if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueMin(this.min);this._setAccessibilityInfoValueMax(this.max);this._setAccessibilityInfoValueCur(this.pos);}var _a=this._text_elem;var _b=this.cellitem;if(_b){_b.on_created();}if(_a){_a.create();}this._update();};_pProgressBar.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();delete this._text_elem;this._text_elem=null;}this._clear();this.statictext=null;this.style_list=null;};_pProgressBar._clear=function(){this._delete_cell();delete this.progress_img_list;this.progress_img_list=null;this._delete_img(this.start_img);delete this.start_img;this.start_img=null;this._delete_img(this.progress_img);this.progress_img=null;delete this.progress_img;this._delete_img(this.end_img);delete this.end_img;this.end_img=null;};_pProgressBar.on_change_containerRect=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementSize(_a,_b);}this._update();};_pProgressBar._on_getAccessibilityAdditionalLabel=function(){var _a="";if(this._isAccessibilityEnable()){_a=(this.expr&&this.expr.length>0)?this.displaytext+" "+this.min+" "+this.max:this.pos+" "+this.min+" "+this.max;}return _a;};_pProgressBar._on_getAccessibilityAdditionalRole=function(){if(this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo))=="progressbar"){return " ProgressBar";}return "";};_pProgressBar.on_apply_text=function(){var _a=this._control_element;if(_a){var _b=this._text_elem;if(!_b){this._text_elem=new nexacro.TextBoxElement(_a);_b=this._text_elem;_b.setElementSize(this._client_width,this._client_height);var _c=this.on_find_CurrentStyle_align(this._pseudo);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c.halign?_c._halign:"center",_c.valign?_c._valign:"middle");_b.create();}var _d=this.expr;if(_d&&_d.length>0){_d=_d.trim().split(":");var _e=_d.length;var _f=new nexacro.ExprParser();var _g,_h;var _i;if(_e==1){_i=_d[0];}else{if(_d[0].trim().toUpperCase()!="EXPR"){_i=_d.join(":");}else{_i=_d.slice(1).join(":");}}_g=_f.makeExpr(this,_i);_h=nexacro._createInlineFunc(_g,["comp","pos"]);if(_h){try{var _j=nexacro._toString(_h.call(null,this,this.pos));if(_j!=this.displaytext){this.displaytext=_j;if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityValue(_j);this._notifyAccessibility(_j,"notify");}}}catch(e){return;}}}else{this.displaytext=this.text;}_b.setElementText(this.displaytext);this.on_apply_style_align(this.currentstyle.align);_b=null;}};_pProgressBar.on_apply_expr=function(){this.on_apply_text();};_pProgressBar.set_blockgap=function(_a){if(this.blockgap!=_a){var _b=parseInt(_a)|0;this.blockgap=(_b<0)?0:_b;this._update();}};_pProgressBar.set_blocksize=function(_a){if(this.blocksize!=_a){var _b=parseInt(_a)|0;this.blocksize=(_b<1)?1:_b;this._update();}};_pProgressBar.set_min=function(_a){if(this.min!=_a){var _b=parseInt(_a)|0;var _c=parseInt(this.max)|0;var _d=parseInt(this.pos)|0;this.min=_b=(_b<0)?0:_b;if(_b>_c){this.max=_b;}if(_b>_d){this.pos=_b;}if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueMin(_b);}this._update();}};_pProgressBar.set_max=function(_a){if(this.max!=_a){var _b=parseInt(_a)|0;var _c=parseInt(this.min)|0;var _d=parseInt(this.pos)|0;this.max=_b=(_b<0)?0:_b;if(_b<_c){this.min=_b;}if(_b<_d){this.pos=_b;}if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueMax(_b);}this._update();}};_pProgressBar.set_pos=function(_a){_a=parseInt(_a)|0;if(this.pos!=_a){var _b=_a;var _c=parseInt(this.min)|0;var _d=parseInt(this.max)|0;this.pos=_b=(_b<0)?0:_b;if(_b>_d){this.pos=_b=_d;}else if(_b<_c){this.pos=_b=_c;}if(nexacro._enableaccessibility&&this._isAccessibilityEnable()){this._setAccessibilityInfoValueCur(_b);}}this._update();};_pProgressBar.set_step=function(_a){if(this.step!=_a){this.step=_a;this._update();}};_pProgressBar.resize=function(_a,_b){nexacro.Component.prototype.resize.call(this,_a,_b);this._update();};_pProgressBar.move=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype.move.call(this,_a,_b,_c,_d,_e,_f);this._update();};_pProgressBar.stepIt=function(){var _a=this.min,_b=this.max;var _c=(parseInt(this.pos)|0)+(parseInt(this.step)|0);if(parseInt(_b)<_c){this.pos=_b;return;}else if(parseInt(_a)>_c){this.pos=_a;return;}else{this.pos=_c;}this._update();};_pProgressBar._update=function(){var _a=this.on_find_CurrentStyle_bartype()||nexacro.ProgressBar._default_bartype;if(_a=="normal"){this._update_cell();return;}this._update_img();};_pProgressBar._update_cell=function(){this._delete_cell();this._delete_img(this.start_img);this._delete_img(this.end_img);if(this.progress_img_list){var _s=this.progress_img_list.length;for(var _t=0;_t<_s;_t++ ){this._delete_img(this.progress_img_list[_t]);}this.progress_img_list=[];}if(this.pos==0){this._clear();this.on_apply_text(this.text);return;}var _a=this._client_height;var _b=this._client_width;if(this.cellitem==null){this.cellitem=new nexacro.ProgressBarCell("cell_0","absolute",0,0,0,_a,null,null,this);this.cellitem.createComponent();}var _c=this.cellitem;var _d=this.celllist;var _e,_f,_g,_h;var _i=1;var _j=parseInt(this.pos)|0;var _k=parseInt(this.max)|0;var _l=parseInt(this.min)|0;var _m=(_j-_l)/(_k-_l);var _n=this.on_find_CurrentStyle_smooth(this._pseudo);var _o=this.on_find_CurrentStyle_direction(this._pseudo);var _p=parseInt(this.blocksize)|0;var _q=parseInt(this.blockgap)|0;if(_n=="true"){if(_o=="backward"){_f=_c._adjust_top;_g=parseInt(_b*_m)|0;_e=_b-parseInt(_b*_m)|0;_h=_a;}else{_e=0;_f=0;_g=parseInt(_b*_m)|0;_h=_a;}_c._applysetPosition(_e,_f,_g,_h);_c.show();}else{if(_o=="backward"){_g=_p;_e=_b-_p;_f=_c._adjust_top;_h=_c._adjust_height;_c._applysetPosition(_e,_f,_g,_h);_d[0]=_c;_i=_q+_p;var _u=Math.ceil((_b/_i)*_m);for(var _t=_u;_t>0;_t-- ){_e=_b-(_t*_i);_f=0;_g=_p;_h=_a;_d[_t]=new nexacro.ProgressBarCell("cell_"+_t,"absolute",_e+_q,_f,_g,_h,null,null,this);_d[_t].createComponent();}this.celllist=_d;}else{_e=_c._adjust_left;_f=_c._adjust_top;_h=_c._adjust_height;_g=_p;_c._applysetPosition(_e,_f,_g,_h);_d[0]=_c;_i=_q+_p;var _u=Math.ceil((_b/_i)*_m);for(var _t=1;_t<_u;_t++ ){_e=(_t*_i);_f=0;_g=_p;_h=_a;_d[_t]=new nexacro.ProgressBarCell("cell_"+_t,"absolute",_e,_f,_g,_h,null,null,this);_d[_t].createComponent();}this.celllist=_d;}}if(this._text_elem){this._text_elem.destroy();delete this._text_elem;this._text_elem=null;}var _r=this.getElement();if(_r){this._text_elem=new nexacro.TextBoxElement(_r);var _v=this._text_elem;var _w=this.currentstyle.align?(this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign):"center";var _x=this.currentstyle.align?(this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign):"middle";_v.setElementSize(this._client_width,this._client_height);_v.setElementColor(this.currentstyle.color);_v.setElementFont(this.currentstyle.font);_v.setElementAlignXY(_w,_x);if(_v){_v.create();}this.on_apply_style_align(this.currentstyle.align);this.on_apply_style_barcolor(this.currentstyle.barcolor);this.on_apply_style_bargradation(this.currentstyle.bargradation);this.on_apply_text(this.text);}var _c=null;var _d=null;};_pProgressBar._delete_cell=function(){if(this.celllist){var _a=this.celllist.length;for(var _b=0;_b<_a;_b++ ){this.celllist[_b].destroy();delete this.celllist[_b];}this.celllist=[];}if(this.cellitem){this.cellitem.destroy();delete this.cellitem;this.cellitem=null;}};_pProgressBar._on_start_img=function(_a,_b,_c){this.start_img_width=_b;this.start_img_url=_a;this._update_img();};_pProgressBar._on_progress_img=function(_a,_b,_c){this.progress_img_width=_b;this.progress_img_url=_a;this._update_img();};_pProgressBar._on_end_img=function(_a,_b,_c){this.end_img_width=_b;this.end_img_url=_a;this._update_img();};_pProgressBar._create_img=function(_a,_b,_c){if(_b!=null&&_b!=""){_a=new nexacro.ProgressBarImg(_c,"absolute",0,0,0,this._client_height,null,null,this);_a.createComponent();if(_c=="startImg"){_b=this.currentstyle.startimage;}else if(_c=="endImg"){_b=this.currentstyle.endimage;}else{_b=this.currentstyle.progressimage;}_a.style.set_background("URL('"+_b+"') stretch");try{return _a;}finally{delete _a;_a=null;}}};_pProgressBar._delete_img=function(_a){if(_a){_a.destroy();}};_pProgressBar._get_img_fullurl=function(_a){url=nexacro._toString(_a);if(url.substring(0,4).toLowerCase()=="url("){url=url.substring(5,url.length-2);}url=nexacro._getImageLocation(url,this._getRefFormBaseUrl());return url;};_pProgressBar._update_img=function(){var _a=this.on_find_CurrentStyle_bartype();var _b=this.on_find_CurrentStyle_progressImage();if((_a&&_a.value=="normal")||(_b&&_b.value=="")){return;}this._delete_cell();var _c=this.currentstyle.direction;if(_a=="image"){this._delete_img(this.start_img);this._delete_img(this.end_img);if(this.progress_img_list){var _d=this.progress_img_list.length;for(var _e=0;_e<_d;_e++ ){this._delete_img(this.progress_img_list[_e]);}this.progress_img_list=[];}if(this.pos==0){this._clear();this.on_apply_text(this.text);return;}if(!this.progress_img_list){this.progress_img_list=new Array();}var _f=this.progress_img_width;var _g=0,_h=0,_i=0,_j=0,_k=0,_l=0;var _m=this._client_height;var _n=this._client_width;var _o=parseInt(this.pos)|0;var _p=parseInt(this.max)|0;var _q=parseInt(this.min)|0;var _r=_m;var _s=parseInt(((_o-_q)/(_p-_q))*_n)|0;this.start_img=this._create_img(this.start_img,this.start_img_url,"startImg");if(this.start_img){_g=this.start_img_width;}this.end_img=this._create_img(this.end_img,this.end_img_url,"endImg");if(this.end_img){_h=this.end_img_width;}_i=parseInt((_s-_g-_h)/_f)|0;if(_c=="backward"){if(this.end_img&&this.progress_img){_j=_n-_h;this.end_img._applysetPosition(_j,_k,_h,_r);}var _t=null;var _u=_n-_f;for(var _e=0;_e<_i;_e++ ){_t=this._create_img(this.progress_img,this.progress_img_url,"pImg"+_e);_j=_u-(_f*_e);_k=0;_t._applysetPosition(_j,_k,_f,_r);this.progress_img_list[_e]=_t;}if(this.start_img){_j=_j-_g;this.start_img._applysetPosition(_j,_k,_g,_r);}}else{for(var _e=0;_e<_i;_e++ ){this.progress_img=this._create_img(this.progress_img,this.progress_img_url,"pImg"+_e);this.progress_img_list[_e]=this.progress_img;}if(this.start_img){_l=_g;this.start_img._applysetPosition(_j,_k,_l-_j,_r-_k);}for(var _e=0;_e<_i;_e++ ){if(_e>0){var _v=this.progress_img_list[_e-1];_j=_v._adjust_left+_v._adjust_width;_k=0;_l=_j+_f;_r=_m;}else{if(this.start_img){_j=this.start_img._adjust_left+this.start_img._adjust_width;_l=_j+_f;}else{_j=0;_l=_f;}}this.progress_img_list[_e]._applysetPosition(_j,_k,_l-_j,_r-_k);this.progress_img=this.progress_img_list[_e];}if(this.end_img&&this.progress_img){_j=this.progress_img._adjust_left+this.progress_img._adjust_width;_l=_j+_h;this.end_img._applysetPosition(_j,_k,_l-_j,_r-_k);}}if(this._text_elem){this._text_elem.destroy();delete this._text_elem;this._text_elem=null;}var _w=this.getElement();if(_w){this._text_elem=new nexacro.TextBoxElement(_w);var _x=this._text_elem;var _y=this.currentstyle.align?(this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign):"center";var _z=this.currentstyle.align?(this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign):"middle";_x.setElementSize(this._client_width,this._client_height);_x.setElementColor(this.currentstyle.color);_x.setElementFont(this.currentstyle.font);_x.setElementAlignXY(_y,_z);if(_x){_x.create();}this.on_apply_text(this.text);}}};delete _pProgressBar;nexacro.ProgressBarCell=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pProgressBarCell=nexacro.ProgressBarCell.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.ProgressBarCell);_pProgressBarCell.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("bargradation",_a,"gradation");};_pProgressBarCell.on_find_CurrentStyle_padding=nexacro._emptyFn;_pProgressBarCell.on_apply_style_color=nexacro._emptyFn;_pProgressBarCell.on_apply_style_font=nexacro._emptyFn;_pProgressBarCell.on_apply_style_align=nexacro._emptyFn;_pProgressBarCell.on_apply_expr=nexacro._emptyFn;_pProgressBarCell.on_apply_wordwrap=nexacro._emptyFn;delete _pProgressBarCell;nexacro.ProgressBarImg=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pProgressBarImg=nexacro.ProgressBarImg.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.ProgressBarImg);_pProgressBarImg.on_find_CurrentStyle_border=nexacro._emptyFn;_pProgressBarImg.on_find_CurrentStyle_padding=nexacro._emptyFn;_pProgressBarImg.on_apply_style_color=nexacro._emptyFn;_pProgressBarImg.on_apply_style_font=nexacro._emptyFn;_pProgressBarImg.on_apply_style_align=nexacro._emptyFn;_pProgressBarImg.on_apply_expr=nexacro._emptyFn;_pProgressBarImg.on_apply_wordwrap=nexacro._emptyFn;delete _pProgressBarImg;nexacro.ProgressBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ProgressBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pProgressBarCtrl=nexacro.ProgressBarCtrl.prototype=nexacro._createPrototype(nexacro.ProgressBar,nexacro.ProgressBarCtrl);_pProgressBarCtrl._type_name="ProgressBarControl";_pProgressBarCtrl._is_focus_accept=false;nexacro._setForControlStyleFinder(_pProgressBarCtrl);delete _pProgressBarCtrl;}if(!nexacro.PopupDiv){nexacro.PopupDiv=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Div.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.callbackfunction=null;this.visible=false;this._isSelfStyle=true;this._isSelfClass=true;this._is_window=true;this._attached_comp=this;this._is_init=false;this.returnvalue="";this._track_on=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onload":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"oncloseup":1,"onpopup":1,"onlayoutchanged":1,"canlayoutchange":1,"onmousewheel":1,"onmousedown":1,"onmouseup":1,"onvscroll":1,"onhscroll":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1};this._accessibility_role="form";};var _pPopupDiv=nexacro._createPrototype(nexacro.Div,nexacro.PopupDiv);nexacro.PopupDiv.prototype=_pPopupDiv;_pPopupDiv._type_name="PopupDiv";_pPopupDiv._is_popup_control=true;_pPopupDiv._is_selfclose=true;_pPopupDiv._default_zindex=nexacro._zindex_popup;_pPopupDiv._track_capture=true;_pPopupDiv.on_create_control_element=function(_a){var _b;if(this._is_scrollable){_b=this.on_create_popupscrollable_control_element(_a);}else{_b=this.on_create_popup_control_element(_a);}if(_b&&this._default_zindex>0){_b.setElementZIndex(this._default_zindex);}return _b;};_pPopupDiv.on_created=function(_a){nexacro.Div.prototype.on_created.call(this,_a);nexacro.PopupComponent.prototype.on_created.call(this,_a);this._refform=this;};_pPopupDiv.destroyComponent=nexacro.PopupComponent.prototype.destroyComponent;_pPopupDiv.set_visible=function(_a){if(this._track_on){nexacro.PopupComponent.prototype.set_visible.apply(this,arguments);}};_pPopupDiv.on_update_position=function(_a,_b){if(this.visible||!nexacro._allow_default_pinchzoom){nexacro.Div.prototype.on_update_position.call(this,_a,_b);}else{var _c=this._control_element;if(_c){_c.setElementPosition(0,0);_c.setElementSize(1,1);this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}}};_pPopupDiv.on_fire_onpopup=function(_a){if(this.onpopup&&this.onpopup._has_handlers){var _b=new nexacro.EventInfo(_a);_b.eventid="onpopup";return this.onpopup._fireEvent(this,_b);}return false;};_pPopupDiv.on_fire_onmove=function(_a,_b){if(this.onmove&&this.onmove._has_handlers){var _c=new nexacro.MoveEventInfo(this,"onmove",_a,_b);return this.onmove._fireEvent(this,_c);}return false;};_pPopupDiv.on_fire_oncloseup=function(_a){if(this.callbackfunction){this.callbackfunction.call(this.parent,this.id,this.returnvalue);}if(this.oncloseup&&this.oncloseup._has_handlers){var _b=new nexacro.EventInfo(_a);_b.eventid="oncloseup";return this.oncloseup._fireEvent(this,_b);}return false;};_pPopupDiv.trackPopup=function(_a,_b,_c,_d,_e){if(this._track_on==true){return;}this.returnvalue="";if(_c==null&&_d==null){_c=this._adjust_width;_d=this._adjust_height;}var _f= +_a;var _g= +_b;var _h= +_c;var _i= +_d;var _j=this._getWindowFrame();var _k=_j._adjust_width;var _l=_j._adjust_height;if(_f+_h>_k){var _n=_f-_h;if(_n>0){_f=_n;}else{_f=_k-_h;}}if(_g+_i>_l){var _o=_l-_i;if(_o<0){_g=0;_i=_l;}else{_g=_o;}}this._track_on=true;if(this._is_loading){this._wait_pop_position={obj:null,left:_f,top:_g,width:_h,height:_i};}else{this._popup(_f,_g,_h,_i);}if(_e&&typeof _e=="string"){this.callbackfunction=this.parent[_e];}else{this.callbackfunction=undefined;}this.setFocus();this.on_fire_onpopup(this);var _m=this._getWindow();if(_m&&this._track_capture){_m._setCaptureLock(this,true,false);}return (this.async?true:this.returnvalue);};_pPopupDiv.trackPopupByComponent=function(_a,_b,_c,_d,_e,_f){this.returnvalue="";if(_d==null&&_e==null){_d=this._adjust_width;_e=this._adjust_height;}if(_f&&typeof _f=="string"){this.callbackfunction=this.parent[_f];}else{this.callbackfunction=undefined;}this._track_on=true;if(this._is_loading){this._wait_pop_position={obj:_a,left:_b,top:_c,width:_d,height:_e};}else{this._popupBy(_a,_b,_c,_d,_e);}this.setFocus();this.on_fire_onpopup(this);var _g=this._getWindow();if(_g&&this._track_capture){_g._setCaptureLock(this,true,false);}return (this.async?true:this.returnvalue);};_pPopupDiv.closePopup=function(_a){this.returnvalue=_a;if(this.visible){this._closePopup(true);return true;}return false;};_pPopupDiv._getAllPos=function(){var _a=this;var _b=0;var _c=0;while(_a){if(_a._adjust_left!=null){_b+=_a._adjust_left;_c+=_a._adjust_top;}_a=_a.parent;}return {left:_b,top:_c};};_pPopupDiv.isPopup=nexacro.PopupComponent.prototype._is_popup;_pPopupDiv._popup=nexacro.PopupComponent.prototype._popup;_pPopupDiv._popupBy=nexacro.PopupComponent.prototype._popupBy;_pPopupDiv._getWindowHandle=nexacro.PopupComponent.prototype._getWindowHandle;_pPopupDiv._getWindow=nexacro.PopupComponent.prototype._getWindow;_pPopupDiv._findOwnerElementHandle=nexacro.PopupComponent.prototype._findOwnerElementHandle;_pPopupDiv._closePopup=function(){var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);}nexacro.PopupComponent.prototype._closePopup.apply(this,arguments);this._track_on=false;};_pPopupDiv._isPopupVisible=function(){return this.visible;};_pPopupDiv._getMainFrame=function(){var _a=this;while(_a&&!_a._is_main){_a=_a.parent;}return _a;};_pPopupDiv._getWindowFrame=function(){var _a=this._getWindow();if(_a){return _a.frame;}return null;};_pPopupDiv._control_popup=function(_a,_b,_c,_d){var _e=this._getWindowFrame();var _f=_e._adjust_width;var _g=_e._adjust_height;if(_a+_c>_f){var _h=_a-_c;if(_h>0){_a=_h;}else{_a=_f-_c;}}if(_b+_d>_g){_b=_g-_d;}this._popup(_a,_b,_c,_d);};_pPopupDiv._clearEventListener=function(_a){if(this._is_init&&application.getActiveForm()){var _b=application.getActiveForm()._event_list;if(!_b[_a]){return;}}nexacro.EventSinkObject.prototype._clearEventListener.apply(this,arguments);};_pPopupDiv._on_init=function(){this._is_init=true;nexacro.FormBase.prototype._on_init.apply(this,arguments);this._is_init=false;};_pPopupDiv._on_load=function(){var _a=this._control_element;var _b=nexacro.Form.prototype._on_load.apply(this,arguments);var _c=this._wait_pop_position;if(_c){if(_c.obj){this._popupBy(_c.obj,_c.left,_c.top,_c.width,_c.height);}else{this._popup(_c.left,_c.top,_c.width,_c.height);}_c=null;delete this._wait_pop_position;}if(!_a){this.setFocus();}return _b;};_pPopupDiv._on_bubble_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}if(_l===undefined){if(!_n){_n=this;if(!_n._is_reference_control){_n=this._getReferenceComponent(_n);}}if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],this,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],this,_n);if(_r){return false;}if(this.vscrollbar&&this.vscrollbar.enable){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OSVersion=="Mac OS"){if(this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}return;}if(_l===false){_l=undefined;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){var _y=this._getRecalcCanvasXY(_a,_h,_i);_h=_y[0];_i=_y[1];if(this._is_subcontrol){return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,null,_n,_o);}else{return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,this,_n,_o);}}}}}}else{if(this.visible&&this._isEnable()){var _p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);var _q=this._getFromComponent(this);if(_l!==true){if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.defaultprevented)){var _r=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n);if(_r){return false;}if(this._isWheelScrollable(_c)&&this.vscrollbar&&this.vscrollbar.enable){var _s=this.vscrollbar;var _t=_s._pos;this._setVScrollDefaultAction(_s,_c);var _u=_s._pos;if(_t!=_u){return false;}}if(nexacro.OSVersion=="Mac OS"){if(this._isWheelScrollable(_b)&&this.hscrollbar&&this.hscrollbar.enable){var _v=this.hscrollbar;var _w=_v._pos;this._setHScrollDefaultAction(_v,_b);var _x=_v._pos;if(_w!=_x){return false;}}}return;}if(!_q.onmousewheel||(_q.onmousewheel&&!_q.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){_h+=this._adjust_left-this._scroll_left||0;_i+=this._adjust_top-this._scroll_top||0;return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,_m,_n,_o);}}}}}};_pPopupDiv.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);return true;};delete _pPopupDiv;nexacro.PopupDivCtrl=function(_a,_b,_c,_d,_e,_f){nexacro.PopupDiv.call(this,_a,_b,_c,_d,_e,_f);};var _pPopupDivCtrl=nexacro.PopupDivCtrl.prototype=nexacro._createPrototype(nexacro.PopupDiv,nexacro.PopupDivCtrl);_pPopupDivCtrl._is_subcontrol=true;nexacro._setForControlStyleFinder(_pPopupDivCtrl);delete _pPopupDivCtrl;}if(!nexacro.MenuItem){nexacro.MenuItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.index=0;this.datarow=0;this.notexpand=false;this.id="";this.enable=true;this.level="";this.userdata=null;this.selected=false;this._init_padding=false;this._accessibility_role="menuitem";};var _pMenuItem=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.MenuItem);nexacro.MenuItem.prototype=_pMenuItem;_pMenuItem._type_name="MenuItem";_pMenuItem._updateControl=function(_a,_b){if(!this._isEnableRedraw()){return;}if(application._cur_track_info&&_b=="mouseover"){return;}if(_a&&this._control_pseudo!=_b&&this._adjust_width!=0&&this._adjust_height!=0){this._control_pseudo=_b;var _c=this.currentstyle;var _d=this.on_find_CurrentStyle_border(_b);var _e=this.on_find_CurrentStyle_bordertype(_b);var _f=this.on_find_CurrentStyle_background(_b);var _g=this.on_find_CurrentStyle_gradation(_b);var _h=(_f!=_c.background);var _i=(_e!=_c.bordertype);var _j=(_d!=_c.border);var _k=(_g!=_c.gradation);if(_j||_i||_h||_k){this._apply_client_border=_j;_c.bordertype=_e;_c.border=_d;_c.background=_f;_c.gradation=_g;_a.setElementBorder(_d,_e);_a.setElementBackground(_f,_g);}var _l=this.on_find_CurrentStyle_opacity(_b);if(_l&&_l!=_c.opacity){_c.opacity=_l;_a.setElementOpacity(_l);}var _m=this.on_find_CurrentStyle_shadow(_b);if(_m&&_m!=_c.shadow){_c.shadow=_m;_a.setElementShadow(_m);}var _n=this.on_find_CurrentStyle_cursor(_b);if(_n&&_n!=_c.cursor){_c.cursor=_n;_a.setElementCursor(_n);}if(nexacro._enableaccessibility){var _o=this.on_find_CurrentStyle_accessibility(_b);if(_o&&_o!=_c.accessibility){_c.accessibility=this._make_accessibility_value(_o);_a.setAccessibility(_c.accessibility);}}if(this._apply_client_padding){var _p=this.on_find_CurrentStyle_padding(_b);if((_p&&_p!=_c.padding)||_j){_c.padding=_p;_a.setElementPadding(_p);}}this._updateClientSize(_a);return true;}return false;};_pMenuItem.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a);};_pMenuItem.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a);};_pMenuItem.on_find_CurrentStyle_align=function(_a){var _b=this.parent.on_find_CurrentStyle_itemalign(_a);return (_b)?_b:nexacro.Component._default_align;};_pMenuItem.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_itembackground(_a);};_pMenuItem.on_find_CurrentStyle_padding=function(_a){return this.parent.on_find_CurrentStyle_itempadding(_a);};_pMenuItem.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_itemgradation(_a);};_pMenuItem.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_itemborder(_a);};_pMenuItem.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_itembordertype(_a);};_pMenuItem.on_find_CurrentStyle_cursor=function(_a){var _b=this._getRootComponent(this);return _b.on_find_CurrentStyle_cursor(_a);};_pMenuItem.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_itemaccessibility(_a);};_pMenuItem.on_apply_style_padding=function(_a){var _b=this._control_element;if(_b){_b.setElementPadding(_a);this._updateClientSize(_b);}};_pMenuItem.on_apply_style_accessibility=function(_a){var _b=this._control_element;if(_b&&_a){_b.setAccessibility(_a);this._updateAccessibilityLabel(this);}};_pMenuItem.on_apply_mouseover=function(_a,_b){if(this.selected&&!_b){this._stat_change("normal","selected");}else{if(_a){this._stat_change("normal","mouseover");}else{this._stat_change("normal","normal");}}};_pMenuItem.on_tap_basic_action=function(){var _a=this.parent;var _b=_a._popupmenu;if(_b){if(_b._is_popup()){if(_a.beforeindex!=this.index){_a.beforeindex=this.index;}_b.cancelPopup();_a._menuitemindex=this.index;_a._popupitemindex= -1;}}var _c=this._getRootComponent(this);if(!this.notexpand){_a._closeflag=true;_a._showPopup(this);if(_c instanceof nexacro.Menu){_c._popupitemindex=this.index;}}else{if(this.enable==false||_c._getPopupType()=="none"){return;}if(_c.onmenuclick&&_c.onmenuclick._has_handlers){_c.on_fire_onitemclick(_c,"onmenuclick",this.id,this.userdata,this.index,this.parent.level);_c._popupitemindex= -1;}_c._closePopup();}return nexacro.Component.prototype.on_tap_basic_action.apply(this,arguments);};_pMenuItem._getWindowPosition=function(){var _a=this._control_element;if(_a){var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=nexacro._getElementXYInWindow(_a._handle);var _d=_c[0];var _e=_c[1];return {x:_d,y:_e};}return {x:0,y:0};};_pMenuItem._on_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r=nexacro.Component.prototype._on_dragleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q);var _s=this._getRootComponent(this);if(_s.ondragleave){_s._last_mouseleave_iteminfo.index=this.index;_s._last_mouseleave_iteminfo.bindindex=this._bindindex;_s._last_mouseleave_iteminfo.level=this.parent.level;}return _r;};_pMenuItem._updateAccessibilityLabel=function(_a){var _b=this._getRootComponent(this);var _c=_b._innerdataset.getRowCount();_a._setAccessibilityInfoIndex(_a.datarow+1);_a._setAccessibilityInfoCount(_c);_a._setAccessibilityFlagHasPopup(_a.notexpand?false:true);};delete _pMenuItem;}if(!nexacro.Menu){nexacro.MenuClickEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_b||"onmenuclick";this.id=_c;this.fromobject=_a;this.fromreferenceobject=_a;this.index=_e;this.level=_f;this.userdata=_d;};var _pMenuClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuClickEventInfo);nexacro.MenuClickEventInfo.prototype=_pMenuClickEventInfo;_pMenuClickEventInfo._type_name="MenuClickEventInfo";delete _pMenuClickEventInfo;nexacro.MenuDragEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v){this.id=_c;this.eventid=_b||"onmenudrag";if(!_i){_i=_h;}this.cancelable=true;this.bubbles=true;this.dragdata=_d;this.userdata=_e;this.sourceobject=_f;this.sourcereferenceobject=_g;this.fromobject=_h;this.fromreferenceobject=_i;this.altKey=_k||false;this.ctrlKey=_l||false;this.button=_j||"";this.shiftKey=_m||false;this.screenX=_n|| -1;this.screenY=_o|| -1;this.canvasX=_p|| -1;this.canvasY=_q|| -1;this.clientX=_r|| -1;this.clientY=_s|| -1;this.level=_t;this.index=_u;this.bindindex=_v;};var _pEventMenuDragEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuDragEventInfo);nexacro.MenuDragEventInfo.prototype=_pEventMenuDragEventInfo;_pEventMenuDragEventInfo._type_name="MenuDragEventInfo";delete _pEventMenuDragEventInfo;nexacro.MenuMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){this.id=_c;this.eventid=_b||"onmenumouse";this.cancelable=true;this.bubbles=true;this.fromobject=_n;this.fromreferenceobject=_o;this.altKey=_e||false;this.ctrlKey=_f||false;this.button=_d||"";this.shiftKey=_g||false;this.screenX=_h|| -1;this.screenY=_i|| -1;this.canvasX=_j|| -1;this.canvasY=_k|| -1;this.clientX=_l|| -1;this.clientY=_m|| -1;this.level=_p;this.index=_q;this.bindindex=_r;};var _pEventMenuMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuMouseEventInfo);nexacro.MenuMouseEventInfo.prototype=_pEventMenuMouseEventInfo;_pEventMenuMouseEventInfo._type_name="MenuMouseEventInfo";delete _pEventMenuMouseEventInfo;nexacro.Menu_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pMenuStyle=nexacro._createPrototype(nexacro.Style,nexacro.Menu_Style);nexacro.Menu_Style.prototype=_pMenuStyle;eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","autohotkey"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","buttonimage"));eval(nexacro._createColorAttributeEvalStr("_pMenuStyle","popupcolor"));eval(nexacro._createBorderAttributeEvalStr("_pMenuStyle","popupborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pMenuStyle","popupbordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pMenuStyle","popuppadding"));eval(nexacro._createFontAttributeEvalStr("_pMenuStyle","popupfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pMenuStyle","popupbackground"));eval(nexacro._createGradationAttributeEvalStr("_pMenuStyle","popupgradation"));eval(nexacro._createAlignAttributeEvalStr("_pMenuStyle","itemalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pMenuStyle","itembackground"));eval(nexacro._createBorderAttributeEvalStr("_pMenuStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pMenuStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pMenuStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pMenuStyle","itempadding"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","checkboximage"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","expandimage"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","popupitemheight"));eval(nexacro._createAlignAttributeEvalStr("_pMenuStyle","popupitemalign"));eval(nexacro._createPaddingAttributeEvalStr("_pMenuStyle","popupitempadding"));eval(nexacro._createBorderAttributeEvalStr("_pMenuStyle","popupitemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pMenuStyle","popupitembordertype"));eval(nexacro._createBackgroundAttributeEvalStr("_pMenuStyle","popupitembackground"));eval(nexacro._createGradationAttributeEvalStr("_pMenuStyle","popupitemgradation"));eval(nexacro._createAccessibilityAttributeEvalStr("_pMenuStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pMenuStyle","popuptype"));_pMenuStyle.__custom_emptyObject=function(){this.autohotkey=false;this.buttonimage=null;this.popupcolor=null;this.popupborder=null;this.popupbordertype=null;this.popuppadding=null;this.popupfont=null;this.popupbackground=null;this.popupgradation=null;this.itemalign=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.popupitemheight=null;this.popupitemalign=null;this.popupitempadding=null;this.popupitemborder=null;this.popupitembordertype=null;this.popupitembackground=null;this.popupitemgradation=null;this.itemaccessibility=null;this.popuptype=null;};_pMenuStyle.__get_custom_style_value=function(){var _a="";var _b=this.popupitempadding;if(_b&&_b._value.length){_a+="popupitempadding:"+this.popupitempadding._value+"; ";}var _c=this.popupborder;if(_c&&_c._value.length){_a+="popupborder:"+_c._value+"; ";}var _d=this.popupbordertype;if(_d&&_d._value.length){_a+="popupbordertype:"+_d._value+"; ";}var _e=this.popupfont;if(_e&&_e._value.length){_a+="popupfont:"+_e._value+"; ";}var _f=this.popuppadding;if(_f&&_f._value.length){_a+="popuppadding:"+_f._value+"; ";}var _g=this.popupcolor;if(_g&&_g._value.length){_a+="popupcolor:"+_g._value+"; ";}var _h=this.popupbackground;if(_h&&_h._value.length){_a+="popupbackground:"+_h._value+"; ";}var _i=this.popupgradation;if(_i&&_i._value.length){_a+="popupgradation:"+_i._value+"; ";}var _j=this.itemalign;if(_j&&_j._value.length){_a+="itemalign:"+_j._value+"; ";}var _k=this.itembackground;if(_k&&_k._value.length){_a+="itembackground:"+_k._value+"; ";}var _l=this.itemborder;if(_l&&_l._value.length){_a+="itemborder:"+_l._value+"; ";}var _m=this.itembordertype;if(_m&&_m._value.length){_a+="itembordertype:"+_m._value+"; ";}var _n=this.itemgradation;if(_n&&_n._value.length){_a+="itemgradation:"+_n._value+"; ";}var _o=this.itempadding;if(_o&&_o._value.length){_a+="itempadding:"+_o._value+"; ";}var _p=this.popuptype;if(_p&&_p._value.length){_a+="popuptype:"+_p._value+"; ";}var _q=this.checkboximage;if(_q&&_q._value.length){_a+="checkboximage:"+_q._value+"; ";}var _r=this.expandimage;if(_r&&_r._value.length){_a+="expandimage:"+_r._value+"; ";}var _s=this.popupitembackground;if(_s&&_s._value.length){_a+="popupitembackground:"+_s._value+"; ";}var _t=this.popupitemheight;if(_t&&_t._value.length){_a+="popupitemheight:"+_t._value+"; ";}var _u=this.popupitemalign;if(_u&&_u._value.length){_a+="popupitemalign:"+_u._value+"; ";}var _v=this.popupitemborder;if(_v&&_v._value.length){_a+="popupitemborder:"+_v._value+"; ";}var _w=this.popupitembordertype;if(_w&&_w._value.length){_a+="popupitembordertype:"+_w._value+"; ";}var _x=this.popupitemgradation;if(_x&&_x._value.length){_a+="popupitemgradation:"+_x._value+"; ";}if(autohotkey&&autohotkey._value.length){_a+="autohotkey:"+autohotkey._value+"; ";}var _y=this.itemaccessibility;if(_y&&_y._value.length){_a+="itemaccessibility:"+_y._value+"; ";}return _a;};nexacro.Menu_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.autohotkey=false;this.buttonimage=null;this.popupcolor=null;this.popupborder=null;this.popupbordertype=null;this.popuppadding=null;this.popupfont=null;this.popupbackground=null;this.popupgradation=null;this.itemalign=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.popupitemheight=null;this.popupitemalign=null;this.popupitempadding=null;this.popupitemborder=null;this.popupitembordertype=null;this.popupitembackground=null;this.popupitemgradation=null;this.itemaccessibility=null;this.popuptype=null;};var _pMenuCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Menu_CurrentStyle);nexacro.Menu_CurrentStyle.prototype=_pMenuCurrentStyle;_pMenuCurrentStyle.__custom_emptyObject=_pMenuStyle.__custom_emptyObject;_pMenuCurrentStyle.__get_custom_style_value=_pMenuStyle.__get_custom_style_value;_pMenuStyle=null;_pMenuCurrentStyle=null;nexacro.Menu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.captioncolumn="";this.checkboxcolumn="";this.enablecolumn="";this.hotkeycolumn="";this.iconcolumn="";this.idcolumn="";this.levelcolumn="";this.userdatacolumn="";this.beforeindex= -1;this.level=0;this.innerdataset="";this._is_menu_click=false;this._innerdataset="";this._popupmenu=null;this._items=[];this._want_tab=true;this._want_arrow=true;this._hot_key_list=[];this._last_mouseleave_iteminfo={bindindex: -1,index: -1,level: -1};this.spinupbutton=null;this.spindownbutton=null;this._spin_width=15;this._scrollIndex=0;this._scrollIndex_tmp=0;this._buttonRect=[];this._item_total_width=0;this._accessibility_role="menubar";this._focus_obj=null;this._menuitemindex= -1;this._menuitemonmouseenter=null;this._popupitemLR= -1;this._popupitemindex= -1;this._popupitempreviousindex=0;this._previousitem=0;this._clickitemindex= -1;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onmenuclick":1,"onmousedown":1,"onmouseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pMenu=nexacro._createPrototype(nexacro.Component,nexacro.Menu);nexacro.Menu.prototype=_pMenu;_pMenu._type_name="Menu";nexacro.Menu._default_image_align=nexacro.Component._default_buttonimg_align;_pMenu.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_align(_a);if(_e!=_b.align){_b.align=_e;this.on_apply_style_align(_e);}var _f=this.on_find_CurrentStyle_itemalign(_a);if(_b.itemalign!=_f){_b.itemalign=_f;}var _g=this.on_find_CurrentStyle_itembackground(_a);if(_b.itembackground!=_g){_b.itembackground=_g;}var _h=this.on_find_CurrentStyle_itemborder(_a);if(_b.itemborder!=_h){_b.itemborder=_h;}var _i=this.on_find_CurrentStyle_itembordertype(_a);if(_b.itembordertype!=_i){_b.itembordertype=_i;}var _j=this.on_find_CurrentStyle_itemgradation(_a);if(_b.itemgradation!=_j){_b.itemgradation=_j;}var _k=this.on_find_CurrentStyle_itempadding(_a);if(_b.itempadding!=_k){_b.itempadding=_k;}var _l=this.on_find_CurrentStyle_checkboximage(_a);if(_b.checkboximage!=_l){_b.checkboximage=_l;}var _m=this.on_find_CurrentStyle_expandimage(_a);if(_b.expandimage!=_m){_b.expandimage=_m;}var _n=this.on_find_CurrentStyle_popupborder(_a);if(_b.popupborder!=_n){_b.popupborder=_n;}var _o=this.on_find_CurrentStyle_popupbordertype(_a);if(_b.popupbordertype!=_o){_b.popupbordertype=_o;}var _p=this.on_find_CurrentStyle_popuppadding(_a);if(_b.popuppadding!=_p){_b.popuppadding=_p;}var _q=this.on_find_CurrentStyle_popupfont(_a);if(_b.popupfont!=_q){_b.popupfont=_q;}var _r=this.on_find_CurrentStyle_popupcolor(_a);if(_b.popupcolor!=_r){_b.popupcolor=_r;}var _s=this.on_find_CurrentStyle_popupbackground(_a);if(_b.popupbackground!=_s){_b.popupbackground=_s;}var _t=this.on_find_CurrentStyle_popupgradation(_a);if(_b.popupgradation!=_t){_b.popupgradation=_t;}var _u=this.on_find_CurrentStyle_popupitemheight(_a);if(_b.popupitemheight!=_u){_b.popupitemheight=_u;}var _v=this.on_find_CurrentStyle_popupitempadding(_a);if(_b.popupitempadding!=_v){_b.popupitempadding=_v;}var _w=this.on_find_CurrentStyle_popupitembackground(_a);if(_b.popupitembackground!=_w){_b.popupitembackground=_w;}var _x=this.on_find_CurrentStyle_popupitemalign(_a);if(_b.popupitemalign!=_x){_b.popupitemalign=_x;}var _y=this.on_find_CurrentStyle_popupitemborder(_a);if(_b.popupitemborder!=_y){_b.popupitemborder=_y;}var _z=this.on_find_CurrentStyle_popupitembordertype(_a);if(_b.popupitembordertype!=_z){_b.popupitembordertype=_z;}var _aa=this.on_find_CurrentStyle_popupitemgradation(_a);if(_b.popupitemgradation!=_aa){_b.popupitemgradation=_aa;}var _ab=this.on_find_CurrentStyle_autohotkey(_a);if(_b.autohotkey!=_ab){_b.autohotkey=_ab;}var _ac=this.on_find_CurrentStyle_accessibility(_a);if(_b.accessibility!=_ac){_b.accessibility=_ac;}var _ad=this.on_find_CurrentStyle_itemaccessibility(_a);if(_b.itemaccessibility!=_ad){_b.itemaccessibility=_ad;}var _ae=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_ae!=_b.rtlimagemirroring){_b.rtlimagemirroring=_ae;this.on_apply_style_rtlimagemirroring(_ae);}if(this.spinupbutton){this.spinupbutton._control_pseudo="";this.spinupbutton._contents_pseudo="";this.spinupbutton.on_apply_pseudo(_a);}if(this.spindownbutton){this.spindownbutton._control_pseudo="";this.spindownbutton._contents_pseudo="";this.spindownbutton.on_apply_pseudo(_a);}};_pMenu.on_create_custom_style=function(){return new nexacro.Menu_Style(this);};_pMenu.on_create_custom_currentStyle=function(){return new nexacro.Menu_CurrentStyle();};_pMenu.on_find_CurrentStyle_buttonimage=function(_a){return this._find_pseudo_obj("buttonimage",_a);};_pMenu.on_find_CurrentStyle_popupcolor=function(_a){return this._find_pseudo_obj("popupcolor",_a,"color");};_pMenu.on_find_CurrentStyle_popupborder=function(_a){return this._find_pseudo_obj("popupborder",_a,"border");};_pMenu.on_find_CurrentStyle_popupbordertype=function(_a){return this._find_pseudo_obj("popupbordertype",_a,"bordertype");};_pMenu.on_find_CurrentStyle_popuppadding=function(_a){return this._find_pseudo_obj("popuppadding",_a,"padding");};_pMenu.on_find_CurrentStyle_popupfont=function(_a){return this._find_pseudo_obj("popupfont",_a,"font");};_pMenu.on_find_CurrentStyle_popupbackground=function(_a){return this._find_pseudo_obj("popupbackground",_a,"background");};_pMenu.on_find_CurrentStyle_popupgradation=function(_a){return this._find_pseudo_obj("popupgradation",_a,"gradation");};_pMenu.on_find_CurrentStyle_itemalign=function(_a){return this._find_pseudo_obj("itemalign",_a,"align");};_pMenu.on_find_CurrentStyle_itembackground=function(_a){return this._find_pseudo_obj("itembackground",_a,"background");};_pMenu.on_find_CurrentStyle_itemborder=function(_a){return this._find_pseudo_obj("itemborder",_a,"border");};_pMenu.on_find_CurrentStyle_itembordertype=function(_a){return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pMenu.on_find_CurrentStyle_itemgradation=function(_a){return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pMenu.on_find_CurrentStyle_itempadding=function(_a){return this._find_pseudo_obj("itempadding",_a,"padding");};_pMenu.on_find_CurrentStyle_checkboximage=function(_a){return this._find_pseudo_obj("checkboximage",_a);};_pMenu.on_find_CurrentStyle_expandimage=function(_a){return this._find_pseudo_obj("expandimage",_a);};_pMenu.on_find_CurrentStyle_popupitemheight=function(_a){return this._find_pseudo_obj("popupitemheight",_a);};_pMenu.on_find_CurrentStyle_popupitemalign=function(_a){return this._find_pseudo_obj("popupitemalign",_a);};_pMenu.on_find_CurrentStyle_popupitempadding=function(_a){return this._find_pseudo_obj("popupitempadding",_a,"padding");};_pMenu.on_find_CurrentStyle_popupitemborder=function(_a){return this._find_pseudo_obj("popupitemborder",_a,"border");};_pMenu.on_find_CurrentStyle_popupitembordertype=function(_a){return this._find_pseudo_obj("popupitembordertype",_a,"bordertype");};_pMenu.on_find_CurrentStyle_popupitembackground=function(_a){return this._find_pseudo_obj("popupitembackground",_a,"background");};_pMenu.on_find_CurrentStyle_popupitemgradation=function(_a){return this._find_pseudo_obj("popupitemgradation",_a,"gradation");};_pMenu.on_find_CurrentStyle_autohotkey=function(_a){return this._find_pseudo_obj("autohotkey",_a);};_pMenu.on_find_CurrentStyle_itemaccessibility=function(_a){return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pMenu.on_find_CurrentStyle_popuptype=function(_a){return this._find_pseudo_obj("popuptype",_a);};_pMenu.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);};_pMenu.on_update_style_color=function(){this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo);var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]&&_a[_c].enable){_a[_c].on_update_style_color();}}}};_pMenu.on_update_style_font=function(){this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo);var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){_a[_c].on_apply_style_font(this.currentstyle.font);}}this._createMenu(false);}};_pMenu.on_update_style_align=function(){this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo);var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){_a[_c].on_update_style_align();}}}};_pMenu.on_update_style_buttonimage=function(){this.on_apply_style_buttonimage(this.currentstyle.buttonimage=this.on_find_CurrentStyle_buttonimage(this._pseudo));};_pMenu.on_update_style_popupcolor=function(){this.currentstyle.popupcolor=this.on_find_CurrentStyle_popupcolor(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_color();}};_pMenu.on_update_style_popupborder=function(){this.currentstyle.popupborder=this.on_find_CurrentStyle_popupborder(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_border();}};_pMenu.on_update_style_popupbordertype=function(){this.currentstyle.popupbordertype=this.on_find_CurrentStyle_popupbordertype(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_bordertype();}};_pMenu.on_update_style_popuppadding=function(){this.currentstyle.popuppadding=this.on_find_CurrentStyle_popuppadding(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_padding();}};_pMenu.on_update_style_popupfont=function(){this.currentstyle.popupfont=this.on_find_CurrentStyle_popupfont(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_font();}};_pMenu.on_update_style_popupbackground=function(){this.on_apply_style_popupbackground(this.currentstyle.popupbackground=this.on_find_CurrentStyle_popupbackground(this._pseudo));if(this._popupmenu){this._popupmenu.on_update_style_background();}};_pMenu.on_update_style_popupgradation=function(){this.currentstyle.popupgradation=this.on_find_CurrentStyle_popupgradation(this._pseudo);if(this._popupmenu){this._popupmenu.on_update_style_gradation();}};_pMenu.on_update_style_itemalign=function(){this.on_apply_style_itemalign(this.currentstyle.itemalign=this.on_find_CurrentStyle_itemalign(this._pseudo));};_pMenu.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));};_pMenu.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));};_pMenu.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));};_pMenu.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));};_pMenu.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));};_pMenu.on_update_style_checkboximage=function(){this.on_apply_style_checkboximage(this.currentstyle.checkboximage=this.on_find_CurrentStyle_checkboximage(this._pseudo));};_pMenu.on_update_style_expandimage=function(){this.on_apply_style_expandimage(this.currentstyle.expandimage=this.on_find_CurrentStyle_expandimage(this._pseudo));};_pMenu.on_update_style_popupitemheight=function(){this.on_apply_style_popupitemheight(this.currentstyle.popupitemheight=this.on_find_CurrentStyle_popupitemheight(this._pseudo));};_pMenu.on_update_style_popupitemalign=function(){this.on_apply_style_popupitemalign(this.currentstyle.popupitemalign=this.on_find_CurrentStyle_popupitemalign(this._pseudo));};_pMenu.on_update_style_popupitempadding=function(){this.on_apply_style_popupitempadding(this.currentstyle.popupitempadding=this.on_find_CurrentStyle_popupitempadding(this._pseudo));};_pMenu.on_update_style_popupitemborder=function(){this.on_apply_style_popupitemborder(this.currentstyle.popupitemborder=this.on_find_CurrentStyle_popupitemborder(this._pseudo));};_pMenu.on_update_style_popupitembordertype=function(){this.on_apply_style_popupitembordertype(this.currentstyle.popupitembordertype=this.on_find_CurrentStyle_popupitembordertype(this._pseudo));};_pMenu.on_update_style_popupitembackground=function(){this.on_apply_style_popupitembackground(this.currentstyle.popupitembackground=this.on_find_CurrentStyle_popupitembackground(this._pseudo));};_pMenu.on_update_style_popupitemgradation=function(){this.on_apply_style_popupitemgradation(this.currentstyle.popupitemgradation=this.on_find_CurrentStyle_popupitemgradation(this._pseudo));};_pMenu.on_update_style_autohotkey=function(){this.on_apply_style_autohotkey(this.currentstyle.autohotkey=this.on_find_CurrentStyle_autohotkey(this._pseudo));};_pMenu.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));};_pMenu.on_apply_style_color=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_color(_b[_d]._pseudo);_b[_d].on_apply_style_color(_a);}}};_pMenu.on_apply_style_font=function(_a){this._createMenu();};_pMenu.on_apply_style_itemalign=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_align(_a);}}};_pMenu.on_apply_style_itembackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_background(_a);}}};_pMenu.on_apply_style_itemborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_border(_a);}}};_pMenu.on_apply_style_itembordertype=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_bordertype(_a);}}};_pMenu.on_apply_style_itemgradation=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_gradation(_a);}}};_pMenu.on_apply_style_itempadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_padding(_a);}this._createMenu(false);}};_pMenu.on_apply_style_checkboximage=function(_a){if(_a){this._load_image(_a,0);}if(this._popupmenu){this._popupmenu.on_apply_style_checkboximage(_a);}};_pMenu.on_apply_style_expandimage=function(_a){if(_a){this._load_image(_a,1);}if(this._popupmenu){this._popupmenu.on_apply_style_expandimage(_a);}};_pMenu.on_apply_style_popupborder=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_border(_a);}};_pMenu.on_apply_style_popupbordertype=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_bordertype(_a);}};_pMenu.on_apply_style_popupfont=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_font(_a);}};_pMenu.on_apply_style_popuppadding=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_padding(_a);}};_pMenu.on_apply_style_popupcolor=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_color(_a);}};_pMenu.on_apply_style_popupgradation=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_gradation(_a);}};_pMenu.on_apply_style_popupbackground=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_background(_a);}};_pMenu.on_apply_style_popupitembackground=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itembackground(_a);}};_pMenu.on_apply_style_popupitemalign=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemalign(_a);}};_pMenu.on_apply_style_popupitemborder=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemborder(_a);}};_pMenu.on_apply_style_popupitembordertype=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itembordertype(_a);}};_pMenu.on_apply_style_popupitemgradation=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemgradation(_a);}};_pMenu.on_apply_style_autohotkey=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_autohotkey(_a);}};_pMenu.on_apply_style_popupitemheight=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itemheight(_a);}};_pMenu.on_apply_style_popupitempadding=function(_a){var _b=this._popupmenu;if(_b){_b.on_apply_style_itempadding(_a);}};_pMenu.on_apply_style_itemaccessibility=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_accessibility(_a);}}};_pMenu.on_create_contents=function(){var _a=this.currentstyle;this._createMenu(true);if(_a.checkboximage){this._load_image(_a.checkboximage,0);}if(_a.expandimage){this._load_image(_a.expandimage,1);}};_pMenu.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._items;if(_b){var _c=this._items.length;var _d=null;for(var _e=0;_e<_c;_e++ ){_b[_e].on_created();}}if(nexacro._enableaccessibility){this._want_arrow=true;this._setAccessibilityInfoLevel(this.level);}if(this._innerdataset&&this.enablecolumn){this.on_apply_enablecolumn();}this._createMenu(false);}};_pMenu.on_destroy_contents=function(){if(this._popupmenu){this._popupmenu.destroy();this._popupmenu=null;}var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();_a[_c]=null;}this._items=null;}_a=null;this._destroySpinButton();};_pMenu.on_change_containerRect=function(_a,_b){this._createMenu(false);var _c=this._items;var _d=_c.length;var _e=this.on_find_CurrentStyle_padding(this._pseudo);if(_e){_b=_b-_e.top-_e.bottom;}for(var _f=0;_f<_d;_f++ ){_c[_f].resize(_c[_f]._adjust_width,_b);}};_pMenu.set_autohotkey=function(_a){var _b=this._popupmenu;if(_b){_b._setAutohotkey(_a);}if(_a!=this.autohotkey){this.autohotkey=_a;}};_pMenu.set_captioncolumn=function(_a){var _b=_a;var _c=this._popupmenu;if(_c){_c.set_captioncolumn(_b);}if(_b!=this.captioncolumn){this.captioncolumn=_b;this.on_apply_captioncolumn();}};_pMenu.on_apply_captioncolumn=function(){var _a=this.captioncolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=this._innerdataset.getColumn(_b[_d].datarow,this.captioncolumn);if(_e){_b[_d].set_text(_e);}else{_b[_d].set_text("");}}}};_pMenu.set_checkboxcolumn=function(_a){var _b=_a;if(this._popupmenu){this._popupmenu.set_checkboxcolumn(_b);}if(_b!=this.checkboxcolumn){this.checkboxcolumn=_b;this._createMenu(false);}return this.checkboxcolumn;};_pMenu.set_enablecolumn=function(_a){if(_a!=this.enablecolumn){this.enablecolumn=_a;this.on_apply_enablecolumn();}return this.enablecolumn;};_pMenu.on_apply_enablecolumn=function(){var _a=this.enablecolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=this._innerdataset.getColumn(_b[_d].datarow,this.enablecolumn);_e=_e==false||_e=="false"?false:true;_b[_d].set_enable(_e);}}if(this._popupmenu){this._popupmenu.set_enablecolumn(this.enablecolumn);}};_pMenu.set_hotkeycolumn=function(_a){var _b=this._popupmenu;if(_b){_b.set_hotkeycolumn(_a);}if(_a!=this.hotkeycolumn){this.hotkeycolumn=_a;this._createMenu(false);}return this.hotkeycolumn;};_pMenu.set_iconcolumn=function(_a){var _b=this._popupmenu;if(_b){_b.set_iconcolumn(_a);}if(_a!=this.iconcolumn){this.iconcolumn=_a;this._createMenu(false);}return this.iconcolumn;};_pMenu.set_idcolumn=function(_a){var _b=this._popupmenu;if(_b){_b.set_idcolumn(_a);}if(_a!=this.idcolumn){this.idcolumn=_a;this.on_apply_idcolumn();}return this.idcolumn;};_pMenu.on_apply_idcolumn=function(){var _a=this.idcolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=this._innerdataset.getColumn(_b[_d].datarow,this.idcolumn);_b[_d].id=_e?_e:"";}}};_pMenu.set_levelcolumn=function(_a){var _b=_a;var _c=this._popupmenu;if(_c){_c.set_levelcolumn(_b);}if(_b!=this.levelcolumn){this.levelcolumn=_b;this.on_apply_levelcolumn();}return this.levelcolumn;};_pMenu.on_apply_levelcolumn=function(){var _a=this.levelcolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=this._innerdataset.getColumn(_b[_d].datarow,this.levelcolumn);_b[_d].level=_e?_e: -1;}}};_pMenu.set_userdatacolumn=function(_a){var _b=_a;var _c=this._popupmenu;if(_c){_c.set_userdatacolumn(_b);}if(_b!=this.userdatacolumn){this.userdatacolumn=_b;this.on_apply_userdatacolumn();}return this.userdatacolumn;};_pMenu.on_apply_userdatacolumn=function(){var _a=this.userdatacolumn;if(this._innerdataset){this._createMenu(false);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=this._innerdataset.getColumn(_b[_d].datarow,this.userdatacolumn);if(_e){_b[_d].userdata=_e;}}}};_pMenu.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pMenu._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pMenu.getInnerDataset=function(){return this._innerdataset;};_pMenu.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pMenu.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){var _c=this._callbackFromDataset;_a._setEventHandler("onrowposchanged",_c,this);_a._setEventHandler("oncolumnchanged",_c,this);_a._setEventHandler("onrowsetchanged",_c,this);}var _b=this.getElement();if(_b&&this.innerdataset){this._createMenu(true);this.beforeindex= -1;this.beforevalue="";this.beforeText="";}};_pMenu.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setRtlDirection(_a);}if(this._popupmenu){this._popupmenu._setRtlDirection(_a);}};_pMenu.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onlbuttondown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onlbuttondown._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onlbuttonup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onrbuttondown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onrbuttondown._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onrbuttonup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onrbuttonup._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmousedown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmousedown._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseenter",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmouseenter._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=new nexacro.MenuMouseEventInfo(this,"onmouseleave",_l.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this._last_mouseleave_iteminfo.level,this._last_mouseleave_iteminfo.index,this._last_mouseleave_iteminfo.bindindex);return this.onmouseleave._fireUserEvent(this,_m);}return false;};_pMenu.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmousemove",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_l.level,_m.index,_m._bindindex);return this.onmousemove._fireUserEvent(this,_n);}return false;};_pMenu.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=_m._overedobj||_m;var _p=new nexacro.MenuDragEventInfo(this,"ondrag",_l.id,_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_m.level,_o.index,_o._bindindex);return [this.ondrag._fireUserEvent(this,_p),this,_m,_n,_p.userdata];}return [false];};_pMenu.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondrop",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.level,_q.index,_q._bindindex);return this.ondrop._fireUserEvent(this,_r);}return false;};_pMenu.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragenter",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.level,_q.index,_q._bindindex);return this.ondragenter._fireUserEvent(this,_r);}return false;};_pMenu.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=new nexacro.MenuDragEventInfo(this,"ondragleave",refer_comp.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,this._last_mouseleave_iteminfo.level,this._last_mouseleave_iteminfo.index,this._last_mouseleave_iteminfo.bindindex);return this.ondragleave._fireUserEvent(this,_q);}return false;};_pMenu.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragmove",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.level,_q.index,_q._bindindex);return this.ondragmove._fireUserEvent(this,_r);}return false;};_pMenu.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._popupmenu_find(this);var _h=this._item_find(_g);var _i=this._popupmenu_visible(this);var _j=this._items;var _k=_h.length-1;var _l=_j.length-1;var _m=nexacro.Event;var _n=this._getRootComponent(this);switch(_a){case _m.KEY_TAB:if(!_i){this._item_focus(_j[this._previousitem],false);if(!_d&&this._menuitemindex==_l||_d&&this._menuitemindex<0){this._want_tab=false;this._previousitem=0;this._menuitemindex= -1;}else{if(_d){this._menuitemindex-- ;}else{this._menuitemindex++ ;}if(_j[this._menuitemindex]){if(nexacro._enableaccessibility){this._focus_obj=_j[this._menuitemindex];}this._previousitem=this._menuitemindex;this._menuitemonmouseenter=_j[this._menuitemindex];this._item_focus(_j[this._menuitemindex],true);}else{if(nexacro._enableaccessibility){this._focus_obj=this;}this._want_tab=false;this._previousitem=0;this._menuitemindex= -1;}}this._getWindow()._keydown_element._event_stop=true;return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);break;}else{if(this._popupitemindex> -1&&this._popupitemindex<=_k){this._item_focus(_h[this._popupitemindex],false);}if(_d){this._popupitemindex-- ;}else{this._popupitemindex++ ;}if(this._popupitemindex>_k){if(_i){if(_g.parent instanceof nexacro.PopupMenu){this._popupitemindex=_g.parent._previousitem+1;var _h=_g.parent._items;_g._closePopup();if(_h.length-1<this._popupitemindex){this._popupitemindex=_k;}this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else{this._item_focus(_j[this._previousitem],false);this._popupitemindex= -1;this._menuitemindex++ ;_g._closePopup();if(_j[this._menuitemindex]){if(nexacro._enableaccessibility){this._focus_obj=_j[this._menuitemindex];}this._previousitem=this._menuitemindex;this._item_focus(_j[this._menuitemindex],true);}else{this._want_tab=false;this._previousitem=0;this._menuitemindex= -1;this.parent._last_focused=this;}}}else{this._popupitemindex= -1;this._menuitemindex++ ;_g._closePopup();if(nexacro._enableaccessibility){this._focus_obj=_j[this._menuitemindex];}this._previousitem=this._menuitemindex;this._item_focus(_j[this._menuitemindex],true);}}else{if(this._popupitemindex<0){if(_g.parent instanceof nexacro.Menu){_g._closePopup();this._previousitem=this._menuitemindex;this._item_focus(_j[this._menuitemindex],true);}else{this._popupitemindex=_g.parent._previousitem-1;var _h=_g.parent._items;_g._closePopup();this._item_focus(_h[this._popupitemindex],true);}}else{this._item_focus(_h[this._popupitemindex],true);}}this._getWindow()._keydown_element._event_stop=true;break;}default:break;}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pMenu.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._popupmenu_find(this);var _h=this._item_find(_g);var _i=this._popupmenu_visible(this);var _j=this._items;if(_j[this._menuitemindex]){var _n=this._popupmenuitem_extend(_j[this._menuitemindex]);}if(_h[this._popupitemindex]){var _o=this._popupmenuitem_extend(_h[this._popupitemindex]);}var _k=_h.length-1;var _l=_j.length-1;var _m=nexacro.Event;if(nexacro._enableaccessibility){switch(_a){case _m.KEY_UP:if(this._focus_obj instanceof nexacro.Menu){this._menuitemindex= -1;var _p=this.parent.getPrevAccessibilityComponent(_g);_p._setFocus(false);}else if(this._focus_obj instanceof nexacro.PopupMenuItem){_h=this._item_find(_g);this._item_focus(_h[this._popupitemindex],false);this._popupitemindex-- ;if(this._popupitemindex<0){this._popupitemindex=_k;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else if(this._focus_obj instanceof nexacro.MenuItem){if(_i){this._showPopup(this._focus_obj);_h=this._item_find(_g);this._item_focus(_h[this._popupitemindex],false);this._popupitemindex-- ;if(this._popupitemindex<0){this._popupitemindex=_k;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else{this._focus_obj=_g;this._item_focus(this._focus_obj);}}break;case _m.KEY_DOWN:if(this._focus_obj instanceof nexacro.Menu){this._menuitemindex=0;this._focus_obj=_j[this._menuitemindex];this._item_focus(this._focus_obj,true);}else if(this._focus_obj instanceof nexacro.PopupMenuItem){_h=this._item_find(_g);this._item_focus(_h[this._popupitemindex],false);this._popupitemindex++ ;if(this._popupitemindex>_k){this._popupitemindex=0;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else if(this._focus_obj instanceof nexacro.MenuItem){if(_n==false){var _q=this._focus_obj;this._showPopup(_q);_h=this._item_find(_g);this._previousitem=this._menuitemindex;_i=true;}if(_i){this._item_focus(_h[this._popupitemindex],false);this._popupitemindex++ ;if(this._popupitemindex>_k){this._popupitemindex=0;}this._focus_obj=this._menuitemonmouseenter=_h[this._popupitemindex];if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){nexacro.OnceCallbackTimer.callonce(this,function(){this._item_focus(this._focus_obj,true);});}else{this._item_focus(this._focus_obj,true);}}}break;case _m.KEY_LEFT:if(_i){this._previousitem=this._menuitemindex;}else{this._menuitemindex-- ;this._previousitem=this._menuitemindex;}if(this._menuitemindex<0){this._menuitemindex=_l;}if(_i){if(_g.parent instanceof nexacro.PopupMenu){this._item_focus(_h[this._popupitemindex],false);this._popupitemindex=_g.parent._previousitem;var _h=_g.parent._items;_g._closePopup();this._focus_obj=_h[this._popupitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}else{this._previousitem-- ;if(this._previousitem<0){this._previousitem=_l;}this._menuitemindex=this._previousitem;var _n=this._popupmenuitem_extend(_j[this._menuitemindex]);this.on_notify_menuitem_onmouseenter(_j[this._menuitemindex]);this._popupitemindex=0;if(_n){this._focus_obj=_j[this._menuitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}else{var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._item_focus(this,false);this._focus_obj=_s[this._popupitemindex];this._menuitemonmouseenter=this._focus_obj;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){nexacro.OnceCallbackTimer.callonce(this,function(){this._item_focus(this._focus_obj,true);});}else{this._item_focus(this._focus_obj,true);}}}}else{_g._previousitem=this._menuitemindex;this._focus_obj=_j[this._menuitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}break;case _m.KEY_RIGHT:if(_i){this._popupitemLR++ ;}else{this._menuitemindex++ ;this._previousitem=this._menuitemindex;}if(this._menuitemindex>_l){this._menuitemindex=0;}if(!_n&&_i==true){if(this._popupitemindex== -1){this._popupitemindex=0;}var _o=this._popupmenuitem_extend(_h[this._popupitemindex]);if(_o){this._popupitemLR=0;this._menuitemindex++ ;if(this._menuitemindex>_l){this._menuitemindex=0;}this.on_notify_menuitem_onmouseenter(_j[this._menuitemindex]);var _n=this._popupmenuitem_extend(_j[this._menuitemindex]);if(_n){this._focus_obj=_j[this._menuitemindex];this._item_focus(this._focus_obj,true);}else{var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._item_focus(this,false);this._popupitemindex=0;this._focus_obj=_s[this._popupitemindex];if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){nexacro.OnceCallbackTimer.callonce(this,function(){this._item_focus(this._focus_obj,true);});}else{this._item_focus(this._focus_obj,true);}}}else{_g.on_notify_menuitem_onmouseenter(_h[this._popupitemindex]);var _s=this._item_find(_g);this._item_focus(this,false);this._popupitemindex=0;this._focus_obj=_s[this._popupitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}}else{this._focus_obj=_j[this._menuitemindex];this._menuitemonmouseenter=_j[this._menuitemindex];this._item_focus(this._focus_obj,true);}break;case _m.KEY_ENTER:if(this._menuitemonmouseenter){if(_g instanceof nexacro.Menu){_g.on_notify_menuitem_onclick(this._menuitemonmouseenter);}else{var _r=this._menuitemonmouseenter.parent;_r.on_notify_menuitem_onclick(this._menuitemonmouseenter);}}break;case _m.KEY_ESC:if(_i){this._popupitemindex= -1;_g._closePopup();var _h=_g.parent._items[_g.parent._previousitem];this._item_focus(_h,false);this._focus_obj=_h;this._item_focus(_h,true);}break;default:break;}}else{switch(_a){case _m.KEY_UP:if(this._menuitemindex> -1){if(_i){this._popupitemindex-- ;if(this._popupitemindex<0){this._popupitemindex=_k;}this._menuitemonmouseenter=_h[this._popupitemindex];if(this._popupitempreviousindex> -1){this._item_focus(_h[this._popupitempreviousindex],false);}this._item_focus(_h[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}break;case _m.KEY_DOWN:if(this._menuitemindex> -1){if(!_n){if(_n==false&&!this._popupmenu){this.on_notify_menuitem_onlbuttondown(_j[this._menuitemindex]);this._previousitem=this._menuitemindex;}else if(_i==true){this._popupitemindex++ ;if(this._popupitemindex>_k){this._popupitemindex=0;}this._menuitemonmouseenter=_h[this._popupitemindex];if(this._popupitempreviousindex> -1){this._item_focus(_h[this._popupitempreviousindex],false);}this._item_focus(_h[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else if(_i==false){this.on_notify_menuitem_onlbuttondown(_j[this._menuitemindex]);this._popupitemindex= -1;}}}break;case _m.KEY_LEFT:if(_i){this._previousitem=this._menuitemindex;}else{this._menuitemindex-- ;}if(this._menuitemindex<0){this._menuitemindex=_l;}if(_i){if(_g.parent instanceof nexacro.PopupMenu){this._popupitemindex=_g.parent._previousitem;var _h=_g.parent._items;_g._closePopup();this._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}else{this._previousitem-- ;if(this._previousitem<0){this._previousitem=_l;}this._menuitemindex=this._previousitem;var _n=this._popupmenuitem_extend(_j[this._menuitemindex]);this.on_notify_menuitem_onmouseenter(_j[this._menuitemindex]);this._item_focus(_j[this._menuitemindex],true);this._popupitemindex=0;if(_n){this._menuitemonmouseenter=_j[this._menuitemindex];this._item_focus(_j[this._menuitemindex],true);}else{var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}}else{this._menuitemonmouseenter=_j[this._menuitemindex];if(this._previousitem> -1){this._item_focus(_j[this._previousitem],false);}this._item_focus(_j[this._menuitemindex],true);this._previousitem=this._menuitemindex;}break;case _m.KEY_RIGHT:if(_i){this._popupitemLR++ ;}else{this._menuitemindex++ ;}if(this._menuitemindex>_l){this._menuitemindex=0;}if(!_n&&_i==true){if(this._popupitemindex== -1){this._popupitemindex=0;var _o=this._popupmenuitem_extend(_h[this._popupitemindex]);}if(_o){this._popupitemLR=0;this._menuitemindex++ ;if(this._menuitemindex>_l){this._menuitemindex=0;}this._previousitem=this._menuitemindex;var _n=this._popupmenuitem_extend(_j[this._menuitemindex]);this.on_notify_menuitem_onmouseenter(_j[this._menuitemindex]);this._item_focus(_j[this._menuitemindex],true);if(_n){this._menuitemonmouseenter=_j[this._menuitemindex];this._item_focus(_j[this._menuitemindex],true);}else{var _r=this._popupmenu_find(this);var _s=this._item_find(_r);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}else{_g._previousitem=this._popupitemindex;_g._closeflag=true;_g._showPopup(_h[this._popupitemindex]);var _s=this._item_find(_g);this._popupitemindex=0;this._menuitemonmouseenter=_s[this._popupitemindex];this._item_focus(_s[this._popupitemindex],true);this._popupitempreviousindex=this._popupitemindex;}}else{this._menuitemonmouseenter=_j[this._menuitemindex];if(this._previousitem> -1){this._item_focus(_j[this._previousitem],false);}this._item_focus(_j[this._menuitemindex],true);this._previousitem=this._menuitemindex;}break;case _m.KEY_ENTER:if(this._menuitemonmouseenter){if(_g instanceof nexacro.Menu){_g.on_notify_menuitem_onclick(this._menuitemonmouseenter);}else{var _r=this._menuitemonmouseenter.parent;_r.on_notify_menuitem_onclick(this._menuitemonmouseenter);}}break;case _m.KEY_ESC:if(_i){_g._closePopup();var _h=_g.parent._items[_g.parent._previousitem];this._item_focus(_h,true);}break;default:break;}}return nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pMenu._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,false);}};_pMenu._setFocus=function(_a,_b,_c){var _d=this.setFocus(_a);var _e=this._items;var _f=_e.length-1;if(_f>0){if(_b>=2){this._focus_obj=this;this._menuitemindex= -1;}else{if(_b==0){this._previousitem=this._menuitemindex=0;}else if(_b==1){this._previousitem=this._menuitemindex=_f;}this._focus_obj=_e[this._menuitemindex];this._menuitemonmouseenter=this._focus_obj;this._item_focus(this._focus_obj,true);}}else{if(nexacro._enableaccessibility){this._focus_obj=this;}this._previousitem=0;this._menuitemindex= -1;this._do_defocus(this._last_focused,true);this._on_focus(true);}return _d;};_pMenu.on_notify_menuitem_onmouseleave=function(_a,_b){if(_a.selected||(this._popupmenu&&this._popupmenu._isVisible())){this._item_focus(_a,true);}this._last_mouseleave_iteminfo.index=_a.index;this._last_mouseleave_iteminfo.bindindex=_a._bindindex;this._last_mouseleave_iteminfo.level=_a.parent.level;};_pMenu.on_notify_menuitem_onmouseenter=function(_a,_b){var _c=this._popupmenu;this._menuitemonmouseenter=_a;this._previousitem=_a.index;if(_c){if(_c._is_popup()){if(this.beforeindex!=_a.index){this.beforeindex=_a.index;}_c.cancelPopup();this._showPopup(_a);this._menuitemindex=_a.index;this._popupitemindex= -1;}}var _d=this._items;this._menuitemindex=_a.index;for(var _e=0;_e<_d.length;_e++ ){if(!_b||(_d[_e].index!=this._menuitemindex&&_d[_e].index!=this._clickitemindex)){this._item_focus(_d[_e],false);}}this._item_focus(_d[_a.index],true,true);this._previousitem=_a.index;return true;};_pMenu.on_notify_menuitem_onclick=function(_a,_b){if(_a.enable==false||this._getPopupType()=="none"){return;}if(nexacro._enableaccessibility){this._want_tab=true;}if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _c=this._getRootComponent(_a);if(_a.notexpand){this.on_fire_onitemclick(_c,"onmenuclick",_a.id,_a.userdata,_a.index,_a.parent.level);}var _d=this._items[this._menuitemindex];if(_d){if(_d==_a&&_b){this._item_focus(_d,true,true);}else{this._item_focus(_d,false);}}else{this._item_focus(this._items[this._previousitem],false);this._item_focus(this._items[this._clickitemindex],false);}this._menuitemindex= -1;this._menuitemonmouseenter=null;this._popupitemLR= -1;this._popupitemindex= -1;this._popupitempreviousindex=0;this._previousitem=0;this._clickitemindex=_a.index;}this._previousitem=_a.index;};_pMenu.on_notify_menuitem_onlbuttondown=function(_a,_b){if(!(this._find_lastFocused() instanceof nexacro.Menu)){this._setFocus(false);}this._item_focus(this._items[this._previousitem],false);this._item_focus(this._items[this._clickitemindex],false);var _c=this._popupmenu;if(_c){if(_c._is_popup()){if(this.beforeindex!=_a.index){this.beforeindex=_a.index;}_c.cancelPopup();this._previousitem=this._menuitemindex=_a.index;this._popupitemindex= -1;}}else{this._menuitemonmouseenter=_a;this._previousitem=this._menuitemindex=_a.index;}if(!_a.notexpand){this._showPopup(_a);this._is_menu_click=true;this._menuitemindex=_a.index;}this._item_focus(_a,true);};_pMenu.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f){if(this.onmenuclick&&this.onmenuclick._has_handlers){var _g=new nexacro.MenuClickEventInfo(_a,_b,_c,_d,_e,_f);this.onmenuclick._fireEvent(this,_g);}};_pMenu.cancelPopup=function(){var _a=this._popupmenu;if(_a){if(_a.isPopup()){_a.cancelPopup();}if(this._is_menu_click){this._is_menu_click=false;}}return true;};_pMenu.isPopup=function(){return this._isPopupVisible();};_pMenu.trackPopup=function(_a,_b,_c,_d){_a=parseInt(_a);this._track_capture=_d=(_d===false||_d=="false")?false:true;var _e=this.on_find_CurrentStyle_popupitemalign();var _f=this._items;if(_f){this._showPopup(_f[_a],_b,_c,_d);this._menuitemindex=_f[_a].index;return true;}return false;};_pMenu._calcMenuItem=function(){var _a=this._innerdataset;var _b=0;var _c=0;var _d=_a.getRowCount();var _e,_f,_g,_h,_i,_j;var _k=this._buttonRect;if(_k[0]){for(var _n=0;_n<this._scrollIndex;_n++ ){_b-=_k[_n].width;}if(this._is_spin_visible){if(this._scrollIndex==0){_b=this._spin_width;}}}var _l=0;var _m=false;this._item_total_width=0;for(var _n=0;_n<_d;_n++ ){_f=_a.getColumn(_n,this.idcolumn);_g=_a.getColumn(_n,this.levelcolumn);if(_g==0){_e=_a.getColumn(_n,this.captioncolumn);size=this._getTextSize(_e);_j=this.on_find_CurrentStyle_itemborder(this._pseudo);_h=this.on_find_CurrentStyle_itempadding(this._pseudo);_i=Math.ceil(size[0])+(_j?_j._left_width+_j._right_width:0)+(_h?_h.left+_h.right:0);if(this._is_spin_visible&&(_b+_i>this._client_width-this._spin_width)){_b=this._client_width;}var _o={left:0,top:0,right:0,bottom:0,width:0};_o.left=_b;_o.top=0;_o.right=_b+_i;_o.bottom=this._client_height;_o.width=_i;_b+=_i;this._item_total_width+=_i;if(!_m&&this._is_spin_visible&&this._scrollIndex>0&&_b>=0){_m=true;_b+=this._spin_width;}_k[_l]=_o;_l++ ;}}};_pMenu._calcSpinButton=function(){if(!this.spindownbutton&&!this.spinupbutton){return;}var _a=this._buttonRect;var _b=_a.length;if(_b>0&&(this._item_total_width>this._client_width)){this._is_spin_visible=true;this.spinupbutton.set_visible(true);this.spinupbutton.move(0,0,this._spin_width,this._client_height);var _c=this._spin_width;var _d=this._client_width;this.spindownbutton.set_visible(true);this.spindownbutton.move(_d-_c,0,_c,this._client_height);this._scrollIndex=this._scrollIndex_tmp;var _e=0;for(var _f=this._scrollIndex;_f<_b;_f++ ){if(_a[_f].right>(this._client_width-(this._spin_width*2))){break;}_e+=_a[_f].width;}if(_f==_b){for(var _g=this._scrollIndex-1;_g>=0;_g-- ){_e+=_a[_g].width;if(_e>(this._client_width-(this._spin_width*2))){break;}-- this._scrollIndex;}this._scrollIndex_tmp=this._scrollIndex;}}else{this._scrollIndex=0;this._is_spin_visible=false;this.spinupbutton.set_visible(false);this.spindownbutton.set_visible(false);}};_pMenu._updateMenuItemPosition=function(){var _a=this._buttonRect;var _b=this._items;var _c=_b?_b.length:0;for(var _d=0;_d<_c;_d++ ){_b[_d].move(_a[_d].left,_a[_d].top,_a[_d].width,_a[_d].bottom);}};_pMenu._createMenu=function(_a){var _b=this.getElement();if(_b){this._destroySpinButton();this._createSpinbutton();this._deleteMenu();var _c=this._innerdataset;if(_c&&this.captioncolumn&&this.captioncolumn&&this.idcolumn){var _d=0;var _e=_c.getRowCount();var _f,_g,_h,_i,_j,_k,_l,_m,_n,_o;var _p;var _q=this._buttonRect;this._calcMenuItem();this._calcSpinButton();this._calcMenuItem();var _r=0;for(var _s=0;_s<_e;_s++ ){_h=_c.getColumn(_s,this.hotkeycolumn);_i=_c.getColumn(_s,this.idcolumn);_j=_c.getColumn(_s,this.levelcolumn);if(_h&&(_s==_e-1||_j>=_c.getColumn(_s+1,this.levelcolumn))){this._set_hotkey(_i,_h);}if(_j==0){_f=_c.getColumn(_s,this.captioncolumn);_g=_c.getColumn(_s,this.enablecolumn);_k=_c.getColumn(_s,this.userdatacolumn);var _p=new nexacro.MenuItem("item","absolute",_q[_r].left,0,_q[_r].width,_q[_r].bottom,null,null,this);_p._is_subcontrol=true;_p.userdata=_k;_p._bindindex=_s;_p.index=_d++ ;_p.datarow=_s;_p.id=_i?_i:"";if(_f){_p.set_text(_f);}_p._setEventHandler("onlbuttondown",this.on_notify_menuitem_onlbuttondown,this);_p._setEventHandler("onlbuttonup",this.on_notify_menuitem_onclick,this);if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_p._setEventHandler("onmouseenter",this.on_notify_menuitem_onmouseenter,this);_p._setEventHandler("onmouseleave",this.on_notify_menuitem_onmouseleave,this);}if(_s==_c.getRowCount()-1){_p.notexpand=true;}else{_j=_c.getColumn(_s+1,this.levelcolumn);if(_j<=this.level){_p.notexpand=true;}}_p.set_enable(_g==false||_g=="false"?false:true);_p.createComponent();this._items.push(_p);_p=null;_r++ ;}}}}};_pMenu._deleteMenu=function(){var _a=this._hot_key_list;var _b=_a.length;var _c=this._getMainForm();for(var _e=0;_e<_b;_e++ ){nexacro._unregisterHotkeyComp(_c,this,_a[_e].key);}this._hot_key_list=[];var _d=this._items;if(_d){var _b=_d.length;for(var _e=0;_e<_b;_e++ ){_d[_e].destroy();_d[_e]=null;}this._items=[];}};_pMenu._createSpinbutton=function(){if(!this.spinupbutton){this.spinupbutton=new nexacro.ImageButtonCtrl("decbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton.createComponent();this.spinupbutton.set_visible(false);this.spinupbutton._setEventHandler("onclick",this.on_notify_spinup_onclick,this);this.spinupbutton.on_created();this._is_spin_visible=false;}if(!this.spindownbutton){this.spindownbutton=new nexacro.ImageButtonCtrl("incbutton",this.position,0,0,0,0,null,null,this);this.spindownbutton.createComponent();this.spindownbutton.set_visible(false);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindown_onclick,this);this.spindownbutton.on_created();this._is_spin_visible=false;}};_pMenu._destroySpinButton=function(){if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}};_pMenu._getTextSize=function(_a){var _b=this.on_find_CurrentStyle_font(this._pseudo)||nexacro.Component._default_font;return nexacro._getTextSize2(_a,_b);};_pMenu._loaded_expImage=function(_a,_b,_c){this._expImage_width=_b;this._expImage_height=_c;};_pMenu._loaded_chkImage=function(_a,_b,_c){this._chkImage_width=_b;this._chkImage_height=_c;};_pMenu._load_image=function(_a,_b){var _c=this._control_element;if(_c){var _d=(_a&&_a!="")?_a._value:"";if(_d){_d=nexacro._getURIValue(_d);_d=nexacro._getImageLocation(_d,this._getRefFormBaseUrl());var _e;if(_b){_e=nexacro._getImageSize(_d,this._loaded_expImage,this);if(_e){this._expImage_width=_e.width;this._expImage_height=_e.height;}}else{_e=nexacro._getImageSize(_d,this._loaded_chkImage,this);if(_e){this._chkImage_width=_e.width;this._chkImage_height=_e.height;}}}}};_pMenu._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_tab;var _f=this._want_arrow;this._want_tab=true;this._want_arrow=nexacro._enableaccessibility;return {want_tab:_e,want_return:true,want_escape:false,want_chars:false,want_arrows:_f};};_pMenu._showPopup=function(_a,_b,_c,_d){if(this._innerdataset&&this.levelcolumn&&this.captioncolumn&&this.idcolumn&&_a.notexpand==false){var _e=this._popupmenu;if(_e==null){_e=this._popupmenu=new nexacro.PopupMenuCtrl("popupmenu","absolute",0,0,0,0,null,null,this);_e._is_subcontrol=true;_e._scrollIndex=0;_e._scrollIndex_tmp=0;_e.level=1;_e.index=_a.index;_e.datarow=_a.datarow+1;_e.selfpopup=false;_e.setInnerDataset(this._innerdataset);_e.set_captioncolumn(this.captioncolumn);_e.set_checkboxcolumn(this.checkboxcolumn);_e.set_hotkeycolumn(this.hotkeycolumn);_e.set_idcolumn(this.idcolumn);_e.set_levelcolumn(this.levelcolumn);_e.set_userdatacolumn(this.userdatacolumn);_e.set_enablecolumn(this.enablecolumn);_e.style.set_checkboximage(this.currentstyle.checkboximage);_e.style.set_expandimage(this.currentstyle.expandimage);_e._track_capture=_d;_e.createComponent();_e._setRtlDirection(this._rtldirection);_e._setEventHandler("oncloseup",this.on_notify_onclosepopup,this);_e.style.popuptype=this.style.popuptype;_e._trackPopup(_a,"vertical",_b,_c);}else{_e.datarow=_a.datarow+1;_e.style.popuptype=this.style.popuptype;_e._track_capture=_d;_e._trackPopup(_a,"vertical",_b,_c);}if(_e._is_popup()){var _f=this._getWindow();if(_f){if(this._track_capture){_f._setCaptureLock(this,true,false);}else{_f._releaseCaptureLock();}}this._clickitemindex=_a.index;}}};_pMenu._isPopupVisible=function(){var _a=this._popupmenu;return _a?_a._is_popup():false;};_pMenu._callbackFromDataset=function(_a,_b){this._createMenu();};_pMenu._closePopup=function(){var _a=this._popupmenu;if(this._is_menu_click){this._is_menu_click=false;}if(_a){_a.cancelPopup();var _b=this._getWindow();if(_b&&this._track_capture){_b._releaseCaptureLock(this);}}this._popupitemindex= -1;};_pMenu.on_fire_onkillfocus=function(_a,_b){if(!(_b&&_b.parent&&(_b.parent instanceof nexacro.PopupMenu||_b.parent instanceof nexacro.PopupMenuCtrl))){this._closePopup();}var _c=this._items;if(_c){this._item_focus(_c[this._previousitem],false);this._item_focus(_c[this._clickitemindex],false);}_c=null;this._clickitemindex= -1;nexacro.Component.prototype.on_fire_onkillfocus.call(this,_a,_b);};_pMenu.on_notify_onclosepopup=function(_a,_b){var _c=this._getWindow();if(_c&&this._track_capture){_c._releaseCaptureLock(this);}};_pMenu.on_notify_spinup_onclick=function(_a,_b){this._closePopup();this._spinup();};_pMenu.on_notify_spindown_onclick=function(_a,_b){this._closePopup();this._spindown();};_pMenu._spinup=function(){if(this._scrollIndex>0){this._scrollIndex-- ;this._scrollIndex_tmp=this._scrollIndex;this._calcMenuItem();this._updateMenuItemPosition();}};_pMenu._spindown=function(){var _a=this._buttonRect;var _b=_a?_a.length:0;if(_b==0){return;}if(_a[_b-1].right>this._client_width){this._scrollIndex++ ;this._scrollIndex_tmp=this._scrollIndex;this._calcMenuItem();this._updateMenuItemPosition();}};_pMenu._on_hotkey=function(_a,_b,_c,_d){this.setFocus();var _e=this._hot_key_list;var _f=_e.length;var _g=null;var _h=null;for(var _i=0;_i<_f;_i++ ){_g=_e[_i].key;if(_g._keycode==_a){_h=_g._modifierkey;if(_b==((_h&0x02)==0x02)&&_c==((_h&0x01)==0x01)&&_d==((_h&0x04)==0x04)){this.on_fire_onitemclick(this,"onmenuclick",_e[_i].id,"",_e[_i].index,_e.level);break;}}}};_pMenu._set_hotkey=function(_a,_b){var _c=this.hotkey;this._hotkey=null;this.set_hotkey(_b);var _d=this._hotkey;this.hotkey=_c?_c:null;this._hotkey=_c;var _e={id:_a,key:_d};this._hot_key_list.push(_e);};_pMenu._item_focus=function(_a,_b,_c){if(_a){if(nexacro._enableaccessibility){if(_b){if(_a instanceof nexacro.PopupMenuItem){_a._on_focus(false);}else{_a._on_focus(true);}}else{var _d=this._getWindow();if(_d){_d._removeFromCurrentFocusPath(_a,true);}}}if(_a.on_apply_mouseover){_a.selected=(_c)?_a.selected:_b;_a.on_apply_mouseover(_b,_c);}}};_pMenu._item_find=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return _a._items;}return _a._popupmenu._items;};_pMenu._popupmenu_visible=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return false;}return true;};_pMenu._popupmenu_find=function(_a){var _b=_a;while(_b){if(_b._popupmenu===null||_b._popupmenu.visible==false){break;}var _b=_b._popupmenu;}return _b;};_pMenu._popupmenuitem_extend=function(_a){return _a.notexpand;};_pMenu._popupmenuitem_find=function(_a){var _b=_a._overedobj;while(_b){if(_b._overedobj===null){break;}var _b=_b._overedobj;}return _b;};delete _pMenu;nexacro.SpinButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pSpinButtonCtrl=nexacro.SpinButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.SpinButtonCtrl);_pSpinButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.spinedit;if(_c){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};delete _pSpinButtonCtrl;_pSpinButtonCtrl=null;nexacro.MenuCtrl=function(_a,_b,_c,_d,_e,_f){nexacro.Menu.call(this,_a,_b,_c,_d,_e,_f);this._is_subcontrol=true;};var _pMenuCtrl=nexacro.MenuCtrl.prototype=nexacro._createPrototype(nexacro.Menu,nexacro.MenuCtrl);_pMenuCtrl._type_name="MenuControl";nexacro._setForControlStyleFinder(_pMenuCtrl);delete _pMenuCtrl;};if(!nexacro.PopupMenuItem){nexacro.PopupMenuItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MenuItem.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.chkimgctrl=null;this.imgctrl=null;this.expimgelem=null;this.gap=5;this.chkwidth=0;this.textwidth=0;this.hotkeywidth=0;this.expwidth=0;this.expheight=0;this.index=0;this.datarow=0;this.notexpand=false;this.value=false;this.expandimage="";this.checkimage="";this.id="";this.enable=true;this.icon="";this.userdata=null;this.buttonalign="";this._txt_elem=null;this._hotkey_txtelem=null;this._hotkey_string="";this._accessibility_role="menuitem";};var _pPopupMenuItem=nexacro._createPrototype(nexacro.MenuItem,nexacro.PopupMenuItem);nexacro.PopupMenuItem.prototype=_pPopupMenuItem;_pPopupMenuItem._type_name="PopupMenuItem";_pPopupMenuItem.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_itemborder(_a);};_pPopupMenuItem.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_itembackground(_a);};_pPopupMenuItem.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_itembordertype(_a);};_pPopupMenuItem.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_itemgradation(_a);};_pPopupMenuItem.on_find_CurrentStyle_padding=function(_a){return this.parent.on_find_CurrentStyle_itempadding(_a);};_pPopupMenuItem.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_itemaccessibility(_a);};_pMenuItem.on_find_CurrentStyle_rtlimagemirroring=function(_a){return this.parent.on_find_CurrentStyle_rtlimagemirroring(_a);};_pPopupMenuItem.on_apply_style_color=function(_a){if(this._txt_elem){this._txt_elem.setElementColor(_a);}if(this._hotkey_txtelem){this._hotkey_txtelem.setElementColor(_a);}};_pPopupMenuItem.on_apply_style_font=function(_a){if(this._txt_elem){this._txt_elem.setElementFont(_a);}if(this._hotkey_txtelem){this._hotkey_txtelem.setElementFont(_a);}};_pPopupMenuItem.on_apply_style_accessibility=function(_a){var _b=this._control_element;if(_b&&_a){_b.setAccessibility(_a);this._updateAccessibilityLabel(this);}};_pPopupMenuItem._getWindowPosition=function(){return nexacro.Component.prototype._getWindowPosition.call(this);};_pPopupMenuItem.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this.checkimage){var _c=this.chkimgctrl=new nexacro.ImageViewerCtrl("chkimg","absolute",0,0,0,0,null,null,this);this.on_apply_checkimage();_c.createComponent();}else if(this.icon){this._load_image(this.icon,"icon");var _d=this.imgctrl=new nexacro.ImageViewerCtrl("iconimg","absolute",0,0,0,0,null,null,this);this.on_apply_icon();_d.createComponent();}if(this.text){var _e=this._txt_elem=new nexacro.TextBoxElement(_a);_e.setElementFont(_b.font);_e.setElementColor(_b.color);}if(this._hotkey_string){var _f=this._hotkey_txtelem=new nexacro.TextBoxElement(_a);_f.setElementFont(_b.font);_f.setElementColor(_b.color);}var _g=this.expandimage;if(_g){this._load_image(_g._value);}}};_pPopupMenuItem.on_created_contents=function(){var _a=this._txt_elem;var _b=this._hotkey_txtelem;var _c=this.chkimgctrl;var _d=this.imgctrl;var _e=this.expimgelem;if(_c){_c.on_created();}if(_d){_d.on_created();}if(_e){_e.create();}if(_b){this.on_apply_hotkeytext();_b.create();}if(_a){_a.create();}};_pPopupMenuItem.on_destroy_contents=function(){if(this.imgctrl){this.imgctrl.destroy();this.imgctrl=null;}if(this.chkimgctrl){this.chkimgctrl.destroy();this.chkimgctrl=null;}if(this._txt_elem){this._txt_elem.destroy();this._txt_elem=null;}if(this._hotkey_txtelem){this._hotkey_txtelem.destroy();this._hotkey_txtelem=null;}if(this.expimgelem){this.expimgelem.destroy();this.expimgelem=null;}};_pPopupMenuItem.on_change_containerRect=function(_a,_b){var _c=this._txt_elem,_d=this._hotkey_txtelem;var _e=0,_f=0;if(this.parent&&this.parent.text_height){_e=this.parent.text_height;}if(this.parent){_f=this.parent.on_find_CurrentStyle_itemheight();}};_pPopupMenuItem._setValue=function(_a){if(this.value!=_a){this.value=_a;this.on_apply_value();}};_pPopupMenuItem.on_apply_value=function(){var _a=this.parent.on_find_CurrentStyle_checkboximage(this._pseudo);this._setCheckimage(_a);};_pPopupMenuItem._setIcon=function(_a){if(this.icon!=_a){this.icon=_a;this.on_apply_icon();}};_pPopupMenuItem.on_apply_icon=function(){if(this.imgctrl){this.imgctrl.set_image(this.icon);}};_pPopupMenuItem._setExpandimage=function(_a){if(this.expandimage!=_a){this.expandimage=_a;this.on_apply_expandimage();}};_pPopupMenuItem.on_apply_expandimage=function(){var _a=this.expimgelem;var _b=this.expandimage;if(_a){if(!this.notexpand){if(_b!=""){this._load_image(_b);}else{_a=new nexacro.TextBoxElement(control_elem);this.expimgelem=_a;_a.setElementText(">");_a.setElementFont(this.currentstyle.font);if(this._is_created){_a.create();}}}}};_pPopupMenuItem._setCheckimage=function(_a){if(this.checkimage!=_a){this.checkimage=_a;this.on_apply_checkimage();}};_pPopupMenuItem.on_apply_checkimage=function(){if(this.chkimgctrl){if(this._isChecked()==true){this.chkimgctrl.set_image(this.checkimage);}else{this.chkimgctrl.set_image("");}}};_pPopupMenuItem._setText=function(_a){if(_a!=this.text){this.text=_a;this.on_apply_text();}};_pPopupMenuItem.on_apply_text=function(){var _a=this._control_element;if(_a){var _b=this._txt_elem;if(!_b){_b=new nexacro.TextBoxElement(_a);this._txt_elem=_b;_b.setElementSize(this._width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);if(this._is_created){_b.create();}}if(this.text||this.text===""){_b.setElementText(this.text);}}};_pPopupMenuItem._setHotkey=function(_a){if(_a!=this._hotkey_string){this._hotkey_string=_a;this.on_apply_hotkeytext();}};_pPopupMenuItem.on_apply_hotkeytext=function(){var _a=this._control_element;if(_a){var _b=this._hotkey_txtelem;if(!_b){_b=new nexacro.TextBoxElement(_a);this._hotkey_txtelem=_b;_b.setElementSize(this._width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);if(this._is_created){_b.create();}}if(this._hotkey_string||this._hotkey_string===""){_b.setElementText(this._hotkey_string);}}};_pPopupMenuItem._setUserdata=function(_a){if(_a!=this.userdata){this.userdata=_a;}};_pPopupMenuItem.on_apply_mouseover=function(_a){if(_a){this._stat_change("normal","mouseover");}else{this._stat_change("normal","normal");}};_pPopupMenuItem.on_apply_style_rtlimagemirroring=function(_a){var _b=this._control_element;var _c=this.expimg;if(_b&&_a){_b.setElementImageMirror(_a);if(_c){_c.setElementImageMirror(_a);}}};_pPopupMenuItem.on_apply_prop_rtldirection=function(){var _a=this.getElement();var _b=this._rtldirection;var _c=this.expimg;if(_a){_a.setElementRtlDirection(_b);if(_c){_c.setElementImageMirror(null,true);}}};_pPopupMenuItem.on_apply_style_rtlimagemirroring=function(_a){var _b=this._control_element;var _c=this.expimg;if(_b&&_a){_b.setElementImageMirror(_a);if(_c){_c.setElementImageMirror(_a);}}};_pPopupMenuItem.on_apply_prop_rtldirection=function(){var _a=this.getElement();var _b=this._rtldirection;var _c=this.expimg;if(_a){_a.setElementRtlDirection(_b);if(_c){_c.setElementImageMirror(null,true);}}};_pPopupMenuItem._isChecked=function(){var _a=this.value;if(!!_a||_a.toString().toLowerCase()=="true"){return true;}return false;};_pPopupMenuItem._verticalAlign=function(_a){if(this.chkimgctrl){this.chkimgctrl.set_imagealign("center "+_a.toString());}};_pPopupMenuItem._load_image=function(_a){var _b=this._control_element;if(_b){if(_a){var _c=this.expimgelem;if(!_c){_c=new nexacro.ImageElement(_b);this.expimgelem=_c;_c.setElementImageUrl(_a);var _d=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);_c.setElementImageMirror(_d,true);if(this._is_created){_c.create();}}else{_c.setElementImageUrl(_a);}}}};_pPopupMenuItem._updateElementPositions=function(_a,_b,_c,_d){if(!this._is_created_contents){return;}var _e=this._txt_elem;if(_e){var _f=this._client_width;var _g=this._adjust_height;var _h=this._client_height;var _i=this.chkwidth,_j=this.expwidth,_k=this.expheight,_l=this.iconimgwidth;var _m="left",_n="middle";var _o="lefttext",_p="middle";var _q,_r,_s,_t;var _u=0,_v=_c;var _w=this.chkimgctrl;var _x=this.expimgelem,_y=this._hotkey_txtelem;_q=_i==0?_l:_i;_r=0;_s=_i+_l+_a;_t=_s+_b;if(_w){_w.move(0,0,_i,_h,null,null);}if(this.imgctrl){this.imgctrl.move(0,0,_l,_h,null,null);}if(!this.notexpand&&_x){var _z=this._convertLeftForRtlLayout((_f-_j),_j);_x.setElementPosition(_z,((_h-_k)/2)|0);_x.setElementSize(_j,_k);if(_y){_y.setElementVisible(false);}}else if(_y){_y.setElementVisible(true);_y.setElementPosition(_d,0);_y.setElementSize(_f,_h);_y.setElementAlignXY(_m,_n);_y.setElementPaddingXY(_s,_r,0,0);}if(_h<=_c){_e.setElementPosition(0,0);}_e.setElementSize(_f,_h);_e.setElementAlignXY(_m,_n);_e.setElementPaddingXY(_q,_r,0,0);}};_pPopupMenuItem._getWidth=function(){var _a=this.chkwidth;if(this.textwidth>0){_a+=(this.textwidth+this.gap);}if(this.hotkeywidth>0&&this.expwidth>0){var _b=Math.max(this.hotkeywidth,this.expwidth);_a+=(_b+this.gap);}else{if(this.hotkeywidth>0){_a+=(this.hotkeywidth+this.gap);}_a+=this.expwidth;}return _a;};_pPopupMenuItem._updateAccessibilityLabel=function(_a){var _b=this._getRootComponent(this);var _c=_b._innerdataset.getRowCount();_a._setAccessibilityInfoIndex(_a.datarow+1);_a._setAccessibilityInfoCount(_c);_a._setAccessibilityFlagHasPopup(_a.notexpand?false:true);};delete _pPopupMenuItem;}if(!nexacro.PopupMenu_Style){nexacro.PopupMenu_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);if(_a){this._target=_a;}};var _pPopupMenuStyle=nexacro.PopupMenu_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.PopupMenu_Style);eval(nexacro._createAlignAttributeEvalStr("_pPopupMenuStyle","itemalign"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","itemheight"));eval(nexacro._createBackgroundAttributeEvalStr("_pPopupMenuStyle","itembackground"));eval(nexacro._createBorderAttributeEvalStr("_pPopupMenuStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pPopupMenuStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pPopupMenuStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pPopupMenuStyle","itempadding"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","checkboximage"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","expandimage"));eval(nexacro._createAccessibilityAttributeEvalStr("_pPopupMenuStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pPopupMenuStyle","popuptype"));_pPopupMenuStyle.__custom_emptyObject=function(){this.itemalign=null;this.itemheight=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.itemaccessibility=null;this.popuptype=null;};_pPopupMenuStyle.__get_custom_style_value=function(){var _a="";var _b=this.itemalign;if(_b&&_b._value.length){_a+="itemalign:"+_b._value+"; ";}var _c=this.itemheight;if(_c&&_c._value.length){_a+="itemheight:"+_c._value+"; ";}var _d=this.itembackground;if(_d&&_d._value.length){_a+="itembackground:"+_d._value+"; ";}var _e=this.itemborder;if(_e&&_e._value.length){_a+="itemborder:"+_e._value+"; ";}var _f=this.itembordertype;if(_f&&_f._value.length){_a+="itembordertype:"+_f._value+"; ";}var _g=this.itemgradation;if(_g&&_g._value.length){_a+="itemgradation:"+_g._value+"; ";}var _h=this.itempadding;if(_h&&_h._value.length){_a+="itempadding:"+_h._value+"; ";}var _i=this.checkboximage;if(_i&&_i._value.length){_a+="checkboximage:"+_i._value+"; ";}var _j=this.expandimage;if(_j&&this.expandimage._value.length){_a+="expandimage:"+_j._value+"; ";}var _k=this.itemaccessibility;if(_k&&_k._value.length){_a+="itemaccessibility:"+_k._value+"; ";}var _l=this.popuptype;if(_l&&_l._value.length){_a+="itemaccessibility:"+_l._value+"; ";}return _a;};nexacro.PopupMenu_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemalign=null;this.itemheight=null;this.itembackground=null;this.itemborder=null;this.itembordertype=null;this.itemgradation=null;this.itempadding=null;this.checkboximage=null;this.expandimage=null;this.itemaccessibility=null;this.popuptype=null;};var _pPopupMenuCurrentStyle=nexacro.PopupMenu_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.PopupMenu_CurrentStyle);_pPopupMenuCurrentStyle.__custom_emptyObject=_pPopupMenuStyle.__custom_emptyObject;_pPopupMenuCurrentStyle.__get_custom_style_value=_pPopupMenuStyle.__get_custom_style_value;delete _pPopupMenuStyle;delete _pPopupMenuCurrentStyle;}if(!nexacro.PopupMenu){nexacro.MenuCloseUpEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"oncloseup";this.fromobject=_a;this.fromreferenceobject=_a;this.isselect=_c;};var _pMenuCloseUpEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuCloseUpEventInfo);nexacro.MenuCloseUpEventInfo.prototype=_pMenuCloseUpEventInfo;_pMenuCloseUpEventInfo._type_name="MenuCloseUpEventInfo";delete _pMenuCloseUpEventInfo;nexacro.MenuClickEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_b||"onmenuclick";this.id=_c;this.fromobject=this.fromreferenceobject=_a;this.index=_e;this.level=_f;this.userdata=_d;};var _pMenuClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MenuClickEventInfo);nexacro.MenuClickEventInfo.prototype=_pMenuClickEventInfo;_pMenuClickEventInfo._type_name="MenuClickEventInfo";delete _pMenuClickEventInfo;nexacro.PopupMenu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.datarow=0;this.level=0;this.selfpopup=true;this.beforeindex= -1;this.innerdataset="";this.autohotkey=false;this.captioncolumn="";this.checkboxcolumn="";this.enablecolumn="";this.hotkeycolumn="";this.iconcolumn="";this.idcolumn="";this.levelcolumn="";this.userdatacolumn="";this._popupmenu=null;this._hot_key_list=[];this._items=[];this._attached_comp=this;this._is_subcontrol=false;this._previousitem=0;this._popupitemindex= -1;this._popupitempreviousindex= -1;this._closeflag=true;this._want_tab=true;this._selected_itemindex= -1;this._last_mouseleave_iteminfo={bindindex: -1,index: -1,level: -1};this._iconImage_width=0;this._iconImage_height=0;this._innerdataset="";this._lineItems=[];this.spinupbutton=null;this.spindownbutton=null;this._spin_height=20;this._scrollIndex=0;this._buttonRect=[];this._buttonRect_elem=[];this._accessibility_role="menu";this._want_arrow=true;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onmenuclick":1,"onpopup":1,"onmousedown":1,"onmouseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oncloseup":1};};var _pPopupMenu=nexacro._createPrototype(nexacro.PopupComponent,nexacro.PopupMenu);nexacro.PopupMenu.prototype=_pPopupMenu;_pPopupMenu._type_name="PopupMenu";_pPopupMenu.on_create_custom_style=function(){return new nexacro.PopupMenu_Style(this);};_pPopupMenu.on_create_custom_currentStyle=function(){return new nexacro.PopupMenu_CurrentStyle();};_pPopupMenu.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_itemalign(_a);if(_e&&_b.itemalign!=_e){_b.itemalign=_e;this.on_apply_style_itemalign(_e);}var _f=this.on_find_CurrentStyle_itemheight(_a);if(_f&&_b.itemheight!=_f){_b.itemheight=_f;this.on_apply_style_itemheight(_f);}var _g=this.on_find_CurrentStyle_itemborder(_a);if(_g&&this._compareitemBorder(_b.itemborder,_g)){_b.itemborder=_g;this.on_apply_style_itemborder(_g);}var _h=this.on_find_CurrentStyle_itembordertype(_a);if(_h&&_b.itembordertype!=_h){_b.itembordertype=_h;this.on_apply_style_itembordertype(_h);}var _i=this.on_find_CurrentStyle_itemgradation(_a);if(_i&&_b.itemgradation!=_i){_b.itemgradation=_i;this.on_apply_style_itemgradation(_i);}var _j=this.on_find_CurrentStyle_itempadding(_a);if(_j&&this._compareitemPadding(_b.itempadding,_j)){_b.itempadding=_j;this.on_apply_style_itempadding(_j);}var _k=this.on_find_CurrentStyle_checkboximage(_a);if(_k&&_b.checkboximage!=_k){_b.checkboximage=_k;this.on_apply_style_checkboximage(_k);}var _l=this.on_find_CurrentStyle_expandimage(_a);if(_l&&_b.expandimage!=_l){_b.expandimage=_l;this.on_apply_style_expandimage(_l);}var _m=this.on_find_CurrentStyle_itemaccessibility(_a);if(_m&&_b.itemaccessibility!=_m){_b.itemaccessibility=_m;this.on_apply_style_itemaccessibility(_m);}var _n=this.on_find_CurrentStyle_popuptype(_a);if(_n&&_b.popuptype!=_n){_b.popuptype=_n;}var _o=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_o!=_b.rtlimagemirroring){_b.rtlimagemirroring=_o;this.on_apply_style_rtlimagemirroring(_o);}if(this.spinupbutton){this.spinupbutton._control_pseudo="";this.spinupbutton._contents_pseudo="";this.spinupbutton.on_apply_pseudo(_a);}if(this.spindownbutton){this.spindownbutton._control_pseudo="";this.spindownbutton._contents_pseudo="";this.spindownbutton.on_apply_pseudo(_a);}};_pPopupMenu._compareitemPadding=function(_a,_b){if(!_a){return true;}if(_a.top!=_b.top||_a.left!=_b.left||_a.right!=_b.right||_a.bottom!=_b.bottom){return true;}return false;};_pPopupMenu._compareitemBorder=function(_a,_b){if(!_a){return true;}if(_a._value!=_b._value){return true;}return false;};_pPopupMenu.on_find_CurrentStyle_popuptype=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_popuptype(_a);}return this._find_pseudo_obj("popuptype",_a);};_pPopupMenu.on_find_CurrentStyle_itemalign=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemalign(_a);}return this._find_pseudo_obj("itemalign",_a,"align");};_pPopupMenu.on_find_CurrentStyle_itemheight=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitemheight(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemheight(_a);}return this._find_pseudo_obj("itemheight",_a);};_pPopupMenu.on_find_CurrentStyle_itembackground=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitembackground(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itembackground(_a);}return itembackground=this._find_pseudo_obj("itembackground",_a,"background");};_pPopupMenu.on_find_CurrentStyle_itemborder=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitemborder(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemborder(_a);}return this._find_pseudo_obj("itemborder",_a,"border");};_pPopupMenu.on_find_CurrentStyle_itembordertype=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitembordertype(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itembordertype(_a);}return this._find_pseudo_obj("itembordertype",_a,"bordertype");};_pPopupMenu.on_find_CurrentStyle_itemgradation=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitemgradation(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemgradation(_a);}return this._find_pseudo_obj("itemgradation",_a,"gradation");};_pPopupMenu.on_find_CurrentStyle_itempadding=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupitempadding(_a);}else if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itempadding(_a);}return this._find_pseudo_obj("itempadding",_a,"padding");};_pPopupMenu.on_find_CurrentStyle_checkboximage=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_checkboximage(_a);}return this._find_pseudo_obj("checkboximage",_a);};_pPopupMenu.on_find_CurrentStyle_expandimage=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_expandimage(_a);}return this._find_pseudo_obj("expandimage",_a);};_pPopupMenu.on_find_CurrentStyle_popupitembackground=function(_a){if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_popupitembackground(_a);}return this.parent._find_pseudo_obj("popupitembackground",_a,"background");};_pPopupMenu.on_find_CurrentStyle_popupitempadding=function(_a){if(this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_popupitempadding(_a);}return this.parent._find_pseudo_obj("popupitempadding",_a,"padding");};_pPopupMenu.on_find_CurrentStyle_background=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupbackground(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("background",_a,"background");}else{return this._getMenuObj()._find_pseudo_obj("popupbackground",_a,"background");}}return this._find_pseudo_obj("background",_a,"background");};_pPopupMenu.on_find_CurrentStyle_font=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupfont(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_inherit_pseudo_obj("font",_a,"font");}else{return this._getMenuObj()._find_pseudo_obj("popupfont",_a,"font");}}return this._find_inherit_pseudo_obj("font",_a,"font");};_pPopupMenu.on_find_CurrentStyle_color=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupcolor(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_inherit_pseudo_obj("color",_a,"color")||this._defaultcolor;}else{return this._getMenuObj()._find_pseudo_obj("popupcolor",_a,"color")||this._defaultcolor;}}return this._find_inherit_pseudo_obj("color",_a,"color")||this._defaultcolor;};_pPopupMenu.on_find_CurrentStyle_border=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupborder(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("border",_a,"border");}else{return this._getMenuObj()._find_pseudo_obj("popupborder",_a,"border");}}return this._find_pseudo_obj("border",_a,"border");};_pPopupMenu.on_find_CurrentStyle_bordertype=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popupbordertype(_a);}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("bordertype",_a,"bordertype");}else{return this._getMenuObj()._find_pseudo_obj("popupbordertype",_a,"bordertype");}}return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pPopupMenu.on_find_CurrentStyle_padding=function(_a){if(this.parent instanceof nexacro.Menu){return this.parent.on_find_CurrentStyle_popuppadding();}else if(this.parent instanceof nexacro.PopupMenu){if(this.selfpopup){var _b=this;while(_b._is_subcontrol!=false){_b=_b.parent;}return _b._find_pseudo_obj("padding",_a,"padding");}else{return this._getMenuObj()._find_pseudo_obj("popuppadding",_a,"padding");}}return this._find_pseudo_obj("padding",_a,"padding");};_pPopupMenu.on_find_CurrentStyle_itemaccessibility=function(_a){if(this.parent instanceof nexacro.Menu||this.parent instanceof nexacro.PopupMenu){return this.parent.on_find_CurrentStyle_itemaccessibility(_a)||nexacro.Component._default_accessibility;}return this._find_pseudo_obj("itemaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pPopupMenu.on_find_CurrentStyle_cusor=function(_a){return nexacro.Component.prototype.on_find_CurrentStyle_cusor.call(this._getRootComponent(this));};_pPopupMenu.on_find_CurrentStyle_opacity=function(_a){return nexacro.Component.prototype.on_find_CurrentStyle_opacity.call(this._getRootComponent(this));};_pPopupMenu.on_find_CurrentStyle_rtlimagemirroring=function(_a){var _b=this._getRootComponent(this);return nexacro.Component.prototype.on_find_CurrentStyle_rtlimagemirroring.apply(_b,arguments);};_pPopupMenu.on_apply_custom_class=function(){if(this._popupmenu){this._popupmenu.on_apply_prop_class();}};_pPopupMenu.on_apply_style_color=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_color(_b[_d]._pseudo);_b[_d].on_apply_style_color(_a);}}};_pPopupMenu.on_apply_style_font=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a=this.on_find_CurrentStyle_font(_b[_d]._pseudo);_b[_d].on_apply_style_font(_a);}}};_pPopupMenu.on_apply_style_cursor=function(_a){var _b=this._control_element;if(_b){_b.setElementCursor(_a);}var _c=this._items;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e].on_apply_style_cursor(_a);}}};_pPopupMenu.on_apply_style_opacity=function(_a){nexacro.Component.prototype.on_apply_style_opacity.call(this);var _b=this._popupmenu;if(_b){_b.on_apply_style_opacity(_a);}};_pPopupMenu.on_apply_style_padding=function(_a){nexacro.Component.prototype.on_apply_style_padding.call(this);var _b=this._popupmenu;if(_b){_b.on_apply_style_padding(_a);}};_pPopupMenu.on_apply_style_itemalign=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_align(_a);}}};_pPopupMenu.on_apply_style_itembackground=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_background(_a);}}};_pPopupMenu.on_apply_style_itemborder=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_border(_a);}}};_pPopupMenu.on_apply_style_itembordertype=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_bordertype(_a);}}};_pPopupMenu.on_apply_style_itemgradation=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_gradation(_a);}}};_pPopupMenu.on_apply_style_itempadding=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_padding(_a);}this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();}};_pPopupMenu.on_apply_style_itemheight=nexacro._emptyFn;_pPopupMenu.on_apply_style_checkboximage=function(_a){if(!_a){_a=this.currentstyle.checkboximage;}this._load_image(_a,"chk");var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setCheckimage(_a._value);}}if(this._popupmenu){this._popupmenu.style.set_checkboximage(_a);}this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();};_pPopupMenu.on_apply_style_expandimage=function(_a){if(!_a){_a=this.currentstyle.expandimage;}var _b=this._load_image(_a,"exp");var _c=this._items;if(_c){var _d=_c.length;for(var _e=0;_e<_d;_e++ ){_c[_e]._setExpandimage(_b);}}if(this._popupmenu){this._popupmenu.style.set_expandimage(_a);}};_pPopupMenu.on_apply_style_itemaccessibility=function(_a){var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_accessibility(_a);}}};_pPopupMenu.on_apply_style_rtlimagemirroring=function(_a){var _b=this._items.length;for(var _d=0;_d<_b;_d++ ){var _e=this._getItem(_d);_e.on_apply_style_rtlimagemirroring(_a);}var _c=this._popupmenu;if(_c){_c.on_apply_style_rtlimagemirroring(_a);}};_pPopupMenu.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;var _b=this._items.length;var _c=null;for(var _e=0;_e<_b;_e++ ){_c=this._getItem(_e);_c._setRtlDirection(_a);}var _d=this._popupmenu;if(_d){_d._setRtlDirection(_a);}};_pPopupMenu.on_update_style_color=function(){if(!this._is_subcontrol){this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo);}var _a=this._items;if(_a){var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].on_update_style_color();}}if(this._popupmenu){this._popupmenu.on_update_style_color();}};_pPopupMenu.on_update_style_font=function(){if(!this._is_subcontrol){this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo);}var _a=this._items;if(_a){var _c=_a.length;for(var _d=0;_d<_c;_d++ ){_a[_d].on_update_style_font();}}var _b=this._popupmenu;if(_b){_b.on_update_style_font();}};_pPopupMenu.on_update_style_align=function(){if(!this._is_subcontrol){this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo);}var _a=this._items;if(_a){var _c=_a.length;for(var _d=0;_d<_c;_d++ ){_a[_d].on_update_style_align();}}var _b=this._popupmenu;if(_b){_b.on_update_style_align();}};_pPopupMenu.on_update_style_border=function(){this.on_apply_style_border(this.currentstyle.border=this.on_find_CurrentStyle_border(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_border();}};_pPopupMenu.on_update_style_bordertype=function(){this.on_apply_style_bordertype(this.currentstyle.bordertype=this.on_find_CurrentStyle_bordertype(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_bordertype();}};_pPopupMenu.on_update_style_background=function(){this.on_apply_style_background(this.currentstyle.background=this.on_find_CurrentStyle_background(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_background();}};_pPopupMenu.on_update_style_gradation=function(){this.on_apply_style_gradation(this.currentstyle.gradation=this.on_find_CurrentStyle_gradation(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_gradation();}};_pPopupMenu.on_update_style_opacity=function(){this.on_apply_style_opacity(this.currentstyle.opacity=this.on_find_CurrentStyle_opacity(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_opacity();}};_pPopupMenu.on_update_style_shadow=function(){this.on_apply_style_shadow(this.currentstyle.shadow=this.on_find_CurrentStyle_shadow(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_shadow();}};_pPopupMenu.on_update_style_cursor=function(){this.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_cursor();}};_pPopupMenu.on_update_style_padding=function(){nexacro.Component.prototype.on_update_style_padding.call(this);var _a=this._popupmenu;if(_a){_a.on_update_style_padding();}};_pPopupMenu.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);var _a=this._popupmenu;if(_a){_a.on_update_style_popuptype();}};_pPopupMenu.on_update_style_itemheight=function(){this.on_apply_style_itemheight(this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemheight();}};_pPopupMenu.on_update_style_itembackground=function(){this.on_apply_style_itembackground(this.currentstyle.itembackground=this.on_find_CurrentStyle_itembackground(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itembackground();}};_pPopupMenu.on_update_style_itemborder=function(){this.on_apply_style_itemborder(this.currentstyle.itemborder=this.on_find_CurrentStyle_itemborder(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemborder();}};_pPopupMenu.on_update_style_itembordertype=function(){this.on_apply_style_itembordertype(this.currentstyle.itembordertype=this.on_find_CurrentStyle_itembordertype(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itembordertype();}};_pPopupMenu.on_update_style_itemgradation=function(){this.on_apply_style_itemgradation(this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemgradation(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemgradation();}};_pPopupMenu.on_update_style_itempadding=function(){this.on_apply_style_itempadding(this.currentstyle.itempadding=this.on_find_CurrentStyle_itempadding(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itempadding();}};_pPopupMenu.on_update_style_checkboximage=function(){this.on_apply_style_checkboximage(this.currentstyle.checkboximage=this.on_find_CurrentStyle_checkboximage(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_checkboximage();}};_pPopupMenu.on_update_style_expandimage=function(){this.on_apply_style_expandimage(this.currentstyle.expandimage=this.on_find_CurrentStyle_expandimage(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_expandimage();}};_pPopupMenu.on_update_style_itemaccessibility=function(){this.on_apply_style_itemaccessibility(this.currentstyle.itemaccessibility=this.on_find_CurrentStyle_itemaccessibility(this._pseudo));var _a=this._popupmenu;if(_a){_a.on_update_style_itemaccessibility();}};_pPopupMenu.on_create_contents=function(){var _a=this.getElement();if(_a){this._createPopupMenu();}if(!this._is_subcontrol){var _b=this.currentstyle;if(_b.checkboximage){this._load_image(_b.checkboximage,"chk");}if(_b.expandimage){this._load_image(_b.expandimage,"exp");}}if(this._innerdataset&&this.enablecolumn){this.on_apply_enablecolumn();}};_pPopupMenu.on_created_contents=function(){var _a=this.getElement();if(_a){if(!this._innerdataset&&this.innerdataset){this._innerdataset=this._findDataset(this.innerdataset);this.on_apply_innerdataset();}var _b=this._lineItems;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_created();}}if(nexacro._enableaccessibility){this.on_apply_style_itemaccessibility(this.on_find_CurrentStyle_itemaccessibility(this._pseudo));this._setAccessibilityInfoLevel(this.level);}}};_pPopupMenu.on_destroy_contents=function(){var _a=this._items;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroyComponent();_a[_c]=null;}this._items=[];if(this._popupmenu){this._popupmenu.destroy();this._popupmenu=null;}};_pPopupMenu.set_autohotkey=function(_a){if(_a!=this.autohotkey){this.autohotkey=_a;}};_pPopupMenu.set_captioncolumn=function(_a){if(_a!=this.captioncolumn){this.captioncolumn=_a;var _b=this._popupmenu;if(_b){_b.set_captioncolumn(_a);}this.on_apply_captioncolumn();}};_pPopupMenu.on_apply_captioncolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setText(_a.getColumn(_b[_d].datarow,this.captioncolumn)||"");}}}};_pPopupMenu.set_checkboxcolumn=function(_a){if(_a!=this.checkboxcolumn){this.checkboxcolumn=_a;var _b=this._popupmenu;if(_b){_b.set_checkboxcolumn(_a);}this.on_apply_checkboxcolumn();}};_pPopupMenu.on_apply_checkboxcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setValue(_a.getColumn(_b[_d].datarow,this.checkboxcolumn)||false);}}}};_pPopupMenu.set_enablecolumn=function(_a){if(_a!=this.enablecolumn){this.enablecolumn=_a;var _b=this._popupmenu;if(_b){_b.set_enablecolumn(_a);}this.on_apply_enablecolumn();}};_pPopupMenu.on_apply_enablecolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=_a.getColumn(_b[_d].datarow,this.enablecolumn);_e=_e==false||_e=="false"?false:true;_b[_d].set_enable(_e);}}}};_pPopupMenu.set_hotkeycolumn=function(_a){if(_a!=this.hotkeycolumn){this.hotkeycolumn=_a;var _b=this._popupmenu;if(_b){_b.set_hotkeycolumn(_a);}this.on_apply_hotkeycolumn();}};_pPopupMenu.on_apply_hotkeycolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setHotkey(_a.getColumn(_b[_d].datarow,this.hotkeycolumn)||"");}}}};_pPopupMenu.set_iconcolumn=function(_a){if(_a!=this.iconcolumn){this.iconcolumn=_a;if(this._popupmenu){this._popupmenu.set_iconcolumn(_a);}this.on_apply_iconcolumn();}};_pPopupMenu.on_apply_iconcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setIcon(_a.getColumn(_b[_d].datarow,this.iconcolumn)||"");}}}};_pPopupMenu.set_idcolumn=function(_a){if(_a!=this.idcolumn){this.idcolumn=_a;if(this._popupmenu){this._popupmenu.set_idcolumn(_a);}this.on_apply_idcolumn();}};_pPopupMenu.on_apply_idcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].id=_a.getColumn(_b[_d].datarow,this.idcolumn)||"";}}}};_pPopupMenu.set_levelcolumn=function(_a){if(_a!=this.levelcolumn){this.levelcolumn=_a;this.on_apply_levelcolumn();}};_pPopupMenu.on_apply_levelcolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].level=_a.getColumn(_b[_d].datarow,this.levelcolumn)|| -1;}}}};_pPopupMenu.set_userdatacolumn=function(_a){if(_a!=this.userdatacolumn){this.userdatacolumn=_a;var _b=this._popupmenu;if(_b){_b.set_userdatacolumn(_a);}this.on_apply_userdatacolumn();}};_pPopupMenu.on_apply_userdatacolumn=function(){var _a=this._innerdataset;if(_a){this._createPopupMenu();var _b=this._items;if(_b){var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].userdata=_a.getColumn(_b[_d].datarow,this.userdatacolumn)||null;}}}};_pPopupMenu.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pPopupMenu._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pPopupMenu.getInnerDataset=function(){return this._innerdataset;};_pPopupMenu.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}};_pPopupMenu.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){var _b=this._callbackFromDataset;_a._setEventHandler("onrowposchanged",_b,this);_a._setEventHandler("oncolumnchanged",_b,this);_a._setEventHandler("onrowsetchanged",_b,this);}this._createPopupMenu();this.beforeindex= -1;this.beforevalue="";this.beforeText="";};_pPopupMenu.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onlbuttondown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onlbuttondown._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(_a,"onlbuttonup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmousedown",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onmousedown._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseup",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseenter",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.parent.level,_m.index,_m._bindindex);return this.onmouseenter._fireUserEvent(this,_n);}};_pPopupMenu.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _m=this._last_mouseleave_iteminfo;var _n=new nexacro.MenuMouseEventInfo(this,"onmouseleave",refer_comp.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m.level,_m.index,_m.bindindex);return this.onmouseleave._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousemove&&this.onmousemove._has_handlers){var _m=_l._overedobj||_l;var _n=new nexacro.MenuMouseEventInfo(this,"onmousemove",_m.id,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_k.parent.level,_m.index,_m._bindindex);return this.onmousemove._fireUserEvent(this,_n);}return false;};_pPopupMenu.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondrag&&this.ondrag._has_handlers){var _n=this._getDragData();var _o=_m._overedobj||_m;var _p=new nexacro.MenuDragEventInfo(this,"ondrag",_l.id,_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_m.parent.level,_o.index,_o._bindindex);return [this.ondrag._fireUserEvent(this,_p),this,_m,_n,_p.userdata];}return [false];};_pPopupMenu.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondrop&&this.ondrop._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondrop",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.parent.level,_q.index,_q._bindindex);return this.ondrop._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragenter&&this.ondragenter._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragenter",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.parent.level,_q.index,_q._bindindex);return this.ondragenter._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragleave&&this.ondragleave._has_handlers){var _q=this._last_mouseleave_iteminfo;var _r=new nexacro.MenuDragEventInfo(this,"ondragleave",refer_comp.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_q.level,_q.index,_q.bindindex);return this.ondragleave._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this.ondragmove&&this.ondragmove._has_handlers){var _q=_p._overedobj||_p;var _r=new nexacro.MenuDragEventInfo(this,"ondragmove",_q.id,_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_p.parent.level,_q.index,_q._bindindex);return this.ondragmove._fireUserEvent(this,_r);}return false;};_pPopupMenu.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._popupmenu_find(this);var _h=this._item_find(_g);var _i=this._popupmenu_visible(this);var _j=_h.length-1;var _k,_l=this._popupitemindex;var _m=this._getPopupType();var _n=this._getRootComponent(this);var _o=nexacro.Event;switch(_a){case _o.KEY_TAB:if(!_i){if(!_d&&this._popupitemindex==_j||_d&&this._popupitemindex<0){this._want_tab=false;this._closePopup();}else{_g._item_focus(_h[_g._popupitemindex],false);if(_d==false){this._popupitemindex++ ;}else{this._popupitemindex-- ;}if(_h[this._popupitemindex]){_n._menuitemonmouseenter=_h[this._popupitemindex];this._item_focus(_h[this._popupitemindex],true);}else{this._do_defocus(this._last_focused,true);this._on_focus(true);}}this.parent._getWindow()._keydown_element._event_stop=true;break;}else{if(!_d&&_g._popupitemindex==_j||_d&&_g._popupitemindex==0){_g._item_focus(_h[_g._popupitemindex],false);_g._closePopup();var _g=this._popupmenu_find(this);var _h=this._item_find(_g);_g._item_focus(_h[_g._previousitem],true);_g._popupitemindex=_g._previousitem;}else{_g._item_focus(_h[_g._popupitemindex],false);if(_d){_g._popupitemindex-- ;}else{_g._popupitemindex++ ;}_n._menuitemonmouseenter=_h[_g._popupitemindex];_g._item_focus(_h[_g._popupitemindex],true);}this.parent._getWindow()._keydown_element._event_stop=true;break;}default:break;}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pPopupMenu.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this._is_subcontrol==false){var _g=this._popupmenu_find(this);var _h=this._item_find(_g);var _i=_h.length-1;var _j,_k=this._popupitemindex;var _l=this._getPopupType();var _m=this._getRootComponent(this);var _n=nexacro.Event;if(nexacro._enableaccessibility){switch(_a){case _n.KEY_UP:this._popupitemindex=_m._popupitemindex;this._item_focus(_h[this._popupitemindex],false);this._popupitemindex-- ;if(this._popupitemindex<0){this._popupitemindex=_i;}_m._menuitemonmouseenter=_h[this._popupitemindex];_g._previousitem=this._popupitemindex;_g._item_focus(_h[this._popupitemindex],true);break;case _n.KEY_DOWN:this._popupitemindex=_m._popupitemindex;this._item_focus(_h[this._popupitemindex],false);this._popupitemindex++ ;if(this._popupitemindex>_i){this._popupitemindex=0;}_m._menuitemonmouseenter=_h[this._popupitemindex];_g._previousitem=this._popupitemindex;_g._item_focus(_h[this._popupitemindex],true);break;case _n.KEY_LEFT:if((_g.parent instanceof nexacro.PopupMenu)==false){break;}else{_g._closePopup();this._popupitemindex=_g.parent._previousitem;var _h=this._item_find(_g.parent);_m._menuitemonmouseenter=_h[this._popupitemindex];_h[this._popupitemindex].parent._item_focus(_h[this._popupitemindex],true);_h[this._popupitemindex].parent._popupitemindex=this._popupitemindex;}break;case _n.KEY_RIGHT:if(_l=="none"||this._popupitemindex== -1){break;}this._popupitemindex=_m._popupitemindex;var _o=this._popupmenuitem_extend(_h[this._popupitemindex]);if(_o==false){_g.on_notify_menuitem_onmouseenter(_h[this._popupitemindex]);this._item_focus(_h[this._popupitemindex],false);_g._previousitem=this._popupitemindex;this._popupitemindex=0;var _p=this._popupmenu_find(this);var _h=this._item_find(_g);_m._menuitemonmouseenter=_h[this._popupitemindex];_p._item_focus(_h[this._popupitemindex],true);_p._popupitemindex=this._popupitemindex;}break;case _n.KEY_ENTER:if(_l=="none"){break;}var _p=_m._menuitemonmouseenter.parent;if(_g instanceof nexacro.Menu){_g.on_notify_menuitem_onlbuttondown(_m._menuitemonmouseenter);}else{var _o=this._popupmenuitem_extend(_m._menuitemonmouseenter);if(!_o){this._item_focus(_m._menuitemonmouseenter,false);}_p.on_notify_menuitem_onlbuttondown(_m._menuitemonmouseenter);}break;default:break;}}else{switch(_a){case _n.KEY_UP:this._popupitemindex-- ;if(this._popupitemindex<0){this._popupitemindex=_i;}_m._menuitemonmouseenter=_h[this._popupitemindex];_g._previousitem=this._popupitemindex;_g._item_focus(_h[this._popupitemindex],true);if(this._popupitemindex> -2&&_k!= -1){if(_i<=_k){_k=_i;}if(_i>0){this._item_focus(_h[_k],false);}}this._popupitempreviousindex=this._popupitemindex;break;case _n.KEY_DOWN:this._popupitemindex++ ;if(this._popupitemindex>_i){this._popupitemindex=0;}_m._menuitemonmouseenter=_h[this._popupitemindex];_g._previousitem=this._popupitemindex;_g._item_focus(_h[this._popupitemindex],true);if(this._popupitemindex>=0&&_k!= -1){if(_i<=_k){_k=_i;}if(_i>0){this._item_focus(_h[_k],false);}}this._popupitempreviousindex=this._popupitemindex;break;case _n.KEY_LEFT:if(_g.parent instanceof nexacro.PopupMenu){break;}else{_g._closePopup();this._popupitemindex=_g.parent._previousitem;var _h=this._item_find(_g.parent);_m._menuitemonmouseenter=_h[this._popupitemindex];_h[this._popupitemindex].parent._item_focus(_h[this._popupitemindex],true);_h[this._popupitemindex].parent._popupitemindex=this._popupitemindex;this._popupitempreviousindex=this._popupitemindex;}break;case _n.KEY_RIGHT:if(_l=="none"||this._popupitemindex== -1){break;}var _o=this._popupmenuitem_extend(_h[this._popupitemindex]);if(_o==false){_g._closeflag=true;_g._showPopup(_h[this._popupitemindex]);this._item_focus(_h[this._popupitemindex],false);_g._previousitem=this._popupitemindex;this._popupitemindex=0;var _p=this._popupmenu_find(this);var _h=this._item_find(_p);_m._menuitemonmouseenter=_h[this._popupitemindex];_p._item_focus(_h[this._popupitemindex],true);_p._popupitemindex=this._popupitemindex;this._popupitempreviousindex=this._popupitemindex;}break;case _n.KEY_ENTER:if(_l=="none"){break;}var _p=_m._menuitemonmouseenter.parent;if(_g instanceof nexacro.Menu){_g.on_notify_menuitem_onlbuttondown(_m._menuitemonmouseenter);}else{var _o=this._popupmenuitem_extend(_m._menuitemonmouseenter);if(!_o){}_p.on_notify_menuitem_onlbuttondown(_m._menuitemonmouseenter);var _q=this._popupmenu_find(this);var _h=this._item_find(_q);this._popupitemindex=0;_m._menuitemonmouseenter=_h[this._popupitemindex];_q._item_focus(_h[this._popupitemindex],true);_q._popupitemindex=this._popupitemindex;this._popupitempreviousindex=this._popupitemindex;}break;default:break;}}return nexacro.Component.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);}};_pPopupMenu._do_defocus=function(_a,_b){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_a,true);if(_b){_c._removeFromCurrentFocusPath(this,false);}};_pPopupMenu.on_notify_menuitem_onclick=function(_a,_b){var _c=this._getPopupType();this._previousitem=_a.index;if(_a.enable==false||_c=="none"){return;}if(_a.notexpand==true){if(this.parent&&this.parent.enable==true){if(this.parent instanceof nexacro.Menu){if(this.parent.onmenuclick&&this.parent.onmenuclick._has_handlers){this.parent.on_notify_menuitem_onclick(_a,_b);}}else if(!(this.parent instanceof nexacro.PopupMenu)){if(this.onmenuclick&&this.onmenuclick._has_handlers){var _d=this._getRootComponent(_a);this.on_fire_onitemclick(_d,"onmenuclick",_a.id,_a.userdata,_a.index,_a.parent.level);this._popupitemindex= -1;}}else{this.parent.on_notify_menuitem_onclick(_a,_b);}this._closeAllPopup();}}};_pPopupMenu.on_notify_menuitem_onmouseenter=function(_a,_b){var _c=this._popupmenu;var _d=this._getRootComponent(_a);_d._popupitemindex=_a.index;_d._menuitemonmouseenter=_a;if(_c&&_c._is_popup()){if(this.beforeindex!=_a.index){_c.cancelPopup();this._closeflag=true;this._showPopup(_a);}}else{if(this._getPopupType()!="none"){this._closeflag=true;this._showPopup(_a);}}this.beforeindex=_a.index;if(!nexacro._enableaccessibility){var _e=this._items;var _f=this.parent._items;this._item_focus(_e[_a.index],true);if(this._popupitempreviousindex== -1||this._popupitemindex== -1){this._popupitempreviousindex=0;this._popupitemindex=0;}if(_e.length<=this._popupitemindex){this._popupitemindex=_e.length-1;this._popupitempreviousindex=this._popupitemindex;}if(_e[this._popupitemindex]){this._item_focus(_e[this._popupitemindex],false);}if(_e[this._previousitem]){this._item_focus(_e[this._previousitem],false);}if(_f&&_f[this.parent._previousitem]){this._item_focus(_f[this.parent._previousitem],true);}if(_c&&_c._is_popup()==true){this._popupitemindex= -1;}else{this._popupitemindex=_a.index;}this._previousitem=_a.index;}};_pPopupMenu.on_notify_menuitem_onmouseleave=function(_a,_b){var _c=this._getRootComponent(this);_c._last_mouseleave_iteminfo.index=_a.index;_c._last_mouseleave_iteminfo.bindindex=_a._bindindex;_c._last_mouseleave_iteminfo.level=_a.parent.level;};_pPopupMenu.on_notify_menuitem_onlbuttondown=function(_a,_b){this._item_focus(this._items[this._previousitem],false);this._item_focus(this._items[this._selected_itemindex],false);this._menuitemonmouseenter=_a;this._previousitem=_a.index;var _c=this._popupmenu;if(_c){if(_c._is_popup()){if(this.beforeindex!=_a.index){this.beforeindex=_a.index;}_c.cancelPopup();this._menuitemindex=_a.index;this._popupitemindex= -1;}}if(!_a.notexpand){this._closeflag=true;this._showPopup(_a);if(this._getRootComponent(_a) instanceof nexacro.Menu){this._getRootComponent(_a)._popupitemindex=_a.index;}}this._item_focus(_a,true);};_pPopupMenu.on_fire_onitemclick=function(_a,_b,_c,_d,_e,_f){this._selected_itemindex=_e;var _g=new nexacro.MenuClickEventInfo(_a,_b,_c,_d,_e,_f);this.onmenuclick._fireEvent(this,_g);};_pPopupMenu.cancelPopup=function(){this._closePopup();if(nexacro._enableaccessibility==false){var _a=this._getRootComponent(this);if(_a instanceof nexacro.Menu){var _b=_a._items;for(var _c=0;_c<_b.length;_c++ ){this._item_focus(_b[_c],false);}}}};_pPopupMenu.isPopup=function(){return this._is_popup();};_pPopupMenu.trackPopup=function(_a,_b,_c,_d){this._selected_itemindex= -1;this._track_capture=_d===false?false:true;this._reCalcSize();this.on_created();this._calcSpinButton();this._updateMenuItemPosition();this._adjustPopupPosition( +_a, +_b,_c);this._closeflag=true;this.setFocus();};_pPopupMenu.trackPopupByComponent=function(_a,_b,_c,_d){this._selected_itemindex= -1;this._reCalcSize();this.on_created();this._track_on=true;var _e=this._getAlignPosition(_b,_c,_d);this._updateMenuItemPosition();this._popupBy(_a,_e[0],_e[1],this._width,this._height);this._closeflag=true;this.setFocus();};_pPopupMenu.on_change_containerRect=function(){};_pPopupMenu._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrow;var _f=this._want_tab;this._want_tab=true;return {want_tab:_f,want_return:true,want_escape:false,want_chars:false,want_arrows:_e};};_pPopupMenu._loaded_expImage=function(_a,_b,_c){this._expImage_width=_b;this._expImage_height=_c;};_pPopupMenu._loaded_chkImage=function(_a,_b,_c){this._chkImage_width=_b;this._chkImage_height=_c;};_pPopupMenu._loaded_iconImage=function(_a,_b,_c){this._iconImage_width=_b;this._iconImage_height=_c;};_pPopupMenu._load_image=function(_a,_b){var _c=this._control_element;if(_c){var _d=(_a&&_a!="")?_a._value:"";if(_d){_d=nexacro._getURIValue(_d);_d=nexacro._getImageLocation(_d,this._getRefFormBaseUrl());var _e;if(_b=="exp"){_e=nexacro._getImageSize(_d,this._loaded_expImage,this);if(_e){this._expImage_width=_e.width;this._expImage_height=_e.height;}}else if(_b=="chk"){_e=nexacro._getImageSize(_d,this._loaded_chkImage,this);if(_e){this._chkImage_width=_e.width;this._chkImage_height=_e.height;}}else if(_b=="icon"){_e=nexacro._getImageSize(_d,this._loaded_iconImage,this);if(_e){this._iconImage_width=_e.width;this._iconImage_height=_e.height;}}return _d;}}};_pPopupMenu._getMaxTextSize=function(_a){var _b=[];_b[0]=0;_b[1]=0;var _c=this._innerdataset;if(_c){var _d=this._items;if(_d){var _e=_d.length;var _f=this.on_find_CurrentStyle_font(this._pseudo);for(var _g=0;_g<_e;_g++ ){var _h=_c.getColumn(_d[_g].datarow,_a);if(_h===undefined){break;}var _i=nexacro._getTextSize2(_h,_f);_b[0]=_i[0]>_b[0]?_i[0]:_b[0];_b[1]=_i[1]>_b[1]?_i[1]:_b[1];}}}return _b;};_pPopupMenu._createPopupMenu=function(){var _a=this.getElement();if(_a){this._deletePopupMenu();var _b=this._innerdataset;if(_b&&this.levelcolumn&&this.captioncolumn&&this.idcolumn){var _c=0;var _d=0;if(this.currentstyle.itemheight&&this.currentstyle.itemheight._value!=""){_d=parseInt(this.currentstyle.itemheight._value,10)|0;}var _e=0,_f=_b.getRowCount();var _g=this.datarow;for(var _h=_g;_h<_f;_h++ ){var _i=thislevel=_b.getColumn(_h,this.levelcolumn);if(_i==this.level){var _j=_b.getColumn(_h,this.captioncolumn);if(_j=="-"){var _k=new nexacro.StaticCtrl("-","absolute",0,_c,0,1,null,null,this);_k.style.set_background("black");_k.createComponent();_k._bLine=true;_c+=1;this._lineItems.push(_k);continue;}var _l=new nexacro.PopupMenuItem("popup","absolute",0,_c,0,_d,null,null,this);_l._is_subcontrol=true;_c+=_d;_l._bindindex=_h;_l.index=_e++ ;_l.datarow=_h;var _m=_b.getColumn(_h,this.enablecolumn);_l.set_enable(_m==false||_m=="false"?false:true);if(_j){_l._setText(_j);}var _n=_b.getColumn(_h,this.checkboxcolumn);if(_n){_l._setValue(nexacro._toBoolean(_n));}var _o=_b.getColumn(_h,this.idcolumn);if(_o){_l.id=_o;}var _p=_b.getColumn(_h,this.hotkeycolumn);if(_p){_l._setHotkey(_p);}var _q=_b.getColumn(_h,this.userdatacolumn);_l.userdata=_q;if(_q){_l._setUserdata(_q);}var _r=_b.getColumn(_h,this.iconcolumn);if(_r){if(!nexacro._toBoolean(_n)&&!_l.imgctrl){var _s=_l.imgctrl=new nexacro.ImageViewerCtrl("imgctrl","absolute",0,0,0,0,null,null,_l);_l._setIcon(_r);_l.imgctrl.createComponent();}}if(_h==_b.getRowCount()-1){_l.notexpand=true;}else{_i=_b.getColumn(_h+1,this.levelcolumn);if(_i<=this.level){_l.notexpand=true;}else{_l._setExpandimage(this.on_find_CurrentStyle_expandimage(this._pseudo));}}_l._setEventHandler("onlbuttonup",this.on_notify_menuitem_onclick,this);_l._setEventHandler("onlbuttondown",this.on_notify_menuitem_onlbuttondown,this);if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_l._setEventHandler("onmouseenter",this.on_notify_menuitem_onmouseenter,this);var _t=this._getRootComponent(this);if(_t.onmouseleave){_l._setEventHandler("onmouseleave",this.on_notify_menuitem_onmouseleave,this);}}_l.createComponent();this._items.push(_l);this._lineItems.push(_l);_l._real_visible=false;_l._setRtlDirection(this._rtldirection);}else if(_i<this.level){break;}if(!this._is_subcontrol&&_p){if(_h==_f-1||thislevel>=_b.getColumn(_h+1,this.levelcolumn)){this._set_hotkey(_o,_p);}}}}}};_pPopupMenu._deletePopupMenu=function(){if(!this._is_subcontrol){var _c=this._hot_key_list;var _d=_c.length;var _e=this._getMainForm();for(var _f=0;_f<_d;_f++ ){nexacro._unregisterHotkeyComp(_e,this,_c[_f].key);}this._hot_key_list=[];}var _a=this._items;if(_a){var _d=_a.length;for(var _f=0;_f<_d;_f++ ){_a[_f].destroyComponent();_a[_f]=null;}this._items=[];}var _b=this._lineItems;if(_b){var _d=_b.length;for(var _f=0;_f<_d;_f++ ){_b[_f].destroyComponent();_b[_f]=null;}this._lineItems=[];}if(this._popupmenu){this._popupmenu.destroyComponent();this._popupmenu=null;}this._buttonRect=[];this._buttonRect_elem=[];this._scrollIndex=0;this._is_spin_visible=false;};_pPopupMenu._createSpinbutton=function(){if(!this.spinupbutton){this.spinupbutton=new nexacro.ImageButtonCtrl("decbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton.createComponent();this.spinupbutton.set_visible(false);this.spinupbutton._setEventHandler("onclick",this.on_notify_spinup_onclick,this);this.spinupbutton.on_created();}if(!this.spindownbutton){this.spindownbutton=new nexacro.ImageButtonCtrl("incbutton",this.position,0,0,0,0,null,null,this);this.spindownbutton.createComponent();this.spindownbutton.set_visible(false);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindown_onclick,this);this.spindownbutton.on_created();}};_pPopupMenu._destroySpinButton=function(){if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}};_pPopupMenu._showPopup=function(_a){if(this._innerdataset&&this.levelcolumn&&this.captioncolumn&&this.idcolumn&&_a.notexpand==false&&this.visible){var _b=this._popupmenu;if(!_b){_b=this._popupmenu=new nexacro.PopupMenuCtrl("popup","absolute",0,0,0,0,null,null,this);_b._scrollIndex=0;_b.level=this.level+1;_b.datarow=_a.datarow+1;_b.selfpopup=this.selfpopup;_b._closeflag=this._closeflag;_b._is_subcontrol=true;_b._track_capture=false;_b.parentPopupMenu=this;_b._is_loading=true;_b.setInnerDataset(this._innerdataset);_b.set_captioncolumn(this.captioncolumn);_b.set_checkboxcolumn(this.checkboxcolumn);_b.set_hotkeycolumn(this.hotkeycolumn);_b.set_idcolumn(this.idcolumn);_b.set_levelcolumn(this.levelcolumn);_b.set_userdatacolumn(this.userdatacolumn);_b.set_enablecolumn(this.enablecolumn);_b.set_iconcolumn(this.iconcolumn);_b._is_loading=true;if(this.currentstyle.checkboximage){_b.style.set_checkboximage(this.currentstyle.checkboximage._value);}if(this.currentstyle.expandimage){_b.style.set_expandimage(this.currentstyle.expandimage._value);}_b.createComponent();_b.currentstyle.popuptype=this.currentstyle.popuptype;_b._setRtlDirection(this._rtldirection);_b._trackPopup(_a,"horizontal");}else{_b.datarow=_a.datarow+1;if(this.selfpopup==true){_b.style=this.style;_b.currentstyle=this.currentstyle;}if(this._closeflag){_b._trackPopup(_a,"horizontal");}}}};_pPopupMenu._set_hotkey=function(_a,_b){var _c=this.hotkey;this._hotkey=null;this.set_hotkey(_b);var _d=this._hotkey;this.hotkey=_c?_c:null;this._hotkey=_c;var _e={id:_a,key:_d};this._hot_key_list.push(_e);};_pPopupMenu._on_hotkey=function(_a,_b,_c,_d){this.setFocus();var _e=this._hot_key_list;var _f=_e.length;var _g=null;var _h=null;for(var _i=0;_i<_f;_i++ ){_g=_e[_i].key;if(_g._keycode==_a){_h=_g._modifierkey;if(_b==((_h&0x02)==0x02)&&_c==((_h&0x01)==0x01)&&_d==((_h&0x04)==0x04)){this.on_fire_onitemclick(this,"onmenuclick",_e[_i].id,"",_e[_i].index,_e.level);break;}}}};_pPopupMenu._adjustPopupPosition=function(_a,_b,_c,_d){var _e=this._getAlignPosition(_a,_b,_c);var _f=_e[0]<0?0:_e[0];var _g=_e[1]<0?0:_e[1];var _h=this._width;var _i=this._height;var _j=_f+_h;var _k=_g+_i;var _l=this._getWindow();var _m=_l.clientWidth;var _n=_l.clientHeight;var _o=_j-_m;if(_j>_m&&_f>_o){_f=_f-_o;}if(_g>_i&&_k>_n){_g=_n-_i;}this._track_on=true;var _p=this._getCumulativeZoomFactor()/100.0;var _q=this.getElement();if(_q.setZoom){_q.setZoom(_p*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_q,_p*100);}this._popup(_f,_g,_h,_i);};_pPopupMenu._callbackFromDataset=function(_a,_b){this._createPopupMenu();};_pPopupMenu._getMainFrame=function(){var _a=this;while(_a&&!_a._is_main){_a=_a.parent;}return _a;};_pPopupMenu._trackPopup=function(_a,_b,_c,_d){this._createPopupMenu();this._reCalcSize();this.on_created();var _e,_f,_g,_h;var _i=this.parent;var _j=this._getMainFrame();var _k=nexacro._getElementPositionInFrame(_j.getElement());var _l=this.on_find_CurrentStyle_padding(this._pseudo);var _m=0,_n=0,_o=0,_p=0;if(_l){_m=_l.left;_n=_l.right;_o=_l.bottom;_p=_l.top;}var _q=this._getCumulativeZoomFactor()/100.0;var _r,_s,_t;var _u=this._width;var _v=this._height;var _w=_j;if(!_w){var _aa=this._getWindow();var _ab=_aa.frame;var _ac=_ab;if(_ab instanceof nexacro.MainFrame){_ac=_ab.frame;}if(!_ac){_ac=_ab;}_w=_ac;}var _x=_k.x+_w._adjust_width;var _y=_k.y+_w._adjust_height;_g=_u+_m+_n;_h=_v+_o+_p;if(_b=="horizontal"){_t=nexacro._getElementPositionInFrame(_i.getElement());_r=_i._client_width;_s=_i._client_height;_e=_r;_f=0;if(!_d){var _ad=_t.y+_a._adjust_top+_v;if(_ad>_y){_f=_y-_ad;}_f=_f*_q;}else{_f=_d;}if(!_c){var _ae=_t.x;var _af=_ae+_r;if(_af+_u>_x){if(_ae-_u>0){_e= -_u;}}_e=_e*_q;}else{_e=_c;}}else{_t=nexacro._getElementPositionInFrame(_a.getElement());_r=0;_s=_a._adjust_height;_e=0,_f=_s;if(!_d){var _ad=_t.y+_s+_v;if(_ad>_y){if(_k.y<(_t.y-_v)){_f= -_v;}else{_f=10;}}_f=_f*_q;}else{_f=_d;}if(!_c){var _ae=_t.x;if(_ae+_u>_x){_e=_x-_ae-_u;}_e=_e*_q;}else{_e=_c;}}var _z=this.getElement();if(_z.setZoom){_z.setZoom(_q*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_z,_q*100);}if(this._getPopupType()=="center"){var _ag=(_w._adjust_width/2)-(_g/2);var _ah=(_w._adjust_height/2)-(_h/2);this._adjustPopupPosition(_ag,_ah);}else{this._track_on=true;this._popupBy(_a,_e,_f,_g,_h);}this._destroySpinButton();this._createSpinbutton();this._calcSpinButton();this._updateMenuItemPosition();};_pPopupMenu._getMenuObj=function(){var _a=this.parent;while(!(_a instanceof nexacro.Menu)){_a=_a.parent;}return _a;};_pPopupMenu.iconimgwidth=0;_pPopupMenu._reCalcSize=function(){var _a=this._innerdataset;if(_a&&this.captioncolumn){var _b=this._items;if(!_b||_b.length==0){return;}var _c=_b.length;var _d=this._getMaxTextSize(this.captioncolumn);this.text_height=_d[1];var _e=_d[0];var _f=0;var _g=this._getRootComponent(this);var _h=0,_i=0,_j=0,_k=0;var _l=_g.on_find_CurrentStyle_expandimage(this._pseudo);if(_l){_i=_g._expImage_width?_g._expImage_width:item_h;_j=_g._expImage_height?_g._expImage_height:item_h;if(_i==undefined){_i=0;}if(_j==undefined){_j=0;}}if(this.hotkeycolumn){_d=this._getMaxTextSize(this.hotkeycolumn);_f=_d[0];}var _m=this.currentstyle;var _n=this.on_find_CurrentStyle_itemheight(this._pseudo);var _o=_n?parseInt(_n._value,10):20;this._spin_height=_o;for(var _p=0;_p<_c;_p++ ){if(_b[_p].value){if(_m.checkboximage){_h=_o;}break;}}for(var _p=0;_p<_c;_p++ ){if(_b[_p].icon){_k=_o;break;}}var _q=this.on_find_CurrentStyle_itempadding(this._pseudo);var _r=this.on_find_CurrentStyle_border(this._pseudo);var _s=0,_t=0;if(_q){_s=_q.left;_t=_q.right;}var _u=0,_v=0,_w=0,_x=0;if(_r){_u=_r._left_width;_v=_r._top_width;_w=_r._right_width;_x=_r._bottom_width;}var _y=20;var _z=_s+_h+_k+_e+(_f==0?0:_y+_f)+_o+_i+_t;var _aa=0;for(var _p=0;_p<this._lineItems.length;_p++ ){var _ab=this._lineItems[_p];if(_ab._bLine){_aa++ ;}}var _ac=(_o*_c)+_aa;var _ad=this._getMainFrame();var _ae=_ad;if(!_ae){var _af=this._getWindow();var _ag=_af.frame;var _ah=_ag;if(_ag instanceof nexacro.MainFrame){_ah=_ag.frame;}if(!_ah){_ah=_ag;}_ae=_ah;}var _ai=_ae._adjust_height;var _aj=_ac+_v+_x;var _ak=0;var _al=this.parent;var _am=_al._getForm();var _an=0;while(_am){if(_am._is_form){_an+=_am._adjust_top;}_am=_am.parent;if(_am instanceof nexacro.ChildFrame||_am instanceof nexacro.MainFrame){break;}}while(_al){if(_al instanceof nexacro.Menu){_ak=_an+_al._adjust_top+_al._adjust_height;break;}_al=_al.parent;}if(_aj>(_ai-_ak)){if(_an+_al._adjust_top<(_ai-_ak)){_aj=_ai-_ak;}else{if(_an+_al._adjust_top<_aj){_aj=_an+_al._adjust_top;}}}this._width=_z+_u+_w;if(!this.visible){this.resize(this._width,_aj);}var _ao=0;var _ap=this._buttonRect;var _aq=this._buttonRect_elem;var _ar=this._buttonRect_line;if(_ap[0]){for(var _p=0;_p<this._scrollIndex;_p++ ){_ao-=_ap[_p].height;}if(this._is_spin_visible){if(this._scrollIndex==0){_ao=this._spin_height;}else{_ao= -this._spin_height*this._scrollIndex;}}}var _as=false;for(var _p=0;_p<this._lineItems.length;_p++ ){var _ab=this._lineItems[_p];if(_ab._bLine){var _at={left:0,top:0,right:0,bottom:0,width:0,height:0};_at.left=0;_at.top=_ao;_at.right=this._width;_at.bottom=_ao+1;_at.width=this._width;_at.height=1;_ap[_p]=_at;var _au={textWidth:0,hotkeyWidth:0,itemHeight:0,defaultGap:0};_au.textWidth=_e;_au.hotkeyWidth=_f;_au.itemHeight=_o;_au.defaultGap=_y;_aq[_p]=_au;_ao+=1;}else{_ab.chkwidth=_h;_ab.iconimgwidth=_k;_ab.textwidth=_e;_ab.hotkeywidth=_f;_ab.expwidth=_i;_ab.expheight=_j;var _at={left:0,top:0,right:0,bottom:0,width:0,height:0};_at.left=0;_at.top=_ao;_at.right=this._width;_at.bottom=_ao+_o;_at.width=this._width;_at.height=_o;_ap[_p]=_at;var _au={textWidth:0,hotkeyWidth:0,itemHeight:0,defaultGap:0};_au.textWidth=_e;_au.hotkeyWidth=_f;_au.itemHeight=_o;_au.defaultGap=_y;_aq[_p]=_au;if(nexacro._enableaccessibility){_ab._updateAccessibilityLabel(_ab);}_ao+=_o;if(!_as&&this._scrollIndex>0&&_ao>=0){_as=true;_ao+=_o;}}}}};_pPopupMenu._calcSpinButton=function(){if(!this.spindownbutton&&!this.spinupbutton){return;}var _a=this.on_find_CurrentStyle_itempadding(this._pseudo);var _b=this.on_find_CurrentStyle_border(this._pseudo);var _c=(_a?_a.bottom:0)+(_b?_b._bottom_width:0);var _d=this._buttonRect;var _e=_d.length;if(_d[_e-1].bottom-_c>this._adjust_height||this._is_spin_visible){this.spinupbutton.set_visible(true);this.spinupbutton.move(0,0,this._client_width,this._spin_height);var _f=0;var _g=0;var _h=this._spin_height;var _i=this._lineItems;var _e=_i?_i.length:0;if(this._is_spin_visible){_h=0;}for(var _j=0;_j<_e;_j++ ){var _k=_d[_j];if(_k.bottom>this._adjust_height-this._spin_height*(_h==0?1:2)){if(_f==0){_f=this._adjust_height;}}if(_f==0){_k.top+=_h;_k.bottom+=_h;}else{_k.top=_f;_k.bottom=_f+_h;}}this.spindownbutton.set_visible(true);this.spindownbutton.move(0,this._adjust_height-this._spin_height-_c,this._client_width,this._spin_height);this._is_spin_visible=true;}else{this._is_spin_visible=false;this.spinupbutton.set_visible(false);this.spindownbutton.set_visible(false);}};_pPopupMenu._updateMenuItemPosition=function(){var _a=this._buttonRect;var _b=this._buttonRect_elem;var _c=this._lineItems;var _d=_c?_c.length:0;for(var _e=0;_e<_d;_e++ ){var _f=_c[_e];var _g=_a[_e];_f.move(_g.left,_g.top,_g.width,_g.height);var _h=_b[_e];if(_f instanceof nexacro.PopupMenuItem){_f._updateElementPositions(_h.textWidth,_h.hotkeyWidth,_h.itemHeight,_h.defaultGap);}}};_pPopupMenu._getAlignPosition=function(_a,_b,_c){if(_c){var _d=this._width;var _e=this._height;var _f=_c.split(/\s+/);var _g=_f.length;var _h=parseInt(_a,10)|0;var _i=parseInt(_b,10)|0;switch(_g){case 0:break;case 1:if(_f[0]=="left"){_a=_h-_d;}else if(_f[0]=="center"){_a=_h-(_d/2);}else if(_f[0]=="top"){_b=_i-_e;}else if(_f[0]=="middle"){_b=_i-(_e/2);}break;case 2:if(_f[0]=="left"||_f[0]=="center"||_f[0]=="right"){if(_f[0]=="left"){_a=_h-_d;}else if(_f[0]=="center"){_a=_h-(_d/2);}}else if(_f[0]=="top"||_f[0]=="middle"||_f[0]=="bottom"){if(_f[0]=="top"){_b=_i-_e;}else if(_f[0]=="middle"){_b=_i-(_e/2);}}if(_f[1]=="left"||_f[1]=="center"||_f[1]=="right"){if(_f[1]=="left"){_a=_h-_d;}else if(_f[1]=="center"){_a=_h-(_d/2);}}else if(_f[1]=="top"||_f[1]=="middle"||_f[1]=="bottom"){if(_f[1]=="top"){_b=_i-_e;}else if(_f[1]=="middle"){_b=_i-(_e/2);}}break;default:break;}}return [_a,_b];};_pPopupMenu.set_visible=function(_a){if(this._track_on){nexacro.PopupComponent.prototype.set_visible.apply(this,arguments);}};_pPopupMenu._closePopup=function(){var _a=this._popupmenu;if(_a){_a._closePopup();_a._destroySpinButton();}var _b=this._getWindow();if(_b&&this._track_capture){_b._releaseCaptureLock(this);}var _c=this._item_find(this);if(nexacro._enableaccessibility){this._item_focus(_c[this._popupitemindex],false);this._popupitemindex= -1;}else{var _d=_c.length;for(var _e=0;_e<_d;_e++ ){this._item_focus(_c[_e],false);}this._popupitemindex= -1;}this.set_visible(false);this._track_on=false;this._closeflag=false;};_pPopupMenu.closePopup=_pPopupMenu._closePopup;_pPopupMenu._closeAllPopup=function(){this._closePopup();var _a=this.parent;if(_a){if(_a instanceof nexacro.Menu){if(_a._is_menu_click){_a._is_menu_click=false;}}}};_pPopupMenu.on_fire_oncloseup=function(_a){if(this.oncloseup&&this.oncloseup._has_handlers){var _b=new nexacro.MenuCloseUpEventInfo(_a,"oncloseup",(this._selected_itemindex>=0));_b.eventid="oncloseup";return this.oncloseup._fireEvent(this,_b);}return false;};_pPopupMenu.on_notify_spinup_onclick=function(_a,_b){this._spinup();};_pPopupMenu.on_notify_spindown_onclick=function(_a,_b){this._spindown();};_pPopupMenu._spinup=function(){if(this._scrollIndex>0){this._scrollIndex-- ;this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();}};_pPopupMenu._spindown=function(){var _a=this._buttonRect;var _b=_a?_a.length:0;if(_b==0){return;}if(_a[_b-1].bottom>this._client_height){this._scrollIndex++ ;this._reCalcSize();this._calcSpinButton();this._updateMenuItemPosition();}};_pPopupMenu._item_focus=function(_a,_b){if(_a){if(nexacro._enableaccessibility){if(_b){if(_a instanceof nexacro.PopupMenuItem){_a._on_focus(false);}else{_a._on_focus(true);}}else{var _c=this._getWindow();if(_c){_c._removeFromCurrentFocusPath(_a,true);}}}if(_a.on_apply_mouseover){_a.on_apply_mouseover(_b);}}};_pPopupMenu._popupmenu_visible=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return false;}return true;};_pPopupMenu._item_find=function(_a){if(_a._popupmenu==null||_a._popupmenu.visible==false){return _a._items;}return _a._popupmenu._items;};_pPopupMenu._popupmenu_find=function(_a){var _b=_a;while(_b){if(_b._popupmenu===null||_b._popupmenu.visible==false){break;}var _b=_b._popupmenu;}return _b;};_pPopupMenu._popupmenuitem_extend=function(_a){return _a.notexpand;};_pPopupMenu._popupmenuitem_find=function(_a){var _b=_a._overedobj;while(_b){if(_b._overedobj===null){break;}var _b=_b._overedobj;}return _b;};delete _pPopupMenu;nexacro.PopupMenuCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupMenu.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this.level=1;this._previousitem=0;};var _pPopupMenuCtrl=nexacro.PopupMenuCtrl.prototype=nexacro._createPrototype(nexacro.PopupMenu,nexacro.PopupMenuCtrl);nexacro._setForControlStyleFinder(_pPopupMenuCtrl);delete _pPopupMenuCtrl;}if(!nexacro.Spin){nexacro.SpinEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"onspin";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.prevalue=_d;this.posttext=_e;this.postvalue=_f;this.up=_g;};var _pSpinEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.SpinEventInfo);nexacro.SpinEventInfo.prototype=_pSpinEventInfo;_pSpinEventInfo._type_name="SpinEventInfo";delete _pSpinEventInfo;_pSpinEventInfo=null;nexacro.Spin_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.buttonalign=null;this.buttonsize=null;this.accessibility=null;};var _pSpinStyle=nexacro._createPrototype(nexacro.Style,nexacro.Spin_Style);nexacro.Spin_Style.prototype=_pSpinStyle;eval(nexacro._createAlignAttributeEvalStr("_pSpinStyle","buttonalign"));eval(nexacro._createValueAttributeEvalStr("_pSpinStyle","buttonsize"));eval(nexacro._createAccessibilityAttributeEvalStr("_pSpinStyle","accessibility"));_pSpinStyle.__custom_emptyObject=function(){this.buttonalign=null;this.buttonsize=null;};_pSpinStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign&&!this.buttonalign._is_empty){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonsize&&!this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.Spin_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonalign=null;this.buttonsize=null;this.accessibility=null;};var _pSpinCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Spin_CurrentStyle);nexacro.Spin_CurrentStyle.prototype=_pSpinCurrentStyle;_pSpinCurrentStyle.__get_custuom_style_value=_pSpinStyle.__get_custuom_style_value;_pSpinCurrentStyle.__custom_emptyObject=_pSpinStyle.__custom_emptyObject;delete _pSpinStyle;delete _pSpinCurrentStyle;_pSpinStyle=null;_pSpinCurrentStyle=null;nexacro.Spin=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.spinupbutton=null;this.spindownbutton=null;this.spinedit=null;this.type=0;this.enable=true;this.value=undefined;this.text="";this.readonly=false;this.displaynulltext="";this.increment=1;this.max=10000;this.min=0;this.displaymask="9,999.9999999";this.circulation=false;this.displaycomma=false;this.textchangebindflag=false;this._old_value=undefined;this._accessibility_role="spin";this._want_arrow=false;this._has_inputElement=true;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onchanged":1,"onspin":1,"canchange":1,"oneditclick":1,"ontextchange":1,"ontextchanged":1,"cancharchange":1,"onchar":1,"oncontextmenu":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pSpin=nexacro._createPrototype(nexacro.Component,nexacro.Spin);nexacro.Spin.prototype=_pSpin;nexacro.Spin._default_buttonalign=nexacro._getCachedStyleObj("buttonalign","right");nexacro.Spin._default_buttonsize=nexacro._getCachedStyleObj("buttonsize","-1");_pSpin._type_name="Spin";_pSpin.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);if(_b.align!=_c){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_buttonalign(_a);if(_b.buttonalign!=_f){_b.buttonalign=_f;this.on_apply_style_buttonalign(_f);}var _g=this.on_find_CurrentStyle_buttonsize(_a);if(_b.buttonsize!=_g){_b.buttonsize=_g;this.on_apply_style_buttonsize(_g);}var _h=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_h!=_b.rtlimagemirroring){_b.rtlimagemirroring=_h;this.on_apply_style_rtlimagemirroring(_h);}};_pSpin.on_create_custom_style=function(){return new nexacro.Spin_Style(this);};_pSpin.on_create_custom_currentStyle=function(){return new nexacro.Spin_CurrentStyle(this);};_pSpin.on_find_CurrentStyle_buttonalign=function(_a){var _b=this._find_pseudo_obj("buttonalign",_a,"align");return (_b)?_b:nexacro.Spin._default_buttonalign;};_pSpin.on_find_CurrentStyle_buttonsize=function(_a){var _b=this._find_pseudo_obj("buttonsize",_a);return (_b)?_b:nexacro.Spin._default_buttonsize;};_pSpin.on_update_style_buttonsize=function(){var _a=this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize();};_pSpin.on_update_style_buttonalign=function(){var _a=this.currentstyle.buttonalign=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.on_apply_style_buttonalign();};_pSpin.on_apply_style_align=function(_a){if(!_a){_a=this.on_find_CurrentStyle_align(this._pseudo);}if(this.spinedit){this.spinedit.style.set_align(_a._value);}};_pSpin.on_apply_style_color=function(_a){if(this.spinedit){this.spinedit.on_apply_style_color(_a);}};_pSpin.on_apply_style_font=function(_a){if(this.spinedit){this.spinedit.on_apply_style_font(_a);}};_pSpin.on_apply_style_buttonsize=function(){this._recalcLayout();};_pSpin.on_apply_style_buttonalign=function(){this._recalcLayout();};_pSpin.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this.spinedit){this.spinedit.on_apply_style_accessibility(_a);}};_pSpin.on_apply_style_rtlimagemirroring=function(_a){nexacro.Component.prototype.on_apply_style_rtlimagemirroring.call(this,_a);};_pSpin.on_create_contents=function(){if(this._control_element){this.spinupbutton=new nexacro.SpinButtonCtrl("spinupbutton","absolute",0,0,0,0,null,null,this);this.spindownbutton=new nexacro.SpinButtonCtrl("spindownbutton","absolute",0,0,0,0,null,null,this);var _a=this.spinedit=new nexacro.SpinEditCtrl("spinedit","absolute",0,0,0,0,null,null,this);this.spinedit.createComponent();this.spinupbutton.createComponent();this.spindownbutton.createComponent();}};_pSpin.on_created_contents=function(){this.on_apply_readonly();this.on_apply_circulation();this.on_apply_displaycomma();this.on_apply_displaynulltext();this.on_apply_type();this.spinupbutton._setEventHandler("onclick",this.on_notify_spinupbutton_click,this);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindownbutton_click,this);this.spinedit._setEventHandler("ontextchange",this.on_notify_spin_textchange,this);this.spinedit._setEventHandler("ontextchanged",this.on_notify_spin_textchanged,this);this.spinedit._setEventHandler("cancharchange",this.on_notify_spin_cancharchange,this);this.spinedit._setEventHandler("onchar",this.on_notify_spin_char,this);this.spinedit._setEventHandler("oneditclick",this.on_notify_spin_editclick,this);this.spinedit._setEventHandler("onkeydown",this.on_notify_spin_keydown,this);this.spinupbutton.on_created();this.spindownbutton.on_created();this.spinedit.on_created();this._setAccessibilityInfoValueMax(this.max);this._setAccessibilityInfoValueMin(this.min);this._setAccessibilityInfoValueCur(this.value);this._setAccessibilityActiveDescendant(this.spinedit);this.on_apply_prop_rtldirection();this._old_value=this.value;};_pSpin.on_destroy_contents=function(){if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}if(this.spinedit){this.spinedit.destroy();this.spinedit=null;}};_pSpin.on_change_containerRect=function(){this._recalcLayout();};_pSpin.on_apply_prop_enable=function(_a){this._updateButton();};_pSpin.on_apply_custom_setfocus=function(_a){if(this.spinedit&&this.spinedit.enable==true){this.spinedit.on_apply_custom_setfocus(_a);}};_pSpin.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this._setValue(undefined);return true;}};_pSpin.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=parseFloat(_f);if(isNaN(_g)){_g=_f;}this._setValue(_g);return true;}return false;};_pSpin.on_getBindableProperties=function(){return "value";};_pSpin.on_get_style_accessibility_label=function(){var _a="";return _a;};_pSpin._on_getAccessibilityAdditionalLabel=function(){var _a="";if(this.spinedit&&this.spinedit._edit_base_api){_a=this.spinedit._edit_base_api._on_getAccessibilityAdditionalLabel();}return _a+" "+this.min+" "+this.max;};_pSpin._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this.spinedit._input_element&&this._status!="focus"){if(!this.spinedit._input_element._wantAccessibilityAdditionalLabel||!this.spinedit._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pSpin._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrow;this._want_arrow=false;return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pSpin.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;var _b=this.spinedit;var _c=this.spinupbutton;var _d=this.spindownbutton;if(_b){_b._setRtlDirection(_a);}if(_c){_c._setRtlDirection(_a);}if(_d){_d._setRtlDirection(_a);}};_pSpin.set_type=function(_a){this.type=_a;this.on_apply_type();};_pSpin.on_apply_type=function(){if(this.spinedit){switch(this.type){case "spinonly":this.spinedit.set_visible(false);break;case "noneditable":this.spinedit.set_visible(true);this.spinedit.set_readonly(true);break;case "normal":default:this.spinedit.set_visible(true);this.spinedit.set_readonly(this.readonly);break;}}this._recalcLayout();};_pSpin.set_value=function(_a){if(_a===null||_a===undefined){this._setValue(_a);}else{_a=parseFloat(_a,10);if(isNaN(_a)){return;}var _b=this.applyto_bindSource("value",_a);if(_b==false){return;}this._setValue(_a);}};_pSpin._setValue=function(_a){this._old_value=this.value=_a;this.text=nexacro._toString(_a);this._updateToText();this.on_apply_value();this._updateButton();};_pSpin.on_apply_value=function(){if(this.spinedit){if(this.value===null||this.value===undefined){this.spinedit.set_value(undefined);}else{this.spinedit.set_value(this.value);}this.text=this.spinedit.text;}};_pSpin.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pSpin.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this.spinedit){if(this.type!="noneditable"){this.spinedit.set_readonly(_a);}}};_pSpin.set_displaynulltext=function(_a){this.displaynulltext=_a.toString();this.on_apply_displaynulltext();};_pSpin.on_apply_displaynulltext=function(){if(this.spinedit&&this.displaynulltext){this.spinedit.set_displaynulltext(this.displaynulltext);}};_pSpin.set_increment=function(_a){var _b=parseFloat(_a,10);if(isNaN(_b)){return;}else{this.increment=_b;}this.on_apply_increment();};_pSpin.on_apply_increment=function(){this._updateButton();};_pSpin.set_max=function(_a){var _b=parseFloat(_a,10);if(isNaN(_b)){return;}else{this.max=_b;this._setAccessibilityInfoValueMax(_b);}this.on_apply_max();};_pSpin.on_apply_max=function(){if(this.value>this.max){this.value=this.max;}if(this.max<this.min){this.min=this.max;}this._updateToText();};_pSpin.set_min=function(_a){var _b=parseFloat(_a,10);if(isNaN(_b)){return;}else{this.min=_b;this._setAccessibilityInfoValueMin(_b);}this.on_apply_min();};_pSpin.on_apply_min=function(){if(this.value<this.min){this.value=this.min;}if(this.max<this.min){this.max=this.min;}this._updateToText();};_pSpin.set_displaycomma=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.displaycomma){this.displaycomma=_a;this.on_apply_displaycomma();}};_pSpin.on_apply_displaycomma=function(){if(this.spinedit){if(this.displaycomma){this.spinedit.set_mask(this.displaymask);}else{this.spinedit.set_mask("");}}this._updateToText();};_pSpin.set_circulation=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.circulation){this.circulation=_a;this.on_apply_circulation();}};_pSpin.on_apply_circulation=function(){this._updateButton();};_pSpin.set_text=function(_a){};_pSpin.set_usecontextmenu=function(_a){};_pSpin.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pSpin.on_apply_locale=function(){var _a=this.spinedit;if(_a){_a._setLocale(this._locale);}};_pSpin.getCaretPos=function(){if(this.readonly){return  -1;}return this.spinedit.getCaretPos();};_pSpin.getSelect=function(){return this.spinedit.getSelect();};_pSpin.getSelectedText=function(){return this.spinedit.getSelectedText();};_pSpin.setCaretPos=function(_a){return this.spinedit.setCaretPos(_a);};_pSpin.setSelect=function(_a,_b){this.spinedit.setSelect(_a,_b);};_pSpin.setSelectedText=function(_a){this.spinedit.setSelectedText(_a);};_pSpin.setRange=function(_a,_b){this.set_min(_a);this.set_max(_b);if(this.min>this.max){var _c=this.min;this.min=this.max;this.max=_c;}};_pSpin.updateToDataset=function(){return this.applyto_bindSource("value",this.value);};_pSpin.on_notify_spin_down=function(_a,_b){if(!this.readonly){var _c=true;this.textchangebindflag=true;var _d=parseFloat(this.value,10);if(_d==undefined||_d==null||isNaN(_d)){_d=0;}var _e=_d;var _f=this._calcValue(_d,this.increment,"-");if(this.circulation){if(this.increment>=0){_d=(_f<this.min)?this.max:_f;}else{_d=(_f>this.max)?this.min:_f;}}else{_d=(_f<this.min)?this.min:(_f>this.max)?this.max:_f;}var _g=_e.toString();var _h=this.value=_d;var _i=_d.toString();_c=this.on_fire_onspin(this,_g,_e,_i,_h,false);this.spinedit.on_fire_ontextchanged(this,_e,_h);if(_c||_c===undefined){this.value=_h;}else{this.value=_e;}this._updateToText();}};_pSpin.on_notify_spin_up=function(_a,_b){if(!this.readonly){var _c=true;this.textchangebindflag=true;var _d=parseFloat(this.value,10);if(_d==undefined||_d==null||isNaN(_d)){_d=0;}var _e=_d;var _f=this._calcValue(_d,this.increment,"+");if(this.circulation){if(this.increment>=0){_d=(_f>this.max)?this.min:_f;}else{_d=(_f<this.min)?this.max:_f;}}else{_d=(_f>this.max)?this.max:(_f<this.min)?this.min:_f;}var _g=_e.toString();var _h=this.value=_d;var _i=_d.toString();_c=this.on_fire_onspin(this,_g,_e,_i,_h,true);this.spinedit.on_fire_ontextchanged(this,_e,_h);if(_c||_c===undefined){this.value=_h;}else{this.value=_e;}this._updateToText();}};_pSpin.on_notify_spin_textchange=function(_a,_b){if(_a.parent==this){this._setFocus(false);}var _c=this.on_fire_ontextchange(_a,_b);var _d;if(this.displaycomma){_d=this._commaStrToStr(_b.posttext);}else{_d=_b.posttext;}if(_c){this.textchangebindflag=true;if(isNaN(parseFloat(_d,10))){this.value=this.min;}else{this.value=_d;}this._updateToText(true);}return _c;};_pSpin.on_notify_spin_editclick=function(_a,_b){this.on_fire_oneditclick(_a,_b.caretpos,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,_b.fromobject,_b.fromreferenceobject);};_pSpin.on_notify_spin_textchanged=function(_a,_b){return this.on_fire_ontextchanged(_a,_b);};_pSpin.on_notify_spin_char=function(_a,_b){return this.on_fire_onchar(_a,_b);};_pSpin.on_notify_spin_cancharchange=function(_a,_b){return this.on_fire_cancharchange(_a,_b);};_pSpin.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){this._want_arrow=true;nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pSpin.on_notify_spin_keydown=function(_a,_b){switch(_b.keycode){case nexacro.Event.KEY_UP:if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_spin_up();}break;case nexacro.Event.KEY_DOWN:if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_spin_down();}break;case nexacro.Event.KEY_ENTER:this.textchangebindflag=true;this._valuechange();break;}return true;};_pSpin.on_notify_spinupbutton_click=function(_a,_b){this.on_notify_spin_up(_a,_b);};_pSpin.on_notify_spindownbutton_click=function(_a,_b){this.on_notify_spin_down(_a,_b);};_pSpin.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.visible&&this._isEnable()&&this.enableevent){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(this,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this,_n);return this.oneditclick._fireEvent(this,_o);}}return false;};_pSpin.on_fire_ontextchange=function(_a,_b){if(this.ontextchange&&this.ontextchange._has_handlers){var _c=new nexacro.TextChangeEventInfo(this,"ontextchange",_b.chartext,_b.pretext,_b.posttext,"","");return this.ontextchange._fireCheckEvent(this,_c);}return true;};_pSpin.on_fire_ontextchanged=function(_a,_b){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _c=new nexacro.TextChangedEventInfo(this,"ontextchanged",_b.pretext,_b.posttext);return this.ontextchanged._fireEvent(this,_c);}return true;};_pSpin.on_fire_onchar=function(_a,_b){if(this.onchar&&this.onchar._has_handlers){var _c=new nexacro.TextChangeEventInfo(this,"onchar",_b.chartext,_b.pretext,_b.posttext);return this.onchar._fireCheckEvent(this,_c);}return true;};_pSpin.on_fire_cancharchange=function(_a,_b){if(this.cancharchange&&this.cancharchange._has_handlers){var _c=new nexacro.CanCharEventInfo(_a,"cancharchange",_b.chartext,_b.pretext,_b.posttext);return this.cancharchange._fireCheckEvent(this,_c);}return true;};_pSpin.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(this,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pSpin.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}return true;};_pSpin.on_fire_onsetfocus=function(_a,_b){this.on_apply_custom_setfocus();if(this.onsetfocus&&this.onsetfocus._has_handlers){var _c=new nexacro.SetFocusEventInfo(this,"",_a,_b);return this.onsetfocus._fireEvent(this,_c);}return false;};_pSpin.on_fire_onspin=function(_a,_b,_c,_d,_e,_f){if(this.onspin&&this.onspin._has_handlers){var _g=new nexacro.SpinEventInfo(_a,"onspin",_b,_c,_d,_e,_f);return this.onspin._fireEvent(this,_g);}return true;};_pSpin._on_killfocus=function(_a,_b){var _c=this._getWindow();if(_c&&_c._is_active_window!=true&&!_a){return;}this._valuechange();};_pSpin._recalcLayout=function(){if(this._control_element&&this.spinupbutton&&this.spindownbutton&&this.spinedit){var _a=this._client_width,_b=this._client_height;var _c=0,_d=0,_e=0,_f=0;var _g=0;h=0;var _h=0,_i=0,_j=0,_k=0;var _l=0,_m=0,_n=0,_o=0;var _p=0,_q=0,_r=0,_s=0;var _t;if(_t){_h=_t.top;_i=_t.left;_k=_t.bottom;_j=_t.right;}var _u=this.spindownbutton.on_find_CurrentStyle_margin();if(_u){_l=_u.top;_m=_u.left;_o=_u.bottom;_n=_u.right;}var _v=this.spinedit.on_find_CurrentStyle_margin();if(_v){_p=_v.top;_q=_v.left;_s=_v.bottom;_r=_v.right;}var _w=h%2==0?2:3;var _x=0,_y=_b-_w;if(this.type=="spinonly"){_x=_a;}else{_x=_y;}var _z=this.on_find_CurrentStyle_buttonsize();if(_z){_z=parseInt(_z)|0;if(_z> -1){_x=_z;}else{_x=0;}}var _aa=this.on_find_CurrentStyle_buttonalign();if(_aa.halign!="left"){_c=_a-_x-_j;_e=_h;_g=_x;h=_y/2-_k;this.spinupbutton.move(_c,_e,_g,h,null,null);_e=_e+h+_k+_l+_w;this.spindownbutton.move(_c,_e,_g,h,null,null);if(this.type!="spinonly"){_c=_q;_e=_p;_g=_a-_x-_r-_i;h=_b-_o;this.spinedit.move(_c,_e,_g,h,_d,_f);}}else{_c=_i;_e=_h;_g=_x-_j;h=_y/2-_k;this.spinupbutton.move(_c,_e,_g,h,null,null);_e=_e+h+_k+_l+_w;this.spindownbutton.move(_c,_e,_g,h,null,null);if(this.type!="spinonly"){_c=_c+_x+_q;_e=_p;_g=_a-_x-_r;h=_b-_s;this.spinedit.move(_c,_e,_g,h,null,null);}}}};_pSpin._updateButton=function(){if(this._control_element){var _a=this.spinupbutton;var _b=this.spindownbutton;var _c=this.spinedit;var _d=this.value;if(!this._isEnable()){_a._setEnable(false);_b._setEnable(false);_c._setEnable(false);}else{_c._setEnable(true);if(!this.circulation){if(_d==null||_d==undefined){_b._setEnable(false);_a._setEnable(true);return;}if(this.increment>=0){if(this.max>_d){_a._setEnable(true);}else{_a._setEnable(false);}if(this.min<_d){_b._setEnable(true);}else{_b._setEnable(false);}}else{if(this.max>_d){_b._setEnable(true);}else{_b._setEnable(false);}if(this.min<_d){_a._setEnable(true);}else{_a._setEnable(false);}}}else{_a._setEnable(true);_b._setEnable(true);}}}};_pSpin._updateToText=function(_a){var _b=this.value;if(_b===null||_b===undefined){this.value=undefined;this.text="";}else if(_b.date||_b.time||_b.blob||_b.datetime){_b=undefined;this.text="";}else{_b=this._commaStrToStr(this.value);}if(this.spinedit){if(!_a){this.spinedit.set_value(_b);this.text=this.spinedit.text;}this._setAccessibilityInfoValueCur(_b);}this._updateButton();};_pSpin._commaStrToStr=function(_a){var _b=nexacro._toString(_a);if(_a==undefined){_b="";}return _b.replace(/","/g,"");};_pSpin._valuechange=function(){if(!this._is_alive){return;}var _a=this.value;if(_a<=this.max&&_a>=this.min){this.value=_a;}else if(_a>this.max){this.value=this.max;}else if(_a<this.min){this.value=this.min;}else{this.value=undefined;}var _b=this.value;var _c=nexacro._toString(this.value);var _d=this._old_value;var _e=nexacro._toString(this._old_value);var _f=this.on_fire_canchange(this,_e,_d,_c,_b);if(_f===false){this.value=this._old_value;this._updateToText();}else{this._setValue(this.value);if(this.textchangebindflag){this.applyto_bindSource("value",this.value);this.textchangebindflag=false;}if(_d!=_b){this.on_fire_onchanged(this,_e,_d,_c,_b);}}};_pSpin._calcValue=function(_a,_b,_c){var _d=1;var _e=_a.toString();var _f=_b.toString();var _g=_e.indexOf(".");var _h=_f.indexOf(".");if(_g> -1||_h> -1){var _i=_g> -1?_e.substring(_g+1,_e.length):"";var _j=_h> -1?_f.substring(_h+1,_f.length):"";var _k=_i.length>=_j.length?_i.length:_j.length;_d=Math.pow(10,_k);_a=Math.round(_a*_d);_b=Math.round(_b*_d);}if(_c=="+"){return (_a+_b)/_d;}else{return (_a-_b)/_d;}};delete _pSpin;_pSpin=null;nexacro.SpinButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pSpinButtonCtrl=nexacro.SpinButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.SpinButtonCtrl);_pSpinButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.spinedit;if(_c&&_c.enable==true){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};delete _pSpinButtonCtrl;_pSpinButtonCtrl=null;nexacro.SpinEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MaskEditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._accessibility_role="spin";};var _pSpinEditCtrl=nexacro.SpinEditCtrl.prototype=nexacro._createPrototype(nexacro.MaskEditCtrl,nexacro.SpinEditCtrl);_pSpinEditCtrl.on_find_CurrentStyle_align=function(_a){return this.parent._find_pseudo_obj("align",_a,"align")||this._find_ctrl_pseudo_obj("align",_a,"align")||nexacro.Component._default_align;};_pSpinEditCtrl.on_find_CurrentStyle_color=function(_a){return this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;};_pSpinEditCtrl.on_find_CurrentStyle_font=function(_a){return this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;};_pSpinEditCtrl.on_find_CurrentStyle_accessibility=function(_a){var _b=this._find_pseudo_obj("accessibility",_a,"accessibility");return _b?_b:this.parent.on_find_CurrentStyle_accessibility(_a);};_pSpinEditCtrl._getAccessibilityRole=function(_a){_a=this.parent.on_find_CurrentStyle_accessibility(this._pseudo);return this.parent._getAccessibilityRole(_a);};delete _pSpinEditCtrl;_pSpinEditCtrl=null;nexacro.SpinCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Spin.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pSpinCtrl=nexacro.SpinCtrl.prototype=nexacro._createPrototype(nexacro.Spin,nexacro.SpinCtrl);_pSpinCtrl._type_name="SpinControl";nexacro._setForControlStyleFinder(_pSpinCtrl);delete _pSpinCtrl;_pSpinCtrl=null;};if(!nexacro.DatePicker){nexacro.DatePicker_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.ncpadding=null;this.usetrailingday=null;this.headerformat=null;this.weekformat=null;this.viewyearspin=null;this.viewmonthspin=null;this.accessibility=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.headerheight=null;this.headercolor=null;this.headerbackground=null;this.headergradation=null;this.headerbordertype=null;this.headerborder=null;this.headerfont=null;this.bodybackground=null;this.bodygradation=null;this.bodybordertype=null;this.bodyborder=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todaycolor=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdaycolor=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundaycolor=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdaycolor=null;this.trailingdayfont=null;};var _pDatePickerStyle=nexacro._createPrototype(nexacro.Style,nexacro.DatePicker_Style);nexacro.DatePicker_Style.prototype=_pDatePickerStyle;eval(nexacro._createPaddingAttributeEvalStr("_pDatePickerStyle","ncpadding"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","usetrailingday"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","headerformat"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","weekformat"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","daysize"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","daycolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","daybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","daygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","dayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","daybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","dayfont"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","headerheight"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","headercolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","headerbackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","headergradation"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","headerbordertype"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","headerborder"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","headerfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","bodybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","bodygradation"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","bodybordertype"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","bodyborder"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","weekcolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","weekbackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","weekgradation"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","weekfont"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","saturdaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","sundaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","todaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerStyle","trailingdaycolor"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","viewyearspin"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerStyle","viewmonthspin"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","todaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","todaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","todayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","todaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","todayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","saturdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","saturdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","saturdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","saturdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","saturdayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","sundaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","sundaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","sundayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","sundaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","sundayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerStyle","trailingdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerStyle","trailingdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerStyle","trailingdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerStyle","trailingdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerStyle","trailingdayfont"));eval(nexacro._createAccessibilityAttributeEvalStr("_pDatePickerStyle","accessibility"));_pDatePickerStyle.__custom_emptyObject=function(){this.ncpadding=null;this.usetrailingday=null;this.headerformat=null;this.weekformat=null;this.viewyearspin=null;this.viewmonthspin=null;this.accessibility=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.headerheight=null;this.headercolor=null;this.headerbackground=null;this.headergradation=null;this.headerbordertype=null;this.headerborder=null;this.headerfont=null;this.bodybackground=null;this.bodygradation=null;this.bodybordertype=null;this.bodyborder=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todaycolor=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdaycolor=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundaycolor=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdaycolor=null;this.trailingdayfont=null;};_pDatePickerStyle.__get_custom_style_value=function(){var _a="";if(this.ncpadding&&!this.ncpadding._is_empty){_a+="ncpadding:"+this.ncpadding._value+"; ";}if(this.usetrailingday&&!this.usetrailingday._is_empty){_a+="usetrailingday:"+this.usetrailingday._value+"; ";}if(this.headerformat&&!this.headerformat._is_empty){_a+="headerformat:"+this.headerformat._value+"; ";}if(this.weekformat&&!this.weekformat._is_empty){_a+="weekformat:"+this.weekformat._value+"; ";}if(this.daysize&&!this.daysize._is_empty){_a+="daysize:"+this.daysize._value+"; ";}if(this.daycolor&&!this.daycolor._is_empty){_a+="daycolor:"+this.daycolor._value+"; ";}if(this.daybackground&&!this.daybackground._is_empty){_a+="daybackground:"+this.daybackground._value+"; ";}if(this.daygradation&&!this.daygradation._is_empty){_a+="daygradation:"+this.daygradation._value+"; ";}if(this.dayborder&&!this.dayborder._is_empty){_a+="dayborder:"+this.dayborder._value+"; ";}if(this.daybordertype&&!this.daybordertype._is_empty){_a+="daybordertype:"+this.daybordertype._value+"; ";}if(this.dayfont&&!this.dayfont._is_empty){_a+="dayfont:"+this.dayfont._value+"; ";}if(this.headerheight&&!this.headerheight._is_empty){_a+="headerheight:"+this.headerheight._value+"; ";}if(this.headercolor&&!this.headercolor._is_empty){_a+="headercolor:"+this.headercolor._value+"; ";}if(this.headerbackground&&!this.headerbackground._is_empty){_a+="headerbackground:"+this.headerbackground._value+"; ";}if(this.headergradation&&!this.headergradation._is_empty){_a+="headergradation:"+this.headergradation._value+"; ";}if(this.headerbordertype&&!this.headerbordertype._is_empty){_a+="headerbordertype:"+this.headerbordertype._value+"; ";}if(this.headerborder&&!this.headerborder._is_empty){_a+="headerborder:"+this.headerborder._value+"; ";}if(this.headerfont&&!this.headerfont._is_empty){_a+="headerfont:"+this.headerfont._value+"; ";}if(this.bodybackground&&!this.bodybackground._is_empty){_a+="bodybackground:"+this.bodybackground._value+"; ";}if(this.bodygradation&&!this.bodygradation._is_empty){_a+="bodygradation:"+this.bodygradation._value+"; ";}if(this.bodybordertype&&!this.bodybordertype._is_empty){_a+="bodybordertype:"+this.bodybordertype._value+"; ";}if(this.bodyborder&&!this.bodyborder._is_empty){_a+="bodyborder:"+this.bodyborder._value+"; ";}if(this.weekcolor&&!this.weekcolor._is_empty){_a+="weekcolor:"+this.weekcolor._value+"; ";}if(this.weekbackground&&!this.weekbackground._is_empty){_a+="weekbackground:"+this.weekbackground._value+"; ";}if(this.weekgradation&&!this.weekgradation._is_empty){_a+="weekgradation:"+this.weekgradation._value+"; ";}if(this.weekfont&&!this.weekfont._is_empty){_a+="weekfont:"+this.weekfont._value+"; ";}if(this.saturdaycolor&&!this.saturdaycolor._is_empty){_a+="saturdaycolor:"+this.saturdaycolor._value+"; ";}if(this.sundaycolor&&!this.sundaycolor._is_empty){_a+="sundaycolor:"+this.sundaycolor._value+"; ";}if(this.todaycolor&&!this.todaycolor._is_empty){_a+="todaycolor:"+this.todaycolor._value+"; ";}if(this.trailingdaycolor&&!this.trailingdaycolor._is_empty){_a+="trailingdaycolor:"+this.trailingdaycolor._value+"; ";}if(this.viewyearspin&&!this.viewyearspin._is_empty){_a+="viewyearspin:"+this.viewyearspin._value+"; ";}if(this.viewmonthspin&&!this.viewmonthspin._is_empty){_a+="viewmonthspin:"+this.viewmonthspin._value+"; ";}if(this.todaybackground&&!this.todaybackground._is_empty){_a+="todaybackground:"+this.todaybackground._value+"; ";}if(this.todaygradation&&!this.todaygradation._is_empty){_a+="todaygradation:"+this.todaygradation._value+"; ";}if(this.todayborder&&!this.todayborder._is_empty){_a+="todayborder:"+this.todayborder._value+"; ";}if(this.todaybordertype&&!this.todaybordertype._is_empty){_a+="todaybordertype:"+this.todaybordertype._value+"; ";}if(this.todayfont&&!this.todayfont._is_empty){_a+="todayfont:"+this.todayfont._value+"; ";}if(this.saturdaybackground&&!this.saturdaybackground._is_empty){_a+="saturdaybackground:"+this.saturdaybackground._value+"; ";}if(this.saturdaygradation&&!this.saturdaygradation._is_empty){_a+="saturdaygradation:"+this.saturdaygradation._value+"; ";}if(this.saturdayborder&&!this.saturdayborder._is_empty){_a+="saturdayborder:"+this.saturdayborder._value+"; ";}if(this.saturdaybordertype&&!this.saturdaybordertype._is_empty){_a+="saturdaybordertype:"+this.saturdaybordertype._value+"; ";}if(this.saturdayfont&&!this.saturdayfont._is_empty){_a+="saturdayfont:"+this.saturdayfont._value+"; ";}if(this.sundaybackground&&!this.sundaybackground._is_empty){_a+="sundaybackground:"+this.sundaybackground._value+"; ";}if(this.sundaygradation&&!this.sundaygradation._is_empty){_a+="sundaygradation:"+this.sundaygradation._value+"; ";}if(this.sundayborder&&!this.sundayborder._is_empty){_a+="sundayborder:"+this.sundayborder._value+"; ";}if(this.sundaybordertype&&!this.sundaybordertype._is_empty){_a+="sundaybordertype:"+this.sundaybordertype._value+"; ";}if(this.sundayfont&&!this.sundayfont._is_empty){_a+="sundayfont:"+this.sundayfont._value+"; ";}if(this.trailingdaybackground&&!this.trailingdaybackground._is_empty){_a+="trailingdaybackground:"+this.trailingdaybackground._value+"; ";}if(this.trailingdaygradation&&!this.trailingdaygradation._is_empty){_a+="trailingdaygradation:"+this.trailingdaygradation._value+"; ";}if(this.trailingdayborder&&!this.trailingdayborder._is_empty){_a+="trailingdayborder:"+this.trailingdayborder._value+"; ";}if(this.trailingdaybordertype&&!this.trailingdaybordertype._is_empty){_a+="trailingdaybordertype:"+this.trailingdaybordertype._value+"; ";}if(this.trailingdayfont&&!this.trailingdayfont._is_empty){_a+="trailingdayfont:"+this.trailingdayfont._value+"; ";}if(this.accessibility&&this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.DatePicker_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.ncpadding=null;this.usetrailingday=null;this.headerformat=null;this.weekformat=null;this.viewyearspin=null;this.viewmonthspin=null;this.accessibility=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.headerheight=null;this.headercolor=null;this.headerbackground=null;this.headergradation=null;this.headerbordertype=null;this.headerborder=null;this.headerfont=null;this.bodybackground=null;this.bodygradation=null;this.bodybordertype=null;this.bodyborder=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todaycolor=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdaycolor=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundaycolor=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdaycolor=null;this.trailingdayfont=null;};var _pDatePickerCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.DatePicker_CurrentStyle);nexacro.DatePicker_CurrentStyle.prototype=_pDatePickerCurrentStyle;_pDatePickerCurrentStyle.__custom_emptyObject=_pDatePickerStyle.__custom_emptyObject;_pDatePickerCurrentStyle.__get_custom_style_value=_pDatePickerStyle.__get_custom_style_value;_pDatePickerStyle=null;_pDatePickerCurrentStyle=null;nexacro.DatePicker=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._delay_create=_j;this._calendar=_i;this._accessibility_role="datepicker";this._has_accessibility_value=false;this._is_focus_accept=false;this._locale="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"ondayclick":1,"oncloseup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pDatePicker=nexacro._createPrototype(nexacro.Component,nexacro.DatePicker);nexacro.DatePicker.prototype=_pDatePicker;_pDatePicker._type_name="DatePicker";_pDatePicker.prevbutton="";_pDatePicker.nextbutton="";_pDatePicker.yearspin="";_pDatePicker.monthspin="";_pDatePicker.value="";_pDatePicker._header=null;_pDatePicker._body=null;_pDatePicker._preDay= -1;_pDatePicker._preToday= -1;_pDatePicker._selected_year= -1;_pDatePicker._selected_month= -1;_pDatePicker._selected_day= -1;_pDatePicker._delay_create=false;nexacro.DatePicker._defaultNCPadding=nexacro._getCachedStyleObj("padding","30 6 6 6");nexacro.DatePicker._defaultSundaycolor=nexacro._getCachedStyleObj("color","red");nexacro.DatePicker._defaultSaturdaycolor=nexacro._getCachedStyleObj("color","blue");nexacro.DatePicker._defaultTodaycolor=nexacro._getCachedStyleObj("color","#00FAFA");nexacro.DatePicker._defaultHeaderheight=nexacro._getCachedStyleObj("value","21");nexacro.DatePicker._defaultDaysize=nexacro._getCachedStyleObj("value","26 26");nexacro.DatePicker._defaultWeekformat=nexacro._getCachedStyleObj("value","S M T W T F S");nexacro.DatePicker._defaultHeaderformat=nexacro._getCachedStyleObj("value","yyyy.MM");nexacro.DatePicker._defaultUseTrailngday=nexacro._getCachedStyleObj("value","false");nexacro.DatePicker._defaultViewYearSpin=nexacro._getCachedStyleObj("value","false");nexacro.DatePicker._defaultViewMonthSpin=nexacro._getCachedStyleObj("value","false");_pDatePicker.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_ncpadding(_a);if(_b.ncpadding!=_e){_b.ncpadding=_e;this.on_apply_style_ncpadding(_e);}var _f=this.on_find_CurrentStyle_headerformat(_a);if(_b.headerformat!=_f){_b.headerformat=_f;this.on_apply_style_headerformat(_f);}var _g=this.on_find_CurrentStyle_headerheight(_a);if(_b.headerheight!=_g){_b.headerheight=_g;this.on_apply_style_headerheight(_g);}var _h=this.on_find_CurrentStyle_headercolor(_a);if(_b.headercolor!=_h){_b.headercolor=_h;this.on_apply_style_headercolor(_h);}var _i=this.on_find_CurrentStyle_headerbackground(_a);if(_b.headerbackground!=_i){_b.headerbackground=_i;this.on_apply_style_headerbackground(_i);}var _j=this.on_find_CurrentStyle_headergradation(_a);if(_b.headergradation!=_j){_b.headergradation=_j;this.on_apply_style_headergradation(_j);}var _k=this.on_find_CurrentStyle_headerbordertype(_a);if(_b.headerbordertype!=_k){_b.headerbordertype=_k;this.on_apply_style_headerbordertype(_k);}var _l=this.on_find_CurrentStyle_headerborder(_a);if(_b.headerborder!=_l){_b.headerborder=_l;this.on_apply_style_headerborder(_l);}var _m=this.on_find_CurrentStyle_headerfont(_a);if(_b.headerfont!=_m){_b.headerfont=_m;this.on_apply_style_headerfont(_m);}var _n=this.on_find_CurrentStyle_bodybackground(_a);if(_b.bodybackground!=_n){_b.bodybackground=_n;this.on_apply_style_bodybackground(_n);}var _o=this.on_find_CurrentStyle_bodygradation(_a);if(_b.bodygradation!=_o){_b.bodygradation=_o;this.on_apply_style_bodygradation(_o);}var _p=this.on_find_CurrentStyle_bodybordertype(_a);if(_b.bodybordertype!=_p){_b.bodybordertype=_p;this.on_apply_style_bodybordertype(_p);}var _q=this.on_find_CurrentStyle_bodyborder(_a);if(_b.bodyborder!=_q){_b.bodyborder=_q;this.on_apply_style_bodyborder(_q);}var _r=this.on_find_CurrentStyle_weekformat(_a);if(_b.weekformat!=_r){_b.weekformat=_r;}var _s=this.on_find_CurrentStyle_weekcolor(_a);if(_b.weekcolor!=_s){_b.weekcolor=_s;}var _t=this.on_find_CurrentStyle_weekbackground(_a);if(_b.weekbackground!=_t){_b.weekbackground=_t;}var _u=this.on_find_CurrentStyle_weekgradation(_a);if(_b.weekgradation!=_u){_b.weekgradation=_u;}var _v=this.on_find_CurrentStyle_weekfont(_a);if(_b.weekfont!=_v){_b.weekfont=_v;}var _w=this.on_find_CurrentStyle_todaycolor(_a);if(_b.todaycolor!=_w){_b.todaycolor=_w;}var _x=this.on_find_CurrentStyle_todaybackground(_a);if(_b.todaybackground!=_x){_b.todaybackground=_x;}var _y=this.on_find_CurrentStyle_todaygradation(_a);if(_b.todaygradation!=_y){_b.todaygradation=_y;}var _z=this.on_find_CurrentStyle_todaybordertype(_a);if(_b.todaybordertype!=_z){_b.todaybordertype=_z;}var _aa=this.on_find_CurrentStyle_todayborder(_a);if(_b.todayborder!=_aa){_b.todayborder=_aa;}var _ab=this.on_find_CurrentStyle_todayfont(_a);if(_b.todayfont!=_ab){_b.todayfont=_ab;}var _ac=this.on_find_CurrentStyle_saturdaycolor(_a);if(_b.saturdaycolor!=_ac){_b.saturdaycolor=_ac;}var _ad=this.on_find_CurrentStyle_saturdaybackground(_a);if(_b.saturdaybackground!=_ad){_b.saturdaybackground=_ad;}var _ae=this.on_find_CurrentStyle_saturdaygradation(_a);if(_b.saturdaygradation!=_ae){_b.saturdaygradation=_ae;}var _af=this.on_find_CurrentStyle_saturdaybordertype(_a);if(_b.saturdaybordertype!=_af){_b.saturdaybordertype=_af;}var _ag=this.on_find_CurrentStyle_saturdayborder(_a);if(_b.saturdayborder!=_ag){_b.saturdayborder=_ag;}var _ah=this.on_find_CurrentStyle_saturdayfont(_a);if(_b.saturdayfont!=_ah){_b.saturdayfont=_ah;}var _ai=this.on_find_CurrentStyle_sundaycolor(_a);if(_b.sundaycolor!=_ai){_b.sundaycolor=_ai;}var _aj=this.on_find_CurrentStyle_sundaybackground(_a);if(_b.sundaybackground!=_aj){_b.sundaybackground=_aj;}var _ak=this.on_find_CurrentStyle_sundaygradation(_a);if(_b.sundaygradation!=_ak){_b.sundaygradation=_ak;}var _al=this.on_find_CurrentStyle_sundaybordertype(_a);if(_b.sundaybordertype!=_al){_b.sundaybordertype=_al;}var _am=this.on_find_CurrentStyle_sundayborder(_a);if(_b.sundayborder!=_am){_b.sundayborder=_am;}var _an=this.on_find_CurrentStyle_sundayfont(_a);if(_b.sundayfont!=_an){_b.sundayfont=_an;}var _ao=this.on_find_CurrentStyle_usetrailingday(_a);if(_b.usetrailingday!=_ao){_b.usetrailingday=_ao;}var _ap=this.on_find_CurrentStyle_trailingdaycolor(_a);if(_b.trailingdaycolor!=_ap){_b.trailingdaycolor=_ap;}var _aq=this.on_find_CurrentStyle_trailingdaybackground(_a);if(_b.trailingdaybackground!=_aq){_b.trailingdaybackground=_aq;}var _ar=this.on_find_CurrentStyle_trailingdaygradation(_a);if(_b.trailingdaygradation!=_ar){_b.trailingdaygradation=_ar;}var _as=this.on_find_CurrentStyle_trailingdaybordertype(_a);if(_b.trailingdaybordertype!=_as){_b.trailingdaybordertype=_as;}var _at=this.on_find_CurrentStyle_trailingdayborder(_a);if(_b.trailingdayborder!=_at){_b.trailingdayborder=_at;}var _au=this.on_find_CurrentStyle_trailingdayfont(_a);if(_b.trailingdayfont!=_au){_b.trailingdayfont=_au;}var _av=this.on_find_CurrentStyle_viewyearspin(_a);if(_b.viewyearspin!=_av){_b.viewyearspin=_av;this.on_apply_style_viewyearspin(_av);}var _aw=this.on_find_CurrentStyle_viewmonthspin(_a);if(_b.viewmonthspin!=_aw){_b.viewmonthspin=_aw;this.on_apply_style_viewmonthspin(_aw);}};_pDatePicker.on_create_custom_style=function(){return new nexacro.DatePicker_Style(this);};_pDatePicker.on_create_custom_currentStyle=function(){return new nexacro.DatePicker_CurrentStyle();};_pDatePicker.on_find_CurrentStyle_align=function(_a){return this.parent._find_pseudo_obj("popupalign",_a,"align")||this._find_pseudo_obj("align",_a,"align");};_pDatePicker.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor("cursor",_a)||this._find_pseudo_obj("cursor",_a)||nexacro.Component._default_cursor;};_pDatePicker.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("popupbackground",_a,"background")||this._find_pseudo_obj("background",_a,"background");};_pDatePicker.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("popupborder",_a,"border")||this._find_pseudo_obj("border",_a,"border");};_pDatePicker.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("popupbordertype",_a,"bordertype")||this._find_pseudo_obj("bordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("popupgradation",_a,"gradation")||this._find_pseudo_obj("gradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_ncpadding=function(_a){return this._find_pseudo_obj("ncpadding",_a,"padding")||nexacro.DatePicker._defaultNCPadding;};_pDatePicker.on_find_CurrentStyle_daysize=function(_a){return this.parent._find_pseudo_obj("daysize",_a)||this._find_pseudo_obj("daysize",_a)||nexacro.DatePicker._defaultDaysize;};_pDatePicker.on_find_CurrentStyle_daybackground=function(_a){return this.parent._find_pseudo_obj("daybackground",_a,"background")||this._find_pseudo_obj("daybackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_daygradation=function(_a){return this.parent._find_pseudo_obj("daygradation",_a,"gradation")||this._find_pseudo_obj("daygradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_dayborder=function(_a){return this.parent._find_pseudo_obj("dayborder",_a,"border")||this._find_pseudo_obj("dayborder",_a,"border");};_pDatePicker.on_find_CurrentStyle_daybordertype=function(_a){return this.parent._find_pseudo_obj("daybordertype",_a,"bordertype")||this._find_pseudo_obj("daybordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_daycolor=function(_a){return this.parent._find_pseudo_obj("daycolor",_a,"color")||this._find_pseudo_obj("daycolor",_a,"color")||this._find_inherit_pseudo_obj("daycolor",_a);};_pDatePicker.on_find_CurrentStyle_dayfont=function(_a){return this.parent._find_pseudo_obj("dayfont",_a,"font")||this._find_pseudo_obj("dayfont",_a,"font")||this._find_inherit_pseudo_obj("dayfont",_a);};_pDatePicker.on_find_CurrentStyle_headerformat=function(_a){return this._find_pseudo_obj("headerformat",_a)||nexacro.DatePicker._defaultHeaderformat;};_pDatePicker.on_find_CurrentStyle_headerheight=function(_a){return this._find_pseudo_obj("headerheight",_a)||nexacro.DatePicker._defaultHeaderheight;};_pDatePicker.on_find_CurrentStyle_headerbackground=function(_a){return this._find_pseudo_obj("headerbackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_headergradation=function(_a){return this._find_pseudo_obj("headergradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_headerborder=function(_a){return this._find_pseudo_obj("headerborder",_a,"border");};_pDatePicker.on_find_CurrentStyle_headerbordertype=function(_a){return this._find_pseudo_obj("headerbordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_headercolor=function(_a){return this._find_pseudo_obj("headercolor",_a,"color");};_pDatePicker.on_find_CurrentStyle_headerfont=function(_a){return this._find_pseudo_obj("headerfont",_a,"font");};_pDatePicker.on_find_CurrentStyle_bodybackground=function(_a){return this._find_pseudo_obj("bodybackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_bodygradation=function(_a){return this._find_pseudo_obj("bodygradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_bodyborder=function(_a){return this._find_pseudo_obj("bodyborder",_a,"border");};_pDatePicker.on_find_CurrentStyle_bodybordertype=function(_a){return this._find_pseudo_obj("bodybordertype",_a,"bordertype");};_pDatePicker.on_find_CurrentStyle_weekformat=function(_a){return this._find_pseudo_obj("weekformat",_a);};_pDatePicker.on_find_CurrentStyle_weekbackground=function(_a){return this._find_pseudo_obj("weekbackground",_a,"background");};_pDatePicker.on_find_CurrentStyle_weekgradation=function(_a){return this._find_pseudo_obj("weekgradation",_a,"gradation");};_pDatePicker.on_find_CurrentStyle_weekcolor=function(_a){return this._find_pseudo_obj("weekcolor",_a,"color");};_pDatePicker.on_find_CurrentStyle_weekfont=function(_a){return this._find_pseudo_obj("weekfont",_a)||nexacro.Component._default_font;};_pDatePicker.on_find_CurrentStyle_saturdaybackground=function(_a){return this._find_pseudo_obj("saturdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_saturdayborder=function(_a){return this._find_pseudo_obj("saturdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_saturdaybordertype=function(_a){return this._find_pseudo_obj("saturdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_saturdaycolor=function(_a){return this._find_pseudo_obj("saturdaycolor",_a,"color")||nexacro.DatePicker._defaultSaturdaycolor;};_pDatePicker.on_find_CurrentStyle_saturdayfont=function(_a){return this._find_pseudo_obj("saturdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_saturdaygradation=function(_a){return this._find_pseudo_obj("saturdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_sundaybackground=function(_a){return this._find_pseudo_obj("sundaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_sundaygradation=function(_a){return this._find_pseudo_obj("sundaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_sundayborder=function(_a){return this._find_pseudo_obj("sundayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_sundaybordertype=function(_a){return this._find_pseudo_obj("sundaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_sundaycolor=function(_a){return this._find_pseudo_obj("sundaycolor",_a,"color")||nexacro.DatePicker._defaultSundaycolor;};_pDatePicker.on_find_CurrentStyle_sundayfont=function(_a){return this._find_pseudo_obj("sundayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_todaybackground=function(_a){return this._find_pseudo_obj("todaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_todaygradation=function(_a){return this._find_pseudo_obj("todaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_todayborder=function(_a){return this._find_pseudo_obj("todayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_todaybordertype=function(_a){return this._find_pseudo_obj("todaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_todaycolor=function(_a){return this._find_pseudo_obj("todaycolor",_a,"color")||nexacro.DatePicker._defaultTodaycolor;};_pDatePicker.on_find_CurrentStyle_todayfont=function(_a){return this._find_pseudo_obj("todayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_usetrailingday=function(_a){return this.parent._find_pseudo_obj("usetrailingday",_a)||this._find_pseudo_obj("usetrailingday",_a)||nexacro.DatePicker._defaultUseTrailngday;};_pDatePicker.on_find_CurrentStyle_trailingdaybackground=function(_a){return this._find_pseudo_obj("trailingdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePicker.on_find_CurrentStyle_trailingdaygradation=function(_a){return this._find_pseudo_obj("trailingdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePicker.on_find_CurrentStyle_trailingdayborder=function(_a){return this._find_pseudo_obj("trailingdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePicker.on_find_CurrentStyle_trailingdaybordertype=function(_a){return this._find_pseudo_obj("trailingdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePicker.on_find_CurrentStyle_trailingdaycolor=function(_a){return this.parent._find_pseudo_obj("trailingdaycolor",_a,"color")||this._find_pseudo_obj("trailingdaycolor",_a,"color")||this.on_find_CurrentStyle_daycolor(_a);};_pDatePicker.on_find_CurrentStyle_trailingdayfont=function(_a){return this._find_pseudo_obj("trailingdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePicker.on_find_CurrentStyle_viewmonthspin=function(_a){return this.parent._find_pseudo_obj("viewmonthspin",_a)||this._find_pseudo_obj("viewmonthspin",_a)||nexacro.DatePicker._defaultViewMonthSpin;};_pDatePicker.on_find_CurrentStyle_viewyearspin=function(_a){return this.parent._find_pseudo_obj("viewyearspin",_a)||this._find_pseudo_obj("viewyearspin",_a)||nexacro.DatePicker._defaultViewYearSpin;};_pDatePicker.on_update_style_ncpadding=function(){this.on_apply_style_ncpadding(this.currentstyle.ncpadding=this.on_find_CurrentStyle_ncpadding(this._pseudo));};_pDatePicker.on_update_style_daysize=function(){this.on_apply_style_daysize(this.currentstyle.daysize=this.on_find_CurrentStyle_daysize(this._pseudo));};_pDatePicker.on_update_style_daycolor=function(){this.on_apply_style_daycolor(this.currentstyle.daycolor=this.on_find_CurrentStyle_daycolor(this._pseudo));};_pDatePicker.on_update_style_daybackground=function(){this.on_apply_style_daybackground(this.currentstyle.daybackground=this.on_find_CurrentStyle_daybackground(this._pseudo));};_pDatePicker.on_update_style_daygradation=function(){this.on_apply_style_daygradation(this.currentstyle.daygradation=this.on_find_CurrentStyle_daygradation(this._pseudo));};_pDatePicker.on_update_style_dayborder=function(){this.on_apply_style_dayborder(this.currentstyle.dayborder=this.on_find_CurrentStyle_dayborder(this._pseudo));};_pDatePicker.on_update_style_daybordertype=function(){this.on_apply_style_daybordertype(this.currentstyle.daybordertype=this.on_find_CurrentStyle_daybordertype(this._pseudo));};_pDatePicker.on_update_style_dayfont=function(){this.on_apply_style_dayfont(this.currentstyle.dayfont=this.on_find_CurrentStyle_dayfont(this._pseudo));};_pDatePicker.on_update_style_headerformat=function(){this.on_apply_style_headerformat(this.currentstyle.headerformat=this.on_find_CurrentStyle_headerformat(this._pseudo));};_pDatePicker.on_update_style_headerheight=function(){this.on_apply_style_headerheight(this.currentstyle.headerheight=this.on_find_CurrentStyle_headerheight(this._pseudo));};_pDatePicker.on_update_style_headercolor=function(){this.on_apply_style_headercolor(this.currentstyle.headercolor=this.on_find_CurrentStyle_headercolor(this._pseudo));};_pDatePicker.on_update_style_headerbackground=function(){this.on_apply_style_headerbackground(this.currentstyle.headerbackground=this.on_find_CurrentStyle_headerbackground(this._pseudo));};_pDatePicker.on_update_style_headergradation=function(){this.on_apply_style_headergradation(this.currentstyle.headergradation=this.on_find_CurrentStyle_headergradation(this._pseudo));};_pDatePicker.on_update_style_headerborder=function(){this.on_apply_style_headerborder(this.currentstyle.headerborder=this.on_find_CurrentStyle_headerborder(this._pseudo));};_pDatePicker.on_update_style_headerbordertype=function(){this.on_apply_style_headerbordertype(this.currentstyle.headerbordertype=this.on_find_CurrentStyle_headerbordertype(this._pseudo));};_pDatePicker.on_update_style_headerfont=function(){this.on_apply_style_headerfont(this.currentstyle.headerfont=this.on_find_CurrentStyle_headerfont(this._pseudo));};_pDatePicker.on_update_style_bodybackground=function(){this.on_apply_style_bodybackground(this.currentstyle.bodybackground=this.on_find_CurrentStyle_bodybackground(this._pseudo));};_pDatePicker.on_update_style_bodygradation=function(){this.on_apply_style_bodygradation(this.currentstyle.bodygradation=this.on_find_CurrentStyle_bodygradation(this._pseudo));};_pDatePicker.on_update_style_bodyborder=function(){this.on_apply_style_bodyborder(this.currentstyle.bodyborder=this.on_find_CurrentStyle_bodyborder(this._pseudo));};_pDatePicker.on_update_style_bodybordertype=function(){this.on_apply_style_bodybordertype(this.currentstyle.bodybordertype=this.on_find_CurrentStyle_bodybordertype(this._pseudo));};_pDatePicker.on_update_style_weekformat=function(){this.on_apply_style_weekformat(this.currentstyle.weekformat=this.on_find_CurrentStyle_weekformat(this._pseudo));};_pDatePicker.on_update_style_weekcolor=function(){this.on_apply_style_weekcolor(this.currentstyle.weekcolor=this.on_find_CurrentStyle_weekcolor(this._pseudo));};_pDatePicker.on_update_style_weekbackground=function(){this.on_apply_style_weekbackground(this.currentstyle.weekbackground=this.on_find_CurrentStyle_weekbackground(this._pseudo));};_pDatePicker.on_update_style_weekgradation=function(){this.on_apply_style_weekgradation(this.currentstyle.weekgradation=this.on_find_CurrentStyle_weekgradation(this._pseudo));};_pDatePicker.on_update_style_weekfont=function(){this.on_apply_style_weekfont(this.currentstyle.weekfont=this.on_find_CurrentStyle_weekfont(this._pseudo));};_pDatePicker.on_update_style_todaycolor=function(){this.on_apply_style_todaycolor(this.currentstyle.todaycolor=this.on_find_CurrentStyle_todaycolor(this._pseudo));};_pDatePicker.on_update_style_todaybackground=function(){this.on_apply_style_todaybackground(this.currentstyle.todaybackground=this.on_find_CurrentStyle_todaybackground(this._pseudo));};_pDatePicker.on_update_style_todaygradation=function(){this.on_apply_style_todaygradation(this.currentstyle.todaygradation=this.on_find_CurrentStyle_todaygradation(this._pseudo));};_pDatePicker.on_update_style_todayborder=function(){this.on_apply_style_todayborder(this.currentstyle.todayborder=this.on_find_CurrentStyle_todayborder(this._pseudo));};_pDatePicker.on_update_style_todaybordertype=function(){this.on_apply_style_todaybordertype(this.currentstyle.todaybordertype=this.on_find_CurrentStyle_todaybordertype(this._pseudo));};_pDatePicker.on_update_style_todayfont=function(){this.on_apply_style_todayfont(this.currentstyle.todayfont=this.on_find_CurrentStyle_todayfont(this._pseudo));};_pDatePicker.on_update_style_saturdaycolor=function(){this.on_apply_style_saturdaycolor(this.currentstyle.saturdaycolor=this.on_find_CurrentStyle_saturdaycolor(this._pseudo));};_pDatePicker.on_update_style_saturdaybackground=function(){this.on_apply_style_saturdaybackground(this.currentstyle.saturdaybackground=this.on_find_CurrentStyle_saturdaybackground(this._pseudo));};_pDatePicker.on_update_style_saturdaygradation=function(){this.on_apply_style_saturdaygradation(this.currentstyle.saturdaygradation=this.on_find_CurrentStyle_saturdaygradation(this._pseudo));};_pDatePicker.on_update_style_saturdayborder=function(){this.on_apply_style_saturdayborder(this.currentstyle.saturdayborder=this.on_find_CurrentStyle_saturdayborder(this._pseudo));};_pDatePicker.on_update_style_saturdaybordertype=function(){this.on_apply_style_saturdaybordertype(this.currentstyle.saturdaybordertype=this.on_find_CurrentStyle_saturdaybordertype(this._pseudo));};_pDatePicker.on_update_style_saturdayfont=function(){this.on_apply_style_saturdayfont(this.currentstyle.saturdayfont=this.on_find_CurrentStyle_saturdayfont(this._pseudo));};_pDatePicker.on_update_style_sundaycolor=function(){this.on_apply_style_sundaycolor(this.currentstyle.sundaycolor=this.on_find_CurrentStyle_sundaycolor(this._pseudo));};_pDatePicker.on_update_style_sundaybackground=function(){this.on_apply_style_sundaybackground(this.currentstyle.sundaybackground=this.on_find_CurrentStyle_sundaybackground(this._pseudo));};_pDatePicker.on_update_style_sundaygradation=function(){this.on_apply_style_sundaygradation(this.currentstyle.sundaygradation=this.on_find_CurrentStyle_sundaygradation(this._pseudo));};_pDatePicker.on_update_style_sundayborder=function(){this.on_apply_style_sundayborder(this.currentstyle.sundayborder=this.on_find_CurrentStyle_sundayborder(this._pseudo));};_pDatePicker.on_update_style_sundaybordertype=function(){this.on_apply_style_sundaybordertype(this.currentstyle.sundaybordertype=this.on_find_CurrentStyle_sundaybordertype(this._pseudo));};_pDatePicker.on_update_style_sundayfont=function(){this.on_apply_style_sundayfont(this.currentstyle.sundayfont=this.on_find_CurrentStyle_sundayfont(this._pseudo));};_pDatePicker.on_update_style_usetrailingday=function(){this.on_apply_style_usetrailingday(this.currentstyle.usetrailingday=this.on_find_CurrentStyle_usetrailingday(this._pseudo));};_pDatePicker.on_update_style_trailingdaycolor=function(){this.on_apply_style_trailingdaycolor(this.currentstyle.trailingdaycolor=this.on_find_CurrentStyle_trailingdaycolor(this._pseudo));};_pDatePicker.on_update_style_trailingdaybackground=function(){this.on_apply_style_trailingdaybackground(this.currentstyle.trailingdaybackground=this.on_find_CurrentStyle_trailingdaybackground(this._pseudo));};_pDatePicker.on_update_style_trailingdaygradation=function(){this.on_apply_style_trailingdaygradation(this.currentstyle.trailingdaygradation=this.on_find_CurrentStyle_trailingdaygradation(this._pseudo));};_pDatePicker.on_update_style_trailingdayborder=function(){this.on_apply_style_trailingdayborder(this.currentstyle.trailingdayborder=this.on_find_CurrentStyle_trailingdayborder(this._pseudo));};_pDatePicker.on_update_style_trailingdaybordertype=function(){this.on_apply_style_trailingdaybordertype(this.currentstyle.trailingdaybordertype=this.on_find_CurrentStyle_trailingdaybordertype(this._pseudo));};_pDatePicker.on_update_style_trailingdayfont=function(){this.on_apply_style_trailingdayfont(this.currentstyle.trailingdayfont=this.on_find_CurrentStyle_trailingdayfont(this._pseudo));};_pDatePicker.on_update_style_viewyearspin=function(){this.on_apply_style_viewyearspin(this.currentstyle.viewyearspin=this.on_find_CurrentStyle_viewyearspin(this._pseudo));};_pDatePicker.on_update_style_viewmonthspin=function(){this.on_apply_style_viewmonthspin(this.currentstyle.viewmonthspin=this.on_find_CurrentStyle_viewmonthspin(this._pseudo));};_pDatePicker.on_apply_style_border=function(_a){var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_a,_c.bordertype);_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);}};_pDatePicker.on_apply_style_bordertype=function(_a){var _b=this._control_element;if(_b){var _c=this.currentstyle;_b.setElementBorder(_c.border,_a);_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);}};_pDatePicker.on_apply_style_ncpadding=function(_a){;};_pDatePicker.on_apply_style_daysize=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daysize(_a);}};_pDatePicker.on_apply_style_daycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daycolor(_a);}};_pDatePicker.on_apply_style_daybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daybackground(_a);}};_pDatePicker.on_apply_style_daygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daygradation(_a);}};_pDatePicker.on_apply_style_dayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_dayborder(_a);}};_pDatePicker.on_apply_style_daybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_daybordertype(_a);}};_pDatePicker.on_apply_style_dayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_dayfont(_a);}};_pDatePicker.on_apply_style_headerformat=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c._setFormat(_a);}};_pDatePicker.on_apply_style_headerheight=function(_a){;};_pDatePicker.on_apply_style_headercolor=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_color(_a);}};_pDatePicker.on_apply_style_headerbackground=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_background(_a);}};_pDatePicker.on_apply_style_headergradation=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.style.set_gradation(_a);}};_pDatePicker.on_apply_style_headerborder=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_border(_a);}};_pDatePicker.on_apply_style_headerbordertype=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_bordertype(_a);}};_pDatePicker.on_apply_style_headerfont=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c.on_apply_style_font(_a);}};_pDatePicker.on_apply_style_bodybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_background(_a);}};_pDatePicker.on_apply_style_bodygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_gradation(_a);}};_pDatePicker.on_apply_style_bodyborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_border(_a);}};_pDatePicker.on_apply_style_bodybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_bordertype(_a);}};_pDatePicker.on_apply_style_weekformat=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekformat(_a);}};_pDatePicker.on_apply_style_weekcolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekcolor(_a);}};_pDatePicker.on_apply_style_weekbackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekbackground(_a);}};_pDatePicker.on_apply_style_weekgradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekgradation(_a);}};_pDatePicker.on_apply_style_weekborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekborder(_a);}};_pDatePicker.on_apply_style_weekbordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekbordertype(_a);}};_pDatePicker.on_apply_style_weekfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_weekfont(_a);}};_pDatePicker.on_apply_style_todaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaycolor(_a);}};_pDatePicker.on_apply_style_todaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaybackground(_a);}};_pDatePicker.on_apply_style_todaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaygradation(_a);}};_pDatePicker.on_apply_style_todayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todayborder(_a);}};_pDatePicker.on_apply_style_todaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todaybordertype(_a);}};_pDatePicker.on_apply_style_todayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_todayfont(_a);}};_pDatePicker.on_apply_style_saturdaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaycolor(_a);}};_pDatePicker.on_apply_style_saturdaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaybackground(_a);}};_pDatePicker.on_apply_style_saturdaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaygradation(_a);}};_pDatePicker.on_apply_style_saturdayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdayborder(_a);}};_pDatePicker.on_apply_style_saturdaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdaybordertype(_a);}};_pDatePicker.on_apply_style_saturdayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_saturdayfont(_a);}};_pDatePicker.on_apply_style_sundaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaycolor(_a);}};_pDatePicker.on_apply_style_sundaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaybackground(_a);}};_pDatePicker.on_apply_style_sundaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaygradation(_a);}};_pDatePicker.on_apply_style_sundayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundayborder(_a);}};_pDatePicker.on_apply_style_sundaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundaybordertype(_a);}};_pDatePicker.on_apply_style_sundayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_sundayfont(_a);}};_pDatePicker.on_apply_style_usetrailingday=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_usetrailingday(_a);}};_pDatePicker.on_apply_style_trailingdaycolor=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaycolor(_a);}};_pDatePicker.on_apply_style_trailingdaybackground=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaybackground(_a);}};_pDatePicker.on_apply_style_trailingdaygradation=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaygradation(_a);}};_pDatePicker.on_apply_style_trailingdayborder=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdayborder(_a);}};_pDatePicker.on_apply_style_trailingdaybordertype=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdaybordertype(_a);}};_pDatePicker.on_apply_style_trailingdayfont=function(_a){var _b=this.getElement();var _c=this._body;if(_b&&_c){_c.on_apply_style_trailingdayfont(_a);}};_pDatePicker.on_apply_style_viewyearspin=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c._setViewYearSpin(_a);}};_pDatePicker.on_apply_style_viewmonthspin=function(_a){var _b=this.getElement();var _c=this._header;if(_b&&_c){_c._setViewMonthSpin(_a);}};_pDatePicker.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._header=new nexacro.DatePickerHeader("","absolute",0,0,0,0,null,null,this);var _c=this._body=new nexacro.DatePickerBody("","absolute",0,0,0,0,null,null,this);_b.createComponent();this.prevbutton=_b._prevButton;this.nextbutton=_b._nextButton;this.yearspin=_b._yearSpin;this.monthspin=_b._monthSpin;if(!this._delay_create){_c.createComponent();}}};_pDatePicker.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._header;var _c=this._body;if(this._delay_create){_c.createComponent(true);}_b._setEventHandler("onprevclick",this.on_notify_datepicker_onprevclick,this);_b._setEventHandler("onnextclick",this.on_notify_datepicker_onnextclick,this);_b._setEventHandler("onyearspin",this.on_notify_datepicker_onyearspin,this);_b._setEventHandler("onmonthspin",this.on_notify_datepicker_onmonthspin,this);_c._setEventHandler("ondayclick",this.on_notify_datepicker_ondayclick,this);this._setEventHandler("onlbuttondown",this.on_notify_datepicker_onlbuttondown);this._setEventHandler("ontouchstart",this.on_notify_datepicker_onlbuttondown);_b.on_created();_c.on_created();this.on_apply_prop_rtldirection();this._resizePicker();}};_pDatePicker.on_destroy_contents=function(){this.prevbutton=null;this.nextbutton=null;this.yearspin=null;this.monthspin=null;if(this._header){this._header.destroy();}if(this._body){this._body.destroy();}};_pDatePicker.on_change_containerRect=function(_a,_b){this._resizePicker();};_pDatePicker.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){var _c=this._header;var _d=this._body;if(_c){_c._setEnable(_a);}if(_d){_d._setEnable(_a);}}};_pDatePicker.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pDatePicker.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this._header){this._header.set_readonly(_a);}if(this._body){this._body.set_readonly(_a);}};_pDatePicker.set_value=function(_a){if(_a!=this.value){this.value=_a;}this.on_apply_value();};_pDatePicker.on_apply_value=function(){var _a=this.value;var _b=_a.substr(0,4);var _c=_a.substr(4,2);var _d=_a.substr(6,2);this._selected_year=parseInt(_b,10);this._selected_month=parseInt(_c,10);this._selected_day=parseInt(_d,10);if(this._header){this._header._setYear(_b);this._header._setMonth(_c);}if(this._body){this._body._setDate(_b,_c,_d);}};_pDatePicker.set_backgroundcolumn=function(_a){if(this._body){this._body.on_apply_backgroundcolumn(_a);}};_pDatePicker.on_apply_backgroundcolumn=function(_a){if(this._body){this._body.on_apply_backgroundcolumn(_a);}};_pDatePicker.on_apply_bordercolumn=function(_a){if(this._body){this._body.on_apply_bordercolumn(_a);}};_pDatePicker.on_apply_datecolumn=function(_a){if(this._body){this._body.on_apply_datecolumn(_a);}};_pDatePicker.on_apply_innerdataset=function(_a){if(this._body){this._body.on_apply_innerdataset(_a);}};_pDatePicker.on_apply_textcolorcolumn=function(_a){if(this._body){this._body.on_apply_textcolorcolumn(_a);}};_pDatePicker.on_notify_datepicker_onprevclick=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setYear(_a._year);_c._setMonth(_a._month);}};_pDatePicker.on_notify_datepicker_onnextclick=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setYear(_a._year);_c._setMonth(_a._month);}};_pDatePicker.on_notify_datepicker_onyearspin=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setYear(_a._year);}};_pDatePicker.on_notify_datepicker_onmonthspin=function(_a,_b){if(!this.enable||this.readonly==true){return false;}var _c=this._body;if(_c){_c._setMonth(_a._month);}};_pDatePicker.on_notify_datepicker_ondayclick=function(_a,_b){if(!this.enable||this.readonly==true){return false;}this._header.hide_spindate();var _c=_a._post_year+_a._post_month+_a._post_day;var _d=this.on_fire_ondayclick(_a,_c);if(_d||_d===undefined){this._selected_year=_a._post_year;this._selected_month=_a._post_month;this._selected_day=_a._post_day;}return _d;};_pDatePicker.on_notify_datepicker_onlbuttondown=function(_a,_b){if(!this.enable||this.readonly==true){return false;}if(_b.fromreferenceobject&&(_b.fromreferenceobject instanceof nexacro.DatePickerBody||_b.fromreferenceobject instanceof nexacro.DatePickerCtrl)){this._hide_spindate();}};_pDatePicker.on_fire_ondayclick=function(_a,_b){if(this.ondayclick&&this.ondayclick._has_handlers){var _c=new nexacro.CalendarDayClickEventInfo(_a,"ondayclick",_b);return this.ondayclick._fireEvent(this,_c);}return false;};_pDatePicker.on_fire_oncloseup=function(_a){if(this.oncloseup&&this.oncloseup._has_handlers){return this.oncloseup._fireEvent(this);}return false;};_pDatePicker.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this.parent;var _h=this._header;var _i=this._body;var _j=_i._year|0;var _k=_i._month|0;var _l=_i._day|0;var _m;switch(_a){case 13:{var _n=new nexacro.Date(_j,_k-1,_l);this.on_fire_ondayclick(this,_n);}break;case 37:{var _o=false;var _p=false;if(_c){_o=true;}else{_p=true;}if(_p){_l-=1;if(_l<=0){_o=true;}}if(_o){_k-=1;if(_k<=0){if(_j<=0){_j=9999;}else{_j-=1;}_k=12;}if(!_c){_l=_g._getEndDay(_j,_k)+_l;}}}break;case 38:{if(_c){_j-=1;}else{_l-=7;if(_l<=0){_k-=1;if(_k<=0){if(_j<=0){_j=9999;}else{_j-=1;}_k=12;}_l=_g._getEndDay(_j,_k)+_l;}}_m=true;}break;case 39:{var _q=false;var _r=false;if(_c){_q=true;}else{_r=true;}var _s=_g._getEndDay(_j,_k);if(_r){_l+=1;if(_l>_s){_q=true;}}if(_q){_k+=1;if(_k>12){if(_j>=9999){_j=0;}else{_j+=1;}_k=1;}if(_r){_l-=_s;}}}break;case 40:{if(_c){_j+=1;}else{_l+=7;var _s=_g._getEndDay(_j,_k);if(_l>_s){_k+=1;if(_k>12){if(_j>=9999){_j=0;}else{_j+=1;}_k=1;}_l-=_s;}}_m=true;}break;}if(_a>=37&&_a<=40){_j=_i._makeDateText(_j,"year");_k=_i._makeDateText(_k,"month");_l=_i._makeDateText(_l,"day");var _n=new nexacro.Date(_j,_k-1,_l);this._hide_spindate();if(_g.type=="monthonly"){this.on_fire_ondayclick(this,_n);}else{this.set_value(_j+_k+_l);}}return false;};_pDatePicker._resizePicker=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._pseudo;if(!_b){_b=this.on_find_CurrentStyle_ncpadding(_d);}if(!_a){_a=this.on_find_CurrentStyle_headerheight(_d);}var _e=this._client_width;var _f=this._client_height;var _g=this._client_left;var _h=this._client_top;var _i=0+_b.left;var _j=0+_b.top;var _k=(_e-_b.left-_b.right);var _l=(_f-_b.top-_b.bottom);var _m=0+_b.left;var _n=(_j/2)-(parseInt(_a,10)/2);var _o=(_e-_b.left-_b.right);var _p=parseInt(_a,10);this._body.move(_i,_j,_k,_l,null,null);this._header.move(_m,_n,_o,_p,null,null);}};_pDatePicker._on_apply_style_day=function(_a){var _b=this.getElement();if(_b){var _c=this._body;if(_c){var _d=_c._days;var _e=parseInt(_c._day,10);var _f=_d.length;var _g=this._preDay;var _h=null;var _i="normal";if(_g!= -1){_h=_d[_g];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_i);var _k=_h.on_find_CurrentStyle_border(_i);var _l=_h.on_find_CurrentStyle_bordertype(_i);var _m=_h.on_find_CurrentStyle_color(_i);var _n=_h.on_find_CurrentStyle_font(_i);var _o=_h.on_find_CurrentStyle_gradation(_i);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}}for(var _p=0;_p<_f;_p++ ){if(_d[_p].text=="1"){break;}}_e+=(_p-1);this._preDay=_e;_i="selected";if(!_a){_i="normal";}_h=_d[_e];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_i);var _k=_h.on_find_CurrentStyle_border(_i);var _l=_h.on_find_CurrentStyle_bordertype(_i);var _m=_h.on_find_CurrentStyle_color(_i);var _n=_h.on_find_CurrentStyle_font(_i);var _o=_h.on_find_CurrentStyle_gradation(_i);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}var _q=new Date();var _r=_q.getDate();_q=null;_i="normal";if(_c._isToday(_r)){_r+=(_p-1);_h=_d[_r];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_h._pseudo);var _k=_h.on_find_CurrentStyle_border(_h._pseudo);var _l=_h.on_find_CurrentStyle_bordertype(_h._pseudo);var _m=_h.on_find_CurrentStyle_color(_h._pseudo);var _n=_h.on_find_CurrentStyle_font(_h._pseudo);var _o=_h.on_find_CurrentStyle_gradation(_h._pseudo);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}this._preToday=_r;}else{var _s=this._preToday;if(_s!= -1){_h=_d[_s];if(_h){_h._pseudo=_i;var _j=_h.on_find_CurrentStyle_background(_i);var _k=_h.on_find_CurrentStyle_border(_i);var _l=_h.on_find_CurrentStyle_bordertype(_i);var _m=_h.on_find_CurrentStyle_color(_i);var _n=_h.on_find_CurrentStyle_font(_i);var _o=_h.on_find_CurrentStyle_gradation(_i);_h.on_apply_style_background(_j);_h.on_apply_style_border(_k);_h.on_apply_style_bordertype(_l);_h.on_apply_style_color(_m);_h.on_apply_style_font(_n);_h.on_apply_style_gradation(_o);}}}}}};_pDatePicker.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){this.on_change_containerRect();var _b=this._rtldirection;if(this._header){this._header._setRtlDirection(_b);}if(this._body){this._body._setRtlDirection(_b);}}};_pDatePicker._makeCssRefInfoCtrl=function(_a){_a._refcssobj=this;_a._refcssid="#"+_a.id;return this;};_pDatePicker._hide_spindate=function(){var _a=this._header;if(_a){_a.hide_spindate();}};delete _pDatePicker;nexacro.DatePickerHeader=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._event_list={"onprevclick":1,"onnextclick":1,"onyearspin":1,"onmonthspin":1};};var _pDatePickerHeader=nexacro._createPrototype(nexacro.Component,nexacro.DatePickerHeader);nexacro.DatePickerHeader.prototype=_pDatePickerHeader;_pDatePickerHeader._type_name="DatePickerHeader";_pDatePickerHeader._prevButton=null;_pDatePickerHeader._nextButton=null;_pDatePickerHeader._yearStatic=null;_pDatePickerHeader._monthStatic=null;_pDatePickerHeader._yearSpin=null;_pDatePickerHeader._monthSpin=null;_pDatePickerHeader._year="";_pDatePickerHeader._month="";_pDatePickerHeader._day="";_pDatePickerHeader._format="";_pDatePickerHeader._viewyearspin=false;_pDatePickerHeader._viewmonthspin=false;_pDatePickerHeader._prevButton=null;_pDatePickerHeader.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_color(_a);if(_b.color!=_c){_b.color=_c;this.on_apply_style_color(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;this.on_apply_style_font(_d);}};_pDatePickerHeader.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_headerbackground(_a);};_pDatePickerHeader.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_headerborder(_a);};_pDatePickerHeader.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_headerbordertype(_a);};_pDatePickerHeader.on_find_CurrentStyle_color=function(_a){var _b=this.parent.on_find_CurrentStyle_headercolor(_a)||this._find_inherit_pseudo_obj("color",_a)||nexacro.Component._default_color;return _b;};_pDatePickerHeader.on_find_CurrentStyle_font=function(_a){var _b=this.parent.on_find_CurrentStyle_headerfont(_a)||this._find_inherit_pseudo_obj("font",_a)||nexacro.Component._default_font;return _b;};_pDatePickerHeader.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_headergradation(_a);};_pDatePickerHeader.on_find_CurrentStyle_headerformat=function(_a){return this.parent.on_find_CurrentStyle_headerformat(_a);};_pDatePickerHeader.on_apply_style_color=function(_a){if(this._yearStatic){this._yearStatic.on_apply_style_color(_a);}if(this._monthStatic){this._monthStatic.on_apply_style_color(_a);}};_pDatePickerHeader.on_apply_style_font=function(_a){if(this._yearStatic){this._yearStatic.on_apply_style_font(_a);}if(this._monthStatic){this._monthStatic.on_apply_style_font(_a);}};_pDatePickerHeader.on_create_contents=function(){this._prevButton=new nexacro.PrevButtonCtrl("prevbutton","absolute",0,0,0,0,null,null,this);this._nextButton=new nexacro.NextButtonCtrl("nextbutton","absolute",0,0,0,0,null,null,this);this._yearStatic=new nexacro.HeaderStaticCtrl("yearStatic","absolute",0,0,0,0,null,null,this);this._monthStatic=new nexacro.HeaderStaticCtrl("monthStatic","absolute",0,0,0,0,null,null,this);this._yearSpin=new nexacro.HeaderSpinCtrl("yearspin","absolute",0,0,0,0,null,null,this);this._monthSpin=new nexacro.HeaderSpinCtrl("monthspin","absolute",0,0,0,0,null,null,this);this._prevButton.createComponent();this._nextButton.createComponent();this._yearStatic.createComponent();this._monthStatic.createComponent();this._yearSpin.createComponent();this._monthSpin.createComponent();this._yearSpin.set_visible(false);this._yearSpin.set_min("0");this._yearSpin.set_max("9999");this._yearSpin.set_circulation(true);this._yearSpin.set_displaycomma(false);this._monthSpin.set_visible(false);this._monthSpin.set_min("1");this._monthSpin.set_max("12");this._monthSpin.set_circulation(true);this._monthSpin.set_displaycomma(false);};_pDatePickerHeader.on_created_contents=function(){this.on_apply_prop_enable(this.enable);this._prevButton._setEventHandler("onclick",this.on_notify_header_onprevclick,this);this._nextButton._setEventHandler("onclick",this.on_notify_header_onnextclick,this);this._yearStatic._setEventHandler("onlbuttondown",this.on_notify_header_onyearstatic_lbuttondown,this);this._yearStatic._setEventHandler("ontouchend",this.on_notify_header_onyearstatic_lbuttondown,this);this._monthStatic._setEventHandler("onlbuttondown",this.on_notify_header_onmonthstatic_lbuttondown,this);this._monthStatic._setEventHandler("ontouchend",this.on_notify_header_onmonthstatic_lbuttondown,this);this._yearSpin._setEventHandler("oneditclick",this.on_notify_header_onyearclick,this);this._yearSpin._setEventHandler("onspin",this.on_notify_header_onyearspin,this);this._monthSpin._setEventHandler("oneditclick",this.on_notify_header_onmonthclick,this);this._monthSpin._setEventHandler("onspin",this.on_notify_header_onmonthspin,this);this._yearSpin.set_value(this._year);this._monthSpin.set_value(this._month);this._prevButton.on_created();this._nextButton.on_created();this._yearStatic.on_created();this._monthStatic.on_created();this._yearSpin.on_created();this._monthSpin.on_created();this._yearSpin.spinedit.set_enable(false);this._monthSpin.spinedit.set_enable(false);this.on_apply_prop_rtldirection();};_pDatePickerHeader.on_destroy_contents=function(){if(this._prevButton){this._prevButton.destroy();this._prevButton=null;}if(this._nextButton){this._nextButton.destroy();this._nextButton=null;}if(this._yearStatic){this._yearStatic.destroy();this._yearStatic=null;}if(this._monthStatic){this._monthStatic.destroy();this._monthStatic=null;}if(this._yearSpin){this._yearSpin.destroy();this._yearSpin=null;}if(this._monthSpin){this._monthSpin.destroy();this._monthSpin=null;}};_pDatePickerHeader.on_change_containerRect=function(_a,_b){this._resizeHeader();};_pDatePickerHeader.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){if(this._prevButton){this._prevButton._setEnable(_a);}if(this._nextButton){this._nextButton._setEnable(_a);}if(this._yearStatic){this._yearStatic._setEnable(_a);}if(this._monthStatic){this._monthStatic._setEnable(_a);}}};_pDatePickerHeader.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){this.on_change_containerRect();var _b=this._rtldirection;if(this._prevButton){this._prevButton._setRtlDirection(_b);var _c=this._prevButton.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);if(_b=="rtl"){_c._setValue("true");}else{_c._setValue("false");}this._prevButton.on_apply_style_rtlimagemirroring(_c);}if(this._nextButton){this._nextButton._setRtlDirection(_b);var _c=this._nextButton.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);if(_b=="rtl"){_c._setValue("true");}else{_c._setValue("false");}this._nextButton.on_apply_style_rtlimagemirroring(_c);}if(this._yearStatic){this._yearStatic._setRtlDirection("ltr");}if(this._monthStatic){this._monthStatic._setRtlDirection("ltr");}if(this._yearSpin){this._yearSpin._setRtlDirection("ltr");}if(this._monthSpin){this._monthSpin._setRtlDirection("ltr");}}};_pDatePickerHeader.on_apply_custom_setfocus=function(_a){};_pDatePickerHeader.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pDatePickerHeader.on_apply_readonly=function(){var _a=this.readonly;var _b=this.getElement();if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(_b){var _c=this._yearSpin;if(_c){_c.set_readonly(_a);}var _d=this._monthSpin;if(_d){_d.set_readonly(_a);}}};_pDatePickerHeader._setYear=function(_a){if(_a!=this._year){this._year=_a;this.on_apply_year();}};_pDatePickerHeader.on_apply_year=function(){var _a=this.getElement();if(_a&&this._yearStatic){var _b=this._year;if(_b===null||_b===undefined||_b===""){var _c=new Date();_b=_c.getFullYear();_c=null;}else{_b=parseInt(_b,10);if(_b<10){_b="000"+_b;}else if(_b<100){_b="00"+_b;}else if(_b<1000){_b="0"+_b;}}var _d=this.on_find_CurrentStyle_headerformat(this._pseudo);this._yearStatic.set_text(_b+(((this.on_find_CurrentStyle_headerformat(this._pseudo))=="MM.yyyy")?"":"."));this._yearSpin.set_value(_b);}};_pDatePickerHeader._setMonth=function(_a){if(_a!=this._month){this._month=_a;this.on_apply_month();}};_pDatePickerHeader.on_apply_month=function(){var _a=this.getElement();if(_a&&this._monthStatic){var _b=this._month;if(_b===null||_b===undefined||_b===""){var _c=new Date();_b=_c.getMonth()+1;_c=null;}else{_b=parseInt(_b,10);_b=(_b<10?"0":"")+_b;}this._monthStatic.set_text(_b+(((this.on_find_CurrentStyle_headerformat(this._pseudo))=="MM.yyyy")?".":""));this._monthSpin.set_value(_b);}};_pDatePickerHeader._setDay=function(_a){if(_a!=this._day){this._day=_a;}};_pDatePickerHeader._setViewYearSpin=function(_a){if(typeof _a=='object'){_a=(_a.value!==undefined)?nexacro._toBoolean(_a.value):true;}else{_a=nexacro._toBoolean(_a);}if(_a!=this._viewyearspin){this._viewyearspin=_a;this.on_apply_viewyearspin();}};_pDatePickerHeader.on_apply_viewyearspin=function(){this.hide_spindate();};_pDatePickerHeader._setViewMonthSpin=function(_a){if(typeof _a=='object'){_a=(_a.value!==undefined)?nexacro._toBoolean(_a.value):true;}else{_a=nexacro._toBoolean(_a);}if(_a!=this._viewmonthspin){this._viewmonthspin=_a;this.on_apply_viewmonthspin();}};_pDatePickerHeader.on_apply_viewmonthspin=function(){this.hide_spindate();};_pDatePickerHeader._setFormat=function(_a){if(_a!=this._format){this._format=_a;this.on_apply_format();}};_pDatePickerHeader.on_apply_format=function(){;};_pDatePickerHeader.on_notify_header_onprevclick=function(_a,_b){if(!this.enable||this.readonly){return false;}var _c=parseInt(this._month,10);var _d=parseInt(this._year,10);if(_c==1){_c=12;if(_d<=1){_d=10000;}this._setYear(_d-1);}else{_c-- ;}this.hide_spindate();this._setMonth(_c);this.on_fire_onprevclick(_a,_b);};_pDatePickerHeader.on_notify_header_onnextclick=function(_a,_b){if(!this.enable||this.readonly){return false;}var _c=parseInt(this._month,10);var _d=parseInt(this._year,10);if(_c==12){_c=1;if(_d==9999){_d=0;}else{_d+=1;}}else{_c++ ;}this.hide_spindate();this._setYear(_d);this._setMonth(_c);this.on_fire_onnextclick(_a,_b);};_pDatePickerHeader.on_notify_header_onyearstatic_lbuttondown=function(_a,_b){if(!this.enable||this.readonly){return false;}if(this._yearSpin){this._yearStatic.set_visible(false);this._yearSpin.set_visible(true);this._yearSpin.set_value(this._year);}};_pDatePickerHeader.on_notify_header_onmonthstatic_lbuttondown=function(_a,_b){if(!this.enable||this.readonly){return false;}if(this._monthSpin){this._monthStatic.set_visible(false);this._monthSpin.set_visible(true);this._monthSpin.set_value(this._month);}};_pDatePickerHeader.on_notify_header_onyearclick=function(_a,_b){if(!this.enable||this.readonly){return false;}};_pDatePickerHeader.on_notify_header_onyearspin=function(_a,_b){if(this._yearSpin){this._setYear(_b.postvalue);this.on_fire_onyearspin(_a,_b);}};_pDatePickerHeader.on_notify_header_onmonthclick=function(_a,_b){if(!this.enable||this.readonly){return false;}};_pDatePickerHeader.on_notify_header_onmonthspin=function(_a,_b){if(this._monthSpin){var _c=parseInt(_b.postvalue,10);if(_c<1){_c=12;_a.set_value(_c);}else if(_c>12){_c=1;_a.set_value(_c);}this._setMonth(_c);this.on_fire_onmonthspin(_a,_b);}};_pDatePickerHeader.on_fire_onprevclick=function(_a,_b){if(this.onprevclick&&this.onprevclick._has_handlers){return this.onprevclick._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_onnextclick=function(_a,_b){if(this.onnextclick&&this.onnextclick._has_handlers){return this.onnextclick._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_onyearspin=function(_a,_b){if(this.onyearspin&&this.onyearspin._has_handlers){return this.onyearspin._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_onmonthspin=function(_a,_b){if(this.onmonthspin&&this.onmonthspin._has_handlers){return this.onmonthspin._fireEvent(this,_b);}return false;};_pDatePickerHeader.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _o=_m?_m.parent.parent.id:"";var _p=_m?_m.parent.parent.parent.id:"";if(this._getWindow()._cur_ldown_elem==_m&&_o!="yearspin"&&_o!="monthspin"&&_p!="yearspin"&&_p!="monthspin"){this.hide_spindate();}return _n;};_pDatePickerHeader.hide_spindate=function(){if(this._yearStatic||this._monthStatic){var _a=this._viewyearspin;var _b=this._viewmonthspin;if(_a){if(_b){this._yearStatic.set_visible(false);this._yearSpin.set_visible(true);this._monthStatic.set_visible(false);this._monthSpin.set_visible(true);}else{this._yearStatic.set_visible(false);this._yearSpin.set_visible(true);this._monthStatic.set_visible(true);this._monthSpin.set_visible(false);}}else{if(_b){this._yearStatic.set_visible(true);this._yearSpin.set_visible(false);this._monthStatic.set_visible(false);this._monthSpin.set_visible(true);}else{this._yearStatic.set_visible(true);this._yearSpin.set_visible(false);this._monthStatic.set_visible(true);this._monthSpin.set_visible(false);}}}};_pDatePickerHeader._resizeHeader=function(){var _a=this.getElement();if(_a){var _b=this._client_width;var _c=this._client_height;var _d=0;var _e=0;var _f=_c;var _g=_c;var _h=_b-_c;var _i=0;var _j=_c;var _k=_c;var _l=this.on_find_CurrentStyle_font(this._pseudo);var _m=this.on_find_CurrentStyle_headerformat(this._pseudo);var _n=this._month<10?"0"+parseInt(this._month,10):this._month+"";var _o=nexacro._getTextSize2(this._year+".",_l);var _p=nexacro._getTextSize2(this._month+".",_l);var _q=_o[0]+2;var _r=_o[1];var _s=_p[0]+2;var _t=_p[1];var _u=(((_d+_f)+_h)/2)-((_q+_s)/2);if(_m=="MM.yyyy"){var _v=_u;var _w=_s;var _x=_v+_w;var _y=_q;}else{var _x=_u;var _y=_q;var _v=_x+_y;var _w=_s;}var _z=0;var _aa=0;var _ab=_c;var _ac=_c;var _ad=parseInt(_l.size,10);var _ae=_ad+10;var _af=Math.ceil((_c-_ae)/2);var _ag=(_ad*1.7);var _ah=_af;var _ai=_q+_ag;var _aj=_ae;var _ak=_af;var _al=_s+_ag;var _am=_ae;if(_m=="MM.yyyy"){var _an=_x+1;var _ao=_v-_ag;}else{var _an=_u-_ag;var _ao=_v+1;}var _ap=this._prevButton;var _aq=this._nextButton;var _ar=this._yearStatic;var _as=this._monthStatic;var _at=this._yearSpin;var _au=this._monthSpin;if(_ap){_ap.move(_d,_e,_f,_g,null,null);}if(_aq){_aq.move(_h,_i,_j,_k,null,null);}var _av=this._rtldirection;this._rtldirection="ltr";if(_ar){_ar.move(_x,_z,_y,_ac,null,null);}if(_as){_as.move(_v,_aa,_w,_ab,null,null);}if(_at){_at.move(_an,_ah,_ai,_aj,null,null);}if(_au){_au.move(_ao,_ak,_al,_am,null,null);}this._rtldirection=_av;}};nexacro.PrevButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pPrevButtonCtrl=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.PrevButtonCtrl);nexacro.PrevButtonCtrl.prototype=_pPrevButtonCtrl;_pPrevButtonCtrl._makeCssRefInfo=function(){return (this.parent.parent._makeCssRefInfoCtrl(this));};nexacro.NextButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pNextButtonCtrl=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.NextButtonCtrl);nexacro.NextButtonCtrl.prototype=_pNextButtonCtrl;_pNextButtonCtrl._makeCssRefInfo=function(){return (this.parent.parent._makeCssRefInfoCtrl(this));};nexacro.HeaderStaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};var _pHeaderStaticCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.HeaderStaticCtrl);nexacro.HeaderStaticCtrl.prototype=_pHeaderStaticCtrl;_pHeaderStaticCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a)||this._find_inherit_pseudo_obj("font",_a)||nexacro.Component._default_font;};_pHeaderStaticCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a)||this._find_inherit_pseudo_obj("color",_a)||nexacro.Component._default_color;};nexacro.HeaderSpinCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.SpinCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};var _pHeaderSpinCtrl=nexacro._createPrototype(nexacro.SpinCtrl,nexacro.HeaderSpinCtrl);nexacro.HeaderSpinCtrl.prototype=_pHeaderSpinCtrl;_pHeaderSpinCtrl.on_find_CurrentStyle_buttonsize=function(_a){var _b=this._client_height;return _b;};_pHeaderSpinCtrl._makeCssRefInfo=function(){return (this.parent.parent._makeCssRefInfoCtrl(this));};delete _pPrevButtonCtrl;delete _pNextButtonCtrl;delete _pHeaderStaticCtrl;delete _pHeaderSpinCtrl;nexacro.DatePickerBody_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pDatePickerBodyStyle=nexacro._createPrototype(nexacro.Style,nexacro.DatePickerBody_Style);nexacro.DatePickerBody_Style.prototype=_pDatePickerBodyStyle;eval(nexacro._createValueAttributeEvalStr("_pDatePickerBodyStyle","usetrailingday"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerBodyStyle","weekformat"));eval(nexacro._createValueAttributeEvalStr("_pDatePickerBodyStyle","daysize"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","daycolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","daybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","daygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","dayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","daybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","dayfont"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","weekcolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","weekbackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","weekgradation"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","weekfont"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","saturdaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","sundaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","todaycolor"));eval(nexacro._createColorAttributeEvalStr("_pDatePickerBodyStyle","trailingdaycolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","todaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","todaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","todayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","todaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","todayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","saturdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","saturdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","saturdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","saturdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","saturdayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","sundaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","sundaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","sundayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","sundaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","sundayfont"));eval(nexacro._createBackgroundAttributeEvalStr("_pDatePickerBodyStyle","trailingdaybackground"));eval(nexacro._createGradationAttributeEvalStr("_pDatePickerBodyStyle","trailingdaygradation"));eval(nexacro._createBorderAttributeEvalStr("_pDatePickerBodyStyle","trailingdayborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pDatePickerBodyStyle","trailingdaybordertype"));eval(nexacro._createFontAttributeEvalStr("_pDatePickerBodyStyle","trailingdayfont"));_pDatePickerBodyStyle.__custom_emptyObject=function(){this.usetrailingday=null;this.weekformat=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.saturdaycolor=null;this.sundaycolor=null;this.todaycolor=null;this.trailingdaycolor=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdayfont=null;};_pDatePickerBodyStyle.__get_custom_style_value=function(){var _a="";if(this.usetrailingday&&!this.usetrailingday._is_empty){_a+="usetrailingday:"+this.usetrailingday._value+"; ";}if(this.weekformat&&!this.weekformat._is_empty){_a+="weekformat:"+this.weekformat._value+"; ";}if(this.daysize&&!this.daysize._is_empty){_a+="daysize:"+this.daysize._value+"; ";}if(this.daycolor&&!this.daycolor._is_empty){_a+="daycolor:"+this.daycolor._value+"; ";}if(this.daybackground&&!this.daybackground._is_empty){_a+="daybackground:"+this.daybackground._value+"; ";}if(this.daygradation&&!this.daygradation._is_empty){_a+="daygradation:"+this.daygradation._value+"; ";}if(this.dayborder&&!this.dayborder._is_empty){_a+="dayborder:"+this.dayborder._value+"; ";}if(this.daybordertype&&!this.daybordertype._is_empty){_a+="daybordertype:"+this.daybordertype._value+"; ";}if(this.dayfont&&!this.dayfont._is_empty){_a+="dayfont:"+this.dayfont._value+"; ";}if(this.weekcolor&&!this.weekcolor._is_empty){_a+="weekcolor:"+this.weekcolor._value+"; ";}if(this.weekbackground&&!this.weekbackground._is_empty){_a+="weekbackground:"+this.weekbackground._value+"; ";}if(this.weekgradation&&!this.weekgradation._is_empty){_a+="weekgradation:"+this.weekgradation._value+"; ";}if(this.weekfont&&!this.weekfont._is_empty){_a+="weekfont:"+this.weekfont._value+"; ";}if(this.saturdaycolor&&!this.saturdaycolor._is_empty){_a+="saturdaycolor:"+this.saturdaycolor._value+"; ";}if(this.sundaycolor&&!this.sundaycolor._is_empty){_a+="sundaycolor:"+this.sundaycolor._value+"; ";}if(this.todaycolor&&!this.todaycolor._is_empty){_a+="todaycolor:"+this.todaycolor._value+"; ";}if(this.trailingdaycolor&&!this.trailingdaycolor._is_empty){_a+="trailingdaycolor:"+this.trailingdaycolor._value+"; ";}if(this.todaybackground&&!this.todaybackground._is_empty){_a+="todaybackground:"+this.todaybackground._value+"; ";}if(this.todaygradation&&!this.todaygradation._is_empty){_a+="todaygradation:"+this.todaygradation._value+"; ";}if(this.todayborder&&!this.todayborder._is_empty){_a+="todayborder:"+this.todayborder._value+"; ";}if(this.todaybordertype&&!this.todaybordertype._is_empty){_a+="todaybordertype:"+this.todaybordertype._value+"; ";}if(this.todayfont&&!this.todayfont._is_empty){_a+="todayfont:"+this.todayfont._value+"; ";}if(this.saturdaybackground&&!this.saturdaybackground._is_empty){_a+="saturdaybackground:"+this.saturdaybackground._value+"; ";}if(this.saturdaygradation&&!this.saturdaygradation._is_empty){_a+="saturdaygradation:"+this.saturdaygradation._value+"; ";}if(this.saturdayborder&&!this.saturdayborder._is_empty){_a+="saturdayborder:"+this.saturdayborder._value+"; ";}if(this.saturdaybordertype&&!this.saturdaybordertype._is_empty){_a+="saturdaybordertype:"+this.saturdaybordertype._value+"; ";}if(this.saturdayfont&&!this.saturdayfont._is_empty){_a+="saturdayfont:"+this.saturdayfont._value+"; ";}if(this.sundaybackground&&!this.sundaybackground._is_empty){_a+="sundaybackground:"+this.sundaybackground._value+"; ";}if(this.sundaygradation&&!this.sundaygradation._is_empty){_a+="sundaygradation:"+this.sundaygradation._value+"; ";}if(this.sundayborder&&!this.sundayborder._is_empty){_a+="sundayborder:"+this.sundayborder._value+"; ";}if(this.sundaybordertype&&!this.sundaybordertype._is_empty){_a+="sundaybordertype:"+this.sundaybordertype._value+"; ";}if(this.sundayfont&&!this.sundayfont._is_empty){_a+="sundayfont:"+this.sundayfont._value+"; ";}if(this.trailingdaybackground&&!this.trailingdaybackground._is_empty){_a+="trailingdaybackground:"+this.trailingdaybackground._value+"; ";}if(this.trailingdaygradation&&!this.trailingdaygradation._is_empty){_a+="trailingdaygradation:"+this.trailingdaygradation._value+"; ";}if(this.trailingdayborder&&!this.trailingdayborder._is_empty){_a+="trailingdayborder:"+this.trailingdayborder._value+"; ";}if(this.trailingdaybordertype&&!this.trailingdaybordertype._is_empty){_a+="trailingdaybordertype:"+this.trailingdaybordertype._value+"; ";}if(this.trailingdayfont&&!this.trailingdayfont._is_empty){_a+="trailingdayfont:"+this.trailingdayfont._value+"; ";}return _a;};nexacro.DatePickerBody_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.usetrailingday=null;this.weekformat=null;this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.weekcolor=null;this.weekbackground=null;this.weekgradation=null;this.weekfont=null;this.saturdaycolor=null;this.sundaycolor=null;this.todaycolor=null;this.trailingdaycolor=null;this.todaybackground=null;this.todaygradation=null;this.todayborder=null;this.todaybordertype=null;this.todayfont=null;this.saturdaybackground=null;this.saturdaygradation=null;this.saturdayborder=null;this.saturdaybordertype=null;this.saturdayfont=null;this.sundaybackground=null;this.sundaygradation=null;this.sundayborder=null;this.sundaybordertype=null;this.sundayfont=null;this.trailingdaybackground=null;this.trailingdaygradation=null;this.trailingdayborder=null;this.trailingdaybordertype=null;this.trailingdayfont=null;};var _pDatePickerBodyCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.DatePickerBody_CurrentStyle);nexacro.DatePickerBody_CurrentStyle.prototype=_pDatePickerBodyCurrentStyle;_pDatePickerBodyCurrentStyle.__custom_emptyObject=_pDatePickerBodyStyle.__custom_emptyObject;_pDatePickerBodyCurrentStyle.__get_custom_style_value=_pDatePickerBodyStyle.__get_custom_style_value;delete _pDatePickerBodyStyle;delete _pDatePickerBodyCurrentStyle;nexacro.DatePickerBody=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._weekBg=null;this._weeks=[];this._days=[];this._changedDays=[];this._calendar=_i._calendar;this._event_list={"ondayclick":1};};var _pDatePickerBody=nexacro._createPrototype(nexacro.Component,nexacro.DatePickerBody);nexacro.DatePickerBody.prototype=_pDatePickerBody;_pDatePickerBody._type_name="DatePickerBody";_pDatePickerBody._weeks=null;_pDatePickerBody._days=null;_pDatePickerBody._year="";_pDatePickerBody._month="";_pDatePickerBody._day="";_pDatePickerBody._changedDays=null;_pDatePickerBody._endDayN=[31,28,31,30,31,30,31,31,30,31,30,31];_pDatePickerBody._endDayL=[31,29,31,30,31,30,31,31,30,31,30,31];_pDatePickerBody.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_daysize(_a);if(_b.daysize!=_e){_b.daysize=_e;}var _f=this.on_find_CurrentStyle_daycolor(_a);if(_b.daycolor!=_f){_b.daycolor=_f;}var _g=this.on_find_CurrentStyle_daybackground(_a);if(_b.daybackground!=_g){_b.daybackground=_g;}var _h=this.on_find_CurrentStyle_daygradation(_a);if(_b.daygradation!=_h){_b.daygradation=_h;}var _i=this.on_find_CurrentStyle_dayborder(_a);if(_b.dayborder!=_i){_b.dayborder=_i;}var _j=this.on_find_CurrentStyle_daybordertype(_a);if(_b.daybordertype!=_j){_b.daybordertype=_j;}var _k=this.on_find_CurrentStyle_dayfont(_a);if(_b.dayfont!=_k){_b.dayfont=_k;}var _l=this.on_find_CurrentStyle_weekformat(_a);if(_b.weekformat!=_l){_b.weekformat=_l;this.on_apply_style_weekformat(_l);}var _m=this.on_find_CurrentStyle_weekcolor(_a);if(_b.weekcolor!=_m){_b.weekcolor=_m;}var _n=this.on_find_CurrentStyle_weekbackground(_a);if(_b.weekbackground!=_n){_b.weekbackground=_n;}var _o=this.on_find_CurrentStyle_weekgradation(_a);if(_b.weekgradation!=_o){_b.weekgradation=_o;}var _p=this.on_find_CurrentStyle_weekfont(_a);if(_b.weekfont!=_p){_b.weekfont=_p;}var _q=this.on_find_CurrentStyle_todaycolor(_a);if(_b.todaycolor!=_q){_b.todaycolor=_q;}var _r=this.on_find_CurrentStyle_todaybackground(_a);if(_b.todaybackground!=_r){_b.todaybackground=_r;}var _s=this.on_find_CurrentStyle_todaygradation(_a);if(_b.todaygradation!=_s){_b.todaygradation=_s;}var _t=this.on_find_CurrentStyle_todaybordertype(_a);if(_b.todaybordertype!=_t){_b.todaybordertype=_t;}var _u=this.on_find_CurrentStyle_todayborder(_a);if(_b.todayborder!=_u){_b.todayborder=_u;}var _v=this.on_find_CurrentStyle_todayfont(_a);if(_b.todayfont!=_v){_b.todayfont=_v;}var _w=this.on_find_CurrentStyle_saturdaycolor(_a);if(_b.saturdaycolor!=_w){_b.saturdaycolor=_w;}var _x=this.on_find_CurrentStyle_saturdaybackground(_a);if(_b.saturdaybackground!=_x){_b.saturdaybackground=_x;}var _y=this.on_find_CurrentStyle_saturdaygradation(_a);if(_b.saturdaygradation!=_y){_b.saturdaygradation=_y;}var _z=this.on_find_CurrentStyle_saturdaybordertype(_a);if(_b.saturdaybordertype!=_z){_b.saturdaybordertype=_z;}var _aa=this.on_find_CurrentStyle_saturdayborder(_a);if(_b.saturdayborder!=_aa){_b.saturdayborder=_aa;}var _ab=this.on_find_CurrentStyle_saturdayfont(_a);if(_b.saturdayfont!=_ab){_b.saturdayfont=_ab;}var _ac=this.on_find_CurrentStyle_sundaycolor(_a);if(_b.sundaycolor!=_ac){_b.sundaycolor=_ac;}var _ad=this.on_find_CurrentStyle_sundaybackground(_a);if(_b.sundaybackground!=_ad){_b.sundaybackground=_ad;}var _ae=this.on_find_CurrentStyle_sundaygradation(_a);if(_b.sundaygradation!=_ae){_b.sundaygradation=_ae;}var _af=this.on_find_CurrentStyle_sundaybordertype(_a);if(_b.sundaybordertype!=_af){_b.sundaybordertype=_af;}var _ag=this.on_find_CurrentStyle_sundayborder(_a);if(_b.sundayborder!=_ag){_b.sundayborder=_ag;}var _ah=this.on_find_CurrentStyle_sundayfont(_a);if(_b.sundayfont!=_ah){_b.sundayfont=_ah;}var _ai=this.on_find_CurrentStyle_usetrailingday(_a);if(_b.usetrailingday!=_ai){_b.usetrailingday=_ai;}var _aj=this.on_find_CurrentStyle_trailingdaycolor(_a);if(_b.trailingdaycolor!=_aj){_b.trailingdaycolor=_aj;}var _ak=this.on_find_CurrentStyle_trailingdaybackground(_a);if(_b.trailingdaybackground!=_ak){_b.trailingdaybackground=_ak;}var _al=this.on_find_CurrentStyle_trailingdaygradation(_a);if(_b.trailingdaygradation!=_al){_b.trailingdaygradation=_al;}var _am=this.on_find_CurrentStyle_trailingdaybordertype(_a);if(_b.trailingdaybordertype!=_am){_b.trailingdaybordertype=_am;}var _an=this.on_find_CurrentStyle_trailingdayborder(_a);if(_b.trailingdayborder!=_an){_b.trailingdayborder=_an;}var _ao=this.on_find_CurrentStyle_trailingdayfont(_a);if(_b.trailingdayfont!=_ao){_b.trailingdayfont=_ao;}};_pDatePickerBody.on_create_custom_style=function(){return new nexacro.DatePickerBody_Style(this);};_pDatePickerBody.on_create_custom_currentStyle=function(){return new nexacro.DatePickerBody_CurrentStyle();};_pDatePickerBody.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_bodybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_bodyborder(_a);};_pDatePickerBody.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_bodybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_bodygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_daycolor(_a);};_pDatePickerBody.on_find_CurrentStyle_daysize=function(_a){return this.parent.on_find_CurrentStyle_daysize(_a)||this._find_pseudo_obj("daysize",_a)||nexacro.DatePicker._defaultDaysize;};_pDatePickerBody.on_find_CurrentStyle_daybackground=function(_a){return this.parent.on_find_CurrentStyle_daybackground(_a)||this._find_pseudo_obj("daybackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_daygradation=function(_a){return this.parent.on_find_CurrentStyle_daygradation(_a)||this._find_pseudo_obj("daygradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_dayborder=function(_a){return this.parent.on_find_CurrentStyle_dayborder(_a)||this._find_pseudo_obj("dayborder",_a,"border");};_pDatePickerBody.on_find_CurrentStyle_daybordertype=function(_a){return this.parent.on_find_CurrentStyle_daybordertype(_a)||this._find_pseudo_obj("daybordertype",_a,"bordertype");};_pDatePickerBody.on_find_CurrentStyle_daycolor=function(_a){return this.parent.on_find_CurrentStyle_daycolor(_a)||this._find_pseudo_obj("daycolor",_a,"color")||this._find_inherit_pseudo_obj("daycolor",_a);};_pDatePickerBody.on_find_CurrentStyle_dayfont=function(_a){return this.parent.on_find_CurrentStyle_dayfont(_a)||this._find_pseudo_obj("dayfont",_a,"font")||this._find_inherit_pseudo_obj("dayfont",_a);};_pDatePickerBody.on_find_CurrentStyle_headerformat=function(_a){return this.parent.on_find_CurrentStyle_headerformat(_a)||this._find_pseudo_obj("headerformat",_a)||nexacro.DatePicker._defaultHeaderformat;};_pDatePickerBody.on_find_CurrentStyle_headerheight=function(_a){return this.parent.on_find_CurrentStyle_Headerheight(_a)||this._find_pseudo_obj("headerheight",_a)||nexacro.DatePicker._defaultHeaderheight;};_pDatePickerBody.on_find_CurrentStyle_headerbackground=function(_a){return this.parent.on_find_CurrentStyle_headerbackground(_a)||this._find_pseudo_obj("headerbackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_headergradation=function(_a){return this.parent.on_find_CurrentStyle_headergradation(_a)||this._find_pseudo_obj("headergradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_headerborder=function(_a){return this.parent.on_find_CurrentStyle_headerborder(_a)||this._find_pseudo_obj("headerborder",_a,"border");};_pDatePickerBody.on_find_CurrentStyle_headerbordertype=function(_a){return this.parent.on_find_CurrentStyle_bordertype(_a)||this._find_pseudo_obj("headerbordertype",_a,"bordertype");};_pDatePickerBody.on_find_CurrentStyle_headercolor=function(_a){return this.parent.on_find_CurrentStyle_headercolor(_a)||this._find_pseudo_obj("headercolor",_a,"color");};_pDatePickerBody.on_find_CurrentStyle_headerfont=function(_a){return this.parent.on_find_CurrentStyle_headerfont(_a)||this._find_pseudo_obj("headerfont",_a,"font");};_pDatePickerBody.on_find_CurrentStyle_bodybackground=function(_a){return this.parent.on_find_CurrentStyle_bodybackground(_a)||this._find_pseudo_obj("bodybackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_bodygradation=function(_a){return this.parent.on_find_CurrentStyle_bodygradation(_a)||this._find_pseudo_obj("bodygradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_bodyborder=function(_a){return this.parent.on_find_CurrentStyle_bodyborder(_a)||this._find_pseudo_obj("bodyborder",_a,"border");};_pDatePickerBody.on_find_CurrentStyle_bodybordertype=function(_a){return this.parent.on_find_CurrentStyle_bodybordertype(_a)||this._find_pseudo_obj("bodybordertype",_a,"bordertype");};_pDatePickerBody.on_find_CurrentStyle_weekformat=function(_a){return this.parent.on_find_CurrentStyle_weekformat(_a)||this._find_pseudo_obj("weekformat",_a);};_pDatePickerBody.on_find_CurrentStyle_weekbackground=function(_a){return this.parent.on_find_CurrentStyle_weekbackground(_a)||this._find_pseudo_obj("weekbackground",_a,"background");};_pDatePickerBody.on_find_CurrentStyle_weekgradation=function(_a){return this.parent.on_find_CurrentStyle_weekgradation(_a)||this._find_pseudo_obj("weekgradation",_a,"gradation");};_pDatePickerBody.on_find_CurrentStyle_weekcolor=function(_a){return this.parent.on_find_CurrentStyle_weekcolor(_a)||this._find_pseudo_obj("weekcolor",_a,"color");};_pDatePickerBody.on_find_CurrentStyle_weekfont=function(_a){return this.parent.on_find_CurrentStyle_weekfont(_a)||this._find_pseudo_obj("weekfont",_a,"font")||nexacro.Component._default_font;};_pDatePickerBody.on_find_CurrentStyle_saturdaybackground=function(_a){return this.parent.on_find_CurrentStyle_saturdaybackground(_a)||this._find_pseudo_obj("saturdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdayborder=function(_a){return this.parent.on_find_CurrentStyle_saturdayborder(_a)||this._find_pseudo_obj("saturdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdaybordertype=function(_a){return this.parent.on_find_CurrentStyle_saturdaybordertype(_a)||this._find_pseudo_obj("saturdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdaycolor=function(_a){return this.parent.on_find_CurrentStyle_saturdaycolor(_a)||this._find_pseudo_obj("saturdaycolor",_a,"color")||nexacro.DatePicker._defaultSaturdaycolor;};_pDatePickerBody.on_find_CurrentStyle_saturdayfont=function(_a){return this.parent.on_find_CurrentStyle_saturdayfont(_a)||this._find_pseudo_obj("saturdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_saturdaygradation=function(_a){return this.parent.on_find_CurrentStyle_saturdaygradation(_a)||this._find_pseudo_obj("saturdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaybackground=function(_a){return this.parent.on_find_CurrentStyle_sundaybackground(_a)||this._find_pseudo_obj("sundaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaygradation=function(_a){return this.parent.on_find_CurrentStyle_sundaygradation(_a)||this._find_pseudo_obj("sundaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_sundayborder=function(_a){return this.parent.on_find_CurrentStyle_sundayborder(_a)||this._find_pseudo_obj("sundayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaybordertype=function(_a){return this.parent.on_find_CurrentStyle_sundaybordertype(_a)||this._find_pseudo_obj("sundaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_sundaycolor=function(_a){return this.parent.on_find_CurrentStyle_sundaycolor(_a)||this._find_pseudo_obj("sundaycolor",_a,"color")||nexacro.DatePicker._defaultSundaycolor;};_pDatePickerBody.on_find_CurrentStyle_sundayfont=function(_a){return this.parent.on_find_CurrentStyle_sundayfont(_a)||this._find_pseudo_obj("sundayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_todaybackground=function(_a){return this.parent.on_find_CurrentStyle_todaybackground(_a)||this._find_pseudo_obj("todaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_todaygradation=function(_a){return this.parent.on_find_CurrentStyle_todaygradation(_a)||this._find_pseudo_obj("todaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_todayborder=function(_a){return this.parent.on_find_CurrentStyle_todayborder(_a)||this._find_pseudo_obj("todayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_todaybordertype=function(_a){return this.parent.on_find_CurrentStyle_todaybordertype(_a)||this._find_pseudo_obj("todaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_todaycolor=function(_a){return this.parent.on_find_CurrentStyle_todaycolor(_a)||this._find_pseudo_obj("todaycolor",_a,"color")||nexacro.DatePicker._defaultTodaycolor;};_pDatePickerBody.on_find_CurrentStyle_todayfont=function(_a){return this.parent.on_find_CurrentStyle_todayfont(_a)||this._find_pseudo_obj("todayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_usetrailingday=function(_a){return this.parent.on_find_CurrentStyle_usetrailingday(_a)||this._find_pseudo_obj("usetrailingday",_a)||nexacro.DatePicker._defaultUseTrailngday;};_pDatePickerBody.on_find_CurrentStyle_trailingdaybackground=function(_a){return this.parent.on_find_CurrentStyle_trailingdaybackground(_a)||this._find_pseudo_obj("trailingdaybackground",_a,"background")||this.on_find_CurrentStyle_daybackground(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdaygradation=function(_a){return this.parent.on_find_CurrentStyle_trailingdaygradation(_a)||this._find_pseudo_obj("trailingdaygradation",_a,"gradation")||this.on_find_CurrentStyle_daygradation(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdayborder=function(_a){return this.parent.on_find_CurrentStyle_trailingdayborder(_a)||this._find_pseudo_obj("trailingdayborder",_a,"border")||this.on_find_CurrentStyle_dayborder(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdaybordertype=function(_a){return this.parent.on_find_CurrentStyle_trailingdaybordertype(_a)||this._find_pseudo_obj("trailingdaybordertype",_a,"bordertype")||this.on_find_CurrentStyle_daybordertype(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdaycolor=function(_a){return this.parent.on_find_CurrentStyle_trailingdaycolor(_a)||this._find_pseudo_obj("trailingdaycolor",_a,"color")||this.on_find_CurrentStyle_daycolor(_a);};_pDatePickerBody.on_find_CurrentStyle_trailingdayfont=function(_a){return this.parent.on_find_CurrentStyle_trailingdayfont(_a)||this._find_pseudo_obj("trailingdayfont",_a,"font")||this.on_find_CurrentStyle_dayfont(_a);};_pDatePickerBody.on_find_CurrentStyle_viewmonthspin=function(_a){return this.parent.on_find_CurrentStyle_viewmonthspin(_a)||this._find_pseudo_obj("viewmonthspin",_a)||nexacro.DatePicker._defaultViewMonthSpin;};_pDatePickerBody.on_find_CurrentStyle_viewyearspin=function(_a){return this.parent.on_find_CurrentStyle_viewyearspin(_a)||this._find_pseudo_obj("viewyearspin",_a)||nexacro.DatePicker._defaultViewYearSpin;};_pDatePickerBody.on_update_style_daysize=function(){this.on_apply_style_daysize(this.currentstyle.daysize=this.on_find_CurrentStyle_daysize(this._pseudo));};_pDatePickerBody.on_update_style_daycolor=function(){this.on_apply_style_daycolor(this.currentstyle.daycolor=this.on_find_CurrentStyle_daycolor(this._pseudo));};_pDatePickerBody.on_update_style_daybackground=function(){this.on_apply_style_daybackground(this.currentstyle.daybackground=this.on_find_CurrentStyle_daybackground(this._pseudo));};_pDatePickerBody.on_update_style_daygradation=function(){this.on_apply_style_daygradation(this.currentstyle.daygradation=this.on_find_CurrentStyle_daygradation(this._pseudo));};_pDatePickerBody.on_update_style_dayborder=function(){this.on_apply_style_dayborder(this.currentstyle.dayborder=this.on_find_CurrentStyle_dayborder(this._pseudo));};_pDatePickerBody.on_update_style_daybordertype=function(){this.on_apply_style_daybordertype(this.currentstyle.daybordertype=this.on_find_CurrentStyle_daybordertype(this._pseudo));};_pDatePickerBody.on_update_style_dayfont=function(){this.on_apply_style_dayfont(this.currentstyle.dayfont=this.on_find_CurrentStyle_dayfont(this._pseudo));};_pDatePickerBody.on_update_style_weekformat=function(){this.on_apply_style_weekformat(this.currentstyle.weekformat=this.on_find_CurrentStyle_weekformat(this._pseudo));};_pDatePickerBody.on_update_style_weekcolor=function(){this.on_apply_style_weekcolor(this.currentstyle.weekcolor=this.on_find_CurrentStyle_weekcolor(this._pseudo));};_pDatePickerBody.on_update_style_weekbackground=function(){this.on_apply_style_weekbackground(this.currentstyle.weekbackground=this.on_find_CurrentStyle_weekbackground(this._pseudo));};_pDatePickerBody.on_update_style_weekgradation=function(){this.on_apply_style_weekgradation(this.currentstyle.weekgradation=this.on_find_CurrentStyle_weekgradation(this._pseudo));};_pDatePickerBody.on_update_style_weekfont=function(){this.on_apply_style_weekfont(this.currentstyle.weekfont=this.on_find_CurrentStyle_weekfont(this._pseudo));};_pDatePickerBody.on_update_style_todaycolor=function(){this.on_apply_style_todaycolor(this.currentstyle.todaycolor=this.on_find_CurrentStyle_todaycolor(this._pseudo));};_pDatePickerBody.on_update_style_todaybackground=function(){this.on_apply_style_todaybackground(this.currentstyle.todaybackground=this.on_find_CurrentStyle_todaybackground(this._pseudo));};_pDatePickerBody.on_update_style_todaygradation=function(){this.on_apply_style_todaygradation(this.currentstyle.todaygradation=this.on_find_CurrentStyle_todaygradation(this._pseudo));};_pDatePickerBody.on_update_style_todayborder=function(){this.on_apply_style_todayborder(this.currentstyle.todayborder=this.on_find_CurrentStyle_todayborder(this._pseudo));};_pDatePickerBody.on_update_style_todaybordertype=function(){this.on_apply_style_todaybordertype(this.currentstyle.todaybordertype=this.on_find_CurrentStyle_todaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_todayfont=function(){this.on_apply_style_todayfont(this.currentstyle.todayfont=this.on_find_CurrentStyle_todayfont(this._pseudo));};_pDatePickerBody.on_update_style_saturdaycolor=function(){this.on_apply_style_saturdaycolor(this.currentstyle.saturdaycolor=this.on_find_CurrentStyle_saturdaycolor(this._pseudo));};_pDatePickerBody.on_update_style_saturdaybackground=function(){this.on_apply_style_saturdaybackground(this.currentstyle.saturdaybackground=this.on_find_CurrentStyle_saturdaybackground(this._pseudo));};_pDatePickerBody.on_update_style_saturdaygradation=function(){this.on_apply_style_saturdaygradation(this.currentstyle.saturdaygradation=this.on_find_CurrentStyle_saturdaygradation(this._pseudo));};_pDatePickerBody.on_update_style_saturdayborder=function(){this.on_apply_style_saturdayborder(this.currentstyle.saturdayborder=this.on_find_CurrentStyle_saturdayborder(this._pseudo));};_pDatePickerBody.on_update_style_saturdaybordertype=function(){this.on_apply_style_saturdaybordertype(this.currentstyle.saturdaybordertype=this.on_find_CurrentStyle_saturdaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_saturdayfont=function(){this.on_apply_style_saturdayfont(this.currentstyle.saturdayfont=this.on_find_CurrentStyle_saturdayfont(this._pseudo));};_pDatePickerBody.on_update_style_sundaycolor=function(){this.on_apply_style_sundaycolor(this.currentstyle.sundaycolor=this.on_find_CurrentStyle_sundaycolor(this._pseudo));};_pDatePickerBody.on_update_style_sundaybackground=function(){this.on_apply_style_sundaybackground(this.currentstyle.sundaybackground=this.on_find_CurrentStyle_sundaybackground(this._pseudo));};_pDatePickerBody.on_update_style_sundaygradation=function(){this.on_apply_style_sundaygradation(this.currentstyle.sundaygradation=this.on_find_CurrentStyle_sundaygradation(this._pseudo));};_pDatePickerBody.on_update_style_sundayborder=function(){this.on_apply_style_sundayborder(this.currentstyle.sundayborder=this.on_find_CurrentStyle_sundayborder(this._pseudo));};_pDatePickerBody.on_update_style_sundaybordertype=function(){this.on_apply_style_sundaybordertype(this.currentstyle.sundaybordertype=this.on_find_CurrentStyle_sundaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_sundayfont=function(){this.on_apply_style_sundayfont(this.currentstyle.sundayfont=this.on_find_CurrentStyle_sundayfont(this._pseudo));};_pDatePickerBody.on_update_style_usetrailingday=function(){this.on_apply_style_usetrailingday(this.currentstyle.usetrailingday=this.on_find_CurrentStyle_usetrailingday(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaycolor=function(){this.on_apply_style_trailingdaycolor(this.currentstyle.trailingdaycolor=this.on_find_CurrentStyle_trailingdaycolor(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaybackground=function(){this.on_apply_style_trailingdaybackground(this.currentstyle.trailingdaybackground=this.on_find_CurrentStyle_trailingdaybackground(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaygradation=function(){this.on_apply_style_trailingdaygradation(this.currentstyle.trailingdaygradation=this.on_find_CurrentStyle_trailingdaygradation(this._pseudo));};_pDatePickerBody.on_update_style_trailingdayborder=function(){this.on_apply_style_trailingdayborder(this.currentstyle.trailingdayborder=this.on_find_CurrentStyle_trailingdayborder(this._pseudo));};_pDatePickerBody.on_update_style_trailingdaybordertype=function(){this.on_apply_style_trailingdaybordertype(this.currentstyle.trailingdaybordertype=this.on_find_CurrentStyle_trailingdaybordertype(this._pseudo));};_pDatePickerBody.on_update_style_trailingdayfont=function(){this.on_apply_style_trailingdayfont(this.currentstyle.trailingdayfont=this.on_find_CurrentStyle_trailingdayfont(this._pseudo));};_pDatePickerBody.on_apply_style_daysize=function(_a){this._resizeBody();};_pDatePickerBody.on_apply_style_daycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_daybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_daygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_dayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_daybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_dayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekformat=function(_a){var _b=this.getElement();if(_b&&_a){var _c;var _d=this._weeks;var _e=_d.length;if(typeof _a=="object"){_c=_a.value.split(/\s+/);}else{_c=_a.split(/\s+/);}for(var _f=0;_f<_e;_f++ ){_d[_f].set_text(_c[_f]);}}};_pDatePickerBody.on_apply_style_weekcolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekbackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekgradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekbordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_weekfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_todayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_saturdayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_sundayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_usetrailingday=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaycolor=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaybackground=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaygradation=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdayborder=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdaybordertype=function(_a){this._refreshDay();};_pDatePickerBody.on_apply_style_trailingdayfont=function(_a){this._refreshDay();};_pDatePickerBody.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._weeks;var _d=this._days;var _e=7;var _f;if(_b.weekformat){_f=_b.weekformat.value.split(/\s+/);}else{_f=this.parent.parent._datelistS;}this._weekBg=new nexacro.WeekStaticCtrl("weekstatic","absolute",0,0,0,0,null,null,this);this._weekBg.createComponent();for(var _g=0;_g<_e;_g++ ){var _h=new nexacro.WeekStaticCtrl("weekstatic","absolute",0,0,0,0,null,null,this);_h.set_text(_f[_g]);_h._setDaysOfWeek(_g%7);_h.createComponent();_c[_g]=_h;_h=null;}var _i=42;for(var _g=0;_g<_i;_g++ ){var _j=new nexacro.DayStaticCtrl("daystatic","absolute",0,0,0,0,null,null,this);_j._setDaysOfWeek(_g%7);_j.createComponent();_d[_g]=_j;_j=null;}}};_pDatePickerBody.on_created_contents=function(){var _a=this.getElement();if(_a){var _b=this._weeks;var _c=this._days;var _d=_b.length;var _e=_c.length;this._weekBg.on_created();for(var _f=0;_f<_d;_f++ ){_b[_f].on_created();}for(var _f=0;_f<_e;_f++ ){_c[_f].on_created();_c[_f]._setEventHandler("onclick",this.on_notify_DatePickerBody_dayclick,this);_c[_f].style.set_cursor("arrow");}this.on_apply_prop_rtldirection();}};_pDatePickerBody.on_destroy_contents=function(){var _a=this._weeks;var _b=this._days;var _c=_a.length;var _d=_b.length;this._weekBg.destroy();this._weekBg=null;if(_c>0){for(var _e=0;_e<_c;_e++ ){_a[_e].destroy();}this._weeks=null;}if(_d>0){for(_e=0;_e<_d;_e++ ){_b[_e].destroy();}this._days=null;}this._changedDays=null;this._calendar=null;};_pDatePickerBody.on_change_containerRect=function(_a,_b){this._resizeBody();};_pDatePickerBody.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){var _c=this._weeks;var _d=this._days;var _e=_c.length;var _f=_d.length;this._weekBg._setEnable(_a);if(_e>0){for(var _g=0;_g<_e;_g++ ){_c[_g]._setEnable(_a);}}if(_f>0){for(_g=0;_g<_f;_g++ ){_d[_g]._setEnable(_a);}}}};_pDatePickerBody.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){this.on_change_containerRect();var _b=this._rtldirection;var _c=this._weeks;var _d=this._days;var _e=_c.length;var _f=_d.length;if(_e>0){for(var _g=0;_g<_e;_g++ ){_c[_g]._setRtlDirection(_b);}}if(_f>0){for(_g=0;_g<_f;_g++ ){_d[_g]._setRtlDirection(_b);}}}};_pDatePickerBody.on_apply_backgroundcolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_bordercolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_datecolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_innerdataset=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody.on_apply_textcolorcolumn=function(_a){var _b=this.getElement();if(_b){this._refreshDay();}};_pDatePickerBody._setYear=function(_a){if(_a!=this._year){this._year=(_a<10?"000":_a<100?"00":_a<1000?"0":"")+parseInt(_a,10);this.on_apply_year();}};_pDatePickerBody.on_apply_year=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody._setMonth=function(_a){if(_a!=this._month){_a=(_a<10?"0":"")+parseInt(_a,10);this._month=_a;this.on_apply_month();}};_pDatePickerBody.on_apply_month=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody._setDay=function(_a){if(_a!=this._day){_a=(_a<10?"0":"")+parseInt(_a,10);this._day=_a;}this.on_apply_day();};_pDatePickerBody.on_apply_day=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody._setDate=function(_a,_b,_c){this._year=(_a<10?"000":_a<100?"00":_a<1000?"0":"")+parseInt(_a,10);this._month=(_b<10?"0":"")+parseInt(_b,10);this._day=(_c<10?"0":"")+parseInt(_c,10);this.on_apply_date();};_pDatePickerBody.on_apply_date=function(){var _a=this.getElement();if(_a){this._refreshDay();}};_pDatePickerBody.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pDatePickerBody.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pDatePickerBody.on_notify_DatePickerBody_dayclick=function(_a,_b){this._post_year=(_a.currYear<10?"000":_a.currYear<100?"00":_a.currYear<1000?"0":"")+parseInt(_a.currYear,10);this._post_month=(_a.currMonth<10?"0":"")+parseInt(_a.currMonth,10);this._post_day=(_a.text<10?"0":"")+parseInt(_a.text,10);var _c=this.on_fire_ondayclick(_a,_b);if(_c||_c===undefined){if(_a.trailingday){this._setDate(_a.currYear,_a.currMonth,_a.text);}else{this._setDay(_a.text);}}};_pDatePickerBody.on_fire_ondayclick=function(_a,_b){if(this.ondayclick&&this.ondayclick._has_handlers){return this.ondayclick._fireEvent(this,_b);}return false;};_pDatePickerBody._resizeBody=function(){var _a=this.getElement();if(_a){var _b=this._pseudo;var _c=this._weeks;var _d=this._days;var _e=_c.length;var _f=_d.length;var _g=this._client_width;var _h=this._client_height;var _i=this._client_left;var _j=this._client_top;var _k=this.on_find_CurrentStyle_daysize(_b);var _l=this.on_find_CurrentStyle_padding(_b);_k=_k.value.split(/\s+/);var _m=parseInt(_k[0],10);var _n=0;if(_k.length==1){_n=_m;}else{_n=parseInt(_k[1],10);}var _o=_m*7;var _p=_n*7;var _q=0;var _r=0;var _s=0;if(_o<_g){_s=_g-_o;_q=_s/14;}if(_p<_h){_s=_h-_p;_r=_s/8;}var _t=_i+_q;var _u=_j+_r/2;var _v=_m;var _w=_n;this._weekBg.move(_i,_u,_g,_w,null,null);for(var _x=0;_x<_e;_x++ ){_c[_x].move(_t,_u,_v,_w,null,null);_t=_t+_v+_q*2;}var _y=1;var _z=_i+_q;var _aa=_u+_n+_r;var _ab=_m;var _ac=_n;for(var _x=0;_x<_f;_x++ ){_d[_x].move(_z,_aa,_ab,_ac,null,null);_z=_z+_ab+_q*2;if(((_x+1)%7)==0){_y++ ;_z=_i+_q;_aa=_aa+_ac+_r;}}}};_pDatePickerBody._refreshDay=function(){var _a=this.getElement();if(_a){var _d=this._getCurrentDate();var _e=this._year?parseInt(this._year,10):_d.year;var _f=this._month?parseInt(this._month,10):_d.month;var _g=this._day?parseInt(this._day,10):_d.day;var _h=this._getLeapYear(_e);var _i=new Date(_e,_f-1,1);if(_e<100){_i.setFullYear(_e);}var _j=_h?this._endDayL[_f-1]:this._endDayN[_f-1];var _k=_i.getDay();var _l=this.on_find_CurrentStyle_usetrailingday(this._pseudo);var _m=nexacro._toBoolean(_l.value);if(_m){var _n=this._setUseTrailingDayInfo(_e,_f,_i,_j);}var _g=this._days;var _o=_g.length;var _p=1;var _q= -1;var _r={};var _s=this.parent.on_find_CurrentStyle_sundayfont("normal");var _t=this.parent.on_find_CurrentStyle_sundaycolor("normal");var _u=this.parent.on_find_CurrentStyle_sundaybackground("normal");var _v=this.parent.on_find_CurrentStyle_saturdayfont("normal");var _w=this.parent.on_find_CurrentStyle_saturdaycolor("normal");var _x=this.parent.on_find_CurrentStyle_saturdaybackground("normal");var _y=this.parent.on_find_CurrentStyle_dayfont("normal");var _z=this.parent.on_find_CurrentStyle_daycolor("normal");var _aa=this.parent.on_find_CurrentStyle_daybackground("normal");var _ab=this.parent.on_find_CurrentStyle_dayborder("normal");var _ac=this.parent.on_find_CurrentStyle_daybordertype("normal");var _ad=this.parent.on_find_CurrentStyle_trailingdayfont("normal");var _ae=this.parent.on_find_CurrentStyle_trailingdaycolor("normal");var _af=this.parent.on_find_CurrentStyle_trailingdaybackground("normal");var _ag=this.parent.on_find_CurrentStyle_trailingdayborder("normal");var _ah=this.parent.on_find_CurrentStyle_trailingdaybordertype("normal");for(var _ai=0;_ai<_o;_ai++ ){if(_k<=_ai&&_j>=_p){_r=this._setDayInfo(_p,false,true,_e,_f);this._refreshDayby(_g[_ai],_r.text,_r.visible,_r.currYear,_r.currMonth,_r.trailingday);_q=_ai%7;if(_q==0){_g[_ai].on_apply_style_font(_s);_g[_ai].on_apply_style_color(_t);_g[_ai].on_apply_style_background(_u);}else if(_q==6){_g[_ai].on_apply_style_font(_v);_g[_ai].on_apply_style_color(_w);_g[_ai].on_apply_style_background(_x);}else{_g[_ai].on_apply_style_font(_y);_g[_ai].on_apply_style_color(_z);_g[_ai].on_apply_style_background(_aa);}_g[_ai].on_apply_style_border(_ab);_g[_ai].on_apply_style_bordertype(_ac);_p++ ;}else{if(_m){if(_n.idx>=0){_r=this._setDayInfo(_n.pre_endDay-_n.idx,true,true,_n.year_front,_n.month_front);_n.idx-- ;}else{_r=this._setDayInfo(_n.next_beginDay,true,true,_n.year_back,_n.month_back);_n.next_beginDay++ ;_n.endWeek++ ;}this._refreshDayby(_g[_ai],_r.text,_r.visible,_r.currYear,_r.currMonth,_r.trailingday);_g[_ai].on_apply_style_font(_ad);_g[_ai].on_apply_style_color(_ae);_g[_ai].on_apply_style_background(_af);_g[_ai].on_apply_style_border(_ag);_g[_ai].on_apply_style_bordertype(_ah);}else{_r=this._setDayInfo("",false,false,0,0);this._refreshDayby(_g[_ai],_r.text,_r.visible,_r.currYear,_r.currMonth,_r.trailingday);}}}}this._initChangedDays();this._changedDays=[];var _b=this.parent.parent;var _c=_b._innerdataset;if(_c){this._setDatasetStyle(_c,_b);}if(this._isSelectedDay(this._day)){this.parent._on_apply_style_day(true);}else{this.parent._on_apply_style_day(false);}this._setCalendarAccessibility();};_pDatePickerBody._refreshDayby=function(_a,_b,_c,_d,_e,_f){_a.set_text(_b);_a.set_wordwrap("none");_a.set_visible(_c);_a.currYear=_d;_a.currMonth=_e;_a.trailingday=_f;};_pDatePickerBody._isToday=function(_a){var _b=this._year;var _c=this._month;var _d=parseInt(_a,10);var _e=this._getCurrentDate();if(!_b){_b=_e.year;}if(!_c){_c=_e.month;}if(_b==_e.year&&_c==_e.month&&_d==_e.day){return true;}return false;};_pDatePickerBody._isSelectedDay=function(_a){_a=parseInt(_a,10);var _b=parseInt(this._year,10);var _c=parseInt(this._month,10);if(_b==this.parent._selected_year&&_c==this.parent._selected_month&&_a==this.parent._selected_day){return true;}return false;};_pDatePickerBody._setDayInfo=function(_a,_b,_c,_d,_e){return {text:_a,trailingday:_b,visible:_c,currYear:_d,currMonth:_e};};_pDatePickerBody._setUseTrailingDayInfo=function(_a,_b,_c,_d){var _e=_a;var _f=_a;var _g=_b;var _h=_b;if(_b==1){_e-=1;_g=12;_h+=1;}else{_g-=1;if(_b==12){_f+=1;_h=1;}else{_h+=1;}}var _i=_c.getDay()-1;_c.setDate(_d);var _j=_c.getDay();var _k=this._getLeapYear(_e);var _l=_k?this._endDayL[_g-1]:this._endDayN[_g-1];var _m=1;return {year_front:_e,year_back:_f,month_front:_g,month_back:_h,endWeek:_j,idx:_i,pre_endDay:_l,next_beginDay:_m};};_pDatePickerBody._setDatasetStyle=function(_a,_b){var _c=this._days;var _d=_c.length;var _e=_b.backgroundcolumn;var _f=_b.bordercolumn;var _g=_b.datecolumn;var _h=_b.textcolorcolumn;var _i=_a.getRowCount();for(var _j=0;_j<_i;_j++ ){var _k=_a.getColumn(_j,_g);var _l,_m,_n;var _o=0;var _p=0;var _q=0;var _r=0;var _s=0;var _t={};if(_k){if(typeof _k=="string"){_q=parseInt(_k.substr(0,4),10);_r=parseInt(_k.substr(4,2),10);_s=parseInt(_k.substr(6,2),10);_t=new nexacro.Date(_q,_r-1,1);_o=_t.getDay();_t=null;}else if(typeof _k=="object"){_q=_k.getFullYear();_r=_k.getMonth()+1;_s=_k.getDate();_o=_k.getDay();}_p=_o+_s+1;}for(var _u=0;_u<_d;_u++ ){var _v=this._makeDateText(_c[_u].currYear,"year");var _w=this._makeDateText(_c[_u].currMonth,"month");var _x=this._makeDateText(_c[_u].text,"day");var _y=_c[_u].currentstyle;var _z=_v+_w+_x;var _aa=this._changedDays.length;if(_z==_k){_l=_a.getColumn(_j,_e);_l=nexacro._getCachedBackgroundObj(_l);_m=_a.getColumn(_j,_f);_m=nexacro._getCachedBorderObj(_m);_n=_a.getColumn(_j,_h);_n=nexacro._getCachedColorObj(_n);if(_l){_y.background=_l;_c[_u].on_apply_style_background(_l);}if(_m){_y.border=_m;_c[_u].on_apply_style_border(_m);}if(_n){_y.color=_n;_c[_u].on_apply_style_color(_n);}this._changedDays[_aa]=_c[_u];}else if(_q!=_c[_u].currYear||_r!=_c[_u].currMonth){if(_p==_u){_l=_c[_u].on_find_CurrentStyle_background(_c[_u]._pseudo);_m=_c[_u].on_find_CurrentStyle_border(_c[_u]._pseudo);_n=_c[_u].on_find_CurrentStyle_color(_c[_u]._pseudo);_y.background=_l;_y.border=_m;_y.color=_n;_c[_u].on_apply_style_background(_l);_c[_u].on_apply_style_border(_m);_c[_u].on_apply_style_color(_n);this._changedDays[_aa]=_c[_u];}}}}};_pDatePickerBody._getCurrentDate=function(){var _a,_b,_c;var _d=new Date();_a=_d.getFullYear();_b=_d.getMonth()+1;_c=_d.getDate();_d=null;return {year:_a,month:_b,day:_c};};_pDatePickerBody._getLeapYear=function(_a){if((_a%4)==0&&(_a%100)!=0||(_a%400)==0){return true;}else{return false;}};_pDatePickerBody._initChangedDays=function(){var _a=this._changedDays.length;for(var _b=0;_b<_a;_b++ ){var _c=this.parent._find_pseudo_obj("daybackground","normal","background");var _d=this.parent._find_pseudo_obj("dayborder","normal","border");var _e=this.parent._find_pseudo_obj("daycolor","normal","color");this._changedDays[_b].on_apply_style_background(_c);this._changedDays[_b].on_apply_style_border(_d);this._changedDays[_b].on_apply_style_color(_e);}};_pDatePickerBody._makeDateText=function(_a,_b){if(typeof _a!="string"){}{_a=nexacro._toString(_a);}switch(_b){case "year":var _c=_a;while(_c.length<4){_c="0"+_c;}return _c;break;case "month":var _d=_a.length>=2?_a:"0"+_a;return _d;break;case "day":var _e=_a.length>=2?_a:"0"+_a;return _e;break;}};_pDatePickerBody._setCalendarAccessibility=function(){if(nexacro._enableaccessibility){var _a=this._calendar;var _b=this._year+this._month+this._day;var _c=_a._makeCalendarText(_b);this.parent._setAccessibilityLabel(_c);nexacro._notifyAccessibilityValue(this._control_element,_c,"daychange");}};delete _pDatePickerBody;nexacro.DayStaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;this.trailingday=false;this.currYear="";this.currMonth="";this._flag_dataset= -1;this._dataset_background="";this._refObj=_i.parent;};var _pDayStaticCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.DayStaticCtrl);nexacro.DayStaticCtrl.prototype=_pDayStaticCtrl;_pDayStaticCtrl._daysofweek= -1;_pDayStaticCtrl.on_find_CurrentStyle_background=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaybackground(_a);}else if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybackground(_a);}return this.parent.on_find_CurrentStyle_daybackground("selected");}else if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybackground(_a);}else{return this.parent.on_find_CurrentStyle_todaybackground(_a);}}if(this._refObj.parent.backgroundcolumn&&_a=="normal"){var _c=this._refObj.parent._innerdataset;var _d=this._refObj.parent.datecolumn;var _e=this._refObj.parent.backgroundcolumn;var _f=_c.getRowCount();for(var _g=0;_g<_f;_g++ ){var _h=_c.getColumn(_g,_d);if(_h){var _i=_h.substr(0,4);var _j=_h.substr(4,2);var _k=_h.substr(6,2);var _l=this.parent._makeDateText(_b,"day");if(_i==this.currYear&&_j==this.currMonth&&_k===_l){var _m=_c.getColumn(_g,_e);return _m=nexacro._getCachedColorObj(_m);}}}}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaybackground(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaybackground(_a);}}return this.parent.on_find_CurrentStyle_daybackground(_a);};_pDayStaticCtrl.on_find_CurrentStyle_border=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdayborder(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayborder(_a);}return this.parent.on_find_CurrentStyle_dayborder("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayborder(_a);}return this.parent.on_find_CurrentStyle_todayborder(_a);}if(this.parent.parent.bordercolumn&&_a=="normal"){var _c=this.parent.parent._innerdataset;var _d=this.parent.parent.datecolumn;var _e=this._refObj.parent.bordercolumn;var _f=_c.getRowCount();for(var _g=0;_g<_f;_g++ ){var _h=_c.getColumn(_g,_d);if(_h){var _i=_h.substr(0,4);var _j=_h.substr(4,2);var _k=_h.substr(6,2);var _l=this.parent._makeDateText(_b,"day");if(_i==this.currYear&&_j==this.currMonth&&_k===_l){var _m=_c.getColumn(_g,_e);return _m=nexacro._getCachedColorObj(_m);}}}}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdayborder(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundayborder(_a);}}return this.parent.on_find_CurrentStyle_dayborder(_a);};_pDayStaticCtrl.on_find_CurrentStyle_bordertype=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaybordertype(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybordertype(_a);}return this.parent.on_find_CurrentStyle_daybordertype("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daybordertype(_a);}return this.parent.on_find_CurrentStyle_todaybordertype(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaybordertype(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaybordertype(_a);}}return this.parent.on_find_CurrentStyle_daybordertype(_a);};_pDayStaticCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this._refObj.parent.textcolorcolumn&&_a=="normal"){var _c=this._refObj.parent._innerdataset;var _d=this._refObj.parent.datecolumn;var _e=this._refObj.parent.textcolorcolumn;var _f=_c.getRowCount();for(var _g=0;_g<_f;_g++ ){var _h=_c.getColumn(_g,_d);if(_h){var _i=_h.substr(0,4);var _j=_h.substr(4,2);var _k=_h.substr(6,2);var _l=this.parent._makeDateText(_b,"day");if(_i==this.currYear&&_j==this.currMonth&&_k===_l){var _m=_c.getColumn(_g,_e);return _m=nexacro._getCachedColorObj(_m);}}}}if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaycolor(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daycolor(_a);}return this.parent.on_find_CurrentStyle_daycolor("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daycolor(_a);}return this.parent.on_find_CurrentStyle_todaycolor(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaycolor(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaycolor(_a);}}return this.parent.on_find_CurrentStyle_daycolor(_a)||this._find_inherit_pseudo_obj("color",_a)||nexacro.Component._default_color;};_pDayStaticCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdayfont(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayfont(_a);}return this.parent.on_find_CurrentStyle_dayfont("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_dayfont(_a);}return this.parent.on_find_CurrentStyle_todayfont(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdayfont(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundayfont(_a);}}return this.parent.on_find_CurrentStyle_dayfont(_a)||this._find_inherit_pseudo_obj("font",_a)||nexacro.Component._default_font;};_pDayStaticCtrl.on_find_CurrentStyle_gradation=function(_a){var _b=this.text;if(_b&&_b.length>0){if(this.trailingday){return this.parent.on_find_CurrentStyle_trailingdaygradation(_a);}if(this.parent._isSelectedDay(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daygradation(_a);}return this.parent.on_find_CurrentStyle_daygradation("selected");}if(this.parent._isToday(_b)){if(_a=="mouseover"){return this.parent.on_find_CurrentStyle_daygradation(_a);}return this.parent.on_find_CurrentStyle_todaygradation(_a);}if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaygradation(_a);}if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaygradation(_a);}}return this.parent.on_find_CurrentStyle_daygradation(_a);};_pDayStaticCtrl.on_apply_style_border=function(_a){var _b=this._control_element;if(_b){_b.setElementBorder(_a,this.on_find_CurrentStyle_bordertype("normal"));_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);};};_pDayStaticCtrl.on_apply_style_bordertype=function(_a){var _b=this._control_element;if(_b){_b.setElementBorder(this.on_find_CurrentStyle_border("normal"),_a);_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),this.on_find_CurrentStyle_gradation("normal"));this._updateClientSize(_b);}};_pDayStaticCtrl.on_apply_style_background=function(_a){var _b=this._control_element;if(_b){_b.setElementBackground(_a,this.on_find_CurrentStyle_gradation("normal"));}};_pDayStaticCtrl.on_apply_style_gradation=function(_a){var _b=this._control_element;if(_b){_b.setElementBackground(this.on_find_CurrentStyle_background("normal"),_a);}};_pDayStaticCtrl.on_apply_style_font=function(_a){if(this.currentstyle.font!=_a){this.currentstyle.font=_a;if(this._text_elem&&_a){this._text_elem.setElementFont(_a);}}};_pDayStaticCtrl._setDaysOfWeek=function(_a){if(this._daysofweek!=_a){this._daysofweek=_a;this.on_apply_daysofweek();}};_pDayStaticCtrl.on_apply_daysofweek=function(){var _a=this._daysofweek;var _b=this.on_find_CurrentStyle_color(_a);this.on_apply_style_color(_b);};delete _pDayStaticCtrl;nexacro.WeekStaticCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;this._refObj=_i.parent;};var _pWeekCtrl=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.WeekStaticCtrl);nexacro.WeekStaticCtrl.prototype=_pWeekCtrl;_pWeekCtrl._daysofweek= -1;_pWeekCtrl.on_find_CurrentStyle_color=function(_a){if(this._daysofweek==0){return this.parent.on_find_CurrentStyle_sundaycolor(_a);}else if(this._daysofweek==6){return this.parent.on_find_CurrentStyle_saturdaycolor(_a);}return this.parent.on_find_CurrentStyle_weekcolor(_a);};_pWeekCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_weekbackground(_a);};_pWeekCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_weekgradation(_a);};_pWeekCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_weekfont(_a);};_pWeekCtrl._setDaysOfWeek=function(_a){if(this._daysofweek!=_a){this._daysofweek=_a;this.on_apply_daysofweek();}};_pWeekCtrl.on_apply_daysofweek=function(){var _a=this._daysofweek;var _b=this.on_find_CurrentStyle_color(_a);this.on_apply_style_color(_b);};delete _pWeekCtrl;nexacro.DatePickerCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.DatePicker.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pDatePickerCtrl=nexacro.DatePickerCtrl.prototype=nexacro._createPrototype(nexacro.DatePicker,nexacro.DatePickerCtrl);_pDatePickerCtrl._type_name="DatePickerControl";nexacro._setForControlStyleFinder(_pDatePickerCtrl);delete _pDatePickerCtrl;}if(!nexacro.Calendar){nexacro.CalendarCloseUpEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"oncloseup";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.posttext=_d;this.prevalue=_e;this.postvalue=_f;};var _pCalendarCloseUpEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarCloseUpEventInfo);nexacro.CalendarCloseUpEventInfo.prototype=_pCalendarCloseUpEventInfo;_pCalendarCloseUpEventInfo._type_name="CalendarCloseUpEventInfo";delete _pCalendarCloseUpEventInfo;_pCalendarCloseUpEventInfo=null;nexacro.CalendarDayClickEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"ondayclick";this.fromobject=this.fromreferenceobject=_a;this.date=_c;};var _pCalendarDayClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarDayClickEventInfo);nexacro.CalendarDayClickEventInfo.prototype=_pCalendarDayClickEventInfo;_pCalendarDayClickEventInfo._type_name="CalendarDayClickEventInfo";delete _pCalendarDayClickEventInfo;_pCalendarDayClickEventInfo=null;nexacro.CalendarSpinEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Event.call(this,_a,_b||"oncalendarspin");this.id=this.eventid=_b||"oncalendarspin";this.fromobject=_h||_a;this.fromreferenceobject=_i||_a;this.pretext=_c;this.posttext=_d;this.prevalue=_e;this.postvalue=_f;this.up=_g;};var _pCalendarSpinEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarSpinEventInfo);nexacro.CalendarSpinEventInfo.prototype=_pCalendarSpinEventInfo;_pCalendarSpinEventInfo._type_name="CalendarSpinEventInfo";delete _pCalendarSpinEventInfo;_pCalendarSpinEventInfo=null;nexacro.Calendar_Style=function(_a){nexacro.Style.call(this,_a);this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;};var _pCalendarStyle=nexacro._createPrototype(nexacro.Style,nexacro.Calendar_Style);nexacro.Calendar_Style.prototype=_pCalendarStyle;eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","daysize"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","daycolor"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popupsize"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","usetrailingday"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","trailingdaycolor"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","buttonsize"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","viewyearspin"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","viewmonthspin"));eval(nexacro._createBackgroundAttributeEvalStr("_pCalendarStyle","daybackground"));eval(nexacro._createBackgroundAttributeEvalStr("_pCalendarStyle","popupbackground"));eval(nexacro._createBorderAttributeEvalStr("_pCalendarStyle","dayborder"));eval(nexacro._createBorderAttributeEvalStr("_pCalendarStyle","popupborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pCalendarStyle","daybordertype"));eval(nexacro._createBordertypeAttributeEvalStr("_pCalendarStyle","popupbordertype"));eval(nexacro._createGradationAttributeEvalStr("_pCalendarStyle","daygradation"));eval(nexacro._createGradationAttributeEvalStr("_pCalendarStyle","popupgradation"));eval(nexacro._createFontAttributeEvalStr("_pCalendarStyle","dayfont"));eval(nexacro._createFontAttributeEvalStr("_pCalendarStyle","popupfont"));eval(nexacro._createAccessibilityAttributeEvalStr("_pCalendarStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popuptype"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popupalign"));_pCalendarStyle.__custom_emptyObject=function(){this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;};_pCalendarStyle.__get_custom_style_value=function(){var _a="";if(this.daysize&&this.daysize._is_empty){_a+="daysize:"+this.daysize._value+"; ";}if(this.daycolor&&this.daycolor._is_empty){_a+="daycolor:"+this.daycolor._value+"; ";}if(this.daybackground&&this.daybackground._is_empty){_a+="daybackground:"+this.daybackground._value+"; ";}if(this.dayborder&&this.dayborder._is_empty){_a+="dayborder:"+this.dayborder._value+"; ";}if(this.daybordertype&&this.daybordertype._is_empty){_a+="daybordertype:"+this.daybordertype._value+"; ";}if(this.daygradation&&this.daygradation._is_empty){_a+="daygradation:"+this.daygradation._value+"; ";}if(this.dayfont&&this.dayfont._is_empty){_a+="dayfont:"+this.dayfont._value+"; ";}if(this.popupsize&&this.popupsize._is_empty){_a+="popupsize:"+this.popupsize._value+"; ";}if(this.popupbackground&&this.popupbackground._is_empty){_a+="popupbackground:"+this.popupbackground._value+"; ";}if(this.popupborder&&this.popupborder._is_empty){_a+="popupborder:"+this.popupborder._value+"; ";}if(this.popupbordertype&&this.popupbordertype._is_empty){_a+="popupbordertype:"+this.popupbordertype._value+"; ";}if(this.popupgradation&&this.popupgradation._is_empty){_a+="popupgradation:"+this.popupgradation._value+"; ";}if(this.popupalign&&this.popupalign._is_empty){_a+="popupalign:"+this.popupalign._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.usetrailingday&&this.usetrailingday._is_empty){_a+="usetrailingday:"+this.usetrailingday._value+"; ";}if(this.trailingdaycolor&&this.trailingdaycolor._is_empty){_a+="trailingdaycolor:"+this.trailingdaycolor._value+"; ";}if(this.viewyearspin&&this.viewyearspin._is_empty){_a+="viewyearspin:"+this.viewyearspin._value+"; ";}if(this.viewmonthspin&&this.viewmonthspin._is_empty){_a+="viewmonthspin:"+this.viewmonthspin._value+"; ";}if(this.popuptype&&this.popuptype._is_empty){_a+="popuptype:"+this.popuptype._value+"; ";}return _a;};nexacro.Calendar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;};var _pCalendarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Calendar_CurrentStyle);nexacro.Calendar_CurrentStyle.prototype=_pCalendarCurrentStyle;_pCalendarCurrentStyle.__custom_emptyObject=_pCalendarStyle.__custom_emptyObject;_pCalendarCurrentStyle.__get_custom_style_value=_pCalendarStyle.__get_custom_style_value;delete _pCalendarStyle;delete _pCalendarCurrentStyle;nexacro.Calendar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.calendaredit=null;this.dropbutton=null;this.popupcalendar=null;this.popupwindow=null;this.spindownbutton=null;this.spinupbutton=null;this.text="";this.displaynulltext="";this.value=null;this.innerdataset=null;this.datecolumn="";this.backgroundcolumn="";this.bordercolumn="";this.textcolorcolumn="";this.type="normal";this.autoselect=false;this.autoskip=false;this.dateformat="yyyy-MM-dd ddd";this.editformat="yyyy-MM-dd";this.useinputpanel=true;this.usecontextmenu=true;this.imemode="none";this.useime="global";this.viewmonthspin=false;this.viewyearspin=false;this.readonly=false;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oncloseup":1,"ondayclick":1,"ondropdown":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ongesture":1,"onmonthchange":1,"onspin":1,"ontextchange":1,"ontextchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oncontextmenu":1};this._mask="";this._currentformat="dateformat";this._innerdataset=null;this._init_popupsize=null;this._caret_pos={};this._caret_pos.begin=0;this._caret_pos.end=0;this._editformat_info=this._makeFormatInfo(this.editformat,true);this._dateformat_info=this._makeFormatInfo(this.dateformat);this._prevalue=null;this._postvalue=null;this._pretext="";this._posttext="";this._primitivevalue=null;this._is_primitivevalue=false;this._defaultLocale="ko_KR";this._datelistL=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];this._datelistS=["일","월","화","수","목","금","토"];this._monthlistL=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"];this._monthlistS=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"];this._localeListL={"ko_KR":["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],"ja_JP":["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],"en_US":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};this._localeListS={"ko_KR":["일","월","화","수","목","금","토"],"ja_JP":["日","月","火","水","木","金","土"],"en_US":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};this._accessibility_role="calendar";this._day_click=false;this._flag_update2dataset=false;this._bindsource=false;this._pretype=this.type;this._want_arrows=false;this._has_inputElement=true;this._locale="";this._is_dropbutton=false;};var _pCalendar=nexacro._createPrototype(nexacro.Component,nexacro.Calendar);nexacro.Calendar.prototype=_pCalendar;_pCalendar._type_name="Calendar";nexacro.Calendar._defaultDaysize=nexacro._getCachedStyleObj("daysize","26 26");nexacro.Calendar._defaultPopupsize=nexacro._getCachedStyleObj("popupsize","192 192");nexacro.Calendar._defaultPopupalign=nexacro._getCachedStyleObj("align","left bottom");nexacro.Calendar._defaultUseTrailngday=nexacro._getCachedStyleObj("usetrailingday","false");nexacro.Calendar._defaultButtonsize=nexacro._getCachedStyleObj("buttonsize", -1);nexacro.Calendar._defaultViewyearspin=nexacro._getCachedStyleObj("viewyearspin","false");nexacro.Calendar._defaultViewmonthspin=nexacro._getCachedStyleObj("viewmonthspin","false");_pCalendar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);if(_b.align!=_c){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_padding(_a);if(_b.padding!=_f){_b.padding=_f;this.on_apply_style_padding(_f);}var _g=this.on_find_CurrentStyle_popupalign(_a);if(_b.popupalign!=_g){_b.popupalign=_g;this.on_apply_style_popupalign(_g);}var _h=this.on_find_CurrentStyle_popupbackground(_a);if(_b.popupbackground!=_h){_b.popupbackground=_h;this.on_apply_style_popupbackground(_h);}var _i=this.on_find_CurrentStyle_popupborder(_a);if(_b.popupborder!=_i){_b.popupborder=_i;this.on_apply_style_popupborder(_i);}var _j=this.on_find_CurrentStyle_popupbordertype(_a);if(_b.popupbordertype!=_j){_b.popupbordertype=_j;this.on_apply_style_popupbordertype(_j);}var _k=this.on_find_CurrentStyle_popupgradation(_a);if(_b.popupgradation!=_k){_b.popupgradation=_k;this.on_apply_style_popupgradation(_k);}var _l=this.on_find_CurrentStyle_popupsize(_a);if(_b.popupsize!=_l){_b.popupsize=_l;this.on_apply_style_popupsize(_l);}var _m=this.on_find_CurrentStyle_usetrailingday(_a);if(_b.usetrailingday!=_m){_b.usetrailingday=_m;}var _n=this.on_find_CurrentStyle_trailingdaycolor(_a);if(_b.trailingdaycolor!=_n){_b.trailingdaycolor=_n;}var _o=this.on_find_CurrentStyle_buttonsize(_a);if(_b.buttonsize!=_o){_b.buttonsize=_o;}var _p=this.on_find_CurrentStyle_viewyearspin(_a);if(_b.viewyearspin!=_p){_b.viewyearspin=_p;}var _q=this.on_find_CurrentStyle_viewmonthspin(_a);if(_b.viewmonthspin!=_q){_b.viewmonthspin=_q;}var _r=this.on_find_CurrentStyle_popuptype(_a);if(_b.popuptype!=_r){_b.popuptype=_r;}};_pCalendar.on_apply_custom_class=function(){if(this.calendaredit){this.calendaredit.on_apply_prop_class();}if(this.dropbutton){this.dropbutton.on_apply_prop_class();}if(this.spinupbutton){this.spinupbutton.on_apply_prop_class();}if(this.spindownbutton){this.spindownbutton.on_apply_prop_class();}};_pCalendar.on_create_custom_style=function(){return new nexacro.Calendar_Style(this);};_pCalendar.on_create_custom_currentStyles=function(){return new nexacro.Calendar_CurrentStyle();};_pCalendar.on_find_CurrentStyle_daycolor=function(_a){return this._find_pseudo_obj("daycolor",_a,"color");};_pCalendar.on_find_CurrentStyle_daybackground=function(_a){return this._find_pseudo_obj("daybackground",_a,"background");};_pCalendar.on_find_CurrentStyle_dayborder=function(_a){return this._find_pseudo_obj("dayborder",_a,"border");};_pCalendar.on_find_CurrentStyle_daybordertype=function(_a){return this._find_pseudo_obj("daybordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_dayfont=function(_a){return this._find_pseudo_obj("dayfont",_a,"font");};_pCalendar.on_find_CurrentStyle_daygradation=function(_a){return this._find_pseudo_obj("daygradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_daysize=function(_a){return this._find_pseudo_obj("daysize",_a);};_pCalendar.on_find_CurrentStyle_popupalign=function(_a){return this._find_pseudo_obj("popupalign",_a,"align");};_pCalendar.on_find_CurrentStyle_popupbackground=function(_a){return this._find_pseudo_obj("popupbackground",_a,"background");};_pCalendar.on_find_CurrentStyle_popupborder=function(_a){return this._find_pseudo_obj("popupborder",_a,"border");};_pCalendar.on_find_CurrentStyle_popupbordertype=function(_a){return this._find_pseudo_obj("popupbordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_popupgradation=function(_a){return this._find_pseudo_obj("popupgradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_popupsize=function(_a){return this._find_pseudo_obj("popupsize",_a)||nexacro.Calendar._defaultPopupsize;};_pCalendar.on_find_CurrentStyle_usetrailingday=function(_a){return this._find_pseudo_obj("usetrailingday",_a);};_pCalendar.on_find_CurrentStyle_trailingdaycolor=function(_a){return this._find_pseudo_obj("trailingdaycolor",_a,"color");};_pCalendar.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||nexacro.Calendar._defaultButtonsize;};_pCalendar.on_find_CurrentStyle_viewyearspin=function(_a){return this._find_pseudo_obj("viewyearspin",_a)||nexacro.Calendar._defaultViewyearspin;};_pCalendar.on_find_CurrentStyle_viewmonthspin=function(_a){return this._find_pseudo_obj("viewmonthspin",_a)||nexacro.Calendar._defaultViewmonthspin;};_pCalendar.on_find_CurrentStyle_align=function(_a,_b){if(_b){return _b._find_pseudo_obj("align",_a,"align")||this._find_pseudo_obj("align",_a,"align");}return this._find_pseudo_obj("align",_a,"align");};_pCalendar.on_find_CurrentStyle_background=function(_a,_b){if(_b){return _b._find_pseudo_obj("background",_a,"background")||this._find_pseudo_obj("background",_a,"background");}return this._find_pseudo_obj("background",_a,"background");};_pCalendar.on_find_CurrentStyle_border=function(_a,_b){if(_b){return _b._find_pseudo_obj("border",_a,"border")||this._find_pseudo_obj("border",_a,"border");}return this._find_pseudo_obj("border",_a,"border");};_pCalendar.on_find_CurrentStyle_bordertype=function(_a,_b){if(_b){return _b._find_pseudo_obj("bordertype",_a,"bordertype")||this._find_pseudo_obj("bordertype",_a,"bordertype");}return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_color=function(_a,_b){if(_b){return _b._find_pseudo_obj("color",_a,"color")||this._find_pseudo_obj("color",_a,"color");}return this._find_pseudo_obj("color",_a,"color");};_pCalendar.on_find_CurrentStyle_font=function(_a,_b){if(_b){return _b._find_pseudo_obj("font",_a,"font")||this._find_pseudo_obj("font",_a,"font");}return this._find_pseudo_obj("font",_a,"font");};_pCalendar.on_find_CurrentStyle_gradation=function(_a,_b){if(_b){return _b._find_pseudo_obj("gradation",_a,"gradation")||this._find_pseudo_obj("gradation",_a,"gradation");}return this._find_pseudo_obj("gradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_accessibility=function(_a,_b){if(_b){return _b._find_pseudo_obj("accessibility",_a,"accessibility")||this._find_pseudo_obj("accessibility",_a,"accessibility");}return this._find_pseudo_obj("accessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pCalendar.on_find_CurrentStyle_popuptype=function(_a){return this._find_pseudo_obj("popuptype",_a);};_pCalendar.on_update_style_daycolor=function(){this.on_apply_style_daycolor(this.currentstyle.daycolor=this.on_find_CurrentStyle_daycolor(this._pseudo));};_pCalendar.on_update_style_daybackground=function(){this.on_apply_style_daybackground(this.currentstyle.daybackground=this.on_find_CurrentStyle_daybackground(this._pseudo));};_pCalendar.on_update_style_dayborder=function(){this.on_apply_style_dayborder(this.currentstyle.dayborder=this.on_find_CurrentStyle_dayborder(this._pseudo));};_pCalendar.on_update_style_daybordertype=function(){this.on_apply_style_daybordertype(this.currentstyle.daybordertype=this.on_find_CurrentStyle_daybordertype(this._pseudo));};_pCalendar.on_update_style_dayfont=function(){this.on_apply_style_dayfont(this.currentstyle.dayfont=this.on_find_CurrentStyle_dayfont(this._pseudo));};_pCalendar.on_update_style_daygradation=function(){this.on_apply_style_daygradation(this.currentstyle.daygradation=this.on_find_CurrentStyle_daygradation(this._pseudo));};_pCalendar.on_update_style_daysize=function(){this.on_apply_style_daysize(this.currentstyle.daysize=this.on_find_CurrentStyle_daysize(this._pseudo));};_pCalendar.on_update_style_popupalign=function(){this.on_apply_style_popupalign(this.currentstyle.popupalign=this.on_find_CurrentStyle_popupalign(this._pseudo));};_pCalendar.on_update_style_popupbackground=function(){this.on_apply_style_popupbackground(this.currentstyle.popupbackground=this.on_find_CurrentStyle_popupbackground(this._pseudo));};_pCalendar.on_update_style_popupborder=function(){this.on_apply_style_popupborder(this.currentstyle.popupborder=this.on_find_CurrentStyle_popupborder(this._pseudo));};_pCalendar.on_update_style_popupbordertype=function(){this.on_apply_style_popupbordertype(this.currentstyle.popupbordertype=this.on_find_CurrentStyle_popupbordertype(this._pseudo));};_pCalendar.on_update_style_popupgradation=function(){this.on_apply_style_popupgradation(this.currentstyle.popupgradation=this.on_find_CurrentStyle_popupgradation(this._pseudo));};_pCalendar.on_update_style_popupsize=function(){if(!this._init_popupsize){this._init_popupsize=this.currentstyle.popupsize;}this.on_apply_style_popupsize(this.currentstyle.popupsize=this.on_find_CurrentStyle_popupsize(this._pseudo));};_pCalendar.on_update_style_usetrailingday=function(){this.on_apply_style_usetrailingday(this.currentstyle.usetrailingday=this.on_find_CurrentStyle_usetrailingday(this._pseudo));};_pCalendar.on_update_style_trailingdaycolor=function(){this.on_apply_style_trailingdaycolor(this.currentstyle.trailingdaycolor=this.on_find_CurrentStyle_trailingdaycolor(this._pseudo));};_pCalendar.on_update_style_buttonsize=function(){this.on_apply_style_buttonsize(this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo));};_pCalendar.on_update_style_viewyearspin=function(){this.on_apply_style_viewyearspin(this.currentstyle.viewyearspin=this.on_find_CurrentStyle_viewyearspin(this._pseudo));};_pCalendar.on_update_style_viewmonthspin=function(){this.on_apply_style_viewmonthspin(this.currentstyle.viewmonthspin=this.on_find_CurrentStyle_viewmonthspin(this._pseudo));};_pCalendar.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);if(this._getPopupType()=="system"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";this.on_apply_type();return;}}};_pCalendar.on_apply_style_align=function(_a){var _b=this.calendaredit;if(_b){_b.style.set_align(_a);}};_pCalendar.on_apply_style_popupalign=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_align(_a);}};_pCalendar.on_apply_style_color=function(_a){var _b=this.calendaredit;if(_b){_b.on_apply_style_color(_a);}};_pCalendar.on_apply_style_popupcolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_color(_a);}};_pCalendar.on_apply_style_daycolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daycolor(_a);}};_pCalendar.on_apply_style_font=function(_a){var _b=this.calendaredit;if(_b){_b.on_apply_style_font(_a);}};_pCalendar.on_apply_style_popupfont=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_font(_a);}};_pCalendar.on_apply_style_dayfont=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_dayfont(_a);}};_pCalendar.on_apply_style_popupbackground=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_background(_a);}};_pCalendar.on_apply_style_daybackground=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daybackground(_a);}};_pCalendar.on_apply_style_popupborder=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_border(_a);}};_pCalendar.on_apply_style_dayborder=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_dayborder(_a);}};_pCalendar.on_apply_style_popupbordertype=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_bordertype(_a);}};_pCalendar.on_apply_style_daybordertype=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daybordertype(_a);}};_pCalendar.on_apply_style_popupgradation=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_gradation(_a);}};_pCalendar.on_apply_style_daygradation=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daygradation(_a);}};_pCalendar.on_apply_style_popupsize=function(_a){var _b=this.popupcalendar;if(_b){if(_a){var _c=_a.value.split(/\s+/);var _d,_e;if(_c.length==2){_d=parseInt(_c[0],10);_e=parseInt(_c[1],10);}else{_d=parseInt(_c[0],10);_e=parseInt(_c[0],10);}var _f=_b._control_element;if(this.type=="normal"&&_f){_f.setElementSize(_d,_e);_b._updateClientSize(_f);}}}};_pCalendar.on_apply_style_daysize=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daysize(_a);}};_pCalendar.on_apply_style_usetrailingday=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_usetrailingday(_a);}};_pCalendar.on_apply_style_trailingdaycolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_trailingdaycolor(_a);}};_pCalendar.on_apply_style_buttonsize=function(_a){this._resizeCalendar();};_pCalendar.on_apply_style_viewyearspin=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_viewyearspin(_a);}};_pCalendar.on_apply_style_viewmonthspin=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_viewmonthspin(_a);}};_pCalendar.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this.calendaredit){this.calendaredit.on_apply_style_accessibility(_a);}};_pCalendar.on_create_contents=function(){var _a=this.getElement();if(_a){if(this._getPopupType()=="system"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";}}switch(this.type){case "normal":this._createCalendaredit();this._createDropbutton();break;case "spin":this._createCalendaredit();this._createSpinbutton();break;case "monthonly":this._createPopupcalendar();break;case "system":this._createSystemCalendar();break;}}};_pCalendar.on_created_contents=function(){this._currentformat="dateformat";this.on_apply_autoselect();this.on_apply_locale();this.on_apply_displaynulltext();this.on_apply_editformat();this._currentformat="dateformat";if(this.expr){this.on_apply_expr();}else{if(!this.value&&this._primitivevalue){this._setValue(this._primitivevalue);}}this.on_apply_dateformat();switch(this.type){case "spin":this._setEventHandlerToCalendarEdit();this._setEventHandlerToSpinButton();this.calendaredit.on_created();this.spinupbutton.on_created();this.spindownbutton.on_created();this.calendaredit.style.set_align(this.currentstyle.align);break;case "monthonly":this._setEventHandlerToPopupCalendar();this.popupcalendar.on_created();if(nexacro._enableaccessibility){this._want_arrows=true;}break;case "system":if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _a=this.getElement();if(_a){_a.setElementAccessibilityHidden(false);}}this._setEventHandlerToCalendarEdit();this.calendaredit.on_created();this._setAccessibilityActiveDescendant(this.calendaredit);this.calendaredit.style.set_align(this.currentstyle.align);break;case "normal":default:this._setEventHandlerToCalendarEdit();this._setEventHandlerToDropButton();this.calendaredit.on_created();this.dropbutton.on_created();this._setAccessibilityActiveDescendant(this.calendaredit);this.calendaredit.style.set_align(this.currentstyle.align);this.on_apply_style_popupborder(this.currentstyle.popupborder);this.dropbutton._control_element.setElementAccessibilityHidden(true);}this.on_apply_innerdataset();this.on_apply_prop_rtldirection();if(nexacro._enableaccessibility&&this.calendaredit&&this.calendaredit._input_element){var _b=this.calendaredit._input_element;_b._setElementInputRole();_b._setElementInputLabel();}};_pCalendar.on_destroy_contents=function(){this._destroyControl();this._destroyInnerdataset();this._editformat_info=null;this._dateformat_info=null;this._currentformat="";this._mask="";this._caret_pos=null;this._prevalue=null;this._postvalue=null;this._datelistL=null;this._datelistS=null;this._localeListL=null;this._localeListS=null;};_pCalendar.on_change_containerRect=function(_a,_b){this._resizeCalendar();};_pCalendar.on_getBindableProperties=function(){return "value";};_pCalendar.on_apply_custom_setfocus=function(_a){var _b=this.calendaredit;var _c=this.popupcalendar;if(_b){var _d=_b._edit_base_api;if(_d&&!this._re_focus){this._currentformat="editformat";var _e=this.value;var _f=this._toValueStr(_e);var _g="";this._setMask(this._currentformat,false,this.value);if(nexacro._isNull(_e)){_g=_e;}else{_g=this._makeMaskValue(_f);}_d._setValue(_g);if(!_b._input_element._is_mousedown){_b.setSelect(this._caret_pos.begin,this._caret_pos.end);}}if(!this._is_dropbutton){_b.on_apply_custom_setfocus(_a);}else{this._is_dropbutton=false;_d._changeFocusText(_b._input_element);nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}_b._stat_change("focus","focused");}else if(_c){_c.on_apply_custom_setfocus(_a);}};_pCalendar.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){if(this.calendaredit){this.calendaredit._setEnable(_a);}if(this.dropbutton){this.dropbutton._setEnable(_a);}if(this.spinupbutton){this.spinupbutton._setEnable(_a);}if(this.spindownbutton){this.spindownbutton._setEnable(_a);}if(this.popupcalendar){this.popupcalendar._setEnable(_a);}}};_pCalendar.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this._bindsource=false;this._setValue(undefined);return true;}};_pCalendar.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){this._bindsource=true;this._currentformat="editformat";var _f=_b.getColumn(_c,_d);var _g=this._toValueStr(_f);var _h=this._makeDateObj(_g);if(_f){this._setEnable(this.enable);}if(this._is_primitivevalue&&!this._is_created){this._primitivevalue=_h;}this._currentformat="dateformat";this._setValue(_h);return true;}return false;};_pCalendar.on_get_style_accessibility_label=function(){if(this.type=="monthonly"){return this.text?this.text:this._getCurrentDate();}else{return "";}};_pCalendar._on_getAccessibilityAdditionalLabel=function(){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a){var _b=this.calendaredit;if(_b){return _b._edit_base_api._on_getAccessibilityAdditionalLabel();}}return "";};_pCalendar.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);if(this._isPopupVisible()){if(_a||_b){this._closePopup();return;}this._update_popupwindow_position();if(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime"){var _c=this;var _d=this._popupwindow_position_observer;if(_d){if(_d._interval_timer){_d._interval_timer.stop();delete _d._interval_timer;_d._interval_timer=null;}this._popupwindow_position_observer=null;}var _e=this._control_element;_d=this._popupwindow_position_observer={};_d._observed_count=0;_d._elem_pos=nexacro._getElementPositionInFrame(_e);_d._interval_timer=new nexacro.CallbackTimer(this,function(){if( ++_d._observed_count>=50){_d._interval_timer.destroy();delete _d._interval_timer;_d._interval_timer=null;return;}var _f=nexacro._getElementPositionInFrame(_e);if(_d._elem_pos.x!=_f.x||_d._elem_pos.y!=_f.y){_c._update_popupwindow_position();_d._observed_count=50;}},100);_d._interval_timer.start();}}};_pCalendar._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrows;this._is_first_focus=false;return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pCalendar._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this.calendaredit._input_element&&this._status!="focus"){if(!this.calendaredit._input_element._wantAccessibilityAdditionalLabel||!this.calendaredit._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pCalendar._setAccessibilityStatFocus=function(_a){var _b=this.calendaredit;if(_b&&_b._input_element){var _c=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_c="none";}_b._input_element.setElementAccessibilityRole(_c);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pCalendar._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4&&this._getPopupType()=="system"){_b="none";}return _b;};_pCalendar.set_text=nexacro._emptyFn;_pCalendar.set_autoselect=function(_a){if(_a!=this.autoselect){this.autoselect=_a;this.on_apply_autoselect();}};_pCalendar.on_apply_autoselect=function(){var _a=this.calendaredit;if(_a){_a.set_autoselect(this.autoselect);}};_pCalendar.set_autoskip=function(_a){if(_a!=this.autoskip){this.autoskip=_a;this.on_apply_autoskip();}};_pCalendar.on_apply_autoskip=function(){var _a=this.calendaredit;if(_a){_a.set_autoskip(this.autoskip);}};_pCalendar.set_displaynulltext=function(_a){if(_a===undefined){return;}_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pCalendar.on_apply_displaynulltext=function(){if(this.calendaredit){this.calendaredit.set_displaynulltext(this.displaynulltext);}};_pCalendar.on_apply_expr=function(){var _a=this.getElement();if(_a){var _b=this.expr;var _c=_b.substring(0,4);var _d,_e,_f;var _g=false;if(_c=="expr"){_c=_b.substr(4).trim();if(/^expr(\s*):/.test(_b)){_c=_c.substr(1);}else{_c=_c.substring(1,_c.length-1);}}else{_c=_b;}_d=new nexacro.ExprParser();_e=_d.makeExpr(this,_c);if(_e.substring(0,4)=="Date"){_e="new "+_e;_g=true;}_d=null;_f=nexacro._createInlineFunc(_e,["comp"]);if(_f){var _h=_f.call(null,this);if(_g){this._setValue_JSDate(_h);}else{this._setValue(_h);}}}};_pCalendar.set_type=function(_a){if(this._getPopupType()=="system"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";this.on_apply_type();return;}}if(_a!=this.type){this._pretype=this.type;if(_a==="spin"||_a==="monthonly"){this.type=_a;}else{this.type="normal";}this.on_apply_type();}};_pCalendar.on_apply_type=function(){var _a=this.getElement();if(_a){var _b=true;var _c=this._client_width;var _d=Math.round(_c/5);if(this._pretype!="monthonly"||this.type=="monthonly"){_b=false;}this._destroyControl();switch(this.type){case "normal":this._createNormaltypeControl();break;case "spin":this._createSpintypeControl();break;case "monthonly":var _e=this._getPopupSizeArr();this._createMonthlytypeControl();this.resize(_e.width,_e.height);break;case "system":this._createSystemtypeControl();}if(_b){this.resize(_c,_d);}this._resizeCalendar();if(nexacro._enableaccessibility&&this.calendaredit&&this.calendaredit._input_element){var _f=this.calendaredit._input_element;_f._setElementInputRole();_f._setElementInputLabel();}}};_pCalendar.set_value=function(_a){if(_a&&((typeof _a)=="object")&&!(_a instanceof nexacro.Date)){return;}this._setUserValue(_a);};_pCalendar.on_apply_value=function(){var _a=this.getElement();if(_a){var _b=this.value;if(this.calendaredit){if(_b==""&&this._currentformat=="dateformat"){var _c=true;}else{var _c=false;}this._setMask(this._currentformat,_c,this.value);if(_b==null){this.calendaredit.set_value(undefined);}else{var _d=this._toValueStr(_b);var _e=(this._isEmptyStr(_b))?"":this._makeMaskValue(_d);var _f=this.calendaredit._edit_base_api;this.calendaredit.value=_f._getValue();this.calendaredit.set_value(_e);}}if(this.popupcalendar){var _e=this._getPickerValue(_b);this.popupcalendar.set_value(_e);}}this.on_apply_text();};_pCalendar.on_apply_fake_value=function(_a){var _b=this.getElement();if(_b){if(this.calendaredit){var _c=_a;var _d=this._toValueStr(_c);var _e=this._makeMaskValue(_d);this._setMask(this._currentformat,true,_c);this.calendaredit.set_value(_e);}if(this.popupcalendar){var _c=this._makeDateObj(_a);var _e=this._getPickerValue(_c);this.popupcalendar.set_value(_e);}}};_pCalendar.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this.value;if(!_b){this.text="";}else{this.displaytext=this.text=this._makeCalendarText(_b);}this._refreshAccessibilityValue();}};_pCalendar.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pCalendar._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pCalendar.getInnerDataset=function(){return this._innerdataset;};_pCalendar.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pCalendar.on_apply_innerdataset=function(){var _a=this.getElement();if(_a){var _b=this._innerdataset;if(_b&&this.popupcalendar){_b._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_b._setEventHandler("onrowsetchanged",this._callback_rowsetchanged,this);this.popupcalendar.on_apply_innerdataset(this._innerdataset);}}};_pCalendar.set_backgroundcolumn=function(_a){if(_a!=this.backgroundcolumn){this.backgroundcolumn=_a;this.on_apply_backgroundcolumn();}};_pCalendar.on_apply_backgroundcolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_backgroundcolumn(this.backgroundcolumn);}}};_pCalendar.set_bordercolumn=function(_a){if(_a!=this.bordercolumn){this.bordercolumn=_a;this.on_apply_bordercolumn();}};_pCalendar.on_apply_bordercolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_bordercolumn(this.bordercolumn);}}};_pCalendar.set_datecolumn=function(_a){if(_a!=this.datecolumn){this.datecolumn=_a;this.on_apply_datecolumn();}};_pCalendar.on_apply_datecolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_datecolumn(this.datecolumn);}}};_pCalendar.set_textcolorcolumn=function(_a){if(_a!=this.textcolorcolumn){this.textcolorcolumn=_a;this.on_apply_textcolorcolumn();}};_pCalendar.on_apply_textcolorcolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_textcolorcolumn(this.textcolorcolumn);}}};_pCalendar.set_dateformat=function(_a){if(_a!=this.dateformat){this.dateformat=_a;this.on_apply_dateformat();}};_pCalendar.on_apply_dateformat=function(){if(this.type=="system"){this._dateformat_info=this._makeFormatInfo("yyyy-MM-dd");}else{this._dateformat_info=this._makeFormatInfo(this.dateformat);}var _a=this.getElement();if(_a){this.on_apply_value();}};_pCalendar.set_editformat=function(_a){if(_a!=this.editformat){this.editformat=_a;this.on_apply_editformat();}};_pCalendar.on_apply_editformat=function(){if(this.type=="system"){this._editformat_info=this._makeFormatInfo("yyyy-MM-dd");}else{this._editformat_info=this._makeFormatInfo(this.editformat,true);}};_pCalendar.set_imemode=function(_a){if(_a!=this.imemode){this.imemode=_a;}};_pCalendar.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();this.on_apply_dateformat();this.on_apply_editformat();}}};_pCalendar.on_apply_locale=function(){var _a=this.calendaredit;var _b=this._getLocale();if(_a){_a._setLocale(_b);}var _c=this.popupcalendar;if(_c){_c._setLocale(_b);}var _d=this.getElement();if(_d){var _e=this.popupcalendar;var _f=nexacro.Locale.getLocaleInfo(_b);this._datelistL=_f.weekday_names_long;this._datelistS=_f.weekday_names_short;this._monthlistL=_f.month_names_long;this._monthlistS=_f.month_names_short;this._locale_direction=_f.direction;var _g=this._datelistS.join(" ");this.on_apply_value();if(_e){var _h=_e.on_find_CurrentStyle_weekformat(this._pseudo);if(_h){_e.on_apply_style_weekformat(_h);}else{_e.on_apply_style_weekformat(_g);}}}};_pCalendar.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);if(!_a&&this._is_created){this.closeDropdown();}}};_pCalendar.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pCalendar.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this.calendaredit){this.calendaredit.set_readonly(_a);}if(this.popupcalendar){this.popupcalendar.set_readonly(_a);}};_pCalendar.set_usecontextmenu=function(_a){if(_a!=this.usecontextmenu){this.usecontextmenu=_a;}};_pCalendar.set_useime=function(_a){if(_a!=this.useime){this.useime=_a;}};_pCalendar.set_useinputpanel=function(_a){if(_a!=this.useinputpanel){this.useinputpanel=_a;}};_pCalendar.closeDropdown=function(){if(this.type=="normal"){this._closePopup();}};_pCalendar.dropdown=function(){if(this.enable!=true||this.readonly==true||this.visible==false||this.type!="normal"){return false;}this._currentformat="editformat";var _a=this.calendaredit;var _b=this._makeNormalValue1(_a.text);var _c=this._makeDateObj(this.value);var _d=this._makeDateObj(_b);var _e=_c?_c.toString():_c;var _f=_d?_d.toString():_d;if(_e!=_f){if(!((_e===undefined||_e===null)&&_f==="")){this._setPreValueAndText(_c);this._setPostValueAndText(_d);var _g=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_g||_g===undefined){var _h=this._setValue(this._postvalue);if(_h===false){this._setValue(this._prevalue);}else{this._fireOnchangedEvent(_c,this.value);}}else{this._setValue(this._prevalue);this.setCaretPos(0);}}}if(this.isDropdown()){return false;}var _g=this.on_fire_ondropdown(this);if(this._getPopupType()=="none"||this.type=="system"){return;}if(_g||_g===undefined){this._setFocus(false);this._showPopup();this._resizeDatePicker(true);this._currentformat="editformat";var _i=this._makeMaskValue(this._toValueStr(this.value));var _a=this.calendaredit;if(_a){this._setMask(this._currentformat,true,this.value);_a.set_value(_i);var _j=this.calendaredit._input_element;if(_j){if(this.autoselect){_j.setElementSetSelect(0,this.text.length);}else{this._setDefaultCaret();}}}var _k=this.popupcalendar;if(_k){this.on_apply_style_popupborder(this.currentstyle.popupborder);_i=this._getPickerValue(this._makeDateObj(this.value));_k.set_value(_i);_k._hide_spindate();}if(nexacro._enableaccessibility){this._want_arrows=true;}}};_pCalendar.isDropdown=function(){return this._isPopupVisible();};_pCalendar.getCaretPos=function(){var _a= -1;if(this.calendaredit&&this.readonly==false){_a=this.calendaredit.getCaretPos();}return _a;};_pCalendar.getDay=function(){var _a=1;if(this.value){_a=this.value.getDate();}return _a;};_pCalendar.getDayOfWeek=function(){var _a=4;if(this.value){_a=this.value.getDay();}return _a;};_pCalendar.getMonth=function(){var _a=1;if(this.value){_a=this.value.getMonth()+1;}return _a;};_pCalendar.getSelect=function(){var _a=[0,0];if(this.calendaredit){_a=this.calendaredit.getSelect();}return _a;};_pCalendar.getSelectedText=function(){var _a="";if(this.calendaredit){_a=this.calendaredit.getSelectedText();}return _a;};_pCalendar.getYear=function(){var _a=1970;if(this.value){_a=this.value.getFullYear();}return _a;};_pCalendar.isAboveSelected=function(){};_pCalendar.setCaretPos=function(_a){this._caret_pos.begin=_a;this._caret_pos.end=_a;if(this.calendaredit){return this.calendaredit.setCaretPos(_a);}};_pCalendar.setSelect=function(_a,_b){var _c=false;this._caret_pos.begin=_a;this._caret_pos.end=_b;if(this.calendaredit){_c=this.calendaredit.setSelect(_a,_b);}return _c;};_pCalendar.updateToDataset=function(){this._bindsource=false;var _a=this.applyto_bindSource("value",this.value);if(this._flag_update2dataset){return true;}return _a;};_pCalendar._getDragData=function(){return this.calendaredit?this.calendaredit._getDragData():"";};_pCalendar.on_notify_ondayclick=function(_a,_b){if(this.readonly){return;}var _c=this.calendaredit;if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){this.on_apply_custom_setfocus();}this.on_fire_ondayclick(this,_b.date);this._currentformat="editformat";var _d=this._makeDateObj(this.value);if(_b.date instanceof nexacro.Date){var _g=_b.date;}else{var _g=this._makeDateObj(_b.date);}var _e=_d?_d.toString():_d;var _f=_g?_g.toString():_g;if(_e!=_f){this._day_click=true;this._setPreValueAndText(_d);this._setPostValueAndText(_g);var _h=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_h||_h===undefined){var _i=this._setValue(this._postvalue);if(_i===false){this._setValue(this._prevalue);this.closeDropdown();}else{this.closeDropdown();this._fireOnchangedEvent(_d,_g);}this._setDefaultCaret();}else{this._setValue(this._prevalue);}}else{this.closeDropdown();this._setDefaultCaret();}if(this.autoskip&&_c){_c.on_apply_autoskip();}this._day_click=false;this._currentformat="editformat";return _h;};_pCalendar.on_notify_mobile_ondropdown=function(_a,_b){if(this.readonly==true||this.enable==false){return false;}if(this._isPopupVisible()){this.closeDropdown();}else{this.dropdown();}return false;};_pCalendar.on_notify_ondropdown=function(_a,_b){if(this.readonly==true||this.enable==false){return false;}if(this._isPopupVisible()){this.closeDropdown();if(this.calendaredit){var _c=this.calendaredit._input_element;if(_c){if(this.autoselect){var _d=this.text;_c.setElementSetSelect(0,_d.length);}else{this._setDefaultCaret();}}}}else{this.dropdown();}return false;};_pCalendar.on_notify_oneditclick=function(_a,_b){if(this.type=="system"){var _c=this.getElement();if(_c){nexacro._openSystemCalendar(this,this.value);}return true;}this.on_fire_oneditclick(_a,_b.caretpos,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,_b.fromobject,_b.fromreferenceobject);};_pCalendar.on_notify_onlbuttonup=function(_a,_b){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=this.calendaredit;var _d=_c._input_element;var _e=_d.getElementCaretPos();if(_e&&_e!= -1){this._caret_pos=_e;if(nexacro._isDesktop()&&nexacro.Browser=="Runtime"){if(_e.begin==_e.end){this.setCaretPos(_e.begin);}}}else{this._caret_pos.begin=0;this._caret_pos.end=0;}});};_pCalendar.on_notify_onlbuttondown=function(_a,_b){if(this.readonly==true){return false;}var _c=this.calendaredit;var _d=_c._edit_base_api;var _e=_c._input_element;var _f=_e.getElementCaretPos();if(_f&&_f!= -1){this._caret_pos=_f;}else{this._caret_pos.begin=0;this._caret_pos.end=0;}if(this._isPopupVisible()){this.closeDropdown();}if(_c&&this._currentformat!="editformat"){var _g=(this._currentformat=="dateformat"&&this.value==="")?true:false;this._currentformat="editformat";this._setMask(this._currentformat,_g,this.value);var _h=this._toValueStr(this.value);var _i=this._makeMaskValue(_h);_d._setValue(_i);}};_pCalendar.on_notify_mobile_onlbuttondown=function(_a,_b){if(this.readonly==true){return false;}var _c=this.calendaredit;var _d=_c._edit_base_api;if(this._isPopupVisible()){this.closeDropdown();}if(_c&&this._currentformat!="editformat"){this._currentformat="editformat";this._setMask(this._currentformat,false,this.value);var _e=this._toValueStr(this.value);var _f=this._makeMaskValue(_e);_d._setValue(_f);}};_pCalendar.on_notify_ontextchange=function(_a,_b){if(!this._isValidDate(_b.chartext)){return false;}return this.on_fire_ontextchange(_a,_b.chartext,_b.pretext,_b.posttext,_b.preimetext,_b.postimetext);};_pCalendar.on_notify_ontextchanged=function(_a,_b){var _c=_b.posttext;var _d=this._makeNormalValue(_c);var _e=this._makeDateObj(_d);var _f=this._getPickerValue(_e);if(this.popupcalendar&&this.isDropdown()){this.popupcalendar.set_value(_f);}return this.on_fire_ontextchanged(_a,_b.pretext,_b.posttext);};_pCalendar.on_notify_onchanged=function(_a,_b){};_pCalendar.on_notify_onchar=function(_a,_b){return this.on_fire_onchar(_a,_b.chartext,_b.pretext,_b.posttext);};_pCalendar.on_notify_cancharchange=function(_a,_b){return this.on_fire_cancharchange(_a,_b.chartext,_b.pretext,_b.posttext);};_pCalendar.on_notify_canchange=function(_a,_b){return this.on_fire_canchange(_a,_b.pretext,_b.prevalue,_b.posttext,_b.postvalue);};_pCalendar.on_notify_oneditkillfocus=function(_a,_b){if(this.readonly==true){return;}if(this.type=="spin"&&_b){if(_b.newreferencecomponent==this.spinupbutton||_b.newreferencecomponent==this.spindownbutton){return;}}this._currentformat="editformat";var _c=this.calendaredit;var _d=this._makeNormalValue1(_c.text);var _e=this._makeDateObj(this.value);var _f=this._makeDateObj(_d);var _g=_e?_e.toString():_e;var _h=_f?_f.toString():_f;if(_g!=_h){if((_g===undefined||_g===null)&&_h===""){return;}this._setPreValueAndText(_e);this._setPostValueAndText(_f);var _i=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_i||_i===undefined){var _j=this._setValue(this._postvalue);if(_j===false){this._setValue(this._prevalue);return;}}else{this._setValue(this._prevalue);this.setCaretPos(0);return;}this._fireOnchangedEvent(_e,this.value);}};_pCalendar.on_notify_oncloseup=function(_a,_b){var _c=this._getWindow();if(_c&&this._track_capture){_c._releaseCaptureLock(this);}if(this._day_click){this.on_fire_oncloseup(this,this._pretext,this._posttext,this._prevalue,this._postvalue);}else{var _d=this._changeYearValue();var _e=this._makeNormalValue(_d);this._currentformat="dateformat";var _f=this._makeDateObj(this.value);var _g=this._makeDateObj(_e);var _h=_f?_f.toString():_f;var _i=_g?_g.toString():_g;if(_e){this.on_fire_oncloseup(this,_h,_i,_f,_g);}else{_f=this._makeNormalValue(this._primitivevalue);_f=this._makeDateObj(_f);this.on_fire_oncloseup(this,this._primitivevalue,_i,_f,_g);}}};_pCalendar.on_notify_onkeydown=function(_a,_b){var _c=nexacro.Event;switch(this.type){case "normal":if(_b.keycode==_c.KEY_ESC){this.closeDropdown();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_ENTER){this._fireKeydownEvent();if(this.isDropdown()){this.popupcalendar.on_fire_sys_onkeydown(_b.keycode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.fromobject,_b.fromreferenceobject);}this.closeDropdown();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_SPACE){return false;}else if(_b.altKey==true&&_b.keycode==_c.KEY_DOWN){this.dropdown();}else{if(this.isDropdown()&&(_b.keycode>=_c.KEY_LEFT&&_b.keycode<=_c.KEY_DOWN)){this.popupcalendar.on_fire_sys_onkeydown(_b.keycode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.fromobject,_b.fromreferenceobject);}}break;case "spin":var _d=this.calendaredit;var _e=_d._input_element;var _f=_e.getElementCaretPos();if(_f&&_f!= -1){this._caret_pos=_f;}else{this._caret_pos=0;}if(_b.keycode==_c.KEY_ENTER){this._fireKeydownEvent();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_UP){if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_onspinup(_a,_b);}}else if(_b.keycode==_c.KEY_DOWN){if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_onspindown(_a,_b);}}break;case "monthonly":default:break;}return false;};_pCalendar.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(nexacro._enableaccessibility&&!_c&&!_b&&(this.type=="monthonly"||this.isDropdown())){var _g=this.popupcalendar;var _h=_g._header;var _i=_g._body;var _j=_i._year|0;var _k=_i._month|0;var _l=_i._day|0;switch(_a){case 38:{if(_c){_j-=1;}else{_l-=7;if(_l<=0){_k-=1;if(_k<=0){if(_j<=0){_j=9999;}else{_j-=1;}_k=12;}_l=this._getEndDay(_j,_k)+_l;}}}break;case 40:{if(_c){_j+=1;}else{_l+=7;var _m=this._getEndDay(_j,_k);if(_l>_m){_k+=1;if(_k>12){if(_j>=9999){_j=0;}else{_j+=1;}_k=1;}_l-=_m;}}}break;}if(_a==38||_a==40){_j=_i._makeDateText(_j,"year");_k=_i._makeDateText(_k,"month");_l=_i._makeDateText(_l,"day");var _n=new nexacro.Date(_j,_k-1,_l);_g._hide_spindate();if(this.type=="monthonly"){_g.on_fire_ondayclick(_g,_n);}else{_g.set_value(_j+_k+_l);}_n=null;}}};_pCalendar.on_notify_onspinup=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos;if(!_e){var _k=new nexacro.Date();var _l=this._toValueStr(_k);var _m=_k.getDay();var _n=this._datelistL[_m];_l+=_n;this.on_apply_fake_value(_k);this.setCaretPos(0);_k=null;return;}var _g=_d.text;var _h=this._makeSpinValue(_g,1,_f.begin);this._setPreValueAndText(this._makeDateObj(_e));this._setPostValueAndText(this._makeDateObj(_h));var _i=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,true);if(_i||_i===undefined){this.on_apply_fake_value(this._postvalue);}var _j=0;if(_g.length!=_d.text.length){_j=_d.text.length-_g.length;}this.setCaretPos(_f.begin+_j);_a._stat_change("notselect","normal");};_pCalendar.on_notify_mobile_onspinup=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos={begin:_c._edit_base_api._begin_pos,end:_c._edit_base_api._end_pos};if(!_e){var _j=new nexacro.Date();var _k=this._toValueStr(_j);var _l=_j.getDay();var _m=this._datelistL[_l];_k+=_m;this.on_apply_fake_value(_j);_j=null;return;}var _g=_d.text;var _h=this._makeSpinValue(_g,1,_f.begin);this._setPreValueAndText(this._makeDateObj(_e));this._setPostValueAndText(this._makeDateObj(_h));var _i=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,true);if(_i||_i==undefined){this.on_apply_fake_value(this._postvalue);}_a._stat_change("notselect","normal");};_pCalendar.on_notify_onspindown=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos;if(!_e){var _k=new nexacro.Date();var _l=this._toValueStr(_k);var _m=_k.getDay();var _n=this._datelistL[_m];_l+=_n;this.on_apply_fake_value(_k);this.setCaretPos(0);_k=null;return;}var _g=_d.text;var _h=this._makeSpinValue(_g, -1,_f.begin);this._setPreValueAndText(this._makeDateObj(_e));this._setPostValueAndText(this._makeDateObj(_h));var _i=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,false);if(_i||_i==undefined){this.on_apply_fake_value(this._postvalue);}var _j=0;if(_g.length!=_d.text.length){_j=_d.text.length-_g.length;}this.setCaretPos(_f.begin+_j);_a._stat_change("notselect","normal");};_pCalendar.on_notify_mobile_onspindown=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos={begin:_c._edit_base_api._begin_pos,end:_c._edit_base_api._end_pos};if(!_e){var _j=new nexacro.Date();var _k=this._toValueStr(_j);var _l=_j.getDay();var _m=this._datelistL[_l];_k+=_m;this.on_apply_fake_value(_j);_j=null;return;}var _g=_d.text;var _h=this._makeSpinValue(_g, -1,_f.begin);this._setPreValueAndText(this._makeDateObj(_e));this._setPostValueAndText(this._makeDateObj(_h));var _i=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,false);if(_i||_i==undefined){this.on_apply_fake_value(this._postvalue);}_a._stat_change("notselect","normal");};_pCalendar._callback_onvaluechanged=function(_a,_b){this.on_apply_backgroundcolumn();this.on_apply_bordercolumn();this.on_apply_datecolumn();this.on_apply_textcolorcolumn();};_pCalendar._callback_rowsetchanged=function(_a,_b){this.on_apply_backgroundcolumn();this.on_apply_bordercolumn();this.on_apply_datecolumn();this.on_apply_textcolorcolumn();};_pCalendar._on_activate=function(){if(!this._is_alive){return;}var _a=this.calendaredit;if(_a){var _b=_a._edit_base_api;if(_b){this._currentformat="editformat";var _c=this.value;var _d=this._toValueStr(_c);var _e="";this._setMask(this._currentformat,false,this.value);if(nexacro._isNull(_c)){_e=_c;}else{_e=this._makeMaskValue(_d,this.value);}_b._setValue(_e);if(nexacro._enableaccessibility){this._setAccessibilityStatFocus();}}}if(!this._isSelected()){this._stat_change("focus","normal");}};_pCalendar._on_killfocus=function(_a,_b){if(!this._is_alive||application._is_on_alert){return;}if(this.type!="monthonly"){var _c=this._makeDateObj(this.value);var _d=this._changeYearValue();if(this.popupcalendar){this._currentformat="editformat";}var _e=this._makeNormalValue1(_d);var _f=this._makeDateObj(_e);this._currentformat="dateformat";var _g=_c?_c.toString():_c;var _h=_f?_f.toString():_f;if(_g!=_h){if((_g===undefined||_g===null)&&_h===""){return;}this._setPreValueAndText(_c);this._setPostValueAndText(_f);var _i=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_i||_i==undefined){_i=this.applyto_bindSource("value",this._postvalue);if(_i===false){this.on_apply_value();}else{this._setValue(this._postvalue);}}else{_i=this.applyto_bindSource("value",this._prevalue);if(_i===false){this.on_apply_value();}else{this._setValue(this._prevalue);}return;}this._fireOnchangedEvent(this._prevalue,this.value);}else{this.on_apply_value();}this.closeDropdown();}else{if(this.popupcalendar){var _j=this.popupcalendar;_j._hide_spindate();}this.on_apply_value();}if(this.calendaredit){this.calendaredit._stat_change("notfocus","normal");}};_pCalendar.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(this,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pCalendar.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pCalendar.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangedEventInfo(this,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}return false;};_pCalendar.on_fire_onchar=function(_a,_b,_c,_d){if(this.onchar&&this.onchar._has_handlers){var _e=new nexacro.CharEventInfo(this,"onchar",_b,_c,_d);return this.onchar._fireCheckEvent(this,_e);}return true;};_pCalendar.on_fire_oncloseup=function(_a,_b,_c,_d,_e){if(this.oncloseup&&this.oncloseup._has_handlers){var _f=new nexacro.CalendarCloseUpEventInfo(this,"oncloseup",_b,_c,_d,_e);return this.oncloseup._fireEvent(this,_f);}return false;};_pCalendar.on_fire_ondayclick=function(_a,_b){if(this.ondayclick&&this.ondayclick._has_handlers){var _c=new nexacro.CalendarDayClickEventInfo(this,"ondayclick",_b);return this.ondayclick._fireEvent(this,_c);}return false;};_pCalendar.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=new nexacro.Event(this,"ondropdown");return this.ondropdown._fireEvent(this,_b);}return true;};_pCalendar.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.visible&&this._isEnable()&&this.enableevent){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(this,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this,_n);return this.oneditclick._fireEvent(this,_o);}}return false;};_pCalendar.on_fire_onspin=function(_a,_b,_c,_d,_e,_f){if(this.onspin&&this.onspin._has_handlers){var _g=new nexacro.CalendarSpinEventInfo(this,"onspin",_b,_c,_d,_e,_f);return this.onspin._fireEvent(this,_g);}return true;};_pCalendar.on_fire_ontextchange=function(_a,_b,_c,_d,_e,_f){if(this.ontextchange&&this.ontextchange._has_handlers){var _g=new nexacro.TextChangeEventInfo(this,"ontextchange",_b,_c,_d,_e,_f);return this.ontextchange._fireCheckEvent(this,_g);}return true;};_pCalendar.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(this,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pCalendar.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCalendar.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onfling.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return _j;};_pCalendar.on_fire_user_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){nexacro.Component.prototype.on_fire_user_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCalendar._applyZoomPopup=function(){if(this.popupwindow&&this.popupwindow._is_popup()){this.dropdown();}};_pCalendar._createCalendaredit=function(){var _a=new nexacro.CalendarEditCtrl("calendaredit","absolute",0,0,0,0,null,null,this);_a.set_readonly(this.readonly);_a.set_type("string");_a.set_maskchar(" ");_a.set_displaynulltext(this.displaynulltext);_a.createComponent(true);this.calendaredit=_a;_a=null;this._setMask("dateformat",true,this.value);};_pCalendar._createDropbutton=function(){var _a=this.dropbutton=new nexacro.CalendarDropButtonCtrl("dropbutton","absolute",0,0,0,0,null,null,this);_a.createComponent(true);};_pCalendar._createSpinbutton=function(){var _a=new nexacro.CalendarSpinButtonCtrl("spinupbutton","absolute",0,0,0,0,null,null,this);var _b=new nexacro.CalendarSpinButtonCtrl("spindownbutton","absolute",0,0,0,0,null,null,this);_a.createComponent(true);_b.createComponent(true);this.spinupbutton=_a;this.spindownbutton=_b;_a=_b=null;};_pCalendar._createPopupcalendar=function(){var _a=new nexacro.DatePickerCtrl("popupcalendar","absolute",0,0,0,0,null,null,this);_a.createComponent(true);_a._setEnable(true);if(this.type=="monthonly"){_a._is_focus_accept=true;}else{_a._is_focus_accept=false;}this.popupcalendar=_a;_a=null;};_pCalendar._createPopupwindow=function(){var _a=new nexacro.CalendarPopupWindow("calendarpopup","absolute",0,0,0,0,null,null,this);_a._track_capture=false;_a.createComponent(true);this.popupwindow=_a;_a=null;};_pCalendar._createSystemCalendar=function(){var _a=new nexacro.CalendarEditCtrl("calendaredit","absolute",0,0,0,0,null,null,this);_a.set_readonly(this.readonly);_a.set_type("date");_a.set_displaynulltext(this.displaynulltext);_a.createComponent(true);_a._input_element.setElementInputType("date");this.calendaredit=_a;this.calendaredit.setCaretPos(0);_a=null;};_pCalendar._applyAllProps=function(){var _a=this.getElement();if(_a){this.on_apply_editformat();this.on_apply_value();this.on_apply_dateformat();this.on_apply_innerdataset();this.on_apply_locale();this.on_apply_readonly();}};_pCalendar._applyDatepickerProps=function(){var _a=this.getElement();if(_a){var _b=this.popupcalendar;if(_b){_b._setEnable(true);_b.set_readonly(this.readonly);var _c=this._getPickerValue(this.value);_b.set_value(_c);this.on_apply_style_viewmonthspin(this.on_find_CurrentStyle_viewmonthspin(this._pseudo));this.on_apply_style_viewyearspin(this.on_find_CurrentStyle_viewyearspin(this._pseudo));this.on_apply_innerdataset();}}};_pCalendar._createNormaltypeControl=function(){var _a=this.getElement();if(_a){this._createCalendaredit();this._createDropbutton();this._createPopupcalendar();this._createPopupwindow();this._setEventHandlerToCalendarEdit();this._setEventHandlerToDropButton();this._setEventHandlerToPopupCalendar();this._applyAllProps();if(this._is_created){var _b=this.popupwindow;var _c=this.popupcalendar;var _d=this.calendaredit;var _e=this.dropbutton;if(_d){_d.on_created();_d.style.set_align(this.currentstyle.align);}if(_e){_e.on_created();}}}};_pCalendar._createSpintypeControl=function(){var _a=this.getElement();if(_a){this._createCalendaredit();this._createSpinbutton();this._setEventHandlerToCalendarEdit();this._setEventHandlerToSpinButton();this._applyAllProps();if(this._is_created){var _b=this.calendaredit;var _c=this.spinupbutton;var _d=this.spindownbutton;if(_b){_b.on_created();_b.style.set_align(this.currentstyle.align);}if(_c){_c.on_created();}if(_d){_d.on_created();}}}};_pCalendar._createMonthlytypeControl=function(){var _a=this.getElement();if(_a){this._createPopupcalendar();this._setEventHandlerToPopupCalendar();this._applyDatepickerProps();if(this._is_created){var _b=this.popupcalendar;if(_b){_b.on_created();}}}};_pCalendar._createSystemtypeControl=function(){var _a=this.getElement();if(_a){this._createSystemCalendar();this._setEventHandlerToCalendarEdit();this._applyAllProps();if(this._is_created){var _b=this.calendaredit;if(_b){_b.on_created();_b.style.set_align(this.currentstyle.align);}}}};_pCalendar._setEventHandlerToCalendarEdit=function(){var _a=this.calendaredit;_a._setEventHandler("oneditclick",this.on_notify_oneditclick,this);_a._setEventHandler("onkeydown",this.on_notify_onkeydown,this);_a._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_a._setEventHandler("onlbuttonup",this.on_notify_onlbuttonup,this);_a._setEventHandler("ontouchstart",this.on_notify_mobile_onlbuttondown,this);_a._setEventHandler("ontextchange",this.on_notify_ontextchange,this);_a._setEventHandler("ontextchanged",this.on_notify_ontextchanged,this);_a._setEventHandler("cancharchange",this.on_notify_cancharchange,this);_a._setEventHandler("onchar",this.on_notify_onchar,this);};_pCalendar._setEventHandlerToDropButton=function(){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){this.dropbutton._setEventHandler("onlbuttondown",this.on_notify_ondropdown,this);}this.dropbutton._setEventHandler("ontap",this.on_notify_mobile_ondropdown,this);};_pCalendar._setEventHandlerToSpinButton=function(){var _a=this.spinupbutton;var _b=this.spindownbutton;if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_a._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_a._setEventHandler("onclick",this.on_notify_onspinup,this);_b._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_b._setEventHandler("onclick",this.on_notify_onspindown,this);}else{_a._setEventHandler("onlbuttondown",this.on_notify_mobile_onlbuttondown,this);_a._setEventHandler("onclick",this.on_notify_mobile_onspinup,this);_b._setEventHandler("onlbuttondown",this.on_notify_mobile_onlbuttondown,this);_b._setEventHandler("onclick",this.on_notify_mobile_onspindown,this);}};_pCalendar._setEventHandlerToPopupCalendar=function(){var _a=this.popupcalendar;_a._setEventHandler("ondayclick",this.on_notify_ondayclick,this);_a._setEventHandler("oncloseup",this.on_notify_oncloseup,this);};_pCalendar._setEventHandlerToPopupWindow=function(){};_pCalendar._destroyControl=function(){if(this.calendaredit){this.calendaredit.destroy();this.calendaredit=null;}if(this.dropbutton){this.dropbutton.destroy();this.dropbutton=null;}if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}if(this.popupcalendar){this.popupcalendar.destroy();this.popupcalendar=null;}if(this.popupwindow){this.popupwindow.destroy();this.popupwindow=null;}};_pCalendar._destroyInnerdataset=function(){if(this._innerdataset){this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_rowsetchanged,this);this._innerdataset=null;}};_pCalendar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;if(this.calendaredit){this.calendaredit._setRtlDirection(_a);}if(this.dropbutton){this.dropbutton._setRtlDirection(_a);}if(this.spinupbutton){this.spinupbutton._setRtlDirection(_a);}if(this.spindownbutton){this.spindownbutton._setRtlDirection(_a);}if(this.popupcalendar){this.popupcalendar._setRtlDirection(_a);}if(this.popupwindow){this.popupwindow._setRtlDirection(_a);}};_pCalendar._resizeCalendar=function(){var _a=this.getElement();if(_a){var _b=this.calendaredit;var _c=this.dropbutton;var _d=this.spinupbutton;var _e=this.spindownbutton;var _f=this._client_width;var _g=this._client_height;var _h=0;var _i=this.on_find_CurrentStyle_padding(this._pseudo);var _j=this.on_find_CurrentStyle_buttonsize(this._pseudo);var _k=_g;if(_j<0){var _l=_g;}else{var _l=_j;}switch(this.type){case "normal":var _m=_c.on_find_CurrentStyle_margin(this._pseudo);var _n=_b.on_find_CurrentStyle_margin(this._pseudo);_l=_l-_m.left-_m.right;var _o=_f-_m.right-_l;var _p=_m.top;var _q=_l;var _r=_k-_m.top-_m.bottom;var _s=_n.left;var _t=_n.top;var _u=_o-_m.left-_n.right-1;var _v=_g-_n.top-_n.bottom;this.dropbutton.move(_o,_p,_q,_r,null,null);this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);this.dropbutton.set_visible(true);break;case "spin":var _n=_b.on_find_CurrentStyle_margin(this._pseudo);var _w=_d.on_find_CurrentStyle_margin(this._pseudo);var _x=_e.on_find_CurrentStyle_margin(this._pseudo);var _y=_l-_w.left-_w.right;var _z=_l-_x.left-_x.right;if(_y>=_z){_l=_y;}else{_l=_z;}var _aa=_f-_w.right-_y;var _ab=_w.top;var _ac=_y;var _ad=(_k/2)-1;var _ae=_f-_x.right-_z;var _af=_ab+_ad+_x.top+1;var _ag=_z;var _ah=_ad-_x.bottom;var _s=_n.left;var _t=_n.top;var _u=_f-_l-1;var _v=_g-_n.top-_n.bottom;this.spinupbutton.move(_aa,_ab,_ac,_ad,null,null);this.spindownbutton.move(_ae,_af,_ag,_ah,null,null);this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);this.spinupbutton.set_visible(true);this.spindownbutton.set_visible(true);break;case "monthonly":this._applyDatepickerProps();this._resizeDatePicker(false);this.popupcalendar.set_visible(true);break;case "system":var _n=_b.on_find_CurrentStyle_margin(this._pseudo);var _s=_n.left;var _t=_n.top;var _u=_f-_n.left-_n.right;var _v=_g-_n.top-_n.bottom;this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);break;}}};_pCalendar._resizeDatePicker=function(_a){var _b=this.popupcalendar;var _c=this._pseudo;var _d=this.on_find_CurrentStyle_padding(_c);var _e=this._client_width;var _f=this._client_height;if(_a){var _g=this._getPopupSizeArr();_b.resize(_g.width,_g.height);}else{var _h=_d.left;var _i=_d.top;var _j=_e-_d.right;var _k=_f+_d.bottom;_b.move(_h,_i,_j,_k,null,null);}};_pCalendar._update_popupwindow_position=function(){var _a=this.popupwindow;if(_a){var _b=this._getWindow();var _c=this._getPopupSizeArr();var _d=_a._control_element;var _e=nexacro._getElementPositionInFrame(this._control_element);var _f=this._getCumulativeZoomFactor()/100.0;var _g=_e.x;var _h=_e.y;var _i=this._adjust_height*_f;var _j=_g;var _k=_h+_i;var _l=_c.width;var _m=_c.height*_f;var _n=_g+_l;var _o=_h+_i+_m;var _p=_b.clientWidth;var _q=_b.clientHeight;var _r=_n-_p;if(this._getPopupType()=="center"){var _s=this._getOwnerFrame();if(!_s){return;}var _t=_s._getWindow();_s=_t?_t.frame:null;if(!_s){return;}_j=((_s.width/2)-(_d.width/2));_k=((_s.height/2)-(_d.height/2));_k=_k<0?0:_k;}if(_n>_p&&_g>_r){_j=_j-_r;}if(_g<0){_j= -_g;}if(_h>_m&&_h+_i+_m>_q){_k=_k-_m-_i;}_d.setElementPosition(_j,_k);}};_pCalendar._showPopup=function(){if(this.type!="normal"){return;}var _a=this.popupcalendar;var _b=this.popupwindow;if(_b==null){this._createPopupwindow();_b=this.popupwindow;}if(_a==null){this._createPopupcalendar();this._setEventHandlerToPopupCalendar();this._applyDatepickerProps();_a=this.popupcalendar;}if(!_b._is_created){_b.on_created();}if(!_a._is_created){_b._attach(_a);_a.on_created();}this.on_apply_prop_rtldirection();var _c=this._getPopupSizeArr();var _d=nexacro._getElementPositionInFrame(this._control_element);var _e=this._getCumulativeZoomFactor()/100.0;var _f=_d.x;var _g=_d.y;var _h=this._adjust_height*_e;var _i=0;var _j=_h;var _k=_c.width;var _l=_c.height;var _m=_f+_k;var _n=_g+_h+_l;var _o=this._getWindow();var _p=_o.clientWidth;var _q=_o.clientHeight;var _r=_m-_p;if(_m>_p&&_f>_r){_i=_i-_r;}if(_f<0){_i= -_f;}if(_g>_l&&_n>_q){_j= -(_l*_e);}var _s=_b.getElement();if(_s.setZoom){_s.setZoom(_e*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_s,_e*100);}if(this._getPopupType()=="center"){this._centerPopup(_b,_k,_l);}else{_i=this._convertLeftForRtlLayout(_i,_k);_b._popupBy(this,_i,_j,_k,_l);}var _o=this._getWindow();if(_o&&this._track_capture){_o._setCaptureLock(this,true,false);}};_pCalendar._setMask=function(_a,_b,_c){if((_c==null||_c==undefined||_c=="")&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4){return;}var _d=this._makeMask(_a,_c);if(_a=="dateformat"&&_c==""&&this.displaynulltext!=""){this._mask=this.displaynulltext;}else{if((_a=="dateformat"&&this.dateformat=="LONGDATE")||(_a=="editformat"&&this.editformat=="LONGDATE")){_d=_d.replace(/\'/g,"\\'");_d=_d.replace(/a/g,"\\a");}this._mask=_d;}this._on_apply_mask(this._mask,_b);};_pCalendar._on_apply_mask=function(_a,_b){var _c=this.getElement();if(_c){var _d=this.calendaredit;if(_d){_d.set_mask(_a,_b);}}};_pCalendar._isDateMaskChar=function(_a){if(_a=="y"||_a=="M"||_a=="d"||_a=="H"||_a=="h"||_a=="m"||_a=="s"){return true;}return false;};_pCalendar._isDateMaskString=function(_a){if(_a==="yyyy"||_a==="yy"||_a==="MMMM"||_a==="MMM"||_a==="MM"||_a==="M"||_a==="dddd"||_a==="ddd"||_a==="dd"||_a==="d"){return true;}return false;};_pCalendar._isTimeMaskString=function(_a){if(_a==="HH"||_a==="H"||_a==="hh"||_a==="h"||_a==="mm"||_a==="m"||_a==="s"||_a==="ss"||_a==="sss"){return true;}return false;};_pCalendar._isEmptyStr=function(_a){var _b=_a.toString();if(_b===""||_b.trim()===""){return true;}return false;};_pCalendar._isNullDate=function(_a){if(_a===null||_a==="null"){return true;}var _b=_a.toString();if(_b=="NaN"){return true;}return false;};_pCalendar._isUndefinedDate=function(_a){if(_a===undefined||_a==="undefined"){return true;}return false;};_pCalendar._isPopupVisible=function(){var _a=false;if(this.type!="monthonly"){if(this.popupwindow){_a=this.popupwindow.visible;}}return _a;};_pCalendar._validationDateStr=function(_a,_b){if(_a!==null||_a!==undefined){_a=parseInt(_a,10);if(_b=="year"){return (_a/10<1?"000":_a/100<1?"00":_a/1000<1?"0":"")+_a;}else if(_b=="millisec"){return (_a/10<1?"00":_a/100<1?"0":"")+_a;}else{return (_a/10<1?"0":"")+_a;}}else{return _a;}};_pCalendar._isValidDate=function(_a){if(_a===""){return true;}var _b=this.calendaredit;var _c=_b._edit_base_api;var _d=this._editformat_info;var _e=_d.format.length;var _f=_c._getText();var _g="";var _h="";var _i="";var _j="";var _k="";var _l="";var _m=false;var _n=false;var _o=false;var _p=false;var _q=false;var _r=false;for(var _t=0;_t<_e;_t++ ){var _u=_d.format_info[_t].ch;if(_u=="y"){_g+=_f.charAt(_t);}else if(_u=="M"){_h+=_f.charAt(_t);}else if(_u=="d"){_i+=_f.charAt(_t);}else if(_u=="h"||_u=="H"){_j+=_f.charAt(_t);}else if(_u=="m"){_k+=_f.charAt(_t);}else if(_u=="s"){_l+=_f.charAt(_t);}}_g=parseInt(_g,10);_h=parseInt(_h,10);_i=parseInt(_i,10);_j=parseInt(_j,10);_k=parseInt(_k,10);_l=parseInt(_l,10);if(_g>=0){_m=true;}if(_h>=0){_n=true;}if(_i>=0){_o=true;}if(_j>=0){_p=true;}if(_k>=0){_q=true;}if(_l>=0){_r=true;}var _s=31;if(_g&&_h){_s=this._getEndDay(_g,_h);}else if(!_g&&_h){var _v=new Date();_s=this._getEndDay(_v.getFullYear(),_h);_v=null;}if((_n&&_h>12)||(_o&&_i>_s)||(_p&&_j>=24)||(_q&&_k>=60)||(_r&&_l>=60)){return false;}return true;};_pCalendar._makeMask=function(_a,_b){if(_a=="dateformat"){var _m=this.dateformat;var _n=this._dateformat_info;}else{var _m=this.editformat;var _n=this._editformat_info;}var _c=0;var _d="";var _e=0;var _f="";var _g=0;var _h=0;var _i="";var _j=0;var _k=false;var _l=false;if(_b){_e=_b.getDay();_h=_b.getMonth();}while(_c<_n.format.length){var _o="";var _p=0;if(_n._year&&_n._year.index==_c){if(_a=="dateformat"){if(_k){if(_n._mon&&(_n._year.index>_n._mon.index)){_d+="~";}}else if(_l){if(_n._date&&(_n._year.index>_n._date.index)){_d+="~";}}}_d+=this._makeMaskString(_n._year,"year",_b);_c+=_n._year.length;}else if(_n._mon&&_n._mon.index==_c){_p=_n._mon.mask.length;if(_p==4){if(_b&&_a=="dateformat"){_i=this._monthlistL[_h];if(!this._isRtl()&&this._locale_direction=="rtl"){_k=true;}}else{_i="MMMM";}if(_i&&_i.length){_j=_i.length;}for(var _q=0;_q<_j;_q++ ){_o+="^";}}else{_o+=this._makeMaskString(_n._mon,"month",_b);}_d+=_o;_c+=_n._mon.length;}else if(_n._day&&_n._day.index==_c){_d+=this._makeMaskString(_n._day,"day",_b);_c+=_n._day.length;}else if(_n._date&&_n._date.index==_c){_p=_n._date.mask.length;if(_p==3){if(_b){_f=this._datelistS[_e];}else{_f="ddd";}if(_f&&_f.length){_g=_f.length;}for(var _q=0;_q<_g;_q++ ){_o+="~";}}else if(_p==4){if(_b&&_a=="dateformat"){_f=this._datelistL[_e];if(!this._isRtl()&&this._locale_direction=="rtl"){_l=true;}}else{_f="dddd";}_g=_f.length;for(var _q=0;_q<_g;_q++ ){if(_f.charAt(_q)=="-"){_o+=_f.charAt(_q);}else{_o+="^";}}}_d+=_o;_c+=_n._date.length;}else if(_n._hour&&_n._hour.index==_c){_d+=this._makeMaskString(_n._hour,"hour",_b);_c+=_n._hour.length;}else if(_n._min&&_n._min.index==_c){_d+=this._makeMaskString(_n._min,"min",_b);_c+=_n._min.length;}else if(_n._sec&&_n._sec.index==_c){_d+=this._makeMaskString(_n._sec,"sec",_b);_c+=_n._sec.length;}else if(_n._millisec&&_n._millisec.index==_c){_d+=this._makeMaskString(_n._millisec,"millisec",_b);_c+=_n._millisec.length;}else{var _r=_n.format_info[_c].ch;_d+=_r;_c++ ;}}return _d;};_pCalendar._makeMaskString=function(_a,_b,_c){var _d=_c;var _e=null;var _f=_a.length;var _g=0;var _h="";if(_b=="year"){_g=_f;}else if(_b=="month"||_b=="day"||_b=="min"||_b=="sec"){if(_d){if(_b=="month"){_e=_d.getMonth();_e+=1;}else if(_b=="day"){_e=_d.getDate();}else if(_b=="min"){_e=_d.getMinutes();}else if(_b=="Sec"){_e=_d.getSeconds();}if((_f==1)&&(_e<10)){_g=1;}else{_g=2;}}else{_g=_f;}}else if(_b=="hour"){if(_d){_e=_d.getHours();if(_a.Mask==="h"){if(_e>12&&_e<24){_e-=12;if(_e<10){_g=1;}else{_g=2;}}}else if(_a.Mask==="H"){if(_e<10){_g=1;}}else{_g=2;}}else{_g=_f;}}else if(_b=="millisec"){_g=3;}for(var _i=0;_i<_g;_i++ ){_h+="!";}return _h;};_pCalendar._makeMaskValue_normal=function(_a,_b,_c){var _d="",_e="",_f="",_g="",_h="",_i="",_j="";var _k="";var _l=null;var _m=false;var _n=false;if(!nexacro._isNull(_b)&&nexacro._isNull(_b._year)&&nexacro._isNull(_b._mon)){_f=_a.substr(0,2);_g=_a.length>=3?_a.substr(2,2):"00";_h=_a.length>=5?_a.substr(4,2):"00";_i=_a.length>=7?_a.substr(6,2):"00";_j=_a.length>=10?_a.substr(9,3):"000";}else if(!nexacro._isNull(_b)&&nexacro._isNull(_b._year)){_e=_a.substr(0,2);_f=_a.substr(2,2);_g=_a.length>=5?_a.substr(4,2):"00";_h=_a.length>=7?_a.substr(6,2):"00";_i=_a.length>=9?_a.substr(8,2):"00";_j=_a.length>=11?_a.substr(10,3):"000";}else{_d=_a.substr(0,4);_e=_a.substr(4,2);_f=_a.substr(6,2);_g=_a.length>=9?_a.substr(8,2):"00";_h=_a.length>=11?_a.substr(10,2):"00";_i=_a.length>=13?_a.substr(12,2):"00";_j=_a.length>=15?_a.substr(14,3):"000";}if(_b){_l=_b;}else{if(this._currentformat=="dateformat"){_l=this._dateformat_info;}else{_l=this._editformat_info;}}for(var _o=0;_o<_l.format.length;_o++ ){if(_l._year&&_l._year.index==_o){if(_l._year.mask==="yy"){_d=_d.substr(2,2);}if(this._currentformat=="dateformat"){if(_m){if(_l._mon&&(_l._year.index>_l._mon.index)){_d="\u200e"+_d;}}else if(_n){if(_l._date&&(_l._year.index>_l._date.index)){_d="\u200e"+_d;}}}_k+=_d;}if(_l._mon&&_l._mon.index==_o){if(_l._mon.mask==="M"){if(_e.charAt(0)==="0"){_e=_e.substr(1,1);_l._mon.single_digit=true;}else{_l._mon.single_digit=false;}}else if(_l._mon.mask==="MMMM"){if(this._currentformat=="editformat"){if(!_c){_e="MMMM";}else{var _p=this._getDateObj(_a);var _q=_p.getMonth()+1;_e=nexacro._toString(_q).padLeft(4,"0");}}else{var _p=this._getDateObj(_a);var _q=_p.getMonth();_e=this._monthlistL[_q];if(!this._isRtl()&&this._locale_direction=="rtl"){_m=true;}}}_k+=_e;}if(_l._day&&_l._day.index==_o){if(_l._day.mask==="d"){if(_f.charAt(0)==="0"){_f=_f.substr(1,1);_l._day.single_digit=true;}else{_l._day.single_digit=false;}}_k+=_f;}if(_l._date&&_l._date.index==_o){var _p=this._getDateObj(_a);var _r=_p.getDay();var _s=this._datelistS[_r];if(_l._date.mask==="dddd"){if(this._currentformat=="editformat"){_s="dddd";}else{_s=this._datelistL[_r];if(!this._isRtl()&&this._locale_direction=="rtl"){_n=true;}}}_k+=_s?_s:"";}if(_l._hour&&_l._hour.index==_o){if(_l._hour.mask==="h"||_l._hour.mask==="hh"){var _t=parseInt(_g);if(_t>12&&_t<24){_t-=12;_g=nexacro._toString(_t);}}if(!((_l._hour.mask==="h"||_l._hour.mask==="H")&&_g.length>0)){_g=_g.padLeft(2,"0");}_k+=_g;}if(_l._min&&_l._min.index==_o){if(_l._min.mask==="m"&&_h.charAt(0)==="0"){_h=_h.substr(1,1);}else{_h=_h.padLeft(_l._min.length,"0");}_k+=_h;}if(_l._sec&&_l._sec.index==_o){if(_l._sec.mask==="s"&&_i.charAt(0)==="0"){_i=_i.substr(1,1);}else{_i=_i.padLeft(_l._sec.length,"0");}_k+=_i;}if(_l._millisec&&_l._millisec.index==_o){_k+=_j;}}return _k;};_pCalendar._makeMaskValue_timeOnly=function(_a,_b){var _c=month=day=hour=min=sec=millisec="";var _d=0;var _e="";var _f=null;if(_b){_f=_b;}else{if(this._currentformat=="dateformat"){_f=this._dateformat_info;}else{_f=this._editformat_info;}}for(var _g=0;_g<_f.format.length;_g++ ){if(_f._year&&_f._year.index==_g){_c=_a.substr(_d,_f._year.length);_e+=_c;_d+=_f._year.length;}if(_f._mon&&_f._mon.index==_g){month=_a.substr(_d,_f._mon.length);_e+=month;_d+=_f._mon.length;}if(_f._day&&_f._day.index==_g){day=_a.substr(_d,_f._day.length);_e+=day;_d+=_f._day.length;}if(_f._date&&_f._date.index==_g){var _h=this._getDateObj(_a);var _i=_h.getDay();var _j=this._datelistS[_i];if(_f._date.mask==="dddd"){_j=this._datelistL[_i];}_e+=_j?_j:"";_d+=_f._date.length;}if(_f._hour&&_f._hour.index==_g){hour=_a.substr(_d,_f._hour.length).padLeft(_f._hour.length,"0");if(_f._hour.mask==="h"||_f._hour.mask==="hh"){var _k=parseInt(hour);if(_k>12&&_k<24){_k-=12;hour=nexacro._toString(_k);}}if(!((_f._hour.mask==="h"||_f._hour.mask==="H")&&hour.length>0)){hour=hour.padLeft(2,"0");}_e+=hour;_d+=_f._hour.length;}if(_f._min&&_f._min.index==_g){min=_a.substr(_d,_f._min.length);if(_f._min.mask==="m"&&min.charAt(0)==="0"){min=min.substr(1,1);}else{min=min.padLeft(_f._min.length,"0");}_e+=min;_d+=_f._min.length;}if(_f._sec&&_f._sec.index==_g){sec=_a.substr(_d,_f._sec.length).padLeft(_f._sec.length,"0");if(_f._sec.mask==="s"&&sec.charAt(0)==="0"){sec=sec.substr(1,1);}else{sec=sec.padLeft(_f._sec.length,"0");}_e+=sec;_d+=_f._sec.length;}if(_f._millisec&&_f._millisec.index==_g){millisec=_a.substr(_d,_f._millisec.length).padLeft(_f._millisec.length,"0");_e+=millisec;_d+=_f._millisec.length;}}return _e;};_pCalendar._makeMaskValue=function(_a,_b){if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return "";}if(this._currentformat=="dateformat"){var _c=this._dateformat_info;}else{var _c=this._editformat_info;}if(_c._year||_c._mon||_c._day){return this._makeMaskValue_normal(_a,_c,_b);}else{return this._makeMaskValue_timeOnly(_a,_c);}};_pCalendar._makeSpinValue=function(_a,_b,_c){_a=this._makeNormalValue(_a);var _d=this.editformat;var _e=this._getSplitDate(_a);if(_d=="SHORTDATE"||_d=="LONGDATE"){var _h=this._getLocale();if(!_h){_h=nexacro.BrowserLang;}_d=nexacro.Locale._makeDateMaskString(_h,_d);var _i=_d.indexOf("M");var _j=_d.indexOf("d");if(_d.slice(_i,_i+2)!="MM"){_d=_d.replace("M","MM");}if(_d.slice(_j,_j+2)!="dd"){_d=_d.replace("d","dd");}if(_e.mon=="MM"){_e.mon=nexacro._toString(this.value.getMonth()+1).padLeft(2,"0");}}if(_c>=0){var _k=_d.substring(_c,_c+1);var _l=this._mask.substring(_c,_c+1);var _m=this._mask.substring(_c-1,_c);if(!this._isDateMaskChar(_k)&&(_l=="!"||_m=="!")){while(!this._isDateMaskChar(_k)){_c-- ;_k=_d.substring(_c,_c+1);}val=_k;}else{val=_k;}if(val=="d"){var _n=_d.indexOf("dddd");var _o=_d.indexOf("ddd");if(_n>=0&&_c>=_n&&_c<=(_n+3)){val="";}if(_o>=0&&_c>=_o&&_c<=(_o+2)){val="";}}if(val=="y"){var _p=parseInt(_e.year,10)+_b;if(_p<0){_p=9999;}else if(_p>9999){_p=0;}_e.year=this._validationDateStr(_p,"year");var _q=""+this._getEndDay(_e.year,_e.mon);if(parseInt(_e.day,10)>_q){_e.day=""+_q;}}else if(val=="M"){var _r=parseInt(_e.mon,10)+_b;if(_r<1){_r=12;}else if(_r>12){_r=1;}_e.mon=this._validationDateStr(_r);var _q=""+this._getEndDay(_e.year,_e.mon);if(parseInt(_e.day,10)>_q){_e.day=""+_q;}}else if(val=="d"){var _q=parseInt(_e.day,10)+_b;var _s=parseInt(this._getEndDay(_e.year,_e.mon),10);if(_q<1){_e.day=""+_s;}else{if(_q>_s){_q=1;}_e.day=this._validationDateStr(_q);}}else if(_s=="H"||_s=="h"){var _t=parseInt(_e.hour,10)+_b;if(_t<0){_t=23;}else if(_t>23){_t=0;}_e.hour=this._validationDateStr(_t);}else if(_s=="m"){var _r=parseInt(_e.min,10)+_b;if(_r<0){_r=59;}else if(_r>59){_r=0;}_e.min=this._validationDateStr(_r);}else if(_s=="s"){var _u=parseInt(_e.sec,10)+_b;if(_u<0){_u=59;}else if(_u>59){_u=0;}_e.sec=this._validationDateStr(_u);}}var _f=this._editformat_info;var _g="";if(_f._year){_e.year?_g+=this._validationDateStr(_e.year,"year"):"";}if(_f._mon){_e.mon?_g+=this._validationDateStr(_e.mon):"";}if(_f._day){_e.day?_g+=this._validationDateStr(_e.day):"";}if(_f._hour){_e.hour?_g+=this._validationDateStr(_e.hour):"";}if(_f._min){_e.min?_g+=this._validationDateStr(_e.min):"";}if(_f._sec){_e.sec?_g+=this._validationDateStr(_e.sec):"";}if(_f._millisec){_e.millisec?_g+=this._validationDateStr(_e.millisec,"millisec"):"";}return _g;};_pCalendar._makeNormalValue=function(_a){var _b=this._editformat_info;var _c=0;var _d,_e,_f;if(_b._year){_c=0;if(_b._mon&&_b._year.index>_b._mon.index){if(_b._mon.length==1&&!_b._mon.single_digit){_c++ ;}}if(_b._day&&_b._year.index>_b._day.index){if(_b._day.length==1&&!_b._day.single_digit){_c++ ;}}_d=_a.substr(_b._year.index+_c,_b._year.length);}else{_d="0000";}if(_b._mon){_c=0;if(_b._day&&_b._mon.index>_b._day.index){if(_b._day.length==1&&!_b._day.single_digit){_c++ ;}}if(_b._mon.length==1&&!_b._mon.single_digit){_e=_a.substr(_b._mon.index+_c,2);}else{_e=_a.substr(_b._mon.index+_c,_b._mon.length);}if(_b._mon.length==4){_e=_e.substr(2,2);if(_e=="MM"){var _l=this.value;_l=_l?(_l.getMonth()+1):"";_e=nexacro._toString(_l).padLeft(2,"0");}}else{_e=_e.padLeft(2,"0");}}else{_e="01";}if(_b._day){_c=0;if(_b._mon&&_b._day.index>_b._mon.index){if(_b._mon.length==1&&!_b._mon.single_digit){_c++ ;}}if(_b._day.length==1&&!_b._day.single_digit){_f=_a.substr(_b._day.index+_c,2);}else{_f=_a.substr(_b._day.index+_c,_b._day.length);}_f=_f.padLeft(2,"0");}else{_f="01";}var _g=_b._hour?_a.substr(_b._hour.index,_b._hour.length).padLeft(2,"0"):"00";var _h=_b._min?_a.substr(_b._min.index,_b._min.length).padLeft(2,"0"):"00";var _i=_b._sec?_a.substr(_b._sec.index,_b._sec.length).padLeft(2,"0"):"00";var _j=_b._millisec?_a.substr(_b._millisec.index,_b._millisec.length).padLeft(3,"0"):"00";var _k=_d+_e+_f+_g+_h+_i+_j;return _k;};_pCalendar._makeNormalValue1=function(_a){var _b=this._editformat_info;var _c=0;var _d,_e,_f;if(_b._year){_c=0;if(_b._mon&&_b._year.index>_b._mon.index){if(_b._mon.length==1&&!_b._mon.single_digit){_c++ ;}}if(_b._day&&_b._year.index>_b._day.index){if(_b._day.length==1&&!_b._day.single_digit){_c++ ;}}_d=_a.substr(_b._year.index+_c,_b._year.length);}else{_d="";}if(_b._mon){_c=0;if(_b._day&&_b._mon.index>_b._day.index){if(_b._day.length==1&&!_b._day.single_digit){_c++ ;}}if(_b._mon.length==1&&!_b._mon.single_digit){_e=_a.substr(_b._mon.index+_c,2);}else{_e=_a.substr(_b._mon.index+_c,_b._mon.length);}if(_b._mon.length==4){_e=_e.substr(2,2);if(_e=="MM"){var _l=this.value;_l=_l?(_l.getMonth()+1):"";_e=nexacro._toString(_l).padLeft(2,"0");}}else{_e=_e.padLeft(2,"0");}}else{_e="";}if(_b._day){_c=0;if(_b._mon&&_b._day.index>_b._mon.index){if(_b._mon.length==1&&!_b._mon.single_digit){_c++ ;}}if(_b._day.length==1&&!_b._day.single_digit){_f=_a.substr(_b._day.index+_c,2);}else{_f=_a.substr(_b._day.index+_c,_b._day.length);}_f=_f.padLeft(2,"0");}else{_f="";}var _g=_b._hour?_a.substr(_b._hour.index,_b._hour.length).padLeft(2,"0"):"";var _h=_b._min?_a.substr(_b._min.index,_b._min.length).padLeft(2,"0"):"";var _i=_b._sec?_a.substr(_b._sec.index,_b._sec.length).padLeft(2,"0"):"";var _j=_b._millisec?_a.substr(_b._millisec.index,_b._millisec.length).padLeft(3,"0"):"";var _k=_d+_e+_f+_g+_h+_i+_j;return (_k===""&&this.displaynulltext!=="")?"":_k;};_pCalendar._makeCalendarText=function(_a){if(!_a){return "";}var _b=_a.toString();var _c=this._currentformat;this._currentformat="dateformat";var _d=this._makeMaskValue(_b);var _e=this._makeMask("dateformat",this._makeDateObj(_a));var _f=0;var _g="";this._currentformat=_c;for(var _h=0;_h<_e.length;_h++ ){var _i=_e.charAt(_h);if(_i==="!"){_g+=_d.charAt(_f);_f++ ;}else{if(_i==="~"||_i==="^"){_g+=_d.charAt(_f);_f++ ;}else{_g+=_i;}}}return _g;};_pCalendar._makeDateObj=function(_a){if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return null;}if(this._isEmptyStr(_a)){return "";}if(_a instanceof nexacro.Date){return _a;}if(this._currentformat=="dateformat"){var _h=this._dateformat_info;}else{var _h=this._editformat_info;}var _b=new Object();var _c=mon=day=hour=min=sec=millisec="";var _d=0;var _e="";var _f=null;var _a=this._makeMaskValue(_a,true);var _g=0;for(var _i=0;_i<_h.format.length;_i++ ){if(_h._year&&_h._year.index==_i){_c=_a.substr(_d,_h._year.length);_d+=_h._year.length;}if(_h._mon&&_h._mon.index==_i){_g=_h._mon.length;if(_h._mon.length==1&&!_h._mon.single_digit){mon=_a.substr(_d,2);_g=2;}else{mon=_a.substr(_d,_h._mon.length);}_d+=_g;}if(_h._day&&_h._day.index==_i){_g=_h._day.length;if(_h._day.length==1&&!_h._day.single_digit){day=_a.substr(_d,2);_g=2;}else{day=_a.substr(_d,_h._day.length);}_d+=_g;}if(_h._date&&_h._date.index==_i){var _j=this._getDateObj(_a);var _k=_j.getDay();_f=this._datelistS[_k];if(_h._date.mask==="dddd"){_f=this._datelistL[_k];}_d+=_h._date.length;}if(_h._hour&&_h._hour.index==_i){hour=_a.substr(_d,_h._hour.length).padLeft(_h._hour.length,"0");if(_h._hour.mask==="hh"){var _l=parseInt(hour);if(_l>12&&_l<24){_l-=12;hour=nexacro._toString(_l);hour=hour.padLeft(2,"0");}}_d+=_h._hour.length;}if(_h._min&&_h._min.index==_i){min=_a.substr(_d,_h._min.length).padLeft(_h._min.length,"0");_d+=_h._min.length;}if(_h._sec&&_h._sec.index==_i){sec=_a.substr(_d,_h._sec.length).padLeft(_h._sec.length,"0");_d+=_h._sec.length;}if(_h._millisec&&_h._millisec.index==_i){millisec=_a.substr(_d,_h._millisec.length).padLeft(_h._millisec.length,"0");_d+=_h._millisec.length;}}_b.year=parseInt(_c,10);_b.mon=parseInt(mon,10);_b.day=parseInt(day,10);_b.hour=parseInt(hour,10);_b.min=parseInt(min,10);_b.sec=parseInt(sec,10);_b.millisec=parseInt(millisec,10);if((_b.year!=undefined||_b.year>0)&&(_b.mon>0&&_b.mon<=12)){_b.mon-=1;}else{_b.mon=0;}if(!(_b.day>=1&&_b.day<=31)){_b.day=1;}if(!(_h._hour||_h._min||_h._sec||_h._millisec)){if(_b.day){_f=new nexacro.Date(_b.year,_b.mon,_b.day);}else{_f=new nexacro.Date(_b.year,_b.mon);}_f._timecheck=false;}else{_f=new nexacro.Date(_b.year,_b.mon,_b.day,_b.hour,_b.min,_b.sec,_b.millisec);_f._timecheck=true;}_b=null;try{return _f;}finally{_f=null;}};_pCalendar._isTimeMask=function(){var _a;if(this._currentformat=="dateformat"){_a=this._dateformat_info;}else{_a=this._editformat_info;}if(_a._year||_a._mon||_a._day){return false;}if(_a._hour||_a._min||_a._sec||_a._millisec){return true;}return false;};_pCalendar._toValueStr=function(_a){var _b="";if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return null;}else if(this._isEmptyStr(_a)){return "";}else if(typeof _a!="object"){_b=_a;}else{_b=_a.toString();}if(this._currentformat=="dateformat"){var _l=this._dateformat_info;}else{var _l=this._editformat_info;}var _c="";var _d="";var _e="";var _f="";var _g="";var _h="";var _i="";var _j=0;var _k="";if(_l._year){_c=_b.substr(_j,4);_k+=_c;}_j+=4;if(_l._mon){_d=_b.substr(_j,2);_k+=_d;}_j+=2;if(_l._day){_e=_b.substr(_j,2);_k+=_e;}_j+=2;if(_l._hour){_f=_b.substr(_j,2);_k+=_f;}_j+=2;if(_l._min){_g=_b.substr(_j,2);_k+=_g;}_j+=2;if(_l._sec){_h=_b.substr(_j,2);_k+=_h;}_j+=2;if(_l._millisec){_i=_b.substr(_j,3);_k+=_i;}return _k;};_pCalendar._makeFormatInfo=function(_a,_b){var _c=null;if(_a=="SHORTDATE"||_a=="LONGDATE"){var _ag=this._getLocale();if(!_ag){_ag=nexacro.BrowserLang;}_a=nexacro.Locale._makeDateMaskString(_ag,_a);if(_ag.indexOf("lt")==0||_ag.indexOf("lv")==0||_ag.indexOf("sv")==0){_c=[];_c[0]={c:"\\m",r:"m"};_c[1]={c:"\\d",r:"d"};_c[2]={c:"\\a",r:"a"};}if(_b){var _ah=_a.indexOf("M");var _ai=_a.indexOf("d");if(_a.slice(_ah,_ah+2)!="MM"){_a=_a.replace("M","MM");}if(_a.slice(_ai,_ai+2)!="dd"){_a=_a.replace("d","dd");}_ah=_ai=null;}}var _d=_a;var _e=_d.length;var _f=[];var _g=[];if(_c){for(var _aj=0;_aj<_c.length;_aj++ ){_d=_d.replace(_c[_aj].c,_c[_aj].r);}}for(var _aj=0;_aj<_e;_aj++ ){_f={ch:_d.charAt(_aj),idx:_aj};_g[_aj]=_f;}if(_c){for(var _aj=0;_aj<_c.length;_aj++ ){_a=_a.replace(_c[_aj].c,"x");}}var _h=/y{2,4}/g;var _i=/M{4}|M{1,2}/g;var _j=/d{1,2}/g;var _k=/d{3,4}/g;var _l=/H{1,2}|h{1,2}/g;var _m=/m{1,2}/g;var _n=/s{1,2}/g;var _o=/s{3}/g;var _p=_h.exec(_a);var _q=_i.exec(_a);var _r=_k.exec(_a);if(_r){if(_r[0].length==3){var _ak="   ";}else if(_r[0].length==4){var _ak="    ";}_a=_a.replace(/d{3,4}/g,_ak);}var _s=_j.exec(_a);var _t=_l.exec(_a);var _u=_m.exec(_a);var _v=_n.exec(_a);var _w=_o.exec(_a);var _x=null;var _y=null;var _z=null;var _aa=null;var _ab=null;var _ac=null;var _ad=null;var _ae=null;var _af=[];if(_p){_x={mask:_p[0],index:_p.index,length:_p[0].length};_af.push(_x);}if(_q){_y={mask:_q[0],index:_q.index,length:_q[0].length,single_digit:true};_af.push(_y);}if(_s){_z={mask:_s[0],index:_s.index,length:_s[0].length,single_digit:true};_af.push(_z);}if(_r){_aa={mask:_r[0],index:_r.index,length:_r[0].length};}if(_t){_ab={mask:_t[0],index:_t.index,length:_t[0].length};_af.push(_ab);}if(_u){_ac={mask:_u[0],index:_u.index,length:_u[0].length};_af.push(_ac);}if(_v){_ad={mask:_v[0],index:_v.index,length:_v[0].length};_af.push(_ad);}if(_w){_ae={mask:_w[0],index:_w.index,length:_w[0].length};_af.push(_ae);}_af.sort(function(_al,_am){return _al.index-_am.index;});return {format:_d,format_info:_g,format_list:_af,_year:_x,_mon:_y,_day:_z,_date:_aa,_hour:_ab,_min:_ac,_sec:_ad,_millisec:_ae};};_pCalendar._getEndDay=function(_a,_b){var _c=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _d=new Array(31,29,31,30,31,30,31,31,30,31,30,31);var _e="";var _f=parseInt(_a);var _g=parseInt(_b);if(_f==0){_e=_c[_g-1];return _e;}if((_f%4)==0&&(_f%100)!=0||(_f%400)==0){_e=_d[_g-1];}else{_e=_c[_g-1];}_c=_d=null;return _e;};_pCalendar._getDateObj=function(_a){if(!_a){return new nexacro.Date();}_a=_a.replace(/-/g,"");var _b=parseInt(_a.substr(0,4),10);var _c=parseInt(_a.substr(4,2),10)-1;var _d=parseInt(_a.substr(6,2),10);return new nexacro.Date(_b,_c,_d);};_pCalendar._getPopupSizeArr=function(){var _a;if(this.type=="normal"){_a=this.on_find_CurrentStyle_popupsize(this._pseudo);}else{_a=this._init_popupsize;if(!_a){_a=this.on_find_CurrentStyle_popupsize(this._pseudo);}}var _b=_a.value;var _c=_b.split(/\s+/);if(_c.length==2){return {width:parseInt(_c[0],10),height:parseInt(_c[1],10)};}else{return {width:parseInt(_c[0],10),height:parseInt(_c[0],10)};}};_pCalendar._getPickerValue=function(_a){var _b=_a?_a:new Date();var _c=_b.getFullYear()+"";_c=this._validationDateStr(_c,"year");var _d=_b.getMonth()+1;_d=this._validationDateStr(_d);var _e=_b.getDate();_e=this._validationDateStr(_e);return _c+_d+_e;};_pCalendar._getSplitDate=function(_a){var _b=_a.substr(0,4);_b=_b?_b:null;var _c=_a.substr(4,2);_c=_c?_c:null;var _d=_a.substr(6,2);_d=_d?_d:null;var _e=_a.substr(8,2);_e=_e?_e:null;var _f=_a.substr(10,2);_f=_f?_f:null;var _g=_a.substr(12,2);_g=_g?_g:null;var _h=_a.substr(14,3);_h=_h?_h:null;return {year:_b,mon:_c,day:_d,hour:_e,min:_f,sec:_g,millisec:_h};};_pCalendar._changeYearValue=function(){var _a=this._editformat_info;var _b=this.calendaredit;var _c=_b._edit_base_api;var _d=_c._getText();if(_a._year){var _e=0;if((_a._mon&&_a._year.index>_a._mon.index)||(_a._day&&_a._year.index>_a._day.index)){if(_a._mon&&_a._mon.length==1&&!_a._mon.single_digit){_e++ ;}if(_a._day&&_a._day.length==1&&!_a._day.single_digit){_e++ ;}}var _f=_d.substr(_a._year.index+_e,_a._year.length);var _g=_f.trim();var _h=parseInt(_g,10);var _i=_g.length;var _j=_c._getValue();var _k=_j?_j.trim():"";if(_k){if(_g===""){if(this._prevalue){var _l=this._prevalue.getFullYear();_d=_d.replace(_f,_l);}else{_d=_d.replace(_f,"0000");}}else if(_g.length!=4){if(_i===1){_h="000"+_h;}else if(_i===2){_h="00"+_h;}else if(_i===3){_h="0"+_h;}_d=_d.replace(_f,_h);};}}if(_a._mon){if(_a._mon.mask=="MMMM"&&this.value){var _m=this.value.getMonth()+1;_m=nexacro._toString(_m).padLeft(4,"0");_d=_d.replace(_a._mon.mask,_m);}}return _d;};_pCalendar._setDefaultCaret=function(){var _a=this.calendaredit;if(_a&&nexacro._checkActiveElement(_a._input_element)){this.setCaretPos(0);}};_pCalendar._setPreValueAndText=function(_a){var _b="";if(_a){_b=_a.toString();}this._prevalue=_a;this._pretext=this._makeCalendarText(_b);};_pCalendar._setPostValueAndText=function(_a){var _b="";if(_a){_b=_a.toString();}this._postvalue=_a;this._posttext=this._makeCalendarText(_b);};_pCalendar._setValue=function(_a,_b){if(!this._is_created&&!this._is_primitivevalue){this._primitivevalue=_a;this._is_primitivevalue=true;return;}if(this._bindsource){this.value=_a;this._bindsource=false;this.on_apply_value();}else{var _c;var _d=this._currentformat;if(this._isUndefinedDate(_a)){_c=_a;}else if(this._isNullDate(_a)){_c=null;}else if(this._isEmptyStr(_a)){_c="";}else{this._currentformat="editformat";_c=this._makeDateObj(_a);}this._currentformat=_d;this._bindsource=false;var _e=this.applyto_bindSource("value",_c);if(_e==false){_d=this._currentformat;this._currentformat="dateformat";this.on_apply_fake_value(this.value);this._currentformat=_d;return false;}this.value=_c;this._currentformat=_d;this.on_apply_value();return _e;}};_pCalendar._setUserValue=function(_a){if(!this._is_created&&!this._is_primitivevalue){this._primitivevalue=_a;this._is_primitivevalue=true;return;}var _b;var _c=this.editformat;var _d=this._currentformat;if(this._isUndefinedDate(_a)){_b=_a;}else if(this._isNullDate(_a)){_b=null;}else if(this._isEmptyStr(_a)){_b="";}else{this._currentformat="editformat";var _f=this._editformat_info;if(_f._year||_f._mon||_f._day){if(_f._hour||_f._min||_f._sec||_f._millisec){this.set_editformat("yyyy-MM-dd HH:mm:ss sss");}else{this.set_editformat("yyyy-MM-dd");}}else{this.set_editformat("HH:mm:ss sss");}_b=this._makeDateObj(_a);}this._currentformat=_d;this._bindsource=false;var _e=this.applyto_bindSource("value",_b);if(_e===false){_d=this._currentformat;this._currentformat="dateformat";this.on_apply_fake_value(this.value);this._currentformat=_d;return false;}this.value=_b;this._currentformat=_d;this.set_editformat(_c);this.on_apply_value();};_pCalendar._setValue_JSDate=function(_a){var _b=_a.toString();var _c=new nexacro.Date(_b);this._setValue(_c);};_pCalendar._setValue_JSDate=function(_a){var _b=_a.toString();var _c=new nexacro.Date(_b);this._setValue(_c);};_pCalendar._closePopup=function(){if(this.type=="system"){nexacro._closeSystemCalendar();return;}var _a=this.popupcalendar;var _b=this.popupwindow;if(_b){_b._closePopup();}if(nexacro._enableaccessibility&&this.type!="monthonly"){this._want_arrows=false;}};_pCalendar._fireKeydownEvent=function(){var _a=this.calendaredit;var _b=_a._edit_base_api;if(_a&&_a.value!=undefined){var _c=_b._getFocusText();var _d=_b._getText();if(_c!=_d&&_c!=_d.trim()){var _e=this._changeYearValue();var _f=this._makeNormalValue1(_e);var _g=this._makeNormalValue1(_c);this._currentformat="editformat";this._setPreValueAndText(this._makeDateObj(_g));this._setPostValueAndText(this._makeDateObj(_f));var _h=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_h||_h==undefined){this._setValue(this._postvalue);}else{this._setValue(this._prevalue);return;}this._fireOnchangedEvent(this._prevalue,this.value);}}};_pCalendar._fireOnchangedEvent=function(_a,_b){_a=_a?_a.toString():_a;_b=_b?_b.toString():_b;if(_a!=_b){this._flag_update2dataset=true;this.on_fire_onchanged(this,this._pretext,this._prevalue,this._posttext,this._postvalue);this._flag_update2dataset=false;var _c=this.calendaredit;if(_c){var _d=_c._edit_base_api;_d._setFocusValue();}}};_pCalendar._getCurrentDate=function(){var _a=new Date();year=_a.getFullYear();month=_a.getMonth()+1;day=_a.getDate();_a=null;return year+" "+month+" "+day;};_pCalendar._getRange=function(_a,_b){var _c="";var _d=_b.format_list.length;var _e=0;for(var _f=0;_f<_d;_f++ ){var _g=_b.format_list[_f];var _h=_g.index;var _i=_g.index+_g.length;if(_h<=_a&&_i>=_a){_c=_g;break;}}return _c;};delete _pCalendar;_pCalendar=null;nexacro.CalendarDropButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pCalendarDropButtonCtrl=nexacro.CalendarDropButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.CalendarDropButtonCtrl);_pCalendarDropButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.calendaredit;if(_c){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};_pCalendarDropButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarDropButtonCtrl._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pCalendarDropButtonCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro.isTouchInteraction&&nexacro.SupportTouch&&!application.enabletouchevent){var _m=new nexacro.EventInfo(this,"ondropdown");this.parent.on_notify_mobile_ondropdown(this,_m);}return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pCalendarDropButtonCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,_l);};delete _pCalendarDropButtonCtrl;nexacro.CalendarSpinButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pCalendarSpinButtonCtrl=nexacro.CalendarSpinButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.CalendarSpinButtonCtrl);_pCalendarSpinButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.calendaredit;if(_c){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};_pCalendarSpinButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarSpinButtonCtrl._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pCalendarSpinButtonCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a)||this._find_inherit_pseudo_obj("cursor",_a)||nexacro.Component._default_cursor;};delete _pCalendarSpinButtonCtrl;nexacro.CalendarEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MaskEditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._event_list["oneditclick"]=1;this._accessibility_role="calendar";};var _pCalendarEditCtrl=nexacro._createPrototype(nexacro.MaskEditCtrl,nexacro.CalendarEditCtrl);nexacro.CalendarEditCtrl.prototype=_pCalendarEditCtrl;_pCalendarEditCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a,this)||nexacro.Component._default_align;};_pCalendarEditCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a,this)||nexacro.Component._default_font;};_pCalendarEditCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a,this)||nexacro.Component._default_color;};_pCalendarEditCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_accessibility(_a,this)||nexacro.Component._default_accessibility;};_pCalendarEditCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_background(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_border(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_bordertype(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_gradation(_a,this);};_pCalendarEditCtrl._getFormChildById=function(_a){return this.parent._getFormChildById(_a);};_pCalendarEditCtrl.set_value=function(_a){nexacro.MaskEdit.prototype.set_value.call(this,_a);this._setAccessibilityValue(this.value);if(this._is_created&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _b=this._input_element;_b._setElementInputLabel();}};_pCalendarEditCtrl._accept_keydown_event=function(_a){var _b=this.parent;if(_b&&(_a>=37&&_a<=40)){if(_b.isDropdown()){return false;}else{if(nexacro.Browser=="Chrome"){if(_a==38||_a==40){return false;}}}}return true;};_pCalendarEditCtrl._getFromComponent=function(_a){var _b=_a.parent;if(_b&&_b._isPopupVisible()){return _b;}else{return nexacro.Component.prototype._getFromComponent.call(this,_a);}};_pCalendarEditCtrl._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(_b._is_selected()){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}}_b._on_input_keyinput(_a);_b._on_input_keyinput_after();var _c=this.parent;if(_c&&_c._getPopupType()=="system"){_c._setValue(_b._getValue());}}};delete _pCalendarEditCtrl;nexacro.CalendarPopupWindow=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pCalendarPopupWindow=nexacro._createPrototype(nexacro.PopupComponent,nexacro.CalendarPopupWindow);nexacro.CalendarPopupWindow.prototype=_pCalendarPopupWindow;_pCalendarPopupWindow._type_name="CalendarPopupWindow";_pCalendarPopupWindow._getMainFrame=function(){var _a=this;while(_a&&_a instanceof nexacro.MainFrame){_a=_a.parent;}return _a;};delete _pCalendarPopupWindow;nexacro.CalendarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Calendar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._value;};var _pCalendarCtrl=nexacro._createPrototype(nexacro.Calendar,nexacro.CalendarCtrl);nexacro.CalendarCtrl.prototype=_pCalendarCtrl;_pCalendarCtrl._type_name="CalendarControl";nexacro._setForControlStyleFinder(_pCalendarCtrl);_pCalendarCtrl._setValueCtrl=function(_a){this._currentformat="editformat";var _b=this.calendaredit;var _c=_b._edit_base_api;if(_b&&_b.value!=undefined){var _d=_c._getFocusText();var _e=_c._getText();if(_d!=_e.trim()){var _f=this._changeYearValue();var _g=this._makeNormalValue(_f);_g=this._toValueStr(_g);this._setPreValueAndText(this._makeDateObj(_d));this._setPostValueAndText(this._makeDateObj(_g));if(_a){var _h=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_h||_h==undefined){this._setValue(this._postvalue);}else{this._setValue(this._prevalue);return;}this._fireOnchangedEvent(this._prevalue,this.value);}else{this._setValue(this._postvalue);}}}};_pCalendarCtrl.on_created_contents=function(){nexacro.Calendar.prototype.on_created_contents.call(this);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){this._control_element.setElementAccessibilityHidden(true);}};delete _pCalendarCtrl;};if(!nexacro.GroupBox){nexacro.GroupBox_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}};var _pGroupBoxStyle=nexacro._createPrototype(nexacro.Style,nexacro.GroupBox_Style);nexacro.GroupBox_Style.prototype=_pGroupBoxStyle;eval(nexacro._createBackgroundAttributeEvalStr("_pGroupBoxStyle","titlebackground"));eval(nexacro._createGradationAttributeEvalStr("_pGroupBoxStyle","titlegradation"));eval(nexacro._createValueAttributeEvalStr("_pGroupBoxStyle","titleimage"));eval(nexacro._createAlignAttributeEvalStr("_pGroupBoxStyle","titleimagealign"));eval(nexacro._createPaddingAttributeEvalStr("_pGroupBoxStyle","titleimagepadding"));eval(nexacro._createPaddingAttributeEvalStr("_pGroupBoxStyle","titlepadding"));eval(nexacro._createValueAttributeEvalStr("_pGroupBoxStyle","titleview"));_pGroupBoxStyle.__custom_emptyObject=function(){this.titlebackground=null;this.titlegradation=null;this.titleimage=null;this.titleimagealign=null;this.titleimagepadding=null;this.titlepadding=null;this.titleview=null;};_pGroupBoxStyle.__get_custom_style_value=function(){var _a="";if(this.titlebackground&&!this.titlebackground._is_empty){_a+="titlebackground:"+this.titlebackground._value+"; ";}if(this.titlegradation&&!this.titlegradation._is_empty){_a+="titlegradation:"+this.titlegradation._value+"; ";}if(this.titleimage&&!this.titleimage._is_empty){_a+="titleimage:"+this.titleimage._value+"; ";}if(this.titleimagealign&&!this.titleimagealign._is_empty){_a+="titleimagealign:"+this.titleimagealign._value+"; ";}if(this.titleimagepadding&&!this.titleimagepadding._is_empty){_a+="titleimagepadding:"+this.titleimagepadding._value+"; ";}if(this.titlepadding&&!this.titlepadding._is_empty){_a+="titlepadding:"+this.titlepadding._value+"; ";}if(this.titleview&&!this.titleview._is_empty){_a+="titleview:"+this.titleview._value+"; ";}return _a;};nexacro.GroupBox_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.titlebackground=null;this.titlegradation=null;this.titleimage=null;this.titleimagealign=null;this.titleimagepadding=null;this.titlepadding=null;this.titleview=null;};var _pGroupBoxCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GroupBox_CurrentStyle);nexacro.GroupBox_CurrentStyle.prototype=_pGroupBoxCurrentStyle;_pGroupBoxCurrentStyle.__custom_emptyObject=_pGroupBoxStyle.__custom_emptyObject;_pGroupBoxCurrentStyle.__get_custom_style_value=_pGroupBoxStyle.__get_custom_style_value;delete _pGroupBoxStyle;delete _pGroupBoxCurrentStyle;nexacro.GroupBox=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.titlealign="topleft";this.mainStatic=null;this.titleButton=null;this.leftStatic=null;this.rightStatic=null;this.sizechange=0;this._image_width=0;this._image_height=0;this.tabstop=false;this._is_focus_accept=false;this._accessibility_role="groupbox";this._event_list={"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pGroupBox=nexacro._createPrototype(nexacro.Component,nexacro.GroupBox);nexacro.GroupBox.prototype=_pGroupBox;_pGroupBox._type_name="GroupBox";nexacro.GroupBox._default_title_view=nexacro._getCachedStyleObj("titleview","horizontal");_pGroupBox.on_create_custom_style=function(){return new nexacro.GroupBox_Style(this);};_pGroupBox.on_create_custom_currentStyle=function(){return new nexacro.GroupBox_CurrentStyle();};_pGroupBox.on_apply_custom_pseudo=function(_a){if(!_a){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_titleBackground(_a);var _d=this.on_find_CurrentStyle_titleGradation(_a);var _e=this.on_find_CurrentStyle_titleImage(_a);var _f=this.on_find_CurrentStyle_titleImageAlign(_a);var _g=this.on_find_CurrentStyle_titleImagePadding(_a);var _h=this.on_find_CurrentStyle_titlePadding(_a);var _i=this.on_find_CurrentStyle_titleView(_a);var _j=this.on_find_CurrentStyle_font(_a);var _k=this.on_find_CurrentStyle_color(_a);var _l=this.on_find_CurrentStyle_align(_a);if(_b.font!=_j){_b.font=_j;this.on_apply_style_font(_j);}if(_b.color!=_k){_b.color=_k;this.on_apply_style_color(_k);}if(_b.align!=_l){_b.align=_l;this.on_apply_style_align(_l);}if(_c!=_b.titlebackground){_b.titlebackground=_c;this.on_apply_style_titlebackground(_c);}if(_d!=_b.titlegradation){_b.titlegradation=_d;this.on_apply_style_titlegradation(_d);}if(_e!=_b.titleimage){_b.titleimage=_e;this.on_apply_style_titleimage(_e);}if(_f!=_b.titleimagealign){_b.titleimagealign=_f;this.on_apply_style_titleimagealign(_f);}if(_g!=_b.titleimagepadding){_b.titleimagepadding=_g;this.on_apply_style_titleimagepadding(_g);}if(_h!=_b.titlepadding){_b.titlepadding=_h;this.on_apply_style_titlepadding(_h);}if(_i!=_b.titleview){_b.titleview=_i;this.on_apply_style_titleview(_i);}this._title_Border();var _m=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_m!=_b.rtlimagemirroring){_b.rtlimagemirroring=_m;this.on_apply_style_rtlimagemirroring(_m);}};_pGroupBox.on_find_CurrentStyle_titleBackground=function(_a){return this._find_pseudo_obj("titlebackground",_a,"background");};_pGroupBox.on_find_CurrentStyle_titleGradation=function(_a){return this._find_pseudo_obj("titlegradation",_a,"gradation");};_pGroupBox.on_find_CurrentStyle_titleImage=function(_a){return this._find_pseudo_obj("titleimage",_a);};_pGroupBox.on_find_CurrentStyle_titleImageAlign=function(_a){var _b=this._find_pseudo_obj("titleimagealign",_a,"align");return _b?_b:nexacro.Component._default_buttonimg_align;};_pGroupBox.on_find_CurrentStyle_titleImagePadding=function(_a){return this._find_pseudo_obj("titleimagepadding",_a,"padding");};_pGroupBox.on_find_CurrentStyle_titlePadding=function(_a){return this._find_pseudo_obj("titlepadding",_a,"padding");};_pGroupBox.on_find_CurrentStyle_titleView=function(_a){var _b=this._find_pseudo_obj("titleview",_a);return (_b)?_b:nexacro.GroupBox._default_title_view;};_pGroupBox.on_update_style_titlebackground=function(){var _a=this.currentstyle.titlebackground=this.on_find_CurrentStyle_titleBackground(this._pseudo);this.on_apply_style_titlebackground(_a);};_pGroupBox.on_update_style_titlegradation=function(){var _a=this.currentstyle.titlegradation=this.on_find_CurrentStyle_titleGradation(this._pseudo);this.on_apply_style_titlegradation(_a);};_pGroupBox.on_update_style_titleimage=function(){var _a=this.currentstyle.titleimage=this.on_find_CurrentStyle_titleImage(this._pseudo);this.on_apply_style_titleimage(_a);};_pGroupBox.on_update_style_titleimagealign=function(){var _a=this.currentstyle.titleimagealign=this.on_find_CurrentStyle_titleImageAlign(this._pseudo);this.on_apply_style_titleimagealign(_a);};_pGroupBox.on_update_style_titleimagepadding=function(){var _a=this.currentstyle.titleimagepadding=this.on_find_CurrentStyle_titleImagePadding(this._pseudo);this.on_apply_style_titleimagepadding(_a);};_pGroupBox.on_update_style_titlepadding=function(){var _a=this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this.on_apply_style_titlepadding(_a);};_pGroupBox.on_update_style_titleview=function(){var _a=this.currentstyle.titleview=this.on_find_CurrentStyle_titleView(this._pseudo);this.on_apply_style_titleview(_a);};_pGroupBox.on_apply_style_titlebackground=function(_a){if(this.titleButton&&_a){this.titleButton.style.set_background(_a);}};_pGroupBox.on_apply_style_titlegradation=function(_a){if(this.titleButton&&_a){this.titleButton.style.set_gradation(_a);}};_pGroupBox.on_apply_style_titleimage=function(_a){if(this.titleButton&&_a){this.titleButton._load_image(_a);}};_pGroupBox.on_apply_style_titleimagealign=function(_a){var _b=this.on_find_CurrentStyle_titleImage(this._pseudo);var _c=this.titleButton;if(_c&&_b&&_a){this._applyTitleSize();_c.on_apply_style_imagealign(_a);}};_pGroupBox.on_apply_style_titleimagepadding=function(_a){};_pGroupBox.on_apply_style_titlepadding=function(_a){if(this.titleButton){this.titleButton.style.set_padding(_a);}};_pGroupBox.on_apply_style_titleview=function(_a){};_pGroupBox.on_apply_style_font=function(_a){if(this.titleButton){this.titleButton.on_apply_style_font(_a);this._applyTitleSize();}};_pGroupBox.on_apply_style_color=function(_a){if(this.titleButton){this.titleButton.on_apply_style_color(_a);}};_pGroupBox.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;var _b=this.titleButton;var _c=this.mainStatic;var _d=this.leftStatic;var _e=this.rightStatic;if(_b){_b._setRtlDirection(_a);}if(_c){_c._setRtlDirection(_a);}if(_d){_d._setRtlDirection(_a);}if(_e){_e._setRtlDirection(_a);}};_pGroupBox.on_create_contents=function(){var _a=this.getElement();if(_a){if(this.text){var _b=this._text_elem=new nexacro.TextBoxElement(_a);var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);}}};_pGroupBox.on_created_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_b){_b.create();}if(_a){_a.create();}this._createGroupSubObj();this.on_apply_text(this.text);this.on_apply_style_color(this.currentstyle.color);this.on_apply_style_font(this.currentstyle.font);this.on_apply_style_titleimage(this.currentstyle.titleimage);this._applyTitleSize();this.on_apply_style_titlepadding(this.currentstyle.titlepadding);this.on_apply_style_titleimagealign(this.currentstyle.titleimagealign);this.on_apply_style_titleimagepadding(this.currentstyle.titleimagepadding);this.on_apply_style_titleview(this.currentstyle.titleview);this.on_apply_prop_rtldirection();};_pGroupBox.on_destroy_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_a){_a.destroy();this._text_elem=null;}};_pGroupBox.on_change_containerRect=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementSize(_a,_b);}if(this.mainStatic&&this.leftStatic&&this.rightStatic&&this.titleButton){this._applyTitleSize();}this._title_Border();};_pGroupBox.set_titlealign=function(_a){var _b=_a.toString();if(_b!=this.titlealign){this.titlealign=_a;this.on_apply_titlealign();}};_pGroupBox.on_apply_titlealign=function(){var _a=this.titlealign;var _b=this.titleButton;var _c=this.mainStatic;var _d=this.leftStatic;var _e=this.rightStatic;var _f=this.on_find_CurrentStyle_bordertype(this._pseudo);var _g=parseInt(_f.radiusx);var _h=parseInt(_f.radiusy);if(!this.currentstyle.border&&!_b||!_c||!_d||!_e){return false;}var _i=this._adjust_width;var _j=this._adjust_height;var _k=_b._adjust_left;var _l=_b._adjust_top;var _m=_b._adjust_width;var _n=_b._adjust_height;var _o=this.on_find_CurrentStyle_titlePadding(this._pseudo);if(_o){_m+=(_o.left+_o.right);_n+=(_o.top+_o.bottom);}var _p=_i-20;var _q=_j-20;if(_p<_m){_m=_p>0?_p:0;}if(_q<_n){_n=_q>0?_q:0;}var _r=this.on_find_CurrentStyle_border(this._pseudo);var _s=parseInt(_r.width);var _t=parseInt(_r.left_width);var _u=parseInt(_r.top_width);var _v=parseInt(_r.right_width);var _w=parseInt(_r.bottom_width);if(_a=="topcenter"){var _x=Math.floor((_i-_m)/2);var _y=Math.floor(_n/2);var _z=_j-_y;var _aa=_x+_m+_v;var _ab=_i-_x-_m;this.mainStatic.move(0,_y,_i,_z);this.leftStatic.move(0,_y,_x,_z);this.rightStatic.move(_aa,_y,_ab,_z);_b.move(_x,0,_m,_n);}else if(_a=="topright"){var _x=_i-_g-_m-_s;var _y=Math.floor(_n/2);var _z=_j-_y;var _aa=_i-_g-_s;var _ab=_i-_aa;this.mainStatic.move(0,_y,_i,_z);this.leftStatic.move(0,_y,_x,_z);this.rightStatic.move(_aa,_y,_ab,_z);_b.move(_x,0,_m,_n);}else if(_a=="righttop"){var _x=_i-Math.floor(_m/2);var _ac=_h+_n;this.mainStatic.move(0,0,_x,_j);this.leftStatic.move(0,0,_x,_h);this.rightStatic.move(0,_ac,_x,_j-_ac);_b.move(_i-_m,_h,_m,_n);}else if(_a=="rightcenter"){var _x=_i-Math.floor(_m/2);var _ad=Math.floor((_j-_n)/2);this.mainStatic.move(0,0,_x,_j-_w);this.leftStatic.move(0,0,_x,_ad);this.rightStatic.move(0,_ad+_n,_x,_ad);_b.move(_i-_m,_ad,_m,_n);}else if(_a=="rightbottom"){var _x=_i-Math.floor(_m/2);var _ae=_h+_n;this.mainStatic.move(0,0,_x,_j);this.leftStatic.move(0,0,_x,_j-_ae);this.rightStatic.move(0,_j-_h,_x,_h);_b.move(_i-_m,_j-_ae,_m,_n);}else if(_a=="bottomright"){var _x=_i-_g-_m;var _z=_j-Math.floor(_n/2);var _aa=_i-_g;this.mainStatic.move(0,0,_i,_z);this.leftStatic.move(0,0,_x,_z);this.rightStatic.move(_aa,0,_g,_z);_b.move(_x,_j-_n,_m,_n);}else if(_a=="bottomcenter"){var _x=Math.floor((_i-_m)/2);var _z=_j-Math.floor(_n/2);var _aa=_x+_m+_v;var _ab=_i-_x-_m;this.mainStatic.move(0,0,_i,_z);this.leftStatic.move(0,0,_x,_z);this.rightStatic.move(_aa,0,_ab,_z);_b.move(_x,_j-_n,_m,_n);}else if(_a=="bottomleft"){var _x=_i-_g-_m;var _z=_j-Math.floor(_n/2);var _aa=_g+_m;var _ab=_i-_aa+_v;this.mainStatic.move(0,0,_i,_z);this.leftStatic.move(0,0,_g,_z);this.rightStatic.move(_aa,0,_ab,_z);_b.move(_g,_j-_n,_m,_n);}else if(_a=="leftbottom"){var _af=Math.floor(_m/2);var _x=_i-_af;var _ae=_h+_n;this.mainStatic.move(_af,0,_x,_j);this.leftStatic.move(_af,0,_x,_j-_ae);this.rightStatic.move(_af,_j-_h,_x,_h);_b.move(0,_j-_ae,_m,_n);}else if(_a=="leftcenter"){var _af=Math.floor(_m/2);var _x=_i-_af;var _ad=Math.floor((_j-_n)/2);var _ag=_j-_ad-_n-_w;this.mainStatic.move(_af,0,_x,_j-_w);this.leftStatic.move(_af,0,_x,_ad);this.rightStatic.move(_af,_ad+_n,_x,_ag);_b.move(0,_ad,_m,_n);}else if(_a=="lefttop"){var _af=Math.floor(_m/2);var _x=_i-_af;var _ac=_h+_n;this.mainStatic.move(_af,0,_x,_j);this.leftStatic.move(_af,0,_x,_h);this.rightStatic.move(_af,_ac,_x,_j-_ac);_b.move(0,_h,_m,_n);}else{var _y=Math.floor(_n/2);var _z=_j-_y;var _ah=_g+_t;var _aa=_ah+_m;var _ab=_i-_aa+_v;_k=_ah;this.mainStatic.move(0,_y,_i,_z);this.leftStatic.move(0,_y,_ah,_z+10);this.rightStatic.move(_aa,_y,_ab,_z);_b.move(_k,_l,_m,_n);}this._title_Border();};_pGroupBox.set_text=function(_a){var _b=_a;if(_b===undefined||_b===null){_b="";}else{_b=_a.toString();}if(_b!=this.text){this.text=this._display_text=_b;var _c=this.titleButton;this.on_apply_text(_b);this.on_apply_style_color(this.currentstyle.color);this.on_apply_style_font(this.currentstyle.font);this.on_apply_style_align(this.currentstyle.align);this.on_apply_titlealign();if(_c){this._applyTitleSize();this.bRectChange=true;}}return this.text;};_pGroupBox.on_apply_text=function(_a){var _b=_a;if(this.titleButton!=null){this.titleButton.set_text(_b);}};_pGroupBox.on_get_prop_tabstop=function(){if(nexacro._enableaccessibility){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a&&_a.enable&&_a.role=="link"){return true;}}return false;};_pGroupBox._isFocusAcceptable=function(){return nexacro._enableaccessibility;};_pGroupBox._createGroupSubObj=function(){var _a=this.mainStatic=new nexacro.MainCtrl("mainline","absolute",0,0,0,0,null,null,this);_a.createComponent();var _b=this.titleButton=new nexacro.TitleCtrl("title","absolute",0,0,0,0,null,null,this);_b.style.set_border("0px solid transparent");_b.style.set_bordertype("round 1 1");_b.createComponent();var _c=this.leftStatic=new nexacro.TitleBorderCtrl("line1","absolute",0,0,0,0,null,null,this);_c.createComponent();var _d=this.rightStatic=new nexacro.TitleBorderCtrl("line2","absolute",0,0,0,0,null,null,this);_d.createComponent();};_pGroupBox._applyTitleSize=function(){var _a=this._GetTextSize(this._display_text);var _b=this.titleButton;var _c=_b._image_width;var _d=_b._image_height;var _e=_a[0];var _f=_a[1];if(_b){if(_b._img_elem){var _g=this.on_find_CurrentStyle_titleImageAlign(this._pseudo);if(_g.halign=="lefttext"||_g.halign=="righttext"){_e+=_c;_f=_f<_d?_b._image_height:_f;}if(_g.valign=="toptext"||_g.valign=="bottomtext"){_f+=_d;}}var _h=0;var _i=0;this.titleButton._adjust_left=_h;this.titleButton._adjust_top=_i;this.titleButton._adjust_width=_e;this.titleButton._adjust_height=_f;this.on_apply_titlealign();}};_pGroupBox._getMakeClientRect=function(_a){return {left:_a._client_left,top:_a._client_top,right:_a._client_left+_a._client_width,bottom:_a._client_top+_a._client_height,width:_a._client_width,height:_a._client_height};};_pGroupBox._title_Border=function(){if(!this.mainStatic||!this.leftStatic||!this.rightStatic){return false;}var _a=this.on_find_CurrentStyle_border(this._pseudo);var _b=this.on_find_CurrentStyle_bordertype(this._pseudo);var _c=this.on_find_CurrentStyle_background(this._pseudo);var _d=this.leftStatic.on_find_CurrentStyle_bordertype(this._pseudo);var _e=this.rightStatic.on_find_CurrentStyle_bordertype(this._pseudo);this.mainStatic._setElementBorder(this.mainStatic.getElement(),_a,_b,this.titlealign);this.leftStatic._setElementBorder(this.leftStatic.getElement(),_a,_d,this.titlealign);this.rightStatic._setElementBorder(this.rightStatic.getElement(),_a,_e,this.titlealign);this.on_apply_style_border("");this.on_apply_style_background("none");this.mainStatic.on_apply_style_background(_c);};_pGroupBox._GetTextSize=function(_a){if(!this.titleButton){return;}var _b=this.titleButton.on_find_CurrentStyle_font(this._pseudo)||nexacro.Component._default_font;return nexacro._getTextSize2(_a,_b);};nexacro.TitleCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pTitleCtrl=nexacro.TitleCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TitleCtrl);_pTitleCtrl.orgRect=null;_pTitleCtrl.on_apply_custom_pseudo=function(_a){nexacro.ButtonCtrl.prototype.on_apply_custom_pseudo.call(this,_a);this.parent.mainStatic._pseudo=_a;this.parent.mainStatic.on_update_style_border();if(this.parent.rightStatic){this.parent.rightStatic._pseudo=_a;this.parent.rightStatic.on_update_style_border();}if(this.parent.leftStatic){this.parent.leftStatic._pseudo=_a;this.parent.leftStatic.on_update_style_border();}this.parent._title_Border();};_pTitleCtrl.on_find_CurrentStyle_align=function(_a){return nexacro.Component._default_align;};_pTitleCtrl.on_find_CurrentStyle_color=function(_a){return this.parent._find_pseudo_obj("color",_a,"color");};_pTitleCtrl.on_find_CurrentStyle_font=function(_a){return this.parent._find_pseudo_obj("font",_a,"font");};_pTitleCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("titlebackground",_a,"background");};_pTitleCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("titlegradation",_a,"gradation");};_pTitleCtrl.on_find_CurrentStyle_image=function(_a){return this.parent._find_pseudo_obj("titleimage",_a);};_pTitleCtrl.on_find_CurrentStyle_imagealign=function(_a){return this.parent.on_find_CurrentStyle_titleImageAlign(_a);};_pTitleCtrl.on_find_CurrentStyle_imagepadding=function(_a){return this.parent._find_pseudo_obj("titleimagepadding",_a,"padding");};_pTitleCtrl.on_find_CurrentStyle_padding=function(_a){return this.parent._find_pseudo_obj("titlepadding",_a,"padding");};_pTitleCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent._find_pseudo_obj("cursor",_a);};_pTitleCtrl._img_load_completed=function(_a){this.parent._applyTitleSize();nexacro.Button.prototype._img_load_completed.call(this,_a);};nexacro.MainCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pMainCtrl=nexacro.MainCtrl.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.MainCtrl);_pMainCtrl.orgPos=null;_pMainCtrl.on_apply_custom_pseudo=function(_a){nexacro.StaticCtrl.prototype.on_apply_custom_pseudo.call(this,_a);if(this.parent.rightStatic){this.parent.rightStatic._pseudo=_a;this.parent.rightStatic.on_update_style_border();}if(this.parent.leftStatic){this.parent.leftStatic._pseudo=_a;this.parent.leftStatic.on_update_style_border();}this.parent._title_Border();};_pMainCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("background",_a,"background");};_pMainCtrl.on_find_CurrentStyle_shadow=function(_a){return this.parent._find_pseudo_obj("shadow",_a,"shadow");};_pMainCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("bordertype",_a,"bordertype");};_pMainCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("gradation",_a,"gradation");};_pMainCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent._find_pseudo_obj("cursor",_a);};_pMainCtrl._setElementBorder=function(_a,_b,_c,_d){if(!_b){return;}var _e=_b.clone();var _f=_e._value;var _g;_e._linecnt=1;_e._copytoSubObjects();_e._linecnt=4;if(_d!=null){if(_d=="righttop"||_d=="rightcenter"||_d=="rightbottom"){_e.set_right_width("0");}else if(_d=="lefttop"||_d=="leftcenter"||_d=="leftbottom"){_e.set_left_width("0");}else if(_d=="bottomright"||_d=="bottomcenter"||_d=="bottomleft"){_e.set_bottom_width("0");}else{_e.set_top_width("0");}_a.setElementBorder(_e,_c);}};delete _pMainCtrl;nexacro.TitleBorderCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StaticCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};_pTitleBorderCtrl=nexacro.TitleBorderCtrl.prototype=nexacro._createPrototype(nexacro.StaticCtrl,nexacro.TitleBorderCtrl);_pTitleBorderCtrl.on_apply_custom_pseudo=function(_a){nexacro.StaticCtrl.prototype.on_apply_custom_pseudo.call(this,_a);this.parent.mainStatic._pseudo=_a;this.parent.mainStatic.on_update_style_border();if(this.id=="line1"){if(this.parent.rightStatic){this.parent.rightStatic._pseudo=_a;this.parent.rightStatic.on_update_style_border();}}if(this.id=="line2"){if(this.parent.leftStatic){this.parent.leftStatic._pseudo=_a;this.parent.leftStatic.on_update_style_border();}}this.parent._title_Border();};_pTitleBorderCtrl.on_find_CurrentStyle_background=function(_a){};_pTitleBorderCtrl.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("border",_a,"border");};_pTitleBorderCtrl.on_find_CurrentStyle_bordertype=function(_a){var _b=this.parent._find_pseudo_obj("bordertype",_a,"bordertype");var _c=_b.clone();var _d=this.parent.titlealign;if(_d=="righttop"||_d=="rightcenter"||_d=="rightbottom"){if(this.id=="line1"){_c.set_lefttop(false);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(true);}}else if(_d=="lefttop"||_d=="leftcenter"||_d=="leftbottom"){if(this.id=="line1"){_c.set_lefttop(true);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(true);}}else if(_d=="bottomright"||_d=="bottomcenter"||_d=="bottomleft"){if(this.id=="line1"){_c.set_lefttop(true);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(true);}}else{if(this.id=="line1"){_c.set_lefttop(true);_c.set_leftbottom(true);_c.set_righttop(false);_c.set_rightbottom(false);}else if(this.id=="line2"){_c.set_lefttop(false);_c.set_leftbottom(false);_c.set_righttop(true);_c.set_rightbottom(true);}}return _c;};_pTitleBorderCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent._find_pseudo_obj("cursor",_a);};_pTitleBorderCtrl._setElementBorder=function(_a,_b,_c,_d){if(!_b){return;}var _e=_b.clone();_e._linecnt=1;_e._copytoSubObjects();_e._linecnt=4;if(_d!=null){if(_d=="righttop"||_d=="rightcenter"||_d=="rightbottom"){if(this.id=="line1"){_e.set_bottom_width("0");}else if(this.id=="line2"){_e.set_top_width("0");}}else if(_d=="lefttop"||_d=="leftcenter"||_d=="leftbottom"){if(this.id=="line1"){_e.set_bottom_width("0");}else if(this.id=="line2"){_e.set_top_width("0");}}else if(_d=="bottomright"||_d=="bottomcenter"||_d=="bottomleft"){_e.set_top_width("0");if(this.id=="line1"){_e.set_right_width("0");}else if(this.id=="line2"){_e.set_left_width("0");}}else{if(this.id=="line1"){_e.set_right_width("0");}else if(this.id=="line2"){_e.set_left_width("0");}}_a.setElementBorder(_e,_c);}};delete _pTitleBorderCtrl;nexacro.GroupBoxCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.GroupBox.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pGroupBoxCtrl=nexacro.GroupBoxCtrl.prototype=nexacro._createPrototype(nexacro.GroupBox,nexacro.GroupBoxCtrl);_pGroupBoxCtrl._type_name="GroupBoxControl";nexacro._setForControlStyleFinder(_pGroupBoxCtrl);delete _pGroupBoxCtrl;}nexacro.TabIndexChangeEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"ontabindexchange";this.fromobject=this.fromreferenceobject=_a;this.postindex=_c;this.preindex=_d;};var _pTabIndexChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ChangeEventInfo);nexacro.TabIndexChangeEventInfo.prototype=_pTabIndexChangeEventInfo;_pTabIndexChangeEventInfo._type_name="TabIndexChangeEventInfo";delete _pTabIndexChangeEventInfo;nexacro.TabMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.MouseEventInfo.call(this,_a,_b||"onextrabuttonclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.index=_c;};var _pTabMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MouseEventInfo);nexacro.TabMouseEventInfo.prototype=_pTabMouseEventInfo;_pTabMouseEventInfo._type_name="TabMouseEventInfo";delete _pTabMouseEventInfo;if(!nexacro.TabComponent){nexacro.TabComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.spinupbutton=null;this.spindownbutton=null;this.multiline=false;this.tabindex= -1;this.focusacceptable=false;this.usecontrolkey=true;this.rotatetext=false;this.tabjustify=false;this.selectchangetype="down";this.tabposition="top";this.extrabutton=null;this._org_status="";this._pre_scrollIndex= -1;this._imagewidth=0;this._imageheight=0;this._setidx=0;this._oldtabindex=0;this._tabpagearea=null;this._css_finder=null;this._tabButtons=[];this._buttonRect=[];this._tabextrabuttons=[];this._tabBorders=[];this._tabButtonBorders=[];this._tabButtonLeftBorders=[];this._buttonWidth=[];this._buttonHeight=[];this._scrollIndex= -1;this._lastIndex= -1;this._bSpin=false;this._focusobj=null;this._spinflagup=false;this._spinflagdown=false;this._is_canchange=false;this._accessibility_role="tab";};var _pTabComponent=nexacro._createPrototype(nexacro.Form,nexacro.TabComponent);nexacro.TabComponent.prototype=_pTabComponent;_pTabComponent._type_name="Tabcomponent";_pTabComponent.on_update_style_cursor=function(){var _a=this._tabButtons;var _b=_a.length;var _c;for(var _d=0;_d<_b;_d++ ){_c=_a[_d];_c.on_update_style_cursor();}for(var _d=0,_e=this.tabpages.length;_d<_e;_d++ ){this.tabpages[_d].on_update_style_cursor();}this._tabpagearea.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));this.on_apply_style_cursor(this.currentstyle.cursor);};_pTabComponent.on_change_containerRect=function(_a,_b){};_pTabComponent.set_visible=function(_a){var _b=this._child_list;if(_b&&_b.length==0&&nexacro._toBoolean(_a)){return;}nexacro.Component.prototype.set_visible.call(this,_a);};_pTabComponent.set_multiline=function(_a){this.multiline=nexacro._toBoolean(_a);if(this.multiline==false&&this._buttonWidth){var _b=0;for(var _c=0,_d=this._buttonWidth.length;_c<_d;_c++ ){_b+=this._buttonWidth[_c];if(this._orgwidth<_b){break;}}if(_d>0){this._scrollIndex=this.tabindex-(_c-1);}}this._recalcLayout();};_pTabComponent.set_rotatetext=function(_a){this.rotatetext=_a;};_pTabComponent.set_usecontrolkey=function(_a){this.usecontrolkey=_a;};_pTabComponent.set_focusacceptable=function(_a){if(this.focusacceptable!=_a){this.focusacceptable=_a;}};_pTabComponent.set_tabindex=function(_a){var _b=parseInt(_a)|0;this._oldtabindex=this.tabindex;this._setidx=_b;this.on_apply_tabindex();};_pTabComponent.on_apply_tabindex=function(){var _a=false;var _b=this._getForm();if(_b._getTabOrderFirst() instanceof nexacro.Tab&&this.parent._last_focused&&this.parent._last_focused.name==this.name){_a=true;}var _c=this._changeTabIndex(this._setidx,_a);if(_c&&this.enableevent&&this._is_created&&this._oldtabindex> -1){this.on_fire_onchanged(this,this._setidx,this._oldtabindex);}};_pTabComponent.set_tabjustify=function(_a){_a=nexacro._toBoolean(_a);if(this.tabjustify!=_a){this.tabjustify=_a;}else{return;}this.on_apply_tabjustify();};_pTabComponent.on_apply_tabjustify=function(){this._recalcLayout();};_pTabComponent.set_tabposition=function(_a){this.tabposition=_a.toString();var _b=this._child_list;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=_b[_d];if(_e!=null){_e._adjust_width=0;_e._adjust_height=0;}}this.on_apply_tabposition();};_pTabComponent.on_apply_tabposition=function(){this._recalcLayout();};_pTabComponent.set_selectchangetype=function(_a){this.selectchangetype=_a;};nexacro._is_enable_setting=false;_pTabComponent.set_enable=function(_a){_a=nexacro._toBoolean(_a);if(this.enable!=_a){var _b=this._getWindow();var _c;if(!this._is_subcontrol&&!_a&&this._is_created&&this.parent){if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){var _d=this._getForm();var _e=this.tabstop;this.tabstop=false;_c=_d._searchNextTabFocus();this.tabstop=_e;}}var _f=this._control_element;this.enable=_a;var _g=(this.parent._real_enable&&_a);if(this._real_enable!=_g){nexacro._is_enable_setting=true;this._setEnable(_g);nexacro._is_enable_setting=false;var _h=this.parent;if(!this._is_subcontrol&&this._is_created&&_h&&_h._is_created){if(_g){if(_b&&_b._indexOfCurrentFocusPaths(_h)==_b._getCurrentFocusPathsLength()-1&&!_h._last_focused){this._on_focus(true);}}else{if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){_b._removeFromCurrentFocusPath(this,false);if(_c&&_c[0]){_c[0]._on_focus(true);}}}}}}};_pTabComponent.on_notify_spinup_onclick=function(_a,_b){this._spinup();};_pTabComponent.on_notify_spindown_onclick=function(_a,_b){this._spindown();};_pTabComponent.on_fire_onextrabuttonclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onextrabuttonclick&&this.onextrabuttonclick._has_handlers){var _o=new nexacro.TabMouseEventInfo(this,"onextrabuttonclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this,this);return this.onextrabuttonclick._fireEvent(this,_o);}return true;};_pTabComponent.getOwnerFrame=function(){return this.parent.getOwnerFrame();};_pTabComponent._created=function(){this._recalcLayout();};_pTabComponent._createSubComp=function(){this.spindownbutton=new nexacro.ButtonCtrl("spindownbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton=new nexacro.ButtonCtrl("spinupbutton",this.position,0,0,0,0,null,null,this);this.spinupbutton.createComponent();this.spindownbutton.createComponent();this.spinupbutton.set_visible(false);this.spindownbutton.set_visible(false);this.spinupbutton._setEventHandler("onclick",this.on_notify_spinup_onclick,this);this.spindownbutton._setEventHandler("onclick",this.on_notify_spindown_onclick,this);this._createTabBorder();};_pTabComponent._getTabPosition=function(){return this.tabposition.toString();};_pTabComponent._isMultiLine=function(){return this.multiline;};_pTabComponent._isTabButtonJustify=function(){return this.tabjustify;};_pTabComponent._isRotateText=function(){return this.rotatetext;};_pTabComponent._isUseCtrlKey=function(){return this.usecontrolkey;};_pTabComponent._isExtraButton=function(){return nexacro._toBoolean(this.currentstyle.showextrabutton?this.currentstyle.showextrabutton._value:"false");};_pTabComponent._ptInRect=function(_a,_b,_c){if(_a.left<=_b&&_a.right>=_b&&_a.top<=_c&&_a.bottom>=_c){return true;}return false;};_pTabComponent._GetTabIndex=function(_a,_b){var _c=[];var _d=[];_c[0]=_a;_c[1]=_b;var _e=this._child_list.length;if(_e<=0){return;}var _f,_g= -1;var _h=0,_i=0;var _j=this.on_find_CurrentStyle_buttonmargin(this._pseudo);if(_j){_h=_j.left;_i=_j.right;}var _k=this._client_width;var _l=this._client_height;var _m=_k-(Math.ceil(this._getToolBarSize())|0);var _n=_l-(Math.ceil(this._getToolBarSize())|0);if(!this._isTabButtonJustify()&&!this._isMultiLine()&&this._isSpinButtonVisible()){var _o=null;_o=this._getSpinSize();_m-=2*_o[0]+2;_n-=2*_o[1]+2;}switch(this._getTabPosition()){case "top":case "bottom":if(this._scrollIndex== -1){_d=_c;}else{_d[0]=_c[0]+this._buttonRect[this._scrollIndex].left-_h;_d[1]=_c[1];}for(_f=0;_f<_e;_f++ ){if(this._ptInRect(this._buttonRect[_f],_d[0],_d[1])){if(this._isMultiLine()){_g=_f;}else if(this._scrollIndex!= -1){if((this._buttonRect[_f].right-this._buttonRect[_f].left)<=_m){_g=_f;}}else{if(this._buttonRect[_f].right<=_k){_g=_f;}}break;}}break;case "left":case "right":if(this._scrollIndex== -1){_d=_c;}else{_d[0]=_c[0];_d[1]=_c[1]+this._buttonRect[this._scrollIndex].top;}for(_f=0;_f<_e;_f++ ){if(this._ptInRect(this._buttonRect[_f],_d[0],_d[1])){if(this._isMultiLine()){_g=_f;}else if(this._scrollIndex!= -1){if((this._buttonRect[_f].bottom-this._buttonRect[this._scrollIndex].top)<=_n){_g=_f;}}else{if(this._buttonRect[_f].bottom<=_l){_g=_f;}}break;}}break;}return _g;};_pTabComponent._rearrangeBorder=function(){if(this._buttonRect.length-1<this.tabindex){return;}var _a=this._tabBorders[0];var _b=this._tabBorders[1];var _c=this._tabBorders[2];if(!_a){return;}if(!_b){return;}_a._control_pseudo="";_b._control_pseudo="";_c._control_pseudo="";var _d= -1,_e= -1;var _f=this._tabButtons;for(var _s=0,_t=_f.length;_s<_t;_s++ ){if(_f[_s]&&_f[_s].visible){var _u=_f[_s];_u._setElementBorder(_u.getElement(),_u.currentstyle.border,_u.currentstyle.bordertype);if(_d== -1){_d=_s;_e=_s;continue;}_e=_s;}}var _g=this._getTabPosition();var _h;var _i=true;if(this.tabindex>=_d&&this.tabindex<=_e){_h=this._buttonRect[this.tabindex];}else{_h=this._buttonRect[_d];_i=false;}var _j="";var _k=this.on_find_CurrentStyle_buttonborder(this._pseudo);var _l=0;if(_k){_l=_k._top_width;}var _m=0;var _n=this.on_find_CurrentStyle_border(this._pseudo);var _o=0,_p=0,_q=0,_r=0;if(_n){_o=_n._left_width||_n._top_width;_p=_n._top_width;_q=_n._right_width||_n._top_width;_r=_n._bottom_width||_n._top_width;}switch(_g){case "top":if(!_i||_h.left<0||(_h.left+_l-_o)==0){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(0,_h.bottom,_h.left+_l,_p);if(_h.left<0||!_i){_b.move(0,_h.bottom,this._adjust_width-_q,_p);}else{_b.move(_h.right-_l,_h.bottom,this._adjust_width-_h.right,_p);}if(!_i){_c.set_visible(false);}else{_c.set_visible(true);}_c.move((_h.left+_l),_h.bottom,((_h.right-_l)-(_h.left+_l)),_p);break;case "bottom":if(!_i||_h.left<0||(_h.left+_l-_o==0)){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(_o,_h.top-_l,_h.left+_l-_o,_r);if(_h.left<0||!_i){_b.move(_o,_h.top-_l,this._adjust_width-_o-_q,_r);}else{_b.move(_h.right-_l,_h.top-_l,this._adjust_width-_h.right,_r);}if(!_i){_c.set_visible(false);}else{_c.set_visible(true);}_c.move((_h.left+_l),(_h.top-_l),((_h.right-_l)-(_h.left+_l)),_r);break;case "left":if(!_i||_h.top<0){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(_h.right,_p,_q,_h.top+_l-_p);if(_h.top<0||!_i){_b.move(_h.right,_p,_q,this._adjust_height-_p-_r);}else{_b.move(_h.right,_h.bottom-_l,_q,this._adjust_height-_h.bottom+_l-_r);}if(!_i){_c.set_visible(false);}else{_c.set_visible(true);}_c.move(_h.right,(_h.top+_l),_q,((_h.bottom-_l)-(_h.top+_l)));break;case "right":if(!_i||_h.top<0){_a.set_visible(false);}else{_a.set_visible(true);}_a.move(_h.left-_q,_p,_q,_h.top+_l-_p);if(_h.top<0||!_i){_b.move(_h.left-_q,_p,_q,this._adjust_height-_p-_r);}else{_b.move(_h.left-_q,_h.bottom-_l,_q,this._adjust_height-_h.bottom+_l-_r);}if(!_i){_c.set_visible(false);}else{_c.set_visible(true);}_c.move((_h.left-_q),(_h.top+_l),_q,((_h.bottom-_l)-(_h.top+_l)));break;}};_pTabComponent._rearrangeButton=function(){var _a=this._child_list.length;if(_a<=0){return;}if(this._buttonRect.length<=0){return;}switch(this._getTabPosition()){case "top":this._rearrangeTopButton();break;case "bottom":this._rearrangeBottomButton();break;case "left":this._rearrangeLeftButton();break;case "right":this._rearrangeRightButton();break;}this._resetTabPage();if(this.enable==false){if(this.spinupbutton){this.spinupbutton.set_enable(false);}if(this.spindownbutton){this.spindownbutton.set_enable(false);}}if(!this._bSpin){this._scrollIndex=0;if(this.spindownbutton){this.spindownbutton.set_visible(false);}if(this.spinupbutton){this.spinupbutton.set_visible(false);}}var _b=this.on_find_CurrentStyle_border(this._pseudo);if(_b&&_b._top_width!=0){this._rearrangeBorder();}};_pTabComponent._resetTabPage=function(){var _a=this._child_list;var _b=_a?_a.length:0;if(_b<=0||this._tabButtons.length<=0){return;}for(var _c=0;_c<_b;_c++ ){var _d=_a[_c];var _e=this._tabButtons[_c];if(_d!=null){if(!_e){break;}if(this.enable){if(_d.enable){if(_c==this.tabindex){_d.set_visible(true);_e._stat_change("select","selected");}else{_d.set_visible(false);_e._pseudo="normal";_e._status="notselect";_e._stat_change(_e._pseudo,_e._status);}}else{_e._pseudo="disable";_e._status="disabled";_e._stat_change(_e._pseudo,_e._status);}}else{_e._pseudo="disable";_e._status="disabled";_e._stat_change("disable","disabled");}}}};_pTabComponent._getToolBarSize=function(){return 0;};_pTabComponent._rearrangeTopButton=function(){var _a=this._pseudo;var _b="",_c=0,_d=0;var _e=null;var _f=this.on_find_CurrentStyle_padding(_a);var _g=this.on_find_CurrentStyle_buttonborder(_a);var _h=_g?(_g._left_width+_g._right_width):0;var _i=this.on_find_CurrentStyle_buttonpadding("normal");var _j=_i?(_i.left+_i.right):0;var _k=this.on_find_CurrentStyle_bordertype(_a);_b=_k?_k.type:"";if(_k!=null&&_b=="round"){_c=_k.radiusx;_d=_k.radiusy;}var _l=this._adjust_width;var _m=this._adjust_height;var _n=this._child_list.length;var _o=0;var _p=_l-(Math.ceil(this._getToolBarSize())|0)-_c;var _q=0;var _r=0,_s=0,_t=0,_u=0;var _v=this.on_find_CurrentStyle_buttonmargin(_a);if(_v){_r=_v.left;_s=_v.right;_u=_v.bottom;_t=_v.top;}var _w=[],_x;for(var _as=0;_as<_n;_as++ ){_x=this._getButtonSize(_as);_w[_as]=_x;_q=((_x.bottom-_x.top)>_q)?(_x.bottom-_x.top):_q;}_q+=_g?(_g._top_width+_g._bottom_width):0;var _y=this._buttonRect;var _z=this._isExtraButton();for(var _as=0;_as<_n;_as++ ){_x=_w[_as];var _at=_y[_as];if(!_at){break;}_at.left=_o+_r;_at.bottom=_q;_at.right=_at.left+(_x.right-_x.left)+_h;_at.top=_t;if(_z){_at.right+=_q;}_o=_at.right+_s;}if((_o-_s)>=_p){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_n-1;var _au=(_o/_p+1)|0;var _av=(Math.ceil(_o/_au)|0);var _aw=0;var _ax=0;var _ay=0;for(var _as=0;_as<_au;_as++ ){while(_aw<_n){var _at=_y[_aw];if(!_at){break;}if(_at.right>(_o/_au)*(_as+1)||_aw==_n-1){if(_aw==_n-1){_ay=_aw;}else if(((_o/_au)*(_as+1)-_at.left)<(_at.right-(_o/_au)*(_as+1))){_ay=Math.ceil(_aw-1)|0;}else{_ay=_aw;}if(_ay<0){_ay=0;}var _az=0;var _ba=0;var _bb=_y[_ay].right-(_y[_ax]?_y[_ax].left:0);for(var _bc=_ax;_bc<=_ay;_bc++ ){_at=_y[_bc];if(!_at){break;}_at.right=Math.ceil(_ba+(_at.right-_at.left)*_p/_bb)|0;_at.left=_ba;if(_at.bottom>_az){_az=_at.bottom;}_ba=_at.right;}_y[_ay].right=_p-1;for(var _bc=_ax;_bc<=_ay;_bc++ ){_at=_y[_bc];if(!_at){break;}_at.bottom=_az;}for(var _bc=_ay+1;_bc<_n;_bc++ ){_at=_y[_bc];if(!_at){break;}_at.bottom=(_at.bottom-_at.top)+_az;_at.top=_az;}_ax=_ay+1;break;}_aw++ ;}}this._rollButtonUp();this._bSpin=false;}else{var _bd=this._getSpinSize();var _be={left:0,top:0,right:0,bottom:0};_be.left=_p-_bd[0]*2-2;var _bf=this._scrollIndex;if(this._scrollIndex<0||this._scrollIndex>=this._child_list.length){_bf=this._child_list.length-1;}var _bg=_y[_bf];if(!_bg){return;}_be.top=_bg.bottom-_bd[1]-2;_be.right=_p-_bd[0]-2;_be.bottom=_bg.bottom-2;if(this.spinupbutton){this.spinupbutton.move(_be.left,_be.top,_be.right-_be.left,_be.bottom-_be.top);this.spinupbutton.set_visible(true);if(this._scrollIndex<=0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}}_be.left=_p-_bd[0];_be.top=_y[_bf].bottom-_bd[1]-2;_be.right=_p;_be.bottom=_y[_bf].bottom-2;if(this.spindownbutton){var _bh=this.spindownbutton.position;if(_bh.left!=_be.left||_bh.right!=_be.right||_bh.top!=_be.top||_bh.bottom!=_be.bottom){this.spindownbutton.move(_be.left,_be.top,_be.right-_be.left,_be.bottom-_be.top);}this.spindownbutton.set_visible(true);if(this._scrollIndex==_n-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._lastIndex=_n-1;if(this._isTabButtonJustify()){var _bi=0;var _bj=this._buttonWidth;var _bk=_bj?_bj.length:0;for(var _as=0;_as<_bk;_as++ ){_bi+=_bj[_as];}var _ba=0;for(var _as=0;_as<_n;_as++ ){var _at=_y[_as];if(!_at){break;}_at.left=_ba+_r;_ba=_at.right=_at.left+_s+(Math.floor(_p*(this._buttonWidth[_as]/_bi))|0);}if(_y&&_y.length>=_n){_y[_n-1].right=_p-1;}}this._bSpin=false;}var _aa=0;for(var _as=0;_as<_n;_as++ ){var _at=_y[_as];if(!_at){break;}if(_aa<_at.bottom){_aa=_at.bottom;}}var _ab={left:0,top:_aa,right:_l,bottom:_m};var _ac=null;var _ad=this.on_find_CurrentStyle_border(_a);var _ae=0,_af=0,_ag=0,_ah=0;if(_ad){_ae=_ad._left_width||_ad._top_width;_af=_ad._top_width;_ag=_ad._right_width||_ad._top_width;_ah=_ad._bottom_width||_ad._top_width;}_ab=this._getTabpageClientRectBorder(_ab,_ad,_k,_f,"top");if(this._tabpagearea){var _bl=this._tabpagearea.on_find_CurrentStyle_border(this._pseudo);this._tabpagearea.on_apply_style_border(_bl);this._tabpagearea.move(_ab.left,_ab.top,_ab.right-_ab.left,_ab.bottom-_ab.top);}var _ai=this._child_list[0].on_find_CurrentStyle_margin(_a);var _aj=0,_ak=0,_al=0,_am=0;if(_ai){_aj=_ai.left;_ak=_ai.top;_al=_ai.right;_am=_ai.bottom;}var _an=_ab.left+_ae+_aj;var _ao=_ab.top+_af+_ak;var _ap=_ab.right-_ag-_ab.left-_ae-_al-_aj;var _aq=_ab.bottom-_ab.top-_ah-_af-_am-_ak;var _ar=this._child_list;for(var _as=0;_as<_n;_as++ ){var _bm=_ar[_as];if(_bm!=null){var _bn=_bm._adjust_width;var _bo=_bm._adjust_height;if(_bm._adjust_left!=_an||_bm._adjust_top!=_ao||_bm._getPosRight()!=_ap||_bm._getPosBottom()!=_aq){_bm.move(_an,_ao,_ap,_aq);}else{_bm.move(_an,_ao,_bn,_bo);}}}};_pTabComponent._drawButton=function(){if(this._buttonRect.length<=0){return;}switch(this._getTabPosition()){case "top":case "bottom":this._drawClientTopBottom();break;case "left":case "right":this._drawClientLeftRight();break;}};_pTabComponent._drawClientTopBottom=function(){var _a=this._child_list.length;if(_a<=0){return;}var _b=this._adjust_width;var _c=this._adjust_height;if(_b<=0||_c<=0){return;}if(this._scrollIndex<0){this._scrollIndex=0;}if(this._scrollIndex>=this._child_list.length){this._scrollIndex=this._child_list.length-1;}var _d=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _e=0,_f=0,_g=0,_h=0;if(_d!=null||_d!=undefined){_e=_d.left;_f=_d.right;_h=_d.top;_g=_d.bottom;}var _i=this._buttonRect[this._scrollIndex].left-_e;var _j=this._buttonRect;var _k=_j.length;for(var _l=0;_l<_k;_l++ ){if(this._scrollIndex!= -1){_j[_l].left-=_i;_j[_l].right-=_i;}}if(this._isMultiLine()||!this._bSpin){for(var _l=0;_l<_a;_l++ ){this._drawTabButton(_l);}}else{var _m=this.on_find_CurrentStyle_border(this._pseudo);var _n=0;if(_m){_n=_m._left_width||_m._top_width;}var _o=this._getSpinSize();var _p=_b-(Math.ceil(this._getToolBarSize())|0)-(_o[0]*2)-2;var _q=0,_r=0;this._lastIndex=_q=this._scrollIndex;for(var _l=_a-1;_l>=_q;_l-- ){if(!_j[_l]){break;}if((_j[_l].right-_j[this._scrollIndex].left+_n)<=_p){this._lastIndex=_r=_l;break;}else if(_l==this._scrollIndex){this._lastIndex=_r=_l;break;}}var _s=this._tabButtons;var _t=this._tabextrabuttons;var _u=this._isExtraButton();for(var _l=0;_l<_q;_l++ ){_s[_l].set_visible(false);if(_u&&_t[_l]){_t[_l].set_visible(false);}}for(var _l=_k-1;_l>_r;_l-- ){_s[_l].set_visible(false);if(_u&&_t[_l]){_t[_l].set_visible(false);}}for(var _l=_r;_l>=_q;_l-- ){_s[_l].set_visible(true);if(_u&&_t[_l]){_t[_l].set_visible(true);}this._drawTabButton(_l);}this._rearrangeBorder();if(_r==_a-1&&this.spindownbutton.enable){this.spindownbutton.set_enable(false);}if(_q==0&&this.spinupbutton.enable){this.spinupbutton.set_enable(false);}else if(_q!=0&&!this.spinupbutton.enable){this.spinupbutton.set_enable(true);}}};_pTabComponent._drawClientLeftRight=function(){var _a=this._child_list.length;if(_a<=0){return;}var _b=this._adjust_height;if(_b<=0){return;}if(this._scrollIndex<0){this._scrollIndex=0;}var _c=this._buttonRect;var _d=_c[this._scrollIndex].top;var _e=_c.length;for(var _f=0;_f<_e;_f++ ){if(this._scrollIndex!= -1){_c[_f].top-=_d;_c[_f].bottom-=_d;}}if(this._isMultiLine()||!this._bSpin){for(var _f=_a-1;_f>=0;_f-- ){if(_f!=this.tabindex){this._drawTabButton(_f);}}this._drawTabButton(this.tabindex);}else{var _g=this.on_find_CurrentStyle_border(this._pseudo);var _h=0;if(_g){_h=_g._top_width;}var _i=this._getSpinSize();var _j=_b-(Math.ceil(this._getToolBarSize())|0)-(_i[1]*2)-2;var _k=0,_l=0;this._lastIndex=_k=this._scrollIndex;for(var _f=_a-1;_f>=_k;_f-- ){if((_c[_f].bottom-_c[this._scrollIndex].top+_h)<=_j){this._lastIndex=_l=_f;break;}}var _m=this._tabButtons;var _n=this._tabextrabuttons;var _o=this._isExtraButton();for(var _f=0;_f<_e;_f++ ){_m[_f].set_visible(false);if(_o){tabextrabuttons[_f].set_visible(false);}}for(var _f=_l;_f>=_k;_f-- ){this._drawTabButton(_f);_m[_f].set_visible(true);if(_o){tabextrabuttons[_f].set_visible(true);}}this._rearrangeBorder();if(_l==_a-1&&this.spindownbutton.enable){this.spindownbutton.set_enable(false);}if(_k==0&&this.spinupbutton.enable){this.spinupbutton.set_enable(false);}else if(_k!=0&&!this.spinupbutton.enable){this.spinupbutton.set_enable(true);}}};_pTabComponent._drawTabButton=function(_a){var _b=this._buttonRect[_a];if(!_b){return;}if(_b.bottom>0){if(_a<0||_a>=this._child_list.length){return;}var _c=null;var _d=this._tabButtons[_a];if(_d!=null){_c=this._getExtraButtonArea(_b);var _e=this._isExtraButton();if(_e){this._drawExtraButton(_c,_a,true);}var _f=nexacro._getCachedAlignObj("center middle");_d.on_apply_style_align(_f);if(_d.left!=_b.left||_d.top!=_b.top||_d.right!=_b.right||_d.bottom!=_b.bottom){_d.move(_b.left,_b.top,_b.right-_b.left,_b.bottom-_b.top);}if(_e){var _g=this._tabextrabuttons?(this._tabextrabuttons[_a]?this._tabextrabuttons[_a].width:20):20;var _h=Math.ceil(_b.right-_g)|0;var _i=_d._text_elem;if(_i){if(_i){var _j=this.on_find_CurrentStyle_buttonpadding(_d._pseudo);var _k=_j?(_j.left+_j.right):0;var _l=_j?(_j.top+_j.bottom):0;_i.setElementSize(_h-_b.left-_k,_i.height);}}}if(!_d.visible){_d.set_visible(true);}}}};_pTabComponent._drawExtraButton=function(_a,_b,_c){if(this._tabextrabuttons[_b]){var _d=_a.right-_a.left;var _e=_a.bottom-_a.top;var _f=12;var _g=12;var _h=Math.ceil(_g/2)|0;var _i=Math.ceil(_e/2)|0;if(_d<=0||_e<=0){return;}var _j=this._tabextrabuttons[_b];_j.set_visible(_c);if(_c){_j.move(_a.left,_a.top+_i-_h,_a.right-_a.left,_h*2);}}};_pTabComponent._getClientRectPadding=function(_a,_b){var _c=_a;switch(this._getTabPosition()){case "top":case "bottom":_c.right+=_b.left+_b.right;_c.bottom+=_b.top+_b.bottom;break;case "right":case "left":_c.right+=_b.left+_b.right;_c.bottom+=_b.top+_b.bottom;break;}return _c;};_pTabComponent._getExtraButtonArea=function(_a){var _b={left:0,top:0,right:0,bottom:0};var _c=_a.right-_a.left;var _d=_a.bottom-_a.top;var _e=this.on_find_CurrentStyle_margin(this._pseudo);var _f=0,_g=0,_h=0,_i=0;if(_e){_f=_e.left;_g=_e.right;_h=_e.top;_i=_e.bottom;}switch(this._getTabPosition()){case "top":case "bottom":_b.top=_a.top+_h;_b.bottom=_a.bottom-_i;_b.left=_a.right-_d+_f;_b.right=_a.right-_g;break;case "left":if(this._isRotateText()){_b.left=_a.left+_f;_b.right=_a.right-_g;_b.top=_a.top+_h;_b.bottom=_a.top+_c-_i;}else{_b.top=_a.top+_h;_b.bottom=_a.bottom-_i;_b.left=_a.right-_d+_f;_b.right=_a.right-_g;}break;case "right":if(this._isRotateText()){_b.left=_a.left+_f;_b.right=_a.right-_g;_b.bottom=_a.bottom-_i;_b.top=_a.bottom-_c+_h;}else{_b.top=_a.top+_h;_b.bottom=_a.bottom-_i;_b.left=_a.right-_d+_f;_b.right=_a.right-_g;}break;}return _b;};_pTabComponent._rearrangeBottomButton=function(){var _a=this._pseudo;var _b=this.on_find_CurrentStyle_border(_a);var _c=this.on_find_CurrentStyle_bordertype(_a);var _d=this.on_find_CurrentStyle_padding(_a);var _e=this.on_find_CurrentStyle_buttonborder(_a);var _f=_e?_e._top_width:0;var _g=this.on_find_CurrentStyle_buttonpadding("normal");var _h=_g?(_g.left+_g.right):0;var _i=this.on_find_CurrentStyle_buttonmargin(_a);var _j=0,_k=0,_l=0,_m=0;if(_i){_m=_i.left;_j=_i.top;_k=_i.right;_l=_i.bottom;}var _n=0;var _o=0,_p=0,_q=0,_r=0;if(_b){_o=_b._left_width||_b._top_width;_p=_b._top_width;_q=_b._right_width||_b._top_width;_r=_b._bottom_width||_b._top_width;}var _s=0,_t=0;if(this.bordertype&&this.bordertype.type=="round"){_s=this.bordertype.radiusx;_t=this.bordertype.radiusy;}var _u=this._adjust_width;var _v=this._adjust_height;var _w=this._child_list.length;var _x=0;var _y=_u-(Math.ceil(this._getToolBarSize())|0)-_s;var _z=0;var _aa=[];var _ab;for(var _ar=0;_ar<_w;_ar++ ){_ab=this._getButtonSize(_ar);_aa[_ar]=_ab;_z=((_ab.bottom-_ab.top)>_z)?(_ab.bottom-_ab.top):_z;}var _ac=this._buttonRect;var _ad=this._isExtraButton();for(var _ar=0;_ar<_w;_ar++ ){var _as=_ac[_ar];if(!_as){break;}_ab=_aa[_ar];_as.left=_x+_m;_as.bottom=_v-_l;_as.right=_as.left+(_ab.right-_ab.left);_as.top=_as.bottom-_z;if(_ad){_as.right+=_z;}_x=_as.right+_k;}if((_x-_k)>=_y){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_w-1;var _at=(_x/_y+1)|0;var _au=Math.ceil(_x/_at)|0;var _av=0;var _aw=0;var _ax=0;for(var _ar=0;_ar<_at;_ar++ ){while(_av<_w){var _as=_ac[_av];if(!_as){break;}if(_as.right>Math.ceil(_x/_at)*(_ar+1)||_av==_w-1){if(_av==_w-1){_ax=_av;}else if(((_x/_at)*(_ar+1)-_as.left)<(_as.right-(_x/_at)*(_ar+1))){_ax=_av-1;}else{_ax=_av;}var _ay=_v;var _az=0;var _ba=_ac[_ax].right-_ac[_aw].left;for(var _bb=_aw;_bb<=_ax;_bb++ ){_as=_ac[_bb];if(!_as){break;}_as.right=Math.ceil(_az+(_as.right-_as.left)*_y/_ba)|0;_as.left=_az;if(_as.top<_ay){_ay=_as.top;}_az=_as.right;}_ac[_ax].right=_y-1;for(var _bb=_aw;_bb<=_ax;_bb++ ){_as=_ac[_bb];if(!_as){break;}_as.top=_ay;}for(var _bb=_ax+1;_bb<_w;_bb++ ){_as=_ac[_bb];if(!_as){break;}_as.top=_ay-(_as.bottom-_as.top);_as.bottom=_ay;}_aw=_ax+1;break;}_av++ ;}}this._rollButtonUp();this._bSpin=false;}else{this._scrollIndex=0;var _bc;_bc=this._getSpinSize();var _bd=_u-(Math.ceil(this._getToolBarSize())|0)-(_bc[0]*2)-2;var _be=this.tabindex;for(var _ar=0;_ar<=_be;_ar++ ){var _as=_ac[_ar];if(!_as){break;}if((_ac[_be].right-_as.left+_m)<_bd){this._scrollIndex=_ar;break;}}var _bf={left:0,top:0,right:0,bottom:0};_bf.left=_y-_bc[0]*2-2;_bf.top=_ac[this._scrollIndex].top+2;_bf.right=_y-_bc[0]-2;_bf.bottom=_ac[this._scrollIndex].top+_bc[1]+2;this.spinupbutton.move(_bf.left,_bf.top,_bf.right-_bf.left,_bf.bottom-_bf.top);this.spinupbutton.set_visible(true);if(this._scrollIndex==0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}_bf.left=_y-_bc[0];_bf.top=_ac[this._scrollIndex].top+2;_bf.right=_y;_bf.bottom=_ac[this._scrollIndex].top+_bc[1]+2;var _bg=this.spindownbutton.position;if(_bg.left!=_bf.left||_bg.right!=_bf.right||_bg.top!=_bf.top||_bg.bottom!=_bf.bottom){this.spindownbutton.move(_bf.left,_bf.top,_bf.right-_bf.left,_bf.bottom-_bf.top);this.spindownbutton.set_visible(true);if(this._scrollIndex==_w-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._scrollIndex= -1;this._lastIndex=_w-1;if(this._isTabButtonJustify()){var _bh=0;var _bi=this._buttonWidth;var _bj=_bi?_bi.length:0;for(var _ar=0;_ar<_bj;_ar++ ){_bh+=_bi[_ar];}var _az=0;for(var _ar=0;_ar<_w;_ar++ ){var _as=_ac[_ar];if(!_as){break;}_as.left=_az+_m;_az=_as.right=_as.left+_k+(Math.floor(_y*(this._buttonWidth[_ar]/_bh))|0);}if(_ac&&_ac.length>=_w){_ac[_w-1].right=_y-1;}}this._bSpin=false;}var _ae=_v;for(var _ar=0;_ar<_w;_ar++ ){var _as=_ac[_ar];if(!_as){break;}if(_ae>_as.top){_ae=_as.top;}}var _af={left:0,top:0,right:_u,bottom:_ae};var _ag=null;_af=this._getTabpageClientRectBorder(_af,_b,_c,_d,"bottom");if(this._tabpagearea){var _bk=this._tabpagearea.on_find_CurrentStyle_border(this._pseudo);this._tabpagearea.on_apply_style_border(_bk);this._tabpagearea.move(_af.left,_af.top,_af.right-_af.left,_af.bottom-_af.top);}var _ah=this._child_list[0].on_find_CurrentStyle_margin(_a);var _ai=0,_aj=0,_ak=0,_al=0;if(_ah){_ai=_ah.left;_aj=_ah.top;_ak=_ah.right;_al=_ah.bottom;}var _am=_af.left+_o+_ai;var _an=_af.top+_p+_aj;var _ao=_af.right-_q-_af.left-_o-_ak-_ai;var _ap=_af.bottom-_af.top-_r-_p-_al-_aj;if(_ap<0){_ap=0;}var _aq=this._child_list;for(var _ar=0;_ar<_w;_ar++ ){var _bl=_aq[_ar];if(_bl!=null){_bl.move(_am,_an,_ao,_ap);}}};_pTabComponent._getSpinSize=function(){var _a=[];_a[0]=14;_a[1]=14;return _a;};_pTabComponent._rearrangeLeftButton=function(){var _a="",_b=0,_c=0;var _d=this._pseudo;var _e=this.on_find_CurrentStyle_border(_d);var _f=this.on_find_CurrentStyle_bordertype(_d);var _g=this.on_find_CurrentStyle_padding(_d);var _h=this.on_find_CurrentStyle_buttonborder(_d);var _i=this.on_find_CurrentStyle_buttonmargin(_d);var _j=_h?_h._top_width:0;var _k=this.on_find_CurrentStyle_buttonpadding("normal");var _l=_k?(_k.left+_k.right):0;var _m=0,_n=0,_o=0,_p=0;if(_i){_p=_i.left;_m=_i.top;_n=_i.right;_o=_i.bottom;}var _b=0,_c=0;if(this.bordertype!=null&&this.bordertype.type=="round"){_b=this.bordertype.radiusx;_c=this.bordertype.radiusy;}var _q=this._adjust_width;var _r=this._adjust_height;var _s=this._child_list.length;var _t=0;var _u=0,_v=_r-(Math.ceil(this._getToolBarSize())|0)-_c;var _w=0;var _x,_y;var _z=[];var _aa=null;for(var _av=0;_av<_s;_av++ ){_aa=this._getButtonSize(_av);_z[_av]=_aa;if(this._isRotateText()){_x=_aa.right-_aa.left;_y=_aa.bottom-_aa.top;_aa.left=_aa.right-_y;_aa.bottom=_aa.top+_x;}_u=((_aa.right-_aa.left)>_u)?(_aa.right-_aa.left):_u;}var _ab=0,_ac=0;var _ad=this._buttonRect;var _ae=this._isExtraButton();for(var _av=0;_av<_s;_av++ ){var _aw=_ad[_av];if(!_aw){break;}_aa=_z[_av];_aw.left=_p;_aw.top=_t+_m;_aw.bottom=_aw.top+(_aa.bottom-_aa.top);_aw.right=_aw.left+_u;if(_ae){if(this._isRotateText()){if(_ab<_aa.right-_aa.left){_ab=_aa.right-_aa.left;_av= -1;continue;}_aw.bottom+=_ab;}else{if(_ac<_aa.bottom-_aa.top){_ac=_aa.bottom-_aa.top;_av= -1;continue;}_aw.right+=_ac;}}_w=((_aw.right-_aw.left)>_w)?(_aw.right-_aw.left):_w;_t=_aw.bottom+_o;}if((_t-_o)>=_v){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_s-1;var _ax=(_t/_v+1)|0;var _ay=Math.ceil(_t/_ax)|0;var _az=0;var _ba=0;var _bb=0;for(var _av=0;_av<_ax;_av++ ){while(_az<_s){var _aw=_ad[_az];if(!_aw){break;}if(_aw.bottom>Math.ceil(_t/_ax)*(_av+1)||_az==_s-1){if(_az==_s-1){_bb=_az;}else if(((_t/_ax)*(_av+1)-_aw.top)<(_aw.bottom-(_t/_ax)*(_av+1))){_bb=_az-1;}else{_bb=_az;}var _bc=0;var _bd=0;var _be=_ad[_bb].bottom-_ad[_ba].top;for(var _bf=_ba;_bf<=_bb;_bf++ ){_aw=_ad[_bf];if(!_aw){break;}_aw.bottom=Math.ceil(_bd+(_aw.bottom-_aw.top)*_v/_be)|0;_aw.top=_bd;if(_aw.right>_bc){_bc=_aw.right;}_bd=_aw.bottom;}_ad[_bb].bottom=_v-1;for(var _bf=_ba;_bf<=_bb;_bf++ ){_aw=_ad[_bf];if(!_aw){break;}_aw.right=_bc;}for(var _bf=_bb+1;_bf<_s;_bf++ ){_aw=_ad[_bf];if(!_aw){break;}_aw.right=(_aw.right-_aw.left)+_bc;_aw.left=_bc;}_ba=_bb+1;break;}_az++ ;}}this._rollButtonUp();this._bSpin=false;}else{this._scrollIndex=0;var _bg=null;_bg=this._getSpinSize();var _bh=_r-(Math.ceil(this._getToolBarSize())|0)-(_bg[1]*2)-2;for(var _av=0;_av<=this.tabindex;_av++ ){var _aw=_ad[_av];if(!_aw){break;}if((_ad[this.tabindex].bottom-_aw.top+_m)<_bh){this._scrollIndex=_av;break;}}var _bi={left:0,top:0,right:0,bottom:0};_bi.left=_ad[this._scrollIndex].right-_bg[0]-2;_bi.top=_v-_bg[1]*2-2;_bi.right=_ad[this._scrollIndex].right-2;_bi.bottom=_v-_bg[1]-2;this.spinupbutton.move(_bi.left,_bi.top,_bi.right-_bi.left,_bi.bottom-_bi.top);this.spinupbutton.set_visible(true);if(this._scrollIndex==0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}_bi.left=_ad[this._scrollIndex].right-_bg[0]-2;_bi.top=_v-_bg[1];_bi.right=_ad[this._scrollIndex].right-2;_bi.bottom=_v;var _bj=this.spindownbutton;var _bk=_bj._adjust_left+_bj._adjust_width;var _bl=_bj._adjust_top+_bj._adjust_height;if(_bj._adjust_left!=_bi.left||_bk!=_bi.right||_bj._adjust_top!=_bi.top||_bl!=_bi.bottom){this.spindownbutton.move(_bi.left,_bi.top,_bi.right-_bi.left,_bi.bottom-_bi.top);this.spindownbutton.set_visible(true);if(this._scrollIndex==_s-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._scrollIndex= -1;this._lastIndex=_s-1;if(this._isTabButtonJustify()){var _bd=0;for(var _av=0;_av<_s;_av++ ){var _aw=_ad[_av];if(!_aw){break;}_aw.top=_bd;_bd=_aw.bottom=_aw.bottom*_v/_t;}if(_ad&&_ad.length>=_s){_ad[_s-1].bottom=_v-1;}}this._bSpin=false;}var _af=0;for(var _av=0;_av<_s;_av++ ){var _aw=_ad[_av];if(!_aw){break;}if(_af<_aw.right){_af=_aw.right;}}var _ag=0,_ah=0,_ai=0,_aj=0;if(_e){_ag=_e._left_width||_e._top_width;_ah=_e._top_width;_ai=_e._right_width||_e._top_width;_aj=_e._bottom_width||_e._top_width;}var _ak={left:_af,top:0,right:_q,bottom:_r};_ak=this._getTabpageClientRectBorder(_ak,_h,_f,_g,"left");if(this._tabpagearea){var _bm=this._tabpagearea.on_find_CurrentStyle_border(this._pseudo);this._tabpagearea.on_apply_style_border(_bm);this._tabpagearea.move(_ak.left,_ak.top,_ak.right-_ak.left,_ak.bottom-_ak.top);}var _al=this._child_list[0].on_find_CurrentStyle_margin(_d);var _am=0,_an=0,_ao=0,_ap=0;if(_al){_am=_al.left;_an=_al.top;_ao=_al.right;_ap=_al.bottom;}var _aq=_ak.left+_ag+_am;var _ar=_ak.top+_ah+_an;var _as=_ak.right-_ai-_ak.left-_ag-_ao-_am;var _at=_ak.bottom-_ak.top-_aj-_ah-_ap-_an;var _au=this._child_list;for(var _av=0;_av<_s;_av++ ){var _bn=_au[_av];if(_bn!=null){var _bo=_bn._adjust_width;var _bp=_bn._adjust_height;if(_bn._adjust_left!=_aq||_bn._adjust_top!=_ar||_bn._getPosRight()!=_as||_bn._getPosBottom()!=_at){_bn.move(_aq,_ar,_as,_at);}else{_bn.move(_aq,_ar,_bo,_bp);}}}};_pTabComponent._rearrangeRightButton=function(){var _a=this._child_list.length;var _b=this._pseudo;var _c=this.on_find_CurrentStyle_border(_b);var _d=this.on_find_CurrentStyle_bordertype(_b);var _e=this.on_find_CurrentStyle_padding(_b);var _f=this.on_find_CurrentStyle_buttonborder(_b);var _g=this.on_find_CurrentStyle_buttonmargin(_b);var _h=null;var _i=0,_j=0,_k=0,_l=0;if(_g!=null){_l=_g.left;_i=_g.top;_j=_g.right;_k=_g.bottom;}var _m=0,_n=0;if(_d!=null&&_d.type=="round"){_m=_d.radiusx;_n=_d.radiusy;}var _o=0;if(_f){_o=_f._top_width;}var _p=0,_q=0,_r=0,_s=0;if(_c){_p=_c._left_width||_c._top_width;_q=_c._top_width;_r=_c._right_width||_c._top_width;_s=_c._bottom_width||_c._top_width;}var _t=this._adjust_width;var _u=this._adjust_height;var _v=0;var _w=0,_x=_u-(Math.ceil(this._getToolBarSize())|0)-_n;var _y=0;var _z,_aa;var _ab=[];for(var _aq=0;_aq<_a;_aq++ ){_h=this._getButtonSize(_aq);_ab[_aq]=_h;if(this._isRotateText()){_z=_h.right-_h.left;_aa=_h.bottom-_h.top;_h.right=_h.left+_aa;_h.bottom=_h.top+_z;}_w=((_h.right-_h.left)>_w)?(_h.right-_h.left):_w;}var _ac=this._buttonRect;var _ad=this._isExtraButton();for(var _aq=0;_aq<_a;_aq++ ){var _ar=_ac[_aq];if(!_ar){break;}_h=_ab[_aq];_ar.right=_t-_j;_ar.left=_ar.right-(_h.right-_h.left);_ar.top=_v+_i;_ar.bottom=_ar.top+(_h.bottom-_h.top);if(_ad){if(this._isRotateText()){_ar.bottom+=(_h.right-_h.left);}else{_ar.left-=(_h.bottom-_h.top);}}_y=((_ar.right-_ar.left)>_y)?(_ar.right-_ar.left):_y;_v=_ar.bottom+_k;}for(var _aq=0;_aq<_a;_aq++ ){var _ar=_ac[_aq];if(!_ar){break;}_ar.left=_ar.right-_y;}if((_v-_k)>=_x){if(this._isMultiLine()){this._scrollIndex= -1;this._lastIndex=_a-1;var _as=(_v/_x+1)|0;var _at=Math.ceil(_v/_as)|0;var _au=0;var _av=0;var _aw=0;for(var _aq=0;_aq<_as;_aq++ ){while(_au<_a){var _ar=_ac[_au];if(!_ar){break;}if(_ar.bottom>(_v/_as)*(_aq+1)||_au==_a-1){if(_au==_a-1){_aw=_au;}else if(((_v/_as)*(_aq+1)-_ar.top)<(_ar.bottom-(_v/_as)*(_aq+1))){_aw=_au-1;}else{_aw=_au;}var _ax=_t;var _ay=0;var _az=_ac[_aw].bottom-_ac[_av].top;for(var _ba=_av;_ba<=_aw;_ba++ ){_ar=_ac[_ba];if(!_ar){break;}_ar.bottom=Math.ceil(_ay+(_ar.bottom-_ar.top)*_x/_az)|0;_ar.top=_ay;if(_ar.left<_ax){_ax=_ar.left;}_ay=_ar.bottom;}_ac[_aw].bottom=_x-1;for(var _ba=_av;_ba<=_aw;_ba++ ){_ar=_ac[_ba];if(!_ar){break;}_ar.left=_ax;}for(var _ba=_aw+1;_ba<_a;_ba++ ){_ar=_ac[_ba];if(!_ar){break;}_ar.left=_ax-(_ar.right-_ar.left);_ar.right=_ax;}_av=_aw+1;break;}_au++ ;}}this._rollButtonUp();this._bSpin=false;}else{this._scrollIndex=0;var _bb=null;_bb=this._getSpinSize();var _bc=_u-(Math.ceil(this._getToolBarSize())|0)-(_bb[1]*2)-2;for(var _aq=0;_aq<=this.tabindex;_aq++ ){var _ar=_ac[_aq];if(!_ar){break;}if((_ac[this.tabindex].bottom-_ar.top+_i)<_bc){this._scrollIndex=_aq;break;}}var _bd={left:0,top:0,right:0,bottom:0};_bd.left=_ac[this._scrollIndex].left+2;_bd.top=_x-_bb[1]*2-2;_bd.right=_ac[this._scrollIndex].left+_bb[0]+2;_bd.bottom=_x-_bb[1]-2;this.spinupbutton.move(_bd.left,_bd.top,_bd.right-_bd.left,_bd.bottom-_bd.top);this.spinupbutton.set_visible(true);if(this._scrollIndex==0){this.spinupbutton.set_enable(false);}else{this.spinupbutton.set_enable(true);}_bd.left=_ac[this._scrollIndex].left+2;_bd.top=_x-_bb[1];_bd.right=_ac[this._scrollIndex].left+_bb[0]+2;_bd.bottom=_x;var _be=this.spindownbutton;var _bf=_be._adjust_left+_be._adjust_width;var _bg=_be._adjust_top+_be._adjust_height;if(_be._adjust_left!=_bd.left||_bf!=_bd.right||_be._adjust_top!=_bd.top||_bg!=_bd.bottom){this.spindownbutton.move(_bd.left,_bd.top,_bd.right-_bd.left,_bd.bottom-_bd.top);this.spindownbutton.set_visible(true);if(this._scrollIndex==_a-1){this.spindownbutton.set_enable(false);}else{this.spindownbutton.set_enable(true);}}this._bSpin=true;}}else{this._scrollIndex= -1;this._lastIndex=_a-1;if(this._isTabButtonJustify()){var _ay=0;for(var _aq=0;_aq<_a;_aq++ ){var _ar=_ac[_aq];if(!_ar){break;}_ar.top=_ay;_ay=_ar.bottom=_ar.bottom*_x/_v;}if(_ac&&_ac.length>=_a){_ac[_a-1].bottom=_x-1;}}this._bSpin=false;}var _ae=_t;for(var _aq=0;_aq<_a;_aq++ ){_ar=_ac[_aq];if(!_ar){break;}if(_ae>_ar.left){_ae=_ar.left;}}var _o=0;if(_f){_o=_f._top_width;}var _p=0,_q=0,_r=0,_s=0;if(_c){_p=_c._left_width||_c._top_width;_q=_c._top_width;_r=_c._right_width||_c._top_width;_s=_c._bottom_width||_c._top_width;}var _af={left:0,top:0,right:_ae,bottom:_u};_af=this._getTabpageClientRectBorder(_af,_f,_d,_e,"right");if(this._tabpagearea){var _bh=this._tabpagearea.on_find_CurrentStyle_border(this._pseudo);this._tabpagearea.on_apply_style_border(_bh);this._tabpagearea.move(0,_af.top,_af.right,_af.bottom-_af.top);}var _ag=this._child_list[0].on_find_CurrentStyle_margin(_b);var _ah=0,_ai=0,_aj=0,_ak=0;if(_ag){_ah=_ag.left;_ai=_ag.top;_aj=_ag.right;_ak=_ag.bottom;}var _al=_af.left+_p+_ah;var _am=_af.top+_q+_ai;var _an=_af.right-_r-_af.left-_p-_aj-_ah;var _ao=_af.bottom-_af.top-_s-_q-_ak-_ai;var _ap=this._child_list;for(var _aq=0;_aq<_a;_aq++ ){var _bi=_ap[_aq];if(_bi!=null){var _bj=_bi._adjust_width;var _bk=_bi._adjust_height;if(_bi._adjust_left!=_al||_bi._adjust_top!=_am||_bi._getPosRight()!=_an||_bi._getPosBottom()!=_ao){_bi.move(_al,_am,_an,_ao);}else{_bi.move(_al,_am,_bj,_bk);}}}};_pTabComponent._getTabpageClientRectBorder=function(_a,_b,_c,_d,_e){if(_d!=null){_a.left+=Math.ceil(_d.left)|0;_a.top+=Math.ceil(_d.top)|0;_a.right-=Math.ceil(_d.right)|0;_a.bottom-=Math.ceil(_d.bottom)|0;}return _a;};_pTabComponent._setScrollIndex=function(_a){var _b=this._child_list;if(_a<0||_a>=_b.length){return;}this._scrollIndex=_a;if(this.spinupbutton!=null&&this.spindownbutton!=null){this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());}};_pTabComponent._changeScrollIndex=function(_a){this._resetScrollIndex(_a);if(this.spinupbutton!=null&&this.spindownbutton!=null){this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());}};_pTabComponent._setScrollIndexByObj=function(_a){var _b=this._child_list;for(var _c=0;_c<_b.length;_c++ ){var _d=_b[_c];if(_d==_a){if(_c<this._scrollIndex||_c>this._lastIndex){this._scrollIndex=_c;if(this.spinupbutton!=null&&this.spindownbutton!=null){this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());}}}}};_pTabComponent._getButtonSize=function(_a){var _b=this._pseudo;var _c=this.on_find_CurrentStyle_buttonpadding("normal");var _d=this.on_find_CurrentStyle_buttonborder(_b);var _e=this.on_find_CurrentStyle_buttonbackground(_b);var _f=this.on_find_CurrentStyle_buttonmargin(_b);var _g={left:0,top:0,right:0,bottom:0};var _h=this._child_list[_a].text.toString();var _i=this.on_find_CurrentStyle_font("normal");var _j=0,_k=0,_l=0,_m=0;if(_c){_j=_c.left;_k=_c.right;_l=_c.top;_m=_c.bottom;}var _n=0;if(_d){_n=_d._top_width;}if(_i){var _o=false;if(_h){var _p=_h.search("\n");}_o=(_p== -1)?false:true;var _q=nexacro._getTextSize2(_h,_i,_o);if(_e&&(_e.repeat=="stretch"||_e.repeat=="quad")){if(this._imageheight==0){_g.right=(Math.ceil(_q[0])|0)+_j+_k;_g.bottom=(Math.ceil(_q[1])|0);}else{_g.right=(Math.ceil(_q[0])|0)+_j+_k;_g.bottom=this._imageheight;}}else{_g.right=(Math.ceil(_q[0])|0)+_j+_k+_n*2;_g.bottom=(Math.ceil(_q[1])|0)+_l+_m;}return _g;}};_pTabComponent._rollButtonUp=function(){var _a=this._child_list.length;if(_a<=0||this.tabindex<0){return;}var _b;var _c=this._client_width;var _d=this._client_height;var _e= -1;var _f=0;var _g=this._buttonRect;var _h=this._getTabPosition();if(_h=="top"){for(var _i=1;_i<_a;_i++ ){_f=(_i+this.tabindex)%_a;var _j=_g[_f];if(!_j){break;}if(_j.bottom<_g[this.tabindex].bottom){return;}else if(_j.bottom>_g[this.tabindex].bottom){_e=(_i+this.tabindex)%_a;break;}}if(_e== -1){return;}var _k=_g[_e].top;var _l=0,_m=0;for(var _i=0;_i<_a;_i++ ){_f=(_i+_e)%_a;var _j=_g[_f];if(!_j){break;}if(_j.top!=_k){_m=_l;_k=_j.top;_l=0;}_j.bottom=_m+(_j.bottom-_j.top);_j.top=_m;if(_j.bottom>_l){_l=_j.bottom;}}}else if(_h=="bottom"){for(var _i=1;_i<_a;_i++ ){_f=(_i+this.tabindex)%_a;var _j=_g[_f];if(!_j){break;}if(_j.bottom>_g[this.tabindex].bottom){return;}else if(_j.bottom<_g[this.tabindex].bottom){_e=(_i+this.tabindex)%_a;break;}}if(_e== -1){return;}var _n=_g[_e].bottom;var _o=_d;var _p=_d;for(var _i=0;_i<_a;_i++ ){_f=(_i+_e)%_a;var _j=_g[_f];if(!_j){break;}if(_j.bottom!=_n){_p=_o;_n=_j.bottom;_o=_d;}_j.top=_p-(_j.bottom-_j.top);_j.bottom=_p;if(_j.top<_o){_o=_j.top;}}}else if(_h=="left"){for(var _i=1;_i<_a;_i++ ){_f=(_i+this.tabindex)%_a;var _j=_g[_f];if(!_j){break;}if(_j.right<_g[this.tabindex].right){return;}else if(_j.right>_g[this.tabindex].right){_e=(_i+this.tabindex)%_a;break;}}if(_e== -1){return;}var _q=_g[_e].left;var _r=0;var _s=0;for(var _i=0;_i<_a;_i++ ){_f=(_i+_e)%_a;var _j=_g[_f];if(!_j){break;}if(_j.left!=_q){_s=_r;_q=_j.left;_r=0;}_j.right=_s+(_j.right-_j.left);_j.left=_s;if(_j.right>_r){_r=_j.right;}}}else if(_h=="right"){for(var _i=1;_i<_a;_i++ ){_f=(_i+this.tabindex)%_a;var _j=_g[_f];if(!_j){break;}if(_j.right>_g[this.tabindex].right){return;}else if(_j.right<_g[this.tabindex].right){_e=(_i+this.tabindex)%_a;break;}}if(_e== -1){return;}var _t=_g[_e].right;var _u=_c;var _v=_c;for(var _i=0;_i<_a;_i++ ){_f=(_i+_e)%_a;var _j=_g[_f];if(!_j){break;}if(_j.right!=_t){_v=_u;_t=_j.right;_u=_c;}_j.left=_v-(_j.right-_j.left);_j.right=_v;if(_j.left<_u){_u=_j.left;}}}};_pTabComponent._set_child_focus=function(){var _a=this.tabindex;var _b=this._child_list;if(_b&&_b.length>0){var _c=_b[_a]._getSortedDecendants(_b[_a]);if(_c&&_c.length>0){for(var _d=0;_d<_c.length;_d++ ){if(_c[_d] instanceof nexacro.Grid){var _e=_c[_d]._selectinfo.curdsrow;if(_e== -1){_e=0;}_c[_d]._selectRow(_e,true);}}if(_b[_a]._last_focused){_b[_a]._on_focus(true);}else{_c[0]._on_focus(true);}}}};_pTabComponent._changeTabIndex=function(_a,_b){if(!this._is_created||this.tabindex==_a||(( +_a)!=( +_a))||_a<0||(this._child_list&&_a>=this._child_list.length)){return;}var _c=this.tabindex;if(_c> -1&&this.enableevent){var _l=this.on_fire_canchange(this,_a,_c);if(_l==false){this._tabButtons[_a]._stat_change("notselect","normal");this._tabButtons[_c]._setFocus(false);return false;}}var _d=_c> -1?this._child_list[_c]:undefined;var _e=this._child_list[_a];var _f=_c> -1?this._tabButtons[_c]:undefined;var _g=this._tabButtons[_a];if(_d){if(_d.enable){_f._stat_change("notselect","normal");}else{_f._stat_change("disable","disabled");}_d.set_visible(false);_f._setAccessibilityStatSelected(false);}this._oldtabindex=_c;this.tabindex=_a;if(this._isMultiLine()){this._rollButtonUp();}if(_e){if(!_e.visible){_e.set_visible(true);}if(_e._isLoaded==false&&this.preload==false){if(_e.url!=""&&_e.url!=undefined){_e._url=_e.url;_e.on_apply_url(false);_e._isLoaded=true;}}_g._setAccessibilityStatSelected(true);if(_b){_g._on_focus(true);}if(_e.enable){_e._stat_change(_e._status,_e._pseudo);}else{_e._stat_change("disable","disabled");}}else{if(_d){if(_f.enable){_f._stat_change("focus","focused");}else{_f._stat_change("disable","disabled");}_d.set_visible(true);}}var _h=this._getSpinSize();var _i=this._isSpinButtonVisible()?2:0;var _j=this._client_width-_h[0]*_i;var _k=_j-(Math.ceil(this._getToolBarSize())|0)-(_h[0]*_i)-2;if(this._tabButtons.length-1==_a&&this.spindownbutton.enable==true){this.spindownbutton.set_enable(false);this.spinupbutton.set_enable(true);}else if(_a==0&&this.spinupbutton.enable==true){this.spinupbutton.set_enable(false);this.spindownbutton.set_enable(true);}else{if(!this.spinupbutton.enable){this.spinupbutton.set_enable(true);}if(!this.spindownbutton.enable){this.spindownbutton.set_enable(true);}}if(_a<this._scrollIndex||(this._lastIndex!= -1&&_a>this._lastIndex)){var _m=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _n=_m.left+_m.right;var _o=0;this._scrollIndex=0;var _p=this._buttonRect;for(var _q=_a;_q>=0;_q-- ){var _r=_p[_q];_o+=(Math.ceil(_r.right-_r.left)|0)+_n;if(_o>_j){this._scrollIndex=_q+1;this._lastIndex=_a;break;}}}this._rearrangeButton();this._drawButton();this._rearrangeBorder();if(this._isBtnFocusAcceptable()&&this._focusobj instanceof nexacro.TabButtonCtrl){this._focusobj._setFocus(false);}else{this._set_child_focus();}if(nexacro._accessibilitywholereadtype>1){_e._playAccessibilityWholeReadLabel("wholeread");}return true;};_pTabComponent._resetLastIndex=function(){this._lastIndex= -1;var _a=this._child_list.length;if(_a<=0||this._isMultiLine()){return;}var _b=this._client_width;var _c=this._client_height;var _d=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _e=0,_f=0,_g=0,_h=0;if(_d!=null){_h=_d.left;_e=_d.top;_f=_d.right;_g=_d.bottom;}var _i=this.on_find_CurrentStyle_buttonpadding(this._pseudo);var _j=0,_k=0,_l=0,_m=0;if(_i){_m=_i.left;_j=_i.top;_k=_i.right;_l=_i.bottom;}var _n;var _o;_o=this._getSpinSize();var _p=_b-(Math.ceil(this._getToolBarSize())|0)-2*_o[0]-2;var _q=_c-(Math.ceil(this._getToolBarSize())|0)-2*_o[1]-2;var _r=0,_s=0;switch(this._getTabPosition()){case "top":case "bottom":var _t=this._buttonWidth;var _u=0;var _v=this._isExtraButton();for(var _w=this._scrollIndex;_w<_a;_w++ ){_s+=_t[_w];_u=_v?this.extrabutton._client_width:0;if(_s+(_h+_f)*_w+(_m+_k)*_w+_u*_w>_p){break;}this._lastIndex=_w;}break;case "left":case "right":var _x=this._buttonHeight;for(var _w=this._scrollIndex;_w<_a;_w++ ){_s+=Math.ceil(_x[_w])|0;if(_s+(_e+_g)*_w+(_j+_l)*_w>_q){break;}this._lastIndex=_w;}break;}};_pTabComponent._resetScrollIndex=function(_a){this._scrollIndex= -1;this._lastIndex= -1;var _b=this._child_list.length;if(_b<=0||this._isMultiLine()){return;}if(!this._buttonRect||this._buttonRect.length==0||this._buttonRect.length!=this._child_list.length){return;}var _c=this._client_width;var _d=this._client_height;var _e=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _f=0,_g=0,_h=0,_i=0;if(_e!=null){_i=_e.left;_f=_e.top;_g=_e.right;_h=_e.bottom;}var _j;var _k;_k=this._getSpinSize();var _l=_c-Math.ceil(this._getToolBarSize())-2*_k[0]-2;var _m=_d-Math.ceil(this._getToolBarSize())-2*_k[1]-2;var _n=0,_o;var _p=this._buttonRect;switch(this._getTabPosition()){case "top":case "bottom":for(var _q=0;_q<_b&&this._scrollIndex== -1;_q++ ){for(var _r=_q;_r<_b;_r++ ){_n=_p[_q].left;_o=_p[_r].right;_o-=_n;if(_o+_i>_l){if(this._scrollIndex!= -1){return;}if(this._isSpinButtonVisible()){break;}}if(_r==_a){this._scrollIndex=_q;}this._lastIndex=_r;}}break;case "left":case "right":for(var _q=0;_q<_b&&this._scrollIndex== -1;_q++ ){for(var _r=_q;_r<_b;_r++ ){_n=_p[_q].top;_o=_p[_r].bottom;_o-=_n;if(_o+_f>_m){if(this._scrollIndex!= -1){return;}break;}if(_r==_a){this._scrollIndex=_q;}this._lastIndex=_r;}}break;}};_pTabComponent._getTabIndex=function(){return this.tabindex;};_pTabComponent._getButtonRect=function(_a,_b){if(_a!= -1){if(this._buttonRect==null){return;}var _c=this._buttonRect[_a];var _d=this.on_find_CurrentStyle_buttonmargin(this._pseudo);var _e=0,_f=0,_g=0,_h=0;var _i=0,_j=0;if(_d!=null){_h=_d.left;_e=_d.top;_f=_d.right;_g=_d.bottom;}if(this._scrollIndex>=0){var _k=this._buttonWidth;var _l=0;switch(this._getTabPosition()){case "top":case "bottom":{if(this._spinflagup){_i=_k[this._scrollIndex]+_f;}else if(this._spinflagdown){_i=_k[this._scrollIndex-1]+_f;}break;}case "left":case "right":{_j=this._buttonHeight[this._scrollIndex];break;}}}if(this._spinflagup){_c.left+=_i;_c.right+=_i;_c.top+=_j;_c.bottom+=_j;}else if(this._spinflagdown){_c.left-=_i;_c.right-=_i;_c.top-=_j;_c.bottom-=_j;}}else{var _m=this._child_list.length;for(var _n=0;_n<_m;_n++ ){this._getButtonRect(_n);}}};_pTabComponent._isBtnFocusAcceptable=function(){return nexacro._toBoolean(this.focusacceptable);};_pTabComponent._spinup=function(){if(this._isSpinUpEnable()){this._getButtonRect( -1,true);this._scrollIndex-- ;this._resetLastIndex();this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());this._spinflagup=true;this._getButtonRect( -1,true);this._spinflagup=false;this._drawButton();this._rearrangeBorder();if(this._isBtnFocusAcceptable()&&this._setFocusTabButton){this._setFocusTabButton(this._scrollIndex,this._scrollIndex+1);}}};_pTabComponent._spindown=function(){if(this._isSpinDownEnable()){this._getButtonRect( -1,true);this._scrollIndex++ ;this._resetLastIndex();this.spinupbutton.set_enable(this._isSpinUpEnable());this.spindownbutton.set_enable(this._isSpinDownEnable());this._spinflagdown=true;this._getButtonRect( -1,true);this._spinflagdown=false;this._drawButton();this._rearrangeBorder();if(this._isBtnFocusAcceptable()&&this._setFocusTabButton){this._setFocusTabButton(this._scrollIndex,this._scrollIndex-1);}}};_pTabComponent._isSpinUpEnable=function(){if(this._scrollIndex>0&&this._isMultiLine()!=true){return true;}else{return false;}};_pTabComponent._isSpinDownEnable=function(){if(this._lastIndex<this._child_list.length-1&&this._isMultiLine()!=true){return true;}else{return false;}};_pTabComponent._isSpinButtonVisible=function(){if(this.spindownbutton.visible||this.spinupbutton.visible){return true;}else{return false;}};_pTabComponent._recalcLayout=function(){if(this._org_status=="notfocus"){this._pre_scrollIndex=this._scrollIndex;}else{this._pre_scrollIndex= -1;}this._rearrangeButton();this._drawButton();this._resetScrollIndex(this.tabindex);if(this._pre_scrollIndex!= -1){this._setScrollIndex(this._pre_scrollIndex);}this._rearrangeButton();};_pTabComponent._keydown_filter=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._child_list.length;if(_i<=0){return false;}var _j=this._getTabIndex();var _k=this.tabindex;var _l= -1;switch(_b){case 9:if(_d==true&&this.usecontrolkey){{if(_e!=true){if(_j<_i-1){_l=_j+1;}else{_l=0;}}else{if(_j>0){_l=_j-1;}else{_l=_i-1;}}if(this._focusobj instanceof nexacro.TabButtonCtrl){this._setTabFocusObj(this._tabButtons[_l]);}else if(this._focusobj instanceof nexacro.Tabpage){this._setTabFocusObj(this._child_list[_l]);}break;}}else{if(this._focusobj instanceof nexacro.TabComponent){if(_e==false){if(this._isBtnFocusAcceptable()==true){this._setTabFocusObj(this._tabButtons[_j]);this._setFocusTabButton();}else{var _m=this._child_list[_j];var _n=this._getTabFocusObj()._getTabOrderFirst();if(_n){if(_m instanceof nexacro.Form&&_m._last_focused){var _o=this._getWindow();_o._removeFromCurrentFocusPath(_m._last_focused);}_n._setFocus(false,0);}this._setTabFocusObj(_m);}}else{var _p=this.parent._searchPrevTabFocus(this);if(_p){if(_p[0]==null){if(_p[2]==1){var _q=application.accessibilitylastovertext;nexacro.__notifyAccessibility(this._control_element,_q);}else if(_p[2]== -1){var _q=application.accessibilityfirstovertext;nexacro.__notifyAccessibility(this._control_element,_q);}}else{if(_p[0] instanceof nexacro.Form&&_p[0]._last_focused){var _o=this._getWindow();_o._removeFromCurrentFocusPath(_p[0]._last_focused);}_p[0]._setFocus(true,1,true);}}}}else if(this._focusobj instanceof nexacro.TabButtonCtrl){if(_e==false){var _r=this._child_list[_j];var _p=_r._searchNextTabFocus(_r._last_focused,undefined,undefined,false);if(_p&&_p[0]){_p[0]._setFocus(true,0,true);this._setFocusTabButton( -1,this.tabindex);}this._setTabFocusObj(_r);}else{return false;}}else if(this._focusobj instanceof nexacro.Tabpage){var _s=this._focusobj._getLastFocused();var _n=this._focusobj._getTabOrderFirst();var _t=undefined;if(_s){_t=_s._getDlgCode(_b,_c,_d,_e);}if(!_t||(_t.want_tab==false)){if(_e==false){if(_s==null&&_n){_n._setFocus(false,0);}else{var _u=this._focusobj._searchNextTabFocus(_s);if(_u&&_u[0]){_u[0]._setFocus(false,0);}}}else{if(_s==null){if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[_j]);}else{this._setTabFocusObj(this);}this._focusobj._setFocus(false,1);}else if(_s==_n){if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[_j]);}else{this._setTabFocusObj(this);}this._focusobj._setFocus(false,1);}else{var _v=this._focusobj._searchPrevTabFocus(_s);if(_v&&_v[0]){_v[0]._setFocus(false,1);}}}}}return true;}break;case 8:if(_d==true&&this.usecontrolkey){this.on_fire_onextrabuttonclick(this,_j,"",false,false,false, -1, -1, -1, -1, -1, -1,this,this);return true;}break;case 38:{if(nexacro._enableaccessibility){var _w=this._focusobj;var _x;if(_w instanceof nexacro.TabButtonCtrl){if(this._isAccessibilityEnable()){_x=this;}if(_x){_x._setFocus(true,3,true);this._setTabFocusObj(_x);}else{return false;}}else if(_w instanceof nexacro.Tabpage){var _s=_w._getLastFocused();if(_s){var _y=_s._getDlgCode(_b,_c,_d,_e);if(_y.want_arrows==false){_x=_w._searchPrevTabFocus(_w._last_focused,undefined,undefined,true)[0];if(_x){if(_x==_w){var _o=_x._getWindow();_o._removeFromCurrentFocusPath(_x);_x._setFocus(true,3,true);this._setTabFocusObj(_x);}else{_x._setFocus(true,3,true);}}else{return false;}}}else{if(_w.parent._isBtnFocusAcceptable()){_x=_w.parent._tabButtons[_w.parent.tabindex];}else{_x=_w.parent;}if(_x){_x._setFocus(true,3,true);this._setTabFocusObj(_x);}else{return false;}}}return true;}}break;case 40:{if(nexacro._enableaccessibility){var _w=this._focusobj;var _x;var _z=null;if(_w instanceof nexacro.Tab){if(this._isBtnFocusAcceptable()){_x=this._tabButtons[this.tabindex];}else{_x=this.tabpages[this.tabindex];if(_x._last_focused){_x._last_focused=null;}if(!_x._isAccessibilityEnable()){_z=_x._searchNextTabFocus(_w._last_focused,undefined,undefined,true);}}}else if(_w instanceof nexacro.TabButtonCtrl){_x=this.tabpages[this.tabindex];if(_x._last_focused){_x._last_focused=null;}if(!_x._isAccessibilityEnable()){_z=_x._searchNextTabFocus(_w._last_focused,undefined,undefined,true);}}else if(_w instanceof nexacro.Tabpage){var _s=_w._getLastFocused();var _t=undefined;if(_s){_t=_s._getDlgCode(_b,_c,_d,_e);}if(!_t||_t.want_arrows==false){_z=_w._searchNextTabFocus(_w._last_focused,undefined,undefined,true);}}if(_z&&_z[0]){_x=_z[0];_x._setFocus(true,2,true);}else{if(_x){_x._setFocus(true,2,true);this._setTabFocusObj(_x);}}return true;}}break;case 39:if(this._isBtnFocusAcceptable()&&_d==false){var _w=this._focusobj;if(_w instanceof nexacro.TabButtonCtrl){if(_j<_i-1){_l=_j+1;}else{_l=0;}this._setTabFocusObj(this._tabButtons[_l]);}}break;case 37:if(this._isBtnFocusAcceptable()&&_d==false){var _w=this._focusobj;if(_w instanceof nexacro.TabButtonCtrl){if(_j>0){_l=_j-1;}else{_l=_i-1;}this._setTabFocusObj(this._tabButtons[_l]);}}break;default:break;}if(_l> -1){if(this._changeTabIndex(_l,true)==true){if(this.enableevent){this.on_fire_onchanged(this,_l,_k);}if(this._setFocusTabButton){this._setFocusTabButton(_l,_k);}this._changeScrollIndex(_l);}}};_pTabComponent._setElementBorder=function(_a,_b,_c,_d){if(!_b){return;}var _e=_b.clone();var _f=this._getTabPosition();_e._linecnt=1;_e._copytoSubObjects();_e._linecnt=4;{if(_f=="top"){_e.set_top_width("0");}else if(_f=="bottom"){_e.set_bottom_width("0");}else if(_f=="left"){_e.set_left_width("0");}else if(_f=="right"){_e.set_right_width("0");}_a.setElementBorder(_e,_c);}};delete _pTabComponent;}if(!nexacro.Tab_Style){nexacro.Tab_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};var _pTabStyle=nexacro.Tab_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.Tab_style);eval(nexacro._createBackgroundAttributeEvalStr("_pTabStyle","buttonbackground"));eval(nexacro._createGradationAttributeEvalStr("_pTabStyle","buttongradation"));eval(nexacro._createBorderAttributeEvalStr("_pTabStyle","buttonborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pTabStyle","buttonbordertype"));eval(nexacro._createPaddingAttributeEvalStr("_pTabStyle","buttonpadding"));eval(nexacro._createMarginAttributeEvalStr("_pTabStyle","buttonmargin"));eval(nexacro._createValueAttributeEvalStr("_pTabStyle","showextrabutton"));eval(nexacro._createValueAttributeEvalStr("_pTabStyle","focusborder"));_pTabStyle.__custom_emptyObject=function(){this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};_pTabStyle.__get_custom_style_value=function(){var _a="";if(this.buttonbackground&&this.buttonbackground._value.length){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._value.length){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonborder&&this.buttonborder._value.length){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._value.length){_a+="buttonbordertype:"+this.buttonbordertype._value+"; ";}if(this.buttonpadding&&this.buttonpadding._value.length){_a+="buttonpadding:"+this.buttonpadding._value+"; ";}if(this.buttonmargin&&this.buttonmargin._value.length){_a+="buttonmargin:"+this.buttonmargin._value+"; ";}if(this.showextrabutton&&this.showextrabutton._value.length){_a+="showextrabutton:"+this.showextrabutton._value+"; ";}if(this.focusborder&&this.focusborder._value.length){_a+="focusborder:"+this.focusborder._value+"; ";}return _a;};_pTabStyle._update_background=function(_a){var _b=this._target;if(_b){if(_a==1){_b.on_update_style_buttonbackground();}else{_b.on_update_style_background();}if(this.buttonbackground&&this.buttonbackground.image&&_b.imagewidth==0&&_b.imageheight==0){_b._getImgSize();}}};_pTabStyle._update_border=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttonborder();}else{this._target.on_update_style_border();}}};_pTabStyle._update_bordertype=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttonbordertype();}else{this._target.on_update_style_bordertype();}}};_pTabStyle._update_gradation=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttongradation();}else{this._target.on_update_style_gradation();}}};_pTabStyle._update_style_padding=function(_a){if(this._target){if(_a==1){this._target.on_update_style_buttonpadding();}else{this._target.on_update_style_padding();}}};delete _pTabStyle;nexacro.Tab_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};var _pTabCurrentStyle=nexacro.Tab_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Tab_CurrentSTyle);_pTabCurrentStyle.__get_custom_style_value=function(){var _a="";if(this.buttonbackground&&this.buttonbackground._value.length){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttongradation&&this.buttongradation._value.length){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._value.length){_a+="buttonbordertype:"+this.buttonbordertype._value+"; ";}if(this.buttonborder&&this.buttonborder._value.length){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttonpadding&&this.buttonpadding._value.length){_a+="buttonpadding:"+this.buttonpadding._value+"; ";}if(this.buttonmargin&&this.buttonmargin._value.length){_a+="buttonmargin:"+this.buttonmargin._value+"; ";}if(this.showextrabutton&&this.showextrabutton._value.length){_a+="showextrabutton:"+this.showextrabutton._value+"; ";}if(this.focusborder&&this.focusborder._value.length){_a+="focusborder:"+this.focusborder._value+"; ";}return _a;};_pTabCurrentStyle.__custom_emptyObject=function(){this.buttonbackground=null;this.buttongradation=null;this.buttonborder=null;this.buttonbordertype=null;this.buttonpadding=null;this.buttonmargin=null;this.showextrabutton=null;this.focusborder=null;};delete _pTabCurrentStyle;}if(!nexacro.Tab){nexacro.Tab=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TabComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.preload=false;this.tabpages=new nexacro.Collection();this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onchanged":1,"onspin":1,"canchange":1,"oneditclick":1,"onextrabuttonclick":1,"onmouseup":1,"onmousedown":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1};this._tabbutton_obj=null;if(_g){this._orgwidth=_g-_c;}else{this._orgwidth=_e;}if(_h){this._orgheight=_h-_d;}else{this._orgheight=_f;}};var _pTab=nexacro.Tab.prototype=nexacro._createPrototype(nexacro.TabComponent,nexacro.Tab);_pTab._type_name="Tab";nexacro.Tab._default_showextrabutton=nexacro._getCachedStyleObj("showextrabutton","false");_pTab.killTimer=null;_pTab.setTimer=null;_pTab.loadStyle=null;_pTab.setWaitCursor=null;_pTab._accessibility_tabindex= -1;_pTab._accessibility_is_next=false;_pTab.on_create_custom_style=function(){return new nexacro.Tab_Style(this);};_pTab.on_create_custom_currentStyle=function(){return new nexacro.Tab_CurrentStyle();};_pTab.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=false;var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;_c=true;}var _e=this.on_find_CurrentStyle_color(_a);if(_b.color!=_e){_b.color=_e;_c=true;}var _f=this.on_find_CurrentStyle_buttonbackground(_a);if(_b.buttonbackground!=_f){_b.buttonbackground=_f;_c=true;}var _g=this.on_find_CurrentStyle_buttongradation(_a);if(_b.buttongradation!=_g){_b.buttongradation=_g;_c=true;}var _h=this.on_find_CurrentStyle_buttonborder(_a);if(_b.buttonborder!=_h){_b.buttonborder=_h;_c=true;}var _i=this.on_find_CurrentStyle_buttonbordertype(_a);if(_b.buttonbordertype!=_i){_b.buttonbordertype=_i;_c=true;}var _j=this.on_find_CurrentStyle_buttonmargin(_a);if(_b.buttonmargin!=_j){_b.buttonmargin=_j;_c=true;}if(_c){this._updateAllTabButton(_a);}var _k=this.on_find_CurrentStyle_buttonpadding(_a);if(_b.buttonpadding!=_k){_b.buttonpadding=_k;this.on_apply_style_buttonpadding(_k);}var _l=this.on_find_CurrentStyle_showextrabutton(_a);if(_b.showextrabutton!=_l){_b.showextrabutton=_l;this.on_apply_style_showextrabutton(_l);}var _m=this.on_find_CurrentStyle_focusborder(_a);if(_b.focusborder!=_m){_b.focusborder=_m;this.on_apply_style_focusborder(_m);}};_pTab._updateAllTabButton=function(_a){var _b=this._tabButtons;var _c=this._child_list;var _d=_b.length;_a=(_a==null||_a=="focused")?"normal":_a;if(_a=="mouseover"){return;}for(var _e=0;_e<_d;_e++ ){var _f=_c[_e];if(_f.enable){this._tabButtons[_e]._updateAll(_a);}else{this._tabButtons[_e]._status="disable";this._tabButtons[_e]._updateAll("disabled");}}};_pTab.on_find_CurrentStyle_buttonbackground=function(_a){return this._find_pseudo_obj("buttonbackground",_a,"background");};_pTab.on_find_CurrentStyle_buttongradation=function(_a){return this._find_pseudo_obj("buttongradation",_a,"gradation");};_pTab.on_find_CurrentStyle_buttonborder=function(_a){return this._find_pseudo_obj("buttonborder",_a,"border");};_pTab.on_find_CurrentStyle_buttonbordertype=function(_a){var _b=this._find_pseudo_obj("buttonbordertype",_a,"bordertype");return (_b)?_b:null;};_pTab.on_find_CurrentStyle_buttonpadding=function(_a){var _b=this._find_pseudo_obj("buttonpadding",_a,"padding");return (_b)?_b:nexacro.Component._default_padding;};_pTab.on_find_CurrentStyle_buttonmargin=function(_a){var _b=this._find_pseudo_obj("buttonmargin",_a,"margin");return (_b)?_b:nexacro.Component._default_margin;};_pTab.on_find_CurrentStyle_showextrabutton=function(_a){var _b=this._find_pseudo_obj("showextrabutton",_a);return (_b)?_b:nexacro.Tab._default_showextrabutton;};_pTab.on_find_CurrentStyle_focusborder=function(_a){return this._find_pseudo_obj("focusborder",_a,"border");};_pTab.on_find_CurrentStyle_border=function(_a){var _b=this._find_pseudo_obj("border",_a,"border");if(this._tabpagearea&&_b){var _c=_b.clone();_c._linecnt=4;_c.set_top_width("0");_c.set_right_width("0");_c.set_bottom_width("0");_c.set_left_width("0");this.getElement().setElementBorder(_c,this.currentstyle.bordertype);}return _b;};_pTab.on_update_style_buttonbackground=function(){this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo));};_pTab.on_update_style_buttongradation=function(){this.on_apply_style_buttongradation(this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo));};_pTab.on_update_style_buttonborder=function(){this.on_apply_style_buttonborder(this.currentstyle.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo));};_pTab.on_update_style_buttonbordertype=function(){this.on_apply_style_buttonbordertype(this.currentstyle.buttonbordertype=this.on_find_CurrentStyle_buttonbordertype(this._pseudo));};_pTab.on_update_style_buttonpadding=function(){this.on_apply_style_buttonpadding(this.currentstyle.buttonpadding=this.on_find_CurrentStyle_buttonpadding(this._pseudo));};_pTab.on_update_style_buttonmargin=function(){this.on_apply_style_buttonmargin(this.currentstyle.buttonmargin=this.on_find_CurrentStyle_buttonmargin(this._pseudo));};_pTab.on_update_style_showextrabutton=function(){this.on_apply_style_showextrabutton(this.currentstyle.showextrabutton=this.on_find_CurrentStyle_showextrabutton(this._pseudo));};_pTab.on_update_style_focusborder=function(){this.on_apply_style_focusborder(this.currentstyle.focusborder=this.on_find_CurrentStyle_focusborder(this._pseudo));};_pTab.on_update_style_font=function(){var _a=null;var _b=this._tabButtons.length;for(var _c=0;_c<_b;_c++ ){_a=this._tabButtons[_c];_a.on_apply_style_font(this.style.font);}};_pTab.on_apply_style_buttonbackground=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_buttongradation=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_buttonborder=function(_a){this._updateAllTabButton();this._recalcLayout();};_pTab.on_apply_style_buttonbordertype=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_buttonpadding=function(_a){this._updateAllTabButton();this._recalcLayout();};_pTab.on_apply_style_buttonmargin=function(_a){this._updateAllTabButton();};_pTab.on_apply_style_showextrabutton=function(_a){var _b=this._isExtraButton();if(_b&&this._tabextrabuttons.length<=0){var _c=this._tabButtons.length;for(var _d=0;_d<_c;_d++ ){var _e=this._createtabextrabutton(_d);_e.createComponent();}}else if(!_b){var _f=this._tabextrabuttons;var _c=0;if(_f){_c=_f.length;}for(var _d=0;_d<_c;_d++ ){_f[_d].set_visible(false);}}this._recalcLayout();};_pTab.on_apply_style_focusborder=function(_a){if(this._isBtnFocusAcceptable()){this._setFocusTabButton();}};_pTab.on_apply_style_color=function(_a){this._updateAllTabButton();};_pTab.on_apply_prop_enable=function(_a){var _b=this._tabButtons;var _c=this._child_list;var _d=this._tabextrabuttons;var _e=_a;if(_a==undefined){_e=this.enable;}var _f=_b.length;if(_f>0){for(var _g=0;_g<_f;_g++ ){_b[_g].enable=_e;_b[_g]._setEnable(_e);if(this.tabindex==_g&&_e==true){if(_b[_g]._pseudo!="selected"){_b[_g]._stat_change("focus","focused");}}_c[_g].set_enable(_e);if(_d.length>0){_d[_g]._setEnable(_e);}}}if(!_e){if(this.spinupbutton){this.spinupbutton.set_enable(_e);}if(this.spindownbutton){this.spinupbutton.set_enable(_e);}}};_pTab.on_create_contents=function(){var _a=this.getElement();_a.setElementSize(this._adjust_width,this._adjust_height);};_pTab.on_created_contents=function(){var _a=this.getElement();if(_a){this._getImgSize();this._tabpagearea=new nexacro.TabPageArea("tabpagearea",this.position,0,0,0,0,null,null,this);this._tabpagearea.createComponent();this._createSubComp();this.on_apply_style_buttonbordertype(this.currentstyle.buttonbordertype);this.on_apply_style_buttonbackground(this.currentstyle.buttonbackground);this.on_apply_addChild();this._is_created=true;this.on_apply_tabindex();this.on_apply_prop_rtldirection();}};_pTab.on_destroy_contents=function(){if(this._timerManager){this._timerManager.destroy();this._timerManager=null;}if(this._load_manager){var _e=this._load_manager;var _f=_e.transactionList;if(_f){for(var _g=_f.length-1;_g>=0;_g-- ){var _h=_f[_g];if(_h._usewaitcursor){_h._hideWaitCursor(this);}_h=null;}_f=null;}this._load_manager.destroy();this._load_manager=null;}if(this._bind_manager){this._bind_manager.destroy();this._bind_manager=null;}if(this._tabpagearea){this._tabpagearea.destroy();this._tabpagearea=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}var _a=this._tabButtons;var _b;var _c=_a.length;for(var _g=0;_g<_c;_g++ ){_b=_a[_g];if(_b){_b.destroy();_a[_g]=null;}}_a=this._tabButtonBorders;_c=_a.length;for(var _g=0;_g<_c;_g++ ){_b=_a[_g];if(_b){_b.destroy();_a[_g]=null;}}_a=this._tabButtonLeftBorders;_c=_a.length;for(var _g=0;_g<_c;_g++ ){_b=_a[_g];if(_b){_b.destroy();_a[_g]=null;}}_a=this._tabBorders;_c=_a.length;for(var _g=0;_g<_c;_g++ ){_b=_a[_g];if(_b){_b.destroy();_a[_g]=null;}}_a=this._tabextrabuttons;_c=_a.length;for(var _g=0;_g<_c;_g++ ){_b=_a[_g];if(_b){_b.destroy();_a[_g]=null;}}_a=this.components;_c=_a.length;for(var _g=0;_g<_c;_g++ ){var _i=_a.get_id(0);if(this[_i]){this[_i]._is_loaded=false;if(this[_i].destroy){this[_i].destroy();}}}var _d=this.tabpages;var _c=_d.length;for(var _g=0;_g<_c;_g++ ){_d[_g]=null;}this.tabpages=null;_d=null;delete this._tabButtons;delete this._tabButtonBorders;delete this._tabButtonLeftBorders;delete this._tabBorders;delete this._tabextrabuttons;if(this._tabbutton_obj){this._tabbutton_obj=null;}this._buttonWidth=null;this._buttonRect=null;this._buttonHeight=null;this._layout_list.clear();this._layout_list=null;this.binds=null;this.objects=null;this._find_csslist=null;this._css_selectors=null;this._cssfinder_cache=null;this._child_list=null;this._executescriptlist=null;this._includescriptlist=null;this._hotkey_list=null;this._load_callbacklist=null;this.all.clear();this.all=null;this.components.clear();this.components=null;};_pTab.on_change_containerRect=function(_a,_b){this._recalcLayout();this._stat_change(this._status,this._pseudo);};_pTab.on_apply_custom_setfocus=function(_a){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);if(!this._focusobj){if(nexacro._enableaccessibility){if(this._isAccessibilityEnable()){this._setTabFocusObj(this);}else{if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[this.tabindex]);}else{this._setTabFocusObj(this._child_list[this.tabindex]);if(this._focusobj._isAccessibilityEnable()){this._focusobj._setFocus(false);}else{var _b=this._focusobj._getTabOrderFirst();if(_b){_b._setFocus(false);}}}}}else{if(this._isBtnFocusAcceptable()){this._setTabFocusObj(this._tabButtons[this.tabindex]);this._setFocusTabButton();}else{this._setTabFocusObj(this._child_list[this.tabindex]);}}}};_pTab._stat_change=function(_a,_b){this._org_status=_a;this.on_change_status(_a,_b);if(this._tabpagearea&&this.currentstyle.border){var _c=this.currentstyle.border.clone();_c._linecnt=4;_c.set_top_width("0");_c.set_right_width("0");_c.set_bottom_width("0");_c.set_left_width("0");this.getElement().setElementBorder(_c,this.currentstyle.bordertype);}};_pTab.set_preload=function(_a){if(_a===false||_a=="false"){this.preload=false;}else{this.preload=true;}};_pTab.set_tabpages=function(_a){};_pTab.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireUserEvent(this,_n);}return false;};_pTab.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmousedown&&this.onmousedown._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmousedown._fireSysEvent(this,_n);}return false;};_pTab.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pTab.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onmouseup&&this.onmouseup._has_handlers){var _m=this._getRootComponent(_k);if(_k instanceof nexacro.Tabpage){_m=_k;}var _n=new nexacro.MouseEventInfo(_m,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onmouseup._fireSysEvent(this,_n);}return false;};_pTab._on_killfocus=function(_a,_b){if(_a===this){return;}if(_a==null&&_b==null){return;}this._focusobj=null;for(i=0;i<this._tabButtonBorders.length;i++ ){this._tabButtonBorders[i].set_visible(false);}if(this._focusobj instanceof nexacro.TabButtonCtrl){this._setFocusTabButton( -1,this.tabindex);}};_pTab.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=false;if(this.onkeydown&&this.onkeydown._has_handlers){var _h=this._child_list[this.tabindex];var _i=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_h,_h);_g=this.onkeydown._fireUserEvent(this,_i);}if(!this.onkeydown||(this.onkeydown&&!this.onkeydown.defaultprevented)){if(_a==nexacro.Event.KEY_TAB){if(this._keydown_filter(null,_a,_b,_c,_d,undefined,_e,_f)){this._getWindow()._keydown_element._event_stop=true;return true;}}else if(nexacro._enableaccessibility){if(_a==nexacro.Event.KEY_DOWN||_a==nexacro.Event.KEY_UP){if(this._keydown_filter(null,_a,_b,_c,_d,undefined,_e,_f)){return true;}}}}return _g;};_pTab.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.onkeydown&&this.onkeydown._has_handlers){var _g=this._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_g,_g);return this.onkeydown._fireSysEvent(this,_h);}return false;};_pTab.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=this._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(_g,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireUserEvent(this,_h);}return false;};_pTab.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){if(this.onkeyup&&this.onkeyup._has_handlers){var _g=this._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(_g,"onkeyup",_b,_c,_d,_a,_e,_f);return this.onkeyup._fireSysEvent(this,_h);}return false;};_pTab._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._tabbutton_obj=null;return nexacro.Component.prototype._on_lbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pTab._on_btn_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._tabbutton_obj=_a;var _n=nexacro.Component.prototype._on_lbuttondown.call(this,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._setTabFocusObj(this._tabButtons[_a._index]);return _n;};_pTab._on_btn_touchstart=function(_a,_b,_c,_d,_e,_f,_g){this._tabbutton_obj=_a;var _h=nexacro.Component.prototype._on_touchstart.call(this,_b,_c,_d,_e,_f,_g);this._setTabFocusObj(_a);return _h;};_pTab._on_focus=function(_a,_b,_c,_d,_e,_f){var _g=this._focus_direction;if(_b=="tabkey"){_g=0;}else if(_b=="shifttabkey"){_g=1;}else if(_b=="downkey"){_g=2;}else if(_b=="upkey"){_g=3;}nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(_g==2){if(!this._isAccessibilityEnable()){var _h;if(this._isBtnFocusAcceptable()){_h=this._tabButtons[this.tabindex];_h._setFocus(true);}else{_h=this.tabpages[this.tabindex];if(_h._isAccessibilityEnable()){_h._setFocus(true);}else{_h=_h._searchNextTabFocus(null,undefined,undefined,true);if(_h){_h[0]._setFocus(true);_h=_h[0];}else{_h=this;}}}if(_h){this._setTabFocusObj(_h);}}}};_pTab.on_get_prop_tabstop=function(){if(!this.tabstop){return false;}else{var _a=this._getSortedDecendants(this);if(_a&&_a.length>0){return true;}}return false;};_pTab._setTabFocusObj=function(_a){this._focusobj=_a;};_pTab._getTabFocusObj=function(){return this._focusobj;};_pTab._getTabOrderNext=function(_a,_b,_c,_d,_e,_f,_g){if(_b>0){return nexacro.FormBase.prototype._getTabOrderNext.call(this,_a,_b,_c,_d,_e,_f,_g);}else if(_b<0){if(this._isBtnFocusAcceptable()){return this._tabButtons[this.tabindex];}return this.tabpages[this.tabindex];}};_pTab._getTabOrderFirst=function(){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5&&this._accessibility_is_next){this._accessibility_is_next=false;return null;}if(this._isBtnFocusAcceptable()){return this._tabButtons[this.tabindex];}return this.tabpages[this.tabindex];};_pTab._on_btn_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype._on_mousemove.call(this._tabButtons[_a._index],_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pTab._on_btn_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype._on_mousemove.call(this._tabButtons[_a._index],_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pTab.on_touchstart_default_action=function(){if(this._tabbutton_obj){var _a=this._tabbutton_obj;var _b=_a._index;if(_a.name=="extrabutton"){_b=this._getExtrabuttonIdx(_a);if(_b>=0){this.on_fire_onextrabuttonclick(_a,_b);}}}};_pTab.on_touchstart_basic_action=function(_a,_b){nexacro.Component.prototype.on_touchstart_basic_action.call(this,_a,_b);if(!this.visible||this._isEnable()==false){return ret;}if(this._tabbutton_obj&&this.selectchangetype=="down"){var _c=this._tabbutton_obj;var _d=_c._index;if(_c.name=="extrabutton"){_d=this._getExtrabuttonIdx(_c);}oldindex=this.tabindex;this._iscanchange=this._changeTabIndex(_d,true);if(this._iscanchange==true){if(this.enableevent&&oldindex!=this.tabindex){this.on_fire_onchanged(_c,_d,oldindex);}}}if(this._isBtnFocusAcceptable()){this._setFocusTabButton();}};_pTab.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._tabbutton_obj){var _m=this._tabbutton_obj;var _n=_m._index;if(_m.name=="extrabutton"){_n=this._getExtrabuttonIdx(_m);if(_n>=0){this.on_fire_onextrabuttonclick(_m,_n,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}}}if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _o=new nexacro.TabMouseEventInfo(this,"onlbuttondown",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireUserEvent(this,_o);}return false;return ret;};_pTab.on_lbuttondown_default_action=function(_a,_b,_c,_d){var _e=nexacro.Component.prototype.on_lbuttondown_default_action.call(this,_a,_b,_c,_d);if(!this.visible||this._isEnable()==false){return _e;}var _f=this._tabbutton_obj;if(_f&&_f.name=="extrabutton"){if(this._tabButtons[_f._index]){this._tabButtons[_f._index]._setFocus();}}if(_f&&this.selectchangetype=="down"){var _g=_f._index;oldindex=this.tabindex;this._iscanchange=this._changeTabIndex(_g,true);if(this._iscanchange==true){if(this.enableevent&&oldindex!=this.tabindex){this.on_fire_onchanged(_f,_g,oldindex);}}}if(this._isBtnFocusAcceptable()){this._setFocusTabButton();}return _e;};_pTab._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._tabbutton_obj=null;return nexacro.Component.prototype._on_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pTab._on_btn_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._tabbutton_obj=null;return nexacro.Component.prototype._on_lbuttonup.call(this,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pTab._on_btn_touchend=function(_a,_b,_c,_d,_e,_f,_g){this._tabbutton_obj=_a;return nexacro.Component.prototype._on_touchend.call(this,_b,_c,_d,_e,_f,_g);};_pTab.on_lbuttonup_default_action=function(_a,_b,_c,_d){var _e=nexacro.Component.prototype.on_lbuttonup_default_action.call(this,_a,_b,_c,_d);if(!this.visible||this._isEnable()==false){return _e;}if(this._tabbutton_obj&&this.selectchangetype=="up"){this._onclick_basic_action(this._tabbutton_obj);}};_pTab.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.TabMouseEventInfo(this,"onlbuttonup",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pTab.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _m=new nexacro.TabMouseEventInfo(this,"onrbuttondown",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttondown._fireUserEvent(this,_m);}return false;};_pTab.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _n=new nexacro.TabMouseEventInfo(this,"onrbuttonup",this.tabindex,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onrbuttonup._fireUserEvent(this,_n);}return false;};_pTab._onclick_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=_a._index;if(_i==undefined){_i=this._getExtrabuttonIdx(_a);if(_i>=0&&_b==true){this.on_fire_onextrabuttonclick(_a,_i,"none",false,false,false,_e,_f,_c,_d, -1, -1,_g,_h);}}oldindex=this.tabindex;this._iscanchange=this._changeTabIndex(_i,true);if(this._iscanchange==true){if(this.enableevent&&oldindex!=this.tabindex){this.on_fire_onchanged(_a,_i,oldindex);}}};_pTab.on_fire_canchange=function(_a,_b,_c){this._is_canchange=true;if(this.canchange&&this.canchange._has_handlers){var _d=new nexacro.TabIndexChangeEventInfo(_a,"canchange",_b,_c);this._is_canchange=this.canchange._fireCheckEvent(this,_d);return this._is_canchange;}return true;};_pTab.on_fire_onchanged=function(_a,_b,_c){if(this.onchanged&&this.onchanged._has_handlers){var _d=new nexacro.TabIndexChangeEventInfo(this,"onchanged",_b,_c);return this.onchanged._fireEvent(this,_d);}return true;};_pTab.getParentContext=function(){return this.parent;};_pTab.insertTabpage=function(_a,_b,_c,_d){if(!this._is_created){return  -1;}var _e=parseInt(_b)|0;var _f=this._child_list.length;var _g=0;for(var _n=0;_n<_f;_n++ ){var _o=this._child_list[_n];if(_a==_o.text){return  -1;}}var _h=new nexacro.Tabpage(_a,this);this._createTabpage(_e,_a,_h);if(_h==null){return  -1;}if(_e>=_f){_e= -1;}_g=this.tabindex;if(this[_a]){if(this[_a].name==_h.name){return  -1;}}if(_e== -1){this[_a]=_h;this.all.add_item(_a,_h);this.components.add_item(_a,_h);this.tabpages.add_item(_a,_h);this._child_list.push(_h);this.tabindex=_e=this._child_list.length-1;this._tabpagearea.set_visible(true);this._tabBorders[0].set_visible(true);this._tabBorders[1].set_visible(true);this._tabBorders[2].set_visible(true);}else{this[_a]=_h;this.all.add_item(_a,_h);var _p=this._tabButtonBorders;var _q=this._tabextrabuttons;var _r=_q.length>0?true:false;for(_n=this._child_list.length;_n>_b;_n-- ){this._child_list[_n]=this._child_list[_n-1];this._buttonRect[_n]=this._buttonRect[_n-1];this._tabButtons[_n]=this._tabButtons[_n-1];this._tabButtons[_n]._index+=1;if(_r){_q[_n]=_q[_n-1];if(_q[_n]){_q[_n]._index+=1;}}this._buttonWidth[_n]=this._buttonWidth[_n-1];this._buttonHeight[_n]=this._buttonHeight[_n-1];_p[_n]=_p[_n-1];if(_q[_n]){_p[_n]._index+=1;}}if(_r){_q[_n]=null;}this._child_list[_b]=_h;this.tabpages.insert_item(_b,_a,_h);this.tabindex=_e;}if(_c){_h.set_url(_c);}if(parseInt(this.tabindex)==_e){var _s=this._child_list[_g];if(_s){_s.set_visible(false);}_h.set_visible(true);}else{_h.set_visible(false);}var _i=this._tabButtons[_e]=this._createTabbutton(_e);_i.createComponent();_h._index=_e;if(_d){_h.set_text(_d);}else{_h.set_text(_a);}this._buttonRect[_e]=this._getButtonSize(_e);this._buttonHeight[_e]=this._buttonRect[_e].bottom-this._buttonRect[_e].top;this._buttonWidth[_e]=this._buttonRect[_e].right-this._buttonRect[_e].left;if(this._tabButtons.length==1){this.tabindex=0;this._tabButtons[0]._stat_change("focus","focused");}var _j=null;var _k=0;_j=this.currentstyle.buttonmargin;if(_j){_k=_j.right;}for(var _n=this._child_list.length-1;_n>_e;_n-- ){this._buttonRect[_n].left+=this._buttonWidth[_e]+_k;this._buttonRect[_n].right+=this._buttonWidth[_e]+_k;}if(this._isExtraButton()){var _t=this._createtabextrabutton(_e);_t.createComponent();this.on_apply_style_showextrabutton(this.currentstyle.showextrabutton);}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;if(this._child_list.length==1){this.set_visible(true);}this._rearrangeButton();var _l=0;var _m=this._adjust_width;if(this.spinupbutton.visible){_m=this.spinupbutton.left;}if(_b<0||this._buttonRect[_e].right>_m){_l=0;this._lastIndex=_e;_l=this._buttonRect[_e].right;if(_l>_m){this._resetScrollIndex(_e);}}this._drawButton();return _e;};_pTab.removeTabpage=function(_a){var _b=parseInt(_a)|0;var _c=this._child_list;var _d=_c.length;if(_d==0){return  -1;}if(_d>0){var _f=_c[_b];if(!_f){return  -1;}var _g=_f._on_beforeclose();if(_f._checkAndConfirmClose(_g)==false){return  -1;}if(_f==this._last_focused){this._last_focused=null;}_f._on_close();if(_b+1!=_d){_c[_b+1].set_visible(true);}this[_f.id]=null;delete this[_f.id];this.all.delete_item(_f.id);this.components.delete_item(_f.id);this.tabpages.delete_item(_f.id);if(_c[_b]!=undefined){_c[_b].destroy();delete _c[_b];}var _h=this._tabButtons;if(_h[_b]!=undefined){if(_h[_b]==this._tabbutton_obj){this._tabbutton_obj=null;}if(_h[_b]==this._last_focused){this._last_focused=null;}_h[_b].destroy();delete _h[_b];}var _i=this._tabextrabuttons;if(_i[_b]!=undefined){if(_i[_b]==this._tabbutton_obj){this._tabbutton_obj=null;}if(_i[_b]==this._last_focused){this._last_focused=null;}_i[_b].parent=null;_i[_b].destroy();_i[_b]=null;delete _i[_b];}var _j=this._tabButtonBorders;if(_j[_b]!=undefined){_j[_b].parent=null;_j[_b].destroy();_j[_b]=null;delete _j[_b];}var _k=this._tabButtonLeftBorders;if(_k[_b]!=undefined){_k[_b].parent=null;_k[_b].destroy();delete _k[_b];}_c.splice(_b,1);_h.splice(_b,1);var _l=false;if(_i.length>0){_i.splice(_b,1);_l=true;}this._buttonRect.splice(_b,1);this._buttonWidth.splice(_b,1);this._buttonHeight.splice(_b,1);_j.splice(_b,1);_d=_c.length;for(var _m=0;_m<_d;_m++ ){_h[_m]._index=_m;_c[_m]._index=_m;if(_l){_i[_m]._index=_m;}_j[_m]._index=_m;}if(_i[_b]!=undefined){this._tabbutton_obj=null;}}if(this._scrollIndex!=0){this._scrollIndex-- ;}if(this._lastIndex!=0){this._lastIndex-- ;}if(_b!=0&&this.tabindex==_b&&this.tabindex==this._tabButtons.length){this.tabindex=_b-1;}else if(this.tabindex>_b){this.tabindex-=1;}var _e=_c[this.tabindex];if(_e&&_e._isLoaded==false&&this.preload==false){if(_e.url!=""&&_e.url!=undefined){_e._url=_e.url;_e.on_apply_url(false);_e._isLoaded=true;}}if(_b!=0&&this.tabindex==_b-1){_h[_b-1]._stat_change("focus","focused");}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;this._rearrangeButton();this._drawButton();if(_c.length==0){this.set_visible(false);}return 0;};_pTab.exchangeTabpage=function(_a,_b){var _c=this.currentstyle.buttonmargin;var _d=this._child_list;if(_d[_b]&&_d[_a]){var _e=_d[_a];_d[_a]=_d[_b];_d[_b]=_e;var _f=this._tabButtons;_e=_f[_a];_f[_a]=_f[_b];_f[_b]=_e;var _g=this._buttonRect;_e=_g[_a];_g[_a]=_g[_b];_g[_b]=_e;var _h=_a>_b?_b:_a;var _i=_a>_b?_a:_b;var _j=this._buttonRect[_h];var _k=this._buttonRect[_i];_j.left=_k.left;_j.right=_j.left+this._buttonWidth[_i];var _l=_g[_h].right-_g[_h+1].left+_c.right;if(_l!=_c.right){for(var _m=_h+1;_m<=_i;_m++ ){_g[_m].left+=_l;_g[_m].right+=_l;}}_k.left=_g[_i-1].right+_c.right;_k.right=_k.left+this._buttonWidth[_h];if(_g[_i+1]){_l=_g[_i].right-_g[_i+1].left+_c.right;if(_l!=_c.right){var _n=_g.length;for(var _m=_i+1;_m<_n;_m++ ){_g[_m].left+=_l;_g[_m].right+=_l;}}}var _o=this._tabextrabuttons;_e=_o[_a];_o[_a]=_o[_b];_o[_b]=_e;var _p=this._buttonWidth;_e=_p[_a];_p[_a]=_p[_b];_p[_b]=_e;var _q=this._buttonHeight;_e=_q[_a];_q[_a]=_q[_b];_q[_b]=_e;if(this.tabindex==_a){this.tabindex=_b;}else if(this.tabindex==_b){this.tabindex=_a;}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;this._rearrangeButton();this._drawButton();}};_pTab.moveTabpage=function(_a,_b){var _c=this._child_list;var _d=_c.length;if(_b<0||_d<=_b||_d<=_a||_a<0){return  -1;}if(_a==_b){return  -1;}var _e=this.tabindex;var _f=null,_g=null,_h=null,_i=null,_j=null;_f=_c[_e];var _k=_f.id;var _l=_c[_b];var _m=_c[_a];var _n=this._tabButtons;var _o=_n[_b];var _p=_n[_a];var _q=this._buttonRect;var _r=_q[_b];var _s=_q[_a];var _t=this._buttonWidth;var _u=_t[_b];var _v=_t[_a];var _w=this._buttonHeight;var _x=_w[_b];var _y=_w[_a];if(_a<_b){for(var _ad=_a+1;_ad<_d;_ad++ ){_c[_ad-1]=_c[_ad];_c[_ad-1]._index=_ad-1;_n[_ad-1]=_n[_ad];_n[_ad-1]._index=_ad-1;_q[_ad-1]=_q[_ad];_t[_ad-1]=_t[_ad];_w[_ad-1]=_w[_ad];if(_ad==_b){_c[_ad]=_m;_c[_ad]._index=_ad;_n[_ad]=_p;_n[_ad]._index=_ad;_q[_ad]=_s;_t[_ad]=_v;_w[_ad]=_y;break;}}}else{for(var _ad=_a;_ad>_b;_ad-- ){_c[_ad]=_c[_ad-1];_c[_ad]._index=_ad;_n[_ad]=_n[_ad-1];_n[_ad]._index=_ad;_q[_ad]=_q[_ad-1];_t[_ad]=_t[_ad-1];_w[_ad]=_w[_ad-1];}_c[_ad]=_m;_c[_ad]._index=_ad;_n[_ad]=_p;_n[_ad]._index=_ad;_q[_ad]=_s;_t[_ad]=_v;_w[_ad]=_y;}_d=_c.length;for(var _ad=0;_ad<_d;_ad++ ){if(_k==_c[_ad].id){this.tabindex=_ad;}}this._scrollIndex=0;var _z=this._getSpinSize();var _aa=2*_z[0]+2;var _z=this._getSpinSize();var _aa=2*_z[0]+2;var _ab=0;var _ac=0;for(var _ad=0,_ae=_t.length;_ad<_ae;_ad++ ){_ab+=_t[_ad];_aa+=_ab;if(this._orgwidth<_ab){if(this._orgwidth<_aa){_ac=_ad-1;break;}}_ac=_ad;}if(_ac>=this.tabindex){this._scrollIndex=0;}else{this._scrollIndex=this.tabindex-(this._scrollIndex+_ac);}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;this._rearrangeButton();this._drawButton();return 0;};_pTab.getTabpageCount=function(){return this._child_list.length;};_pTab.getIndex=function(_a,_b){var _c=this._GetTabIndex(parseInt(_a,10),parseInt(_b,10));return _c;};_pTab.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){return  -1;}if(this[_a]){return  -1;}if(!(_b instanceof nexacro.Tabpage)){return  -1;}_b._refform=this;this[_a]=_b;this.all.add_item(_a,_b);_c=this.components.add_item(_a,_b);this.tabpages=this.components;this._child_list.push(_b);if(this.preload||this._child_list[this._setidx]==_b){_b._url=_b.url;_b.on_apply_url(_b.async);}if(!_b._url){_b._is_loaded=true;}};_pTab._on_beforeclose=function(_a){if(!this._is_alive){return;}if(!_a){_a=this;}var _b="";var _c=this.tabpages;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){var _f=_c[_e];if(!_f._isLoaded){continue;}var _g=_f._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_g);}return _b;};_pTab._on_close=function(){if(!this._is_alive){return;}var _a=this.tabpages;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){var _d=_a[_c];if(!_d._isLoaded){continue;}_d._on_close();}};_pTab.on_apply_addChild=function(){var _a,_b;var _c=this.components;var _d=_c.length;var _e=this._pseudo;for(var _g=0;_g<_d;_g++ ){_a=_c[_g].id;_b=_c[_g];var _h=this._createTabbutton(_g);_h.createComponent();this._tabButtonBorders[_g].createComponent();this._createTabpage(_g,_a,_b);}this._rearrangeButton();if(this._child_list[0]){this._child_list[0]._on_activate();}this._drawButton();_d=_c.length;var _f=this._isExtraButton();for(var _g=0;_g<_d;_g++ ){_a=_c[_g].id;_b=_c[_g];if(_f){var _i=this._createtabextrabutton(_g);_i.createComponent();this.on_apply_style_showextrabutton(this.currentstyle.showextrabutton);}if(this._setidx==_g){_b._url=_b.url;_b._isLoaded=true;_b.set_visible(true);_b.show();_b.initProperties();this.on_apply_tabindex();}else{_b.set_visible(false);}if(this.preload){_b.show();}}this.extrabutton=this._tabextrabuttons?this._tabextrabuttons[0]:null;};_pTab._getExtrabuttonIdx=function(_a){var _b=this._tabextrabuttons;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]==_a){return _d;}}return  -1;};_pTab._saveImageSize=function(_a,_b,_c){this._imagewidth=_b;this._imageheight=_c;this._rearrangeButton();this._drawButton();};_pTab._getImgSize=function(){var _a=this._find_pseudo_obj("buttonbackground",this._pseudo,"background");if(!_a){return;}var _b=null;_b=nexacro._getImageSize(_a.image,this._saveImageSize,this);if(_b){this._imagewidth=_b.width;this._imageheight=_b.height;}};_pTab._getDlgCode=function(_a,_b,_c,_d){var _e=this._focusobj;if(_e&&!(_e instanceof nexacro.TabComponent)){return _e._getDlgCode(_a,_b,_c,_d);}else{return {want_tab:_d?false:true,want_return:false,want_escape:false,want_chars:false,want_arrows:_a==nexacro.Event.KEY_UP?false:true};}};_pTab._createTabBorder=function(){var _a=new nexacro.TabBorderCtrl("tableftborder",this.position,0,0,0,0,null,null,this);this._tabBorders[0]=_a;_a._is_subcontrol=true;var _b=new nexacro.TabBorderCtrl("tabrightborder",this.position,0,0,0,0,null,null,this);this._tabBorders[1]=_b;_b._is_subcontrol=true;var _c=new nexacro.TabBorderCtrl("tabcenterborder",this.position,0,0,0,0,null,null,this);this._tabBorders[2]=_c;_c._is_subcontrol=true;_a.createComponent();_b.createComponent();_c.createComponent();};_pTab._createTabbutton=function(_a){if(_a<0){_a=this._child_list.length-1;}var _b=0;var _c=this._child_list[_a];var _d=0;var _e=this.on_find_CurrentStyle_buttonmargin(this._pseudo);if(_a==0){_d=0;}else{_d=this._buttonRect[_a-1].right+_e.right;}var _f=this._getButtonSize(_a);switch(this._getTabPosition()){case "top":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;case "left":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;case "bottom":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;case "right":this._buttonRect[_a]={left:_d,top:0,right:_d+_f.right,bottom:_f.bottom};break;}var _g=new nexacro.TabButtonCtrl(_c.id+"_tabbutton",this.position,0,0,1,1,null,null,this);var _f=this._buttonRect[_a];var _h=_f.left;var _i=_f.top;var _j=_f.right;var _k=_f.bottom;var _l={left:_h,top:_i,right:_j,bottom:_k};this._buttonWidth[_a]=_l.right-_l.left;this._buttonHeight[_a]=_l.bottom-_l.top;this._tabButtons[_a]=_g;_g.selected=true;_g._is_subcontrol=true;_g._index=_a;_g.set_text(_c.text);var _m=this._buttonRect[_a];this._tabButtonBorders[_a]=new nexacro.TabButtonBorderCtrl(_c.id+"tabbuttonborder",this.position,_m.left,_m.top,_m.width,_m.height,null,null,this);this._tabButtonBorders[_a]._index=_a;this._tabButtonBorders[_a].set_visible(false);this._tabButtonLeftBorders[_a]=new nexacro.TabButtonBorderCtrl("tabbuttonleftborder",this.position,_m.left,_m.top,_m.width,_m.height,null,null,this);this._tabButtonLeftBorders[_a].createComponent();this._tabButtonLeftBorders[_a].set_visible(false);return _g;};_pTab._setFocusTabButton=function(_a,_b){if(_a==null){_a=this.tabindex;}if(_b==null){_b=this._oldtabindex;}if(this._tabButtonBorders[_b]!=null){this._tabButtonBorders[_b].set_visible(false);}if(this._tabButtonBorders[_a]!=null){if(_a==this.tabindex){this._tabButtonBorders[_a].set_visible(true);var _c=this.on_find_CurrentStyle_buttonbordertype(this._pseudo);if(_c){this._tabButtonBorders[_a].style.set_bordertype(_c);}if(this.style.focusborder){this._tabButtonBorders[_a].style.set_border(this.style.focusborder._value);}if(this._buttonRect[_a]!=null){var _d=this._buttonRect[_a];var _e=this.on_find_CurrentStyle_buttonborder(this._pseudo);var _f=1;if(_e){_f+=_e._top_width;}var _g=_d.left+_f;var _h=_d.top+_f;var _i=_d.right-_g-_f;var _j=_d.bottom-_h-_f;this._tabButtonBorders[_a].move(_g,_h,_i,_j);}}else{this._tabButtonBorders[_a].set_visible(false);}}};_pTab._createtabextrabutton=function(_a){var _b=null;if(this._tabextrabuttons[_a]){_b=this._tabextrabuttons[_a];}else{_b=new nexacro.TabExtraButtonCtrl("extrabutton",this.position,0,0,20,10,null,null,this);this._tabextrabuttons[_a]=_b;_b._is_subcontrol=true;_b._index=_a;_b.set_visible(false);}this._buttonWidth[_a]+=_b._client_width;_b.parent=this;return _b;};_pTab._createTabpage=function(_a,_b,_c){if(_c==null){return _c;}_c._refobj=this;_c._index=_a;_c._applyClientPadding=false;_c._preLoad(this.preload);_c.createComponent();_c.on_apply_prop_tooltip();};_pTab._checkContainerTabFocus=function(){if(nexacro._enableaccessibility&&this._isAccessibilityEnable()==true){return true;}return this._isBtnFocusAcceptable();};_pTab._on_getAccessibilityAdditionalLabel=function(){return this.tabindex+" "+this.tabpages.length;};_pTab.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=null;var _e=this._getTabIndex();if(_a){if(this._accessibility_tabindex==_e){_d=this._child_list[_e];}else{this._accessibility_tabindex++ ;if(this._accessibility_tabindex<this.tabpages.length){_d=this._tabButtons[this._accessibility_tabindex];}else{this._accessibility_tabindex= -1;this._accessibility_is_next=true;_d=this.parent._searchNextTabFocus(this,undefined,undefined,true)[0];}}}else{if(this._accessibility_tabindex==_e){this._accessibility_tabindex-- ;_d=this._tabButtons[this._accessibility_tabindex];}else{this._accessibility_tabindex-- ;if(this._accessibility_tabindex>=0){if(this._accessibility_tabindex==_e){_d=this._child_list[_e];}else{_d=this._tabButtons[this._accessibility_tabindex];}}}}if(_d){_d._setAccessibilityNotifyEvent(_a);return true;}return false;};_pTab._setRtlDirectionOfComps=function(_a){var _b=this._rtldirection;var _c=_a.length;for(var _d=0;_d<_c;_d++ ){var _e=_a[_d];if(_e){_e._setRtlDirection(_b);}}};_pTab.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;if(this._tabpagearea){this._tabpagearea._setRtlDirection(_a);}if(this.spinupbutton){this.spinupbutton._setRtlDirection(_a);}if(this.spindownbutton){this.spindownbutton._setRtlDirection(_a);}this._setRtlDirectionOfComps(this.tabpages);this._setRtlDirectionOfComps(this._tabButtons);this._setRtlDirectionOfComps(this._tabButtonBorders);this._setRtlDirectionOfComps(this._tabButtonLeftBorders);this._setRtlDirectionOfComps(this._tabBorders);this._setRtlDirectionOfComps(this._tabextrabuttons);if(this.extrabutton){this.extrabutton._setRtlDirection(_a);}};delete _pTab;}if(!nexacro.TabExtraButtonCtrl){nexacro.TabExtraButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._index=0;this._flag=false;this._is_reference_control=false;this._accessibility_role="tabitem";};var _pTabExtraButtonCtrl=nexacro.TabExtraButtonCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TabExtraButtonCtrl);_pTabExtraButtonCtrl._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}return this.parent._on_btn_lbuttondown(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);};_pTabExtraButtonCtrl._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}return this.parent._on_btn_lbuttonup(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);};_pTabExtraButtonCtrl._on_touchstart=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}return this.parent._on_btn_touchstart(this,_a,_b,_c,_d,_e,_f);};_pTabExtraButtonCtrl._on_touchend=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}return this.parent._on_btn_touchend(this,_a,_b,_c,_d,_e,_f);};_pTabExtraButtonCtrl._on_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}return this.parent._on_btn_mousemove(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pTabExtraButtonCtrl.on_apply_style_align=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_align(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_align.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_background=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_background(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_background.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_border=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_border(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_border.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_bordertype=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_bordertype(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_bordertype.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_color=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_color(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_color.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_cursor=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_cursor(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_cursor.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_font=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_font(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_font.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_gradation=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_gradation(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_gradation.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_image=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_image(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_image.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_imagealign=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_imagealign(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_imagealign.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_opacity=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_opacity(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_opacity.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_padding=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_padding(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_padding.call(this,_a);}};_pTabExtraButtonCtrl.on_apply_style_shadow=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].on_apply_style_shadow(_a);_b[_d]._flag=false;}return;}nexacro.Button.prototype.on_apply_style_shadow.call(this,_a);}};_pTabExtraButtonCtrl.set_style=function(_a){var _b=this.parent._tabextrabuttons;var _c=_b?_b.length:0;if(_c>0){if(this._index==0&&!_b[this._index]._flag){for(var _d=0;_d<_c;_d++ ){_b[_d]._flag=true;_b[_d].set_style(_a);_b[_d]._flag=false;}return;}nexacro.Component.prototype.set_style.call(this,_a);}};delete _pTabExtraButtonCtrl;}if(!nexacro.TabButtonCtrl){nexacro.TabButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._iscanchange=true;this._index=0;this._is_reference_control=false;this._accessibility_role="tabitem";};var _pTabButtonCtrl=nexacro.TabButtonCtrl.prototype=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.TabButtonCtrl);_pTabButtonCtrl.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");if(!_b){_b=nexacro._getCachedStyleObj("align","center middle");}return _b;};_pTabButtonCtrl.on_find_CurrentStyle_background=function(_a){return this.parent._find_pseudo_obj("buttonbackground",_a,"background");};_pTabButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent._find_pseudo_obj("buttongradation",_a,"gradation");};_pTabButtonCtrl.on_find_CurrentStyle_border=function(_a){return this.parent._find_pseudo_obj("buttonborder",_a,"border");};_pTabButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("buttonbordertype",_a,"bordertype");};_pTabButtonCtrl.on_find_CurrentStyle_padding=function(_a){return this.parent.on_find_CurrentStyle_buttonpadding(_a);};_pTabButtonCtrl.on_find_CurrentStyle_margin=function(_a){return this.parent.on_find_CurrentStyle_buttonmargin(_a);};_pTabButtonCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a);};_pTabButtonCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pTabButtonCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a);};_pTabButtonCtrl.on_apply_style_border=function(_a){var _b=this._control_element;if(_b){var _c=this.currentstyle;this._setElementBorder(this.getElement(),_a,_c.bordertype);_b.setElementBackground(_c.background,_c.gradation);this._updateClientSize(_b);}};_pTabButtonCtrl.on_apply_style_color=function(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}};_pTabButtonCtrl.on_apply_style_align=function(_a){if(this._text_elem&&_a){var _b=_a.halign==""?"center":_a._halign;var _c=_a.valign==""?"middle":_a._valign;if(this._img_elem&&this.currentstyle.imagealign){this._updateElementPositions(_a,this.currentstyle.imagealign);}else{this._text_elem.setElementAlignXY(_b,_c);nexacro._updateTextElementPositions(this);}}else{this.currentstyle.align="";}};_pTabButtonCtrl.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);if(this._img_elem&&this.currentstyle.align&&this.currentstyle.imagealign){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}}};_pTabButtonCtrl.on_change_status=function(_a,_b){var _c=this.parent;if((_b=="normal"||_b=="mouseover"||_b=="pushed")&&(_c._tabButtons&&_c._tabButtons[_c.tabindex]&&this.name==_c._tabButtons[_c.tabindex].name)){_a="select";}if(_a==""){this._status="enable";}switch(_a){case "enable":if(this._status!="focus"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "disable":this._status="disable";this.enable=false;break;case "focus":if(this._status!="disable"){this._status="focus";}break;case "notfocus":if(this._status!="disable"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}break;case "select":this._selected=true;if(this._status!="disable"||this._use_enable){this._status="enable";_b="selected";}break;case "notselect":this._selected=false;if(this._status!="disable"){this._status="enable";}break;case "push":this._pushed=true;break;case "notpush":this._pushed=false;if(this._selected&&_b=="normal"){_b="selected";}break;case "readonly":if(!this._readonly){this._readonly=true;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="enable"){this._status="readonly";}break;case "writable":if(this._readonly){this._readonly=false;this._control_pseudo="";this._contents_pseudo="";}if(this._status=="readonly"){this._status="enable";}break;}this.on_apply_pseudo(_b);this._setElementBorder(this.getElement(),this.currentstyle.border,this.currentstyle.bordertype);this.parent._drawButton();};_pTabButtonCtrl._setElementBorder=function(_a,_b,_c){if(!_b){return;}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){return;}var _d=_b.clone();_d._linecnt=4;var _e=this.parent._getTabPosition();if(_e=="top"){_d.set_bottom_width("0");}else if(_e=="bottom"){_d.set_top_width("0");}else if(_e=="left"){_d.set_right_width("0");}else if(_e=="right"){_d.set_left_width("0");}_a.setElementBorder(_d,_c);};_pTabButtonCtrl._setElementPosition=function(_a,_b,_c,_d,_e,_f){if(this._popup){_b=0;_c=0;}if(_d<0){_d=0;}if(_e<0){_e=0;}_a.setElementPosition(_b,_c);_a.setElementSize(_d,_e);this._updateClientSize(_a);};_pTabButtonCtrl._getDlgCode=function(_a,_b,_c,_d){var _e=true;if(_a==nexacro.Event.KEY_UP){var _f=this.parent;if(!_f._isAccessibilityEnable()){_e=false;}}return {want_tab:_d?false:true,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pTabButtonCtrl._updateAll=function(_a){this._control_pseudo="";this._contents_pseudo="";this._stat_change(this._status,_a);};_pTabButtonCtrl.on_apply_custom_setfocus=function(_a){if(this.parent._isBtnFocusAcceptable()){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}else{this.parent.tabpages[this._index].on_apply_custom_setfocus(_a);}};_pTabButtonCtrl._setAccessibilityNotifyEvent=function(_a){var _b=this.parent;if(_b._accessibility_tabindex<0&&_b._tabButtons&&_b._tabButtons.length>0){if(_a){_b._accessibility_tabindex=0;}else{_b._accessibility_tabindex=_b.tabpages.length-1;}return _b._tabButtons[_b._accessibility_tabindex]._setAccessibilityNotifyEvent(_a);}else{_b._accessibility_tabindex=this._index;return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);}};_pTabButtonCtrl._on_sys_lbuttondown=function(_a,_b){var _c=this._on_lbuttondown(_a,_b);return _c;};_pTabButtonCtrl._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}this._on_focus(true);var _m=this.parent._on_btn_lbuttondown(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);return _m;};_pTabButtonCtrl._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}return this.parent._on_btn_lbuttonup(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);};_pTabButtonCtrl._on_focus=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);this._setTabFocusObj(this);};_pTabButtonCtrl._on_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}this._on_focus(true);var _n=this.parent._on_btn_lbuttondown(this,_a,_b,_c,_d,_e,_f+this._adjust_left,_g,_h+this._adjust_left,_i,_j,_k,_l);};_pTabButtonCtrl._setTabFocusObj=function(_a){if(!this._is_alive){return;}this.parent._focusobj=_a;};_pTabButtonCtrl._getTabFocusObj=function(){if(!this._is_alive){return;}return this.parent._focusobj;};_pTabButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}var _h=nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g);this.parent._onclick_basic_action(this,true,_b,_c,_d,_e,_f,_g);return _h;};_pTabButtonCtrl.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this.parent._keydown_filter(null,_a,_b,_c,_d,undefined,_e,_f)){return true;}if(this.parent.onkeydown&&this.parent.onkeydown._has_handlers){var _g=this.parent._child_list[this.tabindex];var _h=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_g,_g);this._on_focus(true);return this.parent.onkeydown._fireSysEvent(this,_h);}return true;};delete _pTabButtonCtrl;}if(!nexacro.TabPageArea){nexacro.TabPageArea=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.DivCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_reference_control=false;};var _pTabPageArea=nexacro._createPrototype(nexacro.DivCtrl,nexacro.TabPageArea);nexacro.TabPageArea.prototype=_pTabPageArea;_pTabPageArea._type_ame="TabPageArea";_pTabPageArea.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a);};_pTabPageArea.on_find_CurrentStyle_border=function(_a){var _b=this.parent._find_pseudo_obj("border",_a,"border");var _c=_b.clone();var _d=this.parent._getTabPosition();_c._linecnt=4;if(_d=="top"){_c.set_top_width("0");}else if(_d=="bottom"){_c.set_bottom_width("0");}else if(_d=="left"){_c.set_left_width("0");}else if(_d=="right"){_c.set_right_width("0");}return _c;};_pTabPageArea.on_find_CurrentStyle_bordertype=function(_a){return this.parent._find_pseudo_obj("bordertype",_a,"bordertype");};_pTabPageArea.resetScroll=function(){this._onRecalcScrollSize();this._onResetScrollBar();};_pTabPageArea._onRecalcScrollSize=function(_a){var _b=this._control_element;if(_b&&this._is_scrollable){var _c=0,_d=0;if(!_a){var _e=this.components;for(var _f=0,_g=_e.length;_f<_g;_f++ ){var _h=_e[_f];if(_h&&_h.visible){_c=Math.max(_c,_h.getOffsetRight());_d=Math.max(_d,_h.getOffsetBottom());}}_b.setElementScrollMaxSize(_c,_d);}else if(_a.visible){var _i=_b.container_maxwidth;var _j=_b.container_maxheight;var _k=_a.getOffsetRight();var _l=_a.getOffsetBottom();if(_i<_k||_j<_l){_c=Math.max(_i,_k);_d=Math.max(_j,_l);_b.setElementScrollMaxSize(_c,_d);}}}};_pTabPageArea.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();this.resetScroll();};delete _pTabPageArea;}if(!nexacro.Tabpage){nexacro.Tabpage=function(_a,_b){nexacro.Div.call(this,_a,"absolute",0,0,0,0,null,null,_b);this._isSelfstyle=true;this._isLoaded=false;this.enableflag=true;this._index=0;this.text="";this._url="";this._is_reference_control=false;this._accessibility_role="tabpage";this._want_tab=false;this._want_arrow=true;this._apply_client_padding=false;};var _pTabPage=nexacro._createPrototype(nexacro.Div,nexacro.Tabpage);nexacro.Tabpage.prototype=_pTabPage;_pTabPage._type_name="Tabpage";_pTabPage.bringToFront=null;_pTabPage.bringToPrev=null;_pTabPage.moveToNext=null;_pTabPage.moveToPrev=null;_pTabPage.sendToBack=null;_pTabPage.sendToNext=null;_pTabPage.on_find_CurrentStyle_background=function(_a){return this._find_pseudo_obj("background",_a,"background");};_pTabPage.on_find_CurrentStyle_gradation=function(_a){return this._find_pseudo_obj("gradation",_a,"gradation");};_pTabPage.on_find_CurrentStyle_margin=function(_a){return this._find_pseudo_obj("margin",_a,"margin");};_pTabPage.on_find_CurrentStyle_padding=function(_a){return this._find_pseudo_obj("padding",_a,"padding");};_pTabPage.on_get_style_accessibility_label=function(){return this.text;};_pTabPage.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){return  -1;}if(this[_a]){return  -1;}if(!_b._type_name){return  -1;}_b.parent=this;_b._refform=this;this[_a]=_b;this.all.add_item(_a,_b);if(_b._is_component){_c=this.components.add_item(_a,_b);this._child_list.push(_b);}else if(_b instanceof nexacro.BindItem){_c=this.binds.add_item(_a,_b);}else{_c=this.objects.add_item(_a,_b);}return _c;};_pTabPage.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect();var _a=this._rtldirection;var _b=this._child_list;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){var _e=_b[_d];_e._setRtlDirection(_a);}};_pTabPage.set_url=function(_a){if(_a!=this.url){this.url=_a;if((this.parent instanceof nexacro.TabComponent)&&this.parent._is_created==true){if(_a.substring(0,4).toLowerCase()=="url("){_a=_a.substring(4,_a.length-1);}this._url=_a;this.on_apply_url(this.async);}}};_pTabPage.on_apply_url=function(_a){if(this._url&&this._url.length>0){this._urlloading=true;this._setstylecomplete=false;application.getLayoutManager().clearLayout(this);var _b=this.parent;while(!_b._url){_b=_b.parent;}if(this._apply_client_padding){this._delete_text();}this.loadForm(this._url,_a,true,_b._url);this._isLoaded=true;}else{this.on_apply_emptyurl();this.on_apply_applystyletype();}};_pTabPage.set_text=function(_a){this.text=nexacro._toString(_a);var _b=this.parent;var _c=null;if(_b){if(_b._tabButtons.length>0){_c=_b._tabButtons[this._index];if(_c&&_c.id!=this.id){_c.set_text(this.text);_b._recalcLayout();}}}};nexacro._is_enable_setting=false;_pTabPage.set_enable=function(_a){_a=nexacro._toBoolean(_a);var _b=this._getWindow();var _c;if(!this._is_subcontrol&&!_a&&this._is_created&&this.parent){if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){var _e=this._getForm();var _f=this.tabstop;this.tabstop=false;_c=_e._searchNextTabFocus();this.tabstop=_f;}}var _d=this._control_element;this.enable=_a;if(this._is_created){var _g=(this.parent._real_enable&&_a);if(this._real_enable!=_g){nexacro._is_enable_setting=true;this._setEnable(_g);nexacro._is_enable_setting=false;var _h=this.parent;if(!this._is_subcontrol&&this._is_created&&_h&&_h._is_created){if(_g){if(_b&&_b._indexOfCurrentFocusPaths(_h)==_b._getCurrentFocusPathsLength()-1&&!_h._last_focused){this._on_focus(true);}}else{if(_b&&_b._indexOfCurrentFocusPaths(this)> -1){_b._removeFromCurrentFocusPath(this,false);if(_c&&_c[0]){_c[0]._on_focus(true);}}}}}}};_pTabPage.on_apply_text=function(){};_pTabPage.on_apply_prop_tooltip=function(){var _a=this.getElement();if(_a){_a.setElementToolTip(this.tooltiptext);}};_pTabPage.on_apply_prop_enable=function(_a){nexacro.Form.prototype.on_apply_prop_enable.call(this,_a);this._resetTabPage(_a);};_pTabPage._resetTabPage=function(_a){var _b=this.parent;if(_b){var _c=_b._child_list;var _d=this._index;if(_b._tabButtons.length>0){var _e=_c[_d];var _f=_b._tabButtons[_d];if(_f&&_f.id!=this.id){if(_e!=null){if(_b.enable){if(_a){if(_d==_b.tabindex){_f._use_enable=true;_e.set_visible(true);_f._stat_change("select","selected");_f._use_enable=null;}else{_e.set_visible(false);_f._pseudo="normal";_f._status="notselect";_f._stat_change(_f._pseudo,_f._status);}}else{_f._pseudo="disable";_f._status="disabled";_f._stat_change(_f._pseudo,_f._status);}}else{_f._pseudo="disable";_f._status="disabled";_f._stat_change("disable","disabled");}}}}}};_pTabPage.set_visible=function(_a,_b){if(_a===undefined||_a===null){return;}var _c=this._control_element;_a=nexacro._toBoolean(_a);if(this.visible!=_a){this.visible=_a;if(_c){_c.setElementVisible(_a);this._setAccessibilityStatHidden(_a);if(this.visible){nexacro._resetVML(this);this._on_activate();if(!this._is_subcontrol&&this._is_created&&this.parent&&this.parent._is_created&&!_b){if(this.parent._focusobj instanceof nexacro.Tabpage){this._on_focus(true);}}}}}};_pTabPage.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onclick&&this.onclick._has_handlers){var _m=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onclick._fireEvent(this,_m);}return false;};_pTabPage._on_focus=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);this._setTabFocusObj(this);};_pTabPage._setTabFocusObj=function(_a){this.parent._focusobj=_a;};_pTabPage._getTabFocusObj=function(){return this.parent._focusobj;};_pTabPage._preLoad=function(_a){this.preload=_a;};_pTabPage._loadURL=function(){if(this.parent.preload!=true){return;}this.on_apply_url(true);};_pTabPage._getDlgCode=function(_a,_b,_c,_d){var _e=true;var _f=this._want_arrow;if(_a==nexacro.Event.KEY_TAB){if(_d){var _g=this._getLastFocused();var _h=this._getTabOrderFirst();if(_g==null){if(!this.parent._isBtnFocusAcceptable()){_e=false;}}else if(_g==_h){if(!this.parent._isBtnFocusAcceptable()){_e=false;}}}else{if(!this._getLastFocused()&&!this._getTabOrderFirst()){_e=false;}}}return {want_tab:_e,want_return:false,want_escape:false,want_chars:false,want_arrows:_f};};_pTabPage._on_bubble_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){this._dragenter_first_comp=this;_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_b==this){this.on_dragenter_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragenter_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else{}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}this._stat_change("","mouseover");}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){_k+=this._adjust_left-this._scroll_left||0;_l+=this._adjust_top-this._scroll_top||0;return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pTabPage._on_bubble_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(!this._is_alive){return;}if(_o===undefined){var _s;if(!_q){_q=this;if(!_q._is_reference_control){_q=this._getReferenceComponent(_q);}}if(this._is_subcontrol){_s=true;if(_b&&this._contains(_b)){return;}if(_p==this){this.on_dragleave_basic_action();}}else{_s=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this.visible&&this._isEnable()){this.on_dragleave_basic_action();var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],this,_q);}}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){var _u=this._getRecalcCanvasXY(_a,_k,_l);_k=_u[0];_l=_u[1];if(_s){return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,null,_q,_r);}else{}}}else{if(this.visible&&this._isEnable()){var _t=this._getClientXY(_k,_l);if(_r){_o=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}else{_o=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_m,_n,_k,_l,_t[0],_t[1],_p,_q);}if(!_b||!this._contains(_b)){this._stat_change("","normal");}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_o!==true&&this.parent&&!this.parent._is_application){_k+=this._adjust_left-this._scroll_left||0;_l+=this._adjust_top-this._scroll_top||0;return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,false,_p,_q,_r);}}};_pTabPage.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=null;var _e=this.parent;var _f=_e._getTabIndex();var _g=_e._tabButtons.length;var _h=this._getWindow();var _i=_h._accessibility_last_focused_comp;if(_a){_d=this._searchNextTabFocus(_i,undefined,undefined,true)[0];if(_d.parent!=_b){_f++ ;_e._accessibility_tabindex=_f;_d=(_g>_f)?_e._tabButtons[_f]:_d;}}else{_d=this._searchPrevTabFocus(_i,undefined,undefined,true)[0];if(_d==_b){_d=_e._tabButtons[_f];}}if(_d){_d._setAccessibilityNotifyEvent(_a);return true;}return false;};_pTabPage._setAccessibilityNotifyEvent=function(_a){var _b=null;var _c=this._index;var _d=this.parent;var _e=_d._getTabIndex();if(_a){if(_c!=_e){_b=_d._tabButtons[_c];}else{_b=this._getTabOrderFirst(true,false);}}else{if(_c!=_e){_b=_d._tabButtons[_c];}else{_b=this._getTabOrderLast(true,false);}}if(_b){_b._setAccessibilityNotifyEvent(_a);}};delete _pTabPage;nexacro.TabpageCtrl=function(_a,_b){nexacro.Tabpage.call(this,_a,_b);this._is_subcontrol=true;};var _pTabpageCtrl=nexacro.TabpageCtrl.prototype=nexacro._createPrototype(nexacro.Tabpage,nexacro.TabpageCtrl);nexacro._setForControlStyleFinder(_pTabpageCtrl);delete _pTabpageCtrl;}if(!nexacro.TabBorderCtrl){nexacro.TabBorderCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTabBorderCtrl=nexacro._createPrototype(nexacro.Component,nexacro.TabBorderCtrl);nexacro.TabBorderCtrl.prototype=_pTabBorderCtrl;_pTabBorderCtrl.on_find_CurrentStyle_border=function(_a){var _b=this.parent._find_pseudo_obj("border",_a,"border");var _c=_b.clone();var _d=this.parent._getTabPosition();_c._linecnt=1;_c._copytoSubObjects();_c._linecnt=4;if(this.name=="tableftborder"){if(_d=="top"||_d=="left"){_c.set_bottom_width("0");_c.set_right_width("0");}else if(_d=="bottom"){_c.set_top_width("0");_c.set_right_width("0");}else if(_d=="right"){_c.set_left_width("0");_c.set_bottom_width("0");}}else if(this.name=="tabcenterborder"){if(_d=="top"){_c.set_bottom_width("0");_c.set_left_width("0");if(this.parent._tabButtons&&this.parent._tabButtons.length>0&&this.parent.tabindex> -1){var _e=this.parent.on_find_CurrentStyle_buttonbackground("selected").color;if(_e){_c.set_top_color(_e);_c.set_right_color(_e);}}}else if(_d=="bottom"||_d=="right"){_c.set_top_width("0");_c.set_left_width("0");if(this.parent._tabButtons&&this.parent._tabButtons.length>0&&this.parent.tabindex> -1){var _e=this.parent.on_find_CurrentStyle_buttonbackground("selected").color;if(_e){_c.set_bottom_color(_e);_c.set_right_color(_e);}}}else if(_d=="left"){_c.set_top_width("0");_c.set_right_width("0");if(this.parent._tabButtons&&this.parent._tabButtons.length>0&&this.parent.tabindex> -1){var _e=this.parent.on_find_CurrentStyle_buttonbackground("selected").color;if(_e){_c.set_bottom_color(_e);_c.set_left_color(_e);}}}}else{if(_d=="top"){_c.set_bottom_width("0");_c.set_left_width("0");}else if(_d=="bottom"||_d=="right"){_c.set_top_width("0");_c.set_left_width("0");}else if(_d=="left"){_c.set_top_width("0");_c.set_right_width("0");}}return _c;};_pTabBorderCtrl.on_find_CurrentStyle_bordertype=function(){var _a=this.parent._find_pseudo_obj("bordertype",this.pseudo,"bordertype");if(!_a){return null;}var _b=_a.clone();var _c=this.parent._getTabPosition();_b.set_lefttop(false);_b.set_leftbottom(false);_b.set_righttop(false);_b.set_rightbottom(false);return _b;};delete _pTabBorderCtrl;}if(!nexacro.TabButtonBorderCtrl){nexacro.TabButtonBorderCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._index= -1;nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pTabButtonBorderCtrl=nexacro._createPrototype(nexacro.Component,nexacro.TabButtonBorderCtrl);nexacro.TabButtonBorderCtrl.prototype=_pTabButtonBorderCtrl;_pTabButtonBorderCtrl._setElementBorder=function(_a,_b,_c){var _d=_b.clone();_d._linecnt=1;_d._copytoSubObjects();_d._linecnt=4;var _e=nexacro._getWebColorFromXreColor(_b.top_color);if(_b.top_width&&_e!=""){}else if(_b.top_width!=""){_d.set_top_width("0");}_d.set_bottom_width("0");_d.set_left_width("0");_d.set_right_width("0");_a.setElementBorder(_d,_c);};_pTabButtonBorderCtrl._on_sys_lbuttondown=function(_a,_b){var _c=this._on_lbuttondown(_a,_b);return _c;};_pTabButtonBorderCtrl._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this.parent;var _n=_m._on_btn_lbuttondown(_m._tabButtons[this._index],_m._tabButtons[this._index]._text_elem,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);_m._tabButtons[this._index]._on_focus(true);return _n;};_pTabButtonBorderCtrl._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this.parent;return _m._on_btn_lbuttonup(_m._tabButtons[this._index],_m._tabButtons[this._index]._text_elem,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};delete _pTabButtonBorderCtrl;}if(!nexacro.FileDownload){nexacro.FileDownloadEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onsuccess";this.fromobject=this.fromreferenceobject=_a;this.url=_c;this.targetfullpath=_d;};var _pFileDownloadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileDownloadEventInfo);nexacro.FileDownloadEventInfo.prototype=_pFileDownloadEventInfo;_pFileDownloadEventInfo._type_name="FileDownloadEventInfo";delete _pFileDownloadEventInfo;nexacro.FileDownloadErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ErrorEventInfo.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};var _pFileDownloadErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.FileDownloadErrorEventInfo);nexacro.FileDownloadErrorEventInfo.prototype=_pFileDownloadErrorEventInfo;_pFileDownloadErrorEventInfo._type_name="FileDownloadErrorEventInfo";delete _pFileDownloadErrorEventInfo;nexacro.FileDownload=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.downloadurl="";this.wordwrap="char";this.downloadfilename="";this._handle=null;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondrop":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onsuccess":1,"onerror":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._accessibility_role="button";};var _pFileDownload=nexacro._createPrototype(nexacro.Component,nexacro.FileDownload);nexacro.FileDownload.prototype=_pFileDownload;_pFileDownload._type_name="FileDownload";_pFileDownload.on_apply_style_align=function(_a){var _b=this._text_elem;if(_b&&_a){var _c=_a.halign==""?"center":_a._halign;var _d=_a.valign==""?"middle":_a._valign;_b.setElementAlignXY(_c,_d);}};_pFileDownload.on_apply_style_color=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pFileDownload.on_apply_style_font=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pFileDownload.on_apply_style_accessibility=function(_a){if(_a){this._control_element.setAccessibility(_a);}};_pFileDownload.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_align(_a);if(_b.align!=_e){_b.align=_e;this.on_apply_style_align(_e);}var _f=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_b.rtlimagemirroring!=_f){_b.rtlimagemirroring=_f;this.on_apply_style_rtlimagemirroring(_f);}};_pFileDownload.on_create_contents=function(){var _a=this.getElement();if(_a){nexacro._create_filedownload_handle(this.on_load,this);var _b=new nexacro.TextBoxElement(_a);this._text_elem=_b;var _c=this.currentstyle.align.halign==""?"left":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);}};_pFileDownload.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}this.on_apply_wordwrap();this.on_apply_prop_rtldirection();};_pFileDownload.on_destroy_contents=function(){var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}nexacro._destroy_filedownload_handle(this._handle);};_pFileDownload.on_change_containerRect=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementSize(_a,_b);}};_pFileDownload.set_text=function(_a){this.text=_a;this.on_apply_text();};_pFileDownload.on_apply_text=function(){var _a=this._control_element;if(this._control_element){var _b=this._text_elem;if(!_b){_b=new nexacro.TextBoxElement(_a);this._text_elem=_b;this.on_apply_wordwrap();_b.setElementSize(this._client_width,this._client_height);if(this._is_created){var _c=this.currentstyle.align.halign==""?"left":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_c,_d);_b.create();}}var _e=this.expr;if(_e&&_e.length>0){_e=_e.trim().split(":");var _f=_e.length;var _g=new nexacro.ExprParser();var _h,_i;var _j;if(_f==1){_j=_e[0];}else{if(_e[0].trim().toUpperCase()!="EXPR"){_j=_e.join(":");}else{_j=_e.slice(1).join(":");}}_h=_g.makeExpr(this,_j);_i=nexacro._createInlineFunc(_h,["comp"]);if(_i){try{var _k=nexacro._toString(_i.call(null,this));if(_k!=this.displaytext){this.displaytext=_k;}}catch(e){return;}}}else{this.displaytext=this.text;}_b.setElementText(this.displaytext);if(this.displaytext&&this.displaytext!=""){this._text_width= -1;this._text_height= -1;}else{this._text_width=0;this._text_height=0;}}};_pFileDownload.on_apply_expr=function(){this.on_apply_text();};_pFileDownload.set_downloadurl=function(_a){if(_a!=this.downloadurl){this.downloadurl=_a;}};_pFileDownload.set_wordwrap=function(_a){if(typeof (_a)=="string"){_a=_a.toLowerCase();}if(_a!=this.wordwrap){this.wordwrap=_a;this.on_apply_wordwrap();}};_pFileDownload.on_apply_wordwrap=function(){if(this._text_elem){this._text_elem.setElementWordWrap(this.wordwrap);}};_pFileDownload.set_downloadfilename=function(_a){if(_a!=this.downloadfilename){this.downloadfilename=_a;}};_pFileDownload.download=function(_a,_b){var _c=false;var _d=this.downloadurl;var _e=this.downloadfilename;if(_b!=undefined){_b=nexacro._toString(_b);}if(_a!=undefined){_a=nexacro._toString(_a);_a=nexacro._getImageLocation(_a);nexacro._download(_a,this._handle,_e,_b);_c=true;}else if(_d&&_d!=undefined&&_d!=""){_d=application._getServiceLocation(_d);nexacro._download(_d,this._handle,_e,_b);_c=true;}return _c;};_pFileDownload.on_fire_onsuccess=function(_a,_b){application._endCommProgress();if(this.onsuccess&&this.onsuccess._has_handlers&&_a!=""){var _c=new nexacro.FileDownloadEventInfo(this,"onsuccess",_a,_b);return this.onsuccess._fireEvent(this,_c);}};_pFileDownload.on_fire_onerror=function(_a,_b,_c,_d,_e,_f,_g){application._endCommProgress();if(this.onerror&&this.onerror._has_handlers){var _h=new nexacro.FileDownloadErrorEventInfo(_a,"onerror",_b,_c,_d,_e,_f,_g);return this.onerror._fireEvent(this,_h);}};_pFileDownload.on_load=function(_a,_b,_c,_d,_e,_f){if(_a<0){var _g=nexacro._GetSystemErrorMsg(this,_d);this.on_fire_onerror(this,"ObjectError",_g,this,9901,null,null);}else{this.on_fire_onsuccess(_c,_b);}};_pFileDownload.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Component.prototype.on_fire_onclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this.download();return _m;};_pFileDownload.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==13||_a==32){this.on_fire_onclick("none",false,false,false, -1, -1, -1, -1, -1, -1,this,this);}return _g;};_pFileDownload._getDlgCode=function(_a,_b,_c,_d){return {want_tab:false,want_return:true,want_escape:false,want_chars:false,want_arrows:false};};delete _pFileDownload;nexacro.FileDownloadCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FileDownload.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._isSubControl=true;};var _pFileDownloadCtrl=nexacro._createPrototype(nexacro.FileDownload,nexacro.FileDownloadCtrl);nexacro.FileDownloadCtrl.prototype=_pFileDownloadCtrl;nexacro._setForControlStyleFinder(_pFileDownloadCtrl);_pFileDownloadCtrl._type_name="FileDownloadControl";delete _pFileDownloadCtrl;}if(!nexacro.FileUpload){nexacro.FileUploadItemEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"onfileuploaditem";this.fromobject=this.fromreferenceobject=_a;this.index=_c;};var _pEventFileUploadItemEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadItemEventInfo);nexacro.FileUploadItemEventInfo.prototype=_pEventFileUploadItemEventInfo;_pEventFileUploadItemEventInfo._type_name="FileUploadItemEventInfo";delete _pEventFileUploadItemEventInfo;nexacro.FileUploadMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){this.id=this.eventid=_b||"onmouse";this.fromobject=_n;this.fromreferenceobject=_o;this.altKey=_d||false;this.ctrlKey=_e||false;this.shiftKey=_f||false;this.button=_c||"";this.index=_a.index;this.screenX=_h|| -1;this.screenY=_i|| -1;this.canvasX=_j|| -1;this.canvasY=_k|| -1;this.clientX=_l|| -1;this.clientY=_m|| -1;};var _pFileUploadMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadMouseEventInfo);nexacro.FileUploadMouseEventInfo.prototype=_pFileUploadMouseEventInfo;_pFileUploadMouseEventInfo._type_name="FileUploadMouseEventInfo";delete _pFileUploadMouseEventInfo;nexacro.FileUploadLoadEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onsuccess";this.fromobject=this.fromreferenceobject=_a;this.datasets=_c;this.errorcode=_d;this.errormsg=_e;this.url=_f;};var _pFileUploadLoadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadLoadEventInfo);nexacro.FileUploadLoadEventInfo.prototype=_pFileUploadLoadEventInfo;_pFileUploadLoadEventInfo._type_name="FileUploadLoadEventInfo";delete _pFileUploadLoadEventInfo;nexacro.FileUploadItemChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onitemchanged";this.fromobject=this.fromreferenceobject=_a;this.index=_a.index;this.oldvalue=_a.oldvalue;this.newvalue=_a.value;};var _pFileUploadItemChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.FileUploadItemChangeEventInfo);nexacro.FileUploadItemChangeEventInfo.prototype=_pFileUploadItemChangeEventInfo;_pFileUploadItemChangeEventInfo._type_name="FileUploadItemChangeEventInfo";delete _pFileUploadItemChangeEventInfo;nexacro.FileUploadErrorEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ErrorEventInfo.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this.index=_i;};var _pFileUploadErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.FileUploadErrorEventInfo);nexacro.FileUploadErrorEventInfo.prototype=_pFileUploadErrorEventInfo;_pFileUploadErrorEventInfo._type_name="FileUploadErrorEventInfo";delete _pFileUploadErrorEventInfo;nexacro.FileUpload_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.itemheight=null;this.buttonbackground=null;this.buttonborder=null;this.buttonbordertype=null;this.buttongradation=null;this.buttonpadding=null;this.buttonmargin=null;this.buttonfont=null;this.buttoncolor=null;this.buttonsize=null;this.buttontext=null;this.editbackground=null;this.editborder=null;this.editbordertype=null;this.editgradation=null;this.editpadding=null;this.editmargin=null;this.editfont=null;this.editcolor=null;this.editaccessibility=null;this.buttonaccessibility=null;};var _pFileUploadStyle=nexacro._createPrototype(nexacro.Style,nexacro.FileUpload_Style);nexacro.FileUpload_Style.prototype=_pFileUploadStyle;_pFileUploadStyle._type_name="FileUploadStyle";eval(nexacro._createValueAttributeEvalStr("_pFileUploadStyle","itemheight"));eval(nexacro._createValueAttributeEvalStr("_pFileUploadStyle","buttonsize"));eval(nexacro._createValueAttributeEvalStr("_pFileUploadStyle","buttontext"));eval(nexacro._createColorAttributeEvalStr("_pFileUploadStyle","editcolor"));eval(nexacro._createColorAttributeEvalStr("_pFileUploadStyle","buttoncolor"));eval(nexacro._createBorderAttributeEvalStr("_pFileUploadStyle","editborder"));eval(nexacro._createBorderAttributeEvalStr("_pFileUploadStyle","buttonborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pFileUploadStyle","editbordertype"));eval(nexacro._createBordertypeAttributeEvalStr("_pFileUploadStyle","buttonbordertype"));eval(nexacro._createBackgroundAttributeEvalStr("_pFileUploadStyle","editbackground"));eval(nexacro._createBackgroundAttributeEvalStr("_pFileUploadStyle","buttonbackground"));eval(nexacro._createGradationAttributeEvalStr("_pFileUploadStyle","editgradation"));eval(nexacro._createGradationAttributeEvalStr("_pFileUploadStyle","buttongradation"));eval(nexacro._createPaddingAttributeEvalStr("_pFileUploadStyle","editpadding"));eval(nexacro._createPaddingAttributeEvalStr("_pFileUploadStyle","buttonpadding"));eval(nexacro._createMarginAttributeEvalStr("_pFileUploadStyle","editmargin"));eval(nexacro._createMarginAttributeEvalStr("_pFileUploadStyle","buttonmargin"));eval(nexacro._createFontAttributeEvalStr("_pFileUploadStyle","editfont"));eval(nexacro._createFontAttributeEvalStr("_pFileUploadStyle","buttonfont"));eval(nexacro._createAccessibilityAttributeEvalStr("_pFileUploadStyle","editaccessibility"));eval(nexacro._createAccessibilityAttributeEvalStr("_pFileUploadStyle","buttonaccessibility"));_pFileUploadStyle.__custom_emptyObject=function(){this.itemheight=null;this.buttonbackground=null;this.buttonborder=null;this.buttonbordertype=null;this.buttongradation=null;this.buttonpadding=null;this.buttonmargin=null;this.buttonfont=null;this.buttoncolor=null;this.buttonsize=null;this.buttontext=null;this.editbackground=null;this.editborder=null;this.editbordertype=null;this.editgradation=null;this.editpadding=null;this.editmargin=null;this.editfont=null;this.editcolor=null;this.editaccessibility=null;this.buttonaccessibility=null;};_pFileUploadStyle.__get_custom_style_value=function(){var _a="";if(this.itemheight&&this.itemheight._is_empty){_a+="itemheight"+this.itemheight._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize"+this.buttonsize._value+"; ";}if(this.buttontext&&this.buttontext._is_empty){_a+="buttontext"+this.buttontext._value+"; ";}if(this.buttonbackground&&this.buttonbackground._is_empty){_a+="buttonbackground"+this.buttonbackground._value+"; ";}if(this.buttonborder&&this.buttonborder._is_empty){_a+="buttonborder"+this.buttonborder._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._is_empty){_a+="buttonbordertype"+this.buttonbordertype._value+"; ";}if(this.buttongradation&&this.buttongradation._is_empty){_a+="buttongradation"+this.buttongradation._value+"; ";}if(this.buttonpadding&&this.buttonpadding._is_empty){_a+="buttonpadding"+this.buttonpadding._value+"; ";}if(this.buttonmargin&&this.buttonmargin._is_empty){_a+="buttonmargin"+this.buttonmargin._value+"; ";}if(this.buttonfont&&this.buttonfont._is_empty){_a+="buttonfont"+this.buttonfont._value+"; ";}if(this.buttoncolor&&this.buttoncolor._is_empty){_a+="buttoncolor"+this.buttoncolor._value+"; ";}if(this.editbackground&&this.editbackground._is_empty){_a+="editbackground"+this.editbackground._value+"; ";}if(this.editborder&&this.editborder._is_empty){_a+="editborder"+this.editborder._value+"; ";}if(this.editbordertype&&this.editbordertype._is_empty){_a+="editbordertype"+this.editbordertype._value+"; ";}if(this.editgradation&&this.editgradation._is_empty){_a+="editgradation"+this.editgradation._value+"; ";}if(this.editpadding&&this.editpadding._is_empty){_a+="editpadding"+this.editpadding._value+"; ";}if(this.editmargin&&this.editmargin._is_empty){_a+="editmargin"+this.editmargin._value+"; ";}if(this.editfont&&this.editfont._is_empty){_a+="editfont"+this.editfont._value+"; ";}if(this.editcolor&&this.editcolor._is_empty){_a+="editcolor"+this.editcolor._value+"; ";}if(this.editaccessibility&&this.editaccessibility._is_empty){_a+="editaccessibility"+this.editaccessibility._value+"; ";}if(this.buttonaccessibility&&this.buttonaccessibility._is_empty){_a+="buttonaccessibility"+this.buttonaccessibility._value+"; ";}return _a;};nexacro.FileUpload_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.itemheight=null;this.buttonbackground=null;this.buttonborder=null;this.buttonbordertype=null;this.buttongradation=null;this.buttonpadding=null;this.buttonmargin=null;this.buttonfont=null;this.buttoncolor=null;this.buttonsize=null;this.buttontext=null;this.editbackground=null;this.editborder=null;this.editbordertype=null;this.editgradation=null;this.editpadding=null;this.editmargin=null;this.editfont=null;this.editcolor=null;this.editaccessibility=null;this.buttonaccessibility=null;};var _pFileUploadCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.FileUpload_CurrentStyle);nexacro.FileUpload_CurrentStyle.prototype=_pFileUploadCurrentStyle;_pFileUploadCurrentStyle.__custom_emptyObject=_pFileUploadStyle.__custom_emptyObject;_pFileUploadCurrentStyle.__get_custom_style_value=_pFileUploadStyle.__get_custom_style_value;delete _pFileUploadStyle;delete _pFileUploadCurrentStyle;nexacro.FileUpload=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.scrollbars="autoboth";this.filecolumn="";this.innerdataset=null;this._innerdataset=null;this.text="";this.index= -1;this.async="false";this.retry=3;this.timeout=30;this.itemheight=18;this.itemcount=1;this.uploadurl="";this.multiselect=false;this._multiselect=false;this.filelist=[];this._is_scrollable=true;this._scrollbars=3;this._items=[];this._handle=null;this._last_id= -1;this._editFlag=null;this._buttonFlag=true;this._set_focus_dir= -1;this._want_tab=true;this._want_arrow=false;this.filepathedits=new nexacro.Collection();this.filefindbuttons=new nexacro.Collection();this._onPopupWin=false;this._accessibility_role="fileupload";this._first_focus=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondrop":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"onmove":1,"onsize":1,"onsuccess":1,"onerror":1,"onappenditem":1,"ondeleteitem":1,"onitemclick":1,"onfindclick":1,"onitemchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};};var _pFileUpload=nexacro._createPrototype(nexacro.Component,nexacro.FileUpload);nexacro.FileUpload.prototype=_pFileUpload;_pFileUpload._type_name="FileUpload";_pFileUpload._defaultButtontext=nexacro._getCachedStyleObj("buttontext","find");_pFileUpload._defaultButtonsize=nexacro._getCachedStyleObj("buttonsize","18");_pFileUpload._defaultItemheight=nexacro._getCachedStyleObj("itemheight","18");_pFileUpload.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_padding(_a);if(_c!=_b.padding){_b.padding=_c;this.on_apply_style_padding(_c);}var _d=this.on_find_CurrentStyle_align(_a);if(_d!=_b.align){_b.align=_d;this.on_apply_style_align(_d);}var _e=this.on_find_CurrentStyle_font(_a);if(_e!=_b.font){_b.font=_e;this.on_apply_style_font(_e);}var _f=this.on_find_CurrentStyle_color(_a);if(_f!=_b.color){_b.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_g!=_b.rtlimagemirroring){_b.rtlimagemirroring=_g;this.on_apply_style_rtlimagemirroring(_g);}var _h=this.on_find_CurrentStyle_editbackground(_a);if(_h!=_b.editbackground){_b.editbackground=_h;}var _i=this.on_find_CurrentStyle_editborder(_a);if(_i!=_b.editborder){_b.editborder=_i;}var _j=this.on_find_CurrentStyle_editbordertype(_a);if(_j!=_b.editbordertype){_b.editbordertype=_j;}var _k=this.on_find_CurrentStyle_editgradation(_a);if(_k!=_b.editgradation){_b.editgradation=_k;}var _l=this.on_find_CurrentStyle_editpadding(_a);if(_l!=_b.editpadding){_b.editpadding=_l;}var _m=this.on_find_CurrentStyle_editmargin(_a);if(_m!=_b.editmargin){_b.editmargin=_m;}var _n=this.on_find_CurrentStyle_editfont(_a);if(_n!=_b.editfont){_b.editfont=_n;}var _o=this.on_find_CurrentStyle_editcolor(_a);if(_o!=_b.editcolor){_b.editcolor=_o;}var _p=this.on_find_CurrentStyle_buttonbackground(_a);if(_p!=_b.buttonbackground){_b.buttonbackground=_p;}var _q=this.on_find_CurrentStyle_buttonborder(_a);if(_q!=_b.buttonborder){_b.buttonborder=_q;}var _r=this.on_find_CurrentStyle_buttonbordertype(_a);if(_r!=_b.buttonbordertype){_b.buttonbordertype=_r;}var _s=this.on_find_CurrentStyle_buttongradation(_a);if(_s!=_b.buttongradation){_b.buttongradation=_s;}var _t=this.on_find_CurrentStyle_buttonpadding(_a);if(_t!=_b.buttonpadding){_b.buttonpadding=_t;}var _u=this.on_find_CurrentStyle_buttonmargin(_a);if(_u!=_b.buttonmargin){_b.buttonmargin=_u;}var _v=this.on_find_CurrentStyle_buttonfont(_a);if(_v!=_b.buttonfont){_b.buttonfont=_v;}var _w=this.on_find_CurrentStyle_buttoncolor(_a);if(_w!=_b.buttoncolor){_b.buttoncolor=_w;}var _x=this.on_find_CurrentStyle_buttonsize(_a);if(_x!=_b.buttonsize){_b.buttonsize=_x;this.on_apply_style_buttonsize(_x);}var _y=this.on_find_CurrentStyle_buttontext(_a);if(_y!=_b.buttontext){_b.buttontext=_y;this.on_apply_style_buttontext(_y);}var _z=this.on_find_CurrentStyle_itemheight(_a);if(_z!=_b.itemheight){_b.itemheight=_z;this.on_apply_style_itemheight(_z);}var _aa=this.on_find_CurrentStyle_editaccessibility(_a);if(_aa!=_b.editaccessibility){_b.editaccessibility=_aa;this.on_find_CurrentStyle_editaccessibility(_aa);}var _ab=this.on_find_CurrentStyle_buttonaccessibility(_a);if(_ab!=_b.buttonaccessibility){_b.buttonaccessibility=_ab;this.on_apply_style_buttonaccessibility(_ab);}};_pFileUpload.on_create_custom_style=function(){return new nexacro.FileUpload_Style(this);};_pFileUpload.on_create_custom_currentStyles=function(){return new nexacro.FileUpload_CurrentStyle();};_pFileUpload.on_find_CurrentStyle_editbackground=function(_a){var _b=this._find_pseudo_obj("editbackground",_a,"background");return _b;};_pFileUpload.on_find_CurrentStyle_editborder=function(_a){var _b=this._find_pseudo_obj("editborder",_a,"border");return _b;};_pFileUpload.on_find_CurrentStyle_editbordertype=function(_a){var _b=this._find_pseudo_obj("editbordertype",_a,"bordertype");return _b;};_pFileUpload.on_find_CurrentStyle_editgradation=function(_a){var _b=this._find_pseudo_obj("editgradation",_a,"gradation");return _b;};_pFileUpload.on_find_CurrentStyle_editpadding=function(_a){var _b=this._find_pseudo_obj("editpadding",_a,"padding");return _b;};_pFileUpload.on_find_CurrentStyle_editmargin=function(_a){var _b=this._find_pseudo_obj("editmargin",_a,"margin");return _b;};_pFileUpload.on_find_CurrentStyle_editfont=function(_a){var _b=this._find_pseudo_obj("editfont",_a,"font");return _b;};_pFileUpload.on_find_CurrentStyle_editcolor=function(_a){var _b=this._find_pseudo_obj("editcolor",_a,"color");return _b;};_pFileUpload.on_find_CurrentStyle_buttonbackground=function(_a){var _b=this._find_pseudo_obj("buttonbackground",_a,"background");return _b;};_pFileUpload.on_find_CurrentStyle_buttonborder=function(_a){var _b=this._find_pseudo_obj("buttonborder",_a,"border");return _b;};_pFileUpload.on_find_CurrentStyle_buttonbordertype=function(_a){var _b=this._find_pseudo_obj("buttonbordertype",_a,"bordertype");return _b;};_pFileUpload.on_find_CurrentStyle_buttongradation=function(_a){var _b=this._find_pseudo_obj("buttongradation",_a,"gradation");return _b;};_pFileUpload.on_find_CurrentStyle_buttonpadding=function(_a){var _b=this._find_pseudo_obj("buttonpadding",_a,"padding");return _b;};_pFileUpload.on_find_CurrentStyle_buttonmargin=function(_a){var _b=this._find_pseudo_obj("buttonmargin",_a,"margin");return _b;};_pFileUpload.on_find_CurrentStyle_buttonfont=function(_a){var _b=this._find_pseudo_obj("buttonfont",_a,"font");return _b;};_pFileUpload.on_find_CurrentStyle_buttoncolor=function(_a){var _b=this._find_pseudo_obj("buttoncolor",_a,"color");return _b;};_pFileUpload.on_find_CurrentStyle_buttonsize=function(_a){var _b=this._find_pseudo_obj("buttonsize",_a);return _b?_b:this._defaultButtonsize;};_pFileUpload.on_find_CurrentStyle_buttontext=function(_a){var _b=this._find_pseudo_obj("buttontext",_a);return _b?_b:this._defaultButtontext;};_pFileUpload.on_find_CurrentStyle_itemheight=function(_a){var _b=this._find_pseudo_obj("itemheight",_a);return _b?_b:this._defaultItemheight;};_pFileUpload.on_find_CurrentStyle_editaccessibility=function(_a){return this._find_pseudo_obj("editaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pFileUpload.on_find_CurrentStyle_buttonaccessibility=function(_a){return this._find_pseudo_obj("buttonaccessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pFileUpload.on_update_style_editbackground=function(){var _a=this.currentstyle.editbackground=this.on_find_CurrentStyle_editbackground(this._pseudo);this.on_apply_style_editbackground(_a);};_pFileUpload.on_update_style_editborder=function(){var _a=this.currentstyle.editborder=this.on_find_CurrentStyle_editborder(this._pseudo);this.on_apply_style_editborder(_a);};_pFileUpload.on_update_style_editbordertype=function(){var _a=this.currentstyle.editbordertype=this.on_find_CurrentStyle_editbordertype(this._pseudo);this.on_apply_style_editbordertype(_a);};_pFileUpload.on_update_style_editgradation=function(){var _a=this.currentstyle.editgradation=this.on_find_CurrentStyle_editgradation(this._pseudo);this.on_apply_style_editgradation(_a);};_pFileUpload.on_update_style_editpadding=function(){var _a=this.currentstyle.editpadding=this.on_find_CurrentStyle_editpadding(this._pseudo);this.on_apply_style_editpadding(_a);};_pFileUpload.on_update_style_editmargin=function(){var _a=this.currentstyle.editmargin=this.on_find_CurrentStyle_editmargin(this._pseudo);this.on_apply_style_editmargin(_a);};_pFileUpload.on_update_style_editfont=function(){var _a=this.currentstyle.editfont=this.on_find_CurrentStyle_editfont(this._pseudo);this.on_apply_style_editfont(_a);};_pFileUpload.on_update_style_editcolor=function(){var _a=this.currentstyle.editcolor=this.on_find_CurrentStyle_editcolor(this._pseudo);this.on_apply_style_editcolor(_a);};_pFileUpload.on_update_style_buttonbackground=function(){var _a=this.currentstyle.buttonbackground=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.on_apply_style_buttonbackground(_a);};_pFileUpload.on_update_style_buttonborder=function(){var _a=this.currentstyle.buttonborder=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.on_apply_style_buttonborder(_a);};_pFileUpload.on_update_style_buttonbordertype=function(){var _a=this.currentstyle.buttonbordertype=this.on_find_CurrentStyle_buttonbordertype(this._pseudo);this.on_apply_style_buttonbordertype(_a);};_pFileUpload.on_update_style_buttongradation=function(){var _a=this.currentstyle.buttongradation=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.on_apply_style_buttongradation(_a);};_pFileUpload.on_update_style_buttonpadding=function(){var _a=this.currentstyle.buttonpadding=this.on_find_CurrentStyle_buttonpadding(this._pseudo);this.on_apply_style_buttonpadding(_a);};_pFileUpload.on_update_style_buttonmargin=function(){var _a=this.currentstyle.buttonmargin=this.on_find_CurrentStyle_buttonmargin(this._pseudo);this.on_apply_style_buttonmargin(_a);};_pFileUpload.on_update_style_buttonfont=function(){var _a=this.currentstyle.buttonfont=this.on_find_CurrentStyle_buttonfont(this._pseudo);this.on_apply_style_buttonfont(_a);};_pFileUpload.on_update_style_buttoncolor=function(){var _a=this.currentstyle.buttoncolor=this.on_find_CurrentStyle_buttoncolor(this._pseudo);this.on_apply_style_buttoncolor(_a);};_pFileUpload.on_update_style_buttonsize=function(){var _a=this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.on_apply_style_buttonsize(_a);};_pFileUpload.on_update_style_buttontext=function(){var _a=this.currentstyle.buttontext=this.on_find_CurrentStyle_buttontext(this._pseudo);this.on_apply_style_buttontext(_a);};_pFileUpload.on_update_style_itemheight=function(){var _a=this.currentstyle.itemheight=this.on_find_CurrentStyle_itemheight(this._pseudo);this.on_apply_style_itemheight(_a);};_pFileUpload.on_update_style_editaccessibility=function(){var _a=this.currentstyle.editaccessibility=this.on_find_CurrentStyle_editaccessibility(this._pseudo);this.on_apply_style_editaccessibility(_a);};_pFileUpload.on_update_style_buttonaccessibility=function(){var _a=this.currentstyle.buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(this._pseudo);this.on_apply_style_buttonaccessibility(_a);};_pFileUpload.on_apply_style_padding=function(_a){var _b=this._items;var _c=_b.length;var _d=this._client_width-_a.right;var _e=this.on_find_CurrentStyle_itemheight(this._pseudo);for(var _f=0;_f<_c;_f++ ){_b[_f].move(_a.left,(itemheight*_f+_a.top),_d,(_e*(_f+1)+_a.top),null,null);}};_pFileUpload.on_apply_style_cursor=function(_a){var _b=this._control_element;var _c=this._items;var _d=_c.length;if(_b){_b.setElementCursor(_a);for(var _e=0;_e<_d;_e++ ){_c[_e].on_apply_style_cursor(_a);}}};_pFileUpload.on_apply_style_editbackground=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_background(_a);}}};_pFileUpload.on_apply_style_editborder=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_border(_a);}}};_pFileUpload.on_apply_style_editbordertype=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_bordertype(_a);}}};_pFileUpload.on_apply_style_editgradation=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_gradation(_a);}}};_pFileUpload.on_apply_style_editpadding=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_update_style_padding(_a);}}};_pFileUpload.on_apply_style_editmargin=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_margin(_a);}}};_pFileUpload.on_apply_style_editfont=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_font(_a);}}};_pFileUpload.on_apply_style_editcolor=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.on_apply_style_color(_a);}}};_pFileUpload.on_apply_style_buttonbackground=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_background(_a);}}};_pFileUpload.on_apply_style_buttonborder=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_border(_a);}}};_pFileUpload.on_apply_style_buttonbordertype=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_bordertype(_a);}}};_pFileUpload.on_apply_style_buttongradation=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_gradation(_a);}}};_pFileUpload.on_apply_style_buttonpadding=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_update_style_padding(_a);}}};_pFileUpload.on_apply_style_buttonmargin=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_margin(_a);}}};_pFileUpload.on_apply_style_buttonfont=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_font(_a);}}};_pFileUpload.on_apply_style_buttoncolor=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitembutton){_b[_d].fileitembutton.on_apply_style_color(_a);}}};_pFileUpload.on_apply_style_buttonsize=function(_a){this.on_change_containerRect();};_pFileUpload.on_apply_style_buttontext=function(_a){if(_a==null){_a=this._defaultButtontext;}var _b=this._items;var _c=_b.length;if(_b==null){return;}for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_buttontext(_a);}};_pFileUpload.on_apply_style_itemheight=function(_a){this.on_change_containerRect();this.resetScroll();};_pFileUpload.on_apply_style_align=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].fileitemedit){_b[_d].fileitemedit.style.set_align(_a);}}};_pFileUpload.on_apply_style_editaccessibility=function(_a){var _b=this._items.length;var _c=null;var _d=null;if(_a){for(var _e=0;_e<_b;_e++ ){_c=this._getItem(_e);if(_c.fileitemedit){_c.fileitemedit.on_apply_style_accessibility(_a);}}}};_pFileUpload.on_apply_style_buttonaccessibility=function(_a){var _b=this._items.length;var _c=null;if(_a){for(var _d=0;_d<_b;_d++ ){_c=this._getItem(_d);if(_c.fileitembutton){_c.fileitembutton.on_apply_style_accessibility(_a);}}}};_pFileUpload.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._items;var _c=this.itemcount;for(var _d=0;_d<_c;_d++ ){var _e=this._createFileItem(_d,0,0,0,0);this.filepathedits.add_item(_e.id,_e.fileitemedit);this.filefindbuttons.add_item(_e.id,_e.fileitembutton);_b[_d]=_e;}}};_pFileUpload.on_created_contents=function(){var _a=new Date().valueOf().toString();nexacro._create_hidden_frame(this._unique_id,_a,this.on_load,this);_a=null;this.on_apply_index();this.on_apply_innerdataset();this.on_apply_filecolumn();this.on_apply_prop_enable(this._isEnable());if(nexacro._enableaccessibility){this.on_apply_style_editaccessibility(this.currentstyle.editaccessibility=this.on_find_CurrentStyle_editaccessibility(this._pseudo));this.on_apply_style_buttonaccessibility(this.currentstyle.buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(this._pseudo));}var _b=this._items;var _c=this.itemcount;for(var _d=0;_d<_c;_d++ ){_b[_d].on_created();_b[_d]._setEventHandler("onfindclick",this.on_notify_onfindclick,this);_b[_d]._setEventHandler("onitemclick",this.on_notify_onitemclick,this);if(nexacro._enableaccessibility){_b[_d]._setAccessibilityInfoIndex(_d+1);_b[_d]._setAccessibilityInfoCount(_c);}};this._onRecalcScrollSize();this._onResetScrollBar();this._updateClientSize(this._control_element);this.on_apply_style_buttontext(this.currentstyle.buttontext);this.on_change_containerRect();this.on_apply_prop_rtldirection();};_pFileUpload.on_destroy_contents=function(){var _a=this.name;var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].destroy();}this.filelist=null;this._items=null;this.filepathedits.clear();this.filepathedits=null;this.filefindbuttons.clear();this.filefindbuttons=null;nexacro._destroy_hidden_frame(this._unique_id,this,this._handle);};_pFileUpload.on_change_containerRect=function(_a,_b){var _c=this._items;var _d=_c.length;if(_d<=0){return;}var _e=this._pseudo;var _f=this._client_width;var _g=this._client_left;var _h=this._client_top;var _i,_j;var _k=parseInt(this.on_find_CurrentStyle_itemheight(_e),10);var _l=parseInt(this.on_find_CurrentStyle_buttonsize(_e),10);var _m=this.on_find_CurrentStyle_padding(_e);var _n=_l+_m.left+_m.right;var _o=_f;if(_n>_f){_i=_g-_m.left;}else{_i=_g-_m.left;}for(var _p=0;_p<_d;_p++ ){_j=_k*_p;_c[_p].move(_i,_j,_o,_k,null,null);_c[_p].on_apply_style_itemheight(_k);_c[_p].on_apply_style_buttonsize(_l);}};_pFileUpload.resetScroll=function(){var _a=this.getElement();if(_a){this._onRecalcScrollSize();this._updateClientSize(_a);}};_pFileUpload._onRecalcScrollSize=function(_a){var _b=this.getElement();if(_b){var _c=this._pseudo;var _d=this.vscrollbar;var _e=this.hscrollbar;var _f=this.on_find_CurrentStyle_itemheight(_c);var _g=this.on_find_CurrentStyle_border(_c);var _h=this.on_find_CurrentStyle_padding(_c);var _i=this.itemcount*_f;var _j=this._client_width;if(_i>this._client_height){if(_d){_j-=_d._adjust_width;}else{_j-=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;}}_b.setElementScrollMaxSize(_j,_i);}};_pFileUpload.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementHScrollPos(_b.pos);}return true;};_pFileUpload.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementVScrollPos(_b.pos);}return true;};_pFileUpload.set_multiselect=function(_a){if(_a!=this.multiselect){this.multiselect=_a;_a=nexacro._toBoolean(_a);if(_a!=this._multiselect){this._multiselect=_a;this.on_apply_multiselect(_a);}}};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<10){_pFileUpload.on_apply_multiselect=nexacro._emptyFn;}else{_pFileUpload.on_apply_multiselect=function(){var _a=this.getElement();if(_a){var _b=this._items;var _c=_b.length;var _d=this._multiselect;var _e=this._unique_id;var _f=this._handle;for(var _g=0;_g<_c;_g++ ){nexacro._setMultipleFile(_e,_b[_g].name,_d,_b[_g]);}}};}_pFileUpload.set_uploadurl=function(_a){if(_a!=this.uploadurl){this.uploadurl=_a;}};_pFileUpload.set_itemcount=function(_a){var _b=parseInt(_a)|0;if(_b!=this.itemcount){this._old_itemcount=this.itemcount;this.itemcount=_b;this.on_apply_itemcount();}};_pFileUpload.on_apply_itemcount=function(){var _a=this.getElement();if(_a){var _b=this._pseudo;var _c=this._old_itemcount;var _d=this.itemcount;var _e=this._items;var _f=_e.length;var _g=this._client_left;var _h=this._client_top;var _i=this._client_width;var _j=parseInt(this.on_find_CurrentStyle_itemheight(_b),10);var _k=parseInt(this.on_find_CurrentStyle_buttonsize(_b),10);var _l=this.on_find_CurrentStyle_buttontext(_b);while(_f&&_c>_d){_c-- ;_e.pop().destroy();}for(var _m=_f;_m<_d;_m++ ){var _n=_g;var _o=_h+(_j*_m);var _p=_i;var _q=this._createFileItem(_m,_n,_o,_p,_j);this.filepathedits.add_item(_q.id,_q.fileitemedit);this.filefindbuttons.add_item(_q.id,_q.fileitembutton);this._items[_m]=_q;}this.on_change_containerRect();this.on_apply_style_buttontext(_l);this.resetScroll();}};_pFileUpload.set_itemheight=function(_a){var _b=parseInt(_a)|0;if(_b!=this.itemheight){this.itemheight=_b;this.on_apply_itemheight(_b);}};_pFileUpload.on_apply_itemheight=function(_a){var _b=this.getElement();if(_b){this.style.set_itemheight(_a);}};_pFileUpload.set_timeout=function(_a){if(_a!=this.timeout){this.timeout=_a;}};_pFileUpload.set_retry=function(_a){if(_a!=this.retry){this.retry=_a;}};_pFileUpload.set_async=function(_a){if(_a!=this.async){this.async=_a;}};_pFileUpload.set_index=function(_a){if(_a!=this.index){this.index=_a;this.on_apply_index(_a);this._setAccessibilityStatSelected(_a);};};_pFileUpload.on_apply_index=function(_a){var _b=this.getElement();if(_b){var _c=this._items[_a];if(_c){if(this._editFlag){_c.fileitemedit.setFocus(false);}if(this._buttonFlag){_c.fileitembutton.setFocus(false);}var _d=_c._getLastFocused();this.value=_c.value;}}};_pFileUpload.set_text=function(_a){};_pFileUpload._setText=function(_a){if(_a!=this.text){this.text=_a;}return this.text;};_pFileUpload.on_apply_text=function(_a){};_pFileUpload.set_value=function(_a){};_pFileUpload._setValue=function(_a){if(_a!=this.value){this.value=_a;}};_pFileUpload.on_apply_value=function(_a){};_pFileUpload.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pFileUpload._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pFileUpload.getInnerDataset=function(){return this._innerdataset;};_pFileUpload.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pFileUpload.on_apply_innerdataset=function(){var _a=this.getElement();if(_a){this.on_apply_filecolumn();}};_pFileUpload.set_filecolumn=function(_a){if(_a!=this.filecolumn){this.filecolumn=_a;this.on_apply_filecolumn(_a);}};_pFileUpload.on_apply_filecolumn=function(_a){var _b=this.getElement();if(_b&&this._innerdataset){var _c=this._items;for(var _d=0;_d<_c.length;_d++ ){var _a=this._innerdataset.getColumn(_d,_a);if(_a){_c[_d].set_value(_a);_a=0;}}}};_pFileUpload.upload=function(_a){var _b=false;var _c;if(_a==undefined){if(this.uploadurl){_c=application._getServiceLocation(this.uploadurl);}}else{_c=application._getServiceLocation(_a);}if(_c){var _d=this._items;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(_d[_f].value){_b=true;nexacro._submit(this._unique_id,_c,this._handle,null,_d[_f].value);break;}}}return _b;};_pFileUpload.appendItem=function(){var _a=this.getElement();if(_a){var _b=this._pseudo;var _c=this.itemcount;var _d=this._client_left;var _e=this._client_top;var _f=this._client_width;var _g=parseInt(this.on_find_CurrentStyle_itemheight(_b),10);var _h=parseInt(this.on_find_CurrentStyle_buttonsize(_b),10);var _i=this.on_find_CurrentStyle_buttontext(_b);var _j=this.on_find_CurrentStyle_padding(_b);var _k=_d+_j.left;var _l=_e+(_g*_c)+_j.top;var _m=_f-_j.right;var _n=_c;var _o=this._createFileItem(_n,_k,_l,_m,_g);this.filepathedits.add_item(_o.id,_o.fileitemedit);this.filefindbuttons.add_item(_o.id,_o.fileitembutton);this._items[_n]=_o;this.itemcount++ ;if(nexacro._enableaccessibility){_o._setAccessibilityInfoIndex(_n);_o._setAccessibilityInfoCount(_n+1);}this.on_change_containerRect();this.on_apply_style_buttontext(_i);this.resetScroll();this.on_fire_onappenditem(this,_n);}};_pFileUpload.deleteItem=function(_a){var _b=this.index;var _c=this.getElement();if(_c){_a=parseInt(_a,10);var _d=this._items;if(this.itemcount<=_a){return;}var _e=this.itemcount;var _f=_e-1;for(var _g=_a+1;_g<_e;_g++ ){if(_b==_g){this.index-- ;}_d[_g].index-- ;if(nexacro._enableaccessibility){_d[_g]._setAccessibilityInfoIndex(_g);_d[_g]._setAccessibilityInfoCount(_f);}}_d[_a].destroy();this._upadteFileList();_d.splice(_a,1);if(_b==_a){this.index= -1;this.value=undefined;}this.itemcount-- ;this.on_change_containerRect();this.resetScroll();this.on_fire_ondeleteitem(this,_a);}};_pFileUpload.getItemCount=function(_a){var _b=this.getElement();if(_b){_a=nexacro._toBoolean(_a);var _c=0;var _d=0;var _e;var _f=this._items;var _g=_f.length;while(_d<_g){if(_a==true){if(_f[_d].value){_c++ ;}}else{return _g;}++ _d;}return _c;}};_pFileUpload.getItemIndex=function(_a){var _b=this.getElement();if(_b){if(typeof _a=="object"){var _c=0;var _d=this._items;while(_c<_d.length){if(_a==_d[_c].fileitembutton){return _c;}if(_a==_d[_c].fileitemedit){return _c;}++ _c;}return  -1;}}};_pFileUpload._getItem=function(_a){if(_a>=0&&this._items.length>0){return this._items[_a];}return null;};_pFileUpload.hasValue=function(_a){var _b=this.getElement();if(_b){var _c=0;var _d=this._items;if(_a== -1){while(_c<_d.length){if(_d[_c].value){ ++cnt;}++ _c;}if(cnt==_d.length){return true;}return false;}if(_a<_d.length&&_d[_a].value){return true;}return false;}};_pFileUpload.getValue=function(_a){var _b=this.getElement();if(_b){var _c=this._items;if(_c&&_a>=0&&_a<_c.length){return _c[_a].value;}return "";}};_pFileUpload.on_notify_onfindclick=function(_a,_b){var _c=false;var _d=nexacro._indexOf(this._items,_a);if(this.visible&&this._isEnable()&&this.enableevent){_c=this.on_fire_onfindclick(_a,_d);if(_c){try{nexacro._findclick(this._unique_id,_a.name,_a,this._handle);}catch(e){var _e=nexacro.MakeError("ObjectError",this,"comp_incorrect_file");this.on_fire_onerror(this,_e.name,_e.message,_a,null,null,null,_d);}}}return _c;};_pFileUpload.on_notify_onitemclick=function(_a,_b){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_onitemclick(_a,_a.index);}};_pFileUpload._on_getAccessibilityAdditionalLabel=function(){if(this._first_focus==false){var _a=0;var _b=this._items;if(_b){_a=_b.length;}return ( +this.index)+1+" "+_a;}return "";};_pFileUpload._isAccessibilityEnable=function(){return true;};_pFileUpload.on_get_style_accessibility_label=function(){var _a="";return _a;};_pFileUpload.on_fire_onerror=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onerror&&this.onerror._has_handlers){var _i=new nexacro.FileUploadErrorEventInfo(_a,"onerror",_b,_c,_d,_e,_f,_g,_h);return this.onerror._fireEvent(this,_i);}return true;};_pFileUpload.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.FileUploadMouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,this.index,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireEvent(this,_m);}return false;};_pFileUpload.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.FileUploadMouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,this.index,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttonup._fireUserEvent(this,_n);}return false;};_pFileUpload.on_fire_onfindclick=function(_a,_b){var _c=true;if(this.onfindclick&&this.onfindclick._has_handlers){var _d=new nexacro.FileUploadItemEventInfo(this,"onfindclick",_b);_c=this.onfindclick._fireCheckEvent(this,_d);}return _c;};_pFileUpload.on_fire_onitemclick=function(_a,_b){if(this.onitemclick&&this.onitemclick._has_handlers){var _c=new nexacro.FileUploadItemEventInfo(this,"onitemclick",_b);this.onitemclick._fireEvent(this,_c);}};_pFileUpload.on_fire_onappenditem=function(_a,_b){if(this.onappenditem&&this.onappenditem._has_handlers){var _c=new nexacro.FileUploadItemEventInfo(_a,"onappenditem",_b);this.onappenditem._fireEvent(this,_c);}};_pFileUpload.on_fire_ondeleteitem=function(_a,_b){if(this.ondeleteitem&&this.ondeleteitem._has_handlers){var _c=new nexacro.FileUploadItemEventInfo(_a,"ondeleteitem",_b);this.ondeleteitem._fireEvent(this,_c);}};_pFileUpload.on_fire_onitemchanged=function(_a,_b,_c,_d){if(this.onitemchanged&&this.onitemchanged._has_handlers){var _e=new nexacro.FileUploadItemChangeEventInfo(_a,"onitemchanged",_b,_c,_d);return this.onitemchanged._fireEvent(this,_e);}};_pFileUpload.on_fire_onsuccess=function(_a,_b,_c,_d){application._endCommProgress();if(this.onsuccess&&this.onsuccess._has_handlers){var _e=new nexacro.FileUploadLoadEventInfo(this,"onsuccess",_a,_b,_c,_d);return this.onsuccess._fireEvent(this,_e);}};_pFileUpload._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_tab;this._want_tab=true;return {want_tab:_e,want_return:true,want_escape:false,want_chars:false,want_arrows:this._want_arrow};};_pFileUpload.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._items;var _h=false;var _i=this.index;var _j=nexacro.Event;if(_a==_j.KEY_TAB){if((_d&&_i==0)||(!_d&&_i==_g.length-1)){this._want_tab=false;this.set_index( -1);}else{if(_d){_i-- ;}else{_i++ ;}this.set_index(_i);}this._getWindow()._keydown_element._event_stop=true;}else{if(nexacro._enableaccessibility){var _k=_a==_j.KEY_UP&&_c;var _l=_a==_j.KEY_DOWN&&_c;if(_g[_i]){this._find_item_pseudo(_g[_i]);}var _m=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_i<0){editaccessibility=this.on_find_CurrentStyle_editaccessibility(_g[0].fileitemedit._pseudo);buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(_g[0].fileitembutton._pseudo);}else{editaccessibility=this.on_find_CurrentStyle_editaccessibility(_g[_i].fileitemedit._pseudo);buttonaccessibility=this.on_find_CurrentStyle_buttonaccessibility(_g[_i].fileitembutton._pseudo);}if(_k||_l){var _n=this._getWindow();if((_k&&_i<0)||(_l&&this._buttonFlag&&_i==_g.length-1)){this._want_arrow=false;}else{while((editaccessibility&&editaccessibility.enable)||(buttonaccessibility&&buttonaccessibility.enable)){if(_k){if(!this._editFlag&&editaccessibility&&editaccessibility.enable){this.index= -1;this._editFlag=true;this._buttonFlag=false;}else{_i-- ;if(buttonaccessibility&&buttonaccessibility.enable){if(_i<0&&_m&&_m.enable){this._editFlag=false;this._buttonFlag=false;_n._removeFromCurrentFocusPath(this,false);this._setFocus(false);}else{this.index= -1;this._editFlag=false;this._buttonFlag=true;}}else{if(_i>0){this._buttonFlag=false;continue;}else{this._want_arrow=false;if(_m&&_m.enable){this._editFlag=false;this._buttonFlag=false;_n._removeFromCurrentFocusPath(this,false);this._setFocus(false);}}}}}else if(_l){if(!this._editFlag&&editaccessibility&&editaccessibility.enable){_i++ ;this._editFlag=true;this._buttonFlag=false;}else{if(buttonaccessibility&&buttonaccessibility.enable){this.index= -1;this._editFlag=false;this._buttonFlag=true;}else{if(_i<_g.length-1){this._editFlag=false;continue;}else{this._want_arrow=false;break;}}}}this.set_index(_i);this._want_arrow=true;this._getWindow()._keydown_element._event_stop=true;break;}}}else{this._want_arrow=false;}}}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pFileUpload._find_item_pseudo=function(_a){this._editFlag=(_a.fileitemedit._pseudo=="focused");this._buttonFlag=(_a.fileitembutton._pseudo=="focused");};_pFileUpload._on_focus=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);var _g=this._items;var _h=_g.length;var _i=null;var _j=0;if(_h){this._want_tab=true;_i=_b=="shifttabkey";if(_b=="shifttabkey"||_b=="tabkey"){this._editFlag=false;this._buttonFlag=true;if(_i){_j=this.index<0?_h-1:this.index;}else{_j=this.index<0?0:this.index;this._first_focus=true;}this.index= -1;}else{_i=_b=="upkey";if(nexacro._enableaccessibility){this._editFlag=false;this._buttonFlag=false;this._want_arrow=true;var _k=this.on_find_CurrentStyle_accessibility(this._pseudo);var _l=this.on_find_CurrentStyle_editaccessibility(this._pseudo);var _m=this.on_find_CurrentStyle_buttonaccessibility(this._pseudo);if(_i){this.index= -1;_j=_h-1;if(_m&&_m.enable){this._buttonFlag=true;}else if(_l&&_l.enable){this._editFlag=true;}}else{_j= -1;if(_k&&_k.enable==false){_j=0;this.index= -1;if(_l&&_l.enable){this._editFlag=true;}else if(_m&&_m.enable){this._buttonFlag=true;}this._first_focus=(this._editFlag||this._buttonFlag)?true:false;}}}}this.set_index(_j);if(nexacro._enableaccessibility){this._first_focus=false;}}};_pFileUpload.on_apply_custom_setfocus=function(_a){var _b=nexacro._enableaccessibility;var _c=((_a=="lbutton")?false:_b);var _d=this._items;if(_d.length< -1||_b){var _e=this._control_element;if(_e){_e.setElementFocus(_c);}}else{var _f=_d[this.index];if(_f){_f.fileitembutton._control_element.setElementFocus(_c);}}};_pFileUpload._setParamter=nexacro._emptyFn;_pFileUpload._getDataset=nexacro._emptyFn;_pFileUpload.on_load=function(_a,_b,_c,_d,_e,_f){var _g=_d?_d: -1;var _h=_f?_f:"";try{var _i=nexacro._getXMLDocument(this._unique_id,_b,_c);_c=_i.URL?_i.URL:_i.url;if(_c=="about:blank"){return;}var _j,_k;this.context=this.parent;if(arguments.length<1){if(nexacro._getContentType(_i)=="XML"){_k="XML";_b="";}else{_b=nexacro._getDataFromDOM(_i,this);_b=_b.trim();_k=_b.substring(0,3);}}else{if(_b){_k=_b.substring(0,3);if(_k!="SSV"){_k="XML";}}else{_b=_f;}}if(_k=="XML"){_j=nexacro.Deserializer["XML"](_i);}else if(_k=="SSV"){_j=nexacro.Deserializer["SSV"](_b);}else{}if(_j){var _l=_j[0];if(_l["ErrorCode"]!=null){_g=_l["ErrorCode"];}if(_l["ErrorMsg"]!=null){_h=_l["ErrorMsg"];}}else{_h=_b;}if(_g<0||_a<0){this.on_fire_onerror(this,"ObjectError","failed to get",this,9901,null,null, -1);}else{this.on_fire_onsuccess(_j[1],_g,_h,_c);}delete this.context;}catch(e){this.on_fire_onerror(this,"ObjectError","failed to get",this,9901,null,null, -1);}};_pFileUpload._createFileItem=function(_a,_b,_c,_d,_e){var _f=this.itemcount<1?this._last_id=0: ++this._last_id;var _g="upfile"+_f;var _h=new nexacro.FileItemCtrl(_g,"absolute",_b,_c,_d,_e,null,null,this);_h.index=_a;_h.set_name(_g);_h.createComponent();_h.on_created();_h._setEventHandler("onfindclick",this.on_notify_onfindclick,this);_h._setEventHandler("onitemclick",this.on_notify_onitemclick,this);return _h;};_pFileUpload.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d]._setEnable(_a);_b[_d].fileitemedit._setEnable(_a);_b[_d].fileitembutton._setEnable(_a);}};_pFileUpload._isPopupFrame=function(){return this._onPopupWin;};_pFileUpload._upadteFileList=function(){var _a=this.filelist=[];var _b=this._items;var _c=_b.length;var _d,_e,_f;for(var _g=0;_g<_c;_g++ ){var _h=_b[_g];_e=_h._files;if(_e){var _i=_e.length;for(var _j=0;_j<_i;_j++ ){var _k=_a.length;_d=new nexacro.VirtualFile("uploadfile"+_k);_f=_e[_j];_d._setRefFile(_f);_a[_k]=_d;}}}};delete _pFileUpload;nexacro.FileUploadCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FileUpload.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pFileUploadCtrl=nexacro._createPrototype(nexacro.FileUpload,nexacro.FileUploadCtrl);nexacro.FileUploadCtrl.prototype=_pFileUploadCtrl;nexacro._setForControlStyleFinder(_pFileUploadCtrl);delete _pFileUploadCtrl;nexacro.FileItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.fileitemedit=null;this.fileitembutton=null;this.selected=false;this.itemheight=18;this.buttontext="find";this.buttonsize=18;this.name="";this.oldvalue="";this.value="";this.index=0;this.components=[];this._accessibility_role="none";this._event_list={"onfindclick":1,"onitemclick":1};};var _pFileItem=nexacro._createPrototype(nexacro.Component,nexacro.FileItem);nexacro.FileItem.prototype=_pFileItem;_pFileItem._type_name="FileItem";_pFileItem.on_apply_style_itemheight=function(){this.on_change_containerRect(this._client_width,this._client_height);};_pFileItem.on_apply_style_buttonsize=function(){this.on_change_containerRect(this._client_width,this._client_height);};_pFileItem.on_apply_style_buttontext=function(_a){if(this.fileitembutton){this.fileitembutton.set_text(_a);}};_pFileItem.on_create_contents=function(){var _a=this.getElement();if(_a){this.fileitemedit=new nexacro.FileItemEditCtrl("fileitemedit","absolute",0,0,0,0,null,null,this);this.fileitembutton=new nexacro.FileItemButtonCtrl("fileitembutton","absolute",0,0,0,0,null,null,this);this.fileitemedit.set_readonly("true");this.fileitemedit.style.set_align(this.parent.on_find_CurrentStyle_align());this.fileitembutton.set_text("find");this.fileitemedit.createComponent();this.fileitembutton.createComponent();}};_pFileItem.on_created_contents=function(){var _a=this.parent;nexacro._append_hidden_item(_a._unique_id,this.name,this.on_fileinput_onchange,this,_a._handle,this.parent._multiselect);this.fileitemedit.on_created();this.fileitembutton.on_created();this.fileitemedit._setEventHandler("oneditclick",this.on_notify_fileitem_oneditclick,this);this.fileitembutton._setEventHandler("onclick",this.on_notify_fileitem_onfindclick,this);this.fileitemedit._setEventHandler("onlbuttondown",this.on_notify_fileitem_oneditlbuttondown,this);this.fileitembutton._setEventHandler("onlbuttondown",this.on_notify_fileitem_onfindlbuttondown,this);if(nexacro._enableaccessibility){this.components.push(this.fileitemedit);this.components.push(this.fileitembutton);}this._setAccessibilityActiveDescendant(this.fileitembutton);};_pFileItem.on_destroy_contents=function(){if(this.fileitemedit){this.parent.filepathedits.delete_item(this.id);this.fileitemedit.destroy();this.fileitemedit=null;}if(this.fileitembutton){this.parent.filefindbuttons.delete_item(this.id);this.fileitembutton.destroy();this.fileitembutton=null;}if(this._files){this._files=null;}this.components=null;var _a=this.parent;nexacro._remove_hidden_item(_a._unique_id,this.name,_a._handle);if(this._input_node){this._input_node=null;}};_pFileItem.on_change_containerRect=function(_a,_b){var _c=parseInt(this.parent.on_find_CurrentStyle_buttonsize(this._pseudo),10);var _b=parseInt(this.parent.on_find_CurrentStyle_itemheight(this._pseudo),10);var _d=parseInt(this.index,10);var _e=this._client_left;var _f=this._client_top;var _g=this._client_width-_c;var _h=_b;var _i=_e+_g;var _j=_f;var _k=_c;var _l=_h;if(this.fileitemedit){this.fileitemedit.move(_e,_f,_g,_h,null,null);}if(this.fileitembutton){this.fileitembutton.move(_i,_j,_k,_l,null,null);}};_pFileItem.set_value=function(_a){if(_a!=this.value){this.oldvalue=this.value;this.value=_a;this.on_apply_value(_a);this.parent.set_index(this.index);this.parent._setText(_a);this.parent._setValue(_a);return true;}return false;};_pFileItem.on_apply_value=function(_a){if(this.fileitemedit){this.fileitemedit.set_value(_a);}};_pFileItem.set_name=function(_a){if(_a!=this.name){this.name=_a;}};_pFileItem.set_selected=function(_a){if(_a!=this.selected){this.selected=_a;this.on_apply_selected(_a);}};_pFileItem.on_apply_selected=function(_a){if(_a){this._stat_change("select","selected");}else{this._stat_change("notselect","normal");}};_pFileItem.on_notify_fileitem_oneditclick=function(_a,_b){this.parent.set_index(this.index);if(this.onitemclick&&this.onitemclick._has_handlers){this.onitemclick._fireEvent(this,_b);}return false;};_pFileItem.on_notify_fileitem_onfindclick=function(_a,_b){this.parent.set_index(this.index);if(this.onfindclick&&this.onfindclick._has_handlers){this.onfindclick._fireEvent(this,_b);}return false;};_pFileItem.on_notify_fileitem_oneditlbuttondown=function(_a,_b){this._accessibility_find_focus_flag(true,false);this.parent.set_index(this.index);};_pFileItem.on_notify_fileitem_onfindlbuttondown=function(_a,_b){this._accessibility_find_focus_flag(false,true);this.parent.set_index(this.index);};_pFileItem._accessibility_find_focus_flag=function(_a,_b){if(nexacro._enableaccessibility){this.parent._editFlag=_a;this.parent._buttonFlag=_b;}};_pFileItem.on_fileinput_onchange=function(_a){if(this.set_value(_a)){this.parent.on_fire_onitemchanged(this,this.index,this.oldvalue,this.value);}};_pFileItem._isPopupFrame=function(){return this.parent._onPopupWin;};_pFileItem._changeFiles=function(_a){this._files=_a;this.parent._upadteFileList();};delete _pFileItem;nexacro.FileItemCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FileItem.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pFileItemCtrl=nexacro._createPrototype(nexacro.FileItem,nexacro.FileItemCtrl);nexacro.FileItemCtrl.prototype=_pFileItemCtrl;_pFileItemCtrl._type_name="FileItemControl";delete _pFileItemCtrl;nexacro.FileItemEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.EditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._edit=null;};var _pFileItemEditCtrl=nexacro._createPrototype(nexacro.EditCtrl,nexacro.FileItemEditCtrl);nexacro.FileItemEditCtrl.prototype=_pFileItemEditCtrl;_pFileItemEditCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.parent._find_pseudo_obj("editbackground",_a,"background");};_pFileItemEditCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.parent._find_pseudo_obj("editgradation",_a,"gradation");};_pFileItemEditCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.parent._find_pseudo_obj("editborder",_a,"border");};_pFileItemEditCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.parent._find_pseudo_obj("editbordertype",_a,"bordertype");};_pFileItemEditCtrl.on_find_CurrentStyle_padding=function(_a){var _b=this.parent.parent._find_pseudo_obj("editpadding",_a,"padding");return (_b)?_b:this._defaultPadding;};_pFileItemEditCtrl.on_find_CurrentStyle_margin=function(_a){var _b=this.parent.parent._find_pseudo_obj("editmargin",_a,"margin");return (_b)?_b:this._defaultMargin;};_pFileItemEditCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.parent.parent._find_pseudo_obj("editfont",_a,"font")||this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;return _b;};_pFileItemEditCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.parent.parent._find_pseudo_obj("editcolor",_a,"color")||this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;return _b;};_pFileItemEditCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.parent.on_find_CurrentStyle_editaccessibility(_a);};_pFileItemEditCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return this.parent.parent.on_find_CurrentStyle_rtlimagemirroring(_a);};_pFileItemEditCtrl._getAccessibilityLabel=function(_a){var _b="";if(this.parent.parent._first_focus){var _c=this.parent.parent;_b=_c._control_element._makeAccessibilityLabelbyReadtype();}_b+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _b;};delete _pFileItemEditCtrl;nexacro.FileItemButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Button.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._button=null;};var _pFileItemButtonCtrl=nexacro._createPrototype(nexacro.Button,nexacro.FileItemButtonCtrl);nexacro.FileItemButtonCtrl.prototype=_pFileItemButtonCtrl;_pFileItemButtonCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.parent._find_pseudo_obj("buttonbackground",_a,"background");};_pFileItemButtonCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.parent._find_pseudo_obj("buttongradation",_a,"gradation");};_pFileItemButtonCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.parent._find_pseudo_obj("buttonborder",_a,"border");};_pFileItemButtonCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.parent._find_pseudo_obj("buttonbordertype",_a,"bordertype");};_pFileItemButtonCtrl.on_find_CurrentStyle_padding=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttonpadding",_a,"padding");return (_b)?_b:this._defaultPadding;};_pFileItemButtonCtrl.on_find_CurrentStyle_margin=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttonmargin",_a,"margin");return (_b)?_b:this._defaultMargin;};_pFileItemButtonCtrl.on_find_CurrentStyle_font=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttonfont",_a,"font")||this._find_inherit_pseudo_obj("font",_a,"font")||nexacro.Component._default_font;return _b;};_pFileItemButtonCtrl.on_find_CurrentStyle_color=function(_a){var _b=this.parent.parent._find_pseudo_obj("buttoncolor",_a,"color")||this._find_inherit_pseudo_obj("color",_a,"color")||nexacro.Component._default_color;return _b;};_pFileItemButtonCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.parent.on_find_CurrentStyle_buttonaccessibility(_a);};_pFileItemButtonCtrl.on_find_CurrentStyle_rtlimagemirroring=function(_a){return this.parent.parent.on_find_CurrentStyle_rtlimagemirroring(_a);};_pFileItemButtonCtrl._getAccessibilityLabel=function(_a){var _b="";if(this.parent.parent._first_focus){var _c=this.parent.parent;_b=_c._control_element._makeAccessibilityLabelbyReadtype();}_b+=" "+nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);return _b;};_pFileItemButtonCtrl.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==13||_a==32){this.click();}return _g;};delete _pFileItemButtonCtrl;};if(!nexacro.FlashPlayer){nexacro.FlashPlayer=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._params=new nexacro.Collection();};var _pFlash=nexacro.FlashPlayer.prototype=nexacro._createPrototype(nexacro.Component,nexacro.FlashPlayer);_pFlash._type_name="FlashPlayer";_pFlash.codebase="";_pFlash.mimetype="";_pFlash.movie="";_pFlash.adjustalpha="";_pFlash.alignmode="";_pFlash.framenum="";_pFlash.loop="";_pFlash.playing="";_pFlash.quality="";_pFlash.readstate="";_pFlash.scalemode="";_pFlash._obj_id="";_pFlash._obj_elem=null;_pFlash._params=null;_pFlash.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._obj_elem=new nexacro.PluginElement(_a);_b.setElementSize(this._client_width,this._client_height);}};_pFlash.on_created_contents=function(){var _a=this._obj_elem;if(_a){_a.component=this;this.on_apply_codebase();var _b=this._params;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a.setElementParam(_b.get_id(_d),_b.get_item(_d));}_a.setElementPluginSrc(this.movie);if(this.codebase==""){this.codebase="http://fpdownload.adobe.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0";_a.setElementCodebase(this.codebase);}if(this.mimetype==""){this.mimetype="application/x-shockwave-flash";_a.setElementMIMEType(this.mimetype);_a.setElementPluginMIMEType(this.mimetype);}_a.setElementPluginPage("http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash");_a.setElementParam("WMode","Transparent");_a.setElementClassId("{d27cdb6e-ae6d-11cf-96b8-444553540000}");_a.create();_a.setElementVisible(this.visible);this.on_apply_movie();}};_pFlash.on_destroy_contents=function(){var _a=this._obj_elem;if(_a){_a.destroy();this._obj_elem=null;}};_pFlash.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._obj_elem;if(_c){_c.on_update_position();}};_pFlash.on_change_containerRect=function(_a,_b){var _c=this._obj_elem;if(_c){_c.setElementSize(_a,_b);}};_pFlash.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._obj_elem;if(_b){_b.setElementVisible(_a);}};_pFlash.set_mimetype=function(_a){this.mimetype=_a;this.on_apply_mimetype();};_pFlash.on_apply_mimetype=function(){var _a=this._obj_elem;if(_a){var _b=this.mimetype;if(_b){_a.setElementMIMEType(_b);}}};_pFlash.set_codebase=function(_a){this.codebase=_a;this.on_apply_codebase();};_pFlash.on_apply_codebase=function(){var _a=this._obj_elem;if(_a){var _b=this.codebase;if(_b){_a.setElementCodebase(_b);}}};_pFlash.set_movie=function(_a){var _b=_a;if(_b.substring(0,4).toLowerCase()=="url("){_b=_b.substring(5,_b.length-2);}var _b=application._getServiceLocation(_b,this._getRefFormBaseUrl());this.movie=_b;this.on_apply_movie();};_pFlash.on_apply_movie=function(){var _a=this._obj_elem;if(_a){var _b=this.movie;if(_b){_a.setElementParam("Movie",_b);}}};_pFlash.set_scalemode=function(_a){this.scalemode=_a;this.on_apply_scalemode();};_pFlash.on_apply_scalemode=function(){var _a=this._obj_elem;if(_a){var _b=this.scalemode;if(_b){_a.setElementParam("scale",_b);}}};_pFlash.set_loop=function(_a){this.loop=_a;this.on_apply_loop();};_pFlash.on_apply_loop=function(){var _a=this._obj_elem;if(_a){var _b=this.loop;if(_b){_a.setElementParam("loop",_b);}}};_pFlash.set_playing=function(_a){this.playing=_a;this.on_apply_playing();};_pFlash.on_apply_playing=function(){var _a=this._obj_elem;if(_a){var _b=this.playing;if(_b){_a.setElementParam("play",_b);}}};_pFlash.set_quality=function(_a){this.quality=_a;this.on_apply_quality();};_pFlash.on_apply_quality=function(){var _a=this._obj_elem;if(_a){var _b=this.quality;if(_b){_a.setElementParam("quality",_b);}}};delete _pFlash;}if(!nexacro.WebBrowser){nexacro.WebLoadCompEventInfo=function(_a,_b,_c){this.id=this.eventid=_c||"onloadcompleted";this.fromobject=this.fromreferenceobject=_a;this.url=_b;};var _pWebLoadCompEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.WebLoadCompEventInfo);nexacro.WebLoadCompEventInfo.prototype=_pWebLoadCompEventInfo;_pWebLoadCompEventInfo._type_name="WebLoadCompEventInfo";delete _pWebLoadCompEventInfo;nexacro.WebUserNotifyEventInfo=function(_a,_b,_c){this.id=this.eventid=_c||"onusernotify";this.fromobject=this.fromreferenceobject=_a;this.userdata=_b;};var _pWebUserNotifyEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.WebUserNotifyEventInfo);nexacro.WebUserNotifyEventInfo.prototype=_pWebUserNotifyEventInfo;_pWebUserNotifyEventInfo._type_name="WebUserNotifyEventInfo";delete _pWebUserNotifyEventInfo;nexacro.WebBrowser=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._ifrm_elem=null;this.window=null;this.document=null;this.url="";this._url="";this._blockLoadFlag=false;this._current_url="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onloadcompleted":1,"onusernotify":1};this._accessibility_role="webbrowser";};var _pWebBrowser=nexacro._createPrototype(nexacro.Component,nexacro.WebBrowser);nexacro.WebBrowser.prototype=_pWebBrowser;_pWebBrowser._type_name="WebBrowser";_pWebBrowser.on_get_style_accessibility_label=function(){return this.id;};_pWebBrowser.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;this._ifrm_elem=new nexacro.WebBrowserPluginElement(_a);this._ifrm_elem.setElementSize(this._client_width,this._client_height);}};_pWebBrowser.on_created_contents=function(){var _a=this._ifrm_elem;if(_a){_a.component=this;_a.create();_a.initEvent();this.document=_a._document;this.window=_a._winodw;nexacro._observeSysEvent(_a._handle,"mouseover","onmouseover",this._webbrowser_mouseover);}if(this._url===""){this._url="about:blank";}this.on_apply_style_url();this._setAccessibilityOutfocusAction();};_pWebBrowser.on_destroy_contents=function(){var _a=this._ifrm_elem;if(_a){nexacro._stopSysObserving(_a._handle,"mouseover","onmouseover",this._webbrowser_mouseover);this.window=null;this.document=null;_a.destroy();this._ifrm_elem=null;}};_pWebBrowser.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._ifrm_elem;if(_c){_c.on_update_position();}};_pWebBrowser.on_change_containerRect=function(_a,_b){var _c=this._ifrm_elem;if(_c){_c.setElementSize(_a,_b);}};_pWebBrowser.on_fire_onloadcompleted=function(_a,_b){if(this.onloadcompleted&&this.onloadcompleted._has_handlers){var _c=new nexacro.WebLoadCompEventInfo(_a,_b);_c.eventid="onloadcompleted";return this.onloadcompleted._fireEvent(this,_c);}return true;};_pWebBrowser.on_fire_onusernotify=function(_a,_b){if(this.onusernotify&&this.onusernotify._has_handlers){var _c=new nexacro.WebUserNotifyEventInfo(_a,_b);_c.eventid="onusernotify";return this.onusernotify._fireEvent(this,_c);}return true;};_pWebBrowser._getDlgCode=function(_a,_b,_c,_d){var _e=this._ifrm_elem;if(_e){if((!_e._prev_outfocus_message_elem||(_e._prev_outfocus_message_elem._killfocus_flag==true&&_a==nexacro.Event.KEY_UP))||(!_e._next_outfocus_message_elem||(_e._next_outfocus_message_elem._killfocus_flag==true&&_a==nexacro.Event.KEY_DOWN))){this._want_arrow=false;}else{this._want_arrow=true;}}return {want_tab:true,want_return:true,want_escape:false,want_chars:false,want_arrows:this._want_arrow};};_pWebBrowser.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Event;if(_a==_g.KEY_TAB){this._getWindow()._keydown_element._event_stop=false;}else if(nexacro._enableaccessibility){var _h=this._ifrm_elem;if(_h){if(_a==_g.KEY_UP){if(_h._prev_outfocus_message_elem._killfocus_flag==true){_h._prev_outfocus_message_elem._killfocus_flag=false;}else{try{_h._hanle.contentDocument.body.focus();}catch(e){}}}else if(_a==_g.KEY_DOWN){if(_h._next_outfocus_message_elem._killfocus_flag==true){_h._next_outfocus_message_elem._killfocus_flag=false;}else{try{_h._handle.contentDocument.body.focus();}catch(e){}}}}}return nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);};_pWebBrowser.on_apply_custom_setfocus=function(_a){if(nexacro._enableaccessibility){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}var _b=this._ifrm_elem;if(_b){_b._setElementFocus();}};_pWebBrowser._webbrowser_mouseover=function(_a){nexacro._cur_drag_info=null;nexacro._cur_track_info=null;};_pWebBrowser.set_text=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.text){this.text=_a;this._display_text=_a.replace(/ /g,"\u00a0");}};_pWebBrowser.set_enable=function(_a){_a=nexacro._toBoolean(_a);if(this.enable!=_a){var _b=this._control_element;this.enable=_a;if(this._is_created){var _c=(this.parent._real_enable&&_a);if(this._real_enable!=_c){this._real_enable=_c;this._stat_change(_c?"enable":"disable",this._pseudo);this.on_apply_prop_enable(this._real_enable);if(this._ifrm_elem){this._ifrm_elem.setElementEnable(_c);}}}}};_pWebBrowser.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._ifrm_elem;if(_b){_b.setElementVisible(_a);}};_pWebBrowser.set_cookiesynctype=function(_a){};_pWebBrowser.set_url=function(_a){if(_a==undefined){return;}var _b=_a.toString();if(_b!="about:blank"&&_b.match(/http:\/\/|https:\/\//gi)==null){_b="http://"+_b;}this._url=_b;this.url=_a;this.on_apply_style_url();};_pWebBrowser.on_apply_style_url=function(){if(this._url==="http://"||this._url==="https://"||this._url===""){return;}var _a=this._ifrm_elem;if(_a){this._blockLoadFlag=false;_a._setUrl(this._url);}};_pWebBrowser.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);this._setAccessibilityOutfocusAction(_a);};_pWebBrowser.stoploading=function(){;};_pWebBrowser.reload=function(){var _a=this._ifrm_elem;if(_a){if(this._isCrossDomain(this._current_url,this._getRefFormBaseUrl())){var _b=this._url;_a._setUrl("");_a._setUrl(_b);}else{_a._setGo();}}};_pWebBrowser.goback=function(){var _a=this._ifrm_elem;if(_a){if(!this._isCrossDomain(this._current_url,this._getRefFormBaseUrl())){_a._setBack();}}};_pWebBrowser.goforward=function(){var _a=this._ifrm_elem;if(_a){if(!this._isCrossDomain(this._current_url,this._getRefFormBaseUrl())){_a._setForward();}}};_pWebBrowser.on_load_handler=function(_a){if(this._blockLoadFlag){return;}this._current_url=_a;this.document=this._ifrm_elem._getDoc();if(_a!="about:blank"){this._blockLoadFlag=true;this.on_fire_onloadcompleted(this,_a==""?this.url:_a);}};_pWebBrowser.getProperty=function(_a){var _b=this._ifrm_elem;if(_b){return _b.getProperty(_a);}};_pWebBrowser.setProperty=function(_a,_b){var _c=this._ifrm_elem;if(_c){_c.setProperty(_a,_b);}};_pWebBrowser.callMethod=function(_a){var _b=this._ifrm_elem;if(_b){nexacro.WebBrowserPluginElement.prototype.callMethod.apply(_b,arguments);}};_pWebBrowser.addEventHandler=function(_a,_b,_c){if(_a in this._event_list==false){this._event_list[_a]=1;}nexacro.Component.prototype.addEventHandler.call(this,_a,_b,_c);};_pWebBrowser.removeEventHandler=function(_a,_b,_c){nexacro.Component.prototype.removeEventHandler.call(this,_a,_b,_c);};_pWebBrowser._isCrossDomain=function(_a,_b){if(_a==""||_b==""){return true;}if(_a.match(regExp)[4]==_b.match(regExp)[4]){return true;}};_pWebBrowser._isCrossDomain=function(_a,_b){if(_a==""||_b==""){return true;}var _c=/^(https?):\/\/([^:\/\s]+)(:([^\/]*))?((\/[^\s/\/]+)*)?\/?([^#\s\?]*)(\?([^#\s]*))?(#(\w*))?$/;var _d=_a.match(_c);var _e=_b.match(_c);if(!_d||!_e){return true;}if(_d[2]!=_e[2]){return true;}return false;};_pWebBrowser._setAccessibilityOutfocusAction=function(){var _a=this.on_find_CurrentStyle_accessibility("enable");if(_a){var _b=this._ifrm_elem;if(_b){if(_b._prev_outfocus_message_elem){_b._prev_outfocus_message_elem.setElementText(_a.action);}if(_b._next_outfocus_message_elem){_b._next_outfocus_message_elem.setElementText(_a.action);}}}};_pWebBrowser.updateWindow=function(){var _a=this._ifrm_elem;if(_a){_a.updateWindow();}};delete _pWebBrowser;}if(!nexacro.ExcelExportObject){nexacro.ExcelExportProgressEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onprogress";this.fromobject=_a;this.fromreferenceobject=_f;this.itemindex=_c;this.itemtype=_d;this.recordindex=_e;};var _pExportEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ExcelExportProgressEventInfo);nexacro.ExcelExportProgressEventInfo.prototype=_pExportEventInfo;_pExportEventInfo._type_name="ExcelExportProgressEventInfo";delete _pExportEventInfo;nexacro.ExcelExportEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onsuccess";this.fromobject=_a;this.fromreferenceobject=_d;this.url=_c;};var _pExcelExportEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ExcelExportEventInfo);nexacro.ExcelExportEventInfo.prototype=_pExcelExportEventInfo;_pExcelExportEventInfo._type_name="ExcelExportEventInfo";delete _pExcelExportEventInfo;nexacro.ExcelExportErrorEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onerror";this.fromobject=_a;this.fromreferenceobject=_e;this.errortype=_c;this.errormsg=_d;this.statuscode=_f;};var _pExportErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.ExcelExportErrorEventInfo);nexacro.ExcelExportErrorEventInfo.prototype=_pExportErrorEventInfo;_pExportErrorEventInfo._type_name="ExcelExportErrorEventInfo";delete _pExportErrorEventInfo;nexacro.ExcelExportObject=function(_a,_b){this.id=this.name=_a;if(!_b){_b=application.getActiveForm();if(!_b){var _c=application.mainframe._window;var _d=_c.getCurrentFocusPaths();var _e=(_d?_d.length:0);for(var _f=0;_f<_e;_f++ ){var _g=_d[_f];if(!_g){continue;}if(_g._is_form){_b=_g;break;}}}}this.parent=_b;this.activepagename="";this.exportactivemode="active";this.exporteventtype="itemrecord";this.exportfilename="";this.exportmessagealert="";this.exportmessagecomplete="";this.exportmessageprocess="";this.exportmessageready="";this.exportopenmode="noopen";this._exporttype=nexacro.ExportTypes.EXCEL;this.exporttype=nexacro.ExportTypes.EXCEL;this.exportuitype="none";this.templatefilename="";this.commdataformat="";this.commcompress="none";this.exporturl="";this._exportuitype=0;this._exporturl="";this._commcompress=false;this._commdataformat=2;this._grids=[];this._dataset=[];this._xml=[];this._allRowCount=0;this._progress_pos=0;this._uniqueIndex=0;this._fileURL="";this._itemsIndex=0;this._argsParam=null;this._exportBar;this._tempSaveMethod=null;this.onsuccess=new nexacro.EventListener("onsuccess");this.onprogress=new nexacro.EventListener("onprogress");this.onerror=new nexacro.EventListener("onerror");this._handle=null;nexacro._create_filedownload_handle(nexacro._emptyFn,this);this._event_list={"onsuccess":1,"onerror":1,"onprogress":1};};var _pExcelExport=nexacro.ExcelExportObject.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExcelExportObject);_pExcelExport._type_name="ExportObject";_pExcelExport.excelTypeTable={EXCEL:0x0100,EXCEL97:0x0110,EXCEL2007:0x0120,HANCELL2010:0x0400,HANCELL2014:0x0410,256:0x0100,272:0x0110,288:0x0120,1024:0x0400,1040:0x0410};_pExcelExport.on_created=nexacro._emptyFn;_pExcelExport.set_templatefilename=function(_a){if(_a!=this.templatefilename){this.templatefilename=_a;}return _a;};_pExcelExport.set_commdataformat=function(_a){if(_a!=this.commdataformat){this.commdataformat=_a;switch(_a.toString().toUpperCase()){case "XML":this._commdataformat=0;break;case "BINARY":this._commdataformat=1;break;default:this._commdataformat=2;break;}}return _a;};_pExcelExport.set_commcompress=function(_a){if(_a!=this.commcompress){this.commcompress=_a;switch(_a.toString().toUpperCase()){case "COMPRESS":this._commcompress=true;break;default:this._commcompress=false;break;}}return _a;};_pExcelExport.set_exporturl=function(_a){if(_a!=this.exporturl){this.exporturl=_a;this._exporturl=application._getServiceLocation(_a,this.parent._getFormBaseUrl());}return _a;};_pExcelExport.set_name=function(_a){this.id=this.name=_a;};_pExcelExport.set_exporttype=function(_a){if(_a!=this.exporttype){this.exporttype=_a;var _b=this.excelTypeTable[(_a+"").toUpperCase()];if(!_b){_b=256;}this._exporttype=_b;}return _a;};_pExcelExport.set_activepagename=function(_a){if(_a!=this.activepagename){this.activepagename=_a;}return _a;};_pExcelExport.set_exportactivemode=function(_a){if(_a!=this.exportactivemode){this.exportactivemode=_a;}return _a;};_pExcelExport.set_exporteventtype=function(_a){if(_a!=this.exporteventtype){this.exporteventtype=_a;}return _a;};_pExcelExport.set_exportopenmode=function(_a){if(_a!=this.exportopenmode){this.exportopenmode=_a;}return _a;};_pExcelExport.set_exportfilename=function(_a){if(_a!=this.exportfilename){this.exportfilename=_a;}return _a;};_pExcelExport.set_exportmessagealert=function(_a){if(_a!=this.exportmessagealert){this.exportmessagealert=_a;}return _a;};_pExcelExport.set_exportuitype=function(_a){if(_a!=this.exportuitype){this.exportuitype=_a;switch(_a){case "exportprogress":this._exportuitype=1;break;case "statusbar":this._exportuitype=2;break;default:this._exportuitype=0;break;}}return _a;};_pExcelExport.set_exportmessageready=function(_a){if(_a!=this.exportmessageready){this.exportmessageready=_a;}return _a;};_pExcelExport.set_exportmessageprocess=function(_a){if(_a!=this.exportmessageprocess){this.exportmessageprocess=_a;}return _a;};_pExcelExport.set_exportmessagecomplete=function(_a){if(_a!=this.exportmessagecomplete){this.exportmessagecomplete=_a;}return _a;};_pExcelExport.addExportItem=function(_a,_b,_c){var _d= -1;var _e;if(arguments.length==2){if(_a&&_b&&_b instanceof nexacro.ExportItem){_e=_b;_e.parent=this;_e._setEventHandler("onprogress",this.on_notify_onprogress,this);_e._setEventHandler("onsuccess",this.on_notify_onsuccess,this);_e._setEventHandler("onerror",this.on_notify_onerror,this);}else{return  -1;}}else{if(_a&&_b&&_a==this._getItemType(_b)){_e=new nexacro.ExportItem(this.id+"item"+this._uniqueIndex++ ,this);_e._setEventHandler("onprogress",this.on_notify_onprogress,this);_e._setEventHandler("onsuccess",this.on_notify_onsuccess,this);_e._setEventHandler("onerror",this.on_notify_onerror,this);var _f=arguments.length;switch(_f){case 11:arguments[10]&&_e.set_acceptstyle(arguments[10]);case 10:arguments[9]&&_e.set_exportsize(arguments[9]);case 9:arguments[8]&&_e["set_exceptstyle"](arguments[8]);case 8:arguments[7]&&_e["set_exportimage"](arguments[7]);case 7:arguments[6]&&_e["set_exportvalue"](arguments[6]);case 6:arguments[5]&&_e["set_exportmerge"](arguments[5]);case 5:arguments[4]&&_e["set_exportselect"](arguments[4]);case 4:arguments[3]&&_e["set_exporthead"](arguments[3]);case 3:arguments[2]&&_e["set_range"](arguments[2]);case 2:arguments[1]&&_e["set_source"](arguments[1]);break;}}else{return  -1;}}switch(_a){case nexacro.ExportItemTypes.GRID:_e.set_type(_a);_d=this._grids.push(_e)-1;break;case nexacro.ExportItemTypes.DATA:break;case nexacro.ExportItemTypes.XML:break;}return _d;};_pExcelExport.clear=function(){var _a=0;_a+=this._grids.length;_a+=this._dataset.length;_a+=this._xml.length;this._grids=[];this._dataset=[];this._xml=[];return _a;};_pExcelExport.clearExportItems=function(_a){var _b;switch(_a){case nexacro.ExportItemTypes.GRID:_b=this._grids.length;this._grids.length=0;this._grids=[];break;}if(_b==0){this._uniqueIndex=0;}return _b;};_pExcelExport.count=function(){var _a=0;_a+=this._grids.length;_a+=this._dataset.length;_a+=this._xml.length;return _a;};_pExcelExport.countExportItems=function(_a){var _b=0;switch(_a){case nexacro.ExportItemTypes.GRID:_b+=this._grids.length;break;}return _b;};_pExcelExport.delExportItem=function(_a,_b){var _c=false;switch(_a){case nexacro.ExportItemTypes.GRID:if(this._grids.splice(_b,1).length>0){_c=true;}break;}return _c;};_pExcelExport.getExportItem=function(_a,_b){var _c=null;switch(_a){case nexacro.ExportItemTypes.GRID:_c=this._grids[_b];break;}return _c?_c:null;};_pExcelExport.setExportItem=function(_a,_b,_c){if(!_c||!(_c instanceof nexacro.ExportItem)){return false;}var _d=false;switch(_a){case nexacro.ExportItemTypes.GRID:if(_b> -1&&_b<this._grids.length){_c.parent=this;this._grids[_b]=_c;_d=true;}break;}return _d;};_pExcelExport.exportItems=function(_a){var _b= -1;if(!this.exporturl){return _b;}switch(_a){case nexacro.ExportItemTypes.GRID:var _c=this._grids;var _b=this._gCount=_c.length;this._allCount=_b;if(_b>0){if(this.exportmessagealert!=""){alert(this.exportmessagealert);}_c[0]._gridItemExport(this);}break;}return _b;};_pExcelExport.exportData=function(_a){this._argsParam=_a;var _b= -1;if(!this.exporturl){return _b;}var _c=this._grids;var _d=this._gCount=_c.length;this._allCount=_d;if(this._allCount>0&&this.exportmessagealert!=""){alert(this.exportmessagealert);}var _e;for(_e=0;_e<_d;_e++ ){this._allRowCount+=_c[_e].source._getGridRowCount();}if(_d>0){_c[0]._gridItemExport(this);}return this.count();};_pExcelExport.destroy=function(){if(this._exportBar){this._exportBar.destroy();this._exportBar=null;}this._excel_suppress_info=null;this._merge_datas=null;this._grids.length=0;this._dataset.length=0;this._xml.length=0;this.parent.removeChild(this.id);this.parent=null;return true;};_pExcelExport.on_fire_onprogress=function(_a,_b){var _c=this.onprogress;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelExport.on_fire_onsuccess=function(_a,_b){var _c=this.onsuccess;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelExport.on_fire_onerror=function(_a,_b){var _c=this.onerror;var _d;if(_c&&_c._has_handlers){_d=_c._fireEvent(this,_b);}return _d;};_pExcelExport.on_notify_onprogress=function(_a,_b){this.on_fire_onprogress(_a,_b);return false;};_pExcelExport.on_notify_onsuccess=function(_a,_b){this.on_fire_onsuccess(_a,_b);return false;};_pExcelExport.on_notify_onerror=function(_a,_b){this.on_fire_onerror(_a,_b);return false;};_pExcelExport._getItemType=function(_a){var _b;switch(_a&&_a._type_name){case "Grid":_b=nexacro.ExportItemTypes.GRID;break;case "Dataset":break;case "Xml":break;}return _b;};_pExcelExport._getProcessStr=function(_a,_b,_c){var _d="";_d=this.exportmessageprocess.replace("%d",_a);_d=_d.replace("%d",_b);_d=_d.replace("%d",_c);return _d;};_pExcelExport._getForm=function(){if(this.parent instanceof nexacro.Form){return this.parent;}return null;};_pExcelExport._getExportBar=function(_a){var _b=this._getForm();var _c="_exportBar";var _d=_b[_c];if(_d){_d.destroy();}_d=new nexacro.ExportProgress(_c,"absolute",0,0,10,10,null,null,_b);_b.addChild(_d.name,_d);_d._uitype=_a;if(_d.createComponent(true)){_d.on_created();}return _d;};delete _pExcelExport;nexacro.ExportItem=function(_a,_b){this.id=this.name=_a;this.parent=_b||null;this.acceptstyle="";this.exceptstyle="";this.exporthead="allband";this._exporthead="";this.exportimage="none";this.exportmerge="suppress";this._exportmerge=1;this.exportselect="allrecord";this.exportvalue="allstyle";this.exportsize="width";this.range="";this.source="";this.type="";this._applyA=true;this._applyB=true;this._applyC=true;this._applyF=true;this._applyHead=true;this._applySumm=true;this._applyL=false;this._d_BLColor="";this._seq=1;this._preStartRow=0;this._startRow=0;this._eof=false;this._instanceId="";this._a_ct=0;this._bg_ct=0;this._c_ct=0;this._f_ct=0;this._l_ct=0;this._t_ct=0;this._sm_ct=0;this._g_ct=0;this._s_ct=0;this._stylecache={};this._selectcount=0;this._merge_datas=null;this._excel_suppress_info={};this._temp_enableevent=this._temp_treeIndexes=this._temp__treeStates=null;this._tmpSuppressInfos;this._event_list={"onsuccess":1,"onprogress":1,"onerror":1};};var _pItem=nexacro.ExportItem.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExportItem);_pItem._type_name="ExportItem";_pItem._suppress_align_table={"first":"top","first,over":"top","middle":"middle","middle,over":"middle","last":"bottom","last,over":"bottom"};_pItem.set_acceptstyle=function(_a){if(_a!=this.acceptstyle){this.acceptstyle=_a;switch(_a.toLowerCase()){case "cellline":this._applyL=true;break;}}return _a;};_pItem.set_exceptstyle=function(_a){if(_a!=this.exceptstyle){this.exceptstyle=_a;var _b=_a.replace(/ /g,"").split(",");var _c=_b.length;for(var _d=0;_d<_c;_d++ ){switch(_b[_d].toLowerCase()){case "align":this._applyA=false;break;case "background":this._applyB=false;break;case "color":this._applyC=false;break;case "font":this._applyF=false;break;}}}return _a;};_pItem.set_exporthead=function(_a){if(_a!=this.exporthead){this.exporthead=_a;var _b=_a.replace(/ /g,"").split(",");var _c=_b.length;for(var _d=0;_d<_c;_d++ ){switch(_b[_d].toLowerCase()){case "nohead":this._applyHead=false;break;case "nosumm":this._applySumm=false;break;default:this._applySumm=true;this._applySumm=true;break;}}}if(!this._applyHead||!this._applySumm){if(!this._applyHead&&!this._applySumm){this._exporthead="nohead, nosumm";}else if(!this._applyHead){this._exporthead="nohead";}else{this._exporthead="nosumm";}}else{this._exporthead="allband";}return _a;};_pItem.set_exportimage=function(_a){if(_a!=this.exportimage){this.exportimage=_a;}return _a;};_pItem.set_exportmerge=function(_a){if(_a!=this.exportmerge){this.exportmerge=_a;switch(_a){case "nosuppress":this._exportmerge=0;break;case "merge":this._exportmerge=2;break;default:this._exportmerge=1;break;}}return _a;};_pItem.set_exportselect=function(_a){if(_a!=this.exportselect){this.exportselect=_a;}return _a;};_pItem.set_exportvalue=function(_a){if(_a!=this.exportvalue){this.exportvalue=_a;}return _a;};_pItem.set_range=function(_a){if(_a!=this.range){this.range=_a;}return _a;};_pItem.set_source=function(_a){if(_a!=this.source){this.source=_a;}return _a;};_pItem.set_type=function(_a){if(_a!=this.type){this.type=_a;}return _a;};_pItem.set_exportsize=function(_a){if(_a!=this.exportsize){this.exportsize=_a;}return _a;};_pItem.on_fire_onprogress=function(_a,_b,_c,_d){var _e=this.parent.onprogress;if(_e&&_e._has_handlers){var _f=new nexacro.ExcelExportProgressEventInfo(_a,"onprogress",_b,_c,_d,this);_e._fireEvent(this,_f);}};_pItem.on_fire_onsuccess=function(_a,_b,_c){var _d=this.parent.onsuccess;if(_d&&_d._has_handlers){var _e=new nexacro.ExcelExportEventInfo(_a,"onsuccess",_c,this);_d._fireEvent(this,_e);}};_pItem.on_fire_onerror=function(_a,_b,_c,_d){var _e=this.parent.onerror;if(_e&&_e._has_handlers){var _f=new nexacro.ExcelExportErrorEventInfo(_a,"onerror",_b,_c,this,_d);_e._fireEvent(this,_f);}};_pItem._getWindow=function(){var _a=this.parent.parent;if(_a._is_form){return _a._getWindow();}return null;};_pItem._getWindowHandle=function(){var _a=this.parent.parent;if(_a._is_form){return _a._getWindowHandle();}return null;};_pItem._getCellStyle=function(_a,_b,_c,_d,_e){var _f;var _g=_e=="selected"?true:false;switch(_d){case "align":_f=_a._query_pseudo_align(_b,_a.displaytype,_e);break;case "background":_f=_a._query_pseudo_background(_b,_c,_g,_e);break;case "border":_f=_a._query_pseudo_border(_b,false,"normal",0);break;case "color":_f=_a._query_pseudo_color(_b,_c,_g,_e);break;case "font":_f=_a._query_pseudo_font(_b,_g,_e);break;case "gradation":_f=_a._query_pseudo_gradation(_b,_c,_g,_e);break;}return _f;};_pItem._getCellText=function(_a){var _b=_a.subcells;if(_b.length){return _b[0]._getDisplayText();}return _a._getDisplayText();};_pItem._getCellTextBody=function(_a,_b,_c){var _d=_a._curFormat._bodycells;var _e;var _f=_d[_c]._subcells;if(_f.length>0){_e=_f[0]._getDisplayText(_b);}else{_e=_d[_c]._getDisplayText(_b);}return _e;};_pItem._find_styleName=function(_a,_b,_c,_d,_e){var _f="";var _g="";var _h=0;var _i= -1;if(_c){_i=_a.findRow("value",_c,_e);if(_i> -1){_g=_a.getColumn(_i,0);if(_g==_b){_f=_a.getColumn(_i,1);}else{return this._find_styleName(_a,_b,_c,_d,_i+1);}}else{_h=_a.getRowCount();_f=_b+ ++_d;_a.addRow();_a.setColumn(_h,"type",_b);_a.setColumn(_h,"name",_f);_a.setColumn(_h,"value",_c);}}return [_f,_d];};_pItem._getFitValue=function(_a){if(!_a){return;}var _b=[];var _c=_a._value;_b=_c.split(" ");return _b.join(",");};_pItem._getFitFontValue=function(_a){if(!_a){return;}var _b;_b=_a.type+","+_a.size+","+_a.face;return _b;};_pItem._getHEXtoRGB=function(_a){var _b;if(typeof _a=="object"){_b=this._getHexColor(_a._value.split(" ")[0]);}else{_b=this._getHexColor(_a);}var _c=[];if(_b===""){_b=_a._value;}else{if(_b.indexOf("#")> -1){_c.push(parseInt(_b.substring(1,3),16));_c.push(parseInt(_b.substring(3,5),16));_c.push(parseInt(_b.substring(5,7),16));_b=_c.join(",");}else{var _d=_b.indexOf("(");var _e=_b.indexOf(")");_c=_b.substring(_d+1,_e-1).split(",");_c.pop();_b=_c.join(",");}}return _b;};_pItem._makeforDsStyle=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j;var _k="";if(this._applyA){_j=this._find_styleName(_a,"align",_b,this._a_ct);style_name=_j[0];this._a_ct=_j[1];_k+="align:"+style_name+",";}if(this._applyB){_j=this._find_styleName(_a,"background",_c,this._bg_ct);style_name=_j[0];this._bg_ct=_j[1];_k+="background:"+style_name+",";}if(this._applyC){_j=this._find_styleName(_a,"color",_d,this._c_ct);style_name=_j[0];this._c_ct=_j[1];_k+="color:"+style_name+",";}if(this._applyF){_j=this._find_styleName(_a,"font",_e,this._f_ct);style_name=_j[0];this._f_ct=_j[1];_k+="font:"+style_name+",";}_j=this._find_styleName(_a,"line",_f,this._l_ct);style_name=_j[0];this._l_ct=_j[1];_k+="line:"+style_name+",";_j=this._find_styleName(_a,"type",_g,this._t_ct);style_name=_j[0];this._t_ct=_j[1];_k+="type:"+style_name;if(_h>1){_j=this._find_styleName(_a,"rowsuppress",_h,this._sm_ct);style_name=_j[0];this._sm_ct=_j[1];_k+=",rowsuppress:"+style_name;}if(_i>1){_j=this._find_styleName(_a,"colsuppress",_i,this._sm_ct);style_name=_j[0];this._sm_ct=_j[1];_k+=",colsuppress:"+style_name;}_j=this._find_styleName(_a,"style",_k,this._s_ct);style_name=_j[0];this._s_ct=_j[1];return style_name;};_pItem._checkExpr=function(_a){if(_a&&_a._bindtype!=0){return true;}return false;};_pItem._checkGradation=function(_a){if(_a._value.match(/@gradation/)){return true;}return false;};_pItem._getHexColor=function(_a){var _b=nexacro._xreNamedColorList[_a];if(_b){return _b;}len=_a.length;if(_a.substring(0,1)=='#'){if(len==7){return _a;}if(len==9){return _a.substr(0,7);}}if(_a.substring(0,2)=="0x"){if(len==8){return "#"+_a.substring(2);}if(len==10){return "#"+_a.substring(2,8);}}return "";};_pItem._getGradationColor=function(_a){var _b;var _c;var _d=[];if(_a){_b=_a._value;if(_b!=""){_b=this._getHexColor(_a.start_color);_c=this._getHexColor(_a.end_color);if(_b.indexOf("#")> -1){var _e=_b+_c;if(this._stylecache[_e]){return this._stylecache[_e];}else{_d.push(Math.round((parseInt(_b.substring(1,3),16)+parseInt(_c.substring(1,3),16))/2));_d.push(Math.round((parseInt(_b.substring(3,5),16)+parseInt(_c.substring(3,5),16))/2));_d.push(Math.round((parseInt(_b.substring(5),16)+parseInt(_c.substring(5),16))/2));_b=_d.join(",");this._stylecache[_e]=_b;}}return _b;}}return "";};_pItem._getCellBodyStyle=function(_a,_b,_c){var _d;var _e;var _f;var _g;var _h;var _i;var _j;var _k;var _l;var _m;var _n;var _o="";var _p=this._ds_style;var _q=false;var _r=_a.displaytype._value;var _s;var _t;_d=_a._stylecache["alignnormal"+_r];_e=_a._stylecache["backgroundfalsefalsenormal"];_g=_a._stylecache["colorfalsefalsenormal"];_i=_a._stylecache["fontfalsenormal"];if(this._applyL){_j=_a._stylecache["linefalsebothn"];if(!_j){_j=_a.style.line;if(!_j){_j=_a._query_pseudo_border(0,false,"normal",0);}}}_f=_a._stylecache["backgroundtruefalsenormal"];_h=_a._stylecache["colortruefalsenormal"];if(!_d&&!_e&&!_g&&!_i){_f=_a.style.background2;if(!_f){_f=_a._query_pseudo_background(0,true,false,"normal");}_h=_a.style.color2;if(!_h){_h=_a._query_pseudo_color(0,true,false,"normal");}}if(!_d){_d=_a.style.align;if(!_d){_d=_a._query_pseudo_align(0,_r,"normal");}}if(!_e){_e=_a.style.background;if(!_e){_e=_a._query_pseudo_background(0,false,false,"normal");}}if(!_g){_g=_a.style.color;if(!_g){_g=_a._query_pseudo_color(0,false,false,"normal");}}if(!_i){_i=_a.style.font;if(!_i){_i=_a._query_pseudo_font(0,false,"normal");}}var _u=this._getFitValue(_d);if(this._checkGradation(_e)){_k=_a._stylecache["gradationfalsefalsenormal"];if(!_k){_k=_a.style.gradation;if(!_k){_k=_a._query_pseudo_gradation(0,false,false,"normal");}}var _z=this._getGradationColor(_k);}else{var _z=this._getHEXtoRGB(_e);}var _v=this._getHEXtoRGB(_g);var _w=this._getFitFontValue(_i);var _x="";if(this._applyL&&_j){if(_j.right_style!="none"&&_j._right_width!=0){var _aa=this._getHEXtoRGB(_j.right_color)+(_j.right_style=="solid"?"":","+_j.right_style);_x="empty:empty:"+_aa+":"+_aa;}else{_x="empty:empty:empty:empty";}}else{_x="empty:empty:empty:empty";}if(this._checkExpr(_d)){_u=undefined;}else{this._stylecache[_b+"align"]=_u;}if(this._checkExpr(_e)){_z=undefined;}else{this._stylecache[_b+"background0"]=_z;}if(this._checkExpr(_g)){_v=undefined;}else{this._stylecache[_b+"color0"]=_v;}if(this._checkExpr(_i)){_w=undefined;}else{this._stylecache[_b+"font"]=_w;}if(this._checkExpr(_j)){_aa=undefined;}else{this._stylecache[_b+"line"]=_x;}if(_f){if(this._checkGradation(_f)){_l=_a._stylecache["gradationtruefalsenormal"];if(!_l){_l=_a.style.gradation2;if(!_l){_l=_a._query_pseudo_gradation(0,true,false,"normal");}}var _s=this._getGradationColor(_l);}else{var _s=this._getHEXtoRGB(_f);}if(this._checkExpr(_f)){_s=undefined;}else{this._stylecache[_b+"background1"]=_s;}if(_z!=_s){_q=true;}}else{this._stylecache[_b+"background1"]=_s=_z;}if(_h){var _t=this._getHEXtoRGB(_h);if(this._checkExpr(_h)){_t=undefined;}else{this._stylecache[_b+"color1"]=_t;}if(_v!=_t){_q=true;}}else{this._stylecache[_b+"color1"]=_t=_v;}var _y=this._getFixedCellType(_a,0);_m=this._makeforDsStyle(_p,_u,_z,_v,_w,_x,_y);if(_q){_n=this._makeforDsStyle(_p,_u,_s,_t,_w,_x,_y);}subCell=_a._subcells;subL=subCell.length;if(subL){var _ab="";for(var _ac=0;_ac<subL;_ac++ ){_ab+=this._modifyFormat(subCell[_ac],_m,_n,0,_a);}return _ab;}else{return this._modifyFormat(_a,_m,_n,0);}};_pItem._getFixedCellType=function(_a,_b){var _c=_a._getDisplaytype(_b);var _d="";switch(_c){case "number":var _e=_a._getAttrValue(_a.mask,_b);if(_e!=null&&_e.length!=0){_d=_e;}break;case "date":case "time":case "datetime":_c="date";var _e=_a._getAttrValue(_a.mask,_b);if(_e==null||_e.length==0||!_e.match(/LONGDATE|SHORTDATE|[yMdHhms]/)){_e="yyyy-MM-dd";}else{var _f=_a._getAttrValue(_a.locale,_b);if(!_f){_f=nexacro.BrowserLang;}if(_e=="SHORTDATE"){_e=nexacro.Locale._makeDateMaskString(_f,_e);if(_e==""){_e=nexacro.Locale._default_shortdate_format;}}else if(_e=="LONGDATE"){_e=nexacro.Locale._makeDateMaskString(_f,"SHORTDATE");if(_e==""){_e=nexacro.Locale._default_longdate_format;}}}_d=_e;break;case "image":if(this.exportimage.toLowerCase()=="image"){_d+="image";}default:_c="text";break;}return _c+(_d?":"+_d:"");};_pItem._modifyFormat=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i;_h=_i="";var _j=_a._subcells;var _k=_j?_j.length:0;var _l=1;var _m=1;var _n=_a._colspan;var _o=_a._rowspan;var _p=_a._row;var _q=_a._col;var _r=_p;var _s=_q;_g=_d<0?_a._getDisplayText(_d):_a.text._value;_g=nexacro._encodeXml(_g);if(_e){_p=_r+_e._row;_q=_s+_e._col;}else{_l=_o;_m=_n;}_i+="<Cell ";_i+="row=\""+_p+"\" col=\""+_q+"\" ";_h+="rowspan=\""+_l+"\" ";_h+="colspan=\""+_m+"\" ";if(this._exportmerge==1){if(_f!=null){_g=_f;}}else if(this._exportmerge==2){if(_f!=null){_h=_f;}}_i+=_h;if(_g){_i+="text=\""+_g+"\" ";}var _t="";var _u=this.source;_i+="style1=\""+_b+"\" ";if(_c){_i+="style2=\""+_c+"\" ";}var _v=_a.displaytype;if(_v){var _w=_v._value;if(_w=="image"&&this.exportimage.toLowerCase()=="image"){_i+="displaytype=\"image\" ";}_t=_a._getDisplaytype(_d);switch(_t){case "image":case "text":_t="string";break;case "number":_t="int";break;case "date":case "time":case "datetime":_t="date";var _x=_a._getAttrValue(_a.mask,_d);if(_x==null||_x.length==0||!_x.match(/[yMdHhms]/)){_x="yyyy-MM-dd";}_i+="displaytype=\""+_x+"\" ";break;default:_t="text";break;}_i+="type=\""+_t+"\" ";}_i+="/>";return _i;};_pItem._getSubCellLine=function(_a,_b,_c,_d,_e){var _f;var _g;var _h;var _i;var _j=_a._col;var _k=_a._row;if(_j==_e){_h=_c;}else{_h="empty";}if(_j==0){_f=_b;}else{_f="empty";}if(_k==_d){_i=_c;}else{_i="empty";}if(_k==0){_g=_b;}else{_g="empty";}return _f+":"+_g+":"+_h+":"+_i;};_pItem._makeFakeLine=function(_a,_b,_c){var _d;switch(_a){case "topfake":case "bottomfake":_d="empty:empty:"+_b+":empty";break;case "rightfake":if(_c){_d="empty:empty:empty:"+_b;}else{_d="empty:"+_b+":empty:empty";}break;case "righttopfake":case "rightbottomfake":_d="empty:empty:empty:empty";break;default:if(_c){_d="empty:empty:"+_b+":"+_b;}else{_d="empty:"+_b+":"+_b+":empty";}break;}return _d;};_pItem._makeFormat=function(_a){var _b=_a._curFormat;var _c=_b._headcells;var _d=_c?_c.length:0;var _e=_b._bodycells;var _f=_e?_e.length:0;var _g=_b._summcells;var _h=_g?_g.length:0;var _i="";var _j=this._ds_style;var _k;var _l;var _m;var _n;var _o;var _p;var _q;var _r;var _s;var _t;var _u;var _v;var _w;var _x;var _y=0;var _z;var _aa;var _ab=_b._cols;var _ac=_b._headrows;var _ad=_b._bodyrows;var _ae=_b._summrows;_i="<Formats><Format><Columns>";for(var _af=0,_ag=_ab.length;_af<_ag;_af++ ){_i+='<Column size="'+Math.round(_ab[_af].size)+'" />';}_i+="</Columns><Rows>";for(var _af=0,_ah=_ac?_ac.length:0;_af<_ah;_af++ ){_i+='<Row size="'+Math.round(_ac[_af].size)+'" band="head" />';}for(var _af=0,_ah=_ad?_ad.length:0;_af<_ah;_af++ ){_i+='<Row size="'+Math.round(_ad[_af].size)+'" />';}for(var _af=0,_ah=_ae?_ae.length:0;_af<_ah;_af++ ){_i+='<Row size="'+Math.round(_ae[_af].size)+'" band="summ" />';}_i+="</Rows>";if(_d>0&&this._applyHead){_r=_c[0].parent._find_gridpseudo_obj("cellline","normal",null,"line");_i+="<Head>";for(var _af=0;_af<_d;_af++ ){_w=_c[_af];_z=this._getCellStyle(_w, -1,false,"background","normal");if(this._checkGradation(_z)){_aa=this._getCellStyle(_w, -1,false,"gradation","normal");_k=this._getGradationColor(_aa);}else{_k=this._getHEXtoRGB(_z);}_l=this._getFitValue(this._getCellStyle(_w, -1,false,"align","normal"));_m=this._getFitFontValue(this._getCellStyle(_w, -1,false,"font","normal"));_n=this._getHEXtoRGB(this._getCellStyle(_w, -1,false,"color","normal"));if(this._applyL){if(_w.style.line){_o=this._getCellStyle(_w, -1,false,"border","normal");}else{_o=_r;}if(_o&&_o.right_style!="none"&&_o._right_width!=0){_p=this._getHEXtoRGB(_o.right_color)+(_o.right_style=="solid"?"":","+_o.right_style);}else{_p="empty";}}else{_p="empty";}var _ai=this._getFixedCellType(_w, -1);_x=_w._subcells;_y=_x.length;if(_y){for(var _aj=0;_aj<_y;_aj++ ){_q=this._getSubCellLine(_x[_aj],_p,_p,_w._rowspan-1,_w._colspan-1);_v=this._makeforDsStyle(_j,_l,_k,_n,_m,_q,_ai);_i+=this._modifyFormat(_x[_aj],_v,null, -1,_w);}}else{var _ak=false;_q="empty:empty:"+_p+":"+_p;var _al=null;var _am=0;var _an=0;if(this._exportmerge==1){if(!!_a._checkFakeMerge(_w, -1)){_q=this._makeFakeLine(_w._fakemerge_infos[1],_p,true);_al="";var _ao=this._merge_datas&&this._merge_datas[ -1+"_"+_af];if(_ao){if(_ao.isFakeStart){_al=nexacro._encodeXml(_w._getDisplayText( -1));if(_l!="left,top"){var _ap=_l.split(",");var _aq=_ao[_ap[1]]+"_"+_ao[_ap[0]];if(this._merge_datas[_aq]){this._merge_datas[_aq].disPlayText=_al;this._merge_datas[_aq].showText=true;}else{this._merge_datas[_aq]={disPlayText:_al,showText:true};}}_al="";}else if(_ao.showText){_al=_ao.disPlayText;}}}}else if(this._exportmerge==2){var _ao=this._merge_datas&&this._merge_datas[ -1+"_"+_af];if(_ao){if(_ao.isFakeStart){_al="rowspan=\""+_ao.rowspan+"\" colspan=\""+_ao.colspan+"\" ";}else{_ak=true;}}}if(!_ak){_v=this._makeforDsStyle(_j,_l,_k,_n,_m,_q,_ai);_i+=this._modifyFormat(_w,_v,null, -1,false,_al);}}}_i+="</Head>";}if(_f>0){_i+="<Body>";_s=_e[0].parent._find_gridpseudo_obj("cellline","normal",null,"line");this._d_BLColor=_t=_s.right_color?this._getHEXtoRGB(_s.right_color)+(_s.right_style=="solid"?"":","+_s.right_style):"empty";for(var _af=0;_af<_f;_af++ ){_w=_e[_af];_i+=this._getCellBodyStyle(_w,_af,_t);}_i+="</Body>";}if(_h>0&&this._applySumm){_i+="<Summary>";for(var _af=0;_af<_h;_af++ ){_w=_g[_af];_z=this._getCellStyle(_w, -2,false,"background","normal");if(this._checkGradation(_z)){_aa=this._getCellStyle(_w, -2,false,"gradation","normal");_k=this._getGradationColor(_aa);}else{_k=this._getHEXtoRGB(_z);}_l=this._getFitValue(this._getCellStyle(_w, -2,false,"align","normal"));_m=this._getFitFontValue(this._getCellStyle(_w, -2,false,"font","normal"));_n=this._getHEXtoRGB(this._getCellStyle(_w, -2,false,"color","normal"));_r=_g[0].parent._find_gridpseudo_obj("cellline","normal",null,"line");if(this._applyL){if(_w.style.line){_o=this._getCellStyle(_w, -2,false,"border","normal");}else{_o=_r;}if(_o&&_o.right_style!="none"&&_o._right_width!=0){_p=this._getHEXtoRGB(_o.right_color)+(_o.right_style=="solid"?"":","+_o.right_style);}else{_p="empty";}}else{_p="empty";}var _ai=this._getFixedCellType(_w, -2);_x=_w._subcells;_y=_x.length;if(_y){for(var _aj=0;_aj<_y;_aj++ ){_q=this._getSubCellLine(_x[_aj],_p,_p,_w._rowspan-1,_w._colspan-1);_v=this._makeforDsStyle(_j,_l,_k,_n,_m,_q,_ai);_i+=this._modifyFormat(_x[_aj],_v,null, -2,_w);}}else{var _ak=false;_q="empty:"+_p+":"+_p+":empty";var _al=null;if(this._exportmerge==1){if(!!_a._checkFakeMerge(_w, -2)){_q=this._makeFakeLine(_w._fakemerge_infos[0],_p);_al="";var _ao=this._merge_datas&&this._merge_datas[ -2+"_"+_af];if(_ao){if(_ao.isFakeStart){_al=nexacro._encodeXml(_w._getDisplayText( -2));if(_l!="left,top"){var _ap=_l.split(",");var _aq=_ao[_ap[1]]+"_"+_ao[_ap[0]];if(this._merge_datas[_aq]){this._merge_datas[_aq].disPlayText=_al;this._merge_datas[_aq].showText=true;}else{this._merge_datas[_aq]={disPlayText:_al,showText:true};}_al="";}}else if(_ao.showText){_al=_ao.disPlayText;}}}}else if(this._exportmerge==2){if(!!_a._checkFakeMerge(_w, -2)){var _ao=this._merge_datas&&this._merge_datas[ -2+"_"+_af];if(_ao){if(_ao.isFakeStart){_al="rowspan=\""+_ao.rowspan+"\" colspan=\""+_ao.colspan+"\" ";}else{_ak=true;}}}}if(!_ak){_v=this._makeforDsStyle(_j,_l,_k,_n,_m,_q,_ai);_i+=this._modifyFormat(_w,_v,null, -2,false,_al);}}}_i+="</Summary>";}_i+="</Format></Formats>";return _i;};_pItem._getForm=function(){return this.parent.parent;};_pItem._eventExport=function(_a,_b,_c,_d){var _e=_a.exporteventtype;var _f=_a._itemsIndex;var _g=_a._exportBar;if(_e!="none"){var _h=_c+1;var _i="";var _j=_h==this._bodyRowCnt;var _k=_a._progress_pos+_h;if(_e=="item"&&_j){this.on_fire_onprogress(_a,_f,this.type,_d==null?_c:_d);if(_g){_i=_a._getProcessStr(_f+1,_k,_a._allRowCount);_g._set_text(_i);_g._set_pos((_f+1)/_a._allCount*100);}}else if(_e=="itemrecord"){this.on_fire_onprogress(_a,_f,this.type,_d==null?_c:_d);if(_g){_i=_a._getProcessStr(_f+1,_h,this._bodyRowCnt);_g._set_text(_i);_g._set_pos(_h/this._bodyRowCnt*100);}}else if(_e=="totalrecord"){this.on_fire_onprogress(_a,_f,this.type,_d==null?_c:_d);if(_g){_i=_a._getProcessStr(_f+1,_k,_a._allRowCount);_g._set_text(_i);_g._set_pos(_k/_a._allRowCount*100);}}if(_k==_a._allRowCount&&_a.exportmessagecomplete!=""){if(_g){_g._set_text(_a.exportmessagecomplete);}}if(_j&&_g){_a._progress_pos=_k;}}};_pItem._updateBarPos=function(_a,_b){if(_b!="none"&&_a._exportuitype){var _c=_a._itemsIndex;var _d=_a._exportBar;_a._progress_pos+=this._startRow-this._preStartRow;var _e="";var _f=this._startRow==this._bodyRowCnt;if(_b=="item"&&_f){_e=_a._getProcessStr(_c+1,_a._progress_pos,_a._allRowCount);_d._set_text(_e);_d._set_pos((_c+1)/_a._allCount*100);}else if(_b=="itemrecord"){_e=_a._getProcessStr(_c+1,this._startRow,this._bodyRowCnt);_d._set_text(_e);_d._set_pos(this._startRow/this._bodyRowCnt*100);}else if(_b=="totalrecord"){_e=_a._getProcessStr(_c+1,_a._progress_pos,_a._allRowCount);_d._set_text(_e);_d._set_pos(_a._progress_pos/_a._allRowCount*100);}if(_a._progress_pos==_a._allRowCount&&_a.exportmessagecomplete!=""){_d._set_text(_a.exportmessagecomplete);}}};_pItem._rollbackSuppressInfo=function(){var _a=this.source._curFormat._bodycells;var _b=this._tmpSuppressInfos&&this._tmpSuppressInfos.length;for(var _c=0;_c<_b;_c++ ){_a[_c]._suppress_infos=this._tmpSuppressInfos.shift();}};_pItem._gridSuppressUpdate=function(_a,_b){var _c=_a._curFormat._bodycells;var _d=_c.length;this._tmpSuppressInfos=[];for(var _e=0;_e<_d;_e++ ){this._tmpSuppressInfos.push(_c[_e]._suppress_infos);}_a._analyzeSuppress(true);for(var _e=0;_e<_b;_e++ ){_a._suppressUpdateRow(_e,0);}};_pItem._gridExportContinue=function(_a){var _b=this.source;var _c=this._ds_command;_c.setColumn(0,"command","export");_c.setColumn(0,"type",_a._exporttype);_c.setColumn(0,"item",_b.id);_c.setColumn(0,"seq",this._seq);_c.setColumn(0,"startrow",this._startRow);_c.setColumn(0,"instanceid",this._instanceId);_c.setColumn(0,"url",_a._fileURL);_c.setColumn(0,"summarytype",_b.summarytype);_c.setColumn(0,"range",this.range);_c.setColumn(0,"exportsize",this.exportsize);_c.setColumn(0,"exporthead",this._exporthead);_c.setColumn(0,"exportimage",this.exportimage);_c.setColumn(0,"exportfilename",_a.exportfilename);_c.setColumn(0,"format","");var _d=this._ds_style;var _e=this._ds_style2;if(!_e){var _e=new Dataset("STYLE2");this._ds_style2=_e;_e.addColumn("type","String",10);_e.addColumn("name","String",32);_e.addColumn("value","String",1024);}else{this._ds_style2.clearData();}delete this._ds_cell;var _f=new Dataset("CELL");this._ds_cell=_f;var _g=_b.getCellCount("body");var _h=this._bodyRowCnt;var _i;var _j;var _k=null;if(_g>0){var _l=0;var _m=0;for(var _n=0;_n<_g;_n++ ){_f.addColumn("Column"+_n,"String",256);}var _o=this._partitionRow+this._startRow;if(_o>=_h){_o=_h;this._eof=true;var _k=this.parent._argsParam;}var _p=_b._curFormat._bodycells;var _q;var _r=0;var _s;for(var _t=this._startRow;_t<_o;_t++ ){_s=0;var _u;var _v=false;for(var _w=0;_w<_g;_w++ ){_v=_v||_b.isSelectedCell(_w,"body",_t, -9);}var _x=this.exportselect=="selectrecord";if(_v||!_x){var _y=_f.addRow();if(_x){this._eventExport(_a,this.type,_t,this._selectcount++ );}else{this._eventExport(_a,this.type,_t);}}else{continue;}var _z=_t%2;var _aa=0;_q=false;var _ab=(this.exportvalue=="selectstyle");for(var _w=0;_w<_g;_w++ ){_q=_b.isSelectedCell(_w,"body",_t, -9);if(_q){var _ac=false;}else{if(_x){_ac=true;}}var _ad;var _ae;var _af;var _ag;var _ah;var _ai=_b._bodyBand;var _aj=_p[_w];var _ak=_aj._suppress_infos;var _al="";var _am="normal";var _an=this._stylecache[_w+"align"];var _ao=this._stylecache[_w+"line"];var _ap,_aq,_ar;if(_q&&_ab){_am="selected";_ap="";_aq="";_ar="";}else{if(_ac){_ap="255,255,255";_aq="255,255,255";var _as=this._d_BLColor;_ao=_as+":"+_as+":"+_as+":"+_as;sFlag=true;}else{_ap=this._stylecache[_w+"background"+_z];_aq=this._stylecache[_w+"color"+_z];}_ar=this._stylecache[_w+"font"];}var _at=false;if(_ap){_ad=_ap;}else{_at=true;_ad=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_aj,_t,_z,"background",_am)),"");}if(_an){_ae=_an;}else{_at=true;_ae=nexacro._nvl(this._getFitValue(this._getCellStyle(_aj,_t,_z,"align",_am)),"");}if(_aq){_ag=_aq;}else{_at=true;_ag=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_aj,_t,_z,"color",_am)),"");}if(_ar){_af=_ar;}else{_at=true;_af=nexacro._nvl(this._getFitFontValue(this._getCellStyle(_aj,_t,_z,"font",_am)),"");}var _au,_as,_av,_aw,_ax;_au=false;_av=_aw=null;var _ay=0;var _az=0;switch(this._exportmerge){case 0:break;case 1:if(_aj.suppress>0){_at=_au=true;if(_ak[_t].border_proc){_aw="empty";}}_b._checkFakeMerge(_aj,_t);if(_aj._fakemerge_infos){var _ba=_aj._fakemerge_infos[_t+2];if(_ba){_at=_au=true;switch(_ba){case "bottomfake":_aw="empty";break;case "rightbottomfake":_av=_aw="empty";break;case "rightfake":_av="empty";break;}}}break;case 2:if(_aj.suppress>0){_at=_au=true;var _bb=_w+"count";var _bc=this._excel_suppress_info;if(!_bc[_bb]){_bc[_bb]=0;_ae=_ae.split(",")[0]+", "+this._suppress_align_table[_aj.suppressalign];}if(_ak[_t].border_proc){this._excel_suppress_info[_bb]++ ;}else{_ay= ++_bc[_bb];_bc[_bb]=0;}}var _bd=this._merge_datas&&this._merge_datas[_t+"_"+_w];if(_bd&&_bd.isFakeEnd){_at=_au=true;_ay=_bd.rowspan;_az=_bd.colspan;}break;}if(!_au&&_ao){_ah=_ao;}else{if(this._applyL){var _be=this._getCellStyle(_aj,_t,_z,"border",_am);_ax=this._getHEXtoRGB(_be.right_color)+(_be.right_style=="solid"?"":","+_be.right_style);if(!_av){_av=_ax;}if(!_aw){_aw=_ax;}}else{_aw=_av="empty";}_ah="empty:empty:"+_av+":"+_aw;}if(this._applyA){_j=this._find_styleName(_d,"align",_ae,this._a_ct);_i=_j[0];if(this._a_ct!=_j[1]){_j=this._find_styleName(_e,"align",_ae,this._a_ct);}this._a_ct=_j[1];_al+="align:"+_i+",";}if(this._applyB){_j=this._find_styleName(_d,"background",_ad,this._bg_ct);_i=_j[0];if(this._bg_ct!=_j[1]){_j=this._find_styleName(_e,"background",_ad,this._bg_ct);}this._bg_ct=_j[1];_al+="background:"+_i+",";}if(this._applyC){_j=this._find_styleName(_d,"color",_ag,this._c_ct);_i=_j[0];if(this._c_ct!=_j[1]){_j=this._find_styleName(_e,"color",_ag,this._c_ct);}this._c_ct=_j[1];_al+="color:"+_i+",";}if(this._applyF){_j=this._find_styleName(_d,"font",_af,this._f_ct);_i=_j[0];if(this._f_ct!=_j[1]){_j=this._find_styleName(_e,"font",_af,this._f_ct);}this._f_ct=_j[1];_al+="font:"+_i+",";}_j=this._find_styleName(_d,"line",_ah,this._l_ct);_i=_j[0];if(this._l_ct!=_j[1]){_j=this._find_styleName(_e,"line",_ah,this._l_ct);}this._l_ct=_j[1];_al+="line:"+_i+",";var _bf=this._getFixedCellType(_aj,_t);_j=this._find_styleName(_d,"type",_bf,this._t_ct);_i=_j[0];if(this._t_ct!=_j[1]){_j=this._find_styleName(_e,"type",_bf,this._t_ct);}this._t_ct=_j[1];_al+="type:"+_i;var _bg=false;if(_bf.indexOf("date")> -1&&(this._checkExpr(_aj.locale)||this._checkExpr(_aj.mask))){_at=true;if(_aj.mask=="LONGDATE"){_bg=true;}}if(_ay){_j=this._find_styleName(_d,"rowsuppress",_ay,this._sm_ct);_i=_j[0];if(this._sm_ct!=_j[1]){_j=this._find_styleName(_e,"rowsuppress",_ay,this._sm_ct);}this._sm_ct=_j[1];_al+=",rowsuppress:"+_i;}if(_az){_j=this._find_styleName(_d,"colsuppress",_az,this._sm_ct);_i=_j[0];if(this._sm_ct!=_j[1]){_j=this._find_styleName(_e,"colsuppress",_az,this._sm_ct);}this._sm_ct=_j[1];_al+=",colsuppress:"+_i;}_j=this._find_styleName(_d,"style",_al,this._s_ct);_i=_j[0];if(this._s_ct!=_j[1]){_j=this._find_styleName(_e,"style",_al,this._s_ct);}this._s_ct=_j[1];var _bh=this._getCellTextBody(_b,_t,_w);_u=_ac?"":_bh;if(_bg){_aj.mask="SHORTDATE";_u=_aj._getDisplayText_date(_t);_aj.mask="LONGDATE";}var _bi=_b.getCellProperty("body",_w,"displaytype");if(_bi=="image"){var _bj=this.exportimage.toLowerCase();if(_bj=="url"||_bj=="image"){var _bk=this._getCellTextBody(_b,_t,_w);if(_bk){var _bl=nexacro._getURIValue(_bk);_u=nexacro._getImageLocation(_bl,this._getForm()._getFormBaseUrl());}else{_u=_bk;}}else{_u="";}}var _bm=String.fromCharCode(29);if(this._exportmerge==1){if(_aj.suppress>0){if(_ak[_t].text_proc){_u="";}}if(!!_b._checkFakeMerge(_aj,_t)){_u="";var _bd=this._merge_datas&&this._merge_datas[_t+"_"+_w];if(_bd){if(_bd.isFakeStart){if(_ae=="left,top"){_u=_bh;}else{var _bn=_ae.split(",");var _bo=_bd[_bn[1]]+"_"+_bd[_bn[0]];if(this._merge_datas[_bo]){this._merge_datas[_bo].disPlayText=_bh;this._merge_datas[_bo].showText=true;}else{this._merge_datas[_bo]={disPlayText:_bh,showText:true};}}}else if(_bd.showText){_u=_bd.disPlayText;}}}}_f.setColumn(_y,"Column"+(_w+_s),nexacro._nvl(_u,"")+_bm+(_at||(_q&&_ab)?_i:""));if(_aj._subcells.length){var _bp=_aj._subcells;var _bq=_bp.length;var _br=_aj._rowspan-1;var _bs=_aj._colspan-1;var _bt="";var _be=this._getCellStyle(_aj,_t,_z,"border",_am);var _as=this._d_BLColor;if(this._applyL){_ax=this._getHEXtoRGB(_be.right_color)+(_be.right_style=="solid"?"":","+_be.right_style);}else{_ax=_as;}var _bu;var _bv;var _bw;var _bx;for(var _by=0;_by<_bq;_by++ ){var _bz=_bp[_by]._col;var _ca=_bp[_by]._row;if(_bz==_bs){_bw=_ax;}else{_bw="empty";}if(_bz==0){_bu=_as;}else{_bu="empty";}if(_ca==_br){_bx=_ax;}else{_bx="empty";}if(_ca==0){_bv=_as;}else{_bv="empty";}_bt=_bu+":"+_bv+":"+_bw+":"+_bx;var _bf=this._getFixedCellType(_bp[_by],0);_i=this._makeforDsStyle(_d,_ae,_ad,_ag,_af,_bt,_bf);if(_by!=0){_f.addColumn("Column"+(_n+_s),"String",256);_s++ ;}_f.setColumn(_y,"Column"+(_w+_s),_bp[_by]._getDisplayText(_t)+_bm+_i);}}}_r++ ;}this._preStartRow=this._startRow;this._startRow=_o;}_c.setColumn(0,"eof",this._eof);if(this._ds_response){delete this._ds_response;}this._ds_response=new Dataset("RESPONSE");this._transaction(this.id,_a._exporturl,"COMMAND=_ds_command STYLE=_ds_style2 CELL=_ds_cell","_ds_response=RESPONSE",_k,"_exportCallback",true,_a._commdataformat,_a._commcompress);this._updateBarPos(_a,_a.exporteventtype);};_pItem._exportCallback=function(_a,_b,_c){var _d=this.source;var _e=this.parent;var _f=_e._exportBar;if(_b<0){_c=nexacro._decodeXml(_c);this.on_fire_onerror(_e,"ObjectError",_c,_b);nexacro._stopTransaction(this,0);if(_f){_f._hide();_f._set_pos(0);_f._set_text("");}if(_d._hasTree){_d.set_treeinitstatus("collapse,null");nexacro.Grid.prototype._recreate_contents_all=_e._tempSaveMethod;_e._tempSaveMethod=null;_d._treeIndexes=this._temp_treeIndexes;_d._treeStates=this._temp__treeStates;_d.enableevent=this._temp_enableevent;this._temp_enableevent=this._temp_treeIndexes=this._temp__treeStates=null;}}else{var _g=this._ds_response.getColumn(0,"item");this._instanceId=this._ds_response.getColumn(0,"instanceid");var _h=this._ds_response.getColumn(0,"url");if(_h!=null&&_h!=""){_e._fileURL=_h;}var _i=_e._itemsIndex;var _j=_i+1==_e._allCount;var _k=this._startRow==this._bodyRowCnt;this._seq++ ;if(_k){if(_j){if(_f){_f._hide();_f._set_pos(0);_f._set_text("");}this._rollbackSuppressInfo();this._tmpSuppressInfos=null;_e._fileURL="";_e._allRowCount=0;_e._progress_pos=0;_e._itemsIndex=0;var _l;if(_h!=null&&_h!=""){var _m=_h.lastIndexOf("/");if(_m== -1){_m=_h.lastIndexOf("\\");}if(_m!= -1){_l=_h.substring(_m+1);}}this.on_fire_onsuccess(_e,this,_h);nexacro._download(_h,_e._handle,_l);}else{_e._itemsIndex++ ;if(_e._itemsIndex==_e._gCount){}else{_e._grids[_e._itemsIndex]._gridItemExport(_e);}}this._instanceId="";this._startRow=0;this._seq=1;this._eof=false;this._selectcount=0;if(_d._hasTree){_d.set_treeinitstatus("collapse,null");nexacro.Grid.prototype._recreate_contents_all=_e._tempSaveMethod;_e._tempSaveMethod=null;_d._treeIndexes=this._temp_treeIndexes;_d._treeStates=this._temp__treeStates;_d.enableevent=this._temp_enableevent;this._temp_enableevent=this._temp_treeIndexes=this._temp__treeStates=null;}}else{this._gridExportContinue(_e);}}};_pItem._makeMergeDatas=function(_a,_b,_c){var _d=_b;var _e=this._merge_datas={};var _f,_g,_h,_i;var _j,_k,_l,_m,_n,_o;_l=_k=_m=_n=_o=0;var _p,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z;var _aa=_a._getGridRowCount()-1;for(var _ab=0,_ac=_a._fake_mergecell_arr.length;_ab<_ac;_ab++ ){_j=_a._fake_mergecell_arr[_ab];if(_j.start_subrow!=null){_n=_j.start_subrow;}if(_j.end_subrow!=null){_m=_j.end_subrow;}if(_j.end_row>_aa){_l=_k=_aa;_m=_d-1;}else{_l=_k=_j.end_row;_m=_j.end_subrow;}if(_j.start_row== -1){_d=_a._curFormat._headrows?_a._curFormat._headrows.length:0;_k=_z=0;}else if(_j.start_row== -2){_d=_a._curFormat._summrows?_a._curFormat._summrows.length:0;_k=_z=0;}else{_z=_j.start_row;}_p=(_d*_k+_j.end_subrow)-(_d*_z+_n)+1;_q=_j.end_column-_j.start_column+1;var _o=((_d*_z+_n+1)+(_d*_k+_j.end_subrow+1))/2<<0;_r=_j.start_row;_s=(_o-1)/_d<<0;_t=_l;_x=_c*_n+_j.start_column;_y=_c*_j.end_subrow+_j.end_column;_u=((_o-1)%_d*_c+_j.start_column)<<0;_v=((_o-1)%_d*_c+(_j.start_column+_j.end_column)/2)<<0;_w=((_o-1)%_d*_c+_j.end_column)<<0;if(_j.start_row<0){_s=_j.start_row;}_e[_r+"_"+_x]={isFakeStart:true,left:_u,center:_v,right:_w,top:_r,middle:_s,bottom:_t,rowspan:_p,colspan:_q};_e[_t+"_"+_y]={isFakeEnd:true,rowspan:_p,colspan:_q};}};_pItem._gridItemExport=function(_a){var _b=_a._exportuitype;if(_a.exporteventtype!="none"&&_b){var _q=_a._exportBar;if(!_q||_q._uitype!=_b){_q=_a._exportBar=_a._getExportBar(_b);_q.progressbar.style.set_bartype("normal");_q.progressbar.style.set_barcolor("darkorange");var _r=_a._getProcessStr(_a.count(),_a._allRowCount,_a._allRowCount);_r=nexacro._getLongerStr(_r,_a.exportmessagecomplete,_a.exportmessageready);var _s=nexacro._getTextSize(_r,_q.currentstyle.font);_q._textWidth=_s[0];_q._textHeight=_s[1];}if(_a._itemsIndex==0&&_a.exportmessageready!=""){_q._set_text(_a.exportmessageready);}_q._show();}var _c=this.source;var _d=_c._curFormat._cols?_c._curFormat._cols.length:0;var _e=_c._curFormat._bodyrows?_c._curFormat._bodyrows.length:0;if(_c._hasTree){_a._tempSaveMethod=nexacro.Grid.prototype._recreate_contents_all;nexacro.Grid.prototype._recreate_contents_all=nexacro._emptyFn;this._temp_enableevent=_c.enableevent;_c.enableevent=false;this._temp_treeIndexes=_c._treeIndexes.slice(0);this._temp__treeStates=_c._treeStates.slice(0);_c.set_treeinitstatus("expand,all");}if(_c._is_use_fakemerge){this._makeMergeDatas(_c,_e,_d);}var _f=new Dataset("STYLE");this._ds_style=_f;_f.addColumn("type","String",10);_f.addColumn("name","String",32);_f.addColumn("value","String",1024);var _g=new Dataset("COMMAND");this._ds_command=_g;_g.addColumn("command","String",32);_g.addColumn("type","int",32);_g.addColumn("item","String",256);_g.addColumn("seq","int");_g.addColumn("startrow","int",32);_g.addColumn("eof","boolean",32);_g.addColumn("instanceid","String",256);_g.addColumn("url","String",256);_g.addColumn("summarytype","String",256);_g.addColumn("range","String",32);_g.addColumn("exportsize","String",32);_g.addColumn("exporthead","String",32);_g.addColumn("exportimage","String",32);_g.addColumn("exportfilename","String",32);_g.addColumn("format","String",1024*1024);_g.addRow();_g.setColumn(0,"command","export");_g.setColumn(0,"type",_a._exporttype);_g.setColumn(0,"item",_c.id);_g.setColumn(0,"seq",this._seq);_g.setColumn(0,"startrow",this._startRow);_g.setColumn(0,"instanceid",this._instanceId);_g.setColumn(0,"url",_a._fileURL);_g.setColumn(0,"summarytype",_c.summarytype);_g.setColumn(0,"range",this.range);var _h=this.exportselect=="selectrecord";var _i=_c.selecttype!=("area"||"multiarea"||"treecell")?true:false;if(_i){if(_h){if(this._exporthead==""){this._exporthead="nohead, nosumm";this._applyHead=false;this._applySumm=false;}this._exportmerge=false;}}else{this._exporthead="nohead, nosumm";this._applyHead=false;this._applySumm=false;}_g.setColumn(0,"exportsize",this.exportsize);_g.setColumn(0,"exporthead",this._exporthead);_g.setColumn(0,"exportimage",this.exportimage);_g.setColumn(0,"exportfilename",_a.exportfilename);var _j=nexacro._replaceAll(this._makeFormat(_c),"&#13;","");_g.setColumn(0,"format",_j);var _k=new Dataset("CELL");this._ds_cell=_k;var _l=_c.getCellCount("body");var _m=this._bodyRowCnt=_c._getGridRowCount();var _n;var _o;if(this._exportmerge&&_c._is_use_suppress&&_m>_c._bodyBand._get_rows().length){this._gridSuppressUpdate(_c,_m);}var _p=null;if(_l>0){var _t=0;var _u="";var _v=_m/5;for(var _w=0;_w<_l;_w++ ){_k.addColumn("Column"+_w,"String",256);_u+=this._getCellTextBody(_c,0,_w);_u+=this._getCellTextBody(_c,_v*2,_w);_u+=this._getCellTextBody(_c,_v*3,_w);_u+=this._getCellTextBody(_c,_v*4,_w);_u+=this._getCellTextBody(_c,_m-1,_w);}_u=_u.length+1;var _x=this._partitionRow=parseInt(23000/_u);if(_x>=_m){_x=_m;this._eof=true;var _p=this.parent._argsParam;}else{_x=parseInt(_x/2);}var _y=_c._curFormat._bodycells;var _z=(this.exportvalue=="selectstyle");var _aa;var _ab;for(var _ac=0;_ac<_x;_ac++ ){_ab=0;var _ad;var _ae=false;for(var _af=0;_af<_l;_af++ ){_ae=_ae||_c.isSelectedCell(_af,"body",_ac, -9);}if(_ae||!_h){var _ag=_k.addRow();if(_h){this._eventExport(_a,this.type,_ac,this._selectcount++ );}else{this._eventExport(_a,this.type,_ac);}}else{continue;}var _ah=_ac%2;_aa=false;for(var _af=0;_af<_l;_af++ ){_aa=_c.isSelectedCell(_af,"body",_ac, -9);if(_aa){var _ai=false;}else{if(_h){_ai=true;}}var _aj,_ak,_al,_am,_an;var _ao=_c._bodyBand;var _ap=_y[_af];var _aq=_ap._suppress_infos;var _n="";var _ar="normal";var _as=false;var _at=this._stylecache[_af+"align"];var _au=this._stylecache[_af+"line"];var _av,_aw,_ax;if(_aa&&_z){_ar="selected";_av="";_aw="";_ax="";}else{if(_ai){_av="255,255,255";_aw="255,255,255";var _ay=this._d_BLColor;_au=_ay+":"+_ay+":"+_ay+":"+_ay;_as=true;}else{_av=this._stylecache[_af+"background"+_ah];_aw=this._stylecache[_af+"color"+_ah];}_ax=this._stylecache[_af+"font"];}if(_av){_aj=_av;}else{_as=true;_aj=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_ap,_ac,_ah,"background",_ar)),"");}if(_at){_ak=_at;}else{_as=true;_ak=nexacro._nvl(this._getFitValue(this._getCellStyle(_ap,_ac,_ah,"align",_ar)),"");}if(_aw){_am=_aw;}else{_as=true;_am=nexacro._nvl(this._getHEXtoRGB(this._getCellStyle(_ap,_ac,_ah,"color",_ar)),"");}if(_ax){_al=_ax;}else{_as=true;_al=nexacro._nvl(this._getFitFontValue(this._getCellStyle(_ap,_ac,_ah,"font",_ar)),"");}var _az,_ay,_ba,_bb,_bc;_az=false;_ba=_bb=null;var _bd=0;var _be=0;switch(this._exportmerge){case 0:break;case 1:if(_ap.suppress>0){_as=_az=true;if(_aq[_ac].border_proc){_bb="empty";}}_c._checkFakeMerge(_ap,_ac);if(_ap._fakemerge_infos){var _bf=_ap._fakemerge_infos[_ac+2];if(_bf){_as=_az=true;switch(_bf){case "bottomfake":_bb="empty";break;case "rightbottomfake":_ba=_bb="empty";break;case "rightfake":_ba="empty";break;}}}break;case 2:if(_ap.suppress>0){_as=_az=true;var _bg=_af+"count";var _bh=this._excel_suppress_info;if(!_bh[_bg]){_bh[_bg]=0;_ak=_ak.split(",")[0]+", "+this._suppress_align_table[_ap.suppressalign];}if(_aq[_ac].border_proc){this._excel_suppress_info[_bg]++ ;}else{_bd= ++_bh[_bg];_bh[_bg]=0;}}var _bi=this._merge_datas&&this._merge_datas[_ac+"_"+_af];if(_bi&&_bi.isFakeEnd){_as=_az=true;_bd=_bi.rowspan;_be=_bi.colspan;}break;}if(!_az&&_au){_an=_au;}else{if(this._applyL){var _bj=this._getCellStyle(_ap,_ac,_ah,"border",_ar);_bc=this._getHEXtoRGB(_bj.right_color)+(_bj.right_style=="solid"?"":","+_bj.right_style);if(!_ba){_ba=_bc;}if(!_bb){_bb=_bc;}}else{_bb=_ba="empty";}_an="empty:empty:"+_ba+":"+_bb;}var _bk=this._getFixedCellType(_ap,_ac);_n=this._makeforDsStyle(_f,_ak,_aj,_am,_al,_an,_bk,_bd,_be);var _bl=false;if(_bk.indexOf("date")> -1&&(this._checkExpr(_ap.locale)||this._checkExpr(_ap.mask))){_as=true;if(_ap.mask=="LONGDATE"){_bl=true;}}var _bm=this._getCellTextBody(_c,_ac,_af);_ad=_ai?"":_bm;if(_bl){_ap.mask="SHORTDATE";_ad=_ap._getDisplayText_date(_ac);_ap.mask="LONGDATE";}var _bn=_c.getCellProperty("body",_af,"displaytype");if(_bn=="image"){var _bo=this.exportimage.toLowerCase();if(_bo=="url"||_bo=="image"){var _bp=this._getCellTextBody(_c,_ac,_af);if(_bp){var _bq=nexacro._getURIValue(_bp);_ad=nexacro._getImageLocation(_bq,this._getForm()._getFormBaseUrl());}else{_ad=_bp;}}else{_ad="";}}var _br=String.fromCharCode(29);if(this._exportmerge==1){if(_ap.suppress>0){if(_aq[_ac].text_proc){_ad="";}}if(!!_c._checkFakeMerge(_ap,_ac)){_ad="";var _bi=this._merge_datas&&this._merge_datas[_ac+"_"+_af];if(_bi){if(_bi.isFakeStart){if(_ak=="left,top"){_ad=_bm;}else{var _bs=_ak.split(",");var _bt=_bi[_bs[1]]+"_"+_bi[_bs[0]];if(this._merge_datas[_bt]){this._merge_datas[_bt].disPlayText=_bm;this._merge_datas[_bt].showText=true;}else{this._merge_datas[_bt]={disPlayText:_bm,showText:true};}}}else if(_bi.showText){_ad=_bi.disPlayText;}}}}_k.setColumn(_ag,"Column"+(_af+_ab),nexacro._nvl(_ad,"")+_br+(_as||(_aa&&_z)?_n:""));if(_ap._subcells.length){var _bu=_ap._subcells;var _bv=_bu.length;var _bw=_ap._rowspan-1;var _bx=_ap._colspan-1;var _by="";var _bj=this._getCellStyle(_ap,_ac,_ah,"border",_ar);var _ay=this._d_BLColor;if(this._applyL){_bc=this._getHEXtoRGB(_bj.right_color)+(_bj.right_style=="solid"?"":","+_bj.right_style);}else{_bc=_ay;}var _bz;var _ca;var _cb;var _cc;for(var _cd=0;_cd<_bv;_cd++ ){var _ce=_bu[_cd]._col;var _cf=_bu[_cd]._row;if(_ce==_bx){_cb=_bc;}else{_cb="empty";}if(_ce==0){_bz=_ay;}else{_bz="empty";}if(_cf==_bw){_cc=_bc;}else{_cc="empty";}if(_cf==0){_ca=_ay;}else{_ca="empty";}_by=_bz+":"+_ca+":"+_cb+":"+_cc;var _bk=this._getFixedCellType(_bu[_cd],0);_n=this._makeforDsStyle(_f,_ak,_aj,_am,_al,_by,_bk);if(_cd!=0){_k.addColumn("Column"+(_w+_ab),"String",256);_ab++ ;}_k.setColumn(_ag,"Column"+(_af+_ab),_bu[_cd]._getDisplayText(_ac)+_br+_n);}}}}this._preStartRow=this._startRow;this._startRow=_x;}else{this._eof=true;_p=this.parent._argsParam;}_g.setColumn(0,"eof",this._eof);if(this._ds_response){delete this._ds_response;}this._ds_response=new Dataset("RESPONSE");this._transaction(this.id,_a._exporturl,"COMMAND=_ds_command STYLE=_ds_style CELL=_ds_cell","_ds_response=RESPONSE",_p,"_exportCallback",true,_a._commdataformat,_a._commcompress);return true;};_pItem._transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._load_manager=new nexacro.LoadManager(this);var _j=application._getServiceObject(_b,true);this._load_manager.loadDataModule(_b,_a,_c,_d,_e,_f,_g,_h,_i,_j);};_pItem._stopTransaction=function(){nexacro.Form.prototype._stopTransaction.apply(this,arguments);};_pItem._getDatasetObject=function(_a){var _b=this[_a];var _c=this.parent.parent;if(_b==null&&_c){_b=_c._getDatasetObject(_a);}if(_b==null){_b=application[_a];}return _b;};_pItem._waitCursor=nexacro._emptyFn;_pItem._removeUrl=function(_a){if(_a&&_a.length){var _b=_a.indexOf("'");var _c= -1;if(_b> -1){_c=_a.lastIndexOf("'");_a=_a.substring(_b+1,_c);}_b=_a.indexOf("(");if(_b> -1){_c=_a.lastIndexOf(")");_a=_a.substring(_b+1,_c);}}return _a;};delete _pItem;nexacro.ExportProgress=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._uitype=0;this.visible=false;this.progressbar=null;this._textWidth=0;this._textHeight=0;};var _pExportProgress=nexacro.ExportProgress.prototype=nexacro._createPrototype(nexacro.PopupComponent,nexacro.ExportProgress);_pExportProgress._type_name="ExportProgress";_pExportProgress.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_align(_a);if(_e!=_b.align){_b.align=_e;this.on_apply_style_align(_e);}};_pExportProgress.on_apply_style_color=function(_a){if(this._text_elem){if(_a){this._text_elem.setElementColor(_a);}else{this._text_elem.setElementColor("");}}};_pExportProgress.on_apply_style_font=function(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}};_pExportProgress.on_apply_style_align=function(_a){if(this._text_elem&&_a){var _b=_a.halign==""?"center":_a._halign;var _c=_a.valign==""?"middle":_a._valign;this._text_elem.setElementAlignXY(_b,_c);}};_pExportProgress.on_create_contents=function(){var _a=this.getElement();if(_a){switch(this._uitype){case 1:var _b=this._text_elem=new nexacro.TextBoxElement(_a);this.progressbar=new nexacro.ProgressBarCtrl("progressbar","absolute",0,0,1,1,null,null,this);this.progressbar.createComponent();_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);var _c=this.currentstyle.align.halign==""?"center":this.currentstyle.align._halign;var _d=this.currentstyle.align.valign==""?"middle":this.currentstyle.align._valign;_b.setElementAlignXY(_c,_d);break;case 2:this.progressbar=application.mainframe.statusbar;break;}}};_pExportProgress.on_created_contents=function(){switch(this._uitype){case 1:var _a=this._text_elem;if(_a){_a.create();}if(this.progressbar){this.progressbar.on_created();}break;case 2:break;}};_pExportProgress.on_change_containerRect=function(_a,_b){switch(this._uitype){case 1:this._text_elem.setElementPosition(0,0);this._text_elem.setElementSize(this._textWidth,this._textHeight);this.progressbar.move(null,null,_a,20,0,0);case 2:break;}};_pExportProgress.on_destroy_contents=function(){switch(this._uitype){case 1:var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}this.progressbar.destroy();this.progressbar=null;case 2:this._text_elem=null;this.progressbar=null;break;}};_pExportProgress.set_visible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._control_element;_b.setElementVisible(_a);if(this.visible){var _c=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_b,_c);this._updateContents(_b,_c);}if(this.visible){nexacro._resetVML(this);}}};_pExportProgress._getWindow=function(){return nexacro.Component.prototype._getWindow.call(this);};_pExportProgress.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return true;};_pExportProgress._on_keydown=function(_a,_b,_c,_d,_e){if(_b==nexacro.Event.KEY_TAB){_a._event_stop=true;}else if(_b==nexacro.Event.KEY_ESC){nexacro._stopTransaction(this,2);}return true;};_pExportProgress._show=function(){if(!this._is_created||!this.parent){return;}var _a=this._getWindow();if(_a){var _b,_c,_d,_e;_b=_a.getLeft();_c=_a.getTop();if(_a.frame){var _f=_a.frame;_d=_f.getOffsetWidth();_e=_f.getOffsetHeight();}else{_d=_a.getClientWidth();_e=_a.getClientHeight();}var _g=_a._getCaptureComp(true,true,this);if(_g!=this){_a._setCaptureLock(this,true,true);}var _h=this.currentstyle.padding;var _i=0;var _j=0;var _k=0;var _l=0;if(this._uitype==1){_i=(this._textWidth<100?100:this._textWidth)+_h.left+_h.right;_j=this._textHeight+_h.top+_h.bottom+22;_k=Math.round((_d-_i)/2);_l=Math.round((_e-_j)/2);}this._adjustPosition(_k,_l,null,null,_i,_j);this.on_update_position(true,true);var _m=this._control_element;if(_m){_m.setElementPosition(_k,_l);_m.setElementSize(_i,_j);this._updateClientSize(_m);}this.set_visible(true);}};_pExportProgress._hide=function(){var _a=this.parent._getWindow();if(_a){_a._releaseCaptureLock(this);if(nexacro._resize_popup_inbound==true){var _b=this._control_element;if(_b){_b.setElementSize(1,1);this._updateClientSize(_b);}}}if(this._is_created&&this._is_alive){this.set_visible(false);}};nexacro._getLongerStr=function(_a,_b,_c){var _d=arguments.length;if(_d<2){return;}var _e=arguments[0];for(var _f=1;_f<_d;_f++ ){if(_e.length<arguments[_f].length){_e=arguments[_f];}}return _e;};_pExportProgress._set_text=function(_a){switch(this._uitype){case 1:this._text_elem.setElementText(_a);break;case 2:var _b=this._getForm();_b.set_statustext(_a);break;}};_pExportProgress._set_pos=function(_a){switch(this._uitype){case 1:this.progressbar.set_pos(_a);break;case 2:var _b=this;while(_b&&!_b._is_top_frame){if(_b._is_frame){_b.statusbar&&_b.statusbar.progressbar.set_pos(_a);}_b=_b.parent;}break;}};delete _pExportProgress;}if(!nexacro.ExcelImportObject){nexacro.ExcelImportEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onsuccess";this.fromobject=_a;this.fromreferenceobject=_d;this.url=_c;};var _pExcelImportEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ExcelImportEventInfo,nexacro.ExcelImportEventInfo);nexacro.ExcelImportEventInfo.prototype=_pExcelImportEventInfo;_pExcelImportEventInfo._type_name="ExcelImportEventInfo";delete _pExcelImportEventInfo;nexacro.ExcelImportErrorEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onerror";this.fromobject=_a;this.fromreferenceobject=_e;this.errortype=_c;this.errormsg=_d;this.statuscode=_f;};var _pExcelImportErrorEventInfo=nexacro._createPrototype(nexacro.ErrorEventInfo,nexacro.ExcelImportErrorEventInfo);nexacro.ExcelImportErrorEventInfo.prototype=_pExcelImportErrorEventInfo;_pExcelImportErrorEventInfo._type_name="ExcelImportErrorEventInfo";delete _pExcelImportErrorEventInfo;nexacro.ExcelImportObject=function(_a,_b){this.id=this.name=_a;if(!_b){_b=application.getActiveForm();if(!_b){_b=application.mainframe.childframe.form;}}this.parent=_b;this._handle=null;this.importfilemode="local";this._importfilemode=0;this.commcompress="none";this._commcompress=false;this.importtype=nexacro.ImportTypes.EXCEL;this.importurl="";this._importurl="";this._uploadurl="";this._uploadservlet="";this._fileurl="";this._range="";this._applyAllsheet=false;this._responseData="";this._responseRVal=null;this._responseLVal=null;this.userawdatevalue=false;this._userawdatevalue=false;this._file_password=null;this.usedatevalue=null;this._importSheet="";this._importStartCell=null;this._importEndCell=null;this._tran_item=null;this._file_url_ds=null;var _c=this._unique_id=this.parent._unique_id+"_"+this.id;if(!nexacro._get_hidden_frame(_c,this._handle)){var _d=new Date().valueOf().toString();nexacro._create_hidden_frame(_c,_d,this._uploadComplete,this);nexacro._append_hidden_item(_c,"upfile",this._checkUploadFile,this,this._handle);nexacro._append_hidden_textitem(_c,"ds_command");}this.onerror=new nexacro.EventListener("onerror");this.onsuccess=new nexacro.EventListener("onsuccess");this._event_list={"onerror":1,"onsuccess":1};};var _pExcelImport=nexacro.ExcelImportObject.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.ExcelImportObject);_pExcelImport._type_name="ExcelImportObject";_pExcelImport.on_created=nexacro._emptyFn;_pExcelImport.set_name=function(_a){this.id=this.name=_a;};_pExcelImport.set_importtype=function(_a){switch((_a+"").toUpperCase()){case "EXCEL":_a=0x0100;break;case "EXCEL97":_a=0x0110;break;case "EXCEL2007":_a=0x0120;break;case "HANCELL2010":_a=0x0400;break;case "HANCELL2014":_a=0x0410;break;case "CSV":_a=0x0500;break;}if(_a!=this.importtype){this.importtype=_a;}return _a;};_pExcelImport.set_importurl=function(_a){if(_a!=this.importurl){this.importurl=_a;if(_a==null){this._importurl="";}else{var _b=this._uploadservlet=application._getServiceLocation(_a,this.parent._getFormBaseUrl());var _c=_b.substring(0,_b.lastIndexOf("/")+1);this._importurl=_c+"XExportImport.do";}}return _a;};_pExcelImport.set_commcompress=function(_a){if(_a!=this.commcompress){this.commcompress=_a;switch(_a.toString().toUpperCase()){case "COMPRESS":this._commcompress=true;break;default:this._commcompress=false;break;}}return _a;};_pExcelImport.set_importfilemode=function(_a){if(this.importfilemode!=_a){this.importfilemode=_a;this._importfilemode=_a=="server"?1:0;}return _a;};_pExcelImport.set_userawdatevalue=function(_a){if(this.userawdatevalue!=_a){this.userawdatevalue=_a;this._userawdatevalue=nexacro._toBoolean(_a);}return _a;};_pExcelImport._setImportRange=function(_a){var _b={};if(_a){if(_a.indexOf("!")>0){var _c=_a.split("!");_b["sheet"]=_c[0];var _d=_c[1];var _e;if(_d.indexOf(":")>0){_d=_d.split(":");_e=this._getExcelRowCol(_d[0]);_b["startRow"]=_e[1]?_e[1]:"";_b["startCol"]=_e[0]?_e[0]:"";_e=this._getExcelRowCol(_d[1]);_b["endRow"]=_e[1]?_e[1]:"";_b["endCol"]=_e[0]?_e[0]:"";}else{_e=this._getExcelRowCol(_d);_b["startRow"]=_e[1]?_e[1]:"";_b["startCol"]=_e[0]?_e[0]:"";_b["endRow"]="";_b["endCol"]="";}}}else{_b["sheet"]="";_b["startRow"]="";_b["startCol"]="";_b["endRow"]="";_b["endCol"]="";}this._range.push(_b);};_pExcelImport.importData=function(_a,_b,_c,_d){this._file_password=null;this._fileurl="";if(arguments.length<3){return false;}if(!this.importurl){return false;}var _e=this.importfilemode.toLowerCase();if(_e!="server"||!_a){this._importfilemode=0;}else{this._importfilemode=1;}if(_b){this._range=_b;}else{this._range="";}if(_c){this._responseLVal=[];this._responseRVal=[];var _f="";var _g=nexacro.replaceAll(_c," ","").split(",");for(var _h=0,_i=_g.length;_h<_i;_h++ ){var _j=_g[_h].match(/[_A-Za-z0-9]+/g);this._responseLVal.push(_j[0]);if(_j[1]==null){_j[1]="output"+(_h+1);}this._responseRVal.push(_j[1]);_f+=" "+_j[0]+"="+_j[1];}this._responseData=_f;}if(_d){var _k=nexacro.replaceAll(_d," ","").split(",");for(var _h=0,_l=_k.length;_h<_l;_h++ ){var _m=_k[_h].split("=");if(_m[0]=="filepassword"){this._file_password=_m[1];var _n=_h;}}_k.splice(_n,1);_d=_k.join(",");}this._user_data=_d;if(!this._importfilemode){nexacro._findclick(this._unique_id,"upfile",this,this._handle);}else{if(this._checkFileName(_a)){this._fileurl=_a;this._requestImport(_a);}else{var _o="the file extension is wrong";var _p=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_o,this, -1);this.on_fire_onerror(this,_p);return false;}}return true;};_pExcelImport.destroy=function(){var _a=this._unique_id;this.parent.removeChild(this.id);nexacro._remove_hidden_item(_a,"upfile",this._handle);nexacro._remove_hidden_item(_a,"ds_command",this._handle);nexacro._destroy_hidden_frame(_a,this,this._handle);this._handle=null;this.parent=null;return true;};_pExcelImport.on_fire_onerror=function(_a,_b){var _c=this.onerror;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelImport.on_fire_onsuccess=function(_a,_b){var _c=this.onsuccess;if(_c&&_c._has_handlers){_c._fireEvent(this,_b);}};_pExcelImport._getExcelRowCol=function(_a){var _b=_a.length;var _c=[];for(var _d=0;_d<_b;_d++ ){if(!isNaN(_a[_d])){_c.push(_a.substring(0,_d));_c.push(_a.substring(_d));break;}}return _c;};_pExcelImport._transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._load_manager=new nexacro.LoadManager(this);var _j=application._getServiceObject(_b,true);this._load_manager.loadDataModule(_b,_a,_c,_d,_e,_f,_g,_h,_i,_j);};_pExcelImport._getDataset=function(_a){var _b=this.parent;if(!_b){_b=this._getForm();}var _c=this._responseRVal;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){if(_c[_e]==_a){return _b[this._responseLVal[_e]];}}return null;};_pExcelImport._waitCursor=nexacro._emptyFn;_pExcelImport._setParamter=nexacro._emptyFn;_pExcelImport._getDatasetObject=function(_a){var _b=this[_a];if(_b==null&&this.parent&&this.parent!=application){_b=this.parent._getDatasetObject(_a);}if(_b==null){_b=application[_a];}return _b;};_pExcelImport._getForm=function(){var _a=application.getActiveForm();if(!_a){_a=application.mainframe.childframe.form;}return _a;};_pExcelImport._isPopupFrame=function(){return false;};_pExcelImport._makeImportFormat=function(){var _a="<Import>";_a+="<Sheets>";var _b=this._range.split("]");var _c=_b.length-1;_c=_c==0?1:_c;var _d="";for(var _e=0;_e<_c;_e++ ){_a+="<Sheet ";_d=_b[_e].match(/[_A-Za-z0-9]+=[\(\)_!:A-Za-z0-9가-힣 ]+/g);if(_d==null){var _f=_b[_e];if(_f.indexOf("!")>0){var _g=_f.split("!");if(_g[1].indexOf(":")>0){var _h=_g[0];var _f=_g[1].split(":");var _i=_f[0].match(/[0-9]+/);var _j=_f[0].match(/[A-Z]+/);var _k= +_i+1;var _l=_f[1].match(/[0-9]+/);var _m=_f[1].match(/[A-Z]+/);_a+='command=\"getsheetdata\" output=\"'+this._responseRVal+'\" head=\"'+_h+'!'+_j+_i+':'+_m+_i+'\" body=\"'+_h+'!'+_j+( +_i+1)+':'+_m+_l+'\" />';}else{_a+='command=\"getsheetdata\" output=\"'+this._responseRVal+'\" Body=\"'+_b[_e]+'\" />';}}else{_a+='command=\"getsheetdata\" output=\"'+this._responseRVal+'\" Body=\"'+_b[_e]+'\" />';}}else{var _n=1;var _o=false;var _p="";for(var _q=0,_r=_d.length;_q<_r;_q++ ){_p=_d[_q].match(/[\(\)_!:A-Za-z0-9가-힣 ]+/g);var _s=_p[0].toLowerCase();if(_s!="command"){if(_q==0){_a+='command=\"getsheetdata\" ';}if(_s=="output"){_o=true;}}_a+=_s+"=\""+_p[1]+"\" ";}if(!_o){_a+='output=\"output'+_n+'\" ';_n++ ;}_a+="/>";}}_a+="</Sheets>";_a+="</Import>";return _a;};_pExcelImport._requestImport=function(_a){var _b=new Dataset("COMMAND");this._ds_command=_b;_b.addColumn("command","String",32);_b.addColumn("type","int",32);_b.addColumn("url","String",256);_b.addColumn("format","String",256);_b.addColumn("filemode","String",256);_b.addColumn("password","String",256);_b.addColumn("rawdatevalue","String",256);_b.addRow();_b.setColumn(0,"command","import");_b.setColumn(0,"type",this._importType);_b.setColumn(0,"url",_a);_b.setColumn(0,"format",this._makeImportFormat());_b.setColumn(0,"filemode",this._importfilemode?"server":"local");_b.setColumn(0,"password",this._file_password);_b.setColumn(0,"rawdatevalue",this._userawdatevalue);if(this._ds_response){delete this._ds_response;}var _c=this._responseLVal;for(var _f=0,_g=_c.length;_f<_g;_f++ ){var _h=this.parent[_c[_f]];if(_h){}else{var _i="Dataset is null";var _j=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_i,this, -2011);this.on_fire_onerror(this,_j);return;}}this._file_url_ds=new Dataset("_file_url_ds",this);var _d=this._tran_item=new nexacro.TransactionItem(this._importurl,this,this.id,"COMMAND=_ds_command",this._responseData+", _file_url_ds=IMPORTFILES",this._user_data,0,true);var _e=_d._sendData;nexacro._setImportCommand(this._unique_id,"ds_command",this,this._handle,_e);nexacro._submit(this._unique_id,this._uploadservlet,this._handle,_e,_a);};_pExcelImport._uploadComplete=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._getXMLDocument(this._unique_id,_b,_c);try{_c=_g.URL?_g.URL:_g.url;if(_c=="about:blank"){return;}var _i=null;if(_b){_i=this._tran_item._deserializeData(_b);}else{_i=this._tran_item._deserializeData(nexacro._getDataFromDOM(_g));}this._tran_item=null;var _j= -1;var _k="";var _l=_i[0];if(_l){_j=_l[0];_k=_l[1];}if(_j<0||_a<0){var _m=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_k,this,_j);this.on_fire_onerror(this,_m);}else{var _n=this._fileurl=this._file_url_ds?this._file_url_ds.getColumn(0,3):null;this._file_url_ds=null;var _m=new nexacro.ExcelImportEventInfo(this,"onsuccess",_n,this);this.on_fire_onsuccess(this,_m);}}catch(e){var _m=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError","failed to get",this,9901);this.on_fire_onerror(this,_m);}var _h=this._unique_id;nexacro._remove_hidden_item(_h,"upfile",this._handle);nexacro._append_hidden_item(_h,"upfile",this._checkUploadFile,this,this._handle);};_pExcelImport._checkFileName=function(_a){if(_a==null){return false;}var _b=false;var _c="";var _d=_a.lastIndexOf("\\");var _e=_a.substring(_d+1);var _f=_e.split(".");var _g=_f.length;if(_g>1){_c=_f[_g-1];switch(_c){case "xls":_b=true;this._importType=nexacro.ImportTypes.EXCEL97;break;case "xlsx":_b=true;this._importType=nexacro.ImportTypes.EXCEL2007;break;case "cell":_b=true;this._importType=nexacro.ImportTypes.HANCELL;break;case "csv":_b=true;this._importType=nexacro.ImportTypes.CSV;break;default:if(this._importfilemode){_b=true;this._importType=this.importtype;}break;}}else{if(this._importfilemode){_b=true;this._importType=this.importtype;}}return _b;};_pExcelImport._checkUploadFile=function(_a){if(this._checkFileName(_a)){this._requestImport(_a);}else{var _b="the file extension is wrong";var _c=new nexacro.ExcelImportErrorEventInfo(this,"onerror","ObjectError",_b,this, -1);this.on_fire_onerror(this,_c);}};_pExcelImport._getWindow=function(){var _a=this.parent;if(_a._is_form){return _a._getWindow();}return null;};_pExcelImport._getWindowHandle=function(){var _a=this.parent;if(_a._is_form){return _a._getWindowHandle();}return null;};_pExcelImport._changeFiles=nexacro._emptyFn;delete _pExcelImport;}if(!nexacro.Tray){nexacro.Tray=function(_a,_b){this.id=_a;this.icon="default";this.tooltip="";this.items=new nexacro.Collection();this.name=_a;this._handle=0;this._event_list={"onlbuttonup":1,"onrbuttonup":1,"ondblclick":1};};var _pTray=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Tray);nexacro.Tray.prototype=_pTray;_pTray._type_name="Tray";_pTray.on_created=function(){this._handle=nexacro._createTrayHandle(this.icon,this.tooltip);var _a=this.items.length;for(var _b=0;_b<_a;_b++ ){this.items[_b].on_created();}};_pTray._destroy=function(){var _a=this.items.length;for(var _b=_a-1;_b>=0;_b-- ){this.items.delete_item(_b);}nexacro._removeTrayHandle(this._handle);application.trays.delete_item(this.id);application.all.delete_item(this.id);};_pTray.set_id=function(_a){if(_a!=this.id){this.id=this.name=_a;}};_pTray.set_name=function(_a){if(_a!=this.name){this.id=this.name=_a;}};_pTray.set_icon=function(_a){if(_a!=this.icon){this.icon=_a;}};_pTray.set_tooltip=function(_a){this.tooltip=_a;};_pTray.show=function(){this.on_created();};_pTray.destroy=function(){this._destroy();};_pTray.init=function(_a,_b,_c){this.set_id(_a);this.set_icon(_b);this.set_tooltip(_c);};_pTray.showBalloonTip=function(_a,_b,_c,_d){var _e=false;var _f= -1;if(!_d){_d=false;}nexacro._showTrayBalloonTipHandle(this._handle,_a,_b,_c,_f,_d);};_pTray.addItem=function(_a,_b){if(_b._type_name=="TrayPopupMenu"){return this.items.add_item(_a,_b);}};_pTray.insertItem=function(_a,_b,_c){if(_c._type_name=="TrayPopupMenu"){return this.items.insert_item(_a,_b,_c);}};_pTray.deleteItem=function(_a){return this.items.delete_item(_a);};_pTray.findItem=function(_a){var _b=this.items.indexOf(_a);return _b;};_pTray.getItemCount=function(){var _a=this.items.size();return _a;};_pTray.destroy=function(){this._destroy();};_pTray.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f){if(this.ondblclick&&this.ondblclick._has_handlers){var _g=new nexacro.ClickEventInfo(this,"ondblclick","lbutton",_b,_c,_d,_e,_f, -1, -1, -1, -1,this,this);return this.ondblclick._fireEvent(this,_g);}return false;};_pTray.on_fire_onlbuttonup=function(_a,_b,_c,_d,_e,_f){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _g=new nexacro.MouseEventInfo(this,"onlbuttonup","lbutton",_b,_c,_d,_e,_f, -1, -1, -1, -1,this,this);return this.onlbuttonup._fireEvent(this,_g);}return false;};_pTray.on_fire_onrbuttonup=function(_a,_b,_c,_d,_e,_f){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _g=new nexacro.MouseEventInfo(this,"onrbuttonup","rbutton",_b,_c,_d,_e,_f, -1, -1, -1, -1,this,this);return this.onrbuttonup._fireEvent(this,_g);}return false;};delete _pTray;};if(!nexacro.TrayPopupMenu){nexacro.TrayPopupMenu=function(_a,_b){this.id=_a;this.parent=_b;this._popupmenu=null;this._handle=null;this.innerdataset="";this._innerdataset="";this._level=0;this._rowindex=0;this.captioncolumn="";this.checkboxcolumn="";this.enablecolumn="";this.hotkeycolumn="";this.iconcolumn="";this.idcolumn="";this.levelcolumn="";this.userdatacolumn="";this._event_list={"onmenuclick":1};};var _pTrayPopupMenu=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.TrayPopupMenu);nexacro.TrayPopupMenu.prototype=_pTrayPopupMenu;_pTrayPopupMenu._type_name="TrayPopupMenu";_pTrayPopupMenu.on_created=function(){if(this._innerdataset==null&&this.innerdataset!=null){var _a=this.innerdataset;this._innerdataset=application._getDatasetObject(_a);this.on_apply_innerdataset();}this._handle=nexacro._createTrayPopupMenuHandle(this.parent._handle);this._createPopupMenu(this._handle);};_pTrayPopupMenu._createPopupMenu=function(_a){var _b=this._innerdataset;if(_b&&this.levelcolumn&&this.captioncolumn&&this.idcolumn){var _c=_b.getRowCount();for(var _d=this._rowindex;_d<_c;_d++ ){var _e=_b.getColumn(_d,this.levelcolumn);if(_e==this._level){var _f="string";var _g=_b.getColumn(_d,this.captioncolumn);if(_g=="-"){_f="separator";}var _h=_b.getColumn(_d,this.iconcolumn);if(_h){_f="bitmap";}var _i=_b.getColumn(_d,this.enablecolumn);if(_i){if(!nexacro._toBoolean(_i)){_f="disabled";}}var _j=_b.getColumn(_d,this.idcolumn);if(_j){_j=_d;}var _k=_b.getColumn(_d,this.checkboxcolumn);if(_k){if(nexacro._toBoolean(_k)){_f="checked";}}var _l=_b.getColumn(_d,this.userdatacolumn);var _h=_b.getColumn(_d,this.iconcolumn);var _m=_b.getColumn(_d+1,this.levelcolumn);if(_m-_e==1){_f="popup";var _n=nexacro._createTrayPopupMenuHandle(this.parent._handle);this._level++ ;this._rowindex=_d+1;this._createPopupMenu(_n);nexacro._setTrayPopupMenuItemHandle(this.parent._handle,_a,_f,_n,_g,_h);this._level-- ;_m=_b.getColumn(this._rowindex+1,this.levelcolumn);if(_m-_e<0){break;}}else if(_m-_e<0){nexacro._setTrayPopupMenuItemHandle(this.parent._handle,_a,_f,_j,_g,_h);this._rowindex=_d;break;}else{nexacro._setTrayPopupMenuItemHandle(this.parent._handle,_a,_f,_j,_g,_h);}}}}};_pTrayPopupMenu.trackPopup=function(){if(this._handle){nexacro._displayTrayPopupMenuHandle(this.parent._handle,this._handle);application._current_tray_popup=this;}};_pTrayPopupMenu.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=application._getDatasetObject(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}};_pTrayPopupMenu.on_apply_innerdataset=function(){var _a=this._innerdataset;if(_a){var _b=this._callbackFromDataset;_a._setEventHandler("onrowposchanged",_b,this);_a._setEventHandler("oncolumnchanged",_b,this);_a._setEventHandler("onrowsetchanged",_b,this);}};_pTrayPopupMenu._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=application._getDatasetObject(_a);this.innerdataset=_a;}};_pTrayPopupMenu.getInnerDataset=function(){return this._innerdataset;};_pTrayPopupMenu.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pTrayPopupMenu.set_captioncolumn=function(_a){if(_a!=this.captioncolumn){this.captioncolumn=_a;this.on_apply_captioncolumn();}};_pTrayPopupMenu.on_apply_captioncolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.set_checkboxcolumn=function(_a){if(_a!=this.checkboxcolumn){this.checkboxcolumn=_a;this.on_apply_checkboxcolumn();}};_pTrayPopupMenu.on_apply_checkboxcolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.set_enablecolumn=function(_a){if(_a!=this.enablecolumn){this.enablecolumn=_a;this.on_apply_enablecolumn();}};_pTrayPopupMenu.on_apply_enablecolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.set_hotkeycolumn=function(_a){if(_a!=this.hotkeycolumn){this.hotkeycolumn=_a;this.on_apply_hotkeycolumn();}};_pTrayPopupMenu.on_apply_hotkeycolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.set_iconcolumn=function(_a){if(_a!=this.iconcolumn){this.iconcolumn=_a;this.on_apply_iconcolumn();}};_pTrayPopupMenu.on_apply_iconcolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.set_idcolumn=function(_a){if(_a!=this.idcolumn){this.idcolumn=_a;this.on_apply_idcolumn();}};_pTrayPopupMenu.on_apply_idcolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.set_levelcolumn=function(_a){if(_a!=this.levelcolumn){this.levelcolumn=_a;this.on_apply_levelcolumn();}};_pTrayPopupMenu.on_apply_levelcolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.set_userdatacolumn=function(_a){if(_a!=this.userdatacolumn){this.userdatacolumn=_a;this.on_apply_userdatacolumn();}};_pTrayPopupMenu.on_apply_userdatacolumn=function(){var _a=this._innerdataset;if(_a){}};_pTrayPopupMenu.on_fire_onmenuclick=function(_a){var _b=this._innerdataset;var _c=_a;var _d=_b.getColumn(_c,this.idcolumn);var _e=_b.getColumn(_c,this.userdatacolumn);var _f=_b.getColumn(_c,this.levelcolumn);if(this.onmenuclick&&this.onmenuclick._has_handlers){var _g=new nexacro.MenuClickEventInfo(this,"onmenuclick",_d,_e,_c,_f);this.onmenuclick._fireEvent(this,_g);}};delete _pTrayPopupMenu;};if(!nexacro.GridFormat){nexacro.Grid_Style=function(_a){nexacro.Style.call(this,_a);this.line=null;this.selectline=null;this.linetype=null;this.selectlinetype=null;this.focusborder=null;this.treeclosebuttonimage=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treeitemmargin=null;this.treelinetype=null;this.treeopenbuttonimage=null;this.accessibility=null;this.selectpointimage=null;};var _pGridStyle=nexacro._createPrototype(nexacro.Style,nexacro.Grid_Style);nexacro.Grid_Style.prototype=_pGridStyle;eval(nexacro._createBorderAttributeEvalStr("_pGridStyle","line"));eval(nexacro._createBorderAttributeEvalStr("_pGridStyle","selectline"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","linetype"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","selectlinetype"));eval(nexacro._createBorderAttributeEvalStr("_pGridStyle","focusborder"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeclosebuttonimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treecollapseimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeexpandimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeitemimage"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeitemmargin"));eval(nexacro._createLineAttributeEvalStr("_pGridStyle","treelinetype"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","treeopenbuttonimage"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridStyle","accessibility"));eval(nexacro._createValueAttributeEvalStr("_pGridStyle","selectpointimage"));_pGridStyle.__custom_emptyObject=function(){this.line=null;this.selectline=null;this.linetype=null;this.selectlinetype=null;this.focusborder=null;this.treeclosebuttonimage=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treeitemmargin=null;this.treelinetype=null;this.treeopenbuttonimage=null;this.selectpointimage=null;};_pGridStyle.__get_custom_style_value=function(){var _a="";if(this.line&&!this.line._is_empty){_a+="line:"+this.line._value+"; ";}if(this.selectline&&!this.selectline._is_empty){_a+="selectline:"+this.selectline._value+"; ";}if(this.linetype&&!this.linetype._is_empty){_a+="linetype:"+this.linetype._value+"; ";}if(this.selectlinetype&&!this.selectlinetype._is_empty){_a+="selectlinetype:"+this.selectlinetype._value+"; ";}if(this.focusborder&&!this.focusborder._is_empty){_a+="focusborder:"+this.focusborder._value+"; ";}if(this.treeclosebuttonimage&&!this.treeclosebuttonimage._is_empty){_a+="treeclosebuttonimage:"+this.treeclosebuttonimage._value+"; ";}if(this.treecollapseimage&&!this.treecollapseimage._is_empty){_a+="treecollapseimage:"+this.treecollapseimage._value+"; ";}if(this.treeexpandimage&&!this.treeexpandimage._is_empty){_a+="treeexpandimage:"+this.treeexpandimage._value+"; ";}if(this.treeitemimage&&!this.treeitemimage._is_empty){_a+="treeitemimage:"+this.treeitemimage._value+"; ";}if(this.treeitemmargin&&!this.treeitemmargin._is_empty){_a+="treeitemmargin:"+this.treeitemmargin._value+"; ";}if(this.treelinetype&&!this.treelinetype._is_empty){_a+="treelinetype:"+this.treelinetype._value+"; ";}if(this.treeopenbuttonimage&&!this.treeopenbuttonimage._is_empty){_a+="treeopenbuttonimage:"+this.treeopenbuttonimage._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}if(this.selectpointimage&&!this.selectpointimage._is_empty){_a+="selectpointimage:"+this.selectpointimage._value+"; ";}return _a;};nexacro.Grid_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.line=null;this.selectline=null;this.linetype=null;this.selectlinetype=null;this.focusborder=null;this.treeclosebuttonimage=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treeitemmargin=null;this.treelinetype=null;this.treeopenbuttonimage=null;this.accessibility=null;this.selectpointimage=null;};var _pGridCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Grid_CurrentStyle);nexacro.Grid_CurrentStyle.prototype=_pGridCurrentStyle;_pGridCurrentStyle.__custom_emptyObject=_pGridStyle.__custom_emptyObject;_pGridCurrentStyle.__get_custom_style_value=_pGridStyle.__get_custom_style_value;delete _pGridCurrentStyle;delete _pGridStyle;nexacro.GridBand_Style=function(_a){nexacro.Style.call(this,_a);this.cellalign=null;this.cellbackground=null;this.cellbackground2=null;this.cellcolor=null;this.cellcolor2=null;this.cellfont=null;this.cellgradation=null;this.cellgradation2=null;this.cellline=null;this.celllinetype=null;this.cellpadding=null;this.selectborder=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridBandStyle=nexacro._createPrototype(nexacro.Style,nexacro.GridBand_Style);nexacro.GridBand_Style.prototype=_pGridBandStyle;eval(nexacro._createAlignAttributeEvalStr("_pGridBandStyle","cellalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridBandStyle","cellbackground"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridBandStyle","cellbackground2"));eval(nexacro._createColorAttributeEvalStr("_pGridBandStyle","cellcolor"));eval(nexacro._createColorAttributeEvalStr("_pGridBandStyle","cellcolor2"));eval(nexacro._createFontAttributeEvalStr("_pGridBandStyle","cellfont"));eval(nexacro._createGradationAttributeEvalStr("_pGridBandStyle","cellgradation"));eval(nexacro._createGradationAttributeEvalStr("_pGridBandStyle","cellgradation2"));eval(nexacro._createBorderAttributeEvalStr("_pGridBandStyle","cellline"));eval(nexacro._createValueAttributeEvalStr("_pGridBandStyle","celllinetype"));eval(nexacro._createPaddingAttributeEvalStr("_pGridBandStyle","cellpadding"));eval(nexacro._createBorderAttributeEvalStr("_pGridBandStyle","selectborder"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridBandStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pGridBandStyle","selectcolor"));eval(nexacro._createFontAttributeEvalStr("_pGridBandStyle","selectfont"));eval(nexacro._createGradationAttributeEvalStr("_pGridBandStyle","selectgradation"));eval(nexacro._createBorderAttributeEvalStr("_pGridBandStyle","selectline"));eval(nexacro._createValueAttributeEvalStr("_pGridBandStyle","selectlinetype"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridBandStyle","accessibility"));_pGridBandStyle.__custom_emptyObject=function(){this.cellalign=null;this.cellbackground=null;this.cellbackground2=null;this.cellcolor=null;this.cellcolor2=null;this.cellfont=null;this.cellgradation=null;this.cellgradation2=null;this.cellline=null;this.celllinetype=null;this.cellpadding=null;this.selectborder=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;};_pGridBandStyle.__get_custom_style_value=function(){var _a="";if(this.cellalign&&!this.cellalign._is_empty){_a+="cellalign:"+this.cellalign._value+"; ";}if(this.cellbackground&&!this.cellbackground._is_empty){_a+="cellbackground:"+this.cellbackground._value+"; ";}if(this.cellbackground2&&!this.cellbackground2._is_empty){_a+="cellbackground2:"+this.cellbackground2._value+"; ";}if(this.cellcolor&&!this.cellcolor._is_empty){_a+="cellcolor:"+this.cellcolor._value+"; ";}if(this.cellcolor2&&!this.cellcolor2._is_empty){_a+="cellcolor2:"+this.cellcolor2._value+"; ";}if(this.cellfont&&!this.cellfont._is_empty){_a+="cellfont:"+this.cellfont._value+"; ";}if(this.cellgradation&&!this.cellgradation._is_empty){_a+="cellgradation:"+this.cellgradation._value+"; ";}if(this.cellgradation2&&!this.cellgradation2._is_empty){_a+="cellgradation2:"+this.cellgradation2._value+"; ";}if(this.cellline&&!this.cellline._is_empty){_a+="cellline:"+this.cellline._value+"; ";}if(this.celllinetype&&!this.celllinetype._is_empty){_a+="celllinetype:"+this.celllinetype._value+"; ";}if(this.selectborder&&!this.selectborder._is_empty){_a+="selectborder:"+this.selectborder._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectfont&&!this.selectfont._is_empty){_a+="selectfont:"+this.selectfont._value+"; ";}if(this.selectgradation&&!this.selectgradation._is_empty){_a+="selectgradation:"+this.selectgradation._value+"; ";}if(this.selectLine&&!this.selectline._is_empty){_a+="selectline:"+this.selectline._value+"; ";}if(this.selectlinetype&&!this.selectlinetype._is_empty){_a+="selectlinetype:"+this.selectlinetype._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.GridBand_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.cellalign=null;this.cellbackground=null;this.cellbackground2=null;this.cellcolor=null;this.cellcolor2=null;this.cellfont=null;this.cellgradation=null;this.cellgradation2=null;this.cellline=null;this.celllinetype=null;this.cellpadding=null;this.selectborder=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridBandCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridBand_CurrentStyle);nexacro.GridBand_CurrentStyle.prototype=_pGridBandCurrentStyle;_pGridBandCurrentStyle.__custom_emptyObject=_pGridBandStyle.__custom_emptyObject;_pGridBandCurrentStyle.__get_custom_style_value=_pGridBandStyle.__get_custom_style_value;delete _pGridBandCurrentStyle;delete _pGridBandStyle;nexacro.GridCell_Style=function(_a){nexacro.Style.call(this,_a);this.background2=null;this.backgroundimage=null;this.color2=null;this.gradation2=null;this.line=null;this.linetype=null;this.barcolor=null;this.bardirection=null;this.bargradation=null;this.checkboxsize=null;this.controlaccessibility=null;this.controlbackground=null;this.controlbackgroundimagemode=null;this.controlcolor=null;this.controlfont=null;this.controlalign=null;this.controlimage=null;this.controlborder=null;this.controlbordertype=null;this.controlbuttonsize=null;this.controlgradation=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridCellStyle=nexacro._createPrototype(nexacro.Style,nexacro.GridCell_Style);nexacro.GridCell_Style.prototype=_pGridCellStyle;eval(nexacro._createBackgroundAttributeEvalStr("_pGridCellStyle","background2"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","backgroundimage"));eval(nexacro._createColorAttributeEvalStr("_pGridCellStyle","color2"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","gradation2"));eval(nexacro._createBorderAttributeEvalStr("_pGridCellStyle","line"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","linetype"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","barcolor"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","bardirection"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","bargradation"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","checkboxsize"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridCellStyle","controlaccessibility"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridCellStyle","controlbackground"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","controlbackgroundimagemode"));eval(nexacro._createColorAttributeEvalStr("_pGridCellStyle","controlcolor"));eval(nexacro._createFontAttributeEvalStr("_pGridCellStyle","controlfont"));eval(nexacro._createAlignAttributeEvalStr("_pGridCellStyle","controlalign"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","controlimage"));eval(nexacro._createBorderAttributeEvalStr("_pGridCellStyle","controlborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pGridCellStyle","controlbordertype"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","controlbuttonsize"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","controlgradation"));eval(nexacro._createBackgroundAttributeEvalStr("_pGridCellStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pGridCellStyle","selectcolor"));eval(nexacro._createFontAttributeEvalStr("_pGridCellStyle","selectfont"));eval(nexacro._createGradationAttributeEvalStr("_pGridCellStyle","selectgradation"));eval(nexacro._createBorderAttributeEvalStr("_pGridCellStyle","selectline"));eval(nexacro._createValueAttributeEvalStr("_pGridCellStyle","selectlinetype"));eval(nexacro._createAccessibilityAttributeEvalStr("_pGridCellStyle","accessibility"));_pGridCellStyle.__custom_emptyObject=function(){this.background2=null;this.backgroundimage=null;this.color2=null;this.gradation2=null;this.line=null;this.linetype=null;this.barcolor=null;this.bardirection=null;this.bargradation=null;this.checkboxsize=null;this.controlaccessibility=null;this.controlbackground=null;this.controlbackgroundimagemode=null;this.controlcolor=null;this.controlfont=null;this.controlalign=null;this.controlimage=null;this.controlborder=null;this.controlbordertype=null;this.controlbuttonsize=null;this.controlgradation=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;};_pGridCellStyle.__get_custom_style_value=function(){var _a="";if(this.background2&&!this.background2._is_empty){_a+="background2:"+this.background2._value+"; ";}if(this.backgroundimage&&!this.backgroundimage._is_empty){_a+="backgroundimage:"+this.backgroundimage._value+"; ";}if(this.color2&&!this.color2._is_empty){_a+="color2:"+this.color2._value+"; ";}if(this.gradation2&&!this.gradation2._is_empty){_a+="gradation2:"+this.gradation2._value+"; ";}if(this.line&&!this.line._is_empty){_a+="line:"+this.line._value+"; ";}if(this.linetype&&!this.linetype._is_empty){_a+="linetype:"+this.linetype._value+"; ";}if(this.barcolor&&!this.barcolor._is_empty){_a+="barcolor:"+this.barcolor._value+"; ";}if(this.bardirection&&!this.bardirection._is_empty){_a+="bardirection:"+this.bardirection._value+"; ";}if(this.bargradation&&!this.bargradation._is_empty){_a+="bargradation:"+this.bargradation._value+"; ";}if(this.checkboxsize&&!this.checkboxsize._is_empty){_a+="checkboxsize:"+this.checkboxsize._value+"; ";}if(this.controlaccessibility&&!this.controlaccessibility._is_empty){_a+="controlaccessibility:"+this.controlaccessibility._value+"; ";}if(this.controlbackground&&!this.controlbackground._is_empty){_a+="controlbackground:"+this.controlbackground._value+"; ";}if(this.controlbackgroundimagemode&&!this.controlbackgroundimagemode._is_empty){_a+="controlbackgroundimagemode:"+this.controlbackgroundimagemode._value+"; ";}if(this.controlcolor&&!this.controlcolor._is_empty){_a+="controlcolor:"+this.controlcolor._value+"; ";}if(this.controlfont&&!this.controlfont._is_empty){_a+="controlfont:"+this.controlfont._value+"; ";}if(this.controlalign&&!this.controlalign._is_empty){_a+="controlalign:"+this.controlalign._value+"; ";}if(this.controlimage&&!this.controlimage._is_empty){_a+="controlimage:"+this.controlimage._value+"; ";}if(this.controlborder&&!this.controlborder._is_empty){_a+="controlborder:"+this.controlborder._value+"; ";}if(this.controlbordertype&&!this.controlbordertype._is_empty){_a+="controlbordertype:"+this.controlbordertype._value+"; ";}if(this.controlbuttonsize&&!this.controlbuttonsize._is_empty){_a+="controlbuttonsize:"+this.controlbuttonsize._value+"; ";}if(this.controlgradation&&!this.controlgradation._is_empty){_a+="controlgradation:"+this.controlgradation._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectfont&&!this.selectfont._is_empty){_a+="selectfont:"+this.selectfont._value+"; ";}if(this.selectgradation&&!this.selectgradation._is_empty){_a+="selectgradation:"+this.selectgradation._value+"; ";}if(this.accessibility&&!this.accessibility._is_empty){_a+="accessibility:"+this.accessibility._value+"; ";}return _a;};nexacro.GridCell_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.background2=null;this.backgroundimage=null;this.color2=null;this.gradation2=null;this.line=null;this.linetype=null;this.barcolor=null;this.bardirection=null;this.bargradation=null;this.checkboxsize=null;this.controlaccessibility=null;this.controlbackground=null;this.controlbackgroundimagemode=null;this.controlcolor=null;this.controlfont=null;this.controlalign=null;this.controlimage=null;this.controlborder=null;this.controlbordertype=null;this.controlbuttonsize=null;this.controlgradation=null;this.selectbackground=null;this.selectcolor=null;this.selectfont=null;this.selectgradation=null;this.selectline=null;this.selectlinetype=null;this.accessibility=null;};var _pGridCellCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridCell_CurrentStyle);nexacro.GridCell_CurrentStyle.prototype=_pGridCellCurrentStyle;_pGridCellCurrentStyle.__custom_emptyObject=_pGridCellStyle.__custom_emptyObject;_pGridCellCurrentStyle.__get_custom_style_value=_pGridCellStyle.__get_custom_style_value;delete _pGridCellCurrentStyle;delete _pGridCellStyle;nexacro.GridCellInfo=function(_a,_b,_c,_d,_e){this.id=this.name=_a;this.parent=_b;this.grid=_c;this.celltype=_d;this._cellidx=_e;this._col=0;this._colspan=0;this._row=0;this._rowspan=0;this._area="";this._endcol=false;this._subcells=[];this._isSubCell=false;this.classname="";this._hasEditor=false;this._control_element=true;this._editingRow= -9;this._default_expandsize=16;this._is_use_bind_expr_style=false;this._findcss_ctrl=new nexacro.Component("cssfind","absolute",0,0,0,0,null,null,this);this._findcss_ctrl._is_subcontrol=true;this.style=new nexacro.GridCell_Style(this);this._styles={};this._stylecache={};this._imgWidthTemp={};this._imgHeightTemp={};this._suppress_infos=[];this._fakemerge_infos=null;this._cur1font_size=null;this._cur1selectfont_size=null;this._curfont=undefined;this._curselfont=undefined;this._curborder=undefined;this._curpadding=undefined;this.displaytype=new nexacro.BindableValue("normal");this.edittype=new nexacro.BindableValue("none");this.tooltiptype="none";this.tooltiptext=new nexacro.BindableValue("");this.autosizecol="default";this.autosizerow="default";this.displayexpdec=new nexacro.BindableValue( -1);this.locale=new nexacro.BindableValue("");this.mask=new nexacro.BindableValue("");this.maskchar="_";this.suppress=new nexacro.BindableValue(0);this.suppressalign="first";this.suppressedit=false;this.wordwrap=new nexacro.BindableValue("none");this.text=new nexacro.BindableValue("");this.expr=new nexacro.BindableValue("");this.subsumtext=new nexacro.BindableValue("");this.combodataset=new nexacro.BindableValue("");this.combocodecol=new nexacro.BindableValue("");this.combodatacol=new nexacro.BindableValue("");this.combodisplay=new nexacro.BindableValue("edit");this.combodisplaynulltext=new nexacro.BindableValue("");this.combodisplaynulltype=new nexacro.BindableValue("none");this.combodisplayrowcount=new nexacro.BindableValue( -1);this.combotype=new nexacro.BindableValue("dropdown");this.calendardisplay=new nexacro.BindableValue("edit");this.calendardisplaynulltext=new nexacro.BindableValue("");this.calendardisplaynulltype=new nexacro.BindableValue("default");this.calendarinnerdataset=new nexacro.BindableValue("");this.calendarbackgroundcolumn=new nexacro.BindableValue("");this.calendarbordercolumn=new nexacro.BindableValue("");this.calendardatecolumn=new nexacro.BindableValue("");this.calendartextcolorcolumn=new nexacro.BindableValue("");this.editacceptsenter=new nexacro.BindableValue(false);this.editacceptstab=new nexacro.BindableValue(false);this.editautoselect=new nexacro.BindableValue(false);this.editautoskip=new nexacro.BindableValue(false);this.editclipmode=new nexacro.BindableValue("includespace");this.editdisplay=new nexacro.BindableValue("edit");this.editfilter=new nexacro.BindableValue("none");this.editimemode=new nexacro.BindableValue("none");this.editlimit=new nexacro.BindableValue( -1);this.editlengthunit=new nexacro.BindableValue("utf16");this.editlimitbymask=new nexacro.BindableValue("decimal");this.editscrollbar=new nexacro.BindableValue("none");this.edittrimtype=new nexacro.BindableValue("none");this.edituseime=new nexacro.BindableValue("global");this.expandchar=new nexacro.BindableValue("");this.expandimage=new nexacro.BindableValue("");this.expandshow=new nexacro.BindableValue("hide");this.expandsize=new nexacro.BindableValue(this._default_expandsize);this.treecheck=new nexacro.BindableValue("");this.treecollapseimage=new nexacro.BindableValue("");this.treeexpandimage=new nexacro.BindableValue("");this.treeitemimage=new nexacro.BindableValue("");this.treelevel=new nexacro.BindableValue("");this.treestartlevel=new nexacro.BindableValue(0);this.treestate=new nexacro.BindableValue("");this._tempinnerds=new nexacro.Dataset();};var _pGridCellInfo=nexacro._createPrototype(nexacro.Object,nexacro.GridCellInfo);nexacro.GridCellInfo.prototype=_pGridCellInfo;_pGridCellInfo._type_name="GridCellInfo";_pGridCellInfo.destroy=function(){this.parent=null;this.grid=null;this._subcells=null;if(this.style){delete this.style;this.style=null;}if(this._styles){var _a=this._styles;for(var _b in _a){var _c=_a[_b];if(_c.destroy){_c.destroy();_c=null;}}this._styles=null;}this._imgWidthTemp=null;this._imgHeightTemp=null;this._suppress_infos=null;this._fakemerge_infos=null;this.displaytype=null;this.edittype=null;this.tooltiptext=null;this.displayexpdec=null;this.locale=null;this.mask=null;this.suppress=null;this.wordwrap=null;this.text=null;this.expr=null;this.subsumtext=null;this.combodataset=null;this.combocodecol=null;this.combodatacol=null;this.combodisplay=null;this.combodisplaynulltext=null;this.combodisplaynulltype=null;this.combodisplayrowcount=null;this.combotype=null;this.calendardisplay=null;this.calendardisplaynulltext=null;this.calendardisplaynulltype=null;this.calendarinnerdataset=null;this.calendarbackgroundcolumn=null;this.calendarbordercolumn=null;this.calendardatecolumn=null;this.calendartextcolorcolumn=null;this.editacceptsenter=null;this.editacceptstab=null;this.editautoselect=null;this.editautoskip=null;this.editclipmode=null;this.editdisplay=null;this.editfilter=null;this.editimemode=null;this.editlimit=null;this.editlengthunit=null;this.editlimitbymask=null;this.editscrollbar=null;this.edittrimtype=null;this.edituseime=null;this._findcss_ctrl=null;this._stylecache=null;this.expandchar=null;this.expandimage=null;this.expandshow=null;this.expandsize=null;this.treecheck=null;this.treecollapseimage=null;this.treeexpandimage=null;this.treeitemimage=null;this.treelevel=null;this.treestartlevel=null;this.treestate=null;this._tempinnerds=null;this._cur1font_size=null;this._cur1selectfont_size=null;this._curfont=null;this._curselfont=null;this._curborder=null;this._curpadding=null;};_pGridCellInfo._getValue=function(_a){return this._getAttrValue(this.text,_a);};_pGridCellInfo._setValue=function(_a,_b){this._setAttrValue(this.text,_a,_b);};_pGridCellInfo.on_update_style_blur=function(){};_pGridCellInfo.on_update_style_glow=function(){};_pGridCellInfo.on_update_style_align=function(){};_pGridCellInfo.on_update_style_cursor=function(){};_pGridCellInfo.on_update_style_shadow=function(){};_pGridCellInfo.on_update_style_opacity=function(){};_pGridCellInfo.on_update_style_margin=function(){};_pGridCellInfo.on_update_style_background=function(){};_pGridCellInfo.on_update_style_background2=function(){};_pGridCellInfo.on_update_style_backgroundimage=function(){};_pGridCellInfo.on_update_style_color=function(){};_pGridCellInfo.on_update_style_color2=function(){};_pGridCellInfo.on_update_style_gradation=function(){};_pGridCellInfo.on_update_style_gradation2=function(){};_pGridCellInfo.on_update_style_line=function(){};_pGridCellInfo.on_update_style_linetype=function(){};_pGridCellInfo.on_update_style_barcolor=function(){};_pGridCellInfo.on_update_style_bardirection=function(){};_pGridCellInfo.on_update_style_bargradation=function(){};_pGridCellInfo.on_update_style_checkboxsize=function(){};_pGridCellInfo.on_update_style_controlaccessibility=function(){};_pGridCellInfo.on_update_style_controlbackground=function(){};_pGridCellInfo.on_update_style_controlbackgroundimagemode=function(){};_pGridCellInfo.on_update_style_controlcolor=function(){};_pGridCellInfo.on_update_style_controlfont=function(){};_pGridCellInfo.on_update_style_controlalign=function(){};_pGridCellInfo.on_update_style_controlimage=function(){};_pGridCellInfo.on_update_style_controlborder=function(){};_pGridCellInfo.on_update_style_controlbordertype=function(){};_pGridCellInfo.on_update_style_controlbuttonsize=function(){};_pGridCellInfo.on_update_style_controlgradation=function(){};_pGridCellInfo.on_update_style_selectbackground=function(){};_pGridCellInfo.on_update_style_selectcolor=function(){};_pGridCellInfo.on_update_style_selectfont=function(){};_pGridCellInfo.on_update_style_selectgradation=function(){};_pGridCellInfo.on_update_style_selectline=function(){};_pGridCellInfo.on_update_style_selectlinetype=function(){};_pGridCellInfo.on_update_style_accessibility=function(){};_pGridCellInfo.on_update_style_bordertype=function(){};_pGridCellInfo.on_update_style_border=function(){};_pGridCellInfo.on_update_style_font=function(){};_pGridCellInfo.on_update_style_padding=function(){};_pGridCellInfo._getSuppressInfo=function(_a){if(_a<0){_a=0;}if(!this._suppress_infos[_a]){var _b={text_proc:0,border_proc:0,middle:false,last:true};this._suppress_infos[_a]=_b;}return this._suppress_infos[_a];};_pGridCellInfo._clearSuppressInfo=function(){this._suppress_infos=[];};_pGridCellInfo._getDisplaytype=function(_a){var _b=this.displaytype;var _c=this._getAttrValue(_b,_a);if(_c=="normal"){var _d=this.text;if(_d._bindtype==1){var _e=this.grid._binddataset;if(!_e){return "text";}var _f=_d._bindexpr;var _g=_e._getColumnType(_f);switch(_g){case 1:return "text";case 2:case 3:case 4:return "number";case 5:return "date2";case 6:return "time";case 7:return "datetime";default:return "none";}}else{return "text";}}return _c;};_pGridCellInfo._getEdittype=function(_a){var _b=this.edittype;var _c=this._getAttrValue(_b,_a);if(_c=="normal"){var _d=this.text;if(_d._bindtype==1){var _e=this.grid._binddataset;if(!_e){return "text";}var _f=_d._bindexpr;var _g=_e._getColumnType(_f);if(!_g){return "text";}var _h=_g;switch(_h){case 1:case 2:case 3:case 4:return "text";case 5:case 6:case 7:return "date";case 8:return "none";}}else{return "text";}}return _c;};_pGridCellInfo._getWordwrap=function(_a){var _b=this._getAttrValue(this.wordwrap,_a);if(!_b||_b=="none"||_b=="false"){_b=this._getAttrValue(this.parent.cellwordwrap,_a);}if(!_b){_b="none";}return _b;};_pGridCellInfo._getAttrValue=function(_a,_b){return this.parent._getAttrValue(_a,_b,this);};_pGridCellInfo._setAttrValue=function(_a,_b,_c){if(_a._bindtype==1){var _d=this.grid;var _e=_d._binddataset;if(_e){_e.setColumn(_b,_a._bindexpr,_c);}}};_pGridCellInfo._exeExprStyle=function(_a,_b,_c){if(_a&&_a._bindtype!=0){var _d=this.grid;var _e=_d._binddataset;if(_e==null){_a=null;}else{var _f;if(_a._bindtype==1){_f=_e.getColumn(_c,_a._bindexpr);}else{var _g=_a._value;var _h=_g.toLowerCase().indexOf("bind:");if(_h>=0){var _i=_a._bindexpr;_i=_i.substring(_h,_i.length);_f=_e.getColumn(_c,_i);}var _j=_d._exprcache[_a._bindexpr];if(_j==null){_j=_e._createExprFunc(_a._bindexpr);_d._exprcache[_a._bindexpr]=_j;}if((typeof _j)=="function"){_f=_j.call(this,_c,_c,_d,_e);if(_f){_f=_f.toString();}}else{_f=_a._bindexpr;}if(_f=="default"){_f="";}}if(_f!=null&&_f!=""){_a=nexacro._getCachedStyleObj(_b,_f);}else{_a=null;}}}return _a;};_pGridCellInfo._resultStyleProc=function(_a,_b,_c,_d,_e,_f,_g){if(_f&&(_c||_g)){this._addStyleCache(_a,_c);}if(_c&&_d&&_d.type==0){_d.type=_c._bindtype;}if(_c&&_c._bindtype>0){var _h=this.grid;var _i="body";if(_e== -1){_i="head";}if(_e== -2){_i="summ";}_h._is_use_bind_expr_style[_i]=true;this._is_use_bind_expr_style=true;switch(_b){case "background":case "backgroundimage":case "border":case "linetype":case "gradation":case "cursor":case "padding":_h._is_use_bind_expr_outerstyle[_i]=true;break;};}return this._exeExprStyle(_c,_b,_e);};_pGridCellInfo._searchStyleValue=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this._stylecache[_b];if(_j!==undefined){if(_j===null){return null;}if(_j&&_h){_h.type=_j._bindtype;}if(_r=this._exeExprStyle(_j,_a,_c)){return _r;}}var _k=this.style;var _l=this.style;var _m=this._styles;var _n=this.parent;var _o=_n.style;var _p=_n._styles;var _q=_n.style;var _r=null;if(_g==undefined){_g=true;}if(_m[_f]&&!_e){_k=_m[_f];}if(_p[_f]&&!_e){_o=_p[_f];}if(_a=="background"){var _s;if(_e){_s=_k.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_s=_l.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_o.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_s=_q.selectbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_s=this._findcss_ctrl._find_pseudo_obj("selectbackground",_f,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_n._find_gridpseudo_obj("selectbackground",_f,this.celltype,null,true,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}}if(_d&&this.isStyleEmpty(_r)){_s=_k.background2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_s=_l.background2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_o.cellbackground2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_s=_q.cellbackground2;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_s=this._findcss_ctrl._find_pseudo_obj("background2",_f,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_n._find_gridpseudo_obj("cellbackground2",_f,this.celltype,null,true,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_s=_k.background;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_s=_l.background;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_o.cellbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_s=_q.cellbackground;_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_s=this._findcss_ctrl._find_pseudo_obj("background",_f,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_s=_n._find_gridpseudo_obj("cellbackground",_f,this.celltype,"background",false,"background");_r=this._resultStyleProc(_b,_a,_s,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="backgroundimage"){var _t=_k.backgroundimage;_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_t=_l.backgroundimage;_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_t=this._findcss_ctrl._find_pseudo_obj("backgroundimage",_t);_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_t=_n._find_gridpseudo_obj("backgroundimage",_f,this.celltype);_r=this._resultStyleProc(_b,_a,_t,_h,_c,_g,_i);}else{return _r;}}else if(_a=="font"){var _u;if(_e){_u=_k.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_u=_l.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_o.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_u=_q.selectfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_u=this._findcss_ctrl._find_pseudo_obj("selectfont",_f,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_n._find_gridpseudo_obj("selectfont",_f,this.celltype,null,true,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_u=_k.font;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_u=_l.font;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_o.cellfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_u=_q.cellfont;_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_u=this._findcss_ctrl._find_pseudo_obj("font",_f,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_u=_n._find_gridpseudo_obj("cellfont",_f,this.celltype,"font",false,"font");_r=this._resultStyleProc(_b,_a,_u,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="color"){var _v;if(_e){_v=_k.selectcolor;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_v=_l.selectcolor;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_o.selectcolor;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_v=_q.selectcolor;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_v=this._findcss_ctrl._find_pseudo_obj("selectcolor",_f,"color");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_n._find_gridpseudo_obj("selectcolor",_f,this.celltype,null,true,"color");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}}if(_d&&this.isStyleEmpty(_r)){_v=_k.color2;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_v=_l.color2;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_o.cellcolor2;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_v=_q.cellcolor2;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_v=this._findcss_ctrl._find_pseudo_obj("color2",_f,"color");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_n._find_gridpseudo_obj("cellcolor2",_f,this.celltype,null,true,"color");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_v=_k.color;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_v=_l.color;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_o.cellcolor;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_v=_q.cellcolor;_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_v=this._findcss_ctrl._find_pseudo_obj("color",_f,"color");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_v=_n._find_gridpseudo_obj("cellcolor",_f,this.celltype,"color",false,"color");_r=this._resultStyleProc(_b,_a,_v,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="align"){var _w=_k.align;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_w=_l.align;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_o.cellalign;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_w=_q.cellalign;_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_w=this._findcss_ctrl._find_pseudo_obj("align",_f,"align");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_w=_n._find_gridpseudo_obj("cellalign",_f,this.celltype,"align",false,"align");_r=this._resultStyleProc(_b,_a,_w,_h,_c,_g,_i);}else{return _r;}}else if(_a=="border"){var _x;if(_e){_x=_k.selectline;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_x=_l.selectline;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_x=_o.selectline;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_x=_q.selectline;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_x=this._findcss_ctrl._find_pseudo_obj("selectline",_f,"border");_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_x=_n._find_gridpseudo_obj("selectline",_f,this.celltype,"selectline",false,"border");_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_x=_k.line;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_x=_l.line;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_x=_o.cellline;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_x=_q.cellline;_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_x=this._findcss_ctrl._find_pseudo_obj("line",_f,"border");_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_x=_n._find_gridpseudo_obj("cellline",_f,this.celltype,"line",false,"border");_r=this._resultStyleProc(_b,_a,_x,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="linetype"){var _y;if(_e){_y=_k.selectlinetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_y=_l.selectlinetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_o.selectlinetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_y=_q.selectlinetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_y=this._findcss_ctrl._find_pseudo_obj("selectlinetype",_f,"linetype");_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_n._find_gridpseudo_obj("selectlinetype",_f,this.celltype);_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_y=_k.linetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_y=_l.linetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_o.celllinetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_y=_q.celllinetype;_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_y=this._findcss_ctrl._find_pseudo_obj("linetype",_f,"linetype");_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_y=_n._find_gridpseudo_obj("celllinetype",_f,this.celltype,"linetype");_r=this._resultStyleProc(_b,_a,_y,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="gradation"){var _z;if(_e){_z=_k.selectgradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_z=_l.selectgradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_o.selectgradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_z=_q.selectgradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_z=this._findcss_ctrl._find_pseudo_obj("selectgradation",_f,"gradation");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_n._find_gridpseudo_obj("selectgradation",_f,this.celltype,null,true,"gradation");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}}if(_d&&this.isStyleEmpty(_r)){_z=_k.gradation2;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_z=_l.gradation2;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_o.cellgradation2;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_z=_q.cellgradation2;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_z=this._findcss_ctrl._find_pseudo_obj("gradation2",_f,"gradation");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_n._find_gridpseudo_obj("cellgradation2",_f,this.celltype,null,true,"gradation");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}}if(this.isStyleEmpty(_r)){_z=_k.gradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_z=_l.gradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_o.cellgradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_z=_q.cellgradation;_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_z=this._findcss_ctrl._find_pseudo_obj("gradation",_f,"gradation");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_z=_n._find_gridpseudo_obj("cellgradation",_f,this.celltype,"gradation",false,"gradation");_r=this._resultStyleProc(_b,_a,_z,_h,_c,_g,_i);}else{return _r;}}}else if(_a=="cursor"){var _aa=_k.cursor;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_aa=_l.cursor;_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g,_i);}}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_aa=this._findcss_ctrl._find_pseudo_obj("cursor",_f,"cursor");_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_aa=_n._find_gridpseudo_obj("cursor",_f,this.celltype);_r=this._resultStyleProc(_b,_a,_aa,_h,_c,_g,_i);}else{return _r;}}else if(_a=="padding"){var _ab=_k.padding;_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g);if(this.isStyleEmpty(_r)){if(_k!=_l){_ab=_l.padding;_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_ab=_o.cellpadding;_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){_ab=_q.cellpadding;_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g);}else{return _r;}if(this.isStyleEmpty(_r)){if(this.cssclass){_ab=this._findcss_ctrl._find_pseudo_obj("padding",_f,"padding");_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g);}}else{return _r;}if(this.isStyleEmpty(_r)){_ab=_n._find_gridpseudo_obj("cellpadding",_f,this.celltype,null,true,"padding");_r=this._resultStyleProc(_b,_a,_ab,_h,_c,_g,_i);}else{return _r;}}return _r;};_pGridCellInfo._addStyleCache=function(_a,_b){if(!this._stylecache[_a]&&_b!==undefined){this._stylecache[_a]=_b;}};_pGridCellInfo._bkground=null;_pGridCellInfo._query_pseudo_background=function(_a,_b,_c,_d){_c=(this.grid.useselcolor&&_c);if(_d=="selected"){_d="normal";}var _e=[(_b!=0),_c,_d].join("");var _f="background"+_e;var _g="backgroundimage"+_e;var _h=this._stylecache[_f];var _i=this._stylecache[_g];if(!_h||_h._bindtype>0){_h=this._searchStyleValue("background",_f,_a,_b,_c,_d,true,null,true);}if(!_i||_i._bindtype>0){_i=this._searchStyleValue("backgroundimage",_g,_a,_b,_c,_d,true,null,true);}if(_i&&!_i._is_empty){var _j="";if(_h){_j=_h._value;}var _k=_h.position_x;var _l=_h.position_y;if(this._bkground){delete this._bkground;}_h=this._bkground=new nexacro.Style_background(_j);_h=this.parent._set_backgroundimage(_h,_i._value.toString());_h.position_x=_k;_h.position_y=_l;}return _h;};_pGridCellInfo._query_pseudo_treecontrol=function(_a,_b,_c){var _d="";if(_b=="treecollapseimage"){_d=this._getTreeCollapseImage(_a);}else if(_b=="treeexpandimage"){_d=this._getTreeExpandImage(_a);}else if(_b=="treeitemimage"){_d=this._getTreeItemImage(_a);}if(!_d){var _e=this.grid._find_comp_pseudo_obj(_b,_c);_d=(_e)?_e._value:"";}return _d;};_pGridCellInfo._query_pseudo_control=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this.style;var _k=this.style;var _l=this._styles;var _m=this.grid;var _n=_m.style;var _o;var _p=_d;if(_a._getStyleProp){_p=_a._getStyleProp(_d);}var _q=null;if(_e=="selected"&&!(_a instanceof nexacro.GridControlCombo)){_e="normal";}var _r=[_a._type_name,_c,_d,_e,(_h!=0),(_i==true),(_g!=null)].join("");_o=this._stylecache[_r];if(_o!==undefined){if(_o===null){return null;}if(_q=this._exeExprStyle(_o,_p,_b)){return _q;}}if(_l[_e]){_j=_l[_e];}if(_c==_d){if(_i){_o=_j["select"+_d];if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}if(this.isStyleEmpty(_q)){if(_h!=undefined&&_h){_o=_j[_d+"2"];}if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}else{return _q;}}if(this.isStyleEmpty(_q)){_o=_j[_c];if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}else{return _q;}if(this.isStyleEmpty(_q)){if(_j!=_k){_o=_k[_c];if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_c,_b);}}else{return _q;}if(this.isStyleEmpty(_q)){if(this.cssclass){_o=this._findcss_ctrl._find_pseudo_obj(_c,_e,_f);if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}}else{return _q;}if(this.isStyleEmpty(_q)){if(_c=="controlalign"){_o=_j.align;if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}}else{return _q;}if(this.isStyleEmpty(_q)){if(_g){_o=_g._find_pseudo_obj(_d,_e,_f);if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}}else{return _q;}if(this.isStyleEmpty(_q)){_o=_a._find_typedctrl_pseudo_obj(_d,_e,_f);if(_o){this._addStyleCache(_r,_o);}_q=this._exeExprStyle(_o,_p,_b);}return _q;};_pGridCellInfo.isStyleEmpty=function(_a){if(!_a||(_a._bindtype==0&&_a._is_empty)){return true;}return false;};_pGridCellInfo._query_pseudo_border=function(_a,_b,_c,_d,_e,_f){var _g=this.grid;_b=(_g.useselcolor&&_b);var _h="both";if(this._endcol&&(_g.hideendline=="col"||_g.hideendline=="both")){_h="horz";}if(_a>=0&&((_a+1)==_g._rowcount)&&(_g.hideendline=="col"||_g.hideendline=="row")){if(_h=="horz"){_h="none";}else{_h="vert";}}if(_h=="none"){return null;}if(_d==undefined){_d=0;}var _i="n";if(_d>0){_i="r";}else if(_d<0){_i="c";}if(_c=="selected"){_c="normal";}var _j=[_b,_h,_c,_i,_e,_f].join("");var _k="linetype"+_j;var _l="line"+_j;var _m="calcborder"+_j;var _n=this._stylecache[_m];if(_n!==undefined){return _n;}var _o={type:0};var _p=this._stylecache[_k];var _q=this._stylecache[_l];if(!_p||_p._bindtype>0){_p=this._searchStyleValue("linetype",_k,_a,false,_b,_c,true,_o,true);}var _r=(_o.type==0)?false:true;if(!_q||_q._bindtype>0){_q=this._searchStyleValue("border",_l,_a,false,_b,_c,true,_o,true);}if(!_r){_r=(_o.type==0)?false:true;}var _s=this.parent;var _t="exvert";if(_p&&!_p._is_empty){if(_p._value=="exhorz"||_p._value=="nocross"){_t="exvert";}else if(_p._value=="onlyhorz"||_p._value=="onlyvert"){_t=_p._value;}}var _u="none";if(_q&&!_q._is_empty){var _v,_w,_x,_y,_z,_aa="0px none transparent";_v=_q._top_width+"px "+((_q.top_style)?_q.top_style:"none")+" "+((_q.top_color)?_q.top_color:"transparent")+" "+_q.top_color2;_w=_q._right_width+"px "+((_q.right_style)?_q.right_style:"none")+" "+((_q.right_color)?_q.right_color:"transparent")+" "+_q.right_color2;_x=_q._bottom_width+"px "+((_q.bottom_style)?_q.bottom_style:"none")+" "+((_q.bottom_color)?_q.bottom_color:"transparent")+" "+_q.bottom_color2;_y=_q._left_width+"px "+((_q.left_style)?_q.left_style:"none")+" "+((_q.left_color)?_q.left_color:"transparent")+" "+_q.left_color2;_v=_v.trim();_w=_w.trim();_x=_x.trim();_y=_y.trim();var _ab=false;if(_g.summarytype=="top"||_g.summarytype=="lefttop"){_ab=true;}if(_e!=null&&_f!=null){if(this._area=="right"){if(_e>1&&this._col>0){_y=_aa;}}else{if(_e-1>this._col){_w=_aa;}}if(_s.id=="summary"&&!_ab){if(_f>1&&this._row>0){_v=_aa;}}else{if(_f-1>this._row){_x=_aa;}}}var _ac=[];if(this._area=="right"){if(_s.id=="summary"&&!_ab){if(_t=="onlyhorz"){_ac=[_v,_aa,_aa,_aa];}else if(_t=="onlyvert"){_ac=[_aa,_aa,_aa,_y];}else{if(_d<0){_ac=[_v,_aa,_aa,_aa];}else{_ac=[_v,_aa,_aa,_y];}}}else{if(_t=="onlyhorz"){if(_d>0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_aa,_x,_aa];}}else if(_t=="onlyvert"){if(_d<0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_aa,_aa,_y];}}else{if(_d>0){_ac=[_aa,_aa,_aa,_y];}else if(_d<0){_ac=[_aa,_aa,_x,_aa];}else{_ac=[_aa,_aa,_x,_y];}}}}else{if(_s.id=="summary"&&!_ab){if(_t=="onlyhorz"){_ac=[_v,_aa,_aa,_aa];}else if(_t=="onlyvert"){_ac=[_aa,_w,_aa,_aa];}else{if(_d<0){_ac=[_v,_aa,_aa,_aa];}else{_ac=[_v,_w,_aa,_aa];}}}else{if(_t=="onlyhorz"){if(_d>0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_aa,_x,_aa];}}else if(_t=="onlyvert"){if(_d<0){_ac=[_aa,_aa,_aa,_aa];}else{_ac=[_aa,_w,_aa,_aa];}}else{if(_d>0){_ac=[_aa,_w,_aa,_aa];}else if(_d<0){_ac=[_aa,_aa,_x,_aa];}else{_ac=[_aa,_w,_x,_aa];}}}}_u=_ac.join(",");}_n=nexacro._getCachedStyleObj("border",_u);if(_r==false){this._addStyleCache(_m,_n);}if((!_p||_p._bindtype==0)&&(!_q||_q._bindtype==0)){if(!_b){this._curborder=_n;}else{this._curselborder=_n;}}else{if(!_b){this._curborder="bindexpr";}else{this._curselborder="bindexpr";}}return _n;};_pGridCellInfo._query_pseudo_gradation=function(_a,_b,_c,_d){_c=(this.grid.useselcolor&&_c);if(_d=="selected"){_d="normal";}var _e=["gradation",(_b!=0),_c,_d].join("");var _f=this._stylecache[_e];if(!_f||_f._bindtype>0){_f=this._searchStyleValue("gradation",_e,_a,_b,_c,_d,true,null,true);}return _f;};_pGridCellInfo._query_pseudo_cursor=function(_a,_b){if(_b=="selected"){_b="normal";}var _c=["cursor",_b].join("");var _d=this._stylecache[_c];if(!_d||_d._bindtype>0){_d=this._searchStyleValue("cursor",_c,_a,false,false,_b,true,null,false);}if(!_d||_d._is_empty){_d=nexacro._getCachedStyleObj("cursor","default");this._addStyleCache(_c,_d);}return _d;};_pGridCellInfo._query_pseudo_padding=function(_a,_b){if(_b=="selected"){_b="normal";}var _c=["padding",_b].join("");var _d=this._stylecache[_c];if(!_d||_d._bindtype>0){_d=this._searchStyleValue("padding",_c,_a,false,false,_b,true,null,false);}if(!_d||_d._is_empty){_d=this.grid.on_find_CurrentStyle_padding(_b);this._addStyleCache(_c,_d);}if(!_d||_d._bindtype==0){this._curpadding=_d;}else{this._curpadding="bindexpr";}return _d;};_pGridCellInfo._query_pseudo_font=function(_a,_b,_c){_b=(this.grid.useselcolor&&_b);if(_c=="selected"){_c="normal";}var _d=["font",_b,_c].join("");var _e=this._stylecache[_d];var _f=this._stylecache[_d];if(!_e||_e._bindtype>0){_e=this._searchStyleValue("font",_d,_a,false,_b,_c,true,null,false);}if(!_e||_e._is_empty){_e=this.grid.on_find_CurrentStyle_font(_c);this._addStyleCache(_d,_e);}if(!_f||_f._bindtype==0){if(!_b){this._curfont=_f;}else{this._curselfont=_f;}}else{if(!_b){this._curfont="bindexpr";}else{this._curselfont="bindexpr";}}return _e;};_pGridCellInfo._query_pseudo_color=function(_a,_b,_c,_d){_c=(this.grid.useselcolor&&_c);if(_d=="selected"){_d="normal";}var _e=["color",(_b!=0),_c,_d].join("");var _f=this._stylecache[_e];if(!_f||_f._bindtype>0){_f=this._searchStyleValue("color",_e,_a,_b,_c,_d,true,null,false);}if(!_f||_f._is_empty){_f=this.grid.on_find_CurrentStyle_color(_d);this._addStyleCache(_e,_f);}return _f;};_pGridCellInfo._query_pseudo_accessibility=function(_a,_b){if(_b=="selected"){_b="normal";}var _c=this.style;var _d=this._styles;var _e=this.style;var _f=null;var _g=_c.accessibility;var _h=["accessibility",_b].join("");var _i;_i=this._stylecache[_h];_f=this._resultStyleProc(_h,"accessibility",_g,null,_a,true);if(this.isStyleEmpty(_f)){if(_c!=_e){_g=_e.accessibility;_f=this._resultStyleProc(_h,"accessibility",_g,exprbind,_a,usecache);}}else{return _f;}if(this.isStyleEmpty(_f)){if(this.cssclass){_g=this._findcss_ctrl._find_pseudo_obj("accessibility",_b,"accessibility");_f=this._resultStyleProc(_h,"accessibility",_g,null,_a,true);}}else{return _f;}if(this.isStyleEmpty(_f)){_f=nexacro.Component._default_accessibility;}return _f;};_pGridCellInfo._query_pseudo_align=function(_a,_b,_c){if(_c=="selected"){_c="normal";}var _d=["align",_c,_b].join("");var _e=this._stylecache[_d];if(!_e||_e._bindtype>0){_e=this._searchStyleValue("align",_d,_a,false,false,_c,true,null,false);}if(!_e||_e._is_empty){_e=this.grid.on_find_CurrentStyle_align(_c);if(!_e||_e._is_empty){if(this.celltype=="head"){_e=nexacro._getCachedStyleObj("align","center middle");}else{_e=this._getDefaultAlign(_a,_b);}}this._addStyleCache(_d,_e);}else if(!_e.halign||!_e.valign){var _f=this.grid.on_find_CurrentStyle_align(_c);if(!_f||_f._is_empty){if(this.celltype=="head"){_f=nexacro._getCachedStyleObj("align","center middle");}else{_f=this._getDefaultAlign(_a,_b);}}if(!_e.halign){_e.set_halign(_f.halign);}if(!_e.valign){_e.set_valign(_f.valign);}this._addStyleCache(_d,_e);}return _e;};_pGridCellInfo._getDefaultAlign=function(_a,_b){var _c=null;switch(_b){case "bar":case "normal":var _b=this._getDisplaytype(_a);if(_b=="number"){_c=nexacro._getCachedStyleObj("align","right middle");}else if(_b=="date"||_b=="time"||_b=="datetime"){_c=nexacro._getCachedStyleObj("align","center middle");}else{_c=nexacro._getCachedStyleObj("align","left middle");}break;case "number":case "exponent":case "currency":_c=nexacro._getCachedStyleObj("align","right middle");break;default:_c=nexacro._getCachedStyleObj("align","center middle");break;}return _c;};_pGridCellInfo.set_class=function(_a){if(_a!=this.cssclass){this.cssclass=_a;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_cssclass=function(_a){if(_a!=this.cssclass){this.cssclass=_a;this.grid._clearBindTypeFlag();this._findcss_ctrl.set_cssclass(_a);this._findcss_ctrl._css_finder=null;this._findcss_ctrl._ref_css_finder=null;var _b=this.parent;var _c=_b.bandctrl;var _d=_b.parent;if(_b.bandctrl){_d._clearCellStyleCache(_c.id);_c._refresh_contents(true);}}};_pGridCellInfo.set_style=function(_a){this.grid._clearBindTypeFlag();_a=nexacro._decodeXml(_a);var _b=_a.split("}");var _c=_b[0].trim();var _d=this._styles={};_b.pop();var _e,_f=_b.length;var _g,_h,_i;var _j=this.style;_g=_c.split("{");_i=_g[0].substring(0,_g[0].lastIndexOf(";")+1).trim();if(_i.length==0){_i=_g[0].substring(0,_g[0].length).trim();}_j._setValue(_i);_d["normal"]=_j;var _k=(this.style._value!=_i);if(_k){this.style._setValue(_i);}if(_f>0){for(_e=0;_e<_f;_e++ ){_g=_b[_e].split("{");_h=_g[0].substring(_g[0].lastIndexOf(":")+1).trim();var _l=new nexacro.GridCell_Style(this);_l._setValue(_g[1]);_d[_h]=_l;}}return this.style._value;};_pGridCellInfo.set_displaytype=function(_a){if(_a!=this.displaytype){var _b=this.displaytype._value;this.displaytype._set(_a);this.grid._clearBindTypeFlag();if(_b=="tree"){this.grid._removeTreeCellinfo(this);}if(_a=="tree"){this.grid._setTreeCellinfo(this);}}};_pGridCellInfo.set_edittype=function(_a){if(_a!=this.edittype){this.edittype._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_tooltiptype=function(_a){if(_a!=this.tooltiptype){if(!_a){_a="";}this.tooltiptype=_a;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_tooltiptext=function(_a){if(_a!=this.tooltiptext._value){if(!_a){_a="";}this.tooltiptext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo._getTooltipText=function(_a){var _b=this._getAttrValue(this.tooltiptext,_a);if(!_b||_b==""){var _c=this.parent;_b=_c._getTooltipText(_a);}return _b;};_pGridCellInfo.set_autosizecol=function(_a){var _b="default";switch(_a){case "none":case "limitmin":case "limitmax":_b=_a;}if(_b!=this.autosizecol){this.autosizecol=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_autosizerow=function(_a){var _b="default";switch(_a){case "none":case "limitmin":case "limitmax":case "default":_b=_a;}if(_b!=this.autosizerow){this.autosizerow=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_celltype=function(_a){var _b="none";switch(_a){case "head":case "body":case "summary":_b=_a;}if(_b!=this.celltype){this.celltype=_b;this.grid._clearBindTypeFlag();var _c=this.parent;var _d=_c.bandctrl;var _e=_c.parent;if(_c.bandctrl){_e._clearCellStyleCache(_d.id);_d._refresh_contents(true);}}};_pGridCellInfo.set_displayexpdec=function(_a){if(_a!=this.displayexpdec._value){this.displayexpdec._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_locale=function(_a){if(_a!=this.locale._value){this.locale._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_mask=function(_a){if(_a!=this.mask._value){this.mask._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_maskchar=function(_a){if(!_a){_a="_";}var _b=_a.toString().charAt(0);if(_b!=this.maskchar){this.maskchar=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_suppress=function(_a){if(_a!=this.suppress._value){this.suppress._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_suppressalign=function(_a){if(_a){_a=_a.toString().toLowerCase();}var _b="first";switch(_a){case "first":case "last":case "middle":case "first,over":case "middle,over":case "last,over":_b=_a;}if(_b!=this.suppressalign){this.suppressalign=_b;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_suppressedit=function(_a){_a=_a?true:false;if(_a!=this.suppressedit){this.suppressedit=_a;this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_wordwrap=function(_a){var _b=0;if(typeof (_a)=="string"){var _c=_a.toLowerCase();if(_c.indexOf("bind:")>=0||_c.indexOf("bind(")>=0){_b=1;}else if(_c.indexOf("expr:")>=0||_c.indexOf("expr(")>=0){_b=2;}else{_a=_a.toLowerCase();}}if(_b==0&&typeof (_a)!="string"){return;}if(_a!=this.wordwrap._value){this.wordwrap._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_text=function(_a){if(_a!==this.text._value){this.text._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expr=function(_a){if(_a!=this.expr._value){var _b=_a.toString();var _c=_b.substr(0,4).toUpperCase();if(_c!="EXPR"){_a="EXPR:"+_a;}this.expr._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_subsumtext=function(_a){if(_a!=this.subsumtext._value){this.subsumtext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodataset=function(_a){if(_a!=this.combodataset._value){this.combodataset._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combocodecol=function(_a){if(_a!=this.combocodecol._value){this.combocodecol._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodatacol=function(_a){if(_a!=this.combodatacol._value){this.combodatacol._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplay=function(_a){if(_a!=this.combodisplay._value){this.combodisplay._set_enumval(_a,["edit","display"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplaynulltext=function(_a){if(_a!=this.combodisplaynulltext._value){this.combodisplaynulltext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplaynulltype=function(_a){if(_a!=this.combodisplaynulltype._value){this.combodisplaynulltype._set_enumval(_a,["none","nulltext"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combodisplayrowcount=function(_a){if(_a!=this.combodisplayrowcount._value){this.combodisplayrowcount._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_combotype=function(_a){if(_a!=this.combotype._value){this.combotype._set_enumval(_a,["dropdown","search","filter"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardisplay=function(_a){if(_a!=this.calendardisplay._value){this.calendardisplay._set_enumval(_a,["edit","display"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardisplaynulltext=function(_a){if(_a!=this.calendardisplaynulltext._value){this.calendardisplaynulltext._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardisplaynulltype=function(_a){if(_a!=this.calendardisplaynulltype._value){this.calendardisplaynulltype._set_enumval(_a,["default","none","nulltext","nullmask"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendarinnerdataset=function(_a){if(_a!=this.calendarinnerdataset._value){this.calendarinnerdataset._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendarbackgroundcolumn=function(_a){if(_a!=this.calendarbackgroundcolumn._value){this.calendarbackgroundcolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendarbordercolumn=function(_a){if(_a!=this.calendarbordercolumn._value){this.calendarbordercolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendardatecolumn=function(_a){if(_a!=this.calendardatecolumn._value){this.calendardatecolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_calendartextcolorcolumn=function(_a){if(_a!=this.calendartextcolorcolumn._value){this.calendartextcolorcolumn._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editacceptsenter=function(_a){if(_a!=this.editacceptsenter._value){this.editacceptsenter._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editacceptstab=function(_a){if(_a!=this.editacceptstab._value){this.editacceptstab._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editautoselect=function(_a){if(_a!=this.editautoselect._value){this.editautoselect._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editautoskip=function(_a){if(_a!=this.editautoskip._value){this.editautoskip._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editclipmode=function(_a){if(_a!=this.editclipmode._value){this.editclipmode._set_enumval(_a,["includespace","excludespace"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editdisplay=function(_a){if(_a!=this.editdisplay._value){this.editdisplay._set_enumval(_a,["edit","display"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editfilter=function(_a){if(!_a){return;}var _b=["alpha","upper,number,nosign","alpha,number","alpha,number,nosign","char","digit","integer","lower","lower,char","lower,digit","lower,digit,char","lower,number","lower,number,char","lower,number,nosign","none","number","number,char","upper","upper,char","upper,digit","upper,digit,char","upper,number","upper,number,char","alpha,digit"];var _c=_a.trim().split(",");for(var _d=0;_d<_b.length;_d++ ){var _e=true;var _f=_b[_d].split(",");if(_c.length!=_f.length){continue;}for(var _g=0;_g<_c.length;_g++ ){if(nexacro._indexOf(_b[_d],_c[_g])<0){_e=false;break;}}if(_e==true){_a=_b[_d];break;}}if(_a!=this.editfilter._value){this.editfilter._set_enumval(_a,["alpha","upper,number,nosign","alpha,number","alpha,number,nosign","char","digit","integer","lower","lower,char","lower,digit","lower,digit,char","lower,number","lower,number,char","lower,number,nosign","none","number","number,char","upper","upper,char","upper,digit","upper,digit,char","upper,number","upper,number,char","alpha,digit"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editimemode=function(_a){if(_a!=this.editimemode._value){this.editimemode._set_enumval(_a,["none","alpha","alpha,full","hangul","hangul,full","katakana","katakana,full","hiragana","direct"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editlimit=function(_a){if(_a!=this.editlimit._value){this.editlimit._set_intval(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editlengthunit=function(_a){if(_a!=this.editlengthunit._value){this.editlengthunit._set_enumval(_a,["utf16","utf8","ascii"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editlimitbymask=function(_a){if(_a!=this.editlimitbymask._value){this.editlimitbymask._set_enumval(_a,["none","integer","decimal","both"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_editscrollbar=function(_a){if(_a!=this.editscrollbar._value){this.editscrollbar._set_enumval(_a,["none","autovert","autohorz","autoboth","fixedvert","fixedhorz","fixedboth","alwaysvert","alwayshorz","alwaysboth"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_edittrimtype=function(_a){if(_a!=this.edittrimtype._value){this.edittrimtype._set_enumval(_a,["none","left","right","both"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_edituseime=function(_a){if(_a!=this.edituseime._value){this.edituseime._set_enumval(_a,["global","local","local,keep","none"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandchar=function(_a){if(_a!=this.expandchar._value){this.expandchar._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandimage=function(_a){if(_a!=this.expandimage._value){this.expandimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandshow=function(_a){if(_a!=this.expandshow._value){this.expandshow._set_enumval(_a,["hide","show"]);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_expandsize=function(_a){if(_a!=this.expandsize._value){this.expandsize._set_intval(_a);this.grid._clearBindTypeFlag();if(this.celltype=="head"){this.grid._refreshHead();}else if(this.celltype=="body"){this.grid._refreshBody();}else if(this.celltype=="summ"){this.grid._refreshSumm();}}};_pGridCellInfo.set_treecheck=function(_a){if(_a!=this.treecheck._value){this.treecheck._set(_a);this.grid._clearBindTypeFlag();this.grid._initTreeStates();if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}};_pGridCellInfo.set_treecollapseimage=function(_a){if(_a!=this.treecollapseimage._value){this.treecollapseimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_treeexpandimage=function(_a){if(_a!=this.treeexpandimage._value){this.treeexpandimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_treeitemimage=function(_a){if(_a!=this.treeitemimage._value){this.treeitemimage._set(_a);this.grid._clearBindTypeFlag();}};_pGridCellInfo.set_treeitemmargin=function(_a){};_pGridCellInfo.set_treelevel=function(_a){if(_a!=this.treelevel._value){this.treelevel._set(_a);this.grid._clearBindTypeFlag();this.grid._initTreeStates();if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}};_pGridCellInfo.set_treestartlevel=function(_a){if(_a!=this.treestartlevel._value){this.treestartlevel._set_intval(_a);this.grid._clearBindTypeFlag();if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}};_pGridCellInfo.set_treestate=function(_a){if(_a!=this.treestate._value){this.treestate._set(_a);}this.grid._clearBindTypeFlag();this.grid._initTreeStates();var _b=this.grid._getDataRow(this.grid.currentrow);if(this._getEdittype(_b)=="tree"){if(this.grid._bodyBand){this.grid._bodyBand._recreate_contents();}}else{this.grid._refreshBody();}};_pGridCellInfo._getTreeCheck=function(_a){return this._getAttrValue(this.treecheck,_a);};_pGridCellInfo._getTreeCollapseImage=function(_a){return this._getAttrValue(this.treecollapseimage,_a);};_pGridCellInfo._getTreeExpandImage=function(_a){return this._getAttrValue(this.treeexpandimage,_a);};_pGridCellInfo._getTreeItemImage=function(_a){return this._getAttrValue(this.treeitemimage,_a);};_pGridCellInfo._getTreeLevel=function(_a){var _b=this._getAttrValue(this.treelevel,_a);_b=parseInt(_b)|0;return _b;};_pGridCellInfo._getTreeStartLevel=function(_a){var _b=this._getAttrValue(this.treestartlevel,_a);_b=parseInt(_b)|0;return _b;};_pGridCellInfo._getTreeState=function(_a){return this._getAttrValue(this.treestate,_a);};_pGridCellInfo._setTreeCheck=function(_a,_b){return this._setTreeBindValue(this.treecheck,_a,_b);};_pGridCellInfo._setTreeCollapseImage=function(_a,_b){return this._setTreeBindValue(this.treecollapseimage,_a,_b);};_pGridCellInfo._setTreeExpandImage=function(_a,_b){return this._setTreeBindValue(this.treeexpandimage,_a,_b);};_pGridCellInfo._setTreeItemImage=function(_a,_b){return this._setTreeBindValue(this.treeitemimage,_a,_b);};_pGridCellInfo._setTreeLevel=function(_a,_b){return this._setTreeBindValue(this.treelevel,_a,_b);};_pGridCellInfo._setTreeStartLevel=function(_a,_b){return this._setTreeBindValue(this.treestartlevel,_a,_b);};_pGridCellInfo._setTreeState=function(_a,_b){return this._setTreeBindValue(this.treestate,_a,_b);};_pGridCellInfo._setTreeBindValue=function(_a,_b,_c){if(_a._bindtype==1){var _d=this.grid;var _e=_d._binddataset;if(_e){_d._binddataset._treeBindChanged=true;_e.setColumn(_b,_c);}}};_pGridCellInfo._getSuppress=function(_a){return this._getAttrValue(this.suppress,_a);};_pGridCellInfo._getDisplayText=function(_a){var _b=this.displaytype;var _c=this._getAttrValue(_b,_a);if(_c=="normal"){var _d=this.text;if(_d._bindtype==1){var _e=this.grid._binddataset;if(!_e){return "text";}var _f=_d._bindexpr;var _g=_e._getColumnType(_f);switch(_g){case 1:return this._getDisplayText_text(_a);case 2:case 3:case 4:return this._getDisplayText_number(_a);case 5:return this._getDisplayText_date2(_a);case 6:return this._getDisplayText_time(_a);case 7:return this._getDisplayText_datetime(_a);default:return this._getDisplayText_none(_a);}}else{return this._getDisplayText_text(_a);}}else{if(_c=="text"){return this._getDisplayText_text(_a);}else if(_c=="exponent"){return this._getDisplayText_exponent(_a);}else if(_c=="number"){return this._getDisplayText_number(_a);}else if(_c=="currency"){return this._getDisplayText_currency(_a);}else if(_c=="image"){return this._getDisplayText_image(_a);}else if(_c=="date"){return this._getDisplayText_date(_a);}else if(_c=="combo"){return this._getDisplayText_combo(_a);}else if(_c=="button"){return this._getDisplayText_button(_a);}else if(_c=="bar"){return this._getDisplayText_bar(_a);}else if(_c=="checkbox"){return this._getDisplayText_checkbox(_a);}else if(_c=="tree"){return this._getDisplayText_tree(_a);}else if(_c=="none"){return this._getDisplayText_none(_a);}}return this._getDisplayText_text(_a);};_pGridCellInfo._getTextValueForDisp=function(_a){if(this.expr._value!=""){return this._getAttrValue(this.expr,_a);}return this._getAttrValue(this.text,_a);};_pGridCellInfo._getDisplayText_text=function(_a){var _b=this._getTextValueForDisp(_a);if(_b==undefined){_b="";}else{_b=_b.toString();}var _c=this._getAttrValue(this.mask,_a);if(_c&&_c.length){this._org_val="";_b=this.__applyMask(_b,_c,this.maskchar);_b=this.__remove_apostrophe(_b,_c);}return _b;};_pGridCellInfo.__find_idx_dot=function(_a,_b){this._idx_dot= -1;var _c=_a.length;for(var _d=0;_d<_b;_d++ ){var _e=_a.charAt(_d);if(_e=="."){this._idx_dot=_d;break;}}if(this._idx_dot== -1&&_b<_c){for(var _d=_b;_d<_c;_d++ ){var _e=_a.charAt(_d);if(_e=='.'){this._idx_dot=_d;break;}}}};_pGridCellInfo._m_idx_dot= -1;_pGridCellInfo._m_idx_decimal= -1;_pGridCellInfo._m_hascomma=false;_pGridCellInfo._m_haszero=false;_pGridCellInfo.__get_info_mask=function(_a){var _b=_a;var _c=_b.length;this._m_idx_dot= -1;this._m_idx_decimal= -1;this._m_hascomma=false;this._m_haszero=false;for(var _d=0;_d<_c;_d++ ){var _e=_b.charAt(_d);if(_e=="."){if(this._m_idx_dot!= -1){break;}this._m_idx_dot=_d;}else if(_e=="0"||_e=="9"||_e=="#"){this._m_idx_decimal=_d;if(_e=="0"){this._m_haszero=true;}}else if(_e==","){this._m_hascomma=true;}}};_pGridCellInfo.__get_view_zeromask=function(_a){var _b=_a.length;var _c= -1;var _d=0;var _e=0;var _f=0;var _g= -1;for(var _k=0;_k<_b;_k++ ){var _l=_a.charAt(_k);if(_l=="0"||(_e>0&&_l=="#")){_e++ ;}else if(_l=="."){_c=_k;break;}else if(_l=="9"){_e=0;}}var _h=_b;if(_c>=0){_h=_c;}var _i=0;for(_k=_h-1;_k>=0;_k-- ,_i++ ){var _l=_a.charAt(_k);if(_l=="9"){_g=_i;break;}}var _j="";for(_k=_b-1;_k>_c,_c!= -1;_k-- ){var _l=_a.charAt(_k);if((_k==_c)&&(_l==".")){break;}if(_l=="0"||(_f>0&&(_l=="#"||_l=="9"))){_f++ ;}_j=_l;}return {integer:_e,decimal:_f,nineidx:_g};};_pGridCellInfo.__make_text_zeromask=function(_a,_b){var _c=_a=_a.toString();var _d=_b.length;var _e=_a.length;this.__get_info_mask(_b);this.__find_idx_dot(_a,_e);var _f=_b.trim();var _g=_f.indexOf("%");var _h="";if(_g>=0){_b=_b.replace("%","");_h="%";}var _i=this.__get_view_zeromask(_b);var _j=0;var _k=0;if(this._org_val==undefined){_c="";_e=0;}var _l=this._idx_dot;_j=(_l== -1)?_e:_l;var _m="";if(this._org_val!=undefined){var _o=false;var _p=false;var _q=(this._m_idx_dot>=0)?this._m_idx_dot:_d;for(var _r=_q-1;_r>=0;_r-- ){var _s=_b.charAt(_r);if(_s=="#"){_o=true;break;}}if(this._org_val==0){_p=true;}if(_o){var _t=false;for(var _r=0;_r<_j;_r++ ){var _u=_a.charAt(_r);if(_u=="0"&&!_t){_m+="";_t=false;}else{_m+=_u;_t=true;}}}else{_m=_a.substring(0,_j);}var _v=_m.length;if(_p){var _w=_e;for(var _r=_e-1;_r>=_l;_r-- ){var _u=_a.charAt(_r);if(_u!="0"){_w=_r;break;}}_m+=_a.substring(_l,_w+1);}else{_m+=_a.substring(_j);}_c=_m;_j=_v;}var _n=_j;for(_r=0;_r<_i.integer-_j;_r++ ){_c="0"+_c;_n++ ;}if(this._m_idx_dot!= -1){if(this._idx_dot== -1&&_i.decimal>0&&(this._m_idx_dot!=undefined&&this._m_idx_dot!= -1)){_c+=".";}_e=_c.length;this.__find_idx_dot(_c,_e);_k=0;if(this._idx_dot!= -1){_k=_e-this._idx_dot-1;}for(_r=0;_r<_i.decimal-_k;_r++ ){_c=_c+"0";}}if(_i.nineidx> -1){if(_i.nineidx>=_n){var _x=_i.nineidx-_n+1;_c=_c.padLeft(_x+_c.length,"0");}}_a=_c;if(_g==0){_a=_h+_a;}else{_a+=_h;}return _a;};_pGridCellInfo.__remove_apostrophe=function(_a,_b){var _c=_b.length;var _d=_a.length;var _e="";var _f=0;for(var _g=0;_g<_c;_g++ ,_f++ ){var _h=_b.charAt(_g);var _i=_a.charAt(_f);if(_h=="'"){for(var _j=_g+1;_j<_c;_j++ ,_f++ ){_h=_b.charAt(_j);if(_h=="'"){_g=_j;_f=_j;break;}else{_e+=_h;}}}else if(_h=="\\"){_h=_b.charAt(_g+1);if(_h=="\'"){_e+=_h;_g++ ;}else{_e+=_i;}}else{_e+=_i;}}return _e;};_pGridCellInfo.__update_dot_display=function(_a,_b){var _c=_a;this.__get_info_mask(_b);this.__find_idx_dot(_a,0);var _d=_a.length;if(this._m_idx_dot!=undefined&&this._m_idx_dot!= -1&&this._idx_dot!= -1){var _e=_b.length-this._m_idx_dot-1;var _f=_d-this._idx_dot-1;if(_e!=_f){if(_f==0){_c=_a.substring(0,this._idx_dot);}else{_c=_a.substring(0,this._idx_dot+_e+1);}}}return _c;};_pGridCellInfo.__update_empty_decimal=function(_a){this.__find_idx_dot(_a,0);var _b=_a;var _c=_a.length;if(this._m_idx_dot!=undefined&&this._m_idx_dot!= -1&&this._idx_dot!= -1){var _d=_c-this._idx_dot-1;if(_d==0){_b=_a.substring(0,this._idx_dot);}}else if(this._m_idx_dot!=undefined&&this._m_idx_dot== -1&&this._idx_dot!= -1){_b=_a.substring(0,this._idx_dot);}return _b;};_pGridCellInfo.__applyMask=function(_a,_b,_c){var _d="";var _e=_a.length;var _f=_b.length;var _g=0;var _h=0;var _i=true;var _j=false;var _k=false;var _l=false;for(var _m=0;_m<_f;_m++ ){var _n=_b.charAt(_m);if(this.__isMask(_n)||_n=="\\"||_n=="\""||_n=="\'"){if(_n=="{"){_j=true;continue;}else if(_n=="}"){_j=false;continue;}else if(_n=="\\"&&_k==false){_k=true;continue;}if(_k){_k=false;_d+=_n;continue;}if(_n=="\'"&&_l==false){_l=true;_d+=_c;continue;}if(_l){if(_n=="\'"){_d+=_c;_l=false;}else{_d+=_n;}continue;}if(_h<_e){var _o=_a.charAt(_h++ );_i=this.__testMask(_o,_n);if(_i){if(_o==" "){if(this.editclipmode._value=="excludespace"){if(_j){_d+="*";}else{_d+=_o;}}else{_d+=_c;}}else{if(_j){_d+="*";}else{_d+=_o;}}}else{while(_h<_e){_o=_a.charAt(_h++ );_i=this.__testMask(_o,_n);if(_i){if(_o==" "){if(this.editclipmode._value=="excludespace"){if(_j){_d+="*";}else{_d+=_o;}}else{_d+=_c;}}else{if(_j){_d+="*";}else{_d+=_o;}}break;}}}}else{_d+=_c;}}else{_d+=_n;}}for(_m=0;_m<_g;_m++ ){_d+=_c;}return _d;};_pGridCellInfo.__isMask=function(_a){return (_a=="@"||_a=="#"||_a=="*"||_a=="9"||_a=="A"||_a=="a"||_a=="Z"||_a=="z"||_a=="}"||_a=="{");};_pGridCellInfo._maskRegexMap={"@":/[\u0020-\u00ff]/,"#":/[0-9]/,"*":/[a-zA-Z]/,"9":/[a-zA-Z0-9]/,"A":/[A-Z]/,"a":/[a-z]/,"Z":/[A-Z0-9]/,"z":/[a-z0-9]/};_pGridCellInfo.__testMask=function(_a,_b){var _c=this._maskRegexMap[_b];return (_c)?_c.test(_a):(_a==_b);};_pGridCellInfo._getDisplayText_exponent=function(_a){var _b=this._getTextValueForDisp(_a);return (_b)?_b.toString():"";};_pGridCellInfo._org_val=null;_pGridCellInfo._getDisplayText_number=function(_a){var _b=this._getTextValueForDisp(_a);var _c=this._getAttrValue(this.locale,_a);var _d=this._getAttrValue(this.mask,_a);var _e=this._getPureNumberMask(_d);var _f=_e.pure_mask;if(!_c&&this.grid){_c=this.grid._getLocale();}if(_f==undefined){_f="";}this._org_val=_b;if(_b==undefined){var _j=this.__get_view_zeromask(_f);var _k=_f;if(_j.nineidx> -1){_f=_k.replace('9','#');}_b="";}var _g=this.grid._masknumber_api;if(!_g){_g=this.grid._masknumber_api=new nexacro.EditMaskNumber(null);}_g._setLocale(_c);_g.setDisplayMask(_f);var _h=_g.normalizeValue(_b.toString(),true);if(!_f&&isNaN(_h)){_g._dispComma=false;}var _i=_g.makeDisplayText(_h);_i=_e.pre_str+_i+_e.post_str;return _i;};_pGridCellInfo._getPureNumberMask=function(_a){var _b,_c= -1,_d="",_e="",_f="",_g=_a?_a.length:0;for(var _h=0;_h<_g;_h++ ){_b=_a.charAt(_h);switch(_a.charAt(_h)){case "+":case "-":case "0":case "9":case "#":case "!":case ",":if(_f==""){_e+=_b;}else{_f+=_b;}break;case ".":if(_f==""){if(_c<0){_c=_h;_e+=_b;}}else{_f+=_b;}break;default:if(_e==""){_d+=_b;}else{_f+=_b;}break;}}return {"pre_str":_d,"pure_mask":_e,"post_str":_f};};_pGridCellInfo._getDisplayText_currency=function(_a){var _b=this._getTextValueForDisp(_a);var _c=this._getAttrValue(this.locale,_a);if(!_c&&this.grid){_c=this.grid._getLocale();}if(!isNaN(_b)){var _d=new nexacro.Number(_b);_b=_d.toLocaleCurrencyString(_c);}return _b;};_pGridCellInfo._getDisplayText_image=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_date=function(_a,_b){var _c=this.grid._binddataset;if(_c&&_c.getRowCount()<=_a){return "";}var _d=this._getTextValueForDisp(_a);var _e=undefined;var _f=0;var _g=false;var _h=false;_d=(_d)?_d:"";if(_d.constructor==Date){_e=_d;}else{var _k=_d.toString();for(var _l=0;_l<_k.length;_l++ ){if(_k.charAt(_l)!=" "){_f=1;break;}}if(_f==1){if(_b==undefined){if(_k.length<=6){_b=0;}else if(_k.length<=8){_b=2;}else{_b=1;}}if(_b==1){_d._timecheck=true;}_e=this.__parseDate(_k,_b);}else{if(_b==1){_d._timecheck=true;}if(this.calendardisplaynulltype._value=="nulltext"){return this._getAttrValue(this.calendardisplaynulltext,_a);}else if(this.calendardisplaynulltype._value=="nullmask"){_g=true;}else if(this.calendardisplaynulltype._value=="default"){}else{return "";}}}if(_e==null){_h=true;_e=new nexacro.Date();_e.setFullYear(0);_e.setMonth(0);_e.setDate(1);}var _i;var _j=this._getAttrValue(this.locale,_a);if(!_j&&this.grid){_j=this.grid._getLocale();}if(this.mask=="SHORTDATE"||this.mask=="LONGDATE"){var _m=nexacro.Locale.getLocaleInfo(_j);var _n="";if(this.mask=="SHORTDATE"){_n=_m.shortdate_format;}else{_n=_m.longdate_format;}if(_n==""){_n=nexacro.Locale._default_shortdate_format;}var _o=(!this.grid._isRtl()&&_m.direction=="rtl")?true:false;_i=_e.getLocaleFormatString(_j,_n,_o);}else{var _p=_e.getFullYear();if(_p==0){_p="0000";}var _q=_e.getMonth()+1;_q=(_q<10?"0":"")+_q;var _r=this.grid._getDisplayCalendarCtrl();var _m=nexacro.Locale.getLocaleInfo(_j);_r._datelistL=_m.weekday_names_long;var _s=_r._datelistL[_e.getDay()];var _t=_e.getDate();_t=(_t<10?"0":"")+_t;var _u=_e.getYear()%100;var _v= +_q;var _w= +_t;var _x=_e.getHours();_x=(_x<10?"0":"")+_x;var _y= +_x;var _z=_e.getMinutes();_z=(_z<10?"0":"")+_z;var _aa= +_z;var _ab=_e.getSeconds();_ab=(_ab<10?"0":"")+_ab;var _ac= +_ab;if(_h){_x=_y="00";_z=_aa="00";_ab=_ac="00";}var _n=this._getAttrValue(this.mask,_a);if(_n==null||_n.length==0||!_n.match(/[yMdHhms]/)){_n="yyyy-MM-dd";}if(_g){var _ad=this.maskchar;var _ae=_ad+_ad;var _af=_ae+_ad;var _ag=_af+_ad;_i=_n.replace("yyyy",_ag);_i=_i.replace("MM",_ae);_i=_i.replace("ddd","week");_i=_i.replace("dd",_ae);_i=_i.replace("yy",_ae);_i=_i.replace("M",_ad);_i=_i.replace("d",_ad);_i=_i.replace("week",_af);_i=_i.replace("tt",_ae);_i=_i.replace("HH",_ae);_i=_i.replace("hh",_ae);_i=_i.replace("H",_ad);_i=_i.replace("h",_ad);_i=_i.replace("mm",_ae);_i=_i.replace("m",_ad);_i=_i.replace("ss",_ae);_i=_i.replace("s",_ad);}else{_i=_n.replace("yyyy",_p);_i=_i.replace("MM",_q);_i=_i.replace("ddd","week");_i=_i.replace("dd",_t);_i=_i.replace("yy",_u);_i=_i.replace("M",_v);_i=_i.replace("d",_w);_i=_i.replace("week",_s);var _ah=_x;var _ai="오전";if(_x>12&&_x<25){_ah=_x<22?"0"+(_x-12):_x-12;_ai="오후";}_i=_i.replace("tt",_ai);_i=_i.replace("HH",_x);_i=_i.replace("hh",_ah);_i=_i.replace("H",_y);_i=_i.replace("h",_y);_i=_i.replace("mm",_z);_i=_i.replace("m",_aa);_i=_i.replace("ss",_ab);_i=_i.replace("s",_ac);}}return _i;};_pGridCellInfo._getDisplayText_date2=function(_a){return this._getDisplayText_date(_a,2);};_pGridCellInfo._getDisplayText_datetime=function(_a){return this._getDisplayText_date(_a,1);};_pGridCellInfo._getDisplayText_time=function(_a){return this._getDisplayText_date(_a,0);};_pGridCellInfo.__parseDate=function(_a,_b){var _c;switch(_b){case 0:_c=/(\d{6})/;break;case 1:_c=/(\d{14})/;break;default:_c=/(\d{8})/;break;}if(_c.test(_a)==false){return undefined;}var _d=new nexacro.Date();if(_b>0){var _e= +_a.substring(0,4);var _f= +_a.substring(4,6);var _g= +_a.substring(6,8);if(_f<1||_f>12){return undefined;}if(_g<1){return undefined;}if(_b==1){var _h= +_a.substring(8,10);var _i= +_a.substring(10,12);var _j= +_a.substring(12,14);}else{var _h=0;var _i=0;var _j=0;}}else{var _e=1900;var _f=1;var _g=1;var _h= +_a.substring(0,2);var _i= +_a.substring(2,4);var _j= +_a.substring(4,6);}_d.setHours(_h,_i,_j);_d.setFullYear(_e,_f-1,_g);return _d;};_pGridCellInfo._getDisplayText_combo=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getAttrValue(this.combodataset,_a);var _d=this._getAttrValue(this.combocodecol,_a);var _e=this._getAttrValue(this.combodatacol,_a);if(_c&&_c.length&&_d&&_d.length&&_e&&_e.length){var _f=this.grid;var _g=_f._findDataset(_c);var _h=this._getTextValueForDisp(_a);var _i;this._tempinnerds.copyData(_g,false);if(_g&&this._editingRow==_a){_i=_g.lookup(_d,_h,_e);}else{_i=this._tempinnerds.lookup(_d,_h,_e);}if(_i){return _i.toString();}}if(this.combodisplaynulltype._value=="nulltext"){var _h=this._getAttrValue(this.combodisplaynulltext,_a);return _h;}return "";};_pGridCellInfo._getDisplayText_button=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_bar=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_checkbox=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_tree=function(_a){var _b=this.grid._binddataset;if(_b&&_b.getRowCount()<=_a){return "";}var _c=this._getTextValueForDisp(_a);return (_c)?_c.toString():"";};_pGridCellInfo._getDisplayText_none=function(_a){return "";};delete _pGridCellInfo;nexacro.GridBandInfo=function(_a,_b,_c,_d){this.id=this.name=_a;this.parent=_c;this.grid=_d;this.bandtype=_b;this.style=new nexacro.GridBand_Style(this);this._styles={};this.tooltiptext=new nexacro.BindableValue("");this.cellwordwrap=new nexacro.BindableValue("none");this.bandctrl=null;this._noborder=false;this._add_style_pseudo=[];};var _pGridBandInfo=nexacro._createPrototype(nexacro.Object,nexacro.GridBandInfo);nexacro.GridBandInfo.prototype=_pGridBandInfo;_pGridBandInfo._type_name="GridBandInfo";_pGridBandInfo.classname="";_pGridBandInfo.grid=null;_pGridBandInfo.bandtype="";_pGridBandInfo.tooltiptext="";_pGridBandInfo.tooltiptype="none";_pGridBandInfo.destroy=function(){this.parent=null;this.grid=null;this.bandctrl=null;if(this.style){delete this.style;this.style=null;}if(this._styles){var _a=this._styles;for(var _b in _a){var _c=_a[_b];if(_c.destroy){_c.destroy();_c=null;}}this._styles=null;}this.tooltiptext=null;this.cellwordwrap=null;this._add_style_pseudo=null;};_pGridBandInfo._find_gridpseudo_obj=function(_a,_b,_c,_d,_e,_f){if(this.bandctrl){obj=this.bandctrl._find_pseudo_obj(_a,_b,_f,_c);if(obj==null&&!_e){obj=this.grid._find_pseudo_obj(_a,_b,_f);}}else{obj=this.grid._find_pseudo_obj(_a,_b,_f);}if(_d&&(obj==null||obj._is_empty)&&!_e){obj=this.grid._find_pseudo_obj(_d,_b,_f);}return obj;};_pGridBandInfo._query_pseudo_background=function(_a){var _b=this.style;if(_b.background&&!_b.background._is_empty){return _b.background;}if(this.grid){return this._find_gridpseudo_obj("background",_a,null,null,true,"background");}return null;};_pGridBandInfo._query_pseudo_border=function(_a){var _b=this.style;if(_b.border&&!_b.border._is_empty){if(_b.border.top.width==0){this._noborder=true;}return _b.border;}var _c=this._find_gridpseudo_obj("border",_a,null,null,true,"border");if(_c==null||_c.top.width==0){this._noborder=true;}return _c;};_pGridBandInfo._query_pseudo_bordertype=function(_a){var _b=this.style;if(_b.bordertype&&!_b.bordertype._is_empty){return _b.bordertype;}if(this.grid){return this._find_gridpseudo_obj("bordertype",_a,null,null,true,"bordertype");}return null;};_pGridBandInfo._query_pseudo_gradation=function(_a,_b,_c,_d){var _e=this.style;if(_e.gradation&&!_e.gradation._is_empty){return _e.gradation;}if(this.grid){return this._find_gridpseudo_obj("gradation",_d,null,null,true,"gradation");}return null;};_pGridBandInfo._set_backgroundimage=function(_a,_b){_b=_b.toString();if(_b.length>=5){if(_b.substring(0,3).toLowerCase()=="url"){var _c=_b.substr(4,1);if(_c=='\''||_c=='\"'){_b=_b.substring(5,_b.length-2);}else{_b=_b.substring(4,_b.length-1);}}else if(_b.substring(0,5).toLowerCase()!="theme"){var _d=nexacro._checkBase64String(_b);if(_d){if(_b.substring(0,10).toLowerCase()!="data:image"){_b="data:image;base64,"+_b;}else if(_b.substring(0,17).toLowerCase()!="data:image;base64"){var _e=_b.indexOf(",");if(_e> -1){var _f=_b.slice(_e+1,_b.legnth);_b="data:image;base64,"+_f;}}}}}if(_b!=_a.image){_a.set_image(_b);}return _a;};_pGridBandInfo.set_class=function(_a){if(_a!=this.cssclass){this.cssclass=_a;if(this.bandctrl){this.bandctrl.set_class(_a);this.grid._clearBindTypeFlag();}}};_pGridBandInfo.set_id=function(_a){};_pGridBandInfo.set_cssclass=function(_a){if(_a!=this.cssclass){this.cssclass=_a;if(this.bandctrl){this.bandctrl.set_cssclass(_a);this.grid._clearBindTypeFlag();}}};_pGridBandInfo.set_style=function(_a){this.grid._clearBindTypeFlag();_a=nexacro._decodeXml(_a);var _b=_a.split("}");var _c=_b[0].trim();var _d=this._styles={};this._add_style_pseudo=[];_b.pop();var _e,_f=_b.length;var _g,_h,_i;var _j=this.style;_g=_c.split("{");_i=_g[0].substring(0,_g[0].lastIndexOf(";")+1).trim();if(_i.length==0){_i=_g[0].substring(0,_g[0].length).trim();}_j._setValue(_i);_d["normal"]=_j;if(this.bandctrl){_d["normal"]._target=this.bandctrl;}this._add_style_pseudo.push("normal");var _k=(this.style._value!=_i);if(_k){this.style._setValue(_i);}if(_f>0){for(_e=0;_e<_f;_e++ ){_g=_b[_e].split("{");_h=_g[0].substring(_g[0].lastIndexOf(":")+1).trim();var _l=new nexacro.GridBand_Style(this);_l._setValue(_g[1]);_d[_h]=_l;if(this.bandctrl){_d[_h]._target=this.bandctrl;}this._add_style_pseudo.push(_h);}}return this.style._value;};_pGridBandInfo._changeStyleTarget=function(_a){var _b=this.style;var _c=this._styles;var _d=this._add_style_pseudo;var _e=_d.length;_b._target=_a;for(var _f=0;_f<_e;_f++ ){_b=_c[_d[_f]];_b._target=_a;}};_pGridBandInfo.set_tooltiptype=function(_a){if(_a!=this.tooltiptype){this.tooltiptype=_a;this.grid._clearBindTypeFlag();}};_pGridBandInfo.set_tooltiptext=function(_a){if(_a!=this.tooltiptext._value){this.tooltiptext._set(_a);this.grid._clearBindTypeFlag();if(this.bandctrl){this.bandctrl.on_apply_prop_tooltip();}}};_pGridBandInfo._getTooltipText=function(_a){var _b=this._getAttrValue(this.tooltiptext,_a);if(!_b&&_b==""){_b=this.grid.tooltiptext;if(!_b){_b="";}}return _b;};_pGridBandInfo.set_cellwordwrap=function(_a){var _b=0;if(typeof (_a)=="string"){var _c=_a.toLowerCase();if(_c.indexOf("bind:")>=0||_c.indexOf("bind(")>=0){_b=1;}else if(_c.indexOf("expr:")>=0||_c.indexOf("expr(")>=0){_b=2;}else{_a=_a.toLowerCase();}}if(_b==0&&typeof (_a)!="string"){return;}if(_a!=this.cellwordwrap._value){this.cellwordwrap._set(_a);this.grid._clearBindTypeFlag();if(this.bandctrl){this.bandctrl.on_apply_wordwrap();}}};_pGridBandInfo._getAttrValue=function(_a,_b,_c){if(_a==undefined){return undefined;}if(_a._bindtype==undefined){return _a;}else if(_a._bindtype==0){return _a._value;}else{var _d=this.grid;var _e=_d._binddataset;if(_e==null){return undefined;}if(_a._bindtype==1){return _e.getColumn(_b,_a._bindexpr);}else{var _f=_a._value;var _g=_f.toLowerCase().indexOf("bind:");if(_g>=0){var _h=_a._bindexpr;_h=_h.substring(_g,_h.length);return _e.getColumn(_b,_h);}var _i=_d._exprcache[_a._bindexpr];if(_i==null){_i=_e._createExprFunc(_a._bindexpr);_d._exprcache[_a._bindexpr]=_i;}if((typeof _i)=="function"){if(_c){_c.col=_c._col;_c.row=_c._row;return _i.call(_c,_b,_b,_d,_e);}else{return _i.call(this,_b,_b,_d,_e);}}}}return undefined;};_pGridBandInfo._setAttrValue=function(_a,_b,_c){if(_a._bindtype==1){var _d=this.grid;var _e=_d._binddataset;if(_e){_e.setColumn(_b,_a._bindexpr,_c);}}};delete _pGridBandInfo;nexacro.GridFormat=function(_a,_b){this.id=_a;this.grid=this.parent=_b;this._cols=[];this._headrows=null;this._bodyrows=null;this._summrows=null;this._headband=null;this._summband=null;this._bodyband=null;this._headcells=null;this._summcells=null;this._bodycells=null;this.leftWidth=0;this.rightWidth=0;this.bodyWidth=0;this._orgleftWidth=0;this._orgrightWidth=0;this._orgbodyWidth=0;this.endbodycol=0;this.startrightcol= -1;this.headHeight=0;this.summHeight=0;this.bodyHeight=0;this._formatElem=null;this._formatElemOrg=null;};var _pGridFormat=nexacro._createPrototype(nexacro.Object,nexacro.GridFormat);nexacro.GridFormat.prototype=_pGridFormat;_pGridFormat._type_name="GridFormat";_pGridFormat.destroy=function(){if(this._headband){this._headband.destroy();this._headband=null;}if(this._summband){this._summband.destroy();this._summband=null;}if(this._bodyband){this._bodyband.destroy();this._bodyband=null;}if(this._headcells){var _a=this._headcells;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this._headcells=null;}if(this._summcells){var _a=this._summcells;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this._summcells=null;}if(this._bodycells){var _a=this._bodycells;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this._bodycells=null;}this._headrows=null;this._bodyrows=null;this._summrows=null;this._formatElem=null;this._formatElemOrg=null;this._cols=null;this.grid=null;this.parent=null;};_pGridFormat._clearCellStyleCache=function(_a,_b){var _c=this.grid;_c._clearBindTypeFlag();_a=_a.toLowerCase();var _d;if(_a=="head"){_d=this._headcells;_c._is_use_bind_expr_style["head"]=false;_c._is_use_bind_expr_outerstyle["head"]=false;}else if(_a=="summ"||_a=="summary"){_d=this._summcells;_c._is_use_bind_expr_style["summ"]=false;_c._is_use_bind_expr_outerstyle["summ"]=false;}else{_d=this._bodycells;_c._is_use_bind_expr_style["body"]=false;_c._is_use_bind_expr_outerstyle["body"]=false;}if(_d){if(_b>0){_d[_b]._stylecache={};_d[_b]._is_use_bind_expr_style=false;var _e=_d[_b]._subcells;for(var _f=0;_f<_e.length;_f++ ){_e[_f]._stylecache={};_e[_f]._is_use_bind_expr_style=false;}}else{for(var _f=0;_f<_d.length;_f++ ){_d[_f]._stylecache={};_d[_f]._is_use_bind_expr_style=false;var _e=_d[_f]._subcells;for(var _g=0;_g<_e.length;_g++ ){_e[_g]._stylecache={};_e[_g]._is_use_bind_expr_style=false;}}}}};_pGridFormat._resetOrgColSize=function(_a){if(this._cols){var _b=this._cols;var _c=this._cols.length;var _d,_e,_f;_d=_e=_f=0;for(var _g=0;_g<_c;_g++ ){_b[_g].size=_b[_g].orgsize;_b[_g].left=_b[_g].orgleft;_b[_g].right=_b[_g].orgright;if(_b[_g]._area=="left"){_d+=_b[_g].size;}else if(_b[_g]._area=="right"){_f+=_b[_g].size;}else{_e+=_b[_g].size;}}}if(_a){this.leftWidth=_d;this.rightWidth=_f;this._bodyWidth=this.bodyWidth=_e;}else{this.leftWidth=this._orgleftWidth;this.rightWidth=this._orgrightWidth;this._bodyWidth=this.bodyWidth=this._orgbodyWidth;}};_pGridFormat._rearrangeCols=function(){var _a=this._cols;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].orgidx=_c;}};_pGridFormat._addLeftColumn=function(_a){var _b=this.leftWidth+_a;var _c=this._orgleftWidth+_a;var _d={size:_a,left:this.leftWidth,right:_b,_area:"left",orgsize:_a,orgleft:this._orgleftWidth,orgright:_c};var _e=this._getColFixCnt("left");this._cols.splice(_e,0,_d);this.leftWidth=_b;this._orgleftWidth=_c;return _d;};_pGridFormat._addRightColumn=function(_a){var _b=this.rightWidth+_a;var _c=this._orgrightWidth+_a;var _d={size:_a,left:this.rightWidth,right:_b,_area:"right",orgsize:_a,orgleft:this._orgrightWidth,orgright:_c};this._cols.push(_d);this.rightWidth=_b;this._orgrightWidth=_c;return _d;};_pGridFormat._addBodyColumn=function(_a){var _b=this.bodyWidth+_a;var _c=this._orgbodyWidth+_a;var _d={size:_a,left:this.bodyWidth,right:_b,_area:"body",orgsize:_a,orgleft:this._orgbodyWidth,orgright:_c};var _e=this._getColFixCnt("left");var _f=this._getColFixCnt("body");this._cols.splice(_e+_f,0,_d);this.endbodycol=this._cols.length;this._bodyWidth=this.bodyWidth=_b;this._orgbodyWidth=_c;return _d;};_pGridFormat._insertLeftColumn=function(_a,_b){var _c=this.leftWidth+_a;var _d=this._orgleftWidth+_a;if(_b>=this._cols.length){return this._addLeftColumn(_a);}var _e=this._cols[_b];var _f=0;var _g=0;if(_e){_f=_e.left;_g=_e.orgleft;}var _h=_f+_a;var _i=_g+_a;var _j={size:_a,left:_f,right:_h,_area:"left",orgsize:_a,orgleft:_g,orgright:_i};this._cols.splice(_b,0,_j);this.leftWidth=_c;this._orgleftWidth=_d;this._adjustFormatColSize();return _j;};_pGridFormat._insertRightColumn=function(_a,_b){var _c=this.rightWidth+_a;var _d=this._orgrightWidth+_a;if(_b>=this._cols.length){return this._addRightColumn(_a);}var _e=this._cols[_b];var _f=0;var _g=0;if(_e){_f=_e.left;_g=_e.orgleft;}var _h=_f+_a;var _i=_g+_a;var _j={size:_a,left:_f,right:_h,_area:"right",orgsize:_a,orgleft:_g,orgright:_i};this._cols.splice(_b,0,_j);this.rightWidth=_c;this._orgrightWidth=_d;this._adjustFormatColSize();return _j;};_pGridFormat._insertBodyColumn=function(_a,_b){var _c=this.bodyWidth+_a;var _d=this._orgbodyWidth+_a;if(_b>=this._cols.length){return this._addBodyColumn(_a);}var _e=this._cols[_b];var _f=0;var _g=0;if(_e){_f=_e.left;_g=_e.orgleft;}var _h=_f+_a;var _i=_g+_a;var _j={size:_a,left:_f,right:_h,_area:"body",orgsize:_a,orgleft:_g,orgright:_i};this._cols.splice(_b,0,_j);this.endbodycol=this._cols.length;this._bodyWidth=this.bodyWidth=_c;this._orgbodyWidth=_d;this._adjustFormatColSize();return _j;};_pGridFormat._moveColumn=function(_a,_b,_c,_d,_e){var _f=this._cols[_a];var _g=_f._area;var _h=_f.left;var _i=_f.right;;if(!_f||_a==_b){return false;}if(_a<_b){_b+=(_d-1);}var _j=this._cols[_b];switch(_e){case "col":break;case "col,band":if(_f._area!=_j._area){return false;}break;case "col,merge":case "col,line":default:return false;}_f._area=_j._area;this._cols.splice(_a,1);this._cols.splice(_b,0,_f);if(_a>_b){for(var _k=_b;_k<_a;_k++ ){this._cols[_k].left=this._cols[_k+1].left;this._cols[_k].right=this._cols[_k+1].right;}}else{for(var _k=_b;_k>_a;_k-- ){this._cols[_k].left=this._cols[_k-1].left;this._cols[_k].right=this._cols[_k-1].right;}}this._cols[_a].left=_h;this._cols[_a].right=_i;this._adjustFormatColSize();this._moveContentsCol("body",this._bodycells,_a,_b);this._moveContentsCol("head",this._headcells,_a,_b);this._moveContentsCol("summ",this._summcells,_a,_b);this._bodycells=this._reIndexCells(this._bodycells,this._bodyrows);this._headcells=this._reIndexCells(this._headcells,this._headrows);this._summcells=this._reIndexCells(this._summcells,this._summrows);return true;};_pGridFormat._addHeadRow=function(_a){if(this._headrows==null){this._headrows=[];}var _b=this.headHeight+_a;var _c={size:_a,top:this.headHeight,bottom:_b,_area:"head",orgsize:_a,orgtop:this.headHeight,orgbottom:_b};this._headrows.push(_c);this.headHeight=_b;return _c;};_pGridFormat._addSummRow=function(_a){if(this._summrows==null){this._summrows=[];}var _b=this.summHeight+_a;var _c={size:_a,top:this.summHeight,bottom:_b,_area:"summ",orgsize:_a,orgtop:this.summHeight,orgbottom:_b};this._summrows.push(_c);this.summHeight=_b;return _c;};_pGridFormat._addBodyRow=function(_a){if(this._bodyrows==null){this._bodyrows=[];}var _b=this.bodyHeight+_a;var _c={size:_a,top:this.bodyHeight,bottom:_b,_area:"body",orgsize:_a,orgtop:this.bodyHeight,orgbottom:_b};this._bodyrows.push(_c);this._body_height=this.bodyHeight=_b;return _c;};_pGridFormat._insertHeadRow=function(_a,_b){var _c={size:_b,top:0,bottom:_b,_area:"head",orgsize:_b,orgtop:0,orgbottom:_b};if(this._headrows==null||this._headrows.length==0){this._headrows=[];this._headrows.push(_c);}else{if(_a>0){if(this._headrows.length<_a){_a=this._headrows.length;}_c.top=this._headrows[_a-1].bottom;_c.bottom=_c.top+_b;}this._headrows.splice(_a,0,_c);}this.headHeight+=_b;this._adjustFormatRowSize(this._headrows);return _c;};_pGridFormat._insertSummRow=function(_a,_b){var _c={size:_b,top:0,bottom:_b,_area:"summ",orgsize:_b,orgtop:0,orgbottom:_b};if(this._summrows==null||this._summrows.length==0){this._summrows=[];this._summrows.push(_c);}else{if(_a>0){if(this._summrows.length<_a){_a=this._summrows.length;}_c.top=this._summrows[_a-1].bottom;_c.bottom=_c.top+_b;}this._summrows.splice(_a,0,_c);}this.summHeight+=_b;this._adjustFormatRowSize(this._summrows);return _c;};_pGridFormat._insertBodyRow=function(_a,_b){var _c={size:_b,top:0,bottom:_b,_area:"body",orgsize:_b,orgtop:0,orgbottom:_b};if(this._bodyrows==null||this._bodyrows.length==0){this._bodyrows=[];this._bodyrows.push(_c);}else{if(_a>0){if(this._bodyrows.length<_a){_a=this._bodyrows.length;}_c.top=this._bodyrows[_a-1].bottom;_c.bottom=_c.top+_b;}else{_a=0;}this._bodyrows.splice(_a,0,_c);}this.bodyHeight+=_b;this._body_height=this.bodyHeight;this._adjustFormatRowSize(this._bodyrows);return _c;};_pGridFormat._addHeadCell=function(_a){if(this._headcells==null){this._headcells=[];}return this._addCell(this._headcells,_a);};_pGridFormat._addSummCell=function(_a){if(this._summcells==null){this._summcells=[];}return this._addCell(this._summcells,_a);};_pGridFormat._addBodyCell=function(_a){if(this._bodycells==null){this._bodycells=[];}return this._addCell(this._bodycells,_a);};_pGridFormat._addCell=function(_a,_b){var _c=this._cols[_b._col];if(_c){_b._area=_c._area;_a.push(_b);return _b;}return undefined;};_pGridFormat._insertHeadCell=function(_a,_b,_c){if(this._headcells==null){this._headcells=[];}return this._insertCell(this._headcells,_a,_b,_c);};_pGridFormat._insertSummCell=function(_a,_b,_c){if(this._summcells==null){this._summcells=[];}return this._insertCell(this._summcells,_a,_b,_c);};_pGridFormat._insertBodyCell=function(_a,_b,_c){if(this._bodycells==null){this._bodycells=[];}return this._insertCell(this._bodycells,_a,_b,_c);};_pGridFormat._insertCell=function(_a,_b,_c,_d){var _e=this._cols[_b._col];if(_e){var _f=_a.length;var _g;var _h;for(var _i=0;_i<_f;_i++ ){_g=_a[_i];if(_g._col==_c&&_g._row==_d){_h=_i;}if(_g._col>=_c&&_g._row==_d){_g._col++ ;}}_b._area=_e._area;_a.splice(_h,0,_b);return _b;}return undefined;};_pGridFormat._arrayCopy=function(_a){function cloneObj(_c){var _d={};for(var _e in _c){if(_c.hasOwnProperty(_e)){_d[_e]=_c[_e];}}return _d;};var _b=[];for(var _c=0;_c<_a.length;_c++ ){_b[_c]=cloneObj(_a[_c]);}return _b;};_pGridFormat._getFormatStr=function(){return nexacro._documentToXml(this._formatElem);};_pGridFormat._getOrgFormatStr=function(){return nexacro._documentToXml(this._formatElemOrg);};_pGridFormat._updateFormatStr=function(){if(!this.grid.enableredraw){return;}var _a=0;var _b=0;var _c=0;var _d=0;var _e=this._cols;var _f=this._headrows;var _g=this._bodyrows;var _h=this._summrows;var _i=this._headcells;var _j=this._bodycells;var _k=this._summcells;var _l=this._headband;var _m=this._bodyband;var _n=this._summband;if(_e&&_e.length){_c=_e.length;}var _o;if(_c>0){_o="<Format id=\""+this.id+"\">\n";_o+="<Columns>\n";{for(_b=0;_b<_c;_b++ ){if(_e[_b]._area!="body"){_o+="<Column size=\""+_e[_b].size+"\" band=\""+_e[_b]._area+"\"/>\n";}else{_o+="<Column size=\""+_e[_b].size+"\"/>\n";}}}_o+="</Columns>\n";_o+="<Rows>\n";{if(_f){var _r=_f.length;for(var _b=0;_b<_r;_b++ ){_o+="<Row band=\"head\" size=\""+_f[_b].size+"\"/>\n";}}if(_g){var _s=_g.length;for(var _b=0;_b<_s;_b++ ){_o+="<Row band=\"body\" size=\""+_g[_b].size+"\"/>\n";}}if(_h){var _t=_h.length;for(var _b=0;_b<_t;_b++ ){_o+="<Row band=\"summ\" size=\""+_h[_b].size+"\"/>\n";}}}_o+="</Rows>\n";function _makeCellstr(_u){var _v=_u.length;for(var _b=0;_b<_v;_b++ ){_o+="<Cell col=\""+_u[_b]._col;_o+="\" row=\""+_u[_b]._row;if(_u[_b]._colspan>1){_o+="\" colspan=\""+_u[_b]._colspan;}if(_u[_b]._rowspan>1){_o+="\" rowspan=\""+_u[_b]._rowspan;}if(_u[_b].displaytype._value&&_u[_b].displaytype._value.length){_o+="\" displaytype=\""+nexacro._encodeXml(_u[_b].displaytype._value);}if(_u[_b].edittype._value&&_u[_b].edittype._value.length&&_u[_b].edittype._value!="none"){_o+="\" edittype=\""+nexacro._encodeXml(_u[_b].edittype._value);}if(_u[_b].text._value&&_u[_b].text._value.length){_o+="\" text=\""+nexacro._encodeXml(_u[_b].text._value);}if(_u[_b].style._value&&_u[_b].style._value.length){_o+="\" style=\""+nexacro._encodeXml(_u[_b].style._value);}if(_u[_b].tooltiptext._value&&_u[_b].tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_u[_b].tooltiptext._value);}if(_u[_b].tooltiptype&&_u[_b].tooltiptype.length&&_u[_b].tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_u[_b].tooltiptype);}if(_u[_b].displayexpdec._value>=0){_o+="\" displayexpdec=\""+_u[_b].displayexpdec._value;}if(_u[_b].locale._value&&_u[_b].locale._value.length){_o+="\" locale=\""+nexacro._encodeXml(_u[_b].locale._value);}if(_u[_b].mask._value&&_u[_b].mask._value.length){_o+="\" mask=\""+nexacro._encodeXml(_u[_b].mask._value);}if(_u[_b].maskchar&&_u[_b].maskchar.length&&_u[_b].maskchar!="_"){_o+="\" maskchar=\""+nexacro._encodeXml(_u[_b].maskchar);}if(_u[_b].suppress._value!=0){_o+="\" suppress=\""+_u[_b].suppress._value;}if(_u[_b].suppressalign&&_u[_b].suppressalign.length&&_u[_b].suppressalign!="first"){_o+="\" suppressalign=\""+nexacro._encodeXml(_u[_b].suppressalign);}if(_u[_b].suppressedit==true){_o+="\" suppressedit=\""+_u[_b].suppressedit;}if(_u[_b].wordwrap!="none"&&_u[_b].wordwrap!="false"&&_u[_b].wordwrap!=false){_o+="\" wordwrap=\""+nexacro._encodeXml(_u[_b].wordwrap._value);}if(_u[_b].expr._value&&_u[_b].expr._value.length){_o+="\" expr=\""+nexacro._encodeXml(_u[_b].expr._value);}if(_u[_b].subsumtext._value&&_u[_b].subsumtext._value.length){_o+="\" subsumtext=\""+nexacro._encodeXml(_u[_b].subsumtext._value);}if(_u[_b].calendardisplay._value&&_u[_b].calendardisplay._value.length&&_u[_b].calendardisplay._value!="edit"){_o+="\" calendardisplay=\""+nexacro._encodeXml(_u[_b].calendardisplay._value);}if(_u[_b].calendardisplaynulltext._value&&_u[_b].calendardisplaynulltext._value.length){_o+="\" calendardisplaynulltext=\""+nexacro._encodeXml(_u[_b].calendardisplaynulltext._value);}if(_u[_b].calendardisplaynulltype._value&&_u[_b].calendardisplaynulltype._value.length&&_u[_b].calendardisplaynulltype._value!="default"){_o+="\" calendardisplaynulltype=\""+nexacro._encodeXml(_u[_b].calendardisplaynulltype._value);}if(_u[_b].combodataset._value&&_u[_b].combodataset._value.length){_o+="\" combodataset=\""+nexacro._encodeXml(_u[_b].combodataset._value);}if(_u[_b].combocodecol._value&&_u[_b].combocodecol._value.length){_o+="\" combocodecol=\""+nexacro._encodeXml(_u[_b].combocodecol._value);}if(_u[_b].combodatacol._value&&_u[_b].combodatacol._value.length){_o+="\" combodatacol=\""+nexacro._encodeXml(_u[_b].combodatacol._value);}if(_u[_b].combodisplay._value&&_u[_b].combodisplay._value.length&&_u[_b].combodisplay._value!="edit"){_o+="\" combodisplay=\""+nexacro._encodeXml(_u[_b].combodisplay._value);}if(_u[_b].combodisplaynulltext._value&&_u[_b].combodisplaynulltext._value.length){_o+="\" combodisplaynulltext=\""+nexacro._encodeXml(_u[_b].combodisplaynulltext._value);}if(_u[_b].combodisplaynulltype._value&&_u[_b].combodisplaynulltype._value.length&&_u[_b].combodisplaynulltype._value!="none"){_o+="\" combodisplaynulltype=\""+nexacro._encodeXml(_u[_b].combodisplaynulltype._value);}if(_u[_b].combodisplayrowcount._value>=0&&_u[_b].combodisplayrowcount._value!=5){_o+="\" combodisplayrowcount=\""+_u[_b].combodisplayrowcount._value;}if(_u[_b].combotype._value&&_u[_b].combotype._value.length&&_u[_b].combotype._value!="dropdown"){_o+="\" combotype=\""+nexacro._encodeXml(_u[_b].combotype._value);}if(_u[_b].editacceptsenter._value==true){_o+="\" editacceptsenter=\""+_u[_b].editacceptsenter._value;}if(_u[_b].editacceptstab._value==true){_o+="\" editacceptstab=\""+_u[_b].editacceptstab._value;}if(_u[_b].editautoselect._value==true){_o+="\" editautoselect=\""+_u[_b].editautoselect._value;}if(_u[_b].editautoskip._value==true){_o+="\" editautoskip=\""+_u[_b].editautoskip._value;}if(_u[_b].editclipmode._value&&_u[_b].editclipmode._value.length&&_u[_b].editclipmode._value!="includespace"){_o+="\" editclipmode=\""+nexacro._encodeXml(_u[_b].editclipmode._value);}if(_u[_b].editdisplay._value&&_u[_b].editdisplay._value.length&&_u[_b].editdisplay._value!="edit"){_o+="\" editdisplay=\""+nexacro._encodeXml(_u[_b].editdisplay._value);}if(_u[_b].editfilter._value&&_u[_b].editfilter._value.length&&_u[_b].editfilter._value!="none"){_o+="\" editfilter=\""+nexacro._encodeXml(_u[_b].editfilter._value);}if(_u[_b].editimemode._value&&_u[_b].editimemode._value.length&&_u[_b].editimemode._value!="none"){_o+="\" editimemode=\""+nexacro._encodeXml(_u[_b].editimemode._value);}if(_u[_b].editlimit._value>=0){_o+="\" editlimit=\""+_u[_b].editlimit._value;}if(_u[_b].editlimitbymask._value&&_u[_b].editlimitbymask._value.length&&_u[_b].editlimitbymask._value!="decimal"){_o+="\" editlimitbymask=\""+nexacro._encodeXml(_u[_b].editlimitbymask._value);}if(_u[_b].editscrollbar._value&&_u[_b].editscrollbar._value.length&&_u[_b].editscrollbar._value!="none"){_o+="\" editscrollbar=\""+nexacro._encodeXml(_u[_b].editscrollbar._value);}if(_u[_b].edittrimtype._value&&_u[_b].edittrimtype._value.length&&_u[_b].edittrimtype._value!="none"){_o+="\" edittrimtype=\""+nexacro._encodeXml(_u[_b].edittrimtype._value);}if(_u[_b].edituseime._value&&_u[_b].edituseime._value.length&&_u[_b].edituseime._value!="global"){_o+="\" edituseime=\""+nexacro._encodeXml(_u[_b].edituseime._value);}if(_u[_b].treecheck._value&&_u[_b].treecheck._value.length){_o+="\" treecheck=\""+nexacro._encodeXml(_u[_b].treecheck._value);}if(_u[_b].treecollapseimage._value&&_u[_b].treecollapseimage._value.length){_o+="\" treecollapseimage=\""+nexacro._encodeXml(_u[_b].treecollapseimage._value);}if(_u[_b].treeexpandimage._value&&_u[_b].treeexpandimage._value.length){_o+="\" treeexpandimage=\""+nexacro._encodeXml(_u[_b].treeexpandimage._value);}if(_u[_b].treeitemimage._value&&_u[_b].treeitemimage._value.length){_o+="\" treeitemimage=\""+nexacro._encodeXml(_u[_b].treeitemimage._value);}if(_u[_b].treelevel._value&&_u[_b].treelevel._value.length){_o+="\" treelevel=\""+nexacro._encodeXml(_u[_b].treelevel._value);}if(_u[_b].treestartlevel._value>0){_o+="\" treestartlevel=\""+_u[_b].treestartlevel._value;}if(_u[_b].treestate._value&&_u[_b].treestate._value.length){_o+="\" treestate=\""+nexacro._encodeXml(_u[_b].treestate._value);}if(_u[_b].expandchar._value&&_u[_b].expandchar._value.length){_o+="\" expandchar=\""+nexacro._encodeXml(_u[_b].expandchar._value);}if(_u[_b].expandimage._value&&_u[_b].expandimage._value.length){_o+="\" expandimage=\""+nexacro._encodeXml(_u[_b].expandimage._value);}if(_u[_b].expandshow._value&&_u[_b].expandshow._value.length&&_u[_b].expandshow._value!="hide"){_o+="\" expandshow=\""+nexacro._encodeXml(_u[_b].expandshow._value);}if(_u[_b].expandsize>=0&&_u[_b].expandsize!=_u[_b]._default_expandsize){_o+="\" expandsize=\""+_u[_b].expandsize._value;}if(_u[_b].autosizecol&&_u[_b].autosizecol.length&&_u[_b].autosizecol!="default"){_o+="\" autosizecol=\""+nexacro._encodeXml(_u[_b].autosizecol);}if(_u[_b].autosizerow&&_u[_b].autosizerow.length&&_u[_b].autosizerow!="default"){_o+="\" autosizerow=\""+nexacro._encodeXml(_u[_b].autosizerow);}if(_u[_b].celltype._value&&_u[_b].celltype._value.length&&_u[_b].celltype._value!="none"){_o+="\" celltype=\""+nexacro._encodeXml(_u[_b].celltype._value);}if(_u[_b].cssclass&&_u[_b].cssclass.length){_o+="\" cssclass=\""+nexacro._encodeXml(_u[_b].cssclass);}_o+="\"/>\n";var _w=_u[_b]._subcells;var _x=_w.length;if(_x>0){_o+="    ";_makeCellstr(_w);}}}if(_f){_o+="<Band id=\"head";if(_l.style._value.length){_o+="\" style=\""+nexacro._encodeXml(_l.style._value);}if(_l.tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_l.tooltiptext._value);}if(_l.tooltiptype.length&&_l.tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_l.tooltiptype);}if(_l.cellwordwrap._value!="none"){_o+="\" cellwordwrap=\""+nexacro._encodeXml(_l.cellwordwrap._value);}_o+="\">\n";_makeCellstr(_i);_o+="</Band>\n";}if(_g){_o+="<Band id=\"body";if(_m.style._value.length){_o+="\" style=\""+nexacro._encodeXml(_m.style._value);}if(_m.tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_m.tooltiptext._value);}if(_m.tooltiptype.length&&_m.tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_m.tooltiptype);}if(_m.cellwordwrap._value!="none"){_o+="\" cellwordwrap=\""+nexacro._encodeXml(_m.cellwordwrap._value);}_o+="\">\n";_makeCellstr(_j);_o+="</Band>\n";}if(_h){_o+="<Band id=\"summary";if(_n.style._value.length){_o+="\" style=\""+nexacro._encodeXml(_n.style._value);}if(_n.tooltiptext._value.length){_o+="\" tooltiptext=\""+nexacro._encodeXml(_n.tooltiptext._value);}if(_n.tooltiptype.length&&_n.tooltiptype!="none"){_o+="\" tooltiptype=\""+nexacro._encodeXml(_n.tooltiptype);}if(_n.cellwordwrap._value!="none"){_o+="\" cellwordwrap=\""+nexacro._encodeXml(_n.cellwordwrap._value);}_o+="\">\n";_makeCellstr(_k);_o+="</Band>\n";}_o+="</Format>\n";}else{_o="<Format id=\""+this.id+"\">\n";}var _p=nexacro._parseXMLDocument(_o);var _q=_p.getElementsByTagName("Format");if(_q){this._formatElem=_q[0];}return _o;};_pGridFormat._loadFromDOM=function(_a){var _b,_c,_d,_e,_f,_g,_h;var _i,_j,_k,_l,_m,_n,_o,_p,_q;var _r,_s,_t,_u;this._formatElemOrg=_a.cloneNode(true);var _v=_a.getElementsByTagName("Column");_d=_v.length;if(_d==0){_v=_a.getElementsByTagName("Col");_d=_v.length;}var _w=0;this._formatElem=_a;for(_b=0;_b<_d;_b++ ){var _z=_v[_b];_f=_z.getAttribute("band");_g=_z.getAttribute("size");if(_w==0&&_f=="left"){this._addLeftColumn(parseInt(_g,10));}else if(_w==2||_f=="right"){this._addRightColumn(parseInt(_g,10));_w=2;}else{this._addBodyColumn(parseInt(_g,10));_w=1;}}this._bodyWidth=this.bodyWidth;this._rearrangeCols();var _x=_a.getElementsByTagName("Row");_d=_x.length;for(_b=0;_b<_d;_b++ ){var _aa=_x[_b];_f=_aa.getAttribute("band");_g=_aa.getAttribute("size");if(_f=="head"){this._addHeadRow((parseInt(_g)|0));}else if(_f=="summ"){this._addSummRow((parseInt(_g)|0));}else{this._addBodyRow((parseInt(_g)|0));}}this._body_height=this.bodyHeight;var _y=_a.getElementsByTagName("Band");_d=_y.length;for(_b=0;_b<_d;_b++ ){_t=_y[_b];_h=_t.getAttribute("id");if(_h=="head"){if(this._headband==null){this._headband=new nexacro.GridBandInfo("head","head",this,this.parent);}_r=this._headband;}else if(_h=="summary"){if(this._summband==null){this._summband=new nexacro.GridBandInfo("summary","summ",this,this.parent);}_r=this._summband;}else{_h="body";if(this._bodyband==null){this._bodyband=new nexacro.GridBandInfo("body","body",this,this.parent);}_r=this._bodyband;}_q=_t.getAttribute("style");if(_q){_r.set_style(_q);}_q=_t.getAttribute("tooltiptext");if(_q){_r.set_tooltiptext(_q);}_q=_t.getAttribute("tooltiptype");if(_q){_r.set_tooltiptype(_q);}_q=_t.getAttribute("cellwordwrap");if(_q){_r.set_cellwordwrap(_q);}var _ab=_t.getElementsByTagName("Cell");_e=_ab.length;var _ac=null;var _ad=0;var _ae= -1;var _af=0;for(_c=0;_c<_e;_c++ ){if(_ad>0){_s=new nexacro.GridCellInfo(_h+_ae+"_sub"+_af,_r,this.parent,_h,_af);}else{_ae++ ;_s=new nexacro.GridCellInfo(_h+_ae,_r,this.parent,_h,_ae);}_u=_ab[_c];_i=_u.getAttribute("col");_m=_u.getAttribute("row");_k=_u.getAttribute("colspan");_o=_u.getAttribute("rowspan");_j=(_i==null?0:parseInt(_i));_n=(_m==null?0:parseInt(_m));var _ag=_u.getElementsByTagName("Cell");var _ah=0;if(_h=="head"&&this._headrows){_ah=this._headrows.length;}else if(_h=="summary"&&this._summrows){_ah=this._summrows.length;}else if(_h=="body"&&this._bodyrows){_ah=this._bodyrows.length;}if(_n>=_ah){delete _s;continue;}_l=(_k==null?1:parseInt(_k));_p=(_o==null?1:parseInt(_o));_s._col=_j;_s._colspan=_l;_s._row=_n;_s._rowspan=_p;_s._endcol=((_j+_l)==this.endbodycol);_q=_u.getAttribute("displaytype");if(_q){_s.set_displaytype(_q);}_q=_u.getAttribute("edittype");if(_q){_s.set_edittype(_q);}_q=_u.getAttribute("style");if(_q){_s.set_style(_q);}_q=_u.getAttribute("tooltiptext");if(_q){_s.set_tooltiptext(_q);}_q=_u.getAttribute("tooltiptype");if(_q){_s.set_tooltiptype(_q);}_q=_u.getAttribute("displayexpdec");if(_q){_s.set_displayexpdec(_q);}_q=_u.getAttribute("locale");if(_q){_s.set_locale(_q);}_q=_u.getAttribute("mask");if(_q){_s.set_mask(_q);}_q=_u.getAttribute("maskchar");if(_q){_s.set_maskchar(_q);}_q=_u.getAttribute("suppress");if(_q){_s.set_suppress(_q);}_q=_u.getAttribute("suppressalign");if(_q){_s.set_suppressalign(_q);}_q=_u.getAttribute("suppressedit");if(_q){_s.set_suppressedit(_q);}_q=_u.getAttribute("wordwrap");if(_q){_s.set_wordwrap(_q);}_q=_u.getAttribute("expr");if(_q){_s.set_expr(_q);}_q=_u.getAttribute("text");if(_q){_s.set_text(_q);}_q=_u.getAttribute("subsumtext");if(_q){_s.set_subsumtext(_q);}_q=_u.getAttribute("calendardisplay");if(_q){_s.set_calendardisplay(_q);}_q=_u.getAttribute("calendardisplaynulltext");if(_q){_s.set_calendardisplaynulltext(_q);}_q=_u.getAttribute("calendardisplaynulltype");if(_q){_s.set_calendardisplaynulltype(_q);}_q=_u.getAttribute("combodataset");if(_q){_s.set_combodataset(_q);}_q=_u.getAttribute("combocodecol");if(_q){_s.set_combocodecol(_q);}_q=_u.getAttribute("combodatacol");if(_q){_s.set_combodatacol(_q);}_q=_u.getAttribute("combodisplay");if(_q){_s.set_combodisplay(_q);}_q=_u.getAttribute("combodisplaynulltext");if(_q){_s.set_combodisplaynulltext(_q);}_q=_u.getAttribute("combodisplaynulltype");if(_q){_s.set_combodisplaynulltype(_q);}_q=_u.getAttribute("combodisplayrowcount");if(_q){_s.set_combodisplayrowcount(_q);}_q=_u.getAttribute("combotype");if(_q){_s.set_combotype(_q);}_q=_u.getAttribute("editacceptsenter");if(_q){_s.set_editacceptsenter(_q);}_q=_u.getAttribute("editacceptstab");if(_q){_s.set_editacceptstab(_q);}_q=_u.getAttribute("editautoselect");if(_q){_s.set_editautoselect(_q);}_q=_u.getAttribute("editautoskip");if(_q){_s.set_editautoskip(_q);}_q=_u.getAttribute("editclipmode");if(_q){_s.set_editclipmode(_q);}_q=_u.getAttribute("editdisplay");if(_q){_s.set_editdisplay(_q);}_q=_u.getAttribute("editfilter");if(_q){_s.set_editfilter(_q);}_q=_u.getAttribute("editimemode");if(_q){_s.set_editimemode(_q);}_q=_u.getAttribute("editlimit");if(_q){_s.set_editlimit(_q);}_q=_u.getAttribute("editlengthunit");if(_q){_s.set_editlengthunit(_q);}_q=_u.getAttribute("editlimitbymask");if(_q){_s.set_editlimitbymask(_q);}_q=_u.getAttribute("editscrollbar");if(_q){_s.set_editscrollbar(_q);}_q=_u.getAttribute("edittrimtype");if(_q){_s.set_edittrimtype(_q);}_q=_u.getAttribute("edituseime");if(_q){_s.set_edituseime(_q);}_q=_u.getAttribute("treecheck");if(_q){_s.set_treecheck(_q);}_q=_u.getAttribute("treecollapseimage");if(_q){_s.set_treecollapseimage(_q);}_q=_u.getAttribute("treeexpandimage");if(_q){_s.set_treeexpandimage(_q);}_q=_u.getAttribute("treeitemimage");if(_q){_s.set_treeitemimage(_q);}_q=_u.getAttribute("treeitemmargin");if(_q){_s.set_treeitemmargin(_q);}_q=_u.getAttribute("treelevel");if(_q){_s.set_treelevel(_q);}_q=_u.getAttribute("treestartlevel");if(_q){_s.set_treestartlevel(_q);}_q=_u.getAttribute("treestate");if(_q){_s.set_treestate(_q);}_q=_u.getAttribute("expandchar");if(_q){_s.set_expandchar(_q);}_q=_u.getAttribute("expandimage");if(_q){_s.set_expandimage(_q);}_q=_u.getAttribute("expandshow");if(_q){_s.set_expandshow(_q);}_q=_u.getAttribute("expandsize");if(_q){_s.set_expandsize(_q);}_q=_u.getAttribute("autosizecol");if(_q){_s.set_autosizecol(_q);}_q=_u.getAttribute("autosizerow");if(_q){_s.set_autosizerow(_q);}_q=_u.getAttribute("celltype");if(_q){_s.set_celltype(_q);}_q=_u.getAttribute("cssclass");if(_q){_s.set_cssclass(_q);}if(_ad>0){_s._isSubCell=true;_ac._subcells.push(_s);_ad-- ;_af++ ;}else{_af=0;if(_ag.length>0){_ad=_ag.length;_ac=_s;}else{_ac=null;}if(_h=="head"){this._addHeadCell(_s);}else if(_h=="summary"){this._addSummCell(_s);}else{this._addBodyCell(_s);}}}}this._bodycells=this._sortCellIdx(this._bodycells,this._bodyrows);this._headcells=this._sortCellIdx(this._headcells,this._headrows);this._summcells=this._sortCellIdx(this._summcells,this._summrows);};_pGridFormat._sortCellIdx=function(_a,_b){if(!_a||!_b){return null;}var _c=[];var _d=_a.length;var _e=_b.length;var _f=0;for(var _g=0;_g<_e;_g++ ){for(var _h=0;_h<_d;_h++ ){if(_a[_h]._row==_g){_a[_h]._cellidx=_f++ ;_c.push(_a[_h]);}}}return _c;};_pGridFormat._adjustColSizing=function(_a,_b){if(_b!=0){var _c=this._cols.length;if(_c==0&&!this._cols[_a]){return false;}var _d=this._cols[_a]._area;if(_d=="body"){this.bodyWidth=this._bodyWidth=this._bodyWidth+_b;}else if(_d=="left"){this.leftWidth+=_b;}else{this.rightWidth+=_b;}var _e;var _f=0;for(var _g=0;_g<_c;_g++ ){if(_g<_a){continue;}else if(_g==_a){_e=this._cols[_g];if(_e._area!=_d){continue;}_e.right+=_b;_e.size+=_b;}else{_e=this._cols[_g];if(_e._area!=_d){continue;}_e.left+=_b;_e.right+=_b;}}this._updateFormatStr();return true;}return false;};_pGridFormat._adjustColWidth=function(_a,_b){if(_a==0){return false;}var _c=false;if(this._bodyWidth!=_a){_c=true;}this._bodyWidth=_a;var _d=_a/this.bodyWidth;this.bodyWidth=this._bodyWidth;var _e=this._cols.length;var _f;var _g=0;if(!_b.length){for(var _h=0;_h<_e;_h++ ){_f=this._cols[_h];if(_f._area!="body"){continue;}_f.left=_g;_f.size=Math.round(_f.size*_d);_b[_h]=_f.size/_a;_g=_g+_f.size;_f.right=_g;}}else{for(var _h=0;_h<_e;_h++ ){_f=this._cols[_h];if(_f._area!="body"){continue;}_f.left=_g;_f.size=Math.round(_a*_b[_h]);_g=_g+_f.size;_f.right=_g;}}return _c;};_pGridFormat._adjustRowHeight=function(_a){if(_a==0){_a=0.1;}if(this._body_height!=_a){this._body_height=_a;var _b=_a/this.bodyHeight;this.bodyHeight=this._body_height;if(!this._rows){return true;}var _c=this._rows.length;var _d;var _e=0;for(var _f=0;_f<_c;_f++ ){_d=this._rows[_f];if(_d._area!="body"){continue;}_d.top=_e;_d.size=(_d.size*_b);_e=_e+_d.size;_d.bottom=_e;}return true;}return false;};_pGridFormat._defaultColSize=40;_pGridFormat._appendContentsCol=function(_a,_b,_c,_d,_e,_f){var _g=(_c)?_c.length:0;var _h=(_d)?_d.length:0;var _i=null;for(var _j=0;_j<_g;_j++ ){_c[_j]._endcol=false;if(_c[_j]._col>=_f){_c[_j]._col++ ;}}for(var _j=0;_j<_h;_j++ ){_i=new nexacro.GridCellInfo(_a+_g,_b,this.parent,_a,_g);_i.celltype=_a;_i._col=_f;_i._colspan=1;_i._row=_j;_i._rowspan=1;this[_e](_i);_g++ ;}_c[_c.length-1]._endcol=true;this._arrangeCellIdx(_a);this._updateFormatStr();};_pGridFormat._arrangeCellIdx2=function(_a,_b){var _c=0;var _d;var _e=[];for(var _f=0;_f<_b;_f++ ){for(var _g=0;_g<_a.length;_g++ ){_d=_a[_g];if(_f==_d._row){_d._cellidx=_c;_e[_c++ ]=_d;_a.splice(_g,1);_g-- ;}}}return _e;};_pGridFormat._arrangeCellIdx=function(_a){var _b=this._bodycells;var _c=this._bodyrows;if(_a=="body"){_b=this._bodycells;_c=this._bodyrows;}else if(_a=="summ"||_a=="summary"){_b=this._summcells;_c=this._summrows;}else if(_a=="head"){_b=this._headcells;_c=this._headrows;}var _d=(_c)?_c.length:0;var _e=this._arrangeCellIdx2(_b,_d);if(_a=="body"){this._bodycells=_e;}else if(_a=="summ"||_a=="summary"){this._summcells=_e;}else if(_a=="head"){this._headcells=_e;}};_pGridFormat.appendContentsCol=function(_a,_b){var _c="body";if(_b==undefined){_b=true;}_b=nexacro._toBoolean(_b);if(_b==false){var _f=this._getColFixCnt("right");if(_f){_c="right";}else{_c="body";}}else{if(_a){var _g=parseInt(_a,10);if(isFinite(_g)){if(_g== -1){_c="left";}else if(_g== -2){_c="right";}else{_c="body";}}else if(_a.length){_c=_a.toLowerCase();}}}var _d=this._cols.length;var _e=this._defaultColSize;if(_c=="left"){_d=this._getColFixCnt("left");this._addLeftColumn(_e);}else if(_c=="right"){_d=this._cols.length;this._addRightColumn(_e);}else{_d=this._getColFixCnt("left");_d+=this._getColFixCnt("body");this._addBodyColumn(_e);this.endbodycol=this._cols.length;}if(this._bodyband){var _h="body";var _i=this._bodyband;var _j=this._bodycells;var _k=this._bodyrows;var _l="_addBodyCell";this._appendContentsCol(_h,_i,_j,_k,_l,_d);}if(this._headband){_h="head";_i=this._headband;_j=this._headcells;_k=this._headrows;_l="_addHeadCell";this._appendContentsCol(_h,_i,_j,_k,_l,_d);}if(this._summband){_h="summary";_i=this._summband;_j=this._summcells;_k=this._summrows;_l="_addSummCell";this._appendContentsCol(_h,_i,_j,_k,_l,_d);}this._rearrangeCols();return _d;};_pGridFormat._moveContentsCol=function(_a,_b,_c,_d,_e,_f){if(!_b){return;}var _g=_b.length;var _h=(this._cols)?(this._cols.length-1): -1;var _i,_j;var _k={};var _l,_m,_n;for(var _o=0;_o<_g;_o++ ){_i=_b[_o];_l=_i._col;if(_l==_c){_m=_l;}if(_l==_d){_n=_l;}_k[_l]=_i._area;}for(var _o=0;_o<_g;_o++ ){_i=_b[_o];_j=_i._col;if(_i._orgcol==undefined){_i._orgcol=_j;}if(_j==_c){_i._area=_k[_d];_i._col=_d;}else{if(_c<_d){if(_j>_c&&_j<=_d){_i._col-- ;}}else{if(_j<_c&&_j>=_d){_i._col++ ;}}}if(_i._col==_h){_i._endcol=true;}else{_i._endcol=false;}}this._arrangeCellIdx(_a);this._updateFormatStr();};_pGridFormat._reIndexCells=function(_a,_b){if(!_a||!_b){return;}var _c=_b.length;var _d=_a.length;var _e=0,_f=0,_g=0;var _h=[],_i=[];for(_e=0;_e<_c;_e++ ){_h=[];_g=0;for(_f=0;_f<_d;_f++ ){if(_a[_f]._row==_e){_h[_g++ ]=_a[_f];}}_h.sort(function(_j,_k){return _j._col-_k._col;});_i=_i.concat(_h);}for(_e=0;_e<_d;_e++ ){_i[_e]._cellidx=_e;}return _i;};_pGridFormat._insertContentsCol=function(_a,_b,_c,_d,_e,_f){var _g=_f;var _h=_c.length;var _i=_d.length;var _j=null;var _k=[];for(var _n=0;_n<_h;_n++ ){_j=_c[_n];if(_j._col<_f&&(_j._col+_j._colspan-1)>=_f){_k.push(_j);}}var _l;if(_k.length>0){for(var _n=0;_n<_k.length;_n++ ){_l=_k[_n];_l._colspan++ ;if(_l._subcells.length>0){var _o=_g-_l._col;_j=new nexacro.GridCellInfo(_a+_h+"_sub"+_o,_b,this.parent,_a,_l._subcells.length);_j.celltype=_a;_j._col=_o;_j._colspan=1;_j._row=0;_j._rowspan=1;_j._isSubCell=true;this._insertCell(_l._subcells,_j,_o,0);}for(var _p=0;_p<_h;_p++ ){_j=_c[_p];if(_j._col>=_f&&_j._row==_l._row){_j._col++ ;}}}}for(var _n=0;_n<_i;_n++ ){for(var _p=0;_p<_k.length;_p++ ){_l=_k[_p];if(_l._row==_n){break;}}if(_l&&_l._row==_n){continue;}_j=new nexacro.GridCellInfo(_a+_h,_b,this.parent,_a,_h);_j.celltype=_a;_j._col=_g;_j._colspan=1;_j._row=_n;_j._rowspan=1;this[_e](_j,_g,_n);_h++ ;}var _m=(this._cols)?(this._cols.length-1): -1;_h=_c.length;for(var _n=0;_n<_h;_n++ ){_j=_c[_n];if(_j._col==_m){_j._endcol=true;}else{_j._endcol=false;}}this._arrangeCellIdx(_a);this._updateFormatStr();};_pGridFormat.insertContentsCol=function(_a,_b,_c){var _d="body";if(_c==undefined){_c=true;}_c=nexacro._toBoolean(_c);var _e=this._getColFixCnt("left");var _f=this._getColFixCnt("body");var _g=this._getColFixCnt("right");if(_a!=undefined){var _i=parseInt(_a,10);if(isFinite(_i)){if(_b!=undefined){if(_i== -1){_d="left";}else if(_i== -2){_d="right";}else{_d="body";}if(_b<0){_b=0;}if(_c){if(_d=="body"){_b+=_e;}else if(_d=="right"){_b+=_e;_b+=_f;}if(_d=="left"){if(_b>_e){_b=_e;}}else if(_d=="body"){if(_b>_e+_f){_b=_e+_f;}}else{if(_b>_e+_f+_g){_b=_e+_f+_g;}}}else{if(_b>this._cols.length){_b=this._cols.length;}if(_b<_e){_d="left";}else if(_b>=_e+_f&&_b<_e+_f+_g){_d="right";}else{_d="body";}}}else{if(_i<0){_i=0;}else if(_i>this._cols.length){_i=this._cols.length;}_b=_i;}}else if(_a.length){_d=_a.toLowerCase();if(_b==undefined){return  -1;}else if(_b<0){_b=0;}if(_c){if(_d=="body"){_b+=_e;}else if(_d=="right"){_b+=_e;_b+=_f;}if(_d=="left"){if(_b>_e){_b=_e;}}else if(_d=="body"){if(_b>_e+_f){_b=_e+_f;}}else{if(_b>_e+_f+_g){_b=_e+_f+_g;}}}else{if(_b>this._cols.length){_b=this._cols.length;}if(_b<_e){_d="left";}else if(_b>=_e+_f&&_b<_e+_f+_g){_d="right";}else{_d="body";}}}}var _h=this._defaultColSize;if(_d=="left"){this._insertLeftColumn(_h,_b);}else if(_d=="right"){this._insertRightColumn(_h,_b);}else{this._insertBodyColumn(_h,_b);this.endbodycol=this._cols.length;}if(this._bodyband){var _j="body";var _k=this._bodyband;var _l=this._bodycells;var _m=this._bodyrows;var _n="_insertBodyCell";this._insertContentsCol(_j,_k,_l,_m,_n,_b);}if(this._headband){_j="head";_k=this._headband;_l=this._headcells;_m=this._headrows;_n="_insertHeadCell";this._insertContentsCol(_j,_k,_l,_m,_n,_b);}if(this._summband){_j="summary";_k=this._summband;_l=this._summcells;_m=this._summrows;_n="_insertSummCell";this._insertContentsCol(_j,_k,_l,_m,_n,_b);}this._rearrangeCols();return _b;};_pGridFormat._defaultRowSize=24;_pGridFormat._appendContentsRow=function(_a,_b,_c,_d,_e,_f){var _g=(_d)?_d.length:0;var _h=this._defaultRowSize;this[_e](_h);var _i=(_c)?_c.length:0;var _j=this._cols.length;var _k=null;if(_j==0){this._addBodyColumn(this._defaultColSize);_j=this._cols.length;}for(var _l=0;_l<_j;_l++ ){_k=new nexacro.GridCellInfo(_a+_i,_b,this.parent,_a,_i);_k.celltype=_a;_k._col=_l;_k._colspan=1;_k._row=_g;_k._rowspan=1;_k._endcol=((_l+1)==this.endbodycol);this[_f](_k);_i++ ;}this._updateFormatStr();return _g;};_pGridFormat.appendContentsRow=function(_a,_b){var _c="";if(_a!=undefined){var _e=parseInt(_a,10);if(isFinite(_e)){if(_e== -1){_c="head";}else if(_e== -2){_c="summ";}else if(_e>=0){_c="body";}}else if(_a.length){_c=_a.toLowerCase();}if(_c==""){return  -1;}}var _d= -1;if(_c=="head"){if(this._headband==null){this._headband=new nexacro.GridBandInfo("head","head",this,this.parent);}var _f=this._headband;var _g=this._headcells;var _h=this._headrows;var _i="_addHeadRow";var _j="_addHeadCell";_d=this._appendContentsRow("head",_f,_g,_h,_i,_j);}else if(_c=="summ"||_c=="summary"){if(this._summband==null){this._summband=new nexacro.GridBandInfo("summary","summ",this,this.parent);}var _f=this._summband;var _g=this._summcells;var _h=this._summrows;var _i="_addSummRow";var _j="_addSummCell";_d=this._appendContentsRow("summary",_f,_g,_h,_i,_j);}else if(_c=="body"){if(this._bodyband==null){this._bodyband=new nexacro.GridBandInfo("body","body",this,this.parent);}var _f=this._bodyband;var _g=this._bodycells;var _h=this._bodyrows;var _i="_addBodyRow";var _j="_addBodyCell";_d=this._appendContentsRow("body",_f,_g,_h,_i,_j);}return _d;};_pGridFormat._deleteRowCell=function(_a,_b){var _c=this._bodycells;if(_a=="head"){_c=this._headcells;}else if(_a=="summ"){_c=this._summcells;}if(_c==null||_c.length==0){return undefined;}var _d,_e;for(var _f=0;_f<_c.length;_f++ ){if(_c[_f]._row==_b){_d=_c[_f]._colspan;_e=_c[_f]._rowspan;if(_e==1){delete _c[_f];_c.splice(_f,1);_f-- ;}else{var _g=_c[_f]._subcells;var _h;for(var _i=0;_i<_g.length;_i++ ){_h=_g[_i];if(_h._row+_c[_f]._row==_b){delete _h;_g.splice(_i,1);for(var _j=_i;_j<_g.length;_j++ ){_g[_j]._cellidx-- ;}_i-- ;}else if(_h._row+_c[_f]._row>_b){_h._row-- ;}else if(_h._row+_c[_f]._row<_b&&(_h._row+_c[_f]._row+_h._rowspan-1)>=_b){_h._rowspan-- ;}}_c[_f]._rowspan-- ;}}else if(_c[_f]._row>_b){_c[_f]._row-- ;}else{if((_c[_f]._row+_c[_f]._rowspan-1)>=_b){var _g=_c[_f]._subcells;var _h;for(var _i=0;_i<_g.length;_i++ ){_h=_g[_i];if(_h._row+_c[_f]._row==_b){delete _h;_g.splice(_i,1);for(var _j=_i;_j<_g.length;_j++ ){_g[_j]._cellidx-- ;}_i-- ;}else if(_h._row+_c[_f]._row>_b){_h._row-- ;}else if(_h._row+_c[_f]._row<_b&&(_h._row+_c[_f]._row+_h._rowspan-1)>=_b){_h._rowspan-- ;}}_c[_f]._rowspan-- ;}}}this._arrangeCellIdx(_a);this._updateFormatStr();};_pGridFormat._deleteRow=function(_a,_b){_a=_a.toLowerCase();this._deleteRowCell(_a,_b);var _c=this._bodyrows;if(_a=="head"){_c=this._headrows;}else if(_a=="summ"){_c=this._summrows;}if(_c==null||_c.length==0||_c.length<=_b){return  -1;}var _d=_c[_b].size;_c.splice(_b,1);var _e=_c.length;for(var _f=_b;_f<_e;_f++ ){_c[_f].top-=_d;_c[_f].bottom-=_d;}if(_a=="head"){this.headHeight-=_d;}else if(_a=="summ"){this.summHeight-=_d;}else{this._body_height=this.bodyHeight-=_d;}return _b;};_pGridFormat.deleteContentsRow=function(_a,_b,_c){var _d="";if(_c==undefined){_c=true;}if(_a!=undefined){var _e=parseInt(_a,10);if(isFinite(_e)){if(_e== -1){_d="head";}else if(_e== -2){_d="summ";}else if(_e>=0){_d="body";}}else if(_a.length){_d=_a.toLowerCase();}if(_d==""){return  -1;}}return this._deleteRow(_d,_b);};_pGridFormat._insertContentsRow=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._defaultRowSize;this[_e](_g,_h);var _i=(_c)?_c.length:0;var _j=this._cols.length;var _k=null;if(_j==0){this._addBodyColumn(this._defaultColSize);_j=this._cols.length;}var _l=[];for(var _m=0;_m<_i;_m++ ){_k=_c[_m];if(_k._row<_g){if((_k._row+_k._rowspan-1)>=_g){_l.push(_k);}}else{_k._row++ ;}}if(_l.length>0){var _n,_o;for(var _m=0;_m<_l.length;_m++ ){_n=_l[_m];_o=_n._subcells;_n._rowspan++ ;if(_o.length){for(var _p=0;_p<_o.length;_p++ ){if(_o[_p]._row>=_g-_n._row){_o[_p]._row++ ;}}for(var _p=_n._col;_p<_n._col+_n._colspan;_p++ ){_k=new nexacro.GridCellInfo(_a+_n._cellidx+"_sub"+_o.length,_b,this.parent,_a,_o.length);_k.celltype=_a;_k._col=_p;_k._colspan=1;_k._row=_g-_n._row;_k._rowspan=1;_k._endcol=((_p+1)==this.endbodycol);this._addCell(_o,_k);}_n._subcells=this._arrangeCellIdx2(_o,_n._rowspan);}}for(var _m=(_n._col+_n._colspan);_m<_j;_m++ ){_k=new nexacro.GridCellInfo(_a+_i,_b,this.parent,_a,_i);_k.celltype=_a;_k._col=_m;_k._colspan=1;_k._row=_g;_k._rowspan=1;_k._endcol=((_m+1)==this.endbodycol);this[_f](_k);_i++ ;}}else{for(var _m=0;_m<_j;_m++ ){_k=new nexacro.GridCellInfo(_a+_i,_b,this.parent,_a,_i);_k.celltype=_a;_k._col=_m;_k._colspan=1;_k._row=_g;_k._rowspan=1;_k._endcol=((_m+1)==this.endbodycol);this[_f](_k);_i++ ;}}this._arrangeCellIdx(_a);this._updateFormatStr();return _g;};_pGridFormat.insertContentsRow=function(_a,_b,_c){var _d="";if(_c==undefined){_c=true;}if(_a!=undefined){var _f=parseInt(_a,10);if(isFinite(_f)){if(_f== -1){_d="head";}else if(_f== -2){_d="summ";}else if(_f>=0){_d="body";}}else if(_a.length){_d=_a.toLowerCase();}if(_d==""){return  -1;}}var _e= -1;if(_b<0){return  -1;}if(_d=="head"){if(this._headband==null){this._headband=new nexacro.GridBandInfo("head","head",this,this.parent);}var _g=this._headband;var _h=this._headcells;var _i=this._headrows;var _j="_insertHeadRow";var _k="_addHeadCell";if(_b>_i.length){_b=_i.length;}_e=this._insertContentsRow("head",_g,_h,_i,_j,_k,_b);}else if(_d=="summ"||_d=="summary"){if(this._summband==null){this._summband=new nexacro.GridBandInfo("summary","summ",this,this.parent);}var _g=this._summband;var _h=this._summcells;var _i=this._summrows;var _j="_insertSummRow";var _k="_addSummCell";if(_b>_i.length){_b=_i.length;}_e=this._insertContentsRow("summary",_g,_h,_i,_j,_k,_b);}else{if(this._bodyband==null){this._bodyband=new nexacro.GridBandInfo("body","body",this,this.parent);}var _g=this._bodyband;var _h=this._bodycells;var _i=this._bodyrows;var _j="_insertBodyRow";var _k="_addBodyCell";if(_b>_i.length){_b=_i.length;}_e=this._insertContentsRow("body",_g,_h,_i,_j,_k,_b);}return _e;};_pGridFormat._deleteColCell=function(_a){var _b=this._headcells;var _c=this._summcells;var _d=this._bodycells;var _e=(this._cols)?(this._cols.length-1): -1;if(!_b&&!_c&&!_d){return undefined;}var _f=function(_g,_a){if(!_g){return;}for(var _h=0;_h<_g.length;_h++ ){if(_g[_h]._col==_e){_g[_h]._endcol=true;}else{_g[_h]._endcol=false;}if(_g[_h]._col==_a){var _i=_g[_h]._colspan;var _j=_g[_h]._rowspan;if(_i==1){delete _g[_h];_g.splice(_h,1);for(var _k=_h;_k<_g.length;_k++ ){_g[_k]._cellidx-- ;}_h-- ;}else{var _a=_g[_h]._col;_g[_h]._colspan-- ;_f(_g[_h]._subcells,0);}}else if(_g[_h]._col>_a){_g[_h]._col-- ;}else{if((_g[_h]._col+_g[_h]._colspan-1)>=_a){_g[_h]._colspan-- ;var _l=_a-_g[_h]._col;_f(_g[_h]._subcells,_l);}}}};_f(_b,_a);_f(_c,_a);_f(_d,_a);};_pGridFormat._deleteColumn=function(_a,_b){var _c=this._cols;if(_c==null||_c.length==0||_c.length<=_b){return  -1;}if(_c[_b]._area!=_a){return  -1;}this._deleteColCell(_b);var _d=_c[_b].size;_c.splice(_b,1);var _e=_c.length;if(_a=="left"){for(var _f=_b;_f<_e;_f++ ){if(_c[_f]._area=="left"){_c[_f].left-=_d;_c[_f].right-=_d;}}this.leftWidth-=_d;}else if(_a=="right"){for(var _f=_b;_f<_e;_f++ ){if(_c[_f]._area=="right"){_c[_f].left-=_d;_c[_f].right-=_d;}}this.rightWidth-=_d;}else{for(var _f=_b;_f<_e;_f++ ){if(_c[_f]._area=="body"){_c[_f].left-=_d;_c[_f].right-=_d;}}this.bodyWidth-=_d;this._bodyWidth=this.bodyWidth;this.endbodycol=this._cols.length;}this._updateFormatStr();return _b;};_pGridFormat._getColFixCnt=function(_a){var _b=0;var _c=0;var _d=0;var _e=this._cols;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){if(_e[_g]._area=="left"){_b++ ;}else if(_e[_g]._area=="body"){_c++ ;}else if(_e[_g]._area=="right"){_d++ ;}}if(_a=="left"){return _b;}else if(_a=="right"){return _d;}else{return _c;}};_pGridFormat.deleteContentsCol=function(_a,_b,_c){if(_c==undefined){_c=false;}var _d="body";if(_a!=undefined){var _f=parseInt(_a,10);if(isFinite(_f)){if(_b!=undefined){if(_f== -1){_d="left";}else if(_f== -2){_d="right";}else{_d="body";}if(_b<0){return  -1;}else if(_b>this._cols.length){return  -1;}}else{if(_f<0){return  -1;}else if(_f>this._cols.length){return  -1;}_b=_f;}}else if(_a.length){_d=_a.toLowerCase();if(_b==undefined){return  -1;}}}if(_c==true){if(_d=="body"){_b+=this._getColFixCnt("left");}else if(_d=="right"){_b+=this._getColFixCnt("left");_b+=this._getColFixCnt("body");}}else{var _g=this._getColFixCnt("left");var _h=this._getColFixCnt("body");var _i=this._getColFixCnt("right");if(_b<_g){_d="left";}else if(_b>=_g+_h&&_b<_g+_h+_i){_d="right";}else{_d="body";}}if(this._cols.length<=_b||_b<0){return  -1;}var _e=this._deleteColumn(_d,_b);this._rearrangeCols();return _e;};_pGridFormat.mergeContentsCell=function(_a,_b,_c,_d,_e,_f,_g){var _h=_a.toLowerCase();if(_h!="head"&&_h!="summ"){if(_h=="summary"){_h="summ";}else{_h="body";}}var _i=parseInt(_b,10);var _j=parseInt(_c,10);var _k=parseInt(_d,10);var _l=parseInt(_e,10);var _m=parseInt(_f,10);if(!isFinite(_i)||!isFinite(_j)||!isFinite(_k)||!isFinite(_l)){return  -1;}if(_j>_l||_i>_k){return  -1;}var _n=this._cols.length;if(_j<0||_j>=_n||_l<0||_l>=_n){return  -1;}var _o=null;var _p=null;if(_h=="head"){_o=this._headrows;_p=this._headcells;}else if(_h=="summ"){_o=this._summrows;_p=this._summcells;}else{_o=this._bodyrows;_p=this._bodycells;}var _q=(_p)?_p.length:0;var _r=(_o)?_o.length:0;if(_q==0){return  -1;}if(_i<0||_i>=_r||_k<0||_k>=_r){return  -1;}var _s;var _t= -1;var _u=[];for(var _z=0;_z<_q;_z++ ){var _aa=_p[_z];if((_aa._row>=_i&&_aa._row<=_k)&&(_aa._col>=_j&&_aa._col<=_l)){if(_s&&_s!=_p[_z]._area){return  -1;}else{_s=_p[_z]._area;}_u[_z]=true;if(_aa._rowspan>1||_aa._colspan>1){_t=_z;}}else{_u[_z]=false;}}if(_t>=0&&_p[_t]._rowspan>_k&&_p[_t]._colspan>_l){return  -1;}if(!_m||_m<0){_m=0;}var _v= -1;var _w=_p[_m];var _x=[];for(var _z=_q-1;_z>=0;_z-- ){var _aa=_p[_z];var _ab=_aa._row;var _ac=_aa._col;if(_u[_z]){if(_w._row<_i||_w._row>_k||_w._col<_j||_w._col>_l){return  -1;}if(_g){if(_p[_z]._col==_j&&_p[_z]._row==_i){var _ad=new nexacro.GridCellInfo(_p[_z].id,_p[_z].parent,_p[_z].grid,_p[_z].celltype,_p[_z]._cellidx);_ad._row=_p[_z]._row;_ad._rowspan=(_k-_i)+1;_ad._col=_p[_z]._col;_ad._colspan=(_l-_j)+1;_ad._isSubCell=false;_ad._area=_p[_z]._area;_ad._endcol=_p[_z]._endcol;_x.unshift(_p[_z]);for(var _ae=0;_ae<_x.length;_ae++ ){_x[_ae]._col-=_ad._col;_x[_ae]._row-=_ad._row;_x[_ae]._cellidx=_ae;_x[_ae]._isSubCell=true;_x[_ae]._id=_x[_ae].name=_p[_z].id+"_sub"+_ae;}_ad._subcells=_x;_p[_z]=_ad;_x=[];_v=_z;}else{_x.unshift(_p[_z]);_p.splice(_z,1);}}else{if(_p[_z]._col==_j&&_p[_z]._row==_i){_v=_p[_z]._cellidx;_w._row=_p[_z]._row;_w._col=_p[_z]._col;_w._rowspan=(_k-_i)+1;_w._colspan=(_l-_j)+1;_p[_z]=_w;}else{_p.splice(_z,1);}}}}var _y=_p.length;for(var _z=0;_z<_y;_z++ ){_p[_z]._cellidx=_z;}return _v;};_pGridFormat.splitContentsCell=function(_a,_b,_c,_d,_e,_f){var _g=null;var _h=null;var _i=this._cols;var _j=_a.toLowerCase();if(_j=="head"){_g=this._headrows;_h=this._headcells;}else if(_j=="summ"){_g=this._summrows;_h=this._summcells;}else{_g=this._bodyrows;_h=this._bodycells;}var _k=(_g)?_g.length:0;var _l=(_i)?_i.length:0;var _m=(_h)?_h.length:0;if(_k>0&&_l>0){if(_b<0||_d>=_k){if(_b<0){_b=0;}else{_d=_k-1;}}if(_c<0||_e>=_l){if(_c<0){_c=0;}else{_e=_l-1;}}var _n=[];var _o=0;var _p=0;var _q=null;var _r=null;var _s=null;for(var _t=0;_t<_m;_t++ ){var _u=_h[_t]._row;var _v=_h[_t]._col;var _w=_h[_t]._area;_q=_h[_t]._subcells;_r=(_h[_t]._colspan+_h[_t]._col)-1;_s=(_h[_t]._rowspan+_h[_t]._row)-1;if(_q.length>0){if((_r>=_c&&_r<=_e)&&(_s>=_b&&_s<=_d)){for(var _x=0;_x<_q.length;_x++ ){_p++ ;_q[_x]._row=_u;_q[_x]._col=_v;_q[_x]._area=_w;_q[_x]._cellidx=_v+(_l*_u);var _y=_q[_x]._rowspan;var _z=_q[_x]._colspan;if(_v<_h[_t]._col+(_h[_t]._colspan-1)){_v=_v+_z;}else{_u=_u+_y;_v=_h[_t]._col;}_n.push(_q[_x]);}}else{_h[_t]._cellidx=_h[_t]._col+(_h[_t]._row*_l);_n.push(_h[_t]);}}else{if(_f){if((_r>=_c&&_r<=_e)&&(_s>=_b&&_s<=_d)){if((_h[_t]._rowspan*_h[_t]._colspan)>1){var _aa=null;for(var _x=0;_x<(_h[_t]._rowspan*_h[_t]._colspan);_x++ ){_p++ ;_aa=new nexacro.GridCellInfo(_j+_o,_h[_t].parent,_h[_t].grid,_h[_t].celltype,_o);_aa._row=_u;_aa._col=_v;_aa._area=_w;_aa._rowspan=1;_aa._colspan=1;_aa._cellidx=_v+(_l*_u);_aa.text=_h[_t].text;if(_v<_h[_t]._col+(_h[_t]._colspan-1)){_v++ ;}else{_u++ ;_v=_h[_t]._col;}_n.push(_aa);}}else{_n.push(_h[_t]);}}else{_n.push(_h[_t]);}}else{_n.push(_h[_t]);}}}if(_p>0){_n.sort(function(_ab,_ac){return _ab._cellidx-_ac._cellidx;});for(var _t=0;_t<_n.length;_t++ ){_n[_t]._cellidx=_t;}if(_j=="head"){this._headcells=_n;}else if(_j=="summ"){this._summcells=_n;}else{this._bodycells=_n;}return _p;}}return  -1;};_pGridFormat.setBandProperty=function(_a,_b,_c){var _d=null;var _e=_a.toLowerCase();if(_e=="head"){_d=this._headband;}else if(_e=="summ"||_e=="summary"){_d=this._summband;}else{_d=this._bodyband;}if(_d){if(_d["set_"+_b]){_d["set_"+_b](_c);}else if(_d.style["set_"+_b]){_d.style["set_"+_b](_c);}this._updateFormatStr();return _d;}return undefined;};_pGridFormat.setSubCellProperty=function(_a,_b,_c,_d,_e){var _f=null;var _g=_a.toLowerCase();if(_g=="head"){if(this._headband){_f=this._headcells[_b];}}else if(_g=="summ"||_g=="summary"){if(this._summband){_f=this._summcells[_b];}}else{if(this._bodyband){_f=this._bodycells[_b];}}if(_f._subcells.length>_c&&_c>=0){_f=_f._subcells[_c];if(_f){if(_f["set_"+_d]){_f["set_"+_d](_e);}else if(_f.style["set_"+_d]){_f.style["set_"+_d](_e);}this._updateFormatStr();return _f;}}};_pGridFormat.setCellProperty=function(_a,_b,_c,_d){var _e=null;var _f=_a.toLowerCase();if(_f=="head"){if(this._headband){_e=this._headcells[_b];}}else if(_f=="summ"||_f=="summary"){if(this._summband){_e=this._summcells[_b];}}else{if(this._bodyband){_e=this._bodycells[_b];}}if(_e){if(_e["set_"+_c]){_e["set_"+_c](_d);}else if(_e.style["set_"+_c]){_e.style["set_"+_c](_d);}this._updateFormatStr();return _e;}};_pGridFormat.getSubCellProperty=function(_a,_b,_c,_d){var _e=null;var _f=_a.toLowerCase();if(_f=="head"){if(this._headband){_e=this._headcells[_b];}}else if(_f=="summ"||_f=="summary"){if(this._summband){_e=this._summcells[_b];}}else{if(this._bodyband){_e=this._bodycells[_b];}}if(_e._subcells.length>_c&&_c>=0){_e=_e._subcells[_c];if(_e){var _g=_e[_d];if(_g==undefined){_g=_e["_"+_d];}if(_g==undefined){_g=_e.style[_d];}if(_g!=undefined){var _h=typeof (_g);if(_h=="number"||_h=="string"){return _g;}else{var _i;if(_d=="expr"){_i=_g._bindexpr;}else{if(_g._bindtype==2){_i=_g._bindexpr;if(_i.indexOf("expr:")<0){_i="expr:"+_i;}}else{_i=_g._value;}}if(_i){return _i;}else{return _g;}}}}}return undefined;};_pGridFormat.getCellProperty=function(_a,_b,_c){var _d=null;var _e=_a.toLowerCase();if(_e=="head"){if(this._headband){_d=this._headcells[_b];}}else if(_e=="summ"||_e=="summary"){if(this._summband){_d=this._summcells[_b];}}else{if(this._bodyband){_d=this._bodycells[_b];}}if(_d){if(_c=="subcell"){return _d._subcells.length;}var _f=_d[_c];if(_f==undefined){_f=_d["_"+_c];}if(_f==undefined){_f=_d.style[_c];}if(_f!=undefined){var _g=typeof (_f);if(_g=="number"||_g=="string"){return _f;}else{var _h;if(_c=="expr"){_h=_f._bindexpr;}else{if(_f._bindtype==2){_h=_f._bindexpr;if(_h.indexOf("expr:")<0){_h="expr:"+_h;}}else{_h=_f._value;}}if(_h){return _h;}else{return _f;}}}}return null;};_pGridFormat.getBandProperty=function(_a,_b){var _c=null;var _d=_a.toLowerCase();if(_d=="head"){_c=this._headband;}else if(_d=="summ"||_d=="summary"){_c=this._summband;}else{_c=this._bodyband;}if(_c){var _e=_c[_b];if(_e==undefined){_e=_c["_"+_b];}if(_e==undefined){_e=_c.style[_b];}if(_e!=undefined){var _f=typeof (_e);if(_f=="number"||_f=="string"){return _e;}else{var _g;if(_b=="expr"){_g=_e._bindexpr;}else{_g=_e._value;}if(_g){return _g;}else{return _e;}}}}return null;};_pGridFormat._adjustFormatColSize=function(_a,_b){var _c=this._cols.length;var _d=0;var _e=0;var _f=0;var _g=null;for(var _h=0;_h<_c;_h++ ){_g=this._cols[_h];if(_g._area=="left"){_g.left=_d;_d+=_g.size;_g.right=_d;}else if(_g._area=="right"){_g.left=_f;_f+=_g.size;_g.right=_f;}else{_g.left=_e;_e+=_g.size;_g.right=_e;}if(_a){_g.orgleft=_g.left;_g.orgright=_g.right;}}this.leftWidth=_d;this._bodyWidth=this.bodyWidth=_e;this.rightWidth=_f;if(!_b){this._updateFormatStr();}};_pGridFormat._setColSize=function(_a,_b,_c){if(this._cols){var _d=this._cols[_a];var _e=parseFloat(_b,10);if(_d&&isFinite(_e)){var _f=_d.size;if(_e!=_f){_d.size=_e;this._adjustFormatColSize(false,_c);return true;}return false;}}};_pGridFormat.setFormatColProperty=function(_a,_b,_c){if(this._cols){if(_b=="size"){var _d=this._cols[_a];var _e=parseInt(_c,10);if(_d&&isFinite(_e)){var _f=_d.size;if(_e!=_f){_d.size=_d.orgsize=_e;this._adjustFormatColSize();return true;}return false;}}else if(_b=="band"){var _g=_c.toLowerCase();var _h=this._cols;var _i=this._cols.length;var _j,_k=false;for(var _l=0;_l<this._cols.length;_l++ ){_j=_h[_l];if(_g=="left"){if(_l<=_a&&_j._area!="left"){_j._area="left";_k=true;}}else if(_g=="right"){if(_l>=_a&&_j._area!="right"){_j._area="right";_k=true;}}else{if((_l>=_a&&_j._area=="left")||(_l<=_a&&_j._area=="right")){_j._area="body";_k=true;}}}function _apply_area(_m){if(_m){var _n=_m.length;var _o;for(var _l=0;_l<_n;_l++ ){_o=_m[_l];if(_g=="left"){if(_o._col<=_a){_o._area="left";}}else if(_g=="right"){if(_o._col>=_a){_o._area="right";}}else{if((_o._col>=_a&&_o._area=="left")||(_o._col<=_a&&_o._area=="right")){_o._area="body";}}}}}if(_k){_apply_area(this._headcells);_apply_area(this._bodycells);_apply_area(this._summcells);this._adjustFormatColSize(true);}return _k;}}return false;};_pGridFormat.getFormatColProperty=function(_a,_b){if(this._cols){if(_b=="size"){var _c=this._cols[_a];if(_c){return _c.orgsize;}}else if(_b=="band"){var _c=this._cols[_a];if(_c){return _c._area;}}else if(_b=="fix"){var _c=this._cols[_a];if(_c){if(_c._area=="left"||_c._area=="right"){return "fixed";}else{return "";}}}}return null;};_pGridFormat._adjustFormatRowSize=function(_a){var _b=_a.length;var _c=0;var _d=null;for(var _e=0;_e<_b;_e++ ){_d=_a[_e];_d.top=_c;_c+=_d.size;_d.bottom=_c;}return _c;};_pGridFormat.setFormatRowProperty=function(_a,_b,_c){if(_b=="size"){var _d=parseInt(_c,10);if(isFinite(_d)){var _e=_a;var _f=(this._headrows)?this._headrows.length:0;if(_e<_f){this._headrows[_e].size=_d;var _g=this.headHeight;this.headHeight=this._adjustFormatRowSize(this._headrows);if(this.headHeight!=_g){return true;}return false;}else{_e-=_f;}var _h=(this._bodyrows)?this._bodyrows.length:0;if(_e<_h){this._bodyrows[_e].size=_d;var _g=this.bodyHeight;this._body_height=this.bodyHeight=this._adjustFormatRowSize(this._bodyrows);if(this.bodyHeight!=_g){return true;}return false;}else{_e-=_h;}var _i=(this._summrows)?this._summrows.length:0;if(_e<_i){this._summrows[_e].size=_d;var _g=this.summHeight;this.summHeight=this._adjustFormatRowSize(this._summrows);if(this.summHeight!=_g){return true;}return false;}}}else if(_b=="band"){var _e=_a;var _j=_c.toLowerCase();return false;var _f=(this._headrows)?this._headrows.length:0;if(_e<_f){var _k=this._headrows[_e];if(_j=="body"){this._bodyrows.push(_k);this._headrows.splice(_e,1);this._body_height=this.bodyHeight=this._adjustFormatRowSize(this._bodyrows);this.headHeight=this._adjustFormatRowSize(this._headrows);return true;}else if(_j=="summ"||_j=="summary"){this._summrows.push(_k);this._headrows.splice(_e,1);this.summHeight=this._adjustFormatRowSize(this._summrows);this.headHeight=this._adjustFormatRowSize(this._headrows);return true;}}else{_e-=_f;}var _h=(this._bodyrows)?this._bodyrows.length:0;if(_e<_h){var _k=this._bodyrows[_e];if(_j=="head"){this._headrows.push(_k);this._bodyrows.splice(_e,1);this.headHeight=this._adjustFormatRowSize(this._headrows);this._body_height=this.bodyHeight=this._adjustFormatRowSize(this._bodyrows);return true;}else if(_j=="summ"||_j=="summary"){this._summrows.push(_k);this._bodyrows.splice(_e,1);this.summHeight=this._adjustFormatRowSize(this._summrows);this._body_height=this.bodyHeight=this._adjustFormatRowSize(this._bodyrows);return true;}}else{_e-=_h;}var _i=(this._summrows)?this._summrows.length:0;if(_e<_i){var _k=this._summrows[_e];if(_j=="head"){this._headrows.push(_k);this._summrows.splice(_e,1);this.headHeight=this._adjustFormatRowSize(this._headrows);this.summHeight=this._adjustFormatRowSize(this._summrows);return true;}else if(_j=="body"){this._bodyrows.push(_k);this._summrows.splice(_e,1);this._body_height=this.bodyHeight=this._adjustFormatRowSize(this._bodyrows);this.summHeight=this._adjustFormatRowSize(this._summrows);return true;}}}return false;};_pGridFormat.getFormatRowProperty=function(_a,_b){if(_b=="size"){var _c=_a;var _d=(this._headrows)?this._headrows.length:0;if(_c<_d){return this._headrows[_c].orgsize;}else{_c-=_d;}var _e=(this._bodyrows)?this._bodyrows.length:0;if(_c<_e){return this._bodyrows[_c].orgsize;}else{_c-=_e;}var _f=(this._summrows)?this._summrows.length:0;if(_c<_f){return this._summrows[_c].orgsize;}}else if(_b=="band"){var _c=_a;var _d=(this._headrows)?this._headrows.length:0;if(_c<_d){return "head";}else{_c-=_d;}var _e=(this._bodyrows)?this._bodyrows.length:0;if(_c<_e){return "body";}else{_c-=_e;}var _f=(this._summrows)?this._summrows.length:0;if(_c<_f){return "summ";}}return null;};delete _pGridFormat;};if(!nexacro.Grid){nexacro.GridDragEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z){nexacro.DragEventInfo.call(this,_a,_b||"ongriddrag",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r);this.cell=_s;this.col=_t;this.row=_y;this.subrow=_z;this.pivotindex=_x;this.mergecell=_u;this.mergecol=_v;this.mergerow=_w;};var _pGridDragEventInfo=nexacro._createPrototype(nexacro.DragEventInfo,nexacro.GridDragEventInfo);nexacro.GridDragEventInfo.prototype=_pGridDragEventInfo;_pGridDragEventInfo._type_name="GridDragEvent";delete _pGridDragEventInfo;nexacro.GridClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v){nexacro.ClickEventInfo.call(this,_a,_b||"ongridclick",_m,_n,_o,_p,_q,_r,_s,_t,_u,_v);this.cell=_h;this.col=_i;this.row=_j;this.subrow=_k;this.pivotindex=_l;this.oldcell=_c;this.oldcol=_d;this.oldrow=_e;this.oldsubrow=_f;this.oldpivotindex=_g;};var _pGridClickEventInfo=nexacro._createPrototype(nexacro.ClickEventInfo,nexacro.GridClickEventInfo);nexacro.GridClickEventInfo.prototype=_pGridClickEventInfo;_pGridClickEventInfo._type_name="GridClickEvent";_pGridClickEventInfo._is_event=true;delete _pGridClickEventInfo;nexacro.GridEditEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"ongridedit";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.col=_d;this.row=_f;this.subrow=_g;this.pivotindex=_e;this.value=_h;};var _pGridEditEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridEditEventInfo);nexacro.GridEditEventInfo.prototype=_pGridEditEventInfo;_pGridEditEventInfo._type_name="GridEditEvent";delete _pGridEditEventInfo;nexacro.GridTextChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this.id=this.eventid=_b||"ontextchange";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.chartext=_d;this.col=_e;this.pivotindex=_f;this.postimetext=_g;this.posttext=_h;this.preimetext=_i;this.pretext=_j;this.row=_k;this.subrow=_l;};var _pGridTextChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridTextChangeEventInfo);nexacro.GridTextChangeEventInfo.prototype=_pGridTextChangeEventInfo;_pGridTextChangeEventInfo._type_name="GridTextChangeEvent";_pGridTextChangeEventInfo.set_chartext=function(_a){this.chartext=_a;};_pGridTextChangeEventInfo.set_postimetext=function(_a){this.postimetext=_a;};delete _pGridTextChangeEventInfo;nexacro.GridTextChangedEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this.id=this.eventid=_b||"ontextchanged";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.col=_d;this.pivotindex=_e;this.posttext=_f;this.pretext=_g;this.row=_h;this.subrow=_i;};var _pGridTextChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridTextChangedEventInfo);nexacro.GridTextChangedEventInfo.prototype=_pGridTextChangedEventInfo;_pGridTextChangedEventInfo._type_name="GridTextChangedEvent";_pGridTextChangedEventInfo._is_event=true;delete _pGridTextChangedEventInfo;nexacro.GridFormatChangedEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"ongridformatchanged";this.fromobject=this.fromreferenceobject=_a;this.newvalue=_c;this.oldvalue=_d;this.reason=_e;};var _pGridFormatChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridFormatChangedEventInfo);nexacro.GridFormatChangedEventInfo.prototype=_pGridFormatChangedEventInfo;_pGridFormatChangedEventInfo._type_name="GridFormatChangedEvent";delete _pGridFormatChangedEventInfo;nexacro.GridSelectEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){this.id=this.eventid=_b||"ongridselect";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.col=_d;this.row=_e;this.subrow=_f;this.pivotindex=_g;this.oldcell=_h;this.oldcol=_i;this.oldrow=_j;this.oldpivotindex=_l;this.oldsubrow=_k;this.selectendcol=_m;this.selectendpivot=_n;this.selectendrow=_o;this.selectendsubrow=_p;this.selectstartcol=_q;this.selectstartpivot=_r;this.selectstartrow=_s;this.selectstartsubrow=_t;};var _pGridSelectEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridSelectEventInfo);nexacro.GridSelectEventInfo.prototype=_pGridSelectEventInfo;_pGridSelectEventInfo._type_name="GridSelectEvent";delete _pGridSelectEventInfo;nexacro.GridTreeStatusEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"ongridtreestatus";this.fromobject=this.fromreferenceobject=_a;this.cell=_c;this.realrow=_d;this.row=_e;this.reason=_f;};var _pGridTreeStatusEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridTreeStatusEventInfo);nexacro.GridTreeStatusEventInfo.prototype=_pGridTreeStatusEventInfo;_pGridTreeStatusEventInfo._type_name="GridTreeStatusEvent";delete _pGridTreeStatusEventInfo;nexacro.GridMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){nexacro.MouseEventInfo.call(this,_a,_b||"ongridmouse",_k,_l,_m,_n,_o,_p,_q,_r,_s,_t);this.cell=_c;this.col=_d;this.mergecell=_e;this.mergecol=_f;this.mergerow=_g;this.pivotindex=_h;this.row=_i;this.subrow=_j;};var _pGridMouseEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.GridMouseEventInfo);nexacro.GridMouseEventInfo.prototype=_pGridMouseEventInfo;_pGridMouseEventInfo._type_name="GridMouseEvent";delete _pGridMouseEventInfo;nexacro.GridSizeChangedEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.eventid=_a;this.formatindex=_b;this.index=_c;this.newvalue=_d;this.oldvalue=_e;this.reason=_f;this.subindex=_g;};var _pGridSizeChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.GridSizeChangedEventInfo);nexacro.GridSizeChangedEventInfo.prototype=_pGridSizeChangedEventInfo;_pGridSizeChangedEventInfo._type_name="GridSizeChangedEventInfo";delete _pGridSizeChangedEventInfo;nexacro.GridCell=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.subcells=[];this.parentcell=null;this.style=_g.style;this._is_subcontrol=true;this._refobj=_g;this._grid=this._refobj?this._refobj.grid:null;this._rowidx=_h;this._cellidx=_i;this._styles=_g._styles;this._expand_width=0;this._subComp=null;this._selected=false;this._text_elem=null;this._curDisplayType="";this._curEditDisplay="";this._treeLeftGap=0;this._expandCtrl=null;this._comboInnerDataset=null;this._isSubCell=false;this._disp_show=true;this._band=_f._band;this._fakecell=false;this._hideInner=false;this._is_real_upelem=null;this._clickcall=false;this._is_clickproc=false;this._accessibility_role="gridcell";this._row_cells_update_pseudo=false;this._refresh_display=false;};var _pGridCell=nexacro._createPrototype(nexacro.Component,nexacro.GridCell);nexacro.GridCell.prototype=_pGridCell;_pGridCell._type_name="GridCell";_pGridCell.on_mouseleave_basic_action=function(_a){this._row_cells_update_pseudo=true;var _b=nexacro.Component.prototype.on_mouseleave_basic_action.call(this,_a);this._row_cells_update_pseudo=false;return _b;};_pGridCell.on_apply_custom_pseudo=function(_a){var _b=this.getElement();var _c=this._grid;if(!_b){return;}if(!_a){_a=this._pseudo;}var _d=this.currentstyle;var _e=this.on_find_CurrentStyle_font(_a);if(_d.font!=_e){_d.font=_e;this.on_apply_style_font(_e);}var _f=this.on_find_CurrentStyle_color(_a);if(_d.color!=_f){_d.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_align(_a);if(_d.align!=_g){_d.align=_g;this.on_apply_style_align(_g);}var _h=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_d.rtlimagemirroring!=_h){_d.rtlimagemirroring=_h;this.on_apply_style_rtlimagemirroring(_h);}this._display_text=this._getDisplayText();this.on_apply_prop_tooltip();if(this._is_created&&(_c._mouseovercell==this||this._row_cells_update_pseudo==true)){if(!_c._ReasonRefresh){_c.on_apply_cell_pseudo(this,_a);}}};_pGridCell.on_create_custom_style=function(){return null;};_pGridCell.on_create_custom_currentStyle=function(){return new nexacro.GridCell_CurrentStyle();};_pGridCell.on_find_CurrentStyle_accessibility=function(_a){if(this._refobj&&!this._isSubCell){var _b=this._grid,_c=_b._getDataRow(this._rowidx);return this._refobj._query_pseudo_accessibility(_c,_a);}return null;};_pGridCell.on_find_CurrentStyle_background=function(_a){if(this._refobj&&!this._isSubCell){var _b=(this._rowidx>=0)?(this._rowidx%2):false,_c=this._grid,_d=_c._getDataRow(this._rowidx);return this._refobj._query_pseudo_background(_d,_b,this._isSelected(),_a);}return null;};_pGridCell.on_find_CurrentStyle_border=function(_a){var _b=this;if(this._refobj&&!this._isSubCell){var _c=_b._getSuppressInfo().border_proc;if(this._getDisplayRowIdx()==this._grid._getDispRowCnt()-1){_c=0;}var _d=this._grid,_e=_d._getDataRow(this._rowidx);var _f=this._refobj._query_pseudo_border(_e,this._isSelected(),_a,_c);var _g=_d._checkFakeMerge(this._refobj,_e);if(_g){var _h=_f.clone();if(_g.indexOf("right")>=0){_h.set_right("0px none transparent");}else if(_g.indexOf("left")>=0){_h.set_left("0px none transparent");}if(_g.indexOf("bottom")>=0){_h.set_bottom("0px none transparent");}else if(_g.indexOf("top")>=0){_h.set_top("0px none transparent");}return _h;}return _f;}return null;};_pGridCell.on_find_CurrentStyle_bordertype=function(_a){return null;};_pGridCell.on_find_CurrentStyle_gradation=function(_a){if(this._refobj&&!this._isSubCell){var _b=(this._rowidx>=0)?(this._rowidx%2):false,_c=this._grid,_d=_c._getDataRow(this._rowidx);return this._refobj._query_pseudo_gradation(_d,_b,this._isSelected(),_a);}return null;};_pGridCell.on_find_CurrentStyle_padding=function(_a){if(this._refobj){if(this.subcells.length>0){return nexacro.Component._default_padding;}var _b=this._grid,_c=_b._getDataRow(this._rowidx);return this._refobj._query_pseudo_padding(_c,_a);}return null;};_pGridCell.on_find_CurrentStyle_opacity=function(_a){return null;};_pGridCell.on_find_CurrentStyle_cursor=function(_a){if(this._isSubCell){return this.parent.on_find_CurrentStyle_cursor(_a);}if(this._refobj){var _b=this._grid,_c=_b._getDataRow(this._rowidx);if(_b._global_cursor){return _b._global_cursor;}return this._refobj._query_pseudo_cursor(_c,_a);}return null;};_pGridCell.on_find_CurrentStyle_shadow=function(_a){return null;};_pGridCell.on_find_CurrentStyle_font=function(_a){if(this._refobj){var _b=this._grid,_c=_b._getDataRow(this._rowidx);return this._refobj._query_pseudo_font(_c,this._isSelected(),_a);}return null;};_pGridCell.on_find_CurrentStyle_color=function(_a){var _b=this;if(this._isSubCell){_b=this.parentcell;}if(this._refobj){var _c=(this._rowidx>=0)?(this._rowidx%2):false;var _d=this._grid;var _e=_d._getDataRow(this._rowidx);return this._refobj._query_pseudo_color(_e,_c,_b._selected,_a);}return null;};_pGridCell.on_find_CurrentStyle_align=function(_a){if(this._refobj){var _b=this._curDisplayType;var _c=this._grid;var _d=_c._getDataRow(this._rowidx);if(_b==""){_b=this._refobj._getAttrValue(this._refobj.displaytype,_d);}if(_b===undefined){_b="normal";}var _e=this._refobj._query_pseudo_align(_d,_b,_a);return _e;}return null;};_pGridCell.on_find_CurrentStyle_rtlimagemirroring=function(_a){return this._grid.on_find_CurrentStyle_rtlimagemirroring(_a);};_pGridCell.on_create_contents=function(){this._disp_show=this._updateDisplayer();};_pGridCell.on_created_contents=function(){var _a=this.getElement();if(_a){if(this.subcells.length==0){var _b=this._subComp;if(_b){_b.on_created();}}var _c=this._expandCtrl;if(_c){_c.on_created();}var _d=this.currentstyle;if(_d&&_d.font){this.on_apply_style_font(_d.font);}if(nexacro._enableaccessibility){var _e=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_e&&_e.enable&&!this._grid._accept_focus){this._grid._accept_focus=true;}if(nexacro._accessibilitytype==4){var _f=this._getAccessibilityMakeAddLabel();_f=_f+" "+this._getCellAccessibilityLabel();this._setAccessibilityLabel(_f);}}}};_pGridCell._destroyDisplayer=function(_a){if(this._subComp){if(_a){nexacro.OnceCallbackTimer.callonce(this,function(){if(this._subComp){this._subComp.destroy();this._subComp=null;}},10);}else{this._subComp.destroy();this._subComp=null;}}};_pGridCell.destroy=function(){if(this._tree_lbuttondown&&this._grid){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this._control_element.destroy();}this._grid._lbuttondown_treecell=this;nexacro.OnceCallbackTimer.callonce(this._grid,function(){if(this._lbuttondown_treecell){this._lbuttondown_treecell.destroy();}},10);return;}if(this._grid._lbuttondown_treecell==this){this._grid._lbuttondown_treecell=null;}nexacro.Component.prototype.destroy.call(this);};_pGridCell._delete_style=function(){this.style=null;this._styles=null;};_pGridCell.on_destroy_contents=function(){this._destroyDisplayer();if(this._expandCtrl){this._expandCtrl.destroy();this._expandCtrl=null;}if(this._comboInnerDataset){this._comboInnerDataset._removeEventHandler("onvaluechanged",this._updateAll,this);this._comboInnerDataset._removeEventHandler("onrowsetchanged",this._updateAll,this);}var _a=this.subcells;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this.subcells=this._refobj=this._grid=this.parentcell=this._band=this._text_elem=this._comboInnerDataset=this._is_real_upelem=null;};_pGridCell.on_change_containerRect=function(_a,_b){this._updateAvailableArea();};_pGridCell.on_create_control_element=function(_a){var _b=(this._refobj._subcells.length)?"normal":"text";var _c=new nexacro.GridCellControlElement(_a,this._refobj._area,_b);_c.setLinkedControl(this);this._control_element=_c;return _c;};_pGridCell.on_apply_custom_setfocus=function(_a){var _b=this._control_element;if(_a=="lbuttondown"){this._grid._focus_proc=_b;}nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);if(nexacro._enableaccessibility){this._grid.currentcell=this._cellidx;this._grid._currentBand=this._band.id;}};_pGridCell.on_apply_prop_tooltip=function(){var _a=this.getElement();var _b=this._grid;var _c=_b._getDataRow(this._rowidx);this.tooltiptext=this._refobj._getTooltipText(_c);if(_a){_a.setElementToolTip(this.tooltiptext);}};_pGridCell._on_last_lbuttonup=function(){this.parent._on_last_lbuttonup();};_pGridCell._on_last_keyup=function(){this.parent._on_last_keyup();};_pGridCell._on_killfocus=function(_a,_b){if(this._status!="disable"){if(this._readonly){this._status="readonly";}else{this._status="enable";}}this._setAccessibilityStatFlag(this._status,this._pseudo);};_pGridCell._getAccessibilityLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);if(!_b&&this.subcells.length>0){var _c=this.subcells;for(var _d=0;_d<_c.length;_d++ ){if(_c[_d]._display_text){if(_b){_b=_b+" "+_c[_d]._display_text;}else{_b=_c[_d]._display_text;}}}}if(nexacro._accessibilitytype==4&&this._is_created){var _e=this._getAccessibilityMakeAddLabel();if(_a){if(_a._bindexpr&&_a._bindexpr.length>0){_b=this._refobj._getAttrValue(_a,this._rowidx);}}_b=_e+" "+_b;}return _b;};_pGridCell._setAccessibilityStatFocus=function(){var _a=this._grid;if(_a._currentCellEditor&&_a._showEditing){_a._currentCellEditor._setAccessibilityStatFocus();}else if(this._subComp&&this._curDisplayType!="tree"){this._subComp._setAccessibilityStatFocus();}else{var _b="";var _c=this._refobj;_b=this._getAccessibilityMakeAddLabel();_b+=" "+this._getCellAccessibilityLabel();this._setAccessibilityStatSelected(this._selected);this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);}};_pGridCell._getCellAccessibilityLabel=function(){var _a="";var _b=this._grid;var _c=null;var _d=this._refobj;_c=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_c){if(_c._bindexpr&&_c._bindexpr.length>0){var _e="";_d=this._refobj;_e=_d._getAttrValue(_c,this._rowidx);_c._setValue(_e);}_a=this._getAccessibilityLabel(_c);}if(this._subComp){var _f=this._subComp;var _g=this._curDisplayType;if(_g=="checkbox"){this._setAccessibilityStatChecked(_f.isChecked());}else if(_g=="tree"){var _h=_b.getTreeStatus(this._rowidx);var _i=_d._getTreeLevel(this._rowidx);var _j=_d._getTreeStartLevel(this._rowidx);if(nexacro._accessibilitytype!=4){if(_h==0){this._setAccessibilityStatExpanded(false);}else{this._setAccessibilityStatExpanded(true);}}this._setAccessibilityInfoLevel(_i-_j+1);}}if(_c&&nexacro._accessibilitytype==5){var _k=this._getAccessibilityDescription(_c);var _l=this._getAccessibilityAction(_c);_a=_a+" "+_l+" "+_k;}return _a;};_pGridCell._getAccessibilityMakeAddLabel=function(){var _a="",_b=this._grid,_c=this._refobj;if(_b._first_focus&&_b._control_element&&nexacro._accessibilitytype!=5){_a=_b._getAccessibilityLabel(_b.on_find_CurrentStyle_accessibility(_b._pseudo));}if(_c.celltype=="body"||_c.celltype=="summary"){var _d=_b._headBand;var _e="",_f=null,_g=null,_h=null,_i="",_j="";if(this.parentcell){_f=this.parentcell.parent._cells;}else{_f=this.parent._cells;}for(var _k=0;_k<_f.length;_k++ ){_h=_f[_k]._refobj;_g=_f[_k].on_find_CurrentStyle_accessibility(this._pseudo);if(_g&&_h._area=="left"){if(_g._bindexpr&&_g._bindexpr.length>0){_i=_h._getAttrValue(_g,this._rowidx);_g._setValue(_i);}_e=_f[_k]._getAccessibilityLabel(_g);if(_h._row<=_c._row&&_c._row<=(_h._row+_h._rowspan-1)){if(_i){_i+=" "+_e;}else{_i=_e;}}}else{break;}}if(_d){var _l=_d._get_rows();_f=_l[0]._cells;for(var _k=0;_k<_f.length;_k++ ){_h=_f[_k]._refobj;_g=_f[_k].on_find_CurrentStyle_accessibility(this._pseudo);if(_g){if(_g._bindexpr&&_g._bindexpr.length>0){_d=_h._getAttrValue(_g,this._rowidx);_g._setValue(_d);}_e=_f[_k]._getAccessibilityLabel(_g);if(_h._col<=_c._col&&_c._col<=(_h._colspan+_h._col-1)){if(_j){_j=_j+" "+_e;}else{_j=_e;}}}}}if(_c._area=="left"){if(_j){_a+=" "+_j;}}else{if(_b.accessibilityreadbandlabel){_a+=" "+_i+" "+_j;}else{if(_i&&_b._beforegridrowpos!=_b.currentrow){_a+=" "+_i;}if(_b._beforegridcolpos!=_b.currentcol||(_b._is_first_bodycell&&(_b.currentcell==0||_b.currentrow==_b.rowcount-1))){if(_j){if(_a){_a=_a+" "+_j;}else{_a=_j;}}}}}}return _a;};_pGridCell._getAccessibilityRole=function(_a){var _b=_a.role;if(!_b){var _c=this._refobj;_b=this._accessibility_role;if(_c.celltype=="head"){_b="columnheader";}else if(_c.celltype=="body"&&_c._area=="left"){_b="rowheader";}if(this._curDisplayType=="tree"){_b="treeitem";}else if(this._subComp){_a=this._subComp.on_find_CurrentStyle_accessibility(this._pseudo);_b=this._subComp._getAccessibilityRole(_a);}}return _b;};_pGridCell.on_get_style_accessibility_label=function(){return this._display_text;};_pGridCell._setAccessibilityNotifyEvent=function(_a){var _b=this._getAccessibilityMakeAddLabel();_b+=" "+this._getCellAccessibilityLabel();this._setAccessibilityLabel(_b);return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pGridCell._resetScrollPos=function(_a,_b,_c,_d,_e,_f){var _g=this._grid;if(_g){_g._hideEditor();this.parent._showfull(this);}};_pGridCell.on_apply_text=function(){var _a=this._text_elem;if(_a){var _b=this._refobj;var _c=this._grid._getDataRow(this._rowidx);var _d=_b._getAttrValue(_b.displaytype,_c);if(_d=="decoratetext"){_a.decoration=null;_a.setElementDecorateText(this._display_text);}else{_a.decoration="";_a.text=null;_a.setElementText(this._display_text);}}};_pGridCell.on_apply_wordwrap=function(){var _a=this._grid;var _b=_a._getDataRow(this._rowidx);var _c=this._refobj._getWordwrap(_b);var _d=this._text_elem;if(_d){_d.setElementWordWrap(_c);}};_pGridCell.on_apply_style_font=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pGridCell.on_apply_style_color=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pGridCell.on_apply_style_align=function(_a){var _b=this._text_elem;if(_b){var _c=_a.halign==""?"center":_a.halign;var _d=_a.valign==""?"middle":_a.valign;_b.setElementAlignXY(_c,_d);}if(this._subComp&&this._subComp._setAlign){this._subComp._setAlign(_a.halign,_a.valign);}};_pGridCell.on_apply_style_ctrlAlign=function(_a,_b){var _c=this._subComp._adjust_width;var _d=this._subComp._adjust_height;var _e=this._getAvailableRect();var _f=_e.width;var _g=_e.height;var _h=0,_i=0;switch(_a){case "left":break;case "right":_h=_f-_c;break;default:_h=Math.round((_f-_c)/2);break;}switch(_b){case "top":break;case "bottom":_i=_g-_d;break;default:_i=Math.round((_g-_d)/2);break;}this._subComp.move(_h,_i,this._subComp._adjust_width,this._subComp._adjust_height);};_pGridCell._common_lbuttonup=function(_a,_b,_c,_d,_e){if(_a){var _f=nexacro._getFirstTouchInfo(_a);if(_f){_b=_f._elem;_c=_f.canvasX;_d=_f.canvasY;_e=_b;}}if(_b!=_e){var _g=this._is_real_upelem=_e;var _h=this._grid;var _i=false;while(_g){if(_g._type_name=="GridCell"){_h._lastmouseentercell=_g;}if(_g._type_name=="Grid"){_i=true;break;}_g=_g.parent;}if(!_g){this._is_real_upelem=_g;}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&!_i){if(_h._showEditing&&_c>=0&&_c<this._adjust_width&&_d>=0&&_d<this._adjust_height){_h._lastmouseentercell=this;this._clickcall=true;}}}return true;};_pGridCell._on_touchend=function(_a,_b,_c,_d,_e,_f){if(this._common_lbuttonup(_c,null,null,null,null)){nexacro.Component.prototype._on_touchend.call(this,_a,_b,_c,_d,_e,_f);}};_pGridCell._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._common_lbuttonup(null,_a,_f,_g,_m)){nexacro.Component.prototype._on_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}return true;};_pGridCell._on_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){if(this._grid._movingcell){this._updateCursor();}return nexacro.Component.prototype._on_dragenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q);};_pGridCell._common_mouseenter=function(_a){if(!this._is_alive){return false;}var _b=this._grid;var _c=_b._getDataRow(this._rowidx);if(_b._isFakeCell(_c)){return false;}if(_a!=this){if(this.parentcell){_b._mouseovercell=this.parentcell;}else{_b._mouseovercell=this;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){this.on_apply_custom_pseudo("mouseover");}_b._lastmouseentercell=_b._mouseovercell;return true;}return true;};_pGridCell._on_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._common_mouseenter(_b)){return nexacro.Component.prototype._on_mouseenter.call(this._grid._lastmouseentercell,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}};_pGridCell._common_mouseleave=function(_a){if(!this._is_alive){return false;}var _b=this._grid;var _c=_b._getDataRow(this._rowidx);if(_b._isFakeCell(_c)){return false;}if(_a!=this){var _d=this;if(_b._mouseovercell){_d=_b._mouseovercell;_b._mouseovercell=null;}return true;}return false;};_pGridCell._on_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._common_mouseleave(_b)){if(!this._grid._lastmouseentercell){this._grid._lastmouseentercell=this;}this._contents_pseudo="";return nexacro.Component.prototype._on_mouseleave.call(this._grid._lastmouseentercell,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);}};_pGridCell._common_fire_lbuttondown=function(_a){var _b=this._grid;var _c=_b._getDataRow(this._rowidx);this._is_clickproc=false;this._clickcall=false;_b._lastmouseentercell=this;if(!_b||_b._isFakeCell(_c)){return false;}if(this._refobj._isSubCell){return this.parent._common_fire_lbuttondown(_a);}if(this._band.id=="body"){var _d=false;if((_c!=_b._selectinfo.curdsrow)||(this._cellidx!=_b._selectinfo.curcell)){if(_b._showEditing){_b._hideEditor();}if(_b.autoenter=="select"){_d=true;}}else{if(!_b._showEditing){_d=true;}}if(_d){_b._showEditorCell=true;_b._showEditRowIdx=_c;_b._showEditCellIdx=this._cellidx;}}else{if((_c!=_b._selectinfo.curdsrow)||(this._cellidx!=_b._selectinfo.curcell)){if(_b._showEditing){_b._hideEditor();}}}};_pGridCell.on_fire_user_ontouchstart=function(_a,_b,_c,_d){this._common_fire_lbuttondown(_c);var _e=this._grid.parent;var _f=nexacro._getFirstTouchInfo(_b);var _g=_d;while(_g&&_g instanceof nexacro.Component){if(_g instanceof nexacro.GridCell){break;}var _i=_g._getRecalcCanvasXY(_d._control_element,_f.canvasX,_f.canvasY);_f.canvasX=_i[0];_f.canvasY=_i[1];if(this._subComp==_g){break;}_g=_g.parent;}if(this._isSubCell){_f.canvasX+=this._adjust_left;_f.canvasY+=this._adjust_top;_f.clientX+=this._adjust_left;_f.clientY+=this._adjust_top;}if(this._subComp==_c){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_f.canvasX+=curstyle.padding.left;_f.canvasY+=curstyle.padding.top;_f.clientX+=curstyle.padding.left;_f.clientY+=curstyle.padding.top;}}var _h=this._grid.on_fire_user_ontouchstart(_a,_b,_c,_d,true);if(!_h){while(_e){if(_e.on_fire_user_ontouchstart){_h=_e.on_fire_user_ontouchstart(_a,_b,_c,_d);if(_h){break;}}_e=_e.parent;}}return true;};_pGridCell.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_l;while(_m&&_m instanceof nexacro.Component){if(_m instanceof nexacro.GridCell){break;}var _p=_m._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_p[0];_h=_p[1];if(this._subComp==_m){break;}_m=_m.parent;}this._common_fire_lbuttondown(_k);var _n=this._grid.parent;if(this._isSubCell){_g+=this._adjust_left;_h+=this._adjust_top;_i+=this._adjust_left;_j+=this._adjust_top;}if(this._subComp==_k){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_g+=curstyle.padding.left;_h+=curstyle.padding.top;_i+=curstyle.padding.left;_j+=curstyle.padding.top;}}var _o=this._grid.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);if(!_o){while(_n){if(_n.on_fire_user_onlbuttondown){_o=_n.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(_o){break;}}_n=_n.parent;}}return true;};_pGridCell._common_fire_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){var _p=false;var _q=this._getWindow();var _r=this;if(this._is_real_upelem){_r=_q.findComponent(this._is_real_upelem);}var _s=_n;while(_s&&_s instanceof nexacro.Component){if(_s instanceof nexacro.GridCell||_s instanceof nexacro.Grid){break;}var _ab=_s._getRecalcCanvasXY(_n._control_element,_i,_j);_i=_ab[0];_j=_ab[1];if(this._subComp==_s){break;}_s=_s.parent;}if(_b){var _ac=nexacro._getFirstTouchInfo(_b);if(!_ac){return false;}if(this._isSubCell){_ac.canvasX+=this._adjust_left;_ac.canvasY+=this._adjust_top;_ac.clientX+=this._adjust_left;_ac.clientY+=this._adjust_top;}if(this._subComp==_m){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_ac.canvasX+=curstyle.padding.left;_ac.canvasY+=curstyle.padding.top;_ac.clientX+=curstyle.padding.left;_ac.clientY+=curstyle.padding.top;}}var _ad=this._grid.parent;_p=this._grid.on_fire_user_ontouchend(_a,_b,_r,_r,true);if(!_p){while(_ad){if(_ad.on_fire_user_ontouchend){_p=_ad.on_fire_user_ontouchend(_a,_b,_m,_n);if(_p){break;}}_ad=_ad.parent;}}}else{if(this._isSubCell){_i+=this._adjust_left;_j+=this._adjust_top;_k+=this._adjust_left;_l+=this._adjust_top;}if(this._subComp==_m){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_i+=curstyle.padding.left;_j+=curstyle.padding.top;_k+=curstyle.padding.left;_l+=curstyle.padding.top;}}var _ad=this._grid.parent;_p=this._grid.on_fire_user_onlbuttonup(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_r,_r,_o,true);if(!_p){while(_ad){if(_ad.on_fire_user_onlbuttonup){_p=_ad.on_fire_user_onlbuttonup(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);if(_p){break;}}_ad=_ad.parent;}}}if(!this._is_alive){return true;}var _t=this._grid;var _u=_t._getDataRow(this._rowidx);var _v=this._is_real_upelem;var _w=this._is_clickproc;var _x=this._clickcall;this._is_real_upelem=null;this._is_clickproc=false;this._clickcall=false;if(_t._isFakeCell(_u)){return false;}var _y=(this.parentcell)?this.parentcell:this;var _z=_y._refobj;var _aa=_t._treetarget;if(!_w){if(_aa&&_aa.row==_u&&_aa.cell==_z._cellidx){_y.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,"treebutton",true);if(_y._is_alive==false){if(!_t._after_recreate_contents_all){_t._after_recreate_contents_all=[true,true,true,true];}_y._on_last_lbuttonup();}_t._treetarget=null;}else{if(_t._lastmouseentercell==_y){if((_u==_t._selectinfo.curdsrow)&&(_y._cellidx==_t._selectinfo.curcell)){if(_t._showEditing){var _ae=_t._currentCellEditor;if(_ae){if(_v instanceof nexacro.InputElement){_v.setElementFocus();if(_ae.getCaretPos){var _af=_ae.getSelect();if(_af[0]==_af[1]){var _ag=_ae.getCaretPos();_ae._setFocus(false);if(_ae.setCaretPos){_ae.setCaretPos(_ag);}}}else{_ae._setFocus(false);}}else{_ae._setFocus(false);}}if(_v){var _ah=false;var _ai=_v;while(_ai){if(_ai._cellobj==_m){_ah=true;break;}_ai=_ai.parent;}if(!_ah){_ah=_x;}if(_ah){_y.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,"",true);}}}else{if(_v){var _aj=(_m.parentcell)?_m.parentcell:_m;var _ah=false;var _ai=_v;while(_ai){if(_ai==_aj){_ah=true;break;}_ai=_ai.parent;}if(_ah){_y.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,"",true);}}}}}}}this._editshowing=false;};_pGridCell.on_fire_user_ontouchend=function(_a,_b,_c,_d){this._common_fire_lbuttonup(_a,_b,"",false,false,false, -1, -1, -1, -1, -1, -1,_c,_d,null);return true;};_pGridCell.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._common_fire_lbuttonup(null,null,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCell._getClickItem=function(_a,_b,_c,_d,_e,_f){if(!_e){return "";}var _g="";var _h=nexacro._getTextSize2(_e,_f.currentstyle.font);var _i=_f._getClientXY(_c,_d);var _a,_b;var _j=false;if(_a=="left"){if(_i[0]<=_h[0]){_j=true;}}else if(_a=="center"){var _k=(_f._client_width-_h[0])/2;var _l=_k+_h[0];if(_i[0]>=_k&&_i[0]<=_l){_j=true;}}else{if(_i[0]>=_f._client_width-_h[0]){_j=true;}}if(_j){if(_b=="top"){if(_i[1]<=_h[1]){_g="text";}}else if(_b=="middle"){var _m=(_f._client_height-_h[1])/2;var _n=_m+_h[1];if(_i[1]>=_m&&_i[1]<=_n){_g="text";}}else{if(_i[1]>=_f._client_height-_h[1]){_g="text";}}}return _g;};_pGridCell._clickitem="";_pGridCell._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._hideInner){if(_a instanceof nexacro.ControlElement){this._clickitem="border";}else if(_a instanceof nexacro.TextBoxElement){var _k,_l;if(_a.align){_k=_a.align._halign;_l=_a.align._valign;}else if(_a.halign&&_a.valign){_k=_a.halign;_l=_a.valign;}this._clickitem=this._getClickItem(_k,_l,_f,_g,_a.text,this);}}var _j=nexacro.Component.prototype._on_click.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._clickitem="";return _j;};_pGridCell.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!_n){var _o=_l;while(_o&&_o instanceof nexacro.Component){if(_o instanceof nexacro.GridCell){break;}var _p=_o._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_p[0];_h=_p[1];if(this._subComp==_o){break;}_o=_o.parent;}}if(this._isSubCell){_g+=this._adjust_left;_h+=this._adjust_top;_i+=this._adjust_left;_j+=this._adjust_top;}if(this._subComp==_k){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_g+=curstyle.padding.left;_h+=curstyle.padding.top;_i+=curstyle.padding.left;_j+=curstyle.padding.top;}}if(this._band){this._is_clickproc=true;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(!(this._grid.onlbuttondown&&this._grid.onlbuttondown.defaultprevented==true)||(this._grid.onlbuttonup&&this._grid.onlbuttonup.defaultprevented==true)){if(!this._grid._showEditing){this._setFocus(false);}}}if(_m==undefined){_m=this._clickitem;}if(this._grid._scrollpixel=="all"){this._showfull(this);}else{this.parent._showfull(this);}if(this._band.id=="body"){this._grid.on_fire_cellclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="head"){this._grid.on_fire_headclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="summ"){this._grid.on_fire_summclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}this._needToggle("onclick",_k);}return true;};_pGridCell.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;while(_n&&_n instanceof nexacro.Component){if(_n instanceof nexacro.GridCell){break;}var _o=_n._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_o[0];_h=_o[1];if(this._subComp==_n){break;}_n=_n.parent;}if(this._isSubCell){_g+=this._adjust_left;_h+=this._adjust_top;_i+=this._adjust_left;_j+=this._adjust_top;}if(this._subComp==_k){curstyle=this.currentstyle;if(curstyle&&curstyle.padding){_g+=curstyle.padding.left;_h+=curstyle.padding.top;_i+=curstyle.padding.left;_j+=curstyle.padding.top;}}if(this._band){nexacro._fireBeforeDblclick(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(_m==undefined){_m="";}if(this._band.id=="body"){return this._grid.on_fire_celldblclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="head"){return this._grid.on_fire_headdblclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}else if(this._band.id=="summ"){return this._grid.on_fire_summdblclick(this,_m,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}if(!this._is_alive){return;}}return true;};_pGridCell.on_fire_onsize=function(_a,_b){var _c=this._grid._currentCellEditor;var _d=this._grid;var _e=_d._getDataRow(this._rowidx);if(_c){if(_d._currentCellCell==this._cellidx&&this._grid._currentCellRow==_e){var _f=this._setPositionInGrid(_c);}}return false;};_pGridCell.on_fire_onmove=function(_a,_b){var _c=this._grid._currentCellEditor;var _d=this._grid;var _e=_d._getDataRow(this._rowidx);if(_c){if(_d._currentCellCell==this._cellidx&&this._grid._currentCellRow==_e){var _f=this._setPositionInGrid(_c);}}return false;};_pGridCell._applyMouseLeaveEvent=function(){var _a=this._grid;if(_a){if(_a._isSelectRowType()&&this._pseudo=="mouseover"){_a.on_apply_cell_pseudo(this,"normal");}else{this._stat_change("normal","normal");}}};_pGridCell._applyMouseOverEvent=function(){var _a=this._grid;if(_a&&this._pseudo=="normal"){_a.on_apply_cell_pseudo(this,"mouseover");}};_pGridCell._hideInnerElement=function(){this.getElement().setContainerVisible(false);this._hideInner=true;};_pGridCell._showInnerElement=function(){this.getElement().setContainerVisible(true);this._hideInner=false;};_pGridCell._createDisplayer=function(_a){var _b="";var _c=this._grid;var _d=this._refobj;var _e=_c._getDataRow(this._rowidx);switch(_a){case "button":this._createButtonDisplayer();break;case "checkbox":this._createCheckboxDisplayer();break;case "image":this._createImageDisplayer();break;case "tree":this._createTreeDisplayer();_c._treeCellinfo=_d;break;case "combo":_b=_d._getAttrValue(_d.combodisplay,_e);if(_b=="display"){this._createComboDisplayer();}else{this._createTextDisplayer();}var _f=_d._getAttrValue(_d.combodataset,_e);var _g=this._comboInnerDataset=_c._findDataset(_f);if(_g){_g._setEventHandler("onvaluechanged",this._updateAll,this);_g._setEventHandler("onrowsetchanged",this._updateAll,this);}break;case "date":_b=_d._getAttrValue(_d.calendardisplay,_e);if(_b=="display"){this._createCalendarDisplayer();}else{this._createTextDisplayer();}break;case "text":case "decoratetext":case "normal":_b=_d._getAttrValue(_d.editdisplay,_e);var _h=_d._getEdittype(_e);if(_b=="display"){if(_h=="textarea"||_h=="readonly"){this._createTextAreaDisplayer();}else{this._createEditDisplayer();}}else{this._createTextDisplayer();}break;case "number":case "exponent":case "currency":_b=_d._getAttrValue(_d.editdisplay,_e);if(_b=="display"){this._createEditDisplayer();}else{this._createTextDisplayer();}break;case "bar":this._createBarDisplayer();break;}this._curDisplayType=_a;this._curEditDisplay=_b;};_pGridCell._isChangeDisplayer=function(_a,_b){var _c=this._grid;var _d=this._curDisplayType;if((_a!=_d)||_c._changeDisplayer){return true;}var _e="";var _f=this._refobj;if(_d=="combo"){_e=_f._getAttrValue(_f.combodisplay,_b);}else if(_d=="date"){_e=_f._getAttrValue(_f.calendardisplay,_b);}else if(_d=="text"||_d=="decoratetext"||_d=="normal"||_d=="number"||_d=="exponent"||_d=="currency"){_e=_f._getAttrValue(_f.editdisplay,_b);}if(_e!=this._curEditDisplay){return true;}return false;};_pGridCell._updateDisplayer=function(){var _a=this._grid;var _b=this._refobj;var _c=_a._getDataRow(this._rowidx);var _d=_b._getAttrValue(_b.displaytype,_c);var _e=true;var _f=this._band;if(_d===undefined){_d="normal";}if(this._isChangeDisplayer(_d,_c)==true){if(this._curDisplayType!=""){this._destroyDisplayer(_a._lbuttondown_proc);}this._createDisplayer(_d);if(this._subComp&&!this._subComp._is_created){this._subComp.on_created();}}else{this.on_apply_wordwrap();}var _g=_b._getAttrValue(_b.expandshow,_c);var _h=_b._getAttrValue(_b.expandsize,_c);if(_g=="show"){if(!this._expandCtrl){this._createExpandDisplayer();}else{if(this._expand_width!=_h){this._expandCtrl.destroy();this._expandCtrl=null;this._createExpandDisplayer();}else{this._changeClientmode("expand");}}this._expandCtrl.set_visible(true);this._control_element._updateClientSize();this._updateClientSize(this._control_element);}else{if(this._expandCtrl){if(this._expand_width!=_h){this._expandCtrl.destroy();this._expandCtrl=null;this._createExpandDisplayer();}this._expandCtrl.set_visible(false);this._control_element._updateClientSize();this._updateClientSize(this._control_element);if(this._control_element._mode=="expandtext"){this._changeClientmode("text");}}}var _i=_a._isFakeCell(_c);if(_i){if(_a.fillareatype=="datarow"){if(!this._isDisplayDataType(_d)){if(_d!="date"){_e=false;if(_i!=this._fakecell||_a._resetfillarea){this._hideInnerElement();this._fakecell=_i;}}}}else if(_a.fillareatype=="linerow"){_e=false;if(_i!=this._fakecell||_a._resetfillarea){this._hideInnerElement();this._fakecell=_i;}}else if(_a.fillareatype=="controlrow"){if(this._isDisplayDataType(_d)){_e=false;if(_i!=this._fakecell||_a._resetfillarea){this._hideInnerElement();this._fakecell=_i;}}}}else{if(_i!=this._fakecell){this._showInnerElement();this._fakecell=_i;}}return _e;};_pGridCell._isUpdateArea=function(){if(this._isSubCell){return true;}var _a=this.parent,_b=_a.getElement(),_c=_b.scroll_left,_d=_c+this._grid._adjust_width;var _e=this._refobj;if(_e._area!="body"||(_c<=this._getPosRight()&&_d>=this._adjust_left)){return true;}return false;};_pGridCell._updateAll=function(_a,_b){this._rowidx=this.parent._rowidx;var _c=this.getElement();if(_c){if(this._isUpdateArea()==false){return;}var _d=this._grid;var _e=this._disp_show=this._updateDisplayer();var _f=_d._getDataRow(this._rowidx);if(_d._currentCellRow>=0){var _g=this._text_elem;if(_g){if(_d._currentCellCell==this._cellidx&&_d._currentCellRow==_f){_g.setElementTextVisible(false);}else{_g.setElementTextVisible(true);}}}this._display_text=this._getDisplayText();this.on_apply_text();this._control_pseudo="";this._contents_pseudo="";_a=_a===undefined?"normal":_a;this.on_apply_pseudo(_a,_b);var _h=this._subComp;if(_h&&this._ReasonRefresh!=1){_h._control_pseudo="";_h._contents_pseudo="";_h._updateAll();}if(this._expandCtrl){this._expandCtrl._updateAll();}this.on_apply_prop_tooltip();if(this.subcells.length>0){for(var _i=0;_i<this.subcells.length;_i++ ){this.subcells[_i]._updateAll(_a);}}else{if(_d._is_use_suppress){if(this._band.id=="body"&&this._refobj.suppressalign.indexOf("over")>0){this._hideInnerElement();}else{if(_e){var _j=this._getSuppressInfo();if(_j.text_proc!=0){this._hideInnerElement();}else{this._showInnerElement();}}}}else{if(_e&&this._hideInner){this._showInnerElement();}}}if(_c._mode=="text"){this._changeClientmode("text");}if(_d._isFakeCell(_f)==false){if(this._refobj._getSuppress(_f)==0){var _k=_d._checkFakeMerge(this._refobj,_f);if(_k){this._hideInnerElement();}else{this._showInnerElement();}}}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4&&this._is_created){var _l=this._getAccessibilityMakeAddLabel();_l=_l+" "+this._getCellAccessibilityLabel();this._setAccessibilityLabel(_l);}}};_pGridCell._getSuppressInfo=function(){return this._refobj._getSuppressInfo(this._getDisplayRowIdx());};_pGridCell._getAvailableRect=function(){var _a=this._grid;var _b=_a._getAvailableRect(this);return _b;};_pGridCell._changeClientmode=function(_a){var _b=this.getElement();var _c=null;if(_b){var _d=this.currentstyle.padding;if(this._refobj._subcells.length){_a="normal";}else if(_a=="expand"){if(_b._mode!="normal"){_a="expandtext";}else{_a="normal";}}else if(_a=="text"){if(this._expandCtrl){_a="expandtext";}else if(_d){_a=(_d.right>0||_d.bottom>0)?"expandtext":"text";}}_c=_b._changeMode(_a,this.currentstyle.padding);if(_a=="text"||_a=="expandtext"){this._text_elem=_c;}else{this._text_elem=null;}}};_pGridCell._createExpandDisplayer=function(){var _a=this.getElement();if(_a){this._changeClientmode("expand");var _b=this._grid._getDataRow(this._rowidx);this._expand_width=this._refobj._getAttrValue(this._refobj.expandsize,_b);var _c=this.on_find_CurrentStyle_border(this._pseudo);var _d=this._adjust_width-this._expand_width-((_c)?_c._right_width:0);var _e=0;var _f=_d+this._expand_width;var _g=this._adjust_height-((_c)?_c._bottom_width:0);if(_d<0){_d=0;_f=this._adjust_width;}var _h=this._expandCtrl=new nexacro.GridExpand(this,_d,_e,_f,_g);_h.createComponent();this._control_element._setExpandControl(this._expandCtrl,this._expand_width);}};_pGridCell._createTextDisplayer=function(){var _a=this.getElement();if(_a){var _b=this._getAvailableRect();this._changeClientmode("text");var _c=this._text_elem;if(_c){this.on_apply_wordwrap();}this.currentstyle._empty();}};_pGridCell._createButtonDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=new nexacro.GridControlButton("controlbutton",0,0,_e,_f,this,true);_g._is_subcontrol=true;_g.createComponent(true);this._subComp=_g;var _h=this._grid;var _i=_h._getDataRow(this._rowidx);var _j=this._refobj._getWordwrap(_i);_g.set_wordwrap(_j);this.currentstyle._empty();}};_pGridCell._createCheckboxDisplayer=function(_a,_b){var _c=this.getElement();if(_c){this._changeClientmode("normal");var _d=new nexacro.GridControlCheckbox("controlcheckbox",0,0,0,0,this,true);_d._is_subcontrol=true;_d.createComponent(true);this._subComp=_d;this.currentstyle._empty();}};_pGridCell._createImageDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;var _g=16;var _h=Math.round((_e-_g)/2);var _i=Math.round((_f-_g)/2);var _j=_h+_g;var _k=_i+_g;this._changeClientmode("normal");var _l=new nexacro.GridControlImage("controlimage",_h,_i,_g,_g,this);_l._is_subcontrol=true;_l.createComponent(true);this._subComp=_l;this.currentstyle._empty();}};_pGridCell._createTreeDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlTree("controltree",0,0,_e,_f,this);_g._is_subcontrol=true;_g.createComponent(true);this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createComboDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=new nexacro.GridControlCombo("controlcombo",0,0,_e,_f,this,true);_g._cellinfo=this._refobj;_g._is_subcontrol=true;_g.createComponent(true);_g.comboedit._input_element._isUseDelCaret=true;this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createCalendarDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlCalendar("controlcalendar",0,0,_e,_f,this,true);_g._cellinfo=this._refobj;_g._is_subcontrol=true;_g.createComponent(true);_g.calendaredit._input_element._isUseDelCaret=true;this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createEditDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlEdit("controledit",0,0,_e,_f,this,true);_g._is_subcontrol=true;_g.createComponent(true);_g._input_element._isUseDelCaret=true;this._subComp=_g;this.currentstyle._empty();}};_pGridCell._createTextAreaDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlTextArea("controltextarea",0,0,_e,_f,this,true);_g._isSubControl=true;_g.createComponent(true);_g._input_element._isUseDelCaret=true;this._subComp=_g;var _h=this._grid;var _i=_h._getDataRow(this._rowidx);var _j=this._refobj._getWordwrap(_i);_g.set_wordwrap(_j);this.currentstyle._empty();}};_pGridCell._createBarDisplayer=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._getAvailableRect();var _e=_d.width;var _f=_d.height;this._changeClientmode("normal");var _g=this._subComp=new nexacro.GridControlBar("controlprogressbar",0,0,_e,_f,this,true);_g._is_subcontrol=true;_g.createComponent(true);this._subComp=_g;this.currentstyle._empty();}};_pGridCell._updateAvailableArea=function(){var _a=this._getAvailableRect();var _b=this._subComp;if(_b){var _d=_a.width;var _e=_a.height;if(this._curDisplayType=="checkbox"||this._curDisplayType=="image"){var _f=this.currentstyle.align;if(_f&&!_f._is_empty){this.on_apply_style_ctrlAlign(_f.halign,_f.valign);}}else{_b.move(0,0,_d,_e);}}var _c=this._expandCtrl;if(_c){var _g=_c.left;var _h=this._client_top;var _i=_c.width;var _j=_a.height;_c._applysetPosition(_g,_h,_i,_j);}};_pGridCell._isEnable=function(){return this._grid._enable;};_pGridCell._getDisplayRowIdx=function(){return this._rowidx-this._grid._getBodyBegRowPos(this._rowidx);};_pGridCell._isSelected=function(){return (this._selected&&this._grid.useselcolor);};_pGridCell._getResultPseudo=function(_a,_b){if(this._isSelected()){_b="selected";}else{_b=nexacro.Component._status_table[_a+"_"+_b];}var _c=this._grid;if(_b=="mouseover"){_c._mouseRowPos=_c._getDataRow(this._rowidx);_c._mouseCellPos=this._cellidx;}else{_c._mouseRowPos= -9;_c._mouseCellPos= -1;}var _d=_c._getDataRow(this._rowidx);if((_c._isFakeCell(_d)&&_b!="disabled")||nexacro._cur_track_info||nexacro.isTouchInteraction){_b="normal";}else{if(_c.useselcolor==false&&this._selected){if(_c._mouseovercell==this){_b="mouseover";}}var _e=_c._mouseRowPos;if(_e==_d&&_b=="normal"&&this._isSelected()==false){_b="mouseover";}}return _b;};_pGridCell._getDisplayText=function(){if(this._refobj){var _a=this._grid;var _b=_a._getDataRow(this._rowidx);return this._refobj._getDisplayText(_b);}return "";};_pGridCell._setDisplayText=function(){this._display_text=this._getDisplayText();this.on_apply_text();};_pGridCell.__updateCustomStyles=function(){this.on_apply_wordwrap();};_pGridCell._isDisplayDataType=function(_a){if(_a=="number"||_a=="exponent"||_a=="currency"||_a=="normal"||_a=="text"||_a=="decoratetext"){return true;}return false;};_pGridCell._showfull=function(_a){if(this._isSubCell){return this.parent._showfull();}var _b=this._band;var _c=this._grid._getScrollLeft();var _d=this._grid._getScrollTop();var _e=_b._control_element;var _f=this.parent._adjust_top;var _g=this._adjust_left;var _h=this._adjust_top+_f;var _i=this._adjust_width;var _j=this._adjust_height;var _k=_g+_i;var _l=_h+_j;_g-=_c;_k-=_c;_h-=_d;_l-=_d;var _m=this._grid;var _n=this.parent;var _o=_m.hscrollbar;var _p=_m.vscrollbar;var _q=this._refobj;var _r=_n._getAreaRect(_q._area);if(_o&&_q._area=="body"){if(_i<_r.width){if(_g<0){if(_o._isEnable()){_o.set_pos(_o.pos+_g);}}else if(_k>_r.width){var _s=_k-_r.width;if(_o._isEnable()){_o.set_pos(_o.pos+_s);}}}}if(_b.id=="body"){if(_p&&_a&&!_n._fixed){if(_j<_b._client_height){if(_h<0){if(_p._isEnable()){_p._set_pixelpos(_p._pos+_h);}}else if(_l>_b._client_height){var _t=_l-_b._client_height;if(_p._isEnable()){_p._set_pixelpos(_p._pos+_t);}}}}}};_pGridCell._needToggle=function(_a,_b){if(!this._is_alive){return;}var _c=this._grid;var _d=_c._getDataRow(this._rowidx);var _e=this._refobj._getEdittype(_d);if(_c.selectchangetype=="down"&&_a=="onclick"){return;}else if(_c.selectchangetype=="up"&&_a=="onlbuttondown"){return;}if(_e=="checkbox"){if(this._curDisplayType!="checkbox"){_c._toggleVal(_d,this._refobj);}else{if(_a=="onclick"||_a=="onlbuttondown"){if(this._grid.cellclickbound=="cell"&&_b==this){if(this._subComp&&this._subComp._toggleCheck){this._subComp._toggleCheck();}}}else{if(this._subComp&&this._subComp._toggleCheck){this._subComp._toggleCheck();}}}}};_pGridCell._setPositionInGrid=function(_a,_b,_c){var _d=(this._isSubCell)?this.parent.parent:this.parent;var _e=this._band;var _f=this._grid;var _g=this._refobj;var _h=_d._getAreaRect(_g._area);var _i=_h.left;var _j=_h.left+_h.width;var _k=(_e.id=="body"&&_d._fixed);var _l=_e._adjust_top+((_e.id=="body"&&_k==false)?_f._fixed_height:0);var _m=_e._getPosBottom();var _n=this._adjust_left+_i;var _o=_d._adjust_top+this._adjust_top+_l;if(!_b){var _w=(_k)?0:_f._getScrollTop();var _x=_f._getScrollLeft();if(_g._area=="body"){_n-=(_x>=0)?_x:0;}if(_e.id=="body"){_o-=(_w>=0)?_w:0;}}if(_e._refobj._noborder==true&&_g._row==0&&this._getDisplayRowIdx()<=0){_o+=(this.currentstyle.border)?this.currentstyle.border._bottom_width:0;}var _p=this._getAvailableRect();if(!_c){var _y=this.currentstyle.padding;_n+=(_y)?_y.left:0;_o+=(_y)?_y.top:0;}var _q=_n+_p.width;var _r=_o+_p.height;var _s=_o,_t=_n;if(_o<_l){_o=_l;}if(_r>_m){_r=_m;}if(_n<_i){_n=_i;}if(_q>_j){_q=_j;}var _u=_q-_n;var _v=_r-_o;if(_u<0){_u=0;}if(_v<0){_v=0;}if(_a){if(_u==0||_v==0){_a.move(0, -10,0,0);}else{_a.move(_n,_o,_u,_v);}}return {left:_n,top:_o,right:_q,bottom:_r,width:_u,height:_v,orgt:_s,orgl:_t};};_pGridCell._showEditor=function(_a,_b){var _c=this._text_elem;var _d=this._refobj;var _e=this._grid;var _f=_e._getDataRow(this._rowidx);var _g;_e._currentCellCell=this._cellidx;_e._currentCellRow=_f;if(!_a){if(this._grid._showEditing){this._grid._hideEditor();}if(_c){_c.setElementTextVisible(false);}if(this._subComp){this._subComp.set_visible(false);}_g=this._grid._createEditor(this);this._setPositionInGrid(_g);_g._EditUpdateAll(_d,this);_g.set_visible(true);if(nexacro.isTouchInteraction||_e.selectchangetype=="up"){_g._setFocus(false);}_g._stat_change("focus","focused");}else{if(this._subComp){this._subComp.set_visible(false);}_g=this._grid._currentCellEditor;if(_g){_g._cellinfo=_d;_g._cellobj=this;this._setPositionInGrid(_g);if(_b==true){_g._setFocus(false);}}}};_pGridCell._hideEditor=function(){var _a=this._text_elem;if(_a){_a.setElementTextVisible(true);}this._grid._currentCellCell= -1;this._grid._currentCellRow= -1;if(this._subComp){this._subComp.set_visible(true);}};_pGridCell._hasEditor=function(){var _a=this._refobj;var _b=this._grid;var _c=_b._getDataRow(this._rowidx);var _d=_a._getEdittype(_c);switch(_d){case "none":return false;case "normal":case "text":case "combo":case "date":case "mask":case "masknumber":case "textarea":case "button":case "readonly":return true;}return false;};delete _pGridCell;nexacro.GridExpand=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,"controlexpand","absolute",_b,_c,_d-_b,_e-_c,null,null,_a);this.tabstop=false;this.parent=_a;this._is_subcontrol=true;this._is_nc_control=true;this._controlmode=(_f)?true:false;if(_a._refobj){this._grid=_a._grid;this._cellobj=_a;this._cellinfo=_a._refobj;}else{this._grid=_a;}this._text="";this._imagetext="";};var _pGridExpand=nexacro._createPrototype(nexacro.Component,nexacro.GridExpand);nexacro.GridExpand.prototype=_pGridExpand;_pGridExpand._type_name="GridExpand";_pGridExpand._text_elem=null;_pGridExpand._img_elem=null;_pGridExpand._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridExpand.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;if(this._text){var _c=this._text_elem=new nexacro.TextBoxElement(_a);var _d=_b.align.halign==""?"center":_b.align._halign;var _e=_b.align.valign==""?"middle":_b.align._valign;_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlignXY(_d,_e);}if(this._imagetext){this._setExpandImg(this._imagetext);}}};_pGridExpand.on_created_contents=function(){var _a=this._text_elem;var _b=this._img_elem;if(_b){_b.create();}if(_a){_a.create();}};_pGridExpand.on_destroy_contents=function(){var _a=this.getElement();if(_a){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}}this._grid=null;this._cellobj=null;this._cellinfo=null;};_pGridExpand.on_change_containerRect=function(_a,_b){};_pGridExpand._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridExpand.on_get_style_accessibility_description=function(){if(this._cellobj){this._cellobj.tooltiptext;}};_pGridExpand.on_get_style_accessibility_label=function(){return this.text;};_pGridExpand.on_fire_user_ontouchstart=function(_a,_b,_c,_d){this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);var _e=nexacro._getFirstTouchInfo(_b);if(_e){return this._grid.on_fire_onexpanddown("",false,false,false,_e.screenX,_e.screenY,_e.canvasX,_e.canvasY,_e.clientX,_e.clientY,_c,_d);}};_pGridExpand.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this._grid.on_fire_onexpanddown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridExpand.on_fire_user_ontouchend=function(_a,_b,_c,_d){this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);var _e=nexacro._getFirstTouchInfo(_b);if(_e){return this._grid.on_fire_onexpandup("",false,false,false,_e.screenX,_e.screenY,_e.canvasX,_e.canvasY,_e.clientX,_e.clientY,_c,_d);}};_pGridExpand.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this._grid.on_fire_onexpandup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGridExpand.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridExpand.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridExpand._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridExpand._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridExpand._isEnable=function(){return this._grid._enable;};_pGridExpand._setPositionEx=function(){var _a=this._text_elem;if(_a){_a.setElementPosition(0,0);var _b=this._grid._getAvailableRect(this);_a.setElementSize(_b.width,_b.height);}_a=this._img_elem;if(_a){this._imgAdjustAlign(this._image_width,this._image_height);}};_pGridExpand._imgAdjustAlign=function(_a,_b){var _c=this._grid._getAvailableRect(this);var _d=this._img_elem;if(_d){var _e=0;var _f=0;var _g=_c.height;var _h=_c.width;if(_a>_h){_e=_e-((_a-_h)/2);}else{_e=(_h-_a)/2;}if(_b>_g){_f=_f-((_b-_g)/2);}else{_f=(_g-_b)/2;}_d.setElementPosition(_e,_f);_d.setElementSize(_a,_b);}};_pGridExpand._on_loadImg=function(_a,_b,_c){if(!this._is_alive||!this._img_elem){return;}this._img_elem.setElementImageUrl(_a);this._imgAdjustAlign(_b,_c);};_pGridExpand.on_apply_custom_pseudo=function(_a){if(!this._is_created){return;}var _b=this.getElement();if(!_b){return;}if(!_a){_a=this._pseudo;}var _c=this._grid;if(this._cellobj._is_created){if(!_c._ReasonRefresh){_c.on_apply_cell_pseudo(this._cellobj,_a);}}};_pGridExpand._updateAll=function(){var _a=this.getElement();if(_a){var _b=this._grid;var _c=_b._getDataRow(this._cellobj._rowidx);this.on_apply_pseudo(this._pseudo);var _d=this._cellinfo._getAttrValue(this._cellinfo.expandimage,_c);this._setExpandImg(_d);_d=this._cellinfo._getAttrValue(this._cellinfo.expandchar,_c);this._setExpandText(_d);_d=this._cellobj.on_find_CurrentStyle_font(this._cellobj._pseudo);this._setFont(_d);_d=this._cellobj.on_find_CurrentStyle_color(this._cellobj._pseudo);this._setColor(_d);this._setAlign("center","middle");this._setPositionEx();}};_pGridExpand._setExpandImg=function(_a){var _b=this.getElement();if(_b&&_a){var _c=(_a)?_a.toString():null;if(_c){var _d=this._img_elem;if(!_d){_d=new nexacro.ImageElement(_b);this._img_elem=_d;_d.create();}_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());var _e=nexacro._getImageSize(_c,this._on_loadImg,this);if(_e){this._image_width=_e.width;this._image_height=_e.height;_d.setElementImageUrl(_c);}}else{if(this._img_elem){this._img_elem.destroy();this._img_elem=null;if(this._text_elem){var _f=this.currentstyle.align;var _g=_f.halign==""?"center":_f._halign;var _h=_f.valign==""?"middle":_f._valign;this._text_elem.setElementAlignXY(_g,_h);}}}}};_pGridExpand._setExpandText=function(_a){var _b=this.getElement();if(_b){if(this._text!=_a){this._text=_a;var _c=this._text_elem;var _d=this.currentstyle;if(!_c){_c=this._text_elem=new nexacro.TextBoxElement(_b);var _e=(!_d.align||_d.align.halign=="")?"center":_d.align.halign;var _f=(!_d.align||_d.align.valign=="")?"middle":_d.align.valign;_c.setElementFont(_d.font);_c.setElementColor(_d.color);_c.setElementAlignXY(_e,_f);_c.create();}_c.setElementText(_a);}}};_pGridExpand._setFont=function(_a){var _b=this._text_elem;if(_b){_b.setElementFont(_a);}};_pGridExpand._setColor=function(_a){var _b=this._text_elem;if(_b){_b.setElementColor(_a);}};_pGridExpand._setAlign=function(_a,_b){var _c=this._text_elem;if(_c){_c.setElementAlignXY(_a,_b);}};delete _pGridExpand;nexacro.GridControlButton=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ButtonCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._displaymode=(_g)?true:false;this._controlmode=(_h)?true:false;this._clickevt_able=true;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;this._cellinfo=null;this._cellobj=null;}};var _pGridButton=nexacro._createPrototype(nexacro.ButtonCtrl,nexacro.GridControlButton);nexacro.GridControlButton.prototype=_pGridButton;_pGridButton.on_find_CurrentStyle_align=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("align",_a,"align");return _d;}return null;};_pGridButton.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_accessibility(_f,_a);}return _d;}return null;};_pGridButton.on_find_CurrentStyle_background=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("background",_a,"background");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_background(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridButton.on_find_CurrentStyle_border=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("border",_a,"border");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_border(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridButton.on_find_CurrentStyle_bordertype=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("bordertype",_a,"bordertype");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);return _d;}return null;};_pGridButton.on_find_CurrentStyle_color=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("color",_a,"color");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_color(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridButton.on_find_CurrentStyle_font=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("font",_a,"font");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_font(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridButton.on_find_CurrentStyle_gradation=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("gradation",_a,"gradation");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_gradation(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridButton.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._find_pseudo_obj("cursor",_a)||this.parent.on_find_CurrentStyle_cursor(_a);return (_c)?_c:nexacro.Component._default_cursor;};_pGridButton._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridButton._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;if(this._displaymode==true){if(_b!="disabled"){_b="normal";}}var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridButton.on_destroy_contents=function(){nexacro.ButtonCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridButton._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridButton.on_apply_custom_setfocus=function(_a){if(!this._displaymode){nexacro.ButtonCtrl.prototype.on_apply_custom_setfocus.call(this,_a);}};_pGridButton.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridButton.on_get_style_accessibility_label=function(){return this.text;};_pGridButton.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Component.prototype.on_fire_user_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(_a==13||_a==32){this.click();}return _g;};_pGridButton._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.ButtonCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridButton._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.ButtonCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridButton._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.ButtonCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridButton._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.ButtonCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridButton.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.ButtonCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridButton.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ButtonCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridButton.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.ButtonCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridButton.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.ButtonCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridButton.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ButtonCtrl.prototype.on_fire_onclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};_pGridButton.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ButtonCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};_pGridButton._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridButton._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridButton._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}if(_j&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pGridButton._isEnable=function(){return this._grid._enable;};_pGridButton._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._setProperty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getWordwrap(_d);this.set_wordwrap(_e);}};_pGridButton._setDataset=function(_a){};_pGridButton._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e;if(this._displaymode==true){_e=_a._getDisplayText(_d);}else{_e=_a._getValue(_d);}_e=nexacro._toString(_e);if(_e!=null){this.set_text(_e);}else{this.set_text("");}};_pGridButton._updateAll=function(){this.on_apply_pseudo(this._pseudo);this._setProperty();};delete _pGridButton;nexacro.GridControlBar=function(_a,_b,_c,_d,_e,_f,_g){nexacro.ProgressBarCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.max=100;this.min=0;this.blockgap=0;this.step=1;this._controlmode=(_g)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}};var _pGridBar=nexacro.GridControlBar.prototype=nexacro._createPrototype(nexacro.ProgressBarCtrl,nexacro.GridControlBar);_pGridBar.on_find_CurrentStyle_align=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("align",_a,"align");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_align(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridBar.on_find_CurrentStyle_font=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_inherit_pseudo_obj("font",_a,"font");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_font(_f,_c._selected,_a);}return _d;}return null;};_pGridBar.on_find_CurrentStyle_color=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=(this._rowidx>=0)?(this._rowidx%2):false;var _e=this._find_inherit_pseudo_obj("color",_a,"color");var _f=this._grid;var _g=_f._getDataRow(_c._rowidx);if(!_e){_e=_b._query_pseudo_color(_g,_d,_c._selected,_a);}return _e;}return null;};_pGridBar.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._find_pseudo_obj("cursor",_a)||this.parent.on_find_CurrentStyle_cursor(_a);return (_c)?_c:nexacro.Component._default_cursor;};_pGridBar.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_accessibility(_f,_a);}return _d;}return null;};_pGridBar.on_find_CurrentStyle_background=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("background",_a,"background");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_background(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridBar.on_find_CurrentStyle_border=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("border",_a,"border");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_border(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridBar.on_find_CurrentStyle_bordertype=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("bordertype",_a,"bordertype");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);return _d;}return null;};_pGridBar.on_find_CurrentStyle_gradation=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("gradation",_a,"gradation");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_gradation(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridBar._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridBar._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e="control"+_a;var _f=this._grid;var _g=_f._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_g)&&_b!="disabled"){_b="normal";}if(_a=="barcolor"||_a=="bardirection"||_a=="bargradation"){_e="";}else if(_a=="padding"){return null;}_g=_f._getDataRow(this._cellobj._rowidx);var _h=_d._query_pseudo_control(this,_g,_e,_a,_b,_c);return _h;};_pGridBar.on_destroy_contents=function(){nexacro.ProgressBarCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridBar._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridBar.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridBar.set_text=function(_a){var _b=nexacro.Component.prototype.set_text.call(this,_a);this.set_pos(parseInt(this._display_text));return _b;};_pGridBar.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this._text_elem;var _c=this.currentstyle.align;if(!_c){this.on_apply_custom_pseudo(this._pseudo);_c=this.currentstyle.align;}if(!_b){_b=new nexacro.TextBoxElement(_a);this._text_elem=_b;var _d=this._grid._getAvailableRect(this);_b.setElementSize(_d.width,_d.height);if(this._is_created){var _e=(!_c||_c.halign=="")?"center":_c._halign;var _f=(!_c||_c.valign=="")?"middle":_c._valign;_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_e,_f);_b.create();}}else{var _e=(!_c||_c.halign=="")?"center":_c._halign;var _f=(!_c||_c.valign=="")?"middle":_c._valign;_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlignXY(_e,_f);}this._text_elem.setElementText(this._display_text);}};_pGridBar.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridBar.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridBar._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridBar._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridBar._isEnable=function(){return this._grid._enable;};_pGridBar._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridBar._updateAll=function(){if(this.getElement()){this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridBar._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getDisplayText(_d);_e=nexacro._toString(_e);if(_e!=null){this.set_text(_e);}else{this.set_text("");}};delete _pGridBar;nexacro.GridControlEdit=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.EditCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.editfilter="none";if(_g){this._displaymode=true;this.readonly=true;}else{this._displaymode=false;}this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}this._absolutelyValue=false;};var _pGridEdit=nexacro._createPrototype(nexacro.EditCtrl,nexacro.GridControlEdit);nexacro.GridControlEdit.prototype=_pGridEdit;_pGridEdit._displaymode=false;_pGridEdit.on_find_CurrentStyle_align=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_pseudo_obj("align",_a,"align");return _d;}return null;};_pGridEdit.on_find_CurrentStyle_font=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_inherit_pseudo_obj("font",_a);if(!_d){_d=_c.on_find_CurrentStyle_font(_a);}return _d;}return null;};_pGridEdit.on_find_CurrentStyle_color=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_inherit_pseudo_obj("color",_a);if(!_d){_d=_c.on_find_CurrentStyle_color(_a);}return _d;}return null;};_pGridEdit.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_accessibility(_f,_a);}return _d;}return null;};_pGridEdit.on_find_CurrentStyle_background=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("background",_a,"background");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_background(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridEdit.on_find_CurrentStyle_border=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("border",_a,"border");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_border(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridEdit.on_find_CurrentStyle_bordertype=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("bordertype",_a,"bordertype");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);return _d;}return null;};_pGridEdit.on_find_CurrentStyle_gradation=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("gradation",_a,"gradation");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_gradation(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridEdit._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridEdit._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;if(this._displaymode==true){if(_b!="disabled"){_b="normal";}}var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridEdit.on_destroy_contents=function(){nexacro.EditCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridEdit.on_apply_custom_setfocus=function(_a,_b){if(this._grid._onceTime_focus&&!_b){nexacro.OnceCallbackTimer.callonce(this,function(){this.on_apply_custom_setfocus(_a,true);},0);return;}return nexacro.EditCtrl.prototype.on_apply_custom_setfocus.call(this,_a);};_pGridEdit._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridEdit.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridEdit.on_apply_autoskip=function(){this._grid._moveToCell("next",true);};_pGridEdit.on_apply_editfilter=function(_a){switch(_a){case 'alpha':case 'alpha,number':case 'digit':case 'number':case 'alpha,digit':this.set_inputfilter("none");this.set_inputtype(_a);break;case 'lower':case 'upper':this.set_inputfilter("none");this.set_inputtype("alpha");break;case 'lower,digit':case 'upper,digit':this.set_inputfilter("none");this.set_inputtype("alpha,digit");break;case 'lower,number':case 'upper,number':this.set_inputfilter("none");this.set_inputtype("alpha,number");break;case 'none':this.set_inputfilter("none");this.set_inputtype("normal");break;case 'alpha,number,nosign':case 'lower,number,nosign':case 'upper,number,nosign':this.set_inputfilter("sign");this.set_inputtype("alpha,number");break;case 'char':case 'lower,char':case 'upper,char':this.set_inputfilter("comma,symbol,sign,digit,dot");this.set_inputtype("normal");break;case 'integer':this.set_inputfilter("dot");this.set_inputtype("number");break;case 'digit,char':case 'lower,digit,char':case 'upper,digit,char':this.set_inputfilter("comma,symbol,sign,dot");this.set_inputtype("normal");break;case 'number,char':case 'lower,number,char':case 'upper,number,char':this.set_inputfilter("comma,symbol");this.set_inputtype("normal");break;}if(_a.indexOf("upper")>=0){this.set_inputmode("upper");}else if(_a.indexOf("lower")>=0){this.set_inputmode("lower");}else{this.set_inputmode("normal");}};_pGridEdit.set_editfilter=function(_a){if(this.editfilter!=_a){this.editfilter=_a;this.on_apply_editfilter(_a);}return _a;};_pGridEdit._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.EditCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridEdit._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.EditCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridEdit._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.EditCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridEdit._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.EditCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridEdit.on_fire_onkillfocus=function(_a,_b){return this._cellobj.on_fire_onkillfocus(_a,_b);};_pGridEdit.on_fire_ontextchange=function(_a){if(this._absolutelyValue==true){return true;}nexacro.EditCtrl.prototype.on_fire_ontextchange.call(this,_a);return this._grid.on_fire_ontextchange(this,_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);};_pGridEdit.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridEdit.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.EditCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridEdit.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.EditCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridEdit.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.EditCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridEdit.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.EditCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.EditCtrl.prototype.on_fire_oneditclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this._cellobj.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);return true;};_pGridEdit.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.EditCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};if(nexacro.Browser=="Gecko"||nexacro.Browser=="Opera"){_pGridEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}else{_pGridEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}_pGridEdit._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridEdit._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridEdit.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridEdit._isEnable=function(){return this._grid._enable;};_pGridEdit._set_absolutelyValue=function(_a){this._absolutelyValue=true;this.set_value(_a);this._absolutelyValue=false;};_pGridEdit._updateAll=function(){if(this.getElement()){this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridEdit._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e;if(this._displaymode==true){_e=_a._getDisplayText(_d);}else{_e=_a._getValue(_d);}this._set_absolutelyValue(_e);_e=_a._getAttrValue(_a.editautoselect,_d);if(_e!=null){this.set_autoselect(_e);}_e=_a._getAttrValue(_a.editautoskip,_d);if(_e!=null){this.set_autoskip(_e);}_e=_a._getAttrValue(_a.editfilter,_d);if(_e!=null){this.set_editfilter(_e);}_e=_a._getAttrValue(_a.editimemode,_d);if(_e!=null){this.set_imemode(_e);}_e=_a._getAttrValue(_a.edituseime,_d);if(_e!=null){this.set_useime(_e);}_e=_a._getAttrValue(_a.editlengthunit,_d);if(_e!=null){this.set_lengthunit(_e);}};_pGridEdit._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._setProperty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}};_pGridEdit._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);var _g=this._edit_base_api;if(_g){if(_g._is_composition()){var _j=_g._stat_composition.getCurrentStatus();var _k=_g._stat_composition.getData();var _l=_g._on_input_compositionend(_k);if(!_l){_g._fire_text_event(_k);}if(nexacro.Browser=="Safari"){if(_j==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_k);}else if(_j==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_k);}}}}var _h=this.value;if(_b!=undefined){_f=_b;}var _i=true;if(_d.text._bindtype==1){this._grid._is_async_recreate=_a;this._grid._dsEventOccured=true;var _m={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_h,_m);if(_m.status=="cancolumnchange"){_i=false;}this._grid._dsEventOccured=false;}return _i;};_pGridEdit._on_input_blur=function(_a,_b){var _c=this._grid;var _d=this._edit_base_api;if(_d){var _e=_d._stat_composition.getCurrentStatus();var _f=_d._stat_composition.getData();_c._currentCompositionStatus=_e;_c._currentCompositionData=_f;_d._on_input_blur(_a,_b);}};delete _pGridEdit;nexacro.GridControlTextArea=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.TextAreaCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.editfilter="none";if(_g){this._displaymode=true;this.readonly=true;}else{this._displaymode=false;}this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}this._absolutelyValue=false;this._is_use_ex_enter=true;};var _pGridTextArea=nexacro._createPrototype(nexacro.TextAreaCtrl,nexacro.GridControlTextArea);nexacro.GridControlTextArea.prototype=_pGridTextArea;_pGridTextArea.on_find_CurrentStyle_align=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_pseudo_obj("align",_a,"align");return _d;}return null;};_pGridTextArea.on_find_CurrentStyle_color=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_inherit_pseudo_obj("font",_a);if(!_d){_d=_c.on_find_CurrentStyle_font(_a);}return _d;}return null;};_pGridTextArea.on_find_CurrentStyle_color=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_inherit_pseudo_obj("color",_a);if(!_d){_d=_c.on_find_CurrentStyle_color(_a);}return _d;}return null;};_pGridTextArea.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_accessibility(_f,_a);}return _d;}return null;};_pGridTextArea.on_find_CurrentStyle_background=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("background",_a,"background");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_background(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridTextArea.on_find_CurrentStyle_border=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("border",_a,"border");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_border(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridTextArea.on_find_CurrentStyle_bordertype=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("bordertype",_a,"bordertype");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);return _d;}return null;};_pGridTextArea.on_find_CurrentStyle_gradation=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("gradation",_a,"gradation");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_gradation(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridTextArea._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridTextArea._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;if(this._displaymode==true){if(_b!="disabled"){_b="normal";}}var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridTextArea.on_destroy_contents=function(){nexacro.TextAreaCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridTextArea.on_apply_custom_setfocus=function(_a,_b){if(this._grid._onceTime_focus&&!_b){nexacro.OnceCallbackTimer.callonce(this,function(){this.on_apply_custom_setfocus(_a,true);},0);return;}return nexacro.TextAreaCtrl.prototype.on_apply_custom_setfocus.call(this,_a);};_pGridTextArea._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridTextArea.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridTextArea.set_editfilter=function(_a){if(this.editfilter!=_a){this.editfilter=_a;this.on_apply_editfilter(_a);}return _a;};_pGridTextArea.on_apply_editfilter=function(_a){switch(_a){case 'alpha':case 'alpha,number':case 'digit':case 'number':case 'alpha,digit':this.set_inputfilter("none");this.set_inputtype(_a);break;case 'lower':case 'upper':this.set_inputfilter("none");this.set_inputtype("alpha");break;case 'lower,digit':case 'upper,digit':this.set_inputfilter("none");this.set_inputtype("alpha,digit");break;case 'lower,number':case 'upper,number':this.set_inputfilter("none");this.set_inputtype("alpha,number");break;case 'none':this.set_inputfilter("none");this.set_inputtype("normal");break;case 'alpha,number,nosign':case 'lower,number,nosign':case 'upper,number,nosign':this.set_inputfilter("sign");this.set_inputtype("alpha,number");break;case 'char':case 'lower,char':case 'upper,char':this.set_inputfilter("comma,symbol,sign,digit,dot");this.set_inputtype("normal");break;case 'integer':this.set_inputfilter("dot");this.set_inputtype("number");break;case 'digit,char':case 'lower,digit,char':case 'upper,digit,char':this.set_inputfilter("comma,symbol,sign,dot");this.set_inputtype("normal");break;case 'number,char':case 'lower,number,char':case 'upper,number,char':this.set_inputfilter("comma,symbol");this.set_inputtype("normal");break;}if(_a.indexOf("upper")>=0){this.set_inputmode("upper");}else if(_a.indexOf("lower")>=0){this.set_inputmode("lower");}else{this.set_inputmode("normal");}};_pGridTextArea._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.TextAreaCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridTextArea._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.TextAreaCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTextArea._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.TextAreaCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTextArea._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.TextAreaCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridTextArea.on_fire_ontextchange=function(_a){if(this._absolutelyValue==true){return true;}nexacro.TextAreaCtrl.prototype.on_fire_ontextchange.call(this,_a);return this._grid.on_fire_ontextchange(this,_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);};_pGridTextArea.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridTextArea.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.TextAreaCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridTextArea.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.TextAreaCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridTextArea.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.TextAreaCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridTextArea.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.TextAreaCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridTextArea.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.TextAreaCtrl.prototype.on_fire_oneditclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this._cellobj.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);return true;};_pGridTextArea.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.TextAreaCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};if(nexacro.Browser=="Gecko"||nexacro.Browser=="Opera"){_pGridTextArea._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}else{_pGridTextArea._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}_pGridTextArea._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridTextArea._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridTextArea._on_input_blur=function(_a,_b){var _c=this._grid;var _d=this._edit_base_api;if(_d){var _e=_d._stat_composition.getCurrentStatus();var _f=_d._stat_composition.getData();_c._currentCompositionStatus=_e;_c._currentCompositionData=_f;_d._on_input_blur(_a,_b);}};_pGridTextArea.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridTextArea._isEnable=function(){return this._grid._enable;};_pGridTextArea._set_absolutelyValue=function(_a){this._absolutelyValue=true;this.set_value(_a);this._absolutelyValue=false;};_pGridTextArea._updateAll=function(){if(this.getElement()){this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridTextArea._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e;if(this._displaymode==true||this.readonly){_e=_a._getDisplayText(_d);}else{_e=_a._getValue(_d);}this._set_absolutelyValue(_e);_e=_a._getAttrValue(_a.editautoselect,_d);if(_e!=null){this.set_autoselect(_e);}_e=_a._getAttrValue(_a.editautoskip,_d);if(_e!=null){this.set_autoskip(_e);}_e=_a._getAttrValue(_a.editfilter,_d);if(_e!=null){this.set_editfilter(_e);}_e=_a._getAttrValue(_a.editimemode,_d);if(_e!=null){this.set_imemode(_e);}_e=_a._getAttrValue(_a.edituseime,_d);if(_e!=null){this.set_useime(_e);}_e=_a._getAttrValue(_a.editlengthunit,_d);if(_e!=null){this.set_lengthunit(_e);}_e=_a._getAttrValue(_a.editscrollbar,_d);if(_e!=null){this.set_scrollbars(_e);}else{this.set_scrollbars("none");}};_pGridTextArea._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);this._setProperty();var _e=_a._getWordwrap(_d);this.set_wordwrap(_e);}};_pGridTextArea._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(_b!=undefined){_f=_b;}var _g=this._edit_base_api;if(_g){if(_g._is_composition()){var _j=_g._stat_composition.getCurrentStatus();var _k=_g._stat_composition.getData();var _l=_g._on_input_compositionend(_k);if(!_l){_g._fire_text_event(_k);}if(nexacro.Browser=="Safari"){if(_j==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_k);}else if(_j==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_k);}}}}var _h=this.value;var _i=true;if(_d.text._bindtype==1){this._grid._is_async_recreate=_a;this._grid._dsEventOccured=true;var _m={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_h,_m);if(_m.status=="cancolumnchange"){_i=false;}this._grid._dsEventOccured=false;}return _i;};delete _pGridTextArea;nexacro.GridControlMaskEdit=function(_a,_b,_c,_d,_e,_f,_g){nexacro.MaskEditCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._controlmode=(_g)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}this._absolutelyValue=false;};var _pGridMaskEdit=nexacro._createPrototype(nexacro.MaskEditCtrl,nexacro.GridControlMaskEdit);nexacro.GridControlMaskEdit.prototype=_pGridMaskEdit;_pGridMaskEdit.on_find_CurrentStyle_align=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_pseudo_obj("align",_a,"align");return _d;}return null;};_pGridMaskEdit.set_mask=function(_a,_b){if(!this._displaymode){_a=_a.replace(/0|9/g,"#");return nexacro.MaskEditCtrl.prototype.set_mask.call(this,_a,_b);}return nexacro.MaskEditCtrl.prototype.set_mask.call(this,_a,_b);};_pGridMaskEdit.on_find_CurrentStyle_font=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_inherit_pseudo_obj("font",_a);if(!_d){_d=_c.on_find_CurrentStyle_font(_a);}return _d;}return null;};_pGridMaskEdit.on_find_CurrentStyle_color=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _d=this._find_inherit_pseudo_obj("color",_a);if(!_d){_d=_c.on_find_CurrentStyle_color(_a);}return _d;}return null;};_pGridMaskEdit.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_accessibility(_f,_a);}return _d;}return null;};_pGridMaskEdit.on_find_CurrentStyle_background=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("background",_a,"background");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_background(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridMaskEdit.on_find_CurrentStyle_border=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("border",_a,"border");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_border(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridMaskEdit.on_find_CurrentStyle_bordertype=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("bordertype",_a,"bordertype");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);return _d;}return null;};_pGridMaskEdit.on_find_CurrentStyle_gradation=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("gradation",_a,"gradation");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_gradation(_f,_c._curDisplayType,_a);}return _d;}return null;};_pGridMaskEdit._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridMaskEdit._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridMaskEdit.on_destroy_contents=function(){nexacro.MaskEditCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridMaskEdit.on_apply_custom_setfocus=function(_a,_b){if(this._grid._onceTime_focus&&!_b){nexacro.OnceCallbackTimer.callonce(this,function(){this.on_apply_custom_setfocus(_a,true);},0);return;}return nexacro.MaskEditCtrl.prototype.on_apply_custom_setfocus.call(this,_a);};_pGridMaskEdit._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridMaskEdit.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridMaskEdit.on_apply_autoskip=function(){this._grid._moveToCell("next",true);};_pGridMaskEdit._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.MaskEditCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridMaskEdit._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.MaskEditCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridMaskEdit._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.MaskEditCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridMaskEdit._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.MaskEditCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridMaskEdit.on_fire_ontextchange=function(_a){if(this._absolutelyValue==true){return true;}nexacro.MaskEditCtrl.prototype.on_fire_ontextchange.call(this,_a);return this._grid.on_fire_ontextchange(this,_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);};_pGridMaskEdit.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridMaskEdit.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.MaskEditCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridMaskEdit.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.MaskEditCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridMaskEdit.on_fire_user_ontouchstart=function(_a,_b,_c,_d){nexacro.MaskEditCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridMaskEdit.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.MaskEditCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridMaskEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.MaskEditCtrl.prototype.on_fire_oneditclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this._cellobj.on_fire_onclick(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);return true;};_pGridMaskEdit.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.MaskEditCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");return true;};if(nexacro.Browser=="Gecko"||nexacro.Browser=="Opera"){_pGridMaskEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}else{_pGridMaskEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}var _k="";if(_a instanceof nexacro.InputElement){var _l,_m;if(_a.align){_l=_a.align._halign;_m=_a.align._valign;}else if(_a.halign&&_a.valign){_l=_a.halign;_m=_a.valign;}_k=this._cellobj._getClickItem(_l,_m,_f,_g,_a.text,this);}if(!_k){_k="control";}if(_j&&this._isEnable()&&this.enableevent){var _n=this.getCaretPos();var _o=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_n,_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,this,_k);}};}_pGridMaskEdit._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridMaskEdit._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridMaskEdit._isEnable=function(){return this._grid._enable;};_pGridMaskEdit._set_absolutelyValue=function(_a){this._absolutelyValue=true;this.set_value(_a);this._absolutelyValue=false;};_pGridMaskEdit._updateAll=function(){if(this.getElement()){this._setProperty();this.on_apply_pseudo(this._pseudo);}};_pGridMaskEdit._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getEdittype(_d);var _f=_a._getDisplaytype(_d);var _g=_a._getAttrValue(_a.edittype,_d);var _h=_a._getValue(_d);_h=nexacro._toString(_h);if(_e=="masknumber"){this.set_type("number");this._set_absolutelyValue(_h);}else{if(_g=="normal"){if(_f=="number"){this.set_type("number");}else{this.set_type("string");}}else{this.set_type("string");}this._set_absolutelyValue(_h);}if(_e=="masknumber"||_e=="mask"){_h=_a._getAttrValue(_a.mask,_d);if(_h!=null){this.set_mask(_h);}}_h=_a.maskchar;if(_h!=null){this.set_maskchar(_h);}_h=_a._getAttrValue(_a.editautoselect,_d);if(_h!=null){this.set_autoselect(_h);}_h=_a._getAttrValue(_a.editautoskip,_d);if(_h!=null){this.set_autoskip(_h);}_h=_a._getAttrValue(_a.editclipmode,_d);if(_h!=null){this.set_clipmode(_h);}_h=_a._getAttrValue(_a.editlimitbymask,_d);if(_h!=null){this.set_limitbymask(_h);}_h=_a._getAttrValue(_a.edittrimtype,_d);if(_h!=null){this.set_trimtype(_h);}};_pGridMaskEdit._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridMaskEdit._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);var _g=this.value;if(_b!=undefined){_f=_b;}var _h=true;if(_d.text._bindtype==1){this._grid._is_async_recreate=_a;this._grid._dsEventOccured=true;var _i={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_g,_i);if(_i.status=="cancolumnchange"){_h=false;}this._grid._dsEventOccured=false;}return _h;};delete _pGridMaskEdit;nexacro.GridControlCalendar=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.CalendarCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this.ondropdown="grid";this._displaymode=(_g)?true:false;this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}};var _pGridCalendar=nexacro._createPrototype(nexacro.CalendarCtrl,nexacro.GridControlCalendar);nexacro.GridControlCalendar.prototype=_pGridCalendar;nexacro.GridControlCalendar._defaultButtonsize=nexacro._getCachedStyleObj("buttonsize",24);_pGridCalendar.on_find_CurrentStyle_buttonsize=function(_a){return nexacro.GridControlCalendar._defaultButtonsize;};_pGridCalendar.on_find_CurrentStyle_align=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _e=this._find_pseudo_obj("align",_a,"align",_b);return _e;}return null;};_pGridCalendar.on_find_CurrentStyle_font=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("font",_a,"font",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_d.on_find_CurrentStyle_font(_a);}return _e;}return null;};_pGridCalendar.on_find_CurrentStyle_color=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("color",_a,"color",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_d.on_find_CurrentStyle_color(_a);}return _e;}return null;};_pGridCalendar.on_find_CurrentStyle_accessibility=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("accessibility",_a,"accessibility",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_c._query_pseudo_accessibility(_g,_a);}return _e;}return null;};_pGridCalendar._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridCalendar._find_pseudo_obj=function(_a,_b,_c,_d){var _e=this._cellinfo;if(this._displaymode==true){if(_b!="disabled"){_b="normal";}}var _f;if(_a=="dayborder"||_a=="daybordertype"||_a=="daybackground"||_a=="daycolor"||_a=="dayfont"||_a=="daygradation"){_f=nexacro.CalendarCtrl.prototype._find_pseudo_obj.call(this,_a,_b,_c);if(_f){return _f;}}var _g=this._grid;var _h=_g._getDataRow(this._cellobj._rowidx);var _i="control"+_a;var _f=_e._query_pseudo_control(this,_h,_i,_a,_b,_c,_d);return _f;};_pGridCalendar.on_created_contents=function(){nexacro.CalendarCtrl.prototype.on_created_contents.call(this);if(this._displaymode){this.calendaredit._input_element.setElementReadonly(true);}};_pGridCalendar.on_destroy_contents=function(){nexacro.CalendarCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridCalendar._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_c=(_c!=_a._display_text)?_c:"";_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridCalendar.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridCalendar.set_innerdataset=function(_a){var _b=nexacro.CalendarCtrl.prototype.set_innerdataset.call(this,_a);if(this._controlmode){var _c=this._grid;if(_c){for(var _d=0;_d<_c.getCellCount("body");_d++ ){_c.setCellProperty("body",_d,"calendarinnerdataset",_a);}}}return _b;};_pGridCalendar.set_backgroundcolumn=function(_a){nexacro.CalendarCtrl.prototype.set_backgroundcolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){for(var _c=0;_c<_b.getCellCount("body");_c++ ){_b.setCellProperty("body",_c,"calendarbackgroundcolumn",_a);}}}};_pGridCalendar.set_bordercolumn=function(_a){nexacro.CalendarCtrl.prototype.set_bordercolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){for(var _c=0;_c<_b.getCellCount("body");_c++ ){_b.setCellProperty("body",_c,"calendarbordercolumn",_a);}}}};_pGridCalendar.set_datecolumn=function(_a){nexacro.CalendarCtrl.prototype.set_datecolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){for(var _c=0;_c<_b.getCellCount("body");_c++ ){_b.setCellProperty("body",_c,"calendardatecolumn",_a);}}}};_pGridCalendar.set_textcolorcolumn=function(_a){nexacro.CalendarCtrl.prototype.set_textcolorcolumn.call(this,_a);if(this._controlmode){var _b=this._grid;if(_b){var _c=null;for(var _d=0;_d<_b.getCellCount("body");_d++ ){_b.setCellProperty("body",_d,"calendartextcolorcolumn",_a);}}}};_pGridCalendar.on_apply_custom_setfocus=function(_a){if(!this._displaymode){return nexacro.Calendar.prototype.on_apply_custom_setfocus.call(this,_a);}};_pGridCalendar._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.CalendarCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridCalendar._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.CalendarCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCalendar._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.CalendarCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCalendar._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.CalendarCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCalendar.on_notify_ondropdown=function(_a,_b){if(!this._displaymode){return (nexacro.CalendarCtrl.prototype.on_notify_ondropdown.call(this,_a,_b));}};_pGridCalendar.on_notify_mobile_ondropdown=function(_a,_b){if(!this._displaymode){return nexacro.CalendarCtrl.prototype.on_notify_mobile_ondropdown.call(this,_a,_b);}};_pGridCalendar.on_notify_onkeydown=function(_a,_b){var _c=this._grid;if(_b.keycode==nexacro.Event.KEY_DOWN&&_b.altKey){_c._is_editor_keyaction=false;}if(!_a._displaymode){return (nexacro.CalendarCtrl.prototype.on_notify_onkeydown.call(this,_a,_b));}};_pGridCalendar.on_fire_ontextchange=function(_a,_b,_c,_d,_e,_f){return this._grid.on_fire_ontextchange(this,_b,_c,_d,_e,_f);};_pGridCalendar.on_fire_ontextchanged=function(_a,_b,_c){return this._grid.on_fire_ontextchanged(_a,_b,_c);};_pGridCalendar.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(!_a._displaymode){if(this._grid.autoupdatetype=="dateselect"||this._grid.autoupdatetype=="itemselect"){this._setDataset(true,undefined,false);}return (nexacro.CalendarCtrl.prototype.on_fire_onchanged.call(this,_a,_b,_c,_d,_e));}};_pGridCalendar.on_fire_oncloseup=function(_a,_b,_c,_d,_e,_f){this._grid.on_fire_oncloseup(_a,_b,_c,_d,_e,_f);};_pGridCalendar.on_fire_ondropdown=function(_a){this._grid.on_fire_ondropdown(_a);};_pGridCalendar.on_fire_user_ontouchend=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridCalendar.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCalendar.on_fire_user_ontouchstart=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridCalendar.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.CalendarCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridCalendar.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.CalendarCtrl.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(this._isPopupVisible()){this._grid._is_editor_keyaction=false;}else{this._grid._is_editor_keyaction=true;}return _g;};_pGridCalendar.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.CalendarCtrl.prototype.on_fire_onclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCalendar.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.CalendarCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCalendar.on_notify_oneditclick=function(_a,_b){var _c="";if(_b.fromobject instanceof nexacro.CalendarEditCtrl){var _h=_b.fromobject._input_element;var _i,_j;if(_h.align){_i=_h.align._halign;_j=_h.align._valign;}else if(_h.halign&&_h.valign){_i=_h.halign;_j=_h.valign;}_c=this._cellobj._getClickItem(_i,_j,_b.canvasX,_b.canvasY,_h.text,_b.fromobject);}if(!_c){_c="control";}var _d=this._cellobj.currentstyle.padding;var _e=_b.canvasX+(_d?_d.left:0);var _f=_b.canvasY+(_d?_d.top:0);var _g=this._getClientXY(_e,_f);return this._cellobj.on_fire_onclick(_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_e,_f,_g[0],_g[1],_b.fromobject,_b.fromreferenceobject,_c);};_pGridCalendar.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype.on_lbuttondown_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._isPopupVisible()&&this==_l){this._closePopup();}return _n;};_pGridCalendar._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}if(_j&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this,"control");}};_pGridCalendar._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridCalendar._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridCalendar.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridCalendar._isEnable=function(){return this._grid._enable;};_pGridCalendar._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridCalendar._updateAll=function(){if(this.getElement()){this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridCalendar._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getAttrValue(_a.mask,_d);if(!_e||_e.length==0){_e="yyyy-MM-dd";}if(_e!=null){this.set_editformat(_e);this.set_dateformat(_e);}var _e=org_v=_a._getValue(_d);if(this._displaymode==true&&!_e){_e=_a._getDisplayText(_d);_e=this._makeNormalValue1(_e);}_e=this._toValueStr(_e);this.set_value(_e,true);_e=_a._getAttrValue(_a.editautoselect,_d);if(_e!=null){this.set_autoselect(_e);}if(this._isTimeMask()==true){this.set_type("spin");}else{this.set_type("normal");}if(_c.locale){this.set_locale(_c.locale);}var _f=_a._getAttrValue(_a.calendardisplay,_d);if(_f=="display"){_e=_a._getAttrValue(_a.calendardisplaynulltext,_d);if(_e!=null){this.set_displaynulltext(_e);}}var _g=_a._getAttrValue(_a.calendardisplaynulltype,_d);if(_g!="default"&&(nexacro._isNull(org_v)||org_v==="")){if(_g=="nulltext"){this.set_dateformat("");}else{if(_g=="nullmask"){_e=this._toValueStr(null);this.set_value(_e,true);}else{this.set_dateformat("");}this.set_displaynulltext("");}}var _h=_a._getAttrValue(_a.calendarinnerdataset,_d);if(_h){this.set_innerdataset(_h);}var _i=_a._getAttrValue(_a.calendarbackgroundcolumn,_d);if(_i){this.set_backgroundcolumn(_i);}var _j=_a._getAttrValue(_a.calendarbordercolumn,_d);if(_j){this.set_bordercolumn(_j);}var _k=_a._getAttrValue(_a.calendardatecolumn,_d);if(_k){this.set_datecolumn(_k);}var _l=_a._getAttrValue(_a.calendartextcolorcolumn,_d);if(_l){this.set_textcolorcolumn(_l);}};_pGridCalendar._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._setProperty();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}};_pGridCalendar._setDataset=function(_a,_b,_c){var _d=this._cellobj;var _e=this._cellinfo;var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(_c==undefined){_c=true;}this._setValueCtrl(_c);var _h=this.value;if(_b!=undefined){_g=_b;}var _i=true;if(_e.text._bindtype==1){this._grid._is_async_recreate=_a;this._grid._dsEventOccured=true;var _j={status:""};_e.grid._binddataset._setColumn(_g,_e.text._bindexpr,_h,_j);if(_j.status=="cancolumnchange"){this._setValue(undefined);_i=false;}this._grid._dsEventOccured=false;}return _i;};delete _pGridCalendar;nexacro.GridControlCombo=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ComboCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;if(_g){this._displaymode=true;this.readonly=true;}else{this._displaymode=false;}this._controlmode=(_h)?true:false;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f;}};var _pGridCombo=nexacro._createPrototype(nexacro.ComboCtrl,nexacro.GridControlCombo);nexacro.GridControlCombo.prototype=_pGridCombo;_pGridCombo.on_find_CurrentStyle_align=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){if(this._displaymode){if(_a!="disabled"){_a="normal";}}var _e=this._find_pseudo_obj("align",_a,"align",_b);return _e;}return null;};_pGridCombo.on_find_CurrentStyle_font=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("font",_a,"font",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_d.on_find_CurrentStyle_font(_a);}return _e;}return null;};_pGridCombo.on_find_CurrentStyle_color=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("color",_a,"color",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_d.on_find_CurrentStyle_color(_a);}return _e;}return null;};_pGridCombo.on_find_CurrentStyle_accessibility=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("accessibility",_a,"accessibility",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_c._query_pseudo_accessibility(_g,_a);}return _e;}return null;};_pGridCombo.on_find_CurrentStyle_background=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("background",_a,"background",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_d.on_find_CurrentStyle_background(_a);}return _e;}return null;};_pGridCombo.on_find_CurrentStyle_bordertype=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("bordertype",_a,"bordertype",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);return _e;}return null;};_pGridCombo.on_find_CurrentStyle_gradation=function(_a,_b){var _c=this._cellinfo;var _d=this._cellobj;if(_c&&_d){var _e=this._find_pseudo_obj("gradation",_a,"gradation",_b);var _f=this._grid;var _g=_f._getDataRow(_d._rowidx);if(!_e){_e=_c._query_pseudo_gradation(_g,_d._curDisplayType,_a);}return _e;}return null;};_pGridCombo._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridCombo._find_pseudo_obj=function(_a,_b,_c,_d){var _e=this._cellinfo;if(this._displaymode==true){if(_b!="disabled"){_b="normal";}}var _f=this._grid;var _g=_f._getDataRow(this._cellobj._rowidx);var _h="control"+_a;var _i=_e._query_pseudo_control(this,_g,_h,_a,_b,_c,_d);return _i;};_pGridCombo.on_destroy_contents=function(){nexacro.ComboCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridCombo._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_c=(_c!=_a._display_text)?_c:"";_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridCombo.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridCombo._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){var _h=true;if(_g){_h=this._cellobj._common_lbuttonup(_c,null,null,null,null);}if(_h){nexacro.ComboCtrl.prototype._on_bubble_touchend.call(this,_a,_b,_c,_d,_e,_f,_g);}return true;};_pGridCombo._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_lbuttonup(null,_a,_f,_g,_m);}if(_o){nexacro.ComboCtrl.prototype._on_bubble_lbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCombo._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.ComboCtrl.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCombo._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.ComboCtrl.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCombo.on_fire_oncloseup=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.ComboCtrl.prototype.on_fire_oncloseup.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._grid.on_fire_oncloseup(_a,_c,_f,_d,_g,_h);};_pGridCombo.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=this._grid;if(_a==nexacro.Event.KEY_DOWN||_a==nexacro.Event.KEY_UP||(_a==nexacro.Event.KEY_DOWN&&_b)){_g._is_editor_keyaction=false;}nexacro.ComboCtrl.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(!this._displaymode){return this._cellobj.on_fire_user_onkeydown(_a,_b,_c,_d,_e,_f);}};_pGridCombo.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._displaymode){return nexacro.ComboCtrl.prototype.on_fire_sys_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);};};_pGridCombo.on_fire_ondropdown=function(_a){return this._grid.on_fire_ondropdown(_a);};_pGridCombo.on_fire_user_ontouchend=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridCombo.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCombo.on_fire_user_ontouchstart=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(this._isSubCell){_e.canvasX-=_d._adjust_left;_e.canvasY-=_d._adjust_top;_e.clientX-=_d._adjust_left;_e.clientY-=_d._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_ontouchstart.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);return true;};_pGridCombo.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(_l!=this){_g-=_l._adjust_left;_i-=_l._adjust_left;_h-=_l._adjust_top;_j-=_l._adjust_top;}nexacro.ComboCtrl.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return true;};_pGridCombo.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ComboCtrl.prototype.on_fire_onclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCombo.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._displaymode){this.setSelect(0,0);}nexacro.ComboCtrl.prototype.on_fire_ondblclick.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"control");return true;};_pGridCombo.on_fire_ontextchange=function(_a,_b){if(_b.pretext!=_b.posttext){this._text_change=true;}return this._grid.on_fire_ontextchange(this,_b.chartext,_b.pretext,_b.posttext,_b.preimetext,_b.postimetext);};_pGridCombo.on_fire_ontextchanged=function(_a,_b){this.on_combo_text_changed(_b.pretext,_b.posttext);return this._grid.on_fire_ontextchanged(_a,_b.pretext,_b.posttext);};_pGridCombo.on_fire_onitemchanged=function(_a,_b,_c,_d,_e,_f,_g){if(!_a._displaymode){if(this._grid.autoupdatetype=="comboselect"||this._grid.autoupdatetype=="itemselect"){this._setDataset(true);}return (nexacro.ComboCtrl.prototype.on_fire_onitemchanged.call(this,_a,_b,_c,_d,_e,_f,_g));}};_pGridCombo.on_notify_edit_oneditclick=function(_a,_b){var _c="";if(_b.fromobject instanceof nexacro.ComboEditCtrl){var _h=_b.fromobject._input_element;var _i,_j;if(_h.align){_i=_h.align._halign;_j=_h.align._valign;}else if(_h.halign&&_h.valign){_i=_h.halign;_j=_h.valign;}_c=this._cellobj._getClickItem(_i,_j,_b.canvasX,_b.canvasY,_h.text,_b.fromobject);}if(!_c){_c="control";}var _d=this._cellobj.currentstyle.padding;var _e=_b.canvasX+(_d?_d.left:0);var _f=_b.canvasY+(_d?_d.top:0);var _g=this._getClientXY(_e,_f);return this._cellobj.on_fire_onclick(_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_e,_f,_g[0],_g[1],_b.fromobject,_b.fromreferenceobject,_c);};_pGridCombo.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype.on_lbuttondown_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._isPopupVisible()&&this==_l){this._closePopup();}return _n;};_pGridCombo._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j=this.visible;if(this._displaymode&&this._grid.selectchangetype=="up"){_j=true;}if(_j&&this._isEnable()&&this.enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pGridCombo._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridCombo._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridCombo._callback_onvaluechanged=function(_a,_b){if(!this._displaymode){this._recheckValue();this._is_recheck=true;}};_pGridCombo.on_getBindableProperties=function(){if(!this._displaymode){return "value";}};_pGridCombo._isEnable=function(){return this._grid._enable;};_pGridCombo._updateAll=function(){if(this.getElement()){this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridCombo._setProperty=function(){var _a=this._cellinfo,_b=this._cellobj,_c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getEdittype(_d);var _f=_a._getAttrValue(_a.combodataset,_d);if(_f&&_f.length){this.set_innerdataset(_f);}var _g=_a._getAttrValue(_a.combodatacol,_d);if(_g&&_g.length){this.set_datacolumn(_g);}var _h=_a._getAttrValue(_a.combocodecol,_d);if(_h&&_h.length){this.set_codecolumn(_h);}var _i=_a._getAttrValue(_a.combodisplayrowcount,_d);if(_i){this.set_displayrowcount(_i);}var _j=_a._getAttrValue(_a.combotype,_d);if(_j){this.set_type(_j);}var _k;if(this._displaymode==true){_k=_a._getDisplayText(_d);this.set_text(_k);}else{_k=_a._getValue(_d);this.set_value(_k);}_k=_a._getAttrValue(_a.editautoselect,_d);if(_k!=null){this.set_autoselect(_k);}var _l=_a._getAttrValue(_a.combodisplay,_d);if(_l=="display"){_k=_a._getAttrValue(_a.combodisplaynulltext,_d);if(_k!=null){this.set_displaynulltext(_k);}}};_pGridCombo._EditUpdateAll=function(_a,_b){if(this.getElement()){this._cellinfo=_a;this._cellobj=_b;this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);this._setProperty();}};_pGridCombo._setDataset=function(_a,_b){var _c=this._cellobj;var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);var _g=this.value;if(_b!=undefined){_f=_b;}var _h=true;if(_d.text._bindtype==1){if(this._prevalue!=this.value){this._grid._is_async_recreate=_a;this._grid._dsEventOccured=true;var _i={status:""};_d.grid._binddataset._setColumn(_f,_d.text._bindexpr,_g,_i);if(_i.status=="cancolumnchange"){this.set_value(undefined);_h=false;}this._grid._dsEventOccured=false;}}return _h;};delete _pGridCombo;nexacro.GridCellCheckbox=function(_a,_b,_c,_d,_e,_f){nexacro.CheckBoxCtrl.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_usetextbox=false;var _g=_f;while(_g){if(_g._type_name=="GridCell"){this._cellobj=_g;this._cellinfo=_g._refobj;this._grid=_g._refobj.grid;break;}_g=_g.parent;}this.checked=false;};var _pGridCellCheckbox=nexacro._createPrototype(nexacro.CheckBoxCtrl,nexacro.GridCellCheckbox);nexacro.GridCellCheckbox.prototype=_pGridCellCheckbox;_pGridCellCheckbox.on_find_CurrentStyle_font=function(){};_pGridCellCheckbox.on_find_CurrentStyle_color=function(){};_pGridCellCheckbox.on_find_CurrentStyle_align=function(){};_pGridCellCheckbox.on_find_CurrentStyle_border=function(){};_pGridCellCheckbox.on_find_CurrentStyle_bordertype=function(){};_pGridCellCheckbox.on_find_CurrentStyle_background=function(){};_pGridCellCheckbox.on_find_CurrentStyle_gradation=function(){};_pGridCellCheckbox.on_find_CurrentStyle_padding=function(){};_pGridCellCheckbox.on_find_CurrentStyle_focusborder=function(){};_pGridCellCheckbox.on_find_CurrentStyle_moveeffect=function(){};_pGridCellCheckbox.on_find_CurrentStyle_shadow=function(){};_pGridCellCheckbox.on_find_CurrentStyle_textpadding=function(){};_pGridCellCheckbox.on_update_style_background=function(){};_pGridCellCheckbox.on_update_style_border=function(){};_pGridCellCheckbox.on_update_style_bordertype=function(){};_pGridCellCheckbox.on_update_style_gradation=function(){};_pGridCellCheckbox.on_update_style_font=function(){};_pGridCellCheckbox.on_update_style_padding=function(){};_pGridCellCheckbox.on_update_style_shadow=function(){};_pGridCellCheckbox.on_update_style_padding=function(){};_pGridCellCheckbox.on_update_style_align=function(){};_pGridCellCheckbox.on_update_style_cursor=function(){};_pGridCellCheckbox.on_update_style_color=function(){};_pGridCellCheckbox.on_create_contents=function(){nexacro.CheckBoxCtrl.prototype.on_create_contents.call(this);this.chkimg.on_apply_custom_setfocus=function(){};this.chkimg._on_last_lbuttonup=function(){this.parent._on_last_lbuttonup();};this.chkimg._on_last_keyup=function(){this.parent._on_last_keyup();};};_pGridCellCheckbox.on_apply_custom_setfocus=function(_a,_b){};_pGridCellCheckbox.on_apply_style_buttonalign=function(){var _a;if(this.currentstyle.buttonsize==null){_a=14;}else{_a=parseInt(this.currentstyle.buttonsize._value,10);}this.resize(_a,_a);};_pGridCellCheckbox._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridCellCheckbox._styleProp=[["buttonbackground","background"],["buttonborder","border"],["buttonbordertype","bordertype"],["buttongradation","gradation"],["buttonimage","image"]];_pGridCellCheckbox._getStyleProp=function(_a){var _b=this._styleProp;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d][0]==_a){return _b[_d][1];}}return _a;};_pGridCellCheckbox.on_get_style_accessibility_label=function(){return "";};_pGridCellCheckbox.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._find_pseudo_obj("cursor",_a)||this._cellobj.on_find_CurrentStyle_cursor(_a);return (_c)?_c:nexacro.Component._default_cursor;};_pGridCellCheckbox._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}var _g="control"+this._getStyleProp(_a);var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridCellCheckbox.on_created_contents=function(){nexacro.CheckBoxCtrl.prototype.on_created_contents.call(this);var _a=this._cellobj.currentstyle.align;if(_a){this._setAlign(_a.halign,_a.valign);}};_pGridCellCheckbox.on_destroy_contents=function(){nexacro.CheckBoxCtrl.prototype.on_destroy_contents.call(this);this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridCellCheckbox.on_change_containerRect=function(){var _a=this._grid._getAvailableRect(this);var _b=_a.height;this.chkimg.move(0,0,_b,_b);};_pGridCellCheckbox._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);this._setAccessibilityStatChecked(this.isChecked());_a._setAccessibilityStatChecked(this.isChecked());nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridCellCheckbox.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridCellCheckbox.on_notify_checkbox_onkeydown=function(_a,_b){};_pGridCellCheckbox.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCellCheckbox.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCellCheckbox._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridCellCheckbox._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridCellCheckbox._isEnable=function(){return this._grid._enable;};_pGridCellCheckbox._setAlign=function(_a,_b){var _c=this._grid._getAvailableRect(this.parent);var _d=_c.right;var _e=_c.bottom;;var _f=_c.width;var _g=_c.height;var _h;if(this.currentstyle.buttonsize==null){_h=14;}else{_h=parseInt(this.currentstyle.buttonsize._value,10);}if(!_a){_a="center";}if(!_b){_b="middle";}var _i=0;var _j=0;if(_a=="center"){_i=Math.round((_f-_h)/2);}else if(_a=="right"){_i=_d-_h;}if(_b=="middle"){_j=Math.round((_g-_h)/2);}else if(_b=="bottom"){_j=_e-_h;}this.move(_i,_j,_h,_h);};_pGridCellCheckbox._updateAll=function(){if(this.getElement()){this._setProperty();this.on_apply_pseudo(this._pseudo);this.set_value(this.checked);}};_pGridCellCheckbox._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getDisplayText(_d);_e=nexacro._toString(_e);if(_e!=null){this._display_text=_e;this.set_text(_e);}else{this._display_text="";this.set_text("");}};delete _pGridCellCheckbox;nexacro.GridControlCheckbox=function(_a,_b,_c,_d,_e,_f,_g){nexacro.GridCellCheckbox.call(this,_a,_b,_c,_d,_e,_f);this._controlmode=(_g)?true:false;};var _pGridCheckbox=nexacro._createPrototype(nexacro.GridCellCheckbox,nexacro.GridControlCheckbox);nexacro.GridControlCheckbox.prototype=_pGridCheckbox;_pGridCheckbox.on_apply_text=function(){var _a=this._display_text;this.checked=(_a==null)?false:nexacro._toBoolean(_a);};_pGridCheckbox._common_fire_lbuttondown=function(_a){var _b=this._grid;if(_b){var _c=_b._getDataRow(this._cellobj._rowidx);if(_b._isFakeCell(_c)){return false;}}};_pGridCheckbox.on_fire_user_ontouchstart=function(_a,_b,_c,_d){this._common_fire_lbuttondown();return this._cellobj.on_fire_user_ontouchstart(_a,_b,_c,_d);};_pGridCheckbox.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._common_fire_lbuttondown();return this._cellobj.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridCheckbox.on_fire_user_ontouchend=function(_a,_b,_c,_d){nexacro.GridCellCheckbox.prototype.on_fire_user_ontouchend.call(this,_a,_b,_c,_d);this._cellobj.on_fire_user_ontouchend(_a,_b,_c,_d);return true;};_pGridCheckbox.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.GridCellCheckbox.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this._cellobj.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return true;};_pGridCheckbox.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._grid;if(_m){var _n=_m._getDataRow(this._cellobj._rowidx);if(_m._isFakeCell(_n)){return false;}}if(_m.selectchangetype!="down"){if(nexacro._toBoolean(_m.readonly)==false){this._toggleCheck();}}if(!this._is_alive){return;}return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCheckbox.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._grid;if(_m){var _n=_m._getDataRow(this._cellobj._rowidx);if(_m._isFakeCell(_n)){return false;}}return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"control");};_pGridCheckbox._toggleCheck=function(){var _a=this._cellobj;var _b=this._cellinfo;var _c=this._grid;var _d=_c._getDataRow(_a._rowidx);var _e=_b._getEdittype(_d);if(_e=="checkbox"){var _f=nexacro._toBoolean(this.value);_f=(_f)?0:1;if(_b.text._bindtype==1){_c._dsEventOccured=true;if(_b.grid._binddataset.setColumn(_d,_b.text._bindexpr,_f)){_f=this._getDisplayText();this.set_value(_f);}if(_c){_c._dsEventOccured=false;}}}};_pGridCheckbox._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridCheckbox._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseenter();}if(_o){nexacro.GridCellCheckbox.prototype._on_bubble_mouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};_pGridCheckbox._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=true;if(_n){_o=this._cellobj._common_mouseleave();}if(_o){nexacro.GridCellCheckbox.prototype._on_bubble_mouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);}return true;};delete _pGridCheckbox;nexacro.GridControlImage=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_subcontrol=true;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}this._img_elem=null;this._img_type="url";};var _pGridImage=nexacro._createPrototype(nexacro.Component,nexacro.GridControlImage);nexacro.GridControlImage.prototype=_pGridImage;_pGridImage._type_name="GridControlImage";_pGridImage.imagewidth=0;_pGridImage.imageheight=0;_pGridImage.on_find_CurrentStyle_accessibility=function(_a){var _b=this._cellinfo;var _c=this._cellobj;if(_b&&_c){var _d=this._find_pseudo_obj("accessibility",_a,"accessibility");var _e=this._grid;var _f=_e._getDataRow(_c._rowidx);if(!_d){_d=_b._query_pseudo_accessibility(_f,_a);}return _d;}return null;};_pGridImage.on_find_CurrentStyle_background=function(_a){return this._find_pseudo_obj("background",_a,"background");};_pGridImage.on_find_CurrentStyle_border=function(_a){return this._find_pseudo_obj("border",_a,"border");};_pGridImage.on_find_CurrentStyle_bordertype=function(_a){return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pGridImage.on_find_CurrentStyle_gradation=function(_a){return this._find_pseudo_obj("gradation",_a,"gradation");};_pGridImage.on_find_CurrentStyle_padding=function(_a){return this._find_pseudo_obj("padding",_a,"padding");};_pGridImage.on_find_CurrentStyle_opacity=function(_a){return this._find_pseudo_obj("opacity",_a);};_pGridImage.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}var _c=this._find_pseudo_obj("cursor",_a)||this._cellobj.on_find_CurrentStyle_cursor(_a);return (_c)?_c:nexacro.Component._default_cursor;};_pGridImage.on_find_CurrentStyle_shadow=function(_a){return null;};_pGridImage.on_find_CurrentStyle_font=function(_a){return this._find_inherit_pseudo_obj("font",_a,"font");};_pGridImage.on_find_CurrentStyle_color=function(_a){return this._find_inherit_pseudo_obj("color",_a,"color");};_pGridImage.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a);};_pGridImage._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridImage._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._grid;var _f=_e._getDataRow(this._cellobj._rowidx);if(this._cellobj&&this._grid._isFakeCell(_f)&&_b!="disabled"){_b="normal";}_f=_e._getDataRow(this._cellobj._rowidx);var _g="control"+_a;var _h=_d._query_pseudo_control(this,_f,_g,_a,_b,_c);return _h;};_pGridImage.on_created_contents=function(){if(this._img_elem){this._img_elem.create();}};_pGridImage.on_destroy_contents=function(){this._grid=null;this._cellinfo=null;this._cellobj=null;if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}};_pGridImage._setAccessibilityStatFocus=function(){var _a=this._cellobj;var _b=_a._getAccessibilityMakeAddLabel();var _c="";var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d){if(_d._bindexpr&&_d._bindexpr.length>0){_c=this._cellinfo._getAttrValue(_d,this._rowidx);_d._setValue(_c);}_c=this._getAccessibilityLabel(_d);}else{_c=_a._getCellAccessibilityLabel();}_b+=" "+_c;this._setAccessibilityLabel(_b);nexacro.Component.prototype._setAccessibilityStatFocus.call(this);};_pGridImage.on_get_style_accessibility_label=function(){return (this.text)?this.text:this.id;};_pGridImage.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridImage.on_apply_text=function(){this._load_image(this._display_text);};_pGridImage.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"image");};_pGridImage.on_fire_user_ontouchstart=function(_a,_b,_c,_d){return this.parent.on_fire_user_ontouchstart(_a,_b,this,_d);};_pGridImage.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_user_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l);};_pGridImage.on_fire_user_ontouchend=function(_a,_b,_c,_d){return this.parent.on_fire_user_ontouchend(_a,_b,this,_d);};_pGridImage.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this.parent.on_fire_user_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,_m);};_pGridImage.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){return this.parent.on_fire_user_onkeydown(_a,_b,_c,_d,this,_f);};_pGridImage.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){return this.parent.on_fire_user_onkeyup(_a,_b,_c,_d,this,_f);};_pGridImage.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,"image");};_pGridImage.on_fire_onsize=function(_a,_b){if(this._complete){this.__apply_text();}return nexacro.Component.prototype.on_fire_onsize.call(this,_a,_b);};_pGridImage._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridImage._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridImage._isEnable=function(){return this._grid._enable;};_pGridImage._getDisplayText=function(){if(this.parent){return this.parent._getDisplayText();}return "";};_pGridImage._updateAll=function(){this.on_apply_pseudo(this._pseudo);this._setProperty();};_pGridImage._setProperty=function(){var _a=this._cellinfo;var _b=this._cellobj;var _c=this._grid;var _d=_c._getDataRow(_b._rowidx);var _e=_a._getDisplayText(_d);_e=nexacro._toString(_e);if(_e!=null){this.set_text(_e);}else{this.set_text("");}};_pGridImage._adjustAlign=function(_a,_b){if(!_a){_a="center";}if(!_b){_b="middle";}var _c=this._grid._getAvailableRect(this.parent);var _d=_c.width;var _e=_c.height;var _f=_c.right;var _g=_c.bottom;var _h=0;var _i=0;var _j=this._img_elem;var _k=this.imagewidth;var _l=this.imageheight;if(_a=="center"){_h=Math.round((_d-_k)/2);}else if(_a=="right"){_h=_f-_k;}if(_b=="middle"){_i=Math.round((_e-_l)/2);}else if(_b=="bottom"){_i=_g-_l;}this.move(_h,_i,_k,_l);if(_j){_j.setElementSize(_k,_l);}};_pGridImage._on_loadImg=function(_a,_b,_c){if(!this._is_alive||!this._img_elem){return;}if(this._img_type=="url"){this._img_elem.setElementImageUrl(_a);}else{this._img_elem.setElementImageBase64(_a);}this.imagewidth=_b;this.imageheight=_c;var _d=this.on_find_CurrentStyle_align(this._pseudo);if(_d){this._adjustAlign(_d.halign,_d.valign);}else{this._adjustAlign();}};_pGridImage._load_image=function(_a){var _b=this.getElement();var _c="";var _d="url";if(_a){_c=_a.toString();var _e=nexacro._checkBase64String(_c);if(_e){_d="base64";if(_c.substring(0,10).toLowerCase()=="data:image"){if(_c.substring(0,17).toLowerCase()!="data:image;base64"){var _f=_c.indexOf(",");if(_f> -1){var _g=_c.slice(_f+1,_c.legnth);_c="data:image;base64,"+_g;}}}else{_c="data:image;base64,"+_c;}}}if(_c&&_b){var _h=this._img_elem;var _i=false;if(!_h){this._img_elem=_h=new nexacro.ImageElement(_b);_i=true;}if(!_h._handle){_h.create();}if(_d=="url"){_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());}this._img_type=_d;var _j=nexacro._getImageSize(_c,this._on_loadImg,this);if(_j){this.imagewidth=_j.width;this.imageheight=_j.height;if(_d=="url"){_h.setElementImageUrl(_c);}else{_h.setElementImageBase64(_c);}}var _k=this.on_find_CurrentStyle_align(this._pseudo);this._adjustAlign(_k.halign,_k.valign);if(_i){if(this._is_created){_h.create();}}if(this.imagewidth>0&&this.imageheight>0){_h.setElementSize(this.imagewidth,this.imageheight);}}else{if(this._img_elem){this._img_elem.destroy();this.imagewidth=0;this.imageheight=0;this._img_elem=null;}}};delete _pGridImage;nexacro.GridSelectorButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){nexacro.TrackImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_j);this._parent=_i;this._band=_i._band;this._grid=_j;this._idx=_k;this._point={x:0,y:0,w:0,h:0};this._minibox=null;this._minibox_size=8;this._minibox_wgap=0;this._minibox_hgap=0;};var _pGridSelectorButtonCtrl=nexacro.GridSelectorButtonCtrl.prototype=nexacro._createPrototype(nexacro.TrackImageButtonCtrl,nexacro.GridSelectorButtonCtrl);_pGridSelectorButtonCtrl._type_name="GridSelectorButtonControl";_pGridSelectorButtonCtrl.on_find_CurrentStyle_background=function(_a){};_pGridSelectorButtonCtrl.on_find_CurrentStyle_border=function(_a){};_pGridSelectorButtonCtrl.on_find_CurrentStyle_image=function(_a){return this._grid.on_find_CurrentStyle_selectpointimage(_a);};_pGridSelectorButtonCtrl.on_apply_style_image=function(_a){nexacro.TrackImageButtonCtrl.prototype.on_apply_style_image.call(this);this._updateMiniBox();};_pGridSelectorButtonCtrl._on_loadImg=function(_a,_b,_c){if(!this._is_alive){return;}this._image_width=_b;this._image_height=_c;this._updateMiniBox();};_pGridSelectorButtonCtrl._load_image=function(_a){var _b=_a?_a._value:"";if(_b){if(_b.substring(0,4).toLowerCase()=="url("){_b=_b.substring(5,_b.length-2);}_b=nexacro._getImageLocation(_b,this._getRefFormBaseUrl());var _d=nexacro._getImageSize(_b,this._on_loadImg,this);if(_d){this._on_loadImg(_b,_d.width,_d.height);}}var _c=nexacro.TrackImageButtonCtrl.prototype._load_image.call(this,_a);return _c;};_pGridSelectorButtonCtrl._updateMiniBox=function(){if(!this.currentstyle.image||!this._image_width||!this._image_height){var _a=(this._adjust_height-this._minibox_size)/2;this._minibox_wgap=_a;this._minibox_hgap=_a;if(!this._minibox){this._minibox=new nexacro.Component("minibox","absolute",_a,_a,this._minibox_size,this._minibox_size,null,null,this);this._minibox._is_simple_control=true;this._minibox._is_track=true;this._minibox._on_starttrack=function(){return this.parent._on_starttrack();};this._minibox._on_movetrack=function(_a,_b,_c){return this.parent._on_movetrack(_a,_b,_c);};this._minibox._on_endtrack=function(_a,_b,_c){return this.parent._on_endtrack(_a,_b,_c);};this._minibox.on_find_CurrentStyle_border=function(_b){return nexacro._getCachedStyleObj("border","1 solid black");};this._minibox.on_find_CurrentStyle_background=function(_b){return this.parent._band._find_pseudo_obj("selectbackground","normal","background","body");};this._minibox.createComponent();}else{this._minibox.move(_a,_a,this._minibox_size,this._minibox_size);}}else{if(this._minibox){this._minibox.destroy();this._minibox=null;}if(this._img_elem){this._minibox_wgap=(this._adjust_width-this._image_width)/2;this._minibox_hgap=(this._adjust_height-this._image_height)/2;if(this._minibox_wgap<0){this._minibox_wgap=0;}if(this._minibox_hgap<0){this._minibox_hgap=0;}}}};_pGridSelectorButtonCtrl.on_fire_onsize=function(_a,_b){this._updateMiniBox();};_pGridSelectorButtonCtrl.on_create_contents=function(){nexacro.TrackImageButtonCtrl.prototype.on_create_contents.call(this);this._updateMiniBox();};_pGridSelectorButtonCtrl.on_created_contents=function(){nexacro.TrackImageButtonCtrl.prototype.on_created_contents.call(this);if(this._minibox){this._minibox.on_created();}};_pGridSelectorButtonCtrl.on_destroy_contents=function(){this._parent=null;this._band=null;this._grid=null;this._minibox=null;nexacro.TrackImageButtonCtrl.prototype.on_destroy_contents.call(this);};_pGridSelectorButtonCtrl._on_starttrack=function(){var _a=this._parent;_a._is_tracking=true;_a._track_reset_scroll=false;_a._track_up_scroll=false;var _b=this._grid._getScrollTop();var _c=this._grid._getScrollLeft();this._point.hgap=0;this._point.wgap=0;this._point.scrolltop=_b;this._point.scrollleft=_c;this._point.x=_a._area_pos.l;this._point.y=_a._area_pos.t;this._point.w=_a._area_pos.w;this._point.h=_a._area_pos.h;var _d=end_row=start_col=end_col= -1;var _e=this._grid._selectinfo.area;if(_e.length>0){var _f=_e[_e.length-1];_d=_f.begrow;end_row=_f.endrow;start_col=_f.begrow;end_col=_f.endrow;if(this._idx!=_a._pre_idx){var _g=this._grid._selectinfo.areainfo;var _h=this._grid._selectinfo.ctrlpoint;var _i;if(_g){var _j=this._grid._curFormat;var _k=_j._bodyrows.length;if(this._idx==0){_i=_j._bodycells[_g.ecell];_h._set(_i,_g.erow,_k);}else if(this._idx==1){_i=_j._bodycells[_g.scell];_h._set(_i,_g.srow,_k);}else if(this._idx==2){_i=_j._bodycells[_g.ecell];_h._set(_i,_g.srow,_k);}else if(this._idx==3){_i=_j._bodycells[_g.scell];_h._set(_i,_g.erow,_k);}}}}if(this._grid._fixed_rowcnt>0){var _l=this._grid._getHeadHeight();var _m=this._grid._fixed_height;var _n=_l+_m;if(_d>=this._grid._fixed_startrow&&_d<=this._grid._fixed_endrow){this._point.y=_a._area_pos.t+=this._point.scrolltop;if(end_row>this._grid._fixed_endrow&&_b>0){if(_a._end_scroll_top>=0){this._point.h=_a._area_pos.h-=_b;}}}}_a.set_visible(true);_a._trackbar[0].set_visible(false);_a._trackbar[1].set_visible(false);_a._trackbar[2].set_visible(false);_a._trackbar[3].set_visible(false);_a._start_begarea=this._grid._selectinfo.arearect.barea;_a._start_endarea=this._grid._selectinfo.arearect.earea;if(this._idx==0){this._area=_a._start_begarea;}else{this._area=_a._start_endarea;}this._grid._track_mode="areaselect";_a._callback_start.call(this._grid,_a._area_pos,this._idx);};_pGridSelectorButtonCtrl._on_movetrack=function(_a,_b,_c){var _d=this._parent;var _e=this._grid._getScrollTop();var _f=this._grid._getScrollLeft();var _g=scroll_left_gap=0;if(_d._start_scroll_top>=0){_g=_d._start_scroll_top-_e;}if(_d._start_scroll_left>=0){scroll_left_gap=_d._start_scroll_left-_f;}var _h=this._grid._selectinfo.ctrlpoint.row;var _i=true;if(this._grid._fixed_rowcnt>0&&_h>=this._grid._fixed_startrow&&_h<=this._grid._fixed_endrow){_i=false;}if(this._idx==0){var _m=this._point.x+_a;var _n=this._point.y+_b;var _o=this._point.w-_a+scroll_left_gap;var _p=this._point.h-_b+(_i?_g:0);}else if(this._idx==1){var _m=this._point.x+scroll_left_gap;var _n=this._point.y+(_i?_g:0);var _o=this._point.w+_a-scroll_left_gap;var _p=this._point.h+_b-(_i?_g:0);}else if(this._idx==2){var _m=this._point.x+_a;var _n=this._point.y;var _o=this._point.w-_a;var _p=this._point.h+_b;}else if(this._idx==3){var _m=this._point.x;var _n=this._point.y+_b;var _o=this._point.w+_a;var _p=this._point.h-_b;}var _j=this._grid._selectinfo.area;if(this._grid._fixed_rowcnt>0&&_j.length){var _q=this._grid.currentstyle.border;var _r=(_q)?parseInt(_q.right_width,10):0;var _s=this._grid._getHeadHeight();var _t=this._grid._fixed_rowcnt;var _u=this._grid._fixed_height;var _v=_s+_u+_r;var _w=_j[_j.length-1];var _x=_w.begrow;var _y=_w.endrow;var _z=this._grid._selectinfo.ctrlpoint;var _aa=_z.row;var _ab=_z.col;var _q=this._grid.currentstyle.border;var _r=(_q)?parseInt(_q.right_width,10):0;var _ac=this._grid._fixed_startrow;var _ad=this._grid._fixed_endrow;var _ae=this._grid.vscrollbar;if((_n+_p)<_v){_d._track_reset_scroll=true;}if(_y>_ad){_d._track_up_scroll=true;}if(_d._track_reset_scroll&&_x<=_ad&&_e>0&&(_n+_p)>=_v){_ae.set_pos(0);_d._track_reset_scroll=false;}else if(_d._track_up_scroll&&_z.row<=_ad&&_e>0&&(_n+_p)<=(_v)){_ae.set_pos(_ae.pos-1);}else if(_z.row>_ad&&_e>0&&_n<=_v){_ae.set_pos(_ae.pos-1);}}var _k=_d._setAreaPos(_m,_n,_o,_p,true,this._idx);var _l=false;_d._adjust_scroll=false;if(_k[0]!=""||_k[1]!=""){var _af;if(_d._onlyarea){_af=_d._curarea;}var _ag=_d._area_pos.l;var _ah=_d._area_pos.t;var _ai=_d._area_pos.w;var _aj=_d._area_pos.h;_l=_d._callback_scroll.call(this._grid,_k,_af);_d._area_pos.l=_ag;_d._area_pos.t=_ah;_d._area_pos.w=_ai;_d._area_pos.h=_aj;}if(_l){if(_k[1]=="bottomover1"||_k[1]=="topover0"){}if(_k[0]=="rightover1"||_k[0]=="leftover0"){}}_d._callback.call(this._grid,_d._area_pos,this._idx,true);};_pGridSelectorButtonCtrl._on_endtrack=function(_a,_b,_c){var _d=this._parent;_d._is_tracking=false;_d._adjust_scroll=true;_d.set_visible(false);_d._trackbar[0].set_visible(true);_d._trackbar[1].set_visible(true);_d._start_begarea=this._grid._selectinfo.arearect.barea;_d._start_endarea=this._grid._selectinfo.arearect.earea;if(this._idx==0){this._area=_d._start_begarea;}else{this._area=_d._start_endarea;}_d._end_scroll_top=this._grid._getScrollTop();_d._end_scroll_left=this._grid._getScrollLeft();_d._pre_idx=this._idx;var _e=this._grid._selectinfo.area;if(this._grid._fixed_rowcnt>0&&_e.length){var _f=_e[_e.length-1];var _g=_f.endrow;var _h=this._grid._fixed_endrow;if(_g>_h){_d._track_up_scroll=true;}else{_d._track_up_scroll=false;}}this._grid._track_mode="";this._grid._updateSelector();};delete _pGridSelectorButtonCtrl;nexacro.GridSelector=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_simple_control=true;this._is_subcontrol=true;this._callback_start=null;this._callback=null;this._callback_scroll=null;this._trackbar=[];this._grid=_i;this._band=_i._bodyBand;this._area_pos={l:0,t:0,w:0,h:0,empty:true};this._curarea="";this._onlyarea=false;this._start_begarea="";this._start_endarea="";this._start_scroll_top= -1;this._start_scroll_left= -1;this._end_scroll_top= -1;this._end_scroll_left= -1;this._pre_idx= -1;};var _pGridSelector=nexacro._createPrototype(nexacro.Component,nexacro.GridSelector);nexacro.GridSelector.prototype=_pGridSelector;_pGridSelector._type_name="GridSelector";_pGridSelector._trackbar_size=22;_pGridSelector.on_find_CurrentStyle_background=function(_a){return null;};_pGridSelector.on_find_CurrentStyle_border=function(_a){return null;};_pGridSelector.on_find_CurrentStyle_opacity=function(_a){return null;};_pGridSelector.on_create_contents=function(){};_pGridSelector.on_created_contents=function(){if(this._trackbar[0]){this._trackbar[0].on_created();this._trackbar[1].on_created();this._trackbar[2].on_created();this._trackbar[3].on_created();}};_pGridSelector.on_destroy_contents=function(){this._trackbar[0].destroy();this._trackbar[1].destroy();this._trackbar[0]=null;this._trackbar[1]=null;this._trackbar[2]=null;this._trackbar[3]=null;this._trackbar=null;this._band=null;this._grid=null;};_pGridSelector.on_find_CurrentStyle_border=function(_a){return null;};_pGridSelector._createButton=function(){if(!this._trackbar[0]){this._trackbar[0]=new nexacro.GridSelectorButtonCtrl("selectortrackbar1","absolute",0,0,0,0,null,null,this,this.parent,0);this._trackbar[0].createComponent();this._trackbar[1]=new nexacro.GridSelectorButtonCtrl("selectortrackbar2","absolute",0,0,0,0,null,null,this,this.parent,1);this._trackbar[1].createComponent();this._trackbar[2]=new nexacro.GridSelectorButtonCtrl("selectortrackbar3","absolute",0,0,0,0,null,null,this,this.parent,2);this._trackbar[2].createComponent();this._trackbar[3]=new nexacro.GridSelectorButtonCtrl("selectortrackbar4","absolute",0,0,0,0,null,null,this,this.parent,3);this._trackbar[3].createComponent();this._trackbar[0]._no_slide_scroll=true;this._trackbar[1]._no_slide_scroll=true;this._trackbar[2]._no_slide_scroll=true;this._trackbar[3]._no_slide_scroll=true;this._recalcarea();}};_pGridSelector._updateAll=function(){if(this._trackbar[0]){this._trackbar[0].on_apply_custom_pseudo(this._trackbar[0]._pseudo);this._trackbar[1].on_apply_custom_pseudo(this._trackbar[1]._pseudo);this._trackbar[2].on_apply_custom_pseudo(this._trackbar[2]._pseudo);this._trackbar[3].on_apply_custom_pseudo(this._trackbar[3]._pseudo);}};_pGridSelector._recalcarea=function(_a){if(!this._trackbar[0]){return;}if(this._area_pos.empty){this._trackbar[0].set_visible(false);this._trackbar[1].set_visible(false);this._trackbar[2].set_visible(false);this._trackbar[3].set_visible(false);return;}if(_a!="hscroll"&&_a!="vscroll"){this.__showbutton(false);}var _b=this._trackbar_size;var _c=_b/2;var _d=this._grid;var _e=_d._curFormat;var _f=_e.leftWidth;var _g=_d._client_width-_e.rightWidth;var _h,_i,_j,_k;var _l,_m,_n,_o;var _p;_j=this._band._adjust_top;_k=this._band._getPosBottom();_h=[];_i=[];if(this._start_begarea=="left"){_h[0]=0;_i[0]=_f;}else if(this._start_begarea=="right"){_h[0]=_g;_i[0]=_d._client_width;}else{_h[0]=_f;_i[0]=_g;}if(this._start_endarea=="left"){_h[1]=0;_i[1]=_f;}else if(this._start_endarea=="right"){_h[1]=_g;_i[1]=_d._client_width;}else{_h[1]=_f;_i[1]=_g;}var _q=this._grid.currentstyle.border;var _r=(_q)?parseInt(_q.right_width,10):0;var _s=this._grid._getHeadHeight();var _t=this._grid._fixed_height;var _u=_s+_t+_r;var _v=this._grid._fixed_startrow;var _w=this._grid._fixed_endrow;var _x=this._grid._fixed_rowcnt;var _y=[false,false,false,false];var _z=this._grid._scroll_top;if(_x){var _ad=this._grid._selectinfo.area;var _ae,_af;if(_ad.length>0){_ae=_ad[_ad.length-1].begrow;_af=_ad[_ad.length-1].endrow;if(_ae<=(_v+_x)){_y[0]=_y[3]=true;}if(_af<=(_v+_x)){_y[1]=_y[2]=true;}}}_p=_y[0]?_z:0;_l=this._area_pos.l-_c;_m=this._area_pos.t-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[0].move(_l,_m,_b,_b);var _aa=this._trackbar[0]._minibox_wgap;var _ab=this._trackbar[0]._minibox_hgap;var _ac=_d._find_lastFocused();if(_ac==_d){if(_n-_aa<_h[0]||_o-_ab<_j||_l+_aa>_i[0]||_m+_ab>_k||_m+_ab<_t){this._trackbar[0].visible=_y[0]||false;}else{this._trackbar[0].visible=true;}}else{this._trackbar[0].visible=false;}_p=_y[1]?_z:0;_l=this._area_pos.l+this._area_pos.w-_c;_m=this._area_pos.t+this._area_pos.h-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[1].move(_l,_m,_b,_b);if(_ac==_d){if(_n-_aa<_h[1]||_o-_ab<_j||_l+_aa>_i[1]||_m+_ab>_k||_m+_ab<_t){this._trackbar[1].visible=_y[1]||false;}else{this._trackbar[1].visible=true;}}else{this._trackbar[1].visible=false;}_p=_y[2]?_z:0;_l=this._area_pos.l-_c;_m=this._area_pos.t+this._area_pos.h-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[2].move(_l,_m,_b,_b);if(_ac==_d){if(_n-_aa<_h[0]||_o-_ab<_j||_l+_aa>_i[0]||_m+_ab>_k||_m+_ab<_t){this._trackbar[2].visible=false;}}_p=_y[3]?_z:0;_l=this._area_pos.l+this._area_pos.w-_c;_m=this._area_pos.t-_c+_p;_n=_l+_b;_o=_m+_b;this._trackbar[3].move(_l,_m,_b,_b);if(_ac==_d){if(_n-_aa<_h[1]||_o-_ab<_j||_l+_aa>_i[1]||_m+_ab>_k||_m+_ab<_t){this._trackbar[3].visible=false;}}this.__showbutton(true);};if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){_pGridSelector.__showbutton=function(_a){if(this._trackbar[0]){if(!_a){this._trackbar[0]._control_element.setElementVisible(false);this._trackbar[1]._control_element.setElementVisible(false);this._trackbar[2]._control_element.setElementVisible(false);this._trackbar[3]._control_element.setElementVisible(false);}else{nexacro.OnceCallbackTimer.callonce(this,function(){this._trackbar[0]._control_element.setElementVisible(this._trackbar[0].visible);this._trackbar[1]._control_element.setElementVisible(this._trackbar[1].visible);},10);}}};}else{_pGridSelector.__showbutton=function(_a){if(this._trackbar[0]){if(!_a){this._trackbar[0]._control_element.setElementVisible(false);this._trackbar[1]._control_element.setElementVisible(false);this._trackbar[2]._control_element.setElementVisible(false);this._trackbar[3]._control_element.setElementVisible(false);}else{this._trackbar[0]._control_element.setElementVisible(this._trackbar[0].visible);this._trackbar[1]._control_element.setElementVisible(this._trackbar[1].visible);}}};}_pGridSelector._trackingHScroll=function(_a,_b,_c,_d,_e,_f,_g){if(!this._adjust_scroll&&!this._grid.hscrollbar){return [0,0];}return this._grid._trackingHScroll(_a,_b,_c,this._start_begarea,this._start_endarea,_d,_e,_f,_g);};_pGridSelector._setAreaPos=function(_a,_b,_c,_d,_e,_f){var _g=["",""];var _h=this._grid;this._curarea=_h._selectinfo.ctrlpoint.area;if(_e){var _j=this._grid._getTrackType(this,_a,_b,_c,_d,_f,this._onlyarea);_a=_j.adjust_l;_b=_j.adjust_t;_c=_j.adjust_w;_d=_j.adjust_h;_g[0]=_j.type[0];_g[1]=_j.type[1];}var _i=(_h._selectinfo.area.length>0)?false:true;if(_c<=0){_c=1;}if(_d<=0){_d=1;}this._area_pos.l=_a;this._area_pos.t=_b;this._area_pos.w=_c;this._area_pos.h=_d;this._area_pos.area=this._curarea;this._area_pos.empty=_i;if(_e){this._area_pos.scrolltop=_h._getScrollTop();}return _g;};_pGridSelector.move=function(_a,_b,_c,_d,_e){if(!this._is_tracking){if(_a>this._grid._client_width){return;}this._start_begarea=this._grid._selectinfo.arearect.barea;this._start_endarea=this._grid._selectinfo.arearect.earea;this._setAreaPos(_a,_b,_c,_d);this._recalcarea(_e);}else{this._setAreaPos(_a,_b,_c,_d);}return nexacro.Component.prototype.move.call(this,_a,_b,_c,_d,undefined,undefined);};_pGridSelector._setCallbackFn=function(_a,_b,_c){this._callback_start=_a;this._callback=_b;this._callback_scroll=_c;};_pGridSelector._initTrackInfo=function(){this._start_scroll_top= -1;this._start_scroll_left= -1;this._end_scroll_top= -1;this._end_scroll_left= -1;this._pre_idx= -1;};delete _pGridSelector;nexacro.GridControlResizer=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_simple_control=true;this._is_track=true;this._callback=null;this._index= -1;this._direction="";this._tracksize= -1;this._is_range=false;this._movedPos=0;this._is_tracking=false;this._no_slide_scroll=true;};var _pGridResizer=nexacro._createPrototype(nexacro.Component,nexacro.GridControlResizer);nexacro.GridControlResizer.prototype=_pGridResizer;_pGridResizer.on_find_CurrentStyle_cursor=function(_a){var _b=this._direction;var _c;if(_b=="horizon"){_c=nexacro._getCachedValueObj("col-resize");}else{_c=nexacro._getCachedValueObj("row-resize");}return _c;};_pGridResizer.on_create_contents=function(){};_pGridResizer.on_created_contents=function(){this.set_visible(false);this._on_apply_tracksize();var _a=nexacro._getCachedBackgroundObj("gray");this.on_apply_style_background(_a);var _b=this._direction;var _c;if(_b=="horizon"){_c=nexacro._getCachedValueObj("col-resize");}else{_c=nexacro._getCachedValueObj("row-resize");}this.on_apply_style_cursor(_c);};_pGridResizer._setCallbackFn=function(_a){this._callback=_a;};_pGridResizer._setIndex=function(_a){this._index=_a;};_pGridResizer._setDirection=function(_a){if(this._direction!=_a){this._direction=_a;this._on_apply_direction();}};_pGridResizer._on_apply_direction=function(){var _a=this.getElement();if(_a){this._on_apply_tracksize();var _b=this._direction;var _c;if(_b=="horizon"){_c=nexacro._getCachedValueObj("col-resize");}else{_c=nexacro._getCachedValueObj("row-resize");}this.on_apply_style_cursor(_c);}};_pGridResizer._setTracksize=function(_a){if(this._tracksize!=_a){this._tracksize=_a;this._on_apply_tracksize();}};_pGridResizer._on_apply_tracksize=function(){var _a=this.getElement();if(_a){var _b=this._tracksize;var _c=this._direction;if(_c=="horizon"){this.resize(1,_b);}else if(_c=="vertical"){this.resize(_b,1);}}};_pGridResizer._moveLeftTo=function(_a){this.left=_a=_a||0;this.move(_a,this.top);};_pGridResizer._moveTopTo=function(_a){this.top=_a=_a||0;this.move(this.left,_a);};_pGridResizer._on_starttrack=function(){if(!this._is_alive){return;}this._movedPos=0;this._is_tracking=true;};_pGridResizer._on_movetrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;if(_d.ondrag&&_d.ondrag.defaultprevented==true){return;}if(_d.ondragmove&&_d.ondragmove.defaultprevented==true){return;}if(!this.visible){this.set_visible(true);}if(this._direction=="horizon"){var _e=_a-this._movedPos;this._moveLeftTo(this.left+_e);this._movedPos=_a;}else if(this._direction=="vertical"){var _f=_b-this._movedPos;this._moveTopTo(this.top+_f);this._movedPos=_b;}};_pGridResizer._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getElement();if(_d){if(nexacro._cur_drag_info){nexacro._cur_drag_info=null;}if(this.visible){this.set_visible(false);}var _e=this.parent;if((_e.ondrag&&_e.ondrag.defaultprevented==true)||(_e.ondragmove&&_e.ondragmove.defaultprevented==true)){_e._setGlobalCursor(null,_e);}else{if(this._callback&&this._movedPos!=0){if(this._direction=="horizon"){this._callback.call(this.parent,_a,this._index);}else if(this._direction=="vertical"){this._callback.call(this.parent,_b,this._index);}}_e._setGlobalCursor(null,_e);}}this._is_tracking=false;};delete _pGridResizer;nexacro.GridControlLine_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.border=new nexacro.Style_border(1);};var _pGridControlLineStyle=nexacro.GridControlLine_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.GridControlLine_Style);_pGridControlLineStyle._type_name="GridControlLineStyle";nexacro.GridControlLine_CurrentStyle=function(){this.border=null;};var _pGridControlLineCurrentStyle=nexacro.GridControlLine_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridControlLine_CurrentStyle);_pGridControlLineCurrentStyle._type_name="GridControlLineCurrentStyle";delete _pGridControlLineStyle;delete _pGridControlLineCurrentStyle;nexacro.GridControlLine=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_subcontrol=true;this._is_simple_control=true;this._is_nc_control=true;if(_f._refobj){this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;}else{this._grid=_f._grid;this._cellinfo=_f._cellinfo;this._cellobj=_f._cellobj;}this._linetype={};this._depth= -1;this._showleft=false;this._showbottom=false;};var _pGridControlLine=nexacro._createPrototype(nexacro.Component,nexacro.GridControlLine);nexacro.GridControlLine.prototype=_pGridControlLine;_pGridControlLine._type_name="GridControlLine";_pGridControlLine.on_create_custom_style=function(){return new nexacro.GridControlLine_Style(this);};_pGridControlLine.on_create_custom_currentStyle=function(){return new nexacro.GridControlLine_CurrentStyle();};_pGridControlLine.on_find_CurrentStyle_border=function(_a){var _b=this._linetype.width+"px "+this._linetype.style+" "+this._linetype.color;var _c="0px none transparent, 0px none transparent, ";if(this._showbottom){_c+=_b+", ";}else{_c+="0px none transparent, ";}if(this._showleft){_c+=_b;}else{_c+="0px none transparent";}var _d=nexacro._getCachedStyleObj("border",_c);return _d;};_pGridControlLine.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return this.parent.on_find_CurrentStyle_cursor(_a);};_pGridControlLine._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridControlLine.on_change_containerRect=function(_a,_b){this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);};_pGridControlLine.on_destroy_contents=function(){this._grid=null;this._cellinfo=null;this._cellobj=null;};_pGridControlLine._isEnable=function(){return this._grid._enable;};_pGridControlLine._set_line=function(_a,_b,_c){var _d=this.getElement();if(_d&&_a){this._linetype=_a;this._showleft=_b;this._showbottom=_c;this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo(this._pseudo);}};delete _pGridControlLine;nexacro.GridControlTree=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this.tabstop=false;this._is_subcontrol=true;this._grid=_f._refobj.grid;this._cellinfo=_f._refobj;this._cellobj=_f;this._linetype={};this._leftline_ctrls=[];};var _pGridTree=nexacro._createPrototype(nexacro.Component,nexacro.GridControlTree);nexacro.GridControlTree.prototype=_pGridTree;_pGridTree._type_name="GridControlTree";_pGridTree._btn_elem=null;_pGridTree._chk_ctrl=null;_pGridTree._img_elem=null;_pGridTree._text_elem=null;_pGridTree._applied_state= -1;_pGridTree._display_text="";_pGridTree._upline_ctrl=null;_pGridTree._downline_ctrl=null;_pGridTree._leftline_ctrls=null;_pGridTree._clicktarget=null;_pGridTree.on_apply_custom_pseudo=function(_a){if(!this._is_created){return;}var _b=this.getElement();if(!_b){return;}if(!_a){_a=this._pseudo;}var _c=this.currentstyle;var _d=this.on_find_CurrentStyle_font(_a);if(_c.font!=_d){_c.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_color(_a);if(_c.color!=_e){_c.color=_e;this.on_apply_style_color(_e);}var _f=this.on_find_CurrentStyle_align(_a);if(_c.align!=_f){_c.align=_f;this.on_apply_style_align(_f);}var _g=this._grid;if(this._cellobj._is_created){if(!_g._ReasonRefresh){_g.on_apply_cell_pseudo(this._cellobj,_a);}}};_pGridTree.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a);};_pGridTree.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a);};_pGridTree.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return this.parent.on_find_CurrentStyle_cursor(_a);};_pGridTree.on_find_CurrentStyle_padding=function(_a){return null;};_pGridTree._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridTree._find_pseudo_obj=function(_a,_b,_c){var _d=this._cellinfo;var _e=this._cellobj;if(this._displaymode==true){if(_b!="disabled"){_b="normal";}}var _f=(_e._rowidx>=0)?(_e._rowidx%2):false;var _g=this._grid;var _h=_g._getDataRow(this._cellobj._rowidx);var _i=_d._query_pseudo_control(this,_h,_a,_a,_b,_c,null,_f,_e._isSelected());return _i;};_pGridTree.on_create_contents=function(){var _a=this.getElement();var _b=this._getLineHeight();this._rightline_ctrl=new nexacro.GridControlLine("controlrightline",0,0,0,0,this.parent);this._rightline_ctrl._is_subcontrol=true;this._rightline_ctrl.createComponent(true);this._upline_ctrl=new nexacro.GridControlLine("controlupline",0,0,0,0,this.parent);this._upline_ctrl._is_subcontrol=true;this._upline_ctrl.createComponent(true);this._downline_ctrl=new nexacro.GridControlLine("controldownline",0,0,0,0,this.parent);this._downline_ctrl._is_subcontrol=true;this._downline_ctrl.createComponent(true);this._chk_ctrl=new nexacro.GridCellCheckbox("controlcheckbox",0,0,0,0,this);this._chk_ctrl._is_subcontrol=true;this._chk_ctrl.createComponent(true);this._text_elem=new nexacro.TextBoxElement(_a);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._img_elem=new nexacro.AlignImageElement(_a);this._btn_elem=new nexacro.AlignImageElement(_a);}else{this._img_elem=new nexacro.ImageElement(_a);this._btn_elem=new nexacro.ImageElement(_a);}};_pGridTree.on_created_contents=function(){if(this._rightline_ctrl){this._rightline_ctrl.on_created();}if(this._upline_ctrl){this._upline_ctrl.on_created();}if(this._downline_ctrl){this._downline_ctrl.on_created();}if(this._btn_elem){this._btn_elem.create();}if(this._chk_ctrl){this._chk_ctrl.on_created();}if(this._img_elem){this._img_elem.create();}if(this._text_elem){var _a=this._grid._getAvailableRect(this);this._text_elem.setElementSize(_a.width,_a.height);this._text_elem.create();}this._is_created=true;this._control_pseudo="";this._contents_pseudo="";this._updateAll();};_pGridTree.on_destroy_contents=function(){var _a=this._leftline_ctrls;for(var _b=0;_b<_a.length;_b++ ){_a[_b].destroy();}this._leftline_ctrls=[];if(this._rightline_ctrl){this._rightline_ctrl.destroy();this._rightline_ctrl=null;}if(this._upline_ctrl){this._upline_ctrl.destroy();this._upline_ctrl=null;}if(this._downline_ctrl){this._downline_ctrl.destroy();this._downline_ctrl=null;}if(this._btn_elem){this._btn_elem.destroy();this._btn_elem=null;}if(this._chk_ctrl){this._chk_ctrl.destroy();this._chk_ctrl=null;}if(this._img_elem){this._img_elem.destroy();this._img_elem=null;}if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}this._clicktarget=null;};_pGridTree._setAccessibilityStatFocus=function(_a){var _b="";var _c=this._cellobj;var _d=_c._getCellAccessibilityLabel();this._setAccessibilityLabel(_d);var _e=this._cellinfo._getTreeLevel(_c._rowidx);var _f=this._cellinfo._getTreeStartLevel(_c._rowidx);if(this._grid.getTreeStatus(_c._rowidx)==0){this._setAccessibilityStatExpanded(false);}else{this._setAccessibilityStatExpanded(true);}this._setAccessibilityInfoLevel(_e-_f+1);nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pGridTree.on_get_style_accessibility_description=function(){if(this._cellobj){return this._cellobj.tooltiptext;}};_pGridTree.on_apply_text=function(){var _a=this._text_elem;if(_a){_a.setElementText(this._display_text);}};_pGridTree.on_apply_style_font=function(_a){if(_a){if(this._text_elem){this._text_elem.setElementFont(_a);}}};_pGridTree.on_apply_style_color=function(_a){if(_a){if(this._text_elem){this._text_elem.setElementColor(_a);}}};_pGridTree.on_apply_style_align=function(_a){if(_a){if(this._text_elem){this._text_elem.setElementAlignXY("left",_a.valign);}}};_pGridTree._common_lbuttondown=function(_a){var _b=this._grid;var _c=_b._getDataRow(this._cellobj._rowidx);var _d=_b._treeStates[_c];if(_a==this._btn_elem){this._clicktarget=_d;}};_pGridTree._on_touchstart=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}var _g=nexacro._getFirstTouchInfo(_c);if(_g){this._common_lbuttondown(_g._elem);}return nexacro.Component.prototype._on_touchstart.call(this,_a,_b,_c,_d,_e,_f);};_pGridTree._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}this._common_lbuttondown(_a);return nexacro.Component.prototype._on_lbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pGridTree._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j;if(_a instanceof nexacro.TextBoxElement){_j="text";}else if(_a instanceof nexacro.ImageElement){if(this._btn_elem==_a){_j="treebutton";}else{_j="image";}}else{_j="";}var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this,_j);if(this._is_alive==false){if(!this._grid._after_recreate_contents_all){this._grid._after_recreate_contents_all=[true,true,true,true];}this._on_last_lbuttonup();}}};_pGridTree._on_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j;if(_a instanceof nexacro.TextBoxElement){_j="text";}else if(_a instanceof nexacro.ImageElement){_j="image";}else{_j="control";}var _k=this._getClientXY(_f,_g);this.on_fire_ondblclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this,_j);}};_pGridTree._on_last_lbuttonup=function(){this._cellobj._on_last_lbuttonup();};_pGridTree._on_last_keyup=function(){this._cellobj._on_last_keyup();};_pGridTree._common_fire_lbuttondown=function(_a,_b){if(this._btn_elem&&this._grid.treeusebutton!="noclick"){if(this._is_elem_area(this._btn_elem,_a,_b)){if(this._isEditTypeTree()){var _c=this._grid;var _d=this._cellobj;var _e=_c._getDataRow(_d._rowidx);_d._tree_lbuttondown=true;_c._toggleTreeState(_d._rowidx,true);if(this._is_alive){_d._tree_lbuttondown=false;}var _f=_c._treeStates[_e];if(this._clicktarget!=_f&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion>8)){_c._treetarget={row:_e,cell:_d._cellidx};}}}}};_pGridTree.on_fire_user_ontouchstart=function(_a,_b,_c,_d){var _e=nexacro._getFirstTouchInfo(_b);if(_e){this._common_fire_lbuttondown(_e.canvasX,_e.canvasY);}};_pGridTree.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._common_fire_lbuttondown(_g,_h);};_pGridTree._common_fire_lbuttonup=function(){if(this._cellobj._tree_lbuttondown){this._cellobj._tree_lbuttondown=false;}};_pGridTree.on_fire_user_ontouchend=function(_a,_b,_c,_d){this._common_fire_lbuttonup();};_pGridTree.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._common_fire_lbuttonup();};_pGridTree._on_treecheckboxclick=function(_a,_b){if(!this._is_alive){return;}var _c=this._grid;if(_a==this._chk_ctrl){var _d=this._cellobj;var _e=this._cellinfo;var _f=_c._getDataRow(_d._rowidx);var _g=_d._getDisplayRowIdx();if(_e.treecheck._bindtype==1){var _h=_c._treeChecked[_f];var _i=_e.treecheck._bindexpr;var _j=(_h==0)?1:0;_c._binddataset.setColumn(_f,_i,_j);}else{if(_c._toggleTreeChecked(_f)){_c._refreshBodyRow(_g);}}}};_pGridTree.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this._cellobj.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGridTree.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;while(_n){if(_n._type_name=="CheckBoxControl"){break;}_n=_n.parent;}if(this._isEditTypeTree()){this._on_treecheckboxclick(_n);}var _o=this._grid;var _p=this._cellinfo;var _q=_o._getDataRow(this._cellobj._rowidx);if(!this._is_alive){return;}return this._cellobj.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGridTree._isEditTypeTree=function(){var _a=this._grid;var _b=this._cellobj;var _c=this._cellinfo;var _d=_a._getDataRow(_b._rowidx);var _e=_c._getEdittype(_d);if(_e=="tree"){return true;}else{return false;}};_pGridTree._is_elem_area=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;var _e=_a.left;var _f=_a.top;var _g=_a.width*_d;var _h=_a.height*_d;if(_b>=_e&&_b<=(_e+_g)){if(_c>=_f&&_c<=(_f+_h)){return true;}else{return false;}}else{return false;}};_pGridTree._getLineHeight=function(){var _a=this.parent._adjust_height;var _b=(this.parent.currentstyle.border)?this.parent.currentstyle.border._bottom_width:0;return _a-_b;};_pGridTree._isEnable=function(){return this._grid._enable;};_pGridTree._load_image=function(_a,_b){var _c=(_b)?_b.toString():null;if(this.getElement()&&_c){_c=nexacro._getURIValue(_c);_c=nexacro._getImageLocation(_c,this._getRefFormBaseUrl());_a._load_url=_c;var _d=nexacro._getImageSize(_c,this._on_loadImage,this);if(_d){this._on_loadImage(_c,_d.width,_d.height);}}};_pGridTree._on_loadImage=function(_a,_b,_c){var _d=false;if(this._btn_elem&&this._btn_elem._load_url==_a){this._btn_elem.setElementImageUrl(_a);var _e=this._btn_elem.width;var _f=this._btn_elem.height;if(_e!=_b||_f!=_c){_d=true;this._btn_elem.setElementSize(_b,_c);}}if(this._img_elem&&this._img_elem._load_url==_a){this._img_elem.setElementImageUrl(_a);var _e=this._img_elem.width;var _f=this._img_elem.height;if(_e!=_b||_f!=_c){_d=true;this._img_elem.setElementSize(_b,_c);}}if(_d){this._adjustSubCompAlign(this._lvl);}};_pGridTree._buttonUpdate=function(_a){if(this._grid.treeusebutton!=this._treeusebutton){if(this._grid.treeusebutton=="use"){this._btn_elem.setElementVisible(true);}else{this._btn_elem.setElementVisible(false);}this._treeusebutton=this._grid.treeusebutton;}var _b="tree";var _c="normal";if(_a==0){_b+="openbuttonimage";}else if(_a==1){_b+="closebuttonimage";}else if(_a==2||_a==3||_a== -1){this._btn_elem.setElementVisible(false);this._btn_elem.setElementSize(0,0);return;}var _d=this._grid;var _e=_d._getDataRow(this._cellobj._rowidx);var _f=this._cellinfo._query_pseudo_treecontrol(_e,_b,_c);this._load_image(this._btn_elem,_f);};_pGridTree._checkUpdate=function(_a){if(this._grid.treeusecheckbox!=this._treeusecheckbox){if(this._chk_ctrl){this._chk_ctrl.set_visible(this._grid.treeusecheckbox);}this._treeusecheckbox=this._grid.treeusecheckbox;}if(this._chk_ctrl){this._chk_ctrl.set_value(_a);}};_pGridTree._imageUpdate=function(_a){if(this._grid.treeuseimage!=this._treeuseimage){if(this._img_elem){this._img_elem.setElementVisible(this._grid.treeuseimage);}this._treeuseimage=this._grid.treeuseimage;}var _b;var _c="normal";if(_a==0){_b="treecollapseimage";}else if(_a==1){_b="treeexpandimage";}else if(_a==2||_a==3){_b="treeitemimage";}var _d=this._grid;var _e=_d._getDataRow(this._cellobj._rowidx);var _f=this._cellinfo._query_pseudo_treecontrol(_e,_b,_c);this._load_image(this._img_elem,_f);if(_f){this._img_elem.setElementVisible(this._grid.treeuseimage);}else{this._img_elem.setElementVisible(false);}this._adjustSubCompAlign(this._lvl);};_pGridTree._lineUpdate=function(_a,_b){if(this._grid.treeuseline!=this._treeuseline){if(this._rightline_ctrl){this._rightline_ctrl.set_visible(this._grid.treeuseline);}if(this._upline_ctrl){this._upline_ctrl.set_visible(this._grid.treeuseline);}if(this._downline_ctrl){this._downline_ctrl.set_visible(this._grid.treeuseline);}this._treeuseline=this._grid.treeuseline;}var _c=this._grid;var _d=_c._find_pseudo_obj("treelinetype",_c._pseudo,"line");if(!_d){return;}var _e=this._cellinfo._getTreeStartLevel(_a);var _f=this._cellinfo._getTreeLevel(_a+1);var _g=_c._getParentNodeSameInfo(_b-1,_a);var _h=_c._getParentNodeSameInfo(_b,_a);var _i=(_e>=_b)?true:false;this._createLeftLine(_a,_d);var _j;if(this._rightline_ctrl){_j=this._rightline_ctrl;_j._set_line(_d,false,true);}if(this._upline_ctrl){_j=this._upline_ctrl;_j._set_line(_d,!_i,false);}if(this._downline_ctrl&&!_i&&_h){_j=this._downline_ctrl;_j._set_line(_d,true,false);}else if(this._downline_ctrl){this._downline_ctrl.set_visible(false);}this._linetype=_d;};_pGridTree._createLeftLine=function(_a,_b){for(var _g=0;_g<this._leftline_ctrls.length;_g++ ){this._leftline_ctrls[_g].destroy();}this._leftline_ctrls=[];if(!this._grid.treeuseline){return;}var _c=this._cellinfo._getTreeLevel(_a);var _d=this._cellinfo._getTreeStartLevel(_a);var _e=_c-1;var _f=this._grid._getParentNodeSameInfo(_e,_a);while(this._grid._rootlevel<_e){if(_f){var _h=this._getLineHeight();var _i=new nexacro.GridControlLine("controlleftline",0,0,1,_h,this.parent);_i._depth=_e;_i._is_subcontrol=true;_i.createComponent(true);_i._set_line(_b,true,false);_i.on_created();this._leftline_ctrls.push(_i);}_e-- ;_f=this._grid._getParentNodeSameInfo(_e,_a);}};_pGridTree._toggleItem=function(_a){if(_a){if(this._btn_elem){this._btn_elem.setElementVisible(false);}if(this._rightline_ctrl){this._rightline_ctrl.set_visible(false);}if(this._upline_ctrl){this._upline_ctrl.set_visible(false);}if(this._downline_ctrl){this._downline_ctrl.set_visible(false);}if(this._chk_ctrl){this._chk_ctrl.set_visible(false);}if(this._img_elem){this._img_elem.setElementVisible(false);}if(this._text_elem){this._text_elem.setElementVisible(false);}}else{if(this._grid.treeusebutton=="use"){this._btn_elem.setElementVisible(true);}else{this._btn_elem.setElementVisible(false);}if(this._rightline_ctrl){this._rightline_ctrl.set_visible(this._grid.treeuseline);}if(this._upline_ctrl){this._upline_ctrl.set_visible(this._grid.treeuseline);}if(this._downline_ctrl){this._downline_ctrl.set_visible(this._grid.treeuseline);}if(this._chk_ctrl){this._chk_ctrl.set_visible(this._grid.treeusecheckbox);}if(this._img_elem){this._img_elem.setElementVisible(this._grid.treeuseimage);}if(this._text_elem){this._text_elem.setElementVisible(true);}}};_pGridTree.on_apply_prop_tooltip=function(){var _a=this.getElement();var _b=this._cellobj._rowidx;var _c=this._grid._getDataRow(_b);this.tooltiptext=this._cellinfo._getTooltipText(_c);if(_a){_a.setElementToolTip(this.tooltiptext);}};_pGridTree._updateAll=function(){if(!this._is_created){return;}if(this.getElement()){var _a=this._grid;var _b=_a._getDataRow(this._cellobj._rowidx);if(_b==null){this._toggleItem(true);return;}else{this._toggleItem(false);}this.on_apply_pseudo(this._pseudo);var _c=_a._treeStates[_b];var _d=this._cellinfo._getTreeLevel(_b);this._lvl=_d;if(this._btn_elem){this._buttonUpdate(_c);}this._lineUpdate(_b,_d);if(this._chk_ctrl){this._checkUpdate(_a._treeChecked[_b]);this._chk_ctrl._control_pseudo="";this._chk_ctrl._contents_pseudo="";this._chk_ctrl.on_apply_pseudo();}if(this._img_elem){this._imageUpdate(_c);}if(this._text_elem){var _e=this.parent._getDisplayText();if(this._display_text!=_e){this._text_elem.setElementText(_e);this._display_text=_e;}}this.on_apply_prop_tooltip();this._adjustSubCompAlign(_d);}};_pGridTree._adjustSubCompAlign=function(_a){var _b=this.parent;var _c=this._cellinfo;var _d=_c.grid;var _e=this._grid._getAvailableRect(this);var _f=_e.width;var _g=_e.height;var _h=_d._getDataRow(_b._rowidx);var _i=_c._getTreeStartLevel(_h);var _j=this.getElement();var _k=6;var _l=9;var _m=16;_a-=_i;if(_a<0){_a= -1;}var _n=_b._adjust_top;var _o=_b.on_find_CurrentStyle_padding();var _p=((_o)?_o.left:0);var _q=this._getLineHeight();var _r=(_a*_m)+_l;var _s=_r;var _t=_n;var _u=0;var _v=Math.round(_q/2);var _w=_v;var _x=_a-1;var _y=this._leftline_ctrls;var _z=_y.length;var _aa=0;for(var _ad=0;_aa<_z;_ad++ ){if(_x==_y[_aa]._depth){var _ae=_y[_aa++ ].getElement();_ae.setElementPosition(_r-(_m*(_ad+1))+_p,_t);}if(_x-- <0){break;}}var _ab=0;var _ac=0;if(this._btn_elem){var _af=this._btn_elem.width;if(_af<=0){_af=_l;}var _ag=this._btn_elem.height;if(_ag<=0){_ag=_l;}var _ah=_r-Math.round(_af/2);if(!this._rightline_ctrl.visible){_ah-=(Math.round(_af/2)*_a);}var _ai=Math.round((_g-_ag)/2);var _aj=_ah+_af;var _ak=_ai+_ag;if(this._btn_elem.visible){_w=Math.floor((_q-_ag)/2);_ab=_af;_ac=_ag;}_u=_af;this._btn_elem.setElementPosition(_ah,_ai);_r=_ah+_af;}else{_u=_l;}if(this._rightline_ctrl&&this._rightline_ctrl.visible){this._rightline_ctrl.move(_s+_p+Math.round(_ab/2),_t,_u-(_ab/2),_v);_r=this._rightline_ctrl.left+this._rightline_ctrl.width;}else{_r+=1;}if(this._upline_ctrl&&this._upline_ctrl.visible){this._upline_ctrl.move(_s+_p,_t,_u,_w);}if(this._downline_ctrl&&this._downline_ctrl.visible){var _ae=this._downline_ctrl.getElement();_t=_n+_w+_ab;var _al=_w+_t;var _am=_q+_n;if(_al>_am){_w=_am-_t;}this._downline_ctrl.move(_s+_p,_t,_u,_w);}if(this._chk_ctrl&&this._chk_ctrl.visible){var _an=this._chk_ctrl.width;if(_an<=0){_an=_l;}var _ao=this._chk_ctrl.height;if(_ao<=0){_ao=_l;}var _ap=_r;var _aq=Math.round((_g-_ao)/2);_r+=_an;this._chk_ctrl.move(_ap,_aq,this._chk_ctrl._adjust_width,this._chk_ctrl._adjust_height);}if(this._img_elem&&this._img_elem.visible){_r+=1;var _ar=this._img_elem.width;var _as=this._img_elem.height;if(_ar>0&&_as>0){var _at=_r;var _au=Math.round((_g-_as)/2);var _av=_at+_ar;var _aw=_au+_as;_r+=_ar;}else{}this._img_elem.setElementPosition(_at,_au);_r+=5;}else{_r+=4;}if(this._text_elem){var _ax=_r;var _ay=0;this._text_elem.setElementPosition(_ax,_ay);this._text_elem.setElementSize(_f-_r,_g);}};_pGridTree.on_change_containerRect=function(_a,_b){if(this._lvl){this._adjustSubCompAlign(this._lvl);}};delete _pGridTree;nexacro.GridRow_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);this.border=new nexacro.Style_border(1);};var _pGridRowStyle=nexacro.GridRow_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.GridRow_Style);_pGridRowStyle._type_name="GridRowStyle";nexacro.GridRow_CurrentStyle=function(){this.border=null;};var _pGridRowCurrentStyle=nexacro.GridRow_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.GridRow_CurrentStyle);_pGridRowCurrentStyle._type_name="GridRowCurrentStyle";delete _pGridRowStyle;delete _pGridRowCurrentStyle;nexacro.GridRow=function(_a,_b,_c,_d,_e,_f){nexacro.Component.call(this,"gridrow_"+_f,"absolute",_b,_c,_d,_e,null,null,_a);this._is_subcontrol=true;this._grid=_a.parent;this._band=_a;this._cells=[];this._rowidx=_f;this._row_sizes=[];this._row_tops=[];this._row_bottoms=[];this._format_rows=[];this._format_cols=[];this._format_cells=[];this._noupdate_remain_cells=[];this._accessibility_role="none";this._fixed=false;};var _pGridRow=nexacro._createPrototype(nexacro.Component,nexacro.GridRow);nexacro.GridRow.prototype=_pGridRow;nexacro._setForControlStyleFinder(_pGridRow);_pGridRow._type_name="GridRow";_pGridRow.on_create_custom_style=function(){return new nexacro.GridRow_Style(this);};_pGridRow.on_create_custom_currentStyle=function(){return new nexacro.GridRow_CurrentStyle();};_pGridRow.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return this.parent.on_find_CurrentStyle_cursor(_a);};_pGridRow.on_find_CurrentStyle_border=function(_a){return null;};_pGridRow.on_find_CurrentStyle_padding=function(_a){return null;};_pGridRow._makeCssRefInfo=function(){return (this._grid._makeCssRefInfoCtrl(this));};_pGridRow.on_create_contents=function(){this._init(this._grid._curFormat);if(this._grid._async_create){this._createCellComponents_async();}else{this._createCellComponents();}};_pGridRow.on_created_contents=function(){this._control_element.setElementHScrollPos(this._grid.getElement().scroll_left);if(this._grid._async_create){this._createCellElements_async();}else{this._createCellElements();}this._control_element._setContainerMaxWidth(this._grid._bodyBand._scrollWidth);};_pGridRow.on_destroy_contents=function(){var _a=this._cells,_b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this._grid=this._cells=this._format=this._band=this._cells=this._row_sizes=this._row_tops=this._row_bottoms=this._format_rows=this._format_cols=this._format_cells=this._noupdate_remain_cells=null;};_pGridRow.on_create_control_element=function(_a){var _b=new nexacro.GridRowControlElement(_a);var _c=this._grid._curFormat;_b.setLinkedControl(this);_b._left_width=_c.leftWidth;_b._right_width=_c.rightWidth;this._control_element=_b;return _b;};_pGridRow._getAccessibilityLabel=function(_a){var _b="";var _c=this._grid;if(this._grid._isSelectRowType()){var _d="";var _e=this._cells;var _f=null;for(var _g=0;_g<_e.length;_g++ ){_f=_e[_g].currentstyle.accessibility;if(_f){_d=_e[_g]._getAccessibilityLabel(_f);if(_b){if(_d){_b+=" "+_d;}}else{_b=_d;}}}}return _b;};_pGridRow.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._cells;var _b=this._rtldirection;if(_a){var _c;for(var _d=0;_d<_a.length;_d++ ){_a[_d]._setRtlDirection(_b);}}};_pGridRow._init=function(_a){var _b=this._grid,_c=this._control_element;_c.setArea(_a.leftWidth,_a.rightWidth);if(this._rowidx== -1){this._format_rows=_a._headrows;this._format_cells=_a._headcells;}else if(this._rowidx== -2){this._format_rows=_a._summrows;this._format_cells=_a._summcells;}else{this._format_rows=_a._bodyrows;this._format_cells=_a._bodycells;}this._format_cols=_a._cols;if(!this._format_cols){this._format_cols=[];}if(!this._format_rows){this._format_rows=[];}if(!this._format_cells){this._format_cells=[];}var _d,_e=0;if(this._rowidx== -1){_d=_b._rowHeadListSub;}else if(this._rowidx== -2){_d=_b._rowSummListSub;}else{_e=_b._getDataRow(this._rowidx);_d=_b._rowSizeListSub;}var _f=this._format_rows,_g=_f.length,_h=0,_i=0;this._row_tops=[];this._row_sizes=[];this._row_bottoms=[];if(_e>=0){var _j=_e*_g;for(var _k=0;_k<_g;_k++ ){this._row_tops.push(_i);_h=_d[_j+_k];this._row_sizes.push(_h);_i+=_h;this._row_bottoms.push(_i);}}else{for(var _k=0;_k<_g;_k++ ){this._row_tops.push(_i);_h=_f[_k].size;this._row_sizes.push(_h);_i+=_h;this._row_bottoms.push(_i);}}};_pGridRow._on_last_lbuttonup=function(){this.parent._on_last_lbuttonup();};_pGridRow._on_last_keyup=function(){this.parent._on_last_keyup();};_pGridRow._updateAll=function(_a,_b,_c,_d,_e){var _f=this._grid,_g=this._cells;if(_b){_g=this._noupdate_remain_cells;}var _h=_g.length,_i=_f._getDataRow(this._rowidx),_j,_k,_l,_m,_n,_o;this._noupdate_remain_cells=[];this.on_apply_pseudo(_a);for(var _p=0;_p<_h;_p++ ){_l=_g[_p];_m=_l._refobj;if(_e){if((_m._col+_m._colspan-1)<_e){continue;}}if(_l._refobj._area!="body"||(_l._is_created&&_l._isUpdateArea())){if(_f._isSelectRowType()){if(_n==undefined){_n=_f._isSelectedCell(_l._cellidx,_i);}}else{_n=_f._isSelectedCell(_l._cellidx,_i);}_o=false;if(_l._selected!=_n){_l._selected=_n;_c=false;_o=true;}_j=_l.subcells;_k=_j.length;for(var _q=0;_q<_k;_q++ ){_j[_q]._selected=_n;}if(_d){if(_o){_l._updateAll(_a,_c);}}else{_l._updateAll(_a,_c);}}else{this._noupdate_remain_cells.push(_l);}}};_pGridRow._getAreaRect=function(_a){var _b={left:0,top:0,width:0,height:0},_c=this._grid._curFormat;_b.top=this._client_top;_b.height=this._client_height;if(_a=="left"){_b.left=this._client_left;_b.width=_c.leftWidth;}else if(_a=="right"){_b.left=this._client_width-_c.rightWidth;_b.width=_c.rightWidth;}else{_b.left=_c.leftWidth;_b.width=this._client_width-_c.leftWidth-_c.rightWidth;}return _b;};_pGridRow._changeRow=function(_a,_b){this._rowidx=_a;if(_b){this._init(this._grid._curFormat);}};_pGridRow._hideArea=function(){if(this._fixed){return "";}var _a=this._band;var _b=this._grid;var _c=_b._getScrollTop();var _d=this._adjust_top;var _e=this._adjust_height;var _f=_d+_e;_d-=_c;_f-=_c;var _g=_b._getAvailableRect(_a);var _h=_a.currentstyle.border;_f-=_h?_h._top_width:0;_f-=_h?_h._bottom_width:0;if(_f<=0){return "top";}else if(_d>=_g.bottom){return "bottom";}return "";};_pGridRow._showfull=function(_a){if(!this._fixed){var _b=this._band;var _c=this._grid;var _d=_c._getScrollTop();var _e=this._adjust_top;var _f=this._adjust_height;var _g=_e+_f;_e-=_d;_g-=_d;var _h=_c.vscrollbar;var _i=_c._getAvailableRect(_b);var _j=_b.currentstyle.border;_g-=_j?_j._top_width:0;_g-=_j?_j._bottom_width:0;if(_h){if(_f<_i.height){if(_e<0){if(_h._isEnable()){_h._set_rowpos(_c._toprowpos[0]);}}else if(_g>_i.bottom){if(_h._isEnable()){_h._set_rowpos(_c._toprowpos[0]+1);}}}}}if(_a&&_a._is_alive){_a._showfull(false);}};_pGridRow._createCellElements_async=function(){nexacro.OnceCallbackTimer.callonce(this,function(){this._createCellElements();});};_pGridRow._createCellElements=function(_a){var _b=this._cells;var _c=_b.length;if(_c==0){return;}var _d=this._grid,_e,_f,_g=false,_h=_d._getDataRow(this._rowidx),_i,_j,_k;if(this._rowidx<0||_d._is_created==true){_g=true;}for(var _l=0;_l<_c;_l++ ){_k=_b[_l]._refobj;if(_a){if((_k._col+_k._colspan-1)<_a){continue;}}if(_k._area=="body"){if(_d._isSelectRowType()){if(_i==undefined){_i=_d._isSelectedCell(_b[_l]._cellidx,_h);}}else{_i=_d._isSelectedCell(_b[_l]._cellidx,_h);}_j=_b[_l]._control_element;if(_b[_l]._isUpdateArea()){if(_b[_l]._is_created){if(_b[_l]._refresh_display==true){if(_g){_b[_l]._selected=_i;_b[_l]._updateAll();}_j._setDisplay(true);_b[_l]._refresh_display=false;}}else{if(_g){_b[_l]._selected=_i;_b[_l]._updateAll();}_b[_l].on_created();_e=_b[_l].subcells;_f=_e.length;for(var _m=0;_m<_f;_m++ ){if(_g){_e[_m]._updateAll();}_e[_m].on_created();}}}else{if(_b[_l]._is_created){if(_b[_l]._refresh_display==false){_b[_l]._refresh_display=true;_j._setDisplay(false);}}}}else{if(_b[_l]._is_created){continue;}if(_g){_b[_l]._updateAll();}_b[_l].on_created();_e=_b[_l].subcells;_f=_e.length;for(var _m=0;_m<_f;_m++ ){if(_g){_e[_m]._updateAll();}_e[_m].on_created();}}}};_pGridRow._createCellComponents_async=function(){nexacro.OnceCallbackTimer.callonce(this,function(){this._createCellComponents();});};_pGridRow._createCellComponents=function(){var _a=this._format_cols,_b=this._format_rows,_c=this._format_cells,_d=this._row_tops,_e=this._row_sizes,_f=this._row_bottoms,_g=(_c)?_c.length:0,_h,_i=0,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w=this._grid,_x=_w._getDataRow(this._rowidx);for(var _y=0;_y<_g;_y++ ){_h=_c[_y];_j=_a[_h._col].left;_i=_d[_h._row];_k=_a[_h._col+_h._colspan-1].right-_j;_l=_f[_h._row+_h._rowspan-1]-_i;if(_w._isSelectRowType()){if(_u==undefined){_u=_w._isSelectedCell(_h._cellidx,_x);}}else{_u=_w._isSelectedCell(_h._cellidx,_x);}_n="cell_"+this._rowidx+"_"+_h._cellidx;_m=new nexacro.GridCell(_n,_j,_i,_k,_l,this,_h,this._rowidx,_h._cellidx);_m._selected=_u;_m.createComponent(true);this._cells[_y]=_m;_o=_h._subcells;_p=_o.length;for(var _z=0;_z<_p;_z++ ){_v=_o[_z];_r=_h._col+_v._col;_s=_h._row+_v._row;_j=_a[_r].left;_i=_d[_s];_k=_a[_r+_v._colspan-1].right-_j;_l=_e[_s];_j-=_a[_h._col].left;_i-=_d[_h._row];_n="subcell_"+this._rowidx+"_"+_h._cellidx+"_"+_v._cellidx;_t=new nexacro.GridCell(_n,_j,_i,_k,_l,_m,_v,this._rowidx,_v._cellidx);_t._isSubCell=true;_t._selected=_u;_t.parentcell=_m;_t.createComponent(true);_m.subcells[_z]=_t;}}};_pGridRow._resetCellsSize=function(_a,_b){var _c=this._format_cols,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q;this._control_element.setArea(_a.leftWidth,_a.rightWidth);_d=this._cells;_e=_d.length;var _r=this._row_tops,_s=this._row_sizes,_t=this._row_bottoms;for(var _u=0;_u<_e;_u++ ){_f=_d[_u];_g=_f._refobj;if(_b){if((_g._col+_g._colspan-1)<_b){continue;}}_l=_c[_g._col].left;_n=_r[_g._row];_m=_c[_g._col+_g._colspan-1].right-_l;_o=_t[_g._row+_g._rowspan-1]-_n;_f.move(_l,_n,_m,_o);expand_ctrl=_f._expandCtrl;if(expand_ctrl){_l=_m-expand_ctrl.width;_n=expand_ctrl.top;_m=expand_ctrl.width;_o=expand_ctrl.height;expand_ctrl.move(_l,_n,_m,_o);}_h=_f.subcells;_i=_h.length;for(var _v=0;_v<_i;_v++ ){_j=_h[_v];_k=_j._refobj;_p=_g._col+_k._col;_q=_g._row+_k._row;_l=_c[_p].left;_n=_r[_q];_m=_c[_p+_k._colspan-1].right-_l;_o=_s[_q];_l-=_c[_g._col].left;_n-=_r[_g._row];_j.move(_l,_n,_m,_o);expand_ctrl=_j._expandCtrl;if(expand_ctrl){_l=_m-expand_ctrl.width;_n=expand_ctrl.top;_m=expand_ctrl.width;_o=expand_ctrl.height;expand_ctrl.move(_l,_n,_m,_o);}}}};_pGridRow._isEnable=function(){return this._grid._enable;};_pGridRow._get_cells=function(){return this._cells;};delete _pGridRow;nexacro.GridMatrixManager=function(_a,_b){this._width=0;this._height=0;this._grid=_a;this._isBody=_b._isBody;this._rows=[];this._band=_b;this._fixed_rows=[];this._allrows=[];};var _pGridMatrixManager=nexacro._createPrototype(nexacro.Object,nexacro.GridMatrixManager);nexacro.GridMatrixManager.prototype=_pGridMatrixManager;_pGridMatrixManager._type_name="GridMatrixManager";_pGridMatrixManager.destroy=function(){this._deleteAllRow();this._grid=this._band=this._rows=this._fixed_rows=this._allrows=null;};_pGridMatrixManager._init=function(){this._deleteAllRow();};_pGridMatrixManager._async_create_page=function(){return;if(this._isBody){nexacro.OnceCallbackTimer.callonce(this._band,function(){this._matrix._adjustRowsDisplay();},10);}};_pGridMatrixManager._getBodyRowTopPos=function(_a){if(_a<0){return 0;}var _b=this._grid,_c=0;if(_b._fixed_endrow>=0&&_a>=_b._fixed_startrow&&_a<=_b._fixed_endrow){if(_b._is_variable_bodyrowsize==false){_c=_b._bodyrowheight*(_a-_b._fixed_startrow);}else{var _d=_b._fixed_rowcnt;for(var _e=0;_e<_d;_e++ ){if(_b._fixed_startrow+_e==_a){break;}_c+=_b._getRowSize(_b._fixed_startrow+_e);}}}else{if(_b._is_variable_bodyrowsize==false){_c=_b._bodyrowheight*_a;}else{var _d=_b._getGridRowCount();for(var _e=0;_e<_d;_e++ ){if(_e==_a){break;}_c+=_b._getRowSize(_e);}}_c-=_b._fixedrow_height;}return _c;};_pGridMatrixManager._getAllRows=function(){var _a;if(this._isBody){_a=this._allrows;if(_a.length==0){_a=_a.concat(this._fixed_rows);_a=_a.concat(this._rows);}}else{_a=this._rows;}return _a;};_pGridMatrixManager._getPhysicalRow=function(_a,_b){var _c=_a.length;for(var _d=0;_d<_c;_d++ ){if(_a[_d]._rowidx==_b){return _d;}}return null;};_pGridMatrixManager._adjustTreeDisplay=function(_a,_b){var _c=[],_d=this._grid,_e=this._band,_f=this._rows,_g=_f.length,_h=0,_i=this._getPhysicalRow(this._rows,_a),_j=_f[_i],_k=false;if(!_j){_j=_f[0];_i=0;}if(_j){if(_b){for(var _m=_g-1;_m>=_i;_m-- ){if(_j._rowidx<_f[_m]._rowidx){this._subtractRow();_k=true;}else{_c[0]=_f[_m];}}}else{for(var _m=_i;_m<_g;_m++ ){if(_i==_m){_c[0]=_f[_m];}else{this._subtractRow();_k=true;}}}}if(_k){_d._setHscrollElement();_d._absolutelyResetScrollPos(true);_d._control_element.setElementHScrollPos(_d._scroll_left);_d._absolutelyResetScrollPos(false);}var _l=this._adjustRowsDisplay();_g=_f.length;_e._update_rows=_c;if(_g){_h=_f[0]._rowidx;}for(var _m=0;_m<_g;_m++ ){_f[_m]._rowidx=_h+_m;}_e._on_refresh_rows();if(_l||_d._resetColSizeList()){this._adjustColsDisplay(true);}else{_d._resetScrollMax();}};_pGridMatrixManager._adjustRowsDisplay=function(_a,_b){var _c=this._grid,_d=0,_e=false,_f=false,_g=this._rows,_h=_g.length,_i;if(_a){var _j,_k,_l,_m,_n,_o=_c._getGridRowCount();for(var _p=0;_p<_g.length;_p++ ){_j=_g[_p];if(_j._rowidx>=_o){_j.destroy();_g[_p]=null;_g.splice(_p,1);_p-- ;}else{_k=_j._adjust_left;_l=this._getBodyRowTopPos(_j._rowidx);_m=this._band._client_width;_n=_c._getRowSize(_j._rowidx);_g[_p].move(_k,_l,_m,_n);}}_h=_g.length;var _q=this._fixed_rows;for(_p=0;_p<_q.length;_p++ ){_j=_q[_p];_k=_j._adjust_left;_l=this._getBodyRowTopPos(_j._rowidx);_m=this._band._client_width;_n=_c._getRowSize(_j._rowidx);_q[_p].move(_k,_l,_m,_n);}}if(this._isBody){if(_c._fixed_endrow>=0&&this._fixed_rows.length==0){var _r=_c._fixed_startrow;var _s=_c._fixed_endrow;var _t=0,_u;for(var _p=_r;_p<=_s;_p++ ){_u=_c._getRowSize(_p);if(_u<0){break;}this._addRow(_t,_u,_p,false,true);_t+=_u;}}_c._resetDisplayInfo(1,_a);if(_c._disprowcnt>0){_i=(_c._disprowcnt%2)?1:2;_d=_c._disprowcnt+_i;}var _v=_c._getGridRowCount();var _w=_c._is_variable_bodyrowsize;if(_d<0){_d=0;}if(_d<_h){for(var _p=_h-1;_p>=_d;_p-- ){if(!_w){this._subtractRow();_f=true;}}}else if(_d>_h){var _u=0,_t=0,_x=0,_y=_v-1;if(_h>0){_x=_g[0]._rowidx;}else{_x=_c._toprowpos[0];}var _z=_x;var _aa,_ab=false;for(var _p=_h;_p<_d;_p++ ){if(_v<=_p){break;}_aa=_x+_p;if(_y<_aa){_aa= --_z;_ab=true;}_t=this._getBodyRowTopPos(_aa);_u=_c._getRowSize(_aa);if(_aa<=_y&&_aa>=_c._getFixRowCnt()){this._addRow(_t,_u,_aa,_b);_e=true;}}if(_ab&&_e){_g.sort(function(_ac,_ad){return _ac._rowidx-_ad._rowidx;});}}_h=_g.length;if(_c.fillareatype!="none"&&_d>_h){var _t=0,_u=this._band._datarowsheight;if(_h){_t=_g[_h-1]._getPosBottom();}for(var _p=_h;_p<_d;_p++ ){this._addRow(_t,_u,_p,_b);_t+=_u;_e=true;}}if(_g.length>0){_c._begrowpos=_g[0]._rowidx;_c._endrowpos=_g[_g.length-1]._rowidx;}else{_c._begrowpos=0;_c._endrowpos=0;}}else{if(_h==0){var _u;if(this._band.id=="head"){_u=_c._getRowSize( -1);this._addRow(0,_u, -1);_e=true;}else if(this._band.id=="summ"){_u=_c._getRowSize( -2);this._addRow(0,_u, -2);_e=true;}}}if(_e||_f||_g.length==0){_c._setHscrollElement();_c._absolutelyResetScrollPos(true);_c._control_element.setElementHScrollPos(_c._scroll_left);_c._absolutelyResetScrollPos(false);}return _e;};_pGridMatrixManager._adjustColsDisplay=function(_a,_b,_c){var _d=this._getAllRows(),_e=_d.length;if(_a){var _f=this._grid._curFormat;for(var _g=0;_g<_e;_g++ ){_d[_g]._init(_f);_d[_g]._resetCellsSize(_f,_c);if(!_b){_d[_g]._updateAll(null,true,undefined,undefined,_c);}_d[_g]._createCellElements(_c);}}else{for(var _g=0;_g<_e;_g++ ){if(!_b){_d[_g]._updateAll(null,true,undefined,undefined,_c);}_d[_g]._createCellElements(_c);}}if(!_b){this._grid._resetScrollMax();}};_pGridMatrixManager._addRow=function(_a,_b,_c,_d,_e){var _f=this._grid._getAvailableRect(this._band),_g=new nexacro.GridRow(this._band,_f.left,_a,_f.width,_b,_c);_g._fixed=!!_e;_g.createComponent();if(!_d){this._band._create_rows.push(_g);}if(_e){this._fixed_rows.push(_g);}else{this._rows.push(_g);}};_pGridMatrixManager._subtractRow=function(){if(this._rows.length>1){var _a=this._rows.length-1,_b=this._rows[_a],_c=this._band._create_rows,_d=_c.length;for(var _e=0;_e<_d;_e++ ){if(_c[_e]==_b){_c.splice(_e,1);break;}}_b.destroy();this._rows.splice(_a,1);}};_pGridMatrixManager._deleteAllRow=function(){var _a=this._rows;for(var _c=0;_c<_a.length;_c++ ){_a[_c].destroy();}var _b=this._fixed_rows;for(var _c=0;_c<_b.length;_c++ ){_b[_c].destroy();}this._rows=[];this._fixed_rows=[];this._allrows=[];this._grid._setHscrollElement();this._grid._is_over_scroll=0;};_pGridMatrixManager._isShowScreenRow=function(_a,_b,_c){if(_a._rowidx<0){return true;}var _d=_b,_e=_d+_c;if(_d<_a._getPosBottom()&&_e>_a._adjust_top){return true;}return false;};_pGridMatrixManager._adjustScrollRows=function(_a,_b){var _c=this._grid,_d=_c._getGridRowCount(),_e=this._rows,_f,_g,_h=_c._getFixRowCnt(),_i=_d-1,_j=_c._getBodyClientSize()[1],_k=[],_l,_m,_n,_o,_p,_q,_r=this._band,_s=_c._is_variable_bodyrowsize,_t=0,_u=0,_v=_c._last_scroll_top;if(_a>_v){_u=1;}else if(_a<_v){_u= -1;}if(_u>0){_g=_e[_e.length-1];for(var _w=0;_w<_e.length;_w++ ){if(this._isShowScreenRow(_e[_w],_a,_r._client_height)==true){break;}_k.push(_e[_w]);}_t=_k.length;if(_t>0){if(_e.length==_t){target_rowidx=_c._toprowpos[0];for(var _w=0;_w<_t;_w++ ){_l=_k[_w];_m=target_rowidx++ ;_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}}else{target_rowidx=_g._rowidx+1;for(var _w=0;_w<_t;_w++ ){_l=_k[_w];_m=target_rowidx++ ;if(!_s&&_m>_i){break;}_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}_e.sort(function(_x,_y){return _x._rowidx-_y._rowidx;});}if(_e.length>0){_c._begrowpos=_e[0]._rowidx;_c._endrowpos=_e[_e.length-1]._rowidx;}}if(_s){this._adjustRowsDisplay(false,true);}}else if(_u<0){if(_s){this._adjustRowsDisplay(false,true);}_f=_e[0];for(var _w=_e.length-1;_w>=0;_w-- ){if(this._isShowScreenRow(_e[_w],_a,_r._client_height)==true){break;}_k.push(_e[_w]);}_t=_k.length;if(_t>0){if(_e.length==_t){target_rowidx=_c._toprowpos[0];for(var _w=_t-1;_w>=0;_w-- ){_l=_k[_w];_m=target_rowidx++ ;_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}}else{target_rowidx=_f._rowidx-1;for(var _w=0;_w<_t;_w++ ){_l=_k[_w];_m=target_rowidx-- ;if(_m<_h){break;}_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}_e.sort(function(_x,_y){return _x._rowidx-_y._rowidx;});}if(_e.length>0){_c._begrowpos=_e[0]._rowidx;_c._endrowpos=_e[_e.length-1]._rowidx;}}}else{if(_b){var _x=null;_c._toprowpos=_c._getScreenTopRowPos();_c._bottomrowpos=_c._getScreenBottomRowPos();target_rowidx=_c._toprowpos[0];_t=_e.length;_k=_e;for(var _w=0;_w<_t;_w++ ){_l=_k[_w];_m=target_rowidx++ ;if(_m>=_c.rowcount){if(_x==null){_x=_c._toprowpos[0]-1;}_m=_x-- ;if(_m<0){break;}}_l._changeRow(_m,_s);_n=_l._adjust_left;_o=_l._adjust_width;_p=_c._getRowSize(_m);_q=this._getBodyRowTopPos(_m);if(_p<0){continue;}_l.move(_n,_q,_o,_p);if(_s){_l._resetCellsSize(_c._curFormat);}}if(_e.length>0){if(_x!=null){_e.sort(function(_y,_z){return _y._rowidx-_z._rowidx;});}_c._begrowpos=_e[0]._rowidx;_c._endrowpos=_e[_e.length-1]._rowidx;}}}return _k;};delete _pGridMatrixManager;nexacro.GridBand=function(_a,_b,_c,_d,_e,_f,_g){nexacro.Component.call(this,_a,"absolute",_b,_c,_d,_e,null,null,_f);this._is_subcontrol=true;this._isBody=(_a=="body");this._refobj=_g;this._grid=_f;this._rowsizesperdatarow=null;this._datarowsheight= -1;this._colinfos=null;this._rowinfos=null;this._cellsinfo=null;this._update_rows=[];this._create_rows=[];this._text_elem=null;if(_g){_g.bandctrl=this;_g._changeStyleTarget(this);this.style=_g.style;this._styles=_g._styles;}else{this.style=new nexacro.GridBand_Style(this);}this._matrix=new nexacro.GridMatrixManager(this._grid,this);this._scrollWidth=0;this._scrollHeight=0;this._recreating=false;this._accessibility_role="none";};var _pGridBand=nexacro._createPrototype(nexacro.Component,nexacro.GridBand);nexacro.GridBand.prototype=_pGridBand;nexacro._setForControlStyleFinder(_pGridBand);_pGridBand._type_name="GridBand";nexacro.GridBand._default_accessibility=nexacro._getCachedStyleObj("accessibility","none disable all '' '' ''");_pGridBand.on_create_custom_style=function(){return null;};_pGridBand.on_create_custom_currentStyle=function(){return new nexacro.GridBand_CurrentStyle();};_pGridBand.on_update_style_opacity=function(){};_pGridBand.on_update_style_shadow=function(){};_pGridBand.on_update_style_cursor=function(){};_pGridBand.on_update_style_color=function(){};_pGridBand.on_update_style_align=function(){};_pGridBand.on_update_style_margin=function(){};_pGridBand.on_update_style_glow=function(){};_pGridBand.on_update_style_blur=function(){};_pGridBand.on_update_style_selectborder=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellline=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_celllinetype=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectcolor=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectline=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectlinetype=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_border=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellbackground=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellbackground2=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellcolor=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellcolor2=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectbackground=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_background=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellfont=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectfont=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_font=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellgradation=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellgradation2=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_selectgradation=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_gradation=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellalign=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_cellpadding=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._refresh_contents(true);};_pGridBand.on_update_style_padding=function(){this._grid._curFormat._clearCellStyleCache(this.id);this._updateClientSize(this.getElement());};_pGridBand.on_find_CurrentStyle_background=function(_a){if(!_a){_a="normal";}var _b=null;if(this._refobj){_b=this._refobj._query_pseudo_background(_a);}var _c=this._grid._getGridRowCount();if(this._isBody&&_c==0){var _d=this.parent.nodataimage;if(_d.length){var _e="transparent";if(_b){_e=_b.color;}_b=nexacro._getCachedStyleObj("background",_e+" "+_d+" center middle");}}return _b;};_pGridBand.on_find_CurrentStyle_gradation=function(_a){if(this._refobj){return this._refobj._query_pseudo_gradation(_a);}return null;};_pGridBand.on_find_CurrentStyle_padding=function(_a){return null;};_pGridBand.on_find_CurrentStyle_font=function(_a){return null;};_pGridBand.on_find_CurrentStyle_cursor=function(_a){var _b=this._grid;if(_b._global_cursor){return _b._global_cursor;}return null;};_pGridBand.on_find_CurrentStyle_shadow=function(_a){return null;};_pGridBand.on_find_CurrentStyle_opacity=function(_a){return null;};_pGridBand.on_find_CurrentStyle_align=function(_a){return null;};_pGridBand.on_find_CurrentStyle_color=function(_a){return null;};_pGridBand.on_find_CurrentStyle_accessibility=function(_a){var _b=this._find_pseudo_obj("accessibility",_a,"accessibility");if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5&&this._grid.nodatatext){return nexacro.Component._default_accessibility;}else{return _b?_b:nexacro.GridBand._default_accessibility;}};_pGridBand._find_pseudo_obj=function(_a,_b,_c,_d){var _e;var _f=this.id;if(_d){_f=_d;}if(_f=="summ"||_f=="summary"){_e=this._grid._find_bandcomp_pseudo_obj("summ",_a,_b,_c);if(!_e){_e=this._grid._find_bandcomp_pseudo_obj("head",_a,_b,_c);}}else if(_f=="head"){_e=this._grid._find_bandcomp_pseudo_obj("head",_a,_b,_c);}else{_e=this._grid._find_bandcomp_pseudo_obj("body",_a,_b,_c);}return _e;};_pGridBand.on_find_CurrentStyle_rtlimagemirroring=function(_a){return this._grid.on_find_CurrentStyle_rtlimagemirroring(_a);};_pGridBand.on_create_contents=function(){var _a=this.getElement();var _b=this._grid._curFormat;if(_a&&_b){this._recreate_contents();if(this._isBody){var _c=this.currentstyle;var _d=this._text_elem=new nexacro.TextBoxElement(_a);_d.setElementSize(this._client_width,this._client_height);_d.setElementVisible(false);_d.setElementAlignXY("center","middle");_d.setElementFont(_c.font);_d.setElementColor(_c.color);_d.setElementWordWrap("char");if(this._get_rows().length==0){var _e=this.parent.nodatatext;_d.setElementText(_e);}}}};_pGridBand.on_created_contents=function(){var _a=this.getElement();var _b=this._grid._curFormat;if(_a&&_b){var _c=this._text_elem;if(_c){_c.create();}this._on_refresh_rows();var _d=this._grid;var _e=_d._getScrollLeft();var _f=_d._getScrollTop();if(_e>0){this._matrix._adjustColsDisplay();_d._absolutelyResetScrollPos(true);_d._control_element.setElementHScrollPos(_e);_d._absolutelyResetScrollPos(false);}if(_f>0){_d._absolutelyResetScrollPos(true);_d._control_element.setElementVScrollPos(_f);_d._absolutelyResetScrollPos(false);}if(nexacro._enableaccessibility&&!_d._accept_focus){var _g=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_g&&_g.enable){_d._accept_focus=true;}}}};_pGridBand._delete_style=function(){this.style=null;this._styles=null;};_pGridBand.on_destroy_contents=function(){if(this._text_elem){this._text_elem.destroy();this._text_elem=null;}if(this._refobj){this._refobj.bandctrl=null;this._refobj=null;}this._rows=null;this._grid=null;this._matrix.destroy();this._matrix=null;this._colinfos=null;this._rowinfos=null;this._cellsinfo=null;this._update_rows=null;this._create_rows=null;this._rowsizesperdatarow=null;};_pGridBand.on_change_containerRect=function(_a,_b){if(this._recreating){return;}if(this._text_elem){var _d=this._grid._getAvailableRect(this);this._text_elem.setElementPosition(_d.left,_d.top);this._text_elem.setElementSize(_d.width,_d.height);}var _c=this._grid;if(_c._no_update_bandrect){return;}if(_c._is_changingRect){if(_c._colautofit){if(_c.autosizingtype=="row"||_c.autosizingtype=="both"){if(_c._is_body_wordwrap||_c._is_head_wordwrap||_c._is_summ_wordwrap){_c._resetRowSizeList();_c._resetColSizeList();}}}}if(this._isBody){var _e=_c._getScrollTop();if(_e<0){_e=0;}_c._last_scroll_top=_e;_c._toprowpos=_c._getScreenTopRowPos(_e);_c._bottomrowpos=_c._getScreenBottomRowPos(_e);this._matrix._adjustRowsDisplay(true);this._matrix._adjustColsDisplay();this._update_rows=this._matrix._adjustScrollRows(_e,true);}else{this._matrix._adjustRowsDisplay(true);this._matrix._adjustColsDisplay();}this._on_refresh_rows();};_pGridBand.on_create_control_element=function(_a){var _b=new nexacro.GridBandControlElement(_a,this.id);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pGridBand.on_apply_custom_setfocus=function(_a){nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);if(nexacro._enableaccessibility){this._grid._currentBand=this.id;if(this.id=="head"){this._grid._currentDSrow= -1;}else if(this.id=="summ"){this._grid._currentDSrow= -2;}else{this._grid._currentDSrow=0;}}};_pGridBand.on_get_style_accessibility_label=function(){return this.id;};_pGridBand._setAccessibilityStatFocus=function(_a){var _b=this.on_find_CurrentStyle_accessibility(this._pseudo);var _c=this._getAccessibilityLabel(_b);if(this._isBody&&this._grid.rowcount<=0){_c+=(this._grid.nodatatext)?this._grid.nodatatext:"";this._setAccessibilityLabel(_c);}nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pGridBand._setAccessibilityNotifyEvent=function(_a){if(this._isBody&&this._grid.rowcount<=0&&this._grid.nodatatext){var _b=this._grid.nodatatext;this._setAccessibilityLabel(_b);return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);}};_pGridBand.on_apply_prop_class=function(){var _a=this._grid._curFormat;if(_a){_a._clearCellStyleCache(this.id);}nexacro.Component.prototype.on_apply_prop_class.call(this);this._refresh_contents(true);};_pGridBand.on_apply_wordwrap=function(){this._refresh_contents();};_pGridBand.on_apply_prop_tooltip=function(){var _a=this.getElement();this.tooltiptext=this._refobj._getTooltipText();if(_a){if(this.tooltiptext!=""){_a.setElementToolTip(this.tooltiptext);}}};_pGridBand.on_apply_text=function(){if(this._text_elem){if(this._isBody&&this._get_rows().length==0){var _a=this.parent.nodatatext;var _b=this.parent.on_find_CurrentStyle_font();var _c=this.parent.on_find_CurrentStyle_color();this._text_elem.setElementVisible(_a?true:false);this._text_elem.setElementText(_a);this._text_elem.setElementFont(_b);this._text_elem.setElementColor(_c);}else{this._text_elem.setElementVisible(false);}}};_pGridBand.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._matrix._rows;var _b=this._rtldirection;if(_a){var _c;for(var _d=0;_d<_a.length;_d++ ){_a[_d]._setRtlDirection(_b);}}this._matrix._adjustColsDisplay(true);};_pGridBand.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.parent.onnodataareaclick&&this.parent.onnodataareaclick._has_handlers){return this.parent.on_fire_onnodataareaclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k.parent,_l);}return false;};_pGridBand.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.parent.onnodataareadblclick&&this.parent.onnodataareadblclick._has_handlers){return this.parent.on_fire_onnodataareadblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k.parent,_l);}return false;};_pGridBand._on_refresh_rows=function(_a,_b){if(this._control_element._handle){var _c=this._grid;if(this._update_rows.length>0||this._create_rows.length>0){var _d=this._update_rows;var _e=this._create_rows;var _f=this._get_rows();var _g=this._control_element;this._on_refresh_rows_physical(_d,_e,_a,_b);this._update_rows=[];this._create_rows=[];}this.on_apply_text();_c._applyResizer();}};_pGridBand._on_refresh_rows_physical=function(_a,_b,_c,_d){var _e=_a.length;var _f=_b.length;if(this._isBody){var _g=this._grid;if(_g._is_created==true){var _h=this._get_rows();var _i=_h.length;if(!_d){_g._suppressUpdate();}for(var _j=0;_j<_f;_j++ ){var _k=_b[_j];if(_k._is_alive){_k._updateAll();}}var _l=false;if(_i!=_e){_l=(!_g._isUseBindExprOuterStyle("body")&&!_g._is_variable_bodyrowsize&&!_g._is_use_fakemerge);}for(var _j=0;_j<_e;_j++ ){if(_a[_j]._is_alive){_a[_j]._updateAll(undefined,undefined,_l);}}if(_g._is_use_suppress){if(_f>0||_e>0){var _m=_g._curFormat._bodycells,_n=_m.length;var _o,_p;for(var _q=0;_q<_i;_q++ ){_o=_h[_q]._rowidx;_p=(_g._hasTree)?_g._treeIndexes[_o]:_o;for(var _j=0;_j<_n;_j++ ){if(_m[_j].suppress!=0){this._refreshRowCell(_q,_j,_g._isSelectedCell(_j,_p));}}}}}}}else{for(var _j=0;_j<_f;_j++ ){_b[_j]._updateAll();}for(var _j=0;_j<_e;_j++ ){_a[_j]._updateAll();}}for(var _j=0;_j<_f;_j++ ){_b[_j].on_created();}};_pGridBand._on_last_lbuttonup=function(){this.parent._on_last_lbuttonup();};_pGridBand._on_last_keyup=function(){this.parent._on_last_keyup();};_pGridBand._refreshRowCell=function(_a,_b,_c,_d,_e){var _f=this._get_rows();var _g=_f[_a]._cells;var _h=this._grid;var _i=_g[_b];if(!_i){return;}_i._selected=_c;var _j=_i.subcells;var _k=_j.length;for(var _l=0;_l<_k;_l++ ){_j[_l]._selected=_c;}_i._updateAll(_d,_e);};_pGridBand._refreshRow=function(_a,_b,_c){var _d=this._get_rows();var _e=_d[_a];_e._updateAll(_b,false,undefined,_c);};_pGridBand._refreshCelltype=function(_a,_b){var _c=this.parent._curFormat;function checktype(_d,_a){var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(_d[_f].celltype==_a){return true;}}return false;};if(_a=="head"){if(_c._bodycells){if(checktype(_c._bodycells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("body");}this.parent._refreshBody(_b);}}if(_c._summcells){if(checktype(_c._summcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("summ");}this.parent._refreshSumm(_b);}}}else if(_a=="summary"){if(_c._bodycells){if(checktype(_c._bodycells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("body");}this.parent._refreshBody(_b);}}if(_c._headcells){if(checktype(_c._headcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("head");}this.parent._refreshHead(_b);}}}else{if(_c._summcells){if(checktype(_c._summcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("summ");}this.parent._refreshSumm(_b);}}if(_c._headcells){if(checktype(_c._headcells,_a)){if(_b){this._grid._curFormat._clearCellStyleCache("head");}this.parent._refreshHead(_b);}}}};_pGridBand._refresh_contents=function(_a){if(_a){var _b=this._get_rows();var _c=_b.length;var _d,_e,_f;for(var _g=0;_g<_c;_g++ ){_d=_b[_g]._cells;_e=_d.length;for(var _h=0;_h<_e;_h++ ){_f=_d[_h];_f.currentstyle._empty();}}}if(this.id=="head"){this.parent._refreshHead(_a);this._refreshCelltype("head",_a);}else if(this.id=="summ"){this.parent._refreshSumm(_a);this._refreshCelltype("summary",_a);}else{this.parent._refreshBody(_a);this._refreshCelltype("body",_a);}};_pGridBand._isEnable=function(){if(this._grid){return this._grid._isEnable();}return true;};_pGridBand._get_cols=function(_a){var _b=_a._cols,_c=_b.length,_d,_e=[],_f=[],_g=[];for(var _h=0;_h<_c;_h++ ){_d=_b[_h];if(_d._area=="left"){_e.push(_d.size);}else if(_d._area=="right"){_f.push(_d.size);}else{_g.push(_d.size);}}this._colinfos=_b;return [_g,_e,_f];};_pGridBand._recreate_contents=function(_a,_b,_c,_d,_e){var _f=this._grid,_g=_f._curFormat,_h;this._matrix._init();if(!_g){return;}this._create_rows=[];this._update_rows=[];this._rowsizesperdatarow=[];this._recreating=true;if(this.id=="head"){_h=_g._headrows;this._datarowsheight=_g.headHeight;}else if(this.id=="summ"){_h=_g._summrows;this._datarowsheight=_g.summHeight;}else{_h=_g._bodyrows;_f._rowheight=this._datarowsheight=_g._body_height;}var _i=_h?_h.length:0,_j;for(var _r=0;_r<_i;_r++ ){this._rowsizesperdatarow.push(_h[_r].size);}var _k=(_f.hscrollbar)?_f.hscrollbar.pos:0,_l=(_f.vscrollbar)?_f.vscrollbar.pos:0,_m=(_f.vscrollbar)?_f.vscrollbar._pos:0,_n=_g.bodyWidth,_o=0;if(this._isBody){this._control_element._setFixArea(_f._fixed_height);this._client_height=this._control_element.client_height;if(!_c&&!_d){_f._hideEditor();}var _s=_f._getGridRowCount();var _t=_f._rowSizeList,_u,_v=[],_w=1,_x=1500000;for(var _r=0;_r<_s;_r++ ){_u=_f._getDataRow(_r);_o+=_t[_u];if(_o-_f._fixedrow_height>=_x*_w){_v.push(_o-_t[_u]);_w++ ;}}_o-=_f._fixedrow_height;_v.push(_o);this._scrollHeight=_o;this._scrollWidth=_n;var _y=_f._no_update_bandrect;_f._no_update_bandrect=true;_f._setScrollMaxSize(this._scrollWidth,this._scrollHeight,_v);_f._no_update_bandrect=_y;var _z=_f._control_element.vscroll_limit;if(_m<0){_m=0;}else if(_m>_z){_m=_z;}_f._toprowpos=_f._getScreenTopRowPos(_m);_f._bottomrowpos=_f._getScreenBottomRowPos(_m);if(_m==0){this._matrix._adjustRowsDisplay();this._matrix._async_create_page();}else{this._matrix._adjustRowsDisplay();}if(!_f._headBand&&!_f._summBand){_f._setScrollMaxSize(this._scrollWidth,this._scrollHeight,_v);}if(_f._is_created&&!_f._autofiting){this._on_refresh_rows(false,_e);_f._applyAutofittype(true);}}else{this._scrollWidth=_n;this._matrix._adjustRowsDisplay();_f._setScrollMaxSize(this._scrollWidth);if(_f._is_created&&!_f._autofiting){this._on_refresh_rows(false,_e);}}var _p=_f._find_lastFocused();if(_p==_f){_f._control_element.setElementFocus();}var _q=_f._control_element.hscroll_limit;if(_k<0){_k=0;}else if(_k>_q){_k=_q;}if(this._isBody){if(_k>0){if(_b){_f.hscrollbar.set_pos(0);_f._control_element.setElementHScrollPos(0);}else{if(_f._control_element._target_hscroll_elements){this._matrix._adjustColsDisplay();_f._absolutelyResetScrollPos(true);_f._control_element.setElementHScrollPos(_k);_f._absolutelyResetScrollPos(false);}}}if(_m>0){if(_b){_f.vscrollbar.set_pos(0);this._control_element.setElementVScrollPos(0);this._is_over_scroll=0;}else{_f._absolutelyResetScrollPos(true);_f._control_element.setElementVScrollPos(_m);_f._absolutelyResetScrollPos(false);}}_f._control_element._scroll_left=_k;_f._control_element._scroll_top=_l;}else{if(_k>0){if(_b){_f.hscrollbar.set_pos(0);_f._control_element.setElementHScrollPos(0);}else{this._matrix._adjustColsDisplay();_f._absolutelyResetScrollPos(true);_f._control_element.setElementHScrollPos(_k);_f._absolutelyResetScrollPos(false);}}_f._control_element._scroll_left=_k;}this._recreating=false;};_pGridBand._get_rows=function(){return this._matrix._getAllRows();};_pGridBand._get_row=function(_a){if(!this._is_created){return null;}var _b=this._get_rows();var _c=(_b)?_b.length:0;var _d;var _e=this._grid;var _f;for(var _g=0;_g<_c;_g++ ){_f=_e._getDataRow(_b[_g]._rowidx);if(_a==_f){return _b[_g];}}return null;};_pGridBand._updateAll=function(_a){if(this.getElement()){if(_a){this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";}this.on_apply_pseudo(this._pseudo);}};delete _pGridBand;nexacro.GridScrollBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ScrollBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._grid=_i;};var _pGridScrollBarCtrl=nexacro.GridScrollBarCtrl.prototype=nexacro._createPrototype(nexacro.ScrollBarCtrl,nexacro.GridScrollBarCtrl);nexacro._setForTypedControlStyleFinder(_pGridScrollBarCtrl);_pGridScrollBarCtrl._type_name="GridScrollBarControl";_pGridScrollBarCtrl.on_destroy_contents=function(){nexacro.ScrollBarCtrl.prototype.on_destroy_contents.call(this);this._grid=null;};_pGridScrollBarCtrl._set_rowpos=function(_a,_b){var _c=this._grid;_a-=_c._getFixRowCnt();if(_c._scrollpixel=="all"){_a=this._scroll_convert_pixel(_a,true);}this._no_set_scrollinfo=true;this._setPos(_a,_b);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl._set_pixelpos=function(_a,_b){var _c="none";if(_b=="mousewheel"){_c=this._getScrollInfo(_a);}if(_a<this._min){_a=this._min;}if(_a>this._max){_a=this._max;}this._no_set_scrollinfo=true;if(this._pos!=_a){this.pos=this._scroll_reverse_convert(_a)[0];this._pos=_a;var _d=this._rectShaft;this._resetTrackBar(_d.left,_d.top,_d.right,_d.bottom);}this.on_fire_onscroll(this.pos,_c);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl._scroll_convert_pixel=function(_a,_b){var _c=this._grid;var _d=_c._bodyBand;if(_c._scrollpixel!="all"||_b){if(this.direction=="vert"){if(_d){var _e=_c._getFixRowCnt();var _f=_a+_e;if(_c._is_variable_bodyrowsize){var _g=0,_h;for(var _i=_e;_i<_f;_i++ ){_h=_c._getDataRow(_i);_g+=_c._rowSizeList[_h];}_a=_g;}else{_a=(_f-_e)*_d._datarowsheight;}}}}return _a;};_pGridScrollBarCtrl._scroll_reverse_convert=function(_a,_b,_c){var _d=this._grid;var _e=_d._bodyBand;var _f=_a;if(_d._scrollpixel!="all"||_b){if(this.direction=="vert"){if(_e){if(_d._is_variable_bodyrowsize){var _g=_d._getFixRowCnt();var _h=_d._getGridRowCount();var _i=0,_j=0;if(_c){for(var _k=_g;_k<_h;_k++ ){_j=_d._getDataRow(_k);if(_a<=_i){_j=_k;_f=_i;break;}_i+=_d._rowSizeList[_j];}}else{for(var _k=_g;_k<_h;_k++ ){_j=_d._getDataRow(_k);if(_a<_i){_j=_k-1;if(_d._rowSizeList[_j]>_e._client_height){if(_i-_a<_e._client_height){_f=_i-_e._client_height;}}else{_f=_i-_d._rowSizeList[_j];}break;}_i+=_d._rowSizeList[_j];}}_a=_j;_a-=_g;}else{var _i=0,_j=0;if(_c){if(_a>0){_j=Math.ceil(_a/_e._datarowsheight);}_f=_j*_e._datarowsheight;}else{if(_a>0){_j=Math.floor(_a/_e._datarowsheight);}_i=_e._datarowsheight*(_j+1);if(_e._datarowsheight>_e._client_height){if(_i-_a<_e._client_height){_f=_i-_e._client_height;}}else{_f=_j*_e._datarowsheight;}}_a=_j;}}}}return [_a,_f];};_pGridScrollBarCtrl.on_incbutton_lbuttondown=function(_a){this._no_set_scrollinfo=true;nexacro.ScrollBarCtrl.prototype.on_incbutton_lbuttondown.call(this,_a);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl.on_decbutton_lbuttondown=function(_a){this._no_set_scrollinfo=true;nexacro.ScrollBarCtrl.prototype.on_decbutton_lbuttondown.call(this,_a);this._no_set_scrollinfo=false;};_pGridScrollBarCtrl._getIncNewPosPixel=function(){var _a=this._grid;var _b,_c;if(this.direction=="vert"){if(_a._scrollpixel!="all"){_c=this.pos;}else{_c=this._scroll_reverse_convert(this.pos,true)[0];}_b=this._scroll_convert_pixel(_c+1,true);}return _b;};_pGridScrollBarCtrl._getDecNewPosPixel=function(){var _a=this._grid;var _b,_c;if(this.direction=="vert"){if(_a._scrollpixel!="all"){_c=this.pos;}else{_c=this._scroll_reverse_convert(this.pos,true)[0];}_b=this._scroll_convert_pixel(_c-1,true);}return _b;};_pGridScrollBarCtrl._setScrollPos=function(_a){nexacro.ScrollBarCtrl.prototype._setScrollPos.call(this,_a);var _b=this._grid;if(_b._scrollpixel!="all"){_b._is_over_scroll=0;if(this._pos>this._orgmax){_b._is_over_scroll=this._pos-this._orgmax;}}};delete _pGridScrollBarCtrl;nexacro.Grid=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ongesture":1,"onvscrolllastover":1,"onvscroll":1,"onhscroll":1,"onvtracklast":1,"oncellclick":1,"onheadclick":1,"onsummclick":1,"oncelldblclick":1,"onheaddblclick":1,"onsummdblclick":1,"onnodataareaclick":1,"onnodataareadblclick":1,"onselectchanged":1,"onselectchanged":1,"onformatchanged":1,"onenteredit":1,"onenterdown":1,"cantreestatuschange":1,"ontreestatuschanged":1,"onsubselectchanged":1,"onsubselectchanged":1,"oncolresizing":1,"onrowresizing":1,"ondropdown":1,"oncloseup":1,"onitemchanged":1,"onexpanddown":1,"onexpandup":1,"onchar":1,"ontextchange":1,"ontextchanged":1,"oncolresized":1,"onrowresized":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1};this._is_scrollable=true;this._formats={};this._curFormat=null;this._headBand=null;this._summBand=null;this._bodyBand=null;this._exprcache={};this._selectstartrow=[];this._selectstartcol=[];this._selectstartsubrow=[];this._selectstartpvt=[];this._selectendrow=[];this._selectendcol=[];this._selectendsubrow=[];this._selectendpvt=[];this._resizerCols=[];this._resizerRows=[];this._imgsize_cache={};this._rowSizeListSub=[];this._rowSizeList=[];this._rowHeadListSub=[];this._rowHeadList=[];this._rowSummListSub=[];this._rowSummList=[];this._begrowpos=0;this._endrowpos=0;this._toprowpos=[0,0];this._bottomrowpos= -1;this._selectinfo={rows:[],selects:[],ctrlpoint:{"cell": -1,"col": -1,"subrow": -1,"row": -9,"colspan": -1,"rowspan": -1,"_init":function(){this.cell= -1;this.col= -1;this.subrow= -1;this.row= -9;this.colspan= -1;this.rowspan= -1;this.subrowslen=0;this.area="";},"_set":function(_j,_k,_l){this.cell=_j._cellidx;this.col=_j._col;this.subrow=_j._row;this.row=_k;this.colspan=_j._colspan;this.rowspan=_j._rowspan;this.subrowslen=_l;this.area=_j._area;}},area:[],"curcell": -1,"curcol": -1,"curpvt": -9,"cursubrow": -1,"curdsrow": -1,"currow": -9,"getSelectCells":function(_j){return this.selects[_j+2];},arearect:{left:0,top:0,width:0,height:0,barea:"",earea:""}};this._text_elem=null;this._is_use_suppress=false;this._is_head_wordwrap=false;this._is_body_wordwrap=false;this._is_summ_wordwrap=false;this._recreate_contents_proc=[];this._keydown_elem=null;this._tree_load_all=null;this._image_load_all=null;this._is_editor_keyaction=true;this._focus_proc=null;this._after_recreate_contents_all=null;this._is_async_recreate=false;this._is_after_recreate=false;this._accessibility_role="grid";this._accept_arrow=false;this._accept_focus=false;this._first_focus=false;this._is_first_bodycell=false;this._is_band_focus=false;this._beforegridrowpos= -1;this._beforegridcolpos= -1;this.accessibilityreadbandlabel=true;this.controlbutton=new nexacro.GridControlButton("controlbutton",0,0,0,0,this,false,true);this.controlcalendar=new nexacro.GridControlCalendar("controlcalendar",0,0,0,0,this,false,true);this.controlcheckbox=new nexacro.GridControlCheckbox("controlcheckbox",0,0,0,0,this,true);this.controlcombo=new nexacro.GridControlCombo("controlcombo",0,0,0,0,this,false,true);this.controledit=new nexacro.GridControlEdit("controledit",0,0,0,0,this,false,true);this.controlmaskedit=new nexacro.GridControlMaskEdit("controlmaskedit",0,0,0,0,this,true);this.controltextarea=new nexacro.GridControlTextArea("controltextarea",0,0,0,0,this,false,true);this.controlprogressbar=new nexacro.GridControlBar("controlprogressbar",0,0,0,0,this,true);this.controlexpand=new nexacro.GridExpand(this,0,0,0,0,true);this._aniframe_rowscroll=null;this._aniframe_colscroll=null;this._is_use_bind_expr_prop={body:null,head:null,summ:null};this._is_use_bind_expr_style={body:false,head:false,summ:false};this._is_use_bind_expr_outerstyle={body:false,head:false,summ:false};this._select_ctrl=null;this._format_str=null;this._destroyeditors=[];this._track_point={x: -1,y: -1};this._track_idx= -1;this._track_start_info=null;this._track_mode="";this._overlay_elements=[];this._func_queue=[];this._recalcXY_info=null;this._fake_mergecell_arr=[];this._enable_redraw_history={};this._temphead=this._tempsumm=null;this._autofitcol_rate=[];};var _pGrid=nexacro._createPrototype(nexacro.Component,nexacro.Grid);nexacro.Grid.prototype=_pGrid;_pGrid._type_name="Grid";_pGrid._rowheight=24;_pGrid._rowcount=0;_pGrid._rowposition= -1;_pGrid._beforeheadcellpos= -1;_pGrid._beforeheadrowpos= -1;_pGrid._beforeheadcolpos= -1;_pGrid._beforeheadsubrowpos= -1;_pGrid._beforebodycellpos= -1;_pGrid._beforebodyrowpos= -1;_pGrid._beforebodycolpos= -1;_pGrid._beforebodysubrowpos= -1;_pGrid._beforepvt= -9;_pGrid._beforesummcellpos= -1;_pGrid._beforesummrowpos= -1;_pGrid._beforesummcolpos= -1;_pGrid._beforesummsubrowpos= -1;_pGrid._multiselect="none";_pGrid._bodyrowheight=0;_pGrid._mouseRowPos= -9;_pGrid._mouseovercell=null;_pGrid._mouseCellPos= -1;_pGrid._dsEventOccured=false;_pGrid._bPivotGrid=false;_pGrid._showEditorCell=false;_pGrid._showEditRowIdx= -1;_pGrid._showEditCellIdx= -1;_pGrid._dbclickPreCell= -1;_pGrid._dbclickPreCol= -1;_pGrid._dbclickPreRow= -9;_pGrid._dbclickPreSubrow= -1;_pGrid._dbclickPrePvt= -9;_pGrid._lbuttondown_proc=false;_pGrid._bDragArea=false;_pGrid._nDragRow= -1;_pGrid._nDragCell= -1;_pGrid._nDragPivot= -9;_pGrid._nDragEndRow= -1;_pGrid._nDragEndCell= -1;_pGrid._nDragEndCol= -9;_pGrid._nDragBand= -1;_pGrid._bShiftClick=false;_pGrid._selectClear=false;_pGrid._acceptstab=true;_pGrid.vscrollbar=null;_pGrid.hscrollbar=null;_pGrid.scrollbars="autoboth";_pGrid._scrollbars=3;_pGrid.body=null;_pGrid.head=null;_pGrid.summ=null;_pGrid.summary=null;_pGrid.currentcell= -1;_pGrid.currentcol= -1;_pGrid.currentpivot= -9;_pGrid.currentsubrow= -1;_pGrid.currentrow= -9;_pGrid._currentDSrow= -1;_pGrid._currentBand="body";_pGrid.selectcount=0;_pGrid.selectstartrow= -9;_pGrid.selectstartcol= -1;_pGrid.selectstartsubrow= -1;_pGrid.selectstartpivot= -9;_pGrid.selectendrow= -9;_pGrid.selectendcol= -1;_pGrid.selectendsubrow= -1;_pGrid.selectendpivot= -9;_pGrid.pagerowcount=0;_pGrid._pagerowcnt=0;_pGrid.rowcount=0;_pGrid.pivotcount=0;_pGrid._disprowcnt=0;_pGrid._displaycalendarctrl=null;_pGrid.fillareatype="none";_pGrid._resetfillarea=false;_pGrid.scrollpixel="default";_pGrid._scrollpixel=(nexacro.isTouchInteraction)?"all":"none";_pGrid._selectscrollmode=(nexacro.isTouchInteraction)?"scroll":"select";_pGrid.dragscrolltype="all";_pGrid.hideendline="none";_pGrid.userdata="";_pGrid.nodataimage="";_pGrid.nodatatext="";_pGrid.summarytype="default";_pGrid.suppresslevel="sameskip";_pGrid.useselcolor=true;_pGrid.autoupdatetype="none";_pGrid.cellclickbound="control";_pGrid.cellmovingtype="none";_pGrid.cellsizebandtype="body";_pGrid.cellsizingtype="none";_pGrid.extendsizetype="none";_pGrid.readonly=false;_pGrid.selectbandtype="default";_pGrid.selectchangetype="down";_pGrid.selecttype="row";_pGrid.wheelscrollrow=3;_pGrid.usecontrolkey=true;_pGrid.treeusebutton="use";_pGrid.treeuseline=true;_pGrid.treeusecheckbox=true;_pGrid.treeuseimage=true;_pGrid.treeuseexpandkey=false;_pGrid.treeinitstatus="collapse,null";_pGrid.treepathdelimiter=".";_pGrid.useinputpanel=false;_pGrid._enable=true;_pGrid._changeDisplayer=false;_pGrid._autoSizeRowProc=false;_pGrid._iskey_movetocell=false;_pGrid.binddataset="";_pGrid._binddataset=null;_pGrid._userRowposChange=false;_pGrid._create_selection=null;_pGrid.formatid="";_pGrid.formats="";_pGrid.locale="";_pGrid.areaselecttype="limitband";_pGrid.autoenter="none";_pGrid.autofitbandtype="body";_pGrid.autofitminheight=100;_pGrid.autofitminwidth=100;_pGrid.autofittype="none";_pGrid.autosizingtype="none";_pGrid.autosizebandtype="body";_pGrid.selectscrollmode="default";_pGrid._colautofit=false;_pGrid._rowautofit=false;_pGrid._autofiting=false;_pGrid._bodyAutoSize=true;_pGrid._headAutoSize=false;_pGrid._summAutoSize=false;_pGrid._AutoSizeLcol=false;_pGrid._AutoSizeRcol=false;_pGrid._rowSizeEx=false;_pGrid._noInternalvscroll=false;_pGrid._is_variable_bodyrowsize=false;_pGrid._bGridCtrlLdown=false;_pGrid._locale="";_pGrid._currentCompositionStatus="none";_pGrid._currentCompositionData="";_pGrid._fixed_startrow= -9;_pGrid._fixed_endrow= -9;_pGrid._fixed_height=0;_pGrid._fixedrow_height=0;_pGrid._fixed_rowcnt=0;_pGrid._fixed_row_scrolling=false;_pGrid._accessibility_row= -1;_pGrid._accessibility_cellidx= -1;_pGrid.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_font(_a);if(_b.font!=_c){_b.font=_c;this.on_apply_style_font(_c);}var _d=this.on_find_CurrentStyle_color(_a);if(_b.color!=_d){_b.color=_d;this.on_apply_style_color(_d);}var _e=this.on_find_CurrentStyle_align(_a);if(_b.align!=_e){_b.align=_e;this.on_apply_style_align(_e);}var _f=this.on_find_CurrentStyle_linetype(_a);if(_b.linetype!=_f){_b.linetype=_f;this.on_apply_style_linetype(_f);}var _g=this.on_find_CurrentStyle_line(_a);if(_b.line!=_g){_b.line=_g;this.on_apply_style_line(_g);}var _h=this.on_find_CurrentStyle_selectline(_a);if(_b.selectline!=_h){_b.selectline=_h;this.on_apply_style_selectline(_h);}var _i=this.on_find_CurrentStyle_selectlinetype(_a);if(_b.selectlinetype!=_i){_b.selectlinetype=_i;this.on_apply_style_selectline(_i);}var _j=this.on_find_CurrentStyle_treeclosebuttonimage(_a);if(_b.treeclosebuttonimage!=_j){_b.treeclosebuttonimage=_j;this.on_apply_style_treeclosebuttonimage(_j);}var _k=this.on_find_CurrentStyle_treecollapseimage(_a);if(_b.treecollapseimage!=_k){_b.treecollapseimage=_k;this.on_apply_style_treecollapseimage(_k);}var _l=this.on_find_CurrentStyle_treeexpandimage(_a);if(_b.treeexpandimage!=_l){_b.treeexpandimage=_l;this.on_apply_style_treeexpandimage(_l);}var _m=this.on_find_CurrentStyle_treeitemimage(_a);if(_b.treeitemimage!=_m){_b.treeitemimage=_m;this.on_apply_style_treeitemimage(_m);}var _n=this.on_find_CurrentStyle_treelinetype(_a);if(_b.treelinetype!=_n){_b.treelinetype=_n;this.on_apply_style_treeitemimage(_n);}var _o=this.on_find_CurrentStyle_treeopenbuttonimage(_a);if(_b.treeopenbuttonimage!=_o){_b.treeopenbuttonimage=_o;this.on_apply_style_treeopenbuttonimage(_o);}var _p=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_b.rtlimagemirroring!=_p){_b.rtlimagemirroring=_p;this.on_apply_style_rtlimagemirroring(_p);}};_pGrid.on_create_custom_style=function(){return new nexacro.Grid_Style(this);};_pGrid.on_create_custom_currentStyle=function(){return new nexacro.Grid_CurrentStyle();};_pGrid.on_find_CurrentStyle_cursor=function(_a){if(this._global_cursor){return this._global_cursor;}return nexacro.Component.prototype.on_find_CurrentStyle_cursor.call(this,_a);};_pGrid.on_find_CurrentStyle_line=function(_a){return this._find_pseudo_obj("line",_a,"line");};_pGrid.on_find_CurrentStyle_selectline=function(_a){return this._find_pseudo_obj("selectline",_a);};_pGrid.on_find_CurrentStyle_linetype=function(_a){return this._find_pseudo_obj("linetype",_a);};_pGrid.on_find_CurrentStyle_selectlinetype=function(_a){return this._find_pseudo_obj("selectlinetype",_a);};_pGrid.on_find_CurrentStyle_focusborder=function(_a){return this._find_pseudo_obj("focusborder",_a,"border");};_pGrid.on_find_CurrentStyle_treeclosebuttonimage=function(_a){return this._find_pseudo_obj("treeclosebuttonimage",_a);};_pGrid.on_find_CurrentStyle_treecollapseimage=function(_a){return this._find_pseudo_obj("treecollapseimage",_a);};_pGrid.on_find_CurrentStyle_treeexpandimage=function(_a){return this._find_pseudo_obj("treeexpandimage",_a);};_pGrid.on_find_CurrentStyle_treeitemimage=function(_a){return this._find_pseudo_obj("treeitemimage",_a);};_pGrid.on_find_CurrentStyle_treelinetype=function(_a){return this._find_pseudo_obj("treelinetype",_a,"line");};_pGrid.on_find_CurrentStyle_treeopenbuttonimage=function(_a){return this._find_pseudo_obj("treeopenbuttonimage",_a);};_pGrid.on_find_CurrentStyle_selectpointimage=function(_a){return this._find_pseudo_obj("selectpointimage",_a);};_pGrid.on_find_CurrentStyle_background=function(_a){var _b=this._getGridRowCount();var _c=nexacro.Component.prototype.on_find_CurrentStyle_background.call(this,_a);if(this.getElement()&&_b==0&&this._bodyBand==null&&this._is_created){var _d=this.nodataimage;if(_d.length){var _e="transparent";if(_c){_e=_c.color;}_c=nexacro._getCachedStyleObj("background",_e+" "+_d+" center middle");}}return _c;};_pGrid.on_find_CurrentStyle_align=function(_a){return this._find_pseudo_obj("align",_a,"align");};_pGrid.on_update_style_cursor=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_cursor(this.currentstyle.cursor=this.on_find_CurrentStyle_cursor(this._pseudo));this._refreshAll();};_pGrid.on_update_style_background=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_background(this.currentstyle.background=this.on_find_CurrentStyle_background(this._pseudo));};_pGrid.on_update_style_gradation=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_gradation(this.currentstyle.gradation=this.on_find_CurrentStyle_gradation(this._pseudo));};_pGrid.on_update_style_font=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_font(this.currentstyle.font=this.on_find_CurrentStyle_font(this._pseudo));};_pGrid.on_update_style_padding=function(){if(this._is_created){this._clearAllStyleCache();}var _a=this.currentstyle.padding=this.on_find_CurrentStyle_padding(this._pseudo);this._control_element.setElementPadding(_a);this._updateClientSize(this._control_element);};_pGrid.on_update_style_align=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_align(this.currentstyle.align=this.on_find_CurrentStyle_align(this._pseudo));};_pGrid.on_update_style_color=function(){if(this._is_created){this._clearAllStyleCache();}nexacro.Component.prototype.on_update_style_color.call(this);};_pGrid.on_update_style_line=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_line(this.currentstyle.line=this.on_find_CurrentStyle_line(this._pseudo));};_pGrid.on_update_style_linetype=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_linetype(this.currentstyle.linetype=this.on_find_CurrentStyle_linetype(this._pseudo));};_pGrid.on_update_style_selectline=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_selectline(this.currentstyle.selectline=this.on_find_CurrentStyle_selectline(this._pseudo));};_pGrid.on_update_style_selectlinetype=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_selectlinetype(this.currentstyle.selectlinetype=this.on_find_CurrentStyle_selectlinetype(this._pseudo));};_pGrid.on_update_style_treeclosebuttonimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeclosebuttonimage(this.currentstyle.treeclosebuttonimage=this.on_find_CurrentStyle_treeclosebuttonimage(this._pseudo));};_pGrid.on_update_style_treecollapseimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treecollapseimage(this.currentstyle.treecollapseimage=this.on_find_CurrentStyle_treecollapseimage(this._pseudo));};_pGrid.on_update_style_treeexpandimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeexpandimage(this.currentstyle.treeexpandimage=this.on_find_CurrentStyle_treeexpandimage(this._pseudo));};_pGrid.on_update_style_treeitemimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeitemimage(this.currentstyle.treeitemimage=this.on_find_CurrentStyle_treeitemimage(this._pseudo));};_pGrid.on_update_style_treelinetype=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treelinetype(this.currentstyle.treelinetype=this.on_find_CurrentStyle_treelinetype(this._pseudo));};_pGrid.on_update_style_treeopenbuttonimage=function(){if(this._is_created){this._clearAllStyleCache();}this.on_apply_style_treeopenbuttonimage(this.currentstyle.treeopenbuttonimage=this.on_find_CurrentStyle_treeopenbuttonimage(this._pseudo));};_pGrid.on_update_style_selectpointimage=function(){this.on_apply_style_selectpointimage(this.currentstyle.selectpointimage=this.on_find_CurrentStyle_selectpointimage(this._pseudo));};_pGrid.on_apply_style_font=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_color=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_align=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_linetype=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_line=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_selectline=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_selectlinetype=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeclosebuttonimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treecollapseimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeexpandimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeitemimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treelinetype=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_treeopenbuttonimage=function(_a){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(this._is_created){this._refreshAll();}};_pGrid.on_apply_style_selectpointimage=function(_a){if(!this.enableredraw){return;}if(!this._is_created){return;}if(this._select_ctrl){this._select_ctrl._updateAll();}};_pGrid._find_bandcomp_pseudo_obj=function(_a,_b,_c,_d){var _e;var _f=this._curFormat;if(_a=="head"){_e=this._headBand;if(!_e){_e=this._temphead;if(!_e){_e=this._temphead=new nexacro.GridBand("head",0,0,0,0,this,_f._headband);}}}else if(_a=="summ"||_a=="summary"){_e=this._summBand;if(!_e){_e=this._tempsumm;if(!_e){_e=this._tempsumm=new nexacro.GridBand("summ",0,0,0,0,this,_f._summband);}}}else{_e=this._bodyBand;}var _g=null;if(_e){if(_a=="summ"||_a=="summary"){_g=nexacro.Component.prototype._find_pseudo_obj.call(_e,_b,_c,_d);if(!_g){_e.id="summary";_g=nexacro.Component.prototype._find_pseudo_obj.call(_e,_b,_c,_d);_e.id="summ";}}else{_g=nexacro.Component.prototype._find_pseudo_obj.call(_e,_b,_c,_d);}}return _g;};_pGrid.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._text_elem=new nexacro.TextBoxElement(_a);_b.setElementSize(this._client_width,this._client_height);_b.setElementVisible(false);_b.setElementAlignXY("center","middle");_b.setElementWordWrap("char");this._createBandsAndAreas();}};_pGrid.on_created_contents=function(){var _a=this._text_elem;if(_a){_a.create();}var _b=this._bodyBand;if(_b){_b.on_created();}var _c=this._headBand;if(_c){_c.on_created();}var _d=this._summBand;if(_d){_d.on_created();}var _e=this._select_ctrl;if(_e){_e.on_created();}if(_b||_c||_d){this._onResetScrollBar();this._applyAutofittype(true);}if(this._create_selection!=null){var _f=this._create_selection;this._resetSelect(_f.row,_f.cell,_f.col,_f.subrow,_f.pivot);}this._create_selection=null;this._is_created=true;if(this._tree_recreate==true){this._recreate_contents_all(true,true,true);this._tree_recreate=false;}else if(this._image_recreate==true){this._recreate_contents_all(true,true,true);this._image_recreate=false;}else if(this.autosizingtype!="none"){this._recreate_contents_all(true,true,true);}else{this._refreshBody();}if(nexacro._enableaccessibility&&!this._accept_focus){var _g=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_g&&_g.enable){this._accept_focus=true;}}this.on_apply_nodatatext();this.on_apply_nodataimage();if(this._control_element){this._control_element._arrangeBandOrder();}this.on_apply_prop_rtldirection();this._adjustOverlayElements(true,false);};_pGrid.on_destroy_contents=function(){if(this._binddataset){this._removeDSEventHandlers(this._binddataset);}if(this._aniframe_rowscroll){this._aniframe_rowscroll.destroy();}if(this._aniframe_colscroll){this._aniframe_colscroll.destroy();}var _a=this._text_elem;if(_a){_a.destroy();this._text_elem=null;}var _b=this._formats;if(_b){for(var _c in _b){var _d=_b[_c];if(_d&&_d.destroy){_d.destroy();_b[_c]=null;}}}this._select_ctrl=null;this._destroyBands(true);if(this._currentCellEditor){this._currentCellEditor.destroy();this._currentCellEditor=null;this._tempEditor=null;}this._clearDestroyEditor();if(this._displaycalendarctrl){delete this._displaycalendarctrl;this._displaycalendarctrl=null;}this._binddataset=null;if(this._tempEditor){this._tempEditor.destroy();this._tempEditor=null;}if(this._resizer_colctrl){this._resizer_colctrl.destroy();}if(this._resizer_rowctrl){this._resizer_rowctrl.destroy();}if(this._extratrack_timer){this._extratrack_timer._handle.stop();this._extratrack_timer._handle=null;this._extratrack_timer=null;}this._destroyOverlayElements();this._curFormat=null;this._formats=null;this._mouseovercell=null;this._prevAreaCellObj=null;this._selectstartrow=null;this._selectstartcol=null;this._selectstartsubrow=null;this._selectstartpvt=null;this._selectendrow=null;this._selectendcol=null;this._selectendsubrow=null;this._selectendpvt=null;this._resizerCols=null;this._resizerRows=null;this._imgsize_cache=null;this._rowSizeListSub=null;this._rowSizeList=null;this._rowHeadListSub=null;this._rowHeadList=null;this._rowSummListSub=null;this._rowSummList=null;this._toprowpos=null;this._selectinfo=null;this._recreate_contents_proc=null;this._keydown_elem=null;this._tree_load_all=null;this._image_load_all=null;this._focus_proc=null;this._after_recreate_contents_all=null;this._band_scroll_sizes=null;this._format_str=null;this._exprcache=null;this._is_use_bind_expr_outerstyle=null;this._is_use_bind_expr_prop=null;this._is_use_bind_expr_style=null;this._setdataobj=null;this._resizer_colctrl=null;this._resizer_rowctrl=null;this.selectstartrow=null;this.selectstartcol=null;this.selectstartsubrow=null;this.selectstartpivot=null;this.selectendrow=null;this.selectendcol=null;this.selectendsubrow=null;this.selectendpivot=null;this.formats=null;this._destroyeditors=null;this._overlay_elements=null;this._recalcXY_info=null;this._fake_mergecell_arr=null;this._enable_redraw_history=null;this._autofitcol_rate=null;};_pGrid._is_changingRect=false;_pGrid.on_change_containerRect=function(_a,_b){if(this._is_changingRect){return;}this._is_changingRect=true;this._resizeBand();this._adjustOverlayElements(true,false);this._is_changingRect=false;};_pGrid.on_create_control_element=function(_a){var _b=new nexacro.GridScrollableControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pGrid._on_deactivate=function(){if(!this._isSelected()){this._stat_change("notfocus","normal");}};_pGrid.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);if(this._currentCellEditor&&this._currentCellEditor._isPopupVisible()){this._currentCellEditor.on_update_position(_a,_b);}};_pGrid.applyto_bindSource=function(_a,_b){if(this._currentCellEditor){this._currentCellEditor._setDataset();}};_pGrid._getAccessibilityRole=function(_a){var _b=_a.role?_a.role:this._accessibility_role;if(this._hasTree){_b="treegrid";}return _b;};_pGrid._isAccessibilityEnable=function(){return this._accept_focus;};_pGrid.on_get_style_accessibility_label=function(){return this.id;};_pGrid.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){var _d=false;var _e=this._curFormat;if(_e){var _f=(_e._headcells)?_e._headcells.length:0;var _g=(_e._bodycells)?_e._bodycells.length:0;var _h=(_e._summcells)?_e._summcells.length:0;if(this._accessibility_cellidx<0&&this._accessibility_row<0){if(_a){this._currentBand="head";this._accessibility_row=0;this._accessibility_cellidx= -1;}else{this._currentBand="summ";this._accessibility_row=0;this._accessibility_cellidx=_h;}}var _i=null;while(true){_i=null;if(_a){this._accessibility_cellidx++ ;}else{this._accessibility_cellidx-- ;}if(this._currentBand=="head"){if(_a){if(!this._headBand||this._accessibility_cellidx>=_f){this._currentBand="body";this._accessibility_row=0;this._accessibility_cellidx=0;if(this.rowcount<=0&&this.nodatatext){this._bodyBand._setAccessibilityNotifyEvent();_d=true;break;}}}else{if(!this._headBand||this._accessibility_cellidx<0){this._accessibility_row= -1;this._accessibility_cellidx= -1;_d=false;break;}}}else if(this._currentBand=="summ"){if(_a){if(!this._summBand||this._accessibility_cellidx>=_h){this._accessibility_row= -1;this._accessibility_cellidx= -1;_d=false;break;}}else{if(!this._summBand||this._accessibility_cellidx<0){this._currentBand="body";this._accessibility_row=this._rowcount-1;this._accessibility_cellidx=_g-1;if(this.rowcount<=0&&this.nodatatext){this._bodyBand._setAccessibilityNotifyEvent();_d=true;break;}}}}else{if(_a){if(this._accessibility_cellidx>=_g){this._accessibility_row++ ;this._accessibility_cellidx=0;}if(this._rowcount<=0||this._accessibility_row>=this._rowcount){this._currentBand="summ";this._accessibility_row=0;this._accessibility_cellidx=0;}}else{if(this._accessibility_cellidx<0){this._accessibility_row-- ;this._accessibility_cellidx=_g-1;}if(this._rowcount<=0||this._accessibility_row<0){this._currentBand="head";this._accessibility_row=0;this._accessibility_cellidx=_f-1;}}}_i=this._getAccessibilityCurrentCell(this._accessibility_row,this._accessibility_cellidx);if(_i){_i._setAccessibilityNotifyEvent();_d=true;break;}}}return _d;};_pGrid._setAccessibilityNotifyEvent=function(_a){this._resetScrollPos(this,this._adjust_left,this._adjust_top,this._adjust_left+this._adjust_width,this._adjust_top+this._adjust_height,(_a&&_a>0)?0:1);this._accessibility_row= -1;this._accessibility_cellidx= -1;this.on_fire_sys_onaccessibilitygesture(_a);};_pGrid._setAccessibilityInfoByHover=function(_a){var _b=false;if(_a){if(_a._cellobj){_a=_a._cellobj;}if(_a instanceof nexacro.GridCell){this._currentBand=_a._band.id;this._accessibility_cellidx=_a._cellidx;this._accessibility_row=this._getDataRow(_a._rowidx);this._first_focus=true;}else{this._first_focus=false;}_b=_a._setAccessibilityInfoByHover();}return _b;};_pGrid.on_apply_prop_class=function(){this._clearAllStyleCache();if(this._bodyBand){this._bodyBand._css_finder=null;this._bodyBand._ref_css_finder=null;}if(this._headBand){this._headBand._css_finder=null;this._headBand._ref_css_finder=null;}if(this._summBand){this._summBand._css_finder=null;this._summBand._ref_css_finder=null;}nexacro.Component.prototype.on_apply_prop_class.call(this);if(this._is_created){this._refreshAll(true);}};_pGrid.set_fillareatype=function(_a){switch(_a){case "none":case "linerow":case "datarow":case "controlrow":case "allrow":if(_a!=this.fillareatype){this.fillareatype=_a;this.on_apply_fillareatype();}break;}};_pGrid.on_apply_fillareatype=function(){this._resetfillarea=true;this._recreate_contents_all(false,false,false,true);this._resetfillarea=false;};_pGrid.set_selectscrollmode=function(_a){switch(_a){case "select":case "scroll":this._selectscrollmode=this.selectscrollmode=_a;break;case "default":this._selectscrollmode=(nexacro.isTouchInteraction)?"scroll":"select";break;}};_pGrid.set_scrollpixel=function(_a){if(_a!=this.scrollpixel){switch(_a){case "none":case "all":this.scrollpixel=this._scrollpixel=_a;this.on_apply_scrollpixel();break;case "default":this.scrollpixel=_a;this._scrollpixel=(nexacro.isTouchInteraction)?"all":"none";this.on_apply_scrollpixel();break;}}};_pGrid.on_apply_scrollpixel=function(){this._updateScrollInfo();};_pGrid._updateScrollInfo=function(){if(this._control_element){this._control_element._updateClientSize();this._updateClientSize(this._control_element);}};_pGrid.set_hideendline=function(_a){switch(_a){case "none":case "row":case "col":case "both":if(_a!=this.hideendline){this.hideendline=_a;this.on_apply_hideendline();}break;}};_pGrid.on_apply_hideendline=function(){this._refreshAll();};_pGrid.set_userdata=function(_a){if(this.userdata!=_a){this.userdata=_a;}};_pGrid.set_nodataimage=function(_a){if(_a.substring(0,4).toLowerCase()!="url("){_a="URL("+_a+")";}this.nodataimage=_a;this.on_apply_nodataimage();};_pGrid.on_apply_nodataimage=function(){if(this.getElement()){var _a=this._bodyBand;if(_a){_a._control_pseudo="";_a._contents_pseudo="";_a._stat_change();}else{this._control_pseudo="";this._contents_pseudo="";this._stat_change();}}};_pGrid.set_nodatatext=function(_a){this.nodatatext=_a;this.on_apply_nodatatext();};_pGrid.on_apply_nodatatext=function(){var _a=this._getGridRowCount();if(this.getElement()&&_a==0){var _b=this._bodyBand;if(_b){if(this._text_elem){this._text_elem.setElementVisible(false);}_b.on_apply_text();}else{if(this._text_elem){var _c=this.nodatatext;var _d=this.on_find_CurrentStyle_font();var _e=this.on_find_CurrentStyle_color();this._text_elem.setElementVisible(true);this._text_elem.setElementText(_c);this._text_elem.setElementFont(_d);this._text_elem.setElementColor(_e);}}}else{if(this._text_elem){this._text_elem.setElementVisible(false);}}};_pGrid.set_summarytype=function(_a){switch(_a){case "default":case "top":case "left":case "lefttop":if(_a!=this.summarytype){this.summarytype=_a;this.on_apply_summarytype();}break;}};_pGrid.on_apply_summarytype=function(){if(this.getElement()&&this._curFormat!=null&&this._curFormat.summHeight>0){this._recreate();}};_pGrid.set_suppresslevel=function(_a){switch(_a){case "sameskip":case "allskip":case "allcompare":if(_a!=this.suppresslevel){this.suppresslevel=_a;this.on_apply_suppresslevel();}break;}};_pGrid.on_apply_suppresslevel=function(){if(this.getElement()&&this._curFormat!=null){this._refreshBody();}};_pGrid.set_useselcolor=function(_a){_a=nexacro._toBoolean(_a);this.useselcolor=_a;this.on_apply_useselcolor();};_pGrid.on_apply_useselcolor=function(){this._refreshBody();};_pGrid.setBindDataset=function(_a){if(_a instanceof nexacro.Dataset){if(this._binddataset){this._removeDSEventHandlers(this._binddataset);}if(!_a){this._binddataset=null;this.binddataset="";}else{this._binddataset=_a;this.binddataset=_a.id;}this.on_apply_prop_binddataset();}};_pGrid.getBindDataset=function(){return this._binddataset;};_pGrid.set_binddataset=function(_a){if(typeof _a!="string"){this.setBindDataset(_a);return;}if(_a!=this.binddataset){if(this._binddataset){this._removeDSEventHandlers(this._binddataset);}if(!_a){this._binddataset=null;this.binddataset="";}else{_a=_a.replace("@","");this._binddataset=this._findDataset(_a);this.binddataset=_a;}this.on_apply_prop_binddataset();}else if(this.binddataset&&!this._binddataset){this._setBindDatasetStr(this.binddataset);this.on_apply_prop_binddataset();}return this.binddataset;};_pGrid.on_apply_prop_binddataset=function(){var _a=this._binddataset;if(_a){this.binddataset=_a.id;this.rowcount=this._rowcount=_a.rowcount;this._rowposition=_a.rowposition;this._exprcache={};this._initTreeStates();this._clearAllStyleCache();this._recreate_contents_all(true,true,true);this._initSelect(this._rowposition);this._setDSEventHandlers(_a);}else{this.rowcount=this._rowcount=0;this._rowposition= -1;this._exprcache={};this._initTreeStates();this._clearAllStyleCache();this._recreate_contents_all(true,true,true);}};_pGrid.set_formatid=function(_a){if(this.formatid!=_a){this.formatid=_a;this.on_apply_formatid();}};_pGrid.on_apply_formatid=function(){var _a=this.formatid;if(_a==""){_a="default";}this._curFormat=this._formats[_a];this._autofitcol_rate=[];this._recreate();this._resetSelect(this._rowposition);};_pGrid.set_formats=function(_a){this.formats=_a;this.on_apply_formats();};_pGrid.on_apply_formats=function(){this._setContents(this.formats);this._recreate();this._resetSelect(this._rowposition);};_pGrid.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pGrid.on_apply_locale=function(){var _a=this._locale;if(this._headBand){this._headBand._setLocale(_a);}if(this._bodyBand){this._bodyBand._setLocale(_a);}if(this._summBand){this._summBand._setLocale(_a);}};_pGrid.set_areaselecttype=function(_a){if(this.areaselecttype!=_a){switch(_a){case "overband":case "limitband":this.areaselecttype=_a;break;}}};_pGrid.set_autoenter=function(_a){if(this.autoenter!=_a){switch(_a){case "select":case "key":case "none":this.autoenter=_a;break;}}};_pGrid.set_autofitbandtype=function(_a){if(this.autofitbandtype!=_a){switch(_a){case "body":case "allband":case "nohead":case "noleft":case "nohead,noleft":this.autofitbandtype=_a;break;}}};_pGrid.set_autofitminheight=function(_a){if(this.autofitminheight!=_a){this.autofitminheight=(isNaN(_a)?100:parseInt(_a,10));}};_pGrid.set_autofitminwidth=function(_a){if(this.autofitminwidth!=_a){this.autofitminwidth=(isNaN(_a)?100:parseInt(_a,10));}};_pGrid.set_autofittype=function(_a){if(this.autofittype!=_a){switch(_a){case "none":case "col":case "row":case "both":case "allpivot":case "allrow":case "allboth":case "col,allrow":case "row,allpivot":this.autofittype=_a;this.on_apply_prop_autofittype();break;}}};_pGrid.on_apply_prop_autofittype=function(){if(this._curFormat){this._curFormat._resetOrgColSize(true);}this._applyAutofittype(true,true);};_pGrid.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);if(_a&&this._is_created){this._refreshAll();if(nexacro.Browser=="Chrome"&&this.vscrollbar){this._absolutelyResetScrollPos(true);var _b=this._control_element.vscroll_limit;var _c=this.vscrollbar._pos;if(_c>=_b){_c=_b;this._control_element.setElementVScrollPos(_c-1);}else{this._control_element.setElementVScrollPos(_c+1);}this._control_element.setElementVScrollPos(_c);this._absolutelyResetScrollPos(false);}}}};_pGrid.set_autosizebandtype=function(_a){if(this.autosizebandtype!=_a){switch(_a){case "body":this._bodyAutoSize=true;this._headAutoSize=false;this._summAutoSize=false;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "head":this._bodyAutoSize=false;this._headAutoSize=true;this._summAutoSize=false;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "summary":this._bodyAutoSize=false;this._headAutoSize=false;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "allband":this._bodyAutoSize=true;this._headAutoSize=true;this._summAutoSize=true;this._AutoSizeLcol=true;this._AutoSizeRcol=true;break;case "nohead":this._bodyAutoSize=true;this._headAutoSize=false;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=false;break;case "noleft":this._bodyAutoSize=true;this._headAutoSize=true;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=true;break;case "nohead,noleft":this._bodyAutoSize=true;this._headAutoSize=false;this._summAutoSize=true;this._AutoSizeLcol=false;this._AutoSizeRcol=true;break;}this.autosizebandtype=_a;this.on_apply_autosizebandtype();}};_pGrid.on_apply_autosizebandtype=function(){if(this.getElement()){this._recreate_contents_all(true,true,true);}};_pGrid.set_autosizingtype=function(_a){if(this.autosizingtype!=_a){var _b=false;if(this.extendsizetype=="row"||this.extendsizetype=="both"){_b=true;}switch(_a){case "none":case "col":this._rowSizeEx=_b;break;case "row":case "both":this._rowSizeEx=true;break;}if(_a=="row"||_a=="none"||!_a){if(this._curFormat){this._curFormat._resetOrgColSize(true);}}this.autosizingtype=_a;}this.on_apply_autosizingtype();};_pGrid.on_apply_autosizingtype=function(){if(this.getElement()){this._isUserChangeHeadRowSize=false;this._isUserChangeBodyRowSize=false;this._isUserChangeSummRowSize=false;this._recreate_contents_all(true,true,true);}};_pGrid.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pGrid.on_apply_readonly=function(_a){var _b=this.readonly;if(_b){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}};_pGrid.set_selectbandtype=function(_a){if(this.selectbandtype!=_a){switch(_a){case "default":case "allband":case "body":case "nohead":case "noleft":this.selectbandtype=_a;this.on_apply_selectbandtype();break;}}};_pGrid.on_apply_selectbandtype=function(){};_pGrid.set_selectchangetype=function(_a){if(this.selectchangetype!=_a){switch(_a){case "up":case "down":this.selectchangetype=_a;break;}}};_pGrid.set_selecttype=function(_a){if(this.selecttype!=_a){switch(_a){case "row":case "cell":case "area":case "multirow":case "multicell":case "multiarea":case "treecell":case "multitreecell":this.selecttype=_a;this.on_apply_selecttype();break;default:if(this.selecttype!="row"){this.selecttype="row";this.on_apply_selecttype();}break;}}};_pGrid.on_apply_selecttype=function(){this._resetSelect();this._refreshBody();this._updateSelector();};_pGrid._applySelectorScroll=function(_a,_b){var _c,_d,_e;var _f=this._curFormat;var _g=false;var _h=this._toprowpos[0];var _i=this._selectinfo.area.length>1&&this.selecttype=="multirow";if(_a[0]=="leftover0"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("prev",false,true,_b,null);_g=true;}else if(_a[0]=="rightover0"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("next",false,true,_b,this._selectinfo.ctrlpoint.col);_g=true;}else if(_a[0]=="leftover1"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("prev",false,true,_b,this._selectinfo.ctrlpoint.col);_g=true;}else if(_a[0]=="rightover1"){this._multiselect=_i?"ctrl":"shift";this._moveToCell("next",false,true,_b,null);_g=true;}if(_a[1]=="topover0"){_d=this._selectinfo.currow-1;_c=this._begrowpos;if(_h!=_d){_e=this._jumpCurrentRow(_d);}_g=(_c!=_e);}else if(_a[1]=="bottomover0"){_d=this._selectinfo.currow+1;_c=this._begrowpos;_e=this._jumpCurrentRow(_d);_g=(_c!=_e);}else if(_a[1]=="topover1"){_d=this._selectinfo.currow-1;_c=this._begrowpos;if(_h!=_d){_e=this._jumpCurrentRow(_d);}_g=(_c!=_e);}else if(_a[1]=="bottomover1"){_d=this._selectinfo.currow+1;_c=this._begrowpos;_e=this._jumpCurrentRow(_d);_g=(_c!=_e);}return _g;};_pGrid._startAreaSizing=function(_a,_b){var _c=this._curFormat;var _d=_c._bodyrows.length;var _e=this._getAreaInfoWithPos(_a,_b);var _f=this._selectinfo.area;if(_b==0){var _g=_c._bodycells[_e.ecell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.erow,_d);}}else if(_b==1){var _g=_c._bodycells[_e.scell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.srow,_d);}}else if(_b==2){var _g=_c._bodycells[_e.ecell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.srow,_d);}}else if(_b==3){var _g=_c._bodycells[_e.scell];if(_g){this._selectinfo.ctrlpoint._set(_g,_e.erow,_d);}}};_pGrid._applyAreaSizing=function(_a,_b,_c){var _d=this._curFormat;var _e=_d._bodyrows.length;var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curdsrow;var _i=this._selectinfo.cursubrow;var _j=this._selectinfo.curpvt;var _k,_l,_m,_n,_o=this._selectinfo.curpvt;var _p=this._getAreaInfoWithPos(_a,_b);if(_b==0){this._setSelectedInfo(_p.scell,_p.scol,_p.srow,_p.ssubrow,null,_p);_k=_p.scell;_l=_p.scol;_m=_p.srow;_n=_p.ssubrow;}else if(_b==1){this._setSelectedInfo(_p.ecell,_p.ecol,_p.erow,_p.esubrow,null,_p);_k=_p.ecell;_l=_p.ecol;_m=_p.erow;_n=_p.esubrow;}else if(_b==2){this._setSelectedInfo(_p.scell,_p.scol,_p.erow,_p.esubrow,null,_p);_k=_p.scell;_l=_p.scol;_m=_p.erow;_n=_p.esubrow;}else if(_b==3){this._setSelectedInfo(_p.ecell,_p.ecol,_p.erow,_p.esubrow,null,_p);_k=_p.ecell;_l=_p.ecol;_m=_p.srow;_n=_p.ssubrow;}var _q;if(_c){_q="selectorsizing";}else if(_c===false){_q="selector";}if(this._selectinfo.area.length>1&&this.selecttype=="multirow"){this._multiselect="ctrl";}else{this._multiselect="shift";}retn=this._ChangeSelect(_k,_l,_m,_n,_o,false,_f,_g,_h,_i,_j,"body",_q);};_pGrid._getAreaInfoWithPos=function(_a,_b){var _c=this._getScrollLeft();var _d=this._getScrollTop();var _e=this._getScollMaxLeft();var _f=this._select_ctrl;var _g=_a.l;var _h=_g+_a.w;var _i=_a.t;var _j=_i+_a.h;var _k=this._curFormat;var _l=_k._cols;var _m=_k._bodyrows;var _n=this._getGridRowCount();var _o,_p,_q,_r,_s,_t,_u,_v,_w,_x,_y;var _z,_aa,_ab,_ac;var _ad;var _ae;var _af=this._selectinfo.ctrlpoint;var _ag,_ah;if(_f){_ag=_f._start_begarea;_ah=_f._start_endarea;}else{_ag=this._selectinfo.arearect.barea;_ah=this._selectinfo.arearect.earea;}var _ai=parseInt(this._fixed_rowcnt);var _aj=_ai>0?parseInt(this._fixed_startrow):0;var _ak=parseInt(this._fixed_endrow);var _al=parseInt(this._fixed_height);if(_ai>0){_ae=this._getHeadHeight();}else{_ae=this._getHeadHeight()-_d;}if(this.summarytype=="top"||this.summarytype=="lefttop"){_ae+=this._getSummHeight();}var _am,_an;var _ao=_k._bodycells;var _ap=_ao.length;var _aq,_o,_ar,_as,_at;var _au;var _av;_p= -1;_am=_ae;for(var _aw=_aj;_aw<_n;_aw++ ){if(_ai>0&&_aw==(_ak+1)){_am-=_d;}_an=_am+this._getRowSize(_aw);if(this._track_mode=="areaselect"){_au=(_i<_an);if(_aw==0&&_i<_am){_au=true;}}else{_au=(_am<=_i&&_i<_an);}if(_p<0&&_au){_p=this._getDataRow(_aw);for(var _ax=0;_ax<_ap;_ax++ ){_at=_ao[_ax]._area;_aq=_ao[_ax]._col;_o=_ao[_ax]._row;_ar=_ao[_ax]._colspan;_as=_ao[_ax]._rowspan;if(_ao[_ax]._area=="left"){_ad=this._client_left;}else if(_ao[_ax]._area=="right"){_ad=this._client_width-_k.rightWidth;}else{_ad=_k.leftWidth-_c;}_z=_ad+_l[_aq].left;_ab=_ad+_l[_aq+_ar-1].right;_aa=_am+_m[_o].top;_ac=_am+_m[_o+_as-1].bottom;_av=this._getSubCellRect(_aw,_ax, -1, -1,false);_z=_av.left;_aa=_av.top;_ab=_av.right;_ac=_av.bottom;if(_ai>0&&_aw<=_ak){_aa+=_d;_ac+=_d;}if(this._track_mode=="areaselect"){_au=(_z<=_g&&_g<_ab&&_i<_ac);if(_ax==0&&_g<_z){_au=true;}}else{_au=(_z<=_g&&_g<_ab&&_i<_ac);}if(_au){if(_ah!=_ag||(_ag=="body"&&_ah=="body")){if(_ag!="left"&&_c>0&&_at=="left"){continue;}if(_ag!="right"&&_c<_e&&_at=="right"){continue;}if(_ah!="right"&&_at=="right"){continue;}}_r=_ax;_t=_aq;_v=_o;if(_a.area!="right"){break;}else if(_ao[_ax]._area=="right"){break;}}}}if(this._track_mode=="areaselect"){_au=_j<_an;if((_aw+1)==_n&&_j>=_an){_au=true;}}else{_au=_am<_j&&_j<=_an;}if(_p>=0&&_au){_q=this._getDataRow(_aw);for(var _ax=0;_ax<_ap;_ax++ ){_aq=_ao[_ax]._col;_o=_ao[_ax]._row;_ar=_ao[_ax]._colspan;_as=_ao[_ax]._rowspan;if(_ao[_ax]._area=="left"){_ad=0;}else if(_ao[_ax]._area=="right"){_ad=this._client_width-_k.rightWidth;}else{_ad=0;}_av=this._getSubCellRect(_aw,_ax, -1, -1,false);_aa=_av.top;_ac=_av.bottom;if(_ai>0&&_aw<=_ak){_aa+=_d;_ac+=_d;}if(_ao[_ax]._area=="right"){_z=_av.left-_c;_ab=_av.right-_c;}else{_z=_av.left;_ab=_av.right;}if(this._track_mode=="areaselect"){_au=_z<_h&&_h<=_ab;if((_ax+1)==_ap&&_h>=_ab){_au=true;}}else{_au=_z<_h&&_h<=_ab&&_aa<_j;}if(_au){if(_ah!=_ag||(_ag=="body"&&_ah=="body")){if(_ah!="right"&&_c<_e&&_ao[_ax]._area=="right"){continue;}if(_ah!="left"&&_c>0&&_ao[_ax]._area=="left"){continue;}if(_ag!="left"&&_ao[_ax]._area=="left"){continue;}}_s=_ax;_u=_aq;_w=_o;if(_a.area!="right"){break;}else if(_ao[_ax]._area=="right"){break;}}}break;}_am=_an;}_x=epvt=this._selectinfo.curpvt;return {srow:_p,erow:_q,scell:_r,ecell:_s,scol:_t,ecol:_u,ssubrow:_v,esubrow:_w,spvt:_x,epvt:epvt};};_pGrid._getSelectRect=function(_a,_b){var _c=this._selectinfo.arearect;var _d=this._selectinfo.area;_c.left=0;_c.top=0;_c.width=0;_c.height=0;_c.barea="";_c.earea="";var _e=this._getScrollLeft();var _f=this._getScrollTop();while(_d.length){var _g=_d[_d.length-1];var _h=this._curFormat;var _i=_h._cols;var _j=_h._bodyrows;var _k=this._rowSizeListSub;var _l=_g.begcol;var _m=_g.endcol;var _n=_h.leftWidth;var _o=this._client_width-_h.rightWidth;var _p=this._fixed_startrow;var _q=this._fixed_endrow;if(_g.begrow<0){break;}if(!this._isAreaSelect()){_l=0;_m=_i.length-1;}if(_l>=0&&_m>=0){if(_a&&_i[_l]._area!=_i[_m]._area){break;}_c.barea=_i[_l]._area;_c.earea=_i[_m]._area;if(_c.barea=="right"){_c.left=_o+_i[_l].left;_c.width=_i[_m].right-_i[_l].left;}else{if(_c.barea=="left"){_c.left=_i[_l].left;}else{_c.left=_n+_i[_l].left-_e;}if(_c.earea=="left"){_c.width=_i[_m].right-_c.left;}else if(_c.earea=="body"){_c.width=(_n+_i[_m].right-_e)-_c.left;}else{_c.width=(_o+_i[_m].right)-_c.left;}}}else{_c.left=this._client_left;_c.width=this._client_width;}for(var _r=0;_r<=_g.endrow;_r++ ){var _s=0,_t=_j.length-1;if(this._hasTree){if(this._getGridRow(_r)< -2){continue;}}if(_r<_g.begrow){if(_b&&_r<_p){continue;}for(var _u=_s;_u<=_t;_u++ ){_c.top+=_k[_r*_j.length+_u];}}else{if(_r==_g.begrow){_s=_g.begsubrow[0];}if(_r==_g.endrow){_t=_g.endsubrow[_r-_g.begrow];}for(var _u=0;_u<=_t;_u++ ){if(_u<_s){_c.top+=_k[_r*_j.length+_u];}else{_c.height+=_k[_r*_j.length+_u];}}}}_c.top+=this._bodyBand._adjust_top-_f;break;}this._selectinfo.arearect=_c;return _c;};_pGrid._updateSelector=function(_a,_b){var _c=this._isAreaSelect()&&nexacro.isTouchInteraction;if(this._control_element){var _d,_e,_f,_g,_h;var _i=this._select_ctrl;if(_c){if(!_i){_i=new nexacro.GridSelector("gridselector","absolute",0,0,0,0,null,null,this);_i._setCallbackFn(this._startAreaSizing,this._applyAreaSizing,this._applySelectorScroll);_i.createComponent();_i._createButton();this._select_ctrl=_i;}if((_a=="vscroll"||_a=="hscroll")&&!_i._is_tracking){_d=this._selectinfo.arearect;if(_a=="hscroll"){if(_d.barea=="left"){if(_d.earea=="body"){_d.width-=_b;}}else if(_d.barea=="body"){_d.left-=_b;if(_d.earea=="right"){_d.width+=_b;}}}if(_a=="vscroll"){_d.top-=_b;}_e=_d.left;_f=_d.top;_g=_d.width;_h=_d.height;if(_f+_h<=this._bodyBand._adjust_top){_c=false;}}else{_d=this._getSelectRect(_i._onlyarea,true);_e=_d.left;_f=_d.top;_g=_d.width;_h=_d.height;}if(!_e&&!_f&&!_g&&!_h){_c=false;}_i.move(_e,_f,_g,_h,_a);if(_c){if(!_i._is_tracking){_i.set_visible(false);}}else{_i.set_visible(false);}}}else{if(this._select_ctrl){this._select_ctrl.destroy();this._select_ctrl=null;}}};_pGrid.set_autoupdatetype=function(_a){if(this.autoupdatetype!=_a){switch(_a){case "none":case "comboselect":case "dateselect":case "itemselect":this.autoupdatetype=_a;break;}}};_pGrid.set_cellclickbound=function(_a){if(this.cellclickbound!=_a){switch(_a){case "control":case "cell":this.cellclickbound=_a;break;}}};_pGrid.set_cellmovingtype=function(_a){if(this.cellmovingtype!=_a){switch(_a){case "none":case "col":case "col,band":case "col,merge":case "col,line":this.cellmovingtype=_a;break;}}};_pGrid.set_cellsizebandtype=function(_a){if(this.cellsizebandtype!=_a){switch(_a){case "body":case "allband":case "nohead":case "noleft":case "nohead,noleft":this.cellsizebandtype=_a;this.on_apply_cellsizebandtype();break;}}};_pGrid.on_apply_cellsizebandtype=function(){};_pGrid.set_cellsizingtype=function(_a){if(this.cellsizingtype!=_a){switch(_a){case "none":case "col":case "row":case "both":this.cellsizingtype=_a;this.on_apply_cellsizingtype();break;}}};_pGrid.on_apply_cellsizingtype=function(){this._applyResizer();};_pGrid.set_extendsizetype=function(_a){if(this.extendsizetype!=_a){var _b=false;if(this.autosizingtype=="row"||this.autosizingtype=="both"){_b=true;}switch(_a){case "none":case "col":this._rowSizeEx=_b;break;case "row":case "both":this._rowSizeEx=true;break;}this.extendsizetype=_a;this.on_apply_extendsizetype();}};_pGrid.on_apply_extendsizetype=function(){if(this.getElement()){this._recreate_contents_all(true,true,true);}};_pGrid.set_wheelscrollrow=function(_a){if(this.wheelscrollrow!=_a){this.wheelscrollrow=(isNaN(_a)?3:parseInt(_a,10));}};_pGrid.set_usecontrolkey=function(_a){if(this.usecontrolkey!=_a){this.usecontrolkey=_a;}};_pGrid.set_treeusebutton=function(_a){if(this.treeusebutton!=_a){switch(_a){case "use":case "no":case "noclick":this.treeusebutton=_a;break;}this.on_apply_treeusebutton();}};_pGrid.set_dragscrolltype=function(_a){nexacro.Form.prototype.set_dragscrolltype.call(this,_a);};_pGrid.on_apply_treeusebutton=function(){this._refreshBody();};_pGrid.set_treeuseline=function(_a){_a=nexacro._toBoolean(_a);if(this.treeuseline!=_a){this.treeuseline=_a;this.on_apply_treeuseline();}};_pGrid.on_apply_treeuseline=function(){this._refreshBody();};_pGrid.set_treeusecheckbox=function(_a){_a=nexacro._toBoolean(_a);if(this.treeusecheckbox!=_a){this.treeusecheckbox=_a;this.on_apply_treeusecheckbox();}};_pGrid.on_apply_treeusecheckbox=function(){this._refreshBody();};_pGrid.set_treeuseimage=function(_a){_a=nexacro._toBoolean(_a);if(this.treeuseimage!=_a){this.treeuseimage=_a;this.on_apply_treeuseimage();}};_pGrid.on_apply_treeuseimage=function(){this._refreshBody();};_pGrid.set_treeuseexpandkey=function(_a){_a=nexacro._toBoolean(_a);if(this.treeuseexpandkey!=_a){this.treeuseexpandkey=_a;}};_pGrid.set_treeinitstatus=function(_a){this.treeinitstatus=_a;var _b,_c;switch(_a){case "collapse,null":_b=false,_c=false;break;case "expand,null":_b=true,_c=false;break;case "collapse,all":_b=false,_c=true;break;case "expand,all":_b=true,_c=true;break;}this.on_apply_treeinitstatus(_b,_c);};_pGrid.on_apply_treeinitstatus=function(_a,_b){if(!this._hasTree){return;}var _c=this._curFormat;var _d=_c._bodycells;var _e=_d.length;var _f=this._treeIndexes;var _g=this._treeStates;if(!_b){var _h=false;var _i;for(var _j=_f.length-1;_j>=0;_j-- ){var _k,_l;_i=this.getDatasetRow(_j);for(var _m=0;_m<_e;_m++ ){_k=_d[_m];_l=_k._getEdittype(_i);if(_l=="tree"){break;}}if(_k){var _n,_o;if(_k.treestate._bindtype!=0){_n=_k._getAttrValue(_k.treestate,_i);}if(!_n||_n==""){_o=_f.length;if(_a){if(this._setTreeState(_j,1,false,"null")>0){_j+=(_f.length-_o+1);_h=true;}}else{if(this._setTreeState(_j,0,false,"null")>0){_h=true;}}}else{_o=_f.length;var _p=this._setTreeState(_j,_n,false,"null_value");if(_p==2){if((_f.length-_o)>0){_j+=(_f.length-_o+1);}_h=true;}else if(_p==1){_h=true;}}}}if(_h==true){this._recreate_contents_all(false,false,false,true);}}else{var _h=false,_o;for(var _j=_f.length-1;_j>=0;_j-- ){_o=_f.length;if(_a){if(this._setTreeState(_j,1,false,"all")>0){_j+=(_f.length-_o+1);_h=true;}}else{if(this._setTreeState(_j,0,false,"all")>0){_h=true;}}}if(!_a){for(var _j=_g.length-1;_j>=0;_j-- ){var _n=this._getOrgTreeStates(_j);if(_n==2){_g[_j]=2;}}}if(_h==true){this._recreate_contents_all(false,false,false,true);}}};_pGrid.set_treepathdelimiter=function(_a){if(this.treepathdelimiter!=_a){this.treepathdelimiter=_a;}};_pGrid.set_useinputpanel=function(_a){if(this.useinputpanel!=_a){this.useinputpanel=_a;}};_pGrid.on_apply_prop_enable=function(_a){if(!_a){this._enable=_a;}nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);if(this._is_created){this._refreshAll();}};_pGrid.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._rtldirection;if(this._headBand){this._headBand._setRtlDirection(_a);}if(this._bodyBand){this._bodyBand._setRtlDirection(_a);}if(this._summBand){this._summBand._setRtlDirection(_a);}};_pGrid.createFormat=function(){var _a=0;var _b=this._binddataset;var _c=0;var _d=0;var _e=0;var _f=0;if(_b){_d=_b.getColCount();}var _g;if(_d>0){_g="<Formats>\n";_g+="<Format id=\"default\">\n";_g+="<Columns>\n";{for(_c=0;_c<_d;_c++ ){_g+="<Column size=\"";_g+="80";_g+="\"/>\n";}}_g+="</Columns>\n";_g+="<Rows>\n";{_g+="<Row band=\"head\" size=\"";_g+="24";_g+="\"/>\n";_g+="<Row band=\"body\" size=\"";_g+="24";_g+="\"/>\n";}_g+="</Rows>\n";_g+="<Band id=\"head\">\n";{for(_c=0;_c<_d;_c++ ){_g+="<Cell col=\"";_g+=_c.toString();_g+="\" displaytype=\"normal\" text=\"";_g+=_b.getColID(_c);_g+="\"/>\n";}}_g+="</Band>\n";_g+="<Band id=\"body\">\n";{for(_c=0;_c<_d;_c++ ){_g+="<Cell col=\"";_g+=_c.toString();_g+="\" displaytype=\"normal\" text=\"bind:";_g+=_b.getColID(_c);_g+="\"/>\n";}}_g+="</Band>\n";_g+="</Format>\n";_g+="</Formats>\n";}else{_g="<Formats>\n";_g+="<Format id=\"default\">\n";_g+="</Format>\n";_g+="</Formats>\n";}this.set_formats(_g);return 0;};_pGrid.setFormat=function(_a){var _b=this._formats[_a];if(_b){if(_b!=this._curFormat){this.set_formatid(_a);return true;}}else{this.formatid="";this._curFormat=null;this._destroyBands();}return false;};_pGrid.getFormatString=function(){return this.formats;};_pGrid.getCurFormatString=function(_a){if(this._curFormat){if(_a){return this._curFormat._getOrgFormatStr();}else{return this._curFormat._getFormatStr();}}else{return this.formats;}};_pGrid.getCellPos=function(){return this._selectinfo.curcell;};_pGrid.setCellPos=function(_a){return this._moveToPosCell(this._selectinfo.curdsrow,_a);};_pGrid.getCellCount=function(_a){if(!this._curFormat){return 0;}_a=_a.toLowerCase();var _b;if(_a=="head"){_b=this._curFormat._headcells;}else if(_a=="summ"||_a=="summary"){_b=this._curFormat._summcells;}else{_b=this._curFormat._bodycells;}if(_b){return _b.length;}return 0;};_pGrid.getCellRect=function(_a,_b,_c){return this.getSubCellRect(_a,_b, -1,_c);};_pGrid.getSubCellRect=function(_a,_b,_c,_d){return this._getSubCellRect(_a,_b,_c,_d,true);};_pGrid._getSubCellRect=function(_a,_b,_c,_d,_e){var _f={"left":0,"top":0,"right":0,"bottom":0,"width":0,"height":0};_f.left=0;_f.top=0;_f.right=0;_f.bottom=0;_f.width=0;_f.height=0;if(_a>=0&&_a<this._rowcount){if(this._curFormat&&this._curFormat._bodycells){var _g=null;var _h=this._curFormat._bodycells[_b];if(_h&&_c>=0){_g=_h;_h=_h._subcells[_c];}if(_h){var _i=0;var _j=0;var _k=0;var _l=this._getHeadHeight();var _m=this._curFormat._cols;if(this.summarytype=="top"||this.summarytype=="lefttop"){_l+=this._getSummHeight();}var _n=this._curFormat._bodyrows;var _o=_n.length;var _p=this._getGridRowCount();var _q=(_g)?_g._row+_h._row:_h._row;var _r=(_g)?_g._col+_h._col:_h._col;var _s=_h._rowspan;var _t=_h._colspan;var _u=this._rowSizeListSub;var _v;for(var _w=0;_w<_p;_w++ ){_v=_w;if(this._hasTree){_v=this._treeIndexes[_v];}var _x=_v*_o;if(_v==_a){for(var _y=0;_y<_q;_y++ ){_l+=_u[_x++ ];}_i=_l;for(var _z=0;_z<_s;_z++ ){_l+=_u[_x++ ];}break;}else{for(var _z=0;_z<_o;_z++ ){_l+=_u[_x+_z];}}}var _aa=0;for(var _w=0;_w<_r;_w++ ){_aa+=_m[_w].size;}_j=_aa;_aa=0;for(var _w=0;_w<_r+_t;_w++ ){_aa+=_m[_w].size;}_k=_aa;if(_h._area=="body"||_h._area==""){_j-=this._getScrollLeft();_k-=this._getScrollLeft();}_i-=this._getScrollTop();_l-=this._getScrollTop();if(_e){if(_j<0){_j=0;}if(_k<0){_k=0;}if(_i<0){_i=0;}if(_l<0){_l=0;}}_f.left=_j;_f.right=_k;_f.top=_i;_f.bottom=_l;_f.width=_k-_j;_f.height=_l-_i;}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _h=this._curFormat._headcells[_b];if(_h&&_c>=0){_h=_h._subcells[_c];}if(_h){var _i=0;var _j=0;var _k=0;var _l=0;var _m=this._curFormat._cols;var _ab=this._curFormat._headrows;var _o=_ab.length;var _q=_h._row;var _r=_h._col;var _s=_h._rowspan;var _t=_h._colspan;for(var _y=0;_y<_q;_y++ ){_l+=_ab[_y].size;}_i=_l;for(_y=0;_y<_s;_y++ ){_l+=_ab[_y+_q].size;}var _aa=0;for(var _w=0;_w<_r;_w++ ){_aa+=_m[_w].size;}_j=_aa;_aa=0;for(var _w=0;_w<_r+_t;_w++ ){_aa+=_m[_w].size;}_k=_aa;if(_h._area=="body"||_h._area==""){_j-=this._getScrollLeft();_k-=this._getScrollLeft();}if(_e){if(_j<0){_j=0;}if(_k<0){_k=0;}}_f.left=_j;_f.right=_k;_f.top=_i;_f.bottom=_l;_f.width=_k-_j;_f.height=_l-_i;}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _h=this._curFormat._summcells[_b];if(_h&&_c>=0){_h=_h._subcells[_c];}if(_h){var _i=0;var _j=0;var _k=0;var _l=0;var _m=this._curFormat._cols;if(this.summarytype=="top"||this.summarytype=="lefttop"){_l+=this._getHeadHeight();}else{_l=this._client_top+this._client_height-this._getSummHeight();}var _ac=this._curFormat._summrows;var _o=_ac.length;var _q=_h._row;var _r=_h._col;var _s=_h._rowspan;var _t=_h._colspan;for(var _y=0;_y<_q;_y++ ){_l+=_ac[_y].size;}_i=_l;for(_y=0;_y<_s;_y++ ){_l+=_ac[_y+_q].size;}var _aa=0;for(var _w=0;_w<_r;_w++ ){_aa+=_m[_w].size;}_j=_aa;_aa=0;for(var _w=0;_w<_r+_t;_w++ ){_aa+=_m[_w].size;}_k=_aa;if(_h._area=="body"||_h._area==""){_j-=this._getScrollLeft();_k-=this._getScrollLeft();}if(_e){if(_j<0){_j=0;}if(_k<0){_k=0;}}_f.left=_j;_f.right=_k;_f.top=_i;_f.bottom=_l;_f.width=_k-_j;_f.height=_l-_i;}}}return _f;};_pGrid.getCellText=function(_a,_b,_c){if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){var _d=this._curFormat._bodycells[_b];if(_d){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _d._getDisplayText(_a);}}else{if(_a<this._rowcount){return _d._getDisplayText(_a);}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _d=this._curFormat._headcells[_b];if(_d){return _d._getDisplayText(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _d=this._curFormat._summcells[_b];if(_d){return _d._getDisplayText(this._currentDSrow);}}}};_pGrid.getCellValue=function(_a,_b,_c){if(_c==undefined){_c=0;}if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){var _d=this._curFormat._bodycells[_b];if(_d){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _d._getValue(_a);}}else{if(_a<this._rowcount){return _d._getValue(_a);}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _d=this._curFormat._headcells[_b];if(_d){return _d._getValue(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _d=this._curFormat._summcells[_b];if(_d){return _d._getValue(this._currentDSrow);}}}};_pGrid.getSubCellCount=function(_a,_b){var _c=this._curFormat;_a=_a.toLowerCase();if(_c){var _d;if(_a=="head"){_d=_c._headcells;}else if(_a=="summ"||_a=="summary"){_d=_c._summcells;}else{_d=_c._bodycells;}if(_d&&_d.length>_b&&_b>=0){var _e=_d[_b];return _e._subcells.length;}}return 0;};_pGrid.getSubCellProperty=function(_a,_b,_c,_d){var _e=this._curFormat;if(!_e){return undefined;}return _e.getSubCellProperty(_a,_b,_c,_d);};_pGrid.getSubCellText=function(_a,_b,_c,_d){if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){if(_b>=0&&_b<this._curFormat._bodycells.length){var _e=this._curFormat._bodycells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _e._subcells[_c]._getDisplayText(_a);}}else{if(_a<this._rowcount){return _e._subcells[_c]._getDisplayText(_a);}}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _e=this._curFormat._headcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getDisplayText(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _e=this._curFormat._summcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getDisplayText(this._currentDSrow);}}}};_pGrid.getSubCellValue=function(_a,_b,_c,_d){if(_a>=0){if(this._curFormat&&this._curFormat._bodycells){if(_b>=0&&_b<this._curFormat._bodycells.length){var _e=this._curFormat._bodycells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){if(this._hasTree){if(_a<this._treeIndexes.length){_a=this._treeIndexes[_a];return _e._subcells[_c]._getValue(_a);}}else{if(_a<this._rowcount){return _e._subcells[_c]._getValue(_a);}}}}}}else if(_a== -1){if(this._curFormat&&this._curFormat._headcells){var _e=this._curFormat._headcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getValue(this._currentDSrow);}}}else if(_a== -2){if(this._curFormat&&this._curFormat._summcells){var _e=this._curFormat._summcells[_b];if(_e&&_c>=0&&_c<_e._subcells.length){return _e._subcells[_c]._getValue(this._currentDSrow);}}}};_pGrid.setSubCellProperty=function(_a,_b,_c,_d,_e){var _f=this._curFormat;if(!_f){return false;}var _g=_f.setSubCellProperty(_a,_b,_c,_d,_e);if(_g){_f._clearCellStyleCache(_a,_b);this._refreshCell(_a,_b, -1,true);}return (_g!=null);};_pGrid.setFormatColProperty=function(_a,_b,_c){if(_b&&this._curFormat){_b=_b.toLowerCase();if(this._curFormat.setFormatColProperty(_a,_b,_c)){if(_b=="band"){this._recreate();}else if(_b=="size"){if(this.enableredraw){this._updateColSize(_a);}else{if(!this._enable_redraw_history["updatecolsize"]){this._enable_redraw_history["updatecolsize"]=[];}this._enable_redraw_history["updatecolsize"].push(_a);}}else{this._recreate_contents_all(true,false,false);}return true;}}return false;};_pGrid.setFormatRowProperty=function(_a,_b,_c){if(_b&&this._curFormat){_b=_b.toLowerCase();if(this._curFormat.setFormatRowProperty(_a,_b,_c)){if(_b=="band"||_b=="size"){this._isUserChangeHeadRowSize=false;this._isUserChangeSummRowSize=false;this._isUserChangeBodyRowSize=false;this._recreate();}else{this._recreate_contents_all(false,false,false);}return true;}}return false;};_pGrid.getFormatColProperty=function(_a,_b){if(this._curFormat){return this._curFormat.getFormatColProperty(_a,_b);}return null;};_pGrid.getFormatRowProperty=function(_a,_b){if(this._curFormat){return this._curFormat.getFormatRowProperty(_a,_b);}return null;};_pGrid.getFormatColCount=function(){if(this._curFormat){return this._curFormat._cols.length;}return 0;};_pGrid.getFormatRowCount=function(){if(this._curFormat){var _a=this._curFormat;var _b=0;if(_a._headrows){_b+=_a._headrows.length;}if(_a._bodyrows){_b+=_a._bodyrows.length;}if(_a._summrows){_b+=_a._summrows.length;}return _b;}return 0;};_pGrid.getFormatColSize=function(_a){if(this._curFormat){if(this._curFormat._cols.length>0&&this._curFormat._cols.length>_a){var _b=this._curFormat._cols[_a];if(_b){return _b.orgsize;}}}return  -1;};_pGrid.getFormatRowSize=function(_a){if(this._curFormat){if(_a<0){return  -1;}var _b=0;var _c=this._curFormat._headrows;if(_c){if(_c.length>_a){var _d=_c[_a];return _d.orgsize;}_b+=_c.length;}if(this.summarytype=="top"||this.summarytype=="lefttop"){_c=this._curFormat._summrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}_b+=_c.length;}_c=this._curFormat._bodyrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}}}else{_c=this._curFormat._bodyrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}_b+=_c.length;}_c=this._curFormat._summrows;if(_c){if(_c.length+_b>_a){var _d=_c[_a-_b];return _d.orgsize;}}}}return  -1;};_pGrid._isUserChangeHeadRowSize=false;_pGrid._isUserChangeBodyRowSize=false;_pGrid._isUserChangeSummRowSize=false;_pGrid._isUserChangeColSize=false;_pGrid.setRealColSize=function(_a,_b,_c,_d){if(arguments.length==3){_d=_c;_c=_b;_b=_a;_a= -9;}else if(arguments.length==2){_c=_b;_b=_a;_a= -9;_d=true;}this._isUserChangeColSize=true;return this._setColSize(_a,_b,_c,_d,true);};_pGrid.setRealRowSize=function(_a,_b,_c,_d){var _e=this._curFormat;if(_d==undefined){_d=true;}if(_c==undefined){_c=_b;_b= -1;}var _f="none";if(_d){if(_a>=0){_f="body";}else if(_a== -1){_f="head";}else if(_a== -2){_f="summ";}}else{if(_e._headrows){if(_a<_e._headrows.length){_f="head";}else{_a-=_e._headrows.length;}}if(_f=="none"){if(this.summarytype=="top"||this.summarytype=="lefttop"){if(_e._summrows){if(_a<_e._summrows.length){_f="summ";}else{_a-=_e._headrows.length;}}if(_f=="none"){_f="body";}}else{if(_e._bodyrows){var _h=(this._hasTree)?this._treeIndexes.length:this._rowcount;if(_a<_h){_f="body";}else{_a-=_h;}}if(_f=="none"){if(_e._summrows){if(_a<_e._summrows.length){_f="summ";}}}}}}var _g=false;if(_f=="body"){if(_e&&_e._bodyrows){var _i=_a;if(this._hasTree){if(_i>=this._treeIndexes.length){return false;}_i=this._treeIndexes[_i];}else{if(_i>=this._rowcount){return false;}}var _j=_e._bodyrows;var _k=_j.length;var _l=this._rowSizeList;var _m=this._rowSizeListSub;if(_b>=0){if(_b<_k){this._is_variable_bodyrowsize=true;var _n=(_i*_k)+_b;var _o=_m[_n];var _p=_c;if(_o!=_p){_m[_n]=_p;_l[_i]+=(_p-_o);_g=true;this._updateRowSizeExtendEx(_e._bodyrows,_l,_m,_i,true);if(this.enableredraw){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){if(this._bodyBand){this._bodyBand._recreate_contents();}}else{this._updateRowSize(_a,_b);}}else{if(this.extendsizetype!="row"&&this.extendsizetype!="both"){this._enable_redraw_history["recreate_body"]=true;}else{if(!this._enable_redraw_history["updaterowsize"]){this._enable_redraw_history["updaterowsize"]=[];}this._enable_redraw_history["updaterowsize"].push([_a,_b]);}}this._isUserChangeBodyRowSize=true;}}else{return false;}}else{if(_i<_l.length){this._is_variable_bodyrowsize=true;var _n,_o,_p;for(var _q=0;_q<_k;_q++ ){_n=(_i*_k)+_q;_o=_m[_n];_p=_c;if(_o!=_p){_m[_n]=_p;_l[_i]+=(_p-_o);_g=true;}}if(_g){this._updateRowSizeExtendEx(_e._bodyrows,_l,_m,_i,true);if(this.enableredraw){if(this._bodyBand){this._bodyBand._recreate_contents();}}else{this._enable_redraw_history["recreate_body"]=true;}this._isUserChangeBodyRowSize=true;}}else{return false;}}}}else if(_f=="head"){if(_e&&_e._headrows){var _j=_e._headrows;var _k=_j.length;var _l=this._rowHeadList;var _m=this._rowHeadListSub;if(_b>=0){if(_b<_k){var _n=_b;var _o=_m[_n];var _p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);_g=true;this._updateRowSizeExtendEx(_e._headrows,_l,_m,0);}}else{return false;}}else{var _n,_o,_p;for(var _q=0;_q<_k;_q++ ){_n=_q;_o=_m[_n];_p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);_g=true;}}if(_g==true){this._updateRowSizeExtendEx(_e._headrows,_l,_m,0);}}if(_g){if(this.enableredraw){if(this._headBand){this._headBand._recreate_contents();}this._resizeBand();}else{this._enable_redraw_history["recreate_head"]=true;this._enable_redraw_history["resize_band"]=true;}this._isUserChangeHeadRowSize=true;}}}else if(_f=="summ"){if(_e&&_e._summrows){var _j=_e._summrows;var _k=_j.length;var _l=this._rowSummList;var _m=this._rowSummListSub;if(_b>=0){if(_b<_k){var _n=_b;var _o=_m[_n];var _p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);_g=true;this._updateRowSizeExtendEx(_e._summrows,_l,_m,0);}}else{return false;}}else{var _n,_o,_p;for(var _q=0;_q<_k;_q++ ){_n=_q;_o=_m[_n];_p=_c;if(_o!=_p){_m[_n]=_p;_l[0]+=(_p-_o);_g=true;}}if(_g==true){this._updateRowSizeExtendEx(_e._summrows,_l,_m,0);}}if(_g==true){if(this.enableredraw){if(this._summBand){this._summBand._recreate_contents();}this._resizeBand();}else{this._enable_redraw_history["recreate_summ"]=true;this._enable_redraw_history["resize_band"]=true;}this._isUserChangeSummRowSize=true;}}}return _g;};_pGrid.getRealColSize=function(_a,_b){var _c=this._curFormat;var _d=this._getColFixCnt("left");var _e=this._getColFixCnt("body");var _f=this._getColFixCnt("right");var _g=_c._cols;var _h=_g.length;var _i="body";if(_b==true){if(_a>=0){_a+=_d;}else if(_a== -2){_a+=_d;_a+=_e;}if(_h<=_a){return  -1;}}return _g[_a].size;};_pGrid.getRealRowSize=function(_a,_b,_c){var _d=this._curFormat;if(_c==undefined){_c=true;}var _e="none";if(_c){if(_a>=0){_e="body";}else if(_a== -1){_e="head";}else if(_a== -2){_e="summ";}}else{if(_d._headrows){if(_a<_d._headrows.length){_e="head";}else{_a-=_d._headrows.length;}}if(_e=="none"){if(this.summarytype=="top"||this.summarytype=="lefttop"){if(_d._summrows){if(_a<_d._summrows.length){_e="summ";}else{_a-=_d._headrows.length;}}if(_e=="none"){_e="body";}}else{if(_d._bodyrows){var _f=(this._hasTree)?this._treeIndexes.length:this._rowcount;if(_a<_f){_e="body";}else{_a-=_f;}}if(_e=="none"){if(_d._summrows){if(_a<_d._summrows.length){_e="summ";}}}}}}if(_e=="body"){if(_d&&_d._bodyrows){var _g=_a;if(this._hasTree){if(_g>=this._treeIndexes.length){return 0;}_g=this._treeIndexes[_g];}else{if(_g>=this._rowcount){return 0;}}var _h=_d._bodyrows;if(_b>=0){if(_b<_h.length){return this._rowSizeListSub[_g*_h.length+_b];}else{return 0;}}else{if(_g<this._rowSizeList.length){return this._rowSizeList[_g];}else{return 0;}}}}else if(_e=="head"){if(_d&&_d._headrows){var _h=_d._headrows;if(_b>=0){if(_b<_h.length){return this._rowHeadListSub[_b];}else{return 0;}}else{return this._rowHeadList[0];}}}else if(_e=="summ"){if(_d&&_d._summrows){var _h=_d._summrows;if(_b>=0){if(_b<_h.length){return this._rowSummListSub[_b];}else{return 0;}}else{return this._rowSummList[0];}}}return 0;};_pGrid.getRealColFullSize=function(_a){var _b=this._curFormat;var _c=0;if(!_a){var _d=this._getColFixCnt("left");for(var _e=0;_e<_d;_e++ ){_c+=this.getRealColSize( -1,_e);}var _f=this._getColFixCnt("body");for(var _e=0;_e<nPivotIndexCnt;_e++ ){for(var _g=0;_g<_f;_g++ ){_c+=this.getRealColSize(_d+_e);}}var _h=this._getColFixCnt("right");for(var _e=0;_e<_h;_e++ ){_c+=this.getRealColSize(_d+_f+_e);}}else{_a=_a.toLowerCase();if(_a=="left"){var _d=this._getColFixCnt("left");for(var _e=0;_e<_d;_e++ ){_c+=this.getRealColSize(_e);}}else if(_a=="body"){var _d=this._getColFixCnt("left");var _f=this._getColFixCnt("body");for(var _e=0;_e<_f;_e++ ){_c+=this.getRealColSize(_d+_e);}}else if(_a=="right"){var _d=this._getColFixCnt("left");var _f=this._getColFixCnt("body");var _h=this._getColFixCnt("right");for(var _e=0;_e<_h;_e++ ){_c+=this.getRealColSize(_d+_f+_e);}}}return _c;};_pGrid.getRealRowFullSize=function(_a){if(!_a){var _b=(this._hasTree)?this._treeIndexes.length:this._rowcount;var _c=0;for(var _d=0;_d<_b;_d++ ){_c+=this.getRealRowSize(_d);}_c+=this.getRealRowSize( -1);_c+=this.getRealRowSize( -2);return _c;}else{_a=_a.toLowerCase();if(_a=="body"){var _b=(this._hasTree)?this._treeIndexes.length:this._rowcount;var _c=0;for(var _d=0;_d<_b;_d++ ){_c+=this.getRealRowSize(_d);}return _c;}else if(_a=="head"){return this.getRealRowSize( -1);}else if(_a=="summ"||_a=="summary"){return this.getRealRowSize( -2);}}return 0;};_pGrid.__createDefualtColFormat=function(_a){var _b;_b="<Formats>\n";_b+="<Format id=\"default\">\n";_b+="<Columns>\n";_b+="<Column size=\"40\"/>\n";_b+="</Columns>\n";if(_a=="head"){_b+="<Rows>\n";_b+="<Row size=\"24\" band=\"head\"/>";_b+="</Rows>\n";_b+="<Band id=\"head\">\n";_b+="<Cell/>\n";_b+="</Band>\n";}else if(_a=="summ"||_a=="summary"){_b+="<Rows>\n";_b+="<Row size=\"24\" band=\"summ\"/>";_b+="</Rows>\n";_b+="<Band id=\"summary\">\n";_b+="<Cell/>\n";_b+="</Band>\n";}else if(_a=="body"){_b+="<Rows>\n";_b+="<Row size=\"24\" band=\"body\"/>";_b+="</Rows>\n";_b+="<Band id=\"body\">\n";_b+="<Cell/>\n";_b+="</Band>\n";}_b+="</Format>\n";_b+="</Formats>\n";this.set_formats(_b);return 0;};_pGrid.appendContentsRow=function(_a,_b){if(!_a){_a="body";}if(typeof (_a)=="number"){if(_a== -1){_a="head";}else if(_a== -2){_a="summ";}else if(_a>=0){_a="body";}}_a=_a.toLowerCase();if(!this._curFormat){return this.__createDefualtColFormat(_a);}if(!_b==undefined){_b=true;}if(_b==false){_a=this._getLastRowBand();}var _c=this._curFormat.appendContentsRow(_a,_b);if(_c>=0){this._recreate();this._initSelect();if(_a=="body"||_a>=0){if(rows=this._curFormat._headrows){_c+=rows.length;}if(this.summarytype=="top"||this.summarytype=="lefttop"){if(rows=this._curFormat._summrows){_c+=rows.length;}}}else if(_a=="summ"||_a=="summary"||_a== -2){if(rows=this._curFormat._headrows){_c+=rows.length;}if(this.summarytype!="top"&&this.summarytype!="lefttop"){if(rows=this._curFormat._bodyrows){_c+=rows.length;}}}}return _c;};_pGrid.appendContentsCol=function(_a,_b){if(!this._curFormat){return  -1;}var _c=this._curFormat.appendContentsCol(_a,_b);if(_c>=0){this._recreate();}return _c;};_pGrid.insertContentsRow=function(_a,_b,_c){if(!this._curFormat){return  -1;}if(arguments.length==1){_b=_a;_a="body";}var _d=this._curFormat.insertContentsRow(_a,_b,_c);if(_d>=0){this._recreate();if(_a=="body"||_a>=0){if(rows=this._curFormat._headrows){_d+=rows.length;}if(this.summarytype=="top"||this.summarytype=="lefttop"){if(rows=this._curFormat._summrows){_d+=rows.length;}}}else if(_a=="summ"||_a=="summary"||_a== -2){if(rows=this._curFormat._headrows){_d+=rows.length;}if(this.summarytype!="top"&&this.summarytype!="lefttop"){if(rows=this._curFormat._bodyrows){_d+=rows.length;}}}}return _d;};_pGrid.insertContentsCol=function(_a,_b,_c){if(!this._curFormat){return  -1;}var _d=this._curFormat.insertContentsCol(_a,_b,_c);if(_d>=0){this._recreate();}return _d;};_pGrid.deleteContentsRow=function(_a,_b,_c){if(!this._curFormat){return  -1;}if(arguments.length==1){_b=_a;_a="body";}var _d=this._curFormat.deleteContentsRow(_a,_b,_c);if(_d>=0){this._recreate();}return _d;};_pGrid.deleteContentsCol=function(_a,_b,_c){if(!this._curFormat){return  -1;}var _d=this._curFormat.deleteContentsCol(_a,_b,_c);if(_d>=0){this._recreate();}return _d;};_pGrid.mergeContentsCell=function(_a,_b,_c,_d,_e,_f,_g){if(!this._curFormat){return  -1;}_g=nexacro._toBoolean(_g);var _h=this._curFormat.mergeContentsCell(_a,_b,_c,_d,_e,_f,_g);if(_h>=0){this._recreate();}return _h;};_pGrid.splitContentsCell=function(_a,_b,_c,_d,_e,_f){if(!this._curFormat){return  -1;}else{_f=nexacro._toBoolean(_f);var _g=this._curFormat.splitContentsCell(_a,_b,_c,_d,_e,_f);if(_g>0){this._recreate();}return _g;}};_pGrid.setBandProperty=function(_a,_b,_c){var _d=this._curFormat;if(!_d){return false;}_a=_a.toLowerCase();var _e=_d.setBandProperty(_a,_b,_c);if(_e){_a=_a.toLowerCase();if(_a=="body"){this._refreshBody(true);}else if(_a=="head"){this._refreshHead(true);}else{this._refreshSumm(true);}}return (_e!=null);};_pGrid.getBandProperty=function(_a,_b){var _c=this._curFormat;if(!_c){return null;}_a=_a.toLowerCase();return _c.getBandProperty(_a,_b);};_pGrid.setCellProperty=function(_a,_b,_c,_d){var _e=this._curFormat;if(!_e){return false;}_a=_a.toLowerCase();var _f=_e.setCellProperty(_a,_b,_c,_d);if(_f){_e._clearCellStyleCache(_a,_b);if(_c=="displaytype"&&_d=="tree"){this._setTreeCellinfo(_f);this._setTree(true);}else if(_c=="autosizecol"||_c=="autosizerow"){this._recreate_contents_all(true,true,false);}else if(_c=="text"){if(_a=="head"&&this._headAutoSize){this._recreate_contents_all(true,true,false);}else if(_a=="body"&&this._bodyAutoSize){this._recreate_contents_all(true,true,false);}else if(_a.indexOf("summ")>=0&&this._summAutoSize){this._recreate_contents_all(true,true,false);}else{this._refreshCell(_a,_b, -1,true);}}else if(_c=="suppress"){if(_d!=0){this._is_use_suppress=true;}else{_f._clearSuppressInfo();var _g=this._curFormat._bodycells;var _h=_g?_g.length:0;var _i;this._is_use_suppress=false;for(var _j=0;_j<_h;_j++ ){_i=_g[_j];if(_i.suppress!=0){this._is_use_suppress=true;break;}}}this._refreshBody();}else if(_c=="suppressalign"&&this._is_use_suppress){this._destroyOverlayElements();this._refreshBody();}else{if(_c=="displaytype"||_c=="editdisplay"||_c=="combodisplay"||_c=="calendardisplay"){this._changeDisplayer=true;}else if(_c=="wordwrap"){if(_d!="none"){if(_a=="head"){this._is_head_wordwrap=true;}if(_a=="body"){this._is_body_wordwrap=true;}if(_a.indexOf("summ")>=0){this._is_head_wordwrap=true;}}else{var _g,_h,_i;if(_a=="body"){_g=this._curFormat._bodycells;_h=_g?_g.length:0;this._is_body_wordwrap=false;for(var _j=0;_j<_h;_j++ ){_i=_g[_j];if(_i.wordwrap!="none"){this._is_body_wordwrap=true;break;}}}if(_a=="head"){_g=this._curFormat._headcells;_h=_g?_g.length:0;this._is_head_wordwrap=false;for(var _j=0;_j<_h;_j++ ){_i=_g[_j];if(_i.wordwrap!="none"){this._is_head_wordwrap=true;break;}}}if(_a=="summ"){_g=this._curFormat._summcells;_h=_g?_g.length:0;this._is_summ_wordwrap=false;for(var _j=0;_j<_h;_j++ ){_i=_g[_j];if(_i.wordwrap!="none"){this._is_summ_wordwrap=true;break;}}}}}this._refreshCell(_a,_b, -1,true);this._changeDisplayer=false;}}return (_f!=null);};_pGrid.getCellProperty=function(_a,_b,_c){var _d=this._curFormat;if(!_d){return null;}_a=_a.toLowerCase();return _d.getCellProperty(_a,_b,_c);};_pGrid.autoFitRow=function(_a){};_pGrid.autoFitCol=function(_a){var _b=this.autofittype;this.autofittype="col";if(_a){this.autofittype=_a;}if(this._curFormat){this._curFormat._resetOrgColSize(true);}var _c=this._applyAutofittype(true);this.autofittype=_b;return _c;};_pGrid.autoSizeRow=function(_a,_b,_c,_d){if(!this._binddataset||!this._curFormat||_b==undefined){return false;}if(_d==undefined||_d==true){_b=this._getDataRow(_b);}var _e=false;this._autoSizeRowProc=true;if(_a=="row"){if(_b>=0){this._is_variable_bodyrowsize=true;var _f=this._curFormat._bodyrows;var _g=_f.length;if(_c!=undefined){var _h=(_b*_f.length)+_c;var _i=this._rowSizeListSub[_h];var _j=this._getMaxSubRowSize(_b,_c);if(_i!=_j){this._rowSizeListSub[_h]=_j;this._rowSizeList[_b]+=(_j-_i);change=true;}}else{for(var _k=0;_k<_g;_k++ ){var _h=(_b*_f.length)+_k;var _i=this._rowSizeListSub[_h];var _j=this._getMaxSubRowSize(_b,_k);if(_i!=_j){this._rowSizeListSub[_h]=_j;this._rowSizeList[_b]+=(_j-_i);change=true;}}}if(change==true){this._updateRowSizeExtend();}this._recreate_contents_all(false,false,false);_e=true;}else if(_b== -1){var _f=this._curFormat._headrows;var _g=_f.length;if(_c!=undefined){var _h=_c;var _i=this._rowHeadListSub[_h];var _j=this._getMaxSubRowSize(_b,_c);if(_i!=_j){this._rowHeadListSub[_h]=_j;this._rowHeadList[0]+=(_j-_i);change=true;}}else{for(var _k=0;_k<_g;_k++ ){var _h=_k;var _i=this._rowHeadListSub[_h];var _j=this._getMaxSubRowSize(_b,_k);if(_i!=_j){this._rowHeadListSub[_h]=_j;this._rowHeadList[0]+=(_j-_i);change=true;}}}if(change==true){this._updateRowSizeExtend();}this._resizeBand();this._recreate_contents_all(false,false,false);_e=true;}else if(_b== -2){var _f=this._curFormat._summrows;var _g=_f.length;if(_c!=undefined){var _h=_c;var _i=this._rowSummListSub[_h];var _j=this._getMaxSubRowSize(_b,_c);if(_i!=_j){this._rowSummListSub[_h]=_j;this._rowSummList[0]+=(_j-_i);change=true;}}else{for(var _k=0;_k<_g;_k++ ){var _h=_k;var _i=this._rowSummListSub[_h];var _j=this._getMaxSubRowSize(_b,_k);if(_i!=_j){this._rowSummListSub[_h]=_j;this._rowSummList[0]+=(_j-_i);change=true;}}}if(change==true){this._updateRowSizeExtend();}this._resizeBand();this._recreate_contents_all(false,false,false);_e=true;}}this._autoSizeRowProc=false;return _e;};_pGrid.autoSizeCol=function(_a,_b,_c,_d){if(arguments.length==2){_c=_b;_b= -9;}if(_a=="col"){var _e;if(_c== -1){var _f=this._curFormat._cols;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){_e=this._getMaxColDataSizeBand(_h);if(_e>=0&&this._setColSize( -9,_h,_e,_d,true,true,(_h!=_g-1))){change=true;}}}else if(_c>=0){_e=this._getMaxColDataSizeBand(_c);if(_e>=0){this._setColSize(_b,_c,_e,_d,true,true);}}}};_pGrid.isDropdownCalendar=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="CalendarControl"){return this._currentCellEditor.isDropdown();}return false;};_pGrid.isDropdownCombo=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="ComboControl"){return this._currentCellEditor.isDropdown();}return false;};_pGrid.moveToNextCell=function(){return this._moveToCell("next",true,false,undefined,undefined,true);};_pGrid.moveToPrevCell=function(){return this._moveToCell("prev",true,false,undefined,undefined,true);};_pGrid.showEditor=function(_a){var _b;if(_a===undefined){_a=true;}_a=nexacro._toBoolean(_a);if(this._showEditing==_a){return false;}if(_a){this.setFocus(false);_b=this._showEditor();}else{_b=this._hideEditor();}return _b;};_pGrid.dropdownCombo=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="ComboControl"){this._currentCellEditor.dropdown();return true;}return false;};_pGrid.dropdownCalendar=function(){if(this._currentCellEditor&&this._currentCellEditor.visible==true&&this._currentCellEditor._type_name=="CalendarControl"){this._currentCellEditor.dropdown();return true;}return false;};_pGrid.getCurEditType=function(){var _a=this._getBodyCellInfo(this._selectinfo.curcell);if(_a){return _a._getAttrValue(_a.edittype,this._selectinfo.curdsrow);}return "";};_pGrid.getEditCaret=function(){if(this._showEditing){var _a=this._currentCellEditor;if(_a&&_a.getCaretPos){return _a.getCaretPos();}}};_pGrid.getEditSelect=function(){var _a=this._currentCellEditor;if(_a&&_a.getSelect){return _a.getSelect();}};_pGrid.getEditSelectedText=function(){var _a=this._currentCellEditor;if(_a&&_a.getSelectedText){return _a.getSelectedText();}return "";};_pGrid.getEditText=function(){if(this._showEditing){var _a=this._currentCellEditor;if(_a){return _a.text;}}};_pGrid.setEditCaret=function(_a){};_pGrid.setEditSelect=function(_a,_b){var _c=this._currentCellEditor;if(!_c){return false;}if(_a== -1){_c.setSelect(0,0);return true;}else{if(_c.setSelect){return _c.setSelect(_a,_b);}}return false;};_pGrid.setEditSelectedText=function(_a){};_pGrid.setEditText=function(_a){};_pGrid.updateToDataset=function(){if(this._showEditing){var _a=this._currentCellEditor;if(_a){_a._setDataset(false,this._currentCellRow);return true;}return false;}return false;};_pGrid.setTreeStatus=function(_a,_b){if(!this._hasTree){return false;}_b=nexacro._toBoolean(_b);var _c=this._treeIndexes;var _d=_c.length;var _e=this._bodyBand._get_rows();if(_d<=_a||!_e||_e.length==0){return false;}var _f=_c[_a];var _g=_e[0]._cells;var _h=this._treeCellinfo;var _i=_h._getEdittype(_f);var _j;if(_b){_j=this._setTreeState(_a,1,true);}else{_j=this._setTreeState(_a,0,true);}if(_j>0){if(nexacro._enableaccessibility&&(nexacro._accessibilitytype==4||nexacro._accessibilitytype==5)){var _k=this._getCurrentBodyCell(this._currentDSrow,_h._cellidx);if(_k){if(nexacro._accessibilitytype==4){_k._setFocus(false);}else{_k._setAccessibilityNotifyEvent();}}}return true;}return false;};_pGrid.getTreeStatus=function(_a){if(!this._hasTree){return  -1;}var _b=this._treeIndexes;var _c=_b.length;var _d=this._bodyBand._get_rows();if(_c<=_a||!_d||_d.length==0){return  -1;}var _e=_b[_a];var _f=this._treeStates[_e];var _g=_d[0]._cells;var _h=this._treeCellinfo;var _i=_h._getEdittype(_e);if(_i=="tree"){if(_h.treestate._bindtype==1){var _j=_h.treestate._bindexpr;var _k=this._binddataset.getColumn(_e,_j);if(_k>1){_f=_k;}}}if(_f==2){_f++ ;}return _f;};_pGrid.getTreeChildCount=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return 0;}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f,_g= -1;var _h=0;for(var _i=_c+1;_i<this._rowcount;_i++ ){_f=_d._getTreeLevel(_i);if(_e>=_f){break;}if(_g>=0){if(_g==_f){_h++ ;}}else{if(_e<_f){_h++ ;_g=_f;}}}return _h;}return 0;};_pGrid.getTreeChildRow=function(_a,_b,_c){if(this._hasTree){var _d=_a;if(_c==undefined){_c=true;}else{_c=nexacro._toBoolean(_c);}if(_c===false){_d=this.getDatasetRow(_a);}if(_d<0||this._rowcount<=_d){return  -1;}var _e=this._treeCellinfo;var _f=_e._getTreeLevel(_d);var _g,_h= -1;var _i= -1;var _j=0;for(var _k=_d+1;_k<this._rowcount;_k++ ){_g=_e._getTreeLevel(_k);if(_f>=_g){break;}if(_h>=0){if(_h<=_g){_j++ ;if(_b==_j){return _k;}_i=_k;}}else{if(_f<_g){_h=_g;if(_b==0){return _k;}_i=_k;}}}if(_b== -1){return _i;}}return  -1;};_pGrid.getTreeParentRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return  -1;}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f;for(var _g=_c-1;_g>=0;_g-- ){_f=_d._getTreeLevel(_g);if(_e>_f){return _g;}}}return  -1;};_pGrid.getTreeSiblingRow=function(_a,_b,_c){if(this._hasTree){var _d=_a;if(_b===undefined){_b=1;}if(_c==undefined){_c=true;}else{_c=nexacro._toBoolean(_c);}if(_c===false){_d=this.getDatasetRow(_a);}if(_d<0||this._rowcount<=_d){return  -1;}var _e=this._treeCellinfo;var _f=_e._getTreeLevel(_d);var _g;var _h=0;if(_b<0){for(var _i=_d-1;_i>=0;_i-- ){_g=_e._getTreeLevel(_i);if(_f>_g){break;}else if(_f==_g){_h-- ;if(_b==_h){return _i;}}}}else if(_b>0){for(var _i=_d+1;_i<this._rowcount;_i++ ){_g=_e._getTreeLevel(_i);if(_f>_g){break;}else if(_f==_g){_h++ ;if(_b==_h){return _i;}}}}else{return _d;}}return  -1;};_pGrid.getTreePath=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return "";}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f=_d._getTreeStartLevel(_c);var _g=[];var _h=0;while(_c>=0){_g[_h]=_d._getValue(_c);_c=this.getTreeParentRow(_c);_h++ ;}var _i="";for(_h=_g.length-1;_h>=0;_h-- ){_i+=_g[_h];if(_h>0){_i+=this.treepathdelimiter;}}return _i;}return "";};_pGrid.getTreeRow=function(_a){if(this._hasTree){if(typeof (_a)=="string"){var _b=_a;var _c=this._rowcount;var _d;_a= -1;for(var _e=0;_e<_c;_e++ ){_d=this.getTreePath(_e,true);if(_d==_b){_a=_e;break;}}}if(_a>=0){var _f=this._treeIndexes;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){if(_f[_h]==_a){return _h;}}}}return  -1;};_pGrid.getDatasetRow=function(_a){if(_a>=0){if(this._hasTree){if(this._treeIndexes.length>_a){return this._treeIndexes[_a];}}else{if(this._rowcount>_a){return _a;}}}return  -1;};_pGrid.isTreeLeafRow=function(_a,_b){if(this._hasTree){var _c=this.getTreeChildCount(_a,_b);if(_c==0){if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}var _d=_a;if(_b===false){_d=this.getDatasetRow(_a);}if(_d<0||this._rowcount<=_d){return false;}return true;}}return false;};_pGrid.isTreeRootRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return false;}var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_c);var _f=_d._getTreeStartLevel(_c);if(_f==_e){return true;}}return false;};_pGrid.isTreeExpandedRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return false;}while(_c>=0){_c=this.getTreeParentRow(_c);if(_c<0){break;}var _d=this._treeIndexes;var _e=_d.length;if(_c>=0&&_e>0){var _f=this._treeStates[_c];if(_f==0){return false;}}}return true;}return false;};_pGrid.isTreeCollapsedRow=function(_a,_b){if(this._hasTree){var _c=_a;if(_b==undefined){_b=true;}else{_b=nexacro._toBoolean(_b);}if(_b===false){_c=this.getDatasetRow(_a);}if(_c<0||this._rowcount<=_c){return false;}while(_c>=0){_c=this.getTreeParentRow(_c);if(_c<0){break;}var _d=this._treeIndexes;var _e=_d.length;if(_c>=0&&_e>0){var _f=this._treeStates[_c];if(_f==0){return true;}}}}return false;};_pGrid.getCsvData=function(_a){};_pGrid.getHeadValue=function(_a){var _b=this._curFormat;if(_b&&_b._headcells&&_a>=0&&_b._headcells.length>_a){var _c=this._curFormat._headcells[_a];if(_c&&_c.text._bindtype!=0){return _c._getValue(this._currentDSrow);}}return null;};_pGrid.getSummValue=function(_a){var _b=this._curFormat;if(_b&&_b._summcells&&_a>=0&&_b._summcells.length>_a){var _c=this._curFormat._summcells[_a];if(_c&&_c.text._bindtype!=0){return _c._getValue(this._currentDSrow);}}return null;};_pGrid.getBindCellIndex=function(_a,_b){var _c=this._curFormat;if(!_c){return  -1;}_a=_a.toLowerCase();if(_b){if(_a=="head"&&_c._headcells){var _d=_c._headcells;var _e=_d.length;var _f;for(var _g=0;_g<_e;_g++ ){_f=_d[_g];if(_f.text._bindexpr==_b){return _g;}}}else if(_a=="body"&&_c._bodycells){var _h=_c._bodycells;var _i=_h.length;var _f;for(var _g=0;_g<_i;_g++ ){_f=_h[_g];if(_f.text._bindexpr==_b){return _g;}}}else if(_a=="summ"&&_c._summcells){var _j=_c._summcells;var _k=_j.length;var _f;for(var _g=0;_g<_k;_g++ ){_f=_j[_g];if(_f.text._bindexpr==_b){return _g;}}}}return  -1;};_pGrid._getDisplayCalendarCtrl=function(){if(!this._displaycalendarctrl){this._displaycalendarctrl=new nexacro.CalendarCtrl("displaycalendarctrl",0,0,0,0,this,false,true);}return this._displaycalendarctrl;};_pGrid.isAboveSelected=function(){};_pGrid._absolutelyResetScrollPos=function(_a){var _b=this._headBand;var _c=this._bodyBand;var _d=this._summBand;if(this._control_element){this._control_element._reset_scrollpos=_a;}if(_b&&_b._control_element){_b._control_element._reset_scrollpos=_a;}if(_c&&_c._control_element){_c._control_element._reset_scrollpos=_a;}if(_d&&_d._control_element){_d._control_element._reset_scrollpos=_a;}};_pGrid._no_use_onscroll_callback_after=false;_pGrid._adjustGridScrollRows_callback=function(_a){if(!this.vscrollbar){return;}var _b=this._control_element;var _c=_b.vscroll_limit;var _d=this.vscrollbar._pos;var _e=this._bodyBand;if(_d>_c){_d=_c;}if(_a){this._scroll_vpos_queue=[];}else{this._scroll_vpos_queue.pop();if(this._scroll_vpos_queue.length>0){this._aniframe_rowscroll.start();}}this._last_scroll_top=_b.scroll_top;this._toprowpos=this._getScreenTopRowPos(_d);this._bottomrowpos=this._getScreenBottomRowPos(_d);_e._update_rows=_e._matrix._adjustScrollRows(_d);_e._on_refresh_rows(true);this._no_use_onscroll_callback_after=true;_b.setElementVScrollPos(_d);this._MoveEditComp();this._updateSelector("vscroll",_d-this._last_scroll_top);this._adjustOverlayElements(false,false);};_pGrid._adjustGridScrollRows_callback_onscroll_after=function(_a){if(this._no_use_onscroll_callback_after==true){this._no_use_onscroll_callback_after=false;return;}var _b=this._bodyBand;this._toprowpos=this._getScreenTopRowPos(_a);this._bottomrowpos=this._getScreenBottomRowPos(_a);_b._update_rows=_b._matrix._adjustScrollRows(_a);_b._on_refresh_rows(true);this._MoveEditComp();this._adjustOverlayElements(false,false);};_pGrid._adjustGridScrollRows_callback_onscroll=function(){this._no_use_onscroll_callback_after=false;this._scroll_vpos_queue.pop();var _a=this.vscrollbar._pos;var _b=this._control_element;if(this._scroll_vpos_queue.length>0){this._aniframe_rowscroll.start();}this._last_scroll_top=_b.scroll_top;_b.setElementVScrollPos(_a);this._updateSelector("vscroll",_a-this._last_scroll_top);};_pGrid._adjustGridScrollCols_callback=function(_a){if(!this.hscrollbar){return;}var _b=this.hscrollbar._pos;var _c=this._control_element.scroll_left;if(_a){this._scroll_hpos_queue=[];}else{this._scroll_hpos_queue.pop();if(this._scroll_hpos_queue.length>0){this._aniframe_colscroll.start();}}this._control_element.setElementHScrollPos(_b);this._bodyBand._matrix._adjustColsDisplay(false,true);if(this._headBand){this._headBand._matrix._adjustColsDisplay(false,true);}if(this._summBand){this._summBand._matrix._adjustColsDisplay(false,true);}this._MoveEditComp();this._updateSelector("hscroll",_b-_c);this._adjustOverlayElements(false,true);};_pGrid._callback_onscroll=_pGrid._adjustGridScrollRows_callback_onscroll_after;_pGrid._is_over_scroll=0;_pGrid.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers&&this._is_recreating==false){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}this._is_over_scroll=0;var _c=this.vscrollbar;if(!_c){return;}if(this._scrollpixel!="all"){if(_c._pos>_c._orgmax){this._is_over_scroll=_c._pos-this.vscrollbar._orgmax;}}var _d=this._control_element;if(!_d||!this._bodyBand||_b.type=="trackstart"||_b.type=="tracklastover"||_b.type=="trackfirstover"){return;}if(_b.type=="trackend"||_b.type=="first"||_b.type=="last"){this._procRefreshDOM=true;}if(nexacro.Browser=="Runtime"||(navigator.userAgent.indexOf("Android 4.1")> -1||navigator.userAgent.indexOf("Android 4.2")> -1||navigator.userAgent.indexOf("Android 4.3")> -1||navigator.userAgent.indexOf("Android 5.0")> -1)){this._adjustGridScrollRows_callback(true);}else{if(_b._evtkind=="fling"||_b._evtkind=="slide"||_b.type=="track"){this._bodyBand._control_element._setOnScrollCallbackTarget(this);if(!this._aniframe_rowscroll){var _e=this;this._scroll_vpos_queue=[];if(nexacro.isTouchInteraction&&nexacro.Browser!="Runtime"){this._aniframe_rowscroll=new nexacro.AnimationFrame(this,function(){_e._adjustGridScrollRows_callback_onscroll();});}else{this._aniframe_rowscroll=new nexacro.AnimationFrame(this,function(){_e._adjustGridScrollRows_callback();});}}var _f=this._scroll_vpos_queue.push(_b.pos);if(_f==1){this._aniframe_rowscroll.start();}}else{this.vscrollbar._no_set_scrollinfo=true;this._adjustGridScrollRows_callback(true);this.vscrollbar._no_set_scrollinfo=false;}}this._procRefreshDOM=undefined;return true;};_pGrid.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers&&this._is_recreating==false){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(!_c||!this._bodyBand||_b.type=="trackstart"||_b.type=="tracklastover"||_b.type=="trackfirstover"){return;}if(_b.type=="trackend"||_b.type=="first"||_b.type=="last"){this._procRefreshDOM=true;}if(nexacro.Browser!="Runtime"){if(!this._aniframe_colscroll){var _d=this;this._scroll_hpos_queue=[];this._aniframe_colscroll=new nexacro.AnimationFrame(this,function(){_d._adjustGridScrollCols_callback();});}if(_b._evtkind=="fling"||_b._evtkind=="slide"||_b.type=="track"){var _e=this._scroll_hpos_queue.push(_b.pos);if(_e==1){this._aniframe_colscroll.start();}}else{this._adjustGridScrollCols_callback();}}else{this._adjustGridScrollCols_callback(true);}this._procRefreshDOM=undefined;return true;};_pGrid._isWheelScrollable=function(_a){var _b=this._control_element;if(!_b){return false;}var _c=_b.scroll_top;var _d=_b.container_maxheight;var _e=this._getBodyClientSize()[1];if((_c+_e>=_d&&_a<0)||(_c==0&&_a>0)){return false;}return true;};_pGrid._setVScrollDefaultAction=function(_a,_b){var _c,_d;if(this._scrollpixel!="all"){if(_b<0){if(_a.max>_a.pos){_c=_a.pos+this.wheelscrollrow;}else{_a._set_pixelpos(_a._pos-_b,"mousewheel");return;}}else{if(_a.min<_a.pos){_c=_a.pos-this.wheelscrollrow;}else{_a._set_pixelpos(_a._pos-_b,"mousewheel");return;}}}else{if(_b<0){_c=_a._scroll_reverse_convert(_a.pos,true)[0];_d=_a._scroll_reverse_convert(_a.max,true)[0];if(_d>_c){_c+=this.wheelscrollrow;}else{_a._set_pixelpos(_a._pos-_b,"mousewheel");return;}}else{_c=_a._scroll_reverse_convert(_a.pos,true)[0];_c-=this.wheelscrollrow;}}_a._set_rowpos(_c+this._getFixRowCnt(),"mousewheel");};_pGrid._makeEventInfo=function(_a,_b,_c){var _d={cell: -1,col: -1,row: -9,subrow: -1,mergecell: -1,mergecol: -1,mergerow: -1,pivotindex: -9};if(_a&&_a._type_name=="GridCell"){_d.cell=_a._cellidx;_d.col=_a._refobj._col;_d.row=this._getDataRow(_a._rowidx);_d.subrow=_a._refobj._row;if(_b){_d.mergecell=_b._cellidx;_d.mergecol=_b._refobj._col;_d.mergerow=_b._refobj._row;}}else{var _e=this._findBandObj(_c);if(_e){if(_e.id=="head"){_d.row= -1;}else if(_e.id=="summ"){_d.row= -2;}}}return _d;};_pGrid.on_fire_sys_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this._aniframe_rowscroll){this._aniframe_rowscroll.stop();}if(this._aniframe_colscroll){this._aniframe_colscroll.stop();}this._adjustGridScrollCols_callback(true);this._adjustGridScrollRows_callback(true);return true;};_pGrid._on_nodataareaclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(this.enable){this.on_fire_onnodataareaclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}return true;};_pGrid.on_fire_onnodataareaclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onnodataareaclick&&this.onnodataareaclick._has_handlers){var _m=new nexacro.MouseEventInfo(_k,"onnodataareaclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onnodataareaclick._fireEvent(this,_m);}return true;};_pGrid._on_nodataareadblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this._is_alive){return;}if(this.enable){this.on_fire_onnodataareadblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);}return true;};_pGrid.on_fire_onnodataareadblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this.onnodataareadblclick&&this.onnodataareadblclick._has_handlers){var _m=new nexacro.MouseEventInfo(_k,"onnodataareadblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onnodataareadblclick._fireEvent(this,_m);}return true;};_pGrid.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this._noFireDragFlag==true){return;}var _q=_p;_q=this._findCellObj(_q);if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_q=_q.parentcell;}}var _r=this._recalcXY(_q,_k,_l,false);_k=_r.canvasX;_l=_r.canvasY;_m=_r.clientX;_n=_r.clientY;return nexacro.Component.prototype.on_fire_user_ondragenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p);};_pGrid.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this._noFireDragFlag==true){return;}var _q=_p;_q=this._findCellObj(_q);if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_q=_q.parentcell;}}var _r=this._recalcXY(_q,_k,_l,false);_k=_r.canvasX;_l=_r.canvasY;_m=_r.clientX;_n=_r.clientY;return nexacro.Component.prototype.on_fire_user_ondragleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p);};_pGrid.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this._noFireDragFlag==true){return;}var _q=_p;_q=this._findCellObj(_q);var _r;if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_r=_q;_q=_q.parentcell;}}var _s=this._recalcXY(_q,_k,_l,false);_k=_s.canvasX;_l=_s.canvasY;_m=_s.clientX;_n=_s.clientY;if(this.ondragmove&&this.ondragmove._has_handlers){var _t=this._makeEventInfo(_q,_r,_p);var _u=_t.cell;var _v=_t.col;var _w=_t.mergecell;var _x=_t.mergecol;var _y=_t.mergerow;var _z=_t.pivotindex;var _aa=_t.row;var _ab=_t.subrow;var _ac=new nexacro.GridDragEventInfo(this,"ondragmove",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_u,_v,_w,_x,_y,_z,_aa,_ab);return this.ondragmove._fireUserEvent(this,_ac);}return false;};_pGrid.on_fire_sys_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(!this._is_drag_sameselect){return this._areaselectMove(_k,_p,_k,_l);}else{this._is_drag_selecting=true;}};_pGrid._noFireDragFlag=false;_pGrid.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;_n=this._findCellObj(_n);var _o;if(_n&&_n._type_name=="GridCell"){if(_n.parentcell){_o=_n;_n=_n.parentcell;}}var _p=this._recalcXY(_n,_g,_h,false);_g=_p.canvasX;_h=_p.canvasY;_i=_p.clientX;_j=_p.clientY;var _q=this._makeEventInfo(_n,_o,_l);var _r=_q.cell;var _s=_q.col;var _t=_q.mergecell;var _u=_q.mergecol;var _v=_q.mergerow;var _w=_q.pivotindex;var _x=_q.row;var _y=_q.subrow;this._noFireDragFlag=false;if(this.ondrag&&this.ondrag._has_handlers){var _z=new nexacro.GridDragEventInfo(this,"ondrag",this._getDragData(),null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_r,_s,_t,_u,_v,_w,_x,_y);if(this.ondrag._fireUserEvent(this,_z)==true){return [true,this,_m,_z.dragdata,_z.userdata];}else if(this.ondrag.defaultprevented==true){return [false,this,_m,_z.dragdata,_z.userdata];}}if(this._resizer_rowctrl&&this._resizer_rowctrl._is_tracking==true){var _aa=nexacro._getCachedValueObj("row-resize");this._setGlobalCursor(_aa,_n);}else if(this._resizer_colctrl&&this._resizer_colctrl._is_tracking==true){var _aa=nexacro._getCachedValueObj("col-resize");this._setGlobalCursor(_aa,_n);}else if(this.cellmovingtype!="none"||(this.ondrag&&this.ondrag._has_handlers)){if(_n&&_n._type_name=="GridCell"&&_n._rowidx== -1){var _ab=_n._refobj._col;var _ac=this._getColMergeInfo("head",_ab);var _ad=this._getColMergeInfo("body",_ab);var _ae=this._getColMergeInfo("summ",_ab);var _af=nexacro._getCachedValueObj("move");if(_ac[1]==1&&(_ad==null||_ad[1]==1)&&(_ae==null||_ae[1]==1)){if(this.cellmovingtype!="none"){this._movingcell=_n;this._setGlobalCursor(_af,_n);}}else{this._movingcell=null;}}if(this.ondrag&&this.ondrag._has_handlers){if(this._movingcell!=null){this._noFireDragFlag=true;return [true,this,_m,_z.dragdata,_z.userdata];}else{return [false,this,_m,_z.dragdata,_z.userdata];}}else if(_n&&_n._type_name=="GridCell"&&_n._rowidx== -1){this._noFireDragFlag=true;return [true,this,_m,this._getDragData(),null];}}return [false];};_pGrid.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){var _q=_p;_q=this._findCellObj(_q);var _r;if(_q&&_q._type_name=="GridCell"){if(_q.parentcell){_r=_q;_q=_q.parentcell;}}var _s=this._recalcXY(_q,_k,_l,false);_k=_s.canvasX;_l=_s.canvasY;_m=_s.clientX;_n=_s.clientY;if(this._resizer_rowctrl&&this._resizer_rowctrl._is_tracking==true){this._setGlobalCursor(null,_q);}else if(this._resizer_colctrl&&this._resizer_colctrl._is_tracking==true){this._setGlobalCursor(null,_q);}else if(this.cellmovingtype!="none"){var _t=this._movingcell;var _u=this._curFormat;this._setGlobalCursor(null,_q);if(_t&&_t._is_alive&&_t!=_q&&_q._rowidx== -1){var _v=_t._refobj._col;var _w=_t._refobj._cellidx;var _x=_q._refobj._col;var _y=_t._refobj._colspan;var _z=this._getColMergeInfo("head",_x);_x=_z[0];var _aa=_z[1];this._autofitcol_rate=[];_u._moveColumn(_v,_x,_y,_aa,this.cellmovingtype);this._addRefreshContents("cellmoving",this._headBand);this._addRefreshContents("cellmoving",this._bodyBand);this._addRefreshContents("cellmoving",this._summBand);}this._movingcell=null;}if(this._noFireDragFlag==true){this._noFireDragFlag=false;return;}if(this.ondrop&&this.ondrop._has_handlers){var _ab=this._makeEventInfo(_q,_r,_p);var _ac=_ab.cell;var _ad=_ab.col;var _ae=_ab.mergecell;var _af=_ab.mergecol;var _ag=_ab.mergerow;var _ah=_ab.pivotindex;var _ai=_ab.row;var _aj=_ab.subrow;var _ak=new nexacro.GridDragEventInfo(this,"ondrop",_c,_d,_a,_b,_o,_p,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_ac,_ad,_ae,_af,_ag,_ah,_ai,_aj);return this.ondrop._fireUserEvent(this,_ak);}return false;};_pGrid._mouseSelection=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._currentCellEditor;var _j=_g;var _k=true;while(_j){if(_j==_i||_j instanceof nexacro.GridScrollBarCtrl||_j instanceof nexacro.ScrollBarCtrl){_k=false;break;}_j=_j.parent;}if(_k&&_i){this._hideEditor();}if(this._resizer_colctrl&&this._resizer_colctrl._is_tracking){return;}if(this._resizer_rowctrl&&this._resizer_rowctrl._is_tracking){return;}if(this._down_scroll_top>=0&&this._down_scroll_top!=this._last_scroll_top){return;}if(_a&&_a._type_name=="GridCell"){this._lbuttondown_proc=true;var _l=_a._band.id;var _m=this._on_grid_lbuttondown(_a,_l,_b,_c,_h);if(!_a._is_alive||_h){return;}if(this._showEditorCell){if(nexacro._toBoolean(this.readonly)==false){if(_m){var _n=_a;if(_n&&_n._hasEditor()){_n._showEditor();var _o=this._getDataRow(_n._rowidx);this._beforeEditRowIdx=_o;this._beforeEditCellIdx=_n._cellidx;this._showEditing=true;_n._refobj._editingRow=_o;_n._editshowing=true;var _i=this._currentCellEditor;if(_i&&_i.setCaretPos&&!_i.autoselect){_i.setCaretPos(0);}}}else{this._showEditor();}}this._showEditorCell=false;this._showEditRowIdx= -1;this._showEditCellIdx= -1;}if(this.selectchangetype=="down"&&nexacro._toBoolean(this.readonly)==false){var _o=this._getDataRow(_a._rowidx);var _p=_a._refobj._getDisplaytype(_o);if(_p=="checkbox"){if(this.cellclickbound=="cell"){_a._needToggle("onlbuttondown",_a);}else{if(_a!=_g&&_a._subComp&&_a._subComp._toggleCheck){if(_a._selected){_a._subComp._toggleCheck();}}}}else{_a._needToggle("onlbuttondown",_a);}}this._lbuttondown_proc=false;}};_pGrid._common_fire_sys_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}if(this.selectchangetype=="up"){if(this._isAreaSelect()&&this._selectscrollmode=="select"){this._mouseSelection(_a,_b,_c,_d,_e,_f,_g);}else if(this.selecttype=="multirow"){this._mouseSelection(_a,_b,_c,_d,_e,_f,_g,true);}}else{this._mouseSelection(_a,_b,_c,_d,_e,_f,_g);}if(this._is_down_act){this._on_last_lbuttonup(true);}};_pGrid._common_fire_user_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}this._resizerStart(_d,_e,_a,"down");var _h=this._resizer_colctrl;var _i=this._resizer_rowctrl;if(_h&&_h._is_range){var _j=this._getWindow();_h._setTracksize(this._client_height);if(_h._direction=="horizon"){_h.move(_d,this._client_top,1,_h._tracksize);}nexacro._setTrackInfo(_j,_h,_j._curWindowX,_j._curWindowY);}else if(_i&&_i._is_range){var _j=this._getWindow();_i._setTracksize(this._client_width);if(_i._direction=="vertical"){_i.move(this._client_left,_e,_i._tracksize,1);}nexacro._setTrackInfo(_j,_i,_j._curWindowX,_j._curWindowY);}if(this._select_ctrl){this._select_ctrl._initTrackInfo();}};_pGrid._recalcTouchInfosXY=function(_a,_b,_c){var _d,_e;for(var _f=0;_f<_b.length;_f++ ){if(_d=_b[_f]){_e=this._recalcXY(_a,_d.canvasX,_d.canvasY,_c);_d.canvasX=_e.canvasX;_d.canvasY=_e.canvasY;_d.clientX=_e.clientX;_d.clientY=_e.clientY;}}};_pGrid._getRecalcCanvasXY=function(_a,_b,_c){if(this._recalcXY_info){_b=this._recalcXY_info[0];_c=this._recalcXY_info[1];this._recalcXY_info=null;}_b+=this._adjust_left-this._scroll_left||0;_c+=this._adjust_top-this._scroll_top||0;return [_b,_c];};_pGrid._recalcXY=function(_a,_b,_c,_d){var _e=_b;var _f=_c;if(_a._type_name=="GridCell"){if(_d){var _h=_a._setPositionInGrid(null,false,true);_e=_b+_h.orgl;_f=_c+_h.orgt;}else{var _i=_a._refobj._area;var _j=_a._band.id;if(_i=="body"){_e=_b+this._curFormat.leftWidth;_e-=this._getScrollLeft();}else if(_i=="right"){var _k=_a.parent;var _h=_k._getAreaRect(_i);var _l=_h.left;_e=_b+_l;}if(_j=="body"&&!_a.parent._fixed){_f-=this._getScrollTop();_f+=this._fixed_height;}}}this._recalcXY_info=[_e,_f];var _g=this._getClientXY(_e,_f);return {canvasX:_e,canvasY:_f,clientX:_g[0],clientY:_g[1]};};_pGrid.on_fire_user_ontouchstart=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchstart(_a,_b,_c,_d,true,_e);};_pGrid.on_fire_sys_ontouchstart=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchstart(_a,_b,_c,_d,false,_e);};_pGrid._down_scroll_top= -1;_pGrid.on_fire_ontouchstart=function(_a,_b,_c,_d,_e,_f){var _g=_d;_g=this._findCellObj(_g);this._recalcTouchInfosXY(_g,_b,_f);var _h=nexacro._getFirstTouchInfo(_b);var _i;if(_g&&_g._type_name=="GridCell"){if(_g.parentcell){_i=_g;_g=_g.parentcell;}}var _j=false;if(this.ontouchstart&&this.ontouchstart._has_handlers){var _k=this._makeEventInfo(_g,_i,_d);var _l=_k.cell;var _m=_k.col;var _n=_k.mergecell;var _o=_k.mergecol;var _p=_k.mergerow;var _q=_k.pivotindex;var _r=_k.row;var _s=_k.subrow;var _t=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);if(_e){_j=this.ontouchstart._fireUserEvent(this,_t);}else{_j=this.ontouchstart._fireSysEvent(this,_t);}}this._down_scroll_top=this._last_scroll_top;if(_h){if(_e){this._resizerStart(_h.canvasX,_h.canvasY,_g,"down");this._common_fire_user_lbuttondown(_g,false,false,_h.canvasX,_h.canvasY,_c,_d);}else{if(this._selectscrollmode=="select"){if(_g._band&&_g._band.id=="body"){if(this._isAreaSelect()){this._common_fire_sys_lbuttondown(_g,false,false,_h.canvasX,_h.canvasY,_c,_d);}if(this.selectchangetype=="down"){this._mouseSelection(_g,false,false,_h.canvasX,_h.canvasY,_c,_d);}}}}}return _j;};_pGrid.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(nexacro.isTouchInteraction){this._down_scroll_top=this._last_scroll_top;}return nexacro.Component.prototype.on_lbuttondown_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pGrid.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this.on_fire_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true,_m);};_pGrid.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){return this.on_fire_onlbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false,_m);};_pGrid.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=_l;_o=this._findCellObj(_o);var _p;if(_o&&_o._type_name=="GridCell"){if(_o.parentcell){_p=_o;_o=_o.parentcell;}}var _q=this._recalcXY(_o,_g,_h,_n);_g=_q.canvasX;_h=_q.canvasY;_i=_q.clientX;_j=_q.clientY;var _r=false;if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _s=this._makeEventInfo(_o,_p,_l);var _t=this._getRootComponent(_k);var _u=_s.cell;var _v=_s.col;var _w=_s.mergecell;var _x=_s.mergecol;var _y=_s.mergerow;var _z=_s.pivotindex;var _aa=_s.row;var _ab=_s.subrow;var _ac=new nexacro.GridMouseEventInfo(_t,"onlbuttondown",_u,_v,_w,_x,_y,_z,_aa,_ab,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_m){_r=this.onlbuttondown._fireUserEvent(this,_ac);}else{_r=this.onlbuttondown._fireSysEvent(this,_ac);}}if(nexacro.isTouchInteraction){if(_m){this._resizerStart(_g,_h,_o,"down");this._common_fire_user_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}else{if(this._selectscrollmode=="select"){if(_o._band&&_o._band.id=="body"){if(this._isAreaSelect()){this._common_fire_user_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}}}}}else{if(_m){this._common_fire_user_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}else{this._common_fire_sys_lbuttondown(_o,_c,_d,_g,_h,_k,_l);}}return _r;};_pGrid.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_l;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_l);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onrbuttondown",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onrbuttondown._fireUserEvent(this,_z);}return false;};_pGrid.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);};_pGrid.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);};_pGrid.on_fire_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;_n=this._findCellObj(_n);var _o;if(_n&&_n._type_name=="GridCell"){if(_n.parentcell){_o=_n;_n=_n.parentcell;}}var _p=this._recalcXY(_n,_g,_h,false);_g=_p.canvasX;_h=_p.canvasY;_i=_p.clientX;_j=_p.clientY;var _q=false;if(this.onmousedown&&this.onmousedown._has_handlers){var _r=this._makeEventInfo(_n,_o,_l);var _s=this._getRootComponent(_k);var _t=_r.cell;var _u=_r.col;var _v=_r.mergecell;var _w=_r.mergecol;var _x=_r.mergerow;var _y=_r.pivotindex;var _z=_r.row;var _aa=_r.subrow;var _ab=new nexacro.GridMouseEventInfo(_s,"onmousedown",_t,_u,_v,_w,_x,_y,_z,_aa,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_m){_q=this.onmousedown._fireUserEvent(this,_ab);}else{_q=this.onmousedown._fireSysEvent(this,_ab);}}if(_m){this._common_fire_user_lbuttondown(_n,_c,_d,_g,_h,_k,_l);}else{this._common_fire_sys_lbuttondown(_n,_c,_d,_g,_h,_k,_l);}return _q;};_pGrid._clearDestroyEditor=function(_a){var _b=this._destroyeditors;if(_b.length){for(var _c=0;_c<_b.length;_c++ ){if(_a&&_b.length<=5){break;}if(_b[_c]._is_alive){_b[_c].destroy();}_b[_c]=null;_b.splice(_c,1);_c-- ;}}};_pGrid._resetFixSize=function(){var _a=this._rowSizeList;var _b=0,_c=0;var _d=this._fixed_startrow;var _e=this._fixed_endrow;if(_d<0){return;}for(var _f=0;_f<_a.length;_f++ ){_b+=_a[_f];if(_d>_f){continue;}_c+=_a[_f];if(_e==_f){break;}}this._fixed_height=_c;this._fixedrow_height=_b;};_pGrid.setFixedRow=function(_a){this._setFixedRow(_a,undefined);};_pGrid._setFixedRow=function(_a,_b){if(this._hasTree){return;}var _c=(_a<0)?false:true;var _d,_e=this._endrowpos;_d=this._fixed_startrow;if(_d<0){_d=this._toprowpos[0];}if(_a>=0&&(_a<_d||_a>_e)){return;}if(_c){if(this._fixed_height){this._setFixedRow( -1);}}var _f=this._bodyBand;if(_c){var _g=this._getGridRowCount();var _h=this._toprowpos[0];var _i=0,_j=0;var _k=false;var _l=0;for(var _m=0;_m<_g;_m++ ){this._fixed_rowcnt++ ;_l=this._getRowSize(_m);_j+=_l;if(_m>=_h){if(this._fixed_startrow<0){this._fixed_startrow=_m;}_i+=_l;_k=true;}if(_m>=_a){break;}}if(_k){this._fixedrow_height=_j;this._fixed_endrow=_a;this._fixed_height=_i;if(!_b){this._recreate_contents_all(false,false,true,true);}}else{this._fixed_startrow= -9;this._fixed_endrow= -9;this._fixed_height=0;this._fixedrow_height=0;this._fixed_rowcnt=0;}}else{var _d=this._fixed_startrow;this._fixed_endrow= -9;this._fixed_height=0;this._fixedrow_height=0;this._fixed_rowcnt=0;this._fixed_startrow= -9;if(!_b){this._recreate_contents_all(false,false,false,true);if(this.vscrollbar&&_d>=0){this.vscrollbar._set_rowpos(_d);}}}};_pGrid._getFixRowCnt=function(){return (this._bodyBand)?this._fixed_rowcnt:0;};_pGrid._checkInclude=function(_a,_b,_c,_d,_e){if(_a.start_column<=_c&&_a.end_column>=_c){if(_a.start_row<=_d&&_a.end_row>=_d){if(_e==undefined||_a.start_subrow==undefined){return true;}else{if(_a.start_row<_d&&_a.end_row>_d){return true;}if(_a.start_row==_a.end_row){if(_a.start_subrow<=_e&&_a.end_subrow>=_e){return true;}}else{if(_a.start_row==_d){if(_a.start_subrow<=_e&&_b>_e){return true;}}if(_a.end_row==_d){if(0<=_e&&_a.end_subrow>=_e){return true;}}}}}}return false;};_pGrid._getFakeMergeCellInfos=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=[];var _j,_k,_l,_m;for(var _n=0;_n<_a.length;_n++ ){col1=_a[_n]._col;colspan=_a[_n]._colspan;col2=col1+colspan-1;row1=_a[_n]._row;rowspan=_a[_n]._rowspan;row2=row1+rowspan-1;if((_b<=col1&&_c>=col1)||(_b<=col2&&_c>=col2)||(col1<=_b&&col2>=_b)||(col1<=_c&&col2>=_c)){if(_d>=0){_j=_d*_h+row1;_k=_d*_h+_f;_l=_e*_h+row2;_m=_e*_h+_g;}else{_j=row1;_k=_f;_l=row2;_m=_g;}if((_k<=_j&&_m>=_j)||(_k<=_l&&_m>=_l)||(_j<=_k&&_l>=_k)||(_j<=_m&&_l>=_m)){_i.push(_a[_n]);}}}return _i;};_pGrid.setFakeMerge=function(_a,_b,_c,_d,_e,_f){this._setFakeMerge(_a,_c,_e,_b,_d,_f,false);};_pGrid._getFakeMergeCellObjs=function(_a){var _b;var _c=[];var _d=this._curFormat;var _e;if(_a.start_row== -1){_b=this._headBand;_e=_d._headrows.length;}else if(_a.start_row== -2){_b=this._summBand;_e=_d._summrows.length;}else if(_a.start_row>=0){_b=this._bodyBand;_e=_d._bodyrows.length;}if(!_b){return _c;}var _f=_b._get_rows();var _g;var _h=_a.start_column;var _i=_a.end_column;var _j=_a.start_row;var _k=_a.end_row;var _l=_a.start_subrow;var _m=_a.end_subrow;var _n;var _o,_p,_q,_r;var _s;for(var _t=0;_t<_f.length;_t++ ){_n=this._getDataRow(_f[_t]._rowidx);if(_n>=_j&&_n<=_k){_g=_f[_t]._cells;for(var _u=0;_u<_g.length;_u++ ){_s=_g[_u]._refobj;if(_s._col>=_h&&_s._col<=_i){if(_l==undefined){_c.push(_g[_u]);}else{if(_j>=0){_o=_n*_e+_s._row;_p=_j*_e+_l;_q=_n*_e+_s._row+_s._rowspan-1;_r=_k*_e+_m;}else{_o=_s._row;_p=_l;_q=_s._row+_s._rowspan-1;_r=_m;}if((_p<=_o&&_r>=_o)||(_p<=_q&&_r>=_q)||(_o<=_p&&_q>=_p)||(_o<=_r&&_q>=_r)){_c.push(_g[_u]);}}}}}}return _c;};_pGrid._is_use_fakemerge=false;_pGrid._setFakeMerge=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._curFormat;var _i;var _j;var _k;if(_a>_d||_a<0||_d<0){return false;}if(_b== -1||_e== -1){if(_b!=_e){return false;}if(!_h._headrows){return false;}_i=_h._headcells;_j=_h._headrows.length;_k="head";if(_f<_c){return false;}}else if(_b== -2||_e== -2){if(_b!=_e){return false;}if(!_h._summrows){return false;}_i=_h._summcells;_j=_h._summrows.length;_k="summ";if(_f<_c){return false;}}else{if(_b<0||_e<0){return false;}if(_b>_e){return false;}if(!_h._bodyrows){return false;}_i=_h._bodycells;_j=_h._bodyrows.length;_k="body";}if(_c==undefined){_c=0;}if(_f==undefined){_f=_j-1;}if(_j<=_c||_j<=_f){return false;}var _l,_m,_n,_o=false;var _p,_q,_r;var _s=[];var _t=null;var _u,_v,_w,_x;for(var _ac=0;_ac<_i.length;_ac++ ){_t=_i[_ac];_l=_t._col;_m=_t._colspan;_n=_l+_m-1;_p=_t._row;_q=_t._rowspan;_r=_p+_q-1;if((_a<=_l&&_d>=_l)||(_a<=_n&&_d>=_n)||(_l<=_a&&_n>=_a)||(_l<=_d&&_n>=_d)){if(_b>=0){_u=_b*_j+_p;_v=_b*_j+_c;_w=_e*_j+_r;_x=_e*_j+_f;}else{_u=_p;_v=_c;_w=_r;_x=_f;}if((_v<=_u&&_x>=_u)||(_v<=_w&&_x>=_w)||(_u<=_v&&_w>=_v)||(_u<=_x&&_w>=_x)){if(_t.suppress!=0){return false;}var _ae=false;if(_t._colspan>1){var _af=_t._col+_t._colspan-1;if(_t._col<_a){_ae=true;_a=_t._col;}if(_af>_d){_ae=true;_d=_af;}}if(_t._rowspan>1){if(_u<_v){_ae=true;_c=_t._row;}if(_w>_x){_ae=true;_f=_t._row+_t._rowspan-1;}}if(_ae==true){_s=[];_ac=0;}_s.push(_t);}}}var _y={start_column:_a,start_row:_b,start_subrow:_c,end_column:_d,end_row:_e,end_subrow:_f,cellinfos:_s};var _z=this._fake_mergecell_arr;var _aa=_z.length;var _ab;var _ac=0;var _ad=[];for(;_ac<_aa;_ac++ ){if(this._checkInclude(_z[_ac],_j,_a,_b,_c)){_ad.push(_ac);}else if(this._checkInclude(_z[_ac],_j,_a,_e,_f)){_ad.push(_ac);}else if(this._checkInclude(_z[_ac],_j,_d,_b,_c)){_ad.push(_ac);}else if(this._checkInclude(_z[_ac],_j,_d,_e,_f)){_ad.push(_ac);}else if(this._checkInclude(_y,_j,_z[_ac].start_column,_z[_ac].start_row,_z[_ac].start_subrow)){_ad.push(_ac);}else if(this._checkInclude(_y,_j,_z[_ac].start_column,_z[_ac].end_row,_z[_ac].end_subrow)){_ad.push(_ac);}else if(this._checkInclude(_y,_j,_z[_ac].end_column,_z[_ac].start_row,_z[_ac].start_subrow)){_ad.push(_ac);}else if(this._checkInclude(_y,_j,_z[_ac].end_column,_z[_ac].end_row,_z[_ac].end_subrow)){_ad.push(_ac);}}if(_ad.length==0){for(var _ac=0;_ac<_s.length;_ac++ ){if(_s[_ac]._fakemerge_infos==null){_s[_ac]._fakemerge_infos=[];}}_z.push(_y);this._is_use_fakemerge=true;for(var _ac=0;_ac<_s.length;_ac++ ){_h._clearCellStyleCache(_k,_s[_ac]._cellidx);this._refreshCell(_k,_s[_ac]._cellidx, -1,true);}}else{if(_g){return false;}for(var _ac=0;_ac<_ad.length;_ac++ ){var _ag=_ad[_ac];var _ah=_z.splice(_ag-_ac,1)[0];var _ai=this._getFakeMergeCellInfos(_i,_ah.start_column,_ah.end_column,_ah.start_row,_ah.end_row,_ah.start_subrow,_ah.end_subrow,_j);for(var _aj=0;_aj<_ai.length;_aj++ ){for(var _ak=_ah.start_row;_ak<=_ah.end_row;_ak++ ){_ai[_aj]._fakemerge_infos[_ak+2]=undefined;}_h._clearCellStyleCache(_k,_ai[_aj]._cellidx);this._refreshCell(_k,_ai[_aj]._cellidx, -1,true);}for(var _aj=0;_aj<_s.length;_aj++ ){for(var _ak=_b;_ak<=_e;_ak++ ){_s[_aj]._fakemerge_infos[_ak+2]=undefined;}_h._clearCellStyleCache(_k,_s[_aj]._cellidx);this._refreshCell(_k,_s[_aj]._cellidx, -1,true);}}if(_z.length==0){this._is_use_fakemerge=false;}}this._adjustOverlayElements(false,false,true);return true;};_pGrid._checkFakeMerge=function(_a,_b){if(!_a._fakemerge_infos){return "";}if(_a._fakemerge_infos[_b+2]){return _a._fakemerge_infos[_b+2];}var _c=this._fake_mergecell_arr;var _d=_c.length;var _e;var _f=this._curFormat;var _g;if(_b== -1){_e=(_f._headrows)?_f._headrows.length:0;_g="head";}else if(_b== -2){_e=(_f._summrows)?_f._summrows.length:0;_g="summ";}else if(_b>=0){_e=(_f._bodyrows)?_f._bodyrows.length:0;_g="body";}if(!_e){return "";}if(_d==0){return "";}var _h=_a._col,_i=_a._col+_a._colspan-1,_j=_a._row,_k=_a._row+_a._rowspan-1,_l=_a._area;for(var _m=0;_m<_d;_m++ ){if(this._checkInclude(_c[_m],_e,_h,_b,_j)){if(this._checkInclude(_c[_m],_e,_i,_b,_j)){if(this._checkInclude(_c[_m],_e,_h,_b,_k)){if(this._checkInclude(_c[_m],_e,_i,_b,_k)){var _n="";if(_l!="right"){if(_i<_c[_m].end_column){_n+="right";}}else{if(_h>_c[_m].start_column){_n+="left";}}if(_g!="summ"){if(_b<_c[_m].end_row){_n+="bottom";}else if(_b==_c[_m].end_row){if(_c[_m].end_subrow==undefined&&_k<_e-1){_n+="bottom";}else if(_k<_c[_m].end_subrow){_n+="bottom";}}}else{if(_b>_c[_m].start_row){_n+="top";}else if(_b==_c[_m].start_row){if(_c[_m].start_subrow==undefined&&_j>0){_n+="top";}else if(_j>_c[_m].start_subrow){_n+="top";}}}_n+="fake";_a._fakemerge_infos[_b+2]=_n;return _n;}}}}}return "";};_pGrid._on_last_lbuttonup=function(_a){if(this._movingcell){this._setGlobalCursor(null,this);this._movingcell=null;}this._is_down_act=false;this._clearDestroyEditor(true);var _b=this._after_recreate_contents_all;if(_b!=null){this._is_after_recreate=true;this._recreate_contents_all(_b[0],_b[1],_b[2],_b[3],_b[4]);this._after_recreate_contents_all=null;this._is_after_recreate=false;}};_pGrid._on_last_keyup=function(_a){this._is_down_act=false;this._clearDestroyEditor(true);var _b=this._after_recreate_contents_all;if(_b!=null){this._is_after_recreate=true;this._recreate_contents_all(_b[0],_b[1],_b[2],_b[3],_b[4]);this._after_recreate_contents_all=null;this._is_after_recreate=false;}};_pGrid._common_fire_sys_lbuttonup=function(_a,_b,_c,_d){if(!this._is_alive){return;}if(!this.enable){return true;}if(_a&&_a._type_name=="GridCell"){var _e=this._getDataRow(_a._rowidx);if(this._isFakeCell(_e)){this._is_drag_selectstart=false;this._is_drag_selecting=false;this._is_drag_sameselect=false;return true;}if(_c==false&&_d==false&&this._is_drag_selecting==false&&_e>=0){if(this._isMultiSelected()){if(this._isIncludeSelectpos(_a._cellidx,_e)){this._clrMultiSelect();this._refreshAll(true);this._ChangeSelect(this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.curdsrow,this._selectinfo.cursubrow,this._selectinfo.curpvt,false,this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.curdsrow,this._selectinfo.cursubrow,this._selectinfo.curpvt,"body","lbuttonup");}}}}this._is_drag_selectstart=false;this._is_drag_selecting=false;this._is_drag_sameselect=false;this._execRefreshContents("colsizing",false,true);this._execRefreshContents("rowsizing",false,false);this._execRefreshContents("cellmoving",true);this._exeFuncQueue("colsizing");this._exeFuncQueue("rowsizing");};_pGrid._is_down_act=false;_pGrid._cancelEvent=function(_a){this._endExtraTrack();this._is_drag_selectstart=false;this._is_drag_selecting=false;this._is_down_act=this._isDownActionKeyMouse();};_pGrid.on_fire_user_ontouchend=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchend(_a,_b,_c,_d,true,_e);};_pGrid.on_fire_sys_ontouchend=function(_a,_b,_c,_d,_e){return this.on_fire_ontouchend(_a,_b,_c,_d,false,_e);};_pGrid.on_fire_ontouchend=function(_a,_b,_c,_d,_e,_f){var _g=_d;_g=this._findCellObj(_g);this._recalcTouchInfosXY(_g,_b,_f);var _h;if(_g&&_g._type_name=="GridCell"){if(_g.parentcell){_h=_g;_g=_g.parentcell;}}var _i=false;if(this.ontouchend&&this.ontouchend._has_handlers){var _j=this._makeEventInfo(_g,_h,_d);var _k=_j.cell;var _l=_j.col;var _m=_j.mergecell;var _n=_j.mergecol;var _o=_j.mergerow;var _p=_j.pivotindex;var _q=_j.row;var _r=_j.subrow;var _s=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);if(_e){_i=this.ontouchend._fireUserEvent(this,_s);}else{_i=this.ontouchend._fireSysEvent(this,_s);}}if(!_e){this._common_fire_sys_lbuttonup(_g,false,false,false);}return _i;};_pGrid._isCheckAlive=function(_a){var _b=_a;while(_b!=this){if(!_b||_b._is_alive==false){return false;}_b=_b.parent;}return true;};_pGrid._on_afterHideWaitComp=function(_a){if(this._currentCellEditor){this._currentCellEditor._setFocus(false);}};_pGrid.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){return this.on_fire_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,true,_n);};_pGrid.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){return this.on_fire_onlbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,false,_n);};_pGrid.on_fire_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this._focus_proc){if(!this._showEditing){if(this._isCheckAlive(this._focus_proc.parent)){var _t=false;if(this._scrollpixel=="all"){_t=true;}this._focus_proc.parent._showfull(_t);this._focus_proc.parent._setFocus(false);}}else if(this._currentCellEditor.setCaretPos){if(this._currentCellEditor.autoselect){this._currentCellEditor.setSelect(0, -1);}else{this._currentCellEditor.setCaretPos(0);}}this._focus_proc=null;}var _p=_l;_p=this._findCellObj(_p);var _q;if(_p&&_p._type_name=="GridCell"){if(_p.parentcell){_q=_p;_p=_p.parentcell;}}var _r=this._recalcXY(_p,_g,_h,_o);_g=_r.canvasX;_h=_r.canvasY;_i=_r.clientX;_j=_r.clientY;var _s=false;if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _u=this._makeEventInfo(_p,_q,_l);var _v=this._getRootComponent(_l);var _w=_u.cell;var _x=_u.col;var _y=_u.mergecell;var _z=_u.mergecol;var _aa=_u.mergerow;var _ab=_u.pivotindex;var _ac=_u.row;var _ad=_u.subrow;var _ae=new nexacro.GridMouseEventInfo(_v,"onlbuttonup",_w,_x,_y,_z,_aa,_ab,_ac,_ad,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_n){_s=this.onlbuttonup._fireUserEvent(this,_ae);}else{_s=this.onlbuttonup._fireSysEvent(this,_ae);}}if(!_n){if(_p&&_p._type_name=="GridCell"&&_p._band.id=="body"){if(this.selectchangetype=="up"){if(this.selecttype!="area"&&this.selecttype!="multiarea"){if(!this._is_drag_selecting){this._mouseSelection(_p,_c,_d,_g,_h,_k,_l);this._endExtraTrack();}}}}this._common_fire_sys_lbuttonup(_p,_b,_c,_d);this._resizerStart(_g,_h,_p,"up");}return _s;};_pGrid.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_l;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_l);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onrbuttonup",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onrbuttonup._fireUserEvent(this,_z);}return false;};_pGrid.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,true);};_pGrid.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.on_fire_onmouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false);};_pGrid.on_fire_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=_l;_n=this._findCellObj(_n);var _o;if(_n&&_n._type_name=="GridCell"){if(_n.parentcell){_o=_n;_n=_n.parentcell;}}var _p=this._recalcXY(_n,_g,_h,false);_g=_p.canvasX;_h=_p.canvasY;_i=_p.clientX;_j=_p.clientY;var _q=false;if(this.onmouseup&&this.onmouseup._has_handlers){var _r=this._makeEventInfo(_n,_o,_l);var _s=this._getRootComponent(_k);var _t=_r.cell;var _u=_r.col;var _v=_r.mergecell;var _w=_r.mergecol;var _x=_r.mergerow;var _y=_r.pivotindex;var _z=_r.row;var _aa=_r.subrow;var _ab=new nexacro.GridMouseEventInfo(_s,"onmouseup",_t,_u,_v,_w,_x,_y,_z,_aa,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_m){_q=this.onmouseup._fireUserEvent(this,_ab);}else{_q=this.onmouseup._fireSysEvent(this,_ab);}}if(!_m){if(_n&&_n._type_name=="GridCell"&&_n._band.id=="body"){if(this.selectchangetype=="up"){if(this.selecttype!="area"&&this.selecttype!="multiarea"){this._mouseSelection(_n,_c,_d,_g,_h,_k,_l);}}}this._common_fire_sys_lbuttonup(_n,_b,_c,_d);}return _q;};_pGrid._resizerStart=function(_a,_b,_c,_d){if(this._movingcell){return;}var _e=this._resizer_colctrl;var _f=this._resizer_rowctrl;if((_e&&_e._is_tracking)||(_f&&_f._is_tracking)){return;}var _g=_a;var _h=_b;var _i=_c._rowidx;var _j=_c._cellidx;if(_c._is_alive==false){if(_i== -1){_c=this._getCurrentHeadCell(_j,true);}else{_c=this._getCurrentBodyCell(_i,_j);}}if(!_c){return;}var _k=(_c._refobj)?_c._refobj._area:"";var _l=(_c._band)?_c._band.id:"";if(_k=="body"){_g+=this._getScrollLeft();}if(_l=="body"){if(!_c.parent._fixed){_h+=this._getScrollTop();}}var _m=false;if(_e&&!_e._is_tracking){var _n=nexacro._getCachedValueObj("col-resize");var _o=this._resizerColRange;var _p=_o.length;if(_p>0){_e._is_range=false;for(var _q=0;_q<_p;_q++ ){var _r=_o[_q];if(_g>=_r.left&&_g<=_r.right){if(_k!=_r.area){continue;}if(_h>=_r.top&&_h<=_r.bottom){this.a=_g;_e._is_range=true;_e._setIndex(_r.index);this._setGlobalCursor(_n,_c);_m=true;break;}}}}if(!_e._is_range&&!_e._is_tracking&&(!_f||!_f._is_tracking)){this._setGlobalCursor(null,_c);_m=false;}else if(_e._is_tracking){this._setGlobalCursor(_n,_c);_m=true;}}if(_m){return;}if(_f&&!_f._is_tracking){var _n=nexacro._getCachedValueObj("row-resize");var _o=this._resizerRowRange;var _p=_o.length;if(_p>0){_f._is_range=false;for(var _q=0;_q<_p;_q++ ){var _r=_o[_q];if(_h>=_r.top&&_h<=_r.bottom){if(_l!=_r.area){continue;}if(_g>=_r.left&&_g<=_r.right){_f._is_range=true;_f._setIndex(_r.index);this._setGlobalCursor(_n,_c);break;}}}}if(!_f._is_range&&!_f._is_tracking&&(!_e||!_e._is_tracking)){this._setGlobalCursor(null,_c);}else if(_f._is_tracking){this._setGlobalCursor(_n,_c);}}};_pGrid.on_fire_user_ontouchmove=function(_a,_b,_c,_d){var _e=_d;_e=this._findCellObj(_e);this._recalcTouchInfosXY(_e,_b,false);var _f;if(_e&&_e._type_name=="GridCell"){if(_e.parentcell){_f=_e;_e=_e.parentcell;}}var _g=false;if(this.ontouchmove&&this.ontouchmove._has_handlers){var _h=this._makeEventInfo(_e,_f,_d);var _i=_h.cell;var _j=_h.col;var _k=_h.mergecell;var _l=_h.mergecol;var _m=_h.mergerow;var _n=_h.pivotindex;var _o=_h.row;var _p=_h.subrow;var _q=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);_g=this.ontouchmove._fireUserEvent(this,_q);}return _g;};_pGrid.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_l;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;var _p=false;if(this.onmousemove&&this.onmousemove._has_handlers){var _q=this._makeEventInfo(_m,_n,_l);var _r=this._getRootComponent(_l);var _s=_q.cell;var _t=_q.col;var _u=_q.mergecell;var _v=_q.mergecol;var _w=_q.mergerow;var _x=_q.pivotindex;var _y=_q.row;var _z=_q.subrow;var _aa=new nexacro.GridMouseEventInfo(_r,"onmousemove",_s,_t,_u,_v,_w,_x,_y,_z,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);_p=this.onmousemove._fireUserEvent(this,_aa);}if(!nexacro.isTouchInteraction){this._resizerStart(_g,_h,_m,"move");}return _p;};_pGrid._prevAreaCellObj=null;_pGrid._areaselectMove=function(_a,_b,_a,_c){if(this._is_drag_selectstart&&!this._showEditing){var _d=_b;_d=this._findCellObj(_d);var _e,_f;if(_d&&_d._type_name=="GridCell"){if(_d.parentcell){_e=_d;_d=_d.parentcell;}var _g=this._recalcXY(_d,_a,_c,false);_a=_g.canvasX;_c=_g.canvasY;clientX=_g.clientX;clientY=_g.clientY;if((this._prevAreaCellObj==_d)&&!this._fixed_row_scrolling){return;}_f=_d._refobj._area;var _h=this._getDataRow(_d._rowidx);if(_h==undefined){_h=0;}if(this._isFakeCell(_h)||_h<0){return true;}var _i=this._beforebodycellpos=this._selectinfo.curcell;var _j=this._beforebodycolpos=this._selectinfo.curcol;var _k=this._beforebodyrowpos=this._selectinfo.curdsrow;var _l=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _m=this._beforepvt=this._selectinfo.curpvt;var _n=_d._cellidx;var _o=_d._refobj._col;var _p=_h;var _q=_d._refobj._row;var _r= -9;if(_e){_o+=_e._refobj._col;}if(this._fixed_rowcnt>0){var _s=this._fixed_startrow;var _t=this._fixed_endrow;var _u=this._selectinfo;if(_u.area.length>0){var _v=_u.area[_u.area.length-1];var _w=_v.begrow;var _x=_v.endrow;var _y=this.vscrollbar.pos;var _z=this._getScrollTop();var _aa="";if(_p<_k){_aa="up";}else if(_p>_k){_aa="down";}else{_aa="keep";}if(_aa=="up"){this._fixed_row_scrolling=true;if(_x>_p&&_p<=_t&&_x>_t){this.vscrollbar.set_pos(_y-1);}else{this._fixed_row_scrolling=false;}}else if(_aa=="down"){if(_w<=this._fixed_endrow&&_x<=this._fixed_endrow){this._fixed_row_scroll_zeroset=true;}else{this._fixed_row_scroll_zeroset=false;}if(this._fixed_row_scroll_zeroset&&_p&&(_p<=0||(_p<=this._fixed_endrow&&_x>this._fixed_endrow)||(_p>this._fixed_endrow&&_w<=this._fixed_endrow))){if(_y>0){this.vscrollbar.set_pos(0);this._fixed_row_scroll_zeroset=false;return;}}}else{if(_y==0){this._fixed_row_scrolling=false;}else if(this._fixed_row_scrolling){this.vscrollbar.set_pos(_y-1);}}}}if(this._fixed_rowcnt>0){var _s=this._fixed_startrow;var _t=this._fixed_endrow;var _u=this._selectinfo;if(_u.area.length>0){var _v=_u.area[_u.area.length-1];var _w=_v.begrow;var _x=_v.endrow;var _y=this.vscrollbar.pos;var _z=this._getScrollTop();var _aa="";if(_p<_k){_aa="up";}else if(_p>_k){_aa="down";}else{_aa="keep";}if(_aa=="up"){this._fixed_row_scrolling=true;if(_x>_p&&_p<=_t&&_x>_t){this.vscrollbar.set_pos(_y-1);}else{this._fixed_row_scrolling=false;}}else if(_aa=="down"){if(_w<=this._fixed_endrow&&_x<=this._fixed_endrow){this._fixed_row_scroll_zeroset=true;}else{this._fixed_row_scroll_zeroset=false;}if(this._fixed_row_scroll_zeroset&&_p&&(_p<=0||(_p<=this._fixed_endrow&&_x>this._fixed_endrow)||(_p>this._fixed_endrow&&_w<=this._fixed_endrow))){if(_y>0){this.vscrollbar.set_pos(0);this._fixed_row_scroll_zeroset=false;return;}}}else{if(_y==0){this._fixed_row_scrolling=false;}else if(this._fixed_row_scrolling){this.vscrollbar.set_pos(_y-1);}}}}while(true){if(this.selecttype=="multirow"&&_p==_k){break;}this._setSelectedInfo(_n,_o,_p,_q,_r);this._ChangeSelect(_n,_o,_p,_q,_r,false,_i,_j,_k,_l,_m,_d._band.id,"mousemove");break;}this._prevAreaCellObj=_d;}}};_pGrid._on_start_extratrack=function(_a,_b,_c,_d,_e){var _f=this._getScrollLeft();var _g=this._getScrollTop();this._track_point.x=_c;this._track_point.y=_d;this._track_point.w=0;this._track_point.h=0;this._track_point.cur_rect={l:0,t:0,w:0,h:0};this._track_start_info={};this._track_start_info.target=this._lastmouseentercell;this._track_start_info.cell_screenX=system.clientToScreenX(this._lastmouseentercell,0);this._track_start_info.cell_screenY=system.clientToScreenY(this._lastmouseentercell,0);this._track_start_info.start_screenX=_c;this._track_start_info.start_screenY=_d;this._track_start_info.scrollLeft=_f;this._track_start_info.scrollTop=_g;this._track_start_info._start_begarea=this._selectinfo.arearect.barea;this._track_start_info._start_endarea=this._selectinfo.arearect.earea;var _h=this._getSelectRect(false,true);var _i=this._getExtraTrackSelectRect(_c,_d,0,0,true);if(!_e){this._startAreaSizing(_i,_i.idx);}this._track_mode="areaselect";};_pGrid._on_move_extratrack=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._getRootComponent(_a);if(_h!=this||_a&&(_h==this&&_a instanceof nexacro.GridCell&&(_a._band.id=="head"||_a._band.id=="summ"))||(_h==this&&_a instanceof nexacro.GridRow&&_a._band.id=="body")||(_h==this&&_a.id=="body")){var _i=this._getExtraTrackSelectRect(_f,_g,_d,_e,false);var _j=_i.idx;var _k=this._getTrackType(this._track_start_info,_i.l,_i.t,_i.w,_i.h,_j,false);var _l=this._selectinfo.area;if(this._fixed_rowcnt>0&&_l.length){var _m=_l[_l.length-1];var _n=_m.begrow;var _o=_m.endrow;var _p=this._selectinfo.ctrlpoint;var _q=_p.row;var _r=_p.col;var _s=this.currentstyle.border;var _t=(_s)?parseInt(_s.right_width,10):0;var _u=this._getHeadHeight();var _v=this._fixed_height;var _w=_u+_v+_t;var _x=this._fixed_startrow;var _y=this._fixed_endrow;var _z=_i.t;var _aa=_i.h;var _ab=this._getScrollTop();var _ac=this.vscrollbar;if(_n<=_y&&_o<=_y&&_ab>0&&(_z+_aa)>_w){_ac.set_pos(0);}else if(_n<=_y&&_o>=_y&&_ab>0&&(_z+_aa)<=_w){_ac.set_pos(_ac.pos-1);}else if(_p.row>_y&&_ab>0&&_z<=_w){_ac.set_pos(_ac.pos-1);}}this._applySelectorScroll(_k.type);this._applyAreaSizing(_i,_j);var _ad=this._getSelectRect(false,true);this._extratrack_typeinfo=_k;this._extratrack_rectinfo=_i;this._extratrack_idx=_j;var _ae=500;var _af=10;function getTimerInterval(_a){var _ag=_ae;var _ah=nexacro.System.clientToScreenX(_a,0);var _ai=nexacro.System.clientToScreenY(_a,0);var _aj=_ah+parseInt(_a._adjust_width);var _ak=_ai+parseInt(_a._adjust_height);var _al=(_f<_ah)?(_ah-_f):(_f-_aj);var _am=(_g<_ai)?(_ai-_g):(_g-_ak);if(_al>=0){_ag=_ag-(_al*10);return _ag>0?_ag:1;}if(_am>=0){_ag=_ag-(_am*10);return _ag>0?_ag:1;}return  -1;}var _ag=getTimerInterval(this);if(_ag>0&&_ag<_af){_ag=_af;}if(_ag>0){if(!this._extratrack_timer){this._extratrack_timer={};this._extratrack_timer._handle=null;this._extratrack_timer._interval=_ag;this._extratrack_timer._handle=new nexacro.CallbackTimer(this,function(){this._applySelectorScroll(this._extratrack_idx,this._extratrack_typeinfo.type);this._applyAreaSizing(this._extratrack_rectinfo,this._extratrack_idx);var _ad=this._getSelectRect(false,true);},_ag);this._extratrack_timer._handle.start();}else{if(this._extratrack_timer&&this._extratrack_timer._interval!=_ag){if(_ag>0){this._extratrack_timer._interval=_ag;this._extratrack_timer._handle.setInterval(_ag);this._extratrack_timer._handle.start();}else{this._extratrack_timer._handle.stop();}}}}}else{if(this._extratrack_timer){this._extratrack_timer._handle.stop();}}};_pGrid._on_end_extratrack=function(_a,_b,_c){var _d=this._select_ctrl;this._track_start_info=null;this._track_idx= -1;this._track_mode="";if(this._extratrack_timer){this._extratrack_timer._handle.stop();this._extratrack_timer._handle=null;this._extratrack_timer=null;}var _e=this._getSelectRect(false,true);};_pGrid._endExtraTrack=function(){this._on_end_extratrack();nexacro._cur_extra_track_info=null;};_pGrid._trackingHScroll=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=[0,0];if(!this.hscrollbar){return _j;}var _k=this.hscrollbar;if(_a==0||_a==2){if(_d=="right"){if(_b<_g&&_b>_f){_k.set_pos(_i);}}else if(_d=="left"){if(_b>_f&&_b<_g){_k.set_pos(0);_j[1]=_h;}}}else{if(_e=="left"){if(_c>_f&&_c<_g){_k.set_pos(0);}}else if(_e=="right"){if(_c<_g&&_c>_f){_k.set_pos(_i);_j[0]=_h-_i;_j[1]=_i-_h;}}}return _j;};_pGrid._getTrackType=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j,_k;var _l=this;var _m=_l._curFormat;var _n=["",""];var _o=_l._selectinfo.ctrlpoint.area;var _p=_m.leftWidth;var _q=_l._client_width-_m.rightWidth;var _r=_m.leftWidth+_m.bodyWidth;var _s=_l._getScrollLeft();var _t=_l._getScollMaxLeft();var _u=_b+_d;var _v=_l._getHeadHeight();var _w=_l._fixed_height;var _x=_v+_w;if(_g){if(_o=="left"){_h=0;_i=_p;}else if(_o=="right"){_h=_q;_i=_l._client_width;}else{_h=_p;_i=(_r<_q)?_r:_q;}}else{var _y=this._trackingHScroll(_f,_b,_u,_p,_a._start_begarea,_a._start_endarea,_q,_s,_t);_b+=_y[0];_d+=_y[1];_u=_b+_d;if(_o=="left"){_h=0;if(_s==_t){_i=(_r<_l._client_width)?_r:_l._client_width;}else{_i=(_r<_q)?_r:_q;}}else if(_o=="right"){if(_s==0){_h=0;}else{_h=_p;}_i=_l._client_width;}else{if(_s==0){_h=0;}else{_h=_p;}if(_s==_t){_i=(_r<_l._client_width)?_r:_l._client_width;}else{_i=(_r<_q)?_r:_q;}}}_j=this._bodyBand._adjust_top;_k=this._bodyBand._getPosBottom();if(_f==0){if(_b<_h){_d-=(_h-_b);_b=_h;if(this._start_begarea!="left"){_n[0]="leftover0";}}else if(_b>_i||(_s<_t&&_b>_q)){_n[0]="rightover0";}if(_l._fixed_rowcnt>0){if(_c<(_w+_v)){_n[1]="topover0";}else if(_c>_k){_n[1]="bottomover0";}}else{if(_c<_j){_e-=(_j-_c);_c=_j;_n[1]="topover0";}else if(_c>_k){_n[1]="bottomover0";}}if(_d<=0){_b+=_d-1;}if(_e<=0){_c+=_e-1;}}else if(_f==1){var _z=_b+_d,_aa=_c+_e;if(_z<_h||(_s>0&&_z<_p)){_n[0]="leftover1";}else if(_z>_i){_d=_i-_b;if(this._start_endarea!="right"){_n[0]="rightover1";}}if(_aa<_j){_n[1]="topover1";}else if(_aa>_k){_e=_k-_c;_n[1]="bottomover1";}}else if(_f==2){var _aa=_c+_e;if(_b<_h){_d-=(_h-_b);_b=_h;if(this._start_begarea!="left"){_n[0]="leftover0";}}else if(_b>_i||(_s<_t&&_b>_q)){_n[0]="rightover0";}if(_aa<_j||_aa>_x){_n[1]="topover1";}else if(_aa>_k){_e=_k-_c;_n[1]="bottomover1";}}else if(_f==3){var _z=_b+_d;if(_z<_h||(_s>0&&_z<_p)){_n[0]="leftover1";}else if(_z>_i){_d=_i-_b;if(this._start_endarea!="right"){_n[0]="rightover1";}}if(_c<_j){_n[1]="topover1";}else if(_c>_k){_e=_k-_c;_n[1]="bottomover1";}}return {type:_n,adjust_l:_b,adjust_t:_c,adjust_w:_d,adjust_h:_e};};_pGrid._getExtraTrackSelectRect=function(_a,_b,_c,_d,_e){var _f=1;var _g=this._track_start_info;var _h=_g.start_screenX;var _i=_g.start_screenY;var _j=_g.cell_screenX;var _k=_g.cell_screenY;var _l=_g.scrollLeft;var _m=_g.scrollTop;var _n=_g.target.width;var _o=_g.target.height;var _p=_g.target._rowidx;var _q=_k-_i;var _r=_k-_i+_o;var _s=_h-_j;var _t=_j-_h+_n;var _u=this._getScrollLeft();var _v=this._getScrollTop();var _w=_u-_l;var _x=_v-_m;var _y=_x;var _z=system.clientToScreenX(this,0);var _aa=system.clientToScreenY(this,0);var _ab=true;if(this._fixed_rowcnt>0&&_p>=this._fixed_startrow&&_p<=this._fixed_endrow){_ab=false;}if(!_ab){_y=0;}if(_a<(_h-_w)&&_b<(_i-_y)){_f=0;}else if(_a>(_h-_w)&&_b>(_i-_y)){_f=1;}else if(_a<(_h-_w)&&_b>(_i-_y)){_f=2;}else if(_a>(_h-_w)&&_b<(_i-_y)){_f=3;}var _ac=_c;var _ad=_d;var _ae=new Array(2);var _af=this.currentstyle.border;var _ag=(_af)?parseInt(_af.left_width,10):0;var _ah=(_af)?parseInt(_af.right_width,10):0;var _ai=(_af)?parseInt(_af.right_width,10):0;var _aj=(_af)?parseInt(_af.right_width,10):0;var _ak,_al,_am,_an;if(_f==0){_ak=this._track_point.x-_z+_ac;_al=this._track_point.y-_aa+_ad;_am= -(_ac);_an= -(_ad)-(_ab?_x:0);}else if(_f==1){_ak=this._track_point.x-_z-_w;_al=this._track_point.y-_aa-(_ab?_x:0);_am=_ac+_w;_an=_ad+(_ab?_x:0);}else if(_f==2){_ak=this._track_point.x-_z+_ac;_al=this._track_point.y-_aa-(_ab?_x:0);_am= -(_ac)-_w;_an=_ad+(_ab?_x:0);}else if(_f==3){_ak=this._track_point.x-_z-_w;_al=this._track_point.y-_aa+_ad;_am=_ac+_w;_an= -(_ad)-(_ab?_x:0);}return {idx:_f,l:_ak,t:_al,w:_am,h:_an};};_pGrid.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!this.enable){return true;}return this._areaselectMove(_g,_l,_g,_h);};_pGrid._setSelectedInfo=function(_a,_b,_c,_d,_e,_f){if(_a!==null){this._selectinfo.curcell=this.currentcell=_a;}if(_b!==null){this._selectinfo.curcol=this.currentcol=_b;}if(_c!==null){this._selectinfo.curdsrow=this._currentDSrow=_c;this._selectinfo.currow=this.currentrow=(_c<0)?_c:this._getTreeRowPosition(_c);}if(_d!==null){this._selectinfo.cursubrow=this.currentsubrow=_d;}if(_e!==null){this._selectinfo.curpvt=this.currentpivot=_e;}if(_f){this._selectinfo.areainfo=null;this._selectinfo.areainfo={srow:_f.srow,erow:_f.erow,scell:_f.scell,ecell:_f.ecell,scol:_f.scol,ecol:_f.ecol,ssubrow:_f.ssubrow,esubrow:_f.esubrow,spvt:_f.spvt,epvt:_f.epvt};}};_pGrid._is_drag_selecting=false;_pGrid._on_grid_lbuttondown=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}if(!this.enable){return true;}var _f=this._getDataRow(_a._rowidx);if(_f==undefined){_f=0;}if(this._isFakeCell(_f)||_f<0){return true;}var _g=this._beforebodycellpos=this._selectinfo.curcell;var _h=this._beforebodycolpos=this._selectinfo.curcol;var _i=this._beforebodyrowpos=this._selectinfo.curdsrow;var _j=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _k=this._beforepvt=this._selectinfo.curpvt;var _l=_a._cellidx;var _m=_a._refobj._col;var _n=_f;var _o=_a._refobj._row;var _p= -9;var _q=_a.parentcell;this._prevAreaCellObj=_a;if(_q){_l=_q._cellidx;_m+=_q._refobj._col;this._prevAreaCellObj=_q;}if(!_e){this._setSelectedInfo(_l,_m,_n,_o,_p);}if(_c==true){if(this._isMultiSelect()){this._multiselect="ctrl";}else{this._multiselect="none";}}else if(_d==true){if(this._isMultiSelect()||this._isAreaSelect()){this._multiselect="shift";}else{this._multiselect="none";}}else{if(this._multiselect!="none"){this._selectClear=true;}this._multiselect="none";}if((this._isAreaSelect()||this._isMultiSelect())&&!nexacro.isTouchInteraction){this._is_drag_selectstart=true;}var _r=false;if(!_e){_r=this._ChangeSelect(_l,_m,_n,_o,_p,false,_g,_h,_i,_j,_k,_b,"lbuttondown");};if(!_r){this._is_drag_sameselect=true;}var _s=this._getWindow();if(!nexacro.isTouchInteraction&&(this._isAreaSelect()||this.selecttype=="multirow")){if(nexacro.Browser=="Runtime"){var _t=application.mainframe;var _u=system.clientToScreenX(_t,0)+_s._curWindowX;var _v=system.clientToScreenY(_t,0)+_s._curWindowY;nexacro._setExtraTrackInfo(_s,this,_s._curWindowX,_s._curWindowY,_u,_v,_d||_e);}else{nexacro._setExtraTrackInfo(_s,this,_s._curWindowX,_s._curWindowY,_s._cur_screen_pos.x,_s._cur_screen_pos.y,_d||_e);}}return _r;};_pGrid.on_fire_onselectchanged=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.onselectchanged&&this.onselectchanged._has_handlers){var _t=new nexacro.GridSelectEventInfo(_a,"onselectchanged",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s);return this.onselectchanged._fireEvent(this,_t);}return true;};_pGrid.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f){if(!this.enable){return true;}if(_d==false&&_c==false){if(_a!=nexacro.Event.KEY_SHIFT&&_a!=nexacro.Event.KEY_CTRL){this._multiselect="none";}}if(this._iskey_movetocell){this._moveCellAfterFocus();}this._iskey_movetocell=false;this._keydown_elem=null;var _g=nexacro.Component.prototype.on_fire_user_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(!this._is_alive){return ret;}if(_a==nexacro.Event.KEY_RIGHT&&_b){var _h=this._curFormat;if(_h){var _i=_h._bodycells;if(_i&&_i.length){var _j=this._getBodyCellInfo(this._selectinfo.curcell);if(_j){var _k=_j._getAttrValue(_j.expandshow,this._selectinfo.curdsrow);if(_k=="show"){if(this.onkeyup&&this.onkeyup.defaultprevented==true){}else{this.on_fire_onexpandup("none",_b,_c,_d, -1, -1, -1, -1, -1, -1,_e,_f);}}}}}}return _g;};_pGrid.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(this._is_down_act){this._on_last_keyup(true);}};_pGrid.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.AccessibilityUtil.checkComponentHotkey(this,_a,_b,_c,_d);if(_g){this._hideEditor();var _n=this.currentrow;switch(_g){case nexacro.AccessibilityUtil.Hotkey.FIRSTCELL:this.currentcell=0;this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}this._setAccessibilityBandFocus("next",false,true);break;case nexacro.AccessibilityUtil.Hotkey.LASTCELL:this.currentcell=this._getAccessibilityCellIndex()-1;this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(this.vscrollbar._max);}this._setAccessibilityBandFocus("prev",false,true);break;case nexacro.AccessibilityUtil.Hotkey.FIRSTCELLINROW:this.currentcol=0;this._moveToPosAccessibilityCell(_n,0);break;case nexacro.AccessibilityUtil.Hotkey.LASTCELLINROW:this.currentcol=this._curFormat._cols.length-1;this._moveToPosAccessibilityCell(_n,this.currentcol);break;case nexacro.AccessibilityUtil.Hotkey.FIRSTCELLINCOLUMN:this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}this._setAccessibilityBandFocus("next",false,true);break;case nexacro.AccessibilityUtil.Hotkey.LASTCELLINCOLUMN:this._currentBand="grid";if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(this.vscrollbar._max);}this._setAccessibilityBandFocus("prev",false,true);break;}return true;}if(!this.enable){return true;}var _h=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if((this.onkeydown&&this.onkeydown.defaultprevented==true)||!this._is_alive){return _h;}this._keydown_elem=this._getWindow()._keydown_element;var _i=false;if(this._isAreaSelect()){_i=true;}if(_d==true){if(_a==nexacro.Event.KEY_SHIFT){return _h;}if(this._isMultiSelect()||this._isAreaSelect()){this._multiselect="shift";}else{this._multiselect="none";}}else if(_c==true){if(_a==nexacro.Event.KEY_CTRL){return _h;}if(this._multiselect!="none"){this._selectClear=true;}this._multiselect="none";}else{if(this._multiselect!="none"){this._selectClear=true;}this._multiselect="none";}var _j=false;var _k=true;if(this._isChar(_a)&&this.autoenter=="key"){if(nexacro.Browser=="Runtime"){if(!this._showEditing){this._showEditor();if(this._currentCellEditor&&this._currentCellEditor._set_absolutelyValue){this._currentCellEditor._set_absolutelyValue("");}if(_a==nexacro.Event.KEY_ENTER){_j=true;}}}}if(_a==nexacro.Event.KEY_ENTER&&this._showEditing){var _o=this._currentCellEditor;var _p=_o._cellinfo._getEdittype(_o._cellobj._rowidx);if(_p=="textarea"&&(_b||_c||_d)){;}else if(_p=="text"||_p=="mask"||_p=="date"||_p=="combo"||_p=="masknumber"||_p=="textarea"){if(_o.calendaredit){_o.calendaredit._edit_base_api.syncValue();}else if(_o.comboedit){_o.comboedit._edit_base_api.syncValue();}else{_o._edit_base_api.syncValue();}_j=true;_k=false;_o._setDataset();this._hideEditor();}}var _l=_f;var _m="";if(_a==nexacro.Event.KEY_UP){if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(_c){if(this.vscrollbar&&this.vscrollbar.enable){var _q;if(this._scrollpixel=="all"){_q=this.vscrollbar.pos-25;}else{_q=this.vscrollbar.pos-1;}if(_q<0){_q=0;}this.vscrollbar.set_pos(_q);}}else{if(nexacro._enableaccessibility){_h=this._moveToAccessibilityCell("up",false);}else{this._moveToCell("up");}}}}else if(_a==nexacro.Event.KEY_DOWN){if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(_c){var _q;if(this._scrollpixel=="all"){_q=this.vscrollbar.pos+25;}else{_q=this.vscrollbar.pos+1;}if(_q>this.vscrollbar.max){_q=this.vscrollbar.max;}this.vscrollbar.set_pos(_q);}else{if(nexacro._enableaccessibility){_h=this._moveToAccessibilityCell("down",false);}else{this._moveToCell("down");}}}}else if(_a==nexacro.Event.KEY_SPACE){if(!nexacro._enableaccessibility||nexacro._enableaccessibility&&this._currentBand=="body"){var _r=this._curFormat;if(_r){var _s=_r._bodycells;if(_s&&_s.length){var _t=_s[this._selectinfo.curcell];if(_t){var _u=_t._getEdittype(this._selectinfo.curdsrow);if(_u=="checkbox"&&nexacro._toBoolean(this.readonly)==false){if(this._toggleVal(this._selectinfo.curdsrow,_t)){this._jumpCurrentRow(this._selectinfo.currow);}}}}}}}else if(_a==nexacro.Event.KEY_ENTER){if(!nexacro._enableaccessibility||nexacro._enableaccessibility&&this._currentBand=="body"){{var _u="";if(_f._type_name=="GridCell"){_u=_f._refobj._getEdittype(_f._rowidx);_m=_f._refobj._getValue(_f._rowidx);}else if(_f instanceof nexacro.GridControlCheckbox){_m=_f._cellinfo._getValue(_f._cellobj._rowidx);}else if(_f.parent instanceof nexacro.GridControlCheckbox){_m=_f.parent._cellinfo._getValue(_f.parent._cellobj._rowidx);}if(_f instanceof nexacro.GridControlEdit||_f instanceof nexacro.GridControlTextArea||_f instanceof nexacro.GridControlMaskEdit||_f instanceof nexacro.GridControlCheckbox||_f.parent instanceof nexacro.GridControlCheckbox||_u=="checkbox"||_f instanceof nexacro.GridControlCalendar||_f.parent instanceof nexacro.GridControlCalendar||_f instanceof nexacro.GridControlCombo||_f.parent instanceof nexacro.GridControlCombo){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_f instanceof nexacro.GridControlCombo){_l=_f.comboedit;}}if(this._showEditing||_u=="checkbox"){if(!_b&&!_c&&!_d){_j=true;}}else if(_k){nexacro.OnceCallbackTimer.callonce(this,function(){this._showEditor();});}}else{if(!this._showEditing){nexacro.OnceCallbackTimer.callonce(this,function(){this._showEditor();});}}}}}else if(_a==nexacro.Event.KEY_LEFT){var _r=this._curFormat;if(_r){var _s=_r._bodycells;if(_s&&_s.length){var _t=this._getBodyCellInfo(this._selectinfo.curcell);if(_t){var _u=_t._getEdittype(this._selectinfo.curdsrow);if(_u=="tree"&&this.treeuseexpandkey){this._is_editor_keyaction=false;this._setTreeState(this._selectinfo.currow,0,true);}else if(_u=="combo"&&_t._getAttrValue(_t.combotype,this._getDataRow(this._selectinfo.curdsrow))=="dropdown"){this._is_editor_keyaction=false;if(nexacro._enableaccessibility){_h=this._moveToAccessibilityCell("prev",false,undefined,_i);}else{this._moveToCell("prev",false,_i,undefined,undefined,true);}}}}if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(nexacro._enableaccessibility){_h=this._moveToAccessibilityCell("prev",false,undefined,_i);}else{this._moveToCell("prev",false,_i,undefined,undefined,true);}}}}else if(_a==nexacro.Event.KEY_RIGHT){var _r=this._curFormat;if(_r){var _s=_r._bodycells;if(_s&&_s.length){var _t=this._getBodyCellInfo(this._selectinfo.curcell);if(_t){var _u=_t._getEdittype(this._selectinfo.curdsrow);if(_u=="tree"&&this.treeuseexpandkey){this._is_editor_keyaction=false;this._setTreeState(this._selectinfo.currow,1,true);}else if(_u=="combo"&&_t._getAttrValue(_t.combotype,this._getDataRow(this._selectinfo.curdsrow))=="dropdown"){this._is_editor_keyaction=false;if(nexacro._enableaccessibility){_h=this._moveToAccessibilityCell("next",false,undefined,_i);}else{this._moveToCell("next",false,_i,undefined,undefined,true);}}else{var _v=_t._getAttrValue(_t.expandshow,this._selectinfo.curdsrow);if(_v=="show"&&_b){this._is_editor_keyaction=false;this.on_fire_onexpanddown("none",_b,_c,_d, -1, -1, -1, -1, -1, -1,_e,_f);}}}}if(this._isEditorKeyAction(this._keydown_elem,_f,_a,_b,_c,_d)==false){if(nexacro._enableaccessibility){_h=this._moveToAccessibilityCell("next",false,undefined,_i);}else{this._moveToCell("next",false,_i,undefined,undefined,true);}}}}else if(_a==nexacro.Event.KEY_PAGE_UP){if(this.vscrollbar&&this.vscrollbar.enable){var _q=this.vscrollbar._pos-this.vscrollbar.page;if(this._scrollpixel!="all"){_q=this.vscrollbar._scroll_reverse_convert(_q)[0];}if(_q<0){_q=0;}this.vscrollbar.set_pos(_q);}}else if(_a==nexacro.Event.KEY_PAGE_DOWN){if(this.vscrollbar&&this.vscrollbar.enable){var _q=this.vscrollbar._pos+this.vscrollbar.page;if(this._scrollpixel!="all"){_q=this.vscrollbar._scroll_reverse_convert(_q)[0];}if(_q>this.vscrollbar.max){_q=this.vscrollbar.max;}this.vscrollbar.set_pos(_q);}}else if(_a==nexacro.Event.KEY_TAB){this._keydown_elem._event_stop=true;if(nexacro._enableaccessibility){if(_d){this._acceptstab=this._moveToAccessibilityCell("prev",true);}else{this._acceptstab=this._moveToAccessibilityCell("next",true);}}else{if(_d==true){this._acceptstab=this._moveToCell("prev",true,false,undefined,undefined,true);}else{this._acceptstab=this._moveToCell("next",true,false,undefined,undefined,true);}}if(this._acceptstab&&this._iskey_movetocell){this._moveCellAfterFocus();this._iskey_movetocell=false;}return this._acceptstab;}else{if(this._isChar(_a)&&this.autoenter=="key"){if(nexacro.Browser=="Runtime"){if(!this._showEditing){this._showEditor();if(nexacro.Browser=="Gecko"){if(_j){this.on_fire_onenterdown(_a,_b,_c,_d,_e,_l,_m);}return true;}else if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){}}}}}if(_j){this.on_fire_onenterdown(_a,_b,_c,_d,_e,_l,_m);}return _h;};_pGrid.on_fire_allclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x){if((this.onlbuttondown&&this.onlbuttondown.defaultprevented==true)||(this.onlbuttonup&&this.onlbuttonup.defaultprevented==true)){return;}if(this._down_scroll_top>=0&&this._down_scroll_top!=this._last_scroll_top){return;}var _y=this[_b];if(_y&&_y._has_handlers&&this.enableevent){var _z=new nexacro.GridClickEventInfo(_a,_b,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w);_z.clickitem=_c;return _y._fireEvent(this,_z);}return true;};_pGrid._getByteLength_UTF8=function(_a,_b,_c,_d){for(_b=_c=0;_d=_a.charCodeAt(_c++ );_b+=_d>>11?3:_d>>7?2:1){}return _b;};_pGrid.on_fire_cellclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}if(!this.enable){return true;}var _o=this._getDataRow(_a._rowidx);if(this._isFakeCell(_o)){return true;}var _p;if(_a.parentcell){_p=_a;_a=_a.parentcell;}var _q=this._recalcXY(_a,_i,_j,true);_i=_q.canvasX;_j=_q.canvasY;_k=_q.clientX;_l=_q.clientY;if(nexacro.isTouchInteraction){if(_a._band.id=="body"){if(!(this._selectscrollmode=="select"&&this._isAreaSelect())){this._common_fire_sys_lbuttondown(_a,_e,_f,_i,_j,_m,_n);}}}var _r=this._beforebodycellpos;var _s=this._beforebodycolpos;var _t=this._beforebodyrowpos;var _u=this._beforebodysubrowpos;var _v=this._beforepvt;var _w=_a._cellidx;var _x=_a._refobj._col;var _y=_o;var _z=_a._refobj._row;var _aa= -9;var _ab=_a.parentcell;if(_p){_x+=_p._refobj._col;}var _ac=_n;var _ad=false;while(_ac&&_ac._type_name!="Grid"){if(_ac._displaymode==false&&!_ac._clickevt_able){_ad=true;}_ac=_ac.parent;}if(!_ad){this.on_fire_allclick(this,"oncellclick",_b,_r,_s,_t,_u,_v,_w,_x,_y,_z,_aa,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);}};_pGrid.on_fire_headclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._beforeheadcellpos;var _r=this._beforeheadcolpos;var _s=this._beforeheadrowpos;var _t=this._beforeheadsubrowpos;var _u=this._beforepvt;var _v=this._beforeheadcellpos=_a._cellidx;var _w=this._beforeheadcolpos=_a._refobj._col;var _x=this._beforeheadrowpos=this._getDataRow(_a._rowidx);var _y=this._beforeheadsubrowpos=_a._refobj._row;var _z= -9;this.on_fire_allclick(this,"onheadclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_summclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._beforesummcellpos;var _r=this._beforesummcolpos;var _s=this._beforesummrowpos;var _t=this._beforesummsubrowpos;var _u=this._beforepvt;var _v=this._beforesummcellpos=_a._cellidx;var _w=this._beforesummcolpos=_a._refobj._col;var _x=this._beforesummrowpos=this._getDataRow(_a._rowidx);var _y=this._beforesummsubrowpos=_a._refobj._row;var _z= -9;this.on_fire_allclick(this,"onsummclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_celldblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o=this._getDataRow(_a._rowidx);if(this._isFakeCell(_o)){return true;}var _p;if(_a.parentcell){_p=_a;_a=_a.parentcell;}var _q=this._recalcXY(_a,_i,_j,true);_i=_q.canvasX;_j=_q.canvasY;_k=_q.clientX;_l=_q.clientY;var _r=this._dbclickPreCell;var _s=this._dbclickPreCol;var _t=this._dbclickPreRow;var _u=this._dbclickPreSubrow;var _v=this._dbclickPrePvt;var _w=_a._cellidx;var _x=_a._refobj._col;var _y=_o;var _z=_a._refobj._row;var _aa= -9;if(_p){_x+=_p._refobj._col;}this._dbclickPreCell=_w;this._dbclickPreCol=_x;this._dbclickPreRow=_y;this._dbclickPreSubrow=_z;this._dbclickPrePvt=_aa;this.on_fire_allclick(this,"oncelldblclick",_b,_r,_s,_t,_u,_v,_w,_x,_y,_z,_aa,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_headdblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._dbclickPreCell;var _r=this._dbclickPreCol;var _s=this._dbclickPreRow;var _t=this._dbclickPreSubrow;var _u=this._dbclickPrePvt;var _v=_a._cellidx;var _w=_a._refobj._col;var _x=this._getDataRow(_a._rowidx);var _y=_a._refobj._row;var _z= -9;this._dbclickPreCell=_v;this._dbclickPreCol=_w;this._dbclickPreRow=_x;this._dbclickPreSubrow=_y;this._dbclickPrePvt=_z;this.on_fire_allclick(this,"onheaddblclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_fire_summdblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this.enable||!this._is_alive){return true;}var _o;if(_a.parentcell){_o=_a;_a=_a.parentcell;}var _p=this._recalcXY(_a,_i,_j,true);_i=_p.canvasX;_j=_p.canvasY;_k=_p.clientX;_l=_p.clientY;var _q=this._dbclickPreCell;var _r=this._dbclickPreCol;var _s=this._dbclickPreRow;var _t=this._dbclickPreSubrow;var _u=this._dbclickPrePvt;var _v=_a._cellidx;var _w=_a._refobj._col;var _x=this._getDataRow(_a._rowidx);var _y=_a._refobj._row;var _z= -9;this._dbclickPreCell=_v;this._dbclickPreCol=_w;this._dbclickPreRow=_x;this._dbclickPreSubrow=_y;this._dbclickPrePvt=_z;this.on_fire_allclick(this,"onsummdblclick",_b,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);};_pGrid.on_dsnotify_onrowposchanged=function(_a,_b){var _c=this._rowposition;var _d=parseInt(_a.rowposition,10);this._rowposition=_d;if(this.getElement()&&this._userRowposChange==false){var _e= -1;var _f= -1;if(this._hasTree){_e=this._getTreeRowPosition(_c);_f=this._getTreeRowPosition(_d);}else{_e=_c;_f=_d;}var _g;var _h;var _i;var _j;var _k;var _l;var _m;var _n;var _o;var _p= -9;_g=this._beforebodycellpos=this._selectinfo.curcell;_h=this._beforebodycolpos=this._selectinfo.curcol;_i=this._beforebodyrowpos=this._selectinfo.curdsrow;_j=this._beforebodysubrowpos=this._selectinfo.cursubrow;_k=this._beforepvt=this._selectinfo.curpvt;if(_e==_f){}else if(_f<0){_l=(this._selectinfo.curcell<0)?0:this._selectinfo.curcell;_m=(this._selectinfo.curcol<0)?0:this._selectinfo.curcol;_n=_d;_o=(this._selectinfo.cursubrow<0)?0:this._selectinfo.cursubrow;this._hideEditor();this._setSelectedInfo(_l,_m,_n,_o,_p);this._ChangeSelect(_l,_m,_n,_o,_p,true,_g,_h,_i,_j,_k,"body");}else{_l=(this._selectinfo.curcell<0)?0:this._selectinfo.curcell;_m=(this._selectinfo.curcol<0)?0:this._selectinfo.curcol;_n=_d;_o=(this._selectinfo.cursubrow<0)?0:this._selectinfo.cursubrow;this._setSelectedInfo(_l,_m,_n,_o,_p);if(_n>=0&&(this._isMultiSelect()||this._isAreaSelect())){if(_a._bWorkingstatus==true){this._beforebodycellpos= -1;this._beforebodycolpos= -1;this._beforebodyrowpos= -1;this._beforebodysubrowpos= -1;this._setSelectedInfo( -1, -1, -1, -1,null);this._hideEditor();this._ChangeSelect( -1, -1, -1, -1,_p,true,_g,_h,_i,_j,_k,"body");}else{var _q=this._dsRowToDispRow(_n);this._jumpCurrentRow(_q);}}else{this._hideEditor();this._ChangeSelect(_l,_m,_n,_o,_p,true,_g,_h,_i,_j,_k,"body");}}this._moveCellAfterFocus();}};_pGrid.on_dsnotify_oncolumnchanged=function(_a,_b){if(_a._bWorkingstatus==true){this._recreate_contents_all(true,true,false);return;}var _c=false;var _d=[];if(this._isTreeStateChanged(_b,this._dsEventOccured)==true){_c=true;this._updateTreeStates();var _e=this._getTreeRowPosition(_b.row);var _f=this._treeStates[_b.row];if(this._bodyBand){if(_e== -1){this._recreate_contents_all(true,true,false,true);}else{if(_f==0){this._bodyBand._matrix._adjustTreeDisplay(_e,true);}else{this._bodyBand._matrix._adjustTreeDisplay(_e,false);}var _g=this.getTreeParentRow(_e,true);_g=this._dsRowToDispRow(_g,true);this._refreshBodyRow(_g);}}}else if((this.autosizingtype=="row"||this.autosizingtype=="both")&&this._isChangeBodyRowSizeList(_b.row)==true){this._recreate_contents_all(true,true,false);}else if((this.autosizingtype=="col"||this.autosizingtype=="both")&&this._isChangeBodyColSizeList(_b.columnid,_d)==true){this._autofitcol_rate=[];if(_d.length>1){if(this.autosizingtype=="both"){this._recreate_contents_all(true,true,false);}else{this._recreate_contents_all(true,false,false);}}else if(_d.length==1){this._updateColSize(_d[0]);}}else{if(_b.row>=0){if(this._hasTree&&this._treeCellinfo.treecheck._bindexpr==_b.columnid){this._treeChecked=this._createTreeChecked();}var _h=this._dsRowToDispRow(_b.row,true);if(_h>=0){var _i=this._getBindTextCellInfo(_b.columnid);if(_i){var _j=_i[0];var _k=_i[1];var _l=false;var _m=false;var _n=_j.length,_o;for(var _p=0;_p<_n;_p++ ){_o=_j[_p]._getSuppress(_b.row);if(_o!=0){this._suppressUpdate();break;}}var _q=false;for(var _p=0;_p<_n;_p++ ){if(_j[_p].celltype=="head"){_l=true;}else if(_j[_p].celltype=="summary"){_m=true;}else{if(_b.col== -1&&_b.colidx== -1){if(_b.newvalue!=undefined){if(!_q){if(this._hasTree){this._initTreeStates();this._refreshBody();}else{this._refreshBodyRow(_h);}_q=true;}}}else{if(this._hasTree&&_c){if(!_q){this._refreshBody();_q=true;}}else{_o=_j[_p]._getSuppress(_b.row);if(_o>0){this._refreshCell("body",_j[_p]._cellidx);}else if(_o<0){if(!_q){this._refreshBodyRow(_h);_q=true;}}else{if(!_q){var _r=this._binddataset;if(_r.keystring&&_r._keycols.length>0){this._refreshBody();}else{this._refreshBodyRow(_h);}_q=true;}if(_k&&this._currentCellEditor&&_j[_p]._col==this._currentCellEditor._cellinfo._col&&_j[_p]._row==this._currentCellEditor._cellinfo._row&&_b.row==this._currentCellRow){this._currentCellEditor._setProperty();}}}}_m=true;}}}if(_l){this._refreshHead();}if(_m){this._refreshSumm();}}}else{this._refreshHead();this._refreshSumm();if(_a._isConstColumn(_b.col)==true){this._refreshBody();}}}};_pGrid.on_dsnotify_onload=function(_a,_b){if(!this._is_created&&this._rowcount==_a.rowcount){return;}this.rowcount=this._rowcount=_a.rowcount;this._rowposition=_a.rowposition;this._exprcache={};this._clearAllStyleCache();this._initTreeStates();var _c=_b.reason;if(_c==0||_c==1||_c==3||_c==2){if(this._async_create==true){this._recreate_contents_all_async(true,true,true);}else{this._recreate_contents_all(true,true,true);}}};_pGrid.on_dsnotify_onrowsetchanged=function(_a,_b){var _c=this._binddataset;var _d=(this._rowcount!=_c.rowcount);var _e=this._rowcount;this.rowcount=this._rowcount=_c.rowcount;var _f=false;if(this._rowposition!=_c.rowposition){_f=true;}this._rowposition=_c.rowposition;if(this._curFormat){var _g=this._curFormat._bodycells;var _h=this._rowcount-1;var _i;switch(_b.reason){case 10:_i="assign";break;case 11:_i="copydata";break;case 12:if(_b.row== -1){_i="appenddata";}else if(_b.row==_h){_i="addrow";}else if(_b.row<_h){_i="insertrow";}break;case 20:if(_b.row== -1){_i="deletemultirows";}else{_i="deleterow";}break;case 22:_i="deleteall";break;case 23:_i="cleardata";break;case 30:_i="keystring";break;case 31:if(_b.row== -1){_i="filter";}else{_i="filterrow";}break;case 32:_i="moverow";break;case 33:_i="exchangerow";break;case 34:_i="addcolumn";break;case 41:_i="enableevent";break;case 40:_i="rowtype";break;default:break;}if(_i=="copydata"||_i=="addcolumn"||_i=="assign"){this._exprcache={};this._resetSelect(this._rowposition);}else if(_i=="enableevent"||_i=="appenddata"){this._exprcache={};}else if(_i=="deleterow"||_i=="filterrow"){this._delSelectpos( -1,_b.row,true);if(_g&&this._isMultiSelect()==false&&this._isAreaSelect()==false){if(this._isSelectRowType()){for(var _j=0;_j<_g.length;_j++ ){this._addSelectpos(_j,this._rowposition);}}else{this._addSelectpos(0,this._rowposition);}}this._resetSelectStartEndRow();this._updateTreeStates(_b.row,false);}else if(_i=="deletemultirows"){var _k=_a._deleteRows;this._delSelectpos( -1,_k,true);if(_g&&this._isMultiSelect()==false&&this._isAreaSelect()==false){if(this._isSelectRowType()){for(var _j=0;_j<_g.length;_j++ ){this._addSelectpos(_j,this._rowposition);}}else{this._addSelectpos(0,this._rowposition);}}this._resetSelectStartEndRow();for(var _j=_k.length-1;_j>=0;_j-- ){this._updateTreeStates(_k[_j],false);}}else if(_i=="deleteall"||_i=="cleardata"||_i=="filter"){this._clrMultiSelect();this._setSelectedInfo( -1, -1, -1, -1,null);this._destroyOverlayElements();}else if(_i=="copydata"){this._setSelectedInfo(null,null,this._rowposition,0,null);}else if(_i=="addrow"||_i=="insertrow"||_i=="appendrow"){this._updateTreeStates(_b.row,true);}if(this._is_async_recreate){nexacro.OnceCallbackTimer.callonce(this,function(){this._afterRowsetChanged(_i,_f,_b.row,_d,_e);this._is_async_recreate=false;},10);}else{this._afterRowsetChanged(_i,_f,_b.row,_d,_e);}}};_pGrid._afterRowsetChanged=function(_a,_b,_c,_d,_e){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}if(this.getElement()){if(_a=="moverow"||_a=="enableevent"){this._hideEditor(false,true);}else{this._hideEditor(false,false);}if(_a=="copydata"||_a=="assign"){this._initTreeStates();this._recreate_contents_all(true,true,true);}else if(_a=="addcolumn"){this._initTreeStates(true);this._recreate_contents_all(true,true,false);}else if(_a=="keystring"){this._initTreeStates();this._recreate_contents_all(true,true,false,true);this._resetSelect(this._rowposition,this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.cursubrow,this._selectinfo.curpvt);}else if(_a=="enableevent"){this._initTreeStates(true);if(_d||this.autosizingtype!="none"){this._recreate_contents_all(true,true,false);}else{if(this._hasTree){this._bodyBand._matrix._adjustRowsDisplay(true);this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._on_refresh_rows();}this._refreshAll();}if(_b==false){this._select_noscroll=true;}this._resetSelect(this._rowposition,this._selectinfo.curcell,this._selectinfo.curcol,this._selectinfo.cursubrow,this._selectinfo.curpvt);this._select_noscroll=false;if(!this._is_created){this._create_selection={cell:this._selectinfo.curcell,col:this._selectinfo.curcol,row:this._selectinfo.curdsrow,subrow:this._selectinfo.cursubrow,pvt:this._selectinfo.curpvt};}}else if(_a=="addrow"||_a=="appenddata"||_a=="deleterow"||_a=="filterrow"||_a=="insertrow"||_a=="deletemultirows"||_a=="filter"){var _f=this._bodyBand;var _g=this._getDataRow(this._endrowpos);var _h=_f._matrix._getBodyRowTopPos(_g+1)-this._getScrollTop();var _i=this._getAvailableRect(_f);var _j;if(_a=="addrow"||_a=="appenddata"){_j=_e;}if(_h>=_i.height&&_g<_c){if(this._isUserChangeHeadRowSize||this._isUserChangeBodyRowSize||this._isUserChangeSummRowSize){this._recreate_contents_all(true,true,false,true,undefined,_j);}else{this._resetRowSizeList(_j);this._resetColSizeList(_j);this._resetScrollMax();}}else{if(_a=="insertrow"){if(this.autosizingtype!="none"||this._hasTree){this._recreate_contents_all(true,true,false,true,undefined,_j);}else{this._updateBodyClient(_a,_c,_j);}}else{if(this._hasTree){this._initTreeStates();this._recreate_contents_all(true,true,false,true,undefined,_j);}else if(this.autosizingtype=="col"||this.autosizingtype=="both"){this._recreate_contents_all(true,true,false,undefined,undefined,_j);}else{this._updateBodyClient(_a,_c,_j);if(this._isUseBindExprStyle("head")||this._getUseBindExprProp("head")){this._refreshHead(true);}if(this._isUseBindExprStyle("summ")||this._getUseBindExprProp("summ")){this._refreshSumm(true);}}}}}else if(_a=="exchangerow"||_a=="moverow"){if(this.autosizingtype!="none"||this._hasTree){this._recreate_contents_all(true,false,false,true);}else{this._refreshBody();}}else if(_a=="rowtype"){this._refreshAll();}else{this._initTreeStates();this._recreate_contents_all(true,true,false);}this._moveCellAfterFocus();}};_pGrid._getDisplayRowCount=function(){var _a=this._bodyBand;if(_a){return _a._get_rows().length;}return 0;};_pGrid._updateBodyClient=function(_a,_b,_c){this._resetRowSizeList(_c);this._resetColSizeList(_c);var _d=this._bodyBand;this._resetScrollMax();this._applyAutofittype(true);var _e=this._getDisplayRowCount();if(_a=="insertrow"){_d._matrix._adjustRowsDisplay();_d._matrix._adjustColsDisplay();var _g=_d._matrix._rows;var _h=_g.length;for(var _i=0;_i<_h;_i++ ){var _j=this._getDataRow(_g[_i]._rowidx);if(_b>_j){continue;}_d._update_rows.push(_g[_i]);}_d._on_refresh_rows();var _k=this._dsRowToDispRow(_b);this._jumpCurrentRow(_k);}else{var _l=(this.vscrollbar)?this.vscrollbar._pos:0;_l-=this._is_over_scroll;if(_l<0){_l=0;}this._toprowpos=this._getScreenTopRowPos(_l);this._bottomrowpos=this._getScreenBottomRowPos(_l);if(_a=="deleterow"||_a=="filterrow"||_a=="deletemultirows"||_a=="filter"){_d._matrix._init();}_d._matrix._adjustRowsDisplay();_d._matrix._adjustColsDisplay();var _m=this._last_scroll_top;if(_m!=_l){_d._update_rows=_d._matrix._adjustScrollRows(_l);}if(this._is_over_scroll>0){this.vscrollbar.set_pos(this.vscrollbar.pos-1);}_d._on_refresh_rows();}var _f=this._getDisplayRowCount();this._updateNodata(_e,_f);};_pGrid.set_enableredraw=function(_a){_a=nexacro._toBoolean(_a);if(this.enableredraw!=_a){this.enableredraw=_a;if(_a){if(this._curFormat){this._curFormat._updateFormatStr();}this.on_apply_enableredraw();}}return _a;};_pGrid.on_apply_enableredraw=function(){if(this._enable_redraw_history["recreate"]){this.redraw();this._enable_redraw_history={};return;}var _a=this._binddataset;if(_a&&_a.oncolumnchanged&&_a.oncolumnchanged._firestat){this._recreate_contents_all(true,true,false);this._enable_redraw_history={};return;}if(this._enable_redraw_history["recreate_body"]){if(this._bodyBand){this._bodyBand._recreate_contents();}}else if(this._enable_redraw_history["refresh_body"]&&!this._enable_redraw_history["refreshall"]){this._refreshBody(true);}if(this._enable_redraw_history["recreate_head"]){if(this._headBand){this._headBand._recreate_contents();}}else if(this._enable_redraw_history["refresh_head"]&&!this._enable_redraw_history["refreshall"]){this._refreshHead(true);}if(this._enable_redraw_history["recreate_summ"]){if(this._summBand){this._summBand._recreate_contents();}}else if(this._enable_redraw_history["refresh_summ"]&&!this._enable_redraw_history["refreshall"]){this._refreshSumm(true);}if(this._enable_redraw_history["resize_band"]){this._resizeBand();}if(this._enable_redraw_history["updatecolsize"]){var _b=this._enable_redraw_history["updatecolsize"];var _c=_b.length;var _d=_b[0];for(var _e=1;_e<_c;_e++ ){_d=Math.min(_b[_e],_d);}this._updateColSize(_d);}if(this._enable_redraw_history["updaterowsize"]){var _b=this._enable_redraw_history["updaterowsize"];var _c=_b.length;for(var _e=0;_e<_c;_e++ ){this._updateRowSize(_b[_e][0],_b[_e][1],(_e<_c-1));}}if(this._enable_redraw_history["autofit"]){var _f=this._enable_redraw_history["autofit"];this._applyAutofittype(_f[0],_f[1]);}if(this._enable_redraw_history["refreshall"]){this._refreshAll(true);}else{nexacro.Component.prototype.on_apply_enableredraw.call(this);}this._enable_redraw_history={};};_pGrid._isSelectedCell=function(_a,_b){var _c=this._selectinfo.getSelectCells(_b);if(!this._isSelectRowType()){if(_c&&_c[_a]){return true;}}else{if(_c){return true;}}return false;};_pGrid.isSelectedCell=function(_a,_b,_c,_d){if(_b){_b=_b.toLowerCase();}if(arguments.length==0){return false;}else if(arguments.length==1){_b="body";_c=0;_d=0;}else if(arguments.length==2){if(_b=="body"){_c=0;}else if(_b.indexOf("summ")>=0){_c= -2;}else{_c= -1;}_d=0;}else if(arguments.length==3){if(_b.indexOf("summ")>=0){_c= -2;}else if(_b=="head"){_c= -1;}_d=0;}return this._isSelectedCell(_a,_c);};_pGrid._getSelect=function(_a){var _b;if(_a== -2){_b="summ";}else if(_a== -1){_b="head";}else{_b="body";}return this.isSelectedCell(0,_b,_a);};_pGrid.getSelectedRows=function(){var _a=[].concat(this._selectinfo.rows);var _b=[];for(var _c=0;_c<_a.length;_c++ ){_b[_c]=this._getTreeRowPosition(_a[_c]);}return _b;};_pGrid.getSelectedDatasetRows=function(){var _a=[].concat(this._selectinfo.rows);for(var _b=0;_b<_a.length;_b++ ){if(_a[_b]<0){_a.splice(_b,1);_b-- ;}}if(_a.length==0){_a= -9;}return _a;};_pGrid.clearSelect=function(){this._selectinfo.area=[];this._resetSelect( -1, -1, -1, -1, -9);return true;};_pGrid.selectRow=function(_a,_b){if(_b==undefined){_b=true;}_a=this._getDataRow(_a);return this._selectRow(_a,_b);};_pGrid.selectCell=function(_a,_b,_c){if(_c==undefined){_c=true;}return this._selectRow(_a,_c,false,_b);};_pGrid.selectArea=function(_a,_b,_c,_d){if(!this._isAreaSelect()){return false;}var _e=this._selectinfo.curcell;var _f=this._selectinfo.curcol;var _g=this._selectinfo.curdsrow;var _h=this._selectinfo.cursubrow;var _i=this._selectinfo.curpvt;if(_a>_c){var _t=_a;_a=_c;_c=_t;}if(_b>_d){var _t=_b;_b=_d;_d=_t;}var _j=this._curFormat;var _k=_j._bodyrows.length-1;var _l="body",_m="body";if(_a== -1){_l="head";}else if(_a== -2){_l="summ";}if(_c== -1){_k=_j._headrows.length-1;_m="head";}else if(_c== -2){_k=_j._summrows.length-1;_m="summ";}function getBegEnd(_u,_b,_d,_v){var _w,_x;if(_v){for(var _y=0;_y<_u.length;_y++ ){if(_u[_y]._col==_b){_w=_y;break;}}return _w;}else{for(var _y=_u.length-1;_y>=0;_y-- ){if(_u[_y]._col<=_d&&_d<=(_u[_y]._col+_u[_y]._colspan)){_x=_y;break;}}return _x;}}var _n,_o,_p,_q,_r,_s;if(_l=="summ"){_s=getBegEnd(_j._summcells,_b,_d,true);}else if(_l=="head"){_s=getBegEnd(_j._headcells,_b,_d,true);}else{_s=getBegEnd(_j._bodycells,_b,_d,true);}this._setSelectedInfo(_s,_b,_a,0,null);_n=_s;_o=_b;_p=_a;_q=0;_r=this._selectinfo.curpvt;if(this._isMultiSelect()){this._multiselect="ctrl";}else{this._clrMultiSelect();this._multiselect="none";}this._ChangeSelect(_n,_o,_p,_q,_r,false,_e,_f,_g,_h,_i,_l,"func_area1");if(_m=="summ"){_s=getBegEnd(_j._summcells,_b,_d,false);}else if(_m=="head"){_s=getBegEnd(_j._headcells,_b,_d,false);}else{_s=getBegEnd(_j._bodycells,_b,_d,false);}this._setSelectedInfo(_s,_d,_c,_k,null);_n=_s;_o=_d;_p=_c;_q=_k;_r=this._selectinfo.curpvt;this._multiselect="shift";retn=this._ChangeSelect(_n,_o,_p,_q,_r,false,_e,_f,_g,_h,_i,_m,"func_area2");return retn;};_pGrid._selectRow=function(_a,_b,_c,_d,_e){var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curdsrow;var _i=this._selectinfo.cursubrow;var _j=this._selectinfo.curpvt;var _k="body";if(_a== -1){_k="head";}else if(_a== -2){_k="summ";}this._setSelectedInfo(null,null,_a,0,null);if(_k!="body"&&_d==undefined){_d=0;}if(_d!=undefined){this._setSelectedInfo(_d,null,null,null,null);}var _l=false;if(!_e){_e=false;}var _m=(this._selectinfo.curcell<0)?0:this._selectinfo.curcell;var _n=(this._selectinfo.curcol<0)?0:this._selectinfo.curcol;var _o=_a;var _p=(this._selectinfo.cursubrow<0)?0:this._selectinfo.cursubrow;var _q=this._selectinfo.curpvt;if(this._isMultiSelect()){if(_b!=this._getSelect(_o)){this._multiselect="ctrl";_l=this._ChangeSelect(_m,_n,_o,_p,_q,_e,_f,_g,_h,_i,_j,_k,"func_selectrow");}}else{this._clrMultiSelect();if(_b==true){_l=this._ChangeSelect(_m,_n,_o,_p,_q,false,_f,_g,_h,_i,_j,_k,"func_selectrow");}}if(!_c){this._refreshBody();if(_k=="head"){this._refreshHead();}else if(_k=="summ"){this._refreshSumm();}}return _l;};_pGrid._on_killfocus=function(_a,_b){if(!this._is_alive){return;}this._hideEditor(undefined,undefined,true);this._focusSelectorPoint(false);if(nexacro._enableaccessibility){this._accept_arrow=false;this._acceptstab=false;}this._is_async_recreate=false;};_pGrid._focusSelectorPoint=function(_a){if(this._isAreaSelect()){if(this._select_ctrl){this._select_ctrl._trackbar[0].set_visible(_a);this._select_ctrl._trackbar[1].set_visible(_a);this._select_ctrl._trackbar[2].set_visible(_a);this._select_ctrl._trackbar[3].set_visible(_a);}}};_pGrid._on_focus=function(_a,_b,_c,_d,_e,_f){this._acceptstab=true;if(this._showEditorFocus){return;}var _g=false;if(!_a){this._focusSelectorPoint(true);}if(_b=="tabkey"||_b=="shifttabkey"){_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(this._bodyBand&&(_a==false||nexacro._enableaccessibility)){var _h=this._bodyBand._get_rows();if(_h.length>0){if(_h[0]._cells&&_h[0]._cells.length>0){var _i=null;this._showEditorFocus=true;if(_b=="shifttabkey"){_i=this._getLastEditableCell();if(_i.row!==null){if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(this.vscrollbar.max);}_g=this._moveToPosCell(_i.row,_i.cell);}}else{_i=this._getFirstEditableCell();if(_i.row!==null){if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}_g=this._moveToPosCell(_i.row,_i.cell);}}if(nexacro._enableaccessibility&&_i.row!==null){this._currentBand="body";var _j=this._getAccessibilityCurrentCell();if(_j){if(_b=="tabkey"){this._first_focus=true;this._is_first_bodycell=true;}this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}this._showEditorFocus=false;}}}}else{_g=nexacro.Component.prototype._on_focus.call(this,_a,_b,_c,_d,_e,_f);if(nexacro._enableaccessibility){this._accept_arrow=true;this._acceptstab=true;_g=false;if(nexacro._accessibilitytype==4){this._currentBand="grid";this._moveToAccessibilityCell("next");}}else{if(_a==false){if(_b=="lbuttondown"&&_f&&_f._type_name=="GridCell"){;}else if(this.autoenter=="select"){this._showEditorFocus=true;this._showEditor(false);this._showEditorFocus=false;}}}}if(nexacro._enableaccessibility){this._first_focus=false;}return _g;};_pGrid.on_fire_ontextchange=function(_a,_b,_c,_d,_e,_f){var _g=this._selectinfo.curcell;var _h=this._selectinfo.curcol;var _i=this._selectinfo.curpvt;var _j=this._selectinfo.curdsrow;var _k=this._selectinfo.cursubrow;if(this.ontextchange&&this.ontextchange._has_handlers){var _l=new nexacro.GridTextChangeEventInfo(this,"ontextchange",_g,_b,_h,_i,_f,_d,_e,_c,_j,_k);return this.ontextchange._fireCheckEvent(this,_l);}return true;};_pGrid.on_fire_ontextchanged=function(_a,_b,_c){var _d=this._selectinfo.curcell;var _e=this._selectinfo.curcol;var _f=this._selectinfo.curpvt;var _g=this._selectinfo.curdsrow;var _h=this._selectinfo.cursubrow;if(this.ontextchanged&&this.ontextchanged._has_handlers){var _i=new nexacro.GridTextChangedEventInfo(this,"ontextchanged",_d,_e,_f,_c,_b,_g,_h);return this.ontextchanged._fireEvent(this,_i);}return true;};_pGrid.on_fire_cantreestatuschange=function(_a,_b,_c){var _d=this._selectinfo.curcell;if(this.cantreestatuschange&&this.cantreestatuschange._has_handlers){var _e=new nexacro.GridTreeStatusEventInfo(this,"cantreestatuschange",_d,_b,_a,_c);return this.cantreestatuschange._fireEvent(this,_e);}return true;};_pGrid.on_fire_ontreestatuschanged=function(_a,_b,_c){var _d=this._selectinfo.curcell;if(this.ontreestatuschanged&&this.ontreestatuschanged._has_handlers){var _e=new nexacro.GridTreeStatusEventInfo(this,"ontreestatuschanged",_d,_b,_a,_c);return this.ontreestatuschanged._fireEvent(this,_e);}return true;};_pGrid.on_fire_oncloseup=function(_a,_b,_c,_d,_e){if(this.oncloseup&&this.oncloseup._has_handlers){var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curpvt;var _i=this._selectinfo.curdsrow;var _j=this._selectinfo.cursubrow;var _k=this._evtvalue(_a,_e);var _l=new nexacro.GridEditEventInfo(this,"oncloseup",_f,_g,_h,_i,_j,_k);return this.oncloseup._fireEvent(this,_l);}return true;};_pGrid.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=this._selectinfo.curcell;var _c=this._selectinfo.curcol;var _d=this._selectinfo.curpvt;var _e=this._selectinfo.curdsrow;var _f=this._selectinfo.cursubrow;var _g=this._evtvalue(_a);var _h=new nexacro.GridEditEventInfo(this,"ondropdown",_b,_c,_d,_e,_f,_g);return this.ondropdown._fireEvent(this,_h);}return true;};_pGrid.on_fire_onenterdown=function(_a,_b,_c,_d,_e,_f,_g){if(this.onenterdown&&this.onenterdown._has_handlers){var _h=this._selectinfo.curcell;var _i=this._selectinfo.curcol;var _j=this._selectinfo.curpvt;var _k=this._selectinfo.curdsrow;var _l=this._selectinfo.cursubrow;var _m=this._evtvalue(_f,_g);var _n=new nexacro.GridEditEventInfo(this,"onenterdown",_h,_i,_j,_k,_l,_m);return this.onenterdown._fireEvent(this,_n);}return true;};_pGrid.on_fire_onexpanddown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_k;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onexpanddown&&this.onexpanddown._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_l);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onexpanddown",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onexpanddown._fireEvent(this,_z);}return false;};_pGrid.on_fire_onexpandup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=_k;_m=this._findCellObj(_m);var _n;if(_m&&_m._type_name=="GridCell"){if(_m.parentcell){_n=_m;_m=_m.parentcell;}}var _o=this._recalcXY(_m,_g,_h,false);_g=_o.canvasX;_h=_o.canvasY;_i=_o.clientX;_j=_o.clientY;if(this.onexpandup&&this.onexpandup._has_handlers){var _p=this._makeEventInfo(_m,_n,_l);var _q=this._getRootComponent(_k);var _r=_p.cell;var _s=_p.col;var _t=_p.mergecell;var _u=_p.mergecol;var _v=_p.mergerow;var _w=_p.pivotindex;var _x=_p.row;var _y=_p.subrow;var _z=new nexacro.GridMouseEventInfo(_q,"onexpandup",_r,_s,_t,_u,_v,_w,_x,_y,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return this.onexpandup._fireEvent(this,_z);}return false;};_pGrid.on_fire_oncolresized=function(_a){if(this.oncolresized&&this.oncolresized._has_handlers){var _b=_a[0];var _c=_a[1];var _d=_a[2];var _e=_a[3];var _f=_a[4];var _g=new nexacro.GridSizeChangedEventInfo("oncolresized",_b,_c,_d,_e,1,_f);return this.oncolresized._fireEvent(this,_g);}return false;};_pGrid.on_fire_onrowresized=function(_a){if(this.onrowresized&&this.onrowresized._has_handlers){var _b=_a[0];var _c=_a[1];var _d=_a[2];var _e=_a[3];var _f=_a[4];var _g=new nexacro.GridSizeChangedEventInfo("onrowresized",_b,_c,_d,_e,2,_f);return this.onrowresized._fireEvent(this,_g);}return false;};_pGrid._clearAllStyleCache=function(){var _a=this._curFormat;if(_a){_a._clearCellStyleCache("head");_a._clearCellStyleCache("body");_a._clearCellStyleCache("summ");}};_pGrid._createVScrollBar=function(_a){var _b=new nexacro.GridScrollBarCtrl("vscrollbar","absolute",0,0,_a,this._client_width,null,null,this);_b._setDirection("vert");_b._setEventHandler("onscroll",this.on_vscroll,this);_b.on_update_style_scrollbarsize();return _b;};_pGrid._is_recreating=false;_pGrid._recreate=function(){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return true;}if(!this.getElement()){return false;}this._is_recreating=true;var _a=(this.vscrollbar)?this.vscrollbar._pos:0;var _b=(this.hscrollbar)?this.hscrollbar._pos:0;this._destroyBands();this._createBandsAndAreas();this._refreshBody();this._onResetScrollBar();this._recreate_contents_proc=[];if(this.vscrollbar){this.vscrollbar._set_pixelpos(0);this.vscrollbar._set_pixelpos(_a);}if(this.hscrollbar){this.hscrollbar.set_pos(0);this.hscrollbar.set_pos(_b);}this._is_recreating=false;return true;};_pGrid.createcellasync=false;_pGrid.set_createcellasync=function(_a){_a=nexacro._toBoolean(_a);this.createcellasync=_a;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this._async_create=_a;}else{this._async_create=false;}};_pGrid._recreate_contents_all_async=function(_a,_b,_c,_d,_e){nexacro.OnceCallbackTimer.callonce(this,function(){return this._recreate_contents_all(_a,_b,_c,_d,_e);});};_pGrid._isDownActionKeyMouse=function(){var _a=this._getWindow();if(_a&&(_a._cur_ldown_elem||_a._keydown_element)){var _b=_a._cur_ldown_elem||_a._keydown_element,_c=_a.findComponent(_b,0,0)[0],_d=false;while(_c){if(_c instanceof nexacro.ScrollBarCtrl){break;}if(_c._type_name=="Grid"&&_c.id==this.id){_d=true;break;}_c=_c.parent;}return _d;}return false;};_pGrid._recreate_contents_all=function(_a,_b,_c,_d,_e,_f){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}var _g=this._isDownActionKeyMouse()||this._is_down_act;if(_g&&!this._userRowposChange&&!this._is_after_recreate){var _j=[_a,_b,_c,_d,_e];if(this._after_recreate_contents_all){_j[0]=_j[0]||this._after_recreate_contents_all[0];_j[1]=_j[1]||this._after_recreate_contents_all[1];_j[2]=_j[2]||this._after_recreate_contents_all[2];_j[3]=_j[3]&&this._after_recreate_contents_all[3];_j[2]=_j[4]||this._after_recreate_contents_all[4];}this._after_recreate_contents_all=_j;return;}var _h=this._getDisplayRowCount();if(_b){this._resetRowSizeList(_f);this._resetColSizeList(_f);this._resizeBand();if(this._bodyBand){this._bodyBand._recreate_contents(_a,_c,false,_e);this._bodyBand._matrix._adjustColsDisplay(true);}if(!_d){if(this._headBand){this._headBand._recreate_contents(_a);this._headBand._matrix._adjustColsDisplay(true);}if(this._summBand){this._summBand._recreate_contents(_a);this._summBand._matrix._adjustColsDisplay(true);}}}else{if(this._bodyBand){this._bodyBand._recreate_contents(_a,_c,false,_e);}if(!_d){if(this._headBand){this._headBand._recreate_contents(_a);}if(this._summBand){this._summBand._recreate_contents(_a);}}}var _i=this._getDisplayRowCount();this._updateNodata(_h,_i);this._updateSelector();this._adjustOverlayElements(true,false);};_pGrid._updateNodata=function(_a,_b){if((_a==0&&_b>0)||(_a>0&&_b==0)){var _c=this._bodyBand;if(_c){_c._updateAll(true);}else{this._control_pseudo="";this._contents_pseudo="";this._stat_change();}}};_pGrid._getRowSize=function(_a){var _b=this._curFormat;if(_a== -1){if(this._rowHeadList.length>0){return this._rowHeadList[0];}else{return _b.headHeight;}}else if(_a== -2){if(this._rowSummList.length>0){return this._rowSummList[0];}else{return _b.summHeight;}}else{var _c=this._getDataRow(_a);if(_c>=0){if(this._rowSizeList.length>0){return this._rowSizeList[_c];}else{return _b._body_height;}}}return  -1;};_pGrid._getHeadHeight=function(){var _a=this._curFormat;if(_a==null||_a._headband==null){return 0;}var _b=this._rowHeadList[0];if(_b==undefined){_b=_a.headHeight;}return _b;};_pGrid._getSummHeight=function(){var _a=this._curFormat;if(_a==null||_a._summband==null){return 0;}var _b=this._rowSummList[0];if(_b==undefined){_b=_a.summHeight;}return _b;};_pGrid._createBandsAndAreas=function(){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}var _a=this._curFormat;if(_a==null){return;}this._clearAllStyleCache();this._applyAutofittype(false);var _b=this._curFormat._bodycells;var _c=_b?_b.length:0;var _d;for(var _o=0;_o<_c;_o++ ){_d=_b[_o];if(_d.suppress!=0){this._is_use_suppress=true;}if(_d.wordwrap!="none"){this._is_body_wordwrap=true;}}_b=this._curFormat._headcells;_c=_b?_b.length:0;for(var _o=0;_o<_c;_o++ ){_d=_b[_o];if(_d.wordwrap!="none"){this._is_head_wordwrap=true;break;}}_b=this._curFormat._summcells;_c=_b?_b.length:0;for(var _o=0;_o<_c;_o++ ){_d=_b[_o];if(_d.wordwrap!="none"){this._is_summ_wordwrap=true;break;}}var _e=this._getAvailableRect(this);var _f=_e.width;var _g=_e.height;var _h=this.getElement();var _i,_j;var _k=_a.headHeight;var _l=_a.summHeight;if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_k+_l;_j=_g;}else{_i=_k;_j=_g-_l;}if(_j<_i){_j=_i;}this._bodyBand=new nexacro.GridBand("body",0,_i,_f,_j-_i,this,_a._bodyband);this.body=_a._bodyband;var _m,_n;if(_l>0){_e=this._getAvailableRect(this);_f=_e.width;_g=_e.height;if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_k;_j=_k+_l;}else{_j=_g;_i=_j-_l;}this._summBand=_m=new nexacro.GridBand("summ",0,_i,_f,_j-_i,this,_a._summband);this.summ=this.summary=_a._summband;}else{this._summBand=null;}if(_k>0){_e=this._getAvailableRect(this);_f=_e.width;_g=_e.height;_i=0;_j=_k;this._headBand=_n=new nexacro.GridBand("head",0,_i,_f,_j-_i,this,_a._headband);this.head=_a._headband;}else{this._headBand=null;}this._resetRowSizeList();this._resetColSizeList();this._bodyBand.createComponent();_h.setVertScrollElements(this._bodyBand._control_element);if(_n){this._headBand.createComponent();}if(_m){this._summBand.createComponent();}this._updateSelector();this._setHscrollElement();this._setScrollMaxSize(this._bodyBand._scrollWidth,this._bodyBand._scrollHeight);this._control_element._arrangeBandOrder();};_pGrid._band_scroll_sizes=null;_pGrid._setScrollMaxSize=function(_a,_b,_c){if(_c){this._band_scroll_sizes=_c;}if(this._control_element){this._control_element._setInnerElementScrollMaxSize(this._band_scroll_sizes);if(_b==undefined){_b=this._bodyBand._scrollHeight;}this._control_element.setElementScrollMaxSize(_a,_b);this._updateClientSize(this._control_element);}};_pGrid._resizeBand=function(_a){var _b=this._client_left;var _c=this._client_top;var _d=this._client_width;var _e=this._client_height;var _f=this._getHeadHeight();var _g=this._getSummHeight();var _h,_i,_j,_k;_h=_b;_j=_d;if(this._bodyBand){if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_f+_g;_k=_e-_i;}else{_i=_f;_k=_e-_g-_i;}if(_k<0){_k=0;}this._bodyBand.move(_h,_i,_j,_k);}_e=this._client_height;if(this._summBand){if(this.summarytype=="top"||this.summarytype=="lefttop"){_i=_f;_k=_f+_g-_i;}else{_i=_e-_g;_k=_e-_i;}this._summBand.move(_h,_i,_j,_k);}_e=this._client_height;if(this._headBand){_i=_c;_k=_f;this._headBand.move(_h,_i,_j,_k);}if(!_a&&(this._colautofit||this._rowautofit)){this._applyAutofittype(true);}this._MoveEditComp();this._updateSelector();this._updateScrollInfo();};_pGrid._onResetScrollBar=function(){if(this._scrollbars==1||this._scrollbars==4){if(this._rowautofit){this._scrollbars=0;}}else if(this._scrollbars==2||this._scrollbars==8){if(this._colautofit){this._scrollbars=0;}}else if(this._scrollbars==3){if(this._colautofit&&this._rowautofit){this._scrollbars=0;}if(this._colautofit){this._scrollbars=1;}if(this._rowautofit){this._scrollbars=2;}}else if(this._scrollbars==16){if(this._rowautofit){this._scrollbars=2;}}else if(this._scrollbars==32){if(this._colautofit){this._scrollbars=1;}}return nexacro.Component.prototype._onResetScrollBar.call(this);};_pGrid._setHscrollElement=function(){if(!this._control_element){return;}var _a=[];if(this._bodyBand){var _b=this._bodyBand._get_rows();for(var _c=0;_c<_b.length;_c++ ){_a.push(_b[_c]._control_element);}}if(this._headBand){var _b=this._headBand._matrix._rows;for(var _c=0;_c<_b.length;_c++ ){_a.push(_b[_c]._control_element);}}if(this._summBand){var _b=this._summBand._matrix._rows;for(var _c=0;_c<_b.length;_c++ ){_a.push(_b[_c]._control_element);}}if(_a.length==0){_a=null;}this._control_element.setHorzScrollElements(_a);};_pGrid._resetScrollMax=function(){var _a=this._curFormat;if(!_a){return;}var _b=this._bodyBand;if(!_b){return;}var _c=this._getGridRowCount();var _d=this._getAvailableRect(_b);var _e=_d.width-_a.leftWidth-_a.rightWidth;var _f=_d.height;var _g=_a.bodyWidth;var _h=this._treeIndexes;var _i=this._rowSizeList;var _j;var _k=[];var _l=0;var _m=[];var _n=1;var _o=1500000;var _p=0;for(var _q=0;_q<_c;_q++ ){_j=this._getDataRow(_q);_p+=_i[_j];if(_p-this._fixedrow_height>=_o*_n){_m.push(_p-_i[_j]);_n++ ;}}_p-=this._fixedrow_height;_m.push(_p);_b._scrollHeight=_p;_b._scrollWidth=_g;this._setScrollMaxSize(_b._scrollWidth,_b._scrollHeight,_m);};_pGrid._setContents=function(_a){var _b=nexacro._parseXMLDocument(_a);var _c=_b.getElementsByTagName("Format");var _d=_c.length;var _e="";this._format_str=[];this._autofitcol_rate=[];for(var _f=0;_f<_d;_f++ ){var _g=_c[_f];var _h=_g.getAttribute("id");if(_h==null||_h==""){_h="default";}if(_e==""||_h=="default"){_e=_h;}var _i=new nexacro.GridFormat(_h,this);_i._loadFromDOM(_g);this._formats[_h]=_i;this._format_str.push(_h);}this.formats=_a;if(this.formatid==""||this.formatid!=_e){this.formatid=_e;}this._curFormat=this._formats[this.formatid];};_pGrid._destroyBands=function(_a){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}if(!_a){this._hideEditor(false,true);}if(this._temphead){this._temphead.destroy();this._temphead=null;}if(this._tempsumm){this._tempsumm.destroy();this._tempsumm=null;}if(this._bodyBand){if(this._control_element){this._control_element.setVertScrollElements(null);}this._bodyBand.destroy();this._bodyBand=null;this.body=null;}if(this._summBand){this._summBand.destroy();this._summBand=null;this.summary=null;this.summ=null;}if(this._headBand){this._headBand.destroy();this._headBand=null;this.head=null;}if(this._select_ctrl){this._select_ctrl.destroy();this._select_ctrl=null;}if(this.controlbutton){this.controlbutton=null;}if(this.controlcalendar){this.controlcalendar=null;}if(this.controlcheckbox){this.controlcheckbox=null;}if(this.controlcombo){this.controlcombo=null;}if(this.controledit){this.controledit=null;}if(this.controlmaskedit){this.controlmaskedit=null;}if(this.controltextarea){this.controltextarea=null;}if(this.controlprogressbar){this.controlprogressbar=null;}if(this.controlexpand){this.controlexpand=null;}this._destroyOverlayElements();};_pGrid._refreshAll=function(_a){this._refreshHead(_a);this._refreshSumm(_a);this._refreshBody(_a);};_pGrid._getBodyCellInfo=function(_a){if(this._curFormat){var _b=this._curFormat._bodycells[_a];if(_b){return _b;}}return null;};_pGrid._getBodyCellItem=function(_a,_b){return (this._bodyBand._get_rows()[_a]._cells[_b]);};_pGrid._refreshBodyCell=function(_a,_b,_c){if(!this.enableredraw){this._enable_redraw_history["refresh_body"]=true;return;}if(_b<0){return;}var _d=this._bodyBand;if(_d){var _e=_d._get_rows();if(_e.length<=_b){return;}var _f=_e[_b]._rowidx;var _g=(this._hasTree)?this._treeIndexes[_f]:_f;var _h=this._isSelectedCell(_a,_g);if(_e[_b]){var _i=_e[_b]._cells[_a];if(_c){if(_i){_i.currentstyle._empty();}}_d._refreshRowCell(_b,_a,_h);}}};_pGrid._refreshHead=function(_a){if(!this.enableredraw){this._enable_redraw_history["refresh_head"]=true;return;}var _b=this._headBand;if(_b){var _c=_b._get_rows().length;_b._updateAll(_a);for(var _d=0;_d<_c;_d++ ){_b._refreshRow(_d);}}this._applyResizer();};_pGrid._refreshSumm=function(_a){if(!this.enableredraw){this._enable_redraw_history["refresh_summ"]=true;return;}var _b=this._summBand;if(_b){var _c=_b._get_rows().length;_b._updateAll(_a);for(var _d=0;_d<_c;_d++ ){_b._refreshRow(_d);}_b._updateAll(_a);}};_pGrid._refreshBody=function(_a,_b,_c,_d){if(!this.enableredraw){this._enable_redraw_history["refresh_body"]=true;return;}var _e=this._bodyBand;if(_e){if(!_d){this._suppressUpdate();}var _f=this._getDispRowCnt();var _g=_e._get_rows();var _h;_e._updateAll(_a);for(var _i=0;_i<_f;_i++ ){_e._refreshRow(_i,undefined,_b);}if(!_c){this._adjustOverlayElements(false,false);}}};_pGrid._MoveEditComp=function(){if(this._showEditing){this._showEditor(true);}};_pGrid._analyzeSuppress=function(_a){var _b=this._curFormat._bodycells;if(!_b){return;}var _c;if(_a){_c=this._getGridRowCount();}else{var _g=this._bodyBand;var _h=_g._get_rows();_c=_h.length;}if(_c==0){return;}var _d=_b.length;var _e;for(var _i=0;_i<_d;_i++ ){_e=_b[_i];if(_e.suppress==0){continue;}_e._clearSuppressInfo();var _j,_k,_l,_m,_n,_o,_p,_q,_r,_s;var _t=this._fixed_endrow;for(var _u=0;_u<_c;_u++ ){_j=(!_a)?this.__getBodyCellRowIdxFromIdx(_u):_u;_r=this._getDataRow(_j);_s=_e._getSuppress(_r);if(_s>0&&_u>0){_p=_e._getSuppressInfo(_u-1);_m=0;_n=0;_q=this._getDataRow(_j-1);_r=this._getDataRow(_j);if(this._hasTree){_k=_e._getDisplayText(_q);_m=_e._getTreeLevel(_q);_l=_e._getDisplayText(_r);_n=_e._getTreeLevel(_r);}else{_k=_e._getDisplayText(_q);_l=_e._getDisplayText(_r);}if(this._isFakeCell(_r)){continue;}_o=_e._getDisplaytype(_j);if(this._hasTree&&_o=="tree"){;}else{if(_k==_l){_p.last=false;}else{_p.last=true;}}}else if(_s<0&&_i>0){}}}var _f=this.suppresslevel;if(_f=="sameskip"||_f=="allcompare"){var _u=0;function __analyzeSuppress_row_loop2(_v){if(_u<_c){var _w=[];var _x=[];var _e;_j=(!_a)?_v.__getBodyCellRowIdxFromIdx(_u):_u;_r=_v._getDataRow(_j);for(var _i=0;_i<_d;_i++ ){_e=_b[_i];_s=_e._getSuppress(_r);if(_s>0){_w.push(_e);}if(_s<0){}}if(_w.length>0){_w.sort(function(_y,_z){return _y._getSuppress(_r)-_z._getSuppress(_r);});var _y=_w.length;for(var _z=0;_z<_y;_z++ ){_e=_w[_z];if(_e){for(var _aa=0;_aa<_d;_aa++ ){if(_aa==_e._col){continue;}_v._compareSuppressCol(_u,_aa,_e._col,_f,_r);}}}}if(_x.length>0){_x.sort(function(_ab,_ac){return _ac._getSuppress(_r)-_ab._getSuppress(_r);});var _ab=_x.length;for(var _z=0;_z<_ab;_z++ ){_e=_x[_z];if(_e){for(var _aa=0;_aa<_d;_aa++ ){if(_aa==_e._col){continue;}}}}}_u++ ;return false;}return true;}for(;true;){if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}if(__analyzeSuppress_row_loop2(this)){break;}}}if(_c>0){var _v=0;var _w;var _x,_y,_s,_j,_r;for(var _i=0;_i<_d;_i++ ){_w=0;var _e,_z;for(var _u=0;_u<_c;_u++ ){_e=_b[_i];_j=(!_a)?this.__getBodyCellRowIdxFromIdx(_u):_u;_r=this._getDataRow(_j);if(_e.suppressalign.indexOf("middle")<0){break;}_x=_e._getSuppressInfo(_u);_x.middle=false;_s=_e._getSuppress(_r);if(_s>0){_v++ ;if(_x.last==true){if(_v==1){_x.middle=true;}else{_z=Math.round(_v/2);_y=_e._getSuppressInfo(_w+_z-1);_y.middle=true;}_w=_u+1;_v=0;}}if(_s<0){;}}}}};_pGrid._compareSuppressCol=function(_a,_b,_c,_d,_e){var _f=this._bodyBand;var _g=this._curFormat._bodycells;var _h=_g[_b];var _i=_g[_c];var _j,_k;var _l=_i._getSuppress(_e);var _m=_h._getSuppress(_e);if(_l<=0||_m<=0){return false;}if(_m<_l){_j=_h._getSuppressInfo(_a);_k=_i._getSuppressInfo(_a);if(_j.last==true){_k.last=true;}return true;}else if(_d=="allcompare"&&_m==_l){_j=_h._getSuppressInfo(_a);_k=_i._getSuppressInfo(_a);if(_j.last==true){_k.last=true;}if(_k.last==true){_j.last=true;}return true;}return false;};_pGrid.__getBodyCellRowIdxFromIdx=function(_a,_b){var _c;if(this._fixed_rowcnt){if(_a+this._fixed_startrow<=this._fixed_endrow){_c=this._fixed_startrow;}else{_a-=this._fixed_rowcnt-this._fixed_startrow;_c=(_b)?this._toprowpos[0]:this._begrowpos;}}else{_c=(_b)?this._toprowpos[0]:this._begrowpos;}return _a+_c;};_pGrid._suppressUpdate=function(){if(!this._is_use_suppress){return;}this._analyzeSuppress();var _a=this._bodyBand;var _b=_a._get_rows();var _c=_b.length;var _d=(this._fixed_rowcnt)?this._fixed_startrow:this._toprowpos[0];var _e=this._bottomrowpos;var _f=0;var _g=_c-1;for(var _h=0;_h<_c;_h++ ){if(_b[_h]._rowidx==_d){_f=_h;}else if(_b[_h]._rowidx==_e){_g=_h;break;}if(_e<0){break;}}for(var _h=_f;_h<=_g;_h++ ){this._suppressUpdateRow(_h,_f,_g);}};_pGrid._suppressUpdateRow=function(_a,_b,_c){var _d=this._bodyBand;var _e=_d._get_rows();if(_d==null||_e.length==0){return;}var _f=this._curFormat._bodycells;var _g=_f.length;var _h=this.__getBodyCellRowIdxFromIdx(_a,true);var _i,_j,_k,_l;var _m,_n,_o;var _p=this._getDataRow(_h);for(var _q=0;_q<_g;_q++ ){_i=_f[_q];_n=_i._getSuppressInfo(_a);_o=_i._getSuppress(_p);if(_o>0){if(_o>0&&(_a-_b)>0){_m=_i._getSuppressInfo(_a-1);}else if(_i.csupp<0&&_q>0){var _r=_f[_q-1];_m=_r._getSuppressInfo(_a);}_k=(_m?_m.last:true);_l=(_a==_c?true:_n.last);if(_i.suppressalign.indexOf("first")>=0){if(_k==false){_n.text_proc=_o;}else{_n.text_proc=0;}}else if(_i.suppressalign.indexOf("last")>=0){if(_l==false){_n.text_proc=_o;}else{_n.text_proc=0;}}else if(_i.suppressalign.indexOf("middle")>=0){if(_n.middle==true){_n.text_proc=0;}else{_n.text_proc=_o;}}if(_m){if(_k==false){_m.border_proc=_o;}else{_m.border_proc=0;}}}}};_pGrid._refreshBodyRow=function(_a,_b,_c){if(!this.enableredraw){this._enable_redraw_history["refresh_body"]=true;return;}var _d=this._bodyBand;if(_d){var _e=_d._get_rows();if(_e.length<=_a){return;}var _f=this._getDispRowCnt();if(_a>=0&&_a<_f){var _g=_e[_a]._rowidx;var _h=(this._hasTree)?this._treeIndexes[_g]:_g;if(_h==undefined){return;}_d._refreshRow(_a,_b);}}};_pGrid._setGlobalCursor=function(_a,_b){this._global_cursor=_a;while(_b){_b._updateCursor(_a);if(_b instanceof nexacro.Grid){return;}_b=_b.parent;}};_pGrid._getColMergeInfo=function(_a,_b){var _c;if(_a=="head"){_c=this._curFormat._headcells;}else if(_a=="summ"||_a=="summary"){_c=this._curFormat._summcells;}else{_c=this._curFormat._bodycells;}if(!_c){return null;}var _d=_c.length;var _e;var _f=_b;var _g=1;var _h=[];for(var _i=0;_i<_d;_i++ ){_e=_c[_i];if(_e._col<=_b&&(_e._col+_e._colspan)>_b){if(_g<_e._colspan){_g=_e._colspan;_f=_e._col;}}}_h[0]=_f;_h[1]=_g;return _h;};_pGrid._applySelect=function(_a,_b,_c){var _d=false;if(this.summarytype=="top"||this.summarytype=="lefttop"){_d=true;}if(_a.length==0||(_d&&_c<0)){_a.splice(0,0,_c);_b.splice(0,0,_c);}else{var _e,_f;var _g=0;if(_d){for(var _h=0;_h<_a.length;_h++ ){if(_a[_h]>=0){break;}_g++ ;}_e=_a.splice(0,_g);_f=_b.splice(0,_g);}var _i=_a.length;if(_i==0){_a.splice(0,0,_c);_b.splice(0,0,_c);}else if(_i==1||_a[0]>_c){this._addSelect(_a,_b,0,_c);}else if(_b[_i-1]<_c){this._addSelect(_a,_b,_i-1,_c);}else{for(var _h=0;_h<_i;_h++ ){if(_b[_h]<_c&&_a[_h+1]>_c){if((_b[_h]+1)==_c&&(_a[_h+1]-1)>_c){this._addSelect(_a,_b,_h,_c);}else if((_b[_h]+1)<_c&&(_a[_h+1]-1)==_c){this._addSelect(_a,_b,_h+1,_c);}else if((_b[_h]+1)==_c&&(_a[_h+1]-1)==_c){this._addSelect(_a,_b,_h,_c);_b[_h]=_b[_h+1];_a.splice(_h+1,1);_b.splice(_h+1,1);}else if((_b[_h]+1)<_c&&(_a[_h+1]-1)>_c){_a.push(_c);_b.push(_c);_a.sort();_b.sort();}break;}}}if(_d){for(var _h=0;_h<_e.length;_h++ ){_a.splice(0,0,_e[_h]);_b.splice(0,0,_f[_h]);}}}};_pGrid._addSelect=function(_a,_b,_c,_d){if(_b[_c]<_d){if((_b[_c]+1)==_d){_b[_c]=_d;}else{_a.push(_d);_b.push(_d);}}else if(_a[_c]>_d){if((_a[_c]-1)==_d){_a[_c]=_d;}else{_a.push(_d);_b.push(_d);_a.sort();_b.sort();}}};_pGrid._findCellObj=function(_a){var _b=_a;while(_b&&_b._type_name!="GridCell"){if(_b._type_name=="Grid"){if(_b==this){break;}else{_b=_a;break;}}if(_b._cellobj&&_b._cellobj._type_name=="GridCell"){_b=_b._cellobj;break;}_b=_b.parent;}return _b;};_pGrid._findBandObj=function(_a){var _b=_a;while(_b&&_b._type_name!="GridBand"){if(_b==this){break;}_b=_b.parent;}return _b;};_pGrid._getHScrollPos=function(){if(!this.hscrollbar.visible){return 0;}return this.hscrollbar.pos;};_pGrid._isFakeCell=function(_a){if(this._rowcount<=_a||_a< -2){return true;}return false;};_pGrid._moveToPosCell=function(_a,_b){var _c=_a;var _d=true;if(_c==undefined){_c=0;}if(this._isFakeCell(_c)){return false;}var _e=this._getBodyCellInfo(_b);if(!_e){return false;}var _f=this._beforebodycellpos=this._selectinfo.curcell;var _g=this._beforebodycolpos=this._selectinfo.curcol;var _h=this._beforebodyrowpos=this._selectinfo.curdsrow;var _i=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _j=this._beforepvt=this._selectinfo.curpvt;var _k=_b;var _l=_e._col;var _m=_c;var _n=_e._row;var _o= -9;this._setSelectedInfo(_k,_l,_m,_n,_o);while(true){if(_k!=_f){break;}if(_l!=_g){break;}if(_m!=_h){break;}if(_n!=_i){break;}if(_o!=_j){break;}_d=false;break;}if(_d){_d=this._ChangeSelect(_k,_l,_m,_n,_o,false,_f,_g,_h,_i,_j,"body");}this._moveCellAfterFocus();return _d;};_pGrid._getColFixCnt=function(_a){if(this._curFormat){return this._curFormat._getColFixCnt(_a);}return  -1;};_pGrid._getGridBand=function(_a){if(!this._curFormat||!this._curFormat._bodycells){return  -1;}var _b=this._curFormat._bodycells[_a];if(_b){if(this._bPivotGrid){var _c=this._getColFixCnt("left");var _d=this._getColFixCnt("right");if(_b._col<_c){return  -1;}else if(_b._col>=(this._curFormat._bodycells.length-right)){return  -2;}else{return 0;}}else{return 0;}}return  -9;};_pGrid._clrMultiSelect=function(){this._selectinfo.rows=[];this._selectinfo.selects=[];this._selectstartrow=[];this._selectstartcol=[];this._selectstartsubrow=[];this._selectstartpvt=[];this._selectendrow=[];this._selectendcol=[];this._selectendsubrow=[];this._selectendpvt=[];this._defaultSelect();};_pGrid._isIncludeSelectpos=function(_a,_b){var _c=this._selectinfo.getSelectCells(_b);if(_c&&_c[_a]){return true;}return false;};_pGrid._addSelectpos=function(_a,_b){var _c=this._selectinfo.selects;var _d=this._selectinfo.rows;if(!_c[_b+2]){_c[_b+2]=[];}_c[_b+2][_a]=true;for(var _e=0;_e<_d.length;_e++ ){if(_d[_e]==_b){return;}}_d.push(_b);_d.sort(function(_f,_g){return _f-_g;});};_pGrid._delSelectpos=function(_a,_b,_c){var _d=this._selectinfo.selects;var _e=this._selectinfo.rows;if(_a<0){if(nexacro._isArray(_b)){var _f=_b.length;for(var _g=_f-1;_g>=0;_g-- ){if(_c){if(_d[_b[_g]+2]){_d.splice(_b[_g]+2,1);}}else{_d[_b[_g]+2]=undefined;}for(var _h=0;_h<_e.length;_h++ ){if(_e[_h]==_b[_g]){_e.splice(_h,1);break;}}}}else{if(_c){if(_d[_b+2]){_d.splice(_b+2,1);}}else{_d[_b+2]=undefined;}for(var _h=0;_h<_e.length;_h++ ){if(_e[_h]==_b){_e.splice(_h,1);break;}}}}else{if(nexacro._isArray(_b)){var _f=_b.length;var _i,_j;for(var _g=_f-1;_g>=0;_g-- ){_i=_d[_b[_g]+2];if(_i){_i[_a]=false;}_j=false;for(var _h=0;_h<_i.length;_h++ ){if(_i[_h]){_j=true;break;}}if(!_j){_d[_b+2]=undefined;for(var _h=0;_h<_e.length;_h++ ){if(_e[_h]==_b[_g]){_e.splice(_h,1);break;}}}}}else{var _i=_d[_b+2];if(_i){_i[_a]=false;}var _j=false;for(var _h=0;_h<_i.length;_h++ ){if(_i[_h]){_j=true;break;}}if(!_j){_d[_b+2]=undefined;for(var _h=0;_h<_e.length;_h++ ){if(_e[_h]==_b){_e.splice(_h,1);break;}}}}}};_pGrid._resetSelectStartEndRow=function(){var _a=this._selectinfo.selects;this._selectstartrow=[];this._selectendrow=[];for(var _b=0;_b<_a.length;_b++ ){if(_a[_b]){this._applySelect(this._selectstartrow,this._selectendrow,_b-2);}}this.selectstartrow=this._selectstartrow;this.selectendrow=this._selectendrow;if(!this.selectstartrow.length){this.selectstartrow= -9;}if(!this.selectendrow.length){this.selectendrow= -9;}};_pGrid._isMultiSelected=function(){if(!this._curFormat||!this._curFormat._bodycells){return false;}if(this._isSelectRowType()){if(this._selectinfo.rows.length>1){return true;}}else{if(this._selectinfo.rows.length>1){return true;}else if(this._selectinfo.rows.length==1){var _a=this._selectinfo.selects[this._selectinfo.rows[0]+2];var _b=0;for(var _c=0;_c<_a.length;_c++ ){if(_a[_c]){_b++ ;}if(_b>1){return true;}}}}return false;};_pGrid._initSelect=function(_a,_b,_c,_d,_e){_b=(_b!==undefined)?_b:0;_c=(_c!==undefined)?_c:0;_a=(_a!==undefined)?_a:0;_d=(_d!==undefined)?_d:0;_e=(_e!==undefined)?_e: -9;this._resetSelect(_a,_b,_c,_d,_e);};_pGrid._resetSelect=function(_a,_b,_c,_d,_e){var _f=this._selectinfo.curcell;var _g=this._selectinfo.curcol;var _h=this._selectinfo.curdsrow;var _i=this._selectinfo.cursubrow;var _j=this._selectinfo.curpvt;_b=(_b!==undefined)?_b:this._selectinfo.curcell;_c=(_c!==undefined)?_c:this._selectinfo.curcol;_a=(_a!==undefined)?_a:this._selectinfo.curdsrow;_d=(_d!==undefined)?_d:this._selectinfo.cursubrow;_e=(_e!==undefined)?_e:this._selectinfo.curpvt;if(this.getElement()){if(_a>=0&&_b<0){if(this._isSelectRowType()){_b=0;}else{_b=_c=_d=0;}}this._clrMultiSelect();this._multiselect="none";this._setSelectedInfo(_b,_c,_a,_d,_e);this._ChangeSelect(_b,_c,_a,_d,_e,true,_f,_g,_h,_i,_j,"body");this._refreshHead(true);this._refreshSumm(true);}};_pGrid._ChangeSelect=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){_f=_f||false;var _n=this._multiselect;var _o=this._curFormat;if(!_o||(this._setdataobj&&this._setdataobj.succ==false)){this._setdataobj=null;this._setSelectedInfo(_g,_h,_i,_j,_k);return false;}var _p,_q,_r,_s=0;var _t=false;if(_l=="head"){_p=_o._headcells;_t=(_i!=_c||_g!=_a);if(_o._headrows){_s=_o._headrows.length;}}else if(_l=="summ"||_l=="summary"){_p=_o._summcells;_t=(_i!=_c||_g!=_a);if(_o._summrows){_s=_o._summrows.length;}}else{_p=_o._bodycells;if(this._isSelectRowType()){_t=(_i!=_c);}else{_t=(_i!=_c||_g!=_a);}if(_o._bodyrows){_s=_o._bodyrows.length;}}if(!_p){this._setSelectedInfo(_g,_h,_i,_j,_k);return false;}_q=_p.length;_r=_p[_a];var _u=false;if((_l=="body"&&_c<0)||_a<0){_u=(_n!="normal");this._clrMultiSelect();this._selectDraw(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_u,[]);this._selectinfo.area=[];this._defaultSelect();if(_t){this.on_fire_onselectchanged(this,_a,_b,_c,_d,_e,_g,_h,_i,_j,_k,this.selectendcol,this.selectendpivot,this.selectendrow,this.selectendsubrow,this.selectstartcol,this.selectstartpivot,this.selectstartrow,this.selectstartsubrow);}return true;}else if(!_r){this._setSelectedInfo(_g,_h,_i,_j,_k);return false;}_u=(this._selectClear||_u);this._selectClear=false;var _v=false;if(_n=="ctrl"){if(this.selecttype=="multirow"){if(!this._isIncludeSelectpos(0,_c)){_v=true;}}if(this.selecttype=="multicell"){if(!this._isIncludeSelectpos(_a,_c)){_v=true;}}}if(_f==false){if(this._binddataset&&_l=="body"&&_c>=0&&(_v==true||_i!=_c)){this._userRowposChange=true;var _ab=this._binddataset._setRowPosition(_c,undefined,51);this._userRowposChange=false;if(_c!=_ab){this._setSelectedInfo(_g,_h,_i,_j,_k);this._selectDraw(_g,_h,_i,_j,_k,_f,_a,_b,_c,_d,_e,true,[]);return false;}}}var _w=this._selectinfo.ctrlpoint;var _x=[];var _y=false;var _z=0;function makeClearRows(_ac){var _ad=_ac._selectinfo.rows;var _ae=0;_x=[];for(var _af=0;_af<_ad.length;_af++ ){_x[_ae++ ]=_ac._dsRowToDispRow(_ad[_af]);}return _ad;};if(_n=="none"){if(_l=="body"){if(this._isAreaSelect()||this._isMultiSelect()){if(this._isIncludeSelectpos(_a,_c)){if(_m=="keydown"||_m=="mousemove"){_y=true;}else{_w._set(_r,_c,_s);return false;}}else{if(_m=="lbuttonup"){_y=true;}}if(_m=="mousemove"){this._is_drag_selecting=true;}else{_x=makeClearRows(this);this._clrMultiSelect();if(_m!="lbuttonup"){_w._set(_r,_c,_s);}}}else{this._clrMultiSelect();_w._set(_r,_c,_s);}}else{_x=makeClearRows(this);this._clrMultiSelect();_w._set(_r,_c,_s);}this._selectinfo.area=[];}else if(_n=="ctrl"){if(_m!="mousemove"){_w._set(_r,_c,_s);}if(this.selecttype=="multirow"){if(_v==false&&(_m=="lbuttondown"||(_m&&_m.indexOf("func")>=0))){this._delMultirowSelectInfo(_c);this._delSelectpos( -1,_c);this._resetSelectStartEndRow();this._selectDraw(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_u,_x);this._defaultSelect();this.on_fire_onselectchanged(this,_a,_b,_c,_d,_e,_g,_h,_i,_j,_k,this.selectendcol,this.selectendpivot,this.selectendrow,this.selectendsubrow,this.selectstartcol,this.selectstartpivot,this.selectstartrow,this.selectstartsubrow);return true;}_y=true;_z=this._selectinfo.area.length;if(_m=="mousemove"){this._is_drag_selecting=true;_z-- ;}}else if(this.selecttype=="multiarea"){_z=this._selectinfo.area.length;if(_m=="mousemove"){this._is_drag_selecting=true;_z-- ;}}}else if(_n=="shift"){if(this.selecttype=="multiarea"){_z=this._selectinfo.area.length-1;}this._clrMultiSelect();_u=true;}if(this._isSelectRowType()==false){if(_t){_y=true;}if(this._isAreaSelect()){this._applyAreaSelectPos(_a,_c,_z,"area");}else{this._addSelectpos(_a,_c);this._applySelect(this._selectstartrow,this._selectendrow,_c);this._applySelect(this._selectstartcol,this._selectendcol,_b);this._applySelect(this._selectstartsubrow,this._selectendsubrow,_d);}}else{if(_t){_y=true;}if(this._isMultiSelect()){this._applyAreaSelectPos(_a,_c,_z,"row");}else{for(var _ac=0;_ac<_q;_ac++ ){this._addSelectpos(_ac,_c);}this._applySelect(this._selectstartrow,this._selectendrow,_c);}}this._defaultSelect();var _aa=false;if(_f==false){if(this._binddataset&&_l=="body"&&_c>=0&&(_v==true||_i!=_c)){this._rowposition=_c;_aa=true;}else{if(_u==true){_aa=true;}else if(_y==true){_aa=true;}}}else{_u=(this._isMultiSelect()||this._isAreaSelect());_aa=true;}if(_aa){this._selectDraw(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_u,_x,_m);}if(_y&&_m!="func_area1"){this.on_fire_onselectchanged(this,_a,_b,_c,_d,_e,_g,_h,_i,_j,_k,this.selectendcol,this.selectendpivot,this.selectendrow,this.selectendsubrow,this.selectstartcol,this.selectstartpivot,this.selectstartrow,this.selectstartsubrow);}return true;};_pGrid._applyAreaSelectPos=function(_a,_b,_c,_d){var _e=this._curFormat;var _f,_g,_h;var _i=[],_j=0,_k=0,_l=[],_m=0,_n=0,_o=[],_p=0,_q=0;if(_e._bodycells){_i=_e._bodycells;_j=_i.length;_k=_e._bodyrows.length;}if(_e._headcells){_l=_e._headcells;_m=_l.length;_n=_e._headrows.length;}if(_e._summcells){_o=_e._summcells;_p=_o.length;_q=_e._summrows.length;}if(_b== -2){_f=_o;_h=_q;}else if(_b== -1){_f=_l;_h=_n;}else{_f=_i;_h=_k;}var _g=_f.length;var _r=this._selectinfo.ctrlpoint;var _s=_f[_a];var _t,_u,_v,_w,_x=[],_y=[],_z;_v=Math.min(_b,_r.row);_w=Math.max(_b,_r.row);_t=Math.min(_r.col,_s._col);_u=Math.max((_r.col+_r.colspan-1),(_s._col+_s._colspan-1));if(_r.row<_b){_v=_r.row;_w=_b;_z=_w-_v;_x[0]=_r.subrow;_y[0]=_r.subrowslen-1;_x[_z]=0;_y[_z]=_s._row+_s._rowspan-1;}else if(_r.row>_b){_v=_b;_w=_r.row;_z=_w-_v;_x[0]=_s._row;_y[0]=_h-1;_x[_z]=0;_y[_z]=_r.subrow+_r.rowspan-1;}else{_v=_w=_b;_z=0;_x[0]=Math.min(_s._row,_r.subrow);_y[0]=Math.max(_s._row+_s._rowspan-1,_r.subrow+_r.rowspan-1);}var _aa;for(var _ai=_v+1;_ai<_w;_ai++ ){_aa=_ai-_v;_x[_aa]=0;if(_ai== -1){_y[_aa]=_n-1;}else{_y[_aa]=_k-1;}}var _ab;if(_d=="area"){if(_v>=0||_v==_w){_ab=this._adjustMergeArea(_f,_t,_u,_v,_w,_x,_y);}else{var _aj,_ak;var _al=_t,_am=_u;while(true){_aj=[].concat(_x);_ak=[].concat(_y);if(_v== -2){var _an=_aj.splice(0,1);var _ao=_ak.splice(0,1);var _ap=_aj.splice(0,1);var _aq=_ak.splice(0,1);_ab=this._adjustMergeArea(_o,_al,_am, -2, -2,_an,_ao);_al=_ab.begcol;_am=_ab.endcol;_ab=this._adjustMergeArea(_l,_al,_am, -1, -1,_ap,_aq);if(_al!=_ab.begcol||_am!=_ab.endcol){_al=_ab.begcol;_am=_ab.endcol;continue;}}else if(_v== -1){var _ap=_aj.splice(0,1);var _aq=_ak.splice(0,1);_ab=this._adjustMergeArea(_l,_al,_am, -1, -1,_ap,_aq);_al=_ab.begcol;_am=_ab.endcol;}if(_w>=0){_ab=this._adjustMergeArea(_i,_al,_am,0,_w,_aj,_ak);}if(_al!=_ab.begcol||_am!=_ab.endcol){_al=_ab.begcol;_am=_ab.endcol;continue;}break;}_ab.begrow=_v;_ab.begsubrow=_x;_ab.endsubrow=_y;}}else{_ab=this._adjustRowArea(_v,_w);}this._selectinfo.area[_c]=_ab;var _ac=this._selectinfo.area;var _ad=_ac.length;this._clrMultiSelect();var _ae,_af,_ag,_ah;if(_d=="area"){for(var _ar=0;_ar<_ad;_ar++ ){_t=_ac[_ar].begcol;_u=_ac[_ar].endcol;_v=_ac[_ar].begrow;_w=_ac[_ar].endrow;_x=_ac[_ar].begsubrow;_y=_ac[_ar].endsubrow;this._selectstartrow[_ar]=_v;this._selectendrow[_ar]=_w;this._selectstartcol[_ar]=_t;this._selectendcol[_ar]=_u;this._selectstartsubrow[_ar]=_x[0];this._selectendsubrow[_ar]=_y[_y.length-1];for(var _ai=_v,_as=0;_ai<=_w;_ai++ ,_as++ ){if(_ai== -2){_f=_o;_g=_p;}else if(_ai== -1){_f=_l;_g=_m;}else{_f=_i;_g=_j;}for(var _at=0;_at<_g;_at++ ){_ae=_f[_at]._col;_af=_f[_at]._col+_f[_at]._colspan-1;_ag=_f[_at]._row;_ah=_f[_at]._row+_f[_at]._rowspan-1;if(_ae>=_t&&_af<=_u&&_ag>=_x[_as]&&_ah<=_y[_as]){this._addSelectpos(_at,_ai);}}}}}else{for(var _ar=0;_ar<_ad;_ar++ ){_v=_ac[_ar].begrow;_w=_ac[_ar].endrow;for(var _ai=_v,_as=0;_ai<=_w;_ai++ ,_as++ ){if(_ai== -2){_g=_p;}else if(_ai== -1){_g=_m;}else{_g=_j;}if(_g==0){continue;}for(var _at=0;_at<_g;_at++ ){this._addSelectpos(_at,_ai);}this._applySelect(this._selectstartrow,this._selectendrow,_ai);}}}};_pGrid._delMultirowSelectInfo=function(_a){var _b=this._selectinfo.area;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d].begrow==_b[_d].endrow&&_b[_d].begrow==_a){_b.splice(_d,1);break;}else if(_b[_d].begrow==_a&&_b[_d].endrow!=_a){_b[_d].begrow++ ;break;}else if(_b[_d].endrow==_a&&_b[_d].begrow!=_a){_b[_d].endrow-- ;break;}else if(_b[_d].begrow<_a&&_b[_d].endrow>_a){var _e=_b[_d].endrow;_b[_d].endrow=_a-1;var _f=this._adjustRowArea(_a+1,_e);_b.splice(_d+1,0,_f);break;}}};_pGrid._adjustRowArea=function(_a,_b){return {begcol: -1,endcol: -1,begrow:_a,endrow:_b,begsubrow:[],endsubrow:[]};};_pGrid._adjustMergeArea=function(_a,_b,_c,_d,_e,_f,_g){var _h=_e-_d;var _i=_a.length;var _j,_k,_l,_m;var _n,_o=_f.length;for(var _p=0;_p<_i;_p++ ){_j=_a[_p]._col;_k=_a[_p]._col+_a[_p]._colspan-1;_l=_a[_p]._row;_m=_a[_p]._row+_a[_p]._rowspan-1;_n=false;for(var _q=0;_q<_o;_q++ ){if(((_b<=_j&&_c>=_j)||(_b<=_k&&_c>=_k)||(_b>_j&&_c<_k))&&((_f[_q]<=_l&&_g[_q]>=_l)||(_f[_q]<=_m&&_g[_q]>=_m)||(_f[_q]>_l&&_g[_q]<_m))){if(_b>_j){_b=_j;_n=true;}if(_c<_k){_c=_k;_n=true;}if(_q==0){if(_f[0]>_l){_f[0]=_l;_n=true;}}if(_q==_h){if(_g[_h]<_m){_g[_h]=_m;_n=true;}}if(_n==true){_p=0;break;}}}}return {begcol:_b,endcol:_c,begrow:_d,endrow:_e,begsubrow:_f,endsubrow:_g};};_pGrid._defaultSelect=function(){this.selectstartrow=this._selectstartrow;this.selectstartcol=this._selectstartcol;this.selectstartsubrow=this._selectstartsubrow;this.selectstartpivot=this._selectstartpvt;this.selectendrow=this._selectendrow;this.selectendcol=this._selectendcol;this.selectendsubrow=this._selectendsubrow;this.selectendpivot=this._selectendpvt;if(!this.selectstartrow.length){this.selectstartrow= -9;}if(!this.selectstartcol.length){this.selectstartcol= -1;}if(!this.selectstartsubrow.length){this.selectstartsubrow= -1;}if(!this.selectstartpivot.length){this.selectstartpivot= -9;}if(!this.selectendrow.length){this.selectendrow= -9;}if(!this.selectendcol.length){this.selectendcol= -1;}if(!this.selectendsubrow.length){this.selectendsubrow= -1;}if(!this.selectendpivot.length){this.selectendpivot= -9;}};_pGrid._dsRowToDispRow=function(_a,_b){var _c;if(this._hasTree){_c=this._getTreeRowPosition(_a);}else{_c=_a;}if(_b){_c-=this._getBodyBegRowPos(_c);}return _c;};_pGrid._jumpCurrentRow=function(_a){if(_a<0){return this._begrowpos;}var _b=this._toprowpos[0];var _c=this.vscrollbar;var _d=this._getBodyBegRowPos(_a);if(this._lbuttondown_proc==false){if(_a<=_b){if(!this._select_noscroll&&_c&&_c._isEnable()){_c._set_rowpos(_a);}_d=this._getBodyBegRowPos(_a);}else if(_a>(_b+this.pagerowcount-1)){var _e=(this.pagerowcount>0)?this._pagerowcnt-this.pagerowcount:0;if(!this._select_noscroll&&_c&&_c._isEnable()){_c._set_rowpos(_a-this._pagerowcnt+1+_e);}_d=this._getBodyBegRowPos(_a);}else{if(this._isRemainAreaScroll()){if(!this._select_noscroll&&_c&&_c._isEnable()){_c._set_rowpos(_a);}_d=this._getBodyBegRowPos(_a);}}}return _d;};_pGrid._getBodyBegRowPos=function(_a){if(this._fixed_rowcnt>0){if(this._fixed_endrow>=_a){return this._fixed_startrow;}return this._begrowpos-(this._fixed_rowcnt-this._fixed_startrow);}return this._begrowpos;};_pGrid._clearRows=function(_a){if(_a.length>0){for(var _b=0;_b<_a.length;_b++ ){if(_a[_b]== -2){this._refreshSumm(true);bSummRowDraw=false;}else if(_a[_b]== -1){this._refreshHead(true);bHeadRowDraw=false;}else{this._refreshBodyRow(_a[_b]-this._getBodyBegRowPos(_a[_b]));}}return true;}return false;};_pGrid._selectDraw=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=this._dsRowToDispRow(_i);var _p=this._dsRowToDispRow(_c);var _q=this._toprowpos[0];this._setSelectedInfo(null,null,_c,null,null);if(!this._is_created){return;}var _r=false;var _s=false;var _t=false;var _u=null;if((_u=this._getUseBindExprProp("body"))||this._isUseBindExprStyle("body")){_r=true;_l=true;}if(this._isUseBindExprStyle("head")||this._getUseBindExprProp("head")||_p== -1||_o== -1){_s=true;}if(this._isUseBindExprStyle("summ")||this._getUseBindExprProp("summ")||_p== -2||_o== -2){_t=true;}if(this._isSelectRowType()){if(_p<0&&(_n&&_n.indexOf("func")<0)){if(_l){if(!this._clearRows(_m)){this._refreshBody(true,true);}}else{this._refreshBodyRow(_o-this._getBodyBegRowPos(_o));}if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}else if(_p!=_o){this._jumpCurrentRow(_p);if(this._isMultiSelect()){this._refreshBody(true,true);if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}else{if(_l){if(!this._clearRows(_m)){this._refreshBody(true,true);}else{this._refreshBodyRow(_p-this._getBodyBegRowPos(_p));}}else{this._refreshBodyRow(_o-this._getBodyBegRowPos(_o));this._refreshBodyRow(_p-this._getBodyBegRowPos(_p));}if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}}else{if(this._isMultiSelect()){this._refreshBody(true,true);if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}}}else{if(_p<0&&(_n&&_n.indexOf("func")<0)){if(_l){if(!this._clearRows(_m)){this._refreshBody(true,true);}}else{this._refreshBodyCell(_g,_o-this._getBodyBegRowPos(_o));}if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}else if(_p!=_o||_a!=_g){if(_n!="selectorsizing"){this._jumpCurrentRow(_p);var _v;if(_p== -1){_v=this._getCurrentHeadCell( -1);}else if(_p== -2){_v=this._getCurrentSummCell( -1);}else{_v=this._getCurrentBodyCell( -1, -1);}if(_v){var _w=_v._refobj._area;var _x=this._select_ctrl;if(_x&&_x._is_tracking){if(_w=="body"){_v.parent._showfull(_v);}else if(_w=="left"){if(this.hscrollbar){this.hscrollbar.set_pos(0);}}else{var _y=this._getScollMaxLeft();if(this.hscrollbar){this.hscrollbar.set_pos(_y);}}}else if(!_n){_v.parent._showfull(_v);}else if(_n=="keydown"){_v._showfull(true);}}}if(this._isAreaSelect()){if(_n=="selectorsizing"){if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){nexacro.OnceCallbackTimer.callonce(this,function(){this._refreshBody(true,true);},10);}else{this._refreshBody(true,true);}}else{this._refreshBody(true,true);if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}}else{if(_l){this._clearRows(_m);this._refreshBody(true,true);}else{this._refreshBodyCell(_g,_o-this._getBodyBegRowPos(_o));this._refreshBodyCell(_a,_p-this._getBodyBegRowPos(_p));}if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}}else{if(this._isAreaSelect()){if(_n=="selectorsizing"){if(nexacro.OS=="Android"&&(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari")){nexacro.OnceCallbackTimer.callonce(this,function(){this._refreshBody(true,true);},10);}else{this._refreshBody(true,true);}}else{this._refreshBody(true,true);if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}}else if(this._isMultiSelect()){if(_l){this._clearRows(_m);this._refreshBody(true,true);}else{this._refreshBodyCell(_a,_p-this._getBodyBegRowPos(_p));}if(_s){this._refreshHead(true);}if(_t){this._refreshSumm(true);}}}}this._updateSelector();};_pGrid._isUseBindExprStyle=function(_a){return this._is_use_bind_expr_style[_a];};_pGrid._isUseBindExprOuterStyle=function(_a){return this._is_use_bind_expr_outerstyle[_a];};_pGrid._getUseBindExprProp=function(_a){var _b;var _c;var _d=this._curFormat;if(_a=="summary"){_a="summ";}if(this._is_use_bind_expr_prop[_a]!==null){return this._is_use_bind_expr_prop[_a];}this._is_use_bind_expr_prop[_a]=undefined;if(_a=="body"){_b=this._bodyBand;_c=_d._bodycells;}else if(_a=="head"){_b=this._headBand;_c=_d._headcells;}else{_b=this._summBand;_c=_d._summcells;}if(_b){var _e;for(var _f=0;_f<_c.length;_f++ ){var _g=_c[_f];for(_e in _g){if(_g.hasOwnProperty(_e)){if(_a=="body"&&_e=="text"){continue;}if(_g[_e]&&_g[_e]._bindtype>0){if(this._is_use_bind_expr_prop[_a]==undefined){this._is_use_bind_expr_prop[_a]=[];}this._is_use_bind_expr_prop[_a].push(_f);break;}}}}}return this._is_use_bind_expr_prop[_a];};_pGrid._clearBindTypeFlag=function(){this._is_use_bind_expr_prop.body=null;this._is_use_bind_expr_prop.head=null;this._is_use_bind_expr_prop.summ=null;};_pGrid._toggleVal=function(_a,_b){if(!_b){return false;}var _c=_b._getValue(_a);_c=nexacro._toBoolean(_c);_c=(_c)?0:1;if(_b.text._bindtype==1){this._dsEventOccured=true;var _d=this._binddataset.setColumn(_a,_b.text._bindexpr,_c);if(nexacro._enableaccessibility){var _e=this._getAccessibilityCurrentCell();if(_e){_e._setAccessibilityStatChecked(nexacro._toBoolean(_c));}}this._dsEventOccured=false;return _d;}return false;};_pGrid._isEditorKeyAction=function(_a,_b,_c,_d,_e,_f){if(this._is_editor_keyaction==false){this._is_editor_keyaction=true;return true;}if(_a instanceof nexacro.InputElement||_a instanceof nexacro.TextAreaElement){if(_a.readonly==true){return false;}if(_c==nexacro.Event.KEY_LEFT){if(_e||_f||_d){return true;}var _g=_a.getElementCaretPos();if((_g&&_g!= -1)&&_g.begin!=0){return true;}}else if(_c==nexacro.Event.KEY_RIGHT){if(_e||_f||_d){return true;}var _g=_a.getElementCaretPos();var _h=_a.getElementValue();var _i=_h?_h.length:0;if((_g&&_g!= -1)&&_g.begin!=_i){return true;}}else if(_c==nexacro.Event.KEY_UP){if(_e||_f||_d){return true;}if(_a.usemultiline){var _j=_a.getCaretLine();if(_j!=1){return true;}}}else if(_c==nexacro.Event.KEY_DOWN){if(_e||_f||_d){return true;}if(_a.usemultiline){var _j=_a.getCaretLine();_b=_a.parent.linkedcontrol;var _k=parseInt(_b._getTextLine());if(_j!=_k){return true;}}}}return false;};_pGrid._getDlgCode=function(_a,_b,_c,_d){if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){this._accept_arrow=true;}return {want_tab:this._acceptstab,want_return:false,want_escape:false,want_chars:false,want_arrows:this._accept_arrow};};_pGrid._getFirstEditableCell=function(){var _a,_b;if(this._binddataset&&this._curFormat&&this._curFormat._bodycells){var _c=this._getGridRowCount();var _d=this._curFormat._bodycells.length;for(var _e=0;_e<_c;_e++ ){for(var _f=0;_f<_d;_f++ ){var _g=_e;if(this._hasTree){_g=this._treeIndexes[_g];}_b=this._curFormat._bodycells[_f]._getEdittype(_g);if(_b!==""&&_b!=="none"){return {row:_g,cell:_f};}}}}return {row:null,cell:null};};_pGrid._getLastEditableCell=function(){var _a,_b;if(this._binddataset){var _c=this._getGridRowCount();var _d=this._curFormat._bodycells.length;for(var _e=_c-1;_e>=0;_e-- ){for(var _f=_d-1;_f>=0;_f-- ){var _g=_e;if(this._hasTree){_g=this._treeIndexes[_g];}_b=this._curFormat._bodycells[_f]._getEdittype(_g);if(_b!==""&&_b!=="none"){return {row:_g,cell:_f};}}}}return {row:null,cell:null};};_pGrid._isChar=function(_a){switch(_a){case 9:case 25:case 27:case 144:case 145:return false;break;};if((_a>=16&&_a<=21)||(_a>=33&&_a<=40)||(_a>=91&&_a<=93)||(_a>=112&&_a<=123)){return false;}return true;};_pGrid._ReasonRefresh=null;_pGrid.on_apply_cell_pseudo=function(_a,_b){this._ReasonRefresh=1;_a._ReasonRefresh=1;if(this.enableredraw){if(this._isSelectRowType()){if(this.useselcolor==false&&_a._selected){if(this._mouseovercell&&(this._mouseovercell._rowidx==_a._rowidx)){_b="mouseover";}}if(_b=="mouseover"){this._refreshBodyRow(_a._getDisplayRowIdx(),_b,_a.enable);}else{_a._ReasonRefresh=null;_a._control_pseudo="";_a._contents_pseudo="";this._refreshBodyRow(_a._getDisplayRowIdx(),_b,_a.enable);}this._adjustOverlayElements(false,false);}}_a._ReasonRefresh=null;this._ReasonRefresh=null;};_pGrid._setDSEventHandlers=function(_a){_a._setEventHandler("onload",this.on_dsnotify_onload,this);_a._setEventHandler("onrowposchanged",this.on_dsnotify_onrowposchanged,this);_a._setEventHandler("oncolumnchanged",this.on_dsnotify_oncolumnchanged,this);_a._setEventHandler("onrowsetchanged",this.on_dsnotify_onrowsetchanged,this);};_pGrid._removeDSEventHandlers=function(_a){_a._removeEventHandler("onload",this.on_dsnotify_onload,this);_a._removeEventHandler("onrowposchanged",this.on_dsnotify_onrowposchanged,this);_a._removeEventHandler("oncolumnchanged",this.on_dsnotify_oncolumnchanged,this);_a._removeEventHandler("onrowsetchanged",this.on_dsnotify_onrowsetchanged,this);};_pGrid._getBodyClientSize=function(){var _a=this._curFormat;var _b=0,_c=0,_d;_d=this._getAvailableRect(this);_c=_d.width;_b=_d.height;if(_a){if(!this._bodyBand){_d=this._getAvailableRect(this);_c=_d.width-_a.leftWidth-_a.rightWidth;_b=_d.height-this._getHeadHeight()-this._getSummHeight();}else{_d=this._getAvailableRect(this._bodyBand);_c=_d.width-_a.leftWidth-_a.rightWidth;_b=_d.height;}}return [_c,_b];};_pGrid._applyAutofittype=function(_a,_b){if(this.enableredraw==false){this._enable_redraw_history["autofit"]=[_a,_b];return;}var _c=this._curFormat;var _d=this.getElement();if(!_c||!_d){return;}var _e,_f;var _g=this._getBodyClientSize();_f=_g[0];_e=_g[1];if(!this._is_created&&(_f<=0||_e<=0)){_f=_d.client_width;_e=_d.client_height;}var _h=false;switch(this.autofittype){case "col":this._colautofit=true;this._rowautofit=false;break;case "row":this._colautofit=false;this._rowautofit=true;break;case "both":this._colautofit=true;this._rowautofit=true;break;case "allrow":this._colautofit=false;break;case "allboth":this._colautofit=true;break;case "col,allrow":this._colautofit=true;break;case "allpivot":this._colautofit=true;break;case "row,allpivot":this._colautofit=false;break;case "none":this._colautofit=false;this._rowautofit=false;_h=_b;break;}if(this._colautofit&&_f>=0){_h=_c._adjustColWidth(_f,this._autofitcol_rate);}if(_h){if(_a){this._autofiting=true;if(this._bodyBand){var _i=this._bodyBand._scrollHeight;var _j=this._bodyBand._scrollWidth;if(this._colautofit){if(_f!=_j){this._setScrollMaxSize(_f,_i);this._bodyBand._scrollWidth=_f;}this._bodyBand._matrix._adjustColsDisplay(true);}else{this._setScrollMaxSize(_c.bodyWidth,_i);this._bodyBand._scrollWidth=_c.bodyWidth;this._bodyBand._matrix._adjustColsDisplay(true);}}if(this._headBand){this._headBand._matrix._adjustColsDisplay(true);}if(this._summBand){this._summBand._matrix._adjustColsDisplay(true);}this._autofiting=false;}this._applyResizer();return true;}return false;};_pGrid._resetColSizeList=function(_a){var _b=false;if(this.autofittype!="col"&&this.autofittype!="both"&&this.autofittype!="allboth"&&this.autofittype!="col,allrow"){var _c=this._curFormat;if(!_c){return false;}var _d=_c._cols,_e=_d.length;if(this.autosizingtype=="col"||this.autosizingtype=="both"){for(var _f=0;_f<_e;_f++ ){var _g=this._getMaxColDataSizeBand(_f,_a);if(_g>=0&&this._setColSize( -9,_f,_g,false,false,true,(_f!=_e-1))){_b=true;}}if(this.autofittype=="col"||this.autofittype=="both"||this.autofittype=="allboth"||this.autofittype=="col,allrow"){this._applyAutofittype(true);}}else{for(var _f=0;_f<_e;_f++ ){var _g=_d[_f].size;if(_g>=0&&this._setColSize( -9,_f,_g,false,false,true,(_f!=_e-1))){_b=true;}}}}return _b;};_pGrid.redraw=function(){if(!this.enableredraw){this._enable_redraw_history["recreate"]=true;return;}this._recreate();if(this._select_ctrl){this._select_ctrl._updateAll();}};_pGrid._getRowSizeInfo=function(_a){var _b=this._curFormat;var _c,_d=[];if(_a== -1){_c=this._rowHeadList[0];_d=this._rowHeadListSub;return {row_size:_c,subrow_sizes:_d};}else if(_a== -2){_c=this._rowSummList[0];_d=this._rowSummListSub;return {row_size:_c,subrow_sizes:_d};}else if(_a>=0){var _e=_b._bodyrows;var _f=_e.length;var _g=this._rowSizeListSub=[];var _h=this._rowSizeList=[];_c=_g[_a];for(var _i=0;_i<_f;_i++ ){_d[_i]=_h[_a*_f+_i];}return {row_size:_c,subrow_sizes:_d};}return null;};_pGrid._resetRowSizeList=function(_a){if(!this._curFormat){return;}if(!this._preloadImage()){return;}var _b=this._curFormat;if(_b._headrows){var _c=this._isUserChangeHeadRowSize;if(!_c){this._rowHeadListSub=[];this._rowHeadList=[];}var _d=0,_e=_b._headrows,_f=_e.length,_g=this._rowHeadListSub,_h=this._rowHeadList,_i;if(!(_c&&_h[0]>=0)){if(this._binddataset&&this._headAutoSize&&(this._autoSizeRowProc||this.autosizingtype=="row"||this.autosizingtype=="both")){for(var _j=0;_j<_f;_j++ ){_i=this._getMaxSubRowSize( -1,_j);_g[_j]=_i;_d+=_i;}}else{for(var _j=0;_j<_f;_j++ ){_i=_e[_j].size;_g[_j]=_i;_d+=_i;}}this._rowHeadList[0]=_d;}}if(_b._summrows){var _c=this._isUserChangeSummRowSize;if(!_c){this._rowSummListSub=[];this._rowSummList=[];}var _d=0,_e=_b._summrows,_f=_e.length,_k=this._rowSummListSub,_l=this._rowSummList,_i;if(!(_c&&_l[0]>=0)){if(this._binddataset&&this._summAutoSize&&(this._autoSizeRowProc||this.autosizingtype=="row"||this.autosizingtype=="both")){for(var _j=0;_j<_f;_j++ ){_i=this._getMaxSubRowSize( -2,_j);_k[_j]=_i;_d+=_i;}}else{for(var _j=0;_j<_f;_j++ ){_i=_e[_j].size;_k[_j]=_i;_d+=_i;}}this._rowSummList[0]=_d;}}if(_b._bodyrows){var _c=this._isUserChangeBodyRowSize;if(!_c&&!_a){this._rowSizeList=[];this._rowSizeListSub=[];}var _m=this._rowcount,_e=_b._bodyrows,_f=_e.length,_n=this._rowSizeListSub,_o=this._rowSizeList,_d,_i;if(this._binddataset&&this._bodyAutoSize&&(this._autoSizeRowProc||this.autosizingtype=="row"||this.autosizingtype=="both")){for(var _p=0;_p<_m;_p++ ){if(_c&&_o[_p]>=0){continue;}if(_a>=0&&_p<_a){continue;}_d=0;for(var _j=0;_j<_f;_j++ ){_i=this._getMaxSubRowSize(_p,_j);_n.push(_i);_d+=_i;}_o[_p]=_d;}this._is_variable_bodyrowsize=true;}else{for(var _p=0;_p<_m;_p++ ){if(_c&&_o[_p]>=0){continue;}_d=0;for(var _j=0;_j<_f;_j++ ){_i=_e[_j].size;_n.push(_i);_d+=_i;}_o[_p]=_d;}if(!_c){this._is_variable_bodyrowsize=false;}}}this._updateRowSizeExtend();};_pGrid._updateRowSizeExtendEx=function(_a,_b,_c,_d,_e){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){if(!_a){return;}var _f=[];var _g=_a.length;for(var _h=0;_h<_g;_h++ ){_f[_h]=0;}var _i=_c.length;if(_d!=undefined){for(var _j=0;_j<_g;_j++ ){_f[_j]=_c[_d*_g+_j];}}else{for(var _j=0;_j<_i;){for(var _h=0;_h<_g;_h++ ){_f[_h]=Math.max(_f[_h],_c[_j]);_j++ ;}}}for(var _j=0;_j<_i;){for(var _h=0;_h<_g;_h++ ){_c[_j]=_f[_h];_j++ ;}}var _k=0;for(var _h=0;_h<_g;_h++ ){_k+=_f[_h];}var _l=_b.length;for(var _j=0;_j<_l;_j++ ){_b[_j]=_k;}}if(_e){this._resetFixSize();}};_pGrid._updateRowSizeExtend=function(){if(!this._binddataset||!this._curFormat){return;}if(this._headAutoSize){this._updateRowSizeExtendEx(this._curFormat._headrows,this._rowHeadList,this._rowHeadListSub);}if(this._summAutoSize){this._updateRowSizeExtendEx(this._curFormat._summrows,this._rowSummList,this._rowSummListSub);}if(this._bodyAutoSize){this._updateRowSizeExtendEx(this._curFormat._bodyrows,this._rowSizeList,this._rowSizeListSub,undefined,true);}};_pGrid._isChangeBodyColSizeList=function(_a,_b){if(this.autosizingtype!="both"&&this.autosizingtype!="col"){return false;}var _c=this._curFormat;if(!this._binddataset||!_c){return false;}var _d=_c._bodycells;var _e,_f,_g,_h=0;var _i=false;for(var _j=0;_j<_d.length;_j++ ){if(_d[_j].text._bindexpr==_a){_f=_d[_j]._col;_e=_c._cols[_f];_g=this._getMaxColDataSizeBand(_f);if(_e.size!=_g){_c._setColSize(_f,_g);_b[_h++ ]=_f;_i=true;}}}return _i;};_pGrid._isChangeBodyRowSizeList=function(_a){if(this._rowSizeEx==false&&this.autosizingtype!="both"&&this.autosizingtype!="row"){return false;}if(!this._binddataset||!this._curFormat){return false;}var _b=_a;var _c=this._curFormat._bodyrows;var _d;if(_c&&this._bodyAutoSize==true){_d=_c.length;for(var _e=0;_e<_d;_e++ ){var _f=(_b*_c.length)+_e;var _g=this._rowSizeListSub[_f];var _h=this._getMaxSubRowSize(_b,_e);if(_g!=_h){return true;}}}_c=this._curFormat._headrows;if(_c&&this._headAutoSize==true){_d=_c.length;for(var _e=0;_e<_d;_e++ ){var _g=this._rowHeadListSub[_e];var _h=this._getMaxSubRowSize( -1,_e);if(_g!=_h){return true;}}}_c=this._curFormat._summrows;if(_c&&this._summAutoSize==true){_d=_c.length;for(var _e=0;_e<_d;_e++ ){var _g=this._rowSummListSub[_e];var _h=this._getMaxSubRowSize( -2,_e);if(_g!=_h){return true;}}}return false;};_pGrid._updateBodyRowSizeList=function(_a){var _b=false;if(this._rowSizeEx==false||this._bodyAutoSize==false){return false;}if(!this._binddataset||!this._curFormat||!this._curFormat._bodyrows||this._curFormat._bodyrows.length==0){return false;}var _c=_a;var _d=this._curFormat._bodyrows;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){var _g=(_c*_d.length)+_f;var _h=this._rowSizeListSub[_g];var _i=this._getMaxSubRowSize(_c,_f);if(_h!=_i){this._rowSizeListSub[_g]=_i;this._rowSizeList[_c]+=(_i-_h);_b=true;}}if(_b==true){this._updateRowSizeExtend();}return _b;};_pGrid._getGridRowCount=function(_a){if(_a&&this._bodyrowheight===0){return 0;}var _b=0;if(this._hasTree){if(this._treeIndexes){_b=this._treeIndexes.length;}}else{_b=this._rowcount;}return _b;};_pGrid._resetDisplayInfo=function(_a,_b){this.pagerowcount=0;this._pagerowcnt=0;this._disprowcnt=0;var _c=this._curFormat;if(!_c){return;}var _d=this._getBodyClientSize();var _e=_d[1];var _f=this._getGridRowCount();var _c=this._curFormat;this._bodyrowheight=_c._body_height;if(this._bodyrowheight>0){if(this._is_variable_bodyrowsize==false){var _c=this._curFormat;var _g=this._bodyrowheight;this.pagerowcount=Math.floor(_e/_g);this._pagerowcnt=Math.ceil(_e/_g);this._disprowcnt=this._pagerowcnt*_a;}else{var _h=(this.vscrollbar)?this.vscrollbar._pos:0;var _i=this._control_element.vscroll_limit;if(_h<0){_h=0;}else if(_h>_i){_h=_i;}var _j,_k,_l=this._getScreenTopRowPos(_h);var _m=0;if(_b){_j=_k=_l[0];_m=_l[1];}else{_j=_k=(_l[1]>0)?_l[0]+1:_l[0];}var _n=0;var _o;var _p=true;for(;_k<_f;_k++ ){_o=this._getDataRow(_k);_n+=this._rowSizeList[_o];if(_m>0){_n-=(this._rowSizeList[_o]-_m);_m=0;}if(_p){this._pagerowcnt++ ;}this._disprowcnt++ ;if(_n>=_e){_p=false;}if(_n>=_e*_a){break;}if(_p){this.pagerowcount++ ;}}if(_k==_f&&_n<_e){var _q=(this._fixed_endrow>=0)?this._fixed_endrow: -1;for(var _k=_j-1;_k>_q;_k-- ){_o=this._getDataRow(_k);_n+=this._rowSizeList[_o];if(_p){this._pagerowcnt++ ;}this._disprowcnt++ ;if(_n>=_e){_p=false;}if(_n>=_e*_a){break;}if(_p){this.pagerowcount++ ;}}}if(this._disprowcnt==0&&_l[1]>=_e){this._pagerowcnt=this.pagerowcount=this._disprowcnt=1;}}}};_pGrid._getMaxColSize=function(_a,_b,_c,_d,_e){var _f=0;var _g=_a.length;var _h,_i,_j;var _k=this._curFormat;var _l=0;var _m,_n;for(var _o=0;_o<_g;_o++ ){_m=_a[_o]._col;_n=_a[_o]._colspan;if(_m<=_b&&_m+_n>_b){_j=_a[_o]._subcells;if(_j.length>0){var _p=this._getMaxColSize(_j,_b-_m,_c,_b,_e);_f=Math.max(_f,_p);}else{if(_n>1){if(_m+_n-1!=_b){continue;}}if(!_d){_d=0;}var _q=0;if(this._hasTree){_q=this._getDepthWidth(_c,_a[_o]);}if(_q<0){return  -1;}var _r=_a[_o]._getAttrValue(_a[_o].autosizecol,_c);var _s=_k._cols[_b+_d].orgsize;var _t;if(_r=="none"){_t=_s;}else{var _u=_a[_o]._getAttrValue(_a[_o].displaytype,_c);if(_u=="checkbox"){var _v=_a[_o]._query_pseudo_control(this,_c,"checkboxsize","buttonsize","normal");if(_v==null){_v=14;}else{_v=parseInt(_v._value,10);}_t=_v+6;}else{var _w=_a[_o]._getDisplayText(_c);if(_e&&_n==1){var _x=/\r\n|\n|\r/;var _y=_w.split(_x);var _z=_y.length;var _aa,_ab=0;for(var _ac=0;_ac<_z;_ac++ ){_aa=this._getByteLength_UTF8(_y[_ac]);_ab=Math.max(_ab,_aa);}if(_e.max>=_ab){continue;}_e.max=_ab;}_t=this._getCellRowTextSize(_a[_o],_c,_w);_t=_t[0];}var _ad=_a[_o]._curpadding,_ae=_a[_o]._curborder;if(_ad==="bindexpr"||_ad===undefined){_ad=_a[_o]._query_pseudo_padding(_c,"normal");}if(_ae==="bindexpr"||_ae===undefined){_ae=_a[_o]._query_pseudo_border(_c,false,"normal",0,null,null);}_t+=(_ad)?(_ad.left+_ad.right):0;_t+=(_ae&&_ae.bottom_width)?parseInt(_ae.bottom_width):0;_t+=_q;if(_r=="limitmin"){if(_t<_s){_t=_s;}}else if(_r=="limitmax"){if(_t>_s){_t=_s;}}if(_n>1){var _af=0;var _ag=_m,_ah=_m+_n-1;for(var _ac=_ag;_ac<_ah;_ac++ ){_af+=_k._cols[_ac+_d].size;}_t-=_af;}}_f=Math.max(_f,_t);}}}return _f+1;};_pGrid._getCellRowTextSize=function(_a,_b,_c){var _d=_a._curfont,_e=_a._curselfont;var _f=_a._getWordwrap(_b);var _g=[],_h,_i;if(_d===undefined){_d=_a._query_pseudo_font(_b,false,"normal");_h=nexacro._getTextSize2("A",_d);if(_a._curfont!=="bindexpr"){_a._cur1font_size=_h;}}else{if(_d==="bindexpr"){_d=_a._query_pseudo_font(_b,false,"normal");_h=nexacro._getTextSize2("A",_d);}else if(!(_h=_a._cur1font_size)){_h=nexacro._getTextSize2("A",_d);_a._cur1font_size=_h;}}if(_e===undefined){_e=_a._query_pseudo_font(_b,true,"normal");_i=nexacro._getTextSize2("A",_e);if(_a._curselfont!=="bindexpr"){_a._cur1selectfont_size=_i;}}else{if(_e==="bindexpr"){_e=_a._query_pseudo_font(_b,true,"normal");_i=nexacro._getTextSize2("A",_e);}else if(!(_i=_a._cur1selectfont_size)){_i=nexacro._getTextSize2("A",_e);_a._cur1selectfont_size=_i;}}var _j,_k;if(!_c){if(_h[0]<=_i[0]){_g=[].concat(_i);}else{_g=[].concat(_h);}_g[0]=1;return _g;}else{if(_h[0]<=_i[0]){_d=_e;_k=_i[0];_j=_i[1];}else{_k=_h[0];_j=_h[1];}}var _l=_a._getAttrValue(_a.displaytype,_b);if(_l=="image"){var _m="row"+_b;var _n=_a._imgWidthTemp[_m];var _o=_a._imgHeightTemp[_m];if(_n>0){_g[0]=_n;_g[1]=_o;}else{url=nexacro._getURIValue(_c);url=nexacro._getImageLocation(url,this._getRefFormBaseUrl());var _p=nexacro._getImageSize(url,this._on_sizeloading,this);if(_p){_g[0]=_p.width;_g[1]=_p.height;}else{_g[0]=1;_g[1]=_j;}}return _g;}else{var _q=true;if(this.autosizingtype=="col"||this.autosizingtype=="both"){_q=false;}if(_q&&(this._autoSizeRowProc||this._rowSizeEx)&&_f!="none"&&_f!=false&&_f!="false"){var _r=this._curFormat._cols;var _s=_r[_a._col+_a._colspan-1].right-_r[_a._col].left;var _t=_a._query_pseudo_padding(_b,"normal");var _u=_a._query_pseudo_border(_b,false,"normal",0,null,null);var _v=_a._query_pseudo_border(_b,true,"normal",0,null,null);_u=(_u.right_width<_v.right_width)?_v:_u;_s-=(_t.left+_t.right);_s-=_u.right_width?parseInt(_u.right_width):0;_g=nexacro._getTextSize2(_c,_d,true,_s,_f);}else{_g=nexacro._getTextSize2(_c,_d,true);}if(_g[1]<_j){_g[1]=_j;}return _g;}};_pGrid._getMaxSubRowSize=function(_a,_b,_c,_d){var _e=this._curFormat;var _f;if(_a== -2){if(!_c){_c=this._curFormat._summcells;};_f=_e._summrows;}else if(_a== -1){if(!_c){_c=this._curFormat._headcells;}_f=_e._headrows;}else{if(!_c){_c=this._curFormat._bodycells;}_f=_e._bodyrows;}var _g=this._curFormat._cols;if(!this._autoSizeRowProc&&this.autosizingtype!="row"&&this.autosizingtype!="both"){return _f[_b].size;}var _h=0;var _i=_c.length;var _j,_k,_l;for(var _m=0;_m<_i;_m++ ){_j=_c[_m]._row;_k=_c[_m]._rowspan;_l=_c[_m]._subcells;if(_j==_b||(_l.length>0&&_j<=_b&&(_j+_k)>_b)){var _n=0;var _o= -1;var _p=0;if(_l.length>0){_n=this._getMaxSubRowSize(_a,_b-_j,_l,_j);_h=Math.max(_h,_n);}else{if(!_d){_d=0;}var _q=_c[_m]._getAttrValue(_c[_m].autosizerow,_a);var _r=_f[_b+_d].size;var _s;if(_q=="none"){_s=_r;}else{var _t=_c[_m]._getDisplayText(_a);var _u=this._getCellRowTextSize(_c[_m],_a,_t);_s=_u[1];var _v=_u[0];var _w=1;var _x=_c[_m]._curpadding,_y=_c[_m]._curborder;if(_x==="bindexpr"||_x===undefined){_x=_c[_m]._query_pseudo_padding(_a,"normal");}if(_y==="bindexpr"||_y===undefined){_y=_c[_m]._query_pseudo_border(_a,false,"normal",0,null,null);}_s+=_x.top+_x.bottom;_s+=_y.bottom_width?parseInt(_y.bottom_width):0;if(_q=="limitmin"){if(_s<_r){_s=_r;}}else if(_q=="limitmax"){if(_s>_r){_s=_r;}}}_h=Math.max(_h,_s);}}}return _h;};_pGrid._getSubRowSizeList=function(_a){var _b=this._curFormat;var _c=_b._bodyrows;var _d=_c.length;var _e=[],_f=0;for(var _g=0;_g<_d;_g++ ){_e[_f++ ]=this._rowSizeListSub[_a*_d+_g];}return _e;};_pGrid._makeCssRefInfoCtrl=function(_a){_a._refcssobj=this;_a._refcssid="#"+_a.id;return this;};_pGrid._addFuncQueue=function(_a,_b,_c,_d){var _e={work:_a,pthis:_b,func:_c,args:_d};this._func_queue.push(_e);};_pGrid._exeFuncQueue=function(_a){var _b=this._func_queue;for(var _c=0;_c<_b.length;_c++ ){if(_b[_c].work==_a){_b[_c].func.call(_b[_c].pthis,_b[_c].args);this._func_queue.splice(_c,1);_c-- ;}}};_pGrid._addRefreshContents=function(_a,_b,_c){if(_b){var _d=this._recreate_contents_proc;if(_c){for(var _e=0;_e<_d.length;_e++ ){if(_d[_e].workname==_a){return false;}}}var _f={workname:_a,band:_b};_d.push(_f);return true;}};_pGrid._execRefreshContents=function(_a,_b,_c){var _d=this._recreate_contents_proc;if(_b&&_d.length>0){this._clearAllStyleCache();}for(var _e=0;_e<_d.length;_e++ ){if(_d[_e].workname==_a){_d[_e].band._recreate_contents(true,false,false,false,_c);this._recreate_contents_proc.splice(_e,1);_e-- ;}}};_pGrid._applyColSizing=function(_a,_b){if(this.enableredraw==false){return;}var _c=this.getElement();var _d=this._curFormat;if(_c&&_d&&_b>=0){var _e=this._headBand;var _f=_e._get_rows();var _g=_f[0]._cells[_b];var _h=_g._refobj;var _i=_h._col+(_h._colspan-1);var _j=_d._cols[_i]._area;if(_h._area!="right"){var _k=_d._cols[_i].left;var _l=_d._cols[_i].right+_a;if(_k>_l){var _m=_d._cols[_i+1];if((_m&&_m._area=="right")||_i==_d._cols.length-1){_a=_k-_d._cols[_i].right+7;}else{_a=_k-_d._cols[_i].right+1;}}}else{var _n=_d._cols[_i].right;var _o=_d._cols[_i].left+_a;if(_n<_o){_a=_n-_d._cols[_i].left-1;}_a=0-_a;}var _p=_d._cols[_i].size;var _q=_d._adjustColSizing(_i,_a);var _r=_d._cols[_i].size;if(_q){this._updateColSize(_i);this._addFuncQueue("colsizing",this,this.on_fire_oncolresized,[_i, -9,_r,_p,_i]);}}};_pGrid._applyRowSizing=function(_a,_b){if(this.enableredraw==false){return;}var _c=this.getElement();var _d,_e,_f;var _g=this._curFormat;if(_g&&_c&&_b>=0){var _h=this._resizerRowRange[_b];var _i=_h.area,_j;var _k=this._getDataRow(_h.row);var _l=_h.cellinfo._row+_h.cellinfo._rowspan-1;var _m=false;if(_i=="head"){_e=this._rowHeadListSub[_l];_j=_e+_a;_j=Math.max(_j,5);_j=Math.min(_j,this._client_height-5);_f=_j;var _n=this.enableredraw;this.enableredraw=false;this.setRealRowSize( -1,_l,_j,true);this.enableredraw=_n;_d=_l;if(_a){this._resizeBand();this._addRefreshContents("rowsizing",this._headBand);_m=true;}}else if(_i=="body"){_e=this._rowSizeListSub[_k*_g._bodyrows.length+_l];_j=_e+_a;var _o,_p;if(_k==this._rowcount-1){_p=7;}else{_p=1;}_o=_j-_p;if(_o<0){_j=_p;_a-=_o;}_f=_j;if(this._getFixRowCnt()>_k){this._fixed_height+=_a;this._fixedrow_height+=_a;}var _n=this.enableredraw;this.enableredraw=false;this.setRealRowSize(_k,_l,_j,true);this.enableredraw=_n;_d=_l+((_g._headrows)?_g._headrows.length:0);if(_a){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){this._addRefreshContents("rowsizing",this._bodyBand);}else{this._updateRowSize(_k,_l);}_m=true;}}else if(_i=="summ"){_e=this._rowSummListSub[_l];if(this.summarytype=="top"||this.summarytype=="lefttop"){_j=_e+_a;}else{_j=_e-_a;}_j=Math.max(_j,5);_j=Math.min(_j,this._client_height-5);_f=_j;var _n=this.enableredraw;this.enableredraw=false;this.setRealRowSize( -2,_l,_j,true);this.enableredraw=_n;_d=_l+((_g._headrows)?_g._headrows.length:0)+((_g._bodyrows)?_g._bodyrows.length:0);if(_a){this._resizeBand();this._addRefreshContents("rowsizing",this._summBand);_m=true;}}if(_m){this._addFuncQueue("rowsizing",this,this.on_fire_onrowresized,[_d,_k,_f,_e,_l]);}}};_pGrid._no_update_bandrect=false;_pGrid._updateColSize=function(_a){var _b=false;if(this.autosizingtype=="row"||this.autosizingtype=="both"){this._resetRowSizeList();var _c=this._no_update_bandrect;this._no_update_bandrect=true;this._resizeBand();this._no_update_bandrect=_c;_b=true;_a=null;}this._autofitcol_rate=[];this._applyAutofittype(true);if(this._headBand){this._headBand._matrix._adjustColsDisplay(true,false,_a);this._headBand._matrix._adjustRowsDisplay(_b);}if(this._summBand){this._summBand._matrix._adjustColsDisplay(true,false,_a);this._summBand._matrix._adjustRowsDisplay(_b);}if(this._bodyBand){var _d=this._getScrollTop();if(_d<0){_d=0;}this._last_scroll_top=_d;this._toprowpos=this._getScreenTopRowPos(_d);this._bottomrowpos=this._getScreenBottomRowPos(_d);this._bodyBand._matrix._adjustColsDisplay(true,false,_a);this._bodyBand._matrix._adjustRowsDisplay(_b);this._bodyBand._update_rows=this._bodyBand._matrix._adjustScrollRows(_d,true);this._bodyBand._on_refresh_rows(false,true);this._adjustOverlayElements(false,false);}};_pGrid._updateRowSize=function(_a,_b,_c){if(this.extendsizetype!="row"&&this.extendsizetype!="both"){return;}var _d=this._curFormat;if(_a== -1){if(!this._headBand){return false;}var _e=this._headBand._get_rows()[0];var _f=this._rowHeadList[0];var _g=this._rowHeadListSub[_b];_e.set_height(_f);_e._init(_d);var _h=_e._cells;for(var _i=0;_i<_h.length;_i++ ){if(_h[_i]._refobj._row<=_b&&_b<_h[_i]._refobj._row+_h[_i]._refobj._rowspan){if(_h[_i]._refobj._row<_b){for(var _j=_h[_i]._refobj._row;_j<_b;_j++ ){_g+=this._rowHeadListSub[_j];}}if(_h[_i]._refobj._rowspan>1){for(var _j=_b+1;_j<_h[_i]._refobj._row+_h[_i]._refobj._rowspan;_j++ ){_g+=this._rowHeadListSub[_j];}}_h[_i].set_height(_g);}}this._resizeBand();if(this._bodyBand&&!_c){this._bodyBand._matrix._adjustRowsDisplay();this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._on_refresh_rows(false,false);}}else if(_a== -2){if(!this._summBand){return false;}var _e=this._summBand._get_rows()[0];var _f=this._rowSummList[0];var _g=this._rowSummListSub[_b];var _k=_d._summrows.length;_e.set_height(_f);_e._init(_d);var _h=_e._cells;for(var _i=0;_i<_h.length;_i++ ){if(_h[_i]._refobj._row<=_b&&_b<_h[_i]._refobj._row+_h[_i]._refobj._rowspan){if(_h[_i]._refobj._row<_b){for(var _j=_h[_i]._refobj._row;_j<_b;_j++ ){_g+=this._rowSummListSub[_j];}}if(_h[_i]._refobj._rowspan>1){for(var _j=_b+1;_j<_h[_i]._refobj._row+_h[_i]._refobj._rowspan;_j++ ){_g+=this._rowSummListSub[_j];}}_h[_i].set_height(_g);}}this._resizeBand();if(this._bodyBand&&!_c){this._bodyBand._matrix._adjustRowsDisplay();this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._on_refresh_rows(false,false);}}else if(_a>=0){if(!this._bodyBand){return false;}var _l=this._bodyBand._get_rows();var _e;for(var _m=0;_m<_l.length;_m++ ){if(_l[_m]._rowidx==_a){_e=_l[_m];break;}}if(!_e){return false;}_e._init(_d);this._bodyBand._control_element._setFixArea(this._fixed_height);this._bodyBand._client_height=this._bodyBand._control_element.client_height;var _n=this._getDataRow(_a);var _f=this._rowSizeList[_n];var _o=this._curFormat._bodyrows.length;var _g=this._rowSizeListSub[_n*_o+_b];_e.set_height(_f);var _h=_e._cells;for(var _i=0;_i<_h.length;_i++ ){if(_h[_i]._refobj._row<=_b&&_b<_h[_i]._refobj._row+_h[_i]._refobj._rowspan){if(_h[_i]._refobj._row<_b){for(var _j=_h[_i]._refobj._row;_j<_b;_j++ ){_g+=this._rowSizeListSub[_n*_o+_j];}}if(_h[_i]._refobj._rowspan>1){for(var _j=_b+1;_j<_h[_i]._refobj._row+_h[_i]._refobj._rowspan;_j++ ){_g+=this._rowSizeListSub[_n*_o+_j];}}_h[_i].set_height(_g);}}var _p=this._getScrollTop();if(_p<0){_p=0;}if(!_c){this._last_scroll_top=_p;this._toprowpos=this._getScreenTopRowPos(_p);this._bottomrowpos=this._getScreenBottomRowPos(_p);this._bodyBand._matrix._adjustRowsDisplay(true);this._bodyBand._matrix._adjustColsDisplay();this._bodyBand._update_rows=this._bodyBand._matrix._adjustScrollRows(_p,true);this._bodyBand._on_refresh_rows(false,false);}}else{return false;}return true;};_pGrid._applyResizer=function(){if(this.cellsizingtype=="col"||this.cellsizingtype=="both"){var _a=this._headBand;if(_a==null){return;}var _b=_a._get_rows();if(_b.length==0){return;}var _c=_b[0]._cells.length;var _d,_e,_f,_g;var _h,_i,_j,_k;var _l=this._resizerColRange=[];var _m={};var _n=0;var _o=this._resizer_colctrl;var _p=this._curFormat;if(_o){_o.destroy();delete _o;}_o=new nexacro.GridControlResizer("resizertrack","absolute",0,0,0,0,null,null,this);_o._setDirection("horizon");_o._setTracksize(this._client_height);_o._setCallbackFn(this._applyColSizing);_o.createComponent();this._resizer_colctrl=_o;for(var _q=0;_q<_c;_q++ ){_h=_b[0]._cells[_q];if(!_h){break;}_j=_h._refobj;_k=_h._setPositionInGrid(null,true,true);_g=_k.height;_i=_h.on_find_CurrentStyle_border(_h._pseudo);if(_j._area=="left"||_j._area=="body"){_f=_i?_i._right_width:0;_d=_k.left+_h._adjust_width-_f-4;}else{_f=_i?_i._left_width:0;_d=_k.left-2;}_m={left:_d,top:_k.top,right:_d+_f+6,bottom:_k.top+_g,index:_h._cellidx,area:_j._area};switch(this.cellsizebandtype){case "body":if(_j._area=="body"){_l[_n++ ]=_m;}break;case "allband":case "nohead":_l[_n++ ]=_m;break;case "noleft":case "nohead,noleft":if(_j._area!="left"){_l[_n++ ]=_m;}break;}}}else{var _o=this._resizer_colctrl;if(_o){_o.destroy();this._resizer_colctrl=null;this._resizerColRange=[];}}if(this.cellsizingtype=="row"||this.cellsizingtype=="both"){var _r=this._headBand;var _s=this._bodyBand;var _t=this._summBand;var _b,_h,_i,_j,_k;if(!_r&&!_s&&!_t){return;}var _l=this._resizerRowRange=[];var _m={};var _n=0;var _u=this._resizer_rowctrl;if(_u){_u.destroy();delete _u;}_u=new nexacro.GridControlResizer("resizertrack","absolute",0,0,0,0,null,null,this);_u._setDirection("vertical");_u._setTracksize(this._client_width);_u._setCallbackFn(this._applyRowSizing);_u.createComponent();this._resizer_rowctrl=_u;while(_r){if(this.cellsizebandtype=="body"||this.cellsizebandtype=="nohead"||this.cellsizebandtype=="nohead,noleft"){break;}_b=_r._get_rows();if(!_b.length){break;}var _v=_b[0]._cells.length;for(var _w=0;_w<_v;_w++ ){_h=_b[0]._cells[_w];_j=_h._refobj;_k=_h._setPositionInGrid(null,true,true);_f=_h._adjust_width;_i=_h.on_find_CurrentStyle_border(_h._pseudo);_g=_i?_i._bottom_width:0;_e=_k.top+_h._adjust_height-_g-4;_m={left:_k.left,top:_e,right:_k.left+_f,bottom:_e+_g+6,index:_n,area:"head",row:_h._rowidx,cellinfo:_j};_l[_n++ ]=_m;}break;}if(_s){_b=_s._get_rows();var _x=_b.length;var _v=_x>0?_b[0]._cells.length:0;for(var _w=0;_w<_x;_w++ ){for(var _q=0;_q<_v;_q++ ){_h=_b[_w]._cells[_q];_j=_h._refobj;_k=_h._setPositionInGrid(null,true,true);_f=_h._adjust_width;_i=_h.on_find_CurrentStyle_border(_h._pseudo);_g=_i?_i._bottom_width:0;_e=_k.top+_h._adjust_height-_g-4;_m={left:_k.left,top:_e,right:_k.left+_f,bottom:_e+_g+6,index:_n,area:"body",row:_h._rowidx,cellinfo:_j};_l[_n++ ]=_m;}}}while(_t){if(this.cellsizebandtype=="body"){break;}_b=_t._get_rows();if(!_b.length){break;}var _v=_b[0]._cells.length;for(var _w=0;_w<_v;_w++ ){_h=_b[0]._cells[_w];_j=_h._refobj;_k=_h._setPositionInGrid(null,true,true);_f=_h._adjust_width;_i=_h.on_find_CurrentStyle_border(_h._pseudo);if(this.summarytype=="top"||this.summarytype=="lefttop"){_g=_i?_i._bottom_width:0;_e=_k.top+_h._adjust_height-_g-4;}else{_g=_i?_i._top_width:0;_e=_k.top-2;}_m={left:_k.left,top:_e,right:_k.left+_f,bottom:_e+_g+6,index:_n,area:"summ",row:_h._rowidx,cellinfo:_j};_l[_n++ ]=_m;}break;}}else{var _u=this._resizer_rowctrl;if(_u){_u.destroy();this._resizer_rowctrl=null;this._resizerRowRange=[];}}};_pGrid._isAreaSelect=function(){if(this.selecttype=="area"||this.selecttype=="multiarea"){return true;}return false;};_pGrid._isSelectRowType=function(){if(this.selecttype=="row"||this.selecttype=="multirow"){return true;}return false;};_pGrid._isMultiSelect=function(){if(this.selecttype=="multirow"||this.selecttype=="multicell"||this.selecttype=="multitreecell"||this.selecttype=="multiarea"){return true;}return false;};_pGrid._setColSize=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._curFormat;var _i=this._getColFixCnt("left");var _j=this._getColFixCnt("body");var _k=this._getColFixCnt("right");var _l=_h._cols;var _m=_l.length;var _n="body";if(_a== -1){_n="left";}else if(_a== -2){_n="right";}if(_d==true||_a>= -2){if(_n=="body"&&_b>=0){_b+=_i;}else if(_n=="right"){_b+=_i;_b+=_j;}}var _o=false;if(_b== -1){var _p;for(var _q=0;_q<_m;_q++ ){if(_f){if(_l[_q]._area=="left"&&this._AutoSizeLcol==false){continue;}if(_l[_q]._area=="right"&&this._AutoSizeRcol==false){continue;}}_p=_h.setFormatColProperty(_q,"size",_c);if(_p){_o=_p;}}}else{while(true){if(_f){if(_l[_b]._area=="left"&&this._AutoSizeLcol==false){break;}if(_l[_b]._area=="right"&&this._AutoSizeRcol==false){break;}}_o=_h._setColSize(_b,_c,_g);break;}}if(_e&&_o){this._recreate_contents_all(true,true,false);}return _o;};_pGrid._getLastRowBand=function(){var _a=this._curFormat;var _b="body";if(this.summarytype=="top"||this.summarytype=="lefttop"){if(_a._headrows&&_a._headrows.length){_b="head";}if(_a._summrows&&_a._summrows.length){_b="summ";}if(_a._bodyrows&&_a._bodyrows.length){_b="body";}}else{if(_a._headrows&&_a._headrows.length){_b="head";}if(_a._bodyrows&&_a._bodyrows.length){_b="body";}if(_a._summrows&&_a._summrows.length){_b="summ";}}return _b;};_pGrid._getDispRowCnt=function(){if(this._bodyBand){return this._bodyBand._get_rows().length;}return 0;};_pGrid._getScreenBottomRowPos=function(_a){if(!this._is_use_suppress){return  -1;}var _b=this._bodyBand;var _c=(_a!=null)?_a:this._getScrollTop();var _d= -1;var _e=0;var _f=this._getGridRowCount();var _g=this._getAvailableRect(_b).height;for(var _h=0;_h<_f;_h++ ){if(_h<=this._fixed_endrow){continue;}_e+=this._getRowSize(_h);if(_e>=_c+_g){_d=_h;break;}}return _d;};_pGrid._getScreenTopRowPos=function(_a){var _b=this._bodyBand;var _c=(_a!=null)?_a:this._getScrollTop();var _d=0;var _e=0;var _f=this._getGridRowCount();var _g=0;var _h=false;for(var _i=0;_i<_f;_i++ ){if(_i<=this._fixed_endrow){continue;}if(_e>_c){_d=_i-1;_g=_e-_c;_h=true;break;}_e+=this._getRowSize(_i);}if(!_h){if(_b._client_height<_e){if(_e>_c){_d=_i-1;_g=_e-_c;}}else{_d=this._getFixRowCnt();_g=0;}}return [_d,_g];};_pGrid._isRemainAreaScroll=function(){var _a=this._bodyBand;var _b=_a._get_rows();if(_b.length==0){return false;}var _c=this._getScrollTop();var _d=0;var _e=_b.length;var _f=_b[_e-1];var _g=this._getGridRowCount()-1;if(_f._rowidx!=_g){return false;}var _h=this._getBodyClientSize()[1];var _i=0;for(var _j=_b.length-1;_j>=0;_j-- ){_i=_b[_j]._rowidx;_d+=this._getRowSize(_i);if(_d>=_h){break;}}_c-=_b[0]._adjust_top;for(var _j=0;_j<_e;_j++ ){if(_d==_c){return false;}else if(_d>_c){if(_i==_b[_j]._rowidx-1){return true;}else{return false;}}_d+=this._getRowSize(_b[_j]._rowidx);}return false;};_pGrid._getScollMaxLeft=function(){return this._control_element.hscroll_limit;};_pGrid._getScrollLeft=function(){return this._control_element.scroll_left;};_pGrid._getScrollTop=function(){return this._control_element.scroll_top;};_pGrid._getDataRow=function(_a){if(_a>=this._rowcount){return  -9;}if(this._hasTree&&_a>=0){_a=this._treeIndexes[_a];if(_a==undefined){_a= -9;}}return _a;};_pGrid._getGridRow=function(_a){if(this._hasTree&&_a>=0){var _b=this._treeIndexes;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]==_a){return _d;}}return  -9;}return _a;};_pGrid._refreshCol=function(_a,_b,_c){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}if(!this.getElement()){return;}var _d=this._headBand;if(_d&&(!_c||_c=="head")){var _f=_d._get_rows()[0];var _g=_f.length;for(var _h=0;_h<_g;_h++ ){var _i=_f[_h];if(_i&&_i._refobj._col==_a){if(_b){_i.currentstyle._empty();}_i._updateAll();}}}_d=this._summBand;if(_d&&(!_c||_c=="summ")){var _f=_d._get_rows()[0];var _g=_f.length;for(var _h=0;_h<_g;_h++ ){var _i=_f[_h];if(_i&&_i._refobj._col==_a){if(_b){_i.currentstyle._empty();}_i._updateAll();}}}_d=this._bodyBand;var _e=_d._get_rows();if(_d&&_e.length&&(!_c||_c=="body")){var _f=_e[0]._cells;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){var _i=_f[_h];if(_i&&_i._refobj._col==_a){for(var _j=0;_j<this._getDispRowCnt();_j++ ){this._refreshCell("body",_i._cellidx,_j,_b);}}}}};_pGrid._refreshCell=function(_a,_b,_c,_d){if(!this.enableredraw){this._enable_redraw_history["refreshall"]=true;return;}_a=_a.toLowerCase();if(_a=="head"){var _e=this._headBand;if(_e){var _f=_e._get_rows()[0]._cells[_b];if(_f){if(_d){_f.currentstyle._empty();}_f._updateAll();}}}else if(_a=="summ"||_a=="summary"){var _e=this._summBand;if(_e){var _f=_e._get_rows()[0]._cells[_b];if(_f){if(_d){_f.currentstyle._empty();}_f._updateAll();}}}else{if(_c>=0){this._refreshBodyCell(_b,_c,_d);}else{for(var _g=0;_g<this._getDispRowCnt();_g++ ){this._refreshBodyCell(_b,_g,_d);}}}};_pGrid._isEnable=function(){this._enable=nexacro.Component.prototype._isEnable.call(this);return this._enable;};_pGrid._getMaxColDataSizeBand=function(_a,_b){var _c= -1;var _d=this._curFormat;if(this._bodyAutoSize){var _e= -1;if(this._binddataset){var _f=this._getGridRowCount();if(_f>0&&_d._bodycells){if(!this._preloadTreeImage()){return  -1;}if(!this._preloadImage()){return  -1;}var _g=_d._bodycells;var _h=_g.length;var _i=[];var _j;var _k={max: -1};var _l,_m,_n,_o;var _p,_q,_r,_s;for(var _t=0;_t<_h;_t++ ){_p=_g[_t];if(_p._col<=_a&&(_p._col+_p._colspan)>_a){if(_p!=_q){_i.push(_p);}_q=_p;if(_p._subcells.length){_r=_p._subcells;for(var _u=0;_u<_r.length;_u++ ){if(_p._col+_r[_u]._col<=_a&&(_p._col+_r[_u]._col+_r._colspan)>_a){_p=_r[_u];break;}}}if(_k){if(_p._curfont===undefined){_p._query_pseudo_font(0,false,"normal");}if(_p._curselfont===undefined){_p._query_pseudo_font(0,true,"normal");}if(_p._curborder===undefined){_p._query_pseudo_border(0,false,"normal",0,null,null);}if(_p._curpadding===undefined){_p._query_pseudo_padding(0,"normal");}if(_p._curfont==="bindexpr"||_p._curselfont==="bindexpr"||_p._curborder==="bindexpr"||_p._curpadding==="bindexpr"){_k=null;continue;}else if(_l!==undefined){if((_l!=_p._curfont)||(_m!=_p._curselfont)||(_n!=_p._curborder)||(_o!=_p._curpadding)){_k=null;continue;}}_l=_p._curfont;_m=_p._curselfont;_n=_p._curborder;_o=_p._curpadding;}}}for(var _u=0;_u<_f;_u++ ){var _v=this._getDataRow(_u);if(_b>=0&&_u<_b){_e=_d._cols[_a].size;continue;}_j=this._getMaxColSize(_i,_a,_v,null,_k);if(_j<0){return  -1;}_e=Math.max(_e,_j);}}}_c=Math.max(_c,_e);}if(this._headAutoSize&&_d._headcells){var _g=_d._headcells;var _h=_g.length;var _e;var _i=[],_p;for(var _t=0;_t<_h;_t++ ){_p=_g[_t];if(_p._col<=_a&&(_p._col+_p._colspan)>_a){_i.push(_p);}}_e=this._getMaxColSize(_i,_a, -1);_c=Math.max(_c,_e);}if(this._summAutoSize&&_d._summcells){var _g=_d._summcells;var _h=_g.length;var _e;var _i=[],_p;for(var _t=0;_t<_h;_t++ ){_p=_g[_t];if(_p._col<=_a&&(_p._col+_p._colspan)>_a){_i.push(_p);}}_e=this._getMaxColSize(_i,_a, -2);_c=Math.max(_c,_e);}return _c;};_pGrid._on_treeloadImagetemp=function(_a,_b,_c){};_pGrid._tree_recreate=false;_pGrid._hasTree=false;_pGrid._treeIndexes=null;_pGrid._treeStates=null;_pGrid._treeChecked=null;_pGrid._treeCellinfo=null;_pGrid._hasSameNextNode=null;_pGrid._maxdepth=0;_pGrid._rootlevel=99;_pGrid._treeInitStatus={"collapse,null":0,"expand,null":1,"collapse,all":2,"expand,all":3};_pGrid._currentCellEditor=null;_pGrid._tempEditor=null;_pGrid._currentCellCell= -1;_pGrid._currentCellRow= -1;_pGrid._showEditing=false;_pGrid._beforeEditRowIdx= -1;_pGrid._beforeEditCellIdx= -1;_pGrid._onceTime_focus=false;_pGrid._set_focus_dir= -1;_pGrid._showEditorFocus=false;_pGrid._on_treeloadImage=function(_a,_b,_c){var _d=this._tree_load_all;_d[_a]=true;var _e,_f=true;for(_e in _d){if(_d.hasOwnProperty(_e)){if(_d[_e]==false){_f=false;break;}}}if(_f){if(this._is_created){this._recreate_contents_all(true,true,true);}else{this._tree_recreate=true;}}else{if(this._is_created){if(this._resetColSizeList()){this._bodyBand._matrix._adjustColsDisplay(true);}}}};_pGrid._on_sizeloading=function(_a,_b,_c){var _d=this._image_load_all;if(_d[_a]){return;}_d[_a]=true;var _e,_f=true;for(_e in _d){if(_d.hasOwnProperty(_e)){if(_d[_e]==false){_f=false;break;}}}if(_f){if(this._is_created){this._recreate_contents_all(true,true,true);}else{this._image_recreate=true;}}else{if(this._is_created){if(this._resetColSizeList()){this._bodyBand._matrix._adjustColsDisplay(true);}}}};_pGrid._preloadTreeImage=function(){if(this._tree_load_all!=null){return true;}if(!this._binddataset){return true;}var _a=this._binddataset.getRowCount();var _b=this._curFormat._bodycells;var _c,_d,_e,_f;this._tree_load_all={};for(var _j=0;_j<_a;_j++ ){for(var _k=0;_k<_b.length;_k++ ){_e=_b[_k];_d=_e._getDisplaytype(_j);if(_d!="tree"){continue;}_c=this._treeStates[_j];if(_c==0){_f="treecollapseimage";}else if(_c==1){_f="treeexpandimage";}else if(_c==2){_f="treeitemimage";}var _l=_e._query_pseudo_treecontrol(_j,_f,"normal");if(_l){if(_l.substring(0,4).toLowerCase()=="url("){_l=_l.substring(5,_l.length-2);}_l=nexacro._getImageLocation(_l,this._getRefFormBaseUrl());this._tree_load_all[_l]=false;}_f="";if(_c==0){_f+="treeopenbuttonimage";}else if(_c==1){_f+="treeclosebuttonimage";}if(_f){var _l=_e._query_pseudo_treecontrol(_j,_f,"normal");if(_l){if(_l.substring(0,4).toLowerCase()=="url("){_l=_l.substring(5,_l.length-2);}_l=nexacro._getImageLocation(_l,this._getRefFormBaseUrl());this._tree_load_all[_l]=false;}}}}var _g,_h=true,_i;for(_g in this._tree_load_all){if(this._tree_load_all.hasOwnProperty(_g)){_i=nexacro._getImageSize(_g,this._on_treeloadImage,this);if(!_i){_h=false;}}}return _h;};_pGrid._preloadImage=function(){if(this._image_load_all!=null){return true;}if(!this._binddataset){return true;}var _a=this._binddataset.getRowCount();var _b=this._curFormat._bodycells;var _c,_d;if(!_b){return true;}this._image_load_all={};for(var _h=0;_h<_a;_h++ ){for(var _i=0;_i<_b.length;_i++ ){_d=_b[_i];_c=_d._getDisplaytype(_h);if(_c!="image"){continue;}prop="text";var _j=_d._getDisplayText_image(_h);if(_j){if(_j.substring(0,4).toLowerCase()=="url("){_j=_j.substring(5,_j.length-2);}_j=nexacro._getImageLocation(_j,this._getRefFormBaseUrl());this._image_load_all[_j]=false;}}}var _e,_f=true,_g;for(_e in this._image_load_all){if(this._image_load_all.hasOwnProperty(_e)){_g=nexacro._getImageSize(_e,this._on_sizeloading,this);if(!_g){_f=false;}}}return _f;};_pGrid._getDepthWidth=function(_a,_b){var _c=_b._getDisplaytype(_a);if(_c!="tree"){return 0;}var _d=_b._getTreeStartLevel(_a);var _e=_b._getTreeLevel(_a);var _f=this._treeStates[_a];var _g=22;var _h=6;var _i=9;var _j=14;var _k=14;var _l=14;var _m,_n,_o;var _p;var _q="normal";if(_f==0){_p="treecollapseimage";}else if(_f==1){_p="treeexpandimage";}else if(_f==2){_p="treeitemimage";}var _r=_b._query_pseudo_treecontrol(_a,_p,_q);if(_r){if(_r.substring(0,4).toLowerCase()=="url("){_r=_r.substring(5,_r.length-2);}_r=nexacro._getImageLocation(_r,this._getRefFormBaseUrl());var _t=nexacro._getImageSize(_r,this._on_treeloadImagetemp,this);if(_t){_j=_t.width;}}_p="";if(_f==0){_p+="treeopenbuttonimage";}else if(_f==1){_p+="treeclosebuttonimage";}if(_p){var _r=_b._query_pseudo_treecontrol(_a,_p,_q);if(_r){if(_r.substring(0,4).toLowerCase()=="url("){_r=_r.substring(5,_r.length-2);}_r=nexacro._getImageLocation(_r,this._getRefFormBaseUrl());var _t=nexacro._getImageSize(_r,this._on_treeloadImagetemp,this);if(_t){_k=_t.width;}}}_e-=_d;if(_e<0){_e= -1;}var _s=(_e*_g)+_i;if(this.treeusebutton!="no"){_s+=_k;}else{_s+=_i;}if(this.treeusecheckbox==true){var _u=_b._query_pseudo_control(this,_a,"checkboxsize","buttonsize",_q);if(_u==null){checkWidth=14;}else{checkWidth=parseInt(_u._value,10);}_s+=checkWidth;}if(this.treeuseimage==true){_s+=1;if(_j>0){_s+=_j;}else{_s+=15;}_s+=5;}else{_s+=4;}return _s+2;};_pGrid._isPassPrevCell=function(_a,_b,_c,_d){var _e=_a.endsubrow.length;var _f=_a.begsubrow;var _g=_a.endsubrow;var _h=_a.begcol;var _i=_a.endcol;var _j=_b.length;if(_c=="next"||_c=="prev"){for(var _k=0;_k<_e;_k++ ){for(var _l=0;_l<_j;_l++ ){if(_f[_k]<=_b[_l]._row&&_g[_k]>=_b[_l]._row){if(_b[_l]._colspan>1){if(_c=="next"&&_b[_l]._col<_d&&_d<_b[_l]._col+_b[_l]._colspan){return true;}else if(_c=="prev"&&_b[_l]._col<=_d&&_d<_b[_l]._col+_b[_l]._colspan-1){return true;}}}}}}else{for(var _k=0;_k<_b.length;_k++ ){if(_h<=_b[_k]._col&&_i>=_b[_k]._col){if(_b[_k]._rowspan>1){if(_c=="down"&&_b[_k]._row<_d&&_d<_b[_k]._row+_b[_k]._rowspan){return true;}else if(_c=="up"&&_b[_k]._row<=_d&&_d<_b[_k]._row+_b[_k]._rowspan-1){return true;}}}}}return false;};_pGrid._getAreaMoveCell=function(_a,_b,_c){var _d=this._selectinfo;if(_d.area.length==0){return true;}var _e=_d.area[_d.area.length-1];var _f=this._curFormat._bodycells;if(_a=="next"){if(_d.ctrlpoint.col<_b){if(_e.endcol>=_b){return false;}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}else if(_a=="prev"){if(_d.ctrlpoint.col>_b){if(_e.begcol<=_b){return false;}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}else if(_a=="down"){if(_d.ctrlpoint.row<_c||(_d.ctrlpoint.row==_c&&_d.ctrlpoint.subrow<_b)){if(_e.endsubrow.length==(_c-_d.ctrlpoint.row+1)){if(_e.endsubrow[_e.endsubrow.length-1]>=_b){return false;}}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}else if(_a=="up"){if(_d.ctrlpoint.row>_c||(_d.ctrlpoint.row==_c&&_d.ctrlpoint.subrow>_b)){if(_e.begsubrow.length==(_d.ctrlpoint.row-_c+1)){if(_e.begsubrow[0]<=_b){return false;}}}else{if(this._isPassPrevCell(_e,_f,_a,_b)){return false;}}}return true;};_pGrid._moveToCell=function(_a,_b,_c,_d,_e,_f){if(this._selectinfo.curdsrow<0){if(this.rowcount>0&&(_a=="next"||_a=="down")){this._moveToPosCell(0,0);return true;}return false;}var _g=this._curFormat;var _h=this._beforebodycellpos=this._selectinfo.curcell;var _i=this._beforebodycolpos=this._selectinfo.curcol;var _j=this._beforebodyrowpos=this._selectinfo.curdsrow;var _k=this._beforebodysubrowpos=this._selectinfo.cursubrow;var _l=this._beforepvt=this._selectinfo.curpvt;var _m,_n,_o,_p;var _q= -9;var _r;var _s=_g._bodycells;var _t=_s.length;if(_a=="next"){if(_b){_r=this._getLastEditableCell();if(_r.row==null||(_r.row<=this._selectinfo.curdsrow&&_r.cell==this._selectinfo.curcell)){return false;}}for(;true;){var _x=this.rowcount;if(this._selectinfo.currow>=(_x-1)&&this._selectinfo.curcell>=(_g._bodycells.length-1)){return false;}if(this._selectinfo.curcell>=_s.length-1){if(_c){return false;}for(;true;){_m=0;_n=0;_o=this._selectinfo.curdsrow+1;_p=0;this._setSelectedInfo(_m,_n,_o,_p,_q);if(this._hasTree){var _y=false;var _z=this._treeIndexes;var _aa=_z.length;for(var _ab=0;_ab<_z.length;_ab++ ){if(_z[_ab]==_o){_y=true;break;}else if(_z[_ab]>_o){break;}}if(_y==false){continue;}}break;}}else{if(_c){_m=this._selectinfo.curcell;_n=_s[this._selectinfo.curcell]._col+_s[this._selectinfo.curcell]._colspan;_o=this._selectinfo.curdsrow;_p=this._selectinfo.cursubrow;for(var _ac=0;_ac<_t;_ac++ ){if(_s[_ac]._col==_n&&(_s[_ac]._row<=this._selectinfo.cursubrow&&this._selectinfo.cursubrow<(_s[_ac]._row+_s[_ac]._rowspan))){if(!_d||_d==_s[_ac]._area){_m=_ac;_p=_s[_ac]._row;break;}}}if(_m==this._selectinfo.curcell){return false;}}else{_m=this._selectinfo.curcell+1;_n=_s[_m]._col;_o=this._selectinfo.curdsrow;_p=_s[_m]._row;}if(_e!=undefined&&_e<_n){return false;}this._setSelectedInfo(_m,_n,_o,_p,_q);if(_g._cols[_n].size<=0){continue;}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_n,_o)){continue;}}}if(_f&&_o>=0){var _ad=this._getCurrentBodyCell(_o,_m);if(_ad){_ad._showfull(_ad);}}if(_b){if(this._hasTree){var _y=false;var _z=this._treeIndexes;var _aa=_z.length;for(var _ab=0;_ab<_aa;_ab++ ){if(_z[_ab]==_o){_y=true;break;}else if(_z[_ab]>_o){break;}}if(_y==false){continue;}}var _ae=_s[_m];var _af=_ae._getEdittype(_o);if(_af==""||_af=="none"){continue;}}break;}}else if(_a=="prev"){for(;true;){if(this._selectinfo.curcell<=0){if(_c||this._selectinfo.currow<=0){return false;}for(;true;){_m=_g._bodycells.length-1;_n=_s[_m]._col;_o=this._selectinfo.curdsrow-1;_p=_s[_m]._row;this._setSelectedInfo(_m,_n,_o,_p,_q);if(this._hasTree){var _y=false;var _z=this._treeIndexes;var _aa=_z.length;for(var _ab=0;_ab<_z.length;_ab++ ){if(_z[_ab]==_o){_y=true;break;}else if(_z[_ab]>_o){break;}}if(_y==false){continue;}}break;}}else{var _ag;if(_c){_m=this._selectinfo.curcell;_ag=_n=this._selectinfo.curcol-1;_o=this._selectinfo.curdsrow;_p=this._selectinfo.cursubrow;for(var _ac=0;_ac<_t;_ac++ ){if((_s[_ac]._col<=_n&&_n<_s[_ac]._col+_s[_ac]._colspan)&&(_s[_ac]._row<=this._selectinfo.cursubrow&&this._selectinfo.cursubrow<(_s[_ac]._row+_s[_ac]._rowspan))){if(!_d||_d==_s[_ac]._area){_n=_s[_ac]._col;_m=_ac;_p=_s[_ac]._row;break;}}}if(_m==this._selectinfo.curcell){return false;}}else{_m=this._selectinfo.curcell-1;_n=_s[_m]._col;_o=this._selectinfo.curdsrow;_p=_s[_m]._row;}if(_e!=undefined&&_e>_n){return false;}this._setSelectedInfo(_m,_n,_o,_p,_q);if(_g._cols[_n].size<=0){continue;}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_ag,_o)){continue;}}}if(_f&&_o>=0){var _ad=this._getCurrentBodyCell(_o,_m);if(_ad){_ad._showfull(_ad);}}if(_b){if(this._hasTree){var _y=false;var _z=this._treeIndexes;var _aa=_z.length;for(var _ab=_aa-1;_ab>=0;_ab-- ){if(_z[_ab]==_o){_y=true;break;}else if(_z[_ab]<_o){break;}}if(_y==false){continue;}}var _ae=_s[_m];var _af=_ae._getEdittype(_o);if(_af==""||_af=="none"){continue;}}break;}}else if(_a=="up"){var _ah= -1,_ai= -1,_aj= -1;var _ak=this._selectinfo.curcol;var _al;for(;true;){if(this._isSelectRowType()){if(this._selectinfo.curdsrow==0){return false;}_m=this._selectinfo.curcell;_n=this._selectinfo.curcol;_o=this._selectinfo.curdsrow-1;_p=this._selectinfo.cursubrow;}else{if(this._selectinfo.curdsrow==0&&this._selectinfo.cursubrow==0){return false;}if(this._fixed_startrow>=this._selectinfo.curdsrow){return false;}_al=_s[this._selectinfo.curcell]._rowspan;var _am;if(this._selectinfo.cursubrow==0){for(var _ac=_t-1;_ac>=0;_ac-- ){if(_s[_ac]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_s[_ac]._col+_s[_ac]._colspan)){_ah=_s[_ac]._cellidx;_ai=_s[_ac]._col;_aj=_s[_ac]._row;_am=_aj+_s[_ac]._rowspan-1;break;}}_n=_ai;_m=_ah;_o=this._selectinfo.curdsrow-1;_p=_aj;}else{for(var _ac=this._selectinfo.curcell-1;_ac>=0;_ac-- ){if(_s[_ac]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_s[_ac]._col+_s[_ac]._colspan)&&_s[_ac]._row<=(this._selectinfo.cursubrow-1)&&(this._selectinfo.cursubrow-1)<(_s[_ac]._row+_s[_ac]._rowspan)){_ah=_s[_ac]._cellidx;_ai=_s[_ac]._col;_aj=_s[_ac]._row;_am=_aj+_s[_ac]._rowspan-1;break;}}_n=_ai;_m=_ah;_o=this._selectinfo.curdsrow;_p=_aj;}}this._setSelectedInfo(_m,_n,_o,_p,_q);if(this._hasTree){var _y=false;var _z=this._treeIndexes;var _aa=_z.length;for(var _ab=_aa-1;_ab>=0;_ab-- ){if(_z[_ab]==_o){_y=true;break;}else if(_z[_ab]<_o){break;}}if(_y==false){continue;}}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_am,_o)){continue;}}break;}}else if(_a=="down"){var _x=this._getGridRowCount();var _an=this._dsRowToDispRow(this._selectinfo.curdsrow);var _ao=_g._bodyrows.length-1;var _ap= -1,_aq= -1,_ar= -1;var _ak=this._selectinfo.curcol;var _as=this._selectinfo.cursubrow;var _al;for(;true;){if(this._isSelectRowType()){if(_x-1<=_an){return false;}_m=this._selectinfo.curcell;_n=this._selectinfo.curcol;_o=this._selectinfo.curdsrow+1;_p=this._selectinfo.cursubrow;}else{if(_x-1<=_an&&this._selectinfo.cursubrow==_ao){if(this.vscrollbar){this.vscrollbar.set_pos(this.vscrollbar.max);}return false;}_al=_s[this._selectinfo.curcell]._rowspan;if((this._selectinfo.cursubrow+_al-1)==_ao){for(var _ac=0;_ac<_t;_ac++ ){if(_s[_ac]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_s[_ac]._col+_s[_ac]._colspan)){_ap=_s[_ac]._cellidx;_aq=_s[_ac]._col;_ar=_s[_ac]._row;break;}}_n=_aq;_m=_ap;_o=this._selectinfo.curdsrow+1;_p=_ar;}else{for(var _ac=this._selectinfo.curcell+1;_ac<_t;_ac++ ){if(_s[_ac]._col<=this._selectinfo.curcol&&this._selectinfo.curcol<(_s[_ac]._col+_s[_ac]._colspan)&&(_s[_ac]._row==this._selectinfo.cursubrow+(_al-1)+1)){_ap=_s[_ac]._cellidx;_aq=_s[_ac]._col;_ar=_s[_ac]._row;break;}}_n=_aq;_m=_ap;_o=this._selectinfo.curdsrow;_p=_ar;}}this._setSelectedInfo(_m,_n,_o,_p,_q);if(this._hasTree){var _y=false;var _z=this._treeIndexes;var _aa=_z.length;for(var _ab=0;_ab<_z.length;_ab++ ){if(_z[_ab]==_o){_y=true;break;}else if(_z[_ab]>_o){break;}}if(_y==false){continue;}}if(this._isAreaSelect()){if(!this._getAreaMoveCell(_a,_p,_o)){continue;}}break;}}var _u;this._iskey_movetocell=false;if(this._keydown_elem){this._iskey_movetocell=true;_u="keydown";}this._hideEditor();var _v=this._ChangeSelect(_m,_n,_o,_p,_q,false,_h,_i,_j,_k,_l,"body",_u);var _w=this._getCurrentBodyCell(_o,_m);if(_w){_w._setFocus(false);}if(!this._keydown_elem){this._moveCellAfterFocus();}else{if(_v==false){if(this.autoenter=="select"){this._showEditor();}}}return true;};_pGrid._moveCellAfterFocus=function(){var _a=true;if(this.autoenter=="select"){if(nexacro.Browser=="Edge"||nexacro.Browser=="Opera"||nexacro.Browser=="IE"){this._onceTime_focus=true;}if(!this._showEditor()){this._hideEditor();_a=false;}this._onceTime_focus=false;}return _a;};_pGrid._setTree=function(_a){_a=nexacro._toBoolean(_a);if(this._hasTree!=_a){this._hasTree=_a;if(_a==true){this._setFixedRow(false,true);this._initTreeStates();}else{this._clearTreeStates();}this._recreate_contents_all(false,false,false,true);}};_pGrid._setTreeCellinfo=function(_a){if(this._treeCellinfo!=_a){this._treeCellinfo=_a;this._setTree(true);}};_pGrid._removeTreeCellinfo=function(_a){if(this._treeCellinfo==_a){this._treeCellinfo=null;this._setTree(false);}};_pGrid._initTreeStates=function(_a){if(this._hasTree&&this._binddataset){this._treeIndexes=this._createTreeIndexes();this._treeStates=this._createTreeStates(_a);this._treeChecked=this._createTreeChecked();this._createTreeHasChild();this._applyTreeStates();if(this._treeIndexes.length>0){this.rowcount=this._treeIndexes.length;}else{this.rowcount=0;}}};_pGrid._createTreeHasChild=function(){var _a=this._rowcount;var _b=this._treeCellinfo;if(this._hasSameNextNode){delete this._hasSameNextNode;}this._hasSameNextNode=new Array(_a);var _c= -1;for(var _d=_a-1;_d>=0;_d-- ){var _e=_b._getTreeLevel(_d);this._maxdepth=Math.max(_e,this._maxdepth);this._rootlevel=Math.min(_e,this._rootlevel);if(_e!=_c){if(this._hasSameNextNode[_d]==undefined){var _f=[];_f[0]=_e;_f[1]=false;this._hasSameNextNode[_d]=_f;}for(var _g=_d-1;_g>=0;_g-- ){var _h=_b._getTreeLevel(_g);if(_e==_h){var _f=[];_f[0]=_e;_f[1]=true;this._hasSameNextNode[_g]=_f;}else if(_e>_h){break;}}}_c=_e;}this._rootlevel=Math.max(_b._getTreeStartLevel(),this._rootlevel);};_pGrid._getParentNodeSameInfo=function(_a,_b){for(var _c=_b;_c>=0;_c-- ){var _d=this._hasSameNextNode[_c];if(_d[0]==_a){return _d[1];}}return false;};_pGrid._createTreeIndexes=function(){if(this._binddataset==null){return [];}var _a=this._binddataset.rowcount;var _b=new Array(_a);for(var _c=0;_c<_a;_c++ ){_b[_c]=_c;}return _b;};_pGrid._createTreeStates=function(_a,_b){if(this._binddataset==null){return [];}var _c=this._binddataset;var _d=this._treeIndexes;var _e=_c.rowcount;var _f=_c._viewRecords;var _g=new Array(_e);var _h=this._treeCellinfo;var _i=this._treeInitStatus[this.treeinitstatus];var _j=null;var _k;if(_i==null){_i=0;}var _l=this._treeStates;if(_a&&_l.length==_e){for(var _m=0,_n=0;_m<_e;_m++ ,_n++ ){if(_f[_m]._rtype==1){_g[_m]=_l[_n];}else if(_f[_m]._rtype==4){if(_h.treestate._bindtype==0){_g[_m]=_l[_n];}}}}if(_i==0||_i==1){var _o=(_i==0)?0:1;var _p=_k= -1;var _q;for(var _m=0;_m<_e;_m++ ){if(!_b){_j=_h._getTreeState(_m);}if(_g[_m]==undefined){if(_j&&_j.length){_g[_m]=parseInt(_j,10);}else{_g[_m]=_o;}}_k=_h._getTreeLevel(_m);if(!_q||_h.treestate._bindtype==0){if(_p>=_k){_g[_m-1]=3;}}_p=_k;_q=_j;}if(_h.treestate._bindtype==0||!_j){_g[_e-1]=2;}}else if(_i==2||_i==3){var _o=(_i==2)?0:1;var _p=_k= -1;for(var _m=0;_m<_e;_m++ ){if(_g[_m]==undefined){_g[_m]=_o;}_k=_h._getTreeLevel(_m);if(_p>=_k){_g[_m-1]=2;}_p=_k;}_g[_e-1]=2;}return _g;};_pGrid._createTreeChecked=function(){if(this._binddataset==null){return [];}var _a=this._binddataset.rowcount;var _b=new Array(_a);var _c=this._treeCellinfo;var _d=null;for(var _e=0;_e<_a;_e++ ){_d=_c._getTreeCheck(_e);if(_d&&(_d>0||_d.length)){_b[_e]=parseInt(_d,10);}else{_b[_e]=0;}}return _b;};_pGrid._updateTreeStates=function(_a,_b){if(this._hasTree&&this._binddataset){if(_a>=0){var _c=this._treeStates;if(_b){_c.splice(_a,0,2);}else{_c.splice(_a,1);if(_c[_a]!=2){if(_c[_a-1]==1){_c[_a-1]=2;}}else{var _d=this._treeCellinfo;var _e=_d._getTreeLevel(_a);var _f=_d._getTreeLevel(_a-1);if(_e==_f){_c[_a-1]=2;}}}this._treeStates=_c;}this._treeIndexes=this._createTreeIndexes();this._treeChecked=this._createTreeChecked();this._createTreeHasChild();this._applyTreeStates();if(this._treeIndexes.length>0){this.rowcount=this._treeIndexes.length;}else{this.rowcount=0;}}};_pGrid._applyTreeStates=function(){var _a=this._treeIndexes;var _b=this._treeStates;var _c=_a.length;var _d=this._treeCellinfo;var _e=_a.slice(0,_a.length);var _f= -1;var _g= -1;var _h=0;for(var _i=0;_i<_c;_i++ ){_h++ ;if(_b[_i]==0){_f=_d._getTreeLevel(_e[_i]);for(var _j=_i+1;_j<_c;_j++ ){_g=_d._getTreeLevel(_e[_j]);if(_g>_f){_i++ ;_a.splice(_h,1);}else{break;}}}}};_pGrid._clearTreeStates=function(){this._treeIndexes=null;this._treeStates=null;this._treeChecked=null;if(this._hasTree){this.rowcount=0;}};_pGrid._getTreeRowPosition=function(_a){if(_a<0||!this._hasTree){return _a;}var _b=this._treeIndexes;var _c=_b.length-1;for(var _d=_c;_d>=0;_d-- ){if(_b[_d]==_a){return _d;}else if(_b[_d]<_a){break;}}return  -1;};_pGrid._getBindTextCellInfo=function(_a){var _b=this._curFormat;var _c=true;if(!_b){return null;}var _d=[];if(_a){if(_b._headcells){var _e=_b._headcells;var _f=_e.length;var _g;for(var _h=0;_h<_f;_h++ ){_g=_e[_h];if(_g.text._bindexpr==_a){_d.push(_g);}}}if(_b._bodycells){var _i=_b._bodycells;var _j=_i.length;var _g;for(var _h=0;_h<_j;_h++ ){_g=_i[_h];if(_g.text._bindexpr==_a){_d.push(_g);}}}if(_b._summcells){var _k=_b._summcells;var _l=_k.length;var _g;for(var _h=0;_h<_l;_h++ ){_g=_k[_h];if(_g.text._bindexpr==_a){_d.push(_g);}}}}if(_d.length==0&&_b._bodycells){_d=_b._bodycells;_c=false;}return [_d,_c];};_pGrid._isTreeStateChanged=function(_a,_b){var _c=false;if(this._hasTree){var _d=_a.columnid;var _e=this._treeCellinfo;if(_d==_e.treecheck._bindexpr){var _f=_a.row;var _g=this._getTreeRowPosition(_f);var _h=_a.newvalue;this._setTreeChecked(_g,_h);}if(_b==false){if(_d==_e.treestate._bindexpr){var _f=_a.row;var _g=this._getTreeRowPosition(_f);var _h=_a.newvalue;this._setTreeState(_g,_h);_c=true;}if(_d==_e.treelevel._bindexpr){var _i;var _j=this._treeStates;var _k=_e._getTreeLevel(_a.row);for(var _l=_a.row-1;_l>=0;_l-- ){_i=_e._getTreeLevel(_l);if(_i==_k-1&&_j[_l]==2){_j[_l]=1;break;}}_c=true;}}}return _c;};_pGrid._setTreeState=function(_a,_b,_c,_d){_b=parseInt(_b,10);if(isFinite(_b)){var _e=this._treeIndexes[_a];var _f=this._treeStates[_e];var _g=0;if(_b!=_f){if(_b==2){if(_c){this._refreshBodyRow(_a-this._getBodyBegRowPos(_a));}return 1;}else if((_g=this._toggleTreeState(_a,_c,_b,_d))>0){return _g;}}}return 0;};_pGrid._getOrgTreeStates=function(_a){var _b=this._createTreeStates(false,true);if(_b[_a]==2){return 2;}else{return this._treeStates[_a];}};_pGrid._toggleTreeState=function(_a,_b,_c,_d){var _e=this._treeIndexes[_a];var _f;if(_d){_f=this._getOrgTreeStates(_e);}else{_f=this._treeStates[_e];}var _g=false;var _h;if(_f==0){if(this.on_fire_cantreestatuschange(_a,_e,1)!==false){_h=this._expandTreeState(_a);this.on_fire_ontreestatuschanged(_a,_e,1);}}else if(_f==1){if(this.on_fire_cantreestatuschange(_a,_e,0)!==false){_g=true;_h=this._collapseTreeState(_a);this.on_fire_ontreestatuschanged(_a,_e,0);}}else if(_f==2){if(_d){if(_d=="null_value"){this._treeStates[_e]=_c;}else{this._treeStates[_e]=2;}}else{if(this.on_fire_cantreestatuschange(_a,_e,0)!==false){_h=1;this._treeStates[_e]=_c;this.on_fire_ontreestatuschanged(_a,_e,0);}}}if(_b){if(_h==2){if(this._bodyBand){this._bodyBand._matrix._adjustTreeDisplay(_a,_g);}}else if(_h==1){this._refreshBodyRow(_a-this._getBodyBegRowPos(_a));}}return _h;};_pGrid._collapseTreeState=function(_a){var _b=this._treeIndexes;var _c=this._treeStates;var _d=_b.length;var _e=_b[_a];var _f=this._treeCellinfo;if(_c[_e]==1){_c[_e]=0;}else{return 0;}var _g=_f._getTreeLevel(_e);if(nexacro._enableaccessibility&&nexacro._accessibilitytype!=4){var _j=this._getAccessibilityCurrentCell();if(_j){_j._setAccessibilityStatExpanded(false);}}var _h= -1;var _i=0;for(var _k=_a+1;_k<_d;_k++ ){_h=_f._getTreeLevel(_b[_k]);if(_h>_g){_i++ ;}else{break;}}if(_i>0){_b.splice(_a+1,_i);this.rowcount=_b.length;return 2;};return 1;};_pGrid._expandTreeState=function(_a){var _b=this._treeIndexes;var _c=this._treeStates;var _d=_c.length;var _e=_b[_a];var _f=this._treeCellinfo;if(_c[_e]==0){_c[_e]=1;}else{return 0;}var _g=_f._getTreeLevel(_e);if(nexacro._enableaccessibility&&nexacro._accessibilitytype!=4){var _o=this._getAccessibilityCurrentCell();if(_o){_o._setAccessibilityStatExpanded(true);}}var _h= -1;var _i=0;var _j=_e;var _k=[_e];var _l= -1;var _m= -1;var _n=false;for(var _p=_e+1;_p<_d;_p++ ){_h=_f._getTreeLevel(_p);if(_h>_g){if(_l> -1){_m=_f._getTreeLevel(_l);if(_h>_m){if(_n==true){continue;}_j=_l;_k.push(_l);}else if(_h<_m){var _q=_m-_h;_k.splice(_k.length-_q,_q);_j=_k[_k.length-1];}_n=false;}if(_c[_j]>0){_b.splice(_a+1+_i,0,_p);_i++ ;}else{_n=true;}_l=_p;}else{break;}}if(_i>0){this.rowcount=this._treeIndexes.length;return 2;}return 1;};_pGrid._setTreeChecked=function(_a,_b){_b=parseInt(_b,10);if(isFinite(_b)){var _c=this._treeIndexes[_a];var _d=this._treeChecked[_c];if(_b==_d){return false;}else{return (this._toggleTreeChecked(_a));}}return false;};_pGrid._toggleTreeChecked=function(_a){var _b=this._treeIndexes[_a];var _c=this._treeChecked[_b];var _d=(_c==0)?1:0;this._treeChecked[_b]=_d;return true;};_pGrid._getCurrentBodyCell=function(_a,_b){var _c=this._bodyBand;if(_c){if(_a<0){_a=this._selectinfo.curdsrow;}if(_b<0){_b=this._selectinfo.curcell;}var _d=_c._get_row(_a);if(_d){return _d._cells[_b];}}return null;};_pGrid._getCurrentHeadCell=function(_a,_b){var _c=this._headBand;if(_c&&(_b||this._currentDSrow== -1)){if(_a<0){_a=this.currentcell;}var _d=_c._get_rows()[0];if(_d){return _d._cells[_a];}}return null;};_pGrid._getCurrentSummCell=function(_a,_b){var _c=this._summBand;if(_c&&(_b||this._currentDSrow== -2)){if(_a<0){_a=this.currentcell;}var _d=_c._get_rows()[0];if(_d){return _d._cells[_a];}}return null;};_pGrid._showEditor=function(_a){if(nexacro._toBoolean(this.readonly)==true){return false;}var _b=this._find_lastFocused();if(_b!=this){return false;}if(!_a){var _c=this._getCurrentBodyCell( -1, -1);if(!_c){return false;}var _d=this._getBodyBegRowPos(_c._rowidx);var _e=this._endrowpos;var _f=this._selectinfo.currow;var _g=this._selectinfo.curcell;if(_d>_f||_e<_f){return false;}else{if(this._beforeEditRowIdx!=_f||this._beforeEditCellIdx!=_g){if(_c._hasEditor()){_c._showEditor();this._beforeEditRowIdx=this._selectinfo.curdsrow;this._beforeEditCellIdx=this._selectinfo.curcell;this._showEditing=true;var _h=this._getDataRow(_c._rowidx);_c._refobj._editingRow=_h;_c.editshowing=true;var _i=this._currentCellEditor;if(_i){_i._setFocus(false);if(_i.setCaretPos&&!_i.autoselect){_i.setCaretPos(0);}else if(_i.comboedit&&_i.comboedit.setCaretPos){_i.comboedit.setCaretPos(0);}}}else{_c._setFocus(false);}}}}else{var _c=this._getCurrentBodyCell(this._beforeEditRowIdx,this._beforeEditCellIdx);if(_c&&_c._hasEditor()){_c._showEditor(true,true);this._showEditing=true;var _h=this._getDataRow(_c._rowidx);_c._refobj._editingRow=_h;}else{this._hideEditor(true);}}return true;};_pGrid._setdataobj=null;_pGrid._hideEditor=function(_a,_b,_c){if(!_a){var _d=this._getCurrentBodyCell(this._beforeEditRowIdx,this._beforeEditCellIdx);var _e=this._currentCellEditor;if(_e){var _f={succ:false};if(_d){if(_d._hasEditor()){if(!_b){if(_f){_f.succ=_e._setDataset(true);}else{_e._setDataset(true);}}if(this._binddataset.enableevent==false){this._refreshAll();}if(nexacro.Browser=="Safari"){nexacro.OnceCallbackTimer.callonce(_e,function(){_e.set_visible(false);});}else{_e.set_visible(false);}this._currentCellEditor=null;if(_d._is_alive){_d._refobj._editingRow= -9;_d._setDisplayText();_d._hideEditor();if(this._keydown_elem&&!_c){_d._setFocus(false);}}this._showEditing=false;}}else{_e._cellinfo._editingRow= -9;if(_f){_f.succ=_e._setDataset(true,this._currentCellRow);}else{_e._setDataset(true,this._currentCellRow);}_e.set_visible(false);this._currentCellEditor=null;this._showEditing=false;}this._setdataobj=_f;}this._beforeEditCellIdx= -1;this._beforeEditRowIdx= -1;this._currentCellCell= -1;this._currentCellRow= -1;}else{var _e=this._currentCellEditor;if(_e){var _g=_e._adjust_height+10;_e.set_top( -_g);if(_e._cellobj._subComp){_e._cellobj._subComp.set_visible(true);}}}return true;};_pGrid._createEditor=function(_a){var _b=_a._refobj;var _c=this._getDataRow(_a._rowidx);var _d=_b._getEdittype(_c);var _e=this["_createEditor_"+_d];if(_e==null){_e=this._createEditor_text;}if(this._tempEditor){if(this._isDownActionKeyMouse()){this._destroyeditors.push(this._tempEditor);this._tempEditor=null;}else{var _g=this._tempEditor;nexacro.OnceCallbackTimer.callonce(this,function(){if(_g){_g.destroy();_g=null;}},10);}}var _f=_e.call(this,_a);this._tempEditor=this._currentCellEditor=_f;return _f;};_pGrid.getShowEditor=function(){var _a=this._currentCellEditor;if(_a instanceof nexacro.GridControlEdit||_a instanceof nexacro.GridControlTextArea||_a instanceof nexacro.GridControlMaskEdit){return _a;}else{return false;}};_pGrid._createEditor_text=function(_a){return this._createEditor_edit(_a);};_pGrid._createEditor_readonly=function(_a){return this._createEditor_textarea(_a,true);};_pGrid._createEditor_mask=function(_a,_b){return this._createEditor_maskedit(_a);};_pGrid._createEditor_masknumber=function(_a,_b){return this._createEditor_maskedit(_a);};_pGrid._createEditor_button=function(_a){var _b=_a._setPositionInGrid();var _c=new nexacro.GridControlButton("controlbutton",_b.left,_b.top,_b.width,_b.height,this);_c._cellobj=_a;_c._cellinfo=_a._refobj;_c.createComponent();return _c;};_pGrid._createEditor_edit=function(_a,_b){var _c=this._getDataRow(_a._rowidx);var _d=_a._setPositionInGrid();var _e=this._currentCompositionStatus;var _f=this._currentCompositionData;var _g=new nexacro.GridControlEdit("controledit",_d.left,_d.top,_d.width,_d.height,this);_g._cellobj=_a;_g._cellinfo=_a._refobj;var _h=_g._cellinfo._getValue(_c);_g._set_absolutelyValue(_h);_g.createComponent();var _i=_a._refobj;var _j=_i._getAttrValue(_i.editlimit,_c);if(_j==0){_j=this._binddataset._getColumnSize(_i.text._bindtype==1?_i.text._bindexpr:0);}_g.set_maxlength(_j);if(_b){_g.set_readonly(true);}if(nexacro.Browser=="Safari"){if(_e==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_f);}else if(_e==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_f);}}return _g;};_pGrid._createEditor_maskedit=function(_a,_b){var _c=this._getDataRow(_a._rowidx);var _d=_a._setPositionInGrid();var _e=new nexacro.GridControlMaskEdit("controlmaskedit",_d.left,_d.top,_d.width,_d.height,this);_e._cellobj=_a;_e._cellinfo=_a._refobj;var _f=_e._cellinfo._getValue(_c);_e._set_absolutelyValue(_f);var _g=_e._cellinfo._getEdittype(_c);var _h=_e._cellinfo._getAttrValue(_e._cellinfo.edittype,_c);var _i=_e._cellinfo._getDisplaytype(_c);var _j=_e._cellinfo._getAttrValue(_e._cellinfo.locale,_c);if(_g=="masknumber"){_e.set_type("number");}else{if(_h=="normal"){if(_i=="number"){_e.set_type("number");}else{_e.set_type("string");}}else{_e.set_type("string");}}if(_g=="masknumber"||_g=="mask"){_f=_e._cellinfo._getAttrValue(_e._cellinfo.mask,_c);if(_f!=null){_e.set_mask(_f);}}if(!_j){_j=this.locale;}_e.createComponent();_e.set_locale(_j);return _e;};_pGrid._createEditor_combo=function(_a){var _b=_a._setPositionInGrid();var _c=new nexacro.GridControlCombo("controlcombo",_b.left,_b.top,_b.width,_b.height,this);_c._cellobj=_a;_c._cellinfo=_a._refobj;_c.createComponent();return _c;};_pGrid._createEditor_date=function(_a){var _b=this._getDataRow(_a._rowidx);var _c=_a._setPositionInGrid();var _d=new nexacro.GridControlCalendar("controlcalendar",_c.left,_c.top,_c.width,_c.height,this);_d._cellobj=_a;_d._cellinfo=_a._refobj;var _e=_d._cellinfo._getValue(_b);var _f=_d._cellinfo._getAttrValue(_d._cellinfo.mask,_b);var _g=_d._cellinfo._getAttrValue(_d._cellinfo.locale,_b);if(this._displaymode==true&&!_e){_e=_d._cellinfo._getDisplayText(_b);}if(!_f||_f.length==0){_f="yyyy-MM-dd";}if(!_g){_g=this._getLocale();}_d.createComponent();_d.set_editformat(_f);_d.set_dateformat(_f);_d._currentformat="editformat";_d.set_value(_d._toValueStr(_e));_d.set_locale(_g);_d._resizeCalendar();return _d;};_pGrid._createEditor_textarea=function(_a,_b){var _c=this._getDataRow(_a._rowidx);var _d=_a._setPositionInGrid();var _e=this._currentCompositionStatus;var _f=this._currentCompositionData;var _g=new nexacro.GridControlTextArea("controltextarea",_d.left,_d.top,_d.width,_d.height,this);_g._cellobj=_a;_g._cellinfo=_a._refobj;var _h;if(_g._displaymode==true||_b){_h=_g._cellinfo._getDisplayText(_c);}else{_h=_g._cellinfo._getValue(_c);}_g._set_absolutelyValue(_h);var _i=_g._cellinfo._getWordwrap(_c);_g.set_wordwrap(_i);_g.createComponent();var _j=_a._refobj;var _c=this._getDataRow(_a._rowidx);var _k=_j._getAttrValue(_j.editlimit,_c);if(_k==0){_k=this._binddataset._getColumnSize(_j._col);}_g.set_maxlength(_k);if(_b){_g.set_readonly(true);}if(nexacro.Browser=="Safari"){if(_e==nexacro.EditBase.Status.CompositionStart){_g._on_input_compositionstart(_f);}else if(_e==nexacro.EditBase.Status.CompositionUpdate){_g._on_input_compositionupdate(_f);}}return _g;};_pGrid._setFocus=function(_a,_b,_c){if(nexacro._enableaccessibility){this._currentBand="grid";this._accept_arrow=true;this._removeAccessibilityCurrentFocus();if(_b==2){var _d=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_d&&_d.enable==false){this._setAccessibilityBandFocus("next",true,false);}}else if(_b==3){this._setAccessibilityBandFocus("prev",true);}}return nexacro.Component.prototype._setFocus.call(this,_a,_b,_c);};_pGrid._evtvalue=function(_a,_b){var _c="";if(_a&&_a.value){_c=_a.value;}else if(_b){_c=_b;}return _c;};_pGrid._getAvailableRect=function(_a){var _b={left:0,top:0,right:0,bottom:0,width:0,height:0};_b.left=_a._client_left;_b.top=_a._client_top;_b.right=_a._client_left+_a._client_width;_b.bottom=_a._client_top+_a._client_height;_b.width=_a._client_width;_b.height=_a._client_height;return _b;};_pGrid._getPosRect=function(_a){var _b={left:_a._adjust_left,top:_a._adjust_top,right:_a._getPosRight(),bottom:_a._getPosBottom(),width:_a._adjust_width,height:_a._adjust_height};return _b;};_pGrid._closePopup=function(){var _a=this._currentCellEditor;if(_a&&_a.popupwindow){_a._closePopup();}};_pGrid._destroyOverlayElements=function(){var _a=this._overlay_elements;if(_a.length){for(var _b=0;_b<_a.length;_b++ ){_a[_b].destroy();}_a=[];}this._overlay_elements=[];};_pGrid._setOverlayElements=function(_a,_b){if(_b> -1&&_b<_a.length){for(var _c=_a.length-1;_c>=_b;_c-- ){_a[_c].destroy();_a.splice(_c,1);}}this._overlay_elements=_a;};_pGrid._setOverlayElementProperty=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!_a){return;}_a.setElementPosition(_b,_c);_a.setElementSize(_d,_e);if(_f){var _i=_f._selected;_f._selected=false;var _j=_f._refobj;var _k=this._getDataRow(_f._rowidx);_a.setElementText(_g);_a.setElementWordWrap(_j._getWordwrap(_k));var _l=_f.on_find_CurrentStyle_font(_f._pseudo);var _m=_f.on_find_CurrentStyle_color(_f._pseudo);var _n=_f.on_find_CurrentStyle_align(_f._pseudo);var _o=_f.on_find_CurrentStyle_padding(_f._pseudo);_a.setElementFont(_l);_a.setElementColor(_m);_a.setElementPadding(_o);if(_h){_a.setElementAlignXY(_n.halign,_n.valign);}else if(_j.suppressalign.indexOf("first")==0){_a.setElementAlignXY(_n.halign,"top");}else if(_j.suppressalign.indexOf("last")==0){_a.setElementAlignXY(_n.halign,"bottom");}else{_a.setElementAlignXY(_n.halign,"middle");}var _p=0;if(_h){_p=this._getScrollLeft();}else{var _q=_f.on_find_CurrentStyle_border(_f._pseudo);if(_f.width>(_d+_o.left+_q._right_width)){_p=_f.width-(_d+_o.left+_q._right_width);}}_a.updateCellNodeClient(_b,_c,_d,_e,_p,_h);_f._selected=_i;}};_pGrid._adjustOverlayElements=function(_a,_b,_c){if(_a||_c){this._destroyOverlayElements();}if(!this._curFormat||(!this._is_use_suppress&&!this._is_use_fakemerge)){return false;}var _d=false;var _e=this._overlay_elements;var _f=[],_g="",_h=null,_i=null;var _j=null,_k=null,_l=null;var _m=0,_n=0,_o=0,_p=0,_q=0;var _r=this._curFormat._cols.length;if(this._is_use_suppress){var _t=this._bodyBand;if(!_t){return false;}var _u=_t._get_rows();if(!_u.length){return false;}var _v=_u[0]._cells;for(var _w=0;_w<_r;_w++ ){_i=this._getBodyCellInfo(_w);if(_i&&_i.suppressalign.indexOf("over")>0){cellidx=_w;_n=_m= -1;_o=_p=0;_f=[];for(var _x=0;_x<_u.length;_x++ ){_h=this._getBodyCellItem(_x,cellidx);_j=_h._setPositionInGrid();_m=(_m<0)?_j.left:_m;_n=(_n<0)?_j.top:_n;if(_j.top>_n){_f.push(_h._control_element);}else{_f.splice(0,1,_h._control_element);}var _y=1;var _z=null;if(_v.length>_r&&_i._rowspan==1){_z=this._getBodyCellItem(_x,cellidx+(_r*_y));while(_z){_f.push(_z._control_element);_y++ ;_z=this._getBodyCellItem(_x,cellidx+(_r*_y));}_z=_f[_f.length-1].linkedcontrol;_y=null;}if(_h._getSuppressInfo().text_proc==0){_g=_h._display_text;}if(!_l&&_i.suppressalign.indexOf("first")>=0){_l=_h;}if(_h._getSuppressInfo().last){if(_z){_j=_z._setPositionInGrid();_z=null;}_o=(_j.right>_m)?_j.right-_m:0;_p=(_j.bottom>_n)?_j.bottom-_n:0;_k=null;if(_f.length>1){if(_e[_q]){_k=_e[_q];_k.setTargetElements(_f);}else{_k=new nexacro.EventPassOverlayElement(this._control_element,_f);_k.create();_e.push(_k);}if(_k){_q++ ;if(!_l){if(_h._getSuppressInfo().middle&&_f.length>1){_l=this._getBodyCellItem(Math.floor(_f.length/2),cellidx);}else{_l=_h;}}this._setOverlayElementProperty(_k,_m,_n,_o,_p,_l,_g);}}else{_h._showInnerElement();}_f=[];_g="";_j=_l=null;_m=_n= -1;_p=_o=0;}}}}_d=true;}var _s=this._fake_mergecell_arr;if(this._is_use_fakemerge&&_s.length){var _aa=e_cell=null;var _ab=end_column=start_row=end_row=subrow_start=subrow_end=0;for(var _w=0;_w<_s.length;_w++ ){_aa=null;e_cell=null;_f=[];fake_mergecell=_s[_w];start_row=fake_mergecell.start_row;end_row=fake_mergecell.end_row;_ab=fake_mergecell.start_column;end_column=fake_mergecell.end_column;var _x=0;if(fake_mergecell.start_row== -1||fake_mergecell.start_row== -2){_x=_ab;}for(;_x<=end_column;_x++ ){if(fake_mergecell.start_row== -1){start_row=end_row=0;subrow_start=(fake_mergecell.start_subrow>=0)?fake_mergecell.start_subrow:0;subrow_end=(fake_mergecell.end_subrow>=0)?fake_mergecell.end_subrow:this._curFormat._headrows.length-1;}else if(fake_mergecell.start_row== -2){start_row=end_row=0;subrow_start=(fake_mergecell.start_subrow>=0)?fake_mergecell.start_subrow:0;subrow_end=(fake_mergecell.end_subrow>=0)?fake_mergecell.end_subrow:this._curFormat._summrows.length-1;}else{_i=this._getBodyCellInfo(_x);if(_i){if(_i._col<_ab||_i._col>end_column){continue;}}else{break;}}for(var _ac=start_row;_ac<=end_row;_ac++ ){if(fake_mergecell.start_row>=0){subrow_start=0;subrow_end=this._curFormat._bodyrows.length-1;if(_ac==end_row&&fake_mergecell.end_subrow!=undefined){subrow_end=fake_mergecell.end_subrow;}if(_ac==start_row&&fake_mergecell.start_subrow!=undefined){subrow_start=fake_mergecell.start_subrow;}}for(var _ad=subrow_start;_ad<=subrow_end;_ad++ ){if(fake_mergecell.start_row== -1){_h=this._getCurrentHeadCell(_x+(_r*_ad),true);}else if(fake_mergecell.start_row== -2){_h=this._getCurrentSummCell(_x+(_r*_ad),true);}else{_h=this._getCurrentBodyCell(_ac,_x+(_r*_ad));}if(_h){_f.push(_h._control_element);_aa=(_aa)?_aa:_h;e_cell=_h;}}}}if(_aa&&e_cell){_l=null,_g=null;_k=_e[_q];if(!_k){_k=new nexacro.EventPassOverlayElement(this._control_element,_f);_k.create();_e.push(_k);}else{_k.setTargetElements(_f);}_i=_aa._refobj;if(_i){if(_aa.subcells.length){_i=_aa.subcells[0]._refobj;}_g=_i._getDisplayText(fake_mergecell.start_row);}_l=_aa;var _ae=_aa._setPositionInGrid();var _af=e_cell._setPositionInGrid();_m=_ae.left;_n=_ae.top;_o=(_af.right>_m)?_af.right-_m:0;_p=(_af.bottom>_n)?_af.bottom-_n:0;if(_b){if(_k){_n=_k.top;_p=_k.height;this._setOverlayElementProperty(_k,_m,_n,_o,_p,_l,_g,true);_q++ ;}continue;}this._setOverlayElementProperty(_k,_m,_n,_o,_p,_l,_g,true);if(!_b){_k.setElementStartHScrollPos(_m);}_m=_n=_o=_p=0;_ae=_af=_l=_g=_k=null;_q++ ;}fake_mergecell=_aa=e_cell=null;}_d=true;}this._setOverlayElements(_e,_q);return _d;};_pGrid._moveToAccessibilityCell=function(_a,_b,_c,_d){if(this._is_band_focus&&!_b){var _f=true;if(_a=="prev"||_a=="up"){_f=this._setAccessibilityBandFocus(_a);}else{if(_a=="next"||(_a=="down"&&this._currentBand=="head")){this.currentcell=this.currentsubrow=this.currentcol=0;}if(!this._moveToPosAccessibilityCell(this.currentrow,this.currentcell)){_f=this._setAccessibilityBandFocus(_a);}}return _f;}if(this._currentBand=="grid"){if(_a=="prev"||_a=="next"||_a=="down"){if(_b){if(_a=="next"){if(this._bodyBand&&this._bodyBand._get_rows().length>0){var _i=null;_i=this._getFirstEditableCell();if(_i&&_i.row!==null){this._showEditorFocus=true;if(this.vscrollbar&&this.vscrollbar.visible){this.vscrollbar.set_pos(0);}this._currentBand="body";this._moveToPosAccessibilityCell(_i.row,_i.cell);this._showEditorFocus=false;return true;}}}return false;}return this._setAccessibilityBandFocus(_a,true);}else{this._accept_arrow=false;return false;}}var _e;var _f=true;var _g=null;var _h=null;this._is_band_focus=false;this._beforegridrowpos=this.currentrow;this._beforegridcolpos=this.currentcol;if(this._currentBand=="body"){this._is_first_bodycell=false;if(this._currentCellEditor){_g=this._getAccessibilityCurrentCell();_g._hideEditor();_g=null;}for(;true;){if(_b){_f=this._moveToCell(_a,true,_d,undefined,undefined,true);}else{_f=this._moveToCell(_a,false,_d,undefined,undefined,true);}if(_f){_g=this._getAccessibilityCurrentCell();if(_g){if(_b){_g._setFocus(false);break;}else{_h=_g.on_find_CurrentStyle_accessibility(_g._pseudo);if(_h&&_h.enable){if(_a=="up"||_a=="down"){if(this._isSelectRowType()&&_g._curDisplayType!="tree"){var _j=_g.parent;_j._setFocus(false);break;}}_g._setFocus(false);break;}}}}else{if(!_b){_f=this._setAccessibilityBandFocus(_a);}break;}}return _f;}if(_b){if(this._currentBand=="head"){if(this._bodyBand._get_rows().length>0){this._currentBand="body";var _i=this._getFirstEditableCell();if(_i.row!==null){this._is_first_bodycell=true;_f=this._moveToPosAccessibilityCell(_i.row,_i.cell);}return true;}}return false;}if(_a=="next"){for(;true;){this.currentcell++ ;_g=this._getAccessibilityCurrentCell();if(_g){if(_g.width<=0){continue;}else{_h=_g.on_find_CurrentStyle_accessibility(_g._pseudo);if(_h){if(_h.enable==false){continue;}var _k=_g._refobj;this.currentsubrow=_k._row;this.currentcol=_k._col;_g._showfull();_g._setFocus(false);}}}else{this.currentcell-- ;_f=this._setAccessibilityBandFocus(_a);}break;}}else if(_a=="prev"){for(;true;){this.currentcell-- ;_g=this._getAccessibilityCurrentCell();if(_g){if(_g.width<=0){continue;}else{_h=_g.on_find_CurrentStyle_accessibility(_g._pseudo);if(_h){if(_h.enable==false){continue;}var _k=_g._refobj;this.currentsubrow=_k._row;this.currentcol=_k._col;_g._showfull();_g._setFocus(false);}}}else{this.currentcell++ ;_f=this._setAccessibilityBandFocus(_a);}break;}}else if(_a=="up"){if(this._currentBand=="head"){_e=this._headBand;}else{_e=this._summBand;}if(_e){var _l,_m;_g=this._getAccessibilityCurrentCell();if(_g){var _k=_g._refobj;var _n=_k._row;var _o=_k._col;var _p=this.currentcell;while(true){this.currentcell-- ;_g=this._getAccessibilityCurrentCell();if(_g){_l=_g._refobj._row;_m=_g._refobj._col;if(_m==_o&&_l==_n-1){_h=_g.on_find_CurrentStyle_accessibility(_g._pseudo);if(_h&&_h.enable==false){continue;}this.currentsubrow=_l;this.currentcol=_m;_g._setFocus(false);break;}}else{if(this.currentcell<=0){this.currentcol=_o;this.currentcell=_p;_f=this._setAccessibilityBandFocus(_a);break;}}}}}}else if(_a=="down"){var _l,_m;_g=this._getAccessibilityCurrentCell();if(_g){var _k=_g._refobj;var _n=_k._row;var _o=_k._col;var _p=this.currentcell;while(true){this.currentcell++ ;_g=this._getAccessibilityCurrentCell();if(_g){_l=_g._refobj._row;_m=_g._refobj._col;if(_m==_o&&_l==_n+1){this.currentsubrow=_l;this.currentcol=_m;_g._setFocus(false);break;}}else{this.currentcell=_p;_f=this._setAccessibilityBandFocus(_a);break;}}}}return _f;};_pGrid._setAccessibilityBandFocus=function(_a,_b,_c){var _d=true,_e=null,_f=this._currentBand;if(_a=="next"){if(_f=="grid"){if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;}else if(this._bodyBand&&this.body&&this.summarytype!="top"&&this.summarytype!="lefttop"){_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}else if(this._summBand){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}else{this._accept_arrow=false;_d=false;}}else{if(_f=="head"){if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}else if(this._summBand){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}}else if(_f=="body"){if(this._summBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}}else if(_f=="summ"&&(this.summarytype=="top"||this.summarytype=="lefttop")){if(this._bodyBand){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}}}if(_e){if(_c){this.currentsubrow=0;this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}else{var _g=_e._isAccessibilityEnable();if(!this._is_band_focus&&(_g||(_e._isBody&&this.rowcount<=0))){if(_b){this.currentcell=this.currentsubrow=this.currentcol=0;}this._moveToAccessibilityBand(false);}else{if(_f=="grid"&&_b&&!this.on_find_CurrentStyle_accessibility(this._pseudo).enable){this._first_focus=true;}this.currentcell=this.currentsubrow=this.currentcol=0;this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}}}else if(_a=="prev"){if(_f=="grid"){if(_b||_c){if(this._summBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;this.currentsubrow=_e._get_rows()[0]._format_rows.length-1;}else if(this._bodyBand&&this.body){_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=this.rowcount-1;this.currentsubrow=0;}else if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=_e._get_rows()[0]._format_rows.length-1;}else{_d=false;}}else{_d=false;}}else{if(_f=="summ"){var _g=this._summBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._moveToAccessibilityBand(false);}else{if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this.currentrow=this._currentDSrow=this.rowcount-1;}else if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;}}}else if(_f=="body"){var _g=this._bodyBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._hideEditor();this._moveToAccessibilityBand(false);}else{if(this._summBand&&(this.summarytype=="top"||this.summarytype=="lefttop")){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;this.currentsubrow=this._curFormat._summrows.length-1;}else if(this._headBand){this._hideEditor();_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=this._curFormat._headrows.length-1;}}}}if(_e){var _g=_e._isAccessibilityEnable();if(_e._isBody&&this.rowcount<=0){this._removeAccessibilityCurrentFocus();_e._setFocus(false);this.currentcol=this._curFormat._cols.length-1;this.currentcell= -1;}else{if(!_c){this.currentcol=this._curFormat._cols.length-1;this.currentcell=this._getAccessibilityLastCellIndex()-1;}this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}}else if(_a=="up"){if(_f=="summ"){var _g=this._summBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._moveToAccessibilityBand(false);}else{if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=this.rowcount-1;this.currentsubrow=0;}else if(this._headBand){_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=this._curFormat._headrows.length-1;}else{_f="grid";}}}else if(_f=="body"){var _g=this._bodyBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._hideEditor();this._moveToAccessibilityBand(false);}else{if(this._summBand&&(this.summarytype=="top"||this.summarytype=="lefttop")){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;this.currentsubrow=this._curFormat._summrows.length-1;}else if(this._headBand){this._hideEditor();_e=this._headBand;this._currentBand="head";this._currentDSrow=this.currentrow= -1;this.currentsubrow=this._curFormat._headrows.length-1;}else{_f="grid";}}}else if(_f=="head"&&this.currentcell<=0){var _g=this._headBand._isAccessibilityEnable();if(!this._is_band_focus&&_g){this._moveToAccessibilityBand(false);}else{_f="grid";}}if(_e){this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}else if(_f=="grid"){this._is_band_focus=false;this._currentBand=_f;var _h=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_h&&_h.enable){this._moveToAccessibilityBand(true);}else{_d=this._moveToAccessibilityCell(_a);}}}else if(_a=="down"){if(_f=="grid"){_d=this._setAccessibilityBandFocus("next",true);}else{if(_f=="head"){if(this._bodyBand&&this.summarytype!="top"&&this.summarytype!="lefttop"){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}else if(this._summBand){_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}}else if(_f=="body"&&this.summarytype!="top"&&this.summarytype!="lefttop"){if(this._summBand){this._hideEditor();_e=this._summBand;this._currentBand="summ";this._currentDSrow=this.currentrow= -2;}else if(this._bodyBand&&this.rowcount<=0){this._hideEditor();this._accept_arrow=false;_d=false;}}else if(_f=="summ"&&(this.summarytype=="top"||this.summarytype=="lefttop")){if(this._bodyBand){this._is_first_bodycell=true;_e=this._bodyBand;this._currentBand="body";this._currentDSrow=this.currentrow=0;}}if(_e){var _g=_e._isAccessibilityEnable();if(!this._is_band_focus&&(_g||(this.rowcount<=0&&_e._isBody))){this._moveToAccessibilityBand(false);}else{this.currentsubrow=0;this._moveToPosAccessibilityCell(this.currentrow,this.currentcell);}}else if(this.currentcell>=this._getAccessibilityLastCellIndex()-1){this._accept_arrow=false;_d=false;}}}return _d;};_pGrid._getAccessibilityCurrentCell=function(_a,_b){var _c=null;if(_a===undefined||_b===undefined){_a= -1;_b= -1;}else if(_b<0){_b=this._getAccessibilityCellIndex();}if(this._currentBand=="body"){_c=this._getCurrentBodyCell(_a,_b);}else{if(this._currentBand=="head"){_c=this._getCurrentHeadCell(_b,true);}else{_c=this._getCurrentSummCell(_b,true);}}return _c;};_pGrid._getAccessibilityLastCellIndex=function(){var _a= -1;if(this._currentBand=="head"&&this._curFormat._headcells){_a=this._curFormat._headcells.length;}else if(this._currentBand=="body"&&this._curFormat._bodycells){_a=this._curFormat._bodycells.length;}else if(this._currentBand=="summ"&&this._curFormat._summcells){_a=this._curFormat._summcells.length;}return _a;};_pGrid._removeAccessibilityCurrentFocus=function(_a){var _b=this._getWindow();if(_a){_b._removeFromCurrentFocusPath(this,true);}else{if(this._currentBand=="body"){_b._removeFromCurrentFocusPath(this._bodyBand,true);}else if(this._currentBand=="head"){_b._removeFromCurrentFocusPath(this._headBand,true);}else if(this._currentBand=="summ"){_b._removeFromCurrentFocusPath(this._summBand,true);}}};_pGrid._moveToAccessibilityBand=function(_a){this._removeAccessibilityCurrentFocus(_a);if(!_a){this._is_band_focus=true;var _b=this._currentBand;if(_b=="head"){this._headBand._setFocus(false);}else if(_b=="body"){this._bodyBand._setFocus(false);}else if(_b=="summ"){this._summBand._setFocus(false);}}else{this._setFocus(false);}};_pGrid._moveToPosAccessibilityCell=function(_a,_b){var _c=false,_d=null,_a=this._getDataRow(_a),_b=this._getAccessibilityCellIndex(_b);if(this._currentBand=="body"&&this._bodyBand._get_rows().length>0){this._hideEditor();_d=this._getAccessibilityCurrentCell();if(_d){_d._stat_change("notfocus","normal");}this._moveToPosCell(_a,_b);}_d=this._getAccessibilityCurrentCell(_a,_b);var _e=_d._refobj;if(_d){_c=true;_d._showfull();if(this._currentBand!="body"||this.autoenter!="select"||_e._getEdittype()=="none"){_d._setFocus(false);}else{_d._showEditor();if(this._currentCellEditor){this._currentCellEditor._setFocus(false);}}this.currentcol=_d._refobj._col;}this._is_band_focus=this._first_focus=false;return _c;};_pGrid._getAccessibilityCellIndex=function(_a){var _b=null;if(this._currentBand=="body"){_b=this._bodyBand;}else if(this._currentBand=="head"){_b=this._headBand;}else if(this._currentBand=="summ"){_b=this._summBand;}if(_b){var _c=_b._get_row(this._getDataRow(this.currentrow));if(_c){var _d=_c._cells,_e=null;for(var _f=0;_f<_d.length;_f++ ){_e=_d[_f]._refobj;if(_e._col<=this.currentcol&&this.currentcol<=(_e._col+_e._colspan-1)){if(this.currentsubrow==0){return _d[_f]._cellidx;}else{if(_e._row==this.currentsubrow){return _d[_f]._cellidx;}}}}}}return (_a>=0)?_a:null;};};if(!nexacro.Chart_Style){nexacro.Chart_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.baritemminsize=null;this.baritemspacing=null;this.barspacing=null;this.lineextendorigin=null;this.scrollbarsize=null;this.seriesextendaxis=null;};var _pChartStyle=nexacro.Chart_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.Chart_Style);_pChartStyle._type_name="ChartStyle";eval(nexacro._createValueAttributeEvalStr("_pChartStyle","baritemminsize"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","baritemspacing"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","barspacing"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","lineextendorigin"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","scrollbarsize"));eval(nexacro._createValueAttributeEvalStr("_pChartStyle","seriesextendaxis"));_pChartStyle.__custom_emptyObject=function(){this.baritemminsize=null;this.baritemspacing=null;this.barspacing=null;this.lineextendorigin=null;this.scrollbarsize=null;this.seriesextendaxis=null;};_pChartStyle.__get_custom_style_value=function(){var _a="";if(this.baritemminsize&&!this.baritemminsize._is_empty){_a+="baritemminsize:"+this.baritemminsize._value+"; ";}if(this.baritemspacing&&!this.baritemspacing._is_empty){_a+="baritemspacing:"+this.baritemspacing._value+"; ";}if(this.barspacing&&!this.barspacing._is_empty){_a+="barspacing:"+this.barspacing._value+"; ";}if(this.lineextendorigin&&!this.lineextendorigin._is_empty){_a+="lineextendorigin:"+this.lineextendorigin._value+"; ";}if(this.scrollbarsize&&!this.scrollbarsize._is_empty){_a+="scrollbarsize:"+this.scrollbarsize._value+"; ";}if(this.seriesextendaxis&&!this.seriesextendaxis._is_empty){_a+="seriesextendaxis:"+this.scrollbarsize._value+"; ";}return _a;};nexacro.Chart_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.baritemminsize=null;this.baritemspacing=null;this.barspacing=null;this.lineextendorigin=null;this.scrollbarsize=null;this.seriesextendaxis=null;};var _pChartCurrentStyle=nexacro.Chart_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Chart_CurrentStyle);_pChartCurrentStyle._type_name="ChartCurrentStyle";_pChartCurrentStyle.__custom_emptyObject=_pChartStyle.__custom_emptyObject;_pChartCurrentStyle.__get_custom_style_value=_pChartStyle.__get_custom_style_value;_pChartStyle=null;_pChartCurrentStyle=null;nexacro.ChartBoard_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);if(_a){this._target=_a;}this.markliney=null;this.markliney2=null;this.originliney=null;this.originliney2=null;this.xaxismajorline=null;this.yaxismajorline=null;this.yaxisminorline=null;};var _pBoardStyle=nexacro.ChartBoard_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartBoard_Style);_pBoardStyle._type_name="ChartBoardStyle";eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","markliney"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","markliney2"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","originliney"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","originliney2"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","xaxismajorline"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","yaxismajorline"));eval(nexacro._createLineAttributeEvalStr("_pBoardStyle","yaxisminorline"));_pBoardStyle.__custom_emptyObject=function(){this.markliney=null;this.markliney2=null;this.originliney=null;this.originliney2=null;this.xaxismajorline=null;this.yaxismajorline=null;this.yaxisminorline=null;};_pBoardStyle.__get_custom_style_value=function(){var _a="";if(this.markliney&&!this.markliney._is_empty){_a+="markliney:"+this.markliney._value+"; ";}if(this.markliney2&&!this.markliney2._is_empty){_a+="markliney2:"+this.markliney2._value+"; ";}if(this.originliney&&!this.originliney._is_empty){_a+="originliney:"+this.originliney._value+"; ";}if(this.originliney2&&!this.originliney2._is_empty){_a+="originliney2:"+this.originliney2._value+"; ";}if(this.xaxismajorline&&!this.xaxismajorline._is_empty){_a+="xaxismajorline:"+this.xaxismajorline._value+"; ";}if(this.yaxismajorline&&!this.yaxismajorline._is_empty){_a+="yaxismajorline:"+this.yaxismajorline._value+"; ";}if(this.yaxisminorline&&!this.yaxisminorline._is_empty){_a+="yaxisminorline:"+this.yaxisminorline._value+"; ";}return _a;};nexacro.ChartBoard_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.markliney=null;this.markliney2=null;this.originliney=null;this.originliney2=null;this.xaxismajorline=null;this.yaxismajorline=null;this.yaxisminorline=null;};var _pBoardCurrentStyle=nexacro.ChartBoard_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartBoard_CurrentStyle);_pBoardCurrentStyle._type_name="ChartBoardCurrentStyle";_pBoardCurrentStyle.__custom_emptyObject=_pBoardStyle.__custom_emptyObject;_pBoardCurrentStyle.__get_custom_style_value=_pBoardStyle.__get_custom_style_value;_pBoardStyle=null;_pBoardCurrentStyle=null;nexacro.ChartLegend_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);if(_a){this._target=_a;}this.location=null;this.arrange=null;this.imagepadding=null;this.itemalign=null;this.itemborder=null;this.itembordertype=null;this.itembackground=null;this.itemgradation=null;this.itempadding=null;this.itemfont=null;this.itemcolor=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titletext=null;this.type=null;};var _pLegendStyle=nexacro.ChartLegend_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartLegend_Style);_pLegendStyle._type_name="ChartLegendStyle";eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","location"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","arrange"));eval(nexacro._createPaddingAttributeEvalStr("_pLegendStyle","imagepadding"));eval(nexacro._createAlignAttributeEvalStr("_pLegendStyle","itemalign"));eval(nexacro._createBorderAttributeEvalStr("_pLegendStyle","itemborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pLegendStyle","itembordertype"));eval(nexacro._createGradationAttributeEvalStr("_pLegendStyle","itemgradation"));eval(nexacro._createPaddingAttributeEvalStr("_pLegendStyle","itempadding"));eval(nexacro._createFontAttributeEvalStr("_pLegendStyle","itemfont"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","itemcolor"));eval(nexacro._createFontAttributeEvalStr("_pLegendStyle","titlefont"));eval(nexacro._createAlignAttributeEvalStr("_pLegendStyle","titlealign"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","titlecolor"));eval(nexacro._createPaddingAttributeEvalStr("_pLegendStyle","titlepadding"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","titletext"));eval(nexacro._createValueAttributeEvalStr("_pLegendStyle","type"));_pLegendStyle.__custom_emptyObject=function(){this.location=null;this.arrange=null;this.itemalign=null;this.itemborder=null;this.itembordertype=null;this.itembackground=null;this.itemgradation=null;this.itempadding=null;this.itemfont=null;this.itemcolor=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titletext=null;this.type=null;};_pLegendStyle.__get_custom_style_value=function(){var _a="";if(this.location&&!this.location._is_empty){_a+="location:"+this.location._value+"; ";}if(this.arrange&&!this.arrange._is_empty){_a+="arrange:"+this.arrange._value+"; ";}if(this.itemalign&&!this.itemalign._is_empty){_a+="itemalign:"+this.itemalign._value+"; ";}if(this.itemborder&&!this.itemborder._is_empty){_a+="itemborder:"+this.itemborder._value+"; ";}if(this.itembordertype&&!this.itembordertype._is_empty){_a+="itembordertype:"+this.itembordertype._value+"; ";}if(this.itembackground&&!this.itembackground._is_empty){_a+="itembackground:"+this.itembackground._value+"; ";}if(this.itemgradation&&!this.itemgradation._is_empty){_a+="itemgradation:"+this.itemgradation._value+"; ";}if(this.itempadding&&!this.itempadding._is_empty){_a+="itempadding:"+this.itempadding._value+"; ";}if(this.itemfont&&!this.itemfont._is_empty){_a+="itemfont:"+this.itemfont._value+"; ";}if(this.itemcolor&&!this.itemcolor._is_empty){_a+="itemcolor:"+this.itemcolor._value+"; ";}if(this.titlealign&&!this.titlealign._is_empty){_a+="titlealign:"+this.titlealign._value+"; ";}if(this.titlecolor&&!this.titlecolor._is_empty){_a+="titlecolor:"+this.titlecolor._value+"; ";}if(this.titlefont&&!this.titlefont._is_empty){_a+="titlefont:"+this.titlefont._value+"; ";}if(this.titlepadding&&!this.titlepadding._is_empty){_a+="titlepadding:"+this.titlepadding._value+"; ";}if(this.titletext&&!this.titletext._is_empty){_a+="titletext:"+this.titletext._value+"; ";}if(this.type&&!this.type._is_empty){_a+="type:"+this.type._value+"; ";}return _a;};nexacro.ChartLegend_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.location=null;this.arrange=null;this.itemalign=null;this.itemborder=null;this.itembordertype=null;this.itembackground=null;this.itemgradation=null;this.itempadding=null;this.itemfont=null;this.itemcolor=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titletext=null;this.type=null;};var _pLegendCurrentStyle=nexacro.ChartLegend_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartLegend_CurrentStyle);_pLegendCurrentStyle._type_name="ChartLegendCurrentStyle";_pLegendCurrentStyle.__custom_emptyObject=_pLegendStyle.__custom_emptyObject;_pLegendCurrentStyle.__get_custom_style_value=_pLegendStyle.__get_custom_style_value;_pLegendStyle=null;_pLegendCurrentStyle=null;nexacro.ChartTitle_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.location=null;this.size=null;this.subalign=null;this.subcolor=null;this.subfont=null;this.subpadding=null;this.titlerotate=null;};var _pTitleStyle=nexacro.ChartTitle_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartTitle_Style);_pTitleStyle._type_name="ChartTitleStyle";eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","location"));eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","size"));eval(nexacro._createAlignAttributeEvalStr("_pTitleStyle","subalign"));eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","subcolor"));eval(nexacro._createFontAttributeEvalStr("_pTitleStyle","subfont"));eval(nexacro._createPaddingAttributeEvalStr("_pTitleStyle","subpadding"));eval(nexacro._createValueAttributeEvalStr("_pTitleStyle","titlerotate"));_pTitleStyle.__custom_emptyObject=function(){this.location=null;this.size=null;this.subalign=null;this.subcolor=null;this.subfont=null;this.subpadding=null;this.titlerotate=null;};_pTitleStyle.__get_custom_style_value=function(){var _a="";if(this.location&&!this.location._is_empty){_a+="location:"+this.location._value+"; ";}if(this.size&&!this.size._is_empty){_a+="size:"+this.size._value+"; ";}if(this.subalign&&!this.subalign._is_empty){_a+="subalign:"+this.subalign._value+"; ";}if(this.subcolor&&!this.subcolor._is_empty){_a+="subcolor:"+this.subcolor._value+"; ";}if(this.subfont&&!this.subfont._is_empty){_a+="subfont:"+this.subfont._value+"; ";}if(this.subpadding&&!this.subpadding._is_empty){_a+="subpadding:"+this.subpadding._value+"; ";}if(this.titlerotate&&!this.titlerotate._is_empty){_a+="titlerotate:"+this.titlerotate._value+"; ";}return _a;};nexacro.ChartTitle_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.location=null;this.size=null;this.subalign=null;this.subcolor=null;this.subfont=null;this.subpadding=null;this.titlerotate=null;};var _pTitleCurrentStyle=nexacro.ChartTitle_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartTitle_CurrentStyle);_pTitleCurrentStyle._type_name="ChartTitleCurrentStyle";_pTitleCurrentStyle.__custom_emptyObject=_pTitleStyle.__custom_emptyObject;_pTitleCurrentStyle.__get_custom_style_value=_pTitleStyle.__get_custom_style_value;_pTitleStyle=null;_pTitleCurrentStyle=null;nexacro.ChartAxis_Style=function(_a,_b){nexacro.Style.call(this);if(_a){this._target=_a;}this.axissize=null;this.labelalign=null;this.labelcolor=null;this.labelfont=null;this.labelpadding=null;this.labelrotate=null;this.markcolor=null;this.markfont=null;this.markline=null;this.markpadding=null;this.marksize=null;this.origincolor=null;this.originfont=null;this.originline=null;this.originpadding=null;this.originsize=null;this.ruleralign=null;this.rulermajorline=null;this.rulermajorsize=null;this.rulerminorline=null;this.rulerminorsize=null;this.scrollbarsize=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titlerotate=null;};var _pAxisStyle=nexacro.ChartAxis_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartAxis_Style);_pAxisStyle._type_name="ChartAxisStyle";eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","axissize"));eval(nexacro._createAlignAttributeEvalStr("_pAxisStyle","labelalign"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","labelcolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","labelfont"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","labelpadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","labelrotate"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","markcolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","markfont"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","markline"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","markpadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","marksize"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","origincolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","originfont"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","originline"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","originpadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","originsize"));eval(nexacro._createAlignAttributeEvalStr("_pAxisStyle","ruleralign"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","rulermajorline"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","rulermajorsize"));eval(nexacro._createLineAttributeEvalStr("_pAxisStyle","rulerminorline"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","rulerminorsize"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","scrollbarsize"));eval(nexacro._createAlignAttributeEvalStr("_pAxisStyle","titlealign"));eval(nexacro._createColorAttributeEvalStr("_pAxisStyle","titlecolor"));eval(nexacro._createFontAttributeEvalStr("_pAxisStyle","titlefont"));eval(nexacro._createPaddingAttributeEvalStr("_pAxisStyle","titlepadding"));eval(nexacro._createValueAttributeEvalStr("_pAxisStyle","titlerotate"));_pAxisStyle.__custom_emptyObject=function(){this.axissize=null;this.labelalign=null;this.labelcolor=null;this.labelfont=null;this.labelpadding=null;this.labelrotate=null;this.markcolor=null;this.markfont=null;this.markline=null;this.markpadding=null;this.marksize=null;this.origincolor=null;this.originfont=null;this.originline=null;this.originpadding=null;this.originsize=null;this.ruleralign=null;this.rulermajorline=null;this.rulermajorsize=null;this.rulerminorline=null;this.rulerminorsize=null;this.scrollbarsize=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titlerotate=null;};_pAxisStyle.__get_custom_style_value=function(){var _a="";if(this.axissize&&!this.axissize._is_empty){_a+="axissize:"+this.axissize._value+"; ";}if(this.labelalign&&!this.labelalign._is_empty){_a+="labelalign:"+this.labelalign._value+"; ";}if(this.labelcolor&&!this.labelcolor._is_empty){_a+="labelcolor:"+this.labelcolor._value+"; ";}if(this.labelfont&&!this.labelfont._is_empty){_a+="labelfont:"+this.labelfont._value+"; ";}if(this.labelpadding&&!this.labelpadding._is_empty){_a+="labelpadding:"+this.labelpadding._value+"; ";}if(this.labelrotate&&!this.labelrotate._is_empty){_a+="labelrotate:"+this.labelrotate._value+"; ";}if(this.markcolor&&!this.markcolor._is_empty){_a+="markcolor:"+this.markcolor._value+"; ";}if(this.markfont&&!this.markfont._is_empty){_a+="markfont:"+this.markfont._value+"; ";}if(this.markpadding&&!this.markpadding._is_empty){_a+="markpadding:"+this.markpadding._value+"; ";}if(this.marksize&&!this.marksize._is_empty){_a+="marksize:"+this.marksize._value+"; ";}if(this.ruleralign&&!this.ruleralign._is_empty){_a+="ruleralign:"+this.ruleralign._value+"; ";}if(this.rulermajorline&&!this.rulermajorline._is_empty){_a+="rulermajorline:"+this.rulermajorline._value+"; ";}if(this.rulermajorsize&&!this.rulermajorsize._is_empty){_a+="rulermajorsize:"+this.rulermajorsize._value+"; ";}if(this.rulerminorline&&!this.rulerminorline._is_empty){_a+="rulerminorline:"+this.rulerminorline._value+"; ";}if(this.rulerminorsize&&!this.rulerminorsize._is_empty){_a+="rulerminorsize:"+this.rulerminorsize._value+"; ";}if(this.scrollbarsize&&!this.scrollbarsize._is_empty){_a+="scrollbarsize:"+this.scrollbarsize._value+"; ";}if(this.titlealign&&!this.titlealign._is_empty){_a+="titlealign:"+this.titlealign._value+"; ";}if(this.titlecolor&&!this.titlecolor._is_empty){_a+="titlecolor:"+this.titlecolor._value+"; ";}if(this.titlefont&&!this.titlefont._is_empty){_a+="titlefont:"+this.titlefont._value+"; ";}if(this.titlepadding&&!this.titlepadding._is_empty){_a+="titlepadding:"+this.titlepadding._value+"; ";}if(this.titlerotate&&!this.titlerotate._is_empty){_a+="titlerotate:"+this.titlerotate._value+"; ";}return _a;};nexacro.ChartAxis_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.axissize=null;this.labelalign=null;this.labelcolor=null;this.labelfont=null;this.labelpadding=null;this.labelrotate=null;this.markcolor=null;this.markfont=null;this.markline=null;this.markpadding=null;this.marksize=null;this.origincolor=null;this.originfont=null;this.originline=null;this.originpadding=null;this.originsize=null;this.ruleralign=null;this.rulermajorline=null;this.rulermajorsize=null;this.rulerminorline=null;this.rulerminorsize=null;this.scrollbarsize=null;this.titlealign=null;this.titlecolor=null;this.titlefont=null;this.titlepadding=null;this.titlerotate=null;};var _pAxisCurrentStyle=nexacro.ChartAxis_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartAxis_CurrentStyle);_pAxisCurrentStyle._type_name="ChartAxisCurrentStyle";_pAxisCurrentStyle.__custom_emptyObject=_pAxisStyle.__custom_emptyObject;_pAxisCurrentStyle.__get_custom_style_value=_pAxisStyle.__get_custom_style_value;_pAxisStyle=null;_pAxisCurrentStyle=null;nexacro.ChartSeries_Style=function(_a,_b){nexacro.Style.apply(this,[_a,_b]);this.datatextalign=null;this.datatextbackground=null;this.datatextborder=null;this.datatextbordertype=null;this.datatextcolor=null;this.datatextfont=null;this.datatextgradation=null;this.datatextguideline=null;this.datatextguidesize=null;this.datatextguidetype=null;this.datatextlocation=null;this.datatextmargin=null;this.datatextpadding=null;this.extendorignline=null;this.fillbrush=null;this.fillgradation=null;this.fillhatch=null;this.miterjoinlimit=null;this.pointfillbrush=null;this.pointfillgradation=null;this.pointfillhatch=null;this.pointmiterjoinlimit=null;this.pointshape=null;this.pointsize=null;this.pointstrokecap=null;this.pointstrokejoin=null;this.pointstrokepen=null;this.selectcolor=null;this.selectdatatextbackground=null;this.selectdatatextborder=null;this.selectdatatextcolor=null;this.selectdatatextfont=null;this.selectdatatextgradation=null;this.selectdatatextguideline=null;this.selectfillbrush=null;this.selectfillgradation=null;this.selectfillhatch=null;this.selectfont=null;this.selectindent=null;this.selectstrokepen=null;this.selectpointsize=null;this.selectpointfillbrush=null;this.selectpointfillgradation=null;this.selectpointfillhatch=null;this.selectpointstrokepen=null;this.selectstrokepen=null;this.startangle=null;this.strokecap=null;this.strokejoin=null;this.strokepen=null;};var _pSeriesStyle=nexacro.ChartSeries_Style.prototype=nexacro._createPrototype(nexacro.Style,nexacro.ChartSeries_Style);_pSeriesStyle._type_name="ChartSeriesStyle";eval(nexacro._createAlignAttributeEvalStr("_pSeriesStyle","datatextalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pSeriesStyle","datatextbackground"));eval(nexacro._createBorderAttributeEvalStr("_pSeriesStyle","datatextborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pSeriesStyle","datatextbordertype"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextcolor"));eval(nexacro._createFontAttributeEvalStr("_pSeriesStyle","datatextfont"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","datatextgradation"));eval(nexacro._createLineAttributeEvalStr("_pSeriesStyle","datatextguideline"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextguidesize"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextguidetype"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","datatextlocation"));eval(nexacro._createMarginAttributeEvalStr("_pSeriesStyle","datatextmargin"));eval(nexacro._createPaddingAttributeEvalStr("_pSeriesStyle","datatextpadding"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","extendorignline"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","fillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","fillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","fillhatch"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","miterjoinlimit"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","pointfillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","pointfillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","pointfillhatch"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointmiterjoinlimit"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointshape"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointsize"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointstrokecap"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","pointstrokejoin"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","pointstrokepen"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","selectcolor"));eval(nexacro._createBackgroundAttributeEvalStr("_pSeriesStyle","selectdatatextbackground"));eval(nexacro._createBorderAttributeEvalStr("_pSeriesStyle","selectdatatextborder"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","selectdatatextcolor"));eval(nexacro._createFontAttributeEvalStr("_pSeriesStyle","selectdatatextfont"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","selectdatatextgradation"));eval(nexacro._createLineAttributeEvalStr("_pSeriesStyle","selectdatatextguideline"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","selectfillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","selectfillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","selectfillhatch"));eval(nexacro._createFontAttributeEvalStr("_pSeriesStyle","selectfont"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","selectindent"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","selectstrokepen"));eval(nexacro._createLineAttributeEvalStr("_pSeriesStyle","selectpointsize"));eval(nexacro._createFillbrushAttributeEvalStr("_pSeriesStyle","selectpointfillbrush"));eval(nexacro._createGradationAttributeEvalStr("_pSeriesStyle","selectpointfillgradation"));eval(nexacro._createHatchAttributeEvalStr("_pSeriesStyle","selectpointfillhatch"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","selectpointstrokepen"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","selectstrokepen"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","startangle"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","strokecap"));eval(nexacro._createValueAttributeEvalStr("_pSeriesStyle","strokejoin"));eval(nexacro._createStrokepenAttributeEvalStr("_pSeriesStyle","strokepen"));_pSeriesStyle.__custom_emptyObject=function(){this.datatextalign=null;this.datatextbackground=null;this.datatextborder=null;this.datatextbordertype=null;this.datatextcolor=null;this.datatextfont=null;this.datatextgradation=null;this.datatextguideline=null;this.datatextguidesize=null;this.datatextguidetype=null;this.datatextlocation=null;this.datatextmargin=null;this.datatextpadding=null;this.extendorignline=null;this.fillbrush=null;this.fillgradation=null;this.fillhatch=null;this.miterjoinlimit=null;this.pointfillbrush=null;this.pointfillgradation=null;this.pointfillhatch=null;this.pointmiterjoinlimit=null;this.pointshape=null;this.pointsize=null;this.pointstrokecap=null;this.pointstrokejoin=null;this.pointstrokepen=null;this.selectcolor=null;this.selectdatatextbackground=null;this.selectdatatextborder=null;this.selectdatatextcolor=null;this.selectdatatextfont=null;this.selectdatatextgradation=null;this.selectdatatextguideline=null;this.selectfillbrush=null;this.selectfillgradation=null;this.selectfillhatch=null;this.selectfont=null;this.selectindent=null;this.selectstrokepen=null;this.selectpointsize=null;this.selectpointfillbrush=null;this.selectpointfillgradation=null;this.selectpointfillhatch=null;this.selectpointstrokepen=null;this.selectstrokepen=null;this.startangle=null;this.strokecap=null;this.strokejoin=null;this.strokepen=null;};_pSeriesStyle.__get_custom_style_value=function(){var _a="";if(this.datatextalign&&!this.datatextalign._is_empty){_a+="datatextalign:"+this.datatextalign._value+"; ";}if(this.datatextbackground&&!this.datatextbackground._is_empty){_a+="datatextbackground:"+this.datatextbackground._value+"; ";}if(this.datatextborder&&!this.datatextborder._is_empty){_a+="datatextborder:"+this.datatextborder._value+"; ";}if(this.datatextbordertype&&!this.datatextbordertype._is_empty){_a+="datatextbordertype:"+this.datatextbordertype._value+"; ";}if(this.datatextcolor&&!this.datatextcolor._is_empty){_a+="datatextcolor:"+this.datatextcolor._value+"; ";}if(this.datatextfont&&!this.datatextfont._is_empty){_a+="datatextfont:"+this.datatextfont._value+"; ";}if(this.datatextgradation&&!this.datatextgradation._is_empty){_a+="datatextgradation:"+this.datatextgradation._value+"; ";}if(this.datatextguideline&&!this.datatextguideline._is_empty){_a+="datatextguideline:"+this.datatextguideline._value+"; ";}if(this.datatextguidesize&&!this.datatextguidesize._is_empty){_a+="datatextguidesize:"+this.datatextguidesize._value+"; ";}if(this.datatextlocation&&!this.datatextguidetype._is_empty){_a+="datatextguidetype:"+this.datatextguidetype._value+"; ";}if(this.datatextlocation&&!this.datatextlocation._is_empty){_a+="datatextlocation:"+this.datatextlocation._value+"; ";}if(this.datatextmargin&&!this.datatextmargin._is_empty){_a+="datatextmargin:"+this.datatextmargin._value+"; ";}if(this.datatextpadding&&!this.datatextpadding._is_empty){_a+="datatextpadding:"+this.datatextpadding._value+"; ";}if(this.extendorignline&&!this.extendorignline._is_empty){_a+="extendorignline:"+this.extendorignline._value+"; ";}if(this.fillbrush&&!this.fillbrush._is_empty){_a+="fillbrush:"+this.fillbrush._value+"; ";}if(this.fillgradation&&!this.fillgradation._is_empty){_a+="fillgradation:"+this.fillgradation._value+"; ";}if(this.fillhatch&&!this.fillhatch._is_empty){_a+="fillhatch:"+this.fillhatch._value+"; ";}if(this.miterjoinlimit&&!this.miterjoinlimit._is_empty){_a+="miterjoinlimit:"+this.miterjoinlimit._value+"; ";}if(this.pointfillbrush&&!this.pointfillbrush._is_empty){_a+="pointfillbrush:"+this.pointfillbrush._value+"; ";}if(this.pointfillgradation&&!this.pointfillgradation._is_empty){_a+="pointfillgradation:"+this.pointfillgradation._value+"; ";}if(this.pointfillhatch&&!this.pointfillhatch._is_empty){_a+="pointfillhatch:"+this.pointfillhatch._value+"; ";}if(this.pointmiterjoinlimit&&!this.pointmiterjoinlimit._is_empty){_a+="pointmiterjoinlimit:"+this.pointmiterjoinlimit._value+"; ";}if(this.pointshape&&!this.pointshape._is_empty){_a+="pointshape:"+this.pointshape._value+"; ";}if(this.pointsize&&!this.pointsize._is_empty){_a+="pointsize:"+this.pointsize._value+"; ";}if(this.pointstrokecap&&!this.pointstrokecap._is_empty){_a+="pointstrokecap:"+this.pointstrokecap._value+"; ";}if(this.pointstrokejoin&&!this.pointstrokejoin._is_empty){_a+="pointstrokejoin:"+this.pointstrokejoin._value+"; ";}if(this.pointstrokepen&&!this.pointstrokepen._is_empty){_a+="pointstrokepen:"+this.pointstrokepen._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectdatatextbackground&&!this.selectdatatextbackground._is_empty){_a+="selectdatatextbackground:"+this.selectdatatextbackground._value+"; ";}if(this.selectdatatextborder&&!this.selectdatatextborder._is_empty){_a+="selectdatatextborder:"+this.selectdatatextborder._value+"; ";}if(this.selectdatatextcolor&&!this.selectdatatextcolor._is_empty){_a+="selectdatatextcolor:"+this.selectdatatextcolor._value+"; ";}if(this.selectdatatextfont&&!this.selectdatatextfont._is_empty){_a+="selectdatatextfont:"+this.selectdatatextfont._value+"; ";}if(this.selectdatatextgradation&&!this.selectdatatextgradation._is_empty){_a+="selectdatatextgradation:"+this.selectdatatextgradation._value+"; ";}if(this.selectdatatextguideline&&!this.selectdatatextguideline._is_empty){_a+="selectdatatextguideline:"+this.selectdatatextguideline._value+"; ";}if(this.selectfillbrush&&!this.selectfillbrush._is_empty){_a+="selectfillbrush:"+this.selectfillbrush._value+"; ";}if(this.selectfillgradation&&!this.selectfillgradation._is_empty){_a+="selectfillgradation:"+this.selectfillbrush._value+"; ";}if(this.selectfillhatch&&!this.selectfillhatch._is_empty){_a+="selectfillhatch:"+this.selectfillhatch._value+"; ";}if(this.selectfont&&!this.selectfont._is_empty){_a+="selectfont:"+this.selectfont._value+"; ";}if(this.selectindent&&!this.selectindent._is_empty){_a+="selectindent:"+this.selectfont._value+"; ";}if(this.selectstrokepen&&!this.selectstrokepen._is_empty){_a+="selectstrokepen:"+this.selectstrokepen._value+"; ";}if(this.selectpointsize&&!this.selectpointsize._is_empty){_a+="selectpointsize:"+this.selectpointsize._value+"; ";}if(this.selectpointfillbrush&&!this.selectpointfillbrush._is_empty){_a+="selectpointfillbrush:"+this.selectpointfillbrush._value+"; ";}if(this.selectpointfillgradation&&!this.selectpointfillgradation._is_empty){_a+="selectpointfillgradation:"+this.selectpointfillgradation._value+"; ";}if(this.selectpointfillhatch&&!this.selectpointfillhatch._is_empty){_a+="selectpointfillhatch:"+this.selectpointfillhatch._value+"; ";}if(this.selectpointstrokepen&&!this.selectpointstrokepen._is_empty){_a+="selectpointstrokepen:"+this.selectpointstrokepen._value+"; ";}if(this.selectstrokepen&&!this.selectstrokepen._is_empty){_a+="selectstrokepen:"+this.selectstrokepen._value+"; ";}if(this.startangle&&!this.startangle._is_empty){_a+="startangle:"+this.startangle._value+"; ";}if(this.strokecap&&!this.strokecap._is_empty){_a+="strokecap:"+this.strokecap._value+"; ";}if(this.strokejoin&&!this.strokejoin._is_empty){_a+="strokejoin:"+this.strokejoin._value+"; ";}if(this.strokepen&&!this.strokepen._is_empty){_a+="strokepen:"+this.strokepen._value+"; ";}return _a;};nexacro.ChartSeries_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.datatextalign=null;this.datatextbackground=null;this.datatextborder=null;this.datatextbordertype=null;this.datatextcolor=null;this.datatextfont=null;this.datatextgradation=null;this.datatextguideline=null;this.datatextguidesize=null;this.datatextguidetype=null;this.datatextlocation=null;this.datatextmargin=null;this.datatextpadding=null;this.extendorignline=null;this.fillbrush=null;this.fillgradation=null;this.fillhatch=null;this.miterjoinlimit=null;this.pointfillbrush=null;this.pointfillgradation=null;this.pointfillhatch=null;this.pointmiterjoinlimit=null;this.pointshape=null;this.pointsize=null;this.pointstrokecap=null;this.pointstrokejoin=null;this.pointstrokepen=null;this.selectcolor=null;this.selectdatatextbackground=null;this.selectdatatextborder=null;this.selectdatatextcolor=null;this.selectdatatextfont=null;this.selectdatatextgradation=null;this.selectdatatextguideline=null;this.selectfillbrush=null;this.selectfillgradation=null;this.selectfillhatch=null;this.selectfont=null;this.selectindent=null;this.selectstrokepen=null;this.selectpointsize=null;this.selectpointfillbrush=null;this.selectpointfillgradation=null;this.selectpointfillhatch=null;this.selectpointstrokepen=null;this.selectstrokepen=null;this.startangle=null;this.strokecap=null;this.strokejoin=null;this.strokepen=null;};var _pSeriesCurrentStyle=nexacro.ChartSeries_CurrentStyle.prototype=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ChartSeries_CurrentStyle);_pSeriesCurrentStyle._type_name="ChartSeriesCurrentStyle";_pSeriesCurrentStyle.__custom_emptyObject=_pSeriesStyle.__custom_emptyObject;_pSeriesCurrentStyle.__get_custom_style_value=_pSeriesStyle.__get_custom_style_value;_pSeriesStyle=null;_pSeriesCurrentStyle=null;}if(!nexacro.Chart){nexacro.Chart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._serieses=[];this._draw_area=new nexacro.Rect();this._data_area=new nexacro.Rect();};var _pChart=nexacro.Chart.prototype=nexacro._createPrototype(nexacro.Component,nexacro.Chart);_pChart._type_name="Chart";_pChart.seriesset=null;_pChart._draw_area=null;_pChart._draw_area=null;_pChart._recalc_flag=false;_pChart._item_start=0;_pChart._item_cnt=0;_pChart._item_div=0;_pChart._barcnt=0;_pChart.binddataset=null;_pChart._binddataset=null;_pChart.scrollmax=0;_pChart.scrollvisible="none";_pChart.viewcount=5;_pChart.viewmin=0;_pChart.viewmax=4;_pChart.board=null;_pChart.legend=null;_pChart.title=null;_pChart.xaxis=null;_pChart.yaxis=null;_pChart.y2axis=null;_pChart.on_create_contents=function(){this.board&&this.board.createComponent();if(this.seriesset){var _a=this.seriesset.length;for(var _b=0;_b<_a;_b++ ){this.seriesset[_b].createComponent();}}this.xaxis&&this.xaxis.createComponent();this.yaxis&&this.yaxis.createComponent();this.y2axis&&this.y2axis.createComponent();this.legend&&this.legend.createComponent();this.title&&this.title.createComponent();};_pChart.on_created_contents=function(){this.board&&this.board.on_created();if(this.seriesset){var _b=this.seriesset.length;for(var _c=0;_c<_b;_c++ ){this.seriesset[_c].on_created();}}this.xaxis&&this.xaxis.on_created();this.yaxis&&this.yaxis.on_created();this.y2axis&&this.y2axis.on_created();this.legend&&this.legend.on_created();this.title&&this.title.on_created();var _a=this;this._refform._setEventHandler("onload",function(){_a._recalcLayout();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){_a.title.redraw();}});if(this._refform._type_name!=="Form"){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this._recalcLayout();}}};_pChart.on_destroy_contents=function(){if(this.seriesset){var _a=this.seriesset.length;for(var _b=0;_b<_a;_b++ ){this.seriesset[_b].destroy();this.seriesset[_b]=null;}}this._clearAll();};_pChart.on_create_custom_style=function(){return new nexacro.Chart_Style(this);};_pChart.on_create_custom_currentStyle=function(){return new nexacro.Chart_CurrentStyle();};_pChart.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.baritemminsize=this.on_find_CurrentStyle_barItemSize(_a);_b.baritemspacing=this.on_find_CurrentStyle_barItemSpacing(_a);_b.barspacing=this.on_find_CurrentStyle_barSpacing(_a);_b.lineextendorigin=this.on_find_CurrentStyle_lineExtendOrigin(_a);_b.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(_a);_b.seriesextendaxis=this.on_find_CurrentStyle_seriesExtendAxis(_a);};_pChart.on_update_style_baritemminsize=function(){this.currentstyle.baritemminsize=this.on_find_CurrentStyle_barItemSize(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_baritemspacing=function(){this.currentstyle.baritemspacing=this.on_find_CurrentStyle_barItemSpacing(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_barspacing=function(){this.currentstyle.barspacing=this.on_find_CurrentStyle_barSpacing(this._pseudo);this.on_updateDataAreaLayout();};_pChart.on_update_style_lineextendorigin=function(){this.currentstyle.lineextendorigin=this.on_find_CurrentStyle_lineExtendOrigin(this._pseudo);};_pChart.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(this._pseudo);};_pChart.on_update_style_seriesextendaxis=function(){this.currentstyle.seriesextendaxis=this.on_find_CurrentStyle_seriesExtendAxis(this._pseudo);};_pChart.on_find_CurrentStyle_barItemSize=function(_a){return this._find_pseudo_obj("baritemminsize",_a);};_pChart.on_find_CurrentStyle_barItemSpacing=function(_a){return this._find_pseudo_obj("baritemspacing",_a);};_pChart.on_find_CurrentStyle_barSpacing=function(_a){return this._find_pseudo_obj("barspacing",_a);};_pChart.on_find_CurrentStyle_lineExtendOrigin=function(_a){return this._find_pseudo_obj("lineextendorigin",_a);};_pChart.on_find_CurrentStyle_scrollbarSize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pChart.on_find_CurrentStyle_seriesExtendAxis=function(_a){return this._find_pseudo_obj("seriesextendaxis",_a);};_pChart._clearAll=function(){if(this.board){this.board.destroy();this.board=null;}if(this.legend){this.legend.destroy();this.legend=null;}if(this.title){this.title.destroy();this.title=null;}if(this.xaxis){this.xaxis.destroy();this.xaxis=null;}if(this.yaxis){this.yaxis.destroy();this.yaxis=null;}if(this.y2axis){this.y2axis.destroy();this.y2axis=null;}};_pChart.appendSeries=function(_a,_b,_c){if(window.ChartSeriesTypes[_a]){var _d;if(!this.seriesset){_d=this.seriesset=new nexacro.Collection();}else{_d=this.seriesset;}var _e=_d.length;for(var _f=0;_f<_e;_f++ ){_d[_f]._canvas.clearRect();}var _g=new nexacro.ChartSeries(_b,"absolute",0,0,0,0,null,null,this);_g.set_data(_c);_g.set_type(_a);_g._type_name+=_b;_g.on_created();_d.add(_b,_g);if(this.enableredraw){this.on_updateDataAreaLayout();this._recalcLayout();if(nexacro.BrowserVersion<8){this.legend.redraw();}}return this.seriesset.length-1;}else{this._setContents(_a);return this.seriesset.length-1;}return  -1;};_pChart.deleteSeries=function(_a,_b){if(_b==null){var _c=parseInt(_a)|0;var _d;if(isFinite(_c)){_d=this.seriesset.get_item(this.seriesset.get_id(_a));}else{_c=nexacro._indexOf(this.seriesset,_a);_d=this.seriesset.get_item(_a);}var _e=this.seriesset.length;if(_d){_d.destroy();this.seriesset.deleteItem(_c);if(this.enableredraw){this.on_updateChartAreaLayout();this._recalcLayout();}return _e-this.seriesset.length;}}else{var _c=parseInt(_a)|0;var _f=parseInt(_b)|0;if(!isFinite(_c)){_c=nexacro._indexOf(this.seriesset,_c);}if(_c>=0){var _e=this.seriesset.length;_f+=_c;for(var _g=_c;_g<_f;_g++ ){_d=this.seriesset.get_item(this.seriesset.get_id(_g));if(_d){_d.destroy();}}for(var _g=_c;_g<_f;_g++ ){this.seriesset.deleteItem(_c);}if(this.enableredraw){this.on_updateChartAreaLayout();this._recalcLayout();}return _e-this.seriesset.length;}}return 0;};_pChart.set_enableredraw=function(_a){this.enableredraw=(_a==true);if(this.enableredraw){this._recalcLayout();this.on_updateChartAreaLayout();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){this.title.redraw();}}return _a;};_pChart._setContents=function(_a){this._clearAll();if(_a.length){var _b=nexacro._parseXMLDocument("<Chart>"+_a+"</Chart>");if(_b){var _c=_b.getElementsByTagName("ChartBoard");if(_c.length>0){this.set_board(new nexacro.ChartBoard("board","absolute",0,0,0,0,null,null,this));this.board._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartSeries");if(_c.length>0){var _d;_d=this.seriesset=new nexacro.Collection();var _e=_c.length;for(var _f=0;_f<_e;_f++ ){var _g=_c[_f];var _h=_g.getAttribute("id");var _i=new nexacro.ChartSeries(_h,"absolute",0,0,0,0,null,null,this);_d.add(_h,_i);_i._loadFromDOM(_g);}}_c=_b.getElementsByTagName("ChartTitle");if(_c.length>0){this.set_title(new nexacro.ChartTitle("title","absolute",0,0,0,0,null,null,this));this.title._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartLegend");if(_c.length>0){this.set_legend(new nexacro.ChartLegend("legend","absolute",0,0,0,0,null,null,this));this.legend._loadFromDOM(_c[0]);}_c=_b.getElementsByTagName("ChartAxis");if(_c.length>0){var _e=_c.length;for(var _f=0;_f<_e;_f++ ){var _j=_c[_f];var _k=_j.getAttribute("id");if(_k=="xaxis"){this.set_xaxis(new nexacro.ChartAxis(_k,"absolute",0,0,0,0,null,null,this));this.xaxis._loadFromDOM(_j);}else if(_k=="yaxis"){this.set_yaxis(new nexacro.ChartAxis(_k,"absolute",0,0,0,0,null,null,this));this.yaxis._loadFromDOM(_j);}else if(_k=="y2axis"){this.set_y2axis(new nexacro.ChartAxis(_k,"absolute",0,0,0,0,null,null,this));this.y2axis._loadFromDOM(_j);}}}}}};_pChart._recalcXAxisItemInfos=function(_a){var _b=_a.clone();if(this.board){var _d=this.board.currentstyle.border;if(_d&&!_d._is_empty){_b.left+=_d._left_width;_b.top+=_d._top_width;_b.right-=_d._right_width;_b.bottom-=_d._bottom_width;}}this._data_area.copy(_b);var _c=this.xaxis;if(_c){var _e=this.xaxis._items;var _f=_b.right-_b.left;var _g=_b.bottom-_b.top;var _h=this.autofit;var _i=0,_j=0;if(_h){_i=_e.length;}else{_i=this.viewcount;_j=this.viewmin;}this._item_start=_j;this._item_cnt=_i;var _k=_c.currentstyle.rulermajorline;var _l=(_f-(_k?_k._width:0))/_i;this._item_div=_l;}};_pChart._recalcSeriesInfos=function(){var _a=this.seriesset;if(!_a){return;}var _b=_a.length;if(_b==0){return;}var _c=Math.floor(this._item_div);var _d=0,_e;for(var _f=0;_f<_b;_f++ ){_e=_a[_f];if(_e.type=="bar"){_d++ ;}}if(_d>0){var _g=this.currentstyle;var _h=nexacro.getStyleValueInt(_g.barspacing,2);var _i=nexacro.getStyleValueInt(_g.baritemspacing,1);var _j=nexacro.getStyleValueInt(_g.baritemminsize,6);var _k=0;var _l=(_d-1)*_i;var _m=Math.floor(_c*(_h/100));var _n=_c-_m-_l;_k=Math.floor(_n/_d);if(_k<_j){_k=_j;}var _o=_c-_d*_k;if(_o<0){_h=0;_i=0;}else if(_o<_l){_i-- ;_l=(_d-1)*_i;_h=_o-_l;}else{_h=_o-_l;}var _p=Math.floor(_h/2);for(var _f=0;_f<_b;_f++ ){_e=_a[_f];if(_e.type=="bar"){_e._bar_item_offset=_p;_e._bar_item_width=_k;_p+=_k+_i;}}}};_pChart._recalcDrawAreaLayout=function(_a){this._draw_area.copy(_a);if(this.xaxis){this.xaxis._recalcLayout(_a);}if(this.yaxis){this.yaxis._recalcLayout(_a);}if(this.y2axis){this.y2axis._recalcLayout(_a);}this._recalcXAxisItemInfos(_a);if(this.board){this.board._movePositionWithBound(_a);}if(this.xaxis){this.xaxis._movePositionWithBound(_a);}if(this.yaxis){this.yaxis._movePositionWithBound(_a);}if(this.y2axis){this.y2axis._movePositionWithBound(_a);}this._recalcSeriesInfos();var _b=this.seriesset;if(!_b){return;}var _c=_b.length;for(var _d=0;_d<_c;_d++ ){series=_b[_d];series._movePositionWithBound(this._data_area);}};_pChart._recalcLayout=function(){if(this.enableredraw==false){return;}var _a=0,_b=0;_a=this._client_width;_b=this._client_height;var _c=new nexacro.Rect(0,0,_a,_b);this._recalc_flag=true;if(this.title){this.title._recalcLayout();this.title._movePositionWithBound(_c);}if(this.legend){this.legend._recalcLayout();this.legend._movePositionWithBound(_c);}this._recalcDrawAreaLayout(_c);this._recalc_flag=false;};_pChart.on_updateLegendLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}var _a=new nexacro.Rect(0,0,this._client_width,this._client_height);this._recalc_flag=true;if(this.title){this.title._clipArea(_a);}if(this.legend){this.legend._movePositionWithBound(_a);}if(!this._draw_area.isSame(_a)){this._recalcDrawAreaLayout(_a);}this._recalc_flag=false;};_pChart.on_updateDrawAreaLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}this._recalc_flag=true;var _a=this._draw_area.clone();this._recalcDrawAreaLayout(_a);this._recalc_flag=false;};_pChart.on_updateDataAreaLayout=function(){if(this.enableredraw==false){return;}if(this._recalc_flag){return;}this._recalc_flag=true;this._recalcSeriesInfos();var _a=this.seriesset;var _b=_a?_a.length:0;for(var _c=0;_c<_b;_c++ ){series=_a[_c];series.redraw();}this._recalc_flag=false;};_pChart.on_updateChartAreaLayout=function(){if(this.enableredraw==false){return;}this.on_updateDrawAreaLayout();this.on_updateDataAreaLayout();this.xaxis&&this.xaxis.ondraw(this.xaxis._canvas);if(nexacro.BrowserVersion<8){this.legend.redraw();}};_pChart.setBindDataset=function(_a){if(_a instanceof nexacro.Dataset){if(!_a){this._binddataset=null;this.binddataset="";}else{this._binddataset=_a;this.binddataset=_a.id;}this.on_apply_prop_binddataset();}};_pChart.getBindDataset=function(){return this._binddataset;};_pChart.set_binddataset=function(_a){if(typeof _a!="string"){this.setBindDataset(_a);return;}if(_a!=this.binddataset){if(!_a){this._binddataset=null;this.binddataset="";}else{_a=_a.replace("@","");this._binddataset=this._findDataset(_a);this.binddataset=_a;}this.on_apply_prop_binddataset();}else if(this.binddataset&&!this._binddataset){this._setBindDatasetStr(this.binddataset);this.on_apply_prop_binddataset();}return this.binddataset;};_pChart.on_apply_binddataset=function(){var _a=this._binddataset;var _b=this.getElement();if(_b&&_a){this.on_updateChartAreaLayout();var _c=this._callbackFromDataset;_a._addEventHandler(this,_c);_a._addEventHandler(this,_c);_a._addEventHandler(this,_c);}};_pChart._callbackFromDataset=function(_a,_b){if(_b.eventid=="oncolumnchanged"){this.on_updateChartAreaLayout();}};_pChart.set_scrollmax=function(_a){if(_a!=this.scrollmax){this.scrollmax=_a;}return _a;};_pChart.set_scrollvisible=function(_a){if(_a!=this.scrollvisible){this.scrollvisible=_a;}return _a;};_pChart.set_viewcount=function(_a){var _b=parseInt(_a)|0;var _c=this.getElement();if(_b!=this.viewcount){this.viewcount=_b;if(_c){this.viewmax=this.viewcount-this.viewmin-1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_viewmin=function(_a){var _b=parseInt(_a)|0;var _c=this.getElement();if(_b!=this.viewmin&&_b>=0){this.viewmin=_b;if(_c){this.viewmax=_b+this.viewcount-1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_viewmax=function(_a){var _b=parseInt(_a)|0;if(_b!=this.viewmax){this.viewmax=_b;if(this._control_element){this.viewcount=_b-this.viewmin+1;this.on_updateChartAreaLayout();}}return _a;};_pChart.set_board=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.board){this.board=_a;}return _a;};_pChart.set_legend=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.legend){this.legend=_a;}return _a;};_pChart.set_title=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.title){this.title=_a;}return _a;};_pChart.set_xaxis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.xaxis){this.xaxis=_a;}return _a;};_pChart.set_yaxis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.yaxis){this.yaxis=_a;}return _a;};_pChart.set_y2axis=function(_a){if((typeof _a)=="string"){return;}if(_a!=this.y2axis){this.y2axis=_a;}return _a;};_pChart._drawMark=function(_a,_b,_c,_d,_e,_f,_g){if(_f!=""||_g!=""){_a.save();switch(_d){case "rectangle":if(_f!=""){_a.setElementFillStyle(_f);_a.fillRect(_b,_c,_e,_e);}if(_g){_a._setPenStyle(_g);_a.drawStrokeInsetRect(_b,_c,_e,_e);}break;case "circle":gap=_e/2;if(_f!=""){_a.setElementFillStyle(_f);_a.drawFillCircle(_b+gap,_c+gap,gap);}if(_g){_a._setPenStyle(_g);_a.drawStrokeInsetCircle(_b+gap,_c+gap,gap);}break;case "horzline":if(_f!=""){_a.setElementFillStyle(_f);var _h=Math.floor(_e/3);var _i=Math.floor((_e-_h)/2);_a.fillRect(_b,_c+_i,_e,_h);}break;case "vertline":if(_f!=""){_a.setElementFillStyle(_f);var _h=_e/3;var _i=(_e-_h)/2;_a.fillRect(_b+_i,_c,_h,_e);}break;case "crossline":if(_f!=""){_a.setElementFillStyle(_f);var _h=_e/3;var _i=(_e-_h)/2;_a.fillRect(_b,_c+_i,_e,_h);_a.fillRect(_b+_i,_c,_h,_e);}break;case "rhombus":if(_f!=""){_a.setElementFillStyle(_f);var _j=_e/2;_a.moveTo(_b+_j,_c);_a.lineTo(_b+_e,_c+_j);_a.lineTo(_b+_j,_c+_e);_a.lineTo(_b,_c+_j);_a.closePath();_a.drawFill();}break;case "triangle":if(markfillcolor!=""){_a.setElementFillStyle(_f);var _j=_e/2;_a.moveTo(_b+_j,_c);_a.lineTo(_b+_e,_c+_e);_a.lineTo(_b,_c+_e);_a.closePath();_a.drawFill();}break;}_a.restore();}};_pChart=null;nexacro.ChartTitle=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pChartTitle=nexacro.ChartTitle.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartTitle);_pChartTitle._type_name="Chart>#title";_pChartTitle._total_width=0;_pChartTitle._total_height=0;_pChartTitle._text_width=0;_pChartTitle._text_height=0;_pChartTitle._text_pos_x=0;_pChartTitle._text_pos_y=0;_pChartTitle._subtext_width=0;_pChartTitle._subtext_height=0;_pChartTitle._subtext_pos_x=0;_pChartTitle._subtext_pos_y=0;_pChartTitle._size_factor=100;_pChartTitle._draw_type="horz";_pChartTitle.text="";_pChartTitle.subtext="";_pChartTitle._defaultLocation=nexacro._getCachedStyleObj("value","top");_pChartTitle._defaultRotate=nexacro._getCachedStyleObj("value",0);_pChartTitle.on_create_custom_style=function(){return new nexacro.ChartTitle_Style(this);};_pChartTitle.on_create_custom_currentStyle=function(){return new nexacro.ChartTitle_CurrentStyle();};_pChartTitle.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.location=this.on_find_CurrentStyle_location(_a);_b.size=this.on_find_CurrentStyle_size(_a);_b.subalign=this.on_find_CurrentStyle_subAlign(_a);_b.subcolor=this.on_find_CurrentStyle_subColor(_a);_b.subfont=this.on_find_CurrentStyle_subFont(_a);_b.subpadding=this.on_find_CurrentStyle_subPadding(_a);_b.titlerotate=this.on_find_CurrentStyle_titleRotate(_a);};_pChartTitle.on_update_style_location=function(){this.currentstyle.location=this.on_find_CurrentStyle_location(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_size=function(){this.currentstyle.size=this.on_find_CurrentStyle_size(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_subalign=function(){this.currentstyle.subalign=this.on_find_CurrentStyle_subAlign(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartTitle.on_update_style_subcolor=function(){this.currentstyle.subcolor=this.on_find_CurrentStyle_subColor(this._pseudo);this.ondraw(this._canvas);};_pChartTitle.on_update_style_subfont=function(){this.currentstyle.subfont=this.on_find_CurrentStyle_subFont(this._pseudo);this.ondraw(this._canvas);};_pChartTitle.on_update_style_subpadding=function(){this.currentstyle.subpadding=this.on_find_CurrentStyle_subPadding(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartTitle.on_update_style_titlerotate=function(){this.currentstyle.titlerotate=this.on_find_CurrentStyle_titleRotate(this._pseudo);};_pChartTitle.on_find_CurrentStyle_location=function(_a){var _b=this._find_pseudo_obj("location",_a);return (_b)?_b:this._defaultLocation;};_pChartTitle.on_find_CurrentStyle_size=function(_a){return this._find_pseudo_obj("size",_a);};_pChartTitle.on_find_CurrentStyle_subAlign=function(_a){var _b=this._find_pseudo_obj("subalign",_a);return (_b)?_b:this._default_align;};_pChartTitle.on_find_CurrentStyle_subColor=function(_a){var _b=this._find_pseudo_obj("subcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartTitle.on_find_CurrentStyle_subFont=function(_a){var _b=this._find_pseudo_obj("subfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartTitle.on_find_CurrentStyle_subPadding=function(_a){var _b=this._find_pseudo_obj("subpadding",_a);return (_b)?_b:this._default_padding;};_pChartTitle.on_find_CurrentStyle_titleRotate=function(_a){return this._find_pseudo_obj("titlerotate",_a);return (rotate)?rotete:this._defaultRotate;};_pChartTitle._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartTitle._recalcLayout=function(){if(!this.visible){return false;}var _a=this.currentstyle;var _b=_a.padding;var _c=0,_d=0,_e=0,_f=0,_g=0;if(_b){_c=_b.left+_b.right;_d=_b.top+_b.bottom;_g=_b.top;}var _h=_a.subpadding;if(_h){_e=_h.left+_h.right;_f=_h.top+_h.bottom;}var _i=nexacro.getStyleValueInt(_a.size,100);this._size_factor=_i;if(_i==0){this._total_width=this._total_height=0;return false;}if(this.text.length){var _n=_a.font;var _o=nexacro._getTextSize2(this.text,_n);this._text_width=_o[0];this._text_height=_o[1];}else{this._text_width=0;this._text_height=0;}if(this.subtext.length){var _p=_a.subfont;var _q=nexacro._getTextSize2(this.subtext,_p);this._subtext_width=_q[0];this._subtext_height=_q[1];}else{this._subtext_width=0;this._subtext_height=0;}_c+=this._text_width;_e+=this._subtext_width;var _j=(_c>_e)?_c:_e;var _k=_d+_f+this._text_height+this._subtext_height;var _l=_a.align;if(_l){this._text_pos_y=_g+this._text_height/2;switch(_l.halign){case "left":this._text_pos_x=0;break;case "right":this._text_pos_x=_j-this._text_width;break;default:this._text_pos_x=Math.round((_j-this._text_width)/2);break;}}var _m=_a.subalign;if(_m){this._subtext_pos_y=_d+this._text_height+this._subtext_height/2;if(_h){this._subtext_pos_y+=_h.top;}switch(_m.halign){case "left":this._subtext_pos_x=0;break;case "right":this._subtext_pos_x=_j-this._subtext_width;break;default:this._subtext_pos_x=Math.round((_j-this._subtext_width)/2);break;}}if(_j!=this._total_width||_k!=this._total_height){this._total_width=_j;this._total_height=_k;return true;}else{return false;}};_pChartTitle._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;var _d=Math.ceil(_b*this._size_factor/100);var _e=Math.ceil(_c*this._size_factor/100);var _f=this.currentstyle;var _g=nexacro.getStyleValueText(this.currentstyle.location,"top");var _h=_f.border;var _i=0,_j=0;if(!_h){_h=nexacro._getCachedStyleObj("border","0px none");}else{_i=_h._left_width+_h._right_width;_j=_h._top_width+_h._bottom_width;}var _k=0,_l=0,_m=0,_n=0,_o=0,_p=0;switch(_g){case "top":case "top,center":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;if(_p<_b){_k=_a.left+Math.ceil((_b-_p)/2);_m=_k+_p;}else{_k=_a.left;_m=_a.getWidth();}_a.top=_n;break;case "top,left":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;_k=_a.left;_m=_k+((_p<_b)?_p:_b);_a.top=_n;break;case "top,right":this._draw_type="horz";_o=this._total_height+_j;_l=_a.top;_n=_l+((_o<_e)?_o:_e);_p=this._total_width+_i;_m=_a.right;_k=_m-((_p<_b)?_p:_b);_a.top=_n;break;case "bottom":case "bottom,center":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;if(_p<_b){_k=_a.left+Math.ceil((_b-_p)/2);_m=_k+_p;}else{_k=_a.left;_m=_a.right;}_a.bottom=_l;break;case "bottom,left":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;_k=_a.left;_m=_k+((_p<_b)?_p:_b);_a.bottom=_l;break;case "bottom,right":this._draw_type="horz";_o=this._total_height+_j;_n=_a.bottom;_l=_n-((_o<_e)?_o:_e);_p=this._total_width+_i;_m=_a.right;_k=_m-((_p<_b)?_p:_b);_a.bottom=_l;break;case "left":case "left,center":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;if(_o<_c){_l=_a.top+Math.ceil((_c-_o)/2);_n=_l+_o;}else{_l=_a.top;_n=_a.bottom;}_a.left=_m;break;case "left,bottom":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;_n=_a.bottom;_l=_n-((_o<_c)?_o:_c);_a.left=_m;break;case "left,top":this._draw_type="left";_p=this._total_height+_i;_k=_a.left;_m=_k+((_p<_d)?_p:_d);_o=this._total_width+_j;_l=_a.top;_n=_l+((_o<_c)?_o:_c);_a.left=_m;break;case "right":case "right,center":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;if(_o<_c){_l=_a.top+Math.ceil((_c-_o)/2);_n=_l+_o;}else{_l=_a.top;_n=_a.bottom;}_a.right=_k;break;case "right,bottom":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;_n=_a.bottom;_l=_n-((_o<_c)?_o:_c);break;case "right,top":this._draw_type="right";_p=this._total_height+_i;_m=_a.right;_k=_m-((_p<_d)?_p:_d);_o=this._total_width+_j;_l=_a.top;_n=_l+((_o<_c)?_o:_c);_a.right=_k;break;default:this._draw_type="horz";_k=_m=_l=_n=0;break;}width=_m-_k;height=_n-_l;if(this._adjust_left!=_k||this._adjust_width!=width||this._adjust_top!=_l||this._adjust_height!=height){this._applysetPosition(_k,_l,width,height);return true;}return false;};_pChartTitle._clipArea=function(_a){var _b=nexacro.getStyleValueText(this.currentstyle.location,"top");switch(_b){case "top":case "top,center":case "top,left":case "top,right":_a.top+=this._adjust_height;break;case "bottom":case "bottom,center":case "bottom,left":case "bottom,right":case "bottom,right":_a.bottom-=this._adjust_height;break;case "left":case "left,center":case "left,bottom":case "left,top":_a.left+=this._adjust_width;break;case "right":case "right,center":case "right,bottom":case "right,top":_a.right-=this._adjust_width;break;}};_pChartTitle.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.currentstyle;var _c,_d;if(this._draw_type=="left"){var _e=this._client_width;if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,this._text_pos_y,_e-this._text_pos_x,270);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,this._subtext_pos_y,_e-this._subtext_pos_x,270);}}else if(this._draw_type=="right"){var _f=this._client_width;if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,_f-this._text_pos_y,this._text_pos_x,90);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,_f-this._subtext_pos_y,this._subtext_pos_x,90);}}else{if(this._text_width){_c=_b.font;_d=_b.color?_b.color._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.text,this._text_pos_x,this._text_pos_y,0);}if(this._subtext_width){_c=_b.subfont;_d=_b.subcolor?_b.subcolor._value:"black";_a.setElementFillStyle(_d);_a.setElementFont(_c);_a.drawFillText(this.subtext,this._subtext_pos_x,this._subtext_pos_y,0);}}_a.endDraw();};_pChartTitle.set_text=function(_a){if(_a!=this.text){this.text=_a;}return _a;};_pChartTitle.set_subtext=function(_a){if(_a!=this.subtext){this.subtext=_a;}return _a;};_pChartTitle=null;nexacro.ChartLegendItem=function(_a,_b){this.id=_a;this.text=_b;this.text_width=0;this.text_height=0;this.item_width=0;this.item_height=0;this.mark_pos_x=0;this.mark_pos_y=0;this.text_pos_x=0;this.text_pos_y=0;this.padding=null;this.markpadding=null;this.font=null;this.color=null;this.border=null;this.markshape="rectangle";this.markfillcolor="";this.markborderpen=null;};nexacro.ChartLegend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._titleitem=null;this._items=[];};var _pChartLegend=nexacro.ChartLegend.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartLegend);_pChartLegend._type_name="Chart>#legend";_pChartLegend._items=null;_pChartLegend._titleitem=null;_pChartLegend._width_sum=0;_pChartLegend._height_sum=0;_pChartLegend._width_max=0;_pChartLegend._height_max=0;_pChartLegend._item_max=0;_pChartLegend._total_width=0;_pChartLegend._total_height=0;_pChartLegend._draw_type="horz";_pChartLegend._defaultLocation=nexacro._getCachedStyleObj("value","top");_pChartLegend._defaultType=nexacro._getCachedStyleObj("value","multi");_pChartLegend.on_create_custom_style=function(){return new nexacro.ChartLegend_Style(this);};_pChartLegend.on_create_custom_currentStyle=function(){return new nexacro.ChartLegend_CurrentStyle();};_pChartLegend.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.location=this.on_find_CurrentStyle_location(_a);_b.arrange=this.on_find_CurrentStyle_arrange(_a);_b.imagepadding=this.on_find_CurrentStyle_imagePadding(_a);_b.itemalign=this.on_find_CurrentStyle_itemAlign(_a);_b.itemborder=this.on_find_CurrentStyle_itemBorder(_a);_b.itembordertype=this.on_find_CurrentStyle_itemBorderType(_a);_b.itembackground=this.on_find_CurrentStyle_itemBackground(_a);_b.itemgradation=this.on_find_CurrentStyle_itemGradation(_a);_b.itempadding=this.on_find_CurrentStyle_itemPadding(_a);_b.itemfont=this.on_find_CurrentStyle_itemFont(_a);_b.itemcolor=this.on_find_CurrentStyle_itemColor(_a);_b.titlealign=this.on_find_CurrentStyle_titleAlign(_a);_b.titlecolor=this.on_find_CurrentStyle_titleColor(_a);_b.titlefont=this.on_find_CurrentStyle_titleFont(_a);_b.titlepadding=this.on_find_CurrentStyle_titlePadding(_a);_b.titletext=this.on_find_CurrentStyle_titleText(_a);_b.type=this.on_find_CurrentStyle_type(_a);};_pChartLegend.on_update_style_location=function(){this.currentstyle.location=this.on_find_CurrentStyle_location(this._pseudo);this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_arrange=function(){this.currentstyle.arrange=this.on_find_CurrentStyle_arrange(this._pseudo);};_pChartLegend.on_update_style_imagepadding=function(){this.currentstyle.imagepadding=this.on_find_CurrentStyle_imagePadding(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_itemalign=function(){this.currentstyle.itemalign=this.on_find_CurrentStyle_itemAlign(this._pseudo);};_pChartLegend.on_update_style_itemborder=function(){this.currentstyle.itemborder=this.on_find_CurrentStyle_itemBorder(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_itembordertype=function(){this.currentstyle.itembordertype=this.on_find_CurrentStyle_itemBorderType(this._pseudo);};_pChartLegend.on_update_style_itembackground=function(){this.currentstyle.itembackground=this.on_find_CurrentStyle_itemBackground(this._pseudo);};_pChartLegend.on_update_style_itemgradation=function(){this.currentstyle.itemgradation=this.on_find_CurrentStyle_itemGradation(this._pseudo);};_pChartLegend.on_update_style_itempadding=function(){this.currentstyle.itempadding=this.on_find_CurrentStyle_itemPadding(this._pseudo);this.parent._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_itemfont=function(){this.currentstyle.itemfont=this.on_find_CurrentStyle_itemFont(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_itemcolor=function(){this.currentstyle.itemcolor=this.on_find_CurrentStyle_itemColor(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_titlealign=function(){this.currentstyle.titlealign=this.on_find_CurrentStyle_titleAlign(this._pseudo);};_pChartLegend.on_update_style_titlecolor=function(){this.currentstyle.titlecolor=this.on_find_CurrentStyle_titleColor(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_titlefont=function(){this.currentstyle.titlefont=this.on_find_CurrentStyle_titleFont(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_titlepadding=function(){this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this._recalcLayout();this.parent.on_updateLegendLayout();};_pChartLegend.on_update_style_titletext=function(){this.currentstyle.titletext=this.on_find_CurrentStyle_titleText(this._pseudo);this._recalcLayout();this.ondraw(this._canvas);};_pChartLegend.on_update_style_type=function(){this.currentstyle.type=this.on_find_CurrentStyle_type(this._pseudo);};_pChartLegend.on_find_CurrentStyle_location=function(_a){var _b=this._find_pseudo_obj("location",_a);return (_b)?_b:this._defaultLocation;};_pChartLegend.on_find_CurrentStyle_arrange=function(_a){return this._find_pseudo_obj("arrange",_a);};_pChartLegend.on_find_CurrentStyle_imagePadding=function(_a){var _b=this._find_pseudo_obj("imagepadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_itemAlign=function(_a){var _b=this._find_pseudo_obj("itemalign",_a);return (_b)?_b:this.on_find_CurrentStyle_align(_a);};_pChartLegend.on_find_CurrentStyle_itemBorder=function(_a){return this._find_pseudo_obj("itemborder",_a);};_pChartLegend.on_find_CurrentStyle_itemBorderType=function(_a){return this._find_pseudo_obj("itembordertype",_a);};_pChartLegend.on_find_CurrentStyle_itemBackground=function(_a){return this._find_pseudo_obj("itembackground",_a);};_pChartLegend.on_find_CurrentStyle_itemGradation=function(_a){return this._find_pseudo_obj("itemgradation",_a);};_pChartLegend.on_find_CurrentStyle_itemPadding=function(_a){var _b=this._find_pseudo_obj("itempadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_itemFont=function(_a){var _b=this._find_pseudo_obj("itemfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartLegend.on_find_CurrentStyle_itemColor=function(_a){var _b=this._find_pseudo_obj("itemcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartLegend.on_find_CurrentStyle_titleAlign=function(_a){var _b=this._find_pseudo_obj("titlealign",_a);return (_b)?_b:this._default_align;};_pChartLegend.on_find_CurrentStyle_titleColor=function(_a){var _b=this._find_pseudo_obj("titlecolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartLegend.on_find_CurrentStyle_titleFont=function(_a){var _b=this._find_pseudo_obj("titlefont",_a);return (_b)?_b:this.currentstyle.font;};_pChartLegend.on_find_CurrentStyle_titlePadding=function(_a){var _b=this._find_pseudo_obj("titlepadding",_a);return (_b)?_b:this._default_padding;};_pChartLegend.on_find_CurrentStyle_titleText=function(_a){return this._find_pseudo_obj("titletext",_a);};_pChartLegend.on_find_CurrentStyle_type=function(_a){var _b=this._find_pseudo_obj("type",_a);return (_b)?_b:this._defaultType;};_pChartLegend._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartLegend._recalcLayout=function(){if(!this.visible){return false;}this._titleitem=null;this._items.splice(0,this._items.length);var _a=this.currentstyle;var _b=0,_c=0,_d=0,_e=0,_f=0,_g,_h;var _i=_a.padding;var _j=0,_k=0,_l=0,_m=0;if(_i){_b=_i.left+_i.right;_c=_i.top+_i.bottom;}var _n=0,_o=0,_p=0,_q=0;var _r;var _s,_t,_u,_v,_w;var _x=_a.titletext;if(_x&&_x._value.length>0){_x=_x._value;_i=_a.titlepadding;if(_i){_d=_i.left+_i.right;_e=_i.top+_i.bottom;}_s=_a.titlecolor?_a.titlecolor._value:null;_t=_a.titlefont?_a.titlefont:null;_r=new nexacro.ChartLegendItem("title",_x);_r.padding=_i;_r.font=_t;_r.color=_s;var _z=nexacro._getTextSize2(_x,_t);_g=_r.text_width=_z[0];_h=_r.text_height=_z[1];_n=_p=_r.item_width=_g+_d;_o=_q=_r.item_height=_h+_e;this._titleitem=_r;}var _y=this.parent.seriesset;if(_y&&_y.length>0){_i=_a.itempadding;if(_i){_d=_i.left+_i.right;_e=_i.top+_i.bottom;}var _aa=_a.imagepadding;if(_aa){_f=_aa.left+_aa.right;}_s=_a.itemcolor?_a.itemcolor._value:null;_t=_a.itemfont;border=_a.itemborder;if(border){_d+=border._left_width+border._right_width;_e+=border._top_width+border._bottom_width;}var _ab=_y.length;for(var _ac=0;_ac<_ab;_ac++ ){var _ad=_y[_ac];var _ae=_ad.currentstyle;_x=_ad.label||_ad.text||_ad.id;var _u=nexacro.getStyleValueText2(_ae.pointshape,"none","");if(_u!=""){var _af=_ae.pointfillbrush;if(_af&&_af._isValid()){_v=_af.color;}else{_v="";}var _ag=_ae.pointstrokepen;if(_ag&&_ag._isValid()){_w=_ag;}else{_w=null;}}else if(_ad.type=="line"){_u="horzline";var _ag=_ae.strokepen;if(_ag&&_ag._isValid()){_v=_ag.color;}else{_v="";}_w=null;}else{_u="rectangle";var _af=_ae.fillbrush;if(_af&&_af._isValid()){_v=_af.color;}else{_v="";}var _ag=_ae.strokepen;if(_ag&&_ag._isValid()){_w=_ag;}}_r=new nexacro.ChartLegendItem("series"+_ac,_x);_r.padding=_i;_r.markpadding=_aa;_r.font=_t;_r.color=_s;_r.border=border;_r.markshape=_u;_r.markfillcolor=_v;_r.markborderpen=_w;var _z=nexacro._getTextSize2(_x,_t);_g=_r.text_width=_z[0];_h=_r.text_height=_z[1];_r.marksize=_h;_r.item_width=_g+_d+_h+_f;_r.item_height=_h+_e;if(_r.item_width>_n){_n=_r.item_width;}_p+=_r.item_width;if(_r.item_height>_o){_o=_r.item_height;}_q+=_r.item_height;this._items.push(_r);}}_n+=_b;_o+=_c;_p+=_b;_q+=_c;if(_n!=this._width_max||_o!=this._height_sum||_p!=this._width_sum||_q!=this._height_sum){this._width_max=_n;this._height_max=_o;this._width_sum=_p;this._height_sum=_q;this._item_max=_n-_b;return true;}else{return false;}};_pChartLegend._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;var _d=this.currentstyle;var _e=_d.location;var _f=_d.border;var _g=0,_h=0;if(_f){_g=_f._left_width+_f._right_width;_h=_f._top_width+_f._bottom_width;}var _i=0,_j=0,_k=0,_l=0,_m=0,_n=0;if(_e){switch(_e._value){case "top,center":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<maxheight)?_m:maxheight);_n=this._total_width+_g;if(_n<_b){_i=_a.left+Math.ceil((_b-_n)/2);_k=_i+_n;}else{_i=_a.left;_k=_a.getWidth();}_a.top=_l;break;case "top,left":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_a.top=_l;break;case "top":case "top,right":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_a.top=_l;break;case "bottom,center":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;if(_n<_b){_i=_a.left+Math.ceil((_b-_n)/2);_k=_i+_n;}else{_i=_a.left;_k=_a.right;}_a.bottom=_j;break;case "bottom,left":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_a.bottom=_j;break;case "bottom":case "bottom,right":this._total_width=this._width_sum;this._total_height=this._height_max;this._draw_type="horz";_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_a.bottom=_j;break;case "left,center":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;if(_m<_c){_j=_a.top+Math.ceil((_c-_m)/2);_l=_j+_m;}else{_j=_a.top;_l=_a.bottom;}_a.left=_k;break;case "left,bottom":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);_a.left=_k;break;case "left":case "left,top":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_i=_a.left;_k=_i+((_n<_b)?_n:_b);_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_a.left=_k;break;case "right,center":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;if(_m<_c){_j=_a.top+Math.ceil((_c-_m)/2);_l=_j+_m;}else{_j=_a.top;_l=_a.bottom;}_a.right=_i;break;case "right,bottom":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;_l=_a.bottom;_j=_l-((_m<_c)?_m:_c);break;case "right":case "right,top":this._total_width=this._width_max;this._total_height=this._height_sum;this._draw_type="vert";_n=this._total_width+_g;_k=_a.right;_i=_k-((_n<_b)?_n:_b);_m=this._total_height+_h;_j=_a.top;_l=_j+((_m<_c)?_m:_c);_a.right=_i;break;default:this._total_width=0;this._total_height=0;this._draw_type="horz";_i=_k=_j=_l=0;break;}}width=_k-_i;height=_l-_j;if(this._adjust_left!=_i||this._adjust_width!=width||this._adjust_top!=_j||this._adjust_height!=height){this._applysetPosition(_i,_j,width,height);return true;}return false;};_pChartLegend._clipArea=function(_a){var _b=nexacro.getStyleValueText(this.currentstyle.location,"top");switch(_b){case "top":case "top,center":case "top,left":case "top,right":tc.top+=this._adjust_height;break;case "bottom":case "bottom,center":case "bottom,left":case "bottom,right":case "bottom,right":tc.bottom-=this._adjust_height;break;case "left":case "left,center":case "left,bottom":case "left,top":_a.left+=this._adjust_width;break;case "right":case "right,center":case "right,bottom":case "right,top":_a.right-=this._adjust_width;break;}};_pChartLegend.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this._items.length;if(!_b){return;}var _c=this.parent;var _d=this.currentstyle;var _e=_d.padding;var _f=this._total_width;var _g=this._total_height;var _h=0,_i=0;if(_e){_f=_f-_e.left-_e.right;_g=_g-_e.top-_e.bottom;_h=_e.left;_i=_e.top;}var _j;if(this._draw_type=="horz"){var _k=this._titleitem;if(_k){var _l=_h;var _m=_i;_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}_h+=_k.item_width;}var _b=this._items.length;for(var _o=0;_o<_b;_o++ ){var _l=_h;var _m=_i;_k=this._items[_o];_j=_k.border;if(_j){_l+=_j._left_width;_m+=_j._top_width;}_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.marksize>0){_e=_k.markpadding;if(_e){_l+=_e.left;}var _p=_k.marksize;_c._drawMark(_a,_l,_m,_k.markshape,_k.marksize,_k.markfillcolor,_k.markborderpen);_l+=_p;if(_e){_l+=_e.right;}}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}if(_j){_a.drawBorder(_h,_i,_k.item_width,_k.item_height,_j);}_h+=_k.item_width;}}else{var _k=this._titleitem;if(_k){var _l=_h;var _m=_i;_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.text_width){var _q=Math.round((this._item_max-_k.text_width)/2);var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l+_q,_m+_n,0);}_i+=_k.item_height;}for(var _o=0;_o<_b;_o++ ){var _l=_h;var _m=_i;_k=this._items[_o];_j=_k.border;if(_j){_l+=_j._left_width;_m+=_j._top_width;}_e=_k.padding;if(_e){_l+=_e.left;_m+=_e.top;}if(_k.marksize>0){_e=_k.markpadding;if(_e){_l+=_e.left;}var _p=_k.marksize;_c._drawMark(_a,_l,_m,_k.markshape,_k.marksize,_k.markfillcolor,_k.markborderpen);_l+=_p+(_e?_e.right:0);}if(_k.text_width){var _n=_k.text_height/2;_a.setElementFillStyle(_k.color);_a.setElementFont(_k.font);_a.drawFillText(_k.text,_l,_m+_n,0);}if(_j){_a.drawBorder(_h,_i,_k.item_width,_k.item_height,_j);}_i+=_k.item_height;}}_a.endDraw();};_pChartLegend=null;nexacro.ChartAxisItem=function(_a,_b){this.idx=_a;this.text=_b;this.item_val=0;this.text_width=0;this.text_height=0;};nexacro.ChartAxis=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.label=new nexacro.BindableValue("");this._items=[];this.idx="";this.item_val=0;this.text_width=0;this.text_height=0;this._unit_val=0;this._min_val=0;this._max_val=0;this._unit_min_val=0;this._unit_max_val=0;this._org_val=0;this._title_width=0;this._title_height=0;this._mark_size=0;this._mark_text="";this._mark_width=0;this._mark_height=0;this._org_size=0;this._org_text="";this._org_width=0;this._org_height=0;this._miner_size=0;this._major_size=0;this._text_maxwidth=0;this._text_maxheight=0;this._item_maxsize=0;this._total_height=0;this._exprfn=null;this._apply_client_padding=false;};var _pChartAxis=nexacro.ChartAxis.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartAxis);_pChartAxis._type_name="Chart>#";_pChartAxis.label="";_pChartAxis.markdata=undefined;_pChartAxis.marklabel="";_pChartAxis.origindata=0;_pChartAxis.originlabel="";_pChartAxis.rulerbasetype="point";_pChartAxis.rulermajorunit= -1;_pChartAxis.rulermax=undefined;_pChartAxis.rulermin=undefined;_pChartAxis.rulerminorunit= -1;_pChartAxis.rulersort="none";_pChartAxis.titletext="";_pChartAxis.viewcount=5;_pChartAxis.viewmax=4;_pChartAxis.viewmin=0;_pChartAxis.on_create_custom_style=function(){return new nexacro.ChartAxis_Style(this);};_pChartAxis.on_create_custom_currentStyle=function(){return new nexacro.ChartAxis_CurrentStyle();};_pChartAxis.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.margin=this.on_find_CurrentStyle_margin(_a);_b.axissize=this.on_find_CurrentStyle_axisSize(_a);_b.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(_a);_b.labelalign=this.on_find_CurrentStyle_labelAlign(_a);_b.labelcolor=this.on_find_CurrentStyle_labelColor(_a);_b.labelfont=this.on_find_CurrentStyle_labelFont(_a);_b.labelpadding=this.on_find_CurrentStyle_labelPadding(_a);_b.labelrotate=this.on_find_CurrentStyle_labelRotate(_a);_b.ruleralign=this.on_find_CurrentStyle_rulerAlign(_a);_b.rulermajorline=this.on_find_CurrentStyle_rulerMajorLine(_a);_b.rulermajorsize=this.on_find_CurrentStyle_rulerMajorSize(_a);_b.rulerminorline=this.on_find_CurrentStyle_rulerMinerLine(_a);_b.rulerminorsize=this.on_find_CurrentStyle_rulerMinerSize(_a);_b.markcolor=this.on_find_CurrentStyle_markColor(_a);_b.markfont=this.on_find_CurrentStyle_markFont(_a);_b.markline=this.on_find_CurrentStyle_markLine(_a);_b.markpadding=this.on_find_CurrentStyle_markPadding(_a);_b.marksize=this.on_find_CurrentStyle_markSize(_a);_b.origincolor=this.on_find_CurrentStyle_originColor(_a);_b.originfont=this.on_find_CurrentStyle_originFont(_a);_b.originline=this.on_find_CurrentStyle_originLine(_a);_b.originpadding=this.on_find_CurrentStyle_originPadding(_a);_b.originsize=this.on_find_CurrentStyle_originSize(_a);_b.titlealign=this.on_find_CurrentStyle_titleAlign(_a);_b.titlecolor=this.on_find_CurrentStyle_titleColor(_a);_b.titlefont=this.on_find_CurrentStyle_titleFont(_a);_b.titlepadding=this.on_find_CurrentStyle_titlePadding(_a);_b.titlerotate=this.on_find_CurrentStyle_titleRotate(_a);};_pChartAxis.on_update_style_axissize=function(){this.currentstyle.axissize=this.on_find_CurrentStyle_axisSize(this._pseudo);this.redraw();this.parent.on_updateDataAreaLayout();this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelalign=function(){this.currentstyle.labelalign=this.on_find_CurrentStyle_labelAlign(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_labelcolor=function(){this.currentstyle.labelcolor=this.on_find_CurrentStyle_labelColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_labelfont=function(){this.currentstyle.labelfont=this.on_find_CurrentStyle_labelFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelpadding=function(){this.currentstyle.labelpadding=this.on_find_CurrentStyle_labelPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_labelrotate=function(){this.currentstyle.labelrotate=this.on_find_CurrentStyle_labelRotate(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_markcolor=function(){this.currentstyle.markcolor=this.on_find_CurrentStyle_markColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_markfont=function(){this.currentstyle.markfont=this.on_find_CurrentStyle_markFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_markline=function(){this.currentstyle.markline=this.on_find_CurrentStyle_markLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_markpadding=function(){this.currentstyle.markpadding=this.on_find_CurrentStyle_markPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_marksize=function(){this.currentstyle.marksize=this.on_find_CurrentStyle_markSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_origincolor=function(){this.currentstyle.origincolor=this.on_find_CurrentStyle_originColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_originfont=function(){this.currentstyle.originfont=this.on_find_CurrentStyle_originFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_originline=function(){this.currentstyle.originline=this.on_find_CurrentStyle_originLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_originpadding=function(){this.currentstyle.originpadding=this.on_find_CurrentStyle_originPadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_originsize=function(){this.currentstyle.originsize=this.on_find_CurrentStyle_originSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_ruleralign=function(){this.currentstyle.ruleralign=this.on_find_CurrentStyle_rulerAlign(this._pseudo);};_pChartAxis.on_update_style_rulermajorline=function(){this.currentstyle.rulermajorline=this.on_find_CurrentStyle_rulerMajorLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_rulermajorsize=function(){this.currentstyle.rulermajorsize=this.on_find_CurrentStyle_rulerMajorSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_rulerminorline=function(){this.currentstyle.rulerminorline=this.on_find_CurrentStyle_rulerMinerLine(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_rulerminorsize=function(){this.currentstyle.rulerminorsize=this.on_find_CurrentStyle_rulerMinerSize(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlealign=function(){this.currentstyle.titlealign=this.on_find_CurrentStyle_titleAlign(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_titlecolor=function(){this.currentstyle.titlecolor=this.on_find_CurrentStyle_titleColor(this._pseudo);this.ondraw(this._canvas);};_pChartAxis.on_update_style_titlefont=function(){this.currentstyle.titlefont=this.on_find_CurrentStyle_titleFont(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlepadding=function(){this.currentstyle.titlepadding=this.on_find_CurrentStyle_titlePadding(this._pseudo);this.parent.on_updateDrawAreaLayout();};_pChartAxis.on_update_style_titlerotate=function(){this.currentstyle.titlerotate=this.on_find_CurrentStyle_titleRotate(this._pseudo);};_pChartAxis.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarSize(this._pseudo);};_pChartAxis.on_find_CurrentStyle_background=function(_a){return null;};_pChartAxis.on_find_CurrentStyle_border=function(_a){return null;};_pChartAxis.on_find_CurrentStyle_axisSize=function(_a){return this._find_pseudo_obj("axissize",_a);};_pChartAxis.on_find_CurrentStyle_scrollbarSize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pChartAxis.on_find_CurrentStyle_labelAlign=function(_a){var _b=this._find_pseudo_obj("labelalign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_labelColor=function(_a){var _b=this._find_pseudo_obj("labelcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_labelFont=function(_a){var _b=this._find_pseudo_obj("labelfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_labelPadding=function(_a){var _b=this._find_pseudo_obj("labelpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_labelRotate=function(_a){return this._find_pseudo_obj("labelrotate",_a);};_pChartAxis.on_find_CurrentStyle_markColor=function(_a){var _b=this._find_pseudo_obj("markcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_markFont=function(_a){var _b=this._find_pseudo_obj("markfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_markLine=function(_a){return this._find_pseudo_obj("markline",_a);};_pChartAxis.on_find_CurrentStyle_markPadding=function(_a){var _b=this._find_pseudo_obj("markpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_markSize=function(_a){var _b=this._find_pseudo_obj("marksize",_a);return (_b)?_b:this.currentstyle.size;};_pChartAxis.on_find_CurrentStyle_originColor=function(_a){var _b=this._find_pseudo_obj("origincolor",_a);return (_b)?_b:this.currentstyle.labelcolor;};_pChartAxis.on_find_CurrentStyle_originFont=function(_a){var _b=this._find_pseudo_obj("originfont",_a);return (_b)?_b:this.currentstyle.labelfont;};_pChartAxis.on_find_CurrentStyle_originLine=function(_a){var _b=this._find_pseudo_obj("originline",_a);return (_b)?_b:this.currentstyle.rulermajorline;};_pChartAxis.on_find_CurrentStyle_originPadding=function(_a){var _b=this._find_pseudo_obj("originpadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_originSize=function(_a){var _b=this._find_pseudo_obj("originsize",_a);return (_b)?_b:this.currentstyle.size;};_pChartAxis.on_find_CurrentStyle_rulerAlign=function(_a){var _b=this._find_pseudo_obj("ruleralign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_rulerMajorLine=function(_a){return this._find_pseudo_obj("rulermajorline",_a);};_pChartAxis.on_find_CurrentStyle_rulerMajorSize=function(_a){return this._find_pseudo_obj("rulermajorsize",_a);};_pChartAxis.on_find_CurrentStyle_rulerMinerLine=function(_a){return this._find_pseudo_obj("rulerminorline",_a);};_pChartAxis.on_find_CurrentStyle_rulerMinerSize=function(_a){return this._find_pseudo_obj("rulerminersize",_a);};_pChartAxis.on_find_CurrentStyle_titleAlign=function(_a){var _b=this._find_pseudo_obj("titlealign",_a);return (_b)?_b:this._default_align;};_pChartAxis.on_find_CurrentStyle_titleColor=function(_a){var _b=this._find_pseudo_obj("titlecolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartAxis.on_find_CurrentStyle_titleFont=function(_a){var _b=this._find_pseudo_obj("titlefont",_a);return (_b)?_b:this.currentstyle.font;};_pChartAxis.on_find_CurrentStyle_titlePadding=function(_a){var _b=this._find_pseudo_obj("titlepadding",_a);return (_b)?_b:this._default_padding;};_pChartAxis.on_find_CurrentStyle_titleRotate=function(_a){return this._find_pseudo_obj("titlerotate",_a);};_pChartAxis._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;this._type_name+=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartAxis._getBindText=function(_a,_b,_c){if(_b._bindtype==0){return _b._value;}else{if(_a==null){return undefined;}if(_b._bindtype==1){return _a.getColumn(_c,_b._bindexpr);}else{var _d=this._exprfn;if(!_d){_d=this._exprfn=_a._createExprFunc(_b._bindexpr);}if((typeof _d)=="function"){return _d.call(this,_c,_c,this.parent,_a);}}}return "";};_pChartAxis._appendZeroByidx=function(_a,_b){var _c=_a.toString().split(".");var _d=_c[0];var _e=_c[1]?_c[1].substr(0,_b):"";var _f=_e.length;for(var _g=_f;_g<_b;_g++ ){_e+="0";}return _d+"."+_e;};_pChartAxis._decimalless=0;_pChartAxis.on_updateDecimalless=function(){var _a=[this.rulermin,this.rulermax,this.origindata,this.markdata,this.rulermajorunit,this.rulerminorunit];var _b=[];var _c=_a.length;for(var _d=0;_d<_c;_d++ ){if(_a[_d]){_a[_d]=_a[_d].toString().replace(/(0*$)/g,"");_a[_d]=_a[_d].split(".")[1];_a[_d]&&_b.push(_a[_d].length);}}_b=_b.sort(function(_e,_f){return _f-_e;})[0];this._decimalless=_b||0;};_pChartAxis._recalcLayout=function(_a){if(!this.visible){return false;}this._items.splice(0,this._items.length);this._exprfn=null;var _b=this.parent;var _c=this.currentstyle;var _d;var _e=this.titletext;var _f=_c.titlefont;var _g=nexacro._getTextSize2(_e,_f);this._title_width=_g[0];this._title_height=_g[1];var _h=0;var _i=nexacro.getStyleValueInt(_c.rulermajorsize,0);this._major_size=_i;var _j=nexacro.getStyleValueInt(_c.rulerminersize,0);this._miner_size=_j;if(_j>_h){_h=_j;}var _k=0,_l=0;if(this.id=="xaxis"){var _m=_b._binddataset;if(_m){var _n=_m.rowcount;var _o=this.label;_f=_c.labelfont;for(var _p=0;_p<_n;_p++ ){var _e=this._getBindText(_m,_o,_p);var _q=new nexacro.ChartAxisItem(_p,_e);_g=nexacro._getTextSize2(_e,_f);_q.text_width=_g[0];_q.text_height=_g[1];if(_q.text_width>_l){_l=_q.text_width;}if(_q.text_height>_k){_k=_q.text_height;}this._items.push(_q);}}this._text_maxwidth=_l;this._text_maxheight=_k;var _r=nexacro.getStyleValueFloat(_c.labelrotate,0);if(_r!=0){var _s=_r*Math.PI/180;var _t=_l*Math.sin(_s);if(_t<0){_t= -_t;}_i+=_t;_t=_k*Math.cos(_s)/2;if(_t<0){_t= -_t;}_i+=_t;_i=Math.ceil(_i);if(_i>_h){_h=_i;}}else{_i+=_k;if(_i>_h){_h=_i;}}var _u=_c.labelpadding;if(_u){_h+=_u.top+_u.bottom;}}else{var _v=this.rulermajorunit;var _w=this.markdata;var _x=this.origindata;var _y=this.rulermin;var _z=this.rulermax;if(_v==undefined){_v=100;}var _u;if(_x!=undefined){_e=this.originlabel;if(_e==""){_e=_x+"";}var _aa=nexacro.getStyleValueInt(_c.originsize,0);if(_aa<_i){_aa=_i;}if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}_f=_c.originfont;_g=nexacro._getTextSize2(_e,_f);this._org_size=_aa;this._org_text=_e;this._org_width=_g[0];this._org_height=_g[1];_aa+=this._org_width;_u=_c.originpadding;if(_u){_aa+=_u.left+_u.right;}if(_aa>_h){_h=_aa;}}if(_w!=undefined){_e=this.marklabel;if(_e==""){_e=_w+"";}var _ab=nexacro.getStyleValueInt(_c.marksize,0);if(_ab<_i){_ab=_i;}if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}_f=_c.markfont;_g=nexacro._getTextSize2(_e,_f);this._mark_size=_ab;this._mark_text=_e;this._mark_width=_g[0];this._mark_height=_g[1];_ab+=this._mark_width;_u=_c.markpadding;var _ac=0,_ad=0,_ae=0,_af=0;if(_u){_ab+=_u.left+_u.right;}if(_ab>_h){_h=_ab;}}if(_y==undefined||_z==undefined){var _ag=(_y==undefined);var _ah=(_z==undefined);var _m=_b._binddataset;if(_m){var _n=_m.rowcount;var _ai=false;var _aj=_b.seriesset;var _ak=_aj.length;var _al,_am;for(var _an=0;_an<_ak;_an++ ){var _ao=_aj[_an];var _ap=(this.id=="y2axis")?(_ao.yaxis=="y2axis"):(_ao.yaxis!="y2axis");if(_ap){var _aq=_ao.data;var _ar=_ao.datatext;for(var _p=0;_p<_n;_p++ ){var _t=_ao._getBindNumber(_m,_aq,_p);_al=_ao._getBindNumber(_m,_ar,_p);_am=nexacro._getTextSize2(""+_al,_ao.currentstyle.datatextfont)[1];_am+=_ao.currentstyle.datatextpadding._getPaddingHeight();_am+=_ao.currentstyle.datatextmargin._getMarginHeight();if(_t){if(_ag&&(_y==undefined||_t<_y)){_y=_t+_am;}if(_ah&&(_z==undefined||_t>_z)){_z=_t+_am;}}}_ai=true;}}if(!_ai&&this.id=="y2axis"){if(_ag){_y=_b.yaxis._min_val;}if(_ah){_z=_b.yaxis._max_val;}}}if(_ag&&_y==undefined){_y=0;}if(_ah&&_z==undefined){if(_y<0){_z=0;}else{_z=_y+_v;}}}else if(_z<_y){var _ae=_z;_z=_y;_y=_ae;}if(_x<_y&&_x<_z){}else if(_x>_y&&_x>_z){_z=_x;}unit_min=Math.floor(_y/_v);unit_max=Math.ceil(_z/_v);var _as=0;var _at=0;if(_x){_as=Math.floor((_y-_x)/_v);_at=Math.ceil((_z-_x)/_v);}else{_as=Math.floor(_y/_v);_at=Math.ceil(_z/_v);}var _n=_at-_as;if(_n==0){_at++ ;_n++ ;}this._unit_val=_v;this._min_val=_y;this._max_val=_z;this._unit_min_val=_x+_as*_v;this._unit_max_val=_x+_at*_v;this._org_val=_x;_f=_c.labelfont;for(var _au=0;_au<=_n;_au++ ){var _t=(_x+(_au+_as)*_v);var _e=_t+"";if(this._decimalless>0){_e=this._appendZeroByidx(_e,this._decimalless);}var _q=new nexacro.ChartAxisItem(_au,_e);_g=nexacro._getTextSize2(_e,_f);_q.item_type="label";_q.item_val=_t;_q.text_width=_g[0];_q.text_height=_g[1];if(_q.text_width>_l){_l=_q.text_width;}if(_q.text_height>_k){_k=_q.text_height;}this._items.push(_q);}this._text_maxwidth=_l;this._text_maxheight=_k;var _av=_i+_l;_u=_c.labelpadding;if(_u){_av+=_u.left+_u.right;}if(_av>_h){_h=_av;}}this._item_maxsize=_h;if(this.id=="xaxis"){var _aw=0;if(_c.margin){_aw=_c.margin.bottom;}var _ax=this._item_maxsize+this._title_height;_u=_c.titlepadding;if(_u){_ax+=_u.top+_u.bottom;}var _ay=_a.bottom-_aw;var _az=_ay-_ax;if(_az<_a.top){_az=_a.top;}this._total_width=0;this._total_height=(_ay-_az);_a.bottom=_az;return true;}else if(this.id=="yaxis"){var _ba=_c.margin;var _ac=0,_ad=0,_ae=0,_af=0;if(_ba){_ac=_ba.left;_ad=_ba.right;_ae=_ba.top;_af=_ba.bottom;}var _aw=_ac;var _bb=this._item_maxsize+this._title_height;_u=_c.titlepadding;_ac=0;_ad=0;if(_u){_bb+=_u.left+_u.right;}var _bc=_a.left+_aw;var _bd=_bc+_bb;if(_bd>_a.right){_bd=_a.right;}this._total_width=(_bd-_bc);this._total_height=0;_a.left=_bd;return true;}else if(this.id=="y2axis"){var _aw=0;if(_c.margin){_aw=_c.margin.right;}var _bb=this._item_maxsize+this._title_height;_u=_c.titlepadding;if(_u){_bb+=_u.left+_u.right;}var _bd=_a.right-_aw;var _bc=_bd-_bb;if(_bc<_a.left){_bc=_a.left;}this._total_width=(_bd-_bc);this._total_height=0;_a.right=_bc;return true;}return true;};_pChartAxis._movePositionWithBound=function(_a){var _b=0,_c=0,_d=0,_e=0,_f=0,_g=0;if(this.id=="xaxis"){_c=_a.left-this._text_maxwidth;if(_c<0){_c=0;}_b=_a.bottom;_f=_a.right+this._text_maxwidth-_c;_g=this._total_height;}else if(this.id=="yaxis"){_c=_a.left-this._total_width;_b=_a.top-this._text_maxwidth;if(_b<0){_b=0;}_f=this._total_width;_g=_a.bottom+this._text_maxwidth-_b;}else if(this.id=="y2axis"){_c=_a.right;_b=_a.top-this._text_maxwidth;if(_b<0){_b=0;}_f=this._total_width;_g=_a.bottom+this._text_maxwidth-_b;}if(this._adjust_left!=_c||this._adjust_width!=_f||this._adjust_top!=_b||this._adjust_height!=_g){this._applysetPosition(_c,_b,_f,_g);}return true;};_pChartAxis._drawXAsis=function(_a){var _b=this._items;var _c=this.parent;var _d=_c._data_area;var _e=_d.left-this._adjust_left;var _f=_d.right-_d.left;var _g=_a.height;var _h=_c._item_start;var _i=_i=_c._item_cnt;var _j=this.currentstyle;var _k=this.titletext;var _l=_j.titlealign?_j.titlealign:nexacro._getCachedAlignObj("center middle");var _m=_j.titlefont?_j.titlefont:this.on_find_CurrentStyle_font();var _n=_j.titelcolor?_j.titlecolor._value:"black";var _o=nexacro.getStyleValueInt(_j.axissize,0);var _p=_j.labelrotate;_p=nexacro.getStyleValueText(_j.labelrotate,null);var _q=_j.labelalign;var _r=_j.labelfont;var _s=_j.labelcolor?_j.labelcolor._value:"black";var _t=_j.rulermajorline;var _u=this._major_size;var _v=(_t&&_t._isValid()&&_u>0);var _w=this.rulerbasetype;var _x,_y,_z;var _aa;if(_k!=""){_aa=_j.titlepadding;_a.setElementFont(_m);_a.setElementFillStyle(_n);var _z=Math.floor(_g-(this._title_height/2));if(_aa){_z-=_aa.bottom;}switch(_l.halign){case "left":var _y=_e;_a.drawFillText(_k,_e,_z,0);break;case "center":_y=Math.round(_e+(_f/2)-(this._title_width/2));_a.drawFillText(_k,_y,_z,0);break;case "right":_y=Math.floor(_e+_f-this._title_width);_a.drawFillText(_k,_y,_z,0);break;}}var _ab=_c._item_div;var _ac=_i;if(_ac>_b.length){_ac=_b.length;}if(_v){_a.setElementStrokeStyle(_t.color);if(_o>0){_a.setElementLineWidth(_o);var _ae=_o/2;_a.drawStrokeHLine(_ae,_e,_e+_f);}_a.setElementLineWidth(_t._width);var _af=_t._width/2;var _ag=_o;var _ah=_o+_u;if(_w=="distance"){_x=_e;for(var _ai=0;_ai<_i;_ai++ ){_y=Math.round(_x)+_af;_a.drawStrokeVLine(_y,_ag,_ah);_x+=_ab;}_y=Math.round(_x)+_af;_a.drawStrokeVLine(_y,_ag,_ah);}else{_x=Math.round(_e+_ab/2);for(var _ai=0;_ai<_i;_ai++ ){_y=Math.round(_x)+_af;_a.drawStrokeVLine(_y,_ag,_ah);_x+=_ab;}}_a.drawStroke();}_aa=_j.labelpadding;_a.setElementFont(_r);_a.setElementFillStyle(_s);var _ad=_o+_u;if(_aa){_ad+=_aa.top;}if(_p===null){_x=_e;switch(_q.halign){case "left":for(var _ai=0;_ai<_ac;_ai++ ){var _aj=_b[_ai+_h];if(_aj){_y=_x;_z=Math.round(_ad+_aj.text_height/2);_a.drawFillText(_aj.text,_y,_z,0);_x+=_ab;}}break;case "center":_x+=_ab/2;for(var _ai=0;_ai<_ac;_ai++ ){var _aj=_b[_ai+_h];if(_aj){_y=Math.round(_x-(_aj.text_width/2));_z=Math.round(_ad+_aj.text_height/2);_a.drawFillText(_aj.text,_y,_z,0);_x+=_ab;}}break;case "right":_x+=_ab;for(var _ai=0;_ai<_ac;_ai++ ){var _aj=_b[_ai+_h];if(_aj){_y=_x-_aj.text_width;_z=Math.round(_ad+_aj.text_height/2);_a.drawFillText(_aj.text,_y,_z+_af,0);_x+=_ab;}}break;}}else if(_p<180){_x=_e+_ab/2;_z=Math.round(_ad);for(var _ai=0;_ai<_ac;_ai++ ){var _aj=_b[_ai+_h];if(_aj){_y=Math.round(_x);_a.drawFillText(_aj.text,_y,_z,_p);_x+=_ab;}}}else{var _ak=_p*Math.PI/180;_x=_e+_ab/2;for(var _ai=0;_ai<_ac;_ai++ ){var _aj=_b[_ai+_h];if(_aj){_y=Math.round(_x+Math.cos(_aj.text_width));_z=Math.ceil(_ad-Math.sin(_aj.text_width));_a.drawFillText(_aj.text,_y,_z,_p);_x+=_ab;}}}};_pChartAxis._drawYAsis=function(_a){var _b=this._items;var _c=this.parent;var _d=_c._data_area;var _e=_d.top-this._adjust_top;var _f=_a.width;var _g=_d.bottom-_d.top;var _h=false;if(this.id=="y2axis"){_h=true;}var _i=_b.length;var _j=this.currentstyle;var _k=this._unit_min_val;var _l=this._unit_max_val;var _m=this.titletext;var _n=_j.titlealign?_j.titlealign:nexacro._getCachedAlignObj("center middle");var _o=_j.titlefont?_j.titlefont:this.on_find_CurrentStyle_font();var _p=_j.titlecolor?_j.titlecolor._value:"black";var _q=nexacro.getStyleValueInt(_j.axissize,0);var _r=_j.labelfont;var _s=_j.labelcolor?_j.labelcolor._value:"black";var _t=_j.rulermajorline;var _u=this._major_size;var _v=_j.rulerminorline;var _w=this._miner_size;var _x=(_t&&_t._isValid()&&_u>0);var _y=(_v&&_v._isValid()&&_w>0);var _z,_aa,_ab,_ac,_ad;var _ae=_j.titlepadding;if(_m!=""){if(_h){_a.setElementFont(_o);_a.setElementFillStyle(_p);_aa=Math.floor(_f-(this._title_height/2));if(_ae){_aa-=_ae.right;}switch(_n.valign){case "top":_ad=_e;_a.drawFillText(_m,_aa,_ad,90);break;case "middle":_ad=Math.round(_e+(_g/2)-(this._title_width/2));_a.drawFillText(_m,_aa,_ad,90);break;case "bottom":_ad=_e+_g-this._title_width;_a.drawFillText(_m,_aa,_ad,90);break;}}else{_a.setElementFont(_o);_a.setElementFillStyle(_p);_aa=Math.ceil(this._title_height/2);if(_ae){_aa+=_ae.left;}switch(_n.valign){case "top":_ad=_e-this._title_width;_a.drawFillText(_m,_aa,_ad,270);break;case "middle":_ad=Math.round(_e+(_g/2)+(this._title_width/2));_a.drawFillText(_m,_aa,_ad,270);break;case "bottom":_ad=_e+_g;_a.drawFillText(_m,_aa,_ad,270);break;}}}var _af=(_g)/(_i-1);var _ag=this.origindata;var _ah=this._org_size;var _ai=_j.originline;var _aj=(_ai&&_ai._isValid()&&_ah>0);var _ak=this.markdata;var _al=this._mark_size;var _am=_j.markline;var _an=(_am&&_am._isValid()&&_al>0);var _ao=_q/2;var _ap=0;if(_t){_ap+=_t._width/2;}if(_x){_a.setElementStrokeStyle(_t?_t.color:null);if(_q){_a.setElementLineWidth(_q);pos=_e+_g;if(_t){pos+=_t._width;}if(_h){_a.drawStrokeVLine(_ao,_e,pos);}else{_a.drawStrokeVLine(_f-_ao,_e,pos);}}if(_t){_a.setElementLineWidth(_t._width);}if(_h){_aa=_q;_ab=_q+_u;}else{_ab=_f-_q;_aa=_ab-_u;}_z=_e+_g;for(var _ar=0;_ar<_i;_ar++ ){var _as=_b[_ar];if(_as.item_val!=_ag&&_as.item_val!=_ak){_ad=Math.round(_z);_a.drawStrokeHLine(_ad+_ap,_aa,_ab);}_z-=_af;}}_a.setElementFont(_r);_a.setElementFillStyle(_s);_z=_e+_g;_ae=_j.labelpadding;if(_h){_aa=_q+_u;if(_ae){_aa+=_ae.left;}}else{_aa=_f-_q-_u;if(_ae){_aa-=_ae.right;}}var _aq=0;for(var _ar=0;_ar<_i;_ar++ ){var _as=_b[_ar];if(_as.item_val!=_ag&&_as.item_val!=_ak){_ac=_aa-(_h?0:_as.text_width);_ad=Math.round(_z);_a.drawFillText(_as.text,_ac,_ad,0);}else if(_as.item_val==_ag){_aq=Math.round(_z);}_z-=_af;}if(_ag<=_l&&_ag>=_k&&_ag!=_ak){var _at=_aq-_e;var _au=this._org_text;var _av=_j.originfont;var _aw=_j.origincolor;if(_aw){_aw=_aw._value;}else{_aw="black";}if(_h){_aa=_q;_ab=_q+_ah;}else{_ab=_f-_q;_aa=_ab-_ah;}_z=_e+_at;var _ax=_ag-_k;var _ay=_l-_k;var _az=0;if(_ay==0){_az=_ax;}_z-=_at*_az;_ad=Math.round(_z);if(_aj){_a._setLineStyle(_ai);_a.setElementStrokeStyle(_ai.color);_a.setElementLineWidth(_ai._width);_a.moveTo(_aa,_ad+_ap);_a.lineTo(_ab,_ad+_ap);_a.drawStroke();}_a.setElementFont(_av);_a.setElementFillStyle(_aw);if(_h){_ac=_ab;}else{_ac=_aa-this._org_width;}_a.drawFillText(_au,_ac,_ad,0);}if(_ak<=_l&&_ak>=_k){var _ba=this._mark_text;var _bb=_j.markfont;var _bc=_j.markcolor?_j.markcolor._value:"black";if(_h){_aa=_q;_ab=_q+_al;}else{_ab=_f-_q;_aa=_ab-_al;}_z=_e+_g;_z-=_g*(_ak-_k)/(_l-_k);_ad=Math.round(_z);if(_an){_a.setElementStrokeStyle(_am.color);_a.setElementLineWidth(_am._width);_a.moveTo(_aa,_ad+_ap);_a.lineTo(_ab,_ad+_ap);_a.drawStroke();}_a.setElementFont(_bb);_a.setElementFillStyle(_bc);if(_h){_a.drawFillText(_ba,_ab,_ad,0);}else{_a.drawFillText(_ba,_aa-this._mark_width,_ad,0);}}};_pChartAxis.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();if(this.id=="xaxis"){this._drawXAsis(_a);}else{this._drawYAsis(_a);}_a.endDraw();};_pChartAxis.set_label=function(_a){if(_a!=this.label._value){this.label._set(_a);if(this._control_element){this.on_apply_label();}}return _a;};_pChartAxis.on_apply_label=function(){this.parent.on_updateDrawAreaLayout();};_pChartAxis.set_markdata=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.markdata){this.markdata=_b;this.on_updateDecimalless();}return _b;};_pChartAxis.set_marklabel=function(_a){if(_a!=this.marklabel){this.marklabel=_a;}return _a;};_pChartAxis.set_origindata=function(_a){var _b=parseFloat(_a)|0;if(_b!=this.origindata){this.origindata=_b;this.__origindata=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_originlabel=function(_a){if(_a!=this.originlabel){this.originlabel=_a;}return _a;};_pChartAxis.set_rulerbasetype=function(_a){if(_a!="distance"){_a="point";}if(_a!=this.rulerbasetype){this.rulerbasetype=_a;}return _a;};_pChartAxis.set_rulermajorunit=function(_a){var _b=parseFloat(_a);if(( +_b)!=( +_b)){_b= -1;}if(_b!=this.rulermajorunit){this.rulermajorunit=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_rulermax=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.rulermax){this.rulermax=_b;this.on_updateDecimalless();if(this._control_element){var _c=this.parent;_c.on_updateDrawAreaLayout();_c.on_updateDataAreaLayout();this.redraw();_c.board.redraw();}}return _b;};_pChartAxis.set_rulermin=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.rulermin){this.rulermin=_b;this.on_updateDecimalless();this.on_apply_rulermin();}return _b;};_pChartAxis.on_apply_rulermin=function(){var _a=this.getElement();if(_a){var _b=this.parent;_b.on_updateDrawAreaLayout();_b.on_updateDataAreaLayout();this.redraw();_b.board.redraw();}};_pChartAxis.set_rulerminorunit=function(_a){var _b=parseFloat(_a);if(( +_b)!=( +_b)){_b= -1;}if(_b!=this.rulerminorunit){this.rulerminorunit=_b;this.on_updateDecimalless();}return _b;};_pChartAxis.set_rulersort=function(_a){if(_a!=this.rulersort){this.rulersort=_a;}return _a;};_pChartAxis.set_titletext=function(_a){if(_a!=this.titletext){this.titletext=_a;}return _a;};_pChartAxis.set_viewcount=function(_a){if(_a!=this.viewcount){this.viewcount=_a;}return _a;};_pChartAxis.set_viewmax=function(_a){var _b=parseInt(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.viewmax){this.viewmax=_b;}return _b;};_pChartAxis.set_viewmin=function(_a){var _b=parseInt(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.viewmin){this.viewmin=_b;}return _b;};_pChartAxis=null;nexacro.ChartBoard=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pChartBoard=nexacro.ChartBoard.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartBoard);_pChartBoard._type_name="Chart>#board";_pChartBoard.usemarky=false;_pChartBoard.usemarky2=false;_pChartBoard.useoriginy=false;_pChartBoard.useoriginy2=false;_pChartBoard.yaxismajorunit= -1;_pChartBoard.yaxisminorunit= -1;_pChartBoard.on_create_custom_style=function(){return new nexacro.ChartBoard_Style(this);};_pChartBoard.on_create_custom_currentStyle=function(){return new nexacro.ChartBoard_CurrentStyle();};_pChartBoard.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.markliney=this.on_find_CurrentStyle_markLineY(_a);_b.markliney2=this.on_find_CurrentStyle_markLineY2(_a);_b.originliney=this.on_find_CurrentStyle_originLineY(_a);_b.originliney2=this.on_find_CurrentStyle_originLineY2(_a);_b.xaxismajorline=this.on_find_CurrentStyle_xAxisMajorLine(_a);_b.yaxismajorline=this.on_find_CurrentStyle_yAxisMajorLine(_a);_b.yaxisminorline=this.on_find_CurrentStyle_yAxisMinorLine(_a);};_pChartBoard.on_update_style_markliney=function(){this.currentstyle.markliney=this.on_find_CurrentStyle_markLineY(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_markliney2=function(){this.currentstyle.markliney2=this.on_find_CurrentStyle_markLineY2(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_originliney=function(){this.currentstyle.originliney=this.on_find_CurrentStyle_originLineY(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_originliney2=function(){this.currentstyle.originliney2=this.on_find_CurrentStyle_originLineY2(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_xaxismajorline=function(){this.currentstyle.xaxismajorline=this.on_find_CurrentStyle_xAxisMajorLine(this._pseudo);};_pChartBoard.on_update_style_yaxismajorline=function(){this.currentstyle.yaxismajorline=this.on_find_CurrentStyle_yAxisMajorLine(this._pseudo);this.ondraw(this._canvas);};_pChartBoard.on_update_style_yaxisminorline=function(){this.currentstyle.yaxisminorline=this.on_find_CurrentStyle_yAxisMinorLine(this._pseudo);};_pChartBoard.on_find_CurrentStyle_markLineY=function(_a){return this._find_pseudo_obj("markliney",_a);};_pChartBoard.on_find_CurrentStyle_markLineY2=function(_a){return this._find_pseudo_obj("markliney2",_a);};_pChartBoard.on_find_CurrentStyle_originLineY=function(_a){return this._find_pseudo_obj("originliney",_a);};_pChartBoard.on_find_CurrentStyle_originLineY2=function(_a){return this._find_pseudo_obj("originliney2",_a);};_pChartBoard.on_find_CurrentStyle_xAxisMajorLine=function(_a){return this._find_pseudo_obj("xaxismajorline",_a);};_pChartBoard.on_find_CurrentStyle_yAxisMajorLine=function(_a){return this._find_pseudo_obj("yaxismajorline",_a);};_pChartBoard.on_find_CurrentStyle_yAxisMinorLine=function(_a){return this._find_pseudo_obj("yaxisminorline",_a);};_pChartBoard._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartBoard._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;if(this._adjust_left!=_a.left||this._adjust_width!=_b||this._adjust_top!=_a.top||this._adjust_height!=_c){this._applysetPosition(_a.left,_a.top,_b,_c);}return true;};_pChartBoard.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.currentstyle;var _c=this.parent;var _d=_a.width;var _e=_a.height;var _f,_g,_h;if(_c.yaxis){var _i=_c.yaxis;var _j=_i._unit_min_val;var _k=_i._unit_max_val;var _l=_k-_j;var _m=_b.yaxismajorline;if(_m&&_m._isValid()){var _n=this.yaxismajorunit;if(_n<1){_n=_i.rulermajorunit;}if(_n>0){var _o=_m._width/2;_a._setLineStyle(_m);var _p=_j;while(_p<=_k){_f=(_p-_j);if(_f>0){_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}_p+=_n;}}}if(this.useoriginy){var _q=_i.origindata;if(_q>_j&&_q<=_k){var _r=_b.originliney;if(_r&&_r._isValid()){_a._setLineStyle(_r);_f=_q-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}if(this.usemarky){var _s=_i.markdata;if(_s>_j&&_s<=_k){var _t=_b.markliney;if(_t&&_t._isValid()){_a._setLineStyle(_t);_f=_s-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}}if(_c.y2axis){var _u=_c.y2axis;var _j=_u._unit_min_val;var _k=_u._unit_max_val;var _l=_k-_j;if(this.useoriginy2){var _q=_u.origindata;if(_q>_j&&_q<=_k){var _r=_b.originliney2;if(_r&&_r._isValid()){_a._setLineStyle(_r);_f=_q-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}if(this.usemarky2){var _s=_u.markdata;if(_s>_j&&_s<=_k){var _t=_b.markliney2;if(_t&&_t._isValid()){_a._setLineStyle(_t);_f=_s-_j;_g=_e-(_f*_e)/_l;_h=Math.round(_g);_a.drawStrokeHLine(_h+_o,0,_d);}}}}_a.endDraw();};_pChartBoard.set_usemarky=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.usemarky){this.usemarky=_a;}return _a;};_pChartBoard.set_usemarky2=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.usemarky2){this.usemarky2=_a;}return _a;};_pChartBoard.set_useoriginy=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.useoriginy){this.useoriginy=_a;}return _a;};_pChartBoard.set_useoriginy2=function(_a){if(_a=="true"){_a=true;}else{_a=false;}if(_a!=this.useoriginy2){this.useoriginy2=_a;}return _a;};_pChartBoard.set_yaxismajorunit=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.yaxismajorunit){this.yaxismajorunit=_b;this.redraw();}return _b;};_pChartBoard.set_yaxisminorunit=function(_a){var _b=parseFloat(_a)|0;if(( +_b)!=( +_b)){_b=undefined;}if(_b!=this.yaxisminorunit){this.yaxisminorunit=_b;}return _b;};_pChartBoard=null;nexacro.ChartSeries=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.CanvasCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.data=new nexacro.BindableValue("");this.datatext=new nexacro.BindableValue("");};var _pChartSeries=nexacro.ChartSeries.prototype=nexacro._createPrototype(nexacro.CanvasCtrl,nexacro.ChartSeries);_pChartSeries._type_name="Chart>#";_pChartSeries._bar_item_offset=0;_pChartSeries._bar_item_width=0;_pChartSeries._exprfn=null;_pChartSeries._exprtextfn=null;_pChartSeries._defaultStrokePen=nexacro._getCachedStyleObj("strokepen","1px solid black");_pChartSeries.data="";_pChartSeries.datatext="";_pChartSeries.label="";_pChartSeries.type="line";_pChartSeries.xaxis="xaxis";_pChartSeries.yaxis="yaxis";_pChartSeries.on_create_custom_style=function(){return new nexacro.ChartSeries_Style(this);};_pChartSeries.on_create_custom_currentStyle=function(){return new nexacro.ChartSeries_CurrentStyle();};_pChartSeries.on_apply_custom_pseudo=function(_a){var _a=this._pseudo;var _b=this.currentstyle;_b.font=this.on_find_CurrentStyle_font(_a);_b.color=this.on_find_CurrentStyle_color(_a);_b.align=this.on_find_CurrentStyle_align(_a);_b.padding=this.on_find_CurrentStyle_padding(_a);_b.startangle=this.on_find_CurrentStyle_startAngle(_a);_b.strokecap=this.on_find_CurrentStyle_strokeCap(_a);_b.strokejoin=this.on_find_CurrentStyle_strokeJoin(_a);_b.strokepen=this.on_find_CurrentStyle_strokePen(_a);_b.fillbrush=this.on_find_CurrentStyle_fillBrush(_a);_b.fillgradation=this.on_find_CurrentStyle_fillGradation(_a);_b.fillhatch=this.on_find_CurrentStyle_fillHatch(_a);_b.extendoriginline=this.on_find_CurrentStyle_extendOriginLine(_a);_b.miterjoinlimit=this.on_find_CurrentStyle_miterJoinLimit(_a);_b.datatextalign=this.on_find_CurrentStyle_dataTextAlign(_a);_b.datatextbackground=this.on_find_CurrentStyle_dataTextBackground(_a);_b.datatextborder=this.on_find_CurrentStyle_dataTextBorder(_a);_b.datatextbordertype=this.on_find_CurrentStyle_dataTextBorderType(_a);_b.datatextcolor=this.on_find_CurrentStyle_dataTextColor(_a);_b.datatextfont=this.on_find_CurrentStyle_dataTextFont(_a);_b.datatextgradation=this.on_find_CurrentStyle_dataTextGradation(_a);_b.datatextguideline=this.on_find_CurrentStyle_dataTextGuideLine(_a);_b.datatextguiderotate=this.on_find_CurrentStyle_dataTextGuideRotate(_a);_b.datatextguidesize=this.on_find_CurrentStyle_dataTextGuideSize(_a);_b.datatextguidetype=this.on_find_CurrentStyle_dataTextGuideType(_a);_b.datatextlocation=this.on_find_CurrentStyle_dataTextLocation(_a);_b.datatextmargin=this.on_find_CurrentStyle_dataTextMargin(_a);_b.datatextpadding=this.on_find_CurrentStyle_dataTextPadding(_a);_b.pointfillbrush=this.on_find_CurrentStyle_pointFillBrush(_a);_b.pointfillgradation=this.on_find_CurrentStyle_pointFillGradation(_a);_b.pointfillhatch=this.on_find_CurrentStyle_pointFillHatch(_a);_b.pointmiterjoinlimit=this.on_find_CurrentStyle_pointMiterJoinLimit(_a);_b.pointshape=this.on_find_CurrentStyle_pointShape(_a);_b.pointsize=this.on_find_CurrentStyle_pointSize(_a);_b.pointstrokecap=this.on_find_CurrentStyle_pointStrokeCap(_a);_b.pointstrokejoin=this.on_find_CurrentStyle_pointStrokeJoin(_a);_b.pointstrokepen=this.on_find_CurrentStyle_pointStrokePen(_a);_b.selectcolor=this.on_find_CurrentStyle_selectColor(_a);_b.selectdatatextbackground=this.on_find_CurrentStyle_selectDataTextBackground(_a);_b.selectdatatextborder=this.on_find_CurrentStyle_selectDataTextBorder(_a);_b.selectdatatextbordertype=this.on_find_CurrentStyle_selectDataTextBorderType(_a);_b.selectdatatextcolor=this.on_find_CurrentStyle_selectDataTextColor(_a);_b.selectdatatextfont=this.on_find_CurrentStyle_selectDataTextFont(_a);_b.selectdatatextgradation=this.on_find_CurrentStyle_selectDataTextGradation(_a);_b.selectdatatextguideline=this.on_find_CurrentStyle_selectDataTextGuideLine(_a);_b.selectfillbrush=this.on_find_CurrentStyle_selectFillBrush(_a);_b.selectfillgradation=this.on_find_CurrentStyle_selectFillGradation(_a);_b.selectfillhatch=this.on_find_CurrentStyle_selectFillHatch(_a);_b.selectfont=this.on_find_CurrentStyle_selectFont(_a);_b.selectindent=this.on_find_CurrentStyle_selectIndent(_a);_b.selectpointfillbrush=this.on_find_CurrentStyle_selectPointFillBrush(_a);_b.selectpointfillgradation=this.on_find_CurrentStyle_selectPointFillGradation(_a);_b.selectpointfillhatch=this.on_find_CurrentStyle_selectPointFillHatch(_a);_b.selectpointsize=this.on_find_CurrentStyle_pointSize(_a);_b.selectstrokepen=this.on_find_CurrentStyle_selectStrokePen(_a);_b.selectpointsize=this.on_find_CurrentStyle_selectPointSize(_a);};_pChartSeries.on_update_style_datatextalign=function(){this.currentstyle.datatextalign=this.on_find_CurrentStyle_dataTextAlign(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextbackground=function(){this.currentstyle.datatextbackground=this.on_find_CurrentStyle_dataTextBackground(this._pseudo);};_pChartSeries.on_update_style_datatextborder=function(){this.currentstyle.datatextborder=this.on_find_CurrentStyle_dataTextBorder(this._pseudo);};_pChartSeries.on_update_style_datatextbordertype=function(){this.currentstyle.datatextbordertype=this.on_find_CurrentStyle_dataTextBorderType(this._pseudo);};_pChartSeries.on_update_style_datatextcolor=function(){this.currentstyle.datatextcolor=this.on_find_CurrentStyle_dataTextColor(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextfont=function(){this.currentstyle.datatextfont=this.on_find_CurrentStyle_dataTextFont(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextgradation=function(){this.currentstyle.datatextfont=this.on_find_CurrentStyle_dataTextFont(this._pseudo);};_pChartSeries.on_update_style_datatextguideline=function(){this.currentstyle.datatextguideline=this.on_find_CurrentStyle_dataTextGuideLine(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextguidesize=function(){this.currentstyle.datatextguidesize=this.on_find_CurrentStyle_dataTextGuideSize(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextguidetype=function(){this.currentstyle.datatextguidetype=this.on_find_CurrentStyle_dataTextGuideType(this._pseudo);};_pChartSeries.on_update_style_datatextlocation=function(){this.currentstyle.datatextLocation=this.on_find_CurrentStyle_dataTextLocation(this._pseudo);};_pChartSeries.on_update_style_datatextmargin=function(){this.currentstyle.datatextmargin=this.on_find_CurrentStyle_dataTextMargin(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_datatextpadding=function(){this.currentstyle.datatextpadding=this.on_find_CurrentStyle_dataTextPadding(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_extendorignline=function(){this.currentstyle.extendorignline=this.on_find_CurrentStyle_extendOriginLine(this._pseudo);};_pChartSeries.on_update_style_fillbrush=function(){this.currentstyle.fillbrush=this.on_find_CurrentStyle_fillBrush(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_fillgradation=function(){this.currentstyle.fillgradation=this.on_find_CurrentStyle_fillGradation(this._pseudo);};_pChartSeries.on_update_style_fillhatch=function(){this.currentstyle.fillhatch=this.on_find_CurrentStyle_fillHatch(this._pseudo);};_pChartSeries.on_update_style_miterjoinlimit=function(){this.currentstyle.miterjoinlimit=this.on_find_CurrentStyle_miterJoinLimit(this._pseudo);};_pChartSeries.on_update_style_pointfillbrush=function(){this.currentstyle.pointfillbrush=this.on_find_CurrentStyle_pointFillBrush(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_pointfillgradation=function(){this.currentstyle.pointfillgradation=this.on_find_CurrentStyle_pointFillGradation(this._pseudo);};_pChartSeries.on_update_style_pointfillhatch=function(){this.currentstyle.pointfillhatch=this.on_find_CurrentStyle_pointFillHatch(this._pseudo);};_pChartSeries.on_update_style_pointmiterjoinlimit=function(){this.currentstyle.pointmiterjoinlimit=this.on_find_CurrentStyle_pointMiterJoinLimit(this._pseudo);};_pChartSeries.on_update_style_pointshape=function(){this.currentstyle.pointshape=this.on_find_CurrentStyle_pointShape(this._pseudo);if(this.parent.legend){this.parent.legend._recalcLayout();this.redraw();this.parent.legend.redraw();}};_pChartSeries.on_update_style_pointsize=function(){this.currentstyle.pointsize=this.on_find_CurrentStyle_pointSize(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_pointstrokecap=function(){this.currentstyle.pointstrokecap=this.on_find_CurrentStyle_pointStrokeCap(this._pseudo);};_pChartSeries.on_update_style_pointstrokejoin=function(){this.currentstyle.pointstrokejoin=this.on_find_CurrentStyle_pointStrokeJoin(this._pseudo);};_pChartSeries.on_update_style_pointstrokepen=function(){this.currentstyle.pointstrokepen=this.on_find_CurrentStyle_pointStrokePen(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_update_style_selectcolor=function(){this.currentstyle.selectcolor=this.on_find_CurrentStyle_selectColor(this._pseudo);};_pChartSeries.on_update_style_selectdatatextbackground=function(){this.currentstyle.selectdatatextbackground=this.on_find_CurrentStyle_selectDataTextBackground(this._pseudo);};_pChartSeries.on_update_style_selectdatatextborder=function(){this.currentstyle.selectdatatextborder=this.on_find_CurrentStyle_selectDataTextBorder(this._pseudo);};_pChartSeries.on_update_style_selectdatatextcolor=function(){this.currentstyle.selectdatatextcolor=this.on_find_CurrentStyle_selectDataTextColor(this._pseudo);};_pChartSeries.on_update_style_selectdatatextfont=function(){this.currentstyle.selectdatatextfont=this.on_find_CurrentStyle_selectDataTextFont(this._pseudo);};_pChartSeries.on_update_style_selectdatatextgradation=function(){this.currentstyle.selectdatatextgradation=this.on_find_CurrentStyle_selectDataTextGradation(this._pseudo);};_pChartSeries.on_update_style_selectdatatextguideline=function(){this.currentstyle.selectdatatextguideline=this.on_find_CurrentStyle_selectDataTextGuideLine(this._pseudo);};_pChartSeries.on_update_style_selectfillbrush=function(){this.currentstyle.selectfillbrush=this.on_find_CurrentStyle_selectFillBrush(this._pseudo);};_pChartSeries.on_update_style_selectfillgradation=function(){this.currentstyle.selectfillgradation=this.on_find_CurrentStyle_selectFillGradation(this._pseudo);};_pChartSeries.on_update_style_selectfillhatch=function(){this.currentstyle.selectfillhatch=this.on_find_CurrentStyle_selectFillHatch(this._pseudo);};_pChartSeries.on_update_style_selectfont=function(){this.currentstyle.selectfont=this.on_find_CurrentStyle_selectFont(this._pseudo);};_pChartSeries.on_update_style_set_selectindent=function(){this.currentstyle.selectindent=this.on_find_CurrentStyle_selectIndent(this._pseudo);};_pChartSeries.on_update_style_selectstrokepen=function(){this.currentstyle.selectstrokepen=this.on_find_CurrentStyle_selectStrokePen(this._pseudo);};_pChartSeries.on_update_style_selectpointsize=function(){this.currentstyle.selectpointsize=this.on_find_CurrentStyle_selectPointSize(this._pseudo);};_pChartSeries.on_update_style_selectpointfillbrush=function(){this.currentstyle.selectpointfillbrush=this.on_find_CurrentStyle_selectPointFillBrush(this._pseudo);};_pChartSeries.on_update_style_selectpointfillgradation=function(){this.currentstyle.selectpointfillgradation=this.on_find_CurrentStyle_selectPointFillGradation(this._pseudo);};_pChartSeries.on_update_style_selectpointfillhatch=function(){this.currentstyle.selectpointfillhatch=this.on_find_CurrentStyle_selectPointFillHatch(this._pseudo);};_pChartSeries.on_update_style_selectpointstrokepen=function(){this.currentstyle.selectpointstrokepen=this.on_find_CurrentStyle_selectPointStrokePen(this._pseudo);};_pChartSeries.on_update_style_startangle=function(){this.currentstyle.startangle=this.on_find_CurrentStyle_startAngle(this._pseudo);};_pChartSeries.on_update_style_startangle=function(){this.currentstyle.startangle=this.on_find_CurrentStyle_startAngle(this._pseudo);};_pChartSeries.on_update_style_strokecap=function(){this.currentstyle.strokecap=this.on_find_CurrentStyle_strokeCap(this._pseudo);};_pChartSeries.on_update_style_strokejoin=function(){this.currentstyle.strokejoin=this.on_find_CurrentStyle_strokeJoin(this._pseudo);};_pChartSeries.on_update_style_strokepen=function(){this.currentstyle.strokepen=this.on_find_CurrentStyle_strokePen(this._pseudo);this.ondraw(this._canvas);};_pChartSeries.on_find_CurrentStyle_background=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_border=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_shadow=function(_a){return null;};_pChartSeries.on_find_CurrentStyle_startAngle=function(_a){return this._find_pseudo_obj("startangle",_a);};_pChartSeries.on_find_CurrentStyle_strokeCap=function(_a){return this._find_pseudo_obj("strokecap",_a);};_pChartSeries.on_find_CurrentStyle_strokeJoin=function(_a){return this._find_pseudo_obj("strokejoin",_a);};_pChartSeries.on_find_CurrentStyle_strokePen=function(_a){var _b=this._find_pseudo_obj("strokepen",_a);return _b?_b:this._defaultStrokePen;};_pChartSeries.on_find_CurrentStyle_miterJoinLimit=function(_a){return this._find_pseudo_obj("miterjoinlimit",_a);};_pChartSeries.on_find_CurrentStyle_fillBrush=function(_a){return this._find_pseudo_obj("fillbrush",_a);};_pChartSeries.on_find_CurrentStyle_fillGradation=function(_a){return this._find_pseudo_obj("fillgradation",_a);};_pChartSeries.on_find_CurrentStyle_fillHatch=function(_a){return this._find_pseudo_obj("fillhatch",_a);};_pChartSeries.on_find_CurrentStyle_extendOriginLine=function(_a){return this._find_pseudo_obj("extendorignline",_a);};_pChartSeries.on_find_CurrentStyle_dataTextAlign=function(_a){var _b=this._find_pseudo_obj("datatextalign",_a);return (_b)?_b:this._default_align;};_pChartSeries.on_find_CurrentStyle_dataTextBackground=function(_a){return this._find_pseudo_obj("datatextbackground",_a);};_pChartSeries.on_find_CurrentStyle_dataTextBorder=function(_a){return this._find_pseudo_obj("datatextborder",_a);};_pChartSeries.on_find_CurrentStyle_dataTextBorderType=function(_a){return this._find_pseudo_obj("datatextbordertype",_a);};_pChartSeries.on_find_CurrentStyle_dataTextColor=function(_a){var _b=this._find_pseudo_obj("datatextcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartSeries.on_find_CurrentStyle_dataTextFont=function(_a){var _b=this._find_pseudo_obj("datatextfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartSeries.on_find_CurrentStyle_dataTextGradation=function(_a){return this._find_pseudo_obj("datatextgradation",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideLine=function(_a){return this._find_pseudo_obj("datatextguideline",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideRotate=function(_a){return this._find_pseudo_obj("datatextguiderotate",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideSize=function(_a){return this._find_pseudo_obj("datatextguidesize",_a);};_pChartSeries.on_find_CurrentStyle_dataTextGuideType=function(_a){var _b=this._find_pseudo_obj("datatextguidetype",_a);return (_b)?_b:this._defaultGuideType;};_pChartSeries.on_find_CurrentStyle_dataTextLocation=function(_a){var _b=this._find_pseudo_obj("datatextlocation",_a);return (_b)?_b:this._defaultLocation;};_pChartSeries.on_find_CurrentStyle_dataTextMargin=function(_a){var _b=this._find_pseudo_obj("datatextmargin",_a);return (_b)?_b:this._default_margin;};_pChartSeries.on_find_CurrentStyle_dataTextPadding=function(_a){var _b=this._find_pseudo_obj("datatextpadding",_a);return (_b)?_b:this._default_padding;};_pChartSeries.on_find_CurrentStyle_pointFillBrush=function(_a){return this._find_pseudo_obj("pointfillbrush",_a);};_pChartSeries.on_find_CurrentStyle_pointFillGradation=function(_a){return this._find_pseudo_obj("pointfillgradation",_a);};_pChartSeries.on_find_CurrentStyle_pointFillHatch=function(_a){return this._find_pseudo_obj("pointfillhatch",_a);};_pChartSeries.on_find_CurrentStyle_pointMiterJoinLimit=function(_a){return this._find_pseudo_obj("pointmiterjoinlimit",_a);};_pChartSeries.on_find_CurrentStyle_pointShape=function(_a){return this._find_pseudo_obj("pointshape",_a);};_pChartSeries.on_find_CurrentStyle_pointSize=function(_a){return this._find_pseudo_obj("pointsize",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokeCap=function(_a){return this._find_pseudo_obj("pointstrokecap",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokeJoin=function(_a){return this._find_pseudo_obj("pointstrokejoin",_a);};_pChartSeries.on_find_CurrentStyle_pointStrokePen=function(_a){return this._find_pseudo_obj("pointstrokepen",_a);};_pChartSeries.on_find_CurrentStyle_selectColor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a);return (_b)?_b:this.currentstyle.color;};_pChartSeries.on_find_CurrentStyle_selectDataTextBackground=function(_a){var _b=this._find_pseudo_obj("selectdatatextbackground",_a);return (_b)?_b:this.currentstyle.datatextbackground;};_pChartSeries.on_find_CurrentStyle_selectDataTextBorder=function(_a){var _b=this._find_pseudo_obj("selectdatatextborder",_a);return (_b)?_b:this.currentstyle.datatextborder;};_pChartSeries.on_find_CurrentStyle_selectDataTextBorderType=function(_a){var _b=this._find_pseudo_obj("selectdatatextbordertype",_a);return (_b)?_b:this.currentstyle.datatextbordertype;};_pChartSeries.on_find_CurrentStyle_selectDataTextColor=function(_a){var _b=this._find_pseudo_obj("selectdatatextcolor",_a);return (_b)?_b:this.currentstyle.datatextcolor;};_pChartSeries.on_find_CurrentStyle_selectDataTextFont=function(_a){var _b=this._find_pseudo_obj("selectdatatextfont",_a);return (_b)?_b:this.currentstyle.datatextfont;};_pChartSeries.on_find_CurrentStyle_selectDataTextGradation=function(_a){var _b=this._find_pseudo_obj("selectdatatextgradation",_a);return (_b)?_b:this.currentstyle.datatextgradation;};_pChartSeries.on_find_CurrentStyle_selectDataTextGuideLine=function(_a){var _b=this._find_pseudo_obj("selectdatatextguideline",_a);return (_b)?_b:this.currentstyle.datatextguideline;};_pChartSeries.on_find_CurrentStyle_selectFillBrush=function(_a){var _b=this._find_pseudo_obj("selectfillbrush",_a);return (_b)?_b:this.currentstyle.fillbrush;};_pChartSeries.on_find_CurrentStyle_selectFillGradation=function(_a){var _b=this._find_pseudo_obj("selectfillgradation",_a);return (_b)?_b:this.currentstyle.fillgradation;};_pChartSeries.on_find_CurrentStyle_selectFillHatch=function(_a){var _b=this._find_pseudo_obj("selectfillhatch",_a);return (_b)?_b:this.currentstyle.fillhatch;};_pChartSeries.on_find_CurrentStyle_selectFont=function(_a){var _b=this._find_pseudo_obj("selectfont",_a);return (_b)?_b:this.currentstyle.font;};_pChartSeries.on_find_CurrentStyle_selectIndent=function(_a){return this._find_pseudo_obj("selectindent",_a);};_pChartSeries.on_find_CurrentStyle_selectPointFillBrush=function(_a){var _b=this._find_pseudo_obj("selectpointfillbrush",_a);return (_b)?_b:this.currentstyle.pointfillbrush;};_pChartSeries.on_find_CurrentStyle_selectPointFillGradation=function(_a){var _b=this._find_pseudo_obj("selectpointfillgradation",_a);return (_b)?_b:this.currentstyle.pointfillgradation;};_pChartSeries.on_find_CurrentStyle_selectPointFillHatch=function(_a){var _b=this._find_pseudo_obj("selectpointfillhatch",_a);return (_b)?_b:this.currentstyle.pointfillhatch;};_pChartSeries.on_find_CurrentStyle_selectPointSize=function(_a){var _b=this._find_pseudo_obj("selectpointsize",_a);return (_b)?_b:this.currentstyle.pointsize;};_pChartSeries.on_find_CurrentStyle_selectPointStrokePen=function(_a){var _b=this._find_pseudo_obj("selectpointstrokepen",_a);return (_b)?_b:this.currentstyle.pointstrokepen;};_pChartSeries.on_find_CurrentStyle_selectStrokePen=function(_a){var _b=this._find_pseudo_obj("selectstrokepen",_a);return (_b)?_b:this.currentstyle.strokepen;};_pChartSeries.on_find_CurrentStyle_selectPointSize=function(_a){var _b=this._find_pseudo_obj("selectpointsize",_a);return (_b)?_b:this.currentstyle.selectpointsize;};_pChartSeries._movePositionWithBound=function(_a){var _b=_a.right-_a.left;var _c=_a.bottom-_a.top;if(this._adjust_left!=_a.left||this._adjust_width!=_b||this._adjust_top!=_a.top||this._adjust_height!=_c){this._applysetPosition(_a.left,_a.top,_b,_c);}return true;};_pChartSeries._getBindNumber=function(_a,_b,_c){var _d;if(_b._bindtype==0){_d=_b._value;}else if(_a){if(_b._bindtype==1){_d=_a.getColumn(_c,_b._bindexpr);}else{var _e=this._exprfn;if(!_e){_e=this._exprfn=_a._createExprFunc(_b._bindexpr);}if((typeof _e)=="function"){_d=_e.call(this,_c,_c,this.parent,_a);}}}_d=parseFloat(_d)|0;if(( +_d)!=( +_d)){_d=undefined;}return _d;};_pChartSeries._getBindText=function(_a,_b,_c){if(_b._bindtype==0){return _b._value;}else{if(_a==null){return undefined;}if(_b._bindtype==1){return _a.getColumn(_c,_b._bindexpr);}else{var _d=this._exprtextfn;if(!_d){_d=this._exprtextfn=_a._createExprFunc(_b._bindexpr);}if((typeof _d)=="function"){return _d.call(this,_c,_c,this.parent,_a);}}}return "";};_pChartSeries.ondraw=function(_a){if(!_a||!this.parent.enableredraw||_a.width<=0||_a.height<=0){return;}_a.clearRect();var _b=this.parent;var _c=_a.width;var _d=_a.height;var _e=_b._item_start;var _f=_b._item_cnt;var _g=_b._item_div;if(_f<=0){return;}var _h=this.currentstyle;var _i=this.yaxis;var _j=null;if(_i=="y2axis"){_j=_b.y2axis;}else{_j=_b.yaxis;}if(!_j){return;}var _k=_j._unit_min_val;var _l=_j._unit_max_val;var _m=_l-_k;var _n=_b._binddataset;if(_n){var _o=this.data;var _p=this.datatext;var _q=_j._org_val;var _r=Math.round(_d-((_q-_k)*_d)/_m);var _s=false;var _t=nexacro.getStyleValueText2(_h.pointshape,"none","");var _u,_v,_w;if(_t!=""){_u=nexacro.getStyleValueInt(_h.pointsize,0);if(_u>0){brush=_h.pointfillbrush;if(brush&&brush._isValid()){_v=brush.color;}else{_v="";}pen=_h.pointstrokepen;if(pen&&pen._isValid()){_w=pen;}else{_w=null;}_s=true;}}var _x=false,_y=false;var _z=_h.datatextcolor?_h.datatextcolor._value:"";var _aa=_h.datatextfont;var _ab,_ac=0,_ad=0,_ae="",_af=0;if(_z!=""){var _ag=_h.datatextalign;_ab=_h.datatextguideline;var _ah=nexacro.getStyleValueInt(_h.datatextguidesize,0);var _ai=_h.datatextpadding;var _aj=_h.datatextmargin;switch(_ag&&_ag.halign){case "left":_ac= -_ah;_ae="left";if(_ai){_af=_ai.right;}break;case "right":_ac=_ah;_ae="right";if(_ai){_af=_ai.left;}break;}switch(_ag&&_ag.valign){case "top":_ad= -_ah;if(_ae==""){_ae="top";if(_ai){_af=_ai.bottom;}}else if(_ae=="left"){_ae="lefttop";}else if(_ae=="right"){_ae="righttop";}break;case "bottom":_ad=_ah;if(_ae==""){_ae="bottom";if(_ai){_af=_ai.top;}}else if(_ae=="left"){_ae="leftbottom";}else if(_ae=="right"){_ae="rightbottom";}break;}if(_ab&&_ab._isValid()&&_ah>0){if(_ac!=0||_ad!=0){_y=true;}}_x=true;}var _ak=0;var _al=[];var _am=[];var _an=[];if(this.type=="bar"){var _ao=this._bar_item_width;var _ap=_ao/2;_ak=this._bar_item_offset+_ap;var _aq=0;var _ar=false,_as=false;var _at,_au,_av;var _aw=_h.fillbrush;if(_aw){_at=_aw.color;_a.setElementFillStyle(_at);_ar=true;}var _ax=_h.strokepen;if(_ax){_au=_ax.color;_av=parseFloat(_ax.width)|0;if(( +_av)!=( +_av)){_av=1;}_a.setElementStrokeStyle(_au);_a.setElementLineWidth(_av);_as=true;_aq=_av/2;}var _ay=_ak;for(var _az=0;_az<_f;_az++ ){var _ba=this._getBindNumber(_n,_o,_az+_e);if(_ba!=undefined){_al[_az]=_ba;_am[_az]=Math.round(_ay);_an[_az]=Math.round(_d-((_ba-_k)*_d)/_m);}_ay+=_g;}if(_ar){for(var _az=0;_az<_f;_az++ ){if(_al[_az]!=undefined){_a.rect(_am[_az]-_ap,_r,_ao,_an[_az]-_r);}_a.drawFill();}}if(_as){for(var _az=0;_az<_f;_az++ ){if(_al[_az]!=undefined){_a.halfRect(_am[_az]-_ap,_r,_ao,_an[_az]-_r);}}_a.drawStroke();}}else{_ak=_g/2;var _aq=0;var _as=false;var _au,_av;var _ax=_h.strokepen;if(_ax){_au=_ax.color;_av=parseFloat(_ax.width)|0;if(( +_av)!=( +_av)){_av=1;}_a.setElementStrokeStyle(_au);_a.setElementLineWidth(_av);_as=true;}_aq=_av/2;if(_as){var _bb=_n.rowcount;var _ay=_ak;var _bc=false;if(_e>0){var _ba=this._getBindNumber(_n,_o,_e-1);if(_ba!=undefined){var _bd=Math.round(_d-((_ba-_k)*_d)/_m);var _be=Math.round(_ay-_g);_a.moveTo(_be,_bd+_aq);_bc=true;}}for(var _az=0;_az<=_f;_az++ ){var _ba=this._getBindNumber(_n,_o,_az+_e);if(_ba!=undefined){var _be=Math.round(_ay);var _bd=Math.round(_d-((_ba-_k)*_d)/_m);_al[_az]=_ba;_am[_az]=_be;_an[_az]=_bd;if(_bc){_a.lineTo(_be,_bd+_aq);}else{_a.moveTo(_be,_bd+_aq);_bc=true;}_ay+=_g;}else{_ay+=_g;_bc=false;}}_a.drawStroke();}}if(_s){var _bf=_u/2;if(_s){for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){_b._drawMark(_a,_am[_az]-_bf,_an[_az]-_bf,_t,_u,_v,_w);}}}}if(_x){_a._setLineStyle(_ab);_a.setElementFont(_aa);_a.setElementFillStyle(_z);if(_y){for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _be=_am[_az];var _bd=_an[_az];_a.moveTo(_be,_bd);_be+=_ac;_bd+=_ad;_a.lineTo(_be,_bd);}}_a.drawStroke();}switch(_ae){case "left":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be-=_af+_bh[0];_a.drawFillText(_bg,_be,_bd,0);}}}break;case "lefttop":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be-=_af+_bh[0];_bd-=Math.ceil(_bh[1]/2);_a.drawFillText(_bg,_be,_bd,0);}}}break;case "leftbottom":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be-=_af+_bh[0];_bd+=Math.ceil(_bh[1]/2);_a.drawFillText(_bg,_be,_bd,0);}}}break;case "right":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;_be+=_af;_a.drawFillText(_bg,_be,_bd,0);}}}_be+=_af;break;case "righttop":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be+=_af;_bd-=Math.ceil(_bh[1]/2);_a.drawFillText(_bg,_be,_bd,0);}}}break;case "rightbottom":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be+=_af;_bd+=Math.ceil(_bh[1]/2);_a.drawFillText(_bg,_be,_bd,0);}}}break;case "top":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be-=Math.round(_bh[0]/2);_bd-=_af+Math.ceil(_bh[1]/2);_a.drawFillText(_bg,_be,_bd,0);}}}break;case "bottom":for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be-=Math.round(_bh[0]/2);_bd+=_af+Math.ceil(_bh[1]/2);_a.drawFillText(_bg,_be,_bd,0);}}}break;default:for(var _az=0;_az<_f;_az++ ){var _ba=_al[_az];if(_ba!=undefined){var _bg=this._getBindText(_n,_p,_az+_e);if(_bg!=""){var _be=_am[_az]+_ac;var _bd=_an[_az]+_ad;var _bh=nexacro._getTextSize2(_bg,_aa);_be-=Math.round(_bh[0]/2);_a.drawFillText(_bg,_be,_bd,0);}}}break;}}}_a.endDraw();};_pChartSeries._loadFromDOM=function(_a){if(_a&&_a.attributes){var _b="";var _c="";var _d=_a.attributes.length;for(var _e=0;_e<_d;_e++ ){_b=_a.attributes[_e].nodeName;_c=_a.attributes[_e].nodeValue;if(_b=="id"){this.id=_c;this._type_name+=_c;}else{this["set_"+_b]&&this["set_"+_b](_c);}}}};_pChartSeries.set_data=function(_a){if(_a!=this.data._value){this.data._set(_a);}return _a;};_pChartSeries.set_datatext=function(_a){if(_a!=this.datatext._value){this.datatext._set(_a);if(this._control_element){this.parent.on_updateDataAreaLayout();}}return _a;};_pChartSeries.set_label=function(_a){if(_a!=this.label){this.label=_a;if(this._control_element){this.parent._recalcLayout();this.parent.legend.redraw();}}return _a;};_pChartSeries.set_type=function(_a){if(_a!=this.type){this.type=_a;}return _a;};_pChartSeries.set_xaxis=function(_a){if(_a!=this.xaxis){this.type=_a;}return _a;};_pChartSeries.set_yaxis=function(_a){if(_a!=this.yaxis){this.yaxis=_a;}return _a;};_pChartSeries=null;}