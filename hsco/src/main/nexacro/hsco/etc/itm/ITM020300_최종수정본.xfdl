<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="ITM020300" classname="codeMng" left="0" top="0" width="1499" height="735" titletext="SW 자산관리" oninit="ITM020300_oninit" onload="ITM020300_onload">
    <Layouts>
      <Layout>
        <Grid id="grd_Sw" taborder="6" useinputpanel="false" autofittype="col" left="0%" top="66" right="2.64%" autoenter="select" binddataset="ds_grid" bottom="260" onselectchanged="grd_Sw_onselectchanged" cellsizingtype="col" onheadclick="grd_Sw_onheadclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="80"/>
                <Column size="105"/>
                <Column size="100"/>
                <Column size="150"/>
                <Column size="120"/>
                <Column size="94"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="89"/>
                <Column size="76"/>
                <Column size="89"/>
                <Column size="112"/>
                <Column size="210"/>
              </Columns>
              <Rows>
                <Row size="25" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell style="font:9 돋움;" text="업무구분"/>
                <Cell col="1" style="font:9 돋움;" text="SW구분"/>
                <Cell col="2" style="font:9 돋움;" text="모델코드"/>
                <Cell col="3" style="font:9 돋움;" text="모델명"/>
                <Cell col="4" style="font:9 돋움;" text="제조사"/>
                <Cell col="5" style="font:9 돋움;" text="납품업체"/>
                <Cell col="6" style="font:9 돋움;" text="납품직원"/>
                <Cell col="7" style="font:9 돋움;" text="구매수"/>
                <Cell col="8" style="font:9 돋움;" text="사용수"/>
                <Cell col="9" style="font:9 돋움;" text="잔여수"/>
                <Cell col="10" style="font:9 돋움;" text="도입일"/>
                <Cell col="11" text="도입가격"/>
                <Cell col="12" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" style="align:left;" text="bind:SW_JOB_SE" combodataset="ds_comb01" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="1" displaytype="combo" style="align:left;" text="bind:SW_SE" combodataset="ds_comb02" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="2" displaytype="text" text="bind:MODEL_NO"/>
                <Cell col="3" style="align:left;" text="bind:MODEL_NM"/>
                <Cell col="4" style="align:left;" text="bind:SW_MAKR"/>
                <Cell col="5" style="align: ;" expr="bind:SERVC_ENTRPS_CODE_NM"/>
                <Cell col="6" style="align: ;" expr="bind:IT_EMP_NM"/>
                <Cell col="7" style="align: ;" text="bind:SW_PURCHS_QY"/>
                <Cell col="8" displaytype="normal" text="bind:SW_USE_QY"/>
                <Cell col="9" displaytype="normal" style="align: ;" text="bind:SW_REMAIN_QY"/>
                <Cell col="10" displaytype="date" style="align: ;" text="bind:SW_INDC_DT"/>
                <Cell col="11" displaytype="number" style="align:right;" text="bind:SW_INDC_AMOUNT"/>
                <Cell col="12" style="align:left;" text="bind:RM"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static01" taborder="1" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" left="98.75%" top="0" right="0%" height="735" style="background:#d07b173c;align:center middle;"/>
        <Static id="Static00" taborder="2" text="15" visible="false" left="97.4%" top="0" right="1.25%" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Div id="div_search" taborder="0" left="0%" top="0" right="2.6%" height="33" cssclass="div_WFSA_Box" scrollbars="none">
          <Layouts>
            <Layout>
              <Static id="Static04" taborder="94" text="업무구분" cssclass="sta_WFSA_Label" left="16" top="5" height="21" style="background:URL('theme://images/sta_WFSA_Label.png') left middle;" width="64"/>
              <Static id="Static19" taborder="96" text="SW구분" cssclass="sta_WFSA_Label" left="326" top="5" height="21" style="background:URL('theme://images/sta_WFSA_Label.png') left middle;" width="65"/>
              <Combo id="cmb_swSe" taborder="1" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Essential" left="383" top="5" height="21" innerdataset="@ds_comb02" index="-1" width="215"/>
              <Combo id="cmb_itCl" taborder="0" innerdataset="@ds_comb01" codecolumn="CODE" datacolumn="CODE_NM" cssclass="cmb_WF_Essential" left="80" top="5" height="21" index="-1" width="215" onitemchanged="div_search_cmb_ItCl_onitemchanged"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static03" taborder="3" text="10" visible="false" left="0%" top="32" right="2.64%" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static34" taborder="4" text="SW자산목록" cssclass="sta_WF_Title02" left="0" top="43" height="21" onclick="Static34_onclick" width="131"/>
        <Static id="Static41" taborder="5" text="5" visible="false" left="0%" top="61" height="5" style="background:#dc143c3c;align:center middle;" width="1500"/>
        <Static id="Static02" taborder="7" text="10" visible="false" left="0%" top="475" right="2.64%" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static20" taborder="10" text="SW자산정보" cssclass="sta_WF_Title02" left="0" height="21" width="100" bottom="233"/>
        <Static id="Static22" taborder="13" text="5" visible="false" left="0%" right="75.26%" height="5" style="background:#dc143c3c;align:center middle;" top="496"/>
        <Static id="Static12" taborder="33" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="26"/>
        <Static id="Static13" taborder="34" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="0"/>
        <Static id="Static14" taborder="35" text="운영담당자" cssclass="sta_WF_Label" left="313" height="27" width="81" bottom="26"/>
        <Static id="Static83" taborder="37" text="설치장소" cssclass="sta_WF_Label" left="0" width="91" bottom="0" height="27"/>
        <Static id="Static15" taborder="38" text="운영부서" cssclass="sta_WF_Label" left="0" width="91" bottom="26" height="27"/>
        <Edit id="edt_swCharger" taborder="40" left="396" width="141" height="21" bottom="29" maxlength="30"/>
        <Static id="Static23" taborder="54" text="구성 ID" cssclass="sta_WF_Label" left="539" width="91" bottom="26" height="27"/>
        <Static id="Static24" taborder="57" text="설치장소상세" cssclass="sta_WF_Label" left="539" width="91" bottom="0" height="27"/>
        <Static id="Static04" taborder="63" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="52"/>
        <Static id="Static05" taborder="64" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="104"/>
        <Static id="Static06" taborder="65" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="78"/>
        <Static id="Static07" taborder="66" text="사용수량" cssclass="sta_WF_Label" left="166" width="71" bottom="104" height="27"/>
        <Static id="Static08" taborder="67" text="비고" cssclass="sta_WF_Label" left="0" width="91" bottom="52" height="27"/>
        <Static id="Static09" taborder="68" text="도입일" cssclass="sta_WF_Label" left="0" width="91" bottom="78" height="27"/>
        <Static id="Static10" taborder="69" text="구매수량" cssclass="sta_WF_Label" left="0" width="91" bottom="104" height="27"/>
        <Edit id="edt_swRemainQy" taborder="71" left="386" width="151" bottom="107" height="21" readonly="false"/>
        <Static id="Static25" taborder="75" text="도입가격" cssclass="sta_WF_Label" left="313" width="71" bottom="78" height="27"/>
        <Static id="Static26" taborder="77" text="라이센스정책" cssclass="sta_WF_Label" left="539" width="91" bottom="52" height="27"/>
        <Static id="Static28" taborder="85" text="국산여부" cssclass="sta_WF_Label" left="539" width="91" bottom="104" height="27"/>
        <Static id="Static29" taborder="88" text="SW버전" cssclass="sta_WF_Label" left="539" width="91" bottom="78" height="27"/>
        <Static id="Static31" taborder="93" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="130"/>
        <Static id="Static32" taborder="94" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="182"/>
        <Static id="Static33" taborder="95" cssclass="sta_WF_Labelbg" left="67" height="27" width="963" bottom="156"/>
        <Static id="Static36" taborder="97" text="제조사" cssclass="sta_WF_Label" left="0" width="91" bottom="130" height="27"/>
        <Static id="Static37" taborder="98" text="모델명" cssclass="sta_WF_Label" left="0" width="91" bottom="156" height="27"/>
        <Static id="Static38" taborder="99" text="모델코드" cssclass="sta_WF_Label" left="0" width="91" bottom="182" height="27"/>
        <Static id="Static42" taborder="107" text="벤더기타" cssclass="sta_WF_Label" left="539" width="91" bottom="130" height="27"/>
        <Static id="Static44" taborder="114" text="납품직원" cssclass="sta_WF_Label" left="539" width="91" bottom="182" height="27" onclick="Static44_onclick"/>
        <Static id="Static45" taborder="117" text="벤더" cssclass="sta_WF_Label" left="539" width="91" bottom="156" height="27"/>
        <Static id="Static48" taborder="122" cssclass="sta_WF_Labelbg" left="69" height="27" width="961" bottom="207"/>
        <Static id="Static50" taborder="124" text="업무/SW구분" cssclass="sta_WF_Label" left="0" width="91" bottom="207" height="27"/>
        <Static id="Static51" taborder="126" text="유형" cssclass="sta_WF_Label" left="539" width="91" bottom="207" height="27"/>
        <Edit id="edt_modelNo" taborder="134" left="93" width="142" bottom="184" height="21" maxlength="30" enable="false"/>
        <CheckBox id="chk_sportListIncls" taborder="135" text="지원목록포함" left="243" tooltiptype="hover" tooltiptext="tklhytyty" falsevalue="0" truevalue="1" width="120" bottom="184" height="21"/>
        <Edit id="edt_modelNm" taborder="136" left="93" width="444" bottom="159" height="21" maxlength="50"/>
        <Edit id="edt_swMakr" taborder="137" left="93" width="444" bottom="132" height="21" maxlength="30"/>
        <Spin id="spn_swPurchsQy" taborder="138" value="0" left="93" width="72" bottom="107" height="21"/>
        <Static id="Static11" taborder="139" text="잔여수량" cssclass="sta_WF_Label" left="313" width="71" bottom="104" height="27"/>
        <Spin id="spn_swUseQy" taborder="140" value="0" left="239" width="71" bottom="107" height="21"/>
        <Calendar id="Cal_swIndcDt" taborder="141" value="20150710" dateformat="yyyy-MM-dd" left="93" width="111" bottom="79" height="21"/>
        <Edit id="edt_rm" taborder="142" left="93" width="444" bottom="55" height="21" maxlength="200"/>
        <Edit id="edt_swOperDept" taborder="143" left="93" width="218" bottom="29" height="21" maxlength="30"/>
        <Edit id="edt_swInstlPlace" taborder="144" left="93" width="444" bottom="3" height="21" maxlength="30"/>
        <Static id="Static16" taborder="145" text="라이센스정책기타" cssclass="sta_WF_Label" left="744" width="138" bottom="52" height="27"/>
        <Edit id="edt_etcSwLcnsPolicy" taborder="146" left="884" width="144" bottom="55" height="21" maxlength="30"/>
        <Combo id="com_Sw_Lcns_Policy" taborder="147" codecolumn="CODE" datacolumn="CODE_NM" index="-1" left="632" innerdataset="@ds_swlcns" width="110" bottom="55" height="21"/>
        <Combo id="com_Sw_Ty" taborder="148" codecolumn="CODE" datacolumn="CODE_NM" index="-1" left="632" innerdataset="@ds_swty" width="110" bottom="210" height="21"/>
        <Combo id="com_Domstc_At" taborder="149" codecolumn="CODE" datacolumn="CODE_NM" index="-1" left="632" innerdataset="@ds_domstcat" width="110" bottom="107" height="21"/>
        <Combo id="com_Assets_Sttus" taborder="150" codecolumn="CODE" datacolumn="CODE_NM" index="-1" left="817" innerdataset="@ds_assets" width="211" bottom="107" height="21"/>
        <Static id="Static17" taborder="151" text="자산상태" cssclass="sta_WF_Label" left="744" width="71" bottom="104" height="27"/>
        <Edit id="edt_swVendor" taborder="153" left="632" width="396" bottom="159" height="21" maxlength="50"/>
        <Edit id="edt_etcSwVendor" taborder="154" left="632" width="396" bottom="132" height="21" maxlength="50"/>
        <Edit id="edt_swVer" taborder="155" left="632" width="396" bottom="80" height="21" maxlength="20"/>
        <Edit id="edt_swCompositionId" taborder="156" left="632" width="396" bottom="29" height="21" maxlength="20"/>
        <Edit id="edt_swInstlDetail" taborder="157" left="632" width="396" bottom="3" height="21" maxlength="30"/>
        <Combo id="com_swJobSe" taborder="158" codecolumn="CODE" datacolumn="CODE_NM" index="-1" left="93" innerdataset="@ds_comb07" width="215" bottom="210" height="21" onitemchanged="com_sw_job_se_onitemchanged" cssclass="cmb_WF_Essential" enable="false"/>
        <Combo id="cmb_swSe" taborder="159" codecolumn="CODE" datacolumn="CODE_NM" index="-1" left="312" innerdataset="@ds_comb06" width="215" bottom="210" height="21" cssclass="cmb_WF_Essential" enable="false"/>
        <MaskEdit id="edt_Sw_Indc_Amount" taborder="160" mask="#,###" enable="true" left="386" style=":disabled {color:#333333ff;}" width="151" bottom="80" height="22"/>
        <Button id="btn_excelDown" taborder="161" onclick="btn_excel_down_onclick" cssclass="btn_WF_Gridexceldn" height="19" width="26" top="42" right="28"/>
        <Static id="Static18" taborder="162" text="유형기타" cssclass="sta_WF_Label" left="745" bottom="207" height="25" width="73"/>
        <Edit id="edt_etcSwTy00" taborder="163" maxlength="30" left="821" bottom="209" height="21" width="207"/>
        <Static id="Static19" taborder="164" text="납품업체" cssclass="sta_WF_Label" left="745" bottom="181" height="25" width="73"/>
        <Edit id="edt_entrps_code_nm" taborder="165" maxlength="30" left="821" bottom="183" height="21" width="207"/>
        <Edit id="edt_emp_nm" taborder="167" maxlength="30" left="632" bottom="184" height="21" width="111"/>
        <Button id="search" taborder="168" onclick="div_sear_search_onclick" cssclass="btn_WF_Search" left="718" bottom="185" height="21" width="25"/>
        <Grid id="Grid00" taborder="169" binddataset="ds_hist" autoenter="select" useinputpanel="false" cellsizingtype="col" onexpandup="Grid00_onexpandup" left="1038" right="2.74%" bottom="3" height="231">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="84"/>
                <Column size="187"/>
                <Column size="135"/>
                <Column size="134"/>
                <Column size="125"/>
                <Column size="255"/>
              </Columns>
              <Rows>
                <Row size="25" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell style="font:9 돋움;" text="일련번호" autosizecol="limitmax"/>
                <Cell col="1" style="font:9 돋움;" text="용역업체" autosizecol="limitmax"/>
                <Cell col="2" style="font:9 돋움;" text="직원" autosizecol="limitmax"/>
                <Cell col="3" style="font:9 돋움;" text="계약시작일" autosizecol="limitmax"/>
                <Cell col="4" style="font:9 돋움;" text="계약종료일"/>
                <Cell col="5" style="font:9 돋움;" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="number" edittype="none" text="bind:SN"/>
                <Cell col="1" displaytype="normal" edittype="none" text="bind:SERVC_ENTRPS_CODE_NM"/>
                <Cell col="2" displaytype="normal" edittype="none" text="bind:IT_EMP_NM" expandshow="show"/>
                <Cell col="3" displaytype="date" edittype="date" text="bind:CNTRCT_BGNDE" combodataset="ds_sttus" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="4" displaytype="date" edittype="date" text="bind:CNTRCT_ENDDE" combodataset="ds_servc_entrps" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="5" displaytype="text" edittype="text" style="align:left;" text="bind:RM" combodataset="ds_it_emp" combocodecol="CODE" combodatacol="CODE_NM"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static55" taborder="170" text="SW계약이력" cssclass="sta_WF_Title02" left="1031" bottom="231" width="98" height="21"/>
        <Button id="btn_saveHist" taborder="171" text="저장" onclick="btn_SaveHist_onclick" cssclass="btn_WF_Process" right="171" bottom="240" width="64" height="19"/>
        <Button id="btn_addHist" taborder="172" text="행추가" onclick="btn_AddHist_onclick" cssclass="btn_WF_Gridadd" right="105" bottom="240" width="64" height="19"/>
        <Button id="btn_delHist" taborder="173" text="행삭제" onclick="btn_DelHist_onclick" cssclass="btn_WF_Griddel" right="38" bottom="240" width="64" height="19"/>
        <Radio id="rdo_useAt" taborder="174" index="0" codecolumn="codecolumn" datacolumn="datacolumn" value="1" direction="vertical" onitemclick="Radio00_onitemclick" left="402" bottom="183" width="134" height="21">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">사용</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">미사용</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Static id="Static21" taborder="175" text="사용여부" cssclass="sta_WFSA_Label" left="642" top="6" width="64" height="21" style="background:URL('theme://images/sta_WFSA_Label.png') left middle;"/>
        <Radio id="rdo_useAt00" taborder="176" index="1" codecolumn="codecolumn" datacolumn="datacolumn" value="1" direction="vertical" left="715" top="6" width="170" height="21" onitemchanged="rdo_useAt00_onitemchanged">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn"/>
                <Col id="datacolumn">전체</Col>
              </Row>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">사용</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">미사용</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_grid" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_grid_onrowposchanged">
        <ColumnInfo>
          <Column id="IT_CODE" type="STRING" size="255"/>
          <Column id="IT_CODE_NM" type="STRING" size="255"/>
          <Column id="IT_DETAIL_CODE" type="STRING" size="255"/>
          <Column id="IT_DETAIL_CODE_NM" type="STRING" size="255"/>
          <Column id="MODEL_NO" type="STRING" size="30"/>
          <Column id="MODEL_NM" type="STRING" size="50"/>
          <Column id="SW_JOB_SE" type="STRING" size="3"/>
          <Column id="SW_SE" type="STRING" size="3"/>
          <Column id="SW_MAKR" type="STRING" size="30"/>
          <Column id="SW_PURCHS_QY" type="BIGDECIMAL" size="7"/>
          <Column id="SW_USE_QY" type="BIGDECIMAL" size="7"/>
          <Column id="SW_REMAIN_QY" type="BIGDECIMAL" size="7"/>
          <Column id="SW_INDC_DT" type="DATE" size="8"/>
          <Column id="SW_INDC_AMOUNT" type="BIGDECIMAL" size="23"/>
          <Column id="SW_TY" type="STRING" size="2"/>
          <Column id="ETC_SW_TY" type="STRING" size="30"/>
          <Column id="SW_VENDOR" type="STRING" size="50"/>
          <Column id="ETC_SW_VENDOR" type="STRING" size="50"/>
          <Column id="DOMSTC_AT" type="STRING" size="1"/>
          <Column id="ASSETS_STTUS" type="STRING" size="2"/>
          <Column id="SW_VER" type="STRING" size="20"/>
          <Column id="SW_LCNS_POLICY" type="STRING" size="2"/>
          <Column id="ETC_SW_LCNS_POLICY" type="STRING" size="30"/>
          <Column id="SW_COMPOSITION_ID" type="STRING" size="20"/>
          <Column id="SW_INSTL_PLACE" type="STRING" size="30"/>
          <Column id="SW_INSTL_DETAIL" type="STRING" size="30"/>
          <Column id="SW_OPER_DEPT" type="STRING" size="30"/>
          <Column id="SW_CHARGER" type="STRING" size="30"/>
          <Column id="SW_LIST_INCLS_AT" type="STRING" size="1"/>
          <Column id="RM" type="STRING" size="200"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="255"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="STRING" size="255"/>
          <Column id="SERVC_ENTRPS_CODE" type="STRING" size="13"/>
          <Column id="IT_EMP" type="STRING" size="3"/>
          <Column id="DWFG_ENTRPS_CODE" type="STRING" size="13"/>
          <Column id="DWFG_IT_EMP" type="STRING" size="3"/>
          <Column id="IT_EMP_NM" type="STRING" size="256"/>
          <Column id="SERVC_ENTRPS_CODE_NM" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IT_CODE" type="STRING" size="255"/>
          <Column id="IT_DETAIL_CODE" type="STRING" size="255"/>
          <Column id="USE_AT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
          <Column id="IT_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb03" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb04" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb05" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb06" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
          <Column id="IT_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb07" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_swty" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_domstcat" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="1"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assets" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_swlcns" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IT_CODE" type="STRING" size="255"/>
          <Column id="IT_DETAIL_CODE" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comb00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="255"/>
          <Column id="CODE_NM" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_condhist" useclientlayout="true">
        <ColumnInfo>
          <Column id="MODEL_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sttus" useclientlayout="true">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_it_emp" useclientlayout="true">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_servc_entrps" useclientlayout="true">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hist" useclientlayout="true">
        <ColumnInfo>
          <Column id="MODEL_NO" type="STRING" size="30"/>
          <Column id="SN" type="BIGDECIMAL" size="10"/>
          <Column id="SERVC_ENTRPS_CODE" type="STRING" size="13"/>
          <Column id="CNTRCT_BGNDE" type="STRING" size="8"/>
          <Column id="CNTRCT_ENDDE" type="STRING" size="8"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="20"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="UPDUSR_ID" type="STRING" size="20"/>
          <Column id="UPDT_DT" type="STRING" size="256"/>
          <Column id="IT_EMP" type="STRING" size="3"/>
          <Column id="SERVC_ENTRPS_CODE_NM" type="STRING" size="256"/>
          <Column id="IT_EMP_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item73" compid="edt_swCharger" propid="value" datasetid="ds_grid" columnid="SW_CHARGER"/>
      <BindItem id="item0" compid="edt_swRemainQy" propid="value" datasetid="ds_grid" columnid="SW_REMAIN_QY"/>
      <BindItem id="item2" compid="edt_modelNo" propid="value" datasetid="ds_grid" columnid="MODEL_NO"/>
      <BindItem id="item6" compid="edt_modelNm" propid="value" datasetid="ds_grid" columnid="MODEL_NM"/>
      <BindItem id="item7" compid="edt_swMakr" propid="value" datasetid="ds_grid" columnid="SW_MAKR"/>
      <BindItem id="item8" compid="edt_rm" propid="value" datasetid="ds_grid" columnid="RM"/>
      <BindItem id="item11" compid="edt_swOperDept" propid="value" datasetid="ds_grid" columnid="SW_OPER_DEPT"/>
      <BindItem id="item13" compid="edt_swInstlPlace" propid="value" datasetid="ds_grid" columnid="SW_INSTL_PLACE"/>
      <BindItem id="item4" compid="edt_etcSwLcnsPolicy" propid="value" datasetid="ds_grid" columnid="ETC_SW_LCNS_POLICY"/>
      <BindItem id="item5" compid="" propid="value" datasetid="ds_grid" columnid="ETC_SW_TY"/>
      <BindItem id="item9" compid="edt_swVendor" propid="value" datasetid="ds_grid" columnid="SW_VENDOR"/>
      <BindItem id="item10" compid="edt_etcSwVendor" propid="value" datasetid="ds_grid" columnid="ETC_SW_VENDOR"/>
      <BindItem id="item12" compid="edt_swVer" propid="value" datasetid="ds_grid" columnid="SW_VER"/>
      <BindItem id="item14" compid="edt_swCompositionId" propid="value" datasetid="ds_grid" columnid="SW_COMPOSITION_ID"/>
      <BindItem id="item15" compid="edt_swInstlDetail" propid="value" datasetid="ds_grid" columnid="SW_INSTL_DETAIL"/>
      <BindItem id="item1" compid="com_swJobSe" propid="value" datasetid="ds_grid" columnid="SW_JOB_SE"/>
      <BindItem id="item18" compid="cmb_swSe" propid="value" datasetid="ds_grid" columnid="SW_SE"/>
      <BindItem id="item19" compid="spn_swPurchsQy" propid="value" datasetid="ds_grid" columnid="SW_PURCHS_QY"/>
      <BindItem id="item20" compid="spn_swUseQy" propid="value" datasetid="ds_grid" columnid="SW_USE_QY"/>
      <BindItem id="item21" compid="Cal_swIndcDt" propid="value" datasetid="ds_grid" columnid="SW_INDC_DT"/>
      <BindItem id="item22" compid="com_Sw_Ty" propid="value" datasetid="ds_grid" columnid="SW_TY"/>
      <BindItem id="item23" compid="com_Domstc_At" propid="value" datasetid="ds_grid" columnid="DOMSTC_AT"/>
      <BindItem id="item24" compid="com_Assets_Sttus" propid="value" datasetid="ds_grid" columnid="ASSETS_STTUS"/>
      <BindItem id="item25" compid="com_Sw_Lcns_Policy" propid="value" datasetid="ds_grid" columnid="SW_LCNS_POLICY"/>
      <BindItem id="item3" compid="edt_Sw_Indc_Amount" propid="value" datasetid="ds_grid" columnid="SW_INDC_AMOUNT"/>
      <BindItem id="item26" compid="chk_sportListIncls" propid="value" datasetid="ds_grid" columnid="SW_LIST_INCLS_AT"/>
      <BindItem id="item16" compid="edt_etcSwTy00" propid="value" datasetid="ds_grid" columnid="ETC_SW_TY"/>
      <BindItem id="item17" compid="edt_emp_nm" propid="value" datasetid="ds_grid" columnid="IT_EMP_NM"/>
      <BindItem id="item27" compid="edt_entrps_code_nm" propid="value" datasetid="ds_grid" columnid="SERVC_ENTRPS_CODE_NM"/>
      <BindItem id="item28" compid="rdo_useAt" propid="value" datasetid="ds_grid" columnid="USE_AT"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : ITM010200.xfdl
 * 화면명   : IT분류코드
 * 화면설명 : IT분류코드를 관리 한다.
 * 작성일   : 2015.08.24
 * 작성자   : 한승엽
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *   
 *    
 ***********************************************************************
 */
 
/***********************************************************************
 * Script Include 
 ************************************************************************/
include "lib::comInclude.xjs";
include "pms_lib::pmsUtilInclude.xjs";	// PMS 업무공통 라이브러리
//include "etc_itm_lib::itmUtil.xjs";
/***********************************************************************
 * 화면 변수 선언부
 ************************************************************************/
 
/***********************************************************************
 * Form Function
 ************************************************************************/
 
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.ITM020300_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// Form 초기화
	this.fn_init_form();

	// DataSet 초기화
	this.fn_init_dataset();
	
	this.fn_init();
}

this.ITM020300_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_loadCombo();
	this.fn_search();
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
 
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	// 시스템 공통으로 Form을 Initialize 한다.
	this.gfn_initForm(this);
	
	// 초기 검색조건
	this.ds_cond.clearData();
	var nRow = this.ds_cond.addRow();
	
	// 초기 검색조건
 	this.ds_condhist.clearData();
 	var nRow2 = this.ds_condhist.addRow();	
	
	// 초기 검색조건
	this.ds_cond01.clearData();
	var nRow01 = this.ds_cond01.addRow();
 		
	this.checkDs.push(this.ds_grid);
	
	this.ds_grid.clearData();
	
    // Form Eliments 초기화

    // Grid 초기화(필요한 경우)
    // 공통코드콤보 초기화
    // 부서콤보 초기화
}



/*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
 /*
	마스터콤보 변경
 */
this.fn_loadCombo = function ()
{	
	this.fn_transaction("selectListCode");
	this.fn_transaction("selectSwJobSe");
	this.fn_transaction("selectSwSe");
	this.fn_transaction("selectListCodeDetail");
	
// 	trace(this.ds_grid.saveXML());
// 	trace(this.ds_grid.saveCSV());
	
	var param = [
		['ds_swty','ITME07','Y','D','G']		// SW유형
	   ,['ds_domstcat','ITME04','Y','D','G']		// 
	   ,['ds_assets','ITME05','Y','D','G']		// 
	   ,['ds_swlcns','ITME08','Y','D','G']		// 
	];

	var callback = function (svcId, errorCode, errorMsg) {
	};

	this.gfn_comboLoad (param, callback);
		
		
		
	//지역구분
	//this.gfn_loadCodeComboWithDs(this, this.div_search.Combo00, this.ds_area, "RNT004", "", "N", "전체", "N", "");
	//자격구분
	//this.gfn_loadCodeComboWithDs(this, this.div_search.Combo01, this.ds_qualf_se, "RNT001", "", "N", "전체", "N", "");		
}

/*
 * 함수명  	: fn_loadCombo
 * 설명 		: 화면의 Combo 에 데이터를 불러온다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_loadCombo();
 */
 /*
	마스터콤보 변경
 */
this.div_search_Combo02_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	this.ds_comb02.clearData();
	this.ds_comb02.addRow();
	this.ds_cond.setColumn(0,"IT_CODE",this.div_search.cmb_itCl.value);
	this.fn_transaction("selectListCodeDetail");
}


/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	// 조건 Dataset 외에 초기화가 필요한 Dataset에 대한 초기화 코드를 추가한다.
	// TODO
}

/*
 * 함수명  	: fn_search
 * 설명 		: HW사용관리 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{

	this.ds_grid.clearData();
	this.fn_transaction("selectList");
}



/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
 
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 * 작성자		: 한승엽
 * 수정자		: 김선진
 * 수정일시	: 2016-06-07
 */
this.fn_transaction = function(strSvcId)
{
	this.ds_cond.addRow();
	switch (strSvcId) {
	
		case "selectList": // 
			var sController		= "/hsco/etc/itm/ITM020300/ITM020300List.do";
			var sInDatasets		= "input1=ds_cond";
			var sOutDatasets	= "ds_grid=output1";
			
			//업무구분, sw구분, 사용여부
 			this.ds_cond.setColumn(0,"USE_AT",this.rdo_useAt00.value);
			this.ds_cond.setColumn(0,"IT_CODE",this.div_search.cmb_itCl.value);
 			this.ds_cond.setColumn(0,"IT_DETAIL_CODE",this.div_search.cmb_swSe.value);
			
// 			trace("ds_cond = " + this.ds_cond.saveCSV());
// 			trace("ds_cond = " + this.ds_cond.saveXML());
			
			break;
			
		//업무구분 코드 목록조회
		case "selectListCode": // 
			var sController		= "/hsco/etc/itm/ITM020300/ITM020300ListCode.do";
			var sInDatasets		= "input1=ds_cond";
			var sOutDatasets	= "ds_comb01=output1";
			break;
			
		//업무구분 코드상세 목록조회
		case "selectListCodeDetail": // 
			var sController		= "/hsco/etc/itm/ITM020300/ITM020300ListCodeDetail.do";
			var sInDatasets		= "";
			var sOutDatasets	= "ds_comb02=output1";
			break;	
			
		case "selectSwJobSe": // 
			var sController		= "/hsco/etc/itm/ITM020300/ITM020300ListCode.do";
			var sInDatasets		= "input1=ds_cond";
			var sOutDatasets	= "ds_comb07=output1";
			break;
			
		case "selectSwSe": // 
			var sController		= "/hsco/etc/itm/ITM020300/ITM020300ListCodeDetail.do";
			var sInDatasets		= "";
			var sOutDatasets	= "ds_comb06=output1";
			break;
			
		case "saveList": // 
		
			var _chk;
			
			if(this.chk_sportListIncls.value == true){
				_chk = '1';
			}else{
				_chk = '0';
			}
			 
			this.ds_grid.setColumn(0,"SW_LIST_INCLS_AT",_chk);
					
			var sController   	= "/hsco/etc/itm/ITM020300/ITM020300CUD.do";	
			var s  = "input1=ds_grid:U";
			var sInDatasets   	= s;
			var sOutDatasets  	= "";
			break;	
			
			
			
			
		case "saveHistList": // 계약이력 저장
			var sController   	= "/hsco/etc/itm/ITM020300/ITM020300HistCUD.do";	
			var s  = "input1=ds_hist:U";
				  
			var sInDatasets   	= s;
			var sOutDatasets  	= "";
			
			trace("SaveHistList : " + this.ds_hist.saveXML());
			break;
			
			
			
		case "selectListCodeHist": // 계약이력조회
			var sController		= "/hsco/etc/itm/ITM020300/ITM020300HistList.do";
			var sInDatasets		= "input1=ds_condhist";
			//var sInDatasets		= "input1=ds_grid";
			var sOutDatasets	= "ds_hist=output1";
			
			this.ds_condhist.setColumn(0,"MODEL_NO",this.ds_grid.getColumn(this.ds_grid.rowposition,"MODEL_NO"));
						
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets);//, sCallbackFunc, sShowProgress, bAsync, bBinary);
}


 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
 
 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	if (nErrorCode < 0) 
	{
		this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
		return ;
	}
	
	switch (strSvcId) 
	{
		case "saveList":
			this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
            this.com_swJobSe.enable = false;
		    this.cmb_swSe.enable = false;
		    
			break;	
			
		case "selectList":
			this.com_swJobSe.enable = false;
		    this.cmb_swSe.enable = false;
// 		    trace(this.ds_grid.saveXML());
// 			trace(this.ds_grid.saveCSV());
			
			break;	
		
		case "selectListCode":
			this.fn_add_comboHeader(this, this.div_search.cmb_itCl, "전체");
			break;	
			
		case "selectListCodeDetail":
			this.fn_add_comboHeader(this, this.div_search.cmb_swSe, "전체");
			break;	
			
		default:
			break;
	}
}

 


/***********************************************************************
* Transaction 영역 끝
************************************************************************/

this.fn_save = function()
{

	// 데이터셋 수정 여부체크
	if (!this.comUtils.isDatasetUpdated(this.ds_grid)) {
		alert("저장할 내역이 없습니다.");
		return false;
	}
	if ( application.confirm( "변경된 내용을 저장하시겠습니까?" ) )
	{	 
		if(this.fn_check()){
			this.fn_transaction("saveList");
			this.fn_search();
		}
	}
	
	this.fn_search();
	
}

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/
 /*
 * 함수명  	: fn_insert
 * 설명 		: 신규 버튼 이벤트 처리(행추가)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function(obj:Button,  e:nexacro.ClickEventInfo)
{
    this.com_swJobSe.enable = true;
	this.cmb_swSe.enable = true;
	if(this.fn_check()){
		var rowtype = this.ds_grid.getRowType(this.ds_grid.rowposition);
		var nRow = this.ds_grid.addRow();
	}
}

this.Combo04_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{


	this.ds_comb06.clearData();
	this.ds_comb06.addRow();
	this.ds_cond01.setColumn(0,"IT_CODE",this.Combo04.value);
	
	this.fn_transaction("selectSwSe");
	
}	


/***********************************************************************
 * 설명: 삭제버튼 클릭시
 ************************************************************************/
this.fn_delete= function()
{	
	var nCurRow = this.ds_grid.rowposition;
	var nRowType = this.ds_grid.getRowType(nCurRow);
    this.ds_grid.deleteRow(nCurRow);
    
}

/***********************************************************************
 * 설명: 필수입력사항 체크(채용년도,차수)
 ************************************************************************/
this.fn_check= function()
{
	var year = "";
	var odr = "";
	var nRow = this.ds_grid.rowposition;
	
	//
	if(nRow > -1)   // 데이터셋의 크기가 1보다 클 때
	{
		ck1 = this.ds_grid.getColumn(nRow,"SW_JOB_SE"); //업무 구분
		ck2 = this.ds_grid.getColumn(nRow,"SW_SE");//SW 구분
		//ck3 = this.ds_grid.getColumn(nRow,"MODEL_NO");
		ck4 = this.ds_grid.getColumn(nRow,"MODEL_NM");
		
		
		if(!ck1) {
			alert("업무구분은 필수입력 사항입니다.");
			return false;
		}else if(!ck2) {
			alert("SW구분은 필수입력 사항입니다.");
			return false;
		//}else if(!ck3) {
		//	alert("모델코드는 필수입력 사항입니다.");
		//	return false;
		}else if(!ck4) {
			alert("모델명은 필수입력 사항입니다.");
			return false;
		}else {
			return true;
		} 

		return true;
	}else {
		return true;
	}
}


this.div_search_cmb_ItCl_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	this.ds_comb02.filter("IT_CODE == '" + e.postvalue + "'");
	this.fn_add_comboHeader(this, this.div_search.cmb_swSe, "전체");
	this.div_search.cmb_swSe.set_index(0);
}

this.com_sw_job_se_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	this.ds_comb06.filter("IT_CODE == '" + e.postvalue + "'");
	this.cmb_SwSe.set_index(0);
}


this.grd_Sw_onselectchanged = function(obj:Grid, e:nexacro.GridSelectEventInfo)
{
	var filter_str = this.ds_grid.getColumn(this.ds_grid.rowposition, "IT_CODE");
	this.ds_comb06.filter("IT_CODE =='" + filter_str + "'");
}

/*
 * 함수명  	: btn_excel_down_onclick
 * 설명 		: 엑셀다운로드
 * params  		: None
 * return Type 	: None
 * 사용법		: n/a
 */
this.btn_excel_down_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.gfn_exportExcel(this.grd_Sw, "exportExl");
}

/*
 * 함수명  	: grd_onheadclick
 * 설명 		: 헤더클릭 이벤트(SORT)
 * params  		: None
 * return Type 	: None
 * 사용법		: n/a
 */
this.grd_Sw_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	this.gfn_gridSort(obj, e);
}

this.fn_print = function()
{
	var vOpts = new this.cf_Opts();

	//this.div_work.div_4.div_1.cmb_SANCTN_FORM_SE
	var f_name = '/etc/itm/ITM020300.jrf';
	
	//var ds;
	//var ds_s;
	var sCols;
	var title = "SW리스트";
	//ds = this.ds_ubiReport00;
	//ds_s = this.ds_detail;
	sCols = "SANCTN_SJ=SANCTN_SJ,"
		   +"SANCTN_ETC=SANCTN_ETC,"
		   +"SANCTN_CN=SANCTN_CN,"
	;
	//ds.clearData();
	//r = ds.addRow();
	//ds.copyRow(r, ds_s, ds_s.rowposition, sCols);

	vOpts.setToolbar(false);
	vOpts.setScale(100);
	vOpts.setArgs("title", title);
	vOpts.setArgs("user", "홍길동");
	vOpts.setReportPath(f_name);
	vOpts.setSaveFilename(title);
	vOpts.setLocalDs(["ds_grid", this.ds_grid]);	// 기성양식구분
	
	//trace('111111111111=='+this.ds_detail.saveXML());
	
	//trace('222222222222=='+this.ds.saveXML());
	
	var parm = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		opts : vOpts
	};

	var fn_cb = function(sPopupId, sReturn) {
		trace('this.fn_print() - fn_cb');
	}

	this.gfn_popup("prjReportPouup", 884, 735, title, parm, "common::frmReportPopup.xfdl", fn_cb);
}


/*
 * 함수명  	: fn_popupCallBack
 * 설명 		: Popup Callback 처리 (장비관리)
 * params  		: sPopupId : 팝업 ID
 *                sReturn  : 팝업 처리 결과(dataset.saveXML())
 * return Type 	: None
 * 작성자 		: 김선진
 */
this.fn_popupCallBack = function(sPopupId, sReturn)
{


	//장비목록
	if(sPopupId == "Popup1") {
		var ds_ITEmpCode = new Dataset();
		var loadCnt = ds_ITEmpCode.loadXML(sReturn);

		if(loadCnt) {
			var ServcNm   = ds_ITEmpCode.getColumn(0, "ENTRPS_NM");
			var EmpNm     = ds_ITEmpCode.getColumn(0, "IT_EMP_NM");

			var a   = ds_ITEmpCode.getColumn(0, "SERVC_ENTRPS_CODE");
			var b   = ds_ITEmpCode.getColumn(0, "IT_EMP");				
			
			var euRow     = this.ds_grid.rowposition;
			
			this.ds_grid.setColumn(euRow, "SERVC_ENTRPS_CODE_NM",   ServcNm  );
			this.ds_grid.setColumn(euRow, "IT_EMP_NM",   EmpNm  );
			
			this.ds_grid.setColumn(euRow, "SERVC_ENTRPS_CODE" , a);
			this.ds_grid.setColumn(euRow, "IT_EMP" , b);			
		}
	}
	
	
	//SW계약이력
	if(sPopupId == "Popup2") {
		var ds_ITEmpCode = new Dataset();
		var loadCnt = ds_ITEmpCode.loadXML(sReturn);

		if(loadCnt) {
			var ServcNm   = ds_ITEmpCode.getColumn(0, "ENTRPS_NM");
			var EmpNm     = ds_ITEmpCode.getColumn(0, "IT_EMP_NM");

			var a   = ds_ITEmpCode.getColumn(0, "SERVC_ENTRPS_CODE");
			var b   = ds_ITEmpCode.getColumn(0, "IT_EMP");				
			
			var euRow     = this.ds_hist.rowposition;
			
			this.ds_hist.setColumn(euRow, "SERVC_ENTRPS_CODE_NM",   ServcNm  );
			this.ds_hist.setColumn(euRow, "IT_EMP_NM",   EmpNm  );
			
			this.ds_hist.setColumn(euRow, "SERVC_ENTRPS_CODE" , a);
			this.ds_hist.setColumn(euRow, "IT_EMP" , b);			
		}
	}

}
	



this.div_sear_search_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.gfn_popup("Popup1", 400, 400, "", {sport_stle:"%"}, "etc_itm::ITM020300_P01.xfdl", "fn_popupCallBack", true);
}


this.Grid00_onexpandup = function(obj:Grid, e:nexacro.GridMouseEventInfo)
{
	if(e.col == '2') {
		this.gfn_popup("Popup2", 400, 400, "", {sport_stle:"%"}, "etc_itm::ITM020300_P01.xfdl", "fn_popupCallBack", true);
	}
}


/*
 * 함수명  	: btn_AddHist_onclick
 * 설명 		: SW계약이력에 업체등록.
 * params  		: sPopupId : 팝업 ID
 *                sReturn  : 팝업 처리 결과(dataset.saveXML())
 * 수정일자	: 2016.11.01
 * 작성자 		: 김선진
 */


/***********************************************************************
 * 설명: SW계약이력에서 필수입력사항 체크
 ************************************************************************/
this.fn_check_hist= function()
{
	var year = "";
	var odr = "";
	var nRow = this.ds_hist.rowposition;
	
	//
	if(nRow > -1)   // 데이터셋의 크기가 1보다 클 때
	{
		ck1 = this.ds_hist.getColumn(nRow,"SERVC_ENTRPS_CODE_NM"); //SerialNo
		
		if(!ck1) {
			alert("용역업체는 필수입력 사항입니다.");
			return false;
		}else {
			return true;
		} 

		return true;
	}else {
		return true;
	}
}


/***********************************************************************
 * 설명: SW장비계약이력 저장버튼 이벤트
 ************************************************************************/
this.btn_SaveHist_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
		// 데이터셋 수정 여부체크
	if (!this.comUtils.isDatasetUpdated(this.ds_hist)) {
		alert("저장할 내역이 없습니다.");
		return false;
	}
	if ( application.confirm( "변경된 내용을 저장하시겠습니까?" ) )
	{	
		if(this.fn_check_hist()){
			this.fn_transaction("saveHistList");
		}
	}
}

/***********************************************************************
 * 설명: SW계약이력에서 행추가 버튼 이벤트
 ************************************************************************/
this.btn_AddHist_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var ct = this.ds_grid.getRowCount();
	
	trace("11111111111111");

	if(ct == 0){
		alert('조회후 신규를 선택하세요.');
		return false;
	}
	
	if(this.fn_check_hist()){
		trace("rowcount =" + this.ds_hist);
		trace("model = " + this.ds_grid.getColumn(this.ds_grid.rowposition,"MODEL_NO"));
		
		
// 		this.ds_hist.addRow();
// 		this.ds_hist.setColumn(this.ds_hist.rowposition,"MODEL_NO",this.ds_detail.getColumn(this.ds_detail.rowposition,"MODEL_NO"));
// 		this.ds_hist.setColumn(this.ds_hist.rowposition,"EQPMN_NO",this.ds_detail.getColumn(this.ds_detail.rowposition,"EQPMN_NO"));
		
		
		this.ds_hist.addRow();
		//this.ds_hist.setColumn(this.ds_hist.addRow,"MODEL_NO",this.ds_grid.getColumn(this.ds_grid.rowposition,"MODEL_NO"));
		this.ds_hist.setColumn(this.ds_hist.rowposition,"MODEL_NO",this.ds_grid.getColumn(this.ds_grid.rowposition,"MODEL_NO"));
		
		trace("2222222222222");
		
		//var nRow = this.ds_hist.addRow();
		//trace("rowcount =" + this.ds_hist);
		//trace("model =" + this.ds_grid.getColumn(this.ds_grid.rowposition,"MODEL_NO"));
		//this.ds_hist.setColumn(nRow ,"MODEL_NO",this.ds_grid.getColumn(this.ds_grid.rowposition,"MODEL_NO"));
	}
	
	trace("data = " + this.ds_hist.getColumn(this.ds_grid.rowposition,"MODEL_NO"));
	
}

/***********************************************************************
 * 설명: SW장비계약이력 행삭제버튼 이벤트
 ************************************************************************/
this.btn_DelHist_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nCurRow = this.ds_hist.rowposition;
	var nRowType = this.ds_hist.getRowType(nCurRow);
    this.ds_hist.deleteRow(nCurRow);
}


/***********************************************************************
 * 설명: SW자산목록에서 그리드 클릭 시, SW계약관리 조회 이벤트
 ************************************************************************/
this.ds_grid_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.ds_hist.clearData();
	this.fn_transaction("selectListCodeHist");
}


this.rdo_useAt00_onitemchanged = function(obj:Radio, e:nexacro.ItemChangeEventInfo)
{
	this.fn_search();
}
]]></Script>
  </Form>
</FDL>
