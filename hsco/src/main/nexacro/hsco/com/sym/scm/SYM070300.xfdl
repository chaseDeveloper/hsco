<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="SYM070300" classname="Pattern_03" left="0" top="0" width="1059" height="735" titletext="연계기관관리" onload="SYM070300_onload" oninit="SYM070300_oninit">
    <Layouts>
      <Layout>
        <Div id="div_search" taborder="3" left="0" top="0" right="28" height="33" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="Static16" taborder="0" text="연계기관" cssclass="sta_WFSA_Label" left="15" top="5" width="90" height="21"/>
              <Static id="Static01" taborder="3" text="15" visible="false" left="1014" top="0" height="31" style="background:#00ffff66;" width="15"/>
              <Static id="Static02" taborder="5" text="15" visible="false" left="269" top="0" width="15" height="31" style="background:#00ffff66;"/>
              <Static id="Static03" taborder="7" text="5" visible="false" left="624" top="0" right="397" height="31" style="background:#00ffff66;"/>
              <Edit id="edtcntcInsttNm02" taborder="1" left="107" top="5" width="162" height="21" maxlength="14" inputmode="normal"/>
              <Static id="Static05" taborder="8" text="5" visible="false" left="367" top="0" right="654" height="31" style="background:#00ffff66;"/>
              <Static id="Static06" taborder="9" text="15" visible="false" left="540" top="0" width="15" height="31" style="background:#00ffff66;"/>
              <Static id="Static08" taborder="11" text="15" visible="false" left="0" top="0" width="15" height="31" style="background:#00ffff66;"/>
              <Static id="Static00" taborder="12" text="5" visible="false" left="99" top="0" right="922" height="31" style="background:#00ffff66;"/>
              <Static id="Static04" taborder="13" text="연계시스템" cssclass="sta_WFSA_Label" left="27.5%" top="5" right="63.75%" height="21"/>
              <Edit id="edt_cntcSysNm02" taborder="14" maxlength="14" left="36.44%" top="5" right="47.52%" height="21"/>
              <Static id="Static07" taborder="15" text="서비스명" cssclass="sta_WFSA_Label" left="53.94%" top="5" right="37.32%" height="21"/>
              <Edit id="edt_cntcSysNm00" taborder="16" maxlength="14" left="61.42%" top="5" right="22.55%" height="21"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static01" taborder="56" text="15" visible="false" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;" right="13"/>
        <Static id="Static13" taborder="57" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" width="13" height="735" style="background:#d07b173c;align:center middle;" right="0"/>
        <Div id="div_work" taborder="59" left="0" top="32" style="padding:0 0 0 0;" scrollbars="none" right="0" bottom="45">
          <Layouts>
            <Layout>
              <Static id="Static21" taborder="0" text="10" visible="false" left="0%" top="1" right="28" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static04" taborder="1" text="연계기관" cssclass="sta_WF_Title01" left="0%" top="10" right="87.68%" height="21"/>
              <Static id="Static10" taborder="2" text="5" visible="false" left="0%" top="30" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Grid id="grd_cntcInsttList" taborder="4" binddataset="ds_cntcInstt" useinputpanel="false" autofittype="none" top="35" oncellclick="div_work_grd_cntcInsttList_oncellclick" width="450" left="0" height="197">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="40"/>
                      <Column size="107"/>
                      <Column size="224"/>
                      <Column size="61"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell displaytype="checkbox" edittype="checkbox"/>
                      <Cell col="1" text="연계기관ID"/>
                      <Cell col="2" cssclass="Cellgrd_WF_HeadEssential" text="기관명"/>
                      <Cell col="3" displaytype="normal" edittype="none" text="사용여부"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="checkbox" edittype="checkbox"/>
                      <Cell col="1" text="bind:INSTT_ID"/>
                      <Cell col="2" text="bind:INSTT_NM"/>
                      <Cell col="3" displaytype="checkbox" edittype="checkbox" text="bind:USE_AT"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="Static07" taborder="6" text="10" visible="false" left="869" top="11" height="19" style="background:#00ffff66;" width="10"/>
              <Button id="btn_addRow" taborder="7" text="행추가" cssclass="btn_WF_Gridadd" top="11" width="64" height="19" onclick="div_work_btn_addRow_onclick" left="320"/>
              <Button id="btn_delRow" taborder="8" text="행삭제" cssclass="btn_WF_Griddel" top="11" width="64" height="19" onclick="div_work_btn_delRow_onclick" left="386"/>
              <Grid id="grd_cntcSvcList" taborder="9" useinputpanel="false" autofittype="col" left="0" top="371" binddataset="ds_cntcSvc" right="28" height="157">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="120"/>
                      <Column size="132"/>
                      <Column size="93"/>
                      <Column size="123"/>
                      <Column size="101"/>
                      <Column size="149"/>
                      <Column size="88"/>
                      <Column size="137"/>
                      <Column size="62"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell cssclass="Cellgrd_WF_HeadEssential" text="기관명"/>
                      <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="시스템"/>
                      <Cell col="2" cssclass="Cellgrd_WF_HeadEssential" text="서비스ID"/>
                      <Cell col="3" cssclass="Cellgrd_WF_HeadEssential" text="서비스명"/>
                      <Cell col="4" cssclass="Cellgrd_WF_HeadEssential" text="요청메시지ID"/>
                      <Cell col="5" cssclass="Cellgrd_WF_HeadEssential" text="요청메시지명"/>
                      <Cell col="6" cssclass="Cellgrd_WF_HeadEssential" text="응답메시지ID"/>
                      <Cell col="7" cssclass="Cellgrd_WF_HeadEssential" text="응답메시지명"/>
                      <Cell col="8" cssclass="Cellgrd_WF_HeadEssential" text="사용여부"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="text" edittype="none" text="bind:INSTT_NM"/>
                      <Cell col="1" displaytype="text" edittype="none" text="bind:SYS_NM"/>
                      <Cell col="2" displaytype="text" edittype="text" text="bind:SVC_ID" expandshow="hide" expandsize="20" combodataset="ds_iemTyCode" combocodecol="CODE" combodatacol="CODE_NM"/>
                      <Cell col="3" displaytype="text" edittype="text" text="bind:SVC_NM"/>
                      <Cell col="4" displaytype="text" edittype="none" text="bind:REQUST_MSSAGE_ID"/>
                      <Cell col="5" displaytype="text" edittype="none" text="bind:REQUST_MSSAGE_NM"/>
                      <Cell col="6" displaytype="text" edittype="none" text="bind:RSPNS_MSSAGE_ID"/>
                      <Cell col="7" displaytype="text" edittype="normal" text="bind:RSPNS_MSSAGE_NM"/>
                      <Cell col="8" displaytype="checkbox" edittype="checkbox" text="bind:USE_AT" expandshow="hide" expandsize="20"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="Static00" taborder="11" text="연계서비스" cssclass="sta_WF_Title02" left="0" top="346" height="21" width="118"/>
              <Static id="Static18" taborder="23" text="10" visible="false" left="0" top="232" height="10" style="background:#dc143c3c;align:center middle;" right="29"/>
              <Static id="Static05" taborder="25" text="연계기관 상세" cssclass="sta_WF_Title03" left="0" top="239" right="890" height="19"/>
              <Static id="Static06" taborder="27" text="5" visible="false" left="1" top="253" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static02" taborder="29" text="10" visible="false" left="579" top="337" width="452" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static15" taborder="35" cssclass="sta_WF_Labelbg" left="95" top="284" right="610" height="27"/>
              <Static id="Static14" taborder="36" cssclass="sta_WF_Labelbg" left="95" top="258" right="610" height="27"/>
              <Edit id="edt_cntcInsttId" taborder="12" left="99" top="261" height="21" width="343" maxlength="30" cssclass="edt_WF_Essential"/>
              <Static id="Static26" taborder="39" text="연계기관ID" cssclass="sta_WF_Label" left="0" top="258" height="27" width="96"/>
              <Static id="Static16" taborder="41" text="기관명" cssclass="sta_WF_Label" left="0" top="284" height="27" width="96"/>
              <Static id="Static23" taborder="43" cssclass="sta_WF_Labelbg" left="95" top="310" right="610" height="27"/>
              <Static id="Static25" taborder="46" text="사용여부" cssclass="sta_WF_Label" left="0" top="310" height="27" width="96"/>
              <Edit id="edt_cntcInsttNm" taborder="18" left="99" top="287" height="21" width="343" readonly="false" cssclass="edt_WF_Essential" maxlength="16"/>
              <CheckBox id="chk_useAt" taborder="16" text="사용" value="1" left="99" top="313" width="120" height="21" truevalue="1" falsevalue="0" cssclass="chk_WF_Essential"/>
              <Static id="Static41" taborder="69" text="10" visible="false" left="0" top="337" width="569" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static42" taborder="70" text="5" visible="false" left="0" top="366" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Button id="btn_saveCntcSvc" taborder="72" text="서비스 저장" cssclass="btn_WF_Process" top="347" width="92" height="19" onclick="div_work_btn_saveCntcSvc_onclick" right="168"/>
              <Button id="btn_delRow01" taborder="89" text="행삭제" cssclass="btn_WF_Griddel" top="347" right="27" height="19" onclick="div_work_btn_delRow01_onclick" width="66"/>
              <Static id="Static01" taborder="91" text="10" visible="false" left="84.14%" top="347" right="14.92%" height="19" style="background:#00ffff66;"/>
              <Button id="btn_addRow01" taborder="92" text="행추가" cssclass="btn_WF_Gridadd" top="347" right="94" height="19" onclick="div_work_btn_addRow01_onclick" width="64"/>
              <Button id="btn_saveCntcInstt" taborder="97" text="기관 저장" cssclass="btn_WF_Process" left="230" top="11" height="19" width="79" onclick="div_work_btn_saveCntcInstt_onclick"/>
              <Grid id="grd_cntcSysList" taborder="100" binddataset="ds_cntcSys" useinputpanel="false" left="458" top="35" right="28" oncellclick="div_work_grd_cntcSysList_oncellclick" height="197">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="40"/>
                      <Column size="142"/>
                      <Column size="161"/>
                      <Column size="111"/>
                      <Column size="65"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell displaytype="checkbox" edittype="checkbox"/>
                      <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="시스템ID"/>
                      <Cell col="2" cssclass="Cellgrd_WF_HeadEssential" text="시스템명"/>
                      <Cell col="3" text="시스템 IP"/>
                      <Cell col="4" displaytype="normal" edittype="none" text="사용여부"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="checkbox" edittype="checkbox"/>
                      <Cell col="1" displaytype="normal" text="bind:SYS_ID"/>
                      <Cell col="2" text="bind:SYS_NM"/>
                      <Cell col="3" displaytype="text" edittype="text" text="bind:SYS_IP" expandshow="hide" expandsize="20"/>
                      <Cell col="4" displaytype="checkbox" edittype="checkbox" text="bind:USE_AT"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="Static46" taborder="101" text="10" visible="false" left="42.4%" top="35" right="56.66%" height="206" style="background:#1b3cd23c;align:center middle;"/>
              <Static id="Static03" taborder="102" text="10" visible="false" left="42.4%" top="258" right="56.66%" height="79" style="background:#1b3cd23c;align:center middle;"/>
              <Static id="Static09" taborder="103" cssclass="sta_WF_Labelbg" left="52.31%" top="284" right="2.74%" height="27"/>
              <Static id="Static11" taborder="104" cssclass="sta_WF_Labelbg" left="52.31%" top="258" right="2.74%" height="27"/>
              <Edit id="edt_cntcSysId" taborder="105" maxlength="30" top="261" height="21" cssclass="edt_WF_Essential" width="468" left="558"/>
              <Static id="Static12" taborder="106" text="연계시스템ID" cssclass="sta_WF_Label" left="458" top="258" height="27" width="96"/>
              <Static id="Static13" taborder="107" text="시스템명" cssclass="sta_WF_Label" left="458" top="284" height="27" width="98"/>
              <Static id="Static17" taborder="108" cssclass="sta_WF_Labelbg" left="52.31%" top="310" right="2.74%" height="27"/>
              <Static id="Static19" taborder="109" text="시스템IP" cssclass="sta_WF_Label" left="458" top="310" height="27" width="97"/>
              <Edit id="edt_cntcSysNm" taborder="110" readonly="false" maxlength="16" cssclass="edt_WF_Essential" top="287" height="21" width="468" left="558"/>
              <Static id="Static20" taborder="112" text="사용여부" cssclass="sta_WF_Label" left="851" top="310" height="27" width="96"/>
              <CheckBox id="chk_useAt01" taborder="113" text="사용" value="1" truevalue="1" falsevalue="0" left="950" top="313" height="21" cssclass="chk_WF_Essential" width="74"/>
              <Edit id="edt_upperCntcMssageId01" taborder="114" maxlength="30" top="313" height="21" width="291" left="558"/>
              <Button id="btn_delRow00" taborder="115" text="행삭제" cssclass="btn_WF_Griddel" top="11" right="28" height="19" onclick="div_work_btn_delRow00_onclick" width="64"/>
              <Static id="Static22" taborder="116" text="기관별 연계시스템" cssclass="sta_WF_Title02" left="43.34%" top="10" right="41.93%" height="21"/>
              <Button id="btn_saveCntcSys" taborder="117" text="시스템 저장" cssclass="btn_WF_Process" top="11" height="19" onclick="div_work_btn_saveCntcSys_onclick" width="92" right="168"/>
              <Button id="btn_addRow00" taborder="118" text="행추가" cssclass="btn_WF_Gridadd" top="11" right="94" height="19" onclick="div_work_btn_addRow00_onclick" width="64"/>
              <Static id="Static24" taborder="119" text="기관별 연계시스템 상세" cssclass="sta_WF_Title03" left="43.34%" top="239" right="40.7%" height="19"/>
              <Static id="Static08" taborder="120" text="5" visible="false" left="0.09%" top="549" right="2.64%" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static27" taborder="121" cssclass="sta_WF_Labelbg" left="8.97%" top="580" right="2.74%" height="27"/>
              <Static id="Static28" taborder="122" cssclass="sta_WF_Labelbg" left="8.97%" top="554" right="2.64%" height="27"/>
              <Edit id="edt_cntcSvcId" taborder="123" maxlength="30" cssclass="edt_WF_Essential" left="9.25%" top="557" right="52.22%" height="21"/>
              <Static id="Static29" taborder="124" text="연계서비스ID" cssclass="sta_WF_Label" left="0%" top="554" right="90.93%" height="27"/>
              <Static id="Static30" taborder="125" text="요청메시지ID" cssclass="sta_WF_Label" left="0%" top="580" right="90.93%" height="27"/>
              <Static id="Static31" taborder="126" cssclass="sta_WF_Labelbg" left="8.97%" top="606" right="2.64%" height="27"/>
              <Static id="Static32" taborder="127" cssclass="sta_WF_Label" left="0%" top="606" right="90.93%" height="27" text="요청메시지명"/>
              <Edit id="edt_requstMssageId" taborder="128" readonly="true" maxlength="16" left="9.25%" top="583" right="52.31%" height="21" cssclass="edt_WF_Essential"/>
              <Static id="Static33" taborder="130" text="10" visible="false" left="47.97%" top="554" right="51.09%" height="79" style="background:#1b3cd23c;align:center middle;"/>
              <Static id="Static34" taborder="131" cssclass="sta_WF_Labelbg" left="52.31%" top="580" right="2.64%" height="27"/>
              <Edit id="edt_cntcSvcNm" taborder="133" maxlength="30" cssclass="edt_WF_Essential" left="58.26%" top="557" right="3.12%" height="21"/>
              <Static id="Static36" taborder="134" text="연계서비스명" cssclass="sta_WF_Label" left="48.91%" top="554" right="42.02%" height="27"/>
              <Static id="Static37" taborder="135" text="응답메시지ID" cssclass="sta_WF_Label" left="48.91%" top="580" right="42.02%" height="27"/>
              <Static id="Static39" taborder="137" text="응답메시지명" cssclass="sta_WF_Label" left="48.91%" top="606" right="42.02%" height="27"/>
              <Edit id="edt_rspnsMssageId" taborder="138" readonly="true" maxlength="16" left="58.26%" top="583" right="14.07%" height="21" cssclass="edt_WF_Essential"/>
              <Static id="Static40" taborder="139" text="사용여부" cssclass="sta_WF_Label" left="86.02%" top="580" right="7.84%" height="27"/>
              <Edit id="edt_rspnsMssageNm" taborder="141" maxlength="30" left="58.26%" top="609" right="3.12%" height="21" readonly="true"/>
              <Static id="Static43" taborder="142" text="10" visible="false" left="0%" top="528" right="2.74%" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static44" taborder="143" text="연계서비스 상세" cssclass="sta_WF_Title03" left="0%" top="535" right="84.04%" height="19"/>
              <CheckBox id="chk_useAt00" taborder="144" text="사용" value="1" truevalue="1" falsevalue="0" left="92.45%" top="583" right="2.93%" height="21" cssclass="chk_WF_Essential"/>
              <Edit id="edt_requstMssageNm" taborder="145" readonly="true" maxlength="16" left="9.25%" top="609" right="52.22%" height="21"/>
              <Static id="Static35" taborder="146" text="10" visible="false" left="29.27%" top="11" right="69.78%" height="19" style="background:#00ffff66;"/>
              <Static id="Static38" taborder="147" text="10" visible="false" left="84.14%" top="-53" right="14.92%" height="19" style="background:#00ffff66;"/>
              <Static id="Static45" taborder="148" text="10" visible="false" left="84.14%" top="11" right="14.92%" height="19" style="background:#00ffff66;"/>
              <Button id="btn_popup01" taborder="149" cssclass="btn_WF_Search" left="84.14%" top="583" right="13.88%" height="21" onclick="div_work_btn_popup01_onclick"/>
              <Button id="btn_popup00" taborder="150" cssclass="btn_WF_Search" left="45.89%" top="583" right="52.12%" height="21" onclick="div_work_btn_popup00_onclick"/>
              <Static id="Static47" taborder="151" text="10" visible="false" left="0%" top="633" right="2.74%" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Button id="Button01" taborder="152" text="연계로그" cssclass="btn_WF_Link" visible="false" left="66.19%" top="11" right="27.2%" height="19"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond00">
        <ColumnInfo>
          <Column id="INSTT_NM" type="STRING" size="100"/>
          <Column id="SYS_NM" type="STRING" size="20"/>
          <Column id="SVC_NM" type="STRING" size="200"/>
          <Column id="INSTT_ID" type="STRING" size="20"/>
          <Column id="SYS_ID" type="STRING" size="20"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cntcInstt" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="INSTT_ID" type="STRING" size="20"/>
          <Column id="INSTT_NM" type="STRING" size="100"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="255"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="STRING" size="255"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_cntcSys" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="INSTT_ID" type="STRING" size="20"/>
          <Column id="SYS_ID" type="STRING" size="20"/>
          <Column id="SYS_NM" type="STRING" size="20"/>
          <Column id="SYS_IP" type="STRING" size="225"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="255"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="STRING" size="255"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_cond00</Col>
            <Col id="colId">INSTT_NM</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntcInstt</Col>
            <Col id="colId">INSTT_ID</Col>
            <Col id="func">[Undefined]</Col>
            <Col id="msgId">연계기관ID</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntcInstt</Col>
            <Col id="colId">INSTT_NM</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">기관명</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntcInstt</Col>
            <Col id="colId">USE_AT</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사용여부</Col>
          </Row>
          <Row>
            <Col id="colId">INSTT_ID</Col>
            <Col id="compId">ds_cntcSys</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">연계기관ID</Col>
          </Row>
          <Row>
            <Col id="colId">SYS_ID</Col>
            <Col id="compId">ds_cntcSys</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">연계시스템ID</Col>
          </Row>
          <Row>
            <Col id="colId">SYS_NM</Col>
            <Col id="compId">ds_cntcSys</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">시스템명</Col>
          </Row>
          <Row>
            <Col id="colId">USE_AT</Col>
            <Col id="compId">ds_cntcSys</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사용여부</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntcSvc</Col>
            <Col id="colId">INSTT_ID</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">연계기관ID</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntcSvc</Col>
            <Col id="colId">SYS_ID</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">연계시스템ID</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntcSvc</Col>
            <Col id="colId">SVC_ID</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">연계서비스ID</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cntcSvc</Col>
            <Col id="colId">SVC_NM</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">연계서비스명</Col>
          </Row>
          <Row>
            <Col id="colId">USE_AT</Col>
            <Col id="compId">ds_cntcSvc</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사용여부</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond01">
        <ColumnInfo>
          <Column id="INSTT_ID" type="STRING" size="20"/>
          <Column id="SYS_ID" type="STRING" size="20"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cntcSvc" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="INSTT_ID" type="STRING" size="20"/>
          <Column id="INSTT_NM" type="STRING" size="100"/>
          <Column id="SYS_ID" type="STRING" size="20"/>
          <Column id="SYS_NM" type="STRING" size="20"/>
          <Column id="SVC_ID" type="STRING" size="100"/>
          <Column id="SVC_NM" type="STRING" size="200"/>
          <Column id="REQUST_MSSAGE_ID" type="STRING" size="20"/>
          <Column id="REQUST_MSSAGE_NM" type="STRING" size="100"/>
          <Column id="RSPNS_MSSAGE_ID" type="STRING" size="20"/>
          <Column id="RSPNS_MSSAGE_NM" type="STRING" size="100"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="255"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="STRING" size="255"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_cntcMssage" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNTC_MSSAGE_ID" type="STRING" size="20"/>
          <Column id="CNTC_MSSAGE_NM" type="STRING" size="100"/>
          <Column id="USE_AT" type="STRING" size="1"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="div_search.edtcntcInsttNm02" propid="value" datasetid="ds_cond00" columnid="INSTT_NM"/>
      <BindItem id="item1" compid="div_search.edt_cntcSysNm02" propid="value" datasetid="ds_cond00" columnid="SYS_NM"/>
      <BindItem id="item2" compid="div_search.edt_cntcSysNm00" propid="value" datasetid="ds_cond00" columnid="SVC_NM"/>
      <BindItem id="item3" compid="div_work.edt_cntcInsttId" propid="value" datasetid="ds_cntcInstt" columnid="INSTT_ID"/>
      <BindItem id="item4" compid="div_work.edt_cntcInsttNm" propid="value" datasetid="ds_cntcInstt" columnid="INSTT_NM"/>
      <BindItem id="item5" compid="div_work.chk_useAt" propid="value" datasetid="ds_cntcInstt" columnid="USE_AT"/>
      <BindItem id="item6" compid="div_work.edt_cntcSysId" propid="value" datasetid="ds_cntcSys" columnid="SYS_ID"/>
      <BindItem id="item7" compid="div_work.edt_cntcSysNm" propid="value" datasetid="ds_cntcSys" columnid="SYS_NM"/>
      <BindItem id="item8" compid="div_work.edt_upperCntcMssageId01" propid="value" datasetid="ds_cntcSys" columnid="SYS_IP"/>
      <BindItem id="item9" compid="div_work.chk_useAt01" propid="value" datasetid="ds_cntcSys" columnid="USE_AT"/>
      <BindItem id="item10" compid="div_work.edt_cntcSvcId" propid="value" datasetid="ds_cntcSvc" columnid="SVC_ID"/>
      <BindItem id="item11" compid="div_work.edt_cntcSvcNm" propid="value" datasetid="ds_cntcSvc" columnid="SVC_NM"/>
      <BindItem id="item12" compid="div_work.edt_requstMssageId" propid="value" datasetid="ds_cntcSvc" columnid="REQUST_MSSAGE_ID"/>
      <BindItem id="item13" compid="div_work.edt_requstMssageNm" propid="value" datasetid="ds_cntcSvc" columnid="REQUST_MSSAGE_NM"/>
      <BindItem id="item14" compid="div_work.edt_rspnsMssageId" propid="value" datasetid="ds_cntcSvc" columnid="RSPNS_MSSAGE_ID"/>
      <BindItem id="item15" compid="div_work.edt_rspnsMssageNm" propid="value" datasetid="ds_cntcSvc" columnid="RSPNS_MSSAGE_NM"/>
      <BindItem id="item16" compid="div_work.chk_useAt00" propid="value" datasetid="ds_cntcSvc" columnid="USE_AT"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SYM070300
 * 화면명   : 연계기관관리
 * 화면설명 : 연계기관을 관리한다.
 * 작성일   : 2015.09.03
 * 작성자   : 정윤원
 * 수정이력 : 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *
 ***********************************************************************
 */
 
/***********************************************************************
 * Script Include 
 ***********************************************************************/
include "lib::comInclude.xjs";

this.SYM070300_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// Form 초기화
	this.fn_init_form();

	// DataSet 초기화
	this.fn_init_dataset();
}

this.SYM070300_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_loadCombo();
}

/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	// 시스템 공통으로 Form을 Initialize 한다.
	this.gfn_initForm(this);
}

/*
 * 함수명  	: fn_init_dataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_init_dataset();
 */
this.fn_init_dataset = function()
{
	// 조건에 사용되는 Dataset 초기화
	this.gfn_initCondDs(this, this.div_search);
	
	if(this.ds_cond00.rowcount == 0) this.ds_cond00.addRow();
}



/***********************************************************************
* Transaction 영역 시작
************************************************************************/


/***********************************************************************
 * Transaction 관련 이벤트 핸들러 
 **********************************************************************/
/*
 * 함수명  	: fn_search
 * 설명 		: 연계메시지 현황  조회 이벤트 처리 핸들러
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
 	// Validation 체크
// 	if(!this.gfn_checkValidation(this.div_search, this.ds_validation)) {
// 		return;
// 	}
	// Clear Datasets
	this.ds_cntcInstt.clearData();
	this.ds_cntcSys.clearData();
	this.ds_cntcSvc.clearData();
	this.fn_transaction("SYM070300List");
}


/*
 * 함수명  	: fn_save
 * 설명 		: 연계메시지  저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{
    if(!this.comUtils.isDatasetUpdated(this.ds_cntcInstt) && !this.comUtils.isDatasetUpdated(this.ds_cntcSys) && !this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
        this.gfn_message("comm.데이터.변경.없음");
        //
        return;
    } else {
        // Validation 체크
	    if(this.comUtils.isDatasetUpdated(this.ds_cntcInstt)){
	        if(!this.gfn_checkValidation(this.div_work.grd_cntcInsttList, this.ds_validation)) {
		        return;
	        }
	    }
	
	    if(this.comUtils.isDatasetUpdated(this.ds_cntcSys)){
	        if(!this.gfn_checkValidation(this.div_work.grd_cntcSysList, this.ds_validation)) {
		        return;
	        }
	    }
	
	    if(this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
	        if(!this.gfn_checkValidation(this.div_work.grd_cntcSvcList, this.ds_validation)) {
		        return;
	        }
	    }
	
    
	    if(this.gfn_message("comm.행위여부", "저장")){
		    this.fn_transaction("SYM070300CUD");
	    }
    }

	
}

/*
 * 함수명  	: fn_saveSys
 * 설명 		: 연계시스템   저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_saveSys();
 */
this.fn_saveSys = function(){
    if(!this.comUtils.isDatasetUpdated(this.ds_cntcSys) && !this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
        this.gfn_message("comm.데이터.변경.없음");
        //
        return;
    } else {
        // Validation 체크	
	    if(this.comUtils.isDatasetUpdated(this.ds_cntcSys)){
	        if(!this.gfn_checkValidation(this.div_work.grd_cntcSysList, this.ds_validation)) {
		        return;
	        }
	    }
	
	    if(this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
	        if(!this.gfn_checkValidation(this.div_work.grd_cntcSvcList, this.ds_validation)) {
		        return;
	        }
	    }
	
    
	    if(this.gfn_message("comm.행위여부", "저장")){
		    this.fn_transaction("SYM070301CUD");
	    }
    }
}

/*
 * 함수명  	: fn_saveSvc
 * 설명 		: 서비스 저장 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_saveSvc();
 */
this.fn_saveSvc = function(){
    if(!this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
        this.gfn_message("comm.데이터.변경.없음");
        //
        return;
    } else {
        // Validation 체크		
	    if(this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
	        if(!this.gfn_checkValidation(this.div_work.grd_cntcSvcList, this.ds_validation)) {
		        return;
	        }
	    }

	    if(this.gfn_message("comm.행위여부", "저장")){
		    this.fn_transaction("SYM070302CUD");
	    }
    }
}

/*
 * 함수명  	: div_work_grd_cntcInsttList_oncellclick
 * 설명 		: 연계기관 현황 그리드 셀 클릭 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_grd_cntcInsttList_oncellclick();
 */
this.div_work_grd_cntcInsttList_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var id = this.ds_cntcInstt.getColumn(e.row, "INSTT_ID");
	this.ds_cond01.clearData();
	if(this.ds_cond01.rowcount == 0) this.ds_cond01.addRow();
	this.ds_cond01.setColumn(0, "INSTT_ID", id);
	if(this.comUtils.isDatasetUpdated(this.ds_cntcSys) || this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
	    if(this.gfn_message("confirm.변경.저장.여부")){
		    this.fn_save();
	    } 
    } else {
	    this.fn_transaction("SYM070301List");
    }
}
/*
 * 함수명  	: div_work_grd_cntcSysList_oncellclick
 * 설명 		: 연계시스템 현황 그리드 셀 클릭 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_grd_cntcSysList_oncellclick();
 */
this.div_work_grd_cntcSysList_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var insttId = this.ds_cntcSys.getColumn(e.row, "INSTT_ID");
	var sysId = this.ds_cntcSys.getColumn(e.row, "SYS_ID");
	this.ds_cond01.clearData();
	if(this.ds_cond01.rowcount == 0) this.ds_cond01.addRow();
	this.ds_cond01.setColumn(0, "INSTT_ID", insttId);
	this.ds_cond01.setColumn(0, "SYS_ID", sysId);
	if(this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
	    if(this.gfn_message("confirm.변경.저장.여부")){
		    this.fn_saveSys();
	    } 
    } else {
	    this.fn_transaction("SYM070302List");
    }
}
 
/*
 * 함수명  	: div_work_btn_saveCntcInstt_onclick
 * 설명 		: 기관저장 버튼 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_btn_saveCntcInstt_onclick();
 */
this.div_work_btn_saveCntcInstt_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_save();
}

/*
 * 함수명  	: div_work_btn_saveCntcSys_onclick
 * 설명 		: 시스템저장 버튼 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_btn_saveCntcSys_onclick();
 */
this.div_work_btn_saveCntcSys_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_saveSys();
}
/*
 * 함수명  	: div_work_btn_saveCntcSvc_onclick
 * 설명 		: 서비스저장 버튼 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_btn_saveCntcSvc_onclick();
 */
this.div_work_btn_saveCntcSvc_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_saveSvc();
}



/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/

 
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
		case "SYM070300List": // 연계기관 목록 조회
			var sController   	= "hsco/com/sym/scm/SYM070300/SYM070300List.do";
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "ds_cntcInstt=output1 ds_cntcSys=output2 ds_cntcSvc=output3";
			break;
		case "SYM070301List": // 기관별 시스템 목록 조회
			var sController   	= "hsco/com/sym/scm/SYM070300/SYM070301List.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_cntcSys=output2 ds_cntcSvc=output3";
			break;
		case "SYM070302List": // 기관별 시스템별 연계메시지 목록 조회
			var sController   	= "hsco/com/sym/scm/SYM070300/SYM070302List.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_cntcSvc=output3";
			break;
		case "SYM070300CUD":	// 연계기관 정보 목록 저장
			var sController   	= "hsco/com/sym/scm/SYM070300/SYM070300CUD.do";	
			var sInDatasets   	= "input1=ds_cntcInstt:U, input2=ds_cntcSys:U, input3=ds_cntcSvc:U";
			var sOutDatasets  	= "";
			break;
		case "SYM070301CUD":	// 기관별 시스템 정보 목록 저장
			var sController   	= "hsco/com/sym/scm/SYM070300/SYM070301CUD.do";	
			var sInDatasets   	= "input2=ds_cntcSys:U, input3=ds_cntcSvc:U";
			var sOutDatasets  	= "";
			break;
	    case "SYM070302CUD":	// 기관별 시스템별 연계메시지 정보 목록 저장
			var sController   	= "hsco/com/sym/scm/SYM070300/SYM070302CUD.do";	
			var sInDatasets   	= "input3=ds_cntcSvc:U";
			var sOutDatasets  	= "";
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets); 
}


 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	// 오류 및 성공 메시지를 화면에 보여준다.
	this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);

	if (nErrorCode != 0){
		// 오류 메시지를 보여주는 동작 외에 처리할 내용이 있으면 아래에 기술.
		// 처리할 내용이 없다면, switch 문은 생략합니다.
		switch (strSvcId) {
			case "SYM070300List": // 연계기관 목록 조회
			    break;
		    case "SYM070301List": // 기관별 시스템 목록 조회
			    break;
		    case "SYM070302List": // 기관별 시스템별 연계메시지 목록 조회
			    break;
		    case "SYM070300CUD":	// 연계기관 정보 목록 저장
			    break;
		    case "SYM070301CUD":	// 기관별 시스템 정보 목록 저장
			    break;
	        case "SYM070302CUD":	// 기관별 시스템별 연계메시지 정보 목록 저장
			    break;
		}
	} else {
		// 성공 메시지를 보여주는 동작 외에 처리할 내용이 있으면 아래에 기술.
		// 처리할 내용이 없다면, switch 문은 생략합니다.
		
		switch (strSvcId) {
			case "SYM070300List": // 연계기관 목록 조회
				if(this.ds_cntcInstt.rowcount > 0 ){
					this.ds_cntcInstt.applyChange();
				}      
				break;
			case "SYM070301List": // 기관별 시스템 목록 조회
			    if(this.ds_cntcSys.rowcount > 0 ){
					this.ds_cntcSys.applyChange();
				} 
				break;
			case "SYM070302List": // 기관별 시스템별 연계서비스 목록 조회
			    if(this.ds_cntcSvc.rowcount > 0 ){
					this.ds_cntcSvc.applyChange();
				} 
				break;
			case "SYM070300CUD":	// 연계기관 정보 목록 저장
			    this.fn_search();
				break;
			case "SYM070301CUD":	// 기관별 시스템 정보 목록 저장
			    this.fn_search();
				break;
			case "SYM070302CUD":	// 기관별 시스템별 연계서비스 정보 목록 저장
			    this.fn_search();
			    break;
		}
	}
}

/***********************************************************************
* Transaction 영역 끝
************************************************************************/
/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/
 /*
 * 함수명  	: div_work_btn_addRow_onclick
 * 설명 		: 행추가 버튼 이벤트 처리(행추가)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.div_work_btn_addRow_onclick();
 */
this.div_work_btn_addRow_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	
// 	if(this.comUtils.isDatasetUpdated(this.ds_cntcInstt) || this.comUtils.isDatasetUpdated(this.ds_cntcSys) || this.comUtils.isDatasetUpdated(this.ds_cntcSvc)){
// 	    if(this.gfn_message("confirm.변경.저장.여부")){
// 		    this.fn_save();
// 	    } else {
// 	        var nRow = this.ds_cntcInstt.addRow();
// 	    }
// 	} else {  
	    var nRow = this.ds_cntcInstt.addRow();
	    this.ds_cntcInstt.setColumn(nRow,"USE_AT", "1");
//	}
}

 /*
 * 함수명  	: div_work_btn_addRow_onclick
 * 설명 		: 삭제 버튼 이벤트 처리(행삭제)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.div_work_btn_addRow_onclick();
 */
this.div_work_btn_delRow_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_delete();
}
/*
 * 함수명  	: fn_delete
 * 설명 		: 삭제 버튼 이벤트 처리(행삭제)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete = function()
{
	
	var nRow = this.ds_cntcInstt.rowposition;
	var insttId = this.ds_cntcInstt.getColumn(nRow, "INSTT_ID");
	var sFilter = "";
	if(insttId != "" && insttId != null && insttId != undefined){
	    sFilter = "INSTT_ID=='" + insttId +"'";
	    var fRow = this.ds_cntcSvc.findRowExpr(sFilter);
	    fRow += this.ds_cntcSys.findRowExpr(sFilter);
	    if(fRow > -1){
	        if(this.gfn_message("confirm.자식데이터.삭제여부", "선택한 기관", "연계시스템과 연계메시지")){
	            this.fn_deleteDsRows(this.ds_cntcSvc, "INSTT_ID", insttId);
	            this.fn_deleteDsRows(this.ds_cntcSys, "INSTT_ID", insttId);
	            this.ds_cntcInstt.deleteRow(nRow);	
	        }
	    } else {
	            this.ds_cntcInstt.deleteRow(nRow);
	    }
	} else {
	    this.ds_cntcInstt.deleteRow(nRow);
	}
}
 /*
 * 함수명  	: div_work_btn_addRow00_onclick
 * 설명 		: 행추가 버튼 이벤트 처리(행추가)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.div_work_btn_addRow_onclick();
 */
this.div_work_btn_addRow00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_cntcSys.addRow();
	this.ds_cntcSys.setColumn(nRow, "INSTT_ID", this.div_work.edt_cntcInsttId.value);
	this.ds_cntcSys.setColumn(nRow,"USE_AT", "1");
	
}
 /*
 * 함수명  	: div_work_btn_delRow00_onclick
 * 설명 		: 행삭제 버튼 이벤트 처리(행삭제)
 * params  		: Non
 * return Type 	: None
 * 사용법		: this.div_work_btn_delRow00_onclick();
 */
this.div_work_btn_delRow00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_cntcSys.rowposition;
	var insttId = this.ds_cntcSys.getColumn(nRow, "INSTT_ID");
	var sysId = this.ds_cntcSys.getColumn(nRow, "SYS_ID");
	var sFilter = "";
	if(insttId != "" && insttId != null && insttId != undefined){
	    sFilter = "INSTT_ID=='" + insttId +"' && SYS_ID=='" + sysId + "'";
	    var fRow = this.ds_cntcSys.findRowExpr(sFilter);
	    if(fRow > -1){
	        if(this.gfn_message("confirm.자식데이터.삭제여부", "선택한 기관의 연계시스템", "연계메시지")){
	            this.fn_deleteDs_cntcSvcRows(insttId, sysId);
	            this.ds_cntcSys.deleteRow(nRow);	
	        }
	    } else {
	        if(this.gfn_message("confirm.삭제여부")){
	            this.ds_cntcSys.deleteRow(nRow);
	        }
	    }
	} else {
	    this.ds_cntcSys.deleteRow(nRow);
	}
}

/*
 * 함수명  	: div_work_btn_addRow2_onclick
 * 설명 		: 신규 버튼 이벤트 처리(행추가)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_btn_addRow2_onclick();
 */
this.div_work_btn_addRow01_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	 var nRow = this.ds_cntcSvc.addRow();
	 this.ds_cntcSvc.setColumn(nRow, "INSTT_ID", this.div_work.edt_cntcInsttId.value);
	 this.ds_cntcSvc.setColumn(nRow, "INSTT_NM", this.div_work.edt_cntcInsttNm.value);
	 this.ds_cntcSvc.setColumn(nRow, "SYS_ID", this.div_work.edt_cntcSysId.value);
	 this.ds_cntcSvc.setColumn(nRow, "SYS_NM", this.div_work.edt_cntcSysNm.value);
	 this.ds_cntcSvc.setColumn(nRow,"USE_AT", "1");
}
/*
 * 함수명  	: div_work_btn_delRow2_onclick
 * 설명 		: 삭제 버튼 이벤트 처리(행삭제)
 * params  		: None
 * return Type 	: None
 * 사용법		: this.div_work_btn_delRow2_onclick();
 */
this.div_work_btn_delRow01_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
    if(this.gfn_message("confirm.삭제여부")){
	        var nRow = this.ds_cntcSvc.rowposition;
	        this.ds_cntcSvc.deleteRow(nRow);
	}
}

/***********************************************************************
* 사용자 정의 함수
************************************************************************/

/*
 * 함수명  	: fn_deleteDsRows
 * 설명 		: 해당 기관에 등록된 시스템과 연계메시지 행들을 모두 삭제한다
 * params  		: ds 데이터셋
 *                colId 컬럼ID
 *                colVal 컬럼 값
 * return Type 	: None
 * 사용법		: this.fn_deleteDsRows(ds, colId, colVal);
 */
this.fn_deleteDsRows = function(ds, colId, colVal){
    var cnt = ds.getRowCount();
    for(var i=cnt-1; i> -1;i--){
        if(colVal == ds.getColumn(i, colId)){
            ds.deleteRow(i);
        }
    }
}

/*
 * 함수명  	: fn_deleteDs_cntcSvcRows
 * 설명 		: 해당 기관의 시스템에 등록된 연계메시지 행들을 모두 삭제한다
 * params  		: colVal1 컬럼 값
 *                colVal2 컬럼 값
 * return Type 	: None
 * 사용법		: this.fn_deleteDs_cntcSvcRows(colVal1, colVal2);
 */
this.fn_deleteDs_cntcSvcRows = function(colVal1, colVal2){
    var cnt = this.ds_cntcSvc.getRowCount();
    for(var i=cnt-1; i> -1;i--){
        if(colVal1 == this.ds_cntcSvc.getColumn(i, "INSTT_ID") && colVal2 == this.ds_cntcSvc.getColumn(i, "SYS_ID")){
            this.ds_cntcSvc.deleteRow(i);
        }
    }
}

this.fn_insert = function(){
    // 조건에 사용되는 Dataset 초기화
	this.gfn_initCondDs(this, this.div_search);
	
	if(this.ds_cond00.rowcount == 0) this.ds_cond00.addRow();
	this.ds_cntcInstt.clearData();
	this.ds_cntcSys.clearData();
	this.ds_cntcSvc.clearData();
}

this.div_work_btn_popup00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.ds_cntcMssage.clearData();
	if(this.ds_cntcMssage.rowcount == 0) this.ds_cntcMssage.addRow();
	
	
// 	this.ds_cntcMssage.setColumn(0, "CNTC_MSSAGE_ID", this.div_work.edt_requstMssageId.value);
//  	this.ds_cntcMssage.setColumn(0, "CNTC_MSSAGE_NM", this.div_work.edt_requstMssageNm.value);
    this.fn_popup_CntcMssage();
}


this.div_work_btn_popup01_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
 	this.ds_cntcMssage.clearData();
	if(this.ds_cntcMssage.rowcount == 0) this.ds_cntcMssage.addRow();
//  	this.ds_cntcMssage.setColumn(0, "CNTC_MSSAGE_ID", this.div_work.edt_rspnsMssageId.value);
//  	this.ds_cntcMssage.setColumn(0, "CNTC_MSSAGE_NM", this.div_work.edt_rspnsMssageNm.value);
    this.fn_popup_CntcMssage2();
}

/*
 * 함수명  	: fn_popup_CntcMssage
 * 설명 		: 연계메시지 팝업창을 팝업한다.
 * params  		: 
 * return Type 	: None
 * 사용법		: this.fn_popup_CntcMssage();
 */ 
this.fn_popup_CntcMssage = function(){
    

    var param = {
		arg_0 : this,  
		arg_1 : this.ds_cntcMssage
	};
	
	this.gfn_popup("popup_CntcMssage", 710, 580, "연계메시지 현황", param, "com_sym_scm::SYM070300_P01.xfdl", "fn_CntcMssage_callback");

}
/*
 * 함수명  	: fn_InnerSactionPopup_callback
 * 설명 		: 내부결재 팝업창이 닫혀질 때의 콜백
 * params  		: id 팝업창 ID
                  rtn 반환 데이터셋 문자열
 * return Type 	: None
 * 사용법		: this.fn_InnerSactionPopup_callback();
 */
this.fn_CntcMssage_callback = function (id, rtn){
    this.ds_cntcMssage.loadXML(rtn);
    if(this.ds_cntcMssage.rowcount > 0){
        this.div_work.edt_requstMssageId.set_value(this.ds_cntcMssage.getColumn(0, "CNTC_MSSAGE_ID"));
 	    this.div_work.edt_requstMssageNm.set_value(this.ds_cntcMssage.getColumn(0, "CNTC_MSSAGE_NM"));
    }
}

/*
 * 함수명  	: fn_popup_CntcMssage
 * 설명 		: 연계메시지 팝업창을 팝업한다.
 * params  		: 
 * return Type 	: None
 * 사용법		: this.fn_popup_CntcMssage();
 */ 
this.fn_popup_CntcMssage2 = function(){
    

    var param = {
		arg_0 : this,  
		arg_1 : this.ds_cntcMssage
	};
	
	this.gfn_popup("popup_CntcMssage2", 710, 580, "연계메시지 현황", param, "com_sym_scm::SYM070300_P01.xfdl", "fn_CntcMssage2_callback");

}
/*
 * 함수명  	: fn_InnerSactionPopup_callback
 * 설명 		: 내부결재 팝업창이 닫혀질 때의 콜백
 * params  		: id 팝업창 ID
                  rtn 반환 데이터셋 문자열
 * return Type 	: None
 * 사용법		: this.fn_InnerSactionPopup_callback();
 */
this.fn_CntcMssage2_callback = function (id, rtn){
    this.ds_cntcMssage.loadXML(rtn);
    if(this.ds_cntcMssage.rowcount > 0){
        this.div_work.edt_rspnsMssageId.set_value(this.ds_cntcMssage.getColumn(0, "CNTC_MSSAGE_ID"));
 	    this.div_work.edt_rspnsMssageNm.set_value(this.ds_cntcMssage.getColumn(0, "CNTC_MSSAGE_NM"));
    }
    
}


]]></Script>
  </Form>
</FDL>
