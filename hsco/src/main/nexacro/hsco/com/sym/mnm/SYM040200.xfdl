<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="form" classname="pageMgmt" inheritanceid="" position="absolute" titletext="메뉴등록관리" oninit="form_oninit" onload="form_onload" onbeforeclose="form_onbeforeclose" left="0" width="1039" top="0" height="799">
    <Layouts>
      <Layout>
        <Div id="div_search" taborder="27" left="0" top="0" height="33" cssclass="div_WFSA_Box" right="28">
          <Layouts>
            <Layout width="1020" height="41">
              <Static id="sta_search00" taborder="72" text="시스템코드" left="15" top="6" width="80" height="22" cssclass="sta_WFSA_Label"/>
              <Combo id="cmb_menuLevel0" taborder="73" innerdataset="ds_menu00" codecolumn="MENU_ID" datacolumn="MENU_NM" onitemchanged="div_work_cmb_menuLevel0_onitemchanged" top="6" width="93" height="22" left="291"/>
              <Combo id="cmb_menuLevel1" taborder="74" innerdataset="ds_menu01" codecolumn="MENU_ID" datacolumn="MENU_NM" onitemchanged="div_work_cmb_menuLevel1_onitemchanged" top="6" width="131" height="22" left="386"/>
              <Static id="sta_search01" taborder="76" text="메뉴" cssclass="sta_WFSA_Label" left="247" top="6" width="41" height="22"/>
              <Combo id="cmb_menuLevel2" taborder="77" innerdataset="@ds_menu02" codecolumn="MENU_ID" datacolumn="MENU_NM" onitemchanged="div_work_cmb_menuLevel2_onitemchanged" left="520" top="6" width="131" height="22"/>
            </Layout>
          </Layouts>
        </Div>
        <Combo id="cmb_sysSeCode" taborder="30" innerdataset="@DS_SYS_SE_CODE" codecolumn="CODE" datacolumn="CODE_NM" onitemchanged="div_search_cmb_area_onitemchanged" left="100" top="6" width="123" height="21" next="cmb_gubun01" displaynulltext="- 전체 -"/>
        <Div id="div_work" taborder="93" left="0" top="43" right="28" style="border:0 none #808080ff ;" bottom="22">
          <Layouts>
            <Layout width="1039" height="759">
              <Static id="st_searchCondition" taborder="35" text="화면목록" cssclass="sta_WF_Title02" left="384" top="349" width="70" height="21" domainId="nexa.s_condition"/>
              <Combo id="cmb_searchCondition" taborder="36" codecolumn="codecolumn" datacolumn="datacolumn" left="459" top="349" width="89" height="20" domainId="nexa.name;nexa.code" index="0" text="명칭" value="0">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">0</Col>
                      <Col id="datacolumn">화면명</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">화면ID</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Edit id="edt_searchKeyword" taborder="37" onkeyup="edt_searchKeyword_onkeyup" left="550" top="349" width="220" height="20"/>
              <Button id="btn_search00" taborder="38" text="화면조회" onclick="fn_pageSearch" cssclass="btn_WF_Process" top="349" right="71" width="66" height="21" domainId="nexa.search"/>
              <Button id="btn_find" taborder="40" onclick="div_grid_bottom_btn_find_onclick" cssclass="btn_WF_find" top="-94" right="117" width="36" height="16"/>
              <Static id="Static15" taborder="100" cssclass="sta_WF_Labelbg" left="460" top="182" right="0" height="27"/>
              <Button id="btn_format" taborder="41" onclick="div_grid_bottom00_btn_format_onclick" cssclass="btn_WF_format" top="-94" right="156" width="34" height="16" _format="this.grd_page"/>
              <Button id="btn_excel00" taborder="42" cssclass="btn_WF_xls" top="-94" right="79" width="35" height="16" _excel="this.grd_page"/>
              <Static id="st_Title" taborder="43" text="메뉴목록" wordwrap="english" cssclass="sta_WF_Title02" left="0" top="0" width="150" height="21" domainId="nexa.menu.list"/>
              <Button id="btn_Insert" taborder="44" text="추가" onclick="btn_Insert_onclick" cssclass="btn_WF_Process" top="0" right="86" width="40" height="21" domainId="nexa.add"/>
              <Static id="Static04" taborder="96" cssclass="sta_WF_Labelbg" left="460" top="78" right="0" height="27"/>
              <Static id="Static05" taborder="97" cssclass="sta_WF_Labelbg" left="460" top="104" right="0" height="27"/>
              <Button id="btn_Save" taborder="46" text="저장" onclick="btn_Save_onclick" cssclass="btn_WF_Process" top="0" right="0" width="40" height="21" domainId="nexa.save"/>
              <Combo id="cmb_Level" taborder="47" value="1" text="하위레벨" codecolumn="codecolumn" datacolumn="datacolumn" index="0" onitemchanged="cmb_Level_onitemchanged" top="0" right="134" width="162" height="21" domainId="nexa.level.down;nexa.level.same;nexa.level.up">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">하위레벨</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2</Col>
                      <Col id="datacolumn">등위레벨</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Static id="Static06" taborder="98" cssclass="sta_WF_Labelbg" left="460" top="130" right="0" height="27"/>
              <Static id="Static10" taborder="99" cssclass="sta_WF_Labelbg" left="460" top="156" right="0" height="27"/>
              <Static id="Static21" taborder="103" cssclass="sta_WF_Labelbg" left="460" top="208" right="0" height="79"/>
              <Button id="btn_Cancel" taborder="49" text="취소" onclick="btn_Cancel_onclick" cssclass="btn_WF_Process" top="0" right="43" width="40" height="21" domainId="nexa.cancel"/>
              <CheckBox id="CheckBox02" taborder="51" text="사용" value="1" truevalue="1" falsevalue="0" left="792" top="186" width="90" height="21" cssclass="chk_WF_Essential"/>
              <Combo id="Combo01" taborder="52" innerdataset="@DS_STTUS" codecolumn="CODE" datacolumn="CODE_NM" left="482" top="185" width="125" height="21"/>
              <Combo id="Combo02" taborder="53" innerdataset="@DS_OPTP" codecolumn="CODE" datacolumn="CODE_NM" left="482" top="159" width="125" height="21"/>
              <Combo id="Combo04" taborder="55" innerdataset="@DS_SYS_SE_CODE" codecolumn="CODE" datacolumn="CODE_NM" left="482" top="107" width="169" height="21"/>
              <Static id="Static23" taborder="104" cssclass="sta_WF_Labelbg" left="460" top="286" right="0" height="27"/>
              <Static id="Static24" taborder="105" cssclass="sta_WF_Labelbg" left="460" top="312" right="0" height="27"/>
              <Static id="Static08" taborder="94" cssclass="sta_WF_Labelbg" left="460" top="26" right="0" height="27"/>
              <Static id="Static02" taborder="95" cssclass="sta_WF_Labelbg" left="460" top="52" right="0" height="27"/>
              <Edit id="Edit08" taborder="57" left="482" top="289" width="132" height="21" cssclass="edt_WF_Readonly" enable="false" readonly="true"/>
              <Edit id="Edit09" taborder="58" left="788" top="289" width="172" height="21" cssclass="edt_WF_Readonly" enable="false" readonly="true"/>
              <Edit id="Edit11" taborder="59" left="482" top="315" width="132" height="21" cssclass="edt_WF_Readonly" enable="false" readonly="true"/>
              <Edit id="Edit12" taborder="60" left="788" top="315" width="172" height="21" cssclass="edt_WF_Readonly" enable="false" readonly="true"/>
              <Edit id="edt_upmenuID" taborder="61" left="482" top="55" width="169" height="21"/>
              <Edit id="edt_upmenuNM" taborder="62" left="788" top="55" width="164" height="21" readonly="true"/>
              <Edit id="Edit18" taborder="63" left="482" top="133" width="91" height="21" oneditclick="div_work_Edit18_oneditclick" maxlength="3"/>
              <Edit id="edt_Args" taborder="64" left="788" top="159" width="164" height="21" readonly="true"/>
              <Edit id="edt_ID" taborder="65" canchange="edt_ID_canchange" cssclass="edt_WF_Essential" left="482" top="29" width="169" height="21" maxlength="10" inputtype="number"/>
              <Edit id="edt_Name" taborder="66" cssclass="edt_WF_Essential" left="788" top="29" width="164" height="21"/>
              <Edit id="edt_pageID" taborder="67" left="482" top="81" width="169" height="21" onchanged="div_work_edt_pageID_onchanged" readonly="true"/>
              <Edit id="edt_pageName" taborder="68" left="788" top="81" width="164" height="21" readonly="true"/>
              <Edit id="edt_URL" taborder="69" left="788" top="133" width="164" height="21" readonly="true"/>
              <Static id="Static00" taborder="70" text="시스템구분" cssclass="sta_WF_Label" left="380" top="104" width="100" height="27"/>
              <Static id="Static03" taborder="72" text="URL" cssclass="sta_WF_Label" left="686" top="130" width="100" height="27"/>
              <Static id="Static07" taborder="73" text="메뉴정보" cssclass="sta_WF_Title02" left="380" top="0" width="150" height="21"/>
              <Static id="Static09" taborder="74" text="사용여부" cssclass="sta_WF_Label" left="686" top="182" width="100" height="27"/>
              <Static id="Static13" taborder="76" text="메뉴상태" cssclass="sta_WF_Label" left="380" top="182" width="100" height="27"/>
              <Static id="Static14" taborder="77" text="메뉴설명" cssclass="sta_WF_Label" left="380" top="208" width="100" height="79"/>
              <Static id="Static16" taborder="78" text="등록자ID" cssclass="sta_WF_Label" left="380" top="286" width="100" height="27"/>
              <Static id="Static17" taborder="79" text="등록일시" cssclass="sta_WF_Label" left="686" top="286" width="100" height="27"/>
              <Static id="Static20" taborder="80" text="수정자ID" cssclass="sta_WF_Label" left="380" top="312" width="100" height="27"/>
              <Static id="Static22" taborder="81" text="수정일시" cssclass="sta_WF_Label" left="686" top="312" width="100" height="27"/>
              <Static id="Static46" taborder="82" text="상위메뉴ID" cssclass="sta_WF_Label" left="380" top="52" width="100" height="27"/>
              <Static id="Static47" taborder="83" text="메뉴ID" cssclass="sta_WF_Label" left="380" top="26" width="100" height="27"/>
              <Static id="Static48" taborder="84" text="화면ID" cssclass="sta_WF_Label" left="380" top="78" width="100" height="27"/>
              <Static id="Static52" taborder="85" text="상위메뉴명" cssclass="sta_WF_Label" left="686" top="52" width="100" height="27"/>
              <Static id="Static66" taborder="86" text="메뉴명" cssclass="sta_WF_Label" left="686" top="26" width="100" height="27"/>
              <Static id="Static70" taborder="87" text="화면명" cssclass="sta_WF_Label" left="686" top="78" width="100" height="27"/>
              <Static id="Static74" taborder="88" text="메뉴오픈방식" cssclass="sta_WF_Label" left="380" top="156" width="100" height="27"/>
              <Static id="Static77" taborder="89" text="메뉴순서" cssclass="sta_WF_Label" left="380" top="130" width="100" height="27"/>
              <Static id="Static78" taborder="90" text="메뉴파라미터" cssclass="sta_WF_Label" left="686" top="156" width="100" height="27"/>
              <TextArea id="TextArea00" taborder="91" left="482" top="211" width="478" height="73"/>
              <Static id="Static01" taborder="92" text="업무구분" cssclass="sta_WF_Label" left="686" top="104" width="100" height="27"/>
              <Button id="Button00" taborder="106" onclick="div_work_Button00_onclick" cssclass="btn_WF_Gridexceldn" left="345" top="1" width="25" height="19"/>
              <Grid id="grd_menu_excel" taborder="107" binddataset="ds_menu_excel" useinputpanel="false" autofittype="col" treeinitstatus="expand,all" treeuseexpandkey="true" left="28" top="611" right="28" bottom="6" visible="false">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="98"/>
                      <Column size="109"/>
                      <Column size="93"/>
                      <Column size="92"/>
                      <Column size="97"/>
                      <Column size="114"/>
                      <Column size="103"/>
                      <Column size="90"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="대분류"/>
                      <Cell col="1" text="중분류"/>
                      <Cell col="2" text="소분류(1)"/>
                      <Cell col="3" text="소분류(2)"/>
                      <Cell col="4" text="소분류(3)"/>
                      <Cell col="5" text="메뉴명"/>
                      <Cell col="6" text="메뉴ID"/>
                      <Cell col="7" text="시스템구분"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="text" text="bind:MENU_PATH1"/>
                      <Cell col="1" text="bind:MENU_PATH2"/>
                      <Cell col="2" text="bind:MENU_PATH3"/>
                      <Cell col="3" text="bind:MENU_PATH4"/>
                      <Cell col="4" text="bind:MENU_PATH5"/>
                      <Cell col="5" text="bind:MENU_NM"/>
                      <Cell col="6" text="bind:MENU_ID"/>
                      <Cell col="7" text="bind:SYS_SE_CODE"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Grid id="grd_menu" taborder="108" binddataset="DS_MENU" useinputpanel="false" autofittype="col" treeinitstatus="expand,all" treeuseexpandkey="true" left="0" top="26" bottom="0" width="370">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="368"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell cssclass="Cellgrd_WF_HeadEssential" text="메뉴명"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="tree" edittype="tree" text="bind:MENU_NM" treestartlevel="1" treelevel="bind:MENU_LVL" treecheck="bind:CHK"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Grid id="grd_page" taborder="109" binddataset="DS_PAGE" scrollpixel="default" readonly="true" useinputpanel="false" cellsizingtype="col" treeuseline="false" treeusecheckbox="false" treeinitstatus="collapse,all" oncelldblclick="grd_page_oncelldblclick" left="380" top="375" right="0" bottom="0" domainId="nexa.page.id;nexa.page.name;nexa.page.type;nexa.page.linkage;nexa.page.url">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="102"/>
                      <Column size="206"/>
                      <Column size="200"/>
                      <Column size="197"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="화면아이디"/>
                      <Cell col="1" text="화면명"/>
                      <Cell col="2" text="화면경로"/>
                      <Cell col="3" text="설명"/>
                    </Band>
                    <Band id="body">
                      <Cell edittype="text" text="bind:PAGE_ID"/>
                      <Cell col="1" style="align:left middle;" text="bind:PAGE_NM"/>
                      <Cell col="2" style="align:left middle;" text="bind:PAGE_URL"/>
                      <Cell col="3" style="align:left;" text="bind:PAGE_DC" wordwrap="true"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Button id="btn_setPage" taborder="110" text="화면추가" cssclass="btn_WF_Process" top="349" right="0" width="66" height="21" domainId="nexa.search" onclick="div_work_btn_setPage_onclick"/>
              <Combo id="Combo00" taborder="111" innerdataset="@DS_JOB_SE_CODE" codecolumn="CODE" datacolumn="CODE_NM" left="789" top="107" width="163" height="21"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="DS_OPTP" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="string" size="10"/>
          <Column id="CODE_NM" type="string" size="20"/>
          <Column id="ALL_CODE_NM" type="bigdecimal" size="38"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">FORM</Col>
            <Col id="CODE_NM">일반화면</Col>
            <Col id="ALL_CODE_NM">1</Col>
          </Row>
          <Row>
            <Col id="CODE">LINK</Col>
            <Col id="CODE_NM">웹페이지</Col>
            <Col id="ALL_CODE_NM">2</Col>
          </Row>
          <Row>
            <Col id="CODE">EXEC</Col>
            <Col id="CODE_NM">외부연동</Col>
            <Col id="ALL_CODE_NM">3</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="DS_TY" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="string" size="10"/>
          <Column id="CODE_NM" type="string" size="20"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_MENU_KEY" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="MENU_LVL" type="INT" size="256"/>
          <Column id="MENU_ID" type="STRING" size="256"/>
          <Column id="UPPER_MENU_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_MENU_VAL" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="_chk" type="STRING" size="256"/>
          <Column id="MENU_ID" type="STRING" size="12"/>
          <Column id="SYS_SE_CODE" type="STRING" size="6"/>
          <Column id="MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_LVL" type="INT" size="10"/>
          <Column id="MENU_GRP" type="STRING" size="10"/>
          <Column id="UPPER_MENU" type="STRING" size="12"/>
          <Column id="MENU_ORDR" type="INT" size="10"/>
          <Column id="MENU_OPTP" type="STRING" size="10"/>
          <Column id="MENU_ARGS" type="STRING" size="50"/>
          <Column id="MENU_STTUS" type="STRING" size="10"/>
          <Column id="MENU_DESC" type="STRING" size="100"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="8"/>
          <Column id="PAGE_ID" type="STRING" size="20"/>
          <Column id="PAGE_NM" type="STRING" size="100"/>
          <Column id="PAGE_URL" type="STRING" size="200"/>
          <Column id="PAGE_TYPE" type="STRING" size="10"/>
          <Column id="PAGE_EXTP" type="STRING" size="10"/>
          <Column id="JOB_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_PAGE" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Page_onrowposchanged" cancolumnchange="ds_Page_cancolumnchange">
        <ColumnInfo>
          <Column id="_chk" type="string" size="256"/>
          <Column id="PAGE_ID" type="STRING" size="40"/>
          <Column id="PAGE_NM" type="STRING" size="100"/>
          <Column id="PAGE_URL" type="STRING" size="200"/>
          <Column id="PAGE_TY" type="STRING" size="6"/>
          <Column id="PAGE_EXTP" type="STRING" size="6"/>
          <Column id="PAGE_DC" type="STRING" size="4000"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="8"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_MENU" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="MENU_ID" type="STRING" size="12"/>
          <Column id="SYS_SE_CODE" type="STRING" size="6"/>
          <Column id="MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="MENU_GRP" type="STRING" size="10"/>
          <Column id="UPPER_MENU" type="STRING" size="12"/>
          <Column id="MENU_ORDR" type="INT" size="3"/>
          <Column id="MENU_LVL_MAX" type="INT" size="3"/>
          <Column id="MENU_OPTP" type="STRING" size="10"/>
          <Column id="MENU_PARAMTR" type="STRING" size="50"/>
          <Column id="MENU_STTUS" type="STRING" size="10"/>
          <Column id="MENU_DC" type="STRING" size="100"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="8"/>
          <Column id="PAGE_ID" type="STRING" size="20"/>
          <Column id="PAGE_NM" type="STRING" size="100"/>
          <Column id="PAGE_URL" type="STRING" size="200"/>
          <Column id="PAGE_TYPE" type="STRING" size="10"/>
          <Column id="PAGE_EXTP" type="STRING" size="10"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="UPPER_MENU_NM" type="STRING" size="256"/>
          <Column id="JOB_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_PAGETY" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="_chk" type="string" size="256"/>
          <Column id="CODE_CD" type="string" size="10"/>
          <Column id="CODE_NM" type="string" size="20"/>
          <Column id="CODE_SEQ" type="bigdecimal" size="38"/>
          <Column id="GROUP_CD" type="string" size="10"/>
          <Column id="USE_FG" type="string" size="1"/>
          <Column id="CREATE_USER" type="string" size="12"/>
          <Column id="CREATE_DT" type="undefined" size="0"/>
          <Column id="UPDATE_USER" type="string" size="12"/>
          <Column id="UPDATE_DT" type="undefined" size="0"/>
          <Column id="CODE_GBN" type="string" size="12"/>
          <Column id="CODE_DESC" type="string" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_STTUS" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="string" size="10"/>
          <Column id="CODE_NM" type="string" size="20"/>
          <Column id="ALL_CODE_NM" type="STRING" size="38"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_SEARCH" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <ConstColumn id="pageIndex" type="INT" size="30" value="1"/>
          <ConstColumn id="pageSize" type="INT" size="30" value="5"/>
          <ConstColumn id="pageUnit" type="INT" size="30" value="5"/>
          <Column id="SEARCH_CONDITION" type="STRING" size="100"/>
          <Column id="SEARCH_KEYWORD" type="STRING" size="100"/>
          <Column id="SEARCH_URL" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="SEARCH_KEYWORD"/>
            <Col id="SEARCH_CONDITION">0</Col>
            <Col id="SEARCH_URL">SYM040200.xfdl</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="DS_MENU_GRP" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="MENU_ID" type="STRING" size="256"/>
          <Column id="ADD_AUTH" type="STRING" size="256"/>
          <Column id="EDIT_AUTH" type="STRING" size="256"/>
          <Column id="DEL_AUTH" type="STRING" size="256"/>
          <Column id="AUTH_GRP_ID" type="STRING" size="256"/>
          <Column id="PRINT_AUTH" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_MENU_BK" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="_chk" type="STRING" size="256"/>
          <Column id="MENU_ID" type="STRING" size="10"/>
          <Column id="SYS_SE_CODE" type="STRING" size="6"/>
          <Column id="MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_LVL" type="STRING" size="10"/>
          <Column id="MENU_GRP" type="STRING" size="10"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
          <Column id="MENU_ORDR" type="INT" size="10"/>
          <Column id="MENU_OPTP" type="STRING" size="10"/>
          <Column id="MENU_ARGS" type="STRING" size="50"/>
          <Column id="MENU_STTUS" type="STRING" size="10"/>
          <Column id="MENU_DESC" type="STRING" size="100"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="8"/>
          <Column id="PAGE_ID" type="STRING" size="20"/>
          <Column id="PAGE_NM" type="STRING" size="100"/>
          <Column id="PAGE_URL" type="STRING" size="200"/>
          <Column id="PAGE_TYPE" type="STRING" size="10"/>
          <Column id="PAGE_EXTP" type="STRING" size="10"/>
        </ColumnInfo>
        <Column id="_chk" type="STRING" size="256"/>
        <Column id="MENU_ID" type="INT" size="10"/>
        <Column id="SYS_SE_CODE" type="STRING" size="6"/>
        <Column id="MENU_NM" type="STRING" size="50"/>
        <Column id="MENU_LVL" type="INT" size="10"/>
        <Column id="MENU_GRP" type="STRING" size="10"/>
        <Column id="UPPER_MENU" type="INT" size="10"/>
        <Column id="MENU_ORDR" type="INT" size="10"/>
        <Column id="MENU_ORDR_MAX" type="INT" size="10"/>
        <Column id="MENU_OPTP" type="STRING" size="10"/>
        <Column id="MENU_ARGS" type="STRING" size="50"/>
        <Column id="MENU_STTUS" type="STRING" size="10"/>
        <Column id="MENU_DESC" type="STRING" size="100"/>
        <Column id="REGISTER_ID" type="STRING" size="12"/>
        <Column id="REGIST_DT" type="DATE" size="8"/>
        <Column id="UPDUSR_ID" type="STRING" size="12"/>
        <Column id="UPDT_DT" type="DATE" size="8"/>
        <Column id="PAGE_ID" type="STRING" size="20"/>
        <Column id="PAGE_NM" type="STRING" size="100"/>
        <Column id="PAGE_URL" type="STRING" size="200"/>
        <Column id="PAGE_TYPE" type="STRING" size="10"/>
        <Column id="PAGE_EXTP" type="STRING" size="10"/>
      </Dataset>
      <Dataset id="DS_PAGE_BK" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Page_onrowposchanged" cancolumnchange="ds_Page_cancolumnchange">
        <ColumnInfo>
          <Column id="_chk" type="string" size="256"/>
          <Column id="PAGE_ID" type="STRING" size="40"/>
          <Column id="PAGE_NM" type="STRING" size="100"/>
          <Column id="PAGE_URL" type="STRING" size="200"/>
          <Column id="PAGE_TY" type="STRING" size="6"/>
          <Column id="PAGE_EXTP" type="STRING" size="6"/>
          <Column id="PAGE_DC" type="STRING" size="4000"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="DATE" size="8"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="DATE" size="8"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_SYS_SE_CODE" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
          <Column id="JOB_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_PAGE_CHEK" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PAGE_ID" type="STRING" size="256"/>
          <Column id="CNT" type="INT" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_menu01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="MENU_ID" type="STRING" size="10"/>
          <Column id="MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_menu00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="MENU_ID" type="STRING" size="10"/>
          <Column id="MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_menu02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="MENU_ID" type="STRING" size="10"/>
          <Column id="MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchMenu00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
          <Column id="JOB_SE_CODE" type="STRING" size="256"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="MENU_LVL">0</Col>
            <Col id="UPPER_MENU">0</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_searchMenu01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="JOB_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchMenu02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_Menu_onrowposchanged" cancolumnchange="ds_Menu_cancolumnchange">
        <ColumnInfo>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="JOB_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_menu_excel" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="UPPER_MENU" type="STRING" size="10"/>
          <Column id="UPPER_MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_LVL" type="INT" size="3"/>
          <Column id="MENU_ID" type="STRING" size="10"/>
          <Column id="MENU_NM" type="STRING" size="50"/>
          <Column id="MENU_ORDR" type="INT" size="3"/>
          <Column id="MAIN_GB" type="STRING" size="50"/>
          <Column id="LAST_GB_NM" type="STRING" size="50"/>
          <Column id="USE_STTUS" type="STRING" size="10"/>
          <Column id="MENU_PATH" type="STRING" size="256"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="MENU_PATH1" type="STRING" size="256"/>
          <Column id="MENU_PATH2" type="STRING" size="256"/>
          <Column id="MENU_PATH3" type="STRING" size="256"/>
          <Column id="MENU_PATH4" type="STRING" size="256"/>
          <Column id="MENU_PATH5" type="STRING" size="256"/>
          <Column id="JOB_SE_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_menu_rst">
        <ColumnInfo>
          <Column id="MENU_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="DS_JOB_SE_CODE" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="ALL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item3" compid="cmb_sysSeCode" propid="value" datasetid="ds_cond" columnid="SYS_SE_CODE"/>
      <BindItem id="item17" compid="div_work.CheckBox02" propid="value" datasetid="DS_MENU" columnid="USE_AT"/>
      <BindItem id="item22" compid="div_work.CheckBox02" propid="truevalue" datasetid="1" columnid=""/>
      <BindItem id="item23" compid="div_work.CheckBox02" propid="falsevalue" datasetid="0" columnid=""/>
      <BindItem id="item32" compid="div_work.Combo01" propid="value" datasetid="DS_MENU" columnid="MENU_STTUS"/>
      <BindItem id="item30" compid="div_work.Combo02" propid="value" datasetid="DS_MENU" columnid="MENU_OPTP"/>
      <BindItem id="item12" compid="div_work.Combo04" propid="value" datasetid="DS_MENU" columnid="SYS_SE_CODE"/>
      <BindItem id="item34" compid="div_work.Edit08" propid="value" datasetid="DS_MENU" columnid="REGISTER_ID"/>
      <BindItem id="item36" compid="div_work.Edit09" propid="value" datasetid="DS_MENU" columnid="REGIST_DT"/>
      <BindItem id="item35" compid="div_work.Edit11" propid="value" datasetid="DS_MENU" columnid="UPDUSR_ID"/>
      <BindItem id="item37" compid="div_work.Edit12" propid="value" datasetid="DS_MENU" columnid="UPDT_DT"/>
      <BindItem id="item10" compid="div_work.edt_upmenuID" propid="value" datasetid="DS_MENU" columnid="UPPER_MENU"/>
      <BindItem id="item26" compid="div_work.edt_upmenuNM" propid="value" datasetid="DS_MENU" columnid="UPPER_MENU_NM"/>
      <BindItem id="item29" compid="div_work.Edit18" propid="value" datasetid="DS_MENU" columnid="MENU_ORDR"/>
      <BindItem id="item31" compid="div_work.edt_Args" propid="value" datasetid="DS_MENU" columnid="MENU_PARAMTR"/>
      <BindItem id="item9" compid="div_work.edt_ID" propid="value" datasetid="DS_MENU" columnid="MENU_ID"/>
      <BindItem id="item18" compid="div_work.edt_Name" propid="value" datasetid="DS_MENU" columnid="MENU_NM"/>
      <BindItem id="item11" compid="div_work.edt_pageID" propid="value" datasetid="DS_MENU" columnid="PAGE_ID"/>
      <BindItem id="item27" compid="div_work.edt_pageName" propid="value" datasetid="DS_MENU" columnid="PAGE_NM"/>
      <BindItem id="item38" compid="div_work.edt_URL" propid="value" datasetid="DS_MENU" columnid="PAGE_URL"/>
      <BindItem id="item33" compid="div_work.TextArea00" propid="value" datasetid="DS_MENU" columnid="MENU_DC"/>
      <BindItem id="item39" compid="div_work.cmb_searchCondition" propid="value" datasetid="DS_SEARCH" columnid="SEARCH_CONDITION"/>
      <BindItem id="item40" compid="div_work.edt_searchKeyword" propid="value" datasetid="DS_SEARCH" columnid="SEARCH_KEYWORD"/>
      <BindItem id="item0" compid="div_search.cmb_menuLevel0" propid="value" datasetid="ds_searchMenu00" columnid="UPPER_MENU"/>
      <BindItem id="item1" compid="div_search.cmb_menuLevel1" propid="value" datasetid="ds_searchMenu01" columnid="UPPER_MENU"/>
      <BindItem id="item2" compid="div_search.cmb_menuLevel2" propid="value" datasetid="ds_searchMenu02" columnid="UPPER_MENU"/>
      <BindItem id="item4" compid="div_work.Combo00" propid="value" datasetid="DS_MENU" columnid="JOB_SE_CODE"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 01. 업무구분 : 업무메뉴 메뉴등록 관리
 * 02. 메뉴명   : MenuMgmt.xfdl
 * 03. 메뉴설명 :
 * 04. 작성일   :
 * 05. 작성자   :
 * 06. 수정이력 :
 ***********************************************************************
 *     수정일     작성자   내용
 ***********************************************************************
 * 
 ***********************************************************************
 */

/***********************************************************************
 * Script Include 
 ************************************************************************/
include "lib::comInclude.xjs";

/***********************************************************************
 * 메뉴 변수 선언부
 ************************************************************************/
 this.strMenuId ="";
 
/***********************************************************************
 * Form Function
 ************************************************************************/
//사용자 정의 폼 로드 함수(form_init 고정)
this.form_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init_form();		// Form 초기화
	
}

// Form Load 시 공통 기능 처리
this.form_onload = function (obj:Form, e:LoadEventInfo)
{	
	this.fn_initCombo();
}

/*
 * 함수명  	: fn_init_form
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */
this.fn_init_form = function()
{
	this.gfn_initForm(this);	// 시스템 공통으로 Form을 Initialize 한다.
}

this.fn_initCombo = function (strDs, obj)
{
      /*
      params  		: 1. param_1    : 반환받을 DATASET 명 			(예: ds_comCode00)
                        2. param_2	: 그룹코드						(예 : COM007)
                        3. param_3	: 사용여부		    			(예 : 1(사용), ""(사용안함))
                        4. param_4	: 콤보박스INDEX(0) 표시		(예 : "전체", "선택", " "(공백), ""(첫번째데이터부터시작) )
      */
	var comboParams = [
			["DS_SYS_SE_CODE","COM024", "1", "전체" ],
			["DS_JOB_SE_CODE","COM025", "1", "전체" ],
			["DS_OPTP","COM017", "1", "" ],
			["DS_STTUS","COM019", "1", "" ]
		];

	this.gfn_comboLoad(comboParams, this.fn_callbackAfter);
	this.fn_loadComboNonCodeTbl();
}

/*
       * 함수명  	: fn_loadComboNonCodeTbl
       * 설명 		: 화면의 Combo 에 데이터를 불러온다.
       * params  		: strDs - Data를 담아올 dataset 명
       *                obj - Click된 Combo Component
       *                ※ 위 Argument가 사용되면 함수는 해당되는 건만 찾아서 데이터를 가져온다.
       *                   전체 Combo의 데이터를 가져오려고 한다면, 생략하면 된다. 예 : this.fn_loadComboNonCodeTbl();
       * return Type 	: None
       * 사용법		: this.fn_loadComboNonCodeTbl();
       */
this.fn_loadComboNonCodeTbl = function (strDs, obj)
{
      /*
      params  		: 1. param_1    : 반환받을 DATASET 명 			(예 : ds_comCode00)
                        2. param_2	: 조건 Dataset	명				(예 : "ds_condCombo00")
                        3. param_3	: 사용여부		    			(예 : 1(사용), ""(사용안함))
                        4. param_4	: 콤보박스INDEX(0) 표시		(예 : "전체", "선택", " "(공백), ""(첫번째데이터부터시작) )
                        5. param_5	: Service URL (Controller)
                        6. param_6	: Combo Level (Combo 간 계층구조가 있을 경우, 해당 레벨을 표시한다.)
      */
        //if(this.ds_searchMenu.rowcount == 0) this.ds_searchMenu.addRow();
        //this.ds_searchMenu.setColumn(0, "USE_AT", "1");
      	var comboParams = [
      			["ds_menu00", "ds_searchMenu00", "1", "전체", "hsco/cmm/cmmCode/cmmMenuList.do", 0]
      		];
      
      	this.gfn_comboLoadNonCodeTbl(comboParams, this.fn_callbackAfter, strDs, obj);
}

this.fn_loadComboNonCodeTbl1 = function (strDs, obj)
{
      /*
      params  		: 1. param_1    : 반환받을 DATASET 명 			(예 : ds_comCode00)
                        2. param_2	: 조건 Dataset	명				(예 : "ds_condCombo00")
                        3. param_3	: 사용여부		    			(예 : 1(사용), ""(사용안함))
                        4. param_4	: 콤보박스INDEX(0) 표시		(예 : "전체", "선택", " "(공백), ""(첫번째데이터부터시작) )
                        5. param_5	: Service URL (Controller)
                        6. param_6	: Combo Level (Combo 간 계층구조가 있을 경우, 해당 레벨을 표시한다.)
      */
        //if(this.ds_searchMenu.rowcount == 0) this.ds_searchMenu.addRow();
        //this.ds_searchMenu.setColumn(0, "USE_AT", "1");
      	var comboParams = [
      			["ds_menu01", "ds_searchMenu01", "1", "전체", "hsco/cmm/cmmCode/cmmMenuList.do", 1]
      		];
      
      	this.gfn_comboLoadNonCodeTbl(comboParams, this.fn_callbackAfter, strDs, obj);
}

this.fn_loadComboNonCodeTbl2 = function (strDs, obj)
{
      /*
      params  		: 1. param_1    : 반환받을 DATASET 명 			(예 : ds_comCode00)
                        2. param_2	: 조건 Dataset	명				(예 : "ds_condCombo00")
                        3. param_3	: 사용여부		    			(예 : 1(사용), ""(사용안함))
                        4. param_4	: 콤보박스INDEX(0) 표시		(예 : "전체", "선택", " "(공백), ""(첫번째데이터부터시작) )
                        5. param_5	: Service URL (Controller)
                        6. param_6	: Combo Level (Combo 간 계층구조가 있을 경우, 해당 레벨을 표시한다.)
      */
        //if(this.ds_searchMenu.rowcount == 0) this.ds_searchMenu.addRow();
        //this.ds_searchMenu.setColumn(0, "USE_AT", "1");
      	var comboParams = [
      			["ds_menu02", "ds_searchMenu02", "1", "전체", "hsco/cmm/cmmCode/cmmMenuList.do", 1]
      		];
      	this.gfn_comboLoadNonCodeTbl(comboParams, this.fn_callbackAfter, strDs, obj);
}

/***********************************************************************************
* Transaction Function
***********************************************************************************/

//목록조회 Search
this.fn_search = function()
{
	this.DS_MENU.clearData();
	
	var sSvcID        	= "SYM040200List";                    
    var sController   	= "hsco/com/sym/mnm/SYM040200/SYM040200List.do";

	var sInDatasets   	= "input1=ds_cond";
	var sOutDatasets  	= "DS_MENU=output1 ds_menu_excel=output2";
	
	var sArgs = "";		
	
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs); 
}


this.fn_pageSearch = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.DS_PAGE.clearData();
	
	var sSvcID        	= "SYM040100List";                    
    var sController   	= "hsco/com/sym/mnm/SYM040100/SYM040100List.do";
    
	var sInDatasets   	= "input1=DS_SEARCH";
	var sOutDatasets  	= "DS_PAGE=output1";
	
	var sArgs = "";		
	
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs); 
}


// 저장처리
this.fn_save = function ()
{

	if(this.fn_validChk(this.DS_MENU,"메뉴ID=MENU_ID,메뉴명=MENU_NM")) return; // 유효성체크
	
	// 유효성 검사 후 이상 없는 경우 Grid 내의 모든 변경 내용 저장

	var sSvcID        	= "save";                    
    var sController   	= "hsco/com/sym/mnm/SYM040200/SYM040200CUD.do";

    var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs = "";	
	
	sInDatasets   	= "input1=DS_MENU:U";
	sOutDatasets  	= "";
	/*
	sArgs += Ex.util.setParam("method","save"); 
	sArgs += Ex.util.setParam("sqlId","modyfyMenuTree");	// Map형태
	sArgs += Ex.util.setParam("forceSqlFlag","N");
    */
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, "fn_callBack");
}

/***********************************************************************************
* CallBack Event (strSvcId - Sevice ID, nErrorCode - ErrorCode, strErrorMsg - Error Message)
***********************************************************************************/
/* callBack함수 */
/*
 * 함수명  	: fn_callbackAfter
 * 설명 		: combo에 대한 callback 함수 이후에 처리되어야 할 코딩 기술
 * params  		: svcId - Transaction Service ID.
 *				  ※ 반드시, 데이터를 담아 올 dataset명(예 : "ds_comCode03")을 사용해야 한다.
 * return Type 	: None
 * 사용법		: this.fn_init_dataset();
 * ※ 함수의 특성상, comboParams의 개수만큼 호출되므로, svcId로 분기하여 처리해야 한다.
 */
this.fn_callbackAfter = function (svcId)
{
	switch (svcId) {
		case "ds_sysSeCode":
			break;
	}
}

this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{ 
	if (nErrorCode < 0) 
	{
		this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
		return ;
	}
	
	switch (strSvcId) {
		case "save":
			this.gfn_message("success.처리.성공"); 
			this.gfn_callBackMsg(strSvcId, nErrorCode, strErrorMsg);
			this.fn_search();
			break;
	    case "pageChk":
	          if(this.ds_PAGE_CHEK.getColumn(0, "CNT") < 1){
	        
	            this.DS_MENU.setColumn(this.DS_MENU.rowposition,"PAGE_ID","");
	            this.div_work.edt_pageID.setFocus();
	            
	            this.gfn_message("info.항목.사용불가","화면아이디");
	            
	            return ;
	            
	          }else{
	            return ;
	          }
			break;
	}
	
	
}


this.fn_validChk = function(ds,chkStr)
{
  var chkItem = chkStr.split(","); 
  var rtnMsg = "";
  var rtnval = false;
  var bindList = this.binds;
  var obj;

  for(var i = 0; i < ds.getRowCount() ; i++){
	  if(ds.getRowType(i) == 2 || ds.getRowType(i) == 4){
	     for(var j = 0 ; j < chkItem.length ; j++)
	     {
	         var colinfo = chkItem[j].split("="); 
	         /*
	         for(var x = 0 ; x < bindList.length ; x++)
	         {
	           if(bindList[x].datasetid == ds.id && bindList[x].columnid == colinfo[1])
	           {
	              obj = eval("this." + bindList[x].compid);

	              break;
	           }
	         } 
	         
	         if(obj instanceof nexacro.Edit) alert("이컴포넌트는 edit 이다);
	        
	         */
	         
	         
	         if(ds.getColumn(i,colinfo[1]) == null || ds.getColumn(i,colinfo[1]) == "")
	         {
	            rtnMsg = rtnMsg + "[" + colinfo[0] + "]";
	         }
	     }
	     if(rtnMsg != ""){
            alert(rtnMsg + " 은(는) 필수입력사항입니다.");
            rtnval = true;
            break;
         }   
	  }
  }  
  return rtnval;
 
}
/***********************************************************************************
* Component Event
***********************************************************************************/

// 메뉴 추가 버튼 클릭시 이벤트 처리
this.btn_Insert_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_insert();
	
	
	/*
	var nRowMenu = this.DS_MENU.rowposition;
	var strUpperMenuID = this.DS_MENU.getColumn(nRowMenu -1, "UPPER_MENU");
	var strUpperMenuLvl = this.DS_MENU.getColumn(nRowMenu -1, "MENU_LVL");
	var strSysSeCode = this.DS_MENU.getColumn(nRowMenu -1, "SYS_SE_CODE");
	var strSMenuGrp = this.DS_MENU.getColumn(nRowMenu -1, "MENU_GRP");
	
	this.DS_MENU.setColumn(nRowMenu, "UPPER_MENU", strUpperMenuID);
	this.DS_MENU.setColumn(nRowMenu, "MENU_LVL", strUpperMenuLvl + 1);
	this.DS_MENU.setColumn(nRowMenu, "SYS_SE_CODE", strSysSeCode);
	this.DS_MENU.setColumn(nRowMenu, "MENU_GRP", strSMenuGrp);
	*/
}

// 메뉴 삭제 버튼 클릭시 이벤트 처리
this.btn_Delete_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_delete();
}


// 메뉴 취소 버튼 클릭시 이벤트 처리
this.btn_Cancel_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_Cancel();
	
}

// 추가
this.fn_insert = function ()
{
	var nCurRowMenu = this.DS_MENU.rowposition;
	var nCurRowPage = this.DS_PAGE.rowposition;
	var nRowMenu = this.DS_MENU.insertRow(nCurRowMenu + 1);
	
	this.DS_MENU.setColumn(nRowMenu, "MENU_OPTP", "MAIN");
	this.DS_MENU.setColumn(nRowMenu, "MENU_STTUS", "VIEW");
			
	if (nCurRowMenu == -1) 
	{
		return;
	}
	
	var menu_lvl = this.DS_MENU.getColumn(nCurRowMenu, "MENU_LVL");
	if( menu_lvl == null || typeof menu_lvl == "undefined") {
		menu_lvl = -1;
	}
	
	switch (this.div_work.cmb_Level.value) 
	{
		case "1":	// 하위레벨
			this.DS_MENU.setColumn(nRowMenu, "MENU_LVL", Number(menu_lvl) + 1);	
			break;
		case "2":	// 등위레벨
			this.DS_MENU.setColumn(nRowMenu, "MENU_LVL", menu_lvl);
			break;
		default:
			break;
	}

	var nUpperRow = this.div_work.grd_menu.getTreeParentRow(nRowMenu, true);
	
	var nTopRow = this.fn_getTopRow(nRowMenu);
	
	if (nTopRow > -1) 
	{
		if(this.DS_MENU.getColumn(nRowMenu, "MENU_LVL") == 0)
		{
			this.DS_MENU.setColumn(nRowMenu, "MENU_GRP", this.DS_MENU_GRP.getColumn(nRowMenu, "MENU_ID"));
			this.DS_MENU.setColumn(nRowMenu, "MENU_ORDR", 1);
			this.DS_MENU.setColumn(nRowMenu, "UPPER_MENU", 0);
			this.DS_MENU.setColumn(nRowMenu, "UPPER_MENU_NM", "ROOT");
		}
		else {
			this.DS_MENU.setColumn(nRowMenu, "MENU_GRP", this.DS_MENU.getColumn(nTopRow, "MENU_ID"));
			this.DS_MENU.setColumn(nRowMenu, "MENU_ORDR", this.DS_MENU.getColumn(nCurRowMenu,"MENU_ORDR") + 1);
			
			this.DS_MENU.setColumn(nRowMenu, "UPPER_MENU", this.DS_MENU.getColumn(nUpperRow, "MENU_ID"));
			this.DS_MENU.setColumn(nRowMenu, "UPPER_MENU_NM", this.DS_MENU.getColumn(nUpperRow, "MENU_NM"));
			this.DS_MENU.setColumn(nRowMenu, "SYS_SE_CODE", this.DS_MENU.getColumn(nUpperRow, "SYS_SE_CODE"));
			this.DS_MENU.setColumn(nRowMenu, "JOB_SE_CODE", this.DS_MENU.getColumn(nUpperRow, "JOB_SE_CODE"));
		}
		
		
		if( this.DS_MENU.getColumn(nRowMenu, "MENU_LVL") > 4 )
		{
			this.gfn_message("info.항목.초과.입력불가", "메뉴|4레벨");
			var nRowMenu = this.DS_MENU.rowposition;
			this.DS_MENU.deleteRow(nRowMenu);
			return ;
		}

		this.fn_menuKey(this.DS_MENU.getColumn(nRowMenu, "MENU_LVL"),this.DS_MENU.getColumn(nRowMenu, "UPPER_MENU"));
		
		if(this.ds_menu_rst.getRowCount() > 0){
			var menuid = this.ds_menu_rst.getColumn(0,"MENU_ID");
			this.DS_MENU.setColumn(nRowMenu, "MENU_ID", menuid);
		}

	}
}

this.fn_getTopRow = function(rowIndex)
{

	var menu_lvl = this.DS_MENU.getColumn(rowIndex, "MENU_LVL");
	
	if( menu_lvl == null || menu_lvl == "undefined" || menu_lvl <= 1 )
		return rowIndex;
		
	var nRow = this.div_work.grd_menu.getTreeParentRow(rowIndex, true);
	
	if(nRow < 0 ) {
		return nRow;
	}
		
	return this.fn_getTopRow(nRow);
}


this.fn_filterGtroup = function()
{
	this.DS_MENU_GRP.filter("AUTH_GRP_ID=='"+application.gv_userAuth+"'");
}

// 메뉴 삭제
this.fn_delete = function ()
{
 
	//this.gfn_delMultiRow(this.DS_MENU);
		
	var nRowMenu = this.DS_MENU.rowposition;
	this.DS_MENU.deleteRow(nRowMenu);

}
this.fn_deleteGroup = function()
{
	var nRowMenu = this.DS_MENU.rowposition;
	
	var strGroup = this.DS_MENU.getColumn(nRowMenu, "MENU_ID");
	trace(strGroup);
	for (var i = 0; i < this.DS_MENU_GRP.rowcount; i++)
	{
		if (this.DS_MENU_GRP.getColumn(i, "MENU_ID") == strGroup)
		{
			this.DS_MENU_GRP.deleteRow(i);
			break;
		}
	}
}
this.fn_Cancel = function()
{
	if (this.DS_MENU.rowposition < 0) 
	{
		return;
	}

	this.DS_MENU.reset();
}


this.fn_insertGroup = function()
{
	
}

this.fn_pageIdChk = function(postVal)
{
    this.ds_PAGE_CHEK.clearData();
    this.ds_PAGE_CHEK.addRow();
    this.ds_PAGE_CHEK.setColumn(0, "PAGE_ID", postVal);
    
    var sSvcID        	= "pageChk";                    
    var sController   	= "hsco/com/sym/mnm/SYM040200/SYM040200PageIdChk.do";
    
	var sInDatasets   	= "input1=ds_PAGE_CHEK";
	var sOutDatasets  	= "ds_PAGE_CHEK=output1";
	
	var sArgs = "";		
	
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs); 
}

// 검색시 Enter 키 이벤트 처리
this.edt_searchKeyword_onkeyup = function(obj:Edit, e:nexacro.KeyEventInfo)
{
	if ( e.keycode == 13)
	{
		this.fn_search();
	}
}
this.btn_Save_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_save();	
}

this.fn_menuKey = function(nMenuLvl,nUpperMenuID)
{
    var sSvcID        	= "MenuKey";                    
    var sController   	= "hsco/com/sym/mnm/SYM040200/SYM040200MenuKey.do";

    this.DS_MENU_KEY.clearData();
    this.ds_menu_rst.clearData();
    
    this.DS_MENU_KEY.addRow();
    this.DS_MENU_KEY.setColumn(0, "MENU_LVL", nMenuLvl);
    this.DS_MENU_KEY.setColumn(0, "UPPER_MENU_ID", nUpperMenuID);
    
    
	var sInDatasets   	= "input1=DS_MENU_KEY";
	var sOutDatasets  	= "ds_menu_rst=output1";
	var sArgs = "";		
	
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, null, null, false); 	

	
}	 

this.fn_setPage = function()
{
	var nRowPage = this.DS_PAGE.rowposition;
	
	
	this.div_work.edt_pageID.set_value(this.DS_PAGE.getColumn(nRowPage, "PAGE_ID"));
	this.div_work.edt_pageName.set_value(this.DS_PAGE.getColumn(nRowPage, "PAGE_NM"));
	this.div_work.edt_URL.set_value(this.DS_PAGE.getColumn(nRowPage, "PAGE_URL"));
	this.div_work.edt_Args.set_value(this.DS_PAGE.getColumn(nRowPage, "PAGE_URL").split("::")[0]);
}

/***********************************************************************************
* User Function
***********************************************************************************/

//팝업 후처리 작업
this.fn_popupAfter = function(sPopupId,val)
{

}

//페이징 후처리 작업
this.fn_pageAfter = function(sObjId,nViewPage)
{

}

this.edt_ID_canchange = function(obj:Edit,  e:nexacro.ChangeEventInfo)
{
	this.strMenuId = obj.value;
	var nRowMenuGroup = this.DS_MENU_GRP.addRow();
	var strGroup = this.strMenuId;
	this.DS_MENU_GRP.setColumn(nRowMenuGroup, "MENU_ID", strGroup);
	this.DS_MENU_GRP.setColumn(nRowMenuGroup, "ADD_AUTH", 1);
	this.DS_MENU_GRP.setColumn(nRowMenuGroup, "EDIT_AUTH", 1);
	this.DS_MENU_GRP.setColumn(nRowMenuGroup, "DEL_AUTH", 1);
	this.DS_MENU_GRP.setColumn(nRowMenuGroup, "AUTH_GRP_ID", application.gv_userAuth);
	this.DS_MENU_GRP.setColumn(nRowMenuGroup, "PRINT_AUTH", 1);
}

this.grd_page_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	this.fn_setPage();
}


// 화면아이디 존재여부

this.div_work_edt_pageID_onchanged = function(obj:Edit, e:nexacro.ChangeEventInfo)
{
  this.fn_pageIdChk(e.postvalue);
}

 

this.div_work_Button00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	//this.gfn_exportExcel(this.div_work.grd_menu_excel, encodeURI("메뉴목록"));
	this.gfn_exportExcel(this.div_work.grd_menu_excel);
}

this.div_work_cmb_menuLevel0_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	this.ds_menu02.clearData();
	this.ds_menu01.clearData();
	if(this.ds_searchMenu01.getRowCount() == 0)
	    this.ds_searchMenu01.addRow();
	var sysSeCode = this.ds_cond.getColumn(0, "SYS_SE_CODE");
	var jobSeCode = this.ds_cond.getColumn(0, "JOB_SE_CODE");
	this.ds_searchMenu01.setColumn(0, "SYS_SE_CODE", sysSeCode);
	this.ds_searchMenu01.setColumn(0, "JOB_SE_CODE", jobSeCode);
	this.ds_searchMenu01.setColumn(0 , "MENU_LVL", 1);
	this.ds_searchMenu01.setColumn(0, "UPPER_MENU", obj.value);
	if(this.ds_cond.getRowCount() == 0)
	    this.ds_cond.addRow();
    this.ds_cond.setColumn(0, "UPPER_MENU", obj.value);
	this.fn_loadComboNonCodeTbl1();
	
}

this.div_work_cmb_menuLevel1_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
    this.ds_menu02.clearData();
    if(this.ds_searchMenu02.getRowCount() == 0)
	    this.ds_searchMenu02.addRow();
	var sysSeCode = this.ds_cond.getColumn(0, "SYS_SE_CODE");
	var jobSeCdoe = this.ds_cond.getColumn(0, "JOB_SE_CODE");
	
	this.ds_searchMenu02.setColumn(0, "SYS_SE_CODE", sysSeCode);
	this.ds_searchMenu02.setColumn(0, "JOB_SE_CODE", jobSeCode);
	this.ds_searchMenu02.setColumn(0 , "MENU_LVL", 2);
	this.ds_searchMenu02.setColumn(0, "UPPER_MENU", obj.value);
	
	if(this.ds_cond.getRowCount() == 0)
	    this.ds_cond.addRow();
    this.ds_cond.setColumn(0, "UPPER_MENU", obj.value);
    
    this.fn_loadComboNonCodeTbl2();
}



this.div_search_cmb_area_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
    this.ds_searchMenu00.setColumn(0, "UPPER_MENU", 0);
	this.ds_searchMenu00.setColumn(0, "CODE_LVL_0", 0);
	this.ds_searchMenu00.setColumn(0, "SYS_SE_CODE", obj.value);
	this.ds_menu02.clearData();
	this.ds_menu01.clearData();
    
    this.fn_loadComboNonCodeTbl();
}



this.div_work_cmb_menuLevel2_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
//	if(this.ds_cond.getRowCount() == 0)
//	    this.ds_cond.addRow();
	    
	var sysSeCode = this.ds_cond.getColumn(0, "SYS_SE_CODE");
	this.ds_searchMenu02.setColumn(0, "SYS_SE_CODE", sysSeCode);
	this.ds_searchMenu02.setColumn(0 , "MENU_LVL", 2);
	this.ds_searchMenu02.setColumn(0, "UPPER_MENU", obj.value);
	
	if(this.ds_cond.getRowCount() == 0)
	    this.ds_cond.addRow();
    this.ds_cond.setColumn(0, "UPPER_MENU", obj.value);    
 //   this.ds_cond.setColumn(0, "UPPER_MENU", obj.value);
}

this.div_work_btn_setPage_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_setPage();
}

this.ds_Menu_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	 if (this.DS_MENU.getRowType(this.DS_MENU.rowposition) == Dataset.ROWTYPE_INSERT){	
		this.div_work.edt_upmenuID.set_readonly("false");
  		this.div_work.edt_upmenuNM.set_readonly("false");
		this.div_work.edt_menuID.set_readonly("false");
	}
	else{ 	
  	  	this.div_work.edt_upmenuID.set_readonly("true");
  	  	this.div_work.edt_upmenuNM.set_readonly("true");
 	  	this.div_work.edt_menuID.set_readonly("true");
	}
}
]]></Script>
  </Form>
</FDL>
