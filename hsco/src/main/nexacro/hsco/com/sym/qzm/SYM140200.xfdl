<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="SYM140200" classname="SYM140200" left="0" top="0" width="1059" height="735" titletext="퀴즈참여" oninit="SYM140200_oninit" onload="SYM140200_onload">
    <Layouts>
      <Layout>
        <Div id="div_search" taborder="0" left="0" top="0" height="33" cssclass="div_WFSA_Box" right="28">
          <Layouts>
            <Layout>
              <Static id="Static51" taborder="5" text="5" visible="false" left="0" top="0" right="0" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static00" taborder="6" text="5" visible="false" left="0" right="0" style="background:#dc143c3c;align:center middle;" height="5" bottom="0"/>
              <Static id="Static06" taborder="7" text="15" visible="false" left="165" top="0" bottom="0" width="15" style="background:#00ffff66;"/>
              <Static id="sta_qustnrManageSn" taborder="9" text="설문목록" cssclass="sta_WFSA_Label" left="180" top="5" width="64" height="21"/>
              <Div id="div_EMP" taborder="2" url="com::empno.xfdl" left="625" top="5" width="180" height="21" async="false" enable="false"/>
              <Static id="Static01" taborder="11" text="15" visible="false" left="544" top="0" bottom="0" width="15" style="background:#00ffff66;"/>
              <Static id="sta_empno" taborder="12" text="사원번호" cssclass="sta_WFSA_Label" left="559" top="5" width="64" height="21"/>
              <Combo id="cmb_qustnrList" taborder="1" left="244" top="5" width="300" height="21" codecolumn="QUSTNR_MANAGE_SN" datacolumn="SJ" innerdataset="@ds_qustnrSjList" cssclass="cmb_WF_Essential"/>
              <Static id="Static02" taborder="14" text="15" visible="false" left="0" top="0" bottom="0" width="15" style="background:#00ffff66;"/>
              <Static id="sta_ym" taborder="15" text="설문년월" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Div id="div_ym" taborder="0" url="common::frmMonCal.xfdl" left="79" top="5" width="85" height="21" text="201801" async="false"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static01" taborder="2" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Static id="Static00" taborder="3" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static61" taborder="23" text="10" visible="false" left="0" top="33" width="1032" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_empmnLastResult00" taborder="24" cssclass="sta_WF_Title02" left="0" top="43" height="19" style="align:left middle;" text="설문정보" right="28"/>
        <Div id="div_back" taborder="1" left="0" top="67" bottom="0" right="28">
          <Layouts>
            <Layout width="1029" height="250"/>
          </Layouts>
        </Div>
        <Static id="Static03" taborder="57" text="10" visible="false" left="0" top="62" height="5" style="background:#dc143c3c;align:center middle;" right="28"/>
        <Div id="div_comp" taborder="60" text="Div00" left="1078" top="79" width="1029" height="175" style="background:white;border:1 solid #808080ff ;" visible="false">
          <Layouts>
            <Layout width="1029" height="118">
              <Static id="sta_answer" taborder="19" text="1" cssclass="sta_WF_Labelbg" top="-1" right="0" width="28" height="27" style="align:center;"/>
              <Radio id="rdo_answer" taborder="21" codecolumn="codecolumn" datacolumn="datacolumn" left="30" top="50" height="60" index="-1" right="120">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">1. 그럴 수 있다.</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2</Col>
                      <Col id="datacolumn">2. 그럴 수 없다.</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Radio>
              <Static id="sta_answerBox" taborder="22" text="정답" cssclass="sta_WF_Label" top="-1" right="27" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
              <ImageViewer id="img_OX" taborder="25" left="921" top="33" width="66" height="66" style="border:0 solid #bdbdbdff ;" image="URL('image::ico_O.png')" stretch="fixaspectratio"/>
              <Static id="sta_exprBox" taborder="26" text="해설내용" cssclass="sta_WF_Label" left="9" top="115" width="100" height="47" style="align:center middle;font:9 Dotum;"/>
              <Div id="div_comp" taborder="28" text="Div00" left="1078" top="135" width="1029" height="145" style="background:white;border:1 solid #808080ff ;" visible="false">
                <Layouts>
                  <Layout width="1029" height="118">
                    <Static id="sta_answer" taborder="28" text="1" cssclass="sta_WF_Labelbg" top="-1" right="0" width="28" height="27" style="align:center;"/>
                    <Static id="sta_question" taborder="29" text="1. 직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="11" top="7" width="880" height="40"/>
                    <Radio id="rdo_answer" taborder="30" codecolumn="codecolumn" datacolumn="datacolumn" left="12" top="50" width="879" height="50">
                      <Dataset id="innerdataset">
                        <ColumnInfo>
                          <Column id="codecolumn" size="256"/>
                          <Column id="datacolumn" size="256"/>
                        </ColumnInfo>
                        <Rows>
                          <Row>
                            <Col id="codecolumn">1</Col>
                            <Col id="datacolumn">1. 그럴 수 있다.</Col>
                          </Row>
                          <Row>
                            <Col id="codecolumn">2</Col>
                            <Col id="datacolumn">2. 그럴 수 없다.</Col>
                          </Row>
                        </Rows>
                      </Dataset>
                    </Radio>
                    <Static id="sta_answerBox" taborder="31" text="정답" cssclass="sta_WF_Label" top="-1" right="27" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <ImageViewer id="img_OX" taborder="32" image="URL('image::ico_O.png')" stretch="fixaspectratio" left="921" top="33" width="66" height="66" style="border:0 solid #bdbdbdff ;"/>
                    <Static id="sta_exprBox" taborder="33" text="해설내용" cssclass="sta_WF_Label" left="9" top="107" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <Static id="sta_exprCn" taborder="34" text="해설내용 테스트 입니다." cssclass="sta_WF_Labelbg" left="106" top="107" right="9" height="27" style="background:antiquewhite;"/>
                  </Layout>
                </Layouts>
              </Div>
              <Div id="div_comp00" taborder="29" text="Div00" left="1078" top="103" width="1029" height="145" style="background:white;border:1 solid #808080ff ;" visible="false">
                <Layouts>
                  <Layout width="1029" height="118">
                    <Static id="sta_answer" taborder="29" text="1" cssclass="sta_WF_Labelbg" top="-1" right="0" width="28" height="27" style="align:center;"/>
                    <Static id="sta_question" taborder="30" text="1. 직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="11" top="7" width="880" height="40"/>
                    <Radio id="rdo_answer" taborder="31" codecolumn="codecolumn" datacolumn="datacolumn" left="12" top="50" width="879" height="50">
                      <Dataset id="innerdataset">
                        <ColumnInfo>
                          <Column id="codecolumn" size="256"/>
                          <Column id="datacolumn" size="256"/>
                        </ColumnInfo>
                        <Rows>
                          <Row>
                            <Col id="codecolumn">1</Col>
                            <Col id="datacolumn">1. 그럴 수 있다.</Col>
                          </Row>
                          <Row>
                            <Col id="codecolumn">2</Col>
                            <Col id="datacolumn">2. 그럴 수 없다.</Col>
                          </Row>
                        </Rows>
                      </Dataset>
                    </Radio>
                    <Static id="sta_answerBox" taborder="32" text="정답" cssclass="sta_WF_Label" top="-1" right="27" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <ImageViewer id="img_OX" taborder="33" image="URL('image::ico_O.png')" stretch="fixaspectratio" left="921" top="33" width="66" height="66" style="border:0 solid #bdbdbdff ;"/>
                    <Static id="sta_exprBox" taborder="34" text="해설내용" cssclass="sta_WF_Label" left="9" top="107" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <Static id="sta_exprCn" taborder="35" text="해설내용 테스트 입니다." cssclass="sta_WF_Labelbg" left="106" top="107" right="9" height="27" style="background:antiquewhite;"/>
                    <Div id="div_comp" taborder="36" text="Div00" left="1078" top="135" width="1029" height="145" style="background:white;border:1 solid #808080ff ;" visible="false">
                      <Layouts>
                        <Layout width="1029" height="118">
                          <Static id="sta_answer" taborder="35" text="1" cssclass="sta_WF_Labelbg" top="-1" right="0" width="28" height="27" style="align:center;"/>
                          <Static id="sta_question" taborder="36" text="1. 직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="11" top="7" width="880" height="40"/>
                          <Radio id="rdo_answer" taborder="37" codecolumn="codecolumn" datacolumn="datacolumn" left="12" top="50" width="879" height="50">
                            <Dataset id="innerdataset">
                              <ColumnInfo>
                                <Column id="codecolumn" size="256"/>
                                <Column id="datacolumn" size="256"/>
                              </ColumnInfo>
                              <Rows>
                                <Row>
                                  <Col id="codecolumn">1</Col>
                                  <Col id="datacolumn">1. 그럴 수 있다.</Col>
                                </Row>
                                <Row>
                                  <Col id="codecolumn">2</Col>
                                  <Col id="datacolumn">2. 그럴 수 없다.</Col>
                                </Row>
                              </Rows>
                            </Dataset>
                          </Radio>
                          <Static id="sta_answerBox" taborder="38" text="정답" cssclass="sta_WF_Label" top="-1" right="27" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                          <ImageViewer id="img_OX" taborder="39" image="URL('image::ico_O.png')" stretch="fixaspectratio" left="921" top="33" width="66" height="66" style="border:0 solid #bdbdbdff ;"/>
                          <Static id="sta_exprBox" taborder="40" text="해설내용" cssclass="sta_WF_Label" left="9" top="107" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                          <Static id="sta_exprCn" taborder="41" text="해설내용 테스트 입니다." cssclass="sta_WF_Labelbg" left="106" top="107" right="9" height="27" style="background:antiquewhite;"/>
                        </Layout>
                      </Layouts>
                    </Div>
                  </Layout>
                </Layouts>
              </Div>
              <TextArea id="txt_exprCn" taborder="30" left="108" top="115" height="47" style="background:antiquewhite;" readonly="true" right="10" wordwrap="char"/>
              <Static id="sta_question" taborder="31" text="직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="30" top="15" right="141" height="40" style="align:left top;"/>
              <Static id="sta_no" taborder="32" text="1." left="15" top="15" width="19" height="21" style="align:left top;"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="div_comp2" taborder="61" text="Div00" left="1080" top="284" width="1026" height="124" style="background:white;border:1 solid #808080ff ;" visible="false">
          <Layouts>
            <Layout width="1029" height="118">
              <Static id="sta_question" taborder="39" text="직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요? 직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="30" top="15" right="15" height="40" style="align:left top;"/>
              <Radio id="rdo_answer" taborder="40" codecolumn="codecolumn" datacolumn="datacolumn" onitemclick="div_comp_rdo_answer_onitemclick" left="30" top="50" right="15" height="60">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">1</Col>
                      <Col id="datacolumn">1. 그럴 수 있다.</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2</Col>
                      <Col id="datacolumn">2. 그럴 수 없다.</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Radio>
              <Div id="div_comp" taborder="41" text="Div00" left="1078" top="135" width="1029" height="145" style="background:white;border:1 solid #808080ff ;" visible="false">
                <Layouts>
                  <Layout width="1029" height="118">
                    <Static id="sta_answer" taborder="42" text="1" cssclass="sta_WF_Labelbg" top="-1" right="0" width="28" height="27" style="align:center;"/>
                    <Static id="sta_question" taborder="43" text="1. 직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="11" top="7" width="880" height="40"/>
                    <Radio id="rdo_answer" taborder="44" codecolumn="codecolumn" datacolumn="datacolumn" left="12" top="50" width="879" height="50">
                      <Dataset id="innerdataset">
                        <ColumnInfo>
                          <Column id="codecolumn" size="256"/>
                          <Column id="datacolumn" size="256"/>
                        </ColumnInfo>
                        <Rows>
                          <Row>
                            <Col id="codecolumn">1</Col>
                            <Col id="datacolumn">1. 그럴 수 있다.</Col>
                          </Row>
                          <Row>
                            <Col id="codecolumn">2</Col>
                            <Col id="datacolumn">2. 그럴 수 없다.</Col>
                          </Row>
                        </Rows>
                      </Dataset>
                    </Radio>
                    <Static id="sta_answerBox" taborder="45" text="정답" cssclass="sta_WF_Label" top="-1" right="27" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <ImageViewer id="img_OX" taborder="46" image="URL('image::ico_O.png')" stretch="fixaspectratio" left="921" top="33" width="66" height="66" style="border:0 solid #bdbdbdff ;"/>
                    <Static id="sta_exprBox" taborder="47" text="해설내용" cssclass="sta_WF_Label" left="9" top="107" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <Static id="sta_exprCn" taborder="48" text="해설내용 테스트 입니다." cssclass="sta_WF_Labelbg" left="106" top="107" right="9" height="27" style="background:antiquewhite;"/>
                  </Layout>
                </Layouts>
              </Div>
              <Div id="div_comp00" taborder="42" text="Div00" left="1078" top="103" width="1029" height="145" style="background:white;border:1 solid #808080ff ;" visible="false">
                <Layouts>
                  <Layout width="1029" height="118">
                    <Static id="sta_answer" taborder="45" text="1" cssclass="sta_WF_Labelbg" top="-1" right="0" width="28" height="27" style="align:center;"/>
                    <Static id="sta_question" taborder="46" text="1. 직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="11" top="7" width="880" height="40"/>
                    <Radio id="rdo_answer" taborder="47" codecolumn="codecolumn" datacolumn="datacolumn" left="12" top="50" width="879" height="50">
                      <Dataset id="innerdataset">
                        <ColumnInfo>
                          <Column id="codecolumn" size="256"/>
                          <Column id="datacolumn" size="256"/>
                        </ColumnInfo>
                        <Rows>
                          <Row>
                            <Col id="codecolumn">1</Col>
                            <Col id="datacolumn">1. 그럴 수 있다.</Col>
                          </Row>
                          <Row>
                            <Col id="codecolumn">2</Col>
                            <Col id="datacolumn">2. 그럴 수 없다.</Col>
                          </Row>
                        </Rows>
                      </Dataset>
                    </Radio>
                    <Static id="sta_answerBox" taborder="48" text="정답" cssclass="sta_WF_Label" top="-1" right="27" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <ImageViewer id="img_OX" taborder="49" image="URL('image::ico_O.png')" stretch="fixaspectratio" left="921" top="33" width="66" height="66" style="border:0 solid #bdbdbdff ;"/>
                    <Static id="sta_exprBox" taborder="50" text="해설내용" cssclass="sta_WF_Label" left="9" top="107" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                    <Static id="sta_exprCn" taborder="51" text="해설내용 테스트 입니다." cssclass="sta_WF_Labelbg" left="106" top="107" right="9" height="27" style="background:antiquewhite;"/>
                    <Div id="div_comp" taborder="52" text="Div00" left="1078" top="135" width="1029" height="145" style="background:white;border:1 solid #808080ff ;" visible="false">
                      <Layouts>
                        <Layout width="1029" height="118">
                          <Static id="sta_answer" taborder="49" text="1" cssclass="sta_WF_Labelbg" top="-1" right="0" width="28" height="27" style="align:center;"/>
                          <Static id="sta_question" taborder="50" text="1. 직무관련업체가 사업 수행에 협조해 준 공로를 인정하여 직무 관련 임직원에게 공로패와 더불어 부상으로 금전을 지급하려 합니다. 해당 임직원은 받을 수 있을까요?" wordwrap="char" left="11" top="7" width="880" height="40"/>
                          <Radio id="rdo_answer" taborder="51" codecolumn="codecolumn" datacolumn="datacolumn" left="12" top="50" width="879" height="50">
                            <Dataset id="innerdataset">
                              <ColumnInfo>
                                <Column id="codecolumn" size="256"/>
                                <Column id="datacolumn" size="256"/>
                              </ColumnInfo>
                              <Rows>
                                <Row>
                                  <Col id="codecolumn">1</Col>
                                  <Col id="datacolumn">1. 그럴 수 있다.</Col>
                                </Row>
                                <Row>
                                  <Col id="codecolumn">2</Col>
                                  <Col id="datacolumn">2. 그럴 수 없다.</Col>
                                </Row>
                              </Rows>
                            </Dataset>
                          </Radio>
                          <Static id="sta_answerBox" taborder="52" text="정답" cssclass="sta_WF_Label" top="-1" right="27" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                          <ImageViewer id="img_OX" taborder="53" image="URL('image::ico_O.png')" stretch="fixaspectratio" left="921" top="33" width="66" height="66" style="border:0 solid #bdbdbdff ;"/>
                          <Static id="sta_exprBox" taborder="54" text="해설내용" cssclass="sta_WF_Label" left="9" top="107" width="100" height="27" style="align:center middle;font:9 Dotum;"/>
                          <Static id="sta_exprCn" taborder="55" text="해설내용 테스트 입니다." cssclass="sta_WF_Labelbg" left="106" top="107" right="9" height="27" style="background:antiquewhite;"/>
                        </Layout>
                      </Layouts>
                    </Div>
                  </Layout>
                </Layouts>
              </Div>
              <Static id="sta_no" taborder="43" text="1." left="15" top="15" width="19" height="21" style="align:left top;"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">QUSTNR_MANAGE_SN</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">설문목록</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">QUSTNR_SE</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">설문구분</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">YM</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">설문년월</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">EMPNO</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사원번호</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cond_oncolumnchanged">
        <ColumnInfo>
          <Column id="QUSTNR_SE" type="STRING" size="256"/>
          <Column id="YM" type="STRING" size="256"/>
          <Column id="QUSTNR_MANAGE_SN" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="EMPNM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_qustnrDtlsManageList" oncolumnchanged="ds_qustnrDtlsManageList_oncolumnchanged">
        <ColumnInfo>
          <Column id="QUSTNR_MANAGE_SN" type="STRING" size="256"/>
          <Column id="QUSTNR_SE" type="STRING" size="256"/>
          <Column id="QUSTNR_DTLS_SN" type="STRING" size="256"/>
          <Column id="QUEST_NO" type="STRING" size="256"/>
          <Column id="QUEST_CN" type="STRING" size="256"/>
          <Column id="EXPLNA_CN" type="STRING" size="256"/>
          <Column id="MY_ANSWER" type="STRING" size="256"/>
          <Column id="ANSWER" type="STRING" size="256"/>
          <Column id="CNSR_AT" type="STRING" size="256"/>
          <Column id="EMPNO" type="STRING" size="256"/>
          <Column id="OPEN_AT" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_qustnrSjList" useclientlayout="true">
        <ColumnInfo>
          <Column id="QUSTNR_MANAGE_SN" type="STRING" size="256"/>
          <Column id="QUSTNR_SE" type="STRING" size="256"/>
          <Column id="YM" type="STRING" size="256"/>
          <Column id="SJ" type="STRING" size="256"/>
          <Column id="QUSTNR_DE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_qustnrAswperList" useclientlayout="true">
        <ColumnInfo>
          <Column id="QUSTNR_MANAGE_SN" type="STRING" size="256"/>
          <Column id="QUSTNR_SE" type="STRING" size="256"/>
          <Column id="QUSTNR_DTLS_SN" type="STRING" size="256"/>
          <Column id="QUSTNR_ASWPER_SN" type="STRING" size="256"/>
          <Column id="ASWPER_CN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="div_SearchArea.spn_year" propid="value" datasetid="ds_cond" columnid="APPLC_YEAR"/>
      <BindItem id="item1" compid="div_search.cmb_qustnrList" propid="value" datasetid="ds_cond" columnid="QUSTNR_MANAGE_SN"/>
      <BindItem id="item2" compid="div_comp.rdo_answer" propid="value" datasetid="ds_qustnrDtlsManageList" columnid="ANSWER"/>
      <BindItem id="item3" compid="div_comp00.rdo_answer" propid="value" datasetid="ds_qustnrDtlsManageList" columnid="ANSWER"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID      : SYM140200
 * 화면명      : 퀴즈참여(시스템)
 * 화면설명    : 퀴즈참여 정보를 관리한다.
 * 작성일 		: 2020.06.02
 * 작성자  	: 권재만
 * 수정이력     : AUD040202소스와 동일
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 */
 
 
/***********************************************************************
 * Script Include
 ************************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";

/**********************************************************************
* 화면 변수 선언부
***********************************************************************/
this.saveRow = -1;
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/

this.SYM140200_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{

}

this.SYM140200_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{ 
    this.div_search.div_EMP.fn_setBind("ds_cond", "EMPNO", "EMPNM");
	this.div_search.div_ym.fn_setBind("ds_cond", "YM");
	
    this.fn_init_form();
    this.fn_init_dataset();
}

/**********************************************************************
* Form/Dataset 오브젝트 초기화
***********************************************************************/

/*
 * 함수명      : initForm
 * 설명         : Form을 초기화한다.
 * params          : None
 * return Type     : None
 * 사용법        : this.initForm();
 */
this.fn_init_form = function()
{
	this.gfn_initForm(this);
	this.fn_misFormInit(this);

	this.ds_cond.clearData();
	this.ds_cond.addRow();
	this.ds_cond.setColumn(0, "QUSTNR_SE", "02"); //설문구분(02 : 시스템)
	this.ds_cond.setColumn(0, "YM"              , this.dateUtils.format(this.gfn_today(),"yyyymm"));
	this.ds_cond.setColumn(0, "QUSTNR_MANAGE_SN", "");
	this.ds_cond.setColumn(0, "EMPNO"           , this.fn_getEmpno());
	this.ds_cond.setColumn(0, "EMPNM"           , this.fn_getEmpnm());
	this.ds_cond.setColumn(0, "DEPT_CODE"       , this.gfn_getDeptId());
    
    //  필수
    this.div_search.div_ym.msk_mon.set_cssclass("msk_WF_Essential");

   // 공통코드와 연계된 초기검색조건 설정
   // 수정가능여부를 판별하기위해 권한그룹 체크
    if(this.gfn_authGrpId("AUD_ADMIN") != -1) {			// 감사결재자
       this.chargerAt = true;
    }
 
    // 수정가능한 경우 부서변경 가능
    if(this.chargerAt){
       this.div_search.div_EMP.set_enable(true);
    }

   this.fn_transaction("selectSjList");
}


/*
 * 함수명      : initDataset
 * 설명         : Dataset을 초기화한다
 * params          : None
 * return Type     : None
 * 사용법        : this.initDataset();
 */
this.fn_init_dataset = function()
{
    this.gfn_initCondDs(this, this.div_search);   
}


/**********************************************************************
* Transaction 영역 시작
***********************************************************************
*
* 1. Transaction 관련 이벤트 핸들러
* 2. call Transaction 영역
* 3. callback 영역(Transaction, Popup)
*
***********************************************************************/



/**********************************************************************
* Transaction 관련 이벤트 핸들러
***********************************************************************/

/*
 * 함수명     : fn_search
 * 설명       : 조회 버튼 클릭시 이벤트 발생
 * params        : None
 * return Type    : None
 * 사용법      : this.fn_search();
 */
this.fn_search = function()
{
	// 값 셋팅(바인딩 우선은 ㄴㄴ)
	for(var i=0; i<this.ds_qustnrDtlsManageList.rowcount; i++) {
		var value = eval("this.div_back.div_"+i+".objRadio_"+i+".value");
		var myAnswer = this.ds_qustnrDtlsManageList.getColumn(i, "MY_ANSWER");
		if(myAnswer != value) {
			if(!this.gfn_message("confirm.변경.취소.여부")) {
				return false;
			}
		}   
	}
	
	// dataset 초기화
	this.ds_qustnrDtlsManageList.clearData();

	//validation 체크
	if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond, this.ds_validation)) {
		
		// div_back 초기화
		this.div_back.destroy();
		var div_back = new Div("Div", "absolute", 0, 67, null, null, 28, 0);
		this.addChild("div_back", div_back);
		this.resetScroll();
		div_back.show();
		
		return;
	}

   this.fn_transaction("select");
}


/*
 * 함수명     : fn_save
 * 설명       : 저장 버튼 클릭시 이벤트 발생
 * params        : None
 * return Type    : None
 * 사용법      : this.fn_save();
 */
this.fn_save = function()
{
    // 값 셋팅(바인딩 안함)
   for(var i=0; i<this.ds_qustnrDtlsManageList.rowcount; i++) {
      var value = eval("this.div_back.div_"+i+".objRadio_"+i+".value");
      var myAnswer      = this.ds_qustnrDtlsManageList.getColumn(i, "MY_ANSWER");
      var qustnrSe_cond = this.ds_cond.getColumn(0, "QUSTNR_SE");
      var empno_cond    = this.ds_cond.getColumn(0, "EMPNO");
      var deptCode_cond = this.ds_cond.getColumn(0, "DEPT_CODE");
      
      if(this.comUtils.isNull(value)) {
         this.gfn_message("info.처리불가","퀴즈참여를 모두 진행하신 후, 저장해주시기 바랍니다.");
         return false;
      }

      // 사원번호 셋팅
      var empno = this.ds_qustnrDtlsManageList.getColumn(i, "EMPNO");
      if(this.comUtils.isNull(empno)) {
         this.ds_qustnrDtlsManageList.set_updatecontrol(false);
         this.ds_qustnrDtlsManageList.setColumn(i, "QUSTNR_SE"    , qustnrSe_cond);
         this.ds_qustnrDtlsManageList.setColumn(i, "EMPNO"    , empno_cond);
         this.ds_qustnrDtlsManageList.setColumn(i, "DEPT_CODE", deptCode_cond);
         this.ds_qustnrDtlsManageList.set_updatecontrol(true);
      }
      
      if(myAnswer != value) {
         this.ds_qustnrDtlsManageList.setColumn(i, "MY_ANSWER", value);
      }   
   }
   
   // 데이터셋 미변경 체크
    if (!this.comUtils.isDatasetUpdated(this.ds_qustnrDtlsManageList)) {
        this.gfn_message("comm.데이터.변경.없음")
        return false;
    }
    
    if(this.gfn_message("confirm.저장.여부")) {
      this.fn_transaction("save");  
    }
}


/*
 * 함수명       : fn_insert
 * 설명         : 신규 버튼 클릭시 이벤트 발생
 * params        : None
 * return Type   : None
 * 사용법      : this.fn_insert();
 */
this.fn_insert = function() {

   var ym    = this.ds_cond.getColumn(0, "YM");
   var today = this.dateUtils.format(this.gfn_today(),"yyyymmdd");

   var nRow = this.ds_qustnrDtlsManageList.rowposition;
   this.ds_qustnrDtlsManageList.setColumn(nRow, "YM",        ym);      // 년월
   this.ds_qustnrDtlsManageList.setColumn(nRow, "QUSTNR_DE", today);   // 설문일자
}



/*
 * 함수명     : fn_cancel
 * 설명       : 취소 버튼 클릭시 이벤트 발생
 * params        : None
 * return Type    : None
 * 사용법      : this.fn_cancel();
 */
this.fn_cancel = function() {

     // 데이터셋 변경 체크
    if(Ex.util.isUpdated(this.ds_qustnrDtlsManageList)) {
        if(!this.gfn_message("confirm.변경.취소.여부")) {
            return false;
        }
    }

    if (this.gfn_message("confirm.취소여부")) {
        for(var i=0; i<this.ds_qustnrDtlsManageList.rowcount; i++) {
			var value = this.ds_qustnrDtlsManageList.getColumn(i, "MY_ANSWER");
			eval("this.div_back.div_"+i+".objRadio_"+i+".set_value("+value+")");
        }
    }
}

/**********************************************************************
* call Transaction 영역
***********************************************************************/

/*
 * 함수명      : fn_transaction
 * 설명         : Transaction 요청 처리 함수
 * params          : strSvcId : 서비스요청 ID
 * return Type     : None
 * 사용법        : this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
    switch (strSvcId) {
        //   설문 목록 조회
        case "selectSjList":
         var sController      = "hsco/com/sym/qzm/SYM140100/selectSjList.do";
         var sInDatasets      = "input1=ds_cond";
         var sOutDatasets     = "ds_qustnrSjList=output1";
         break;
        //  목록 조회
        case "select":
         var sController      = "hsco/com/sym/qzm/SYM140200/select.do";
         var sInDatasets      = "input1=ds_cond";
         var sOutDatasets     = "ds_qustnrDtlsManageList=output1 ds_qustnrAswperList=output2";
         break;
        //  설문 저장
        case "save":
		var sController       = "hsco/com/sym/qzm/SYM140200/save.do";
		var sInDatasets       = "input1=ds_qustnrDtlsManageList:U";
		var sOutDatasets      = "";
		break;
    }

    Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets);
}


/**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
 /*
 * 함수명      : fn_callBack
 * 설명         : Transaction Callback 처리
 * params          : strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type     : None
 * 사용법        :
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
    if(nErrorCode != '0') {
        this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
    }

    if (nErrorCode == '0'){
    switch (strSvcId) {
        //  설문 목록 조회
        case "selectSjList":
			 this.div_search.cmb_qustnrList.set_index(0);
			 this.fn_search();
         break;
        //  목록 조회
        case "select":   
			// 1. div_back 초기화
			this.div_back.destroy();
			var div_back = new Div("Div", "absolute", 0, 67, null, null, 28, 0);
		
			 // 데이터셋 로우 크기만큼 div 컴포넌트 삭제/생성
			 var dtlsCnt = this.ds_qustnrDtlsManageList.rowcount;
			  if(dtlsCnt > 0) {
				 var qustnrManageSn = this.ds_cond.getColumn(0, "QUSTNR_MANAGE_SN");         // 설문관리번호
				 var sjRow          = this.ds_qustnrSjList.findRow("QUSTNR_MANAGE_SN", qustnrManageSn);   

				 // 생성
				 for(var i = 0; i < dtlsCnt; i++) {
					// 라디오
					var dtlsSn = this.ds_qustnrDtlsManageList.getColumn(i, "QUSTNR_DTLS_SN");
					
					var ds_radio = new Dataset;
					ds_radio.copyData(this.ds_qustnrAswperList);
					ds_radio.filter("QUSTNR_MANAGE_SN == '"+qustnrManageSn+"' && QUSTNR_DTLS_SN == '"+dtlsSn+"'");
					
					// 동적 생성
					this.fn_addDtls(i, this.ds_qustnrDtlsManageList, ds_radio, div_back);
				 }             
			  }
			// 2. form에 div_back 붙임
			this.addChild("div_back", div_back);
			this.resetScroll();
			div_back.show();
         break;
        //  설문 저장
        case "save":
         this.fn_search();
            break;
          }
    }
}

/**********************************************************************
* Transaction 영역 끝
***********************************************************************/

/**********************************************************************
* non-Transaction 관련 컴포넌트 이벤트 처리 함수
***********************************************************************
*
* 1. Dataset 관련 이벤트 처리
* 2. Button 관련 이벤트 처리
* 3. Grid 관련 이벤트 처리
* 4. 공통함수 처리
* 5. Object 관련 이벤트 처리
*
***********************************************************************/


/**********************************************************************
* Dataset 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명      : ds_cond_oncolumnchanged
 * 설명       	: ds_cond 값 변경 후 발생
 * params       : None
 * return Type  : None
 * 사용법      : this.ds_cond_oncolumnchanged();
 */
this.ds_cond_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	// 설문년월
	if(e.columnid == "YM") {
		// 설문목록 조회
		this.fn_transaction("selectSjList");
	}else if(e.columnid == "EMPNO") {
		var deptCode = this.div_search.div_EMP.DS_EMPNO.getColumn(0, "DEPT_CODE");

		if(this.comUtils.isNull(deptCode)) {
			deptCode = this.gfn_getDeptId();
		}
		obj.setColumn(0, "DEPT_CODE", deptCode);
				trace("empno  : "+e.newvalue+" ---- "+deptCode);
	}
	
}
/**********************************************************************
* Grid 관련 이벤트 처리
***********************************************************************/

/**********************************************************************
* 공통함수 처리
***********************************************************************/

/**********************************************************************
* Tab 관련 이벤트 처리
***********************************************************************/

/**********************************************************************
* Popup 관련 이벤트 처리
***********************************************************************/

/**********************************************************************
* 사용자 정의 함수
***********************************************************************/

/*
 * 함수명      : fn_addDtls
 * 설명       	: 설문 그리기 및 값 셋팅
 * params       : None
 * return Type  : None
 * 사용법      : this.fn_addDtls();
 */
this.fn_addDtls = function(nRow, dataset, rdo_dataset, div_back)
{
	var div_comp = this.div_comp;
	var openAt = dataset.getColumn(nRow, "OPEN_AT");
   
   // 설문여부에 따른 컴포넌트 위치 조정    
    if(openAt != "1") {
       var height = nexacro.toNumber(div_comp.height);
    }else {
       var height = nexacro.toNumber(this.div_comp2.height);
    }
     
    // div
	var top = (nRow * (height + 20));
	var objDiv = new Div("Div", "absolute", 0, top, 1029, height, null, null);
	objDiv.style.set_border(div_comp.style.border);   
      
   // 질문번호
	var objQno = new Static("Static", "absolute", div_comp.sta_no.left, div_comp.sta_no.top, div_comp.sta_no.width, div_comp.sta_no.height, div_comp.sta_question.right, div_comp.sta_no.bottom);
	objQno.set_wordwrap(this.div_comp.sta_no.wordwrap);
	objQno.style.set_align(div_comp.sta_no.style.align);
	objDiv.addChild("objQno_"+nRow, objQno);
	objQno.show();
    
   // 질문 -- 길이조절
	if(openAt != "1") {
	  var objQ = new Static("Static", "absolute", div_comp.sta_question.left, div_comp.sta_question.top, div_comp.sta_question.width, div_comp.sta_question.height, div_comp.sta_question.right, div_comp.sta_question.bottom);
	}else {
	  var objQ = new Static("Static", "absolute", div_comp.sta_question.left, div_comp.sta_question.top, div_comp.sta_question.width, div_comp.sta_question.height, 0, div_comp.sta_question.bottom);
	}
	objQ.set_wordwrap(this.div_comp.sta_question.wordwrap);
	objQ.style.set_align(div_comp.sta_no.style.align);
	objDiv.addChild("objDiv_"+nRow, objQ);
	objQ.show();
    
    // 답
	var objRadio = new Radio("Radio", "absolute", div_comp.rdo_answer.left, div_comp.rdo_answer.top, div_comp.rdo_answer.width, div_comp.rdo_answer.height, div_comp.rdo_answer.right, div_comp.rdo_answer.bottom);
	objDiv.addChild("objRadio_"+nRow, objRadio);
	objRadio.show();
     
     // 정답 박스
	var objAnswerBox = new Static("Static", "absolute", div_comp.sta_answerBox.left, div_comp.sta_answerBox.top, div_comp.sta_answerBox.width, div_comp.sta_answerBox.height, div_comp.sta_answerBox.right, div_comp.sta_answerBox.bottom);
	objAnswerBox.set_cssclass(div_comp.sta_answerBox.cssclass);
	objAnswerBox.set_text(div_comp.sta_answerBox.text);
	objAnswerBox.style.set_align(div_comp.sta_answerBox.style.align);
	objDiv.addChild("objA_"+nRow, objAnswerBox);
	objAnswerBox.show();
          
     // 정답
	var objAnswer = new Static("Static", "absolute", div_comp.sta_answer.left, div_comp.sta_answer.top, div_comp.sta_answer.width, div_comp.sta_answer.height, div_comp.sta_answer.right, div_comp.sta_answer.bottom);
	objAnswer.set_cssclass(div_comp.sta_answer.cssclass);
	objDiv.addChild("objAnswer_"+nRow, objAnswer);
	objAnswer.show();
     
     // OX 이미지
	var objImageViewer = new ImageViewer("ImageViewer", "absolute", div_comp.img_OX.left, div_comp.img_OX.top, div_comp.img_OX.width, div_comp.img_OX.height, div_comp.img_OX.right, div_comp.img_OX.bottom);
	objImageViewer.style.set_border(div_comp.img_OX.style.border);
	objImageViewer.set_stretch(div_comp.img_OX.stretch);
	objDiv.addChild("objImageViewer_"+nRow, objImageViewer);
	objImageViewer.show();
    
      // 해설내용 박스
	var objExprBox = new Static("Static", "absolute", div_comp.sta_exprBox.left, div_comp.sta_exprBox.top, div_comp.sta_exprBox.width, div_comp.sta_exprBox.height, div_comp.sta_exprBox.right, div_comp.sta_exprBox.bottom);
	objExprBox.set_cssclass(div_comp.sta_exprBox.cssclass);
	objExprBox.set_text(div_comp.sta_exprBox.text);
	objExprBox.style.set_align(div_comp.sta_exprBox.style.align);
	objDiv.addChild("objExprBox_"+nRow, objExprBox);
	objExprBox.show();
     
     // 해설내용
	var objExpr = new TextArea("TextArea", "absolute", div_comp.txt_exprCn.left, div_comp.txt_exprCn.top, div_comp.txt_exprCn.width, div_comp.txt_exprCn.height, div_comp.txt_exprCn.right, div_comp.txt_exprCn.bottom);
	objExpr.set_cssclass(div_comp.txt_exprCn.cssclass);
	objExpr.style.set_background(div_comp.txt_exprCn.style.background);
	objExpr.set_readonly(div_comp.txt_exprCn.readonly);
	objDiv.addChild("objExpr_"+nRow, objExpr);
	objExpr.set_wordwrap(div_comp.txt_exprCn.wordwrap);
	objExpr.show();
    
    // 값 셋팅
   var cnsrAt   = dataset.getColumn(nRow, "CNSR_AT");     // 정답여부
   var questNo  = dataset.getColumn(nRow, "QUEST_NO");    // 질문번호
   var questCn  = dataset.getColumn(nRow, "QUEST_CN");    // 질문내용
   var myAnswer = dataset.getColumn(nRow, "MY_ANSWER");   // 접속한 사번의 답
   var answer   = dataset.getColumn(nRow, "ANSWER");      // 정답
   var explnaCn = dataset.getColumn(nRow, "EXPLNA_CN");   // 해설내용
   
   // 정답여부에 따른 이미지
   //theme://images/'+imgTitle+'.png
   var imageSource = "";
   if(cnsrAt == "1") {
      imageSource = "theme://images/ico_O.png";
   }else if(cnsrAt == "0"){
      imageSource = "theme://images/ico_X.png";
   }
   
   // 오픈여부에 따른 컴포넌트 제어
    if(openAt == "1") {
		objExpr.set_visible(false);
		objExprBox.set_visible(false);
		objAnswer.set_visible(false);
		objAnswerBox.set_visible(false);
		objImageViewer.set_visible(false);
    }else {
		objRadio.set_readonly(true);
		objRadio.set_cssclass("rdo_WF_Readonly");
    }
     
    objQno.set_text(questNo+".");
	objQ.set_text(questCn);
	objRadio.set_innerdataset(rdo_dataset);
	objRadio.set_codecolumn("QUSTNR_ASWPER_SN");
	objRadio.set_datacolumn("ASWPER_CN");
	objRadio.set_value(myAnswer);
	objAnswer.set_text(answer);
	objExpr.set_value(explnaCn);
	objImageViewer.set_image(imageSource);

	// div_back 에 div_0  addChild
	div_back.addChild("div_" + nRow, objDiv);
	div_back.resetScroll();
	objDiv.show(); 
}

]]></Script>
  </Form>
</FDL>
