<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="SYM060100" classname="Pattern_03" left="0" top="0" width="1059" height="735" titletext="온라인 도움말" onload="SYM060100_onload" oninit="SYM060100_oninit">
    <Layouts>
      <Layout>
        <Div id="div_search" taborder="3" left="0" top="0" height="33" cssclass="div_WFSA_Box" right="28">
          <Layouts>
            <Layout>
              <Static id="Static16" taborder="0" text="회면ID" cssclass="sta_WFSA_Label" left="15" top="5" width="70" height="21"/>
              <Static id="Static01" taborder="3" text="15" visible="false" left="1014" top="0" height="31" style="background:#00ffff66;" width="15"/>
              <Static id="Static02" taborder="5" text="15" visible="false" left="269" top="0" width="15" height="31" style="background:#00ffff66;"/>
              <Static id="Static05" taborder="8" text="5" visible="false" left="355" top="1" right="666" height="31" style="background:#00ffff66;"/>
              <Static id="Static08" taborder="11" text="15" visible="false" left="0" top="0" width="15" height="31" style="background:#00ffff66;"/>
              <Static id="Static00" taborder="12" text="5" visible="false" left="87" top="1" right="934" height="31" style="background:#00ffff66;"/>
              <Static id="Static04" taborder="13" text="화면명" cssclass="sta_WFSA_Label" left="282" top="5" height="21" width="70"/>
              <Edit id="edt_pageId" taborder="14" maxlength="14" left="95" top="5" height="21" cssclass="edt_WF_Essential" width="174" readonly="true"/>
              <Edit id="edt_pageNm" taborder="16" maxlength="14" left="363" top="5" height="21" cssclass="edt_WF_Essential" width="179" readonly="true"/>
              <Button id="btn_popupPageSearch" taborder="18" cssclass="btn_WF_Search" left="520" top="5" height="21" onclick="div_search_btn_popupPageSearch_onclick" width="22"/>
              <Button id="btn_popupPage" taborder="19" cssclass="btn_WF_Search" left="247" top="5" height="21" onclick="div_search_btn_popupPage_onclick" width="22"/>
              <Static id="Static03" taborder="20" text="5" visible="false" left="60.16%" top="0" right="39.07%" height="31" style="background:#00ffff66;"/>
              <Static id="Static06" taborder="21" text="버전" cssclass="sta_WFSA_Label" left="551" top="5" right="411" height="21"/>
              <Static id="Static07" taborder="22" text="15" visible="false" left="541" top="0" right="473" height="31" style="background:#00ffff66;"/>
              <Combo id="cbo_verSn" taborder="23" codecolumn="CODE" datacolumn="CODE_NM" left="626" top="5" height="21" innerdataset="@ds_verSn" index="-1" onitemchanged="div_search_cbo_verSn_onitemchanged" cssclass="cmb_WF_Essential" width="168"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static01" taborder="56" text="15" visible="false" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;" right="13"/>
        <Static id="Static13" taborder="57" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" width="13" height="735" style="background:#d07b173c;align:center middle;" right="0"/>
        <Div id="div_work" taborder="59" left="0" top="32" style="padding:0 0 0 0;" scrollbars="none" right="0" bottom="17">
          <Layouts>
            <Layout>
              <Static id="Static21" taborder="0" text="10" visible="false" left="0%" top="1" right="28" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static04" taborder="1" text="도움말" cssclass="sta_WF_Title01" left="0" top="10" height="21" width="131"/>
              <Static id="Static10" taborder="2" text="5" visible="false" left="0%" top="30" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Grid id="grd_hpcmDtlsList" taborder="9" useinputpanel="false" autofittype="col" left="0" top="394" binddataset="ds_hpcmDtls" height="133" right="28">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="40"/>
                      <Column size="165"/>
                      <Column size="777"/>
                      <Column size="90"/>
                      <Column size="80"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="순번"/>
                      <Cell col="1" cssclass="Cellgrd_WF_HeadEssential" text="항목"/>
                      <Cell col="2" text="항목 설명"/>
                      <Cell col="3" text="수정자"/>
                      <Cell col="4" text="수정일자"/>
                    </Band>
                    <Band id="body">
                      <Cell displaytype="number" edittype="none" text="bind:SORT_ORDR"/>
                      <Cell col="1" displaytype="text" edittype="none" text="bind:IEM_NM" expandshow="hide" expandsize="20"/>
                      <Cell col="2" displaytype="text" edittype="none" style="align:left middle;" text="bind:IEM_DC"/>
                      <Cell col="3" text="bind:UPDUSR_NM"/>
                      <Cell col="4" displaytype="date" text="bind:UPDT_DT" calendardisplaynulltype="none"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="Static00" taborder="11" text="도움말 항목" cssclass="sta_WF_Title03" left="0" top="369" height="21" width="118"/>
              <Static id="Static41" taborder="69" text="10" visible="false" left="0" top="360" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static42" taborder="70" text="5" visible="false" left="0" top="389" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static46" taborder="101" text="10" visible="false" left="50.99%" top="35" right="48.06%" height="325" style="background:#1b3cd23c;align:center middle;"/>
              <Static id="Static09" taborder="103" cssclass="sta_WF_Labelbg" left="550" top="61" height="299" right="27"/>
              <Static id="Static08" taborder="120" text="5" visible="false" left="0" top="549" right="27" height="5" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static28" taborder="122" cssclass="sta_WF_Labelbg" left="94" top="554" height="27" right="27"/>
              <Static id="Static31" taborder="126" cssclass="sta_WF_Labelbg" left="94" top="580" height="88" right="27"/>
              <Static id="Static32" taborder="127" cssclass="sta_WF_Label" left="0" top="580" height="88" text="항목 설명" width="97"/>
              <Edit id="edt_iemNm" taborder="128" readonly="true" maxlength="16" left="99" top="557" height="21" width="925"/>
              <Static id="Static43" taborder="142" text="10" visible="false" left="0" top="528" right="29" height="10" style="background:#dc143c3c;align:center middle;"/>
              <Static id="Static44" taborder="143" text="도움말 항목 상세" cssclass="sta_WF_Title03" left="0" top="535" height="19" width="170"/>
              <Static id="Static38" taborder="147" text="10" visible="false" left="84.14%" top="-53" right="14.92%" height="19" style="background:#00ffff66;"/>
              <Static id="Static47" taborder="151" text="10" visible="false" left="0" top="676" right="29" height="10" style="background:#dc143c3c;align:center middle;"/>
              <ImageViewer id="img_fileView" taborder="154" left="0" top="35" height="324" stretch="fixaspectratio" width="540"/>
              <Button id="btn_qnaLink" taborder="158" text="QnA 바로가기" cssclass="btn_WF_Link" visible="true" top="11" height="19" width="102" right="27" onclick="div_work_btn_qnaLink_onclick"/>
              <TextArea id="txa_iemDc" taborder="159" left="99" top="583" height="83" readonly="true" width="925"/>
              <TextArea id="txa_desc" taborder="160" left="553" top="64" height="293" enable="true" readonly="true" width="475"/>
              <Button id="btn_imgZoom" taborder="185" text="확대" visible="true" left="476" top="11" height="19" width="64" onclick="div_work_btn_imgZoom_onclick"/>
              <Button id="btn_hpcmNext" taborder="186" text="다음" visible="true" top="11" height="19" width="62" onclick="div_work_btn_hpcmNext_onclick" right="139"/>
              <Static id="Static02" taborder="187" text="10" visible="false" left="919" top="11" right="128" height="19" style="background:#00ffff66;"/>
              <Button id="btn_hpcmPrev" taborder="188" text="이전" visible="true" top="11" height="19" width="62" onclick="div_work_btn_hpcmPrev_onclick" right="203"/>
              <Static id="Static29" taborder="189" text="항목명" cssclass="sta_WF_Label" left="0" top="554" height="27" width="97"/>
              <Button id="btn_downAtchFile" taborder="190" text="다운로드" cssclass="btn_WF_Process" visible="true" left="388" top="11" height="19" width="82" onclick="div_work_btn_downAtchFile_onclick"/>
              <Static id="Static01" taborder="191" cssclass="sta_WF_Labelbg" left="550" top="35" height="27" right="27"/>
              <Edit id="edt_hpcmSj" taborder="192" readonly="true" maxlength="16" left="553" top="38" height="21" width="475"/>
              <ImageViewer id="img_fileZoom" taborder="193" stretch="fixaspectratio" left="13" top="40" height="324" visible="false" enable="false" enableevent="false" width="540" onclick="div_work_img_fileZoom_onclick"/>
              <Button id="btn_helpManage" taborder="194" text="도움말관리" cssclass="btn_WF_Link" top="11" height="19" width="82" onclick="div_work_btn_helpManage_onclick" left="300"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_hpcmVer" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="VER_SN" type="BIGDECIMAL" size="4"/>
          <Column id="PAGE_ID" type="STRING" size="40"/>
          <Column id="FILE_SN" type="BIGDECIMAL" size="21"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGIST_DT" type="STRING" size="255"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="STRING" size="255"/>
          <Column id="PAGE_NM" type="STRING" size="256"/>
          <Column id="PAGE_URL" type="STRING" size="256"/>
          <Column id="MENU_ID" type="BIGDECIMAL" size="10"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_hpcm" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_hpcm_onrowposchanged">
        <ColumnInfo>
          <Column id="HPCM_ID" type="STRING" size="14"/>
          <Column id="VER_SN" type="BIGDECIMAL" size="4"/>
          <Column id="FILE_ORDR" type="BIGDECIMAL" size="3"/>
          <Column id="HPCM_SJ" type="STRING" size="100"/>
          <Column id="JOB_DC" type="STRING" size="255"/>
          <Column id="SORT_ORDR" type="BIGDECIMAL" size="9"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGIST_DT" type="STRING" size="255"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="STRING" size="255"/>
          <Column id="PAGE_ID" type="STRING" size="40"/>
          <Column id="FILE_SN" type="BIGDECIMAL" size="20"/>
          <Column id="PAGE_NM" type="STRING" size="100"/>
          <Column id="PAGE_URL" type="STRING" size="200"/>
          <Column id="MENU_ID" type="BIGDECIMAL" size="10"/>
          <Column id="FILE_STRE_COURS" type="STRING" size="2000"/>
          <Column id="STRE_FILE_NM" type="STRING" size="255"/>
          <Column id="ORGINL_FILE_NM" type="STRING" size="255"/>
          <Column id="FILE_EXTSN" type="STRING" size="20"/>
          <Column id="FILE_MG" type="STRING" size="8"/>
          <Column id="FILE_TY" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_hpcmDtls" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HPCM_ID" type="BIGDECIMAL" size="18"/>
          <Column id="HPCM_SN" type="BIGDECIMAL" size="14"/>
          <Column id="IEM_NM" type="STRING" size="300"/>
          <Column id="IEM_DC" type="STRING" size="4000"/>
          <Column id="SORT_ORDR" type="BIGDECIMAL" size="8"/>
          <Column id="USE_AT" type="STRING" size="1"/>
          <Column id="REGISTER_ID" type="STRING" size="12"/>
          <Column id="REGIST_DT" type="STRING" size="255"/>
          <Column id="UPDUSR_ID" type="STRING" size="12"/>
          <Column id="UPDT_DT" type="STRING" size="255"/>
          <Column id="UPDUSR_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PAGE_ID" type="STRING" size="40"/>
          <Column id="PAGE_NM" type="STRING" size="256"/>
          <Column id="PAGE_URL" type="STRING" size="256"/>
          <Column id="VER_SN" type="STRING" size="256"/>
          <Column id="MENU_ID" type="BIGDECIMAL" size="10"/>
          <Column id="HPCM_ID" type="STRING" size="14"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_hpcmVer</Col>
            <Col id="colId">VER_SN</Col>
            <Col id="func">[Undefined]</Col>
            <Col id="msgId">[버전]버전일련번호</Col>
            <Col id="notNull">Y</Col>
            <Col id="nlength">7</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="PK">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcmVer</Col>
            <Col id="colId">PAGE_ID</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">[버전]화면ID</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcm</Col>
            <Col id="colId">VER_SN</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">[도움말]버전일련번호</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcm</Col>
            <Col id="colId">PAGE_ID</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">[도움말]화면ID</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcm</Col>
            <Col id="colId">HPCM_SJ</Col>
            <Col id="msgId">[도움말]도움말제목</Col>
            <Col id="notNull">N</Col>
            <Col id="nlength">100</Col>
            <Col id="lengthChkGb">LE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcm</Col>
            <Col id="colId">JOB_DC</Col>
            <Col id="msgId">[도움말]업무설명</Col>
            <Col id="notNull">N</Col>
            <Col id="nlength">65535</Col>
            <Col id="lengthChkGb">LE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcmDtls</Col>
            <Col id="colId">HPCM_ID</Col>
            <Col id="msgId">[도움말상세]도움말ID</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcmDtls</Col>
            <Col id="colId">IEM_NM</Col>
            <Col id="msgId">[도움말상세]항목명</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_hpcmDtls</Col>
            <Col id="colId">IEM_DC</Col>
            <Col id="msgId">[도움말상세]항목설명</Col>
            <Col id="notNull">N</Col>
            <Col id="nlength">4000</Col>
            <Col id="lengthChkGb">LE</Col>
          </Row>
          <Row>
            <Col id="compId">ds_cond</Col>
            <Col id="colId">PAGE_ID</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">[온라인도움말관리]화면ID</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_verSn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="CODE_CN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond02" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HPCM_ID" type="BIGDECIMAL" size="18"/>
          <Column id="HPCM_SN" type="BIGDECIMAL" size="14"/>
          <Column id="USE_AT" type="STRING" size="1"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_cond01" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HPCM_ID" type="STRING" size="40"/>
          <Column id="VER_SN" type="STRING" size="7"/>
          <Column id="PAGE_ID" type="STRING" size="256"/>
          <Column id="PAGE_NM" type="STRING" size="256"/>
          <Column id="MENU_ID" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_page" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PAGE_ID" type="STRING" size="40"/>
          <Column id="PAGE_NM" type="STRING" size="100"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item1" compid="div_search.edt_pageId" propid="value" datasetid="ds_cond" columnid="PAGE_ID"/>
      <BindItem id="item2" compid="div_search.edt_pageNm" propid="value" datasetid="ds_cond" columnid="PAGE_NM"/>
      <BindItem id="item12" compid="div_work.edt_iemNm" propid="value" datasetid="ds_hpcmDtls" columnid="IEM_NM"/>
      <BindItem id="item0" compid="div_work.edt_hpcmSj" propid="value" datasetid="ds_hpcm" columnid="HPCM_SJ"/>
      <BindItem id="item3" compid="div_work.txa_iemDc" propid="value" datasetid="ds_hpcmDtls" columnid="IEM_DC"/>
      <BindItem id="item4" compid="div_work.txa_desc" propid="value" datasetid="ds_hpcm" columnid="JOB_DC"/>
      <BindItem id="item5" compid="div_search.cbo_verSn" propid="value" datasetid="ds_cond" columnid="VER_SN"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : SYM060100
 * 화면명   : 온라인 도움말
 * 화면설명 : 온라인 도움말을 조회한다.
 * 작성일   : 2015.12.30
 * 작성자   : 고진호
 * 수정이력 :
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *
 ***********************************************************************
 */

/***********************************************************************
 * Script Include
 ***********************************************************************/
include "lib::comInclude.xjs";
include "lib::comUpDownUtils.xjs";	// 메인화면 파일 업로드/다운로드 라이브러리

this.File_UpDownManager = null;

/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.SYM060100_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	// Form 초기화
	this.fn_init_form();

	// DataSet 초기화
	this.fn_init_dataset();
}

this.SYM060100_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// 파일 메니저 설정
	var fileConfig = {
		onSuccess : this.fn_onFileSuccess	// 전송 성공 이벤트 핸들러
	};
	this.File_UpDownManager = new this.fileUpDownManager(this, "SYS", "COM");
	
	this.File_UpDownManager.init(fileConfig); 
	
	this.fn_setAtchFileView();
	this.fn_loadCombo();
	this.fn_getLinkParam();
}


/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/
/*
 * 함수명  	: fn_init_form
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_init_form();
 */
this.fn_init_form = function()
{
	// 시스템 공통으로 Form을 Initialize 한다.
	this.gfn_initForm(this);
}

/*
 * 함수명  	: fn_init_dataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_init_dataset();
 */
this.fn_init_dataset = function()
{
	// 조건에 사용되는 Dataset 초기화
	this.gfn_initCondDs(this, this.div_search);

	if(this.ds_cond.rowcount == 0) this.ds_cond.addRow();
}

this.fn_loadCombo = function()
{
}

this.fn_getLinkParam = function()
{
	var pageUrl = "com_sym_ohm::SYM060100.xfdl";
	this.fn_setParam(this.gfn_getLinkParam(pageUrl));
	
	//pageUrl 데이터 삭제
	var strExpr1 = "PAGE_URL=='" + pageUrl + "'";
	var findRow1 = application.gds_mdiParam.findRowExpr(strExpr1);
	application.gds_mdiParam.deleteRow(findRow1);
}

this.fn_setParam = function (sXml)
{
	if (this.comUtils.isNull(sXml)) {
		return;
	}
	var dsTemp = new Dataset();
	var loadCnt = dsTemp.loadXML(sXml);
	if (loadCnt > 0) {
		if (!this.comUtils.isNullEmpty(dsTemp.getColumn(0, "PAGE_ID"))
			|| !this.comUtils.isNullEmpty(dsTemp.getColumn(0, "MENU_ID"))) {
			if (this.ds_cond.rowcount == 0) this.ds_cond.addRow();
			this.ds_cond.setColumn(0, "PAGE_ID", dsTemp.getColumn(0, "PAGE_ID"));		//화면ID
			this.ds_cond.setColumn(0, "PAGE_NM", dsTemp.getColumn(0, "PAGE_NM"));		//화면명
			this.ds_cond.setColumn(0, "PAGE_URL", dsTemp.getColumn(0, "PAGE_URL"));		//화면 경로
			this.ds_cond.setColumn(0, "VER_SN", dsTemp.getColumn(0, "VER_SN"));			//버전정보
			this.ds_cond.setColumn(0, "MENU_ID", dsTemp.getColumn(0, "MENU_ID"));		//메뉴ID
			this.ds_cond.setColumn(0, "HPCM_ID", dsTemp.getColumn(0, "HPCM_ID"));		//HPCM_ID
			
			//화면ID를 기준으로 PAGE_ID를 구하도록 추가
			if (this.comUtils.isNullEmpty(this.ds_cond.getColumn(0, "PAGE_ID"))
			 && !this.comUtils.isNullEmpty(this.ds_cond.getColumn(0, "MENU_ID"))) {
				//페이지ID 구하기
				this.fn_pageSearch();
			}
			this.fn_search();
		}
	}
}

//--------------------------------------------------------
// 화면의 Combo 에 데이터를 불러온다. (Non-공통코드)
//--------------------------------------------------------
this.fn_loadComboNonCodeTbl = function (strDs, obj)
{
	var comboParams = [
			["ds_verSn", 	"ds_cond", "1", "", "hsco/com/sym/ohm/SYM060100/HpcmVerComboList.do", 0]	
		];
	this.ds_verSn.clearData();
	this.gfn_comboLoadNonCodeTbl(comboParams, this.fn_callbackAfter, strDs, obj);
}


this.fn_callbackAfter = function (svcId)
{
	switch (svcId) {
		case "ds_verSn" :
			/* if (this.ds_verSn.rowcount > 0) {
				var verSn = this.ds_cond.getColumn(0, "VER_SN");
				var nRow = 0;
				if (!this.comUtils.isNull(verSn)) {
					nRow = this.ds_verSn.findRow("CODE", verSn);
					nRow = (nRow == -1) ? 0 : nRow;
				}
				//this.div_search.cbo_verSn.set_index(nRow);
			}
			
			var strVerSn = this.div_search.cbo_verSn.value;
			var strPageId = this.ds_cond.getColumn(0, "PAGE_ID");
			var strMenuId = this.ds_cond.getColumn(0, "MENU_ID");
			//var strHpcmId = this.ds_cond.getColumn(0, "HPCM_ID");
	
			if(this.ds_cond01.rowcount == 0) this.ds_cond01.addRow();
			this.ds_cond01.setColumn(0, "VER_SN", strVerSn == "undefined" ? "" : strVerSn);
			this.ds_cond01.setColumn(0, "PAGE_ID", strPageId == "undefined" ? "" : strPageId);
			this.ds_cond01.setColumn(0, "MENU_ID", strMenuId == "undefined" ? "" : strMenuId);
			//this.ds_cond01.setColumn(0, "HPCM_ID", strHpcmId);
				
			this.fn_hpcmSearch();
			break;	 
			*/
			var strVerSn = this.ds_cond.getColumn(0, "VER_SN");
			var strPageId = this.ds_cond.getColumn(0, "PAGE_ID");
			var strMenuId = this.ds_cond.getColumn(0, "MENU_ID"); 
			
			if(this.ds_cond01.rowcount == 0) this.ds_cond01.addRow();
			this.ds_cond01.setColumn(0, "VER_SN", strVerSn == "undefined" ? "" : strVerSn);
			this.ds_cond01.setColumn(0, "PAGE_ID", strPageId == "undefined" ? "" : strPageId);
			this.ds_cond01.setColumn(0, "MENU_ID", strMenuId == "undefined" ? "" : strMenuId);
			this.fn_hpcmSearch();
			break;	 
	}
}

/***********************************************************************
* Transaction 영역 시작
************************************************************************/

/***********************************************************************
 * Transaction 관련 이벤트 핸들러
 **********************************************************************/
/*
 * 함수명  		: fn_search
 * 설명 		: 도움말 버전 조회
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
	this.ds_hpcm.clearData();
	this.ds_hpcmDtls.clearData();

	if (this.ds_cond.rowcount < 1) {
		this.ds_cond.addRow();
	}
	
	if (this.comUtils.isNullEmpty(this.ds_cond.getColumn(0, "PAGE_ID"))) {
		this.gfn_message("comm.항목.입력.을", "화면ID");
        return;
    }
	this.fn_loadComboNonCodeTbl();
	
}

/*
 * 함수명  		: fn_pageSearch
 * 설명 		: 도움말 버전 조회
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_pageSearch();
 */
this.fn_pageSearch = function()
{
	//화면ID값을 기준으로 검색
	this.fn_transaction("HpcmPageSearch");
}



/*
 * 함수명  		: fn_hpcmSearch
 * 설명 		: 도움말 조회
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_hpcmSearch();
 */
this.fn_hpcmSearch = function()
{
	this.ds_hpcm.clearData();
	this.ds_hpcmDtls.clearData();
	this.fn_transaction("SYM060101List");
}

/*
 * 함수명  		: fn_hpcmDtlsSearch
 * 설명 		: 도움말 상세  조회
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_hpcmDtlsSearch();
 */
this.fn_hpcmDtlsSearch = function()
{
	this.ds_hpcmDtls.clearData();
	this.fn_transaction("SYM060102List");

}

/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/


/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	var argument     = "";
	var callbackFunc = "fn_callBack";
	var showProgress = true;
	var bAsync       = true;
	
	switch (strSvcId) {
		case "SYM060101List":	//온라인 도움말  목록 조회
			var sController   	= "hsco/com/sym/ohm/SYM060100/SYM060101List.do";
			var sInDatasets   	= "input1=ds_cond01";
			var sOutDatasets  	= "ds_hpcm=output1";
			break;
		case "SYM060102List":	//온라인 도움말 상세정보 목록 조회
			var sController   	= "hsco/com/sym/ohm/SYM060100/SYM060102List.do";
			var sInDatasets   	= "input1=ds_cond02";
			var sOutDatasets  	= "ds_hpcmDtls=output1";
			break;
		case "HpcmPageSearch" :
			var sController   	= "hsco/com/sym/ohm/SYM060100/HpcmPageSearch.do";
			var sInDatasets   	= "input1=ds_cond";
			var sOutDatasets  	= "ds_page=output1";
			bAsync = false;
			break;
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets, argument, callbackFunc, showProgress, bAsync);
}


 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		:
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	// 오류 및 성공 메시지를 화면에 보여준다.
	this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);

	if (nErrorCode != 0){
		// 오류 메시지를 보여주는 동작 외에 처리할 내용이 있으면 아래에 기술.
		// 처리할 내용이 없다면, switch 문은 생략합니다.
		switch (strSvcId) {
			case "SYM060101List":	//온라인 도움말 목록 조회
				break;
			case "SYM060102List":	//온라인 도움말 상세정보 목록 조회
				break;
			case "HpcmPageSearch":	//MenuId를 통해서 PageId를 검색
				break;
		}
	} else {
		// 성공 메시지를 보여주는 동작 외에 처리할 내용이 있으면 아래에 기술.
		// 처리할 내용이 없다면, switch 문은 생략합니다.

		switch (strSvcId) {
			case "SYM060101List": 	// 온라인 도움말 목록 조회
				//도움말 조회이후 HPCM_ID로 설정
				if (this.ds_hpcm.rowcount > 0) {
					var strHpcmId = this.ds_cond.getColumn(0, "HPCM_ID");
					var nRow = 0;
					if (!this.comUtils.isNull(strHpcmId)) {
						nRow = this.ds_hpcm.findRow("HPCM_ID", strHpcmId);
						nRow = (nRow == -1) ? 0 : nRow;
					}
					this.ds_hpcm.set_rowposition(nRow);
				}
				
				break;
			case "SYM060102List": 	// 온라인 도움말 상세정보 목록 조회
				break;
			case "HpcmPageSearch":	//MenuId를 통해서 PageId를 검색
				if (this.ds_page.rowcount > 0) {
					if (this.ds_cond.rowcount == 0) this.ds_cond.addRow();
					if (this.comUtils.isNullEmpty(this.ds_cond.getColumn(0, "PAGE_ID"))) {
						this.ds_cond.setColumn(0, "PAGE_ID", this.ds_page.getColumn(0, "PAGE_ID"));
						this.ds_cond.setColumn(0, "PAGE_NM", this.ds_page.getColumn(0, "PAGE_NM"));
					}
				} 
				break;
		}
	}
}


/**********************************************************************
* Popup Callback 영역
***********************************************************************/

 /*
 * 함수명  		: fn_popupCallBack
 * 설명 		: Popup Callback 처리
 * params  		: sPopupId    : 팝업 ID
 *                sReturn  : 팝업 처리 결과(dataset.saveXML())
 * return Type 	: None
 * 사용법		:
 */
this.fn_popupCallBack = function(sPopupId, sReturn)
{
	switch(sPopupId) {
		case "pagePopup":	// 화면목록 팝업 콜백
			if(sReturn != null && sReturn.length > 0) {
				this.fn_setParam(sReturn);
				/* var dsTemp = new Dataset();
				dsTemp.loadXML(sReturn);
				this.ds_cond.setColumn(0, "PAGE_ID", dsTemp.getColumn(0, "PAGE_ID"));		//화면ID
				this.ds_cond.setColumn(0, "PAGE_NM", dsTemp.getColumn(0, "PAGE_NM"));		//화면명
				this.ds_cond.setColumn(0, "PAGE_URL", dsTemp.getColumn(0, "PAGE_URL"));		//화면 경로
				this.fn_search(); */
			}
			break;
	}
}


/***********************************************************************
* Transaction 영역 끝
************************************************************************/
/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/

//버전 콤보박스 Item 변경 이벤트
this.div_search_cbo_verSn_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	var strVerSn = e.postvalue;
	var strPageId = this.ds_cond.getColumn(0, "PAGE_ID");
	var strMenuId = this.ds_cond.getColumn(0, "MENU_ID");
	
	if(this.ds_cond01.rowcount == 0) this.ds_cond01.addRow();
	this.ds_cond01.setColumn(0, "VER_SN", strVerSn == "undefined" ? "" : strVerSn);
	this.ds_cond01.setColumn(0, "PAGE_ID", strPageId == "undefined" ? "" : strPageId);
	this.ds_cond01.setColumn(0, "MENU_ID", strMenuId);
	//this.ds_cond01.setColumn(0, "HPCM_ID", undefined);

	this.fn_hpcmSearch();	//도움말 검색
}

			
//확대이미지뷰어 클릭 이벤트
this.div_work_img_fileZoom_onclick = function(obj:ImageViewer,  e:nexacro.ClickEventInfo)
{
	obj.set_visible(false);
	obj.set_enable(false);
	obj.set_enableevent(false);
}

//확대버튼 클릭 이벤트
this.div_work_btn_imgZoom_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nSx = 1010;
	var nSy = 626;
	this.div_work.img_fileZoom.resize(nSx, nSy);
	this.div_work.img_fileZoom.set_image(this.div_work.img_fileView.image);
	this.div_work.img_fileZoom.set_visible(true);
	this.div_work.img_fileZoom.set_enable(true);
	this.div_work.img_fileZoom.set_enableevent(true);
}

//도움말 이전 버튼 클릭 이벤트
this.div_work_btn_hpcmPrev_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nCnt = this.ds_hpcm.rowcount;
	var nCurRow = this.ds_hpcm.rowposition;
	
	if (nCnt == 0) return;
	if (nCurRow > 0) {
		this.ds_hpcm.set_rowposition(nCurRow - 1);
	} else {
		this.gfn_message("info.데이터.없음");
	}
}

//도움말 다음 버튼 클릭 이벤트
this.div_work_btn_hpcmNext_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nCnt = this.ds_hpcm.rowcount;
	var nCurRow = this.ds_hpcm.rowposition;
	if (nCnt == 0) return;
	if (nCurRow < (nCnt-1)) {
		this.ds_hpcm.set_rowposition(nCurRow + 1);
	} else {
		this.gfn_message("info.데이터.없음");
	}
}

//Q&A 링크 버튼 클릭 이벤트
this.div_work_btn_qnaLink_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	// 도움말 Dataset 관련(move Form)
	var dsTemp = new Dataset();
	var nRow;
	if (this.ds_hpcm.rowcount > 0) {
		dsTemp.copyData(this.ds_hpcm);
		dsTemp.clearData();
		nRow = dsTemp.addRow();
		dsTemp.copyRow(nRow, this.ds_hpcm, this.ds_hpcm.rowposition);
	} else  {
		dsTemp.copyData(this.ds_cond);
		dsTemp.clearData();
		nRow = dsTemp.addRow();
		dsTemp.copyRow(nRow, this.ds_cond, this.ds_cond.rowposition);
	}
	var pageUrl = "com_sym_ohm::SYM060300.xfdl";
	var param = dsTemp.saveXML();
	
    this.gfn_Link2Page(pageUrl, param);
}


//첨부파일 다운로드 버튼 이벤트
this.div_work_btn_downAtchFile_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_downloadAtchFile();
}


//도움말 데이터셋 row 변경 이벤트 
this.ds_hpcm_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	
	var strHpcmId = this.ds_hpcm.getColumn(this.ds_hpcm.rowposition, "HPCM_ID");
	
	if(this.ds_cond02.rowcount == 0) this.ds_cond02.addRow();
	this.ds_cond02.setColumn(0, "HPCM_ID", strHpcmId);
	this.fn_hpcmDtlsSearch();
	this.fn_setAtchFileView();

}

/***********************************************************************
 * 설명: 팝업버튼 이벤트
 ************************************************************************/
 
//메뉴화면 팝업
this.div_search_btn_popupPage_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var param = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		arg_1 : "1",   // 0->명칭, 1->코드
		arg_2 : null,
		arg_3 : null
	};
	this.gfn_popup("pagePopup", 710, 580, "화면목록 조회", param, "com::COM010600_P01.xfdl", "fn_popupCallBack", true);
}


//화면검색 팝업
this.div_search_btn_popupPageSearch_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var param = {
		arg_0 : this,  //==> 필수, 팝업을 호출하는 form을 참조할 수 있도록 팝업에 Argument로 넘겨준다. (반드시 기술해야 함.)
		arg_1 : "0",   // 0->명칭, 1->코드
		arg_2 : null,
		arg_3 : null
	};
	this.gfn_popup("pagePopup", 710, 580, "화면목록 조회", param, "com::COM010600_P01.xfdl", "fn_popupCallBack", true);
}


/***********************************************************************
 * 설명: 파일 이벤트
 ************************************************************************/
// 첨부파일 보기(다운로드)
this.btn_downAtchFile_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_downloadAtchFile();
}

/***********************************************************************
* 사용자 정의 함수
************************************************************************/

 /**
 * 첨부파일 영역 처리
 */
this.fn_setAtchFileView = function(){

	// 첨부파일이 있으면 첨부파일의 검색버튼을 숨기고, 파일삭제, 파일보기 버튼 활성화 처리
	
	var atchPath = this.ds_hpcm.getColumn(this.ds_hpcm.rowposition, "STRE_FILE_NM");			// 파일 경로(파일일련번호)
	var atchFile = this.ds_hpcm.getColumn(this.ds_hpcm.rowposition, "ORGINL_FILE_NM");			// 파일명
	var atchFileOrdr = this.ds_hpcm.getColumn(this.ds_hpcm.rowposition, "FILE_ORDR");			// 파일명

	var hasAtchPath = this.comUtils.isNullEmpty(atchPath) ? false : true;
	var hasAtchFile = this.comUtils.isNullEmpty(atchFile) ? false : true;
	var hasAtchFileOrdr = this.comUtils.isNullEmpty(atchFileOrdr) ? false : true;
	
	this.div_work.btn_downAtchFile.set_enable(hasAtchPath && hasAtchFileOrdr);					// 파일보기(다운로드)
	this.div_work.btn_imgZoom.set_enable(hasAtchPath && hasAtchFileOrdr);						// 확대버튼
	this.fn_viewAtchFile(this.ds_hpcm, this.ds_hpcm.rowposition, this.div_work.img_fileView);	//이미지파일보기
}


/*
 * 함수명  		: fn_addAtchFile
 * 설명 		: 업로드 파일선택
 * params  		: isMulti   true(다건), false(단건)
 * return Type 	: None
 * 사용법		: this.fn_addAtchFile();
 */
this.fn_addAtchFile = function(isMulti){
	var allowFile = null;//["txt"];	// 선택 허용 파일유형 - Confilg에서 설정이 가능하나 선택시에도 처리가능하게
	var useMultiSelect = isMulti;
	this.File_UpDownManager.addFiles(allowFile, useMultiSelect);
}


/**
 * 함수명  		: fn_onFileSuccess 파일 업로드 성공 이벤트 핸들러
 * 설명 		: 파일 업로드 성공
 * params  		: type 실행구분(ExtFileUpload/ExtFileDownload), e 발생이벤트
 * return Type 	: None
 * 사용법		: this.fn_onFileSuccess();
 */
this.fn_onFileSuccess = function(type, e){
	if(type == this.File_UpDownManager.TYPE_DOWNLOADER){
		this.gfn_message("success.파일.다운로드.성공");
	}
}


/**
 * 함수명  		: fn_downloadAtchFile
 * 설명 		: 온라인 도움말 첨부파일 보기(다운로드)
 * params  		: null
 * return Type 	: None
 * 사용법		: this.fn_downloadAtchFile();
 */
this.fn_downloadAtchFile = function(){
	var fileSn = this.ds_hpcm.getColumn(this.ds_hpcm.rowposition, "FILE_SN");			// 파일일련번호(파일경로)
	var fileOrder = this.ds_hpcm.getColumn(this.ds_hpcm.rowposition, "FILE_ORDR");
	var fileName =this.ds_hpcm.getColumn(this.ds_hpcm.rowposition, "ORGINL_FILE_NM");	// 실제 파일명
	
	this.File_UpDownManager.download(fileSn, fileOrder, fileName);
}

//첨부파일에 따른 이미지URL 설정
this.fn_viewAtchFile = function(ds, row, iv_file) {
	var fileExtsn = ds.getColumn(row, "FILE_EXTSN");
	var fileSn = ds.getColumn(row, "FILE_SN");			// atchFileInfArr[0];	// 파일일련번호(파일경로)
	var fileOrder = ds.getColumn(row, "FILE_ORDR");	// atchFileInfArr.length > 2 ? atchFileInfArr[1] : "";	// 파일 순차번호
	var fileType = ds.getColumn(row, "FILE_TY");  // 파일 타입
	iv_file.set_image("");
	if(!this.comUtils.isNullEmpty(fileType) && (fileType.indexOf("image/")>-1) 
		&& !this.comUtils.isNullEmpty(fileSn) && !this.comUtils.isNullEmpty(fileOrder)){
		var strUrl = application.gv_host + "hsco/cmm/download/viewImage.do";
		var params = "?FILE_SN=" + fileSn + "&FILE_ORDR=" + fileOrder;
		iv_file.set_image(strUrl + params);
	}
} 


/***********************************************************************
 * 설명: 신규처리
 ************************************************************************/
this.fn_insert= function()
{
	if (this.gfn_message("comm.행위여부", "초기화")) {
		this.ds_hpcmDtls.clearData();
		this.ds_hpcm.clearData();
		this.ds_verSn.clearData();
		this.ds_cond02.clearData();
		this.ds_cond01.clearData();
		this.ds_cond.clearData();
		this.File_UpDownManager.cancelAllFile();
	}
}


/***********************************************************************
 * 설명: 취소처리
 ************************************************************************/
this.fn_cancel= function()
{
	this.ds_hpcmDtls.reset();
	this.ds_hpcm.reset();
	this.File_UpDownManager.cancelAllFile();
}

/***********************************************************************
 * 설명: 종료처리
 ************************************************************************/
this.fn_close = function(){
	this.close();
}

/***********************************************************************
 * 설명: 삭제처리
 ************************************************************************/
this.fn_delete =  function()
{
}

/***********************************************************************
 * 설명: 저장처리
 ************************************************************************/
this.fn_save = function()
{
}

//온라인 도움말 관리 링크
this.div_work_btn_helpManage_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	// 도움말 Dataset 관련(move Form)
	var dsTemp = new Dataset();
	var nRow;
	if (this.ds_hpcm.rowcount > 0) {
		dsTemp.copyData(this.ds_hpcm);
		dsTemp.clearData();
		nRow = dsTemp.addRow();
		dsTemp.copyRow(nRow, this.ds_hpcm, this.ds_hpcm.rowposition);
	} else  {
		dsTemp.copyData(this.ds_cond);
		dsTemp.clearData();
		nRow = dsTemp.addRow();
		dsTemp.copyRow(nRow, this.ds_cond, this.ds_cond.rowposition);
	}
	var pageUrl = "com_sym_ohm::SYM060200.xfdl";
	var param = dsTemp.saveXML();
	
    this.gfn_Link2Page(pageUrl, param);
}
]]></Script>
  </Form>
</FDL>
